(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(lt,x,P)=>{"use strict";P.d(x,{nm:()=>en});var p=P(5813),O=(P(5e3),P(3692),P(5867),P(5861)),H=P(9681),J=P(4859),Z=P(2090),Q=P(1877);const K=new Map,ie={activated:!1,tokenObservers:[]},he={initialized:!1,enabled:!1};function st(Xe){return K.get(Xe)||ie}function Ye(Xe,Ue){K.set(Xe,Ue)}function ze(){return he}class et{constructor(Ue,pt,Rt,Gt,sn){if(this.operation=Ue,this.retryPolicy=pt,this.getWaitDuration=Rt,this.lowerBound=Gt,this.upperBound=sn,this.pending=null,this.nextErrorWaitInterval=Gt,Gt>sn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Ue){var pt=this;return(0,O.Z)(function*(){pt.stop();try{pt.pending=new Z.BH,yield function Te(Xe){return new Promise(Ue=>{setTimeout(Ue,Xe)})}(pt.getNextRun(Ue)),pt.pending.resolve(),yield pt.pending.promise,pt.pending=new Z.BH,yield pt.operation(),pt.pending.resolve(),yield pt.pending.promise,pt.process(!0).catch(()=>{})}catch(Rt){pt.retryPolicy(Rt)?pt.process(!1).catch(()=>{}):pt.stop()}})()}getNextRun(Ue){if(Ue)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const pt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),pt}}}const ke=new Z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function de(Xe){if(!st(Xe).activated)throw ke.create("use-before-activation",{appName:Xe.name})}function Fe(Xe,Ue){return _e.apply(this,arguments)}function _e(){return(_e=(0,O.Z)(function*({url:Xe,body:Ue},pt){const Rt={"Content-Type":"application/json"},Gt=pt.getImmediate({optional:!0});if(Gt){const to=yield Gt.getHeartbeatsHeader();to&&(Rt["X-Firebase-Client"]=to)}const sn={method:"POST",body:JSON.stringify(Ue),headers:Rt};let fr,Br;try{fr=yield fetch(Xe,sn)}catch(to){throw ke.create("fetch-network-error",{originalErrorMessage:to.message})}if(200!==fr.status)throw ke.create("fetch-status-error",{httpStatus:fr.status});try{Br=yield fr.json()}catch(to){throw ke.create("fetch-parse-error",{originalErrorMessage:to.message})}const mr=Br.ttl.match(/^([\d.]+)(s)$/);if(!mr||!mr[2]||isNaN(Number(mr[1])))throw ke.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Br.ttl}`});const mi=1e3*Number(mr[1]),No=Date.now();return{token:Br.attestationToken,expireTimeMillis:No+mi,issuedAtTimeMillis:No}})).apply(this,arguments)}function Sn(Xe,Ue){const{projectId:pt,appId:Rt,apiKey:Gt}=Xe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${pt}/apps/${Rt}:exchangeDebugToken?key=${Gt}`,body:{debug_token:Ue}}}const kt="firebase-app-check-store";let lr=null;function Vn(){return lr||(lr=new Promise((Xe,Ue)=>{try{const pt=indexedDB.open("firebase-app-check-database",1);pt.onsuccess=Rt=>{Xe(Rt.target.result)},pt.onerror=Rt=>{var Gt;Ue(ke.create("storage-open",{originalErrorMessage:null===(Gt=Rt.target.error)||void 0===Gt?void 0:Gt.message}))},pt.onupgradeneeded=Rt=>{0===Rt.oldVersion&&Rt.target.result.createObjectStore(kt,{keyPath:"compositeKey"})}}catch(pt){Ue(ke.create("storage-open",{originalErrorMessage:pt.message}))}}),lr)}function Ar(){return(Ar=(0,O.Z)(function*(Xe,Ue){const Rt=(yield Vn()).transaction(kt,"readwrite"),sn=Rt.objectStore(kt).put({compositeKey:Xe,value:Ue});return new Promise((fr,Br)=>{sn.onsuccess=mr=>{fr()},Rt.onerror=mr=>{var mi;Br(ke.create("storage-set",{originalErrorMessage:null===(mi=mr.target.error)||void 0===mi?void 0:mi.message}))}})})).apply(this,arguments)}const kr=new Q.Yd("@firebase/app-check");function Hi(Xe,Ue){return(0,Z.hl)()?function ur(Xe,Ue){return function _r(Xe,Ue){return Ar.apply(this,arguments)}(function Vr(Xe){return`${Xe.options.appId}-${Xe.name}`}(Xe),Ue)}(Xe,Ue).catch(pt=>{kr.warn(`Failed to write token to IndexedDB. Error: ${pt}`)}):Promise.resolve()}function je(){return ze().enabled}function ct(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,O.Z)(function*(){const Xe=ze();if(Xe.enabled&&Xe.token)return Xe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const fe={error:"UNKNOWN_ERROR"};function Je(Xe){return Z.US.encodeString(JSON.stringify(Xe),!1)}function Qe(Xe){return ht.apply(this,arguments)}function ht(){return(ht=(0,O.Z)(function*(Xe,Ue=!1){const pt=Xe.app;de(pt);const Rt=st(pt);let sn,Gt=Rt.token;if(!Gt){const mr=yield Rt.cachedTokenPromise;mr&&Tn(mr)&&(Gt=mr)}if(!Ue&&Gt&&Tn(Gt))return{token:Gt.token};let Br,fr=!1;if(je()){Rt.exchangeTokenPromise||(Rt.exchangeTokenPromise=Fe(Sn(pt,yield ct()),Xe.heartbeatServiceProvider).then(mi=>(Rt.exchangeTokenPromise=void 0,mi)),fr=!0);const mr=yield Rt.exchangeTokenPromise;return yield Hi(pt,mr),Ye(pt,Object.assign(Object.assign({},Rt),{token:mr})),{token:mr.token}}try{Rt.exchangeTokenPromise||(Rt.exchangeTokenPromise=Rt.provider.getToken().then(mr=>(Rt.exchangeTokenPromise=void 0,mr)),fr=!0),Gt=yield Rt.exchangeTokenPromise}catch(mr){"appCheck/throttled"===mr.code?kr.warn(mr.message):kr.error(mr),sn=mr}return Gt?(Br={token:Gt.token},Ye(pt,Object.assign(Object.assign({},Rt),{token:Gt})),yield Hi(pt,Gt)):Br=qn(sn),fr&&Mn(pt,Br),Br})).apply(this,arguments)}function Xt(Xe,Ue){const pt=st(Xe),Rt=pt.tokenObservers.filter(Gt=>Gt.next!==Ue);0===Rt.length&&pt.tokenRefresher&&pt.tokenRefresher.isRunning()&&pt.tokenRefresher.stop(),Ye(Xe,Object.assign(Object.assign({},pt),{tokenObservers:Rt}))}function jt(Xe){const{app:Ue}=Xe,pt=st(Ue);let Rt=pt.tokenRefresher;Rt||(Rt=function Qt(Xe){const{app:Ue}=Xe;return new et((0,O.Z)(function*(){let Rt;if(Rt=st(Ue).token?yield Qe(Xe,!0):yield Qe(Xe),Rt.error)throw Rt.error}),()=>!0,()=>{const pt=st(Ue);if(pt.token){let Rt=pt.token.issuedAtTimeMillis+.5*(pt.token.expireTimeMillis-pt.token.issuedAtTimeMillis)+3e5;return Rt=Math.min(Rt,pt.token.expireTimeMillis-3e5),Math.max(0,Rt-Date.now())}return 0},3e4,96e4)}(Xe),Ye(Ue,Object.assign(Object.assign({},pt),{tokenRefresher:Rt}))),!Rt.isRunning()&&pt.isTokenAutoRefreshEnabled&&Rt.start()}function Mn(Xe,Ue){const pt=st(Xe).tokenObservers;for(const Rt of pt)try{"EXTERNAL"===Rt.type&&null!=Ue.error?Rt.error(Ue.error):Rt.next(Ue)}catch(Gt){}}function Tn(Xe){return Xe.expireTimeMillis-Date.now()>0}function qn(Xe){return{token:Je(fe),error:Xe}}class Mt{constructor(Ue,pt){this.app=Ue,this.heartbeatServiceProvider=pt}_delete(){const{tokenObservers:Ue}=st(this.app);for(const pt of Ue)Xt(this.app,pt.next);return Promise.resolve()}}const Yt="app-check-internal";!function $t(){(0,H._registerComponent)(new J.wA("app-check",Xe=>function Zn(Xe,Ue){return new Mt(Xe,Ue)}(Xe.getProvider("app").getImmediate(),Xe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Xe,Ue,pt)=>{Xe.getProvider(Yt).initialize()})),(0,H._registerComponent)(new J.wA(Yt,Xe=>function xn(Xe){return{getToken:Ue=>Qe(Xe,Ue),addTokenListener:Ue=>function St(Xe,Ue,pt,Rt){const{app:Gt}=Xe,sn=st(Gt),fr={next:pt,error:Rt,type:Ue};if(Ye(Gt,Object.assign(Object.assign({},sn),{tokenObservers:[...sn.tokenObservers,fr]})),sn.token&&Tn(sn.token)){const Br=sn.token;Promise.resolve().then(()=>{pt({token:Br.token}),jt(Xe)}).catch(()=>{})}sn.cachedTokenPromise.then(()=>jt(Xe))}(Xe,"INTERNAL",Ue),removeTokenListener:Ue=>Xt(Xe.app,Ue)}}(Xe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,H.registerVersion)("@firebase/app-check","0.5.4")}();class en{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(lt,x,P)=>{"use strict";P.d(x,{Ot:()=>N,ZF:()=>ge,hX:()=>st,z6:()=>O});var p=P(5867),e=P(5e3),E=P(5813);class N{constructor(et){return et}}class O{constructor(){return(0,p.C6)()}}const Z=new e.OlP("angularfire2._apps"),Q={provide:N,useFactory:function J(Ge){return Ge&&1===Ge.length?Ge[0]:new N((0,p.Mq)())},deps:[[new e.FiY,Z]]},K={provide:O,deps:[[new e.FiY,Z]]};function ie(Ge){return(et,Te)=>{const Ke=et.runOutsideAngular(()=>Ge(Te));return new N(Ke)}}let he=(()=>{class Ge{constructor(Te){(0,p.KN)("angularfire",E.q4.full,"core"),(0,p.KN)("angularfire",E.q4.full,"app"),(0,p.KN)("angular",e.q4F.full,Te.toString())}}return Ge.\u0275fac=function(Te){return new(Te||Ge)(e.LFG(e.Lbi))},Ge.\u0275mod=e.oAB({type:Ge}),Ge.\u0275inj=e.cJS({providers:[Q,K]}),Ge})();function st(Ge,...et){return{ngModule:he,providers:[{provide:Z,useFactory:ie(Ge),multi:!0,deps:[e.R0b,e.zs3,E.HU,...et]}]}}const ge=(0,E.u3)(p.ZF,!0)},2011:(lt,x,P)=>{"use strict";P.d(x,{Dh:()=>J,GT:()=>O,cc:()=>st,on:()=>Q,pX:()=>N,xv:()=>Z});var p=P(5e3),e=P(127);lt=P.hmd(lt);const E=["ngOnDestroy"],N=(ge,Be,Ie,ut={})=>new Proxy(ge,{get:(Ge,et)=>Ie.runOutsideAngular(()=>{var Te;if(ge[et])return(null===(Te=null==ut?void 0:ut.spy)||void 0===Te?void 0:Te.get)&&ut.spy.get(et,ge[et]),ge[et];if(E.indexOf(et)>-1)return()=>{};const Ke=Be.toPromise().then(ke=>{const ot=ke&&ke[et];return"function"==typeof ot?ot.bind(ke):ot&&ot.then?ot.then(de=>Ie.run(()=>de)):Ie.run(()=>ot)});return new Proxy(()=>{},{get:(ke,ot)=>Ke[ot],apply:(ke,ot,de)=>Ke.then(ue=>{var X;const ye=ue&&ue(...de);return(null===(X=null==ut?void 0:ut.spy)||void 0===X?void 0:X.apply)&&ut.spy.apply(et,de,ye),ye})})})}),O=(ge,Be)=>{Be.forEach(Ie=>{Object.getOwnPropertyNames(Ie.prototype||Ie).forEach(ut=>{Object.defineProperty(ge.prototype,ut,Object.getOwnPropertyDescriptor(Ie.prototype||Ie,ut))})})};class H{constructor(Be){return Be}}const J=new p.OlP("angularfire2.app.options"),Z=new p.OlP("angularfire2.app.name");function Q(ge,Be,Ie){const Ge="object"==typeof Ie&&Ie||{};Ge.name=Ge.name||"string"==typeof Ie&&Ie||"[DEFAULT]";const Te=e.Z.apps.filter(Ke=>Ke&&Ke.name===Ge.name)[0]||Be.runOutsideAngular(()=>e.Z.initializeApp(ge,Ge));try{JSON.stringify(ge)!==JSON.stringify(Te.options)&&K("error",`${Te.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new H(Te)}const K=(ge,...Be)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ge](...Be)};function st(ge,Be,Ie,ut,Ge){const[,et,Te]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===ge)||[];if(et)return function Ye(ge,Be){try{return ge.toString()===Be.toString()}catch(Ie){return ge===Be}}(Ge,Te)||(gt("error",`${Be} was already initialized on the ${Ie} Firebase App with different settings.${ze?" You may need to reload as Firebase is not HMR aware.":""}`),gt("warn",{is:Ge,was:Te})),et;{const Ke=ut();return globalThis.\u0275AngularfireInstanceCache.push([ge,Ke,Ge]),Ke}}const ze=!!lt.hot,gt=(ge,...Be)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ge](...Be)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(lt,x,P)=>{"use strict";P.d(x,{gg:()=>aa,ET:()=>au,hJ:()=>gf,BS:()=>Xd,JU:()=>qr,ad:()=>Tl,Cm:()=>Qd});var p=P(5813),e=P(5e3),E=P(3692),N=P(5867),O=P(5861),H=P(2090),J=P(9681),Z=P(655),Q=P(1877),K=P(4859);const Ie=function ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ut=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),et=new Q.Yd("@firebase/auth");function Te(S,...v){et.logLevel<=Q.in.ERROR&&et.error(`Auth (${J.SDK_VERSION}): ${S}`,...v)}function Ke(S,...v){throw ue(S,...v)}function ke(S,...v){return ue(S,...v)}function ot(S,v,w){const R=Object.assign(Object.assign({},Ie()),{[v]:w});return new H.LL("auth","Firebase",R).create(v,{appName:S.name})}function ue(S,...v){if("string"!=typeof S){const w=v[0],R=[...v.slice(1)];return R[0]&&(R[0].appName=S.name),S._errorFactory.create(w,...R)}return ut.create(S,...v)}function X(S,v,...w){if(!S)throw ue(v,...w)}function ye(S){const v="INTERNAL ASSERTION FAILED: "+S;throw Te(v),new Error(v)}function Fe(S,v){S||ye(v)}const _e=new Map;function wt(S){Fe(S instanceof Function,"Expected a class definition");let v=_e.get(S);return v?(Fe(v instanceof S,"Instance stored in cache mismatched with class"),v):(v=new S,_e.set(S,v),v)}function kt(){var S;return"undefined"!=typeof self&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Vn{constructor(v,w){this.shortDelay=v,this.longDelay=w,Fe(w>v,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function vn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===kt()||"https:"===kt()}()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ur{static initialize(v,w,R){this.fetchImpl=v,w&&(this.headersImpl=w),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const sr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Jr=new Vn(3e4,6e4);function Ar(S,v,w,R){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,O.Z)(function*(S,v,w,R,ce={}){return bi(S,ce,(0,O.Z)(function*(){let xe={},vt={};R&&("GET"===v?vt=R:xe={body:JSON.stringify(R)});const Vt=(0,H.xO)(Object.assign({key:S.config.apiKey},vt)).slice(1),jn=yield S._getAdditionalHeaders();return jn["Content-Type"]="application/json",S.languageCode&&(jn["X-Firebase-Locale"]=S.languageCode),ur.fetch()(An(S,S.config.apiHost,w,Vt),Object.assign({method:v,headers:jn,referrerPolicy:"no-referrer"},xe))}))})).apply(this,arguments)}function bi(S,v,w){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,O.Z)(function*(S,v,w){S._canInitEmulator=!1;const R=Object.assign(Object.assign({},sr),v);try{const ce=new Hi(S),xe=yield Promise.race([w(),ce.promise]);ce.clearNetworkTimeout();const vt=yield xe.json();if("needConfirmation"in vt)throw Yr(S,"account-exists-with-different-credential",vt);if(xe.ok&&!("errorMessage"in vt))return vt;{const Vt=xe.ok?vt.errorMessage:vt.error.message,[jn,Xn]=Vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===jn)throw Yr(S,"credential-already-in-use",vt);if("EMAIL_EXISTS"===jn)throw Yr(S,"email-already-in-use",vt);const er=R[jn]||jn.toLowerCase().replace(/[_\s]+/g,"-");if(Xn)throw ot(S,er,Xn);Ke(S,er)}}catch(ce){if(ce instanceof H.ZR)throw ce;Ke(S,"network-request-failed")}})).apply(this,arguments)}function An(S,v,w,R){const ce=`${v}${w}?${R}`;return S.config.emulator?function wr(S,v){Fe(S.emulator,"Emulator should always be set here");const{url:w}=S.emulator;return v?`${w}${v.startsWith("/")?v.slice(1):v}`:w}(S.config,ce):`${S.config.apiScheme}://${ce}`}class Hi{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((w,R)=>{this.timer=setTimeout(()=>R(ke(this.auth,"network-request-failed")),Jr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Yr(S,v,w){const R={appName:S.name};w.email&&(R.email=w.email),w.phoneNumber&&(R.phoneNumber=w.phoneNumber);const ce=ke(S,v,R);return ce.customData._tokenResponse=w,ce}function je(){return(je=(0,O.Z)(function*(S,v){return Ar(S,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function oe(S,v){return fe.apply(this,arguments)}function fe(){return(fe=(0,O.Z)(function*(S,v){return Ar(S,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function Je(S){if(S)try{const v=new Date(Number(S));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function St(){return(St=(0,O.Z)(function*(S,v=!1){const w=(0,H.m9)(S),R=yield w.getIdToken(v),ce=jt(R);X(ce&&ce.exp&&ce.auth_time&&ce.iat,w.auth,"internal-error");const xe="object"==typeof ce.firebase?ce.firebase:void 0,vt=null==xe?void 0:xe.sign_in_provider;return{claims:ce,token:R,authTime:Je(Xt(ce.auth_time)),issuedAtTime:Je(Xt(ce.iat)),expirationTime:Je(Xt(ce.exp)),signInProvider:vt||null,signInSecondFactor:(null==xe?void 0:xe.sign_in_second_factor)||null}})).apply(this,arguments)}function Xt(S){return 1e3*Number(S)}function jt(S){const[v,w,R]=S.split(".");if(void 0===v||void 0===w||void 0===R)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const ce=(0,H.tV)(w);return ce?JSON.parse(ce):(Te("Failed to decode base64 JWT payload"),null)}catch(ce){return Te("Caught error parsing JWT payload as JSON",ce),null}}function Mn(S,v){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,O.Z)(function*(S,v,w=!1){if(w)return v;try{return yield v}catch(R){throw R instanceof H.ZR&&qn(R)&&S.auth.currentUser===S&&(yield S.auth.signOut()),R}})).apply(this,arguments)}function qn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Mt{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var w;if(v){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ce=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ce)}}schedule(v=!1){var w=this;if(!this.isRunning)return;const R=this.getInterval(v);this.timerId=setTimeout((0,O.Z)(function*(){yield w.iteration()}),R)}iteration(){var v=this;return(0,O.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&v.schedule(!0))}v.schedule()})()}}class Zn{constructor(v,w){this.createdAt=v,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=Je(this.lastLoginAt),this.creationTime=Je(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function xn(S){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,O.Z)(function*(S){var v;const w=S.auth,R=yield S.getIdToken(),ce=yield Mn(S,oe(w,{idToken:R}));X(null==ce?void 0:ce.users.length,w,"internal-error");const xe=ce.users[0];S._notifyReloadListener(xe);const vt=(null===(v=xe.providerUserInfo)||void 0===v?void 0:v.length)?Ln(xe.providerUserInfo):[],Vt=rn(S.providerData,vt),er=!!S.isAnonymous&&!(S.email&&xe.passwordHash||(null==Vt?void 0:Vt.length)),Kr={uid:xe.localId,displayName:xe.displayName||null,photoURL:xe.photoUrl||null,email:xe.email||null,emailVerified:xe.emailVerified||!1,phoneNumber:xe.phoneNumber||null,tenantId:xe.tenantId||null,providerData:Vt,metadata:new Zn(xe.createdAt,xe.lastLoginAt),isAnonymous:er};Object.assign(S,Kr)})).apply(this,arguments)}function Wt(){return(Wt=(0,O.Z)(function*(S){const v=(0,H.m9)(S);yield xn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function rn(S,v){return[...S.filter(R=>!v.some(ce=>ce.providerId===R.providerId)),...v]}function Ln(S){return S.map(v=>{var{providerId:w}=v,R=(0,Z._T)(v,["providerId"]);return{providerId:w,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function Ee(){return(Ee=(0,O.Z)(function*(S,v){const w=yield bi(S,{},(0,O.Z)(function*(){const R=(0,H.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:ce,apiKey:xe}=S.config,vt=An(S,ce,"/v1/token",`key=${xe}`),Vt=yield S._getAdditionalHeaders();return Vt["Content-Type"]="application/x-www-form-urlencoded",ur.fetch()(vt,{method:"POST",headers:Vt,body:R})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class be{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){X(v.idToken,"internal-error"),X(void 0!==v.idToken,"internal-error"),X(void 0!==v.refreshToken,"internal-error");const w="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function Qt(S){const v=jt(S);return X(v,"internal-error"),X(void 0!==v.exp,"internal-error"),X(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,w)}getToken(v,w=!1){var R=this;return(0,O.Z)(function*(){return X(!R.accessToken||R.refreshToken,v,"user-token-expired"),w||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(v,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,w){var R=this;return(0,O.Z)(function*(){const{accessToken:ce,refreshToken:xe,expiresIn:vt}=yield function Nn(S,v){return Ee.apply(this,arguments)}(v,w);R.updateTokensAndExpiration(ce,xe,Number(vt))})()}updateTokensAndExpiration(v,w,R){this.refreshToken=w||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(v,w){const{refreshToken:R,accessToken:ce,expirationTime:xe}=w,vt=new be;return R&&(X("string"==typeof R,"internal-error",{appName:v}),vt.refreshToken=R),ce&&(X("string"==typeof ce,"internal-error",{appName:v}),vt.accessToken=ce),xe&&(X("number"==typeof xe,"internal-error",{appName:v}),vt.expirationTime=xe),vt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new be,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Ce(S,v){X("string"==typeof S||void 0===S,"internal-error",{appName:v})}class tt{constructor(v){var{uid:w,auth:R,stsTokenManager:ce}=v,xe=(0,Z._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Mt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=R,this.stsTokenManager=ce,this.accessToken=ce.accessToken,this.displayName=xe.displayName||null,this.email=xe.email||null,this.emailVerified=xe.emailVerified||!1,this.phoneNumber=xe.phoneNumber||null,this.photoURL=xe.photoURL||null,this.isAnonymous=xe.isAnonymous||!1,this.tenantId=xe.tenantId||null,this.providerData=xe.providerData?[...xe.providerData]:[],this.metadata=new Zn(xe.createdAt||void 0,xe.lastLoginAt||void 0)}getIdToken(v){var w=this;return(0,O.Z)(function*(){const R=yield Mn(w,w.stsTokenManager.getToken(w.auth,v));return X(R,w.auth,"internal-error"),w.accessToken!==R&&(w.accessToken=R,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),R})()}getIdTokenResult(v){return function ht(S){return St.apply(this,arguments)}(this,v)}reload(){return function it(S){return Wt.apply(this,arguments)}(this)}_assign(v){this!==v&&(X(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(w=>Object.assign({},w)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new tt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,w=!1){var R=this;return(0,O.Z)(function*(){let ce=!1;v.idToken&&v.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(v),ce=!0),w&&(yield xn(R)),yield R.auth._persistUserIfCurrent(R),ce&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var v=this;return(0,O.Z)(function*(){const w=yield v.getIdToken();return yield Mn(v,function Qr(S,v){return je.apply(this,arguments)}(v.auth,{idToken:w})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,w){var R,ce,xe,vt,Vt,jn,Xn,er;const Kr=null!==(R=w.displayName)&&void 0!==R?R:void 0,ys=null!==(ce=w.email)&&void 0!==ce?ce:void 0,Fs=null!==(xe=w.phoneNumber)&&void 0!==xe?xe:void 0,Ai=null!==(vt=w.photoURL)&&void 0!==vt?vt:void 0,ih=null!==(Vt=w.tenantId)&&void 0!==Vt?Vt:void 0,hu=null!==(jn=w._redirectEventId)&&void 0!==jn?jn:void 0,Ks=null!==(Xn=w.createdAt)&&void 0!==Xn?Xn:void 0,fu=null!==(er=w.lastLoginAt)&&void 0!==er?er:void 0,{uid:Sl,emailVerified:Tf,isAnonymous:Ef,providerData:qc,stsTokenManager:oh}=w;X(Sl&&oh,v,"internal-error");const m_=be.fromJSON(this.name,oh);X("string"==typeof Sl,v,"internal-error"),Ce(Kr,v.name),Ce(ys,v.name),X("boolean"==typeof Tf,v,"internal-error"),X("boolean"==typeof Ef,v,"internal-error"),Ce(Fs,v.name),Ce(Ai,v.name),Ce(ih,v.name),Ce(hu,v.name),Ce(Ks,v.name),Ce(fu,v.name);const ad=new tt({uid:Sl,auth:v,email:ys,emailVerified:Tf,displayName:Kr,isAnonymous:Ef,photoURL:Ai,phoneNumber:Fs,tenantId:ih,stsTokenManager:m_,createdAt:Ks,lastLoginAt:fu});return qc&&Array.isArray(qc)&&(ad.providerData=qc.map(Fg=>Object.assign({},Fg))),hu&&(ad._redirectEventId=hu),ad}static _fromIdTokenResponse(v,w,R=!1){return(0,O.Z)(function*(){const ce=new be;ce.updateFromServerResponse(w);const xe=new tt({uid:w.localId,auth:v,stsTokenManager:ce,isAnonymous:R});return yield xn(xe),xe})()}}const Ht=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(w,R){var ce=this;return(0,O.Z)(function*(){ce.storage[w]=R})()}_get(w){var R=this;return(0,O.Z)(function*(){const ce=R.storage[w];return void 0===ce?null:ce})()}_remove(w){var R=this;return(0,O.Z)(function*(){delete R.storage[w]})()}_addListener(w,R){}_removeListener(w,R){}}return S.type="NONE",S})();function Rn(S,v,w){return`firebase:${S}:${v}:${w}`}class gn{constructor(v,w,R){this.persistence=v,this.auth=w,this.userKey=R;const{config:ce,name:xe}=this.auth;this.fullUserKey=Rn(this.userKey,ce.apiKey,xe),this.fullPersistenceKey=Rn("persistence",ce.apiKey,xe),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,O.Z)(function*(){const w=yield v.persistence._get(v.fullUserKey);return w?tt._fromJSON(v.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var w=this;return(0,O.Z)(function*(){if(w.persistence===v)return;const R=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=v,R?w.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,w,R="authUser"){return(0,O.Z)(function*(){if(!w.length)return new gn(wt(Ht),v,R);const ce=(yield Promise.all(w.map(function(){var Xn=(0,O.Z)(function*(er){if(yield er._isAvailable())return er});return function(er){return Xn.apply(this,arguments)}}()))).filter(Xn=>Xn);let xe=ce[0]||wt(Ht);const vt=Rn(R,v.config.apiKey,v.name);let Vt=null;for(const Xn of w)try{const er=yield Xn._get(vt);if(er){const Kr=tt._fromJSON(v,er);Xn!==xe&&(Vt=Kr),xe=Xn;break}}catch(er){}const jn=ce.filter(Xn=>Xn._shouldAllowMigration);return xe._shouldAllowMigration&&jn.length?(xe=jn[0],Vt&&(yield xe._set(vt,Vt.toJSON())),yield Promise.all(w.map(function(){var Xn=(0,O.Z)(function*(er){if(er!==xe)try{yield er._remove(vt)}catch(Kr){}});return function(er){return Xn.apply(this,arguments)}}())),new gn(xe,v,R)):new gn(xe,v,R)})()}}function Hn(S){const v=S.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(function kn(S=(0,H.z$)()){return/iemobile/i.test(S)}(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(function Yn(S=(0,H.z$)()){return/firefox\//i.test(S)}(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(function He(S=(0,H.z$)()){return/blackberry/i.test(S)}(v))return"Blackberry";if(function dt(S=(0,H.z$)()){return/webos/i.test(S)}(v))return"Webos";if(function dr(S=(0,H.z$)()){const v=S.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}(v))return"Safari";if((v.includes("chrome/")||function _n(S=(0,H.z$)()){return/crios\//i.test(S)}(v))&&!v.includes("edge/"))return"Chrome";if(function mn(S=(0,H.z$)()){return/android/i.test(S)}(v))return"Android";{const R=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function At(S,v=[]){let w;switch(S){case"Browser":w=Hn((0,H.z$)());break;case"Worker":w=`${Hn((0,H.z$)())}-${S}`;break;default:w=S}const R=v.length?v.join(","):"FirebaseCore-web";return`${w}/JsCore/${J.SDK_VERSION}/${R}`}class en{constructor(v,w,R){this.app=v,this.heartbeatServiceProvider=w,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new an(this),this.idTokenSubscription=new an(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(v,w){var R=this;return w&&(this._popupRedirectResolver=wt(w)),this._initializationPromise=this.queue((0,O.Z)(function*(){var ce,xe;if(!R._deleted&&(R.persistenceManager=yield gn.create(R,v),!R._deleted)){if(null===(ce=R._popupRedirectResolver)||void 0===ce?void 0:ce._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch(vt){}yield R.initializeCurrentUser(w),R.lastNotifiedUid=(null===(xe=R.currentUser)||void 0===xe?void 0:xe.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,O.Z)(function*(){if(v._deleted)return;const w=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||w){if(v.currentUser&&w&&v.currentUser.uid===w.uid)return v._currentUser._assign(w),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(w)}})()}initializeCurrentUser(v){var w=this;return(0,O.Z)(function*(){var R;let ce=yield w.assertedPersistence.getCurrentUser();if(v&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const xe=null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId,vt=null==ce?void 0:ce._redirectEventId,Vt=yield w.tryRedirectSignIn(v);(!xe||xe===vt)&&(null==Vt?void 0:Vt.user)&&(ce=Vt.user)}return ce?ce._redirectEventId?(X(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ce._redirectEventId?w.directlySetCurrentUser(ce):w.reloadAndSetCurrentUserOrClear(ce)):w.reloadAndSetCurrentUserOrClear(ce):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(v){var w=this;return(0,O.Z)(function*(){let R=null;try{R=yield w._popupRedirectResolver._completeRedirectFn(w,v,!0)}catch(ce){yield w._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(v){var w=this;return(0,O.Z)(function*(){try{yield xn(v)}catch(R){if("auth/network-request-failed"!==R.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function lr(){if("undefined"==typeof navigator)return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var v=this;return(0,O.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var w=this;return(0,O.Z)(function*(){const R=v?(0,H.m9)(v):null;return R&&X(R.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(R&&R._clone(w))})()}_updateCurrentUser(v){var w=this;return(0,O.Z)(function*(){if(!w._deleted)return v&&X(w.tenantId===v.tenantId,w,"tenant-id-mismatch"),w.queue((0,O.Z)(function*(){yield w.directlySetCurrentUser(v),w.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,O.Z)(function*(){return(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null)})()}setPersistence(v){var w=this;return this.queue((0,O.Z)(function*(){yield w.assertedPersistence.setPersistence(wt(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new H.LL("auth","Firebase",v())}onAuthStateChanged(v,w,R){return this.registerStateListener(this.authStateSubscription,v,w,R)}onIdTokenChanged(v,w,R){return this.registerStateListener(this.idTokenSubscription,v,w,R)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,w){var R=this;return(0,O.Z)(function*(){const ce=yield R.getOrInitRedirectPersistenceManager(w);return null===v?ce.removeCurrentUser():ce.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var w=this;return(0,O.Z)(function*(){if(!w.redirectPersistenceManager){const R=v&&wt(v)||w._popupRedirectResolver;X(R,w,"argument-error"),w.redirectPersistenceManager=yield gn.create(w,[wt(R._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(v){var w=this;return(0,O.Z)(function*(){var R,ce;return w._isInitialized&&(yield w.queue((0,O.Z)(function*(){}))),(null===(R=w._currentUser)||void 0===R?void 0:R._redirectEventId)===v?w._currentUser:(null===(ce=w.redirectUser)||void 0===ce?void 0:ce._redirectEventId)===v?w.redirectUser:null})()}_persistUserIfCurrent(v){var w=this;return(0,O.Z)(function*(){if(v===w.currentUser)return w.queue((0,O.Z)(function*(){return w.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(w=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,w,R,ce){if(this._deleted)return()=>{};const xe="function"==typeof w?w:w.next.bind(w),vt=this._isInitialized?Promise.resolve():this._initializationPromise;return X(vt,this,"internal-error"),vt.then(()=>xe(this.currentUser)),"function"==typeof w?v.addObserver(w,R,ce):v.addObserver(w)}directlySetCurrentUser(v){var w=this;return(0,O.Z)(function*(){w.currentUser&&w.currentUser!==v&&(w._currentUser._stopProactiveRefresh(),v&&w.isProactiveRefreshEnabled&&v._startProactiveRefresh()),w.currentUser=v,v?yield w.assertedPersistence.setCurrentUser(v):yield w.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=At(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,O.Z)(function*(){var w;const R={"X-Client-Version":v.clientVersion};v.app.options.appId&&(R["X-Firebase-gmpid"]=v.app.options.appId);const ce=yield null===(w=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ce&&(R["X-Firebase-Client"]=ce),R})()}}class an{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,H.ne)(w=>this.observer=w)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Lo(S){return`__${S}${Math.floor(1e6*Math.random())}`})("rcb"),new Vn(3e4,6e4),new Vn(2e3,1e4),new Vn(3e4,6e4),new Vn(5e3,15e3);var Vd="@firebase/auth",Wu="0.19.10";class uc{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var w=this;return(0,O.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const w=this.auth.onIdTokenChanged(R=>{var ce;v((null===(ce=R)||void 0===ce?void 0:ce.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,w),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const w=this.internalListeners.get(v);!w||(this.internalListeners.delete(v),w(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function $u(S){(0,J._registerComponent)(new K.wA("auth",(v,{options:w})=>{const R=v.getProvider("app").getImmediate(),ce=v.getProvider("heartbeat"),{apiKey:xe,authDomain:vt}=R.options;return((Vt,jn)=>{X(xe&&!xe.includes(":"),"invalid-api-key",{appName:Vt.name}),X(!(null==vt?void 0:vt.includes(":")),"argument-error",{appName:Vt.name});const Xn={apiKey:xe,authDomain:vt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:At(S)},er=new en(Vt,jn,Xn);return function Sn(S,v){const w=(null==v?void 0:v.persistence)||[],R=(Array.isArray(w)?w:[w]).map(wt);(null==v?void 0:v.errorMap)&&S._updateErrorMap(v.errorMap),S._initializeWithPersistence(R,null==v?void 0:v.popupRedirectResolver)}(er,w),er})(R,ce)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,w,R)=>{v.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new K.wA("auth-internal",v=>{const w=function hn(S){return(0,H.m9)(S)}(v.getProvider("auth").getImmediate());return new uc(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(Vd,Wu,function Ji(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,J.registerVersion)(Vd,Wu,"esm2017")}("Browser");class ls{constructor(){return(0,p.vb)("auth")}}var lf=P(7128),Xu=P(3209),uf=P(8306),ed=P(4004),Ag={includeMetadataChanges:!1};function ff(S,v){return void 0===v&&(v={}),function xt(S){return function df(S,v){return void 0===v&&(v=Ag),new uf.y(function(w){return{unsubscribe:(0,Xu.cf)(S,v,{next:w.next.bind(w),error:w.error.bind(w),complete:w.complete.bind(w)})}})}(S,{includeMetadataChanges:!0}).pipe((0,ed.U)(function(v){return v.docs}))}(S).pipe((0,ed.U)(function(w){return w.map(function(R){return function vl(S,v){void 0===v&&(v={});var w=S.data();return!S.exists()||"object"!=typeof w||null===w||v.idField&&(w[v.idField]=S.id),w}(R,v)})}))}class aa{constructor(v){return v}}const dc="firestore",ou=new e.OlP("angularfire2.firestore-instances");function u_(S){return(v,w)=>{const R=v.runOutsideAngular(()=>S(w));return new aa(R)}}const zi={provide:class fp{constructor(){return(0,p.vb)(dc)}},deps:[[new e.FiY,ou]]},su={provide:aa,useFactory:function nd(S,v){const w=(0,p.JM)(dc,S,v);return w&&new aa(w)},deps:[[new e.FiY,ou],E.Ot]};let rd=(()=>{class S{constructor(){(0,N.KN)("angularfire",p.q4.full,"fst")}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275mod=e.oAB({type:S}),S.\u0275inj=e.cJS({providers:[su,zi]}),S})();function Qd(S,...v){return{ngModule:rd,providers:[{provide:ou,useFactory:u_(S),multi:!0,deps:[e.R0b,e.zs3,p.HU,E.z6,[new e.FiY,ls],[new e.FiY,lf.nm],...v]}]}}const Xd=(0,p.u3)(ff,!0),au=(0,p.u3)(Xu.ET,!0),gf=(0,p.u3)(Xu.hJ,!0),qr=(0,p.u3)(Xu.JU,!0),Tl=(0,p.u3)(Xu.ad,!0)},5813:(lt,x,P)=>{"use strict";P.d(x,{q4:()=>_a,iC:()=>jc,HU:()=>ya,vb:()=>ul,JM:()=>kd,u3:()=>Jl});var p=P(5e3),e=P(5867),E=P(5861),N=P(9681),O=P(2090),H=P(4859),J=P(1877);const Z="@firebase/installations",Q="0.5.6",ie=`w:${Q}`,he="FIS_v2",Be=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ie(B){return B instanceof O.ZR&&B.code.includes("request-failed")}function ut({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Ge(B){return{token:B.token,requestStatus:2,expiresIn:ue(B.expiresIn),creationTime:Date.now()}}function et(B,G){return Te.apply(this,arguments)}function Te(){return(Te=(0,E.Z)(function*(B,G){const Ne=(yield G.json()).error;return Be.create("request-failed",{requestName:B,serverCode:Ne.code,serverMessage:Ne.message,serverStatus:Ne.status})})).apply(this,arguments)}function Ke({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function ke(B,{refreshToken:G}){const re=Ke(B);return re.append("Authorization",function X(B){return`${he} ${B}`}(G)),re}function ot(B){return de.apply(this,arguments)}function de(){return(de=(0,E.Z)(function*(B){const G=yield B();return G.status>=500&&G.status<600?B():G})).apply(this,arguments)}function ue(B){return Number(B.replace("s","000"))}function ye(B,G){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,E.Z)(function*({appConfig:B,heartbeatServiceProvider:G},{fid:re}){const Ne=ut(B),at=Ke(B),_t=G.getImmediate({optional:!0});if(_t){const rr=yield _t.getHeartbeatsHeader();rr&&at.append("x-firebase-client",rr)}const pn={method:"POST",headers:at,body:JSON.stringify({fid:re,authVersion:he,appId:B.appId,sdkVersion:ie})},yr=yield ot(()=>fetch(Ne,pn));if(yr.ok){const rr=yield yr.json();return{fid:rr.fid||re,registrationStatus:2,refreshToken:rr.refreshToken,authToken:Ge(rr.authToken)}}throw yield et("Create Installation",yr)})).apply(this,arguments)}function _e(B){return new Promise(G=>{setTimeout(G,B)})}const It=/^[cdef][\w-]{21}$/;function Pt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const re=function Et(B){return function wt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return It.test(re)?re:""}catch(B){return""}}function kt(B){return`${B.appName}!${B.appId}`}const vn=new Map;function lr(B,G){const re=kt(B);ur(re,G),function sr(B,G){const re=function _r(){return!Jr&&"BroadcastChannel"in self&&(Jr=new BroadcastChannel("[Firebase] FID Change"),Jr.onmessage=B=>{ur(B.data.key,B.data.fid)}),Jr}();re&&re.postMessage({key:B,fid:G}),function Ar(){0===vn.size&&Jr&&(Jr.close(),Jr=null)}()}(re,G)}function ur(B,G){const re=vn.get(B);if(re)for(const Ne of re)Ne(G)}let Jr=null;const Vr="firebase-installations-store";let kr=null;function Ni(){return kr||(kr=(0,O.X3)("firebase-installations-database",1,(B,G)=>{0===G&&B.createObjectStore(Vr)})),kr}function An(B,G){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,E.Z)(function*(B,G){const re=kt(B),at=(yield Ni()).transaction(Vr,"readwrite"),_t=at.objectStore(Vr),zt=yield _t.get(re);return yield _t.put(G,re),yield at.complete,(!zt||zt.fid!==G.fid)&&lr(B,G.fid),G})).apply(this,arguments)}function Yr(B){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,E.Z)(function*(B){const G=kt(B),Ne=(yield Ni()).transaction(Vr,"readwrite");yield Ne.objectStore(Vr).delete(G),yield Ne.complete})).apply(this,arguments)}function je(B,G){return ct.apply(this,arguments)}function ct(){return(ct=(0,E.Z)(function*(B,G){const re=kt(B),at=(yield Ni()).transaction(Vr,"readwrite"),_t=at.objectStore(Vr),zt=yield _t.get(re),pn=G(zt);return void 0===pn?yield _t.delete(re):yield _t.put(pn,re),yield at.complete,pn&&(!zt||zt.fid!==pn.fid)&&lr(B,pn.fid),pn})).apply(this,arguments)}function Oe(B){return oe.apply(this,arguments)}function oe(){return(oe=(0,E.Z)(function*(B){let G;const re=yield je(B.appConfig,Ne=>{const at=fe(Ne),_t=Je(B,at);return G=_t.registrationPromise,_t.installationEntry});return""===re.fid?{installationEntry:yield G}:{installationEntry:re,registrationPromise:G}})).apply(this,arguments)}function fe(B){return Qt(B||{fid:Pt(),registrationStatus:0})}function Je(B,G){if(0===G.registrationStatus){if(!navigator.onLine)return{installationEntry:G,registrationPromise:Promise.reject(Be.create("app-offline"))};const re={fid:G.fid,registrationStatus:1,registrationTime:Date.now()},Ne=function Qe(B,G){return ht.apply(this,arguments)}(B,re);return{installationEntry:re,registrationPromise:Ne}}return 1===G.registrationStatus?{installationEntry:G,registrationPromise:St(B)}:{installationEntry:G}}function ht(){return(ht=(0,E.Z)(function*(B,G){try{const re=yield ye(B,G);return An(B.appConfig,re)}catch(re){throw Ie(re)&&409===re.customData.serverCode?yield Yr(B.appConfig):yield An(B.appConfig,{fid:G.fid,registrationStatus:0}),re}})).apply(this,arguments)}function St(B){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,E.Z)(function*(B){let G=yield jt(B.appConfig);for(;1===G.registrationStatus;)yield _e(100),G=yield jt(B.appConfig);if(0===G.registrationStatus){const{installationEntry:re,registrationPromise:Ne}=yield Oe(B);return Ne||re}return G})).apply(this,arguments)}function jt(B){return je(B,G=>{if(!G)throw Be.create("installation-not-found");return Qt(G)})}function Qt(B){return function Mn(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function Tn(B,G){return qn.apply(this,arguments)}function qn(){return(qn=(0,E.Z)(function*({appConfig:B,heartbeatServiceProvider:G},re){const Ne=Mt(B,re),at=ke(B,re),_t=G.getImmediate({optional:!0});if(_t){const rr=yield _t.getHeartbeatsHeader();rr&&at.append("x-firebase-client",rr)}const pn={method:"POST",headers:at,body:JSON.stringify({installation:{sdkVersion:ie,appId:B.appId}})},yr=yield ot(()=>fetch(Ne,pn));if(yr.ok)return Ge(yield yr.json());throw yield et("Generate Auth Token",yr)})).apply(this,arguments)}function Mt(B,{fid:G}){return`${ut(B)}/${G}/authTokens:generate`}function Zn(B){return xn.apply(this,arguments)}function xn(){return(xn=(0,E.Z)(function*(B,G=!1){let re;const Ne=yield je(B.appConfig,_t=>{if(!Nn(_t))throw Be.create("not-registered");const zt=_t.authToken;if(!G&&Ee(zt))return _t;if(1===zt.requestStatus)return re=Ot(B,G),_t;{if(!navigator.onLine)throw Be.create("app-offline");const pn=Ce(_t);return re=rn(B,pn),pn}});return re?yield re:Ne.authToken})).apply(this,arguments)}function Ot(B,G){return it.apply(this,arguments)}function it(){return(it=(0,E.Z)(function*(B,G){let re=yield Wt(B.appConfig);for(;1===re.authToken.requestStatus;)yield _e(100),re=yield Wt(B.appConfig);const Ne=re.authToken;return 0===Ne.requestStatus?Zn(B,G):Ne})).apply(this,arguments)}function Wt(B){return je(B,G=>{if(!Nn(G))throw Be.create("not-registered");return function tt(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(G.authToken)?Object.assign(Object.assign({},G),{authToken:{requestStatus:0}}):G})}function rn(B,G){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,E.Z)(function*(B,G){try{const re=yield Tn(B,G),Ne=Object.assign(Object.assign({},G),{authToken:re});return yield An(B.appConfig,Ne),re}catch(re){if(!Ie(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Ne=Object.assign(Object.assign({},G),{authToken:{requestStatus:0}});yield An(B.appConfig,Ne)}else yield Yr(B.appConfig);throw re}})).apply(this,arguments)}function Nn(B){return void 0!==B&&2===B.registrationStatus}function Ee(B){return 2===B.requestStatus&&!function be(B){const G=Date.now();return G<B.creationTime||B.creationTime+B.expiresIn<G+36e5}(B)}function Ce(B){const G={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:G})}function Ht(){return(Ht=(0,E.Z)(function*(B){const G=B,{installationEntry:re,registrationPromise:Ne}=yield Oe(G);return Ne?Ne.catch(console.error):Zn(G).catch(console.error),re.fid})).apply(this,arguments)}function gn(){return(gn=(0,E.Z)(function*(B,G=!1){const re=B;return yield Hn(re),(yield Zn(re,G)).token})).apply(this,arguments)}function Hn(B){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,E.Z)(function*(B){const{registrationPromise:G}=yield Oe(B);G&&(yield G)})).apply(this,arguments)}function on(B){return Be.create("missing-app-config-values",{valueName:B})}const Yt="installations",$e=B=>{const G=B.getProvider("app").getImmediate(),re=function yn(B){if(!B||!B.options)throw on("App Configuration");if(!B.name)throw on("App Name");const G=["projectId","apiKey","appId"];for(const re of G)if(!B.options[re])throw on(re);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(G);return{app:G,appConfig:re,heartbeatServiceProvider:(0,N._getProvider)(G,"heartbeat"),_delete:()=>Promise.resolve()}},At=B=>{const G=B.getProvider("app").getImmediate(),re=(0,N._getProvider)(G,Yt).getImmediate();return{getId:()=>function Ve(B){return Ht.apply(this,arguments)}(re),getToken:at=>function Rn(B){return gn.apply(this,arguments)}(re,at)}};(function en(){(0,N._registerComponent)(new H.wA(Yt,$e,"PUBLIC")),(0,N._registerComponent)(new H.wA("installations-internal",At,"PRIVATE"))})(),(0,N.registerVersion)(Z,Q),(0,N.registerVersion)(Z,Q,"esm2017");const hn="@firebase/remote-config",Gn=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class No{constructor(G,re,Ne,at){this.client=G,this.storage=re,this.storageCache=Ne,this.logger=at}isCachedDataFresh(G,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ne=Date.now()-re,at=Ne<=G;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ne}. Cache max age millis (minimumFetchIntervalMillis setting): ${G}. Is cache hit: ${at}.`),at}fetch(G){var re=this;return(0,E.Z)(function*(){const[Ne,at]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(at&&re.isCachedDataFresh(G.cacheMaxAgeMillis,Ne))return at;G.eTag=at&&at.eTag;const _t=yield re.client.fetch(G),zt=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===_t.status&&zt.push(re.storage.setLastSuccessfulFetchResponse(_t)),yield Promise.all(zt),_t})()}}function to(B=navigator){return B.languages&&B.languages[0]||B.language}class fs{constructor(G,re,Ne,at,_t,zt){this.firebaseInstallations=G,this.sdkVersion=re,this.namespace=Ne,this.projectId=at,this.apiKey=_t,this.appId=zt}fetch(G){var re=this;return(0,E.Z)(function*(){const[Ne,at]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),zt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,pn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":G.eTag||"*"},yr={sdk_version:re.sdkVersion,app_instance_id:Ne,app_instance_id_token:at,app_id:re.appId,language_code:to()},rr={method:"POST",headers:pn,body:JSON.stringify(yr)},ti=fetch(zt,rr),Un=new Promise((as,Bi)=>{G.signal.addEventListener(()=>{const ju=new Error("The operation was aborted.");ju.name="AbortError",Bi(ju)})});let xi;try{yield Promise.race([ti,Un]),xi=yield ti}catch(as){let Bi="fetch-client-network";throw"AbortError"===as.name&&(Bi="fetch-timeout"),Gn.create(Bi,{originalErrorMessage:as.message})}let so=xi.status;const Va=xi.headers.get("ETag")||void 0;let ia,ss;if(200===xi.status){let as;try{as=yield xi.json()}catch(Bi){throw Gn.create("fetch-client-parse",{originalErrorMessage:Bi.message})}ia=as.entries,ss=as.state}if("INSTANCE_STATE_UNSPECIFIED"===ss?so=500:"NO_CHANGE"===ss?so=304:("NO_TEMPLATE"===ss||"EMPTY_CONFIG"===ss)&&(ia={}),304!==so&&200!==so)throw Gn.create("fetch-status",{httpStatus:so});return{status:so,eTag:Va,config:ia}})()}}class Vs{constructor(G,re){this.client=G,this.storage=re}fetch(G){var re=this;return(0,E.Z)(function*(){const Ne=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(G,Ne)})()}attemptFetch(G,{throttleEndTimeMillis:re,backoffCount:Ne}){var at=this;return(0,E.Z)(function*(){yield function $i(B,G){return new Promise((re,Ne)=>{const at=Math.max(G-Date.now(),0),_t=setTimeout(re,at);B.addEventListener(()=>{clearTimeout(_t),Ne(Gn.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}(G.signal,re);try{const _t=yield at.client.fetch(G);return yield at.storage.deleteThrottleMetadata(),_t}catch(_t){if(!function js(B){if(!(B instanceof O.ZR&&B.customData))return!1;const G=Number(B.customData.httpStatus);return 429===G||500===G||503===G||504===G}(_t))throw _t;const zt={throttleEndTimeMillis:Date.now()+(0,O.$s)(Ne),backoffCount:Ne+1};return yield at.storage.setThrottleMetadata(zt),at.attemptFetch(G,zt)}})()}}class Qo{constructor(G,re,Ne,at,_t){this.app=G,this._client=re,this._storageCache=Ne,this._storage=at,this._logger=_t,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ri(B,G){const re=B.target.error||void 0;return Gn.create(G,{originalErrorMessage:re&&re.message})}const Xo="app_namespace_store";class es{constructor(G,re,Ne,at=function Vo(){return new Promise((B,G)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Ne=>{G(Ri(Ne,"storage-open"))},re.onsuccess=Ne=>{B(Ne.target.result)},re.onupgradeneeded=Ne=>{0===Ne.oldVersion&&Ne.target.result.createObjectStore(Xo,{keyPath:"compositeKey"})}}catch(re){G(Gn.create("storage-open",{originalErrorMessage:re}))}})}()){this.appId=G,this.appName=re,this.namespace=Ne,this.openDbPromise=at}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(G){return this.set("last_fetch_status",G)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(G){return this.set("last_successful_fetch_timestamp_millis",G)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(G){return this.set("last_successful_fetch_response",G)}getActiveConfig(){return this.get("active_config")}setActiveConfig(G){return this.set("active_config",G)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(G){return this.set("active_config_etag",G)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(G){return this.set("throttle_metadata",G)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(G){var re=this;return(0,E.Z)(function*(){const Ne=yield re.openDbPromise;return new Promise((at,_t)=>{const pn=Ne.transaction([Xo],"readonly").objectStore(Xo),yr=re.createCompositeKey(G);try{const rr=pn.get(yr);rr.onerror=ti=>{_t(Ri(ti,"storage-get"))},rr.onsuccess=ti=>{const Un=ti.target.result;at(Un?Un.value:void 0)}}catch(rr){_t(Gn.create("storage-get",{originalErrorMessage:rr&&rr.message}))}})})()}set(G,re){var Ne=this;return(0,E.Z)(function*(){const at=yield Ne.openDbPromise;return new Promise((_t,zt)=>{const yr=at.transaction([Xo],"readwrite").objectStore(Xo),rr=Ne.createCompositeKey(G);try{const ti=yr.put({compositeKey:rr,value:re});ti.onerror=Un=>{zt(Ri(Un,"storage-set"))},ti.onsuccess=()=>{_t()}}catch(ti){zt(Gn.create("storage-set",{originalErrorMessage:ti&&ti.message}))}})})()}delete(G){var re=this;return(0,E.Z)(function*(){const Ne=yield re.openDbPromise;return new Promise((at,_t)=>{const pn=Ne.transaction([Xo],"readwrite").objectStore(Xo),yr=re.createCompositeKey(G);try{const rr=pn.delete(yr);rr.onerror=ti=>{_t(Ri(ti,"storage-delete"))},rr.onsuccess=()=>{at()}}catch(rr){_t(Gn.create("storage-delete",{originalErrorMessage:rr&&rr.message}))}})})()}createCompositeKey(G){return[this.appId,this.appName,this.namespace,G].join()}}class Ro{constructor(G){this.storage=G}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var G=this;return(0,E.Z)(function*(){const re=G.storage.getLastFetchStatus(),Ne=G.storage.getLastSuccessfulFetchTimestampMillis(),at=G.storage.getActiveConfig(),_t=yield re;_t&&(G.lastFetchStatus=_t);const zt=yield Ne;zt&&(G.lastSuccessfulFetchTimestampMillis=zt);const pn=yield at;pn&&(G.activeConfig=pn)})()}setLastFetchStatus(G){return this.lastFetchStatus=G,this.storage.setLastFetchStatus(G)}setLastSuccessfulFetchTimestampMillis(G){return this.lastSuccessfulFetchTimestampMillis=G,this.storage.setLastSuccessfulFetchTimestampMillis(G)}setActiveConfig(G){return this.activeConfig=G,this.storage.setActiveConfig(G)}}function pe(){return De.apply(this,arguments)}function De(){return(De=(0,E.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(B){return!1}})).apply(this,arguments)}!function go(){(0,N._registerComponent)(new H.wA("remote-config",function B(G,{instanceIdentifier:re}){const Ne=G.getProvider("app").getImmediate(),at=G.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gn.create("registration-window");if(!(0,O.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:_t,apiKey:zt,appId:pn}=Ne.options;if(!_t)throw Gn.create("registration-project-id");if(!zt)throw Gn.create("registration-api-key");if(!pn)throw Gn.create("registration-app-id");const yr=new es(pn,Ne.name,re=re||"firebase"),rr=new Ro(yr),ti=new J.Yd(hn);ti.logLevel=J.in.ERROR;const Un=new fs(at,N.SDK_VERSION,re,_t,zt,pn),xi=new Vs(Un,yr),so=new No(xi,yr,rr,ti),Va=new Qo(Ne,so,rr,yr,ti);return function Xe(B){const G=(0,O.m9)(B);G._initializePromise||(G._initializePromise=G._storageCache.loadFromStorage().then(()=>{G._isInitializationComplete=!0}))}(Va),Va},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(hn,"0.3.5"),(0,N.registerVersion)(hn,"0.3.5","esm2017")}();const ae="/firebase-messaging-sw.js",M="/firebase-cloud-messaging-push-scope",V="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",W="google.c.a.c_id",me="google.c.a.c_l",we="google.c.a.ts",ve="google.c.a.e";var nt=(()=>{return(B=nt||(nt={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",nt;var B})();function Y(B){const G=new Uint8Array(B);return btoa(String.fromCharCode(...G)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Se(B){const re=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ne=atob(re),at=new Uint8Array(Ne.length);for(let _t=0;_t<Ne.length;++_t)at[_t]=Ne.charCodeAt(_t);return at}const Le="fcm_token_details_db",tn="fcm_token_object_Store";function En(B){return bn.apply(this,arguments)}function bn(){return bn=(0,E.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(_t=>_t.name).includes(Le))return null;let G=null;return(yield(0,O.X3)(Le,5,function(){var Ne=(0,E.Z)(function*(at,_t,zt,pn){var yr;if(_t<2||!at.objectStoreNames.contains(tn))return;const rr=pn.objectStore(tn),ti=yield rr.index("fcmSenderId").get(B);if(yield rr.clear(),ti)if(2===_t){const Un=ti;if(!Un.auth||!Un.p256dh||!Un.endpoint)return;G={token:Un.fcmToken,createTime:null!==(yr=Un.createTime)&&void 0!==yr?yr:Date.now(),subscriptionOptions:{auth:Un.auth,p256dh:Un.p256dh,endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:"string"==typeof Un.vapidKey?Un.vapidKey:Y(Un.vapidKey)}}}else if(3===_t){const Un=ti;G={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:Y(Un.auth),p256dh:Y(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:Y(Un.vapidKey)}}}else if(4===_t){const Un=ti;G={token:Un.fcmToken,createTime:Un.createTime,subscriptionOptions:{auth:Y(Un.auth),p256dh:Y(Un.p256dh),endpoint:Un.endpoint,swScope:Un.swScope,vapidKey:Y(Un.vapidKey)}}}});return function(at,_t,zt,pn){return Ne.apply(this,arguments)}}())).close(),yield(0,O.Lj)(Le),yield(0,O.Lj)("fcm_vapid_details_db"),yield(0,O.Lj)("undefined"),In(G)?G:null}),bn.apply(this,arguments)}function In(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:G}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof G.auth&&G.auth.length>0&&"string"==typeof G.p256dh&&G.p256dh.length>0&&"string"==typeof G.endpoint&&G.endpoint.length>0&&"string"==typeof G.swScope&&G.swScope.length>0&&"string"==typeof G.vapidKey&&G.vapidKey.length>0}const Fr="firebase-messaging-store";let ji=null;function Go(){return ji||(ji=(0,O.X3)("firebase-messaging-database",1,(B,G)=>{0===G&&B.createObjectStore(Fr)})),ji}function Ur(B){return j.apply(this,arguments)}function j(){return(j=(0,E.Z)(function*(B){const G=Dt(B),Ne=yield(yield Go()).transaction(Fr).objectStore(Fr).get(G);if(Ne)return Ne;{const at=yield En(B.appConfig.senderId);if(at)return yield ne(B,at),at}})).apply(this,arguments)}function ne(B,G){return U.apply(this,arguments)}function U(){return(U=(0,E.Z)(function*(B,G){const re=Dt(B),at=(yield Go()).transaction(Fr,"readwrite");return yield at.objectStore(Fr).put(G,re),yield at.complete,G})).apply(this,arguments)}function le(B){return qe.apply(this,arguments)}function qe(){return(qe=(0,E.Z)(function*(B){const G=Dt(B),Ne=(yield Go()).transaction(Fr,"readwrite");yield Ne.objectStore(Fr).delete(G),yield Ne.complete})).apply(this,arguments)}function Dt({appConfig:B}){return B.appId}const Cn=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fi(B,G){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,E.Z)(function*(B,G){const re=yield ts(B),Ne=ar(G),at={method:"POST",headers:re,body:JSON.stringify(Ne)};let _t;try{_t=yield(yield fetch(pi(B.appConfig),at)).json()}catch(zt){throw Cn.create("token-subscribe-failed",{errorInfo:zt})}if(_t.error)throw Cn.create("token-subscribe-failed",{errorInfo:_t.error.message});if(!_t.token)throw Cn.create("token-subscribe-no-token");return _t.token})).apply(this,arguments)}function Tr(B,G){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,E.Z)(function*(B,G){const re=yield ts(B),Ne=ar(G.subscriptionOptions),at={method:"PATCH",headers:re,body:JSON.stringify(Ne)};let _t;try{_t=yield(yield fetch(`${pi(B.appConfig)}/${G.token}`,at)).json()}catch(zt){throw Cn.create("token-update-failed",{errorInfo:zt})}if(_t.error)throw Cn.create("token-update-failed",{errorInfo:_t.error.message});if(!_t.token)throw Cn.create("token-update-no-token");return _t.token})).apply(this,arguments)}function ki(B,G){return di.apply(this,arguments)}function di(){return(di=(0,E.Z)(function*(B,G){const Ne={method:"DELETE",headers:yield ts(B)};try{const _t=yield(yield fetch(`${pi(B.appConfig)}/${G}`,Ne)).json();if(_t.error)throw Cn.create("token-unsubscribe-failed",{errorInfo:_t.error.message})}catch(at){throw Cn.create("token-unsubscribe-failed",{errorInfo:at})}})).apply(this,arguments)}function pi({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function ts(B){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,E.Z)(function*({appConfig:B,installations:G}){const re=yield G.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function ar({p256dh:B,auth:G,endpoint:re,vapidKey:Ne}){const at={web:{endpoint:re,auth:G,p256dh:B}};return Ne!==V&&(at.web.applicationPubKey=Ne),at}const Gs=6048e5;function ns(B){return qo.apply(this,arguments)}function qo(){return(qo=(0,E.Z)(function*(B){const G=yield Ou(B.swRegistration,B.vapidKey),re={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:G.endpoint,auth:Y(G.getKey("auth")),p256dh:Y(G.getKey("p256dh"))},Ne=yield Ur(B.firebaseDependencies);if(Ne){if(Mu(Ne.subscriptionOptions,re))return Date.now()>=Ne.createTime+Gs?Bl(B,{token:Ne.token,createTime:Date.now(),subscriptionOptions:re}):Ne.token;try{yield ki(B.firebaseDependencies,Ne.token)}catch(at){console.warn(at)}return Zt(B.firebaseDependencies,re)}return Zt(B.firebaseDependencies,re)})).apply(this,arguments)}function rs(B){return As.apply(this,arguments)}function As(){return(As=(0,E.Z)(function*(B){const G=yield Ur(B.firebaseDependencies);G&&(yield ki(B.firebaseDependencies,G.token),yield le(B.firebaseDependencies));const re=yield B.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function Bl(B,G){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,E.Z)(function*(B,G){try{const re=yield Tr(B.firebaseDependencies,G),Ne=Object.assign(Object.assign({},G),{token:re,createTime:Date.now()});return yield ne(B.firebaseDependencies,Ne),re}catch(re){throw yield rs(B),re}})).apply(this,arguments)}function Zt(B,G){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,E.Z)(function*(B,G){const Ne={token:yield fi(B,G),createTime:Date.now(),subscriptionOptions:G};return yield ne(B,Ne),Ne.token})).apply(this,arguments)}function Ou(B,G){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,E.Z)(function*(B,G){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Se(G)})})).apply(this,arguments)}function Mu(B,G){return G.vapidKey===B.vapidKey&&G.endpoint===B.endpoint&&G.auth===B.auth&&G.p256dh===B.p256dh}function Ys(B){const G={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function da(B,G){if(!G.notification)return;B.notification={};const re=G.notification.title;re&&(B.notification.title=re);const Ne=G.notification.body;Ne&&(B.notification.body=Ne);const at=G.notification.image;at&&(B.notification.image=at)}(G,B),function ec(B,G){!G.data||(B.data=G.data)}(G,B),function Ul(B,G){if(!G.fcmOptions)return;B.fcmOptions={};const re=G.fcmOptions.link;re&&(B.fcmOptions.link=re);const Ne=G.fcmOptions.analytics_label;Ne&&(B.fcmOptions.analyticsLabel=Ne)}(G,B),G}function jl(B){return"object"==typeof B&&!!B&&W in B}function xc(B,G){const re=[];for(let Ne=0;Ne<B.length;Ne++)re.push(B.charAt(Ne)),Ne<G.length&&re.push(G.charAt(Ne));return re.join("")}function mo(B){return Cn.create("missing-app-config-values",{valueName:B})}xc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),xc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Zo{constructor(G,re,Ne){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const at=function nl(B){if(!B||!B.options)throw mo("App Configuration Object");if(!B.name)throw mo("App Name");const G=["projectId","apiKey","appId","messagingSenderId"],{options:re}=B;for(const Ne of G)if(!re[Ne])throw mo(Ne);return{appName:B.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(G);this.firebaseDependencies={app:G,appConfig:at,installations:re,analyticsProvider:Ne}}_delete(){return Promise.resolve()}}function ha(B){return Is.apply(this,arguments)}function Is(){return(Is=(0,E.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(ae,{scope:M}),B.swRegistration.update().catch(()=>{})}catch(G){throw Cn.create("failed-service-worker-registration",{browserErrorMessage:G.message})}})).apply(this,arguments)}function Ps(B,G){return zo.apply(this,arguments)}function zo(){return(zo=(0,E.Z)(function*(B,G){if(!G&&!B.swRegistration&&(yield ha(B)),G||!B.swRegistration){if(!(G instanceof ServiceWorkerRegistration))throw Cn.create("invalid-sw-registration");B.swRegistration=G}})).apply(this,arguments)}function Vh(B,G){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(B,G){G?B.vapidKey=G:B.vapidKey||(B.vapidKey=V)})).apply(this,arguments)}function Ac(){return(Ac=(0,E.Z)(function*(B,G){if(!navigator)throw Cn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Cn.create("permission-blocked");return yield Vh(B,null==G?void 0:G.vapidKey),yield Ps(B,null==G?void 0:G.serviceWorkerRegistration),ns(B)})).apply(this,arguments)}function rl(B,G,re){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,E.Z)(function*(B,G,re){const Ne=Nu(G);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Ne,{message_id:re[W],message_name:re[me],message_time:re[we],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Nu(B){switch(B){case nt.NOTIFICATION_CLICKED:return"notification_open";case nt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function ko(){return(ko=(0,E.Z)(function*(B,G){const re=G.data;if(!re.isFirebaseMessaging)return;B.onMessageHandler&&re.messageType===nt.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(Ys(re)):B.onMessageHandler.next(Ys(re)));const Ne=re.data;jl(Ne)&&"1"===Ne[ve]&&(yield rl(B,re.messageType,Ne))})).apply(this,arguments)}const Ic="@firebase/messaging",Oc=B=>{const G=new Zo(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function Qs(B,G){return ko.apply(this,arguments)}(G,re)),G},Vl=B=>{const G=B.getProvider("messaging").getImmediate();return{getToken:Ne=>function Gh(B,G){return Ac.apply(this,arguments)}(G,Ne)}};function il(){return fa.apply(this,arguments)}function fa(){return(fa=(0,E.Z)(function*(){try{yield(0,O.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Mc(){(0,N._registerComponent)(new H.wA("messaging",Oc,"PUBLIC")),(0,N._registerComponent)(new H.wA("messaging-internal",Vl,"PRIVATE")),(0,N.registerVersion)(Ic,"0.9.10"),(0,N.registerVersion)(Ic,"0.9.10","esm2017")}();const Hl="analytics",nc="firebase_id",Rc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rc="https://www.googletagmanager.com/gtag/js",Di=new J.Yd("@firebase/analytics");function kc(B){return Promise.all(B.map(G=>G.catch(re=>re)))}function Hh(B,G){const re=document.createElement("script");re.src=`${rc}?l=${B}&id=${G}`,re.async=!0,document.head.appendChild(re)}function ga(B,G,re,Ne,at,_t){return Lc.apply(this,arguments)}function Lc(){return(Lc=(0,E.Z)(function*(B,G,re,Ne,at,_t){const zt=Ne[at];try{if(zt)yield G[zt];else{const yr=(yield kc(re)).find(rr=>rr.measurementId===at);yr&&(yield G[yr.appId])}}catch(pn){Di.error(pn)}B("config",at,_t)})).apply(this,arguments)}function ro(B,G,re,Ne,at){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,E.Z)(function*(B,G,re,Ne,at){try{let _t=[];if(at&&at.send_to){let zt=at.send_to;Array.isArray(zt)||(zt=[zt]);const pn=yield kc(re);for(const yr of zt){const rr=pn.find(Un=>Un.measurementId===yr),ti=rr&&G[rr.appId];if(!ti){_t=[];break}_t.push(ti)}}0===_t.length&&(_t=Object.values(G)),yield Promise.all(_t),B("event",Ne,at||{})}catch(_t){Di.error(_t)}})).apply(this,arguments)}function qh(){const B=window.document.getElementsByTagName("script");for(const G of Object.values(B))if(G.src&&G.src.includes(rc))return G;return null}const si=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),hr=new class Fn{constructor(G={},re=1e3){this.throttleMetadata=G,this.intervalMillis=re}getThrottleMetadata(G){return this.throttleMetadata[G]}setThrottleMetadata(G,re){this.throttleMetadata[G]=re}deleteThrottleMetadata(G){delete this.throttleMetadata[G]}};function ku(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Dn(B){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,E.Z)(function*(B){var G;const{appId:re,apiKey:Ne}=B,at={method:"GET",headers:ku(Ne)},_t=Rc.replace("{app-id}",re),zt=yield fetch(_t,at);if(200!==zt.status&&304!==zt.status){let pn="";try{const yr=yield zt.json();(null===(G=yr.error)||void 0===G?void 0:G.message)&&(pn=yr.error.message)}catch(yr){}throw si.create("config-fetch-failed",{httpStatus:zt.status,responseMessage:pn})}return zt.json()})).apply(this,arguments)}function Kt(B){return Li.apply(this,arguments)}function Li(){return(Li=(0,E.Z)(function*(B,G=hr,re){const{appId:Ne,apiKey:at,measurementId:_t}=B.options;if(!Ne)throw si.create("no-app-id");if(!at){if(_t)return{measurementId:_t,appId:Ne};throw si.create("no-api-key")}const zt=G.getThrottleMetadata(Ne)||{backoffCount:0,throttleEndTimeMillis:Date.now()},pn=new Zl;return setTimeout((0,E.Z)(function*(){pn.abort()}),void 0!==re?re:6e4),Pi({appId:Ne,apiKey:at,measurementId:_t},zt,pn,G)})).apply(this,arguments)}function Pi(B,G,re){return ic.apply(this,arguments)}function ic(){return(ic=(0,E.Z)(function*(B,{throttleEndTimeMillis:G,backoffCount:re},Ne,at=hr){const{appId:_t,measurementId:zt}=B;try{yield Zh(Ne,G)}catch(pn){if(zt)return Di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${pn.message}]`),{appId:_t,measurementId:zt};throw pn}try{const pn=yield Dn(B);return at.deleteThrottleMetadata(_t),pn}catch(pn){if(!Nd(pn)){if(at.deleteThrottleMetadata(_t),zt)return Di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${zt} provided in the "measurementId" field in the local Firebase config. [${pn.message}]`),{appId:_t,measurementId:zt};throw pn}const yr=503===Number(pn.customData.httpStatus)?(0,O.$s)(re,at.intervalMillis,30):(0,O.$s)(re,at.intervalMillis),rr={throttleEndTimeMillis:Date.now()+yr,backoffCount:re+1};return at.setThrottleMetadata(_t,rr),Di.debug(`Calling attemptFetch again in ${yr} millis`),Pi(B,rr,Ne,at)}})).apply(this,arguments)}function Zh(B,G){return new Promise((re,Ne)=>{const at=Math.max(G-Date.now(),0),_t=setTimeout(re,at);B.addEventListener(()=>{clearTimeout(_t),Ne(si.create("fetch-throttle",{throttleEndTimeMillis:G}))})})}function Nd(B){if(!(B instanceof O.ZR&&B.customData))return!1;const G=Number(B.customData.httpStatus);return 429===G||500===G||503===G||504===G}class Zl{constructor(){this.listeners=[]}addEventListener(G){this.listeners.push(G)}abort(){this.listeners.forEach(G=>G())}}function zh(){return Lu.apply(this,arguments)}function Lu(){return(Lu=(0,E.Z)(function*(){if(!(0,O.hl)())return Di.warn(si.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(B){return Di.warn(si.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function zl(){return(zl=(0,E.Z)(function*(B,G,re,Ne,at,_t,zt){var pn;const yr=Kt(B);yr.then(so=>{re[so.measurementId]=so.appId,B.options.measurementId&&so.measurementId!==B.options.measurementId&&Di.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${so.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(so=>Di.error(so)),G.push(yr);const rr=zh().then(so=>{if(so)return Ne.getId()}),[ti,Un]=yield Promise.all([yr,rr]);qh()||Hh(_t,ti.measurementId),at("js",new Date);const xi=null!==(pn=null==zt?void 0:zt.config)&&void 0!==pn?pn:{};return xi.origin="firebase",xi.update=!0,null!=Un&&(xi[nc]=Un),at("config",ti.measurementId,xi),ti.measurementId})).apply(this,arguments)}class io{constructor(G){this.app=G}_delete(){return delete Ms[this.app.options.appId],Promise.resolve()}}let Ms={},Ba=[];const Rr={};let To,ir,Xs="dataLayer",Rd=!1;function Ua(B,G,re){!function Fu(){const B=[];if((0,O.ru)()&&B.push("This is a browser extension environment."),(0,O.zI)()||B.push("Cookies are not available."),B.length>0){const G=B.map((Ne,at)=>`(${at+1}) ${Ne}`).join(" "),re=si.create("invalid-analytics-context",{errorInfo:G});Di.warn(re.message)}}();const Ne=B.options.appId;if(!Ne)throw si.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw si.create("no-api-key");Di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Ms[Ne])throw si.create("already-exists",{id:Ne});if(!Rd){!function Zs(B){let G=[];Array.isArray(window[B])?G=window[B]:window[B]=G}(Xs);const{wrappedGtag:_t,gtagCore:zt}=function Ru(B,G,re,Ne,at){let _t=function(...zt){window[Ne].push(arguments)};return window[at]&&"function"==typeof window[at]&&(_t=window[at]),window[at]=function ma(B,G,re,Ne){function _t(){return(_t=(0,E.Z)(function*(zt,pn,yr){try{"event"===zt?yield ro(B,G,re,pn,yr):"config"===zt?yield ga(B,G,re,Ne,pn,yr):B("set",pn)}catch(rr){Di.error(rr)}})).apply(this,arguments)}return function at(zt,pn,yr){return _t.apply(this,arguments)}}(_t,B,G,re),{gtagCore:_t,wrappedGtag:window[at]}}(Ms,Ba,Rr,Xs,"gtag");ir=_t,To=zt,Rd=!0}return Ms[Ne]=function Os(B,G,re,Ne,at,_t,zt){return zl.apply(this,arguments)}(B,Ba,Rr,G,To,Xs,re),new io(B)}function Oi(){return(Oi=(0,E.Z)(function*(B,G,re,Ne,at){if(at&&at.global)B("event",re,Ne);else{const _t=yield G;B("event",re,Object.assign(Object.assign({},Ne),{send_to:_t}))}})).apply(this,arguments)}function gs(){return cl.apply(this,arguments)}function cl(){return(cl=(0,E.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(B){return!1}})).apply(this,arguments)}const Uu="@firebase/analytics";!function ac(){(0,N._registerComponent)(new H.wA(Hl,(G,{options:re})=>Ua(G.getProvider("app").getImmediate(),G.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,N._registerComponent)(new H.wA("analytics-internal",function B(G){try{const re=G.getProvider(Hl).getImmediate();return{logEvent:(Ne,at,_t)=>function wn(B,G,re,Ne){B=(0,O.m9)(B),function xr(B,G,re,Ne,at){return Oi.apply(this,arguments)}(ir,Ms[B.app.options.appId],G,re,Ne).catch(at=>Di.error(at))}(re,Ne,at,_t)}}catch(re){throw si.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,N.registerVersion)(Uu,"0.7.6"),(0,N.registerVersion)(Uu,"0.7.6","esm2017")}();var ta=P(4408),Fi=P(7565);const na=new class Vi extends Fi.v{}(class Ci extends ta.o{constructor(G,re){super(G,re),this.scheduler=G,this.work=re}schedule(G,re=0){return re>0?super.schedule(G,re):(this.delay=re,this.state=G,this.scheduler.flush(this),this)}execute(G,re){return re>0||this.closed?super.execute(G,re):this._execute(G,re)}requestAsyncId(G,re,Ne=0){return null!=Ne&&Ne>0||null==Ne&&this.delay>0?super.requestAsyncId(G,re,Ne):G.flush(this)}});var hi=P(4986),ra=P(8306),Gi=P(8505),ms=P(9468),cc=P(5363);const _a=new p.GfV("7.2.1"),is="__angularfire_symbol__analyticsIsSupportedValue",Wl="__angularfire_symbol__analyticsIsSupported",Rs="__angularfire_symbol__remoteConfigIsSupportedValue",_o="__angularfire_symbol__remoteConfigIsSupported",pr="__angularfire_symbol__messagingIsSupportedValue",ll="__angularfire_symbol__messagingIsSupported";function kd(B,G,re){if(G){if(1===G.length)return G[0];const _t=G.filter(zt=>zt.app===re);if(1===_t.length)return _t[0]}return re.container.getProvider(B).getImmediate({optional:!0})}globalThis[Wl]||(globalThis[Wl]=gs().then(B=>globalThis[is]=B).catch(()=>globalThis[is]=!1)),globalThis[ll]||(globalThis[ll]=il().then(B=>globalThis[pr]=B).catch(()=>globalThis[pr]=!1)),globalThis[_o]||(globalThis[_o]=pe().then(B=>globalThis[Rs]=B).catch(()=>globalThis[Rs]=!1));const ul=(B,G)=>{const re=G?[G]:(0,e.C6)(),Ne=[];return re.forEach(at=>{at.container.getProvider(B).instances.forEach(zt=>{Ne.includes(zt)||Ne.push(zt)})}),Ne};function ja(){}class $l{constructor(G,re=na){this.zone=G,this.delegate=re}now(){return this.delegate.now()}schedule(G,re,Ne){const at=this.zone;return this.delegate.schedule(function(zt){at.runGuarded(()=>{G.apply(this,[zt])})},re,Ne)}}class Wh{constructor(G){this.zone=G,this.task=null}call(G,re){const Ne=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)),re.pipe((0,Gi.b)({next:Ne,complete:Ne,error:Ne})).subscribe(G).add(Ne)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ya=(()=>{class B{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=re.run(()=>new $l(Zone.current,hi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(re){return new(re||B)(p.LFG(p.R0b))},B.\u0275prov=p.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function lc(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function ba(B){return lc().ngZone.runOutsideAngular(()=>B())}function os(B){return lc().ngZone.run(()=>B())}function jc(B){return lc(),function Kl(B){return function(re){return(re=re.lift(new Wh(B.ngZone))).pipe((0,ms.R)(B.outsideAngular),(0,cc.Q)(B.insideAngular))}}(lc())(B)}const Er=(B,G)=>function(){const Ne=arguments;return G&&setTimeout(()=>{"scheduled"===G.state&&G.invoke()},10),os(()=>B.apply(void 0,Ne))},Jl=(B,G)=>function(){let re;const Ne=arguments;for(let _t=0;_t<arguments.length;_t++)"function"==typeof Ne[_t]&&(G&&(re||(re=os(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ja,{},ja,ja)))),Ne[_t]=Er(Ne[_t],re));const at=ba(()=>B.apply(this,Ne));if(!G){if(at instanceof ra.y){const _t=lc();return at.pipe((0,ms.R)(_t.outsideAngular),(0,cc.Q)(_t.insideAngular))}return os(()=>at)}return at instanceof ra.y?at.pipe(jc):at instanceof Promise?os(()=>new Promise((_t,zt)=>at.then(pn=>os(()=>_t(pn)),pn=>os(()=>zt(pn))))):"function"==typeof at&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),at.apply(this,arguments)}:os(()=>at)}},896:lt=>{window,lt.exports=function(x){var P={};function p(e){if(P[e])return P[e].exports;var E=P[e]={i:e,l:!1,exports:{}};return x[e].call(E.exports,E,E.exports,p),E.l=!0,E.exports}return p.m=x,p.c=P,p.d=function(e,E,N){p.o(e,E)||Object.defineProperty(e,E,{enumerable:!0,get:N})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,E){if(1&E&&(e=p(e)),8&E||4&E&&"object"==typeof e&&e&&e.__esModule)return e;var N=Object.create(null);if(p.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:e}),2&E&&"string"!=typeof e)for(var O in e)p.d(N,O,function(H){return e[H]}.bind(null,O));return N},p.n=function(e){var E=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(E,"a",E),E},p.o=function(e,E){return Object.prototype.hasOwnProperty.call(e,E)},p.p="/",p(p.s=89)}([function(x,P){x.exports=function(p,e,E){return e in p?Object.defineProperty(p,e,{value:E,enumerable:!0,configurable:!0,writable:!0}):p[e]=E,p},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){function p(e){return x.exports=p=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},x.exports.__esModule=!0,x.exports.default=x.exports,p(e)}x.exports=p,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){function p(e,E){for(var N=0;N<E.length;N++){var O=E[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(e,O.key,O)}}x.exports=function(e,E,N){return E&&p(e.prototype,E),N&&p(e,N),Object.defineProperty(e,"prototype",{writable:!1}),e},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(20).default,E=p(1);x.exports=function(N,O){if(O&&("object"===e(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return E(N)},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(41);x.exports=function(E,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&e(E,N)},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){x.exports={EPSILON:p(62),create:p(63),clone:p(156),fromValues:p(157),copy:p(158),set:p(159),equals:p(160),exactEquals:p(161),add:p(162),subtract:p(64),sub:p(163),multiply:p(65),mul:p(164),divide:p(66),div:p(165),inverse:p(166),min:p(167),max:p(168),rotate:p(169),floor:p(170),ceil:p(171),round:p(172),scale:p(173),scaleAndAdd:p(174),distance:p(67),dist:p(175),squaredDistance:p(68),sqrDist:p(176),length:p(69),len:p(177),squaredLength:p(70),sqrLen:p(178),negate:p(179),normalize:p(180),dot:p(181),cross:p(182),lerp:p(183),random:p(184),transformMat2:p(185),transformMat2d:p(186),transformMat3:p(187),transformMat4:p(188),forEach:p(189),limit:p(190)}},function(x,P,p){x.exports=p(224)},function(x,P,p){"use strict";P.a={init:function(e,E){for(var N=e.length;N--;)e[N]=E},shuffle:function(e){for(var E=e.length-1;E>=0;E--){var N=Math.floor(Math.random()*E),O=e[E];e[E]=e[N],e[N]=O}return e},toPointList:function(e){var E=e.reduce(function(N,O){var H="[".concat(O.join(","),"]");return N.push(H),N},[]);return"[".concat(E.join(",\r\n"),"]")},threshold:function(e,E,N){return e.reduce(function(O,H){return N.apply(e,[H])>=E&&O.push(H),O},[])},maxIndex:function(e){for(var E=0,N=0;N<e.length;N++)e[N]>e[E]&&(E=N);return E},max:function(e){for(var E=0,N=0;N<e.length;N++)e[N]>E&&(E=e[N]);return E},sum:function(e){for(var E=e.length,N=0;E--;)N+=e[E];return N}}},function(x,P,p){"use strict";p.d(P,"h",function(){return K}),p.d(P,"i",function(){return he}),p.d(P,"b",function(){return st}),p.d(P,"j",function(){return Ye}),p.d(P,"e",function(){return ze}),p.d(P,"c",function(){return gt}),p.d(P,"f",function(){return ge}),p.d(P,"g",function(){return Be}),p.d(P,"a",function(){return ut}),p.d(P,"d",function(){return et});var e=p(7),E=p(84),N={clone:e.clone,dot:e.dot},O=function(Te,Ke){var ke=[],ot={rad:0,vec:N.clone([0,0])},de={};function ue(ye){de[ye.id]=ye,ke.push(ye)}function X(){var ye,Fe=0;for(ye=0;ye<ke.length;ye++)Fe+=ke[ye].rad;ot.rad=Fe/ke.length,ot.vec=N.clone([Math.cos(ot.rad),Math.sin(ot.rad)])}return ue(Te),X(),{add:function(ye){de[ye.id]||(ue(ye),X())},fits:function(ye){return Math.abs(N.dot(ye.point.vec,ot.vec))>Ke},getPoints:function(){return ke},getCenter:function(){return ot}}},H=function(Te,Ke,ke){return{rad:Te[ke],point:Te,id:Ke}},J=p(9),Z={clone:e.clone},Q={clone:E.clone};function K(Te,Ke){return{x:Te,y:Ke,toVec2:function(){return Z.clone([this.x,this.y])},toVec3:function(){return Q.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ie(Te,Ke){Ke||(Ke=8);for(var ke=Te.data,ot=ke.length,de=8-Ke,ue=new Int32Array(1<<Ke);ot--;)ue[ke[ot]>>de]++;return ue}function he(Te,Ke){var ke=function(ot){var de,ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,X=8-ue;function ye(It,Sn){for(var Pt=0,Et=It;Et<=Sn;Et++)Pt+=de[Et];return Pt}function Fe(It,Sn){for(var Pt=0,Et=It;Et<=Sn;Et++)Pt+=Et*de[Et];return Pt}function _e(){var It,Sn,Pt,Et,kt=[0],vn=(1<<ue)-1;de=ie(ot,ue);for(var lr=1;lr<vn;lr++)0==(Pt=(It=ye(0,lr))*(Sn=ye(lr+1,vn)))&&(Pt=1),Et=Fe(0,lr)*Sn-Fe(lr+1,vn)*It,kt[lr]=Et*Et/Pt;return J.a.maxIndex(kt)}return _e()<<X}(Te);return function(ot,de,ue){ue||(ue=ot);for(var X=ot.data,ye=X.length,Fe=ue.data;ye--;)Fe[ye]=X[ye]<de?1:0}(Te,ke,Ke),ke}function st(Te,Ke,ke){var ot,de,ue,X,ye=[];function Fe(_e){var wt=!1;for(de=0;de<ye.length;de++)(ue=ye[de]).fits(_e)&&(ue.add(_e),wt=!0);return wt}for(ke||(ke="rad"),ot=0;ot<Te.length;ot++)Fe(X=H(Te[ot],ot,ke))||ye.push(O(X,Ke));return ye}function Ye(Te,Ke,ke){var ot,de,ue,X,ye=0,Fe=0,_e=[];for(ot=0;ot<Ke;ot++)_e[ot]={score:0,item:null};for(ot=0;ot<Te.length;ot++)if((de=ke.apply(this,[Te[ot]]))>Fe)for((ue=_e[ye]).score=de,ue.item=Te[ot],Fe=Number.MAX_VALUE,X=0;X<Ke;X++)_e[X].score<Fe&&(Fe=_e[X].score,ye=X);return _e}function ze(Te,Ke,ke){for(var ot,de=0,ue=Ke.x,X=Math.floor(Te.length/4),ye=Ke.x/2,Fe=0,_e=Ke.x;ue<X;){for(ot=0;ot<ye;ot++)ke[Fe]=(.299*Te[4*de+0]+.587*Te[4*de+1]+.114*Te[4*de+2]+(.299*Te[4*(de+1)+0]+.587*Te[4*(de+1)+1]+.114*Te[4*(de+1)+2])+(.299*Te[4*ue+0]+.587*Te[4*ue+1]+.114*Te[4*ue+2])+(.299*Te[4*(ue+1)+0]+.587*Te[4*(ue+1)+1]+.114*Te[4*(ue+1)+2]))/4,Fe++,de+=2,ue+=2;de+=_e,ue+=_e}}function gt(Te,Ke,ke){var ot=Te.length/4|0;if(ke&&!0===ke.singleChannel)for(var de=0;de<ot;de++)Ke[de]=Te[4*de+0];else for(var ue=0;ue<ot;ue++)Ke[ue]=.299*Te[4*ue+0]+.587*Te[4*ue+1]+.114*Te[4*ue+2]}function ge(Te,Ke){for(var ke=Te.data,ot=Te.size.x,de=Ke.data,ue=0,X=ot,ye=ke.length,Fe=ot/2,_e=0;X<ye;){for(var wt=0;wt<Fe;wt++)de[_e]=Math.floor((ke[ue]+ke[ue+1]+ke[X]+ke[X+1])/4),_e++,ue+=2,X+=2;ue+=ot,X+=ot}}function Be(Te){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],ke=Te[0],de=Te[2],ue=de*Te[1],X=ue*(1-Math.abs(ke/60%2-1)),ye=de-ue,Fe=0,_e=0,wt=0;return ke<60?(Fe=ue,_e=X):ke<120?(Fe=X,_e=ue):ke<180?(_e=ue,wt=X):ke<240?(_e=X,wt=ue):ke<300?(Fe=X,wt=ue):ke<360&&(Fe=ue,wt=X),Ke[0]=255*(Fe+ye)|0,Ke[1]=255*(_e+ye)|0,Ke[2]=255*(wt+ye)|0,Ke}function Ie(Te){for(var Ke=[],ke=[],ot=1;ot<Math.sqrt(Te)+1;ot++)Te%ot==0&&(ke.push(ot),ot!==Te/ot&&Ke.unshift(Math.floor(Te/ot)));return ke.concat(Ke)}function ut(Te,Ke){var ke,ot=Ie(Ke.x),de=Ie(Ke.y),ue=Math.max(Ke.x,Ke.y),X=function(Pt,Et){for(var kt=0,vn=0,lr=[];kt<Pt.length&&vn<Et.length;)Pt[kt]===Et[vn]?(lr.push(Pt[kt]),kt++,vn++):Pt[kt]>Et[vn]?vn++:kt++;return lr}(ot,de),ye=[8,10,15,20,32,60,80],Fe={"x-small":5,small:4,medium:3,large:2,"x-large":1},_e=Fe[Te]||Fe.medium,wt=ye[_e],It=Math.floor(ue/wt);function Sn(Pt){for(var Et=0,kt=Pt[Math.floor(Pt.length/2)];Et<Pt.length-1&&Pt[Et]<It;)Et++;return Et>0&&(kt=Math.abs(Pt[Et]-It)>Math.abs(Pt[Et-1]-It)?Pt[Et-1]:Pt[Et]),It/kt<ye[_e+1]/ye[_e]&&It/kt>ye[_e-1]/ye[_e]?{x:kt,y:kt}:null}return(ke=Sn(X))||(ke=Sn(Ie(ue)))||(ke=Sn(Ie(It*wt))),ke}var Ge={top:function(Te,Ke){return"%"===Te.unit?Math.floor(Ke.height*(Te.value/100)):null},right:function(Te,Ke){return"%"===Te.unit?Math.floor(Ke.width-Ke.width*(Te.value/100)):null},bottom:function(Te,Ke){return"%"===Te.unit?Math.floor(Ke.height-Ke.height*(Te.value/100)):null},left:function(Te,Ke){return"%"===Te.unit?Math.floor(Ke.width*(Te.value/100)):null}};function et(Te,Ke,ke){var ot={width:Te,height:Ke},de=Object.keys(ke).reduce(function(ue,X){var _e,ye=(_e=ke[X],{value:parseFloat(_e),unit:(_e.indexOf("%"),"%")}),Fe=Ge[X](ye,ot);return ue[X]=Fe,ue},{});return{sx:de.left,sy:de.top,sw:de.right-de.left,sh:de.bottom-de.top}}},function(x,P,p){"use strict";var e=p(83),E=p.n(e),N=p(3),O=p.n(N),H=p(4),J=p.n(H),Z=p(0),Q=p.n(Z),K=p(7),ie=p(10),he=p(9),st={clone:K.clone};function Ye(gt){if(gt<0)throw new Error("expected positive number, received ".concat(gt))}var ze=function(){function gt(ge,Be){var Ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,ut=arguments.length>3?arguments[3]:void 0;O()(this,gt),Q()(this,"data",void 0),Q()(this,"size",void 0),Q()(this,"indexMapping",void 0),Be?this.data=Be:(this.data=new Ie(ge.x*ge.y),ut&&he.a.init(this.data,0)),this.size=ge}return J()(gt,[{key:"inImageWithBorder",value:function(ge){var Be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ye(Be),ge.x>=0&&ge.y>=0&&ge.x<this.size.x+2*Be&&ge.y<this.size.y+2*Be}},{key:"subImageAsCopy",value:function(ge,Be){Ye(Be.x),Ye(Be.y);for(var Ie=ge.size,ut=Ie.x,Ge=Ie.y,et=0;et<ut;et++)for(var Te=0;Te<Ge;Te++)ge.data[Te*ut+et]=this.data[(Be.y+Te)*this.size.x+Be.x+et];return ge}},{key:"get",value:function(ge,Be){return this.data[Be*this.size.x+ge]}},{key:"getSafe",value:function(ge,Be){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var Ie=0;Ie<this.size.x;Ie++)this.indexMapping.x[Ie]=Ie,this.indexMapping.x[Ie+this.size.x]=Ie;for(var ut=0;ut<this.size.y;ut++)this.indexMapping.y[ut]=ut,this.indexMapping.y[ut+this.size.y]=ut}return this.data[this.indexMapping.y[Be+this.size.y]*this.size.x+this.indexMapping.x[ge+this.size.x]]}},{key:"set",value:function(ge,Be,Ie){return this.data[Be*this.size.x+ge]=Ie,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ge=this.size,Be=ge.x,Ie=ge.y,ut=0;ut<Be;ut++)this.data[ut]=this.data[(Ie-1)*Be+ut]=0;for(var Ge=1;Ge<Ie-1;Ge++)this.data[Ge*Be]=this.data[Ge*Be+(Be-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ge){var Be,Ie,ut,Ge,et,Te,Ke,ke,ot,de,ue=this.data,X=this.size.y,ye=this.size.x,Fe=[],_e=[],wt=Math.PI,It=wt/4;if(ge<=0)return _e;for(et=0;et<ge;et++)Fe[et]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(Ie=0;Ie<X;Ie++)for(Ge=Ie*Ie,Be=0;Be<ye;Be++)(ut=ue[Ie*ye+Be])>0&&((Te=Fe[ut-1]).m00+=1,Te.m01+=Ie,Te.m10+=Be,Te.m11+=Be*Ie,Te.m02+=Ge,Te.m20+=Be*Be);for(et=0;et<ge;et++)Te=Fe[et],isNaN(Te.m00)||0===Te.m00||(de=(Te.m02/Te.m00-(ot=Te.m01/Te.m00)*ot-(Te.m20/Te.m00-(ke=Te.m10/Te.m00)*ke))/(2*(Ke=Te.m11/Te.m00-ke*ot)),de=.5*Math.atan(de)+(Ke>=0?It:-It)+wt,Te.theta=(180*de/wt+90)%180-90,Te.theta<0&&(Te.theta+=180),Te.rad=de>wt?de-wt:de,Te.vec=st.clone([Math.cos(de),Math.sin(de)]),_e.push(Te));return _e}},{key:"getAsRGBA",value:function(){for(var ge=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Be=new Uint8ClampedArray(4*this.size.x*this.size.y),Ie=0;Ie<this.size.y;Ie++)for(var ut=0;ut<this.size.x;ut++){var Ge=Ie*this.size.x+ut,et=this.get(ut,Ie)*ge;Be[4*Ge+0]=et,Be[4*Ge+1]=et,Be[4*Ge+2]=et,Be[4*Ge+3]=255}return Be}},{key:"show",value:function(ge){var Be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Ie=ge.getContext("2d");if(!Ie)throw new Error("Unable to get canvas context");var ut=Ie.getImageData(0,0,ge.width,ge.height),Ge=this.getAsRGBA(Be);ge.width=this.size.x,ge.height=this.size.y;var et=new ImageData(Ge,ut.width,ut.height);Ie.putImageData(et,0,0)}},{key:"overlay",value:function(ge,Be,Ie){var ut=Be<0||Be>360?360:Be,Ge=[0,1,1],et=[0,0,0],Te=[255,255,255],Ke=[0,0,0],ke=ge.getContext("2d");if(!ke)throw new Error("Unable to get canvas context");for(var ot=ke.getImageData(Ie.x,Ie.y,this.size.x,this.size.y),de=ot.data,ue=this.data.length;ue--;){Ge[0]=this.data[ue]*ut;var X=4*ue,ye=Ge[0]<=0?Te:Ge[0]>=360?Ke:Object(ie.g)(Ge,et),Fe=E()(ye,3);de[X]=Fe[0],de[X+1]=Fe[1],de[X+2]=Fe[2],de[X+3]=255}ke.putImageData(ot,Ie.x,Ie.y)}}]),gt}();P.a=ze},function(x,P){function p(e,E,N,O,H,J,Z){try{var Q=e[J](Z),K=Q.value}catch(ie){return void N(ie)}Q.done?E(K):Promise.resolve(K).then(O,H)}x.exports=function(e){return function(){var E=this,N=arguments;return new Promise(function(O,H){var J=e.apply(E,N);function Z(K){p(J,O,H,Z,Q,"next",K)}function Q(K){p(J,O,H,Z,Q,"throw",K)}Z(void 0)})}},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(225);function E(){return"undefined"!=typeof Reflect&&Reflect.get?(x.exports=E=Reflect.get,x.exports.__esModule=!0,x.exports.default=x.exports):(x.exports=E=function(N,O,H){var J=e(N,O);if(J){var Z=Object.getOwnPropertyDescriptor(J,O);return Z.get?Z.get.call(arguments.length<3?N:H):Z.value}},x.exports.__esModule=!0,x.exports.default=x.exports),E.apply(this,arguments)}x.exports=E,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p){var e=typeof p;return null!=p&&("object"==e||"function"==e)}},function(x,P){x.exports=Array.isArray},function(x,P,p){"use strict";P.a={drawRect:function(e,E,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth||1,N.beginPath(),N.strokeRect(e.x,e.y,E.x,E.y)},drawPath:function(e,E,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth,N.beginPath(),N.moveTo(e[0][E.x],e[0][E.y]);for(var H=1;H<e.length;H++)N.lineTo(e[H][E.x],e[H][E.y]);N.closePath(),N.stroke()},drawImage:function(e,E,N){var O=N.getImageData(0,0,E.x,E.y),H=O.data,J=H.length,Z=e.length;if(J/Z!=4)return!1;for(;Z--;){var Q=e[Z];H[--J]=255,H[--J]=Q,H[--J]=Q,H[--J]=Q}return N.putImageData(O,0,0),!0}}},function(x,P,p){var e=p(90),E=p(145)(function(N,O,H){e(N,O,H)});x.exports=E},function(x,P,p){var e=p(45),E="object"==typeof self&&self&&self.Object===Object&&self,N=e||E||Function("return this")();x.exports=N},function(x,P){x.exports=function(p){return null!=p&&"object"==typeof p}},function(x,P){function p(e){return x.exports=p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},x.exports.__esModule=!0,x.exports.default=x.exports,p(e)}x.exports=p,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){"use strict";P.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,E){var N,O=e.data,H=E.data,J=this.searchDirections,Z=e.size.x;function Q(ie,he,st,Ye){var ze,gt,ge;for(ze=0;ze<7;ze++){if(O[N=(gt=ie.cy+J[ie.dir][0])*Z+(ge=ie.cx+J[ie.dir][1])]===he&&(0===H[N]||H[N]===st))return H[N]=st,ie.cy=gt,ie.cx=ge,!0;0===H[N]&&(H[N]=Ye),ie.dir=(ie.dir+1)%8}return!1}function K(ie,he,st){return{dir:st,x:ie,y:he,next:null,prev:null}}return{trace:function(ie,he,st,Ye){return Q(ie,he,st,Ye)},contourTracing:function(ie,he,st,Ye,ze){return function(gt,ge,Be,Ie,ut){var Ge,et,Te,Ke=null,ke={cx:ge,cy:gt,dir:0};if(Q(ke,Ie,Be,ut)){Ge=Ke=K(ge,gt,ke.dir),Te=ke.dir,(et=K(ke.cx,ke.cy,0)).prev=Ge,Ge.next=et,et.next=null,Ge=et;do{ke.dir=(ke.dir+6)%8,Q(ke,Ie,Be,ut),Te!==ke.dir?(Ge.dir=ke.dir,(et=K(ke.cx,ke.cy,0)).prev=Ge,Ge.next=et,et.next=null,Ge=et):(Ge.dir=Te,Ge.x=ke.cx,Ge.y=ke.cy),Te=ke.dir}while(ke.cx!==ge||ke.cy!==gt);Ke.prev=Ge.prev,Ge.prev.next=Ke}return Ke}(ie,he,st,Ye,ze)}}}}},function(x,P,p){var e=p(27),E=p(103),N=p(104),O=e?e.toStringTag:void 0;x.exports=function(H){return null==H?void 0===H?"[object Undefined]":"[object Null]":O&&O in Object(H)?E(H):N(H)}},function(x,P,p){"use strict";(function(e){var E,N,O,H,J,Z,Q,K,ie,he,st,Ye,ze=p(7),gt=p(34),ge=p(11),Be=p(10),Ie=p(9),ut=(p(16),p(87)),Ge=p(21),et=p(88),Te={ctx:{binary:null},dom:{binary:null}},Ke={x:0,y:0};function ke(ue){var X,ye,Fe,_e,wt,It,Sn,Pt=ie.size.x,Et=ie.size.y,kt=-ie.size.x,vn=-ie.size.y;for(X=0,ye=0;ye<ue.length;ye++)X+=(_e=ue[ye]).rad;for((X=(180*(X/=ue.length)/Math.PI+90)%180-90)<0&&(X+=180),X=(180-X)*Math.PI/180,wt=gt.copy(gt.create(),[Math.cos(X),Math.sin(X),-Math.sin(X),Math.cos(X)]),ye=0;ye<ue.length;ye++)for(_e=ue[ye],Fe=0;Fe<4;Fe++)ze.transformMat2(_e.box[Fe],_e.box[Fe],wt);for(ye=0;ye<ue.length;ye++)for(_e=ue[ye],Fe=0;Fe<4;Fe++)_e.box[Fe][0]<Pt&&(Pt=_e.box[Fe][0]),_e.box[Fe][0]>kt&&(kt=_e.box[Fe][0]),_e.box[Fe][1]<Et&&(Et=_e.box[Fe][1]),_e.box[Fe][1]>vn&&(vn=_e.box[Fe][1]);for(It=[[Pt,Et],[kt,Et],[kt,vn],[Pt,vn]],Sn=E.halfSample?2:1,wt=gt.invert(wt,wt),Fe=0;Fe<4;Fe++)ze.transformMat2(It[Fe],It[Fe],wt);for(Fe=0;Fe<4;Fe++)ze.scale(It[Fe],It[Fe],Sn);return It}function ot(ue,X){ie.subImageAsCopy(H,Object(Be.h)(ue,X)),Ye.skeletonize()}function de(ue,X,ye,Fe){var _e,wt,It,Sn,Pt=[],Et=[],kt=Math.ceil(he.x/3);if(ue.length>=2){for(_e=0;_e<ue.length;_e++)ue[_e].m00>kt&&Pt.push(ue[_e]);if(Pt.length>=2){for(It=function(vn){var lr=Object(Be.b)(vn,.9),Vn=Object(Be.j)(lr,1,function(Jr){return Jr.getPoints().length}),wr=[],ur=[];if(1===Vn.length){wr=Vn[0].item.getPoints();for(var sr=0;sr<wr.length;sr++)ur.push(wr[sr].point)}return ur}(Pt),wt=0,_e=0;_e<It.length;_e++)wt+=It[_e].rad;It.length>1&&It.length>=Pt.length/4*3&&It.length>ue.length/4&&(wt/=It.length,Sn={index:X[1]*Ke.x+X[0],pos:{x:ye,y:Fe},box:[ze.clone([ye,Fe]),ze.clone([ye+H.size.x,Fe]),ze.clone([ye+H.size.x,Fe+H.size.y]),ze.clone([ye,Fe+H.size.y])],moments:It,rad:wt,vec:ze.clone([Math.cos(wt),Math.sin(wt)])},Et.push(Sn))}}return Et}P.a={init:function(ue,X){E=X,st=ue,function(){N=E.halfSample?new ge.a({x:st.size.x/2|0,y:st.size.y/2|0}):st,he=Object(Be.a)(E.patchSize,N.size),Ke.x=N.size.x/he.x|0,Ke.y=N.size.y/he.y|0,ie=new ge.a(N.size,void 0,Uint8Array,!1),J=new ge.a(he,void 0,Array,!0);var ye=new ArrayBuffer(65536);H=new ge.a(he,new Uint8Array(ye,0,he.x*he.y)),O=new ge.a(he,new Uint8Array(ye,he.x*he.y*3,he.x*he.y),void 0,!0),Ye=Object(et.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:he.x},ye),K=new ge.a({x:N.size.x/H.size.x|0,y:N.size.y/H.size.y|0},void 0,Array,!0),Z=new ge.a(K.size,void 0,void 0,!0),Q=new ge.a(K.size,void 0,Int32Array,!0)}(),E.useWorker||"undefined"==typeof document||(Te.dom.binary=document.createElement("canvas"),Te.dom.binary.className="binaryBuffer",Te.ctx.binary=Te.dom.binary.getContext("2d"),Te.dom.binary.width=ie.size.x,Te.dom.binary.height=ie.size.y)},locate:function(){E.halfSample&&Object(Be.f)(st,N),Object(Be.i)(N,ie),ie.zeroBorder();var ue=function(){var Fe,_e,wt,It,Sn,Pt,Et=[];for(Fe=0;Fe<Ke.x;Fe++)for(_e=0;_e<Ke.y;_e++)ot(wt=H.size.x*Fe,It=H.size.y*_e),O.zeroBorder(),Ie.a.init(J.data,0),Pt=ut.a.create(O,J).rasterize(0),Sn=J.moments(Pt.count),Et=Et.concat(de(Sn,[Fe,_e],wt,It));return Et}();if(ue.length<Ke.x*Ke.y*.05)return null;var X=function(Fe){var _e,wt,It=0,Sn=0;function Pt(){var kt;for(kt=0;kt<Q.data.length;kt++)if(0===Q.data[kt]&&1===Z.data[kt])return kt;return Q.length}function Et(kt){var Vn,wr,ur,sr=kt%Q.size.x,Jr=kt/Q.size.x|0;if(kt<Q.data.length)for(Vn=K.data[kt],Q.data[kt]=It,ur=0;ur<Ge.a.searchDirections.length;ur++)0!==Z.data[wr=(Jr+Ge.a.searchDirections[ur][0])*Q.size.x+(sr+Ge.a.searchDirections[ur][1])]?0===Q.data[wr]&&Math.abs(ze.dot(K.data[wr].vec,Vn.vec))>.95&&Et(wr):Q.data[wr]=Number.MAX_VALUE}for(Ie.a.init(Z.data,0),Ie.a.init(Q.data,0),Ie.a.init(K.data,null),_e=0;_e<Fe.length;_e++)K.data[(wt=Fe[_e]).index]=wt,Z.data[wt.index]=1;for(Z.zeroBorder();(Sn=Pt())<Q.data.length;)It++,Et(Sn);return It}(ue);if(X<1)return null;var ye=function(Fe){var _e,wt,It=[];for(_e=0;_e<Fe;_e++)It.push(0);for(wt=Q.data.length;wt--;)Q.data[wt]>0&&It[Q.data[wt]-1]++;return(It=It.map(function(Sn,Pt){return{val:Sn,label:Pt+1}})).sort(function(Sn,Pt){return Pt.val-Sn.val}),It.filter(function(Sn){return Sn.val>=5})}(X);return 0===ye.length?null:function(Fe,_e){var wt,It,Pt,Et=[],kt=[];for(wt=0;wt<Fe.length;wt++){for(It=Q.data.length,Et.length=0;It--;)Q.data[It]===Fe[wt].label&&Et.push(K.data[It]);(Pt=ke(Et))&&kt.push(Pt)}return kt}(ye)},checkImageConstraints:function(ue,X){var ye,Fe,_e=ue.getWidth(),wt=ue.getHeight(),It=X.halfSample?.5:1;ue.getConfig().area&&(Fe=Object(Be.d)(_e,wt,ue.getConfig().area),ue.setTopRight({x:Fe.sx,y:Fe.sy}),ue.setCanvasSize({x:_e,y:wt}),_e=Fe.sw,wt=Fe.sh);var Sn={x:Math.floor(_e*It),y:Math.floor(wt*It)};if(ye=Object(Be.a)(X.patchSize,Sn),ue.setWidth(Math.floor(Math.floor(Sn.x/ye.x)*(1/It)*ye.x)),ue.setHeight(Math.floor(Math.floor(Sn.y/ye.y)*(1/It)*ye.y)),ue.getWidth()%ye.x==0&&ue.getHeight()%ye.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(_e," )and height (").concat(wt,") must a multiple of ").concat(ye.x))}}}).call(this,p(46))},function(x,P,p){var e=p(92),E=p(93),N=p(94),O=p(95),H=p(96);function J(Z){var Q=-1,K=null==Z?0:Z.length;for(this.clear();++Q<K;){var ie=Z[Q];this.set(ie[0],ie[1])}}J.prototype.clear=e,J.prototype.delete=E,J.prototype.get=N,J.prototype.has=O,J.prototype.set=H,x.exports=J},function(x,P,p){var e=p(26);x.exports=function(E,N){for(var O=E.length;O--;)if(e(E[O][0],N))return O;return-1}},function(x,P){x.exports=function(p,e){return p===e||p!=p&&e!=e}},function(x,P,p){var e=p(18).Symbol;x.exports=e},function(x,P,p){var e=p(35)(Object,"create");x.exports=e},function(x,P,p){var e=p(117);x.exports=function(E,N){var O=E.__data__;return e(N)?O["string"==typeof N?"string":"hash"]:O.map}},function(x,P,p){var e=p(132),E=p(19),N=Object.prototype,O=N.hasOwnProperty,H=N.propertyIsEnumerable,J=e(function(){return arguments}())?e:function(Z){return E(Z)&&O.call(Z,"callee")&&!H.call(Z,"callee")};x.exports=J},function(x,P){var p=/^(?:0|[1-9]\d*)$/;x.exports=function(e,E){var N=typeof e;return!!(E=null==E?9007199254740991:E)&&("number"==N||"symbol"!=N&&p.test(e))&&e>-1&&e%1==0&&e<E}},function(x,P,p){var e=p(15),E=p(232),N=p(233),O=p(236);x.exports=function(H,J){return e(H)?H:E(H,J)?[H]:N(O(H))}},function(x,P,p){var e=p(226),E=p(227),N=p(60),O=p(228);x.exports=function(H){return e(H)||E(H)||N(H)||O()},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){x.exports={determinant:p(251),transpose:p(252),multiply:p(253),identity:p(254),adjoint:p(255),rotate:p(256),invert:p(257),create:p(258),scale:p(259),copy:p(260),frob:p(261),ldu:p(262)}},function(x,P,p){var e=p(102),E=p(108);x.exports=function(N,O){var H=E(N,O);return e(H)?H:void 0}},function(x,P,p){var e=p(22),E=p(14);x.exports=function(N){if(!E(N))return!1;var O=e(N);return"[object Function]"==O||"[object GeneratorFunction]"==O||"[object AsyncFunction]"==O||"[object Proxy]"==O}},function(x,P,p){var e=p(49);x.exports=function(E,N,O){"__proto__"==N&&e?e(E,N,{configurable:!0,enumerable:!0,value:O,writable:!0}):E[N]=O}},function(x,P){x.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(x,P,p){var e=p(36),E=p(40);x.exports=function(N){return null!=N&&E(N.length)&&!e(N)}},function(x,P){x.exports=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991}},function(x,P){function p(e,E){return x.exports=p=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N},x.exports.__esModule=!0,x.exports.default=x.exports,p(e,E)}x.exports=p,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(22),E=p(19);x.exports=function(N){return"symbol"==typeof N||E(N)&&"[object Symbol]"==e(N)}},function(x,P,p){var e=p(42);x.exports=function(E){if("string"==typeof E||e(E))return E;var N=E+"";return"0"==N&&1/E==-1/0?"-0":N}},function(x,P,p){var e=p(35)(p(18),"Map");x.exports=e},function(x,P,p){(function(e){x.exports="object"==typeof e&&e&&e.Object===Object&&e}).call(this,p(46))},function(x,P){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(e){"object"==typeof window&&(p=window)}x.exports=p},function(x,P,p){var e=p(109),E=p(116),N=p(118),O=p(119),H=p(120);function J(Z){var Q=-1,K=null==Z?0:Z.length;for(this.clear();++Q<K;){var ie=Z[Q];this.set(ie[0],ie[1])}}J.prototype.clear=e,J.prototype.delete=E,J.prototype.get=N,J.prototype.has=O,J.prototype.set=H,x.exports=J},function(x,P,p){var e=p(37),E=p(26);x.exports=function(N,O,H){(void 0!==H&&!E(N[O],H)||void 0===H&&!(O in N))&&e(N,O,H)}},function(x,P,p){var e=p(35),E=function(){try{var N=e(Object,"defineProperty");return N({},"",{}),N}catch(O){}}();x.exports=E},function(x,P,p){var e=p(131)(Object.getPrototypeOf,Object);x.exports=e},function(x,P){var p=Object.prototype;x.exports=function(e){var E=e&&e.constructor;return e===("function"==typeof E&&E.prototype||p)}},function(x,P,p){(function(e){var E=p(18),N=p(134),O=P&&!P.nodeType&&P,H=O&&"object"==typeof e&&e&&!e.nodeType&&e,J=H&&H.exports===O?E.Buffer:void 0;e.exports=(J?J.isBuffer:void 0)||N}).call(this,p(38)(x))},function(x,P,p){var e=p(136),E=p(137),N=p(138),O=N&&N.isTypedArray,H=O?E(O):e;x.exports=H},function(x,P){x.exports=function(p,e){if(("constructor"!==e||"function"!=typeof p[e])&&"__proto__"!=e)return p[e]}},function(x,P,p){var e=p(37),E=p(26),N=Object.prototype.hasOwnProperty;x.exports=function(O,H,J){var Z=O[H];N.call(O,H)&&E(Z,J)&&(void 0!==J||H in O)||e(O,H,J)}},function(x,P,p){var e=p(141),E=p(143),N=p(39);x.exports=function(O){return N(O)?e(O,!0):E(O)}},function(x,P){x.exports=function(p){return p}},function(x,P,p){var e=p(147),E=Math.max;x.exports=function(N,O,H){return O=E(void 0===O?N.length-1:O,0),function(){for(var J=arguments,Z=-1,Q=E(J.length-O,0),K=Array(Q);++Z<Q;)K[Z]=J[O+Z];Z=-1;for(var ie=Array(O+1);++Z<O;)ie[Z]=J[Z];return ie[O]=H(K),e(N,this,ie)}}},function(x,P,p){var e=p(148),E=p(150)(e);x.exports=E},function(x,P,p){var e=p(61);x.exports=function(E,N){if(E){if("string"==typeof E)return e(E,N);var O=Object.prototype.toString.call(E).slice(8,-1);return"Object"===O&&E.constructor&&(O=E.constructor.name),"Map"===O||"Set"===O?Array.from(E):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?e(E,N):void 0}},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p,e){(null==e||e>p.length)&&(e=p.length);for(var E=0,N=new Array(e);E<e;E++)N[E]=p[E];return N},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=1e-6},function(x,P){x.exports=function(){var p=new Float32Array(2);return p[0]=0,p[1]=0,p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]-E[0],p[1]=e[1]-E[1],p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]*E[0],p[1]=e[1]*E[1],p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]/E[0],p[1]=e[1]/E[1],p}},function(x,P){x.exports=function(p,e){var E=e[0]-p[0],N=e[1]-p[1];return Math.sqrt(E*E+N*N)}},function(x,P){x.exports=function(p,e){var E=e[0]-p[0],N=e[1]-p[1];return E*E+N*N}},function(x,P){x.exports=function(p){var e=p[0],E=p[1];return Math.sqrt(e*e+E*E)}},function(x,P){x.exports=function(p){var e=p[0],E=p[1];return e*e+E*E}},function(x,P){x.exports=1e-6},function(x,P){x.exports=function(){var p=new Float32Array(3);return p[0]=0,p[1]=0,p[2]=0,p}},function(x,P){x.exports=function(p,e,E){var N=new Float32Array(3);return N[0]=p,N[1]=e,N[2]=E,N}},function(x,P){x.exports=function(p,e){var E=e[0],N=e[1],O=e[2],H=E*E+N*N+O*O;return H>0&&(H=1/Math.sqrt(H),p[0]=e[0]*H,p[1]=e[1]*H,p[2]=e[2]*H),p}},function(x,P){x.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]+p[2]*e[2]}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]-E[0],p[1]=e[1]-E[1],p[2]=e[2]-E[2],p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]*E[0],p[1]=e[1]*E[1],p[2]=e[2]*E[2],p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]/E[0],p[1]=e[1]/E[1],p[2]=e[2]/E[2],p}},function(x,P){x.exports=function(p,e){var E=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return Math.sqrt(E*E+N*N+O*O)}},function(x,P){x.exports=function(p,e){var E=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return E*E+N*N+O*O}},function(x,P){x.exports=function(p){var e=p[0],E=p[1],N=p[2];return Math.sqrt(e*e+E*E+N*N)}},function(x,P){x.exports=function(p){var e=p[0],E=p[1],N=p[2];return e*e+E*E+N*N}},function(x,P,p){var e=p(153),E=p(154),N=p(60),O=p(155);x.exports=function(H,J){return e(H)||E(H,J)||N(H,J)||O()},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){x.exports={EPSILON:p(71),create:p(72),clone:p(191),angle:p(192),fromValues:p(73),copy:p(193),set:p(194),equals:p(195),exactEquals:p(196),add:p(197),subtract:p(76),sub:p(198),multiply:p(77),mul:p(199),divide:p(78),div:p(200),min:p(201),max:p(202),floor:p(203),ceil:p(204),round:p(205),scale:p(206),scaleAndAdd:p(207),distance:p(79),dist:p(208),squaredDistance:p(80),sqrDist:p(209),length:p(81),len:p(210),squaredLength:p(82),sqrLen:p(211),negate:p(212),inverse:p(213),normalize:p(74),dot:p(75),cross:p(214),lerp:p(215),random:p(216),transformMat4:p(217),transformMat3:p(218),transformQuat:p(219),rotateX:p(220),rotateY:p(221),rotateZ:p(222),forEach:p(223)}},function(x,P,p){var e=p(229),E=p(243)(function(N,O){return null==N?{}:e(N,O)});x.exports=E},function(x,P,p){var e=p(2),E=p(41),N=p(248),O=p(249);function H(J){var Z="function"==typeof Map?new Map:void 0;return x.exports=H=function(Q){if(null===Q||!N(Q))return Q;if("function"!=typeof Q)throw new TypeError("Super expression must either be null or a function");if(void 0!==Z){if(Z.has(Q))return Z.get(Q);Z.set(Q,K)}function K(){return O(Q,arguments,e(this).constructor)}return K.prototype=Object.create(Q.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),E(K,Q)},x.exports.__esModule=!0,x.exports.default=x.exports,H(J)}x.exports=H,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){"use strict";var e=p(21),E={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,O){var H=N.data,J=O.data,Z=N.size.x,Q=N.size.y,K=e.a.create(N,O);return{rasterize:function(ie){var he,st,Ye,ze,gt,ge,Be,Ie,ut,Ge,et,Te,Ke=[],ke=0;for(Te=0;Te<400;Te++)Ke[Te]=0;for(Ke[0]=H[0],ut=null,ge=1;ge<Q-1;ge++)for(ze=0,st=Ke[0],gt=1;gt<Z-1;gt++)if(0===J[et=ge*Z+gt])if((he=H[et])!==st){if(0===ze)Ke[Ye=ke+1]=he,st=he,null!==(Be=K.contourTracing(ge,gt,Ye,he,E.DIR.OUTSIDE_EDGE))&&(ke++,ze=Ye,(Ie=E.createContour2D()).dir=E.CONTOUR_DIR.CW_DIR,Ie.index=ze,Ie.firstVertex=Be,Ie.nextpeer=ut,Ie.insideContours=null,null!==ut&&(ut.prevpeer=Ie),ut=Ie);else if(null!==(Be=K.contourTracing(ge,gt,E.DIR.INSIDE_EDGE,he,ze))){for((Ie=E.createContour2D()).firstVertex=Be,Ie.insideContours=null,Ie.dir=0===ie?E.CONTOUR_DIR.CCW_DIR:E.CONTOUR_DIR.CW_DIR,Ie.index=ie,Ge=ut;null!==Ge&&Ge.index!==ze;)Ge=Ge.nextpeer;null!==Ge&&(Ie.nextpeer=Ge.insideContours,null!==Ge.insideContours&&(Ge.insideContours.prevpeer=Ie),Ge.insideContours=Ie)}}else J[et]=ze;else J[et]===E.DIR.OUTSIDE_EDGE||J[et]===E.DIR.INSIDE_EDGE?(ze=0,st=J[et]===E.DIR.INSIDE_EDGE?H[et]:Ke[0]):st=Ke[ze=J[et]];for(Ge=ut;null!==Ge;)Ge.index=ie,Ge=Ge.nextpeer;return{cc:ut,count:ke}},debug:{drawContour:function(ie,he){var st,Ye,ze,gt=ie.getContext("2d"),ge=he;for(gt.strokeStyle="red",gt.fillStyle="red",gt.lineWidth=1,st=null!==ge?ge.insideContours:null;null!==ge;){switch(null!==st?(Ye=st,st=st.nextpeer):(Ye=ge,st=null!==(ge=ge.nextpeer)?ge.insideContours:null),Ye.dir){case E.CONTOUR_DIR.CW_DIR:gt.strokeStyle="red";break;case E.CONTOUR_DIR.CCW_DIR:gt.strokeStyle="blue";break;case E.CONTOUR_DIR.UNKNOWN_DIR:gt.strokeStyle="green"}ze=Ye.firstVertex,gt.beginPath(),gt.moveTo(ze.x,ze.y);do{gt.lineTo((ze=ze.next).x,ze.y)}while(ze!==Ye.firstVertex);gt.stroke()}}}}}};P.a=E},function(x,P,p){"use strict";P.a=function(e,E,N){var O=new e.Uint8Array(N),H=0|E.size,J=e.Math.imul;function Z(ge,Be){ge|=0,Be|=0;var Ie=0,ut=0,et=0,Te=0,Ke=0,ke=0,ot=0;for(Ie=1;(0|Ie)<(H-1|0);Ie=Ie+1|0)for(ot=ot+H|0,ut=1;(0|ut)<(H-1|0);ut=ut+1|0)O[Be+ot+ut|0]=5==(0|(0|O[ge+(et=ot-H|0)+(Ke=ut-1|0)|0])+(0|O[ge+et+(ke=ut+1|0)|0])+(0|O[ge+ot+ut|0])+(0|O[ge+(Te=ot+H|0)+Ke|0])+(0|O[ge+Te+ke|0]))?1:0}function Q(ge,Be,Ie){ge|=0,Be|=0,Ie|=0;var ut=0;for(ut=0|J(H,H);(0|ut)>0;)O[Ie+(ut=ut-1|0)|0]=(0|O[ge+ut|0])-(0|O[Be+ut|0])|0}function K(ge,Be,Ie){ge|=0,Be|=0,Ie|=0;var ut=0;for(ut=0|J(H,H);(0|ut)>0;)O[Ie+(ut=ut-1|0)|0]=0|O[ge+ut|0]|O[Be+ut|0]|0}function ie(ge){ge|=0;var Be=0,Ie=0;for(Ie=0|J(H,H);(0|Ie)>0;)Be=(0|Be)+(0|O[ge+(Ie=Ie-1|0)|0])|0;return 0|Be}function st(ge,Be){ge|=0,Be|=0;var Ie=0,ut=0,et=0,Te=0,Ke=0,ke=0,ot=0;for(Ie=1;(0|Ie)<(H-1|0);Ie=Ie+1|0)for(ot=ot+H|0,ut=1;(0|ut)<(H-1|0);ut=ut+1|0)O[Be+ot+ut|0]=(0|(0|O[ge+(et=ot-H|0)+(Ke=ut-1|0)|0])+(0|O[ge+et+(ke=ut+1|0)|0])+(0|O[ge+ot+ut|0])+(0|O[ge+(Te=ot+H|0)+Ke|0])+(0|O[ge+Te+ke|0]))>0?1:0}function Ye(ge,Be){ge|=0,Be|=0;var Ie=0;for(Ie=0|J(H,H);(0|Ie)>0;)O[Be+(Ie=Ie-1|0)|0]=0|O[ge+Ie|0]}return{skeletonize:function gt(){var Be,Ie,ut,et=0;(function he(ge,Be){ge|=0,Be|=0;var Ie=0;for(Ie=0|J(H,H);(0|Ie)>0;)O[ge+(Ie=Ie-1|0)|0]=Be})(ut=(Ie=(Be=0|J(H,H))+Be|0)+Be|0,0),function ze(ge){ge|=0;var Be=0,Ie=0;for(Be=0;(0|Be)<(H-1|0);Be=Be+1|0)O[ge+Be|0]=0,O[ge+Ie|0]=0,O[ge+(Ie=Ie+H-1|0)|0]=0,Ie=Ie+1|0;for(Be=0;(0|Be)<(0|H);Be=Be+1|0)O[ge+Ie|0]=0,Ie=Ie+1|0}(0);do{Z(0,Be),st(Be,Ie),Q(0,Ie,Ie),K(ut,Ie,ut),Ye(Be,0),et=0==(0|ie(0))|0}while(!et)}}}},function(x,P,p){x.exports=p(263)},function(x,P,p){var e=p(91),E=p(48),N=p(121),O=p(123),H=p(14),J=p(56),Z=p(54);x.exports=function Q(K,ie,he,st,Ye){K!==ie&&N(ie,function(ze,gt){if(Ye||(Ye=new e),H(ze))O(K,ie,gt,he,Q,st,Ye);else{var ge=st?st(Z(K,gt),ze,gt+"",K,ie,Ye):void 0;void 0===ge&&(ge=ze),E(K,gt,ge)}},J)}},function(x,P,p){var e=p(24),E=p(97),N=p(98),O=p(99),H=p(100),J=p(101);function Z(Q){var K=this.__data__=new e(Q);this.size=K.size}Z.prototype.clear=E,Z.prototype.delete=N,Z.prototype.get=O,Z.prototype.has=H,Z.prototype.set=J,x.exports=Z},function(x,P){x.exports=function(){this.__data__=[],this.size=0}},function(x,P,p){var e=p(25),E=Array.prototype.splice;x.exports=function(N){var O=this.__data__,H=e(O,N);return!(H<0||(H==O.length-1?O.pop():E.call(O,H,1),--this.size,0))}},function(x,P,p){var e=p(25);x.exports=function(E){var N=this.__data__,O=e(N,E);return O<0?void 0:N[O][1]}},function(x,P,p){var e=p(25);x.exports=function(E){return e(this.__data__,E)>-1}},function(x,P,p){var e=p(25);x.exports=function(E,N){var O=this.__data__,H=e(O,E);return H<0?(++this.size,O.push([E,N])):O[H][1]=N,this}},function(x,P,p){var e=p(24);x.exports=function(){this.__data__=new e,this.size=0}},function(x,P){x.exports=function(p){var e=this.__data__,E=e.delete(p);return this.size=e.size,E}},function(x,P){x.exports=function(p){return this.__data__.get(p)}},function(x,P){x.exports=function(p){return this.__data__.has(p)}},function(x,P,p){var e=p(24),E=p(44),N=p(47);x.exports=function(O,H){var J=this.__data__;if(J instanceof e){var Z=J.__data__;if(!E||Z.length<199)return Z.push([O,H]),this.size=++J.size,this;J=this.__data__=new N(Z)}return J.set(O,H),this.size=J.size,this}},function(x,P,p){var e=p(36),E=p(105),N=p(14),O=p(107),H=/^\[object .+?Constructor\]$/,ie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");x.exports=function(he){return!(!N(he)||E(he))&&(e(he)?ie:H).test(O(he))}},function(x,P,p){var e=p(27),E=Object.prototype,N=E.hasOwnProperty,O=E.toString,H=e?e.toStringTag:void 0;x.exports=function(J){var Z=N.call(J,H),Q=J[H];try{J[H]=void 0;var K=!0}catch(he){}var ie=O.call(J);return K&&(Z?J[H]=Q:delete J[H]),ie}},function(x,P){var p=Object.prototype.toString;x.exports=function(e){return p.call(e)}},function(x,P,p){var e,E=p(106),N=(e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";x.exports=function(O){return!!N&&N in O}},function(x,P,p){var e=p(18)["__core-js_shared__"];x.exports=e},function(x,P){var p=Function.prototype.toString;x.exports=function(e){if(null!=e){try{return p.call(e)}catch(E){}try{return e+""}catch(E){}}return""}},function(x,P){x.exports=function(p,e){return null==p?void 0:p[e]}},function(x,P,p){var e=p(110),E=p(24),N=p(44);x.exports=function(){this.size=0,this.__data__={hash:new e,map:new(N||E),string:new e}}},function(x,P,p){var e=p(111),E=p(112),N=p(113),O=p(114),H=p(115);function J(Z){var Q=-1,K=null==Z?0:Z.length;for(this.clear();++Q<K;){var ie=Z[Q];this.set(ie[0],ie[1])}}J.prototype.clear=e,J.prototype.delete=E,J.prototype.get=N,J.prototype.has=O,J.prototype.set=H,x.exports=J},function(x,P,p){var e=p(28);x.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(x,P){x.exports=function(p){var e=this.has(p)&&delete this.__data__[p];return this.size-=e?1:0,e}},function(x,P,p){var e=p(28),E=Object.prototype.hasOwnProperty;x.exports=function(N){var O=this.__data__;if(e){var H=O[N];return"__lodash_hash_undefined__"===H?void 0:H}return E.call(O,N)?O[N]:void 0}},function(x,P,p){var e=p(28),E=Object.prototype.hasOwnProperty;x.exports=function(N){var O=this.__data__;return e?void 0!==O[N]:E.call(O,N)}},function(x,P,p){var e=p(28);x.exports=function(E,N){var O=this.__data__;return this.size+=this.has(E)?0:1,O[E]=e&&void 0===N?"__lodash_hash_undefined__":N,this}},function(x,P,p){var e=p(29);x.exports=function(E){var N=e(this,E).delete(E);return this.size-=N?1:0,N}},function(x,P){x.exports=function(p){var e=typeof p;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==p:null===p}},function(x,P,p){var e=p(29);x.exports=function(E){return e(this,E).get(E)}},function(x,P,p){var e=p(29);x.exports=function(E){return e(this,E).has(E)}},function(x,P,p){var e=p(29);x.exports=function(E,N){var O=e(this,E),H=O.size;return O.set(E,N),this.size+=O.size==H?0:1,this}},function(x,P,p){var e=p(122)();x.exports=e},function(x,P){x.exports=function(p){return function(e,E,N){for(var O=-1,H=Object(e),J=N(e),Z=J.length;Z--;){var Q=J[p?Z:++O];if(!1===E(H[Q],Q,H))break}return e}}},function(x,P,p){var e=p(48),E=p(124),N=p(125),O=p(128),H=p(129),J=p(30),Z=p(15),Q=p(133),K=p(52),ie=p(36),he=p(14),st=p(135),Ye=p(53),ze=p(54),gt=p(139);x.exports=function(ge,Be,Ie,ut,Ge,et,Te){var Ke=ze(ge,Ie),ke=ze(Be,Ie),ot=Te.get(ke);if(ot)e(ge,Ie,ot);else{var de=et?et(Ke,ke,Ie+"",ge,Be,Te):void 0,ue=void 0===de;if(ue){var X=Z(ke),ye=!X&&K(ke),Fe=!X&&!ye&&Ye(ke);de=ke,X||ye||Fe?Z(Ke)?de=Ke:Q(Ke)?de=O(Ke):ye?(ue=!1,de=E(ke,!0)):Fe?(ue=!1,de=N(ke,!0)):de=[]:st(ke)||J(ke)?(de=Ke,J(Ke)?de=gt(Ke):he(Ke)&&!ie(Ke)||(de=H(ke))):ue=!1}ue&&(Te.set(ke,de),Ge(de,ke,ut,et,Te),Te.delete(ke)),e(ge,Ie,de)}}},function(x,P,p){(function(e){var E=p(18),N=P&&!P.nodeType&&P,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,H=O&&O.exports===N?E.Buffer:void 0,J=H?H.allocUnsafe:void 0;e.exports=function(Z,Q){if(Q)return Z.slice();var K=Z.length,ie=J?J(K):new Z.constructor(K);return Z.copy(ie),ie}}).call(this,p(38)(x))},function(x,P,p){var e=p(126);x.exports=function(E,N){var O=N?e(E.buffer):E.buffer;return new E.constructor(O,E.byteOffset,E.length)}},function(x,P,p){var e=p(127);x.exports=function(E){var N=new E.constructor(E.byteLength);return new e(N).set(new e(E)),N}},function(x,P,p){var e=p(18).Uint8Array;x.exports=e},function(x,P){x.exports=function(p,e){var E=-1,N=p.length;for(e||(e=Array(N));++E<N;)e[E]=p[E];return e}},function(x,P,p){var e=p(130),E=p(50),N=p(51);x.exports=function(O){return"function"!=typeof O.constructor||N(O)?{}:e(E(O))}},function(x,P,p){var e=p(14),E=Object.create,N=function(){function O(){}return function(H){if(!e(H))return{};if(E)return E(H);O.prototype=H;var J=new O;return O.prototype=void 0,J}}();x.exports=N},function(x,P){x.exports=function(p,e){return function(E){return p(e(E))}}},function(x,P,p){var e=p(22),E=p(19);x.exports=function(N){return E(N)&&"[object Arguments]"==e(N)}},function(x,P,p){var e=p(39),E=p(19);x.exports=function(N){return E(N)&&e(N)}},function(x,P){x.exports=function(){return!1}},function(x,P,p){var e=p(22),E=p(50),N=p(19),J=Function.prototype.toString,Z=Object.prototype.hasOwnProperty,Q=J.call(Object);x.exports=function(K){if(!N(K)||"[object Object]"!=e(K))return!1;var ie=E(K);if(null===ie)return!0;var he=Z.call(ie,"constructor")&&ie.constructor;return"function"==typeof he&&he instanceof he&&J.call(he)==Q}},function(x,P,p){var e=p(22),E=p(40),N=p(19),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,x.exports=function(H){return N(H)&&E(H.length)&&!!O[e(H)]}},function(x,P){x.exports=function(p){return function(e){return p(e)}}},function(x,P,p){(function(e){var E=p(45),N=P&&!P.nodeType&&P,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,H=O&&O.exports===N&&E.process,J=function(){try{return O&&O.require&&O.require("util").types||H&&H.binding&&H.binding("util")}catch(Q){}}();e.exports=J}).call(this,p(38)(x))},function(x,P,p){var e=p(140),E=p(56);x.exports=function(N){return e(N,E(N))}},function(x,P,p){var e=p(55),E=p(37);x.exports=function(N,O,H,J){var Z=!H;H||(H={});for(var Q=-1,K=O.length;++Q<K;){var ie=O[Q],he=J?J(H[ie],N[ie],ie,H,N):void 0;void 0===he&&(he=N[ie]),Z?E(H,ie,he):e(H,ie,he)}return H}},function(x,P,p){var e=p(142),E=p(30),N=p(15),O=p(52),H=p(31),J=p(53),Z=Object.prototype.hasOwnProperty;x.exports=function(Q,K){var ie=N(Q),he=!ie&&E(Q),st=!ie&&!he&&O(Q),Ye=!ie&&!he&&!st&&J(Q),ze=ie||he||st||Ye,gt=ze?e(Q.length,String):[],ge=gt.length;for(var Be in Q)!K&&!Z.call(Q,Be)||ze&&("length"==Be||st&&("offset"==Be||"parent"==Be)||Ye&&("buffer"==Be||"byteLength"==Be||"byteOffset"==Be)||H(Be,ge))||gt.push(Be);return gt}},function(x,P){x.exports=function(p,e){for(var E=-1,N=Array(p);++E<p;)N[E]=e(E);return N}},function(x,P,p){var e=p(14),E=p(51),N=p(144),O=Object.prototype.hasOwnProperty;x.exports=function(H){if(!e(H))return N(H);var J=E(H),Z=[];for(var Q in H)("constructor"!=Q||!J&&O.call(H,Q))&&Z.push(Q);return Z}},function(x,P){x.exports=function(p){var e=[];if(null!=p)for(var E in Object(p))e.push(E);return e}},function(x,P,p){var e=p(146),E=p(151);x.exports=function(N){return e(function(O,H){var J=-1,Z=H.length,Q=Z>1?H[Z-1]:void 0,K=Z>2?H[2]:void 0;for(Q=N.length>3&&"function"==typeof Q?(Z--,Q):void 0,K&&E(H[0],H[1],K)&&(Q=Z<3?void 0:Q,Z=1),O=Object(O);++J<Z;){var ie=H[J];ie&&N(O,ie,J,Q)}return O})}},function(x,P,p){var e=p(57),E=p(58),N=p(59);x.exports=function(O,H){return N(E(O,H,e),O+"")}},function(x,P){x.exports=function(p,e,E){switch(E.length){case 0:return p.call(e);case 1:return p.call(e,E[0]);case 2:return p.call(e,E[0],E[1]);case 3:return p.call(e,E[0],E[1],E[2])}return p.apply(e,E)}},function(x,P,p){var e=p(149),E=p(49),N=p(57);x.exports=E?function(H,J){return E(H,"toString",{configurable:!0,enumerable:!1,value:e(J),writable:!0})}:N},function(x,P){x.exports=function(p){return function(){return p}}},function(x,P){var p=Date.now;x.exports=function(e){var E=0,N=0;return function(){var O=p(),H=16-(O-N);if(N=O,H>0){if(++E>=800)return arguments[0]}else E=0;return e.apply(void 0,arguments)}}},function(x,P,p){var e=p(26),E=p(39),N=p(31),O=p(14);x.exports=function(H,J,Z){if(!O(Z))return!1;var Q=typeof J;return!!("number"==Q?E(Z)&&N(J,Z.length):"string"==Q&&J in Z)&&e(Z[J],H)}},function(x,P){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(p,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(p,e){var E=65535&p,N=65535&e;return E*N+((p>>>16&65535)*N+E*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(p){"use strict";if(null===p)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(p),E=1;E<arguments.length;E++){var N=arguments[E];if(null!==N)for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(e[O]=N[O])}return e})},function(x,P){x.exports=function(p){if(Array.isArray(p))return p},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p,e){var E=null==p?null:"undefined"!=typeof Symbol&&p[Symbol.iterator]||p["@@iterator"];if(null!=E){var N,O,H=[],J=!0,Z=!1;try{for(E=E.call(p);!(J=(N=E.next()).done)&&(H.push(N.value),!e||H.length!==e);J=!0);}catch(Q){Z=!0,O=Q}finally{try{J||null==E.return||E.return()}finally{if(Z)throw O}}return H}},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p){var e=new Float32Array(2);return e[0]=p[0],e[1]=p[1],e}},function(x,P){x.exports=function(p,e){var E=new Float32Array(2);return E[0]=p,E[1]=e,E}},function(x,P){x.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p}},function(x,P){x.exports=function(p,e,E){return p[0]=e,p[1]=E,p}},function(x,P,p){x.exports=function(E,N){var O=E[0],H=E[1],J=N[0],Z=N[1];return Math.abs(O-J)<=e*Math.max(1,Math.abs(O),Math.abs(J))&&Math.abs(H-Z)<=e*Math.max(1,Math.abs(H),Math.abs(Z))};var e=p(62)},function(x,P){x.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]+E[0],p[1]=e[1]+E[1],p}},function(x,P,p){x.exports=p(64)},function(x,P,p){x.exports=p(65)},function(x,P,p){x.exports=p(66)},function(x,P){x.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p}},function(x,P){x.exports=function(p,e,E){return p[0]=Math.min(e[0],E[0]),p[1]=Math.min(e[1],E[1]),p}},function(x,P){x.exports=function(p,e,E){return p[0]=Math.max(e[0],E[0]),p[1]=Math.max(e[1],E[1]),p}},function(x,P){x.exports=function(p,e,E){var N=Math.cos(E),O=Math.sin(E),H=e[0],J=e[1];return p[0]=H*N-J*O,p[1]=H*O+J*N,p}},function(x,P){x.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p}},function(x,P){x.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p}},function(x,P){x.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]*E,p[1]=e[1]*E,p}},function(x,P){x.exports=function(p,e,E,N){return p[0]=e[0]+E[0]*N,p[1]=e[1]+E[1]*N,p}},function(x,P,p){x.exports=p(67)},function(x,P,p){x.exports=p(68)},function(x,P,p){x.exports=p(69)},function(x,P,p){x.exports=p(70)},function(x,P){x.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p}},function(x,P){x.exports=function(p,e){var E=e[0],N=e[1],O=E*E+N*N;return O>0&&(O=1/Math.sqrt(O),p[0]=e[0]*O,p[1]=e[1]*O),p}},function(x,P){x.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]}},function(x,P){x.exports=function(p,e,E){var N=e[0]*E[1]-e[1]*E[0];return p[0]=p[1]=0,p[2]=N,p}},function(x,P){x.exports=function(p,e,E,N){var O=e[0],H=e[1];return p[0]=O+N*(E[0]-O),p[1]=H+N*(E[1]-H),p}},function(x,P){x.exports=function(p,e){e=e||1;var E=2*Math.random()*Math.PI;return p[0]=Math.cos(E)*e,p[1]=Math.sin(E)*e,p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1];return p[0]=E[0]*N+E[2]*O,p[1]=E[1]*N+E[3]*O,p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1];return p[0]=E[0]*N+E[2]*O+E[4],p[1]=E[1]*N+E[3]*O+E[5],p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1];return p[0]=E[0]*N+E[3]*O+E[6],p[1]=E[1]*N+E[4]*O+E[7],p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1];return p[0]=E[0]*N+E[4]*O+E[12],p[1]=E[1]*N+E[5]*O+E[13],p}},function(x,P,p){x.exports=function(E,N,O,H,J,Z){var Q,K;for(N||(N=2),O||(O=0),K=H?Math.min(H*N+O,E.length):E.length,Q=O;Q<K;Q+=N)e[0]=E[Q],e[1]=E[Q+1],J(e,e,Z),E[Q]=e[0],E[Q+1]=e[1];return E};var e=p(63)()},function(x,P){x.exports=function(p,e,E){var N=e[0]*e[0]+e[1]*e[1];if(N>E*E){var O=Math.sqrt(N);p[0]=e[0]/O*E,p[1]=e[1]/O*E}else p[0]=e[0],p[1]=e[1];return p}},function(x,P){x.exports=function(p){var e=new Float32Array(3);return e[0]=p[0],e[1]=p[1],e[2]=p[2],e}},function(x,P,p){x.exports=function(O,H){var J=e(O[0],O[1],O[2]),Z=e(H[0],H[1],H[2]);E(J,J),E(Z,Z);var Q=N(J,Z);return Q>1?0:Math.acos(Q)};var e=p(73),E=p(74),N=p(75)},function(x,P){x.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p}},function(x,P){x.exports=function(p,e,E,N){return p[0]=e,p[1]=E,p[2]=N,p}},function(x,P,p){x.exports=function(E,N){var O=E[0],H=E[1],J=E[2],Z=N[0],Q=N[1],K=N[2];return Math.abs(O-Z)<=e*Math.max(1,Math.abs(O),Math.abs(Z))&&Math.abs(H-Q)<=e*Math.max(1,Math.abs(H),Math.abs(Q))&&Math.abs(J-K)<=e*Math.max(1,Math.abs(J),Math.abs(K))};var e=p(71)},function(x,P){x.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]&&p[2]===e[2]}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]+E[0],p[1]=e[1]+E[1],p[2]=e[2]+E[2],p}},function(x,P,p){x.exports=p(76)},function(x,P,p){x.exports=p(77)},function(x,P,p){x.exports=p(78)},function(x,P){x.exports=function(p,e,E){return p[0]=Math.min(e[0],E[0]),p[1]=Math.min(e[1],E[1]),p[2]=Math.min(e[2],E[2]),p}},function(x,P){x.exports=function(p,e,E){return p[0]=Math.max(e[0],E[0]),p[1]=Math.max(e[1],E[1]),p[2]=Math.max(e[2],E[2]),p}},function(x,P){x.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p[2]=Math.floor(e[2]),p}},function(x,P){x.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p[2]=Math.ceil(e[2]),p}},function(x,P){x.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p[2]=Math.round(e[2]),p}},function(x,P){x.exports=function(p,e,E){return p[0]=e[0]*E,p[1]=e[1]*E,p[2]=e[2]*E,p}},function(x,P){x.exports=function(p,e,E,N){return p[0]=e[0]+E[0]*N,p[1]=e[1]+E[1]*N,p[2]=e[2]+E[2]*N,p}},function(x,P,p){x.exports=p(79)},function(x,P,p){x.exports=p(80)},function(x,P,p){x.exports=p(81)},function(x,P,p){x.exports=p(82)},function(x,P){x.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p[2]=-e[2],p}},function(x,P){x.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p[2]=1/e[2],p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2],J=E[0],Z=E[1],Q=E[2];return p[0]=O*Q-H*Z,p[1]=H*J-N*Q,p[2]=N*Z-O*J,p}},function(x,P){x.exports=function(p,e,E,N){var O=e[0],H=e[1],J=e[2];return p[0]=O+N*(E[0]-O),p[1]=H+N*(E[1]-H),p[2]=J+N*(E[2]-J),p}},function(x,P){x.exports=function(p,e){e=e||1;var E=2*Math.random()*Math.PI,N=2*Math.random()-1,O=Math.sqrt(1-N*N)*e;return p[0]=Math.cos(E)*O,p[1]=Math.sin(E)*O,p[2]=N*e,p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2],J=E[3]*N+E[7]*O+E[11]*H+E[15];return p[0]=(E[0]*N+E[4]*O+E[8]*H+E[12])/(J=J||1),p[1]=(E[1]*N+E[5]*O+E[9]*H+E[13])/J,p[2]=(E[2]*N+E[6]*O+E[10]*H+E[14])/J,p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2];return p[0]=N*E[0]+O*E[3]+H*E[6],p[1]=N*E[1]+O*E[4]+H*E[7],p[2]=N*E[2]+O*E[5]+H*E[8],p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2],J=E[0],Z=E[1],Q=E[2],K=E[3],ie=K*N+Z*H-Q*O,he=K*O+Q*N-J*H,st=K*H+J*O-Z*N,Ye=-J*N-Z*O-Q*H;return p[0]=ie*K+Ye*-J+he*-Q-st*-Z,p[1]=he*K+Ye*-Z+st*-J-ie*-Q,p[2]=st*K+Ye*-Q+ie*-Z-he*-J,p}},function(x,P){x.exports=function(p,e,E,N){var O=E[1],H=E[2],J=e[1]-O,Z=e[2]-H,Q=Math.sin(N),K=Math.cos(N);return p[0]=e[0],p[1]=O+J*K-Z*Q,p[2]=H+J*Q+Z*K,p}},function(x,P){x.exports=function(p,e,E,N){var O=E[0],H=E[2],J=e[0]-O,Z=e[2]-H,Q=Math.sin(N),K=Math.cos(N);return p[0]=O+Z*Q+J*K,p[1]=e[1],p[2]=H+Z*K-J*Q,p}},function(x,P){x.exports=function(p,e,E,N){var O=E[0],H=E[1],J=e[0]-O,Z=e[1]-H,Q=Math.sin(N),K=Math.cos(N);return p[0]=O+J*K-Z*Q,p[1]=H+J*Q+Z*K,p[2]=e[2],p}},function(x,P,p){x.exports=function(E,N,O,H,J,Z){var Q,K;for(N||(N=3),O||(O=0),K=H?Math.min(H*N+O,E.length):E.length,Q=O;Q<K;Q+=N)e[0]=E[Q],e[1]=E[Q+1],e[2]=E[Q+2],J(e,e,Z),E[Q]=e[0],E[Q+1]=e[1],E[Q+2]=e[2];return E};var e=p(72)()},function(x,P,p){var e=function(E){"use strict";var N=Object.prototype,O=N.hasOwnProperty,H="function"==typeof Symbol?Symbol:{},J=H.iterator||"@@iterator",Z=H.asyncIterator||"@@asyncIterator",Q=H.toStringTag||"@@toStringTag";function K(ue,X,ye,Fe){var Sn,Pt,Et,kt,wt=Object.create((X&&X.prototype instanceof st?X:st).prototype),It=new ke(Fe||[]);return wt._invoke=(Sn=ue,Pt=ye,Et=It,kt="suspendedStart",function(vn,lr){if("executing"===kt)throw new Error("Generator is already running");if("completed"===kt){if("throw"===vn)throw lr;return{value:void 0,done:!0}}for(Et.method=vn,Et.arg=lr;;){var Vn=Et.delegate;if(Vn){var wr=et(Vn,Et);if(wr){if(wr===he)continue;return wr}}if("next"===Et.method)Et.sent=Et._sent=Et.arg;else if("throw"===Et.method){if("suspendedStart"===kt)throw kt="completed",Et.arg;Et.dispatchException(Et.arg)}else"return"===Et.method&&Et.abrupt("return",Et.arg);kt="executing";var ur=ie(Sn,Pt,Et);if("normal"===ur.type){if(kt=Et.done?"completed":"suspendedYield",ur.arg===he)continue;return{value:ur.arg,done:Et.done}}"throw"===ur.type&&(kt="completed",Et.method="throw",Et.arg=ur.arg)}}),wt}function ie(ue,X,ye){try{return{type:"normal",arg:ue.call(X,ye)}}catch(Fe){return{type:"throw",arg:Fe}}}E.wrap=K;var he={};function st(){}function Ye(){}function ze(){}var gt={};gt[J]=function(){return this};var ge=Object.getPrototypeOf,Be=ge&&ge(ge(ot([])));Be&&Be!==N&&O.call(Be,J)&&(gt=Be);var Ie=ze.prototype=st.prototype=Object.create(gt);function ut(ue){["next","throw","return"].forEach(function(X){ue[X]=function(ye){return this._invoke(X,ye)}})}function Ge(ue,X){var ye;this._invoke=function(Fe,_e){function wt(){return new X(function(It,Sn){!function Pt(Et,kt,vn,lr){var Vn=ie(ue[Et],ue,kt);if("throw"!==Vn.type){var wr=Vn.arg,ur=wr.value;return ur&&"object"==typeof ur&&O.call(ur,"__await")?X.resolve(ur.__await).then(function(sr){Pt("next",sr,vn,lr)},function(sr){Pt("throw",sr,vn,lr)}):X.resolve(ur).then(function(sr){wr.value=sr,vn(wr)},function(sr){return Pt("throw",sr,vn,lr)})}lr(Vn.arg)}(Fe,_e,It,Sn)})}return ye=ye?ye.then(wt,wt):wt()}}function et(ue,X){var ye=ue.iterator[X.method];if(void 0===ye){if(X.delegate=null,"throw"===X.method){if(ue.iterator.return&&(X.method="return",X.arg=void 0,et(ue,X),"throw"===X.method))return he;X.method="throw",X.arg=new TypeError("The iterator does not provide a 'throw' method")}return he}var Fe=ie(ye,ue.iterator,X.arg);if("throw"===Fe.type)return X.method="throw",X.arg=Fe.arg,X.delegate=null,he;var _e=Fe.arg;return _e?_e.done?(X[ue.resultName]=_e.value,X.next=ue.nextLoc,"return"!==X.method&&(X.method="next",X.arg=void 0),X.delegate=null,he):_e:(X.method="throw",X.arg=new TypeError("iterator result is not an object"),X.delegate=null,he)}function Te(ue){var X={tryLoc:ue[0]};1 in ue&&(X.catchLoc=ue[1]),2 in ue&&(X.finallyLoc=ue[2],X.afterLoc=ue[3]),this.tryEntries.push(X)}function Ke(ue){var X=ue.completion||{};X.type="normal",delete X.arg,ue.completion=X}function ke(ue){this.tryEntries=[{tryLoc:"root"}],ue.forEach(Te,this),this.reset(!0)}function ot(ue){if(ue){var X=ue[J];if(X)return X.call(ue);if("function"==typeof ue.next)return ue;if(!isNaN(ue.length)){var ye=-1,Fe=function _e(){for(;++ye<ue.length;)if(O.call(ue,ye))return _e.value=ue[ye],_e.done=!1,_e;return _e.value=void 0,_e.done=!0,_e};return Fe.next=Fe}}return{next:de}}function de(){return{value:void 0,done:!0}}return Ye.prototype=Ie.constructor=ze,ze.constructor=Ye,ze[Q]=Ye.displayName="GeneratorFunction",E.isGeneratorFunction=function(ue){var X="function"==typeof ue&&ue.constructor;return!!X&&(X===Ye||"GeneratorFunction"===(X.displayName||X.name))},E.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,ze):(ue.__proto__=ze,Q in ue||(ue[Q]="GeneratorFunction")),ue.prototype=Object.create(Ie),ue},E.awrap=function(ue){return{__await:ue}},ut(Ge.prototype),Ge.prototype[Z]=function(){return this},E.AsyncIterator=Ge,E.async=function(ue,X,ye,Fe,_e){void 0===_e&&(_e=Promise);var wt=new Ge(K(ue,X,ye,Fe),_e);return E.isGeneratorFunction(X)?wt:wt.next().then(function(It){return It.done?It.value:wt.next()})},ut(Ie),Ie[Q]="Generator",Ie[J]=function(){return this},Ie.toString=function(){return"[object Generator]"},E.keys=function(ue){var X=[];for(var ye in ue)X.push(ye);return X.reverse(),function Fe(){for(;X.length;){var _e=X.pop();if(_e in ue)return Fe.value=_e,Fe.done=!1,Fe}return Fe.done=!0,Fe}},E.values=ot,ke.prototype={constructor:ke,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ke),!ue)for(var X in this)"t"===X.charAt(0)&&O.call(this,X)&&!isNaN(+X.slice(1))&&(this[X]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if("throw"===ue.type)throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var X=this;function ye(Pt,Et){return wt.type="throw",wt.arg=ue,X.next=Pt,Et&&(X.method="next",X.arg=void 0),!!Et}for(var Fe=this.tryEntries.length-1;Fe>=0;--Fe){var _e=this.tryEntries[Fe],wt=_e.completion;if("root"===_e.tryLoc)return ye("end");if(_e.tryLoc<=this.prev){var It=O.call(_e,"catchLoc"),Sn=O.call(_e,"finallyLoc");if(It&&Sn){if(this.prev<_e.catchLoc)return ye(_e.catchLoc,!0);if(this.prev<_e.finallyLoc)return ye(_e.finallyLoc)}else if(It){if(this.prev<_e.catchLoc)return ye(_e.catchLoc,!0)}else{if(!Sn)throw new Error("try statement without catch or finally");if(this.prev<_e.finallyLoc)return ye(_e.finallyLoc)}}}},abrupt:function(ue,X){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Fe=this.tryEntries[ye];if(Fe.tryLoc<=this.prev&&O.call(Fe,"finallyLoc")&&this.prev<Fe.finallyLoc){var _e=Fe;break}}_e&&("break"===ue||"continue"===ue)&&_e.tryLoc<=X&&X<=_e.finallyLoc&&(_e=null);var wt=_e?_e.completion:{};return wt.type=ue,wt.arg=X,_e?(this.method="next",this.next=_e.finallyLoc,he):this.complete(wt)},complete:function(ue,X){if("throw"===ue.type)throw ue.arg;return"break"===ue.type||"continue"===ue.type?this.next=ue.arg:"return"===ue.type?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):"normal"===ue.type&&X&&(this.next=X),he},finish:function(ue){for(var X=this.tryEntries.length-1;X>=0;--X){var ye=this.tryEntries[X];if(ye.finallyLoc===ue)return this.complete(ye.completion,ye.afterLoc),Ke(ye),he}},catch:function(ue){for(var X=this.tryEntries.length-1;X>=0;--X){var ye=this.tryEntries[X];if(ye.tryLoc===ue){var Fe=ye.completion;if("throw"===Fe.type){var _e=Fe.arg;Ke(ye)}return _e}}throw new Error("illegal catch attempt")},delegateYield:function(ue,X,ye){return this.delegate={iterator:ot(ue),resultName:X,nextLoc:ye},"next"===this.method&&(this.arg=void 0),he}},E}(x.exports);try{regeneratorRuntime=e}catch(E){Function("r","regeneratorRuntime = r")(e)}},function(x,P,p){var e=p(2);x.exports=function(E,N){for(;!Object.prototype.hasOwnProperty.call(E,N)&&null!==(E=e(E)););return E},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(61);x.exports=function(E){if(Array.isArray(E))return e(E)},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(230),E=p(240);x.exports=function(N,O){return e(N,O,function(H,J){return E(N,J)})}},function(x,P,p){var e=p(231),E=p(239),N=p(32);x.exports=function(O,H,J){for(var Z=-1,Q=H.length,K={};++Z<Q;){var ie=H[Z],he=e(O,ie);J(he,ie)&&E(K,N(ie,O),he)}return K}},function(x,P,p){var e=p(32),E=p(43);x.exports=function(N,O){for(var H=0,J=(O=e(O,N)).length;null!=N&&H<J;)N=N[E(O[H++])];return H&&H==J?N:void 0}},function(x,P,p){var e=p(15),E=p(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;x.exports=function(H,J){if(e(H))return!1;var Z=typeof H;return!("number"!=Z&&"symbol"!=Z&&"boolean"!=Z&&null!=H&&!E(H))||O.test(H)||!N.test(H)||null!=J&&H in Object(J)}},function(x,P,p){var e=p(234),E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,O=e(function(H){var J=[];return 46===H.charCodeAt(0)&&J.push(""),H.replace(E,function(Z,Q,K,ie){J.push(K?ie.replace(N,"$1"):Q||Z)}),J});x.exports=O},function(x,P,p){var e=p(235);x.exports=function(E){var N=e(E,function(H){return 500===O.size&&O.clear(),H}),O=N.cache;return N}},function(x,P,p){var e=p(47);function E(N,O){if("function"!=typeof N||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var H=function(){var J=arguments,Z=O?O.apply(this,J):J[0],Q=H.cache;if(Q.has(Z))return Q.get(Z);var K=N.apply(this,J);return H.cache=Q.set(Z,K)||Q,K};return H.cache=new(E.Cache||e),H}E.Cache=e,x.exports=E},function(x,P,p){var e=p(237);x.exports=function(E){return null==E?"":e(E)}},function(x,P,p){var e=p(27),E=p(238),N=p(15),O=p(42),H=e?e.prototype:void 0,J=H?H.toString:void 0;x.exports=function Z(Q){if("string"==typeof Q)return Q;if(N(Q))return E(Q,Z)+"";if(O(Q))return J?J.call(Q):"";var K=Q+"";return"0"==K&&1/Q==-1/0?"-0":K}},function(x,P){x.exports=function(p,e){for(var E=-1,N=null==p?0:p.length,O=Array(N);++E<N;)O[E]=e(p[E],E,p);return O}},function(x,P,p){var e=p(55),E=p(32),N=p(31),O=p(14),H=p(43);x.exports=function(J,Z,Q,K){if(!O(J))return J;for(var ie=-1,he=(Z=E(Z,J)).length,st=he-1,Ye=J;null!=Ye&&++ie<he;){var ze=H(Z[ie]),gt=Q;if("__proto__"===ze||"constructor"===ze||"prototype"===ze)return J;if(ie!=st){var ge=Ye[ze];void 0===(gt=K?K(ge,ze,Ye):void 0)&&(gt=O(ge)?ge:N(Z[ie+1])?[]:{})}e(Ye,ze,gt),Ye=Ye[ze]}return J}},function(x,P,p){var e=p(241),E=p(242);x.exports=function(N,O){return null!=N&&E(N,O,e)}},function(x,P){x.exports=function(p,e){return null!=p&&e in Object(p)}},function(x,P,p){var e=p(32),E=p(30),N=p(15),O=p(31),H=p(40),J=p(43);x.exports=function(Z,Q,K){for(var ie=-1,he=(Q=e(Q,Z)).length,st=!1;++ie<he;){var Ye=J(Q[ie]);if(!(st=null!=Z&&K(Z,Ye)))break;Z=Z[Ye]}return st||++ie!=he?st:!!(he=null==Z?0:Z.length)&&H(he)&&O(Ye,he)&&(N(Z)||E(Z))}},function(x,P,p){var e=p(244),E=p(58),N=p(59);x.exports=function(O){return N(E(O,void 0,e),O+"")}},function(x,P,p){var e=p(245);x.exports=function(E){return null!=E&&E.length?e(E,1):[]}},function(x,P,p){var e=p(246),E=p(247);x.exports=function N(O,H,J,Z,Q){var K=-1,ie=O.length;for(J||(J=E),Q||(Q=[]);++K<ie;){var he=O[K];H>0&&J(he)?H>1?N(he,H-1,J,Z,Q):e(Q,he):Z||(Q[Q.length]=he)}return Q}},function(x,P){x.exports=function(p,e){for(var E=-1,N=e.length,O=p.length;++E<N;)p[O+E]=e[E];return p}},function(x,P,p){var e=p(27),E=p(30),N=p(15),O=e?e.isConcatSpreadable:void 0;x.exports=function(H){return N(H)||E(H)||!!(O&&H&&H[O])}},function(x,P){x.exports=function(p){return-1!==Function.toString.call(p).indexOf("[native code]")},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P,p){var e=p(41),E=p(250);function N(O,H,J){return E()?(x.exports=N=Reflect.construct,x.exports.__esModule=!0,x.exports.default=x.exports):(x.exports=N=function(Z,Q,K){var ie=[null];ie.push.apply(ie,Q);var he=new(Function.bind.apply(Z,ie));return K&&e(he,K.prototype),he},x.exports.__esModule=!0,x.exports.default=x.exports),N.apply(null,arguments)}x.exports=N,x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}},x.exports.__esModule=!0,x.exports.default=x.exports},function(x,P){x.exports=function(p){return p[0]*p[3]-p[2]*p[1]}},function(x,P){x.exports=function(p,e){if(p===e){var E=e[1];p[1]=e[2],p[2]=E}else p[0]=e[0],p[1]=e[2],p[2]=e[1],p[3]=e[3];return p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2],J=e[3],Z=E[0],Q=E[1],K=E[2],ie=E[3];return p[0]=N*Z+H*Q,p[1]=O*Z+J*Q,p[2]=N*K+H*ie,p[3]=O*K+J*ie,p}},function(x,P){x.exports=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(x,P){x.exports=function(p,e){var E=e[0];return p[0]=e[3],p[1]=-e[1],p[2]=-e[2],p[3]=E,p}},function(x,P){x.exports=function(p,e,E){var N=e[0],O=e[1],H=e[2],J=e[3],Z=Math.sin(E),Q=Math.cos(E);return p[0]=N*Q+H*Z,p[1]=O*Q+J*Z,p[2]=N*-Z+H*Q,p[3]=O*-Z+J*Q,p}},function(x,P){x.exports=function(p,e){var E=e[0],N=e[1],O=e[2],H=e[3],J=E*H-O*N;return J?(p[0]=H*(J=1/J),p[1]=-N*J,p[2]=-O*J,p[3]=E*J,p):null}},function(x,P){x.exports=function(){var p=new Float32Array(4);return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(x,P){x.exports=function(p,e,E){var O=e[1],H=e[2],J=e[3],Z=E[0],Q=E[1];return p[0]=e[0]*Z,p[1]=O*Z,p[2]=H*Q,p[3]=J*Q,p}},function(x,P){x.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p}},function(x,P){x.exports=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2))}},function(x,P){x.exports=function(p,e,E,N){return p[2]=N[2]/N[0],E[0]=N[0],E[1]=N[1],E[3]=N[3]-p[2]*E[1],[p,e,E]}},function(x,P,p){"use strict";p.r(P),p.d(P,"BarcodeDecoder",function(){return dr}),p.d(P,"Readers",function(){return e}),p.d(P,"CameraAccess",function(){return Gn}),p.d(P,"ImageDebug",function(){return st.a}),p.d(P,"ImageWrapper",function(){return Z.a}),p.d(P,"ResultCollector",function(){return Sr});var e={};p.r(e),p.d(e,"BarcodeReader",function(){return X}),p.d(e,"TwoOfFiveReader",function(){return Sn}),p.d(e,"NewCodabarReader",function(){return lr}),p.d(e,"Code128Reader",function(){return wr}),p.d(e,"Code32Reader",function(){return An}),p.d(e,"Code39Reader",function(){return Vr}),p.d(e,"Code39VINReader",function(){return je}),p.d(e,"Code93Reader",function(){return fe}),p.d(e,"EAN2Reader",function(){return Mt}),p.d(e,"EAN5Reader",function(){return Ot}),p.d(e,"EAN8Reader",function(){return Wt}),p.d(e,"EANReader",function(){return Tn}),p.d(e,"I2of5Reader",function(){return Ln}),p.d(e,"UPCEReader",function(){return be}),p.d(e,"UPCReader",function(){return tt});var E,pe,N=p(20),O=p.n(N),H=p(17),J=p.n(H),Z=(p(152),p(11)),Q=p(12),K=p.n(Q),ie=p(8),he=p.n(ie),st=p(16),Ye=p(3),ze=p.n(Ye),gt=p(4),ge=p.n(gt),Be=p(1),Ie=p.n(Be),ut=p(6),Ge=p.n(ut),et=p(5),Te=p.n(et),Ke=p(2),ke=p.n(Ke),ot=p(0),de=p.n(ot),ue=p(9);(pe=E||(E={}))[pe.Forward=1]="Forward",pe[pe.Reverse=-1]="Reverse";var X=function(){function pe(De,ae){ze()(this,pe),de()(this,"_row",[]),de()(this,"config",{}),de()(this,"supplements",[]),de()(this,"SINGLE_CODE_ERROR",0),de()(this,"FORMAT","unknown"),de()(this,"CONFIG_KEYS",{}),this._row=[],this.config=De||{},ae&&(this.supplements=ae)}return ge()(pe,[{key:"_nextUnset",value:function(De){for(var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M<De.length;M++)if(!De[M])return M;return De.length}},{key:"_matchPattern",value:function(De,ae){for(var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,V=0,q=0,W=0,me=0,we=0,Pe=0,nt=0;nt<De.length;nt++)W+=De[nt],me+=ae[nt];if(W<me)return Number.MAX_VALUE;M*=we=W/me;for(var Y=0;Y<De.length;Y++){if(Pe=ae[Y]*we,(q=Math.abs(De[Y]-Pe)/Pe)>M)return Number.MAX_VALUE;V+=q}return V/me}},{key:"_nextSet",value:function(De){for(var M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;M<De.length;M++)if(De[M])return M;return De.length}},{key:"_correctBars",value:function(De,ae,M){for(var V=M.length,q=0;V--;)(q=De[M[V]]*(1-(1-ae)/2))>1&&(De[M[V]]=q)}},{key:"decodePattern",value:function(De){this._row=De;var ae=this.decode();return null===ae?(this._row.reverse(),(ae=this.decode())&&(ae.direction=E.Reverse,ae.start=this._row.length-ae.start,ae.end=this._row.length-ae.end)):ae.direction=E.Forward,ae&&(ae.format=this.FORMAT),ae}},{key:"_matchRange",value:function(De,ae,M){var V;for(V=De=De<0?0:De;V<ae;V++)if(this._row[V]!==M)return!1;return!0}},{key:"_fillCounters",value:function(){var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),ae=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,M=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],V=[],q=0;V[q]=0;for(var W=De;W<ae;W++)this._row[W]^(M?1:0)?V[q]++:(V[++q]=1,M=!M);return V}},{key:"_toCounters",value:function(De,ae){var M=ae.length,V=this._row.length,q=!this._row[De],W=0;ue.a.init(ae,0);for(var me=De;me<V;me++)if(this._row[me]^(q?1:0))ae[W]++;else{if(++W===M)break;ae[W]=1,q=!q}return ae}},{key:"decodeImage",value:function(De){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),pe}();var Fe=[3,1,3,1,1,1],_e=[3,1,1,1,3],wt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],It=Fe.reduce(function(pe,De){return pe+De},0),Sn=function(pe){Ge()(ae,pe);var De=function ye(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"barSpaceRatio",[1,1]),de()(Ie()(M),"FORMAT","2of5"),de()(Ie()(M),"SINGLE_CODE_ERROR",.78),de()(Ie()(M),"AVG_CODE_ERROR",.3),M}return ge()(ae,[{key:"_findPattern",value:function(M,V){var q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],W=arguments.length>3&&void 0!==arguments[3]&&arguments[3],me=[],we=0,ve={error:Number.MAX_VALUE,code:-1,start:0,end:0},Pe=0,nt=0,Y=this.AVG_CODE_ERROR;V||(V=this._nextSet(this._row));for(var Se=0;Se<M.length;Se++)me[Se]=0;for(var Le=V;Le<this._row.length;Le++)if(this._row[Le]^(q?1:0))me[we]++;else{if(we===me.length-1){Pe=0;for(var mt=0;mt<me.length;mt++)Pe+=me[mt];if((nt=this._matchPattern(me,M))<Y)return ve.error=nt,ve.start=Le-Pe,ve.end=Le,ve;if(!W)return null;for(var tn=0;tn<me.length-2;tn++)me[tn]=me[tn+2];me[me.length-2]=0,me[me.length-1]=0,we--}else we++;me[we]=1,q=!q}return null}},{key:"_findStart",value:function(){for(var M=null,V=this._nextSet(this._row),q=1,W=0;!M;){if(!(M=this._findPattern(Fe,V,!1,!0)))return null;if(q=Math.floor((M.end-M.start)/It),(W=M.start-5*q)>=0&&this._matchRange(W,M.start,0))return M;V=M.end,M=null}return M}},{key:"_verifyTrailingWhitespace",value:function(M){var V=M.end+(M.end-M.start)/2;return V<this._row.length&&this._matchRange(M.end,V,0)?M:null}},{key:"_findEnd",value:function(){this._row.reverse();var M=this._nextSet(this._row),V=this._findPattern(_e,M,!1,!0);if(this._row.reverse(),null===V)return null;var q=V.start;return V.start=this._row.length-V.end,V.end=this._row.length-q,null!==V?this._verifyTrailingWhitespace(V):null}},{key:"_verifyCounterLength",value:function(M){return M.length%10==0}},{key:"_decodeCode",value:function(M){for(var V=this.AVG_CODE_ERROR,q={error:Number.MAX_VALUE,code:-1,start:0,end:0},W=0;W<wt.length;W++){var me=this._matchPattern(M,wt[W]);me<q.error&&(q.code=W,q.error=me)}return q.error<V?q:null}},{key:"_decodePayload",value:function(M,V,q){for(var W=0,me=M.length,we=[0,0,0,0,0],ve=null;W<me;){for(var Pe=0;Pe<5;Pe++)we[Pe]=M[W]*this.barSpaceRatio[0],W+=2;if(!(ve=this._decodeCode(we)))return null;V.push("".concat(ve.code)),q.push(ve)}return ve}},{key:"decode",value:function(M,V){var q=this._findStart();if(!q)return null;var W=this._findEnd();if(!W)return null;var me=this._fillCounters(q.end,W.start,!1);if(!this._verifyCounterLength(me))return null;var we=[];we.push(q);var ve=[];return this._decodePayload(me,ve,we)?ve.length<5?null:(we.push(W),{code:ve.join(""),start:q.start,end:W.end,startInfo:q,decodedCodes:we,format:this.FORMAT}):null}}]),ae}(X);var Et=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],kt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],vn=[26,41,11,14],lr=function(pe){Ge()(ae,pe);var De=function Pt(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"_counters",[]),de()(Ie()(M),"FORMAT","codabar"),M}return ge()(ae,[{key:"_computeAlternatingThreshold",value:function(M,V){for(var q=Number.MAX_VALUE,W=0,me=0,we=M;we<V;we+=2)(me=this._counters[we])>W&&(W=me),me<q&&(q=me);return(q+W)/2|0}},{key:"_toPattern",value:function(M){var V=M+7;if(V>this._counters.length)return-1;for(var q=this._computeAlternatingThreshold(M,V),W=this._computeAlternatingThreshold(M+1,V),me=64,ve=0,Pe=0;Pe<7;Pe++)this._counters[M+Pe]>(0==(1&Pe)?q:W)&&(ve|=me),me>>=1;return ve}},{key:"_isStartEnd",value:function(M){for(var V=0;V<vn.length;V++)if(vn[V]===M)return!0;return!1}},{key:"_sumCounters",value:function(M,V){for(var q=0,W=M;W<V;W++)q+=this._counters[W];return q}},{key:"_findStart",value:function(){for(var M=this._nextUnset(this._row),V=1;V<this._counters.length;V++){var q=this._toPattern(V);if(-1!==q&&this._isStartEnd(q))return{start:M+=this._sumCounters(0,V),end:M+this._sumCounters(V,V+8),startCounter:V,endCounter:V+8}}return null}},{key:"_patternToChar",value:function(M){for(var V=0;V<kt.length;V++)if(kt[V]===M)return String.fromCharCode(Et[V]);return null}},{key:"_calculatePatternLength",value:function(M){for(var V=0,q=M;q<M+7;q++)V+=this._counters[q];return V}},{key:"_verifyWhitespace",value:function(M,V){return(M-1<=0||this._counters[M-1]>=this._calculatePatternLength(M)/2)&&(V+8>=this._counters.length||this._counters[V+7]>=this._calculatePatternLength(V)/2)}},{key:"_charToPattern",value:function(M){for(var V=M.charCodeAt(0),q=0;q<Et.length;q++)if(Et[q]===V)return kt[q];return 0}},{key:"_thresholdResultPattern",value:function(M,V){for(var q,W={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},me=V,we=0;we<M.length;we++){q=this._charToPattern(M[we]);for(var ve=6;ve>=0;ve--){var Pe=2==(1&ve)?W.bar:W.space,nt=1==(1&q)?Pe.wide:Pe.narrow;nt.size+=this._counters[me+ve],nt.counts++,q>>=1}me+=8}return["space","bar"].forEach(function(Y){var Se=W[Y];Se.wide.min=Math.floor((Se.narrow.size/Se.narrow.counts+Se.wide.size/Se.wide.counts)/2),Se.narrow.max=Math.ceil(Se.wide.min),Se.wide.max=Math.ceil((2*Se.wide.size+1.5)/Se.wide.counts)}),W}},{key:"_validateResult",value:function(M,V){for(var q,W=this._thresholdResultPattern(M,V),me=V,we=0;we<M.length;we++){q=this._charToPattern(M[we]);for(var ve=6;ve>=0;ve--){var Pe=0==(1&ve)?W.bar:W.space,nt=1==(1&q)?Pe.wide:Pe.narrow,Y=this._counters[me+ve];if(Y<nt.min||Y>nt.max)return!1;q>>=1}me+=8}return!0}},{key:"decode",value:function(M,V){if(this._counters=this._fillCounters(),!(V=this._findStart()))return null;var q,W=V.startCounter,me=[];do{if((q=this._toPattern(W))<0)return null;var we=this._patternToChar(q);if(null===we)return null;if(me.push(we),W+=8,me.length>1&&this._isStartEnd(q))break}while(W<this._counters.length);if(me.length-2<4||!this._isStartEnd(q)||!this._verifyWhitespace(V.startCounter,W-8)||!this._validateResult(me,V.startCounter))return null;var ve=V.start+this._sumCounters(V.startCounter,(W=W>this._counters.length?this._counters.length:W)-8);return{code:me.join(""),start:V.start,end:ve,startInfo:V,decodedCodes:me,format:this.FORMAT}}}]),ae}(X);var wr=function(pe){Ge()(ae,pe);var De=function Vn(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"CODE_SHIFT",98),de()(Ie()(M),"CODE_C",99),de()(Ie()(M),"CODE_B",100),de()(Ie()(M),"CODE_A",101),de()(Ie()(M),"START_CODE_A",103),de()(Ie()(M),"START_CODE_B",104),de()(Ie()(M),"START_CODE_C",105),de()(Ie()(M),"STOP_CODE",106),de()(Ie()(M),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),de()(Ie()(M),"SINGLE_CODE_ERROR",.64),de()(Ie()(M),"AVG_CODE_ERROR",.3),de()(Ie()(M),"FORMAT","code_128"),de()(Ie()(M),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),M}return ge()(ae,[{key:"_decodeCode",value:function(M,V){for(var q={error:Number.MAX_VALUE,code:-1,start:M,end:M,correction:{bar:1,space:1}},W=[0,0,0,0,0,0],we=!this._row[M],ve=0,Pe=M;Pe<this._row.length;Pe++)if(this._row[Pe]^(we?1:0))W[ve]++;else{if(ve===W.length-1){V&&this._correct(W,V);for(var nt=0;nt<this.CODE_PATTERN.length;nt++){var Y=this._matchPattern(W,this.CODE_PATTERN[nt]);Y<q.error&&(q.code=nt,q.error=Y)}return q.end=Pe,-1===q.code||q.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[q.code]&&(q.correction.bar=this.calculateCorrection(this.CODE_PATTERN[q.code],W,this.MODULE_INDICES.bar),q.correction.space=this.calculateCorrection(this.CODE_PATTERN[q.code],W,this.MODULE_INDICES.space)),q)}W[++ve]=1,we=!we}return null}},{key:"_correct",value:function(M,V){this._correctBars(M,V.bar,this.MODULE_INDICES.bar),this._correctBars(M,V.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var M=[0,0,0,0,0,0],V=this._nextSet(this._row),q={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},W=!1,me=0,we=V;we<this._row.length;we++)if(this._row[we]^(W?1:0))M[me]++;else{if(me===M.length-1){for(var ve=M.reduce(function(Se,Le){return Se+Le},0),Pe=this.START_CODE_A;Pe<=this.START_CODE_C;Pe++){var nt=this._matchPattern(M,this.CODE_PATTERN[Pe]);nt<q.error&&(q.code=Pe,q.error=nt)}if(q.error<this.AVG_CODE_ERROR)return q.start=we-ve,q.end=we,q.correction.bar=this.calculateCorrection(this.CODE_PATTERN[q.code],M,this.MODULE_INDICES.bar),q.correction.space=this.calculateCorrection(this.CODE_PATTERN[q.code],M,this.MODULE_INDICES.space),q;for(var Y=0;Y<4;Y++)M[Y]=M[Y+2];M[4]=0,M[5]=0,me--}else me++;M[me]=1,W=!W}return null}},{key:"decode",value:function(M,V){var q=this,W=this._findStart();if(null===W)return null;var me={code:W.code,start:W.start,end:W.end,correction:{bar:W.correction.bar,space:W.correction.space}},we=[];we.push(me);for(var ve=me.code,Pe=function(bn){switch(bn){case q.START_CODE_A:return q.CODE_A;case q.START_CODE_B:return q.CODE_B;case q.START_CODE_C:return q.CODE_C;default:return null}}(me.code),nt=!1,Y=!1,Se=Y,Le=!0,mt=0,tn=[],En=[];!nt;){if(Se=Y,Y=!1,null!==(me=this._decodeCode(me.end,me.correction)))switch(me.code!==this.STOP_CODE&&(Le=!0),me.code!==this.STOP_CODE&&(tn.push(me.code),ve+=++mt*me.code),we.push(me),Pe){case this.CODE_A:if(me.code<64)En.push(String.fromCharCode(32+me.code));else if(me.code<96)En.push(String.fromCharCode(me.code-64));else switch(me.code!==this.STOP_CODE&&(Le=!1),me.code){case this.CODE_SHIFT:Y=!0,Pe=this.CODE_B;break;case this.CODE_B:Pe=this.CODE_B;break;case this.CODE_C:Pe=this.CODE_C;break;case this.STOP_CODE:nt=!0}break;case this.CODE_B:if(me.code<96)En.push(String.fromCharCode(32+me.code));else switch(me.code!==this.STOP_CODE&&(Le=!1),me.code){case this.CODE_SHIFT:Y=!0,Pe=this.CODE_A;break;case this.CODE_A:Pe=this.CODE_A;break;case this.CODE_C:Pe=this.CODE_C;break;case this.STOP_CODE:nt=!0}break;case this.CODE_C:if(me.code<100)En.push(me.code<10?"0"+me.code:me.code);else switch(me.code!==this.STOP_CODE&&(Le=!1),me.code){case this.CODE_A:Pe=this.CODE_A;break;case this.CODE_B:Pe=this.CODE_B;break;case this.STOP_CODE:nt=!0}}else nt=!0;Se&&(Pe=Pe===this.CODE_A?this.CODE_B:this.CODE_A)}return null===me?null:(me.end=this._nextUnset(this._row,me.end),this._verifyTrailingWhitespace(me)?(ve-=mt*tn[tn.length-1])%103!==tn[tn.length-1]?null:En.length?(Le&&En.splice(En.length-1,1),{code:En.join(""),start:W.start,end:me.end,codeset:Pe,startInfo:W,decodedCodes:we,endInfo:me,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(M){var V;return(V=M.end+(M.end-M.start)/2)<this._row.length&&this._matchRange(M.end,V,0)?M:null}},{key:"calculateCorrection",value:function(M,V,q){for(var W=q.length,me=0,we=0;W--;)we+=M[q[W]],me+=V[q[W]];return we/me}}]),ae}(X),ur=p(13),sr=p.n(ur),Jr=p(33),_r=p.n(Jr);var Ii=new Uint16Array(_r()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(pe){return pe.charCodeAt(0)})),bi=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Vr=function(pe){Ge()(ae,pe);var De=function Ar(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","code_39"),M}return ge()(ae,[{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),V=M,q=new Uint16Array([0,0,0,0,0,0,0,0,0]),W=0,me=!1,we=M;we<this._row.length;we++)if(this._row[we]^(me?1:0))q[W]++;else{if(W===q.length-1){if(148===this._toPattern(q)){var ve=Math.floor(Math.max(0,V-(we-V)/4));if(this._matchRange(ve,V,0))return{start:V,end:we}}V+=q[0]+q[1];for(var Pe=0;Pe<7;Pe++)q[Pe]=q[Pe+2];q[7]=0,q[8]=0,W--}else W++;q[W]=1,me=!me}return null}},{key:"_toPattern",value:function(M){for(var V=M.length,q=0,W=V,me=0;W>3;){q=this._findNextWidth(M,q),W=0;for(var we=0,ve=0;ve<V;ve++)M[ve]>q&&(we|=1<<V-1-ve,W++,me+=M[ve]);if(3===W){for(var Pe=0;Pe<V&&W>0;Pe++)if(M[Pe]>q&&(W--,2*M[Pe]>=me))return-1;return we}}return-1}},{key:"_findNextWidth",value:function(M,V){for(var q=Number.MAX_VALUE,W=0;W<M.length;W++)M[W]<q&&M[W]>V&&(q=M[W]);return q}},{key:"_patternToChar",value:function(M){for(var V=0;V<bi.length;V++)if(bi[V]===M)return String.fromCharCode(Ii[V]);return null}},{key:"_verifyTrailingWhitespace",value:function(M,V,q){var W=ue.a.sum(q);return 3*(V-M-W)>=W}},{key:"decode",value:function(){var M=new Uint16Array([0,0,0,0,0,0,0,0,0]),V=[],q=this._findStart();if(!q)return null;var W,me,we=this._nextSet(this._row,q.end);do{M=this._toCounters(we,M);var ve=this._toPattern(M);if(ve<0||null===(W=this._patternToChar(ve)))return null;V.push(W),me=we,we+=ue.a.sum(M),we=this._nextSet(this._row,we)}while("*"!==W);return V.pop(),V.length&&this._verifyTrailingWhitespace(me,we,M)?{code:V.join(""),start:q.start,end:we,startInfo:q,decodedCodes:V,format:this.FORMAT}:null}}]),ae}(X);var Ni=/[AEIO]/g,An=function(pe){Ge()(ae,pe);var De=function kr(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","code_32_reader"),M}return ge()(ae,[{key:"_decodeCode32",value:function(M){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(M))return null;for(var V=0,q=0;q<M.length;q++)V=32*V+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(M[q]);var W="".concat(V);return W.length<9&&(W=("000000000"+W).slice(-9)),"A"+W}},{key:"_checkChecksum",value:function(M){return!!M}},{key:"decode",value:function(){var M=sr()(ke()(ae.prototype),"decode",this).call(this);if(!M)return null;var V=M.code;if(!V||(V=V.replace(Ni,""),!this._checkChecksum(V)))return null;var q=this._decodeCode32(V);return q?(M.code=q,M):null}}]),ae}(Vr);var Yr=/[IOQ]/g,Qr=/[A-Z0-9]{17}/,je=function(pe){Ge()(ae,pe);var De=function Hi(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","code_39_vin"),M}return ge()(ae,[{key:"_checkChecksum",value:function(M){return!!M}},{key:"decode",value:function(){var M=sr()(ke()(ae.prototype),"decode",this).call(this);if(!M)return null;var V=M.code;return V&&(V=V.replace(Yr,"")).match(Qr)&&this._checkChecksum(V)?(M.code=V,M):null}}]),ae}(Vr);var Oe=new Uint16Array(_r()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(pe){return pe.charCodeAt(0)})),oe=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),fe=function(pe){Ge()(ae,pe);var De=function ct(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","code_93"),M}return ge()(ae,[{key:"_patternToChar",value:function(M){for(var V=0;V<oe.length;V++)if(oe[V]===M)return String.fromCharCode(Oe[V]);return null}},{key:"_toPattern",value:function(M){for(var V=M.length,q=M.reduce(function(Pe,nt){return Pe+nt},0),W=0,me=0;me<V;me++){var we=Math.round(9*M[me]/q);if(we<1||we>4)return-1;if(0==(1&me))for(var ve=0;ve<we;ve++)W=W<<1|1;else W<<=we}return W}},{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),V=M,q=new Uint16Array([0,0,0,0,0,0]),W=0,me=!1,we=M;we<this._row.length;we++)if(this._row[we]^(me?1:0))q[W]++;else{if(W===q.length-1){if(350===this._toPattern(q)){var ve=Math.floor(Math.max(0,V-(we-V)/4));if(this._matchRange(ve,V,0))return{start:V,end:we}}V+=q[0]+q[1];for(var Pe=0;Pe<4;Pe++)q[Pe]=q[Pe+2];q[4]=0,q[5]=0,W--}else W++;q[W]=1,me=!me}return null}},{key:"_verifyEnd",value:function(M,V){return!(M===V||!this._row[V])}},{key:"_decodeExtended",value:function(M){for(var V=M.length,q=[],W=0;W<V;W++){var me=M[W];if(me>="a"&&me<="d"){if(W>V-2)return null;var we=M[++W],ve=we.charCodeAt(0),Pe=void 0;switch(me){case"a":if(!(we>="A"&&we<="Z"))return null;Pe=String.fromCharCode(ve-64);break;case"b":if(we>="A"&&we<="E")Pe=String.fromCharCode(ve-38);else if(we>="F"&&we<="J")Pe=String.fromCharCode(ve-11);else if(we>="K"&&we<="O")Pe=String.fromCharCode(ve+16);else if(we>="P"&&we<="S")Pe=String.fromCharCode(ve+43);else{if(!(we>="T"&&we<="Z"))return null;Pe=String.fromCharCode(127)}break;case"c":if(we>="A"&&we<="O")Pe=String.fromCharCode(ve-32);else{if("Z"!==we)return null;Pe=":"}break;case"d":if(!(we>="A"&&we<="Z"))return null;Pe=String.fromCharCode(ve+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Pe),null}q.push(Pe)}else q.push(me)}return q}},{key:"_matchCheckChar",value:function(M,V,q){var W=M.slice(0,V),me=W.length,we=W.reduce(function(ve,Pe,nt){return ve+((-1*nt+(me-1))%q+1)*Oe.indexOf(Pe.charCodeAt(0))},0);return Oe[we%47]===M[V].charCodeAt(0)}},{key:"_verifyChecksums",value:function(M){return this._matchCheckChar(M,M.length-2,20)&&this._matchCheckChar(M,M.length-1,15)}},{key:"decode",value:function(M,V){if(!(V=this._findStart()))return null;var q,W,me=new Uint16Array([0,0,0,0,0,0]),we=[],ve=this._nextSet(this._row,V.end);do{me=this._toCounters(ve,me);var Pe=this._toPattern(me);if(Pe<0||null===(W=this._patternToChar(Pe)))return null;we.push(W),q=ve,ve+=ue.a.sum(me),ve=this._nextSet(this._row,ve)}while("*"!==W);return we.pop(),we.length&&this._verifyEnd(q,ve)&&this._verifyChecksums(we)?(we=we.slice(0,we.length-2),null===(we=this._decodeExtended(we))?null:{code:we.join(""),start:V.start,end:ve,startInfo:V,decodedCodes:we,format:this.FORMAT}):null}}]),ae}(X);function Je(pe,De){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(pe);De&&(M=M.filter(function(V){return Object.getOwnPropertyDescriptor(pe,V).enumerable})),ae.push.apply(ae,M)}return ae}function Qe(pe){for(var De=1;De<arguments.length;De++){var ae=null!=arguments[De]?arguments[De]:{};De%2?Je(Object(ae),!0).forEach(function(M){de()(pe,M,ae[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ae)):Je(Object(ae)).forEach(function(M){Object.defineProperty(pe,M,Object.getOwnPropertyDescriptor(ae,M))})}return pe}var St=[1,1,1],Xt=[1,1,1,1,1],jt=[1,1,2],Qt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Mn=[0,11,13,14,19,25,28,21,22,26],Tn=function(pe){Ge()(ae,pe);var De=function ht(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(M,V){var q;return ze()(this,ae),q=De.call(this,J()({supplements:[]},M),V),de()(Ie()(q),"FORMAT","ean_13"),de()(Ie()(q),"SINGLE_CODE_ERROR",.7),de()(Ie()(q),"STOP_PATTERN",[1,1,1]),q}return ge()(ae,[{key:"_findPattern",value:function(M,V,q,W){var me=new Array(M.length).fill(0),we={error:Number.MAX_VALUE,start:0,end:0},ve=0;V||(V=this._nextSet(this._row));for(var Pe=!1,nt=V;nt<this._row.length;nt++)if(this._row[nt]^(q?1:0))me[ve]+=1;else{if(ve===me.length-1){var Y=this._matchPattern(me,M);if(Y<.48&&we.error&&Y<we.error)return Pe=!0,we.error=Y,we.start=nt-me.reduce(function(Le,mt){return Le+mt},0),we.end=nt,we;if(W){for(var Se=0;Se<me.length-2;Se++)me[Se]=me[Se+2];me[me.length-2]=0,me[me.length-1]=0,ve--}}else ve++;me[ve]=1,q=!q}return Pe?we:null}},{key:"_decodeCode",value:function(M,V){var q=[0,0,0,0],me={error:Number.MAX_VALUE,code:-1,start:M,end:M},we=!this._row[M],ve=0;V||(V=Qt.length);for(var Pe=M;Pe<this._row.length;Pe++)if(this._row[Pe]^(we?1:0))q[ve]++;else{if(ve===q.length-1){for(var nt=0;nt<V;nt++){var Y=this._matchPattern(q,Qt[nt]);me.end=Pe,Y<me.error&&(me.code=nt,me.error=Y)}return me.error>.48?null:me}q[++ve]=1,we=!we}return null}},{key:"_findStart",value:function(){for(var M=this._nextSet(this._row),V=null;!V;){if(!(V=this._findPattern(St,M,!1,!0)))return null;var q=V.start-(V.end-V.start);if(q>=0&&this._matchRange(q,V.start,0))return V;M=V.end,V=null}return null}},{key:"_calculateFirstDigit",value:function(M){for(var V=0;V<Mn.length;V++)if(M===Mn[V])return V;return null}},{key:"_decodePayload",value:function(M,V,q){for(var W=Qe({},M),me=0,we=0;we<6;we++){if(!(W=this._decodeCode(W.end)))return null;W.code>=10?(W.code-=10,me|=1<<5-we):me|=0<<5-we,V.push(W.code),q.push(W)}var ve=this._calculateFirstDigit(me);if(null===ve)return null;V.unshift(ve);var Pe=this._findPattern(Xt,W.end,!0,!1);if(null===Pe||!Pe.end)return null;q.push(Pe);for(var nt=0;nt<6;nt++){if(!(Pe=this._decodeCode(Pe.end,10)))return null;q.push(Pe),V.push(Pe.code)}return Pe}},{key:"_verifyTrailingWhitespace",value:function(M){var V=M.end+(M.end-M.start);return V<this._row.length&&this._matchRange(M.end,V,0)?M:null}},{key:"_findEnd",value:function(M,V){var q=this._findPattern(this.STOP_PATTERN,M,V,!1);return null!==q?this._verifyTrailingWhitespace(q):null}},{key:"_checksum",value:function(M){for(var V=0,q=M.length-2;q>=0;q-=2)V+=M[q];V*=3;for(var W=M.length-1;W>=0;W-=2)V+=M[W];return V%10==0}},{key:"_decodeExtensions",value:function(M){var V=this._nextSet(this._row,M),q=this._findPattern(jt,V,!1,!1);if(null===q)return null;for(var W=0;W<this.supplements.length;W++)try{var me=this.supplements[W].decode(this._row,q.end);if(null!==me)return{code:me.code,start:V,startInfo:q,end:me.end,decodedCodes:me.decodedCodes,format:this.supplements[W].FORMAT}}catch(we){console.error("* decodeExtensions error in ",this.supplements[W],": ",we)}return null}},{key:"decode",value:function(M,V){var q=new Array,W=new Array,me={},we=this._findStart();if(!we)return null;var ve={start:we.start,end:we.end};if(W.push(ve),!(ve=this._decodePayload(ve,q,W))||!(ve=this._findEnd(ve.end,!1))||(W.push(ve),!this._checksum(q)))return null;if(this.supplements.length>0){var Pe=this._decodeExtensions(ve.end);if(!Pe||!Pe.decodedCodes)return null;var nt=Pe.decodedCodes[Pe.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:nt.start+((nt.end-nt.start)/2|0),end:nt.end}))return null;me={supplement:Pe,code:q.join("")+Pe.code}}return Qe(Qe({code:q.join(""),start:we.start,end:ve.end,startInfo:we,decodedCodes:W},me),{},{format:this.FORMAT})}}]),ae}(X);var Mt=function(pe){Ge()(ae,pe);var De=function qn(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","ean_2"),M}return ge()(ae,[{key:"decode",value:function(M,V){M&&(this._row=M);var q=0,W=V,me=this._row.length,we=[],ve=[],Pe=null;if(void 0===W)return null;for(var nt=0;nt<2&&W<me;nt++){if(!(Pe=this._decodeCode(W)))return null;ve.push(Pe),we.push(Pe.code%10),Pe.code>=10&&(q|=1<<1-nt),1!==nt&&(W=this._nextSet(this._row,Pe.end),W=this._nextUnset(this._row,W))}if(2!==we.length||parseInt(we.join(""))%4!==q)return null;var Y=this._findStart();return{code:we.join(""),decodedCodes:ve,end:Pe.end,format:this.FORMAT,startInfo:Y,start:Y.start}}}]),ae}(Tn);var xn=[24,20,18,17,12,6,3,10,9,5],Ot=function(pe){Ge()(ae,pe);var De=function Zn(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","ean_5"),M}return ge()(ae,[{key:"decode",value:function(M,V){if(void 0===V)return null;M&&(this._row=M);for(var q=0,W=V,me=this._row.length,we=null,ve=[],Pe=[],nt=0;nt<5&&W<me;nt++){if(!(we=this._decodeCode(W)))return null;Pe.push(we),ve.push(we.code%10),we.code>=10&&(q|=1<<4-nt),4!==nt&&(W=this._nextSet(this._row,we.end),W=this._nextUnset(this._row,W))}if(5!==ve.length||function(Se){for(var Le=Se.length,mt=0,tn=Le-2;tn>=0;tn-=2)mt+=Se[tn];mt*=3;for(var En=Le-1;En>=0;En-=2)mt+=Se[En];return(mt*=3)%10}(ve)!==function(Se){for(var Le=0;Le<10;Le++)if(Se===xn[Le])return Le;return null}(q))return null;var Y=this._findStart();return{code:ve.join(""),decodedCodes:Pe,end:we.end,format:this.FORMAT,startInfo:Y,start:Y.start}}}]),ae}(Tn);var Wt=function(pe){Ge()(ae,pe);var De=function it(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","ean_8"),M}return ge()(ae,[{key:"_decodePayload",value:function(M,V,q){for(var W=M,me=0;me<4;me++){if(!(W=this._decodeCode(W.end,10)))return null;V.push(W.code),q.push(W)}if(null===(W=this._findPattern(Xt,W.end,!0,!1)))return null;q.push(W);for(var we=0;we<4;we++){if(!(W=this._decodeCode(W.end,10)))return null;q.push(W),V.push(W.code)}return W}}]),ae}(Tn);var Ln=function(pe){Ge()(ae,pe);var De=function rn(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(M){var V;return ze()(this,ae),V=De.call(this,J()({normalizeBarSpaceWidth:!1},M)),de()(Ie()(V),"barSpaceRatio",[1,1]),de()(Ie()(V),"SINGLE_CODE_ERROR",.78),de()(Ie()(V),"AVG_CODE_ERROR",.38),de()(Ie()(V),"START_PATTERN",[1,1,1,1]),de()(Ie()(V),"STOP_PATTERN",[1,1,3]),de()(Ie()(V),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),de()(Ie()(V),"MAX_CORRECTION_FACTOR",5),de()(Ie()(V),"FORMAT","i2of5"),M.normalizeBarSpaceWidth&&(V.SINGLE_CODE_ERROR=.38,V.AVG_CODE_ERROR=.09),V.config=M,Te()(V,Ie()(V))}return ge()(ae,[{key:"_matchPattern",value:function(M,V){if(this.config.normalizeBarSpaceWidth){for(var q=[0,0],W=[0,0],me=[0,0],we=this.MAX_CORRECTION_FACTOR,ve=1/we,Pe=0;Pe<M.length;Pe++)q[Pe%2]+=M[Pe],W[Pe%2]+=V[Pe];me[0]=W[0]/q[0],me[1]=W[1]/q[1],me[0]=Math.max(Math.min(me[0],we),ve),me[1]=Math.max(Math.min(me[1],we),ve),this.barSpaceRatio=me;for(var nt=0;nt<M.length;nt++)M[nt]*=this.barSpaceRatio[nt%2]}return sr()(ke()(ae.prototype),"_matchPattern",this).call(this,M,V)}},{key:"_findPattern",value:function(M,V){var q=arguments.length>2&&void 0!==arguments[2]&&arguments[2],W=arguments.length>3&&void 0!==arguments[3]&&arguments[3],me=new Array(M.length).fill(0),we=0,ve={error:Number.MAX_VALUE,start:0,end:0},Pe=this.AVG_CODE_ERROR;q=q||!1,W=W||!1,V||(V=this._nextSet(this._row));for(var nt=V;nt<this._row.length;nt++)if(this._row[nt]^(q?1:0))me[we]++;else{if(we===me.length-1){var Y=me.reduce(function(mt,tn){return mt+tn},0),Se=this._matchPattern(me,M);if(Se<Pe)return ve.error=Se,ve.start=nt-Y,ve.end=nt,ve;if(!W)return null;for(var Le=0;Le<me.length-2;Le++)me[Le]=me[Le+2];me[me.length-2]=0,me[me.length-1]=0,we--}else we++;me[we]=1,q=!q}return null}},{key:"_findStart",value:function(){for(var M=0,V=this._nextSet(this._row),q=null,W=1;!q;){if(!(q=this._findPattern(this.START_PATTERN,V,!1,!0)))return null;if(W=Math.floor((q.end-q.start)/4),(M=q.start-10*W)>=0&&this._matchRange(M,q.start,0))return q;V=q.end,q=null}return null}},{key:"_verifyTrailingWhitespace",value:function(M){var V=M.end+(M.end-M.start)/2;return V<this._row.length&&this._matchRange(M.end,V,0)?M:null}},{key:"_findEnd",value:function(){this._row.reverse();var M=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===M)return null;var V=M.start;return M.start=this._row.length-M.end,M.end=this._row.length-V,null!==M?this._verifyTrailingWhitespace(M):null}},{key:"_decodePair",value:function(M){for(var V=[],q=0;q<M.length;q++){var W=this._decodeCode(M[q]);if(!W)return null;V.push(W)}return V}},{key:"_decodeCode",value:function(M){for(var V=this.AVG_CODE_ERROR,q={error:Number.MAX_VALUE,code:-1,start:0,end:0},W=0;W<this.CODE_PATTERN.length;W++){var me=this._matchPattern(M,this.CODE_PATTERN[W]);me<q.error&&(q.code=W,q.error=me)}return q.error<V?q:null}},{key:"_decodePayload",value:function(M,V,q){for(var W=0,me=M.length,we=[[0,0,0,0,0],[0,0,0,0,0]],ve=null;W<me;){for(var Pe=0;Pe<5;Pe++)we[0][Pe]=M[W]*this.barSpaceRatio[0],we[1][Pe]=M[W+1]*this.barSpaceRatio[1],W+=2;if(!(ve=this._decodePair(we)))return null;for(var nt=0;nt<ve.length;nt++)V.push(ve[nt].code+""),q.push(ve[nt])}return ve}},{key:"_verifyCounterLength",value:function(M){return M.length%10==0}},{key:"decode",value:function(M,V){var q=new Array,W=new Array,me=this._findStart();if(!me)return null;W.push(me);var we=this._findEnd();if(!we)return null;var ve=this._fillCounters(me.end,we.start,!1);return this._verifyCounterLength(ve)&&this._decodePayload(ve,q,W)?q.length%2!=0||q.length<6?null:(W.push(we),{code:q.join(""),start:me.start,end:we.end,startInfo:me,decodedCodes:W,format:this.FORMAT}):null}}]),ae}(X);function Nn(pe,De){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(pe);De&&(M=M.filter(function(V){return Object.getOwnPropertyDescriptor(pe,V).enumerable})),ae.push.apply(ae,M)}return ae}var be=function(pe){Ge()(ae,pe);var De=function Ee(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),de()(Ie()(M),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),de()(Ie()(M),"FORMAT","upc_e"),M}return ge()(ae,[{key:"_decodePayload",value:function(M,V,q){for(var W=function(ve){for(var Pe=1;Pe<arguments.length;Pe++){var nt=null!=arguments[Pe]?arguments[Pe]:{};Pe%2?Nn(Object(nt),!0).forEach(function(Y){de()(ve,Y,nt[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ve,Object.getOwnPropertyDescriptors(nt)):Nn(Object(nt)).forEach(function(Y){Object.defineProperty(ve,Y,Object.getOwnPropertyDescriptor(nt,Y))})}return ve}({},M),me=0,we=0;we<6;we++){if(!(W=this._decodeCode(W.end)))return null;W.code>=10&&(W.code=W.code-10,me|=1<<5-we),V.push(W.code),q.push(W)}return this._determineParity(me,V)?W:null}},{key:"_determineParity",value:function(M,V){for(var q=0;q<this.CODE_FREQUENCY.length;q++)for(var W=0;W<this.CODE_FREQUENCY[q].length;W++)if(M===this.CODE_FREQUENCY[q][W])return V.unshift(q),V.push(W),!0;return!1}},{key:"_convertToUPCA",value:function(M){var V=[M[0]],q=M[M.length-2];return(V=q<=2?V.concat(M.slice(1,3)).concat([q,0,0,0,0]).concat(M.slice(3,6)):3===q?V.concat(M.slice(1,4)).concat([0,0,0,0,0]).concat(M.slice(4,6)):4===q?V.concat(M.slice(1,5)).concat([0,0,0,0,0,M[5]]):V.concat(M.slice(1,6)).concat([0,0,0,0,q])).push(M[M.length-1]),V}},{key:"_checksum",value:function(M){return sr()(ke()(ae.prototype),"_checksum",this).call(this,this._convertToUPCA(M))}},{key:"_findEnd",value:function(M,V){return sr()(ke()(ae.prototype),"_findEnd",this).call(this,M,!0)}},{key:"_verifyTrailingWhitespace",value:function(M){var V=M.end+(M.end-M.start)/2;return V<this._row.length&&this._matchRange(M.end,V,0)?M:null}}]),ae}(Tn);var tt=function(pe){Ge()(ae,pe);var De=function Ce(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(){var M;ze()(this,ae);for(var V=arguments.length,q=new Array(V),W=0;W<V;W++)q[W]=arguments[W];return M=De.call.apply(De,[this].concat(q)),de()(Ie()(M),"FORMAT","upc_a"),M}return ge()(ae,[{key:"decode",value:function(M,V){var q=Tn.prototype.decode.call(this);return q&&q.code&&13===q.code.length&&"0"===q.code.charAt(0)?(q.code=q.code.substring(1),q):null}}]),ae}(Tn),Ve={},Ht_UP=1,Ht_DOWN=-1;Ve.getBarcodeLine=function(pe,De,ae){var M,V,q,W,me,we=0|De.x,ve=0|De.y,Pe=0|ae.x,nt=0|ae.y,Y=Math.abs(nt-ve)>Math.abs(Pe-we),Se=[],Le=pe.data,mt=pe.size.x,tn=255,En=0;function bn(Fr,ji){tn=(me=Le[ji*mt+Fr])<tn?me:tn,En=me>En?me:En,Se.push(me)}Y&&(q=we,we=ve,ve=q,q=Pe,Pe=nt,nt=q),we>Pe&&(q=we,we=Pe,Pe=q,q=ve,ve=nt,nt=q);var In=Pe-we,cr=Math.abs(nt-ve);M=In/2|0,V=ve;var zr=ve<nt?1:-1;for(W=we;W<Pe;W++)Y?bn(V,W):bn(W,V),(M-=cr)<0&&(V+=zr,M+=In);return{line:Se,min:tn,max:En}},Ve.toBinaryLine=function(pe){var De,ae,M,V,q,W,me=pe.min,we=pe.max,ve=pe.line,Pe=me+(we-me)/2,nt=[],Y=(we-me)/12,Se=-Y;for(M=ve[0]>Pe?Ht_UP:Ht_DOWN,nt.push({pos:0,val:ve[0]}),q=0;q<ve.length-2;q++)M!==(V=(De=ve[q+1]-ve[q])+(ae=ve[q+2]-ve[q+1])<Se&&ve[q+1]<1.5*Pe?Ht_DOWN:De+ae>Y&&ve[q+1]>.5*Pe?Ht_UP:M)&&(nt.push({pos:q,val:ve[q]}),M=V);for(nt.push({pos:ve.length,val:ve[ve.length-1]}),W=nt[0].pos;W<nt[1].pos;W++)ve[W]=ve[W]>Pe?0:1;for(q=1;q<nt.length-1;q++)for(Y=nt[q+1].val>nt[q].val?nt[q].val+(nt[q+1].val-nt[q].val)/3*2|0:nt[q+1].val+(nt[q].val-nt[q+1].val)/3|0,W=nt[q].pos;W<nt[q+1].pos;W++)ve[W]=ve[W]>Y?0:1;return{line:ve,threshold:Y}},Ve.debug={printFrequency:function(pe,De){var ae,M=De.getContext("2d");for(De.width=pe.length,De.height=256,M.beginPath(),M.strokeStyle="blue",ae=0;ae<pe.length;ae++)M.moveTo(ae,255),M.lineTo(ae,255-pe[ae]);M.stroke(),M.closePath()},printPattern:function(pe,De){var ae,M=De.getContext("2d");for(De.width=pe.length,M.fillColor="black",ae=0;ae<pe.length;ae++)1===pe[ae]&&M.fillRect(ae,0,1,100)}};var Rn=Ve;function gn(pe,De){var ae="undefined"!=typeof Symbol&&pe[Symbol.iterator]||pe["@@iterator"];if(!ae){if(Array.isArray(pe)||(ae=function(we,ve){if(we){if("string"==typeof we)return Hn(we,undefined);var Pe=Object.prototype.toString.call(we).slice(8,-1);if("Object"===Pe&&we.constructor&&(Pe=we.constructor.name),"Map"===Pe||"Set"===Pe)return Array.from(we);if("Arguments"===Pe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return Hn(we,undefined)}}(pe))||De&&pe&&"number"==typeof pe.length){ae&&(pe=ae);var M=0,V=function(){};return{s:V,n:function(){return M>=pe.length?{done:!0}:{done:!1,value:pe[M++]}},e:function(we){throw we},f:V}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var q,W=!0,me=!1;return{s:function(){ae=ae.call(pe)},n:function(){var we=ae.next();return W=we.done,we},e:function(we){me=!0,q=we},f:function(){try{W||null==ae.return||ae.return()}finally{if(me)throw q}}}}function Hn(pe,De){(null==De||De>pe.length)&&(De=pe.length);for(var ae=0,M=new Array(De);ae<De;ae++)M[ae]=pe[ae];return M}var Yn={code_128_reader:wr,ean_reader:Tn,ean_5_reader:Ot,ean_2_reader:Mt,ean_8_reader:Wt,code_39_reader:Vr,code_39_vin_reader:je,codabar_reader:lr,upc_reader:tt,upc_e_reader:be,i2of5_reader:Ln,"2of5_reader":Sn,code_93_reader:fe,code_32_reader:An},dr={registerReader:function(pe,De){Yn[pe]=De},create:function(pe,De){var M=[];function V(){pe.readers.forEach(function(ve){var Pe,nt={},Y=[];"object"===O()(ve)?(Pe=ve.format,nt=ve.config):"string"==typeof ve&&(Pe=ve),nt.supplements&&(Y=nt.supplements.map(function(Le){return new Yn[Le]}));try{var Se=new Yn[Pe](nt,Y);M.push(Se)}catch(Le){throw console.error("* Error constructing reader ",Pe,Le),Le}})}function q(ve){var Pe,nt=null,Y=Rn.getBarcodeLine(De,ve[0],ve[1]);for(Rn.toBinaryLine(Y),Pe=0;Pe<M.length&&null===nt;Pe++)nt=M[Pe].decodePattern(Y.line);return null===nt?null:{codeResult:nt,barcodeLine:Y}}function W(ve){return me.apply(this,arguments)}function me(){return(me=K()(he.a.mark(function ve(Pe){var nt,Y,Se,Le;return he.a.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:nt=null,Y=gn(M),mt.prev=2,Y.s();case 4:if((Se=Y.n()).done){mt.next=14;break}if(!(Le=Se.value).decodeImage){mt.next=12;break}return mt.next=9,Le.decodeImage(Pe);case 9:if(!(nt=mt.sent)){mt.next=12;break}return mt.abrupt("break",14);case 12:mt.next=4;break;case 14:mt.next=19;break;case 16:mt.prev=16,mt.t0=mt.catch(2),Y.e(mt.t0);case 19:return mt.prev=19,Y.f(),mt.finish(19);case 22:return mt.abrupt("return",nt);case 23:case"end":return mt.stop()}},ve,null,[[2,16,19,22]])}))).apply(this,arguments)}function we(ve){var Pe,nt,Le,Y=function(Le){return Math.sqrt(Math.pow(Math.abs(Le[1].y-Le[0].y),2)+Math.pow(Math.abs(Le[1].x-Le[0].x),2))}(Pe=[{x:((Le=ve)[1][0]-Le[0][0])/2+Le[0][0],y:(Le[1][1]-Le[0][1])/2+Le[0][1]},{x:(Le[3][0]-Le[2][0])/2+Le[2][0],y:(Le[3][1]-Le[2][1])/2+Le[2][1]}]),Se=Math.atan2(Pe[1].y-Pe[0].y,Pe[1].x-Pe[0].x);return null===(Pe=function(Le,mt,tn){function En(bn){var In=bn*Math.sin(mt),cr=bn*Math.cos(mt);Le[0].y-=In,Le[0].x-=cr,Le[1].y+=In,Le[1].x+=cr}for(En(tn);tn>1&&(!De.inImageWithBorder(Le[0])||!De.inImageWithBorder(Le[1]));)En(-(tn-=Math.ceil(tn/2)));return Le}(Pe,Se,Math.floor(.1*Y)))?null:(null===(nt=q(Pe))&&(nt=function(Le,mt,tn){var En,bn,In,cr=Math.sqrt(Math.pow(Le[1][0]-Le[0][0],2)+Math.pow(Le[1][1]-Le[0][1],2)),zr=null,Fr=Math.sin(tn),ji=Math.cos(tn);for(En=1;En<16&&null===zr;En++)In={y:(bn=cr/16*En*(En%2==0?-1:1))*Fr,x:bn*ji},mt[0].y+=In.x,mt[0].x-=In.y,mt[1].y+=In.x,mt[1].x-=In.y,zr=q(mt);return zr}(ve,Pe,Se)),null===nt?null:{codeResult:nt.codeResult,line:Pe,angle:Se,pattern:nt.barcodeLine.line,threshold:nt.barcodeLine.threshold})}return V(),{decodeFromBoundingBox:function(ve){return we(ve)},decodeFromBoundingBoxes:function(ve){var Pe,nt,Y=[],Se=pe.multiple;for(Pe=0;Pe<ve.length;Pe++){var Le=ve[Pe];if((nt=we(Le)||{}).box=Le,Se)Y.push(nt);else if(nt.codeResult)return nt}return{barcodes:Y}},decodeFromImage:function(ve){return K()(he.a.mark(function Pe(){return he.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,W(ve);case 2:return Y.abrupt("return",Y.sent);case 4:case"end":return Y.stop()}},Pe)}))()},registerReader:function(ve,Pe){if(Yn[ve])throw new Error("cannot register existing reader",ve);Yn[ve]=Pe},setReaders:function(ve){pe.readers=ve,M.length=0,V()}}}},_n=function(){var pe={};function De(V){return pe[V]||(pe[V]={subscribers:[]}),pe[V]}function ae(V,q){V.async?setTimeout(function(){V.callback(q)},4):V.callback(q)}function M(V,q,W){var me;if("function"==typeof q)me={callback:q,async:W};else if(!(me=q).callback)throw new Error("Callback was not specified on options");De(V).subscribers.push(me)}return{subscribe:function(V,q,W){return M(V,q,W)},publish:function(V,q){var W=De(V),me=W.subscribers;me.filter(function(we){return!!we.once}).forEach(function(we){ae(we,q)}),W.subscribers=me.filter(function(we){return!we.once}),W.subscribers.forEach(function(we){ae(we,q)})},once:function(V,q){M(V,{callback:q,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(V,q){if(V){var W=De(V);W.subscribers=W&&q?W.subscribers.filter(function(me){return me.callback!==q}):[]}else pe={}}}}(),kn=p(85),mn=p.n(kn),He=p(86);var ln,yn=function(pe){Ge()(ae,pe);var De=function dt(pe){var De=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ae){return!1}}();return function(){var ae,M=ke()(pe);if(De){var V=ke()(this).constructor;ae=Reflect.construct(M,arguments,V)}else ae=M.apply(this,arguments);return Te()(this,ae)}}(ae);function ae(M,V){var q;return ze()(this,ae),q=De.call(this,M),de()(Ie()(q),"code",void 0),q.code=V,Object.setPrototypeOf(Ie()(q),ae.prototype),q}return ge()(ae)}(p.n(He)()(Error)),on="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Yt(){try{return navigator.mediaDevices.enumerateDevices()}catch(De){var pe=new yn("enumerateDevices is not defined. ".concat(on),-1);return Promise.reject(pe)}}function $t(pe){try{return navigator.mediaDevices.getUserMedia(pe)}catch(ae){var De=new yn("getUserMedia is not defined. ".concat(on),-1);return Promise.reject(De)}}function $e(pe){return new Promise(function(De,ae){var M=10;!function V(){M>0?pe.videoWidth>10&&pe.videoHeight>10?De():window.setTimeout(V,500):ae(new yn("Unable to play video stream. Is webcam working?",-1)),M--}()})}function At(pe,De){return en.apply(this,arguments)}function en(){return(en=K()(he.a.mark(function pe(De,ae){var M;return he.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,$t(ae);case 2:if(ln=M=V.sent,!De){V.next=11;break}return De.setAttribute("autoplay","true"),De.setAttribute("muted","true"),De.setAttribute("playsinline","true"),De.srcObject=M,De.addEventListener("loadedmetadata",function(){De.play()}),V.abrupt("return",$e(De));case 11:return V.abrupt("return",Promise.resolve());case 12:case"end":return V.stop()}},pe)}))).apply(this,arguments)}function hn(pe){var De=mn()(pe,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==pe.minAspectRatio&&pe.minAspectRatio>0&&(De.aspectRatio=pe.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==pe.facing&&(De.facingMode=pe.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),De}function an(){var De=hn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return De&&De.deviceId&&De.facingMode&&delete De.facingMode,Promise.resolve({audio:!1,video:De})}function fn(){return(fn=K()(he.a.mark(function pe(){return he.a.wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,Yt();case 2:return ae.abrupt("return",ae.sent.filter(function(M){return"videoinput"===M.kind}));case 4:case"end":return ae.stop()}},pe)}))).apply(this,arguments)}function $n(){if(!ln)return null;var pe=ln.getVideoTracks();return pe&&null!=pe&&pe.length?pe[0]:null}var un={requestedVideoElement:null,request:function(pe,De){return K()(he.a.mark(function ae(){return he.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return un.requestedVideoElement=pe,V.next=3,an(De);case 3:return V.abrupt("return",At(pe,V.sent));case 5:case"end":return V.stop()}},ae)}))()},release:function(){var pe=ln&&ln.getVideoTracks();return null!==un.requestedVideoElement&&un.requestedVideoElement.pause(),new Promise(function(De){setTimeout(function(){pe&&pe.length&&pe[0].stop(),ln=null,un.requestedVideoElement=null,De()},0)})},enumerateVideoDevices:function(){return fn.apply(this,arguments)},getActiveStreamLabel:function(){var pe=$n();return pe?pe.label:""},getActiveTrack:$n},Gn=un,Sr={create:function(pe){var De,ae=document.createElement("canvas"),M=ae.getContext("2d"),V=[],q=null!==(De=pe.capacity)&&void 0!==De?De:20,W=!0===pe.capture;return{addResult:function(we,ve,Pe){var nt={};(function me(we){return!!q&&we&&(ve=we,!((Pe=pe.blacklist)&&Pe.some(function(nt){return Object.keys(nt).every(function(Y){return nt[Y]===ve[Y]})})))&&function(ve,Pe){return"function"!=typeof Pe||Pe(ve)}(we,pe.filter);var ve,Pe})(Pe)&&(q--,nt.codeResult=Pe,W&&(ae.width=ve.x,ae.height=ve.y,st.a.drawImage(we,ve,M),nt.frame=ae.toDataURL()),V.push(nt))},getResults:function(){return V}}}},nr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},vr=p(7),ri=ge()(function pe(){ze()(this,pe),de()(this,"config",void 0),de()(this,"inputStream",void 0),de()(this,"framegrabber",void 0),de()(this,"inputImageWrapper",void 0),de()(this,"stopped",!1),de()(this,"boxSize",void 0),de()(this,"resultCollector",void 0),de()(this,"decoder",void 0),de()(this,"workerPool",[]),de()(this,"onUIThread",!0),de()(this,"canvasContainer",new Gr)}),eo=ge()(function pe(){ze()(this,pe),de()(this,"image",void 0),de()(this,"overlay",void 0)}),Gr=ge()(function pe(){ze()(this,pe),de()(this,"ctx",void 0),de()(this,"dom",void 0),this.ctx=new eo,this.dom=new eo}),Lr=p(23);function Qi(pe){return"undefined"==typeof document?null:pe instanceof HTMLElement&&pe.nodeName&&1===pe.nodeType?pe:document.querySelector("string"==typeof pe?pe:"#interactive.viewport")}function Zr(pe,De){var q,W,ae=(q=De,(W=document.querySelector(pe))||((W=document.createElement("canvas")).className=q),W),M=ae.getContext("2d");return{canvas:ae,context:M}}var Ue={274:"orientation"},pt=Object.keys(Ue).map(function(pe){return Ue[pe]});function Rt(pe){return new Promise(function(De){var ae=new FileReader;ae.onload=function(M){return De(M.target.result)},ae.readAsArrayBuffer(pe)})}function Gt(pe){return new Promise(function(De,ae){var M=new XMLHttpRequest;M.open("GET",pe,!0),M.responseType="blob",M.onreadystatechange=function(){M.readyState!==XMLHttpRequest.DONE||200!==M.status&&0!==M.status||De(this.response)},M.onerror=ae,M.send()})}function sn(pe){var De=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt,ae=new DataView(pe),M=pe.byteLength,V=De.reduce(function(W,me){var we=Object.keys(Ue).filter(function(ve){return Ue[ve]===me})[0];return we&&(W[we]=me),W},{}),q=2;if(255!==ae.getUint8(0)||216!==ae.getUint8(1))return!1;for(;q<M;){if(255!==ae.getUint8(q))return!1;if(225===ae.getUint8(q+1))return fr(ae,q+4,V);q+=2+ae.getUint16(q+2)}return!1}function fr(pe,De,ae){if("Exif"!==function(W,me,we){for(var ve="",Pe=me;Pe<me+4;Pe++)ve+=String.fromCharCode(W.getUint8(Pe));return ve}(pe,De))return!1;var M,V=De+6;if(18761===pe.getUint16(V))M=!1;else{if(19789!==pe.getUint16(V))return!1;M=!0}if(42!==pe.getUint16(V+2,!M))return!1;var q=pe.getUint32(V+4,!M);return!(q<8)&&function(W,me,we,ve,Pe){for(var nt=W.getUint16(we,!Pe),Y={},Se=0;Se<nt;Se++){var Le=we+12*Se+2,mt=ve[W.getUint16(Le,!Pe)];mt&&(Y[mt]=Br(W,Le,0,0,Pe))}return Y}(pe,0,V+q,ae,M)}function Br(pe,De,ae,M,V){var q=pe.getUint16(De+2,!V),W=pe.getUint32(De+4,!V);return 3===q&&1===W?pe.getUint16(De+8,!V):null}var mr={};function mi(pe,De){pe.onload=function(){De.loaded(this)}}mr.load=function(pe,De,ae,M,V){var q,W,me,we=new Array(M),ve=new Array(we.length);if(!1===V)we[0]=pe;else for(q=0;q<we.length;q++)me=ae+q,we[q]="".concat(pe,"image-").concat("00".concat(me).slice(-3),".jpg");for(ve.notLoaded=[],ve.addImage=function(Pe){ve.notLoaded.push(Pe)},ve.loaded=function(Pe){for(var nt=ve.notLoaded,Y=0;Y<nt.length;Y++)if(nt[Y]===Pe){nt.splice(Y,1);for(var Se=0;Se<we.length;Se++){var Le=we[Se].substr(we[Se].lastIndexOf("/"));if(-1!==Pe.src.lastIndexOf(Le)){ve[Se]={img:Pe};break}}break}0===nt.length&&(!1===V?function(mt){var tn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pt;return/^blob:/i.test(mt)?Gt(mt).then(Rt).then(function(En){return sn(En,tn)}):Promise.resolve(null)}(pe,["orientation"]).then(function(mt){ve[0].tags=mt,De(ve)}).catch(function(mt){console.log(mt),De(ve)}):De(ve))},q=0;q<we.length;q++)W=new Image,ve.addImage(W),mi(W,ve),W.src=we[q]};var No=mr,to={createVideoStream:function(pe){var De,ae,M=null,V=["canrecord","ended"],q={},W={x:0,y:0,type:"Point"},me={x:0,y:0,type:"XYSize"},we={getRealWidth:function(){return pe.videoWidth},getRealHeight:function(){return pe.videoHeight},getWidth:function(){return De},getHeight:function(){return ae},setWidth:function(ve){De=ve},setHeight:function(ve){ae=ve},setInputStream:function(ve){M=ve,this.setAttribute("src",void 0!==ve.src?ve.src:"")},ended:function(){return pe.ended},getConfig:function(){return M},setAttribute:function(ve,Pe){pe&&pe.setAttribute(ve,Pe)},pause:function(){pe.pause()},play:function(){pe.play()},setCurrentTime:function(ve){var Pe;"LiveStream"!==(null===(Pe=M)||void 0===Pe?void 0:Pe.type)&&this.setAttribute("currentTime",ve.toString())},addEventListener:function(ve,Pe,nt){-1!==V.indexOf(ve)?(q[ve]||(q[ve]=[]),q[ve].push(Pe)):pe.addEventListener(ve,Pe,nt)},clearEventHandlers:function(){V.forEach(function(ve){var Pe=q[ve];Pe&&Pe.length>0&&Pe.forEach(function(nt){pe.removeEventListener(ve,nt)})})},trigger:function(ve,Pe){var nt,Y,Se,Le,mt,tn=q[ve];if("canrecord"===ve&&(Le=pe.videoWidth,mt=pe.videoHeight,De=null!==(Y=M)&&void 0!==Y&&Y.size?Le/mt>1?M.size:Math.floor(Le/mt*M.size):Le,ae=null!==(Se=M)&&void 0!==Se&&Se.size?Le/mt>1?Math.floor(mt/Le*M.size):M.size:mt,me.x=De,me.y=ae),tn&&tn.length>0)for(nt=0;nt<tn.length;nt++)tn[nt].apply(we,Pe)},setTopRight:function(ve){W.x=ve.x,W.y=ve.y},getTopRight:function(){return W},setCanvasSize:function(ve){me.x=ve.x,me.y=ve.y},getCanvasSize:function(){return me},getFrame:function(){return pe}};return we},createLiveStream:function(pe){pe&&pe.setAttribute("autoplay","true");var De=to.createVideoStream(pe);return De.ended=function(){return!1},De},createImageStream:function(){var pe,De,ae=null,M=0,V=0,q=0,W=!0,me=!1,we=null,ve=0,Pe=null,nt=!1,Y=["canrecord","ended"],Se={},Le={x:0,y:0,type:"Point"},mt={x:0,y:0,type:"XYSize"};function tn(bn,In){var cr,zr=Se[bn];if(zr&&zr.length>0)for(cr=0;cr<zr.length;cr++)zr[cr].apply(En,In)}var En={trigger:tn,getWidth:function(){return pe},getHeight:function(){return De},setWidth:function(bn){pe=bn},setHeight:function(bn){De=bn},getRealWidth:function(){return M},getRealHeight:function(){return V},setInputStream:function(bn){var In;!1===bn.sequence?(Pe=bn.src,ve=1):(Pe=bn.src,ve=bn.length),me=!1,No.load(Pe,function(cr){var zr,Fr;if(we=cr,cr[0].tags&&cr[0].tags.orientation)switch(cr[0].tags.orientation){case 6:case 8:M=cr[0].img.height,V=cr[0].img.width;break;default:M=cr[0].img.width,V=cr[0].img.height}else M=cr[0].img.width,V=cr[0].img.height;pe=null!==(zr=ae)&&void 0!==zr&&zr.size?M/V>1?ae.size:Math.floor(M/V*ae.size):M,De=null!==(Fr=ae)&&void 0!==Fr&&Fr.size?M/V>1?Math.floor(V/M*ae.size):ae.size:V,mt.x=pe,mt.y=De,me=!0,q=0,setTimeout(function(){tn("canrecord",[])},0)},1,ve,null===(In=ae=bn)||void 0===In?void 0:In.sequence)},ended:function(){return nt},setAttribute:function(){},getConfig:function(){return ae},pause:function(){W=!0},play:function(){W=!1},setCurrentTime:function(bn){q=bn},addEventListener:function(bn,In){-1!==Y.indexOf(bn)&&(Se[bn]||(Se[bn]=[]),Se[bn].push(In))},clearEventHandlers:function(){Object.keys(Se).forEach(function(bn){return delete Se[bn]})},setTopRight:function(bn){Le.x=bn.x,Le.y=bn.y},getTopRight:function(){return Le},setCanvasSize:function(bn){mt.x=bn.x,mt.y=bn.y},getCanvasSize:function(){return mt},getFrame:function(){var bn,In;return me?(W||(bn=null===(In=we)||void 0===In?void 0:In[q],q<ve-1?q++:setTimeout(function(){nt=!0,tn("ended",[])},0)),bn):null}};return En}},fs=to,$i=p(10),js=Math.PI/180,Vs={create:function(pe,De){var ae,M={},V=pe.getConfig(),q=(Object($i.h)(pe.getRealWidth(),pe.getRealHeight()),pe.getCanvasSize()),W=Object($i.h)(pe.getWidth(),pe.getHeight()),me=pe.getTopRight(),we=me.x,ve=me.y,Pe=null,nt=null;return(ae=De||document.createElement("canvas")).width=q.x,ae.height=q.y,Pe=ae.getContext("2d"),nt=new Uint8Array(W.x*W.y),M.attachData=function(Y){nt=Y},M.getData=function(){return nt},M.grab=function(){var Y,En,bn,Se=V.halfSample,Le=pe.getFrame(),mt=Le,tn=0;if(mt){if((En=ae).width!==(bn=q).x&&(En.width=bn.x),En.height!==bn.y&&(En.height=bn.y),"ImageStream"===V.type&&(mt=Le.img,Le.tags&&Le.tags.orientation))switch(Le.tags.orientation){case 6:tn=90*js;break;case 8:tn=-90*js}return 0!==tn?(Pe.translate(q.x/2,q.y/2),Pe.rotate(tn),Pe.drawImage(mt,-q.y/2,-q.x/2,q.y,q.x),Pe.rotate(-tn),Pe.translate(-q.x/2,-q.y/2)):Pe.drawImage(mt,0,0,q.x,q.y),Y=Pe.getImageData(we,ve,W.x,W.y).data,Se?Object($i.e)(Y,W,nt):Object($i.c)(Y,nt,V),!0}return!1},M.getSize=function(){return W},M}},no=Vs;function xs(pe,De){var ae=Object.keys(pe);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(pe);De&&(M=M.filter(function(V){return Object.getOwnPropertyDescriptor(pe,V).enumerable})),ae.push.apply(ae,M)}return ae}function Qo(pe){for(var De=1;De<arguments.length;De++){var ae=null!=arguments[De]?arguments[De]:{};De%2?xs(Object(ae),!0).forEach(function(M){de()(pe,M,ae[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(pe,Object.getOwnPropertyDescriptors(ae)):xs(Object(ae)).forEach(function(M){Object.defineProperty(pe,M,Object.getOwnPropertyDescriptor(ae,M))})}return pe}var Ri=[];function Xo(pe){return Qo(Qo({},pe),{},{inputStream:Qo(Qo({},pe.inputStream),{},{target:null})})}function ua(pe){if(pe){var De=pe().default;if(!De)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var ae;function M(q){self.postMessage({event:"processed",imageData:ae.data,result:q},[ae.data.buffer])}function V(){self.postMessage({event:"initialized",imageData:ae.data},[ae.data.buffer])}self.onmessage=function(q){if("init"===q.data.cmd){var W=q.data.config;W.numOfWorkers=0,ae=new De.ImageWrapper({x:q.data.size.x,y:q.data.size.y},new Uint8Array(q.data.imageData)),De.init(W,V,ae),De.onProcessed(M)}else"process"===q.data.cmd?(ae.data=new Uint8Array(q.data.imageData),De.start()):"setReaders"===q.data.cmd?De.setReaders(q.data.readers):"registerReader"===q.data.cmd&&De.registerReader(q.data.name,q.data.reader)}}function jo(pe,De,ae){var M,V,q=("undefined"!=typeof __factorySource__&&(V=__factorySource__),M=new Blob(["("+ua.toString()+")("+V+");"],{type:"text/javascript"}),window.URL.createObjectURL(M)),W={worker:new Worker(q),imageData:new Uint8Array(De.getWidth()*De.getHeight()),busy:!0};W.worker.onmessage=function(me){"initialized"===me.data.event?(URL.revokeObjectURL(q),W.busy=!1,W.imageData=new Uint8Array(me.data.imageData),ae(W)):"processed"===me.data.event&&(W.imageData=new Uint8Array(me.data.imageData),W.busy=!1)},W.worker.postMessage({cmd:"init",size:{x:De.getWidth(),y:De.getHeight()},imageData:W.imageData,config:Xo(pe)},[W.imageData.buffer])}function Vo(pe,De,ae,M){var V=pe-Ri.length;if(0===V&&M)M();else if(V<0)Ri.slice(V).forEach(function(me){me.worker.terminate()}),Ri=Ri.slice(0,V),M&&M();else{var q=function(me){Ri.push(me),Ri.length>=pe&&M&&M()};if(De)for(var W=0;W<V;W++)jo(De,ae,q)}}function es(pe,De,ae){for(var M=pe.length;M--;)pe[M][0]+=De,pe[M][1]+=ae}var Ro=function(){function pe(){var M=this;ze()(this,pe),de()(this,"context",new ri),de()(this,"canRecord",function(V){var q;M.context.config&&(Lr.a.checkImageConstraints(M.context.inputStream,null===(q=M.context.config)||void 0===q?void 0:q.locator),M.initCanvas(),M.context.framegrabber=no.create(M.context.inputStream,M.context.canvasContainer.dom.image),void 0===M.context.config.numOfWorkers&&(M.context.config.numOfWorkers=0),Vo(M.context.config.numOfWorkers,M.context.config,M.context.inputStream,function(){var W;0===(null===(W=M.context.config)||void 0===W?void 0:W.numOfWorkers)&&M.initializeData(),M.ready(V)}))}),de()(this,"update",function(){if(M.context.onUIThread){var V,q=(me=M.context.framegrabber,Ri.length?!!(we=Ri.filter(function(ve){return!ve.busy})[0])&&(me.attachData(we.imageData),me.grab()&&(we.busy=!0,we.worker.postMessage({cmd:"process",imageData:we.imageData},[we.imageData.buffer])),!0):null);q||(M.context.framegrabber.attachData(null===(V=M.context.inputImageWrapper)||void 0===V?void 0:V.data),M.context.framegrabber.grab()&&(q||M.locateAndDecode()))}else{var W;M.context.framegrabber.attachData(null===(W=M.context.inputImageWrapper)||void 0===W?void 0:W.data),M.context.framegrabber.grab(),M.locateAndDecode()}var me,we})}var De,ae;return ge()(pe,[{key:"initBuffers",value:function(M){if(this.context.config){var V=(me=this.context.inputStream,ve=this.context.config.locator,Pe=M||new Z.a({x:me.getWidth(),y:me.getHeight(),type:"XYSize"}),nt=[Object(vr.clone)([0,0]),Object(vr.clone)([0,Pe.size.y]),Object(vr.clone)([Pe.size.x,Pe.size.y]),Object(vr.clone)([Pe.size.x,0])],Lr.a.init(Pe,ve),{inputImageWrapper:Pe,boxSize:nt}),W=V.boxSize;this.context.inputImageWrapper=V.inputImageWrapper,this.context.boxSize=W}var me,ve,Pe,nt}},{key:"initializeData",value:function(M){this.context.config&&(this.initBuffers(M),this.context.decoder=dr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Qi(this.context.config.inputStream.target):null}},{key:"ready",value:function(M){this.context.inputStream.play(),M()}},{key:"initCanvas",value:function(){var M=function Xe(pe){var De,ae,M,V,q=Qi(null==pe||null===(De=pe.config)||void 0===De||null===(ae=De.inputStream)||void 0===ae?void 0:ae.target),W=null==pe||null===(M=pe.config)||void 0===M||null===(V=M.inputStream)||void 0===V?void 0:V.type;if(!W)return null;var me=function(ve){if("undefined"!=typeof document){var Pe=Zr("canvas.imgBuffer","imgBuffer"),nt=Zr("canvas.drawingBuffer","drawingBuffer");return Pe.canvas.width=nt.canvas.width=ve.x,Pe.canvas.height=nt.canvas.height=ve.y,{dom:{image:Pe.canvas,overlay:nt.canvas},ctx:{image:Pe.context,overlay:nt.context}}}return null}(pe.inputStream.getCanvasSize());if(!me)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var we=me.dom;return"undefined"!=typeof document&&q&&("ImageStream"!==W||q.contains(we.image)||q.appendChild(we.image),q.contains(we.overlay)||q.appendChild(we.overlay)),me}(this.context);if(M){var V=M.ctx,q=M.dom;this.context.canvasContainer.dom.image=q.image,this.context.canvasContainer.dom.overlay=q.overlay,this.context.canvasContainer.ctx.image=V.image,this.context.canvasContainer.ctx.overlay=V.overlay}}},{key:"initInputStream",value:function(M){if(this.context.config&&this.context.config.inputStream){var V=this.context.config.inputStream,q=V.type,W=V.constraints,me=function(){var Pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",nt=arguments.length>1?arguments[1]:void 0,Y=arguments.length>2?arguments[2]:void 0;switch(Pe){case"VideoStream":var Se=document.createElement("video");return{video:Se,inputStream:Y.createVideoStream(Se)};case"ImageStream":return{inputStream:Y.createImageStream()};case"LiveStream":var Le=null;return nt&&((Le=nt.querySelector("video"))||(Le=document.createElement("video"),nt.appendChild(Le))),{video:Le,inputStream:Y.createLiveStream(Le)};default:return console.error("* setupInputStream invalid type ".concat(Pe)),{video:null,inputStream:null}}}(q,this.getViewPort(),fs),we=me.video,ve=me.inputStream;"LiveStream"===q&&we&&Gn.request(we,W).then(function(){return ve.trigger("canrecord")}).catch(function(Pe){return M(Pe)}),ve.setAttribute("preload","auto"),ve.setInputStream(this.context.config.inputStream),ve.addEventListener("canrecord",this.canRecord.bind(void 0,M)),this.context.inputStream=ve}}},{key:"getBoundingBoxes",value:function(){var M;return null!==(M=this.context.config)&&void 0!==M&&M.locate?Lr.a.locate():[[Object(vr.clone)(this.context.boxSize[0]),Object(vr.clone)(this.context.boxSize[1]),Object(vr.clone)(this.context.boxSize[2]),Object(vr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(M){var ve,Pe,nt,V=this,q=this.context.inputStream.getTopRight(),W=q.x,me=q.y;if((0!==W||0!==me)&&(M.barcodes&&M.barcodes.forEach(function(ve){return V.transformResult(ve)}),M.line&&2===M.line.length&&(nt=me,(ve=M.line)[0].x+=Pe=W,ve[0].y+=nt,ve[1].x+=Pe,ve[1].y+=nt),M.box&&es(M.box,W,me),M.boxes&&M.boxes.length>0))for(var we=0;we<M.boxes.length;we++)es(M.boxes[we],W,me)}},{key:"addResult",value:function(M,V){var q=this;V&&this.context.resultCollector&&(M.barcodes?M.barcodes.filter(function(W){return W.codeResult}).forEach(function(W){return q.addResult(W,V)}):M.codeResult&&this.context.resultCollector.addResult(V,this.context.inputStream.getCanvasSize(),M.codeResult))}},{key:"hasCodeResult",value:function(M){return!(!M||!(M.barcodes?M.barcodes.some(function(V){return V.codeResult}):M.codeResult))}},{key:"publishResult",value:function(){var M=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,V=arguments.length>1?arguments[1]:void 0,q=M;M&&this.context.onUIThread&&(this.transformResult(M),this.addResult(M,V),q=M.barcodes||M),_n.publish("processed",q),this.hasCodeResult(M)&&_n.publish("detected",q)}},{key:"locateAndDecode",value:(ae=K()(he.a.mark(function M(){var V,q,W,me,we;return he.a.wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(!(V=this.getBoundingBoxes())){ve.next=12;break}return ve.next=4,this.context.decoder.decodeFromBoundingBoxes(V);case 4:if(ve.t0=ve.sent,ve.t0){ve.next=7;break}ve.t0={};case 7:(W=ve.t0).boxes=V,this.publishResult(W,null===(q=this.context.inputImageWrapper)||void 0===q?void 0:q.data),ve.next=16;break;case 12:return ve.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(me=ve.sent)?this.publishResult(me,null===(we=this.context.inputImageWrapper)||void 0===we?void 0:we.data):this.publishResult();case 16:case"end":return ve.stop()}},M,this)})),function(){return ae.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var M,V=this,q=null,W=1e3/((null===(M=this.context.config)||void 0===M?void 0:M.frequency)||60);this.context.stopped=!1;var me=this.context;!function we(ve){q=q||ve,me.stopped||(ve>=q&&(q+=W,V.update()),window.requestAnimationFrame(we))}(performance.now())}},{key:"start",value:function(){var M,V;this.context.onUIThread&&"LiveStream"===(null===(M=this.context.config)||void 0===M||null===(V=M.inputStream)||void 0===V?void 0:V.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(De=K()(he.a.mark(function M(){var V;return he.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(this.context.stopped=!0,Vo(0),null===(V=this.context.config)||void 0===V||!V.inputStream||"LiveStream"!==this.context.config.inputStream.type){q.next=6;break}return q.next=5,Gn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return q.stop()}},M,this)})),function(){return De.apply(this,arguments)})},{key:"setReaders",value:function(M){var V;this.context.decoder&&this.context.decoder.setReaders(M),V=M,Ri.forEach(function(q){return q.worker.postMessage({cmd:"setReaders",readers:V})})}},{key:"registerReader",value:function(M,V){var q,W;dr.registerReader(M,V),this.context.decoder&&this.context.decoder.registerReader(M,V),q=M,W=V,Ri.forEach(function(me){return me.worker.postMessage({cmd:"registerReader",name:q,reader:W})})}}]),pe}(),go=new Ro,Co=go.context,ui={init:function(pe,De,ae){var M,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:go;return De||(M=new Promise(function(q,W){De=function(me){me?W(me):q()}})),V.context.config=J()({},nr,pe),V.context.config.numOfWorkers>0&&(V.context.config.numOfWorkers=0),ae?(V.context.onUIThread=!1,V.initializeData(ae),De&&De()):V.initInputStream(De),M},start:function(){return go.start()},stop:function(){return go.stop()},pause:function(){Co.stopped=!0},onDetected:function(pe){pe&&("function"==typeof pe||"object"===O()(pe)&&pe.callback)?_n.subscribe("detected",pe):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(pe){_n.unsubscribe("detected",pe)},onProcessed:function(pe){pe&&("function"==typeof pe||"object"===O()(pe)&&pe.callback)?_n.subscribe("processed",pe):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(pe){_n.unsubscribe("processed",pe)},setReaders:function(pe){pe?go.setReaders(pe):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(pe,De){pe?De?go.registerReader(pe,De):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(pe){pe&&"function"==typeof pe.addResult&&(Co.resultCollector=pe)},get canvas(){return Co.canvasContainer},decodeSingle:function(pe,De){var ae=this,M=new Ro;return(pe=J()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:pe.src},numOfWorkers:1,locator:{halfSample:!1}},pe)).numOfWorkers>0&&(pe.numOfWorkers=0),pe.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),pe.numOfWorkers=0),new Promise(function(V,q){try{ae.init(pe,function(){_n.once("processed",function(W){M.stop(),De&&De.call(null,W),V(W)},!0),M.start()},null,M)}catch(W){q(W)}})},get default(){return ui},Readers:e,CameraAccess:Gn,ImageDebug:st.a,ImageWrapper:Z.a,ResultCollector:Sr};P.default=ui}]).default},2090:(lt,x,P)=>{"use strict";P.d(x,{$s:()=>Mn,BH:()=>Ye,L:()=>Q,LL:()=>wt,Lj:()=>Ln,Mn:()=>Ke,UG:()=>Be,US:()=>J,X3:()=>rn,ZB:()=>he,ZR:()=>_e,b$:()=>Ge,d:()=>et,eu:()=>ue,hl:()=>de,jU:()=>Ie,m9:()=>Mt,ne:()=>An,pd:()=>kr,r3:()=>ur,ru:()=>ut,tV:()=>K,uI:()=>ge,vZ:()=>Ar,w1:()=>Te,xO:()=>bi,xb:()=>Jr,z$:()=>gt,zI:()=>X,zd:()=>Vr});var p=P(5861);const O=function(Ee){const be=[];let Ce=0;for(let tt=0;tt<Ee.length;tt++){let Ve=Ee.charCodeAt(tt);Ve<128?be[Ce++]=Ve:Ve<2048?(be[Ce++]=Ve>>6|192,be[Ce++]=63&Ve|128):55296==(64512&Ve)&&tt+1<Ee.length&&56320==(64512&Ee.charCodeAt(tt+1))?(Ve=65536+((1023&Ve)<<10)+(1023&Ee.charCodeAt(++tt)),be[Ce++]=Ve>>18|240,be[Ce++]=Ve>>12&63|128,be[Ce++]=Ve>>6&63|128,be[Ce++]=63&Ve|128):(be[Ce++]=Ve>>12|224,be[Ce++]=Ve>>6&63|128,be[Ce++]=63&Ve|128)}return be},J={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Ee,be){if(!Array.isArray(Ee))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Ce=be?this.byteToCharMapWebSafe_:this.byteToCharMap_,tt=[];for(let Ve=0;Ve<Ee.length;Ve+=3){const Ht=Ee[Ve],Rn=Ve+1<Ee.length,gn=Rn?Ee[Ve+1]:0,Hn=Ve+2<Ee.length,Yn=Hn?Ee[Ve+2]:0;let kn=(15&gn)<<2|Yn>>6,mn=63&Yn;Hn||(mn=64,Rn||(kn=64)),tt.push(Ce[Ht>>2],Ce[(3&Ht)<<4|gn>>4],Ce[kn],Ce[mn])}return tt.join("")},encodeString(Ee,be){return this.HAS_NATIVE_SUPPORT&&!be?btoa(Ee):this.encodeByteArray(O(Ee),be)},decodeString(Ee,be){return this.HAS_NATIVE_SUPPORT&&!be?atob(Ee):function(Ee){const be=[];let Ce=0,tt=0;for(;Ce<Ee.length;){const Ve=Ee[Ce++];if(Ve<128)be[tt++]=String.fromCharCode(Ve);else if(Ve>191&&Ve<224){const Ht=Ee[Ce++];be[tt++]=String.fromCharCode((31&Ve)<<6|63&Ht)}else if(Ve>239&&Ve<365){const Hn=((7&Ve)<<18|(63&Ee[Ce++])<<12|(63&Ee[Ce++])<<6|63&Ee[Ce++])-65536;be[tt++]=String.fromCharCode(55296+(Hn>>10)),be[tt++]=String.fromCharCode(56320+(1023&Hn))}else{const Ht=Ee[Ce++],Rn=Ee[Ce++];be[tt++]=String.fromCharCode((15&Ve)<<12|(63&Ht)<<6|63&Rn)}}return be.join("")}(this.decodeStringToByteArray(Ee,be))},decodeStringToByteArray(Ee,be){this.init_();const Ce=be?this.charToByteMapWebSafe_:this.charToByteMap_,tt=[];for(let Ve=0;Ve<Ee.length;){const Ht=Ce[Ee.charAt(Ve++)],gn=Ve<Ee.length?Ce[Ee.charAt(Ve)]:0;++Ve;const Yn=Ve<Ee.length?Ce[Ee.charAt(Ve)]:64;++Ve;const _n=Ve<Ee.length?Ce[Ee.charAt(Ve)]:64;if(++Ve,null==Ht||null==gn||null==Yn||null==_n)throw Error();tt.push(Ht<<2|gn>>4),64!==Yn&&(tt.push(gn<<4&240|Yn>>2),64!==_n&&tt.push(Yn<<6&192|_n))}return tt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Ee=0;Ee<this.ENCODED_VALS.length;Ee++)this.byteToCharMap_[Ee]=this.ENCODED_VALS.charAt(Ee),this.charToByteMap_[this.byteToCharMap_[Ee]]=Ee,this.byteToCharMapWebSafe_[Ee]=this.ENCODED_VALS_WEBSAFE.charAt(Ee),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Ee]]=Ee,Ee>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Ee)]=Ee,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Ee)]=Ee)}}},Q=function(Ee){return function(Ee){const be=O(Ee);return J.encodeByteArray(be,!0)}(Ee).replace(/\./g,"")},K=function(Ee){try{return J.decodeString(Ee,!0)}catch(be){console.error("base64Decode failed: ",be)}return null};function he(Ee,be){if(!(be instanceof Object))return be;switch(be.constructor){case Date:return new Date(be.getTime());case Object:void 0===Ee&&(Ee={});break;case Array:Ee=[];break;default:return be}for(const Ce in be)!be.hasOwnProperty(Ce)||!st(Ce)||(Ee[Ce]=he(Ee[Ce],be[Ce]));return Ee}function st(Ee){return"__proto__"!==Ee}class Ye{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((be,Ce)=>{this.resolve=be,this.reject=Ce})}wrapCallback(be){return(Ce,tt)=>{Ce?this.reject(Ce):this.resolve(tt),"function"==typeof be&&(this.promise.catch(()=>{}),1===be.length?be(Ce):be(Ce,tt))}}}function gt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(gt())}function Be(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Ee){return!1}}function Ie(){return"object"==typeof self&&self.self===self}function ut(){const Ee="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Ee&&void 0!==Ee.id}function Ge(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){return gt().indexOf("Electron/")>=0}function Te(){const Ee=gt();return Ee.indexOf("MSIE ")>=0||Ee.indexOf("Trident/")>=0}function Ke(){return gt().indexOf("MSAppHost/")>=0}function de(){return"object"==typeof indexedDB}function ue(){return new Promise((Ee,be)=>{try{let Ce=!0;const tt="validate-browser-context-for-indexeddb-analytics-module",Ve=self.indexedDB.open(tt);Ve.onsuccess=()=>{Ve.result.close(),Ce||self.indexedDB.deleteDatabase(tt),Ee(!0)},Ve.onupgradeneeded=()=>{Ce=!1},Ve.onerror=()=>{var Ht;be((null===(Ht=Ve.error)||void 0===Ht?void 0:Ht.message)||"")}}catch(Ce){be(Ce)}})}function X(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class _e extends Error{constructor(be,Ce,tt){super(Ce),this.code=be,this.customData=tt,this.name="FirebaseError",Object.setPrototypeOf(this,_e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wt.prototype.create)}}class wt{constructor(be,Ce,tt){this.service=be,this.serviceName=Ce,this.errors=tt}create(be,...Ce){const tt=Ce[0]||{},Ve=`${this.service}/${be}`,Ht=this.errors[be],Rn=Ht?function It(Ee,be){return Ee.replace(Sn,(Ce,tt)=>{const Ve=be[tt];return null!=Ve?String(Ve):`<${tt}?>`})}(Ht,tt):"Error";return new _e(Ve,`${this.serviceName}: ${Rn} (${Ve}).`,tt)}}const Sn=/\{\$([^}]+)}/g;function ur(Ee,be){return Object.prototype.hasOwnProperty.call(Ee,be)}function Jr(Ee){for(const be in Ee)if(Object.prototype.hasOwnProperty.call(Ee,be))return!1;return!0}function Ar(Ee,be){if(Ee===be)return!0;const Ce=Object.keys(Ee),tt=Object.keys(be);for(const Ve of Ce){if(!tt.includes(Ve))return!1;const Ht=Ee[Ve],Rn=be[Ve];if(Ii(Ht)&&Ii(Rn)){if(!Ar(Ht,Rn))return!1}else if(Ht!==Rn)return!1}for(const Ve of tt)if(!Ce.includes(Ve))return!1;return!0}function Ii(Ee){return null!==Ee&&"object"==typeof Ee}function bi(Ee){const be=[];for(const[Ce,tt]of Object.entries(Ee))Array.isArray(tt)?tt.forEach(Ve=>{be.push(encodeURIComponent(Ce)+"="+encodeURIComponent(Ve))}):be.push(encodeURIComponent(Ce)+"="+encodeURIComponent(tt));return be.length?"&"+be.join("&"):""}function Vr(Ee){const be={};return Ee.replace(/^\?/,"").split("&").forEach(tt=>{if(tt){const[Ve,Ht]=tt.split("=");be[decodeURIComponent(Ve)]=decodeURIComponent(Ht)}}),be}function kr(Ee){const be=Ee.indexOf("?");if(!be)return"";const Ce=Ee.indexOf("#",be);return Ee.substring(be,Ce>0?Ce:void 0)}function An(Ee,be){const Ce=new Hi(Ee,be);return Ce.subscribe.bind(Ce)}class Hi{constructor(be,Ce){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Ce,this.task.then(()=>{be(this)}).catch(tt=>{this.error(tt)})}next(be){this.forEachObserver(Ce=>{Ce.next(be)})}error(be){this.forEachObserver(Ce=>{Ce.error(be)}),this.close(be)}complete(){this.forEachObserver(be=>{be.complete()}),this.close()}subscribe(be,Ce,tt){let Ve;if(void 0===be&&void 0===Ce&&void 0===tt)throw new Error("Missing Observer.");Ve=function Qr(Ee,be){if("object"!=typeof Ee||null===Ee)return!1;for(const Ce of be)if(Ce in Ee&&"function"==typeof Ee[Ce])return!0;return!1}(be,["next","error","complete"])?be:{next:be,error:Ce,complete:tt},void 0===Ve.next&&(Ve.next=je),void 0===Ve.error&&(Ve.error=je),void 0===Ve.complete&&(Ve.complete=je);const Ht=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ve.error(this.finalError):Ve.complete()}catch(Rn){}}),this.observers.push(Ve),Ht}unsubscribeOne(be){void 0===this.observers||void 0===this.observers[be]||(delete this.observers[be],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(be){if(!this.finalized)for(let Ce=0;Ce<this.observers.length;Ce++)this.sendOne(Ce,be)}sendOne(be,Ce){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[be])try{Ce(this.observers[be])}catch(tt){"undefined"!=typeof console&&console.error&&console.error(tt)}})}close(be){this.finalized||(this.finalized=!0,void 0!==be&&(this.finalError=be),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function je(){}function Mn(Ee,be=1e3,Ce=2){const tt=be*Math.pow(Ce,Ee),Ve=Math.round(.5*tt*(Math.random()-.5)*2);return Math.min(144e5,tt+Ve)}function Mt(Ee){return Ee&&Ee._delegate?Ee._delegate:Ee}function Zn(Ee,be){return new Promise((Ce,tt)=>{Ee.onsuccess=Ve=>{Ce(Ve.target.result)},Ee.onerror=Ve=>{var Ht;tt(`${be}: ${null===(Ht=Ve.target.error)||void 0===Ht?void 0:Ht.message}`)}})}class xn{constructor(be){this._db=be,this.objectStoreNames=this._db.objectStoreNames}transaction(be,Ce){return new Ot(this._db.transaction.call(this._db,be,Ce))}createObjectStore(be,Ce){return new it(this._db.createObjectStore(be,Ce))}close(){this._db.close()}}class Ot{constructor(be){this._transaction=be,this.complete=new Promise((Ce,tt)=>{this._transaction.oncomplete=function(){Ce()},this._transaction.onerror=()=>{tt(this._transaction.error)},this._transaction.onabort=()=>{tt(this._transaction.error)}})}objectStore(be){return new it(this._transaction.objectStore(be))}}class it{constructor(be){this._store=be}index(be){return new Wt(this._store.index(be))}createIndex(be,Ce,tt){return new Wt(this._store.createIndex(be,Ce,tt))}get(be){return Zn(this._store.get(be),"Error reading from IndexedDB")}put(be,Ce){return Zn(this._store.put(be,Ce),"Error writing to IndexedDB")}delete(be){return Zn(this._store.delete(be),"Error deleting from IndexedDB")}clear(){return Zn(this._store.clear(),"Error clearing IndexedDB object store")}}class Wt{constructor(be){this._index=be}get(be){return Zn(this._index.get(be),"Error reading from IndexedDB")}}function rn(Ee,be,Ce){return new Promise((tt,Ve)=>{try{const Ht=indexedDB.open(Ee,be);Ht.onsuccess=Rn=>{tt(new xn(Rn.target.result))},Ht.onerror=Rn=>{var gn;Ve(`Error opening indexedDB: ${null===(gn=Rn.target.error)||void 0===gn?void 0:gn.message}`)},Ht.onupgradeneeded=Rn=>{Ce(new xn(Ht.result),Rn.oldVersion,Rn.newVersion,new Ot(Ht.transaction))}}catch(Ht){Ve(`Error opening indexedDB: ${Ht.message}`)}})}function Ln(Ee){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,p.Z)(function*(Ee){return new Promise((be,Ce)=>{try{const tt=indexedDB.deleteDatabase(Ee);tt.onsuccess=()=>{be()},tt.onerror=Ve=>{var Ht;Ce(`Error deleting indexedDB database "${Ee}": ${null===(Ht=Ve.target.error)||void 0===Ht?void 0:Ht.message}`)}}catch(tt){Ce(`Error deleting indexedDB database "${Ee}": ${tt.message}`)}})})).apply(this,arguments)}},2940:(lt,x,P)=>{"use strict";P.d(x,{T:()=>p});const p="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(lt,x,P)=>{"use strict";P.d(x,{X:()=>p});const p=[{barcode:"12345",createdOn:1648717508909,id:"qrnnSLWTzjPy7cXjm2DD",name:"2 P\xe2tes feuillet\xe9es",createdBy:{email:"jollmat@hotmail.com",lastLogin:1648714433260,admin:!0},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/339/259/020/3433/front_fr.7.400.jpg",brand:"Croustipate"},{name:"7 Up sin az\xfacar, 2L",barcode:"8717700002402",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1,brand:"7 Up",id:"nltN2RwvykuhHdypSWbj"},{brand:"Borges",name:"Aceite de oliva suave",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",barcode:"8410179010014",id:"NqwhkXHtGfGcJ5q7KsRz"},{name:"Aceite refinado de girasol botella 1 l",favourite:!1,barcode:"8410179202006",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",brand:"Borges",id:"6zEUzVIlJFRxt8hRPpdn"},{brand:"Marca desconeguda",favourite:!1,name:"Acelgas",barcode:"8480000163141",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",id:"q9Z0MayoXzRZKLTF5vDy"},{name:"Acelgas categor\xeda extra",barcode:"8480017574657",brand:"Dia",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",id:"oHLo9zNJH6p0uSTJNcAK"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",id:"leklVFvsbS9ilPDvL2Fn"},{favourite:!1,brand:"Bezoya",barcode:"8410128000400",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",name:"Agua mineral natural",id:"SlRmgYQ7Q4gIrntiumBy"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",favourite:!1,barcode:"8410128160074",brand:"Bezoya",name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",id:"lexnGS3p54WbYuhquB31"},{name:"Agua mineral natural garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/550/1131/front_es.11.400.jpg",brand:"Font Vella",id:"PCYDzXKqxzBqpCdaUNYo",barcode:"8410055501131",createdOn:1649162588705,createdBy:{lastLogin:1648889388379,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},favourite:!1},{brand:"Viladrau",favourite:!1,name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",barcode:"8411002101701",id:"Q70bJqYgDk49yzOy0Zcw"},{brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",barcode:"8436551861951",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",id:"K1aeYHAdujAOseKwRc7w"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9439/front_es.10.400.jpg",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904,email:"joanlloria@gmail.com"},favourite:!1,name:"Amanida del temps",id:"30nav3nZaY4KBBplEpB0",createdOn:1649443191448,barcode:"8437011969439",brand:"ametller origen"},{id:"3MwASOS7hvysSgIzAgUK",brand:"Amstel",barcode:"8410569615614",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg",name:"Amstel Radler"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1,name:"An\xeds dulce",brand:"An\xeds del Mono",barcode:"8410337219082",id:"Bv074TbrKKPtZVHHtTak"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",name:"Aroma de Vainilla",brand:"Hacendado",barcode:"8480000325242",favourite:!1,id:"Ado6jD7TCsaLoVsxUozf"},{favourite:!1,brand:"Brillante",name:"Arroz integral",barcode:"8410184800150",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",id:"n4zcQ59UCaVNsahkzXma"},{brand:"Brillante",favourite:!1,name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",barcode:"8410184013086",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg",id:"z5geMGnZ4ziKOmmcSwwl"},{favourite:!1,barcode:"8410448000913",brand:"Schara",name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",id:"ZYAzdv1no7HEq2czfOZr"},{brand:"Granini",barcode:"8431707094290",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg",id:"3lKVzkKi1CtI6xJjimWA"},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",name:"At\xfan en aceite de girasol",barcode:"8480000180926",id:"Gopq8JVDytroBPtGXoxF"},{favourite:!1,brand:"guest",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",barcode:"8436033878095",name:"At\xfan en aceite de girasol",id:"3ryTb2dhZeZi5b9I9lMG"},{barcode:"8410714107735",favourite:!1,name:"Azucarera Sucre Glace 500G",brand:"Azucarera",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",id:"30m9z8rGbtu8VPw8RzPf"},{favourite:!1,brand:"Espiga Blanca",barcode:"8436540562050",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",name:"Bastones de cristal",id:"vIFWp8mAaDrkh6VpezCu"},{favourite:!1,barcode:"8076800195132",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg",brand:"Barilla",name:"Bavette n.13",id:"8tda9fG5Wtj0KImax7zm"},{imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1,brand:"ALITEY",barcode:"8423352861402",name:"Bebida de avena",id:"8bxuQK7atfV4FDjiXH3G"},{barcode:"8436551865355",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg",name:"Beguda vegetal d'arr\xf2s",id:"1m2qNvyCKtKxVlJn0E4N"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg",name:"Bicarbonato s\xf3dico",brand:"Dia",barcode:"8480017175397",favourite:!1,id:"vrzvdVtxcWvp3qw3aiDh"},{brand:"Lotus",favourite:!1,name:"Biscoff",barcode:"5410126716016",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg",id:"hndTO6g8rFhvc8pHl7kl"},{favourite:!1,name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",barcode:"8410179202020",brand:"Borges",id:"x01xB6jOHkDnwEwdgC1e"},{barcode:"8015100563067",imageUrl:"",name:"Bref power active, alpine",brand:"Henkel",favourite:!1,id:"XBhKl9TCvR2klNWauS4p"},{name:"Brots de Ruca",favourite:!1,barcode:"8422410473878",brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg",id:"l6nkLXadsPk7Ehf0WGnJ"},{name:"brots selectes",barcode:"8436551867502",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",brand:"ametller origen",id:"hoJYThDEIKKON38d7l4o"},{barcode:"8410148509327",name:"Cacahuete frito",brand:"Borges",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",id:"fBt6Uvb5EC1QF1bec6U8"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",barcode:"8480000341778",name:"Canela Molida",brand:"Hacendado",favourite:!1,id:"Q45IWe8UFJmIMQevB57O"},{brand:"Dani",name:"Canela molida",barcode:"8410721000180",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",id:"HPv7I6ohHstOdBmqkRyM"},{favourite:!1,brand:"Hacendado",name:"Cannelloni tubos precocidos",barcode:"8480000064974",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",id:"LtgpXq6f0Lyz1ObmDek4"},{favourite:!1,barcode:"8480000136343",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",name:"Capsula cafe classic",id:"L8fz1zUx3C266faJZLHJ"},{name:"Cebolla frita",brand:"Espiga Blanca",barcode:"8412945008508",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg",id:"ReaXV2iO2tNr8brsmLZJ"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",name:"Chapata",barcode:"8410706000266",brand:"Recondo",favourite:!1,id:"QsUX7H05EMIiyxgjxkzU"},{barcode:"80177616",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1,name:"Chocolate bars x 8",brand:"Kinder,Ferrero",id:"GVrx3aFKfbYDzA8ug2sy"},{favourite:!1,barcode:"7613035268388",name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg",brand:"Nestl\xe9",id:"nVQQx2Go0DIsFpD1fnEy"},{imageUrl:"https://images.openfoodfacts.org/images/products/761/303/531/4016/front_es.25.400.jpg",name:"Chocolate con leche y almendras",id:"PYxYdVJPIw8PYGT3hJL7",brand:"Nestl\xe9",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379},favourite:!1,barcode:"7613035314016",createdOn:1649162622233},{favourite:!1,brand:"Illy",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",barcode:"8003753900438",name:"coffee tin",id:"P3TJFIMJJ6umgLsMNARA"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",brand:"Ametller origen",name:"Crema ceba i formatge",favourite:!1,barcode:"8436554524570",id:"uptkoR3RoAgnxL4on1zY"},{name:"Crema de Aceite Balsamico de Modena",barcode:"8422410809851",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1,brand:"Bonpreu",id:"SXfe5C6ROv5I8weIylKE"},{brand:"Ametller Origen",barcode:"8436554523979",name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",favourite:!1,id:"3dkzQEdUiw6jeSdhv5qE"},{barcode:"8436583955093",favourite:!1,brand:"Novell",imageUrl:"",name:"C\xe0psules de caf\xe9 intens 16u.",id:"4cx8G55JBcftkwPjMRrc"},{favourite:!1,barcode:"8480000325273",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",name:"Decoraciones",id:"c5ebv4Zxds72D4gLOxml"},{barcode:"5054563101648",favourite:!1,id:"jdAnPuqtEeAaPzOCYl00",imageUrl:"https://images.rappi.com.mx/products/92d7d2a4-18f6-46fd-9580-c679a23d1493.png?d=200x200&e=webp",name:"Dent\xedfrico blanqueante, 100ml",brand:"Sensodyne"},{id:"zsWPRKl0FTIpnOBG0WYm",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/686/2295/front_es.12.400.jpg",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",lastLogin:1649187527904},favourite:!1,brand:"Nescaf\xe9",name:"Dolce Gusto",createdOn:1649525097595,barcode:"7613036862295"},{brand:"Marca desconeguda",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg",name:"Donettes",favourite:!1,barcode:"8410022115255",id:"qjRYx08R9GFt9DlXWbOE"},{name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",barcode:"5900685007910",brand:"Seagram's",favourite:!1,id:"qcJaJGwADZOiTOgv2EdL"},{name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",brand:"Nestl\xe9",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg",barcode:"7613036569927",id:"VZMbnJHjk69FeYdriirE"},{name:"Emmental",brand:"Ametller origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg",barcode:"8436583952054",id:"9zAdEOgvYPvtVuzq4vvt"},{imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",barcode:"3560070119851",id:"Gv96bsD8WJpAsGpieFtf"},{brand:"Florette",barcode:"8414516070167",name:"Ensalada mixta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg",id:"K78rK6Q1QHEun2nEWjjJ"},{name:"Espaguetis a la Carbornara",favourite:!1,brand:"Ametller Origen",barcode:"8436551862880",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg",id:"swOdy2x2nOMjVLPZNiDx"},{name:"Espresso intenso descafeinado",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg",barcode:"7613035260924",brand:"Nescafe",favourite:!1,id:"1RUNXjddz7LxrCMoYClY"},{name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",barcode:"8410564002204",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg",brand:"Frit Ravich",id:"tCn1OPIu3HMqMnPS3XEx"},{barcode:"8422410040872",favourite:!1,brand:"Bonpreu",name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg",id:"2hQz4Ji7dunBz9IRXDGI"},{favourite:!1,brand:"Barilla",barcode:"8076808060654",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",name:"Farfalle",id:"ItsmDGWuwZqq823GL7o2"},{name:"Filtros slim, 150 u.",brand:"OCB",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",barcode:"3057068056781",id:"ti3ipZazS5OY74X31qYh"},{brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",barcode:"8410739033002",favourite:!1,id:"0hLDVVtoWHHGxpJBJ8xv"},{name:"Font Vella",brand:"Danone",barcode:"8410055033014",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg",id:"Z5rLwATggE9EhQmZ2VGM"},{name:"Font Vella",brand:"Danone",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",favourite:!1,barcode:"8410055133394",id:"8h4MTfnL9KLKvD9kaucU"},{brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",favourite:!1,id:"Tsxz3HmPSZ0YuzHfWDFe",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/160A34FA-A880-418F-A9AD2C2E43C8673B/057DEBF5-554E-4F12-A960CB7D747B5A64/Product%20High-EAN_IMG_5029053010052_1.png",barcode:"5029053010052"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",id:"czU7rd3XyqdhaLEIKKlc"},{imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",brand:"Barilla",favourite:!1,barcode:"8076802085981",name:"Fusilli",id:"kvidMtUxlJWu4BToQoye"},{brand:"Carolina",favourite:!1,name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",barcode:"8437019000004",id:"tnhUbxvcPNukCitKgjJq"},{brand:"Bonpreu",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg",name:"Garbanzos cocidos",barcode:"8422410177851",id:"h1r7SWA1VVM1fsYiFB6Q"},{name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",favourite:!1,barcode:"8410505512267",brand:"Luengo",id:"8vDyG5gsOCFzH2s3wMaj"},{name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",favourite:!1,barcode:"8420309210115",brand:"Pe\xf1a Torcal",id:"nX934vnWFvL3uqIZ2JBl"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg",brand:"Bonpreu",barcode:"8422410387915",name:"Hamburguesa de l'era",id:"Odb5MEPbjvvGtJi1Sw6w"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg",name:"Higos secos",favourite:!1,barcode:"8410564016157",brand:"Frit Ravich",id:"cJ7ynQ2WO9ZzVoxIeyW7"},{name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",brand:"Hornimans",barcode:"8410091104488",favourite:!1,id:"cqyqq3xxpf8eOVWF4wsv"},{id:"E5Pbprvch6htVuas87ub",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0992/front_es.11.400.jpg",barcode:"8436554520992",createdOn:1648885439824,createdBy:{lastLogin:1648740479491,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},name:"Iogurt cremos amb mango"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg",name:"Iogurt cremos macedonia",barcode:"8436554522279",brand:"Ametller origen",favourite:!1,id:"kXZ0ETe4tqcDeEJgwpHj"},{barcode:"8437011969217",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg",brand:"Ametller Origen",name:"Iogurt cremoso amb maduixa",favourite:!1,id:"0y6hb1ts1UeZ64z4OdDP"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0985/front_es.9.400.jpg",brand:"Ametller Origen",createdOn:1648885460412,barcode:"8436554520985",name:"Iogurt Crem\xf3s Maduixa",createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"UUf8ANFrTGmZXlvRK6vf",favourite:!1},{imageUrl:"https://www.marvimundo.com/media/catalog/product/cache/26ef67ba4867c44769c635c68212a088/f/a/fairy-lavavajillas-mano-ultra-poder-400-ml-128042-0_1.jpg",id:"eqBkW8faoUMizZAKo9v5",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",barcode:"8001841624143",favourite:!1},{brand:"Carrefour",id:"0hUlWDteNomeaDM0r9rF",name:"Jumbo Roll, Papel rollo multiusos",favourite:!1,barcode:"3560071152413",imageUrl:"https://static.carrefour.es/hd_510x_/img_pim_food/839977_00_1.jpg"},{favourite:!1,brand:"Kinder,Ferrero",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg",name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",barcode:"4008400203829",id:"wKcPnND7kRp2oZOZEDec"},{brand:"Marca desconeguda",barcode:"8410199023094",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",name:"lay\u2019s gourmet original",id:"eGb9Zi2YLCc4vUilnfyc"},{name:"Leche",imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg",favourite:!1,barcode:"8410135001322",brand:"Ato",id:"DYRii4Q1nlQXSVux4tlv"},{brand:"Carrefour",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",barcode:"8431876005912",name:"Lenteja a la riojana",id:"FlyrJ9yKHxEupuDM1XOB"},{brand:"HC Premium",favourite:!1,barcode:"8426765495240",name:"Lentejas pardinas",imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg",id:"jXSGai0V4QTNoGkdZlVj"},{id:"BdOKDepFnrKlvXJe05kx",imageUrl:"https://m.media-amazon.com/images/I/61njkx6RgcL._AC_SX466_.jpg",name:"Levadura de Cerveza",barcode:"8435041321364",brand:"Nature Essential",favourite:!1},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",id:"GKC6tx0q50UgpCIh98Xu"},{brand:"Don Limpio",barcode:"8006540576588",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://arcashop.es/12829-large_default/don-limpio-limpiador-suelos-piedra-natural-marmol-y-maderas.jpg",id:"LP9uDdp3LWmoOIZoE5bJ",favourite:!1},{brand:"Nestl\xe9",barcode:"7613033481314",favourite:!1,name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",id:"nS0432qVdcAwMoFuxMHR"},{name:"Listerine Cuidado Total 500ml",imageUrl:"https://cdns3-2.primor.eu/84242-thickbox/total-care.jpg",barcode:"3574661648019",id:"7bvTHQ1c1OE25ZhXiL6k",favourite:!1,brand:"Johnson & Johnson"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",brand:"Llet Nostra",favourite:!1,barcode:"8437004314031",name:"Llet Semi Desnatada Nostra",id:"9tbAVUXZjoXNLNMPw9Qt"},{favourite:!1,brand:"Deliplus",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",barcode:"8480000792013",name:"Loci\xf3n aloe vera",id:"3wsjdR3cvX08ZEUryPYg"},{barcode:"8421660006010",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",name:"Magdalenas gegants",favourite:!1,id:"eKOXybB8eRHbmXN426O3"},{favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",barcode:"8714100635650",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg",brand:"Magnum",id:"lXG3EL793X2hZN2mVGYe"},{brand:"Arias,Savencia",name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg",favourite:!1,barcode:"8413100612639",id:"Wtq2IcT5fWTF59eJk8Sy"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg",barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",id:"pJvKRQ0bzDrMyMXTSoSR"},{name:"Marcilla caf\xe9 superior creme express natural",barcode:"8410091301405",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg",favourite:!1,brand:"Marcilla",id:"kupLfg9cgCOqrz0amX7Y"},{name:"Ma\xedz dulce",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg",barcode:"8480000167644",favourite:!1,brand:"Hacendado",id:"o46v8FNpkET9eBCoJwvy"},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0"},brand:"Florette",barcode:"8414516082313",favourite:!1,name:"Mezclum ensalada",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/608/2313/front_es.16.400.jpg",id:"pXCQGrgvKgCNWiQKErry"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg",brand:"Bel",name:"Mini Babybel",barcode:"3073780902366",id:"GNoY9uMARm3pyYHuyZ47"},{barcode:"8000270018257",imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg",name:"Mini tostas redondas",favourite:!1,brand:"Bimbo",id:"ssBUB9ehqpXzWlDhbS7g"},{brand:"Carrefour",name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",barcode:"3560070347438",favourite:!1,id:"JUesQloyy9p0uihUfVjm"},{name:"Minicracker fibra",favourite:!1,brand:"Espiga blanca",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg",barcode:"8436540566942",id:"ZEbAsgDGCPjs0feY03ox"},{favourite:!1,barcode:"8480000644916",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",name:"Mochi Coco",brand:"Hacendado",id:"baqE2SfxQ5hmFkcHBMPs"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",brand:"Prima",name:"Mostaza",barcode:"8410118041574",favourite:!1,id:"4jHwflGrmg4Og0iUasxh"},{name:"Muesli crunchy chocolate",barcode:"8480000093554",brand:"Hacendado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",id:"ZPOQCPkr4yYSnziHtHrq"},{favourite:!1,name:"Nachos redondos",brand:"Carrefour",barcode:"8431876305395",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg",id:"ZfmqU8YhBOpAEFNZZvmr"},{favourite:!1,barcode:"7613039490266",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg",brand:"Nestl\xe9",name:"Nesquik",id:"ey3FojyVJkBRPHNqGatU"},{name:"Nom desconegut",favourite:!1,brand:"Sanytol",barcode:"8411135005037",id:"obgtqydHBkBWxw7gkDz7",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg",barcode:"4002160092501",name:"N\xe9ctar naranja briks",id:"54m66Drk0byQbBl7o4nx"},{barcode:"8410179012018",name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg",favourite:!1,brand:"Borges",id:"XaUmCXnMUNKyV7Z4Zlze"},{name:"Oli d\u2019oliva",favourite:!1,brand:"Ametller Origen",barcode:"8436551860251",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",id:"CWMgTznWc0LBLQE5fPOp"},{brand:"Bonpreu",name:"Oli refinat de gira-sol",id:"2X0xYZv9aIMorvDaQDdk",imageUrl:"https://es.openfoodfacts.org/images/products/842/241/081/0529/front_es.3.full.jpg",barcode:"8422410412044",favourite:!1},{brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",barcode:"8422410299744",favourite:!1,name:"Ous frescos pag\xe8s",id:"E3paebxmi4qrbNKotFSt"},{name:"Pa de vidre",brand:"Ametller Origen",favourite:!1,barcode:"8436583954577",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",id:"CdWRC8tyMdD7HmJS8dT9"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg",favourite:!1,brand:"ametller origen",barcode:"8436583954539",name:"Pa de vidre tradicional",id:"vqhsiM4NdD4Imq1SHpwn"},{favourite:!1,brand:"Hornimans",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",barcode:"8410091024915",id:"HfV0fo6by29W2xSocNXY"},{name:"Palets breton galletas de mantequilla",brand:"Saint Aubert",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",barcode:"3045320052244",id:"rhuFIiTyJdHboUsBvjti"},{favourite:!1,name:"Pan Dextrin Integral Santiveri",brand:"Santiveri",barcode:"8412170026896",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",id:"wzbiMwk2KWJPf7c2FgzW"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg",brand:"La Hacienda",name:"Patata entera",barcode:"8410086000856",id:"PhRG5yLA0a89xaob5xKs"},{favourite:!1,name:"Patata, pastanaga i mongeta tendra cuinats al buit",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg",barcode:"8436554525140",brand:"Ametller Origen",id:"TnvHYIykarIneKJ6hRPV"},{brand:"Bonarea",barcode:"8413585017240",name:"Patatas Fritas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",id:"Is8g3XR7l5jx8Yh3TYn0"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg",barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",id:"6O5f9LSdGMN6KzLC0JeE"},{name:"Pepinillos",brand:"Rioverde",barcode:"8410954000711",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg",id:"x5uXf6BsHpyb0o10dnon"},{barcode:"8413475312615",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg",name:"Pernil cuit ral",id:"iPVdCwHgX7RxEe9vbx6l"},{barcode:"7076848513753",imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg",brand:"Barilla",favourite:!1,name:"Pesto alla genovese",id:"UJjvwcB0MlkMg7LWgEJp"},{favourite:!1,brand:"Ametller Origen",name:"Pit de pollastre amb herbes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg",barcode:"8436554529629",id:"0WLGkAxyPWvpIQoOZ7FO"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg",favourite:!1,barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",id:"7EBzPLJYYkcF9SlDuDju"},{barcode:"8436551864709",name:"Pollastre al curri vermell",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg",id:"JhITWXv8sKhGxY2v6Akp"},{brand:"Ametller Or\xedgen",imageUrl:"",name:"Pollastre al ximixurri",favourite:!1,barcode:"8436583957110",id:"mpPu0gL1kwl9eKo8OGEi"},{name:"Pompadour Tomillo",barcode:"8412900401153",favourite:!1,brand:"Pompadour",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg",id:"PpjhyGotmEb3pH0w1eMg"},{name:"Radler Steinburg",favourite:!1,barcode:"8480000664129",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg",brand:"Steinburg",id:"SuV2VXv50lUAKN2ig5SS"},{name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",barcode:"8480000049056",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",id:"n0bA9HYP5zo4bp5Ofsa8"},{brand:"Hornimans",name:"Rooibos con especias",barcode:"8410091024953",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1,id:"2KZX2zt9pr4UnMcBz5vk"},{name:"Royal mints",barcode:"4019400440657",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1,brand:"Halloren",id:"hyuEQlks15fV1Gz2QsOJ"},{createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0},barcode:"8412480245307",createdOn:1649394055307,id:"jLlYUP7FHgQ3FLswhUvW",brand:"royal",favourite:!1,name:"Royal pescado desalado tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/841/248/024/5307/front_es.3.400.jpg"},{barcode:"3560071048341",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com"},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/356/007/104/8341/front_fr.8.400.jpg",brand:"Carrefour",id:"wDYvFJqMYYwgMzks2mpn",createdOn:1648840699569,name:"Sabl\xe9s coeur saveur pomme fa\xe7on tatin"},{barcode:"8410604112344",brand:"Sal Costa",favourite:!1,name:"Sal De Frutas",imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg",id:"tH5tDpScw3O9HU7rr6SU"},{barcode:"8480000290168",name:"Sal de frutas sabor lim\xf3n",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",id:"9TiCWwlEC7sjlcD9qNIp"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",favourite:!1,brand:"Hacienda Iberico",name:"Salchich\xf3n ib\xe9rico",barcode:"8480000581518",id:"cavXqFbme8O97pvlkdV1"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",imageUrl:"",brand:"Ametller Or\xedgen",favourite:!1,id:"2E1o2kMy6wpJqdGPBBnI"},{favourite:!1,barcode:"8410069018717",name:"Salsa bolo\xf1esa",imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg",brand:"Gallo",id:"m6SgmW4XTNAeptb9ihZB"},{name:"Salsa de tomate casera",barcode:"8436551860923",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg",favourite:!1,id:"gE7x9ZkgQ6NjSkLvGcK7"},{name:"Salsa Espinaler",barcode:"8427230989189",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg",brand:"Espinaler",id:"aVxZOQluGc7zUcL19hhO"},{name:"Saltat de Verdures Mediterrani",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",barcode:"8436551862040",id:"iJNiwpIuVvFhyBglNFxf"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",barcode:"8480000610652",brand:"Hacendado",name:"Salteado de verduras vegetais",favourite:!1,id:"kZZT52JnJAtR1NxrfXrP"},{brand:"Sanex",name:"Sanex Biomeprotect dermo, 600ml",id:"Eizi9zWGl27j7OC4UCQd",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/DB0625BE-506E-4548-83D25E0427C6DF1E/Product%20High-60BD31F8-9CAC-4C46-B9C0A974ED04D63F.png",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0},favourite:!1,barcode:"8718951388826"},{id:"taf3wFAlUncnGAFCpmMK",name:"Sea Salt Flakes",imageUrl:"https://images.heb.com/is/image/HEBGrocery/001549748?fit=constrain,1&wid=800&hei=800&fmt=jpg&qlt=85,0&resMode=sharp2&op_usm=1.75,0.3,2,0",barcode:"5011428300035",favourite:!1,brand:"Maldon"},{barcode:"5054563099082",id:"iQHS7jc0k9qpDOMVenc5",name:"Sensodyne repair & protect",imageUrl:"https://i-cf65.ch-static.com/content/dam/cf-consumer-healthcare/sensodyne-v3/es_ES/Product-pages/products/Repair%20Protect-1028x324.png?auto=format",favourite:!1,brand:"Sensodyne"},{name:"Smacks With Honey",barcode:"5050083560262",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg",brand:"Kellogg's",id:"XkHiVnBtjrGxJyFuw7Lp"},{barcode:"8076800195057",favourite:!1,name:"Spaghetti n.5",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg",brand:"Barilla",id:"fF45ojO9zvfLUurEJtdQ"},{barcode:"3269612045008",name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg",favourite:!1,brand:"Jean Brunet",id:"1Z4gCweBWIUKJIUcGK2Q"},{name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",barcode:"8410091103306",favourite:!1,brand:"Hornimans",id:"VJCKEeSbjbE4nRaLUR4L"},{brand:"Sanytol",favourite:!1,imageUrl:"https://arcashop.es/9035-large_default/sanytol-toallitas-desinfectantes-higienizantes-limpieza-hogar.jpg",barcode:"3045206312257",id:"V3KYndnRcF2eIdIk7Tpz",name:"Toallitas desinfectantes"},{id:"1TlkULpGAdQETA8Idg0G",barcode:"8436583950449",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",brand:"Ametller Origen",favourite:!1,name:"Tom\xe0quet de sucar"},{favourite:!1,createdBy:{lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},id:"51WlaDFu7cO0lNqG7wXW",brand:"Ametller Or\xedgen",imageUrl:"",barcode:"8436583950440",name:"Tom\xe0quet de sucar 650gr"},{brand:"Bonpreu",favourite:!1,name:"Tom\xe0quet Fregit",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg",barcode:"8422410170760",id:"zh9amHkXLOyk0KXUG970"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1,name:"Trinxat de la cerdanya",brand:"Ametller Origen",barcode:"8437011969903",id:"OkPyN3oS8CMoh2aGUCPO"},{brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",name:"Truita carxofa",favourite:!1,barcode:"8437008006420",id:"T0nUff9307aPgqLZ8Usv"},{id:"fdspoyuC2coeY6rdGpRT",brand:"Vicens",barcode:"8410495541070",imageUrl:"https://www.vicens.com/cdnassets//imageProduct/0138907_l.jpg",favourite:!1,name:"Turr\xf3n souffl\xe9 avellana chocolate"},{favourite:!1,brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",barcode:"8412900401207",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",id:"1sHrVBGWHgFzWXQNF41r"},{brand:"Viladrau",favourite:!1,id:"fbCoromlZiueXYYNpzeQ",barcode:"8411002105006",imageUrl:"https://static.condisline.com/resize_1280x1024/images/catalog/large/601044.jpg",name:"Viladrau Agua Mineral 5L."},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",name:"Vinagre de Jerez reserva",barcode:"8480000049537",id:"m5ZBjnZ1xpxPAZqgNHCr"},{id:"QGAa9IH14XduTjCEGI0T",barcode:"8422410598977",name:"VINAGRE de vi negre",brand:"Bonpreu",favourite:!1,imageUrl:"https://www.compraonline.bonpreuesclat.cat/images-v3/dcbcfd72-cf23-44a2-8e14-8a38edd645a3/6ff007d2-a9f2-4239-b72d-36a956d630d0/500x500.jpg"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg",barcode:"8410793031945",favourite:!1,name:"Voll-damm Cerveza Doble Malta",brand:"Voll-Damm",id:"l8q8cl0rOFzwrsH4UWYy"},{name:"Worcestershire sauce",brand:"Lea & Perrins",barcode:"5000111040983",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg",id:"rCAcIOHzZ5wUR205WVhG"},{favourite:!1,id:"KLcjOJaVljCeYkda4C5c",name:"Xori\xe7 extra",imageUrl:"https://ametllerorigen.vtexassets.com/arquivos/ids/164350-800-auto?v=637160564399800000&width=800&height=auto&aspect=true",brand:"Ametller Origen",barcode:"8435037550631"},{barcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0},createdOn:1648840788835,brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/170/702/0053/front_fr.19.400.jpg",name:"Zumo de granada y manzana",id:"YWpN9xwLcmQapm3DKHjk"},{favourite:!1,brand:"Hacendado",barcode:"8480000390103",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",name:"Zumo pura naranja",id:"D7OCE8KsONVlLfirGFkx"}]},7296:(lt,x,P)=>{"use strict";P.d(x,{H:()=>p});const p=[{imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png",favourite:!1,default:!0,id:"alcampo",name:"Alcampo"},{default:!0,favourite:!1,id:"aldi",imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg",name:"ALDI"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU",id:"ametller",default:!0,favourite:!1,name:"Ametller Origen"},{default:!0,id:"bonpreu",favourite:!1,name:"Bonpreu Esclat",imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{favourite:!1,id:"bonarea",name:"Bon\xc0rea",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU",default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU",favourite:!1,name:"Caprabo",id:"caprabo",default:!0},{favourite:!1,name:"Carrefour",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU",default:!0,id:"carrefour"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU",favourite:!1,id:"clarel",default:!0,name:"Clarel"},{id:"condis",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU",default:!0,name:"Condis",favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU",name:"Consum",id:"consum",favourite:!1,default:!0},{favourite:!1,default:!0,id:"dia",name:"Dia",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU",default:!0,favourite:!1,name:"Eroski"},{favourite:!1,name:"Hipercor",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU",id:"hipercor",default:!0},{name:"La Sirena",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU",id:"lasirena",favourite:!1,default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU",default:!0,id:"lidl",name:"Lidl",favourite:!1},{name:"Makro",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU",id:"makro",default:!0},{id:"mercadona",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU",favourite:!1,default:!0,name:"Mercadona"},{name:"Sorli",id:"sorli",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU",default:!0},{id:"supercor",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU",default:!0,name:"Supercor"},{id:"supersol",name:"Supersol",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU",default:!0,favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU",name:"Veritas",id:"veritas",default:!0,favourite:!1}]},3701:(lt,x,P)=>{"use strict";P.d(x,{M:()=>p});const p={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE",PS_USER_ALERTS:"PS_USER_ALERTS",PS_SHOPS_SEARCH_TEXT:"PS_SHOPS_SEARCH_TEXT",PS_PRODUCTS_SEARCH_TEXT:"PS_PRODUCTS_SEARCH_TEXT",PS_LAST_SHOP_ID:"PS_LAST_SHOP_ID"}},1343:(lt,x,P)=>{"use strict";P.d(x,{C:()=>H});var p=P(2292),e=P(8996),E=P(9646),N=P(3209),O=P(5e3);let H=(()=>{class J{constructor(Q){this.firestore=Q}addShop(Q){console.log("FirestoreService.addShop()",Q);const K=(0,p.hJ)(this.firestore,"shops");return(0,e.D)((0,p.ET)(K,Q))}addShops(Q){console.log("FirestoreService.addShops()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const he=(0,p.hJ)(this.firestore,"shops"),st=(0,p.JU)(he);K.set(st,ie)}),K.commit(),(0,E.of)(!0)}deleteShop(Q){console.log("FirestoreService.deleteShop()",Q);const K=(0,p.JU)(this.firestore,`shops/${Q}`);return(0,e.D)((0,N.oe)(K))}updateShop(Q){console.log("FirestoreService.updateShop()",Q);const K=(0,p.JU)(this.firestore,`shops/${Q.id}`);return(0,e.D)((0,N.pl)(K,Q))}getShops(){console.log("FirestoreService.getShops()");const Q=(0,p.hJ)(this.firestore,"shops");return(0,p.BS)(Q)}getProducts(){console.log("FirestoreService.getProducts()");const Q=(0,p.hJ)(this.firestore,"products");return(0,p.BS)(Q,{idField:"id"})}addProduct(Q){console.log("FirestoreService.addProduct()",Q),Q.imageUrl||(Q.imageUrl="");const K=(0,p.hJ)(this.firestore,"products");return(0,e.D)((0,p.ET)(K,Q))}addProducts(Q){console.log("FirestoreService.addProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const he=(0,p.hJ)(this.firestore,"products"),st=(0,p.JU)(he);K.set(st,ie)}),K.commit(),(0,E.of)(!0)}deleteProduct(Q){console.log("FirestoreService.deleteProduct()",Q);const K=(0,p.JU)(this.firestore,`products/${Q}`);return(0,e.D)((0,N.oe)(K))}updateProduct(Q){console.log("FirestoreService.updateProduct()",Q);const K=(0,p.JU)(this.firestore,`products/${Q.id}`);return(0,e.D)((0,N.pl)(K,Q))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const Q=(0,p.hJ)(this.firestore,"shopsProducts");return(0,p.BS)(Q,{idField:"id"})}deleteShopProduct(Q){console.log("FirestoreService.deleteShopProduct()",Q);const K=(0,p.JU)(this.firestore,`shopsProducts/${Q.id}`);return console.log(K),this.deleteShopProducts([Q])}deleteShopProducts(Q){console.log("FirestoreService.deleteShopProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{console.log(ie.id);const he=(0,p.JU)(this.firestore,`shopsProducts/${ie.id}`);K.delete(he)}),K.commit(),(0,E.of)(!0)}addShopProduct(Q){console.log("FirestoreService.addShopProduct()",Q);const K=(0,p.hJ)(this.firestore,"shopsProducts");return(0,e.D)((0,p.ET)(K,Q))}addShopProducts(Q){console.log("FirestoreService.addShopProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const he=(0,p.hJ)(this.firestore,"shopsProducts"),st=(0,p.JU)(he);K.set(st,ie)}),K.commit(),(0,E.of)(!0)}}return J.\u0275fac=function(Q){return new(Q||J)(O.LFG(p.gg))},J.\u0275prov=O.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},4120:(lt,x,P)=>{"use strict";P.d(x,{r:()=>O});var p=P(7579),e=P(3701),E=P(5e3),N=P(520);let O=(()=>{class H{constructor(Z){this.http=Z,this.user=new p.x,this.getIpData().subscribe(Q=>{console.log("IP data",Q),this.clientIpData=Q})}login(Z){Z.lastLogin=(new Date).getTime(),this.user.next(Z),localStorage.setItem(e.M.PS_LOGGED_USER,JSON.stringify(Z))}logout(){localStorage.removeItem(e.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin(Z){return(null==Z?void 0:Z.email.startsWith("jollmat@"))||(null==Z?void 0:Z.email.startsWith("joan.lloria@"))||(null==Z?void 0:Z.email.startsWith("joanlloria@"))}getLoggedUser(){let Z=JSON.parse(localStorage.getItem(e.M.PS_LOGGED_USER));if(Z)return Z=Z,Z.admin=this.checkIsAdmin(Z),Z}isLoggedUser(){return null!=this.getLoggedUser()}getClientIp(){return this.http.get("http://api.ipify.org/?format=json")}getIpData(Z){return this.http.get("http://ip-api.com/json/"+(Z||""))}}return H.\u0275fac=function(Z){return new(Z||H)(E.LFG(N.eN))},H.\u0275prov=E.Yz7({token:H,factory:H.\u0275fac,providedIn:"root"}),H})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(lt=>{this._products=lt})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(lt=>{(!lt||0===lt.length)&&this.firestoreService.addProducts(lt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(lt),this.checkFavourites(lt),this.products.next(lt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(lt=>{(!lt||0===lt.length)&&this.firestoreService.addProducts(lt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(lt),this.checkFavourites(lt),this.products.next(lt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(lt){let x=this.getFavourites();return lt.favourite?x.push(lt.barcode):x=x.filter(P=>P!==lt.barcode),this.setFavourites(x),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(lt){lt.map(x=>(x.imageUrl||(x.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),x))}updateProduct(lt,x){return console.log("ProductService.updateProduct()",lt),x||this.toggleFavourite(lt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(lt){return console.log("ProductService.createProduct()",lt),lt.createdBy=this.loginService.getLoggedUser(),lt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(lt),this.products.next(this._products)})):(this._products.push(lt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(lt){return console.log("ProductService.removeProduct()",lt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(x=>x.id!==lt),this.products.next(this._products)})):(this._products=this._products.filter(x=>x.id!==lt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(lt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(lt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(lt){const x=this.getFavourites();lt.map(P=>{P.favourite=x.indexOf(P.barcode)>-1})}}return ProductService.\u0275fac=function lt(x){return new(x||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(lt=>{this._shops=lt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(lt=>{(!lt||0===lt.length)&&this.firestoreService.addShops(lt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(lt),this.checkFavourites(lt),this.shops.next(lt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(lt=>{(!lt||0===lt.length)&&this.firestoreService.addShops(lt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(lt),this.checkFavourites(lt),this.shops.next(lt)}))}toggleFavourite(lt){let x=this.getFavourites();return lt.favourite?x.push(lt.id):x=x.filter(P=>P!==lt.id),this.setFavourites(x),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(lt){lt.map(x=>(x.imageUrl||(x.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),x))}updateShop(lt){return console.log("ShopService.updateShop()",lt),this.toggleFavourite(lt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(lt){return console.log("ShopService.createShop()",lt),lt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(lt),this.shops.next(this._shops)})):(this._shops.push(lt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(lt){return console.log("ShopService.removeShop()",lt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(lt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(x=>x.id!==lt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(x=>x.id!==lt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(lt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(lt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(lt){const x=this.getFavourites();lt.map(P=>{P.favourite=x.indexOf(P.id)>-1})}}return ShopService.\u0275fac=function lt(x){return new(x||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(lt,x,P)=>{"use strict";P.d(x,{q:()=>p});const p={defaultLanguage:"ca",cloudMode:!0,bannedIPs:[]}},7136:(lt,x,P)=>{"use strict";var p=P(9808),e=P(5e3);class E extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends E{static makeCurrent(){(0,p.HT)(new N)}onAndCancel(i,t,o){return i.addEventListener(t,o,!1),()=>{i.removeEventListener(t,o,!1)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function H(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==t?null:function Z(n){J=J||document.createElement("a"),J.setAttribute("href",n);const i=J.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,p.Mx)(document.cookie,i)}}let J,O=null;const Q=new e.OlP("TRANSITION_ID"),ie=[{provide:e.ip1,useFactory:function K(n,i,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const o=(0,p.q)(),d=i.querySelectorAll(`style[ng-transition="${n}"]`);for(let g=0;g<d.length;g++)o.remove(d[g])})}},deps:[Q,p.K0,e.zs3],multi:!0}];class he{static init(){(0,e.VLi)(new he)}addToWindow(i){e.dqk.getAngularTestability=(o,d=!0)=>{const g=i.findTestabilityInTree(o,d);if(null==g)throw new Error("Could not find testability for element.");return g},e.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(o=>{const d=e.dqk.getAllAngularTestabilities();let g=d.length,C=!1;const A=function(F){C=C||F,g--,0==g&&o(C)};d.forEach(function(F){F.whenStable(A)})})}findTestabilityInTree(i,t,o){if(null==t)return null;const d=i.getTestability(t);return null!=d?d:o?(0,p.q)().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null}}let st=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const Ye=new e.OlP("EventManagerPlugins");let ze=(()=>{class n{constructor(t,o){this._zone=o,this._eventNameToPlugin=new Map,t.forEach(d=>d.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,o,d){return this._findPluginFor(o).addEventListener(t,o,d)}addGlobalEventListener(t,o,d){return this._findPluginFor(o).addGlobalEventListener(t,o,d)}getZone(){return this._zone}_findPluginFor(t){const o=this._eventNameToPlugin.get(t);if(o)return o;const d=this._plugins;for(let g=0;g<d.length;g++){const C=d[g];if(C.supports(t))return this._eventNameToPlugin.set(t,C),C}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Ye),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class gt{constructor(i){this._doc=i}addGlobalEventListener(i,t,o){const d=(0,p.q)().getGlobalEventTarget(this._doc,i);if(!d)throw new Error(`Unsupported event target ${d} for event ${t}`);return this.addEventListener(d,t,o)}}let ge=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const o=new Set;t.forEach(d=>{this._stylesSet.has(d)||(this._stylesSet.add(d),o.add(d))}),this.onStylesAdded(o)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends ge{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,o,d){t.forEach(g=>{const C=this._doc.createElement("style");C.textContent=g,d.push(o.appendChild(C))})}addHost(t){const o=[];this._addStylesToHost(this._stylesSet,t,o),this._hostNodes.set(t,o)}removeHost(t){const o=this._hostNodes.get(t);o&&o.forEach(Ie),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((o,d)=>{this._addStylesToHost(t,d,o)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Ie))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Ie(n){(0,p.q)().remove(n)}const ut={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ge=/%COMP%/g;function ue(n,i,t){for(let o=0;o<i.length;o++){let d=i[o];Array.isArray(d)?ue(n,d,t):(d=d.replace(Ge,n),t.push(d))}return t}function X(n){return i=>{if("__ngUnwrap__"===i)return n;!1===n(i)&&(i.preventDefault(),i.returnValue=!1)}}let Fe=(()=>{class n{constructor(t,o,d){this.eventManager=t,this.sharedStylesHost=o,this.appId=d,this.rendererByCompId=new Map,this.defaultRenderer=new _e(t)}createRenderer(t,o){if(!t||!o)return this.defaultRenderer;switch(o.encapsulation){case e.ifc.Emulated:{let d=this.rendererByCompId.get(o.id);return d||(d=new Sn(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,d)),d.applyToHost(t),d}case 1:case e.ifc.ShadowDom:return new Pt(this.eventManager,this.sharedStylesHost,t,o);default:if(!this.rendererByCompId.has(o.id)){const d=ue(o.id,o.styles,[]);this.sharedStylesHost.addStyles(d),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(ze),e.LFG(Be),e.LFG(e.AFp))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class _e{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?document.createElementNS(ut[t]||t,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,t){i.appendChild(t)}insertBefore(i,t,o){i&&i.insertBefore(t,o)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let o="string"==typeof i?document.querySelector(i):i;if(!o)throw new Error(`The selector "${i}" did not match any elements`);return t||(o.textContent=""),o}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,o,d){if(d){t=d+":"+t;const g=ut[d];g?i.setAttributeNS(g,t,o):i.setAttribute(t,o)}else i.setAttribute(t,o)}removeAttribute(i,t,o){if(o){const d=ut[o];d?i.removeAttributeNS(d,t):i.removeAttribute(`${o}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,o,d){d&(e.JOm.DashCase|e.JOm.Important)?i.style.setProperty(t,o,d&e.JOm.Important?"important":""):i.style[t]=o}removeStyle(i,t,o){o&e.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,o){i[t]=o}setValue(i,t){i.nodeValue=t}listen(i,t,o){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,t,X(o)):this.eventManager.addEventListener(i,t,X(o))}}class Sn extends _e{constructor(i,t,o,d){super(i),this.component=o;const g=ue(d+"-"+o.id,o.styles,[]);t.addStyles(g),this.contentAttr=function ot(n){return"_ngcontent-%COMP%".replace(Ge,n)}(d+"-"+o.id),this.hostAttr=function de(n){return"_nghost-%COMP%".replace(Ge,n)}(d+"-"+o.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,t){const o=super.createElement(i,t);return super.setAttribute(o,this.contentAttr,""),o}}class Pt extends _e{constructor(i,t,o,d){super(i),this.sharedStylesHost=t,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const g=ue(d.id,d.styles,[]);for(let C=0;C<g.length;C++){const A=document.createElement("style");A.textContent=g[C],this.shadowRoot.appendChild(A)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,o){return super.insertBefore(this.nodeOrShadowRoot(i),t,o)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Et=(()=>{class n extends gt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,o,d){return t.addEventListener(o,d,!1),()=>this.removeEventListener(t,o,d)}removeEventListener(t,o,d){return t.removeEventListener(o,d)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const kt=["alt","control","meta","shift"],lr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Vn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let ur=(()=>{class n extends gt{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,o,d){const g=n.parseEventName(o),C=n.eventCallback(g.fullKey,d,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(t,g.domEventName,C))}static parseEventName(t){const o=t.toLowerCase().split("."),d=o.shift();if(0===o.length||"keydown"!==d&&"keyup"!==d)return null;const g=n._normalizeKey(o.pop());let C="";if(kt.forEach(F=>{const te=o.indexOf(F);te>-1&&(o.splice(te,1),C+=F+".")}),C+=g,0!=o.length||0===g.length)return null;const A={};return A.domEventName=d,A.fullKey=C,A}static getEventFullKey(t){let o="",d=function sr(n){let i=n.key;if(null==i){if(i=n.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===n.location&&Vn.hasOwnProperty(i)&&(i=Vn[i]))}return lr[i]||i}(t);return d=d.toLowerCase()," "===d?d="space":"."===d&&(d="dot"),kt.forEach(g=>{g!=d&&wr[g](t)&&(o+=g+".")}),o+=d,o}static eventCallback(t,o,d){return g=>{n.getEventFullKey(g)===t&&d.runGuarded(()=>o(g))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const bi=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:p.bD},{provide:e.g9A,useValue:function Jr(){N.makeCurrent(),he.init()},multi:!0},{provide:p.K0,useFactory:function Ar(){return(0,e.RDi)(document),document},deps:[]}]),Vr=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function _r(){return new e.qLn},deps:[]},{provide:Ye,useClass:Et,multi:!0,deps:[p.K0,e.R0b,e.Lbi]},{provide:Ye,useClass:ur,multi:!0,deps:[p.K0]},{provide:Fe,useClass:Fe,deps:[ze,Be,e.AFp]},{provide:e.FYo,useExisting:Fe},{provide:ge,useExisting:Be},{provide:Be,useClass:Be,deps:[p.K0]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b]},{provide:ze,useClass:ze,deps:[Ye,e.R0b]},{provide:p.JF,useClass:st,deps:[]}];let kr=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:e.AFp,useValue:t.appId},{provide:Q,useExisting:e.AFp},ie]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(n,12))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:Vr,imports:[p.ez,e.hGG]}),n})();"undefined"!=typeof window&&window;let Ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:function(t){let o=null;return o=t?new(t||n):e.LFG(Ve),o},providedIn:"root"}),n})(),Ve=(()=>{class n extends Ce{constructor(t){super(),this._doc=t}sanitize(t,o){if(null==o)return null;switch(t){case e.q3G.NONE:return o;case e.q3G.HTML:return(0,e.qzn)(o,"HTML")?(0,e.z3N)(o):(0,e.EiD)(this._doc,String(o)).toString();case e.q3G.STYLE:return(0,e.qzn)(o,"Style")?(0,e.z3N)(o):o;case e.q3G.SCRIPT:if((0,e.qzn)(o,"Script"))return(0,e.z3N)(o);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.yhl)(o),(0,e.qzn)(o,"URL")?(0,e.z3N)(o):(0,e.mCW)(String(o));case e.q3G.RESOURCE_URL:if((0,e.qzn)(o,"ResourceURL"))return(0,e.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:function(t){let o=null;return o=t?new t:function tt(n){return new Ve(n.get(p.K0))}(e.LFG(e.zs3)),o},providedIn:"root"}),n})();P(8955);var gn=P(8996),Hn=P(8306);const{isArray:Yn}=Array,{getPrototypeOf:dr,prototype:_n,keys:kn}=Object;function mn(n){if(1===n.length){const i=n[0];if(Yn(i))return{args:i,keys:null};if(function He(n){return n&&"object"==typeof n&&dr(n)===_n}(i)){const t=kn(i);return{args:t.map(o=>i[o]),keys:t}}}return{args:n,keys:null}}var dt=P(8421),ln=P(3269),yn=P(5403),on=P(4004);const{isArray:Yt}=Array;function $e(n){return(0,on.U)(i=>function $t(n,i){return Yt(i)?n(...i):n(i)}(n,i))}function At(n,i){return n.reduce((t,o,d)=>(t[o]=i[d],t),{})}function en(...n){const i=(0,ln.jO)(n),{args:t,keys:o}=mn(n),d=new Hn.y(g=>{const{length:C}=t;if(!C)return void g.complete();const A=new Array(C);let F=C,te=C;for(let Me=0;Me<C;Me++){let rt=!1;(0,dt.Xf)(t[Me]).subscribe((0,yn.x)(g,yt=>{rt||(rt=!0,te--),A[Me]=yt},()=>F--,void 0,()=>{(!F||!rt)&&(te||g.next(o?At(o,A):A),g.complete())}))}});return i?d.pipe($e(i)):d}let hn=(()=>{class n{constructor(t,o){this._renderer=t,this._elementRef=o,this.onChange=d=>{},this.onTouched=()=>{}}setProperty(t,o){this._renderer.setProperty(this._elementRef.nativeElement,t,o)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n}),n})(),an=(()=>{class n extends hn{}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,features:[e.qOj]}),n})();const fn=new e.OlP("NgValueAccessor"),$n={provide:fn,useExisting:(0,e.Gpc)(()=>un),multi:!0};let un=(()=>{class n extends an{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(g){return o.onChange(g.target.checked)})("blur",function(){return o.onTouched()})},features:[e._Bn([$n]),e.qOj]}),n})();const Gn={provide:fn,useExisting:(0,e.Gpc)(()=>vr),multi:!0},nr=new e.OlP("CompositionEventMode");let vr=(()=>{class n extends hn{constructor(t,o,d){super(t,o),this._compositionMode=d,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Sr(){const n=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(nr,8))},n.\u0275dir=e.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(g){return o._handleInput(g.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(g){return o._compositionEnd(g.target.value)})},features:[e._Bn([Gn]),e.qOj]}),n})();const Gr=new e.OlP("NgValidators"),Lr=new e.OlP("NgAsyncValidators");function mr(n){return null}function mi(n){return null!=n}function No(n){const i=(0,e.QGY)(n)?(0,gn.D)(n):n;return(0,e.CqO)(i),i}function to(n){let i={};return n.forEach(t=>{i=null!=t?Object.assign(Object.assign({},i),t):i}),0===Object.keys(i).length?null:i}function fs(n,i){return i.map(t=>t(n))}function js(n){return n.map(i=>function $i(n){return!n.validate}(i)?i:t=>i.validate(t))}function no(n){return null!=n?function Vs(n){if(!n)return null;const i=n.filter(mi);return 0==i.length?null:function(t){return to(fs(t,i))}}(js(n)):null}function Qo(n){return null!=n?function xs(n){if(!n)return null;const i=n.filter(mi);return 0==i.length?null:function(t){return en(fs(t,i).map(No)).pipe((0,on.U)(to))}}(js(n)):null}function Ri(n,i){return null===n?[i]:Array.isArray(n)?[...n,i]:[n,i]}function jo(n){return n?Array.isArray(n)?n:[n]:[]}function Vo(n,i){return Array.isArray(n)?n.includes(i):n===i}function es(n,i){const t=jo(i);return jo(n).forEach(d=>{Vo(t,d)||t.push(d)}),t}function Ro(n,i){return jo(i).filter(t=>!Vo(n,t))}class go{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=no(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Qo(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class Co extends go{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ui extends go{get formDirective(){return null}get path(){return null}}let M=(()=>{class n extends class pe{constructor(i){this._cd=i}is(i){var t,o,d;return"submitted"===i?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(d=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===d?void 0:d[i])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Co,2))},n.\u0275dir=e.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,o){2&t&&e.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[e.qOj]}),n})();function Fr(n,i){(function j(n,i){const t=function Xo(n){return n._rawValidators}(n);null!==i.validator?n.setValidators(Ri(t,i.validator)):"function"==typeof t&&n.setValidators([t]);const o=function ua(n){return n._rawAsyncValidators}(n);null!==i.asyncValidator?n.setAsyncValidators(Ri(o,i.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const d=()=>n.updateValueAndValidity();Go(i._rawValidators,d),Go(i._rawAsyncValidators,d)})(n,i),i.valueAccessor.writeValue(n.value),function U(n,i){i.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qe(n,i)})}(n,i),function Dt(n,i){const t=(o,d)=>{i.valueAccessor.writeValue(o),d&&i.viewToModelUpdate(o)};n.registerOnChange(t),i._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,i),function le(n,i){i.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qe(n,i),"submit"!==n.updateOn&&n.markAsTouched()})}(n,i),function Ur(n,i){if(i.valueAccessor.setDisabledState){const t=o=>{i.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(t),i._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,i)}function Go(n,i){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function qe(n,i){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ho(n,i){const t=n.indexOf(i);t>-1&&n.splice(t,1)}const ns="VALID",qo="INVALID",rs="PENDING",As="DISABLED";function Hs(n){return(Ei(n)?n.validators:n)||null}function Zt(n){return Array.isArray(n)?no(n):n||null}function Qn(n,i){return(Ei(i)?i.asyncValidators:n)||null}function Ou(n){return Array.isArray(n)?Qo(n):n||null}function Ei(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Ys=n=>n instanceof mo;function ec(n){return(n=>n instanceof nl)(n)?n.value:n.getRawValue()}function Ul(n,i){const t=Ys(n),o=n.controls;if(!(t?Object.keys(o):o).length)throw new e.vHH(1e3,"");if(!o[i])throw new e.vHH(1001,"")}function jl(n,i){Ys(n),n._forEachChild((o,d)=>{if(void 0===i[d])throw new e.vHH(1002,"")})}class xc{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=t,this._composedValidatorFn=Zt(this._rawValidators),this._composedAsyncValidatorFn=Ou(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===ns}get invalid(){return this.status===qo}get pending(){return this.status==rs}get disabled(){return this.status===As}get enabled(){return this.status!==As}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Zt(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=Ou(i)}addValidators(i){this.setValidators(es(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(es(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(Ro(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(Ro(i,this._rawAsyncValidators))}hasValidator(i){return Vo(this._rawValidators,i)}hasAsyncValidator(i){return Vo(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=rs,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=As,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=ns,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ns||this.status===rs)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?As:ns}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=rs,this._hasOwnPendingAsyncValidator=!0;const t=No(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){return function Bl(n,i,t){if(null==i||(Array.isArray(i)||(i=i.split(t)),Array.isArray(i)&&0===i.length))return null;let o=n;return i.forEach(d=>{o=Ys(o)?o.controls.hasOwnProperty(d)?o.controls[d]:null:(n=>n instanceof Zo)(o)&&o.at(d)||null}),o}(this,i,".")}getError(i,t){const o=t?this.get(t):this;return o&&o.errors?o.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?As:this.errors?qo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(rs)?rs:this._anyControlsHaveStatus(qo)?qo:ns}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Ei(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class nl extends xc{constructor(i=null,t,o){super(Hs(t),Qn(o,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Ei(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Ho(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Ho(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class mo extends xc{constructor(i,t,o){super(Hs(t),Qn(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,o={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){jl(this,i),Object.keys(i).forEach(o=>{Ul(this,o),this.controls[o].setValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(i[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((o,d)=>{o.reset(i[d],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,o)=>(i[o]=ec(t),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,o)=>!!o._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const o=this.controls[t];o&&i(o,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const t of Object.keys(this.controls)){const o=this.controls[t];if(this.contains(t)&&i(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,t,o)=>((t.enabled||this.disabled)&&(i[o]=t.value),i))}_reduceChildren(i,t){let o=i;return this._forEachChild((d,g)=>{o=t(o,d,g)}),o}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Zo extends xc{constructor(i,t,o){super(Hs(t),Qn(o,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,o={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,o={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){jl(this,i),i.forEach((o,d)=>{Ul(this,d),this.at(d).setValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((o,d)=>{this.at(d)&&this.at(d).patchValue(o,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((o,d)=>{o.reset(i[d],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>ec(i))}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((t,o)=>!!o._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,o)=>{i(t,o)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const Nu={provide:Co,useExisting:(0,e.Gpc)(()=>ko)},Qs=(()=>Promise.resolve(null))();let ko=(()=>{class n extends Co{constructor(t,o,d,g,C){super(),this._changeDetectorRef=C,this.control=new nl,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(o),this._setAsyncValidators(d),this.valueAccessor=function ts(n,i){if(!i)return null;let t,o,d;return Array.isArray(i),i.forEach(g=>{g.constructor===vr?t=g:function di(n){return Object.getPrototypeOf(n.constructor)===an}(g)?o=g:d=g}),d||o||t||null}(0,g)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const o=t.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function ki(n,i){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Fr(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Qs.then(()=>{var o;this.control.setValue(t,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(t){const o=t.isDisabled.currentValue,d=""===o||o&&"false"!==o;Qs.then(()=>{var g;d&&!this.control.disabled?this.control.disable():!d&&this.control.disabled&&this.control.enable(),null===(g=this._changeDetectorRef)||void 0===g||g.markForCheck()})}_getPath(t){return this._parent?function zr(n,i){return[...i.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ui,9),e.Y36(Gr,10),e.Y36(Lr,10),e.Y36(fn,10),e.Y36(e.sBO,8))},n.\u0275dir=e.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Nu]),e.qOj,e.TTD]}),n})();const Pc={provide:fn,useExisting:(0,e.Gpc)(()=>Oc),multi:!0};let Oc=(()=>{class n extends an{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=o=>{t(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("input",function(g){return o.onChange(g.target.value)})("blur",function(){return o.onTouched()})},features:[e._Bn([Pc]),e.qOj]}),n})(),il=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const kc={provide:fn,useExisting:(0,e.Gpc)(()=>ga),multi:!0};function Hh(n,i){return null==n?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${n}: ${i}`.slice(0,50))}let ga=(()=>{class n extends an{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const d=Hh(this._getOptionId(t),t);this.setProperty("value",d)}registerOnChange(t){this.onChange=o=>{this.value=this._getOptionValue(o),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),t))return o;return null}_getOptionValue(t){const o=function Zs(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o):t}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(g){return o.onChange(g.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([kc]),e.qOj]}),n})(),Lc=(()=>{class n{constructor(t,o,d){this._element=t,this._renderer=o,this._select=d,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Hh(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ga,9))},n.\u0275dir=e.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ro={provide:fn,useExisting:(0,e.Gpc)(()=>qh),multi:!0};function Wo(n,i){return null==n?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${n}: ${i}`.slice(0,50))}let qh=(()=>{class n extends an{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let o;if(this.value=t,Array.isArray(t)){const d=t.map(g=>this._getOptionId(g));o=(g,C)=>{g._setSelected(d.indexOf(C.toString())>-1)}}else o=(d,g)=>{d._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(t){this.onChange=o=>{const d=[],g=o.selectedOptions;if(void 0!==g){const C=g;for(let A=0;A<C.length;A++){const te=this._getOptionValue(C[A].value);d.push(te)}}else{const C=o.options;for(let A=0;A<C.length;A++){const F=C[A];if(F.selected){const te=this._getOptionValue(F.value);d.push(te)}}}this.value=d,t(d)}}_registerOption(t){const o=(this._idCounter++).toString();return this._optionMap.set(o,t),o}_getOptionId(t){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,t))return o;return null}_getOptionValue(t){const o=function ma(n){return n.split(":")[0]}(t);return this._optionMap.has(o)?this._optionMap.get(o)._value:t}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,o){1&t&&e.NdJ("change",function(g){return o.onChange(g.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([ro]),e.qOj]}),n})(),nn=(()=>{class n{constructor(t,o,d){this._element=t,this._renderer=o,this._select=d,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Wo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Wo(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(qh,9))},n.\u0275dir=e.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Fn=(()=>{class n{constructor(){this._validator=mr}ngOnChanges(t){if(this.inputName in t){const o=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):mr,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=e.lG2({type:n,features:[e.TTD]}),n})();const Lu={provide:Gr,useExisting:(0,e.Gpc)(()=>Os),multi:!0};let Os=(()=>{class n extends Fn{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function si(n){return"number"==typeof n?n:parseInt(n,10)}(t),this.createValidator=t=>function fr(n){return i=>function eo(n){return null!=n&&"number"==typeof n.length}(i.value)&&i.value.length>n?{maxlength:{requiredLength:n,actualLength:i.value.length}}:null}(t)}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275dir=e.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,o){2&t&&e.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Lu]),e.qOj]}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[il]]}),n})(),sl=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[Xs]}),n})(),Ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var xr=P(8686),Oi=P(3701),dn=P(9646),Ir=P(7579);class oo extends Ir.x{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const t=super._subscribe(i);return!t.closed&&i.next(this._value),t}getValue(){const{hasError:i,thrownError:t,_value:o}=this;if(i)throw t;return this._throwIfClosed(),o}next(i){super.next(this._value=i)}}var _i=P(4671),al=P(9672);function Eo(...n){const i=(0,ln.yG)(n),t=(0,ln.jO)(n),{args:o,keys:d}=mn(n);if(0===o.length)return(0,gn.D)([],i);const g=new Hn.y(function vi(n,i,t=_i.y){return o=>{Lo(i,()=>{const{length:d}=n,g=new Array(d);let C=d,A=d;for(let F=0;F<d;F++)Lo(i,()=>{const te=(0,gn.D)(n[F],i);let Me=!1;te.subscribe((0,yn.x)(o,rt=>{g[F]=rt,Me||(Me=!0,A--),A||o.next(t(g.slice()))},()=>{--C||o.complete()}))},o)},o)}}(o,i,d?C=>At(d,C):_i.y));return t?g.pipe($e(t)):g}function Lo(n,i,t){n?(0,al.f)(t,n,i):i()}var ps=P(576);function sc(n,i){const t=(0,ps.m)(n)?n:()=>n,o=d=>d.error(t());return new Hn.y(i?d=>i.schedule(o,0,d):o)}const cl=(0,P(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ea=P(8189);function Ns(...n){return function Si(){return(0,ea.J)(1)}()((0,gn.D)(n,(0,ln.yG)(n)))}function Bu(n){return new Hn.y(i=>{(0,dt.Xf)(n()).subscribe(i)})}var wn=P(515),Uu=P(727),Fo=P(4482);function ac(){return(0,Fo.e)((n,i)=>{let t=null;n._refCount++;const o=(0,yn.x)(i,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const d=n._connection,g=t;t=null,d&&(!g||d===g)&&d.unsubscribe(),i.unsubscribe()});n.subscribe(o),o.closed||(t=n.connect())})}class ta extends Hn.y{constructor(i,t){super(),this.source=i,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Fo.A)(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,null==i||i.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new Uu.w0;const t=this.getSubject();i.add(this.source.subscribe((0,yn.x)(t,void 0,()=>{this._teardown(),t.complete()},o=>{this._teardown(),t.error(o)},()=>this._teardown()))),i.closed&&(this._connection=null,i=Uu.w0.EMPTY)}return i}refCount(){return ac()(this)}}function Ci(n,i){return(0,Fo.e)((t,o)=>{let d=null,g=0,C=!1;const A=()=>C&&!d&&o.complete();t.subscribe((0,yn.x)(o,F=>{null==d||d.unsubscribe();let te=0;const Me=g++;(0,dt.Xf)(n(F,Me)).subscribe(d=(0,yn.x)(o,rt=>o.next(i?i(F,rt,Me,te++):rt),()=>{d=null,A()}))},()=>{C=!0,A()}))})}var Fi=P(5698);function Vi(...n){const i=(0,ln.yG)(n);return(0,Fo.e)((t,o)=>{(i?Ns(n,t,i):Ns(n,t)).subscribe(o)})}function na(n,i,t,o,d){return(g,C)=>{let A=t,F=i,te=0;g.subscribe((0,yn.x)(C,Me=>{const rt=te++;F=A?n(F,Me,rt):(A=!0,Me),o&&C.next(F)},d&&(()=>{A&&C.next(F),C.complete()})))}}function Bc(n,i){return(0,Fo.e)(na(n,i,arguments.length>=2,!0))}var hi=P(9300);function ra(n){return(0,Fo.e)((i,t)=>{let g,o=null,d=!1;o=i.subscribe((0,yn.x)(t,void 0,void 0,C=>{g=(0,dt.Xf)(n(C,ra(n)(i))),o?(o.unsubscribe(),o=null,g.subscribe(t)):d=!0})),d&&(o.unsubscribe(),o=null,g.subscribe(t))})}var Gi=P(4351);function ms(n){return n<=0?()=>wn.E:(0,Fo.e)((i,t)=>{let o=[];i.subscribe((0,yn.x)(t,d=>{o.push(d),n<o.length&&o.shift()},()=>{for(const d of o)t.next(d);t.complete()},void 0,()=>{o=null}))})}function cc(n=_a){return(0,Fo.e)((i,t)=>{let o=!1;i.subscribe((0,yn.x)(t,d=>{o=!0,t.next(d)},()=>o?t.complete():t.error(n())))})}function _a(){return new cl}function is(n){return(0,Fo.e)((i,t)=>{let o=!1;i.subscribe((0,yn.x)(t,d=>{o=!0,t.next(d)},()=>{o||t.next(n),t.complete()}))})}function Rs(n,i){const t=arguments.length>=2;return o=>o.pipe(n?(0,hi.h)((d,g)=>n(d,g,o)):_i.y,(0,Fi.q)(1),t?is(i):cc(()=>new cl))}var _o=P(5577),pr=P(8505);class Xr{constructor(i,t){this.id=i,this.url=t}}class Do extends Xr{constructor(i,t,o="imperative",d=null){super(i,t),this.navigationTrigger=o,this.restoredState=d}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class va extends Xr{constructor(i,t,o){super(i,t),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class _s extends Xr{constructor(i,t,o){super(i,t),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class kd extends Xr{constructor(i,t,o){super(i,t),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ul extends Xr{constructor(i,t,o,d){super(i,t),this.urlAfterRedirects=o,this.state=d}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ja extends Xr{constructor(i,t,o,d){super(i,t),this.urlAfterRedirects=o,this.state=d}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $l extends Xr{constructor(i,t,o,d,g){super(i,t),this.urlAfterRedirects=o,this.state=d,this.shouldActivate=g}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wh extends Xr{constructor(i,t,o,d){super(i,t),this.urlAfterRedirects=o,this.state=d}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ya extends Xr{constructor(i,t,o,d){super(i,t),this.urlAfterRedirects=o,this.state=d}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lc{constructor(i){this.route=i}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ba{constructor(i){this.route=i}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class os{constructor(i){this.snapshot=i}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uc{constructor(i){this.snapshot=i}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vo{constructor(i){this.snapshot=i}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class jc{constructor(i){this.snapshot=i}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kl{constructor(i,t,o){this.routerEvent=i,this.position=t,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Er="primary";class Jl{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t[0]:t}return null}getAll(i){if(this.has(i)){const t=this.params[i];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function B(n){return new Jl(n)}const G="ngNavigationCancelingError";function re(n){const i=Error("NavigationCancelingError: "+n);return i[G]=!0,i}function at(n,i,t){const o=t.path.split("/");if(o.length>n.length||"full"===t.pathMatch&&(i.hasChildren()||o.length<n.length))return null;const d={};for(let g=0;g<o.length;g++){const C=o[g],A=n[g];if(C.startsWith(":"))d[C.substring(1)]=A;else if(C!==A.path)return null}return{consumed:n.slice(0,o.length),posParams:d}}function zt(n,i){const t=n?Object.keys(n):void 0,o=i?Object.keys(i):void 0;if(!t||!o||t.length!=o.length)return!1;let d;for(let g=0;g<t.length;g++)if(d=t[g],!pn(n[d],i[d]))return!1;return!0}function pn(n,i){if(Array.isArray(n)&&Array.isArray(i)){if(n.length!==i.length)return!1;const t=[...n].sort(),o=[...i].sort();return t.every((d,g)=>o[g]===d)}return n===i}function yr(n){return Array.prototype.concat.apply([],n)}function rr(n){return n.length>0?n[n.length-1]:null}function Un(n,i){for(const t in n)n.hasOwnProperty(t)&&i(n[t],t)}function xi(n){return(0,e.CqO)(n)?n:(0,e.QGY)(n)?(0,gn.D)(Promise.resolve(n)):(0,dn.of)(n)}const Va={exact:function Bi(n,i,t){if(!oa(n.segments,i.segments)||!Ga(n.segments,i.segments,t)||n.numberOfChildren!==i.numberOfChildren)return!1;for(const o in i.children)if(!n.children[o]||!Bi(n.children[o],i.children[o],t))return!1;return!0},subset:dl},ia={exact:function as(n,i){return zt(n,i)},subset:function ju(n,i){return Object.keys(i).length<=Object.keys(n).length&&Object.keys(i).every(t=>pn(n[t],i[t]))},ignored:()=>!0};function ss(n,i,t){return Va[t.paths](n.root,i.root,t.matrixParams)&&ia[t.queryParams](n.queryParams,i.queryParams)&&!("exact"===t.fragment&&n.fragment!==i.fragment)}function dl(n,i,t){return Yl(n,i,i.segments,t)}function Yl(n,i,t,o){if(n.segments.length>t.length){const d=n.segments.slice(0,t.length);return!(!oa(d,t)||i.hasChildren()||!Ga(d,t,o))}if(n.segments.length===t.length){if(!oa(n.segments,t)||!Ga(n.segments,t,o))return!1;for(const d in i.children)if(!n.children[d]||!dl(n.children[d],i.children[d],o))return!1;return!0}{const d=t.slice(0,n.segments.length),g=t.slice(n.segments.length);return!!(oa(n.segments,d)&&Ga(n.segments,d,o)&&n.children[Er])&&Yl(n.children[Er],i,g,o)}}function Ga(n,i,t){return i.every((o,d)=>ia[t](n[d].parameters,o.parameters))}class Ha{constructor(i,t,o){this.root=i,this.queryParams=t,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=B(this.queryParams)),this._queryParamMap}toString(){return hg.serialize(this)}}class Wr{constructor(i,t){this.segments=i,this.children=t,this.parent=null,Un(t,(o,d)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Vu(this)}}class hl{constructor(i,t){this.path=i,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=B(this.parameters)),this._parameterMap}toString(){return Jh(this)}}function oa(n,i){return n.length===i.length&&n.every((t,o)=>t.path===i[o].path)}class Ql{}class $h{parse(i){const t=new ip(i);return new Ha(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(i){const t=`/${qa(i.root,!0)}`,o=function Fd(n){const i=Object.keys(n).map(t=>{const o=n[t];return Array.isArray(o)?o.map(d=>`${Gu(t)}=${Gu(d)}`).join("&"):`${Gu(t)}=${Gu(o)}`}).filter(t=>!!t);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${t}${o}${"string"==typeof i.fragment?`#${function Za(n){return encodeURI(n)}(i.fragment)}`:""}`}}const hg=new $h;function Vu(n){return n.segments.map(i=>Jh(i)).join("/")}function qa(n,i){if(!n.hasChildren())return Vu(n);if(i){const t=n.children[Er]?qa(n.children[Er],!1):"",o=[];return Un(n.children,(d,g)=>{g!==Er&&o.push(`${g}:${qa(d,!1)}`)}),o.length>0?`${t}(${o.join("//")})`:t}{const t=function rp(n,i){let t=[];return Un(n.children,(o,d)=>{d===Er&&(t=t.concat(i(o,d)))}),Un(n.children,(o,d)=>{d!==Er&&(t=t.concat(i(o,d)))}),t}(n,(o,d)=>d===Er?[qa(n.children[Er],!1)]:[`${d}:${qa(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Er]?`${Vu(n)}/${t[0]}`:`${Vu(n)}/(${t.join("//")})`}}function Ca(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Gu(n){return Ca(n).replace(/%3B/gi,";")}function Xl(n){return Ca(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ks(n){return decodeURIComponent(n)}function Kh(n){return ks(n.replace(/\+/g,"%20"))}function Jh(n){return`${Xl(n.path)}${function Ld(n){return Object.keys(n).map(i=>`;${Xl(i)}=${Xl(n[i])}`).join("")}(n.parameters)}`}const Hu=/^[^\/()?;=#]+/;function Zi(n){const i=n.match(Hu);return i?i[0]:""}const qu=/^[^=?&#]+/,pl=/^[^&#]+/;class ip{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Wr([],{}):new Wr([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(i.length>0||Object.keys(t).length>0)&&(o[Er]=new Wr(i,t)),o}parseSegment(){const i=Zi(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(i),new hl(ks(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const t=Zi(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const d=Zi(this.remaining);d&&(o=d,this.capture(o))}i[ks(t)]=ks(o)}parseQueryParam(i){const t=function Zu(n){const i=n.match(qu);return i?i[0]:""}(this.remaining);if(!t)return;this.capture(t);let o="";if(this.consumeOptional("=")){const C=function Yh(n){const i=n.match(pl);return i?i[0]:""}(this.remaining);C&&(o=C,this.capture(o))}const d=Kh(t),g=Kh(o);if(i.hasOwnProperty(d)){let C=i[d];Array.isArray(C)||(C=[C],i[d]=C),C.push(g)}else i[d]=g}parseParens(i){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Zi(this.remaining),d=this.remaining[o.length];if("/"!==d&&")"!==d&&";"!==d)throw new Error(`Cannot parse url '${this.url}'`);let g;o.indexOf(":")>-1?(g=o.substr(0,o.indexOf(":")),this.capture(g),this.capture(":")):i&&(g=Er);const C=this.parseChildren();t[g]=1===Object.keys(C).length?C[Er]:new Wr([],C),this.consumeOptional("//")}return t}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Error(`Expected "${i}".`)}}class Qh{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const t=this.pathFromRoot(i);return t.length>1?t[t.length-2]:null}children(i){const t=Bd(i,this._root);return t?t.children.map(o=>o.value):[]}firstChild(i){const t=Bd(i,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(i){const t=gl(i,this._root);return t.length<2?[]:t[t.length-2].children.map(d=>d.value).filter(d=>d!==i)}pathFromRoot(i){return gl(i,this._root).map(t=>t.value)}}function Bd(n,i){if(n===i.value)return i;for(const t of i.children){const o=Bd(n,t);if(o)return o}return null}function gl(n,i){if(n===i.value)return[i];for(const t of i.children){const o=gl(n,t);if(o.length)return o.unshift(i),o}return[]}class Ki{constructor(i,t){this.value=i,this.children=t}toString(){return`TreeNode(${this.value})`}}function zs(n){const i={};return n&&n.children.forEach(t=>i[t.value.outlet]=t),i}class Ud extends Qh{constructor(i,t){super(i),this.snapshot=t,Wu(this,i)}toString(){return this.snapshot.toString()}}function zu(n,i){const t=function jd(n,i){const C=new $r([],{},{},"",{},Er,i,null,n.root,-1,{});return new Vd("",new Ki(C,[]))}(n,i),o=new oo([new hl("",{})]),d=new oo({}),g=new oo({}),C=new oo({}),A=new oo(""),F=new wa(o,d,C,A,g,Er,i,t.root);return F.snapshot=t.root,new Ud(new Ki(F,[]),t)}class wa{constructor(i,t,o,d,g,C,A,F){this.url=i,this.params=t,this.queryParams=o,this.fragment=d,this.data=g,this.outlet=C,this.component=A,this._futureSnapshot=F}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,on.U)(i=>B(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,on.U)(i=>B(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function fg(n,i="emptyOnly"){const t=n.pathFromRoot;let o=0;if("always"!==i)for(o=t.length-1;o>=1;){const d=t[o],g=t[o-1];if(d.routeConfig&&""===d.routeConfig.path)o--;else{if(g.component)break;o--}}return function ao(n){return n.reduce((i,t)=>({params:Object.assign(Object.assign({},i.params),t.params),data:Object.assign(Object.assign({},i.data),t.data),resolve:Object.assign(Object.assign({},i.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(o))}class $r{constructor(i,t,o,d,g,C,A,F,te,Me,rt){this.url=i,this.params=t,this.queryParams=o,this.fragment=d,this.data=g,this.outlet=C,this.component=A,this.routeConfig=F,this._urlSegment=te,this._lastPathIndex=Me,this._resolve=rt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=B(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=B(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Vd extends Qh{constructor(i,t){super(t),this.url=i,Wu(this,t)}toString(){return uc(this._root)}}function Wu(n,i){i.value._routerState=n,i.children.forEach(t=>Wu(n,t))}function uc(n){const i=n.children.length>0?` { ${n.children.map(uc).join(", ")} } `:"";return`${n.value}${i}`}function Ji(n){if(n.snapshot){const i=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zt(i.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),i.fragment!==t.fragment&&n.fragment.next(t.fragment),zt(i.params,t.params)||n.params.next(t.params),function _t(n,i){if(n.length!==i.length)return!1;for(let t=0;t<n.length;++t)if(!zt(n[t],i[t]))return!1;return!0}(i.url,t.url)||n.url.next(t.url),zt(i.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function $u(n,i){const t=zt(n.params,i.params)&&function fl(n,i){return oa(n,i)&&n.every((t,o)=>zt(t.parameters,i[o].parameters))}(n.url,i.url);return t&&!(!n.parent!=!i.parent)&&(!n.parent||$u(n.parent,i.parent))}function ai(n,i,t){if(t&&n.shouldReuseRoute(i.value,t.value.snapshot)){const o=t.value;o._futureSnapshot=i.value;const d=function Ku(n,i,t){return i.children.map(o=>{for(const d of t.children)if(n.shouldReuseRoute(o.value,d.value.snapshot))return ai(n,o,d);return ai(n,o)})}(n,i,t);return new Ki(o,d)}{if(n.shouldAttach(i.value)){const g=n.retrieve(i.value);if(null!==g){const C=g.route;return C.value._futureSnapshot=i.value,C.children=i.children.map(A=>ai(n,A)),C}}const o=function ls(n){return new wa(new oo(n.url),new oo(n.params),new oo(n.queryParams),new oo(n.fragment),new oo(n.data),n.outlet,n.component,n)}(i.value),d=i.children.map(g=>ai(n,g));return new Ki(o,d)}}function Bo(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function eu(n){return"object"==typeof n&&null!=n&&n.outlets}function tu(n,i,t,o,d){let g={};if(o&&Un(o,(A,F)=>{g[F]=Array.isArray(A)?A.map(te=>`${te}`):`${A}`}),n===i)return new Ha(t,g,d);const C=Hd(n,i,t);return new Ha(C,g,d)}function Hd(n,i,t){const o={};return Un(n.children,(d,g)=>{o[g]=d===i?t:Hd(d,i,t)}),new Wr(n.segments,o)}class s_{constructor(i,t,o){if(this.isAbsolute=i,this.numberOfDoubleDots=t,this.commands=o,i&&o.length>0&&Bo(o[0]))throw new Error("Root segment cannot have matrix parameters");const d=o.find(eu);if(d&&d!==rr(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ci{constructor(i,t,o){this.segmentGroup=i,this.processChildren=t,this.index=o}}function qd(n,i,t){if(n||(n=new Wr([],{})),0===n.segments.length&&n.hasChildren())return ml(n,i,t);const o=function pg(n,i,t){let o=0,d=i;const g={match:!1,pathIndex:0,commandIndex:0};for(;d<n.segments.length;){if(o>=t.length)return g;const C=n.segments[d],A=t[o];if(eu(A))break;const F=`${A}`,te=o<t.length-1?t[o+1]:null;if(d>0&&void 0===F)break;if(F&&te&&"object"==typeof te&&void 0===te.outlets){if(!tf(F,te,C))return g;o+=2}else{if(!tf(F,{},C))return g;o++}d++}return{match:!0,pathIndex:d,commandIndex:o}}(n,i,t),d=t.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const g=new Wr(n.segments.slice(0,o.pathIndex),{});return g.children[Er]=new Wr(n.segments.slice(o.pathIndex),n.children),ml(g,0,d)}return o.match&&0===d.length?new Wr(n.segments,{}):o.match&&!n.hasChildren()?ef(n,i,t):o.match?ml(n,0,d):ef(n,i,t)}function ml(n,i,t){if(0===t.length)return new Wr(n.segments,{});{const o=function Xh(n){return eu(n[0])?n[0].outlets:{[Er]:n}}(t),d={};return Un(o,(g,C)=>{"string"==typeof g&&(g=[g]),null!==g&&(d[C]=qd(n.children[C],i,g))}),Un(n.children,(g,C)=>{void 0===o[C]&&(d[C]=g)}),new Wr(n.segments,d)}}function ef(n,i,t){const o=n.segments.slice(0,i);let d=0;for(;d<t.length;){const g=t[d];if(eu(g)){const F=gg(g.outlets);return new Wr(o,F)}if(0===d&&Bo(t[0])){o.push(new hl(n.segments[i].path,mg(t[0]))),d++;continue}const C=eu(g)?g.outlets[Er]:`${g}`,A=d<t.length-1?t[d+1]:null;C&&A&&Bo(A)?(o.push(new hl(C,mg(A))),d+=2):(o.push(new hl(C,{})),d++)}return new Wr(o,{})}function gg(n){const i={};return Un(n,(t,o)=>{"string"==typeof t&&(t=[t]),null!==t&&(i[o]=ef(new Wr([],{}),0,t))}),i}function mg(n){const i={};return Un(n,(t,o)=>i[o]=`${t}`),i}function tf(n,i,t){return n==t.path&&zt(i,t.parameters)}class _g{constructor(i,t,o,d){this.routeReuseStrategy=i,this.futureState=t,this.currState=o,this.forwardEvent=d}activate(i){const t=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,o,i),Ji(this.futureState.root),this.activateChildRoutes(t,o,i)}deactivateChildRoutes(i,t,o){const d=zs(t);i.children.forEach(g=>{const C=g.value.outlet;this.deactivateRoutes(g,d[C],o),delete d[C]}),Un(d,(g,C)=>{this.deactivateRouteAndItsChildren(g,o)})}deactivateRoutes(i,t,o){const d=i.value,g=t?t.value:null;if(d===g)if(d.component){const C=o.getContext(d.outlet);C&&this.deactivateChildRoutes(i,t,C.children)}else this.deactivateChildRoutes(i,t,o);else g&&this.deactivateRouteAndItsChildren(t,o)}deactivateRouteAndItsChildren(i,t){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,t):this.deactivateRouteAndOutlet(i,t)}detachAndStoreRouteSubtree(i,t){const o=t.getContext(i.value.outlet),d=o&&i.value.component?o.children:t,g=zs(i);for(const C of Object.keys(g))this.deactivateRouteAndItsChildren(g[C],d);if(o&&o.outlet){const C=o.outlet.detach(),A=o.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:C,route:i,contexts:A})}}deactivateRouteAndOutlet(i,t){const o=t.getContext(i.value.outlet),d=o&&i.value.component?o.children:t,g=zs(i);for(const C of Object.keys(g))this.deactivateRouteAndItsChildren(g[C],d);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(i,t,o){const d=zs(t);i.children.forEach(g=>{this.activateRoutes(g,d[g.value.outlet],o),this.forwardEvent(new jc(g.value.snapshot))}),i.children.length&&this.forwardEvent(new Uc(i.value.snapshot))}activateRoutes(i,t,o){const d=i.value,g=t?t.value:null;if(Ji(d),d===g)if(d.component){const C=o.getOrCreateContext(d.outlet);this.activateChildRoutes(i,t,C.children)}else this.activateChildRoutes(i,t,o);else if(d.component){const C=o.getOrCreateContext(d.outlet);if(this.routeReuseStrategy.shouldAttach(d.snapshot)){const A=this.routeReuseStrategy.retrieve(d.snapshot);this.routeReuseStrategy.store(d.snapshot,null),C.children.onOutletReAttached(A.contexts),C.attachRef=A.componentRef,C.route=A.route.value,C.outlet&&C.outlet.attach(A.componentRef,A.route.value),Ji(A.route.value),this.activateChildRoutes(i,null,C.children)}else{const A=function sp(n){for(let i=n.parent;i;i=i.parent){const t=i.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(d.snapshot),F=A?A.module.componentFactoryResolver:null;C.attachRef=null,C.route=d,C.resolver=F,C.outlet&&C.outlet.activateWith(d,F),this.activateChildRoutes(i,null,C.children)}}else this.activateChildRoutes(i,null,o)}}class ap{constructor(i,t){this.routes=i,this.module=t}}function gi(n){return"function"==typeof n}function nu(n){return n instanceof Ha}const Ws=Symbol("INITIAL_VALUE");function ru(){return Ci(n=>Eo(n.map(i=>i.pipe((0,Fi.q)(1),Vi(Ws)))).pipe(Bc((i,t)=>{let o=!1;return t.reduce((d,g,C)=>d!==Ws?d:(g===Ws&&(o=!0),o||!1!==g&&C!==t.length-1&&!nu(g)?d:g),i)},Ws),(0,hi.h)(i=>i!==Ws),(0,on.U)(i=>nu(i)?i:!0===i),(0,Fi.q)(1)))}class yg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new _l,this.attachRef=null}}class _l{constructor(){this.contexts=new Map}onChildOutletCreated(i,t){const o=this.getOrCreateContext(i);o.outlet=t,this.contexts.set(i,o)}onChildOutletDestroyed(i){const t=this.getContext(i);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let t=this.getContext(i);return t||(t=new yg,this.contexts.set(i,t)),t}getContext(i){return this.contexts.get(i)||null}}let lp=(()=>{class n{constructor(t,o,d,g,C){this.parentContexts=t,this.location=o,this.resolver=d,this.changeDetector=C,this.activated=null,this._activatedRoute=null,this.activateEvents=new e.vpe,this.deactivateEvents=new e.vpe,this.attachEvents=new e.vpe,this.detachEvents=new e.vpe,this.name=g||Er,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,o){this.activated=t,this._activatedRoute=o,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const C=(o=o||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),A=this.parentContexts.getOrCreateContext(this.name).children,F=new Yu(t,A,this.location.injector);this.activated=this.location.createComponent(C,this.location.length,F),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(_l),e.Y36(e.s_b),e.Y36(e._Vd),e.$8M("name"),e.Y36(e.sBO))},n.\u0275dir=e.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Yu{constructor(i,t,o){this.route=i,this.childContexts=t,this.parent=o}get(i,t){return i===wa?this.route:i===_l?this.childContexts:this.parent.get(i,t)}}let us=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"router-outlet")},directives:[lp],encapsulation:2}),n})();function rf(n,i=""){for(let t=0;t<n.length;t++){const o=n[t];bg(o,Qu(i,o))}}function bg(n,i){n.children&&rf(n.children,i)}function Qu(n,i){return i?n||i.path?n&&!i.path?`${n}/`:!n&&i.path?i.path:`${n}/${i.path}`:"":n}function xo(n){const i=n.children&&n.children.map(xo),t=i?Object.assign(Object.assign({},n),{children:i}):Object.assign({},n);return!t.component&&(i||t.loadChildren)&&t.outlet&&t.outlet!==Er&&(t.component=us),t}function vs(n){return n.outlet||Er}function Wd(n,i){const t=n.filter(o=>vs(o)===i);return t.push(...n.filter(o=>vs(o)!==i)),t}const up={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function $d(n,i,t){var o;if(""===i.path)return"full"===i.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},up):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const g=(i.matcher||at)(t,n,i);if(!g)return Object.assign({},up);const C={};Un(g.posParams,(F,te)=>{C[te]=F.path});const A=g.consumed.length>0?Object.assign(Object.assign({},C),g.consumed[g.consumed.length-1].parameters):C;return{matched:!0,consumedSegments:g.consumed,remainingSegments:t.slice(g.consumed.length),parameters:A,positionalParamSegments:null!==(o=g.posParams)&&void 0!==o?o:{}}}function Kd(n,i,t,o,d="corrected"){if(t.length>0&&function c_(n,i,t){return t.some(o=>Vc(n,i,o)&&vs(o)!==Er)}(n,t,o)){const C=new Wr(i,function wg(n,i,t,o){const d={};d[Er]=o,o._sourceSegment=n,o._segmentIndexShift=i.length;for(const g of t)if(""===g.path&&vs(g)!==Er){const C=new Wr([],{});C._sourceSegment=n,C._segmentIndexShift=i.length,d[vs(g)]=C}return d}(n,i,o,new Wr(t,n.children)));return C._sourceSegment=n,C._segmentIndexShift=i.length,{segmentGroup:C,slicedSegments:[]}}if(0===t.length&&function iu(n,i,t){return t.some(o=>Vc(n,i,o))}(n,t,o)){const C=new Wr(n.segments,function Cg(n,i,t,o,d,g){const C={};for(const A of o)if(Vc(n,t,A)&&!d[vs(A)]){const F=new Wr([],{});F._sourceSegment=n,F._segmentIndexShift="legacy"===g?n.segments.length:i.length,C[vs(A)]=F}return Object.assign(Object.assign({},d),C)}(n,i,t,o,n.children,d));return C._sourceSegment=n,C._segmentIndexShift=i.length,{segmentGroup:C,slicedSegments:t}}const g=new Wr(n.segments,n.children);return g._sourceSegment=n,g._segmentIndexShift=i.length,{segmentGroup:g,slicedSegments:t}}function Vc(n,i,t){return(!(n.hasChildren()||i.length>0)||"full"!==t.pathMatch)&&""===t.path}function Tg(n,i,t,o){return!!(vs(n)===o||o!==Er&&Vc(i,t,n))&&("**"===n.path||$d(i,n,t).matched)}function sf(n,i,t){return 0===i.length&&!n.children[t]}class af{constructor(i){this.segmentGroup=i||null}}class dp{constructor(i){this.urlTree=i}}function Yi(n){return sc(new af(n))}function Eg(n){return sc(new dp(n))}class cf{constructor(i,t,o,d,g){this.configLoader=t,this.urlSerializer=o,this.urlTree=d,this.config=g,this.allowRedirects=!0,this.ngModule=i.get(e.h0i)}apply(){const i=Kd(this.urlTree.root,[],[],this.config).segmentGroup,t=new Wr(i.segments,i.children);return this.expandSegmentGroup(this.ngModule,this.config,t,Er).pipe((0,on.U)(g=>this.createUrlTree(lf(g),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ra(g=>{if(g instanceof dp)return this.allowRedirects=!1,this.match(g.urlTree);throw g instanceof af?this.noMatchError(g):g}))}match(i){return this.expandSegmentGroup(this.ngModule,this.config,i.root,Er).pipe((0,on.U)(d=>this.createUrlTree(lf(d),i.queryParams,i.fragment))).pipe(ra(d=>{throw d instanceof af?this.noMatchError(d):d}))}noMatchError(i){return new Error(`Cannot match any routes. URL Segment: '${i.segmentGroup}'`)}createUrlTree(i,t,o){const d=i.segments.length>0?new Wr([],{[Er]:i}):i;return new Ha(d,t,o)}expandSegmentGroup(i,t,o,d){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(i,t,o).pipe((0,on.U)(g=>new Wr([],g))):this.expandSegment(i,o,t,o.segments,d,!0)}expandChildren(i,t,o){const d=[];for(const g of Object.keys(o.children))"primary"===g?d.unshift(g):d.push(g);return(0,gn.D)(d).pipe((0,Gi.b)(g=>{const C=o.children[g],A=Wd(t,g);return this.expandSegmentGroup(i,A,C,g).pipe((0,on.U)(F=>({segment:F,outlet:g})))}),Bc((g,C)=>(g[C.outlet]=C.segment,g),{}),function Wl(n,i){const t=arguments.length>=2;return o=>o.pipe(n?(0,hi.h)((d,g)=>n(d,g,o)):_i.y,ms(1),t?is(i):cc(()=>new cl))}())}expandSegment(i,t,o,d,g,C){return(0,gn.D)(o).pipe((0,Gi.b)(A=>this.expandSegmentAgainstRoute(i,t,o,A,d,g,C).pipe(ra(te=>{if(te instanceof af)return(0,dn.of)(null);throw te}))),Rs(A=>!!A),ra((A,F)=>{if(A instanceof cl||"EmptyError"===A.name)return sf(t,d,g)?(0,dn.of)(new Wr([],{})):Yi(t);throw A}))}expandSegmentAgainstRoute(i,t,o,d,g,C,A){return Tg(d,t,g,C)?void 0===d.redirectTo?this.matchSegmentAgainstRoute(i,t,d,g,C):A&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(i,t,o,d,g,C):Yi(t):Yi(t)}expandSegmentAgainstRouteUsingRedirect(i,t,o,d,g,C){return"**"===d.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(i,o,d,C):this.expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,d,g,C)}expandWildCardWithParamsAgainstRouteUsingRedirect(i,t,o,d){const g=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Eg(g):this.lineralizeSegments(o,g).pipe((0,_o.z)(C=>{const A=new Wr(C,{});return this.expandSegment(i,A,t,C,d,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(i,t,o,d,g,C){const{matched:A,consumedSegments:F,remainingSegments:te,positionalParamSegments:Me}=$d(t,d,g);if(!A)return Yi(t);const rt=this.applyRedirectCommands(F,d.redirectTo,Me);return d.redirectTo.startsWith("/")?Eg(rt):this.lineralizeSegments(d,rt).pipe((0,_o.z)(yt=>this.expandSegment(i,t,o,yt.concat(te),C,!1)))}matchSegmentAgainstRoute(i,t,o,d,g){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,dn.of)(o._loadedConfig):this.configLoader.load(i.injector,o)).pipe((0,on.U)(rt=>(o._loadedConfig=rt,new Wr(d,{})))):(0,dn.of)(new Wr(d,{}));const{matched:C,consumedSegments:A,remainingSegments:F}=$d(t,o,d);return C?this.getChildConfig(i,o,d).pipe((0,_o.z)(Me=>{const rt=Me.module,yt=Me.routes,{segmentGroup:Tt,slicedSegments:Ut}=Kd(t,A,F,yt),Lt=new Wr(Tt.segments,Tt.children);if(0===Ut.length&&Lt.hasChildren())return this.expandChildren(rt,yt,Lt).pipe((0,on.U)(Pr=>new Wr(A,Pr)));if(0===yt.length&&0===Ut.length)return(0,dn.of)(new Wr(A,{}));const On=vs(o)===g;return this.expandSegment(rt,Lt,yt,Ut,On?Er:g,!0).pipe((0,on.U)(Jn=>new Wr(A.concat(Jn.segments),Jn.children)))})):Yi(t)}getChildConfig(i,t,o){return t.children?(0,dn.of)(new ap(t.children,i)):t.loadChildren?void 0!==t._loadedConfig?(0,dn.of)(t._loadedConfig):this.runCanLoadGuards(i.injector,t,o).pipe((0,_o.z)(d=>d?this.configLoader.load(i.injector,t).pipe((0,on.U)(g=>(t._loadedConfig=g,g))):function $s(n){return sc(re(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,dn.of)(new ap([],i))}runCanLoadGuards(i,t,o){const d=t.canLoad;if(!d||0===d.length)return(0,dn.of)(!0);const g=d.map(C=>{const A=i.get(C);let F;if(function So(n){return n&&gi(n.canLoad)}(A))F=A.canLoad(t,o);else{if(!gi(A))throw new Error("Invalid CanLoad guard");F=A(t,o)}return xi(F)});return(0,dn.of)(g).pipe(ru(),(0,pr.b)(C=>{if(!nu(C))return;const A=re(`Redirecting to "${this.urlSerializer.serialize(C)}"`);throw A.url=C,A}),(0,on.U)(C=>!0===C))}lineralizeSegments(i,t){let o=[],d=t.root;for(;;){if(o=o.concat(d.segments),0===d.numberOfChildren)return(0,dn.of)(o);if(d.numberOfChildren>1||!d.children[Er])return sc(new Error(`Only absolute redirects can have named outlets. redirectTo: '${i.redirectTo}'`));d=d.children[Er]}}applyRedirectCommands(i,t,o){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),i,o)}applyRedirectCreatreUrlTree(i,t,o,d){const g=this.createSegmentGroup(i,t.root,o,d);return new Ha(g,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(i,t){const o={};return Un(i,(d,g)=>{if("string"==typeof d&&d.startsWith(":")){const A=d.substring(1);o[g]=t[A]}else o[g]=d}),o}createSegmentGroup(i,t,o,d){const g=this.createSegments(i,t.segments,o,d);let C={};return Un(t.children,(A,F)=>{C[F]=this.createSegmentGroup(i,A,o,d)}),new Wr(g,C)}createSegments(i,t,o,d){return t.map(g=>g.path.startsWith(":")?this.findPosParam(i,g,d):this.findOrReturn(g,o))}findPosParam(i,t,o){const d=o[t.path.substring(1)];if(!d)throw new Error(`Cannot redirect to '${i}'. Cannot find '${t.path}'.`);return d}findOrReturn(i,t){let o=0;for(const d of t){if(d.path===i.path)return t.splice(o),d;o++}return i}}function lf(n){const i={};for(const o of Object.keys(n.children)){const g=lf(n.children[o]);(g.segments.length>0||g.hasChildren())&&(i[o]=g)}return function xg(n){if(1===n.numberOfChildren&&n.children[Er]){const i=n.children[Er];return new Wr(n.segments.concat(i.segments),i.children)}return n}(new Wr(n.segments,i))}class uf{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class ed{constructor(i,t){this.component=i,this.route=t}}function Ag(n,i,t){const o=n._root;return vl(o,i?i._root:null,t,[o.value])}function Jd(n,i,t){const o=function l_(n){if(!n)return null;for(let i=n.parent;i;i=i.parent){const t=i.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(i);return(o?o.module.injector:t).get(n)}function vl(n,i,t,o,d={canDeactivateChecks:[],canActivateChecks:[]}){const g=zs(i);return n.children.forEach(C=>{(function hf(n,i,t,o,d={canDeactivateChecks:[],canActivateChecks:[]}){const g=n.value,C=i?i.value:null,A=t?t.getContext(n.value.outlet):null;if(C&&g.routeConfig===C.routeConfig){const F=function Ig(n,i,t){if("function"==typeof t)return t(n,i);switch(t){case"pathParamsChange":return!oa(n.url,i.url);case"pathParamsOrQueryParamsChange":return!oa(n.url,i.url)||!zt(n.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!$u(n,i)||!zt(n.queryParams,i.queryParams);default:return!$u(n,i)}}(C,g,g.routeConfig.runGuardsAndResolvers);F?d.canActivateChecks.push(new uf(o)):(g.data=C.data,g._resolvedData=C._resolvedData),vl(n,i,g.component?A?A.children:null:t,o,d),F&&A&&A.outlet&&A.outlet.isActivated&&d.canDeactivateChecks.push(new ed(A.outlet.component,C))}else C&&sa(i,A,d),d.canActivateChecks.push(new uf(o)),vl(n,null,g.component?A?A.children:null:t,o,d)})(C,g[C.value.outlet],t,o.concat([C.value]),d),delete g[C.value.outlet]}),Un(g,(C,A)=>sa(C,t.getContext(A),d)),d}function sa(n,i,t){const o=zs(n),d=n.value;Un(o,(g,C)=>{sa(g,d.component?i?i.children.getContext(C):null:i,t)}),t.canDeactivateChecks.push(new ed(d.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,d))}class Wa{}function ff(n){return new Hn.y(i=>i.error(n))}class dc{constructor(i,t,o,d,g,C){this.rootComponentType=i,this.config=t,this.urlTree=o,this.url=d,this.paramsInheritanceStrategy=g,this.relativeLinkResolution=C}recognize(){const i=Kd(this.urlTree.root,[],[],this.config.filter(C=>void 0===C.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,i,Er);if(null===t)return null;const o=new $r([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Er,this.rootComponentType,null,this.urlTree.root,-1,{}),d=new Ki(o,t),g=new Vd(this.url,d);return this.inheritParamsAndData(g._root),g}inheritParamsAndData(i){const t=i.value,o=fg(t,this.paramsInheritanceStrategy);t.params=Object.freeze(o.params),t.data=Object.freeze(o.data),i.children.forEach(d=>this.inheritParamsAndData(d))}processSegmentGroup(i,t,o){return 0===t.segments.length&&t.hasChildren()?this.processChildren(i,t):this.processSegment(i,t,t.segments,o)}processChildren(i,t){const o=[];for(const g of Object.keys(t.children)){const C=t.children[g],A=Wd(i,g),F=this.processSegmentGroup(A,C,g);if(null===F)return null;o.push(...F)}const d=nd(o);return function fp(n){n.sort((i,t)=>i.value.outlet===Er?-1:t.value.outlet===Er?1:i.value.outlet.localeCompare(t.value.outlet))}(d),d}processSegment(i,t,o,d){for(const g of i){const C=this.processSegmentAgainstRoute(g,t,o,d);if(null!==C)return C}return sf(t,o,d)?[]:null}processSegmentAgainstRoute(i,t,o,d){if(i.redirectTo||!Tg(i,t,o,d))return null;let g,C=[],A=[];if("**"===i.path){const Tt=o.length>0?rr(o).parameters:{};g=new $r(o,Tt,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rd(i),vs(i),i.component,i,zi(t),su(t)+o.length,Qd(i))}else{const Tt=$d(t,i,o);if(!Tt.matched)return null;C=Tt.consumedSegments,A=Tt.remainingSegments,g=new $r(C,Tt.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rd(i),vs(i),i.component,i,zi(t),su(t)+C.length,Qd(i))}const F=function Gc(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(i),{segmentGroup:te,slicedSegments:Me}=Kd(t,C,A,F.filter(Tt=>void 0===Tt.redirectTo),this.relativeLinkResolution);if(0===Me.length&&te.hasChildren()){const Tt=this.processChildren(F,te);return null===Tt?null:[new Ki(g,Tt)]}if(0===F.length&&0===Me.length)return[new Ki(g,[])];const rt=vs(i)===d,yt=this.processSegment(F,te,Me,rt?Er:d);return null===yt?null:[new Ki(g,yt)]}}function ou(n){const i=n.value.routeConfig;return i&&""===i.path&&void 0===i.redirectTo}function nd(n){const i=[],t=new Set;for(const o of n){if(!ou(o)){i.push(o);continue}const d=i.find(g=>o.value.routeConfig===g.value.routeConfig);void 0!==d?(d.children.push(...o.children),t.add(d)):i.push(o)}for(const o of t){const d=nd(o.children);i.push(new Ki(o.value,d))}return i.filter(o=>!t.has(o))}function zi(n){let i=n;for(;i._sourceSegment;)i=i._sourceSegment;return i}function su(n){let i=n,t=i._segmentIndexShift?i._segmentIndexShift:0;for(;i._sourceSegment;)i=i._sourceSegment,t+=i._segmentIndexShift?i._segmentIndexShift:0;return t-1}function rd(n){return n.data||{}}function Qd(n){return n.resolve||{}}function Xd(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Hc(n){return Ci(i=>{const t=n(i);return t?(0,gn.D)(t).pipe((0,on.U)(()=>i)):(0,dn.of)(i)})}class au extends class bl{shouldDetach(i){return!1}store(i,t){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,t){return i.routeConfig===t.routeConfig}}{}const id=new e.OlP("ROUTES");class pf{constructor(i,t,o,d){this.injector=i,this.compiler=t,this.onLoadStartListener=o,this.onLoadEndListener=d}load(i,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const d=this.loadModuleFactory(t.loadChildren).pipe((0,on.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(t);const C=g.create(i);return new ap(yr(C.injector.get(id,void 0,e.XFs.Self|e.XFs.Optional)).map(xo),C)}),ra(g=>{throw t._loader$=void 0,g}));return t._loader$=new ta(d,()=>new Ir.x).pipe(ac()),t._loader$}loadModuleFactory(i){return xi(i()).pipe((0,_o.z)(t=>t instanceof e.YKP?(0,dn.of)(t):(0,gn.D)(this.compiler.compileModuleAsync(t))))}}class gf{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,t){return i}}function kg(n){throw n}function Cl(n,i,t){return i.parse("/")}function mf(n,i){return(0,dn.of)(null)}const _f={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},eh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let qr=(()=>{class n{constructor(t,o,d,g,C,A,F){this.rootComponentType=t,this.urlSerializer=o,this.rootContexts=d,this.location=g,this.config=F,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ir.x,this.errorHandler=kg,this.malformedUriErrorHandler=Cl,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:mf,afterPreactivation:mf},this.urlHandlingStrategy=new gf,this.routeReuseStrategy=new au,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=C.get(e.h0i),this.console=C.get(e.c2e);const rt=C.get(e.R0b);this.isNgZoneEnabled=rt instanceof e.R0b&&e.R0b.isInAngularZone(),this.resetConfig(F),this.currentUrlTree=function so(){return new Ha(new Wr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new pf(C,A,yt=>this.triggerEvent(new lc(yt)),yt=>this.triggerEvent(new ba(yt))),this.routerState=zu(this.currentUrlTree,this.rootComponentType),this.transitions=new oo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const o=this.events;return t.pipe((0,hi.h)(d=>0!==d.id),(0,on.U)(d=>Object.assign(Object.assign({},d),{extractedUrl:this.urlHandlingStrategy.extract(d.rawUrl)})),Ci(d=>{let g=!1,C=!1;return(0,dn.of)(d).pipe((0,pr.b)(A=>{this.currentNavigation={id:A.id,initialUrl:A.currentRawUrl,extractedUrl:A.extractedUrl,trigger:A.source,extras:A.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Ci(A=>{const F=this.browserUrlTree.toString(),te=!this.navigated||A.extractedUrl.toString()!==F||F!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||te)&&this.urlHandlingStrategy.shouldProcessUrl(A.rawUrl))return vf(A.source)&&(this.browserUrlTree=A.extractedUrl),(0,dn.of)(A).pipe(Ci(rt=>{const yt=this.transitions.getValue();return o.next(new Do(rt.id,this.serializeUrl(rt.extractedUrl),rt.source,rt.restoredState)),yt!==this.transitions.getValue()?wn.E:Promise.resolve(rt)}),function Xu(n,i,t,o){return Ci(d=>function Sg(n,i,t,o,d){return new cf(n,i,t,o,d).apply()}(n,i,t,d.extractedUrl,o).pipe((0,on.U)(g=>Object.assign(Object.assign({},d),{urlAfterRedirects:g}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,pr.b)(rt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:rt.urlAfterRedirects})}),function hc(n,i,t,o,d){return(0,_o.z)(g=>function aa(n,i,t,o,d="emptyOnly",g="legacy"){try{const C=new dc(n,i,t,o,d,g).recognize();return null===C?ff(new Wa):(0,dn.of)(C)}catch(C){return ff(C)}}(n,i,g.urlAfterRedirects,t(g.urlAfterRedirects),o,d).pipe((0,on.U)(C=>Object.assign(Object.assign({},g),{targetSnapshot:C}))))}(this.rootComponentType,this.config,rt=>this.serializeUrl(rt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,pr.b)(rt=>{if("eager"===this.urlUpdateStrategy){if(!rt.extras.skipLocationChange){const Tt=this.urlHandlingStrategy.merge(rt.urlAfterRedirects,rt.rawUrl);this.setBrowserUrl(Tt,rt)}this.browserUrlTree=rt.urlAfterRedirects}const yt=new ul(rt.id,this.serializeUrl(rt.extractedUrl),this.serializeUrl(rt.urlAfterRedirects),rt.targetSnapshot);o.next(yt)}));if(te&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:yt,extractedUrl:Tt,source:Ut,restoredState:Lt,extras:On}=A,or=new Do(yt,this.serializeUrl(Tt),Ut,Lt);o.next(or);const Jn=zu(Tt,this.rootComponentType).snapshot;return(0,dn.of)(Object.assign(Object.assign({},A),{targetSnapshot:Jn,urlAfterRedirects:Tt,extras:Object.assign(Object.assign({},On),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=A.rawUrl,A.resolve(null),wn.E}),Hc(A=>{const{targetSnapshot:F,id:te,extractedUrl:Me,rawUrl:rt,extras:{skipLocationChange:yt,replaceUrl:Tt}}=A;return this.hooks.beforePreactivation(F,{navigationId:te,appliedUrlTree:Me,rawUrlTree:rt,skipLocationChange:!!yt,replaceUrl:!!Tt})}),(0,pr.b)(A=>{const F=new ja(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot);this.triggerEvent(F)}),(0,on.U)(A=>Object.assign(Object.assign({},A),{guards:Ag(A.targetSnapshot,A.currentSnapshot,this.rootContexts)})),function za(n,i){return(0,_o.z)(t=>{const{targetSnapshot:o,currentSnapshot:d,guards:{canActivateChecks:g,canDeactivateChecks:C}}=t;return 0===C.length&&0===g.length?(0,dn.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function Pg(n,i,t,o){return(0,gn.D)(n).pipe((0,_o.z)(d=>function td(n,i,t,o,d){const g=i&&i.routeConfig?i.routeConfig.canDeactivate:null;if(!g||0===g.length)return(0,dn.of)(!0);const C=g.map(A=>{const F=Jd(A,i,d);let te;if(function zd(n){return n&&gi(n.canDeactivate)}(F))te=xi(F.canDeactivate(n,i,t,o));else{if(!gi(F))throw new Error("Invalid CanDeactivate guard");te=xi(F(n,i,t,o))}return te.pipe(Rs())});return(0,dn.of)(C).pipe(ru())}(d.component,d.route,t,i,o)),Rs(d=>!0!==d,!0))}(C,o,d,n).pipe((0,_o.z)(A=>A&&function cp(n){return"boolean"==typeof n}(A)?function hp(n,i,t,o){return(0,gn.D)(i).pipe((0,Gi.b)(d=>Ns(function Og(n,i){return null!==n&&i&&i(new os(n)),(0,dn.of)(!0)}(d.route.parent,o),function Yd(n,i){return null!==n&&i&&i(new vo(n)),(0,dn.of)(!0)}(d.route,o),function xt(n,i,t){const o=i[i.length-1],g=i.slice(0,i.length-1).reverse().map(C=>function df(n){const i=n.routeConfig?n.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:n,guards:i}:null}(C)).filter(C=>null!==C).map(C=>Bu(()=>{const A=C.guards.map(F=>{const te=Jd(F,C.node,t);let Me;if(function vg(n){return n&&gi(n.canActivateChild)}(te))Me=xi(te.canActivateChild(o,n));else{if(!gi(te))throw new Error("Invalid CanActivateChild guard");Me=xi(te(o,n))}return Me.pipe(Rs())});return(0,dn.of)(A).pipe(ru())}));return(0,dn.of)(g).pipe(ru())}(n,d.path,t),function Ta(n,i,t){const o=i.routeConfig?i.routeConfig.canActivate:null;if(!o||0===o.length)return(0,dn.of)(!0);const d=o.map(g=>Bu(()=>{const C=Jd(g,i,t);let A;if(function nf(n){return n&&gi(n.canActivate)}(C))A=xi(C.canActivate(i,n));else{if(!gi(C))throw new Error("Invalid CanActivate guard");A=xi(C(i,n))}return A.pipe(Rs())}));return(0,dn.of)(d).pipe(ru())}(n,d.route,t))),Rs(d=>!0!==d,!0))}(o,g,n,i):(0,dn.of)(A)),(0,on.U)(A=>Object.assign(Object.assign({},t),{guardsResult:A})))})}(this.ngModule.injector,A=>this.triggerEvent(A)),(0,pr.b)(A=>{if(nu(A.guardsResult)){const te=re(`Redirecting to "${this.serializeUrl(A.guardsResult)}"`);throw te.url=A.guardsResult,te}const F=new $l(A.id,this.serializeUrl(A.extractedUrl),this.serializeUrl(A.urlAfterRedirects),A.targetSnapshot,!!A.guardsResult);this.triggerEvent(F)}),(0,hi.h)(A=>!!A.guardsResult||(this.restoreHistory(A),this.cancelNavigationTransition(A,""),!1)),Hc(A=>{if(A.guards.canActivateChecks.length)return(0,dn.of)(A).pipe((0,pr.b)(F=>{const te=new Wh(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(te)}),Ci(F=>{let te=!1;return(0,dn.of)(F).pipe(function Mg(n,i){return(0,_o.z)(t=>{const{targetSnapshot:o,guards:{canActivateChecks:d}}=t;if(!d.length)return(0,dn.of)(t);let g=0;return(0,gn.D)(d).pipe((0,Gi.b)(C=>function Ng(n,i,t,o){return function Rg(n,i,t,o){const d=Xd(n);if(0===d.length)return(0,dn.of)({});const g={};return(0,gn.D)(d).pipe((0,_o.z)(C=>function pp(n,i,t,o){const d=Jd(n,i,o);return xi(d.resolve?d.resolve(i,t):d(i,t))}(n[C],i,t,o).pipe((0,pr.b)(A=>{g[C]=A}))),ms(1),(0,_o.z)(()=>Xd(g).length===d.length?(0,dn.of)(g):wn.E))}(n._resolve,n,i,o).pipe((0,on.U)(g=>(n._resolvedData=g,n.data=Object.assign(Object.assign({},n.data),fg(n,t).resolve),null)))}(C.route,o,n,i)),(0,pr.b)(()=>g++),ms(1),(0,_o.z)(C=>g===d.length?(0,dn.of)(t):wn.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,pr.b)({next:()=>te=!0,complete:()=>{te||(this.restoreHistory(F),this.cancelNavigationTransition(F,"At least one route resolver didn't emit any value."))}}))}),(0,pr.b)(F=>{const te=new ya(F.id,this.serializeUrl(F.extractedUrl),this.serializeUrl(F.urlAfterRedirects),F.targetSnapshot);this.triggerEvent(te)}))}),Hc(A=>{const{targetSnapshot:F,id:te,extractedUrl:Me,rawUrl:rt,extras:{skipLocationChange:yt,replaceUrl:Tt}}=A;return this.hooks.afterPreactivation(F,{navigationId:te,appliedUrlTree:Me,rawUrlTree:rt,skipLocationChange:!!yt,replaceUrl:!!Tt})}),(0,on.U)(A=>{const F=function cs(n,i,t){const o=ai(n,i._root,t?t._root:void 0);return new Ud(o,i)}(this.routeReuseStrategy,A.targetSnapshot,A.currentRouterState);return Object.assign(Object.assign({},A),{targetRouterState:F})}),(0,pr.b)(A=>{this.currentUrlTree=A.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(A.urlAfterRedirects,A.rawUrl),this.routerState=A.targetRouterState,"deferred"===this.urlUpdateStrategy&&(A.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,A),this.browserUrlTree=A.urlAfterRedirects)}),((n,i,t)=>(0,on.U)(o=>(new _g(i,o.targetRouterState,o.currentRouterState,t).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,A=>this.triggerEvent(A)),(0,pr.b)({next(){g=!0},complete(){g=!0}}),function ll(n){return(0,Fo.e)((i,t)=>{try{i.subscribe(t)}finally{t.add(n)}})}(()=>{var A;g||C||this.cancelNavigationTransition(d,`Navigation ID ${d.id} is not equal to the current navigation id ${this.navigationId}`),(null===(A=this.currentNavigation)||void 0===A?void 0:A.id)===d.id&&(this.currentNavigation=null)}),ra(A=>{if(C=!0,function Ne(n){return n&&n[G]}(A)){const F=nu(A.url);F||(this.navigated=!0,this.restoreHistory(d,!0));const te=new _s(d.id,this.serializeUrl(d.extractedUrl),A.message);o.next(te),F?setTimeout(()=>{const Me=this.urlHandlingStrategy.merge(A.url,this.rawUrlTree),rt={skipLocationChange:d.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vf(d.source)};this.scheduleNavigation(Me,"imperative",null,rt,{resolve:d.resolve,reject:d.reject,promise:d.promise})},0):d.resolve(!1)}else{this.restoreHistory(d,!0);const F=new kd(d.id,this.serializeUrl(d.extractedUrl),A);o.next(F);try{d.resolve(this.errorHandler(A))}catch(te){d.reject(te)}}return wn.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const o="popstate"===t.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var d;const g={replaceUrl:!0},C=(null===(d=t.state)||void 0===d?void 0:d.navigationId)?t.state:null;if(C){const F=Object.assign({},C);delete F.navigationId,delete F.\u0275routerPageId,0!==Object.keys(F).length&&(g.state=F)}const A=this.parseUrl(t.url);this.scheduleNavigation(A,o,C,g)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){rf(t),this.config=t.map(xo),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,o={}){const{relativeTo:d,queryParams:g,fragment:C,queryParamsHandling:A,preserveFragment:F}=o,te=d||this.routerState.root,Me=F?this.currentUrlTree.fragment:C;let rt=null;switch(A){case"merge":rt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),g);break;case"preserve":rt=this.currentUrlTree.queryParams;break;default:rt=g||null}return null!==rt&&(rt=this.removeEmptyProps(rt)),function Gd(n,i,t,o,d){if(0===t.length)return tu(i.root,i.root,i.root,o,d);const g=function a_(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new s_(!0,0,n);let i=0,t=!1;const o=n.reduce((d,g,C)=>{if("object"==typeof g&&null!=g){if(g.outlets){const A={};return Un(g.outlets,(F,te)=>{A[te]="string"==typeof F?F.split("/"):F}),[...d,{outlets:A}]}if(g.segmentPath)return[...d,g.segmentPath]}return"string"!=typeof g?[...d,g]:0===C?(g.split("/").forEach((A,F)=>{0==F&&"."===A||(0==F&&""===A?t=!0:".."===A?i++:""!=A&&d.push(A))}),d):[...d,g]},[]);return new s_(t,i,o)}(t);if(g.toRoot())return tu(i.root,i.root,new Wr([],{}),o,d);const C=function op(n,i,t){if(n.isAbsolute)return new ci(i.root,!0,0);if(-1===t.snapshot._lastPathIndex){const g=t.snapshot._urlSegment;return new ci(g,g===i.root,0)}const o=Bo(n.commands[0])?0:1;return function Ju(n,i,t){let o=n,d=i,g=t;for(;g>d;){if(g-=d,o=o.parent,!o)throw new Error("Invalid number of '../'");d=o.segments.length}return new ci(o,!1,d-g)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(g,i,n),A=C.processChildren?ml(C.segmentGroup,C.index,g.commands):qd(C.segmentGroup,C.index,g.commands);return tu(i.root,C.segmentGroup,A,o,d)}(te,this.currentUrlTree,t,rt,null!=Me?Me:null)}navigateByUrl(t,o={skipLocationChange:!1}){const d=nu(t)?t:this.parseUrl(t),g=this.urlHandlingStrategy.merge(d,this.rawUrlTree);return this.scheduleNavigation(g,"imperative",null,o)}navigate(t,o={skipLocationChange:!1}){return function d_(n){for(let i=0;i<n.length;i++){const t=n[i];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${i}`)}}(t),this.navigateByUrl(this.createUrlTree(t,o),o)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let o;try{o=this.urlSerializer.parse(t)}catch(d){o=this.malformedUriErrorHandler(d,this.urlSerializer,t)}return o}isActive(t,o){let d;if(d=!0===o?Object.assign({},_f):!1===o?Object.assign({},eh):o,nu(t))return ss(this.currentUrlTree,t,d);const g=this.parseUrl(t);return ss(this.currentUrlTree,g,d)}removeEmptyProps(t){return Object.keys(t).reduce((o,d)=>{const g=t[d];return null!=g&&(o[d]=g),o},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new va(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,o,d,g,C){var A,F;if(this.disposed)return Promise.resolve(!1);let te,Me,rt;C?(te=C.resolve,Me=C.reject,rt=C.promise):rt=new Promise((Ut,Lt)=>{te=Ut,Me=Lt});const yt=++this.navigationId;let Tt;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(d=this.location.getState()),Tt=d&&d.\u0275routerPageId?d.\u0275routerPageId:g.replaceUrl||g.skipLocationChange?null!==(A=this.browserPageId)&&void 0!==A?A:0:(null!==(F=this.browserPageId)&&void 0!==F?F:0)+1):Tt=0,this.setTransition({id:yt,targetPageId:Tt,source:o,restoredState:d,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:g,resolve:te,reject:Me,promise:rt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),rt.catch(Ut=>Promise.reject(Ut))}setBrowserUrl(t,o){const d=this.urlSerializer.serialize(t),g=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(d)||o.extras.replaceUrl?this.location.replaceState(d,"",g):this.location.go(d,"",g)}restoreHistory(t,o=!1){var d,g;if("computed"===this.canceledNavigationResolution){const C=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)||0===C?this.currentUrlTree===(null===(g=this.currentNavigation)||void 0===g?void 0:g.finalUrl)&&0===C&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(C)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,o){const d=new _s(t.id,this.serializeUrl(t.extractedUrl),o);this.triggerEvent(d),t.resolve(!1)}generateNgRouterState(t,o){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:o}:{navigationId:t}}}return n.\u0275fac=function(t){e.$Z()},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function vf(n){return"imperative"!==n}let fc=(()=>{class n{constructor(t,o,d,g,C){this.router=t,this.route=o,this.tabIndexAttribute=d,this.renderer=g,this.el=C,this.commands=null,this.onChanges=new Ir.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const o=this.renderer,d=this.el.nativeElement;null!==t?o.setAttribute(d,"tabindex",t):o.removeAttribute(d,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:wl(this.skipLocationChange),replaceUrl:wl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(wa),e.$8M("tabindex"),e.Y36(e.Qsj),e.Y36(e.SBq))},n.\u0275dir=e.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,o){1&t&&e.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),n})(),pc=(()=>{class n{constructor(t,o,d){this.router=t,this.route=o,this.locationStrategy=d,this.commands=null,this.href=null,this.onChanges=new Ir.x,this.subscription=t.events.subscribe(g=>{g instanceof va&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,o,d,g,C){if(0!==t||o||d||g||C||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const A={skipLocationChange:wl(this.skipLocationChange),replaceUrl:wl(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,A),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wl(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(wa),e.Y36(p.S$))},n.\u0275dir=e.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,o){1&t&&e.NdJ("click",function(g){return o.onClick(g.button,g.ctrlKey,g.shiftKey,g.altKey,g.metaKey)}),2&t&&e.uIk("target",o.target)("href",o.href,e.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[e.TTD]}),n})();function wl(n){return""===n||!!n}class Ka{}class yf{preload(i,t){return(0,dn.of)(null)}}let _p=(()=>{class n{constructor(t,o,d,g){this.router=t,this.injector=d,this.preloadingStrategy=g,this.loader=new pf(d,o,F=>t.triggerEvent(new lc(F)),F=>t.triggerEvent(new ba(F)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,hi.h)(t=>t instanceof va),(0,Gi.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(e.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,o){const d=[];for(const g of o)if(g.loadChildren&&!g.canLoad&&g._loadedConfig){const C=g._loadedConfig;d.push(this.processRoutes(C.module,C.routes))}else g.loadChildren&&!g.canLoad?d.push(this.preloadConfig(t,g)):g.children&&d.push(this.processRoutes(t,g.children));return(0,gn.D)(d).pipe((0,ea.J)(),(0,on.U)(g=>{}))}preloadConfig(t,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,dn.of)(o._loadedConfig):this.loader.load(t.injector,o)).pipe((0,_o.z)(g=>(o._loadedConfig=g,this.processRoutes(g.module,g.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(qr),e.LFG(e.Sil),e.LFG(e.zs3),e.LFG(Ka))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),cu=(()=>{class n{constructor(t,o,d={}){this.router=t,this.viewportScroller=o,this.options=d,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},d.scrollPositionRestoration=d.scrollPositionRestoration||"disabled",d.anchorScrolling=d.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Do?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof va&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Kl&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,o){this.router.triggerEvent(new Kl(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){e.$Z()},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const lu=new e.OlP("ROUTER_CONFIGURATION"),bf=new e.OlP("ROUTER_FORROOT_GUARD"),nh=[p.Ye,{provide:Ql,useClass:$h},{provide:qr,useFactory:function vp(n,i,t,o,d,g,C={},A,F){const te=new qr(null,n,i,t,o,d,yr(g));return A&&(te.urlHandlingStrategy=A),F&&(te.routeReuseStrategy=F),function yp(n,i){n.errorHandler&&(i.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(i.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(i.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(i.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(i.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(i.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(i.canceledNavigationResolution=n.canceledNavigationResolution)}(C,te),C.enableTracing&&te.events.subscribe(Me=>{var rt,yt;null===(rt=console.group)||void 0===rt||rt.call(console,`Router Event: ${Me.constructor.name}`),console.log(Me.toString()),console.log(Me),null===(yt=console.groupEnd)||void 0===yt||yt.call(console)}),te},deps:[Ql,_l,p.Ye,e.zs3,e.Sil,id,lu,[class gp{},new e.FiY],[class yl{},new e.FiY]]},_l,{provide:wa,useFactory:function El(n){return n.routerState.root},deps:[qr]},_p,yf,class mp{preload(i,t){return t().pipe(ra(()=>(0,dn.of)(null)))}},{provide:lu,useValue:{enableTracing:!1}}];function Cf(){return new e.PXZ("Router",qr)}let rh=(()=>{class n{constructor(t,o){}static forRoot(t,o){return{ngModule:n,providers:[nh,od(t),{provide:bf,useFactory:h_,deps:[[qr,new e.FiY,new e.tp0]]},{provide:lu,useValue:o||{}},{provide:p.S$,useFactory:Ls,deps:[p.lw,[new e.tBr(p.mr),new e.FiY],lu]},{provide:cu,useFactory:wf,deps:[qr,p.EM,lu]},{provide:Ka,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:yf},{provide:e.PXZ,multi:!0,useFactory:Cf},[Dl,{provide:e.ip1,multi:!0,useFactory:Ea,deps:[Dl]},{provide:bp,useFactory:uu,deps:[Dl]},{provide:e.tb,multi:!0,useExisting:bp}]]}}static forChild(t){return{ngModule:n,providers:[od(t)]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(bf,8),e.LFG(qr,8))},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();function wf(n,i,t){return t.scrollOffset&&i.setOffset(t.scrollOffset),new cu(n,i,t)}function Ls(n,i,t={}){return t.useHash?new p.Do(n,i):new p.b0(n,i)}function h_(n){return"guarded"}function od(n){return[{provide:e.deG,multi:!0,useValue:n},{provide:id,multi:!0,useValue:n}]}let Dl=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ir.x}appInitializer(){return this.injector.get(p.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const d=new Promise(A=>o=A),g=this.injector.get(qr),C=this.injector.get(lu);return"disabled"===C.initialNavigation?(g.setUpLocationChangeListener(),o(!0)):"enabled"===C.initialNavigation||"enabledBlocking"===C.initialNavigation?(g.hooks.afterPreactivation=()=>this.initNavigation?(0,dn.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),g.initialNavigation()):o(!0),d})}bootstrapListener(t){const o=this.injector.get(lu),d=this.injector.get(_p),g=this.injector.get(cu),C=this.injector.get(qr),A=this.injector.get(e.z2F);t===A.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&C.initialNavigation(),d.setUpPreloading(),g.init(),C.resetRootComponentType(A.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.zs3))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function Ea(n){return n.appInitializer.bind(n)}function uu(n){return n.bootstrapListener.bind(n)}const bp=new e.OlP("Router Initializer");var du,Ao=P(635),Io=P(6082),Lg=new Uint8Array(16);function p_(){if(!du&&!(du="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return du(Lg)}const g_=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,v=function S(n){return"string"==typeof n&&g_.test(n)};for(var w=[],R=0;R<256;++R)w.push((R+256).toString(16).substr(1));const Vt=function vt(n,i,t){var o=(n=n||{}).random||(n.rng||p_)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,i){t=t||0;for(var d=0;d<16;++d)i[t+d]=o[d];return i}return function ce(n){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(w[n[i+0]]+w[n[i+1]]+w[n[i+2]]+w[n[i+3]]+"-"+w[n[i+4]]+w[n[i+5]]+"-"+w[n[i+6]]+w[n[i+7]]+"-"+w[n[i+8]]+w[n[i+9]]+"-"+w[n[i+10]]+w[n[i+11]]+w[n[i+12]]+w[n[i+13]]+w[n[i+14]]+w[n[i+15]]).toLowerCase();if(!v(t))throw TypeError("Stringified UUID is invalid");return t}(o)},jn=[{productBarcode:"8480000136343",updateDate:1649525102028,id:"yTedpnDD2O8sBPZwSK3U",shopId:"mercadona",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904},price:3.5},{id:"602smPkf29S2QFB7XMsD",price:4.89,shopId:"mercadona",productBarcode:"7613036862295",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},updateDate:1649525061319},{updateDate:1649525021629,price:2.15,id:"WlA822FqYmbsdK0UGl6Y",shopId:"mercadona",productBarcode:"8480000049056",createdBy:{lastLogin:1649187527904,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{productBarcode:"8480000163141",updateDate:1649524995119,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},id:"YdlJM0dJ5oeNYB1XVEfI",price:1.25,shopId:"mercadona"},{id:"a0JHdq2rUBTp9t1h3LMP",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com"},shopId:"mercadona",price:2.75,productBarcode:"8480000644916",updateDate:1649524928832},{shopId:"ametller",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0},price:1.39,updateDate:1649443336162,productBarcode:"8436554520985",id:"ftpgydKRipdueQnPpg5E"},{price:4.29,createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0},updateDate:1649443254744,id:"BwhIKICv0Jk5eFscKgUt",shopId:"ametller",productBarcode:"8436551862040"},{productBarcode:"8436583954577",id:"1juMRrbdbfFKtl4dDFsQ",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,username:"Joan Llori\xe0"},shopId:"ametller",updateDate:1649443221984,price:2.19},{shopId:"ametller",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904},price:.99,productBarcode:"8437011969439",updateDate:1649443161878,id:"iJqpRlCkh57jnAevi2ju"},{updateDate:1649394034715,productBarcode:"8412480245307",price:3.69,createdBy:{lastLogin:1649187527904,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com"},id:"jz4gnUQ0MPbIcD3zQ3Xu",shopId:"ametller"},{price:3.49,updateDate:1649394005242,productBarcode:"8436551861951",createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0,email:"joanlloria@gmail.com"},id:"9KPYWVyqeyOgHbvZuoKV",shopId:"ametller"},{price:2.99,createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0},id:"pc2J6SuGJcNNMc2DHqb1",productBarcode:"8421660006010",updateDate:1649393984630,shopId:"ametller"},{shopId:"ametller",updateDate:1649393940747,id:"e3ye1ns3IqQ7KLySvXeW",price:1.09,productBarcode:"8436551865355",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{updateDate:1649162654256,productBarcode:"5050083560262",price:3.55,shopId:"carrefour",createdBy:{lastLogin:1648889388379,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},id:"hDK5SFlMbMZegFDt87nj"},{shopId:"carrefour",price:2.45,createdBy:{admin:!0,lastLogin:1648889388379,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},productBarcode:"8431707094290",updateDate:1649162626090,id:"s6yCDWr0rkqRS04ZgE6f"},{createdBy:{email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379},price:1.43,id:"cH62hgvVWjJQFx9NDbgZ",updateDate:1649162593179,shopId:"carrefour",productBarcode:"7613035314016"},{createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379,admin:!0},shopId:"carrefour",productBarcode:"8410055501131",updateDate:1649162564145,id:"A4M2NAWaWTLVnabXx3HH",price:1.53},{id:"qiwOo0zSVhq5SvAKuDQ9",updateDate:1649099098759,productBarcode:"8436551865355",price:1.09,createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},shopId:"ametller"},{productBarcode:"8436551864709",updateDate:1649099077361,price:4.99,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"vWH1tGNyO16kS4ZHPgJ1"},{updateDate:1649099052678,id:"KPuoy0bX1yOVEet8z8Mg",shopId:"ametller",productBarcode:"8436554529629",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,lastLogin:1648889388379},price:5.79},{updateDate:1649099020087,id:"wFjvmFJyP6Md3gmaUY9b",price:2.19,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"},productBarcode:"8413475312615"},{id:"hpRuqPSjOfNvBNzipfS7",createdBy:{lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:2.69,updateDate:1649098993302,productBarcode:"8421660006010",shopId:"ametller"},{productBarcode:"8436551861951",id:"j0NsoodQy2Vb1IMd1okA",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0},shopId:"ametller",updateDate:1649098960998,price:3.49},{updateDate:1649098912031,price:1.49,createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"Gufa8XRwRND525GcEtn0",shopId:"ametller",productBarcode:"8436551867502"},{productBarcode:"8436583954577",updateDate:1648885577543,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",lastLogin:1648740479491,admin:!0},price:2.19,id:"8jThMVeEIflQbGZF9wr5"},{price:2.19,id:"S3TZPsq38o9g4LpELCfh",createdBy:{username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885533910,shopId:"ametller",productBarcode:"8413475312615"},{createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648740479491},id:"DwlO6GL6lL5itNlLolwF",shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1648885489976},{createdBy:{admin:!0,lastLogin:1648740479491,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885463368,price:1.09,shopId:"ametller",productBarcode:"8436551865355",id:"4qszEZQ89bpNTHd1CPbe"},{productBarcode:"8436554520985",updateDate:1648885443017,price:1.39,shopId:"ametller",id:"JqerXtq6dRvQ0BRbXJTm",createdBy:{email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{id:"xF43k9NANcaIsFLBAx1u",price:1.39,updateDate:1648885413130,shopId:"ametller",productBarcode:"8436554520992",createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,lastLogin:1648740479491}},{shopId:"carrefour",price:2.45,productBarcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648740479491,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648840758092,id:"ADP6a8RxZ9dLshcs18Ev"},{createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},productBarcode:"8431707094290",price:2.45,updateDate:1648840707062,id:"x3MuOSHybJKHvoLkbjLc",shopId:"carrefour"},{shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,lastLogin:1648740479491},price:1.39,productBarcode:"3560071048341",id:"3BIxaJNrT8RgTDEnCQwi",updateDate:1648840676820},{id:"2KFNfE6hz0GRzStLLmJs",updateDate:1648840615431,shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,username:"Joan Llori\xe0"},price:1.51,productBarcode:"3045320052244"},{createdBy:{admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},price:3.39,productBarcode:"8718951388826",updateDate:1648644547478,shopId:"bonpreu",id:"psRiojmRasFmyfeUTNPK"},{id:"fVlQBhiO5jn3VsBlI1rd",updateDate:1648644448599,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:1.69,shopId:"bonpreu",productBarcode:"5410126716016"},{productBarcode:"4008400203829",createdBy:{admin:!0,lastLogin:1648551165934,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},shopId:"bonpreu",price:1.99,id:"crnggBBMaLF9BzHyQaJc",updateDate:1648644422922},{productBarcode:"8431707094290",price:2.29,updateDate:1648644396292,shopId:"bonpreu",id:"S2IsVKVLDR1UMi5STc9m",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648551165934,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,email:"joanlloria@gmail.com",admin:!0},price:1.55,id:"qP6xF0cLDy9MmOB3kRIG",shopId:"bonpreu",updateDate:1648644364274,productBarcode:"8414516082313"},{updateDate:1648579007042,productBarcode:"8436554523979",price:1.99,id:"ukxHmyxg65BYShC1twoc",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com"},shopId:"ametller"},{shopId:"ametller",createdBy:{lastLogin:1648551165934,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436583950440",price:1.99,updateDate:1648578928773,id:"hJBDYoK3GpQnAixKBJvZ"},{price:3.49,id:"HNhRtuJV1nlJbXzEJiRK",shopId:"ametller",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648551165934,email:"joanlloria@gmail.com"},productBarcode:"8436551861951",updateDate:1648578873705},{shopId:"ametller",productBarcode:"8436583954577",id:"qysur0oB7OEpKbQne6ba",updateDate:1648578846218,price:2.19,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0",admin:!0}},{id:"Lw7yoGjjZ7ufGASgs9mm",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},shopId:"ametller",productBarcode:"8436540566942",updateDate:1648460729550,price:1.99},{shopId:"ametller",id:"jL1o5c0k3fOTpF6NB6oQ",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},updateDate:1648460651689,productBarcode:"8436551864709",price:4.99},{createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"w8tSJH2fSyDDBUDzLGOy",productBarcode:"8436554529629",price:5.79,shopId:"ametller",updateDate:1648460619918},{price:1.29,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804},shopId:"ametller",productBarcode:"8436583952054",updateDate:1648460581682,id:"QsyRdZwGQ1UQ0ARa27nT"},{id:"knlBdKG5QS5AHqsiRtwK",updateDate:1648460520247,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436551861951",price:3.49,shopId:"ametller"},{shopId:"ametller",price:3.89,productBarcode:"8436551862880",updateDate:1648041984132,id:"9H4mrFcxHosM1fn2MPk6"},{updateDate:1648041964676,shopId:"ametller",price:4.99,productBarcode:"8436551864709",id:"1oDN2rZCcA3GVAmXGm5w"},{updateDate:1648041940941,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"h5TBADuIrerldKiWYwXZ"},{shopId:"ametller",price:2.19,productBarcode:"8436583954577",updateDate:1648041898298,id:"myStqGeGG00zwWUHEDHi"},{updateDate:1647961453747,price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",id:"ItWZST2zFIdX8NPBrLZt"},{shopId:"bonpreu",updateDate:1647961415096,productBarcode:"8431707094290",price:2.29,id:"FiZC9HEGC9lxj5JqhXbl"},{price:2.65,updateDate:1647961386453,shopId:"bonpreu",productBarcode:"8411135005037",id:"ddH84u3FlrQhQbF83ajS"},{productBarcode:"8422410040872",updateDate:1647961357748,shopId:"bonpreu",price:3.15,id:"wTUPPUPtRMcOa1c7AqND"},{price:1.99,productBarcode:"4008400203829",updateDate:1647961332394,shopId:"bonpreu",id:"UQLlkfbZZG1puLmjd31X"},{updateDate:1647961299091,price:.79,productBarcode:"8422410473878",shopId:"bonpreu",id:"knPA6RUoXMI7Hyyw8sHf"},{updateDate:1647961197826,shopId:"bonpreu",productBarcode:"3574661648019",price:5,id:"W36wbh6PkCgembLHZLDw"},{price:1.25,shopId:"bonpreu",productBarcode:"8410505512267",updateDate:1647547513223,id:"kCX7yTcHeh28hlvwT4Du"},{updateDate:1647547483555,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"pX5OxugSJV08VN6IQnEp"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1647547448250,id:"tZOmOTffTGahd88bxg9i"},{price:4.29,productBarcode:"8436551862040",updateDate:1647449138590,shopId:"ametller",id:"2QetLyJ3AM6Ut9RPdpTm"},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,id:"potwYzxaZV4tylvCRJGG"},{updateDate:1647449093641,shopId:"ametller",price:5.79,productBarcode:"8436554529629",id:"BD17DCs2z32BXJYZdQeD"},{updateDate:1647449073312,productBarcode:"8436540566942",shopId:"ametller",price:1.99,id:"ARIKQ71vQwU1uvUijb2m"},{shopId:"ametller",price:1.09,updateDate:1647449047440,productBarcode:"8436551865355",id:"Xe6NimlR5A1104gjPDXk"},{shopId:"bonpreu",price:2.99,productBarcode:"5029053036151",updateDate:1647365959812,id:"V932wV4BbRvh8IFJ146M"},{shopId:"bonpreu",price:4.89,productBarcode:"7613035260924",updateDate:1647365744646,id:"j8rxgz4owazMMMgK3CzF"},{productBarcode:"8431707094290",price:2.29,updateDate:1647365593154,shopId:"bonpreu",id:"kREXYcgP8CdjSSvQRsOL"},{price:1.19,updateDate:1647365517833,productBarcode:"8410135001322",shopId:"bonpreu",id:"CNKGzBzWeirP7M6Md8Wa"},{shopId:"bonpreu",productBarcode:"8410184800150",price:1.1,updateDate:1647365491009,id:"2jPSBJKLJ4xvf8MJYVdb"},{productBarcode:"5410126716016",updateDate:1647365453382,shopId:"bonpreu",price:1.73,id:"yarXNS6SQXbBo897QJGH"},{updateDate:1647365405368,price:.99,productBarcode:"8410184013086",shopId:"bonpreu",id:"jhxauesGgQ9AFPFdpUKJ"},{price:4.99,shopId:"ametller",productBarcode:"8436551864709",updateDate:1647288183532,id:"XcWmacikAoTRnE84e3eB"},{updateDate:1647288160477,productBarcode:"8436551861951",shopId:"ametller",price:3.49,id:"FCqAnNno6XfjnY0WTFZA"},{updateDate:1647288114011,productBarcode:"8436583954577",shopId:"ametller",price:2.19,id:"oyHFXKwoIAwwHPhniPxU"},{price:1.99,updateDate:1647288063635,productBarcode:"8436554523979",shopId:"ametller",id:"kxhrqdtb7OPZLoL9USF9"},{price:1.49,productBarcode:"8436551867502",updateDate:1647009885888,shopId:"ametller",id:"zGG5dh4WKcVEiKQMPxbq"},{shopId:"ametller",productBarcode:"8436583950449",updateDate:1647009840835,price:1.99,id:"iZpylr9gNMD660rkjqKB"},{updateDate:1647009813003,price:5.99,shopId:"ametller",productBarcode:"8436551860251",id:"v8XOk83kLKMtSEm89kd8"},{productBarcode:"8436583954577",price:2.19,shopId:"ametller",updateDate:1647009785979,id:"vTbMz59gclUr1NC8Hvrb"},{updateDate:1647009736789,shopId:"ametller",productBarcode:"8437011969217",price:1.79,id:"Ie2aG836OKVx6LNBMPwv"},{shopId:"ametller",price:6.49,updateDate:1647009673830,productBarcode:"8436583957110",id:"kV1dshwwna3WGT2igmd6"},{price:6.49,updateDate:1647009576298,productBarcode:"8436583957134",shopId:"ametller",id:"xC8ip2VlIPU9XMVwkNZY"},{price:2.69,shopId:"ametller",updateDate:1647009535063,productBarcode:"8421660006010",id:"JFvXfMu9K4qb0DYQoxaN"},{updateDate:1647009507902,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"ZuRvNxAulB11kESgkegF"},{shopId:"carrefour",updateDate:1647001030237,price:1.86,productBarcode:"8076802085981",id:"TYxP9sRUsGaPYCvKc61B"},{productBarcode:"8076808060654",updateDate:1647000997394,price:1.86,shopId:"carrefour",id:"otLTGyKhgvQnM817hWka"},{price:2.1,updateDate:1647000971290,productBarcode:"8410128160074",shopId:"carrefour",id:"jGVzDGSWsPJO8b8aV2di"},{shopId:"carrefour",price:1.51,productBarcode:"3045320052244",updateDate:1647000949431,id:"w2rJdYlzpegbeJ3APgOp"},{updateDate:1647000913572,price:1.49,shopId:"carrefour",productBarcode:"3560070119851",id:"E8RCfIkhUgDH71jDBGqX"},{productBarcode:"8431707094290",shopId:"carrefour",price:2.26,updateDate:1646942628295,id:"0ZbbmT7bjsFGWiTJw4U7"},{price:2.2,shopId:"carrefour",updateDate:1646942603389,productBarcode:"3560070347438",id:"Cf8K9uh0M2s8fcTqZ0Ja"},{shopId:"carrefour",productBarcode:"8436033878095",price:1,updateDate:1646942576971,id:"Of19VXA0MuIuWXm4x8yG"},{price:1.51,shopId:"carrefour",updateDate:1646942537870,productBarcode:"3045320052244",id:"D8iM9JSvkKxocBY0Yhvi"},{productBarcode:"8431876005912",price:1.08,updateDate:1646942494815,shopId:"carrefour",id:"8MiVzzxBg2ZtVAeO6U9c"},{updateDate:1646930250559,price:2.2,productBarcode:"8480000180926",shopId:"mercadona",id:"eTlRhJjfIzbWJ0HDZ3Md"},{shopId:"mercadona",price:3.3,updateDate:1646930214883,productBarcode:"8480000136343",id:"vBK7B8RI6jW2M8DcIIP9"},{updateDate:1646930191204,productBarcode:"8410086000856",price:1.2,shopId:"mercadona",id:"sFvga218at9GpgWtWMH4"},{updateDate:1646930166623,price:1.25,shopId:"mercadona",productBarcode:"8480000163141",id:"wdbjpAXq7VNvNZ6bYApE"},{updateDate:1646930137722,price:1.95,shopId:"mercadona",productBarcode:"8480000581518",id:"HFHiF3J0qNq2940uCeMG"},{productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,price:2.65,id:"R61OmmkslEVXG73UOCB6"},{updateDate:1646930032462,productBarcode:"8480000610652",shopId:"mercadona",price:1.5,id:"CVyzu83FBt7rT80weApz"},{updateDate:1646929997724,productBarcode:"8420309210115",price:3.25,shopId:"mercadona",id:"qxn8KCzTB0wLzGrkGrFS"},{price:.9,shopId:"mercadona",updateDate:1646929946281,productBarcode:"8410148509327",id:"DQFx9W47a54rgao9Yzoh"},{updateDate:1646872443076,price:1.59,shopId:"dia",productBarcode:"80177616",id:"etvacdRcZ9u8rPOGyNoW"},{price:1.27,shopId:"dia",updateDate:1646856265172,productBarcode:"8480017574657",id:"pcMsPJRXcEgYR3sNN5qq"},{productBarcode:"8410448000913",price:2.89,shopId:"dia",updateDate:1646856219361,id:"WV4wezy7s5GIZRQdkygR"},{shopId:"dia",updateDate:1646856083841,price:4.95,productBarcode:"7613035260924",id:"MJhrODnuLMkRgRFhQcOH"},{price:4.89,productBarcode:"5054563099082",updateDate:1646856003573,shopId:"dia",id:"qsDRnBrSMhoLMiZk0kRA"},{shopId:"bonpreu",updateDate:1646486309719,price:4.09,productBarcode:"8714100635650",id:"Pd0a9ncegiMopagtQzuc"},{price:1.19,productBarcode:"8410135001322",updateDate:1646486174599,shopId:"bonpreu",id:"hPXf5GavsSqsBRxvZUFa"},{shopId:"bonpreu",productBarcode:"7613035260924",updateDate:1646486121079,price:4.89,id:"pCjJs2iWDFHVzrYekM63"},{productBarcode:"8436583954539",updateDate:1646415616777,shopId:"ametller",price:2.39,id:"V5kGdB1vz9zYszorXypV"},{productBarcode:"8413475312615",price:2.19,shopId:"ametller",updateDate:1646415576400,id:"bbjskJJH7O72xcVP70gZ"},{shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1646415548935,id:"GJlFgjWMvQIWQouKIwih"},{updateDate:1646335181459,productBarcode:"8436551864709",price:4.99,shopId:"ametller",id:"LBqsSVYb5huvb6SGWOPp"},{price:3.89,productBarcode:"8436551862880",updateDate:1646335153243,shopId:"ametller",id:"o9TXNVvedjbQn96O1QQw"},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846,id:"VgXFShnDQSdvqlSs7Skc"},{price:2.69,shopId:"ametller",productBarcode:"8421660006010",updateDate:1646335092609,id:"JzjtypjqkdZlNPAesUBP"},{productBarcode:"8436583954539",updateDate:1646335060270,price:2.39,shopId:"ametller",id:"MUEnqn7NerIS5eRHJHWQ"},{price:1.09,updateDate:1646335036086,shopId:"ametller",productBarcode:"8436551865355",id:"R5ZrwiV9EdORPR1pnYDw"},{productBarcode:"8410564002204",updateDate:1646250727985,shopId:"condis",price:1.25,id:"sGDZF3Cnugc5Ro6Pw65K"},{price:2.29,shopId:"condis",updateDate:1646250687325,productBarcode:"3073780902366",id:"8xHO6r91l7BPlGyAayHg"},{shopId:"condis",updateDate:1646250627653,productBarcode:"8431707094290",price:2.29,id:"dLgz0PQFavdQBlKnDCdc"},{updateDate:1646144325823,shopId:"bonpreu",price:.79,productBarcode:"8422410473878",id:"AJKNCmv7YodmSN0t09mA"},{updateDate:1646144272786,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"D8SovbXNYCBmJZzAWg95"},{updateDate:1646079281946,price:1.99,shopId:"ametller",productBarcode:"8435037550631",id:"NeCGh1CJkiAvpnDvCUaV"},{productBarcode:"8436583952054",updateDate:1646079230642,price:1.29,shopId:"ametller",id:"5Uw7MzY4gW8fyVxY7nx3"},{updateDate:1646079202513,price:3.89,shopId:"ametller",productBarcode:"8436551862880",id:"NiS5Ri3zzHprvJvztfvo"},{shopId:"ametller",updateDate:1646079180090,price:5.79,productBarcode:"8436554529629",id:"oJoPVLp0DYzeYV7oelyJ"},{updateDate:1646079152860,price:2.39,productBarcode:"8436583954539",shopId:"ametller",id:"8S0S2UwSmRyGollhLIlU"},{price:2.19,updateDate:1646071049954,shopId:"condis",productBarcode:"3269612045008",id:"jjyhx2Npd9EBzl004WVS"},{updateDate:1646071015575,shopId:"condis",price:2.59,productBarcode:"7613036569927",id:"rQmuOb4RPbsYEf7fPrKH"},{shopId:"condis",productBarcode:"8410022115255",updateDate:1645888125951,price:2.19,id:"uMJ8snfK4blFOT3NizDn"},{price:6.25,updateDate:1645888080319,productBarcode:"8410179012018",shopId:"condis",id:"tThN9M4JCgVMCXtBsSN2"},{price:1.52,updateDate:1645888034122,productBarcode:"8411002105006",shopId:"condis",id:"yUOJJXCWCZuC6y9N70tC"},{price:3.5,updateDate:1645887883610,productBarcode:"5054563101648",shopId:"condis",id:"N5O1c9DD8LqXekDWIdDM"},{updateDate:1645886201039,price:1.49,shopId:"condis",productBarcode:"8717700002402",id:"eZeckwHzsLrdGupK9GOx"},{shopId:"condis",productBarcode:"8431707094290",price:2.29,updateDate:1645886117451,id:"OiKkGlIYyWyDyjeJ0wv6"},{productBarcode:"8015100563067",price:1.91,updateDate:1645869460823,shopId:"carrefour",id:"Ca6otMJupmWkFeqXQvbw"},{price:3.15,productBarcode:"3560071152413",shopId:"carrefour",updateDate:1645869433791,id:"jVvPjWqRw03tKYJs7tWI"},{shopId:"carrefour",productBarcode:"5050083560262",price:3.39,updateDate:1645869280046,id:"Q1cwNx43wDQRaeri0wDj"},{shopId:"carrefour",productBarcode:"8006540576588",updateDate:1645869134793,price:2.95,id:"T7h77o0K3xaHLoLXBFSv"},{productBarcode:"5029053010052",shopId:"carrefour",updateDate:1645869027911,price:1.89,id:"f9yJjH9FTqqopOmHPdKd"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616",id:"zWtGO6dGSiUvV6hIdWow"},{productBarcode:"8436551864709",updateDate:1645798155513,shopId:"ametller",price:4.99,id:"ZkcjUtBIwLRJHUu5Vm5U"},{productBarcode:"8437011969217",price:1.79,updateDate:1645798113906,shopId:"ametller",id:"Unw54WfNBTofW6nIfUcn"},{shopId:"ametller",updateDate:1645798090805,productBarcode:"8436583955093",price:3.15,id:"LVIuWjHSMRf45MPYnJFn"},{price:1.99,productBarcode:"8436540566942",updateDate:1645653239642,shopId:"ametller",id:"Mpi3bszGgRU65dg4bBKc"},{price:1.09,updateDate:1645653185581,productBarcode:"8436551865355",shopId:"ametller",id:"L4EXzvLM8A7e8kG4FtRs"},{productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871,price:2.39,id:"knPLI6xxs0IDCaHKSyGB"},{price:1.99,shopId:"bonpreu",updateDate:1645552083100,productBarcode:"4008400203829",id:"QM5GgtVIUy51vbcMbIf9"},{productBarcode:"5410126716016",shopId:"bonpreu",price:1.69,updateDate:1645552048570,id:"jfnAmQnjB4zl3SunI0Sd"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1645552013320,id:"jKVkWotGzrKjxmvRwLNR"},{shopId:"bonpreu",productBarcode:"8414516070167",updateDate:1645551958078,price:1.45,id:"W2TFB9h710ZvxZT8a2ck"},{updateDate:1645551919468,shopId:"bonpreu",price:1.43,productBarcode:"8413100612639",id:"t85CQn37ZTGkZDg2g7ye"},{shopId:"bonpreu",price:1.99,productBarcode:"8422410387915",updateDate:1645551879354,id:"DWMRG0P9BqBVBhR4shsT"},{productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,updateDate:1645551832691,id:"ddM9TFLaPa7mQ1K0fKnd"},{shopId:"bonpreu",productBarcode:"3045206312257",price:2.15,updateDate:1645452864525,id:"LkOF7yaDBwQ9I3SA85NF"},{price:.99,productBarcode:"7613035268388",updateDate:1645452256976,shopId:"bonpreu",id:"2MyEe35UgvDXVfpE5jww"},{productBarcode:"8422410040872",updateDate:1645452194587,price:3.15,shopId:"bonpreu",id:"WlW5WEMc2j86uzxwjd2o"}];var Xn=P(1343),er=P(4120);let Kr=(()=>{class n{constructor(t,o,d,g){this.productService=t,this.shopService=o,this.firestoreService=d,this.loginService=g,this.shopsProducts=new Ir.x,this._shopsProducts=[],this.shopsProducts.subscribe(C=>{this._shopsProducts=C})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),xr.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,pr.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=jn),this.shopsProducts.next(t)})):(0,dn.of)(jn).pipe((0,pr.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=jn),this.shopsProducts.next(t)}))}addShopProduct(t){return t.id||(t.id=Vt()),t.createdBy||(t.createdBy=this.loginService.getLoggedUser()),xr.q.cloudMode?this.firestoreService.addShopProduct(t).pipe((0,pr.b)(()=>{this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts),(0,dn.of)(!0))}removeShopProduct(t){return console.log("ShopProductService.removeShopProduct()",t),xr.q.cloudMode?this.firestoreService.deleteShopProduct(t).pipe((0,pr.b)(()=>{this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==t.productBarcode||o.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==t.productBarcode||o.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts),(0,dn.of)(!0))}removeShopShopProducts(t){console.log("ShopProductService.removeShopShopProducts()",t);const o=[],d=[];return this._shopsProducts.forEach(g=>{g.shopId===t?o.push(g):d.push(g)}),xr.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,pr.b)(()=>{this._shopsProducts=d,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=d,this.shopsProducts.next(this._shopsProducts),(0,dn.of)(!0))}removeProductShopProducts(t){console.log("ShopProductService.removeProductShopProducts()",t);const o=[],d=[];return this._shopsProducts.forEach(g=>{g.productBarcode===t?o.push(g):d.push(g)}),xr.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,pr.b)(()=>{this._shopsProducts=d,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=d,this.shopsProducts.next(this._shopsProducts),(0,dn.of)(!0))}getShopProductHistory(t){return this._shopsProducts.filter(o=>o.productBarcode===t.productBarcode&&o.shopId===t.shopId).sort((o,d)=>o.updateDate>d.updateDate?1:-1)}getShopProduct(t,o){const d=this._shopsProducts.filter(g=>g.productBarcode===o&&g.shopId===t).sort((g,C)=>g.updateDate<C.updateDate?1:-1);return(0,dn.of)(d.length>0?d[0]:void 0)}getShopProducts(t){const o=this._shopsProducts.filter(d=>d.shopId===t).map(d=>d.productBarcode);return(0,dn.of)(this.productService._products.filter(d=>o.indexOf(d.barcode)>-1))}getProductShops(t){const o=this._shopsProducts.filter(d=>d.productBarcode===t).map(d=>d.shopId);return(0,dn.of)(this.shopService._shops.filter(d=>o.indexOf(d.id)>-1))}getShopShopProducts(t){return(0,dn.of)(this._shopsProducts.filter(o=>o.shopId===t))}getProductShopProducts(t){return(0,dn.of)(this._shopsProducts.filter(o=>o.productBarcode===t))}getShopProductLast(t,o){const d=this._shopsProducts.filter(g=>g.shopId===t&&g.productBarcode===o).sort((g,C)=>g.updateDate<C.updateDate?1:-1);return d.length>0?d[0]:void 0}getProductCheaperShop(t){const o=[];if(!t)return[];if(this._shopsProducts.filter(C=>C.productBarcode===t.barcode).forEach(C=>{o.indexOf(C.shopId)<0&&o.push(C.shopId)}),0===o.length)return;let d=[...o.map(C=>this.getShopProductLast(C,t.barcode)).sort((C,A)=>C.price>A.price?1:-1)];const g=d[0].price;return d=d.filter(C=>C.price===g),d.map(C=>this.shopService._shops.find(A=>A.id===C.shopId))}getProductLowestPrice(t){const o=[];if(!t||(this._shopsProducts.filter(C=>C.productBarcode===t.barcode).forEach(C=>{o.indexOf(C.shopId)<0&&o.push(C.shopId)}),0===o.length))return;let d=[...o.map(C=>this.getShopProductLast(C,t.barcode)).sort((C,A)=>C.price<A.price?1:-1)];return d[0].price<=d[d.length-1].price?d[0].price:d[d.length-1].price}getProductHighestPrice(t){const o=[];if(!t||(this._shopsProducts.filter(C=>C.productBarcode===t.barcode).forEach(C=>{o.indexOf(C.shopId)<0&&o.push(C.shopId)}),0===o.length))return;let d=o.map(C=>this.getShopProductLast(C,t.barcode)).sort((C,A)=>C.price<A.price?1:-1);return d[0].price>=d[d.length-1].price?d[0].price:d[d.length-1].price}getProductPriceRange(t,o){const d=[];this._shopsProducts.filter(C=>C.productBarcode===t.barcode).forEach(C=>{d.indexOf(C.shopId)<0&&d.push(C.shopId)});const g=d.map(C=>this.getShopProductLast(C,t.barcode).price);return g.sort((C,A)=>C<A?1:-1),{max:g[0],min:g[g.length-1]}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Io.M),e.LFG(Ao.d),e.LFG(Xn.C),e.LFG(er.r))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ys=(()=>{class n{constructor(t,o){this.productService=t,this.shopProductService=o,this.cart=new Ir.x,this.cartConfig=new Ir.x,this.cart.subscribe(d=>{var g;d&&(null===(g=d.productsBarcodesUnits)||void 0===g?void 0:g.length)>0?(this._cart=d,localStorage.setItem(Oi.M.PS_SHOPPING_CART,JSON.stringify(d))):(this._cart=void 0,localStorage.removeItem(Oi.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(Oi.M.PS_SHOPPING_CART);if(t){const o=JSON.parse(t);this.cart.next(o)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var o,d;(null===(d=null===(o=this._cart)||void 0===o?void 0:o.productsBarcodesUnits)||void 0===d?void 0:d.length)>0&&this._cart.productsBarcodesUnits.forEach(g=>{const C=t.find(F=>F.barcode===g.barcode);C||console.error("Undefined product");const A=this.shopProductService.getProductCheaperShop(C);if(A){const F=this.shopProductService.getProductLowestPrice(C),te=this.shopProductService.getProductHighestPrice(C);A.forEach(Me=>{const rt=this._cartConfig.items.find(Tt=>{var Ut;return(null===(Ut=Tt.shop)||void 0===Ut?void 0:Ut.id)===(null==Me?void 0:Me.id)}),yt={product:C,units:g.units,minPrice:F,maxPrice:te,checked:g.checked};rt?rt.productsUnits.push(yt):this._cartConfig.items.push({shop:Me,productsUnits:[yt]})})}else{const F=this._cartConfig.items.find(te=>!te.shop);F?F.productsUnits.push({product:C,units:g.units,checked:g.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:C,units:g.units,checked:g.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,o){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(d=>d.barcode===t.barcode).units=o,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(t){this._cart.productsBarcodesUnits.find(o=>o.barcode===t.product.barcode).checked=!t.checked,this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(o=>o.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Oi.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let o=this._cart;if(o){const d=o.productsBarcodesUnits.find(g=>g.barcode===t.barcode);d?d.units++:o.productsBarcodesUnits.push({barcode:t.barcode,units:1,checked:!1})}else o={productsBarcodesUnits:[{barcode:t.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};o.updateDate=(new Date).getTime(),this.cart.next(o)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Io.M),e.LFG(Kr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Fs=P(5032);function Ai(n){return(0,Fo.e)((i,t)=>{(0,dt.Xf)(n).subscribe((0,yn.x)(t,()=>t.complete(),Fs.Z)),!t.closed&&i.subscribe(t)})}class ih{}const Ks="*";function fu(n,i){return{type:7,name:n,definitions:i,options:{}}}function Sl(n,i=null){return{type:4,styles:i,timings:n}}function Ef(n,i=null){return{type:2,steps:n,options:i}}function qc(n){return{type:6,styles:n,offset:null}}function oh(n,i,t){return{type:0,name:n,styles:i,options:t}}function ad(n,i,t=null){return{type:1,expr:n,animation:i,options:t}}function Df(n){Promise.resolve(null).then(n)}class pu{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Df(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class Sf{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,o=0,d=0;const g=this.players.length;0==g?Df(()=>this._onFinish()):this.players.forEach(C=>{C.onDone(()=>{++t==g&&this._onFinish()}),C.onDestroy(()=>{++o==g&&this._onDestroy()}),C.onStart(()=>{++d==g&&this._onStart()})}),this.totalTime=this.players.reduce((C,A)=>Math.max(C,A.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(o=>{const d=o.totalTime?Math.min(1,t/o.totalTime):1;o.setPosition(d)})}getPosition(){const i=this.players.reduce((t,o)=>null===t||o.totalTime>t.totalTime?o:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}const uy=["overlay"];function __(n,i){1&n&&e._UZ(0,"div")}function dy(n,i){if(1&n&&(e.TgZ(0,"div"),e.YNc(1,__,1,0,"div",6),e.qZA()),2&n){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function v_(n,i){if(1&n&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&n){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function hy(n,i){if(1&n&&(e.TgZ(0,"div",1,2),e.YNc(2,dy,2,5,"div",3),e.YNc(3,v_,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&n){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const y_=["*"],fy={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},wp="primary";class wi{constructor(i){Object.assign(this,i)}static create(i){return(null==(null==i?void 0:i.type)||0===i.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new wi(i)}}let gc=(()=>{class n{constructor(){this.spinnerObservable=new oo(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,hi.h)(o=>o&&o.name===t))}show(t=wp,o){return new Promise((d,g)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=t,this.spinnerObservable.next(new wi(Object.assign(Object.assign({},o),{show:!0}))),d(!0)):(this.spinnerObservable.next(new wi({name:t,show:!0})),d(!0))},10)})}hide(t=wp,o=10){return new Promise((d,g)=>{setTimeout(()=>{this.spinnerObservable.next(new wi({name:t,show:!1})),d(!0)},o)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),k0=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ce,16))},n.\u0275pipe=e.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),C_=(()=>{class n{constructor(t,o,d){this.spinnerService=t,this.changeDetector=o,this.elementRef=d,this.disableAnimation=!1,this.spinner=new wi,this.ngUnsubscribe=new Ir.x,this.setDefaultOptions=()=>{this.spinner=wi.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=wp,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Ai(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const o in t)if(o){const d=t[o];if(d.isFirstChange())return;void 0!==d.currentValue&&d.currentValue!==d.previousValue&&""!==d.currentValue&&(this.spinner[o]=d.currentValue,"showSpinner"===o&&(d.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===o&&this.initObservable())}}getClass(t,o){this.spinner.divCount=fy[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((g,C)=>C);let d="";switch(o.toLowerCase()){case"small":d="la-sm";break;case"medium":d="la-2x";break;case"large":d="la-3x"}return"la-"+t+" "+d}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(gc),e.Y36(e.sBO),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,o){if(1&t&&e.Gf(uy,5),2&t){let d;e.iGM(d=e.CRH())&&(o.spinnerDOM=d.first)}},hostBindings:function(t,o){1&t&&e.NdJ("keydown",function(g){return o.handleKeyboardEvent(g)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:y_,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,o){1&t&&(e.F$t(),e.YNc(0,hy,6,12,"div",0)),2&t&&e.Q6J("ngIf",o.spinner.show)},directives:[p.O5,p.sg],pipes:[k0],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[fu("fadeIn",[oh("in",qc({opacity:1})),ad(":enter",[qc({opacity:0}),Sl(300)]),ad(":leave",Sl(200,qc({opacity:0})))])]},changeDetection:0}),n})(),Ug=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})();function gu(n){return!!n&&(n instanceof Hn.y||(0,ps.m)(n.lift)&&(0,ps.m)(n.subscribe))}var jg=P(6063);class Vg extends Ir.x{constructor(i=1/0,t=1/0,o=jg.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:o,_infiniteTimeWindow:d,_timestampProvider:g,_windowTime:C}=this;t||(o.push(i),!d&&o.push(g.now()+C)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:o,_buffer:d}=this,g=d.slice();for(let C=0;C<g.length&&!i.closed;C+=o?1:2)i.next(g[C]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:o,_infiniteTimeWindow:d}=this,g=(d?1:2)*i;if(i<1/0&&g<o.length&&o.splice(0,o.length-g),!d){const C=t.now();let A=0;for(let F=1;F<o.length&&o[F]<=C;F+=2)A=F;A&&o.splice(0,A+1)}}}var xl=P(3099);function ah(n,i,t){let o,d=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:i=1/0,refCount:d=!1,scheduler:t}=n):o=null!=n?n:1/0,(0,xl.B)({connector:()=>new Vg(o,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:d})}class ch{}let cd=(()=>{class n extends ch{getTranslation(t){return(0,dn.of)({})}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class ld{}let lh=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();function uh(n,i){if(n===i)return!0;if(null===n||null===i)return!1;if(n!=n&&i!=i)return!0;let d,g,C,t=typeof n;if(t==typeof i&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(i))return!1;for(g in C=Object.create(null),n){if(!uh(n[g],i[g]))return!1;C[g]=!0}for(g in i)if(!(g in C)&&void 0!==i[g])return!1;return!0}if(!Array.isArray(i))return!1;if((d=n.length)==i.length){for(g=0;g<d;g++)if(!uh(n[g],i[g]))return!1;return!0}}return!1}function Zc(n){return null!=n}function Al(n){return n&&"object"==typeof n&&!Array.isArray(n)}function mu(n,i){let t=Object.assign({},n);return Al(n)&&Al(i)&&Object.keys(i).forEach(o=>{Al(i[o])?o in n?t[o]=mu(n[o],i[o]):Object.assign(t,{[o]:i[o]}):Object.assign(t,{[o]:i[o]})}),t}class dh{}let _u=(()=>{class n extends dh{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,o){let d;return d="string"==typeof t?this.interpolateString(t,o):"function"==typeof t?this.interpolateFunction(t,o):t,d}getValue(t,o){let d="string"==typeof o?o.split("."):[o];o="";do{o+=d.shift(),!Zc(t)||!Zc(t[o])||"object"!=typeof t[o]&&d.length?d.length?o+=".":t=void 0:(t=t[o],o="")}while(d.length);return t}interpolateFunction(t,o){return t(o)}interpolateString(t,o){return o?t.replace(this.templateMatcher,(d,g)=>{let C=this.getValue(o,g);return Zc(C)?C:d}):t}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class vu{}let ud=(()=>{class n extends vu{compile(t,o){return t}compileTranslations(t,o){return t}}return n.\u0275fac=function(){let i;return function(o){return(i||(i=e.n5z(n)))(o||n)}}(),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class w_{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const xf=new e.OlP("USE_STORE"),dd=new e.OlP("USE_DEFAULT_LANG"),Il=new e.OlP("DEFAULT_LANGUAGE"),hd=new e.OlP("USE_EXTEND");let Bs=(()=>{class n{constructor(t,o,d,g,C,A=!0,F=!1,te=!1,Me){this.store=t,this.currentLoader=o,this.compiler=d,this.parser=g,this.missingTranslationHandler=C,this.useDefaultLang=A,this.isolate=F,this.extend=te,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},Me&&this.setDefaultLang(Me)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let o=this.retrieveTranslations(t);void 0!==o?(null==this.defaultLang&&(this.defaultLang=t),o.pipe((0,Fi.q)(1)).subscribe(d=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,dn.of)(this.translations[t]);let o=this.retrieveTranslations(t);return void 0!==o?(this.currentLang||(this.currentLang=t),o.pipe((0,Fi.q)(1)).subscribe(d=>{this.changeLang(t)}),o):(this.changeLang(t),(0,dn.of)(this.translations[t]))}retrieveTranslations(t){let o;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),o=this._translationRequests[t]),o}getTranslation(t){this.pending=!0;const o=this.currentLoader.getTranslation(t).pipe(ah(1),(0,Fi.q)(1));return this.loadingTranslations=o.pipe((0,on.U)(d=>this.compiler.compileTranslations(d,t)),ah(1),(0,Fi.q)(1)),this.loadingTranslations.subscribe({next:d=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},d),this.translations[t]):d,this.updateLangs(),this.pending=!1},error:d=>{this.pending=!1}}),o}setTranslation(t,o,d=!1){o=this.compiler.compileTranslations(o,t),this.translations[t]=(d||this.extend)&&this.translations[t]?mu(this.translations[t],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(o=>{-1===this.langs.indexOf(o)&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,o,d){let g;if(o instanceof Array){let C={},A=!1;for(let F of o)C[F]=this.getParsedResult(t,F,d),gu(C[F])&&(A=!0);return A?en(o.map(te=>gu(C[te])?C[te]:(0,dn.of)(C[te]))).pipe((0,on.U)(te=>{let Me={};return te.forEach((rt,yt)=>{Me[o[yt]]=rt}),Me})):C}if(t&&(g=this.parser.interpolate(this.parser.getValue(t,o),d)),void 0===g&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(g=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],o),d)),void 0===g){let C={key:o,translateService:this};void 0!==d&&(C.interpolateParams=d),g=this.missingTranslationHandler.handle(C)}return void 0!==g?g:o}get(t,o){if(!Zc(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Gi.b)(d=>gu(d=this.getParsedResult(d,t,o))?d:(0,dn.of)(d)));{let d=this.getParsedResult(this.translations[this.currentLang],t,o);return gu(d)?d:(0,dn.of)(d)}}getStreamOnTranslationChange(t,o){if(!Zc(t)||!t.length)throw new Error('Parameter "key" required');return Ns(Bu(()=>this.get(t,o)),this.onTranslationChange.pipe(Ci(d=>{const g=this.getParsedResult(d.translations,t,o);return"function"==typeof g.subscribe?g:(0,dn.of)(g)})))}stream(t,o){if(!Zc(t)||!t.length)throw new Error('Parameter "key" required');return Ns(Bu(()=>this.get(t,o)),this.onLangChange.pipe(Ci(d=>{const g=this.getParsedResult(d.translations,t,o);return gu(g)?g:(0,dn.of)(g)})))}instant(t,o){if(!Zc(t)||!t.length)throw new Error('Parameter "key" required');let d=this.getParsedResult(this.translations[this.currentLang],t,o);if(gu(d)){if(t instanceof Array){let g={};return t.forEach((C,A)=>{g[t[A]]=t[A]}),g}return t}return d}set(t,o,d=this.currentLang){this.translations[d][t]=this.compiler.compile(o,d),this.updateLangs(),this.onTranslationChange.emit({lang:d,translations:this.translations[d]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(w_),e.LFG(ch),e.LFG(vu),e.LFG(dh),e.LFG(ld),e.LFG(dd),e.LFG(xf),e.LFG(hd),e.LFG(Il))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),bs=(()=>{class n{constructor(t,o){this.translate=t,this._ref=o,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,o,d){let g=C=>{this.value=void 0!==C?C:t,this.lastKey=t,this._ref.markForCheck()};if(d){let C=this.translate.getParsedResult(d,t,o);gu(C.subscribe)?C.subscribe(g):g(C)}this.translate.get(t,o).subscribe(g)}transform(t,...o){if(!t||!t.length)return t;if(uh(t,this.lastKey)&&uh(o,this.lastParams))return this.value;let d;if(Zc(o[0])&&o.length)if("string"==typeof o[0]&&o[0].length){let g=o[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{d=JSON.parse(g)}catch(C){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else"object"==typeof o[0]&&!Array.isArray(o[0])&&(d=o[0]);return this.lastKey=t,this.lastParams=o,this.updateValue(t,d),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(g=>{this.lastKey&&g.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,d,g.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(g=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,d,g.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,d))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Bs,16),e.Y36(e.sBO,16))},n.\u0275pipe=e.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),T_=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:ch,useClass:cd},t.compiler||{provide:vu,useClass:ud},t.parser||{provide:dh,useClass:_u},t.missingTranslationHandler||{provide:ld,useClass:lh},w_,{provide:xf,useValue:t.isolate},{provide:dd,useValue:t.useDefaultLang},{provide:hd,useValue:t.extend},{provide:Il,useValue:t.defaultLanguage},Bs]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:ch,useClass:cd},t.compiler||{provide:vu,useClass:ud},t.parser||{provide:dh,useClass:_u},t.missingTranslationHandler||{provide:ld,useClass:lh},{provide:xf,useValue:t.isolate},{provide:dd,useValue:t.useDefaultLang},{provide:hd,useValue:t.extend},{provide:Il,useValue:t.defaultLanguage},Bs]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();const py={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest e-mail",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui a la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i l'aplicaci\xf3 et dir\xe0 on comprar cada producte."},step5:{title:"Coopera i comparteix",text:"Les dades que introdueixis serviran als altres usuaris i les dels altres usuaris et serviran a tu."},step6:{title:"Estigues informat",text:"Reb alertes dels canvis de preu dels productes que tinguis com a favorits."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra",alerts:"Alertes"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escaneja"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades",characteristics:"Caracter\xedstiques",category:"Categoria",allergens:"Al\xb7l\xe8rgens",nutrientLevels:"Nivells nutrients",nutrients:{fat:"Greixos",salt:"Sal",saturedFat:"Greixos saturats",sugars:"Sucres"},nutriscore:{a:"Molt saludable",b:"Saludable",c:"Acceptable",d:"Poc saludable",e:"No saludable"},nova:{nova1:"Aliments naturals o m\xednimament processats",nova2:"Ingredients culinaris processats",nova3:"Aliments processats",nova4:"Aliments ultraprocessats"},ecoscore:{ecoscoreA:"Impacte ambiental molt baix",ecoscoreB:"Impacte ambiental baix",ecoscoreC:"Impacte ambiental moderat",ecoscoreD:"Impacte ambiental alt",ecoscoreE:"Impacte ambiental molt alt",ecoscoreUNKNOWN:"Impacte ambiental desconegut",ecoscoreNOTAPPLICABLE:"Impacte ambiental desconegut o no es pot calcular"}},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant l'esc\xe0ner",initError:"Hi ha hagut un error inicialitzant el l'esc\xe0ner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'escaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Esc\xe0ner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per a la botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},alerts:{unreadInfoText:"Tens alertes sense llegir. Pots marcar-les com a llegides fent clic a la que desitgis."},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"},alert:"Alerta",alerts:"Alertes",copiedToClipboard:"S'ha copiat al porta-retalls",levels:{high:"Alt",moderate:"Moderat",low:"Baix"}}},E_={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."},step5:{title:"Cooperate and share",text:"The data you enter will be used by other users and the data of other users will be useful to you."},step6:{title:"Be informed",text:"Get alert to changes in the price of your favorite products."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart",alerts:"Alerts"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data",characteristics:"Characteristics",category:"Category",allergens:"Allergens",nutrientLevels:"Nutrient levels",nutrients:{fat:"Fat",salt:"Salt",saturedFat:"Satured fat",sugars:"Sugars"},nutriscore:{a:"Very healthy",b:"Healthy",c:"Acceptable",d:"Unhealthy",e:"Not healthy"},nova:{nova1:"Natural or minimally processed foods",nova2:"Processed culinary ingredients",nova3:"Processed foods",nova4:"Ultra-processed foods"},ecoscore:{ecoscoreA:"Very low environmental impact",ecoscoreB:"Low environmental impact",ecoscoreC:"Moderate environmental impact",ecoscoreD:"High environmental impact",ecoscoreE:"Very high environmental impact",ecoscoreUNKNOWN:"Unknown environmental impact",ecoscoreNOTAPPLICABLE:"Environmental impact unknown or cannot be calculated"}},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},alerts:{unreadInfoText:"You have unread alerts. You can mark them as read by clicking on the one you want."},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"},alert:"Alert",alerts:"Alerts",copiedToClipboard:"Copied to clipboard",levels:{high:"High",moderate:"Moderate",low:"Low"}}},hh={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."},step5:{title:"Coopera y comparte",text:"Los datos que introduzcas servir\xe1n a los dem\xe1s usuarios y los de los dem\xe1s usuarios te servir\xe1n a ti."},step6:{title:"Mantente informado",text:"Recibe alertas de los cambios de precio de los productos que tengas como favoritos."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra",alerts:"Alertas"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos",characteristics:"Caracter\xedsticas",category:"Categor\xeda",allergens:"Al\xe9rgenos",nutrientLevels:"Niveles nutrientes",nutrients:{fat:"Grasas",salt:"Sal",saturedFat:"Grasas saturadas",sugars:"Az\xfacares"},nutriscore:{a:"Muy saludable",b:"Saludable",c:"Aceptable",d:"Poco saludable",e:"No saludable"},nova:{nova1:"Alimentos naturales o m\xednimamente procesados",nova2:"Ingredientes culinarios procesados",nova3:"Alimentos procesados",nova4:"Alimentos ultraprocesados"},ecoscore:{ecoscoreA:"Impacto ambiental muy bajo",ecoscoreB:"Impacto ambiental bajo",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Impacto ambiental alto",ecoscoreE:"Impacto ambiental muy alto",ecoscoreUNKNOWN:"Impacto ambiental desconocido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconocido o no puede calcularse"}},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},alerts:{unreadInfoText:"Tienes alertas sin leer. Puedes marcarlas como le\xeddas haciendo clic en la que desees."},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Se ha copiado al portapapeles",levels:{high:"Alto",moderate:"Moderado",low:"Bajo"}}},Hg={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."},step5:{title:"Cooperar e compartilhar",text:"Os dados que voc\xea inserir ser\xe3o usados \u200b\u200bpor outros usu\xe1rios e os dados de outros usu\xe1rios ser\xe3o \xfateis para voc\xea."},step6:{title:"Ser informado",text:"Fique alerta para mudan\xe7as no pre\xe7o de seus produtos favoritos."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras",alerts:"Alertas"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados",characteristics:"Caracter\xedsticas",category:"Categoria",allergens:"Al\xe9rgenos",nutrientLevels:"N\xedveis de nutrientes",nutrients:{fat:"Gordura",salt:"Sal",saturedFat:"Gordura saturada",sugars:"A\xe7\xfacares"},nutriscore:{a:"Muito saud\xe1vel",b:"Saud\xe1vel",c:"Aceit\xe1vel",d:"Pouco saud\xe1vel",e:"N\xe3o saud\xe1vel"},nova:{nova1:"Alimentos naturais ou minimamente processados",nova2:"Ingredientes culin\xe1rios processados",nova3:"Alimentos processados",nova4:"Alimentos ultraprocessados"},ecoscore:{ecoscoreA:"Impacto ambiental muito baixo",ecoscoreB:"Baixo impacto ambiental",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Alto impacto ambiental",ecoscoreE:"Impacto ambiental muito alto",ecoscoreUNKNOWN:"Impacto ambiental desconhecido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconhecido ou n\xe3o pode ser calculado"}},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},alerts:{unreadInfoText:"Voc\xea tem alertas n\xe3o lidos. Voc\xea pode marc\xe1-los como lidos clicando no que deseja."},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Copiado para a \xe1rea de transfer\xeancia",levels:{high:"Alto",moderate:"Moderado",low:"Baixo"}}},fd={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."},step5:{title:"Coop\xe9rer et partager",text:"Les donn\xe9es que vous saisissez seront utilis\xe9es par d'autres utilisateurs et les donn\xe9es d'autres utilisateurs vous seront utiles."},step6:{title:"\xcatre inform\xe9",text:"Soyez alert\xe9 des changements de prix de vos produits pr\xe9f\xe9r\xe9s."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier",alerts:"Alertes"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es",characteristics:"caract\xe9ristiques",category:"Cat\xe9gorie",allergens:"Allerg\xe8nes",nutrientLevels:"Niveaux de nutriments",nutrients:{fat:"Graisse",salt:"Sel",saturedFat:"Gras satur\xe9",sugars:"Sucres"},nutriscore:{a:"En tr\xe8s bonne sant\xe9",b:"En bonne sant\xe9",c:"Acceptable",d:"Mauvais pour la sant\xe9",e:"Pas bon pour la sant\xe9"},nova:{nova1:"Aliments naturels ou peu transform\xe9s",nova2:"Ingr\xe9dients culinaires transform\xe9s",nova3:"Aliments transform\xe9s",nova4:"Aliments ultra-transform\xe9s"},ecoscore:{ecoscoreA:"Tr\xe8s faible impact environnemental",ecoscoreB:"Faible impact environnemental",ecoscoreC:"Impact environnemental mod\xe9r\xe9",ecoscoreD:"Impact environnemental \xe9lev\xe9",ecoscoreE:"Impact environnemental tr\xe8s \xe9lev\xe9",ecoscoreUNKNOWN:"Impact environnemental inconnu",ecoscoreNOTAPPLICABLE:"Impact environnemental inconnu ou non calculable"}},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},alerts:{unreadInfoText:"Vous avez des alertes non lues. Vous pouvez les marquer comme lus en cliquant sur celui que vous voulez."},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"},alert:"Alerte",alerts:"Alertes",copiedToClipboard:"Copi\xe9 dans le presse-papier",levels:{high:"Haut",moderate:"Mod\xe9r\xe9",low:"Bas"}}};let Tp=(()=>{class n{constructor(t){this.translate=t,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:py,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:hh,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:E_,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Hg,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:fd,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,dn.of)(!0)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Bs))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var pd=P(655),Cs=P(127),qg=P(6451),Af=P(5363);function Zg(n,i){return(0,ps.m)(i)?Ci(()=>n,i):Ci(()=>n)}var Ep=P(9468),zc=P(5813),gd=P(2011),L0=P(7128);const D_=new e.OlP("angularfire2.auth.use-emulator"),zg=new e.OlP("angularfire2.auth.settings"),F0=new e.OlP("angularfire2.auth.tenant-id"),Wg=new e.OlP("angularfire2.auth.langugage-code"),Pf=new e.OlP("angularfire2.auth.use-device-language"),$g=new e.OlP("angularfire.auth.persistence");let md=(()=>{class n{constructor(t,o,d,g,C,A,F,te,Me,rt,yt,Tt){const Ut=new Ir.x,Lt=(0,dn.of)(void 0).pipe((0,Af.Q)(C.outsideAngular),Ci(()=>g.runOutsideAngular(()=>P.e(887).then(P.bind(P,5887)))),(0,on.U)(()=>(0,gd.on)(t,g,o)),(0,on.U)(On=>((n,i,t,o,d,g,C,A)=>(0,gd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const F=i.runOutsideAngular(()=>n.auth());if(t&&F.useEmulator(...t),o&&(F.tenantId=o),F.languageCode=d,g&&F.useDeviceLanguage(),C)for(const[te,Me]of Object.entries(C))F.settings[te]=Me;return A&&F.setPersistence(A),F},[t,o,d,g,C,A]))(On,g,A,te,Me,rt,F,yt)),ah({bufferSize:1,refCount:!1}));if((0,p.PM)(d))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,dn.of)(null);else{Lt.pipe(Rs()).subscribe();const or=Lt.pipe(Ci(zn=>zn.getRedirectResult().then(Or=>Or,()=>null)),zc.iC,ah({bufferSize:1,refCount:!1})),Jn=Lt.pipe(Ci(zn=>new Hn.y(Or=>({unsubscribe:g.runOutsideAngular(()=>zn.onAuthStateChanged(Dr=>Or.next(Dr),Dr=>Or.error(Dr),()=>Or.complete()))})))),Pr=Lt.pipe(Ci(zn=>new Hn.y(Or=>({unsubscribe:g.runOutsideAngular(()=>zn.onIdTokenChanged(Dr=>Or.next(Dr),Dr=>Or.error(Dr),()=>Or.complete()))}))));this.authState=or.pipe(Zg(Jn),(0,Ep.R)(C.outsideAngular),(0,Af.Q)(C.insideAngular)),this.user=or.pipe(Zg(Pr),(0,Ep.R)(C.outsideAngular),(0,Af.Q)(C.insideAngular)),this.idToken=this.user.pipe(Ci(zn=>zn?(0,gn.D)(zn.getIdToken()):(0,dn.of)(null))),this.idTokenResult=this.user.pipe(Ci(zn=>zn?(0,gn.D)(zn.getIdTokenResult()):(0,dn.of)(null))),this.credential=(0,qg.T)(or,Ut,this.authState.pipe((0,hi.h)(zn=>!zn))).pipe((0,on.U)(zn=>(null==zn?void 0:zn.user)?zn:null),(0,Ep.R)(C.outsideAngular),(0,Af.Q)(C.insideAngular))}return(0,gd.pX)(this,Lt,g,{spy:{apply:(On,or,Jn)=>{(On.startsWith("signIn")||On.startsWith("createUser"))&&Jn.then(Pr=>Ut.next(Pr))}}})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(gd.Dh),e.LFG(gd.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(zc.HU),e.LFG(D_,8),e.LFG(zg,8),e.LFG(F0,8),e.LFG(Wg,8),e.LFG(Pf,8),e.LFG($g,8),e.LFG(L0.nm,8))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),Dp=(()=>{class n{constructor(t){this.afauth=t}login(t,o){return(0,pd.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(t,o)}catch(d){return console.log("Login error",d),null}})}loginWithGoogle(t,o){return(0,pd.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new Cs.Z.auth.GoogleAuthProvider)}catch(d){return console.log("Logi with Google error",d),null}})}register(t,o){return(0,pd.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(t,o)}catch(d){return console.log("Register error",d),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(md))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Of=(()=>{class n{constructor(t,o){this.shopProductService=t,this.productService=o,this.userAlerts=new Ir.x,this._userAlerts=this.loadUnreadAlerts(),this.calculateAlerts(!0)}loadUnreadAlerts(){let t={updateDate:(new Date).getTime(),alerts:[]};const o=localStorage.getItem(Oi.M.PS_USER_ALERTS);if(o){const d=JSON.parse(o);return d.alerts.forEach(g=>{this.productService._products.find(C=>C.barcode===g.productBarcode)||this.removeObsoleteProductAlerts(g.productBarcode,d.alerts)}),d}return t}updateAccessDateAlerts(){this._userAlerts.updateDate=(new Date).getTime(),this.saveAlerts()}saveAlerts(){localStorage.setItem(Oi.M.PS_USER_ALERTS,JSON.stringify(this._userAlerts))}removeObsoleteProductAlerts(t,o){o&&o.length>0&&(o=o.filter(d=>d.productBarcode!==t))}toggleReadAlert(t){t.read=!t.read;const o=localStorage.getItem(Oi.M.PS_USER_ALERTS);if(o){const d=JSON.parse(o),g=d.alerts.find(C=>C.date===t.date&&C.productBarcode===t.productBarcode&&C.shopId===t.shopId&&C.currentPrice===t.currentPrice&&C.lastPrice===t.lastPrice);g.read=!g.read,localStorage.setItem(Oi.M.PS_USER_ALERTS,JSON.stringify(d)),this._userAlerts=this.loadUnreadAlerts(),this.userAlerts.next(this._userAlerts)}}getUnreadAlerts(){return this._userAlerts.alerts.filter(t=>!t.read).length}calculateAlerts(t){console.log("AlertsService.calculateAlerts()");const o=this._userAlerts.updateDate,d=this.productService._products.filter(F=>F.favourite).map(F=>F.barcode),g=this.shopProductService._shopsProducts.filter(F=>!(d.indexOf(F.productBarcode)<0)&&F.updateDate>=o),C=[];g.forEach(F=>{C.find(te=>te.productBarcode===F.productBarcode&&te.shopId===F.shopId)||C.push(F)}),C.map(F=>this.shopProductService.getShopProductHistory(F).filter(te=>te.updateDate>=o)).forEach(F=>{F.length>1&&F[F.length-2].price!==F[F.length-1].price&&(this._userAlerts.alerts.find(Me=>Me.date===F[F.length-1].updateDate&&Me.shopId===F[F.length-1].shopId&&Me.productBarcode===F[F.length-1].productBarcode)||this._userAlerts.alerts.push({currentPrice:F[F.length-1].price,date:F[F.length-1].updateDate,lastPrice:F[F.length-2].price,productBarcode:F[F.length-1].productBarcode,shopId:F[F.length-1].shopId,read:!1}))}),console.log(this._userAlerts),this.userAlerts.next(this._userAlerts),t?this.updateAccessDateAlerts():this.saveAlerts()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Kr),e.LFG(Io.M))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),x_=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"li"),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Botigues: ",e.xi3(4,2,o.shops.length,"1.0-2"),""),e.xp6(3),e.hij("Productes: ",e.xi3(7,5,o.products.length,"1.0-2"),""))},pipes:[p.JJ],styles:[""]}),n})();var mc=P(1144);const Jg=["addListener","removeListener"],Yg=["addEventListener","removeEventListener"],B0=["on","off"];function co(n,i,t,o){if((0,ps.m)(t)&&(o=t,t=void 0),o)return co(n,i,t).pipe($e(o));const[d,g]=function em(n){return(0,ps.m)(n.addEventListener)&&(0,ps.m)(n.removeEventListener)}(n)?Yg.map(C=>A=>n[C](i,A,t)):function Xg(n){return(0,ps.m)(n.addListener)&&(0,ps.m)(n.removeListener)}(n)?Jg.map(Qg(n,i)):function U0(n){return(0,ps.m)(n.on)&&(0,ps.m)(n.off)}(n)?B0.map(Qg(n,i)):[];if(!d&&(0,mc.z)(n))return(0,_o.z)(C=>co(C,i,t))((0,dt.Xf)(n));if(!d)throw new TypeError("Invalid event target");return new Hn.y(C=>{const A=(...F)=>C.next(1<F.length?F:F[0]);return d(A),()=>g(A)})}function Qg(n,i){return t=>o=>n[t](i,o)}var fh=P(4986);function Wc(n,i=fh.z){return(0,Fo.e)((t,o)=>{let d=null,g=null,C=null;const A=()=>{if(d){d.unsubscribe(),d=null;const te=g;g=null,o.next(te)}};function F(){const te=C+n,Me=i.now();if(Me<te)return d=this.schedule(void 0,te-Me),void o.add(d);A()}t.subscribe((0,yn.x)(o,te=>{g=te,C=i.now(),d||(d=i.schedule(F,n),o.add(d))},()=>{A(),o.complete()},void 0,()=>{g=d=null}))})}function Da(n,i=_i.y){return n=null!=n?n:ph,(0,Fo.e)((t,o)=>{let d,g=!0;t.subscribe((0,yn.x)(o,C=>{const A=i(C);(g||!n(d,A))&&(g=!1,d=A,o.next(C))}))})}function ph(n,i){return n===i}var Po=P(2940);const yu=["nameinput"];function Mf(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2).$implicit;return e.oxw().updateShop(d)}),e.qZA()}}function bu(n,i){1&n&&e._UZ(0,"i",16)}function _d(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",11),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().$implicit.name=d}),e.qZA()(),e.TgZ(4,"td")(5,"input",11),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().$implicit.imageUrl=d}),e.qZA()(),e.TgZ(6,"td"),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"td"),e.YNc(9,Mf,1,0,"i",13),e.YNc(10,bu,1,0,"i",14),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:o.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!o.updatingShop||o.updatingShop.id!==t.id),e.xp6(1),e.Q6J("ngIf",o.updatingShop&&o.updatingShop.id===t.id)}}function A_(n,i){if(1&n&&(e.ynx(0),e.YNc(1,_d,11,7,"ng-container",10),e.BQk()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.matchesSearch(t))}}let gh=(()=>{class n{constructor(t,o,d){this.shopService=t,this.spinner=o,this.translateService=d,this.shops=[],this.onShopSortEmitter=new e.vpe,this.searchConfig={name:""},this.sortBy="name",this.sortDir="ASC",this.DEFAULT_IMAGE_URL=Po.T}matchesSearch(t){return t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>=0}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateShop(t){console.log("updateShop()",t),t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=Po.T),this.updatingShop=t,this.spinner.show(),this.shopService.updateShop(t).subscribe(()=>{this.updatingShop=void 0,this.spinner.hide()}))}export(){const t=JSON.stringify(this.shops);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngAfterViewInit(){co(this.nameinput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(500),Da(),(0,pr.b)(t=>{console.log(t),this.searchConfig.name=t.target.value})).subscribe()}checkShopsImages(){this.shops.map(t=>{t.imageUrl=t.imageUrl===Po.T?"":t.imageUrl})}ngOnInit(){this.checkShopsImages()}ngOnChanges(t){this.checkShopsImages()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ao.d),e.Y36(gc),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-shops"]],viewQuery:function(t,o){if(1&t&&e.Gf(yu,5),2&t){let d;e.iGM(d=e.CRH())&&(o.nameinput=d.first)}},inputs:{shops:"shops"},outputs:{onShopSortEmitter:"onShopSortEmitter"},features:[e.TTD],decls:23,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","4"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th"),e._uU(16,"URL imatge"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Imatge"),e.qZA(),e.TgZ(19,"th"),e._UZ(20,"i",8),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,A_,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",o.shops))},directives:[p.sg,p.O5,vr,M,ko],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();const tm=["nameinput"],gy=["brandinput"],nm=["createdbyinput"];function Sp(n,i){if(1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdOn,"dd.MM.yyyy - HH:mm"))}}function xp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){e.CHM(t);const d=e.oxw(2).$implicit;return e.oxw().updateProduct(d)}),e.qZA()}}function Ap(n,i){1&n&&e._UZ(0,"i",18)}function I_(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",13),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().$implicit.name=d}),e.qZA()(),e.TgZ(4,"td")(5,"input",13),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().$implicit.brand=d}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,Sp,3,4,"span",12),e.qZA(),e.TgZ(10,"td")(11,"input",13),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().$implicit.imageUrl=d}),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"img",14),e.qZA(),e.TgZ(14,"td"),e.YNc(15,xp,1,0,"i",15),e.YNc(16,Ap,1,0,"i",16),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.brand)("ngModel",t.brand),e.xp6(2),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.createdOn),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:o.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!o.updatingProduct||o.updatingProduct.id!==t.id),e.xp6(1),e.Q6J("ngIf",o.updatingProduct&&o.updatingProduct.id===t.id)}}function P_(n,i){if(1&n&&(e.ynx(0),e.YNc(1,I_,17,11,"ng-container",12),e.BQk()),2&n){const t=i.$implicit,o=e.oxw();e.xp6(1),e.Q6J("ngIf",o.matchesSearch(t))}}let _c=(()=>{class n{constructor(t,o,d){this.productService=t,this.spinner=o,this.translateService=d,this.products=[],this.onProductSortEmitter=new e.vpe,this.DEFAULT_IMAGE_URL=Po.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(t){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const o=this.searchConfig.name.length>0&&t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,d=this.searchConfig.brand.length>0&&t.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,g=t.createdBy&&this.searchConfig.createdBy.length>0&&(t.createdBy.username.length>0&&t.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||t.createdBy.email.length>0&&t.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return o||d||g}}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(t){console.log("updateProduct()",t),t.brand.length>0&&t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=Po.T),this.updatingProduct=t,this.spinner.show(),this.productService.updateProduct(t,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(t=>{t.imageUrl=t.imageUrl===Po.T?"":t.imageUrl})}export(){const t=JSON.stringify(this.products);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){co(this.nameinput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(500),Da(),(0,pr.b)(t=>{this.searchConfig.name=t.target.value})).subscribe(),co(this.brandinput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(500),Da(),(0,pr.b)(t=>{this.searchConfig.brand=t.target.value})).subscribe(),co(this.createdbyinput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(500),Da(),(0,pr.b)(t=>{this.searchConfig.createdBy=t.target.value})).subscribe()}ngOnChanges(t){this.checkProductsImages()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Io.M),e.Y36(gc),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-products"]],viewQuery:function(t,o){if(1&t&&(e.Gf(tm,5),e.Gf(gy,5),e.Gf(nm,5)),2&t){let d;e.iGM(d=e.CRH())&&(o.nameinput=d.first),e.iGM(d=e.CRH())&&(o.brandinput=d.first),e.iGM(d=e.CRH())&&(o.createdbyinput=d.first)}},inputs:{products:"products"},outputs:{onProductSortEmitter:"onProductSortEmitter"},features:[e.TTD],decls:37,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","7"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th")(16,"span",5),e.NdJ("click",function(){return o.sort("brand")}),e._uU(17,"Marca"),e.qZA(),e._UZ(18,"br")(19,"input",6,8),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Creat per"),e._UZ(23,"br")(24,"input",6,9),e.qZA(),e.TgZ(26,"th")(27,"span",5),e.NdJ("click",function(){return o.sort("createdOn")}),e._uU(28,"Data creaci\xf3"),e.qZA()(),e.TgZ(29,"th"),e._uU(30,"URL imatge"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Imatge"),e.qZA(),e.TgZ(33,"th"),e._UZ(34,"i",10),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,P_,2,1,"ng-container",11),e.qZA()()()),2&t&&(e.xp6(36),e.Q6J("ngForOf",o.products))},directives:[p.sg,p.O5,vr,M,ko],pipes:[p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();function mh(n,i){if(1&n&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"date"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.updateDate,"dd.MM.yyyy - HH:mm"))}}function j0(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw().removeShopProduct(d)}),e.qZA()}}function O_(n,i){1&n&&e._UZ(0,"i",15)}function my(n,i){if(1&n&&(e.ynx(0)(1),e.TgZ(2,"tr")(3,"td"),e._uU(4),e.TgZ(5,"span",8),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",9)(10,"div",10),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"td")(14,"div",10),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e.YNc(17,mh,3,4,"div",11),e.qZA(),e.TgZ(18,"td"),e.YNc(19,j0,1,0,"i",12),e.YNc(20,O_,1,0,"i",13),e.qZA()(),e.BQk()()),2&n){const t=i.$implicit,o=e.oxw();let d,g,C;e.xp6(4),e.Oqu(null==(d=o.getProduct(t.productBarcode))?null:d.name),e.xp6(2),e.hij("(",null==(g=o.getProduct(t.productBarcode))?null:g.brand,")"),e.xp6(2),e.Oqu(null==(C=o.getShop(t.shopId))?null:C.name),e.xp6(3),e.hij("",e.xi3(12,8,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",!o.updatingShopProduct||o.updatingShopProduct.id!=o.updatingShopProduct.id),e.xp6(1),e.Q6J("ngIf",o.updatingShopProduct&&o.updatingShopProduct.id==o.updatingShopProduct.id)}}let Ip=(()=>{class n{constructor(t,o){this.shopProductService=t,this.translateService=o,this.products=[],this.shops=[],this.shopsProducts=[],this.onShopProductSortEmitter=new e.vpe,this.sortBy="updateDate",this.sortDir="ASC"}getShop(t){return this.shops.find(o=>t===o.id)}getProduct(t){return this.products.find(o=>t===o.barcode)}removeShopProduct(t){this.shopProductService.removeShopProduct(t).subscribe(()=>{})}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}export(){const t=JSON.stringify(this.shopsProducts);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnChanges(t){var o;(null===(o=null==t?void 0:t.products)||void 0===o?void 0:o.firstChange)&&this.sort("updateDate")}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Kr),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-shops-products"]],inputs:{products:"products",shops:"shops",shopsProducts:"shopsProducts"},outputs:{onShopProductSortEmitter:"onShopProductSortEmitter"},features:[e.TTD],decls:28,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","6"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[1,"brand","ms-2"],[1,"text-end"],[1,"nowrap"],["class","nowrap",4,"ngIf"],["class","fas fa-trash cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return o.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return o.sort("product")}),e._uU(11,"Producte"),e.qZA()(),e.TgZ(12,"th")(13,"span",5),e.NdJ("click",function(){return o.sort("shop")}),e._uU(14,"Botiga"),e.qZA()(),e.TgZ(15,"th")(16,"span"),e._uU(17,"Preu"),e.qZA()(),e.TgZ(18,"th")(19,"span"),e._uU(20,"Afegit per"),e.qZA()(),e.TgZ(21,"th")(22,"span",5),e.NdJ("click",function(){return o.sort("updateDate")}),e._uU(23,"Data"),e.qZA()(),e.TgZ(24,"th"),e._UZ(25,"i",6),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,my,21,11,"ng-container",7),e.qZA()()()),2&t&&(e.xp6(27),e.Q6J("ngForOf",o.shopsProducts))},directives:[p.sg,p.O5],pipes:[p.JJ,p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.brand[_ngcontent-%COMP%]{font-size:9pt}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),n})();function rm(n,i){if(1&n&&(e.TgZ(0,"div",9),e._UZ(1,"app-backoffice-dashboard",10),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function Pp(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops",11),e.NdJ("onShopSortEmitter",function(d){return e.CHM(t),e.oxw().sortShops(d)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)}}function _h(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-products",12),e.NdJ("onProductSortEmitter",function(d){return e.CHM(t),e.oxw().sortProducts(d)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)}}function V0(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops-products",13),e.NdJ("onShopProductSortEmitter",function(d){return e.CHM(t),e.oxw().sortShopsProducts(d)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)("shops",t.shops)("shopsProducts",t.shopsProducts)}}const vh=function(n){return{active:n}};let M_=(()=>{class n{constructor(t){this.loginService=t,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.cloudMode=xr.q.cloudMode,this.users=[]}sortProducts(t){console.log("sortProducts()",t),t&&(this.products=this.products.sort((o,d)=>"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShops(t){console.log("sortShops()",t),t&&(this.shops=this.shops.sort((o,d)=>"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShopsProducts(t){console.log("sortShopsProducts()",t),t&&(this.shopsProducts=this.shopsProducts.sort((o,d)=>{if("shop"===t.sortBy){const g=this.shops.find(A=>A.id===o.shopId).name.toString().toUpperCase(),C=this.shops.find(A=>A.id===d.shopId).name.toString().toUpperCase();return"DESC"===t.sortDir?g>C?-1:1:g>C?1:-1}if("product"===t.sortBy){const g=this.products.find(A=>A.barcode===o.productBarcode).name.toString().toUpperCase(),C=this.products.find(A=>A.barcode===d.productBarcode).name.toString().toUpperCase();return"DESC"===t.sortDir?g>C?-1:1:g>C?1:-1}return"DESC"===t.sortDir?(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?-1:1:(o[t.sortBy]?o[t.sortBy]:"").toString().toUpperCase()>(d[t.sortBy]?d[t.sortBy]:"").toString().toUpperCase()?1:-1}))}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(o=>{o.createdBy&&!t.find(d=>d.email===o.createdBy.email&&d.username===o.createdBy.username)&&t.push(o.createdBy)}),this.products.forEach(o=>{o.createdBy&&!t.find(d=>d.email===o.createdBy.email&&d.username===o.createdBy.username)&&t.push(o.createdBy)}),this.shopsProducts.forEach(o=>{o.createdBy&&!t.find(d=>d.email===o.createdBy.email)&&t.push(o.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(er.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[e.TTD],decls:33,vars:29,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","justify-content-between","w-100","ps-2"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"shops","onShopSortEmitter"],[1,"w-100",3,"products","onProductSortEmitter"],[1,"w-100",3,"products","shops","shopsProducts","onShopProductSortEmitter"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Backoffice "),e.TgZ(4,"small"),e._uU(5),e.qZA()()(),e.TgZ(6,"ul",2)(7,"li",3)(8,"a",4),e.NdJ("click",function(){return o.selectedTab=0}),e._uU(9,"Dashboard"),e.qZA()(),e.TgZ(10,"li",5)(11,"a",4),e.NdJ("click",function(){return o.selectedTab=1}),e._uU(12,"Botigues "),e.TgZ(13,"small",6),e._uU(14),e.ALo(15,"number"),e.qZA()()(),e.TgZ(16,"li",3)(17,"a",4),e.NdJ("click",function(){return o.selectedTab=2}),e._uU(18,"Productes "),e.TgZ(19,"small",6),e._uU(20),e.ALo(21,"number"),e.qZA()()(),e.TgZ(22,"li",3)(23,"a",4),e.NdJ("click",function(){return o.selectedTab=3}),e._uU(24,"Preus"),e.TgZ(25,"small",6),e._uU(26),e.ALo(27,"number"),e.qZA()()()(),e.TgZ(28,"div",7),e.YNc(29,rm,2,3,"div",8),e.YNc(30,Pp,2,1,"div",8),e.YNc(31,_h,2,1,"div",8),e.YNc(32,V0,2,3,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.hij("(Cloud mode: ",o.cloudMode,")"),e.xp6(3),e.Q6J("ngClass",e.VKq(21,vh,0===o.selectedTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(23,vh,1===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(15,12,o.shops.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(25,vh,2===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(21,15,o.products.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(27,vh,3===o.selectedTab)),e.xp6(3),e.hij("(",e.xi3(27,18,null==o.shopsProducts?null:o.shopsProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.Q6J("ngIf",2===o.selectedTab),e.xp6(1),e.Q6J("ngIf",3===o.selectedTab))},directives:[p.mk,p.O5,x_,gh,_c,Ip],pipes:[p.JJ],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 80px)!important;overflow:auto}small[_ngcontent-%COMP%]{font-size:9pt}"]}),n})();const N_=["appLayout"];function Op(n,i){if(1&n&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function im(n,i){1&n&&e._UZ(0,"i",39)}function Nf(n,i){if(1&n&&e._UZ(0,"img",40),2&n){const t=e.oxw(4);e.Q6J("src",t.loggedUser.photoURL,e.LSH)}}function G0(n,i){if(1&n&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(null==t.loggedUser?null:t.loggedUser.email)}}function om(n,i){if(1&n&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(4);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}function R_(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li"),e._UZ(2,"hr",36),e.qZA(),e.TgZ(3,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).toggleExport()}),e.TgZ(4,"div",24),e._UZ(5,"i",42),e.TgZ(6,"a",26),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}2&n&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"menu.export")))}const Cu=function(n){return{disabled:n}},sm=function(){return["/shoppingCart"]},am=function(){return["/search-shops"]},k_=function(){return["/search-products"]},yh=function(n){return{disabled:n}},cm=function(){return["/alerts"]},H0=function(){return["/statistics"]};function lm(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"button",9),e._UZ(3,"i",10),e.qZA(),e.YNc(4,Op,3,4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"button",13),e._UZ(7,"i",14),e.qZA(),e.TgZ(8,"ul",15)(9,"li",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToUserDetail()}),e.TgZ(10,"div",17)(11,"div"),e.YNc(12,im,1,0,"i",18),e.YNc(13,Nf,1,1,"img",19),e.qZA(),e.TgZ(14,"div",20)(15,"span",21),e._uU(16),e.qZA(),e.YNc(17,G0,2,1,"small",22),e.qZA()()(),e.TgZ(18,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToHome()}),e.TgZ(19,"div",24),e._UZ(20,"i",25),e.TgZ(21,"a",26),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"li",27)(25,"div",24),e._UZ(26,"i",28),e.TgZ(27,"a",29),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"small",30),e._uU(31),e.ALo(32,"number"),e.qZA()()()(),e.TgZ(33,"li",27)(34,"div",24),e._UZ(35,"i",31),e.TgZ(36,"a",29),e._uU(37),e.ALo(38,"translate"),e.TgZ(39,"small",30),e._uU(40),e.ALo(41,"number"),e.qZA()()()(),e.TgZ(42,"li",32)(43,"div",24),e._UZ(44,"i",33),e.TgZ(45,"a",29),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,om,3,4,"div",34),e.qZA()(),e.TgZ(49,"li",27)(50,"div",24),e._UZ(51,"i",35),e.TgZ(52,"a",29),e._uU(53),e.ALo(54,"translate"),e.qZA()()(),e.YNc(55,R_,9,3,"ng-container",0),e.TgZ(56,"li"),e._UZ(57,"hr",36),e.qZA(),e.TgZ(58,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e.TgZ(59,"div",24),e._UZ(60,"i",37),e.TgZ(61,"a",26),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(40,Cu,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",e.DdM(42,sm)),e.xp6(2),e.Q6J("ngIf",t.cartItemCount),e.xp6(8),e.Q6J("ngIf",!t.loggedUser.photoURL),e.xp6(1),e.Q6J("ngIf",t.loggedUser.photoURL),e.xp6(3),e.Oqu((null==t.loggedUser||null==t.loggedUser.username?null:t.loggedUser.username.length)>0?null==t.loggedUser?null:t.loggedUser.username:null==t.loggedUser?null:t.loggedUser.email.substr(0,null==t.loggedUser?null:t.loggedUser.email.indexOf("@"))),e.xp6(1),e.Q6J("ngIf",null==t.loggedUser?null:t.loggedUser.username),e.xp6(5),e.Oqu(e.lcZ(23,22,"menu.home")),e.xp6(5),e.Q6J("routerLink",e.DdM(43,am)),e.xp6(1),e.Oqu(e.lcZ(29,24,"menu.shops")),e.xp6(3),e.hij("(",e.xi3(32,26,null==t.shops?null:t.shops.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(44,k_)),e.xp6(1),e.Oqu(e.lcZ(38,29,"menu.products")),e.xp6(3),e.hij("(",e.xi3(41,31,null==t.products?null:t.products.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngClass",e.VKq(45,yh,0===t.alerts)),e.xp6(3),e.Q6J("routerLink",e.DdM(47,cm)),e.xp6(1),e.Oqu(e.lcZ(47,34,"menu.alerts")),e.xp6(2),e.Q6J("ngIf",t.alerts_unread>0),e.xp6(4),e.Q6J("routerLink",e.DdM(48,H0)),e.xp6(1),e.Oqu(e.lcZ(54,36,"menu.analysis")),e.xp6(2),e.Q6J("ngIf",!t.APP_CONFIG.cloudMode&&(null==t.loggedUser?null:t.loggedUser.admin)),e.xp6(7),e.Oqu(e.lcZ(63,38,"menu.exit"))}}function q0(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToHome()}),e._UZ(3,"i",7),e.TgZ(4,"span"),e._uU(5,"Proddle"),e.qZA()(),e.YNc(6,lm,64,49,"ng-container",0),e.qZA(),e._UZ(7,"router-outlet"),e.qZA()}if(2&n){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.loggedUser&&t.shopsLoaded&&t.productsLoaded&&t.shopsProductsLoaded)}}function Sa(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",43),e._UZ(2,"app-backoffice-layout",44),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function um(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,q0,8,1,"div",3),e.YNc(3,Sa,3,3,"ng-container",0),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.backofficeMode),e.xp6(1),e.Q6J("ngIf",t.backofficeMode)}}let Mp=(()=>{class n{constructor(t,o,d,g,C,A,F,te,Me,rt,yt){this.router=t,this.shopService=o,this.productService=d,this.shopProductService=g,this.loginService=C,this.shoppingCartService=A,this.spinner=F,this.translate=te,this.translationsService=Me,this.firestoreAuthService=rt,this.alertService=yt,this.APP_CONFIG=xr.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.alerts=0,this.alerts_unread=0,this.translate.setDefaultLang(xr.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Tt=localStorage.getItem(Oi.M.PS_APP_LANGUAGE);Tt?this.translate.use(Tt):(this.translate.use(xr.q.defaultLanguage),localStorage.setItem(Oi.M.PS_APP_LANGUAGE,xr.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Oi.M.PS_APP_LANGUAGE)),console.log("Removing localStorage necessary data"),localStorage.removeItem(Oi.M.PS_LAST_SHOP_ID),localStorage.removeItem(Oi.M.PS_SHOPS_SEARCH_TEXT),localStorage.removeItem(Oi.M.PS_PRODUCTS_SEARCH_TEXT)})}onResize(t){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=t,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var t;this.backofficeMode=!!(null===(t=this.loggedUser)||void 0===t?void 0:t.admin)&&window.innerWidth>568}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let o=0;this.cartConfig.items.forEach(d=>{d.productsUnits.forEach(g=>{o+=g.units})}),this.cartItemCount=o}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,d)=>o.name.toUpperCase()>d.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((o,d)=>o.name.toUpperCase()>d.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((o,d)=>o.updateDate>d.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.alertService.userAlerts.subscribe(t=>{console.log("userAlerts changed",t),this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),this.checkBackofficeMode(),this.spinner.hide()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Ao.d),e.Y36(Io.M),e.Y36(Kr),e.Y36(er.r),e.Y36(ys),e.Y36(gc),e.Y36(Bs),e.Y36(Tp),e.Y36(Dp),e.Y36(Of))},n.\u0275cmp=e.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(t,o){if(1&t&&e.Gf(N_,5),2&t){let d;e.iGM(d=e.CRH())&&(o.appLayoutComponent=d.first)}},hostBindings:function(t,o){1&t&&e.NdJ("resize",function(g){return o.onResize(g)},!1,e.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2",3,"ngClass"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["class","badge bg-danger ms-auto",4,"ngIf"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],[1,"badge","bg-danger","ms-auto"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-0"],[3,"shops","products","shopsProducts"]],template:function(t,o){1&t&&(e.YNc(0,um,4,2,"ng-container",0),e._UZ(1,"ngx-spinner",1)),2&t&&e.Q6J("ngIf",o.translationsLoaded&&o.shopsLoaded&&o.productsLoaded&&o.shopsProductsLoaded)},directives:[p.O5,p.mk,fc,pc,lp,M_,C_],pipes:[p.JJ,bs],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:25px;font-weight:400;font-size:9pt}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge.bg-danger[_ngcontent-%COMP%]{color:#fff!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),n})();var bh=P(520),Np=P(896),ws=P.n(Np),L_=P(5199),dm=P.n(L_);const Z0=["BarcodeScanner"],$c={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},B_=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Rp(n){if(!B_.some(i=>i===n))throw new Error(`This barcode type '${n}' is not valid.`)}function j_(n){return`${n}_reader`}let z0=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new Ir.x,this.valueChanges=new e.vpe,this.started=new e.vpe,this._started=!1,this._destroyed=new Ir.x,this._valueChanges.pipe(Ai(this._destroyed),(0,hi.h)(t=>{const o=t.codeResult.decodedCodes.filter(g=>void 0!==g.error).map(g=>g.error),d=this._getMedian(o);return!this.errorFilter||!(this.errorFilter.median&&d>this.errorFilter.median||this.errorFilter.threshold&&o.some(g=>g>this.errorFilter.threshold))})).subscribe(t=>{const o=ws().canvas.ctx.overlay;ws().ImageDebug.drawPath(t.line,{x:"x",y:"y"},o,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,o)=>{ws().onProcessed(d=>this.onProcessed(d)),ws().onDetected(d=>this.onDetected(d)),this.configQuagga=dm()({},this.config,$c),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function U_(n){return"string"==typeof n?(Rp(n),[j_(n)]):n.map(i=>(Rp(i),j_(i)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),ws().init(this.configQuagga,d=>{if(d)return console.log(d),o(d);t()})})}_getMedian(t){t.sort((d,g)=>d-g);const o=Math.floor(t.length/2);return t.length%2==1?t[o]:(t[o-1]+t[o])/2}start(){return(0,pd.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),ws().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(ws().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const o=ws().canvas.ctx.overlay,d=ws().canvas.dom.overlay;t&&(t.boxes&&(o.clearRect(0,0,parseInt(d.getAttribute("width"),10),parseInt(d.getAttribute("height"),10)),t.boxes.filter(g=>g!==t.box).forEach(g=>{ws().ImageDebug.drawPath(g,{x:0,y:1},o,{color:"green",lineWidth:2})})),t.box&&ws().ImageDebug.drawPath(t.box,{x:0,y:1},o,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,o){if(1&t&&e.Gf(Z0,5),2&t){let d;e.iGM(d=e.CRH())&&(o.barcodeScanner=d.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[e.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"video")(3,"canvas",2),e.qZA()),2&t&&(e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),e.Q6J("hidden",!o.isStarted),e.xp6(2),e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),e.xp6(1),e.Udp("max-height",o._maxHeight)("max-width",o._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),V_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})();var q_=P(3532);function Z_(n=0,i,t=fh.P){let o=-1;return null!=i&&((0,q_.K)(i)?t=i:o=i),new Hn.y(d=>{let g=function kp(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;g<0&&(g=0);let C=0;return t.schedule(function(){d.closed||(d.next(C++),0<=o?this.schedule(void 0,o):d.complete())},g)})}const{isArray:xa}=Array;function z_(n){return 1===n.length&&xa(n[0])?n[0]:n}const pm=new Hn.y(Fs.Z);function Ch(...n){const i=(0,ln.jO)(n),t=z_(n);return t.length?new Hn.y(o=>{let d=t.map(()=>[]),g=t.map(()=>!1);o.add(()=>{d=g=null});for(let C=0;!o.closed&&C<t.length;C++)(0,dt.Xf)(t[C]).subscribe((0,yn.x)(o,A=>{if(d[C].push(A),d.every(F=>F.length)){const F=d.map(te=>te.shift());o.next(i?i(...F):F),d.some((te,Me)=>!te.length&&g[Me])&&o.complete()}},()=>{g[C]=!0,!d[C].length&&o.complete()}));return()=>{d=g=null}}):wn.E}function wh(...n){const i=(0,ln.jO)(n);return(0,Fo.e)((t,o)=>{const d=n.length,g=new Array(d);let C=n.map(()=>!1),A=!1;for(let F=0;F<d;F++)(0,dt.Xf)(n[F]).subscribe((0,yn.x)(o,te=>{g[F]=te,!A&&!C[F]&&(C[F]=!0,(A=C.every(_i.y))&&(C=null))},Fs.Z));t.subscribe((0,yn.x)(o,F=>{if(A){const te=[F,...g];o.next(i?i(...te):te)}}))})}Math,Math,Math;const s0=["*"];function ov(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(){const g=e.CHM(t).$implicit,C=e.oxw();return C.focus(),C.select(g.id,C.NgbSlideEventSource.INDICATOR)}),e.qZA()}if(2&n){const t=i.$implicit,o=e.oxw();e.ekj("active",t.id===o.activeId),e.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===o.activeId)}}function Pm(n,i){}function Nb(n,i){if(1&n&&(e.TgZ(0,"div",7)(1,"span",8),e.SDv(2,9),e.qZA(),e.YNc(3,Pm,0,0,"ng-template",10),e.qZA()),2&n){const t=i.$implicit,o=i.index,d=i.count;e.Q6J("id","slide-"+t.id),e.xp6(2),e.pQV(o+1)(d),e.QtT(2),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tplRef)}}function Dy(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowLeft()}),e._UZ(1,"span",12),e.TgZ(2,"span",8),e.SDv(3,13),e.qZA()()}}function a0(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowRight()}),e._UZ(1,"span",15),e.TgZ(2,"span",8),e.SDv(3,16),e.qZA()()}}const Nm=["dialog"];function Zf(n){return null!=n}function ng(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(n))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const _v={animation:!0,transitionTimerDelayMs:5},qy=()=>{},{transitionTimerDelayMs:$b}=_v,Rm=new Map,Na=(n,i,t,o)=>{let d=o.context||{};const g=Rm.get(i);if(g)switch(o.runningTransition){case"continue":return wn.E;case"stop":n.run(()=>g.transition$.complete()),d=Object.assign(g.context,d),Rm.delete(i)}const C=t(i,o.animation,d)||qy;if(!o.animation||"none"===window.getComputedStyle(i).transitionProperty)return n.run(()=>C()),(0,dn.of)(void 0).pipe(function zb(n){return i=>new Hn.y(t=>i.subscribe({next:C=>n.run(()=>t.next(C)),error:C=>n.run(()=>t.error(C)),complete:()=>n.run(()=>t.complete())}))}(n));const A=new Ir.x,F=new Ir.x,te=A.pipe(function _y(...n){return i=>Ns(i,(0,dn.of)(...n))}(!0));Rm.set(i,{transition$:A,complete:()=>{F.next(),F.complete()},context:d});const Me=function Hy(n){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return n.runOutsideAngular(()=>{const rt=co(i,"transitionend").pipe(Ai(te),(0,hi.h)(({target:Tt})=>Tt===i));(function hm(...n){return 1===(n=z_(n)).length?(0,dt.Xf)(n[0]):new Hn.y(function fm(n){return i=>{let t=[];for(let o=0;t&&!i.closed&&o<n.length;o++)t.push((0,dt.Xf)(n[o]).subscribe((0,yn.x)(i,d=>{if(t){for(let g=0;g<t.length;g++)g!==o&&t[g].unsubscribe();t=null}i.next(d)})))}}(n))})(Z_(Me+$b).pipe(Ai(te)),rt,F).pipe(Ai(te)).subscribe(()=>{Rm.delete(i),n.run(()=>{C(),A.next(),A.complete()})})}),A.asObservable()};let f0=(()=>{class n{constructor(){this.animation=_v.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ky=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),Jy=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),nC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Id=(()=>{return(n=Id||(Id={})).START="start",n.END="end",Id;var n})();const Lm=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Fm=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},_0=n=>{Fm(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Yy=(n,i,{direction:t})=>{const{classList:o}=n;return i?(Lm(n)?Fm(o):(o.add("carousel-item-"+(t===Id.START?"next":"prev")),ng(n),o.add("carousel-item-"+t)),()=>{_0(o),o.add("active")}):(Fm(o),_0(o),void o.add("active"))},Bm=(n,i,{direction:t})=>{const{classList:o}=n;return i?(Lm(n)?Fm(o):o.add("carousel-item-"+t),()=>{_0(o),o.remove("active")}):(Fm(o),_0(o),void o.remove("active"))};let Qy=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rC=0,yv=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+rC++,this.slid=new e.vpe}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.Rgc))},n.\u0275dir=e.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Xy=(()=>{class n{constructor(t,o,d,g,C){this._platformId=o,this._ngZone=d,this._cd=g,this._container=C,this.NgbSlideEventSource=Wf,this._destroy$=new Ir.x,this._interval$=new oo(0),this._mouseHover$=new oo(!1),this._focused$=new oo(!1),this._pauseOnHover$=new oo(!1),this._pauseOnFocus$=new oo(!1),this._pause$=new oo(!1),this._wrap$=new oo(!1),this.slide=new e.vpe,this.slid=new e.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Wf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Wf.ARROW_RIGHT)}ngAfterContentInit(){(0,p.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Eo([this.slide.pipe((0,on.U)(o=>o.current),Vi(this.activeId)),this._wrap$,this.slides.changes.pipe(Vi(null))]).pipe((0,on.U)(([o,d])=>{const g=this.slides.toArray(),C=this._getSlideIdxById(o);return d?g.length>1:C<g.length-1}),Da());Eo([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,on.U)(([o,d,g,C,A,F,te])=>o||d&&g||C&&A||!te?0:F),Da(),Ci(o=>o>0?Z_(o,o):pm),Ai(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Wf.TIMER)))}),this.slides.changes.pipe(Ai(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(o=>(n=>{var i;null===(i=Rm.get(n))||void 0===i||i.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Fi.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const d=this._getSlideElement(o);o===this.activeId?d.classList.add("active"):d.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,o){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),o)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Id.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Id.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,o,d){const g=this._transitionIds;if(g&&(g[0]!==t||g[1]!==this.activeId))return;let C=this._getSlideById(t);if(C&&C.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:C.id,direction:o,paused:this._pause$.value,source:d});const A={animation:this.animation,runningTransition:"stop",context:{direction:o}},F=[],te=this._getSlideById(this.activeId);if(te){const Tt=Na(this._ngZone,this._getSlideElement(te.id),Bm,A);Tt.subscribe(()=>{te.slid.emit({isShown:!1,direction:o,source:d})}),F.push(Tt)}const Me=this.activeId;this.activeId=C.id;const rt=this._getSlideById(this.activeId),yt=Na(this._ngZone,this._getSlideElement(C.id),Yy,A);yt.subscribe(()=>{null==rt||rt.slid.emit({isShown:!0,direction:o,source:d})}),F.push(yt),Ch(...F).pipe((0,Fi.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:Me,current:C.id,direction:o,paused:this._pause$.value,source:d})})}this._cd.markForCheck()}_getSlideEventDirection(t,o){return this._getSlideIdxById(t)>this._getSlideIdxById(o)?Id.END:Id.START}_getSlideById(t){return this.slides.find(o=>o.id===t)||null}_getSlideIdxById(t){const o=this._getSlideById(t);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(t){const o=this.slides.toArray(),d=this._getSlideIdxById(t);return d===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[d+1].id}_getPrevSlide(t){const o=this.slides.toArray(),d=this._getSlideIdxById(t);return 0===d?this.wrap?o[o.length-1].id:o[0].id:o[d-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qy),e.Y36(e.Lbi),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,o,d){if(1&t&&e.Suo(d,yv,4),2&t){let g;e.iGM(g=e.CRH())&&(o.slides=g)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,o){1&t&&e.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&t&&(e.uIk("aria-activedescendant","slide-"+o.activeId),e.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,t,o;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(t,o){1&t&&(e.TgZ(0,"ol",0),e.YNc(1,ov,1,5,"li",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Nb,4,4,"div",3),e.qZA(),e.YNc(4,Dy,4,0,"a",4),e.YNc(5,a0,4,0,"a",5)),2&t&&(e.ekj("visually-hidden",!o.showNavigationIndicators),e.xp6(1),e.Q6J("ngForOf",o.slides),e.xp6(2),e.Q6J("ngForOf",o.slides),e.xp6(1),e.Q6J("ngIf",o.showNavigationArrows),e.xp6(1),e.Q6J("ngIf",o.showNavigationArrows))},directives:[p.sg,p.tP,p.O5],encapsulation:2,changeDetection:0}),n})();var Wf=(()=>{return(n=Wf||(Wf={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Wf;var n})();let e1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),t1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();var Ds=(()=>{return(n=Ds||(Ds={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Ds;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const l1=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wv(n){const i=Array.from(n.querySelectorAll(l1)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let S1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez,sl]]}),n})(),x1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();class Jf{constructor(i,t,o){this.nodes=i,this.viewRef=t,this.componentRef=o}}let A1=(()=>{class n{constructor(t,o){this._el=t,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Fi.q)(1)).subscribe(()=>{Na(this._zone,this._el.nativeElement,(t,o)=>{o&&ng(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Na(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,o){2&t&&(e.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),e.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,o){},encapsulation:2}),n})();class S0{close(i){}dismiss(i){}}class I1{constructor(i,t,o,d){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=o,this._beforeDismiss=d,this._closed=new Ir.x,this._dismissed=new Ir.x,this._hidden=new Ir.x,i.instance.dismissEvent.subscribe(g=>{this.dismiss(g)}),this.result=new Promise((g,C)=>{this._resolve=g,this._reject=C}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ai(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ai(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function h0(n){return n&&n.then}(t)?!1!==t&&this._dismiss(i):t.then(o=>{!1!==o&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,dn.of)(void 0);i.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ch(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ag=(()=>{return(n=ag||(ag={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",ag;var n})();let P1=(()=>{class n{constructor(t,o,d){this._document=t,this._elRef=o,this._zone=d,this._closed$=new Ir.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new Ir.x,this.hidden=new Ir.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Fi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,o={animation:this.animation,runningTransition:"stop"},C=Ch(Na(this._zone,t,()=>t.classList.remove("show"),o),Na(this._zone,this._dialogEl.nativeElement,()=>{},o));return C.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),C}_show(){const t={animation:this.animation,runningTransition:"continue"};Ch(Na(this._zone,this._elRef.nativeElement,(g,C)=>{C&&ng(g),g.classList.add("show")},t),Na(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{co(t,"keydown").pipe(Ai(this._closed$),(0,hi.h)(d=>d.which===Ds.Escape)).subscribe(d=>{this.keyboard?requestAnimationFrame(()=>{d.defaultPrevented||this._zone.run(()=>this.dismiss(ag.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;co(this._dialogEl.nativeElement,"mousedown").pipe(Ai(this._closed$),(0,pr.b)(()=>o=!1),Ci(()=>co(t,"mouseup").pipe(Ai(this._closed$),(0,Fi.q)(1))),(0,hi.h)(({target:d})=>t===d)).subscribe(()=>{o=!0}),co(t,"click").pipe(Ai(this._closed$)).subscribe(({target:d})=>{t===d&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ag.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const o=t.querySelector("[ngbAutofocus]"),d=wv(t)[0];(o||d||t).focus()}}_restoreFocus(){const t=this._document.body,o=this._elWithFocus;let d;d=o&&o.focus&&t.contains(o)?o:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>d.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Na(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(p.K0),e.Y36(e.SBq),e.Y36(e.R0b))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,o){if(1&t&&e.Gf(Nm,7),2&t){let d;e.iGM(d=e.CRH())&&(o._dialogEl=d.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,o){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),e.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),e.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:s0,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,o){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),O1=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,d=o.style,{overflow:g,paddingRight:C}=d;if(t>0){const A=parseFloat(window.getComputedStyle(o).paddingRight);d.paddingRight=`${A+t}px`}return d.overflow="hidden",()=>{t>0&&(d.paddingRight=C),d.overflow=g}}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GC=(()=>{class n{constructor(t,o,d,g,C,A){this._applicationRef=t,this._injector=o,this._document=d,this._scrollBar=g,this._rendererFactory=C,this._ngZone=A,this._activeWindowCmptHasChanged=new Ir.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const F=this._windowCmpts[this._windowCmpts.length-1];((n,i,t,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const d=co(i,"focusin").pipe(Ai(t),(0,on.U)(g=>g.target));co(i,"keydown").pipe(Ai(t),(0,hi.h)(g=>g.which===Ds.Tab),wh(d)).subscribe(([g,C])=>{const[A,F]=wv(i);(C===A||C===i)&&g.shiftKey&&(F.focus(),g.preventDefault()),C===F&&!g.shiftKey&&(A.focus(),g.preventDefault())}),o&&co(i,"click").pipe(Ai(t),wh(d),(0,on.U)(g=>g[1])).subscribe(g=>g.focus())})})(0,F.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(F.location.nativeElement)}})}open(t,o,d,g){const C=g.container instanceof HTMLElement?g.container:Zf(g.container)?this._document.querySelector(g.container):this._document.body,A=this._rendererFactory.createRenderer(null,null),F=this._scrollBar.hide(),te=()=>{this._modalRefs.length||(A.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!C)throw new Error(`The specified modal container "${g.container||"body"}" was not found in the DOM.`);const Me=new S0,rt=this._getContentRef(t,g.injector||o,d,Me,g);let yt=!1!==g.backdrop?this._attachBackdrop(t,C):void 0,Tt=this._attachWindowComponent(t,C,rt),Ut=new I1(Tt,rt,yt,g.beforeDismiss);return this._registerModalRef(Ut),this._registerWindowCmpt(Tt),Ut.result.then(F,F),Ut.result.then(te,te),Me.close=Lt=>{Ut.close(Lt)},Me.dismiss=Lt=>{Ut.dismiss(Lt)},this._applyWindowOptions(Tt.instance,g),1===this._modalRefs.length&&A.addClass(this._document.body,"modal-open"),yt&&yt.instance&&(this._applyBackdropOptions(yt.instance,g),yt.changeDetectorRef.detectChanges()),Tt.changeDetectorRef.detectChanges(),Ut}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(o=>o.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,o){let g=t.resolveComponentFactory(A1).create(this._injector);return this._applicationRef.attachView(g.hostView),o.appendChild(g.location.nativeElement),g}_attachWindowComponent(t,o,d){let C=t.resolveComponentFactory(P1).create(this._injector,d.nodes);return this._applicationRef.attachView(C.hostView),o.appendChild(C.location.nativeElement),C}_applyWindowOptions(t,o){this._windowAttributes.forEach(d=>{Zf(o[d])&&(t[d]=o[d])})}_applyBackdropOptions(t,o){this._backdropAttributes.forEach(d=>{Zf(o[d])&&(t[d]=o[d])})}_getContentRef(t,o,d,g,C){return d?d instanceof e.Rgc?this._createFromTemplateRef(d,g):function Vy(n){return"string"==typeof n}(d)?this._createFromString(d):this._createFromComponent(t,o,d,g,C):new Jf([])}_createFromTemplateRef(t,o){const g=t.createEmbeddedView({$implicit:o,close(C){o.close(C)},dismiss(C){o.dismiss(C)}});return this._applicationRef.attachView(g),new Jf([g.rootNodes],g)}_createFromString(t){const o=this._document.createTextNode(`${t}`);return new Jf([[o]])}_createFromComponent(t,o,d,g,C){const A=t.resolveComponentFactory(d),F=e.zs3.create({providers:[{provide:S0,useValue:g}],parent:o}),te=A.create(F),Me=te.location.nativeElement;return C.scrollable&&Me.classList.add("component-host-scrollable"),this._applicationRef.attachView(te.hostView),new Jf([[Me]],te.hostView,te)}_setAriaHidden(t){const o=t.parentElement;o&&t!==this._document.body&&(Array.from(o.children).forEach(d=>{d!==t&&"SCRIPT"!==d.nodeName&&(this._ariaHiddenValues.set(d,d.getAttribute("aria-hidden")),d.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,o)=>{t?o.setAttribute("aria-hidden",t):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const o=()=>{const d=this._modalRefs.indexOf(t);d>-1&&(this._modalRefs.splice(d,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(o,o)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const o=this._windowCmpts.indexOf(t);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(p.K0),e.LFG(O1),e.LFG(e.FYo),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),M1=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(f0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),N1=(()=>{class n{constructor(t,o,d,g){this._moduleCFR=t,this._injector=o,this._modalStack=d,this._config=g}open(t,o={}){const d=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,t,d)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(GC),e.LFG(M1))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),R1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:[N1]}),n})(),L1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),Jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),B1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),U1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),jv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),sw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),I0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})(),Gv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({}),n})();new e.OlP("live announcer delay",{providedIn:"root",factory:function fw(){return 100}});let pw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[p.ez]]}),n})();const gw=[Ky,Jy,nC,e1,t1,S1,x1,R1,L1,Jm,B1,U1,jv,sw,I0,Gv,pw];let mw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[gw,Ky,Jy,nC,e1,t1,S1,x1,R1,L1,Jm,B1,U1,jv,sw,I0,Gv,pw]}),n})(),el=(()=>{class n{constructor(t,o){this.loginService=t,this.router=o}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(er.r),e.LFG(qr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),H1=(()=>{class n{constructor(t,o){this.loginService=t,this.router=o}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(er.r),e.LFG(qr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const bo=void 0,_w=["es",[["a.\xa0m.","p.\xa0m."],bo,bo],bo,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],bo,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],bo,[["a. C.","d. C."],bo,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",bo,"{1}, {0}",bo],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[bo,"$"],BRL:[bo,"R$"],CAD:[bo,"$"],CNY:[bo,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[bo,"\xa3"],HKD:[bo,"$"],ILS:[bo,"\u20aa"],INR:[bo,"\u20b9"],JPY:[bo,"\xa5"],KRW:[bo,"\u20a9"],MXN:[bo,"$"],NZD:[bo,"$"],PHP:[bo,"\u20b1"],RON:[bo,"L"],THB:["\u0e3f"],TWD:[bo,"NT$"],USD:["US$","$"],XAF:[],XCD:[bo,"$"],XOF:[]},"ltr",function Hv(n){return 1===n?1:5}];function Nl(n,i){1&n&&e.GkF(0)}function vw(n,i){1&n&&(e.TgZ(0,"div",10),e._UZ(1,"i",11),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"alerts.unreadInfoText")))}const qv=function(n){return{read:n}},yw=function(n,i){return{"text-success":n,"text-danger":i}},bw=function(n,i){return{"fa-circle-arrow-down":n,"fa-circle-arrow-up":i}};function Zv(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",13),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(2).toggleReadAlert(g)}),e.TgZ(2,"div",14)(3,"div",15)(4,"div",16),e._UZ(5,"i",17),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",18),e._UZ(10,"img",19),e.qZA(),e.TgZ(11,"div",20)(12,"div",21)(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()(),e.BQk()}if(2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(14,qv,t.read)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,yw,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,bw,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(2),e.AsE(" ",t.currentPrice-t.lastPrice>0?"+":"","",e.xi3(8,8,t.currentPrice-t.lastPrice,"1.2-2")," \u20ac "),e.xp6(3),e.Q6J("src",o.getShop(t.shopId).imageUrl,e.LSH),e.xp6(4),e.Oqu(e.xi3(15,11,t.date,"dd.MM.yyyy - HH:mm")),e.xp6(4),e.Oqu(o.getProduct(t.productBarcode).name)}}function q1(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,vw,5,3,"div",6),e.TgZ(3,"div",7)(4,"ul",8),e.YNc(5,Zv,19,22,"ng-container",9),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.unreadAlerts>0),e.xp6(3),e.Q6J("ngForOf",t.userAlerts.alerts)}}function Z1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",28),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.alerts")))}function Cw(n,i){1&n&&(e.TgZ(0,"div",30)(1,"small",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commons.noData")))}let z1=(()=>{class n{constructor(t,o,d,g){this.router=t,this.alertService=o,this.shopService=d,this.productService=g,this.unreadAlerts=0}exit(){this.router.navigate([""])}getProduct(t){return this.productService._products.find(o=>o.barcode===t)}getShop(t){return this.shopService._shops.find(o=>o.id===t)}toggleReadAlert(t){this.alertService.toggleReadAlert(t),this.unreadAlerts=this.alertService.getUnreadAlerts()}sortAlerts(){this.userAlerts.alerts.sort((t,o)=>t.date>o.date?-1:1)}ngOnInit(){this.userAlerts=this.alertService._userAlerts,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts(),this.alertService.userAlerts.subscribe(t=>{this.userAlerts=t,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Of),e.Y36(Ao.d),e.Y36(Io.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-alerts"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100","bg-danger"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["breadcrumb",""],["noData",""],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],["class","alert alert-info d-flex",4,"ngIf"],[1,"w-100"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"alert","alert-info","d-flex"],[1,"fas","fa-triangle-exclamation","me-2","mt-1"],[1,"text-start"],[1,"list-group-item","text-start","p-0","mb-1",3,"ngClass","click"],[1,"d-flex","w-100"],[1,"left","d-flex","flex-column","align-items-center","justify-content-center","w-25","px-2"],[1,"icon-container",3,"ngClass"],[1,"fas","mb-1",3,"ngClass"],[1,"left","d-flex","align-items-center","justify-content-center"],[1,"shop-logo",3,"src"],[1,"right","d-flex","flex-column","p-3"],[1,"d-flex","w-100","mb-2"],[1,"d-flex"],[1,"fw-bold"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],[1,"no-data-msg","ps-4"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Nl,1,0,"ng-container",1),e.qZA(),e.YNc(2,q1,6,2,"ng-container",2),e.YNc(3,Z1,11,6,"ng-template",null,3,e.W1O),e.YNc(5,Cw,4,3,"ng-template",null,4,e.W1O)),2&t){const d=e.MAs(4),g=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(1),e.Q6J("ngIf",(null==o.userAlerts||null==o.userAlerts.alerts?null:o.userAlerts.alerts.length)>0)("ngIfElse",g)}},directives:[p.tP,p.O5,p.sg,p.mk],pipes:[bs,p.JJ,p.uU],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 195px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;color:#fff;border:1px solid #ccc}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}.list-group-item[_ngcontent-%COMP%]{font-size:9pt}.list-group-item.read[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.4}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{border-right:1px solid #ccc}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]   div.icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{max-width:65px;max-height:65px}div.alert[_ngcontent-%COMP%]{font-size:9pt}"]}),n})();function W1(n,i){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.registerError")))}function ww(n,i){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordsDifferentError")))}function Tw(n,i){1&n&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordLengthError")))}function zv(n,i){if(1&n&&(e.TgZ(0,"span",18),e.YNc(1,W1,3,3,"small",19),e.YNc(2,ww,3,3,"small",19),e.YNc(3,Tw,3,3,"small",19),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&t.user.passwordRepeat.length>5&&t.user.password.length>5),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&(t.user.passwordRepeat.length<6||t.user.password.length<6))}}const Rl=function(n){return{disabled:n}};let Ew=(()=>{class n{constructor(t,o,d){this.firestoreAuthService=t,this.loginService=o,this.router=d,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.register(t,o).then(d=>{if(d){console.log(d);const g={email:this.user.email};alert("Register ok!"),this.loginService.login(g),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var t,o,d,g,C,A;return(null===(o=null===(t=this.user)||void 0===t?void 0:t.password)||void 0===o?void 0:o.length)>5&&(null===(g=null===(d=this.user)||void 0===d?void 0:d.passwordRepeat)||void 0===g?void 0:g.length)>5&&(null===(C=this.user)||void 0===C?void 0:C.password)===(null===(A=this.user)||void 0===A?void 0:A.passwordRepeat)}canAccess(){var t;return this.user.email.length>0&&(null===(t=this.validateEmail(this.user.email))||void 0===t?void 0:t.length)>0}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Dp),e.Y36(er.r),e.Y36(qr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(g){return o.user.email=g}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",7)(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(g){return o.user.password=g}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",7)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(g){return o.user.passwordRepeat=g}),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,zv,4,3,"span",14),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return o.register()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return o.goToLogin()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"login.registering")," "),e.xp6(7),e.Oqu(e.lcZ(12,16,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"login.email")),e.Q6J("ngModel",o.user.email),e.xp6(4),e.Oqu(e.lcZ(18,20,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"login.password")),e.Q6J("ngModel",o.user.password),e.xp6(4),e.Oqu(e.lcZ(24,24,"login.passwordRepeat")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,26,"login.passwordRepeat")),e.Q6J("ngModel",o.user.passwordRepeat),e.xp6(2),e.Q6J("ngIf",o.canAccess()&&(o.registerError||!o.validatePasswords())),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Rl,!o.canAccess()||!o.validatePasswords())),e.xp6(1),e.hij(" ",e.lcZ(31,28,"login.doRegister")," "),e.xp6(3),e.hij(" ",e.lcZ(34,30,"commons.back")," "))},directives:[vr,Os,M,ko,p.O5,p.mk],pipes:[bs],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})(),vE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-banned-ip"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e._UZ(2,"i",1),e.TgZ(3,"span"),e._uU(4,"IP unauthorized"),e.qZA(),e.BQk(),e.qZA())},styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})(),Xa=(()=>{class n{constructor(t,o){this.loginService=t,this.router=o}canActivate(){return this.loginService.getIpData().pipe((0,on.U)(t=>!xr.q.bannedIPs.some(d=>d===t.query)||(this.router.navigate(["forbiddenIP"]),!1)))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(er.r),e.LFG(qr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $1(n,i){1&n&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.cheap")))}function Dw(n,i){1&n&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.expensive")))}function Sw(n,i){1&n&&e.GkF(0)}function K1(n,i){if(1&n&&(e.TgZ(0,"li")(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.qZA()()()),2&n){const t=i.$implicit;e.xp6(4),e.AsE("",t.name," (",t.brand,")")}}function xw(n,i){if(1&n&&(e.TgZ(0,"tr")(1,"td",17)(2,"ul",18),e.YNc(3,K1,5,2,"li",12),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",null==t?null:t.products)}}const yE=function(n){return{active:n}};function J1(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",13),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td")(10,"i",15),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return g.showProducts=!g.showProducts}),e.qZA()()(),e.YNc(11,xw,4,1,"tr",16),e.BQk()}if(2&n){const t=i.$implicit,o=i.index,d=e.oxw(2);e.xp6(3),e.Oqu(o+1),e.xp6(2),e.Oqu(d.getShopName(t.shopId)),e.xp6(2),e.Oqu(e.xi3(8,5,t.times,"1.0-2")),e.xp6(3),e.Q6J("ngClass",e.VKq(8,yE,t.showProducts)),e.xp6(1),e.Q6J("ngIf",t.showProducts)}}function Y1(n,i){if(1&n&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,J1,12,10,"ng-container",12),e.qZA()()()),2&n){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"shopStandings.shop")),e.xp6(3),e.Oqu(e.lcZ(11,5,"shopStandings.numProducts")),e.xp6(4),e.Q6J("ngForOf",t.standings)}}function Aw(n,i){1&n&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"small",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shopStandings.noDataEnough")))}function Iw(n,i){1&n&&(e.TgZ(0,"small",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.hij("",e.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function Q1(n,i){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.TgZ(2,"div",27)(3,"small",28),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",29),e._UZ(8,"span",30),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,Iw,5,3,"small",31),e.qZA()()),2&n){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"shopStandings.noResults"),". ",e.lcZ(6,6,"shopStandings.possibleReasons"),":"),e.xp6(6),e.hij("",e.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),e.xp6(2),e.Q6J("ngIf",t.onlyFavourites)}}let Wv=(()=>{class n{constructor(t,o,d){this.shopProductService=t,this.shopService=o,this.productService=d,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],o=[],d=[];this.shopsProducts.forEach(g=>{(!this.onlyFavourites||this.isFavouriteProduct(g.productBarcode))&&t.indexOf(g.productBarcode)<0&&t.push(g.productBarcode)}),this.shopsProducts.forEach(g=>{(!this.onlyFavourites||this.isFavouriteProduct(g.productBarcode))&&o.indexOf(g.shopId)<0&&o.push(g.shopId)}),(t.length>1||o.length>1)&&t.forEach(g=>{const C=this.shopsProducts.filter(F=>F.productBarcode===g),A=[];if(C.forEach(F=>{A.indexOf(F.shopId)<0&&A.push(F.shopId)}),A.length>1){const F=this.shopsProducts.filter(Tt=>Tt.productBarcode===g);let te=[];A.forEach(Tt=>{te.push(F.filter(Ut=>Ut.shopId===Tt)[0])}),te=te.sort((Tt,Ut)=>Tt.updateDate>Ut.updateDate?-1:1);const Me=te.sort((Tt,Ut)=>Tt.price>Ut.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let yt=[];if(te.length>1&&Me[0].price!==Me[Me.length-1].price){const Tt=te[0].price,Ut=this.productService._products.find(Lt=>te[0].productBarcode===Lt.barcode);yt=te.filter(Lt=>Lt.price===Tt).map(Lt=>Lt.shopId),yt.forEach(Lt=>{const On=d.findIndex(or=>or.shopId===Lt);On>=0?(d[On].times++,d[On].products.push(Ut)):d.push({shopId:Lt,times:1,products:[Ut],showProducts:!1})})}}}),this.standings=d.sort((g,C)=>g.times>C.times?-1:1)}getShopName(t){var o;return null===(o=this.shops.find(d=>d.id===t))||void 0===o?void 0:o.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,d)=>o.name>d.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((o,d)=>o.updateDate>d.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts,this.calculateStandings()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Kr),e.Y36(Ao.d),e.Y36(Io.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[e.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,$1,4,3,"div",2),e.YNc(3,Dw,4,3,"div",2),e.YNc(4,Sw,1,0,"ng-container",3),e.YNc(5,Y1,15,7,"div",4),e.qZA()(),e.YNc(6,Aw,5,3,"ng-template",null,5,e.W1O),e.YNc(8,Q1,13,10,"ng-template",null,6,e.W1O)),2&t){const d=e.MAs(7),g=e.MAs(9);e.xp6(2),e.Q6J("ngIf","CHEAP"===o.target),e.xp6(1),e.Q6J("ngIf","EXPENSIVE"===o.target),e.xp6(1),e.Q6J("ngIf",o.shopsProducts.length>0)("ngIfElse",d),e.xp6(1),e.Q6J("ngIf",(null==o.standings?null:o.standings.length)>0)("ngIfElse",g)}},directives:[p.O5,p.sg,p.mk],pipes:[bs,p.JJ],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function $v(n,i){1&n&&e.GkF(0)}function X1(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",8)(1,"span",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",10),e.TgZ(3,"span",11),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",12),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.analysis")))}let Pw=(()=>{class n{constructor(t,o,d){this.router=t,this.spinner=o,this.productService=d,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(gc),e.Y36(Io.M))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,$v,1,0,"ng-container",1),e.TgZ(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(g){return o.onlyFavourites=g}),e.qZA(),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),e.qZA(),e.YNc(10,X1,11,6,"ng-template",null,7,e.W1O)),2&t){const d=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(2),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(6,7,"commons.onlyFavouriteProducts")),e.xp6(3),e.Q6J("onlyFavourites",o.onlyFavourites)("target","CHEAP"),e.xp6(1),e.Q6J("onlyFavourites",o.onlyFavourites)("target","EXPENSIVE")}},directives:[p.tP,un,M,ko,Wv],pipes:[bs],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function eb(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleShopList()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",14),e.TgZ(6,"span",15),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"small",16),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e.TgZ(12,"div",11)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleProductList()}),e.TgZ(14,"div",8)(15,"div",13),e._UZ(16,"i",18),e.TgZ(17,"span",15),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"small",16),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(7),e.Oqu(e.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(11,7,"home.shops")),e.xp6(8),e.Oqu(e.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(22,12,"home.products"))}}function tb(n,i){if(1&n&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}const Ow=function(n){return{disabled:n}},bE=function(n){return{"mb-3":n}};function CE(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleAlerts()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",20),e.YNc(6,tb,3,4,"span",21),e.TgZ(7,"small",16),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()(),e.TgZ(10,"div",11)(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleStatistics()}),e.TgZ(12,"div",8)(13,"div",13),e._UZ(14,"i",23),e.TgZ(15,"small",16),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(9,Ow,!t.alerts)),e.xp6(3),e.Q6J("ngClass",e.VKq(11,bE,!t.alerts_unread)),e.xp6(1),e.Q6J("ngIf",t.alerts_unread),e.xp6(2),e.Oqu(e.lcZ(9,5,"home.alerts")),e.xp6(8),e.Oqu(e.lcZ(17,7,"home.analysis"))}}function wE(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,eb,23,14,"ng-container",5),e.qZA(),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().scan()}),e.TgZ(7,"div",8),e._UZ(8,"i",9),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",4),e.YNc(16,CE,18,13,"ng-container",5),e.qZA()()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.products.length>0),e.xp6(6),e.Oqu(e.lcZ(11,4,"home.scan")),e.xp6(3),e.Oqu(e.lcZ(14,6,"home.here")),e.xp6(3),e.Q6J("ngIf",t.products.length>0)}}function nb(n,i){1&n&&(e.TgZ(0,"div",24),e._uU(1," Carregant... "),e.qZA())}let Mw=(()=>{class n{constructor(t,o,d,g,C,A){this.router=t,this.productService=o,this.shopService=d,this.shopProductService=g,this.spinner=C,this.alertService=A,this.alerts=0,this.alerts_unread=0}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}toggleAlerts(){this.router.navigate(["alerts"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((o,d)=>o.name.toUpperCase()>d.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((o,d)=>o.name.toUpperCase()>d.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopProductService.shopsProducts.subscribe(()=>{this.alertService.calculateAlerts(!1)}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.shops=this.shopService._shops,this.products=this.productService._products,this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Io.M),e.Y36(Ao.d),e.Y36(Kr),e.Y36(gc),e.Y36(Of))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"ngClass","click"],[1,"fas","fa-triangle-exclamation",3,"ngClass"],["class","count",4,"ngIf"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.YNc(0,wE,17,8,"ng-container",0),e.YNc(1,nb,2,0,"ng-template",null,1,e.W1O)),2&t){const d=e.MAs(2);e.Q6J("ngIf",o.products&&o.shops)("ngIfElse",d)}},directives:[p.O5,p.mk],pipes:[p.JJ,bs],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function Nw(n,i){if(1&n&&e._UZ(0,"img",7),2&n){const t=e.oxw(2);e.Q6J("src",t.getImageUrl(t.currentLanguage),e.LSH)}}function Rw(n,i){if(1&n&&e._UZ(0,"img",7),2&n){const t=e.oxw(2).$implicit,o=e.oxw(2);e.Q6J("src",o.getImageUrl(t),e.LSH)}}function TE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",9),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(2).setLanguage(d)}),e.TgZ(1,"div",10),e.YNc(2,Rw,1,1,"img",4),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(2),e.Q6J("ngIf",o.languageImages),e.xp6(2),e.Oqu(o.getLabel(t))}}function EE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,TE,5,2,"li",8),e.BQk()),2&n){const t=i.$implicit,o=e.oxw(2);e.xp6(1),e.Q6J("ngIf",o.currentLanguage!==t)}}function DE(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.YNc(4,Nw,1,1,"img",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,EE,2,1,"ng-container",6),e.qZA()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.languageImages),e.xp6(2),e.Q6J("ngForOf",t.languages)}}let kw=(()=>{class n{constructor(t,o){this.translate=t,this.translationsService=o}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(Oi.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(o=>o.language===t).imageUrl}getLabel(t){return this.languageImages.find(o=>o.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Bs),e.Y36(Tp))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,o){1&t&&e.YNc(0,DE,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",o.currentLanguage&&o.languages)},directives:[p.O5,p.sg],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function SE(n,i){if(1&n&&(e.TgZ(0,"div",4),e._UZ(1,"i"),e.TgZ(2,"div",5)(3,"strong",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",7),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Tol(t.iconClass),e.xp6(3),e.Oqu(e.lcZ(5,4,t.title)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.text))}}function Lw(n,i){1&n&&(e.ynx(0),e.YNc(1,SE,9,8,"ng-template",3),e.BQk())}function P0(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ngb-carousel"),e.YNc(2,Lw,2,0,"ng-container",2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.slides)}}let Fw=(()=>{class n{constructor(t,o){this.translate=o,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"},{title:"carousel.step5.title",text:"carousel.step5.text",iconClass:"fas fa-share-nodes"},{title:"carousel.step6.title",text:"carousel.step6.text",iconClass:"fas fa-bell"}]}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Qy),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,P0,3,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",o.slides))},directives:[p.O5,Xy,p.sg,yv],pipes:[bs],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function Bw(n,i){1&n&&(e.TgZ(0,"span",23)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.error")))}function rb(n,i){}function Qf(n,i){1&n&&e.YNc(0,rb,0,0,"ng-template")}function ib(n,i){1&n&&(e.TgZ(0,"div",24),e._UZ(1,"app-carousel"),e.qZA())}const Kv=function(n){return{disabled:n}},Jv=function(){return["/register"]};let Uw=(()=>{class n{constructor(t,o,d){this.loginService=t,this.firestoreAuthService=o,this.router=d,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.login(t,o).then(d=>{console.log(d),d?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:t,password:o}=this.user;this.firestoreAuthService.loginWithGoogle(t,o).then(d=>{d?(console.log(d),this.loginService.login({username:d.user.displayName,email:d.user.email,photoURL:d.user.photoURL}),this.router.navigate(["home"])):this.loginError=!0})}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(er.r),e.Y36(Dp),e.Y36(qr))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-language-selector"),e.qZA(),e.TgZ(7,"small",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(g){return o.user.email=g}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(g){return o.user.password=g}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,Bw,4,3,"span",13),e.qZA()()(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return o.login()}),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return o.loginGoogle()}),e._UZ(31,"img",17),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"label",18)(35,"small",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"a",20),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.YNc(41,Qf,1,0,null,21),e.qZA(),e.YNc(42,ib,2,0,"ng-template",null,22,e.W1O)),2&t){const d=e.MAs(43);e.xp6(4),e.hij(" ",e.lcZ(5,16,"login.welcome")," "),e.xp6(4),e.Oqu(e.lcZ(9,18,"login.welcome.subtitle")),e.xp6(7),e.Oqu(e.lcZ(16,20,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,22,"login.email")),e.Q6J("ngModel",o.user.email),e.xp6(4),e.Oqu(e.lcZ(22,24,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"login.password")),e.Q6J("ngModel",o.user.password),e.xp6(2),e.Q6J("ngIf",o.loginError),e.xp6(2),e.Q6J("ngClass",e.VKq(36,Kv,!o.canAccess())),e.xp6(1),e.hij(" ",e.lcZ(29,28,"login.access")," "),e.xp6(4),e.hij(" ",e.lcZ(33,30,"login.accessGoogle")," "),e.xp6(4),e.Oqu(e.lcZ(37,32,"login.notAccount")),e.xp6(2),e.Q6J("routerLink",e.DdM(38,Jv)),e.xp6(1),e.Oqu(e.lcZ(40,34,"login.register")),e.xp6(2),e.Q6J("ngTemplateOutlet",d)}},directives:[kw,vr,Os,M,ko,p.O5,p.mk,pc,p.tP,Fw],pipes:[bs],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();var Xf=(()=>{return(n=Xf||(Xf={})).CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT",Xf;var n})();let Ym=(()=>{class n{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(bh.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function O0(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function xE(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,O0,2,1,"ng-container",0),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.imageUrl),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.brand," ")}}let AE=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,o){1&t&&e.YNc(0,xE,9,3,"ng-container",0),2&t&&e.Q6J("ngIf",o.name||o.brand||o.imageUrl)},directives:[p.O5],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const IE=["priceInput"];function PE(n,i){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.init")))}function ob(n,i){1&n&&(e.TgZ(0,"div",15),e._UZ(1,"i",18),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.initError")))}function jw(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),e.NdJ("valueChanges",function(d){return e.CHM(t),e.oxw().onValueChanges(d)})("started",function(d){return e.CHM(t),e.oxw().onStarted(d)}),e.qZA(),e.YNc(3,PE,5,3,"div",14),e.YNc(4,ob,5,3,"div",14),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.barcodeScannerStarted),e.xp6(1),e.Q6J("ngIf",t.barcodeScannerError)}}function Vw(n,i){if(1&n&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()()),2&n){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"scanner.code"),":"),e.xp6(3),e.Oqu(t.barcodeValue)}}function Gw(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.productRegistered")))}function Hw(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"i",23),e.YNc(2,Gw,3,3,"span",0),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isSavedProduct)}}function sb(n,i){1&n&&(e.ynx(0),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotRegistered")))}function ab(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"i",27),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"scanner.productUnknown")))}function cb(n,i){if(1&n&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,Vw,6,4,"div",0),e.TgZ(3,"div",21)(4,"small"),e.YNc(5,Hw,3,1,"ng-container",0),e.YNc(6,sb,5,3,"ng-container",0),e.YNc(7,ab,7,3,"ng-container",0),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),e.xp6(3),e.Q6J("ngIf",t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function qw(n,i){1&n&&e.GkF(0)}function Zw(n,i){if(1&n&&(e.ynx(0),e.YNc(1,qw,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function lb(n,i){1&n&&e.GkF(0)}function Yv(n,i){if(1&n&&(e.ynx(0),e.YNc(1,lb,1,0,"ng-container",28),e.BQk()),2&n){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function OE(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Zw,2,1,"ng-container",0),e.YNc(2,Yv,2,1,"ng-container",0),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function ub(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function Qv(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function zw(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("name","?")("brand","?")("imageUrl",t.DEFAULT_IMAGE_URL)}}function Ww(n,i){1&n&&e.GkF(0)}function ME(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,Ww,1,0,"ng-container",28),e.qZA(),e.BQk()),2&n){e.oxw(2);const t=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function NE(n,i){if(1&n&&(e.YNc(0,ub,2,3,"ng-container",0),e.YNc(1,Qv,2,3,"ng-container",0),e.YNc(2,zw,2,3,"ng-container",0),e.YNc(3,ME,3,1,"ng-container",0)),2&n){const t=e.oxw();e.Q6J("ngIf",t.savedProduct),e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function RE(n,i){1&n&&e.GkF(0)}function $w(n,i){if(1&n&&(e.TgZ(0,"div",31),e.YNc(1,RE,1,0,"ng-container",28),e.qZA()),2&n){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Kw(n,i){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const Jw=function(n){return{disabled:n}};function kE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().newProduct.barcode=d}),e.qZA()(),e.TgZ(6,"div",33)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",37),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().newProduct.name=d}),e.qZA()(),e.TgZ(11,"div",33)(12,"label",38),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().newProduct.brand=d}),e.qZA()()(),e.TgZ(16,"div",32)(17,"div",33)(18,"label",40),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"select",41),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProduct.shopId=d})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(22,"option"),e.YNc(23,Kw,2,2,"option",42),e.qZA()(),e.TgZ(24,"div",33)(25,"label",43),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",44,45),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProduct.price=d}),e.qZA()()(),e.TgZ(30,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().createProduct()}),e._UZ(31,"i",47),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,17,"scanner.code")),e.xp6(2),e.s9C("value",t.newProduct.barcode),e.Q6J("ngModel",t.newProduct.barcode),e.xp6(3),e.Oqu(e.lcZ(9,19,"scanner.name")),e.xp6(2),e.s9C("value",t.newProduct.name),e.Q6J("ngModel",t.newProduct.name),e.xp6(3),e.Oqu(e.lcZ(14,21,"scanner.brand")),e.xp6(2),e.s9C("value",t.newProduct.brand),e.Q6J("ngModel",t.newProduct.brand),e.xp6(4),e.Oqu(e.lcZ(20,23,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(27,25,"scanner.proce")),e.xp6(2),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(29,Jw,!t.canCreateProductAndPrice())),e.xp6(3),e.Oqu(e.lcZ(34,27,"scanner.productPriceSave"))}}function LE(n,i){if(1&n&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function FE(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",41),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProduct.shopId=d})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(6,"option"),e.YNc(7,LE,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",33)(9,"label",43),e._uU(10,"Preu"),e.qZA(),e.TgZ(11,"input",44,45),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProduct.price=d}),e.qZA()(),e.TgZ(13,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveShopProduct()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,7,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(4),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Jw,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length)),e.xp6(1),e.hij(" ",e.lcZ(15,9,"scanner.save")," ")}}function BE(n,i){1&n&&(e.TgZ(0,"div",50),e._UZ(1,"i",51),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.instructions")))}function Yw(n,i){1&n&&(e.TgZ(0,"div",52),e._UZ(1,"i",53),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotFound")))}function UE(n,i){1&n&&(e.TgZ(0,"div",52),e._UZ(1,"i",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.searchingProduct")))}function jE(n,i){1&n&&(e.TgZ(0,"div",55),e._UZ(1,"i",56),e.qZA())}function VE(n,i){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.shopProduct))}}function GE(n,i){if(1&n&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newProduct))}}function s(n,i){if(1&n&&(e.TgZ(0,"small")(1,"ul",57)(2,"li"),e._uU(3),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA(),e.TgZ(10,"li"),e._uU(11,"-------------------------"),e.qZA(),e.YNc(12,VE,3,3,"li",0),e.YNc(13,GE,3,3,"li",0),e.qZA()()),2&n){const t=e.oxw();e.xp6(3),e.hij("mode: ",t.mode,""),e.xp6(2),e.hij("isSavedProduct: ",t.isSavedProduct,""),e.xp6(2),e.hij("openFoodProductFound: ",t.openFoodProductFound,""),e.xp6(2),e.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),e.xp6(3),e.Q6J("ngIf",t.shopProduct),e.xp6(1),e.Q6J("ngIf",t.newProduct)}}let a=(()=>{class n{constructor(t,o,d,g,C,A){this.openFoodService=t,this.productService=o,this.shopService=d,this.shopProductService=g,this.loginService=C,this.translate=A,this.onSaveProduct=new e.vpe,this.onCreateProduct=new e.vpe,this.onSaveShopProduct=new e.vpe,this.onProductFound=new e.vpe,this.onBarcodeRead=new e.vpe,this.DEFAULT_IMAGE_URL=Po.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new Ir.x,this.ProductScanModeEnum=Xf,this.barcodeChanged.pipe(Wc(500),Da()).subscribe(F=>{this.barcodeValue!==F.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=F.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(te=>te.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(te=>te.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(o=>{this.openFoodProduct=o,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==o.product,this.openFoodProductFound&&this.onProductFound.emit();const d=this.products.find(g=>g.barcode===t);d&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=d.brand,this.openFoodProduct.product.image_url=d.imageUrl,this.openFoodProduct.product.product_name=d.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,o,d,g,C,A;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const F={id:Vt(),barcode:this.barcodeValue,brand:(null===(o=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===o?void 0:o.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(g=null===(d=this.openFoodProduct)||void 0===d?void 0:d.product)||void 0===g?void 0:g.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(A=null===(C=this.openFoodProduct)||void 0===C?void 0:C.product)||void 0===A?void 0:A.image_url)?this.openFoodProduct.product.image_url:Po.T};this.onSaveProduct.emit(F)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,o,d,g,C,A;this.products.find(te=>te.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:Vt(),barcode:this.shopProduct.productBarcode,brand:(null===(o=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===o?void 0:o.brands)||"?",favourite:!1,name:(null===(g=null===(d=this.openFoodProduct)||void 0===d?void 0:d.product)||void 0===g?void 0:g.product_name)||"?",imageUrl:(null===(A=null===(C=this.openFoodProduct)||void 0===C?void 0:C.product)||void 0===A?void 0:A.image_url)||Po.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start();const t=localStorage.getItem(Oi.M.PS_LAST_SHOP_ID);this.newProduct={id:Vt(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:Po.T},this.shopProduct={price:0,productBarcode:void 0,shopId:t||void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(o=>{this.shopsProducts=o}),this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(t){this.barcodeScannerStarted=t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(Ym),e.Y36(Io.M),e.Y36(Ao.d),e.Y36(Kr),e.Y36(er.r),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(t,o){if(1&t&&(e.Gf(z0,5),e.Gf(IE,5)),2&t){let d;e.iGM(d=e.CRH())&&(o.barcodeScanner=d.first),e.iGM(d=e.CRH())&&(o.priceInput=d.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,o){if(1&t&&(e.YNc(0,jw,5,2,"ng-container",0),e.YNc(1,cb,8,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,OE,3,2,"ng-container",0),e.qZA(),e.YNc(4,NE,4,4,"ng-template",null,3,e.W1O),e.YNc(6,$w,2,1,"div",4),e.YNc(7,kE,35,31,"ng-template",null,5,e.W1O),e.YNc(9,FE,16,13,"ng-template",null,6,e.W1O),e.YNc(11,BE,5,3,"ng-template",null,7,e.W1O),e.YNc(13,Yw,5,3,"ng-template",null,8,e.W1O),e.YNc(15,UE,5,3,"ng-template",null,9,e.W1O),e.YNc(17,jE,2,0,"ng-template",null,10,e.W1O),e.YNc(19,s,14,6,"ng-template",null,11,e.W1O)),2&t){const d=e.MAs(12);e.Q6J("ngIf",!o.openFoodProductFound&&!o.isSavedProduct),e.xp6(1),e.Q6J("ngIf",o.barcodeValue)("ngIfElse",d),e.xp6(2),e.Q6J("ngIf",o.barcodeValue),e.xp6(3),e.Q6J("ngIf",!1)}},directives:[p.O5,z0,p.tP,AE,vr,M,ko,ga,Lc,nn,p.sg,Oc,p.mk],pipes:[bs,p.Ts],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const u=["barcodeInput"],f=["priceInput"];function _(n,i){1&n&&e.GkF(0)}function y(n,i){1&n&&e._UZ(0,"i",12)}function T(n,i){1&n&&e._UZ(0,"i",12)}function I(n,i){1&n&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&n&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"scanner.searchInstructions")," "))}function L(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"app-barcode-scanner",14),e.NdJ("onSaveShopProduct",function(d){return e.CHM(t),e.oxw().saveShopProduct(d)})("onCreateProduct",function(d){return e.CHM(t),e.oxw().createProduct(d)})("onProductFound",function(){return e.CHM(t),e.oxw().productFound=!0})("onBarcodeRead",function(){return e.CHM(t),e.oxw().barcodeRead=!0}),e.qZA(),e.YNc(3,I,5,3,"div",15),e.qZA(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("mode",t.ProductScanModeEnum.CREATE),e.xp6(1),e.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function z(n,i){1&n&&e.GkF(0)}function ee(n,i){1&n&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.scanner")))}function Ae(n,i){1&n&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.manual")))}function Ze(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",22),e._uU(7,"/"),e.qZA(),e.YNc(8,ee,3,3,"span",23),e.YNc(9,Ae,3,3,"span",23),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf","SCANNER"===t.mode),e.xp6(1),e.Q6J("ngIf","MANUAL"===t.mode)}}function ft(n,i){if(1&n&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&n){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const Nt=function(n){return{readonly:n}},cn=function(n){return{disabled:n}};function Pn(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e.TgZ(2,"div",27)(3,"label",28),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",29)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",31,32),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().productDetail.barcode=d}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",33)(14,"label",34),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().productDetail.name=d}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",33)(19,"label",36),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",37),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().productDetail.brand=d}),e.ALo(23,"translate"),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",38)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",33)(30,"label",39),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",40),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProductDetail.shopId=d})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(34,"option"),e.YNc(35,ft,2,2,"option",41),e.qZA()(),e.TgZ(36,"div",33)(37,"label",42),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",43,44),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopProductDetail.price=d}),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",45),e.NdJ("click",function(){e.CHM(t);const d=e.oxw();return d.createProduct({product:d.productDetail,shopProduct:d.shopProductDetail})}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(5,25,"scanner.product")),e.xp6(4),e.Oqu(e.lcZ(9,27,"scanner.code")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.barcode),e.s9C("placeholder",e.lcZ(12,29,"scanner.code")),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(6),e.s9C("value",null==t.productDetail?null:t.productDetail.name),e.s9C("placeholder",e.lcZ(17,31,"scanner.name")),e.Q6J("ngClass",e.VKq(47,Nt,t.lockProductEdition))("ngModel",t.productDetail.name),e.xp6(4),e.Oqu(e.lcZ(21,33,"scanner.brand")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.brand),e.s9C("placeholder",e.lcZ(23,35,"scanner.brand")),e.Q6J("ngClass",e.VKq(49,Nt,t.lockProductEdition))("ngModel",t.productDetail.brand),e.xp6(5),e.Oqu(e.lcZ(28,37,"scanner.price")),e.xp6(4),e.Oqu(e.lcZ(32,39,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProductDetail.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(39,41,"scanner.price")),e.xp6(2),e.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),e.s9C("placeholder",e.lcZ(42,43,"scanner.price")),e.Q6J("ngModel",t.shopProductDetail.price),e.xp6(3),e.Q6J("ngClass",e.VKq(51,cn,!t.canCreateProductAndPrice())),e.xp6(2),e.Oqu(e.lcZ(46,45,"scanner.save"))}}const Wn=function(n){return{active:n}},qt=function(n){return{hidden:n}};let gr=(()=>{class n{constructor(t,o,d,g,C,A,F){this.router=t,this.shopProductService=o,this.productService=d,this.loginService=g,this.shopService=C,this.openFoodService=A,this.translate=F,this.ProductScanModeEnum=Xf,this.productDetail={id:Vt(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.lastShopId="",this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:Vt(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:Po.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:this.lastShopId,updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),co(this.barcodeInput.nativeElement,"keyup").pipe((0,on.U)(o=>o.target.value),(0,hi.h)(o=>o.length>2),Wc(500),Da()).subscribe(o=>{console.log("barcodeInput changed:",o),this.shopProductDetail.productBarcode=o,this.productDetail.barcode=o,this.lockProductEdition=!0,this.matchingBarcode=!0;const d=this.productService._products.find(g=>g.barcode===o);d?(this.productDetail.name=d.name,this.productDetail.barcode=d.barcode,this.productDetail.brand=d.brand,this.productDetail.favourite=d.favourite,this.productDetail.imageUrl=d.imageUrl,this.productDetail.createdBy=d.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(o).subscribe(g=>{void 0!==g.product?(this.productDetail.name=g.product.product_name,this.productDetail.barcode=o,this.productDetail.brand=g.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=g.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=Po.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,o,d,g;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(o=this.productDetail.name)||void 0===o?void 0:o.length)>0&&(null===(d=this.productDetail.brand)||void 0===d?void 0:d.length)>0&&this.shopProductDetail&&(null===(g=this.shopProductDetail.productBarcode)||void 0===g?void 0:g.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Oi.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(d=>d.productBarcode===this.shopProductDetail.productBarcode&&d.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Oi.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Oi.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Oi.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(o=>{this.shopsProducts=o}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(o=>{this.shops=o}),this.shops=this.shopService._shops;const t=localStorage.getItem(Oi.M.PS_LAST_SHOP_ID);t&&(this.lastShopId=t,this.shopProductDetail.shopId=t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Kr),e.Y36(Io.M),e.Y36(er.r),e.Y36(Ao.d),e.Y36(Ym),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,o){if(1&t&&(e.Gf(u,5),e.Gf(f,5)),2&t){let d;e.iGM(d=e.CRH())&&(o.barcodeInput=d.first),e.iGM(d=e.CRH())&&(o.priceInput=d.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,_,1,0,"ng-container",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.setMode("SCANNER")}),e.YNc(5,y,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.setMode("MANUAL")}),e.YNc(9,T,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,L,4,2,"ng-container",7),e.TgZ(14,"div",8),e.YNc(15,z,1,0,"ng-container",2),e.qZA(),e._UZ(16,"div",9),e.qZA()(),e.YNc(17,Ze,10,5,"ng-template",null,10,e.W1O),e.YNc(19,Pn,47,53,"ng-template",null,11,e.W1O)),2&t){const d=e.MAs(18),g=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",d),e.xp6(2),e.Q6J("ngClass",e.VKq(16,Wn,"SCANNER"===o.mode)),e.xp6(1),e.Q6J("ngIf","SCANNER"===o.mode),e.xp6(1),e.hij(" ",e.lcZ(7,12,"scanner.scanner")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,Wn,"MANUAL"===o.mode)),e.xp6(1),e.Q6J("ngIf","MANUAL"===o.mode),e.xp6(1),e.hij(" ",e.lcZ(11,14,"scanner.manual")," "),e.xp6(3),e.Q6J("ngIf","SCANNER"===o.mode),e.xp6(1),e.Udp("height","MANUAL"!==o.mode?"0px":"auto"),e.Q6J("ngClass",e.VKq(20,qt,"MANUAL"!==o.mode)),e.xp6(1),e.Q6J("ngTemplateOutlet",g)}},directives:[p.tP,p.mk,p.O5,a,Oc,vr,Os,M,ko,ga,Lc,nn,p.sg],pipes:[bs],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),n})(),li=(()=>{class n{constructor(t){this.router=t,this.history=[],this.router.events.pipe((0,hi.h)(o=>o instanceof va)).subscribe(o=>{("/"===o.url||"/home"===o.url)&&(this.history=[]),this.history.unshift(o.url)})}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(qr))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ui(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",7)(2,"span",3),e._uU(3),e.qZA()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",t.pathUrl),e.xp6(2),e.Oqu(t.label)}}function Dc(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function ep(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2,"/"),e.qZA(),e.YNc(3,Ui,4,2,"ng-container",6),e.YNc(4,Dc,3,1,"ng-container",6),e.BQk()),2&n){const t=i.index,o=e.oxw();e.xp6(3),e.Q6J("ngIf",t<o.steps.length-1),e.xp6(1),e.Q6J("ngIf",t===o.steps.length-1)}}let M0=(()=>{class n{constructor(t,o,d,g,C,A){this.router=t,this.route=o,this.navigationService=d,this.shopService=g,this.productService=C,this.translate=A,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(o=>o.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(o=>o.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){let t=JSON.parse(JSON.stringify(this.navigationService.history));if(t.length>2&&(t=t.slice(0,2).reverse()),this.steps=t.map(o=>({label:this.getLabel(o),pathUrl:o})),0===t.length)if(window.location.href.match("/edit-shop")){const o=this.route.snapshot.params.id;this.steps.push({label:this.shopService._shops.find(d=>d.id===o).name,pathUrl:""})}else if(window.location.href.match("/edit-product")){const o=this.route.snapshot.params.barcode;this.steps.push({label:this.productService._products.find(d=>d.barcode===o).name,pathUrl:""})}if(this.steps.length>1){const d=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&d.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(wa),e.Y36(li),e.Y36(Ao.d),e.Y36(Io.M),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return o.exit()}),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,ep,5,2,"ng-container",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(2),e.Q6J("ngForOf",o.steps))},directives:[p.sg,p.O5,fc],pipes:[bs],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function Xv(n,i){1&n&&e.GkF(0)}function ey(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Xv,1,0,"ng-container",11),e.BQk()),2&n){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ty(n,i){1&n&&e._UZ(0,"i",12)}function ny(n,i){1&n&&e._UZ(0,"i",12)}function ry(n,i){1&n&&e._UZ(0,"i",12)}const Qm=function(n){return{active:n}};function iy(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTab=2}),e.YNc(1,ry,1,0,"i",5),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,Qm,2===t.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(3,3,"product.characteristics")," ")}}function oy(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).productDetail.name=d}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function oS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).productDetail.name=d}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function sS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",29),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).productDetail.brand=d}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function aS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",30),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).productDetail.brand=d}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function cS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"img",32),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("src",t.productDetail.imageUrl,e.LSH)}}function lS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",33)(2,"span",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",35),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,2,"product.createdBy"),":"),e.xp6(3),e.Oqu(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.username?null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username:null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.substr(0,null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.indexOf("@")))}}const uS=function(n){return{"pb-1":n}},Qw=function(n){return{disabled:n}};function dS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"label",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",18),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(2).productDetail.barcode=d}),e.qZA()(),e.TgZ(9,"div",16)(10,"label",19),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,oy,3,4,"ng-container",2),e.YNc(14,oS,3,4,"ng-container",2),e.qZA(),e.TgZ(15,"div",16)(16,"label",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,sS,3,4,"ng-container",2),e.YNc(20,aS,3,4,"ng-container",2),e.qZA(),e.TgZ(21,"div",21)(22,"input",22),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(2).productDetail.favourite=d}),e.qZA(),e.TgZ(23,"label",23),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,cS,3,1,"ng-container",2),e.qZA()()(),e.YNc(27,lS,7,4,"ng-container",2),e.TgZ(28,"div",24)(29,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updateProduct()}),e._UZ(30,"span",26),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(25,uS,null==t.productDetail?null:t.productDetail.createdBy)),e.xp6(5),e.Oqu(e.lcZ(7,15,"product.barcode")),e.xp6(2),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(3),e.Oqu(e.lcZ(12,17,"product.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(3),e.Oqu(e.lcZ(18,19,"product.brand")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.productDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(25,21,"product.favourite")),e.xp6(2),e.Q6J("ngIf",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngIf",null==t.productDetail?null:t.productDetail.createdBy),e.xp6(2),e.Q6J("ngClass",e.VKq(27,Qw,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1)),e.xp6(2),e.hij(" ",e.lcZ(32,23,"product.save")," ")}}function hS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",51),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(4).removeShopProduct(d)}),e.qZA()}}function fS(n,i){if(1&n&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username||t.createdBy.email,")")}}const pS=function(n){return{"fw-bold":n}};function gS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",54)(2,"div",55)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,fS,2,1,"span",56),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",57),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(6).removeShopProduct(g)}),e.qZA()()()()}if(2&n){const t=i.$implicit,o=i.index,d=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.VKq(11,pS,0===o)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",d.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,Qw,!d.canRemoveShopProduct(t)))}}function mS(n,i){if(1&n&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,gS,12,15,"li",41),e.qZA()()),2&n){const t=e.oxw(5);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const _S=function(n){return[n]};function vS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",42)(2,"div",43),e._UZ(3,"img",44),e.TgZ(4,"a",45),e._uU(5),e.qZA(),e.TgZ(6,"div",46)(7,"span",47),e.YNc(8,hS,1,0,"span",48),e.TgZ(9,"i",49),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(4).showHistory(g)}),e.qZA(),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,mS,3,1,"li",50),e.BQk()}if(2&n){const t=i.$implicit,o=e.oxw(4);e.xp6(3),e.Q6J("src",o.getShopImage(t.shopId),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,_S,"/edit-shop/"+t.shopId)),e.xp6(1),e.hij("",o.getShopName(t.shopId)," "),e.xp6(3),e.Q6J("ngIf",o.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Qw,!o.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(11,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===t.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===t.productBarcode)}}function yS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ul",40),e.YNc(2,vS,13,14,"ng-container",41),e.qZA(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function bS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",37)(3,"button",38),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,yS,3,1,"ng-container",39),e.BQk(),e.qZA(),e.BQk()),2&n){const t=e.oxw(2),o=e.MAs(20);e.xp6(4),e.hij(" ",e.lcZ(5,4,"product.pricesInShops")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",o)}}function CS(n,i){1&n&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.qZA(),e.BQk())}function wS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",63),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"small",63),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.category")),e.xp6(3),e.Oqu(null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories)}}function TS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nutri-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nutriscore-"+t.openFoodProduct.product.nutriscore_data.grade+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nutriscore."+t.openFoodProduct.product.nutriscore_data.grade))}}function ES(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nova group"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",68),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nova-group-"+t.openFoodProduct.product.nova_group+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nova.nova"+t.openFoodProduct.product.nova_group))}}function DS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Eco-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",69),e.TgZ(6,"small",70),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/ecoscore-"+t.openFoodProduct.product.ecoscore_grade.replace("not-applicable","unknown")+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.ecoscore.ecoscore"+t.openFoodProduct.product.ecoscore_grade.toUpperCase().replace("-","")))}}function SS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",65)(6,"small"),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.allergens")),e.xp6(4),e.Oqu(t.getAlergens())}}const db=function(n){return{levelValue:n}};function xS(n,i){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,db,t.openFoodProduct.product.nutrient_levels.fat))}}function AS(n,i){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,db,t.openFoodProduct.product.nutrient_levels.salt))}}function IS(n,i){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,db,t.openFoodProduct.product.nutrient_levels["saturated-fat"]))}}function PS(n,i){if(1&n&&e.GkF(0,74),2&n){const t=e.oxw(4),o=e.MAs(22);e.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",e.VKq(2,db,t.openFoodProduct.product.nutrient_levels.sugars))}}function OS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",71)(6,"div",72)(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,xS,1,4,"ng-container",73),e.qZA(),e.TgZ(11,"div",72)(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,AS,1,4,"ng-container",73),e.qZA(),e.TgZ(16,"div",72)(17,"small"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,IS,1,4,"ng-container",73),e.qZA(),e.TgZ(21,"div",72)(22,"small"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,PS,1,4,"ng-container",73),e.qZA()()(),e.BQk()),2&n){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,9,"product.nutrientLevels")),e.xp6(5),e.Oqu(e.lcZ(9,11,"product.nutrients.fat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.fat),e.xp6(3),e.Oqu(e.lcZ(14,13,"product.nutrients.salt")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.salt),e.xp6(3),e.Oqu(e.lcZ(19,15,"product.nutrients.saturedFat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels["saturated-fat"]),e.xp6(3),e.Oqu(e.lcZ(24,17,"product.nutrients.sugars")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.sugars)}}function MS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",59),e.YNc(2,CS,3,0,"ng-container",2),e.YNc(3,wS,7,4,"ng-container",2),e.YNc(4,TS,9,4,"ng-container",2),e.YNc(5,ES,9,4,"ng-container",2),e.YNc(6,DS,9,4,"ng-container",2),e.YNc(7,SS,8,4,"ng-container",2),e.YNc(8,OS,26,19,"ng-container",2),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loadingOpenFoodProduct),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutriscore_data?null:t.openFoodProduct.product.nutriscore_data.grade),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.nova_group),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.ecoscore_grade),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.allergens?null:t.openFoodProduct.product.allergens.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.fat)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.salt)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.sugars))}}function NS(n,i){if(1&n&&(e.ynx(0),e.YNc(1,dS,33,29,"ng-container",2),e.YNc(2,bS,11,9,"ng-container",2),e.YNc(3,MS,9,7,"ng-container",2),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.selectedTab),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.Q6J("ngIf",2===t.selectedTab)}}function RS(n,i){1&n&&e._UZ(0,"app-breadcrumbs")}function kS(n,i){1&n&&(e.TgZ(0,"div",75)(1,"small",76),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"product.noData")))}const LS=function(n,i,t){return{"bg-danger":n,"bg-warning":i,"bg-success":t}};function FS(n,i){if(1&n&&(e.TgZ(0,"div",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n){const t=i.levelValue;e.Q6J("ngClass",e.kEZ(4,LS,"high"===t,"moderate"===t,"low"===t)),e.xp6(1),e.Oqu(e.lcZ(2,2,"commons.levels."+t))}}let BS=(()=>{class n{constructor(t,o,d,g,C,A,F){this.router=t,this.route=o,this.productService=d,this.shopService=g,this.shopsProductsService=C,this.loginService=A,this.openfoodService=F,this.historyShopProductList=[],this.selectedTab=0,this.loadingOpenFoodProduct=!0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}canEdit(){var t,o;return this.loggedUser.admin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(o=this.productDetail.createdBy)||void 0===o?void 0:o.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(t)})}getShopName(t){const o=this.shops.find(d=>d.id===t);return null==o?void 0:o.name}getShopImage(t){var o;return(null===(o=this.shops.find(d=>d.id===t))||void 0===o?void 0:o.imageUrl)||Po.T}showHistory(t){this.historyShopProduct&&this.historyShopProduct.productBarcode===t.productBarcode&&this.historyShopProduct.shopId===t.shopId?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(d=>d.productBarcode===this.productDetail.barcode&&d.shopId===t.shopId).sort((d,g)=>d.updateDate<g.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===t.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const o=[];t.forEach(d=>{-1===o.indexOf(d.shopId)&&o.push(d.shopId)}),o.forEach(d=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(d,this.productDetail.barcode))}),this.shopProducts.sort((d,g)=>d.price>g.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}getAlergens(){console.log(this.openFoodProduct.product.allergens);let t=this.openFoodProduct.product.allergens.split(",");return t=t.map(o=>{const d=o.substring(o.indexOf(":")+1);return d.charAt(0).toUpperCase()+d.slice(1)}),t.toString().replace(/,/g,", ")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.productDetail=this.products.find(o=>o.barcode===t),this.loadingOpenFoodProduct=!0,this.openfoodService.loadProduct(t).subscribe(o=>{console.log(o),(null==o?void 0:o.product)&&(this.openFoodProduct=o),this.loadingOpenFoodProduct=!1}),this.getShopProducts()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(wa),e.Y36(Io.M),e.Y36(Ao.d),e.Y36(Kr),e.Y36(er.r),e.Y36(Ym))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-edit"]],decls:23,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["type","button","class","btn btn-lg btn-secondary",3,"ngClass","click",4,"ngIf"],["breadcrumb",""],["noShopsProducts",""],["levelBadge",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column","text-start"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"characteristics","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-spinner","fa-spin"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-3"],[1,"text-start"],[1,"text-start","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"nutriscore",3,"src"],[1,"text-start","ms-3","mt-3"],[1,"novagroup",3,"src"],[1,"ecoscore",3,"src"],[1,"text-start","ms-3"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"],[1,"badge","mt-1",3,"ngClass"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,ey,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.selectedTab=0}),e.YNc(5,ty,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.selectedTab=1}),e.YNc(9,ny,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.YNc(15,iy,4,7,"button",7),e.qZA()(),e.YNc(16,NS,4,3,"ng-container",2),e.qZA(),e.YNc(17,RS,1,0,"ng-template",null,8,e.W1O),e.YNc(19,kS,4,3,"ng-template",null,9,e.W1O),e.YNc(21,FS,3,8,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",o.productDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,Qm,0===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"product.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,Qm,1===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"product.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",!o.loadingOpenFoodProduct&&o.openFoodProduct.product),e.xp6(1),e.Q6J("ngIf",o.productDetail))},directives:[p.O5,p.tP,p.mk,vr,M,ko,Os,un,p.sg,pc,M0],pipes:[bs,p.JJ,p.uU],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%], .characteristics[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow:auto}.characteristics[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}img.nutriscore[_ngcontent-%COMP%], img.novagroup[_ngcontent-%COMP%]{height:70px}img.ecoscore[_ngcontent-%COMP%]{height:60px}.badge[_ngcontent-%COMP%]{font-weight:400!important}.badge.bg-danger[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{color:#fff!important}"]}),n})();const US=["productSearchInput"];function jS(n,i){1&n&&e.GkF(0)}function VS(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"img",33),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function GS(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function HS(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}const qS=function(n){return{productRange:n}};function ZS(n,i){if(1&n&&(e.ynx(0),e.GkF(1,37),e.BQk()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3),d=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",d)("ngTemplateOutletContext",e.VKq(2,qS,o.getProductPriceRange(t)))}}function zS(n,i){if(1&n&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span",36),e._uU(3),e.ALo(4,"number"),e.qZA(),e.YNc(5,GS,3,3,"span",32),e.YNc(6,HS,3,3,"span",32),e.qZA(),e.YNc(7,ZS,2,4,"ng-container",32),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(3),e.Oqu(e.xi3(4,4,o.getProductPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",o.getProductPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===o.getProductPrices(t)),e.xp6(1),e.Q6J("ngIf",o.productHasPrices(t))}}function WS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",38),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(3).doRemove(d)}),e.qZA(),e.BQk()}}function $S(n,i){if(1&n&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw(2).$implicit,o=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,o.productItemsInCart(t),"1.0-2"))}}const KS=function(n){return{"with-items-in-cart":n}};function JS(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",39),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(3).addToCart(d)}),e.qZA(),e.YNc(2,$S,3,4,"span",40),e.BQk()}if(2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,KS,o.productItemsInCart(t)>0)),e.xp6(1),e.Q6J("ngIf",o.productItemsInCart(t)>0)}}const YS=function(n,i){return{far:n,fas:i}};function QS(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",22)(1,"div",23)(2,"div",24),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(g)}),e.YNc(3,VS,2,1,"ng-container",14),e.qZA(),e.TgZ(4,"div",25),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(g)}),e.TgZ(5,"div",26)(6,"a",27),e._uU(7),e.qZA()(),e.TgZ(8,"div",28),e._uU(9),e.qZA(),e.YNc(10,zS,8,7,"div",29),e.qZA(),e.TgZ(11,"div",30)(12,"span",31),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(g.barcode)}),e.qZA(),e.YNc(13,WS,2,0,"ng-container",32),e.YNc(14,JS,3,4,"ng-container",32),e.qZA()()()}if(2&n){const t=i.$implicit,o=e.oxw(3),d=e.MAs(24);e.Q6J("hidden",o.onlyFavourites&&!t.favourite||!o.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",t.imageUrl)("ngIfElse",d),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngIf",o.getProductPrices(t)>0),e.xp6(2),e.Q6J("ngClass",e.WLB(9,YS,!t.favourite,t.favourite)),e.xp6(1),e.Q6J("ngIf",o.canRemoveProduct(t)),e.xp6(1),e.Q6J("ngIf",o.productHasPrices(t))}}function XS(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",20),e.YNc(3,QS,15,12,"li",21),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.products)}}function ex(n,i){if(1&n&&(e.ynx(0),e.YNc(1,XS,4,1,"ng-container",14),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(22);e.xp6(1),e.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",o)}}function tx(n,i){if(1&n&&(e.ynx(0),e._UZ(1,"i",43),e.TgZ(2,"div",44),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.BQk()),2&n){const t=e.oxw().productRange;e.xp6(3),e.AsE(" ",e.xi3(4,2,t.min,"1.0-2")," - ",e.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function nx(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",45),e._uU(2),e.ALo(3,"number"),e.qZA(),e.BQk()),2&n){const t=e.oxw().productRange;e.xp6(2),e.hij("",e.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function rx(n,i){if(1&n&&(e.TgZ(0,"div",42),e.YNc(1,tx,6,8,"ng-container",32),e.YNc(2,nx,4,4,"ng-container",32),e.qZA()),2&n){const t=i.productRange;e.xp6(1),e.Q6J("ngIf",t.max!==t.min),e.xp6(1),e.Q6J("ngIf",t.max===t.min)}}function ix(n,i){1&n&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noProductAdded")))}function ox(n,i){1&n&&(e.TgZ(0,"small",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noFavouriteProduct")))}function sx(n,i){if(1&n&&(e.TgZ(0,"div",46),e.YNc(1,ix,3,3,"small",47),e.YNc(2,ox,3,3,"small",48),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(28);e.xp6(1),e.Q6J("ngIf",0===t.products.length&&!o),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!o)}}function ax(n,i){1&n&&e._UZ(0,"i",51)}function cx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",52)(1,"span",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",54),e.TgZ(3,"span",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",56),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",57),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.products")))}function lx(n,i){1&n&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let ux=(()=>{class n{constructor(t,o,d,g,C,A){this.router=t,this.productService=o,this.shopProductService=d,this.loginService=g,this.shoppingCartService=C,this.alertService=A,this.STORED_SEARCH_KEY=Oi.M.PS_PRODUCTS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const o=this.products.find(d=>d.barcode===t);o.favourite=!o.favourite,this.productService.toggleFavourite(o).subscribe(()=>{this.alertService.calculateAlerts(!1)})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(t.barcode).subscribe(()=>{})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(t){let o=[];return this.shopProductService._shopsProducts.filter(d=>d.productBarcode===t.barcode).forEach(d=>{o.indexOf(d.shopId)<0&&o.push(d.shopId)}),o.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var o,d;let g=0,C=!1;return(null===(d=null===(o=this.shoppingCartService)||void 0===o?void 0:o._cartConfig)||void 0===d?void 0:d.items)&&this.shoppingCartService._cartConfig.items.forEach(A=>{C||A.productsUnits.forEach(F=>{F.product.barcode===t.barcode&&F.units&&(C=!0,g+=F.units)})}),g}canRemoveProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(t=>{this.products=t.sort((o,d)=>o.name>d.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){co(this.productSearchInput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(300),Da(),(0,pr.b)(t=>{var o;this.setSearchText(null===(o=null==t?void 0:t.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Io.M),e.Y36(Kr),e.Y36(er.r),e.Y36(ys),e.Y36(Of))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(t,o){if(1&t&&e.Gf(US,5),2&t){let d;e.iGM(d=e.CRH())&&(o.productSearchInput=d.first)}},decls:29,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100","text-start"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100","text-start"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,jS,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(g){return o.onlyFavourites=g}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,ex,2,2,"ng-container",14),e.qZA(),e.YNc(19,rx,3,2,"ng-template",null,15,e.W1O),e.YNc(21,sx,3,2,"ng-template",null,16,e.W1O),e.YNc(23,ax,1,0,"ng-template",null,17,e.W1O),e.YNc(25,cx,11,6,"ng-template",null,18,e.W1O),e.YNc(27,lx,3,3,"ng-template",null,19,e.W1O)),2&t){const d=e.MAs(26),g=e.MAs(28);e.xp6(4),e.Q6J("ngTemplateOutlet",d),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"products.searchPlaceholder")),e.Q6J("readonly",(null==o.products?null:o.products.length)<1)("value",o.searchText),e.xp6(6),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"products.onlyFavouriteProducts")),e.xp6(3),e.Q6J("ngIf",o.products)("ngIfElse",g)}},directives:[p.tP,un,M,ko,p.O5,p.sg,p.mk],pipes:[bs,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function dx(n,i){1&n&&e.GkF(0)}function hx(n,i){1&n&&e._UZ(0,"div",23)}function fx(n,i){if(1&n&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"number"),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (x",e.xi3(2,1,t.units,"1.0-2"),")")}}const px=function(n){return{"checked-product":n}};function gx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"td",28),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(5).toggleCartProductMarked(g)}),e._uU(4),e.YNc(5,fx,3,4,"span",29),e.qZA(),e.TgZ(6,"td")(7,"div",30)(8,"span",31),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"i",32),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(5).removeItem(g.product)}),e.qZA()()()()}if(2&n){const t=i.$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(7,px,t.checked)),e.xp6(1),e.hij(" ",t.product.name," "),e.xp6(1),e.Q6J("ngIf",t.units>1),e.xp6(4),e.hij("",e.xi3(10,4,t.minPrice,"1.2-2")," \u20ac")}}function mx(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"img",25),e.TgZ(3,"div",26)(4,"table")(5,"tbody"),e.YNc(6,gx,12,9,"tr",22),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,e.LSH),e.xp6(4),e.Q6J("ngForOf",t.productsUnits)}}function _x(n,i){if(1&n&&(e.ynx(0),e.YNc(1,mx,7,2,"ng-container",2),e.BQk()),2&n){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.shop)}}function vx(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"i",10),e.TgZ(7,"small",11),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"button",12),e.qZA(),e.TgZ(11,"div",13),e._UZ(12,"i",14),e.TgZ(13,"small",15)(14,"strong",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",17),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e._UZ(20,"button",12),e.qZA(),e.YNc(21,hx,1,0,"div",18),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeCart()}),e.TgZ(24,"span"),e._UZ(25,"i",21),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.YNc(28,_x,2,1,"ng-container",22),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2),o=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,7,"shoppingCart.title")),e.xp6(5),e.Oqu(e.lcZ(9,9,"shoppingCart.description")),e.xp6(7),e.Oqu(e.lcZ(16,11,"shoppingCart.trick.title")),e.xp6(3),e.Oqu(e.lcZ(19,13,"shoppingCart.trick.text")),e.xp6(3),e.Q6J("ngTemplateOutlet",o),e.xp6(5),e.Oqu(e.lcZ(27,15,"shoppingCart.doEmpty")),e.xp6(2),e.Q6J("ngForOf",t.cartConfig.items)}}function yx(n,i){if(1&n&&(e.ynx(0),e.YNc(1,vx,29,17,"ng-container",6),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(6);e.xp6(1),e.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",o)}}const bx=function(n,i){return{"bg-success":n,"text-success":i}};function Cx(n,i){if(1&n&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",34),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",36),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"number"),e.qZA()()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,7,"shoppingCart.amountOptimized"),": "),e.xp6(3),e.hij("",e.xi3(5,9,t.getAmountLow(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),e.xp6(3),e.hij("",e.xi3(11,14,t.getAmountHigh(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(14,17,"shoppingCart.amountSaved"),": "),e.xp6(2),e.Q6J("ngClass",e.WLB(22,bx,t.getAmountDiff()>0,t.getAmountDiff()>0)),e.xp6(1),e.hij("",e.xi3(17,19,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function wx(n,i){1&n&&(e.TgZ(0,"div",38)(1,"div",39)(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&n&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shoppingCart.noProducts")))}function Tx(n,i){1&n&&(e.TgZ(0,"div",40)(1,"span",41)(2,"a",42),e._UZ(3,"i",43),e.TgZ(4,"span",44),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",45),e._uU(8,"/"),e.qZA(),e.TgZ(9,"span",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&n&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(11,4,"breadcrumb.shoppingCart")))}let Ex=(()=>{class n{constructor(t,o,d){this.shoppingCartService=t,this.spinner=o,this.translate=d,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(o=>{this.amountLow+=o.units*o.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(o=>{this.amountHigh+=o.units*o.maxPrice})})}toggleCartProductMarked(t){this.shoppingCartService.toggleCartProductMarked(t)}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(ys),e.Y36(gc),e.Y36(Bs))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,dx,1,0,"ng-container",1),e.qZA(),e.YNc(2,yx,2,2,"ng-container",2),e.YNc(3,Cx,18,25,"ng-template",null,3,e.W1O),e.YNc(5,wx,5,3,"ng-template",null,4,e.W1O),e.YNc(7,Tx,12,6,"ng-template",null,5,e.W1O)),2&t){const d=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",d),e.xp6(1),e.Q6J("ngIf",o.cartConfig)}},directives:[p.tP,p.O5,p.sg,p.mk,pc],pipes:[bs,p.JJ],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),n})();function Dx(n,i){1&n&&e.GkF(0)}function Sx(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Dx,1,0,"ng-container",3),e.BQk()),2&n){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function xx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(2).shopDetail.name=d}),e.qZA()}if(2&n){const t=e.oxw(2);e.Q6J("ngModel",t.shopDetail.name)}}const Ax=function(n){return{disabled:n}};function Ix(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4,"Nom"),e.qZA(),e.YNc(5,xx,1,1,"input",7),e.qZA(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw().shopDetail.favourite=d}),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"Preferida"),e.qZA()()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().createShop()}),e._uU(12," Desar "),e.qZA(),e.TgZ(13,"button",13),e._uU(14," Tancar "),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.shopDetail.default),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(4),e.Q6J("ngClass",e.VKq(4,Ax,t.shopDetail.name.length<1)),e.xp6(2),e.Q6J("routerLink","../search-shops")}}function Px(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",17),e.TgZ(3,"span",18),e._uU(4,"Inici"),e.qZA()(),e.TgZ(5,"span",19),e._uU(6,"/"),e.qZA(),e.TgZ(7,"span",20)(8,"span",18),e._uU(9,"Botigues"),e.qZA()(),e.TgZ(10,"span",19),e._uU(11,"/"),e.qZA(),e.TgZ(12,"span",21),e._uU(13,"Nova botiga"),e.qZA()()}2&n&&(e.xp6(7),e.Q6J("routerLink","search-shops"))}let Ox=(()=>{class n{constructor(t,o){this.router=t,this.shopService=o,this.shopDetail={id:Vt(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(t=>{this.shops=t}),this.shops=this.shopService._shops}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Ao.d))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Sx,2,1,"ng-container",1),e.qZA(),e.YNc(2,Ix,15,6,"ng-container",1),e.YNc(3,Px,14,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",o.shopDetail),e.xp6(1),e.Q6J("ngIf",o.shopDetail))},directives:[p.O5,p.tP,vr,M,ko,un,p.mk,fc],styles:[""]}),n})();function Mx(n,i){1&n&&e.GkF(0)}function Nx(n,i){if(1&n&&(e.ynx(0),e.YNc(1,Mx,1,0,"ng-container",9),e.BQk()),2&n){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Rx(n,i){1&n&&e._UZ(0,"i",10)}function kx(n,i){1&n&&e._UZ(0,"i",10)}function Lx(n,i){if(1&n&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&n){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.shopDetail.imageUrl,e.LSH)}}function Fx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).shopDetail.name=d}),e.ALo(1,"translate"),e.qZA()}if(2&n){const t=e.oxw(3);e.s9C("placeholder",e.lcZ(1,2,"shop.name")),e.Q6J("ngModel",t.shopDetail.name)}}function Bx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(3).shopDetail.name=d}),e.qZA()}if(2&n){const t=e.oxw(3);e.Q6J("ngModel",t.shopDetail.name)}}const Ux=function(n){return{"pb-2":n}};function jx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,Lx,2,1,"div",17),e.TgZ(3,"div",18)(4,"label",19),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Fx,2,4,"input",20),e.YNc(8,Bx,1,1,"input",21),e.qZA(),e.TgZ(9,"div",22)(10,"input",23),e.NdJ("ngModelChange",function(d){return e.CHM(t),e.oxw(2).shopDetail.favourite=d}),e.qZA(),e.TgZ(11,"label",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&n){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,Ux,null==t.shopDetail?null:t.shopDetail.createdBy)),e.xp6(2),e.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),e.xp6(3),e.Oqu(e.lcZ(6,7,"shop.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(13,9,"shop.favourite"))}}function Vx(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29)(2,"span",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",31),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"shop.createdBy"),":"),e.xp6(3),e.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const Xw=function(n){return{disabled:n}};function Gx(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.YNc(1,jx,14,13,"div",11),e.YNc(2,Vx,7,4,"ng-container",2),e.TgZ(3,"div",12)(4,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateShop()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",14),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&n){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.shopDetail),e.xp6(1),e.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Xw,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),e.xp6(1),e.hij(" ",e.lcZ(6,6,"shop.save")," "),e.xp6(2),e.Q6J("routerLink","../../search-shops"),e.xp6(1),e.hij(" ",e.lcZ(9,8,"shop.close")," ")}}function Hx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"span",46),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(3).removeShopProduct(d)}),e.qZA()}}function qx(n,i){if(1&n&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username,")")}}const Zx=function(n){return{"fw-bold":n}};function zx(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,qx,2,1,"span",51),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",52),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(5).removeShopProduct(g)}),e.qZA()()()()}if(2&n){const t=i.$implicit,o=i.index,d=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.VKq(11,Zx,0===o)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",d.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,Xw,!d.canRemoveShopProduct(t)))}}function Wx(n,i){if(1&n&&(e.TgZ(0,"li",47)(1,"ul",48),e.YNc(2,zx,12,15,"li",37),e.qZA()()),2&n){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const $x=function(n){return[n]};function Kx(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",38)(2,"div",39),e._UZ(3,"img",40)(4,"a",41),e.TgZ(5,"div",42)(6,"span"),e.YNc(7,Hx,1,0,"span",43),e.TgZ(8,"i",44),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).showHistory(g)}),e.qZA(),e._uU(9),e.ALo(10,"number"),e.qZA()()()(),e.YNc(11,Wx,3,1,"li",45),e.BQk()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.xp6(3),e.Q6J("src",o.getProductImage(t.productBarcode),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,$x,"/edit-product/"+t.productBarcode))("innerHtml",o.getProductName(t.productBarcode),e.oJD),e.xp6(3),e.Q6J("ngIf",o.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Xw,!o.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(10,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===t.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===t.productBarcode)}}function Jx(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"ul",36),e.YNc(2,Kx,12,14,"ng-container",37),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function Yx(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",32)(2,"div",33)(3,"button",34),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,Jx,3,1,"ng-container",35),e.BQk(),e.qZA(),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(18);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.productPrices")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",o)}}function Qx(n,i){1&n&&(e.TgZ(0,"div",54)(1,"small",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&n&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noProductPrices")))}function Xx(n,i){1&n&&e._UZ(0,"app-breadcrumbs")}const HE=function(n){return{active:n}};let eA=(()=>{class n{constructor(t,o,d,g,C){this.router=t,this.route=o,this.shopService=d,this.shopsProductsService=g,this.loginService=C,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(o=>o.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(d=>d.productBarcode===t.productBarcode&&d.shopId===this.shopDetail.id).sort((d,g)=>d.updateDate<g.updateDate?1:-1)})}getProductName(t){const o=this.products.find(d=>d.barcode===t);return"<span>"+o.name+'</span><span class="brand">'+o.brand+"</span>"}getProductImage(t){return this.products.find(d=>d.barcode===t).imageUrl||Po.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const o=[];(t=t.sort((d,g)=>d.updateDate<g.updateDate?1:-1)).forEach(d=>{-1===o.indexOf(d.productBarcode)&&o.push(d.productBarcode)}),o.forEach(d=>{this.shopProducts.push(t.find(g=>d===g.productBarcode))}),this.shopProducts.sort((d,g)=>this.getProductName(d.productBarcode).toUpperCase()>this.getProductName(g.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(o=>{this.shopProducts=o,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.admin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===t.productBarcode&&o.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(o=>{this.shops=o,this.shopDetail=o.find(d=>d.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(o=>o.id===t),this.configShopsProducts()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(wa),e.Y36(Ao.d),e.Y36(Kr),e.Y36(er.r))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName","maxlength","200",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Nx,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return o.selectedTab=0}),e.YNc(5,Rx,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return o.selectedTab=1}),e.YNc(9,kx,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()()()(),e.YNc(15,Gx,10,12,"ng-container",2),e.YNc(16,Yx,11,9,"ng-container",2),e.qZA(),e.YNc(17,Qx,4,3,"ng-template",null,7,e.W1O),e.YNc(19,Xx,1,0,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",o.shopDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,HE,0===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"shop.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,HE,1===o.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"shop.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",0===o.selectedTab),e.xp6(1),e.Q6J("ngIf",1===o.selectedTab))},directives:[p.O5,p.tP,p.mk,vr,Os,M,ko,un,fc,p.sg,pc,M0],pipes:[bs,p.JJ,p.uU],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const tA=["shopSearchInput"];function nA(n,i){1&n&&e.GkF(0)}function rA(n,i){if(1&n&&e._UZ(0,"img",30),2&n){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function iA(n,i){1&n&&e._UZ(0,"i",31)}function oA(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function sA(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}function aA(n,i){if(1&n&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,oA,3,3,"span",28),e.YNc(5,sA,3,3,"span",28),e.qZA()),2&n){const t=e.oxw().$implicit,o=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,3,o.getShopPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",o.getShopPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===o.getShopPrices(t))}}function cA(n,i){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e.NdJ("click",function(){e.CHM(t);const d=e.oxw().$implicit;return e.oxw(3).doRemove(d.id)}),e.qZA()(),e.BQk()}}const lA=function(n,i,t){return{far:n,fas:i,"ms-auto":t}};function uA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"li",20)(1,"div",21)(2,"div",22),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doEditShop(g)}),e.YNc(3,rA,1,1,"img",23),e.YNc(4,iA,1,0,"i",24),e.qZA(),e.ynx(5),e.TgZ(6,"div",25),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doEditShop(g)}),e.TgZ(7,"a",26),e._uU(8),e.qZA(),e.YNc(9,aA,6,6,"div",27),e.qZA(),e.YNc(10,cA,3,0,"ng-container",28),e.TgZ(11,"span",29),e.NdJ("click",function(){const g=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(g.id)}),e.qZA(),e.BQk(),e.qZA()()}if(2&n){const t=i.$implicit,o=e.oxw(3);e.Q6J("hidden",o.onlyFavourites&&!t.favourite||!o.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",o.getShopPrices(t)>0),e.xp6(1),e.Q6J("ngIf",o.canRemoveShop(t)),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,lA,!t.favourite,t.favourite,!o.canRemoveShop(t)))}}function dA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",18),e.YNc(3,uA,12,11,"li",19),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.shops)}}function hA(n,i){if(1&n&&(e.ynx(0),e.YNc(1,dA,4,1,"ng-container",14),e.BQk()),2&n){const t=e.oxw(),o=e.MAs(20);e.xp6(1),e.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",o)}}function fA(n,i){1&n&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noShopAdded")))}function pA(n,i){1&n&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noFavouriteShop")))}function gA(n,i){if(1&n&&(e.TgZ(0,"div",36),e.YNc(1,fA,3,3,"small",37),e.YNc(2,pA,3,3,"small",37),e.qZA()),2&n){const t=e.oxw(),o=e.MAs(24);e.xp6(1),e.Q6J("ngIf",0===t.shops.length&&!o),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!o)}}function mA(n,i){if(1&n){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",41),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",43),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",44),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&n&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.shops")))}function _A(n,i){1&n&&(e.TgZ(0,"div",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let vA=(()=>{class n{constructor(t,o,d,g,C){this.router=t,this.shopService=o,this.shopProductService=d,this.loginService=g,this.spinner=C,this.STORED_SEARCH_KEY=Oi.M.PS_SHOPS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const o=this.shops.find(d=>d.id===t);o.favourite=!o.favourite,this.shopService.toggleFavourite(o).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.admin||t.createdBy&&this.loggedUser.email===t.createdBy.email}getShopPrices(t){let o=[];return this.shopProductService._shopsProducts.filter(d=>d.shopId===t.id).forEach(d=>{o.indexOf(d.productBarcode)<0&&o.push(d.productBarcode)}),o.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((o,d)=>o.name.toUpperCase()>d.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){co(this.shopSearchInput.nativeElement,"keyup").pipe((0,hi.h)(Boolean),Wc(300),Da(),(0,pr.b)(t=>{var o;this.setSearchText(null===(o=null==t?void 0:t.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(qr),e.Y36(Ao.d),e.Y36(Kr),e.Y36(er.r),e.Y36(gc))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(t,o){if(1&t&&e.Gf(tA,5),2&t){let d;e.iGM(d=e.CRH())&&(o.shopSearchInput=d.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,nA,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(g){return o.onlyFavourites=g}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,hA,2,2,"ng-container",14),e.qZA(),e.YNc(19,gA,3,2,"ng-template",null,15,e.W1O),e.YNc(21,mA,11,6,"ng-template",null,16,e.W1O),e.YNc(23,_A,3,3,"ng-template",null,17,e.W1O)),2&t){const d=e.MAs(22),g=e.MAs(24);e.xp6(4),e.Q6J("ngTemplateOutlet",d),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"shops.searchPlaceholder")),e.Q6J("readonly",(null==o.shops?null:o.shops.length)<1)("value",o.searchText),e.xp6(6),e.Q6J("ngModel",o.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"shops.onlyFavouriteShops")),e.xp6(3),e.Q6J("ngIf",o.shops)("ngIfElse",g)}},directives:[p.tP,un,M,ko,p.O5,p.sg,p.mk],pipes:[bs,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function yA(n,i){1&n&&e.GkF(0)}function bA(n,i){1&n&&e._UZ(0,"i",12)}function CA(n,i){if(1&n&&e._UZ(0,"img",13),2&n){const t=e.oxw(2);e.Q6J("src",t.user.photoURL,e.LSH)}}function wA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",11)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"user.username")),e.xp6(3),e.Oqu(t.user.username)}}function TA(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.admin")))}function EA(n,i){1&n&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.user")))}function DA(n,i){if(1&n&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e.YNc(4,bA,1,0,"i",8),e.YNc(5,CA,1,1,"img",9),e._UZ(6,"app-language-selector"),e.qZA(),e.YNc(7,wA,7,4,"ng-container",10),e.TgZ(8,"div",11)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,TA,3,3,"span",10),e.YNc(19,EA,3,3,"span",10),e.qZA(),e.TgZ(20,"div",11)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()(),e.BQk()),2&n){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.user.photoURL),e.xp6(1),e.Q6J("ngIf",t.user.photoURL),e.xp6(2),e.Q6J("ngIf",t.user.username),e.xp6(3),e.Oqu(e.lcZ(11,10,"user.email")),e.xp6(3),e.Oqu(t.user.email),e.xp6(3),e.Oqu(e.lcZ(17,12,"user.role")),e.xp6(2),e.Q6J("ngIf",t.user.admin),e.xp6(1),e.Q6J("ngIf",!t.user.admin),e.xp6(3),e.Oqu(e.lcZ(23,14,"user.lastLogin")),e.xp6(3),e.Oqu(e.xi3(26,16,t.user.lastLogin,"medium"))}}function SA(n,i){1&n&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&n&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.noData")))}function xA(n,i){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.username)}}function AA(n,i){if(1&n&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.email.substr(0,null==t.user?null:t.user.email.indexOf("@")))}}function IA(n,i){if(1&n&&(e.TgZ(0,"div",15)(1,"span",16)(2,"a",17),e._UZ(3,"i",18),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",20),e._uU(8,"/"),e.qZA(),e.YNc(9,xA,2,1,"span",21),e.YNc(10,AA,2,1,"span",21),e.qZA()),2&n){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf",null==t.user?null:t.user.username),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.username))}}const OA=function(){return["../login"]},MA=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Mw,canActivate:[Xa,el]},{path:"user",component:(()=>{class n{constructor(t,o){this.loginService=t,this.spinner=o}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(er.r),e.Y36(gc))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,yA,1,0,"ng-container",1),e.qZA(),e.YNc(2,DA,27,19,"ng-container",2),e.YNc(3,SA,3,3,"ng-template",null,3,e.W1O),e.YNc(5,IA,11,5,"ng-template",null,4,e.W1O)),2&t){const d=e.MAs(4),g=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",g),e.xp6(1),e.Q6J("ngIf",o.user)("ngIfElse",d)}},directives:[p.tP,p.O5,kw,pc],pipes:[bs,p.uU],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),n})(),canActivate:[Xa,el]},{path:"login",component:Uw,canActivate:[Xa,H1]},{path:"register",component:Ew,canActivate:[Xa,H1]},{path:"scan",component:gr,canActivate:[Xa,el]},{path:"search-products",component:ux,canActivate:[Xa,el]},{path:"search-shops",component:vA,canActivate:[Xa,el]},{path:"statistics",component:Pw,canActivate:[Xa,el]},{path:"edit-shop/:id",component:eA,canActivate:[Xa,el]},{path:"new-shop",component:Ox,canActivate:[Xa,el]},{path:"edit-product/:barcode",component:BS,canActivate:[Xa,el]},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:Ex,canActivate:[Xa,el]},{path:"alerts",component:z1,canActivate:[Xa,el]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-forbidden"]],decls:4,vars:2,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e._uU(3," Login "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,OA)))},directives:[fc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"forbiddenIP",component:vE},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1),e.TgZ(2,"span"),e._uU(3,"P\xe0gina inexistent!"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e._uU(6," Anar a l'inici "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("routerLink",""))},directives:[fc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],yi=!1;function qE(n){return new e.vHH(3e3,yi)}function hI(){return"undefined"!=typeof window&&void 0!==window.document}function eT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function cg(n){switch(n.length){case 0:return new pu;case 1:return n[0];default:return new Sf(n)}}function ZE(n,i,t,o,d={},g={}){const C=[],A=[];let F=-1,te=null;if(o.forEach(Me=>{const rt=Me.offset,yt=rt==F,Tt=yt&&te||{};Object.keys(Me).forEach(Ut=>{let Lt=Ut,On=Me[Ut];if("offset"!==Ut)switch(Lt=i.normalizePropertyName(Lt,C),On){case"!":On=d[Ut];break;case Ks:On=g[Ut];break;default:On=i.normalizeStyleValue(Ut,Lt,On,C)}Tt[Lt]=On}),yt||A.push(Tt),te=Tt,F=rt}),C.length)throw function tI(n){return new e.vHH(3502,yi)}();return A}function tT(n,i,t,o){switch(i){case"start":n.onStart(()=>o(t&&nT(t,"start",n)));break;case"done":n.onDone(()=>o(t&&nT(t,"done",n)));break;case"destroy":n.onDestroy(()=>o(t&&nT(t,"destroy",n)))}}function nT(n,i,t){const o=t.totalTime,g=rT(n.element,n.triggerName,n.fromState,n.toState,i||n.phaseName,null==o?n.totalTime:o,!!t.disabled),C=n._data;return null!=C&&(g._data=C),g}function rT(n,i,t,o,d="",g=0,C){return{element:n,triggerName:i,fromState:t,toState:o,phaseName:d,totalTime:g,disabled:!!C}}function kl(n,i,t){let o;return n instanceof Map?(o=n.get(i),o||n.set(i,o=t)):(o=n[i],o||(o=n[i]=t)),o}function zE(n){const i=n.indexOf(":");return[n.substring(1,i),n.substr(i+1)]}let iT=(n,i)=>!1,WE=(n,i,t)=>[],$E=null;function oT(n){const i=n.parentNode||n.host;return i===$E?null:i}(eT()||"undefined"!=typeof Element)&&(hI()?($E=(()=>document.documentElement)(),iT=(n,i)=>{for(;i;){if(i===n)return!0;i=oT(i)}return!1}):iT=(n,i)=>n.contains(i),WE=(n,i,t)=>{if(t)return Array.from(n.querySelectorAll(i));const o=n.querySelector(i);return o?[o]:[]});let Xm=null,KE=!1;function JE(n){Xm||(Xm=function pI(){return"undefined"!=typeof document?document.body:null}()||{},KE=!!Xm.style&&"WebkitAppearance"in Xm.style);let i=!0;return Xm.style&&!function fI(n){return"ebkit"==n.substring(1,6)}(n)&&(i=n in Xm.style,!i&&KE&&(i="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in Xm.style)),i}const YE=iT,QE=WE;let XE=(()=>{class n{validateStyleProperty(t){return JE(t)}matchesElement(t,o){return!1}containsElement(t,o){return YE(t,o)}getParentElement(t){return oT(t)}query(t,o,d){return QE(t,o,d)}computeStyle(t,o,d){return d||""}animate(t,o,d,g,C,A=[],F){return new pu(d,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})(),sT=(()=>{class n{}return n.NOOP=new XE,n})();const aT="ng-enter",fb="ng-leave",pb="ng-trigger",gb=".ng-trigger",tD="ng-animating",cT=".ng-animating";function e_(n){if("number"==typeof n)return n;const i=n.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:lT(parseFloat(i[1]),i[2])}function lT(n,i){return"s"===i?1e3*n:n}function mb(n,i,t){return n.hasOwnProperty("duration")?n:function _I(n,i,t){let d,g=0,C="";if("string"==typeof n){const A=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===A)return i.push(qE()),{duration:0,delay:0,easing:""};d=lT(parseFloat(A[1]),A[2]);const F=A[3];null!=F&&(g=lT(parseFloat(F),A[4]));const te=A[5];te&&(C=te)}else d=n;if(!t){let A=!1,F=i.length;d<0&&(i.push(function NA(){return new e.vHH(3100,yi)}()),A=!0),g<0&&(i.push(function RA(){return new e.vHH(3101,yi)}()),A=!0),A&&i.splice(F,0,qE())}return{duration:d,delay:g,easing:C}}(n,i,t)}function N0(n,i={}){return Object.keys(n).forEach(t=>{i[t]=n[t]}),i}function lg(n,i,t={}){if(i)for(let o in n)t[o]=n[o];else N0(n,t);return t}function rD(n,i,t){return t?i+":"+t+";":""}function iD(n){let i="";for(let t=0;t<n.style.length;t++){const o=n.style.item(t);i+=rD(0,o,n.style.getPropertyValue(o))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(i+=rD(0,bI(t),n.style[t]));n.setAttribute("style",i)}function jh(n,i,t){n.style&&(Object.keys(i).forEach(o=>{const d=dT(o);t&&!t.hasOwnProperty(o)&&(t[o]=n.style[d]),n.style[d]=i[o]}),eT()&&iD(n))}function t_(n,i){n.style&&(Object.keys(i).forEach(t=>{const o=dT(t);n.style[o]=""}),eT()&&iD(n))}function sy(n){return Array.isArray(n)?1==n.length?n[0]:Ef(n):n}const uT=new RegExp("{{\\s*(.+?)\\s*}}","g");function oD(n){let i=[];if("string"==typeof n){let t;for(;t=uT.exec(n);)i.push(t[1]);uT.lastIndex=0}return i}function _b(n,i,t){const o=n.toString(),d=o.replace(uT,(g,C)=>{let A=i[C];return i.hasOwnProperty(C)||(t.push(function LA(n){return new e.vHH(3003,yi)}()),A=""),A.toString()});return d==o?n:d}function vb(n){const i=[];let t=n.next();for(;!t.done;)i.push(t.value),t=n.next();return i}const yI=/-+([a-z0-9])/g;function dT(n){return n.replace(yI,(...i)=>i[1].toUpperCase())}function bI(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Ll(n,i,t){switch(i.type){case 7:return n.visitTrigger(i,t);case 0:return n.visitState(i,t);case 1:return n.visitTransition(i,t);case 2:return n.visitSequence(i,t);case 3:return n.visitGroup(i,t);case 4:return n.visitAnimate(i,t);case 5:return n.visitKeyframes(i,t);case 6:return n.visitStyle(i,t);case 8:return n.visitReference(i,t);case 9:return n.visitAnimateChild(i,t);case 10:return n.visitAnimateRef(i,t);case 11:return n.visitQuery(i,t);case 12:return n.visitStagger(i,t);default:throw function FA(n){return new e.vHH(3004,yi)}()}}function sD(n,i){return window.getComputedStyle(n)[i]}function SI(n,i){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(o=>function xI(n,i,t){if(":"==n[0]){const F=function AI(n,i){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,o)=>parseFloat(o)>parseFloat(t);case":decrement":return(t,o)=>parseFloat(o)<parseFloat(t);default:return i.push(function YA(n){return new e.vHH(3016,yi)}()),"* => *"}}(n,t);if("function"==typeof F)return void i.push(F);n=F}const o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return t.push(function JA(n){return new e.vHH(3015,yi)}()),i;const d=o[1],g=o[2],C=o[3];i.push(aD(d,C));"<"==g[0]&&!("*"==d&&"*"==C)&&i.push(aD(C,d))}(o,t,i)):t.push(n),t}const wb=new Set(["true","1"]),Tb=new Set(["false","0"]);function aD(n,i){const t=wb.has(n)||Tb.has(n),o=wb.has(i)||Tb.has(i);return(d,g)=>{let C="*"==n||n==d,A="*"==i||i==g;return!C&&t&&"boolean"==typeof d&&(C=d?wb.has(n):Tb.has(n)),!A&&o&&"boolean"==typeof g&&(A=g?wb.has(i):Tb.has(i)),C&&A}}const II=new RegExp("s*:selfs*,?","g");function hT(n,i,t,o){return new PI(n).build(i,t,o)}class PI{constructor(i){this._driver=i}build(i,t,o){const d=new NI(t);this._resetContextStyleTimingState(d);const g=Ll(this,sy(i),d);return d.unsupportedCSSPropertiesFound.size&&d.unsupportedCSSPropertiesFound.keys(),g}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,t){let o=t.queryCount=0,d=t.depCount=0;const g=[],C=[];return"@"==i.name.charAt(0)&&t.errors.push(function UA(){return new e.vHH(3006,yi)}()),i.definitions.forEach(A=>{if(this._resetContextStyleTimingState(t),0==A.type){const F=A,te=F.name;te.toString().split(/\s*,\s*/).forEach(Me=>{F.name=Me,g.push(this.visitState(F,t))}),F.name=te}else if(1==A.type){const F=this.visitTransition(A,t);o+=F.queryCount,d+=F.depCount,C.push(F)}else t.errors.push(function jA(){return new e.vHH(3007,yi)}())}),{type:7,name:i.name,states:g,transitions:C,queryCount:o,depCount:d,options:null}}visitState(i,t){const o=this.visitStyle(i.styles,t),d=i.options&&i.options.params||null;if(o.containsDynamicStyles){const g=new Set,C=d||{};o.styles.forEach(A=>{if(Eb(A)){const F=A;Object.keys(F).forEach(te=>{oD(F[te]).forEach(Me=>{C.hasOwnProperty(Me)||g.add(Me)})})}}),g.size&&(vb(g.values()),t.errors.push(function VA(n,i){return new e.vHH(3008,yi)}()))}return{type:0,name:i.name,style:o,options:d?{params:d}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const o=Ll(this,sy(i.animation),t);return{type:1,matchers:SI(i.expr,t.errors),animation:o,queryCount:t.queryCount,depCount:t.depCount,options:n_(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(o=>Ll(this,o,t)),options:n_(i.options)}}visitGroup(i,t){const o=t.currentTime;let d=0;const g=i.steps.map(C=>{t.currentTime=o;const A=Ll(this,C,t);return d=Math.max(d,t.currentTime),A});return t.currentTime=d,{type:3,steps:g,options:n_(i.options)}}visitAnimate(i,t){const o=function kI(n,i){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return fT(mb(n,i).duration,0,"");const o=n;if(o.split(/\s+/).some(g=>"{"==g.charAt(0)&&"{"==g.charAt(1))){const g=fT(0,0,"");return g.dynamic=!0,g.strValue=o,g}return t=t||mb(o,i),fT(t.duration,t.delay,t.easing)}(i.timings,t.errors);t.currentAnimateTimings=o;let d,g=i.styles?i.styles:qc({});if(5==g.type)d=this.visitKeyframes(g,t);else{let C=i.styles,A=!1;if(!C){A=!0;const te={};o.easing&&(te.easing=o.easing),C=qc(te)}t.currentTime+=o.duration+o.delay;const F=this.visitStyle(C,t);F.isEmptyStep=A,d=F}return t.currentAnimateTimings=null,{type:4,timings:o,style:d,options:null}}visitStyle(i,t){const o=this._makeStyleAst(i,t);return this._validateStyleAst(o,t),o}_makeStyleAst(i,t){const o=[];Array.isArray(i.styles)?i.styles.forEach(C=>{"string"==typeof C?C==Ks?o.push(C):t.errors.push(function GA(n){return new e.vHH(3002,yi)}()):o.push(C)}):o.push(i.styles);let d=!1,g=null;return o.forEach(C=>{if(Eb(C)){const A=C,F=A.easing;if(F&&(g=F,delete A.easing),!d)for(let te in A)if(A[te].toString().indexOf("{{")>=0){d=!0;break}}}),{type:6,styles:o,easing:g,offset:i.offset,containsDynamicStyles:d,options:null}}_validateStyleAst(i,t){const o=t.currentAnimateTimings;let d=t.currentTime,g=t.currentTime;o&&g>0&&(g-=o.duration+o.delay),i.styles.forEach(C=>{"string"!=typeof C&&Object.keys(C).forEach(A=>{if(!this._driver.validateStyleProperty(A))return delete C[A],void t.unsupportedCSSPropertiesFound.add(A);const F=t.collectedStyles[t.currentQuerySelector],te=F[A];let Me=!0;te&&(g!=d&&g>=te.startTime&&d<=te.endTime&&(t.errors.push(function HA(n,i,t,o,d){return new e.vHH(3010,yi)}()),Me=!1),g=te.startTime),Me&&(F[A]={startTime:g,endTime:d}),t.options&&function vI(n,i,t){const o=i.params||{},d=oD(n);d.length&&d.forEach(g=>{o.hasOwnProperty(g)||t.push(function kA(n){return new e.vHH(3001,yi)}())})}(C[A],t.options,t.errors)})})}visitKeyframes(i,t){const o={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qA(){return new e.vHH(3011,yi)}()),o;let g=0;const C=[];let A=!1,F=!1,te=0;const Me=i.steps.map(or=>{const Jn=this._makeStyleAst(or,t);let Pr=null!=Jn.offset?Jn.offset:function RI(n){if("string"==typeof n)return null;let i=null;if(Array.isArray(n))n.forEach(t=>{if(Eb(t)&&t.hasOwnProperty("offset")){const o=t;i=parseFloat(o.offset),delete o.offset}});else if(Eb(n)&&n.hasOwnProperty("offset")){const t=n;i=parseFloat(t.offset),delete t.offset}return i}(Jn.styles),zn=0;return null!=Pr&&(g++,zn=Jn.offset=Pr),F=F||zn<0||zn>1,A=A||zn<te,te=zn,C.push(zn),Jn});F&&t.errors.push(function ZA(){return new e.vHH(3012,yi)}()),A&&t.errors.push(function zA(){return new e.vHH(3200,yi)}());const rt=i.steps.length;let yt=0;g>0&&g<rt?t.errors.push(function WA(){return new e.vHH(3202,yi)}()):0==g&&(yt=1/(rt-1));const Tt=rt-1,Ut=t.currentTime,Lt=t.currentAnimateTimings,On=Lt.duration;return Me.forEach((or,Jn)=>{const Pr=yt>0?Jn==Tt?1:yt*Jn:C[Jn],zn=Pr*On;t.currentTime=Ut+Lt.delay+zn,Lt.duration=zn,this._validateStyleAst(or,t),or.offset=Pr,o.styles.push(or)}),o}visitReference(i,t){return{type:8,animation:Ll(this,sy(i.animation),t),options:n_(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:n_(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:n_(i.options)}}visitQuery(i,t){const o=t.currentQuerySelector,d=i.options||{};t.queryCount++,t.currentQuery=i;const[g,C]=function OI(n){const i=!!n.split(/\s*,\s*/).find(t=>":self"==t);return i&&(n=n.replace(II,"")),n=n.replace(/@\*/g,gb).replace(/@\w+/g,t=>gb+"-"+t.substr(1)).replace(/:animating/g,cT),[n,i]}(i.selector);t.currentQuerySelector=o.length?o+" "+g:g,kl(t.collectedStyles,t.currentQuerySelector,{});const A=Ll(this,sy(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=o,{type:11,selector:g,limit:d.limit||0,optional:!!d.optional,includeSelf:C,animation:A,originalSelector:i.selector,options:n_(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function $A(){return new e.vHH(3013,yi)}());const o="full"===i.timings?{duration:0,delay:0,easing:"full"}:mb(i.timings,t.errors,!0);return{type:12,animation:Ll(this,sy(i.animation),t),timings:o,options:null}}}class NI{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Eb(n){return!Array.isArray(n)&&"object"==typeof n}function n_(n){return n?(n=N0(n)).params&&(n.params=function MI(n){return n?N0(n):null}(n.params)):n={},n}function fT(n,i,t){return{duration:n,delay:i,easing:t}}function pT(n,i,t,o,d,g,C=null,A=!1){return{type:1,element:n,keyframes:i,preStyleProps:t,postStyleProps:o,duration:d,delay:g,totalTime:d+g,easing:C,subTimeline:A}}class Db{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let o=this._map.get(i);o||this._map.set(i,o=[]),o.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const BI=new RegExp(":enter","g"),jI=new RegExp(":leave","g");function gT(n,i,t,o,d,g={},C={},A,F,te=[]){return(new VI).buildKeyframes(n,i,t,o,d,g,C,A,F,te)}class VI{buildKeyframes(i,t,o,d,g,C,A,F,te,Me=[]){te=te||new Db;const rt=new mT(i,t,te,d,g,Me,[]);rt.options=F,rt.currentTimeline.setStyles([C],null,rt.errors,F),Ll(this,o,rt);const yt=rt.timelines.filter(Tt=>Tt.containsAnimation());if(Object.keys(A).length){let Tt;for(let Ut=yt.length-1;Ut>=0;Ut--){const Lt=yt[Ut];if(Lt.element===t){Tt=Lt;break}}Tt&&!Tt.allowOnlyTimelineStyles()&&Tt.setStyles([A],null,rt.errors,F)}return yt.length?yt.map(Tt=>Tt.buildKeyframes()):[pT(t,[],[],[],0,0,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const o=t.subInstructions.get(t.element);if(o){const d=t.createSubContext(i.options),g=t.currentTimeline.currentTime,C=this._visitSubInstructions(o,d,d.options);g!=C&&t.transformIntoNewTimeline(C)}t.previousNode=i}visitAnimateRef(i,t){const o=t.createSubContext(i.options);o.transformIntoNewTimeline(),this.visitReference(i.animation,o),t.transformIntoNewTimeline(o.currentTimeline.currentTime),t.previousNode=i}_visitSubInstructions(i,t,o){let g=t.currentTimeline.currentTime;const C=null!=o.duration?e_(o.duration):null,A=null!=o.delay?e_(o.delay):null;return 0!==C&&i.forEach(F=>{const te=t.appendInstructionToTimeline(F,C,A);g=Math.max(g,te.duration+te.delay)}),g}visitReference(i,t){t.updateOptions(i.options,!0),Ll(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const o=t.subContextCount;let d=t;const g=i.options;if(g&&(g.params||g.delay)&&(d=t.createSubContext(g),d.transformIntoNewTimeline(),null!=g.delay)){6==d.previousNode.type&&(d.currentTimeline.snapshotCurrentStyles(),d.previousNode=Sb);const C=e_(g.delay);d.delayNextStep(C)}i.steps.length&&(i.steps.forEach(C=>Ll(this,C,d)),d.currentTimeline.applyStylesToKeyframe(),d.subContextCount>o&&d.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const o=[];let d=t.currentTimeline.currentTime;const g=i.options&&i.options.delay?e_(i.options.delay):0;i.steps.forEach(C=>{const A=t.createSubContext(i.options);g&&A.delayNextStep(g),Ll(this,C,A),d=Math.max(d,A.currentTimeline.currentTime),o.push(A.currentTimeline)}),o.forEach(C=>t.currentTimeline.mergeTimelineCollectedStyles(C)),t.transformIntoNewTimeline(d),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const o=i.strValue;return mb(t.params?_b(o,t.params,t.errors):o,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const o=t.currentAnimateTimings=this._visitTiming(i.timings,t),d=t.currentTimeline;o.delay&&(t.incrementTime(o.delay),d.snapshotCurrentStyles());const g=i.style;5==g.type?this.visitKeyframes(g,t):(t.incrementTime(o.duration),this.visitStyle(g,t),d.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const o=t.currentTimeline,d=t.currentAnimateTimings;!d&&o.getCurrentStyleProperties().length&&o.forwardFrame();const g=d&&d.easing||i.easing;i.isEmptyStep?o.applyEmptyStep(g):o.setStyles(i.styles,g,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const o=t.currentAnimateTimings,d=t.currentTimeline.duration,g=o.duration,A=t.createSubContext().currentTimeline;A.easing=o.easing,i.styles.forEach(F=>{A.forwardTime((F.offset||0)*g),A.setStyles(F.styles,F.easing,t.errors,t.options),A.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(A),t.transformIntoNewTimeline(d+g),t.previousNode=i}visitQuery(i,t){const o=t.currentTimeline.currentTime,d=i.options||{},g=d.delay?e_(d.delay):0;g&&(6===t.previousNode.type||0==o&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Sb);let C=o;const A=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!d.optional,t.errors);t.currentQueryTotal=A.length;let F=null;A.forEach((te,Me)=>{t.currentQueryIndex=Me;const rt=t.createSubContext(i.options,te);g&&rt.delayNextStep(g),te===t.element&&(F=rt.currentTimeline),Ll(this,i.animation,rt),rt.currentTimeline.applyStylesToKeyframe(),C=Math.max(C,rt.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(C),F&&(t.currentTimeline.mergeTimelineCollectedStyles(F),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const o=t.parentContext,d=t.currentTimeline,g=i.timings,C=Math.abs(g.duration),A=C*(t.currentQueryTotal-1);let F=C*t.currentQueryIndex;switch(g.duration<0?"reverse":g.easing){case"reverse":F=A-F;break;case"full":F=o.currentStaggerTime}const Me=t.currentTimeline;F&&Me.delayNextStep(F);const rt=Me.currentTime;Ll(this,i.animation,t),t.previousNode=i,o.currentStaggerTime=d.currentTime-rt+(d.startTime-o.currentTimeline.startTime)}}const Sb={};class mT{constructor(i,t,o,d,g,C,A,F){this._driver=i,this.element=t,this.subInstructions=o,this._enterClassName=d,this._leaveClassName=g,this.errors=C,this.timelines=A,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Sb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=F||new xb(this._driver,t,0),A.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const o=i;let d=this.options;null!=o.duration&&(d.duration=e_(o.duration)),null!=o.delay&&(d.delay=e_(o.delay));const g=o.params;if(g){let C=d.params;C||(C=this.options.params={}),Object.keys(g).forEach(A=>{(!t||!C.hasOwnProperty(A))&&(C[A]=_b(g[A],C,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const o=i.params={};Object.keys(t).forEach(d=>{o[d]=t[d]})}}return i}createSubContext(i=null,t,o){const d=t||this.element,g=new mT(this._driver,d,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(d,o||0));return g.previousNode=this.previousNode,g.currentAnimateTimings=this.currentAnimateTimings,g.options=this._copyOptions(),g.updateOptions(i),g.currentQueryIndex=this.currentQueryIndex,g.currentQueryTotal=this.currentQueryTotal,g.parentContext=this,this.subContextCount++,g}transformIntoNewTimeline(i){return this.previousNode=Sb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,o){const d={duration:null!=t?t:i.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+i.delay,easing:""},g=new GI(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,d,i.stretchStartingKeyframe);return this.timelines.push(g),d}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,o,d,g,C){let A=[];if(d&&A.push(this.element),i.length>0){i=(i=i.replace(BI,"."+this._enterClassName)).replace(jI,"."+this._leaveClassName);let te=this._driver.query(this.element,i,1!=o);0!==o&&(te=o<0?te.slice(te.length+o,te.length):te.slice(0,o)),A.push(...te)}return!g&&0==A.length&&C.push(function KA(n){return new e.vHH(3014,yi)}()),A}}class xb{constructor(i,t,o,d){this._driver=i,this.element=t,this.startTime=o,this._elementTimelineStylesLookup=d,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new xb(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles[i]=t,this._globalTimelineStyles[i]=t,this._styleSummary[i]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ks,this._currentKeyframe[t]=Ks}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,o,d){t&&(this._previousKeyframe.easing=t);const g=d&&d.params||{},C=function HI(n,i){const t={};let o;return n.forEach(d=>{"*"===d?(o=o||Object.keys(i),o.forEach(g=>{t[g]=Ks})):lg(d,!1,t)}),t}(i,this._globalTimelineStyles);Object.keys(C).forEach(A=>{const F=_b(C[A],g,o);this._pendingStyles[A]=F,this._localTimelineStyles.hasOwnProperty(A)||(this._backFill[A]=this._globalTimelineStyles.hasOwnProperty(A)?this._globalTimelineStyles[A]:Ks),this._updateStyle(A,F)})}applyStylesToKeyframe(){const i=this._pendingStyles,t=Object.keys(i);0!=t.length&&(this._pendingStyles={},t.forEach(o=>{this._currentKeyframe[o]=i[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const t=this._localTimelineStyles[i];this._pendingStyles[i]=t,this._updateStyle(i,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(t=>{const o=this._styleSummary[t],d=i._styleSummary[t];(!o||d.time>o.time)&&this._updateStyle(t,d.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,o=1===this._keyframes.size&&0===this.duration;let d=[];this._keyframes.forEach((A,F)=>{const te=lg(A,!0);Object.keys(te).forEach(Me=>{const rt=te[Me];"!"==rt?i.add(Me):rt==Ks&&t.add(Me)}),o||(te.offset=F/this.duration),d.push(te)});const g=i.size?vb(i.values()):[],C=t.size?vb(t.values()):[];if(o){const A=d[0],F=N0(A);A.offset=0,F.offset=1,d=[A,F]}return pT(this.element,d,g,C,this.duration,this.startTime,this.easing,!1)}}class GI extends xb{constructor(i,t,o,d,g,C,A=!1){super(i,t,C.delay),this.keyframes=o,this.preStyleProps=d,this.postStyleProps=g,this._stretchStartingKeyframe=A,this.timings={duration:C.duration,delay:C.delay,easing:C.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:o,easing:d}=this.timings;if(this._stretchStartingKeyframe&&t){const g=[],C=o+t,A=t/C,F=lg(i[0],!1);F.offset=0,g.push(F);const te=lg(i[0],!1);te.offset=uD(A),g.push(te);const Me=i.length-1;for(let rt=1;rt<=Me;rt++){let yt=lg(i[rt],!1);yt.offset=uD((t+yt.offset*o)/C),g.push(yt)}o=C,t=0,d="",i=g}return pT(this.element,i,this.preStyleProps,this.postStyleProps,o,t,d,!0)}}function uD(n,i=3){const t=Math.pow(10,i-1);return Math.round(n*t)/t}class _T{}class qI extends _T{normalizePropertyName(i,t){return dT(i)}normalizeStyleValue(i,t,o,d){let g="";const C=o.toString().trim();if(ZI[t]&&0!==o&&"0"!==o)if("number"==typeof o)g="px";else{const A=o.match(/^[+-]?[\d\.]+([a-z]*)$/);A&&0==A[1].length&&d.push(function BA(n,i){return new e.vHH(3005,yi)}())}return C+g}}const ZI=(()=>function zI(n){const i={};return n.forEach(t=>i[t]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function dD(n,i,t,o,d,g,C,A,F,te,Me,rt,yt){return{type:0,element:n,triggerName:i,isRemovalTransition:d,fromState:t,fromStyles:g,toState:o,toStyles:C,timelines:A,queriedElements:F,preStyleProps:te,postStyleProps:Me,totalTime:rt,errors:yt}}const vT={};class hD{constructor(i,t,o){this._triggerName=i,this.ast=t,this._stateStyles=o}match(i,t,o,d){return function WI(n,i,t,o,d){return n.some(g=>g(i,t,o,d))}(this.ast.matchers,i,t,o,d)}buildStyles(i,t,o){const d=this._stateStyles["*"],g=this._stateStyles[i],C=d?d.buildStyles(t,o):{};return g?g.buildStyles(t,o):C}build(i,t,o,d,g,C,A,F,te,Me){const rt=[],yt=this.ast.options&&this.ast.options.params||vT,Ut=this.buildStyles(o,A&&A.params||vT,rt),Lt=F&&F.params||vT,On=this.buildStyles(d,Lt,rt),or=new Set,Jn=new Map,Pr=new Map,zn="void"===d,Or={params:Object.assign(Object.assign({},yt),Lt)},Dr=Me?[]:gT(i,t,this.ast.animation,g,C,Ut,On,Or,te,rt);let jr=0;if(Dr.forEach(fo=>{jr=Math.max(fo.duration+fo.delay,jr)}),rt.length)return dD(t,this._triggerName,o,d,zn,Ut,On,[],[],Jn,Pr,jr,rt);Dr.forEach(fo=>{const po=fo.element,Mo=kl(Jn,po,{});fo.preStyleProps.forEach(Ss=>Mo[Ss]=!0);const ka=kl(Pr,po,{});fo.postStyleProps.forEach(Ss=>ka[Ss]=!0),po!==t&&or.add(po)});const oi=vb(or.values());return dD(t,this._triggerName,o,d,zn,Ut,On,Dr,oi,Jn,Pr,jr)}}class $I{constructor(i,t,o){this.styles=i,this.defaultParams=t,this.normalizer=o}buildStyles(i,t){const o={},d=N0(this.defaultParams);return Object.keys(i).forEach(g=>{const C=i[g];null!=C&&(d[g]=C)}),this.styles.styles.forEach(g=>{if("string"!=typeof g){const C=g;Object.keys(C).forEach(A=>{let F=C[A];F.length>1&&(F=_b(F,d,t));const te=this.normalizer.normalizePropertyName(A,t);F=this.normalizer.normalizeStyleValue(A,te,F,t),o[te]=F})}}),o}}class JI{constructor(i,t,o){this.name=i,this.ast=t,this._normalizer=o,this.transitionFactories=[],this.states={},t.states.forEach(d=>{this.states[d.name]=new $I(d.style,d.options&&d.options.params||{},o)}),fD(this.states,"true","1"),fD(this.states,"false","0"),t.transitions.forEach(d=>{this.transitionFactories.push(new hD(i,d,this.states))}),this.fallbackTransition=function YI(n,i,t){return new hD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(C,A)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,o,d){return this.transitionFactories.find(C=>C.match(i,t,o,d))||null}matchStyles(i,t,o){return this.fallbackTransition.buildStyles(i,t,o)}}function fD(n,i,t){n.hasOwnProperty(i)?n.hasOwnProperty(t)||(n[t]=n[i]):n.hasOwnProperty(t)&&(n[i]=n[t])}const QI=new Db;class XI{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(i,t){const o=[],g=hT(this._driver,t,o,[]);if(o.length)throw function nI(n){return new e.vHH(3503,yi)}();this._animations[i]=g}_buildPlayer(i,t,o){const d=i.element,g=ZE(0,this._normalizer,0,i.keyframes,t,o);return this._driver.animate(d,g,i.duration,i.delay,i.easing,[],!0)}create(i,t,o={}){const d=[],g=this._animations[i];let C;const A=new Map;if(g?(C=gT(this._driver,t,g,aT,fb,{},{},o,QI,d),C.forEach(Me=>{const rt=kl(A,Me.element,{});Me.postStyleProps.forEach(yt=>rt[yt]=null)})):(d.push(function rI(){return new e.vHH(3300,yi)}()),C=[]),d.length)throw function iI(n){return new e.vHH(3504,yi)}();A.forEach((Me,rt)=>{Object.keys(Me).forEach(yt=>{Me[yt]=this._driver.computeStyle(rt,yt,Ks)})});const te=cg(C.map(Me=>{const rt=A.get(Me.element);return this._buildPlayer(Me,{},rt)}));return this._playersById[i]=te,te.onDestroy(()=>this.destroy(i)),this.players.push(te),te}destroy(i){const t=this._getPlayer(i);t.destroy(),delete this._playersById[i];const o=this.players.indexOf(t);o>=0&&this.players.splice(o,1)}_getPlayer(i){const t=this._playersById[i];if(!t)throw function oI(n){return new e.vHH(3301,yi)}();return t}listen(i,t,o,d){const g=rT(t,"","","");return tT(this._getPlayer(i),o,g,d),()=>{}}command(i,t,o,d){if("register"==o)return void this.register(i,d[0]);if("create"==o)return void this.create(i,t,d[0]||{});const g=this._getPlayer(i);switch(o){case"play":g.play();break;case"pause":g.pause();break;case"reset":g.reset();break;case"restart":g.restart();break;case"finish":g.finish();break;case"init":g.init();break;case"setPosition":g.setPosition(parseFloat(d[0]));break;case"destroy":this.destroy(i)}}}const pD="ng-animate-queued",yT="ng-animate-disabled",iP=[],gD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},oP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Au="__ng_removed";class bT{constructor(i,t=""){this.namespaceId=t;const o=i&&i.hasOwnProperty("value");if(this.value=function lP(n){return null!=n?n:null}(o?i.value:i),o){const g=N0(i);delete g.value,this.options=g}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const t=i.params;if(t){const o=this.options.params;Object.keys(t).forEach(d=>{null==o[d]&&(o[d]=t[d])})}}}const ay="void",CT=new bT(ay);class sP{constructor(i,t,o){this.id=i,this.hostElement=t,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Iu(t,this._hostClassName)}listen(i,t,o,d){if(!this._triggers.hasOwnProperty(t))throw function sI(n,i){return new e.vHH(3302,yi)}();if(null==o||0==o.length)throw function aI(n){return new e.vHH(3303,yi)}();if(!function uP(n){return"start"==n||"done"==n}(o))throw function cI(n,i){return new e.vHH(3400,yi)}();const g=kl(this._elementListeners,i,[]),C={name:t,phase:o,callback:d};g.push(C);const A=kl(this._engine.statesByElement,i,{});return A.hasOwnProperty(t)||(Iu(i,pb),Iu(i,pb+"-"+t),A[t]=CT),()=>{this._engine.afterFlush(()=>{const F=g.indexOf(C);F>=0&&g.splice(F,1),this._triggers[t]||delete A[t]})}}register(i,t){return!this._triggers[i]&&(this._triggers[i]=t,!0)}_getTrigger(i){const t=this._triggers[i];if(!t)throw function lI(n){return new e.vHH(3401,yi)}();return t}trigger(i,t,o,d=!0){const g=this._getTrigger(t),C=new wT(this.id,t,i);let A=this._engine.statesByElement.get(i);A||(Iu(i,pb),Iu(i,pb+"-"+t),this._engine.statesByElement.set(i,A={}));let F=A[t];const te=new bT(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&F&&te.absorbOptions(F.options),A[t]=te,F||(F=CT),te.value!==ay&&F.value===te.value){if(!function fP(n,i){const t=Object.keys(n),o=Object.keys(i);if(t.length!=o.length)return!1;for(let d=0;d<t.length;d++){const g=t[d];if(!i.hasOwnProperty(g)||n[g]!==i[g])return!1}return!0}(F.params,te.params)){const Lt=[],On=g.matchStyles(F.value,F.params,Lt),or=g.matchStyles(te.value,te.params,Lt);Lt.length?this._engine.reportError(Lt):this._engine.afterFlush(()=>{t_(i,On),jh(i,or)})}return}const yt=kl(this._engine.playersByElement,i,[]);yt.forEach(Lt=>{Lt.namespaceId==this.id&&Lt.triggerName==t&&Lt.queued&&Lt.destroy()});let Tt=g.matchTransition(F.value,te.value,i,te.params),Ut=!1;if(!Tt){if(!d)return;Tt=g.fallbackTransition,Ut=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:Tt,fromState:F,toState:te,player:C,isFallbackTransition:Ut}),Ut||(Iu(i,pD),C.onStart(()=>{R0(i,pD)})),C.onDone(()=>{let Lt=this.players.indexOf(C);Lt>=0&&this.players.splice(Lt,1);const On=this._engine.playersByElement.get(i);if(On){let or=On.indexOf(C);or>=0&&On.splice(or,1)}}),this.players.push(C),yt.push(C),C}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((t,o)=>{delete t[i]}),this._elementListeners.forEach((t,o)=>{this._elementListeners.set(o,t.filter(d=>d.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(o=>o.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const o=this._engine.driver.query(i,gb,!0);o.forEach(d=>{if(d[Au])return;const g=this._engine.fetchNamespacesByElement(d);g.size?g.forEach(C=>C.triggerLeaveAnimation(d,t,!1,!0)):this.clearElementCache(d)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(d=>this.clearElementCache(d)))}triggerLeaveAnimation(i,t,o,d){const g=this._engine.statesByElement.get(i),C=new Map;if(g){const A=[];if(Object.keys(g).forEach(F=>{if(C.set(F,g[F].value),this._triggers[F]){const te=this.trigger(i,F,ay,d);te&&A.push(te)}}),A.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,C),o&&cg(A).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),o=this._engine.statesByElement.get(i);if(t&&o){const d=new Set;t.forEach(g=>{const C=g.name;if(d.has(C))return;d.add(C);const F=this._triggers[C].fallbackTransition,te=o[C]||CT,Me=new bT(ay),rt=new wT(this.id,C,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:C,transition:F,fromState:te,toState:Me,player:rt,isFallbackTransition:!0})})}}removeNode(i,t){const o=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let d=!1;if(o.totalAnimations){const g=o.players.length?o.playersByQueriedElement.get(i):[];if(g&&g.length)d=!0;else{let C=i;for(;C=C.parentNode;)if(o.statesByElement.get(C)){d=!0;break}}}if(this.prepareLeaveAnimationListeners(i),d)o.markElementAsRemoved(this.id,i,!1,t);else{const g=i[Au];(!g||g===gD)&&(o.afterFlush(()=>this.clearElementCache(i)),o.destroyInnerAnimations(i),o._onRemovalComplete(i,t))}}insertNode(i,t){Iu(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(o=>{const d=o.player;if(d.destroyed)return;const g=o.element,C=this._elementListeners.get(g);C&&C.forEach(A=>{if(A.name==o.triggerName){const F=rT(g,o.triggerName,o.fromState.value,o.toState.value);F._data=i,tT(o.player,A.phase,F,A.callback)}}),d.markedForDestroy?this._engine.afterFlush(()=>{d.destroy()}):t.push(o)}),this._queue=[],t.sort((o,d)=>{const g=o.transition.ast.depCount,C=d.transition.ast.depCount;return 0==g||0==C?g-C:this._engine.driver.containsElement(o.element,d.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let t=!1;return this._elementListeners.has(i)&&(t=!0),t=!!this._queue.find(o=>o.element===i)||t,t}}class aP{constructor(i,t,o){this.bodyNode=i,this.driver=t,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(d,g)=>{}}_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(o=>{o.queued&&i.push(o)})}),i}createNamespace(i,t){const o=new sP(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(o,t):(this.newHostElements.set(t,o),this.collectEnterElement(t)),this._namespaceLookup[i]=o}_balanceNamespaceList(i,t){const o=this._namespaceList,d=this.namespacesByHostElement,g=o.length-1;if(g>=0){let C=!1;if(void 0!==this.driver.getParentElement){let A=this.driver.getParentElement(t);for(;A;){const F=d.get(A);if(F){const te=o.indexOf(F);o.splice(te+1,0,i),C=!0;break}A=this.driver.getParentElement(A)}}else for(let A=g;A>=0;A--)if(this.driver.containsElement(o[A].hostElement,t)){o.splice(A+1,0,i),C=!0;break}C||o.unshift(i)}else o.push(i);return d.set(t,i),i}register(i,t){let o=this._namespaceLookup[i];return o||(o=this.createNamespace(i,t)),o}registerTrigger(i,t,o){let d=this._namespaceLookup[i];d&&d.register(t,o)&&this.totalAnimations++}destroy(i,t){if(!i)return;const o=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[i];const d=this._namespaceList.indexOf(o);d>=0&&this._namespaceList.splice(d,1)}),this.afterFlushAnimationsDone(()=>o.destroy(t))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,o=this.statesByElement.get(i);if(o){const d=Object.keys(o);for(let g=0;g<d.length;g++){const C=o[d[g]].namespaceId;if(C){const A=this._fetchNamespace(C);A&&t.add(A)}}}return t}trigger(i,t,o,d){if(Ab(t)){const g=this._fetchNamespace(i);if(g)return g.trigger(t,o,d),!0}return!1}insertNode(i,t,o,d){if(!Ab(t))return;const g=t[Au];if(g&&g.setForRemoval){g.setForRemoval=!1,g.setForMove=!0;const C=this.collectedLeaveElements.indexOf(t);C>=0&&this.collectedLeaveElements.splice(C,1)}if(i){const C=this._fetchNamespace(i);C&&C.insertNode(t,o)}d&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Iu(i,yT)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),R0(i,yT))}removeNode(i,t,o,d){if(Ab(t)){const g=i?this._fetchNamespace(i):null;if(g?g.removeNode(t,d):this.markElementAsRemoved(i,t,!1,d),o){const C=this.namespacesByHostElement.get(t);C&&C.id!==i&&C.removeNode(t,d)}}else this._onRemovalComplete(t,d)}markElementAsRemoved(i,t,o,d,g){this.collectedLeaveElements.push(t),t[Au]={namespaceId:i,setForRemoval:d,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:g}}listen(i,t,o,d,g){return Ab(t)?this._fetchNamespace(i).listen(t,o,d,g):()=>{}}_buildInstruction(i,t,o,d,g){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,o,d,i.fromState.options,i.toState.options,t,g)}destroyInnerAnimations(i){let t=this.driver.query(i,gb,!0);t.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,cT,!0),t.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return cg(this.players).onDone(()=>i());i()})}processLeaveNode(i){var t;const o=i[Au];if(o&&o.setForRemoval){if(i[Au]=gD,o.namespaceId){this.destroyInnerAnimations(i);const d=this._fetchNamespace(o.namespaceId);d&&d.clearElementCache(i)}this._onRemovalComplete(i,o.setForRemoval)}(null===(t=i.classList)||void 0===t?void 0:t.contains(yT))&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(d=>{this.markElementAsDisabled(d,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,d)=>this._balanceNamespaceList(o,d)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Iu(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{t=this._flushAnimations(o,i)}finally{for(let d=0;d<o.length;d++)o[d]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],t.length?cg(t).onDone(()=>{o.forEach(d=>d())}):o.forEach(d=>d())}}reportError(i){throw function uI(n){return new e.vHH(3402,yi)}()}_flushAnimations(i,t){const o=new Db,d=[],g=new Map,C=[],A=new Map,F=new Map,te=new Map,Me=new Set;this.disabledNodes.forEach(Bn=>{Me.add(Bn);const tr=this.driver.query(Bn,".ng-animate-queued",!0);for(let Cr=0;Cr<tr.length;Cr++)Me.add(tr[Cr])});const rt=this.bodyNode,yt=Array.from(this.statesByElement.keys()),Tt=vD(yt,this.collectedEnterElements),Ut=new Map;let Lt=0;Tt.forEach((Bn,tr)=>{const Cr=aT+Lt++;Ut.set(tr,Cr),Bn.forEach(ni=>Iu(ni,Cr))});const On=[],or=new Set,Jn=new Set;for(let Bn=0;Bn<this.collectedLeaveElements.length;Bn++){const tr=this.collectedLeaveElements[Bn],Cr=tr[Au];Cr&&Cr.setForRemoval&&(On.push(tr),or.add(tr),Cr.hasAnimation?this.driver.query(tr,".ng-star-inserted",!0).forEach(ni=>or.add(ni)):Jn.add(tr))}const Pr=new Map,zn=vD(yt,Array.from(or));zn.forEach((Bn,tr)=>{const Cr=fb+Lt++;Pr.set(tr,Cr),Bn.forEach(ni=>Iu(ni,Cr))}),i.push(()=>{Tt.forEach((Bn,tr)=>{const Cr=Ut.get(tr);Bn.forEach(ni=>R0(ni,Cr))}),zn.forEach((Bn,tr)=>{const Cr=Pr.get(tr);Bn.forEach(ni=>R0(ni,Cr))}),On.forEach(Bn=>{this.processLeaveNode(Bn)})});const Or=[],Dr=[];for(let Bn=this._namespaceList.length-1;Bn>=0;Bn--)this._namespaceList[Bn].drainQueuedTransitions(t).forEach(Cr=>{const ni=Cr.player,Yo=Cr.element;if(Or.push(ni),this.collectedEnterElements.length){const Us=Yo[Au];if(Us&&Us.setForMove){if(Us.previousTriggersValues&&Us.previousTriggersValues.has(Cr.triggerName)){const Sc=Us.previousTriggersValues.get(Cr.triggerName),Pu=this.statesByElement.get(Cr.element);Pu&&Pu[Cr.triggerName]&&(Pu[Cr.triggerName].value=Sc)}return void ni.destroy()}}const tl=!rt||!this.driver.containsElement(rt,Yo),Js=Pr.get(Yo),Fl=Ut.get(Yo),Wi=this._buildInstruction(Cr,o,Fl,Js,tl);if(Wi.errors&&Wi.errors.length)return void Dr.push(Wi);if(tl)return ni.onStart(()=>t_(Yo,Wi.fromStyles)),ni.onDestroy(()=>jh(Yo,Wi.toStyles)),void d.push(ni);if(Cr.isFallbackTransition)return ni.onStart(()=>t_(Yo,Wi.fromStyles)),ni.onDestroy(()=>jh(Yo,Wi.toStyles)),void d.push(ni);const Od=[];Wi.timelines.forEach(Us=>{Us.stretchStartingKeyframe=!0,this.disabledNodes.has(Us.element)||Od.push(Us)}),Wi.timelines=Od,o.append(Yo,Wi.timelines),C.push({instruction:Wi,player:ni,element:Yo}),Wi.queriedElements.forEach(Us=>kl(A,Us,[]).push(ni)),Wi.preStyleProps.forEach((Us,Sc)=>{const Pu=Object.keys(Us);if(Pu.length){let tp=F.get(Sc);tp||F.set(Sc,tp=new Set),Pu.forEach(i_=>tp.add(i_))}}),Wi.postStyleProps.forEach((Us,Sc)=>{const Pu=Object.keys(Us);let tp=te.get(Sc);tp||te.set(Sc,tp=new Set),Pu.forEach(i_=>tp.add(i_))})});if(Dr.length){const Bn=[];Dr.forEach(tr=>{Bn.push(function dI(n,i){return new e.vHH(3505,yi)}())}),Or.forEach(tr=>tr.destroy()),this.reportError(Bn)}const jr=new Map,oi=new Map;C.forEach(Bn=>{const tr=Bn.element;o.has(tr)&&(oi.set(tr,tr),this._beforeAnimationBuild(Bn.player.namespaceId,Bn.instruction,jr))}),d.forEach(Bn=>{const tr=Bn.element;this._getPreviousPlayers(tr,!1,Bn.namespaceId,Bn.triggerName,null).forEach(ni=>{kl(jr,tr,[]).push(ni),ni.destroy()})});const fo=On.filter(Bn=>bD(Bn,F,te)),po=new Map;_D(po,this.driver,Jn,te,Ks).forEach(Bn=>{bD(Bn,F,te)&&fo.push(Bn)});const ka=new Map;Tt.forEach((Bn,tr)=>{_D(ka,this.driver,new Set(Bn),F,"!")}),fo.forEach(Bn=>{const tr=po.get(Bn),Cr=ka.get(Bn);po.set(Bn,Object.assign(Object.assign({},tr),Cr))});const Ss=[],ug=[],dg={};C.forEach(Bn=>{const{element:tr,player:Cr,instruction:ni}=Bn;if(o.has(tr)){if(Me.has(tr))return Cr.onDestroy(()=>jh(tr,ni.toStyles)),Cr.disabled=!0,Cr.overrideTotalTime(ni.totalTime),void d.push(Cr);let Yo=dg;if(oi.size>1){let Js=tr;const Fl=[];for(;Js=Js.parentNode;){const Wi=oi.get(Js);if(Wi){Yo=Wi;break}Fl.push(Js)}Fl.forEach(Wi=>oi.set(Wi,Yo))}const tl=this._buildAnimation(Cr.namespaceId,ni,jr,g,ka,po);if(Cr.setRealPlayer(tl),Yo===dg)Ss.push(Cr);else{const Js=this.playersByElement.get(Yo);Js&&Js.length&&(Cr.parentPlayer=cg(Js)),d.push(Cr)}}else t_(tr,ni.fromStyles),Cr.onDestroy(()=>jh(tr,ni.toStyles)),ug.push(Cr),Me.has(tr)&&d.push(Cr)}),ug.forEach(Bn=>{const tr=g.get(Bn.element);if(tr&&tr.length){const Cr=cg(tr);Bn.setRealPlayer(Cr)}}),d.forEach(Bn=>{Bn.parentPlayer?Bn.syncPlayerEvents(Bn.parentPlayer):Bn.destroy()});for(let Bn=0;Bn<On.length;Bn++){const tr=On[Bn],Cr=tr[Au];if(R0(tr,fb),Cr&&Cr.hasAnimation)continue;let ni=[];if(A.size){let tl=A.get(tr);tl&&tl.length&&ni.push(...tl);let Js=this.driver.query(tr,cT,!0);for(let Fl=0;Fl<Js.length;Fl++){let Wi=A.get(Js[Fl]);Wi&&Wi.length&&ni.push(...Wi)}}const Yo=ni.filter(tl=>!tl.destroyed);Yo.length?dP(this,tr,Yo):this.processLeaveNode(tr)}return On.length=0,Ss.forEach(Bn=>{this.players.push(Bn),Bn.onDone(()=>{Bn.destroy();const tr=this.players.indexOf(Bn);this.players.splice(tr,1)}),Bn.play()}),Ss}elementContainsData(i,t){let o=!1;const d=t[Au];return d&&d.setForRemoval&&(o=!0),this.playersByElement.has(t)&&(o=!0),this.playersByQueriedElement.has(t)&&(o=!0),this.statesByElement.has(t)&&(o=!0),this._fetchNamespace(i).elementContainsData(t)||o}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,o,d,g){let C=[];if(t){const A=this.playersByQueriedElement.get(i);A&&(C=A)}else{const A=this.playersByElement.get(i);if(A){const F=!g||g==ay;A.forEach(te=>{te.queued||!F&&te.triggerName!=d||C.push(te)})}}return(o||d)&&(C=C.filter(A=>!(o&&o!=A.namespaceId||d&&d!=A.triggerName))),C}_beforeAnimationBuild(i,t,o){const g=t.element,C=t.isRemovalTransition?void 0:i,A=t.isRemovalTransition?void 0:t.triggerName;for(const F of t.timelines){const te=F.element,Me=te!==g,rt=kl(o,te,[]);this._getPreviousPlayers(te,Me,C,A,t.toState).forEach(Tt=>{const Ut=Tt.getRealPlayer();Ut.beforeDestroy&&Ut.beforeDestroy(),Tt.destroy(),rt.push(Tt)})}t_(g,t.fromStyles)}_buildAnimation(i,t,o,d,g,C){const A=t.triggerName,F=t.element,te=[],Me=new Set,rt=new Set,yt=t.timelines.map(Ut=>{const Lt=Ut.element;Me.add(Lt);const On=Lt[Au];if(On&&On.removedBeforeQueried)return new pu(Ut.duration,Ut.delay);const or=Lt!==F,Jn=function hP(n){const i=[];return yD(n,i),i}((o.get(Lt)||iP).map(jr=>jr.getRealPlayer())).filter(jr=>!!jr.element&&jr.element===Lt),Pr=g.get(Lt),zn=C.get(Lt),Or=ZE(0,this._normalizer,0,Ut.keyframes,Pr,zn),Dr=this._buildPlayer(Ut,Or,Jn);if(Ut.subTimeline&&d&&rt.add(Lt),or){const jr=new wT(i,A,Lt);jr.setRealPlayer(Dr),te.push(jr)}return Dr});te.forEach(Ut=>{kl(this.playersByQueriedElement,Ut.element,[]).push(Ut),Ut.onDone(()=>function cP(n,i,t){let o;if(n instanceof Map){if(o=n.get(i),o){if(o.length){const d=o.indexOf(t);o.splice(d,1)}0==o.length&&n.delete(i)}}else if(o=n[i],o){if(o.length){const d=o.indexOf(t);o.splice(d,1)}0==o.length&&delete n[i]}return o}(this.playersByQueriedElement,Ut.element,Ut))}),Me.forEach(Ut=>Iu(Ut,tD));const Tt=cg(yt);return Tt.onDestroy(()=>{Me.forEach(Ut=>R0(Ut,tD)),jh(F,t.toStyles)}),rt.forEach(Ut=>{kl(d,Ut,[]).push(Tt)}),Tt}_buildPlayer(i,t,o){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,o):new pu(i.duration,i.delay)}}class wT{constructor(i,t,o){this.namespaceId=i,this.triggerName=t,this.element=o,this._player=new pu,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(o=>tT(i,t,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){kl(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function Ab(n){return n&&1===n.nodeType}function mD(n,i){const t=n.style.display;return n.style.display=null!=i?i:"none",t}function _D(n,i,t,o,d){const g=[];t.forEach(F=>g.push(mD(F)));const C=[];o.forEach((F,te)=>{const Me={};F.forEach(rt=>{const yt=Me[rt]=i.computeStyle(te,rt,d);(!yt||0==yt.length)&&(te[Au]=oP,C.push(te))}),n.set(te,Me)});let A=0;return t.forEach(F=>mD(F,g[A++])),C}function vD(n,i){const t=new Map;if(n.forEach(A=>t.set(A,[])),0==i.length)return t;const d=new Set(i),g=new Map;function C(A){if(!A)return 1;let F=g.get(A);if(F)return F;const te=A.parentNode;return F=t.has(te)?te:d.has(te)?1:C(te),g.set(A,F),F}return i.forEach(A=>{const F=C(A);1!==F&&t.get(F).push(A)}),t}function Iu(n,i){var t;null===(t=n.classList)||void 0===t||t.add(i)}function R0(n,i){var t;null===(t=n.classList)||void 0===t||t.remove(i)}function dP(n,i,t){cg(t).onDone(()=>n.processLeaveNode(i))}function yD(n,i){for(let t=0;t<n.length;t++){const o=n[t];o instanceof Sf?yD(o.players,i):i.push(o)}}function bD(n,i,t){const o=t.get(n);if(!o)return!1;let d=i.get(n);return d?o.forEach(g=>d.add(g)):i.set(n,o),t.delete(n),!0}class Ib{constructor(i,t,o){this.bodyNode=i,this._driver=t,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(d,g)=>{},this._transitionEngine=new aP(i,t,o),this._timelineEngine=new XI(i,t,o),this._transitionEngine.onRemovalComplete=(d,g)=>this.onRemovalComplete(d,g)}registerTrigger(i,t,o,d,g){const C=i+"-"+d;let A=this._triggerCache[C];if(!A){const F=[],Me=hT(this._driver,g,F,[]);if(F.length)throw function eI(n,i){return new e.vHH(3404,yi)}();A=function KI(n,i,t){return new JI(n,i,t)}(d,Me,this._normalizer),this._triggerCache[C]=A}this._transitionEngine.registerTrigger(t,d,A)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,o,d){this._transitionEngine.insertNode(i,t,o,d)}onRemove(i,t,o,d){this._transitionEngine.removeNode(i,t,d||!1,o)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,o,d){if("@"==o.charAt(0)){const[g,C]=zE(o);this._timelineEngine.command(g,t,C,d)}else this._transitionEngine.trigger(i,t,o,d)}listen(i,t,o,d,g){if("@"==o.charAt(0)){const[C,A]=zE(o);return this._timelineEngine.listen(C,t,A,g)}return this._transitionEngine.listen(i,t,o,d,g)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let gP=(()=>{class n{constructor(t,o,d){this._element=t,this._startStyles=o,this._endStyles=d,this._state=0;let g=n.initialStylesByElement.get(t);g||n.initialStylesByElement.set(t,g={}),this._initialStyles=g}start(){this._state<1&&(this._startStyles&&jh(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(jh(this._element,this._initialStyles),this._endStyles&&(jh(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(t_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(t_(this._element,this._endStyles),this._endStyles=null),jh(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function TT(n){let i=null;const t=Object.keys(n);for(let o=0;o<t.length;o++){const d=t[o];mP(d)&&(i=i||{},i[d]=n[d])}return i}function mP(n){return"display"===n||"position"===n}class CD{constructor(i,t,o,d){this.element=i,this.keyframes=t,this.options=o,this._specialStyles=d,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,t,o){return i.animate(t,o)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(o=>{"offset"!=o&&(i[o]=this._finished?t[o]:sD(this.element,o))})}this.currentSnapshot=i}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(o=>o()),t.length=0}}class _P{validateStyleProperty(i){return JE(i)}matchesElement(i,t){return!1}containsElement(i,t){return YE(i,t)}getParentElement(i){return oT(i)}query(i,t,o){return QE(i,t,o)}computeStyle(i,t,o){return window.getComputedStyle(i)[t]}animate(i,t,o,d,g,C=[]){const F={duration:o,delay:d,fill:0==d?"both":"forwards"};g&&(F.easing=g);const te={},Me=C.filter(yt=>yt instanceof CD);(function CI(n,i){return 0===n||0===i})(o,d)&&Me.forEach(yt=>{let Tt=yt.currentSnapshot;Object.keys(Tt).forEach(Ut=>te[Ut]=Tt[Ut])}),t=function wI(n,i,t){const o=Object.keys(t);if(o.length&&i.length){let g=i[0],C=[];if(o.forEach(A=>{g.hasOwnProperty(A)||C.push(A),g[A]=t[A]}),C.length)for(var d=1;d<i.length;d++){let A=i[d];C.forEach(function(F){A[F]=sD(n,F)})}}return i}(i,t=t.map(yt=>lg(yt,!1)),te);const rt=function pP(n,i){let t=null,o=null;return Array.isArray(i)&&i.length?(t=TT(i[0]),i.length>1&&(o=TT(i[i.length-1]))):i&&(t=TT(i)),t||o?new gP(n,t,o):null}(i,t);return new CD(i,t,F,rt)}}let vP=(()=>{class n extends ih{constructor(t,o){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(o.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const o=this._nextAnimationId.toString();this._nextAnimationId++;const d=Array.isArray(t)?Ef(t):t;return wD(this._renderer,null,o,"register",[d]),new yP(o,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo),e.LFG(p.K0))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class yP extends class hu{}{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new bP(this._id,i,t||{},this._renderer)}}class bP{constructor(i,t,o,d){this.id=i,this.element=t,this._renderer=d,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return wD(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,t;return null!==(t=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==t?t:0}}function wD(n,i,t,o,d){return n.setProperty(i,`@@${t}:${o}`,d)}const TD="@.disabled";let CP=(()=>{class n{constructor(t,o,d){this.delegate=t,this.engine=o,this._zone=d,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(g,C)=>{const A=null==C?void 0:C.parentNode(g);A&&C.removeChild(A,g)}}createRenderer(t,o){const g=this.delegate.createRenderer(t,o);if(!(t&&o&&o.data&&o.data.animation)){let Me=this._rendererCache.get(g);return Me||(Me=new ED("",g,this.engine),this._rendererCache.set(g,Me)),Me}const C=o.id,A=o.id+"-"+this._currentId;this._currentId++,this.engine.register(A,t);const F=Me=>{Array.isArray(Me)?Me.forEach(F):this.engine.registerTrigger(C,A,t,Me.name,Me)};return o.data.animation.forEach(F),new wP(this,A,g,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,o,d){t>=0&&t<this._microtaskId?this._zone.run(()=>o(d)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(g=>{const[C,A]=g;C(A)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,d]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(e.FYo),e.LFG(Ib),e.LFG(e.R0b))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();class ED{constructor(i,t,o){this.namespaceId=i,this.delegate=t,this.engine=o,this.destroyNode=this.delegate.destroyNode?d=>t.destroyNode(d):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,o,d=!0){this.delegate.insertBefore(i,t,o),this.engine.onInsert(this.namespaceId,t,i,d)}removeChild(i,t,o){this.engine.onRemove(this.namespaceId,t,this.delegate,o)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,o,d){this.delegate.setAttribute(i,t,o,d)}removeAttribute(i,t,o){this.delegate.removeAttribute(i,t,o)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,o,d){this.delegate.setStyle(i,t,o,d)}removeStyle(i,t,o){this.delegate.removeStyle(i,t,o)}setProperty(i,t,o){"@"==t.charAt(0)&&t==TD?this.disableAnimations(i,!!o):this.delegate.setProperty(i,t,o)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,o){return this.delegate.listen(i,t,o)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class wP extends ED{constructor(i,t,o,d){super(t,o,d),this.factory=i,this.namespaceId=t}setProperty(i,t,o){"@"==t.charAt(0)?"."==t.charAt(1)&&t==TD?this.disableAnimations(i,o=void 0===o||!!o):this.engine.process(this.namespaceId,i,t.substr(1),o):this.delegate.setProperty(i,t,o)}listen(i,t,o){if("@"==t.charAt(0)){const d=function TP(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(i);let g=t.substr(1),C="";return"@"!=g.charAt(0)&&([g,C]=function EP(n){const i=n.indexOf(".");return[n.substring(0,i),n.substr(i+1)]}(g)),this.engine.listen(this.namespaceId,d,g,C,A=>{this.factory.scheduleListenerCallback(A._data||-1,o,A)})}return this.delegate.listen(i,t,o)}}let DP=(()=>{class n extends Ib{constructor(t,o,d){super(t.body,o,d)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(p.K0),e.LFG(sT),e.LFG(_T))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();const DD=new e.OlP("AnimationModuleType"),SD=[{provide:ih,useClass:vP},{provide:_T,useFactory:function SP(){return new qI}},{provide:Ib,useClass:DP},{provide:e.FYo,useFactory:function xP(n,i,t){return new CP(n,i,t)},deps:[Fe,Ib,e.R0b]}],xD=[{provide:sT,useFactory:()=>new _P},{provide:DD,useValue:"BrowserAnimations"},...SD],AP=[{provide:sT,useClass:XE},{provide:DD,useValue:"NoopAnimations"},...SD];let IP=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?AP:xD}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({providers:xD,imports:[kr]}),n})();var AD=P(3692),ID=P(2292);const PD={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};let PP=(()=>{class n{intercept(t,o){return o.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac}),n})();(0,p.qS)(_w,"es");let OP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n,bootstrap:[Mp]}),n.\u0275inj=e.cJS({providers:[el,H1,Xa,{provide:e.soG,useValue:"es"},{provide:gd.Dh,useValue:PD.firebaseConfig},{provide:bh.TP,useClass:PP,multi:!0}],imports:[[kr,IP,mw,p.ez,sl,bh.JF,Ua,V_,rh.forRoot(MA),Ug,T_.forRoot({defaultLanguage:xr.q.defaultLanguage}),(0,AD.hX)(()=>(0,AD.ZF)(PD.firebaseConfig)),(0,ID.Cm)(()=>(0,ID.ad)())]]}),n})();bi().bootstrapModule(OP).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(lt,x,P)=>{"use strict";P(8583);const e="undefined"!=typeof globalThis&&globalThis,E="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H=e||"undefined"!=typeof global&&global||E||N,J=function(ie,...he){if(J.translate){const Ye=J.translate(ie,he);ie=Ye[0],he=Ye[1]}let st=Q(ie[0],ie.raw[0]);for(let Ye=1;Ye<ie.length;Ye++)st+=he[Ye-1]+Q(ie[Ye],ie.raw[Ye]);return st};function Q(ie,he){return":"===he.charAt(0)?ie.substring(function K(ie,he){for(let st=1,Ye=1;st<ie.length;st++,Ye++)if("\\"===he[Ye])Ye++;else if(":"===ie[st])return st;throw new Error(`Unterminated $localize metadata block in "${he}".`)}(ie,he)+1):ie}H.$localize=J},5867:(lt,x,P)=>{"use strict";P.d(x,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=P(9681);(0,p.registerVersion)("firebase","9.6.9","app")},127:(lt,x,P)=>{"use strict";P.d(x,{Z:()=>p.Z});var p=P(3942);p.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(lt,x,P)=>{"use strict";P.d(x,{ET:()=>Ec,hJ:()=>$_,oe:()=>Tc,JU:()=>Y0,ad:()=>J_,cf:()=>l0,pl:()=>uv,qs:()=>d0});var Z,p=P(5861),e=P(9681),E=P(4859),N=P(1877),O=P(2090),H="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},J={},Q=Q||{},K=H||self;function ie(){}function he(l){var r=typeof l;return"array"==(r="object"!=r?r:l?Array.isArray(l)?"array":r:"null")||"object"==r&&"number"==typeof l.length}function st(l){var r=typeof l;return"object"==r&&null!=l||"function"==r}var ze="closure_uid_"+(1e9*Math.random()>>>0),gt=0;function ge(l,r,c){return l.call.apply(l.bind,arguments)}function Be(l,r,c){if(!l)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var m=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(m,h),l.apply(r,m)}}return function(){return l.apply(r,arguments)}}function Ie(l,r,c){return(Ie=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ge:Be).apply(null,arguments)}function ut(l,r){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),l.apply(this,h)}}function Ge(l,r){function c(){}c.prototype=r.prototype,l.Z=r.prototype,l.prototype=new c,l.prototype.constructor=l,l.Vb=function(h,m,b){for(var D=Array(arguments.length-2),k=2;k<arguments.length;k++)D[k-2]=arguments[k];return r.prototype[m].apply(h,D)}}function et(){this.s=this.s,this.o=this.o}var Ke={};et.prototype.s=!1,et.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function Ye(l){return Object.prototype.hasOwnProperty.call(l,ze)&&l[ze]||(l[ze]=++gt)}(this);delete Ke[l]}},et.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ke=Array.prototype.indexOf?function(l,r){return Array.prototype.indexOf.call(l,r,void 0)}:function(l,r){if("string"==typeof l)return"string"!=typeof r||1!=r.length?-1:l.indexOf(r,0);for(let c=0;c<l.length;c++)if(c in l&&l[c]===r)return c;return-1},ot=Array.prototype.forEach?function(l,r,c){Array.prototype.forEach.call(l,r,c)}:function(l,r,c){const h=l.length,m="string"==typeof l?l.split(""):l;for(let b=0;b<h;b++)b in m&&r.call(c,m[b],b,l)};function ue(l){return Array.prototype.concat.apply([],arguments)}function X(l){const r=l.length;if(0<r){const c=Array(r);for(let h=0;h<r;h++)c[h]=l[h];return c}return[]}function ye(l){return/^[\s\xa0]*$/.test(l)}var It,Fe=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function _e(l,r){return-1!=l.indexOf(r)}function wt(l,r){return l<r?-1:l>r?1:0}e:{var Sn=K.navigator;if(Sn){var Pt=Sn.userAgent;if(Pt){It=Pt;break e}}It=""}function Et(l,r,c){for(const h in l)r.call(c,l[h],h,l)}function kt(l){const r={};for(const c in l)r[c]=l[c];return r}var vn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lr(l,r){let c,h;for(let m=1;m<arguments.length;m++){for(c in h=arguments[m],h)l[c]=h[c];for(let b=0;b<vn.length;b++)c=vn[b],Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])}}function Vn(l){return Vn[" "](l),l}Vn[" "]=ie;var Vr,l,ur=_e(It,"Opera"),sr=_e(It,"Trident")||_e(It,"MSIE"),Jr=_e(It,"Edge"),_r=Jr||sr,Ar=_e(It,"Gecko")&&!(_e(It.toLowerCase(),"webkit")&&!_e(It,"Edge"))&&!(_e(It,"Trident")||_e(It,"MSIE"))&&!_e(It,"Edge"),Ii=_e(It.toLowerCase(),"webkit")&&!_e(It,"Edge");function bi(){var l=K.document;return l?l.documentMode:void 0}e:{var kr="",Ni=(l=It,Ar?/rv:([^\);]+)(\)|;)/.exec(l):Jr?/Edge\/([\d\.]+)/.exec(l):sr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Ii?/WebKit\/(\S+)/.exec(l):ur?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Ni&&(kr=Ni?Ni[1]:""),sr){var An=bi();if(null!=An&&An>parseFloat(kr)){Vr=String(An);break e}}Vr=kr}var Hi={};var ct=K.document&&sr&&(bi()||parseInt(Vr,10))||void 0,Oe=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var l=!1,r=Object.defineProperty({},"passive",{get:function(){l=!0}});try{K.addEventListener("test",ie,r),K.removeEventListener("test",ie,r)}catch(c){}return l}();function oe(l,r){this.type=l,this.g=this.target=r,this.defaultPrevented=!1}function fe(l,r){if(oe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var c=this.type=l.type,h=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=r,r=l.relatedTarget){if(Ar){e:{try{Vn(r.nodeName);var m=!0;break e}catch(b){}m=!1}m||(r=null)}}else"mouseover"==c?r=l.fromElement:"mouseout"==c&&(r=l.toElement);this.relatedTarget=r,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Je[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&fe.Z.h.call(this)}}oe.prototype.h=function(){this.defaultPrevented=!0},Ge(fe,oe);var Je={2:"touch",3:"pen",4:"mouse"};fe.prototype.h=function(){fe.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Qe="closure_listenable_"+(1e6*Math.random()|0),ht=0;function St(l,r,c,h,m){this.listener=l,this.proxy=null,this.src=r,this.type=c,this.capture=!!h,this.ia=m,this.key=++ht,this.ca=this.fa=!1}function Xt(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function jt(l){this.src=l,this.g={},this.h=0}function Qt(l,r){var c=r.type;if(c in l.g){var b,h=l.g[c],m=ke(h,r);(b=0<=m)&&Array.prototype.splice.call(h,m,1),b&&(Xt(r),0==l.g[c].length&&(delete l.g[c],l.h--))}}function Mn(l,r,c,h){for(var m=0;m<l.length;++m){var b=l[m];if(!b.ca&&b.listener==r&&b.capture==!!c&&b.ia==h)return m}return-1}jt.prototype.add=function(l,r,c,h,m){var b=l.toString();(l=this.g[b])||(l=this.g[b]=[],this.h++);var D=Mn(l,r,h,m);return-1<D?(r=l[D],c||(r.fa=!1)):((r=new St(r,this.src,b,!!h,m)).fa=c,l.push(r)),r};var Tn="closure_lm_"+(1e6*Math.random()|0),qn={};function Mt(l,r,c,h,m){if(h&&h.once)return Ot(l,r,c,h,m);if(Array.isArray(r)){for(var b=0;b<r.length;b++)Mt(l,r[b],c,h,m);return null}return c=be(c),l&&l[Qe]?l.N(r,c,st(h)?!!h.capture:!!h,m):Zn(l,r,c,!1,h,m)}function Zn(l,r,c,h,m,b){if(!r)throw Error("Invalid event type");var D=st(m)?!!m.capture:!!m,k=Nn(l);if(k||(l[Tn]=k=new jt(l)),(c=k.add(r,c,h,D,b)).proxy)return c;if(h=function xn(){var r=Ln;return function l(c){return r.call(l.src,l.listener,c)}}(),c.proxy=h,h.src=l,h.listener=c,l.addEventListener)Oe||(m=D),void 0===m&&(m=!1),l.addEventListener(r.toString(),h,m);else if(l.attachEvent)l.attachEvent(rn(r.toString()),h);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(h)}return c}function Ot(l,r,c,h,m){if(Array.isArray(r)){for(var b=0;b<r.length;b++)Ot(l,r[b],c,h,m);return null}return c=be(c),l&&l[Qe]?l.O(r,c,st(h)?!!h.capture:!!h,m):Zn(l,r,c,!0,h,m)}function it(l,r,c,h,m){if(Array.isArray(r))for(var b=0;b<r.length;b++)it(l,r[b],c,h,m);else h=st(h)?!!h.capture:!!h,c=be(c),l&&l[Qe]?(l=l.i,(r=String(r).toString())in l.g&&-1<(c=Mn(b=l.g[r],c,h,m))&&(Xt(b[c]),Array.prototype.splice.call(b,c,1),0==b.length&&(delete l.g[r],l.h--))):l&&(l=Nn(l))&&(r=l.g[r.toString()],l=-1,r&&(l=Mn(r,c,h,m)),(c=-1<l?r[l]:null)&&Wt(c))}function Wt(l){if("number"!=typeof l&&l&&!l.ca){var r=l.src;if(r&&r[Qe])Qt(r.i,l);else{var c=l.type,h=l.proxy;r.removeEventListener?r.removeEventListener(c,h,l.capture):r.detachEvent?r.detachEvent(rn(c),h):r.addListener&&r.removeListener&&r.removeListener(h),(c=Nn(r))?(Qt(c,l),0==c.h&&(c.src=null,r[Tn]=null)):Xt(l)}}}function rn(l){return l in qn?qn[l]:qn[l]="on"+l}function Ln(l,r){if(l.ca)l=!0;else{r=new fe(r,this);var c=l.listener,h=l.ia||l.src;l.fa&&Wt(l),l=c.call(h,r)}return l}function Nn(l){return(l=l[Tn])instanceof jt?l:null}var Ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function be(l){return"function"==typeof l?l:(l[Ee]||(l[Ee]=function(r){return l.handleEvent(r)}),l[Ee])}function Ce(){et.call(this),this.i=new jt(this),this.P=this,this.I=null}function tt(l,r){var c,h=l.I;if(h)for(c=[];h;h=h.I)c.push(h);if(l=l.P,h=r.type||r,"string"==typeof r)r=new oe(r,l);else if(r instanceof oe)r.target=r.target||l;else{var m=r;lr(r=new oe(h,l),m)}if(m=!0,c)for(var b=c.length-1;0<=b;b--){var D=r.g=c[b];m=Ve(D,h,!0,r)&&m}if(m=Ve(D=r.g=l,h,!0,r)&&m,m=Ve(D,h,!1,r)&&m,c)for(b=0;b<c.length;b++)m=Ve(D=r.g=c[b],h,!1,r)&&m}function Ve(l,r,c,h){if(!(r=l.i.g[String(r)]))return!0;r=r.concat();for(var m=!0,b=0;b<r.length;++b){var D=r[b];if(D&&!D.ca&&D.capture==c){var k=D.listener,$=D.ia||D.src;D.fa&&Qt(l.i,D),m=!1!==k.call($,h)&&m}}return m&&!h.defaultPrevented}Ge(Ce,et),Ce.prototype[Qe]=!0,Ce.prototype.removeEventListener=function(l,r,c,h){it(this,l,r,c,h)},Ce.prototype.M=function(){if(Ce.Z.M.call(this),this.i){var r,l=this.i;for(r in l.g){for(var c=l.g[r],h=0;h<c.length;h++)Xt(c[h]);delete l.g[r],l.h--}}this.I=null},Ce.prototype.N=function(l,r,c,h){return this.i.add(String(l),r,!1,c,h)},Ce.prototype.O=function(l,r,c,h){return this.i.add(String(l),r,!0,c,h)};var Ht=K.JSON.stringify;function Rn(){var l=dt;let r=null;return l.g&&(r=l.g,l.g=l.g.next,l.g||(l.h=null),r.next=null),r}var kn,Hn=new class{constructor(l,r){this.i=l,this.j=r,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new Yn,l=>l.reset());class Yn{constructor(){this.next=this.g=this.h=null}set(r,c){this.h=r,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}function dr(l){K.setTimeout(()=>{throw l},0)}function _n(l,r){kn||function mn(){var l=K.Promise.resolve(void 0);kn=function(){l.then(ln)}}(),He||(kn(),He=!0),dt.add(l,r)}var He=!1,dt=new class gn{constructor(){this.h=this.g=null}add(r,c){const h=Hn.get();h.set(r,c),this.h?this.h.next=h:this.g=h,this.h=h}};function ln(){for(var l;l=Rn();){try{l.h.call(l.g)}catch(c){dr(c)}var r=Hn;r.j(l),100>r.h&&(r.h++,l.next=r.g,r.g=l)}He=!1}function yn(l,r){Ce.call(this),this.h=l||1,this.g=r||K,this.j=Ie(this.kb,this),this.l=Date.now()}function on(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Yt(l,r,c){if("function"==typeof l)c&&(l=Ie(l,c));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ie(l.handleEvent,l)}return 2147483647<Number(r)?-1:K.setTimeout(l,r||0)}function $t(l){l.g=Yt(()=>{l.g=null,l.i&&(l.i=!1,$t(l))},l.j);const r=l.h;l.h=null,l.m.apply(null,r)}Ge(yn,Ce),(Z=yn.prototype).da=!1,Z.S=null,Z.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),tt(this,"tick"),this.da&&(on(this),this.start()))}},Z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Z.M=function(){yn.Z.M.call(this),on(this),delete this.g};class $e extends et{constructor(r,c){super(),this.m=r,this.j=c,this.h=null,this.i=!1,this.g=null}l(r){this.h=arguments,this.g?this.i=!0:$t(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(l){et.call(this),this.h=l,this.g={}}Ge(At,et);var en=[];function hn(l,r,c,h){Array.isArray(c)||(c&&(en[0]=c.toString()),c=en);for(var m=0;m<c.length;m++){var b=Mt(r,c[m],h||l.handleEvent,!1,l.h||l);if(!b)break;l.g[b.key]=b}}function an(l){Et(l.g,function(r,c){this.g.hasOwnProperty(c)&&Wt(r)},l),l.g={}}function fn(){this.g=!0}function Gn(l,r,c,h){l.info(function(){return"XMLHTTP TEXT ("+r+"): "+function nr(l,r){if(!l.g)return r;if(!r)return null;try{var c=JSON.parse(r);if(c)for(l=0;l<c.length;l++)if(Array.isArray(c[l])){var h=c[l];if(!(2>h.length)){var m=h[1];if(Array.isArray(m)&&!(1>m.length)){var b=m[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var D=1;D<m.length;D++)m[D]=""}}}return Ht(c)}catch(k){return r}}(l,c)+(h?" "+h:"")})}At.prototype.M=function(){At.Z.M.call(this),an(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},fn.prototype.Aa=function(){this.g=!1},fn.prototype.info=function(){};var vr={},ri=null;function eo(){return ri=ri||new Ce}function Gr(l){oe.call(this,vr.Ma,l)}function Lr(l){const r=eo();tt(r,new Gr(r,l))}function Qi(l,r){oe.call(this,vr.STAT_EVENT,l),this.stat=r}function Zr(l){const r=eo();tt(r,new Qi(r,l))}function Xe(l,r){oe.call(this,vr.Na,l),this.size=r}function Ue(l,r){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){l()},r)}vr.Ma="serverreachability",Ge(Gr,oe),vr.STAT_EVENT="statevent",Ge(Qi,oe),vr.Na="timingevent",Ge(Xe,oe);var pt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Gt(){}function fr(){}Gt.prototype.h=null;var No,Br={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function mr(){oe.call(this,"d")}function mi(){oe.call(this,"c")}function to(){}function fs(l,r,c,h){this.l=l,this.j=r,this.m=c,this.X=h||1,this.V=new At(this),this.P=js,this.W=new yn(l=_r?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new $i}function $i(){this.i=null,this.g="",this.h=!1}Ge(mr,oe),Ge(mi,oe),Ge(to,Gt),to.prototype.g=function(){return new XMLHttpRequest},to.prototype.i=function(){return{}},No=new to;var js=45e3,Vs={},no={};function xs(l,r,c){l.K=1,l.v=Se(me(r)),l.s=c,l.U=!0,Qo(l,null)}function Qo(l,r){l.F=Date.now(),jo(l),l.A=me(l.v);var c=l.A,h=l.X;Array.isArray(h)||(h=[String(h)]),U(c.h,"t",h),l.C=0,c=l.l.H,l.h=new $i,l.g=pa(l.l,c?r:null,!l.s),0<l.O&&(l.L=new $e(Ie(l.Ia,l,l.g),l.O)),hn(l.V,l.g,"readystatechange",l.gb),r=l.H?kt(l.H):{},l.s?(l.u||(l.u="POST"),r["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,r)):(l.u="GET",l.g.ea(l.A,l.u,null,r)),Lr(1),function $n(l,r,c,h,m,b){l.info(function(){if(l.g)if(b)for(var D="",k=b.split("&"),$=0;$<k.length;$++){var se=k[$].split("=");if(1<se.length){var Re=se[0];se=se[1];var We=Re.split("_");D=2<=We.length&&"type"==We[1]?D+(Re+"=")+se+"&":D+(Re+"=redacted&")}}else D=null;else D=b;return"XMLHTTP REQ ("+h+") [attempt "+m+"]: "+r+"\n"+c+"\n"+D})}(l.j,l.u,l.A,l.m,l.X,l.s)}function Ri(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function Xo(l,r,c){let m,h=!0;for(;!l.I&&l.C<c.length;){if(m=ua(l,c),m==no){4==r&&(l.o=4,Zr(14),h=!1),Gn(l.j,l.m,null,"[Incomplete Response]");break}if(m==Vs){l.o=4,Zr(15),Gn(l.j,l.m,c,"[Invalid Chunk]"),h=!1;break}Gn(l.j,l.m,m,null),Co(l,m)}Ri(l)&&m!=no&&m!=Vs&&(l.h.g="",l.C=0),4!=r||0!=c.length||l.h.h||(l.o=1,Zr(16),h=!1),l.i=l.i&&h,h?0<c.length&&!l.aa&&(l.aa=!0,(r=l.l).g==l&&r.$&&!r.L&&(r.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),Oc(r),r.L=!0,Zr(11))):(Gn(l.j,l.m,c,"[Invalid Chunked Response]"),go(l),Ro(l))}function ua(l,r){var c=l.C,h=r.indexOf("\n",c);return-1==h?no:(c=Number(r.substring(c,h)),isNaN(c)?Vs:(h+=1)+c>r.length?no:(r=r.substr(h,c),l.C=h+c,r))}function jo(l){l.Y=Date.now()+l.P,Vo(l,l.P)}function Vo(l,r){if(null!=l.B)throw Error("WatchDog timer not null");l.B=Ue(Ie(l.eb,l),r)}function es(l){l.B&&(K.clearTimeout(l.B),l.B=null)}function Ro(l){0==l.l.G||l.I||il(l.l,l)}function go(l){es(l);var r=l.L;r&&"function"==typeof r.na&&r.na(),l.L=null,on(l.W),an(l.V),l.g&&(r=l.g,l.g=null,r.abort(),r.na())}function Co(l,r){try{var c=l.l;if(0!=c.G&&(c.g==l||Tr(c.i,l)))if(c.I=l.N,!l.J&&Tr(c.i,l)&&3==c.G){try{var h=c.Ca.g.parse(r)}catch(se){h=null}if(Array.isArray(h)&&3==h.length){var m=h;if(0==m[0])e:if(c.u)c.ta=m[1],0<c.ta-c.U&&37500>m[2]&&c.N&&0==c.A&&!c.v&&(c.v=Ue(Ie(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<l.F))break e;Mc(c),La(c)}Pc(c),Zr(18)}if(1>=Hr(c.i)&&c.ka){try{c.ka()}catch(se){}c.ka=void 0}}else tc(c,11)}else if((l.J||c.g==l)&&Mc(c),!ye(r))for(m=c.Ca.g.parse(r),r=0;r<m.length;r++){let se=m[r];if(c.U=se[0],se=se[1],2==c.G)if("c"==se[0]){c.J=se[1],c.la=se[2];const Re=se[3];null!=Re&&(c.ma=Re,c.h.info("VER="+c.ma));const We=se[4];null!=We&&(c.za=We,c.h.info("SVER="+c.za));const bt=se[5];null!=bt&&"number"==typeof bt&&0<bt&&(c.K=h=1.5*bt,c.h.info("backChannelRequestTimeoutMs_="+h)),h=c;const Bt=l.g;if(Bt){const Jt=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jt){var b=h.i;!b.g&&(_e(Jt,"spdy")||_e(Jt,"quic")||_e(Jt,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Mr(b,b.h),b.h=null))}if(h.D){const Kn=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;Kn&&(h.sa=Kn,Y(h.F,h.D,Kn))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-l.F,c.h.info("Handshake RTT: "+c.O+"ms"));var D=l;if((h=c).oa=wo(h,h.H?h.la:null,h.W),D.J){ki(h.i,D);var k=D,$=h.K;$&&k.setTimeout($),k.B&&(es(k),jo(k)),h.g=D}else Ic(h);0<c.l.length&&rl(c)}else"stop"!=se[0]&&"close"!=se[0]||tc(c,7);else 3==c.G&&("stop"==se[0]||"close"==se[0]?"stop"==se[0]?tc(c,7):Vh(c):"noop"!=se[0]&&c.j&&c.j.wa(se),c.A=0)}Lr(4)}catch(se){}}function pe(l,r){if(l.forEach&&"function"==typeof l.forEach)l.forEach(r,void 0);else if(he(l)||"string"==typeof l)ot(l,r,void 0);else{if(l.T&&"function"==typeof l.T)var c=l.T();else if(l.R&&"function"==typeof l.R)c=void 0;else if(he(l)||"string"==typeof l){c=[];for(var h=l.length,m=0;m<h;m++)c.push(m)}else for(m in c=[],h=0,l)c[h++]=m;h=function ui(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(he(l)){for(var r=[],c=l.length,h=0;h<c;h++)r.push(l[h]);return r}for(h in r=[],c=0,l)r[c++]=l[h];return r}(l),m=h.length;for(var b=0;b<m;b++)r.call(void 0,h[b],c&&c[b],l)}}function De(l,r){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(l)if(l instanceof De)for(c=l.T(),h=0;h<c.length;h++)this.set(c[h],l.get(c[h]));else for(h in l)this.set(h,l[h])}function ae(l){if(l.i!=l.g.length){for(var r=0,c=0;r<l.g.length;){var h=l.g[r];M(l.h,h)&&(l.g[c++]=h),r++}l.g.length=c}if(l.i!=l.g.length){var m={};for(c=r=0;r<l.g.length;)M(m,h=l.g[r])||(l.g[c++]=h,m[h]=1),r++;l.g.length=c}}function M(l,r){return Object.prototype.hasOwnProperty.call(l,r)}(Z=fs.prototype).setTimeout=function(l){this.P=l},Z.gb=function(l){l=l.target;const r=this.L;r&&3==mo(l)?r.l():this.Ia(l)},Z.Ia=function(l){try{if(l==this.g)e:{const Re=mo(this.g);var r=this.g.Da();const We=this.g.ba();if(!(3>Re)&&(3!=Re||_r||this.g&&(this.h.h||this.g.ga()||Zo(this.g)))){this.I||4!=Re||7==r||Lr(8==r||0>=We?3:2),es(this);var c=this.g.ba();this.N=c;t:if(Ri(this)){var h=Zo(this.g);l="";var m=h.length,b=4==mo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){go(this),Ro(this);var D="";break t}this.h.i=new K.TextDecoder}for(r=0;r<m;r++)this.h.h=!0,l+=this.h.i.decode(h[r],{stream:b&&r==m-1});h.splice(0,m),this.h.g+=l,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function un(l,r,c,h,m,b,D){l.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+m+"]: "+r+"\n"+c+"\n"+b+" "+D})}(this.j,this.u,this.A,this.m,this.X,Re,c),this.i){if(this.$&&!this.J){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(k)){var se=k;break t}}se=null}if(!(c=se)){this.i=!1,this.o=3,Zr(12),go(this),Ro(this);break e}Gn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Co(this,c)}this.U?(Xo(this,Re,D),_r&&this.i&&3==Re&&(hn(this.V,this.W,"tick",this.fb),this.W.start())):(Gn(this.j,this.m,D,null),Co(this,D)),4==Re&&go(this),this.i&&!this.I&&(4==Re?il(this.l,this):(this.i=!1,jo(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Zr(12)):(this.o=0,Zr(13)),go(this),Ro(this)}}}catch(Re){}},Z.fb=function(){if(this.g){var l=mo(this.g),r=this.g.ga();this.C<r.length&&(es(this),Xo(this,l,r),this.i&&4!=l&&jo(this))}},Z.cancel=function(){this.I=!0,go(this)},Z.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Sr(l,r){l.info(function(){return"TIMEOUT: "+r})}(this.j,this.A),2!=this.K&&(Lr(3),Zr(17)),go(this),this.o=2,Ro(this)):Vo(this,this.Y-l)},(Z=De.prototype).R=function(){ae(this);for(var l=[],r=0;r<this.g.length;r++)l.push(this.h[this.g[r]]);return l},Z.T=function(){return ae(this),this.g.concat()},Z.get=function(l,r){return M(this.h,l)?this.h[l]:r},Z.set=function(l,r){M(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=r},Z.forEach=function(l,r){for(var c=this.T(),h=0;h<c.length;h++){var m=c[h],b=this.get(m);l.call(r,b,m,this)}};var V=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function W(l,r){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof W){this.g=void 0!==r?r:l.g,we(this,l.j),this.s=l.s,ve(this,l.i),Pe(this,l.m),this.l=l.l,r=l.h;var c=new Go;c.i=r.i,r.g&&(c.g=new De(r.g),c.h=r.h),nt(this,c),this.o=l.o}else l&&(c=String(l).match(V))?(this.g=!!r,we(this,c[1]||"",!0),this.s=tn(c[2]||""),ve(this,c[3]||"",!0),Pe(this,c[4]),this.l=tn(c[5]||"",!0),nt(this,c[6]||"",!0),this.o=tn(c[7]||"")):(this.g=!!r,this.h=new Go(null,this.g))}function me(l){return new W(l)}function we(l,r,c){l.j=c?tn(r,!0):r,l.j&&(l.j=l.j.replace(/:$/,""))}function ve(l,r,c){l.i=c?tn(r,!0):r}function Pe(l,r){if(r){if(r=Number(r),isNaN(r)||0>r)throw Error("Bad port number "+r);l.m=r}else l.m=null}function nt(l,r,c){r instanceof Go?(l.h=r,function qe(l,r){r&&!l.j&&(Ur(l),l.i=null,l.g.forEach(function(c,h){var m=h.toLowerCase();h!=m&&(j(this,h),U(this,m,c))},l)),l.j=r}(l.h,l.g)):(c||(r=En(r,Fr)),l.h=new Go(r,l.g))}function Y(l,r,c){l.h.set(r,c)}function Se(l){return Y(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function tn(l,r){return l?r?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function En(l,r,c){return"string"==typeof l?(l=encodeURI(l).replace(r,bn),c&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function bn(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}W.prototype.toString=function(){var l=[],r=this.j;r&&l.push(En(r,In,!0),":");var c=this.i;return(c||"file"==r)&&(l.push("//"),(r=this.s)&&l.push(En(r,In,!0),"@"),l.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&l.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&l.push("/"),l.push(En(c,"/"==c.charAt(0)?zr:cr,!0))),(c=this.h.toString())&&l.push("?",c),(c=this.o)&&l.push("#",En(c,ji)),l.join("")};var In=/[#\/\?@]/g,cr=/[#\?:]/g,zr=/[#\?]/g,Fr=/[#\?@]/g,ji=/#/g;function Go(l,r){this.h=this.g=null,this.i=l||null,this.j=!!r}function Ur(l){l.g||(l.g=new De,l.h=0,l.i&&function q(l,r){if(l){l=l.split("&");for(var c=0;c<l.length;c++){var h=l[c].indexOf("="),m=null;if(0<=h){var b=l[c].substring(0,h);m=l[c].substring(h+1)}else b=l[c];r(b,m?decodeURIComponent(m.replace(/\+/g," ")):"")}}}(l.i,function(r,c){l.add(decodeURIComponent(r.replace(/\+/g," ")),c)}))}function j(l,r){Ur(l),r=le(l,r),M(l.g.h,r)&&(l.i=null,l.h-=l.g.get(r).length,M((l=l.g).h,r)&&(delete l.h[r],l.i--,l.g.length>2*l.i&&ae(l)))}function ne(l,r){return Ur(l),r=le(l,r),M(l.g.h,r)}function U(l,r,c){j(l,r),0<c.length&&(l.i=null,l.g.set(le(l,r),X(c)),l.h+=c.length)}function le(l,r){return r=String(r),l.j&&(r=r.toLowerCase()),r}function Ft(l){this.l=l||Cn,l=K.PerformanceNavigationTiming?0<(l=K.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Z=Go.prototype).add=function(l,r){Ur(this),this.i=null,l=le(this,l);var c=this.g.get(l);return c||this.g.set(l,c=[]),c.push(r),this.h+=1,this},Z.forEach=function(l,r){Ur(this),this.g.forEach(function(c,h){ot(c,function(m){l.call(r,m,h,this)},this)},this)},Z.T=function(){Ur(this);for(var l=this.g.R(),r=this.g.T(),c=[],h=0;h<r.length;h++)for(var m=l[h],b=0;b<m.length;b++)c.push(r[h]);return c},Z.R=function(l){Ur(this);var r=[];if("string"==typeof l)ne(this,l)&&(r=ue(r,this.g.get(le(this,l))));else{l=this.g.R();for(var c=0;c<l.length;c++)r=ue(r,l[c])}return r},Z.set=function(l,r){return Ur(this),this.i=null,ne(this,l=le(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[r]),this.h+=1,this},Z.get=function(l,r){return l&&0<(l=this.R(l)).length?String(l[0]):r},Z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],r=this.g.T(),c=0;c<r.length;c++){var h=r[c],m=encodeURIComponent(String(h));h=this.R(h);for(var b=0;b<h.length;b++){var D=m;""!==h[b]&&(D+="="+encodeURIComponent(String(h[b]))),l.push(D)}}return this.i=l.join("&")};var Cn=10;function fi(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Hr(l){return l.h?1:l.g?l.g.size:0}function Tr(l,r){return l.h?l.h==r:!!l.g&&l.g.has(r)}function Mr(l,r){l.g?l.g.add(r):l.h=r}function ki(l,r){l.h&&l.h==r?l.h=null:l.g&&l.g.has(r)&&l.g.delete(r)}function di(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let r=l.i;for(const c of l.g.values())r=r.concat(c.D);return r}return X(l.i)}function pi(){}function ts(){this.g=new pi}function Ho(l,r,c){const h=c||"";try{pe(l,function(m,b){let D=m;st(m)&&(D=Ht(m)),r.push(h+b+"="+encodeURIComponent(D))})}catch(m){throw r.push(h+"type="+encodeURIComponent("_badmap")),m}}function Gs(l,r,c,h,m){try{r.onload=null,r.onerror=null,r.onabort=null,r.ontimeout=null,m(h)}catch(b){}}function ns(l){this.l=l.$b||null,this.j=l.ib||!1}function qo(l,r){Ce.call(this),this.D=l,this.u=r,this.m=void 0,this.readyState=rs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ft.prototype.cancel=function(){if(this.i=di(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},pi.prototype.stringify=function(l){return K.JSON.stringify(l,void 0)},pi.prototype.parse=function(l){return K.JSON.parse(l,void 0)},Ge(ns,Gt),ns.prototype.g=function(){return new qo(this.l,this.j)},ns.prototype.i=function(l){return function(){return l}}({}),Ge(qo,Ce);var rs=0;function As(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function Bl(l){l.readyState=4,l.l=null,l.j=null,l.A=null,Hs(l)}function Hs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(Z=qo.prototype).open=function(l,r){if(this.readyState!=rs)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=r,this.readyState=1,Hs(this)},Z.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const r={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(r.body=l),(this.D||K).fetch(new Request(this.B,r)).then(this.Va.bind(this),this.ha.bind(this))},Z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bl(this)),this.readyState=rs},Z.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Hs(this)),this.g&&(this.readyState=3,Hs(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;As(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},Z.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var r=l.value?l.value:new Uint8Array(0);(r=this.A.decode(r,{stream:!l.done}))&&(this.response=this.responseText+=r)}l.done?Bl(this):Hs(this),3==this.readyState&&As(this)}},Z.Ua=function(l){this.g&&(this.response=this.responseText=l,Bl(this))},Z.Ta=function(l){this.g&&(this.response=l,Bl(this))},Z.ha=function(){this.g&&Bl(this)},Z.setRequestHeader=function(l,r){this.v.append(l,r)},Z.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},Z.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],r=this.h.entries();for(var c=r.next();!c.done;)l.push((c=c.value)[0]+": "+c[1]),c=r.next();return l.join("\r\n")},Object.defineProperty(qo.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Zt=K.JSON.parse;function Qn(l){Ce.call(this),this.headers=new De,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ou,this.K=this.L=!1}Ge(Qn,Ce);var Ou="",Ei=/^https?$/i,Mu=["POST","PUT"];function da(l){return"content-type"==l.toLowerCase()}function ec(l,r){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=r,l.m=5,Ul(l),xc(l)}function Ul(l){l.D||(l.D=!0,tt(l,"complete"),tt(l,"error"))}function jl(l){if(l.h&&void 0!==Q&&(!l.C[1]||4!=mo(l)||2!=l.ba()))if(l.v&&4==mo(l))Yt(l.Fa,0,l);else if(tt(l,"readystatechange"),4==mo(l)){l.h=!1;try{const k=l.ba();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}var c;if(!(c=r)){var h;if(h=0===k){var m=String(l.H).match(V)[1]||null;if(!m&&K.self&&K.self.location){var b=K.self.location.protocol;m=b.substr(0,b.length-1)}h=!Ei.test(m?m.toLowerCase():"")}c=h}if(c)tt(l,"complete"),tt(l,"success");else{l.m=6;try{var D=2<mo(l)?l.g.statusText:""}catch($){D=""}l.j=D+" ["+l.ba()+"]",Ul(l)}}finally{xc(l)}}}function xc(l,r){if(l.g){nl(l);const c=l.g,h=l.C[0]?ie:null;l.g=null,l.C=null,r||tt(l,"ready");try{c.onreadystatechange=h}catch(m){}}}function nl(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(K.clearTimeout(l.A),l.A=null)}function mo(l){return l.g?l.g.readyState:0}function Zo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case Ou:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(r){return null}}function Is(l,r,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=function ha(l){let r="";return Et(l,function(c,h){r+=h,r+=":",r+=c,r+="\r\n"}),r}(c),"string"==typeof l?null!=c&&encodeURIComponent(String(c)):Y(l,r,c))}function Ps(l,r,c){return c&&c.internalChannelParams&&c.internalChannelParams[l]||r}function zo(l){this.za=0,this.l=[],this.h=new fn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ps("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ps("baseRetryDelayMs",5e3,l),this.$a=Ps("retryDelaySeedMs",1e4,l),this.Ya=Ps("forwardChannelMaxRetries",2,l),this.ra=Ps("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new Ft(l&&l.concurrentRequestLimit),this.Ca=new ts,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Vh(l){if(Gh(l),3==l.G){var r=l.V++,c=me(l.F);Y(c,"SID",l.J),Y(c,"RID",r),Y(c,"TYPE","terminate"),Qs(l,c),(r=new fs(l,l.h,r,void 0)).K=2,r.v=Se(me(c)),c=!1,K.navigator&&K.navigator.sendBeacon&&(c=K.navigator.sendBeacon(r.v.toString(),"")),!c&&K.Image&&((new Image).src=r.v,c=!0),c||(r.g=pa(r.l,null),r.g.ea(r.v)),r.F=Date.now(),jo(r)}Gl(l)}function La(l){l.g&&(Oc(l),l.g.cancel(),l.g=null)}function Gh(l){La(l),l.u&&(K.clearTimeout(l.u),l.u=null),Mc(l),l.i.cancel(),l.m&&("number"==typeof l.m&&K.clearTimeout(l.m),l.m=null)}function Ac(l,r){l.l.push(new class{constructor(l,r){this.h=l,this.g=r}}(l.Za++,r)),3==l.G&&rl(l)}function rl(l){fi(l.i)||l.m||(l.m=!0,_n(l.Ha,l),l.C=0)}function Nu(l,r){var c;c=r?r.m:l.V++;const h=me(l.F);Y(h,"SID",l.J),Y(h,"RID",c),Y(h,"AID",l.U),Qs(l,h),l.o&&l.s&&Is(h,l.o,l.s),c=new fs(l,l.h,c,l.C+1),null===l.o&&(c.H=l.s),r&&(l.l=r.D.concat(l.l)),r=ko(l,c,1e3),c.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),Mr(l.i,c),xs(c,h,r)}function Qs(l,r){l.j&&pe({},function(c,h){Y(r,h,c)})}function ko(l,r,c){c=Math.min(l.l.length,c);var h=l.j?Ie(l.j.Oa,l.j,l):null;e:{var m=l.l;let b=-1;for(;;){const D=["count="+c];-1==b?0<c?(b=m[0].h,D.push("ofs="+b)):b=0:D.push("ofs="+b);let k=!0;for(let $=0;$<c;$++){let se=m[$].h;const Re=m[$].g;if(se-=b,0>se)b=Math.max(0,m[$].h-100),k=!1;else try{Ho(Re,D,"req"+se+"_")}catch(We){h&&h(Re)}}if(k){h=D.join("&");break e}}}return l=l.l.splice(0,c),r.D=l,h}function Ic(l){l.g||l.u||(l.Y=1,_n(l.Ga,l),l.A=0)}function Pc(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=Ue(Ie(l.Ga,l),fa(l,l.A)),l.A++,0))}function Oc(l){null!=l.B&&(K.clearTimeout(l.B),l.B=null)}function Vl(l){l.g=new fs(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var r=me(l.oa);Y(r,"RID","rpc"),Y(r,"SID",l.J),Y(r,"CI",l.N?"0":"1"),Y(r,"AID",l.U),Qs(l,r),Y(r,"TYPE","xmlhttp"),l.o&&l.s&&Is(r,l.o,l.s),l.K&&l.g.setTimeout(l.K);var c=l.g;l=l.la,c.K=1,c.v=Se(me(r)),c.s=null,c.U=!0,Qo(c,l)}function Mc(l){null!=l.v&&(K.clearTimeout(l.v),l.v=null)}function il(l,r){var c=null;if(l.g==r){Mc(l),Oc(l),l.g=null;var h=2}else{if(!Tr(l.i,r))return;c=r.D,ki(l.i,r),h=1}if(l.I=r.N,0!=l.G)if(r.i)if(1==h){c=r.s?r.s.length:0,r=Date.now()-r.F;var m=l.C;tt(h=eo(),new Xe(h,c,r,m)),rl(l)}else Ic(l);else if(3==(m=r.o)||0==m&&0<l.I||!(1==h&&function Fa(l,r){return!(Hr(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=r.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=Ue(Ie(l.Ha,l,r),fa(l,l.C)),l.C++,0)))}(l,r)||2==h&&Pc(l)))switch(c&&0<c.length&&(r=l.i,r.i=r.i.concat(c)),m){case 1:tc(l,5);break;case 4:tc(l,10);break;case 3:tc(l,6);break;default:tc(l,2)}}function fa(l,r){let c=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(c*=2),c*r}function tc(l,r){if(l.h.info("Error code "+r),2==r){var c=null;l.j&&(c=null);var h=Ie(l.jb,l);c||(c=new W("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||we(c,"https"),Se(c)),function ar(l,r){const c=new fn;if(K.Image){const h=new Image;h.onload=ut(Gs,c,h,"TestLoadImage: loaded",!0,r),h.onerror=ut(Gs,c,h,"TestLoadImage: error",!1,r),h.onabort=ut(Gs,c,h,"TestLoadImage: abort",!1,r),h.ontimeout=ut(Gs,c,h,"TestLoadImage: timeout",!1,r),K.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=l}else r(!1)}(c.toString(),h)}else Zr(2);l.G=0,l.j&&l.j.va(r),Gl(l),Gh(l)}function Gl(l){l.G=0,l.I=-1,l.j&&((0!=di(l.i).length||0!=l.l.length)&&(l.i.i.length=0,X(l.l),l.l.length=0),l.j.ua())}function wo(l,r,c){let h=function Le(l){return l instanceof W?me(l):new W(l,void 0)}(c);if(""!=h.i)r&&ve(h,r+"."+h.i),Pe(h,h.m);else{const m=K.location;h=function mt(l,r,c,h){var m=new W(null,void 0);return l&&we(m,l),r&&ve(m,r),c&&Pe(m,c),h&&(m.l=h),m}(m.protocol,r?r+"."+m.hostname:m.hostname,+m.port,c)}return l.aa&&Et(l.aa,function(m,b){Y(h,b,m)}),c=l.sa,(r=l.D)&&c&&Y(h,r,c),Y(h,"VER",l.ma),Qs(l,h),h}function pa(l,r,c){if(r&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(r=new Qn(c&&l.Ba&&!l.qa?new ns({ib:!0}):l.qa)).L=l.H,r}function qi(){}function Nc(){if(sr&&!(10<=Number(ct)))throw Error("Environmental error: no available transport.")}function qs(l,r){Ce.call(this),this.g=new zo(r),this.l=l,this.h=r&&r.messageUrlParams||null,l=r&&r.messageHeaders||null,r&&r.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=r&&r.initMessageHeaders||null,r&&r.messageContentType&&(l?l["X-WebChannel-Content-Type"]=r.messageContentType:l={"X-WebChannel-Content-Type":r.messageContentType}),r&&r.ya&&(l?l["X-WebChannel-Client-Profile"]=r.ya:l={"X-WebChannel-Client-Profile":r.ya}),this.g.P=l,(l=r&&r.httpHeadersOverwriteParam)&&!ye(l)&&(this.g.o=l),this.A=r&&r.supportsCrossDomainXhr||!1,this.v=r&&r.sendRawJson||!1,(r=r&&r.httpSessionIdParam)&&!ye(r)&&(this.g.D=r,null!==(l=this.h)&&r in l&&r in(l=this.h)&&delete l[r]),this.j=new nc(this)}function Md(l){mr.call(this);var r=l.__sm__;if(r){e:{for(const c in r){l=c;break e}l=void 0}(this.i=l)&&(l=this.i,r=null!==r&&l in r?r[l]:void 0),this.data=r}else this.data=l}function Hl(){mi.call(this),this.status=1}function nc(l){this.g=l}(Z=Qn.prototype).ea=function(l,r,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);r=r?r.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():No.g(),this.C=function sn(l){return l.h||(l.h=l.i())}(this.u?this.u:No),this.g.onreadystatechange=Ie(this.Fa,this);try{this.F=!0,this.g.open(r,String(l),!0),this.F=!1}catch(b){return void ec(this,b)}l=c||"";const m=new De(this.headers);h&&pe(h,function(b,D){m.set(D,b)}),h=function de(l){e:{var r=da;const c=l.length,h="string"==typeof l?l.split(""):l;for(let m=0;m<c;m++)if(m in h&&r.call(void 0,h[m],m,l)){r=m;break e}r=-1}return 0>r?null:"string"==typeof l?l.charAt(r):l[r]}(m.T()),c=K.FormData&&l instanceof K.FormData,!(0<=ke(Mu,r))||h||c||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),m.forEach(function(b,D){this.g.setRequestHeader(D,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nl(this),0<this.B&&((this.K=function Ys(l){return sr&&function Yr(){return function wr(l){var r=Hi;return Object.prototype.hasOwnProperty.call(r,9)?r[9]:r[9]=l(9)}(function(){let l=0;const r=Fe(String(Vr)).split("."),c=Fe("9").split("."),h=Math.max(r.length,c.length);for(let D=0;0==l&&D<h;D++){var m=r[D]||"",b=c[D]||"";do{if(m=/(\d*)(\D*)(.*)/.exec(m)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==m[0].length&&0==b[0].length)break;l=wt(0==m[1].length?0:parseInt(m[1],10),0==b[1].length?0:parseInt(b[1],10))||wt(0==m[2].length,0==b[2].length)||wt(m[2],b[2]),m=m[3],b=b[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ie(this.pa,this)):this.A=Yt(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(b){ec(this,b)}},Z.pa=function(){void 0!==Q&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,tt(this,"timeout"),this.abort(8))},Z.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,tt(this,"complete"),tt(this,"abort"),xc(this))},Z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),xc(this,!0)),Qn.Z.M.call(this)},Z.Fa=function(){this.s||(this.F||this.v||this.l?jl(this):this.cb())},Z.cb=function(){jl(this)},Z.ba=function(){try{return 2<mo(this)?this.g.status:-1}catch(l){return-1}},Z.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},Z.Qa=function(l){if(this.g){var r=this.g.responseText;return l&&0==r.indexOf(l)&&(r=r.substring(l.length)),Zt(r)}},Z.Da=function(){return this.m},Z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Z=zo.prototype).ma=8,Z.G=1,Z.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(r){}},Z.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const m=new fs(this,this.h,l,void 0);let b=this.s;if(this.P&&(b?(b=kt(b),lr(b,this.P)):b=this.P),null===this.o&&(m.H=b),this.ja)e:{for(var r=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(r+=h)){r=c;break e}if(4096===r||c===this.l.length-1){r=c+1;break e}}r=1e3}else r=1e3;r=ko(this,m,r),Y(c=me(this.F),"RID",l),Y(c,"CVER",22),this.D&&Y(c,"X-HTTP-Session-Id",this.D),Qs(this,c),this.o&&b&&Is(c,this.o,b),Mr(this.i,m),this.Ra&&Y(c,"TYPE","init"),this.ja?(Y(c,"$req",r),Y(c,"SID","null"),m.$=!0,xs(m,c,null)):xs(m,c,r),this.G=2}}else 3==this.G&&(l?Nu(this,l):0==this.l.length||fi(this.i)||Nu(this))},Z.Ga=function(){if(this.u=null,Vl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=Ue(Ie(this.bb,this),l)}},Z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Zr(10),La(this),Vl(this))},Z.ab=function(){null!=this.v&&(this.v=null,La(this),Pc(this),Zr(19))},Z.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Zr(2)):(this.h.info("Failed to ping google.com"),Zr(1))},(Z=qi.prototype).xa=function(){},Z.wa=function(){},Z.va=function(){},Z.ua=function(){},Z.Oa=function(){},Nc.prototype.g=function(l,r){return new qs(l,r)},Ge(qs,Ce),qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,r=this.l,c=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),_n(Ie(l.hb,l,r))),Zr(0),l.W=r,l.aa=c||{},l.N=l.X,l.F=wo(l,null,l.W),rl(l)},qs.prototype.close=function(){Vh(this.g)},qs.prototype.u=function(l){if("string"==typeof l){var r={};r.__data__=l,Ac(this.g,r)}else this.v?((r={}).__data__=Ht(l),Ac(this.g,r)):Ac(this.g,l)},qs.prototype.M=function(){this.g.j=null,delete this.j,Vh(this.g),delete this.g,qs.Z.M.call(this)},Ge(Md,mr),Ge(Hl,mi),Ge(nc,qi),nc.prototype.xa=function(){tt(this.g,"a")},nc.prototype.wa=function(l){tt(this.g,new Md(l))},nc.prototype.va=function(l){tt(this.g,new Hl(l))},nc.prototype.ua=function(){tt(this.g,"b")},Nc.prototype.createWebChannel=Nc.prototype.g,qs.prototype.send=qs.prototype.u,qs.prototype.open=qs.prototype.m,qs.prototype.close=qs.prototype.close,pt.NO_ERROR=0,pt.TIMEOUT=8,pt.HTTP_ERROR=6,Rt.COMPLETE="complete",fr.EventType=Br,Br.OPEN="a",Br.CLOSE="b",Br.ERROR="c",Br.MESSAGE="d",Ce.prototype.listen=Ce.prototype.N,Qn.prototype.listenOnce=Qn.prototype.O,Qn.prototype.getLastError=Qn.prototype.La,Qn.prototype.getLastErrorCode=Qn.prototype.Da,Qn.prototype.getStatus=Qn.prototype.ba,Qn.prototype.getResponseJson=Qn.prototype.Qa,Qn.prototype.getResponseText=Qn.prototype.ga,Qn.prototype.send=Qn.prototype.ea;var np=J.createWebChannelTransport=function(){return new Nc},ol=J.getStatEventTarget=function(){return eo()},Rc=J.ErrorCode=pt,rc=J.EventType=Rt,Di=J.Event=vr,kc=J.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Hh=J.FetchXmlHttpFactory=ns,Zs=J.WebChannel=fr,ga=J.XhrIo=Qn;const Lc="@firebase/firestore";class ro{constructor(r){this.uid=r}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(r){return r.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");let Wo="9.6.9";const ma=new N.Yd("@firebase/firestore");function Ru(){return ma.logLevel}function nn(l,...r){if(ma.logLevel<=N.in.DEBUG){const c=r.map(ql);ma.debug(`Firestore (${Wo}): ${l}`,...c)}}function si(l,...r){if(ma.logLevel<=N.in.ERROR){const c=r.map(ql);ma.error(`Firestore (${Wo}): ${l}`,...c)}}function Fc(l,...r){if(ma.logLevel<=N.in.WARN){const c=r.map(ql);ma.warn(`Firestore (${Wo}): ${l}`,...c)}}function ql(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(c){return l}}function Fn(l="Unexpected state"){const r=`FIRESTORE (${Wo}) INTERNAL ASSERTION FAILED: `+l;throw si(r),new Error(r)}function hr(l,r){l||Fn()}function Dn(l,r){return l}const Ct={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Kt extends O.ZR{constructor(r,c){super(r,c),this.code=r,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Li{constructor(){this.promise=new Promise((r,c)=>{this.resolve=r,this.reject=c})}}class Pi{constructor(r,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${r}`)}}class ic{getToken(){return Promise.resolve(null)}invalidateToken(){}start(r,c){r.enqueueRetryable(()=>c(ro.UNAUTHENTICATED))}shutdown(){}}class Nd{constructor(r){this.t=r,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(r,c){var h=this;let m=this.i;const b=se=>this.i!==m?(m=this.i,c(se)):Promise.resolve();let D=new Li;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Li,r.enqueueRetryable(()=>b(this.currentUser))};const k=()=>{const se=D;r.enqueueRetryable((0,p.Z)(function*(){yield se.promise,yield b(h.currentUser)}))},$=se=>{nn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=se,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(se=>$(se)),setTimeout(()=>{if(!this.auth){const se=this.t.getImmediate({optional:!0});se?$(se):(nn("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Li)}},0),k()}getToken(){const r=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==r?(nn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(hr("string"==typeof h.accessToken),new Pi(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const r=this.auth&&this.auth.getUid();return hr(null===r||"string"==typeof r),new ro(r)}}class Zl{constructor(r,c,h){this.type="FirstParty",this.user=ro.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",c);const m=r.auth.getAuthHeaderValueForFirstParty([]);m&&this.headers.set("Authorization",m),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class zh{constructor(r,c,h){this.h=r,this.l=c,this.m=h}getToken(){return Promise.resolve(new Zl(this.h,this.l,this.m))}start(r,c){r.enqueueRetryable(()=>c(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Lu{constructor(r){this.value=r,this.type="AppCheck",this.headers=new Map,r&&r.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Os{constructor(r){this.g=r,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(r,c){const h=b=>{null!=b.error&&nn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const D=b.token!==this.p;return this.p=b.token,nn("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?c(b.token):Promise.resolve()};this.o=b=>{r.enqueueRetryable(()=>h(b))};const m=b=>{nn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.g.onInit(b=>m(b)),setTimeout(()=>{if(!this.appCheck){const b=this.g.getImmediate({optional:!0});b?m(b):nn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const r=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(r).then(c=>c?(hr("string"==typeof c.token),this.p=c.token,new Lu(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class io{constructor(r,c){this.previousValue=r,c&&(c.sequenceNumberHandler=h=>this.I(h),this.T=h=>c.writeSequenceNumber(h))}I(r){return this.previousValue=Math.max(r,this.previousValue),this.previousValue}next(){const r=++this.previousValue;return this.T&&this.T(r),r}}function Ms(l){const r="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(l);if(r&&"function"==typeof r.getRandomValues)r.getRandomValues(c);else for(let h=0;h<l;h++)c[h]=Math.floor(256*Math.random());return c}io.A=-1;class Ba{static R(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/r.length)*r.length;let h="";for(;h.length<20;){const m=Ms(40);for(let b=0;b<m.length;++b)h.length<20&&m[b]<c&&(h+=r.charAt(m[b]%r.length))}return h}}function Rr(l,r){return l<r?-1:l>r?1:0}function Xs(l,r,c){return l.length===r.length&&l.every((h,m)=>c(h,r[m]))}class To{constructor(r,c){if(this.seconds=r,this.nanoseconds=c,c<0)throw new Kt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new Kt(Ct.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(r<-62135596800)throw new Kt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r);if(r>=253402300800)throw new Kt(Ct.INVALID_ARGUMENT,"Timestamp seconds out of range: "+r)}static now(){return To.fromMillis(Date.now())}static fromDate(r){return To.fromMillis(r.getTime())}static fromMillis(r){const c=Math.floor(r/1e3),h=Math.floor(1e6*(r-1e3*c));return new To(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(r){return this.seconds===r.seconds?Rr(this.nanoseconds,r.nanoseconds):Rr(this.seconds,r.seconds)}isEqual(r){return r.seconds===this.seconds&&r.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ir{constructor(r){this.timestamp=r}static fromTimestamp(r){return new ir(r)}static min(){return new ir(new To(0,0))}compareTo(r){return this.timestamp._compareTo(r.timestamp)}isEqual(r){return this.timestamp.isEqual(r.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rd(l){let r=0;for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&r++;return r}function oc(l,r){for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&r(c,l[c])}function Fu(l){for(const r in l)if(Object.prototype.hasOwnProperty.call(l,r))return!1;return!0}class Ua{constructor(r,c,h){void 0===c?c=0:c>r.length&&Fn(),void 0===h?h=r.length-c:h>r.length-c&&Fn(),this.segments=r,this.offset=c,this.len=h}get length(){return this.len}isEqual(r){return 0===Ua.comparator(this,r)}child(r){const c=this.segments.slice(this.offset,this.limit());return r instanceof Ua?r.forEach(h=>{c.push(h)}):c.push(r),this.construct(c)}limit(){return this.offset+this.length}popFirst(r){return this.construct(this.segments,this.offset+(r=void 0===r?1:r),this.length-r)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(r){return this.segments[this.offset+r]}isEmpty(){return 0===this.length}isPrefixOf(r){if(r.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==r.get(c))return!1;return!0}isImmediateParentOf(r){if(this.length+1!==r.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==r.get(c))return!1;return!0}forEach(r){for(let c=this.offset,h=this.limit();c<h;c++)r(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(r,c){const h=Math.min(r.length,c.length);for(let m=0;m<h;m++){const b=r.get(m),D=c.get(m);if(b<D)return-1;if(b>D)return 1}return r.length<c.length?-1:r.length>c.length?1:0}}class xr extends Ua{construct(r,c,h){return new xr(r,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...r){const c=[];for(const h of r){if(h.indexOf("//")>=0)throw new Kt(Ct.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(m=>m.length>0))}return new xr(c)}static emptyPath(){return new xr([])}}const Oi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class dn extends Ua{construct(r,c,h){return new dn(r,c,h)}static isValidIdentifier(r){return Oi.test(r)}canonicalString(){return this.toArray().map(r=>(r=r.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),dn.isValidIdentifier(r)||(r="`"+r+"`"),r)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new dn(["__name__"])}static fromServerFormat(r){const c=[];let h="",m=0;const b=()=>{if(0===h.length)throw new Kt(Ct.INVALID_ARGUMENT,`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let D=!1;for(;m<r.length;){const k=r[m];if("\\"===k){if(m+1===r.length)throw new Kt(Ct.INVALID_ARGUMENT,"Path has trailing escape character: "+r);const $=r[m+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Kt(Ct.INVALID_ARGUMENT,"Path has invalid escape sequence: "+r);h+=$,m+=2}else"`"===k?(D=!D,m++):"."!==k||D?(h+=k,m++):(b(),m++)}if(b(),D)throw new Kt(Ct.INVALID_ARGUMENT,"Unterminated ` in path: "+r);return new dn(c)}static emptyPath(){return new dn([])}}class Ir{constructor(r){this.fields=r,r.sort(dn.comparator)}covers(r){for(const c of this.fields)if(c.isPrefixOf(r))return!0;return!1}isEqual(r){return Xs(this.fields,r.fields,(c,h)=>c.isEqual(h))}}class _i{constructor(r){this.binaryString=r}static fromBase64String(r){const c=atob(r);return new _i(c)}static fromUint8Array(r){const c=function(h){let m="";for(let b=0;b<h.length;++b)m+=String.fromCharCode(h[b]);return m}(r);return new _i(c)}[Symbol.iterator](){let r=0;return{next:()=>r<this.binaryString.length?{value:this.binaryString.charCodeAt(r++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(r){const c=new Uint8Array(r.length);for(let h=0;h<r.length;h++)c[h]=r.charCodeAt(h);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(r){return Rr(this.binaryString,r.binaryString)}isEqual(r){return this.binaryString===r.binaryString}}_i.EMPTY_BYTE_STRING=new _i("");const al=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eo(l){if(hr(!!l),"string"==typeof l){let r=0;const c=al.exec(l);if(hr(!!c),c[1]){let m=c[1];m=(m+"000000000").substr(0,9),r=Number(m)}const h=new Date(l);return{seconds:Math.floor(h.getTime()/1e3),nanos:r}}return{seconds:vi(l.seconds),nanos:vi(l.nanos)}}function vi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Lo(l){return"string"==typeof l?_i.fromBase64String(l):_i.fromUint8Array(l)}function ps(l){var r,c;return"server_timestamp"===(null===(c=((null===(r=null==l?void 0:l.mapValue)||void 0===r?void 0:r.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function sc(l){const r=l.mapValue.fields.__previous_value__;return ps(r)?sc(r):r}function gs(l){const r=Eo(l.mapValue.fields.__local_write_time__.timestampValue);return new To(r.seconds,r.nanos)}class cl{constructor(r,c,h,m,b,D,k,$){this.databaseId=r,this.appId=c,this.persistenceKey=h,this.host=m,this.ssl=b,this.forceLongPolling=D,this.autoDetectLongPolling=k,this.useFetchStreams=$}}class ea{constructor(r,c){this.projectId=r,this.database=c||"(default)"}static empty(){return new ea("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(r){return r instanceof ea&&r.projectId===this.projectId&&r.database===this.database}}function Si(l){return null==l}function Ns(l){return 0===l&&1/l==-1/0}class wn{constructor(r){this.path=r}static fromPath(r){return new wn(xr.fromString(r))}static fromName(r){return new wn(xr.fromString(r).popFirst(5))}static empty(){return new wn(xr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(r){return this.path.length>=2&&this.path.get(this.path.length-2)===r}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(r){return null!==r&&0===xr.comparator(this.path,r.path)}toString(){return this.path.toString()}static comparator(r,c){return xr.comparator(r.path,c.path)}static isDocumentKey(r){return r.length%2==0}static fromSegments(r){return new wn(new xr(r.slice()))}}function ac(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?ps(l)?4:Wl(l)?9:10:Fn()}function ta(l,r){if(l===r)return!0;const c=ac(l);if(c!==ac(r))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===r.booleanValue;case 4:return gs(l).isEqual(gs(r));case 3:return function(h,m){if("string"==typeof h.timestampValue&&"string"==typeof m.timestampValue&&h.timestampValue.length===m.timestampValue.length)return h.timestampValue===m.timestampValue;const b=Eo(h.timestampValue),D=Eo(m.timestampValue);return b.seconds===D.seconds&&b.nanos===D.nanos}(l,r);case 5:return l.stringValue===r.stringValue;case 6:return m=r,Lo(l.bytesValue).isEqual(Lo(m.bytesValue));case 7:return l.referenceValue===r.referenceValue;case 8:return function(h,m){return vi(h.geoPointValue.latitude)===vi(m.geoPointValue.latitude)&&vi(h.geoPointValue.longitude)===vi(m.geoPointValue.longitude)}(l,r);case 2:return function(h,m){if("integerValue"in h&&"integerValue"in m)return vi(h.integerValue)===vi(m.integerValue);if("doubleValue"in h&&"doubleValue"in m){const b=vi(h.doubleValue),D=vi(m.doubleValue);return b===D?Ns(b)===Ns(D):isNaN(b)&&isNaN(D)}return!1}(l,r);case 9:return Xs(l.arrayValue.values||[],r.arrayValue.values||[],ta);case 10:return function(h,m){const b=h.mapValue.fields||{},D=m.mapValue.fields||{};if(Rd(b)!==Rd(D))return!1;for(const k in b)if(b.hasOwnProperty(k)&&(void 0===D[k]||!ta(b[k],D[k])))return!1;return!0}(l,r);default:return Fn()}var m}function Ci(l,r){return void 0!==(l.values||[]).find(c=>ta(c,r))}function Fi(l,r){if(l===r)return 0;const c=ac(l),h=ac(r);if(c!==h)return Rr(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return Rr(l.booleanValue,r.booleanValue);case 2:return function(m,b){const D=vi(m.integerValue||m.doubleValue),k=vi(b.integerValue||b.doubleValue);return D<k?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1}(l,r);case 3:return Vi(l.timestampValue,r.timestampValue);case 4:return Vi(gs(l),gs(r));case 5:return Rr(l.stringValue,r.stringValue);case 6:return function(m,b){const D=Lo(m),k=Lo(b);return D.compareTo(k)}(l.bytesValue,r.bytesValue);case 7:return function(m,b){const D=m.split("/"),k=b.split("/");for(let $=0;$<D.length&&$<k.length;$++){const se=Rr(D[$],k[$]);if(0!==se)return se}return Rr(D.length,k.length)}(l.referenceValue,r.referenceValue);case 8:return function(m,b){const D=Rr(vi(m.latitude),vi(b.latitude));return 0!==D?D:Rr(vi(m.longitude),vi(b.longitude))}(l.geoPointValue,r.geoPointValue);case 9:return function(m,b){const D=m.values||[],k=b.values||[];for(let $=0;$<D.length&&$<k.length;++$){const se=Fi(D[$],k[$]);if(se)return se}return Rr(D.length,k.length)}(l.arrayValue,r.arrayValue);case 10:return function(m,b){const D=m.fields||{},k=Object.keys(D),$=b.fields||{},se=Object.keys($);k.sort(),se.sort();for(let Re=0;Re<k.length&&Re<se.length;++Re){const We=Rr(k[Re],se[Re]);if(0!==We)return We;const bt=Fi(D[k[Re]],$[se[Re]]);if(0!==bt)return bt}return Rr(k.length,se.length)}(l.mapValue,r.mapValue);default:throw Fn()}}function Vi(l,r){if("string"==typeof l&&"string"==typeof r&&l.length===r.length)return Rr(l,r);const c=Eo(l),h=Eo(r),m=Rr(c.seconds,h.seconds);return 0!==m?m:Rr(c.nanos,h.nanos)}function na(l){return Bc(l)}function Bc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(h){const m=Eo(h);return`time(${m.seconds},${m.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Lo(l.bytesValue).toBase64():"referenceValue"in l?wn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(r=l.geoPointValue).latitude},${r.longitude})`:"arrayValue"in l?function(h){let m="[",b=!0;for(const D of h.values||[])b?b=!1:m+=",",m+=Bc(D);return m+"]"}(l.arrayValue):"mapValue"in l?function(h){const m=Object.keys(h.fields||{}).sort();let b="{",D=!0;for(const k of m)D?D=!1:b+=",",b+=`${k}:${Bc(h.fields[k])}`;return b+"}"}(l.mapValue):Fn();var r}function ra(l){return!!l&&"integerValue"in l}function Gi(l){return!!l&&"arrayValue"in l}function ms(l){return!!l&&"nullValue"in l}function cc(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function _a(l){return!!l&&"mapValue"in l}function is(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const r={mapValue:{fields:{}}};return oc(l.mapValue.fields,(c,h)=>r.mapValue.fields[c]=is(h)),r}if(l.arrayValue){const r={arrayValue:{values:[]}};for(let c=0;c<(l.arrayValue.values||[]).length;++c)r.arrayValue.values[c]=is(l.arrayValue.values[c]);return r}return Object.assign({},l)}function Wl(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class pr{constructor(r){this.value=r}static empty(){return new pr({mapValue:{}})}field(r){if(r.isEmpty())return this.value;{let c=this.value;for(let h=0;h<r.length-1;++h)if(c=(c.mapValue.fields||{})[r.get(h)],!_a(c))return null;return c=(c.mapValue.fields||{})[r.lastSegment()],c||null}}set(r,c){this.getFieldsMap(r.popLast())[r.lastSegment()]=is(c)}setAll(r){let c=dn.emptyPath(),h={},m=[];r.forEach((D,k)=>{if(!c.isImmediateParentOf(k)){const $=this.getFieldsMap(c);this.applyChanges($,h,m),h={},m=[],c=k.popLast()}D?h[k.lastSegment()]=is(D):m.push(k.lastSegment())});const b=this.getFieldsMap(c);this.applyChanges(b,h,m)}delete(r){const c=this.field(r.popLast());_a(c)&&c.mapValue.fields&&delete c.mapValue.fields[r.lastSegment()]}isEqual(r){return ta(this.value,r.value)}getFieldsMap(r){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<r.length;++h){let m=c.mapValue.fields[r.get(h)];_a(m)&&m.mapValue.fields||(m={mapValue:{fields:{}}},c.mapValue.fields[r.get(h)]=m),c=m}return c.mapValue.fields}applyChanges(r,c,h){oc(c,(m,b)=>r[m]=b);for(const m of h)delete r[m]}clone(){return new pr(is(this.value))}}function ll(l){const r=[];return oc(l.fields,(c,h)=>{const m=new dn([c]);if(_a(h)){const b=ll(h.mapValue).fields;if(0===b.length)r.push(m);else for(const D of b)r.push(m.child(D))}else r.push(m)}),new Ir(r)}class Xr{constructor(r,c,h,m,b,D){this.key=r,this.documentType=c,this.version=h,this.readTime=m,this.data=b,this.documentState=D}static newInvalidDocument(r){return new Xr(r,0,ir.min(),ir.min(),pr.empty(),0)}static newFoundDocument(r,c,h){return new Xr(r,1,c,ir.min(),h,0)}static newNoDocument(r,c){return new Xr(r,2,c,ir.min(),pr.empty(),0)}static newUnknownDocument(r,c){return new Xr(r,3,c,ir.min(),pr.empty(),2)}convertToFoundDocument(r,c){return this.version=r,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(r){return this.version=r,this.documentType=2,this.data=pr.empty(),this.documentState=0,this}convertToUnknownDocument(r){return this.version=r,this.documentType=3,this.data=pr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(r){return this.readTime=r,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(r){return r instanceof Xr&&this.key.isEqual(r.key)&&this.version.isEqual(r.version)&&this.documentType===r.documentType&&this.documentState===r.documentState&&this.data.isEqual(r.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $l{constructor(r,c=null,h=[],m=[],b=null,D=null,k=null){this.path=r,this.collectionGroup=c,this.orderBy=h,this.filters=m,this.limit=b,this.startAt=D,this.endAt=k,this.P=null}}function Wh(l,r=null,c=[],h=[],m=null,b=null,D=null){return new $l(l,r,c,h,m,b,D)}function ya(l){const r=Dn(l);if(null===r.P){let c=r.path.canonicalString();null!==r.collectionGroup&&(c+="|cg:"+r.collectionGroup),c+="|f:",c+=r.filters.map(h=>{return(m=h).field.canonicalString()+m.op.toString()+na(m.value);var m}).join(","),c+="|ob:",c+=r.orderBy.map(h=>{return(m=h).field.canonicalString()+m.dir;var m}).join(","),Si(r.limit)||(c+="|l:",c+=r.limit),r.startAt&&(c+="|lb:",c+=r.startAt.inclusive?"b:":"a:",c+=r.startAt.position.map(h=>na(h)).join(",")),r.endAt&&(c+="|ub:",c+=r.endAt.inclusive?"a:":"b:",c+=r.endAt.position.map(h=>na(h)).join(",")),r.P=c}return r.P}function ba(l,r){if(l.limit!==r.limit||l.orderBy.length!==r.orderBy.length)return!1;for(let m=0;m<l.orderBy.length;m++)if(!zt(l.orderBy[m],r.orderBy[m]))return!1;if(l.filters.length!==r.filters.length)return!1;for(let m=0;m<l.filters.length;m++)if((c=l.filters[m]).op!==(h=r.filters[m]).op||!c.field.isEqual(h.field)||!ta(c.value,h.value))return!1;var c,h;return l.collectionGroup===r.collectionGroup&&!!l.path.isEqual(r.path)&&!!yr(l.startAt,r.startAt)&&yr(l.endAt,r.endAt)}function os(l){return wn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class vo extends class{}{constructor(r,c,h){super(),this.field=r,this.op=c,this.value=h}static create(r,c,h){return r.isKeyField()?"in"===c||"not-in"===c?this.V(r,c,h):new jc(r,c,h):"array-contains"===c?new B(r,h):"in"===c?new G(r,h):"not-in"===c?new re(r,h):"array-contains-any"===c?new Ne(r,h):new vo(r,c,h)}static V(r,c,h){return"in"===c?new Kl(r,h):new Er(r,h)}matches(r){const c=r.data.field(this.field);return"!="===this.op?null!==c&&this.v(Fi(c,this.value)):null!==c&&ac(this.value)===ac(c)&&this.v(Fi(c,this.value))}v(r){switch(this.op){case"<":return r<0;case"<=":return r<=0;case"==":return 0===r;case"!=":return 0!==r;case">":return r>0;case">=":return r>=0;default:return Fn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class jc extends vo{constructor(r,c,h){super(r,c,h),this.key=wn.fromName(h.referenceValue)}matches(r){const c=wn.comparator(r.key,this.key);return this.v(c)}}class Kl extends vo{constructor(r,c){super(r,"in",c),this.keys=Jl(0,c)}matches(r){return this.keys.some(c=>c.isEqual(r.key))}}class Er extends vo{constructor(r,c){super(r,"not-in",c),this.keys=Jl(0,c)}matches(r){return!this.keys.some(c=>c.isEqual(r.key))}}function Jl(l,r){var c;return((null===(c=r.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>wn.fromName(h.referenceValue))}class B extends vo{constructor(r,c){super(r,"array-contains",c)}matches(r){const c=r.data.field(this.field);return Gi(c)&&Ci(c.arrayValue,this.value)}}class G extends vo{constructor(r,c){super(r,"in",c)}matches(r){const c=r.data.field(this.field);return null!==c&&Ci(this.value.arrayValue,c)}}class re extends vo{constructor(r,c){super(r,"not-in",c)}matches(r){if(Ci(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=r.data.field(this.field);return null!==c&&!Ci(this.value.arrayValue,c)}}class Ne extends vo{constructor(r,c){super(r,"array-contains-any",c)}matches(r){const c=r.data.field(this.field);return!(!Gi(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>Ci(this.value.arrayValue,h))}}class at{constructor(r,c){this.position=r,this.inclusive=c}}class _t{constructor(r,c="asc"){this.field=r,this.dir=c}}function zt(l,r){return l.dir===r.dir&&l.field.isEqual(r.field)}function pn(l,r,c){let h=0;for(let m=0;m<l.position.length;m++){const b=r[m],D=l.position[m];if(h=b.field.isKeyField()?wn.comparator(wn.fromName(D.referenceValue),c.key):Fi(D,c.data.field(b.field)),"desc"===b.dir&&(h*=-1),0!==h)break}return h}function yr(l,r){if(null===l)return null===r;if(null===r||l.inclusive!==r.inclusive||l.position.length!==r.position.length)return!1;for(let c=0;c<l.position.length;c++)if(!ta(l.position[c],r.position[c]))return!1;return!0}class rr{constructor(r,c=null,h=[],m=[],b=null,D="F",k=null,$=null){this.path=r,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=m,this.limit=b,this.limitType=D,this.startAt=k,this.endAt=$,this.D=null,this.C=null}}function Un(l){return new rr(l)}function xi(l){return!Si(l.limit)&&"F"===l.limitType}function so(l){return!Si(l.limit)&&"L"===l.limitType}function as(l){const r=Dn(l);if(null===r.D){r.D=[];const c=function ia(l){for(const r of l.filters)if(r.S())return r.field;return null}(r),h=function Va(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(r);if(null!==c&&null===h)c.isKeyField()||r.D.push(new _t(c)),r.D.push(new _t(dn.keyField(),"asc"));else{let m=!1;for(const b of r.explicitOrderBy)r.D.push(b),b.field.isKeyField()&&(m=!0);if(!m){const b=r.explicitOrderBy.length>0?r.explicitOrderBy[r.explicitOrderBy.length-1].dir:"asc";r.D.push(new _t(dn.keyField(),b))}}}return r.D}function Bi(l){const r=Dn(l);if(!r.C)if("F"===r.limitType)r.C=Wh(r.path,r.collectionGroup,as(r),r.filters,r.limit,r.startAt,r.endAt);else{const c=[];for(const b of as(r))c.push(new _t(b.field,"desc"===b.dir?"asc":"desc"));const h=r.endAt?new at(r.endAt.position,!r.endAt.inclusive):null,m=r.startAt?new at(r.startAt.position,!r.startAt.inclusive):null;r.C=Wh(r.path,r.collectionGroup,c,r.filters,r.limit,h,m)}return r.C}function dl(l,r){return ba(Bi(l),Bi(r))&&l.limitType===r.limitType}function Yl(l){return`${ya(Bi(l))}|lt:${l.limitType}`}function Ga(l){return`Query(target=${function lc(l){let r=l.path.canonicalString();return null!==l.collectionGroup&&(r+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(r+=`, filters: [${l.filters.map(c=>{return`${(h=c).field.canonicalString()} ${h.op} ${na(h.value)}`;var h}).join(", ")}]`),Si(l.limit)||(r+=", limit: "+l.limit),l.orderBy.length>0&&(r+=`, orderBy: [${l.orderBy.map(c=>{return`${(h=c).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),l.startAt&&(r+=", startAt: ",r+=l.startAt.inclusive?"b:":"a:",r+=l.startAt.position.map(c=>na(c)).join(",")),l.endAt&&(r+=", endAt: ",r+=l.endAt.inclusive?"a:":"b:",r+=l.endAt.position.map(c=>na(c)).join(",")),`Target(${r})`}(Bi(l))}; limitType=${l.limitType})`}function Ha(l,r){return r.isFoundDocument()&&function(c,h){const m=h.key.path;return null!==c.collectionGroup?h.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(m):wn.isDocumentKey(c.path)?c.path.isEqual(m):c.path.isImmediateParentOf(m)}(l,r)&&function(c,h){for(const m of c.explicitOrderBy)if(!m.field.isKeyField()&&null===h.data.field(m.field))return!1;return!0}(l,r)&&function(c,h){for(const m of c.filters)if(!m.matches(h))return!1;return!0}(l,r)&&(h=r,!((c=l).startAt&&!function(m,b,D){const k=pn(m,b,D);return m.inclusive?k<=0:k<0}(c.startAt,as(c),h)||c.endAt&&!function(m,b,D){const k=pn(m,b,D);return m.inclusive?k>=0:k>0}(c.endAt,as(c),h)));var c,h}function Wr(l){return(r,c)=>{let h=!1;for(const m of as(l)){const b=hl(m,r,c);if(0!==b)return b;h=h||m.field.isKeyField()}return 0}}function hl(l,r,c){const h=l.field.isKeyField()?wn.comparator(r.key,c.key):function(m,b,D){const k=b.data.field(m),$=D.data.field(m);return null!==k&&null!==$?Fi(k,$):Fn()}(l.field,r,c);switch(l.dir){case"asc":return h;case"desc":return-1*h;default:return Fn()}}function fl(l,r){if(l.N){if(isNaN(r))return{doubleValue:"NaN"};if(r===1/0)return{doubleValue:"Infinity"};if(r===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ns(r)?"-0":r}}function oa(l){return{integerValue:""+l}}function rp(l,r){return function Bu(l){return"number"==typeof l&&Number.isInteger(l)&&!Ns(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(r)?oa(r):fl(l,r)}class Ql{constructor(){this._=void 0}}function $h(l,r,c){return l instanceof qa?function(h,m){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return m&&(b.fields.__previous_value__=m),{mapValue:b}}(c,r):l instanceof Ca?Gu(l,r):l instanceof Za?Xl(l,r):function(h,m){const b=Vu(h,m),D=Kh(b)+Kh(h.k);return ra(b)&&ra(h.k)?oa(D):fl(h.M,D)}(l,r)}function hg(l,r,c){return l instanceof Ca?Gu(l,r):l instanceof Za?Xl(l,r):c}function Vu(l,r){return l instanceof ks?ra(c=r)||(h=c)&&"doubleValue"in h?r:{integerValue:0}:null;var h,c}class qa extends Ql{}class Ca extends Ql{constructor(r){super(),this.elements=r}}function Gu(l,r){const c=Jh(r);for(const h of l.elements)c.some(m=>ta(m,h))||c.push(h);return{arrayValue:{values:c}}}class Za extends Ql{constructor(r){super(),this.elements=r}}function Xl(l,r){let c=Jh(r);for(const h of l.elements)c=c.filter(m=>!ta(m,h));return{arrayValue:{values:c}}}class ks extends Ql{constructor(r,c){super(),this.M=r,this.k=c}}function Kh(l){return vi(l.integerValue||l.doubleValue)}function Jh(l){return Gi(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Hu{constructor(r,c){this.version=r,this.transformResults=c}}class Zi{constructor(r,c){this.updateTime=r,this.exists=c}static none(){return new Zi}static exists(r){return new Zi(void 0,r)}static updateTime(r){return new Zi(r)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(r){return this.exists===r.exists&&(this.updateTime?!!r.updateTime&&this.updateTime.isEqual(r.updateTime):!r.updateTime)}}function qu(l,r){return void 0!==l.updateTime?r.isFoundDocument()&&r.version.isEqual(l.updateTime):void 0===l.exists||l.exists===r.isFoundDocument()}class Zu{}function pl(l,r,c){l instanceof gl?function(h,m,b){const D=h.value.clone(),k=Ud(h.fieldTransforms,m,b.transformResults);D.setAll(k),m.convertToFoundDocument(b.version,D).setHasCommittedMutations()}(l,r,c):l instanceof Ki?function(h,m,b){if(!qu(h.precondition,m))return void m.convertToUnknownDocument(b.version);const D=Ud(h.fieldTransforms,m,b.transformResults),k=m.data;k.setAll(zs(h)),k.setAll(D),m.convertToFoundDocument(b.version,k).setHasCommittedMutations()}(l,r,c):r.convertToNoDocument(c.version).setHasCommittedMutations()}function Yh(l,r,c){var m;l instanceof gl?function(h,m,b){if(!qu(h.precondition,m))return;const D=h.value.clone(),k=zu(h.fieldTransforms,b,m);D.setAll(k),m.convertToFoundDocument(Bd(m),D).setHasLocalMutations()}(l,r,c):l instanceof Ki?function(h,m,b){if(!qu(h.precondition,m))return;const D=zu(h.fieldTransforms,b,m),k=m.data;k.setAll(zs(h)),k.setAll(D),m.convertToFoundDocument(Bd(m),k).setHasLocalMutations()}(l,r,c):qu(l.precondition,m=r)&&m.convertToNoDocument(ir.min())}function ip(l,r){let c=null;for(const h of l.fieldTransforms){const m=r.data.field(h.field),b=Vu(h.transform,m||null);null!=b&&(null==c&&(c=pr.empty()),c.set(h.field,b))}return c||null}function Qh(l,r){return l.type===r.type&&!!l.key.isEqual(r.key)&&!!l.precondition.isEqual(r.precondition)&&(h=r.fieldTransforms,!!(void 0===(c=l.fieldTransforms)&&void 0===h||c&&h&&Xs(c,h,(m,b)=>function Fd(l,r){return l.field.isEqual(r.field)&&(h=r.transform,(c=l.transform)instanceof Ca&&h instanceof Ca||c instanceof Za&&h instanceof Za?Xs(c.elements,h.elements,ta):c instanceof ks&&h instanceof ks?ta(c.k,h.k):c instanceof qa&&h instanceof qa);var c,h}(m,b))))&&(0===l.type?l.value.isEqual(r.value):1!==l.type||l.data.isEqual(r.data)&&l.fieldMask.isEqual(r.fieldMask));var c,h}function Bd(l){return l.isFoundDocument()?l.version:ir.min()}class gl extends Zu{constructor(r,c,h,m=[]){super(),this.key=r,this.value=c,this.precondition=h,this.fieldTransforms=m,this.type=0}}class Ki extends Zu{constructor(r,c,h,m,b=[]){super(),this.key=r,this.data=c,this.fieldMask=h,this.precondition=m,this.fieldTransforms=b,this.type=1}}function zs(l){const r=new Map;return l.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=l.data.field(c);r.set(c,h)}}),r}function Ud(l,r,c){const h=new Map;hr(l.length===c.length);for(let m=0;m<c.length;m++){const b=l[m],D=b.transform,k=r.data.field(b.field);h.set(b.field,hg(D,k,c[m]))}return h}function zu(l,r,c){const h=new Map;for(const m of l){const b=m.transform,D=c.data.field(m.field);h.set(m.field,$h(b,D,r))}return h}class jd extends Zu{constructor(r,c){super(),this.key=r,this.precondition=c,this.type=2,this.fieldTransforms=[]}}class wa extends Zu{constructor(r,c){super(),this.key=r,this.precondition=c,this.type=3,this.fieldTransforms=[]}}class fg{constructor(r){this.count=r}}var ao,$r;function Vd(l){switch(l){default:return Fn();case Ct.CANCELLED:case Ct.UNKNOWN:case Ct.DEADLINE_EXCEEDED:case Ct.RESOURCE_EXHAUSTED:case Ct.INTERNAL:case Ct.UNAVAILABLE:case Ct.UNAUTHENTICATED:return!1;case Ct.INVALID_ARGUMENT:case Ct.NOT_FOUND:case Ct.ALREADY_EXISTS:case Ct.PERMISSION_DENIED:case Ct.FAILED_PRECONDITION:case Ct.ABORTED:case Ct.OUT_OF_RANGE:case Ct.UNIMPLEMENTED:case Ct.DATA_LOSS:return!0}}function Wu(l){if(void 0===l)return si("GRPC error has no .code"),Ct.UNKNOWN;switch(l){case ao.OK:return Ct.OK;case ao.CANCELLED:return Ct.CANCELLED;case ao.UNKNOWN:return Ct.UNKNOWN;case ao.DEADLINE_EXCEEDED:return Ct.DEADLINE_EXCEEDED;case ao.RESOURCE_EXHAUSTED:return Ct.RESOURCE_EXHAUSTED;case ao.INTERNAL:return Ct.INTERNAL;case ao.UNAVAILABLE:return Ct.UNAVAILABLE;case ao.UNAUTHENTICATED:return Ct.UNAUTHENTICATED;case ao.INVALID_ARGUMENT:return Ct.INVALID_ARGUMENT;case ao.NOT_FOUND:return Ct.NOT_FOUND;case ao.ALREADY_EXISTS:return Ct.ALREADY_EXISTS;case ao.PERMISSION_DENIED:return Ct.PERMISSION_DENIED;case ao.FAILED_PRECONDITION:return Ct.FAILED_PRECONDITION;case ao.ABORTED:return Ct.ABORTED;case ao.OUT_OF_RANGE:return Ct.OUT_OF_RANGE;case ao.UNIMPLEMENTED:return Ct.UNIMPLEMENTED;case ao.DATA_LOSS:return Ct.DATA_LOSS;default:return Fn()}}($r=ao||(ao={}))[$r.OK=0]="OK",$r[$r.CANCELLED=1]="CANCELLED",$r[$r.UNKNOWN=2]="UNKNOWN",$r[$r.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$r[$r.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$r[$r.NOT_FOUND=5]="NOT_FOUND",$r[$r.ALREADY_EXISTS=6]="ALREADY_EXISTS",$r[$r.PERMISSION_DENIED=7]="PERMISSION_DENIED",$r[$r.UNAUTHENTICATED=16]="UNAUTHENTICATED",$r[$r.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$r[$r.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$r[$r.ABORTED=10]="ABORTED",$r[$r.OUT_OF_RANGE=11]="OUT_OF_RANGE",$r[$r.UNIMPLEMENTED=12]="UNIMPLEMENTED",$r[$r.INTERNAL=13]="INTERNAL",$r[$r.UNAVAILABLE=14]="UNAVAILABLE",$r[$r.DATA_LOSS=15]="DATA_LOSS";class uc{constructor(r,c){this.mapKeyFn=r,this.equalsFn=c,this.inner={},this.innerSize=0}get(r){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0!==h)for(const[m,b]of h)if(this.equalsFn(m,r))return b}has(r){return void 0!==this.get(r)}set(r,c){const h=this.mapKeyFn(r),m=this.inner[h];if(void 0===m)return this.inner[h]=[[r,c]],void this.innerSize++;for(let b=0;b<m.length;b++)if(this.equalsFn(m[b][0],r))return void(m[b]=[r,c]);m.push([r,c]),this.innerSize++}delete(r){const c=this.mapKeyFn(r),h=this.inner[c];if(void 0===h)return!1;for(let m=0;m<h.length;m++)if(this.equalsFn(h[m][0],r))return 1===h.length?delete this.inner[c]:h.splice(m,1),this.innerSize--,!0;return!1}forEach(r){oc(this.inner,(c,h)=>{for(const[m,b]of h)r(m,b)})}isEmpty(){return Fu(this.inner)}size(){return this.innerSize}}class Ji{constructor(r,c){this.comparator=r,this.root=c||cs.EMPTY}insert(r,c){return new Ji(this.comparator,this.root.insert(r,c,this.comparator).copy(null,null,cs.BLACK,null,null))}remove(r){return new Ji(this.comparator,this.root.remove(r,this.comparator).copy(null,null,cs.BLACK,null,null))}get(r){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(r,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(r){let c=0,h=this.root;for(;!h.isEmpty();){const m=this.comparator(r,h.key);if(0===m)return c+h.left.size;m<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(r){return this.root.inorderTraversal(r)}forEach(r){this.inorderTraversal((c,h)=>(r(c,h),!1))}toString(){const r=[];return this.inorderTraversal((c,h)=>(r.push(`${c}:${h}`),!1)),`{${r.join(", ")}}`}reverseTraversal(r){return this.root.reverseTraversal(r)}getIterator(){return new $u(this.root,null,this.comparator,!1)}getIteratorFrom(r){return new $u(this.root,r,this.comparator,!1)}getReverseIterator(){return new $u(this.root,null,this.comparator,!0)}getReverseIteratorFrom(r){return new $u(this.root,r,this.comparator,!0)}}class $u{constructor(r,c,h,m){this.isReverse=m,this.nodeStack=[];let b=1;for(;!r.isEmpty();)if(b=c?h(r.key,c):1,c&&m&&(b*=-1),b<0)r=this.isReverse?r.left:r.right;else{if(0===b){this.nodeStack.push(r);break}this.nodeStack.push(r),r=this.isReverse?r.right:r.left}}getNext(){let r=this.nodeStack.pop();const c={key:r.key,value:r.value};if(this.isReverse)for(r=r.left;!r.isEmpty();)this.nodeStack.push(r),r=r.right;else for(r=r.right;!r.isEmpty();)this.nodeStack.push(r),r=r.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const r=this.nodeStack[this.nodeStack.length-1];return{key:r.key,value:r.value}}}class cs{constructor(r,c,h,m,b){this.key=r,this.value=c,this.color=null!=h?h:cs.RED,this.left=null!=m?m:cs.EMPTY,this.right=null!=b?b:cs.EMPTY,this.size=this.left.size+1+this.right.size}copy(r,c,h,m,b){return new cs(null!=r?r:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=m?m:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(r){return this.left.inorderTraversal(r)||r(this.key,this.value)||this.right.inorderTraversal(r)}reverseTraversal(r){return this.right.reverseTraversal(r)||r(this.key,this.value)||this.left.reverseTraversal(r)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(r,c,h){let m=this;const b=h(r,m.key);return m=b<0?m.copy(null,null,null,m.left.insert(r,c,h),null):0===b?m.copy(null,c,null,null,null):m.copy(null,null,null,null,m.right.insert(r,c,h)),m.fixUp()}removeMin(){if(this.left.isEmpty())return cs.EMPTY;let r=this;return r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.removeMin(),null),r.fixUp()}remove(r,c){let h,m=this;if(c(r,m.key)<0)m.left.isEmpty()||m.left.isRed()||m.left.left.isRed()||(m=m.moveRedLeft()),m=m.copy(null,null,null,m.left.remove(r,c),null);else{if(m.left.isRed()&&(m=m.rotateRight()),m.right.isEmpty()||m.right.isRed()||m.right.left.isRed()||(m=m.moveRedRight()),0===c(r,m.key)){if(m.right.isEmpty())return cs.EMPTY;h=m.right.min(),m=m.copy(h.key,h.value,null,null,m.right.removeMin())}m=m.copy(null,null,null,null,m.right.remove(r,c))}return m.fixUp()}isRed(){return this.color}fixUp(){let r=this;return r.right.isRed()&&!r.left.isRed()&&(r=r.rotateLeft()),r.left.isRed()&&r.left.left.isRed()&&(r=r.rotateRight()),r.left.isRed()&&r.right.isRed()&&(r=r.colorFlip()),r}moveRedLeft(){let r=this.colorFlip();return r.right.left.isRed()&&(r=r.copy(null,null,null,null,r.right.rotateRight()),r=r.rotateLeft(),r=r.colorFlip()),r}moveRedRight(){let r=this.colorFlip();return r.left.left.isRed()&&(r=r.rotateRight(),r=r.colorFlip()),r}rotateLeft(){const r=this.copy(null,null,cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,r,null)}rotateRight(){const r=this.copy(null,null,cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,r)}colorFlip(){const r=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,r,c)}checkMaxDepth(){const r=this.check();return Math.pow(2,r)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Fn();const r=this.left.check();if(r!==this.right.check())throw Fn();return r+(this.isRed()?0:1)}}cs.EMPTY=null,cs.RED=!0,cs.BLACK=!1,cs.EMPTY=new class{constructor(){this.size=0}get key(){throw Fn()}get value(){throw Fn()}get color(){throw Fn()}get left(){throw Fn()}get right(){throw Fn()}copy(l,r,c,h,m){return this}insert(l,r,c){return new cs(l,r)}remove(l,r){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ai{constructor(r){this.comparator=r,this.data=new Ji(this.comparator)}has(r){return null!==this.data.get(r)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(r){return this.data.indexOf(r)}forEach(r){this.data.inorderTraversal((c,h)=>(r(c),!1))}forEachInRange(r,c){const h=this.data.getIteratorFrom(r[0]);for(;h.hasNext();){const m=h.getNext();if(this.comparator(m.key,r[1])>=0)return;c(m.key)}}forEachWhile(r,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!r(h.getNext().key))return}firstAfterOrEqual(r){const c=this.data.getIteratorFrom(r);return c.hasNext()?c.getNext().key:null}getIterator(){return new Ku(this.data.getIterator())}getIteratorFrom(r){return new Ku(this.data.getIteratorFrom(r))}add(r){return this.copy(this.data.remove(r).insert(r,!0))}delete(r){return this.has(r)?this.copy(this.data.remove(r)):this}isEmpty(){return this.data.isEmpty()}unionWith(r){let c=this;return c.size<r.size&&(c=r,r=this),r.forEach(h=>{c=c.add(h)}),c}isEqual(r){if(!(r instanceof ai)||this.size!==r.size)return!1;const c=this.data.getIterator(),h=r.data.getIterator();for(;c.hasNext();){const m=c.getNext().key,b=h.getNext().key;if(0!==this.comparator(m,b))return!1}return!0}toArray(){const r=[];return this.forEach(c=>{r.push(c)}),r}toString(){const r=[];return this.forEach(c=>r.push(c)),"SortedSet("+r.toString()+")"}copy(r){const c=new ai(this.comparator);return c.data=r,c}}class Ku{constructor(r){this.iter=r}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Gd=new Ji(wn.comparator);function Bo(){return Gd}const eu=new Ji(wn.comparator);function tu(){return eu}function Hd(){return new uc(l=>l.toString(),(l,r)=>l.isEqual(r))}const s_=new Ji(wn.comparator),a_=new ai(wn.comparator);function ci(...l){let r=a_;for(const c of l)r=r.add(c);return r}const op=new ai(Rr);function Ju(){return op}class Xh{constructor(r,c,h,m,b){this.snapshotVersion=r,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=m,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(r,c){const h=new Map;return h.set(r,qd.createSynthesizedTargetChangeForCurrentChange(r,c)),new Xh(ir.min(),h,Ju(),Bo(),ci())}}class qd{constructor(r,c,h,m,b){this.resumeToken=r,this.current=c,this.addedDocuments=h,this.modifiedDocuments=m,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(r,c){return new qd(_i.EMPTY_BYTE_STRING,c,ci(),ci(),ci())}}class ml{constructor(r,c,h,m){this.O=r,this.removedTargetIds=c,this.key=h,this.$=m}}class pg{constructor(r,c){this.targetId=r,this.F=c}}class ef{constructor(r,c,h=_i.EMPTY_BYTE_STRING,m=null){this.state=r,this.targetIds=c,this.resumeToken=h,this.cause=m}}class gg{constructor(){this.B=0,this.L=Zd(),this.q=_i.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(r){r.approximateByteSize()>0&&(this.K=!0,this.q=r)}H(){let r=ci(),c=ci(),h=ci();return this.L.forEach((m,b)=>{switch(b){case 0:r=r.add(m);break;case 2:c=c.add(m);break;case 1:h=h.add(m);break;default:Fn()}}),new qd(this.q,this.U,r,c,h)}J(){this.K=!1,this.L=Zd()}Y(r,c){this.K=!0,this.L=this.L.insert(r,c)}X(r){this.K=!0,this.L=this.L.remove(r)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class mg{constructor(r){this.nt=r,this.st=new Map,this.it=Bo(),this.rt=tf(),this.ot=new ai(Rr)}at(r){for(const c of r.O)r.$&&r.$.isFoundDocument()?this.ut(c,r.$):this.ct(c,r.key,r.$);for(const c of r.removedTargetIds)this.ct(c,r.key,r.$)}ht(r){this.forEachTarget(r,c=>{const h=this.lt(c);switch(r.state){case 0:this.ft(c)&&h.W(r.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(r.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(c);break;case 3:this.ft(c)&&(h.et(),h.W(r.resumeToken));break;case 4:this.ft(c)&&(this.dt(c),h.W(r.resumeToken));break;default:Fn()}})}forEachTarget(r,c){r.targetIds.length>0?r.targetIds.forEach(c):this.st.forEach((h,m)=>{this.ft(m)&&c(m)})}_t(r){const c=r.targetId,h=r.F.count,m=this.wt(c);if(m){const b=m.target;if(os(b))if(0===h){const D=new wn(b.path);this.ct(c,D,Xr.newNoDocument(D,ir.min()))}else hr(1===h);else this.gt(c)!==h&&(this.dt(c),this.ot=this.ot.add(c))}}yt(r){const c=new Map;this.st.forEach((b,D)=>{const k=this.wt(D);if(k){if(b.current&&os(k.target)){const $=new wn(k.target.path);null!==this.it.get($)||this.It(D,$)||this.ct(D,$,Xr.newNoDocument($,r))}b.j&&(c.set(D,b.H()),b.J())}});let h=ci();this.rt.forEach((b,D)=>{let k=!0;D.forEachWhile($=>{const se=this.wt($);return!se||2===se.purpose||(k=!1,!1)}),k&&(h=h.add(b))}),this.it.forEach((b,D)=>D.setReadTime(r));const m=new Xh(r,c,this.ot,this.it,h);return this.it=Bo(),this.rt=tf(),this.ot=new ai(Rr),m}ut(r,c){if(!this.ft(r))return;const h=this.It(r,c.key)?2:0;this.lt(r).Y(c.key,h),this.it=this.it.insert(c.key,c),this.rt=this.rt.insert(c.key,this.Tt(c.key).add(r))}ct(r,c,h){if(!this.ft(r))return;const m=this.lt(r);this.It(r,c)?m.Y(c,1):m.X(c),this.rt=this.rt.insert(c,this.Tt(c).delete(r)),h&&(this.it=this.it.insert(c,h))}removeTarget(r){this.st.delete(r)}gt(r){const c=this.lt(r).H();return this.nt.getRemoteKeysForTarget(r).size+c.addedDocuments.size-c.removedDocuments.size}Z(r){this.lt(r).Z()}lt(r){let c=this.st.get(r);return c||(c=new gg,this.st.set(r,c)),c}Tt(r){let c=this.rt.get(r);return c||(c=new ai(Rr),this.rt=this.rt.insert(r,c)),c}ft(r){const c=null!==this.wt(r);return c||nn("WatchChangeAggregator","Detected inactive target",r),c}wt(r){const c=this.st.get(r);return c&&c.G?null:this.nt.Et(r)}dt(r){this.st.set(r,new gg),this.nt.getRemoteKeysForTarget(r).forEach(c=>{this.ct(r,c,null)})}It(r,c){return this.nt.getRemoteKeysForTarget(r).has(c)}}function tf(){return new Ji(wn.comparator)}function Zd(){return new Ji(wn.comparator)}const _g={asc:"ASCENDING",desc:"DESCENDING"},sp={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ap{constructor(r,c){this.databaseId=r,this.N=c}}function gi(l,r){return l.N?`${new Date(1e3*r.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+r.nanoseconds).slice(-9)}Z`:{seconds:""+r.seconds,nanos:r.nanoseconds}}function cp(l,r){return l.N?r.toBase64():r.toUint8Array()}function nu(l,r){return gi(l,r.toTimestamp())}function So(l){return hr(!!l),ir.fromTimestamp(function(r){const c=Eo(r);return new To(c.seconds,c.nanos)}(l))}function nf(l,r){return(c=l,new xr(["projects",c.projectId,"databases",c.database])).child("documents").child(r).canonicalString();var c}function vg(l){const r=xr.fromString(l);return hr(dp(r)),r}function zd(l,r){return nf(l.databaseId,r.path)}function Ws(l,r){const c=vg(r);if(c.get(1)!==l.databaseId.projectId)throw new Kt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+l.databaseId.projectId);if(c.get(3)!==l.databaseId.database)throw new Kt(Ct.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+l.databaseId.database);return new wn(lp(c))}function ru(l,r){return nf(l.databaseId,r)}function _l(l){return new xr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function lp(l){return hr(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Yu(l,r,c){return{name:zd(l,r),fields:c.value.mapValue.fields}}function Wd(l,r){return{documents:[ru(l,r.path)]}}function up(l,r){const c={structuredQuery:{}},h=r.path;null!==r.collectionGroup?(c.parent=ru(l,h),c.structuredQuery.from=[{collectionId:r.collectionGroup,allDescendants:!0}]):(c.parent=ru(l,h.popLast()),c.structuredQuery.from=[{collectionId:h.lastSegment()}]);const m=function($){if(0===$.length)return;const se=$.map(Re=>function(We){if("=="===We.op){if(cc(We.value))return{unaryFilter:{field:iu(We.field),op:"IS_NAN"}};if(ms(We.value))return{unaryFilter:{field:iu(We.field),op:"IS_NULL"}}}else if("!="===We.op){if(cc(We.value))return{unaryFilter:{field:iu(We.field),op:"IS_NOT_NAN"}};if(ms(We.value))return{unaryFilter:{field:iu(We.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:iu(We.field),op:c_(We.op),value:We.value}}}(Re));return 1===se.length?se[0]:{compositeFilter:{op:"AND",filters:se}}}(r.filters);m&&(c.structuredQuery.where=m);const b=function($){if(0!==$.length)return $.map(se=>{return{field:iu((Re=se).field),direction:wg(Re.dir)};var Re})}(r.orderBy);b&&(c.structuredQuery.orderBy=b);const D=(se=r.limit,l.N||Si(se)?se:{value:se});var se,k,$;return null!==D&&(c.structuredQuery.limit=D),r.startAt&&(c.structuredQuery.startAt={before:(k=r.startAt).inclusive,values:k.position}),r.endAt&&(c.structuredQuery.endAt={before:!($=r.endAt).inclusive,values:$.position}),c}function $d(l){let r=function yg(l){const r=vg(l);return 4===r.length?xr.emptyPath():lp(r)}(l.parent);const c=l.structuredQuery,h=c.from?c.from.length:0;let m=null;if(h>0){hr(1===h);const Re=c.from[0];Re.allDescendants?m=Re.collectionId:r=r.child(Re.collectionId)}let b=[];c.where&&(b=Cg(c.where));let D=[];c.orderBy&&(D=c.orderBy.map(Re=>{return new _t(Vc((We=Re).field),function(bt){switch(bt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(We.direction));var We}));let k=null;c.limit&&(k=function(Re){let We;return We="object"==typeof Re?Re.value:Re,Si(We)?null:We}(c.limit));let $=null;var Re;c.startAt&&($=new at((Re=c.startAt).values||[],!!Re.before));let se=null;return c.endAt&&(se=function(Re){return new at(Re.values||[],!Re.before)}(c.endAt)),function ti(l,r,c,h,m,b,D,k){return new rr(l,r,c,h,m,b,D,k)}(r,m,D,b,k,"F",$,se)}function Cg(l){return l?void 0!==l.unaryFilter?[sf(l)]:void 0!==l.fieldFilter?[Tg(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(r=>Cg(r)).reduce((r,c)=>r.concat(c)):Fn():[]}function wg(l){return _g[l]}function c_(l){return sp[l]}function iu(l){return{fieldPath:l.canonicalString()}}function Vc(l){return dn.fromServerFormat(l.fieldPath)}function Tg(l){return vo.create(Vc(l.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Fn()}}(l.fieldFilter.op),l.fieldFilter.value)}function sf(l){switch(l.unaryFilter.op){case"IS_NAN":const r=Vc(l.unaryFilter.field);return vo.create(r,"==",{doubleValue:NaN});case"IS_NULL":const c=Vc(l.unaryFilter.field);return vo.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Vc(l.unaryFilter.field);return vo.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Vc(l.unaryFilter.field);return vo.create(m,"!=",{nullValue:"NULL_VALUE"});default:return Fn()}}function af(l){const r=[];return l.fields.forEach(c=>r.push(c.canonicalString())),{fieldPaths:r}}function dp(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const Og="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xt{constructor(r){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,r(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(r){return this.next(void 0,r)}next(r,c){return this.callbackAttached&&Fn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(r,this.result):new xt((h,m)=>{this.nextCallback=b=>{this.wrapSuccess(r,b).next(h,m)},this.catchCallback=b=>{this.wrapFailure(c,b).next(h,m)}})}toPromise(){return new Promise((r,c)=>{this.next(r,c)})}wrapUserFunction(r){try{const c=r();return c instanceof xt?c:xt.resolve(c)}catch(c){return xt.reject(c)}}wrapSuccess(r,c){return r?this.wrapUserFunction(()=>r(c)):xt.resolve(c)}wrapFailure(r,c){return r?this.wrapUserFunction(()=>r(c)):xt.reject(c)}static resolve(r){return new xt((c,h)=>{c(r)})}static reject(r){return new xt((c,h)=>{h(r)})}static waitFor(r){return new xt((c,h)=>{let m=0,b=0,D=!1;r.forEach(k=>{++m,k.next(()=>{++b,D&&b===m&&c()},$=>h($))}),D=!0,b===m&&c()})}static or(r){let c=xt.resolve(!1);for(const h of r)c=c.next(m=>m?xt.resolve(m):h());return c}static forEach(r,c){const h=[];return r.forEach((m,b)=>{h.push(c.call(this,m,b))}),this.waitFor(h)}}function dc(l){return"IndexedDbTransactionError"===l.name}class su{constructor(r,c,h,m){this.batchId=r,this.localWriteTime=c,this.baseMutations=h,this.mutations=m}applyToRemoteDocument(r,c){const h=c.mutationResults;for(let m=0;m<this.mutations.length;m++){const b=this.mutations[m];b.key.isEqual(r.key)&&pl(b,r,h[m])}}applyToLocalView(r){for(const c of this.baseMutations)c.key.isEqual(r.key)&&Yh(c,r,this.localWriteTime);for(const c of this.mutations)c.key.isEqual(r.key)&&Yh(c,r,this.localWriteTime)}applyToLocalDocumentSet(r){this.mutations.forEach(c=>{const h=r.get(c.key),m=h;this.applyToLocalView(m),h.isValidDocument()||m.convertToNoDocument(ir.min())})}keys(){return this.mutations.reduce((r,c)=>r.add(c.key),ci())}isEqual(r){return this.batchId===r.batchId&&Xs(this.mutations,r.mutations,(c,h)=>Qh(c,h))&&Xs(this.baseMutations,r.baseMutations,(c,h)=>Qh(c,h))}}class rd{constructor(r,c,h,m){this.batch=r,this.commitVersion=c,this.mutationResults=h,this.docVersions=m}static from(r,c,h){hr(r.mutations.length===h.length);let m=s_;const b=r.mutations;for(let D=0;D<b.length;D++)m=m.insert(b[D].key,h[D].version);return new rd(r,c,h,m)}}class Qd{constructor(r,c){this.largestBatchId=r,this.mutation=c}getKey(){return this.mutation.key}isEqual(r){return null!==r&&this.mutation===r.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hc{constructor(r,c,h,m,b=ir.min(),D=ir.min(),k=_i.EMPTY_BYTE_STRING){this.target=r,this.targetId=c,this.purpose=h,this.sequenceNumber=m,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=k}withSequenceNumber(r){return new hc(this.target,this.targetId,this.purpose,r,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(r,c){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,r)}withLastLimboFreeSnapshotVersion(r){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,r,this.resumeToken)}}class Mg{constructor(r){this.Jt=r}}function pf(l){const r=$d({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function ju(l,r,c){return new rr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),r,c,l.startAt,l.endAt)}(r,r.limit,"L"):r}class qr{constructor(){}Zt(r,c){this.te(r,c),c.ee()}te(r,c){if("nullValue"in r)this.ne(c,5);else if("booleanValue"in r)this.ne(c,10),c.se(r.booleanValue?1:0);else if("integerValue"in r)this.ne(c,15),c.se(vi(r.integerValue));else if("doubleValue"in r){const h=vi(r.doubleValue);isNaN(h)?this.ne(c,13):(this.ne(c,15),Ns(h)?c.se(0):c.se(h))}else if("timestampValue"in r){const h=r.timestampValue;this.ne(c,20),"string"==typeof h?c.ie(h):(c.ie(`${h.seconds||""}`),c.se(h.nanos||0))}else if("stringValue"in r)this.re(r.stringValue,c),this.oe(c);else if("bytesValue"in r)this.ne(c,30),c.ae(Lo(r.bytesValue)),this.oe(c);else if("referenceValue"in r)this.ue(r.referenceValue,c);else if("geoPointValue"in r){const h=r.geoPointValue;this.ne(c,45),c.se(h.latitude||0),c.se(h.longitude||0)}else"mapValue"in r?Wl(r)?this.ne(c,Number.MAX_SAFE_INTEGER):(this.ce(r.mapValue,c),this.oe(c)):"arrayValue"in r?(this.he(r.arrayValue,c),this.oe(c)):Fn()}re(r,c){this.ne(c,25),this.le(r,c)}le(r,c){c.ie(r)}ce(r,c){const h=r.fields||{};this.ne(c,55);for(const m of Object.keys(h))this.re(m,c),this.te(h[m],c)}he(r,c){const h=r.values||[];this.ne(c,50);for(const m of h)this.te(m,c)}ue(r,c){this.ne(c,37),wn.fromName(r).path.forEach(h=>{this.ne(c,60),this.le(h,c)})}ne(r,c){r.se(c)}oe(r){r.se(2)}}qr.fe=new qr;class _p{constructor(){this.Ue=new cu}addToCollectionParentIndex(r,c){return this.Ue.add(c),xt.resolve()}getCollectionParents(r,c){return xt.resolve(this.Ue.getEntries(c))}addFieldIndex(r,c){return xt.resolve()}deleteFieldIndex(r,c){return xt.resolve()}getDocumentsMatchingTarget(r,c){return xt.resolve(null)}getFieldIndex(r,c){return xt.resolve(null)}getFieldIndexes(r,c){return xt.resolve([])}getNextCollectionGroupToUpdate(r){return xt.resolve(null)}updateCollectionGroup(r,c,h){return xt.resolve()}updateIndexEntries(r,c){return xt.resolve()}}class cu{constructor(){this.index={}}add(r){const c=r.lastSegment(),h=r.popLast(),m=this.index[c]||new ai(xr.comparator),b=!m.has(h);return this.index[c]=m.add(h),b}has(r){const c=r.lastSegment(),h=r.popLast(),m=this.index[c];return m&&m.has(h)}getEntries(r){return(this.index[r]||new ai(xr.comparator)).toArray()}}new Uint8Array(0);class Ls{constructor(r,c,h){this.cacheSizeCollectionThreshold=r,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(r){return new Ls(r,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class uu{constructor(r){this.wn=r}next(){return this.wn+=2,this.wn}static mn(){return new uu(0)}static gn(){return new uu(-1)}}function Io(l){return du.apply(this,arguments)}function du(){return du=(0,p.Z)(function*(l){if(l.code!==Ct.FAILED_PRECONDITION||l.message!==Og)throw l;nn("LocalStore","Unexpectedly lost primary lease")}),du.apply(this,arguments)}class Ks{constructor(r,c,h){this.ls=r,this.Fs=c,this.indexManager=h}Bs(r,c){return this.Fs.getAllMutationBatchesAffectingDocumentKey(r,c).next(h=>this.Ls(r,c,h))}Ls(r,c,h){return this.ls.getEntry(r,c).next(m=>{for(const b of h)b.applyToLocalView(m);return m})}qs(r,c){r.forEach((h,m)=>{for(const b of c)b.applyToLocalView(m)})}Us(r,c){return this.ls.getEntries(r,c).next(h=>this.Ks(r,h).next(()=>h))}Ks(r,c){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(r,c).next(h=>this.qs(c,h))}Gs(r,c,h){return wn.isDocumentKey((m=c).path)&&null===m.collectionGroup&&0===m.filters.length?this.Qs(r,c.path):function ss(l){return null!==l.collectionGroup}(c)?this.js(r,c,h):this.Ws(r,c,h);var m}Qs(r,c){return this.Bs(r,new wn(c)).next(h=>{let m=tu();return h.isFoundDocument()&&(m=m.insert(h.key,h)),m})}js(r,c,h){const m=c.collectionGroup;let b=tu();return this.indexManager.getCollectionParents(r,m).next(D=>xt.forEach(D,k=>{const $=(se=c,Re=k.child(m),new rr(Re,null,se.explicitOrderBy.slice(),se.filters.slice(),se.limit,se.limitType,se.startAt,se.endAt));var se,Re;return this.Ws(r,$,h).next(se=>{se.forEach((Re,We)=>{b=b.insert(Re,We)})})}).next(()=>b))}Ws(r,c,h){let m;return this.ls.getAll(r,c.path,h).next(b=>(m=b,this.Fs.getAllMutationBatchesAffectingQuery(r,c))).next(b=>{for(const D of b)for(const k of D.mutations){const $=k.key;let se=m.get($);null==se&&(se=Xr.newInvalidDocument($),m=m.insert($,se)),Yh(k,se,D.localWriteTime),se.isFoundDocument()||(m=m.remove($))}}).next(()=>(m.forEach((b,D)=>{Ha(c,D)||(m=m.remove(b))}),m))}}class fu{constructor(r,c,h,m){this.targetId=r,this.fromCache=c,this.zs=h,this.Hs=m}static Js(r,c){let h=ci(),m=ci();for(const b of c.docChanges)switch(b.type){case 0:h=h.add(b.doc.key);break;case 1:m=m.add(b.doc.key)}return new fu(r,c.fromCache,h,m)}}class Sl{Ys(r){this.Xs=r}Gs(r,c,h,m){return 0===(b=c).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||h.isEqual(ir.min())?this.Zs(r,c):this.Xs.Us(r,m).next(b=>{const D=this.ti(c,b);return(xi(c)||so(c))&&this.ei(c.limitType,D,m,h)?this.Zs(r,c):(Ru()<=N.in.DEBUG&&nn("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ga(c)),this.Xs.Gs(r,c,h).next(k=>(D.forEach($=>{k=k.insert($.key,$)}),k)))});var b}ti(r,c){let h=new ai(Wr(r));return c.forEach((m,b)=>{Ha(r,b)&&(h=h.add(b))}),h}ei(r,c,h,m){if(h.size!==c.size)return!0;const b="F"===r?c.last():c.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(m)>0)}Zs(r,c){return Ru()<=N.in.DEBUG&&nn("QueryEngine","Using full collection scan to execute query:",Ga(c)),this.Xs.Gs(r,c,ir.min())}}class Tf{constructor(r,c,h,m){this.persistence=r,this.ni=c,this.M=m,this.si=new Ji(Rr),this.ii=new uc(b=>ya(b),ba),this.ri=ir.min(),this.oi=r.getRemoteDocumentCache(),this.hs=r.getTargetCache(),this.fs=r.getBundleCache(),this.ai(h)}ai(r){this.indexManager=this.persistence.getIndexManager(r),this.Fs=this.persistence.getMutationQueue(r,this.indexManager),this.ui=new Ks(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(r){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>r.collect(c,this.si))}}function qc(l,r){return oh.apply(this,arguments)}function oh(){return oh=(0,p.Z)(function*(l,r){const c=Dn(l);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let m;return c.Fs.getAllMutationBatches(h).next(b=>(m=b,c.ai(r),c.Fs.getAllMutationBatches(h))).next(b=>{const D=[],k=[];let $=ci();for(const se of m){D.push(se.batchId);for(const Re of se.mutations)$=$.add(Re.key)}for(const se of b){k.push(se.batchId);for(const Re of se.mutations)$=$.add(Re.key)}return c.ui.Us(h,$).next(se=>({ci:se,removedBatchIds:D,addedBatchIds:k}))})})}),oh.apply(this,arguments)}function m_(l,r){const c=Dn(l);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const m=r.batch.keys(),b=c.oi.newChangeBuffer({trackRemovals:!0});return function(D,k,$,se){const Re=$.batch,We=Re.keys();let bt=xt.resolve();return We.forEach(Bt=>{bt=bt.next(()=>se.getEntry(k,Bt)).next(Jt=>{const Kn=$.docVersions.get(Bt);hr(null!==Kn),Jt.version.compareTo(Kn)<0&&(Re.applyToRemoteDocument(Jt,$),Jt.isValidDocument()&&(Jt.setReadTime($.commitVersion),se.addEntry(Jt)))})}),bt.next(()=>D.Fs.removeMutationBatch(k,Re))}(c,h,r,b).next(()=>b.apply(h)).next(()=>c.Fs.performConsistencyCheck(h)).next(()=>c.ui.Us(h,m))})}function ad(l){const r=Dn(l);return r.persistence.runTransaction("Get last remote snapshot version","readonly",c=>r.hs.getLastRemoteSnapshotVersion(c))}function Fg(l,r){const c=Dn(l),h=r.snapshotVersion;let m=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const D=c.oi.newChangeBuffer({trackRemovals:!0});m=c.si;const k=[];r.targetChanges.forEach((se,Re)=>{const We=m.get(Re);if(!We)return;k.push(c.hs.removeMatchingKeys(b,se.removedDocuments,Re).next(()=>c.hs.addMatchingKeys(b,se.addedDocuments,Re)));let bt=We.withSequenceNumber(b.currentSequenceNumber);var Bt,Jt,Kn;r.targetMismatches.has(Re)?bt=bt.withResumeToken(_i.EMPTY_BYTE_STRING,ir.min()).withLastLimboFreeSnapshotVersion(ir.min()):se.resumeToken.approximateByteSize()>0&&(bt=bt.withResumeToken(se.resumeToken,h)),m=m.insert(Re,bt),Jt=bt,Kn=se,(0===(Bt=We).resumeToken.approximateByteSize()||Jt.snapshotVersion.toMicroseconds()-Bt.snapshotVersion.toMicroseconds()>=3e8||Kn.addedDocuments.size+Kn.modifiedDocuments.size+Kn.removedDocuments.size>0)&&k.push(c.hs.updateTargetData(b,bt))});let $=Bo();if(r.documentUpdates.forEach(se=>{r.resolvedLimboDocuments.has(se)&&k.push(c.persistence.referenceDelegate.updateLimboDocument(b,se))}),k.push(function cy(l,r,c){let h=ci();return c.forEach(m=>h=h.add(m)),r.getEntries(l,h).next(m=>{let b=Bo();return c.forEach((D,k)=>{const $=m.get(D);k.isNoDocument()&&k.version.isEqual(ir.min())?(r.removeEntry(D,k.readTime),b=b.insert(D,k)):!$.isValidDocument()||k.version.compareTo($.version)>0||0===k.version.compareTo($.version)&&$.hasPendingWrites?(r.addEntry(k),b=b.insert(D,k)):nn("LocalStore","Ignoring outdated watch update for ",D,". Current version:",$.version," Watch version:",k.version)}),b})}(b,D,r.documentUpdates).next(se=>{$=se})),!h.isEqual(ir.min())){const se=c.hs.getLastRemoteSnapshotVersion(b).next(Re=>c.hs.setTargetsMetadata(b,b.currentSequenceNumber,h));k.push(se)}return xt.waitFor(k).next(()=>D.apply(b)).next(()=>c.ui.Ks(b,$)).next(()=>$)}).then(b=>(c.si=m,b))}function ly(l,r){const c=Dn(l);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===r&&(r=-1),c.Fs.getNextMutationBatchAfterBatchId(h,r)))}function Cp(l,r){const c=Dn(l);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let m;return c.hs.getTargetData(h,r).next(b=>b?(m=b,xt.resolve(m)):c.hs.allocateTargetId(h).next(D=>(m=new hc(r,D,0,h.currentSequenceNumber),c.hs.addTargetData(h,m).next(()=>m))))}).then(h=>{const m=c.si.get(h.targetId);return(null===m||h.snapshotVersion.compareTo(m.snapshotVersion)>0)&&(c.si=c.si.insert(h.targetId,h),c.ii.set(r,h.targetId)),h})}function sh(l,r,c){return Df.apply(this,arguments)}function Df(){return Df=(0,p.Z)(function*(l,r,c){const h=Dn(l),m=h.si.get(r),b=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",b,D=>h.persistence.referenceDelegate.removeTarget(D,m)))}catch(D){if(!dc(D))throw D;nn("LocalStore",`Failed to update sequence numbers for target ${r}: ${D}`)}h.si=h.si.remove(r),h.ii.delete(m.target)}),Df.apply(this,arguments)}function pu(l,r,c){const h=Dn(l);let m=ir.min(),b=ci();return h.persistence.runTransaction("Execute query","readonly",D=>function(k,$,se){const Re=Dn(k),We=Re.ii.get(se);return void 0!==We?xt.resolve(Re.si.get(We)):Re.hs.getTargetData($,se)}(h,D,Bi(r)).next(k=>{if(k)return m=k.lastLimboFreeSnapshotVersion,h.hs.getMatchingKeysForTargetId(D,k.targetId).next($=>{b=$})}).next(()=>h.ni.Gs(D,r,c?m:ir.min(),c?b:ci())).next(k=>({documents:k,hi:b})))}class fy{constructor(r){this.M=r,this._i=new Map,this.wi=new Map}getBundleMetadata(r,c){return xt.resolve(this._i.get(c))}saveBundleMetadata(r,c){var h;return this._i.set(c.id,{id:(h=c).id,version:h.version,createTime:So(h.createTime)}),xt.resolve()}getNamedQuery(r,c){return xt.resolve(this.wi.get(c))}saveNamedQuery(r,c){return this.wi.set(c.name,{name:(h=c).name,query:pf(h.bundledQuery),readTime:So(h.readTime)}),xt.resolve();var h}}class b_{constructor(){this.overlays=new Ji(wn.comparator),this.mi=new Map}getOverlay(r,c){return xt.resolve(this.overlays.get(c))}saveOverlays(r,c,h){return h.forEach((m,b)=>{this.Xt(r,c,b)}),xt.resolve()}removeOverlaysForBatchId(r,c,h){const m=this.mi.get(h);return void 0!==m&&(m.forEach(b=>this.overlays=this.overlays.remove(b)),this.mi.delete(h)),xt.resolve()}getOverlaysForCollection(r,c,h){const m=Hd(),b=c.length+1,D=new wn(c.child("")),k=this.overlays.getIteratorFrom(D);for(;k.hasNext();){const $=k.getNext().value,se=$.getKey();if(!c.isPrefixOf(se.path))break;se.path.length===b&&$.largestBatchId>h&&m.set($.getKey(),$)}return xt.resolve(m)}getOverlaysForCollectionGroup(r,c,h,m){let b=new Ji((se,Re)=>se-Re);const D=this.overlays.getIterator();for(;D.hasNext();){const se=D.getNext().value;if(se.getKey().getCollectionGroup()===c&&se.largestBatchId>h){let Re=b.get(se.largestBatchId);null===Re&&(Re=Hd(),b=b.insert(se.largestBatchId,Re)),Re.set(se.getKey(),se)}}const k=Hd(),$=b.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((se,Re)=>k.set(se,Re)),!(k.size()>=m)););return xt.resolve(k)}Xt(r,c,h){if(null===h)return;const m=this.overlays.get(h.key);if(null!==m){const D=this.mi.get(m.largestBatchId).delete(h.key);this.mi.set(m.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new Qd(c,h));let b=this.mi.get(c);void 0===b&&(b=ci(),this.mi.set(c,b)),this.mi.set(c,b.add(h.key))}}class wp{constructor(){this.gi=new ai(wi.yi),this.pi=new ai(wi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(r,c){const h=new wi(r,c);this.gi=this.gi.add(h),this.pi=this.pi.add(h)}Ti(r,c){r.forEach(h=>this.addReference(h,c))}removeReference(r,c){this.Ei(new wi(r,c))}Ai(r,c){r.forEach(h=>this.removeReference(h,c))}Ri(r){const c=new wn(new xr([])),h=new wi(c,r),m=new wi(c,r+1),b=[];return this.pi.forEachInRange([h,m],D=>{this.Ei(D),b.push(D.key)}),b}bi(){this.gi.forEach(r=>this.Ei(r))}Ei(r){this.gi=this.gi.delete(r),this.pi=this.pi.delete(r)}Pi(r){const c=new wn(new xr([])),h=new wi(c,r),m=new wi(c,r+1);let b=ci();return this.pi.forEachInRange([h,m],D=>{b=b.add(D.key)}),b}containsKey(r){const c=new wi(r,0),h=this.gi.firstAfterOrEqual(c);return null!==h&&r.isEqual(h.key)}}class wi{constructor(r,c){this.key=r,this.Vi=c}static yi(r,c){return wn.comparator(r.key,c.key)||Rr(r.Vi,c.Vi)}static Ii(r,c){return Rr(r.Vi,c.Vi)||wn.comparator(r.key,c.key)}}class gc{constructor(r,c){this.indexManager=r,this.referenceDelegate=c,this.Fs=[],this.vi=1,this.Si=new ai(wi.yi)}checkEmpty(r){return xt.resolve(0===this.Fs.length)}addMutationBatch(r,c,h,m){const b=this.vi;this.vi++;const D=new su(b,c,h,m);this.Fs.push(D);for(const k of m)this.Si=this.Si.add(new wi(k.key,b)),this.indexManager.addToCollectionParentIndex(r,k.key.path.popLast());return xt.resolve(D)}lookupMutationBatch(r,c){return xt.resolve(this.Di(c))}getNextMutationBatchAfterBatchId(r,c){const m=this.Ci(c+1),b=m<0?0:m;return xt.resolve(this.Fs.length>b?this.Fs[b]:null)}getHighestUnacknowledgedBatchId(){return xt.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(r){return xt.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(r,c){const h=new wi(c,0),m=new wi(c,Number.POSITIVE_INFINITY),b=[];return this.Si.forEachInRange([h,m],D=>{const k=this.Di(D.Vi);b.push(k)}),xt.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(r,c){let h=new ai(Rr);return c.forEach(m=>{const b=new wi(m,0),D=new wi(m,Number.POSITIVE_INFINITY);this.Si.forEachInRange([b,D],k=>{h=h.add(k.Vi)})}),xt.resolve(this.xi(h))}getAllMutationBatchesAffectingQuery(r,c){const h=c.path,m=h.length+1;let b=h;wn.isDocumentKey(b)||(b=b.child(""));const D=new wi(new wn(b),0);let k=new ai(Rr);return this.Si.forEachWhile($=>{const se=$.key.path;return!!h.isPrefixOf(se)&&(se.length===m&&(k=k.add($.Vi)),!0)},D),xt.resolve(this.xi(k))}xi(r){const c=[];return r.forEach(h=>{const m=this.Di(h);null!==m&&c.push(m)}),c}removeMutationBatch(r,c){hr(0===this.Ni(c.batchId,"removed")),this.Fs.shift();let h=this.Si;return xt.forEach(c.mutations,m=>{const b=new wi(m.key,c.batchId);return h=h.delete(b),this.referenceDelegate.markPotentiallyOrphaned(r,m.key)}).next(()=>{this.Si=h})}dn(r){}containsKey(r,c){const h=new wi(c,0),m=this.Si.firstAfterOrEqual(h);return xt.resolve(c.isEqual(m&&m.key))}performConsistencyCheck(r){return xt.resolve()}Ni(r,c){return this.Ci(r)}Ci(r){return 0===this.Fs.length?0:r-this.Fs[0].batchId}Di(r){const c=this.Ci(r);return c<0||c>=this.Fs.length?null:this.Fs[c]}}class k0{constructor(r){this.ki=r,this.docs=new Ji(wn.comparator),this.size=0}setIndexManager(r){this.indexManager=r}addEntry(r,c){const h=c.key,m=this.docs.get(h),b=m?m.size:0,D=this.ki(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:D}),this.size+=D-b,this.indexManager.addToCollectionParentIndex(r,h.path.popLast())}removeEntry(r){const c=this.docs.get(r);c&&(this.docs=this.docs.remove(r),this.size-=c.size)}getEntry(r,c){const h=this.docs.get(c);return xt.resolve(h?h.document.mutableCopy():Xr.newInvalidDocument(c))}getEntries(r,c){let h=Bo();return c.forEach(m=>{const b=this.docs.get(m);h=h.insert(m,b?b.document.mutableCopy():Xr.newInvalidDocument(m))}),xt.resolve(h)}getAll(r,c,h){let m=Bo();const b=new wn(c.child("")),D=this.docs.getIteratorFrom(b);for(;D.hasNext();){const{key:k,value:{document:$}}=D.getNext();if(!c.isPrefixOf(k.path))break;k.path.length>c.length+1||$.readTime.compareTo(h)<=0||(m=m.insert($.key,$.mutableCopy()))}return xt.resolve(m)}Mi(r,c){return xt.forEach(this.docs,h=>c(h))}newChangeBuffer(r){return new C_(this)}getSize(r){return xt.resolve(this.size)}}class C_ extends class R{constructor(){this.changes=new uc(r=>r.toString(),(r,c)=>r.isEqual(c)),this.changesApplied=!1}addEntry(r){this.assertNotApplied(),this.changes.set(r.key,r)}removeEntry(r,c){this.assertNotApplied(),this.changes.set(r,Xr.newInvalidDocument(r).setReadTime(c))}getEntry(r,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?xt.resolve(h):this.getFromCache(r,c)}getEntries(r,c){return this.getAllFromCache(r,c)}apply(r){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(r)}assertNotApplied(){}}{constructor(r){super(),this.Un=r}applyChanges(r){const c=[];return this.changes.forEach((h,m)=>{m.isValidDocument()?c.push(this.Un.addEntry(r,m)):this.Un.removeEntry(h)}),xt.waitFor(c)}getFromCache(r,c){return this.Un.getEntry(r,c)}getAllFromCache(r,c){return this.Un.getEntries(r,c)}}class Ug{constructor(r){this.persistence=r,this.Oi=new uc(c=>ya(c),ba),this.lastRemoteSnapshotVersion=ir.min(),this.highestTargetId=0,this.$i=0,this.Fi=new wp,this.targetCount=0,this.Bi=uu.mn()}forEachTarget(r,c){return this.Oi.forEach((h,m)=>c(m)),xt.resolve()}getLastRemoteSnapshotVersion(r){return xt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(r){return xt.resolve(this.$i)}allocateTargetId(r){return this.highestTargetId=this.Bi.next(),xt.resolve(this.highestTargetId)}setTargetsMetadata(r,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.$i&&(this.$i=c),xt.resolve()}In(r){this.Oi.set(r.target,r);const c=r.targetId;c>this.highestTargetId&&(this.Bi=new uu(c),this.highestTargetId=c),r.sequenceNumber>this.$i&&(this.$i=r.sequenceNumber)}addTargetData(r,c){return this.In(c),this.targetCount+=1,xt.resolve()}updateTargetData(r,c){return this.In(c),xt.resolve()}removeTargetData(r,c){return this.Oi.delete(c.target),this.Fi.Ri(c.targetId),this.targetCount-=1,xt.resolve()}removeTargets(r,c,h){let m=0;const b=[];return this.Oi.forEach((D,k)=>{k.sequenceNumber<=c&&null===h.get(k.targetId)&&(this.Oi.delete(D),b.push(this.removeMatchingKeysForTargetId(r,k.targetId)),m++)}),xt.waitFor(b).next(()=>m)}getTargetCount(r){return xt.resolve(this.targetCount)}getTargetData(r,c){const h=this.Oi.get(c)||null;return xt.resolve(h)}addMatchingKeys(r,c,h){return this.Fi.Ti(c,h),xt.resolve()}removeMatchingKeys(r,c,h){this.Fi.Ai(c,h);const m=this.persistence.referenceDelegate,b=[];return m&&c.forEach(D=>{b.push(m.markPotentiallyOrphaned(r,D))}),xt.waitFor(b)}removeMatchingKeysForTargetId(r,c){return this.Fi.Ri(c),xt.resolve()}getMatchingKeysForTargetId(r,c){const h=this.Fi.Pi(c);return xt.resolve(h)}containsKey(r,c){return xt.resolve(this.Fi.containsKey(c))}}class gu{constructor(r,c){this.Li={},this.overlays={},this.Zn=new io(0),this.ts=!1,this.ts=!0,this.referenceDelegate=r(this),this.hs=new Ug(this),this.indexManager=new _p,this.ls=new k0(h=>this.referenceDelegate.qi(h)),this.M=new Mg(c),this.fs=new fy(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(r){return this.indexManager}getDocumentOverlayCache(r){let c=this.overlays[r.toKey()];return c||(c=new b_,this.overlays[r.toKey()]=c),c}getMutationQueue(r,c){let h=this.Li[r.toKey()];return h||(h=new gc(c,this.referenceDelegate),this.Li[r.toKey()]=h),h}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(r,c,h){nn("MemoryPersistence","Starting transaction:",r);const m=new jg(this.Zn.next());return this.referenceDelegate.Ui(),h(m).next(b=>this.referenceDelegate.Ki(m).next(()=>b)).toPromise().then(b=>(m.raiseOnCommittedEvent(),b))}Gi(r,c){return xt.or(Object.values(this.Li).map(h=>()=>h.containsKey(r,c)))}}class jg extends class Ta{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(r){this.onCommittedListeners.push(r)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(r=>r())}}{constructor(r){super(),this.currentSequenceNumber=r}}class Vg{constructor(r){this.persistence=r,this.Qi=new wp,this.ji=null}static Wi(r){return new Vg(r)}get zi(){if(this.ji)return this.ji;throw Fn()}addReference(r,c,h){return this.Qi.addReference(h,c),this.zi.delete(h.toString()),xt.resolve()}removeReference(r,c,h){return this.Qi.removeReference(h,c),this.zi.add(h.toString()),xt.resolve()}markPotentiallyOrphaned(r,c){return this.zi.add(c.toString()),xt.resolve()}removeTarget(r,c){this.Qi.Ri(c.targetId).forEach(m=>this.zi.add(m.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(r,c.targetId).next(m=>{m.forEach(b=>this.zi.add(b.toString()))}).next(()=>h.removeTargetData(r,c))}Ui(){this.ji=new Set}Ki(r){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xt.forEach(this.zi,h=>{const m=wn.fromPath(h);return this.Hi(r,m).next(b=>{b||c.removeEntry(m,ir.min())})}).next(()=>(this.ji=null,c.apply(r)))}updateLimboDocument(r,c){return this.Hi(r,c).next(h=>{h?this.zi.delete(c.toString()):this.zi.add(c.toString())})}qi(r){return 0}Hi(r,c){return xt.or([()=>xt.resolve(this.Qi.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(r,c),()=>this.persistence.Gi(r,c)])}}class Zc{constructor(){this.activeTargetIds=Ju()}Xi(r){this.activeTargetIds=this.activeTargetIds.add(r)}Zi(r){this.activeTargetIds=this.activeTargetIds.delete(r)}Yi(){const r={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(r)}}class mu{constructor(){this.Or=new Zc,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(r){}updateMutationState(r,c,h){}addLocalQueryTarget(r){return this.Or.Xi(r),this.$r[r]||"not-current"}updateQueryState(r,c,h){this.$r[r]=c}removeLocalQueryTarget(r){this.Or.Zi(r)}isLocalQueryTarget(r){return this.Or.activeTargetIds.has(r)}clearQueryState(r){delete this.$r[r]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(r){return this.Or.activeTargetIds.has(r)}start(){return this.Or=new Zc,Promise.resolve()}handleUserChange(r,c,h){}setOnlineState(r){}shutdown(){}writeSequenceNumber(r){}notifyBundleLoaded(){}}class dh{Fr(r){}shutdown(){}}class _u{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(r){this.Kr.push(r)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){nn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const r of this.Kr)r(0)}Ur(){nn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const r of this.Kr)r(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const vu={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class ud{constructor(r){this.Qr=r.Qr,this.jr=r.jr}Wr(r){this.zr=r}Hr(r){this.Jr=r}onMessage(r){this.Yr=r}close(){this.jr()}send(r){this.Qr(r)}Xr(){this.zr()}Zr(r){this.Jr(r)}eo(r){this.Yr(r)}}class w_ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId,this.no=(r.ssl?"https":"http")+"://"+r.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(r,c,h,m,b){const D=this.ro(r,c);nn("RestConnection","Sending: ",D,h);const k={};return this.oo(k,m,b),this.ao(r,D,k,h).then($=>(nn("RestConnection","Received: ",$),$),$=>{throw Fc("RestConnection",`${r} failed with error: `,$,"url: ",D,"request:",h),$})}uo(r,c,h,m,b){return this.io(r,c,h,m,b)}oo(r,c,h){r["X-Goog-Api-Client"]="gl-js/ fire/"+Wo,r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((m,b)=>r[b]=m),h&&h.headers.forEach((m,b)=>r[b]=m)}ro(r,c){return`${this.no}/v1/${c}:${vu[r]}`}}{constructor(r){super(r),this.forceLongPolling=r.forceLongPolling,this.autoDetectLongPolling=r.autoDetectLongPolling,this.useFetchStreams=r.useFetchStreams}ao(r,c,h,m){return new Promise((b,D)=>{const k=new ga;k.listenOnce(rc.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case Rc.NO_ERROR:const se=k.getResponseJson();nn("Connection","XHR received:",JSON.stringify(se)),b(se);break;case Rc.TIMEOUT:nn("Connection",'RPC "'+r+'" timed out'),D(new Kt(Ct.DEADLINE_EXCEEDED,"Request time out"));break;case Rc.HTTP_ERROR:const Re=k.getStatus();if(nn("Connection",'RPC "'+r+'" failed with status:',Re,"response text:",k.getResponseText()),Re>0){const We=k.getResponseJson().error;if(We&&We.status&&We.message){const bt=function(Bt){const Jt=Bt.toLowerCase().replace(/_/g,"-");return Object.values(Ct).indexOf(Jt)>=0?Jt:Ct.UNKNOWN}(We.status);D(new Kt(bt,We.message))}else D(new Kt(Ct.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new Kt(Ct.UNAVAILABLE,"Connection failed."));break;default:Fn()}}finally{nn("Connection",'RPC "'+r+'" completed.')}});const $=JSON.stringify(m);k.send(c,"POST",$,h,15)})}co(r,c,h){const m=[this.no,"/","google.firestore.v1.Firestore","/",r,"/channel"],b=np(),D=ol(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new Hh({})),this.oo(k.initMessageHeaders,c,h),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(k.httpHeadersOverwriteParam="$httpHeaders");const $=m.join("");nn("Connection","Creating WebChannel: "+$,k);const se=b.createWebChannel($,k);let Re=!1,We=!1;const bt=new ud({Qr:Jt=>{We?nn("Connection","Not sending because WebChannel is closed:",Jt):(Re||(nn("Connection","Opening WebChannel transport."),se.open(),Re=!0),nn("Connection","WebChannel sending:",Jt),se.send(Jt))},jr:()=>se.close()}),Bt=(Jt,Kn,Nr)=>{Jt.listen(Kn,yo=>{try{Nr(yo)}catch(ei){setTimeout(()=>{throw ei},0)}})};return Bt(se,Zs.EventType.OPEN,()=>{We||nn("Connection","WebChannel transport opened.")}),Bt(se,Zs.EventType.CLOSE,()=>{We||(We=!0,nn("Connection","WebChannel transport closed"),bt.Zr())}),Bt(se,Zs.EventType.ERROR,Jt=>{We||(We=!0,Fc("Connection","WebChannel transport errored:",Jt),bt.Zr(new Kt(Ct.UNAVAILABLE,"The operation could not be completed")))}),Bt(se,Zs.EventType.MESSAGE,Jt=>{var Kn;if(!We){const Nr=Jt.data[0];hr(!!Nr);const yo=Nr,ei=yo.error||(null===(Kn=yo[0])||void 0===Kn?void 0:Kn.error);if(ei){nn("Connection","WebChannel received error:",ei);const la=ei.status;let Oo=function(Mi){const xu=ao[Mi];if(void 0!==xu)return Wu(xu)}(la),Uo=ei.message;void 0===Oo&&(Oo=Ct.INTERNAL,Uo="Unknown error status: "+la+" with message "+ei.message),We=!0,bt.Zr(new Kt(Oo,Uo)),se.close()}else nn("Connection","WebChannel received:",Nr),bt.eo(Nr)}}),Bt(D,Di.STAT_EVENT,Jt=>{Jt.stat===kc.PROXY?nn("Connection","Detected buffering proxy"):Jt.stat===kc.NOPROXY&&nn("Connection","Detected no buffering proxy")}),setTimeout(()=>{bt.Xr()},0),bt}}function dd(){return"undefined"!=typeof document?document:null}function Il(l){return new ap(l,!0)}class hd{constructor(r,c,h=1e3,m=1.5,b=6e4){this.Hn=r,this.timerId=c,this.ho=h,this.lo=m,this.fo=b,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(r){this.cancel();const c=Math.floor(this._o+this.Io()),h=Math.max(0,Date.now()-this.mo),m=Math.max(0,c-h);m>0&&nn("ExponentialBackoff",`Backing off for ${m} ms (base delay: ${this._o} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,m,()=>(this.mo=Date.now(),r())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Bs{constructor(r,c,h,m,b,D,k,$){this.Hn=r,this.Eo=h,this.Ao=m,this.Ro=b,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=k,this.listener=$,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new hd(r,c)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var r=this;return(0,p.Z)(function*(){r.So()&&(yield r.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(r){this.Oo(),this.stream.send(r)}ko(){var r=this;return(0,p.Z)(function*(){if(r.Do())return r.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(r,c){var h=this;return(0,p.Z)(function*(){h.Oo(),h.$o(),h.vo.cancel(),h.bo++,4!==r?h.vo.reset():c&&c.code===Ct.RESOURCE_EXHAUSTED?(si(c.toString()),si("Using maximum backoff delay to prevent overloading the backend."),h.vo.yo()):c&&c.code===Ct.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Fo(),h.stream.close(),h.stream=null),h.state=r,yield h.listener.Hr(c)})()}Fo(){}auth(){this.state=1;const r=this.Bo(this.bo),c=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,m])=>{this.bo===c&&this.Lo(h,m)},h=>{r(()=>{const m=new Kt(Ct.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(m)})})}Lo(r,c){const h=this.Bo(this.bo);this.stream=this.Uo(r,c),this.stream.Wr(()=>{h(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(m=>{h(()=>this.qo(m))}),this.stream.onMessage(m=>{h(()=>this.onMessage(m))})}Co(){var r=this;this.state=5,this.vo.po((0,p.Z)(function*(){r.state=0,r.start()}))}qo(r){return nn("PersistentStream",`close with error: ${r}`),this.stream=null,this.close(4,r)}Bo(r){return c=>{this.Hn.enqueueAndForget(()=>this.bo===r?c():(nn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Gg extends Bs{constructor(r,c,h,m,b,D){super(r,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,m,D),this.M=b}Uo(r,c){return this.Ro.co("Listen",r,c)}onMessage(r){this.vo.reset();const c=function bg(l,r){let c;if("targetChange"in r){const h="NO_CHANGE"===($=r.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Fn(),m=r.targetChange.targetIds||[],b=function($,se){return $.N?(hr(void 0===se||"string"==typeof se),_i.fromBase64String(se||"")):(hr(void 0===se||se instanceof Uint8Array),_i.fromUint8Array(se||new Uint8Array))}(l,r.targetChange.resumeToken),D=r.targetChange.cause,k=D&&function($){const se=void 0===$.code?Ct.UNKNOWN:Wu($.code);return new Kt(se,$.message||"")}(D);c=new ef(h,m,b,k||null)}else if("documentChange"in r){const h=r.documentChange,m=Ws(l,h.document.name),b=So(h.document.updateTime),D=new pr({mapValue:{fields:h.document.fields}}),k=Xr.newFoundDocument(m,b,D);c=new ml(h.targetIds||[],h.removedTargetIds||[],k.key,k)}else if("documentDelete"in r){const h=r.documentDelete,m=Ws(l,h.document),b=h.readTime?So(h.readTime):ir.min(),D=Xr.newNoDocument(m,b);c=new ml([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in r){const h=r.documentRemove,m=Ws(l,h.document);c=new ml([],h.removedTargetIds||[],m,null)}else{if(!("filter"in r))return Fn();{const h=r.filter,b=new fg(h.count||0);c=new pg(h.targetId,b)}}var $;return c}(this.M,r),h=function(m){if(!("targetChange"in m))return ir.min();const b=m.targetChange;return b.targetIds&&b.targetIds.length?ir.min():b.readTime?So(b.readTime):ir.min()}(r);return this.listener.Ko(c,h)}Go(r){const c={};c.database=_l(this.M),c.addTarget=function(m,b){let D;const k=b.target;return D=os(k)?{documents:Wd(m,k)}:{query:up(m,k)},D.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?D.resumeToken=cp(m,b.resumeToken):b.snapshotVersion.compareTo(ir.min())>0&&(D.readTime=gi(m,b.snapshotVersion.toTimestamp())),D}(this.M,r);const h=function Kd(l,r){const c=function(h,m){switch(m){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Fn()}}(0,r.purpose);return null==c?null:{"goog-listen-tags":c}}(0,r);h&&(c.labels=h),this.Mo(c)}Qo(r){const c={};c.database=_l(this.M),c.removeTarget=r,this.Mo(c)}}class bs extends Bs{constructor(r,c,h,m,b,D){super(r,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,m,D),this.M=b,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(r,c){return this.Ro.co("Write",r,c)}onMessage(r){if(hr(!!r.streamToken),this.lastStreamToken=r.streamToken,this.jo){this.vo.reset();const c=function vs(l,r){return l&&l.length>0?(hr(void 0!==r),l.map(c=>function(h,m){let b=So(h.updateTime?h.updateTime:m);return b.isEqual(ir.min())&&(b=So(m)),new Hu(b,h.transformResults||[])}(c,r))):[]}(r.writeResults,r.commitTime),h=So(r.commitTime);return this.listener.Ho(h,c)}return hr(!r.writeResults||0===r.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const r={};r.database=_l(this.M),this.Mo(r)}zo(r){const c={streamToken:this.lastStreamToken,writes:r.map(h=>function Qu(l,r){let c;if(r instanceof gl)c={update:Yu(l,r.key,r.value)};else if(r instanceof jd)c={delete:zd(l,r.key)};else if(r instanceof Ki)c={update:Yu(l,r.key,r.data),updateMask:af(r.fieldMask)};else{if(!(r instanceof wa))return Fn();c={verify:zd(l,r.key)}}return r.fieldTransforms.length>0&&(c.updateTransforms=r.fieldTransforms.map(h=>function(m,b){const D=b.transform;if(D instanceof qa)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ca)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Za)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof ks)return{fieldPath:b.field.canonicalString(),increment:D.k};throw Fn()}(0,h))),r.precondition.isNone||(c.currentDocument=void 0!==(m=r.precondition).updateTime?{updateTime:nu(l,m.updateTime)}:void 0!==m.exists?{exists:m.exists}:Fn()),c;var m}(this.M,h))};this.Mo(c)}}class T_ extends class{}{constructor(r,c,h,m){super(),this.authCredentials=r,this.appCheckCredentials=c,this.Ro=h,this.M=m,this.Xo=!1}Zo(){if(this.Xo)throw new Kt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}io(r,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.Ro.io(r,c,h,m,b)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Kt(Ct.UNKNOWN,m.toString())})}uo(r,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([m,b])=>this.Ro.uo(r,c,h,m,b)).catch(m=>{throw"FirebaseError"===m.name?(m.code===Ct.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new Kt(Ct.UNKNOWN,m.toString())})}terminate(){this.Xo=!0}}class py{constructor(r,c){this.asyncQueue=r,this.onlineStateHandler=c,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(r){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${r.toString()}`),this.ia("Offline")))}set(r){this.aa(),this.ta=0,"Online"===r&&(this.na=!1),this.ia(r)}ia(r){r!==this.state&&(this.state=r,this.onlineStateHandler(r))}ra(r){const c=`Could not reach Cloud Firestore backend. ${r}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(si(c),this.na=!1):nn("OnlineStateTracker",c)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class E_{constructor(r,c,h,m,b){var D=this;this.localStore=r,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=b,this.fa.Fr(k=>{h.enqueueAndForget((0,p.Z)(function*(){var $;zc(D)&&(nn("RemoteStore","Restarting streams for network reachability change."),yield($=(0,p.Z)(function*(se){const Re=Dn(se);Re.ha.add(4),yield fd(Re),Re.da.set("Unknown"),Re.ha.delete(4),yield hh(Re)}),function(se){return $.apply(this,arguments)})(D))}))}),this.da=new py(h,m)}}function hh(l){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,p.Z)(function*(l){if(zc(l))for(const r of l.la)yield r(!0)}),Hg.apply(this,arguments)}function fd(l){return Tp.apply(this,arguments)}function Tp(){return Tp=(0,p.Z)(function*(l){for(const r of l.la)yield r(!1)}),Tp.apply(this,arguments)}function pd(l,r){const c=Dn(l);c.ca.has(r.targetId)||(c.ca.set(r.targetId,r),Ep(c)?Zg(c):Po(c).Do()&&qg(c,r))}function Cs(l,r){const c=Dn(l),h=Po(c);c.ca.delete(r),h.Do()&&Af(c,r),0===c.ca.size&&(h.Do()?h.No():zc(c)&&c.da.set("Unknown"))}function qg(l,r){l._a.Z(r.targetId),Po(l).Go(r)}function Af(l,r){l._a.Z(r),Po(l).Qo(r)}function Zg(l){l._a=new mg({getRemoteKeysForTarget:r=>l.remoteSyncer.getRemoteKeysForTarget(r),Et:r=>l.ca.get(r)||null}),Po(l).start(),l.da.sa()}function Ep(l){return zc(l)&&!Po(l).So()&&l.ca.size>0}function zc(l){return 0===Dn(l).ha.size}function gd(l){l._a=void 0}function L0(l){return If.apply(this,arguments)}function If(){return If=(0,p.Z)(function*(l){l.ca.forEach((r,c)=>{qg(l,r)})}),If.apply(this,arguments)}function D_(l,r){return zg.apply(this,arguments)}function zg(){return zg=(0,p.Z)(function*(l,r){gd(l),Ep(l)?(l.da.oa(r),Zg(l)):l.da.set("Unknown")}),zg.apply(this,arguments)}function F0(l,r,c){return Wg.apply(this,arguments)}function Wg(){return Wg=(0,p.Z)(function*(l,r,c){if(l.da.set("Online"),r instanceof ef&&2===r.state&&r.cause)try{yield(h=(0,p.Z)(function*(m,b){const D=b.cause;for(const k of b.targetIds)m.ca.has(k)&&(yield m.remoteSyncer.rejectListen(k,D),m.ca.delete(k),m._a.removeTarget(k))}),function(m,b){return h.apply(this,arguments)})(l,r)}catch(h){nn("RemoteStore","Failed to remove targets %s: %s ",r.targetIds.join(","),h),yield Pf(l,h)}else if(r instanceof ml?l._a.at(r):r instanceof pg?l._a._t(r):l._a.ht(r),!c.isEqual(ir.min()))try{const h=yield ad(l.localStore);c.compareTo(h)>=0&&(yield function(m,b){const D=m._a.yt(b);return D.targetChanges.forEach((k,$)=>{if(k.resumeToken.approximateByteSize()>0){const se=m.ca.get($);se&&m.ca.set($,se.withResumeToken(k.resumeToken,b))}}),D.targetMismatches.forEach(k=>{const $=m.ca.get(k);if(!$)return;m.ca.set(k,$.withResumeToken(_i.EMPTY_BYTE_STRING,$.snapshotVersion)),Af(m,k);const se=new hc($.target,k,1,$.sequenceNumber);qg(m,se)}),m.remoteSyncer.applyRemoteEvent(D)}(l,c))}catch(h){nn("RemoteStore","Failed to raise snapshot:",h),yield Pf(l,h)}var h}),Wg.apply(this,arguments)}function Pf(l,r,c){return $g.apply(this,arguments)}function $g(){return $g=(0,p.Z)(function*(l,r,c){if(!dc(r))throw r;l.ha.add(1),yield fd(l),l.da.set("Offline"),c||(c=()=>ad(l.localStore)),l.asyncQueue.enqueueRetryable((0,p.Z)(function*(){nn("RemoteStore","Retrying IndexedDB access"),yield c(),l.ha.delete(1),yield hh(l)}))}),$g.apply(this,arguments)}function Kg(l,r){return r().catch(c=>Pf(l,c,r))}function md(l){return S_.apply(this,arguments)}function S_(){return S_=(0,p.Z)(function*(l){const r=Dn(l),c=yu(r);let h=r.ua.length>0?r.ua[r.ua.length-1].batchId:-1;for(;Dp(r);)try{const m=yield ly(r.localStore,h);if(null===m){0===r.ua.length&&c.No();break}h=m.batchId,Of(r,m)}catch(m){yield Pf(r,m)}x_(r)&&mc(r)}),S_.apply(this,arguments)}function Dp(l){return zc(l)&&l.ua.length<10}function Of(l,r){l.ua.push(r);const c=yu(l);c.Do()&&c.Wo&&c.zo(r.mutations)}function x_(l){return zc(l)&&!yu(l).So()&&l.ua.length>0}function mc(l){yu(l).start()}function Jg(l){return Yg.apply(this,arguments)}function Yg(){return Yg=(0,p.Z)(function*(l){yu(l).Yo()}),Yg.apply(this,arguments)}function B0(l){return co.apply(this,arguments)}function co(){return co=(0,p.Z)(function*(l){const r=yu(l);for(const c of l.ua)r.zo(c.mutations)}),co.apply(this,arguments)}function Qg(l,r,c){return Xg.apply(this,arguments)}function Xg(){return Xg=(0,p.Z)(function*(l,r,c){const h=l.ua.shift(),m=rd.from(h,r,c);yield Kg(l,()=>l.remoteSyncer.applySuccessfulWrite(m)),yield md(l)}),Xg.apply(this,arguments)}function U0(l,r){return em.apply(this,arguments)}function em(){return em=(0,p.Z)(function*(l,r){var c;r&&yu(l).Wo&&(yield(c=(0,p.Z)(function*(h,m){if(Vd(b=m.code)&&b!==Ct.ABORTED){const D=h.ua.shift();yu(h).xo(),yield Kg(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,m)),yield md(h)}var b}),function(h,m){return c.apply(this,arguments)})(l,r)),x_(l)&&mc(l)}),em.apply(this,arguments)}function fh(l,r){return Wc.apply(this,arguments)}function Wc(){return Wc=(0,p.Z)(function*(l,r){const c=Dn(l);c.asyncQueue.verifyOperationInProgress(),nn("RemoteStore","RemoteStore received new credentials");const h=zc(c);c.ha.add(3),yield fd(c),h&&c.da.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(r),c.ha.delete(3),yield hh(c)}),Wc.apply(this,arguments)}function ph(){return ph=(0,p.Z)(function*(l,r){const c=Dn(l);r?(c.ha.delete(2),yield hh(c)):r||(c.ha.add(2),yield fd(c),c.da.set("Unknown"))}),ph.apply(this,arguments)}function Po(l){return l.wa||(l.wa=function(r,c,h){const m=Dn(r);return m.Zo(),new Gg(c,m.Ro,m.authCredentials,m.appCheckCredentials,m.M,h)}(l.datastore,l.asyncQueue,{Wr:L0.bind(null,l),Hr:D_.bind(null,l),Ko:F0.bind(null,l)}),l.la.push(function(){var r=(0,p.Z)(function*(c){c?(l.wa.xo(),Ep(l)?Zg(l):l.da.set("Unknown")):(yield l.wa.stop(),gd(l))});return function(c){return r.apply(this,arguments)}}())),l.wa}function yu(l){return l.ma||(l.ma=function(r,c,h){const m=Dn(r);return m.Zo(),new bs(c,m.Ro,m.authCredentials,m.appCheckCredentials,m.M,h)}(l.datastore,l.asyncQueue,{Wr:Jg.bind(null,l),Hr:U0.bind(null,l),Jo:B0.bind(null,l),Ho:Qg.bind(null,l)}),l.la.push(function(){var r=(0,p.Z)(function*(c){c?(l.ma.xo(),yield md(l)):(yield l.ma.stop(),l.ua.length>0&&(nn("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(c){return r.apply(this,arguments)}}())),l.ma}class Mf{constructor(r,c,h,m,b){this.asyncQueue=r,this.timerId=c,this.targetTimeMs=h,this.op=m,this.removalCallback=b,this.deferred=new Li,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(r,c,h,m,b){const D=Date.now()+h,k=new Mf(r,c,D,m,b);return k.start(h),k}start(r){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),r)}skipDelay(){return this.handleDelayElapsed()}cancel(r){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Kt(Ct.CANCELLED,"Operation cancelled"+(r?": "+r:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(r=>this.deferred.resolve(r))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bu(l,r){if(si("AsyncQueue",`${r}: ${l}`),dc(l))return new Kt(Ct.UNAVAILABLE,`${r}: ${l}`);throw l}class _d{constructor(r){this.comparator=r?(c,h)=>r(c,h)||wn.comparator(c.key,h.key):(c,h)=>wn.comparator(c.key,h.key),this.keyedMap=tu(),this.sortedSet=new Ji(this.comparator)}static emptySet(r){return new _d(r.comparator)}has(r){return null!=this.keyedMap.get(r)}get(r){return this.keyedMap.get(r)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(r){const c=this.keyedMap.get(r);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(r){this.sortedSet.inorderTraversal((c,h)=>(r(c),!1))}add(r){const c=this.delete(r.key);return c.copy(c.keyedMap.insert(r.key,r),c.sortedSet.insert(r,null))}delete(r){const c=this.get(r);return c?this.copy(this.keyedMap.remove(r),this.sortedSet.remove(c)):this}isEqual(r){if(!(r instanceof _d)||this.size!==r.size)return!1;const c=this.sortedSet.getIterator(),h=r.sortedSet.getIterator();for(;c.hasNext();){const m=c.getNext().key,b=h.getNext().key;if(!m.isEqual(b))return!1}return!0}toString(){const r=[];return this.forEach(c=>{r.push(c.toString())}),0===r.length?"DocumentSet ()":"DocumentSet (\n  "+r.join("  \n")+"\n)"}copy(r,c){const h=new _d;return h.comparator=this.comparator,h.keyedMap=r,h.sortedSet=c,h}}class A_{constructor(){this.ga=new Ji(wn.comparator)}track(r){const c=r.doc.key,h=this.ga.get(c);h?0!==r.type&&3===h.type?this.ga=this.ga.insert(c,r):3===r.type&&1!==h.type?this.ga=this.ga.insert(c,{type:h.type,doc:r.doc}):2===r.type&&2===h.type?this.ga=this.ga.insert(c,{type:2,doc:r.doc}):2===r.type&&0===h.type?this.ga=this.ga.insert(c,{type:0,doc:r.doc}):1===r.type&&0===h.type?this.ga=this.ga.remove(c):1===r.type&&2===h.type?this.ga=this.ga.insert(c,{type:1,doc:h.doc}):0===r.type&&1===h.type?this.ga=this.ga.insert(c,{type:2,doc:r.doc}):Fn():this.ga=this.ga.insert(c,r)}ya(){const r=[];return this.ga.inorderTraversal((c,h)=>{r.push(h)}),r}}class gh{constructor(r,c,h,m,b,D,k,$){this.query=r,this.docs=c,this.oldDocs=h,this.docChanges=m,this.mutatedKeys=b,this.fromCache=D,this.syncStateChanged=k,this.excludesMetadataChanges=$}static fromInitialDocuments(r,c,h,m){const b=[];return c.forEach(D=>{b.push({type:0,doc:D})}),new gh(r,c,_d.emptySet(c),b,h,m,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(r){if(!(this.fromCache===r.fromCache&&this.syncStateChanged===r.syncStateChanged&&this.mutatedKeys.isEqual(r.mutatedKeys)&&dl(this.query,r.query)&&this.docs.isEqual(r.docs)&&this.oldDocs.isEqual(r.oldDocs)))return!1;const c=this.docChanges,h=r.docChanges;if(c.length!==h.length)return!1;for(let m=0;m<c.length;m++)if(c[m].type!==h[m].type||!c[m].doc.isEqual(h[m].doc))return!1;return!0}}class tm{constructor(){this.pa=void 0,this.listeners=[]}}class gy{constructor(){this.queries=new uc(r=>Yl(r),dl),this.onlineState="Unknown",this.Ia=new Set}}function Sp(){return Sp=(0,p.Z)(function*(l,r){const c=Dn(l),h=r.query;let m=!1,b=c.queries.get(h);if(b||(m=!0,b=new tm),m)try{b.pa=yield c.onListen(h)}catch(D){const k=bu(D,`Initialization of query '${Ga(r.query)}' failed`);return void r.onError(k)}c.queries.set(h,b),b.listeners.push(r),r.Ta(c.onlineState),b.pa&&r.Ea(b.pa)&&_c(c)}),Sp.apply(this,arguments)}function Ap(){return Ap=(0,p.Z)(function*(l,r){const c=Dn(l),h=r.query;let m=!1;const b=c.queries.get(h);if(b){const D=b.listeners.indexOf(r);D>=0&&(b.listeners.splice(D,1),m=0===b.listeners.length)}if(m)return c.queries.delete(h),c.onUnlisten(h)}),Ap.apply(this,arguments)}function I_(l,r){const c=Dn(l);let h=!1;for(const m of r){const D=c.queries.get(m.query);if(D){for(const k of D.listeners)k.Ea(m)&&(h=!0);D.pa=m}}h&&_c(c)}function P_(l,r,c){const h=Dn(l),m=h.queries.get(r);if(m)for(const b of m.listeners)b.onError(c);h.queries.delete(r)}function _c(l){l.Ia.forEach(r=>{r.next()})}class mh{constructor(r,c,h){this.query=r,this.Aa=c,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=h||{}}Ea(r){if(!this.options.includeMetadataChanges){const h=[];for(const m of r.docChanges)3!==m.type&&h.push(m);r=new gh(r.query,r.docs,r.oldDocs,h,r.mutatedKeys,r.fromCache,r.syncStateChanged,!0)}let c=!1;return this.Ra?this.Pa(r)&&(this.Aa.next(r),c=!0):this.Va(r,this.onlineState)&&(this.va(r),c=!0),this.ba=r,c}onError(r){this.Aa.error(r)}Ta(r){this.onlineState=r;let c=!1;return this.ba&&!this.Ra&&this.Va(this.ba,r)&&(this.va(this.ba),c=!0),c}Va(r,c){return!r.fromCache||!(this.options.Sa&&"Offline"!==c||r.docs.isEmpty()&&"Offline"!==c)}Pa(r){return r.docChanges.length>0||!!(r.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==r.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(r){r=gh.fromInitialDocuments(r.query,r.docs,r.mutatedKeys,r.fromCache),this.Ra=!0,this.Aa.next(r)}}class rm{constructor(r){this.key=r}}class Pp{constructor(r){this.key=r}}class _h{constructor(r,c){this.query=r,this.ka=c,this.Ma=null,this.current=!1,this.Oa=ci(),this.mutatedKeys=ci(),this.$a=Wr(r),this.Fa=new _d(this.$a)}get Ba(){return this.ka}La(r,c){const h=c?c.qa:new A_,m=c?c.Fa:this.Fa;let b=c?c.mutatedKeys:this.mutatedKeys,D=m,k=!1;const $=xi(this.query)&&m.size===this.query.limit?m.last():null,se=so(this.query)&&m.size===this.query.limit?m.first():null;if(r.inorderTraversal((Re,We)=>{const bt=m.get(Re),Bt=Ha(this.query,We)?We:null,Jt=!!bt&&this.mutatedKeys.has(bt.key),Kn=!!Bt&&(Bt.hasLocalMutations||this.mutatedKeys.has(Bt.key)&&Bt.hasCommittedMutations);let Nr=!1;bt&&Bt?bt.data.isEqual(Bt.data)?Jt!==Kn&&(h.track({type:3,doc:Bt}),Nr=!0):this.Ua(bt,Bt)||(h.track({type:2,doc:Bt}),Nr=!0,($&&this.$a(Bt,$)>0||se&&this.$a(Bt,se)<0)&&(k=!0)):!bt&&Bt?(h.track({type:0,doc:Bt}),Nr=!0):bt&&!Bt&&(h.track({type:1,doc:bt}),Nr=!0,($||se)&&(k=!0)),Nr&&(Bt?(D=D.add(Bt),b=Kn?b.add(Re):b.delete(Re)):(D=D.delete(Re),b=b.delete(Re)))}),xi(this.query)||so(this.query))for(;D.size>this.query.limit;){const Re=xi(this.query)?D.last():D.first();D=D.delete(Re.key),b=b.delete(Re.key),h.track({type:1,doc:Re})}return{Fa:D,qa:h,ei:k,mutatedKeys:b}}Ua(r,c){return r.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(r,c,h){const m=this.Fa;this.Fa=r.Fa,this.mutatedKeys=r.mutatedKeys;const b=r.qa.ya();b.sort((se,Re)=>function(We,bt){const Bt=Jt=>{switch(Jt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Fn()}};return Bt(We)-Bt(bt)}(se.type,Re.type)||this.$a(se.doc,Re.doc)),this.Ka(h);const D=c?this.Ga():[],k=0===this.Oa.size&&this.current?1:0,$=k!==this.Ma;return this.Ma=k,0!==b.length||$?{snapshot:new gh(this.query,r.Fa,m,b,r.mutatedKeys,0===k,$,!1),Qa:D}:{Qa:D}}Ta(r){return this.current&&"Offline"===r?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new A_,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(r){return!this.ka.has(r)&&!!this.Fa.has(r)&&!this.Fa.get(r).hasLocalMutations}Ka(r){r&&(r.addedDocuments.forEach(c=>this.ka=this.ka.add(c)),r.modifiedDocuments.forEach(c=>{}),r.removedDocuments.forEach(c=>this.ka=this.ka.delete(c)),this.current=r.current)}Ga(){if(!this.current)return[];const r=this.Oa;this.Oa=ci(),this.Fa.forEach(h=>{this.ja(h.key)&&(this.Oa=this.Oa.add(h.key))});const c=[];return r.forEach(h=>{this.Oa.has(h)||c.push(new Pp(h))}),this.Oa.forEach(h=>{r.has(h)||c.push(new rm(h))}),c}Wa(r){this.ka=r.hi,this.Oa=ci();const c=this.La(r.documents);return this.applyChanges(c,!0)}za(){return gh.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class V0{constructor(r,c,h){this.query=r,this.targetId=c,this.view=h}}class vh{constructor(r){this.key=r,this.Ha=!1}}class M_{constructor(r,c,h,m,b,D){this.localStore=r,this.remoteStore=c,this.eventManager=h,this.sharedClientState=m,this.currentUser=b,this.maxConcurrentLimboResolutions=D,this.Ja={},this.Ya=new uc(k=>Yl(k),dl),this.Xa=new Map,this.Za=new Set,this.tu=new Ji(wn.comparator),this.eu=new Map,this.nu=new wp,this.su={},this.iu=new Map,this.ru=uu.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function N_(l,r){return Op.apply(this,arguments)}function Op(){return Op=(0,p.Z)(function*(l,r){const c=Rf(l);let h,m;const b=c.Ya.get(r);if(b)h=b.targetId,c.sharedClientState.addLocalQueryTarget(h),m=b.view.za();else{const D=yield Cp(c.localStore,Bi(r));c.isPrimaryClient&&pd(c.remoteStore,D);const k=c.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,m=yield im(c,r,h,"current"===k)}return m}),Op.apply(this,arguments)}function im(l,r,c,h){return Nf.apply(this,arguments)}function Nf(){return Nf=(0,p.Z)(function*(l,r,c,h){l.au=(Re,We,bt)=>{return(Bt=(0,p.Z)(function*(Jt,Kn,Nr,yo){let ei=Kn.view.La(Nr);ei.ei&&(ei=yield pu(Jt.localStore,Kn.query,!1).then(({documents:Uo})=>Kn.view.La(Uo,ei)));const la=yo&&yo.targetChanges.get(Kn.targetId),Oo=Kn.view.applyChanges(ei,Jt.isPrimaryClient,la);return dm(Jt,Kn.targetId,Oo.Qa),Oo.snapshot}),function(Jt,Kn,Nr,yo){return Bt.apply(this,arguments)})(l,Re,We,bt);var Bt};const m=yield pu(l.localStore,r,!0),b=new _h(r,m.hi),D=b.La(m.documents),k=qd.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==l.onlineState),$=b.applyChanges(D,l.isPrimaryClient,k);dm(l,c,$.Qa);const se=new V0(r,c,b);return l.Ya.set(r,se),l.Xa.has(c)?l.Xa.get(c).push(r):l.Xa.set(c,[r]),$.snapshot}),Nf.apply(this,arguments)}function G0(l,r){return om.apply(this,arguments)}function om(){return om=(0,p.Z)(function*(l,r){const c=Dn(l),h=c.Ya.get(r),m=c.Xa.get(h.targetId);if(m.length>1)return c.Xa.set(h.targetId,m.filter(b=>!dl(b,r))),void c.Ya.delete(r);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(h.targetId),c.sharedClientState.isActiveQueryTarget(h.targetId)||(yield sh(c.localStore,h.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(h.targetId),Cs(c.remoteStore,h.targetId),ws(c,h.targetId)}).catch(Io))):(ws(c,h.targetId),yield sh(c.localStore,h.targetId,!0))}),om.apply(this,arguments)}function Cu(){return Cu=(0,p.Z)(function*(l,r,c){const h=gm(l);try{const m=yield function(b,D){const k=Dn(b),$=To.now(),se=D.reduce((We,bt)=>We.add(bt.key),ci());let Re;return k.persistence.runTransaction("Locally write mutations","readwrite",We=>k.ui.Us(We,se).next(bt=>{Re=bt;const Bt=[];for(const Jt of D){const Kn=ip(Jt,Re.get(Jt.key));null!=Kn&&Bt.push(new Ki(Jt.key,Kn,ll(Kn.value.mapValue),Zi.exists(!0)))}return k.Fs.addMutationBatch(We,$,Bt,D)})).then(We=>(We.applyToLocalDocumentSet(Re),{batchId:We.batchId,changes:Re}))}(h.localStore,r);h.sharedClientState.addPendingMutation(m.batchId),function(b,D,k){let $=b.su[b.currentUser.toKey()];$||($=new Ji(Rr)),$=$.insert(D,k),b.su[b.currentUser.toKey()]=$}(h,m.batchId,c),yield $c(h,m.changes),yield md(h.remoteStore)}catch(m){const b=bu(m,"Failed to persist write");c.reject(b)}}),Cu.apply(this,arguments)}function sm(l,r){return am.apply(this,arguments)}function am(){return am=(0,p.Z)(function*(l,r){const c=Dn(l);try{const h=yield Fg(c.localStore,r);r.targetChanges.forEach((m,b)=>{const D=c.eu.get(b);D&&(hr(m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size<=1),m.addedDocuments.size>0?D.Ha=!0:m.modifiedDocuments.size>0?hr(D.Ha):m.removedDocuments.size>0&&(hr(D.Ha),D.Ha=!1))}),yield $c(c,h,r)}catch(h){yield Io(h)}}),am.apply(this,arguments)}function k_(l,r,c){const h=Dn(l);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const m=[];h.Ya.forEach((b,D)=>{const k=D.view.Ta(r);k.snapshot&&m.push(k.snapshot)}),function(b,D){const k=Dn(b);k.onlineState=D;let $=!1;k.queries.forEach((se,Re)=>{for(const We of Re.listeners)We.Ta(D)&&($=!0)}),$&&_c(k)}(h.eventManager,r),m.length&&h.Ja.Ko(m),h.onlineState=r,h.isPrimaryClient&&h.sharedClientState.setOnlineState(r)}}function yh(l,r,c){return cm.apply(this,arguments)}function cm(){return cm=(0,p.Z)(function*(l,r,c){const h=Dn(l);h.sharedClientState.updateQueryState(r,"rejected",c);const m=h.eu.get(r),b=m&&m.key;if(b){let D=new Ji(wn.comparator);D=D.insert(b,Xr.newNoDocument(b,ir.min()));const k=ci().add(b),$=new Xh(ir.min(),new Map,new ai(Rr),D,k);yield sm(h,$),h.tu=h.tu.remove(b),h.eu.delete(r),F_(h)}else yield sh(h.localStore,r,!1).then(()=>ws(h,r,c)).catch(Io)}),cm.apply(this,arguments)}function H0(l,r){return lm.apply(this,arguments)}function lm(){return lm=(0,p.Z)(function*(l,r){const c=Dn(l),h=r.batch.batchId;try{const m=yield m_(c.localStore,r);Np(c,h,null),bh(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield $c(c,m)}catch(m){yield Io(m)}}),lm.apply(this,arguments)}function q0(l,r,c){return Sa.apply(this,arguments)}function Sa(){return Sa=(0,p.Z)(function*(l,r,c){const h=Dn(l);try{const m=yield function(b,D){const k=Dn(b);return k.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let se;return k.Fs.lookupMutationBatch($,D).next(Re=>(hr(null!==Re),se=Re.keys(),k.Fs.removeMutationBatch($,Re))).next(()=>k.Fs.performConsistencyCheck($)).next(()=>k.ui.Us($,se))})}(h.localStore,r);Np(h,r,c),bh(h,r),h.sharedClientState.updateMutationState(r,"rejected",c),yield $c(h,m)}catch(m){yield Io(m)}}),Sa.apply(this,arguments)}function bh(l,r){(l.iu.get(r)||[]).forEach(c=>{c.resolve()}),l.iu.delete(r)}function Np(l,r,c){const h=Dn(l);let m=h.su[h.currentUser.toKey()];if(m){const b=m.get(r);b&&(c?b.reject(c):b.resolve(),m=m.remove(r)),h.su[h.currentUser.toKey()]=m}}function ws(l,r,c=null){l.sharedClientState.removeLocalQueryTarget(r);for(const h of l.Xa.get(r))l.Ya.delete(h),c&&l.Ja.uu(h,c);l.Xa.delete(r),l.isPrimaryClient&&l.nu.Ri(r).forEach(h=>{l.nu.containsKey(h)||L_(l,h)})}function L_(l,r){l.Za.delete(r.path.canonicalString());const c=l.tu.get(r);null!==c&&(Cs(l.remoteStore,c),l.tu=l.tu.remove(r),l.eu.delete(c),F_(l))}function dm(l,r,c){for(const h of c)h instanceof rm?(l.nu.addReference(h.key,r),Z0(l,h)):h instanceof Pp?(nn("SyncEngine","Document no longer in limbo: "+h.key),l.nu.removeReference(h.key,r),l.nu.containsKey(h.key)||L_(l,h.key)):Fn()}function Z0(l,r){const c=r.key,h=c.path.canonicalString();l.tu.get(c)||l.Za.has(h)||(nn("SyncEngine","New document in limbo: "+c),l.Za.add(h),F_(l))}function F_(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const r=l.Za.values().next().value;l.Za.delete(r);const c=new wn(xr.fromString(r)),h=l.ru.next();l.eu.set(h,new vh(c)),l.tu=l.tu.insert(c,h),pd(l.remoteStore,new hc(Bi(Un(c.path)),h,2,io.A))}}function $c(l,r,c){return B_.apply(this,arguments)}function B_(){return B_=(0,p.Z)(function*(l,r,c){const h=Dn(l),m=[],b=[],D=[];var k;h.Ya.isEmpty()||(h.Ya.forEach((k,$)=>{D.push(h.au($,r,c).then(se=>{if(se){h.isPrimaryClient&&h.sharedClientState.updateQueryState($.targetId,se.fromCache?"not-current":"current"),m.push(se);const Re=fu.Js($.targetId,se);b.push(Re)}}))}),yield Promise.all(D),h.Ja.Ko(m),yield(k=(0,p.Z)(function*($,se){const Re=Dn($);try{yield Re.persistence.runTransaction("notifyLocalViewChanges","readwrite",We=>xt.forEach(se,bt=>xt.forEach(bt.zs,Bt=>Re.persistence.referenceDelegate.addReference(We,bt.targetId,Bt)).next(()=>xt.forEach(bt.Hs,Bt=>Re.persistence.referenceDelegate.removeReference(We,bt.targetId,Bt)))))}catch(We){if(!dc(We))throw We;nn("LocalStore","Failed to update sequence numbers: "+We)}for(const We of se){const bt=We.targetId;if(!We.fromCache){const Bt=Re.si.get(bt),Kn=Bt.withLastLimboFreeSnapshotVersion(Bt.snapshotVersion);Re.si=Re.si.insert(bt,Kn)}}}),function($,se){return k.apply(this,arguments)})(h.localStore,b))}),B_.apply(this,arguments)}function U_(l,r){return Rp.apply(this,arguments)}function Rp(){return Rp=(0,p.Z)(function*(l,r){const c=Dn(l);if(!c.currentUser.isEqual(r)){nn("SyncEngine","User change. New user:",r.toKey());const h=yield qc(c.localStore,r);c.currentUser=r,(m=c).iu.forEach(D=>{D.forEach(k=>{k.reject(new Kt(Ct.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),m.iu.clear(),c.sharedClientState.handleUserChange(r,h.removedBatchIds,h.addedBatchIds),yield $c(c,h.ci)}var m}),Rp.apply(this,arguments)}function j_(l,r){const c=Dn(l),h=c.eu.get(r);if(h&&h.Ha)return ci().add(h.key);{let m=ci();const b=c.Xa.get(r);if(!b)return m;for(const D of b){const k=c.Ya.get(D);m=m.unionWith(k.view.Ba)}return m}}function Rf(l){const r=Dn(l);return r.remoteStore.remoteSyncer.applyRemoteEvent=sm.bind(null,r),r.remoteStore.remoteSyncer.getRemoteKeysForTarget=j_.bind(null,r),r.remoteStore.remoteSyncer.rejectListen=yh.bind(null,r),r.Ja.Ko=I_.bind(null,r.eventManager),r.Ja.uu=P_.bind(null,r.eventManager),r}function gm(l){const r=Dn(l);return r.remoteStore.remoteSyncer.applySuccessfulWrite=H0.bind(null,r),r.remoteStore.remoteSyncer.rejectFailedWrite=q0.bind(null,r),r}class $0{constructor(){this.synchronizeTabs=!1}initialize(r){var c=this;return(0,p.Z)(function*(){c.M=Il(r.databaseInfo.databaseId),c.sharedClientState=c.hu(r),c.persistence=c.lu(r),yield c.persistence.start(),c.gcScheduler=c.fu(r),c.localStore=c.du(r)})()}fu(r){return null}du(r){return function Ef(l,r,c,h){return new Tf(l,r,c,h)}(this.persistence,new Sl,r.initialUser,this.M)}lu(r){return new gu(Vg.Wi,this.M)}hu(r){return new mu}terminate(){var r=this;return(0,p.Z)(function*(){r.gcScheduler&&r.gcScheduler.stop(),yield r.sharedClientState.shutdown(),yield r.persistence.shutdown()})()}}class Th{initialize(r,c){var h=this;return(0,p.Z)(function*(){h.localStore||(h.localStore=r.localStore,h.sharedClientState=r.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!r.synchronizeTabs),h.sharedClientState.onlineStateHandler=m=>k_(h.syncEngine,m,1),h.remoteStore.remoteSyncer.handleCredentialChange=U_.bind(null,h.syncEngine),yield function Da(l,r){return ph.apply(this,arguments)}(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(r){return new gy}createDatastore(r){const c=Il(r.databaseInfo.databaseId),h=new w_(r.databaseInfo);return new T_(r.authCredentials,r.appCheckCredentials,h,c)}createRemoteStore(r){return c=this.localStore,h=this.datastore,m=r.asyncQueue,b=k=>k_(this.syncEngine,k,0),D=_u.vt()?new _u:new dh,new E_(c,h,m,b,D);var c,h,m,b,D}createSyncEngine(r,c){return function(h,m,b,D,k,$,se){const Re=new M_(h,m,b,D,k,$);return se&&(Re.ou=!0),Re}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,r.initialUser,r.maxConcurrentLimboResolutions,c)}terminate(){return(r=(0,p.Z)(function*(c){const h=Dn(c);nn("RemoteStore","RemoteStore shutting down."),h.ha.add(5),yield fd(h),h.fa.shutdown(),h.da.set("Unknown")}),function(c){return r.apply(this,arguments)})(this.remoteStore);var r}}class Fp{constructor(r){this.observer=r,this.muted=!1}next(r){this.observer.next&&this.wu(this.observer.next,r)}error(r){this.observer.error?this.wu(this.observer.error,r):console.error("Uncaught Error in snapshot listener:",r)}mu(){this.muted=!0}wu(r,c){this.muted||setTimeout(()=>{this.muted||r(c)},0)}}class ca{constructor(r,c,h,m){var b=this;this.authCredentials=r,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=m,this.user=ro.UNAUTHENTICATED,this.clientId=Ba.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,p.Z)(function*(k){nn("FirestoreClient","Received user=",k.uid),yield b.authCredentialListener(k),b.user=k});return function(k){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(nn("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var r=this;return(0,p.Z)(function*(){return{asyncQueue:r.asyncQueue,databaseInfo:r.databaseInfo,clientId:r.clientId,authCredentials:r.authCredentials,appCheckCredentials:r.appCheckCredentials,initialUser:r.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(r){this.authCredentialListener=r}setAppCheckTokenChangeListener(r){this.appCheckCredentialListener=r}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Kt(Ct.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var r=this;this.asyncQueue.enterRestrictedMode();const c=new Li;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{r.onlineComponents&&(yield r.onlineComponents.terminate()),r.offlineComponents&&(yield r.offlineComponents.terminate()),r.authCredentials.shutdown(),r.appCheckCredentials.shutdown(),c.resolve()}catch(h){const m=bu(h,"Failed to shutdown persistence");c.reject(m)}})),c.promise}}function Ja(l,r){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,p.Z)(function*(l,r){l.asyncQueue.verifyOperationInProgress(),nn("FirestoreClient","Initializing OfflineComponentProvider");const c=yield l.getConfiguration();yield r.initialize(c);let h=c.initialUser;l.setCredentialChangeListener(function(){var m=(0,p.Z)(function*(b){h.isEqual(b)||(yield qc(r.localStore,b),h=b)});return function(b){return m.apply(this,arguments)}}()),r.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=r}),Lf.apply(this,arguments)}function wu(l,r){return Es.apply(this,arguments)}function Es(){return Es=(0,p.Z)(function*(l,r){l.asyncQueue.verifyOperationInProgress();const c=yield yc(l);nn("FirestoreClient","Initializing OnlineComponentProvider");const h=yield l.getConfiguration();yield r.initialize(c,h),l.setCredentialChangeListener(m=>fh(r.remoteStore,m)),l.setAppCheckTokenChangeListener((m,b)=>fh(r.remoteStore,b)),l.onlineComponents=r}),Es.apply(this,arguments)}function yc(l){return ds.apply(this,arguments)}function ds(){return ds=(0,p.Z)(function*(l){return l.offlineComponents||(nn("FirestoreClient","Using default OfflineComponentProvider"),yield Ja(l,new $0)),l.offlineComponents}),ds.apply(this,arguments)}function bc(l){return Jc.apply(this,arguments)}function Jc(){return Jc=(0,p.Z)(function*(l){return l.onlineComponents||(nn("FirestoreClient","Using default OnlineComponentProvider"),yield wu(l,new Th)),l.onlineComponents}),Jc.apply(this,arguments)}function Cc(l){return Eu.apply(this,arguments)}function Eu(){return Eu=(0,p.Z)(function*(l){const r=yield bc(l),c=r.eventManager;return c.onListen=N_.bind(null,r.syncEngine),c.onUnlisten=G0.bind(null,r.syncEngine),c}),Eu.apply(this,arguments)}const Ff=new Map;function wc(l,r,c){if(!c)throw new Kt(Ct.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${r}.`)}function Ih(l){if(!wn.isDocumentKey(l))throw new Kt(Ct.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Cd(l){if(wn.isDocumentKey(l))throw new Kt(Ct.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Yc(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const r=(c=l).constructor?c.constructor.name:null;return r?`a custom ${r} object`:"an object"}}var c;return"function"==typeof l?"a function":Fn()}function ii(l,r){if("_delegate"in l&&(l=l._delegate),!(l instanceof r)){if(r.name===l.constructor.name)throw new Kt(Ct.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=Yc(l);throw new Kt(Ct.INVALID_ARGUMENT,`Expected type '${r.name}', but it was: ${c}`)}}return l}class _m{constructor(r){var c;if(void 0===r.host){if(void 0!==r.ssl)throw new Kt(Ct.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=r.host,this.ssl=null===(c=r.ssl)||void 0===c||c;if(this.credentials=r.credentials,this.ignoreUndefinedProperties=!!r.ignoreUndefinedProperties,void 0===r.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==r.cacheSizeBytes&&r.cacheSizeBytes<1048576)throw new Kt(Ct.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=r.cacheSizeBytes}this.experimentalForceLongPolling=!!r.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!r.experimentalAutoDetectLongPolling,this.useFetchStreams=!!r.useFetchStreams,function Du(l,r,c,h){if(!0===r&&!0===h)throw new Kt(Ct.INVALID_ARGUMENT,`${l} and ${c} cannot be used together.`)}("experimentalForceLongPolling",r.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",r.experimentalAutoDetectLongPolling)}isEqual(r){return this.host===r.host&&this.ssl===r.ssl&&this.credentials===r.credentials&&this.cacheSizeBytes===r.cacheSizeBytes&&this.experimentalForceLongPolling===r.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===r.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===r.ignoreUndefinedProperties&&this.useFetchStreams===r.useFetchStreams}}class Pa{constructor(r,c,h){this._authCredentials=c,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _m({}),this._settingsFrozen=!1,r instanceof ea?this._databaseId=r:(this._app=r,this._databaseId=function(m){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new Kt(Ct.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ea(m.options.projectId)}(r))}get app(){if(!this._app)throw new Kt(Ct.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(r){if(this._settingsFrozen)throw new Kt(Ct.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _m(r),void 0!==r.credentials&&(this._authCredentials=function(c){if(!c)return new ic;switch(c.type){case"gapi":const h=c.client;return hr(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new zh(h,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new Kt(Ct.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(r.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const c=Ff.get(r);c&&(nn("ComponentProvider","Removing Datastore"),Ff.delete(r),c.terminate())}(this),Promise.resolve()}}class Ti{constructor(r,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=r}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(r){return new Ti(this.firestore,r,this._key)}}class $o{constructor(r,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=r}withConverter(r){return new $o(this.firestore,r,this._query)}}class Oa extends $o{constructor(r,c,h){super(r,c,Un(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const r=this._path.popLast();return r.isEmpty()?null:new Ti(this.firestore,null,new wn(r))}withConverter(r){return new Oa(this.firestore,r,this._path)}}function $_(l,r,...c){if(l=(0,O.m9)(l),wc("collection","path",r),l instanceof Pa){const h=xr.fromString(r,...c);return Cd(h),new Oa(l,null,h)}{if(!(l instanceof Ti||l instanceof Oa))throw new Kt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child(xr.fromString(r,...c));return Cd(h),new Oa(l.firestore,null,h)}}function Y0(l,r,...c){if(l=(0,O.m9)(l),1===arguments.length&&(r=Ba.R()),wc("doc","path",r),l instanceof Pa){const h=xr.fromString(r,...c);return Ih(h),new Ti(l,null,new wn(h))}{if(!(l instanceof Ti||l instanceof Oa))throw new Kt(Ct.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child(xr.fromString(r,...c));return Ih(h),new Ti(l.firestore,l instanceof Oa?l.converter:null,new wn(h))}}class wd{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new hd(this,"async_queue_retry"),this.Fu=()=>{const c=dd();c&&nn("AsyncQueue","Visibility state changed to "+c.visibilityState),this.vo.To()};const r=dd();r&&"function"==typeof r.addEventListener&&r.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(r){this.enqueue(r)}enqueueAndForgetEvenWhileRestricted(r){this.Bu(),this.Lu(r)}enterRestrictedMode(r){if(!this.xu){this.xu=!0,this.Ou=r||!1;const c=dd();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Fu)}}enqueue(r){if(this.Bu(),this.xu)return new Promise(()=>{});const c=new Li;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(r().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(r){this.enqueueAndForget(()=>(this.Cu.push(r),this.qu()))}qu(){var r=this;return(0,p.Z)(function*(){if(0!==r.Cu.length){try{yield r.Cu[0](),r.Cu.shift(),r.vo.reset()}catch(c){if(!dc(c))throw c;nn("AsyncQueue","Operation failed with retryable error: "+c)}r.Cu.length>0&&r.vo.po(()=>r.qu())}})()}Lu(r){const c=this.Du.then(()=>(this.Mu=!0,r().catch(h=>{throw this.ku=h,this.Mu=!1,si("INTERNAL UNHANDLED ERROR: ",function(b){let D=b.message||"";return b.stack&&(D=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),D}(h)),h}).then(h=>(this.Mu=!1,h))));return this.Du=c,c}enqueueAfterDelay(r,c,h){this.Bu(),this.$u.indexOf(r)>-1&&(c=0);const m=Mf.createAndSchedule(this,r,c,h,b=>this.Uu(b));return this.Nu.push(m),m}Bu(){this.ku&&Fn()}verifyOperationInProgress(){}Ku(){var r=this;return(0,p.Z)(function*(){let c;do{c=r.Du,yield c}while(c!==r.Du)})()}Gu(r){for(const c of this.Nu)if(c.timerId===r)return!0;return!1}Qu(r){return this.Ku().then(()=>{this.Nu.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this.Nu)if(c.skipDelay(),"all"!==r&&c.timerId===r)break;return this.Ku()})}ju(r){this.$u.push(r)}Uu(r){const c=this.Nu.indexOf(r);this.Nu.splice(c,1)}}function Up(l){return function(r,c){if("object"!=typeof r||null===r)return!1;const h=r;for(const m of["next","error","complete"])if(m in h&&"function"==typeof h[m])return!0;return!1}(l)}class Xi extends Pa{constructor(r,c,h){super(r,c,h),this.type="firestore",this._queue=new wd,this._persistenceKey="name"in r?r.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||jp(this),this._firestoreClient.terminate()}}function J_(l=(0,e.getApp)()){return(0,e._getProvider)(l,"firestore").getImmediate()}function lo(l){return l._firestoreClient||jp(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function jp(l){var r;const c=l._freezeSettings(),h=(b=(null===(r=l._app)||void 0===r?void 0:r.options.appId)||"",new cl(l._databaseId,b,l._persistenceKey,(k=c).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var b,k;l._firestoreClient=new ca(l._authCredentials,l._appCheckCredentials,l._queue,h)}class Mh{constructor(...r){for(let c=0;c<r.length;++c)if(0===r[c].length)throw new Kt(Ct.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new dn(r)}isEqual(r){return this._internalPath.isEqual(r._internalPath)}}class Su{constructor(r){this._byteString=r}static fromBase64String(r){try{return new Su(_i.fromBase64String(r))}catch(c){throw new Kt(Ct.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(r){return new Su(_i.fromUint8Array(r))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(r){return this._byteString.isEqual(r._byteString)}}class Cm{constructor(r){this._methodName=r}}class Gp{constructor(r,c){if(!isFinite(r)||r<-90||r>90)throw new Kt(Ct.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+r);if(!isFinite(c)||c<-180||c>180)throw new Kt(Ct.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=r,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(r){return this._lat===r._lat&&this._long===r._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(r){return Rr(this._lat,r._lat)||Rr(this._long,r._long)}}const Q_=/^__.*__$/;class wm{constructor(r,c,h){this.data=r,this.fieldMask=c,this.fieldTransforms=h}toMutation(r,c){return null!==this.fieldMask?new Ki(r,this.data,this.fieldMask,c,this.fieldTransforms):new gl(r,this.data,c,this.fieldTransforms)}}class nv{constructor(r,c,h){this.data=r,this.fieldMask=c,this.fieldTransforms=h}toMutation(r,c){return new Ki(r,this.data,this.fieldMask,c,this.fieldTransforms)}}function Hp(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Fn()}}class qp{constructor(r,c,h,m,b,D){this.settings=r,this.databaseId=c,this.M=h,this.ignoreUndefinedProperties=m,void 0===b&&this.Wu(),this.fieldTransforms=b||[],this.fieldMask=D||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(r){return new qp(Object.assign(Object.assign({},this.settings),r),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(r){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(r),m=this.Hu({path:h,Yu:!1});return m.Xu(r),m}Zu(r){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(r),m=this.Hu({path:h,Yu:!1});return m.Wu(),m}tc(r){return this.Hu({path:void 0,Yu:!0})}ec(r){return Rh(r,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(r){return void 0!==this.fieldMask.find(c=>r.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>r.isPrefixOf(c.field))}Wu(){if(this.path)for(let r=0;r<this.path.length;r++)this.Xu(this.path.get(r))}Xu(r){if(0===r.length)throw this.ec("Document fields must not be empty");if(Hp(this.zu)&&Q_.test(r))throw this.ec('Document fields cannot begin and end with "__"')}}class Ty{constructor(r,c,h){this.databaseId=r,this.ignoreUndefinedProperties=c,this.M=h||Il(r)}ic(r,c,h,m=!1){return new qp({zu:r,methodName:c,sc:h,path:dn.emptyPath(),Yu:!1,nc:m},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Qc(l){const r=l._freezeSettings(),c=Il(l._databaseId);return new Ty(l._databaseId,!!r.ignoreUndefinedProperties,c)}function Zp(l,r,c,h,m,b={}){const D=l.ic(b.merge||b.mergeFields?2:0,r,c,m);Uf("Data must be an object, but it was:",D,h);const k=Kp(h,D);let $,se;if(b.merge)$=new Ir(D.fieldMask),se=D.fieldTransforms;else if(b.mergeFields){const Re=[];for(const We of b.mergeFields){const bt=Jp(r,We,c);if(!D.contains(bt))throw new Kt(Ct.INVALID_ARGUMENT,`Field '${bt}' is specified in your field mask but missing from your input data.`);n0(Re,bt)||Re.push(bt)}$=new Ir(Re),se=D.fieldTransforms.filter(We=>$.covers(We.field))}else $=null,se=D.fieldTransforms;return new wm(new pr(k),$,se)}class Td extends Cm{_toFieldTransform(r){if(2!==r.zu)throw r.ec(1===r.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return r.fieldMask.push(r.path),null}isEqual(r){return r instanceof Td}}function Ma(l,r){if(Sm(l=(0,O.m9)(l)))return Uf("Unsupported field value:",r,l),Kp(l,r);if(l instanceof Cm)return function(c,h){if(!Hp(h.zu))throw h.ec(`${c._methodName}() can only be used with update() and set()`);if(!h.path)throw h.ec(`${c._methodName}() is not currently supported inside arrays`);const m=c._toFieldTransform(h);m&&h.fieldTransforms.push(m)}(l,r),null;if(void 0===l&&r.ignoreUndefinedProperties)return null;if(r.path&&r.fieldMask.push(r.path),l instanceof Array){if(r.settings.Yu&&4!==r.zu)throw r.ec("Nested arrays are not supported");return function(c,h){const m=[];let b=0;for(const D of c){let k=Ma(D,h.tc(b));null==k&&(k={nullValue:"NULL_VALUE"}),m.push(k),b++}return{arrayValue:{values:m}}}(l,r)}return function(c,h){if(null===(c=(0,O.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return rp(h.M,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const m=To.fromDate(c);return{timestampValue:gi(h.M,m)}}if(c instanceof To){const m=new To(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:gi(h.M,m)}}if(c instanceof Gp)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Su)return{bytesValue:cp(h.M,c._byteString)};if(c instanceof Ti){const m=h.databaseId,b=c.firestore._databaseId;if(!b.isEqual(m))throw h.ec(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${m.projectId}/${m.database}`);return{referenceValue:nf(c.firestore._databaseId||h.databaseId,c._key.path)}}throw h.ec(`Unsupported field value: ${Yc(c)}`)}(l,r)}function Kp(l,r){const c={};return Fu(l)?r.path&&r.path.length>0&&r.fieldMask.push(r.path):oc(l,(h,m)=>{const b=Ma(m,r.Ju(h));null!=b&&(c[h]=b)}),{mapValue:{fields:c}}}function Sm(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof To||l instanceof Gp||l instanceof Su||l instanceof Ti||l instanceof Cm)}function Uf(l,r,c){if(!Sm(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=Yc(c);throw r.ec("an object"===h?l+" a custom object":l+" "+h)}var h}function Jp(l,r,c){if((r=(0,O.m9)(r))instanceof Mh)return r._internalPath;if("string"==typeof r)return Nh(l,r);throw Rh("Field path arguments must be of type string or ",l,!1,void 0,c)}const t0=new RegExp("[~\\*/\\[\\]]");function Nh(l,r,c){if(r.search(t0)>=0)throw Rh(`Invalid field path (${r}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,c);try{return new Mh(...r.split("."))._internalPath}catch(h){throw Rh(`Invalid field path (${r}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,c)}}function Rh(l,r,c,h,m){const b=h&&!h.isEmpty(),D=void 0!==m;let k=`Function ${r}() called with invalid data`;c&&(k+=" (via `toFirestore()`)"),k+=". ";let $="";return(b||D)&&($+=" (found",b&&($+=` in field ${h}`),D&&($+=` in document ${m}`),$+=")"),new Kt(Ct.INVALID_ARGUMENT,k+l+$)}function n0(l,r){return l.some(c=>c.isEqual(r))}class Yp{constructor(r,c,h,m,b){this._firestore=r,this._userDataWriter=c,this._key=h,this._document=m,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new Ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const r=new r0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(r)}return this._userDataWriter.convertValue(this._document.data.value)}}get(r){if(this._document){const c=this._document.data.field(kh("DocumentSnapshot.get",r));if(null!==c)return this._userDataWriter.convertValue(c)}}}class r0 extends Yp{data(){return super.data()}}function kh(l,r){return"string"==typeof r?Nh(l,r):r instanceof Mh?r._internalPath:r._delegate._internalPath}class Ed{constructor(r,c){this.hasPendingWrites=r,this.fromCache=c}isEqual(r){return this.hasPendingWrites===r.hasPendingWrites&&this.fromCache===r.fromCache}}class Lh extends Yp{constructor(r,c,h,m,b,D){super(r,c,h,m,D),this._firestore=r,this._firestoreImpl=r,this.metadata=b}exists(){return super.exists()}data(r={}){if(this._document){if(this._converter){const c=new jf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,r)}return this._userDataWriter.convertValue(this._document.data.value,r.serverTimestamps)}}get(r,c={}){if(this._document){const h=this._document.data.field(kh("DocumentSnapshot.get",r));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class jf extends Lh{data(r={}){return super.data(r)}}class Dd{constructor(r,c,h,m){this._firestore=r,this._userDataWriter=c,this._snapshot=m,this.metadata=new Ed(m.hasPendingWrites,m.fromCache),this.query=h}get docs(){const r=[];return this.forEach(c=>r.push(c)),r}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(r,c){this._snapshot.docs.forEach(h=>{r.call(c,new jf(this._firestore,this._userDataWriter,h.key,h,new Ed(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(r={}){const c=!!r.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new Kt(Ct.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(h,m){if(h._snapshot.oldDocs.isEmpty()){let b=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new jf(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Ed(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:b++}))}{let b=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>m||3!==D.type).map(D=>{const k=new jf(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Ed(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let $=-1,se=-1;return 0!==D.type&&($=b.indexOf(D.doc.key),b=b.delete(D.doc.key)),1!==D.type&&(b=b.add(D.doc),se=b.indexOf(D.doc.key)),{type:xm(D.type),doc:k,oldIndex:$,newIndex:se}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function xm(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Fn()}}function Sd(l,r,c){let h;return h=l?c&&(c.merge||c.mergeFields)?l.toFirestore(r,c):l.toFirestore(r):r,h}class Ay{constructor(r,c){this._firestore=r,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=Qc(r)}set(r,c,h){this._verifyNotCommitted();const m=Vf(r,this._firestore),b=Sd(m.converter,c,h),D=Zp(this._dataReader,"WriteBatch.set",m._key,b,null!==m.converter,h);return this._mutations.push(D.toMutation(m._key,Zi.none())),this}update(r,c,h,...m){this._verifyNotCommitted();const b=Vf(r,this._firestore);let D;return D="string"==typeof(c=(0,O.m9)(c))||c instanceof Mh?function e0(l,r,c,h,m,b){const D=l.ic(1,r,c),k=[Jp(r,h,c)],$=[m];if(b.length%2!=0)throw new Kt(Ct.INVALID_ARGUMENT,`Function ${r}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let bt=0;bt<b.length;bt+=2)k.push(Jp(r,b[bt])),$.push(b[bt+1]);const se=[],Re=pr.empty();for(let bt=k.length-1;bt>=0;--bt)if(!n0(se,k[bt])){const Bt=k[bt];let Jt=$[bt];Jt=(0,O.m9)(Jt);const Kn=D.Zu(Bt);if(Jt instanceof Td)se.push(Bt);else{const Nr=Ma(Jt,Kn);null!=Nr&&(se.push(Bt),Re.set(Bt,Nr))}}const We=new Ir(se);return new nv(Re,We,D.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,c,h,m):function X_(l,r,c,h){const m=l.ic(1,r,c);Uf("Data must be an object, but it was:",m,h);const b=[],D=pr.empty();oc(h,($,se)=>{const Re=Nh(r,$,c);se=(0,O.m9)(se);const We=m.Zu(Re);if(se instanceof Td)b.push(Re);else{const bt=Ma(se,We);null!=bt&&(b.push(Re),D.set(Re,bt))}});const k=new Ir(b);return new nv(D,k,m.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,c),this._mutations.push(D.toMutation(b._key,Zi.exists(!0))),this}delete(r){this._verifyNotCommitted();const c=Vf(r,this._firestore);return this._mutations=this._mutations.concat(new jd(c._key,Zi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Kt(Ct.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Vf(l,r){if((l=(0,O.m9)(l)).firestore!==r)throw new Kt(Ct.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class xd extends class av{convertValue(r,c="none"){switch(ac(r)){case 0:return null;case 1:return r.booleanValue;case 2:return vi(r.integerValue||r.doubleValue);case 3:return this.convertTimestamp(r.timestampValue);case 4:return this.convertServerTimestamp(r,c);case 5:return r.stringValue;case 6:return this.convertBytes(Lo(r.bytesValue));case 7:return this.convertReference(r.referenceValue);case 8:return this.convertGeoPoint(r.geoPointValue);case 9:return this.convertArray(r.arrayValue,c);case 10:return this.convertObject(r.mapValue,c);default:throw Fn()}}convertObject(r,c){const h={};return oc(r.fields,(m,b)=>{h[m]=this.convertValue(b,c)}),h}convertGeoPoint(r){return new Gp(vi(r.latitude),vi(r.longitude))}convertArray(r,c){return(r.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(r,c){switch(c){case"previous":const h=sc(r);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(gs(r));default:return null}}convertTimestamp(r){const c=Eo(r);return new To(c.seconds,c.nanos)}convertDocumentKey(r,c){const h=xr.fromString(r);hr(dp(h));const m=new ea(h.get(1),h.get(3)),b=new wn(h.popFirst(5));return m.isEqual(c)||si(`Document ${b} contains a document reference within a different database (${m.projectId}/${m.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),b}}{constructor(r){super(),this.firestore=r}convertBytes(r){return new Su(r)}convertReference(r){const c=this.convertDocumentKey(r,this.firestore._databaseId);return new Ti(this.firestore,null,c)}}function uv(l,r,c){l=ii(l,Ti);const h=ii(l.firestore,Xi),m=Sd(l.converter,r,c);return Qp(h,[Zp(Qc(h),"setDoc",l._key,m,null!==l.converter,c).toMutation(l._key,Zi.none())])}function Tc(l){return Qp(ii(l.firestore,Xi),[new jd(l._key,Zi.none())])}function Ec(l,r){const c=ii(l.firestore,Xi),h=Y0(l),m=Sd(l.converter,r);return Qp(c,[Zp(Qc(l.firestore),"addDoc",h._key,m,null!==l.converter,{}).toMutation(h._key,Zi.exists(!1))]).then(()=>h)}function l0(l,...r){var c,h,m;l=(0,O.m9)(l);let b={includeMetadataChanges:!1},D=0;"object"!=typeof r[D]||Up(r[D])||(b=r[D],D++);const k={includeMetadataChanges:b.includeMetadataChanges};if(Up(r[D])){const We=r[D];r[D]=null===(c=We.next)||void 0===c?void 0:c.bind(We),r[D+1]=null===(h=We.error)||void 0===h?void 0:h.bind(We),r[D+2]=null===(m=We.complete)||void 0===m?void 0:m.bind(We)}let $,se,Re;if(l instanceof Ti)se=ii(l.firestore,Xi),Re=Un(l._key.path),$={next:We=>{r[D]&&r[D](function Nm(l,r,c){const h=c.docs.get(r._key),m=new xd(l);return new Lh(l,m,r._key,h,new Ed(c.hasPendingWrites,c.fromCache),r.converter)}(se,l,We))},error:r[D+1],complete:r[D+2]};else{const We=ii(l,$o);se=ii(We.firestore,Xi),Re=We._query;const bt=new xd(se);$={next:Bt=>{r[D]&&r[D](new Dd(se,bt,We,Bt))},error:r[D+1],complete:r[D+2]},function Im(l){if(so(l)&&0===l.explicitOrderBy.length)throw new Kt(Ct.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(We,bt,Bt,Jt){const Kn=new Fp(Jt),Nr=new mh(bt,Kn,Bt);return We.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function nm(l,r){return Sp.apply(this,arguments)}(yield Cc(We),Nr)})),()=>{Kn.mu(),We.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function xp(l,r){return Ap.apply(this,arguments)}(yield Cc(We),Nr)}))}}(lo(se),Re,k,$)}function Qp(l,r){return function(c,h){const m=new Li;return c.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function R_(l,r,c){return Cu.apply(this,arguments)}(yield function Tu(l){return bc(l).then(r=>r.syncEngine)}(c),h,m)})),m.promise}(lo(l),r)}function d0(l){return lo(l=ii(l,Xi)),new Ay(l,r=>Qp(l,r))}!function(l,r=!0){Wo=e.SDK_VERSION,(0,e._registerComponent)(new E.wA("firestore",(c,{options:h})=>{const m=c.getProvider("app").getImmediate(),b=new Xi(m,new Nd(c.getProvider("auth-internal")),new Os(c.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:r},h),b._setSettings(h),b},"PUBLIC")),(0,e.registerVersion)(Lc,"3.4.6",l),(0,e.registerVersion)(Lc,"3.4.6","esm2017")}()},5199:(lt,x,P)=>{lt=P.nmd(lt);var e="__lodash_hash_undefined__",O=9007199254740991,H="[object Arguments]",he="[object Function]",ge="[object Object]",Pt=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,kt={};kt["[object Float32Array]"]=kt["[object Float64Array]"]=kt["[object Int8Array]"]=kt["[object Int16Array]"]=kt["[object Int32Array]"]=kt["[object Uint8Array]"]=kt["[object Uint8ClampedArray]"]=kt["[object Uint16Array]"]=kt["[object Uint32Array]"]=!0,kt[H]=kt["[object Array]"]=kt["[object ArrayBuffer]"]=kt["[object Boolean]"]=kt["[object DataView]"]=kt["[object Date]"]=kt["[object Error]"]=kt[he]=kt["[object Map]"]=kt["[object Number]"]=kt[ge]=kt["[object RegExp]"]=kt["[object Set]"]=kt["[object String]"]=kt["[object WeakMap]"]=!1;var vn="object"==typeof global&&global&&global.Object===Object&&global,lr="object"==typeof self&&self&&self.Object===Object&&self,Vn=vn||lr||Function("return this")(),wr=x&&!x.nodeType&&x,ur=wr&&lt&&!lt.nodeType&&lt,sr=ur&&ur.exports===wr,Jr=sr&&vn.process,_r=function(){try{return ur&&ur.require&&ur.require("util").types||Jr&&Jr.binding&&Jr.binding("util")}catch(Se){}}(),Ar=_r&&_r.isTypedArray;function Ii(Y,Se,Le){switch(Le.length){case 0:return Y.call(Se);case 1:return Y.call(Se,Le[0]);case 2:return Y.call(Se,Le[0],Le[1]);case 3:return Y.call(Se,Le[0],Le[1],Le[2])}return Y.apply(Se,Le)}var Y,An=Array.prototype,Yr=Object.prototype,Qr=Vn["__core-js_shared__"],je=Function.prototype.toString,ct=Yr.hasOwnProperty,Oe=(Y=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",oe=Yr.toString,fe=je.call(Object),Je=RegExp("^"+je.call(ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qe=sr?Vn.Buffer:void 0,ht=Vn.Symbol,St=Vn.Uint8Array,Xt=Qe?Qe.allocUnsafe:void 0,jt=function Ni(Y,Se){return function(Le){return Y(Se(Le))}}(Object.getPrototypeOf,Object),Qt=Object.create,Mn=Yr.propertyIsEnumerable,Tn=An.splice,qn=ht?ht.toStringTag:void 0,Mt=function(){try{var Y=Br(Object,"defineProperty");return Y({},"",{}),Y}catch(Se){}}(),Zn=Qe?Qe.isBuffer:void 0,xn=Math.max,Ot=Date.now,it=Br(Vn,"Map"),Wt=Br(Object,"create"),rn=function(){function Y(){}return function(Se){if(!De(Se))return{};if(Qt)return Qt(Se);Y.prototype=Se;var Le=new Y;return Y.prototype=void 0,Le}}();function Ln(Y){var Se=-1,Le=null==Y?0:Y.length;for(this.clear();++Se<Le;){var mt=Y[Se];this.set(mt[0],mt[1])}}function Ve(Y){var Se=-1,Le=null==Y?0:Y.length;for(this.clear();++Se<Le;){var mt=Y[Se];this.set(mt[0],mt[1])}}function dr(Y){var Se=-1,Le=null==Y?0:Y.length;for(this.clear();++Se<Le;){var mt=Y[Se];this.set(mt[0],mt[1])}}function ln(Y){var Se=this.__data__=new Ve(Y);this.size=Se.size}function en(Y,Se,Le){(void 0!==Le&&!jo(Y[Se],Le)||void 0===Le&&!(Se in Y))&&fn(Y,Se,Le)}function hn(Y,Se,Le){var mt=Y[Se];(!ct.call(Y,Se)||!jo(mt,Le)||void 0===Le&&!(Se in Y))&&fn(Y,Se,Le)}function an(Y,Se){for(var Le=Y.length;Le--;)if(jo(Y[Le][0],Se))return Le;return-1}function fn(Y,Se,Le){"__proto__"==Se&&Mt?Mt(Y,Se,{configurable:!0,enumerable:!0,value:Le,writable:!0}):Y[Se]=Le}Ln.prototype.clear=function Nn(){this.__data__=Wt?Wt(null):{},this.size=0},Ln.prototype.delete=function Ee(Y){var Se=this.has(Y)&&delete this.__data__[Y];return this.size-=Se?1:0,Se},Ln.prototype.get=function be(Y){var Se=this.__data__;if(Wt){var Le=Se[Y];return Le===e?void 0:Le}return ct.call(Se,Y)?Se[Y]:void 0},Ln.prototype.has=function Ce(Y){var Se=this.__data__;return Wt?void 0!==Se[Y]:ct.call(Se,Y)},Ln.prototype.set=function tt(Y,Se){var Le=this.__data__;return this.size+=this.has(Y)?0:1,Le[Y]=Wt&&void 0===Se?e:Se,this},Ve.prototype.clear=function Ht(){this.__data__=[],this.size=0},Ve.prototype.delete=function Rn(Y){var Se=this.__data__,Le=an(Se,Y);return!(Le<0||(Le==Se.length-1?Se.pop():Tn.call(Se,Le,1),--this.size,0))},Ve.prototype.get=function gn(Y){var Se=this.__data__,Le=an(Se,Y);return Le<0?void 0:Se[Le][1]},Ve.prototype.has=function Hn(Y){return an(this.__data__,Y)>-1},Ve.prototype.set=function Yn(Y,Se){var Le=this.__data__,mt=an(Le,Y);return mt<0?(++this.size,Le.push([Y,Se])):Le[mt][1]=Se,this},dr.prototype.clear=function _n(){this.size=0,this.__data__={hash:new Ln,map:new(it||Ve),string:new Ln}},dr.prototype.delete=function kn(Y){var Se=fr(this,Y).delete(Y);return this.size-=Se?1:0,Se},dr.prototype.get=function mn(Y){return fr(this,Y).get(Y)},dr.prototype.has=function He(Y){return fr(this,Y).has(Y)},dr.prototype.set=function dt(Y,Se){var Le=fr(this,Y),mt=Le.size;return Le.set(Y,Se),this.size+=Le.size==mt?0:1,this},ln.prototype.clear=function yn(){this.__data__=new Ve,this.size=0},ln.prototype.delete=function on(Y){var Se=this.__data__,Le=Se.delete(Y);return this.size=Se.size,Le},ln.prototype.get=function Yt(Y){return this.__data__.get(Y)},ln.prototype.has=function $t(Y){return this.__data__.has(Y)},ln.prototype.set=function $e(Y,Se){var Le=this.__data__;if(Le instanceof Ve){var mt=Le.__data__;if(!it||mt.length<199)return mt.push([Y,Se]),this.size=++Le.size,this;Le=this.__data__=new dr(mt)}return Le.set(Y,Se),this.size=Le.size,this};var $n=function Gt(Y){return function(Se,Le,mt){for(var tn=-1,En=Object(Se),bn=mt(Se),In=bn.length;In--;){var cr=bn[Y?In:++tn];if(!1===Le(En[cr],cr,En))break}return Se}}();function un(Y){return null==Y?void 0===Y?"[object Undefined]":"[object Null]":qn&&qn in Object(Y)?function mr(Y){var Se=ct.call(Y,qn),Le=Y[qn];try{Y[qn]=void 0;var mt=!0}catch(En){}var tn=oe.call(Y);return mt&&(Se?Y[qn]=Le:delete Y[qn]),tn}(Y):function no(Y){return oe.call(Y)}(Y)}function Gn(Y){return ae(Y)&&un(Y)==H}function ri(Y,Se,Le,mt,tn){Y!==Se&&$n(Se,function(En,bn){if(tn||(tn=new ln),De(En))!function eo(Y,Se,Le,mt,tn,En,bn){var In=Qo(Y,Le),cr=Qo(Se,Le),zr=bn.get(cr);if(zr)en(Y,Le,zr);else{var Fr=En?En(In,cr,Le+"",Y,Se,bn):void 0,ji=void 0===Fr;if(ji){var Go=es(cr),Ur=!Go&&Co(cr),j=!Go&&!Ur&&V(cr);Fr=cr,Go||Ur||j?es(In)?Fr=In:function go(Y){return ae(Y)&&Ro(Y)}(In)?Fr=function Ue(Y,Se){var Le=-1,mt=Y.length;for(Se||(Se=Array(mt));++Le<mt;)Se[Le]=Y[Le];return Se}(In):Ur?(ji=!1,Fr=function Qi(Y,Se){if(Se)return Y.slice();var Le=Y.length,mt=Xt?Xt(Le):new Y.constructor(Le);return Y.copy(mt),mt}(cr,!0)):j?(ji=!1,Fr=function Xe(Y,Se){var Le=Se?function Zr(Y){var Se=new Y.constructor(Y.byteLength);return new St(Se).set(new St(Y)),Se}(Y.buffer):Y.buffer;return new Y.constructor(Le,Y.byteOffset,Y.length)}(cr,!0)):Fr=[]:function M(Y){if(!ae(Y)||un(Y)!=ge)return!1;var Se=jt(Y);if(null===Se)return!0;var Le=ct.call(Se,"constructor")&&Se.constructor;return"function"==typeof Le&&Le instanceof Le&&je.call(Le)==fe}(cr)||Vo(cr)?(Fr=In,Vo(In)?Fr=function q(Y){return function pt(Y,Se,Le,mt){var tn=!Le;Le||(Le={});for(var En=-1,bn=Se.length;++En<bn;){var In=Se[En],cr=mt?mt(Le[In],Y[In],In,Le,Y):void 0;void 0===cr&&(cr=Y[In]),tn?fn(Le,In,cr):hn(Le,In,cr)}return Le}(Y,me(Y))}(In):(!De(In)||ui(In))&&(Fr=function mi(Y){return"function"!=typeof Y.constructor||js(Y)?{}:rn(jt(Y))}(cr))):ji=!1}ji&&(bn.set(cr,Fr),tn(Fr,cr,mt,En,bn),bn.delete(cr)),en(Y,Le,Fr)}}(Y,Se,bn,Le,ri,mt,tn);else{var In=mt?mt(Qo(Y,bn),En,bn+"",Y,Se,tn):void 0;void 0===In&&(In=En),en(Y,bn,In)}},me)}function Gr(Y,Se){return Ri(function xs(Y,Se,Le){return Se=xn(void 0===Se?Y.length-1:Se,0),function(){for(var mt=arguments,tn=-1,En=xn(mt.length-Se,0),bn=Array(En);++tn<En;)bn[tn]=mt[Se+tn];tn=-1;for(var In=Array(Se+1);++tn<Se;)In[tn]=mt[tn];return In[Se]=Le(bn),Ii(Y,this,In)}}(Y,Se,Pe),Y+"")}var Lr=Mt?function(Y,Se){return Mt(Y,"toString",{configurable:!0,enumerable:!1,value:ve(Se),writable:!0})}:Pe;function sn(Y,Se,Le,mt,tn,En){return De(Y)&&De(Se)&&(En.set(Se,Y),ri(Y,Se,void 0,sn,En),En.delete(Se)),Y}function fr(Y,Se){var Le=Y.__data__;return function fs(Y){var Se=typeof Y;return"string"==Se||"number"==Se||"symbol"==Se||"boolean"==Se?"__proto__"!==Y:null===Y}(Se)?Le["string"==typeof Se?"string":"hash"]:Le.map}function Br(Y,Se){var Le=function kr(Y,Se){return null==Y?void 0:Y[Se]}(Y,Se);return function Sr(Y){return!(!De(Y)||function $i(Y){return!!Oe&&Oe in Y}(Y))&&(ui(Y)?Je:Pt).test(function ua(Y){if(null!=Y){try{return je.call(Y)}catch(Se){}try{return Y+""}catch(Se){}}return""}(Y))}(Le)?Le:void 0}function No(Y,Se){var Le=typeof Y;return!!(Se=null==Se?O:Se)&&("number"==Le||"symbol"!=Le&&Et.test(Y))&&Y>-1&&Y%1==0&&Y<Se}function js(Y){var Se=Y&&Y.constructor;return Y===("function"==typeof Se&&Se.prototype||Yr)}function Qo(Y,Se){if(("constructor"!==Se||"function"!=typeof Y[Se])&&"__proto__"!=Se)return Y[Se]}var Ri=function Xo(Y){var Se=0,Le=0;return function(){var mt=Ot(),tn=16-(mt-Le);if(Le=mt,tn>0){if(++Se>=800)return arguments[0]}else Se=0;return Y.apply(void 0,arguments)}}(Lr);function jo(Y,Se){return Y===Se||Y!=Y&&Se!=Se}var Vo=Gn(function(){return arguments}())?Gn:function(Y){return ae(Y)&&ct.call(Y,"callee")&&!Mn.call(Y,"callee")},es=Array.isArray;function Ro(Y){return null!=Y&&pe(Y.length)&&!ui(Y)}var Co=Zn||function nt(){return!1};function ui(Y){if(!De(Y))return!1;var Se=un(Y);return Se==he||"[object GeneratorFunction]"==Se||"[object AsyncFunction]"==Se||"[object Proxy]"==Se}function pe(Y){return"number"==typeof Y&&Y>-1&&Y%1==0&&Y<=O}function De(Y){var Se=typeof Y;return null!=Y&&("object"==Se||"function"==Se)}function ae(Y){return null!=Y&&"object"==typeof Y}var V=Ar?function Vr(Y){return function(Se){return Y(Se)}}(Ar):function nr(Y){return ae(Y)&&pe(Y.length)&&!!kt[un(Y)]},W=Gr(function(Y){return Y.push(void 0,sn),Ii(we,void 0,Y)});function me(Y){return Ro(Y)?function At(Y,Se){var Le=es(Y),mt=!Le&&Vo(Y),tn=!Le&&!mt&&Co(Y),En=!Le&&!mt&&!tn&&V(Y),bn=Le||mt||tn||En,In=bn?function bi(Y,Se){for(var Le=-1,mt=Array(Y);++Le<Y;)mt[Le]=Se(Le);return mt}(Y.length,String):[],cr=In.length;for(var zr in Y)(Se||ct.call(Y,zr))&&(!bn||!("length"==zr||tn&&("offset"==zr||"parent"==zr)||En&&("buffer"==zr||"byteLength"==zr||"byteOffset"==zr)||No(zr,cr)))&&In.push(zr);return In}(Y,!0):function vr(Y){if(!De(Y))return function Vs(Y){var Se=[];if(null!=Y)for(var Le in Object(Y))Se.push(Le);return Se}(Y);var Se=js(Y),Le=[];for(var mt in Y)"constructor"==mt&&(Se||!ct.call(Y,mt))||Le.push(mt);return Le}(Y)}var we=function Rt(Y){return Gr(function(Se,Le){var mt=-1,tn=Le.length,En=tn>1?Le[tn-1]:void 0,bn=tn>2?Le[2]:void 0;for(En=Y.length>3&&"function"==typeof En?(tn--,En):void 0,bn&&function to(Y,Se,Le){if(!De(Le))return!1;var mt=typeof Se;return!!("number"==mt?Ro(Le)&&No(Se,Le.length):"string"==mt&&Se in Le)&&jo(Le[Se],Y)}(Le[0],Le[1],bn)&&(En=tn<3?void 0:En,tn=1),Se=Object(Se);++mt<tn;){var In=Le[mt];In&&Y(Se,In,mt,En)}return Se})}(function(Y,Se,Le,mt){ri(Y,Se,Le,mt)});function ve(Y){return function(){return Y}}function Pe(Y){return Y}lt.exports=W},8306:(lt,x,P)=>{"use strict";P.d(x,{y:()=>K});var p=P(930),e=P(727),E=P(8822),N=P(4671);var J=P(2416),Z=P(576),Q=P(2806);let K=(()=>{class Ye{constructor(gt){gt&&(this._subscribe=gt)}lift(gt){const ge=new Ye;return ge.source=this,ge.operator=gt,ge}subscribe(gt,ge,Be){const Ie=function st(Ye){return Ye&&Ye instanceof p.Lv||function he(Ye){return Ye&&(0,Z.m)(Ye.next)&&(0,Z.m)(Ye.error)&&(0,Z.m)(Ye.complete)}(Ye)&&(0,e.Nn)(Ye)}(gt)?gt:new p.Hp(gt,ge,Be);return(0,Q.x)(()=>{const{operator:ut,source:Ge}=this;Ie.add(ut?ut.call(Ie,Ge):Ge?this._subscribe(Ie):this._trySubscribe(Ie))}),Ie}_trySubscribe(gt){try{return this._subscribe(gt)}catch(ge){gt.error(ge)}}forEach(gt,ge){return new(ge=ie(ge))((Be,Ie)=>{const ut=new p.Hp({next:Ge=>{try{gt(Ge)}catch(et){Ie(et),ut.unsubscribe()}},error:Ie,complete:Be});this.subscribe(ut)})}_subscribe(gt){var ge;return null===(ge=this.source)||void 0===ge?void 0:ge.subscribe(gt)}[E.L](){return this}pipe(...gt){return function H(Ye){return 0===Ye.length?N.y:1===Ye.length?Ye[0]:function(gt){return Ye.reduce((ge,Be)=>Be(ge),gt)}}(gt)(this)}toPromise(gt){return new(gt=ie(gt))((ge,Be)=>{let Ie;this.subscribe(ut=>Ie=ut,ut=>Be(ut),()=>ge(Ie))})}}return Ye.create=ze=>new Ye(ze),Ye})();function ie(Ye){var ze;return null!==(ze=null!=Ye?Ye:J.v.Promise)&&void 0!==ze?ze:Promise}},7579:(lt,x,P)=>{"use strict";P.d(x,{x:()=>J});var p=P(8306),e=P(727);const N=(0,P(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=P(8737),H=P(2806);let J=(()=>{class Q extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const he=new Z(this,this);return he.operator=ie,he}_throwIfClosed(){if(this.closed)throw new N}next(ie){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const he of this.currentObservers)he.next(ie)}})}error(ie){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:he}=this;for(;he.length;)he.shift().error(ie)}})}complete(){(0,H.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:he,isStopped:st,observers:Ye}=this;return he||st?e.Lc:(this.currentObservers=null,Ye.push(ie),new e.w0(()=>{this.currentObservers=null,(0,O.P)(Ye,ie)}))}_checkFinalizedStatuses(ie){const{hasError:he,thrownError:st,isStopped:Ye}=this;he?ie.error(st):Ye&&ie.complete()}asObservable(){const ie=new p.y;return ie.source=this,ie}}return Q.create=(K,ie)=>new Z(K,ie),Q})();class Z extends J{constructor(K,ie){super(),this.destination=K,this.source=ie}next(K){var ie,he;null===(he=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===he||he.call(ie,K)}error(K){var ie,he;null===(he=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===he||he.call(ie,K)}complete(){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ie||ie.call(K)}_subscribe(K){var ie,he;return null!==(he=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(K))&&void 0!==he?he:e.Lc}}},930:(lt,x,P)=>{"use strict";P.d(x,{Hp:()=>gt,Lv:()=>he});var p=P(576),e=P(727),E=P(2416),N=P(7849),O=P(5032);const H=Q("C",void 0,void 0);function Q(Ge,et,Te){return{kind:Ge,value:et,error:Te}}var K=P(3410),ie=P(2806);class he extends e.w0{constructor(et){super(),this.isStopped=!1,et?(this.destination=et,(0,e.Nn)(et)&&et.add(this)):this.destination=ut}static create(et,Te,Ke){return new gt(et,Te,Ke)}next(et){this.isStopped?Ie(function Z(Ge){return Q("N",Ge,void 0)}(et),this):this._next(et)}error(et){this.isStopped?Ie(function J(Ge){return Q("E",void 0,Ge)}(et),this):(this.isStopped=!0,this._error(et))}complete(){this.isStopped?Ie(H,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(et){this.destination.next(et)}_error(et){try{this.destination.error(et)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const st=Function.prototype.bind;function Ye(Ge,et){return st.call(Ge,et)}class ze{constructor(et){this.partialObserver=et}next(et){const{partialObserver:Te}=this;if(Te.next)try{Te.next(et)}catch(Ke){ge(Ke)}}error(et){const{partialObserver:Te}=this;if(Te.error)try{Te.error(et)}catch(Ke){ge(Ke)}else ge(et)}complete(){const{partialObserver:et}=this;if(et.complete)try{et.complete()}catch(Te){ge(Te)}}}class gt extends he{constructor(et,Te,Ke){let ke;if(super(),(0,p.m)(et)||!et)ke={next:null!=et?et:void 0,error:null!=Te?Te:void 0,complete:null!=Ke?Ke:void 0};else{let ot;this&&E.v.useDeprecatedNextContext?(ot=Object.create(et),ot.unsubscribe=()=>this.unsubscribe(),ke={next:et.next&&Ye(et.next,ot),error:et.error&&Ye(et.error,ot),complete:et.complete&&Ye(et.complete,ot)}):ke=et}this.destination=new ze(ke)}}function ge(Ge){E.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Ge):(0,N.h)(Ge)}function Ie(Ge,et){const{onStoppedNotification:Te}=E.v;Te&&K.z.setTimeout(()=>Te(Ge,et))}const ut={closed:!0,next:O.Z,error:function Be(Ge){throw Ge},complete:O.Z}},727:(lt,x,P)=>{"use strict";P.d(x,{Lc:()=>H,w0:()=>O,Nn:()=>J});var p=P(576);const E=(0,P(3888).d)(Q=>function(ie){Q(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((he,st)=>`${st+1}) ${he.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var N=P(8737);class O{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Ye of ie)Ye.remove(this);else ie.remove(this);const{initialTeardown:he}=this;if((0,p.m)(he))try{he()}catch(Ye){K=Ye instanceof E?Ye.errors:[Ye]}const{_finalizers:st}=this;if(st){this._finalizers=null;for(const Ye of st)try{Z(Ye)}catch(ze){K=null!=K?K:[],ze instanceof E?K=[...K,...ze.errors]:K.push(ze)}}if(K)throw new E(K)}}add(K){var ie;if(K&&K!==this)if(this.closed)Z(K);else{if(K instanceof O){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(K)}}_hasParent(K){const{_parentage:ie}=this;return ie===K||Array.isArray(ie)&&ie.includes(K)}_addParent(K){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(K),ie):ie?[ie,K]:K}_removeParent(K){const{_parentage:ie}=this;ie===K?this._parentage=null:Array.isArray(ie)&&(0,N.P)(ie,K)}remove(K){const{_finalizers:ie}=this;ie&&(0,N.P)(ie,K),K instanceof O&&K._removeParent(this)}}O.EMPTY=(()=>{const Q=new O;return Q.closed=!0,Q})();const H=O.EMPTY;function J(Q){return Q instanceof O||Q&&"closed"in Q&&(0,p.m)(Q.remove)&&(0,p.m)(Q.add)&&(0,p.m)(Q.unsubscribe)}function Z(Q){(0,p.m)(Q)?Q():Q.unsubscribe()}},2416:(lt,x,P)=>{"use strict";P.d(x,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(lt,x,P)=>{"use strict";P.d(x,{E:()=>e});const e=new(P(8306).y)(O=>O.complete())},8996:(lt,x,P)=>{"use strict";P.d(x,{D:()=>et});var p=P(8421),e=P(5363),E=P(9468),H=P(8306),Z=P(2202),Q=P(576),K=P(9672);function he(Te,Ke){if(!Te)throw new Error("Iterable cannot be null");return new H.y(ke=>{(0,K.f)(ke,Ke,()=>{const ot=Te[Symbol.asyncIterator]();(0,K.f)(ke,Ke,()=>{ot.next().then(de=>{de.done?ke.complete():ke.next(de.value)})},0,!0)})})}var st=P(3670),Ye=P(8239),ze=P(1144),gt=P(6495),ge=P(2206),Be=P(4532),Ie=P(3260);function et(Te,Ke){return Ke?function Ge(Te,Ke){if(null!=Te){if((0,st.c)(Te))return function N(Te,Ke){return(0,p.Xf)(Te).pipe((0,E.R)(Ke),(0,e.Q)(Ke))}(Te,Ke);if((0,ze.z)(Te))return function J(Te,Ke){return new H.y(ke=>{let ot=0;return Ke.schedule(function(){ot===Te.length?ke.complete():(ke.next(Te[ot++]),ke.closed||this.schedule())})})}(Te,Ke);if((0,Ye.t)(Te))return function O(Te,Ke){return(0,p.Xf)(Te).pipe((0,E.R)(Ke),(0,e.Q)(Ke))}(Te,Ke);if((0,ge.D)(Te))return he(Te,Ke);if((0,gt.T)(Te))return function ie(Te,Ke){return new H.y(ke=>{let ot;return(0,K.f)(ke,Ke,()=>{ot=Te[Z.h](),(0,K.f)(ke,Ke,()=>{let de,ue;try{({value:de,done:ue}=ot.next())}catch(X){return void ke.error(X)}ue?ke.complete():ke.next(de)},0,!0)}),()=>(0,Q.m)(null==ot?void 0:ot.return)&&ot.return()})}(Te,Ke);if((0,Ie.L)(Te))return function ut(Te,Ke){return he((0,Ie.Q)(Te),Ke)}(Te,Ke)}throw(0,Be.z)(Te)}(Te,Ke):(0,p.Xf)(Te)}},8421:(lt,x,P)=>{"use strict";P.d(x,{Xf:()=>st});var p=P(655),e=P(1144),E=P(8239),N=P(8306),O=P(3670),H=P(2206),J=P(4532),Z=P(6495),Q=P(3260),K=P(576),ie=P(7849),he=P(8822);function st(Ge){if(Ge instanceof N.y)return Ge;if(null!=Ge){if((0,O.c)(Ge))return function Ye(Ge){return new N.y(et=>{const Te=Ge[he.L]();if((0,K.m)(Te.subscribe))return Te.subscribe(et);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ge);if((0,e.z)(Ge))return function ze(Ge){return new N.y(et=>{for(let Te=0;Te<Ge.length&&!et.closed;Te++)et.next(Ge[Te]);et.complete()})}(Ge);if((0,E.t)(Ge))return function gt(Ge){return new N.y(et=>{Ge.then(Te=>{et.closed||(et.next(Te),et.complete())},Te=>et.error(Te)).then(null,ie.h)})}(Ge);if((0,H.D)(Ge))return Be(Ge);if((0,Z.T)(Ge))return function ge(Ge){return new N.y(et=>{for(const Te of Ge)if(et.next(Te),et.closed)return;et.complete()})}(Ge);if((0,Q.L)(Ge))return function Ie(Ge){return Be((0,Q.Q)(Ge))}(Ge)}throw(0,J.z)(Ge)}function Be(Ge){return new N.y(et=>{(function ut(Ge,et){var Te,Ke,ke,ot;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Te=(0,p.KL)(Ge);!(Ke=yield Te.next()).done;)if(et.next(Ke.value),et.closed)return}catch(de){ke={error:de}}finally{try{Ke&&!Ke.done&&(ot=Te.return)&&(yield ot.call(Te))}finally{if(ke)throw ke.error}}et.complete()})})(Ge,et).catch(Te=>et.error(Te))})}},6451:(lt,x,P)=>{"use strict";P.d(x,{T:()=>H});var p=P(8189),e=P(8421),E=P(515),N=P(3269),O=P(8996);function H(...J){const Z=(0,N.yG)(J),Q=(0,N._6)(J,1/0),K=J;return K.length?1===K.length?(0,e.Xf)(K[0]):(0,p.J)(Q)((0,O.D)(K,Z)):E.E}},9646:(lt,x,P)=>{"use strict";P.d(x,{of:()=>E});var p=P(3269),e=P(8996);function E(...N){const O=(0,p.yG)(N);return(0,e.D)(N,O)}},5403:(lt,x,P)=>{"use strict";P.d(x,{x:()=>e});var p=P(930);function e(N,O,H,J,Z){return new E(N,O,H,J,Z)}class E extends p.Lv{constructor(O,H,J,Z,Q,K){super(O),this.onFinalize=Q,this.shouldUnsubscribe=K,this._next=H?function(ie){try{H(ie)}catch(he){O.error(he)}}:super._next,this._error=Z?function(ie){try{Z(ie)}catch(he){O.error(he)}finally{this.unsubscribe()}}:super._error,this._complete=J?function(){try{J()}catch(ie){O.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:H}=this;super.unsubscribe(),!H&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},4351:(lt,x,P)=>{"use strict";P.d(x,{b:()=>E});var p=P(5577),e=P(576);function E(N,O){return(0,e.m)(O)?(0,p.z)(N,O,1):(0,p.z)(N,1)}},9300:(lt,x,P)=>{"use strict";P.d(x,{h:()=>E});var p=P(4482),e=P(5403);function E(N,O){return(0,p.e)((H,J)=>{let Z=0;H.subscribe((0,e.x)(J,Q=>N.call(O,Q,Z++)&&J.next(Q)))})}},4004:(lt,x,P)=>{"use strict";P.d(x,{U:()=>E});var p=P(4482),e=P(5403);function E(N,O){return(0,p.e)((H,J)=>{let Z=0;H.subscribe((0,e.x)(J,Q=>{J.next(N.call(O,Q,Z++))}))})}},8189:(lt,x,P)=>{"use strict";P.d(x,{J:()=>E});var p=P(5577),e=P(4671);function E(N=1/0){return(0,p.z)(e.y,N)}},5577:(lt,x,P)=>{"use strict";P.d(x,{z:()=>Z});var p=P(4004),e=P(8421),E=P(4482),N=P(9672),O=P(5403),J=P(576);function Z(Q,K,ie=1/0){return(0,J.m)(K)?Z((he,st)=>(0,p.U)((Ye,ze)=>K(he,Ye,st,ze))((0,e.Xf)(Q(he,st))),ie):("number"==typeof K&&(ie=K),(0,E.e)((he,st)=>function H(Q,K,ie,he,st,Ye,ze,gt){const ge=[];let Be=0,Ie=0,ut=!1;const Ge=()=>{ut&&!ge.length&&!Be&&K.complete()},et=Ke=>Be<he?Te(Ke):ge.push(Ke),Te=Ke=>{Ye&&K.next(Ke),Be++;let ke=!1;(0,e.Xf)(ie(Ke,Ie++)).subscribe((0,O.x)(K,ot=>{null==st||st(ot),Ye?et(ot):K.next(ot)},()=>{ke=!0},void 0,()=>{if(ke)try{for(Be--;ge.length&&Be<he;){const ot=ge.shift();ze?(0,N.f)(K,ze,()=>Te(ot)):Te(ot)}Ge()}catch(ot){K.error(ot)}}))};return Q.subscribe((0,O.x)(K,et,()=>{ut=!0,Ge()})),()=>{null==gt||gt()}}(he,st,Q,ie)))}},5363:(lt,x,P)=>{"use strict";P.d(x,{Q:()=>N});var p=P(9672),e=P(4482),E=P(5403);function N(O,H=0){return(0,e.e)((J,Z)=>{J.subscribe((0,E.x)(Z,Q=>(0,p.f)(Z,O,()=>Z.next(Q),H),()=>(0,p.f)(Z,O,()=>Z.complete(),H),Q=>(0,p.f)(Z,O,()=>Z.error(Q),H)))})}},3099:(lt,x,P)=>{"use strict";P.d(x,{B:()=>H});var p=P(8996),e=P(5698),E=P(7579),N=P(930),O=P(4482);function H(Z={}){const{connector:Q=(()=>new E.x),resetOnError:K=!0,resetOnComplete:ie=!0,resetOnRefCountZero:he=!0}=Z;return st=>{let Ye=null,ze=null,gt=null,ge=0,Be=!1,Ie=!1;const ut=()=>{null==ze||ze.unsubscribe(),ze=null},Ge=()=>{ut(),Ye=gt=null,Be=Ie=!1},et=()=>{const Te=Ye;Ge(),null==Te||Te.unsubscribe()};return(0,O.e)((Te,Ke)=>{ge++,!Ie&&!Be&&ut();const ke=gt=null!=gt?gt:Q();Ke.add(()=>{ge--,0===ge&&!Ie&&!Be&&(ze=J(et,he))}),ke.subscribe(Ke),Ye||(Ye=new N.Hp({next:ot=>ke.next(ot),error:ot=>{Ie=!0,ut(),ze=J(Ge,K,ot),ke.error(ot)},complete:()=>{Be=!0,ut(),ze=J(Ge,ie),ke.complete()}}),(0,p.D)(Te).subscribe(Ye))})(st)}}function J(Z,Q,...K){return!0===Q?(Z(),null):!1===Q?null:Q(...K).pipe((0,e.q)(1)).subscribe(()=>Z())}},9468:(lt,x,P)=>{"use strict";P.d(x,{R:()=>e});var p=P(4482);function e(E,N=0){return(0,p.e)((O,H)=>{H.add(E.schedule(()=>O.subscribe(H),N))})}},5698:(lt,x,P)=>{"use strict";P.d(x,{q:()=>N});var p=P(515),e=P(4482),E=P(5403);function N(O){return O<=0?()=>p.E:(0,e.e)((H,J)=>{let Z=0;H.subscribe((0,E.x)(J,Q=>{++Z<=O&&(J.next(Q),O<=Z&&J.complete())}))})}},8505:(lt,x,P)=>{"use strict";P.d(x,{b:()=>O});var p=P(576),e=P(4482),E=P(5403),N=P(4671);function O(H,J,Z){const Q=(0,p.m)(H)||J||Z?{next:H,error:J,complete:Z}:H;return Q?(0,e.e)((K,ie)=>{var he;null===(he=Q.subscribe)||void 0===he||he.call(Q);let st=!0;K.subscribe((0,E.x)(ie,Ye=>{var ze;null===(ze=Q.next)||void 0===ze||ze.call(Q,Ye),ie.next(Ye)},()=>{var Ye;st=!1,null===(Ye=Q.complete)||void 0===Ye||Ye.call(Q),ie.complete()},Ye=>{var ze;st=!1,null===(ze=Q.error)||void 0===ze||ze.call(Q,Ye),ie.error(Ye)},()=>{var Ye,ze;st&&(null===(Ye=Q.unsubscribe)||void 0===Ye||Ye.call(Q)),null===(ze=Q.finalize)||void 0===ze||ze.call(Q)}))}):N.y}},4408:(lt,x,P)=>{"use strict";P.d(x,{o:()=>O});var p=P(727);class e extends p.w0{constructor(J,Z){super()}schedule(J,Z=0){return this}}const E={setInterval(H,J,...Z){const{delegate:Q}=E;return(null==Q?void 0:Q.setInterval)?Q.setInterval(H,J,...Z):setInterval(H,J,...Z)},clearInterval(H){const{delegate:J}=E;return((null==J?void 0:J.clearInterval)||clearInterval)(H)},delegate:void 0};var N=P(8737);class O extends e{constructor(J,Z){super(J,Z),this.scheduler=J,this.work=Z,this.pending=!1}schedule(J,Z=0){if(this.closed)return this;this.state=J;const Q=this.id,K=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(K,Q,Z)),this.pending=!0,this.delay=Z,this.id=this.id||this.requestAsyncId(K,this.id,Z),this}requestAsyncId(J,Z,Q=0){return E.setInterval(J.flush.bind(J,this),Q)}recycleAsyncId(J,Z,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return Z;E.clearInterval(Z)}execute(J,Z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(J,Z);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(J,Z){let K,Q=!1;try{this.work(J)}catch(ie){Q=!0,K=ie||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:J,scheduler:Z}=this,{actions:Q}=Z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(Q,this),null!=J&&(this.id=this.recycleAsyncId(Z,J,null)),this.delay=null,super.unsubscribe()}}}},7565:(lt,x,P)=>{"use strict";P.d(x,{v:()=>E});var p=P(6063);class e{constructor(O,H=e.now){this.schedulerActionCtor=O,this.now=H}schedule(O,H=0,J){return new this.schedulerActionCtor(this,O).schedule(J,H)}}e.now=p.l.now;class E extends e{constructor(O,H=e.now){super(O,H),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:H}=this;if(this._active)return void H.push(O);let J;this._active=!0;do{if(J=O.execute(O.state,O.delay))break}while(O=H.shift());if(this._active=!1,J){for(;O=H.shift();)O.unsubscribe();throw J}}}},4986:(lt,x,P)=>{"use strict";P.d(x,{P:()=>N,z:()=>E});var p=P(4408);const E=new(P(7565).v)(p.o),N=E},6063:(lt,x,P)=>{"use strict";P.d(x,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(lt,x,P)=>{"use strict";P.d(x,{z:()=>p});const p={setTimeout(e,E,...N){const{delegate:O}=p;return(null==O?void 0:O.setTimeout)?O.setTimeout(e,E,...N):setTimeout(e,E,...N)},clearTimeout(e){const{delegate:E}=p;return((null==E?void 0:E.clearTimeout)||clearTimeout)(e)},delegate:void 0}},2202:(lt,x,P)=>{"use strict";P.d(x,{h:()=>e});const e=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(lt,x,P)=>{"use strict";P.d(x,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(lt,x,P)=>{"use strict";P.d(x,{_6:()=>H,jO:()=>N,yG:()=>O});var p=P(576),e=P(3532);function E(J){return J[J.length-1]}function N(J){return(0,p.m)(E(J))?J.pop():void 0}function O(J){return(0,e.K)(E(J))?J.pop():void 0}function H(J,Z){return"number"==typeof E(J)?J.pop():Z}},8737:(lt,x,P)=>{"use strict";function p(e,E){if(e){const N=e.indexOf(E);0<=N&&e.splice(N,1)}}P.d(x,{P:()=>p})},3888:(lt,x,P)=>{"use strict";function p(e){const N=e(O=>{Error.call(O),O.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}P.d(x,{d:()=>p})},2806:(lt,x,P)=>{"use strict";P.d(x,{O:()=>N,x:()=>E});var p=P(2416);let e=null;function E(O){if(p.v.useDeprecatedSynchronousErrorHandling){const H=!e;if(H&&(e={errorThrown:!1,error:null}),O(),H){const{errorThrown:J,error:Z}=e;if(e=null,J)throw Z}}else O()}function N(O){p.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=O)}},9672:(lt,x,P)=>{"use strict";function p(e,E,N,O=0,H=!1){const J=E.schedule(function(){N(),H?e.add(this.schedule(null,O)):this.unsubscribe()},O);if(e.add(J),!H)return J}P.d(x,{f:()=>p})},4671:(lt,x,P)=>{"use strict";function p(e){return e}P.d(x,{y:()=>p})},1144:(lt,x,P)=>{"use strict";P.d(x,{z:()=>p});const p=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(lt,x,P)=>{"use strict";P.d(x,{D:()=>e});var p=P(576);function e(E){return Symbol.asyncIterator&&(0,p.m)(null==E?void 0:E[Symbol.asyncIterator])}},576:(lt,x,P)=>{"use strict";function p(e){return"function"==typeof e}P.d(x,{m:()=>p})},3670:(lt,x,P)=>{"use strict";P.d(x,{c:()=>E});var p=P(8822),e=P(576);function E(N){return(0,e.m)(N[p.L])}},6495:(lt,x,P)=>{"use strict";P.d(x,{T:()=>E});var p=P(2202),e=P(576);function E(N){return(0,e.m)(null==N?void 0:N[p.h])}},8239:(lt,x,P)=>{"use strict";P.d(x,{t:()=>e});var p=P(576);function e(E){return(0,p.m)(null==E?void 0:E.then)}},3260:(lt,x,P)=>{"use strict";P.d(x,{L:()=>N,Q:()=>E});var p=P(655),e=P(576);function E(O){return(0,p.FC)(this,arguments,function*(){const J=O.getReader();try{for(;;){const{value:Z,done:Q}=yield(0,p.qq)(J.read());if(Q)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Z)}}finally{J.releaseLock()}})}function N(O){return(0,e.m)(null==O?void 0:O.getReader)}},3532:(lt,x,P)=>{"use strict";P.d(x,{K:()=>e});var p=P(576);function e(E){return E&&(0,p.m)(E.schedule)}},4482:(lt,x,P)=>{"use strict";P.d(x,{A:()=>e,e:()=>E});var p=P(576);function e(N){return(0,p.m)(null==N?void 0:N.lift)}function E(N){return O=>{if(e(O))return O.lift(function(H){try{return N(H,this)}catch(J){this.error(J)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(lt,x,P)=>{"use strict";function p(){}P.d(x,{Z:()=>p})},7849:(lt,x,P)=>{"use strict";P.d(x,{h:()=>E});var p=P(2416),e=P(3410);function E(N){e.z.setTimeout(()=>{const{onUnhandledError:O}=p.v;if(!O)throw N;O(N)})}},4532:(lt,x,P)=>{"use strict";function p(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}P.d(x,{z:()=>p})},8583:()=>{"use strict";!function(je){const ct=je.performance;function Oe(kn){ct&&ct.mark&&ct.mark(kn)}function oe(kn,mn){ct&&ct.measure&&ct.measure(kn,mn)}Oe("Zone");const fe=je.__Zone_symbol_prefix||"__zone_symbol__";function Je(kn){return fe+kn}const Qe=!0===je[Je("forceDuplicateZoneCheck")];if(je.Zone){if(Qe||"function"!=typeof je.Zone.__symbol__)throw new Error("Zone already loaded.");return je.Zone}let ht=(()=>{class kn{constructor(He,dt){this._parent=He,this._name=dt?dt.name||"unnamed":"<root>",this._properties=dt&&dt.properties||{},this._zoneDelegate=new Xt(this,this._parent&&this._parent._zoneDelegate,dt)}static assertZonePatched(){if(je.Promise!==Rn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let He=kn.current;for(;He.parent;)He=He.parent;return He}static get current(){return Hn.zone}static get currentTask(){return Yn}static __load_patch(He,dt,ln=!1){if(Rn.hasOwnProperty(He)){if(!ln&&Qe)throw Error("Already loaded patch: "+He)}else if(!je["__Zone_disable_"+He]){const yn="Zone:"+He;Oe(yn),Rn[He]=dt(je,kn,gn),oe(yn,yn)}}get parent(){return this._parent}get name(){return this._name}get(He){const dt=this.getZoneWith(He);if(dt)return dt._properties[He]}getZoneWith(He){let dt=this;for(;dt;){if(dt._properties.hasOwnProperty(He))return dt;dt=dt._parent}return null}fork(He){if(!He)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,He)}wrap(He,dt){if("function"!=typeof He)throw new Error("Expecting function got: "+He);const ln=this._zoneDelegate.intercept(this,He,dt),yn=this;return function(){return yn.runGuarded(ln,this,arguments,dt)}}run(He,dt,ln,yn){Hn={parent:Hn,zone:this};try{return this._zoneDelegate.invoke(this,He,dt,ln,yn)}finally{Hn=Hn.parent}}runGuarded(He,dt=null,ln,yn){Hn={parent:Hn,zone:this};try{try{return this._zoneDelegate.invoke(this,He,dt,ln,yn)}catch(on){if(this._zoneDelegate.handleError(this,on))throw on}}finally{Hn=Hn.parent}}runTask(He,dt,ln){if(He.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(He.zone||Wt).name+"; Execution: "+this.name+")");if(He.state===rn&&(He.type===Ht||He.type===Ve))return;const yn=He.state!=Ee;yn&&He._transitionTo(Ee,Nn),He.runCount++;const on=Yn;Yn=He,Hn={parent:Hn,zone:this};try{He.type==Ve&&He.data&&!He.data.isPeriodic&&(He.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,He,dt,ln)}catch(Yt){if(this._zoneDelegate.handleError(this,Yt))throw Yt}}finally{He.state!==rn&&He.state!==Ce&&(He.type==Ht||He.data&&He.data.isPeriodic?yn&&He._transitionTo(Nn,Ee):(He.runCount=0,this._updateTaskCount(He,-1),yn&&He._transitionTo(rn,Ee,rn))),Hn=Hn.parent,Yn=on}}scheduleTask(He){if(He.zone&&He.zone!==this){let ln=this;for(;ln;){if(ln===He.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${He.zone.name}`);ln=ln.parent}}He._transitionTo(Ln,rn);const dt=[];He._zoneDelegates=dt,He._zone=this;try{He=this._zoneDelegate.scheduleTask(this,He)}catch(ln){throw He._transitionTo(Ce,Ln,rn),this._zoneDelegate.handleError(this,ln),ln}return He._zoneDelegates===dt&&this._updateTaskCount(He,1),He.state==Ln&&He._transitionTo(Nn,Ln),He}scheduleMicroTask(He,dt,ln,yn){return this.scheduleTask(new jt(tt,He,dt,ln,yn,void 0))}scheduleMacroTask(He,dt,ln,yn,on){return this.scheduleTask(new jt(Ve,He,dt,ln,yn,on))}scheduleEventTask(He,dt,ln,yn,on){return this.scheduleTask(new jt(Ht,He,dt,ln,yn,on))}cancelTask(He){if(He.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(He.zone||Wt).name+"; Execution: "+this.name+")");He._transitionTo(be,Nn,Ee);try{this._zoneDelegate.cancelTask(this,He)}catch(dt){throw He._transitionTo(Ce,be),this._zoneDelegate.handleError(this,dt),dt}return this._updateTaskCount(He,-1),He._transitionTo(rn,be),He.runCount=0,He}_updateTaskCount(He,dt){const ln=He._zoneDelegates;-1==dt&&(He._zoneDelegates=null);for(let yn=0;yn<ln.length;yn++)ln[yn]._updateTaskCount(He.type,dt)}}return kn.__symbol__=Je,kn})();const St={name:"",onHasTask:(kn,mn,He,dt)=>kn.hasTask(He,dt),onScheduleTask:(kn,mn,He,dt)=>kn.scheduleTask(He,dt),onInvokeTask:(kn,mn,He,dt,ln,yn)=>kn.invokeTask(He,dt,ln,yn),onCancelTask:(kn,mn,He,dt)=>kn.cancelTask(He,dt)};class Xt{constructor(mn,He,dt){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=mn,this._parentDelegate=He,this._forkZS=dt&&(dt&&dt.onFork?dt:He._forkZS),this._forkDlgt=dt&&(dt.onFork?He:He._forkDlgt),this._forkCurrZone=dt&&(dt.onFork?this.zone:He._forkCurrZone),this._interceptZS=dt&&(dt.onIntercept?dt:He._interceptZS),this._interceptDlgt=dt&&(dt.onIntercept?He:He._interceptDlgt),this._interceptCurrZone=dt&&(dt.onIntercept?this.zone:He._interceptCurrZone),this._invokeZS=dt&&(dt.onInvoke?dt:He._invokeZS),this._invokeDlgt=dt&&(dt.onInvoke?He:He._invokeDlgt),this._invokeCurrZone=dt&&(dt.onInvoke?this.zone:He._invokeCurrZone),this._handleErrorZS=dt&&(dt.onHandleError?dt:He._handleErrorZS),this._handleErrorDlgt=dt&&(dt.onHandleError?He:He._handleErrorDlgt),this._handleErrorCurrZone=dt&&(dt.onHandleError?this.zone:He._handleErrorCurrZone),this._scheduleTaskZS=dt&&(dt.onScheduleTask?dt:He._scheduleTaskZS),this._scheduleTaskDlgt=dt&&(dt.onScheduleTask?He:He._scheduleTaskDlgt),this._scheduleTaskCurrZone=dt&&(dt.onScheduleTask?this.zone:He._scheduleTaskCurrZone),this._invokeTaskZS=dt&&(dt.onInvokeTask?dt:He._invokeTaskZS),this._invokeTaskDlgt=dt&&(dt.onInvokeTask?He:He._invokeTaskDlgt),this._invokeTaskCurrZone=dt&&(dt.onInvokeTask?this.zone:He._invokeTaskCurrZone),this._cancelTaskZS=dt&&(dt.onCancelTask?dt:He._cancelTaskZS),this._cancelTaskDlgt=dt&&(dt.onCancelTask?He:He._cancelTaskDlgt),this._cancelTaskCurrZone=dt&&(dt.onCancelTask?this.zone:He._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const ln=dt&&dt.onHasTask;(ln||He&&He._hasTaskZS)&&(this._hasTaskZS=ln?dt:St,this._hasTaskDlgt=He,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=mn,dt.onScheduleTask||(this._scheduleTaskZS=St,this._scheduleTaskDlgt=He,this._scheduleTaskCurrZone=this.zone),dt.onInvokeTask||(this._invokeTaskZS=St,this._invokeTaskDlgt=He,this._invokeTaskCurrZone=this.zone),dt.onCancelTask||(this._cancelTaskZS=St,this._cancelTaskDlgt=He,this._cancelTaskCurrZone=this.zone))}fork(mn,He){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,mn,He):new ht(mn,He)}intercept(mn,He,dt){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,mn,He,dt):He}invoke(mn,He,dt,ln,yn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,mn,He,dt,ln,yn):He.apply(dt,ln)}handleError(mn,He){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,mn,He)}scheduleTask(mn,He){let dt=He;if(this._scheduleTaskZS)this._hasTaskZS&&dt._zoneDelegates.push(this._hasTaskDlgtOwner),dt=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,mn,He),dt||(dt=He);else if(He.scheduleFn)He.scheduleFn(He);else{if(He.type!=tt)throw new Error("Task is missing scheduleFn.");Ot(He)}return dt}invokeTask(mn,He,dt,ln){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,mn,He,dt,ln):He.callback.apply(dt,ln)}cancelTask(mn,He){let dt;if(this._cancelTaskZS)dt=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,mn,He);else{if(!He.cancelFn)throw Error("Task is not cancelable");dt=He.cancelFn(He)}return dt}hasTask(mn,He){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,mn,He)}catch(dt){this.handleError(mn,dt)}}_updateTaskCount(mn,He){const dt=this._taskCounts,ln=dt[mn],yn=dt[mn]=ln+He;if(yn<0)throw new Error("More tasks executed then were scheduled.");0!=ln&&0!=yn||this.hasTask(this.zone,{microTask:dt.microTask>0,macroTask:dt.macroTask>0,eventTask:dt.eventTask>0,change:mn})}}class jt{constructor(mn,He,dt,ln,yn,on){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=mn,this.source=He,this.data=ln,this.scheduleFn=yn,this.cancelFn=on,!dt)throw new Error("callback is not defined");this.callback=dt;const Yt=this;this.invoke=mn===Ht&&ln&&ln.useG?jt.invokeTask:function(){return jt.invokeTask.call(je,Yt,this,arguments)}}static invokeTask(mn,He,dt){mn||(mn=this),dr++;try{return mn.runCount++,mn.zone.runTask(mn,He,dt)}finally{1==dr&&it(),dr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(rn,Ln)}_transitionTo(mn,He,dt){if(this._state!==He&&this._state!==dt)throw new Error(`${this.type} '${this.source}': can not transition to '${mn}', expecting state '${He}'${dt?" or '"+dt+"'":""}, was '${this._state}'.`);this._state=mn,mn==rn&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Qt=Je("setTimeout"),Mn=Je("Promise"),Tn=Je("then");let Zn,qn=[],Mt=!1;function xn(kn){if(Zn||je[Mn]&&(Zn=je[Mn].resolve(0)),Zn){let mn=Zn[Tn];mn||(mn=Zn.then),mn.call(Zn,kn)}else je[Qt](kn,0)}function Ot(kn){0===dr&&0===qn.length&&xn(it),kn&&qn.push(kn)}function it(){if(!Mt){for(Mt=!0;qn.length;){const kn=qn;qn=[];for(let mn=0;mn<kn.length;mn++){const He=kn[mn];try{He.zone.runTask(He,null,null)}catch(dt){gn.onUnhandledError(dt)}}}gn.microtaskDrainDone(),Mt=!1}}const Wt={name:"NO ZONE"},rn="notScheduled",Ln="scheduling",Nn="scheduled",Ee="running",be="canceling",Ce="unknown",tt="microTask",Ve="macroTask",Ht="eventTask",Rn={},gn={symbol:Je,currentZoneFrame:()=>Hn,onUnhandledError:_n,microtaskDrainDone:_n,scheduleMicroTask:Ot,showUncaughtError:()=>!ht[Je("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:_n,patchMethod:()=>_n,bindArguments:()=>[],patchThen:()=>_n,patchMacroTask:()=>_n,patchEventPrototype:()=>_n,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>_n,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>_n,wrapWithCurrentZone:()=>_n,filterProperties:()=>[],attachOriginToPatched:()=>_n,_redefineProperty:()=>_n,patchCallbacks:()=>_n,nativeScheduleMicroTask:xn};let Hn={parent:null,zone:new ht(null,null)},Yn=null,dr=0;function _n(){}oe("Zone","Zone"),je.Zone=ht}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const lt=Object.getOwnPropertyDescriptor,x=Object.defineProperty,P=Object.getPrototypeOf,p=Object.create,e=Array.prototype.slice,E="addEventListener",N="removeEventListener",O=Zone.__symbol__(E),H=Zone.__symbol__(N),J="true",Z="false",Q=Zone.__symbol__("");function K(je,ct){return Zone.current.wrap(je,ct)}function ie(je,ct,Oe,oe,fe){return Zone.current.scheduleMacroTask(je,ct,Oe,oe,fe)}const he=Zone.__symbol__,st="undefined"!=typeof window,Ye=st?window:void 0,ze=st&&Ye||"object"==typeof self&&self||global;function ge(je,ct){for(let Oe=je.length-1;Oe>=0;Oe--)"function"==typeof je[Oe]&&(je[Oe]=K(je[Oe],ct+"_"+Oe));return je}function Ie(je){return!je||!1!==je.writable&&!("function"==typeof je.get&&void 0===je.set)}const ut="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Ge=!("nw"in ze)&&void 0!==ze.process&&"[object process]"==={}.toString.call(ze.process),et=!Ge&&!ut&&!(!st||!Ye.HTMLElement),Te=void 0!==ze.process&&"[object process]"==={}.toString.call(ze.process)&&!ut&&!(!st||!Ye.HTMLElement),Ke={},ke=function(je){if(!(je=je||ze.event))return;let ct=Ke[je.type];ct||(ct=Ke[je.type]=he("ON_PROPERTY"+je.type));const Oe=this||je.target||ze,oe=Oe[ct];let fe;if(et&&Oe===Ye&&"error"===je.type){const Je=je;fe=oe&&oe.call(this,Je.message,Je.filename,Je.lineno,Je.colno,Je.error),!0===fe&&je.preventDefault()}else fe=oe&&oe.apply(this,arguments),null!=fe&&!fe&&je.preventDefault();return fe};function ot(je,ct,Oe){let oe=lt(je,ct);if(!oe&&Oe&&lt(Oe,ct)&&(oe={enumerable:!0,configurable:!0}),!oe||!oe.configurable)return;const fe=he("on"+ct+"patched");if(je.hasOwnProperty(fe)&&je[fe])return;delete oe.writable,delete oe.value;const Je=oe.get,Qe=oe.set,ht=ct.substr(2);let St=Ke[ht];St||(St=Ke[ht]=he("ON_PROPERTY"+ht)),oe.set=function(Xt){let jt=this;!jt&&je===ze&&(jt=ze),jt&&("function"==typeof jt[St]&&jt.removeEventListener(ht,ke),Qe&&Qe.call(jt,null),jt[St]=Xt,"function"==typeof Xt&&jt.addEventListener(ht,ke,!1))},oe.get=function(){let Xt=this;if(!Xt&&je===ze&&(Xt=ze),!Xt)return null;const jt=Xt[St];if(jt)return jt;if(Je){let Qt=Je.call(this);if(Qt)return oe.set.call(this,Qt),"function"==typeof Xt.removeAttribute&&Xt.removeAttribute(ct),Qt}return null},x(je,ct,oe),je[fe]=!0}function de(je,ct,Oe){if(ct)for(let oe=0;oe<ct.length;oe++)ot(je,"on"+ct[oe],Oe);else{const oe=[];for(const fe in je)"on"==fe.substr(0,2)&&oe.push(fe);for(let fe=0;fe<oe.length;fe++)ot(je,oe[fe],Oe)}}const ue=he("originalInstance");function X(je){const ct=ze[je];if(!ct)return;ze[he(je)]=ct,ze[je]=function(){const fe=ge(arguments,je);switch(fe.length){case 0:this[ue]=new ct;break;case 1:this[ue]=new ct(fe[0]);break;case 2:this[ue]=new ct(fe[0],fe[1]);break;case 3:this[ue]=new ct(fe[0],fe[1],fe[2]);break;case 4:this[ue]=new ct(fe[0],fe[1],fe[2],fe[3]);break;default:throw new Error("Arg list too long.")}},_e(ze[je],ct);const Oe=new ct(function(){});let oe;for(oe in Oe)"XMLHttpRequest"===je&&"responseBlob"===oe||function(fe){"function"==typeof Oe[fe]?ze[je].prototype[fe]=function(){return this[ue][fe].apply(this[ue],arguments)}:x(ze[je].prototype,fe,{set:function(Je){"function"==typeof Je?(this[ue][fe]=K(Je,je+"."+fe),_e(this[ue][fe],Je)):this[ue][fe]=Je},get:function(){return this[ue][fe]}})}(oe);for(oe in ct)"prototype"!==oe&&ct.hasOwnProperty(oe)&&(ze[je][oe]=ct[oe])}function ye(je,ct,Oe){let oe=je;for(;oe&&!oe.hasOwnProperty(ct);)oe=P(oe);!oe&&je[ct]&&(oe=je);const fe=he(ct);let Je=null;if(oe&&(!(Je=oe[fe])||!oe.hasOwnProperty(fe))&&(Je=oe[fe]=oe[ct],Ie(oe&&lt(oe,ct)))){const ht=Oe(Je,fe,ct);oe[ct]=function(){return ht(this,arguments)},_e(oe[ct],Je)}return Je}function Fe(je,ct,Oe){let oe=null;function fe(Je){const Qe=Je.data;return Qe.args[Qe.cbIdx]=function(){Je.invoke.apply(this,arguments)},oe.apply(Qe.target,Qe.args),Je}oe=ye(je,ct,Je=>function(Qe,ht){const St=Oe(Qe,ht);return St.cbIdx>=0&&"function"==typeof ht[St.cbIdx]?ie(St.name,ht[St.cbIdx],St,fe):Je.apply(Qe,ht)})}function _e(je,ct){je[he("OriginalDelegate")]=ct}let wt=!1,It=!1;function Pt(){if(wt)return It;wt=!0;try{const je=Ye.navigator.userAgent;(-1!==je.indexOf("MSIE ")||-1!==je.indexOf("Trident/")||-1!==je.indexOf("Edge/"))&&(It=!0)}catch(je){}return It}Zone.__load_patch("ZoneAwarePromise",(je,ct,Oe)=>{const oe=Object.getOwnPropertyDescriptor,fe=Object.defineProperty,Qe=Oe.symbol,ht=[],St=!0===je[Qe("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Xt=Qe("Promise"),jt=Qe("then");Oe.onUnhandledError=Yt=>{if(Oe.showUncaughtError()){const $t=Yt&&Yt.rejection;$t?console.error("Unhandled Promise rejection:",$t instanceof Error?$t.message:$t,"; Zone:",Yt.zone.name,"; Task:",Yt.task&&Yt.task.source,"; Value:",$t,$t instanceof Error?$t.stack:void 0):console.error(Yt)}},Oe.microtaskDrainDone=()=>{for(;ht.length;){const Yt=ht.shift();try{Yt.zone.runGuarded(()=>{throw Yt.throwOriginal?Yt.rejection:Yt})}catch($t){Tn($t)}}};const Mn=Qe("unhandledPromiseRejectionHandler");function Tn(Yt){Oe.onUnhandledError(Yt);try{const $t=ct[Mn];"function"==typeof $t&&$t.call(this,Yt)}catch($t){}}function qn(Yt){return Yt&&Yt.then}function Mt(Yt){return Yt}function Zn(Yt){return He.reject(Yt)}const xn=Qe("state"),Ot=Qe("value"),it=Qe("finally"),Wt=Qe("parentPromiseValue"),rn=Qe("parentPromiseState"),Nn=null,be=!1;function tt(Yt,$t){return $e=>{try{gn(Yt,$t,$e)}catch(At){gn(Yt,!1,At)}}}const Rn=Qe("currentTaskTrace");function gn(Yt,$t,$e){const At=function(){let Yt=!1;return function($e){return function(){Yt||(Yt=!0,$e.apply(null,arguments))}}}();if(Yt===$e)throw new TypeError("Promise resolved with itself");if(Yt[xn]===Nn){let en=null;try{("object"==typeof $e||"function"==typeof $e)&&(en=$e&&$e.then)}catch(hn){return At(()=>{gn(Yt,!1,hn)})(),Yt}if($t!==be&&$e instanceof He&&$e.hasOwnProperty(xn)&&$e.hasOwnProperty(Ot)&&$e[xn]!==Nn)Yn($e),gn(Yt,$e[xn],$e[Ot]);else if($t!==be&&"function"==typeof en)try{en.call($e,At(tt(Yt,$t)),At(tt(Yt,!1)))}catch(hn){At(()=>{gn(Yt,!1,hn)})()}else{Yt[xn]=$t;const hn=Yt[Ot];if(Yt[Ot]=$e,Yt[it]===it&&!0===$t&&(Yt[xn]=Yt[rn],Yt[Ot]=Yt[Wt]),$t===be&&$e instanceof Error){const an=ct.currentTask&&ct.currentTask.data&&ct.currentTask.data.__creationTrace__;an&&fe($e,Rn,{configurable:!0,enumerable:!1,writable:!0,value:an})}for(let an=0;an<hn.length;)dr(Yt,hn[an++],hn[an++],hn[an++],hn[an++]);if(0==hn.length&&$t==be){Yt[xn]=0;let an=$e;try{throw new Error("Uncaught (in promise): "+function Je(Yt){return Yt&&Yt.toString===Object.prototype.toString?(Yt.constructor&&Yt.constructor.name||"")+": "+JSON.stringify(Yt):Yt?Yt.toString():Object.prototype.toString.call(Yt)}($e)+($e&&$e.stack?"\n"+$e.stack:""))}catch(fn){an=fn}St&&(an.throwOriginal=!0),an.rejection=$e,an.promise=Yt,an.zone=ct.current,an.task=ct.currentTask,ht.push(an),Oe.scheduleMicroTask()}}}return Yt}const Hn=Qe("rejectionHandledHandler");function Yn(Yt){if(0===Yt[xn]){try{const $t=ct[Hn];$t&&"function"==typeof $t&&$t.call(this,{rejection:Yt[Ot],promise:Yt})}catch($t){}Yt[xn]=be;for(let $t=0;$t<ht.length;$t++)Yt===ht[$t].promise&&ht.splice($t,1)}}function dr(Yt,$t,$e,At,en){Yn(Yt);const hn=Yt[xn],an=hn?"function"==typeof At?At:Mt:"function"==typeof en?en:Zn;$t.scheduleMicroTask("Promise.then",()=>{try{const fn=Yt[Ot],$n=!!$e&&it===$e[it];$n&&($e[Wt]=fn,$e[rn]=hn);const un=$t.run(an,void 0,$n&&an!==Zn&&an!==Mt?[]:[fn]);gn($e,!0,un)}catch(fn){gn($e,!1,fn)}},$e)}const kn=function(){},mn=je.AggregateError;class He{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve($t){return gn(new this(null),!0,$t)}static reject($t){return gn(new this(null),be,$t)}static any($t){if(!$t||"function"!=typeof $t[Symbol.iterator])return Promise.reject(new mn([],"All promises were rejected"));const $e=[];let At=0;try{for(let an of $t)At++,$e.push(He.resolve(an))}catch(an){return Promise.reject(new mn([],"All promises were rejected"))}if(0===At)return Promise.reject(new mn([],"All promises were rejected"));let en=!1;const hn=[];return new He((an,fn)=>{for(let $n=0;$n<$e.length;$n++)$e[$n].then(un=>{en||(en=!0,an(un))},un=>{hn.push(un),At--,0===At&&(en=!0,fn(new mn(hn,"All promises were rejected")))})})}static race($t){let $e,At,en=new this((fn,$n)=>{$e=fn,At=$n});function hn(fn){$e(fn)}function an(fn){At(fn)}for(let fn of $t)qn(fn)||(fn=this.resolve(fn)),fn.then(hn,an);return en}static all($t){return He.allWithCallback($t)}static allSettled($t){return(this&&this.prototype instanceof He?this:He).allWithCallback($t,{thenCallback:At=>({status:"fulfilled",value:At}),errorCallback:At=>({status:"rejected",reason:At})})}static allWithCallback($t,$e){let At,en,hn=new this((un,Gn)=>{At=un,en=Gn}),an=2,fn=0;const $n=[];for(let un of $t){qn(un)||(un=this.resolve(un));const Gn=fn;try{un.then(Sr=>{$n[Gn]=$e?$e.thenCallback(Sr):Sr,an--,0===an&&At($n)},Sr=>{$e?($n[Gn]=$e.errorCallback(Sr),an--,0===an&&At($n)):en(Sr)})}catch(Sr){en(Sr)}an++,fn++}return an-=2,0===an&&At($n),hn}constructor($t){const $e=this;if(!($e instanceof He))throw new Error("Must be an instanceof Promise.");$e[xn]=Nn,$e[Ot]=[];try{$t&&$t(tt($e,!0),tt($e,be))}catch(At){gn($e,!1,At)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return He}then($t,$e){let At=this.constructor[Symbol.species];(!At||"function"!=typeof At)&&(At=this.constructor||He);const en=new At(kn),hn=ct.current;return this[xn]==Nn?this[Ot].push(hn,en,$t,$e):dr(this,hn,en,$t,$e),en}catch($t){return this.then(null,$t)}finally($t){let $e=this.constructor[Symbol.species];(!$e||"function"!=typeof $e)&&($e=He);const At=new $e(kn);At[it]=it;const en=ct.current;return this[xn]==Nn?this[Ot].push(en,At,$t,$t):dr(this,en,At,$t,$t),At}}He.resolve=He.resolve,He.reject=He.reject,He.race=He.race,He.all=He.all;const dt=je[Xt]=je.Promise;je.Promise=He;const ln=Qe("thenPatched");function yn(Yt){const $t=Yt.prototype,$e=oe($t,"then");if($e&&(!1===$e.writable||!$e.configurable))return;const At=$t.then;$t[jt]=At,Yt.prototype.then=function(en,hn){return new He((fn,$n)=>{At.call(this,fn,$n)}).then(en,hn)},Yt[ln]=!0}return Oe.patchThen=yn,dt&&(yn(dt),ye(je,"fetch",Yt=>function on(Yt){return function($t,$e){let At=Yt.apply($t,$e);if(At instanceof He)return At;let en=At.constructor;return en[ln]||yn(en),At}}(Yt))),Promise[ct.__symbol__("uncaughtPromiseErrors")]=ht,He}),Zone.__load_patch("toString",je=>{const ct=Function.prototype.toString,Oe=he("OriginalDelegate"),oe=he("Promise"),fe=he("Error"),Je=function(){if("function"==typeof this){const Xt=this[Oe];if(Xt)return"function"==typeof Xt?ct.call(Xt):Object.prototype.toString.call(Xt);if(this===Promise){const jt=je[oe];if(jt)return ct.call(jt)}if(this===Error){const jt=je[fe];if(jt)return ct.call(jt)}}return ct.call(this)};Je[Oe]=ct,Function.prototype.toString=Je;const Qe=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Qe.call(this)}});let Et=!1;if("undefined"!=typeof window)try{const je=Object.defineProperty({},"passive",{get:function(){Et=!0}});window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(je){Et=!1}const kt={useG:!0},vn={},lr={},Vn=new RegExp("^"+Q+"(\\w+)(true|false)$"),wr=he("propagationStopped");function ur(je,ct){const Oe=(ct?ct(je):je)+Z,oe=(ct?ct(je):je)+J,fe=Q+Oe,Je=Q+oe;vn[je]={},vn[je][Z]=fe,vn[je][J]=Je}function sr(je,ct,Oe,oe){const fe=oe&&oe.add||E,Je=oe&&oe.rm||N,Qe=oe&&oe.listeners||"eventListeners",ht=oe&&oe.rmAll||"removeAllListeners",St=he(fe),Xt="."+fe+":",Mn=function(Ot,it,Wt){if(Ot.isRemoved)return;const rn=Ot.callback;let Ln;"object"==typeof rn&&rn.handleEvent&&(Ot.callback=Ee=>rn.handleEvent(Ee),Ot.originalDelegate=rn);try{Ot.invoke(Ot,it,[Wt])}catch(Ee){Ln=Ee}const Nn=Ot.options;return Nn&&"object"==typeof Nn&&Nn.once&&it[Je].call(it,Wt.type,Ot.originalDelegate?Ot.originalDelegate:Ot.callback,Nn),Ln};function Tn(Ot,it,Wt){if(!(it=it||je.event))return;const rn=Ot||it.target||je,Ln=rn[vn[it.type][Wt?J:Z]];if(Ln){const Nn=[];if(1===Ln.length){const Ee=Mn(Ln[0],rn,it);Ee&&Nn.push(Ee)}else{const Ee=Ln.slice();for(let be=0;be<Ee.length&&(!it||!0!==it[wr]);be++){const Ce=Mn(Ee[be],rn,it);Ce&&Nn.push(Ce)}}if(1===Nn.length)throw Nn[0];for(let Ee=0;Ee<Nn.length;Ee++){const be=Nn[Ee];ct.nativeScheduleMicroTask(()=>{throw be})}}}const qn=function(Ot){return Tn(this,Ot,!1)},Mt=function(Ot){return Tn(this,Ot,!0)};function Zn(Ot,it){if(!Ot)return!1;let Wt=!0;it&&void 0!==it.useG&&(Wt=it.useG);const rn=it&&it.vh;let Ln=!0;it&&void 0!==it.chkDup&&(Ln=it.chkDup);let Nn=!1;it&&void 0!==it.rt&&(Nn=it.rt);let Ee=Ot;for(;Ee&&!Ee.hasOwnProperty(fe);)Ee=P(Ee);if(!Ee&&Ot[fe]&&(Ee=Ot),!Ee||Ee[St])return!1;const be=it&&it.eventNameToString,Ce={},tt=Ee[St]=Ee[fe],Ve=Ee[he(Je)]=Ee[Je],Ht=Ee[he(Qe)]=Ee[Qe],Rn=Ee[he(ht)]=Ee[ht];let gn;function Hn($e,At){return!Et&&"object"==typeof $e&&$e?!!$e.capture:Et&&At?"boolean"==typeof $e?{capture:$e,passive:!0}:$e?"object"==typeof $e&&!1!==$e.passive?Object.assign(Object.assign({},$e),{passive:!0}):$e:{passive:!0}:$e}it&&it.prepend&&(gn=Ee[he(it.prepend)]=Ee[it.prepend]);const He=Wt?function($e){if(!Ce.isExisting)return tt.call(Ce.target,Ce.eventName,Ce.capture?Mt:qn,Ce.options)}:function($e){return tt.call(Ce.target,Ce.eventName,$e.invoke,Ce.options)},dt=Wt?function($e){if(!$e.isRemoved){const At=vn[$e.eventName];let en;At&&(en=At[$e.capture?J:Z]);const hn=en&&$e.target[en];if(hn)for(let an=0;an<hn.length;an++)if(hn[an]===$e){hn.splice(an,1),$e.isRemoved=!0,0===hn.length&&($e.allRemoved=!0,$e.target[en]=null);break}}if($e.allRemoved)return Ve.call($e.target,$e.eventName,$e.capture?Mt:qn,$e.options)}:function($e){return Ve.call($e.target,$e.eventName,$e.invoke,$e.options)},yn=it&&it.diff?it.diff:function($e,At){const en=typeof At;return"function"===en&&$e.callback===At||"object"===en&&$e.originalDelegate===At},on=Zone[he("UNPATCHED_EVENTS")],Yt=je[he("PASSIVE_EVENTS")],$t=function($e,At,en,hn,an=!1,fn=!1){return function(){const $n=this||je;let un=arguments[0];it&&it.transferEventName&&(un=it.transferEventName(un));let Gn=arguments[1];if(!Gn)return $e.apply(this,arguments);if(Ge&&"uncaughtException"===un)return $e.apply(this,arguments);let Sr=!1;if("function"!=typeof Gn){if(!Gn.handleEvent)return $e.apply(this,arguments);Sr=!0}if(rn&&!rn($e,Gn,$n,arguments))return;const nr=Et&&!!Yt&&-1!==Yt.indexOf(un),vr=Hn(arguments[2],nr);if(on)for(let fr=0;fr<on.length;fr++)if(un===on[fr])return nr?$e.call($n,un,Gn,vr):$e.apply(this,arguments);const ri=!!vr&&("boolean"==typeof vr||vr.capture),eo=!(!vr||"object"!=typeof vr)&&vr.once,Gr=Zone.current;let Lr=vn[un];Lr||(ur(un,be),Lr=vn[un]);const Qi=Lr[ri?J:Z];let Ue,Zr=$n[Qi],Xe=!1;if(Zr){if(Xe=!0,Ln)for(let fr=0;fr<Zr.length;fr++)if(yn(Zr[fr],Gn))return}else Zr=$n[Qi]=[];const pt=$n.constructor.name,Rt=lr[pt];Rt&&(Ue=Rt[un]),Ue||(Ue=pt+At+(be?be(un):un)),Ce.options=vr,eo&&(Ce.options.once=!1),Ce.target=$n,Ce.capture=ri,Ce.eventName=un,Ce.isExisting=Xe;const Gt=Wt?kt:void 0;Gt&&(Gt.taskData=Ce);const sn=Gr.scheduleEventTask(Ue,Gn,Gt,en,hn);return Ce.target=null,Gt&&(Gt.taskData=null),eo&&(vr.once=!0),!Et&&"boolean"==typeof sn.options||(sn.options=vr),sn.target=$n,sn.capture=ri,sn.eventName=un,Sr&&(sn.originalDelegate=Gn),fn?Zr.unshift(sn):Zr.push(sn),an?$n:void 0}};return Ee[fe]=$t(tt,Xt,He,dt,Nn),gn&&(Ee.prependListener=$t(gn,".prependListener:",function($e){return gn.call(Ce.target,Ce.eventName,$e.invoke,Ce.options)},dt,Nn,!0)),Ee[Je]=function(){const $e=this||je;let At=arguments[0];it&&it.transferEventName&&(At=it.transferEventName(At));const en=arguments[2],hn=!!en&&("boolean"==typeof en||en.capture),an=arguments[1];if(!an)return Ve.apply(this,arguments);if(rn&&!rn(Ve,an,$e,arguments))return;const fn=vn[At];let $n;fn&&($n=fn[hn?J:Z]);const un=$n&&$e[$n];if(un)for(let Gn=0;Gn<un.length;Gn++){const Sr=un[Gn];if(yn(Sr,an))return un.splice(Gn,1),Sr.isRemoved=!0,0===un.length&&(Sr.allRemoved=!0,$e[$n]=null,"string"==typeof At)&&($e[Q+"ON_PROPERTY"+At]=null),Sr.zone.cancelTask(Sr),Nn?$e:void 0}return Ve.apply(this,arguments)},Ee[Qe]=function(){const $e=this||je;let At=arguments[0];it&&it.transferEventName&&(At=it.transferEventName(At));const en=[],hn=Jr($e,be?be(At):At);for(let an=0;an<hn.length;an++){const fn=hn[an];en.push(fn.originalDelegate?fn.originalDelegate:fn.callback)}return en},Ee[ht]=function(){const $e=this||je;let At=arguments[0];if(At){it&&it.transferEventName&&(At=it.transferEventName(At));const en=vn[At];if(en){const fn=$e[en[Z]],$n=$e[en[J]];if(fn){const un=fn.slice();for(let Gn=0;Gn<un.length;Gn++){const Sr=un[Gn];this[Je].call(this,At,Sr.originalDelegate?Sr.originalDelegate:Sr.callback,Sr.options)}}if($n){const un=$n.slice();for(let Gn=0;Gn<un.length;Gn++){const Sr=un[Gn];this[Je].call(this,At,Sr.originalDelegate?Sr.originalDelegate:Sr.callback,Sr.options)}}}}else{const en=Object.keys($e);for(let hn=0;hn<en.length;hn++){const fn=Vn.exec(en[hn]);let $n=fn&&fn[1];$n&&"removeListener"!==$n&&this[ht].call(this,$n)}this[ht].call(this,"removeListener")}if(Nn)return this},_e(Ee[fe],tt),_e(Ee[Je],Ve),Rn&&_e(Ee[ht],Rn),Ht&&_e(Ee[Qe],Ht),!0}let xn=[];for(let Ot=0;Ot<Oe.length;Ot++)xn[Ot]=Zn(Oe[Ot],oe);return xn}function Jr(je,ct){if(!ct){const Je=[];for(let Qe in je){const ht=Vn.exec(Qe);let St=ht&&ht[1];if(St&&(!ct||St===ct)){const Xt=je[Qe];if(Xt)for(let jt=0;jt<Xt.length;jt++)Je.push(Xt[jt])}}return Je}let Oe=vn[ct];Oe||(ur(ct),Oe=vn[ct]);const oe=je[Oe[Z]],fe=je[Oe[J]];return oe?fe?oe.concat(fe):oe.slice():fe?fe.slice():[]}function _r(je,ct){const Oe=je.Event;Oe&&Oe.prototype&&ct.patchMethod(Oe.prototype,"stopImmediatePropagation",oe=>function(fe,Je){fe[wr]=!0,oe&&oe.apply(fe,Je)})}function Ar(je,ct,Oe,oe,fe){const Je=Zone.__symbol__(oe);if(ct[Je])return;const Qe=ct[Je]=ct[oe];ct[oe]=function(ht,St,Xt){return St&&St.prototype&&fe.forEach(function(jt){const Qt=`${Oe}.${oe}::`+jt,Mn=St.prototype;if(Mn.hasOwnProperty(jt)){const Tn=je.ObjectGetOwnPropertyDescriptor(Mn,jt);Tn&&Tn.value?(Tn.value=je.wrapWithCurrentZone(Tn.value,Qt),je._redefineProperty(St.prototype,jt,Tn)):Mn[jt]&&(Mn[jt]=je.wrapWithCurrentZone(Mn[jt],Qt))}else Mn[jt]&&(Mn[jt]=je.wrapWithCurrentZone(Mn[jt],Qt))}),Qe.call(ct,ht,St,Xt)},je.attachOriginToPatched(ct[oe],Qe)}function Ii(je,ct,Oe){if(!Oe||0===Oe.length)return ct;const oe=Oe.filter(Je=>Je.target===je);if(!oe||0===oe.length)return ct;const fe=oe[0].ignoreProperties;return ct.filter(Je=>-1===fe.indexOf(Je))}function bi(je,ct,Oe,oe){je&&de(je,Ii(je,ct,Oe),oe)}function Vr(je){return Object.getOwnPropertyNames(je).filter(ct=>ct.startsWith("on")&&ct.length>2).map(ct=>ct.substring(2))}Zone.__load_patch("util",(je,ct,Oe)=>{const oe=Vr(je);Oe.patchOnProperties=de,Oe.patchMethod=ye,Oe.bindArguments=ge,Oe.patchMacroTask=Fe;const fe=ct.__symbol__("BLACK_LISTED_EVENTS"),Je=ct.__symbol__("UNPATCHED_EVENTS");je[Je]&&(je[fe]=je[Je]),je[fe]&&(ct[fe]=ct[Je]=je[fe]),Oe.patchEventPrototype=_r,Oe.patchEventTarget=sr,Oe.isIEOrEdge=Pt,Oe.ObjectDefineProperty=x,Oe.ObjectGetOwnPropertyDescriptor=lt,Oe.ObjectCreate=p,Oe.ArraySlice=e,Oe.patchClass=X,Oe.wrapWithCurrentZone=K,Oe.filterProperties=Ii,Oe.attachOriginToPatched=_e,Oe._redefineProperty=Object.defineProperty,Oe.patchCallbacks=Ar,Oe.getGlobalObjects=()=>({globalSources:lr,zoneSymbolEventNames:vn,eventNames:oe,isBrowser:et,isMix:Te,isNode:Ge,TRUE_STR:J,FALSE_STR:Z,ZONE_SYMBOL_PREFIX:Q,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:N})});const Ni=he("zoneTask");function An(je,ct,Oe,oe){let fe=null,Je=null;Oe+=oe;const Qe={};function ht(Xt){const jt=Xt.data;return jt.args[0]=function(){return Xt.invoke.apply(this,arguments)},jt.handleId=fe.apply(je,jt.args),Xt}function St(Xt){return Je.call(je,Xt.data.handleId)}fe=ye(je,ct+=oe,Xt=>function(jt,Qt){if("function"==typeof Qt[0]){const Mn={isPeriodic:"Interval"===oe,delay:"Timeout"===oe||"Interval"===oe?Qt[1]||0:void 0,args:Qt},Tn=Qt[0];Qt[0]=function(){try{return Tn.apply(this,arguments)}finally{Mn.isPeriodic||("number"==typeof Mn.handleId?delete Qe[Mn.handleId]:Mn.handleId&&(Mn.handleId[Ni]=null))}};const qn=ie(ct,Qt[0],Mn,ht,St);if(!qn)return qn;const Mt=qn.data.handleId;return"number"==typeof Mt?Qe[Mt]=qn:Mt&&(Mt[Ni]=qn),Mt&&Mt.ref&&Mt.unref&&"function"==typeof Mt.ref&&"function"==typeof Mt.unref&&(qn.ref=Mt.ref.bind(Mt),qn.unref=Mt.unref.bind(Mt)),"number"==typeof Mt||Mt?Mt:qn}return Xt.apply(je,Qt)}),Je=ye(je,Oe,Xt=>function(jt,Qt){const Mn=Qt[0];let Tn;"number"==typeof Mn?Tn=Qe[Mn]:(Tn=Mn&&Mn[Ni],Tn||(Tn=Mn)),Tn&&"string"==typeof Tn.type?"notScheduled"!==Tn.state&&(Tn.cancelFn&&Tn.data.isPeriodic||0===Tn.runCount)&&("number"==typeof Mn?delete Qe[Mn]:Mn&&(Mn[Ni]=null),Tn.zone.cancelTask(Tn)):Xt.apply(je,Qt)})}Zone.__load_patch("legacy",je=>{const ct=je[Zone.__symbol__("legacyPatch")];ct&&ct()}),Zone.__load_patch("queueMicrotask",(je,ct,Oe)=>{Oe.patchMethod(je,"queueMicrotask",oe=>function(fe,Je){ct.current.scheduleMicroTask("queueMicrotask",Je[0])})}),Zone.__load_patch("timers",je=>{const Oe="clear";An(je,"set",Oe,"Timeout"),An(je,"set",Oe,"Interval"),An(je,"set",Oe,"Immediate")}),Zone.__load_patch("requestAnimationFrame",je=>{An(je,"request","cancel","AnimationFrame"),An(je,"mozRequest","mozCancel","AnimationFrame"),An(je,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(je,ct)=>{const Oe=["alert","prompt","confirm"];for(let oe=0;oe<Oe.length;oe++)ye(je,Oe[oe],(Je,Qe,ht)=>function(St,Xt){return ct.current.run(Je,je,Xt,ht)})}),Zone.__load_patch("EventTarget",(je,ct,Oe)=>{(function Qr(je,ct){ct.patchEventPrototype(je,ct)})(je,Oe),function Yr(je,ct){if(Zone[ct.symbol("patchEventTarget")])return;const{eventNames:Oe,zoneSymbolEventNames:oe,TRUE_STR:fe,FALSE_STR:Je,ZONE_SYMBOL_PREFIX:Qe}=ct.getGlobalObjects();for(let St=0;St<Oe.length;St++){const Xt=Oe[St],Mn=Qe+(Xt+Je),Tn=Qe+(Xt+fe);oe[Xt]={},oe[Xt][Je]=Mn,oe[Xt][fe]=Tn}const ht=je.EventTarget;ht&&ht.prototype&&ct.patchEventTarget(je,ct,[ht&&ht.prototype])}(je,Oe);const oe=je.XMLHttpRequestEventTarget;oe&&oe.prototype&&Oe.patchEventTarget(je,Oe,[oe.prototype])}),Zone.__load_patch("MutationObserver",(je,ct,Oe)=>{X("MutationObserver"),X("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(je,ct,Oe)=>{X("IntersectionObserver")}),Zone.__load_patch("FileReader",(je,ct,Oe)=>{X("FileReader")}),Zone.__load_patch("on_property",(je,ct,Oe)=>{!function kr(je,ct){if(Ge&&!Te||Zone[je.symbol("patchEvents")])return;const Oe=ct.__Zone_ignore_on_properties;let oe=[];if(et){const fe=window;oe=oe.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Je=function Sn(){try{const je=Ye.navigator.userAgent;if(-1!==je.indexOf("MSIE ")||-1!==je.indexOf("Trident/"))return!0}catch(je){}return!1}()?[{target:fe,ignoreProperties:["error"]}]:[];bi(fe,Vr(fe),Oe&&Oe.concat(Je),P(fe))}oe=oe.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let fe=0;fe<oe.length;fe++){const Je=ct[oe[fe]];Je&&Je.prototype&&bi(Je.prototype,Vr(Je.prototype),Oe)}}(Oe,je)}),Zone.__load_patch("customElements",(je,ct,Oe)=>{!function Hi(je,ct){const{isBrowser:Oe,isMix:oe}=ct.getGlobalObjects();(Oe||oe)&&je.customElements&&"customElements"in je&&ct.patchCallbacks(ct,je.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(je,Oe)}),Zone.__load_patch("XHR",(je,ct)=>{!function St(Xt){const jt=Xt.XMLHttpRequest;if(!jt)return;const Qt=jt.prototype;let Tn=Qt[O],qn=Qt[H];if(!Tn){const Ce=Xt.XMLHttpRequestEventTarget;if(Ce){const tt=Ce.prototype;Tn=tt[O],qn=tt[H]}}const Mt="readystatechange",Zn="scheduled";function xn(Ce){const tt=Ce.data,Ve=tt.target;Ve[Je]=!1,Ve[ht]=!1;const Ht=Ve[fe];Tn||(Tn=Ve[O],qn=Ve[H]),Ht&&qn.call(Ve,Mt,Ht);const Rn=Ve[fe]=()=>{if(Ve.readyState===Ve.DONE)if(!tt.aborted&&Ve[Je]&&Ce.state===Zn){const Hn=Ve[ct.__symbol__("loadfalse")];if(0!==Ve.status&&Hn&&Hn.length>0){const Yn=Ce.invoke;Ce.invoke=function(){const dr=Ve[ct.__symbol__("loadfalse")];for(let _n=0;_n<dr.length;_n++)dr[_n]===Ce&&dr.splice(_n,1);!tt.aborted&&Ce.state===Zn&&Yn.call(Ce)},Hn.push(Ce)}else Ce.invoke()}else!tt.aborted&&!1===Ve[Je]&&(Ve[ht]=!0)};return Tn.call(Ve,Mt,Rn),Ve[Oe]||(Ve[Oe]=Ce),Ee.apply(Ve,tt.args),Ve[Je]=!0,Ce}function Ot(){}function it(Ce){const tt=Ce.data;return tt.aborted=!0,be.apply(tt.target,tt.args)}const Wt=ye(Qt,"open",()=>function(Ce,tt){return Ce[oe]=0==tt[2],Ce[Qe]=tt[1],Wt.apply(Ce,tt)}),Ln=he("fetchTaskAborting"),Nn=he("fetchTaskScheduling"),Ee=ye(Qt,"send",()=>function(Ce,tt){if(!0===ct.current[Nn]||Ce[oe])return Ee.apply(Ce,tt);{const Ve={target:Ce,url:Ce[Qe],isPeriodic:!1,args:tt,aborted:!1},Ht=ie("XMLHttpRequest.send",Ot,Ve,xn,it);Ce&&!0===Ce[ht]&&!Ve.aborted&&Ht.state===Zn&&Ht.invoke()}}),be=ye(Qt,"abort",()=>function(Ce,tt){const Ve=function Mn(Ce){return Ce[Oe]}(Ce);if(Ve&&"string"==typeof Ve.type){if(null==Ve.cancelFn||Ve.data&&Ve.data.aborted)return;Ve.zone.cancelTask(Ve)}else if(!0===ct.current[Ln])return be.apply(Ce,tt)})}(je);const Oe=he("xhrTask"),oe=he("xhrSync"),fe=he("xhrListener"),Je=he("xhrScheduled"),Qe=he("xhrURL"),ht=he("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",je=>{je.navigator&&je.navigator.geolocation&&function Be(je,ct){const Oe=je.constructor.name;for(let oe=0;oe<ct.length;oe++){const fe=ct[oe],Je=je[fe];if(Je){if(!Ie(lt(je,fe)))continue;je[fe]=(ht=>{const St=function(){return ht.apply(this,ge(arguments,Oe+"."+fe))};return _e(St,ht),St})(Je)}}}(je.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(je,ct)=>{function Oe(oe){return function(fe){Jr(je,oe).forEach(Qe=>{const ht=je.PromiseRejectionEvent;if(ht){const St=new ht(oe,{promise:fe.promise,reason:fe.rejection});Qe.invoke(St)}})}}je.PromiseRejectionEvent&&(ct[he("unhandledPromiseRejectionHandler")]=Oe("unhandledrejection"),ct[he("rejectionHandledHandler")]=Oe("rejectionhandled"))})},655:(lt,x,P)=>{"use strict";function N(de,ue){var X={};for(var ye in de)Object.prototype.hasOwnProperty.call(de,ye)&&ue.indexOf(ye)<0&&(X[ye]=de[ye]);if(null!=de&&"function"==typeof Object.getOwnPropertySymbols){var Fe=0;for(ye=Object.getOwnPropertySymbols(de);Fe<ye.length;Fe++)ue.indexOf(ye[Fe])<0&&Object.prototype.propertyIsEnumerable.call(de,ye[Fe])&&(X[ye[Fe]]=de[ye[Fe]])}return X}function Z(de,ue,X,ye){return new(X||(X=Promise))(function(_e,wt){function It(Et){try{Pt(ye.next(Et))}catch(kt){wt(kt)}}function Sn(Et){try{Pt(ye.throw(Et))}catch(kt){wt(kt)}}function Pt(Et){Et.done?_e(Et.value):function Fe(_e){return _e instanceof X?_e:new X(function(wt){wt(_e)})}(Et.value).then(It,Sn)}Pt((ye=ye.apply(de,ue||[])).next())})}function ge(de){return this instanceof ge?(this.v=de,this):new ge(de)}function Be(de,ue,X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Fe,ye=X.apply(de,ue||[]),_e=[];return Fe={},wt("next"),wt("throw"),wt("return"),Fe[Symbol.asyncIterator]=function(){return this},Fe;function wt(vn){ye[vn]&&(Fe[vn]=function(lr){return new Promise(function(Vn,wr){_e.push([vn,lr,Vn,wr])>1||It(vn,lr)})})}function It(vn,lr){try{!function Sn(vn){vn.value instanceof ge?Promise.resolve(vn.value.v).then(Pt,Et):kt(_e[0][2],vn)}(ye[vn](lr))}catch(Vn){kt(_e[0][3],Vn)}}function Pt(vn){It("next",vn)}function Et(vn){It("throw",vn)}function kt(vn,lr){vn(lr),_e.shift(),_e.length&&It(_e[0][0],_e[0][1])}}function ut(de){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var X,ue=de[Symbol.asyncIterator];return ue?ue.call(de):(de=function he(de){var ue="function"==typeof Symbol&&Symbol.iterator,X=ue&&de[ue],ye=0;if(X)return X.call(de);if(de&&"number"==typeof de.length)return{next:function(){return de&&ye>=de.length&&(de=void 0),{value:de&&de[ye++],done:!de}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(de),X={},ye("next"),ye("throw"),ye("return"),X[Symbol.asyncIterator]=function(){return this},X);function ye(_e){X[_e]=de[_e]&&function(wt){return new Promise(function(It,Sn){!function Fe(_e,wt,It,Sn){Promise.resolve(Sn).then(function(Pt){_e({value:Pt,done:It})},wt)}(It,Sn,(wt=de[_e](wt)).done,wt.value)})}}}P.d(x,{FC:()=>Be,KL:()=>ut,_T:()=>N,mG:()=>Z,qq:()=>ge})},9808:(lt,x,P)=>{"use strict";P.d(x,{Do:()=>Ge,EM:()=>cr,HT:()=>O,JF:()=>Ur,JJ:()=>M,K0:()=>J,Mx:()=>vr,NF:()=>mt,O5:()=>Xe,PM:()=>tn,S$:()=>ge,Ts:()=>ui,V_:()=>K,Ye:()=>et,b0:()=>ut,bD:()=>nt,ez:()=>Pe,lw:()=>Z,mk:()=>ri,mr:()=>Ie,q:()=>E,qS:()=>nr,sg:()=>Lr,tP:()=>to,uU:()=>es,w_:()=>H});var p=P(5e3);let e=null;function E(){return e}function O(j){e||(e=j)}class H{}const J=new p.OlP("DocumentToken");let Z=(()=>{class j{historyGo(U){throw new Error("Not implemented")}}return j.\u0275fac=function(U){return new(U||j)},j.\u0275prov=p.Yz7({token:j,factory:function(){return function Q(){return(0,p.LFG)(ie)}()},providedIn:"platform"}),j})();const K=new p.OlP("Location Initialized");let ie=(()=>{class j extends Z{constructor(U){super(),this._doc=U,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(U){const le=E().getGlobalEventTarget(this._doc,"window");return le.addEventListener("popstate",U,!1),()=>le.removeEventListener("popstate",U)}onHashChange(U){const le=E().getGlobalEventTarget(this._doc,"window");return le.addEventListener("hashchange",U,!1),()=>le.removeEventListener("hashchange",U)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(U){this.location.pathname=U}pushState(U,le,qe){he()?this._history.pushState(U,le,qe):this.location.hash=qe}replaceState(U,le,qe){he()?this._history.replaceState(U,le,qe):this.location.hash=qe}forward(){this._history.forward()}back(){this._history.back()}historyGo(U=0){this._history.go(U)}getState(){return this._history.state}}return j.\u0275fac=function(U){return new(U||j)(p.LFG(J))},j.\u0275prov=p.Yz7({token:j,factory:function(){return function st(){return new ie((0,p.LFG)(J))}()},providedIn:"platform"}),j})();function he(){return!!window.history.pushState}function Ye(j,ne){if(0==j.length)return ne;if(0==ne.length)return j;let U=0;return j.endsWith("/")&&U++,ne.startsWith("/")&&U++,2==U?j+ne.substring(1):1==U?j+ne:j+"/"+ne}function ze(j){const ne=j.match(/#|\?|$/),U=ne&&ne.index||j.length;return j.slice(0,U-("/"===j[U-1]?1:0))+j.slice(U)}function gt(j){return j&&"?"!==j[0]?"?"+j:j}let ge=(()=>{class j{historyGo(U){throw new Error("Not implemented")}}return j.\u0275fac=function(U){return new(U||j)},j.\u0275prov=p.Yz7({token:j,factory:function(){return function Be(j){const ne=(0,p.LFG)(J).location;return new ut((0,p.LFG)(Z),ne&&ne.origin||"")}()},providedIn:"root"}),j})();const Ie=new p.OlP("appBaseHref");let ut=(()=>{class j extends ge{constructor(U,le){if(super(),this._platformLocation=U,this._removeListenerFns=[],null==le&&(le=this._platformLocation.getBaseHrefFromDOM()),null==le)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=le}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}prepareExternalUrl(U){return Ye(this._baseHref,U)}path(U=!1){const le=this._platformLocation.pathname+gt(this._platformLocation.search),qe=this._platformLocation.hash;return qe&&U?`${le}${qe}`:le}pushState(U,le,qe,Dt){const Ft=this.prepareExternalUrl(qe+gt(Dt));this._platformLocation.pushState(U,le,Ft)}replaceState(U,le,qe,Dt){const Ft=this.prepareExternalUrl(qe+gt(Dt));this._platformLocation.replaceState(U,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var le,qe;null===(qe=(le=this._platformLocation).historyGo)||void 0===qe||qe.call(le,U)}}return j.\u0275fac=function(U){return new(U||j)(p.LFG(Z),p.LFG(Ie,8))},j.\u0275prov=p.Yz7({token:j,factory:j.\u0275fac}),j})(),Ge=(()=>{class j extends ge{constructor(U,le){super(),this._platformLocation=U,this._baseHref="",this._removeListenerFns=[],null!=le&&(this._baseHref=le)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(U){this._removeListenerFns.push(this._platformLocation.onPopState(U),this._platformLocation.onHashChange(U))}getBaseHref(){return this._baseHref}path(U=!1){let le=this._platformLocation.hash;return null==le&&(le="#"),le.length>0?le.substring(1):le}prepareExternalUrl(U){const le=Ye(this._baseHref,U);return le.length>0?"#"+le:le}pushState(U,le,qe,Dt){let Ft=this.prepareExternalUrl(qe+gt(Dt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.pushState(U,le,Ft)}replaceState(U,le,qe,Dt){let Ft=this.prepareExternalUrl(qe+gt(Dt));0==Ft.length&&(Ft=this._platformLocation.pathname),this._platformLocation.replaceState(U,le,Ft)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(U=0){var le,qe;null===(qe=(le=this._platformLocation).historyGo)||void 0===qe||qe.call(le,U)}}return j.\u0275fac=function(U){return new(U||j)(p.LFG(Z),p.LFG(Ie,8))},j.\u0275prov=p.Yz7({token:j,factory:j.\u0275fac}),j})(),et=(()=>{class j{constructor(U,le){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=U;const qe=this._platformStrategy.getBaseHref();this._platformLocation=le,this._baseHref=ze(ke(qe)),this._platformStrategy.onPopState(Dt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Dt.state,type:Dt.type})})}path(U=!1){return this.normalize(this._platformStrategy.path(U))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(U,le=""){return this.path()==this.normalize(U+gt(le))}normalize(U){return j.stripTrailingSlash(function Ke(j,ne){return j&&ne.startsWith(j)?ne.substring(j.length):ne}(this._baseHref,ke(U)))}prepareExternalUrl(U){return U&&"/"!==U[0]&&(U="/"+U),this._platformStrategy.prepareExternalUrl(U)}go(U,le="",qe=null){this._platformStrategy.pushState(qe,"",U,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+gt(le)),qe)}replaceState(U,le="",qe=null){this._platformStrategy.replaceState(qe,"",U,le),this._notifyUrlChangeListeners(this.prepareExternalUrl(U+gt(le)),qe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(U=0){var le,qe;null===(qe=(le=this._platformStrategy).historyGo)||void 0===qe||qe.call(le,U)}onUrlChange(U){this._urlChangeListeners.push(U),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(le=>{this._notifyUrlChangeListeners(le.url,le.state)}))}_notifyUrlChangeListeners(U="",le){this._urlChangeListeners.forEach(qe=>qe(U,le))}subscribe(U,le,qe){return this._subject.subscribe({next:U,error:le,complete:qe})}}return j.normalizeQueryParams=gt,j.joinWithSlash=Ye,j.stripTrailingSlash=ze,j.\u0275fac=function(U){return new(U||j)(p.LFG(ge),p.LFG(Z))},j.\u0275prov=p.Yz7({token:j,factory:function(){return function Te(){return new et((0,p.LFG)(ge),(0,p.LFG)(Z))}()},providedIn:"root"}),j})();function ke(j){return j.replace(/\/index.html$/,"")}var de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Percent=1]="Percent",de[de.Currency=2]="Currency",de[de.Scientific=3]="Scientific",de))(),X=(()=>((X=X||{})[X.Format=0]="Format",X[X.Standalone=1]="Standalone",X))(),ye=(()=>((ye=ye||{})[ye.Narrow=0]="Narrow",ye[ye.Abbreviated=1]="Abbreviated",ye[ye.Wide=2]="Wide",ye[ye.Short=3]="Short",ye))(),Fe=(()=>((Fe=Fe||{})[Fe.Short=0]="Short",Fe[Fe.Medium=1]="Medium",Fe[Fe.Long=2]="Long",Fe[Fe.Full=3]="Full",Fe))(),_e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Group=1]="Group",_e[_e.List=2]="List",_e[_e.PercentSign=3]="PercentSign",_e[_e.PlusSign=4]="PlusSign",_e[_e.MinusSign=5]="MinusSign",_e[_e.Exponential=6]="Exponential",_e[_e.SuperscriptingExponent=7]="SuperscriptingExponent",_e[_e.PerMille=8]="PerMille",_e[_e.Infinity=9]="Infinity",_e[_e.NaN=10]="NaN",_e[_e.TimeSeparator=11]="TimeSeparator",_e[_e.CurrencyDecimal=12]="CurrencyDecimal",_e[_e.CurrencyGroup=13]="CurrencyGroup",_e))();function Vn(j,ne){return Yr((0,p.cg1)(j)[p.wAp.DateFormat],ne)}function wr(j,ne){return Yr((0,p.cg1)(j)[p.wAp.TimeFormat],ne)}function ur(j,ne){return Yr((0,p.cg1)(j)[p.wAp.DateTimeFormat],ne)}function sr(j,ne){const U=(0,p.cg1)(j),le=U[p.wAp.NumberSymbols][ne];if(void 0===le){if(ne===_e.CurrencyDecimal)return U[p.wAp.NumberSymbols][_e.Decimal];if(ne===_e.CurrencyGroup)return U[p.wAp.NumberSymbols][_e.Group]}return le}function kr(j){if(!j[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${j[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Yr(j,ne){for(let U=ne;U>-1;U--)if(void 0!==j[U])return j[U];throw new Error("Locale data API: locale data undefined")}function Qr(j){const[ne,U]=j.split(":");return{hours:+ne,minutes:+U}}const oe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fe={},Je=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Qe=(()=>((Qe=Qe||{})[Qe.Short=0]="Short",Qe[Qe.ShortGMT=1]="ShortGMT",Qe[Qe.Long=2]="Long",Qe[Qe.Extended=3]="Extended",Qe))(),ht=(()=>((ht=ht||{})[ht.FullYear=0]="FullYear",ht[ht.Month=1]="Month",ht[ht.Date=2]="Date",ht[ht.Hours=3]="Hours",ht[ht.Minutes=4]="Minutes",ht[ht.Seconds=5]="Seconds",ht[ht.FractionalSeconds=6]="FractionalSeconds",ht[ht.Day=7]="Day",ht))(),St=(()=>((St=St||{})[St.DayPeriods=0]="DayPeriods",St[St.Days=1]="Days",St[St.Months=2]="Months",St[St.Eras=3]="Eras",St))();function Xt(j,ne,U,le){let qe=function gn(j){if(Yn(j))return j;if("number"==typeof j&&!isNaN(j))return new Date(j);if("string"==typeof j){if(j=j.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(j)){const[qe,Dt=1,Ft=1]=j.split("-").map(Cn=>+Cn);return jt(qe,Dt-1,Ft)}const U=parseFloat(j);if(!isNaN(j-U))return new Date(U);let le;if(le=j.match(oe))return function Hn(j){const ne=new Date(0);let U=0,le=0;const qe=j[8]?ne.setUTCFullYear:ne.setFullYear,Dt=j[8]?ne.setUTCHours:ne.setHours;j[9]&&(U=Number(j[9]+j[10]),le=Number(j[9]+j[11])),qe.call(ne,Number(j[1]),Number(j[2])-1,Number(j[3]));const Ft=Number(j[4]||0)-U,Cn=Number(j[5]||0)-le,fi=Number(j[6]||0),Hr=Math.floor(1e3*parseFloat("0."+(j[7]||0)));return Dt.call(ne,Ft,Cn,fi,Hr),ne}(le)}const ne=new Date(j);if(!Yn(ne))throw new Error(`Unable to convert "${j}" into a date`);return ne}(j);ne=Qt(U,ne)||ne;let Cn,Ft=[];for(;ne;){if(Cn=Je.exec(ne),!Cn){Ft.push(ne);break}{Ft=Ft.concat(Cn.slice(1));const Tr=Ft.pop();if(!Tr)break;ne=Tr}}let fi=qe.getTimezoneOffset();le&&(fi=Ve(le,fi),qe=function Rn(j,ne,U){const le=U?-1:1,qe=j.getTimezoneOffset();return function Ht(j,ne){return(j=new Date(j.getTime())).setMinutes(j.getMinutes()+ne),j}(j,le*(Ve(ne,qe)-qe))}(qe,le,!0));let Hr="";return Ft.forEach(Tr=>{const Mr=function tt(j){if(Ce[j])return Ce[j];let ne;switch(j){case"G":case"GG":case"GGG":ne=xn(St.Eras,ye.Abbreviated);break;case"GGGG":ne=xn(St.Eras,ye.Wide);break;case"GGGGG":ne=xn(St.Eras,ye.Narrow);break;case"y":ne=Mt(ht.FullYear,1,0,!1,!0);break;case"yy":ne=Mt(ht.FullYear,2,0,!0,!0);break;case"yyy":ne=Mt(ht.FullYear,3,0,!1,!0);break;case"yyyy":ne=Mt(ht.FullYear,4,0,!1,!0);break;case"Y":ne=be(1);break;case"YY":ne=be(2,!0);break;case"YYY":ne=be(3);break;case"YYYY":ne=be(4);break;case"M":case"L":ne=Mt(ht.Month,1,1);break;case"MM":case"LL":ne=Mt(ht.Month,2,1);break;case"MMM":ne=xn(St.Months,ye.Abbreviated);break;case"MMMM":ne=xn(St.Months,ye.Wide);break;case"MMMMM":ne=xn(St.Months,ye.Narrow);break;case"LLL":ne=xn(St.Months,ye.Abbreviated,X.Standalone);break;case"LLLL":ne=xn(St.Months,ye.Wide,X.Standalone);break;case"LLLLL":ne=xn(St.Months,ye.Narrow,X.Standalone);break;case"w":ne=Ee(1);break;case"ww":ne=Ee(2);break;case"W":ne=Ee(1,!0);break;case"d":ne=Mt(ht.Date,1);break;case"dd":ne=Mt(ht.Date,2);break;case"c":case"cc":ne=Mt(ht.Day,1);break;case"ccc":ne=xn(St.Days,ye.Abbreviated,X.Standalone);break;case"cccc":ne=xn(St.Days,ye.Wide,X.Standalone);break;case"ccccc":ne=xn(St.Days,ye.Narrow,X.Standalone);break;case"cccccc":ne=xn(St.Days,ye.Short,X.Standalone);break;case"E":case"EE":case"EEE":ne=xn(St.Days,ye.Abbreviated);break;case"EEEE":ne=xn(St.Days,ye.Wide);break;case"EEEEE":ne=xn(St.Days,ye.Narrow);break;case"EEEEEE":ne=xn(St.Days,ye.Short);break;case"a":case"aa":case"aaa":ne=xn(St.DayPeriods,ye.Abbreviated);break;case"aaaa":ne=xn(St.DayPeriods,ye.Wide);break;case"aaaaa":ne=xn(St.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":ne=xn(St.DayPeriods,ye.Abbreviated,X.Standalone,!0);break;case"bbbb":ne=xn(St.DayPeriods,ye.Wide,X.Standalone,!0);break;case"bbbbb":ne=xn(St.DayPeriods,ye.Narrow,X.Standalone,!0);break;case"B":case"BB":case"BBB":ne=xn(St.DayPeriods,ye.Abbreviated,X.Format,!0);break;case"BBBB":ne=xn(St.DayPeriods,ye.Wide,X.Format,!0);break;case"BBBBB":ne=xn(St.DayPeriods,ye.Narrow,X.Format,!0);break;case"h":ne=Mt(ht.Hours,1,-12);break;case"hh":ne=Mt(ht.Hours,2,-12);break;case"H":ne=Mt(ht.Hours,1);break;case"HH":ne=Mt(ht.Hours,2);break;case"m":ne=Mt(ht.Minutes,1);break;case"mm":ne=Mt(ht.Minutes,2);break;case"s":ne=Mt(ht.Seconds,1);break;case"ss":ne=Mt(ht.Seconds,2);break;case"S":ne=Mt(ht.FractionalSeconds,1);break;case"SS":ne=Mt(ht.FractionalSeconds,2);break;case"SSS":ne=Mt(ht.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ne=it(Qe.Short);break;case"ZZZZZ":ne=it(Qe.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ne=it(Qe.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ne=it(Qe.Long);break;default:return null}return Ce[j]=ne,ne}(Tr);Hr+=Mr?Mr(qe,U,fi):"''"===Tr?"'":Tr.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Hr}function jt(j,ne,U){const le=new Date(0);return le.setFullYear(j,ne,U),le.setHours(0,0,0),le}function Qt(j,ne){const U=function It(j){return(0,p.cg1)(j)[p.wAp.LocaleId]}(j);if(fe[U]=fe[U]||{},fe[U][ne])return fe[U][ne];let le="";switch(ne){case"shortDate":le=Vn(j,Fe.Short);break;case"mediumDate":le=Vn(j,Fe.Medium);break;case"longDate":le=Vn(j,Fe.Long);break;case"fullDate":le=Vn(j,Fe.Full);break;case"shortTime":le=wr(j,Fe.Short);break;case"mediumTime":le=wr(j,Fe.Medium);break;case"longTime":le=wr(j,Fe.Long);break;case"fullTime":le=wr(j,Fe.Full);break;case"short":const qe=Qt(j,"shortTime"),Dt=Qt(j,"shortDate");le=Mn(ur(j,Fe.Short),[qe,Dt]);break;case"medium":const Ft=Qt(j,"mediumTime"),Cn=Qt(j,"mediumDate");le=Mn(ur(j,Fe.Medium),[Ft,Cn]);break;case"long":const fi=Qt(j,"longTime"),Hr=Qt(j,"longDate");le=Mn(ur(j,Fe.Long),[fi,Hr]);break;case"full":const Tr=Qt(j,"fullTime"),Mr=Qt(j,"fullDate");le=Mn(ur(j,Fe.Full),[Tr,Mr])}return le&&(fe[U][ne]=le),le}function Mn(j,ne){return ne&&(j=j.replace(/\{([^}]+)}/g,function(U,le){return null!=ne&&le in ne?ne[le]:U})),j}function Tn(j,ne,U="-",le,qe){let Dt="";(j<0||qe&&j<=0)&&(qe?j=1-j:(j=-j,Dt=U));let Ft=String(j);for(;Ft.length<ne;)Ft="0"+Ft;return le&&(Ft=Ft.substr(Ft.length-ne)),Dt+Ft}function Mt(j,ne,U=0,le=!1,qe=!1){return function(Dt,Ft){let Cn=function Zn(j,ne){switch(j){case ht.FullYear:return ne.getFullYear();case ht.Month:return ne.getMonth();case ht.Date:return ne.getDate();case ht.Hours:return ne.getHours();case ht.Minutes:return ne.getMinutes();case ht.Seconds:return ne.getSeconds();case ht.FractionalSeconds:return ne.getMilliseconds();case ht.Day:return ne.getDay();default:throw new Error(`Unknown DateType value "${j}".`)}}(j,Dt);if((U>0||Cn>-U)&&(Cn+=U),j===ht.Hours)0===Cn&&-12===U&&(Cn=12);else if(j===ht.FractionalSeconds)return function qn(j,ne){return Tn(j,3).substr(0,ne)}(Cn,ne);const fi=sr(Ft,_e.MinusSign);return Tn(Cn,ne,fi,le,qe)}}function xn(j,ne,U=X.Format,le=!1){return function(qe,Dt){return function Ot(j,ne,U,le,qe,Dt){switch(U){case St.Months:return function Et(j,ne,U){const le=(0,p.cg1)(j),Dt=Yr([le[p.wAp.MonthsFormat],le[p.wAp.MonthsStandalone]],ne);return Yr(Dt,U)}(ne,qe,le)[j.getMonth()];case St.Days:return function Pt(j,ne,U){const le=(0,p.cg1)(j),Dt=Yr([le[p.wAp.DaysFormat],le[p.wAp.DaysStandalone]],ne);return Yr(Dt,U)}(ne,qe,le)[j.getDay()];case St.DayPeriods:const Ft=j.getHours(),Cn=j.getMinutes();if(Dt){const Hr=function Ni(j){const ne=(0,p.cg1)(j);return kr(ne),(ne[p.wAp.ExtraData][2]||[]).map(le=>"string"==typeof le?Qr(le):[Qr(le[0]),Qr(le[1])])}(ne),Tr=function An(j,ne,U){const le=(0,p.cg1)(j);kr(le);const Dt=Yr([le[p.wAp.ExtraData][0],le[p.wAp.ExtraData][1]],ne)||[];return Yr(Dt,U)||[]}(ne,qe,le),Mr=Hr.findIndex(ki=>{if(Array.isArray(ki)){const[di,pi]=ki,ts=Ft>=di.hours&&Cn>=di.minutes,Ho=Ft<pi.hours||Ft===pi.hours&&Cn<pi.minutes;if(di.hours<pi.hours){if(ts&&Ho)return!0}else if(ts||Ho)return!0}else if(ki.hours===Ft&&ki.minutes===Cn)return!0;return!1});if(-1!==Mr)return Tr[Mr]}return function Sn(j,ne,U){const le=(0,p.cg1)(j),Dt=Yr([le[p.wAp.DayPeriodsFormat],le[p.wAp.DayPeriodsStandalone]],ne);return Yr(Dt,U)}(ne,qe,le)[Ft<12?0:1];case St.Eras:return function kt(j,ne){return Yr((0,p.cg1)(j)[p.wAp.Eras],ne)}(ne,le)[j.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${U}`)}}(qe,Dt,j,ne,U,le)}}function it(j){return function(ne,U,le){const qe=-1*le,Dt=sr(U,_e.MinusSign),Ft=qe>0?Math.floor(qe/60):Math.ceil(qe/60);switch(j){case Qe.Short:return(qe>=0?"+":"")+Tn(Ft,2,Dt)+Tn(Math.abs(qe%60),2,Dt);case Qe.ShortGMT:return"GMT"+(qe>=0?"+":"")+Tn(Ft,1,Dt);case Qe.Long:return"GMT"+(qe>=0?"+":"")+Tn(Ft,2,Dt)+":"+Tn(Math.abs(qe%60),2,Dt);case Qe.Extended:return 0===le?"Z":(qe>=0?"+":"")+Tn(Ft,2,Dt)+":"+Tn(Math.abs(qe%60),2,Dt);default:throw new Error(`Unknown zone width "${j}"`)}}}function Nn(j){return jt(j.getFullYear(),j.getMonth(),j.getDate()+(4-j.getDay()))}function Ee(j,ne=!1){return function(U,le){let qe;if(ne){const Dt=new Date(U.getFullYear(),U.getMonth(),1).getDay()-1,Ft=U.getDate();qe=1+Math.floor((Ft+Dt)/7)}else{const Dt=Nn(U),Ft=function Ln(j){const ne=jt(j,0,1).getDay();return jt(j,0,1+(ne<=4?4:11)-ne)}(Dt.getFullYear()),Cn=Dt.getTime()-Ft.getTime();qe=1+Math.round(Cn/6048e5)}return Tn(qe,j,sr(le,_e.MinusSign))}}function be(j,ne=!1){return function(U,le){return Tn(Nn(U).getFullYear(),j,sr(le,_e.MinusSign),ne)}}const Ce={};function Ve(j,ne){j=j.replace(/:/g,"");const U=Date.parse("Jan 01, 1970 00:00:00 "+j)/6e4;return isNaN(U)?ne:U}function Yn(j){return j instanceof Date&&!isNaN(j.valueOf())}const dr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function $n(j){const ne=parseInt(j);if(isNaN(ne))throw new Error("Invalid integer literal when parsing "+j);return ne}function nr(j,ne,U){return(0,p.dwT)(j,ne,U)}function vr(j,ne){ne=encodeURIComponent(ne);for(const U of j.split(";")){const le=U.indexOf("="),[qe,Dt]=-1==le?[U,""]:[U.slice(0,le),U.slice(le+1)];if(qe.trim()===ne)return decodeURIComponent(Dt)}return null}let ri=(()=>{class j{constructor(U,le,qe,Dt){this._iterableDiffers=U,this._keyValueDiffers=le,this._ngEl=qe,this._renderer=Dt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(U){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof U?U.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(U){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof U?U.split(/\s+/):U,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const U=this._iterableDiffer.diff(this._rawClass);U&&this._applyIterableChanges(U)}else if(this._keyValueDiffer){const U=this._keyValueDiffer.diff(this._rawClass);U&&this._applyKeyValueChanges(U)}}_applyKeyValueChanges(U){U.forEachAddedItem(le=>this._toggleClass(le.key,le.currentValue)),U.forEachChangedItem(le=>this._toggleClass(le.key,le.currentValue)),U.forEachRemovedItem(le=>{le.previousValue&&this._toggleClass(le.key,!1)})}_applyIterableChanges(U){U.forEachAddedItem(le=>{if("string"!=typeof le.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(le.item)}`);this._toggleClass(le.item,!0)}),U.forEachRemovedItem(le=>this._toggleClass(le.item,!1))}_applyClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(le=>this._toggleClass(le,!0)):Object.keys(U).forEach(le=>this._toggleClass(le,!!U[le])))}_removeClasses(U){U&&(Array.isArray(U)||U instanceof Set?U.forEach(le=>this._toggleClass(le,!1)):Object.keys(U).forEach(le=>this._toggleClass(le,!1)))}_toggleClass(U,le){(U=U.trim())&&U.split(/\s+/g).forEach(qe=>{le?this._renderer.addClass(this._ngEl.nativeElement,qe):this._renderer.removeClass(this._ngEl.nativeElement,qe)})}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},j.\u0275dir=p.lG2({type:j,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),j})();class Gr{constructor(ne,U,le,qe){this.$implicit=ne,this.ngForOf=U,this.index=le,this.count=qe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Lr=(()=>{class j{constructor(U,le,qe){this._viewContainer=U,this._template=le,this._differs=qe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(U){this._ngForOf=U,this._ngForOfDirty=!0}set ngForTrackBy(U){this._trackByFn=U}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(U){U&&(this._template=U)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const U=this._ngForOf;!this._differ&&U&&(this._differ=this._differs.find(U).create(this.ngForTrackBy))}if(this._differ){const U=this._differ.diff(this._ngForOf);U&&this._applyChanges(U)}}_applyChanges(U){const le=this._viewContainer;U.forEachOperation((qe,Dt,Ft)=>{if(null==qe.previousIndex)le.createEmbeddedView(this._template,new Gr(qe.item,this._ngForOf,-1,-1),null===Ft?void 0:Ft);else if(null==Ft)le.remove(null===Dt?void 0:Dt);else if(null!==Dt){const Cn=le.get(Dt);le.move(Cn,Ft),Qi(Cn,qe)}});for(let qe=0,Dt=le.length;qe<Dt;qe++){const Cn=le.get(qe).context;Cn.index=qe,Cn.count=Dt,Cn.ngForOf=this._ngForOf}U.forEachIdentityChange(qe=>{Qi(le.get(qe.currentIndex),qe)})}static ngTemplateContextGuard(U,le){return!0}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},j.\u0275dir=p.lG2({type:j,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),j})();function Qi(j,ne){j.context.$implicit=ne.item}let Xe=(()=>{class j{constructor(U,le){this._viewContainer=U,this._context=new Ue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=le}set ngIf(U){this._context.$implicit=this._context.ngIf=U,this._updateView()}set ngIfThen(U){pt("ngIfThen",U),this._thenTemplateRef=U,this._thenViewRef=null,this._updateView()}set ngIfElse(U){pt("ngIfElse",U),this._elseTemplateRef=U,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(U,le){return!0}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.s_b),p.Y36(p.Rgc))},j.\u0275dir=p.lG2({type:j,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),j})();class Ue{constructor(){this.$implicit=null,this.ngIf=null}}function pt(j,ne){if(ne&&!ne.createEmbeddedView)throw new Error(`${j} must be a TemplateRef, but received '${(0,p.AaK)(ne)}'.`)}let to=(()=>{class j{constructor(U){this._viewContainerRef=U,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(U){if(U.ngTemplateOutlet){const le=this._viewContainerRef;this._viewRef&&le.remove(le.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?le.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&U.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.s_b))},j.\u0275dir=p.lG2({type:j,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),j})();function $i(j,ne){return new p.vHH(2100,"")}const Vo=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let es=(()=>{class j{constructor(U,le){this.locale=U,this.defaultTimezone=le}transform(U,le="mediumDate",qe,Dt){var Ft;if(null==U||""===U||U!=U)return null;try{return Xt(U,le,Dt||this.locale,null!==(Ft=null!=qe?qe:this.defaultTimezone)&&void 0!==Ft?Ft:void 0)}catch(Cn){throw $i()}}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.soG,16),p.Y36(Vo,24))},j.\u0275pipe=p.Yjl({name:"date",type:j,pure:!0}),j})(),ui=(()=>{class j{transform(U){return JSON.stringify(U,null,2)}}return j.\u0275fac=function(U){return new(U||j)},j.\u0275pipe=p.Yjl({name:"json",type:j,pure:!1}),j})(),M=(()=>{class j{constructor(U){this._locale=U}transform(U,le,qe){if(!function W(j){return!(null==j||""===j||j!=j)}(U))return null;qe=qe||this._locale;try{return function At(j,ne,U){return function Yt(j,ne,U,le,qe,Dt,Ft=!1){let Cn="",fi=!1;if(isFinite(j)){let Hr=function an(j){let le,qe,Dt,Ft,Cn,ne=Math.abs(j)+"",U=0;for((qe=ne.indexOf("."))>-1&&(ne=ne.replace(".","")),(Dt=ne.search(/e/i))>0?(qe<0&&(qe=Dt),qe+=+ne.slice(Dt+1),ne=ne.substring(0,Dt)):qe<0&&(qe=ne.length),Dt=0;"0"===ne.charAt(Dt);Dt++);if(Dt===(Cn=ne.length))le=[0],qe=1;else{for(Cn--;"0"===ne.charAt(Cn);)Cn--;for(qe-=Dt,le=[],Ft=0;Dt<=Cn;Dt++,Ft++)le[Ft]=Number(ne.charAt(Dt))}return qe>22&&(le=le.splice(0,21),U=qe-1,qe=1),{digits:le,exponent:U,integerLen:qe}}(j);Ft&&(Hr=function hn(j){if(0===j.digits[0])return j;const ne=j.digits.length-j.integerLen;return j.exponent?j.exponent+=2:(0===ne?j.digits.push(0,0):1===ne&&j.digits.push(0),j.integerLen+=2),j}(Hr));let Tr=ne.minInt,Mr=ne.minFrac,ki=ne.maxFrac;if(Dt){const Gs=Dt.match(dr);if(null===Gs)throw new Error(`${Dt} is not a valid digit info`);const ns=Gs[1],qo=Gs[3],rs=Gs[5];null!=ns&&(Tr=$n(ns)),null!=qo&&(Mr=$n(qo)),null!=rs?ki=$n(rs):null!=qo&&Mr>ki&&(ki=Mr)}!function fn(j,ne,U){if(ne>U)throw new Error(`The minimum number of digits after fraction (${ne}) is higher than the maximum (${U}).`);let le=j.digits,qe=le.length-j.integerLen;const Dt=Math.min(Math.max(ne,qe),U);let Ft=Dt+j.integerLen,Cn=le[Ft];if(Ft>0){le.splice(Math.max(j.integerLen,Ft));for(let Mr=Ft;Mr<le.length;Mr++)le[Mr]=0}else{qe=Math.max(0,qe),j.integerLen=1,le.length=Math.max(1,Ft=Dt+1),le[0]=0;for(let Mr=1;Mr<Ft;Mr++)le[Mr]=0}if(Cn>=5)if(Ft-1<0){for(let Mr=0;Mr>Ft;Mr--)le.unshift(0),j.integerLen++;le.unshift(1),j.integerLen++}else le[Ft-1]++;for(;qe<Math.max(0,Dt);qe++)le.push(0);let fi=0!==Dt;const Hr=ne+j.integerLen,Tr=le.reduceRight(function(Mr,ki,di,pi){return pi[di]=(ki+=Mr)<10?ki:ki-10,fi&&(0===pi[di]&&di>=Hr?pi.pop():fi=!1),ki>=10?1:0},0);Tr&&(le.unshift(Tr),j.integerLen++)}(Hr,Mr,ki);let di=Hr.digits,pi=Hr.integerLen;const ts=Hr.exponent;let Ho=[];for(fi=di.every(Gs=>!Gs);pi<Tr;pi++)di.unshift(0);for(;pi<0;pi++)di.unshift(0);pi>0?Ho=di.splice(pi,di.length):(Ho=di,di=[0]);const ar=[];for(di.length>=ne.lgSize&&ar.unshift(di.splice(-ne.lgSize,di.length).join(""));di.length>ne.gSize;)ar.unshift(di.splice(-ne.gSize,di.length).join(""));di.length&&ar.unshift(di.join("")),Cn=ar.join(sr(U,le)),Ho.length&&(Cn+=sr(U,qe)+Ho.join("")),ts&&(Cn+=sr(U,_e.Exponential)+"+"+ts)}else Cn=sr(U,_e.Infinity);return Cn=j<0&&!fi?ne.negPre+Cn+ne.negSuf:ne.posPre+Cn+ne.posSuf,Cn}(j,function en(j,ne="-"){const U={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},le=j.split(";"),qe=le[0],Dt=le[1],Ft=-1!==qe.indexOf(".")?qe.split("."):[qe.substring(0,qe.lastIndexOf("0")+1),qe.substring(qe.lastIndexOf("0")+1)],Cn=Ft[0],fi=Ft[1]||"";U.posPre=Cn.substr(0,Cn.indexOf("#"));for(let Tr=0;Tr<fi.length;Tr++){const Mr=fi.charAt(Tr);"0"===Mr?U.minFrac=U.maxFrac=Tr+1:"#"===Mr?U.maxFrac=Tr+1:U.posSuf+=Mr}const Hr=Cn.split(",");if(U.gSize=Hr[1]?Hr[1].length:0,U.lgSize=Hr[2]||Hr[1]?(Hr[2]||Hr[1]).length:0,Dt){const Tr=qe.length-U.posPre.length-U.posSuf.length,Mr=Dt.indexOf("#");U.negPre=Dt.substr(0,Mr).replace(/'/g,""),U.negSuf=Dt.substr(Mr+Tr).replace(/'/g,"")}else U.negPre=ne+U.posPre,U.negSuf=U.posSuf;return U}(function Jr(j,ne){return(0,p.cg1)(j)[p.wAp.NumberFormats][ne]}(ne,de.Decimal),sr(ne,_e.MinusSign)),ne,_e.Group,_e.Decimal,U)}(function me(j){if("string"==typeof j&&!isNaN(Number(j)-parseFloat(j)))return Number(j);if("number"!=typeof j)throw new Error(`${j} is not a number`);return j}(U),qe,le)}catch(Dt){throw $i()}}}return j.\u0275fac=function(U){return new(U||j)(p.Y36(p.soG,16))},j.\u0275pipe=p.Yjl({name:"number",type:j,pure:!0}),j})();let Pe=(()=>{class j{}return j.\u0275fac=function(U){return new(U||j)},j.\u0275mod=p.oAB({type:j}),j.\u0275inj=p.cJS({}),j})();const nt="browser";function mt(j){return j===nt}function tn(j){return"server"===j}let cr=(()=>{class j{}return j.\u0275prov=(0,p.Yz7)({token:j,providedIn:"root",factory:()=>new zr((0,p.LFG)(J),window)}),j})();class zr{constructor(ne,U){this.document=ne,this.window=U,this.offset=()=>[0,0]}setOffset(ne){this.offset=Array.isArray(ne)?()=>ne:ne}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ne){this.supportsScrolling()&&this.window.scrollTo(ne[0],ne[1])}scrollToAnchor(ne){if(!this.supportsScrolling())return;const U=function ji(j,ne){const U=j.getElementById(ne)||j.getElementsByName(ne)[0];if(U)return U;if("function"==typeof j.createTreeWalker&&j.body&&(j.body.createShadowRoot||j.body.attachShadow)){const le=j.createTreeWalker(j.body,NodeFilter.SHOW_ELEMENT);let qe=le.currentNode;for(;qe;){const Dt=qe.shadowRoot;if(Dt){const Ft=Dt.getElementById(ne)||Dt.querySelector(`[name="${ne}"]`);if(Ft)return Ft}qe=le.nextNode()}}return null}(this.document,ne);U&&(this.scrollToElement(U),U.focus())}setHistoryScrollRestoration(ne){if(this.supportScrollRestoration()){const U=this.window.history;U&&U.scrollRestoration&&(U.scrollRestoration=ne)}}scrollToElement(ne){const U=ne.getBoundingClientRect(),le=U.left+this.window.pageXOffset,qe=U.top+this.window.pageYOffset,Dt=this.offset();this.window.scrollTo(le-Dt[0],qe-Dt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ne=Fr(this.window.history)||Fr(Object.getPrototypeOf(this.window.history));return!(!ne||!ne.writable&&!ne.set)}catch(ne){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ne){return!1}}}function Fr(j){return Object.getOwnPropertyDescriptor(j,"scrollRestoration")}class Ur{}},520:(lt,x,P)=>{"use strict";P.d(x,{JF:()=>Qr,TP:()=>It,eN:()=>_e});var p=P(9808),e=P(5e3),E=P(9646),N=P(8306),O=P(4351),H=P(9300),J=P(4004);class Z{}class Q{}class K{constructor(oe){this.normalizedNames=new Map,this.lazyUpdate=null,oe?this.lazyInit="string"==typeof oe?()=>{this.headers=new Map,oe.split("\n").forEach(fe=>{const Je=fe.indexOf(":");if(Je>0){const Qe=fe.slice(0,Je),ht=Qe.toLowerCase(),St=fe.slice(Je+1).trim();this.maybeSetNormalizedName(Qe,ht),this.headers.has(ht)?this.headers.get(ht).push(St):this.headers.set(ht,[St])}})}:()=>{this.headers=new Map,Object.keys(oe).forEach(fe=>{let Je=oe[fe];const Qe=fe.toLowerCase();"string"==typeof Je&&(Je=[Je]),Je.length>0&&(this.headers.set(Qe,Je),this.maybeSetNormalizedName(fe,Qe))})}:this.headers=new Map}has(oe){return this.init(),this.headers.has(oe.toLowerCase())}get(oe){this.init();const fe=this.headers.get(oe.toLowerCase());return fe&&fe.length>0?fe[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(oe){return this.init(),this.headers.get(oe.toLowerCase())||null}append(oe,fe){return this.clone({name:oe,value:fe,op:"a"})}set(oe,fe){return this.clone({name:oe,value:fe,op:"s"})}delete(oe,fe){return this.clone({name:oe,value:fe,op:"d"})}maybeSetNormalizedName(oe,fe){this.normalizedNames.has(fe)||this.normalizedNames.set(fe,oe)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(oe=>this.applyUpdate(oe)),this.lazyUpdate=null))}copyFrom(oe){oe.init(),Array.from(oe.headers.keys()).forEach(fe=>{this.headers.set(fe,oe.headers.get(fe)),this.normalizedNames.set(fe,oe.normalizedNames.get(fe))})}clone(oe){const fe=new K;return fe.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,fe.lazyUpdate=(this.lazyUpdate||[]).concat([oe]),fe}applyUpdate(oe){const fe=oe.name.toLowerCase();switch(oe.op){case"a":case"s":let Je=oe.value;if("string"==typeof Je&&(Je=[Je]),0===Je.length)return;this.maybeSetNormalizedName(oe.name,fe);const Qe=("a"===oe.op?this.headers.get(fe):void 0)||[];Qe.push(...Je),this.headers.set(fe,Qe);break;case"d":const ht=oe.value;if(ht){let St=this.headers.get(fe);if(!St)return;St=St.filter(Xt=>-1===ht.indexOf(Xt)),0===St.length?(this.headers.delete(fe),this.normalizedNames.delete(fe)):this.headers.set(fe,St)}else this.headers.delete(fe),this.normalizedNames.delete(fe)}}forEach(oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(fe=>oe(this.normalizedNames.get(fe),this.headers.get(fe)))}}class ie{encodeKey(oe){return ze(oe)}encodeValue(oe){return ze(oe)}decodeKey(oe){return decodeURIComponent(oe)}decodeValue(oe){return decodeURIComponent(oe)}}const st=/%(\d[a-f0-9])/gi,Ye={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function ze(Oe){return encodeURIComponent(Oe).replace(st,(oe,fe)=>{var Je;return null!==(Je=Ye[fe])&&void 0!==Je?Je:oe})}function gt(Oe){return`${Oe}`}class ge{constructor(oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=oe.encoder||new ie,oe.fromString){if(oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function he(Oe,oe){const fe=new Map;return Oe.length>0&&Oe.replace(/^\?/,"").split("&").forEach(Qe=>{const ht=Qe.indexOf("="),[St,Xt]=-1==ht?[oe.decodeKey(Qe),""]:[oe.decodeKey(Qe.slice(0,ht)),oe.decodeValue(Qe.slice(ht+1))],jt=fe.get(St)||[];jt.push(Xt),fe.set(St,jt)}),fe}(oe.fromString,this.encoder)}else oe.fromObject?(this.map=new Map,Object.keys(oe.fromObject).forEach(fe=>{const Je=oe.fromObject[fe];this.map.set(fe,Array.isArray(Je)?Je:[Je])})):this.map=null}has(oe){return this.init(),this.map.has(oe)}get(oe){this.init();const fe=this.map.get(oe);return fe?fe[0]:null}getAll(oe){return this.init(),this.map.get(oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(oe,fe){return this.clone({param:oe,value:fe,op:"a"})}appendAll(oe){const fe=[];return Object.keys(oe).forEach(Je=>{const Qe=oe[Je];Array.isArray(Qe)?Qe.forEach(ht=>{fe.push({param:Je,value:ht,op:"a"})}):fe.push({param:Je,value:Qe,op:"a"})}),this.clone(fe)}set(oe,fe){return this.clone({param:oe,value:fe,op:"s"})}delete(oe,fe){return this.clone({param:oe,value:fe,op:"d"})}toString(){return this.init(),this.keys().map(oe=>{const fe=this.encoder.encodeKey(oe);return this.map.get(oe).map(Je=>fe+"="+this.encoder.encodeValue(Je)).join("&")}).filter(oe=>""!==oe).join("&")}clone(oe){const fe=new ge({encoder:this.encoder});return fe.cloneFrom=this.cloneFrom||this,fe.updates=(this.updates||[]).concat(oe),fe}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(oe=>this.map.set(oe,this.cloneFrom.map.get(oe))),this.updates.forEach(oe=>{switch(oe.op){case"a":case"s":const fe=("a"===oe.op?this.map.get(oe.param):void 0)||[];fe.push(gt(oe.value)),this.map.set(oe.param,fe);break;case"d":if(void 0===oe.value){this.map.delete(oe.param);break}{let Je=this.map.get(oe.param)||[];const Qe=Je.indexOf(gt(oe.value));-1!==Qe&&Je.splice(Qe,1),Je.length>0?this.map.set(oe.param,Je):this.map.delete(oe.param)}}}),this.cloneFrom=this.updates=null)}}class Ie{constructor(){this.map=new Map}set(oe,fe){return this.map.set(oe,fe),this}get(oe){return this.map.has(oe)||this.map.set(oe,oe.defaultValue()),this.map.get(oe)}delete(oe){return this.map.delete(oe),this}has(oe){return this.map.has(oe)}keys(){return this.map.keys()}}function Ge(Oe){return"undefined"!=typeof ArrayBuffer&&Oe instanceof ArrayBuffer}function et(Oe){return"undefined"!=typeof Blob&&Oe instanceof Blob}function Te(Oe){return"undefined"!=typeof FormData&&Oe instanceof FormData}class ke{constructor(oe,fe,Je,Qe){let ht;if(this.url=fe,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=oe.toUpperCase(),function ut(Oe){switch(Oe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Qe?(this.body=void 0!==Je?Je:null,ht=Qe):ht=Je,ht&&(this.reportProgress=!!ht.reportProgress,this.withCredentials=!!ht.withCredentials,ht.responseType&&(this.responseType=ht.responseType),ht.headers&&(this.headers=ht.headers),ht.context&&(this.context=ht.context),ht.params&&(this.params=ht.params)),this.headers||(this.headers=new K),this.context||(this.context=new Ie),this.params){const St=this.params.toString();if(0===St.length)this.urlWithParams=fe;else{const Xt=fe.indexOf("?");this.urlWithParams=fe+(-1===Xt?"?":Xt<fe.length-1?"&":"")+St}}else this.params=new ge,this.urlWithParams=fe}serializeBody(){return null===this.body?null:Ge(this.body)||et(this.body)||Te(this.body)||function Ke(Oe){return"undefined"!=typeof URLSearchParams&&Oe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ge?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Te(this.body)?null:et(this.body)?this.body.type||null:Ge(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ge?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(oe={}){var fe;const Je=oe.method||this.method,Qe=oe.url||this.url,ht=oe.responseType||this.responseType,St=void 0!==oe.body?oe.body:this.body,Xt=void 0!==oe.withCredentials?oe.withCredentials:this.withCredentials,jt=void 0!==oe.reportProgress?oe.reportProgress:this.reportProgress;let Qt=oe.headers||this.headers,Mn=oe.params||this.params;const Tn=null!==(fe=oe.context)&&void 0!==fe?fe:this.context;return void 0!==oe.setHeaders&&(Qt=Object.keys(oe.setHeaders).reduce((qn,Mt)=>qn.set(Mt,oe.setHeaders[Mt]),Qt)),oe.setParams&&(Mn=Object.keys(oe.setParams).reduce((qn,Mt)=>qn.set(Mt,oe.setParams[Mt]),Mn)),new ke(Je,Qe,St,{params:Mn,headers:Qt,context:Tn,reportProgress:jt,responseType:ht,withCredentials:Xt})}}var ot=(()=>((ot=ot||{})[ot.Sent=0]="Sent",ot[ot.UploadProgress=1]="UploadProgress",ot[ot.ResponseHeader=2]="ResponseHeader",ot[ot.DownloadProgress=3]="DownloadProgress",ot[ot.Response=4]="Response",ot[ot.User=5]="User",ot))();class de{constructor(oe,fe=200,Je="OK"){this.headers=oe.headers||new K,this.status=void 0!==oe.status?oe.status:fe,this.statusText=oe.statusText||Je,this.url=oe.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends de{constructor(oe={}){super(oe),this.type=ot.ResponseHeader}clone(oe={}){return new ue({headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class X extends de{constructor(oe={}){super(oe),this.type=ot.Response,this.body=void 0!==oe.body?oe.body:null}clone(oe={}){return new X({body:void 0!==oe.body?oe.body:this.body,headers:oe.headers||this.headers,status:void 0!==oe.status?oe.status:this.status,statusText:oe.statusText||this.statusText,url:oe.url||this.url||void 0})}}class ye extends de{constructor(oe){super(oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${oe.url||"(unknown url)"}`:`Http failure response for ${oe.url||"(unknown url)"}: ${oe.status} ${oe.statusText}`,this.error=oe.error||null}}function Fe(Oe,oe){return{body:oe,headers:Oe.headers,context:Oe.context,observe:Oe.observe,params:Oe.params,reportProgress:Oe.reportProgress,responseType:Oe.responseType,withCredentials:Oe.withCredentials}}let _e=(()=>{class Oe{constructor(fe){this.handler=fe}request(fe,Je,Qe={}){let ht;if(fe instanceof ke)ht=fe;else{let jt,Qt;jt=Qe.headers instanceof K?Qe.headers:new K(Qe.headers),Qe.params&&(Qt=Qe.params instanceof ge?Qe.params:new ge({fromObject:Qe.params})),ht=new ke(fe,Je,void 0!==Qe.body?Qe.body:null,{headers:jt,context:Qe.context,params:Qt,reportProgress:Qe.reportProgress,responseType:Qe.responseType||"json",withCredentials:Qe.withCredentials})}const St=(0,E.of)(ht).pipe((0,O.b)(jt=>this.handler.handle(jt)));if(fe instanceof ke||"events"===Qe.observe)return St;const Xt=St.pipe((0,H.h)(jt=>jt instanceof X));switch(Qe.observe||"body"){case"body":switch(ht.responseType){case"arraybuffer":return Xt.pipe((0,J.U)(jt=>{if(null!==jt.body&&!(jt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return jt.body}));case"blob":return Xt.pipe((0,J.U)(jt=>{if(null!==jt.body&&!(jt.body instanceof Blob))throw new Error("Response is not a Blob.");return jt.body}));case"text":return Xt.pipe((0,J.U)(jt=>{if(null!==jt.body&&"string"!=typeof jt.body)throw new Error("Response is not a string.");return jt.body}));default:return Xt.pipe((0,J.U)(jt=>jt.body))}case"response":return Xt;default:throw new Error(`Unreachable: unhandled observe type ${Qe.observe}}`)}}delete(fe,Je={}){return this.request("DELETE",fe,Je)}get(fe,Je={}){return this.request("GET",fe,Je)}head(fe,Je={}){return this.request("HEAD",fe,Je)}jsonp(fe,Je){return this.request("JSONP",fe,{params:(new ge).append(Je,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(fe,Je={}){return this.request("OPTIONS",fe,Je)}patch(fe,Je,Qe={}){return this.request("PATCH",fe,Fe(Qe,Je))}post(fe,Je,Qe={}){return this.request("POST",fe,Fe(Qe,Je))}put(fe,Je,Qe={}){return this.request("PUT",fe,Fe(Qe,Je))}}return Oe.\u0275fac=function(fe){return new(fe||Oe)(e.LFG(Z))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();class wt{constructor(oe,fe){this.next=oe,this.interceptor=fe}handle(oe){return this.interceptor.intercept(oe,this.next)}}const It=new e.OlP("HTTP_INTERCEPTORS");let Sn=(()=>{class Oe{intercept(fe,Je){return Je.handle(fe)}}return Oe.\u0275fac=function(fe){return new(fe||Oe)},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const sr=/^\)\]\}',?\n/;let _r=(()=>{class Oe{constructor(fe){this.xhrFactory=fe}handle(fe){if("JSONP"===fe.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N.y(Je=>{const Qe=this.xhrFactory.build();if(Qe.open(fe.method,fe.urlWithParams),fe.withCredentials&&(Qe.withCredentials=!0),fe.headers.forEach((Mt,Zn)=>Qe.setRequestHeader(Mt,Zn.join(","))),fe.headers.has("Accept")||Qe.setRequestHeader("Accept","application/json, text/plain, */*"),!fe.headers.has("Content-Type")){const Mt=fe.detectContentTypeHeader();null!==Mt&&Qe.setRequestHeader("Content-Type",Mt)}if(fe.responseType){const Mt=fe.responseType.toLowerCase();Qe.responseType="json"!==Mt?Mt:"text"}const ht=fe.serializeBody();let St=null;const Xt=()=>{if(null!==St)return St;const Mt=Qe.statusText||"OK",Zn=new K(Qe.getAllResponseHeaders()),xn=function Jr(Oe){return"responseURL"in Oe&&Oe.responseURL?Oe.responseURL:/^X-Request-URL:/m.test(Oe.getAllResponseHeaders())?Oe.getResponseHeader("X-Request-URL"):null}(Qe)||fe.url;return St=new ue({headers:Zn,status:Qe.status,statusText:Mt,url:xn}),St},jt=()=>{let{headers:Mt,status:Zn,statusText:xn,url:Ot}=Xt(),it=null;204!==Zn&&(it=void 0===Qe.response?Qe.responseText:Qe.response),0===Zn&&(Zn=it?200:0);let Wt=Zn>=200&&Zn<300;if("json"===fe.responseType&&"string"==typeof it){const rn=it;it=it.replace(sr,"");try{it=""!==it?JSON.parse(it):null}catch(Ln){it=rn,Wt&&(Wt=!1,it={error:Ln,text:it})}}Wt?(Je.next(new X({body:it,headers:Mt,status:Zn,statusText:xn,url:Ot||void 0})),Je.complete()):Je.error(new ye({error:it,headers:Mt,status:Zn,statusText:xn,url:Ot||void 0}))},Qt=Mt=>{const{url:Zn}=Xt(),xn=new ye({error:Mt,status:Qe.status||0,statusText:Qe.statusText||"Unknown Error",url:Zn||void 0});Je.error(xn)};let Mn=!1;const Tn=Mt=>{Mn||(Je.next(Xt()),Mn=!0);let Zn={type:ot.DownloadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(Zn.total=Mt.total),"text"===fe.responseType&&!!Qe.responseText&&(Zn.partialText=Qe.responseText),Je.next(Zn)},qn=Mt=>{let Zn={type:ot.UploadProgress,loaded:Mt.loaded};Mt.lengthComputable&&(Zn.total=Mt.total),Je.next(Zn)};return Qe.addEventListener("load",jt),Qe.addEventListener("error",Qt),Qe.addEventListener("timeout",Qt),Qe.addEventListener("abort",Qt),fe.reportProgress&&(Qe.addEventListener("progress",Tn),null!==ht&&Qe.upload&&Qe.upload.addEventListener("progress",qn)),Qe.send(ht),Je.next({type:ot.Sent}),()=>{Qe.removeEventListener("error",Qt),Qe.removeEventListener("abort",Qt),Qe.removeEventListener("load",jt),Qe.removeEventListener("timeout",Qt),fe.reportProgress&&(Qe.removeEventListener("progress",Tn),null!==ht&&Qe.upload&&Qe.upload.removeEventListener("progress",qn)),Qe.readyState!==Qe.DONE&&Qe.abort()}})}}return Oe.\u0275fac=function(fe){return new(fe||Oe)(e.LFG(p.JF))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})();const Ar=new e.OlP("XSRF_COOKIE_NAME"),Ii=new e.OlP("XSRF_HEADER_NAME");class bi{}let Vr=(()=>{class Oe{constructor(fe,Je,Qe){this.doc=fe,this.platform=Je,this.cookieName=Qe,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const fe=this.doc.cookie||"";return fe!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(fe,this.cookieName),this.lastCookieString=fe),this.lastToken}}return Oe.\u0275fac=function(fe){return new(fe||Oe)(e.LFG(p.K0),e.LFG(e.Lbi),e.LFG(Ar))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),kr=(()=>{class Oe{constructor(fe,Je){this.tokenService=fe,this.headerName=Je}intercept(fe,Je){const Qe=fe.url.toLowerCase();if("GET"===fe.method||"HEAD"===fe.method||Qe.startsWith("http://")||Qe.startsWith("https://"))return Je.handle(fe);const ht=this.tokenService.getToken();return null!==ht&&!fe.headers.has(this.headerName)&&(fe=fe.clone({headers:fe.headers.set(this.headerName,ht)})),Je.handle(fe)}}return Oe.\u0275fac=function(fe){return new(fe||Oe)(e.LFG(bi),e.LFG(Ii))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Ni=(()=>{class Oe{constructor(fe,Je){this.backend=fe,this.injector=Je,this.chain=null}handle(fe){if(null===this.chain){const Je=this.injector.get(It,[]);this.chain=Je.reduceRight((Qe,ht)=>new wt(Qe,ht),this.backend)}return this.chain.handle(fe)}}return Oe.\u0275fac=function(fe){return new(fe||Oe)(e.LFG(Q),e.LFG(e.zs3))},Oe.\u0275prov=e.Yz7({token:Oe,factory:Oe.\u0275fac}),Oe})(),Yr=(()=>{class Oe{static disable(){return{ngModule:Oe,providers:[{provide:kr,useClass:Sn}]}}static withOptions(fe={}){return{ngModule:Oe,providers:[fe.cookieName?{provide:Ar,useValue:fe.cookieName}:[],fe.headerName?{provide:Ii,useValue:fe.headerName}:[]]}}}return Oe.\u0275fac=function(fe){return new(fe||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({providers:[kr,{provide:It,useExisting:kr,multi:!0},{provide:bi,useClass:Vr},{provide:Ar,useValue:"XSRF-TOKEN"},{provide:Ii,useValue:"X-XSRF-TOKEN"}]}),Oe})(),Qr=(()=>{class Oe{}return Oe.\u0275fac=function(fe){return new(fe||Oe)},Oe.\u0275mod=e.oAB({type:Oe}),Oe.\u0275inj=e.cJS({providers:[_e,{provide:Z,useClass:Ni},_r,{provide:Q,useExisting:_r}],imports:[[Yr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Oe})()},5e3:(lt,x,P)=>{"use strict";P.d(x,{$8M:()=>al,$Z:()=>Zp,AFp:()=>cw,ALo:()=>w1,AaK:()=>Z,AsE:()=>b,BQk:()=>Ma,CHM:()=>Ou,CRH:()=>O1,CZH:()=>I0,CqO:()=>t0,DdM:()=>Ev,EJc:()=>_E,EiD:()=>_g,EpF:()=>Sm,F$t:()=>jf,F4k:()=>Jp,FYo:()=>d1,FiY:()=>ss,Gf:()=>ag,GfV:()=>p1,GkF:()=>Kp,Gpc:()=>ie,Hsn:()=>Dd,Ikx:()=>By,JOm:()=>Ta,JVY:()=>zu,Jf7:()=>vl,L6k:()=>jd,LAX:()=>fg,LFG:()=>pn,LSH:()=>So,Lbi:()=>uw,MAs:()=>Bf,MGl:()=>Am,NdJ:()=>Nh,OlP:()=>Si,Oqu:()=>h,PXZ:()=>Dw,Q6J:()=>Td,QGY:()=>Uf,Qsj:()=>DC,QtT:()=>vC,R0b:()=>Nl,RDi:()=>Fr,Rgc:()=>T0,SBq:()=>jm,SDv:()=>mC,Sil:()=>mw,Suo:()=>P1,TTD:()=>W,TgZ:()=>Em,Tol:()=>uv,Udp:()=>cv,VKq:()=>NC,VLi:()=>Tw,W1O:()=>Mv,WLB:()=>Xc,X6Q:()=>Ow,XFs:()=>An,Xpm:()=>Nn,Y36:()=>Qc,YKP:()=>PC,YNc:()=>Yc,Yjl:()=>Hn,Yz7:()=>Vn,ZZ4:()=>Yv,_Bn:()=>c1,_UZ:()=>Wp,_Vd:()=>y0,_c5:()=>$w,_uU:()=>c,aQg:()=>Qv,c2e:()=>hw,cJS:()=>ur,cg1:()=>Uy,dDg:()=>z1,deG:()=>Ns,dqk:()=>Qt,dwT:()=>IT,eBb:()=>wa,eFA:()=>K1,ekj:()=>lv,evT:()=>hf,g9A:()=>Gv,h0i:()=>Gm,hGG:()=>Kw,hij:()=>m,iGM:()=>I1,ifc:()=>Qe,ip1:()=>aw,kEZ:()=>ho,kL8:()=>jy,lG2:()=>gn,lcZ:()=>$f,mCW:()=>ai,n5z:()=>oo,oAB:()=>Ve,oJD:()=>cp,oxw:()=>Ed,pB0:()=>ao,pQV:()=>r1,q3G:()=>gi,q4F:()=>xC,qLn:()=>$s,qOj:()=>Rf,qZA:()=>Dm,qzn:()=>zs,s9C:()=>xm,sBO:()=>Mw,sIi:()=>ca,s_b:()=>Pv,soG:()=>G1,tBr:()=>ia,tb:()=>dw,tp0:()=>Bi,uIk:()=>Eh,vHH:()=>ze,vpe:()=>Pd,wAp:()=>br,xi3:()=>Bh,xp6:()=>v,yhl:()=>Ud,ynx:()=>$p,z2F:()=>Wv,z3N:()=>Ki,zSh:()=>Pp,zs3:()=>Sa});var p=P(7579),e=P(727),E=P(8306),N=P(6451),O=P(3099);function H(s){for(let a in s)if(s[a]===H)return a;throw Error("Could not find renamed property on target object.")}function J(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function Z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Q(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const K=H({__forward_ref__:H});function ie(s){return s.__forward_ref__=ie,s.toString=function(){return Z(this())},s}function he(s){return st(s)?s():s}function st(s){return"function"==typeof s&&s.hasOwnProperty(K)&&s.__forward_ref__===ie}class ze extends Error{constructor(a,u){super(function gt(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,u)),this.code=a}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function Be(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}function et(s,a){const u=a?` in ${a}`:"";throw new ze(-201,`No provider for ${Be(s)} found${u}`)}function Et(s,a,u,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${u} ${f} ${a} <=Actual]`))}function Vn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ur(s){return{providers:s.providers||[],imports:s.imports||[]}}function sr(s){return Jr(s,bi)||Jr(s,kr)}function Jr(s,a){return s.hasOwnProperty(a)?s[a]:null}function Ii(s){return s&&(s.hasOwnProperty(Vr)||s.hasOwnProperty(Ni))?s[Vr]:null}const bi=H({\u0275prov:H}),Vr=H({\u0275inj:H}),kr=H({ngInjectableDef:H}),Ni=H({ngInjectorDef:H});var An=(()=>((An=An||{})[An.Default=0]="Default",An[An.Host=1]="Host",An[An.Self=2]="Self",An[An.SkipSelf=4]="SkipSelf",An[An.Optional=8]="Optional",An))();let Hi;function Qr(s){const a=Hi;return Hi=s,a}function je(s,a,u){const f=sr(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&An.Optional?null:void 0!==a?a:void et(Z(s),"Injector")}function Oe(s){return{toString:s}.toString()}var oe=(()=>((oe=oe||{})[oe.OnPush=0]="OnPush",oe[oe.Default=1]="Default",oe))(),Qe=(()=>{return(s=Qe||(Qe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Qe;var s})();const ht="undefined"!=typeof globalThis&&globalThis,St="undefined"!=typeof window&&window,Xt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=ht||"undefined"!=typeof global&&global||St||Xt,qn={},Mt=[],Zn=H({\u0275cmp:H}),xn=H({\u0275dir:H}),Ot=H({\u0275pipe:H}),it=H({\u0275mod:H}),Wt=H({\u0275fac:H}),rn=H({__NG_ELEMENT_ID__:H});let Ln=0;function Nn(s){return Oe(()=>{const u={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===oe.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Mt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Qe.Emulated,id:"c",styles:s.styles||Mt,_:null,setInput:null,schemas:s.schemas||null,tView:null},_=s.directives,y=s.features,T=s.pipes;return f.id+=Ln++,f.inputs=Rn(s.inputs,u),f.outputs=Rn(s.outputs),y&&y.forEach(I=>I(f)),f.directiveDefs=_?()=>("function"==typeof _?_():_).map(be):null,f.pipeDefs=T?()=>("function"==typeof T?T():T).map(Ce):null,f})}function be(s){return Yn(s)||function dr(s){return s[xn]||null}(s)}function Ce(s){return function _n(s){return s[Ot]||null}(s)}const tt={};function Ve(s){return Oe(()=>{const a={type:s.type,bootstrap:s.bootstrap||Mt,declarations:s.declarations||Mt,imports:s.imports||Mt,exports:s.exports||Mt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(tt[s.id]=s.type),a})}function Rn(s,a){if(null==s)return qn;const u={};for(const f in s)if(s.hasOwnProperty(f)){let _=s[f],y=_;Array.isArray(_)&&(y=_[1],_=_[0]),u[_]=f,a&&(a[_]=y)}return u}const gn=Nn;function Hn(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Yn(s){return s[Zn]||null}function kn(s,a){const u=s[it]||null;if(!u&&!0===a)throw new Error(`Type ${Z(s)} does not have '\u0275mod' property.`);return u}function Gt(s){return Array.isArray(s)&&"object"==typeof s[1]}function sn(s){return Array.isArray(s)&&!0===s[1]}function fr(s){return 0!=(8&s.flags)}function Br(s){return 2==(2&s.flags)}function mr(s){return 1==(1&s.flags)}function mi(s){return null!==s.template}function No(s){return 0!=(512&s[2])}function V(s,a){return s.hasOwnProperty(Wt)?s[Wt]:null}class q{constructor(a,u,f){this.previousValue=a,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function W(){return me}function me(s){return s.type.prototype.ngOnChanges&&(s.setInput=ve),we}function we(){const s=nt(this),a=null==s?void 0:s.current;if(a){const u=s.previous;if(u===qn)s.previous=a;else for(let f in a)u[f]=a[f];s.current=null,this.ngOnChanges(a)}}function ve(s,a,u,f){const _=nt(s)||function Y(s,a){return s[Pe]=a}(s,{previous:qn,current:null}),y=_.current||(_.current={}),T=_.previous,I=this.declaredInputs[u],L=T[I];y[I]=new q(L&&L.currentValue,a,T===qn),s[f]=a}W.ngInherit=!0;const Pe="__ngSimpleChanges__";function nt(s){return s[Pe]||null}let zr;function Fr(s){zr=s}function ji(){return void 0!==zr?zr:"undefined"!=typeof document?document:void 0}function Ur(s){return!!s.listen}const j={createRenderer:(s,a)=>ji()};function U(s){for(;Array.isArray(s);)s=s[0];return s}function Dt(s,a){return U(a[s])}function Ft(s,a){return U(a[s.index])}function fi(s,a){return s.data[a]}function Hr(s,a){return s[a]}function Tr(s,a){const u=a[s];return Gt(u)?u:u[0]}function Mr(s){return 4==(4&s[2])}function ki(s){return 128==(128&s[2])}function pi(s,a){return null==a?null:s[a]}function ts(s){s[18]=0}function Ho(s,a){s[5]+=a;let u=s,f=s[3];for(;null!==f&&(1===a&&1===u[5]||-1===a&&0===u[5]);)f[5]+=a,u=f,f=f[3]}const ar={lFrame:Vl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function As(){return ar.bindingsEnabled}function Zt(){return ar.lFrame.lView}function Qn(){return ar.lFrame.tView}function Ou(s){return ar.lFrame.contextLView=s,s[8]}function Ei(){let s=Mu();for(;null!==s&&64===s.type;)s=s.parent;return s}function Mu(){return ar.lFrame.currentTNode}function Ys(){const s=ar.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function da(s,a){const u=ar.lFrame;u.currentTNode=s,u.isParent=a}function ec(){return ar.lFrame.isParent}function Ul(){ar.lFrame.isParent=!1}function nl(){return ar.isInCheckNoChangesMode}function mo(s){ar.isInCheckNoChangesMode=s}function Zo(){const s=ar.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ha(){return ar.lFrame.bindingIndex}function Ps(){return ar.lFrame.bindingIndex++}function zo(s){const a=ar.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function La(s){ar.lFrame.inI18n=s}function Gh(s,a){const u=ar.lFrame;u.bindingIndex=u.bindingRootIndex=s,rl(a)}function rl(s){ar.lFrame.currentDirectiveIndex=s}function Nu(){return ar.lFrame.currentQueryIndex}function Qs(s){ar.lFrame.currentQueryIndex=s}function ko(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Ic(s,a,u){if(u&An.SkipSelf){let _=a,y=s;for(;!(_=_.parent,null!==_||u&An.Host||(_=ko(y),null===_||(y=y[15],10&_.type))););if(null===_)return!1;a=_,s=y}const f=ar.lFrame=Oc();return f.currentTNode=a,f.lView=s,!0}function Pc(s){const a=Oc(),u=s[1];ar.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function Oc(){const s=ar.lFrame,a=null===s?null:s.child;return null===a?Vl(s):a}function Vl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Mc(){const s=ar.lFrame;return ar.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const il=Mc;function fa(){const s=Mc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wo(){return ar.lFrame.selectedIndex}function pa(s){ar.lFrame.selectedIndex=s}function qi(){const s=ar.lFrame;return fi(s.tView,s.selectedIndex)}function ol(s,a){for(let u=a.directiveStart,f=a.directiveEnd;u<f;u++){const y=s.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:I,ngAfterViewInit:L,ngAfterViewChecked:z,ngOnDestroy:ee}=y;T&&(s.contentHooks||(s.contentHooks=[])).push(-u,T),I&&((s.contentHooks||(s.contentHooks=[])).push(u,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(u,I)),L&&(s.viewHooks||(s.viewHooks=[])).push(-u,L),z&&((s.viewHooks||(s.viewHooks=[])).push(u,z),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(u,z)),null!=ee&&(s.destroyHooks||(s.destroyHooks=[])).push(u,ee)}}function Rc(s,a,u){kc(s,a,3,u)}function rc(s,a,u,f){(3&s[2])===u&&kc(s,a,u,f)}function Di(s,a){let u=s[2];(3&u)===a&&(u&=2047,u+=1,s[2]=u)}function kc(s,a,u,f){const y=null!=f?f:-1,T=a.length-1;let I=0;for(let L=void 0!==f?65535&s[18]:0;L<T;L++)if("number"==typeof a[L+1]){if(I=a[L],null!=f&&I>=f)break}else a[L]<0&&(s[18]+=65536),(I<y||-1==y)&&(Hh(s,u,a,L),s[18]=(4294901760&s[18])+L+2),L++}function Hh(s,a,u,f){const _=u[f]<0,y=u[f+1],I=s[_?-u[f]:u[f]];if(_){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class ga{constructor(a,u,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function Fc(s,a,u){const f=Ur(s);let _=0;for(;_<u.length;){const y=u[_];if("number"==typeof y){if(0!==y)break;_++;const T=u[_++],I=u[_++],L=u[_++];f?s.setAttribute(a,I,L,T):a.setAttributeNS(T,I,L)}else{const T=y,I=u[++_];Fn(T)?f&&s.setProperty(a,T,I):f?s.setAttribute(a,T,I):a.setAttribute(T,I),_++}}return _}function ql(s){return 3===s||4===s||6===s}function Fn(s){return 64===s.charCodeAt(0)}function hr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let f=0;f<a.length;f++){const _=a[f];"number"==typeof _?u=_:0===u||ku(s,u,_,null,-1===u||2===u?a[++f]:null)}}return s}function ku(s,a,u,f,_){let y=0,T=s.length;if(-1===a)T=-1;else for(;y<s.length;){const I=s[y++];if("number"==typeof I){if(I===a){T=-1;break}if(I>a){T=y-1;break}}}for(;y<s.length;){const I=s[y];if("number"==typeof I)break;if(I===u){if(null===f)return void(null!==_&&(s[y+1]=_));if(f===s[y+1])return void(s[y+2]=_)}y++,null!==f&&y++,null!==_&&y++}-1!==T&&(s.splice(T,0,a),y=T+1),s.splice(y++,0,u),null!==f&&s.splice(y++,0,f),null!==_&&s.splice(y++,0,_)}function Dn(s){return-1!==s}function Ct(s){return 32767&s}function Li(s,a){let u=function Kt(s){return s>>16}(s),f=a;for(;u>0;)f=f[15],u--;return f}let Pi=!0;function ic(s){const a=Pi;return Pi=s,a}let zh=0;function Os(s,a){const u=io(s,a);if(-1!==u)return u;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,zl(f.data,s),zl(a,null),zl(f.blueprint,null));const _=Ms(s,a),y=s.injectorIndex;if(Dn(_)){const T=Ct(_),I=Li(_,a),L=I[1].data;for(let z=0;z<8;z++)a[y+z]=I[T+z]|L[T+z]}return a[y+8]=_,y}function zl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function io(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Ms(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,f=null,_=a;for(;null!==_;){const y=_[1],T=y.type;if(f=2===T?y.declTNode:1===T?_[6]:null,null===f)return-1;if(u++,_=_[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Ba(s,a,u){!function Lu(s,a,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(rn)&&(f=u[rn]),null==f&&(f=u[rn]=zh++);const _=255&f;a.data[s+(_>>5)]|=1<<_}(s,a,u)}function Xs(s,a,u){if(u&An.Optional)return s;et(a,"NodeInjector")}function sl(s,a,u,f){if(u&An.Optional&&void 0===f&&(f=null),0==(u&(An.Self|An.Host))){const _=s[9],y=Qr(void 0);try{return _?_.get(a,f,u&An.Optional):je(a,f,u&An.Optional)}finally{Qr(y)}}return Xs(f,a,u)}function To(s,a,u,f=An.Default,_){if(null!==s){const y=function xr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(rn)?s[rn]:void 0;return"number"==typeof a?a>=0?255&a:Rd:a}(u);if("function"==typeof y){if(!Ic(a,s,f))return f&An.Host?Xs(_,u,f):sl(a,u,f,_);try{const T=y(f);if(null!=T||f&An.Optional)return T;et(u)}finally{il()}}else if("number"==typeof y){let T=null,I=io(s,a),L=-1,z=f&An.Host?a[16][6]:null;for((-1===I||f&An.SkipSelf)&&(L=-1===I?Ms(s,a):a[I+8],-1!==L&&dn(f,!1)?(T=a[1],I=Ct(L),a=Li(L,a)):I=-1);-1!==I;){const ee=a[1];if(Oi(y,I,ee.data)){const Ae=oc(I,a,u,T,f,z);if(Ae!==ir)return Ae}L=a[I+8],-1!==L&&dn(f,a[1].data[I+8]===z)&&Oi(y,I,a)?(T=ee,I=Ct(L),a=Li(L,a)):I=-1}}}return sl(a,u,f,_)}const ir={};function Rd(){return new Ir(Ei(),Zt())}function oc(s,a,u,f,_,y){const T=a[1],I=T.data[s+8],ee=Fu(I,T,u,null==f?Br(I)&&Pi:f!=T&&0!=(3&I.type),_&An.Host&&y===I);return null!==ee?Ua(a,T,ee,I):ir}function Fu(s,a,u,f,_){const y=s.providerIndexes,T=a.data,I=1048575&y,L=s.directiveStart,ee=y>>20,Ze=_?I+ee:s.directiveEnd;for(let ft=f?I:I+ee;ft<Ze;ft++){const Nt=T[ft];if(ft<L&&u===Nt||ft>=L&&Nt.type===u)return ft}if(_){const ft=T[L];if(ft&&mi(ft)&&ft.type===u)return L}return null}function Ua(s,a,u,f){let _=s[u];const y=a.data;if(function Lc(s){return s instanceof ga}(_)){const T=_;T.resolving&&function Ie(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new ze(-200,`Circular dependency in DI detected for ${s}${u}`)}(Be(y[u]));const I=ic(T.canSeeViewProviders);T.resolving=!0;const L=T.injectImpl?Qr(T.injectImpl):null;Ic(s,f,An.Default);try{_=s[u]=T.factory(void 0,y,s,f),a.firstCreatePass&&u>=f.directiveStart&&function np(s,a,u){const{ngOnChanges:f,ngOnInit:_,ngDoCheck:y}=a.type.prototype;if(f){const T=me(a);(u.preOrderHooks||(u.preOrderHooks=[])).push(s,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,T)}_&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-s,_),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(s,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(s,y))}(u,y[u],a)}finally{null!==L&&Qr(L),ic(I),T.resolving=!1,il()}}return _}function Oi(s,a,u){return!!(u[a+(s>>5)]&1<<s)}function dn(s,a){return!(s&An.Self||s&An.Host&&a)}class Ir{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,f){return To(this._tNode,this._lView,a,f,u)}}function oo(s){return Oe(()=>{const a=s.prototype.constructor,u=a[Wt]||_i(a),f=Object.prototype;let _=Object.getPrototypeOf(s.prototype).constructor;for(;_&&_!==f;){const y=_[Wt]||_i(_);if(y&&y!==u)return y;_=Object.getPrototypeOf(_)}return y=>new y})}function _i(s){return st(s)?()=>{const a=_i(he(s));return a&&a()}:V(s)}function al(s){return function Rr(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const f=u.length;let _=0;for(;_<f;){const y=u[_];if(ql(y))break;if(0===y)_+=2;else if("number"==typeof y)for(_++;_<f&&"string"==typeof u[_];)_++;else{if(y===a)return u[_+1];_+=2}}}return null}(Ei(),s)}const vi="__parameters__";function gs(s,a,u){return Oe(()=>{const f=function sc(s){return function(...u){if(s){const f=s(...u);for(const _ in f)this[_]=f[_]}}}(a);function _(...y){if(this instanceof _)return f.apply(this,y),this;const T=new _(...y);return I.annotation=T,I;function I(L,z,ee){const Ae=L.hasOwnProperty(vi)?L[vi]:Object.defineProperty(L,vi,{value:[]})[vi];for(;Ae.length<=ee;)Ae.push(null);return(Ae[ee]=Ae[ee]||[]).push(T),L}}return u&&(_.prototype=Object.create(u.prototype)),_.prototype.ngMetadataName=s,_.annotationCls=_,_})}class Si{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Vn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ns=new Si("AnalyzeForEntryComponents");function Gi(s,a){void 0===a&&(a=s);for(let u=0;u<s.length;u++){let f=s[u];Array.isArray(f)?(a===s&&(a=s.slice(0,u)),Gi(f,a)):a!==s&&a.push(f)}return a}function ms(s,a){s.forEach(u=>Array.isArray(u)?ms(u,a):a(u))}function cc(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function _a(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function is(s,a){const u=[];for(let f=0;f<s;f++)u.push(a);return u}function Do(s,a,u){let f=_s(s,a);return f>=0?s[1|f]=u:(f=~f,function _o(s,a,u,f){let _=s.length;if(_==a)s.push(u,f);else if(1===_)s.push(f,s[0]),s[0]=u;else{for(_--,s.push(s[_-1],s[_]);_>a;)s[_]=s[_-2],_--;s[a]=u,s[a+1]=f}}(s,f,a,u)),f}function va(s,a){const u=_s(s,a);if(u>=0)return s[1|u]}function _s(s,a){return function ul(s,a,u){let f=0,_=s.length>>u;for(;_!==f;){const y=f+(_-f>>1),T=s[y<<u];if(a===T)return y<<u;T>a?_=y:f=y+1}return~(_<<u)}(s,a,1)}const jc={},Kl="__NG_DI_FLAG__",Er="ngTempTokenPath",B=/\n/gm,re="__source",Ne=H({provide:String,useValue:H});let at;function _t(s){const a=at;return at=s,a}function zt(s,a=An.Default){if(void 0===at)throw new ze(203,"");return null===at?je(s,void 0,a):at.get(s,a&An.Optional?null:void 0,a)}function pn(s,a=An.Default){return(function Yr(){return Hi}()||zt)(he(s),a)}const rr=pn;function ti(s){const a=[];for(let u=0;u<s.length;u++){const f=he(s[u]);if(Array.isArray(f)){if(0===f.length)throw new ze(900,"");let _,y=An.Default;for(let T=0;T<f.length;T++){const I=f[T],L=xi(I);"number"==typeof L?-1===L?_=I.token:y|=L:_=I}a.push(pn(_,y))}else a.push(pn(f))}return a}function Un(s,a){return s[Kl]=a,s.prototype[Kl]=a,s}function xi(s){return s[Kl]}const ia=Un(gs("Inject",s=>({token:s})),-1),ss=Un(gs("Optional"),8),Bi=Un(gs("SkipSelf"),4);let Za,Fd;function ks(s){var a;return(null===(a=function Xl(){if(void 0===Za&&(Za=null,Qt.trustedTypes))try{Za=Qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Za}())||void 0===a?void 0:a.createHTML(s))||s}function Zi(s){var a;return(null===(a=function Hu(){if(void 0===Fd&&(Fd=null,Qt.trustedTypes))try{Fd=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Fd}())||void 0===a?void 0:a.createHTML(s))||s}class pl{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yh extends pl{getTypeName(){return"HTML"}}class ip extends pl{getTypeName(){return"Style"}}class Qh extends pl{getTypeName(){return"Script"}}class Bd extends pl{getTypeName(){return"URL"}}class gl extends pl{getTypeName(){return"ResourceURL"}}function Ki(s){return s instanceof pl?s.changingThisBreaksApplicationSecurity:s}function zs(s,a){const u=Ud(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===a}function Ud(s){return s instanceof pl&&s.getTypeName()||null}function zu(s){return new Yh(s)}function jd(s){return new ip(s)}function wa(s){return new Qh(s)}function fg(s){return new Bd(s)}function ao(s){return new gl(s)}function $r(s){const a=new Wu(s);return function uc(){try{return!!(new window.DOMParser).parseFromString(ks(""),"text/html")}catch(s){return!1}}()?new Vd(a):a}class Vd{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(ks(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class Wu{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(a){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ks(a),u;const f=this.inertDocument.createElement("body");return f.innerHTML=ks(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const u=a.attributes;for(let _=u.length-1;0<_;_--){const T=u.item(_).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Ji=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,cs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ai(s){return(s=String(s)).match(Ji)||s.match(cs)?s:"unsafe:"+s}function Ku(s){return(s=String(s)).split(",").map(a=>ai(a.trim())).join(", ")}function ls(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function Gd(...s){const a={};for(const u of s)for(const f in u)u.hasOwnProperty(f)&&(a[f]=!0);return a}const Bo=ls("area,br,col,hr,img,wbr"),eu=ls("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tu=ls("rp,rt"),ci=Gd(Bo,Gd(eu,ls("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Gd(tu,ls("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Gd(tu,eu)),op=ls("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Ju=ls("srcset"),ml=Gd(op,Ju,ls("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ls("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),pg=ls("script,style,template");class ef{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let u=a.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let _=this.checkClobberedElement(u,u.nextSibling);if(_){u=_;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(a){const u=a.nodeName.toLowerCase();if(!ci.hasOwnProperty(u))return this.sanitizedSomething=!0,!pg.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=a.attributes;for(let _=0;_<f.length;_++){const y=f.item(_),T=y.name,I=T.toLowerCase();if(!ml.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let L=y.value;op[I]&&(L=ai(L)),Ju[I]&&(L=Ku(L)),this.buf.push(" ",T,'="',tf(L),'"')}return this.buf.push(">"),!0}endElement(a){const u=a.nodeName.toLowerCase();ci.hasOwnProperty(u)&&!Bo.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(a){this.buf.push(tf(a))}checkClobberedElement(a,u){if(u&&(a.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return u}}const gg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mg=/([^\#-~ |!])/g;function tf(s){return s.replace(/&/g,"&amp;").replace(gg,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(mg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Zd;function _g(s,a){let u=null;try{Zd=Zd||$r(s);let f=a?String(a):"";u=Zd.getInertBodyElement(f);let _=5,y=f;do{if(0===_)throw new Error("Failed to sanitize html because the input is unstable");_--,f=y,y=u.innerHTML,u=Zd.getInertBodyElement(f)}while(f!==y);return ks((new ef).sanitizeChildren(sp(u)||u))}finally{if(u){const f=sp(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function sp(s){return"content"in s&&function ap(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var gi=(()=>((gi=gi||{})[gi.NONE=0]="NONE",gi[gi.HTML=1]="HTML",gi[gi.STYLE=2]="STYLE",gi[gi.SCRIPT=3]="SCRIPT",gi[gi.URL=4]="URL",gi[gi.RESOURCE_URL=5]="RESOURCE_URL",gi))();function cp(s){const a=Yu();return a?Zi(a.sanitize(gi.HTML,s)||""):zs(s,"HTML")?Zi(Ki(s)):_g(ji(),ge(s))}function So(s){const a=Yu();return a?a.sanitize(gi.URL,s)||"":zs(s,"URL")?Ki(s):ai(ge(s))}function Yu(){const s=Zt();return s&&s[12]}const Qu="__ngContext__";function xo(s,a){s[Qu]=a}function Wd(s){const a=function vs(s){return s[Qu]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function Yi(s){return s.ngOriginalError}function Dg(s,...a){s.error(...a)}class $s{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a),f=function Eg(s){return s&&s.ngErrorLogger||Dg}(a);f(this._console,"ERROR",a),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Yi(a);for(;u&&Yi(u);)u=Yi(u);return u||null}}const xg=/^>|^->|<!--|-->|--!>|<!-$/g,lf=/(<|>)/;const l_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function vl(s){return s.ownerDocument.defaultView}function hf(s){return s.ownerDocument}function za(s){return s instanceof Function?s():s}var Ta=(()=>((Ta=Ta||{})[Ta.Important=1]="Important",Ta[Ta.DashCase=2]="DashCase",Ta))();let xt;function td(s,a){return xt(s,a)}function aa(s){const a=s[3];return sn(a)?a[3]:a}function Gc(s){return nd(s[13])}function ou(s){return nd(s[4])}function nd(s){for(;null!==s&&!sn(s);)s=s[4];return s}function zi(s,a,u,f,_){if(null!=f){let y,T=!1;sn(f)?y=f:Gt(f)&&(T=!0,f=f[0]);const I=U(f);0===s&&null!==u?null==_?mf(a,u,I):Cl(a,u,I,_||null,!0):1===s&&null!==u?Cl(a,u,I,_||null,!0):2===s?_p(a,I,T):3===s&&a.destroyNode(I),null!=y&&function nh(s,a,u,f,_){const y=u[7];y!==U(u)&&zi(a,s,f,y,_);for(let I=10;I<u.length;I++){const L=u[I];Tl(L[1],L,s,a,f,y)}}(a,s,y,u,_)}}function su(s,a){return Ur(s)?s.createText(a):s.createTextNode(a)}function rd(s,a,u){Ur(s)?s.setValue(a,u):a.textContent=u}function Qd(s,a){return s.createComment(function uf(s){return s.replace(xg,a=>a.replace(lf,"\u200b$1\u200b"))}(a))}function hc(s,a,u){if(Ur(s))return s.createElement(a,u);{const f=null!==u?function cr(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(u):null;return null===f?s.createElement(a):s.createElementNS(f,a)}}function yl(s,a){const u=s[9],f=u.indexOf(a),_=a[3];1024&a[2]&&(a[2]&=-1025,Ho(_,-1)),u.splice(f,1)}function bl(s,a){if(s.length<=10)return;const u=10+a,f=s[u];if(f){const _=f[17];null!==_&&_!==s&&yl(_,f),a>0&&(s[u-1][4]=f[4]);const y=_a(s,10+a);!function Mg(s,a){Tl(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const T=y[19];null!==T&&T.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function au(s,a){if(!(256&a[2])){const u=a[11];Ur(u)&&u.destroyNode&&Tl(s,a,u,3,null,null),function Xd(s){let a=s[13];if(!a)return id(s[1],s);for(;a;){let u=null;if(Gt(a))u=a[13];else{const f=a[10];f&&(u=f)}if(!u){for(;a&&!a[4]&&a!==s;)Gt(a)&&id(a[1],a),a=a[3];null===a&&(a=s),Gt(a)&&id(a[1],a),u=a&&a[4]}a=u}}(a)}}function id(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function gp(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let f=0;f<u.length;f+=2){const _=a[u[f]];if(!(_ instanceof ga)){const y=u[f+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const I=_[y[T]],L=y[T+1];try{L.call(I)}finally{}}else try{y.call(_)}finally{}}}}(s,a),function pf(s,a){const u=s.cleanup,f=a[7];let _=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const T=u[y+1],I="function"==typeof T?T(a):U(a[T]),L=f[_=u[y+2]],z=u[y+3];"boolean"==typeof z?I.removeEventListener(u[y],L,z):z>=0?f[_=z]():f[_=-z].unsubscribe(),y+=2}else{const T=f[_=u[y+1]];u[y].call(T)}if(null!==f){for(let y=_+1;y<f.length;y++)f[y]();a[7]=null}}(s,a),1===a[1].type&&Ur(a[11])&&a[11].destroy();const u=a[17];if(null!==u&&sn(a[3])){u!==a[3]&&yl(u,a);const f=a[19];null!==f&&f.detachView(s)}}}function gf(s,a,u){return kg(s,a.parent,u)}function kg(s,a,u){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return u[0];if(2&f.flags){const _=s.data[f.directiveStart].encapsulation;if(_===Qe.None||_===Qe.Emulated)return null}return Ft(f,u)}function Cl(s,a,u,f,_){Ur(s)?s.insertBefore(a,u,f,_):a.insertBefore(u,f,_)}function mf(s,a,u){Ur(s)?s.appendChild(a,u):a.appendChild(u)}function _f(s,a,u,f,_){null!==f?Cl(s,a,u,f,_):mf(s,a,u)}function qr(s,a){return Ur(s)?s.parentNode(a):a.parentNode}function vf(s,a,u){return pc(s,a,u)}function fc(s,a,u){return 40&s.type?Ft(s,u):null}let wl,pc=fc;function th(s,a){pc=s,wl=a}function $a(s,a,u,f){const _=gf(s,f,a),y=a[11],I=vf(f.parent||a[6],f,a);if(null!=_)if(Array.isArray(u))for(let L=0;L<u.length;L++)_f(y,_,u[L],I,!1);else _f(y,_,u,I,!1);void 0!==wl&&wl(y,f,a,u,_)}function Ka(s,a){if(null!==a){const u=a.type;if(3&u)return Ft(a,s);if(4&u)return yf(-1,s[a.index]);if(8&u){const f=a.child;if(null!==f)return Ka(s,f);{const _=s[a.index];return sn(_)?yf(-1,_):U(_)}}if(32&u)return td(a,s)()||U(s[a.index]);{const f=mp(s,a);return null!==f?Array.isArray(f)?f[0]:Ka(aa(s[16]),f):Ka(s,a.next)}}return null}function mp(s,a){return null!==a?s[16][6].projection[a.projection]:null}function yf(s,a){const u=10+s+1;if(u<a.length){const f=a[u],_=f[1].firstChild;if(null!==_)return Ka(f,_)}return a[7]}function _p(s,a,u){const f=qr(s,a);f&&function eh(s,a,u,f){Ur(s)?s.removeChild(a,u,f):a.removeChild(u)}(s,f,a,u)}function cu(s,a,u,f,_,y,T){for(;null!=u;){const I=f[u.index],L=u.type;if(T&&0===a&&(I&&xo(U(I),f),u.flags|=4),64!=(64&u.flags))if(8&L)cu(s,a,u.child,f,_,y,!1),zi(a,s,_,I,y);else if(32&L){const z=td(u,f);let ee;for(;ee=z();)zi(a,s,_,ee,y);zi(a,s,_,I,y)}else 16&L?bf(s,a,f,u,_,y):zi(a,s,_,I,y);u=T?u.projectionNext:u.next}}function Tl(s,a,u,f,_,y){cu(u,f,s.firstChild,a,_,y,!1)}function bf(s,a,u,f,_,y){const T=u[16],L=T[6].projection[f.projection];if(Array.isArray(L))for(let z=0;z<L.length;z++)zi(a,s,_,L[z],y);else cu(s,a,L,T[3],_,y,!0)}function rh(s,a,u){Ur(s)?s.setAttribute(a,"style",u):a.style.cssText=u}function wf(s,a,u){Ur(s)?""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u):a.className=u}function Ls(s,a,u){let f=s.length;for(;;){const _=s.indexOf(a,u);if(-1===_)return _;if(0===_||s.charCodeAt(_-1)<=32){const y=a.length;if(_+y===f||s.charCodeAt(_+y)<=32)return _}u=_+1}}const od="ng-template";function vp(s,a,u){let f=0;for(;f<s.length;){let _=s[f++];if(u&&"class"===_){if(_=s[f],-1!==Ls(_.toLowerCase(),a,0))return!0}else if(1===_){for(;f<s.length&&"string"==typeof(_=s[f++]);)if(_.toLowerCase()===a)return!0;return!1}}return!1}function yp(s){return 4===s.type&&s.value!==od}function El(s,a,u){return a===(4!==s.type||u?s.value:od)}function Dl(s,a,u){let f=4;const _=s.attrs||[],y=function f_(s){for(let a=0;a<s.length;a++)if(ql(s[a]))return a;return s.length}(_);let T=!1;for(let I=0;I<a.length;I++){const L=a[I];if("number"!=typeof L){if(!T)if(4&f){if(f=2|1&f,""!==L&&!El(s,L,u)||""===L&&1===a.length){if(Ea(f))return!1;T=!0}}else{const z=8&f?L:a[++I];if(8&f&&null!==s.attrs){if(!vp(s.attrs,z,u)){if(Ea(f))return!1;T=!0}continue}const Ae=uu(8&f?"class":L,_,yp(s),u);if(-1===Ae){if(Ea(f))return!1;T=!0;continue}if(""!==z){let Ze;Ze=Ae>y?"":_[Ae+1].toLowerCase();const ft=8&f?Ze:null;if(ft&&-1!==Ls(ft,z,0)||2&f&&z!==Ze){if(Ea(f))return!1;T=!0}}}}else{if(!T&&!Ea(f)&&!Ea(L))return!1;if(T&&Ea(L))continue;T=!1,f=L|1&f}}return Ea(f)||T}function Ea(s){return 0==(1&s)}function uu(s,a,u,f){if(null===a)return-1;let _=0;if(f||!u){let y=!1;for(;_<a.length;){const T=a[_];if(T===s)return _;if(3===T||6===T)y=!0;else{if(1===T||2===T){let I=a[++_];for(;"string"==typeof I;)I=a[++_];continue}if(4===T)break;if(0===T){_+=4;continue}}_+=y?1:2}return-1}return function Ao(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const f=s[u];if("number"==typeof f)return-1;if(f===a)return u;u++}return-1}(a,s)}function bp(s,a,u=!1){for(let f=0;f<a.length;f++)if(Dl(s,a[f],u))return!0;return!1}function Io(s,a){e:for(let u=0;u<a.length;u++){const f=a[u];if(s.length===f.length){for(let _=0;_<s.length;_++)if(s[_]!==f[_])continue e;return!0}}return!1}function du(s,a){return s?":not("+a.trim()+")":a}function Lg(s){let a=s[0],u=1,f=2,_="",y=!1;for(;u<s.length;){let T=s[u];if("string"==typeof T)if(2&f){const I=s[++u];_+="["+T+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?_+="."+T:4&f&&(_+=" "+T);else""!==_&&!Ea(T)&&(a+=du(y,_),_=""),f=T,y=y||!Ea(f);u++}return""!==_&&(a+=du(y,_)),a}const S={};function v(s){w(Qn(),Zt(),wo()+s,nl())}function w(s,a,u,f){if(!f)if(3==(3&a[2])){const y=s.preOrderCheckHooks;null!==y&&Rc(a,y,u)}else{const y=s.preOrderHooks;null!==y&&rc(a,y,0,u)}pa(u)}function ce(s,a){return s<<17|a<<2}function xe(s){return s>>17&32767}function jn(s){return 2|s}function Xn(s){return(131068&s)>>2}function er(s,a){return-131069&s|a<<2}function ys(s){return 1|s}function lh(s,a){const u=s.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const _=u[f],y=u[f+1];if(-1!==y){const T=s.data[y];Qs(_),T.contentQueries(2,a[y],y)}}}function Al(s,a,u,f,_,y,T,I,L,z){const ee=a.blueprint.slice();return ee[0]=_,ee[2]=140|f,ts(ee),ee[3]=ee[15]=s,ee[8]=u,ee[10]=T||s&&s[10],ee[11]=I||s&&s[11],ee[12]=L||s&&s[12]||null,ee[9]=z||s&&s[9]||null,ee[6]=y,ee[16]=2==a.type?s[16]:ee,ee}function mu(s,a,u,f,_){let y=s.data[a];if(null===y)y=dh(s,a,u,f,_),function Vh(){return ar.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=f,y.attrs=_;const T=Ys();y.injectorIndex=null===T?-1:T.injectorIndex}return da(y,!0),y}function dh(s,a,u,f,_){const y=Mu(),T=ec(),L=s.data[a]=function Hg(s,a,u,f,_,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:_,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,u,a,f,_);return null===s.firstChild&&(s.firstChild=L),null!==y&&(T?null==y.child&&null!==L.parent&&(y.child=L):null===y.next&&(y.next=L)),L}function _u(s,a,u,f){if(0===u)return-1;const _=a.length;for(let y=0;y<u;y++)a.push(f),s.blueprint.push(f),s.data.push(null);return _}function vu(s,a,u){Pc(a);try{const f=s.viewQuery;null!==f&&tm(1,f,u);const _=s.template;null!==_&&xf(s,a,_,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&lh(s,a),s.staticViewQueries&&tm(2,s.viewQuery,u);const y=s.components;null!==y&&function Zc(s,a){for(let u=0;u<a.length;u++)Wc(s,a[u])}(a,y)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,fa()}}function ud(s,a,u,f){const _=a[2];if(256==(256&_))return;Pc(a);const y=nl();try{ts(a),function Is(s){return ar.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&xf(s,a,u,2,f);const T=3==(3&_);if(!y)if(T){const z=s.preOrderCheckHooks;null!==z&&Rc(a,z,null)}else{const z=s.preOrderHooks;null!==z&&rc(a,z,0,null),Di(a,0)}if(function U0(s){for(let a=Gc(s);null!==a;a=ou(a)){if(!a[2])continue;const u=a[9];for(let f=0;f<u.length;f++){const _=u[f],y=_[3];0==(1024&_[2])&&Ho(y,1),_[2]|=1024}}}(a),function Xg(s){for(let a=Gc(s);null!==a;a=ou(a))for(let u=10;u<a.length;u++){const f=a[u],_=f[1];ki(f)&&ud(_,f,_.template,f[8])}}(a),null!==s.contentQueries&&lh(s,a),!y)if(T){const z=s.contentCheckHooks;null!==z&&Rc(a,z)}else{const z=s.contentHooks;null!==z&&rc(a,z,1),Di(a,1)}!function ld(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const _=u[f];if(_<0)pa(~_);else{const y=_,T=u[++f],I=u[++f];Gh(T,y),I(2,a[y])}}}finally{pa(-1)}}(s,a);const I=s.components;null!==I&&function uh(s,a){for(let u=0;u<a.length;u++)em(s,a[u])}(a,I);const L=s.viewQuery;if(null!==L&&tm(2,L,f),!y)if(T){const z=s.viewCheckHooks;null!==z&&Rc(a,z)}else{const z=s.viewHooks;null!==z&&rc(a,z,2),Di(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ho(a[3],-1))}finally{fa()}}function w_(s,a,u,f){const _=a[10],y=!nl(),T=Mr(a);try{y&&!T&&_.begin&&_.begin(),T&&vu(s,a,f),ud(s,a,u,f)}finally{y&&!T&&_.end&&_.end()}}function xf(s,a,u,f,_){const y=wo(),T=2&f;try{pa(-1),T&&a.length>20&&w(s,a,20,nl()),u(f,_)}finally{pa(y)}}function dd(s,a,u){if(fr(a)){const _=a.directiveEnd;for(let y=a.directiveStart;y<_;y++){const T=s.data[y];T.contentQueries&&T.contentQueries(1,u[y],y)}}}function Il(s,a,u){!As()||(function F0(s,a,u,f){const _=u.directiveStart,y=u.directiveEnd;s.firstCreatePass||Os(u,a),xo(f,a);const T=u.initialInputs;for(let I=_;I<y;I++){const L=s.data[I],z=mi(L);z&&x_(a,u,L);const ee=Ua(a,s,I,u);xo(ee,a),null!==T&&Yg(0,I-_,ee,L,0,T),z&&(Tr(u.index,a)[8]=ee)}}(s,a,u,Ft(u,a)),128==(128&u.flags)&&function Wg(s,a,u){const f=u.directiveStart,_=u.directiveEnd,T=u.index,I=function Ac(){return ar.lFrame.currentDirectiveIndex}();try{pa(T);for(let L=f;L<_;L++){const z=s.data[L],ee=a[L];rl(L),(null!==z.hostBindings||0!==z.hostVars||null!==z.hostAttrs)&&Pf(z,ee)}}finally{pa(-1),rl(I)}}(s,a,u))}function hd(s,a,u=Ft){const f=a.localNames;if(null!==f){let _=a.index+1;for(let y=0;y<f.length;y+=2){const T=f[y+1],I=-1===T?u(a,s):s[T];s[_++]=I}}}function Bs(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Gg(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Gg(s,a,u,f,_,y,T,I,L,z){const ee=20+f,Ae=ee+_,Ze=function bs(s,a){const u=[];for(let f=0;f<a;f++)u.push(f<s?null:S);return u}(ee,Ae),ft="function"==typeof z?z():z;return Ze[1]={type:s,blueprint:Ze,template:u,queries:null,viewQuery:I,declTNode:a,data:Ze.slice().fill(null,ee),bindingStartIndex:ee,expandoStartIndex:Ae,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:L,consts:ft,incompleteFirstPass:!1}}function hh(s,a,u,f){const _=Sp(a);null===u?_.push(f):(_.push(u),s.firstCreatePass&&xp(s).push(f,_.length-1))}function fd(s,a,u){for(let f in s)if(s.hasOwnProperty(f)){const _=s[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(a,_):u[f]=[a,_]}return u}function Cs(s,a,u,f,_,y,T,I){const L=Ft(a,u);let ee,z=a.inputs;!I&&null!=z&&(ee=z[f])?(P_(s,u,ee,f,_),Br(a)&&function qg(s,a){const u=Tr(a,s);16&u[2]||(u[2]|=64)}(u,a.index)):3&a.type&&(f=function pd(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),_=null!=T?T(_,a.value||"",f):_,Ur(y)?y.setProperty(L,f,_):Fn(f)||(L.setProperty?L.setProperty(f,_):L[f]=_))}function If(s,a,u,f){let _=!1;if(As()){const y=function $g(s,a,u){const f=s.directiveRegistry;let _=null;if(f)for(let y=0;y<f.length;y++){const T=f[y];bp(u,T.selectors,!1)&&(_||(_=[]),Ba(Os(u,a),s,T.type),mi(T)?(Kg(s,u),_.unshift(T)):_.push(T))}return _}(s,a,u),T=null===f?null:{"":-1};if(null!==y){_=!0,Dp(u,s.data.length,y.length);for(let ee=0;ee<y.length;ee++){const Ae=y[ee];Ae.providersResolver&&Ae.providersResolver(Ae)}let I=!1,L=!1,z=_u(s,a,y.length,null);for(let ee=0;ee<y.length;ee++){const Ae=y[ee];u.mergedAttrs=hr(u.mergedAttrs,Ae.hostAttrs),Of(s,u,a,z,Ae),S_(z,Ae,T),null!==Ae.contentQueries&&(u.flags|=8),(null!==Ae.hostBindings||null!==Ae.hostAttrs||0!==Ae.hostVars)&&(u.flags|=128);const Ze=Ae.type.prototype;!I&&(Ze.ngOnChanges||Ze.ngOnInit||Ze.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(u.index),I=!0),!L&&(Ze.ngOnChanges||Ze.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(u.index),L=!0),z++}!function Tp(s,a){const f=a.directiveEnd,_=s.data,y=a.attrs,T=[];let I=null,L=null;for(let z=a.directiveStart;z<f;z++){const ee=_[z],Ae=ee.inputs,Ze=null===y||yp(a)?null:B0(Ae,y);T.push(Ze),I=fd(Ae,z,I),L=fd(ee.outputs,z,L)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=I,a.outputs=L}(s,u)}T&&function md(s,a,u){if(a){const f=s.localNames=[];for(let _=0;_<a.length;_+=2){const y=u[a[_+1]];if(null==y)throw new ze(-301,!1);f.push(a[_],y)}}}(u,f,T)}return u.mergedAttrs=hr(u.mergedAttrs,u.attrs),_}function D_(s,a,u,f,_,y){const T=y.hostBindings;if(T){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const L=~a.index;(function zg(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(I)!=L&&I.push(L),I.push(f,_,T)}}function Pf(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Kg(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function S_(s,a,u){if(u){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)u[a.exportAs[f]]=s;mi(a)&&(u[""]=s)}}function Dp(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}function Of(s,a,u,f,_){s.data[f]=_;const y=_.factory||(_.factory=V(_.type)),T=new ga(y,mi(_),null);s.blueprint[f]=T,u[f]=T,D_(s,a,0,f,_u(s,u,_.hostVars,S),_)}function x_(s,a,u){const f=Ft(a,s),_=Bs(u),y=s[10],T=ph(s,Al(s,_,null,u.onPush?64:16,f,a,y,y.createRenderer(f,u),null,null));s[a.index]=T}function Jg(s,a,u,f,_,y,T){if(null==y)Ur(s)?s.removeAttribute(a,_,u):a.removeAttribute(_);else{const I=null==T?ge(y):T(y,f||"",_);Ur(s)?s.setAttribute(a,_,I,u):u?a.setAttributeNS(u,_,I):a.setAttribute(_,I)}}function Yg(s,a,u,f,_,y){const T=y[a];if(null!==T){const I=f.setInput;for(let L=0;L<T.length;){const z=T[L++],ee=T[L++],Ae=T[L++];null!==I?f.setInput(u,Ae,z,ee):u[ee]=Ae}}}function B0(s,a){let u=null,f=0;for(;f<a.length;){const _=a[f];if(0!==_)if(5!==_){if("number"==typeof _)break;s.hasOwnProperty(_)&&(null===u&&(u=[]),u.push(_,s[_],a[f+1])),f+=2}else f+=2;else f+=4}return u}function Qg(s,a,u,f){return new Array(s,!0,!1,a,null,0,f,u,null,null)}function em(s,a){const u=Tr(a,s);if(ki(u)){const f=u[1];80&u[2]?ud(f,u,f.template,u[8]):u[5]>0&&fh(u)}}function fh(s){for(let f=Gc(s);null!==f;f=ou(f))for(let _=10;_<f.length;_++){const y=f[_];if(1024&y[2]){const T=y[1];ud(T,y,T.template,y[8])}else y[5]>0&&fh(y)}const u=s[1].components;if(null!==u)for(let f=0;f<u.length;f++){const _=Tr(u[f],s);ki(_)&&_[5]>0&&fh(_)}}function Wc(s,a){const u=Tr(a,s),f=u[1];(function Da(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(f,u),vu(f,u,u[8])}function ph(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Po(s){for(;s;){s[2]|=64;const a=aa(s);if(No(s)&&!a)return s;s=a}return null}function bu(s,a,u){const f=a[10];f.begin&&f.begin();try{ud(s,a,s.template,u)}catch(_){throw I_(a,_),_}finally{f.end&&f.end()}}function _d(s){!function Mf(s){for(let a=0;a<s.components.length;a++){const u=s.components[a],f=Wd(u),_=f[1];w_(_,f,_.template,u)}}(s[8])}function tm(s,a,u){Qs(0),a(s,u)}const nm=(()=>Promise.resolve(null))();function Sp(s){return s[7]||(s[7]=[])}function xp(s){return s.cleanup||(s.cleanup=[])}function I_(s,a){const u=s[9],f=u?u.get($s,null):null;f&&f.handleError(a)}function P_(s,a,u,f,_){for(let y=0;y<u.length;){const T=u[y++],I=u[y++],L=a[T],z=s.data[T];null!==z.setInput?z.setInput(L,_,f,I):L[I]=_}}function _c(s,a,u){const f=Dt(a,s);rd(s[11],f,u)}function mh(s,a,u){let f=u?s.styles:null,_=u?s.classes:null,y=0;if(null!==a)for(let T=0;T<a.length;T++){const I=a[T];"number"==typeof I?y=I:1==y?_=Q(_,I):2==y&&(f=Q(f,I+": "+a[++T]+";"))}u?s.styles=f:s.stylesWithoutHost=f,u?s.classes=_:s.classesWithoutHost=_}const Ip=new Si("INJECTOR",-1);class rm{get(a,u=jc){if(u===jc){const f=new Error(`NullInjectorError: No provider for ${Z(a)}!`);throw f.name="NullInjectorError",f}return u}}const Pp=new Si("Set Injector scope."),_h={},V0={};let vh;function M_(){return void 0===vh&&(vh=new rm),vh}function N_(s,a=null,u=null,f){const _=Op(s,a,u,f);return _._resolveInjectorDefTypes(),_}function Op(s,a=null,u=null,f){return new im(s,u,a||M_(),f)}class im{constructor(a,u,f,_=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&ms(u,I=>this.processProvider(I,a,u)),ms([a],I=>this.processInjectorType(I,[],y)),this.records.set(Ip,Cu(void 0,this));const T=this.records.get(Pp);this.scope=null!=T?T.value:null,this.source=_||("object"==typeof a?null:Z(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,u=jc,f=An.Default){this.assertNotDestroyed();const _=_t(this),y=Qr(void 0);try{if(!(f&An.SkipSelf)){let I=this.records.get(a);if(void 0===I){const L=function q0(s){return"function"==typeof s||"object"==typeof s&&s instanceof Si}(a)&&sr(a);I=L&&this.injectableDefInScope(L)?Cu(Nf(a),_h):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(f&An.Self?M_():this.parent).get(a,u=f&An.Optional&&u===jc?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[Er]=T[Er]||[]).unshift(Z(a)),_)throw T;return function so(s,a,u,f){const _=s[Er];throw a[re]&&_.unshift(a[re]),s.message=function Va(s,a,u,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let _=Z(a);if(Array.isArray(a))_=a.map(Z).join(" -> ");else if("object"==typeof a){let y=[];for(let T in a)if(a.hasOwnProperty(T)){let I=a[T];y.push(T+":"+("string"==typeof I?JSON.stringify(I):Z(I)))}_=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${_}]: ${s.replace(B,"\n  ")}`}("\n"+s.message,_,u,f),s.ngTokenPath=_,s[Er]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{Qr(y),_t(_)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,_)=>a.push(Z(_))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ze(205,!1)}processInjectorType(a,u,f){if(!(a=he(a)))return!1;let _=Ii(a);const y=null==_&&a.ngModule||void 0,T=void 0===y?a:y,I=-1!==f.indexOf(T);if(void 0!==y&&(_=Ii(y)),null==_)return!1;if(null!=_.imports&&!I){let ee;f.push(T);try{ms(_.imports,Ae=>{this.processInjectorType(Ae,u,f)&&(void 0===ee&&(ee=[]),ee.push(Ae))})}finally{}if(void 0!==ee)for(let Ae=0;Ae<ee.length;Ae++){const{ngModule:Ze,providers:ft}=ee[Ae];ms(ft,Nt=>this.processProvider(Nt,Ze,ft||Mt))}}this.injectorDefTypes.add(T);const L=V(T)||(()=>new T);this.records.set(T,Cu(L,_h));const z=_.providers;if(null!=z&&!I){const ee=a;ms(z,Ae=>this.processProvider(Ae,ee,z))}return void 0!==y&&void 0!==a.providers}processProvider(a,u,f){let _=yh(a=he(a))?a:he(a&&a.provide);const y=function om(s,a,u){return sm(s)?Cu(void 0,s.useValue):Cu(R_(s),_h)}(a);if(yh(a)||!0!==a.multi)this.records.get(_);else{let T=this.records.get(_);T||(T=Cu(void 0,_h,!0),T.factory=()=>ti(T.multi),this.records.set(_,T)),_=a,T.multi.push(a)}this.records.set(_,y)}hydrate(a,u){return u.value===_h&&(u.value=V0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function lm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=he(a.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Nf(s){const a=sr(s),u=null!==a?a.factory:V(s);if(null!==u)return u;if(s instanceof Si)throw new ze(204,!1);if(s instanceof Function)return function G0(s){const a=s.length;if(a>0)throw is(a,"?"),new ze(204,!1);const u=function _r(s){const a=s&&(s[bi]||s[kr]);if(a){const u=function Ar(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),a}return null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new ze(204,!1)}function R_(s,a,u){let f;if(yh(s)){const _=he(s);return V(_)||Nf(_)}if(sm(s))f=()=>he(s.useValue);else if(function k_(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...ti(s.deps||[]));else if(function am(s){return!(!s||!s.useExisting)}(s))f=()=>pn(he(s.useExisting));else{const _=he(s&&(s.useClass||s.provide));if(!function H0(s){return!!s.deps}(s))return V(_)||Nf(_);f=()=>new _(...ti(s.deps))}return f}function Cu(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function sm(s){return null!==s&&"object"==typeof s&&Ne in s}function yh(s){return"function"==typeof s}let Sa=(()=>{class s{static create(u,f){var _;if(Array.isArray(u))return N_({name:""},f,u,"");{const y=null!==(_=u.name)&&void 0!==_?_:"";return N_({name:y},u.parent,u.providers,y)}}}return s.THROW_IF_NOT_FOUND=jc,s.NULL=new rm,s.\u0275prov=Vn({token:s,providedIn:"any",factory:()=>pn(Ip)}),s.__NG_ELEMENT_ID__=-1,s})();function Ch(s,a){ol(Wd(s)[1],Ei())}function Rf(s){let a=function wh(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const f=[s];for(;a;){let _;if(mi(s))_=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new ze(903,"");_=a.\u0275dir}if(_){if(u){f.push(_);const T=s;T.inputs=Lp(s.inputs),T.declaredInputs=Lp(s.declaredInputs),T.outputs=Lp(s.outputs);const I=_.hostBindings;I&&J0(s,I);const L=_.viewQuery,z=_.contentQueries;if(L&&$0(s,L),z&&K0(s,z),J(s.inputs,_.inputs),J(s.declaredInputs,_.declaredInputs),J(s.outputs,_.outputs),mi(_)&&_.data.animation){const ee=s.data;ee.animation=(ee.animation||[]).concat(_.data.animation)}}const y=_.features;if(y)for(let T=0;T<y.length;T++){const I=y[T];I&&I.ngInherit&&I(s),I===Rf&&(u=!1)}}a=Object.getPrototypeOf(a)}!function gm(s){let a=0,u=null;for(let f=s.length-1;f>=0;f--){const _=s[f];_.hostVars=a+=_.hostVars,_.hostAttrs=hr(_.hostAttrs,u=hr(u,_.hostAttrs))}}(f)}function Lp(s){return s===qn?{}:s===Mt?[]:s}function $0(s,a){const u=s.viewQuery;s.viewQuery=u?(f,_)=>{a(f,_),u(f,_)}:a}function K0(s,a){const u=s.contentQueries;s.contentQueries=u?(f,_,y)=>{a(f,_,y),u(f,_,y)}:a}function J0(s,a){const u=s.hostBindings;s.hostBindings=u?(f,_)=>{a(f,_),u(f,_)}:a}let kf=null;function Ts(){if(!kf){const s=Qt.Symbol;if(s&&s.iterator)kf=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<a.length;++u){const f=a[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(kf=f)}}}return kf}function ca(s){return!!wu(s)&&(Array.isArray(s)||!(s instanceof Map)&&Ts()in s)}function wu(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Es(s,a,u){return s[a]=u}function ds(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function bc(s,a,u,f){const _=ds(s,a,u);return ds(s,a+1,f)||_}function Eh(s,a,u,f){const _=Zt();return ds(_,Ps(),a)&&(Qn(),function mc(s,a,u,f,_,y){const T=Ft(s,a);Jg(a[11],T,y,s.value,u,f,_)}(qi(),_,s,a,u,f)),Eh}function Tu(s,a,u,f){return ds(s,Ps(),u)?a+ge(u)+f:S}function Yc(s,a,u,f,_,y,T,I){const L=Zt(),z=Qn(),ee=s+20,Ae=z.firstCreatePass?function Cd(s,a,u,f,_,y,T,I,L){const z=a.consts,ee=mu(a,s,4,T||null,pi(z,I));If(a,u,ee,pi(z,L)),ol(a,ee);const Ae=ee.tViews=Gg(2,ee,f,_,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,z);return null!==a.queries&&(a.queries.template(a,ee),Ae.queries=a.queries.embeddedTView(ee)),ee}(ee,z,L,a,u,f,_,y,T):z.data[ee];da(Ae,!1);const Ze=L[11].createComment("");$a(z,L,Ze,Ae),xo(Ze,L),ph(L,L[ee]=Qg(Ze,L,Ze,Ae)),mr(Ae)&&Il(z,L,Ae),null!=T&&hd(L,Ae,I)}function Bf(s){return Hr(function xc(){return ar.lFrame.contextLView}(),20+s)}function Qc(s,a=An.Default){const u=Zt();return null===u?pn(s,a):To(Ei(),u,he(s),a)}function Zp(){throw new Error("invalid")}function Td(s,a,u){const f=Zt();return ds(f,Ps(),a)&&Cs(Qn(),qi(),f,s,a,f[11],u,!1),Td}function zp(s,a,u,f,_){const T=_?"class":"style";P_(s,u,a.inputs[T],T,f)}function Em(s,a,u,f){const _=Zt(),y=Qn(),T=20+s,I=_[11],L=_[T]=hc(I,a,function nc(){return ar.lFrame.currentNamespace}()),z=y.firstCreatePass?function Tm(s,a,u,f,_,y,T){const I=a.consts,z=mu(a,s,2,_,pi(I,y));return If(a,u,z,pi(I,T)),null!==z.attrs&&mh(z,z.attrs,!1),null!==z.mergedAttrs&&mh(z,z.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,z),z}(T,y,_,0,a,u,f):y.data[T];da(z,!0);const ee=z.mergedAttrs;null!==ee&&Fc(I,L,ee);const Ae=z.classes;null!==Ae&&wf(I,L,Ae);const Ze=z.styles;return null!==Ze&&rh(I,L,Ze),64!=(64&z.flags)&&$a(y,_,L,z),0===function ns(){return ar.lFrame.elementDepthCount}()&&xo(L,_),function qo(){ar.lFrame.elementDepthCount++}(),mr(z)&&(Il(y,_,z),dd(y,z,_)),null!==f&&hd(_,z),Em}function Dm(){let s=Ei();ec()?Ul():(s=s.parent,da(s,!1));const a=s;!function rs(){ar.lFrame.elementDepthCount--}();const u=Qn();return u.firstCreatePass&&(ol(u,s),fr(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Ru(s){return 0!=(16&s.flags)}(a)&&zp(u,a,Zt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function qh(s){return 0!=(32&s.flags)}(a)&&zp(u,a,Zt(),a.stylesWithoutHost,!1),Dm}function Wp(s,a,u,f){return Em(s,a,u,f),Dm(),Wp}function $p(s,a,u){const f=Zt(),_=Qn(),y=s+20,T=_.firstCreatePass?function e0(s,a,u,f,_){const y=a.consts,T=pi(y,f),I=mu(a,s,8,"ng-container",T);return null!==T&&mh(I,T,!0),If(a,u,I,pi(y,_)),null!==a.queries&&a.queries.elementStart(a,I),I}(y,_,f,a,u):_.data[y];da(T,!0);const I=f[y]=f[11].createComment("");return $a(_,f,I,T),xo(I,f),mr(T)&&(Il(_,f,T),dd(_,T,f)),null!=u&&hd(f,T),$p}function Ma(){let s=Ei();const a=Qn();return ec()?Ul():(s=s.parent,da(s,!1)),a.firstCreatePass&&(ol(a,s),fr(s)&&a.queries.elementEnd(s)),Ma}function Kp(s,a,u){return $p(s,a,u),Ma(),Kp}function Sm(){return Zt()}function Uf(s){return!!s&&"function"==typeof s.then}function Jp(s){return!!s&&"function"==typeof s.subscribe}const t0=Jp;function Nh(s,a,u,f){const _=Zt(),y=Qn(),T=Ei();return function Yp(s,a,u,f,_,y,T,I){const L=mr(f),ee=s.firstCreatePass&&xp(s),Ae=a[8],Ze=Sp(a);let ft=!0;if(3&f.type||I){const Pn=Ft(f,a),Wn=I?I(Pn):Pn,qt=Ze.length,gr=I?li=>I(U(li[f.index])):f.index;if(Ur(u)){let li=null;if(!I&&L&&(li=function n0(s,a,u,f){const _=s.cleanup;if(null!=_)for(let y=0;y<_.length-1;y+=2){const T=_[y];if(T===u&&_[y+1]===f){const I=a[7],L=_[y+2];return I.length>L?I[L]:null}"string"==typeof T&&(y+=2)}return null}(s,a,_,f.index)),null!==li)(li.__ngLastListenerFn__||li).__ngNextListenerFn__=y,li.__ngLastListenerFn__=y,ft=!1;else{y=kh(f,a,Ae,y,!1);const Ui=u.listen(Wn,_,y);Ze.push(y,Ui),ee&&ee.push(_,gr,qt,qt+1)}}else y=kh(f,a,Ae,y,!0),Wn.addEventListener(_,y,T),Ze.push(y),ee&&ee.push(_,gr,qt,T)}else y=kh(f,a,Ae,y,!1);const Nt=f.outputs;let cn;if(ft&&null!==Nt&&(cn=Nt[_])){const Pn=cn.length;if(Pn)for(let Wn=0;Wn<Pn;Wn+=2){const Dc=a[cn[Wn]][cn[Wn+1]].subscribe(y),ep=Ze.length;Ze.push(y,Dc),ee&&ee.push(_,f.index,ep,-(ep+1))}}}(y,_,_[11],T,s,a,!!u,f),Nh}function r0(s,a,u,f){try{return!1!==u(f)}catch(_){return I_(s,_),!1}}function kh(s,a,u,f,_){return function y(T){if(T===Function)return f;const I=2&s.flags?Tr(s.index,a):a;0==(32&a[2])&&Po(I);let L=r0(a,0,f,T),z=y.__ngNextListenerFn__;for(;z;)L=r0(a,0,z,T)&&L,z=z.__ngNextListenerFn__;return _&&!1===L&&(T.preventDefault(),T.returnValue=!1),L}}function Ed(s=1){return function tc(s){return(ar.lFrame.contextLView=function Gl(s,a){for(;s>0;)a=a[15],s--;return a}(s,ar.lFrame.contextLView))[8]}(s)}function Lh(s,a){let u=null;const f=function sd(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(0==(1&u))return a[u+1]}return null}(s);for(let _=0;_<a.length;_++){const y=a[_];if("*"!==y){if(null===f?bp(s,y,!0):Io(f,y))return _}else u=_}return u}function jf(s){const a=Zt()[16][6];if(!a.projection){const f=a.projection=is(s?s.length:1,null),_=f.slice();let y=a.child;for(;null!==y;){const T=s?Lh(y,s):0;null!==T&&(_[T]?_[T].projectionNext=y:f[T]=y,_[T]=y),y=y.next}}}function Dd(s,a=0,u){const f=Zt(),_=Qn(),y=mu(_,20+s,16,null,u||null);null===y.projection&&(y.projection=a),Ul(),64!=(64&y.flags)&&function lu(s,a,u){bf(a[11],0,a,u,gf(s,u,a),vf(u.parent||a[6],u,a))}(_,f,y)}function xm(s,a,u){return Am(s,"",a,"",u),xm}function Am(s,a,u,f,_){const y=Zt(),T=Tu(y,a,u,f);return T!==S&&Cs(Qn(),qi(),y,s,T,y[11],_,!1),Am}function Sy(s,a,u,f,_){const y=s[u+1],T=null===a;let I=f?xe(y):Xn(y),L=!1;for(;0!==I&&(!1===L||T);){const ee=s[I+1];Rb(s[I],a)&&(L=!0,s[I+1]=f?ys(ee):jn(ee)),I=f?xe(ee):Xn(ee)}L&&(s[u+1]=f?jn(y):ys(y))}function Rb(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&_s(s,a)>=0}const Ko={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xy(s){return s.substring(Ko.key,Ko.keyEnd)}function Om(s,a){const u=Ko.textEnd;return u===a?-1:(a=Ko.keyEnd=function Lb(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,Ko.key=a,u),Sd(s,a,u))}function Sd(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function cv(s,a,u){return Tc(s,a,u,!1),cv}function lv(s,a){return Tc(s,a,null,!0),lv}function uv(s){!function Ec(s,a,u,f){const _=Qn(),y=zo(2);_.firstUpdatePass&&dv(_,null,y,f);const T=Zt();if(u!==S&&ds(T,y,u)){const I=_.data[wo()];if(r(I,f)&&!l0(_,y)){let L=f?I.classesWithoutHost:I.stylesWithoutHost;null!==L&&(u=Q(L,u||"")),zp(_,I,T,u,f)}else!function Ny(s,a,u,f,_,y,T,I){_===S&&(_=Mt);let L=0,z=0,ee=0<_.length?_[0]:null,Ae=0<y.length?y[0]:null;for(;null!==ee||null!==Ae;){const Ze=L<_.length?_[L+1]:void 0,ft=z<y.length?y[z+1]:void 0;let cn,Nt=null;ee===Ae?(L+=2,z+=2,Ze!==ft&&(Nt=Ae,cn=ft)):null===Ae||null!==ee&&ee<Ae?(L+=2,Nt=ee):(z+=2,Nt=Ae,cn=ft),null!==Nt&&d0(s,a,u,f,Nt,cn,T,I),ee=L<_.length?_[L]:null,Ae=z<y.length?y[z]:null}}(_,I,T,T[11],T[y+1],T[y+1]=function My(s,a,u){if(null==u||""===u)return Mt;const f=[],_=Ki(u);if(Array.isArray(_))for(let y=0;y<_.length;y++)s(f,_[y],!0);else if("object"==typeof _)for(const y in _)_.hasOwnProperty(y)&&s(f,y,_[y]);else"string"==typeof _&&a(f,_);return f}(s,a,u),f,y)}}(Do,Ol,s,!0)}function Ol(s,a){for(let u=function sv(s){return function av(s){Ko.key=0,Ko.keyEnd=0,Ko.value=0,Ko.valueEnd=0,Ko.textEnd=s.length}(s),Om(s,Sd(s,0,Ko.textEnd))}(a);u>=0;u=Om(a,u))Do(s,xy(a),!0)}function Tc(s,a,u,f){const _=Zt(),y=Qn(),T=zo(2);y.firstUpdatePass&&dv(y,s,T,f),a!==S&&ds(_,T,a)&&d0(y,y.data[wo()],_,_[11],s,_[T+1]=function l(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Z(Ki(s)))),s}(a,u),f,T)}function l0(s,a){return a>=s.expandoStartIndex}function dv(s,a,u,f){const _=s.data;if(null===_[u+1]){const y=_[wo()],T=l0(s,u);r(y,f)&&null===a&&!T&&(a=!1),a=function Qp(s,a,u,f){const _=function Fa(s){const a=ar.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let y=f?a.residualClasses:a.residualStyles;if(null===_)0===(f?a.classBindings:a.styleBindings)&&(u=Xp(u=u0(null,s,a,u,f),a.attrs,f),y=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==_)if(u=u0(_,s,a,u,f),null===y){let L=function Nm(s,a,u){const f=u?a.classBindings:a.styleBindings;if(0!==Xn(f))return s[xe(f)]}(s,a,f);void 0!==L&&Array.isArray(L)&&(L=u0(null,s,a,L[1],f),L=Xp(L,a.attrs,f),function hv(s,a,u,f){s[xe(u?a.classBindings:a.styleBindings)]=f}(s,a,f,L))}else y=function Oy(s,a,u){let f;const _=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<_;y++)f=Xp(f,s[y].hostAttrs,u);return Xp(f,a.attrs,u)}(s,a,f)}return void 0!==y&&(f?a.residualClasses=y:a.residualStyles=y),u}(_,y,a,f),function Dy(s,a,u,f,_,y){let T=y?a.classBindings:a.styleBindings,I=xe(T),L=Xn(T);s[f]=u;let ee,z=!1;if(Array.isArray(u)){const Ae=u;ee=Ae[1],(null===ee||_s(Ae,ee)>0)&&(z=!0)}else ee=u;if(_)if(0!==L){const Ze=xe(s[I+1]);s[f+1]=ce(Ze,I),0!==Ze&&(s[Ze+1]=er(s[Ze+1],f)),s[I+1]=function Vt(s,a){return 131071&s|a<<17}(s[I+1],f)}else s[f+1]=ce(I,0),0!==I&&(s[I+1]=er(s[I+1],f)),I=f;else s[f+1]=ce(L,0),0===I?I=f:s[L+1]=er(s[L+1],f),L=f;z&&(s[f+1]=jn(s[f+1])),Sy(s,ee,f,!0),Sy(s,ee,f,!1),function a0(s,a,u,f,_){const y=_?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof a&&_s(y,a)>=0&&(u[f+1]=ys(u[f+1]))}(a,ee,s,f,y),T=ce(I,L),y?a.classBindings=T:a.styleBindings=T}(_,y,a,u,T,f)}}function u0(s,a,u,f,_){let y=null;const T=u.directiveEnd;let I=u.directiveStylingLast;for(-1===I?I=u.directiveStart:I++;I<T&&(y=a[I],f=Xp(f,y.hostAttrs,_),y!==s);)I++;return null!==s&&(u.directiveStylingLast=I),f}function Xp(s,a,u){const f=u?1:2;let _=-1;if(null!==a)for(let y=0;y<a.length;y++){const T=a[y];"number"==typeof T?_=T:_===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Do(s,T,!!u||a[++y]))}return void 0===s?null:s}function d0(s,a,u,f,_,y,T,I){if(!(3&a.type))return;const L=s.data,z=L[I+1];Gf(function Kr(s){return 1==(1&s)}(z)?pv(L,a,u,_,Xn(z),T):void 0)||(Gf(y)||function vt(s){return 2==(2&s)}(z)&&(y=pv(L,null,u,_,I,T)),function Cf(s,a,u,f,_){const y=Ur(s);if(a)_?y?s.addClass(u,f):u.classList.add(f):y?s.removeClass(u,f):u.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:Ta.DashCase;if(null==_)y?s.removeStyle(u,f,T):u.style.removeProperty(f);else{const I="string"==typeof _&&_.endsWith("!important");I&&(_=_.slice(0,-10),T|=Ta.Important),y?s.setStyle(u,f,_,T):u.style.setProperty(f,_,I?"important":"")}}}(f,T,Dt(wo(),u),_,y))}function pv(s,a,u,f,_,y){const T=null===a;let I;for(;_>0;){const L=s[_],z=Array.isArray(L),ee=z?L[1]:L,Ae=null===ee;let Ze=u[_+1];Ze===S&&(Ze=Ae?Mt:void 0);let ft=Ae?va(Ze,f):ee===f?Ze:void 0;if(z&&!Gf(ft)&&(ft=va(L,f)),Gf(ft)&&(I=ft,T))return I;const Nt=s[_+1];_=T?xe(Nt):Xn(Nt)}if(null!==a){let L=y?a.residualClasses:a.residualStyles;null!=L&&(I=va(L,f))}return I}function Gf(s){return void 0!==s}function r(s,a){return 0!=(s.flags&(a?16:32))}function c(s,a=""){const u=Zt(),f=Qn(),_=s+20,y=f.firstCreatePass?mu(f,_,1,a,null):f.data[_],T=u[_]=su(u[11],a);$a(f,u,T,y),da(y,!1)}function h(s){return m("",s,""),h}function m(s,a,u){const f=Zt(),_=Tu(f,s,a,u);return _!==S&&_c(f,wo(),_),m}function b(s,a,u,f,_){const y=Zt(),T=function Cc(s,a,u,f,_,y){const I=bc(s,ha(),u,_);return zo(2),I?a+ge(u)+f+ge(_)+y:S}(y,s,a,u,f,_);return T!==S&&_c(y,wo(),T),b}function By(s,a,u){const f=Zt();return ds(f,Ps(),a)&&Cs(Qn(),qi(),f,s,a,f[11],u,!0),By}const qf=void 0;var Hb=["en",[["a","p"],["AM","PM"],qf],[["AM","PM"],qf,qf],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qf,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qf,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qf,"{1} 'at' {0}",qf],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function AT(s){const u=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let eg={};function IT(s,a,u){"string"!=typeof a&&(u=a,a=s[br.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),eg[a]=s,u&&(eg[a][br.ExtraData]=u)}function Uy(s){const a=function Zb(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=qb(a);if(u)return u;const f=a.split("-")[0];if(u=qb(f),u)return u;if("en"===f)return Hb;throw new Error(`Missing locale data for the locale "${s}".`)}function jy(s){return Uy(s)[br.PluralCase]}function qb(s){return s in eg||(eg[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),eg[s]}var br=(()=>((br=br||{})[br.LocaleId=0]="LocaleId",br[br.DayPeriodsFormat=1]="DayPeriodsFormat",br[br.DayPeriodsStandalone=2]="DayPeriodsStandalone",br[br.DaysFormat=3]="DaysFormat",br[br.DaysStandalone=4]="DaysStandalone",br[br.MonthsFormat=5]="MonthsFormat",br[br.MonthsStandalone=6]="MonthsStandalone",br[br.Eras=7]="Eras",br[br.FirstDayOfWeek=8]="FirstDayOfWeek",br[br.WeekendRange=9]="WeekendRange",br[br.DateFormat=10]="DateFormat",br[br.TimeFormat=11]="TimeFormat",br[br.DateTimeFormat=12]="DateTimeFormat",br[br.NumberSymbols=13]="NumberSymbols",br[br.NumberFormats=14]="NumberFormats",br[br.CurrencyCode=15]="CurrencyCode",br[br.CurrencySymbol=16]="CurrencySymbol",br[br.CurrencyName=17]="CurrencyName",br[br.Currencies=18]="Currencies",br[br.Directionality=19]="Directionality",br[br.PluralCase=20]="PluralCase",br[br.ExtraData=21]="ExtraData",br))();const Vy=["zero","one","two","few","many"],tg="en-US",h0={marker:"element"},mv={marker:"ICU"};var Jo=(()=>((Jo=Jo||{})[Jo.SHIFT=2]="SHIFT",Jo[Jo.APPEND_EAGERLY=1]="APPEND_EAGERLY",Jo[Jo.COMMENT=2]="COMMENT",Jo))();let Gy=tg;function Wb(s,a,u){const f=a.insertBeforeIndex,_=Array.isArray(f)?f[0]:f;return null===_?fc(s,0,u):U(u[_])}function Hy(s,a,u,f,_){const y=a.insertBeforeIndex;if(Array.isArray(y)){let T=f,I=null;if(3&a.type||(I=T,T=_),null!==T&&0==(2&a.flags))for(let L=1;L<y.length;L++)Cl(s,T,u[y[L]],I,!1)}}function _v(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const f=s[u];qy(f)||$b(f,a)&&null===Rm(f)&&Na(f,a.index)}}function qy(s){return!(64&s.type)}function $b(s,a){return qy(a)||s.index>a.index}function Rm(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Na(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(th(Wb,Hy),s.insertBeforeIndex=a)}function km(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function f0(s,a,u){const f=dh(s,u,64,null,null);return _v(a,f),f}function p0(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function zy(s){return s>>>17}function g0(s){return(131070&s)>>>1}let zf=0,rg=0;function Jb(s,a,u,f){const _=u[11];let T,y=null;for(let I=0;I<a.length;I++){const L=a[I];if("string"==typeof L){const z=a[++I];null===u[z]&&(u[z]=su(_,L))}else if("number"==typeof L)switch(1&L){case 0:const z=zy(L);let ee,Ae;if(null===y&&(y=z,T=qr(_,f)),z===y?(ee=f,Ae=T):(ee=null,Ae=U(u[z])),null!==Ae){const cn=g0(L);Cl(_,Ae,u[cn],ee,!1);const Wn=km(s,cn);if(null!==Wn&&"object"==typeof Wn){const qt=p0(Wn,u);null!==qt&&Jb(s,Wn.create[qt],u,u[Wn.anchorIdx])}}break;case 1:const ft=a[++I],Nt=a[++I];Jg(_,Dt(L>>>1,u),null,null,ft,Nt,null)}else switch(L){case mv:const z=a[++I],ee=a[++I];null===u[ee]&&xo(u[ee]=Qd(_,z),u);break;case h0:const Ae=a[++I],Ze=a[++I];null===u[Ze]&&xo(u[Ze]=hc(_,Ae,null),u)}}}function Yb(s,a,u,f,_){for(let y=0;y<u.length;y++){const T=u[y],I=u[++y];if(T&_){let L="";for(let z=y+1;z<=y+I;z++){const ee=u[z];if("string"==typeof ee)L+=ee;else if("number"==typeof ee)if(ee<0)L+=ge(a[f-ee]);else{const Ae=ee>>>2;switch(3&ee){case 1:const Ze=u[++z],ft=u[++z],Nt=s.data[Ae];"string"==typeof Nt?Jg(a[11],a[Ae],null,Nt,Ze,L,ft):Cs(s,Nt,a,Ze,L,a[11],ft,!1);break;case 0:const cn=a[Ae];null!==cn&&rd(a[11],cn,L);break;case 2:Jy(s,km(s,Ae),a,L);break;case 3:Qb(s,km(s,Ae),f,a)}}}}else{const L=u[y+1];if(L>0&&3==(3&L)){const ee=km(s,L>>>2);a[ee.currentCaseLViewIndex]<0&&Qb(s,ee,f,a)}}y+=I}}function Qb(s,a,u,f){let _=f[a.currentCaseLViewIndex];if(null!==_){let y=zf;_<0&&(_=f[a.currentCaseLViewIndex]=~_,y=-1),Yb(s,f,a.update[_],u,y)}}function Jy(s,a,u,f){const _=function Xb(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const f=function Ad(s,a){const u=jy(a)(parseInt(s,10)),f=Vy[u];return void 0!==f?f:"other"}(a,function zb(){return Gy}());u=s.cases.indexOf(f),-1===u&&"other"!==f&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,f);if(p0(a,u)!==_&&(m0(s,a,u),u[a.currentCaseLViewIndex]=null===_?null:~_,null!==_)){const T=u[a.anchorIdx];T&&Jb(s,a.create[_],u,T)}}function m0(s,a,u){let f=p0(a,u);if(null!==f){const _=a.remove[f];for(let y=0;y<_.length;y++){const T=_[y];if(T>0){const I=Dt(T,u);null!==I&&_p(u[11],I)}else m0(s,km(s,~T),u)}}}function eC(){const s=[];let u,f,a=-1;function y(I,L){a=0;const z=p0(I,L);f=null!==z?I.remove[z]:Mt}function T(){if(a<f.length){const I=f[a++];return I>0?u[I]:(s.push(a,f),y(u[1].data[~I],u),T())}return 0===s.length?null:(f=s.pop(),a=s.pop(),T())}return function _(I,L){for(u=L;s.length;)s.pop();return y(I.value,L),T}}const Lm=/\ufffd(\d+):?\d*\ufffd/gi,_0=/\ufffd(\d+)\ufffd/,Yy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Qy=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,rC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,yv=/\uE500/g;function iC(s,a,u,f,_,y,T){const I=_u(s,f,1,null);let L=I<<Jo.SHIFT,z=Ys();a===z&&(z=null),null===z&&(L|=Jo.APPEND_EAGERLY),T&&(L|=Jo.COMMENT,function Wa(s){void 0===xt&&(xt=s())}(eC)),_.push(L,null===y?"":y);const ee=dh(s,I,T?32:1,null===y?"":y,null);_v(u,ee);const Ae=ee.index;return da(ee,!1),null!==z&&a!==z&&function Zy(s,a){let u=s.insertBeforeIndex;null===u?(th(Wb,Hy),u=s.insertBeforeIndex=[null,a]):(function de(s,a,u){s!=a&&Et(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(z,Ae),ee}function e1(s,a,u,f,_,y,T){const I=T.match(Lm),L=iC(s,a,u,y,f,I?null:T,!1);I&&Um(_,T,L.index,null,0,null)}function Um(s,a,u,f,_,y){const T=s.length,I=T+1;s.push(null,null);const L=T+2,z=a.split(Lm);let ee=0;for(let Ae=0;Ae<z.length;Ae++){const Ze=z[Ae];if(1&Ae){const ft=_+parseInt(Ze,10);s.push(-1-ft),ee|=Ml(ft)}else""!==Ze&&s.push(Ze)}return s.push(u<<2|(f?1:0)),f&&s.push(f,y),s[T]=ee,s[I]=s.length-L,ee}function Ml(s){return 1<<Math.min(s,31)}function oC(s){let a,y,u="",f=0,_=!1;for(;null!==(a=Qy.exec(s));)_?a[0]===`\ufffd/*${y}\ufffd`&&(f=a.index,_=!1):(u+=s.substring(f,a.index+a[0].length),y=a[1],_=!0);return u+=s.substr(f),u}function aC(s,a,u,f,_,y){let T=0;const I={type:_.type,currentCaseLViewIndex:_u(s,a,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function FT(s,a,u){s.push(Ml(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,_,y),function Kb(s,a,u){const f=s.data[a];null===f?s.data[a]=u:f.value=u}(s,y,I);const L=_.values;for(let z=0;z<L.length;z++){const ee=L[z],Ae=[];for(let Ze=0;Ze<ee.length;Ze++){const ft=ee[Ze];if("string"!=typeof ft){const Nt=Ae.push(ft)-1;ee[Ze]=`\x3c!--\ufffd${Nt}\ufffd--\x3e`}}T=kT(s,I,a,u,f,_.cases[z],ee.join(""),Ae)|T}T&&function uC(s,a,u){s.push(a,1,u<<2|3)}(u,T,y)}function RT(s){const a=[],u=[];let f=1,_=0;const y=n1(s=s.replace(Yy,function(T,I,L){return f="select"===L?0:1,_=parseInt(I.substr(1),10),""}));for(let T=0;T<y.length;){let I=y[T++].trim();1===f&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const L=n1(y[T++]);a.length>u.length&&u.push(L)}return{type:f,mainBinding:_,cases:a,values:u}}function n1(s){if(!s)return[];let a=0;const u=[],f=[],_=/[{}]/g;let y;for(_.lastIndex=0;y=_.exec(s);){const I=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const L=s.substring(a,I);Yy.test(L)?f.push(RT(L)):f.push(L),a=I+1}}else{if(0==u.length){const L=s.substring(a,I);f.push(L),a=I+1}u.push("{")}}const T=s.substring(a);return f.push(T),f}function kT(s,a,u,f,_,y,T,I){const L=[],z=[],ee=[];a.cases.push(y),a.create.push(L),a.remove.push(z),a.update.push(ee);const Ze=$r(ji()).getInertBodyElement(T),ft=sp(Ze)||Ze;return ft?cC(s,a,u,f,L,z,ee,ft,_,I,0):0}function cC(s,a,u,f,_,y,T,I,L,z,ee){let Ae=0,Ze=I.firstChild;for(;Ze;){const ft=_u(s,u,1,null);switch(Ze.nodeType){case Node.ELEMENT_NODE:const Nt=Ze,cn=Nt.tagName.toLowerCase();if(ci.hasOwnProperty(cn)){bv(_,h0,cn,L,ft),s.data[ft]=cn;const gr=Nt.attributes;for(let li=0;li<gr.length;li++){const Ui=gr.item(li),Dc=Ui.name.toLowerCase();Ui.value.match(Lm)?ml.hasOwnProperty(Dc)&&Um(T,Ui.value,ft,Ui.name,0,op[Dc]?ai:Ju[Dc]?Ku:null):BT(_,ft,Ui)}Ae=cC(s,a,u,f,_,y,T,Ze,ft,z,ee+1)|Ae,lC(y,ft,ee)}break;case Node.TEXT_NODE:const Pn=Ze.textContent||"",Wn=Pn.match(Lm);bv(_,null,Wn?"":Pn,L,ft),lC(y,ft,ee),Wn&&(Ae=Um(T,Pn,ft,null,0,null)|Ae);break;case Node.COMMENT_NODE:const qt=_0.exec(Ze.textContent||"");if(qt){const li=z[parseInt(qt[1],10)];bv(_,mv,"",L,ft),aC(s,u,f,L,li,ft),LT(y,ft,ee)}}Ze=Ze.nextSibling}return Ae}function lC(s,a,u){0===u&&s.push(a)}function LT(s,a,u){0===u&&(s.push(~a),s.push(a))}function bv(s,a,u,f,_){null!==a&&s.push(a),s.push(u,_,function Wy(s,a,u){return s|a<<17|u<<1}(0,f,_))}function BT(s,a,u){s.push(a<<1|1,u.name,u.value)}function pC(s,a,u=-1){const f=Qn(),_=Zt(),y=20+s,T=pi(f.consts,a),I=Ys();f.firstCreatePass&&function Wf(s,a,u,f,_,y){const T=Ys(),I=[],L=[],z=[[]];_=function sC(s,a){if(function NT(s){return-1===s}(a))return oC(s);{const u=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return oC(s.substring(u,f))}}(_,y);const ee=function Xy(s){return s.replace(yv," ")}(_).split(rC);for(let Ae=0;Ae<ee.length;Ae++){let Ze=ee[Ae];if(0==(1&Ae)){const ft=n1(Ze);for(let Nt=0;Nt<ft.length;Nt++){let cn=ft[Nt];if(0==(1&Nt)){const Pn=cn;""!==Pn&&e1(s,T,z[0],I,L,u,Pn)}else{const Pn=cn;if("object"!=typeof Pn)throw new Error(`Unable to parse ICU expression in "${_}" message.`);aC(s,u,L,a,Pn,iC(s,T,z[0],u,I,"",!0).index)}}}else{const ft=47===Ze.charCodeAt(0),cn=(Ze.charCodeAt(ft?1:0),20+Number.parseInt(Ze.substring(ft?2:1)));if(ft)z.shift(),da(Ys(),!1);else{const Pn=f0(s,z[0],cn);z.unshift([]),da(Pn,!0)}}}s.data[f]={create:I,update:L}}(f,null===I?0:I.index,_,y,T,u);const L=f.data[y],ee=kg(f,I===_[6]?null:I,_);(function Ky(s,a,u,f){const _=s[11];for(let y=0;y<a.length;y++){const T=a[y++],I=a[y],L=(T&Jo.COMMENT)===Jo.COMMENT,z=(T&Jo.APPEND_EAGERLY)===Jo.APPEND_EAGERLY,ee=T>>>Jo.SHIFT;let Ae=s[ee];null===Ae&&(Ae=s[ee]=L?_.createComment(I):su(_,I)),z&&null!==u&&Cl(_,u,Ae,f,!1)}})(_,L.create,ee,I&&8&I.type?_[I.index]:null),La(!0)}function mC(s,a,u){pC(s,a,u),function gC(){La(!1)}()}function r1(s){return function $y(s){s&&(zf|=1<<Math.min(rg,31)),rg++}(ds(Zt(),Ps(),s)),r1}function vC(s){!function OT(s,a,u){if(rg>0){const f=s.data[u];Yb(s,a,Array.isArray(f)?f:f.update,ha()-rg-1,zf)}zf=0,rg=0}(Qn(),Zt(),s+20)}function i1(s,a,u,f,_){if(s=he(s),Array.isArray(s))for(let y=0;y<s.length;y++)i1(s[y],a,u,f,_);else{const y=Qn(),T=Zt();let I=yh(s)?s:he(s.provide),L=R_(s);const z=Ei(),ee=1048575&z.providerIndexes,Ae=z.directiveStart,Ze=z.providerIndexes>>20;if(yh(s)||!s.multi){const ft=new ga(L,_,Qc),Nt=s1(I,a,_?ee:ee+Ze,Ae);-1===Nt?(Ba(Os(z,T),y,I),o1(y,s,a.length),a.push(I),z.directiveStart++,z.directiveEnd++,_&&(z.providerIndexes+=1048576),u.push(ft),T.push(ft)):(u[Nt]=ft,T[Nt]=ft)}else{const ft=s1(I,a,ee+Ze,Ae),Nt=s1(I,a,ee,ee+Ze),cn=ft>=0&&u[ft],Pn=Nt>=0&&u[Nt];if(_&&!Pn||!_&&!cn){Ba(Os(z,T),y,I);const Wn=function bC(s,a,u,f,_){const y=new ga(s,u,Qc);return y.multi=[],y.index=a,y.componentProviders=0,yC(y,_,f&&!u),y}(_?a1:v0,u.length,_,f,L);!_&&Pn&&(u[Nt].providerFactory=Wn),o1(y,s,a.length,0),a.push(I),z.directiveStart++,z.directiveEnd++,_&&(z.providerIndexes+=1048576),u.push(Wn),T.push(Wn)}else o1(y,s,ft>-1?ft:Nt,yC(u[_?Nt:ft],L,!_&&f));!_&&f&&Pn&&u[Nt].componentProviders++}}}function o1(s,a,u,f){const _=yh(a),y=function cm(s){return!!s.useClass}(a);if(_||y){const L=(y?he(a.useClass):a).prototype.ngOnDestroy;if(L){const z=s.destroyHooks||(s.destroyHooks=[]);if(!_&&a.multi){const ee=z.indexOf(u);-1===ee?z.push(u,[f,L]):z[ee+1].push(f,L)}else z.push(u,L)}}}function yC(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function s1(s,a,u,f){for(let _=u;_<f;_++)if(a[_]===s)return _;return-1}function v0(s,a,u,f){return Cv(this.multi,[])}function a1(s,a,u,f){const _=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,I=Ua(u,u[1],this.providerFactory.index,f);y=I.slice(0,T),Cv(_,y);for(let L=T;L<I.length;L++)y.push(I[L])}else y=[],Cv(_,y);return y}function Cv(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function c1(s,a=[]){return u=>{u.providersResolver=(f,_)=>function Ds(s,a,u){const f=Qn();if(f.firstCreatePass){const _=mi(s);i1(u,f.data,f.blueprint,_,!0),i1(a,f.data,f.blueprint,_,!1)}}(f,_?_(s):s,a)}}class wv{}class wC{resolveComponentFactory(a){throw function CC(s){const a=Error(`No component factory found for ${Z(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let y0=(()=>{class s{}return s.NULL=new wC,s})();function TC(){return ig(Ei(),Zt())}function ig(s,a){return new jm(Ft(s,a))}let jm=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=TC,s})();function EC(s){return s instanceof jm?s.nativeElement:s}class d1{}let DC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function h1(){const s=Zt(),u=Tr(Ei().index,s);return function SC(s){return s[11]}(Gt(u)?u:s)}(),s})(),f1=(()=>{class s{}return s.\u0275prov=Vn({token:s,providedIn:"root",factory:()=>null}),s})();class p1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const xC=new p1("13.3.0"),g1={};function Tv(s,a,u,f,_=!1){for(;null!==u;){const y=a[u.index];if(null!==y&&f.push(U(y)),sn(y))for(let I=10;I<y.length;I++){const L=y[I],z=L[1].firstChild;null!==z&&Tv(L[1],L,z,f)}const T=u.type;if(8&T)Tv(s,a,u.child,f);else if(32&T){const I=td(u,a);let L;for(;L=I();)f.push(L)}else if(16&T){const I=mp(a,u);if(Array.isArray(I))f.push(...I);else{const L=aa(a[16]);Tv(L[1],L,I,f,!0)}}u=_?u.projectionNext:u.next}return f}class Vm{constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,u=a[1];return Tv(u,a,u.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(sn(a)){const u=a[8],f=u?u.indexOf(this):-1;f>-1&&(bl(a,f),_a(u,f))}this._attachedToViewContainer=!1}au(this._lView[1],this._lView)}onDestroy(a){hh(this._lView[1],this._lView,null,a)}markForCheck(){Po(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){bu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function A_(s,a,u){mo(!0);try{bu(s,a,u)}finally{mo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new ze(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Rg(s,a){Tl(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new ze(902,"");this._appRef=a}}class $T extends Vm{constructor(a){super(a),this._view=a}detectChanges(){_d(this._view)}checkNoChanges(){!function gh(s){mo(!0);try{_d(s)}finally{mo(!1)}}(this._view)}get context(){return null}}class AC extends y0{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Yn(a);return new m1(u,this.ngModule)}}function IC(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class m1 extends wv{constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function p_(s){return s.map(Lg).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return IC(this.componentDef.inputs)}get outputs(){return IC(this.componentDef.outputs)}create(a,u,f,_){const y=(_=_||this.ngModule)?function JT(s,a){return{get:(u,f,_)=>{const y=s.get(u,g1,_);return y!==g1||f===g1?y:a.get(u,f,_)}}}(a,_.injector):a,T=y.get(d1,j),I=y.get(f1,null),L=T.createRenderer(null,this.componentDef),z=this.componentDef.selectors[0][0]||"div",ee=f?function E_(s,a,u){if(Ur(s))return s.selectRootElement(a,u===Qe.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(L,f,this.componentDef.encapsulation):hc(T.createRenderer(null,this.componentDef),z,function KT(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(z)),Ae=this.componentDef.onPush?576:528,Ze=function W0(s,a){return{components:[],scheduler:s||l_,clean:nm,playerHandler:a||null,flags:0}}(),ft=Gg(0,null,null,1,0,null,null,null,null,null),Nt=Al(null,ft,Ze,Ae,null,null,T,L,I,y);let cn,Pn;Pc(Nt);try{const Wn=function fm(s,a,u,f,_,y){const T=u[1];u[20]=s;const L=mu(T,20,2,"#host",null),z=L.mergedAttrs=a.hostAttrs;null!==z&&(mh(L,z,!0),null!==s&&(Fc(_,s,z),null!==L.classes&&wf(_,s,L.classes),null!==L.styles&&rh(_,s,L.styles)));const ee=f.createRenderer(s,a),Ae=Al(u,Bs(a),null,a.onPush?64:16,u[20],L,f,ee,y||null,null);return T.firstCreatePass&&(Ba(Os(L,u),T,a.type),Kg(T,L),Dp(L,u.length,1)),ph(u,Ae),u[20]=Ae}(ee,this.componentDef,Nt,T,L);if(ee)if(f)Fc(L,ee,["ng-version",xC.full]);else{const{attrs:qt,classes:gr}=function g_(s){const a=[],u=[];let f=1,_=2;for(;f<s.length;){let y=s[f];if("string"==typeof y)2===_?""!==y&&a.push(y,s[++f]):8===_&&u.push(y);else{if(!Ea(_))break;_=y}f++}return{attrs:a,classes:u}}(this.componentDef.selectors[0]);qt&&Fc(L,ee,qt),gr&&gr.length>0&&wf(L,ee,gr.join(" "))}if(Pn=fi(ft,20),void 0!==u){const qt=Pn.projection=[];for(let gr=0;gr<this.ngContentSelectors.length;gr++){const li=u[gr];qt.push(null!=li?Array.from(li):null)}}cn=function pm(s,a,u,f,_){const y=u[1],T=function L0(s,a,u){const f=Ei();s.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Of(s,f,a,_u(s,a,1,null),u));const _=Ua(a,s,f.directiveStart,f);xo(_,a);const y=Ft(f,a);return y&&xo(y,a),_}(y,u,a);if(f.components.push(T),s[8]=T,_&&_.forEach(L=>L(T,a)),a.contentQueries){const L=Ei();a.contentQueries(1,T,L.directiveStart)}const I=Ei();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(pa(I.index),D_(u[1],I,0,I.directiveStart,I.directiveEnd,a),Pf(a,T)),T}(Wn,this.componentDef,Nt,Ze,[Ch]),vu(ft,Nt,null)}finally{fa()}return new QT(this.componentType,cn,ig(Pn,Nt),Nt,Pn)}}class QT extends class l1{}{constructor(a,u,f,_,y){super(),this.location=f,this._rootLView=_,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new $T(_),this.componentType=a}get injector(){return new Ir(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Gm{}class PC{}const Hm=new Map;class MC extends Gm{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new AC(this);const f=kn(a);this._bootstrapComponents=za(f.bootstrap),this._r3Injector=Op(a,u,[{provide:Gm,useValue:this},{provide:y0,useValue:this.componentFactoryResolver}],Z(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,u=Sa.THROW_IF_NOT_FOUND,f=An.Default){return a===Sa||a===Gm||a===Ip?this:this._r3Injector.get(a,u,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class v1 extends PC{constructor(a){super(),this.moduleType=a,null!==kn(a)&&function eE(s){const a=new Set;!function u(f){const _=kn(f,!0),y=_.id;null!==y&&(function _1(s,a,u){if(a&&a!==u)throw new Error(`Duplicate module registered for ${s} - ${Z(a)} vs ${Z(a.name)}`)}(y,Hm.get(y),f),Hm.set(y,f));const T=za(_.imports);for(const I of T)a.has(I)||(a.add(I),u(I))}(s)}(a)}create(a){return new MC(this.moduleType,a)}}function Ev(s,a,u){const f=Zo()+s,_=Zt();return _[f]===S?Es(_,f,u?a.call(u):a()):function yc(s,a){return s[a]}(_,f)}function NC(s,a,u,f){return og(Zt(),Zo(),s,a,u,f)}function Xc(s,a,u,f,_){return qm(Zt(),Zo(),s,a,u,f,_)}function ho(s,a,u,f,_,y){return function Av(s,a,u,f,_,y,T,I){const L=a+u;return function Jc(s,a,u,f,_){const y=bc(s,a,u,f);return ds(s,a+2,_)||y}(s,L,_,y,T)?Es(s,L+3,I?f.call(I,_,y,T):f(_,y,T)):b0(s,L+3)}(Zt(),Zo(),s,a,u,f,_,y)}function b0(s,a){const u=s[a];return u===S?void 0:u}function og(s,a,u,f,_,y){const T=a+u;return ds(s,T,_)?Es(s,T+1,y?f.call(y,_):f(_)):b0(s,T+1)}function qm(s,a,u,f,_,y,T){const I=a+u;return bc(s,I,_,y)?Es(s,I+2,T?f.call(T,_,y):f(_,y)):b0(s,I+2)}function w1(s,a){const u=Qn();let f;const _=s+20;u.firstCreatePass?(f=function LC(s,a){if(a)for(let u=a.length-1;u>=0;u--){const f=a[u];if(s===f.name)return f}}(a,u.pipeRegistry),u.data[_]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(_,f.onDestroy)):f=u.data[_];const y=f.factory||(f.factory=V(f.type)),T=Qr(Qc);try{const I=ic(!1),L=y();return ic(I),function ii(s,a,u,f){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=f}(u,Zt(),_,L),L}finally{Qr(T)}}function $f(s,a,u){const f=s+20,_=Zt(),y=Hr(_,f);return Uh(_,f)?og(_,Zo(),a,y.transform,u,y):y.transform(u)}function Bh(s,a,u,f){const _=s+20,y=Zt(),T=Hr(y,_);return Uh(y,_)?qm(y,Zo(),a,T.transform,u,f,T):T.transform(u,f)}function Uh(s,a){return s[1].data[a].pure}function w0(s){return a=>{setTimeout(s,void 0,a)}}const Pd=class Kf extends p.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,f){var _,y,T;let I=a,L=u||(()=>null),z=f;if(a&&"object"==typeof a){const Ae=a;I=null===(_=Ae.next)||void 0===_?void 0:_.bind(Ae),L=null===(y=Ae.error)||void 0===y?void 0:y.bind(Ae),z=null===(T=Ae.complete)||void 0===T?void 0:T.bind(Ae)}this.__isAsync&&(L=w0(L),I&&(I=w0(I)),z&&(z=w0(z)));const ee=super.subscribe({next:I,error:L,complete:z});return a instanceof e.w0&&a.add(ee),ee}};function tE(){return this._results[Ts()]()}class E1{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ts(),f=E1.prototype;f[u]||(f[u]=tE)}get changes(){return this._changes||(this._changes=new Pd)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const f=this;f.dirty=!1;const _=Gi(a);(this._changesDetected=!function ra(s,a,u){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let _=s[f],y=a[f];if(u&&(_=u(_),y=u(y)),y!==_)return!1}return!0}(f._results,_,u))&&(f._results=_,f.length=_.length,f.last=_[this.length-1],f.first=_[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let T0=(()=>{class s{}return s.__NG_ELEMENT_ID__=iE,s})();const nE=T0,rE=class extends nE{constructor(a,u,f){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(a){const u=this._declarationTContainer.tViews,f=Al(this._declarationLView,u,a,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),vu(u,f,a),new Vm(f)}};function iE(){return Iv(Ei(),Zt())}function Iv(s,a){return 4&s.type?new rE(a,s,ig(s,a)):null}let Pv=(()=>{class s{}return s.__NG_ELEMENT_ID__=oE,s})();function oE(){return UC(Ei(),Zt())}const sE=Pv,FC=class extends sE{constructor(a,u,f){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=f}get element(){return ig(this._hostTNode,this._hostLView)}get injector(){return new Ir(this._hostTNode,this._hostLView)}get parentInjector(){const a=Ms(this._hostTNode,this._hostLView);if(Dn(a)){const u=Li(a,this._hostLView),f=Ct(a);return new Ir(u[1].data[f+8],u)}return new Ir(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=BC(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,u,f){const _=a.createEmbeddedView(u||{});return this.insert(_,f),_}createComponent(a,u,f,_,y){const T=a&&!function Bc(s){return"function"==typeof s}(a);let I;if(T)I=u;else{const Ae=u||{};I=Ae.index,f=Ae.injector,_=Ae.projectableNodes,y=Ae.ngModuleRef}const L=T?a:new m1(Yn(a)),z=f||this.parentInjector;if(!y&&null==L.ngModule){const Ze=(T?z:this.parentInjector).get(Gm,null);Ze&&(y=Ze)}const ee=L.create(z,_,void 0,y);return this.insert(ee.hostView,I),ee}insert(a,u){const f=a._lView,_=f[1];if(function di(s){return sn(s[3])}(f)){const ee=this.indexOf(a);if(-1!==ee)this.detach(ee);else{const Ae=f[3],Ze=new FC(Ae,Ae[6],Ae[3]);Ze.detach(Ze.indexOf(a))}}const y=this._adjustIndex(u),T=this._lContainer;!function pp(s,a,u,f){const _=10+f,y=u.length;f>0&&(u[_-1][4]=a),f<y-10?(a[4]=u[_],cc(u,10+f,a)):(u.push(a),a[4]=null),a[3]=u;const T=a[17];null!==T&&u!==T&&function Hc(s,a){const u=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===u?s[9]=[a]:u.push(a)}(T,a);const I=a[19];null!==I&&I.insertView(s),a[2]|=128}(_,f,T,y);const I=yf(y,T),L=f[11],z=qr(L,T[7]);return null!==z&&function Ng(s,a,u,f,_,y){f[0]=_,f[6]=a,Tl(s,f,u,1,_,y)}(_,T[6],L,f,z,I),a.attachToViewContainerRef(),cc(D1(T),y,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=BC(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),f=bl(this._lContainer,u);f&&(_a(D1(this._lContainer),u),au(f[1],f))}detach(a){const u=this._adjustIndex(a,-1),f=bl(this._lContainer,u);return f&&null!=_a(D1(this._lContainer),u)?new Vm(f):null}_adjustIndex(a,u=0){return null==a?this.length+u:a}};function BC(s){return s[8]}function D1(s){return s[8]||(s[8]=[])}function UC(s,a){let u;const f=a[s.index];if(sn(f))u=f;else{let _;if(8&s.type)_=U(f);else{const y=a[11];_=y.createComment("");const T=Ft(s,a);Cl(y,qr(y,T),_,function d_(s,a){return Ur(s)?s.nextSibling(a):a.nextSibling}(y,T),!1)}a[s.index]=u=Qg(f,a,_,s),ph(a,u)}return new FC(u,s,a)}class E0{constructor(a){this.queryList=a,this.matches=null}clone(){return new E0(this.queryList)}setDirty(){this.queryList.setDirty()}}class D0{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const f=null!==a.contentQueries?a.contentQueries[0]:u.length,_=[];for(let y=0;y<f;y++){const T=u.getByIndex(y);_.push(this.queries[T.indexInDeclarationView].clone())}return new D0(_)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==k1(a,u).matches&&this.queries[u].setDirty()}}class zm{constructor(a,u,f=null){this.predicate=a,this.flags=u,this.read=f}}class Ov{constructor(a=[]){this.queries=a}elementStart(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let f=0;f<this.length;f++){const _=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(a,_);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new Ov(u):null}template(a,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class sg{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new sg(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let _=0;_<f.length;_++){const y=f[_];this.matchTNodeWithReadOption(a,u,aE(u,y)),this.matchTNodeWithReadOption(a,u,Fu(u,a,y,!1,!1))}else f===T0?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Fu(u,a,f,!1,!1))}matchTNodeWithReadOption(a,u,f){if(null!==f){const _=this.metadata.read;if(null!==_)if(_===jm||_===Pv||_===T0&&4&u.type)this.addMatch(u.index,-2);else{const y=Fu(u,a,_,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function aE(s,a){const u=s.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===a)return u[f+1];return null}function Jf(s,a,u,f){return-1===u?function x1(s,a){return 11&s.type?ig(s,a):4&s.type?Iv(s,a):null}(a,s):-2===u?function cE(s,a,u){return u===jm?ig(a,s):u===T0?Iv(a,s):u===Pv?UC(a,s):void 0}(s,a,f):Ua(s,s[1],u,a)}function A1(s,a,u,f){const _=a[19].queries[f];if(null===_.matches){const y=s.data,T=u.matches,I=[];for(let L=0;L<T.length;L+=2){const z=T[L];I.push(z<0?null:Jf(a,y[z],T[L+1],u.metadata.read))}_.matches=I}return _.matches}function S0(s,a,u,f){const _=s.queries.getByIndex(u),y=_.matches;if(null!==y){const T=A1(s,a,_,u);for(let I=0;I<y.length;I+=2){const L=y[I];if(L>0)f.push(T[I/2]);else{const z=y[I+1],ee=a[-L];for(let Ae=10;Ae<ee.length;Ae++){const Ze=ee[Ae];Ze[17]===Ze[3]&&S0(Ze[1],Ze,z,f)}if(null!==ee[9]){const Ae=ee[9];for(let Ze=0;Ze<Ae.length;Ze++){const ft=Ae[Ze];S0(ft[1],ft,z,f)}}}}}return f}function I1(s){const a=Zt(),u=Qn(),f=Nu();Qs(f+1);const _=k1(u,f);if(s.dirty&&Mr(a)===(2==(2&_.metadata.flags))){if(null===_.matches)s.reset([]);else{const y=_.crossesNgTemplate?S0(u,a,f,[]):A1(u,a,_,f);s.reset(y,EC),s.notifyOnChanges()}return!0}return!1}function ag(s,a,u){const f=Qn();f.firstCreatePass&&(N1(f,new zm(s,a,u),-1),2==(2&a)&&(f.staticViewQueries=!0)),M1(f,Zt(),a)}function P1(s,a,u,f){const _=Qn();if(_.firstCreatePass){const y=Ei();N1(_,new zm(a,u,f),y.index),function R1(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(_,s),2==(2&u)&&(_.staticContentQueries=!0)}M1(_,Zt(),u)}function O1(){return function GC(s,a){return s[19].queries[a].queryList}(Zt(),Nu())}function M1(s,a,u){const f=new E1(4==(4&u));hh(s,a,f,f.destroy),null===a[19]&&(a[19]=new D0),a[19].queries.push(new E0(f))}function N1(s,a,u){null===s.queries&&(s.queries=new Ov),s.queries.track(new sg(a,u))}function k1(s,a){return s.queries.getByIndex(a)}function Mv(s,a){return Iv(s,a)}function Vv(...s){}const aw=new Si("Application Initializer");let I0=(()=>{class s{constructor(u){this.appInits=u,this.resolve=Vv,this.reject=Vv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,_)=>{this.resolve=f,this.reject=_})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let _=0;_<this.appInits.length;_++){const y=this.appInits[_]();if(Uf(y))u.push(y);else if(t0(y)){const T=new Promise((I,L)=>{y.subscribe({complete:I,error:L})});u.push(T)}}Promise.all(u).then(()=>{f()}).catch(_=>{this.reject(_)}),0===u.length&&f(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(pn(aw,8))},s.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const cw=new Si("AppId",{providedIn:"root",factory:function lw(){return`${V1()}${V1()}${V1()}`}});function V1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Gv=new Si("Platform Initializer"),uw=new Si("Platform ID"),dw=new Si("appBootstrapListener");let hw=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Vn({token:s,factory:s.\u0275fac}),s})();const G1=new Si("LocaleId",{providedIn:"root",factory:()=>rr(G1,An.Optional|An.SkipSelf)||function fw(){return"undefined"!=typeof $localize&&$localize.locale||tg}()}),_E=new Si("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class gw{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let mw=(()=>{class s{compileModuleSync(u){return new v1(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=za(kn(u).declarations).reduce((T,I)=>{const L=Yn(I);return L&&T.push(new m1(L)),T},[]);return new gw(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const bo=(()=>Promise.resolve(0))();function Hv(s){"undefined"==typeof Zone?bo.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Nl{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pd(!1),this.onMicrotaskEmpty=new Pd(!1),this.onStable=new Pd(!1),this.onError=new Pd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const _=this;_._nesting=0,_._outer=_._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(_._inner=_._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(_._inner=_._inner.fork(Zone.longStackTraceZoneSpec)),_.shouldCoalesceEventChangeDetection=!f&&u,_.shouldCoalesceRunChangeDetection=f,_.lastRequestAnimationFrameId=-1,_.nativeRequestAnimationFrame=function _w(){let s=Qt.requestAnimationFrame,a=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function bw(s){const a=()=>{!function yw(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Zv(s),s.isCheckStableRunning=!0,qv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Zv(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,_,y,T,I)=>{try{return q1(s),u.invokeTask(_,y,T,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&a(),Z1(s)}},onInvoke:(u,f,_,y,T,I,L)=>{try{return q1(s),u.invoke(_,y,T,I,L)}finally{s.shouldCoalesceRunChangeDetection&&a(),Z1(s)}},onHasTask:(u,f,_,y)=>{u.hasTask(_,y),f===_&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,Zv(s),qv(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,_,y)=>(u.handleError(_,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(_)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,u,f){return this._inner.run(a,u,f)}runTask(a,u,f,_){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+_,a,vw,Vv,Vv);try{return y.runTask(T,u,f)}finally{y.cancelTask(T)}}runGuarded(a,u,f){return this._inner.runGuarded(a,u,f)}runOutsideAngular(a){return this._outer.run(a)}}const vw={};function qv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Zv(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function q1(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Z1(s){s._nesting--,qv(s)}class Cw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pd,this.onMicrotaskEmpty=new Pd,this.onStable=new Pd,this.onError=new Pd}run(a,u,f){return a.apply(u,f)}runGuarded(a,u,f){return a.apply(u,f)}runOutsideAngular(a){return a()}runTask(a,u,f,_){return a.apply(u,f)}}let z1=(()=>{class s{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nl.assertNotInAngularZone(),Hv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Hv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,_){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:_})}whenStable(u,f,_){if(_&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,_),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,_){return[]}}return s.\u0275fac=function(u){return new(u||s)(pn(Nl))},s.\u0275prov=Vn({token:s,factory:s.\u0275fac}),s})(),W1=(()=>{class s{constructor(){this._applications=new Map,zv.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return zv.findTestabilityInTree(this,u,f)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Vn({token:s,factory:s.\u0275fac}),s})();class ww{addToWindow(a){}findTestabilityInTree(a,u,f){return null}}function Tw(s){zv=s}let Rl,zv=new ww;const $1=new Si("AllowMultipleToken");class Dw{constructor(a,u){this.name=a,this.token=u}}function K1(s,a,u=[]){const f=`Platform: ${a}`,_=new Si(f);return(y=[])=>{let T=J1();if(!T||T.injector.get($1,!1))if(s)s(u.concat(y).concat({provide:_,useValue:!0}));else{const I=u.concat(y).concat({provide:_,useValue:!0},{provide:Pp,useValue:"platform"});!function Sw(s){if(Rl&&!Rl.destroyed&&!Rl.injector.get($1,!1))throw new ze(400,"");Rl=s.get(Y1);const a=s.get(Gv,null);a&&a.forEach(u=>u())}(Sa.create({providers:I,name:f}))}return function xw(s){const a=J1();if(!a)throw new ze(401,"");return a}()}}function J1(){return Rl&&!Rl.destroyed?Rl:null}let Y1=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const I=function Aw(s,a){let u;return u="noop"===s?new Cw:("zone.js"===s?void 0:s)||new Nl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),L=[{provide:Nl,useValue:I}];return I.run(()=>{const z=Sa.create({providers:L,parent:this.injector,name:u.moduleType.name}),ee=u.create(z),Ae=ee.injector.get($s,null);if(!Ae)throw new ze(402,"");return I.runOutsideAngular(()=>{const Ze=I.onError.subscribe({next:ft=>{Ae.handleError(ft)}});ee.onDestroy(()=>{$v(this._modules,ee),Ze.unsubscribe()})}),function Iw(s,a,u){try{const f=u();return Uf(f)?f.catch(_=>{throw a.runOutsideAngular(()=>s.handleError(_)),_}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(Ae,I,()=>{const Ze=ee.injector.get(I0);return Ze.runInitializers(),Ze.donePromise.then(()=>(function ng(s){(function Pt(s,a){null==s&&Et(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(Gy=s.toLowerCase().replace(/_/g,"-"))}(ee.injector.get(G1,tg)||tg),this._moduleDoBootstrap(ee),ee))})})}bootstrapModule(u,f=[]){const _=Q1({},f);return function Ew(s,a,u){const f=new v1(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,_))}_moduleDoBootstrap(u){const f=u.injector.get(Wv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(_=>f.bootstrap(_));else{if(!u.instance.ngDoBootstrap)throw new ze(403,"");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ze(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(pn(Sa))},s.\u0275prov=Vn({token:s,factory:s.\u0275fac}),s})();function Q1(s,a){return Array.isArray(a)?a.reduce(Q1,s):Object.assign(Object.assign({},s),a)}let Wv=(()=>{class s{constructor(u,f,_,y,T){this._zone=u,this._injector=f,this._exceptionHandler=_,this._componentFactoryResolver=y,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new E.y(z=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{z.next(this._stable),z.complete()})}),L=new E.y(z=>{let ee;this._zone.runOutsideAngular(()=>{ee=this._zone.onStable.subscribe(()=>{Nl.assertNotInAngularZone(),Hv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,z.next(!0))})})});const Ae=this._zone.onUnstable.subscribe(()=>{Nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{z.next(!1)}))});return()=>{ee.unsubscribe(),Ae.unsubscribe()}});this.isStable=(0,N.T)(I,L.pipe((0,O.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new ze(405,"");let _;_=u instanceof wv?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(_.componentType);const y=function Xa(s){return s.isBoundToModule}(_)?void 0:this._injector.get(Gm),I=_.create(Sa.NULL,[],f||_.selector,y),L=I.location.nativeElement,z=I.injector.get(z1,null),ee=z&&I.injector.get(W1);return z&&ee&&ee.registerApplication(L,z),I.onDestroy(()=>{this.detachView(I.hostView),$v(this.components,I),ee&&ee.unregisterApplication(L)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new ze(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;$v(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(dw,[]).concat(this._bootstrapListeners).forEach(_=>_(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(u){return new(u||s)(pn(Nl),pn(Sa),pn($s),pn(y0),pn(I0))},s.\u0275prov=Vn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function $v(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}let tb=!1;function Ow(){return tb=!0,true}let Mw=(()=>{class s{}return s.__NG_ELEMENT_ID__=Nw,s})();function Nw(s){return function Rw(s,a,u){if(Br(s)&&!u){const f=Tr(s.index,a);return new Vm(f,f)}return 47&s.type?new Vm(a[16],a):null}(Ei(),Zt(),16==(16&s))}class ob{constructor(){}supports(a){return ca(a)}create(a){return new Vw(a)}}const jw=(s,a)=>a;class Vw{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||jw}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,f=this._removalsHead,_=0,y=null;for(;u||f;){const T=!f||u&&u.currentIndex<ab(f,_,y)?u:f,I=ab(T,_,y),L=T.currentIndex;if(T===f)_--,f=f._nextRemoved;else if(u=u._next,null==T.previousIndex)_++;else{y||(y=[]);const z=I-_,ee=L-_;if(z!=ee){for(let Ze=0;Ze<z;Ze++){const ft=Ze<y.length?y[Ze]:y[Ze]=0,Nt=ft+Ze;ee<=Nt&&Nt<z&&(y[Ze]=ft+1)}y[T.previousIndex]=ee-z}}I!==L&&a(T,I,L)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!ca(a))throw new ze(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let _,y,T,u=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)y=a[I],T=this._trackByFn(I,y),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,y,T,I)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,T,I),f=!0),u=u._next}else _=0,function Lf(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Ts()]();let f;for(;!(f=u.next()).done;)a(f.value)}}(a,I=>{T=this._trackByFn(_,I),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,I,T,_)),Object.is(u.item,I)||this._addIdentityChange(u,I)):(u=this._mismatch(u,I,T,_),f=!0),u=u._next,_++}),this.length=_;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,f,_){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,y,_)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,_))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,y,_)):a=this._addAfter(new Gw(u,f),y,_),a}_verifyReinsertion(a,u,f,_){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?a=this._reinsertAfter(y,a._prev,_):a.currentIndex!=_&&(a.currentIndex=_,this._addToMoves(a,_)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const _=a._prevRemoved,y=a._nextRemoved;return null===_?this._removalsHead=y:_._nextRemoved=y,null===y?this._removalsTail=_:y._prevRemoved=_,this._insertAfter(a,u,f),this._addToMoves(a,f),a}_moveAfter(a,u,f){return this._unlink(a),this._insertAfter(a,u,f),this._addToMoves(a,f),a}_addAfter(a,u,f){return this._insertAfter(a,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,f){const _=null===u?this._itHead:u._next;return a._next=_,a._prev=u,null===_?this._itTail=a:_._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new sb),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,f=a._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Gw{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Hw{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const u=a._prevDup,f=a._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class sb{constructor(){this.map=new Map}put(a){const u=a.trackById;let f=this.map.get(u);f||(f=new Hw,this.map.set(u,f)),f.add(a)}get(a,u){const _=this.map.get(a);return _?_.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ab(s,a,u){const f=s.previousIndex;if(null===f)return f;let _=0;return u&&f<u.length&&(_=u[f]),f+a+_}class cb{constructor(){}supports(a){return a instanceof Map||wu(a)}create(){return new qw}}class qw{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||wu(a)))throw new ze(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,_)=>{if(u&&u.key===_)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(_,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const f=a._prev;return u._next=a,u._prev=f,a._prev=u,f&&(f._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const _=this._records.get(a);this._maybeAddToChanges(_,u);const y=_._prev,T=_._next;return y&&(y._next=T),T&&(T._prev=y),_._next=null,_._prev=null,_}const f=new Zw(a);return this._records.set(a,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(f=>u(a[f],f))}}class Zw{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lb(){return new Yv([new ob])}let Yv=(()=>{class s{constructor(u){this.factories=u}static create(u,f){if(null!=f){const _=f.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:f=>s.create(u,f||lb()),deps:[[s,new Bi,new ss]]}}find(u){const f=this.factories.find(_=>_.supports(u));if(null!=f)return f;throw new ze(901,"")}}return s.\u0275prov=Vn({token:s,providedIn:"root",factory:lb}),s})();function ub(){return new Qv([new cb])}let Qv=(()=>{class s{constructor(u){this.factories=u}static create(u,f){if(f){const _=f.factories.slice();u=u.concat(_)}return new s(u)}static extend(u){return{provide:s,useFactory:f=>s.create(u,f||ub()),deps:[[s,new Bi,new ss]]}}find(u){const f=this.factories.find(y=>y.supports(u));if(f)return f;throw new ze(901,"")}}return s.\u0275prov=Vn({token:s,providedIn:"root",factory:ub}),s})();const $w=K1(null,"core",[{provide:uw,useValue:"unknown"},{provide:Y1,deps:[Sa]},{provide:W1,deps:[]},{provide:hw,deps:[]}]);let Kw=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(pn(Wv))},s.\u0275mod=Ve({type:s}),s.\u0275inj=ur({}),s})()},3942:(lt,x,P)=>{"use strict";P.d(x,{Z:()=>ze});var p=P(2090),e=P(4859),E=P(9681),N=P(1877);class O{constructor(ge,Be){this._delegate=ge,this.firebase=Be,(0,E._addComponent)(ge,new e.wA("app-compat",()=>this,"PUBLIC")),this.container=ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ge){this._delegate.automaticDataCollectionEnabled=ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ge=>{this._delegate.checkDestroyed(),ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(ge,Be=E._DEFAULT_ENTRY_NAME){var Ie;this._delegate.checkDestroyed();const ut=this._delegate.container.getProvider(ge);return!ut.isInitialized()&&"EXPLICIT"===(null===(Ie=ut.getComponent())||void 0===Ie?void 0:Ie.instantiationMode)&&ut.initialize(),ut.getImmediate({identifier:Be})}_removeServiceInstance(ge,Be=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ge).clearInstance(Be)}_addComponent(ge){(0,E._addComponent)(this._delegate,ge)}_addOrOverwriteComponent(ge){(0,E._addOrOverwriteComponent)(this._delegate,ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const J=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Q(){const gt=function Z(gt){const ge={},Be={__esModule:!0,initializeApp:function Ge(ke,ot={}){const de=E.initializeApp(ke,ot);if((0,p.r3)(ge,de.name))return ge[de.name];const ue=new gt(de,Be);return ge[de.name]=ue,ue},app:ut,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function Te(ke){const ot=ke.name,de=ot.replace("-compat","");if(E._registerComponent(ke)&&"PUBLIC"===ke.type){const ue=(X=ut())=>{if("function"!=typeof X[de])throw J.create("invalid-app-argument",{appName:ot});return X[de]()};void 0!==ke.serviceProps&&(0,p.ZB)(ue,ke.serviceProps),Be[de]=ue,gt.prototype[de]=function(...X){return this._getService.bind(this,ot).apply(this,ke.multipleInstances?X:[])}}return"PUBLIC"===ke.type?Be[de]:null},removeApp:function Ie(ke){delete ge[ke]},useAsService:function Ke(ke,ot){return"serverAuth"===ot?null:ot},modularAPIs:E}};function ut(ke){if(!(0,p.r3)(ge,ke=ke||E._DEFAULT_ENTRY_NAME))throw J.create("no-app",{appName:ke});return ge[ke]}return Be.default=Be,Object.defineProperty(Be,"apps",{get:function et(){return Object.keys(ge).map(ke=>ge[ke])}}),ut.App=gt,Be}(O);return gt.INTERNAL=Object.assign(Object.assign({},gt.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function ge(Be){(0,p.ZB)(gt,Be)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),gt}(),ie=new N.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const gt=self.firebase.SDK_VERSION;gt&&gt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ze=K;!function Ye(gt){(0,E.registerVersion)("@firebase/app-compat","0.1.20",gt)}()},9681:(lt,x,P)=>{"use strict";P.r(x),P.d(x,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Ii,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>vn,_addOrOverwriteComponent:()=>lr,_apps:()=>Et,_clearComponents:()=>sr,_components:()=>kt,_getProvider:()=>wr,_registerComponent:()=>Vn,_removeServiceInstance:()=>ur,deleteApp:()=>Ni,getApp:()=>Vr,getApps:()=>kr,initializeApp:()=>bi,onLog:()=>Yr,registerVersion:()=>Hi,setLogLevel:()=>Qr});var p=P(5861),e=P(4859),E=P(1877),N=P(2090);class O{constructor(it){this.container=it}getPlatformInfoString(){return this.container.getProviders().map(Wt=>{if(function H(Ot){const it=Ot.getComponent();return"VERSION"===(null==it?void 0:it.type)}(Wt)){const rn=Wt.getImmediate();return`${rn.library}/${rn.version}`}return null}).filter(Wt=>Wt).join(" ")}}const J="@firebase/app",Z="0.7.19",Q=new E.Yd("@firebase/app"),Sn="[DEFAULT]",Pt={[J]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,kt=new Map;function vn(Ot,it){try{Ot.container.addComponent(it)}catch(Wt){Q.debug(`Component ${it.name} failed to register with FirebaseApp ${Ot.name}`,Wt)}}function lr(Ot,it){Ot.container.addOrOverwriteComponent(it)}function Vn(Ot){const it=Ot.name;if(kt.has(it))return Q.debug(`There were multiple attempts to register component ${it}.`),!1;kt.set(it,Ot);for(const Wt of Et.values())vn(Wt,Ot);return!0}function wr(Ot,it){const Wt=Ot.container.getProvider("heartbeat").getImmediate({optional:!0});return Wt&&Wt.triggerHeartbeat(),Ot.container.getProvider(it)}function ur(Ot,it,Wt=Sn){wr(Ot,it).clearInstance(Wt)}function sr(){kt.clear()}const _r=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ar{constructor(it,Wt,rn){this._isDeleted=!1,this._options=Object.assign({},it),this._config=Object.assign({},Wt),this._name=Wt.name,this._automaticDataCollectionEnabled=Wt.automaticDataCollectionEnabled,this._container=rn,this.container.addComponent(new e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(it){this.checkDestroyed(),this._automaticDataCollectionEnabled=it}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(it){this._isDeleted=it}checkDestroyed(){if(this.isDeleted)throw _r.create("app-deleted",{appName:this._name})}}const Ii="9.6.9";function bi(Ot,it={}){"object"!=typeof it&&(it={name:it});const Wt=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},it),rn=Wt.name;if("string"!=typeof rn||!rn)throw _r.create("bad-app-name",{appName:String(rn)});const Ln=Et.get(rn);if(Ln){if((0,N.vZ)(Ot,Ln.options)&&(0,N.vZ)(Wt,Ln.config))return Ln;throw _r.create("duplicate-app",{appName:rn})}const Nn=new e.H0(rn);for(const be of kt.values())Nn.addComponent(be);const Ee=new Ar(Ot,Wt,Nn);return Et.set(rn,Ee),Ee}function Vr(Ot=Sn){const it=Et.get(Ot);if(!it)throw _r.create("no-app",{appName:Ot});return it}function kr(){return Array.from(Et.values())}function Ni(Ot){return An.apply(this,arguments)}function An(){return(An=(0,p.Z)(function*(Ot){const it=Ot.name;Et.has(it)&&(Et.delete(it),yield Promise.all(Ot.container.getProviders().map(Wt=>Wt.delete())),Ot.isDeleted=!0)})).apply(this,arguments)}function Hi(Ot,it,Wt){var rn;let Ln=null!==(rn=Pt[Ot])&&void 0!==rn?rn:Ot;Wt&&(Ln+=`-${Wt}`);const Nn=Ln.match(/\s|\//),Ee=it.match(/\s|\//);if(Nn||Ee){const be=[`Unable to register library "${Ln}" with version "${it}":`];return Nn&&be.push(`library name "${Ln}" contains illegal characters (whitespace or "/")`),Nn&&Ee&&be.push("and"),Ee&&be.push(`version name "${it}" contains illegal characters (whitespace or "/")`),void Q.warn(be.join(" "))}Vn(new e.wA(`${Ln}-version`,()=>({library:Ln,version:it}),"VERSION"))}function Yr(Ot,it){if(null!==Ot&&"function"!=typeof Ot)throw _r.create("invalid-log-argument");(0,E.Am)(Ot,it)}function Qr(Ot){(0,E.Ub)(Ot)}const Oe="firebase-heartbeat-store";let oe=null;function fe(){return oe||(oe=(0,N.X3)("firebase-heartbeat-database",1,(Ot,it)=>{0===it&&Ot.createObjectStore(Oe)}).catch(Ot=>{throw _r.create("storage-open",{originalErrorMessage:Ot.message})})),oe}function Qe(){return(Qe=(0,p.Z)(function*(Ot){try{return(yield fe()).transaction(Oe).objectStore(Oe).get(Xt(Ot))}catch(it){throw _r.create("storage-get",{originalErrorMessage:it.message})}})).apply(this,arguments)}function ht(Ot,it){return St.apply(this,arguments)}function St(){return(St=(0,p.Z)(function*(Ot,it){try{const rn=(yield fe()).transaction(Oe,"readwrite");return yield rn.objectStore(Oe).put(it,Xt(Ot)),rn.complete}catch(Wt){throw _r.create("storage-set",{originalErrorMessage:Wt.message})}})).apply(this,arguments)}function Xt(Ot){return`${Ot.name}!${Ot.options.appId}`}class Mn{constructor(it){this.container=it,this._heartbeatsCache=null;const Wt=this.container.getProvider("app").getImmediate();this._storage=new Mt(Wt),this._heartbeatsCachePromise=this._storage.read().then(rn=>(this._heartbeatsCache=rn,rn))}triggerHeartbeat(){var it=this;return(0,p.Z)(function*(){const rn=it.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Ln=Tn();if(null===it._heartbeatsCache&&(it._heartbeatsCache=yield it._heartbeatsCachePromise),it._heartbeatsCache.lastSentHeartbeatDate!==Ln&&!it._heartbeatsCache.heartbeats.some(Nn=>Nn.date===Ln))return it._heartbeatsCache.heartbeats.push({date:Ln,agent:rn}),it._heartbeatsCache.heartbeats=it._heartbeatsCache.heartbeats.filter(Nn=>{const Ee=new Date(Nn.date).valueOf();return Date.now()-Ee<=2592e6}),it._storage.overwrite(it._heartbeatsCache)})()}getHeartbeatsHeader(){var it=this;return(0,p.Z)(function*(){if(null===it._heartbeatsCache&&(yield it._heartbeatsCachePromise),null===it._heartbeatsCache||0===it._heartbeatsCache.heartbeats.length)return"";const Wt=Tn(),{heartbeatsToSend:rn,unsentEntries:Ln}=function qn(Ot,it=1024){const Wt=[];let rn=Ot.slice();for(const Ln of Ot){const Nn=Wt.find(Ee=>Ee.agent===Ln.agent);if(Nn){if(Nn.dates.push(Ln.date),Zn(Wt)>it){Nn.dates.pop();break}}else if(Wt.push({agent:Ln.agent,dates:[Ln.date]}),Zn(Wt)>it){Wt.pop();break}rn=rn.slice(1)}return{heartbeatsToSend:Wt,unsentEntries:rn}}(it._heartbeatsCache.heartbeats),Nn=(0,N.L)(JSON.stringify({version:2,heartbeats:rn}));return it._heartbeatsCache.lastSentHeartbeatDate=Wt,Ln.length>0?(it._heartbeatsCache.heartbeats=Ln,yield it._storage.overwrite(it._heartbeatsCache)):(it._heartbeatsCache.heartbeats=[],it._storage.overwrite(it._heartbeatsCache)),Nn})()}}function Tn(){return(new Date).toISOString().substring(0,10)}class Mt{constructor(it){this.app=it,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var it=this;return(0,p.Z)(function*(){return(yield it._canUseIndexedDBPromise)&&(yield function Je(Ot){return Qe.apply(this,arguments)}(it.app))||{heartbeats:[]}})()}overwrite(it){var Wt=this;return(0,p.Z)(function*(){var rn;if(yield Wt._canUseIndexedDBPromise){const Nn=yield Wt.read();return ht(Wt.app,{lastSentHeartbeatDate:null!==(rn=it.lastSentHeartbeatDate)&&void 0!==rn?rn:Nn.lastSentHeartbeatDate,heartbeats:it.heartbeats})}})()}add(it){var Wt=this;return(0,p.Z)(function*(){var rn;if(yield Wt._canUseIndexedDBPromise){const Nn=yield Wt.read();return ht(Wt.app,{lastSentHeartbeatDate:null!==(rn=it.lastSentHeartbeatDate)&&void 0!==rn?rn:Nn.lastSentHeartbeatDate,heartbeats:[...Nn.heartbeats,...it.heartbeats]})}})()}}function Zn(Ot){return(0,N.L)(JSON.stringify({version:2,heartbeats:Ot})).length}!function xn(Ot){Vn(new e.wA("platform-logger",it=>new O(it),"PRIVATE")),Vn(new e.wA("heartbeat",it=>new Mn(it),"PRIVATE")),Hi(J,Z,Ot),Hi(J,Z,"esm2017"),Hi("fire-js","")}("")},4859:(lt,x,P)=>{"use strict";P.d(x,{H0:()=>Z,wA:()=>E});var p=P(5861),e=P(2090);class E{constructor(K,ie,he){this.name=K,this.instanceFactory=ie,this.type=he,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const N="[DEFAULT]";class O{constructor(K,ie){this.name=K,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ie=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ie)){const he=new e.BH;if(this.instancesDeferred.set(ie,he),this.isInitialized(ie)||this.shouldAutoInitialize())try{const st=this.getOrInitializeService({instanceIdentifier:ie});st&&he.resolve(st)}catch(st){}}return this.instancesDeferred.get(ie).promise}getImmediate(K){var ie;const he=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),st=null!==(ie=null==K?void 0:K.optional)&&void 0!==ie&&ie;if(!this.isInitialized(he)&&!this.shouldAutoInitialize()){if(st)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:he})}catch(Ye){if(st)return null;throw Ye}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function J(Q){return"EAGER"===Q.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:N})}catch(ie){}for(const[ie,he]of this.instancesDeferred.entries()){const st=this.normalizeInstanceIdentifier(ie);try{const Ye=this.getOrInitializeService({instanceIdentifier:st});he.resolve(Ye)}catch(Ye){}}}}clearInstance(K=N){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,p.Z)(function*(){const ie=Array.from(K.instances.values());yield Promise.all([...ie.filter(he=>"INTERNAL"in he).map(he=>he.INTERNAL.delete()),...ie.filter(he=>"_delete"in he).map(he=>he._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=N){return this.instances.has(K)}getOptions(K=N){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ie={}}=K,he=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(he))throw Error(`${this.name}(${he}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const st=this.getOrInitializeService({instanceIdentifier:he,options:ie});for(const[Ye,ze]of this.instancesDeferred.entries())he===this.normalizeInstanceIdentifier(Ye)&&ze.resolve(st);return st}onInit(K,ie){var he;const st=this.normalizeInstanceIdentifier(ie),Ye=null!==(he=this.onInitCallbacks.get(st))&&void 0!==he?he:new Set;Ye.add(K),this.onInitCallbacks.set(st,Ye);const ze=this.instances.get(st);return ze&&K(ze,st),()=>{Ye.delete(K)}}invokeOnInitCallbacks(K,ie){const he=this.onInitCallbacks.get(ie);if(he)for(const st of he)try{st(K,ie)}catch(Ye){}}getOrInitializeService({instanceIdentifier:K,options:ie={}}){let he=this.instances.get(K);if(!he&&this.component&&(he=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=K,Q===N?void 0:Q),options:ie}),this.instances.set(K,he),this.instancesOptions.set(K,ie),this.invokeOnInitCallbacks(he,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,he)}catch(st){}var Q;return he||null}normalizeInstanceIdentifier(K=N){return this.component?this.component.multipleInstances?K:N:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Z{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ie=this.getProvider(K.name);if(ie.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ie.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ie=new O(K,this);return this.providers.set(K,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(lt,x,P)=>{"use strict";P.d(x,{Am:()=>Q,Ub:()=>Z,Yd:()=>J,in:()=>e});const p=[];var e=(()=>{return(K=e||(e={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",e;var K})();const E={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},N=e.INFO,O={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},H=(K,ie,...he)=>{if(ie<K.logLevel)return;const st=(new Date).toISOString(),Ye=O[ie];if(!Ye)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Ye](`[${st}]  ${K.name}:`,...he)};class J{constructor(ie){this.name=ie,this._logLevel=N,this._logHandler=H,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in e))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?E[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...ie),this._logHandler(this,e.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...ie),this._logHandler(this,e.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,e.INFO,...ie),this._logHandler(this,e.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,e.WARN,...ie),this._logHandler(this,e.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...ie),this._logHandler(this,e.ERROR,...ie)}}function Z(K){p.forEach(ie=>{ie.setLogLevel(K)})}function Q(K,ie){for(const he of p){let st=null;ie&&ie.level&&(st=E[ie.level]),he.userLogHandler=null===K?null:(Ye,ze,...gt)=>{const ge=gt.map(Be=>{if(null==Be)return null;if("string"==typeof Be)return Be;if("number"==typeof Be||"boolean"==typeof Be)return Be.toString();if(Be instanceof Error)return Be.message;try{return JSON.stringify(Be)}catch(Ie){return null}}).filter(Be=>Be).join(" ");ze>=(null!=st?st:Ye.logLevel)&&K({level:e[ze].toLowerCase(),message:ge,args:gt,type:Ye.name})}}}},5861:(lt,x,P)=>{"use strict";function p(E,N,O,H,J,Z,Q){try{var K=E[Z](Q),ie=K.value}catch(he){return void O(he)}K.done?N(ie):Promise.resolve(ie).then(H,J)}function e(E){return function(){var N=this,O=arguments;return new Promise(function(H,J){var Z=E.apply(N,O);function Q(ie){p(Z,H,J,Q,K,"next",ie)}function K(ie){p(Z,H,J,Q,K,"throw",ie)}Q(void 0)})}}P.d(x,{Z:()=>e})}},lt=>{lt(lt.s=7136)}]);