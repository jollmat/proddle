(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(nt,A,O)=>{"use strict";O.d(A,{nm:()=>$t});var t=O(5813),M=(O(5e3),O(3692),O(5867),O(5861)),j=O(9681),$=O(4859),W=O(2090),J=O(1877);const z=new Map,ne={activated:!1,tokenObservers:[]},ce={initialized:!1,enabled:!1};function Ye(Fe){return z.get(Fe)||ne}function $e(Fe,Pe){z.set(Fe,Pe)}function Ge(){return ce}class qe{constructor(Pe,ot,xt,Ot,Yt){if(this.operation=Pe,this.retryPolicy=ot,this.getWaitDuration=xt,this.lowerBound=Ot,this.upperBound=Yt,this.pending=null,this.nextErrorWaitInterval=Ot,Ot>Yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Pe){var ot=this;return(0,M.Z)(function*(){ot.stop();try{ot.pending=new W.BH,yield function we(Fe){return new Promise(Pe=>{setTimeout(Pe,Fe)})}(ot.getNextRun(Pe)),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new W.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(xt){ot.retryPolicy(xt)?ot.process(!1).catch(()=>{}):ot.stop()}})()}getNextRun(Pe){if(Pe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const Ie=new W.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function se(Fe){if(!Ye(Fe).activated)throw Ie.create("use-before-activation",{appName:Fe.name})}function Me(Fe,Pe){return de.apply(this,arguments)}function de(){return(de=(0,M.Z)(function*({url:Fe,body:Pe},ot){const xt={"Content-Type":"application/json"},Ot=ot.getImmediate({optional:!0});if(Ot){const qr=yield Ot.getHeartbeatsHeader();qr&&(xt["X-Firebase-Client"]=qr)}const Yt={method:"POST",body:JSON.stringify(Pe),headers:xt};let sr,Pr;try{sr=yield fetch(Fe,Yt)}catch(qr){throw Ie.create("fetch-network-error",{originalErrorMessage:qr.message})}if(200!==sr.status)throw Ie.create("fetch-status-error",{httpStatus:sr.status});try{Pr=yield sr.json()}catch(qr){throw Ie.create("fetch-parse-error",{originalErrorMessage:qr.message})}const pr=Pr.ttl.match(/^([\d.]+)(s)$/);if(!pr||!pr[2]||isNaN(Number(pr[1])))throw Ie.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Pr.ttl}`});const ai=1e3*Number(pr[1]),es=Date.now();return{token:Pr.attestationToken,expireTimeMillis:es+ai,issuedAtTimeMillis:es}})).apply(this,arguments)}function pn(Fe,Pe){const{projectId:ot,appId:xt,apiKey:Ot}=Fe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ot}/apps/${xt}:exchangeDebugToken?key=${Ot}`,body:{debug_token:Pe}}}const At="firebase-app-check-store";let er=null;function kn(){return er||(er=new Promise((Fe,Pe)=>{try{const ot=indexedDB.open("firebase-app-check-database",1);ot.onsuccess=xt=>{Fe(xt.target.result)},ot.onerror=xt=>{var Ot;Pe(Ie.create("storage-open",{originalErrorMessage:null===(Ot=xt.target.error)||void 0===Ot?void 0:Ot.message}))},ot.onupgradeneeded=xt=>{0===xt.oldVersion&&xt.target.result.createObjectStore(At,{keyPath:"compositeKey"})}}catch(ot){Pe(Ie.create("storage-open",{originalErrorMessage:ot.message}))}}),er)}function Ar(){return(Ar=(0,M.Z)(function*(Fe,Pe){const xt=(yield kn()).transaction(At,"readwrite"),Yt=xt.objectStore(At).put({compositeKey:Fe,value:Pe});return new Promise((sr,Pr)=>{Yt.onsuccess=pr=>{sr()},xt.onerror=pr=>{var ai;Pr(Ie.create("storage-set",{originalErrorMessage:null===(ai=pr.target.error)||void 0===ai?void 0:ai.message}))}})})).apply(this,arguments)}const Br=new J.Yd("@firebase/app-check");function Pi(Fe,Pe){return(0,W.hl)()?function nr(Fe,Pe){return function mr(Fe,Pe){return Ar.apply(this,arguments)}(function Fr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Pe)}(Fe,Pe).catch(ot=>{Br.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function Re(){return Ge().enabled}function Qe(){return ct.apply(this,arguments)}function ct(){return(ct=(0,M.Z)(function*(){const Fe=Ge();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yt={error:"UNKNOWN_ERROR"};function kt(Fe){return W.US.encodeString(JSON.stringify(Fe),!1)}function Mt(Fe){return wt.apply(this,arguments)}function wt(){return(wt=(0,M.Z)(function*(Fe,Pe=!1){const ot=Fe.app;se(ot);const xt=Ye(ot);let Yt,Ot=xt.token;if(!Ot){const pr=yield xt.cachedTokenPromise;pr&&Cn(pr)&&(Ot=pr)}if(!Pe&&Ot&&Cn(Ot))return{token:Ot.token};let Pr,sr=!1;if(Re()){xt.exchangeTokenPromise||(xt.exchangeTokenPromise=Me(pn(ot,yield Qe()),Fe.heartbeatServiceProvider).then(ai=>(xt.exchangeTokenPromise=void 0,ai)),sr=!0);const pr=yield xt.exchangeTokenPromise;return yield Pi(ot,pr),$e(ot,Object.assign(Object.assign({},xt),{token:pr})),{token:pr.token}}try{xt.exchangeTokenPromise||(xt.exchangeTokenPromise=xt.provider.getToken().then(pr=>(xt.exchangeTokenPromise=void 0,pr)),sr=!0),Ot=yield xt.exchangeTokenPromise}catch(pr){"appCheck/throttled"===pr.code?Br.warn(pr.message):Br.error(pr),Yt=pr}return Ot?(Pr={token:Ot.token},$e(ot,Object.assign(Object.assign({},xt),{token:Ot})),yield Pi(ot,Ot)):Pr=Wn(Yt),sr&&Mn(ot,Pr),Pr})).apply(this,arguments)}function mn(Fe,Pe){const ot=Ye(Fe),xt=ot.tokenObservers.filter(Ot=>Ot.next!==Pe);0===xt.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),$e(Fe,Object.assign(Object.assign({},ot),{tokenObservers:xt}))}function en(Fe){const{app:Pe}=Fe,ot=Ye(Pe);let xt=ot.tokenRefresher;xt||(xt=function Qt(Fe){const{app:Pe}=Fe;return new qe((0,M.Z)(function*(){let xt;if(xt=Ye(Pe).token?yield Mt(Fe,!0):yield Mt(Fe),xt.error)throw xt.error}),()=>!0,()=>{const ot=Ye(Pe);if(ot.token){let xt=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return xt=Math.min(xt,ot.token.expireTimeMillis-3e5),Math.max(0,xt-Date.now())}return 0},3e4,96e4)}(Fe),$e(Pe,Object.assign(Object.assign({},ot),{tokenRefresher:xt}))),!xt.isRunning()&&ot.isTokenAutoRefreshEnabled&&xt.start()}function Mn(Fe,Pe){const ot=Ye(Fe).tokenObservers;for(const xt of ot)try{"EXTERNAL"===xt.type&&null!=Pe.error?xt.error(Pe.error):xt.next(Pe)}catch(Ot){}}function Cn(Fe){return Fe.expireTimeMillis-Date.now()>0}function Wn(Fe){return{token:kt(yt),error:Fe}}class Ht{constructor(Pe,ot){this.app=Pe,this.heartbeatServiceProvider=ot}_delete(){const{tokenObservers:Pe}=Ye(this.app);for(const ot of Pe)mn(this.app,ot.next);return Promise.resolve()}}const jt="app-check-internal";!function Bt(){(0,j._registerComponent)(new $.wA("app-check",Fe=>function vr(Fe,Pe){return new Ht(Fe,Pe)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Pe,ot)=>{Fe.getProvider(jt).initialize()})),(0,j._registerComponent)(new $.wA(jt,Fe=>function En(Fe){return{getToken:Pe=>Mt(Fe,Pe),addTokenListener:Pe=>function Lt(Fe,Pe,ot,xt){const{app:Ot}=Fe,Yt=Ye(Ot),sr={next:ot,error:xt,type:Pe};if($e(Ot,Object.assign(Object.assign({},Yt),{tokenObservers:[...Yt.tokenObservers,sr]})),Yt.token&&Cn(Yt.token)){const Pr=Yt.token;Promise.resolve().then(()=>{ot({token:Pr.token}),en(Fe)}).catch(()=>{})}Yt.cachedTokenPromise.then(()=>en(Fe))}(Fe,"INTERNAL",Pe),removeTokenListener:Pe=>mn(Fe.app,Pe)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)("@firebase/app-check","0.5.4")}();class $t{constructor(){return(0,t.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(nt,A,O)=>{"use strict";O.d(A,{Ot:()=>N,ZF:()=>ue,hX:()=>Ye,z6:()=>M});var t=O(5867),C=O(5e3),E=O(5813);class N{constructor(qe){return qe}}class M{constructor(){return(0,t.C6)()}}const W=new C.OlP("angularfire2._apps"),J={provide:N,useFactory:function $(Be){return Be&&1===Be.length?Be[0]:new N((0,t.Mq)())},deps:[[new C.FiY,W]]},z={provide:M,deps:[[new C.FiY,W]]};function ne(Be){return(qe,we)=>{const He=qe.runOutsideAngular(()=>Be(we));return new N(He)}}let ce=(()=>{class Be{constructor(we){(0,t.KN)("angularfire",E.q4.full,"core"),(0,t.KN)("angularfire",E.q4.full,"app"),(0,t.KN)("angular",C.q4F.full,we.toString())}}return Be.\u0275fac=function(we){return new(we||Be)(C.LFG(C.Lbi))},Be.\u0275mod=C.oAB({type:Be}),Be.\u0275inj=C.cJS({providers:[J,z]}),Be})();function Ye(Be,...qe){return{ngModule:ce,providers:[{provide:W,useFactory:ne(Be),multi:!0,deps:[C.R0b,C.zs3,E.HU,...qe]}]}}const ue=(0,E.u3)(t.ZF,!0)},2011:(nt,A,O)=>{"use strict";O.d(A,{Dh:()=>$,GT:()=>M,cc:()=>Ye,on:()=>J,pX:()=>N,xv:()=>W});var t=O(5e3),C=O(127);nt=O.hmd(nt);const E=["ngOnDestroy"],N=(ue,Oe,De,rt={})=>new Proxy(ue,{get:(Be,qe)=>De.runOutsideAngular(()=>{var we;if(ue[qe])return(null===(we=null==rt?void 0:rt.spy)||void 0===we?void 0:we.get)&&rt.spy.get(qe,ue[qe]),ue[qe];if(E.indexOf(qe)>-1)return()=>{};const He=Oe.toPromise().then(Ie=>{const it=Ie&&Ie[qe];return"function"==typeof it?it.bind(Ie):it&&it.then?it.then(se=>De.run(()=>se)):De.run(()=>it)});return new Proxy(()=>{},{get:(Ie,it)=>He[it],apply:(Ie,it,se)=>He.then(oe=>{var Q;const ge=oe&&oe(...se);return(null===(Q=null==rt?void 0:rt.spy)||void 0===Q?void 0:Q.apply)&&rt.spy.apply(qe,se,ge),ge})})})}),M=(ue,Oe)=>{Oe.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(rt=>{Object.defineProperty(ue.prototype,rt,Object.getOwnPropertyDescriptor(De.prototype||De,rt))})})};class j{constructor(Oe){return Oe}}const $=new t.OlP("angularfire2.app.options"),W=new t.OlP("angularfire2.app.name");function J(ue,Oe,De){const Be="object"==typeof De&&De||{};Be.name=Be.name||"string"==typeof De&&De||"[DEFAULT]";const we=C.Z.apps.filter(He=>He&&He.name===Be.name)[0]||Oe.runOutsideAngular(()=>C.Z.initializeApp(ue,Be));try{JSON.stringify(ue)!==JSON.stringify(we.options)&&z("error",`${we.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new j(we)}const z=(ue,...Oe)=>{(0,t.X6Q)()&&"undefined"!=typeof console&&console[ue](...Oe)};function Ye(ue,Oe,De,rt,Be){const[,qe,we]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ue)||[];if(qe)return function $e(ue,Oe){try{return ue.toString()===Oe.toString()}catch(De){return ue===Oe}}(Be,we)||(ut("error",`${Oe} was already initialized on the ${De} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Be,was:we})),qe;{const He=rt();return globalThis.\u0275AngularfireInstanceCache.push([ue,He,Be]),He}}const Ge=!!nt.hot,ut=(ue,...Oe)=>{(0,t.X6Q)()&&"undefined"!=typeof console&&console[ue](...Oe)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(nt,A,O)=>{"use strict";O.d(A,{gg:()=>hs,ET:()=>Qc,hJ:()=>Ws,BS:()=>Eh,JU:()=>Do,ad:()=>zs,Cm:()=>Th});var t=O(5813),C=O(5e3),E=O(3692),N=O(5867),M=O(5861),j=O(2090),$=O(9681),W=O(655),J=O(1877),z=O(4859);const De=function ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new J.Yd("@firebase/auth");function we(S,..._){qe.logLevel<=J.in.ERROR&&qe.error(`Auth (${$.SDK_VERSION}): ${S}`,..._)}function He(S,..._){throw oe(S,..._)}function Ie(S,..._){return oe(S,..._)}function it(S,_,w){const R=Object.assign(Object.assign({},De()),{[_]:w});return new j.LL("auth","Firebase",R).create(_,{appName:S.name})}function oe(S,..._){if("string"!=typeof S){const w=_[0],R=[..._.slice(1)];return R[0]&&(R[0].appName=S.name),S._errorFactory.create(w,...R)}return rt.create(S,..._)}function Q(S,_,...w){if(!S)throw oe(_,...w)}function ge(S){const _="INTERNAL ASSERTION FAILED: "+S;throw we(_),new Error(_)}function Me(S,_){S||ge(_)}const de=new Map;function gt(S){Me(S instanceof Function,"Expected a class definition");let _=de.get(S);return _?(Me(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,de.set(S,_),_)}function At(){var S;return"undefined"!=typeof self&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class kn{constructor(_,w){this.shortDelay=_,this.longDelay=w,Me(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function an(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mt(){return"http:"===At()||"https:"===At()}()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class nr{static initialize(_,w,R){this.fetchImpl=_,w&&(this.headersImpl=w),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Qn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hr=new kn(3e4,6e4);function Ar(S,_,w,R){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,M.Z)(function*(S,_,w,R,ie={}){return bi(S,ie,(0,M.Z)(function*(){let ye={},lt={};R&&("GET"===_?lt=R:ye={body:JSON.stringify(R)});const Ft=(0,j.xO)(Object.assign({key:S.config.apiKey},lt)).slice(1),vn=yield S._getAdditionalHeaders();return vn["Content-Type"]="application/json",S.languageCode&&(vn["X-Firebase-Locale"]=S.languageCode),nr.fetch()(gn(S,S.config.apiHost,w,Ft),Object.assign({method:_,headers:vn,referrerPolicy:"no-referrer"},ye))}))})).apply(this,arguments)}function bi(S,_,w){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,M.Z)(function*(S,_,w){S._canInitEmulator=!1;const R=Object.assign(Object.assign({},Qn),_);try{const ie=new Pi(S),ye=yield Promise.race([w(),ie.promise]);ie.clearNetworkTimeout();const lt=yield ye.json();if("needConfirmation"in lt)throw Vr(S,"account-exists-with-different-credential",lt);if(ye.ok&&!("errorMessage"in lt))return lt;{const Ft=ye.ok?lt.errorMessage:lt.error.message,[vn,Bn]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Vr(S,"credential-already-in-use",lt);if("EMAIL_EXISTS"===vn)throw Vr(S,"email-already-in-use",lt);const hr=R[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(Bn)throw it(S,hr,Bn);He(S,hr)}}catch(ie){if(ie instanceof j.ZR)throw ie;He(S,"network-request-failed")}})).apply(this,arguments)}function gn(S,_,w,R){const ie=`${_}${w}?${R}`;return S.config.emulator?function yr(S,_){Me(S.emulator,"Emulator should always be set here");const{url:w}=S.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}(S.config,ie):`${S.config.apiScheme}://${ie}`}class Pi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,R)=>{this.timer=setTimeout(()=>R(Ie(this.auth,"network-request-failed")),Hr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(S,_,w){const R={appName:S.name};w.email&&(R.email=w.email),w.phoneNumber&&(R.phoneNumber=w.phoneNumber);const ie=Ie(S,_,R);return ie.customData._tokenResponse=w,ie}function Re(){return(Re=(0,M.Z)(function*(S,_){return Ar(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Xe(S,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,M.Z)(function*(S,_){return Ar(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function kt(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Lt(){return(Lt=(0,M.Z)(function*(S,_=!1){const w=(0,j.m9)(S),R=yield w.getIdToken(_),ie=en(R);Q(ie&&ie.exp&&ie.auth_time&&ie.iat,w.auth,"internal-error");const ye="object"==typeof ie.firebase?ie.firebase:void 0,lt=null==ye?void 0:ye.sign_in_provider;return{claims:ie,token:R,authTime:kt(mn(ie.auth_time)),issuedAtTime:kt(mn(ie.iat)),expirationTime:kt(mn(ie.exp)),signInProvider:lt||null,signInSecondFactor:(null==ye?void 0:ye.sign_in_second_factor)||null}})).apply(this,arguments)}function mn(S){return 1e3*Number(S)}function en(S){const[_,w,R]=S.split(".");if(void 0===_||void 0===w||void 0===R)return we("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,j.tV)(w);return ie?JSON.parse(ie):(we("Failed to decode base64 JWT payload"),null)}catch(ie){return we("Caught error parsing JWT payload as JSON",ie),null}}function Mn(S,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,M.Z)(function*(S,_,w=!1){if(w)return _;try{return yield _}catch(R){throw R instanceof j.ZR&&Wn(R)&&S.auth.currentUser===S&&(yield S.auth.signOut()),R}})).apply(this,arguments)}function Wn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Ht{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ie=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const R=this.getInterval(_);this.timerId=setTimeout((0,M.Z)(function*(){yield w.iteration()}),R)}iteration(){var _=this;return(0,M.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&_.schedule(!0))}_.schedule()})()}}class vr{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(S){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,M.Z)(function*(S){var _;const w=S.auth,R=yield S.getIdToken(),ie=yield Mn(S,Xe(w,{idToken:R}));Q(null==ie?void 0:ie.users.length,w,"internal-error");const ye=ie.users[0];S._notifyReloadListener(ye);const lt=(null===(_=ye.providerUserInfo)||void 0===_?void 0:_.length)?An(ye.providerUserInfo):[],Ft=Wt(S.providerData,lt),hr=!!S.isAnonymous&&!(S.email&&ye.passwordHash||(null==Ft?void 0:Ft.length)),ii={uid:ye.localId,displayName:ye.displayName||null,photoURL:ye.photoUrl||null,email:ye.email||null,emailVerified:ye.emailVerified||!1,phoneNumber:ye.phoneNumber||null,tenantId:ye.tenantId||null,providerData:Ft,metadata:new vr(ye.createdAt,ye.lastLoginAt),isAnonymous:hr};Object.assign(S,ii)})).apply(this,arguments)}function Vt(){return(Vt=(0,M.Z)(function*(S){const _=(0,j.m9)(S);yield En(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function Wt(S,_){return[...S.filter(R=>!_.some(ie=>ie.providerId===R.providerId)),..._]}function An(S){return S.map(_=>{var{providerId:w}=_,R=(0,W._T)(_,["providerId"]);return{providerId:w,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function ve(){return(ve=(0,M.Z)(function*(S,_){const w=yield bi(S,{},(0,M.Z)(function*(){const R=(0,j.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:ie,apiKey:ye}=S.config,lt=gn(S,ie,"/v1/token",`key=${ye}`),Ft=yield S._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",nr.fetch()(lt,{method:"POST",headers:Ft,body:R})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Q(_.idToken,"internal-error"),Q(void 0!==_.idToken,"internal-error"),Q(void 0!==_.refreshToken,"internal-error");const w="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Qt(S){const _=en(S);return Q(_,"internal-error"),Q(void 0!==_.exp,"internal-error"),Q(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var R=this;return(0,M.Z)(function*(){return Q(!R.accessToken||R.refreshToken,_,"user-token-expired"),w||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(_,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var R=this;return(0,M.Z)(function*(){const{accessToken:ie,refreshToken:ye,expiresIn:lt}=yield function yn(S,_){return ve.apply(this,arguments)}(_,w);R.updateTokensAndExpiration(ie,ye,Number(lt))})()}updateTokensAndExpiration(_,w,R){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(_,w){const{refreshToken:R,accessToken:ie,expirationTime:ye}=w,lt=new pe;return R&&(Q("string"==typeof R,"internal-error",{appName:_}),lt.refreshToken=R),ie&&(Q("string"==typeof ie,"internal-error",{appName:_}),lt.accessToken=ie),ye&&(Q("number"==typeof ye,"internal-error",{appName:_}),lt.expirationTime=ye),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return ge("not implemented")}}function me(S,_){Q("string"==typeof S||void 0===S,"internal-error",{appName:_})}class Ze{constructor(_){var{uid:w,auth:R,stsTokenManager:ie}=_,ye=(0,W._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=R,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=ye.displayName||null,this.email=ye.email||null,this.emailVerified=ye.emailVerified||!1,this.phoneNumber=ye.phoneNumber||null,this.photoURL=ye.photoURL||null,this.isAnonymous=ye.isAnonymous||!1,this.tenantId=ye.tenantId||null,this.providerData=ye.providerData?[...ye.providerData]:[],this.metadata=new vr(ye.createdAt||void 0,ye.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,M.Z)(function*(){const R=yield Mn(w,w.stsTokenManager.getToken(w.auth,_));return Q(R,w.auth,"internal-error"),w.accessToken!==R&&(w.accessToken=R,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),R})()}getIdTokenResult(_){return function wt(S){return Lt.apply(this,arguments)}(this,_)}reload(){return function et(S){return Vt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Q(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ze(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var R=this;return(0,M.Z)(function*(){let ie=!1;_.idToken&&_.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(_),ie=!0),w&&(yield En(R)),yield R.auth._persistUserIfCurrent(R),ie&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var _=this;return(0,M.Z)(function*(){const w=yield _.getIdToken();return yield Mn(_,function $r(S,_){return Re.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var R,ie,ye,lt,Ft,vn,Bn,hr;const ii=null!==(R=w.displayName)&&void 0!==R?R:void 0,ps=null!==(ie=w.email)&&void 0!==ie?ie:void 0,Is=null!==(ye=w.phoneNumber)&&void 0!==ye?ye:void 0,mc=null!==(lt=w.photoURL)&&void 0!==lt?lt:void 0,Dd=null!==(Ft=w.tenantId)&&void 0!==Ft?Ft:void 0,nu=null!==(vn=w._redirectEventId)&&void 0!==vn?vn:void 0,Sd=null!==(Bn=w.createdAt)&&void 0!==Bn?Bn:void 0,za=null!==(hr=w.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:Nl,emailVerified:Ah,isAnonymous:qp,providerData:Ru,stsTokenManager:ru}=w;Q(Nl&&ru,_,"internal-error");const Pf=pe.fromJSON(this.name,ru);Q("string"==typeof Nl,_,"internal-error"),me(ii,_.name),me(ps,_.name),Q("boolean"==typeof Ah,_,"internal-error"),Q("boolean"==typeof qp,_,"internal-error"),me(Is,_.name),me(mc,_.name),me(Dd,_.name),me(nu,_.name),me(Sd,_.name),me(za,_.name);const xd=new Ze({uid:Nl,auth:_,email:ps,emailVerified:Ah,displayName:ii,isAnonymous:qp,photoURL:mc,phoneNumber:Is,tenantId:Dd,stsTokenManager:Pf,createdAt:Sd,lastLoginAt:za});return Ru&&Array.isArray(Ru)&&(xd.providerData=Ru.map(Nf=>Object.assign({},Nf))),nu&&(xd._redirectEventId=nu),xd}static _fromIdTokenResponse(_,w,R=!1){return(0,M.Z)(function*(){const ie=new pe;ie.updateFromServerResponse(w);const ye=new Ze({uid:w.localId,auth:_,stsTokenManager:ie,isAnonymous:R});return yield En(ye),ye})()}}const Nt=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,M.Z)(function*(){return!0})()}_set(w,R){var ie=this;return(0,M.Z)(function*(){ie.storage[w]=R})()}_get(w){var R=this;return(0,M.Z)(function*(){const ie=R.storage[w];return void 0===ie?null:ie})()}_remove(w){var R=this;return(0,M.Z)(function*(){delete R.storage[w]})()}_addListener(w,R){}_removeListener(w,R){}}return S.type="NONE",S})();function wn(S,_,w){return`firebase:${S}:${_}:${w}`}class On{constructor(_,w,R){this.persistence=_,this.auth=w,this.userKey=R;const{config:ie,name:ye}=this.auth;this.fullUserKey=wn(this.userKey,ie.apiKey,ye),this.fullPersistenceKey=wn("persistence",ie.apiKey,ye),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,M.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?Ze._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,M.Z)(function*(){if(w.persistence===_)return;const R=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,R?w.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,R="authUser"){return(0,M.Z)(function*(){if(!w.length)return new On(gt(Nt),_,R);const ie=(yield Promise.all(w.map(function(){var Bn=(0,M.Z)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return Bn.apply(this,arguments)}}()))).filter(Bn=>Bn);let ye=ie[0]||gt(Nt);const lt=wn(R,_.config.apiKey,_.name);let Ft=null;for(const Bn of w)try{const hr=yield Bn._get(lt);if(hr){const ii=Ze._fromJSON(_,hr);Bn!==ye&&(Ft=ii),ye=Bn;break}}catch(hr){}const vn=ie.filter(Bn=>Bn._shouldAllowMigration);return ye._shouldAllowMigration&&vn.length?(ye=vn[0],Ft&&(yield ye._set(lt,Ft.toJSON())),yield Promise.all(w.map(function(){var Bn=(0,M.Z)(function*(hr){if(hr!==ye)try{yield hr._remove(lt)}catch(ii){}});return function(hr){return Bn.apply(this,arguments)}}())),new On(ye,_,R)):new On(ye,_,R)})()}}function rr(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(function Dn(S=(0,j.z$)()){return/iemobile/i.test(S)}(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(function Gn(S=(0,j.z$)()){return/firefox\//i.test(S)}(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(function Le(S=(0,j.z$)()){return/blackberry/i.test(S)}(_))return"Blackberry";if(function st(S=(0,j.z$)()){return/webos/i.test(S)}(_))return"Webos";if(function tr(S=(0,j.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}(_))return"Safari";if((_.includes("chrome/")||function tn(S=(0,j.z$)()){return/crios\//i.test(S)}(_))&&!_.includes("edge/"))return"Chrome";if(function nn(S=(0,j.z$)()){return/android/i.test(S)}(_))return"Android";{const R=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function Ct(S,_=[]){let w;switch(S){case"Browser":w=rr((0,j.z$)());break;case"Worker":w=`${rr((0,j.z$)())}-${S}`;break;default:w=S}const R=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${$.SDK_VERSION}/${R}`}class $t{constructor(_,w,R){this.app=_,this.heartbeatServiceProvider=w,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new on(this),this.idTokenSubscription=new on(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(_,w){var R=this;return w&&(this._popupRedirectResolver=gt(w)),this._initializationPromise=this.queue((0,M.Z)(function*(){var ie,ye;if(!R._deleted&&(R.persistenceManager=yield On.create(R,_),!R._deleted)){if(null===(ie=R._popupRedirectResolver)||void 0===ie?void 0:ie._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch(lt){}yield R.initializeCurrentUser(w),R.lastNotifiedUid=(null===(ye=R.currentUser)||void 0===ye?void 0:ye.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,M.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w)}})()}initializeCurrentUser(_){var w=this;return(0,M.Z)(function*(){var R;let ie=yield w.assertedPersistence.getCurrentUser();if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const ye=null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId,lt=null==ie?void 0:ie._redirectEventId,Ft=yield w.tryRedirectSignIn(_);(!ye||ye===lt)&&(null==Ft?void 0:Ft.user)&&(ie=Ft.user)}return ie?ie._redirectEventId?(Q(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ie._redirectEventId?w.directlySetCurrentUser(ie):w.reloadAndSetCurrentUserOrClear(ie)):w.reloadAndSetCurrentUserOrClear(ie):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var w=this;return(0,M.Z)(function*(){let R=null;try{R=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch(ie){yield w._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,M.Z)(function*(){try{yield En(_)}catch(R){if("auth/network-request-failed"!==R.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function er(){if("undefined"==typeof navigator)return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,M.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,M.Z)(function*(){const R=_?(0,j.m9)(_):null;return R&&Q(R.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(R&&R._clone(w))})()}_updateCurrentUser(_){var w=this;return(0,M.Z)(function*(){if(!w._deleted)return _&&Q(w.tenantId===_.tenantId,w,"tenant-id-mismatch"),w.queue((0,M.Z)(function*(){yield w.directlySetCurrentUser(_),w.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,M.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var w=this;return this.queue((0,M.Z)(function*(){yield w.assertedPersistence.setPersistence(gt(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new j.LL("auth","Firebase",_())}onAuthStateChanged(_,w,R){return this.registerStateListener(this.authStateSubscription,_,w,R)}onIdTokenChanged(_,w,R){return this.registerStateListener(this.idTokenSubscription,_,w,R)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var R=this;return(0,M.Z)(function*(){const ie=yield R.getOrInitRedirectPersistenceManager(w);return null===_?ie.removeCurrentUser():ie.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,M.Z)(function*(){if(!w.redirectPersistenceManager){const R=_&&gt(_)||w._popupRedirectResolver;Q(R,w,"argument-error"),w.redirectPersistenceManager=yield On.create(w,[gt(R._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,M.Z)(function*(){var R,ie;return w._isInitialized&&(yield w.queue((0,M.Z)(function*(){}))),(null===(R=w._currentUser)||void 0===R?void 0:R._redirectEventId)===_?w._currentUser:(null===(ie=w.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,M.Z)(function*(){if(_===w.currentUser)return w.queue((0,M.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,R,ie){if(this._deleted)return()=>{};const ye="function"==typeof w?w:w.next.bind(w),lt=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(lt,this,"internal-error"),lt.then(()=>ye(this.currentUser)),"function"==typeof w?_.addObserver(w,R,ie):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,M.Z)(function*(){w.currentUser&&w.currentUser!==_&&(w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh()),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Ct(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,M.Z)(function*(){var w;const R={"X-Client-Version":_.clientVersion};_.app.options.appId&&(R["X-Firebase-gmpid"]=_.app.options.appId);const ie=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ie&&(R["X-Firebase-Client"]=ie),R})()}}class on{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,j.ne)(w=>this.observer=w)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ji(S){return`__${S}${Math.floor(1e6*Math.random())}`})("rcb"),new kn(3e4,6e4),new kn(2e3,1e4),new kn(3e4,6e4),new kn(5e3,15e3);var mf="@firebase/auth",ld="0.19.10";class qc{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,M.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(R=>{var ie;_((null===(ie=R)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);!w||(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function _f(S){(0,$._registerComponent)(new z.wA("auth",(_,{options:w})=>{const R=_.getProvider("app").getImmediate(),ie=_.getProvider("heartbeat"),{apiKey:ye,authDomain:lt}=R.options;return((Ft,vn)=>{Q(ye&&!ye.includes(":"),"invalid-api-key",{appName:Ft.name}),Q(!(null==lt?void 0:lt.includes(":")),"argument-error",{appName:Ft.name});const Bn={apiKey:ye,authDomain:lt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ct(S)},hr=new $t(Ft,vn,Bn);return function pn(S,_){const w=(null==_?void 0:_.persistence)||[],R=(Array.isArray(w)?w:[w]).map(gt);(null==_?void 0:_.errorMap)&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(R,null==_?void 0:_.popupRedirectResolver)}(hr,w),hr})(R,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,R)=>{_.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new z.wA("auth-internal",_=>{const w=function Xt(S){return(0,j.m9)(S)}(_.getProvider("auth").getImmediate());return new qc(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(mf,ld,function Ai(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,$.registerVersion)(mf,ld,"esm2017")}("Browser");class Ro{constructor(){return(0,t.vb)("auth")}}var Np=O(7128),Xi=O(3209),Tf=O(8306),Rp=O(4004),go={includeMetadataChanges:!1};function $a(S,_){return void 0===_&&(_={}),function _t(S){return function Hi(S,_){return void 0===_&&(_=go),new Tf.y(function(w){return{unsubscribe:(0,Xi.cf)(S,_,{next:w.next.bind(w),error:w.error.bind(w),complete:w.complete.bind(w)})}})}(S,{includeMetadataChanges:!0}).pipe((0,Rp.U)(function(_){return _.docs}))}(S).pipe((0,Rp.U)(function(w){return w.map(function(R){return function bh(S,_){void 0===_&&(_={});var w=S.data();return!S.exists()||"object"!=typeof w||null===w||_.idField&&(w[_.idField]=S.id),w}(R,_)})}))}class hs{constructor(_){return _}}const fs="firestore",Ml=new C.OlP("angularfire2.firestore-instances");function pm(S){return(_,w)=>{const R=_.runOutsideAngular(()=>S(w));return new hs(R)}}const Mi={provide:class Sf{constructor(){return(0,t.vb)(fs)}},deps:[[new C.FiY,Ml]]},_d={provide:hs,useFactory:function wh(S,_){const w=(0,t.JM)(fs,S,_);return w&&new hs(w)},deps:[[new C.FiY,Ml],E.Ot]};let yd=(()=>{class S{constructor(){(0,N.KN)("angularfire",t.q4.full,"fst")}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275mod=C.oAB({type:S}),S.\u0275inj=C.cJS({providers:[_d,Mi]}),S})();function Th(S,..._){return{ngModule:yd,providers:[{provide:Ml,useFactory:pm(S),multi:!0,deps:[C.R0b,C.zs3,t.HU,E.z6,[new C.FiY,Ro],[new C.FiY,Np.nm],..._]}]}}const Eh=(0,t.u3)($a,!0),Qc=(0,t.u3)(Xi.ET,!0),Ws=(0,t.u3)(Xi.hJ,!0),Do=(0,t.u3)(Xi.JU,!0),zs=(0,t.u3)(Xi.ad,!0)},5813:(nt,A,O)=>{"use strict";O.d(A,{q4:()=>Ni,iC:()=>Bc,HU:()=>ha,vb:()=>Cl,JM:()=>cf,u3:()=>wl});var t=O(5e3),C=O(5867),E=O(5861),N=O(9681),M=O(2090),j=O(4859),$=O(1877);const W="@firebase/installations",J="0.5.6",ne=`w:${J}`,ce="FIS_v2",Oe=new M.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(U){return U instanceof M.ZR&&U.code.includes("request-failed")}function rt({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function Be(U){return{token:U.token,requestStatus:2,expiresIn:oe(U.expiresIn),creationTime:Date.now()}}function qe(U,V){return we.apply(this,arguments)}function we(){return(we=(0,E.Z)(function*(U,V){const Se=(yield V.json()).error;return Oe.create("request-failed",{requestName:U,serverCode:Se.code,serverMessage:Se.message,serverStatus:Se.status})})).apply(this,arguments)}function He({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ie(U,{refreshToken:V}){const ee=He(U);return ee.append("Authorization",function Q(U){return`${ce} ${U}`}(V)),ee}function it(U){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(U){const V=yield U();return V.status>=500&&V.status<600?U():V})).apply(this,arguments)}function oe(U){return Number(U.replace("s","000"))}function ge(U,V){return Me.apply(this,arguments)}function Me(){return(Me=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:V},{fid:ee}){const Se=rt(U),Ke=He(U),dt=V.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Jt={method:"POST",headers:Ke,body:JSON.stringify({fid:ee,authVersion:ce,appId:U.appId,sdkVersion:ne})},lr=yield it(()=>fetch(Se,Jt));if(lr.ok){const Hn=yield lr.json();return{fid:Hn.fid||ee,registrationStatus:2,refreshToken:Hn.refreshToken,authToken:Be(Hn.authToken)}}throw yield qe("Create Installation",lr)})).apply(this,arguments)}function de(U){return new Promise(V=>{setTimeout(V,U)})}const St=/^[cdef][\w-]{21}$/;function Tt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ee=function mt(U){return function gt(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return St.test(ee)?ee:""}catch(U){return""}}function At(U){return`${U.appName}!${U.appId}`}const an=new Map;function er(U,V){const ee=At(U);nr(ee,V),function Qn(U,V){const ee=function mr(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=U=>{nr(U.data.key,U.data.fid)}),Hr}();ee&&ee.postMessage({key:U,fid:V}),function Ar(){0===an.size&&Hr&&(Hr.close(),Hr=null)}()}(ee,V)}function nr(U,V){const ee=an.get(U);if(ee)for(const Se of ee)Se(V)}let Hr=null;const Fr="firebase-installations-store";let Br=null;function wi(){return Br||(Br=(0,M.X3)("firebase-installations-database",1,(U,V)=>{0===V&&U.createObjectStore(Fr)})),Br}function gn(U,V){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,E.Z)(function*(U,V){const ee=At(U),Ke=(yield wi()).transaction(Fr,"readwrite"),dt=Ke.objectStore(Fr),Gt=yield dt.get(ee);return yield dt.put(V,ee),yield Ke.complete,(!Gt||Gt.fid!==V.fid)&&er(U,V.fid),V})).apply(this,arguments)}function Vr(U){return $r.apply(this,arguments)}function $r(){return($r=(0,E.Z)(function*(U){const V=At(U),Se=(yield wi()).transaction(Fr,"readwrite");yield Se.objectStore(Fr).delete(V),yield Se.complete})).apply(this,arguments)}function Re(U,V){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(U,V){const ee=At(U),Ke=(yield wi()).transaction(Fr,"readwrite"),dt=Ke.objectStore(Fr),Gt=yield dt.get(ee),Jt=V(Gt);return void 0===Jt?yield dt.delete(ee):yield dt.put(Jt,ee),yield Ke.complete,Jt&&(!Gt||Gt.fid!==Jt.fid)&&er(U,Jt.fid),Jt})).apply(this,arguments)}function ct(U){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,E.Z)(function*(U){let V;const ee=yield Re(U.appConfig,Se=>{const Ke=yt(Se),dt=kt(U,Ke);return V=dt.registrationPromise,dt.installationEntry});return""===ee.fid?{installationEntry:yield V}:{installationEntry:ee,registrationPromise:V}})).apply(this,arguments)}function yt(U){return Qt(U||{fid:Tt(),registrationStatus:0})}function kt(U,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Oe.create("app-offline"))};const ee={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Se=function Mt(U,V){return wt.apply(this,arguments)}(U,ee);return{installationEntry:ee,registrationPromise:Se}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Lt(U)}:{installationEntry:V}}function wt(){return(wt=(0,E.Z)(function*(U,V){try{const ee=yield ge(U,V);return gn(U.appConfig,ee)}catch(ee){throw De(ee)&&409===ee.customData.serverCode?yield Vr(U.appConfig):yield gn(U.appConfig,{fid:V.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function Lt(U){return mn.apply(this,arguments)}function mn(){return(mn=(0,E.Z)(function*(U){let V=yield en(U.appConfig);for(;1===V.registrationStatus;)yield de(100),V=yield en(U.appConfig);if(0===V.registrationStatus){const{installationEntry:ee,registrationPromise:Se}=yield ct(U);return Se||ee}return V})).apply(this,arguments)}function en(U){return Re(U,V=>{if(!V)throw Oe.create("installation-not-found");return Qt(V)})}function Qt(U){return function Mn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Cn(U,V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:V},ee){const Se=Ht(U,ee),Ke=Ie(U,ee),dt=V.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Jt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:ne,appId:U.appId}})},lr=yield it(()=>fetch(Se,Jt));if(lr.ok)return Be(yield lr.json());throw yield qe("Generate Auth Token",lr)})).apply(this,arguments)}function Ht(U,{fid:V}){return`${rt(U)}/${V}/authTokens:generate`}function vr(U){return En.apply(this,arguments)}function En(){return(En=(0,E.Z)(function*(U,V=!1){let ee;const Se=yield Re(U.appConfig,dt=>{if(!yn(dt))throw Oe.create("not-registered");const Gt=dt.authToken;if(!V&&ve(Gt))return dt;if(1===Gt.requestStatus)return ee=Dt(U,V),dt;{if(!navigator.onLine)throw Oe.create("app-offline");const Jt=me(dt);return ee=Wt(U,Jt),Jt}});return ee?yield ee:Se.authToken})).apply(this,arguments)}function Dt(U,V){return et.apply(this,arguments)}function et(){return(et=(0,E.Z)(function*(U,V){let ee=yield Vt(U.appConfig);for(;1===ee.authToken.requestStatus;)yield de(100),ee=yield Vt(U.appConfig);const Se=ee.authToken;return 0===Se.requestStatus?vr(U,V):Se})).apply(this,arguments)}function Vt(U){return Re(U,V=>{if(!yn(V))throw Oe.create("not-registered");return function Ze(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function Wt(U,V){return An.apply(this,arguments)}function An(){return(An=(0,E.Z)(function*(U,V){try{const ee=yield Cn(U,V),Se=Object.assign(Object.assign({},V),{authToken:ee});return yield gn(U.appConfig,Se),ee}catch(ee){if(!De(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Se=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield gn(U.appConfig,Se)}else yield Vr(U.appConfig);throw ee}})).apply(this,arguments)}function yn(U){return void 0!==U&&2===U.registrationStatus}function ve(U){return 2===U.requestStatus&&!function pe(U){const V=Date.now();return V<U.creationTime||U.creationTime+U.expiresIn<V+36e5}(U)}function me(U){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:V})}function Nt(){return(Nt=(0,E.Z)(function*(U){const V=U,{installationEntry:ee,registrationPromise:Se}=yield ct(V);return Se?Se.catch(console.error):vr(V).catch(console.error),ee.fid})).apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(U,V=!1){const ee=U;return yield rr(ee),(yield vr(ee,V)).token})).apply(this,arguments)}function rr(U){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,E.Z)(function*(U){const{registrationPromise:V}=yield ct(U);V&&(yield V)})).apply(this,arguments)}function or(U){return Oe.create("missing-app-config-values",{valueName:U})}const jt="installations",je=U=>{const V=U.getProvider("app").getImmediate(),ee=function Un(U){if(!U||!U.options)throw or("App Configuration");if(!U.name)throw or("App Name");const V=["projectId","apiKey","appId"];for(const ee of V)if(!U.options[ee])throw or(ee);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(V);return{app:V,appConfig:ee,heartbeatServiceProvider:(0,N._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},Ct=U=>{const V=U.getProvider("app").getImmediate(),ee=(0,N._getProvider)(V,jt).getImmediate();return{getId:()=>function ke(U){return Nt.apply(this,arguments)}(ee),getToken:Ke=>function wn(U){return On.apply(this,arguments)}(ee,Ke)}};(function $t(){(0,N._registerComponent)(new j.wA(jt,je,"PUBLIC")),(0,N._registerComponent)(new j.wA("installations-internal",Ct,"PRIVATE"))})(),(0,N.registerVersion)(W,J),(0,N.registerVersion)(W,J,"esm2017");const Xt="@firebase/remote-config",Nn=new M.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class es{constructor(V,ee,Se,Ke){this.client=V,this.storage=ee,this.storageCache=Se,this.logger=Ke}isCachedDataFresh(V,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-ee,Ke=Se<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Ke}.`),Ke}fetch(V){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ee.isCachedDataFresh(V.cacheMaxAgeMillis,Se))return Ke;V.eTag=Ke&&Ke.eTag;const dt=yield ee.client.fetch(V),Gt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Gt.push(ee.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Gt),dt})()}}function qr(U=navigator){return U.languages&&U.languages[0]||U.language}class Os{constructor(V,ee,Se,Ke,dt,Gt){this.firebaseInstallations=V,this.sdkVersion=ee,this.namespace=Se,this.projectId=Ke,this.apiKey=dt,this.appId=Gt}fetch(V){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},lr={sdk_version:ee.sdkVersion,app_instance_id:Se,app_instance_id_token:Ke,app_id:ee.appId,language_code:qr()},Hn={method:"POST",headers:Jt,body:JSON.stringify(lr)},Nr=fetch(Gt,Hn),Zn=new Promise((lo,ei)=>{V.signal.addEventListener(()=>{const dc=new Error("The operation was aborted.");dc.name="AbortError",ei(dc)})});let Vi;try{yield Promise.race([Nr,Zn]),Vi=yield Nr}catch(lo){let ei="fetch-client-network";throw"AbortError"===lo.name&&(ei="fetch-timeout"),Nn.create(ei,{originalErrorMessage:lo.message})}let xi=Vi.status;const lc=Vi.headers.get("ETag")||void 0;let Ss,uo;if(200===Vi.status){let lo;try{lo=yield Vi.json()}catch(ei){throw Nn.create("fetch-client-parse",{originalErrorMessage:ei.message})}Ss=lo.entries,uo=lo.state}if("INSTANCE_STATE_UNSPECIFIED"===uo?xi=500:"NO_CHANGE"===uo?xi=304:("NO_TEMPLATE"===uo||"EMPTY_CONFIG"===uo)&&(Ss={}),304!==xi&&200!==xi)throw Nn.create("fetch-status",{httpStatus:xi});return{status:xi,eTag:lc,config:Ss}})()}}class xa{constructor(V,ee){this.client=V,this.storage=ee}fetch(V){var ee=this;return(0,E.Z)(function*(){const Se=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(V,Se)})()}attemptFetch(V,{throttleEndTimeMillis:ee,backoffCount:Se}){var Ke=this;return(0,E.Z)(function*(){yield function Fi(U,V){return new Promise((ee,Se)=>{const Ke=Math.max(V-Date.now(),0),dt=setTimeout(ee,Ke);U.addEventListener(()=>{clearTimeout(dt),Se(Nn.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ee);try{const dt=yield Ke.client.fetch(V);return yield Ke.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function Sa(U){if(!(U instanceof M.ZR&&U.customData))return!1;const V=Number(U.customData.httpStatus);return 429===V||500===V||503===V||504===V}(dt))throw dt;const Gt={throttleEndTimeMillis:Date.now()+(0,M.$s)(Se),backoffCount:Se+1};return yield Ke.storage.setThrottleMetadata(Gt),Ke.attemptFetch(V,Gt)}})()}}class Ps{constructor(V,ee,Se,Ke,dt){this.app=V,this._client=ee,this._storageCache=Se,this._storage=Ke,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ti(U,V){const ee=U.target.error||void 0;return Nn.create(V,{originalErrorMessage:ee&&ee.message})}const _s="app_namespace_store";class ts{constructor(V,ee,Se,Ke=function Ns(){return new Promise((U,V)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=Se=>{V(Ti(Se,"storage-open"))},ee.onsuccess=Se=>{U(Se.target.result)},ee.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(_s,{keyPath:"compositeKey"})}}catch(ee){V(Nn.create("storage-open",{originalErrorMessage:ee}))}})}()){this.appId=V,this.appName=ee,this.namespace=Se,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Jt=Se.transaction([_s],"readonly").objectStore(_s),lr=ee.createCompositeKey(V);try{const Hn=Jt.get(lr);Hn.onerror=Nr=>{dt(Ti(Nr,"storage-get"))},Hn.onsuccess=Nr=>{const Zn=Nr.target.result;Ke(Zn?Zn.value:void 0)}}catch(Hn){dt(Nn.create("storage-get",{originalErrorMessage:Hn&&Hn.message}))}})})()}set(V,ee){var Se=this;return(0,E.Z)(function*(){const Ke=yield Se.openDbPromise;return new Promise((dt,Gt)=>{const lr=Ke.transaction([_s],"readwrite").objectStore(_s),Hn=Se.createCompositeKey(V);try{const Nr=lr.put({compositeKey:Hn,value:ee});Nr.onerror=Zn=>{Gt(Ti(Zn,"storage-set"))},Nr.onsuccess=()=>{dt()}}catch(Nr){Gt(Nn.create("storage-set",{originalErrorMessage:Nr&&Nr.message}))}})})()}delete(V){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Jt=Se.transaction([_s],"readwrite").objectStore(_s),lr=ee.createCompositeKey(V);try{const Hn=Jt.delete(lr);Hn.onerror=Nr=>{dt(Ti(Nr,"storage-delete"))},Hn.onsuccess=()=>{Ke()}}catch(Hn){dt(Nn.create("storage-delete",{originalErrorMessage:Hn&&Hn.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class ns{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,E.Z)(function*(){const ee=V.storage.getLastFetchStatus(),Se=V.storage.getLastSuccessfulFetchTimestampMillis(),Ke=V.storage.getActiveConfig(),dt=yield ee;dt&&(V.lastFetchStatus=dt);const Gt=yield Se;Gt&&(V.lastSuccessfulFetchTimestampMillis=Gt);const Jt=yield Ke;Jt&&(V.activeConfig=Jt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function ae(){return be.apply(this,arguments)}function be(){return(be=(0,E.Z)(function*(){if(!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch(U){return!1}})).apply(this,arguments)}!function Oo(){(0,N._registerComponent)(new j.wA("remote-config",function U(V,{instanceIdentifier:ee}){const Se=V.getProvider("app").getImmediate(),Ke=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Nn.create("registration-window");if(!(0,M.hl)())throw Nn.create("indexed-db-unavailable");const{projectId:dt,apiKey:Gt,appId:Jt}=Se.options;if(!dt)throw Nn.create("registration-project-id");if(!Gt)throw Nn.create("registration-api-key");if(!Jt)throw Nn.create("registration-app-id");const lr=new ts(Jt,Se.name,ee=ee||"firebase"),Hn=new ns(lr),Nr=new $.Yd(Xt);Nr.logLevel=$.in.ERROR;const Zn=new Os(Ke,N.SDK_VERSION,ee,dt,Gt,Jt),Vi=new xa(Zn,lr),xi=new es(Vi,lr,Hn,Nr),lc=new Ps(Se,xi,Hn,lr,Nr);return function Fe(U){const V=(0,M.m9)(U);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(lc),lc},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(Xt,"0.3.5"),(0,N.registerVersion)(Xt,"0.3.5","esm2017")}();const re="/firebase-messaging-sw.js",P="/firebase-cloud-messaging-push-scope",B="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Z="google.c.a.c_id",le="google.c.a.c_l",_e="google.c.a.ts",fe="google.c.a.e";var ze=(()=>{return(U=ze||(ze={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",ze;var U})();function Y(U){const V=new Uint8Array(U);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Te(U){const ee=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(ee),Ke=new Uint8Array(Se.length);for(let dt=0;dt<Se.length;++dt)Ke[dt]=Se.charCodeAt(dt);return Ke}const Ae="fcm_token_details_db",qt="fcm_token_object_Store";function dn(U){return sn.apply(this,arguments)}function sn(){return sn=(0,E.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(Ae))return null;let V=null;return(yield(0,M.X3)(Ae,5,function(){var Se=(0,E.Z)(function*(Ke,dt,Gt,Jt){var lr;if(dt<2||!Ke.objectStoreNames.contains(qt))return;const Hn=Jt.objectStore(qt),Nr=yield Hn.index("fcmSenderId").get(U);if(yield Hn.clear(),Nr)if(2===dt){const Zn=Nr;if(!Zn.auth||!Zn.p256dh||!Zn.endpoint)return;V={token:Zn.fcmToken,createTime:null!==(lr=Zn.createTime)&&void 0!==lr?lr:Date.now(),subscriptionOptions:{auth:Zn.auth,p256dh:Zn.p256dh,endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:"string"==typeof Zn.vapidKey?Zn.vapidKey:Y(Zn.vapidKey)}}}else if(3===dt){const Zn=Nr;V={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:Y(Zn.auth),p256dh:Y(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:Y(Zn.vapidKey)}}}else if(4===dt){const Zn=Nr;V={token:Zn.fcmToken,createTime:Zn.createTime,subscriptionOptions:{auth:Y(Zn.auth),p256dh:Y(Zn.p256dh),endpoint:Zn.endpoint,swScope:Zn.swScope,vapidKey:Y(Zn.vapidKey)}}}});return function(Ke,dt,Gt,Jt){return Se.apply(this,arguments)}}())).close(),yield(0,M.Lj)(Ae),yield(0,M.Lj)("fcm_vapid_details_db"),yield(0,M.Lj)("undefined"),_n(V)?V:null}),sn.apply(this,arguments)}function _n(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:V}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const Lr="firebase-messaging-store";let Ki=null;function Rs(){return Ki||(Ki=(0,M.X3)("firebase-messaging-database",1,(U,V)=>{0===V&&U.createObjectStore(Lr)})),Ki}function Sr(U){return rc.apply(this,arguments)}function rc(){return(rc=(0,E.Z)(function*(U){const V=Pa(U),Se=yield(yield Rs()).transaction(Lr).objectStore(Lr).get(V);if(Se)return Se;{const Ke=yield dn(U.appConfig.senderId);if(Ke)return yield Ia(U,Ke),Ke}})).apply(this,arguments)}function Ia(U,V){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,E.Z)(function*(U,V){const ee=Pa(U),Ke=(yield Rs()).transaction(Lr,"readwrite");return yield Ke.objectStore(Lr).put(V,ee),yield Ke.complete,V})).apply(this,arguments)}function Ma(U){return Oa.apply(this,arguments)}function Oa(){return(Oa=(0,E.Z)(function*(U){const V=Pa(U),Se=(yield Rs()).transaction(Lr,"readwrite");yield Se.objectStore(Lr).delete(V),yield Se.complete})).apply(this,arguments)}function Pa({appConfig:U}){return U.appId}const Li=new M.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function pu(U,V){return rs.apply(this,arguments)}function rs(){return(rs=(0,E.Z)(function*(U,V){const ee=yield ks(U),Se=zn(V),Ke={method:"POST",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(is(U.appConfig),Ke)).json()}catch(Gt){throw Li.create("token-subscribe-failed",{errorInfo:Gt})}if(dt.error)throw Li.create("token-subscribe-failed",{errorInfo:dt.error.message});if(!dt.token)throw Li.create("token-subscribe-no-token");return dt.token})).apply(this,arguments)}function ao(U,V){return vs.apply(this,arguments)}function vs(){return(vs=(0,E.Z)(function*(U,V){const ee=yield ks(U),Se=zn(V.subscriptionOptions),Ke={method:"PATCH",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(`${is(U.appConfig)}/${V.token}`,Ke)).json()}catch(Gt){throw Li.create("token-update-failed",{errorInfo:Gt})}if(dt.error)throw Li.create("token-update-failed",{errorInfo:dt.error.message});if(!dt.token)throw Li.create("token-update-no-token");return dt.token})).apply(this,arguments)}function Na(U,V){return ic.apply(this,arguments)}function ic(){return(ic=(0,E.Z)(function*(U,V){const Se={method:"DELETE",headers:yield ks(U)};try{const dt=yield(yield fetch(`${is(U.appConfig)}/${V}`,Se)).json();if(dt.error)throw Li.create("token-unsubscribe-failed",{errorInfo:dt.error.message})}catch(Ke){throw Li.create("token-unsubscribe-failed",{errorInfo:Ke})}})).apply(this,arguments)}function is({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function ks(U){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,E.Z)(function*({appConfig:U,installations:V}){const ee=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function zn({p256dh:U,auth:V,endpoint:ee,vapidKey:Se}){const Ke={web:{endpoint:ee,auth:V,p256dh:U}};return Se!==B&&(Ke.web.applicationPubKey=Se),Ke}const il=6048e5;function Ra(U){return ia.apply(this,arguments)}function ia(){return(ia=(0,E.Z)(function*(U){const V=yield nf(U.swRegistration,U.vapidKey),ee={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:V.endpoint,auth:Y(V.getKey("auth")),p256dh:Y(V.getKey("p256dh"))},Se=yield Sr(U.firebaseDependencies);if(Se){if(sl(Se.subscriptionOptions,ee))return Date.now()>=Se.createTime+il?ol(U,{token:Se.token,createTime:Date.now(),subscriptionOptions:ee}):Se.token;try{yield Na(U.firebaseDependencies,Se.token)}catch(Ke){console.warn(Ke)}return Pt(U.firebaseDependencies,ee)}return Pt(U.firebaseDependencies,ee)})).apply(this,arguments)}function Ic(U){return ka.apply(this,arguments)}function ka(){return(ka=(0,E.Z)(function*(U){const V=yield Sr(U.firebaseDependencies);V&&(yield Na(U.firebaseDependencies,V.token),yield Ma(U.firebaseDependencies));const ee=yield U.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function ol(U,V){return oa.apply(this,arguments)}function oa(){return(oa=(0,E.Z)(function*(U,V){try{const ee=yield ao(U.firebaseDependencies,V),Se=Object.assign(Object.assign({},V),{token:ee,createTime:Date.now()});return yield Ia(U.firebaseDependencies,Se),ee}catch(ee){throw yield Ic(U),ee}})).apply(this,arguments)}function Pt(U,V){return jn.apply(this,arguments)}function jn(){return(jn=(0,E.Z)(function*(U,V){const Se={token:yield pu(U,V),createTime:Date.now(),subscriptionOptions:V};return yield Ia(U,Se),Se.token})).apply(this,arguments)}function nf(U,V){return oi.apply(this,arguments)}function oi(){return(oi=(0,E.Z)(function*(U,V){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te(V)})})).apply(this,arguments)}function sl(U,V){return V.vapidKey===U.vapidKey&&V.endpoint===U.endpoint&&V.auth===U.auth&&V.p256dh===U.p256dh}function Fa(U){const V={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Fs(U,V){if(!V.notification)return;U.notification={};const ee=V.notification.title;ee&&(U.notification.title=ee);const Se=V.notification.body;Se&&(U.notification.body=Se);const Ke=V.notification.image;Ke&&(U.notification.image=Ke)}(V,U),function Mc(U,V){!V.data||(U.data=V.data)}(V,U),function Yl(U,V){if(!V.fcmOptions)return;U.fcmOptions={};const ee=V.fcmOptions.link;ee&&(U.fcmOptions.link=ee);const Se=V.fcmOptions.analytics_label;Se&&(U.fcmOptions.analyticsLabel=Se)}(V,U),V}function Jl(U){return"object"==typeof U&&!!U&&Z in U}function gu(U,V){const ee=[];for(let Se=0;Se<U.length;Se++)ee.push(U.charAt(Se)),Se<V.length&&ee.push(V.charAt(Se));return ee.join("")}function vo(U){return Li.create("missing-app-config-values",{valueName:U})}gu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),gu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class bo{constructor(V,ee,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function al(U){if(!U||!U.options)throw vo("App Configuration Object");if(!U.name)throw vo("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=U;for(const Se of V)if(!ee[Se])throw vo(Se);return{appName:U.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Ke,installations:ee,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function sa(U){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(re,{scope:P}),U.swRegistration.update().catch(()=>{})}catch(V){throw Li.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function Ls(U,V){return Bo.apply(this,arguments)}function Bo(){return(Bo=(0,E.Z)(function*(U,V){if(!V&&!U.swRegistration&&(yield sa(U)),V||!U.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Li.create("invalid-sw-registration");U.swRegistration=V}})).apply(this,arguments)}function eh(U,V){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(U,V){V?U.vapidKey=V:U.vapidKey||(U.vapidKey=B)})).apply(this,arguments)}function oc(){return(oc=(0,E.Z)(function*(U,V){if(!navigator)throw Li.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Li.create("permission-blocked");return yield eh(U,null==V?void 0:V.vapidKey),yield Ls(U,null==V?void 0:V.serviceWorkerRegistration),Ra(U)})).apply(this,arguments)}function mu(U,V,ee){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,E.Z)(function*(U,V,ee){const Se=nh(V);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Se,{message_id:ee[Z],message_name:ee[le],message_time:ee[_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function nh(U){switch(U){case ze.NOTIFICATION_CLICKED:return"notification_open";case ze.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function rh(){return(rh=(0,E.Z)(function*(U,V){const ee=V.data;if(!ee.isFirebaseMessaging)return;U.onMessageHandler&&ee.messageType===ze.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Fa(ee)):U.onMessageHandler.next(Fa(ee)));const Se=ee.data;Jl(Se)&&"1"===Se[fe]&&(yield mu(U,ee.messageType,Se))})).apply(this,arguments)}const _u="@firebase/messaging",Ql=U=>{const V=new bo(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function ca(U,V){return rh.apply(this,arguments)}(V,ee)),V},cl=U=>{const V=U.getProvider("messaging").getImmediate();return{getToken:Se=>function th(U,V){return oc.apply(this,arguments)}(V,Se)}};function Xl(){return Us.apply(this,arguments)}function Us(){return(Us=(0,E.Z)(function*(){try{yield(0,M.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,M.hl)()&&(0,M.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pc(){(0,N._registerComponent)(new j.wA("messaging",Ql,"PUBLIC")),(0,N._registerComponent)(new j.wA("messaging-internal",cl,"PRIVATE")),(0,N.registerVersion)(_u,"0.9.10"),(0,N.registerVersion)(_u,"0.9.10","esm2017")}();const dl="analytics",hl="firebase_id",fl="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nc="https://www.googletagmanager.com/gtag/js",ci=new $.Yd("@firebase/analytics");function yu(U){return Promise.all(U.map(V=>V.catch(ee=>ee)))}function rm(U,V){const ee=document.createElement("script");ee.src=`${Nc}?l=${U}&id=${V}`,ee.async=!0,document.head.appendChild(ee)}function pl(U,V,ee,Se,Ke,dt){return ed.apply(this,arguments)}function ed(){return(ed=(0,E.Z)(function*(U,V,ee,Se,Ke,dt){const Gt=Se[Ke];try{if(Gt)yield V[Gt];else{const lr=(yield yu(ee)).find(Hn=>Hn.measurementId===Ke);lr&&(yield V[lr.appId])}}catch(Jt){ci.error(Jt)}U("config",Ke,dt)})).apply(this,arguments)}function Yi(U,V,ee,Se,Ke){return No.apply(this,arguments)}function No(){return(No=(0,E.Z)(function*(U,V,ee,Se,Ke){try{let dt=[];if(Ke&&Ke.send_to){let Gt=Ke.send_to;Array.isArray(Gt)||(Gt=[Gt]);const Jt=yield yu(ee);for(const lr of Gt){const Hn=Jt.find(Zn=>Zn.measurementId===lr),Nr=Hn&&V[Hn.appId];if(!Nr){dt=[];break}dt.push(Nr)}}0===dt.length&&(dt=Object.values(V)),yield Promise.all(dt),U("event",Se,Ke||{})}catch(dt){ci.error(dt)}})).apply(this,arguments)}function $_(){const U=window.document.getElementsByTagName("script");for(const V of Object.values(U))if(V.src&&V.src.includes(Nc))return V;return null}const ar=new M.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Yn=new class Rn{constructor(V={},ee=1e3){this.throttleMetadata=V,this.intervalMillis=ee}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ee){this.throttleMetadata[V]=ee}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function oh(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function rn(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,E.Z)(function*(U){var V;const{appId:ee,apiKey:Se}=U,Ke={method:"GET",headers:oh(Se)},dt=fl.replace("{app-id}",ee),Gt=yield fetch(dt,Ke);if(200!==Gt.status&&304!==Gt.status){let Jt="";try{const lr=yield Gt.json();(null===(V=lr.error)||void 0===V?void 0:V.message)&&(Jt=lr.error.message)}catch(lr){}throw ar.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:Jt})}return Gt.json()})).apply(this,arguments)}function It(U){return Wr.apply(this,arguments)}function Wr(){return(Wr=(0,E.Z)(function*(U,V=Yn,ee){const{appId:Se,apiKey:Ke,measurementId:dt}=U.options;if(!Se)throw ar.create("no-app-id");if(!Ke){if(dt)return{measurementId:dt,appId:Se};throw ar.create("no-api-key")}const Gt=V.getThrottleMetadata(Se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new Rc;return setTimeout((0,E.Z)(function*(){Jt.abort()}),void 0!==ee?ee:6e4),_r({appId:Se,apiKey:Ke,measurementId:dt},Gt,Jt,V)})).apply(this,arguments)}function _r(U,V,ee){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,E.Z)(function*(U,{throttleEndTimeMillis:V,backoffCount:ee},Se,Ke=Yn){const{appId:dt,measurementId:Gt}=U;try{yield rf(Se,V)}catch(Jt){if(Gt)return ci.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:dt,measurementId:Gt};throw Jt}try{const Jt=yield rn(U);return Ke.deleteThrottleMetadata(dt),Jt}catch(Jt){if(!sf(Jt)){if(Ke.deleteThrottleMetadata(dt),Gt)return ci.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:dt,measurementId:Gt};throw Jt}const lr=503===Number(Jt.customData.httpStatus)?(0,M.$s)(ee,Ke.intervalMillis,30):(0,M.$s)(ee,Ke.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+lr,backoffCount:ee+1};return Ke.setThrottleMetadata(dt,Hn),ci.debug(`Calling attemptFetch again in ${lr} millis`),_r(U,Hn,Se,Ke)}})).apply(this,arguments)}function rf(U,V){return new Promise((ee,Se)=>{const Ke=Math.max(V-Date.now(),0),dt=setTimeout(ee,Ke);U.addEventListener(()=>{clearTimeout(dt),Se(ar.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function sf(U){if(!(U instanceof M.ZR&&U.customData))return!1;const V=Number(U.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Rc{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function af(){return gl.apply(this,arguments)}function gl(){return(gl=(0,E.Z)(function*(){if(!(0,M.hl)())return ci.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,M.eu)()}catch(U){return ci.warn(ar.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function Gs(){return(Gs=(0,E.Z)(function*(U,V,ee,Se,Ke,dt,Gt){var Jt;const lr=It(U);lr.then(xi=>{ee[xi.measurementId]=xi.appId,U.options.measurementId&&xi.measurementId!==U.options.measurementId&&ci.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${xi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(xi=>ci.error(xi)),V.push(lr);const Hn=af().then(xi=>{if(xi)return Se.getId()}),[Nr,Zn]=yield Promise.all([lr,Hn]);$_()||rm(dt,Nr.measurementId),Ke("js",new Date);const Vi=null!==(Jt=null==Gt?void 0:Gt.config)&&void 0!==Jt?Jt:{};return Vi.origin="firebase",Vi.update=!0,null!=Zn&&(Vi[hl]=Zn),Ke("config",Nr.measurementId,Vi),Nr.measurementId})).apply(this,arguments)}class Yr{constructor(V){this.app=V}_delete(){return delete ss[this.app.options.appId],Promise.resolve()}}let ss={},wo=[];const Cr={};let Xr,Pn,Hs="dataLayer",_l=!1;function Ba(U,V,ee){!function bs(){const U=[];if((0,M.ru)()&&U.push("This is a browser extension environment."),(0,M.zI)()||U.push("Cookies are not available."),U.length>0){const V=U.map((Se,Ke)=>`(${Ke+1}) ${Se}`).join(" "),ee=ar.create("invalid-analytics-context",{errorInfo:V});ci.warn(ee.message)}}();const Se=U.options.appId;if(!Se)throw ar.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw ar.create("no-api-key");ci.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ss[Se])throw ar.create("already-exists",{id:Se});if(!_l){!function js(U){let V=[];Array.isArray(window[U])?V=window[U]:window[U]=V}(Hs);const{wrappedGtag:dt,gtagCore:Gt}=function vu(U,V,ee,Se,Ke){let dt=function(...Gt){window[Se].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(dt=window[Ke]),window[Ke]=function ua(U,V,ee,Se){function dt(){return(dt=(0,E.Z)(function*(Gt,Jt,lr){try{"event"===Gt?yield Yi(U,V,ee,Jt,lr):"config"===Gt?yield pl(U,V,ee,Se,Jt,lr):U("set",Jt)}catch(Hn){ci.error(Hn)}})).apply(this,arguments)}return function Ke(Gt,Jt,lr){return dt.apply(this,arguments)}}(dt,U,V,ee),{gtagCore:dt,wrappedGtag:window[Ke]}}(ss,wo,Cr,Hs,"gtag");Pn=dt,Xr=Gt,_l=!0}return ss[Se]=function sc(U,V,ee,Se,Ke,dt,Gt){return Gs.apply(this,arguments)}(U,wo,Cr,V,Xr,Hs,ee),new Yr(U)}function yl(){return(yl=(0,E.Z)(function*(U,V,ee,Se,Ke){if(Ke&&Ke.global)U("event",ee,Se);else{const dt=yield V;U("event",ee,Object.assign(Object.assign({},Se),{send_to:dt}))}})).apply(this,arguments)}function jo(){return nd.apply(this,arguments)}function nd(){return(nd=(0,E.Z)(function*(){if((0,M.ru)()||!(0,M.zI)()||!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch(U){return!1}})).apply(this,arguments)}const bl="@firebase/analytics";!function uc(){(0,N._registerComponent)(new j.wA(dl,(V,{options:ee})=>Ba(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,N._registerComponent)(new j.wA("analytics-internal",function U(V){try{const ee=V.getProvider(dl).getImmediate();return{logEvent:(Se,Ke,dt)=>function fn(U,V,ee,Se){U=(0,M.m9)(U),function zr(U,V,ee,Se,Ke){return yl.apply(this,arguments)}(Pn,ss[U.app.options.appId],V,ee,Se).catch(Ke=>ci.error(Ke))}(ee,Se,Ke,dt)}}catch(ee){throw ar.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,N.registerVersion)(bl,"0.7.6"),(0,N.registerVersion)(bl,"0.7.6","esm2017")}();var Cs=O(4408),la=O(7565);const Ts=new class Di extends la.v{}(class ws extends Cs.o{constructor(V,ee){super(V,ee),this.scheduler=V,this.work=ee}schedule(V,ee=0){return ee>0?super.schedule(V,ee):(this.delay=ee,this.state=V,this.scheduler.flush(this),this)}execute(V,ee){return ee>0||this.closed?super.execute(V,ee):this._execute(V,ee)}requestAsyncId(V,ee,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(V,ee,Se):V.flush(this)}});var Go=O(4986),co=O(8306),Bi=O(8505),$s=O(9468),Cu=O(5363);const Ni=new t.GfV("7.2.1"),as="__angularfire_symbol__analyticsIsSupportedValue",Lc="__angularfire_symbol__analyticsIsSupported",da="__angularfire_symbol__remoteConfigIsSupportedValue",id="__angularfire_symbol__remoteConfigIsSupported",ui="__angularfire_symbol__messagingIsSupportedValue",wu="__angularfire_symbol__messagingIsSupported";function cf(U,V,ee){if(V){if(1===V.length)return V[0];const dt=V.filter(Gt=>Gt.app===ee);if(1===dt.length)return dt[0]}return ee.container.getProvider(U).getImmediate({optional:!0})}globalThis[Lc]||(globalThis[Lc]=jo().then(U=>globalThis[as]=U).catch(()=>globalThis[as]=!1)),globalThis[wu]||(globalThis[wu]=Xl().then(U=>globalThis[ui]=U).catch(()=>globalThis[ui]=!1)),globalThis[id]||(globalThis[id]=ae().then(U=>globalThis[da]=U).catch(()=>globalThis[da]=!1));const Cl=(U,V)=>{const ee=V?[V]:(0,C.C6)(),Se=[];return ee.forEach(Ke=>{Ke.container.getProvider(U).instances.forEach(Gt=>{Se.includes(Gt)||Se.push(Gt)})}),Se};function Va(){}class Tu{constructor(V,ee=Ts){this.zone=V,this.delegate=ee}now(){return this.delegate.now()}schedule(V,ee,Se){const Ke=this.zone;return this.delegate.schedule(function(Gt){Ke.runGuarded(()=>{V.apply(this,[Gt])})},ee,Se)}}class uf{constructor(V){this.zone=V,this.task=null}call(V,ee){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)),ee.pipe((0,Bi.b)({next:Se,complete:Se,error:Se})).subscribe(V).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ha=(()=>{class U{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new Tu(Zone.current)),this.insideAngular=ee.run(()=>new Tu(Zone.current,Go.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ee){return new(ee||U)(t.LFG(t.R0b))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Uc(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function Ds(U){return Uc().ngZone.runOutsideAngular(()=>U())}function Qi(U){return Uc().ngZone.run(()=>U())}function Bc(U){return Uc(),function Eu(U){return function(ee){return(ee=ee.lift(new uf(U.ngZone))).pipe((0,$s.R)(U.outsideAngular),(0,Cu.Q)(U.insideAngular))}}(Uc())(U)}const pa=(U,V)=>function(){const Se=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),Qi(()=>U.apply(void 0,Se))},wl=(U,V)=>function(){let ee;const Se=arguments;for(let dt=0;dt<arguments.length;dt++)"function"==typeof Se[dt]&&(V&&(ee||(ee=Qi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)))),Se[dt]=pa(Se[dt],ee));const Ke=Ds(()=>U.apply(this,Se));if(!V){if(Ke instanceof co.y){const dt=Uc();return Ke.pipe((0,$s.R)(dt.outsideAngular),(0,Cu.Q)(dt.insideAngular))}return Qi(()=>Ke)}return Ke instanceof co.y?Ke.pipe(Bc):Ke instanceof Promise?Qi(()=>new Promise((dt,Gt)=>Ke.then(Jt=>Qi(()=>dt(Jt)),Jt=>Qi(()=>Gt(Jt))))):"function"==typeof Ke&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Ke.apply(this,arguments)}:Qi(()=>Ke)}},896:nt=>{window,nt.exports=function(A){var O={};function t(C){if(O[C])return O[C].exports;var E=O[C]={i:C,l:!1,exports:{}};return A[C].call(E.exports,E,E.exports,t),E.l=!0,E.exports}return t.m=A,t.c=O,t.d=function(C,E,N){t.o(C,E)||Object.defineProperty(C,E,{enumerable:!0,get:N})},t.r=function(C){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},t.t=function(C,E){if(1&E&&(C=t(C)),8&E||4&E&&"object"==typeof C&&C&&C.__esModule)return C;var N=Object.create(null);if(t.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:C}),2&E&&"string"!=typeof C)for(var M in C)t.d(N,M,function(j){return C[j]}.bind(null,M));return N},t.n=function(C){var E=C&&C.__esModule?function(){return C.default}:function(){return C};return t.d(E,"a",E),E},t.o=function(C,E){return Object.prototype.hasOwnProperty.call(C,E)},t.p="/",t(t.s=89)}([function(A,O){A.exports=function(t,C,E){return C in t?Object.defineProperty(t,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):t[C]=E,t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){function t(C){return A.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},A.exports.__esModule=!0,A.exports.default=A.exports,t(C)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t,C){if(!(t instanceof C))throw new TypeError("Cannot call a class as a function")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){function t(C,E){for(var N=0;N<E.length;N++){var M=E[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(C,M.key,M)}}A.exports=function(C,E,N){return E&&t(C.prototype,E),N&&t(C,N),Object.defineProperty(C,"prototype",{writable:!1}),C},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(20).default,E=t(1);A.exports=function(N,M){if(M&&("object"===C(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return E(N)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(41);A.exports=function(E,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&C(E,N)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){A.exports={EPSILON:t(62),create:t(63),clone:t(156),fromValues:t(157),copy:t(158),set:t(159),equals:t(160),exactEquals:t(161),add:t(162),subtract:t(64),sub:t(163),multiply:t(65),mul:t(164),divide:t(66),div:t(165),inverse:t(166),min:t(167),max:t(168),rotate:t(169),floor:t(170),ceil:t(171),round:t(172),scale:t(173),scaleAndAdd:t(174),distance:t(67),dist:t(175),squaredDistance:t(68),sqrDist:t(176),length:t(69),len:t(177),squaredLength:t(70),sqrLen:t(178),negate:t(179),normalize:t(180),dot:t(181),cross:t(182),lerp:t(183),random:t(184),transformMat2:t(185),transformMat2d:t(186),transformMat3:t(187),transformMat4:t(188),forEach:t(189),limit:t(190)}},function(A,O,t){A.exports=t(224)},function(A,O,t){"use strict";O.a={init:function(C,E){for(var N=C.length;N--;)C[N]=E},shuffle:function(C){for(var E=C.length-1;E>=0;E--){var N=Math.floor(Math.random()*E),M=C[E];C[E]=C[N],C[N]=M}return C},toPointList:function(C){var E=C.reduce(function(N,M){var j="[".concat(M.join(","),"]");return N.push(j),N},[]);return"[".concat(E.join(",\r\n"),"]")},threshold:function(C,E,N){return C.reduce(function(M,j){return N.apply(C,[j])>=E&&M.push(j),M},[])},maxIndex:function(C){for(var E=0,N=0;N<C.length;N++)C[N]>C[E]&&(E=N);return E},max:function(C){for(var E=0,N=0;N<C.length;N++)C[N]>E&&(E=C[N]);return E},sum:function(C){for(var E=C.length,N=0;E--;)N+=C[E];return N}}},function(A,O,t){"use strict";t.d(O,"h",function(){return z}),t.d(O,"i",function(){return ce}),t.d(O,"b",function(){return Ye}),t.d(O,"j",function(){return $e}),t.d(O,"e",function(){return Ge}),t.d(O,"c",function(){return ut}),t.d(O,"f",function(){return ue}),t.d(O,"g",function(){return Oe}),t.d(O,"a",function(){return rt}),t.d(O,"d",function(){return qe});var C=t(7),E=t(84),N={clone:C.clone,dot:C.dot},M=function(we,He){var Ie=[],it={rad:0,vec:N.clone([0,0])},se={};function oe(ge){se[ge.id]=ge,Ie.push(ge)}function Q(){var ge,Me=0;for(ge=0;ge<Ie.length;ge++)Me+=Ie[ge].rad;it.rad=Me/Ie.length,it.vec=N.clone([Math.cos(it.rad),Math.sin(it.rad)])}return oe(we),Q(),{add:function(ge){se[ge.id]||(oe(ge),Q())},fits:function(ge){return Math.abs(N.dot(ge.point.vec,it.vec))>He},getPoints:function(){return Ie},getCenter:function(){return it}}},j=function(we,He,Ie){return{rad:we[Ie],point:we,id:He}},$=t(9),W={clone:C.clone},J={clone:E.clone};function z(we,He){return{x:we,y:He,toVec2:function(){return W.clone([this.x,this.y])},toVec3:function(){return J.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ne(we,He){He||(He=8);for(var Ie=we.data,it=Ie.length,se=8-He,oe=new Int32Array(1<<He);it--;)oe[Ie[it]>>se]++;return oe}function ce(we,He){var Ie=function(it){var se,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,Q=8-oe;function ge(St,pn){for(var Tt=0,mt=St;mt<=pn;mt++)Tt+=se[mt];return Tt}function Me(St,pn){for(var Tt=0,mt=St;mt<=pn;mt++)Tt+=mt*se[mt];return Tt}function de(){var St,pn,Tt,mt,At=[0],an=(1<<oe)-1;se=ne(it,oe);for(var er=1;er<an;er++)0==(Tt=(St=ge(0,er))*(pn=ge(er+1,an)))&&(Tt=1),mt=Me(0,er)*pn-Me(er+1,an)*St,At[er]=mt*mt/Tt;return $.a.maxIndex(At)}return de()<<Q}(we);return function(it,se,oe){oe||(oe=it);for(var Q=it.data,ge=Q.length,Me=oe.data;ge--;)Me[ge]=Q[ge]<se?1:0}(we,Ie,He),Ie}function Ye(we,He,Ie){var it,se,oe,Q,ge=[];function Me(de){var gt=!1;for(se=0;se<ge.length;se++)(oe=ge[se]).fits(de)&&(oe.add(de),gt=!0);return gt}for(Ie||(Ie="rad"),it=0;it<we.length;it++)Me(Q=j(we[it],it,Ie))||ge.push(M(Q,He));return ge}function $e(we,He,Ie){var it,se,oe,Q,ge=0,Me=0,de=[];for(it=0;it<He;it++)de[it]={score:0,item:null};for(it=0;it<we.length;it++)if((se=Ie.apply(this,[we[it]]))>Me)for((oe=de[ge]).score=se,oe.item=we[it],Me=Number.MAX_VALUE,Q=0;Q<He;Q++)de[Q].score<Me&&(Me=de[Q].score,ge=Q);return de}function Ge(we,He,Ie){for(var it,se=0,oe=He.x,Q=Math.floor(we.length/4),ge=He.x/2,Me=0,de=He.x;oe<Q;){for(it=0;it<ge;it++)Ie[Me]=(.299*we[4*se+0]+.587*we[4*se+1]+.114*we[4*se+2]+(.299*we[4*(se+1)+0]+.587*we[4*(se+1)+1]+.114*we[4*(se+1)+2])+(.299*we[4*oe+0]+.587*we[4*oe+1]+.114*we[4*oe+2])+(.299*we[4*(oe+1)+0]+.587*we[4*(oe+1)+1]+.114*we[4*(oe+1)+2]))/4,Me++,se+=2,oe+=2;se+=de,oe+=de}}function ut(we,He,Ie){var it=we.length/4|0;if(Ie&&!0===Ie.singleChannel)for(var se=0;se<it;se++)He[se]=we[4*se+0];else for(var oe=0;oe<it;oe++)He[oe]=.299*we[4*oe+0]+.587*we[4*oe+1]+.114*we[4*oe+2]}function ue(we,He){for(var Ie=we.data,it=we.size.x,se=He.data,oe=0,Q=it,ge=Ie.length,Me=it/2,de=0;Q<ge;){for(var gt=0;gt<Me;gt++)se[de]=Math.floor((Ie[oe]+Ie[oe+1]+Ie[Q]+Ie[Q+1])/4),de++,oe+=2,Q+=2;oe+=it,Q+=it}}function Oe(we){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ie=we[0],se=we[2],oe=se*we[1],Q=oe*(1-Math.abs(Ie/60%2-1)),ge=se-oe,Me=0,de=0,gt=0;return Ie<60?(Me=oe,de=Q):Ie<120?(Me=Q,de=oe):Ie<180?(de=oe,gt=Q):Ie<240?(de=Q,gt=oe):Ie<300?(Me=Q,gt=oe):Ie<360&&(Me=oe,gt=Q),He[0]=255*(Me+ge)|0,He[1]=255*(de+ge)|0,He[2]=255*(gt+ge)|0,He}function De(we){for(var He=[],Ie=[],it=1;it<Math.sqrt(we)+1;it++)we%it==0&&(Ie.push(it),it!==we/it&&He.unshift(Math.floor(we/it)));return Ie.concat(He)}function rt(we,He){var Ie,it=De(He.x),se=De(He.y),oe=Math.max(He.x,He.y),Q=function(Tt,mt){for(var At=0,an=0,er=[];At<Tt.length&&an<mt.length;)Tt[At]===mt[an]?(er.push(Tt[At]),At++,an++):Tt[At]>mt[an]?an++:At++;return er}(it,se),ge=[8,10,15,20,32,60,80],Me={"x-small":5,small:4,medium:3,large:2,"x-large":1},de=Me[we]||Me.medium,gt=ge[de],St=Math.floor(oe/gt);function pn(Tt){for(var mt=0,At=Tt[Math.floor(Tt.length/2)];mt<Tt.length-1&&Tt[mt]<St;)mt++;return mt>0&&(At=Math.abs(Tt[mt]-St)>Math.abs(Tt[mt-1]-St)?Tt[mt-1]:Tt[mt]),St/At<ge[de+1]/ge[de]&&St/At>ge[de-1]/ge[de]?{x:At,y:At}:null}return(Ie=pn(Q))||(Ie=pn(De(oe)))||(Ie=pn(De(St*gt))),Ie}var Be={top:function(we,He){return"%"===we.unit?Math.floor(He.height*(we.value/100)):null},right:function(we,He){return"%"===we.unit?Math.floor(He.width-He.width*(we.value/100)):null},bottom:function(we,He){return"%"===we.unit?Math.floor(He.height-He.height*(we.value/100)):null},left:function(we,He){return"%"===we.unit?Math.floor(He.width*(we.value/100)):null}};function qe(we,He,Ie){var it={width:we,height:He},se=Object.keys(Ie).reduce(function(oe,Q){var de,ge=(de=Ie[Q],{value:parseFloat(de),unit:(de.indexOf("%"),"%")}),Me=Be[Q](ge,it);return oe[Q]=Me,oe},{});return{sx:se.left,sy:se.top,sw:se.right-se.left,sh:se.bottom-se.top}}},function(A,O,t){"use strict";var C=t(83),E=t.n(C),N=t(3),M=t.n(N),j=t(4),$=t.n(j),W=t(0),J=t.n(W),z=t(7),ne=t(10),ce=t(9),Ye={clone:z.clone};function $e(ut){if(ut<0)throw new Error("expected positive number, received ".concat(ut))}var Ge=function(){function ut(ue,Oe){var De=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,rt=arguments.length>3?arguments[3]:void 0;M()(this,ut),J()(this,"data",void 0),J()(this,"size",void 0),J()(this,"indexMapping",void 0),Oe?this.data=Oe:(this.data=new De(ue.x*ue.y),rt&&ce.a.init(this.data,0)),this.size=ue}return $()(ut,[{key:"inImageWithBorder",value:function(ue){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $e(Oe),ue.x>=0&&ue.y>=0&&ue.x<this.size.x+2*Oe&&ue.y<this.size.y+2*Oe}},{key:"subImageAsCopy",value:function(ue,Oe){$e(Oe.x),$e(Oe.y);for(var De=ue.size,rt=De.x,Be=De.y,qe=0;qe<rt;qe++)for(var we=0;we<Be;we++)ue.data[we*rt+qe]=this.data[(Oe.y+we)*this.size.x+Oe.x+qe];return ue}},{key:"get",value:function(ue,Oe){return this.data[Oe*this.size.x+ue]}},{key:"getSafe",value:function(ue,Oe){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var De=0;De<this.size.x;De++)this.indexMapping.x[De]=De,this.indexMapping.x[De+this.size.x]=De;for(var rt=0;rt<this.size.y;rt++)this.indexMapping.y[rt]=rt,this.indexMapping.y[rt+this.size.y]=rt}return this.data[this.indexMapping.y[Oe+this.size.y]*this.size.x+this.indexMapping.x[ue+this.size.x]]}},{key:"set",value:function(ue,Oe,De){return this.data[Oe*this.size.x+ue]=De,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ue=this.size,Oe=ue.x,De=ue.y,rt=0;rt<Oe;rt++)this.data[rt]=this.data[(De-1)*Oe+rt]=0;for(var Be=1;Be<De-1;Be++)this.data[Be*Oe]=this.data[Be*Oe+(Oe-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ue){var Oe,De,rt,Be,qe,we,He,Ie,it,se,oe=this.data,Q=this.size.y,ge=this.size.x,Me=[],de=[],gt=Math.PI,St=gt/4;if(ue<=0)return de;for(qe=0;qe<ue;qe++)Me[qe]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(De=0;De<Q;De++)for(Be=De*De,Oe=0;Oe<ge;Oe++)(rt=oe[De*ge+Oe])>0&&((we=Me[rt-1]).m00+=1,we.m01+=De,we.m10+=Oe,we.m11+=Oe*De,we.m02+=Be,we.m20+=Oe*Oe);for(qe=0;qe<ue;qe++)we=Me[qe],isNaN(we.m00)||0===we.m00||(se=(we.m02/we.m00-(it=we.m01/we.m00)*it-(we.m20/we.m00-(Ie=we.m10/we.m00)*Ie))/(2*(He=we.m11/we.m00-Ie*it)),se=.5*Math.atan(se)+(He>=0?St:-St)+gt,we.theta=(180*se/gt+90)%180-90,we.theta<0&&(we.theta+=180),we.rad=se>gt?se-gt:se,we.vec=Ye.clone([Math.cos(se),Math.sin(se)]),de.push(we));return de}},{key:"getAsRGBA",value:function(){for(var ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Oe=new Uint8ClampedArray(4*this.size.x*this.size.y),De=0;De<this.size.y;De++)for(var rt=0;rt<this.size.x;rt++){var Be=De*this.size.x+rt,qe=this.get(rt,De)*ue;Oe[4*Be+0]=qe,Oe[4*Be+1]=qe,Oe[4*Be+2]=qe,Oe[4*Be+3]=255}return Oe}},{key:"show",value:function(ue){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,De=ue.getContext("2d");if(!De)throw new Error("Unable to get canvas context");var rt=De.getImageData(0,0,ue.width,ue.height),Be=this.getAsRGBA(Oe);ue.width=this.size.x,ue.height=this.size.y;var qe=new ImageData(Be,rt.width,rt.height);De.putImageData(qe,0,0)}},{key:"overlay",value:function(ue,Oe,De){var rt=Oe<0||Oe>360?360:Oe,Be=[0,1,1],qe=[0,0,0],we=[255,255,255],He=[0,0,0],Ie=ue.getContext("2d");if(!Ie)throw new Error("Unable to get canvas context");for(var it=Ie.getImageData(De.x,De.y,this.size.x,this.size.y),se=it.data,oe=this.data.length;oe--;){Be[0]=this.data[oe]*rt;var Q=4*oe,ge=Be[0]<=0?we:Be[0]>=360?He:Object(ne.g)(Be,qe),Me=E()(ge,3);se[Q]=Me[0],se[Q+1]=Me[1],se[Q+2]=Me[2],se[Q+3]=255}Ie.putImageData(it,De.x,De.y)}}]),ut}();O.a=Ge},function(A,O){function t(C,E,N,M,j,$,W){try{var J=C[$](W),z=J.value}catch(ne){return void N(ne)}J.done?E(z):Promise.resolve(z).then(M,j)}A.exports=function(C){return function(){var E=this,N=arguments;return new Promise(function(M,j){var $=C.apply(E,N);function W(z){t($,M,j,W,J,"next",z)}function J(z){t($,M,j,W,J,"throw",z)}W(void 0)})}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(225);function E(){return"undefined"!=typeof Reflect&&Reflect.get?(A.exports=E=Reflect.get,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=E=function(N,M,j){var $=C(N,M);if($){var W=Object.getOwnPropertyDescriptor($,M);return W.get?W.get.call(arguments.length<3?N:j):W.value}},A.exports.__esModule=!0,A.exports.default=A.exports),E.apply(this,arguments)}A.exports=E,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t){var C=typeof t;return null!=t&&("object"==C||"function"==C)}},function(A,O){A.exports=Array.isArray},function(A,O,t){"use strict";O.a={drawRect:function(C,E,N,M){N.strokeStyle=M.color,N.fillStyle=M.color,N.lineWidth=M.lineWidth||1,N.beginPath(),N.strokeRect(C.x,C.y,E.x,E.y)},drawPath:function(C,E,N,M){N.strokeStyle=M.color,N.fillStyle=M.color,N.lineWidth=M.lineWidth,N.beginPath(),N.moveTo(C[0][E.x],C[0][E.y]);for(var j=1;j<C.length;j++)N.lineTo(C[j][E.x],C[j][E.y]);N.closePath(),N.stroke()},drawImage:function(C,E,N){var M=N.getImageData(0,0,E.x,E.y),j=M.data,$=j.length,W=C.length;if($/W!=4)return!1;for(;W--;){var J=C[W];j[--$]=255,j[--$]=J,j[--$]=J,j[--$]=J}return N.putImageData(M,0,0),!0}}},function(A,O,t){var C=t(90),E=t(145)(function(N,M,j){C(N,M,j)});A.exports=E},function(A,O,t){var C=t(45),E="object"==typeof self&&self&&self.Object===Object&&self,N=C||E||Function("return this")();A.exports=N},function(A,O){A.exports=function(t){return null!=t&&"object"==typeof t}},function(A,O){function t(C){return A.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},A.exports.__esModule=!0,A.exports.default=A.exports,t(C)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){"use strict";O.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(C,E){var N,M=C.data,j=E.data,$=this.searchDirections,W=C.size.x;function J(ne,ce,Ye,$e){var Ge,ut,ue;for(Ge=0;Ge<7;Ge++){if(M[N=(ut=ne.cy+$[ne.dir][0])*W+(ue=ne.cx+$[ne.dir][1])]===ce&&(0===j[N]||j[N]===Ye))return j[N]=Ye,ne.cy=ut,ne.cx=ue,!0;0===j[N]&&(j[N]=$e),ne.dir=(ne.dir+1)%8}return!1}function z(ne,ce,Ye){return{dir:Ye,x:ne,y:ce,next:null,prev:null}}return{trace:function(ne,ce,Ye,$e){return J(ne,ce,Ye,$e)},contourTracing:function(ne,ce,Ye,$e,Ge){return function(ut,ue,Oe,De,rt){var Be,qe,we,He=null,Ie={cx:ue,cy:ut,dir:0};if(J(Ie,De,Oe,rt)){Be=He=z(ue,ut,Ie.dir),we=Ie.dir,(qe=z(Ie.cx,Ie.cy,0)).prev=Be,Be.next=qe,qe.next=null,Be=qe;do{Ie.dir=(Ie.dir+6)%8,J(Ie,De,Oe,rt),we!==Ie.dir?(Be.dir=Ie.dir,(qe=z(Ie.cx,Ie.cy,0)).prev=Be,Be.next=qe,qe.next=null,Be=qe):(Be.dir=we,Be.x=Ie.cx,Be.y=Ie.cy),we=Ie.dir}while(Ie.cx!==ue||Ie.cy!==ut);He.prev=Be.prev,Be.prev.next=He}return He}(ne,ce,Ye,$e,Ge)}}}}},function(A,O,t){var C=t(27),E=t(103),N=t(104),M=C?C.toStringTag:void 0;A.exports=function(j){return null==j?void 0===j?"[object Undefined]":"[object Null]":M&&M in Object(j)?E(j):N(j)}},function(A,O,t){"use strict";(function(C){var E,N,M,j,$,W,J,z,ne,ce,Ye,$e,Ge=t(7),ut=t(34),ue=t(11),Oe=t(10),De=t(9),rt=(t(16),t(87)),Be=t(21),qe=t(88),we={ctx:{binary:null},dom:{binary:null}},He={x:0,y:0};function Ie(oe){var Q,ge,Me,de,gt,St,pn,Tt=ne.size.x,mt=ne.size.y,At=-ne.size.x,an=-ne.size.y;for(Q=0,ge=0;ge<oe.length;ge++)Q+=(de=oe[ge]).rad;for((Q=(180*(Q/=oe.length)/Math.PI+90)%180-90)<0&&(Q+=180),Q=(180-Q)*Math.PI/180,gt=ut.copy(ut.create(),[Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q)]),ge=0;ge<oe.length;ge++)for(de=oe[ge],Me=0;Me<4;Me++)Ge.transformMat2(de.box[Me],de.box[Me],gt);for(ge=0;ge<oe.length;ge++)for(de=oe[ge],Me=0;Me<4;Me++)de.box[Me][0]<Tt&&(Tt=de.box[Me][0]),de.box[Me][0]>At&&(At=de.box[Me][0]),de.box[Me][1]<mt&&(mt=de.box[Me][1]),de.box[Me][1]>an&&(an=de.box[Me][1]);for(St=[[Tt,mt],[At,mt],[At,an],[Tt,an]],pn=E.halfSample?2:1,gt=ut.invert(gt,gt),Me=0;Me<4;Me++)Ge.transformMat2(St[Me],St[Me],gt);for(Me=0;Me<4;Me++)Ge.scale(St[Me],St[Me],pn);return St}function it(oe,Q){ne.subImageAsCopy(j,Object(Oe.h)(oe,Q)),$e.skeletonize()}function se(oe,Q,ge,Me){var de,gt,St,pn,Tt=[],mt=[],At=Math.ceil(ce.x/3);if(oe.length>=2){for(de=0;de<oe.length;de++)oe[de].m00>At&&Tt.push(oe[de]);if(Tt.length>=2){for(St=function(an){var er=Object(Oe.b)(an,.9),kn=Object(Oe.j)(er,1,function(Hr){return Hr.getPoints().length}),yr=[],nr=[];if(1===kn.length){yr=kn[0].item.getPoints();for(var Qn=0;Qn<yr.length;Qn++)nr.push(yr[Qn].point)}return nr}(Tt),gt=0,de=0;de<St.length;de++)gt+=St[de].rad;St.length>1&&St.length>=Tt.length/4*3&&St.length>oe.length/4&&(gt/=St.length,pn={index:Q[1]*He.x+Q[0],pos:{x:ge,y:Me},box:[Ge.clone([ge,Me]),Ge.clone([ge+j.size.x,Me]),Ge.clone([ge+j.size.x,Me+j.size.y]),Ge.clone([ge,Me+j.size.y])],moments:St,rad:gt,vec:Ge.clone([Math.cos(gt),Math.sin(gt)])},mt.push(pn))}}return mt}O.a={init:function(oe,Q){E=Q,Ye=oe,function(){N=E.halfSample?new ue.a({x:Ye.size.x/2|0,y:Ye.size.y/2|0}):Ye,ce=Object(Oe.a)(E.patchSize,N.size),He.x=N.size.x/ce.x|0,He.y=N.size.y/ce.y|0,ne=new ue.a(N.size,void 0,Uint8Array,!1),$=new ue.a(ce,void 0,Array,!0);var ge=new ArrayBuffer(65536);j=new ue.a(ce,new Uint8Array(ge,0,ce.x*ce.y)),M=new ue.a(ce,new Uint8Array(ge,ce.x*ce.y*3,ce.x*ce.y),void 0,!0),$e=Object(qe.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:C,{size:ce.x},ge),z=new ue.a({x:N.size.x/j.size.x|0,y:N.size.y/j.size.y|0},void 0,Array,!0),W=new ue.a(z.size,void 0,void 0,!0),J=new ue.a(z.size,void 0,Int32Array,!0)}(),E.useWorker||"undefined"==typeof document||(we.dom.binary=document.createElement("canvas"),we.dom.binary.className="binaryBuffer",we.ctx.binary=we.dom.binary.getContext("2d"),we.dom.binary.width=ne.size.x,we.dom.binary.height=ne.size.y)},locate:function(){E.halfSample&&Object(Oe.f)(Ye,N),Object(Oe.i)(N,ne),ne.zeroBorder();var oe=function(){var Me,de,gt,St,pn,Tt,mt=[];for(Me=0;Me<He.x;Me++)for(de=0;de<He.y;de++)it(gt=j.size.x*Me,St=j.size.y*de),M.zeroBorder(),De.a.init($.data,0),Tt=rt.a.create(M,$).rasterize(0),pn=$.moments(Tt.count),mt=mt.concat(se(pn,[Me,de],gt,St));return mt}();if(oe.length<He.x*He.y*.05)return null;var Q=function(Me){var de,gt,St=0,pn=0;function Tt(){var At;for(At=0;At<J.data.length;At++)if(0===J.data[At]&&1===W.data[At])return At;return J.length}function mt(At){var kn,yr,nr,Qn=At%J.size.x,Hr=At/J.size.x|0;if(At<J.data.length)for(kn=z.data[At],J.data[At]=St,nr=0;nr<Be.a.searchDirections.length;nr++)0!==W.data[yr=(Hr+Be.a.searchDirections[nr][0])*J.size.x+(Qn+Be.a.searchDirections[nr][1])]?0===J.data[yr]&&Math.abs(Ge.dot(z.data[yr].vec,kn.vec))>.95&&mt(yr):J.data[yr]=Number.MAX_VALUE}for(De.a.init(W.data,0),De.a.init(J.data,0),De.a.init(z.data,null),de=0;de<Me.length;de++)z.data[(gt=Me[de]).index]=gt,W.data[gt.index]=1;for(W.zeroBorder();(pn=Tt())<J.data.length;)St++,mt(pn);return St}(oe);if(Q<1)return null;var ge=function(Me){var de,gt,St=[];for(de=0;de<Me;de++)St.push(0);for(gt=J.data.length;gt--;)J.data[gt]>0&&St[J.data[gt]-1]++;return(St=St.map(function(pn,Tt){return{val:pn,label:Tt+1}})).sort(function(pn,Tt){return Tt.val-pn.val}),St.filter(function(pn){return pn.val>=5})}(Q);return 0===ge.length?null:function(Me,de){var gt,St,Tt,mt=[],At=[];for(gt=0;gt<Me.length;gt++){for(St=J.data.length,mt.length=0;St--;)J.data[St]===Me[gt].label&&mt.push(z.data[St]);(Tt=Ie(mt))&&At.push(Tt)}return At}(ge)},checkImageConstraints:function(oe,Q){var ge,Me,de=oe.getWidth(),gt=oe.getHeight(),St=Q.halfSample?.5:1;oe.getConfig().area&&(Me=Object(Oe.d)(de,gt,oe.getConfig().area),oe.setTopRight({x:Me.sx,y:Me.sy}),oe.setCanvasSize({x:de,y:gt}),de=Me.sw,gt=Me.sh);var pn={x:Math.floor(de*St),y:Math.floor(gt*St)};if(ge=Object(Oe.a)(Q.patchSize,pn),oe.setWidth(Math.floor(Math.floor(pn.x/ge.x)*(1/St)*ge.x)),oe.setHeight(Math.floor(Math.floor(pn.y/ge.y)*(1/St)*ge.y)),oe.getWidth()%ge.x==0&&oe.getHeight()%ge.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(de," )and height (").concat(gt,") must a multiple of ").concat(ge.x))}}}).call(this,t(46))},function(A,O,t){var C=t(92),E=t(93),N=t(94),M=t(95),j=t(96);function $(W){var J=-1,z=null==W?0:W.length;for(this.clear();++J<z;){var ne=W[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=M,$.prototype.set=j,A.exports=$},function(A,O,t){var C=t(26);A.exports=function(E,N){for(var M=E.length;M--;)if(C(E[M][0],N))return M;return-1}},function(A,O){A.exports=function(t,C){return t===C||t!=t&&C!=C}},function(A,O,t){var C=t(18).Symbol;A.exports=C},function(A,O,t){var C=t(35)(Object,"create");A.exports=C},function(A,O,t){var C=t(117);A.exports=function(E,N){var M=E.__data__;return C(N)?M["string"==typeof N?"string":"hash"]:M.map}},function(A,O,t){var C=t(132),E=t(19),N=Object.prototype,M=N.hasOwnProperty,j=N.propertyIsEnumerable,$=C(function(){return arguments}())?C:function(W){return E(W)&&M.call(W,"callee")&&!j.call(W,"callee")};A.exports=$},function(A,O){var t=/^(?:0|[1-9]\d*)$/;A.exports=function(C,E){var N=typeof C;return!!(E=null==E?9007199254740991:E)&&("number"==N||"symbol"!=N&&t.test(C))&&C>-1&&C%1==0&&C<E}},function(A,O,t){var C=t(15),E=t(232),N=t(233),M=t(236);A.exports=function(j,$){return C(j)?j:E(j,$)?[j]:N(M(j))}},function(A,O,t){var C=t(226),E=t(227),N=t(60),M=t(228);A.exports=function(j){return C(j)||E(j)||N(j)||M()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){A.exports={determinant:t(251),transpose:t(252),multiply:t(253),identity:t(254),adjoint:t(255),rotate:t(256),invert:t(257),create:t(258),scale:t(259),copy:t(260),frob:t(261),ldu:t(262)}},function(A,O,t){var C=t(102),E=t(108);A.exports=function(N,M){var j=E(N,M);return C(j)?j:void 0}},function(A,O,t){var C=t(22),E=t(14);A.exports=function(N){if(!E(N))return!1;var M=C(N);return"[object Function]"==M||"[object GeneratorFunction]"==M||"[object AsyncFunction]"==M||"[object Proxy]"==M}},function(A,O,t){var C=t(49);A.exports=function(E,N,M){"__proto__"==N&&C?C(E,N,{configurable:!0,enumerable:!0,value:M,writable:!0}):E[N]=M}},function(A,O){A.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(A,O,t){var C=t(36),E=t(40);A.exports=function(N){return null!=N&&E(N.length)&&!C(N)}},function(A,O){A.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(A,O){function t(C,E){return A.exports=t=Object.setPrototypeOf||function(N,M){return N.__proto__=M,N},A.exports.__esModule=!0,A.exports.default=A.exports,t(C,E)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(22),E=t(19);A.exports=function(N){return"symbol"==typeof N||E(N)&&"[object Symbol]"==C(N)}},function(A,O,t){var C=t(42);A.exports=function(E){if("string"==typeof E||C(E))return E;var N=E+"";return"0"==N&&1/E==-1/0?"-0":N}},function(A,O,t){var C=t(35)(t(18),"Map");A.exports=C},function(A,O,t){(function(C){A.exports="object"==typeof C&&C&&C.Object===Object&&C}).call(this,t(46))},function(A,O){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(C){"object"==typeof window&&(t=window)}A.exports=t},function(A,O,t){var C=t(109),E=t(116),N=t(118),M=t(119),j=t(120);function $(W){var J=-1,z=null==W?0:W.length;for(this.clear();++J<z;){var ne=W[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=M,$.prototype.set=j,A.exports=$},function(A,O,t){var C=t(37),E=t(26);A.exports=function(N,M,j){(void 0!==j&&!E(N[M],j)||void 0===j&&!(M in N))&&C(N,M,j)}},function(A,O,t){var C=t(35),E=function(){try{var N=C(Object,"defineProperty");return N({},"",{}),N}catch(M){}}();A.exports=E},function(A,O,t){var C=t(131)(Object.getPrototypeOf,Object);A.exports=C},function(A,O){var t=Object.prototype;A.exports=function(C){var E=C&&C.constructor;return C===("function"==typeof E&&E.prototype||t)}},function(A,O,t){(function(C){var E=t(18),N=t(134),M=O&&!O.nodeType&&O,j=M&&"object"==typeof C&&C&&!C.nodeType&&C,$=j&&j.exports===M?E.Buffer:void 0;C.exports=($?$.isBuffer:void 0)||N}).call(this,t(38)(A))},function(A,O,t){var C=t(136),E=t(137),N=t(138),M=N&&N.isTypedArray,j=M?E(M):C;A.exports=j},function(A,O){A.exports=function(t,C){if(("constructor"!==C||"function"!=typeof t[C])&&"__proto__"!=C)return t[C]}},function(A,O,t){var C=t(37),E=t(26),N=Object.prototype.hasOwnProperty;A.exports=function(M,j,$){var W=M[j];N.call(M,j)&&E(W,$)&&(void 0!==$||j in M)||C(M,j,$)}},function(A,O,t){var C=t(141),E=t(143),N=t(39);A.exports=function(M){return N(M)?C(M,!0):E(M)}},function(A,O){A.exports=function(t){return t}},function(A,O,t){var C=t(147),E=Math.max;A.exports=function(N,M,j){return M=E(void 0===M?N.length-1:M,0),function(){for(var $=arguments,W=-1,J=E($.length-M,0),z=Array(J);++W<J;)z[W]=$[M+W];W=-1;for(var ne=Array(M+1);++W<M;)ne[W]=$[W];return ne[M]=j(z),C(N,this,ne)}}},function(A,O,t){var C=t(148),E=t(150)(C);A.exports=E},function(A,O,t){var C=t(61);A.exports=function(E,N){if(E){if("string"==typeof E)return C(E,N);var M=Object.prototype.toString.call(E).slice(8,-1);return"Object"===M&&E.constructor&&(M=E.constructor.name),"Map"===M||"Set"===M?Array.from(E):"Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?C(E,N):void 0}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t,C){(null==C||C>t.length)&&(C=t.length);for(var E=0,N=new Array(C);E<C;E++)N[E]=t[E];return N},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=1e-6},function(A,O){A.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]-E[0],t[1]=C[1]-E[1],t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]*E[0],t[1]=C[1]*E[1],t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]/E[0],t[1]=C[1]/E[1],t}},function(A,O){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1];return Math.sqrt(E*E+N*N)}},function(A,O){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1];return E*E+N*N}},function(A,O){A.exports=function(t){var C=t[0],E=t[1];return Math.sqrt(C*C+E*E)}},function(A,O){A.exports=function(t){var C=t[0],E=t[1];return C*C+E*E}},function(A,O){A.exports=1e-6},function(A,O){A.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(A,O){A.exports=function(t,C,E){var N=new Float32Array(3);return N[0]=t,N[1]=C,N[2]=E,N}},function(A,O){A.exports=function(t,C){var E=C[0],N=C[1],M=C[2],j=E*E+N*N+M*M;return j>0&&(j=1/Math.sqrt(j),t[0]=C[0]*j,t[1]=C[1]*j,t[2]=C[2]*j),t}},function(A,O){A.exports=function(t,C){return t[0]*C[0]+t[1]*C[1]+t[2]*C[2]}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]-E[0],t[1]=C[1]-E[1],t[2]=C[2]-E[2],t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]*E[0],t[1]=C[1]*E[1],t[2]=C[2]*E[2],t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]/E[0],t[1]=C[1]/E[1],t[2]=C[2]/E[2],t}},function(A,O){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1],M=C[2]-t[2];return Math.sqrt(E*E+N*N+M*M)}},function(A,O){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1],M=C[2]-t[2];return E*E+N*N+M*M}},function(A,O){A.exports=function(t){var C=t[0],E=t[1],N=t[2];return Math.sqrt(C*C+E*E+N*N)}},function(A,O){A.exports=function(t){var C=t[0],E=t[1],N=t[2];return C*C+E*E+N*N}},function(A,O,t){var C=t(153),E=t(154),N=t(60),M=t(155);A.exports=function(j,$){return C(j)||E(j,$)||N(j,$)||M()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){A.exports={EPSILON:t(71),create:t(72),clone:t(191),angle:t(192),fromValues:t(73),copy:t(193),set:t(194),equals:t(195),exactEquals:t(196),add:t(197),subtract:t(76),sub:t(198),multiply:t(77),mul:t(199),divide:t(78),div:t(200),min:t(201),max:t(202),floor:t(203),ceil:t(204),round:t(205),scale:t(206),scaleAndAdd:t(207),distance:t(79),dist:t(208),squaredDistance:t(80),sqrDist:t(209),length:t(81),len:t(210),squaredLength:t(82),sqrLen:t(211),negate:t(212),inverse:t(213),normalize:t(74),dot:t(75),cross:t(214),lerp:t(215),random:t(216),transformMat4:t(217),transformMat3:t(218),transformQuat:t(219),rotateX:t(220),rotateY:t(221),rotateZ:t(222),forEach:t(223)}},function(A,O,t){var C=t(229),E=t(243)(function(N,M){return null==N?{}:C(N,M)});A.exports=E},function(A,O,t){var C=t(2),E=t(41),N=t(248),M=t(249);function j($){var W="function"==typeof Map?new Map:void 0;return A.exports=j=function(J){if(null===J||!N(J))return J;if("function"!=typeof J)throw new TypeError("Super expression must either be null or a function");if(void 0!==W){if(W.has(J))return W.get(J);W.set(J,z)}function z(){return M(J,arguments,C(this).constructor)}return z.prototype=Object.create(J.prototype,{constructor:{value:z,enumerable:!1,writable:!0,configurable:!0}}),E(z,J)},A.exports.__esModule=!0,A.exports.default=A.exports,j($)}A.exports=j,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){"use strict";var C=t(21),E={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,M){var j=N.data,$=M.data,W=N.size.x,J=N.size.y,z=C.a.create(N,M);return{rasterize:function(ne){var ce,Ye,$e,Ge,ut,ue,Oe,De,rt,Be,qe,we,He=[],Ie=0;for(we=0;we<400;we++)He[we]=0;for(He[0]=j[0],rt=null,ue=1;ue<J-1;ue++)for(Ge=0,Ye=He[0],ut=1;ut<W-1;ut++)if(0===$[qe=ue*W+ut])if((ce=j[qe])!==Ye){if(0===Ge)He[$e=Ie+1]=ce,Ye=ce,null!==(Oe=z.contourTracing(ue,ut,$e,ce,E.DIR.OUTSIDE_EDGE))&&(Ie++,Ge=$e,(De=E.createContour2D()).dir=E.CONTOUR_DIR.CW_DIR,De.index=Ge,De.firstVertex=Oe,De.nextpeer=rt,De.insideContours=null,null!==rt&&(rt.prevpeer=De),rt=De);else if(null!==(Oe=z.contourTracing(ue,ut,E.DIR.INSIDE_EDGE,ce,Ge))){for((De=E.createContour2D()).firstVertex=Oe,De.insideContours=null,De.dir=0===ne?E.CONTOUR_DIR.CCW_DIR:E.CONTOUR_DIR.CW_DIR,De.index=ne,Be=rt;null!==Be&&Be.index!==Ge;)Be=Be.nextpeer;null!==Be&&(De.nextpeer=Be.insideContours,null!==Be.insideContours&&(Be.insideContours.prevpeer=De),Be.insideContours=De)}}else $[qe]=Ge;else $[qe]===E.DIR.OUTSIDE_EDGE||$[qe]===E.DIR.INSIDE_EDGE?(Ge=0,Ye=$[qe]===E.DIR.INSIDE_EDGE?j[qe]:He[0]):Ye=He[Ge=$[qe]];for(Be=rt;null!==Be;)Be.index=ne,Be=Be.nextpeer;return{cc:rt,count:Ie}},debug:{drawContour:function(ne,ce){var Ye,$e,Ge,ut=ne.getContext("2d"),ue=ce;for(ut.strokeStyle="red",ut.fillStyle="red",ut.lineWidth=1,Ye=null!==ue?ue.insideContours:null;null!==ue;){switch(null!==Ye?($e=Ye,Ye=Ye.nextpeer):($e=ue,Ye=null!==(ue=ue.nextpeer)?ue.insideContours:null),$e.dir){case E.CONTOUR_DIR.CW_DIR:ut.strokeStyle="red";break;case E.CONTOUR_DIR.CCW_DIR:ut.strokeStyle="blue";break;case E.CONTOUR_DIR.UNKNOWN_DIR:ut.strokeStyle="green"}Ge=$e.firstVertex,ut.beginPath(),ut.moveTo(Ge.x,Ge.y);do{ut.lineTo((Ge=Ge.next).x,Ge.y)}while(Ge!==$e.firstVertex);ut.stroke()}}}}}};O.a=E},function(A,O,t){"use strict";O.a=function(C,E,N){var M=new C.Uint8Array(N),j=0|E.size,$=C.Math.imul;function W(ue,Oe){ue|=0,Oe|=0;var De=0,rt=0,qe=0,we=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(j-1|0);De=De+1|0)for(it=it+j|0,rt=1;(0|rt)<(j-1|0);rt=rt+1|0)M[Oe+it+rt|0]=5==(0|(0|M[ue+(qe=it-j|0)+(He=rt-1|0)|0])+(0|M[ue+qe+(Ie=rt+1|0)|0])+(0|M[ue+it+rt|0])+(0|M[ue+(we=it+j|0)+He|0])+(0|M[ue+we+Ie|0]))?1:0}function J(ue,Oe,De){ue|=0,Oe|=0,De|=0;var rt=0;for(rt=0|$(j,j);(0|rt)>0;)M[De+(rt=rt-1|0)|0]=(0|M[ue+rt|0])-(0|M[Oe+rt|0])|0}function z(ue,Oe,De){ue|=0,Oe|=0,De|=0;var rt=0;for(rt=0|$(j,j);(0|rt)>0;)M[De+(rt=rt-1|0)|0]=0|M[ue+rt|0]|M[Oe+rt|0]|0}function ne(ue){ue|=0;var Oe=0,De=0;for(De=0|$(j,j);(0|De)>0;)Oe=(0|Oe)+(0|M[ue+(De=De-1|0)|0])|0;return 0|Oe}function Ye(ue,Oe){ue|=0,Oe|=0;var De=0,rt=0,qe=0,we=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(j-1|0);De=De+1|0)for(it=it+j|0,rt=1;(0|rt)<(j-1|0);rt=rt+1|0)M[Oe+it+rt|0]=(0|(0|M[ue+(qe=it-j|0)+(He=rt-1|0)|0])+(0|M[ue+qe+(Ie=rt+1|0)|0])+(0|M[ue+it+rt|0])+(0|M[ue+(we=it+j|0)+He|0])+(0|M[ue+we+Ie|0]))>0?1:0}function $e(ue,Oe){ue|=0,Oe|=0;var De=0;for(De=0|$(j,j);(0|De)>0;)M[Oe+(De=De-1|0)|0]=0|M[ue+De|0]}return{skeletonize:function ut(){var Oe,De,rt,qe=0;(function ce(ue,Oe){ue|=0,Oe|=0;var De=0;for(De=0|$(j,j);(0|De)>0;)M[ue+(De=De-1|0)|0]=Oe})(rt=(De=(Oe=0|$(j,j))+Oe|0)+Oe|0,0),function Ge(ue){ue|=0;var Oe=0,De=0;for(Oe=0;(0|Oe)<(j-1|0);Oe=Oe+1|0)M[ue+Oe|0]=0,M[ue+De|0]=0,M[ue+(De=De+j-1|0)|0]=0,De=De+1|0;for(Oe=0;(0|Oe)<(0|j);Oe=Oe+1|0)M[ue+De|0]=0,De=De+1|0}(0);do{W(0,Oe),Ye(Oe,De),J(0,De,De),z(rt,De,rt),$e(Oe,0),qe=0==(0|ne(0))|0}while(!qe)}}}},function(A,O,t){A.exports=t(263)},function(A,O,t){var C=t(91),E=t(48),N=t(121),M=t(123),j=t(14),$=t(56),W=t(54);A.exports=function J(z,ne,ce,Ye,$e){z!==ne&&N(ne,function(Ge,ut){if($e||($e=new C),j(Ge))M(z,ne,ut,ce,J,Ye,$e);else{var ue=Ye?Ye(W(z,ut),Ge,ut+"",z,ne,$e):void 0;void 0===ue&&(ue=Ge),E(z,ut,ue)}},$)}},function(A,O,t){var C=t(24),E=t(97),N=t(98),M=t(99),j=t(100),$=t(101);function W(J){var z=this.__data__=new C(J);this.size=z.size}W.prototype.clear=E,W.prototype.delete=N,W.prototype.get=M,W.prototype.has=j,W.prototype.set=$,A.exports=W},function(A,O){A.exports=function(){this.__data__=[],this.size=0}},function(A,O,t){var C=t(25),E=Array.prototype.splice;A.exports=function(N){var M=this.__data__,j=C(M,N);return!(j<0||(j==M.length-1?M.pop():E.call(M,j,1),--this.size,0))}},function(A,O,t){var C=t(25);A.exports=function(E){var N=this.__data__,M=C(N,E);return M<0?void 0:N[M][1]}},function(A,O,t){var C=t(25);A.exports=function(E){return C(this.__data__,E)>-1}},function(A,O,t){var C=t(25);A.exports=function(E,N){var M=this.__data__,j=C(M,E);return j<0?(++this.size,M.push([E,N])):M[j][1]=N,this}},function(A,O,t){var C=t(24);A.exports=function(){this.__data__=new C,this.size=0}},function(A,O){A.exports=function(t){var C=this.__data__,E=C.delete(t);return this.size=C.size,E}},function(A,O){A.exports=function(t){return this.__data__.get(t)}},function(A,O){A.exports=function(t){return this.__data__.has(t)}},function(A,O,t){var C=t(24),E=t(44),N=t(47);A.exports=function(M,j){var $=this.__data__;if($ instanceof C){var W=$.__data__;if(!E||W.length<199)return W.push([M,j]),this.size=++$.size,this;$=this.__data__=new N(W)}return $.set(M,j),this.size=$.size,this}},function(A,O,t){var C=t(36),E=t(105),N=t(14),M=t(107),j=/^\[object .+?Constructor\]$/,ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");A.exports=function(ce){return!(!N(ce)||E(ce))&&(C(ce)?ne:j).test(M(ce))}},function(A,O,t){var C=t(27),E=Object.prototype,N=E.hasOwnProperty,M=E.toString,j=C?C.toStringTag:void 0;A.exports=function($){var W=N.call($,j),J=$[j];try{$[j]=void 0;var z=!0}catch(ce){}var ne=M.call($);return z&&(W?$[j]=J:delete $[j]),ne}},function(A,O){var t=Object.prototype.toString;A.exports=function(C){return t.call(C)}},function(A,O,t){var C,E=t(106),N=(C=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";A.exports=function(M){return!!N&&N in M}},function(A,O,t){var C=t(18)["__core-js_shared__"];A.exports=C},function(A,O){var t=Function.prototype.toString;A.exports=function(C){if(null!=C){try{return t.call(C)}catch(E){}try{return C+""}catch(E){}}return""}},function(A,O){A.exports=function(t,C){return null==t?void 0:t[C]}},function(A,O,t){var C=t(110),E=t(24),N=t(44);A.exports=function(){this.size=0,this.__data__={hash:new C,map:new(N||E),string:new C}}},function(A,O,t){var C=t(111),E=t(112),N=t(113),M=t(114),j=t(115);function $(W){var J=-1,z=null==W?0:W.length;for(this.clear();++J<z;){var ne=W[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=M,$.prototype.set=j,A.exports=$},function(A,O,t){var C=t(28);A.exports=function(){this.__data__=C?C(null):{},this.size=0}},function(A,O){A.exports=function(t){var C=this.has(t)&&delete this.__data__[t];return this.size-=C?1:0,C}},function(A,O,t){var C=t(28),E=Object.prototype.hasOwnProperty;A.exports=function(N){var M=this.__data__;if(C){var j=M[N];return"__lodash_hash_undefined__"===j?void 0:j}return E.call(M,N)?M[N]:void 0}},function(A,O,t){var C=t(28),E=Object.prototype.hasOwnProperty;A.exports=function(N){var M=this.__data__;return C?void 0!==M[N]:E.call(M,N)}},function(A,O,t){var C=t(28);A.exports=function(E,N){var M=this.__data__;return this.size+=this.has(E)?0:1,M[E]=C&&void 0===N?"__lodash_hash_undefined__":N,this}},function(A,O,t){var C=t(29);A.exports=function(E){var N=C(this,E).delete(E);return this.size-=N?1:0,N}},function(A,O){A.exports=function(t){var C=typeof t;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==t:null===t}},function(A,O,t){var C=t(29);A.exports=function(E){return C(this,E).get(E)}},function(A,O,t){var C=t(29);A.exports=function(E){return C(this,E).has(E)}},function(A,O,t){var C=t(29);A.exports=function(E,N){var M=C(this,E),j=M.size;return M.set(E,N),this.size+=M.size==j?0:1,this}},function(A,O,t){var C=t(122)();A.exports=C},function(A,O){A.exports=function(t){return function(C,E,N){for(var M=-1,j=Object(C),$=N(C),W=$.length;W--;){var J=$[t?W:++M];if(!1===E(j[J],J,j))break}return C}}},function(A,O,t){var C=t(48),E=t(124),N=t(125),M=t(128),j=t(129),$=t(30),W=t(15),J=t(133),z=t(52),ne=t(36),ce=t(14),Ye=t(135),$e=t(53),Ge=t(54),ut=t(139);A.exports=function(ue,Oe,De,rt,Be,qe,we){var He=Ge(ue,De),Ie=Ge(Oe,De),it=we.get(Ie);if(it)C(ue,De,it);else{var se=qe?qe(He,Ie,De+"",ue,Oe,we):void 0,oe=void 0===se;if(oe){var Q=W(Ie),ge=!Q&&z(Ie),Me=!Q&&!ge&&$e(Ie);se=Ie,Q||ge||Me?W(He)?se=He:J(He)?se=M(He):ge?(oe=!1,se=E(Ie,!0)):Me?(oe=!1,se=N(Ie,!0)):se=[]:Ye(Ie)||$(Ie)?(se=He,$(He)?se=ut(He):ce(He)&&!ne(He)||(se=j(Ie))):oe=!1}oe&&(we.set(Ie,se),Be(se,Ie,rt,qe,we),we.delete(Ie)),C(ue,De,se)}}},function(A,O,t){(function(C){var E=t(18),N=O&&!O.nodeType&&O,M=N&&"object"==typeof C&&C&&!C.nodeType&&C,j=M&&M.exports===N?E.Buffer:void 0,$=j?j.allocUnsafe:void 0;C.exports=function(W,J){if(J)return W.slice();var z=W.length,ne=$?$(z):new W.constructor(z);return W.copy(ne),ne}}).call(this,t(38)(A))},function(A,O,t){var C=t(126);A.exports=function(E,N){var M=N?C(E.buffer):E.buffer;return new E.constructor(M,E.byteOffset,E.length)}},function(A,O,t){var C=t(127);A.exports=function(E){var N=new E.constructor(E.byteLength);return new C(N).set(new C(E)),N}},function(A,O,t){var C=t(18).Uint8Array;A.exports=C},function(A,O){A.exports=function(t,C){var E=-1,N=t.length;for(C||(C=Array(N));++E<N;)C[E]=t[E];return C}},function(A,O,t){var C=t(130),E=t(50),N=t(51);A.exports=function(M){return"function"!=typeof M.constructor||N(M)?{}:C(E(M))}},function(A,O,t){var C=t(14),E=Object.create,N=function(){function M(){}return function(j){if(!C(j))return{};if(E)return E(j);M.prototype=j;var $=new M;return M.prototype=void 0,$}}();A.exports=N},function(A,O){A.exports=function(t,C){return function(E){return t(C(E))}}},function(A,O,t){var C=t(22),E=t(19);A.exports=function(N){return E(N)&&"[object Arguments]"==C(N)}},function(A,O,t){var C=t(39),E=t(19);A.exports=function(N){return E(N)&&C(N)}},function(A,O){A.exports=function(){return!1}},function(A,O,t){var C=t(22),E=t(50),N=t(19),$=Function.prototype.toString,W=Object.prototype.hasOwnProperty,J=$.call(Object);A.exports=function(z){if(!N(z)||"[object Object]"!=C(z))return!1;var ne=E(z);if(null===ne)return!0;var ce=W.call(ne,"constructor")&&ne.constructor;return"function"==typeof ce&&ce instanceof ce&&$.call(ce)==J}},function(A,O,t){var C=t(22),E=t(40),N=t(19),M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object Boolean]"]=M["[object DataView]"]=M["[object Date]"]=M["[object Error]"]=M["[object Function]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object WeakMap]"]=!1,A.exports=function(j){return N(j)&&E(j.length)&&!!M[C(j)]}},function(A,O){A.exports=function(t){return function(C){return t(C)}}},function(A,O,t){(function(C){var E=t(45),N=O&&!O.nodeType&&O,M=N&&"object"==typeof C&&C&&!C.nodeType&&C,j=M&&M.exports===N&&E.process,$=function(){try{return M&&M.require&&M.require("util").types||j&&j.binding&&j.binding("util")}catch(J){}}();C.exports=$}).call(this,t(38)(A))},function(A,O,t){var C=t(140),E=t(56);A.exports=function(N){return C(N,E(N))}},function(A,O,t){var C=t(55),E=t(37);A.exports=function(N,M,j,$){var W=!j;j||(j={});for(var J=-1,z=M.length;++J<z;){var ne=M[J],ce=$?$(j[ne],N[ne],ne,j,N):void 0;void 0===ce&&(ce=N[ne]),W?E(j,ne,ce):C(j,ne,ce)}return j}},function(A,O,t){var C=t(142),E=t(30),N=t(15),M=t(52),j=t(31),$=t(53),W=Object.prototype.hasOwnProperty;A.exports=function(J,z){var ne=N(J),ce=!ne&&E(J),Ye=!ne&&!ce&&M(J),$e=!ne&&!ce&&!Ye&&$(J),Ge=ne||ce||Ye||$e,ut=Ge?C(J.length,String):[],ue=ut.length;for(var Oe in J)!z&&!W.call(J,Oe)||Ge&&("length"==Oe||Ye&&("offset"==Oe||"parent"==Oe)||$e&&("buffer"==Oe||"byteLength"==Oe||"byteOffset"==Oe)||j(Oe,ue))||ut.push(Oe);return ut}},function(A,O){A.exports=function(t,C){for(var E=-1,N=Array(t);++E<t;)N[E]=C(E);return N}},function(A,O,t){var C=t(14),E=t(51),N=t(144),M=Object.prototype.hasOwnProperty;A.exports=function(j){if(!C(j))return N(j);var $=E(j),W=[];for(var J in j)("constructor"!=J||!$&&M.call(j,J))&&W.push(J);return W}},function(A,O){A.exports=function(t){var C=[];if(null!=t)for(var E in Object(t))C.push(E);return C}},function(A,O,t){var C=t(146),E=t(151);A.exports=function(N){return C(function(M,j){var $=-1,W=j.length,J=W>1?j[W-1]:void 0,z=W>2?j[2]:void 0;for(J=N.length>3&&"function"==typeof J?(W--,J):void 0,z&&E(j[0],j[1],z)&&(J=W<3?void 0:J,W=1),M=Object(M);++$<W;){var ne=j[$];ne&&N(M,ne,$,J)}return M})}},function(A,O,t){var C=t(57),E=t(58),N=t(59);A.exports=function(M,j){return N(E(M,j,C),M+"")}},function(A,O){A.exports=function(t,C,E){switch(E.length){case 0:return t.call(C);case 1:return t.call(C,E[0]);case 2:return t.call(C,E[0],E[1]);case 3:return t.call(C,E[0],E[1],E[2])}return t.apply(C,E)}},function(A,O,t){var C=t(149),E=t(49),N=t(57);A.exports=E?function(j,$){return E(j,"toString",{configurable:!0,enumerable:!1,value:C($),writable:!0})}:N},function(A,O){A.exports=function(t){return function(){return t}}},function(A,O){var t=Date.now;A.exports=function(C){var E=0,N=0;return function(){var M=t(),j=16-(M-N);if(N=M,j>0){if(++E>=800)return arguments[0]}else E=0;return C.apply(void 0,arguments)}}},function(A,O,t){var C=t(26),E=t(39),N=t(31),M=t(14);A.exports=function(j,$,W){if(!M(W))return!1;var J=typeof $;return!!("number"==J?E(W)&&N($,W.length):"string"==J&&$ in W)&&C(W[$],j)}},function(A,O){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(t,C){var E=65535&t,N=65535&C;return E*N+((t>>>16&65535)*N+E*(C>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(t),E=1;E<arguments.length;E++){var N=arguments[E];if(null!==N)for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(C[M]=N[M])}return C})},function(A,O){A.exports=function(t){if(Array.isArray(t))return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t,C){var E=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=E){var N,M,j=[],$=!0,W=!1;try{for(E=E.call(t);!($=(N=E.next()).done)&&(j.push(N.value),!C||j.length!==C);$=!0);}catch(J){W=!0,M=J}finally{try{$||null==E.return||E.return()}finally{if(W)throw M}}return j}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t){var C=new Float32Array(2);return C[0]=t[0],C[1]=t[1],C}},function(A,O){A.exports=function(t,C){var E=new Float32Array(2);return E[0]=t,E[1]=C,E}},function(A,O){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t}},function(A,O){A.exports=function(t,C,E){return t[0]=C,t[1]=E,t}},function(A,O,t){A.exports=function(E,N){var M=E[0],j=E[1],$=N[0],W=N[1];return Math.abs(M-$)<=C*Math.max(1,Math.abs(M),Math.abs($))&&Math.abs(j-W)<=C*Math.max(1,Math.abs(j),Math.abs(W))};var C=t(62)},function(A,O){A.exports=function(t,C){return t[0]===C[0]&&t[1]===C[1]}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]+E[0],t[1]=C[1]+E[1],t}},function(A,O,t){A.exports=t(64)},function(A,O,t){A.exports=t(65)},function(A,O,t){A.exports=t(66)},function(A,O){A.exports=function(t,C){return t[0]=1/C[0],t[1]=1/C[1],t}},function(A,O){A.exports=function(t,C,E){return t[0]=Math.min(C[0],E[0]),t[1]=Math.min(C[1],E[1]),t}},function(A,O){A.exports=function(t,C,E){return t[0]=Math.max(C[0],E[0]),t[1]=Math.max(C[1],E[1]),t}},function(A,O){A.exports=function(t,C,E){var N=Math.cos(E),M=Math.sin(E),j=C[0],$=C[1];return t[0]=j*N-$*M,t[1]=j*M+$*N,t}},function(A,O){A.exports=function(t,C){return t[0]=Math.floor(C[0]),t[1]=Math.floor(C[1]),t}},function(A,O){A.exports=function(t,C){return t[0]=Math.ceil(C[0]),t[1]=Math.ceil(C[1]),t}},function(A,O){A.exports=function(t,C){return t[0]=Math.round(C[0]),t[1]=Math.round(C[1]),t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]*E,t[1]=C[1]*E,t}},function(A,O){A.exports=function(t,C,E,N){return t[0]=C[0]+E[0]*N,t[1]=C[1]+E[1]*N,t}},function(A,O,t){A.exports=t(67)},function(A,O,t){A.exports=t(68)},function(A,O,t){A.exports=t(69)},function(A,O,t){A.exports=t(70)},function(A,O){A.exports=function(t,C){return t[0]=-C[0],t[1]=-C[1],t}},function(A,O){A.exports=function(t,C){var E=C[0],N=C[1],M=E*E+N*N;return M>0&&(M=1/Math.sqrt(M),t[0]=C[0]*M,t[1]=C[1]*M),t}},function(A,O){A.exports=function(t,C){return t[0]*C[0]+t[1]*C[1]}},function(A,O){A.exports=function(t,C,E){var N=C[0]*E[1]-C[1]*E[0];return t[0]=t[1]=0,t[2]=N,t}},function(A,O){A.exports=function(t,C,E,N){var M=C[0],j=C[1];return t[0]=M+N*(E[0]-M),t[1]=j+N*(E[1]-j),t}},function(A,O){A.exports=function(t,C){C=C||1;var E=2*Math.random()*Math.PI;return t[0]=Math.cos(E)*C,t[1]=Math.sin(E)*C,t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1];return t[0]=E[0]*N+E[2]*M,t[1]=E[1]*N+E[3]*M,t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1];return t[0]=E[0]*N+E[2]*M+E[4],t[1]=E[1]*N+E[3]*M+E[5],t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1];return t[0]=E[0]*N+E[3]*M+E[6],t[1]=E[1]*N+E[4]*M+E[7],t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1];return t[0]=E[0]*N+E[4]*M+E[12],t[1]=E[1]*N+E[5]*M+E[13],t}},function(A,O,t){A.exports=function(E,N,M,j,$,W){var J,z;for(N||(N=2),M||(M=0),z=j?Math.min(j*N+M,E.length):E.length,J=M;J<z;J+=N)C[0]=E[J],C[1]=E[J+1],$(C,C,W),E[J]=C[0],E[J+1]=C[1];return E};var C=t(63)()},function(A,O){A.exports=function(t,C,E){var N=C[0]*C[0]+C[1]*C[1];if(N>E*E){var M=Math.sqrt(N);t[0]=C[0]/M*E,t[1]=C[1]/M*E}else t[0]=C[0],t[1]=C[1];return t}},function(A,O){A.exports=function(t){var C=new Float32Array(3);return C[0]=t[0],C[1]=t[1],C[2]=t[2],C}},function(A,O,t){A.exports=function(M,j){var $=C(M[0],M[1],M[2]),W=C(j[0],j[1],j[2]);E($,$),E(W,W);var J=N($,W);return J>1?0:Math.acos(J)};var C=t(73),E=t(74),N=t(75)},function(A,O){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t[2]=C[2],t}},function(A,O){A.exports=function(t,C,E,N){return t[0]=C,t[1]=E,t[2]=N,t}},function(A,O,t){A.exports=function(E,N){var M=E[0],j=E[1],$=E[2],W=N[0],J=N[1],z=N[2];return Math.abs(M-W)<=C*Math.max(1,Math.abs(M),Math.abs(W))&&Math.abs(j-J)<=C*Math.max(1,Math.abs(j),Math.abs(J))&&Math.abs($-z)<=C*Math.max(1,Math.abs($),Math.abs(z))};var C=t(71)},function(A,O){A.exports=function(t,C){return t[0]===C[0]&&t[1]===C[1]&&t[2]===C[2]}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]+E[0],t[1]=C[1]+E[1],t[2]=C[2]+E[2],t}},function(A,O,t){A.exports=t(76)},function(A,O,t){A.exports=t(77)},function(A,O,t){A.exports=t(78)},function(A,O){A.exports=function(t,C,E){return t[0]=Math.min(C[0],E[0]),t[1]=Math.min(C[1],E[1]),t[2]=Math.min(C[2],E[2]),t}},function(A,O){A.exports=function(t,C,E){return t[0]=Math.max(C[0],E[0]),t[1]=Math.max(C[1],E[1]),t[2]=Math.max(C[2],E[2]),t}},function(A,O){A.exports=function(t,C){return t[0]=Math.floor(C[0]),t[1]=Math.floor(C[1]),t[2]=Math.floor(C[2]),t}},function(A,O){A.exports=function(t,C){return t[0]=Math.ceil(C[0]),t[1]=Math.ceil(C[1]),t[2]=Math.ceil(C[2]),t}},function(A,O){A.exports=function(t,C){return t[0]=Math.round(C[0]),t[1]=Math.round(C[1]),t[2]=Math.round(C[2]),t}},function(A,O){A.exports=function(t,C,E){return t[0]=C[0]*E,t[1]=C[1]*E,t[2]=C[2]*E,t}},function(A,O){A.exports=function(t,C,E,N){return t[0]=C[0]+E[0]*N,t[1]=C[1]+E[1]*N,t[2]=C[2]+E[2]*N,t}},function(A,O,t){A.exports=t(79)},function(A,O,t){A.exports=t(80)},function(A,O,t){A.exports=t(81)},function(A,O,t){A.exports=t(82)},function(A,O){A.exports=function(t,C){return t[0]=-C[0],t[1]=-C[1],t[2]=-C[2],t}},function(A,O){A.exports=function(t,C){return t[0]=1/C[0],t[1]=1/C[1],t[2]=1/C[2],t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2],$=E[0],W=E[1],J=E[2];return t[0]=M*J-j*W,t[1]=j*$-N*J,t[2]=N*W-M*$,t}},function(A,O){A.exports=function(t,C,E,N){var M=C[0],j=C[1],$=C[2];return t[0]=M+N*(E[0]-M),t[1]=j+N*(E[1]-j),t[2]=$+N*(E[2]-$),t}},function(A,O){A.exports=function(t,C){C=C||1;var E=2*Math.random()*Math.PI,N=2*Math.random()-1,M=Math.sqrt(1-N*N)*C;return t[0]=Math.cos(E)*M,t[1]=Math.sin(E)*M,t[2]=N*C,t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2],$=E[3]*N+E[7]*M+E[11]*j+E[15];return t[0]=(E[0]*N+E[4]*M+E[8]*j+E[12])/($=$||1),t[1]=(E[1]*N+E[5]*M+E[9]*j+E[13])/$,t[2]=(E[2]*N+E[6]*M+E[10]*j+E[14])/$,t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2];return t[0]=N*E[0]+M*E[3]+j*E[6],t[1]=N*E[1]+M*E[4]+j*E[7],t[2]=N*E[2]+M*E[5]+j*E[8],t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2],$=E[0],W=E[1],J=E[2],z=E[3],ne=z*N+W*j-J*M,ce=z*M+J*N-$*j,Ye=z*j+$*M-W*N,$e=-$*N-W*M-J*j;return t[0]=ne*z+$e*-$+ce*-J-Ye*-W,t[1]=ce*z+$e*-W+Ye*-$-ne*-J,t[2]=Ye*z+$e*-J+ne*-W-ce*-$,t}},function(A,O){A.exports=function(t,C,E,N){var M=E[1],j=E[2],$=C[1]-M,W=C[2]-j,J=Math.sin(N),z=Math.cos(N);return t[0]=C[0],t[1]=M+$*z-W*J,t[2]=j+$*J+W*z,t}},function(A,O){A.exports=function(t,C,E,N){var M=E[0],j=E[2],$=C[0]-M,W=C[2]-j,J=Math.sin(N),z=Math.cos(N);return t[0]=M+W*J+$*z,t[1]=C[1],t[2]=j+W*z-$*J,t}},function(A,O){A.exports=function(t,C,E,N){var M=E[0],j=E[1],$=C[0]-M,W=C[1]-j,J=Math.sin(N),z=Math.cos(N);return t[0]=M+$*z-W*J,t[1]=j+$*J+W*z,t[2]=C[2],t}},function(A,O,t){A.exports=function(E,N,M,j,$,W){var J,z;for(N||(N=3),M||(M=0),z=j?Math.min(j*N+M,E.length):E.length,J=M;J<z;J+=N)C[0]=E[J],C[1]=E[J+1],C[2]=E[J+2],$(C,C,W),E[J]=C[0],E[J+1]=C[1],E[J+2]=C[2];return E};var C=t(72)()},function(A,O,t){var C=function(E){"use strict";var N=Object.prototype,M=N.hasOwnProperty,j="function"==typeof Symbol?Symbol:{},$=j.iterator||"@@iterator",W=j.asyncIterator||"@@asyncIterator",J=j.toStringTag||"@@toStringTag";function z(oe,Q,ge,Me){var pn,Tt,mt,At,gt=Object.create((Q&&Q.prototype instanceof Ye?Q:Ye).prototype),St=new Ie(Me||[]);return gt._invoke=(pn=oe,Tt=ge,mt=St,At="suspendedStart",function(an,er){if("executing"===At)throw new Error("Generator is already running");if("completed"===At){if("throw"===an)throw er;return{value:void 0,done:!0}}for(mt.method=an,mt.arg=er;;){var kn=mt.delegate;if(kn){var yr=qe(kn,mt);if(yr){if(yr===ce)continue;return yr}}if("next"===mt.method)mt.sent=mt._sent=mt.arg;else if("throw"===mt.method){if("suspendedStart"===At)throw At="completed",mt.arg;mt.dispatchException(mt.arg)}else"return"===mt.method&&mt.abrupt("return",mt.arg);At="executing";var nr=ne(pn,Tt,mt);if("normal"===nr.type){if(At=mt.done?"completed":"suspendedYield",nr.arg===ce)continue;return{value:nr.arg,done:mt.done}}"throw"===nr.type&&(At="completed",mt.method="throw",mt.arg=nr.arg)}}),gt}function ne(oe,Q,ge){try{return{type:"normal",arg:oe.call(Q,ge)}}catch(Me){return{type:"throw",arg:Me}}}E.wrap=z;var ce={};function Ye(){}function $e(){}function Ge(){}var ut={};ut[$]=function(){return this};var ue=Object.getPrototypeOf,Oe=ue&&ue(ue(it([])));Oe&&Oe!==N&&M.call(Oe,$)&&(ut=Oe);var De=Ge.prototype=Ye.prototype=Object.create(ut);function rt(oe){["next","throw","return"].forEach(function(Q){oe[Q]=function(ge){return this._invoke(Q,ge)}})}function Be(oe,Q){var ge;this._invoke=function(Me,de){function gt(){return new Q(function(St,pn){!function Tt(mt,At,an,er){var kn=ne(oe[mt],oe,At);if("throw"!==kn.type){var yr=kn.arg,nr=yr.value;return nr&&"object"==typeof nr&&M.call(nr,"__await")?Q.resolve(nr.__await).then(function(Qn){Tt("next",Qn,an,er)},function(Qn){Tt("throw",Qn,an,er)}):Q.resolve(nr).then(function(Qn){yr.value=Qn,an(yr)},function(Qn){return Tt("throw",Qn,an,er)})}er(kn.arg)}(Me,de,St,pn)})}return ge=ge?ge.then(gt,gt):gt()}}function qe(oe,Q){var ge=oe.iterator[Q.method];if(void 0===ge){if(Q.delegate=null,"throw"===Q.method){if(oe.iterator.return&&(Q.method="return",Q.arg=void 0,qe(oe,Q),"throw"===Q.method))return ce;Q.method="throw",Q.arg=new TypeError("The iterator does not provide a 'throw' method")}return ce}var Me=ne(ge,oe.iterator,Q.arg);if("throw"===Me.type)return Q.method="throw",Q.arg=Me.arg,Q.delegate=null,ce;var de=Me.arg;return de?de.done?(Q[oe.resultName]=de.value,Q.next=oe.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=void 0),Q.delegate=null,ce):de:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,ce)}function we(oe){var Q={tryLoc:oe[0]};1 in oe&&(Q.catchLoc=oe[1]),2 in oe&&(Q.finallyLoc=oe[2],Q.afterLoc=oe[3]),this.tryEntries.push(Q)}function He(oe){var Q=oe.completion||{};Q.type="normal",delete Q.arg,oe.completion=Q}function Ie(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(we,this),this.reset(!0)}function it(oe){if(oe){var Q=oe[$];if(Q)return Q.call(oe);if("function"==typeof oe.next)return oe;if(!isNaN(oe.length)){var ge=-1,Me=function de(){for(;++ge<oe.length;)if(M.call(oe,ge))return de.value=oe[ge],de.done=!1,de;return de.value=void 0,de.done=!0,de};return Me.next=Me}}return{next:se}}function se(){return{value:void 0,done:!0}}return $e.prototype=De.constructor=Ge,Ge.constructor=$e,Ge[J]=$e.displayName="GeneratorFunction",E.isGeneratorFunction=function(oe){var Q="function"==typeof oe&&oe.constructor;return!!Q&&(Q===$e||"GeneratorFunction"===(Q.displayName||Q.name))},E.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,Ge):(oe.__proto__=Ge,J in oe||(oe[J]="GeneratorFunction")),oe.prototype=Object.create(De),oe},E.awrap=function(oe){return{__await:oe}},rt(Be.prototype),Be.prototype[W]=function(){return this},E.AsyncIterator=Be,E.async=function(oe,Q,ge,Me,de){void 0===de&&(de=Promise);var gt=new Be(z(oe,Q,ge,Me),de);return E.isGeneratorFunction(Q)?gt:gt.next().then(function(St){return St.done?St.value:gt.next()})},rt(De),De[J]="Generator",De[$]=function(){return this},De.toString=function(){return"[object Generator]"},E.keys=function(oe){var Q=[];for(var ge in oe)Q.push(ge);return Q.reverse(),function Me(){for(;Q.length;){var de=Q.pop();if(de in oe)return Me.value=de,Me.done=!1,Me}return Me.done=!0,Me}},E.values=it,Ie.prototype={constructor:Ie,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(He),!oe)for(var Q in this)"t"===Q.charAt(0)&&M.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if("throw"===oe.type)throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var Q=this;function ge(Tt,mt){return gt.type="throw",gt.arg=oe,Q.next=Tt,mt&&(Q.method="next",Q.arg=void 0),!!mt}for(var Me=this.tryEntries.length-1;Me>=0;--Me){var de=this.tryEntries[Me],gt=de.completion;if("root"===de.tryLoc)return ge("end");if(de.tryLoc<=this.prev){var St=M.call(de,"catchLoc"),pn=M.call(de,"finallyLoc");if(St&&pn){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}else if(St){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0)}else{if(!pn)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}}}},abrupt:function(oe,Q){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Me=this.tryEntries[ge];if(Me.tryLoc<=this.prev&&M.call(Me,"finallyLoc")&&this.prev<Me.finallyLoc){var de=Me;break}}de&&("break"===oe||"continue"===oe)&&de.tryLoc<=Q&&Q<=de.finallyLoc&&(de=null);var gt=de?de.completion:{};return gt.type=oe,gt.arg=Q,de?(this.method="next",this.next=de.finallyLoc,ce):this.complete(gt)},complete:function(oe,Q){if("throw"===oe.type)throw oe.arg;return"break"===oe.type||"continue"===oe.type?this.next=oe.arg:"return"===oe.type?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):"normal"===oe.type&&Q&&(this.next=Q),ce},finish:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.finallyLoc===oe)return this.complete(ge.completion,ge.afterLoc),He(ge),ce}},catch:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.tryLoc===oe){var Me=ge.completion;if("throw"===Me.type){var de=Me.arg;He(ge)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(oe,Q,ge){return this.delegate={iterator:it(oe),resultName:Q,nextLoc:ge},"next"===this.method&&(this.arg=void 0),ce}},E}(A.exports);try{regeneratorRuntime=C}catch(E){Function("r","regeneratorRuntime = r")(C)}},function(A,O,t){var C=t(2);A.exports=function(E,N){for(;!Object.prototype.hasOwnProperty.call(E,N)&&null!==(E=C(E)););return E},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(61);A.exports=function(E){if(Array.isArray(E))return C(E)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(230),E=t(240);A.exports=function(N,M){return C(N,M,function(j,$){return E(N,$)})}},function(A,O,t){var C=t(231),E=t(239),N=t(32);A.exports=function(M,j,$){for(var W=-1,J=j.length,z={};++W<J;){var ne=j[W],ce=C(M,ne);$(ce,ne)&&E(z,N(ne,M),ce)}return z}},function(A,O,t){var C=t(32),E=t(43);A.exports=function(N,M){for(var j=0,$=(M=C(M,N)).length;null!=N&&j<$;)N=N[E(M[j++])];return j&&j==$?N:void 0}},function(A,O,t){var C=t(15),E=t(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;A.exports=function(j,$){if(C(j))return!1;var W=typeof j;return!("number"!=W&&"symbol"!=W&&"boolean"!=W&&null!=j&&!E(j))||M.test(j)||!N.test(j)||null!=$&&j in Object($)}},function(A,O,t){var C=t(234),E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,M=C(function(j){var $=[];return 46===j.charCodeAt(0)&&$.push(""),j.replace(E,function(W,J,z,ne){$.push(z?ne.replace(N,"$1"):J||W)}),$});A.exports=M},function(A,O,t){var C=t(235);A.exports=function(E){var N=C(E,function(j){return 500===M.size&&M.clear(),j}),M=N.cache;return N}},function(A,O,t){var C=t(47);function E(N,M){if("function"!=typeof N||null!=M&&"function"!=typeof M)throw new TypeError("Expected a function");var j=function(){var $=arguments,W=M?M.apply(this,$):$[0],J=j.cache;if(J.has(W))return J.get(W);var z=N.apply(this,$);return j.cache=J.set(W,z)||J,z};return j.cache=new(E.Cache||C),j}E.Cache=C,A.exports=E},function(A,O,t){var C=t(237);A.exports=function(E){return null==E?"":C(E)}},function(A,O,t){var C=t(27),E=t(238),N=t(15),M=t(42),j=C?C.prototype:void 0,$=j?j.toString:void 0;A.exports=function W(J){if("string"==typeof J)return J;if(N(J))return E(J,W)+"";if(M(J))return $?$.call(J):"";var z=J+"";return"0"==z&&1/J==-1/0?"-0":z}},function(A,O){A.exports=function(t,C){for(var E=-1,N=null==t?0:t.length,M=Array(N);++E<N;)M[E]=C(t[E],E,t);return M}},function(A,O,t){var C=t(55),E=t(32),N=t(31),M=t(14),j=t(43);A.exports=function($,W,J,z){if(!M($))return $;for(var ne=-1,ce=(W=E(W,$)).length,Ye=ce-1,$e=$;null!=$e&&++ne<ce;){var Ge=j(W[ne]),ut=J;if("__proto__"===Ge||"constructor"===Ge||"prototype"===Ge)return $;if(ne!=Ye){var ue=$e[Ge];void 0===(ut=z?z(ue,Ge,$e):void 0)&&(ut=M(ue)?ue:N(W[ne+1])?[]:{})}C($e,Ge,ut),$e=$e[Ge]}return $}},function(A,O,t){var C=t(241),E=t(242);A.exports=function(N,M){return null!=N&&E(N,M,C)}},function(A,O){A.exports=function(t,C){return null!=t&&C in Object(t)}},function(A,O,t){var C=t(32),E=t(30),N=t(15),M=t(31),j=t(40),$=t(43);A.exports=function(W,J,z){for(var ne=-1,ce=(J=C(J,W)).length,Ye=!1;++ne<ce;){var $e=$(J[ne]);if(!(Ye=null!=W&&z(W,$e)))break;W=W[$e]}return Ye||++ne!=ce?Ye:!!(ce=null==W?0:W.length)&&j(ce)&&M($e,ce)&&(N(W)||E(W))}},function(A,O,t){var C=t(244),E=t(58),N=t(59);A.exports=function(M){return N(E(M,void 0,C),M+"")}},function(A,O,t){var C=t(245);A.exports=function(E){return null!=E&&E.length?C(E,1):[]}},function(A,O,t){var C=t(246),E=t(247);A.exports=function N(M,j,$,W,J){var z=-1,ne=M.length;for($||($=E),J||(J=[]);++z<ne;){var ce=M[z];j>0&&$(ce)?j>1?N(ce,j-1,$,W,J):C(J,ce):W||(J[J.length]=ce)}return J}},function(A,O){A.exports=function(t,C){for(var E=-1,N=C.length,M=t.length;++E<N;)t[M+E]=C[E];return t}},function(A,O,t){var C=t(27),E=t(30),N=t(15),M=C?C.isConcatSpreadable:void 0;A.exports=function(j){return N(j)||E(j)||!!(M&&j&&j[M])}},function(A,O){A.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O,t){var C=t(41),E=t(250);function N(M,j,$){return E()?(A.exports=N=Reflect.construct,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=N=function(W,J,z){var ne=[null];ne.push.apply(ne,J);var ce=new(Function.bind.apply(W,ne));return z&&C(ce,z.prototype),ce},A.exports.__esModule=!0,A.exports.default=A.exports),N.apply(null,arguments)}A.exports=N,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,O){A.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(A,O){A.exports=function(t,C){if(t===C){var E=C[1];t[1]=C[2],t[2]=E}else t[0]=C[0],t[1]=C[2],t[2]=C[1],t[3]=C[3];return t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2],$=C[3],W=E[0],J=E[1],z=E[2],ne=E[3];return t[0]=N*W+j*J,t[1]=M*W+$*J,t[2]=N*z+j*ne,t[3]=M*z+$*ne,t}},function(A,O){A.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,O){A.exports=function(t,C){var E=C[0];return t[0]=C[3],t[1]=-C[1],t[2]=-C[2],t[3]=E,t}},function(A,O){A.exports=function(t,C,E){var N=C[0],M=C[1],j=C[2],$=C[3],W=Math.sin(E),J=Math.cos(E);return t[0]=N*J+j*W,t[1]=M*J+$*W,t[2]=N*-W+j*J,t[3]=M*-W+$*J,t}},function(A,O){A.exports=function(t,C){var E=C[0],N=C[1],M=C[2],j=C[3],$=E*j-M*N;return $?(t[0]=j*($=1/$),t[1]=-N*$,t[2]=-M*$,t[3]=E*$,t):null}},function(A,O){A.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,O){A.exports=function(t,C,E){var M=C[1],j=C[2],$=C[3],W=E[0],J=E[1];return t[0]=C[0]*W,t[1]=M*W,t[2]=j*J,t[3]=$*J,t}},function(A,O){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=C[3],t}},function(A,O){A.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(A,O){A.exports=function(t,C,E,N){return t[2]=N[2]/N[0],E[0]=N[0],E[1]=N[1],E[3]=N[3]-t[2]*E[1],[t,C,E]}},function(A,O,t){"use strict";t.r(O),t.d(O,"BarcodeDecoder",function(){return tr}),t.d(O,"Readers",function(){return C}),t.d(O,"CameraAccess",function(){return Nn}),t.d(O,"ImageDebug",function(){return Ye.a}),t.d(O,"ImageWrapper",function(){return W.a}),t.d(O,"ResultCollector",function(){return br});var C={};t.r(C),t.d(C,"BarcodeReader",function(){return Q}),t.d(C,"TwoOfFiveReader",function(){return pn}),t.d(C,"NewCodabarReader",function(){return er}),t.d(C,"Code128Reader",function(){return yr}),t.d(C,"Code32Reader",function(){return gn}),t.d(C,"Code39Reader",function(){return Fr}),t.d(C,"Code39VINReader",function(){return Re}),t.d(C,"Code93Reader",function(){return yt}),t.d(C,"EAN2Reader",function(){return Ht}),t.d(C,"EAN5Reader",function(){return Dt}),t.d(C,"EAN8Reader",function(){return Vt}),t.d(C,"EANReader",function(){return Cn}),t.d(C,"I2of5Reader",function(){return An}),t.d(C,"UPCEReader",function(){return pe}),t.d(C,"UPCReader",function(){return Ze});var E,ae,N=t(20),M=t.n(N),j=t(17),$=t.n(j),W=(t(152),t(11)),J=t(12),z=t.n(J),ne=t(8),ce=t.n(ne),Ye=t(16),$e=t(3),Ge=t.n($e),ut=t(4),ue=t.n(ut),Oe=t(1),De=t.n(Oe),rt=t(6),Be=t.n(rt),qe=t(5),we=t.n(qe),He=t(2),Ie=t.n(He),it=t(0),se=t.n(it),oe=t(9);(ae=E||(E={}))[ae.Forward=1]="Forward",ae[ae.Reverse=-1]="Reverse";var Q=function(){function ae(be,re){Ge()(this,ae),se()(this,"_row",[]),se()(this,"config",{}),se()(this,"supplements",[]),se()(this,"SINGLE_CODE_ERROR",0),se()(this,"FORMAT","unknown"),se()(this,"CONFIG_KEYS",{}),this._row=[],this.config=be||{},re&&(this.supplements=re)}return ue()(ae,[{key:"_nextUnset",value:function(be){for(var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P<be.length;P++)if(!be[P])return P;return be.length}},{key:"_matchPattern",value:function(be,re){for(var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,B=0,G=0,Z=0,le=0,_e=0,Ee=0,ze=0;ze<be.length;ze++)Z+=be[ze],le+=re[ze];if(Z<le)return Number.MAX_VALUE;P*=_e=Z/le;for(var Y=0;Y<be.length;Y++){if(Ee=re[Y]*_e,(G=Math.abs(be[Y]-Ee)/Ee)>P)return Number.MAX_VALUE;B+=G}return B/le}},{key:"_nextSet",value:function(be){for(var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P<be.length;P++)if(be[P])return P;return be.length}},{key:"_correctBars",value:function(be,re,P){for(var B=P.length,G=0;B--;)(G=be[P[B]]*(1-(1-re)/2))>1&&(be[P[B]]=G)}},{key:"decodePattern",value:function(be){this._row=be;var re=this.decode();return null===re?(this._row.reverse(),(re=this.decode())&&(re.direction=E.Reverse,re.start=this._row.length-re.start,re.end=this._row.length-re.end)):re.direction=E.Forward,re&&(re.format=this.FORMAT),re}},{key:"_matchRange",value:function(be,re,P){var B;for(B=be=be<0?0:be;B<re;B++)if(this._row[B]!==P)return!1;return!0}},{key:"_fillCounters",value:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,P=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],B=[],G=0;B[G]=0;for(var Z=be;Z<re;Z++)this._row[Z]^(P?1:0)?B[G]++:(B[++G]=1,P=!P);return B}},{key:"_toCounters",value:function(be,re){var P=re.length,B=this._row.length,G=!this._row[be],Z=0;oe.a.init(re,0);for(var le=be;le<B;le++)if(this._row[le]^(G?1:0))re[Z]++;else{if(++Z===P)break;re[Z]=1,G=!G}return re}},{key:"decodeImage",value:function(be){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),ae}();var Me=[3,1,3,1,1,1],de=[3,1,1,1,3],gt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],St=Me.reduce(function(ae,be){return ae+be},0),pn=function(ae){Be()(re,ae);var be=function ge(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"barSpaceRatio",[1,1]),se()(De()(P),"FORMAT","2of5"),se()(De()(P),"SINGLE_CODE_ERROR",.78),se()(De()(P),"AVG_CODE_ERROR",.3),P}return ue()(re,[{key:"_findPattern",value:function(P,B){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],le=[],_e=0,fe={error:Number.MAX_VALUE,code:-1,start:0,end:0},Ee=0,ze=0,Y=this.AVG_CODE_ERROR;B||(B=this._nextSet(this._row));for(var Te=0;Te<P.length;Te++)le[Te]=0;for(var Ae=B;Ae<this._row.length;Ae++)if(this._row[Ae]^(G?1:0))le[_e]++;else{if(_e===le.length-1){Ee=0;for(var at=0;at<le.length;at++)Ee+=le[at];if((ze=this._matchPattern(le,P))<Y)return fe.error=ze,fe.start=Ae-Ee,fe.end=Ae,fe;if(!Z)return null;for(var qt=0;qt<le.length-2;qt++)le[qt]=le[qt+2];le[le.length-2]=0,le[le.length-1]=0,_e--}else _e++;le[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var P=null,B=this._nextSet(this._row),G=1,Z=0;!P;){if(!(P=this._findPattern(Me,B,!1,!0)))return null;if(G=Math.floor((P.end-P.start)/St),(Z=P.start-5*G)>=0&&this._matchRange(Z,P.start,0))return P;B=P.end,P=null}return P}},{key:"_verifyTrailingWhitespace",value:function(P){var B=P.end+(P.end-P.start)/2;return B<this._row.length&&this._matchRange(P.end,B,0)?P:null}},{key:"_findEnd",value:function(){this._row.reverse();var P=this._nextSet(this._row),B=this._findPattern(de,P,!1,!0);if(this._row.reverse(),null===B)return null;var G=B.start;return B.start=this._row.length-B.end,B.end=this._row.length-G,null!==B?this._verifyTrailingWhitespace(B):null}},{key:"_verifyCounterLength",value:function(P){return P.length%10==0}},{key:"_decodeCode",value:function(P){for(var B=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<gt.length;Z++){var le=this._matchPattern(P,gt[Z]);le<G.error&&(G.code=Z,G.error=le)}return G.error<B?G:null}},{key:"_decodePayload",value:function(P,B,G){for(var Z=0,le=P.length,_e=[0,0,0,0,0],fe=null;Z<le;){for(var Ee=0;Ee<5;Ee++)_e[Ee]=P[Z]*this.barSpaceRatio[0],Z+=2;if(!(fe=this._decodeCode(_e)))return null;B.push("".concat(fe.code)),G.push(fe)}return fe}},{key:"decode",value:function(P,B){var G=this._findStart();if(!G)return null;var Z=this._findEnd();if(!Z)return null;var le=this._fillCounters(G.end,Z.start,!1);if(!this._verifyCounterLength(le))return null;var _e=[];_e.push(G);var fe=[];return this._decodePayload(le,fe,_e)?fe.length<5?null:(_e.push(Z),{code:fe.join(""),start:G.start,end:Z.end,startInfo:G,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);var mt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],At=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],an=[26,41,11,14],er=function(ae){Be()(re,ae);var be=function Tt(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"_counters",[]),se()(De()(P),"FORMAT","codabar"),P}return ue()(re,[{key:"_computeAlternatingThreshold",value:function(P,B){for(var G=Number.MAX_VALUE,Z=0,le=0,_e=P;_e<B;_e+=2)(le=this._counters[_e])>Z&&(Z=le),le<G&&(G=le);return(G+Z)/2|0}},{key:"_toPattern",value:function(P){var B=P+7;if(B>this._counters.length)return-1;for(var G=this._computeAlternatingThreshold(P,B),Z=this._computeAlternatingThreshold(P+1,B),le=64,fe=0,Ee=0;Ee<7;Ee++)this._counters[P+Ee]>(0==(1&Ee)?G:Z)&&(fe|=le),le>>=1;return fe}},{key:"_isStartEnd",value:function(P){for(var B=0;B<an.length;B++)if(an[B]===P)return!0;return!1}},{key:"_sumCounters",value:function(P,B){for(var G=0,Z=P;Z<B;Z++)G+=this._counters[Z];return G}},{key:"_findStart",value:function(){for(var P=this._nextUnset(this._row),B=1;B<this._counters.length;B++){var G=this._toPattern(B);if(-1!==G&&this._isStartEnd(G))return{start:P+=this._sumCounters(0,B),end:P+this._sumCounters(B,B+8),startCounter:B,endCounter:B+8}}return null}},{key:"_patternToChar",value:function(P){for(var B=0;B<At.length;B++)if(At[B]===P)return String.fromCharCode(mt[B]);return null}},{key:"_calculatePatternLength",value:function(P){for(var B=0,G=P;G<P+7;G++)B+=this._counters[G];return B}},{key:"_verifyWhitespace",value:function(P,B){return(P-1<=0||this._counters[P-1]>=this._calculatePatternLength(P)/2)&&(B+8>=this._counters.length||this._counters[B+7]>=this._calculatePatternLength(B)/2)}},{key:"_charToPattern",value:function(P){for(var B=P.charCodeAt(0),G=0;G<mt.length;G++)if(mt[G]===B)return At[G];return 0}},{key:"_thresholdResultPattern",value:function(P,B){for(var G,Z={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},le=B,_e=0;_e<P.length;_e++){G=this._charToPattern(P[_e]);for(var fe=6;fe>=0;fe--){var Ee=2==(1&fe)?Z.bar:Z.space,ze=1==(1&G)?Ee.wide:Ee.narrow;ze.size+=this._counters[le+fe],ze.counts++,G>>=1}le+=8}return["space","bar"].forEach(function(Y){var Te=Z[Y];Te.wide.min=Math.floor((Te.narrow.size/Te.narrow.counts+Te.wide.size/Te.wide.counts)/2),Te.narrow.max=Math.ceil(Te.wide.min),Te.wide.max=Math.ceil((2*Te.wide.size+1.5)/Te.wide.counts)}),Z}},{key:"_validateResult",value:function(P,B){for(var G,Z=this._thresholdResultPattern(P,B),le=B,_e=0;_e<P.length;_e++){G=this._charToPattern(P[_e]);for(var fe=6;fe>=0;fe--){var Ee=0==(1&fe)?Z.bar:Z.space,ze=1==(1&G)?Ee.wide:Ee.narrow,Y=this._counters[le+fe];if(Y<ze.min||Y>ze.max)return!1;G>>=1}le+=8}return!0}},{key:"decode",value:function(P,B){if(this._counters=this._fillCounters(),!(B=this._findStart()))return null;var G,Z=B.startCounter,le=[];do{if((G=this._toPattern(Z))<0)return null;var _e=this._patternToChar(G);if(null===_e)return null;if(le.push(_e),Z+=8,le.length>1&&this._isStartEnd(G))break}while(Z<this._counters.length);if(le.length-2<4||!this._isStartEnd(G)||!this._verifyWhitespace(B.startCounter,Z-8)||!this._validateResult(le,B.startCounter))return null;var fe=B.start+this._sumCounters(B.startCounter,(Z=Z>this._counters.length?this._counters.length:Z)-8);return{code:le.join(""),start:B.start,end:fe,startInfo:B,decodedCodes:le,format:this.FORMAT}}}]),re}(Q);var yr=function(ae){Be()(re,ae);var be=function kn(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"CODE_SHIFT",98),se()(De()(P),"CODE_C",99),se()(De()(P),"CODE_B",100),se()(De()(P),"CODE_A",101),se()(De()(P),"START_CODE_A",103),se()(De()(P),"START_CODE_B",104),se()(De()(P),"START_CODE_C",105),se()(De()(P),"STOP_CODE",106),se()(De()(P),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),se()(De()(P),"SINGLE_CODE_ERROR",.64),se()(De()(P),"AVG_CODE_ERROR",.3),se()(De()(P),"FORMAT","code_128"),se()(De()(P),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),P}return ue()(re,[{key:"_decodeCode",value:function(P,B){for(var G={error:Number.MAX_VALUE,code:-1,start:P,end:P,correction:{bar:1,space:1}},Z=[0,0,0,0,0,0],_e=!this._row[P],fe=0,Ee=P;Ee<this._row.length;Ee++)if(this._row[Ee]^(_e?1:0))Z[fe]++;else{if(fe===Z.length-1){B&&this._correct(Z,B);for(var ze=0;ze<this.CODE_PATTERN.length;ze++){var Y=this._matchPattern(Z,this.CODE_PATTERN[ze]);Y<G.error&&(G.code=ze,G.error=Y)}return G.end=Ee,-1===G.code||G.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[G.code]&&(G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],Z,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],Z,this.MODULE_INDICES.space)),G)}Z[++fe]=1,_e=!_e}return null}},{key:"_correct",value:function(P,B){this._correctBars(P,B.bar,this.MODULE_INDICES.bar),this._correctBars(P,B.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var P=[0,0,0,0,0,0],B=this._nextSet(this._row),G={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},Z=!1,le=0,_e=B;_e<this._row.length;_e++)if(this._row[_e]^(Z?1:0))P[le]++;else{if(le===P.length-1){for(var fe=P.reduce(function(Te,Ae){return Te+Ae},0),Ee=this.START_CODE_A;Ee<=this.START_CODE_C;Ee++){var ze=this._matchPattern(P,this.CODE_PATTERN[Ee]);ze<G.error&&(G.code=Ee,G.error=ze)}if(G.error<this.AVG_CODE_ERROR)return G.start=_e-fe,G.end=_e,G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],P,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],P,this.MODULE_INDICES.space),G;for(var Y=0;Y<4;Y++)P[Y]=P[Y+2];P[4]=0,P[5]=0,le--}else le++;P[le]=1,Z=!Z}return null}},{key:"decode",value:function(P,B){var G=this,Z=this._findStart();if(null===Z)return null;var le={code:Z.code,start:Z.start,end:Z.end,correction:{bar:Z.correction.bar,space:Z.correction.space}},_e=[];_e.push(le);for(var fe=le.code,Ee=function(sn){switch(sn){case G.START_CODE_A:return G.CODE_A;case G.START_CODE_B:return G.CODE_B;case G.START_CODE_C:return G.CODE_C;default:return null}}(le.code),ze=!1,Y=!1,Te=Y,Ae=!0,at=0,qt=[],dn=[];!ze;){if(Te=Y,Y=!1,null!==(le=this._decodeCode(le.end,le.correction)))switch(le.code!==this.STOP_CODE&&(Ae=!0),le.code!==this.STOP_CODE&&(qt.push(le.code),fe+=++at*le.code),_e.push(le),Ee){case this.CODE_A:if(le.code<64)dn.push(String.fromCharCode(32+le.code));else if(le.code<96)dn.push(String.fromCharCode(le.code-64));else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_SHIFT:Y=!0,Ee=this.CODE_B;break;case this.CODE_B:Ee=this.CODE_B;break;case this.CODE_C:Ee=this.CODE_C;break;case this.STOP_CODE:ze=!0}break;case this.CODE_B:if(le.code<96)dn.push(String.fromCharCode(32+le.code));else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_SHIFT:Y=!0,Ee=this.CODE_A;break;case this.CODE_A:Ee=this.CODE_A;break;case this.CODE_C:Ee=this.CODE_C;break;case this.STOP_CODE:ze=!0}break;case this.CODE_C:if(le.code<100)dn.push(le.code<10?"0"+le.code:le.code);else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_A:Ee=this.CODE_A;break;case this.CODE_B:Ee=this.CODE_B;break;case this.STOP_CODE:ze=!0}}else ze=!0;Te&&(Ee=Ee===this.CODE_A?this.CODE_B:this.CODE_A)}return null===le?null:(le.end=this._nextUnset(this._row,le.end),this._verifyTrailingWhitespace(le)?(fe-=at*qt[qt.length-1])%103!==qt[qt.length-1]?null:dn.length?(Ae&&dn.splice(dn.length-1,1),{code:dn.join(""),start:Z.start,end:le.end,codeset:Ee,startInfo:Z,decodedCodes:_e,endInfo:le,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(P){var B;return(B=P.end+(P.end-P.start)/2)<this._row.length&&this._matchRange(P.end,B,0)?P:null}},{key:"calculateCorrection",value:function(P,B,G){for(var Z=G.length,le=0,_e=0;Z--;)_e+=P[G[Z]],le+=B[G[Z]];return _e/le}}]),re}(Q),nr=t(13),Qn=t.n(nr),Hr=t(33),mr=t.n(Hr);var Ri=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(ae){return ae.charCodeAt(0)})),bi=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Fr=function(ae){Be()(re,ae);var be=function Ar(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","code_39"),P}return ue()(re,[{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),B=P,G=new Uint16Array([0,0,0,0,0,0,0,0,0]),Z=0,le=!1,_e=P;_e<this._row.length;_e++)if(this._row[_e]^(le?1:0))G[Z]++;else{if(Z===G.length-1){if(148===this._toPattern(G)){var fe=Math.floor(Math.max(0,B-(_e-B)/4));if(this._matchRange(fe,B,0))return{start:B,end:_e}}B+=G[0]+G[1];for(var Ee=0;Ee<7;Ee++)G[Ee]=G[Ee+2];G[7]=0,G[8]=0,Z--}else Z++;G[Z]=1,le=!le}return null}},{key:"_toPattern",value:function(P){for(var B=P.length,G=0,Z=B,le=0;Z>3;){G=this._findNextWidth(P,G),Z=0;for(var _e=0,fe=0;fe<B;fe++)P[fe]>G&&(_e|=1<<B-1-fe,Z++,le+=P[fe]);if(3===Z){for(var Ee=0;Ee<B&&Z>0;Ee++)if(P[Ee]>G&&(Z--,2*P[Ee]>=le))return-1;return _e}}return-1}},{key:"_findNextWidth",value:function(P,B){for(var G=Number.MAX_VALUE,Z=0;Z<P.length;Z++)P[Z]<G&&P[Z]>B&&(G=P[Z]);return G}},{key:"_patternToChar",value:function(P){for(var B=0;B<bi.length;B++)if(bi[B]===P)return String.fromCharCode(Ri[B]);return null}},{key:"_verifyTrailingWhitespace",value:function(P,B,G){var Z=oe.a.sum(G);return 3*(B-P-Z)>=Z}},{key:"decode",value:function(){var P=new Uint16Array([0,0,0,0,0,0,0,0,0]),B=[],G=this._findStart();if(!G)return null;var Z,le,_e=this._nextSet(this._row,G.end);do{P=this._toCounters(_e,P);var fe=this._toPattern(P);if(fe<0||null===(Z=this._patternToChar(fe)))return null;B.push(Z),le=_e,_e+=oe.a.sum(P),_e=this._nextSet(this._row,_e)}while("*"!==Z);return B.pop(),B.length&&this._verifyTrailingWhitespace(le,_e,P)?{code:B.join(""),start:G.start,end:_e,startInfo:G,decodedCodes:B,format:this.FORMAT}:null}}]),re}(Q);var wi=/[AEIO]/g,gn=function(ae){Be()(re,ae);var be=function Br(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","code_32_reader"),P}return ue()(re,[{key:"_decodeCode32",value:function(P){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(P))return null;for(var B=0,G=0;G<P.length;G++)B=32*B+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(P[G]);var Z="".concat(B);return Z.length<9&&(Z=("000000000"+Z).slice(-9)),"A"+Z}},{key:"_checkChecksum",value:function(P){return!!P}},{key:"decode",value:function(){var P=Qn()(Ie()(re.prototype),"decode",this).call(this);if(!P)return null;var B=P.code;if(!B||(B=B.replace(wi,""),!this._checkChecksum(B)))return null;var G=this._decodeCode32(B);return G?(P.code=G,P):null}}]),re}(Fr);var Vr=/[IOQ]/g,$r=/[A-Z0-9]{17}/,Re=function(ae){Be()(re,ae);var be=function Pi(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","code_39_vin"),P}return ue()(re,[{key:"_checkChecksum",value:function(P){return!!P}},{key:"decode",value:function(){var P=Qn()(Ie()(re.prototype),"decode",this).call(this);if(!P)return null;var B=P.code;return B&&(B=B.replace(Vr,"")).match($r)&&this._checkChecksum(B)?(P.code=B,P):null}}]),re}(Fr);var ct=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(ae){return ae.charCodeAt(0)})),Xe=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),yt=function(ae){Be()(re,ae);var be=function Qe(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","code_93"),P}return ue()(re,[{key:"_patternToChar",value:function(P){for(var B=0;B<Xe.length;B++)if(Xe[B]===P)return String.fromCharCode(ct[B]);return null}},{key:"_toPattern",value:function(P){for(var B=P.length,G=P.reduce(function(Ee,ze){return Ee+ze},0),Z=0,le=0;le<B;le++){var _e=Math.round(9*P[le]/G);if(_e<1||_e>4)return-1;if(0==(1&le))for(var fe=0;fe<_e;fe++)Z=Z<<1|1;else Z<<=_e}return Z}},{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),B=P,G=new Uint16Array([0,0,0,0,0,0]),Z=0,le=!1,_e=P;_e<this._row.length;_e++)if(this._row[_e]^(le?1:0))G[Z]++;else{if(Z===G.length-1){if(350===this._toPattern(G)){var fe=Math.floor(Math.max(0,B-(_e-B)/4));if(this._matchRange(fe,B,0))return{start:B,end:_e}}B+=G[0]+G[1];for(var Ee=0;Ee<4;Ee++)G[Ee]=G[Ee+2];G[4]=0,G[5]=0,Z--}else Z++;G[Z]=1,le=!le}return null}},{key:"_verifyEnd",value:function(P,B){return!(P===B||!this._row[B])}},{key:"_decodeExtended",value:function(P){for(var B=P.length,G=[],Z=0;Z<B;Z++){var le=P[Z];if(le>="a"&&le<="d"){if(Z>B-2)return null;var _e=P[++Z],fe=_e.charCodeAt(0),Ee=void 0;switch(le){case"a":if(!(_e>="A"&&_e<="Z"))return null;Ee=String.fromCharCode(fe-64);break;case"b":if(_e>="A"&&_e<="E")Ee=String.fromCharCode(fe-38);else if(_e>="F"&&_e<="J")Ee=String.fromCharCode(fe-11);else if(_e>="K"&&_e<="O")Ee=String.fromCharCode(fe+16);else if(_e>="P"&&_e<="S")Ee=String.fromCharCode(fe+43);else{if(!(_e>="T"&&_e<="Z"))return null;Ee=String.fromCharCode(127)}break;case"c":if(_e>="A"&&_e<="O")Ee=String.fromCharCode(fe-32);else{if("Z"!==_e)return null;Ee=":"}break;case"d":if(!(_e>="A"&&_e<="Z"))return null;Ee=String.fromCharCode(fe+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Ee),null}G.push(Ee)}else G.push(le)}return G}},{key:"_matchCheckChar",value:function(P,B,G){var Z=P.slice(0,B),le=Z.length,_e=Z.reduce(function(fe,Ee,ze){return fe+((-1*ze+(le-1))%G+1)*ct.indexOf(Ee.charCodeAt(0))},0);return ct[_e%47]===P[B].charCodeAt(0)}},{key:"_verifyChecksums",value:function(P){return this._matchCheckChar(P,P.length-2,20)&&this._matchCheckChar(P,P.length-1,15)}},{key:"decode",value:function(P,B){if(!(B=this._findStart()))return null;var G,Z,le=new Uint16Array([0,0,0,0,0,0]),_e=[],fe=this._nextSet(this._row,B.end);do{le=this._toCounters(fe,le);var Ee=this._toPattern(le);if(Ee<0||null===(Z=this._patternToChar(Ee)))return null;_e.push(Z),G=fe,fe+=oe.a.sum(le),fe=this._nextSet(this._row,fe)}while("*"!==Z);return _e.pop(),_e.length&&this._verifyEnd(G,fe)&&this._verifyChecksums(_e)?(_e=_e.slice(0,_e.length-2),null===(_e=this._decodeExtended(_e))?null:{code:_e.join(""),start:B.start,end:fe,startInfo:B,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);function kt(ae,be){var re=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);be&&(P=P.filter(function(B){return Object.getOwnPropertyDescriptor(ae,B).enumerable})),re.push.apply(re,P)}return re}function Mt(ae){for(var be=1;be<arguments.length;be++){var re=null!=arguments[be]?arguments[be]:{};be%2?kt(Object(re),!0).forEach(function(P){se()(ae,P,re[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(re)):kt(Object(re)).forEach(function(P){Object.defineProperty(ae,P,Object.getOwnPropertyDescriptor(re,P))})}return ae}var Lt=[1,1,1],mn=[1,1,1,1,1],en=[1,1,2],Qt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Mn=[0,11,13,14,19,25,28,21,22,26],Cn=function(ae){Be()(re,ae);var be=function wt(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(P,B){var G;return Ge()(this,re),G=be.call(this,$()({supplements:[]},P),B),se()(De()(G),"FORMAT","ean_13"),se()(De()(G),"SINGLE_CODE_ERROR",.7),se()(De()(G),"STOP_PATTERN",[1,1,1]),G}return ue()(re,[{key:"_findPattern",value:function(P,B,G,Z){var le=new Array(P.length).fill(0),_e={error:Number.MAX_VALUE,start:0,end:0},fe=0;B||(B=this._nextSet(this._row));for(var Ee=!1,ze=B;ze<this._row.length;ze++)if(this._row[ze]^(G?1:0))le[fe]+=1;else{if(fe===le.length-1){var Y=this._matchPattern(le,P);if(Y<.48&&_e.error&&Y<_e.error)return Ee=!0,_e.error=Y,_e.start=ze-le.reduce(function(Ae,at){return Ae+at},0),_e.end=ze,_e;if(Z){for(var Te=0;Te<le.length-2;Te++)le[Te]=le[Te+2];le[le.length-2]=0,le[le.length-1]=0,fe--}}else fe++;le[fe]=1,G=!G}return Ee?_e:null}},{key:"_decodeCode",value:function(P,B){var G=[0,0,0,0],le={error:Number.MAX_VALUE,code:-1,start:P,end:P},_e=!this._row[P],fe=0;B||(B=Qt.length);for(var Ee=P;Ee<this._row.length;Ee++)if(this._row[Ee]^(_e?1:0))G[fe]++;else{if(fe===G.length-1){for(var ze=0;ze<B;ze++){var Y=this._matchPattern(G,Qt[ze]);le.end=Ee,Y<le.error&&(le.code=ze,le.error=Y)}return le.error>.48?null:le}G[++fe]=1,_e=!_e}return null}},{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),B=null;!B;){if(!(B=this._findPattern(Lt,P,!1,!0)))return null;var G=B.start-(B.end-B.start);if(G>=0&&this._matchRange(G,B.start,0))return B;P=B.end,B=null}return null}},{key:"_calculateFirstDigit",value:function(P){for(var B=0;B<Mn.length;B++)if(P===Mn[B])return B;return null}},{key:"_decodePayload",value:function(P,B,G){for(var Z=Mt({},P),le=0,_e=0;_e<6;_e++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10?(Z.code-=10,le|=1<<5-_e):le|=0<<5-_e,B.push(Z.code),G.push(Z)}var fe=this._calculateFirstDigit(le);if(null===fe)return null;B.unshift(fe);var Ee=this._findPattern(mn,Z.end,!0,!1);if(null===Ee||!Ee.end)return null;G.push(Ee);for(var ze=0;ze<6;ze++){if(!(Ee=this._decodeCode(Ee.end,10)))return null;G.push(Ee),B.push(Ee.code)}return Ee}},{key:"_verifyTrailingWhitespace",value:function(P){var B=P.end+(P.end-P.start);return B<this._row.length&&this._matchRange(P.end,B,0)?P:null}},{key:"_findEnd",value:function(P,B){var G=this._findPattern(this.STOP_PATTERN,P,B,!1);return null!==G?this._verifyTrailingWhitespace(G):null}},{key:"_checksum",value:function(P){for(var B=0,G=P.length-2;G>=0;G-=2)B+=P[G];B*=3;for(var Z=P.length-1;Z>=0;Z-=2)B+=P[Z];return B%10==0}},{key:"_decodeExtensions",value:function(P){var B=this._nextSet(this._row,P),G=this._findPattern(en,B,!1,!1);if(null===G)return null;for(var Z=0;Z<this.supplements.length;Z++)try{var le=this.supplements[Z].decode(this._row,G.end);if(null!==le)return{code:le.code,start:B,startInfo:G,end:le.end,decodedCodes:le.decodedCodes,format:this.supplements[Z].FORMAT}}catch(_e){console.error("* decodeExtensions error in ",this.supplements[Z],": ",_e)}return null}},{key:"decode",value:function(P,B){var G=new Array,Z=new Array,le={},_e=this._findStart();if(!_e)return null;var fe={start:_e.start,end:_e.end};if(Z.push(fe),!(fe=this._decodePayload(fe,G,Z))||!(fe=this._findEnd(fe.end,!1))||(Z.push(fe),!this._checksum(G)))return null;if(this.supplements.length>0){var Ee=this._decodeExtensions(fe.end);if(!Ee||!Ee.decodedCodes)return null;var ze=Ee.decodedCodes[Ee.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:ze.start+((ze.end-ze.start)/2|0),end:ze.end}))return null;le={supplement:Ee,code:G.join("")+Ee.code}}return Mt(Mt({code:G.join(""),start:_e.start,end:fe.end,startInfo:_e,decodedCodes:Z},le),{},{format:this.FORMAT})}}]),re}(Q);var Ht=function(ae){Be()(re,ae);var be=function Wn(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","ean_2"),P}return ue()(re,[{key:"decode",value:function(P,B){P&&(this._row=P);var G=0,Z=B,le=this._row.length,_e=[],fe=[],Ee=null;if(void 0===Z)return null;for(var ze=0;ze<2&&Z<le;ze++){if(!(Ee=this._decodeCode(Z)))return null;fe.push(Ee),_e.push(Ee.code%10),Ee.code>=10&&(G|=1<<1-ze),1!==ze&&(Z=this._nextSet(this._row,Ee.end),Z=this._nextUnset(this._row,Z))}if(2!==_e.length||parseInt(_e.join(""))%4!==G)return null;var Y=this._findStart();return{code:_e.join(""),decodedCodes:fe,end:Ee.end,format:this.FORMAT,startInfo:Y,start:Y.start}}}]),re}(Cn);var En=[24,20,18,17,12,6,3,10,9,5],Dt=function(ae){Be()(re,ae);var be=function vr(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","ean_5"),P}return ue()(re,[{key:"decode",value:function(P,B){if(void 0===B)return null;P&&(this._row=P);for(var G=0,Z=B,le=this._row.length,_e=null,fe=[],Ee=[],ze=0;ze<5&&Z<le;ze++){if(!(_e=this._decodeCode(Z)))return null;Ee.push(_e),fe.push(_e.code%10),_e.code>=10&&(G|=1<<4-ze),4!==ze&&(Z=this._nextSet(this._row,_e.end),Z=this._nextUnset(this._row,Z))}if(5!==fe.length||function(Te){for(var Ae=Te.length,at=0,qt=Ae-2;qt>=0;qt-=2)at+=Te[qt];at*=3;for(var dn=Ae-1;dn>=0;dn-=2)at+=Te[dn];return(at*=3)%10}(fe)!==function(Te){for(var Ae=0;Ae<10;Ae++)if(Te===En[Ae])return Ae;return null}(G))return null;var Y=this._findStart();return{code:fe.join(""),decodedCodes:Ee,end:_e.end,format:this.FORMAT,startInfo:Y,start:Y.start}}}]),re}(Cn);var Vt=function(ae){Be()(re,ae);var be=function et(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","ean_8"),P}return ue()(re,[{key:"_decodePayload",value:function(P,B,G){for(var Z=P,le=0;le<4;le++){if(!(Z=this._decodeCode(Z.end,10)))return null;B.push(Z.code),G.push(Z)}if(null===(Z=this._findPattern(mn,Z.end,!0,!1)))return null;G.push(Z);for(var _e=0;_e<4;_e++){if(!(Z=this._decodeCode(Z.end,10)))return null;G.push(Z),B.push(Z.code)}return Z}}]),re}(Cn);var An=function(ae){Be()(re,ae);var be=function Wt(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(P){var B;return Ge()(this,re),B=be.call(this,$()({normalizeBarSpaceWidth:!1},P)),se()(De()(B),"barSpaceRatio",[1,1]),se()(De()(B),"SINGLE_CODE_ERROR",.78),se()(De()(B),"AVG_CODE_ERROR",.38),se()(De()(B),"START_PATTERN",[1,1,1,1]),se()(De()(B),"STOP_PATTERN",[1,1,3]),se()(De()(B),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),se()(De()(B),"MAX_CORRECTION_FACTOR",5),se()(De()(B),"FORMAT","i2of5"),P.normalizeBarSpaceWidth&&(B.SINGLE_CODE_ERROR=.38,B.AVG_CODE_ERROR=.09),B.config=P,we()(B,De()(B))}return ue()(re,[{key:"_matchPattern",value:function(P,B){if(this.config.normalizeBarSpaceWidth){for(var G=[0,0],Z=[0,0],le=[0,0],_e=this.MAX_CORRECTION_FACTOR,fe=1/_e,Ee=0;Ee<P.length;Ee++)G[Ee%2]+=P[Ee],Z[Ee%2]+=B[Ee];le[0]=Z[0]/G[0],le[1]=Z[1]/G[1],le[0]=Math.max(Math.min(le[0],_e),fe),le[1]=Math.max(Math.min(le[1],_e),fe),this.barSpaceRatio=le;for(var ze=0;ze<P.length;ze++)P[ze]*=this.barSpaceRatio[ze%2]}return Qn()(Ie()(re.prototype),"_matchPattern",this).call(this,P,B)}},{key:"_findPattern",value:function(P,B){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],le=new Array(P.length).fill(0),_e=0,fe={error:Number.MAX_VALUE,start:0,end:0},Ee=this.AVG_CODE_ERROR;G=G||!1,Z=Z||!1,B||(B=this._nextSet(this._row));for(var ze=B;ze<this._row.length;ze++)if(this._row[ze]^(G?1:0))le[_e]++;else{if(_e===le.length-1){var Y=le.reduce(function(at,qt){return at+qt},0),Te=this._matchPattern(le,P);if(Te<Ee)return fe.error=Te,fe.start=ze-Y,fe.end=ze,fe;if(!Z)return null;for(var Ae=0;Ae<le.length-2;Ae++)le[Ae]=le[Ae+2];le[le.length-2]=0,le[le.length-1]=0,_e--}else _e++;le[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var P=0,B=this._nextSet(this._row),G=null,Z=1;!G;){if(!(G=this._findPattern(this.START_PATTERN,B,!1,!0)))return null;if(Z=Math.floor((G.end-G.start)/4),(P=G.start-10*Z)>=0&&this._matchRange(P,G.start,0))return G;B=G.end,G=null}return null}},{key:"_verifyTrailingWhitespace",value:function(P){var B=P.end+(P.end-P.start)/2;return B<this._row.length&&this._matchRange(P.end,B,0)?P:null}},{key:"_findEnd",value:function(){this._row.reverse();var P=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===P)return null;var B=P.start;return P.start=this._row.length-P.end,P.end=this._row.length-B,null!==P?this._verifyTrailingWhitespace(P):null}},{key:"_decodePair",value:function(P){for(var B=[],G=0;G<P.length;G++){var Z=this._decodeCode(P[G]);if(!Z)return null;B.push(Z)}return B}},{key:"_decodeCode",value:function(P){for(var B=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<this.CODE_PATTERN.length;Z++){var le=this._matchPattern(P,this.CODE_PATTERN[Z]);le<G.error&&(G.code=Z,G.error=le)}return G.error<B?G:null}},{key:"_decodePayload",value:function(P,B,G){for(var Z=0,le=P.length,_e=[[0,0,0,0,0],[0,0,0,0,0]],fe=null;Z<le;){for(var Ee=0;Ee<5;Ee++)_e[0][Ee]=P[Z]*this.barSpaceRatio[0],_e[1][Ee]=P[Z+1]*this.barSpaceRatio[1],Z+=2;if(!(fe=this._decodePair(_e)))return null;for(var ze=0;ze<fe.length;ze++)B.push(fe[ze].code+""),G.push(fe[ze])}return fe}},{key:"_verifyCounterLength",value:function(P){return P.length%10==0}},{key:"decode",value:function(P,B){var G=new Array,Z=new Array,le=this._findStart();if(!le)return null;Z.push(le);var _e=this._findEnd();if(!_e)return null;var fe=this._fillCounters(le.end,_e.start,!1);return this._verifyCounterLength(fe)&&this._decodePayload(fe,G,Z)?G.length%2!=0||G.length<6?null:(Z.push(_e),{code:G.join(""),start:le.start,end:_e.end,startInfo:le,decodedCodes:Z,format:this.FORMAT}):null}}]),re}(Q);function yn(ae,be){var re=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);be&&(P=P.filter(function(B){return Object.getOwnPropertyDescriptor(ae,B).enumerable})),re.push.apply(re,P)}return re}var pe=function(ae){Be()(re,ae);var be=function ve(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),se()(De()(P),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),se()(De()(P),"FORMAT","upc_e"),P}return ue()(re,[{key:"_decodePayload",value:function(P,B,G){for(var Z=function(fe){for(var Ee=1;Ee<arguments.length;Ee++){var ze=null!=arguments[Ee]?arguments[Ee]:{};Ee%2?yn(Object(ze),!0).forEach(function(Y){se()(fe,Y,ze[Y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):yn(Object(ze)).forEach(function(Y){Object.defineProperty(fe,Y,Object.getOwnPropertyDescriptor(ze,Y))})}return fe}({},P),le=0,_e=0;_e<6;_e++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10&&(Z.code=Z.code-10,le|=1<<5-_e),B.push(Z.code),G.push(Z)}return this._determineParity(le,B)?Z:null}},{key:"_determineParity",value:function(P,B){for(var G=0;G<this.CODE_FREQUENCY.length;G++)for(var Z=0;Z<this.CODE_FREQUENCY[G].length;Z++)if(P===this.CODE_FREQUENCY[G][Z])return B.unshift(G),B.push(Z),!0;return!1}},{key:"_convertToUPCA",value:function(P){var B=[P[0]],G=P[P.length-2];return(B=G<=2?B.concat(P.slice(1,3)).concat([G,0,0,0,0]).concat(P.slice(3,6)):3===G?B.concat(P.slice(1,4)).concat([0,0,0,0,0]).concat(P.slice(4,6)):4===G?B.concat(P.slice(1,5)).concat([0,0,0,0,0,P[5]]):B.concat(P.slice(1,6)).concat([0,0,0,0,G])).push(P[P.length-1]),B}},{key:"_checksum",value:function(P){return Qn()(Ie()(re.prototype),"_checksum",this).call(this,this._convertToUPCA(P))}},{key:"_findEnd",value:function(P,B){return Qn()(Ie()(re.prototype),"_findEnd",this).call(this,P,!0)}},{key:"_verifyTrailingWhitespace",value:function(P){var B=P.end+(P.end-P.start)/2;return B<this._row.length&&this._matchRange(P.end,B,0)?P:null}}]),re}(Cn);var Ze=function(ae){Be()(re,ae);var be=function me(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(){var P;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return P=be.call.apply(be,[this].concat(G)),se()(De()(P),"FORMAT","upc_a"),P}return ue()(re,[{key:"decode",value:function(P,B){var G=Cn.prototype.decode.call(this);return G&&G.code&&13===G.code.length&&"0"===G.code.charAt(0)?(G.code=G.code.substring(1),G):null}}]),re}(Cn),ke={},Nt_UP=1,Nt_DOWN=-1;ke.getBarcodeLine=function(ae,be,re){var P,B,G,Z,le,_e=0|be.x,fe=0|be.y,Ee=0|re.x,ze=0|re.y,Y=Math.abs(ze-fe)>Math.abs(Ee-_e),Te=[],Ae=ae.data,at=ae.size.x,qt=255,dn=0;function sn(Lr,Ki){qt=(le=Ae[Ki*at+Lr])<qt?le:qt,dn=le>dn?le:dn,Te.push(le)}Y&&(G=_e,_e=fe,fe=G,G=Ee,Ee=ze,ze=G),_e>Ee&&(G=_e,_e=Ee,Ee=G,G=fe,fe=ze,ze=G);var _n=Ee-_e,Kn=Math.abs(ze-fe);P=_n/2|0,B=fe;var Zr=fe<ze?1:-1;for(Z=_e;Z<Ee;Z++)Y?sn(B,Z):sn(Z,B),(P-=Kn)<0&&(B+=Zr,P+=_n);return{line:Te,min:qt,max:dn}},ke.toBinaryLine=function(ae){var be,re,P,B,G,Z,le=ae.min,_e=ae.max,fe=ae.line,Ee=le+(_e-le)/2,ze=[],Y=(_e-le)/12,Te=-Y;for(P=fe[0]>Ee?Nt_UP:Nt_DOWN,ze.push({pos:0,val:fe[0]}),G=0;G<fe.length-2;G++)P!==(B=(be=fe[G+1]-fe[G])+(re=fe[G+2]-fe[G+1])<Te&&fe[G+1]<1.5*Ee?Nt_DOWN:be+re>Y&&fe[G+1]>.5*Ee?Nt_UP:P)&&(ze.push({pos:G,val:fe[G]}),P=B);for(ze.push({pos:fe.length,val:fe[fe.length-1]}),Z=ze[0].pos;Z<ze[1].pos;Z++)fe[Z]=fe[Z]>Ee?0:1;for(G=1;G<ze.length-1;G++)for(Y=ze[G+1].val>ze[G].val?ze[G].val+(ze[G+1].val-ze[G].val)/3*2|0:ze[G+1].val+(ze[G].val-ze[G+1].val)/3|0,Z=ze[G].pos;Z<ze[G+1].pos;Z++)fe[Z]=fe[Z]>Y?0:1;return{line:fe,threshold:Y}},ke.debug={printFrequency:function(ae,be){var re,P=be.getContext("2d");for(be.width=ae.length,be.height=256,P.beginPath(),P.strokeStyle="blue",re=0;re<ae.length;re++)P.moveTo(re,255),P.lineTo(re,255-ae[re]);P.stroke(),P.closePath()},printPattern:function(ae,be){var re,P=be.getContext("2d");for(be.width=ae.length,P.fillColor="black",re=0;re<ae.length;re++)1===ae[re]&&P.fillRect(re,0,1,100)}};var wn=ke;function On(ae,be){var re="undefined"!=typeof Symbol&&ae[Symbol.iterator]||ae["@@iterator"];if(!re){if(Array.isArray(ae)||(re=function(_e,fe){if(_e){if("string"==typeof _e)return rr(_e,undefined);var Ee=Object.prototype.toString.call(_e).slice(8,-1);if("Object"===Ee&&_e.constructor&&(Ee=_e.constructor.name),"Map"===Ee||"Set"===Ee)return Array.from(_e);if("Arguments"===Ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return rr(_e,undefined)}}(ae))||be&&ae&&"number"==typeof ae.length){re&&(ae=re);var P=0,B=function(){};return{s:B,n:function(){return P>=ae.length?{done:!0}:{done:!1,value:ae[P++]}},e:function(_e){throw _e},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G,Z=!0,le=!1;return{s:function(){re=re.call(ae)},n:function(){var _e=re.next();return Z=_e.done,_e},e:function(_e){le=!0,G=_e},f:function(){try{Z||null==re.return||re.return()}finally{if(le)throw G}}}}function rr(ae,be){(null==be||be>ae.length)&&(be=ae.length);for(var re=0,P=new Array(be);re<be;re++)P[re]=ae[re];return P}var Gn={code_128_reader:yr,ean_reader:Cn,ean_5_reader:Dt,ean_2_reader:Ht,ean_8_reader:Vt,code_39_reader:Fr,code_39_vin_reader:Re,codabar_reader:er,upc_reader:Ze,upc_e_reader:pe,i2of5_reader:An,"2of5_reader":pn,code_93_reader:yt,code_32_reader:gn},tr={registerReader:function(ae,be){Gn[ae]=be},create:function(ae,be){var P=[];function B(){ae.readers.forEach(function(fe){var Ee,ze={},Y=[];"object"===M()(fe)?(Ee=fe.format,ze=fe.config):"string"==typeof fe&&(Ee=fe),ze.supplements&&(Y=ze.supplements.map(function(Ae){return new Gn[Ae]}));try{var Te=new Gn[Ee](ze,Y);P.push(Te)}catch(Ae){throw console.error("* Error constructing reader ",Ee,Ae),Ae}})}function G(fe){var Ee,ze=null,Y=wn.getBarcodeLine(be,fe[0],fe[1]);for(wn.toBinaryLine(Y),Ee=0;Ee<P.length&&null===ze;Ee++)ze=P[Ee].decodePattern(Y.line);return null===ze?null:{codeResult:ze,barcodeLine:Y}}function Z(fe){return le.apply(this,arguments)}function le(){return(le=z()(ce.a.mark(function fe(Ee){var ze,Y,Te,Ae;return ce.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:ze=null,Y=On(P),at.prev=2,Y.s();case 4:if((Te=Y.n()).done){at.next=14;break}if(!(Ae=Te.value).decodeImage){at.next=12;break}return at.next=9,Ae.decodeImage(Ee);case 9:if(!(ze=at.sent)){at.next=12;break}return at.abrupt("break",14);case 12:at.next=4;break;case 14:at.next=19;break;case 16:at.prev=16,at.t0=at.catch(2),Y.e(at.t0);case 19:return at.prev=19,Y.f(),at.finish(19);case 22:return at.abrupt("return",ze);case 23:case"end":return at.stop()}},fe,null,[[2,16,19,22]])}))).apply(this,arguments)}function _e(fe){var Ee,ze,Ae,Y=function(Ae){return Math.sqrt(Math.pow(Math.abs(Ae[1].y-Ae[0].y),2)+Math.pow(Math.abs(Ae[1].x-Ae[0].x),2))}(Ee=[{x:((Ae=fe)[1][0]-Ae[0][0])/2+Ae[0][0],y:(Ae[1][1]-Ae[0][1])/2+Ae[0][1]},{x:(Ae[3][0]-Ae[2][0])/2+Ae[2][0],y:(Ae[3][1]-Ae[2][1])/2+Ae[2][1]}]),Te=Math.atan2(Ee[1].y-Ee[0].y,Ee[1].x-Ee[0].x);return null===(Ee=function(Ae,at,qt){function dn(sn){var _n=sn*Math.sin(at),Kn=sn*Math.cos(at);Ae[0].y-=_n,Ae[0].x-=Kn,Ae[1].y+=_n,Ae[1].x+=Kn}for(dn(qt);qt>1&&(!be.inImageWithBorder(Ae[0])||!be.inImageWithBorder(Ae[1]));)dn(-(qt-=Math.ceil(qt/2)));return Ae}(Ee,Te,Math.floor(.1*Y)))?null:(null===(ze=G(Ee))&&(ze=function(Ae,at,qt){var dn,sn,_n,Kn=Math.sqrt(Math.pow(Ae[1][0]-Ae[0][0],2)+Math.pow(Ae[1][1]-Ae[0][1],2)),Zr=null,Lr=Math.sin(qt),Ki=Math.cos(qt);for(dn=1;dn<16&&null===Zr;dn++)_n={y:(sn=Kn/16*dn*(dn%2==0?-1:1))*Lr,x:sn*Ki},at[0].y+=_n.x,at[0].x-=_n.y,at[1].y+=_n.x,at[1].x-=_n.y,Zr=G(at);return Zr}(fe,Ee,Te)),null===ze?null:{codeResult:ze.codeResult,line:Ee,angle:Te,pattern:ze.barcodeLine.line,threshold:ze.barcodeLine.threshold})}return B(),{decodeFromBoundingBox:function(fe){return _e(fe)},decodeFromBoundingBoxes:function(fe){var Ee,ze,Y=[],Te=ae.multiple;for(Ee=0;Ee<fe.length;Ee++){var Ae=fe[Ee];if((ze=_e(Ae)||{}).box=Ae,Te)Y.push(ze);else if(ze.codeResult)return ze}return{barcodes:Y}},decodeFromImage:function(fe){return z()(ce.a.mark(function Ee(){return ce.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return Y.next=2,Z(fe);case 2:return Y.abrupt("return",Y.sent);case 4:case"end":return Y.stop()}},Ee)}))()},registerReader:function(fe,Ee){if(Gn[fe])throw new Error("cannot register existing reader",fe);Gn[fe]=Ee},setReaders:function(fe){ae.readers=fe,P.length=0,B()}}}},tn=function(){var ae={};function be(B){return ae[B]||(ae[B]={subscribers:[]}),ae[B]}function re(B,G){B.async?setTimeout(function(){B.callback(G)},4):B.callback(G)}function P(B,G,Z){var le;if("function"==typeof G)le={callback:G,async:Z};else if(!(le=G).callback)throw new Error("Callback was not specified on options");be(B).subscribers.push(le)}return{subscribe:function(B,G,Z){return P(B,G,Z)},publish:function(B,G){var Z=be(B),le=Z.subscribers;le.filter(function(_e){return!!_e.once}).forEach(function(_e){re(_e,G)}),Z.subscribers=le.filter(function(_e){return!_e.once}),Z.subscribers.forEach(function(_e){re(_e,G)})},once:function(B,G){P(B,{callback:G,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(B,G){if(B){var Z=be(B);Z.subscribers=Z&&G?Z.subscribers.filter(function(le){return le.callback!==G}):[]}else ae={}}}}(),Dn=t(85),nn=t.n(Dn),Le=t(86);var cn,Un=function(ae){Be()(re,ae);var be=function st(ae){var be=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,P=Ie()(ae);if(be){var B=Ie()(this).constructor;re=Reflect.construct(P,arguments,B)}else re=P.apply(this,arguments);return we()(this,re)}}(re);function re(P,B){var G;return Ge()(this,re),G=be.call(this,P),se()(De()(G),"code",void 0),G.code=B,Object.setPrototypeOf(De()(G),re.prototype),G}return ue()(re)}(t.n(Le)()(Error)),or="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function jt(){try{return navigator.mediaDevices.enumerateDevices()}catch(be){var ae=new Un("enumerateDevices is not defined. ".concat(or),-1);return Promise.reject(ae)}}function Bt(ae){try{return navigator.mediaDevices.getUserMedia(ae)}catch(re){var be=new Un("getUserMedia is not defined. ".concat(or),-1);return Promise.reject(be)}}function je(ae){return new Promise(function(be,re){var P=10;!function B(){P>0?ae.videoWidth>10&&ae.videoHeight>10?be():window.setTimeout(B,500):re(new Un("Unable to play video stream. Is webcam working?",-1)),P--}()})}function Ct(ae,be){return $t.apply(this,arguments)}function $t(){return($t=z()(ce.a.mark(function ae(be,re){var P;return ce.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Bt(re);case 2:if(cn=P=B.sent,!be){B.next=11;break}return be.setAttribute("autoplay","true"),be.setAttribute("muted","true"),be.setAttribute("playsinline","true"),be.srcObject=P,be.addEventListener("loadedmetadata",function(){be.play()}),B.abrupt("return",je(be));case 11:return B.abrupt("return",Promise.resolve());case 12:case"end":return B.stop()}},ae)}))).apply(this,arguments)}function Xt(ae){var be=nn()(ae,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==ae.minAspectRatio&&ae.minAspectRatio>0&&(be.aspectRatio=ae.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==ae.facing&&(be.facingMode=ae.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),be}function on(){var be=Xt(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return be&&be.deviceId&&be.facingMode&&delete be.facingMode,Promise.resolve({audio:!1,video:be})}function Tn(){return(Tn=z()(ce.a.mark(function ae(){return ce.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,jt();case 2:return re.abrupt("return",re.sent.filter(function(P){return"videoinput"===P.kind}));case 4:case"end":return re.stop()}},ae)}))).apply(this,arguments)}function Vn(){if(!cn)return null;var ae=cn.getVideoTracks();return ae&&null!=ae&&ae.length?ae[0]:null}var un={requestedVideoElement:null,request:function(ae,be){return z()(ce.a.mark(function re(){return ce.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return un.requestedVideoElement=ae,B.next=3,on(be);case 3:return B.abrupt("return",Ct(ae,B.sent));case 5:case"end":return B.stop()}},re)}))()},release:function(){var ae=cn&&cn.getVideoTracks();return null!==un.requestedVideoElement&&un.requestedVideoElement.pause(),new Promise(function(be){setTimeout(function(){ae&&ae.length&&ae[0].stop(),cn=null,un.requestedVideoElement=null,be()},0)})},enumerateVideoDevices:function(){return Tn.apply(this,arguments)},getActiveStreamLabel:function(){var ae=Vn();return ae?ae.label:""},getActiveTrack:Vn},Nn=un,br={create:function(ae){var be,re=document.createElement("canvas"),P=re.getContext("2d"),B=[],G=null!==(be=ae.capacity)&&void 0!==be?be:20,Z=!0===ae.capture;return{addResult:function(_e,fe,Ee){var ze={};(function le(_e){return!!G&&_e&&(fe=_e,!((Ee=ae.blacklist)&&Ee.some(function(ze){return Object.keys(ze).every(function(Y){return ze[Y]===fe[Y]})})))&&function(fe,Ee){return"function"!=typeof Ee||Ee(fe)}(_e,ae.filter);var fe,Ee})(Ee)&&(G--,ze.codeResult=Ee,Z&&(re.width=fe.x,re.height=fe.y,Ye.a.drawImage(_e,fe,P),ze.frame=re.toDataURL()),B.push(ze))},getResults:function(){return B}}}},qn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ir=t(7),Mr=ue()(function ae(){Ge()(this,ae),se()(this,"config",void 0),se()(this,"inputStream",void 0),se()(this,"framegrabber",void 0),se()(this,"inputImageWrapper",void 0),se()(this,"stopped",!1),se()(this,"boxSize",void 0),se()(this,"resultCollector",void 0),se()(this,"decoder",void 0),se()(this,"workerPool",[]),se()(this,"onUIThread",!0),se()(this,"canvasContainer",new ki)}),yo=ue()(function ae(){Ge()(this,ae),se()(this,"image",void 0),se()(this,"overlay",void 0)}),ki=ue()(function ae(){Ge()(this,ae),se()(this,"ctx",void 0),se()(this,"dom",void 0),this.ctx=new yo,this.dom=new yo}),ur=t(23);function zi(ae){return"undefined"==typeof document?null:ae instanceof HTMLElement&&ae.nodeName&&1===ae.nodeType?ae:document.querySelector("string"==typeof ae?ae:"#interactive.viewport")}function Or(ae,be){var G,Z,re=(G=be,(Z=document.querySelector(ae))||((Z=document.createElement("canvas")).className=G),Z),P=re.getContext("2d");return{canvas:re,context:P}}var Pe={274:"orientation"},ot=Object.keys(Pe).map(function(ae){return Pe[ae]});function xt(ae){return new Promise(function(be){var re=new FileReader;re.onload=function(P){return be(P.target.result)},re.readAsArrayBuffer(ae)})}function Ot(ae){return new Promise(function(be,re){var P=new XMLHttpRequest;P.open("GET",ae,!0),P.responseType="blob",P.onreadystatechange=function(){P.readyState!==XMLHttpRequest.DONE||200!==P.status&&0!==P.status||be(this.response)},P.onerror=re,P.send()})}function Yt(ae){var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,re=new DataView(ae),P=ae.byteLength,B=be.reduce(function(Z,le){var _e=Object.keys(Pe).filter(function(fe){return Pe[fe]===le})[0];return _e&&(Z[_e]=le),Z},{}),G=2;if(255!==re.getUint8(0)||216!==re.getUint8(1))return!1;for(;G<P;){if(255!==re.getUint8(G))return!1;if(225===re.getUint8(G+1))return sr(re,G+4,B);G+=2+re.getUint16(G+2)}return!1}function sr(ae,be,re){if("Exif"!==function(Z,le,_e){for(var fe="",Ee=le;Ee<le+4;Ee++)fe+=String.fromCharCode(Z.getUint8(Ee));return fe}(ae,be))return!1;var P,B=be+6;if(18761===ae.getUint16(B))P=!1;else{if(19789!==ae.getUint16(B))return!1;P=!0}if(42!==ae.getUint16(B+2,!P))return!1;var G=ae.getUint32(B+4,!P);return!(G<8)&&function(Z,le,_e,fe,Ee){for(var ze=Z.getUint16(_e,!Ee),Y={},Te=0;Te<ze;Te++){var Ae=_e+12*Te+2,at=fe[Z.getUint16(Ae,!Ee)];at&&(Y[at]=Pr(Z,Ae,0,0,Ee))}return Y}(ae,0,B+G,re,P)}function Pr(ae,be,re,P,B){var G=ae.getUint16(be+2,!B),Z=ae.getUint32(be+4,!B);return 3===G&&1===Z?ae.getUint16(be+8,!B):null}var pr={};function ai(ae,be){ae.onload=function(){be.loaded(this)}}pr.load=function(ae,be,re,P,B){var G,Z,le,_e=new Array(P),fe=new Array(_e.length);if(!1===B)_e[0]=ae;else for(G=0;G<_e.length;G++)le=re+G,_e[G]="".concat(ae,"image-").concat("00".concat(le).slice(-3),".jpg");for(fe.notLoaded=[],fe.addImage=function(Ee){fe.notLoaded.push(Ee)},fe.loaded=function(Ee){for(var ze=fe.notLoaded,Y=0;Y<ze.length;Y++)if(ze[Y]===Ee){ze.splice(Y,1);for(var Te=0;Te<_e.length;Te++){var Ae=_e[Te].substr(_e[Te].lastIndexOf("/"));if(-1!==Ee.src.lastIndexOf(Ae)){fe[Te]={img:Ee};break}}break}0===ze.length&&(!1===B?function(at){var qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot;return/^blob:/i.test(at)?Ot(at).then(xt).then(function(dn){return Yt(dn,qt)}):Promise.resolve(null)}(ae,["orientation"]).then(function(at){fe[0].tags=at,be(fe)}).catch(function(at){console.log(at),be(fe)}):be(fe))},G=0;G<_e.length;G++)Z=new Image,fe.addImage(Z),ai(Z,fe),Z.src=_e[G]};var es=pr,qr={createVideoStream:function(ae){var be,re,P=null,B=["canrecord","ended"],G={},Z={x:0,y:0,type:"Point"},le={x:0,y:0,type:"XYSize"},_e={getRealWidth:function(){return ae.videoWidth},getRealHeight:function(){return ae.videoHeight},getWidth:function(){return be},getHeight:function(){return re},setWidth:function(fe){be=fe},setHeight:function(fe){re=fe},setInputStream:function(fe){P=fe,this.setAttribute("src",void 0!==fe.src?fe.src:"")},ended:function(){return ae.ended},getConfig:function(){return P},setAttribute:function(fe,Ee){ae&&ae.setAttribute(fe,Ee)},pause:function(){ae.pause()},play:function(){ae.play()},setCurrentTime:function(fe){var Ee;"LiveStream"!==(null===(Ee=P)||void 0===Ee?void 0:Ee.type)&&this.setAttribute("currentTime",fe.toString())},addEventListener:function(fe,Ee,ze){-1!==B.indexOf(fe)?(G[fe]||(G[fe]=[]),G[fe].push(Ee)):ae.addEventListener(fe,Ee,ze)},clearEventHandlers:function(){B.forEach(function(fe){var Ee=G[fe];Ee&&Ee.length>0&&Ee.forEach(function(ze){ae.removeEventListener(fe,ze)})})},trigger:function(fe,Ee){var ze,Y,Te,Ae,at,qt=G[fe];if("canrecord"===fe&&(Ae=ae.videoWidth,at=ae.videoHeight,be=null!==(Y=P)&&void 0!==Y&&Y.size?Ae/at>1?P.size:Math.floor(Ae/at*P.size):Ae,re=null!==(Te=P)&&void 0!==Te&&Te.size?Ae/at>1?Math.floor(at/Ae*P.size):P.size:at,le.x=be,le.y=re),qt&&qt.length>0)for(ze=0;ze<qt.length;ze++)qt[ze].apply(_e,Ee)},setTopRight:function(fe){Z.x=fe.x,Z.y=fe.y},getTopRight:function(){return Z},setCanvasSize:function(fe){le.x=fe.x,le.y=fe.y},getCanvasSize:function(){return le},getFrame:function(){return ae}};return _e},createLiveStream:function(ae){ae&&ae.setAttribute("autoplay","true");var be=qr.createVideoStream(ae);return be.ended=function(){return!1},be},createImageStream:function(){var ae,be,re=null,P=0,B=0,G=0,Z=!0,le=!1,_e=null,fe=0,Ee=null,ze=!1,Y=["canrecord","ended"],Te={},Ae={x:0,y:0,type:"Point"},at={x:0,y:0,type:"XYSize"};function qt(sn,_n){var Kn,Zr=Te[sn];if(Zr&&Zr.length>0)for(Kn=0;Kn<Zr.length;Kn++)Zr[Kn].apply(dn,_n)}var dn={trigger:qt,getWidth:function(){return ae},getHeight:function(){return be},setWidth:function(sn){ae=sn},setHeight:function(sn){be=sn},getRealWidth:function(){return P},getRealHeight:function(){return B},setInputStream:function(sn){var _n;!1===sn.sequence?(Ee=sn.src,fe=1):(Ee=sn.src,fe=sn.length),le=!1,es.load(Ee,function(Kn){var Zr,Lr;if(_e=Kn,Kn[0].tags&&Kn[0].tags.orientation)switch(Kn[0].tags.orientation){case 6:case 8:P=Kn[0].img.height,B=Kn[0].img.width;break;default:P=Kn[0].img.width,B=Kn[0].img.height}else P=Kn[0].img.width,B=Kn[0].img.height;ae=null!==(Zr=re)&&void 0!==Zr&&Zr.size?P/B>1?re.size:Math.floor(P/B*re.size):P,be=null!==(Lr=re)&&void 0!==Lr&&Lr.size?P/B>1?Math.floor(B/P*re.size):re.size:B,at.x=ae,at.y=be,le=!0,G=0,setTimeout(function(){qt("canrecord",[])},0)},1,fe,null===(_n=re=sn)||void 0===_n?void 0:_n.sequence)},ended:function(){return ze},setAttribute:function(){},getConfig:function(){return re},pause:function(){Z=!0},play:function(){Z=!1},setCurrentTime:function(sn){G=sn},addEventListener:function(sn,_n){-1!==Y.indexOf(sn)&&(Te[sn]||(Te[sn]=[]),Te[sn].push(_n))},clearEventHandlers:function(){Object.keys(Te).forEach(function(sn){return delete Te[sn]})},setTopRight:function(sn){Ae.x=sn.x,Ae.y=sn.y},getTopRight:function(){return Ae},setCanvasSize:function(sn){at.x=sn.x,at.y=sn.y},getCanvasSize:function(){return at},getFrame:function(){var sn,_n;return le?(Z||(sn=null===(_n=_e)||void 0===_n?void 0:_n[G],G<fe-1?G++:setTimeout(function(){ze=!0,qt("ended",[])},0)),sn):null}};return dn}},Os=qr,Fi=t(10),Sa=Math.PI/180,xa={create:function(ae,be){var re,P={},B=ae.getConfig(),G=(Object(Fi.h)(ae.getRealWidth(),ae.getRealHeight()),ae.getCanvasSize()),Z=Object(Fi.h)(ae.getWidth(),ae.getHeight()),le=ae.getTopRight(),_e=le.x,fe=le.y,Ee=null,ze=null;return(re=be||document.createElement("canvas")).width=G.x,re.height=G.y,Ee=re.getContext("2d"),ze=new Uint8Array(Z.x*Z.y),P.attachData=function(Y){ze=Y},P.getData=function(){return ze},P.grab=function(){var Y,dn,sn,Te=B.halfSample,Ae=ae.getFrame(),at=Ae,qt=0;if(at){if((dn=re).width!==(sn=G).x&&(dn.width=sn.x),dn.height!==sn.y&&(dn.height=sn.y),"ImageStream"===B.type&&(at=Ae.img,Ae.tags&&Ae.tags.orientation))switch(Ae.tags.orientation){case 6:qt=90*Sa;break;case 8:qt=-90*Sa}return 0!==qt?(Ee.translate(G.x/2,G.y/2),Ee.rotate(qt),Ee.drawImage(at,-G.y/2,-G.x/2,G.y,G.x),Ee.rotate(-qt),Ee.translate(-G.x/2,-G.y/2)):Ee.drawImage(at,0,0,G.x,G.y),Y=Ee.getImageData(_e,fe,Z.x,Z.y).data,Te?Object(Fi.e)(Y,Z,ze):Object(Fi.c)(Y,ze,B),!0}return!1},P.getSize=function(){return Z},P}},Mo=xa;function ra(ae,be){var re=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);be&&(P=P.filter(function(B){return Object.getOwnPropertyDescriptor(ae,B).enumerable})),re.push.apply(re,P)}return re}function Ps(ae){for(var be=1;be<arguments.length;be++){var re=null!=arguments[be]?arguments[be]:{};be%2?ra(Object(re),!0).forEach(function(P){se()(ae,P,re[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(re)):ra(Object(re)).forEach(function(P){Object.defineProperty(ae,P,Object.getOwnPropertyDescriptor(re,P))})}return ae}var Ti=[];function _s(ae){return Ps(Ps({},ae),{},{inputStream:Ps(Ps({},ae.inputStream),{},{target:null})})}function xc(ae){if(ae){var be=ae().default;if(!be)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var re;function P(G){self.postMessage({event:"processed",imageData:re.data,result:G},[re.data.buffer])}function B(){self.postMessage({event:"initialized",imageData:re.data},[re.data.buffer])}self.onmessage=function(G){if("init"===G.data.cmd){var Z=G.data.config;Z.numOfWorkers=0,re=new be.ImageWrapper({x:G.data.size.x,y:G.data.size.y},new Uint8Array(G.data.imageData)),be.init(Z,B,re),be.onProcessed(P)}else"process"===G.data.cmd?(re.data=new Uint8Array(G.data.imageData),be.start()):"setReaders"===G.data.cmd?be.setReaders(G.data.readers):"registerReader"===G.data.cmd&&be.registerReader(G.data.name,G.data.reader)}}function ys(ae,be,re){var P,B,G=("undefined"!=typeof __factorySource__&&(B=__factorySource__),P=new Blob(["("+xc.toString()+")("+B+");"],{type:"text/javascript"}),window.URL.createObjectURL(P)),Z={worker:new Worker(G),imageData:new Uint8Array(be.getWidth()*be.getHeight()),busy:!0};Z.worker.onmessage=function(le){"initialized"===le.data.event?(URL.revokeObjectURL(G),Z.busy=!1,Z.imageData=new Uint8Array(le.data.imageData),re(Z)):"processed"===le.data.event&&(Z.imageData=new Uint8Array(le.data.imageData),Z.busy=!1)},Z.worker.postMessage({cmd:"init",size:{x:be.getWidth(),y:be.getHeight()},imageData:Z.imageData,config:_s(ae)},[Z.imageData.buffer])}function Ns(ae,be,re,P){var B=ae-Ti.length;if(0===B&&P)P();else if(B<0)Ti.slice(B).forEach(function(le){le.worker.terminate()}),Ti=Ti.slice(0,B),P&&P();else{var G=function(le){Ti.push(le),Ti.length>=ae&&P&&P()};if(be)for(var Z=0;Z<B;Z++)ys(be,re,G)}}function ts(ae,be,re){for(var P=ae.length;P--;)ae[P][0]+=be,ae[P][1]+=re}var ns=function(){function ae(){var P=this;Ge()(this,ae),se()(this,"context",new Mr),se()(this,"canRecord",function(B){var G;P.context.config&&(ur.a.checkImageConstraints(P.context.inputStream,null===(G=P.context.config)||void 0===G?void 0:G.locator),P.initCanvas(),P.context.framegrabber=Mo.create(P.context.inputStream,P.context.canvasContainer.dom.image),void 0===P.context.config.numOfWorkers&&(P.context.config.numOfWorkers=0),Ns(P.context.config.numOfWorkers,P.context.config,P.context.inputStream,function(){var Z;0===(null===(Z=P.context.config)||void 0===Z?void 0:Z.numOfWorkers)&&P.initializeData(),P.ready(B)}))}),se()(this,"update",function(){if(P.context.onUIThread){var B,G=(le=P.context.framegrabber,Ti.length?!!(_e=Ti.filter(function(fe){return!fe.busy})[0])&&(le.attachData(_e.imageData),le.grab()&&(_e.busy=!0,_e.worker.postMessage({cmd:"process",imageData:_e.imageData},[_e.imageData.buffer])),!0):null);G||(P.context.framegrabber.attachData(null===(B=P.context.inputImageWrapper)||void 0===B?void 0:B.data),P.context.framegrabber.grab()&&(G||P.locateAndDecode()))}else{var Z;P.context.framegrabber.attachData(null===(Z=P.context.inputImageWrapper)||void 0===Z?void 0:Z.data),P.context.framegrabber.grab(),P.locateAndDecode()}var le,_e})}var be,re;return ue()(ae,[{key:"initBuffers",value:function(P){if(this.context.config){var B=(le=this.context.inputStream,fe=this.context.config.locator,Ee=P||new W.a({x:le.getWidth(),y:le.getHeight(),type:"XYSize"}),ze=[Object(Ir.clone)([0,0]),Object(Ir.clone)([0,Ee.size.y]),Object(Ir.clone)([Ee.size.x,Ee.size.y]),Object(Ir.clone)([Ee.size.x,0])],ur.a.init(Ee,fe),{inputImageWrapper:Ee,boxSize:ze}),Z=B.boxSize;this.context.inputImageWrapper=B.inputImageWrapper,this.context.boxSize=Z}var le,fe,Ee,ze}},{key:"initializeData",value:function(P){this.context.config&&(this.initBuffers(P),this.context.decoder=tr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?zi(this.context.config.inputStream.target):null}},{key:"ready",value:function(P){this.context.inputStream.play(),P()}},{key:"initCanvas",value:function(){var P=function Fe(ae){var be,re,P,B,G=zi(null==ae||null===(be=ae.config)||void 0===be||null===(re=be.inputStream)||void 0===re?void 0:re.target),Z=null==ae||null===(P=ae.config)||void 0===P||null===(B=P.inputStream)||void 0===B?void 0:B.type;if(!Z)return null;var le=function(fe){if("undefined"!=typeof document){var Ee=Or("canvas.imgBuffer","imgBuffer"),ze=Or("canvas.drawingBuffer","drawingBuffer");return Ee.canvas.width=ze.canvas.width=fe.x,Ee.canvas.height=ze.canvas.height=fe.y,{dom:{image:Ee.canvas,overlay:ze.canvas},ctx:{image:Ee.context,overlay:ze.context}}}return null}(ae.inputStream.getCanvasSize());if(!le)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _e=le.dom;return"undefined"!=typeof document&&G&&("ImageStream"!==Z||G.contains(_e.image)||G.appendChild(_e.image),G.contains(_e.overlay)||G.appendChild(_e.overlay)),le}(this.context);if(P){var B=P.ctx,G=P.dom;this.context.canvasContainer.dom.image=G.image,this.context.canvasContainer.dom.overlay=G.overlay,this.context.canvasContainer.ctx.image=B.image,this.context.canvasContainer.ctx.overlay=B.overlay}}},{key:"initInputStream",value:function(P){if(this.context.config&&this.context.config.inputStream){var B=this.context.config.inputStream,G=B.type,Z=B.constraints,le=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",ze=arguments.length>1?arguments[1]:void 0,Y=arguments.length>2?arguments[2]:void 0;switch(Ee){case"VideoStream":var Te=document.createElement("video");return{video:Te,inputStream:Y.createVideoStream(Te)};case"ImageStream":return{inputStream:Y.createImageStream()};case"LiveStream":var Ae=null;return ze&&((Ae=ze.querySelector("video"))||(Ae=document.createElement("video"),ze.appendChild(Ae))),{video:Ae,inputStream:Y.createLiveStream(Ae)};default:return console.error("* setupInputStream invalid type ".concat(Ee)),{video:null,inputStream:null}}}(G,this.getViewPort(),Os),_e=le.video,fe=le.inputStream;"LiveStream"===G&&_e&&Nn.request(_e,Z).then(function(){return fe.trigger("canrecord")}).catch(function(Ee){return P(Ee)}),fe.setAttribute("preload","auto"),fe.setInputStream(this.context.config.inputStream),fe.addEventListener("canrecord",this.canRecord.bind(void 0,P)),this.context.inputStream=fe}}},{key:"getBoundingBoxes",value:function(){var P;return null!==(P=this.context.config)&&void 0!==P&&P.locate?ur.a.locate():[[Object(Ir.clone)(this.context.boxSize[0]),Object(Ir.clone)(this.context.boxSize[1]),Object(Ir.clone)(this.context.boxSize[2]),Object(Ir.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(P){var fe,Ee,ze,B=this,G=this.context.inputStream.getTopRight(),Z=G.x,le=G.y;if((0!==Z||0!==le)&&(P.barcodes&&P.barcodes.forEach(function(fe){return B.transformResult(fe)}),P.line&&2===P.line.length&&(ze=le,(fe=P.line)[0].x+=Ee=Z,fe[0].y+=ze,fe[1].x+=Ee,fe[1].y+=ze),P.box&&ts(P.box,Z,le),P.boxes&&P.boxes.length>0))for(var _e=0;_e<P.boxes.length;_e++)ts(P.boxes[_e],Z,le)}},{key:"addResult",value:function(P,B){var G=this;B&&this.context.resultCollector&&(P.barcodes?P.barcodes.filter(function(Z){return Z.codeResult}).forEach(function(Z){return G.addResult(Z,B)}):P.codeResult&&this.context.resultCollector.addResult(B,this.context.inputStream.getCanvasSize(),P.codeResult))}},{key:"hasCodeResult",value:function(P){return!(!P||!(P.barcodes?P.barcodes.some(function(B){return B.codeResult}):P.codeResult))}},{key:"publishResult",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,B=arguments.length>1?arguments[1]:void 0,G=P;P&&this.context.onUIThread&&(this.transformResult(P),this.addResult(P,B),G=P.barcodes||P),tn.publish("processed",G),this.hasCodeResult(P)&&tn.publish("detected",G)}},{key:"locateAndDecode",value:(re=z()(ce.a.mark(function P(){var B,G,Z,le,_e;return ce.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!(B=this.getBoundingBoxes())){fe.next=12;break}return fe.next=4,this.context.decoder.decodeFromBoundingBoxes(B);case 4:if(fe.t0=fe.sent,fe.t0){fe.next=7;break}fe.t0={};case 7:(Z=fe.t0).boxes=B,this.publishResult(Z,null===(G=this.context.inputImageWrapper)||void 0===G?void 0:G.data),fe.next=16;break;case 12:return fe.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(le=fe.sent)?this.publishResult(le,null===(_e=this.context.inputImageWrapper)||void 0===_e?void 0:_e.data):this.publishResult();case 16:case"end":return fe.stop()}},P,this)})),function(){return re.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var P,B=this,G=null,Z=1e3/((null===(P=this.context.config)||void 0===P?void 0:P.frequency)||60);this.context.stopped=!1;var le=this.context;!function _e(fe){G=G||fe,le.stopped||(fe>=G&&(G+=Z,B.update()),window.requestAnimationFrame(_e))}(performance.now())}},{key:"start",value:function(){var P,B;this.context.onUIThread&&"LiveStream"===(null===(P=this.context.config)||void 0===P||null===(B=P.inputStream)||void 0===B?void 0:B.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(be=z()(ce.a.mark(function P(){var B;return ce.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this.context.stopped=!0,Ns(0),null===(B=this.context.config)||void 0===B||!B.inputStream||"LiveStream"!==this.context.config.inputStream.type){G.next=6;break}return G.next=5,Nn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return G.stop()}},P,this)})),function(){return be.apply(this,arguments)})},{key:"setReaders",value:function(P){var B;this.context.decoder&&this.context.decoder.setReaders(P),B=P,Ti.forEach(function(G){return G.worker.postMessage({cmd:"setReaders",readers:B})})}},{key:"registerReader",value:function(P,B){var G,Z;tr.registerReader(P,B),this.context.decoder&&this.context.decoder.registerReader(P,B),G=P,Z=B,Ti.forEach(function(le){return le.worker.postMessage({cmd:"registerReader",name:G,reader:Z})})}}]),ae}(),Oo=new ns,Aa=Oo.context,Uo={init:function(ae,be,re){var P,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oo;return be||(P=new Promise(function(G,Z){be=function(le){le?Z(le):G()}})),B.context.config=$()({},qn,ae),B.context.config.numOfWorkers>0&&(B.context.config.numOfWorkers=0),re?(B.context.onUIThread=!1,B.initializeData(re),be&&be()):B.initInputStream(be),P},start:function(){return Oo.start()},stop:function(){return Oo.stop()},pause:function(){Aa.stopped=!0},onDetected:function(ae){ae&&("function"==typeof ae||"object"===M()(ae)&&ae.callback)?tn.subscribe("detected",ae):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(ae){tn.unsubscribe("detected",ae)},onProcessed:function(ae){ae&&("function"==typeof ae||"object"===M()(ae)&&ae.callback)?tn.subscribe("processed",ae):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(ae){tn.unsubscribe("processed",ae)},setReaders:function(ae){ae?Oo.setReaders(ae):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(ae,be){ae?be?Oo.registerReader(ae,be):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(ae){ae&&"function"==typeof ae.addResult&&(Aa.resultCollector=ae)},get canvas(){return Aa.canvasContainer},decodeSingle:function(ae,be){var re=this,P=new ns;return(ae=$()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:ae.src},numOfWorkers:1,locator:{halfSample:!1}},ae)).numOfWorkers>0&&(ae.numOfWorkers=0),ae.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),ae.numOfWorkers=0),new Promise(function(B,G){try{re.init(ae,function(){tn.once("processed",function(Z){P.stop(),be&&be.call(null,Z),B(Z)},!0),P.start()},null,P)}catch(Z){G(Z)}})},get default(){return Uo},Readers:C,CameraAccess:Nn,ImageDebug:Ye.a,ImageWrapper:W.a,ResultCollector:br};O.default=Uo}]).default},2090:(nt,A,O)=>{"use strict";O.d(A,{$s:()=>Mn,BH:()=>$e,L:()=>J,LL:()=>gt,Lj:()=>An,Mn:()=>He,UG:()=>Oe,US:()=>$,X3:()=>Wt,ZB:()=>ce,ZR:()=>de,b$:()=>Be,d:()=>qe,eu:()=>oe,hl:()=>se,jU:()=>De,m9:()=>Ht,ne:()=>gn,pd:()=>Br,r3:()=>nr,ru:()=>rt,tV:()=>z,uI:()=>ue,vZ:()=>Ar,w1:()=>we,xO:()=>bi,xb:()=>Hr,z$:()=>ut,zI:()=>Q,zd:()=>Fr});var t=O(5861);const M=function(ve){const pe=[];let me=0;for(let Ze=0;Ze<ve.length;Ze++){let ke=ve.charCodeAt(Ze);ke<128?pe[me++]=ke:ke<2048?(pe[me++]=ke>>6|192,pe[me++]=63&ke|128):55296==(64512&ke)&&Ze+1<ve.length&&56320==(64512&ve.charCodeAt(Ze+1))?(ke=65536+((1023&ke)<<10)+(1023&ve.charCodeAt(++Ze)),pe[me++]=ke>>18|240,pe[me++]=ke>>12&63|128,pe[me++]=ke>>6&63|128,pe[me++]=63&ke|128):(pe[me++]=ke>>12|224,pe[me++]=ke>>6&63|128,pe[me++]=63&ke|128)}return pe},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(ve,pe){if(!Array.isArray(ve))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let ke=0;ke<ve.length;ke+=3){const Nt=ve[ke],wn=ke+1<ve.length,On=wn?ve[ke+1]:0,rr=ke+2<ve.length,Gn=rr?ve[ke+2]:0;let Dn=(15&On)<<2|Gn>>6,nn=63&Gn;rr||(nn=64,wn||(Dn=64)),Ze.push(me[Nt>>2],me[(3&Nt)<<4|On>>4],me[Dn],me[nn])}return Ze.join("")},encodeString(ve,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(ve):this.encodeByteArray(M(ve),pe)},decodeString(ve,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(ve):function(ve){const pe=[];let me=0,Ze=0;for(;me<ve.length;){const ke=ve[me++];if(ke<128)pe[Ze++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const Nt=ve[me++];pe[Ze++]=String.fromCharCode((31&ke)<<6|63&Nt)}else if(ke>239&&ke<365){const rr=((7&ke)<<18|(63&ve[me++])<<12|(63&ve[me++])<<6|63&ve[me++])-65536;pe[Ze++]=String.fromCharCode(55296+(rr>>10)),pe[Ze++]=String.fromCharCode(56320+(1023&rr))}else{const Nt=ve[me++],wn=ve[me++];pe[Ze++]=String.fromCharCode((15&ke)<<12|(63&Nt)<<6|63&wn)}}return pe.join("")}(this.decodeStringToByteArray(ve,pe))},decodeStringToByteArray(ve,pe){this.init_();const me=pe?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let ke=0;ke<ve.length;){const Nt=me[ve.charAt(ke++)],On=ke<ve.length?me[ve.charAt(ke)]:0;++ke;const Gn=ke<ve.length?me[ve.charAt(ke)]:64;++ke;const tn=ke<ve.length?me[ve.charAt(ke)]:64;if(++ke,null==Nt||null==On||null==Gn||null==tn)throw Error();Ze.push(Nt<<2|On>>4),64!==Gn&&(Ze.push(On<<4&240|Gn>>2),64!==tn&&Ze.push(Gn<<6&192|tn))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let ve=0;ve<this.ENCODED_VALS.length;ve++)this.byteToCharMap_[ve]=this.ENCODED_VALS.charAt(ve),this.charToByteMap_[this.byteToCharMap_[ve]]=ve,this.byteToCharMapWebSafe_[ve]=this.ENCODED_VALS_WEBSAFE.charAt(ve),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[ve]]=ve,ve>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(ve)]=ve,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(ve)]=ve)}}},J=function(ve){return function(ve){const pe=M(ve);return $.encodeByteArray(pe,!0)}(ve).replace(/\./g,"")},z=function(ve){try{return $.decodeString(ve,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function ce(ve,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===ve&&(ve={});break;case Array:ve=[];break;default:return pe}for(const me in pe)!pe.hasOwnProperty(me)||!Ye(me)||(ve[me]=ce(ve[me],pe[me]));return ve}function Ye(ve){return"__proto__"!==ve}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,me)=>{this.resolve=pe,this.reject=me})}wrapCallback(pe){return(me,Ze)=>{me?this.reject(me):this.resolve(Ze),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(me):pe(me,Ze))}}}function ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Oe(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(ve){return!1}}function De(){return"object"==typeof self&&self.self===self}function rt(){const ve="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof ve&&void 0!==ve.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return ut().indexOf("Electron/")>=0}function we(){const ve=ut();return ve.indexOf("MSIE ")>=0||ve.indexOf("Trident/")>=0}function He(){return ut().indexOf("MSAppHost/")>=0}function se(){return"object"==typeof indexedDB}function oe(){return new Promise((ve,pe)=>{try{let me=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(Ze);ke.onsuccess=()=>{ke.result.close(),me||self.indexedDB.deleteDatabase(Ze),ve(!0)},ke.onupgradeneeded=()=>{me=!1},ke.onerror=()=>{var Nt;pe((null===(Nt=ke.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(me){pe(me)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class de extends Error{constructor(pe,me,Ze){super(me),this.code=pe,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(pe,me,Ze){this.service=pe,this.serviceName=me,this.errors=Ze}create(pe,...me){const Ze=me[0]||{},ke=`${this.service}/${pe}`,Nt=this.errors[pe],wn=Nt?function St(ve,pe){return ve.replace(pn,(me,Ze)=>{const ke=pe[Ze];return null!=ke?String(ke):`<${Ze}?>`})}(Nt,Ze):"Error";return new de(ke,`${this.serviceName}: ${wn} (${ke}).`,Ze)}}const pn=/\{\$([^}]+)}/g;function nr(ve,pe){return Object.prototype.hasOwnProperty.call(ve,pe)}function Hr(ve){for(const pe in ve)if(Object.prototype.hasOwnProperty.call(ve,pe))return!1;return!0}function Ar(ve,pe){if(ve===pe)return!0;const me=Object.keys(ve),Ze=Object.keys(pe);for(const ke of me){if(!Ze.includes(ke))return!1;const Nt=ve[ke],wn=pe[ke];if(Ri(Nt)&&Ri(wn)){if(!Ar(Nt,wn))return!1}else if(Nt!==wn)return!1}for(const ke of Ze)if(!me.includes(ke))return!1;return!0}function Ri(ve){return null!==ve&&"object"==typeof ve}function bi(ve){const pe=[];for(const[me,Ze]of Object.entries(ve))Array.isArray(Ze)?Ze.forEach(ke=>{pe.push(encodeURIComponent(me)+"="+encodeURIComponent(ke))}):pe.push(encodeURIComponent(me)+"="+encodeURIComponent(Ze));return pe.length?"&"+pe.join("&"):""}function Fr(ve){const pe={};return ve.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[ke,Nt]=Ze.split("=");pe[decodeURIComponent(ke)]=decodeURIComponent(Nt)}}),pe}function Br(ve){const pe=ve.indexOf("?");if(!pe)return"";const me=ve.indexOf("#",pe);return ve.substring(pe,me>0?me:void 0)}function gn(ve,pe){const me=new Pi(ve,pe);return me.subscribe.bind(me)}class Pi{constructor(pe,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{pe(this)}).catch(Ze=>{this.error(Ze)})}next(pe){this.forEachObserver(me=>{me.next(pe)})}error(pe){this.forEachObserver(me=>{me.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,me,Ze){let ke;if(void 0===pe&&void 0===me&&void 0===Ze)throw new Error("Missing Observer.");ke=function $r(ve,pe){if("object"!=typeof ve||null===ve)return!1;for(const me of pe)if(me in ve&&"function"==typeof ve[me])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:me,complete:Ze},void 0===ke.next&&(ke.next=Re),void 0===ke.error&&(ke.error=Re),void 0===ke.complete&&(ke.complete=Re);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch(wn){}}),this.observers.push(ke),Nt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,pe)}sendOne(pe,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{me(this.observers[pe])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Re(){}function Mn(ve,pe=1e3,me=2){const Ze=pe*Math.pow(me,ve),ke=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+ke)}function Ht(ve){return ve&&ve._delegate?ve._delegate:ve}function vr(ve,pe){return new Promise((me,Ze)=>{ve.onsuccess=ke=>{me(ke.target.result)},ve.onerror=ke=>{var Nt;Ze(`${pe}: ${null===(Nt=ke.target.error)||void 0===Nt?void 0:Nt.message}`)}})}class En{constructor(pe){this._db=pe,this.objectStoreNames=this._db.objectStoreNames}transaction(pe,me){return new Dt(this._db.transaction.call(this._db,pe,me))}createObjectStore(pe,me){return new et(this._db.createObjectStore(pe,me))}close(){this._db.close()}}class Dt{constructor(pe){this._transaction=pe,this.complete=new Promise((me,Ze)=>{this._transaction.oncomplete=function(){me()},this._transaction.onerror=()=>{Ze(this._transaction.error)},this._transaction.onabort=()=>{Ze(this._transaction.error)}})}objectStore(pe){return new et(this._transaction.objectStore(pe))}}class et{constructor(pe){this._store=pe}index(pe){return new Vt(this._store.index(pe))}createIndex(pe,me,Ze){return new Vt(this._store.createIndex(pe,me,Ze))}get(pe){return vr(this._store.get(pe),"Error reading from IndexedDB")}put(pe,me){return vr(this._store.put(pe,me),"Error writing to IndexedDB")}delete(pe){return vr(this._store.delete(pe),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class Vt{constructor(pe){this._index=pe}get(pe){return vr(this._index.get(pe),"Error reading from IndexedDB")}}function Wt(ve,pe,me){return new Promise((Ze,ke)=>{try{const Nt=indexedDB.open(ve,pe);Nt.onsuccess=wn=>{Ze(new En(wn.target.result))},Nt.onerror=wn=>{var On;ke(`Error opening indexedDB: ${null===(On=wn.target.error)||void 0===On?void 0:On.message}`)},Nt.onupgradeneeded=wn=>{me(new En(Nt.result),wn.oldVersion,wn.newVersion,new Dt(Nt.transaction))}}catch(Nt){ke(`Error opening indexedDB: ${Nt.message}`)}})}function An(ve){return yn.apply(this,arguments)}function yn(){return(yn=(0,t.Z)(function*(ve){return new Promise((pe,me)=>{try{const Ze=indexedDB.deleteDatabase(ve);Ze.onsuccess=()=>{pe()},Ze.onerror=ke=>{var Nt;me(`Error deleting indexedDB database "${ve}": ${null===(Nt=ke.target.error)||void 0===Nt?void 0:Nt.message}`)}}catch(Ze){me(`Error deleting indexedDB database "${ve}": ${Ze.message}`)}})})).apply(this,arguments)}},2940:(nt,A,O)=>{"use strict";O.d(A,{T:()=>t});const t="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(nt,A,O)=>{"use strict";O.d(A,{X:()=>t});const t=[{barcode:"8717700002402",brand:"7 Up",name:"7 Up sin az\xfacar, 2L",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1},{barcode:"8410179010014",brand:"Borges",name:"Aceite de oliva suave",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",favourite:!1},{barcode:"8410179202006",brand:"Borges",name:"Aceite refinado de girasol botella 1 l",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",favourite:!1},{barcode:"8480000163141",brand:"Marca desconeguda",favourite:!0,name:"Acelgas",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg"},{barcode:"8480017574657",brand:"Dia",favourite:!1,name:"Acelgas categor\xeda extra",imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg"},{barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",favourite:!1},{barcode:"8410128000400",brand:"Bezoya",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",favourite:!1},{barcode:"8410128160074",brand:"Bezoya",favourite:!1,name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg"},{barcode:"8411002101701",brand:"Viladrau",name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",favourite:!1},{barcode:"8436551861951",brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg"},{barcode:"8410569615614",brand:"Amstel",name:"Amstel Radler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg"},{barcode:"8410337219082",brand:"An\xeds del Mono",name:"An\xeds dulce",imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1},{barcode:"8480000325242",brand:"Hacendado",name:"Aroma de Vainilla",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",favourite:!1},{barcode:"8410184800150",brand:"Brillante",favourite:!0,name:"Arroz integral",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg"},{barcode:"8410184013086",brand:"Brillante",name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg"},{barcode:"8410448000913",brand:"Schara",favourite:!1,name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg"},{barcode:"8431707094290",brand:"Granini",favourite:!0,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg"},{barcode:"8480000180926",brand:"Hacendado",favourite:!0,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg"},{barcode:"8436033878095",brand:"guest",favourite:!1,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg"},{barcode:"8410714107735",brand:"Azucarera",name:"Azucarera Sucre Glace 500G",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",favourite:!1},{barcode:"8436540562050",brand:"Espiga Blanca",name:"Bastones de cristal",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",favourite:!1},{barcode:"8076800195132",brand:"Barilla",name:"Bavette n.13",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg"},{barcode:"8423352861402",brand:"ALITEY",name:"Bebida de avena",imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1},{barcode:"8436551865355",brand:"Ametller Origen",name:"Beguda vegetal d'arr\xf2s",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg"},{barcode:"8480017175397",brand:"Dia",name:"Bicarbonato s\xf3dico",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg"},{barcode:"5410126716016",brand:"Lotus",favourite:!0,name:"Biscoff",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg"},{barcode:"8410179202020",brand:"Borges",name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",favourite:!1},{barcode:"8015100563067",brand:"Henkel",name:"Bref power active, alpine",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8422410473878",brand:"Bonpreu",favourite:!0,name:"Brots de Ruca",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg"},{barcode:"8410148509327",brand:"Borges",favourite:!0,name:"Cacahuete frito",imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg"},{barcode:"8480000341778",brand:"Hacendado",name:"Canela Molida",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",favourite:!1},{barcode:"8410721000180",brand:"Dani",name:"Canela molida",imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",favourite:!1},{barcode:"8480000064974",brand:"Hacendado",name:"Cannelloni tubos precocidos",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",favourite:!1},{barcode:"8480000136343",brand:"Hacendado",favourite:!0,name:"Capsula cafe classic",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg"},{barcode:"8412945008508",brand:"Espiga Blanca",name:"Cebolla frita",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg"},{barcode:"8410706000266",brand:"Recondo",name:"Chapata",imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",favourite:!1},{barcode:"80177616",brand:"Kinder,Ferrero",name:"Chocolate bars x 8",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1},{barcode:"7613035268388",brand:"Nestl\xe9",favourite:!0,name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg"},{barcode:"8436554524570",brand:"Ametller origen",name:"Crema ceba i formatge",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",favourite:!0},{barcode:"8422410809851",brand:"Bonpreu",name:"Crema de Aceite Balsamico de Modena",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!0},{barcode:"8436554523979",brand:"Ametller Origen",favourite:!1,name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg"},{barcode:"8436583955093",brand:"Novell",name:"C\xe0psules de caf\xe9 intens 16u.",favourite:!0,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000325273",brand:"Hacendado",name:"Decoraciones",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",favourite:!1},{barcode:"5054563101648",brand:"Sensodyne",name:"Dent\xedfrico blanqueante, 100ml",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8410022115255",brand:"Marca desconeguda",favourite:!1,name:"Donettes",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg"},{barcode:"5900685007910",brand:"Seagram's",name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",favourite:!1},{barcode:"7613036569927",brand:"Nestl\xe9",favourite:!0,name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg"},{barcode:"8436583952054",brand:"Ametller origen",name:"Emmental",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg"},{barcode:"3560070119851",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg"},{barcode:"8414516070167",brand:"Florette",favourite:!0,name:"Ensalada mixta",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg"},{barcode:"8436551862880",brand:"Ametller Origen",favourite:!0,name:"Espaguetis a la Carbornara",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg"},{barcode:"7613035260924",brand:"Nescafe",name:"Espresso intenso descafeinado",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg"},{barcode:"8410564002204",brand:"Frit Ravich",favourite:!0,name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg"},{barcode:"8422410040872",brand:"Bonpreu",favourite:!0,name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg"},{barcode:"8076808060654",brand:"Barilla",favourite:!0,name:"Farfalle",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg"},{barcode:"3057068056781",brand:"OCB",name:"Filtros slim, 150 u.",imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",favourite:!1},{barcode:"8410739033002",brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",favourite:!1},{barcode:"8410055033014",brand:"Danone",name:"Font Vella",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg"},{barcode:"8410055133394",brand:"Danone",favourite:!1,name:"Font Vella",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg"},{barcode:"5029053010052",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",favourite:!0},{barcode:"8076802085981",brand:"Barilla",favourite:!0,name:"Fusilli",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg"},{barcode:"8437019000004",brand:"Carolina",name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",favourite:!1},{barcode:"8422410177851",brand:"Bonpreu",name:"Garbanzos cocidos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg"},{barcode:"8410505512267",brand:"Luengo",favourite:!0,name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg"},{barcode:"8420309210115",brand:"Pe\xf1a Torcal",favourite:!0,name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg"},{barcode:"8422410387915",brand:"Bonpreu",favourite:!0,name:"Hamburguesa de l'era",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg"},{barcode:"8410564016157",brand:"Frit Ravich",name:"Higos secos",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg"},{barcode:"8410091104488",brand:"Hornimans",name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",favourite:!1},{barcode:"8436554522279",brand:"Ametller origen",favourite:!0,name:"Iogurt cremos macedonia",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg"},{barcode:"8437011969217",brand:"Ametller Origen",favourite:!0,name:"Iogurt cremoso amb maduixa",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg"},{barcode:"8001841624143",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"3560071152413",brand:"Carrefour",name:"Jumbo Roll, Papel rollo multiusos",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"4008400203829",brand:"Kinder,Ferrero",favourite:!0,name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg"},{barcode:"8410135001322",brand:"Ato",name:"Leche",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg"},{barcode:"8431876005912",brand:"Carrefour",favourite:!1,name:"Lenteja a la riojana",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg"},{barcode:"8426765495240",brand:"HC Premium",name:"Lentejas pardinas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg"},{barcode:"8435041321364",brand:"Nature Essential",name:"Levadura de Cerveza",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",favourite:!1},{barcode:"8006540576588",brand:"Don Limpio",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"7613033481314",brand:"Nestl\xe9",name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",favourite:!1},{barcode:"3574661648019",name:"Listerine Cuidado Total 500ml",brand:"Johnson & Johnson",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8437004314031",brand:"Llet Nostra",name:"Llet Semi Desnatada Nostra",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",favourite:!1},{barcode:"8480000792013",brand:"Deliplus",name:"Loci\xf3n aloe vera",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",favourite:!1},{barcode:"8714100635650",brand:"Magnum",favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg"},{barcode:"8421660006010",brand:"Ametller Origen",name:"Magdalenas gegants",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",favourite:!0},{barcode:"8413100612639",brand:"Arias,Savencia",favourite:!1,name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg"},{barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg"},{barcode:"8410091301405",brand:"Marcilla",name:"Marcilla caf\xe9 superior creme express natural",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg"},{barcode:"8480000167644",brand:"Hacendado",name:"Ma\xedz dulce",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg"},{barcode:"3073780902366",brand:"Bel",favourite:!1,name:"Mini Babybel",imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg"},{barcode:"8000270018257",brand:"Bimbo",name:"Mini tostas redondas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg"},{barcode:"3560070347438",brand:"Carrefour",favourite:!1,name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg"},{barcode:"8436540566942",brand:"Espiga blanca",name:"Minicracker fibra",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg"},{barcode:"8480000644916",brand:"Hacendado",favourite:!0,name:"Mochi Coco",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg"},{barcode:"8410118041574",brand:"Prima",name:"Mostaza",imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",favourite:!1},{barcode:"8480000093554",brand:"Hacendado",name:"Muesli crunchy chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",favourite:!1},{barcode:"8431876305395",brand:"Carrefour",name:"Nachos redondos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg"},{barcode:"7613039490266",brand:"Nestl\xe9",name:"Nesquik",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg"},{barcode:"8411135005037",brand:"Marca desconeguda",favourite:!1,name:"Nom desconegut",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{barcode:"4002160092501",brand:"Granini",favourite:!1,name:"N\xe9ctar naranja briks",imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg"},{barcode:"8410179012018",brand:"Borges",favourite:!0,name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg"},{barcode:"8436551860251",brand:"Ametller Origen",favourite:!0,name:"Oli d\u2019oliva",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg"},{barcode:"8422410412044",brand:"Bonpreu",name:"Oli refinat de gira-sol",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8422410299744",brand:"Bonpreu",name:"Ous frescos pag\xe8s",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",favourite:!1},{barcode:"8436583954577",brand:"Ametller Origen",favourite:!0,name:"Pa de vidre",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg"},{barcode:"8436583954539",brand:"ametller origen",favourite:!0,name:"Pa de vidre tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg"},{barcode:"8410091024915",brand:"Hornimans",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",favourite:!1},{barcode:"3045320052244",brand:"Saint Aubert",favourite:!0,name:"Palets breton galletas de mantequilla",imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg"},{barcode:"8412170026896",brand:"Santiveri",name:"Pan Dextrin Integral Santiveri",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",favourite:!1},{barcode:"8410086000856",brand:"La Hacienda",name:"Patata entera",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg"},{barcode:"8436554525140",brand:"Ametller Origen",name:"Patata, pastanaga i mongeta tendra cuinats al buit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg"},{barcode:"8413585017240",brand:"Bonarea",name:"Patatas Fritas",imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",favourite:!1},{barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg"},{barcode:"8410954000711",brand:"Rioverde",name:"Pepinillos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg"},{barcode:"8413475312615",brand:"Marca desconeguda",favourite:!1,name:"Pernil cuit ral",imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg"},{barcode:"7076848513753",brand:"Barilla",name:"Pesto alla genovese",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg"},{barcode:"8436554529629",brand:"Ametller Origen",name:"Pit de pollastre amb herbes",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg"},{barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg"},{barcode:"8436551864709",brand:"Ametller Origen",favourite:!0,name:"Pollastre al curri vermell",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg"},{barcode:"8436583957110",name:"Pollastre al ximixurri",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8412900401153",brand:"Pompadour",name:"Pompadour Tomillo",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg"},{barcode:"8480000664129",brand:"Steinburg",name:"Radler Steinburg",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg"},{barcode:"8480000049056",brand:"Hacendado",name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",favourite:!0},{barcode:"8410091024953",brand:"Hornimans",name:"Rooibos con especias",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1},{barcode:"4019400440657",brand:"Halloren",name:"Royal mints",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1},{barcode:"8410604112344",brand:"Sal Costa",name:"Sal De Frutas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg"},{barcode:"8480000290168",brand:"Hacendado",name:"Sal de frutas sabor lim\xf3n",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",favourite:!1},{barcode:"8480000581518",brand:"Hacienda Iberico",favourite:!1,name:"Salchich\xf3n ib\xe9rico",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8427230989189",brand:"Espinaler",name:"Salsa Espinaler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg"},{barcode:"8410069018717",brand:"Gallo",name:"Salsa bolo\xf1esa",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg"},{barcode:"8436551860923",brand:"Ametller Origen",name:"Salsa de tomate casera",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg"},{barcode:"8436551862040",brand:"Ametller Origen",favourite:!1,name:"Saltat de Verdures Mediterrani",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg"},{barcode:"8480000610652",brand:"Hacendado",favourite:!0,name:"Salteado de verduras vegetais",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg"},{barcode:"5011428300035",brand:"Maldon",name:"Sea Salt Flakes",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5054563099082",name:"Sensodyne repair & protect",brand:"Sensodyne",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5050083560262",brand:"Kellogg's",name:"Smacks With Honey",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg"},{barcode:"8076800195057",brand:"Barilla",name:"Spaghetti n.5",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg"},{barcode:"3269612045008",brand:"Jean Brunet",favourite:!1,name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg"},{barcode:"8410091103306",brand:"Hornimans",name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",favourite:!1},{barcode:"3045206312257",brand:"Sanytol",favourite:!0,name:"Toallitas desinfectantes",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8436583950449",brand:"Ametller Origen",favourite:!0,name:"Tomaquet de sucar",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg"},{barcode:"8422410170760",brand:"Bonpreu",name:"Tom\xe0quet Fregit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg"},{barcode:"8437011969903",brand:"Ametller Origen",name:"Trinxat de la cerdanya",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!0},{barcode:"8437008006420",brand:"Ametller Origen",name:"Truita carxofa",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",favourite:!0},{barcode:"8410495541070",brand:"Vicens",name:"Turr\xf3n souffl\xe9 avellana chocolate",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8412900401207",brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",favourite:!1},{barcode:"8422410598977",brand:"Bonpreu",name:"VINAGRE de vi negre",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8411002105006",brand:"Viladrau",name:"Viladrau Agua Mineral 5L.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"8480000049537",brand:"Hacendado",name:"Vinagre de Jerez reserva",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",favourite:!1},{barcode:"8410793031945",brand:"Voll-Damm",name:"Voll-damm Cerveza Doble Malta",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg"},{barcode:"5000111040983",brand:"Lea & Perrins",name:"Worcestershire sauce",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg"},{barcode:"8435037550631",brand:"Ametller Origen",name:"Xori\xe7 extra",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000390103",brand:"Hacendado",name:"Zumo pura naranja",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",favourite:!1},{barcode:"8436551867502",brand:"ametller origen",favourite:!0,name:"brots selectes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg"},{barcode:"8003753900438",brand:"Illy",name:"coffee tin",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",favourite:!1},{barcode:"8410199023094",brand:"Marca desconeguda",name:"lay\u2019s gourmet original",imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",favourite:!1}]},7296:(nt,A,O)=>{"use strict";O.d(A,{H:()=>t});const t=[{id:"aldi",name:"ALDI",favourite:!1,default:!0,imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg"},{id:"alcampo",name:"Alcampo",favourite:!1,default:!0,imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png"},{id:"ametller",name:"Ametller Origen",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU"},{id:"bonpreu",name:"Bonpreu Esclat",favourite:!0,default:!0,imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{id:"bonarea",name:"Bon\xc0rea",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU"},{id:"caprabo",name:"Caprabo",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU"},{id:"carrefour",name:"Carrefour",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU"},{id:"clarel",name:"Clarel",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU"},{id:"condis",name:"Condis",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU"},{id:"consum",name:"Consum",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU"},{id:"dia",name:"Dia",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",name:"Eroski",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU"},{id:"hipercor",name:"Hipercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU"},{id:"lasirena",name:"La Sirena",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU"},{id:"lidl",name:"Lidl",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU"},{id:"makro",name:"Makro",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU"},{id:"mercadona",name:"Mercadona",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU"},{id:"sorli",name:"Sorli",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU"},{id:"supercor",name:"Supercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU"},{id:"supersol",name:"Supersol",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU"},{id:"veritas",name:"Veritas",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU"}]},3701:(nt,A,O)=>{"use strict";O.d(A,{M:()=>t});const t={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE"}},1343:(nt,A,O)=>{"use strict";O.d(A,{C:()=>j});var t=O(2292),C=O(8996),E=O(9646),N=O(3209),M=O(5e3);let j=(()=>{class ${constructor(J){this.firestore=J}addShop(J){console.log("FirestoreService.addShop()",J);const z=(0,t.hJ)(this.firestore,"shops");return(0,C.D)((0,t.ET)(z,J))}addShops(J){console.log("FirestoreService.addShops()",J);const z=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ce=(0,t.hJ)(this.firestore,"shops"),Ye=(0,t.JU)(ce);z.set(Ye,ne)}),z.commit(),(0,E.of)(!0)}deleteShop(J){console.log("FirestoreService.deleteShop()",J);const z=(0,t.JU)(this.firestore,`shops/${J}`);return(0,C.D)((0,N.oe)(z))}updateShop(J){console.log("FirestoreService.updateShop()",J);const z=(0,t.JU)(this.firestore,`shops/${J.id}`);return(0,C.D)((0,N.pl)(z,J))}getShops(){console.log("FirestoreService.getShops()");const J=(0,t.hJ)(this.firestore,"shops");return(0,t.BS)(J)}getProducts(){console.log("FirestoreService.getProducts()");const J=(0,t.hJ)(this.firestore,"products");return(0,t.BS)(J,{idField:"id"})}addProduct(J){console.log("FirestoreService.addProduct()",J);const z=(0,t.hJ)(this.firestore,"products");return(0,C.D)((0,t.ET)(z,J))}addProducts(J){console.log("FirestoreService.addProducts()",J);const z=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ce=(0,t.hJ)(this.firestore,"products"),Ye=(0,t.JU)(ce);z.set(Ye,ne)}),z.commit(),(0,E.of)(!0)}deleteProduct(J){console.log("FirestoreService.deleteProduct()",J);const z=(0,t.JU)(this.firestore,`products/${J}`);return(0,C.D)((0,N.oe)(z))}updateProduct(J){console.log("FirestoreService.updateProduct()",J);const z=(0,t.JU)(this.firestore,`products/${J.id}`);return(0,C.D)((0,N.pl)(z,J))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const J=(0,t.hJ)(this.firestore,"shopsProducts");return(0,t.BS)(J)}deleteShopProduct(J){console.log("FirestoreService.deleteShopProduct()",J);const z=(0,t.JU)(this.firestore,`shopsProducts/${J.id}`);return(0,C.D)((0,N.oe)(z))}deleteShopProducts(J){console.log("FirestoreService.deleteShopProducts()",J);const z=(0,N.qs)(this.firestore);return J.forEach(ne=>{(0,t.hJ)(this.firestore,"shopsProducts");const Ye=(0,t.JU)(this.firestore,`shopsProducts/${ne.id}`);z.delete(Ye)}),z.commit(),(0,E.of)(!0)}addShopProduct(J){console.log("FirestoreService.addShopProduct()",J);const z=(0,t.hJ)(this.firestore,"shopsProducts");return(0,C.D)((0,t.ET)(z,J))}addShopProducts(J){console.log("FirestoreService.addShopProducts()",J);const z=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ce=(0,t.hJ)(this.firestore,"shopsProducts"),Ye=(0,t.JU)(ce);z.set(Ye,ne)}),z.commit(),(0,E.of)(!0)}}return $.\u0275fac=function(J){return new(J||$)(M.LFG(t.gg))},$.\u0275prov=M.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},4120:(nt,A,O)=>{"use strict";O.d(A,{r:()=>N});var t=O(7579),C=O(3701),E=O(5e3);let N=(()=>{class M{constructor(){this.user=new t.x}login($){$.lastLogin=(new Date).getTime(),this.user.next($),localStorage.setItem(C.M.PS_LOGGED_USER,JSON.stringify($))}logout(){localStorage.removeItem(C.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin($){return(null==$?void 0:$.email.startsWith("jollmat@"))||(null==$?void 0:$.email.startsWith("joan.lloria@"))||(null==$?void 0:$.email.startsWith("joanlloria@"))}getLoggedUser(){let $=JSON.parse(localStorage.getItem(C.M.PS_LOGGED_USER));if($)return $=$,$.admin=this.checkIsAdmin($),$}isLoggedUser(){return null!=this.getLoggedUser()}}return M.\u0275fac=function($){return new($||M)},M.\u0275prov=E.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(nt=>{this._products=nt}),this.loadProducts().subscribe(()=>{},nt=>{console.log("Error carregant productes")})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addProducts(nt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(nt),this.checkFavourites(nt),this.products.next(nt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addProducts(nt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(nt),this.checkFavourites(nt),this.products.next(nt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(nt){let A=this.getFavourites();return nt.favourite?A.push(nt.barcode):A=A.filter(O=>O!==nt.barcode),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(nt){nt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateProduct(nt,A){return console.log("ProductService.updateProduct()",nt),A||this.toggleFavourite(nt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(nt){return console.log("ProductService.createProduct()",nt),nt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(nt),this.products.next(this._products)})):(this._products.push(nt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(nt){return console.log("ProductService.removeProduct()",nt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(A=>A.id!==nt),this.products.next(this._products)})):(this._products=this._products.filter(A=>A.id!==nt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(nt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(nt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(nt){const A=this.getFavourites();nt.map(O=>{O.favourite=A.indexOf(O.barcode)>-1})}}return ProductService.\u0275fac=function nt(A){return new(A||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(nt=>{this._shops=nt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addShops(nt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(nt),this.checkFavourites(nt),this.shops.next(nt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addShops(nt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(nt),this.checkFavourites(nt),this.shops.next(nt)}))}toggleFavourite(nt){let A=this.getFavourites();return nt.favourite?A.push(nt.id):A=A.filter(O=>O!==nt.id),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(nt){nt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateShop(nt){return console.log("ShopService.updateShop()",nt),this.toggleFavourite(nt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(nt){return console.log("ShopService.createShop()",nt),nt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(nt),this.shops.next(this._shops)})):(this._shops.push(nt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(nt){return console.log("ShopService.removeShop()",nt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(A=>A.id!==nt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(A=>A.id!==nt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(nt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(nt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(nt){const A=this.getFavourites();nt.map(O=>{O.favourite=A.indexOf(O.id)>-1})}}return ShopService.\u0275fac=function nt(A){return new(A||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(nt,A,O)=>{"use strict";O.d(A,{q:()=>t});const t={defaultLanguage:"ca",cloudMode:!1}},3530:(nt,A,O)=>{"use strict";var t=O(5e3);let C=null;function E(){return C}const $=new t.OlP("DocumentToken");let W=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function J(){return(0,t.LFG)(ne)}()},providedIn:"platform"}),n})();const z=new t.OlP("Location Initialized");let ne=(()=>{class n extends W{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(e){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){ce()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){ce()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Ye(){return new ne((0,t.LFG)($))}()},providedIn:"platform"}),n})();function ce(){return!!window.history.pushState}function $e(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function Ge(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Oe(n){const r=(0,t.LFG)($).location;return new rt((0,t.LFG)(W),r&&r.origin||"")}()},providedIn:"root"}),n})();const De=new t.OlP("appBaseHref");let rt=(()=>{class n extends ue{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $e(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ut(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,p){const b=this.prepareExternalUrl(l+ut(p));this._platformLocation.pushState(e,o,b)}replaceState(e,o,l,p){const b=this.prepareExternalUrl(l+ut(p));this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W),t.LFG(De,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends ue{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=$e(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,p){let b=this.prepareExternalUrl(l+ut(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(e,o,b)}replaceState(e,o,l,p){let b=this.prepareExternalUrl(l+ut(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(W),t.LFG(De,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(e,o){this._subject=new t.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ge(Ie(l)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ut(o))}normalize(e){return n.stripTrailingSlash(function He(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Ie(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return n.normalizeQueryParams=ut,n.joinWithSlash=$e,n.stripTrailingSlash=Ge,n.\u0275fac=function(e){return new(e||n)(t.LFG(ue),t.LFG(W))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function we(){return new qe((0,t.LFG)(ue),(0,t.LFG)(W))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Q=(()=>((Q=Q||{})[Q.Format=0]="Format",Q[Q.Standalone=1]="Standalone",Q))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Me=(()=>((Me=Me||{})[Me.Short=0]="Short",Me[Me.Medium=1]="Medium",Me[Me.Long=2]="Long",Me[Me.Full=3]="Full",Me))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function kn(n,r){return Vr((0,t.cg1)(n)[t.wAp.DateFormat],r)}function yr(n,r){return Vr((0,t.cg1)(n)[t.wAp.TimeFormat],r)}function nr(n,r){return Vr((0,t.cg1)(n)[t.wAp.DateTimeFormat],r)}function Qn(n,r){const e=(0,t.cg1)(n),o=e[t.wAp.NumberSymbols][r];if(void 0===o){if(r===de.CurrencyDecimal)return e[t.wAp.NumberSymbols][de.Decimal];if(r===de.CurrencyGroup)return e[t.wAp.NumberSymbols][de.Group]}return o}function Br(n){if(!n[t.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[t.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vr(n,r){for(let e=r;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function $r(n){const[r,e]=n.split(":");return{hours:+r,minutes:+e}}const Xe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yt={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Mt=(()=>((Mt=Mt||{})[Mt.Short=0]="Short",Mt[Mt.ShortGMT=1]="ShortGMT",Mt[Mt.Long=2]="Long",Mt[Mt.Extended=3]="Extended",Mt))(),wt=(()=>((wt=wt||{})[wt.FullYear=0]="FullYear",wt[wt.Month=1]="Month",wt[wt.Date=2]="Date",wt[wt.Hours=3]="Hours",wt[wt.Minutes=4]="Minutes",wt[wt.Seconds=5]="Seconds",wt[wt.FractionalSeconds=6]="FractionalSeconds",wt[wt.Day=7]="Day",wt))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function mn(n,r,e,o){let l=function On(n){if(Gn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[l,p=1,b=1]=n.split("-").map(x=>+x);return en(l,p-1,b)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let o;if(o=n.match(Xe))return function rr(n){const r=new Date(0);let e=0,o=0;const l=n[8]?r.setUTCFullYear:r.setFullYear,p=n[8]?r.setUTCHours:r.setHours;n[9]&&(e=Number(n[9]+n[10]),o=Number(n[9]+n[11])),l.call(r,Number(n[1]),Number(n[2])-1,Number(n[3]));const b=Number(n[4]||0)-e,x=Number(n[5]||0)-o,k=Number(n[6]||0),K=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return p.call(r,b,x,k,K),r}(o)}const r=new Date(n);if(!Gn(r))throw new Error(`Unable to convert "${n}" into a date`);return r}(n);r=Qt(e,r)||r;let x,b=[];for(;r;){if(x=kt.exec(r),!x){b.push(r);break}{b=b.concat(x.slice(1));const he=b.pop();if(!he)break;r=he}}let k=l.getTimezoneOffset();o&&(k=ke(o,k),l=function wn(n,r,e){const o=e?-1:1,l=n.getTimezoneOffset();return function Nt(n,r){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+r),n}(n,o*(ke(r,l)-l))}(l,o,!0));let K="";return b.forEach(he=>{const Ne=function Ze(n){if(me[n])return me[n];let r;switch(n){case"G":case"GG":case"GGG":r=En(Lt.Eras,ge.Abbreviated);break;case"GGGG":r=En(Lt.Eras,ge.Wide);break;case"GGGGG":r=En(Lt.Eras,ge.Narrow);break;case"y":r=Ht(wt.FullYear,1,0,!1,!0);break;case"yy":r=Ht(wt.FullYear,2,0,!0,!0);break;case"yyy":r=Ht(wt.FullYear,3,0,!1,!0);break;case"yyyy":r=Ht(wt.FullYear,4,0,!1,!0);break;case"Y":r=pe(1);break;case"YY":r=pe(2,!0);break;case"YYY":r=pe(3);break;case"YYYY":r=pe(4);break;case"M":case"L":r=Ht(wt.Month,1,1);break;case"MM":case"LL":r=Ht(wt.Month,2,1);break;case"MMM":r=En(Lt.Months,ge.Abbreviated);break;case"MMMM":r=En(Lt.Months,ge.Wide);break;case"MMMMM":r=En(Lt.Months,ge.Narrow);break;case"LLL":r=En(Lt.Months,ge.Abbreviated,Q.Standalone);break;case"LLLL":r=En(Lt.Months,ge.Wide,Q.Standalone);break;case"LLLLL":r=En(Lt.Months,ge.Narrow,Q.Standalone);break;case"w":r=ve(1);break;case"ww":r=ve(2);break;case"W":r=ve(1,!0);break;case"d":r=Ht(wt.Date,1);break;case"dd":r=Ht(wt.Date,2);break;case"c":case"cc":r=Ht(wt.Day,1);break;case"ccc":r=En(Lt.Days,ge.Abbreviated,Q.Standalone);break;case"cccc":r=En(Lt.Days,ge.Wide,Q.Standalone);break;case"ccccc":r=En(Lt.Days,ge.Narrow,Q.Standalone);break;case"cccccc":r=En(Lt.Days,ge.Short,Q.Standalone);break;case"E":case"EE":case"EEE":r=En(Lt.Days,ge.Abbreviated);break;case"EEEE":r=En(Lt.Days,ge.Wide);break;case"EEEEE":r=En(Lt.Days,ge.Narrow);break;case"EEEEEE":r=En(Lt.Days,ge.Short);break;case"a":case"aa":case"aaa":r=En(Lt.DayPeriods,ge.Abbreviated);break;case"aaaa":r=En(Lt.DayPeriods,ge.Wide);break;case"aaaaa":r=En(Lt.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":r=En(Lt.DayPeriods,ge.Abbreviated,Q.Standalone,!0);break;case"bbbb":r=En(Lt.DayPeriods,ge.Wide,Q.Standalone,!0);break;case"bbbbb":r=En(Lt.DayPeriods,ge.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":r=En(Lt.DayPeriods,ge.Abbreviated,Q.Format,!0);break;case"BBBB":r=En(Lt.DayPeriods,ge.Wide,Q.Format,!0);break;case"BBBBB":r=En(Lt.DayPeriods,ge.Narrow,Q.Format,!0);break;case"h":r=Ht(wt.Hours,1,-12);break;case"hh":r=Ht(wt.Hours,2,-12);break;case"H":r=Ht(wt.Hours,1);break;case"HH":r=Ht(wt.Hours,2);break;case"m":r=Ht(wt.Minutes,1);break;case"mm":r=Ht(wt.Minutes,2);break;case"s":r=Ht(wt.Seconds,1);break;case"ss":r=Ht(wt.Seconds,2);break;case"S":r=Ht(wt.FractionalSeconds,1);break;case"SS":r=Ht(wt.FractionalSeconds,2);break;case"SSS":r=Ht(wt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=et(Mt.Short);break;case"ZZZZZ":r=et(Mt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=et(Mt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=et(Mt.Long);break;default:return null}return me[n]=r,r}(he);K+=Ne?Ne(l,e,k):"''"===he?"'":he.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),K}function en(n,r,e){const o=new Date(0);return o.setFullYear(n,r,e),o.setHours(0,0,0),o}function Qt(n,r){const e=function St(n){return(0,t.cg1)(n)[t.wAp.LocaleId]}(n);if(yt[e]=yt[e]||{},yt[e][r])return yt[e][r];let o="";switch(r){case"shortDate":o=kn(n,Me.Short);break;case"mediumDate":o=kn(n,Me.Medium);break;case"longDate":o=kn(n,Me.Long);break;case"fullDate":o=kn(n,Me.Full);break;case"shortTime":o=yr(n,Me.Short);break;case"mediumTime":o=yr(n,Me.Medium);break;case"longTime":o=yr(n,Me.Long);break;case"fullTime":o=yr(n,Me.Full);break;case"short":const l=Qt(n,"shortTime"),p=Qt(n,"shortDate");o=Mn(nr(n,Me.Short),[l,p]);break;case"medium":const b=Qt(n,"mediumTime"),x=Qt(n,"mediumDate");o=Mn(nr(n,Me.Medium),[b,x]);break;case"long":const k=Qt(n,"longTime"),K=Qt(n,"longDate");o=Mn(nr(n,Me.Long),[k,K]);break;case"full":const he=Qt(n,"fullTime"),Ne=Qt(n,"fullDate");o=Mn(nr(n,Me.Full),[he,Ne])}return o&&(yt[e][r]=o),o}function Mn(n,r){return r&&(n=n.replace(/\{([^}]+)}/g,function(e,o){return null!=r&&o in r?r[o]:e})),n}function Cn(n,r,e="-",o,l){let p="";(n<0||l&&n<=0)&&(l?n=1-n:(n=-n,p=e));let b=String(n);for(;b.length<r;)b="0"+b;return o&&(b=b.substr(b.length-r)),p+b}function Ht(n,r,e=0,o=!1,l=!1){return function(p,b){let x=function vr(n,r){switch(n){case wt.FullYear:return r.getFullYear();case wt.Month:return r.getMonth();case wt.Date:return r.getDate();case wt.Hours:return r.getHours();case wt.Minutes:return r.getMinutes();case wt.Seconds:return r.getSeconds();case wt.FractionalSeconds:return r.getMilliseconds();case wt.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,p);if((e>0||x>-e)&&(x+=e),n===wt.Hours)0===x&&-12===e&&(x=12);else if(n===wt.FractionalSeconds)return function Wn(n,r){return Cn(n,3).substr(0,r)}(x,r);const k=Qn(b,de.MinusSign);return Cn(x,r,k,o,l)}}function En(n,r,e=Q.Format,o=!1){return function(l,p){return function Dt(n,r,e,o,l,p){switch(e){case Lt.Months:return function mt(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.MonthsFormat],o[t.wAp.MonthsStandalone]],r);return Vr(p,e)}(r,l,o)[n.getMonth()];case Lt.Days:return function Tt(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.DaysFormat],o[t.wAp.DaysStandalone]],r);return Vr(p,e)}(r,l,o)[n.getDay()];case Lt.DayPeriods:const b=n.getHours(),x=n.getMinutes();if(p){const K=function wi(n){const r=(0,t.cg1)(n);return Br(r),(r[t.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?$r(o):[$r(o[0]),$r(o[1])])}(r),he=function gn(n,r,e){const o=(0,t.cg1)(n);Br(o);const p=Vr([o[t.wAp.ExtraData][0],o[t.wAp.ExtraData][1]],r)||[];return Vr(p,e)||[]}(r,l,o),Ne=K.findIndex(Je=>{if(Array.isArray(Je)){const[We,ft]=Je,bt=b>=We.hours&&x>=We.minutes,Kt=b<ft.hours||b===ft.hours&&x<ft.minutes;if(We.hours<ft.hours){if(bt&&Kt)return!0}else if(bt||Kt)return!0}else if(Je.hours===b&&Je.minutes===x)return!0;return!1});if(-1!==Ne)return he[Ne]}return function pn(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.DayPeriodsFormat],o[t.wAp.DayPeriodsStandalone]],r);return Vr(p,e)}(r,l,o)[b<12?0:1];case Lt.Eras:return function At(n,r){return Vr((0,t.cg1)(n)[t.wAp.Eras],r)}(r,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,p,n,r,e,o)}}function et(n){return function(r,e,o){const l=-1*o,p=Qn(e,de.MinusSign),b=l>0?Math.floor(l/60):Math.ceil(l/60);switch(n){case Mt.Short:return(l>=0?"+":"")+Cn(b,2,p)+Cn(Math.abs(l%60),2,p);case Mt.ShortGMT:return"GMT"+(l>=0?"+":"")+Cn(b,1,p);case Mt.Long:return"GMT"+(l>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(l%60),2,p);case Mt.Extended:return 0===o?"Z":(l>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${n}"`)}}}function yn(n){return en(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function ve(n,r=!1){return function(e,o){let l;if(r){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,b=e.getDate();l=1+Math.floor((b+p)/7)}else{const p=yn(e),b=function An(n){const r=en(n,0,1).getDay();return en(n,0,1+(r<=4?4:11)-r)}(p.getFullYear()),x=p.getTime()-b.getTime();l=1+Math.round(x/6048e5)}return Cn(l,n,Qn(o,de.MinusSign))}}function pe(n,r=!1){return function(e,o){return Cn(yn(e).getFullYear(),n,Qn(o,de.MinusSign),r)}}const me={};function ke(n,r){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?r:e}function Gn(n){return n instanceof Date&&!isNaN(n.valueOf())}const tr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Vn(n){const r=parseInt(n);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+n);return r}function Ir(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const o=e.indexOf("="),[l,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===r)return decodeURIComponent(p)}return null}let Mr=(()=>{class n{constructor(e,o,l,p){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=l,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(l=>{o?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class ki{constructor(r,e,o,l){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class n{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,p,b)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new ki(l.item,this._ngForOf,-1,-1),null===b?void 0:b);else if(null==b)o.remove(null===p?void 0:p);else if(null!==p){const x=o.get(p);o.move(x,b),zi(x,l)}});for(let l=0,p=o.length;l<p;l++){const x=o.get(l).context;x.index=l,x.count=p,x.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{zi(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function zi(n,r){n.context.$implicit=r.item}let Fe=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new Pe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ot("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ot("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Pe{constructor(){this.$implicit=null,this.ngIf=null}}function ot(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,t.AaK)(r)}'.`)}let qr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[t.TTD]}),n})();function Fi(n,r){return new t.vHH(2100,"")}const Ns=new t.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let ts=(()=>{class n{constructor(e,o){this.locale=e,this.defaultTimezone=o}transform(e,o="mediumDate",l,p){var b;if(null==e||""===e||e!=e)return null;try{return mn(e,o,p||this.locale,null!==(b=null!=l?l:this.defaultTimezone)&&void 0!==b?b:void 0)}catch(x){throw Fi()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16),t.Y36(Ns,24))},n.\u0275pipe=t.Yjl({name:"date",type:n,pure:!0}),n})(),Uo=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"json",type:n,pure:!1}),n})(),P=(()=>{class n{constructor(e){this._locale=e}transform(e,o,l){if(!function Z(n){return!(null==n||""===n||n!=n)}(e))return null;l=l||this._locale;try{return function Ct(n,r,e){return function jt(n,r,e,o,l,p,b=!1){let x="",k=!1;if(isFinite(n)){let K=function on(n){let o,l,p,b,x,r=Math.abs(n)+"",e=0;for((l=r.indexOf("."))>-1&&(r=r.replace(".","")),(p=r.search(/e/i))>0?(l<0&&(l=p),l+=+r.slice(p+1),r=r.substring(0,p)):l<0&&(l=r.length),p=0;"0"===r.charAt(p);p++);if(p===(x=r.length))o=[0],l=1;else{for(x--;"0"===r.charAt(x);)x--;for(l-=p,o=[],b=0;p<=x;p++,b++)o[b]=Number(r.charAt(p))}return l>22&&(o=o.splice(0,21),e=l-1,l=1),{digits:o,exponent:e,integerLen:l}}(n);b&&(K=function Xt(n){if(0===n.digits[0])return n;const r=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===r?n.digits.push(0,0):1===r&&n.digits.push(0),n.integerLen+=2),n}(K));let he=r.minInt,Ne=r.minFrac,Je=r.maxFrac;if(p){const bn=p.match(tr);if(null===bn)throw new Error(`${p} is not a valid digit info`);const cr=bn[1],Sn=bn[3],fr=bn[5];null!=cr&&(he=Vn(cr)),null!=Sn&&(Ne=Vn(Sn)),null!=fr?Je=Vn(fr):null!=Sn&&Ne>Je&&(Je=Ne)}!function Tn(n,r,e){if(r>e)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${e}).`);let o=n.digits,l=o.length-n.integerLen;const p=Math.min(Math.max(r,l),e);let b=p+n.integerLen,x=o[b];if(b>0){o.splice(Math.max(n.integerLen,b));for(let Ne=b;Ne<o.length;Ne++)o[Ne]=0}else{l=Math.max(0,l),n.integerLen=1,o.length=Math.max(1,b=p+1),o[0]=0;for(let Ne=1;Ne<b;Ne++)o[Ne]=0}if(x>=5)if(b-1<0){for(let Ne=0;Ne>b;Ne--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[b-1]++;for(;l<Math.max(0,p);l++)o.push(0);let k=0!==p;const K=r+n.integerLen,he=o.reduceRight(function(Ne,Je,We,ft){return ft[We]=(Je+=Ne)<10?Je:Je-10,k&&(0===ft[We]&&We>=K?ft.pop():k=!1),Je>=10?1:0},0);he&&(o.unshift(he),n.integerLen++)}(K,Ne,Je);let We=K.digits,ft=K.integerLen;const bt=K.exponent;let Kt=[];for(k=We.every(bn=>!bn);ft<he;ft++)We.unshift(0);for(;ft<0;ft++)We.unshift(0);ft>0?Kt=We.splice(ft,We.length):(Kt=We,We=[0]);const ln=[];for(We.length>=r.lgSize&&ln.unshift(We.splice(-r.lgSize,We.length).join(""));We.length>r.gSize;)ln.unshift(We.splice(-r.gSize,We.length).join(""));We.length&&ln.unshift(We.join("")),x=ln.join(Qn(e,o)),Kt.length&&(x+=Qn(e,l)+Kt.join("")),bt&&(x+=Qn(e,de.Exponential)+"+"+bt)}else x=Qn(e,de.Infinity);return x=n<0&&!k?r.negPre+x+r.negSuf:r.posPre+x+r.posSuf,x}(n,function $t(n,r="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(";"),l=o[0],p=o[1],b=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],x=b[0],k=b[1]||"";e.posPre=x.substr(0,x.indexOf("#"));for(let he=0;he<k.length;he++){const Ne=k.charAt(he);"0"===Ne?e.minFrac=e.maxFrac=he+1:"#"===Ne?e.maxFrac=he+1:e.posSuf+=Ne}const K=x.split(",");if(e.gSize=K[1]?K[1].length:0,e.lgSize=K[2]||K[1]?(K[2]||K[1]).length:0,p){const he=l.length-e.posPre.length-e.posSuf.length,Ne=p.indexOf("#");e.negPre=p.substr(0,Ne).replace(/'/g,""),e.negSuf=p.substr(Ne+he).replace(/'/g,"")}else e.negPre=r+e.posPre,e.negSuf=e.posSuf;return e}(function Hr(n,r){return(0,t.cg1)(n)[t.wAp.NumberFormats][r]}(r,se.Decimal),Qn(r,de.MinusSign)),r,de.Group,de.Decimal,e)}(function le(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),l,o)}catch(p){throw Fi()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16))},n.\u0275pipe=t.Yjl({name:"number",type:n,pure:!0}),n})();let Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const ze="browser";let Kn=(()=>{class n{}return n.\u0275prov=(0,t.Yz7)({token:n,providedIn:"root",factory:()=>new Zr((0,t.LFG)($),window)}),n})();class Zr{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Ki(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const p=l.shadowRoot;if(p){const b=p.getElementById(r)||p.querySelector(`[name="${r}"]`);if(b)return b}l=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(o-p[0],l-p[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Lr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sr{}class Ia extends class rc extends class j{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function M(n){C||(C=n)}(new Ia)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Ma(){return Kr=Kr||document.querySelector("base"),Kr?Kr.getAttribute("href"):null}();return null==e?null:function Pa(n){Oa=Oa||document.createElement("a"),Oa.setAttribute("href",n);const r=Oa.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ir(document.cookie,r)}}let Oa,Kr=null;const Po=new t.OlP("TRANSITION_ID"),pu=[{provide:t.ip1,useFactory:function Li(n,r,e){return()=>{e.get(t.CZH).donePromise.then(()=>{const o=E(),l=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<l.length;p++)o.remove(l[p])})}},deps:[Po,$,t.zs3],multi:!0}];class rs{static init(){(0,t.VLi)(new rs)}addToWindow(r){t.dqk.getAngularTestability=(o,l=!0)=>{const p=r.findTestabilityInTree(o,l);if(null==p)throw new Error("Could not find testability for element.");return p},t.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),t.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),t.dqk.frameworkStabilizers||(t.dqk.frameworkStabilizers=[]),t.dqk.frameworkStabilizers.push(o=>{const l=t.dqk.getAllAngularTestabilities();let p=l.length,b=!1;const x=function(k){b=b||k,p--,0==p&&o(b)};l.forEach(function(k){k.whenStable(x)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const l=r.getTestability(e);return null!=l?l:o?E().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let ao=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const vs=new t.OlP("EventManagerPlugins");let Na=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let p=0;p<l.length;p++){const b=l[p];if(b.supports(e))return this._eventNameToPlugin.set(e,b),b}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(vs),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class ic{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const l=E().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let is=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ks=(()=>{class n extends is{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(p=>{const b=this._doc.createElement("style");b.textContent=p,l.push(o.appendChild(b))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Ac),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ac))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Ac(n){E().remove(n)}const zn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},il=/%COMP%/g;function Pt(n,r,e){for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?Pt(n,l,e):(l=l.replace(il,n),e.push(l))}return e}function jn(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let oi=(()=>{class n{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new sl(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case t.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new Mc(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case t.ifc.ShadowDom:return new Yl(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=Pt(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Na),t.LFG(ks),t.LFG(t.AFp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class sl{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(zn[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,l){if(l){e=l+":"+e;const p=zn[l];p?r.setAttributeNS(p,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const l=zn[o];l?r.removeAttributeNS(l,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,l){l&(t.JOm.DashCase|t.JOm.Important)?r.style.setProperty(e,o,l&t.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&t.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,jn(o)):this.eventManager.addEventListener(r,e,jn(o))}}class Mc extends sl{constructor(r,e,o,l){super(r),this.component=o;const p=Pt(l+"-"+o.id,o.styles,[]);e.addStyles(p),this.contentAttr=function ol(n){return"_ngcontent-%COMP%".replace(il,n)}(l+"-"+o.id),this.hostAttr=function oa(n){return"_nghost-%COMP%".replace(il,n)}(l+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class Yl extends sl{constructor(r,e,o,l){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Pt(l.id,l.styles,[]);for(let b=0;b<p.length;b++){const x=document.createElement("style");x.textContent=p[b],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Jl=(()=>{class n extends ic{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const gu=["alt","control","meta","shift"],vo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},bo={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},sa={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let La=(()=>{class n extends ic{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,l){const p=n.parseEventName(o),b=n.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>E().onAndCancel(e,p.domEventName,b))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const p=n._normalizeKey(o.pop());let b="";if(gu.forEach(k=>{const K=o.indexOf(k);K>-1&&(o.splice(K,1),b+=k+".")}),b+=p,0!=o.length||0===p.length)return null;const x={};return x.domEventName=l,x.fullKey=b,x}static getEventFullKey(e){let o="",l=function Ls(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&bo.hasOwnProperty(r)&&(r=bo[r]))}return vo[r]||r}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),gu.forEach(p=>{p!=l&&sa[p](e)&&(o+=p+".")}),o+=l,o}static eventCallback(e,o,l){return p=>{n.getEventFullKey(p)===e&&l.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const oc=(0,t.eFA)(t._c5,"browser",[{provide:t.Lbi,useValue:ze},{provide:t.g9A,useValue:function Bo(){Ia.makeCurrent(),rs.init()},multi:!0},{provide:$,useFactory:function aa(){return(0,t.RDi)(document),document},deps:[]}]),mu=[{provide:t.zSh,useValue:"root"},{provide:t.qLn,useFactory:function eh(){return new t.qLn},deps:[]},{provide:vs,useClass:Jl,multi:!0,deps:[$,t.R0b,t.Lbi]},{provide:vs,useClass:La,multi:!0,deps:[$]},{provide:oi,useClass:oi,deps:[Na,ks,t.AFp]},{provide:t.FYo,useExisting:oi},{provide:is,useExisting:ks},{provide:ks,useClass:ks,deps:[$]},{provide:t.dDg,useClass:t.dDg,deps:[t.R0b]},{provide:Na,useClass:Na,deps:[vs,t.R0b]},{provide:Sr,useClass:ao,deps:[]}];let Ua=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:t.AFp,useValue:e.appId},{provide:Po,useExisting:t.AFp},pu]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(n,12))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:mu,imports:[Ee,t.hGG]}),n})();"undefined"!=typeof window&&window;let No=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new(e||n):t.LFG(vu),o},providedIn:"root"}),n})(),vu=(()=>{class n extends No{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case t.q3G.NONE:return o;case t.q3G.HTML:return(0,t.qzn)(o,"HTML")?(0,t.z3N)(o):(0,t.EiD)(this._doc,String(o)).toString();case t.q3G.STYLE:return(0,t.qzn)(o,"Style")?(0,t.z3N)(o):o;case t.q3G.SCRIPT:if((0,t.qzn)(o,"Script"))return(0,t.z3N)(o);throw new Error("unsafe value used in a script context");case t.q3G.URL:return(0,t.yhl)(o),(0,t.qzn)(o,"URL")?(0,t.z3N)(o):(0,t.mCW)(String(o));case t.q3G.RESOURCE_URL:if((0,t.qzn)(o,"ResourceURL"))return(0,t.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,t.JVY)(e)}bypassSecurityTrustStyle(e){return(0,t.L6k)(e)}bypassSecurityTrustScript(e){return(0,t.eBb)(e)}bypassSecurityTrustUrl(e){return(0,t.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,t.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new e:function ua(n){return new vu(n.get($))}(t.LFG(t.zs3)),o},providedIn:"root"}),n})();O(8955);var ar=O(8996),Ei=O(8306);const{isArray:td}=Array,{getPrototypeOf:Rn,prototype:Yn,keys:oh}=Object;function rn(n){if(1===n.length){const r=n[0];if(td(r))return{args:r,keys:null};if(function pt(n){return n&&"object"==typeof n&&Rn(n)===Yn}(r)){const e=oh(r);return{args:e.map(o=>r[o]),keys:e}}}return{args:n,keys:null}}var It=O(8421),Wr=O(3269),_r=O(5403),Xn=O(4004);const{isArray:rf}=Array;function Rc(n){return(0,Xn.U)(r=>function sf(n,r){return rf(r)?n(...r):n(r)}(n,r))}function af(n,r){return n.reduce((e,o,l)=>(e[o]=r[l],e),{})}function gl(...n){const r=(0,Wr.jO)(n),{args:e,keys:o}=rn(n),l=new Ei.y(p=>{const{length:b}=e;if(!b)return void p.complete();const x=new Array(b);let k=b,K=b;for(let he=0;he<b;he++){let Ne=!1;(0,It.Xf)(e[he]).subscribe((0,_r.x)(p,Je=>{Ne||(Ne=!0,K--),x[he]=Je},()=>k--,void 0,()=>{(!k||!Ne)&&(K||p.next(o?af(o,x):x),p.complete())}))}});return r?l.pipe(Rc(r)):l}let sc=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n}),n})(),Gs=(()=>{class n extends sc{}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})();const Yr=new t.OlP("NgValueAccessor"),ss={provide:Yr,useExisting:(0,t.Gpc)(()=>wo),multi:!0};let wo=(()=>{class n extends Gs{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.checked)})("blur",function(){return o.onTouched()})},features:[t._Bn([ss]),t.qOj]}),n})();const Cr={provide:Yr,useExisting:(0,t.Gpc)(()=>Xr),multi:!0},ml=new t.OlP("CompositionEventMode");let Xr=(()=>{class n extends sc{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Hs(){const n=E()?E().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(ml,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[t._Bn([Cr]),t.qOj]}),n})();const _i=new t.OlP("NgValidators"),bs=new t.OlP("NgAsyncValidators");function Ji(n){return null}function vl(n){return null!=n}function bu(n){const r=(0,t.QGY)(n)?(0,ar.D)(n):n;return(0,t.CqO)(r),r}function jo(n){let r={};return n.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function nd(n,r){return r.map(e=>e(n))}function ri(n){return n.map(r=>function ac(n){return!n.validate}(r)?r:e=>r.validate(e))}function ah(n){return null!=n?function cc(n){if(!n)return null;const r=n.filter(vl);return 0==r.length?null:function(e){return jo(nd(e,r))}}(ri(n)):null}function bl(n){return null!=n?function fn(n){if(!n)return null;const r=n.filter(vl);return 0==r.length?null:function(e){return gl(nd(e,r).map(bu)).pipe((0,Xn.U)(jo))}}(ri(n)):null}function rd(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function ws(n){return n?Array.isArray(n)?n:[n]:[]}function la(n,r){return Array.isArray(n)?n.includes(r):n===r}function Di(n,r){const e=ws(r);return ws(n).forEach(l=>{la(e,l)||e.push(l)}),e}function Ts(n,r){return ws(r).filter(e=>!la(n,e))}class Fc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=ah(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=bl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class Go extends Fc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class co extends Fc{get formDirective(){return null}get path(){return null}}let Ni=(()=>{class n extends class Bi{constructor(r){this._cd=r}is(r){var e,o,l;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[r])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Go,2))},n.\u0275dir=t.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[t.qOj]}),n})();function Qi(n,r){(function Eu(n,r){const e=function uc(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(rd(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const o=function Cs(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(rd(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const l=()=>n.updateValueAndValidity();Si(r._rawValidators,l),Si(r._rawAsyncValidators,l)})(n,r),r.valueAccessor.writeValue(n.value),function wl(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&V(n,r)})}(n,r),function ee(n,r){const e=(o,l)=>{r.valueAccessor.writeValue(o),l&&r.viewToModelUpdate(o)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function U(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&V(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function Bc(n,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function Si(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function V(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xi(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}const uo="VALID",lo="INVALID",ei="PENDING",dc="DISABLED";function Du(n){return(Dl(n)?n.validators:n)||null}function Vc(n){return Array.isArray(n)?ah(n):n||null}function El(n,r){return(Dl(r)?r.asyncValidators:n)||null}function lf(n){return Array.isArray(n)?bl(n):n||null}function Dl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Gc=n=>n instanceof qs;function Sl(n){return(n=>n instanceof Su)(n)?n.value:n.getRawValue()}function df(n,r){const e=Gc(n),o=n.controls;if(!(e?Object.keys(o):o).length)throw new t.vHH(1e3,"");if(!o[r])throw new t.vHH(1001,"")}function wp(n,r){Gc(n),n._forEachChild((o,l)=>{if(void 0===r[l])throw new t.vHH(1002,"")})}class ch{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Vc(this._rawValidators),this._composedAsyncValidatorFn=lf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===uo}get invalid(){return this.status===lo}get pending(){return this.status==ei}get disabled(){return this.status===dc}get enabled(){return this.status!==dc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Vc(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=lf(r)}addValidators(r){this.setValidators(Di(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Di(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Ts(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Ts(r,this._rawAsyncValidators))}hasValidator(r){return la(this._rawValidators,r)}hasAsyncValidator(r){return la(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ei,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=dc,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=uo,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uo||this.status===ei)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?dc:uo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ei,this._hasOwnPendingAsyncValidator=!0;const e=bu(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function Tl(n,r,e){if(null==r||(Array.isArray(r)||(r=r.split(e)),Array.isArray(r)&&0===r.length))return null;let o=n;return r.forEach(l=>{o=Gc(o)?o.controls.hasOwnProperty(l)?o.controls[l]:null:(n=>n instanceof Tp)(o)&&o.at(l)||null}),o}(this,r,".")}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?dc:this.errors?lo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ei)?ei:this._anyControlsHaveStatus(lo)?lo:uo}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){Dl(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Su extends ch{constructor(r=null,e,o){super(Du(e),El(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dl(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){xi(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){xi(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class qs extends ch{constructor(r,e,o){super(Du(e),El(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){wp(this,r),Object.keys(r).forEach(o=>{df(this,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=Sl(e),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((l,p)=>{o=e(o,l,p)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Tp extends ch{constructor(r,e,o){super(Du(e),El(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){wp(this,r),r.forEach((o,l)=>{df(this,l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>Sl(r))}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const sd={provide:Go,useExisting:(0,t.Gpc)(()=>cs)},$c=(()=>Promise.resolve(null))();let cs=(()=>{class n extends Go{constructor(e,o,l,p,b){super(),this._changeDetectorRef=b,this.control=new Su,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function Vi(n,r){if(!r)return null;let e,o,l;return Array.isArray(r),r.forEach(p=>{p.constructor===Xr?e=p:function Nr(n){return Object.getPrototypeOf(n.constructor)===Gs}(p)?o=p:l=p}),l||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Hn(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Qi(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$c.then(()=>{var o;this.control.setValue(e,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;$c.then(()=>{var p;l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}_getPath(e){return this._parent?function Ds(n,r){return[...r.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(co,9),t.Y36(_i,10),t.Y36(bs,10),t.Y36(Yr,10),t.Y36(t.sBO,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([sd]),t.qOj,t.TTD]}),n})();const Dp={provide:Yr,useExisting:(0,t.Gpc)(()=>ad),multi:!0};let ad=(()=>{class n extends Gs{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},features:[t._Bn([Dp]),t.qOj]}),n})(),hc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const hh={provide:Yr,useExisting:(0,t.Gpc)(()=>Zc),multi:!0};function $o(n,r){return null==n?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Zc=(()=>{class n extends Gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=$o(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Sp(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([hh]),t.qOj]}),n})(),hd=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue($o(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Zc,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const hy={provide:Yr,useExisting:(0,t.Gpc)(()=>xu),multi:!0};function sm(n,r){return null==n?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let xu=(()=>{class n extends Gs{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(p=>this._getOptionId(p));o=(p,b)=>{p._setSelected(l.indexOf(b.toString())>-1)}}else o=(l,p)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[],p=o.selectedOptions;if(void 0!==p){const b=p;for(let x=0;x<b.length;x++){const K=this._getOptionValue(b[x].value);l.push(K)}}else{const b=o.options;for(let x=0;x<b.length;x++){const k=b[x];if(k.selected){const K=this._getOptionValue(k.value);l.push(K)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Qr(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([hy]),t.qOj]}),n})(),fd=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(sm(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(sm(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(xu,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Au=(()=>{class n{constructor(){this._validator=Ji}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Ji,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,features:[t.TTD]}),n})();const hm={provide:_i,useExisting:(0,t.Gpc)(()=>Iu),multi:!0};let Iu=(()=>{class n extends Au{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function fh(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function To(n){return r=>function _l(n){return null!=n&&"number"==typeof n.length}(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&t.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([hm]),t.qOj]}),n})(),gd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[hc]]}),n})(),qo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[gd]}),n})(),bf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Ga=O(8686),Wc=O(3701),In=O(9646),si=O(7579);class fo extends si.x{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){const{hasError:r,thrownError:e,_value:o}=this;if(r)throw e;return this._throwIfClosed(),o}next(r){super.next(this._value=r)}}var md=O(4671),Al=O(9672);function Mu(...n){const r=(0,Wr.yG)(n),e=(0,Wr.jO)(n),{args:o,keys:l}=rn(n);if(0===o.length)return(0,ar.D)([],r);const p=new Ei.y(function W_(n,r,e=md.y){return o=>{Cf(r,()=>{const{length:l}=n,p=new Array(l);let b=l,x=l;for(let k=0;k<l;k++)Cf(r,()=>{const K=(0,ar.D)(n[k],r);let he=!1;K.subscribe((0,_r.x)(o,Ne=>{p[k]=Ne,he||(he=!0,x--),x||o.next(e(p.slice()))},()=>{--b||o.complete()}))},o)},o)}}(o,r,l?b=>af(l,b):md.y));return e?p.pipe(Rc(e)):p}function Cf(n,r,e){n?(0,Al.f)(e,n,r):r()}var ga=O(576);function _h(n,r){const e=(0,ga.m)(n)?n:()=>n,o=l=>l.error(e());return new Ei.y(r?l=>r.schedule(o,0,l):o)}const wf=(0,O(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var yh=O(8189);function Ou(...n){return function As(){return(0,yh.J)(1)}()((0,ar.D)(n,(0,Wr.yG)(n)))}function Il(n){return new Ei.y(r=>{(0,It.Xf)(n()).subscribe(r)})}var zc=O(515),Np=O(727),Xi=O(4482);function Tf(){return(0,Xi.e)((n,r)=>{let e=null;n._refCount++;const o=(0,_r.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const l=n._connection,p=e;e=null,l&&(!p||l===p)&&l.unsubscribe(),r.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}class Rp extends Ei.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,Xi.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,null==r||r.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Np.w0;const e=this.getSubject();r.add(this.source.subscribe((0,_r.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Np.w0.EMPTY)}return r}refCount(){return Tf()(this)}}function go(n,r){return(0,Xi.e)((e,o)=>{let l=null,p=0,b=!1;const x=()=>b&&!l&&o.complete();e.subscribe((0,_r.x)(o,k=>{null==l||l.unsubscribe();let K=0;const he=p++;(0,It.Xf)(n(k,he)).subscribe(l=(0,_r.x)(o,Ne=>o.next(r?r(k,Ne,he,K++):Ne),()=>{l=null,x()}))},()=>{b=!0,x()}))})}var Hi=O(5698);function vh(...n){const r=(0,Wr.yG)(n);return(0,Xi.e)((e,o)=>{(r?Ou(n,e,r):Ou(n,e)).subscribe(o)})}function z_(n,r,e,o,l){return(p,b)=>{let x=e,k=r,K=0;p.subscribe((0,_r.x)(b,he=>{const Ne=K++;k=x?n(k,he,Ne):(x=!0,he),o&&b.next(k)},l&&(()=>{x&&b.next(k),b.complete()})))}}function bh(n,r){return(0,Xi.e)(z_(n,r,arguments.length>=2,!0))}function Ii(n,r){return(0,Xi.e)((e,o)=>{let l=0;e.subscribe((0,_r.x)(o,p=>n.call(r,p,l++)&&o.next(p)))})}function Kc(n){return(0,Xi.e)((r,e)=>{let p,o=null,l=!1;o=r.subscribe((0,_r.x)(e,void 0,void 0,b=>{p=(0,It.Xf)(n(b,Kc(n)(r))),o?(o.unsubscribe(),o=null,p.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,p.subscribe(e))})}var vi=O(5577);function Wo(n,r){return(0,ga.m)(r)?(0,vi.z)(n,r,1):(0,vi.z)(n,1)}function Ef(n){return n<=0?()=>zc.E:(0,Xi.e)((r,e)=>{let o=[];r.subscribe((0,_r.x)(e,l=>{o.push(l),n<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}function Df(n=Ch){return(0,Xi.e)((r,e)=>{let o=!1;r.subscribe((0,_r.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(n())))})}function Ch(){return new wf}function kp(n){return(0,Xi.e)((r,e)=>{let o=!1;r.subscribe((0,_r.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(n),e.complete()}))})}function _t(n,r){const e=arguments.length>=2;return o=>o.pipe(n?Ii((l,p)=>n(l,p,o)):md.y,(0,Hi.q)(1),e?kp(r):Df(()=>new wf))}var di=O(8505);class $a{constructor(r,e){this.id=r,this.url=e}}class hs extends $a{constructor(r,e,o="imperative",l=null){super(r,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class fs extends $a{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sf extends $a{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yc extends $a{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Ml extends $a{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wh extends $a{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pm extends $a{constructor(r,e,o,l,p){super(r,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mi extends $a{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class _d extends $a{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class yd{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Th{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pc{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gm{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mm{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _m{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Eh{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tr="primary";class Ol{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Zs(n){return new Ol(n)}const Jc="ngNavigationCancelingError";function Qc(n){const r=Error("NavigationCancelingError: "+n);return r[Jc]=!0,r}function Fp(n,r,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<n.length))return null;const l={};for(let p=0;p<o.length;p++){const b=o[p],x=n[p];if(b.startsWith(":"))l[b.substring(1)]=x;else if(b!==x.path)return null}return{consumed:n.slice(0,o.length),posParams:l}}function Ws(n,r){const e=n?Object.keys(n):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let p=0;p<e.length;p++)if(l=e[p],!Up(n[l],r[l]))return!1;return!0}function Up(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),o=[...r].sort();return e.every((l,p)=>o[p]===l)}return n===r}function Xc(n){return Array.prototype.concat.apply([],n)}function Af(n){return n.length>0?n[n.length-1]:null}function eo(n,r){for(const e in n)n.hasOwnProperty(e)&&r(n[e],e)}function Do(n){return(0,t.CqO)(n)?n:(0,t.QGY)(n)?(0,ar.D)(Promise.resolve(n)):(0,In.of)(n)}const Vp={exact:function vd(n,r,e){if(!eu(n.segments,r.segments)||!bd(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!n.children[o]||!vd(n.children[o],r.children[o],e))return!1;return!0},subset:Za},jp={exact:function Hp(n,r){return Ws(n,r)},subset:function qa(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>Up(n[e],r[e]))},ignored:()=>!0};function Gp(n,r,e){return Vp[e.paths](n.root,r.root,e.matrixParams)&&jp[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function Za(n,r,e){return If(n,r,r.segments,e)}function If(n,r,e,o){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!eu(l,e)||r.hasChildren()||!bd(l,e,o))}if(n.segments.length===e.length){if(!eu(n.segments,e)||!bd(n.segments,e,o))return!1;for(const l in r.children)if(!n.children[l]||!Za(n.children[l],r.children[l],o))return!1;return!0}{const l=e.slice(0,n.segments.length),p=e.slice(n.segments.length);return!!(eu(n.segments,l)&&bd(n.segments,l,o)&&n.children[Tr])&&If(n.children[Tr],r,p,o)}}function bd(n,r,e){return r.every((o,l)=>jp[e](n[l].parameters,o.parameters))}class Pu{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return Mf.serialize(this)}}class Er{constructor(r,e){this.segments=r,this.children=e,this.parent=null,eo(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ko(this)}}class zs{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Zs(this.parameters)),this._parameterMap}toString(){return Nu(this)}}function eu(n,r){return n.length===r.length&&n.every((e,o)=>e.path===r[o].path)}class Sh{}class Cd{parse(r){const e=new Q_(r);return new Pu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${xh(r.root,!0)}`,o=function Ed(n){const r=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(l=>`${Td(e)}=${Td(l)}`).join("&"):`${Td(e)}=${Td(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${o}${"string"==typeof r.fragment?`#${function $p(n){return encodeURI(n)}(r.fragment)}`:""}`}}const Mf=new Cd;function ko(n){return n.segments.map(r=>Nu(r)).join("/")}function xh(n,r){if(!n.hasChildren())return ko(n);if(r){const e=n.children[Tr]?xh(n.children[Tr],!1):"",o=[];return eo(n.children,(l,p)=>{p!==Tr&&o.push(`${p}:${xh(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function Dh(n,r){let e=[];return eo(n.children,(o,l)=>{l===Tr&&(e=e.concat(r(o,l)))}),eo(n.children,(o,l)=>{l!==Tr&&(e=e.concat(r(o,l)))}),e}(n,(o,l)=>l===Tr?[xh(n.children[Tr],!1)]:[`${l}:${xh(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tr]?`${ko(n)}/${e[0]}`:`${ko(n)}/(${e.join("//")})`}}function wd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Td(n){return wd(n).replace(/%3B/gi,";")}function gc(n){return wd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tu(n){return decodeURIComponent(n)}function Ks(n){return tu(n.replace(/\+/g,"%20"))}function Nu(n){return`${gc(n.path)}${function ym(n){return Object.keys(n).map(r=>`;${gc(r)}=${gc(n[r])}`).join("")}(n.parameters)}`}const vm=/^[^\/()?;=#]+/;function Wa(n){const r=n.match(vm);return r?r[0]:""}const Pl=/^[^=?&#]+/,bm=/^[^&#]+/;class Q_{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Er([],{}):new Er([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[Tr]=new Er(r,e)),o}parseSegment(){const r=Wa(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new zs(tu(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=Wa(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Wa(this.remaining);l&&(o=l,this.capture(o))}r[tu(e)]=tu(o)}parseQueryParam(r){const e=function Of(n){const r=n.match(Pl);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const b=function J_(n){const r=n.match(bm);return r?r[0]:""}(this.remaining);b&&(o=b,this.capture(o))}const l=Ks(e),p=Ks(o);if(r.hasOwnProperty(l)){let b=r[l];Array.isArray(b)||(b=[b],r[l]=b),b.push(p)}else r[l]=p}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Wa(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let p;o.indexOf(":")>-1?(p=o.substr(0,o.indexOf(":")),this.capture(p),this.capture(":")):r&&(p=Tr);const b=this.parseChildren();e[p]=1===Object.keys(b).length?b[Tr]:new Er([],b),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class S{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=_(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=_(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=w(r,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return w(r,this._root).map(e=>e.value)}}function _(n,r){if(n===r.value)return r;for(const e of r.children){const o=_(n,e);if(o)return o}return null}function w(n,r){if(n===r.value)return[r];for(const e of r.children){const o=w(n,e);if(o.length)return o.unshift(r),o}return[]}class R{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function ie(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class ye extends S{constructor(r,e){super(r),this.snapshot=e,Is(this,r)}toString(){return this.snapshot.toString()}}function lt(n,r){const e=function Ft(n,r){const b=new ii([],{},{},"",{},Tr,r,null,n.root,-1,{});return new ps("",new R(b,[]))}(n,r),o=new fo([new zs("",{})]),l=new fo({}),p=new fo({}),b=new fo({}),x=new fo(""),k=new vn(o,l,b,x,p,Tr,r,e.root);return k.snapshot=e.root,new ye(new R(k,[]),e)}class vn{constructor(r,e,o,l,p,b,x,k){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=p,this.outlet=b,this.component=x,this._futureSnapshot=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Xn.U)(r=>Zs(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Xn.U)(r=>Zs(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Bn(n,r="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const l=e[o],p=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(p.component)break;o--}}return function hr(n){return n.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class ii{constructor(r,e,o,l,p,b,x,k,K,he,Ne){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=p,this.outlet=b,this.component=x,this.routeConfig=k,this._urlSegment=K,this._lastPathIndex=he,this._resolve=Ne}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Zs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Zs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ps extends S{constructor(r,e){super(e),this.url=r,Is(this,e)}toString(){return mc(this._root)}}function Is(n,r){r.value._routerState=n,r.children.forEach(e=>Is(n,e))}function mc(n){const r=n.children.length>0?` { ${n.children.map(mc).join(", ")} } `:"";return`${n.value}${r}`}function Dd(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ws(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),Ws(r.params,e.params)||n.params.next(e.params),function Lp(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!Ws(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),Ws(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nu(n,r){const e=Ws(n.params,r.params)&&function Y_(n,r){return eu(n,r)&&n.every((e,o)=>Ws(e.parameters,r[o].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||nu(n.parent,r.parent))}function za(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const l=function Nl(n,r,e){return r.children.map(o=>{for(const l of e.children)if(n.shouldReuseRoute(o.value,l.value.snapshot))return za(n,o,l);return za(n,o)})}(n,r,e);return new R(o,l)}{if(n.shouldAttach(r.value)){const p=n.retrieve(r.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=r.value,b.children=r.children.map(x=>za(n,x)),b}}const o=function Ah(n){return new vn(new fo(n.url),new fo(n.params),new fo(n.queryParams),new fo(n.fragment),new fo(n.data),n.outlet,n.component,n)}(r.value),l=r.children.map(p=>za(n,p));return new R(o,l)}}function Ru(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ru(n){return"object"==typeof n&&null!=n&&n.outlets}function Pf(n,r,e,o,l){let p={};if(o&&eo(o,(x,k)=>{p[k]=Array.isArray(x)?x.map(K=>`${K}`):`${x}`}),n===r)return new Pu(e,p,l);const b=xd(n,r,e);return new Pu(b,p,l)}function xd(n,r,e){const o={};return eo(n.children,(l,p)=>{o[p]=l===r?e:xd(l,r,e)}),new Er(n.segments,o)}class Nf{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&Ru(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(ru);if(l&&l!==Af(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Cm{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function kf(n,r,e){if(n||(n=new Er([],{})),0===n.segments.length&&n.hasChildren())return Id(n,r,e);const o=function gy(n,r,e){let o=0,l=r;const p={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(o>=e.length)return p;const b=n.segments[l],x=e[o];if(ru(x))break;const k=`${x}`,K=o<e.length-1?e[o+1]:null;if(l>0&&void 0===k)break;if(k&&K&&"object"==typeof K&&void 0===K.outlets){if(!wm(k,K,b))return p;o+=2}else{if(!wm(k,{},b))return p;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(n,r,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const p=new Er(n.segments.slice(0,o.pathIndex),{});return p.children[Tr]=new Er(n.segments.slice(o.pathIndex),n.children),Id(p,0,l)}return o.match&&0===l.length?new Er(n.segments,{}):o.match&&!n.hasChildren()?X_(n,r,e):o.match?Id(n,0,l):X_(n,r,e)}function Id(n,r,e){if(0===e.length)return new Er(n.segments,{});{const o=function Zp(n){return ru(n[0])?n[0].outlets:{[Tr]:n}}(e),l={};return eo(o,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(l[b]=kf(n.children[b],r,p))}),eo(n.children,(p,b)=>{void 0===o[b]&&(l[b]=p)}),new Er(n.segments,l)}}function X_(n,r,e){const o=n.segments.slice(0,r);let l=0;for(;l<e.length;){const p=e[l];if(ru(p)){const k=e0(p.outlets);return new Er(o,k)}if(0===l&&Ru(e[0])){o.push(new zs(n.segments[r].path,my(e[0]))),l++;continue}const b=ru(p)?p.outlets[Tr]:`${p}`,x=l<e.length-1?e[l+1]:null;b&&x&&Ru(x)?(o.push(new zs(b,my(x))),l+=2):(o.push(new zs(b,{})),l++)}return new Er(o,{})}function e0(n){const r={};return eo(n,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=X_(new Er([],{}),0,e))}),r}function my(n){const r={};return eo(n,(e,o)=>r[o]=`${e}`),r}function wm(n,r,e){return n==e.path&&Ws(r,e.parameters)}class t0{constructor(r,e,o,l){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),Dd(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const l=ie(e);r.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,l[b],o),delete l[b]}),eo(l,(p,b)=>{this.deactivateRouteAndItsChildren(p,o)})}deactivateRoutes(r,e,o){const l=r.value,p=e?e.value:null;if(l===p)if(l.component){const b=o.getContext(l.outlet);b&&this.deactivateChildRoutes(r,e,b.children)}else this.deactivateChildRoutes(r,e,o);else p&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);if(o&&o.outlet){const b=o.outlet.detach(),x=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:b,route:r,contexts:x})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const l=ie(e);r.children.forEach(p=>{this.activateRoutes(p,l[p.value.outlet],o),this.forwardEvent(new _m(p.value.snapshot))}),r.children.length&&this.forwardEvent(new gm(r.value.snapshot))}activateRoutes(r,e,o){const l=r.value,p=e?e.value:null;if(Dd(l),l===p)if(l.component){const b=o.getOrCreateContext(l.outlet);this.activateChildRoutes(r,e,b.children)}else this.activateChildRoutes(r,e,o);else if(l.component){const b=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const x=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),b.children.onOutletReAttached(x.contexts),b.attachRef=x.componentRef,b.route=x.route.value,b.outlet&&b.outlet.attach(x.componentRef,x.route.value),Dd(x.route.value),this.activateChildRoutes(r,null,b.children)}else{const x=function Rv(n){for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),k=x?x.module.componentFactoryResolver:null;b.attachRef=null,b.route=l,b.resolver=k,b.outlet&&b.outlet.activateWith(l,k),this.activateChildRoutes(r,null,b.children)}}else this.activateChildRoutes(r,null,o)}}class n0{constructor(r,e){this.routes=r,this.module=e}}function ku(n){return"function"==typeof n}function Fu(n){return n instanceof Pu}const Md=Symbol("INITIAL_VALUE");function Od(){return go(n=>Mu(n.map(r=>r.pipe((0,Hi.q)(1),vh(Md)))).pipe(bh((r,e)=>{let o=!1;return e.reduce((l,p,b)=>l!==Md?l:(p===Md&&(o=!0),o||!1!==p&&b!==e.length-1&&!Fu(p)?l:p),r)},Md),Ii(r=>r!==Md),(0,Xn.U)(r=>Fu(r)?r:!0===r),(0,Hi.q)(1)))}class Lu{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pd,this.attachRef=null}}class Pd{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new Lu,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}let Ff=(()=>{class n{constructor(e,o,l,p,b){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=p||Tr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const b=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,k=new Ih(e,x,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,k),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Pd),t.Y36(t.s_b),t.Y36(t._Vd),t.$8M("name"),t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Ih{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===vn?this.route:r===Pd?this.childContexts:this.parent.get(r,e)}}let Mh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[Ff],encapsulation:2}),n})();function Oh(n,r=""){for(let e=0;e<n.length;e++){const o=n[e];Em(o,Dm(r,o))}}function Em(n,r){n.children&&Oh(n.children,r)}function Dm(n,r){return r?n||r.path?n&&!r.path?`${n}/`:!n&&r.path?r.path:`${n}/${r.path}`:"":n}function Uu(n){const r=n.children&&n.children.map(Uu),e=r?Object.assign(Object.assign({},n),{children:r}):Object.assign({},n);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Tr&&(e.component=Mh),e}function zo(n){return n.outlet||Tr}function Wp(n,r){const e=n.filter(o=>zo(o)===r);return e.push(...n.filter(o=>zo(o)!==r)),e}const Rl={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function kl(n,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Rl):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const p=(r.matcher||Fp)(e,n,r);if(!p)return Object.assign({},Rl);const b={};eo(p.posParams,(k,K)=>{b[K]=k.path});const x=p.consumed.length>0?Object.assign(Object.assign({},b),p.consumed[p.consumed.length-1].parameters):b;return{matched:!0,consumedSegments:p.consumed,remainingSegments:e.slice(p.consumed.length),parameters:x,positionalParamSegments:null!==(o=p.posParams)&&void 0!==o?o:{}}}function Bu(n,r,e,o,l="corrected"){if(e.length>0&&function Lf(n,r,e){return e.some(o=>Fl(n,r,o)&&zo(o)!==Tr)}(n,e,o)){const b=new Er(r,function Sm(n,r,e,o){const l={};l[Tr]=o,o._sourceSegment=n,o._segmentIndexShift=r.length;for(const p of e)if(""===p.path&&zo(p)!==Tr){const b=new Er([],{});b._sourceSegment=n,b._segmentIndexShift=r.length,l[zo(p)]=b}return l}(n,r,o,new Er(e,n.children)));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:[]}}if(0===e.length&&function Nd(n,r,e){return e.some(o=>Fl(n,r,o))}(n,e,o)){const b=new Er(n.segments,function yy(n,r,e,o,l,p){const b={};for(const x of o)if(Fl(n,e,x)&&!l[zo(x)]){const k=new Er([],{});k._sourceSegment=n,k._segmentIndexShift="legacy"===p?n.segments.length:r.length,b[zo(x)]=k}return Object.assign(Object.assign({},l),b)}(n,r,e,o,n.children,l));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:e}}const p=new Er(n.segments,n.children);return p._sourceSegment=n,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:e}}function Fl(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function zp(n,r,e,o){return!!(zo(n)===o||o!==Tr&&Fl(r,e,n))&&("**"===n.path||kl(r,n,e).matched)}function Uf(n,r,e){return 0===r.length&&!n.children[e]}class Kp{constructor(r){this.segmentGroup=r||null}}class xm{constructor(r){this.urlTree=r}}function Yp(n){return _h(new Kp(n))}function Am(n){return _h(new xm(n))}class Mm{constructor(r,e,o,l,p){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=p,this.allowRedirects=!0,this.ngModule=r.get(t.h0i)}apply(){const r=Bu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Er(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Tr).pipe((0,Xn.U)(p=>this.createUrlTree(Fo(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kc(p=>{if(p instanceof xm)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof Kp?this.noMatchError(p):p}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Tr).pipe((0,Xn.U)(l=>this.createUrlTree(Fo(l),r.queryParams,r.fragment))).pipe(Kc(l=>{throw l instanceof Kp?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const l=r.segments.length>0?new Er([],{[Tr]:r}):r;return new Pu(l,e,o)}expandSegmentGroup(r,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,Xn.U)(p=>new Er([],p))):this.expandSegment(r,o,e,o.segments,l,!0)}expandChildren(r,e,o){const l=[];for(const p of Object.keys(o.children))"primary"===p?l.unshift(p):l.push(p);return(0,ar.D)(l).pipe(Wo(p=>{const b=o.children[p],x=Wp(e,p);return this.expandSegmentGroup(r,x,b,p).pipe((0,Xn.U)(k=>({segment:k,outlet:p})))}),bh((p,b)=>(p[b.outlet]=b.segment,p),{}),function ma(n,r){const e=arguments.length>=2;return o=>o.pipe(n?Ii((l,p)=>n(l,p,o)):md.y,Ef(1),e?kp(r):Df(()=>new wf))}())}expandSegment(r,e,o,l,p,b){return(0,ar.D)(o).pipe(Wo(x=>this.expandSegmentAgainstRoute(r,e,o,x,l,p,b).pipe(Kc(K=>{if(K instanceof Kp)return(0,In.of)(null);throw K}))),_t(x=>!!x),Kc((x,k)=>{if(x instanceof wf||"EmptyError"===x.name)return Uf(e,l,p)?(0,In.of)(new Er([],{})):Yp(e);throw x}))}expandSegmentAgainstRoute(r,e,o,l,p,b,x){return zp(l,e,p,b)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,e,l,p,b):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b):Yp(e):Yp(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,l,b):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,l){const p=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?Am(p):this.lineralizeSegments(o,p).pipe((0,vi.z)(b=>{const x=new Er(b,{});return this.expandSegment(r,x,e,b,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b){const{matched:x,consumedSegments:k,remainingSegments:K,positionalParamSegments:he}=kl(e,l,p);if(!x)return Yp(e);const Ne=this.applyRedirectCommands(k,l.redirectTo,he);return l.redirectTo.startsWith("/")?Am(Ne):this.lineralizeSegments(l,Ne).pipe((0,vi.z)(Je=>this.expandSegment(r,e,o,Je.concat(K),b,!1)))}matchSegmentAgainstRoute(r,e,o,l,p){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,In.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Xn.U)(Ne=>(o._loadedConfig=Ne,new Er(l,{})))):(0,In.of)(new Er(l,{}));const{matched:b,consumedSegments:x,remainingSegments:k}=kl(e,o,l);return b?this.getChildConfig(r,o,l).pipe((0,vi.z)(he=>{const Ne=he.module,Je=he.routes,{segmentGroup:We,slicedSegments:ft}=Bu(e,x,k,Je),bt=new Er(We.segments,We.children);if(0===ft.length&&bt.hasChildren())return this.expandChildren(Ne,Je,bt).pipe((0,Xn.U)(cr=>new Er(x,cr)));if(0===Je.length&&0===ft.length)return(0,In.of)(new Er(x,{}));const Kt=zo(o)===p;return this.expandSegment(Ne,bt,Je,ft,Kt?Tr:p,!0).pipe((0,Xn.U)(bn=>new Er(x.concat(bn.segments),bn.children)))})):Yp(e)}getChildConfig(r,e,o){return e.children?(0,In.of)(new n0(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,In.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,vi.z)(l=>l?this.configLoader.load(r.injector,e).pipe((0,Xn.U)(p=>(e._loadedConfig=p,p))):function Im(n){return _h(Qc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,In.of)(new n0([],r))}runCanLoadGuards(r,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,In.of)(!0);const p=l.map(b=>{const x=r.get(b);let k;if(function _y(n){return n&&ku(n.canLoad)}(x))k=x.canLoad(e,o);else{if(!ku(x))throw new Error("Invalid CanLoad guard");k=x(e,o)}return Do(k)});return(0,In.of)(p).pipe(Od(),(0,di.b)(b=>{if(!Fu(b))return;const x=Qc(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw x.url=b,x}),(0,Xn.U)(b=>!0===b))}lineralizeSegments(r,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,In.of)(o);if(l.numberOfChildren>1||!l.children[Tr])return _h(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));l=l.children[Tr]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,l){const p=this.createSegmentGroup(r,e.root,o,l);return new Pu(p,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return eo(r,(l,p)=>{if("string"==typeof l&&l.startsWith(":")){const x=l.substring(1);o[p]=e[x]}else o[p]=l}),o}createSegmentGroup(r,e,o,l){const p=this.createSegments(r,e.segments,o,l);let b={};return eo(e.children,(x,k)=>{b[k]=this.createSegmentGroup(r,x,o,l)}),new Er(p,b)}createSegments(r,e,o,l){return e.map(p=>p.path.startsWith(":")?this.findPosParam(r,p,l):this.findOrReturn(p,o))}findPosParam(r,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return l}findOrReturn(r,e){let o=0;for(const l of e){if(l.path===r.path)return e.splice(o),l;o++}return r}}function Fo(n){const r={};for(const o of Object.keys(n.children)){const p=Fo(n.children[o]);(p.segments.length>0||p.hasChildren())&&(r[o]=p)}return function Jp(n){if(1===n.numberOfChildren&&n.children[Tr]){const r=n.children[Tr];return new Er(n.segments.concat(r.segments),r.children)}return n}(new Er(n.segments,r))}class Pm{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Bf{constructor(r,e){this.component=r,this.route=e}}function s0(n,r,e){const o=n._root;return ju(o,r?r._root:null,e,[o.value])}function Qp(n,r,e){const o=function vy(n){if(!n)return null;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(n)}function ju(n,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=ie(r);return n.children.forEach(b=>{(function a0(n,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=n.value,b=r?r.value:null,x=e?e.getContext(n.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const k=function Nm(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!eu(n.url,r.url);case"pathParamsOrQueryParamsChange":return!eu(n.url,r.url)||!Ws(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nu(n,r)||!Ws(n.queryParams,r.queryParams);default:return!nu(n,r)}}(b,p,p.routeConfig.runGuardsAndResolvers);k?l.canActivateChecks.push(new Pm(o)):(p.data=b.data,p._resolvedData=b._resolvedData),ju(n,r,p.component?x?x.children:null:e,o,l),k&&x&&x.outlet&&x.outlet.isActivated&&l.canDeactivateChecks.push(new Bf(x.outlet.component,b))}else b&&Vf(r,x,l),l.canActivateChecks.push(new Pm(o)),ju(n,null,p.component?x?x.children:null:e,o,l)})(b,p[b.value.outlet],e,o.concat([b.value]),l),delete p[b.value.outlet]}),eo(p,(b,x)=>Vf(b,e.getContext(x),l)),l}function Vf(n,r,e){const o=ie(n),l=n.value;eo(o,(p,b)=>{Vf(p,l.component?r?r.children.getContext(b):null:r,e)}),e.canDeactivateChecks.push(new Bf(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class l0{}function Ka(n){return new Ei.y(r=>r.error(n))}class Bm{constructor(r,e,o,l,p,b){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=b}recognize(){const r=Bu(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Tr);if(null===e)return null;const o=new ii([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tr,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new R(o,e),p=new ps(this.url,l);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(r){const e=r.value,o=Bn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const p of Object.keys(e.children)){const b=e.children[p],x=Wp(r,p),k=this.processSegmentGroup(x,b,p);if(null===k)return null;o.push(...k)}const l=Xp(o);return function by(n){n.sort((r,e)=>r.value.outlet===Tr?-1:e.value.outlet===Tr?1:r.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(r,e,o,l){for(const p of r){const b=this.processSegmentAgainstRoute(p,e,o,l);if(null!==b)return b}return Uf(e,o,l)?[]:null}processSegmentAgainstRoute(r,e,o,l){if(r.redirectTo||!zp(r,e,o,l))return null;let p,b=[],x=[];if("**"===r.path){const We=o.length>0?Af(o).parameters:{};p=new ii(o,We,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(r),zo(r),r.component,r,eg(e),Gf(e)+o.length,ng(r))}else{const We=kl(e,r,o);if(!We.matched)return null;b=We.consumedSegments,x=We.remainingSegments,p=new ii(b,We.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,tg(r),zo(r),r.component,r,eg(e),Gf(e)+b.length,ng(r))}const k=function d0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(r),{segmentGroup:K,slicedSegments:he}=Bu(e,b,x,k.filter(We=>void 0===We.redirectTo),this.relativeLinkResolution);if(0===he.length&&K.hasChildren()){const We=this.processChildren(k,K);return null===We?null:[new R(p,We)]}if(0===k.length&&0===he.length)return[new R(p,[])];const Ne=zo(r)===l,Je=this.processSegment(k,K,he,Ne?Tr:l);return null===Je?null:[new R(p,Je)]}}function h0(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function Xp(n){const r=[],e=new Set;for(const o of n){if(!h0(o)){r.push(o);continue}const l=r.find(p=>o.value.routeConfig===p.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):r.push(o)}for(const o of e){const l=Xp(o.children);r.push(new R(o.value,l))}return r.filter(o=>!e.has(o))}function eg(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function Gf(n){let r=n,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function tg(n){return n.data||{}}function ng(n){return n.resolve||{}}function Gu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function rg(n){return go(r=>{const e=n(r);return e?(0,ar.D)(e).pipe((0,Xn.U)(()=>r)):(0,In.of)(r)})}class Fv extends class Vm{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const $f=new t.OlP("ROUTES");class qf{constructor(r,e,o,l){this.injector=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,Xn.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(e);const b=p.create(r);return new n0(Xc(b.injector.get($f,void 0,t.XFs.Self|t.XFs.Optional)).map(Uu),b)}),Kc(p=>{throw e._loader$=void 0,p}));return e._loader$=new Rp(l,()=>new si.x).pipe(Tf()),e._loader$}loadModuleFactory(r){return Do(r()).pipe((0,vi.z)(e=>e instanceof t.YKP?(0,In.of)(e):(0,ar.D)(this.compiler.compileModuleAsync(e))))}}class og{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function f0(n){throw n}function p0(n,r,e){return r.parse("/")}function Ya(n,r){return(0,In.of)(null)}const Fh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Cy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hi=(()=>{class n{constructor(e,o,l,p,b,x,k){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=p,this.config=k,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new si.x,this.errorHandler=f0,this.malformedUriErrorHandler=p0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ya,afterPreactivation:Ya},this.urlHandlingStrategy=new og,this.routeReuseStrategy=new Fv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(t.h0i),this.console=b.get(t.c2e);const Ne=b.get(t.R0b);this.isNgZoneEnabled=Ne instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(k),this.currentUrlTree=function K_(){return new Pu(new Er([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new qf(b,x,Je=>this.triggerEvent(new yd(Je)),Je=>this.triggerEvent(new Th(Je))),this.routerState=lt(this.currentUrlTree,this.rootComponentType),this.transitions=new fo({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(Ii(l=>0!==l.id),(0,Xn.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),go(l=>{let p=!1,b=!1;return(0,In.of)(l).pipe((0,di.b)(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),go(x=>{const k=this.browserUrlTree.toString(),K=!this.navigated||x.extractedUrl.toString()!==k||k!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||K)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Zf(x.source)&&(this.browserUrlTree=x.extractedUrl),(0,In.of)(x).pipe(go(Ne=>{const Je=this.transitions.getValue();return o.next(new hs(Ne.id,this.serializeUrl(Ne.extractedUrl),Ne.source,Ne.restoredState)),Je!==this.transitions.getValue()?zc.E:Promise.resolve(Ne)}),function Om(n,r,e,o){return go(l=>function Rd(n,r,e,o,l){return new Mm(n,r,e,o,l).apply()}(n,r,e,l.extractedUrl,o).pipe((0,Xn.U)(p=>Object.assign(Object.assign({},l),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,di.b)(Ne=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ne.urlAfterRedirects})}),function Rh(n,r,e,o,l){return(0,vi.z)(p=>function Um(n,r,e,o,l="emptyOnly",p="legacy"){try{const b=new Bm(n,r,e,o,l,p).recognize();return null===b?Ka(new l0):(0,In.of)(b)}catch(b){return Ka(b)}}(n,r,p.urlAfterRedirects,e(p.urlAfterRedirects),o,l).pipe((0,Xn.U)(b=>Object.assign(Object.assign({},p),{targetSnapshot:b}))))}(this.rootComponentType,this.config,Ne=>this.serializeUrl(Ne),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,di.b)(Ne=>{if("eager"===this.urlUpdateStrategy){if(!Ne.extras.skipLocationChange){const We=this.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl);this.setBrowserUrl(We,Ne)}this.browserUrlTree=Ne.urlAfterRedirects}const Je=new Ml(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);o.next(Je)}));if(K&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Je,extractedUrl:We,source:ft,restoredState:bt,extras:Kt}=x,ln=new hs(Je,this.serializeUrl(We),ft,bt);o.next(ln);const bn=lt(We,this.rootComponentType).snapshot;return(0,In.of)(Object.assign(Object.assign({},x),{targetSnapshot:bn,urlAfterRedirects:We,extras:Object.assign(Object.assign({},Kt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,x.resolve(null),zc.E}),rg(x=>{const{targetSnapshot:k,id:K,extractedUrl:he,rawUrl:Ne,extras:{skipLocationChange:Je,replaceUrl:We}}=x;return this.hooks.beforePreactivation(k,{navigationId:K,appliedUrlTree:he,rawUrlTree:Ne,skipLocationChange:!!Je,replaceUrl:!!We})}),(0,di.b)(x=>{const k=new wh(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(k)}),(0,Xn.U)(x=>Object.assign(Object.assign({},x),{guards:s0(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function Rm(n,r){return(0,vi.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:p,canDeactivateChecks:b}}=e;return 0===b.length&&0===p.length?(0,In.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function jf(n,r,e,o){return(0,ar.D)(n).pipe((0,vi.z)(l=>function u0(n,r,e,o,l){const p=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!p||0===p.length)return(0,In.of)(!0);const b=p.map(x=>{const k=Qp(x,r,l);let K;if(function o0(n){return n&&ku(n.canDeactivate)}(k))K=Do(k.canDeactivate(n,r,e,o));else{if(!ku(k))throw new Error("Invalid CanDeactivate guard");K=Do(k(n,r,e,o))}return K.pipe(_t())});return(0,In.of)(b).pipe(Od())}(l.component,l.route,e,r,o)),_t(l=>!0!==l,!0))}(b,o,l,n).pipe((0,vi.z)(x=>x&&function Oi(n){return"boolean"==typeof n}(x)?function km(n,r,e,o){return(0,ar.D)(r).pipe(Wo(l=>Ou(function Nh(n,r){return null!==n&&r&&r(new pc(n)),(0,In.of)(!0)}(l.route.parent,o),function Fm(n,r){return null!==n&&r&&r(new mm(n)),(0,In.of)(!0)}(l.route,o),function c0(n,r,e){const o=r[r.length-1],p=r.slice(0,r.length-1).reverse().map(b=>function Vu(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(b)).filter(b=>null!==b).map(b=>Il(()=>{const x=b.guards.map(k=>{const K=Qp(k,b.node,e);let he;if(function Tm(n){return n&&ku(n.canActivateChild)}(K))he=Do(K.canActivateChild(o,n));else{if(!ku(K))throw new Error("Invalid CanActivateChild guard");he=Do(K(o,n))}return he.pipe(_t())});return(0,In.of)(x).pipe(Od())}));return(0,In.of)(p).pipe(Od())}(n,l.path,e),function Lm(n,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,In.of)(!0);const l=o.map(p=>Il(()=>{const b=Qp(p,r,e);let x;if(function r0(n){return n&&ku(n.canActivate)}(b))x=Do(b.canActivate(r,n));else{if(!ku(b))throw new Error("Invalid CanActivate guard");x=Do(b(r,n))}return x.pipe(_t())}));return(0,In.of)(l).pipe(Od())}(n,l.route,e))),_t(l=>!0!==l,!0))}(o,p,n,r):(0,In.of)(x)),(0,Xn.U)(x=>Object.assign(Object.assign({},e),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),(0,di.b)(x=>{if(Fu(x.guardsResult)){const K=Qc(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw K.url=x.guardsResult,K}const k=new pm(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(k)}),Ii(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),rg(x=>{if(x.guards.canActivateChecks.length)return(0,In.of)(x).pipe((0,di.b)(k=>{const K=new Mi(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(K)}),go(k=>{let K=!1;return(0,In.of)(k).pipe(function Ll(n,r){return(0,vi.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,In.of)(e);let p=0;return(0,ar.D)(l).pipe(Wo(b=>function Ul(n,r,e,o){return function Hf(n,r,e,o){const l=Gu(n);if(0===l.length)return(0,In.of)({});const p={};return(0,ar.D)(l).pipe((0,vi.z)(b=>function kd(n,r,e,o){const l=Qp(n,r,o);return Do(l.resolve?l.resolve(r,e):l(r,e))}(n[b],r,e,o).pipe((0,di.b)(x=>{p[b]=x}))),Ef(1),(0,vi.z)(()=>Gu(p).length===l.length?(0,In.of)(p):zc.E))}(n._resolve,n,r,o).pipe((0,Xn.U)(p=>(n._resolvedData=p,n.data=Object.assign(Object.assign({},n.data),Bn(n,e).resolve),null)))}(b.route,o,n,r)),(0,di.b)(()=>p++),Ef(1),(0,vi.z)(b=>p===l.length?(0,In.of)(e):zc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,di.b)({next:()=>K=!0,complete:()=>{K||(this.restoreHistory(k),this.cancelNavigationTransition(k,"At least one route resolver didn't emit any value."))}}))}),(0,di.b)(k=>{const K=new _d(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(K)}))}),rg(x=>{const{targetSnapshot:k,id:K,extractedUrl:he,rawUrl:Ne,extras:{skipLocationChange:Je,replaceUrl:We}}=x;return this.hooks.afterPreactivation(k,{navigationId:K,appliedUrlTree:he,rawUrlTree:Ne,skipLocationChange:!!Je,replaceUrl:!!We})}),(0,Xn.U)(x=>{const k=function Sd(n,r,e){const o=za(n,r._root,e?e._root:void 0);return new ye(o,r)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:k})}),(0,di.b)(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((n,r,e)=>(0,Xn.U)(o=>(new t0(r,o.targetRouterState,o.currentRouterState,e).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),(0,di.b)({next(){p=!0},complete(){p=!0}}),function Ha(n){return(0,Xi.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}(()=>{var x;p||b||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(x=this.currentNavigation)||void 0===x?void 0:x.id)===l.id&&(this.currentNavigation=null)}),Kc(x=>{if(b=!0,function xf(n){return n&&n[Jc]}(x)){const k=Fu(x.url);k||(this.navigated=!0,this.restoreHistory(l,!0));const K=new Sf(l.id,this.serializeUrl(l.extractedUrl),x.message);o.next(K),k?setTimeout(()=>{const he=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree),Ne={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Zf(l.source)};this.scheduleNavigation(he,"imperative",null,Ne,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const k=new Yc(l.id,this.serializeUrl(l.extractedUrl),x);o.next(k);try{l.resolve(this.errorHandler(x))}catch(K){l.reject(K)}}return zc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const p={replaceUrl:!0},b=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(b){const k=Object.assign({},b);delete k.navigationId,delete k.\u0275routerPageId,0!==Object.keys(k).length&&(p.state=k)}const x=this.parseUrl(e.url);this.scheduleNavigation(x,o,b,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Oh(e),this.config=e.map(Uu),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:p,fragment:b,queryParamsHandling:x,preserveFragment:k}=o,K=l||this.routerState.root,he=k?this.currentUrlTree.fragment:b;let Ne=null;switch(x){case"merge":Ne=Object.assign(Object.assign({},this.currentUrlTree.queryParams),p);break;case"preserve":Ne=this.currentUrlTree.queryParams;break;default:Ne=p||null}return null!==Ne&&(Ne=this.removeEmptyProps(Ne)),function qp(n,r,e,o,l){if(0===e.length)return Pf(r.root,r.root,r.root,o,l);const p=function py(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Nf(!0,0,n);let r=0,e=!1;const o=n.reduce((l,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const x={};return eo(p.outlets,(k,K)=>{x[K]="string"==typeof k?k.split("/"):k}),[...l,{outlets:x}]}if(p.segmentPath)return[...l,p.segmentPath]}return"string"!=typeof p?[...l,p]:0===b?(p.split("/").forEach((x,k)=>{0==k&&"."===x||(0==k&&""===x?e=!0:".."===x?r++:""!=x&&l.push(x))}),l):[...l,p]},[]);return new Nf(e,r,o)}(e);if(p.toRoot())return Pf(r.root,r.root,new Er([],{}),o,l);const b=function Rf(n,r,e){if(n.isAbsolute)return new Cm(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const p=e.snapshot._urlSegment;return new Cm(p,p===r.root,0)}const o=Ru(n.commands[0])?0:1;return function Ad(n,r,e){let o=n,l=r,p=e;for(;p>l;){if(p-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Cm(o,!1,l-p)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(p,r,n),x=b.processChildren?Id(b.segmentGroup,b.index,p.commands):kf(b.segmentGroup,b.index,p.commands);return Pf(r.root,b.segmentGroup,x,o,l)}(K,this.currentUrlTree,e,Ne,null!=he?he:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Fu(e)?e:this.parseUrl(e),p=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function Lv(n){for(let r=0;r<n.length;r++){const e=n[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},Fh):!1===o?Object.assign({},Cy):o,Fu(e))return Gp(this.currentUrlTree,e,l);const p=this.parseUrl(e);return Gp(this.currentUrlTree,p,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const p=e[l];return null!=p&&(o[l]=p),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new fs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,p,b){var x,k;if(this.disposed)return Promise.resolve(!1);let K,he,Ne;b?(K=b.resolve,he=b.reject,Ne=b.promise):Ne=new Promise((ft,bt)=>{K=ft,he=bt});const Je=++this.navigationId;let We;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),We=l&&l.\u0275routerPageId?l.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(k=this.browserPageId)&&void 0!==k?k:0)+1):We=0,this.setTransition({id:Je,targetPageId:We,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:p,resolve:K,reject:he,promise:Ne,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ne.catch(ft=>Promise.reject(ft))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),p=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",p):this.location.go(l,"",p)}restoreHistory(e,o=!1){var l,p;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===b?this.currentUrlTree===(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)&&0===b&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new Sf(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Zf(n){return"imperative"!==n}let _c=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.route=o,this.tabIndexAttribute=l,this.renderer=p,this.el=b,this.commands=null,this.onChanges=new si.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,l=this.el.nativeElement;null!==e?o.setAttribute(l,"tabindex",e):o.removeAttribute(l,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:yc(this.skipLocationChange),replaceUrl:yc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(vn),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&t.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})(),Ja=(()=>{class n{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new si.x,this.subscription=e.events.subscribe(p=>{p instanceof fs&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,p,b){if(0!==e||o||l||p||b||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const x={skipLocationChange:yc(this.skipLocationChange),replaceUrl:yc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:yc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(vn),t.Y36(ue))},n.\u0275dir=t.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("click",function(p){return o.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&e&&t.uIk("target",o.target)("href",o.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})();function yc(n){return""===n||!!n}class Gm{}class Wf{preload(r,e){return(0,In.of)(null)}}let sg=(()=>{class n{constructor(e,o,l,p){this.router=e,this.injector=l,this.preloadingStrategy=p,this.loader=new qf(l,o,k=>e.triggerEvent(new yd(k)),k=>e.triggerEvent(new Th(k)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ii(e=>e instanceof fs),Wo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(t.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const p of o)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const b=p._loadedConfig;l.push(this.processRoutes(b.module,b.routes))}else p.loadChildren&&!p.canLoad?l.push(this.preloadConfig(e,p)):p.children&&l.push(this.processRoutes(e,p.children));return(0,ar.D)(l).pipe((0,yh.J)(),(0,Xn.U)(p=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,In.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,vi.z)(p=>(o._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(hi),t.LFG(t.Sil),t.LFG(t.zs3),t.LFG(Gm))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Fd=(()=>{class n{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof hs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Eh&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Eh(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Hu=new t.OlP("ROUTER_CONFIGURATION"),Hm=new t.OlP("ROUTER_FORROOT_GUARD"),Bl=[qe,{provide:Sh,useClass:Cd},{provide:hi,useFactory:function Wm(n,r,e,o,l,p,b={},x,k){const K=new hi(null,n,r,e,o,l,Xc(p));return x&&(K.urlHandlingStrategy=x),k&&(K.routeReuseStrategy=k),function Ty(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(b,K),b.enableTracing&&K.events.subscribe(he=>{var Ne,Je;null===(Ne=console.group)||void 0===Ne||Ne.call(console,`Router Event: ${he.constructor.name}`),console.log(he.toString()),console.log(he),null===(Je=console.groupEnd)||void 0===Je||Je.call(console)}),K},deps:[Sh,Pd,qe,t.zs3,t.Sil,$f,Hu,[class ig{},new t.FiY],[class kh{},new t.FiY]]},Pd,{provide:vn,useFactory:function _a(n){return n.routerState.root},deps:[hi]},sg,Wf,class g0{preload(r,e){return e().pipe(Kc(()=>(0,In.of)(null)))}},{provide:Hu,useValue:{enableTracing:!1}}];function $m(){return new t.PXZ("Router",hi)}let qm=(()=>{class n{constructor(e,o){}static forRoot(e,o){return{ngModule:n,providers:[Bl,_0(e),{provide:Hm,useFactory:Zm,deps:[[hi,new t.FiY,new t.tp0]]},{provide:Hu,useValue:o||{}},{provide:ue,useFactory:Lh,deps:[W,[new t.tBr(De),new t.FiY],Hu]},{provide:Fd,useFactory:m0,deps:[hi,Kn,Hu]},{provide:Gm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Wf},{provide:t.PXZ,multi:!0,useFactory:$m},[zf,{provide:t.ip1,multi:!0,useFactory:ag,deps:[zf]},{provide:Kf,useFactory:cg,deps:[zf]},{provide:t.tb,multi:!0,useExisting:Kf}]]}}static forChild(e){return{ngModule:n,providers:[_0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Hm,8),t.LFG(hi,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function m0(n,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Fd(n,r,e)}function Lh(n,r,e={}){return e.useHash?new Be(n,r):new rt(n,r)}function Zm(n){return"guarded"}function _0(n){return[{provide:t.deG,multi:!0,useValue:n},{provide:$f,multi:!0,useValue:n}]}let zf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new si.x}appInitializer(){return this.injector.get(z,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(x=>o=x),p=this.injector.get(hi),b=this.injector.get(Hu);return"disabled"===b.initialNavigation?(p.setUpLocationChangeListener(),o(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?(0,In.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),p.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Hu),l=this.injector.get(sg),p=this.injector.get(Fd),b=this.injector.get(hi),x=this.injector.get(t.z2F);e===x.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&b.initialNavigation(),l.setUpPreloading(),p.init(),b.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function ag(n){return n.appInitializer.bind(n)}function cg(n){return n.bootstrapListener.bind(n)}const Kf=new t.OlP("Router Initializer");var Uh,ya=O(635),Qa=O(6082),iu=new Uint8Array(16);function y0(){if(!Uh&&!(Uh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Uh(iu)}const v0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Dy=function zm(n){return"string"==typeof n&&v0.test(n)};for(var gs=[],ug=0;ug<256;++ug)gs.push((ug+256).toString(16).substr(1));const ou=function b0(n,r,e){var o=(n=n||{}).random||(n.rng||y0)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){e=e||0;for(var l=0;l<16;++l)r[e+l]=o[l];return r}return function Km(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(gs[n[r+0]]+gs[n[r+1]]+gs[n[r+2]]+gs[n[r+3]]+"-"+gs[n[r+4]]+gs[n[r+5]]+"-"+gs[n[r+6]]+gs[n[r+7]]+"-"+gs[n[r+8]]+gs[n[r+9]]+"-"+gs[n[r+10]]+gs[n[r+11]]+gs[n[r+12]]+gs[n[r+13]]+gs[n[r+14]]+gs[n[r+15]]).toLowerCase();if(!Dy(e))throw TypeError("Stringified UUID is invalid");return e}(o)},C0=[{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1648041984132},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1648041964676},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1648041940941},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1648041898298},{price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",updateDate:1647961453747},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647961415096},{price:2.65,productBarcode:"8411135005037",shopId:"bonpreu",updateDate:1647961386453},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1647961357748},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1647961332394},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647961299091},{price:5,productBarcode:"3574661648019",shopId:"bonpreu",updateDate:1647961197826},{price:1.25,productBarcode:"8410505512267",shopId:"bonpreu",updateDate:1647547513223},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647547483555},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647547448250},{price:4.29,productBarcode:"8436551862040",shopId:"ametller",updateDate:1647449138590},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1647449093641},{price:1.99,productBarcode:"8436540566942",shopId:"ametller",updateDate:1647449073312},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647449047440},{price:2.99,productBarcode:"5029053036151",shopId:"bonpreu",updateDate:1647365959812},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1647365744646},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647365593154},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1647365517833},{price:1.1,productBarcode:"8410184800150",shopId:"bonpreu",updateDate:1647365491009},{price:1.73,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1647365453382},{price:.99,productBarcode:"8410184013086",shopId:"bonpreu",updateDate:1647365405368},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1647288183532},{price:3.49,productBarcode:"8436551861951",shopId:"ametller",updateDate:1647288160477},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647288114011},{price:1.99,productBarcode:"8436554523979",shopId:"ametller",updateDate:1647288063635},{price:1.49,productBarcode:"8436551867502",shopId:"ametller",updateDate:1647009885888},{price:1.99,productBarcode:"8436583950449",shopId:"ametller",updateDate:1647009840835},{price:5.99,productBarcode:"8436551860251",shopId:"ametller",updateDate:1647009813003},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647009785979},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1647009736789},{price:6.49,productBarcode:"8436583957110",shopId:"ametller",updateDate:1647009673830},{price:6.49,productBarcode:"8436583957134",shopId:"ametller",updateDate:1647009576298},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1647009535063},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647009507902},{price:1.86,productBarcode:"8076802085981",shopId:"carrefour",updateDate:1647001030237},{price:1.86,productBarcode:"8076808060654",shopId:"carrefour",updateDate:1647000997394},{price:2.1,productBarcode:"8410128160074",shopId:"carrefour",updateDate:1647000971290},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1647000949431},{price:1.49,productBarcode:"3560070119851",shopId:"carrefour",updateDate:1647000913572},{price:2.26,productBarcode:"8431707094290",shopId:"carrefour",updateDate:1646942628295},{price:2.2,productBarcode:"3560070347438",shopId:"carrefour",updateDate:1646942603389},{price:1,productBarcode:"8436033878095",shopId:"carrefour",updateDate:1646942576971},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1646942537870},{price:1.08,productBarcode:"8431876005912",shopId:"carrefour",updateDate:1646942494815},{price:2.2,productBarcode:"8480000180926",shopId:"mercadona",updateDate:1646930250559},{price:3.3,productBarcode:"8480000136343",shopId:"mercadona",updateDate:1646930214883},{price:1.2,productBarcode:"8410086000856",shopId:"mercadona",updateDate:1646930191204},{price:1.25,productBarcode:"8480000163141",shopId:"mercadona",updateDate:1646930166623},{price:1.95,productBarcode:"8480000581518",shopId:"mercadona",updateDate:1646930137722},{price:2.65,productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641},{price:1.5,productBarcode:"8480000610652",shopId:"mercadona",updateDate:1646930032462},{price:3.25,productBarcode:"8420309210115",shopId:"mercadona",updateDate:1646929997724},{price:.9,productBarcode:"8410148509327",shopId:"mercadona",updateDate:1646929946281},{price:1.59,productBarcode:"80177616",shopId:"dia",updateDate:1646872443076},{price:1.27,productBarcode:"8480017574657",shopId:"dia",updateDate:1646856265172},{price:2.89,productBarcode:"8410448000913",shopId:"dia",updateDate:1646856219361},{price:4.95,productBarcode:"7613035260924",shopId:"dia",updateDate:1646856083841},{price:4.89,productBarcode:"5054563099082",shopId:"dia",updateDate:1646856003573},{price:4.09,productBarcode:"8714100635650",shopId:"bonpreu",updateDate:1646486309719},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1646486174599},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1646486121079},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646415616777},{price:2.19,productBarcode:"8413475312615",shopId:"ametller",updateDate:1646415576400},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646415548935},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1646335181459},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646335153243},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1646335092609},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646335060270},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1646335036086},{price:1.25,productBarcode:"8410564002204",shopId:"condis",updateDate:1646250727985},{price:2.29,productBarcode:"3073780902366",shopId:"condis",updateDate:1646250687325},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1646250627653},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1646144325823},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1646144272786},{price:1.99,productBarcode:"8435037550631",shopId:"ametller",updateDate:1646079281946},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646079230642},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646079202513},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1646079180090},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646079152860},{price:2.19,productBarcode:"3269612045008",shopId:"condis",updateDate:1646071049954},{price:2.59,productBarcode:"7613036569927",shopId:"condis",updateDate:1646071015575},{price:2.19,productBarcode:"8410022115255",shopId:"condis",updateDate:1645888125951},{price:6.25,productBarcode:"8410179012018",shopId:"condis",updateDate:1645888080319},{price:1.52,updateDate:1645888034122,shopId:"condis",productBarcode:"8411002105006"},{price:3.5,productBarcode:"5054563101648",shopId:"condis",updateDate:1645887883610},{price:1.49,productBarcode:"8717700002402",shopId:"condis",updateDate:1645886201039},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1645886117451},{price:1.91,updateDate:1645869460823,shopId:"carrefour",productBarcode:"8015100563067"},{price:3.15,updateDate:1645869433791,shopId:"carrefour",productBarcode:"3560071152413"},{price:3.39,productBarcode:"5050083560262",shopId:"carrefour",updateDate:1645869280046},{price:2.95,updateDate:1645869134793,shopId:"carrefour",productBarcode:"8006540576588"},{price:1.89,updateDate:1645869027911,shopId:"carrefour",productBarcode:"5029053010052"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616"},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1645798155513},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1645798113906},{price:3.15,updateDate:1645798090805,shopId:"ametller",productBarcode:"8436583955093"},{price:1.99,updateDate:1645653239642,shopId:"ametller",productBarcode:"8436540566942"},{price:1.09,updateDate:1645653185581,shopId:"ametller",productBarcode:"8436551865355"},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1645552083100},{price:1.69,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1645552048570},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1645552013320},{price:1.45,productBarcode:"8414516070167",shopId:"bonpreu",updateDate:1645551958078},{price:1.43,productBarcode:"8413100612639",shopId:"bonpreu",updateDate:1645551919468},{price:1.99,productBarcode:"8422410387915",shopId:"bonpreu",updateDate:1645551879354},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1645551832691},{price:2.15,productBarcode:"3045206312257",shopId:"bonpreu",updateDate:1645452864525},{price:.99,productBarcode:"7613035268388",shopId:"bonpreu",updateDate:1645452256976},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1645452194587}];var va=O(1343);let $u=(()=>{class n{constructor(e,o,l){this.productService=e,this.shopService=o,this.firestoreService=l,this.shopsProducts=new si.x,this._shopsProducts=[],this.shopsProducts.subscribe(p=>{this._shopsProducts=p}),this.loadShopsProducts().subscribe()}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),Ga.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,di.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=C0),this.shopsProducts.next(e)})):(0,In.of)(C0).pipe((0,di.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=C0),this.shopsProducts.next(e)}))}addShopProduct(e){return e.id||(e.id=ou()),Ga.q.cloudMode?this.firestoreService.addShopProduct(e).pipe((0,di.b)(()=>{this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeShopProduct(e){return console.log("ShopProductService.removeShopProduct()",e),Ga.q.cloudMode?this.firestoreService.deleteShopProduct(e).pipe((0,di.b)(()=>{this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeShopShopProducts(e){console.log("ShopProductService.removeShopShopProducts()",e);const o=[],l=[];return this._shopsProducts.forEach(p=>{p.shopId===e?o.push(p):l.push(p)}),Ga.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,di.b)(()=>{this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}removeProductShopProducts(e){console.log("ShopProductService.removeProductShopProducts()",e);const o=[],l=[];return this._shopsProducts.forEach(p=>{p.productBarcode===e?o.push(p):l.push(p)}),Ga.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,di.b)(()=>{this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts),(0,In.of)(!0))}getShopProduct(e,o){const l=this._shopsProducts.filter(p=>p.productBarcode===o&&p.shopId===e).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return(0,In.of)(l.length>0?l[0]:void 0)}getShopProducts(e){const o=this._shopsProducts.filter(l=>l.shopId===e).map(l=>l.productBarcode);return(0,In.of)(this.productService._products.filter(l=>o.indexOf(l.barcode)>-1))}getProductShops(e){const o=this._shopsProducts.filter(l=>l.productBarcode===e).map(l=>l.shopId);return(0,In.of)(this.shopService._shops.filter(l=>o.indexOf(l.id)>-1))}getShopShopProducts(e){return(0,In.of)(this._shopsProducts.filter(o=>o.shopId===e))}getProductShopProducts(e){return(0,In.of)(this._shopsProducts.filter(o=>o.productBarcode===e))}getShopProductLast(e,o){const l=this._shopsProducts.filter(p=>p.shopId===e&&p.productBarcode===o).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return l.length>0?l[0]:void 0}getProductCheaperShop(e){const o=[];if(!e)return[];if(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length)return;let l=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price>x.price?1:-1)];const p=l[0].price;return l=l.filter(b=>b.price===p),l.map(b=>this.shopService._shops.find(x=>x.id===b.shopId))}getProductLowestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let l=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1)];return l[0].price<=l[l.length-1].price?l[0].price:l[l.length-1].price}getProductHighestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let l=o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1);return l[0].price>=l[l.length-1].price?l[0].price:l[l.length-1].price}getProductPriceRange(e,o){const l=[];this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{l.indexOf(b.shopId)<0&&l.push(b.shopId)});const p=l.map(b=>this.getShopProductLast(b,e.barcode).price);return p.sort((b,x)=>b<x?1:-1),{max:p[0],min:p[p.length-1]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Qa.M),t.LFG(ya.d),t.LFG(va.C))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Ys=O(4120);let Yf=(()=>{class n{constructor(e,o){this.productService=e,this.shopProductService=o,this.cart=new si.x,this.cartConfig=new si.x,this.cart.subscribe(l=>{var p;l&&(null===(p=l.productsBarcodesUnits)||void 0===p?void 0:p.length)>0?(this._cart=l,localStorage.setItem(Wc.M.PS_SHOPPING_CART,JSON.stringify(l))):(this._cart=void 0,localStorage.removeItem(Wc.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const e=localStorage.getItem(Wc.M.PS_SHOPPING_CART);if(e){const o=JSON.parse(e);this.cart.next(o)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(e=>{var o,l;(null===(l=null===(o=this._cart)||void 0===o?void 0:o.productsBarcodesUnits)||void 0===l?void 0:l.length)>0&&this._cart.productsBarcodesUnits.forEach(p=>{const b=e.find(k=>k.barcode===p.barcode);b||console.error("Undefined product");const x=this.shopProductService.getProductCheaperShop(b);if(x){const k=this.shopProductService.getProductLowestPrice(b),K=this.shopProductService.getProductHighestPrice(b);x.forEach(he=>{const Ne=this._cartConfig.items.find(We=>{var ft;return(null===(ft=We.shop)||void 0===ft?void 0:ft.id)===he.id}),Je={product:b,units:p.units,minPrice:k,maxPrice:K,checked:p.checked};Ne?Ne.productsUnits.push(Je):this._cartConfig.items.push({shop:he,productsUnits:[Je]})})}else{const k=this._cartConfig.items.find(K=>!K.shop);k?k.productsUnits.push({product:b,units:p.units,checked:p.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:b,units:p.units,checked:p.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(e,o){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(l=>l.barcode===e.barcode).units=o,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(e){this._cart.productsBarcodesUnits.find(o=>o.barcode===e.product.barcode).checked=!e.checked,this.cart.next(this._cart)}removeCartProduct(e){console.log("removeCartProduct()",e),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(o=>o.barcode!==e.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Wc.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(e){console.log("addToCart()",e);let o=this._cart;if(o){const l=o.productsBarcodesUnits.find(p=>p.barcode===e.barcode);l?l.units++:o.productsBarcodesUnits.push({barcode:e.barcode,units:1,checked:!1})}else o={productsBarcodesUnits:[{barcode:e.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};o.updateDate=(new Date).getTime(),this.cart.next(o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Qa.M),t.LFG($u))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Jf=O(5032);function to(n){return(0,Xi.e)((r,e)=>{(0,It.Xf)(n).subscribe((0,_r.x)(e,()=>e.complete(),Jf.Z)),!e.closed&&r.subscribe(e)})}class lg{}const Xa="*";function Qf(n,r){return{type:7,name:n,definitions:r,options:{}}}function dg(n,r=null){return{type:4,styles:r,timings:n}}function T0(n,r=null){return{type:2,steps:n,options:r}}function Xf(n){return{type:6,styles:n,offset:null}}function Sy(n,r,e){return{type:0,name:n,styles:r,options:e}}function Jm(n,r,e=null){return{type:1,expr:n,animation:r,options:e}}function e_(n){Promise.resolve(null).then(n)}class Ud{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){e_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class tp{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,o=0,l=0;const p=this.players.length;0==p?e_(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++e==p&&this._onFinish()}),b.onDestroy(()=>{++o==p&&this._onDestroy()}),b.onStart(()=>{++l==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,x)=>Math.max(b,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(o=>{const l=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(l)})}getPosition(){const r=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}const Bd=["overlay"];function Ko(n,r){1&n&&t._UZ(0,"div")}function su(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Ko,1,0,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.Tol(e.spinner.class),t.Udp("color",e.spinner.color),t.xp6(1),t.Q6J("ngForOf",e.spinner.divArray)}}function Bh(n,r){if(1&n&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&n){const e=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,e.template),t.oJD)}}function ba(n,r){if(1&n&&(t.TgZ(0,"div",1,2),t.YNc(2,su,2,5,"div",3),t.YNc(3,Bh,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&n){const e=t.oxw();t.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!e.template),t.xp6(1),t.Q6J("ngIf",e.template),t.xp6(1),t.Udp("z-index",e.spinner.zIndex)}}const np=["*"],Vd={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Ca="primary";class Qs{constructor(r){Object.assign(this,r)}static create(r){return(null==(null==r?void 0:r.type)||0===r.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Qs(r)}}let Xs=(()=>{class n{constructor(){this.spinnerObservable=new fo(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Ii(o=>o&&o.name===e))}show(e=Ca,o){return new Promise((l,p)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=e,this.spinnerObservable.next(new Qs(Object.assign(Object.assign({},o),{show:!0}))),l(!0)):(this.spinnerObservable.next(new Qs({name:e,show:!0})),l(!0))},10)})}hide(e=Ca,o=10){return new Promise((l,p)=>{setTimeout(()=>{this.spinnerObservable.next(new Qs({name:e,show:!1})),l(!0)},o)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Vh=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(No,16))},n.\u0275pipe=t.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),jh=(()=>{class n{constructor(e,o,l){this.spinnerService=e,this.changeDetector=o,this.elementRef=l,this.disableAnimation=!1,this.spinner=new Qs,this.ngUnsubscribe=new si.x,this.setDefaultOptions=()=>{this.spinner=Qs.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Ca,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(to(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const o in e)if(o){const l=e[o];if(l.isFirstChange())return;void 0!==l.currentValue&&l.currentValue!==l.previousValue&&""!==l.currentValue&&(this.spinner[o]=l.currentValue,"showSpinner"===o&&(l.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===o&&this.initObservable())}}getClass(e,o){this.spinner.divCount=Vd[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((p,b)=>b);let l="";switch(o.toLowerCase()){case"small":l="la-sm";break;case"medium":l="la-2x";break;case"large":l="la-3x"}return"la-"+e+" "+l}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Xs),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(e,o){if(1&e&&t.Gf(Bd,5),2&e){let l;t.iGM(l=t.CRH())&&(o.spinnerDOM=l.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(p){return o.handleKeyboardEvent(p)},!1,t.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[t.TTD],ngContentSelectors:np,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,ba,6,12,"div",0)),2&e&&t.Q6J("ngIf",o.spinner.show)},directives:[Fe,ur],pipes:[Vh],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Qf("fadeIn",[Sy("in",Xf({opacity:1})),Jm(":enter",[Xf({opacity:0}),dg(300)]),Jm(":leave",dg(200,Xf({opacity:0})))])]},changeDetection:0}),n})(),jd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();function ec(n){return!!n&&(n instanceof Ei.y||(0,ga.m)(n.lift)&&(0,ga.m)(n.subscribe))}var t_=O(6063);class D0 extends si.x{constructor(r=1/0,e=1/0,o=t_.l){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:b}=this;e||(o.push(r),!l&&o.push(p.now()+b)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(r),{_infiniteTimeWindow:o,_buffer:l}=this,p=l.slice();for(let b=0;b<p.length&&!r.closed;b+=o?1:2)r.next(p[b]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){const{_bufferSize:r,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,p=(l?1:2)*r;if(r<1/0&&p<o.length&&o.splice(0,o.length-p),!l){const b=e.now();let x=0;for(let k=1;k<o.length&&o[k]<=b;k+=2)x=k;x&&o.splice(0,x+1)}}}var S0=O(3099);function rp(n,r,e){let o,l=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:r=1/0,refCount:l=!1,scheduler:e}=n):o=null!=n?n:1/0,(0,S0.B)({connector:()=>new D0(o,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}class ip{}let fg=(()=>{class n extends ip{getTranslation(e){return(0,In.of)({})}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Gh{}let n_=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Hh(n,r){if(n===r)return!0;if(null===n||null===r)return!1;if(n!=n&&r!=r)return!0;let l,p,b,e=typeof n;if(e==typeof r&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(r))return!1;for(p in b=Object.create(null),n){if(!Hh(n[p],r[p]))return!1;b[p]=!0}for(p in r)if(!(p in b)&&void 0!==r[p])return!1;return!0}if(!Array.isArray(r))return!1;if((l=n.length)==r.length){for(p=0;p<l;p++)if(!Hh(n[p],r[p]))return!1;return!0}}return!1}function qu(n){return null!=n}function Gd(n){return n&&"object"==typeof n&&!Array.isArray(n)}function jr(n,r){let e=Object.assign({},n);return Gd(n)&&Gd(r)&&Object.keys(r).forEach(o=>{Gd(r[o])?o in n?e[o]=jr(n[o],r[o]):Object.assign(e,{[o]:r[o]}):Object.assign(e,{[o]:r[o]})}),e}class $h{}let pg=(()=>{class n extends $h{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,o){let l;return l="string"==typeof e?this.interpolateString(e,o):"function"==typeof e?this.interpolateFunction(e,o):e,l}getValue(e,o){let l="string"==typeof o?o.split("."):[o];o="";do{o+=l.shift(),!qu(e)||!qu(e[o])||"object"!=typeof e[o]&&l.length?l.length?o+=".":e=void 0:(e=e[o],o="")}while(l.length);return e}interpolateFunction(e,o){return e(o)}interpolateString(e,o){return o?e.replace(this.templateMatcher,(l,p)=>{let b=this.getValue(o,p);return qu(b)?b:l}):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Vl{}let xy=(()=>{class n extends Vl{compile(e,o){return e}compileTranslations(e,o){return e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class $i{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const Yo=new t.OlP("USE_STORE"),wa=new t.OlP("USE_DEFAULT_LANG"),r_=new t.OlP("DEFAULT_LANGUAGE"),x0=new t.OlP("USE_EXTEND");let vc=(()=>{class n{constructor(e,o,l,p,b,x=!0,k=!1,K=!1,he){this.store=e,this.currentLoader=o,this.compiler=l,this.parser=p,this.missingTranslationHandler=b,this.useDefaultLang=x,this.isolate=k,this.extend=K,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},he&&this.setDefaultLang(he)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let o=this.retrieveTranslations(e);void 0!==o?(null==this.defaultLang&&(this.defaultLang=e),o.pipe((0,Hi.q)(1)).subscribe(l=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,In.of)(this.translations[e]);let o=this.retrieveTranslations(e);return void 0!==o?(this.currentLang||(this.currentLang=e),o.pipe((0,Hi.q)(1)).subscribe(l=>{this.changeLang(e)}),o):(this.changeLang(e),(0,In.of)(this.translations[e]))}retrieveTranslations(e){let o;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),o=this._translationRequests[e]),o}getTranslation(e){this.pending=!0;const o=this.currentLoader.getTranslation(e).pipe(rp(1),(0,Hi.q)(1));return this.loadingTranslations=o.pipe((0,Xn.U)(l=>this.compiler.compileTranslations(l,e)),rp(1),(0,Hi.q)(1)),this.loadingTranslations.subscribe({next:l=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},l),this.translations[e]):l,this.updateLangs(),this.pending=!1},error:l=>{this.pending=!1}}),o}setTranslation(e,o,l=!1){o=this.compiler.compileTranslations(o,e),this.translations[e]=(l||this.extend)&&this.translations[e]?jr(this.translations[e],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(o=>{-1===this.langs.indexOf(o)&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,o,l){let p;if(o instanceof Array){let b={},x=!1;for(let k of o)b[k]=this.getParsedResult(e,k,l),ec(b[k])&&(x=!0);return x?gl(o.map(K=>ec(b[K])?b[K]:(0,In.of)(b[K]))).pipe((0,Xn.U)(K=>{let he={};return K.forEach((Ne,Je)=>{he[o[Je]]=Ne}),he})):b}if(e&&(p=this.parser.interpolate(this.parser.getValue(e,o),l)),void 0===p&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(p=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],o),l)),void 0===p){let b={key:o,translateService:this};void 0!==l&&(b.interpolateParams=l),p=this.missingTranslationHandler.handle(b)}return void 0!==p?p:o}get(e,o){if(!qu(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Wo(l=>ec(l=this.getParsedResult(l,e,o))?l:(0,In.of)(l)));{let l=this.getParsedResult(this.translations[this.currentLang],e,o);return ec(l)?l:(0,In.of)(l)}}getStreamOnTranslationChange(e,o){if(!qu(e)||!e.length)throw new Error('Parameter "key" required');return Ou(Il(()=>this.get(e,o)),this.onTranslationChange.pipe(go(l=>{const p=this.getParsedResult(l.translations,e,o);return"function"==typeof p.subscribe?p:(0,In.of)(p)})))}stream(e,o){if(!qu(e)||!e.length)throw new Error('Parameter "key" required');return Ou(Il(()=>this.get(e,o)),this.onLangChange.pipe(go(l=>{const p=this.getParsedResult(l.translations,e,o);return ec(p)?p:(0,In.of)(p)})))}instant(e,o){if(!qu(e)||!e.length)throw new Error('Parameter "key" required');let l=this.getParsedResult(this.translations[this.currentLang],e,o);if(ec(l)){if(e instanceof Array){let p={};return e.forEach((b,x)=>{p[e[x]]=e[x]}),p}return e}return l}set(e,o,l=this.currentLang){this.translations[l][e]=this.compiler.compile(o,l),this.updateLangs(),this.onTranslationChange.emit({lang:l,translations:this.translations[l]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($i),t.LFG(ip),t.LFG(Vl),t.LFG($h),t.LFG(Gh),t.LFG(wa),t.LFG(Yo),t.LFG(x0),t.LFG(r_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Jo=(()=>{class n{constructor(e,o){this.translate=e,this._ref=o,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,o,l){let p=b=>{this.value=void 0!==b?b:e,this.lastKey=e,this._ref.markForCheck()};if(l){let b=this.translate.getParsedResult(l,e,o);ec(b.subscribe)?b.subscribe(p):p(b)}this.translate.get(e,o).subscribe(p)}transform(e,...o){if(!e||!e.length)return e;if(Hh(e,this.lastKey)&&Hh(o,this.lastParams))return this.value;let l;if(qu(o[0])&&o.length)if("string"==typeof o[0]&&o[0].length){let p=o[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{l=JSON.parse(p)}catch(b){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else"object"==typeof o[0]&&!Array.isArray(o[0])&&(l=o[0]);return this.lastKey=e,this.lastParams=o,this.updateValue(e,l),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(p=>{this.lastKey&&p.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,l,p.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(p=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,l,p.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,l))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vc,16),t.Y36(t.sBO,16))},n.\u0275pipe=t.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),i_=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:ip,useClass:fg},e.compiler||{provide:Vl,useClass:xy},e.parser||{provide:$h,useClass:pg},e.missingTranslationHandler||{provide:Gh,useClass:n_},$i,{provide:Yo,useValue:e.isolate},{provide:wa,useValue:e.useDefaultLang},{provide:x0,useValue:e.extend},{provide:r_,useValue:e.defaultLanguage},vc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:ip,useClass:fg},e.compiler||{provide:Vl,useClass:xy},e.parser||{provide:$h,useClass:pg},e.missingTranslationHandler||{provide:Gh,useClass:n_},{provide:Yo,useValue:e.isolate},{provide:wa,useValue:e.useDefaultLang},{provide:x0,useValue:e.extend},{provide:r_,useValue:e.defaultLanguage},vc]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const o_={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest email",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes no concideixen"},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui en la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i la aplicaci\xf3 et dir\xe0 on comprar cada producte."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escanejar"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades"},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant scanner",initError:"Hi ha hagut un error inicialitzant el scanner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'ecaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per al a botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"}}},jv={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords do not match"},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data"},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"}}},lC={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as no conciden"},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos"},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"}}},qi={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas n\xe3o coincidem"},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados"},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"}}};let Ay=(()=>{class n{constructor(e){this.translate=e,this.languages=["ca","es","en","pt"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:o_,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:lC,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:jv,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:qi,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"}],this.translationData.forEach(e=>{this.translate.setTranslation(e.language,e.translations)}),(0,In.of)(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(vc))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var op=O(655),Qo=O(127),A0=O(6451),jl=O(5363);function Iy(n,r){return(0,ga.m)(r)?go(()=>n,r):go(()=>n)}var sp=O(9468),My=O(5813),Hd=O(2011),s_=O(7128);const Oy=new t.OlP("angularfire2.auth.use-emulator"),Hv=new t.OlP("angularfire2.auth.settings"),$v=new t.OlP("angularfire2.auth.tenant-id"),I0=new t.OlP("angularfire2.auth.langugage-code"),qh=new t.OlP("angularfire2.auth.use-device-language"),qv=new t.OlP("angularfire.auth.persistence");let gg=(()=>{class n{constructor(e,o,l,p,b,x,k,K,he,Ne,Je,We){const ft=new si.x,bt=(0,In.of)(void 0).pipe((0,jl.Q)(b.outsideAngular),go(()=>p.runOutsideAngular(()=>O.e(887).then(O.bind(O,5887)))),(0,Xn.U)(()=>(0,Hd.on)(e,p,o)),(0,Xn.U)(Kt=>((n,r,e,o,l,p,b,x)=>(0,Hd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const k=r.runOutsideAngular(()=>n.auth());if(e&&k.useEmulator(...e),o&&(k.tenantId=o),k.languageCode=l,p&&k.useDeviceLanguage(),b)for(const[K,he]of Object.entries(b))k.settings[K]=he;return x&&k.setPersistence(x),k},[e,o,l,p,b,x]))(Kt,p,x,K,he,Ne,k,Je)),rp({bufferSize:1,refCount:!1}));if(function qt(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,In.of)(null);else{bt.pipe(_t()).subscribe();const ln=bt.pipe(go(Sn=>Sn.getRedirectResult().then(fr=>fr,()=>null)),My.iC,rp({bufferSize:1,refCount:!1})),bn=bt.pipe(go(Sn=>new Ei.y(fr=>({unsubscribe:p.runOutsideAngular(()=>Sn.onAuthStateChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))})))),cr=bt.pipe(go(Sn=>new Ei.y(fr=>({unsubscribe:p.runOutsideAngular(()=>Sn.onIdTokenChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))}))));this.authState=ln.pipe(Iy(bn),(0,sp.R)(b.outsideAngular),(0,jl.Q)(b.insideAngular)),this.user=ln.pipe(Iy(cr),(0,sp.R)(b.outsideAngular),(0,jl.Q)(b.insideAngular)),this.idToken=this.user.pipe(go(Sn=>Sn?(0,ar.D)(Sn.getIdToken()):(0,In.of)(null))),this.idTokenResult=this.user.pipe(go(Sn=>Sn?(0,ar.D)(Sn.getIdTokenResult()):(0,In.of)(null))),this.credential=(0,A0.T)(ln,ft,this.authState.pipe(Ii(Sn=>!Sn))).pipe((0,Xn.U)(Sn=>(null==Sn?void 0:Sn.user)?Sn:null),(0,sp.R)(b.outsideAngular),(0,jl.Q)(b.insideAngular))}return(0,Hd.pX)(this,bt,p,{spy:{apply:(Kt,ln,bn)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&bn.then(cr=>ft.next(cr))}}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Hd.Dh),t.LFG(Hd.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(My.HU),t.LFG(Oy,8),t.LFG(Hv,8),t.LFG($v,8),t.LFG(I0,8),t.LFG(qh,8),t.LFG(qv,8),t.LFG(s_.nm,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),mg=(()=>{class n{constructor(e){this.afauth=e}login(e,o){return(0,op.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(e,o)}catch(l){return console.log("Login error",l),null}})}loginWithGoogle(e,o){return(0,op.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new Qo.Z.auth.GoogleAuthProvider)}catch(l){return console.log("Logi with Google error",l),null}})}register(e,o){return(0,op.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(e,o)}catch(l){return console.log("Register error",l),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(gg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),c_=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"ul")(2,"li"),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"li"),t._uU(6),t.ALo(7,"number"),t.qZA()()()),2&e&&(t.xp6(3),t.hij("Botigues: ",t.xi3(4,2,o.shops.length,"1.0-2"),""),t.xp6(3),t.hij("Productes: ",t.xi3(7,5,o.products.length,"1.0-2"),""))},pipes:[P],styles:[""]}),n})();var bc=O(2940);function _g(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",9),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().updateProduct(l)}),t.qZA()}}function yg(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",10),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw().updateProduct(l)}),t.qZA()}}function Zv(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"input",5),t.NdJ("ngModelChange",function(l){return t.CHM(e).$implicit.name=l}),t.qZA()(),t.TgZ(4,"td")(5,"input",5),t.NdJ("ngModelChange",function(l){return t.CHM(e).$implicit.brand=l}),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"input",5),t.NdJ("ngModelChange",function(l){return t.CHM(e).$implicit.imageUrl=l}),t.qZA()(),t.TgZ(10,"td"),t._UZ(11,"img",6),t.qZA(),t.TgZ(12,"td"),t.YNc(13,_g,1,0,"i",7),t.YNc(14,yg,1,0,"i",8),t.qZA()(),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(3),t.Q6J("value",e.name)("ngModel",e.name),t.xp6(2),t.Q6J("value",e.brand)("ngModel",e.brand),t.xp6(2),t.Oqu(null==e.createdBy?null:e.createdBy.username),t.xp6(2),t.Q6J("value",e.imageUrl)("ngModel",e.imageUrl),t.xp6(2),t.Q6J("src",e.imageUrl.length>0?e.imageUrl:o.DEFAULT_IMAGE_URL,t.LSH),t.xp6(2),t.Q6J("ngIf",!o.updatingProduct||o.updatingProduct.id!==e.id),t.xp6(1),t.Q6J("ngIf",o.updatingProduct&&o.updatingProduct.id===e.id)}}let cu=(()=>{class n{constructor(e,o){this.productService=e,this.spinner=o,this.products=[],this.onSortEmitter=new t.vpe,this.DEFAULT_IMAGE_URL=bc.T,this.sortBy="name",this.sortDir="ASC"}sort(e){this.sortDir=e!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=e,this.onSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(e){console.log("updateProduct()",e),e.brand.length>0&&e.name.length>0&&(0===e.imageUrl.length&&(e.imageUrl=bc.T),this.updatingProduct=e,this.spinner.show(),this.productService.updateProduct(e,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(e=>{e.imageUrl=e.imageUrl===bc.T?"":e.imageUrl})}ngOnInit(){this.checkProductsImages()}ngOnChanges(e){this.checkProductsImages()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Qa.M),t.Y36(Xs))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-products"]],inputs:{products:"products"},outputs:{onSortEmitter:"onSortEmitter"},features:[t.TTD],decls:20,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",3,"click",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"span",2),t.NdJ("click",function(){return o.sort("name")}),t._uU(6,"Nom"),t.qZA()(),t.TgZ(7,"th")(8,"span",2),t.NdJ("click",function(){return o.sort("brand")}),t._uU(9,"Marca"),t.qZA()(),t.TgZ(10,"th"),t._uU(11,"Creat per"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"URL imatge"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Imatge"),t.qZA(),t.TgZ(16,"th"),t._UZ(17,"i",3),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,Zv,15,10,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(19),t.Q6J("ngForOf",o.products))},directives:[ur,Xr,Ni,cs,Fe],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();function vg(n,r){if(1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-backoffice-dashboard",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function $d(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Botigues"),t.qZA())}function bg(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-backoffice-products",11),t.NdJ("onSortEmitter",function(l){return t.CHM(e),t.oxw().sortProducts(l)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("products",e.products)}}function u_(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Usuaris"),t.qZA())}const qd=function(n){return{active:n}};let Cg=(()=>{class n{constructor(e){this.loginService=e,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.users=[]}sortProducts(e){console.log("sortProducts()",e),e&&(this.products=this.products.sort((o,l)=>"DESC"===e.sortDir?o[e.sortBy].toUpperCase()>l[e.sortBy].toUpperCase()?-1:1:o[e.sortBy].toUpperCase()>l[e.sortBy].toUpperCase()?1:-1))}refreshUsers(){let e=[this.loginService.getLoggedUser()];this.shops.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.products.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.shopsProducts.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.users=e}ngOnInit(){}ngOnChanges(e){this.refreshUsers()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ys.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[t.TTD],decls:31,vars:28,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","w-100","mb-3","mt-5"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"products","onSortEmitter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Backoffice"),t.qZA()(),t.TgZ(4,"ul",2)(5,"li",3)(6,"a",4),t.NdJ("click",function(){return o.selectedTab=0}),t._uU(7,"Dashboard"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",4),t.NdJ("click",function(){return o.selectedTab=1}),t._uU(10,"Botigues "),t.TgZ(11,"small",6),t._uU(12),t.ALo(13,"number"),t.qZA()()(),t.TgZ(14,"li",3)(15,"a",4),t.NdJ("click",function(){return o.selectedTab=2}),t._uU(16,"Productes "),t.TgZ(17,"small",6),t._uU(18),t.ALo(19,"number"),t.qZA()()(),t.TgZ(20,"li",3)(21,"a",4),t.NdJ("click",function(){return o.selectedTab=3}),t._uU(22,"Usuaris"),t.TgZ(23,"small",6),t._uU(24),t.ALo(25,"number"),t.qZA()()()(),t.TgZ(26,"div",7),t.YNc(27,vg,2,3,"div",8),t.YNc(28,$d,2,0,"div",8),t.YNc(29,bg,2,1,"div",8),t.YNc(30,u_,2,0,"div",8),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(20,qd,0===o.selectedTab)),t.xp6(3),t.Q6J("ngClass",t.VKq(22,qd,1===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(13,11,o.shops.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(24,qd,2===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(19,14,o.products.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(26,qd,3===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(25,17,null==o.users?null:o.users.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.Q6J("ngIf",2===o.selectedTab),t.xp6(1),t.Q6J("ngIf",3===o.selectedTab))},directives:[Mr,Fe,c_,cu],pipes:[P],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 180px)!important;overflow:auto}"]}),n})();const l_=["appLayout"];function Py(n,r){if(1&n&&(t.TgZ(0,"div",37),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e.cartItemCount,"1.0-2")," ")}}function M0(n,r){1&n&&t._UZ(0,"i",38)}function ap(n,r){if(1&n&&t._UZ(0,"img",39),2&n){const e=t.oxw(4);t.Q6J("src",e.loggedUser.photoURL,t.LSH)}}function uu(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li"),t._UZ(2,"hr",35),t.qZA(),t.TgZ(3,"li",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleExport()}),t.TgZ(4,"div",23),t._UZ(5,"i",40),t.TgZ(6,"a",25),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"menu.export")))}const wg=function(n){return{disabled:n}},d_=function(){return["/shoppingCart"]},cp=function(){return["/search-shops"]},Tg=function(){return["/search-products"]},h_=function(){return["/statistics"]};function Zh(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"button",9),t._UZ(3,"i",10),t.qZA(),t.YNc(4,Py,3,4,"div",11),t.qZA(),t.TgZ(5,"div",12)(6,"button",13),t._UZ(7,"i",14),t.qZA(),t.TgZ(8,"ul",15)(9,"li",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToUserDetail()}),t.TgZ(10,"div",17)(11,"div"),t.YNc(12,M0,1,0,"i",18),t.YNc(13,ap,1,1,"img",19),t.qZA(),t.TgZ(14,"div",20)(15,"span",21),t._uU(16),t.qZA(),t.TgZ(17,"small",21),t._uU(18),t.qZA()()()(),t.TgZ(19,"li",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToHome()}),t.TgZ(20,"div",23),t._UZ(21,"i",24),t.TgZ(22,"a",25),t._uU(23),t.ALo(24,"translate"),t.qZA()()(),t.TgZ(25,"li",26)(26,"div",23),t._UZ(27,"i",27),t.TgZ(28,"a",28),t._uU(29),t.ALo(30,"translate"),t.TgZ(31,"small",29),t._uU(32),t.ALo(33,"number"),t.qZA()()()(),t.TgZ(34,"li",26)(35,"div",23),t._UZ(36,"i",30),t.TgZ(37,"a",28),t._uU(38),t.ALo(39,"translate"),t.TgZ(40,"small",29),t._uU(41),t.ALo(42,"number"),t.qZA()()()(),t.TgZ(43,"li",31)(44,"div",23),t._UZ(45,"i",32),t.TgZ(46,"a",33),t._uU(47),t.ALo(48,"translate"),t.qZA()()(),t.TgZ(49,"li",26)(50,"div",23),t._UZ(51,"i",34),t.TgZ(52,"a",28),t._uU(53),t.ALo(54,"translate"),t.qZA()()(),t.YNc(55,uu,9,3,"ng-container",0),t.TgZ(56,"li"),t._UZ(57,"hr",35),t.qZA(),t.TgZ(58,"li",22),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).logout()}),t.TgZ(59,"div",23),t._UZ(60,"i",36),t.TgZ(61,"a",25),t._uU(62),t.ALo(63,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngClass",t.VKq(38,wg,!((null==e.cartConfig||null==e.cartConfig.items?null:e.cartConfig.items.length)>0)))("routerLink",t.DdM(40,d_)),t.xp6(2),t.Q6J("ngIf",e.cartItemCount),t.xp6(8),t.Q6J("ngIf",!e.loggedUser.photoURL),t.xp6(1),t.Q6J("ngIf",e.loggedUser.photoURL),t.xp6(3),t.Oqu(null==e.loggedUser?null:e.loggedUser.username),t.xp6(2),t.Oqu(null==e.loggedUser?null:e.loggedUser.email),t.xp6(5),t.Oqu(t.lcZ(24,20,"menu.home")),t.xp6(5),t.Q6J("routerLink",t.DdM(41,cp)),t.xp6(1),t.Oqu(t.lcZ(30,22,"menu.shops")),t.xp6(3),t.hij("(",t.xi3(33,24,null==e.shops?null:e.shops.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(42,Tg)),t.xp6(1),t.Oqu(t.lcZ(39,27,"menu.products")),t.xp6(3),t.hij("(",t.xi3(42,29,null==e.products?null:e.products.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(43,h_)),t.xp6(1),t.Oqu(t.lcZ(48,32,"menu.alerts")),t.xp6(5),t.Q6J("routerLink",t.DdM(44,h_)),t.xp6(1),t.Oqu(t.lcZ(54,34,"menu.analysis")),t.xp6(2),t.Q6J("ngIf",!e.APP_CONFIG.cloudMode&&(null==e.loggedUser?null:e.loggedUser.admin)),t.xp6(7),t.Oqu(t.lcZ(63,36,"menu.exit"))}}function up(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToHome()}),t._UZ(3,"i",7),t.TgZ(4,"span"),t._uU(5,"Proddle"),t.qZA()(),t.YNc(6,Zh,64,45,"ng-container",0),t.qZA(),t._UZ(7,"router-outlet"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.loggedUser)}}function O0(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",41),t._UZ(2,"app-backoffice-layout",42),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function Eg(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,up,8,1,"div",3),t.YNc(3,O0,3,3,"ng-container",0),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.backofficeMode),t.xp6(1),t.Q6J("ngIf",e.backofficeMode)}}let P0=(()=>{class n{constructor(e,o,l,p,b,x,k,K,he,Ne){this.router=e,this.shopService=o,this.productService=l,this.shopProductService=p,this.loginService=b,this.shoppingCartService=x,this.spinner=k,this.translate=K,this.translationsService=he,this.firestoreAuthService=Ne,this.APP_CONFIG=Ga.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.translate.setDefaultLang(Ga.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Je=localStorage.getItem(Wc.M.PS_APP_LANGUAGE);Je?this.translate.use(Je):(this.translate.use(Ga.q.defaultLanguage),localStorage.setItem(Wc.M.PS_APP_LANGUAGE,Ga.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Wc.M.PS_APP_LANGUAGE))})}onResize(e){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const e=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=e,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var e;this.backofficeMode=!!(null===(e=this.loggedUser)||void 0===e?void 0:e.admin)&&window.innerWidth>568}calcCartItems(){var e;if(null===(e=this.cartConfig)||void 0===e?void 0:e.items){let o=0;this.cartConfig.items.forEach(l=>{l.productsUnits.forEach(p=>{o+=p.units})}),this.cartItemCount=o}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1),console.log(this.shops)}),this.productService.products.subscribe(e=>{this.products=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,l)=>o.updateDate>l.updateDate?1:-1)}),this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0,this.productsLoaded=this.productService._products&&this.productService._products.length>0,this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0,setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},500),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(e=>{this.loggedUser=e,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.checkBackofficeMode(),this.spinner.hide()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(ya.d),t.Y36(Qa.M),t.Y36($u),t.Y36(Ys.r),t.Y36(Yf),t.Y36(Xs),t.Y36(vc),t.Y36(Ay),t.Y36(mg))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(e,o){if(1&e&&t.Gf(l_,5),2&e){let l;t.iGM(l=t.CRH())&&(o.appLayoutComponent=l.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2","disabled"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["href","javascript://",1,"dropdown-item","disabled",3,"routerLink"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-3"],[3,"shops","products","shopsProducts"]],template:function(e,o){1&e&&(t.YNc(0,Eg,4,2,"ng-container",0),t._UZ(1,"ngx-spinner",1)),2&e&&t.Q6J("ngIf",o.translationsLoaded&&o.shopsLoaded&&o.productsLoaded&&o.shopsProductsLoaded)},directives:[Fe,Mr,_c,Ja,Ff,Cg,jh],pipes:[P,Jo],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),n})();class Zd{}class Zu{}class ea{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),p=l.toLowerCase(),b=e.slice(o+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(b):this.headers.set(p,[b])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let o=r[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof ea?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new ea;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof ea?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,e);const l=("a"===r.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const p=r.value;if(p){let b=this.headers.get(e);if(!b)return;b=b.filter(x=>-1===p.indexOf(x)),0===b.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,b)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class lp{encodeKey(r){return Dg(r)}encodeValue(r){return Dg(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const f_=/%(\d[a-f0-9])/gi,p_={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Dg(n){return encodeURIComponent(n).replace(f_,(r,e)=>{var o;return null!==(o=p_[e])&&void 0!==o?o:r})}function N0(n){return`${n}`}class Hl{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new lp,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wd(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[b,x]=-1==p?[r.decodeKey(l),""]:[r.decodeKey(l.slice(0,p)),r.decodeValue(l.slice(p+1))],k=e.get(b)||[];k.push(x),e.set(b,k)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const o=r.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(o=>{const l=r[o];Array.isArray(l)?l.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new Hl({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(N0(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const l=o.indexOf(N0(r.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class Ry{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function k0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function Sg(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Wv(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Wh{constructor(r,e,o,l){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function R0(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,p=l):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new ea),this.context||(this.context=new Ry),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=e;else{const x=e.indexOf("?");this.urlWithParams=e+(-1===x?"?":x<e.length-1?"&":"")+b}}else this.params=new Hl,this.urlWithParams=e}serializeBody(){return null===this.body?null:k0(this.body)||Sg(this.body)||Wv(this.body)||function zv(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Hl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Wv(this.body)?null:Sg(this.body)?this.body.type||null:k0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Hl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var e;const o=r.method||this.method,l=r.url||this.url,p=r.responseType||this.responseType,b=void 0!==r.body?r.body:this.body,x=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,k=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let K=r.headers||this.headers,he=r.params||this.params;const Ne=null!==(e=r.context)&&void 0!==e?e:this.context;return void 0!==r.setHeaders&&(K=Object.keys(r.setHeaders).reduce((Je,We)=>Je.set(We,r.setHeaders[We]),K)),r.setParams&&(he=Object.keys(r.setParams).reduce((Je,We)=>Je.set(We,r.setParams[We]),he)),new Wh(o,l,b,{params:he,headers:K,context:Ne,reportProgress:k,responseType:p,withCredentials:x})}}var So=(()=>((So=So||{})[So.Sent=0]="Sent",So[So.UploadProgress=1]="UploadProgress",So[So.ResponseHeader=2]="ResponseHeader",So[So.DownloadProgress=3]="DownloadProgress",So[So.Response=4]="Response",So[So.User=5]="User",So))();class F0{constructor(r,e=200,o="OK"){this.headers=r.headers||new ea,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class no extends F0{constructor(r={}){super(r),this.type=So.ResponseHeader}clone(r={}){return new no({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class xg extends F0{constructor(r={}){super(r),this.type=So.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new xg({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class ky extends F0{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Ag(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Ig=(()=>{class n{constructor(e){this.handler=e}request(e,o,l={}){let p;if(e instanceof Wh)p=e;else{let k,K;k=l.headers instanceof ea?l.headers:new ea(l.headers),l.params&&(K=l.params instanceof Hl?l.params:new Hl({fromObject:l.params})),p=new Wh(e,o,void 0!==l.body?l.body:null,{headers:k,context:l.context,params:K,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const b=(0,In.of)(p).pipe(Wo(k=>this.handler.handle(k)));if(e instanceof Wh||"events"===l.observe)return b;const x=b.pipe(Ii(k=>k instanceof xg));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return x.pipe((0,Xn.U)(k=>{if(null!==k.body&&!(k.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return k.body}));case"blob":return x.pipe((0,Xn.U)(k=>{if(null!==k.body&&!(k.body instanceof Blob))throw new Error("Response is not a Blob.");return k.body}));case"text":return x.pipe((0,Xn.U)(k=>{if(null!==k.body&&"string"!=typeof k.body)throw new Error("Response is not a string.");return k.body}));default:return x.pipe((0,Xn.U)(k=>k.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Hl).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,Ag(l,o))}post(e,o,l={}){return this.request("POST",e,Ag(l,o))}put(e,o,l={}){return this.request("PUT",e,Ag(l,o))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Zd))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class g_{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const Mg=new t.OlP("HTTP_INTERCEPTORS");let L0=(()=>{class n{intercept(e,o){return o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const U0=/^\)\]\}',?\n/;let Ly=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ei.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((We,ft)=>l.setRequestHeader(We,ft.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const We=e.detectContentTypeHeader();null!==We&&l.setRequestHeader("Content-Type",We)}if(e.responseType){const We=e.responseType.toLowerCase();l.responseType="json"!==We?We:"text"}const p=e.serializeBody();let b=null;const x=()=>{if(null!==b)return b;const We=l.statusText||"OK",ft=new ea(l.getAllResponseHeaders()),bt=function Wu(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||e.url;return b=new no({headers:ft,status:l.status,statusText:We,url:bt}),b},k=()=>{let{headers:We,status:ft,statusText:bt,url:Kt}=x(),ln=null;204!==ft&&(ln=void 0===l.response?l.responseText:l.response),0===ft&&(ft=ln?200:0);let bn=ft>=200&&ft<300;if("json"===e.responseType&&"string"==typeof ln){const cr=ln;ln=ln.replace(U0,"");try{ln=""!==ln?JSON.parse(ln):null}catch(Sn){ln=cr,bn&&(bn=!1,ln={error:Sn,text:ln})}}bn?(o.next(new xg({body:ln,headers:We,status:ft,statusText:bt,url:Kt||void 0})),o.complete()):o.error(new ky({error:ln,headers:We,status:ft,statusText:bt,url:Kt||void 0}))},K=We=>{const{url:ft}=x(),bt=new ky({error:We,status:l.status||0,statusText:l.statusText||"Unknown Error",url:ft||void 0});o.error(bt)};let he=!1;const Ne=We=>{he||(o.next(x()),he=!0);let ft={type:So.DownloadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),"text"===e.responseType&&!!l.responseText&&(ft.partialText=l.responseText),o.next(ft)},Je=We=>{let ft={type:So.UploadProgress,loaded:We.loaded};We.lengthComputable&&(ft.total=We.total),o.next(ft)};return l.addEventListener("load",k),l.addEventListener("error",K),l.addEventListener("timeout",K),l.addEventListener("abort",K),e.reportProgress&&(l.addEventListener("progress",Ne),null!==p&&l.upload&&l.upload.addEventListener("progress",Je)),l.send(p),o.next({type:So.Sent}),()=>{l.removeEventListener("error",K),l.removeEventListener("abort",K),l.removeEventListener("load",k),l.removeEventListener("timeout",K),e.reportProgress&&(l.removeEventListener("progress",Ne),null!==p&&l.upload&&l.upload.removeEventListener("progress",Je)),l.readyState!==l.DONE&&l.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Sr))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Pg=new t.OlP("XSRF_COOKIE_NAME"),Cc=new t.OlP("XSRF_HEADER_NAME");class tc{}let wc=(()=>{class n{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ir(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(t.Lbi),t.LFG(Pg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ng=(()=>{class n{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const l=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||l.startsWith("http://")||l.startsWith("https://"))return o.handle(e);const p=this.tokenService.getToken();return null!==p&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,p)})),o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(tc),t.LFG(Cc))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Uy=(()=>{class n{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(Mg,[]);this.chain=o.reduceRight((l,p)=>new g_(l,p),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Zu),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),By=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:Ng,useClass:L0}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Pg,useValue:e.cookieName}:[],e.headerName?{provide:Cc,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Ng,{provide:Mg,useExisting:Ng,multi:!0},{provide:tc,useClass:wc},{provide:Pg,useValue:"XSRF-TOKEN"},{provide:Cc,useValue:"X-XSRF-TOKEN"}]}),n})(),Yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Ig,{provide:Zd,useClass:Uy},Ly,{provide:Zu,useExisting:Ly}],imports:[[By.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Jv=O(896),Tc=O.n(Jv),Qv=O(5199),V0=O.n(Qv);const jy=["BarcodeScanner"],u={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},i=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function h(n){if(!i.some(r=>r===n))throw new Error(`This barcode type '${n}' is not valid.`)}function g(n){return`${n}_reader`}let v=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new si.x,this.valueChanges=new t.vpe,this.started=new t.vpe,this._started=!1,this._destroyed=new si.x,this._valueChanges.pipe(to(this._destroyed),Ii(e=>{const o=e.codeResult.decodedCodes.filter(p=>void 0!==p.error).map(p=>p.error),l=this._getMedian(o);return!this.errorFilter||!(this.errorFilter.median&&l>this.errorFilter.median||this.errorFilter.threshold&&o.some(p=>p>this.errorFilter.threshold))})).subscribe(e=>{const o=Tc().canvas.ctx.overlay;Tc().ImageDebug.drawPath(e.line,{x:"x",y:"y"},o,{color:"red",lineWidth:3}),this.valueChanges.next(e)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((e,o)=>{Tc().onProcessed(l=>this.onProcessed(l)),Tc().onDetected(l=>this.onDetected(l)),this.configQuagga=V0()({},this.config,u),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function c(n){return"string"==typeof n?(h(n),[g(n)]):n.map(r=>(h(r),g(r)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),Tc().init(this.configQuagga,l=>{if(l)return console.log(l),o(l);e()})})}_getMedian(e){e.sort((l,p)=>l-p);const o=Math.floor(e.length/2);return e.length%2==1?e[o]:(e[o-1]+e[o])/2}start(){return(0,op.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),Tc().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(Tc().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(e){const o=Tc().canvas.ctx.overlay,l=Tc().canvas.dom.overlay;e&&(e.boxes&&(o.clearRect(0,0,parseInt(l.getAttribute("width"),10),parseInt(l.getAttribute("height"),10)),e.boxes.filter(p=>p!==e.box).forEach(p=>{Tc().ImageDebug.drawPath(p,{x:0,y:1},o,{color:"green",lineWidth:2})})),e.box&&Tc().ImageDebug.drawPath(e.box,{x:0,y:1},o,{color:"#00F",lineWidth:2}))}onDetected(e){this._valueChanges.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(e,o){if(1&e&&t.Gf(jy,5),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeScanner=l.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[t.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0,1),t._UZ(2,"video")(3,"canvas",2),t.qZA()),2&e&&(t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.Q6J("hidden",!o.isStarted),t.xp6(2),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.xp6(1),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),D=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();var te=O(1144);const xe=["addListener","removeListener"],Ve=["addEventListener","removeEventListener"],ht=["on","off"];function vt(n,r,e,o){if((0,ga.m)(e)&&(o=e,e=void 0),o)return vt(n,r,e).pipe(Rc(o));const[l,p]=function ro(n){return(0,ga.m)(n.addEventListener)&&(0,ga.m)(n.removeEventListener)}(n)?Ve.map(b=>x=>n[b](r,x,e)):function Fn(n){return(0,ga.m)(n.addListener)&&(0,ga.m)(n.removeListener)}(n)?xe.map(Ut(n,r)):function wr(n){return(0,ga.m)(n.on)&&(0,ga.m)(n.off)}(n)?ht.map(Ut(n,r)):[];if(!l&&(0,te.z)(n))return(0,vi.z)(b=>vt(b,r,e))((0,It.Xf)(n));if(!l)throw new TypeError("Invalid event target");return new Ei.y(b=>{const x=(...k)=>b.next(1<k.length?k:k[0]);return l(x),()=>p(x)})}function Ut(n,r){return e=>o=>n[e](r,o)}var xr=O(4986),ta=O(3532);function io(n=0,r,e=xr.P){let o=-1;return null!=r&&((0,ta.K)(r)?e=r:o=r),new Ei.y(l=>{let p=function mo(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;p<0&&(p=0);let b=0;return e.schedule(function(){l.closed||(l.next(b++),0<=o?this.schedule(void 0,o):l.complete())},p)})}const{isArray:fi}=Array;function zu(n){return 1===n.length&&fi(n[0])?n[0]:n}const xo=new Ei.y(Jf.Z);function Ku(...n){const r=(0,Wr.jO)(n),e=zu(n);return e.length?new Ei.y(o=>{let l=e.map(()=>[]),p=e.map(()=>!1);o.add(()=>{l=p=null});for(let b=0;!o.closed&&b<e.length;b++)(0,It.Xf)(e[b]).subscribe((0,_r.x)(o,x=>{if(l[b].push(x),l.every(k=>k.length)){const k=l.map(K=>K.shift());o.next(r?r(...k):k),l.some((K,he)=>!K.length&&p[he])&&o.complete()}},()=>{p[b]=!0,!l[b].length&&o.complete()}));return()=>{l=p=null}}):zc.E}function dp(n,r=md.y){return n=null!=n?n:Xv,(0,Xi.e)((e,o)=>{let l,p=!0;e.subscribe((0,_r.x)(o,b=>{const x=r(b);(p||!n(l,x))&&(p=!1,l=x,o.next(b))}))})}function Xv(n,r){return n===r}function j0(...n){const r=(0,Wr.jO)(n);return(0,Xi.e)((e,o)=>{const l=n.length,p=new Array(l);let b=n.map(()=>!1),x=!1;for(let k=0;k<l;k++)(0,It.Xf)(n[k]).subscribe((0,_r.x)(o,K=>{p[k]=K,!x&&!b[k]&&(b[k]=!0,(x=b.every(md.y))&&(b=null))},Jf.Z));e.subscribe((0,_r.x)(o,k=>{if(x){const K=[k,...p];o.next(r?r(...K):K)}}))})}Math,Math,Math;const ZC=["*"];function x1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",6),t.NdJ("click",function(){const p=t.CHM(e).$implicit,b=t.oxw();return b.focus(),b.select(p.id,b.NgbSlideEventSource.INDICATOR)}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.ekj("active",e.id===o.activeId),t.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===o.activeId)}}function WC(n,r){}function A1(n,r){if(1&n&&(t.TgZ(0,"div",7)(1,"span",8),t.SDv(2,9),t.qZA(),t.YNc(3,WC,0,0,"ng-template",10),t.qZA()),2&n){const e=r.$implicit,o=r.index,l=r.count;t.Q6J("id","slide-"+e.id),t.xp6(2),t.pQV(o+1)(l),t.QtT(2),t.xp6(1),t.Q6J("ngTemplateOutlet",e.tplRef)}}function VT(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowLeft()}),t._UZ(1,"span",12),t.TgZ(2,"span",8),t.SDv(3,13),t.qZA()()}}function zC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowRight()}),t._UZ(1,"span",15),t.TgZ(2,"span",8),t.SDv(3,16),t.qZA()()}}const Hg=["dialog"];function gp(n){return null!=n}function Xo(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const xw={animation:!0,transitionTimerDelayMs:5},I_=()=>{},{transitionTimerDelayMs:Aw}=xw,mp=new Map,Ea=(n,r,e,o)=>{let l=o.context||{};const p=mp.get(r);if(p)switch(o.runningTransition){case"continue":return zc.E;case"stop":n.run(()=>p.transition$.complete()),l=Object.assign(p.context,l),mp.delete(r)}const b=e(r,o.animation,l)||I_;if(!o.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>b()),(0,In.of)(void 0).pipe(function $g(n){return r=>new Ei.y(e=>r.subscribe({next:b=>n.run(()=>e.next(b)),error:b=>n.run(()=>e.error(b)),complete:()=>n.run(()=>e.complete())}))}(n));const x=new si.x,k=new si.x,K=x.pipe(function fC(...n){return r=>Ou(r,(0,In.of)(...n))}(!0));mp.set(r,{transition$:x,complete:()=>{k.next(),k.complete()},context:l});const he=function Sw(n){const{transitionDelay:r,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(e))}(r);return n.runOutsideAngular(()=>{const Ne=vt(r,"transitionend").pipe(to(K),Ii(({target:We})=>We===r));(function na(...n){return 1===(n=zu(n)).length?(0,It.Xf)(n[0]):new Ei.y(function Yd(n){return r=>{let e=[];for(let o=0;e&&!r.closed&&o<n.length;o++)e.push((0,It.Xf)(n[o]).subscribe((0,_r.x)(r,l=>{if(e){for(let p=0;p<e.length;p++)p!==o&&e[p].unsubscribe();e=null}r.next(l)})))}}(n))})(io(he+Aw).pipe(to(K)),Ne,k).pipe(to(K)).subscribe(()=>{mp.delete(r),n.run(()=>{b(),x.next(),x.complete()})})}),x.asObservable()};let qg=(()=>{class n{constructor(){this.animation=xw.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),Ow=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),yv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Jh=(()=>{return(n=Jh||(Jh={})).START="start",n.END="end",Jh;var n})();const lb=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Wg=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},ry=n=>{Wg(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},db=(n,r,{direction:e})=>{const{classList:o}=n;return r?(lb(n)?Wg(o):(o.add("carousel-item-"+(e===Jh.START?"next":"prev")),Xo(n),o.add("carousel-item-"+e)),()=>{ry(o),o.add("active")}):(Wg(o),ry(o),void o.add("active"))},hb=(n,r,{direction:e})=>{const{classList:o}=n;return r?(lb(n)?Wg(o):o.add("carousel-item-"+e),()=>{ry(o),o.remove("active")}):(Wg(o),ry(o),void o.remove("active"))};let vv=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(qg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fb=0,bv=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+fb++,this.slid=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),pb=(()=>{class n{constructor(e,o,l,p,b){this._platformId=o,this._ngZone=l,this._cd=p,this._container=b,this.NgbSlideEventSource=zg,this._destroy$=new si.x,this._interval$=new fo(0),this._mouseHover$=new fo(!1),this._focused$=new fo(!1),this._pauseOnHover$=new fo(!1),this._pauseOnFocus$=new fo(!1),this._pause$=new fo(!1),this._wrap$=new fo(!1),this.slide=new t.vpe,this.slid=new t.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(zg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(zg.ARROW_RIGHT)}ngAfterContentInit(){(function at(n){return n===ze})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=Mu([this.slide.pipe((0,Xn.U)(o=>o.current),vh(this.activeId)),this._wrap$,this.slides.changes.pipe(vh(null))]).pipe((0,Xn.U)(([o,l])=>{const p=this.slides.toArray(),b=this._getSlideIdxById(o);return l?p.length>1:b<p.length-1}),dp());Mu([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,Xn.U)(([o,l,p,b,x,k,K])=>o||l&&p||b&&x||!K?0:k),dp(),go(o=>o>0?io(o,o):xo),to(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(zg.TIMER)))}),this.slides.changes.pipe(to(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(o=>(n=>{var r;null===(r=mp.get(n))||void 0===r||r.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Hi.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const l=this._getSlideElement(o);o===this.activeId?l.classList.add("active"):l.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,o){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),o)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Jh.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Jh.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,o,l){const p=this._transitionIds;if(p&&(p[0]!==e||p[1]!==this.activeId))return;let b=this._getSlideById(e);if(b&&b.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:b.id,direction:o,paused:this._pause$.value,source:l});const x={animation:this.animation,runningTransition:"stop",context:{direction:o}},k=[],K=this._getSlideById(this.activeId);if(K){const We=Ea(this._ngZone,this._getSlideElement(K.id),hb,x);We.subscribe(()=>{K.slid.emit({isShown:!1,direction:o,source:l})}),k.push(We)}const he=this.activeId;this.activeId=b.id;const Ne=this._getSlideById(this.activeId),Je=Ea(this._ngZone,this._getSlideElement(b.id),db,x);Je.subscribe(()=>{null==Ne||Ne.slid.emit({isShown:!0,direction:o,source:l})}),k.push(Je),Ku(...k).pipe((0,Hi.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:he,current:b.id,direction:o,paused:this._pause$.value,source:l})})}this._cd.markForCheck()}_getSlideEventDirection(e,o){return this._getSlideIdxById(e)>this._getSlideIdxById(o)?Jh.END:Jh.START}_getSlideById(e){return this.slides.find(o=>o.id===e)||null}_getSlideIdxById(e){const o=this._getSlideById(e);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(e){const o=this.slides.toArray(),l=this._getSlideIdxById(e);return l===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[l+1].id}_getPrevSlide(e){const o=this.slides.toArray(),l=this._getSlideIdxById(e);return 0===l?this.wrap?o[o.length-1].id:o[0].id:o[l-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vv),t.Y36(t.Lbi),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,o,l){if(1&e&&t.Suo(l,bv,4),2&e){let p;t.iGM(p=t.CRH())&&(o.slides=p)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,o){1&e&&t.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&e&&(t.uIk("aria-activedescendant","slide-"+o.activeId),t.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let r,e,o;return r=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],r,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(e,o){1&e&&(t.TgZ(0,"ol",0),t.YNc(1,x1,1,5,"li",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,A1,4,4,"div",3),t.qZA(),t.YNc(4,VT,4,0,"a",4),t.YNc(5,zC,4,0,"a",5)),2&e&&(t.ekj("visually-hidden",!o.showNavigationIndicators),t.xp6(1),t.Q6J("ngForOf",o.slides),t.xp6(2),t.Q6J("ngForOf",o.slides),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows))},directives:[ur,qr,Fe],encapsulation:2,changeDetection:0}),n})();var zg=(()=>{return(n=zg||(zg={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",zg;var n})();let kw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),Fw=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var us=(()=>{return(n=us||(us={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",us;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Eb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Db(n){const r=Array.from(n.querySelectorAll(Eb)).filter(e=>-1!==e.tabIndex);return[r[0],r[r.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee,qo]]}),n})(),I=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();class F{constructor(r,e,o){this.nodes=r,this.viewRef=e,this.componentRef=o}}let X=(()=>{class n{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Hi.q)(1)).subscribe(()=>{Ea(this._zone,this._el.nativeElement,(e,o)=>{o&&Xo(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ea(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();class Ce{close(r){}dismiss(r){}}class Ue{constructor(r,e,o,l){this._windowCmptRef=r,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=l,this._closed=new si.x,this._dismissed=new si.x,this._hidden=new si.x,r.instance.dismissEvent.subscribe(p=>{this.dismiss(p)}),this.result=new Promise((p,b)=>{this._resolve=p,this._reject=b}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(to(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(to(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function eb(n){return n&&n.then}(e)?!1!==e&&this._dismiss(r):e.then(o=>{!1!==o&&this._dismiss(r)},()=>{})}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,In.of)(void 0);r.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ku(r,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var tt=(()=>{return(n=tt||(tt={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",tt;var n})();let Et=(()=>{class n{constructor(e,o,l){this._document=e,this._elRef=o,this._zone=l,this._closed$=new si.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new si.x,this.hidden=new si.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Hi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},b=Ku(Ea(this._zone,e,()=>e.classList.remove("show"),o),Ea(this._zone,this._dialogEl.nativeElement,()=>{},o));return b.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),b}_show(){const e={animation:this.animation,runningTransition:"continue"};Ku(Ea(this._zone,this._elRef.nativeElement,(p,b)=>{b&&Xo(p),p.classList.add("show")},e),Ea(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{vt(e,"keydown").pipe(to(this._closed$),Ii(l=>l.which===us.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(tt.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;vt(this._dialogEl.nativeElement,"mousedown").pipe(to(this._closed$),(0,di.b)(()=>o=!1),go(()=>vt(e,"mouseup").pipe(to(this._closed$),(0,Hi.q)(1))),Ii(({target:l})=>e===l)).subscribe(()=>{o=!0}),vt(e,"click").pipe(to(this._closed$)).subscribe(({target:l})=>{e===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(tt.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),l=Db(e)[0];(o||l||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let l;l=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ea(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($),t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&t.Gf(Hg,7),2&e){let l;t.iGM(l=t.CRH())&&(o._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:ZC,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&e&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),zt=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,l=o.style,{overflow:p,paddingRight:b}=l;if(e>0){const x=parseFloat(window.getComputedStyle(o).paddingRight);l.paddingRight=`${x+e}px`}return l.overflow="hidden",()=>{e>0&&(l.paddingRight=b),l.overflow=p}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hn=(()=>{class n{constructor(e,o,l,p,b,x){this._applicationRef=e,this._injector=o,this._document=l,this._scrollBar=p,this._rendererFactory=b,this._ngZone=x,this._activeWindowCmptHasChanged=new si.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const k=this._windowCmpts[this._windowCmpts.length-1];((n,r,e,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const l=vt(r,"focusin").pipe(to(e),(0,Xn.U)(p=>p.target));vt(r,"keydown").pipe(to(e),Ii(p=>p.which===us.Tab),j0(l)).subscribe(([p,b])=>{const[x,k]=Db(r);(b===x||b===r)&&p.shiftKey&&(k.focus(),p.preventDefault()),b===k&&!p.shiftKey&&(x.focus(),p.preventDefault())}),o&&vt(r,"click").pipe(to(e),j0(l),(0,Xn.U)(p=>p[1])).subscribe(p=>p.focus())})})(0,k.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(k.location.nativeElement)}})}open(e,o,l,p){const b=p.container instanceof HTMLElement?p.container:gp(p.container)?this._document.querySelector(p.container):this._document.body,x=this._rendererFactory.createRenderer(null,null),k=this._scrollBar.hide(),K=()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!b)throw new Error(`The specified modal container "${p.container||"body"}" was not found in the DOM.`);const he=new Ce,Ne=this._getContentRef(e,p.injector||o,l,he,p);let Je=!1!==p.backdrop?this._attachBackdrop(e,b):void 0,We=this._attachWindowComponent(e,b,Ne),ft=new Ue(We,Ne,Je,p.beforeDismiss);return this._registerModalRef(ft),this._registerWindowCmpt(We),ft.result.then(k,k),ft.result.then(K,K),he.close=bt=>{ft.close(bt)},he.dismiss=bt=>{ft.dismiss(bt)},this._applyWindowOptions(We.instance,p),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Je&&Je.instance&&(this._applyBackdropOptions(Je.instance,p),Je.changeDetectorRef.detectChanges()),We.changeDetectorRef.detectChanges(),ft}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let p=e.resolveComponentFactory(X).create(this._injector);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_attachWindowComponent(e,o,l){let b=e.resolveComponentFactory(Et).create(this._injector,l.nodes);return this._applicationRef.attachView(b.hostView),o.appendChild(b.location.nativeElement),b}_applyWindowOptions(e,o){this._windowAttributes.forEach(l=>{gp(o[l])&&(e[l]=o[l])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(l=>{gp(o[l])&&(e[l]=o[l])})}_getContentRef(e,o,l,p,b){return l?l instanceof t.Rgc?this._createFromTemplateRef(l,p):function hv(n){return"string"==typeof n}(l)?this._createFromString(l):this._createFromComponent(e,o,l,p,b):new F([])}_createFromTemplateRef(e,o){const p=e.createEmbeddedView({$implicit:o,close(b){o.close(b)},dismiss(b){o.dismiss(b)}});return this._applicationRef.attachView(p),new F([p.rootNodes],p)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new F([[o]])}_createFromComponent(e,o,l,p,b){const x=e.resolveComponentFactory(l),k=t.zs3.create({providers:[{provide:Ce,useValue:p}],parent:o}),K=x.create(k),he=K.location.nativeElement;return b.scrollable&&he.classList.add("component-host-scrollable"),this._applicationRef.attachView(K.hostView),new F([[he]],K.hostView,K)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(l=>{l!==e&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const l=this._modalRefs.indexOf(e);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG($),t.LFG(zt),t.LFG(t.FYo),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ln=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(qg))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Rt=(()=>{class n{constructor(e,o,l,p){this._moduleCFR=e,this._injector=o,this._modalStack=l,this._config=p}open(e,o={}){const l=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,e,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(hn),t.LFG(Ln))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Rt]}),n})(),uy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),HE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),qE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),ZE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),WE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),zE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),KE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),YE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();new t.OlP("live announcer delay",{providedIn:"root",factory:function VS(){return 100}});let JE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();const jS=[gv,Ow,yv,kw,Fw,rT,I,Jn,uy,HE,qE,ZE,WE,zE,KE,YE,JE];let GS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[jS,gv,Ow,yv,kw,Fw,rT,I,Jn,uy,HE,qE,ZE,WE,zE,KE,YE,JE]}),n})(),ef=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ys.r),t.LFG(hi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),iT=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ys.r),t.LFG(hi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Io=void 0,$S=["es",[["a.\xa0m.","p.\xa0m."],Io,Io],Io,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Io,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Io,[["a. C.","d. C."],Io,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Io,"{1}, {0}",Io],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Io,"$"],BRL:[Io,"R$"],CAD:[Io,"$"],CNY:[Io,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Io,"\xa3"],HKD:[Io,"$"],ILS:[Io,"\u20aa"],INR:[Io,"\u20b9"],JPY:[Io,"\xa5"],KRW:[Io,"\u20a9"],MXN:[Io,"$"],NZD:[Io,"$"],PHP:[Io,"\u20b1"],RON:[Io,"L"],THB:["\u0e3f"],TWD:[Io,"NT$"],USD:["US$","$"],XAF:[],XCD:[Io,"$"],XOF:[]},"ltr",function HS(n){return 1===n?1:5}];function qS(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"login.registerError")))}function ZS(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"login.passwordsDifferentError")))}function WS(n,r){if(1&n&&(t.TgZ(0,"span",18),t.YNc(1,qS,3,3,"small",19),t.YNc(2,ZS,3,3,"small",19),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerError),t.xp6(1),t.Q6J("ngIf",!e.validatePasswords())}}const zS=function(n){return{disabled:n}};let KS=(()=>{class n{constructor(e,o,l){this.firestoreAuthService=e,this.loginService=o,this.router=l,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.register(e,o).then(l=>{if(l){console.log(l);const p={email:this.user.email};alert("Register ok!"),this.loginService.login(p),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var e,o,l,p,b,x,k,K,he,Ne;return 0===(null===(o=null===(e=this.user)||void 0===e?void 0:e.password)||void 0===o?void 0:o.length)&&0===(null===(p=null===(l=this.user)||void 0===l?void 0:l.passwordRepeat)||void 0===p?void 0:p.length)||(null===(x=null===(b=this.user)||void 0===b?void 0:b.password)||void 0===x?void 0:x.length)>0&&(null===(K=null===(k=this.user)||void 0===k?void 0:k.passwordRepeat)||void 0===K?void 0:K.length)>0&&(null===(he=this.user)||void 0===he?void 0:he.password)===(null===(Ne=this.user)||void 0===Ne?void 0:Ne.passwordRepeat)}canAccess(){var e;return this.user.email.length>0&&(null===(e=this.validateEmail(this.user.email))||void 0===e?void 0:e.length)>0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(mg),t.Y36(Ys.r),t.Y36(hi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",9),t.NdJ("ngModelChange",function(p){return o.user.email=p}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",7)(16,"label",10),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("ngModelChange",function(p){return o.user.password=p}),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"div",7)(22,"label",12),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",13),t.NdJ("ngModelChange",function(p){return o.user.passwordRepeat=p}),t.ALo(26,"translate"),t.qZA()(),t.YNc(27,WS,3,2,"span",14),t.qZA()()(),t.TgZ(28,"div",15)(29,"button",16),t.NdJ("click",function(){return o.register()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",17),t.NdJ("click",function(){return o.goToLogin()}),t._uU(33),t.ALo(34,"translate"),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,14,"login.registering")," "),t.xp6(7),t.Oqu(t.lcZ(12,16,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(14,18,"login.email")),t.Q6J("ngModel",o.user.email),t.xp6(4),t.Oqu(t.lcZ(18,20,"login.password")),t.xp6(2),t.s9C("placeholder",t.lcZ(20,22,"login.password")),t.Q6J("ngModel",o.user.password),t.xp6(4),t.Oqu(t.lcZ(24,24,"login.passwordRepeat")),t.xp6(2),t.s9C("placeholder",t.lcZ(26,26,"login.passwordRepeat")),t.Q6J("ngModel",o.user.passwordRepeat),t.xp6(2),t.Q6J("ngIf",o.canAccess()&&(o.registerError||!o.validatePasswords())),t.xp6(2),t.Q6J("ngClass",t.VKq(32,zS,!o.canAccess())),t.xp6(1),t.hij(" ",t.lcZ(31,28,"login.doRegister")," "),t.xp6(3),t.hij(" ",t.lcZ(34,30,"commons.back")," "))},directives:[Xr,Iu,Ni,cs,Fe,Mr],pipes:[Jo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();function YS(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.cheap")))}function JS(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.expensive")))}function QS(n,r){1&n&&t.GkF(0)}function XS(n,r){if(1&n&&(t.TgZ(0,"li")(1,"div",19),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(4),t.AsE("",e.name," (",e.brand,")")}}function ex(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",17)(2,"ul",18),t.YNc(3,XS,5,2,"li",12),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",null==e?null:e.products)}}const tx=function(n){return{active:n}};function nx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",13),t._uU(3),t.qZA(),t.TgZ(4,"td",14),t._uU(5),t.qZA(),t.TgZ(6,"td",11),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td")(10,"i",15),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return p.showProducts=!p.showProducts}),t.qZA()()(),t.YNc(11,ex,4,1,"tr",16),t.BQk()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(2);t.xp6(3),t.Oqu(o+1),t.xp6(2),t.Oqu(l.getShopName(e.shopId)),t.xp6(2),t.Oqu(t.xi3(8,5,e.times,"1.0-2")),t.xp6(3),t.Q6J("ngClass",t.VKq(8,tx,e.showProducts)),t.xp6(1),t.Q6J("ngIf",e.showProducts)}}function rx(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"th"),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,nx,12,10,"ng-container",12),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,3,"shopStandings.shop")),t.xp6(3),t.Oqu(t.lcZ(11,5,"shopStandings.numProducts")),t.xp6(4),t.Q6J("ngForOf",e.standings)}}function ix(n,r){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"i",23),t.TgZ(2,"small",24),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shopStandings.noDataEnough")))}function ox(n,r){1&n&&(t.TgZ(0,"small",29),t._UZ(1,"span",30),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij("",t.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function sx(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"i",26),t.TgZ(2,"div",27)(3,"small",28),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"small",29),t._UZ(8,"span",30),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,ox,5,3,"small",31),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.AsE("",t.lcZ(5,4,"shopStandings.noResults"),". ",t.lcZ(6,6,"shopStandings.possibleReasons"),":"),t.xp6(6),t.hij("",t.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),t.xp6(2),t.Q6J("ngIf",e.onlyFavourites)}}let ax=(()=>{class n{constructor(e,o,l){this.shopProductService=e,this.shopService=o,this.productService=l,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const e=[],o=[],l=[];this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&e.indexOf(p.productBarcode)<0&&e.push(p.productBarcode)}),this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&o.indexOf(p.shopId)<0&&o.push(p.shopId)}),(e.length>1||o.length>1)&&e.forEach(p=>{const b=this.shopsProducts.filter(k=>k.productBarcode===p),x=[];if(b.forEach(k=>{x.indexOf(k.shopId)<0&&x.push(k.shopId)}),x.length>1){const k=this.shopsProducts.filter(We=>We.productBarcode===p);let K=[];x.forEach(We=>{K.push(k.filter(ft=>ft.shopId===We)[0])}),K=K.sort((We,ft)=>We.updateDate>ft.updateDate?-1:1);const he=K.sort((We,ft)=>We.price>ft.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Je=[];if(K.length>1&&he[0].price!==he[he.length-1].price){const We=K[0].price,ft=this.productService._products.find(bt=>K[0].productBarcode===bt.barcode);Je=K.filter(bt=>bt.price===We).map(bt=>bt.shopId),Je.forEach(bt=>{const Kt=l.findIndex(ln=>ln.shopId===bt);Kt>=0?(l[Kt].times++,l[Kt].products.push(ft)):l.push({shopId:bt,times:1,products:[ft],showProducts:!1})})}}}),this.standings=l.sort((p,b)=>p.times>b.times?-1:1)}getShopName(e){var o;return null===(o=this.shops.find(l=>l.id===e))||void 0===o?void 0:o.name}isFavouriteProduct(e){return this.favouriteProductBarcodes.indexOf(e)>=0}ngOnChanges(e){e.onlyFavourites&&!e.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name>l.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,l)=>o.updateDate>l.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($u),t.Y36(ya.d),t.Y36(Qa.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[t.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,YS,4,3,"div",2),t.YNc(3,JS,4,3,"div",2),t.YNc(4,QS,1,0,"ng-container",3),t.YNc(5,rx,15,7,"div",4),t.qZA()(),t.YNc(6,ix,5,3,"ng-template",null,5,t.W1O),t.YNc(8,sx,13,10,"ng-template",null,6,t.W1O)),2&e){const l=t.MAs(7),p=t.MAs(9);t.xp6(2),t.Q6J("ngIf","CHEAP"===o.target),t.xp6(1),t.Q6J("ngIf","EXPENSIVE"===o.target),t.xp6(1),t.Q6J("ngIf",o.shopsProducts.length>0)("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",(null==o.standings?null:o.standings.length)>0)("ngIfElse",p)}},directives:[Fe,ur,Mr],pipes:[Jo,P],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function cx(n,r){1&n&&t.GkF(0)}function ux(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"span",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",10),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",12),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",13),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.analysis")))}let lx=(()=>{class n{constructor(e,o,l){this.router=e,this.spinner=o,this.productService=l,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(Xs),t.Y36(Qa.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,cx,1,0,"ng-container",1),t.TgZ(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),t.qZA(),t.YNc(10,ux,11,6,"ng-template",null,7,t.W1O)),2&e){const l=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",l),t.xp6(2),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(6,7,"commons.onlyFavouriteProducts")),t.xp6(3),t.Q6J("onlyFavourites",o.onlyFavourites)("target","CHEAP"),t.xp6(1),t.Q6J("onlyFavourites",o.onlyFavourites)("target","EXPENSIVE")}},directives:[qr,wo,Ni,cs,ax],pipes:[Jo],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function dx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",14),t.TgZ(6,"span",15),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"small",16),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()(),t.TgZ(12,"div",11)(13,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleProductList()}),t.TgZ(14,"div",8)(15,"div",13),t._UZ(16,"i",18),t.TgZ(17,"span",15),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"small",16),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(t.xi3(8,4,null==e.shops?null:e.shops.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(11,7,"home.shops")),t.xp6(8),t.Oqu(t.xi3(19,9,null==e.products?null:e.products.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(22,12,"home.products"))}}function hx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",20),t.TgZ(6,"small",16),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()(),t.TgZ(9,"div",11)(10,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleStatistics()}),t.TgZ(11,"div",8)(12,"div",13),t._UZ(13,"i",22),t.TgZ(14,"small",16),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"home.alerts")),t.xp6(8),t.Oqu(t.lcZ(16,4,"home.analysis")))}function fx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t.YNc(4,dx,23,14,"ng-container",5),t.qZA(),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().scan()}),t.TgZ(7,"div",8),t._UZ(8,"i",9),t.TgZ(9,"div",10),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"small"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",4),t.YNc(16,hx,17,6,"ng-container",5),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.products.length>0),t.xp6(6),t.Oqu(t.lcZ(11,4,"home.scan")),t.xp6(3),t.Oqu(t.lcZ(14,6,"home.here")),t.xp6(3),t.Q6J("ngIf",e.products.length>0)}}function px(n,r){1&n&&(t.TgZ(0,"div",23),t._uU(1," Carregant... "),t.qZA())}let gx=(()=>{class n{constructor(e,o,l,p){this.router=e,this.productService=o,this.shopService=l,this.spinner=p}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.spinner.show(),this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(e=>{this.spinner.show(),this.products=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shops=this.shopService._shops,this.products=this.productService._products,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(Qa.M),t.Y36(ya.d),t.Y36(Xs))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"click"],[1,"fas","fa-triangle-exclamation","mb-3"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.YNc(0,fx,17,8,"ng-container",0),t.YNc(1,px,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",o.products&&o.shops)("ngIfElse",l)}},directives:[Fe],pipes:[P,Jo],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function mx(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2);t.Q6J("src",e.getImageUrl(e.currentLanguage),t.LSH)}}function _x(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2).$implicit,o=t.oxw(2);t.Q6J("src",o.getImageUrl(e),t.LSH)}}function yx(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",9),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).setLanguage(l)}),t.TgZ(1,"div",10),t.YNc(2,_x,1,1,"img",4),t.TgZ(3,"span"),t._uU(4),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.languageImages),t.xp6(2),t.Oqu(o.getLabel(e))}}function vx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,yx,5,2,"li",8),t.BQk()),2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.currentLanguage!==e)}}function bx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"button",3),t.YNc(4,mx,1,1,"img",4),t.qZA(),t.TgZ(5,"ul",5),t.YNc(6,vx,2,1,"ng-container",6),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.languageImages),t.xp6(2),t.Q6J("ngForOf",e.languages)}}let QE=(()=>{class n{constructor(e,o){this.translate=e,this.translationsService=o}setLanguage(e){this.currentLanguage=e,this.translate.use(e),localStorage.setItem(Wc.M.PS_APP_LANGUAGE,e)}getImageUrl(e){return this.languageImages.find(o=>o.language===e).imageUrl}getLabel(e){return this.languageImages.find(o=>o.language===e).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(e=>({language:e.language,imageUrl:e.imageUrl,name:e.name}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vc),t.Y36(Ay))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(e,o){1&e&&t.YNc(0,bx,7,2,"ng-container",0),2&e&&t.Q6J("ngIf",o.currentLanguage&&o.languages)},directives:[Fe,ur],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function Cx(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"i"),t.TgZ(2,"div",5)(3,"strong",6),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",7),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.iconClass),t.xp6(3),t.Oqu(t.lcZ(5,4,e.title)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.text))}}function wx(n,r){1&n&&(t.ynx(0),t.YNc(1,Cx,9,8,"ng-template",3),t.BQk())}function Tx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ngb-carousel"),t.YNc(2,wx,2,0,"ng-container",2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.slides)}}let Ex=(()=>{class n{constructor(e,o){this.translate=o,e.interval=7e3,e.wrap=!0,e.keyboard=!1,e.pauseOnHover=!1,e.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"}]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vv),t.Y36(vc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Tx,3,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.slides))},directives:[Fe,pb,ur,bv],pipes:[Jo],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function Dx(n,r){1&n&&(t.TgZ(0,"span",23)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"login.error")))}function Sx(n,r){}function xx(n,r){1&n&&t.YNc(0,Sx,0,0,"ng-template")}function Ax(n,r){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"app-carousel"),t.qZA())}const Ix=function(n){return{disabled:n}},Mx=function(){return["/register"]};let Ox=(()=>{class n{constructor(e,o,l){this.loginService=e,this.firestoreAuthService=o,this.router=l,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.login(e,o).then(l=>{l?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.loginWithGoogle(e,o).then(l=>{l?(this.loginService.login({username:l.user.displayName,email:this.user.email,photoURL:l.user.photoURL}),this.router.navigate(["home"])):this.loginError=!0})}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ys.r),t.Y36(mg),t.Y36(hi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-language-selector"),t.qZA(),t.TgZ(7,"small",4),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",10),t.NdJ("ngModelChange",function(p){return o.user.email=p}),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",8)(20,"label",11),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("ngModelChange",function(p){return o.user.password=p}),t.ALo(24,"translate"),t.qZA()(),t.YNc(25,Dx,4,3,"span",13),t.qZA()()(),t.TgZ(26,"div",14)(27,"button",15),t.NdJ("click",function(){return o.login()}),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"button",16),t.NdJ("click",function(){return o.loginGoogle()}),t._UZ(31,"img",17),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"label",18)(35,"small",19),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"a",20),t._uU(39),t.ALo(40,"translate"),t.qZA()()(),t.YNc(41,xx,1,0,null,21),t.qZA(),t.YNc(42,Ax,2,0,"ng-template",null,22,t.W1O)),2&e){const l=t.MAs(43);t.xp6(4),t.hij(" ",t.lcZ(5,16,"login.welcome")," "),t.xp6(4),t.Oqu(t.lcZ(9,18,"login.welcome.subtitle")),t.xp6(7),t.Oqu(t.lcZ(16,20,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(18,22,"login.email")),t.Q6J("ngModel",o.user.email),t.xp6(4),t.Oqu(t.lcZ(22,24,"login.password")),t.xp6(2),t.s9C("placeholder",t.lcZ(24,26,"login.password")),t.Q6J("ngModel",o.user.password),t.xp6(2),t.Q6J("ngIf",o.loginError),t.xp6(2),t.Q6J("ngClass",t.VKq(36,Ix,!o.canAccess())),t.xp6(1),t.hij(" ",t.lcZ(29,28,"login.access")," "),t.xp6(4),t.hij(" ",t.lcZ(33,30,"login.accessGoogle")," "),t.xp6(4),t.Oqu(t.lcZ(37,32,"login.notAccount")),t.xp6(2),t.Q6J("routerLink",t.DdM(38,Mx)),t.xp6(1),t.Oqu(t.lcZ(40,34,"login.register")),t.xp6(2),t.Q6J("ngTemplateOutlet",l)}},directives:[QE,Xr,Iu,Ni,cs,Fe,Mr,Ja,qr,Ex],pipes:[Jo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();function Gb(n,r=xr.z){return(0,Xi.e)((e,o)=>{let l=null,p=null,b=null;const x=()=>{if(l){l.unsubscribe(),l=null;const K=p;p=null,o.next(K)}};function k(){const K=b+n,he=r.now();if(he<K)return l=this.schedule(void 0,K-he),void o.add(l);x()}e.subscribe((0,_r.x)(o,K=>{p=K,b=r.now(),l||(l=r.schedule(k,n),o.add(l))},()=>{x(),o.complete()},void 0,()=>{p=l=null}))})}var Mv=(()=>{return(n=Mv||(Mv={})).CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT",Mv;var n})();let XE=(()=>{class n{constructor(e){this.http=e}loadProduct(e){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+e+".json")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Ig))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Px(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",6),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function Nx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,Px,2,1,"ng-container",0),t.TgZ(4,"div",3)(5,"h5",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.imageUrl),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.brand," ")}}let Rx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(e,o){1&e&&t.YNc(0,Nx,9,3,"ng-container",0),2&e&&t.Q6J("ngIf",o.name||o.brand||o.imageUrl)},directives:[Fe],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const kx=["priceInput"];function Fx(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",16),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.init")))}function Lx(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",18),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.initError")))}function Ux(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),t.NdJ("valueChanges",function(l){return t.CHM(e),t.oxw().onValueChanges(l)})("started",function(l){return t.CHM(e),t.oxw().onStarted(l)}),t.qZA(),t.YNc(3,Fx,5,3,"div",14),t.YNc(4,Lx,5,3,"div",14),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.barcodeScannerStarted),t.xp6(1),t.Q6J("ngIf",e.barcodeScannerError)}}function Bx(n,r){if(1&n&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",22),t._uU(5),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,2,"scanner.code"),":"),t.xp6(3),t.Oqu(e.barcodeValue)}}function Vx(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.productRegistered")))}function jx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",23),t.YNc(2,Vx,3,3,"span",0),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isSavedProduct)}}function Gx(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",24),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotRegistered")))}function Hx(n,r){1&n&&(t.ynx(0),t.TgZ(1,"div",25)(2,"div",26),t._UZ(3,"i",27),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.BQk()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"scanner.productUnknown")))}function $x(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t.YNc(2,Bx,6,4,"div",0),t.TgZ(3,"div",21)(4,"small"),t.YNc(5,jx,3,1,"ng-container",0),t.YNc(6,Gx,5,3,"ng-container",0),t.YNc(7,Hx,7,3,"ng-container",0),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound),t.xp6(3),t.Q6J("ngIf",e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound)}}function qx(n,r){1&n&&t.GkF(0)}function Zx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,qx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Wx(n,r){1&n&&t.GkF(0)}function zx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Wx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Kx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Zx,2,1,"ng-container",0),t.YNc(2,zx,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound||e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.loadingOpenFoodProduct&&!e.isSavedProduct&&!e.openFoodProductFound)}}function Yx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",e.savedProduct.name)("brand",e.savedProduct.brand)("imageUrl",e.savedProduct.imageUrl)}}function Jx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",null==e.openFoodProduct.product?null:e.openFoodProduct.product.product_name)("brand",null==e.openFoodProduct.product?null:e.openFoodProduct.product.brands)("imageUrl",null==e.openFoodProduct.product?null:e.openFoodProduct.product.image_url)}}function Qx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name","?")("brand","?")("imageUrl",e.DEFAULT_IMAGE_URL)}}function Xx(n,r){1&n&&t.GkF(0)}function eA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t.YNc(2,Xx,1,0,"ng-container",28),t.qZA(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(10);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function tA(n,r){if(1&n&&(t.YNc(0,Yx,2,3,"ng-container",0),t.YNc(1,Jx,2,3,"ng-container",0),t.YNc(2,Qx,2,3,"ng-container",0),t.YNc(3,eA,3,1,"ng-container",0)),2&n){const e=t.oxw();t.Q6J("ngIf",e.savedProduct),t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.savedProduct&&!e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",e.mode===e.ProductScanModeEnum.CREATE)}}function nA(n,r){1&n&&t.GkF(0)}function rA(n,r){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,nA,1,0,"ng-container",28),t.qZA()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function iA(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const eD=function(n){return{disabled:n}};function oA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",35),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.barcode=l}),t.qZA()(),t.TgZ(6,"div",33)(7,"label",36),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",37),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.name=l}),t.qZA()(),t.TgZ(11,"div",33)(12,"label",38),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",39),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.brand=l}),t.qZA()()(),t.TgZ(16,"div",32)(17,"div",33)(18,"label",40),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"select",41),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(22,"option"),t.YNc(23,iA,2,2,"option",42),t.qZA()(),t.TgZ(24,"div",33)(25,"label",43),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",44,45),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.price=l}),t.qZA()()(),t.TgZ(30,"button",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().createProduct()}),t._UZ(31,"i",47),t.TgZ(32,"span"),t._uU(33),t.ALo(34,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,17,"scanner.code")),t.xp6(2),t.s9C("value",e.newProduct.barcode),t.Q6J("ngModel",e.newProduct.barcode),t.xp6(3),t.Oqu(t.lcZ(9,19,"scanner.name")),t.xp6(2),t.s9C("value",e.newProduct.name),t.Q6J("ngModel",e.newProduct.name),t.xp6(3),t.Oqu(t.lcZ(14,21,"scanner.brand")),t.xp6(2),t.s9C("value",e.newProduct.brand),t.Q6J("ngModel",e.newProduct.brand),t.xp6(4),t.Oqu(t.lcZ(20,23,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(27,25,"scanner.proce")),t.xp6(2),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(29,eD,!e.canCreateProductAndPrice())),t.xp6(3),t.Oqu(t.lcZ(34,27,"scanner.productPriceSave"))}}function sA(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function aA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",40),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",41),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(6,"option"),t.YNc(7,sA,2,2,"option",42),t.qZA()(),t.TgZ(8,"div",33)(9,"label",43),t._uU(10,"Preu"),t.qZA(),t.TgZ(11,"input",44,45),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.price=l}),t.qZA()(),t.TgZ(13,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveShopProduct()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(4),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(11,eD,!e.shopProduct.price||0===e.shopProduct.price||!e.shopProduct.shopId||0===e.shopProduct.shopId.length)),t.xp6(1),t.hij(" ",t.lcZ(15,9,"scanner.save")," ")}}function cA(n,r){1&n&&(t.TgZ(0,"div",50),t._UZ(1,"i",51),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.instructions")))}function uA(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",53),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotFound")))}function lA(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.searchingProduct")))}function dA(n,r){1&n&&(t.TgZ(0,"div",55),t._UZ(1,"i",56),t.qZA())}function hA(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.shopProduct))}}function fA(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.newProduct))}}function pA(n,r){if(1&n&&(t.TgZ(0,"small")(1,"ul",57)(2,"li"),t._uU(3),t.qZA(),t.TgZ(4,"li"),t._uU(5),t.qZA(),t.TgZ(6,"li"),t._uU(7),t.qZA(),t.TgZ(8,"li"),t._uU(9),t.qZA(),t.TgZ(10,"li"),t._uU(11,"-------------------------"),t.qZA(),t.YNc(12,hA,3,3,"li",0),t.YNc(13,fA,3,3,"li",0),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.hij("mode: ",e.mode,""),t.xp6(2),t.hij("isSavedProduct: ",e.isSavedProduct,""),t.xp6(2),t.hij("openFoodProductFound: ",e.openFoodProductFound,""),t.xp6(2),t.hij("loadingOpenFoodProduct: ",e.loadingOpenFoodProduct,""),t.xp6(3),t.Q6J("ngIf",e.shopProduct),t.xp6(1),t.Q6J("ngIf",e.newProduct)}}let gA=(()=>{class n{constructor(e,o,l,p,b,x){this.openFoodService=e,this.productService=o,this.shopService=l,this.shopProductService=p,this.loginService=b,this.translate=x,this.onSaveProduct=new t.vpe,this.onCreateProduct=new t.vpe,this.onSaveShopProduct=new t.vpe,this.onProductFound=new t.vpe,this.onBarcodeRead=new t.vpe,this.DEFAULT_IMAGE_URL=bc.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new si.x,this.ProductScanModeEnum=Mv,this.barcodeChanged.pipe(Gb(500),dp()).subscribe(k=>{this.barcodeValue!==k.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=k.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(K=>K.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(K=>K.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(e){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(e).subscribe(o=>{this.openFoodProduct=o,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==o.product,this.openFoodProductFound&&this.onProductFound.emit();const l=this.products.find(p=>p.barcode===e);l&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=l.brand,this.openFoodProduct.product.image_url=l.imageUrl,this.openFoodProduct.product.product_name=l.name)})},300)}onValueChanges(e){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}saveProduct(){var e,o,l,p,b,x;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const k={id:ou(),barcode:this.barcodeValue,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(p=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===p?void 0:p.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)?this.openFoodProduct.product.image_url:bc.T};this.onSaveProduct.emit(k)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var e,o,l,p,b,x;this.products.find(K=>K.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:ou(),barcode:this.shopProduct.productBarcode,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)||"?",favourite:!1,name:(null===(p=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===p?void 0:p.product_name)||"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)||bc.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start(),this.newProduct={id:ou(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:bc.T},this.shopProduct={price:0,productBarcode:void 0,shopId:void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.productService.products.subscribe(e=>{this.products=e}),this.shopService.shops.subscribe(e=>{this.shops=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(e){this.barcodeScannerStarted=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(XE),t.Y36(Qa.M),t.Y36(ya.d),t.Y36($u),t.Y36(Ys.r),t.Y36(vc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(e,o){if(1&e&&(t.Gf(v,5),t.Gf(kx,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeScanner=l.first),t.iGM(l=t.CRH())&&(o.priceInput=l.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(e,o){if(1&e&&(t.YNc(0,Ux,5,2,"ng-container",0),t.YNc(1,$x,8,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,Kx,3,2,"ng-container",0),t.qZA(),t.YNc(4,tA,4,4,"ng-template",null,3,t.W1O),t.YNc(6,rA,2,1,"div",4),t.YNc(7,oA,35,31,"ng-template",null,5,t.W1O),t.YNc(9,aA,16,13,"ng-template",null,6,t.W1O),t.YNc(11,cA,5,3,"ng-template",null,7,t.W1O),t.YNc(13,uA,5,3,"ng-template",null,8,t.W1O),t.YNc(15,lA,5,3,"ng-template",null,9,t.W1O),t.YNc(17,dA,2,0,"ng-template",null,10,t.W1O),t.YNc(19,pA,14,6,"ng-template",null,11,t.W1O)),2&e){const l=t.MAs(12);t.Q6J("ngIf",!o.openFoodProductFound&&!o.isSavedProduct),t.xp6(1),t.Q6J("ngIf",o.barcodeValue)("ngIfElse",l),t.xp6(2),t.Q6J("ngIf",o.barcodeValue),t.xp6(3),t.Q6J("ngIf",!1)}},directives:[Fe,v,qr,Rx,Xr,Ni,cs,Zc,hd,fd,ur,ad,Mr],pipes:[Jo,Uo],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const mA=["barcodeInput"],_A=["priceInput"];function yA(n,r){1&n&&t.GkF(0)}function vA(n,r){1&n&&t._UZ(0,"i",12)}function bA(n,r){1&n&&t._UZ(0,"i",12)}function CA(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"i",17),t.TgZ(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"scanner.searchInstructions")," "))}function wA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"app-barcode-scanner",14),t.NdJ("onSaveShopProduct",function(l){return t.CHM(e),t.oxw().saveShopProduct(l)})("onCreateProduct",function(l){return t.CHM(e),t.oxw().createProduct(l)})("onProductFound",function(){return t.CHM(e),t.oxw().productFound=!0})("onBarcodeRead",function(){return t.CHM(e),t.oxw().barcodeRead=!0}),t.qZA(),t.YNc(3,CA,5,3,"div",15),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("mode",e.ProductScanModeEnum.CREATE),t.xp6(1),t.Q6J("ngIf",!e.productFound&&!e.barcodeRead)}}function TA(n,r){1&n&&t.GkF(0)}function EA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.scanner")))}function DA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.manual")))}function SA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"span",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",22),t._uU(7,"/"),t.qZA(),t.YNc(8,EA,3,3,"span",23),t.YNc(9,DA,3,3,"span",23),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,"breadcrumb.home")),t.xp6(4),t.Q6J("ngIf","SCANNER"===e.mode),t.xp6(1),t.Q6J("ngIf","MANUAL"===e.mode)}}function xA(n,r){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const tD=function(n){return{readonly:n}},AA=function(n){return{disabled:n}};function IA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA(),t.TgZ(2,"div",27)(3,"label",28),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",29)(7,"label",30),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",31,32),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.barcode=l}),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div",33)(14,"label",34),t._uU(15,"Nom"),t.qZA(),t.TgZ(16,"input",35),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.name=l}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",33)(19,"label",36),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"input",37),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.brand=l}),t.ALo(23,"translate"),t.qZA()()(),t._UZ(24,"hr"),t.TgZ(25,"div",38)(26,"label",28),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",33)(30,"label",39),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"select",40),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProductDetail.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(34,"option"),t.YNc(35,xA,2,2,"option",41),t.qZA()(),t.TgZ(36,"div",33)(37,"label",42),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",43,44),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProductDetail.price=l}),t.ALo(42,"translate"),t.qZA()()(),t.TgZ(43,"button",45),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return l.createProduct({product:l.productDetail,shopProduct:l.shopProductDetail})}),t.TgZ(44,"span"),t._uU(45),t.ALo(46,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.productDetail?null:e.productDetail.imageUrl,t.LSH),t.xp6(3),t.Oqu(t.lcZ(5,25,"scanner.product")),t.xp6(4),t.Oqu(t.lcZ(9,27,"scanner.code")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.barcode),t.s9C("placeholder",t.lcZ(12,29,"scanner.code")),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(6),t.s9C("value",null==e.productDetail?null:e.productDetail.name),t.s9C("placeholder",t.lcZ(17,31,"scanner.name")),t.Q6J("ngClass",t.VKq(47,tD,e.lockProductEdition))("ngModel",e.productDetail.name),t.xp6(4),t.Oqu(t.lcZ(21,33,"scanner.brand")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.brand),t.s9C("placeholder",t.lcZ(23,35,"scanner.brand")),t.Q6J("ngClass",t.VKq(49,tD,e.lockProductEdition))("ngModel",e.productDetail.brand),t.xp6(5),t.Oqu(t.lcZ(28,37,"scanner.price")),t.xp6(4),t.Oqu(t.lcZ(32,39,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProductDetail.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(39,41,"scanner.price")),t.xp6(2),t.s9C("value",null==e.shopProductDetail?null:e.shopProductDetail.price),t.s9C("placeholder",t.lcZ(42,43,"scanner.price")),t.Q6J("ngModel",e.shopProductDetail.price),t.xp6(3),t.Q6J("ngClass",t.VKq(51,AA,!e.canCreateProductAndPrice())),t.xp6(2),t.Oqu(t.lcZ(46,45,"scanner.save"))}}const nD=function(n){return{active:n}},MA=function(n){return{hidden:n}};let OA=(()=>{class n{constructor(e,o,l,p,b,x,k){this.router=e,this.shopProductService=o,this.productService=l,this.loginService=p,this.shopService=b,this.openFoodService=x,this.translate=k,this.ProductScanModeEnum=Mv,this.productDetail={id:ou(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.mode="SCANNER"}setMode(e){this.mode=e,"MANUAL"===e&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:ou(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:bc.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),vt(this.barcodeInput.nativeElement,"keyup").pipe((0,Xn.U)(o=>o.target.value),Ii(o=>o.length>2),Gb(500),dp()).subscribe(o=>{console.log("barcodeInput changed:",o),this.shopProductDetail.productBarcode=o,this.lockProductEdition=!0,this.matchingBarcode=!0;const l=this.productService._products.find(p=>p.barcode===o);l?(this.productDetail.name=l.name,this.productDetail.barcode=l.barcode,this.productDetail.brand=l.brand,this.productDetail.favourite=l.favourite,this.productDetail.imageUrl=l.imageUrl,this.productDetail.createdBy=l.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(o).subscribe(p=>{console.log(p),void 0!==p.product?(this.productDetail.name=p.product.product_name,this.productDetail.barcode=o,this.productDetail.brand=p.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=p.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=bc.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var e,o,l,p;return this.productDetail&&(null===(e=this.productDetail.barcode)||void 0===e?void 0:e.length)>0&&(null===(o=this.productDetail.name)||void 0===o?void 0:o.length)>0&&(null===(l=this.productDetail.brand)||void 0===l?void 0:l.length)>0&&this.shopProductDetail&&(null===(p=this.shopProductDetail.productBarcode)||void 0===p?void 0:p.length)>0&&this.shopProductDetail.price&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(e){e?(console.log("saveShopProduct()",e),e.createdBy=this.loggedUser,this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(l=>l.productBarcode===this.shopProductDetail.productBarcode&&l.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):this.exit())}createProduct(e){console.log("AddProductByBarcodeComponent.createProduct()",e),this.lockProductEdition?e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit():this.productService.createProduct(e.product).subscribe(()=>{e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36($u),t.Y36(Qa.M),t.Y36(Ys.r),t.Y36(ya.d),t.Y36(XE),t.Y36(vc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(e,o){if(1&e&&(t.Gf(mA,5),t.Gf(_A,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeInput=l.first),t.iGM(l=t.CRH())&&(o.priceInput=l.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,yA,1,0,"ng-container",2),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.setMode("SCANNER")}),t.YNc(5,vA,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.setMode("MANUAL")}),t.YNc(9,bA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,wA,4,2,"ng-container",7),t.TgZ(14,"div",8),t.YNc(15,TA,1,0,"ng-container",2),t.qZA(),t._UZ(16,"div",9),t.qZA()(),t.YNc(17,SA,10,5,"ng-template",null,10,t.W1O),t.YNc(19,IA,47,53,"ng-template",null,11,t.W1O)),2&e){const l=t.MAs(18),p=t.MAs(20);t.xp6(2),t.Q6J("ngTemplateOutlet",l),t.xp6(2),t.Q6J("ngClass",t.VKq(16,nD,"SCANNER"===o.mode)),t.xp6(1),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(7,12,"scanner.scanner")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,nD,"MANUAL"===o.mode)),t.xp6(1),t.Q6J("ngIf","MANUAL"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(11,14,"scanner.manual")," "),t.xp6(3),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.Udp("height","MANUAL"!==o.mode?"0px":"auto"),t.Q6J("ngClass",t.VKq(20,MA,"MANUAL"!==o.mode)),t.xp6(1),t.Q6J("ngTemplateOutlet",p)}},directives:[qr,Mr,Fe,gA,ad,Xr,Ni,cs,Zc,hd,fd,ur],pipes:[Jo],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),n})(),PA=(()=>{class n{constructor(e){this.router=e,this.history=[],this.router.events.pipe(Ii(o=>o instanceof fs)).subscribe(o=>{("/"===o.url||"/home"===o.url)&&(this.history=[]),this.history.unshift(o.url)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(hi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function NA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",7)(2,"span",3),t._uU(3),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",e.pathUrl),t.xp6(2),t.Oqu(e.label)}}function RA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",8),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.label)}}function kA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2,"/"),t.qZA(),t.YNc(3,NA,4,2,"ng-container",6),t.YNc(4,RA,3,1,"ng-container",6),t.BQk()),2&n){const e=r.index,o=t.oxw();t.xp6(3),t.Q6J("ngIf",e<o.steps.length-1),t.xp6(1),t.Q6J("ngIf",e===o.steps.length-1)}}let rD=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.navigationService=o,this.shopService=l,this.productService=p,this.translate=b,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(e){return e.match("/edit-product")?this.productService._products.find(o=>o.barcode===e.replace("/edit-product/","")).name:e.match("/edit-shop")?this.shopService._shops.find(o=>o.id===e.replace("/edit-shop/","")).name:e.match("/search-products")?this.translate.instant("breadcrumb.products"):e.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){this.navigationService.history.findIndex(l=>"/"===l||"/home"===l);let o=JSON.parse(JSON.stringify(this.navigationService.history));if(o.length>2&&(o=o.slice(0,2).reverse()),this.steps=o.map(l=>({label:this.getLabel(l),pathUrl:l})),this.steps.length>1){const p=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&p.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(PA),t.Y36(ya.d),t.Y36(Qa.M),t.Y36(vc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return o.exit()}),t._UZ(2,"i",2),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,kA,5,2,"ng-container",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(2),t.Q6J("ngForOf",o.steps))},directives:[ur,Fe,_c],pipes:[Jo],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function FA(n,r){1&n&&t.GkF(0)}function LA(n,r){if(1&n&&(t.ynx(0),t.YNc(1,FA,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function UA(n,r){1&n&&t._UZ(0,"i",10)}function BA(n,r){1&n&&t._UZ(0,"i",10)}function VA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",25),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.name=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function jA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",26),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.name=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function GA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",27),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.brand=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function HA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",28),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.brand=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function $A(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29),t._UZ(2,"img",30),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("src",e.productDetail.imageUrl,t.LSH)}}function qA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",31)(2,"span",32),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",33),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,2,"product.createdBy"),":"),t.xp6(3),t.Oqu(null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.username)}}const ZA=function(n){return{"pb-1":n}},oT=function(n){return{disabled:n}};function WA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"label",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",16),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).productDetail.barcode=l}),t.qZA()(),t.TgZ(9,"div",14)(10,"label",17),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,VA,3,4,"ng-container",2),t.YNc(14,jA,3,4,"ng-container",2),t.qZA(),t.TgZ(15,"div",14)(16,"label",18),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,GA,3,4,"ng-container",2),t.YNc(20,HA,3,4,"ng-container",2),t.qZA(),t.TgZ(21,"div",19)(22,"input",20),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).productDetail.favourite=l}),t.qZA(),t.TgZ(23,"label",21),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t.YNc(26,$A,3,1,"ng-container",2),t.qZA()()(),t.YNc(27,qA,7,4,"ng-container",2),t.TgZ(28,"div",22)(29,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._UZ(30,"span",24),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(25,ZA,null==e.productDetail?null:e.productDetail.createdBy)),t.xp6(5),t.Oqu(t.lcZ(7,15,"product.barcode")),t.xp6(2),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(3),t.Oqu(t.lcZ(12,17,"product.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(3),t.Oqu(t.lcZ(18,19,"product.brand")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.productDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(25,21,"product.favourite")),t.xp6(2),t.Q6J("ngIf",e.productDetail.imageUrl),t.xp6(1),t.Q6J("ngIf",!(null!=e.productDetail&&null!=e.productDetail.createdBy&&e.productDetail.createdBy.isAdmin)&&(null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.username)),t.xp6(2),t.Q6J("ngClass",t.VKq(27,oT,(null==e.productDetail?null:e.productDetail.brand.length)<1||(null==e.productDetail?null:e.productDetail.name.length)<1||(null==e.productDetail?null:e.productDetail.barcode.length)<1)),t.xp6(2),t.hij(" ",t.lcZ(32,23,"product.save")," ")}}function zA(n,r){if(1&n&&(t.TgZ(0,"span",54),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const KA=function(n){return{"fw-bold":n}};function YA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",50)(2,"div",51)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,zA,2,1,"span",52),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",53),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(6).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(6);t.xp6(1),t.Q6J("ngClass",t.VKq(11,KA,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",l.loggedUser.admin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,oT,!l.canRemoveShopProduct(e)))}}function JA(n,r){if(1&n&&(t.TgZ(0,"li",48)(1,"ul",49),t.YNc(2,YA,12,15,"li",39),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const QA=function(n){return[n]};function XA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",40)(2,"div",41),t._UZ(3,"img",42),t.TgZ(4,"a",43),t._uU(5),t.qZA(),t.TgZ(6,"div",44)(7,"span",45)(8,"i",46),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(4).showHistory(p)}),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.YNc(11,JA,3,1,"li",47),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(4);t.xp6(3),t.Q6J("src",o.getShopImage(e.shopId),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(9,QA,"/edit-shop/"+e.shopId)),t.xp6(1),t.hij("",o.getShopName(e.shopId)," "),t.xp6(3),t.Q6J("ngClass",t.VKq(11,oT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(10,6,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function eI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",38),t.YNc(2,XA,12,13,"ng-container",39),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function tI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"div",35)(3,"button",36),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,eI,3,1,"ng-container",37),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2),o=t.MAs(19);t.xp6(4),t.hij(" ",t.lcZ(5,4,"product.pricesInShops")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function nI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,WA,33,29,"ng-container",2),t.YNc(2,tI,11,9,"ng-container",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.selectedTab),t.xp6(1),t.Q6J("ngIf",1===e.selectedTab)}}function rI(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}function iI(n,r){1&n&&(t.TgZ(0,"div",55)(1,"small",56),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"product.noData")))}const iD=function(n){return{active:n}};let oI=(()=>{class n{constructor(e,o,l,p,b,x){this.router=e,this.route=o,this.productService=l,this.shopService=p,this.shopsProductsService=b,this.loginService=x,this.historyShopProductList=[],this.selectedTab=0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}canEdit(){var e,o;return this.loggedUser.admin||(null===(e=this.productDetail.createdBy)||void 0===e?void 0:e.email)===this.loggedUser.email&&(null===(o=this.productDetail.createdBy)||void 0===o?void 0:o.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(e){console.log(e),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{this.historyShopProduct&&this.configHistory(e)})}getShopName(e){const o=this.shops.find(l=>l.id===e);return console.log(e),console.log(this.shops),console.log(o),null==o?void 0:o.name}getShopImage(e){var o;return(null===(o=this.shops.find(l=>l.id===e))||void 0===o?void 0:o.imageUrl)||bc.T}showHistory(e){this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(l=>l.productBarcode===this.productDetail.barcode&&l.shopId===e.shopId).sort((l,p)=>l.updateDate<p.updateDate?1:-1)})}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===e.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(e=>{this.shopProducts=[];const o=[];e.forEach(l=>{-1===o.indexOf(l.shopId)&&o.push(l.shopId)}),o.forEach(l=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(l,this.productDetail.barcode))}),this.shopProducts.sort((l,p)=>l.price>p.price?1:-1)})}getProductPriceRange(e){return this.shopsProductsService.getProductPriceRange(e,"product-edit")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.productDetail=this.products.find(o=>o.barcode===e),this.getShopProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(vn),t.Y36(Qa.M),t.Y36(ya.d),t.Y36($u),t.Y36(Ys.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-edit"]],decls:20,vars:20,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["breadcrumb",""],["noShopsProducts",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,LA,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,UA,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,BA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,nI,3,2,"ng-container",2),t.qZA(),t.YNc(16,rI,1,0,"ng-template",null,7,t.W1O),t.YNc(18,iI,4,3,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(16,iD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,9,"product.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,iD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,11,"product.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,13,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",o.productDetail))},directives:[Fe,qr,Mr,Xr,Ni,cs,wo,ur,Ja,rD],pipes:[Jo,P,ts],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const sI=["productSearchInput"];function aI(n,r){1&n&&t.GkF(0)}function cI(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",38),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function uI(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function lI(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}const dI=function(n){return{productRange:n}};function hI(n,r){if(1&n&&(t.ynx(0),t.GkF(1,42),t.BQk()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3),l=t.MAs(27);t.xp6(1),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(2,dI,o.getProductPriceRange(e)))}}function fI(n,r){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"span",41),t._uU(3),t.ALo(4,"number"),t.qZA(),t.YNc(5,uI,3,3,"span",37),t.YNc(6,lI,3,3,"span",37),t.qZA(),t.YNc(7,hI,2,4,"ng-container",37),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(3),t.Oqu(t.xi3(4,4,o.getProductPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getProductPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getProductPrices(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function pI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",43),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).doRemove(l)}),t.qZA(),t.BQk()}}function gI(n,r){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,1,o.productItemsInCart(e),"1.0-2"))}}const mI=function(n){return{"with-items-in-cart":n}};function _I(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",44),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).addToCart(l)}),t.qZA(),t.YNc(2,gI,3,4,"span",45),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(2,mI,o.productItemsInCart(e)>0)),t.xp6(1),t.Q6J("ngIf",o.productItemsInCart(e)>0)}}const yI=function(n,r){return{far:n,fas:r}};function vI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",27)(1,"div",28)(2,"div",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.YNc(3,cI,2,1,"ng-container",19),t.qZA(),t.TgZ(4,"div",30),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.TgZ(5,"div",31)(6,"a",32),t._uU(7),t.qZA()(),t.TgZ(8,"div",33),t._uU(9),t.qZA(),t.YNc(10,fI,8,7,"div",34),t.qZA(),t.TgZ(11,"div",35)(12,"span",36),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.barcode)}),t.qZA(),t.YNc(13,pI,2,0,"ng-container",37),t.YNc(14,_I,3,4,"ng-container",37),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw(3),l=t.MAs(31);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",e.imageUrl)("ngIfElse",l),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.brand," "),t.xp6(1),t.Q6J("ngIf",o.getProductPrices(e)>0),t.xp6(2),t.Q6J("ngClass",t.WLB(9,yI,!e.favourite,e.favourite)),t.xp6(1),t.Q6J("ngIf",o.canRemoveProduct(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function bI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",25),t.YNc(3,vI,15,12,"li",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.products)}}function CI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,bI,4,1,"ng-container",19),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(29);t.xp6(1),t.Q6J("ngIf",(null==e.products?null:e.products.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function wI(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",48),t.TgZ(2,"div",49),t._uU(3),t.ALo(4,"number"),t.ALo(5,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(3),t.AsE(" ",t.xi3(4,2,e.min,"1.0-2")," - ",t.xi3(5,5,e.max,"1.0-2")," \u20ac ")}}function TI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",50),t._uU(2),t.ALo(3,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(2),t.hij("",t.xi3(3,1,e.max,"1.0-2")," \u20ac")}}function EI(n,r){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,wI,6,8,"ng-container",37),t.YNc(2,TI,4,4,"ng-container",37),t.qZA()),2&n){const e=r.productRange;t.xp6(1),t.Q6J("ngIf",e.max!==e.min),t.xp6(1),t.Q6J("ngIf",e.max===e.min)}}function DI(n,r){1&n&&(t.TgZ(0,"small",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noProductAdded")))}function SI(n,r){1&n&&(t.TgZ(0,"small",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noFavouriteProduct")))}function xI(n,r){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,DI,3,3,"small",52),t.YNc(2,SI,3,3,"small",53),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(35);t.xp6(1),t.Q6J("ngIf",0===e.products.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function AI(n,r){1&n&&t._UZ(0,"i",56)}function II(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",57)(1,"span",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",59),t.TgZ(3,"span",60),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",61),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",62),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.products")))}function MI(n,r){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let OI=(()=>{class n{constructor(e,o,l,p,b,x){this.router=e,this.productService=o,this.shopProductService=l,this.loginService=p,this.shoppingCartService=b,this.spinner=x,this.STORED_SEARCH_KEY="PS_PRODUCTS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(e){this.router.navigate(["edit-product/"+e.barcode])}doToggleFavourite(e){const o=this.products.find(l=>l.barcode===e);o.favourite=!o.favourite,this.productService.toggleFavourite(o).subscribe(()=>{})}doRemove(e){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(e.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(e.barcode).subscribe(()=>{})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(l=>l.productBarcode===e.barcode).forEach(l=>{o.indexOf(l.shopId)<0&&o.push(l.shopId)}),o.length}productHasPrices(e){return this.getProductPrices(e)>0}getProductPriceRange(e){return this.shopProductService.getProductPriceRange(e)}productItemsInCart(e){var o,l;let p=0,b=!1;return(null===(l=null===(o=this.shoppingCartService)||void 0===o?void 0:o._cartConfig)||void 0===l?void 0:l.items)&&this.shoppingCartService._cartConfig.items.forEach(x=>{b||x.productsUnits.forEach(k=>{k.product.barcode===e.barcode&&k.units&&(b=!0,p+=k.units)})}),p}canRemoveProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}addToCart(e){this.shoppingCartService.addToCart(e)}exit(){this.router.navigateByUrl("")}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(e=>{this.products=e.sort((o,l)=>o.name>l.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){vt(this.productSearchInput.nativeElement,"keyup").pipe(Ii(Boolean),Gb(300),dp(),(0,di.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(Qa.M),t.Y36($u),t.Y36(Ys.r),t.Y36(Yf),t.Y36(Xs))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(sI,5),2&e){let l;t.iGM(l=t.CRH())&&(o.productSearchInput=l.first)}},decls:36,vars:15,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[1,"d-flex","w-100","mb-3"],[1,"btn","btn-lg","btn-dark","w-100","m-1","py-3",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-barcode","me-3"],[1,"text-start"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,aI,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.doCreateProduct()}),t.TgZ(20,"div",16),t._UZ(21,"i",17),t.TgZ(22,"div",18),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.YNc(25,CI,2,2,"ng-container",19),t.qZA(),t.YNc(26,EI,3,2,"ng-template",null,20,t.W1O),t.YNc(28,xI,3,2,"ng-template",null,21,t.W1O),t.YNc(30,AI,1,0,"ng-template",null,22,t.W1O),t.YNc(32,II,11,6,"ng-template",null,23,t.W1O),t.YNc(34,MI,3,3,"ng-template",null,24,t.W1O)),2&e){const l=t.MAs(33),p=t.MAs(35);t.xp6(4),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.s9C("placeholder",t.lcZ(9,9,"products.searchPlaceholder")),t.Q6J("readonly",(null==o.products?null:o.products.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,11,"products.onlyFavouriteProducts")),t.xp6(8),t.Oqu(t.lcZ(24,13,"products.scan")),t.xp6(2),t.Q6J("ngIf",o.products)("ngIfElse",p)}},directives:[qr,wo,Ni,cs,Fe,ur,Mr],pipes:[Jo,P],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function PI(n,r){1&n&&t.GkF(0)}function NI(n,r){1&n&&t._UZ(0,"div",23)}function RI(n,r){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (x",t.xi3(2,1,e.units,"1.0-2"),")")}}const kI=function(n){return{"checked-product":n}};function FI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",27),t.qZA(),t.TgZ(3,"td",28),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).toggleCartProductMarked(p)}),t._uU(4),t.YNc(5,RI,3,4,"span",29),t.qZA(),t.TgZ(6,"td")(7,"div",30)(8,"span",31),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"i",32),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeItem(p.product)}),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Q6J("ngClass",t.VKq(7,kI,e.checked)),t.xp6(1),t.hij(" ",e.product.name," "),t.xp6(1),t.Q6J("ngIf",e.units>1),t.xp6(4),t.hij("",t.xi3(10,4,e.minPrice,"1.2-2")," \u20ac")}}function LI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",24),t._UZ(2,"img",25),t.TgZ(3,"div",26)(4,"table")(5,"tbody"),t.YNc(6,FI,12,9,"tr",22),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",null==e||null==e.shop?null:e.shop.imageUrl,t.LSH),t.xp6(4),t.Q6J("ngForOf",e.productsUnits)}}function UI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,LI,7,2,"ng-container",2),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.shop)}}function BI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"h4",8),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"i",10),t.TgZ(7,"small",11),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"button",12),t.qZA(),t.TgZ(11,"div",13),t._UZ(12,"i",14),t.TgZ(13,"small",15)(14,"strong",16),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p",17),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t._UZ(20,"button",12),t.qZA(),t.YNc(21,NI,1,0,"div",18),t.TgZ(22,"div",19)(23,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeCart()}),t.TgZ(24,"span"),t._UZ(25,"i",21),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.YNc(28,UI,2,1,"ng-container",22),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2),o=t.MAs(4);t.xp6(3),t.Oqu(t.lcZ(4,7,"shoppingCart.title")),t.xp6(5),t.Oqu(t.lcZ(9,9,"shoppingCart.description")),t.xp6(7),t.Oqu(t.lcZ(16,11,"shoppingCart.trick.title")),t.xp6(3),t.Oqu(t.lcZ(19,13,"shoppingCart.trick.text")),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(5),t.Oqu(t.lcZ(27,15,"shoppingCart.doEmpty")),t.xp6(2),t.Q6J("ngForOf",e.cartConfig.items)}}function VI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,BI,29,17,"ng-container",6),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(6);t.xp6(1),t.Q6J("ngIf",(null==e.cartConfig.items?null:e.cartConfig.items.length)>0)("ngIfElse",o)}}const jI=function(n,r){return{"bg-success":n,"text-success":r}};function GI(n,r){if(1&n&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",34),t._uU(4),t.ALo(5,"number"),t.qZA()(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"span",34),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",36),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",37),t._uU(16),t.ALo(17,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,7,"shoppingCart.amountOptimized"),": "),t.xp6(3),t.hij("",t.xi3(5,9,e.getAmountLow(),"1.0-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),t.xp6(3),t.hij("",t.xi3(11,14,e.getAmountHigh(),"1.0-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(14,17,"shoppingCart.amountSaved"),": "),t.xp6(2),t.Q6J("ngClass",t.WLB(22,jI,e.getAmountDiff()>0,e.getAmountDiff()>0)),t.xp6(1),t.hij("",t.xi3(17,19,e.getAmountDiff()*(e.getAmountDiff()>0?-1:1),"1.0-2")," \u20ac")}}function HI(n,r){1&n&&(t.TgZ(0,"div",38)(1,"div",39)(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shoppingCart.noProducts")))}function $I(n,r){1&n&&(t.TgZ(0,"div",40)(1,"span",41)(2,"a",42),t._UZ(3,"i",43),t.TgZ(4,"span",44),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",45),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t.ALo(11,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(11,4,"breadcrumb.shoppingCart")))}let qI=(()=>{class n{constructor(e,o,l){this.shoppingCartService=e,this.spinner=o,this.translate=l,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountLow+=o.units*o.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountHigh+=o.units*o.maxPrice})})}toggleCartProductMarked(e){this.shoppingCartService.toggleCartProductMarked(e)}removeItem(e){this.spinner.show(),this.shoppingCartService.removeCartProduct(e)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},e=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yf),t.Y36(Xs),t.Y36(vc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,PI,1,0,"ng-container",1),t.qZA(),t.YNc(2,VI,2,2,"ng-container",2),t.YNc(3,GI,18,25,"ng-template",null,3,t.W1O),t.YNc(5,HI,5,3,"ng-template",null,4,t.W1O),t.YNc(7,$I,12,6,"ng-template",null,5,t.W1O)),2&e){const l=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",l),t.xp6(1),t.Q6J("ngIf",o.cartConfig)}},directives:[qr,Fe,ur,Mr,Ja],pipes:[Jo,P],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),n})();function ZI(n,r){1&n&&t.GkF(0)}function WI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ZI,1,0,"ng-container",3),t.BQk()),2&n){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function zI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",14),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).shopDetail.name=l}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.shopDetail.name)}}const KI=function(n){return{disabled:n}};function YI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Nom"),t.qZA(),t.YNc(5,zI,1,1,"input",7),t.qZA(),t.TgZ(6,"div",8)(7,"input",9),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopDetail.favourite=l}),t.qZA(),t.TgZ(8,"label",10),t._uU(9,"Preferida"),t.qZA()()(),t.TgZ(10,"div",11)(11,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().createShop()}),t._uU(12," Desar "),t.qZA(),t.TgZ(13,"button",13),t._uU(14," Tancar "),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.shopDetail.default),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(4),t.Q6J("ngClass",t.VKq(4,KI,e.shopDetail.name.length<1)),t.xp6(2),t.Q6J("routerLink","../search-shops")}}function JI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"span",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",17),t.TgZ(3,"span",18),t._uU(4,"Inici"),t.qZA()(),t.TgZ(5,"span",19),t._uU(6,"/"),t.qZA(),t.TgZ(7,"span",20)(8,"span",18),t._uU(9,"Botigues"),t.qZA()(),t.TgZ(10,"span",19),t._uU(11,"/"),t.qZA(),t.TgZ(12,"span",21),t._uU(13,"Nova botiga"),t.qZA()()}2&n&&(t.xp6(7),t.Q6J("routerLink","search-shops"))}let QI=(()=>{class n{constructor(e,o){this.router=e,this.shopService=o,this.shopDetail={id:ou(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(ya.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,WI,2,1,"ng-container",1),t.qZA(),t.YNc(2,YI,15,6,"ng-container",1),t.YNc(3,JI,14,1,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.shopDetail),t.xp6(1),t.Q6J("ngIf",o.shopDetail))},directives:[Fe,qr,Xr,Ni,cs,wo,Mr,_c],styles:[""]}),n})();function XI(n,r){1&n&&t.GkF(0)}function eM(n,r){if(1&n&&(t.ynx(0),t.YNc(1,XI,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function tM(n,r){1&n&&t._UZ(0,"i",10)}function nM(n,r){1&n&&t._UZ(0,"i",10)}function rM(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.shopDetail.imageUrl,t.LSH)}}function iM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",27),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).shopDetail.name=l}),t.ALo(1,"translate"),t.qZA()}if(2&n){const e=t.oxw(3);t.s9C("placeholder",t.lcZ(1,2,"shop.name")),t.Q6J("ngModel",e.shopDetail.name)}}function oM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",28),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).shopDetail.name=l}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.shopDetail.name)}}const sM=function(n){return{"pb-2":n}};function aM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,rM,2,1,"div",17),t.TgZ(3,"div",18)(4,"label",19),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,iM,2,4,"input",20),t.YNc(8,oM,1,1,"input",21),t.qZA(),t.TgZ(9,"div",22)(10,"input",23),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).shopDetail.favourite=l}),t.qZA(),t.TgZ(11,"label",24),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(11,sM,null==e.shopDetail?null:e.shopDetail.createdBy)),t.xp6(2),t.Q6J("ngIf",(null==e.shopDetail||null==e.shopDetail.imageUrl?null:e.shopDetail.imageUrl.length)>0),t.xp6(3),t.Oqu(t.lcZ(6,7,"shop.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(13,9,"shop.favourite"))}}function cM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29)(2,"span",30),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",31),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"shop.createdBy"),":"),t.xp6(3),t.Oqu(null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username)}}const sT=function(n){return{disabled:n}};function uM(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,aM,14,13,"div",11),t.YNc(2,cM,7,4,"ng-container",2),t.TgZ(3,"div",12)(4,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateShop()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",14),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.shopDetail),t.xp6(1),t.Q6J("ngIf",null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username),t.xp6(2),t.Q6J("ngClass",t.VKq(10,sT,(null==e.shopDetail?null:e.shopDetail.name.length)<1)),t.xp6(1),t.hij(" ",t.lcZ(6,6,"shop.save")," "),t.xp6(2),t.Q6J("routerLink","../../search-shops"),t.xp6(1),t.hij(" ",t.lcZ(9,8,"shop.close")," ")}}function lM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).removeShopProduct(l)}),t.qZA()}}function dM(n,r){if(1&n&&(t.TgZ(0,"span",53),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const hM=function(n){return{"fw-bold":n}};function fM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,dM,2,1,"span",51),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",52),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(11,hM,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",l.loggedUser.admin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,sT,!l.canRemoveShopProduct(e)))}}function pM(n,r){if(1&n&&(t.TgZ(0,"li",47)(1,"ul",48),t.YNc(2,fM,12,15,"li",37),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const gM=function(n){return[n]};function mM(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",38)(2,"div",39),t._UZ(3,"img",40)(4,"a",41),t.TgZ(5,"div",42)(6,"span"),t.YNc(7,lM,1,0,"span",43),t.TgZ(8,"i",44),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).showHistory(p)}),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.YNc(11,pM,3,1,"li",45),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.xp6(3),t.Q6J("src",o.getProductImage(e.productBarcode),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(10,gM,"/edit-product/"+e.productBarcode))("innerHtml",o.getProductName(e.productBarcode),t.oJD),t.xp6(3),t.Q6J("ngIf",o.canRemoveShopProduct(e)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,sT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(10,7,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function _M(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",36),t.YNc(2,mM,12,14,"ng-container",37),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function yM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div",33)(3,"button",34),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,_M,3,1,"ng-container",35),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(18);t.xp6(4),t.hij(" ",t.lcZ(5,4,"shop.productPrices")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function vM(n,r){1&n&&(t.TgZ(0,"div",54)(1,"small",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shop.noProductPrices")))}function bM(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}const oD=function(n){return{active:n}};let CM=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.route=o,this.shopService=l,this.shopsProductsService=p,this.loginService=b,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(o=>o.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(e){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{})}canRemoveShopProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}doEditProduct(e){}showHistory(e){console.log("showHistory()",e),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(l=>l.productBarcode===e.productBarcode&&l.shopId===this.shopDetail.id).sort((l,p)=>l.updateDate<p.updateDate?1:-1)})}getProductName(e){const o=this.products.find(l=>l.barcode===e);return"<span>"+o.name+'</span><span class="brand">'+o.brand+"</span>"}getProductImage(e){return this.products.find(l=>l.barcode===e).imageUrl||bc.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(e=>{this.shopProducts=[];const o=[];(e=e.sort((l,p)=>l.updateDate<p.updateDate?1:-1)).forEach(l=>{-1===o.indexOf(l.productBarcode)&&o.push(l.productBarcode)}),o.forEach(l=>{this.shopProducts.push(e.find(p=>l===p.productBarcode))}),this.shopProducts.sort((l,p)=>this.getProductName(l.productBarcode).toUpperCase()>this.getProductName(p.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(e=>{this.products=e,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(o=>{this.shopProducts=o,this.getLastShopProducts()})})}canEdit(){var e;return this.loggedUser.admin||!(null===(e=this.shopDetail)||void 0===e?void 0:e.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===e.productBarcode&&o.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(o=>{this.shops=o,this.shopDetail=o.find(l=>l.id===e),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(o=>o.id===e),this.configShopsProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(vn),t.Y36(ya.d),t.Y36($u),t.Y36(Ys.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,eM,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,tM,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,nM,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,uM,10,12,"ng-container",2),t.YNc(16,yM,11,9,"ng-container",2),t.qZA(),t.YNc(17,vM,4,3,"ng-template",null,7,t.W1O),t.YNc(19,bM,1,0,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.shopDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(17,oD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,10,"shop.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(19,oD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,12,"shop.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab))},directives:[Fe,qr,Mr,Xr,Ni,cs,wo,_c,ur,Ja,rD],pipes:[Jo,P,ts],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const wM=["shopSearchInput"];function TM(n,r){1&n&&t.GkF(0)}function EM(n,r){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function DM(n,r){1&n&&t._UZ(0,"i",31)}function SM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function xM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}function AM(n,r){if(1&n&&(t.TgZ(0,"div",32)(1,"span",33),t._uU(2),t.ALo(3,"number"),t.qZA(),t.YNc(4,SM,3,3,"span",28),t.YNc(5,xM,3,3,"span",28),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,3,o.getShopPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getShopPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getShopPrices(e))}}function IM(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).doRemove(l.id)}),t.qZA()(),t.BQk()}}const MM=function(n,r,e){return{far:n,fas:r,"ms-auto":e}};function OM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",20)(1,"div",21)(2,"div",22),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.YNc(3,EM,1,1,"img",23),t.YNc(4,DM,1,0,"i",24),t.qZA(),t.ynx(5),t.TgZ(6,"div",25),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.TgZ(7,"a",26),t._uU(8),t.qZA(),t.YNc(9,AM,6,6,"div",27),t.qZA(),t.YNc(10,IM,3,0,"ng-container",28),t.TgZ(11,"span",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.id)}),t.qZA(),t.BQk(),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",(null==e||null==e.imageUrl?null:e.imageUrl.length)>0),t.xp6(1),t.Q6J("ngIf",!((null==e||null==e.imageUrl?null:e.imageUrl.length)>0)),t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",o.getShopPrices(e)>0),t.xp6(1),t.Q6J("ngIf",o.canRemoveShop(e)),t.xp6(1),t.Q6J("ngClass",t.kEZ(7,MM,!e.favourite,e.favourite,!o.canRemoveShop(e)))}}function PM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",18),t.YNc(3,OM,12,11,"li",19),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.shops)}}function NM(n,r){if(1&n&&(t.ynx(0),t.YNc(1,PM,4,1,"ng-container",14),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(20);t.xp6(1),t.Q6J("ngIf",(null==e.shops?null:e.shops.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function RM(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noShopAdded")))}function kM(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noFavouriteShop")))}function FM(n,r){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,RM,3,3,"small",37),t.YNc(2,kM,3,3,"small",37),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(24);t.xp6(1),t.Q6J("ngIf",0===e.shops.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function LM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"span",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",41),t.TgZ(3,"span",42),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",43),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",44),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.shops")))}function UM(n,r){1&n&&(t.TgZ(0,"div",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let BM=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.shopService=o,this.shopProductService=l,this.loginService=p,this.spinner=b,this.STORED_SEARCH_KEY="PS_SHOPS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(e){this.router.navigate(["edit-shop/"+e.id])}doToggleFavourite(e){this.spinner.show();const o=this.shops.find(l=>l.id===e);o.favourite=!o.favourite,this.shopService.toggleFavourite(o).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(e){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(e).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(e).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(e){return this.loggedUser.admin||e.createdBy&&this.loggedUser.email===e.createdBy.email&&this.loggedUser.username===e.createdBy.username}getShopPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(l=>l.shopId===e.id).forEach(l=>{o.indexOf(l.productBarcode)<0&&o.push(l.productBarcode)}),o.length}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){vt(this.shopSearchInput.nativeElement,"keyup").pipe(Ii(Boolean),Gb(300),dp(),(0,di.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(hi),t.Y36(ya.d),t.Y36($u),t.Y36(Ys.r),t.Y36(Xs))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(wM,5),2&e){let l;t.iGM(l=t.CRH())&&(o.shopSearchInput=l.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,TM,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13),t.YNc(18,NM,2,2,"ng-container",14),t.qZA(),t.YNc(19,FM,3,2,"ng-template",null,15,t.W1O),t.YNc(21,LM,11,6,"ng-template",null,16,t.W1O),t.YNc(23,UM,3,3,"ng-template",null,17,t.W1O)),2&e){const l=t.MAs(22),p=t.MAs(24);t.xp6(4),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.s9C("placeholder",t.lcZ(9,8,"shops.searchPlaceholder")),t.Q6J("readonly",(null==o.shops?null:o.shops.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,10,"shops.onlyFavouriteShops")),t.xp6(3),t.Q6J("ngIf",o.shops)("ngIfElse",p)}},directives:[qr,wo,Ni,cs,Fe,ur,Mr],pipes:[Jo,P],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function VM(n,r){1&n&&t.GkF(0)}function jM(n,r){1&n&&t._UZ(0,"i",12)}function GM(n,r){if(1&n&&t._UZ(0,"img",13),2&n){const e=t.oxw(2);t.Q6J("src",e.user.photoURL,t.LSH)}}function HM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",11)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,2,"user.username")),t.xp6(3),t.Oqu(e.user.username)}}function $M(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.admin")))}function qM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.user")))}function ZM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t.YNc(4,jM,1,0,"i",8),t.YNc(5,GM,1,1,"img",9),t._UZ(6,"app-language-selector"),t.qZA(),t.YNc(7,HM,7,4,"ng-container",10),t.TgZ(8,"div",11)(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",11)(15,"label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,$M,3,3,"span",10),t.YNc(19,qM,3,3,"span",10),t.qZA(),t.TgZ(20,"div",11)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"date"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.user.photoURL),t.xp6(1),t.Q6J("ngIf",e.user.photoURL),t.xp6(2),t.Q6J("ngIf",e.user.username),t.xp6(3),t.Oqu(t.lcZ(11,10,"user.email")),t.xp6(3),t.Oqu(e.user.email),t.xp6(3),t.Oqu(t.lcZ(17,12,"user.role")),t.xp6(2),t.Q6J("ngIf",e.user.admin),t.xp6(1),t.Q6J("ngIf",!e.user.admin),t.xp6(3),t.Oqu(t.lcZ(23,14,"user.lastLogin")),t.xp6(3),t.Oqu(t.xi3(26,16,e.user.lastLogin,"medium"))}}function WM(n,r){1&n&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.noData")))}function zM(n,r){if(1&n&&(t.TgZ(0,"div",15)(1,"span",16)(2,"a",17),t._UZ(3,"i",18),t.TgZ(4,"span",19),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",20),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",21),t._uU(10),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,2,"breadcrumb.home")),t.xp6(5),t.Oqu(null==e.user?null:e.user.email)}}function YM(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",4),t.TgZ(2,"span"),t._uU(3,"No est\xe0s autenticat!"),t.qZA(),t.BQk())}const JM=function(){return["../login"]},QM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:gx,canActivate:[ef]},{path:"user",component:(()=>{class n{constructor(e,o){this.loginService=e,this.spinner=o}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ys.r),t.Y36(Xs))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,VM,1,0,"ng-container",1),t.qZA(),t.YNc(2,ZM,27,19,"ng-container",2),t.YNc(3,WM,3,3,"ng-template",null,3,t.W1O),t.YNc(5,zM,11,4,"ng-template",null,4,t.W1O)),2&e){const l=t.MAs(4),p=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",p),t.xp6(1),t.Q6J("ngIf",o.user)("ngIfElse",l)}},directives:[qr,Fe,QE,Ja],pipes:[Jo,ts],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}"]}),n})(),canActivate:[ef]},{path:"login",component:Ox,canActivate:[iT]},{path:"register",component:KS,canActivate:[iT]},{path:"scan",component:OA,canActivate:[ef]},{path:"search-products",component:OI,canActivate:[ef]},{path:"search-shops",component:BM,canActivate:[ef]},{path:"statistics",component:lx,canActivate:[ef]},{path:"edit-shop/:id",component:CM,canActivate:[ef]},{path:"new-shop",component:QI,canActivate:[ef]},{path:"edit-product/:barcode",component:oI},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:qI,canActivate:[ef]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forbidden"]],decls:5,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[4,"ngIf"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,YM,4,0,"ng-container",1),t.TgZ(2,"button",2),t._UZ(3,"i",3),t._uU(4," Identificar-me "),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("routerLink",t.DdM(2,JM)))},directives:[Fe,_c],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1),t.TgZ(2,"span"),t._uU(3,"P\xe0gina inexistent!"),t.qZA(),t.TgZ(4,"button",2),t._UZ(5,"i",3),t._uU(6," Anar a l'inici "),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",""))},directives:[_c],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],ni=!1;function sD(n){return new t.vHH(3e3,ni)}function PO(){return"undefined"!=typeof window&&void 0!==window.document}function aT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qg(n){switch(n.length){case 0:return new Ud;case 1:return n[0];default:return new tp(n)}}function aD(n,r,e,o,l={},p={}){const b=[],x=[];let k=-1,K=null;if(o.forEach(he=>{const Ne=he.offset,Je=Ne==k,We=Je&&K||{};Object.keys(he).forEach(ft=>{let bt=ft,Kt=he[ft];if("offset"!==ft)switch(bt=r.normalizePropertyName(bt,b),Kt){case"!":Kt=l[ft];break;case Xa:Kt=p[ft];break;default:Kt=r.normalizeStyleValue(ft,bt,Kt,b)}We[bt]=Kt}),Je||x.push(We),K=We,k=Ne}),b.length)throw function CO(n){return new t.vHH(3502,ni)}();return x}function cT(n,r,e,o){switch(r){case"start":n.onStart(()=>o(e&&uT(e,"start",n)));break;case"done":n.onDone(()=>o(e&&uT(e,"done",n)));break;case"destroy":n.onDestroy(()=>o(e&&uT(e,"destroy",n)))}}function uT(n,r,e){const o=e.totalTime,p=lT(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,null==o?n.totalTime:o,!!e.disabled),b=n._data;return null!=b&&(p._data=b),p}function lT(n,r,e,o,l="",p=0,b){return{element:n,triggerName:r,fromState:e,toState:o,phaseName:l,totalTime:p,disabled:!!b}}function tl(n,r,e){let o;return n instanceof Map?(o=n.get(r),o||n.set(r,o=e)):(o=n[r],o||(o=n[r]=e)),o}function cD(n){const r=n.indexOf(":");return[n.substring(1,r),n.substr(r+1)]}let dT=(n,r)=>!1,uD=(n,r,e)=>[],lD=null;function hT(n){const r=n.parentNode||n.host;return r===lD?null:r}(aT()||"undefined"!=typeof Element)&&(PO()?(lD=(()=>document.documentElement)(),dT=(n,r)=>{for(;r;){if(r===n)return!0;r=hT(r)}return!1}):dT=(n,r)=>n.contains(r),uD=(n,r,e)=>{if(e)return Array.from(n.querySelectorAll(r));const o=n.querySelector(r);return o?[o]:[]});let L_=null,dD=!1;function hD(n){L_||(L_=function RO(){return"undefined"!=typeof document?document.body:null}()||{},dD=!!L_.style&&"WebkitAppearance"in L_.style);let r=!0;return L_.style&&!function NO(n){return"ebkit"==n.substring(1,6)}(n)&&(r=n in L_.style,!r&&dD&&(r="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in L_.style)),r}const fD=dT,pD=uD;let gD=(()=>{class n{validateStyleProperty(e){return hD(e)}matchesElement(e,o){return!1}containsElement(e,o){return fD(e,o)}getParentElement(e){return hT(e)}query(e,o,l){return pD(e,o,l)}computeStyle(e,o,l){return l||""}animate(e,o,l,p,b,x=[],k){return new Ud(l,p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),fT=(()=>{class n{}return n.NOOP=new gD,n})();const pT="ng-enter",$b="ng-leave",qb="ng-trigger",Zb=".ng-trigger",_D="ng-animating",gT=".ng-animating";function U_(n){if("number"==typeof n)return n;const r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:mT(parseFloat(r[1]),r[2])}function mT(n,r){return"s"===r?1e3*n:n}function Wb(n,r,e){return n.hasOwnProperty("duration")?n:function LO(n,r,e){let l,p=0,b="";if("string"==typeof n){const x=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return r.push(sD()),{duration:0,delay:0,easing:""};l=mT(parseFloat(x[1]),x[2]);const k=x[3];null!=k&&(p=mT(parseFloat(k),x[4]));const K=x[5];K&&(b=K)}else l=n;if(!e){let x=!1,k=r.length;l<0&&(r.push(function XM(){return new t.vHH(3100,ni)}()),x=!0),p<0&&(r.push(function eO(){return new t.vHH(3101,ni)}()),x=!0),x&&r.splice(k,0,sD())}return{duration:l,delay:p,easing:b}}(n,r,e)}function ly(n,r={}){return Object.keys(n).forEach(e=>{r[e]=n[e]}),r}function Xg(n,r,e={}){if(r)for(let o in n)e[o]=n[o];else ly(n,e);return e}function vD(n,r,e){return e?r+":"+e+";":""}function bD(n){let r="";for(let e=0;e<n.style.length;e++){const o=n.style.item(e);r+=vD(0,o,n.style.getPropertyValue(o))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=vD(0,VO(e),n.style[e]));n.setAttribute("style",r)}function tf(n,r,e){n.style&&(Object.keys(r).forEach(o=>{const l=yT(o);e&&!e.hasOwnProperty(o)&&(e[o]=n.style[l]),n.style[l]=r[o]}),aT()&&bD(n))}function B_(n,r){n.style&&(Object.keys(r).forEach(e=>{const o=yT(e);n.style[o]=""}),aT()&&bD(n))}function Ov(n){return Array.isArray(n)?1==n.length?n[0]:T0(n):n}const _T=new RegExp("{{\\s*(.+?)\\s*}}","g");function CD(n){let r=[];if("string"==typeof n){let e;for(;e=_T.exec(n);)r.push(e[1]);_T.lastIndex=0}return r}function zb(n,r,e){const o=n.toString(),l=o.replace(_T,(p,b)=>{let x=r[b];return r.hasOwnProperty(b)||(e.push(function nO(n){return new t.vHH(3003,ni)}()),x=""),x.toString()});return l==o?n:l}function Kb(n){const r=[];let e=n.next();for(;!e.done;)r.push(e.value),e=n.next();return r}const BO=/-+([a-z0-9])/g;function yT(n){return n.replace(BO,(...r)=>r[1].toUpperCase())}function VO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function nl(n,r,e){switch(r.type){case 7:return n.visitTrigger(r,e);case 0:return n.visitState(r,e);case 1:return n.visitTransition(r,e);case 2:return n.visitSequence(r,e);case 3:return n.visitGroup(r,e);case 4:return n.visitAnimate(r,e);case 5:return n.visitKeyframes(r,e);case 6:return n.visitStyle(r,e);case 8:return n.visitReference(r,e);case 9:return n.visitAnimateChild(r,e);case 10:return n.visitAnimateRef(r,e);case 11:return n.visitQuery(r,e);case 12:return n.visitStagger(r,e);default:throw function rO(n){return new t.vHH(3004,ni)}()}}function wD(n,r){return window.getComputedStyle(n)[r]}function ZO(n,r){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(o=>function WO(n,r,e){if(":"==n[0]){const k=function zO(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return r.push(function _O(n){return new t.vHH(3016,ni)}()),"* => *"}}(n,e);if("function"==typeof k)return void r.push(k);n=k}const o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(function mO(n){return new t.vHH(3015,ni)}()),r;const l=o[1],p=o[2],b=o[3];r.push(TD(l,b));"<"==p[0]&&!("*"==l&&"*"==b)&&r.push(TD(b,l))}(o,e,r)):e.push(n),e}const Xb=new Set(["true","1"]),eC=new Set(["false","0"]);function TD(n,r){const e=Xb.has(n)||eC.has(n),o=Xb.has(r)||eC.has(r);return(l,p)=>{let b="*"==n||n==l,x="*"==r||r==p;return!b&&e&&"boolean"==typeof l&&(b=l?Xb.has(n):eC.has(n)),!x&&o&&"boolean"==typeof p&&(x=p?Xb.has(r):eC.has(r)),b&&x}}const KO=new RegExp("s*:selfs*,?","g");function vT(n,r,e,o){return new YO(n).build(r,e,o)}class YO{constructor(r){this._driver=r}build(r,e,o){const l=new XO(e);this._resetContextStyleTimingState(l);const p=nl(this,Ov(r),l);return l.unsupportedCSSPropertiesFound.size&&l.unsupportedCSSPropertiesFound.keys(),p}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,e){let o=e.queryCount=0,l=e.depCount=0;const p=[],b=[];return"@"==r.name.charAt(0)&&e.errors.push(function oO(){return new t.vHH(3006,ni)}()),r.definitions.forEach(x=>{if(this._resetContextStyleTimingState(e),0==x.type){const k=x,K=k.name;K.toString().split(/\s*,\s*/).forEach(he=>{k.name=he,p.push(this.visitState(k,e))}),k.name=K}else if(1==x.type){const k=this.visitTransition(x,e);o+=k.queryCount,l+=k.depCount,b.push(k)}else e.errors.push(function sO(){return new t.vHH(3007,ni)}())}),{type:7,name:r.name,states:p,transitions:b,queryCount:o,depCount:l,options:null}}visitState(r,e){const o=this.visitStyle(r.styles,e),l=r.options&&r.options.params||null;if(o.containsDynamicStyles){const p=new Set,b=l||{};o.styles.forEach(x=>{if(tC(x)){const k=x;Object.keys(k).forEach(K=>{CD(k[K]).forEach(he=>{b.hasOwnProperty(he)||p.add(he)})})}}),p.size&&(Kb(p.values()),e.errors.push(function aO(n,r){return new t.vHH(3008,ni)}()))}return{type:0,name:r.name,style:o,options:l?{params:l}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const o=nl(this,Ov(r.animation),e);return{type:1,matchers:ZO(r.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:V_(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(o=>nl(this,o,e)),options:V_(r.options)}}visitGroup(r,e){const o=e.currentTime;let l=0;const p=r.steps.map(b=>{e.currentTime=o;const x=nl(this,b,e);return l=Math.max(l,e.currentTime),x});return e.currentTime=l,{type:3,steps:p,options:V_(r.options)}}visitAnimate(r,e){const o=function tP(n,r){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return bT(Wb(n,r).duration,0,"");const o=n;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=bT(0,0,"");return p.dynamic=!0,p.strValue=o,p}return e=e||Wb(o,r),bT(e.duration,e.delay,e.easing)}(r.timings,e.errors);e.currentAnimateTimings=o;let l,p=r.styles?r.styles:Xf({});if(5==p.type)l=this.visitKeyframes(p,e);else{let b=r.styles,x=!1;if(!b){x=!0;const K={};o.easing&&(K.easing=o.easing),b=Xf(K)}e.currentTime+=o.duration+o.delay;const k=this.visitStyle(b,e);k.isEmptyStep=x,l=k}return e.currentAnimateTimings=null,{type:4,timings:o,style:l,options:null}}visitStyle(r,e){const o=this._makeStyleAst(r,e);return this._validateStyleAst(o,e),o}_makeStyleAst(r,e){const o=[];Array.isArray(r.styles)?r.styles.forEach(b=>{"string"==typeof b?b==Xa?o.push(b):e.errors.push(function cO(n){return new t.vHH(3002,ni)}()):o.push(b)}):o.push(r.styles);let l=!1,p=null;return o.forEach(b=>{if(tC(b)){const x=b,k=x.easing;if(k&&(p=k,delete x.easing),!l)for(let K in x)if(x[K].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:o,easing:p,offset:r.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(r,e){const o=e.currentAnimateTimings;let l=e.currentTime,p=e.currentTime;o&&p>0&&(p-=o.duration+o.delay),r.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(x=>{if(!this._driver.validateStyleProperty(x))return delete b[x],void e.unsupportedCSSPropertiesFound.add(x);const k=e.collectedStyles[e.currentQuerySelector],K=k[x];let he=!0;K&&(p!=l&&p>=K.startTime&&l<=K.endTime&&(e.errors.push(function uO(n,r,e,o,l){return new t.vHH(3010,ni)}()),he=!1),p=K.startTime),he&&(k[x]={startTime:p,endTime:l}),e.options&&function UO(n,r,e){const o=r.params||{},l=CD(n);l.length&&l.forEach(p=>{o.hasOwnProperty(p)||e.push(function tO(n){return new t.vHH(3001,ni)}())})}(b[x],e.options,e.errors)})})}visitKeyframes(r,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function lO(){return new t.vHH(3011,ni)}()),o;let p=0;const b=[];let x=!1,k=!1,K=0;const he=r.steps.map(ln=>{const bn=this._makeStyleAst(ln,e);let cr=null!=bn.offset?bn.offset:function eP(n){if("string"==typeof n)return null;let r=null;if(Array.isArray(n))n.forEach(e=>{if(tC(e)&&e.hasOwnProperty("offset")){const o=e;r=parseFloat(o.offset),delete o.offset}});else if(tC(n)&&n.hasOwnProperty("offset")){const e=n;r=parseFloat(e.offset),delete e.offset}return r}(bn.styles),Sn=0;return null!=cr&&(p++,Sn=bn.offset=cr),k=k||Sn<0||Sn>1,x=x||Sn<K,K=Sn,b.push(Sn),bn});k&&e.errors.push(function dO(){return new t.vHH(3012,ni)}()),x&&e.errors.push(function hO(){return new t.vHH(3200,ni)}());const Ne=r.steps.length;let Je=0;p>0&&p<Ne?e.errors.push(function fO(){return new t.vHH(3202,ni)}()):0==p&&(Je=1/(Ne-1));const We=Ne-1,ft=e.currentTime,bt=e.currentAnimateTimings,Kt=bt.duration;return he.forEach((ln,bn)=>{const cr=Je>0?bn==We?1:Je*bn:b[bn],Sn=cr*Kt;e.currentTime=ft+bt.delay+Sn,bt.duration=Sn,this._validateStyleAst(ln,e),ln.offset=cr,o.styles.push(ln)}),o}visitReference(r,e){return{type:8,animation:nl(this,Ov(r.animation),e),options:V_(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:V_(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:V_(r.options)}}visitQuery(r,e){const o=e.currentQuerySelector,l=r.options||{};e.queryCount++,e.currentQuery=r;const[p,b]=function JO(n){const r=!!n.split(/\s*,\s*/).find(e=>":self"==e);return r&&(n=n.replace(KO,"")),n=n.replace(/@\*/g,Zb).replace(/@\w+/g,e=>Zb+"-"+e.substr(1)).replace(/:animating/g,gT),[n,r]}(r.selector);e.currentQuerySelector=o.length?o+" "+p:p,tl(e.collectedStyles,e.currentQuerySelector,{});const x=nl(this,Ov(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:p,limit:l.limit||0,optional:!!l.optional,includeSelf:b,animation:x,originalSelector:r.selector,options:V_(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(function pO(){return new t.vHH(3013,ni)}());const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:Wb(r.timings,e.errors,!0);return{type:12,animation:nl(this,Ov(r.animation),e),timings:o,options:null}}}class XO{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function tC(n){return!Array.isArray(n)&&"object"==typeof n}function V_(n){return n?(n=ly(n)).params&&(n.params=function QO(n){return n?ly(n):null}(n.params)):n={},n}function bT(n,r,e){return{duration:n,delay:r,easing:e}}function CT(n,r,e,o,l,p,b=null,x=!1){return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:o,duration:l,delay:p,totalTime:l+p,easing:b,subTimeline:x}}class nC{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const iP=new RegExp(":enter","g"),sP=new RegExp(":leave","g");function wT(n,r,e,o,l,p={},b={},x,k,K=[]){return(new aP).buildKeyframes(n,r,e,o,l,p,b,x,k,K)}class aP{buildKeyframes(r,e,o,l,p,b,x,k,K,he=[]){K=K||new nC;const Ne=new TT(r,e,K,l,p,he,[]);Ne.options=k,Ne.currentTimeline.setStyles([b],null,Ne.errors,k),nl(this,o,Ne);const Je=Ne.timelines.filter(We=>We.containsAnimation());if(Object.keys(x).length){let We;for(let ft=Je.length-1;ft>=0;ft--){const bt=Je[ft];if(bt.element===e){We=bt;break}}We&&!We.allowOnlyTimelineStyles()&&We.setStyles([x],null,Ne.errors,k)}return Je.length?Je.map(We=>We.buildKeyframes()):[CT(e,[],[],[],0,0,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const o=e.subInstructions.get(e.element);if(o){const l=e.createSubContext(r.options),p=e.currentTimeline.currentTime,b=this._visitSubInstructions(o,l,l.options);p!=b&&e.transformIntoNewTimeline(b)}e.previousNode=r}visitAnimateRef(r,e){const o=e.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=r}_visitSubInstructions(r,e,o){let p=e.currentTimeline.currentTime;const b=null!=o.duration?U_(o.duration):null,x=null!=o.delay?U_(o.delay):null;return 0!==b&&r.forEach(k=>{const K=e.appendInstructionToTimeline(k,b,x);p=Math.max(p,K.duration+K.delay)}),p}visitReference(r,e){e.updateOptions(r.options,!0),nl(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const o=e.subContextCount;let l=e;const p=r.options;if(p&&(p.params||p.delay)&&(l=e.createSubContext(p),l.transformIntoNewTimeline(),null!=p.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=rC);const b=U_(p.delay);l.delayNextStep(b)}r.steps.length&&(r.steps.forEach(b=>nl(this,b,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>o&&l.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const o=[];let l=e.currentTimeline.currentTime;const p=r.options&&r.options.delay?U_(r.options.delay):0;r.steps.forEach(b=>{const x=e.createSubContext(r.options);p&&x.delayNextStep(p),nl(this,b,x),l=Math.max(l,x.currentTimeline.currentTime),o.push(x.currentTimeline)}),o.forEach(b=>e.currentTimeline.mergeTimelineCollectedStyles(b)),e.transformIntoNewTimeline(l),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const o=r.strValue;return Wb(e.params?zb(o,e.params,e.errors):o,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const o=e.currentAnimateTimings=this._visitTiming(r.timings,e),l=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),l.snapshotCurrentStyles());const p=r.style;5==p.type?this.visitKeyframes(p,e):(e.incrementTime(o.duration),this.visitStyle(p,e),l.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const o=e.currentTimeline,l=e.currentAnimateTimings;!l&&o.getCurrentStyleProperties().length&&o.forwardFrame();const p=l&&l.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(p):o.setStyles(r.styles,p,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const o=e.currentAnimateTimings,l=e.currentTimeline.duration,p=o.duration,x=e.createSubContext().currentTimeline;x.easing=o.easing,r.styles.forEach(k=>{x.forwardTime((k.offset||0)*p),x.setStyles(k.styles,k.easing,e.errors,e.options),x.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(x),e.transformIntoNewTimeline(l+p),e.previousNode=r}visitQuery(r,e){const o=e.currentTimeline.currentTime,l=r.options||{},p=l.delay?U_(l.delay):0;p&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=rC);let b=o;const x=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!l.optional,e.errors);e.currentQueryTotal=x.length;let k=null;x.forEach((K,he)=>{e.currentQueryIndex=he;const Ne=e.createSubContext(r.options,K);p&&Ne.delayNextStep(p),K===e.element&&(k=Ne.currentTimeline),nl(this,r.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Ne.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(b),k&&(e.currentTimeline.mergeTimelineCollectedStyles(k),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const o=e.parentContext,l=e.currentTimeline,p=r.timings,b=Math.abs(p.duration),x=b*(e.currentQueryTotal-1);let k=b*e.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":k=x-k;break;case"full":k=o.currentStaggerTime}const he=e.currentTimeline;k&&he.delayNextStep(k);const Ne=he.currentTime;nl(this,r.animation,e),e.previousNode=r,o.currentStaggerTime=l.currentTime-Ne+(l.startTime-o.currentTimeline.startTime)}}const rC={};class TT{constructor(r,e,o,l,p,b,x,k){this._driver=r,this.element=e,this.subInstructions=o,this._enterClassName=l,this._leaveClassName=p,this.errors=b,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=rC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new iC(this._driver,e,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const o=r;let l=this.options;null!=o.duration&&(l.duration=U_(o.duration)),null!=o.delay&&(l.delay=U_(o.delay));const p=o.params;if(p){let b=l.params;b||(b=this.options.params={}),Object.keys(p).forEach(x=>{(!e||!b.hasOwnProperty(x))&&(b[x]=zb(p[x],b,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const o=r.params={};Object.keys(e).forEach(l=>{o[l]=e[l]})}}return r}createSubContext(r=null,e,o){const l=e||this.element,p=new TT(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,o||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(r),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(r){return this.previousNode=rC,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,o){const l={duration:null!=e?e:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},p=new cP(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,l,r.stretchStartingKeyframe);return this.timelines.push(p),l}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,o,l,p,b){let x=[];if(l&&x.push(this.element),r.length>0){r=(r=r.replace(iP,"."+this._enterClassName)).replace(sP,"."+this._leaveClassName);let K=this._driver.query(this.element,r,1!=o);0!==o&&(K=o<0?K.slice(K.length+o,K.length):K.slice(0,o)),x.push(...K)}return!p&&0==x.length&&b.push(function gO(n){return new t.vHH(3014,ni)}()),x}}class iC{constructor(r,e,o,l){this._driver=r,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new iC(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles[r]=e,this._globalTimelineStyles[r]=e,this._styleSummary[r]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||Xa,this._currentKeyframe[e]=Xa}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,o,l){e&&(this._previousKeyframe.easing=e);const p=l&&l.params||{},b=function uP(n,r){const e={};let o;return n.forEach(l=>{"*"===l?(o=o||Object.keys(r),o.forEach(p=>{e[p]=Xa})):Xg(l,!1,e)}),e}(r,this._globalTimelineStyles);Object.keys(b).forEach(x=>{const k=zb(b[x],p,o);this._pendingStyles[x]=k,this._localTimelineStyles.hasOwnProperty(x)||(this._backFill[x]=this._globalTimelineStyles.hasOwnProperty(x)?this._globalTimelineStyles[x]:Xa),this._updateStyle(x,k)})}applyStylesToKeyframe(){const r=this._pendingStyles,e=Object.keys(r);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const e=this._localTimelineStyles[r];this._pendingStyles[r]=e,this._updateStyle(r,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(e=>{const o=this._styleSummary[e],l=r._styleSummary[e];(!o||l.time>o.time)&&this._updateStyle(e,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((x,k)=>{const K=Xg(x,!0);Object.keys(K).forEach(he=>{const Ne=K[he];"!"==Ne?r.add(he):Ne==Xa&&e.add(he)}),o||(K.offset=k/this.duration),l.push(K)});const p=r.size?Kb(r.values()):[],b=e.size?Kb(e.values()):[];if(o){const x=l[0],k=ly(x);x.offset=0,k.offset=1,l=[x,k]}return CT(this.element,l,p,b,this.duration,this.startTime,this.easing,!1)}}class cP extends iC{constructor(r,e,o,l,p,b,x=!1){super(r,e,b.delay),this.keyframes=o,this.preStyleProps=l,this.postStyleProps=p,this._stretchStartingKeyframe=x,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:o,easing:l}=this.timings;if(this._stretchStartingKeyframe&&e){const p=[],b=o+e,x=e/b,k=Xg(r[0],!1);k.offset=0,p.push(k);const K=Xg(r[0],!1);K.offset=SD(x),p.push(K);const he=r.length-1;for(let Ne=1;Ne<=he;Ne++){let Je=Xg(r[Ne],!1);Je.offset=SD((e+Je.offset*o)/b),p.push(Je)}o=b,e=0,l="",r=p}return CT(this.element,r,this.preStyleProps,this.postStyleProps,o,e,l,!0)}}function SD(n,r=3){const e=Math.pow(10,r-1);return Math.round(n*e)/e}class ET{}class lP extends ET{normalizePropertyName(r,e){return yT(r)}normalizeStyleValue(r,e,o,l){let p="";const b=o.toString().trim();if(dP[e]&&0!==o&&"0"!==o)if("number"==typeof o)p="px";else{const x=o.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&l.push(function iO(n,r){return new t.vHH(3005,ni)}())}return b+p}}const dP=(()=>function hP(n){const r={};return n.forEach(e=>r[e]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function xD(n,r,e,o,l,p,b,x,k,K,he,Ne,Je){return{type:0,element:n,triggerName:r,isRemovalTransition:l,fromState:e,fromStyles:p,toState:o,toStyles:b,timelines:x,queriedElements:k,preStyleProps:K,postStyleProps:he,totalTime:Ne,errors:Je}}const DT={};class AD{constructor(r,e,o){this._triggerName=r,this.ast=e,this._stateStyles=o}match(r,e,o,l){return function fP(n,r,e,o,l){return n.some(p=>p(r,e,o,l))}(this.ast.matchers,r,e,o,l)}buildStyles(r,e,o){const l=this._stateStyles["*"],p=this._stateStyles[r],b=l?l.buildStyles(e,o):{};return p?p.buildStyles(e,o):b}build(r,e,o,l,p,b,x,k,K,he){const Ne=[],Je=this.ast.options&&this.ast.options.params||DT,ft=this.buildStyles(o,x&&x.params||DT,Ne),bt=k&&k.params||DT,Kt=this.buildStyles(l,bt,Ne),ln=new Set,bn=new Map,cr=new Map,Sn="void"===l,fr={params:Object.assign(Object.assign({},Je),bt)},gr=he?[]:wT(r,e,this.ast.animation,p,b,ft,Kt,fr,K,Ne);let Dr=0;if(gr.forEach(Zi=>{Dr=Math.max(Zi.duration+Zi.delay,Dr)}),Ne.length)return xD(e,this._triggerName,o,l,Sn,ft,Kt,[],[],bn,cr,Dr,Ne);gr.forEach(Zi=>{const Wi=Zi.element,_o=tl(bn,Wi,{});Zi.preStyleProps.forEach(ls=>_o[ls]=!0);const Da=tl(cr,Wi,{});Zi.postStyleProps.forEach(ls=>Da[ls]=!0),Wi!==e&&ln.add(Wi)});const Ur=Kb(ln.values());return xD(e,this._triggerName,o,l,Sn,ft,Kt,gr,Ur,bn,cr,Dr)}}class pP{constructor(r,e,o){this.styles=r,this.defaultParams=e,this.normalizer=o}buildStyles(r,e){const o={},l=ly(this.defaultParams);return Object.keys(r).forEach(p=>{const b=r[p];null!=b&&(l[p]=b)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const b=p;Object.keys(b).forEach(x=>{let k=b[x];k.length>1&&(k=zb(k,l,e));const K=this.normalizer.normalizePropertyName(x,e);k=this.normalizer.normalizeStyleValue(x,K,k,e),o[K]=k})}}),o}}class mP{constructor(r,e,o){this.name=r,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(l=>{this.states[l.name]=new pP(l.style,l.options&&l.options.params||{},o)}),ID(this.states,"true","1"),ID(this.states,"false","0"),e.transitions.forEach(l=>{this.transitionFactories.push(new AD(r,l,this.states))}),this.fallbackTransition=function _P(n,r,e){return new AD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,x)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,o,l){return this.transitionFactories.find(b=>b.match(r,e,o,l))||null}matchStyles(r,e,o){return this.fallbackTransition.buildStyles(r,e,o)}}function ID(n,r,e){n.hasOwnProperty(r)?n.hasOwnProperty(e)||(n[e]=n[r]):n.hasOwnProperty(e)&&(n[r]=n[e])}const yP=new nC;class vP{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,e){const o=[],p=vT(this._driver,e,o,[]);if(o.length)throw function wO(n){return new t.vHH(3503,ni)}();this._animations[r]=p}_buildPlayer(r,e,o){const l=r.element,p=aD(0,this._normalizer,0,r.keyframes,e,o);return this._driver.animate(l,p,r.duration,r.delay,r.easing,[],!0)}create(r,e,o={}){const l=[],p=this._animations[r];let b;const x=new Map;if(p?(b=wT(this._driver,e,p,pT,$b,{},{},o,yP,l),b.forEach(he=>{const Ne=tl(x,he.element,{});he.postStyleProps.forEach(Je=>Ne[Je]=null)})):(l.push(function TO(){return new t.vHH(3300,ni)}()),b=[]),l.length)throw function EO(n){return new t.vHH(3504,ni)}();x.forEach((he,Ne)=>{Object.keys(he).forEach(Je=>{he[Je]=this._driver.computeStyle(Ne,Je,Xa)})});const K=Qg(b.map(he=>{const Ne=x.get(he.element);return this._buildPlayer(he,{},Ne)}));return this._playersById[r]=K,K.onDestroy(()=>this.destroy(r)),this.players.push(K),K}destroy(r){const e=this._getPlayer(r);e.destroy(),delete this._playersById[r];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(r){const e=this._playersById[r];if(!e)throw function DO(n){return new t.vHH(3301,ni)}();return e}listen(r,e,o,l){const p=lT(e,"","","");return cT(this._getPlayer(r),o,p,l),()=>{}}command(r,e,o,l){if("register"==o)return void this.register(r,l[0]);if("create"==o)return void this.create(r,e,l[0]||{});const p=this._getPlayer(r);switch(o){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(r)}}}const MD="ng-animate-queued",ST="ng-animate-disabled",EP=[],OD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},DP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Wl="__ng_removed";class xT{constructor(r,e=""){this.namespaceId=e;const o=r&&r.hasOwnProperty("value");if(this.value=function IP(n){return null!=n?n:null}(o?r.value:r),o){const p=ly(r);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const o=this.options.params;Object.keys(e).forEach(l=>{null==o[l]&&(o[l]=e[l])})}}}const Pv="void",AT=new xT(Pv);class SP{constructor(r,e,o){this.id=r,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,zl(e,this._hostClassName)}listen(r,e,o,l){if(!this._triggers.hasOwnProperty(e))throw function SO(n,r){return new t.vHH(3302,ni)}();if(null==o||0==o.length)throw function xO(n){return new t.vHH(3303,ni)}();if(!function MP(n){return"start"==n||"done"==n}(o))throw function AO(n,r){return new t.vHH(3400,ni)}();const p=tl(this._elementListeners,r,[]),b={name:e,phase:o,callback:l};p.push(b);const x=tl(this._engine.statesByElement,r,{});return x.hasOwnProperty(e)||(zl(r,qb),zl(r,qb+"-"+e),x[e]=AT),()=>{this._engine.afterFlush(()=>{const k=p.indexOf(b);k>=0&&p.splice(k,1),this._triggers[e]||delete x[e]})}}register(r,e){return!this._triggers[r]&&(this._triggers[r]=e,!0)}_getTrigger(r){const e=this._triggers[r];if(!e)throw function IO(n){return new t.vHH(3401,ni)}();return e}trigger(r,e,o,l=!0){const p=this._getTrigger(e),b=new IT(this.id,e,r);let x=this._engine.statesByElement.get(r);x||(zl(r,qb),zl(r,qb+"-"+e),this._engine.statesByElement.set(r,x={}));let k=x[e];const K=new xT(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&k&&K.absorbOptions(k.options),x[e]=K,k||(k=AT),K.value!==Pv&&k.value===K.value){if(!function NP(n,r){const e=Object.keys(n),o=Object.keys(r);if(e.length!=o.length)return!1;for(let l=0;l<e.length;l++){const p=e[l];if(!r.hasOwnProperty(p)||n[p]!==r[p])return!1}return!0}(k.params,K.params)){const bt=[],Kt=p.matchStyles(k.value,k.params,bt),ln=p.matchStyles(K.value,K.params,bt);bt.length?this._engine.reportError(bt):this._engine.afterFlush(()=>{B_(r,Kt),tf(r,ln)})}return}const Je=tl(this._engine.playersByElement,r,[]);Je.forEach(bt=>{bt.namespaceId==this.id&&bt.triggerName==e&&bt.queued&&bt.destroy()});let We=p.matchTransition(k.value,K.value,r,K.params),ft=!1;if(!We){if(!l)return;We=p.fallbackTransition,ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:We,fromState:k,toState:K,player:b,isFallbackTransition:ft}),ft||(zl(r,MD),b.onStart(()=>{dy(r,MD)})),b.onDone(()=>{let bt=this.players.indexOf(b);bt>=0&&this.players.splice(bt,1);const Kt=this._engine.playersByElement.get(r);if(Kt){let ln=Kt.indexOf(b);ln>=0&&Kt.splice(ln,1)}}),this.players.push(b),Je.push(b),b}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((e,o)=>{delete e[r]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(l=>l.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const o=this._engine.driver.query(r,Zb,!0);o.forEach(l=>{if(l[Wl])return;const p=this._engine.fetchNamespacesByElement(l);p.size?p.forEach(b=>b.triggerLeaveAnimation(l,e,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(r,e,o,l){const p=this._engine.statesByElement.get(r),b=new Map;if(p){const x=[];if(Object.keys(p).forEach(k=>{if(b.set(k,p[k].value),this._triggers[k]){const K=this.trigger(r,k,Pv,l);K&&x.push(K)}}),x.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,b),o&&Qg(x).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(e&&o){const l=new Set;e.forEach(p=>{const b=p.name;if(l.has(b))return;l.add(b);const k=this._triggers[b].fallbackTransition,K=o[b]||AT,he=new xT(Pv),Ne=new IT(this.id,b,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:b,transition:k,fromState:K,toState:he,player:Ne,isFallbackTransition:!0})})}}removeNode(r,e){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let l=!1;if(o.totalAnimations){const p=o.players.length?o.playersByQueriedElement.get(r):[];if(p&&p.length)l=!0;else{let b=r;for(;b=b.parentNode;)if(o.statesByElement.get(b)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(r),l)o.markElementAsRemoved(this.id,r,!1,e);else{const p=r[Wl];(!p||p===OD)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,e))}}insertNode(r,e){zl(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(o=>{const l=o.player;if(l.destroyed)return;const p=o.element,b=this._elementListeners.get(p);b&&b.forEach(x=>{if(x.name==o.triggerName){const k=lT(p,o.triggerName,o.fromState.value,o.toState.value);k._data=r,cT(o.player,x.phase,k,x.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):e.push(o)}),this._queue=[],e.sort((o,l)=>{const p=o.transition.ast.depCount,b=l.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(o.element,l.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(o=>o.element===r)||e,e}}class xP{constructor(r,e,o){this.bodyNode=r,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,p)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,e){const o=new SP(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,e){const o=this._namespaceList,l=this.namespacesByHostElement,p=o.length-1;if(p>=0){let b=!1;if(void 0!==this.driver.getParentElement){let x=this.driver.getParentElement(e);for(;x;){const k=l.get(x);if(k){const K=o.indexOf(k);o.splice(K+1,0,r),b=!0;break}x=this.driver.getParentElement(x)}}else for(let x=p;x>=0;x--)if(this.driver.containsElement(o[x].hostElement,e)){o.splice(x+1,0,r),b=!0;break}b||o.unshift(r)}else o.push(r);return l.set(e,r),r}register(r,e){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,e)),o}registerTrigger(r,e,o){let l=this._namespaceLookup[r];l&&l.register(e,o)&&this.totalAnimations++}destroy(r,e){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const l=this._namespaceList.indexOf(o);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,o=this.statesByElement.get(r);if(o){const l=Object.keys(o);for(let p=0;p<l.length;p++){const b=o[l[p]].namespaceId;if(b){const x=this._fetchNamespace(b);x&&e.add(x)}}}return e}trigger(r,e,o,l){if(oC(e)){const p=this._fetchNamespace(r);if(p)return p.trigger(e,o,l),!0}return!1}insertNode(r,e,o,l){if(!oC(e))return;const p=e[Wl];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(e);b>=0&&this.collectedLeaveElements.splice(b,1)}if(r){const b=this._fetchNamespace(r);b&&b.insertNode(e,o)}l&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),zl(r,ST)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),dy(r,ST))}removeNode(r,e,o,l){if(oC(e)){const p=r?this._fetchNamespace(r):null;if(p?p.removeNode(e,l):this.markElementAsRemoved(r,e,!1,l),o){const b=this.namespacesByHostElement.get(e);b&&b.id!==r&&b.removeNode(e,l)}}else this._onRemovalComplete(e,l)}markElementAsRemoved(r,e,o,l,p){this.collectedLeaveElements.push(e),e[Wl]={namespaceId:r,setForRemoval:l,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:p}}listen(r,e,o,l,p){return oC(e)?this._fetchNamespace(r).listen(e,o,l,p):()=>{}}_buildInstruction(r,e,o,l,p){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,l,r.fromState.options,r.toState.options,e,p)}destroyInnerAnimations(r){let e=this.driver.query(r,Zb,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,gT,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Qg(this.players).onDone(()=>r());r()})}processLeaveNode(r){var e;const o=r[Wl];if(o&&o.setForRemoval){if(r[Wl]=OD,o.namespaceId){this.destroyInnerAnimations(r);const l=this._fetchNamespace(o.namespaceId);l&&l.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}(null===(e=r.classList)||void 0===e?void 0:e.contains(ST))&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,l)=>this._balanceNamespaceList(o,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)zl(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,r)}finally{for(let l=0;l<o.length;l++)o[l]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?Qg(e).onDone(()=>{o.forEach(l=>l())}):o.forEach(l=>l())}}reportError(r){throw function MO(n){return new t.vHH(3402,ni)}()}_flushAnimations(r,e){const o=new nC,l=[],p=new Map,b=[],x=new Map,k=new Map,K=new Map,he=new Set;this.disabledNodes.forEach(xn=>{he.add(xn);const $n=this.driver.query(xn,".ng-animate-queued",!0);for(let dr=0;dr<$n.length;dr++)he.add($n[dr])});const Ne=this.bodyNode,Je=Array.from(this.statesByElement.keys()),We=RD(Je,this.collectedEnterElements),ft=new Map;let bt=0;We.forEach((xn,$n)=>{const dr=pT+bt++;ft.set($n,dr),xn.forEach(kr=>zl(kr,dr))});const Kt=[],ln=new Set,bn=new Set;for(let xn=0;xn<this.collectedLeaveElements.length;xn++){const $n=this.collectedLeaveElements[xn],dr=$n[Wl];dr&&dr.setForRemoval&&(Kt.push($n),ln.add($n),dr.hasAnimation?this.driver.query($n,".ng-star-inserted",!0).forEach(kr=>ln.add(kr)):bn.add($n))}const cr=new Map,Sn=RD(Je,Array.from(ln));Sn.forEach((xn,$n)=>{const dr=$b+bt++;cr.set($n,dr),xn.forEach(kr=>zl(kr,dr))}),r.push(()=>{We.forEach((xn,$n)=>{const dr=ft.get($n);xn.forEach(kr=>dy(kr,dr))}),Sn.forEach((xn,$n)=>{const dr=cr.get($n);xn.forEach(kr=>dy(kr,dr))}),Kt.forEach(xn=>{this.processLeaveNode(xn)})});const fr=[],gr=[];for(let xn=this._namespaceList.length-1;xn>=0;xn--)this._namespaceList[xn].drainQueuedTransitions(e).forEach(dr=>{const kr=dr.player,Lo=dr.element;if(fr.push(kr),this.collectedEnterElements.length){const ms=Lo[Wl];if(ms&&ms.setForMove){if(ms.previousTriggersValues&&ms.previousTriggersValues.has(dr.triggerName)){const Sc=ms.previousTriggersValues.get(dr.triggerName),Kl=this.statesByElement.get(dr.element);Kl&&Kl[dr.triggerName]&&(Kl[dr.triggerName].value=Sc)}return void kr.destroy()}}const fu=!Ne||!this.driver.containsElement(Ne,Lo),Ms=cr.get(Lo),rl=ft.get(Lo),Ci=this._buildInstruction(dr,o,rl,Ms,fu);if(Ci.errors&&Ci.errors.length)return void gr.push(Ci);if(fu)return kr.onStart(()=>B_(Lo,Ci.fromStyles)),kr.onDestroy(()=>tf(Lo,Ci.toStyles)),void l.push(kr);if(dr.isFallbackTransition)return kr.onStart(()=>B_(Lo,Ci.fromStyles)),kr.onDestroy(()=>tf(Lo,Ci.toStyles)),void l.push(kr);const Xd=[];Ci.timelines.forEach(ms=>{ms.stretchStartingKeyframe=!0,this.disabledNodes.has(ms.element)||Xd.push(ms)}),Ci.timelines=Xd,o.append(Lo,Ci.timelines),b.push({instruction:Ci,player:kr,element:Lo}),Ci.queriedElements.forEach(ms=>tl(x,ms,[]).push(kr)),Ci.preStyleProps.forEach((ms,Sc)=>{const Kl=Object.keys(ms);if(Kl.length){let vp=k.get(Sc);vp||k.set(Sc,vp=new Set),Kl.forEach(G_=>vp.add(G_))}}),Ci.postStyleProps.forEach((ms,Sc)=>{const Kl=Object.keys(ms);let vp=K.get(Sc);vp||K.set(Sc,vp=new Set),Kl.forEach(G_=>vp.add(G_))})});if(gr.length){const xn=[];gr.forEach($n=>{xn.push(function OO(n,r){return new t.vHH(3505,ni)}())}),fr.forEach($n=>$n.destroy()),this.reportError(xn)}const Dr=new Map,Ur=new Map;b.forEach(xn=>{const $n=xn.element;o.has($n)&&(Ur.set($n,$n),this._beforeAnimationBuild(xn.player.namespaceId,xn.instruction,Dr))}),l.forEach(xn=>{const $n=xn.element;this._getPreviousPlayers($n,!1,xn.namespaceId,xn.triggerName,null).forEach(kr=>{tl(Dr,$n,[]).push(kr),kr.destroy()})});const Zi=Kt.filter(xn=>FD(xn,k,K)),Wi=new Map;ND(Wi,this.driver,bn,K,Xa).forEach(xn=>{FD(xn,k,K)&&Zi.push(xn)});const Da=new Map;We.forEach((xn,$n)=>{ND(Da,this.driver,new Set(xn),k,"!")}),Zi.forEach(xn=>{const $n=Wi.get(xn),dr=Da.get(xn);Wi.set(xn,Object.assign(Object.assign({},$n),dr))});const ls=[],em=[],tm={};b.forEach(xn=>{const{element:$n,player:dr,instruction:kr}=xn;if(o.has($n)){if(he.has($n))return dr.onDestroy(()=>tf($n,kr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(kr.totalTime),void l.push(dr);let Lo=tm;if(Ur.size>1){let Ms=$n;const rl=[];for(;Ms=Ms.parentNode;){const Ci=Ur.get(Ms);if(Ci){Lo=Ci;break}rl.push(Ms)}rl.forEach(Ci=>Ur.set(Ci,Lo))}const fu=this._buildAnimation(dr.namespaceId,kr,Dr,p,Da,Wi);if(dr.setRealPlayer(fu),Lo===tm)ls.push(dr);else{const Ms=this.playersByElement.get(Lo);Ms&&Ms.length&&(dr.parentPlayer=Qg(Ms)),l.push(dr)}}else B_($n,kr.fromStyles),dr.onDestroy(()=>tf($n,kr.toStyles)),em.push(dr),he.has($n)&&l.push(dr)}),em.forEach(xn=>{const $n=p.get(xn.element);if($n&&$n.length){const dr=Qg($n);xn.setRealPlayer(dr)}}),l.forEach(xn=>{xn.parentPlayer?xn.syncPlayerEvents(xn.parentPlayer):xn.destroy()});for(let xn=0;xn<Kt.length;xn++){const $n=Kt[xn],dr=$n[Wl];if(dy($n,$b),dr&&dr.hasAnimation)continue;let kr=[];if(x.size){let fu=x.get($n);fu&&fu.length&&kr.push(...fu);let Ms=this.driver.query($n,gT,!0);for(let rl=0;rl<Ms.length;rl++){let Ci=x.get(Ms[rl]);Ci&&Ci.length&&kr.push(...Ci)}}const Lo=kr.filter(fu=>!fu.destroyed);Lo.length?OP(this,$n,Lo):this.processLeaveNode($n)}return Kt.length=0,ls.forEach(xn=>{this.players.push(xn),xn.onDone(()=>{xn.destroy();const $n=this.players.indexOf(xn);this.players.splice($n,1)}),xn.play()}),ls}elementContainsData(r,e){let o=!1;const l=e[Wl];return l&&l.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(r).elementContainsData(e)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,o,l,p){let b=[];if(e){const x=this.playersByQueriedElement.get(r);x&&(b=x)}else{const x=this.playersByElement.get(r);if(x){const k=!p||p==Pv;x.forEach(K=>{K.queued||!k&&K.triggerName!=l||b.push(K)})}}return(o||l)&&(b=b.filter(x=>!(o&&o!=x.namespaceId||l&&l!=x.triggerName))),b}_beforeAnimationBuild(r,e,o){const p=e.element,b=e.isRemovalTransition?void 0:r,x=e.isRemovalTransition?void 0:e.triggerName;for(const k of e.timelines){const K=k.element,he=K!==p,Ne=tl(o,K,[]);this._getPreviousPlayers(K,he,b,x,e.toState).forEach(We=>{const ft=We.getRealPlayer();ft.beforeDestroy&&ft.beforeDestroy(),We.destroy(),Ne.push(We)})}B_(p,e.fromStyles)}_buildAnimation(r,e,o,l,p,b){const x=e.triggerName,k=e.element,K=[],he=new Set,Ne=new Set,Je=e.timelines.map(ft=>{const bt=ft.element;he.add(bt);const Kt=bt[Wl];if(Kt&&Kt.removedBeforeQueried)return new Ud(ft.duration,ft.delay);const ln=bt!==k,bn=function PP(n){const r=[];return kD(n,r),r}((o.get(bt)||EP).map(Dr=>Dr.getRealPlayer())).filter(Dr=>!!Dr.element&&Dr.element===bt),cr=p.get(bt),Sn=b.get(bt),fr=aD(0,this._normalizer,0,ft.keyframes,cr,Sn),gr=this._buildPlayer(ft,fr,bn);if(ft.subTimeline&&l&&Ne.add(bt),ln){const Dr=new IT(r,x,bt);Dr.setRealPlayer(gr),K.push(Dr)}return gr});K.forEach(ft=>{tl(this.playersByQueriedElement,ft.element,[]).push(ft),ft.onDone(()=>function AP(n,r,e){let o;if(n instanceof Map){if(o=n.get(r),o){if(o.length){const l=o.indexOf(e);o.splice(l,1)}0==o.length&&n.delete(r)}}else if(o=n[r],o){if(o.length){const l=o.indexOf(e);o.splice(l,1)}0==o.length&&delete n[r]}return o}(this.playersByQueriedElement,ft.element,ft))}),he.forEach(ft=>zl(ft,_D));const We=Qg(Je);return We.onDestroy(()=>{he.forEach(ft=>dy(ft,_D)),tf(k,e.toStyles)}),Ne.forEach(ft=>{tl(l,ft,[]).push(We)}),We}_buildPlayer(r,e,o){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,o):new Ud(r.duration,r.delay)}}class IT{constructor(r,e,o){this.namespaceId=r,this.triggerName=e,this.element=o,this._player=new Ud,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>cT(r,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){tl(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function oC(n){return n&&1===n.nodeType}function PD(n,r){const e=n.style.display;return n.style.display=null!=r?r:"none",e}function ND(n,r,e,o,l){const p=[];e.forEach(k=>p.push(PD(k)));const b=[];o.forEach((k,K)=>{const he={};k.forEach(Ne=>{const Je=he[Ne]=r.computeStyle(K,Ne,l);(!Je||0==Je.length)&&(K[Wl]=DP,b.push(K))}),n.set(K,he)});let x=0;return e.forEach(k=>PD(k,p[x++])),b}function RD(n,r){const e=new Map;if(n.forEach(x=>e.set(x,[])),0==r.length)return e;const l=new Set(r),p=new Map;function b(x){if(!x)return 1;let k=p.get(x);if(k)return k;const K=x.parentNode;return k=e.has(K)?K:l.has(K)?1:b(K),p.set(x,k),k}return r.forEach(x=>{const k=b(x);1!==k&&e.get(k).push(x)}),e}function zl(n,r){var e;null===(e=n.classList)||void 0===e||e.add(r)}function dy(n,r){var e;null===(e=n.classList)||void 0===e||e.remove(r)}function OP(n,r,e){Qg(e).onDone(()=>n.processLeaveNode(r))}function kD(n,r){for(let e=0;e<n.length;e++){const o=n[e];o instanceof tp?kD(o.players,r):r.push(o)}}function FD(n,r,e){const o=e.get(n);if(!o)return!1;let l=r.get(n);return l?o.forEach(p=>l.add(p)):r.set(n,o),e.delete(n),!0}class sC{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(l,p)=>{},this._transitionEngine=new xP(r,e,o),this._timelineEngine=new vP(r,e,o),this._transitionEngine.onRemovalComplete=(l,p)=>this.onRemovalComplete(l,p)}registerTrigger(r,e,o,l,p){const b=r+"-"+l;let x=this._triggerCache[b];if(!x){const k=[],he=vT(this._driver,p,k,[]);if(k.length)throw function bO(n,r){return new t.vHH(3404,ni)}();x=function gP(n,r,e){return new mP(n,r,e)}(l,he,this._normalizer),this._triggerCache[b]=x}this._transitionEngine.registerTrigger(e,l,x)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,o,l){this._transitionEngine.insertNode(r,e,o,l)}onRemove(r,e,o,l){this._transitionEngine.removeNode(r,e,l||!1,o)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,o,l){if("@"==o.charAt(0)){const[p,b]=cD(o);this._timelineEngine.command(p,e,b,l)}else this._transitionEngine.trigger(r,e,o,l)}listen(r,e,o,l,p){if("@"==o.charAt(0)){const[b,x]=cD(o);return this._timelineEngine.listen(b,e,x,p)}return this._transitionEngine.listen(r,e,o,l,p)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let kP=(()=>{class n{constructor(e,o,l){this._element=e,this._startStyles=o,this._endStyles=l,this._state=0;let p=n.initialStylesByElement.get(e);p||n.initialStylesByElement.set(e,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&tf(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tf(this._element,this._initialStyles),this._endStyles&&(tf(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(B_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(B_(this._element,this._endStyles),this._endStyles=null),tf(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MT(n){let r=null;const e=Object.keys(n);for(let o=0;o<e.length;o++){const l=e[o];FP(l)&&(r=r||{},r[l]=n[l])}return r}function FP(n){return"display"===n||"position"===n}class LD{constructor(r,e,o,l){this.element=r,this.keyframes=e,this.options=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,e,o){return r.animate(e,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(o=>{"offset"!=o&&(r[o]=this._finished?e[o]:wD(this.element,o))})}this.currentSnapshot=r}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class LP{validateStyleProperty(r){return hD(r)}matchesElement(r,e){return!1}containsElement(r,e){return fD(r,e)}getParentElement(r){return hT(r)}query(r,e,o){return pD(r,e,o)}computeStyle(r,e,o){return window.getComputedStyle(r)[e]}animate(r,e,o,l,p,b=[]){const k={duration:o,delay:l,fill:0==l?"both":"forwards"};p&&(k.easing=p);const K={},he=b.filter(Je=>Je instanceof LD);(function jO(n,r){return 0===n||0===r})(o,l)&&he.forEach(Je=>{let We=Je.currentSnapshot;Object.keys(We).forEach(ft=>K[ft]=We[ft])}),e=function GO(n,r,e){const o=Object.keys(e);if(o.length&&r.length){let p=r[0],b=[];if(o.forEach(x=>{p.hasOwnProperty(x)||b.push(x),p[x]=e[x]}),b.length)for(var l=1;l<r.length;l++){let x=r[l];b.forEach(function(k){x[k]=wD(n,k)})}}return r}(r,e=e.map(Je=>Xg(Je,!1)),K);const Ne=function RP(n,r){let e=null,o=null;return Array.isArray(r)&&r.length?(e=MT(r[0]),r.length>1&&(o=MT(r[r.length-1]))):r&&(e=MT(r)),e||o?new kP(n,e,o):null}(r,e);return new LD(r,e,k,Ne)}}let UP=(()=>{class n extends lg{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(e)?T0(e):e;return UD(this._renderer,null,o,"register",[l]),new BP(o,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class BP extends class Bv{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new VP(this._id,r,e||{},this._renderer)}}class VP{constructor(r,e,o,l){this.id=r,this.element=e,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return UD(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,e;return null!==(e=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==e?e:0}}function UD(n,r,e,o,l){return n.setProperty(r,`@@${e}:${o}`,l)}const BD="@.disabled";let jP=(()=>{class n{constructor(e,o,l){this.delegate=e,this.engine=o,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(p,b)=>{const x=null==b?void 0:b.parentNode(p);x&&b.removeChild(x,p)}}createRenderer(e,o){const p=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let he=this._rendererCache.get(p);return he||(he=new VD("",p,this.engine),this._rendererCache.set(p,he)),he}const b=o.id,x=o.id+"-"+this._currentId;this._currentId++,this.engine.register(x,e);const k=he=>{Array.isArray(he)?he.forEach(k):this.engine.registerTrigger(b,x,e,he.name,he)};return o.data.animation.forEach(k),new GP(this,x,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,l){e>=0&&e<this._microtaskId?this._zone.run(()=>o(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[b,x]=p;b(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG(sC),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class VD{constructor(r,e,o){this.namespaceId=r,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,o,l=!0){this.delegate.insertBefore(r,e,o),this.engine.onInsert(this.namespaceId,e,r,l)}removeChild(r,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,o,l){this.delegate.setAttribute(r,e,o,l)}removeAttribute(r,e,o){this.delegate.removeAttribute(r,e,o)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,o,l){this.delegate.setStyle(r,e,o,l)}removeStyle(r,e,o){this.delegate.removeStyle(r,e,o)}setProperty(r,e,o){"@"==e.charAt(0)&&e==BD?this.disableAnimations(r,!!o):this.delegate.setProperty(r,e,o)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,o){return this.delegate.listen(r,e,o)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class GP extends VD{constructor(r,e,o,l){super(e,o,l),this.factory=r,this.namespaceId=e}setProperty(r,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BD?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,e.substr(1),o):this.delegate.setProperty(r,e,o)}listen(r,e,o){if("@"==e.charAt(0)){const l=function HP(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(r);let p=e.substr(1),b="";return"@"!=p.charAt(0)&&([p,b]=function $P(n){const r=n.indexOf(".");return[n.substring(0,r),n.substr(r+1)]}(p)),this.engine.listen(this.namespaceId,l,p,b,x=>{this.factory.scheduleListenerCallback(x._data||-1,o,x)})}return this.delegate.listen(r,e,o)}}let qP=(()=>{class n extends sC{constructor(e,o,l){super(e.body,o,l)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(fT),t.LFG(ET))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const jD=new t.OlP("AnimationModuleType"),GD=[{provide:lg,useClass:UP},{provide:ET,useFactory:function ZP(){return new lP}},{provide:sC,useClass:qP},{provide:t.FYo,useFactory:function WP(n,r,e){return new jP(n,r,e)},deps:[oi,sC,t.R0b]}],HD=[{provide:fT,useFactory:()=>new LP},{provide:jD,useValue:"BrowserAnimations"},...GD],zP=[{provide:fT,useClass:gD},{provide:jD,useValue:"NoopAnimations"},...GD];let KP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?zP:HD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:HD,imports:[Ua]}),n})();var $D=O(3692),qD=O(2292);const ZD={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};!function qn(n,r,e){(0,t.dwT)(n,r,e)}($S,"es");let YP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[P0]}),n.\u0275inj=t.cJS({providers:[ef,iT,{provide:t.soG,useValue:"es"},{provide:Hd.Dh,useValue:ZD.firebaseConfig}],imports:[[Ua,KP,GS,Ee,qo,Yv,bf,D,qm.forRoot(QM),jd,i_.forRoot({defaultLanguage:Ga.q.defaultLanguage}),(0,$D.hX)(()=>(0,$D.ZF)(ZD.firebaseConfig)),(0,qD.Cm)(()=>(0,qD.ad)())]]}),n})();oc().bootstrapModule(YP).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(nt,A,O)=>{"use strict";O(8583);const C="undefined"!=typeof globalThis&&globalThis,E="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=C||"undefined"!=typeof global&&global||E||N,$=function(ne,...ce){if($.translate){const $e=$.translate(ne,ce);ne=$e[0],ce=$e[1]}let Ye=J(ne[0],ne.raw[0]);for(let $e=1;$e<ne.length;$e++)Ye+=ce[$e-1]+J(ne[$e],ne.raw[$e]);return Ye};function J(ne,ce){return":"===ce.charAt(0)?ne.substring(function z(ne,ce){for(let Ye=1,$e=1;Ye<ne.length;Ye++,$e++)if("\\"===ce[$e])$e++;else if(":"===ne[Ye])return Ye;throw new Error(`Unterminated $localize metadata block in "${ce}".`)}(ne,ce)+1):ne}j.$localize=$},5867:(nt,A,O)=>{"use strict";O.d(A,{C6:()=>t.getApps,KN:()=>t.registerVersion,Mq:()=>t.getApp,ZF:()=>t.initializeApp});var t=O(9681);(0,t.registerVersion)("firebase","9.6.9","app")},127:(nt,A,O)=>{"use strict";O.d(A,{Z:()=>t.Z});var t=O(3942);t.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(nt,A,O)=>{"use strict";O.d(A,{ET:()=>wc,hJ:()=>r_,oe:()=>tc,JU:()=>vc,ad:()=>op,cf:()=>Ng,pl:()=>Pg,qs:()=>V0});var W,t=O(5861),C=O(9681),E=O(4859),N=O(1877),M=O(2090),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$={},J=J||{},z=j||self;function ne(){}function ce(u){var i=typeof u;return"array"==(i="object"!=i?i:u?Array.isArray(u)?"array":i:"null")||"object"==i&&"number"==typeof u.length}function Ye(u){var i=typeof u;return"object"==i&&null!=u||"function"==i}var Ge="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ue(u,i,c){return u.call.apply(u.bind,arguments)}function Oe(u,i,c){if(!u)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),u.apply(i,g)}}return function(){return u.apply(i,arguments)}}function De(u,i,c){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Oe).apply(null,arguments)}function rt(u,i){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),u.apply(this,h)}}function Be(u,i){function c(){}c.prototype=i.prototype,u.Z=i.prototype,u.prototype=new c,u.prototype.constructor=u,u.Vb=function(h,g,v){for(var D=Array(arguments.length-2),L=2;L<arguments.length;L++)D[L-2]=arguments[L];return i.prototype[g].apply(h,D)}}function qe(){this.s=this.s,this.o=this.o}var He={};qe.prototype.s=!1,qe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function $e(u){return Object.prototype.hasOwnProperty.call(u,Ge)&&u[Ge]||(u[Ge]=++ut)}(this);delete He[u]}},qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ie=Array.prototype.indexOf?function(u,i){return Array.prototype.indexOf.call(u,i,void 0)}:function(u,i){if("string"==typeof u)return"string"!=typeof i||1!=i.length?-1:u.indexOf(i,0);for(let c=0;c<u.length;c++)if(c in u&&u[c]===i)return c;return-1},it=Array.prototype.forEach?function(u,i,c){Array.prototype.forEach.call(u,i,c)}:function(u,i,c){const h=u.length,g="string"==typeof u?u.split(""):u;for(let v=0;v<h;v++)v in g&&i.call(c,g[v],v,u)};function oe(u){return Array.prototype.concat.apply([],arguments)}function Q(u){const i=u.length;if(0<i){const c=Array(i);for(let h=0;h<i;h++)c[h]=u[h];return c}return[]}function ge(u){return/^[\s\xa0]*$/.test(u)}var St,Me=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function de(u,i){return-1!=u.indexOf(i)}function gt(u,i){return u<i?-1:u>i?1:0}e:{var pn=z.navigator;if(pn){var Tt=pn.userAgent;if(Tt){St=Tt;break e}}St=""}function mt(u,i,c){for(const h in u)i.call(c,u[h],h,u)}function At(u){const i={};for(const c in u)i[c]=u[c];return i}var an="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function er(u,i){let c,h;for(let g=1;g<arguments.length;g++){for(c in h=arguments[g],h)u[c]=h[c];for(let v=0;v<an.length;v++)c=an[v],Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])}}function kn(u){return kn[" "](u),u}kn[" "]=ne;var Fr,u,nr=de(St,"Opera"),Qn=de(St,"Trident")||de(St,"MSIE"),Hr=de(St,"Edge"),mr=Hr||Qn,Ar=de(St,"Gecko")&&!(de(St.toLowerCase(),"webkit")&&!de(St,"Edge"))&&!(de(St,"Trident")||de(St,"MSIE"))&&!de(St,"Edge"),Ri=de(St.toLowerCase(),"webkit")&&!de(St,"Edge");function bi(){var u=z.document;return u?u.documentMode:void 0}e:{var Br="",wi=(u=St,Ar?/rv:([^\);]+)(\)|;)/.exec(u):Hr?/Edge\/([\d\.]+)/.exec(u):Qn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):Ri?/WebKit\/(\S+)/.exec(u):nr?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(wi&&(Br=wi?wi[1]:""),Qn){var gn=bi();if(null!=gn&&gn>parseFloat(Br)){Fr=String(gn);break e}}Fr=Br}var Pi={};var Qe=z.document&&Qn&&(bi()||parseInt(Fr,10))||void 0,ct=function(){if(!z.addEventListener||!Object.defineProperty)return!1;var u=!1,i=Object.defineProperty({},"passive",{get:function(){u=!0}});try{z.addEventListener("test",ne,i),z.removeEventListener("test",ne,i)}catch(c){}return u}();function Xe(u,i){this.type=u,this.g=this.target=i,this.defaultPrevented=!1}function yt(u,i){if(Xe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var c=this.type=u.type,h=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=i,i=u.relatedTarget){if(Ar){e:{try{kn(i.nodeName);var g=!0;break e}catch(v){}g=!1}g||(i=null)}}else"mouseover"==c?i=u.fromElement:"mouseout"==c&&(i=u.toElement);this.relatedTarget=i,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:kt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)}}Xe.prototype.h=function(){this.defaultPrevented=!0},Be(yt,Xe);var kt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Mt="closure_listenable_"+(1e6*Math.random()|0),wt=0;function Lt(u,i,c,h,g){this.listener=u,this.proxy=null,this.src=i,this.type=c,this.capture=!!h,this.ia=g,this.key=++wt,this.ca=this.fa=!1}function mn(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function en(u){this.src=u,this.g={},this.h=0}function Qt(u,i){var c=i.type;if(c in u.g){var v,h=u.g[c],g=Ie(h,i);(v=0<=g)&&Array.prototype.splice.call(h,g,1),v&&(mn(i),0==u.g[c].length&&(delete u.g[c],u.h--))}}function Mn(u,i,c,h){for(var g=0;g<u.length;++g){var v=u[g];if(!v.ca&&v.listener==i&&v.capture==!!c&&v.ia==h)return g}return-1}en.prototype.add=function(u,i,c,h,g){var v=u.toString();(u=this.g[v])||(u=this.g[v]=[],this.h++);var D=Mn(u,i,h,g);return-1<D?(i=u[D],c||(i.fa=!1)):((i=new Lt(i,this.src,v,!!h,g)).fa=c,u.push(i)),i};var Cn="closure_lm_"+(1e6*Math.random()|0),Wn={};function Ht(u,i,c,h,g){if(h&&h.once)return Dt(u,i,c,h,g);if(Array.isArray(i)){for(var v=0;v<i.length;v++)Ht(u,i[v],c,h,g);return null}return c=pe(c),u&&u[Mt]?u.N(i,c,Ye(h)?!!h.capture:!!h,g):vr(u,i,c,!1,h,g)}function vr(u,i,c,h,g,v){if(!i)throw Error("Invalid event type");var D=Ye(g)?!!g.capture:!!g,L=yn(u);if(L||(u[Cn]=L=new en(u)),(c=L.add(i,c,h,D,v)).proxy)return c;if(h=function En(){var i=An;return function u(c){return i.call(u.src,u.listener,c)}}(),c.proxy=h,h.src=u,h.listener=c,u.addEventListener)ct||(g=D),void 0===g&&(g=!1),u.addEventListener(i.toString(),h,g);else if(u.attachEvent)u.attachEvent(Wt(i.toString()),h);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(h)}return c}function Dt(u,i,c,h,g){if(Array.isArray(i)){for(var v=0;v<i.length;v++)Dt(u,i[v],c,h,g);return null}return c=pe(c),u&&u[Mt]?u.O(i,c,Ye(h)?!!h.capture:!!h,g):vr(u,i,c,!0,h,g)}function et(u,i,c,h,g){if(Array.isArray(i))for(var v=0;v<i.length;v++)et(u,i[v],c,h,g);else h=Ye(h)?!!h.capture:!!h,c=pe(c),u&&u[Mt]?(u=u.i,(i=String(i).toString())in u.g&&-1<(c=Mn(v=u.g[i],c,h,g))&&(mn(v[c]),Array.prototype.splice.call(v,c,1),0==v.length&&(delete u.g[i],u.h--))):u&&(u=yn(u))&&(i=u.g[i.toString()],u=-1,i&&(u=Mn(i,c,h,g)),(c=-1<u?i[u]:null)&&Vt(c))}function Vt(u){if("number"!=typeof u&&u&&!u.ca){var i=u.src;if(i&&i[Mt])Qt(i.i,u);else{var c=u.type,h=u.proxy;i.removeEventListener?i.removeEventListener(c,h,u.capture):i.detachEvent?i.detachEvent(Wt(c),h):i.addListener&&i.removeListener&&i.removeListener(h),(c=yn(i))?(Qt(c,u),0==c.h&&(c.src=null,i[Cn]=null)):mn(u)}}}function Wt(u){return u in Wn?Wn[u]:Wn[u]="on"+u}function An(u,i){if(u.ca)u=!0;else{i=new yt(i,this);var c=u.listener,h=u.ia||u.src;u.fa&&Vt(u),u=c.call(h,i)}return u}function yn(u){return(u=u[Cn])instanceof en?u:null}var ve="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(u){return"function"==typeof u?u:(u[ve]||(u[ve]=function(i){return u.handleEvent(i)}),u[ve])}function me(){qe.call(this),this.i=new en(this),this.P=this,this.I=null}function Ze(u,i){var c,h=u.I;if(h)for(c=[];h;h=h.I)c.push(h);if(u=u.P,h=i.type||i,"string"==typeof i)i=new Xe(i,u);else if(i instanceof Xe)i.target=i.target||u;else{var g=i;er(i=new Xe(h,u),g)}if(g=!0,c)for(var v=c.length-1;0<=v;v--){var D=i.g=c[v];g=ke(D,h,!0,i)&&g}if(g=ke(D=i.g=u,h,!0,i)&&g,g=ke(D,h,!1,i)&&g,c)for(v=0;v<c.length;v++)g=ke(D=i.g=c[v],h,!1,i)&&g}function ke(u,i,c,h){if(!(i=u.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,v=0;v<i.length;++v){var D=i[v];if(D&&!D.ca&&D.capture==c){var L=D.listener,q=D.ia||D.src;D.fa&&Qt(u.i,D),g=!1!==L.call(q,h)&&g}}return g&&!h.defaultPrevented}Be(me,qe),me.prototype[Mt]=!0,me.prototype.removeEventListener=function(u,i,c,h){et(this,u,i,c,h)},me.prototype.M=function(){if(me.Z.M.call(this),this.i){var i,u=this.i;for(i in u.g){for(var c=u.g[i],h=0;h<c.length;h++)mn(c[h]);delete u.g[i],u.h--}}this.I=null},me.prototype.N=function(u,i,c,h){return this.i.add(String(u),i,!1,c,h)},me.prototype.O=function(u,i,c,h){return this.i.add(String(u),i,!0,c,h)};var Nt=z.JSON.stringify;function wn(){var u=st;let i=null;return u.g&&(i=u.g,u.g=u.g.next,u.g||(u.h=null),i.next=null),i}var Dn,rr=new class{constructor(u,i){this.i=u,this.j=i,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}(()=>new Gn,u=>u.reset());class Gn{constructor(){this.next=this.g=this.h=null}set(i,c){this.h=i,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}function tr(u){z.setTimeout(()=>{throw u},0)}function tn(u,i){Dn||function nn(){var u=z.Promise.resolve(void 0);Dn=function(){u.then(cn)}}(),Le||(Dn(),Le=!0),st.add(u,i)}var Le=!1,st=new class On{constructor(){this.h=this.g=null}add(i,c){const h=rr.get();h.set(i,c),this.h?this.h.next=h:this.g=h,this.h=h}};function cn(){for(var u;u=wn();){try{u.h.call(u.g)}catch(c){tr(c)}var i=rr;i.j(u),100>i.h&&(i.h++,u.next=i.g,i.g=u)}Le=!1}function Un(u,i){me.call(this),this.h=u||1,this.g=i||z,this.j=De(this.kb,this),this.l=Date.now()}function or(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function jt(u,i,c){if("function"==typeof u)c&&(u=De(u,c));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=De(u.handleEvent,u)}return 2147483647<Number(i)?-1:z.setTimeout(u,i||0)}function Bt(u){u.g=jt(()=>{u.g=null,u.i&&(u.i=!1,Bt(u))},u.j);const i=u.h;u.h=null,u.m.apply(null,i)}Be(Un,me),(W=Un.prototype).da=!1,W.S=null,W.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(or(this),this.start()))}},W.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.M=function(){Un.Z.M.call(this),or(this),delete this.g};class je extends qe{constructor(i,c){super(),this.m=i,this.j=c,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Bt(this)}M(){super.M(),this.g&&(z.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ct(u){qe.call(this),this.h=u,this.g={}}Be(Ct,qe);var $t=[];function Xt(u,i,c,h){Array.isArray(c)||(c&&($t[0]=c.toString()),c=$t);for(var g=0;g<c.length;g++){var v=Ht(i,c[g],h||u.handleEvent,!1,u.h||u);if(!v)break;u.g[v.key]=v}}function on(u){mt(u.g,function(i,c){this.g.hasOwnProperty(c)&&Vt(i)},u),u.g={}}function Tn(){this.g=!0}function Nn(u,i,c,h){u.info(function(){return"XMLHTTP TEXT ("+i+"): "+function qn(u,i){if(!u.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(u=0;u<c.length;u++)if(Array.isArray(c[u])){var h=c[u];if(!(2>h.length)){var g=h[1];if(Array.isArray(g)&&!(1>g.length)){var v=g[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var D=1;D<g.length;D++)g[D]=""}}}return Nt(c)}catch(L){return i}}(u,c)+(h?" "+h:"")})}Ct.prototype.M=function(){Ct.Z.M.call(this),on(this)},Ct.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Tn.prototype.Aa=function(){this.g=!1},Tn.prototype.info=function(){};var Ir={},Mr=null;function yo(){return Mr=Mr||new me}function ki(u){Xe.call(this,Ir.Ma,u)}function ur(u){const i=yo();Ze(i,new ki(i,u))}function zi(u,i){Xe.call(this,Ir.STAT_EVENT,u),this.stat=i}function Or(u){const i=yo();Ze(i,new zi(i,u))}function Fe(u,i){Xe.call(this,Ir.Na,u),this.size=i}function Pe(u,i){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return z.setTimeout(function(){u()},i)}Ir.Ma="serverreachability",Be(ki,Xe),Ir.STAT_EVENT="statevent",Be(zi,Xe),Ir.Na="timingevent",Be(Fe,Xe);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},xt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ot(){}function sr(){}Ot.prototype.h=null;var es,Pr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pr(){Xe.call(this,"d")}function ai(){Xe.call(this,"c")}function qr(){}function Os(u,i,c,h){this.l=u,this.j=i,this.m=c,this.X=h||1,this.V=new Ct(this),this.P=Sa,this.W=new Un(u=mr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Fi}function Fi(){this.i=null,this.g="",this.h=!1}Be(pr,Xe),Be(ai,Xe),Be(qr,Ot),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},es=new qr;var Sa=45e3,xa={},Mo={};function ra(u,i,c){u.K=1,u.v=Te(le(i)),u.s=c,u.U=!0,Ps(u,null)}function Ps(u,i){u.F=Date.now(),ys(u),u.A=le(u.v);var c=u.A,h=u.X;Array.isArray(h)||(h=[String(h)]),Kr(c.h,"t",h),u.C=0,c=u.l.H,u.h=new Fi,u.g=Bs(u.l,c?i:null,!u.s),0<u.O&&(u.L=new je(De(u.Ia,u,u.g),u.O)),Xt(u.V,u.g,"readystatechange",u.gb),i=u.H?At(u.H):{},u.s?(u.u||(u.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,i)):(u.u="GET",u.g.ea(u.A,u.u,null,i)),ur(1),function Vn(u,i,c,h,g,v){u.info(function(){if(u.g)if(v)for(var D="",L=v.split("&"),q=0;q<L.length;q++){var te=L[q].split("=");if(1<te.length){var xe=te[0];te=te[1];var Ve=xe.split("_");D=2<=Ve.length&&"type"==Ve[1]?D+(xe+"=")+te+"&":D+(xe+"=redacted&")}}else D=null;else D=v;return"XMLHTTP REQ ("+h+") [attempt "+g+"]: "+i+"\n"+c+"\n"+D})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Ti(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function _s(u,i,c){let g,h=!0;for(;!u.I&&u.C<c.length;){if(g=xc(u,c),g==Mo){4==i&&(u.o=4,Or(14),h=!1),Nn(u.j,u.m,null,"[Incomplete Response]");break}if(g==xa){u.o=4,Or(15),Nn(u.j,u.m,c,"[Invalid Chunk]"),h=!1;break}Nn(u.j,u.m,g,null),Aa(u,g)}Ti(u)&&g!=Mo&&g!=xa&&(u.h.g="",u.C=0),4!=i||0!=c.length||u.h.h||(u.o=1,Or(16),h=!1),u.i=u.i&&h,h?0<c.length&&!u.aa&&(u.aa=!0,(i=u.l).g==u&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),Ql(i),i.L=!0,Or(11))):(Nn(u.j,u.m,c,"[Invalid Chunked Response]"),Oo(u),ns(u))}function xc(u,i){var c=u.C,h=i.indexOf("\n",c);return-1==h?Mo:(c=Number(i.substring(c,h)),isNaN(c)?xa:(h+=1)+c>i.length?Mo:(i=i.substr(h,c),u.C=h+c,i))}function ys(u){u.Y=Date.now()+u.P,Ns(u,u.P)}function Ns(u,i){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Pe(De(u.eb,u),i)}function ts(u){u.B&&(z.clearTimeout(u.B),u.B=null)}function ns(u){0==u.l.G||u.I||Xl(u.l,u)}function Oo(u){ts(u);var i=u.L;i&&"function"==typeof i.na&&i.na(),u.L=null,or(u.W),on(u.V),u.g&&(i=u.g,u.g=null,i.abort(),i.na())}function Aa(u,i){try{var c=u.l;if(0!=c.G&&(c.g==u||ao(c.i,u)))if(c.I=u.N,!u.J&&ao(c.i,u)&&3==c.G){try{var h=c.Ca.g.parse(i)}catch(te){h=null}if(Array.isArray(h)&&3==h.length){var g=h;if(0==g[0])e:if(c.u)c.ta=g[1],0<c.ta-c.U&&37500>g[2]&&c.N&&0==c.A&&!c.v&&(c.v=Pe(De(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<u.F))break e;Pc(c),aa(c)}Oc(c),Or(18)}if(1>=rs(c.i)&&c.ka){try{c.ka()}catch(te){}c.ka=void 0}}else os(c,11)}else if((u.J||c.g==u)&&Pc(c),!ge(i))for(g=c.Ca.g.parse(i),i=0;i<g.length;i++){let te=g[i];if(c.U=te[0],te=te[1],2==c.G)if("c"==te[0]){c.J=te[1],c.la=te[2];const xe=te[3];null!=xe&&(c.ma=xe,c.h.info("VER="+c.ma));const Ve=te[4];null!=Ve&&(c.za=Ve,c.h.info("SVER="+c.za));const ht=te[5];null!=ht&&"number"==typeof ht&&0<ht&&(c.K=h=1.5*ht,c.h.info("backChannelRequestTimeoutMs_="+h)),h=c;const vt=u.g;if(vt){const Ut=vt.g?vt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var v=h.i;!v.g&&(de(Ut,"spdy")||de(Ut,"quic")||de(Ut,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(vs(v,v.h),v.h=null))}if(h.D){const Fn=vt.g?vt.g.getResponseHeader("X-HTTP-Session-Id"):null;Fn&&(h.sa=Fn,Y(h.F,h.D,Fn))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-u.F,c.h.info("Handshake RTT: "+c.O+"ms"));var D=u;if((h=c).oa=Co(h,h.H?h.la:null,h.W),D.J){Na(h.i,D);var L=D,q=h.K;q&&L.setTimeout(q),L.B&&(ts(L),ys(L)),h.g=D}else _u(h);0<c.l.length&&mu(c)}else"stop"!=te[0]&&"close"!=te[0]||os(c,7);else 3==c.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?os(c,7):eh(c):"noop"!=te[0]&&c.j&&c.j.wa(te),c.A=0)}ur(4)}catch(te){}}function ae(u,i){if(u.forEach&&"function"==typeof u.forEach)u.forEach(i,void 0);else if(ce(u)||"string"==typeof u)it(u,i,void 0);else{if(u.T&&"function"==typeof u.T)var c=u.T();else if(u.R&&"function"==typeof u.R)c=void 0;else if(ce(u)||"string"==typeof u){c=[];for(var h=u.length,g=0;g<h;g++)c.push(g)}else for(g in c=[],h=0,u)c[h++]=g;h=function Uo(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(ce(u)){for(var i=[],c=u.length,h=0;h<c;h++)i.push(u[h]);return i}for(h in i=[],c=0,u)i[c++]=u[h];return i}(u),g=h.length;for(var v=0;v<g;v++)i.call(void 0,h[v],c&&c[v],u)}}function be(u,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(u)if(u instanceof be)for(c=u.T(),h=0;h<c.length;h++)this.set(c[h],u.get(c[h]));else for(h in u)this.set(h,u[h])}function re(u){if(u.i!=u.g.length){for(var i=0,c=0;i<u.g.length;){var h=u.g[i];P(u.h,h)&&(u.g[c++]=h),i++}u.g.length=c}if(u.i!=u.g.length){var g={};for(c=i=0;i<u.g.length;)P(g,h=u.g[i])||(u.g[c++]=h,g[h]=1),i++;u.g.length=c}}function P(u,i){return Object.prototype.hasOwnProperty.call(u,i)}(W=Os.prototype).setTimeout=function(u){this.P=u},W.gb=function(u){u=u.target;const i=this.L;i&&3==vo(u)?i.l():this.Ia(u)},W.Ia=function(u){try{if(u==this.g)e:{const xe=vo(this.g);var i=this.g.Da();const Ve=this.g.ba();if(!(3>xe)&&(3!=xe||mr||this.g&&(this.h.h||this.g.ga()||bo(this.g)))){this.I||4!=xe||7==i||ur(8==i||0>=Ve?3:2),ts(this);var c=this.g.ba();this.N=c;t:if(Ti(this)){var h=bo(this.g);u="";var g=h.length,v=4==vo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oo(this),ns(this);var D="";break t}this.h.i=new z.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,u+=this.h.i.decode(h[i],{stream:v&&i==g-1});h.splice(0,g),this.h.g+=u,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function un(u,i,c,h,g,v,D){u.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+g+"]: "+i+"\n"+c+"\n"+v+" "+D})}(this.j,this.u,this.A,this.m,this.X,xe,c),this.i){if(this.$&&!this.J){t:{if(this.g){var L,q=this.g;if((L=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(L)){var te=L;break t}}te=null}if(!(c=te)){this.i=!1,this.o=3,Or(12),Oo(this),ns(this);break e}Nn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Aa(this,c)}this.U?(_s(this,xe,D),mr&&this.i&&3==xe&&(Xt(this.V,this.W,"tick",this.fb),this.W.start())):(Nn(this.j,this.m,D,null),Aa(this,D)),4==xe&&Oo(this),this.i&&!this.I&&(4==xe?Xl(this.l,this):(this.i=!1,ys(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Or(12)):(this.o=0,Or(13)),Oo(this),ns(this)}}}catch(xe){}},W.fb=function(){if(this.g){var u=vo(this.g),i=this.g.ga();this.C<i.length&&(ts(this),_s(this,u,i),this.i&&4!=u&&ys(this))}},W.cancel=function(){this.I=!0,Oo(this)},W.eb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(function br(u,i){u.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(ur(3),Or(17)),Oo(this),this.o=2,ns(this)):Ns(this,this.Y-u)},(W=be.prototype).R=function(){re(this);for(var u=[],i=0;i<this.g.length;i++)u.push(this.h[this.g[i]]);return u},W.T=function(){return re(this),this.g.concat()},W.get=function(u,i){return P(this.h,u)?this.h[u]:i},W.set=function(u,i){P(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=i},W.forEach=function(u,i){for(var c=this.T(),h=0;h<c.length;h++){var g=c[h],v=this.get(g);u.call(i,v,g,this)}};var B=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Z(u,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof Z){this.g=void 0!==i?i:u.g,_e(this,u.j),this.s=u.s,fe(this,u.i),Ee(this,u.m),this.l=u.l,i=u.h;var c=new Rs;c.i=i.i,i.g&&(c.g=new be(i.g),c.h=i.h),ze(this,c),this.o=u.o}else u&&(c=String(u).match(B))?(this.g=!!i,_e(this,c[1]||"",!0),this.s=qt(c[2]||""),fe(this,c[3]||"",!0),Ee(this,c[4]),this.l=qt(c[5]||"",!0),ze(this,c[6]||"",!0),this.o=qt(c[7]||"")):(this.g=!!i,this.h=new Rs(null,this.g))}function le(u){return new Z(u)}function _e(u,i,c){u.j=c?qt(i,!0):i,u.j&&(u.j=u.j.replace(/:$/,""))}function fe(u,i,c){u.i=c?qt(i,!0):i}function Ee(u,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);u.m=i}else u.m=null}function ze(u,i,c){i instanceof Rs?(u.h=i,function Oa(u,i){i&&!u.j&&(Sr(u),u.i=null,u.g.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(rc(this,h),Kr(this,g,c))},u)),u.j=i}(u.h,u.g)):(c||(i=dn(i,Lr)),u.h=new Rs(i,u.g))}function Y(u,i,c){u.h.set(i,c)}function Te(u){return Y(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qt(u,i){return u?i?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function dn(u,i,c){return"string"==typeof u?(u=encodeURI(u).replace(i,sn),c&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function sn(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Z.prototype.toString=function(){var u=[],i=this.j;i&&u.push(dn(i,_n,!0),":");var c=this.i;return(c||"file"==i)&&(u.push("//"),(i=this.s)&&u.push(dn(i,_n,!0),"@"),u.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&u.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&u.push("/"),u.push(dn(c,"/"==c.charAt(0)?Zr:Kn,!0))),(c=this.h.toString())&&u.push("?",c),(c=this.o)&&u.push("#",dn(c,Ki)),u.join("")};var _n=/[#\/\?@]/g,Kn=/[#\?:]/g,Zr=/[#\?]/g,Lr=/[#\?@]/g,Ki=/#/g;function Rs(u,i){this.h=this.g=null,this.i=u||null,this.j=!!i}function Sr(u){u.g||(u.g=new be,u.h=0,u.i&&function G(u,i){if(u){u=u.split("&");for(var c=0;c<u.length;c++){var h=u[c].indexOf("="),g=null;if(0<=h){var v=u[c].substring(0,h);g=u[c].substring(h+1)}else v=u[c];i(v,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(u.i,function(i,c){u.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function rc(u,i){Sr(u),i=Ma(u,i),P(u.g.h,i)&&(u.i=null,u.h-=u.g.get(i).length,P((u=u.g).h,i)&&(delete u.h[i],u.i--,u.g.length>2*u.i&&re(u)))}function Ia(u,i){return Sr(u),i=Ma(u,i),P(u.g.h,i)}function Kr(u,i,c){rc(u,i),0<c.length&&(u.i=null,u.g.set(Ma(u,i),Q(c)),u.h+=c.length)}function Ma(u,i){return i=String(i),u.j&&(i=i.toLowerCase()),i}function Po(u){this.l=u||Li,u=z.PerformanceNavigationTiming?0<(u=z.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(z.g&&z.g.Ea&&z.g.Ea()&&z.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=Rs.prototype).add=function(u,i){Sr(this),this.i=null,u=Ma(this,u);var c=this.g.get(u);return c||this.g.set(u,c=[]),c.push(i),this.h+=1,this},W.forEach=function(u,i){Sr(this),this.g.forEach(function(c,h){it(c,function(g){u.call(i,g,h,this)},this)},this)},W.T=function(){Sr(this);for(var u=this.g.R(),i=this.g.T(),c=[],h=0;h<i.length;h++)for(var g=u[h],v=0;v<g.length;v++)c.push(i[h]);return c},W.R=function(u){Sr(this);var i=[];if("string"==typeof u)Ia(this,u)&&(i=oe(i,this.g.get(Ma(this,u))));else{u=this.g.R();for(var c=0;c<u.length;c++)i=oe(i,u[c])}return i},W.set=function(u,i){return Sr(this),this.i=null,Ia(this,u=Ma(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[i]),this.h+=1,this},W.get=function(u,i){return u&&0<(u=this.R(u)).length?String(u[0]):i},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],i=this.g.T(),c=0;c<i.length;c++){var h=i[c],g=encodeURIComponent(String(h));h=this.R(h);for(var v=0;v<h.length;v++){var D=g;""!==h[v]&&(D+="="+encodeURIComponent(String(h[v]))),u.push(D)}}return this.i=u.join("&")};var Li=10;function pu(u){return!!u.h||!!u.g&&u.g.size>=u.j}function rs(u){return u.h?1:u.g?u.g.size:0}function ao(u,i){return u.h?u.h==i:!!u.g&&u.g.has(i)}function vs(u,i){u.g?u.g.add(i):u.h=i}function Na(u,i){u.h&&u.h==i?u.h=null:u.g&&u.g.has(i)&&u.g.delete(i)}function ic(u){if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){let i=u.i;for(const c of u.g.values())i=i.concat(c.D);return i}return Q(u.i)}function is(){}function ks(){this.g=new is}function Ac(u,i,c){const h=c||"";try{ae(u,function(g,v){let D=g;Ye(g)&&(D=Nt(g)),i.push(h+v+"="+encodeURIComponent(D))})}catch(g){throw i.push(h+"type="+encodeURIComponent("_badmap")),g}}function il(u,i,c,h,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(h)}catch(v){}}function Ra(u){this.l=u.$b||null,this.j=u.ib||!1}function ia(u,i){me.call(this),this.D=u,this.u=i,this.m=void 0,this.readyState=Ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Po.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const u of this.g.values())u.cancel();this.g.clear()}},is.prototype.stringify=function(u){return z.JSON.stringify(u,void 0)},is.prototype.parse=function(u){return z.JSON.parse(u,void 0)},Be(Ra,Ot),Ra.prototype.g=function(){return new ia(this.l,this.j)},Ra.prototype.i=function(u){return function(){return u}}({}),Be(ia,me);var Ic=0;function ka(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function ol(u){u.readyState=4,u.l=null,u.j=null,u.A=null,oa(u)}function oa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(W=ia.prototype).open=function(u,i){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=i,this.readyState=1,oa(this)},W.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(i.body=u),(this.D||z).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ol(this)),this.readyState=Ic},W.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,oa(this)),this.g&&(this.readyState=3,oa(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==z.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ka(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},W.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var i=u.value?u.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!u.done}))&&(this.response=this.responseText+=i)}u.done?ol(this):oa(this),3==this.readyState&&ka(this)}},W.Ua=function(u){this.g&&(this.response=this.responseText=u,ol(this))},W.Ta=function(u){this.g&&(this.response=u,ol(this))},W.ha=function(){this.g&&ol(this)},W.setRequestHeader=function(u,i){this.v.append(u,i)},W.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],i=this.h.entries();for(var c=i.next();!c.done;)u.push((c=c.value)[0]+": "+c[1]),c=i.next();return u.join("\r\n")},Object.defineProperty(ia.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Pt=z.JSON.parse;function jn(u){me.call(this),this.headers=new be,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=nf,this.K=this.L=!1}Be(jn,me);var nf="",oi=/^https?$/i,sl=["POST","PUT"];function Fs(u){return"content-type"==u.toLowerCase()}function Mc(u,i){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=i,u.m=5,Yl(u),gu(u)}function Yl(u){u.D||(u.D=!0,Ze(u,"complete"),Ze(u,"error"))}function Jl(u){if(u.h&&void 0!==J&&(!u.C[1]||4!=vo(u)||2!=u.ba()))if(u.v&&4==vo(u))jt(u.Fa,0,u);else if(Ze(u,"readystatechange"),4==vo(u)){u.h=!1;try{const L=u.ba();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var c;if(!(c=i)){var h;if(h=0===L){var g=String(u.H).match(B)[1]||null;if(!g&&z.self&&z.self.location){var v=z.self.location.protocol;g=v.substr(0,v.length-1)}h=!oi.test(g?g.toLowerCase():"")}c=h}if(c)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var D=2<vo(u)?u.g.statusText:""}catch(q){D=""}u.j=D+" ["+u.ba()+"]",Yl(u)}}finally{gu(u)}}}function gu(u,i){if(u.g){al(u);const c=u.g,h=u.C[0]?ne:null;u.g=null,u.C=null,i||Ze(u,"ready");try{c.onreadystatechange=h}catch(g){}}}function al(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(z.clearTimeout(u.A),u.A=null)}function vo(u){return u.g?u.g.readyState:0}function bo(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case nf:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(i){return null}}function La(u,i,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=function sa(u){let i="";return mt(u,function(c,h){i+=h,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof u?null!=c&&encodeURIComponent(String(c)):Y(u,i,c))}function Ls(u,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[u]||i}function Bo(u){this.za=0,this.l=[],this.h=new Tn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ls("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ls("baseRetryDelayMs",5e3,u),this.$a=Ls("retryDelaySeedMs",1e4,u),this.Ya=Ls("forwardChannelMaxRetries",2,u),this.ra=Ls("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new Po(u&&u.concurrentRequestLimit),this.Ca=new ks,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function eh(u){if(th(u),3==u.G){var i=u.V++,c=le(u.F);Y(c,"SID",u.J),Y(c,"RID",i),Y(c,"TYPE","terminate"),ca(u,c),(i=new Os(u,u.h,i,void 0)).K=2,i.v=Te(le(c)),c=!1,z.navigator&&z.navigator.sendBeacon&&(c=z.navigator.sendBeacon(i.v.toString(),"")),!c&&z.Image&&((new Image).src=i.v,c=!0),c||(i.g=Bs(i.l,null),i.g.ea(i.v)),i.F=Date.now(),ys(i)}ul(u)}function aa(u){u.g&&(Ql(u),u.g.cancel(),u.g=null)}function th(u){aa(u),u.u&&(z.clearTimeout(u.u),u.u=null),Pc(u),u.i.cancel(),u.m&&("number"==typeof u.m&&z.clearTimeout(u.m),u.m=null)}function oc(u,i){u.l.push(new class{constructor(u,i){this.h=u,this.g=i}}(u.Za++,i)),3==u.G&&mu(u)}function mu(u){pu(u.i)||u.m||(u.m=!0,tn(u.Ha,u),u.C=0)}function nh(u,i){var c;c=i?i.m:u.V++;const h=le(u.F);Y(h,"SID",u.J),Y(h,"RID",c),Y(h,"AID",u.U),ca(u,h),u.o&&u.s&&La(h,u.o,u.s),c=new Os(u,u.h,c,u.C+1),null===u.o&&(c.H=u.s),i&&(u.l=i.D.concat(u.l)),i=rh(u,c,1e3),c.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),vs(u.i,c),ra(c,h,i)}function ca(u,i){u.j&&ae({},function(c,h){Y(i,h,c)})}function rh(u,i,c){c=Math.min(u.l.length,c);var h=u.j?De(u.j.Oa,u.j,u):null;e:{var g=u.l;let v=-1;for(;;){const D=["count="+c];-1==v?0<c?(v=g[0].h,D.push("ofs="+v)):v=0:D.push("ofs="+v);let L=!0;for(let q=0;q<c;q++){let te=g[q].h;const xe=g[q].g;if(te-=v,0>te)v=Math.max(0,g[q].h-100),L=!1;else try{Ac(xe,D,"req"+te+"_")}catch(Ve){h&&h(xe)}}if(L){h=D.join("&");break e}}}return u=u.l.splice(0,c),i.D=u,h}function _u(u){u.g||u.u||(u.Y=1,tn(u.Ga,u),u.A=0)}function Oc(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Pe(De(u.Ga,u),Us(u,u.A)),u.A++,0))}function Ql(u){null!=u.B&&(z.clearTimeout(u.B),u.B=null)}function cl(u){u.g=new Os(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var i=le(u.oa);Y(i,"RID","rpc"),Y(i,"SID",u.J),Y(i,"CI",u.N?"0":"1"),Y(i,"AID",u.U),ca(u,i),Y(i,"TYPE","xmlhttp"),u.o&&u.s&&La(i,u.o,u.s),u.K&&u.g.setTimeout(u.K);var c=u.g;u=u.la,c.K=1,c.v=Te(le(i)),c.s=null,c.U=!0,Ps(c,u)}function Pc(u){null!=u.v&&(z.clearTimeout(u.v),u.v=null)}function Xl(u,i){var c=null;if(u.g==i){Pc(u),Ql(u),u.g=null;var h=2}else{if(!ao(u.i,i))return;c=i.D,Na(u.i,i),h=1}if(u.I=i.N,0!=u.G)if(i.i)if(1==h){c=i.s?i.s.length:0,i=Date.now()-i.F;var g=u.C;Ze(h=yo(),new Fe(h,c,i,g)),mu(u)}else _u(u);else if(3==(g=i.o)||0==g&&0<u.I||!(1==h&&function Ua(u,i){return!(rs(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=i.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Pe(De(u.Ha,u,i),Us(u,u.C)),u.C++,0)))}(u,i)||2==h&&Oc(u)))switch(c&&0<c.length&&(i=u.i,i.i=i.i.concat(c)),g){case 1:os(u,5);break;case 4:os(u,10);break;case 3:os(u,6);break;default:os(u,2)}}function Us(u,i){let c=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(c*=2),c*i}function os(u,i){if(u.h.info("Error code "+i),2==i){var c=null;u.j&&(c=null);var h=De(u.jb,u);c||(c=new Z("//www.google.com/images/cleardot.gif"),z.location&&"http"==z.location.protocol||_e(c,"https"),Te(c)),function zn(u,i){const c=new Tn;if(z.Image){const h=new Image;h.onload=rt(il,c,h,"TestLoadImage: loaded",!0,i),h.onerror=rt(il,c,h,"TestLoadImage: error",!1,i),h.onabort=rt(il,c,h,"TestLoadImage: abort",!1,i),h.ontimeout=rt(il,c,h,"TestLoadImage: timeout",!1,i),z.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=u}else i(!1)}(c.toString(),h)}else Or(2);u.G=0,u.j&&u.j.va(i),ul(u),th(u)}function ul(u){u.G=0,u.I=-1,u.j&&((0!=ic(u.i).length||0!=u.l.length)&&(u.i.i.length=0,Q(u.l),u.l.length=0),u.j.ua())}function Co(u,i,c){let h=function Ae(u){return u instanceof Z?le(u):new Z(u,void 0)}(c);if(""!=h.i)i&&fe(h,i+"."+h.i),Ee(h,h.m);else{const g=z.location;h=function at(u,i,c,h){var g=new Z(null,void 0);return u&&_e(g,u),i&&fe(g,i),c&&Ee(g,c),h&&(g.l=h),g}(g.protocol,i?i+"."+g.hostname:g.hostname,+g.port,c)}return u.aa&&mt(u.aa,function(g,v){Y(h,v,g)}),c=u.sa,(i=u.D)&&c&&Y(h,i,c),Y(h,"VER",u.ma),ca(u,h),h}function Bs(u,i,c){if(i&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new jn(c&&u.Ba&&!u.qa?new Ra({ib:!0}):u.qa)).L=u.H,i}function mi(){}function ll(){if(Qn&&!(10<=Number(Qe)))throw Error("Environmental error: no available transport.")}function Vs(u,i){me.call(this),this.g=new Bo(i),this.l=u,this.h=i&&i.messageUrlParams||null,u=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(u?u["X-WebChannel-Content-Type"]=i.messageContentType:u={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(u?u["X-WebChannel-Client-Profile"]=i.ya:u={"X-WebChannel-Client-Profile":i.ya}),this.g.P=u,(u=i&&i.httpHeadersOverwriteParam)&&!ge(u)&&(this.g.o=u),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!ge(i)&&(this.g.D=i,null!==(u=this.h)&&i in u&&i in(u=this.h)&&delete u[i]),this.j=new hl(this)}function nm(u){pr.call(this);var i=u.__sm__;if(i){e:{for(const c in i){u=c;break e}u=void 0}(this.i=u)&&(u=this.i,i=null!==i&&u in i?i[u]:void 0),this.data=i}else this.data=u}function dl(){ai.call(this),this.status=1}function hl(u){this.g=u}(W=jn.prototype).ea=function(u,i,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);i=i?i.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():es.g(),this.C=function Yt(u){return u.h||(u.h=u.i())}(this.u?this.u:es),this.g.onreadystatechange=De(this.Fa,this);try{this.F=!0,this.g.open(i,String(u),!0),this.F=!1}catch(v){return void Mc(this,v)}u=c||"";const g=new be(this.headers);h&&ae(h,function(v,D){g.set(D,v)}),h=function se(u){e:{var i=Fs;const c=u.length,h="string"==typeof u?u.split(""):u;for(let g=0;g<c;g++)if(g in h&&i.call(void 0,h[g],g,u)){i=g;break e}i=-1}return 0>i?null:"string"==typeof u?u.charAt(i):u[i]}(g.T()),c=z.FormData&&u instanceof z.FormData,!(0<=Ie(sl,i))||h||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,D){this.g.setRequestHeader(D,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{al(this),0<this.B&&((this.K=function Fa(u){return Qn&&function Vr(){return function yr(u){var i=Pi;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=u(9)}(function(){let u=0;const i=Me(String(Fr)).split("."),c=Me("9").split("."),h=Math.max(i.length,c.length);for(let D=0;0==u&&D<h;D++){var g=i[D]||"",v=c[D]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==g[0].length&&0==v[0].length)break;u=gt(0==g[1].length?0:parseInt(g[1],10),0==v[1].length?0:parseInt(v[1],10))||gt(0==g[2].length,0==v[2].length)||gt(g[2],v[2]),g=g[3],v=v[3]}while(0==u)}return 0<=u})}()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(v){Mc(this,v)}},W.pa=function(){void 0!==J&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))},W.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),gu(this))},W.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gu(this,!0)),jn.Z.M.call(this)},W.Fa=function(){this.s||(this.F||this.v||this.l?Jl(this):this.cb())},W.cb=function(){Jl(this)},W.ba=function(){try{return 2<vo(this)?this.g.status:-1}catch(u){return-1}},W.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},W.Qa=function(u){if(this.g){var i=this.g.responseText;return u&&0==i.indexOf(u)&&(i=i.substring(u.length)),Pt(i)}},W.Da=function(){return this.m},W.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=Bo.prototype).ma=8,W.G=1,W.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(i){}},W.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;const g=new Os(this,this.h,u,void 0);let v=this.s;if(this.P&&(v?(v=At(v),er(v,this.P)):v=this.P),null===this.o&&(g.H=v),this.ja)e:{for(var i=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(i+=h)){i=c;break e}if(4096===i||c===this.l.length-1){i=c+1;break e}}i=1e3}else i=1e3;i=rh(this,g,i),Y(c=le(this.F),"RID",u),Y(c,"CVER",22),this.D&&Y(c,"X-HTTP-Session-Id",this.D),ca(this,c),this.o&&v&&La(c,this.o,v),vs(this.i,g),this.Ra&&Y(c,"TYPE","init"),this.ja?(Y(c,"$req",i),Y(c,"SID","null"),g.$=!0,ra(g,c,null)):ra(g,c,i),this.G=2}}else 3==this.G&&(u?nh(this,u):0==this.l.length||pu(this.i)||nh(this))},W.Ga=function(){if(this.u=null,cl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Pe(De(this.bb,this),u)}},W.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Or(10),aa(this),cl(this))},W.ab=function(){null!=this.v&&(this.v=null,aa(this),Oc(this),Or(19))},W.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Or(2)):(this.h.info("Failed to ping google.com"),Or(1))},(W=mi.prototype).xa=function(){},W.wa=function(){},W.va=function(){},W.ua=function(){},W.Oa=function(){},ll.prototype.g=function(u,i){return new Vs(u,i)},Be(Vs,me),Vs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,i=this.l,c=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),tn(De(u.hb,u,i))),Or(0),u.W=i,u.aa=c||{},u.N=u.X,u.F=Co(u,null,u.W),mu(u)},Vs.prototype.close=function(){eh(this.g)},Vs.prototype.u=function(u){if("string"==typeof u){var i={};i.__data__=u,oc(this.g,i)}else this.v?((i={}).__data__=Nt(u),oc(this.g,i)):oc(this.g,u)},Vs.prototype.M=function(){this.g.j=null,delete this.j,eh(this.g),delete this.g,Vs.Z.M.call(this)},Be(nm,pr),Be(dl,ai),Be(hl,mi),hl.prototype.xa=function(){Ze(this.g,"a")},hl.prototype.wa=function(u){Ze(this.g,new nm(u))},hl.prototype.va=function(u){Ze(this.g,new dl(u))},hl.prototype.ua=function(){Ze(this.g,"b")},ll.prototype.createWebChannel=ll.prototype.g,Vs.prototype.send=Vs.prototype.u,Vs.prototype.open=Vs.prototype.m,Vs.prototype.close=Vs.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,xt.COMPLETE="complete",sr.EventType=Pr,Pr.OPEN="a",Pr.CLOSE="b",Pr.ERROR="c",Pr.MESSAGE="d",me.prototype.listen=me.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var bp=$.createWebChannelTransport=function(){return new ll},ih=$.getStatEventTarget=function(){return yo()},fl=$.ErrorCode=ot,Nc=$.EventType=xt,ci=$.Event=Ir,yu=$.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rm=$.FetchXmlHttpFactory=Ra,js=$.WebChannel=sr,pl=$.XhrIo=jn;const ed="@firebase/firestore";class Yi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Yi.UNAUTHENTICATED=new Yi(null),Yi.GOOGLE_CREDENTIALS=new Yi("google-credentials-uid"),Yi.FIRST_PARTY=new Yi("first-party-uid"),Yi.MOCK_USER=new Yi("mock-user");let No="9.6.9";const ua=new N.Yd("@firebase/firestore");function vu(){return ua.logLevel}function Zt(u,...i){if(ua.logLevel<=N.in.DEBUG){const c=i.map(td);ua.debug(`Firestore (${No}): ${u}`,...c)}}function ar(u,...i){if(ua.logLevel<=N.in.ERROR){const c=i.map(td);ua.error(`Firestore (${No}): ${u}`,...c)}}function Ei(u,...i){if(ua.logLevel<=N.in.WARN){const c=i.map(td);ua.warn(`Firestore (${No}): ${u}`,...c)}}function td(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(c){return u}}function Rn(u="Unexpected state"){const i=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+u;throw ar(i),new Error(i)}function Yn(u,i){u||Rn()}function rn(u,i){return u}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends M.ZR{constructor(i,c){super(i,c),this.code=i,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Wr{constructor(){this.promise=new Promise((i,c)=>{this.resolve=i,this.reject=c})}}class _r{constructor(i,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class Xn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,c){i.enqueueRetryable(()=>c(Yi.UNAUTHENTICATED))}shutdown(){}}class sf{constructor(i){this.t=i,this.currentUser=Yi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,c){var h=this;let g=this.i;const v=te=>this.i!==g?(g=this.i,c(te)):Promise.resolve();let D=new Wr;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new Wr,i.enqueueRetryable(()=>v(this.currentUser))};const L=()=>{const te=D;i.enqueueRetryable((0,t.Z)(function*(){yield te.promise,yield v(h.currentUser)}))},q=te=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(te=>q(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?q(te):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new Wr)}},0),L()}getToken(){const i=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==i?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Yn("string"==typeof h.accessToken),new _r(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Yn(null===i||"string"==typeof i),new Yi(i)}}class Rc{constructor(i,c,h){this.type="FirstParty",this.user=Yi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",c);const g=i.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class af{constructor(i,c,h){this.h=i,this.l=c,this.m=h}getToken(){return Promise.resolve(new Rc(this.h,this.l,this.m))}start(i,c){i.enqueueRetryable(()=>c(Yi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gl{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sc{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,c){const h=v=>{null!=v.error&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const D=v.token!==this.p;return this.p=v.token,Zt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?c(v.token):Promise.resolve()};this.o=v=>{i.enqueueRetryable(()=>h(v))};const g=v=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>g(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?g(v):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(c=>c?(Yn("string"==typeof c.token),this.p=c.token,new gl(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Yr{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=h=>this.I(h),this.T=h=>c.writeSequenceNumber(h))}I(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.T&&this.T(i),i}}function ss(u){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(u);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(let h=0;h<u;h++)c[h]=Math.floor(256*Math.random());return c}Yr.A=-1;class wo{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length;let h="";for(;h.length<20;){const g=ss(40);for(let v=0;v<g.length;++v)h.length<20&&g[v]<c&&(h+=i.charAt(g[v]%i.length))}return h}}function Cr(u,i){return u<i?-1:u>i?1:0}function Hs(u,i,c){return u.length===i.length&&u.every((h,g)=>c(h,i[g]))}class Xr{constructor(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Xr.fromMillis(Date.now())}static fromDate(i){return Xr.fromMillis(i.getTime())}static fromMillis(i){const c=Math.floor(i/1e3),h=Math.floor(1e6*(i-1e3*c));return new Xr(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Cr(this.nanoseconds,i.nanoseconds):Cr(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Pn{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Pn(i)}static min(){return new Pn(new Xr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function _l(u){let i=0;for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&i++;return i}function _i(u,i){for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&i(c,u[c])}function bs(u){for(const i in u)if(Object.prototype.hasOwnProperty.call(u,i))return!1;return!0}class Ba{constructor(i,c,h){void 0===c?c=0:c>i.length&&Rn(),void 0===h?h=i.length-c:h>i.length-c&&Rn(),this.segments=i,this.offset=c,this.len=h}get length(){return this.len}isEqual(i){return 0===Ba.comparator(this,i)}child(i){const c=this.segments.slice(this.offset,this.limit());return i instanceof Ba?i.forEach(h=>{c.push(h)}):c.push(i),this.construct(c)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}forEach(i){for(let c=this.offset,h=this.limit();c<h;c++)i(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,c){const h=Math.min(i.length,c.length);for(let g=0;g<h;g++){const v=i.get(g),D=c.get(g);if(v<D)return-1;if(v>D)return 1}return i.length<c.length?-1:i.length>c.length?1:0}}class zr extends Ba{construct(i,c,h){return new zr(i,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const c=[];for(const h of i){if(h.indexOf("//")>=0)throw new It(pt.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(g=>g.length>0))}return new zr(c)}static emptyPath(){return new zr([])}}const yl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ui extends Ba{construct(i,c,h){return new Ui(i,c,h)}static isValidIdentifier(i){return yl.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ui.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ui(["__name__"])}static fromServerFormat(i){const c=[];let h="",g=0;const v=()=>{if(0===h.length)throw new It(pt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let D=!1;for(;g<i.length;){const L=i[g];if("\\"===L){if(g+1===i.length)throw new It(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const q=i[g+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new It(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);h+=q,g+=2}else"`"===L?(D=!D,g++):"."!==L||D?(h+=L,g++):(v(),g++)}if(v(),D)throw new It(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Ui(c)}static emptyPath(){return new Ui([])}}class Vo{constructor(i){this.fields=i,i.sort(Ui.comparator)}covers(i){for(const c of this.fields)if(c.isPrefixOf(i))return!0;return!1}isEqual(i){return Hs(this.fields,i.fields,(c,h)=>c.isEqual(h))}}class gi{constructor(i){this.binaryString=i}static fromBase64String(i){const c=atob(i);return new gi(c)}static fromUint8Array(i){const c=function(h){let g="";for(let v=0;v<h.length;++v)g+=String.fromCharCode(h[v]);return g}(i);return new gi(c)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const c=new Uint8Array(i.length);for(let h=0;h<i.length;h++)c[h]=i.charCodeAt(h);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Cr(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(u){if(Yn(!!u),"string"==typeof u){let i=0;const c=kc.exec(u);if(Yn(!!c),c[1]){let g=c[1];g=(g+"000000000").substr(0,9),i=Number(g)}const h=new Date(u);return{seconds:Math.floor(h.getTime()/1e3),nanos:i}}return{seconds:Jr(u.seconds),nanos:Jr(u.nanos)}}function Jr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Ji(u){return"string"==typeof u?gi.fromBase64String(u):gi.fromUint8Array(u)}function vl(u){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==u?void 0:u.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function bu(u){const i=u.mapValue.fields.__previous_value__;return vl(i)?bu(i):i}function jo(u){const i=To(u.mapValue.fields.__local_write_time__.timestampValue);return new Xr(i.seconds,i.nanos)}class nd{constructor(i,c,h,g,v,D,L,q){this.databaseId=i,this.appId=c,this.persistenceKey=h,this.host=g,this.ssl=v,this.forceLongPolling=D,this.autoDetectLongPolling=L,this.useFetchStreams=q}}class ac{constructor(i,c){this.projectId=i,this.database=c||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof ac&&i.projectId===this.projectId&&i.database===this.database}}function ri(u){return null==u}function cc(u){return 0===u&&1/u==-1/0}class fn{constructor(i){this.path=i}static fromPath(i){return new fn(zr.fromString(i))}static fromName(i){return new fn(zr.fromString(i).popFirst(5))}static empty(){return new fn(zr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===zr.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,c){return zr.comparator(i.path,c.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new fn(new zr(i.slice()))}}function uc(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?vl(u)?4:Lc(u)?9:10:Rn()}function Cs(u,i){if(u===i)return!0;const c=uc(u);if(c!==uc(i))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===i.booleanValue;case 4:return jo(u).isEqual(jo(i));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const v=To(h.timestampValue),D=To(g.timestampValue);return v.seconds===D.seconds&&v.nanos===D.nanos}(u,i);case 5:return u.stringValue===i.stringValue;case 6:return g=i,Ji(u.bytesValue).isEqual(Ji(g.bytesValue));case 7:return u.referenceValue===i.referenceValue;case 8:return function(h,g){return Jr(h.geoPointValue.latitude)===Jr(g.geoPointValue.latitude)&&Jr(h.geoPointValue.longitude)===Jr(g.geoPointValue.longitude)}(u,i);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Jr(h.integerValue)===Jr(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const v=Jr(h.doubleValue),D=Jr(g.doubleValue);return v===D?cc(v)===cc(D):isNaN(v)&&isNaN(D)}return!1}(u,i);case 9:return Hs(u.arrayValue.values||[],i.arrayValue.values||[],Cs);case 10:return function(h,g){const v=h.mapValue.fields||{},D=g.mapValue.fields||{};if(_l(v)!==_l(D))return!1;for(const L in v)if(v.hasOwnProperty(L)&&(void 0===D[L]||!Cs(v[L],D[L])))return!1;return!0}(u,i);default:return Rn()}var g}function ws(u,i){return void 0!==(u.values||[]).find(c=>Cs(c,i))}function la(u,i){if(u===i)return 0;const c=uc(u),h=uc(i);if(c!==h)return Cr(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return Cr(u.booleanValue,i.booleanValue);case 2:return function(g,v){const D=Jr(g.integerValue||g.doubleValue),L=Jr(v.integerValue||v.doubleValue);return D<L?-1:D>L?1:D===L?0:isNaN(D)?isNaN(L)?0:-1:1}(u,i);case 3:return Di(u.timestampValue,i.timestampValue);case 4:return Di(jo(u),jo(i));case 5:return Cr(u.stringValue,i.stringValue);case 6:return function(g,v){const D=Ji(g),L=Ji(v);return D.compareTo(L)}(u.bytesValue,i.bytesValue);case 7:return function(g,v){const D=g.split("/"),L=v.split("/");for(let q=0;q<D.length&&q<L.length;q++){const te=Cr(D[q],L[q]);if(0!==te)return te}return Cr(D.length,L.length)}(u.referenceValue,i.referenceValue);case 8:return function(g,v){const D=Cr(Jr(g.latitude),Jr(v.latitude));return 0!==D?D:Cr(Jr(g.longitude),Jr(v.longitude))}(u.geoPointValue,i.geoPointValue);case 9:return function(g,v){const D=g.values||[],L=v.values||[];for(let q=0;q<D.length&&q<L.length;++q){const te=la(D[q],L[q]);if(te)return te}return Cr(D.length,L.length)}(u.arrayValue,i.arrayValue);case 10:return function(g,v){const D=g.fields||{},L=Object.keys(D),q=v.fields||{},te=Object.keys(q);L.sort(),te.sort();for(let xe=0;xe<L.length&&xe<te.length;++xe){const Ve=Cr(L[xe],te[xe]);if(0!==Ve)return Ve;const ht=la(D[L[xe]],q[te[xe]]);if(0!==ht)return ht}return Cr(L.length,te.length)}(u.mapValue,i.mapValue);default:throw Rn()}}function Di(u,i){if("string"==typeof u&&"string"==typeof i&&u.length===i.length)return Cr(u,i);const c=To(u),h=To(i),g=Cr(c.seconds,h.seconds);return 0!==g?g:Cr(c.nanos,h.nanos)}function Ts(u){return Fc(u)}function Fc(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(h){const g=To(h);return`time(${g.seconds},${g.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Ji(u.bytesValue).toBase64():"referenceValue"in u?fn.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(i=u.geoPointValue).latitude},${i.longitude})`:"arrayValue"in u?function(h){let g="[",v=!0;for(const D of h.values||[])v?v=!1:g+=",",g+=Fc(D);return g+"]"}(u.arrayValue):"mapValue"in u?function(h){const g=Object.keys(h.fields||{}).sort();let v="{",D=!0;for(const L of g)D?D=!1:v+=",",v+=`${L}:${Fc(h.fields[L])}`;return v+"}"}(u.mapValue):Rn();var i}function co(u){return!!u&&"integerValue"in u}function Bi(u){return!!u&&"arrayValue"in u}function $s(u){return!!u&&"nullValue"in u}function Cu(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Ni(u){return!!u&&"mapValue"in u}function as(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const i={mapValue:{fields:{}}};return _i(u.mapValue.fields,(c,h)=>i.mapValue.fields[c]=as(h)),i}if(u.arrayValue){const i={arrayValue:{values:[]}};for(let c=0;c<(u.arrayValue.values||[]).length;++c)i.arrayValue.values[c]=as(u.arrayValue.values[c]);return i}return Object.assign({},u)}function Lc(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class ui{constructor(i){this.value=i}static empty(){return new ui({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let c=this.value;for(let h=0;h<i.length-1;++h)if(c=(c.mapValue.fields||{})[i.get(h)],!Ni(c))return null;return c=(c.mapValue.fields||{})[i.lastSegment()],c||null}}set(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=as(c)}setAll(i){let c=Ui.emptyPath(),h={},g=[];i.forEach((D,L)=>{if(!c.isImmediateParentOf(L)){const q=this.getFieldsMap(c);this.applyChanges(q,h,g),h={},g=[],c=L.popLast()}D?h[L.lastSegment()]=as(D):g.push(L.lastSegment())});const v=this.getFieldsMap(c);this.applyChanges(v,h,g)}delete(i){const c=this.field(i.popLast());Ni(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]}isEqual(i){return Cs(this.value,i.value)}getFieldsMap(i){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<i.length;++h){let g=c.mapValue.fields[i.get(h)];Ni(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},c.mapValue.fields[i.get(h)]=g),c=g}return c.mapValue.fields}applyChanges(i,c,h){_i(c,(g,v)=>i[g]=v);for(const g of h)delete i[g]}clone(){return new ui(as(this.value))}}function wu(u){const i=[];return _i(u.fields,(c,h)=>{const g=new Ui([c]);if(Ni(h)){const v=wu(h.mapValue).fields;if(0===v.length)i.push(g);else for(const D of v)i.push(g.child(D))}else i.push(g)}),new Vo(i)}class li{constructor(i,c,h,g,v,D){this.key=i,this.documentType=c,this.version=h,this.readTime=g,this.data=v,this.documentState=D}static newInvalidDocument(i){return new li(i,0,Pn.min(),Pn.min(),ui.empty(),0)}static newFoundDocument(i,c,h){return new li(i,1,c,Pn.min(),h,0)}static newNoDocument(i,c){return new li(i,2,c,Pn.min(),ui.empty(),0)}static newUnknownDocument(i,c){return new li(i,3,c,Pn.min(),ui.empty(),2)}convertToFoundDocument(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=ui.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=ui.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof li&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new li(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tu{constructor(i,c=null,h=[],g=[],v=null,D=null,L=null){this.path=i,this.collectionGroup=c,this.orderBy=h,this.filters=g,this.limit=v,this.startAt=D,this.endAt=L,this.P=null}}function uf(u,i=null,c=[],h=[],g=null,v=null,D=null){return new Tu(u,i,c,h,g,v,D)}function ha(u){const i=rn(u);if(null===i.P){let c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(h=>{return(g=h).field.canonicalString()+g.op.toString()+Ts(g.value);var g}).join(","),c+="|ob:",c+=i.orderBy.map(h=>{return(g=h).field.canonicalString()+g.dir;var g}).join(","),ri(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=i.startAt.inclusive?"b:":"a:",c+=i.startAt.position.map(h=>Ts(h)).join(",")),i.endAt&&(c+="|ub:",c+=i.endAt.inclusive?"a:":"b:",c+=i.endAt.position.map(h=>Ts(h)).join(",")),i.P=c}return i.P}function Ds(u,i){if(u.limit!==i.limit||u.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<u.orderBy.length;g++)if(!Gt(u.orderBy[g],i.orderBy[g]))return!1;if(u.filters.length!==i.filters.length)return!1;for(let g=0;g<u.filters.length;g++)if((c=u.filters[g]).op!==(h=i.filters[g]).op||!c.field.isEqual(h.field)||!Cs(c.value,h.value))return!1;var c,h;return u.collectionGroup===i.collectionGroup&&!!u.path.isEqual(i.path)&&!!lr(u.startAt,i.startAt)&&lr(u.endAt,i.endAt)}function Qi(u){return fn.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Si extends class{}{constructor(i,c,h){super(),this.field=i,this.op=c,this.value=h}static create(i,c,h){return i.isKeyField()?"in"===c||"not-in"===c?this.V(i,c,h):new Bc(i,c,h):"array-contains"===c?new U(i,h):"in"===c?new V(i,h):"not-in"===c?new ee(i,h):"array-contains-any"===c?new Se(i,h):new Si(i,c,h)}static V(i,c,h){return"in"===c?new Eu(i,h):new pa(i,h)}matches(i){const c=i.data.field(this.field);return"!="===this.op?null!==c&&this.v(la(c,this.value)):null!==c&&uc(this.value)===uc(c)&&this.v(la(c,this.value))}v(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Rn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bc extends Si{constructor(i,c,h){super(i,c,h),this.key=fn.fromName(h.referenceValue)}matches(i){const c=fn.comparator(i.key,this.key);return this.v(c)}}class Eu extends Si{constructor(i,c){super(i,"in",c),this.keys=wl(0,c)}matches(i){return this.keys.some(c=>c.isEqual(i.key))}}class pa extends Si{constructor(i,c){super(i,"not-in",c),this.keys=wl(0,c)}matches(i){return!this.keys.some(c=>c.isEqual(i.key))}}function wl(u,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>fn.fromName(h.referenceValue))}class U extends Si{constructor(i,c){super(i,"array-contains",c)}matches(i){const c=i.data.field(this.field);return Bi(c)&&ws(c.arrayValue,this.value)}}class V extends Si{constructor(i,c){super(i,"in",c)}matches(i){const c=i.data.field(this.field);return null!==c&&ws(this.value.arrayValue,c)}}class ee extends Si{constructor(i,c){super(i,"not-in",c)}matches(i){if(ws(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=i.data.field(this.field);return null!==c&&!ws(this.value.arrayValue,c)}}class Se extends Si{constructor(i,c){super(i,"array-contains-any",c)}matches(i){const c=i.data.field(this.field);return!(!Bi(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>ws(this.value.arrayValue,h))}}class Ke{constructor(i,c){this.position=i,this.inclusive=c}}class dt{constructor(i,c="asc"){this.field=i,this.dir=c}}function Gt(u,i){return u.dir===i.dir&&u.field.isEqual(i.field)}function Jt(u,i,c){let h=0;for(let g=0;g<u.position.length;g++){const v=i[g],D=u.position[g];if(h=v.field.isKeyField()?fn.comparator(fn.fromName(D.referenceValue),c.key):la(D,c.data.field(v.field)),"desc"===v.dir&&(h*=-1),0!==h)break}return h}function lr(u,i){if(null===u)return null===i;if(null===i||u.inclusive!==i.inclusive||u.position.length!==i.position.length)return!1;for(let c=0;c<u.position.length;c++)if(!Cs(u.position[c],i.position[c]))return!1;return!0}class Hn{constructor(i,c=null,h=[],g=[],v=null,D="F",L=null,q=null){this.path=i,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=g,this.limit=v,this.limitType=D,this.startAt=L,this.endAt=q,this.D=null,this.C=null}}function Zn(u){return new Hn(u)}function Vi(u){return!ri(u.limit)&&"F"===u.limitType}function xi(u){return!ri(u.limit)&&"L"===u.limitType}function lo(u){const i=rn(u);if(null===i.D){i.D=[];const c=function Ss(u){for(const i of u.filters)if(i.S())return i.field;return null}(i),h=function lc(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}(i);if(null!==c&&null===h)c.isKeyField()||i.D.push(new dt(c)),i.D.push(new dt(Ui.keyField(),"asc"));else{let g=!1;for(const v of i.explicitOrderBy)i.D.push(v),v.field.isKeyField()&&(g=!0);if(!g){const v=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.D.push(new dt(Ui.keyField(),v))}}}return i.D}function ei(u){const i=rn(u);if(!i.C)if("F"===i.limitType)i.C=uf(i.path,i.collectionGroup,lo(i),i.filters,i.limit,i.startAt,i.endAt);else{const c=[];for(const v of lo(i))c.push(new dt(v.field,"desc"===v.dir?"asc":"desc"));const h=i.endAt?new Ke(i.endAt.position,!i.endAt.inclusive):null,g=i.startAt?new Ke(i.startAt.position,!i.startAt.inclusive):null;i.C=uf(i.path,i.collectionGroup,c,i.filters,i.limit,h,g)}return i.C}function Tl(u,i){return Ds(ei(u),ei(i))&&u.limitType===i.limitType}function Du(u){return`${ha(ei(u))}|lt:${u.limitType}`}function Vc(u){return`Query(target=${function Uc(u){let i=u.path.canonicalString();return null!==u.collectionGroup&&(i+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(i+=`, filters: [${u.filters.map(c=>{return`${(h=c).field.canonicalString()} ${h.op} ${Ts(h.value)}`;var h}).join(", ")}]`),ri(u.limit)||(i+=", limit: "+u.limit),u.orderBy.length>0&&(i+=`, orderBy: [${u.orderBy.map(c=>{return`${(h=c).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),u.startAt&&(i+=", startAt: ",i+=u.startAt.inclusive?"b:":"a:",i+=u.startAt.position.map(c=>Ts(c)).join(",")),u.endAt&&(i+=", endAt: ",i+=u.endAt.inclusive?"a:":"b:",i+=u.endAt.position.map(c=>Ts(c)).join(",")),`Target(${i})`}(ei(u))}; limitType=${u.limitType})`}function El(u,i){return i.isFoundDocument()&&function(c,h){const g=h.key.path;return null!==c.collectionGroup?h.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(g):fn.isDocumentKey(c.path)?c.path.isEqual(g):c.path.isImmediateParentOf(g)}(u,i)&&function(c,h){for(const g of c.explicitOrderBy)if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(u,i)&&function(c,h){for(const g of c.filters)if(!g.matches(h))return!1;return!0}(u,i)&&(h=i,!((c=u).startAt&&!function(g,v,D){const L=Jt(g,v,D);return g.inclusive?L<=0:L<0}(c.startAt,lo(c),h)||c.endAt&&!function(g,v,D){const L=Jt(g,v,D);return g.inclusive?L>=0:L>0}(c.endAt,lo(c),h)));var c,h}function lf(u){return(i,c)=>{let h=!1;for(const g of lo(u)){const v=Dl(g,i,c);if(0!==v)return v;h=h||g.field.isKeyField()}return 0}}function Dl(u,i,c){const h=u.field.isKeyField()?fn.comparator(i.key,c.key):function(g,v,D){const L=v.data.field(g),q=D.data.field(g);return null!==L&&null!==q?la(L,q):Rn()}(u.field,i,c);switch(u.dir){case"asc":return h;case"desc":return-1*h;default:return Rn()}}function jc(u,i){if(u.N){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cc(i)?"-0":i}}function Gc(u){return{integerValue:""+u}}function Cp(u,i){return function ah(u){return"number"==typeof u&&Number.isInteger(u)&&!cc(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(i)?Gc(i):jc(u,i)}class Sl{constructor(){this._=void 0}}function df(u,i,c){return u instanceof Su?function(h,g){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&(v.fields.__previous_value__=g),{mapValue:v}}(c,i):u instanceof qs?Tp(u,i):u instanceof ja?Hc(u,i):function(h,g){const v=ch(h,g),D=hf(v)+hf(h.k);return co(v)&&co(h.k)?Gc(D):jc(h.M,D)}(u,i)}function wp(u,i,c){return u instanceof qs?Tp(u,i):u instanceof ja?Hc(u,i):c}function ch(u,i){return u instanceof xs?co(c=i)||(h=c)&&"doubleValue"in h?i:{integerValue:0}:null;var h,c}class Su extends Sl{}class qs extends Sl{constructor(i){super(),this.elements=i}}function Tp(u,i){const c=im(i);for(const h of u.elements)c.some(g=>Cs(g,h))||c.push(h);return{arrayValue:{values:c}}}class ja extends Sl{constructor(i){super(),this.elements=i}}function Hc(u,i){let c=im(i);for(const h of u.elements)c=c.filter(g=>!Cs(g,h));return{arrayValue:{values:c}}}class xs extends Sl{constructor(i,c){super(),this.M=i,this.k=c}}function hf(u){return Jr(u.integerValue||u.doubleValue)}function im(u){return Bi(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class uh{constructor(i,c){this.version=i,this.transformResults=c}}class ji{constructor(i,c){this.updateTime=i,this.exists=c}static none(){return new ji}static exists(i){return new ji(void 0,i)}static updateTime(i){return new ji(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function xl(u,i){return void 0!==u.updateTime?i.isFoundDocument()&&i.version.isEqual(u.updateTime):void 0===u.exists||u.exists===i.isFoundDocument()}class sd{}function $c(u,i,c){u instanceof cd?function(h,g,v){const D=h.value.clone(),L=gf(h.fieldTransforms,g,v.transformResults);D.setAll(L),g.convertToFoundDocument(v.version,D).setHasCommittedMutations()}(u,i,c):u instanceof ds?function(h,g,v){if(!xl(h.precondition,g))return void g.convertToUnknownDocument(v.version);const D=gf(h.fieldTransforms,g,v.transformResults),L=g.data;L.setAll(hc(h)),L.setAll(D),g.convertToFoundDocument(v.version,L).setHasCommittedMutations()}(u,i,c):i.convertToNoDocument(c.version).setHasCommittedMutations()}function cs(u,i,c){var g;u instanceof cd?function(h,g,v){if(!xl(h.precondition,g))return;const D=h.value.clone(),L=ud(h.fieldTransforms,v,g);D.setAll(L),g.convertToFoundDocument(ad(g),D).setHasLocalMutations()}(u,i,c):u instanceof ds?function(h,g,v){if(!xl(h.precondition,g))return;const D=ud(h.fieldTransforms,v,g),L=g.data;L.setAll(hc(h)),L.setAll(D),g.convertToFoundDocument(ad(g),L).setHasLocalMutations()}(u,i,c):xl(u.precondition,g=i)&&g.convertToNoDocument(Pn.min())}function Ep(u,i){let c=null;for(const h of u.fieldTransforms){const g=i.data.field(h.field),v=ch(h.transform,g||null);null!=v&&(null==c&&(c=ui.empty()),c.set(h.field,v))}return c||null}function Dp(u,i){return u.type===i.type&&!!u.key.isEqual(i.key)&&!!u.precondition.isEqual(i.precondition)&&(h=i.fieldTransforms,!!(void 0===(c=u.fieldTransforms)&&void 0===h||c&&h&&Hs(c,h,(g,v)=>function pf(u,i){return u.field.isEqual(i.field)&&(h=i.transform,(c=u.transform)instanceof qs&&h instanceof qs||c instanceof ja&&h instanceof ja?Hs(c.elements,h.elements,Cs):c instanceof xs&&h instanceof xs?Cs(c.k,h.k):c instanceof Su&&h instanceof Su);var c,h}(g,v))))&&(0===u.type?u.value.isEqual(i.value):1!==u.type||u.data.isEqual(i.data)&&u.fieldMask.isEqual(i.fieldMask));var c,h}function ad(u){return u.isFoundDocument()?u.version:Pn.min()}class cd extends sd{constructor(i,c,h,g=[]){super(),this.key=i,this.value=c,this.precondition=h,this.fieldTransforms=g,this.type=0}}class ds extends sd{constructor(i,c,h,g,v=[]){super(),this.key=i,this.data=c,this.fieldMask=h,this.precondition=g,this.fieldTransforms=v,this.type=1}}function hc(u){const i=new Map;return u.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=u.data.field(c);i.set(c,h)}}),i}function gf(u,i,c){const h=new Map;Yn(u.length===c.length);for(let g=0;g<c.length;g++){const v=u[g],D=v.transform,L=i.data.field(v.field);h.set(v.field,wp(D,L,c[g]))}return h}function ud(u,i,c){const h=new Map;for(const g of u){const v=g.transform,D=c.data.field(g.field);h.set(g.field,df(v,D,i))}return h}class lh extends sd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=2,this.fieldTransforms=[]}}class dh extends sd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=3,this.fieldTransforms=[]}}class om{constructor(i){this.count=i}}var Gi,Rr;function mf(u){switch(u){default:return Rn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function ld(u){if(void 0===u)return ar("GRPC error has no .code"),pt.UNKNOWN;switch(u){case Gi.OK:return pt.OK;case Gi.CANCELLED:return pt.CANCELLED;case Gi.UNKNOWN:return pt.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return pt.INTERNAL;case Gi.UNAVAILABLE:return pt.UNAVAILABLE;case Gi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Gi.NOT_FOUND:return pt.NOT_FOUND;case Gi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Gi.ABORTED:return pt.ABORTED;case Gi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Gi.DATA_LOSS:return pt.DATA_LOSS;default:return Rn()}}(Rr=Gi||(Gi={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";class qc{constructor(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={},this.innerSize=0}get(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0!==h)for(const[g,v]of h)if(this.equalsFn(g,i))return v}has(i){return void 0!==this.get(i)}set(i,c){const h=this.mapKeyFn(i),g=this.inner[h];if(void 0===g)return this.inner[h]=[[i,c]],void this.innerSize++;for(let v=0;v<g.length;v++)if(this.equalsFn(g[v][0],i))return void(g[v]=[i,c]);g.push([i,c]),this.innerSize++}delete(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0===h)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],i))return 1===h.length?delete this.inner[c]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(i){_i(this.inner,(c,h)=>{for(const[g,v]of h)i(g,v)})}isEmpty(){return bs(this.inner)}size(){return this.innerSize}}class Ai{constructor(i,c){this.comparator=i,this.root=c||Eo.EMPTY}insert(i,c){return new Ai(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,Eo.BLACK,null,null))}remove(i){return new Ai(this.comparator,this.root.remove(i,this.comparator).copy(null,null,Eo.BLACK,null,null))}get(i){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(i,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(i){let c=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(i,h.key);if(0===g)return c+h.left.size;g<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((c,h)=>(i(c,h),!1))}toString(){const i=[];return this.inorderTraversal((c,h)=>(i.push(`${c}:${h}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new _f(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new _f(this.root,i,this.comparator,!1)}getReverseIterator(){return new _f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new _f(this.root,i,this.comparator,!0)}}class _f{constructor(i,c,h,g){this.isReverse=g,this.nodeStack=[];let v=1;for(;!i.isEmpty();)if(v=c?h(i.key,c):1,c&&g&&(v*=-1),v<0)i=this.isReverse?i.left:i.right;else{if(0===v){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class Eo{constructor(i,c,h,g,v){this.key=i,this.value=c,this.color=null!=h?h:Eo.RED,this.left=null!=g?g:Eo.EMPTY,this.right=null!=v?v:Eo.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,c,h,g,v){return new Eo(null!=i?i:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=g?g:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,c,h){let g=this;const v=h(i,g.key);return g=v<0?g.copy(null,null,null,g.left.insert(i,c,h),null):0===v?g.copy(null,c,null,null,null):g.copy(null,null,null,null,g.right.insert(i,c,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Eo.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,c){let h,g=this;if(c(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,c),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===c(i,g.key)){if(g.right.isEmpty())return Eo.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,c))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,Eo.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,Eo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Rn();const i=this.left.check();if(i!==this.right.check())throw Rn();return i+(this.isRed()?0:1)}}Eo.EMPTY=null,Eo.RED=!0,Eo.BLACK=!1,Eo.EMPTY=new class{constructor(){this.size=0}get key(){throw Rn()}get value(){throw Rn()}get color(){throw Rn()}get left(){throw Rn()}get right(){throw Rn()}copy(u,i,c,h,g){return this}insert(u,i,c){return new Eo(u,i)}remove(u,i){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(i){this.comparator=i,this.data=new Ai(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((c,h)=>(i(c),!1))}forEachInRange(i,c){const h=this.data.getIteratorFrom(i[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,i[1])>=0)return;c(g.key)}}forEachWhile(i,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!i(h.getNext().key))return}firstAfterOrEqual(i){const c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null}getIterator(){return new dd(this.data.getIterator())}getIteratorFrom(i){return new dd(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let c=this;return c.size<i.size&&(c=i,i=this),i.forEach(h=>{c=c.add(h)}),c}isEqual(i){if(!(i instanceof ti)||this.size!==i.size)return!1;const c=this.data.getIterator(),h=i.data.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(0!==this.comparator(g,v))return!1}return!0}toArray(){const i=[];return this.forEach(c=>{i.push(c)}),i}toString(){const i=[];return this.forEach(c=>i.push(c)),"SortedSet("+i.toString()+")"}copy(i){const c=new ti(this.comparator);return c.data=i,c}}class dd{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const hh=new Ai(fn.comparator);function $o(){return hh}const Sp=new Ai(fn.comparator);function Zc(){return Sp}function hd(){return new qc(u=>u.toString(),(u,i)=>u.isEqual(i))}const hy=new Ai(fn.comparator),sm=new ti(fn.comparator);function Qr(...u){let i=sm;for(const c of u)i=i.add(c);return i}const am=new ti(Cr);function xu(){return am}class fd{constructor(i,c,h,g,v){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(i,c){const h=new Map;return h.set(i,fh.createSynthesizedTargetChangeForCurrentChange(i,c)),new fd(Pn.min(),h,xu(),$o(),Qr())}}class fh{constructor(i,c,h,g,v){this.resumeToken=i,this.current=c,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(i,c){return new fh(gi.EMPTY_BYTE_STRING,c,Qr(),Qr(),Qr())}}class ph{constructor(i,c,h,g){this.O=i,this.removedTargetIds=c,this.key=h,this.$=g}}class xp{constructor(i,c){this.targetId=i,this.F=c}}class Au{constructor(i,c,h=gi.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=c,this.resumeToken=h,this.cause=g}}class cm{constructor(){this.B=0,this.L=pd(),this.q=gi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(i){i.approximateByteSize()>0&&(this.K=!0,this.q=i)}H(){let i=Qr(),c=Qr(),h=Qr();return this.L.forEach((g,v)=>{switch(v){case 0:i=i.add(g);break;case 2:c=c.add(g);break;case 1:h=h.add(g);break;default:Rn()}}),new fh(this.q,this.U,i,c,h)}J(){this.K=!1,this.L=pd()}Y(i,c){this.K=!0,this.L=this.L.insert(i,c)}X(i){this.K=!0,this.L=this.L.remove(i)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class um{constructor(i){this.nt=i,this.st=new Map,this.it=$o(),this.rt=Ap(),this.ot=new ti(Cr)}at(i){for(const c of i.O)i.$&&i.$.isFoundDocument()?this.ut(c,i.$):this.ct(c,i.key,i.$);for(const c of i.removedTargetIds)this.ct(c,i.key,i.$)}ht(i){this.forEachTarget(i,c=>{const h=this.lt(c);switch(i.state){case 0:this.ft(c)&&h.W(i.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(i.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(c);break;case 3:this.ft(c)&&(h.et(),h.W(i.resumeToken));break;case 4:this.ft(c)&&(this.dt(c),h.W(i.resumeToken));break;default:Rn()}})}forEachTarget(i,c){i.targetIds.length>0?i.targetIds.forEach(c):this.st.forEach((h,g)=>{this.ft(g)&&c(g)})}_t(i){const c=i.targetId,h=i.F.count,g=this.wt(c);if(g){const v=g.target;if(Qi(v))if(0===h){const D=new fn(v.path);this.ct(c,D,li.newNoDocument(D,Pn.min()))}else Yn(1===h);else this.gt(c)!==h&&(this.dt(c),this.ot=this.ot.add(c))}}yt(i){const c=new Map;this.st.forEach((v,D)=>{const L=this.wt(D);if(L){if(v.current&&Qi(L.target)){const q=new fn(L.target.path);null!==this.it.get(q)||this.It(D,q)||this.ct(D,q,li.newNoDocument(q,i))}v.j&&(c.set(D,v.H()),v.J())}});let h=Qr();this.rt.forEach((v,D)=>{let L=!0;D.forEachWhile(q=>{const te=this.wt(q);return!te||2===te.purpose||(L=!1,!1)}),L&&(h=h.add(v))}),this.it.forEach((v,D)=>D.setReadTime(i));const g=new fd(i,c,this.ot,this.it,h);return this.it=$o(),this.rt=Ap(),this.ot=new ti(Cr),g}ut(i,c){if(!this.ft(i))return;const h=this.It(i,c.key)?2:0;this.lt(i).Y(c.key,h),this.it=this.it.insert(c.key,c),this.rt=this.rt.insert(c.key,this.Tt(c.key).add(i))}ct(i,c,h){if(!this.ft(i))return;const g=this.lt(i);this.It(i,c)?g.Y(c,1):g.X(c),this.rt=this.rt.insert(c,this.Tt(c).delete(i)),h&&(this.it=this.it.insert(c,h))}removeTarget(i){this.st.delete(i)}gt(i){const c=this.lt(i).H();return this.nt.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size}Z(i){this.lt(i).Z()}lt(i){let c=this.st.get(i);return c||(c=new cm,this.st.set(i,c)),c}Tt(i){let c=this.rt.get(i);return c||(c=new ti(Cr),this.rt=this.rt.insert(i,c)),c}ft(i){const c=null!==this.wt(i);return c||Zt("WatchChangeAggregator","Detected inactive target",i),c}wt(i){const c=this.st.get(i);return c&&c.G?null:this.nt.Et(i)}dt(i){this.st.set(i,new cm),this.nt.getRemoteKeysForTarget(i).forEach(c=>{this.ct(i,c,null)})}It(i,c){return this.nt.getRemoteKeysForTarget(i).has(c)}}function Ap(){return new Ai(fn.comparator)}function pd(){return new Ai(fn.comparator)}const lm={asc:"ASCENDING",desc:"DESCENDING"},Ip={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Mp{constructor(i,c){this.databaseId=i,this.N=c}}function yi(u,i){return u.N?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Op(u,i){return u.N?i.toBase64():i.toUint8Array()}function dm(u,i){return yi(u,i.toTimestamp())}function ho(u){return Yn(!!u),Pn.fromTimestamp(function(i){const c=To(i);return new Xr(c.seconds,c.nanos)}(u))}function gh(u,i){return(c=u,new zr(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function hm(u){const i=zr.fromString(u);return Yn(_h(i)),i}function Iu(u,i){return gh(u.databaseId,i.path)}function fc(u,i){const c=hm(i);if(c.get(1)!==u.databaseId.projectId)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+u.databaseId.projectId);if(c.get(3)!==u.databaseId.database)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+u.databaseId.database);return new fn(fy(c))}function yf(u,i){return gh(u.databaseId,i)}function Pp(u){return new zr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function fy(u){return Yn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function gd(u,i,c){return{name:Iu(u,i),fields:c.value.mapValue.fields}}function bf(u,i){return{documents:[yf(u,i.path)]}}function Ga(u,i){const c={structuredQuery:{}},h=i.path;null!==i.collectionGroup?(c.parent=yf(u,h),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=yf(u,h.popLast()),c.structuredQuery.from=[{collectionId:h.lastSegment()}]);const g=function(q){if(0===q.length)return;const te=q.map(xe=>function(Ve){if("=="===Ve.op){if(Cu(Ve.value))return{unaryFilter:{field:Al(Ve.field),op:"IS_NAN"}};if($s(Ve.value))return{unaryFilter:{field:Al(Ve.field),op:"IS_NULL"}}}else if("!="===Ve.op){if(Cu(Ve.value))return{unaryFilter:{field:Al(Ve.field),op:"IS_NOT_NAN"}};if($s(Ve.value))return{unaryFilter:{field:Al(Ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Al(Ve.field),op:md(Ve.op),value:Ve.value}}}(xe));return 1===te.length?te[0]:{compositeFilter:{op:"AND",filters:te}}}(i.filters);g&&(c.structuredQuery.where=g);const v=function(q){if(0!==q.length)return q.map(te=>{return{field:Al((xe=te).field),direction:fo(xe.dir)};var xe})}(i.orderBy);v&&(c.structuredQuery.orderBy=v);const D=(te=i.limit,u.N||ri(te)?te:{value:te});var te,L,q;return null!==D&&(c.structuredQuery.limit=D),i.startAt&&(c.structuredQuery.startAt={before:(L=i.startAt).inclusive,values:L.position}),i.endAt&&(c.structuredQuery.endAt={before:!(q=i.endAt).inclusive,values:q.position}),c}function Wc(u){let i=function q_(u){const i=hm(u);return 4===i.length?zr.emptyPath():fy(i)}(u.parent);const c=u.structuredQuery,h=c.from?c.from.length:0;let g=null;if(h>0){Yn(1===h);const xe=c.from[0];xe.allDescendants?g=xe.collectionId:i=i.child(xe.collectionId)}let v=[];c.where&&(v=si(c.where));let D=[];c.orderBy&&(D=c.orderBy.map(xe=>{return new dt(Mu((Ve=xe).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ve.direction));var Ve}));let L=null;c.limit&&(L=function(xe){let Ve;return Ve="object"==typeof xe?xe.value:xe,ri(Ve)?null:Ve}(c.limit));let q=null;var xe;c.startAt&&(q=new Ke((xe=c.startAt).values||[],!!xe.before));let te=null;return c.endAt&&(te=function(xe){return new Ke(xe.values||[],!xe.before)}(c.endAt)),function Nr(u,i,c,h,g,v,D,L){return new Hn(u,i,c,h,g,v,D,L)}(i,g,D,v,L,"F",q,te)}function si(u){return u?void 0!==u.unaryFilter?[Cf(u)]:void 0!==u.fieldFilter?[W_(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(i=>si(i)).reduce((i,c)=>i.concat(c)):Rn():[]}function fo(u){return lm[u]}function md(u){return Ip[u]}function Al(u){return{fieldPath:u.canonicalString()}}function Mu(u){return Ui.fromServerFormat(u.fieldPath)}function W_(u){return Si.create(Mu(u.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Rn()}}(u.fieldFilter.op),u.fieldFilter.value)}function Cf(u){switch(u.unaryFilter.op){case"IS_NAN":const i=Mu(u.unaryFilter.field);return Si.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=Mu(u.unaryFilter.field);return Si.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Mu(u.unaryFilter.field);return Si.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Mu(u.unaryFilter.field);return Si.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Rn()}}function ga(u){const i=[];return u.fields.forEach(c=>i.push(c.canonicalString())),{fieldPaths:i}}function _h(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}const kp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _t{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(i){return this.next(void 0,i)}next(i,c){return this.callbackAttached&&Rn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new _t((h,g)=>{this.nextCallback=v=>{this.wrapSuccess(i,v).next(h,g)},this.catchCallback=v=>{this.wrapFailure(c,v).next(h,g)}})}toPromise(){return new Promise((i,c)=>{this.next(i,c)})}wrapUserFunction(i){try{const c=i();return c instanceof _t?c:_t.resolve(c)}catch(c){return _t.reject(c)}}wrapSuccess(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.resolve(c)}wrapFailure(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.reject(c)}static resolve(i){return new _t((c,h)=>{c(i)})}static reject(i){return new _t((c,h)=>{h(i)})}static waitFor(i){return new _t((c,h)=>{let g=0,v=0,D=!1;i.forEach(L=>{++g,L.next(()=>{++v,D&&v===g&&c()},q=>h(q))}),D=!0,v===g&&c()})}static or(i){let c=_t.resolve(!1);for(const h of i)c=c.next(g=>g?_t.resolve(g):h());return c}static forEach(i,c){const h=[];return i.forEach((g,v)=>{h.push(c.call(this,g,v))}),this.waitFor(h)}}function fs(u){return"IndexedDbTransactionError"===u.name}class _d{constructor(i,c,h,g){this.batchId=i,this.localWriteTime=c,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(i,c){const h=c.mutationResults;for(let g=0;g<this.mutations.length;g++){const v=this.mutations[g];v.key.isEqual(i.key)&&$c(v,i,h[g])}}applyToLocalView(i){for(const c of this.baseMutations)c.key.isEqual(i.key)&&cs(c,i,this.localWriteTime);for(const c of this.mutations)c.key.isEqual(i.key)&&cs(c,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(c=>{const h=i.get(c.key),g=h;this.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(Pn.min())})}keys(){return this.mutations.reduce((i,c)=>i.add(c.key),Qr())}isEqual(i){return this.batchId===i.batchId&&Hs(this.mutations,i.mutations,(c,h)=>Dp(c,h))&&Hs(this.baseMutations,i.baseMutations,(c,h)=>Dp(c,h))}}class yd{constructor(i,c,h,g){this.batch=i,this.commitVersion=c,this.mutationResults=h,this.docVersions=g}static from(i,c,h){Yn(i.mutations.length===h.length);let g=hy;const v=i.mutations;for(let D=0;D<v.length;D++)g=g.insert(v[D].key,h[D].version);return new yd(i,c,h,g)}}class Th{constructor(i,c){this.largestBatchId=i,this.mutation=c}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class pc{constructor(i,c,h,g,v=Pn.min(),D=Pn.min(),L=gi.EMPTY_BYTE_STRING){this.target=i,this.targetId=c,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=L}withSequenceNumber(i){return new pc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,c){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new pc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class gm{constructor(i){this.Jt=i}}function Fp(u){const i=Wc({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?function dc(u,i,c){return new Hn(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),i,c,u.startAt,u.endAt)}(i,i.limit,"L"):i}class Do{constructor(){}Zt(i,c){this.te(i,c),c.ee()}te(i,c){if("nullValue"in i)this.ne(c,5);else if("booleanValue"in i)this.ne(c,10),c.se(i.booleanValue?1:0);else if("integerValue"in i)this.ne(c,15),c.se(Jr(i.integerValue));else if("doubleValue"in i){const h=Jr(i.doubleValue);isNaN(h)?this.ne(c,13):(this.ne(c,15),cc(h)?c.se(0):c.se(h))}else if("timestampValue"in i){const h=i.timestampValue;this.ne(c,20),"string"==typeof h?c.ie(h):(c.ie(`${h.seconds||""}`),c.se(h.nanos||0))}else if("stringValue"in i)this.re(i.stringValue,c),this.oe(c);else if("bytesValue"in i)this.ne(c,30),c.ae(Ji(i.bytesValue)),this.oe(c);else if("referenceValue"in i)this.ue(i.referenceValue,c);else if("geoPointValue"in i){const h=i.geoPointValue;this.ne(c,45),c.se(h.latitude||0),c.se(h.longitude||0)}else"mapValue"in i?Lc(i)?this.ne(c,Number.MAX_SAFE_INTEGER):(this.ce(i.mapValue,c),this.oe(c)):"arrayValue"in i?(this.he(i.arrayValue,c),this.oe(c)):Rn()}re(i,c){this.ne(c,25),this.le(i,c)}le(i,c){c.ie(i)}ce(i,c){const h=i.fields||{};this.ne(c,55);for(const g of Object.keys(h))this.re(g,c),this.te(h[g],c)}he(i,c){const h=i.values||[];this.ne(c,50);for(const g of h)this.te(g,c)}ue(i,c){this.ne(c,37),fn.fromName(i).path.forEach(h=>{this.ne(c,60),this.le(h,c)})}ne(i,c){i.se(c)}oe(i){i.se(2)}}Do.fe=new Do;class Pu{constructor(){this.Ue=new Er}addToCollectionParentIndex(i,c){return this.Ue.add(c),_t.resolve()}getCollectionParents(i,c){return _t.resolve(this.Ue.getEntries(c))}addFieldIndex(i,c){return _t.resolve()}deleteFieldIndex(i,c){return _t.resolve()}getDocumentsMatchingTarget(i,c){return _t.resolve(null)}getFieldIndex(i,c){return _t.resolve(null)}getFieldIndexes(i,c){return _t.resolve([])}getNextCollectionGroupToUpdate(i){return _t.resolve(null)}updateCollectionGroup(i,c,h){return _t.resolve()}updateIndexEntries(i,c){return _t.resolve()}}class Er{constructor(){this.index={}}add(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c]||new ti(zr.comparator),v=!g.has(h);return this.index[c]=g.add(h),v}has(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c];return g&&g.has(h)}getEntries(i){return(this.index[i]||new ti(zr.comparator)).toArray()}}new Uint8Array(0);class ko{constructor(i,c,h){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(i){return new ko(i,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}ko.DEFAULT_COLLECTION_PERCENTILE=10,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ko.DEFAULT=new ko(41943040,ko.DEFAULT_COLLECTION_PERCENTILE,ko.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ko.DISABLED=new ko(-1,0,0);class Nu{constructor(i){this.wn=i}next(){return this.wn+=2,this.wn}static mn(){return new Nu(0)}static gn(){return new Nu(-1)}}function Pl(u){return Of.apply(this,arguments)}function Of(){return Of=(0,t.Z)(function*(u){if(u.code!==pt.FAILED_PRECONDITION||u.message!==kp)throw u;Zt("LocalStore","Unexpectedly lost primary lease")}),Of.apply(this,arguments)}class Sd{constructor(i,c,h){this.ls=i,this.Fs=c,this.indexManager=h}Bs(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKey(i,c).next(h=>this.Ls(i,c,h))}Ls(i,c,h){return this.ls.getEntry(i,c).next(g=>{for(const v of h)v.applyToLocalView(g);return g})}qs(i,c){i.forEach((h,g)=>{for(const v of c)v.applyToLocalView(g)})}Us(i,c){return this.ls.getEntries(i,c).next(h=>this.Ks(i,h).next(()=>h))}Ks(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(i,c).next(h=>this.qs(c,h))}Gs(i,c,h){return fn.isDocumentKey((g=c).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(i,c.path):function uo(u){return null!==u.collectionGroup}(c)?this.js(i,c,h):this.Ws(i,c,h);var g}Qs(i,c){return this.Bs(i,new fn(c)).next(h=>{let g=Zc();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}js(i,c,h){const g=c.collectionGroup;let v=Zc();return this.indexManager.getCollectionParents(i,g).next(D=>_t.forEach(D,L=>{const q=(te=c,xe=L.child(g),new Hn(xe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,xe;return this.Ws(i,q,h).next(te=>{te.forEach((xe,Ve)=>{v=v.insert(xe,Ve)})})}).next(()=>v))}Ws(i,c,h){let g;return this.ls.getAll(i,c.path,h).next(v=>(g=v,this.Fs.getAllMutationBatchesAffectingQuery(i,c))).next(v=>{for(const D of v)for(const L of D.mutations){const q=L.key;let te=g.get(q);null==te&&(te=li.newInvalidDocument(q),g=g.insert(q,te)),cs(L,te,D.localWriteTime),te.isFoundDocument()||(g=g.remove(q))}}).next(()=>(g.forEach((v,D)=>{El(c,D)||(g=g.remove(v))}),g))}}class za{constructor(i,c,h,g){this.targetId=i,this.fromCache=c,this.zs=h,this.Hs=g}static Js(i,c){let h=Qr(),g=Qr();for(const v of c.docChanges)switch(v.type){case 0:h=h.add(v.doc.key);break;case 1:g=g.add(v.doc.key)}return new za(i,c.fromCache,h,g)}}class Nl{Ys(i){this.Xs=i}Gs(i,c,h,g){return 0===(v=c).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||h.isEqual(Pn.min())?this.Zs(i,c):this.Xs.Us(i,g).next(v=>{const D=this.ti(c,v);return(Vi(c)||xi(c))&&this.ei(c.limitType,D,g,h)?this.Zs(i,c):(vu()<=N.in.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Vc(c)),this.Xs.Gs(i,c,h).next(L=>(D.forEach(q=>{L=L.insert(q.key,q)}),L)))});var v}ti(i,c){let h=new ti(lf(i));return c.forEach((g,v)=>{El(i,v)&&(h=h.add(v))}),h}ei(i,c,h,g){if(h.size!==c.size)return!0;const v="F"===i?c.last():c.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(g)>0)}Zs(i,c){return vu()<=N.in.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",Vc(c)),this.Xs.Gs(i,c,Pn.min())}}class Ah{constructor(i,c,h,g){this.persistence=i,this.ni=c,this.M=g,this.si=new Ai(Cr),this.ii=new qc(v=>ha(v),Ds),this.ri=Pn.min(),this.oi=i.getRemoteDocumentCache(),this.hs=i.getTargetCache(),this.fs=i.getBundleCache(),this.ai(h)}ai(i){this.indexManager=this.persistence.getIndexManager(i),this.Fs=this.persistence.getMutationQueue(i,this.indexManager),this.ui=new Sd(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>i.collect(c,this.si))}}function Ru(u,i){return ru.apply(this,arguments)}function ru(){return ru=(0,t.Z)(function*(u,i){const c=rn(u);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let g;return c.Fs.getAllMutationBatches(h).next(v=>(g=v,c.ai(i),c.Fs.getAllMutationBatches(h))).next(v=>{const D=[],L=[];let q=Qr();for(const te of g){D.push(te.batchId);for(const xe of te.mutations)q=q.add(xe.key)}for(const te of v){L.push(te.batchId);for(const xe of te.mutations)q=q.add(xe.key)}return c.ui.Us(h,q).next(te=>({ci:te,removedBatchIds:D,addedBatchIds:L}))})})}),ru.apply(this,arguments)}function Pf(u,i){const c=rn(u);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=i.batch.keys(),v=c.oi.newChangeBuffer({trackRemovals:!0});return function(D,L,q,te){const xe=q.batch,Ve=xe.keys();let ht=_t.resolve();return Ve.forEach(vt=>{ht=ht.next(()=>te.getEntry(L,vt)).next(Ut=>{const Fn=q.docVersions.get(vt);Yn(null!==Fn),Ut.version.compareTo(Fn)<0&&(xe.applyToRemoteDocument(Ut,q),Ut.isValidDocument()&&(Ut.setReadTime(q.commitVersion),te.addEntry(Ut)))})}),ht.next(()=>D.Fs.removeMutationBatch(L,xe))}(c,h,i,v).next(()=>v.apply(h)).next(()=>c.Fs.performConsistencyCheck(h)).next(()=>c.ui.Us(h,g))})}function xd(u){const i=rn(u);return i.persistence.runTransaction("Get last remote snapshot version","readonly",c=>i.hs.getLastRemoteSnapshotVersion(c))}function Nf(u,i){const c=rn(u),h=i.snapshotVersion;let g=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const D=c.oi.newChangeBuffer({trackRemovals:!0});g=c.si;const L=[];i.targetChanges.forEach((te,xe)=>{const Ve=g.get(xe);if(!Ve)return;L.push(c.hs.removeMatchingKeys(v,te.removedDocuments,xe).next(()=>c.hs.addMatchingKeys(v,te.addedDocuments,xe)));let ht=Ve.withSequenceNumber(v.currentSequenceNumber);var vt,Ut,Fn;i.targetMismatches.has(xe)?ht=ht.withResumeToken(gi.EMPTY_BYTE_STRING,Pn.min()).withLastLimboFreeSnapshotVersion(Pn.min()):te.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(te.resumeToken,h)),g=g.insert(xe,ht),Ut=ht,Fn=te,(0===(vt=Ve).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-vt.snapshotVersion.toMicroseconds()>=3e8||Fn.addedDocuments.size+Fn.modifiedDocuments.size+Fn.removedDocuments.size>0)&&L.push(c.hs.updateTargetData(v,ht))});let q=$o();if(i.documentUpdates.forEach(te=>{i.resolvedLimboDocuments.has(te)&&L.push(c.persistence.referenceDelegate.updateLimboDocument(v,te))}),L.push(function py(u,i,c){let h=Qr();return c.forEach(g=>h=h.add(g)),i.getEntries(u,h).next(g=>{let v=$o();return c.forEach((D,L)=>{const q=g.get(D);L.isNoDocument()&&L.version.isEqual(Pn.min())?(i.removeEntry(D,L.readTime),v=v.insert(D,L)):!q.isValidDocument()||L.version.compareTo(q.version)>0||0===L.version.compareTo(q.version)&&q.hasPendingWrites?(i.addEntry(L),v=v.insert(D,L)):Zt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",q.version," Watch version:",L.version)}),v})}(v,D,i.documentUpdates).next(te=>{q=te})),!h.isEqual(Pn.min())){const te=c.hs.getLastRemoteSnapshotVersion(v).next(xe=>c.hs.setTargetsMetadata(v,v.currentSequenceNumber,h));L.push(te)}return _t.waitFor(L).next(()=>D.apply(v)).next(()=>c.ui.Ks(v,q)).next(()=>q)}).then(v=>(c.si=g,v))}function Cm(u,i){const c=rn(u);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===i&&(i=-1),c.Fs.getNextMutationBatchAfterBatchId(h,i)))}function Rf(u,i){const c=rn(u);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return c.hs.getTargetData(h,i).next(v=>v?(g=v,_t.resolve(g)):c.hs.allocateTargetId(h).next(D=>(g=new pc(i,D,0,h.currentSequenceNumber),c.hs.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=c.si.get(h.targetId);return(null===g||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(c.si=c.si.insert(h.targetId,h),c.ii.set(i,h.targetId)),h})}function Ad(u,i,c){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,t.Z)(function*(u,i,c){const h=rn(u),g=h.si.get(i),v=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",v,D=>h.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!fs(D))throw D;Zt("LocalStore",`Failed to update sequence numbers for target ${i}: ${D}`)}h.si=h.si.remove(i),h.ii.delete(g.target)}),Zp.apply(this,arguments)}function kf(u,i,c){const h=rn(u);let g=Pn.min(),v=Qr();return h.persistence.runTransaction("Execute query","readonly",D=>function(L,q,te){const xe=rn(L),Ve=xe.ii.get(te);return void 0!==Ve?_t.resolve(xe.si.get(Ve)):xe.hs.getTargetData(q,te)}(h,D,ei(i)).next(L=>{if(L)return g=L.lastLimboFreeSnapshotVersion,h.hs.getMatchingKeysForTargetId(D,L.targetId).next(q=>{v=q})}).next(()=>h.ni.Gs(D,i,c?g:Pn.min(),c?v:Qr())).next(L=>({documents:L,hi:v})))}class Rv{constructor(i){this.M=i,this._i=new Map,this.wi=new Map}getBundleMetadata(i,c){return _t.resolve(this._i.get(c))}saveBundleMetadata(i,c){var h;return this._i.set(c.id,{id:(h=c).id,version:h.version,createTime:ho(h.createTime)}),_t.resolve()}getNamedQuery(i,c){return _t.resolve(this.wi.get(c))}saveNamedQuery(i,c){return this.wi.set(c.name,{name:(h=c).name,query:Fp(h.bundledQuery),readTime:ho(h.readTime)}),_t.resolve();var h}}class n0{constructor(){this.overlays=new Ai(fn.comparator),this.mi=new Map}getOverlay(i,c){return _t.resolve(this.overlays.get(c))}saveOverlays(i,c,h){return h.forEach((g,v)=>{this.Xt(i,c,v)}),_t.resolve()}removeOverlaysForBatchId(i,c,h){const g=this.mi.get(h);return void 0!==g&&(g.forEach(v=>this.overlays=this.overlays.remove(v)),this.mi.delete(h)),_t.resolve()}getOverlaysForCollection(i,c,h){const g=hd(),v=c.length+1,D=new fn(c.child("")),L=this.overlays.getIteratorFrom(D);for(;L.hasNext();){const q=L.getNext().value,te=q.getKey();if(!c.isPrefixOf(te.path))break;te.path.length===v&&q.largestBatchId>h&&g.set(q.getKey(),q)}return _t.resolve(g)}getOverlaysForCollectionGroup(i,c,h,g){let v=new Ai((te,xe)=>te-xe);const D=this.overlays.getIterator();for(;D.hasNext();){const te=D.getNext().value;if(te.getKey().getCollectionGroup()===c&&te.largestBatchId>h){let xe=v.get(te.largestBatchId);null===xe&&(xe=hd(),v=v.insert(te.largestBatchId,xe)),xe.set(te.getKey(),te)}}const L=hd(),q=v.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((te,xe)=>L.set(te,xe)),!(L.size()>=g)););return _t.resolve(L)}Xt(i,c,h){if(null===h)return;const g=this.overlays.get(h.key);if(null!==g){const D=this.mi.get(g.largestBatchId).delete(h.key);this.mi.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new Th(c,h));let v=this.mi.get(c);void 0===v&&(v=Qr(),this.mi.set(c,v)),this.mi.set(c,v.add(h.key))}}class ku{constructor(){this.gi=new ti(Oi.yi),this.pi=new ti(Oi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(i,c){const h=new Oi(i,c);this.gi=this.gi.add(h),this.pi=this.pi.add(h)}Ti(i,c){i.forEach(h=>this.addReference(h,c))}removeReference(i,c){this.Ei(new Oi(i,c))}Ai(i,c){i.forEach(h=>this.removeReference(h,c))}Ri(i){const c=new fn(new zr([])),h=new Oi(c,i),g=new Oi(c,i+1),v=[];return this.pi.forEachInRange([h,g],D=>{this.Ei(D),v.push(D.key)}),v}bi(){this.gi.forEach(i=>this.Ei(i))}Ei(i){this.gi=this.gi.delete(i),this.pi=this.pi.delete(i)}Pi(i){const c=new fn(new zr([])),h=new Oi(c,i),g=new Oi(c,i+1);let v=Qr();return this.pi.forEachInRange([h,g],D=>{v=v.add(D.key)}),v}containsKey(i){const c=new Oi(i,0),h=this.gi.firstAfterOrEqual(c);return null!==h&&i.isEqual(h.key)}}class Oi{constructor(i,c){this.key=i,this.Vi=c}static yi(i,c){return fn.comparator(i.key,c.key)||Cr(i.Vi,c.Vi)}static Ii(i,c){return Cr(i.Vi,c.Vi)||fn.comparator(i.key,c.key)}}class Fu{constructor(i,c){this.indexManager=i,this.referenceDelegate=c,this.Fs=[],this.vi=1,this.Si=new ti(Oi.yi)}checkEmpty(i){return _t.resolve(0===this.Fs.length)}addMutationBatch(i,c,h,g){const v=this.vi;this.vi++;const D=new _d(v,c,h,g);this.Fs.push(D);for(const L of g)this.Si=this.Si.add(new Oi(L.key,v)),this.indexManager.addToCollectionParentIndex(i,L.key.path.popLast());return _t.resolve(D)}lookupMutationBatch(i,c){return _t.resolve(this.Di(c))}getNextMutationBatchAfterBatchId(i,c){const g=this.Ci(c+1),v=g<0?0:g;return _t.resolve(this.Fs.length>v?this.Fs[v]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(i){return _t.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(i,c){const h=new Oi(c,0),g=new Oi(c,Number.POSITIVE_INFINITY),v=[];return this.Si.forEachInRange([h,g],D=>{const L=this.Di(D.Vi);v.push(L)}),_t.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(i,c){let h=new ti(Cr);return c.forEach(g=>{const v=new Oi(g,0),D=new Oi(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([v,D],L=>{h=h.add(L.Vi)})}),_t.resolve(this.xi(h))}getAllMutationBatchesAffectingQuery(i,c){const h=c.path,g=h.length+1;let v=h;fn.isDocumentKey(v)||(v=v.child(""));const D=new Oi(new fn(v),0);let L=new ti(Cr);return this.Si.forEachWhile(q=>{const te=q.key.path;return!!h.isPrefixOf(te)&&(te.length===g&&(L=L.add(q.Vi)),!0)},D),_t.resolve(this.xi(L))}xi(i){const c=[];return i.forEach(h=>{const g=this.Di(h);null!==g&&c.push(g)}),c}removeMutationBatch(i,c){Yn(0===this.Ni(c.batchId,"removed")),this.Fs.shift();let h=this.Si;return _t.forEach(c.mutations,g=>{const v=new Oi(g.key,c.batchId);return h=h.delete(v),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.Si=h})}dn(i){}containsKey(i,c){const h=new Oi(c,0),g=this.Si.firstAfterOrEqual(h);return _t.resolve(c.isEqual(g&&g.key))}performConsistencyCheck(i){return _t.resolve()}Ni(i,c){return this.Ci(i)}Ci(i){return 0===this.Fs.length?0:i-this.Fs[0].batchId}Di(i){const c=this.Ci(i);return c<0||c>=this.Fs.length?null:this.Fs[c]}}class _y{constructor(i){this.ki=i,this.docs=new Ai(fn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,c){const h=c.key,g=this.docs.get(h),v=g?g.size:0,D=this.ki(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:D}),this.size+=D-v,this.indexManager.addToCollectionParentIndex(i,h.path.popLast())}removeEntry(i){const c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)}getEntry(i,c){const h=this.docs.get(c);return _t.resolve(h?h.document.mutableCopy():li.newInvalidDocument(c))}getEntries(i,c){let h=$o();return c.forEach(g=>{const v=this.docs.get(g);h=h.insert(g,v?v.document.mutableCopy():li.newInvalidDocument(g))}),_t.resolve(h)}getAll(i,c,h){let g=$o();const v=new fn(c.child("")),D=this.docs.getIteratorFrom(v);for(;D.hasNext();){const{key:L,value:{document:q}}=D.getNext();if(!c.isPrefixOf(L.path))break;L.path.length>c.length+1||q.readTime.compareTo(h)<=0||(g=g.insert(q.key,q.mutableCopy()))}return _t.resolve(g)}Mi(i,c){return _t.forEach(this.docs,h=>c(h))}newChangeBuffer(i){return new r0(this)}getSize(i){return _t.resolve(this.size)}}class r0 extends class R{constructor(){this.changes=new qc(i=>i.toString(),(i,c)=>i.isEqual(c)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,c){this.assertNotApplied(),this.changes.set(i,li.newInvalidDocument(i).setReadTime(c))}getEntry(i,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?_t.resolve(h):this.getFromCache(i,c)}getEntries(i,c){return this.getAllFromCache(i,c)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}{constructor(i){super(),this.Un=i}applyChanges(i){const c=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?c.push(this.Un.addEntry(i,g)):this.Un.removeEntry(h)}),_t.waitFor(c)}getFromCache(i,c){return this.Un.getEntry(i,c)}getAllFromCache(i,c){return this.Un.getEntries(i,c)}}class Tm{constructor(i){this.persistence=i,this.Oi=new qc(c=>ha(c),Ds),this.lastRemoteSnapshotVersion=Pn.min(),this.highestTargetId=0,this.$i=0,this.Fi=new ku,this.targetCount=0,this.Bi=Nu.mn()}forEachTarget(i,c){return this.Oi.forEach((h,g)=>c(g)),_t.resolve()}getLastRemoteSnapshotVersion(i){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return _t.resolve(this.$i)}allocateTargetId(i){return this.highestTargetId=this.Bi.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(i,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.$i&&(this.$i=c),_t.resolve()}In(i){this.Oi.set(i.target,i);const c=i.targetId;c>this.highestTargetId&&(this.Bi=new Nu(c),this.highestTargetId=c),i.sequenceNumber>this.$i&&(this.$i=i.sequenceNumber)}addTargetData(i,c){return this.In(c),this.targetCount+=1,_t.resolve()}updateTargetData(i,c){return this.In(c),_t.resolve()}removeTargetData(i,c){return this.Oi.delete(c.target),this.Fi.Ri(c.targetId),this.targetCount-=1,_t.resolve()}removeTargets(i,c,h){let g=0;const v=[];return this.Oi.forEach((D,L)=>{L.sequenceNumber<=c&&null===h.get(L.targetId)&&(this.Oi.delete(D),v.push(this.removeMatchingKeysForTargetId(i,L.targetId)),g++)}),_t.waitFor(v).next(()=>g)}getTargetCount(i){return _t.resolve(this.targetCount)}getTargetData(i,c){const h=this.Oi.get(c)||null;return _t.resolve(h)}addMatchingKeys(i,c,h){return this.Fi.Ti(c,h),_t.resolve()}removeMatchingKeys(i,c,h){this.Fi.Ai(c,h);const g=this.persistence.referenceDelegate,v=[];return g&&c.forEach(D=>{v.push(g.markPotentiallyOrphaned(i,D))}),_t.waitFor(v)}removeMatchingKeysForTargetId(i,c){return this.Fi.Ri(c),_t.resolve()}getMatchingKeysForTargetId(i,c){const h=this.Fi.Pi(c);return _t.resolve(h)}containsKey(i,c){return _t.resolve(this.Fi.containsKey(c))}}class o0{constructor(i,c){this.Li={},this.overlays={},this.Zn=new Yr(0),this.ts=!1,this.ts=!0,this.referenceDelegate=i(this),this.hs=new Tm(this),this.indexManager=new Pu,this.ls=new _y(h=>this.referenceDelegate.qi(h)),this.M=new gm(c),this.fs=new Rv(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let c=this.overlays[i.toKey()];return c||(c=new n0,this.overlays[i.toKey()]=c),c}getMutationQueue(i,c){let h=this.Li[i.toKey()];return h||(h=new Fu(c,this.referenceDelegate),this.Li[i.toKey()]=h),h}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(i,c,h){Zt("MemoryPersistence","Starting transaction:",i);const g=new Md(this.Zn.next());return this.referenceDelegate.Ui(),h(g).next(v=>this.referenceDelegate.Ki(g).next(()=>v)).toPromise().then(v=>(g.raiseOnCommittedEvent(),v))}Gi(i,c){return _t.or(Object.values(this.Li).map(h=>()=>h.containsKey(i,c)))}}class Md extends class ma{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}{constructor(i){super(),this.currentSequenceNumber=i}}class Od{constructor(i){this.persistence=i,this.Qi=new ku,this.ji=null}static Wi(i){return new Od(i)}get zi(){if(this.ji)return this.ji;throw Rn()}addReference(i,c,h){return this.Qi.addReference(h,c),this.zi.delete(h.toString()),_t.resolve()}removeReference(i,c,h){return this.Qi.removeReference(h,c),this.zi.add(h.toString()),_t.resolve()}markPotentiallyOrphaned(i,c){return this.zi.add(c.toString()),_t.resolve()}removeTarget(i,c){this.Qi.Ri(c.targetId).forEach(g=>this.zi.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(i,c.targetId).next(g=>{g.forEach(v=>this.zi.add(v.toString()))}).next(()=>h.removeTargetData(i,c))}Ui(){this.ji=new Set}Ki(i){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.zi,h=>{const g=fn.fromPath(h);return this.Hi(i,g).next(v=>{v||c.removeEntry(g,Pn.min())})}).next(()=>(this.ji=null,c.apply(i)))}updateLimboDocument(i,c){return this.Hi(i,c).next(h=>{h?this.zi.delete(c.toString()):this.zi.add(c.toString())})}qi(i){return 0}Hi(i,c){return _t.or([()=>_t.resolve(this.Qi.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(i,c),()=>this.persistence.Gi(i,c)])}}class Dm{constructor(){this.activeTargetIds=xu()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class zo{constructor(){this.Or=new Dm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,c,h){}addLocalQueryTarget(i){return this.Or.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,c,h){this.$r[i]=c}removeLocalQueryTarget(i){this.Or.Zi(i)}isLocalQueryTarget(i){return this.Or.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(i){return this.Or.activeTargetIds.has(i)}start(){return this.Or=new Dm,Promise.resolve()}handleUserChange(i,c,h){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Wp{Fr(i){}shutdown(){}}class Rl{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(i){this.Kr.push(i)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){Zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Kr)i(0)}Ur(){Zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Kr)i(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const kl={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Bu{constructor(i){this.Qr=i.Qr,this.jr=i.jr}Wr(i){this.zr=i}Hr(i){this.Jr=i}onMessage(i){this.Yr=i}close(){this.jr()}send(i){this.Qr(i)}Xr(){this.zr()}Zr(i){this.Jr(i)}eo(i){this.Yr(i)}}class yy extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.no=(i.ssl?"https":"http")+"://"+i.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(i,c,h,g,v){const D=this.ro(i,c);Zt("RestConnection","Sending: ",D,h);const L={};return this.oo(L,g,v),this.ao(i,D,L,h).then(q=>(Zt("RestConnection","Received: ",q),q),q=>{throw Ei("RestConnection",`${i} failed with error: `,q,"url: ",D,"request:",h),q})}uo(i,c,h,g,v){return this.io(i,c,h,g,v)}oo(i,c,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+No,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((g,v)=>i[v]=g),h&&h.headers.forEach((g,v)=>i[v]=g)}ro(i,c){return`${this.no}/v1/${c}:${kl[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}ao(i,c,h,g){return new Promise((v,D)=>{const L=new pl;L.listenOnce(Nc.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case fl.NO_ERROR:const te=L.getResponseJson();Zt("Connection","XHR received:",JSON.stringify(te)),v(te);break;case fl.TIMEOUT:Zt("Connection",'RPC "'+i+'" timed out'),D(new It(pt.DEADLINE_EXCEEDED,"Request time out"));break;case fl.HTTP_ERROR:const xe=L.getStatus();if(Zt("Connection",'RPC "'+i+'" failed with status:',xe,"response text:",L.getResponseText()),xe>0){const Ve=L.getResponseJson().error;if(Ve&&Ve.status&&Ve.message){const ht=function(vt){const Ut=vt.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Ut)>=0?Ut:pt.UNKNOWN}(Ve.status);D(new It(ht,Ve.message))}else D(new It(pt.UNKNOWN,"Server responded with status "+L.getStatus()))}else D(new It(pt.UNAVAILABLE,"Connection failed."));break;default:Rn()}}finally{Zt("Connection",'RPC "'+i+'" completed.')}});const q=JSON.stringify(g);L.send(c,"POST",q,h,15)})}co(i,c,h){const g=[this.no,"/","google.firestore.v1.Firestore","/",i,"/channel"],v=bp(),D=ih(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new rm({})),this.oo(L.initMessageHeaders,c,h),(0,M.uI)()||(0,M.b$)()||(0,M.d)()||(0,M.w1)()||(0,M.Mn)()||(0,M.ru)()||(L.httpHeadersOverwriteParam="$httpHeaders");const q=g.join("");Zt("Connection","Creating WebChannel: "+q,L);const te=v.createWebChannel(q,L);let xe=!1,Ve=!1;const ht=new Bu({Qr:Ut=>{Ve?Zt("Connection","Not sending because WebChannel is closed:",Ut):(xe||(Zt("Connection","Opening WebChannel transport."),te.open(),xe=!0),Zt("Connection","WebChannel sending:",Ut),te.send(Ut))},jr:()=>te.close()}),vt=(Ut,Fn,wr)=>{Ut.listen(Fn,ro=>{try{wr(ro)}catch(xr){setTimeout(()=>{throw xr},0)}})};return vt(te,js.EventType.OPEN,()=>{Ve||Zt("Connection","WebChannel transport opened.")}),vt(te,js.EventType.CLOSE,()=>{Ve||(Ve=!0,Zt("Connection","WebChannel transport closed"),ht.Zr())}),vt(te,js.EventType.ERROR,Ut=>{Ve||(Ve=!0,Ei("Connection","WebChannel transport errored:",Ut),ht.Zr(new It(pt.UNAVAILABLE,"The operation could not be completed")))}),vt(te,js.EventType.MESSAGE,Ut=>{var Fn;if(!Ve){const wr=Ut.data[0];Yn(!!wr);const ro=wr,xr=ro.error||(null===(Fn=ro[0])||void 0===Fn?void 0:Fn.error);if(xr){Zt("Connection","WebChannel received error:",xr);const ta=xr.status;let mo=function(fi){const zu=Gi[fi];if(void 0!==zu)return ld(zu)}(ta),io=xr.message;void 0===mo&&(mo=pt.INTERNAL,io="Unknown error status: "+ta+" with message "+xr.message),Ve=!0,ht.Zr(new It(mo,io)),te.close()}else Zt("Connection","WebChannel received:",wr),ht.eo(wr)}}),vt(D,ci.STAT_EVENT,Ut=>{Ut.stat===yu.PROXY?Zt("Connection","Detected buffering proxy"):Ut.stat===yu.NOPROXY&&Zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ht.Xr()},0),ht}}function Lf(){return"undefined"!=typeof document?document:null}function Nd(u){return new Mp(u,!0)}class Fl{constructor(i,c,h=1e3,g=1.5,v=6e4){this.Hn=i,this.timerId=c,this.ho=h,this.lo=g,this.fo=v,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(i){this.cancel();const c=Math.floor(this._o+this.Io()),h=Math.max(0,Date.now()-this.mo),g=Math.max(0,c-h);g>0&&Zt("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),i())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class zp{constructor(i,c,h,g,v,D,L,q){this.Hn=i,this.Eo=h,this.Ao=g,this.Ro=v,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=L,this.listener=q,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Fl(i,c)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var i=this;return(0,t.Z)(function*(){i.So()&&(yield i.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(i){this.Oo(),this.stream.send(i)}ko(){var i=this;return(0,t.Z)(function*(){if(i.Do())return i.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,c){var h=this;return(0,t.Z)(function*(){h.Oo(),h.$o(),h.vo.cancel(),h.bo++,4!==i?h.vo.reset():c&&c.code===pt.RESOURCE_EXHAUSTED?(ar(c.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),h.vo.yo()):c&&c.code===pt.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Fo(),h.stream.close(),h.stream=null),h.state=i,yield h.listener.Hr(c)})()}Fo(){}auth(){this.state=1;const i=this.Bo(this.bo),c=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.bo===c&&this.Lo(h,g)},h=>{i(()=>{const g=new It(pt.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(g)})})}Lo(i,c){const h=this.Bo(this.bo);this.stream=this.Uo(i,c),this.stream.Wr(()=>{h(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{h(()=>this.qo(g))}),this.stream.onMessage(g=>{h(()=>this.onMessage(g))})}Co(){var i=this;this.state=5,this.vo.po((0,t.Z)(function*(){i.state=0,i.start()}))}qo(i){return Zt("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Bo(i){return c=>{this.Hn.enqueueAndForget(()=>this.bo===i?c():(Zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Uf extends zp{constructor(i,c,h,g,v,D){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,g,D),this.M=v}Uo(i,c){return this.Ro.co("Listen",i,c)}onMessage(i){this.vo.reset();const c=function Z_(u,i){let c;if("targetChange"in i){const h="NO_CHANGE"===(q=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:Rn(),g=i.targetChange.targetIds||[],v=function(q,te){return q.N?(Yn(void 0===te||"string"==typeof te),gi.fromBase64String(te||"")):(Yn(void 0===te||te instanceof Uint8Array),gi.fromUint8Array(te||new Uint8Array))}(u,i.targetChange.resumeToken),D=i.targetChange.cause,L=D&&function(q){const te=void 0===q.code?pt.UNKNOWN:ld(q.code);return new It(te,q.message||"")}(D);c=new Au(h,g,v,L||null)}else if("documentChange"in i){const h=i.documentChange,g=fc(u,h.document.name),v=ho(h.document.updateTime),D=new ui({mapValue:{fields:h.document.fields}}),L=li.newFoundDocument(g,v,D);c=new ph(h.targetIds||[],h.removedTargetIds||[],L.key,L)}else if("documentDelete"in i){const h=i.documentDelete,g=fc(u,h.document),v=h.readTime?ho(h.readTime):Pn.min(),D=li.newNoDocument(g,v);c=new ph([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in i){const h=i.documentRemove,g=fc(u,h.document);c=new ph([],h.removedTargetIds||[],g,null)}else{if(!("filter"in i))return Rn();{const h=i.filter,v=new om(h.count||0);c=new xp(h.targetId,v)}}var q;return c}(this.M,i),h=function(g){if(!("targetChange"in g))return Pn.min();const v=g.targetChange;return v.targetIds&&v.targetIds.length?Pn.min():v.readTime?ho(v.readTime):Pn.min()}(i);return this.listener.Ko(c,h)}Go(i){const c={};c.database=Pp(this.M),c.addTarget=function(g,v){let D;const L=v.target;return D=Qi(L)?{documents:bf(g,L)}:{query:Ga(g,L)},D.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?D.resumeToken=Op(g,v.resumeToken):v.snapshotVersion.compareTo(Pn.min())>0&&(D.readTime=yi(g,v.snapshotVersion.toTimestamp())),D}(this.M,i);const h=function In(u,i){const c=function(h,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Rn()}}(0,i.purpose);return null==c?null:{"goog-listen-tags":c}}(0,i);h&&(c.labels=h),this.Mo(c)}Qo(i){const c={};c.database=Pp(this.M),c.removeTarget=i,this.Mo(c)}}class Kp extends zp{constructor(i,c,h,g,v,D){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,g,D),this.M=v,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(i,c){return this.Ro.co("Write",i,c)}onMessage(i){if(Yn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.jo){this.vo.reset();const c=function vf(u,i){return u&&u.length>0?(Yn(void 0!==i),u.map(c=>function(h,g){let v=ho(h.updateTime?h.updateTime:g);return v.isEqual(Pn.min())&&(v=ho(g)),new uh(v,h.transformResults||[])}(c,i))):[]}(i.writeResults,i.commitTime),h=ho(i.commitTime);return this.listener.Ho(h,c)}return Yn(!i.writeResults||0===i.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const i={};i.database=Pp(this.M),this.Mo(i)}zo(i){const c={streamToken:this.lastStreamToken,writes:i.map(h=>function mh(u,i){let c;if(i instanceof cd)c={update:gd(u,i.key,i.value)};else if(i instanceof lh)c={delete:Iu(u,i.key)};else if(i instanceof ds)c={update:gd(u,i.key,i.data),updateMask:ga(i.fieldMask)};else{if(!(i instanceof dh))return Rn();c={verify:Iu(u,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(h=>function(g,v){const D=v.transform;if(D instanceof Su)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof qs)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof ja)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof xs)return{fieldPath:v.field.canonicalString(),increment:D.k};throw Rn()}(0,h))),i.precondition.isNone||(c.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:dm(u,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Rn()),c;var g}(this.M,h))};this.Mo(c)}}class xm extends class{}{constructor(i,c,h,g){super(),this.authCredentials=i,this.appCheckCredentials=c,this.Ro=h,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}io(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.io(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}uo(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.uo(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class Yp{constructor(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(i){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ia("Offline")))}set(i){this.aa(),this.ta=0,"Online"===i&&(this.na=!1),this.ia(i)}ia(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ra(i){const c=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(ar(c),this.na=!1):Zt("OnlineStateTracker",c)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class Am{constructor(i,c,h,g,v){var D=this;this.localStore=i,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=v,this.fa.Fr(L=>{h.enqueueAndForget((0,t.Z)(function*(){var q;Vu(D)&&(Zt("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,t.Z)(function*(te){const xe=rn(te);xe.ha.add(4),yield Rd(xe),xe.da.set("Unknown"),xe.ha.delete(4),yield Ph(xe)}),function(te){return q.apply(this,arguments)})(D))}))}),this.da=new Yp(h,g)}}function Ph(u){return Im.apply(this,arguments)}function Im(){return Im=(0,t.Z)(function*(u){if(Vu(u))for(const i of u.la)yield i(!0)}),Im.apply(this,arguments)}function Rd(u){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,t.Z)(function*(u){for(const i of u.la)yield i(!1)}),Mm.apply(this,arguments)}function Jp(u,i){const c=rn(u);c.ca.has(i.targetId)||(c.ca.set(i.targetId,i),s0(c)?Bf(c):Ll(c).Do()&&Om(c,i))}function Fo(u,i){const c=rn(u),h=Ll(c);c.ca.delete(i),h.Do()&&Pm(c,i),0===c.ca.size&&(h.Do()?h.No():Vu(c)&&c.da.set("Unknown"))}function Om(u,i){u._a.Z(i.targetId),Ll(u).Go(i)}function Pm(u,i){u._a.Z(i),Ll(u).Qo(i)}function Bf(u){u._a=new um({getRemoteKeysForTarget:i=>u.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>u.ca.get(i)||null}),Ll(u).start(),u.da.sa()}function s0(u){return Vu(u)&&!Ll(u).So()&&u.ca.size>0}function Vu(u){return 0===rn(u).ha.size}function Qp(u){u._a=void 0}function vy(u){return ju.apply(this,arguments)}function ju(){return ju=(0,t.Z)(function*(u){u.ca.forEach((i,c)=>{Om(u,i)})}),ju.apply(this,arguments)}function a0(u,i){return Nm.apply(this,arguments)}function Nm(){return Nm=(0,t.Z)(function*(u,i){Qp(u),s0(u)?(u.da.oa(i),Bf(u)):u.da.set("Unknown")}),Nm.apply(this,arguments)}function Vf(u,i,c){return Rm.apply(this,arguments)}function Rm(){return Rm=(0,t.Z)(function*(u,i,c){if(u.da.set("Online"),i instanceof Au&&2===i.state&&i.cause)try{yield(h=(0,t.Z)(function*(g,v){const D=v.cause;for(const L of v.targetIds)g.ca.has(L)&&(yield g.remoteSyncer.rejectListen(L,D),g.ca.delete(L),g._a.removeTarget(L))}),function(g,v){return h.apply(this,arguments)})(u,i)}catch(h){Zt("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield jf(u,h)}else if(i instanceof ph?u._a.at(i):i instanceof xp?u._a._t(i):u._a.ht(i),!c.isEqual(Pn.min()))try{const h=yield xd(u.localStore);c.compareTo(h)>=0&&(yield function(g,v){const D=g._a.yt(v);return D.targetChanges.forEach((L,q)=>{if(L.resumeToken.approximateByteSize()>0){const te=g.ca.get(q);te&&g.ca.set(q,te.withResumeToken(L.resumeToken,v))}}),D.targetMismatches.forEach(L=>{const q=g.ca.get(L);if(!q)return;g.ca.set(L,q.withResumeToken(gi.EMPTY_BYTE_STRING,q.snapshotVersion)),Pm(g,L);const te=new pc(q.target,L,1,q.sequenceNumber);Om(g,te)}),g.remoteSyncer.applyRemoteEvent(D)}(u,c))}catch(h){Zt("RemoteStore","Failed to raise snapshot:",h),yield jf(u,h)}var h}),Rm.apply(this,arguments)}function jf(u,i,c){return km.apply(this,arguments)}function km(){return km=(0,t.Z)(function*(u,i,c){if(!fs(i))throw i;u.ha.add(1),yield Rd(u),u.da.set("Offline"),c||(c=()=>xd(u.localStore)),u.asyncQueue.enqueueRetryable((0,t.Z)(function*(){Zt("RemoteStore","Retrying IndexedDB access"),yield c(),u.ha.delete(1),yield Ph(u)}))}),km.apply(this,arguments)}function Fm(u,i){return i().catch(c=>jf(u,c,i))}function Nh(u){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,t.Z)(function*(u){const i=rn(u),c=Ul(i);let h=i.ua.length>0?i.ua[i.ua.length-1].batchId:-1;for(;c0(i);)try{const g=yield Cm(i.localStore,h);if(null===g){0===i.ua.length&&c.No();break}h=g.batchId,u0(i,g)}catch(g){yield jf(i,g)}l0(i)&&Ka(i)}),Lm.apply(this,arguments)}function c0(u){return Vu(u)&&u.ua.length<10}function u0(u,i){u.ua.push(i);const c=Ul(u);c.Do()&&c.Wo&&c.zo(i.mutations)}function l0(u){return Vu(u)&&!Ul(u).So()&&u.ua.length>0}function Ka(u){Ul(u).start()}function Um(u){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,t.Z)(function*(u){Ul(u).Yo()}),Bm.apply(this,arguments)}function by(u){return d0.apply(this,arguments)}function d0(){return d0=(0,t.Z)(function*(u){const i=Ul(u);for(const c of u.ua)i.zo(c.mutations)}),d0.apply(this,arguments)}function h0(u,i,c){return Xp.apply(this,arguments)}function Xp(){return Xp=(0,t.Z)(function*(u,i,c){const h=u.ua.shift(),g=yd.from(h,i,c);yield Fm(u,()=>u.remoteSyncer.applySuccessfulWrite(g)),yield Nh(u)}),Xp.apply(this,arguments)}function kv(u,i){return eg.apply(this,arguments)}function eg(){return eg=(0,t.Z)(function*(u,i){var c;i&&Ul(u).Wo&&(yield(c=(0,t.Z)(function*(h,g){if(mf(v=g.code)&&v!==pt.ABORTED){const D=h.ua.shift();Ul(h).xo(),yield Fm(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,g)),yield Nh(h)}var v}),function(h,g){return c.apply(this,arguments)})(u,i)),l0(u)&&Ka(u)}),eg.apply(this,arguments)}function Gf(u,i){return tg.apply(this,arguments)}function tg(){return tg=(0,t.Z)(function*(u,i){const c=rn(u);c.asyncQueue.verifyOperationInProgress(),Zt("RemoteStore","RemoteStore received new credentials");const h=Vu(c);c.ha.add(3),yield Rd(c),h&&c.da.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(i),c.ha.delete(3),yield Ph(c)}),tg.apply(this,arguments)}function Rh(){return Rh=(0,t.Z)(function*(u,i){const c=rn(u);i?(c.ha.delete(2),yield Ph(c)):i||(c.ha.add(2),yield Rd(c),c.da.set("Unknown"))}),Rh.apply(this,arguments)}function Ll(u){return u.wa||(u.wa=function(i,c,h){const g=rn(i);return g.Zo(),new Uf(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(u.datastore,u.asyncQueue,{Wr:vy.bind(null,u),Hr:a0.bind(null,u),Ko:Vf.bind(null,u)}),u.la.push(function(){var i=(0,t.Z)(function*(c){c?(u.wa.xo(),s0(u)?Bf(u):u.da.set("Unknown")):(yield u.wa.stop(),Qp(u))});return function(c){return i.apply(this,arguments)}}())),u.wa}function Ul(u){return u.ma||(u.ma=function(i,c,h){const g=rn(i);return g.Zo(),new Kp(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(u.datastore,u.asyncQueue,{Wr:Um.bind(null,u),Hr:kv.bind(null,u),Jo:by.bind(null,u),Ho:h0.bind(null,u)}),u.la.push(function(){var i=(0,t.Z)(function*(c){c?(u.ma.xo(),yield Nh(u)):(yield u.ma.stop(),u.ua.length>0&&(Zt("RemoteStore",`Stopping write stream with ${u.ua.length} pending writes`),u.ua=[]))});return function(c){return i.apply(this,arguments)}}())),u.ma}class Hf{constructor(i,c,h,g,v){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=h,this.op=g,this.removalCallback=v,this.deferred=new Wr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(i,c,h,g,v){const D=Date.now()+h,L=new Hf(i,c,D,g,v);return L.start(h),L}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(pt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gu(u,i){if(ar("AsyncQueue",`${i}: ${u}`),fs(u))return new It(pt.UNAVAILABLE,`${i}: ${u}`);throw u}class kd{constructor(i){this.comparator=i?(c,h)=>i(c,h)||fn.comparator(c.key,h.key):(c,h)=>fn.comparator(c.key,h.key),this.keyedMap=Zc(),this.sortedSet=new Ai(this.comparator)}static emptySet(i){return new kd(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((c,h)=>(i(c),!1))}add(i){const c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))}delete(i){const c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this}isEqual(i){if(!(i instanceof kd)||this.size!==i.size)return!1;const c=this.sortedSet.getIterator(),h=i.sortedSet.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(!g.isEqual(v))return!1}return!0}toString(){const i=[];return this.forEach(c=>{i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,c){const h=new kd;return h.comparator=this.comparator,h.keyedMap=i,h.sortedSet=c,h}}class rg{constructor(){this.ga=new Ai(fn.comparator)}track(i){const c=i.doc.key,h=this.ga.get(c);h?0!==i.type&&3===h.type?this.ga=this.ga.insert(c,i):3===i.type&&1!==h.type?this.ga=this.ga.insert(c,{type:h.type,doc:i.doc}):2===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):2===i.type&&0===h.type?this.ga=this.ga.insert(c,{type:0,doc:i.doc}):1===i.type&&0===h.type?this.ga=this.ga.remove(c):1===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:1,doc:h.doc}):0===i.type&&1===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):Rn():this.ga=this.ga.insert(c,i)}ya(){const i=[];return this.ga.inorderTraversal((c,h)=>{i.push(h)}),i}}class kh{constructor(i,c,h,g,v,D,L,q){this.query=i,this.docs=c,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=v,this.fromCache=D,this.syncStateChanged=L,this.excludesMetadataChanges=q}static fromInitialDocuments(i,c,h,g){const v=[];return c.forEach(D=>{v.push({type:0,doc:D})}),new kh(i,c,kd.emptySet(c),v,h,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&Tl(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const c=this.docChanges,h=i.docChanges;if(c.length!==h.length)return!1;for(let g=0;g<c.length;g++)if(c[g].type!==h[g].type||!c[g].doc.isEqual(h[g].doc))return!1;return!0}}class Vm{constructor(){this.pa=void 0,this.listeners=[]}}class Fv{constructor(){this.queries=new qc(i=>Du(i),Tl),this.onlineState="Unknown",this.Ia=new Set}}function qf(){return qf=(0,t.Z)(function*(u,i){const c=rn(u),h=i.query;let g=!1,v=c.queries.get(h);if(v||(g=!0,v=new Vm),g)try{v.pa=yield c.onListen(h)}catch(D){const L=Gu(D,`Initialization of query '${Vc(i.query)}' failed`);return void i.onError(L)}c.queries.set(h,v),v.listeners.push(i),i.Ta(c.onlineState),v.pa&&i.Ea(v.pa)&&Ya(c)}),qf.apply(this,arguments)}function og(){return og=(0,t.Z)(function*(u,i){const c=rn(u),h=i.query;let g=!1;const v=c.queries.get(h);if(v){const D=v.listeners.indexOf(i);D>=0&&(v.listeners.splice(D,1),g=0===v.listeners.length)}if(g)return c.queries.delete(h),c.onUnlisten(h)}),og.apply(this,arguments)}function f0(u,i){const c=rn(u);let h=!1;for(const g of i){const D=c.queries.get(g.query);if(D){for(const L of D.listeners)L.Ea(g)&&(h=!0);D.pa=g}}h&&Ya(c)}function p0(u,i,c){const h=rn(u),g=h.queries.get(i);if(g)for(const v of g.listeners)v.onError(c);h.queries.delete(i)}function Ya(u){u.Ia.forEach(i=>{i.next()})}class Fh{constructor(i,c,h){this.query=i,this.Aa=c,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=h||{}}Ea(i){if(!this.options.includeMetadataChanges){const h=[];for(const g of i.docChanges)3!==g.type&&h.push(g);i=new kh(i.query,i.docs,i.oldDocs,h,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let c=!1;return this.Ra?this.Pa(i)&&(this.Aa.next(i),c=!0):this.Va(i,this.onlineState)&&(this.va(i),c=!0),this.ba=i,c}onError(i){this.Aa.error(i)}Ta(i){this.onlineState=i;let c=!1;return this.ba&&!this.Ra&&this.Va(this.ba,i)&&(this.va(this.ba),c=!0),c}Va(i,c){return!i.fromCache||!(this.options.Sa&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)}Pa(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(i){i=kh.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Ra=!0,this.Aa.next(i)}}class _c{constructor(i){this.key=i}}class Ja{constructor(i){this.key=i}}class yc{constructor(i,c){this.query=i,this.ka=c,this.Ma=null,this.current=!1,this.Oa=Qr(),this.mutatedKeys=Qr(),this.$a=lf(i),this.Fa=new kd(this.$a)}get Ba(){return this.ka}La(i,c){const h=c?c.qa:new rg,g=c?c.Fa:this.Fa;let v=c?c.mutatedKeys:this.mutatedKeys,D=g,L=!1;const q=Vi(this.query)&&g.size===this.query.limit?g.last():null,te=xi(this.query)&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((xe,Ve)=>{const ht=g.get(xe),vt=El(this.query,Ve)?Ve:null,Ut=!!ht&&this.mutatedKeys.has(ht.key),Fn=!!vt&&(vt.hasLocalMutations||this.mutatedKeys.has(vt.key)&&vt.hasCommittedMutations);let wr=!1;ht&&vt?ht.data.isEqual(vt.data)?Ut!==Fn&&(h.track({type:3,doc:vt}),wr=!0):this.Ua(ht,vt)||(h.track({type:2,doc:vt}),wr=!0,(q&&this.$a(vt,q)>0||te&&this.$a(vt,te)<0)&&(L=!0)):!ht&&vt?(h.track({type:0,doc:vt}),wr=!0):ht&&!vt&&(h.track({type:1,doc:ht}),wr=!0,(q||te)&&(L=!0)),wr&&(vt?(D=D.add(vt),v=Fn?v.add(xe):v.delete(xe)):(D=D.delete(xe),v=v.delete(xe)))}),Vi(this.query)||xi(this.query))for(;D.size>this.query.limit;){const xe=Vi(this.query)?D.last():D.first();D=D.delete(xe.key),v=v.delete(xe.key),h.track({type:1,doc:xe})}return{Fa:D,qa:h,ei:L,mutatedKeys:v}}Ua(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(i,c,h){const g=this.Fa;this.Fa=i.Fa,this.mutatedKeys=i.mutatedKeys;const v=i.qa.ya();v.sort((te,xe)=>function(Ve,ht){const vt=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Rn()}};return vt(Ve)-vt(ht)}(te.type,xe.type)||this.$a(te.doc,xe.doc)),this.Ka(h);const D=c?this.Ga():[],L=0===this.Oa.size&&this.current?1:0,q=L!==this.Ma;return this.Ma=L,0!==v.length||q?{snapshot:new kh(this.query,i.Fa,g,v,i.mutatedKeys,0===L,q,!1),Qa:D}:{Qa:D}}Ta(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new rg,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(i){return!this.ka.has(i)&&!!this.Fa.has(i)&&!this.Fa.get(i).hasLocalMutations}Ka(i){i&&(i.addedDocuments.forEach(c=>this.ka=this.ka.add(c)),i.modifiedDocuments.forEach(c=>{}),i.removedDocuments.forEach(c=>this.ka=this.ka.delete(c)),this.current=i.current)}Ga(){if(!this.current)return[];const i=this.Oa;this.Oa=Qr(),this.Fa.forEach(h=>{this.ja(h.key)&&(this.Oa=this.Oa.add(h.key))});const c=[];return i.forEach(h=>{this.Oa.has(h)||c.push(new Ja(h))}),this.Oa.forEach(h=>{i.has(h)||c.push(new _c(h))}),c}Wa(i){this.ka=i.hi,this.Oa=Qr();const c=this.La(i.documents);return this.applyChanges(c,!0)}za(){return kh.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class wy{constructor(i,c,h){this.query=i,this.targetId=c,this.view=h}}class jm{constructor(i){this.key=i,this.Ha=!1}}class Gm{constructor(i,c,h,g,v,D){this.localStore=i,this.remoteStore=c,this.eventManager=h,this.sharedClientState=g,this.currentUser=v,this.maxConcurrentLimboResolutions=D,this.Ja={},this.Ya=new qc(L=>Du(L),Tl),this.Xa=new Map,this.Za=new Set,this.tu=new Ai(fn.comparator),this.eu=new Map,this.nu=new ku,this.su={},this.iu=new Map,this.ru=Nu.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function g0(u,i){return Wf.apply(this,arguments)}function Wf(){return Wf=(0,t.Z)(function*(u,i){const c=Qf(u);let h,g;const v=c.Ya.get(i);if(v)h=v.targetId,c.sharedClientState.addLocalQueryTarget(h),g=v.view.za();else{const D=yield Rf(c.localStore,ei(i));c.isPrimaryClient&&Jp(c.remoteStore,D);const L=c.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,g=yield sg(c,i,h,"current"===L)}return g}),Wf.apply(this,arguments)}function sg(u,i,c,h){return Fd.apply(this,arguments)}function Fd(){return Fd=(0,t.Z)(function*(u,i,c,h){u.au=(xe,Ve,ht)=>{return(vt=(0,t.Z)(function*(Ut,Fn,wr,ro){let xr=Fn.view.La(wr);xr.ei&&(xr=yield kf(Ut.localStore,Fn.query,!1).then(({documents:io})=>Fn.view.La(io,xr)));const ta=ro&&ro.targetChanges.get(Fn.targetId),mo=Fn.view.applyChanges(xr,Ut.isPrimaryClient,ta);return ya(Ut,Fn.targetId,mo.Qa),mo.snapshot}),function(Ut,Fn,wr,ro){return vt.apply(this,arguments)})(u,xe,Ve,ht);var vt};const g=yield kf(u.localStore,i,!0),v=new yc(i,g.hi),D=v.La(g.documents),L=fh.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==u.onlineState),q=v.applyChanges(D,u.isPrimaryClient,L);ya(u,c,q.Qa);const te=new wy(i,c,v);return u.Ya.set(i,te),u.Xa.has(c)?u.Xa.get(c).push(i):u.Xa.set(c,[i]),q.snapshot}),Fd.apply(this,arguments)}function Uv(u,i){return Hu.apply(this,arguments)}function Hu(){return Hu=(0,t.Z)(function*(u,i){const c=rn(u),h=c.Ya.get(i),g=c.Xa.get(h.targetId);if(g.length>1)return c.Xa.set(h.targetId,g.filter(v=>!Tl(v,i))),void c.Ya.delete(i);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(h.targetId),c.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Ad(c.localStore,h.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(h.targetId),Fo(c.remoteStore,h.targetId),Ld(c,h.targetId)}).catch(Pl))):(Ld(c,h.targetId),yield Ad(c.localStore,h.targetId,!0))}),Hu.apply(this,arguments)}function Bl(){return Bl=(0,t.Z)(function*(u,i,c){const h=dg(u);try{const g=yield function(v,D){const L=rn(v),q=Xr.now(),te=D.reduce((Ve,ht)=>Ve.add(ht.key),Qr());let xe;return L.persistence.runTransaction("Locally write mutations","readwrite",Ve=>L.ui.Us(Ve,te).next(ht=>{xe=ht;const vt=[];for(const Ut of D){const Fn=Ep(Ut,xe.get(Ut.key));null!=Fn&&vt.push(new ds(Ut.key,Fn,wu(Fn.value.mapValue),ji.exists(!0)))}return L.Fs.addMutationBatch(Ve,q,vt,D)})).then(Ve=>(Ve.applyToLocalDocumentSet(xe),{batchId:Ve.batchId,changes:xe}))}(h.localStore,i);h.sharedClientState.addPendingMutation(g.batchId),function(v,D,L){let q=v.su[v.currentUser.toKey()];q||(q=new Ai(Cr)),q=q.insert(D,L),v.su[v.currentUser.toKey()]=q}(h,g.batchId,c),yield iu(h,g.changes),yield Nh(h.remoteStore)}catch(g){const v=Gu(g,"Failed to persist write");c.reject(v)}}),Bl.apply(this,arguments)}function $m(u,i){return qm.apply(this,arguments)}function qm(){return qm=(0,t.Z)(function*(u,i){const c=rn(u);try{const h=yield Nf(c.localStore,i);i.targetChanges.forEach((g,v)=>{const D=c.eu.get(v);D&&(Yn(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?D.Ha=!0:g.modifiedDocuments.size>0?Yn(D.Ha):g.removedDocuments.size>0&&(Yn(D.Ha),D.Ha=!1))}),yield iu(c,h,i)}catch(h){yield Pl(h)}}),qm.apply(this,arguments)}function m0(u,i,c){const h=rn(u);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const g=[];h.Ya.forEach((v,D)=>{const L=D.view.Ta(i);L.snapshot&&g.push(L.snapshot)}),function(v,D){const L=rn(v);L.onlineState=D;let q=!1;L.queries.forEach((te,xe)=>{for(const Ve of xe.listeners)Ve.Ta(D)&&(q=!0)}),q&&Ya(L)}(h.eventManager,i),g.length&&h.Ja.Ko(g),h.onlineState=i,h.isPrimaryClient&&h.sharedClientState.setOnlineState(i)}}function Lh(u,i,c){return Zm.apply(this,arguments)}function Zm(){return Zm=(0,t.Z)(function*(u,i,c){const h=rn(u);h.sharedClientState.updateQueryState(i,"rejected",c);const g=h.eu.get(i),v=g&&g.key;if(v){let D=new Ai(fn.comparator);D=D.insert(v,li.newNoDocument(v,Pn.min()));const L=Qr().add(v),q=new fd(Pn.min(),new Map,new ti(Cr),D,L);yield $m(h,q),h.tu=h.tu.remove(v),h.eu.delete(i),Uh(h)}else yield Ad(h.localStore,i,!1).then(()=>Ld(h,i,c)).catch(Pl)}),Zm.apply(this,arguments)}function _0(u,i){return Wm.apply(this,arguments)}function Wm(){return Wm=(0,t.Z)(function*(u,i){const c=rn(u),h=i.batch.batchId;try{const g=yield Pf(c.localStore,i);Kf(c,h,null),cg(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield iu(c,g)}catch(g){yield Pl(g)}}),Wm.apply(this,arguments)}function Ty(u,i,c){return _a.apply(this,arguments)}function _a(){return _a=(0,t.Z)(function*(u,i,c){const h=rn(u);try{const g=yield function(v,D){const L=rn(v);return L.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let te;return L.Fs.lookupMutationBatch(q,D).next(xe=>(Yn(null!==xe),te=xe.keys(),L.Fs.removeMutationBatch(q,xe))).next(()=>L.Fs.performConsistencyCheck(q)).next(()=>L.ui.Us(q,te))})}(h.localStore,i);Kf(h,i,c),cg(h,i),h.sharedClientState.updateMutationState(i,"rejected",c),yield iu(h,g)}catch(g){yield Pl(g)}}),_a.apply(this,arguments)}function cg(u,i){(u.iu.get(i)||[]).forEach(c=>{c.resolve()}),u.iu.delete(i)}function Kf(u,i,c){const h=rn(u);let g=h.su[h.currentUser.toKey()];if(g){const v=g.get(i);v&&(c?v.reject(c):v.resolve(),g=g.remove(i)),h.su[h.currentUser.toKey()]=g}}function Ld(u,i,c=null){u.sharedClientState.removeLocalQueryTarget(i);for(const h of u.Xa.get(i))u.Ya.delete(h),c&&u.Ja.uu(h,c);u.Xa.delete(i),u.isPrimaryClient&&u.nu.Ri(i).forEach(h=>{u.nu.containsKey(h)||Ey(u,h)})}function Ey(u,i){u.Za.delete(i.path.canonicalString());const c=u.tu.get(i);null!==c&&(Fo(u.remoteStore,c),u.tu=u.tu.remove(i),u.eu.delete(c),Uh(u))}function ya(u,i,c){for(const h of c)h instanceof _c?(u.nu.addReference(h.key,i),Qa(u,h)):h instanceof Ja?(Zt("SyncEngine","Document no longer in limbo: "+h.key),u.nu.removeReference(h.key,i),u.nu.containsKey(h.key)||Ey(u,h.key)):Rn()}function Qa(u,i){const c=i.key,h=c.path.canonicalString();u.tu.get(c)||u.Za.has(h)||(Zt("SyncEngine","New document in limbo: "+c),u.Za.add(h),Uh(u))}function Uh(u){for(;u.Za.size>0&&u.tu.size<u.maxConcurrentLimboResolutions;){const i=u.Za.values().next().value;u.Za.delete(i);const c=new fn(zr.fromString(i)),h=u.ru.next();u.eu.set(h,new jm(c)),u.tu=u.tu.insert(c,h),Jp(u.remoteStore,new pc(ei(Zn(c.path)),h,2,Yr.A))}}function iu(u,i,c){return y0.apply(this,arguments)}function y0(){return y0=(0,t.Z)(function*(u,i,c){const h=rn(u),g=[],v=[],D=[];var L;h.Ya.isEmpty()||(h.Ya.forEach((L,q)=>{D.push(h.au(q,i,c).then(te=>{if(te){h.isPrimaryClient&&h.sharedClientState.updateQueryState(q.targetId,te.fromCache?"not-current":"current"),g.push(te);const xe=za.Js(q.targetId,te);v.push(xe)}}))}),yield Promise.all(D),h.Ja.Ko(g),yield(L=(0,t.Z)(function*(q,te){const xe=rn(q);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>_t.forEach(te,ht=>_t.forEach(ht.zs,vt=>xe.persistence.referenceDelegate.addReference(Ve,ht.targetId,vt)).next(()=>_t.forEach(ht.Hs,vt=>xe.persistence.referenceDelegate.removeReference(Ve,ht.targetId,vt)))))}catch(Ve){if(!fs(Ve))throw Ve;Zt("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of te){const ht=Ve.targetId;if(!Ve.fromCache){const vt=xe.si.get(ht),Fn=vt.withLastLimboFreeSnapshotVersion(vt.snapshotVersion);xe.si=xe.si.insert(ht,Fn)}}}),function(q,te){return L.apply(this,arguments)})(h.localStore,v))}),y0.apply(this,arguments)}function v0(u,i){return zm.apply(this,arguments)}function zm(){return zm=(0,t.Z)(function*(u,i){const c=rn(u);if(!c.currentUser.isEqual(i)){Zt("SyncEngine","User change. New user:",i.toKey());const h=yield Ru(c.localStore,i);c.currentUser=i,(g=c).iu.forEach(D=>{D.forEach(L=>{L.reject(new It(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),c.sharedClientState.handleUserChange(i,h.removedBatchIds,h.addedBatchIds),yield iu(c,h.ci)}var g}),zm.apply(this,arguments)}function Dy(u,i){const c=rn(u),h=c.eu.get(i);if(h&&h.Ha)return Qr().add(h.key);{let g=Qr();const v=c.Xa.get(i);if(!v)return g;for(const D of v){const L=c.Ya.get(D);g=g.unionWith(L.view.Ba)}return g}}function Qf(u){const i=rn(u);return i.remoteStore.remoteSyncer.applyRemoteEvent=$m.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=Dy.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Lh.bind(null,i),i.Ja.Ko=f0.bind(null,i.eventManager),i.Ja.uu=p0.bind(null,i.eventManager),i}function dg(u){const i=rn(u);return i.remoteStore.remoteSyncer.applySuccessfulWrite=_0.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=Ty.bind(null,i),i}class T0{constructor(){this.synchronizeTabs=!1}initialize(i){var c=this;return(0,t.Z)(function*(){c.M=Nd(i.databaseInfo.databaseId),c.sharedClientState=c.hu(i),c.persistence=c.lu(i),yield c.persistence.start(),c.gcScheduler=c.fu(i),c.localStore=c.du(i)})()}fu(i){return null}du(i){return function qp(u,i,c,h){return new Ah(u,i,c,h)}(this.persistence,new Nl,i.initialUser,this.M)}lu(i){return new o0(Od.Wi,this.M)}hu(i){return new zo}terminate(){var i=this;return(0,t.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class E0{initialize(i,c){var h=this;return(0,t.Z)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=g=>m0(h.syncEngine,g,1),h.remoteStore.remoteSyncer.handleCredentialChange=v0.bind(null,h.syncEngine),yield function ng(u,i){return Rh.apply(this,arguments)}(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Fv}createDatastore(i){const c=Nd(i.databaseInfo.databaseId),h=new yy(i.databaseInfo);return new xm(i.authCredentials,i.appCheckCredentials,h,c)}createRemoteStore(i){return c=this.localStore,h=this.datastore,g=i.asyncQueue,v=L=>m0(this.syncEngine,L,0),D=Rl.vt()?new Rl:new Wp,new Am(c,h,g,v,D);var c,h,g,v,D}createSyncEngine(i,c){return function(h,g,v,D,L,q,te){const xe=new Gm(h,g,v,D,L,q);return te&&(xe.ou=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,c)}terminate(){return(i=(0,t.Z)(function*(c){const h=rn(c);Zt("RemoteStore","RemoteStore shutting down."),h.ha.add(5),yield Rd(h),h.fa.shutdown(),h.da.set("Unknown")}),function(c){return i.apply(this,arguments)})(this.remoteStore);var i}}class Qm{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.wu(this.observer.next,i)}error(i){this.observer.error?this.wu(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}mu(){this.muted=!0}wu(i,c){this.muted||setTimeout(()=>{this.muted||i(c)},0)}}class hg{constructor(i,c,h,g){var v=this;this.authCredentials=i,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=g,this.user=Yi.UNAUTHENTICATED,this.clientId=wo.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,t.Z)(function*(L){Zt("FirestoreClient","Received user=",L.uid),yield v.authCredentialListener(L),v.user=L});return function(L){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(Zt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var i=this;return(0,t.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const c=new Wr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,t.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),c.resolve()}catch(h){const g=Gu(h,"Failed to shutdown persistence");c.reject(g)}})),c.promise}}function e_(u,i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,t.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress(),Zt("FirestoreClient","Initializing OfflineComponentProvider");const c=yield u.getConfiguration();yield i.initialize(c);let h=c.initialUser;u.setCredentialChangeListener(function(){var g=(0,t.Z)(function*(v){h.isEqual(v)||(yield Ru(i.localStore,v),h=v)});return function(v){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=i}),Ud.apply(this,arguments)}function tp(u,i){return Js.apply(this,arguments)}function Js(){return Js=(0,t.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress();const c=yield Bd(u);Zt("FirestoreClient","Initializing OnlineComponentProvider");const h=yield u.getConfiguration();yield i.initialize(c,h),u.setCredentialChangeListener(g=>Gf(i.remoteStore,g)),u.setAppCheckTokenChangeListener((g,v)=>Gf(i.remoteStore,v)),u.onlineComponents=i}),Js.apply(this,arguments)}function Bd(u){return Ko.apply(this,arguments)}function Ko(){return Ko=(0,t.Z)(function*(u){return u.offlineComponents||(Zt("FirestoreClient","Using default OfflineComponentProvider"),yield e_(u,new T0)),u.offlineComponents}),Ko.apply(this,arguments)}function su(u){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,t.Z)(function*(u){return u.onlineComponents||(Zt("FirestoreClient","Using default OnlineComponentProvider"),yield tp(u,new E0)),u.onlineComponents}),Bh.apply(this,arguments)}function Ca(u){return Qs.apply(this,arguments)}function Qs(){return Qs=(0,t.Z)(function*(u){const i=yield su(u),c=i.eventManager;return c.onListen=g0.bind(null,i.syncEngine),c.onUnlisten=Uv.bind(null,i.syncEngine),c}),Qs.apply(this,arguments)}const fg=new Map;function Gh(u,i,c){if(!c)throw new It(pt.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${i}.`)}function Hh(u){if(!fn.isDocumentKey(u))throw new It(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function qu(u){if(fn.isDocumentKey(u))throw new It(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function Gd(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const i=(c=u).constructor?c.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var c;return"function"==typeof u?"a function":Rn()}function jr(u,i){if("_delegate"in u&&(u=u._delegate),!(u instanceof i)){if(i.name===u.constructor.name)throw new It(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=Gd(u);throw new It(pt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${c}`)}}return u}class pg{constructor(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new It(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new It(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,function n_(u,i,c,h){if(!0===i&&!0===h)throw new It(pt.INVALID_ARGUMENT,`${u} and ${c} cannot be used together.`)}("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Vl{constructor(i,c,h){this._authCredentials=c,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new pg({}),this._settingsFrozen=!1,i instanceof ac?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new It(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(g.options.projectId)}(i))}get app(){if(!this._app)throw new It(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new It(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new pg(i),void 0!==i.credentials&&(this._authCredentials=function(c){if(!c)return new Xn;switch(c.type){case"gapi":const h=c.client;return Yn(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new af(h,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new It(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const c=fg.get(i);c&&(Zt("ComponentProvider","Removing Datastore"),fg.delete(i),c.terminate())}(this),Promise.resolve()}}class $i{constructor(i,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wa(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new $i(this.firestore,i,this._key)}}class Yo{constructor(i,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=i}withConverter(i){return new Yo(this.firestore,i,this._query)}}class wa extends Yo{constructor(i,c,h){super(i,c,Zn(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new $i(this.firestore,null,new fn(i))}withConverter(i){return new wa(this.firestore,i,this._path)}}function r_(u,i,...c){if(u=(0,M.m9)(u),Gh("collection","path",i),u instanceof Vl){const h=zr.fromString(i,...c);return qu(h),new wa(u,null,h)}{if(!(u instanceof $i||u instanceof wa))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=u._path.child(zr.fromString(i,...c));return qu(h),new wa(u.firestore,null,h)}}function vc(u,i,...c){if(u=(0,M.m9)(u),1===arguments.length&&(i=wo.R()),Gh("doc","path",i),u instanceof Vl){const h=zr.fromString(i,...c);return Hh(h),new $i(u,null,new fn(h))}{if(!(u instanceof $i||u instanceof wa))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=u._path.child(zr.fromString(i,...c));return Hh(h),new $i(u.firestore,u instanceof wa?u.converter:null,new fn(h))}}class i_{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Fl(this,"async_queue_retry"),this.Fu=()=>{const c=Lf();c&&Zt("AsyncQueue","Visibility state changed to "+c.visibilityState),this.vo.To()};const i=Lf();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Bu(),this.Lu(i)}enterRestrictedMode(i){if(!this.xu){this.xu=!0,this.Ou=i||!1;const c=Lf();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Fu)}}enqueue(i){if(this.Bu(),this.xu)return new Promise(()=>{});const c=new Wr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(i().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Cu.push(i),this.qu()))}qu(){var i=this;return(0,t.Z)(function*(){if(0!==i.Cu.length){try{yield i.Cu[0](),i.Cu.shift(),i.vo.reset()}catch(c){if(!fs(c))throw c;Zt("AsyncQueue","Operation failed with retryable error: "+c)}i.Cu.length>0&&i.vo.po(()=>i.qu())}})()}Lu(i){const c=this.Du.then(()=>(this.Mu=!0,i().catch(h=>{throw this.ku=h,this.Mu=!1,ar("INTERNAL UNHANDLED ERROR: ",function(v){let D=v.message||"";return v.stack&&(D=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),D}(h)),h}).then(h=>(this.Mu=!1,h))));return this.Du=c,c}enqueueAfterDelay(i,c,h){this.Bu(),this.$u.indexOf(i)>-1&&(c=0);const g=Hf.createAndSchedule(this,i,c,h,v=>this.Uu(v));return this.Nu.push(g),g}Bu(){this.ku&&Rn()}verifyOperationInProgress(){}Ku(){var i=this;return(0,t.Z)(function*(){let c;do{c=i.Du,yield c}while(c!==i.Du)})()}Gu(i){for(const c of this.Nu)if(c.timerId===i)return!0;return!1}Qu(i){return this.Ku().then(()=>{this.Nu.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this.Nu)if(c.skipDelay(),"all"!==i&&c.timerId===i)break;return this.Ku()})}ju(i){this.$u.push(i)}Uu(i){const c=this.Nu.indexOf(i);this.Nu.splice(c,1)}}function o_(u){return function(i,c){if("object"!=typeof i||null===i)return!1;const h=i;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(u)}class qi extends Vl{constructor(i,c,h){super(i,c,h),this.type="firestore",this._queue=new i_,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||A0(this),this._firestoreClient.terminate()}}function op(u=(0,C.getApp)()){return(0,C._getProvider)(u,"firestore").getImmediate()}function Qo(u){return u._firestoreClient||A0(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function A0(u){var i;const c=u._freezeSettings(),h=(v=(null===(i=u._app)||void 0===i?void 0:i.options.appId)||"",new nd(u._databaseId,v,u._persistenceKey,(L=c).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var v,L;u._firestoreClient=new hg(u._authCredentials,u._appCheckCredentials,u._queue,h)}class qh{constructor(...i){for(let c=0;c<i.length;++c)if(0===i[c].length)throw new It(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ui(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Gl{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Gl(gi.fromBase64String(i))}catch(c){throw new It(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(i){return new Gl(gi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class gg{constructor(i){this._methodName=i}}class a_{constructor(i,c){if(!isFinite(i)||i<-90||i>90)throw new It(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new It(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Cr(this._lat,i._lat)||Cr(this._long,i._long)}}const mg=/^__.*__$/;class c_{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return null!==this.fieldMask?new ds(i,this.data,this.fieldMask,c,this.fieldTransforms):new cd(i,this.data,c,this.fieldTransforms)}}class bc{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return new ds(i,this.data,this.fieldMask,c,this.fieldTransforms)}}function _g(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Rn()}}class yg{constructor(i,c,h,g,v,D){this.settings=i,this.databaseId=c,this.M=h,this.ignoreUndefinedProperties=g,void 0===v&&this.Wu(),this.fieldTransforms=v||[],this.fieldMask=D||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(i){return new yg(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Xu(i),g}Zu(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Wu(),g}tc(i){return this.Hu({path:void 0,Yu:!0})}ec(i){return up(i,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(i){return void 0!==this.fieldMask.find(c=>i.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>i.isPrefixOf(c.field))}Wu(){if(this.path)for(let i=0;i<this.path.length;i++)this.Xu(this.path.get(i))}Xu(i){if(0===i.length)throw this.ec("Document fields must not be empty");if(_g(this.zu)&&mg.test(i))throw this.ec('Document fields cannot begin and end with "__"')}}class Zv{constructor(i,c,h){this.databaseId=i,this.ignoreUndefinedProperties=c,this.M=h||Nd(i)}ic(i,c,h,g=!1){return new yg({zu:i,methodName:c,sc:h,path:Ui.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function cu(u){const i=u._freezeSettings(),c=Nd(u._databaseId);return new Zv(u._databaseId,!!i.ignoreUndefinedProperties,c)}function vg(u,i,c,h,g,v={}){const D=u.ic(v.merge||v.mergeFields?2:0,i,c,g);cp("Data must be an object, but it was:",D,h);const L=wg(h,D);let q,te;if(v.merge)q=new Vo(D.fieldMask),te=D.fieldTransforms;else if(v.mergeFields){const xe=[];for(const Ve of v.mergeFields){const ht=Tg(i,Ve,c);if(!D.contains(ht))throw new It(pt.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);O0(xe,ht)||xe.push(ht)}q=new Vo(xe),te=D.fieldTransforms.filter(Ve=>q.covers(Ve.field))}else q=null,te=D.fieldTransforms;return new c_(new ui(L),q,te)}class $d extends gg{_toFieldTransform(i){if(2!==i.zu)throw i.ec(1===i.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof $d}}function uu(u,i){if(d_(u=(0,M.m9)(u)))return cp("Unsupported field value:",i,u),wg(u,i);if(u instanceof gg)return function(c,h){if(!_g(h.zu))throw h.ec(`${c._methodName}() can only be used with update() and set()`);if(!h.path)throw h.ec(`${c._methodName}() is not currently supported inside arrays`);const g=c._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(u,i),null;if(void 0===u&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),u instanceof Array){if(i.settings.Yu&&4!==i.zu)throw i.ec("Nested arrays are not supported");return function(c,h){const g=[];let v=0;for(const D of c){let L=uu(D,h.tc(v));null==L&&(L={nullValue:"NULL_VALUE"}),g.push(L),v++}return{arrayValue:{values:g}}}(u,i)}return function(c,h){if(null===(c=(0,M.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return Cp(h.M,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const g=Xr.fromDate(c);return{timestampValue:yi(h.M,g)}}if(c instanceof Xr){const g=new Xr(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:yi(h.M,g)}}if(c instanceof a_)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Gl)return{bytesValue:Op(h.M,c._byteString)};if(c instanceof $i){const g=h.databaseId,v=c.firestore._databaseId;if(!v.isEqual(g))throw h.ec(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:gh(c.firestore._databaseId||h.databaseId,c._key.path)}}throw h.ec(`Unsupported field value: ${Gd(c)}`)}(u,i)}function wg(u,i){const c={};return bs(u)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):_i(u,(h,g)=>{const v=uu(g,i.Ju(h));null!=v&&(c[h]=v)}),{mapValue:{fields:c}}}function d_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Xr||u instanceof a_||u instanceof Gl||u instanceof $i||u instanceof gg)}function cp(u,i,c){if(!d_(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=Gd(c);throw i.ec("an object"===h?u+" a custom object":u+" "+h)}var h}function Tg(u,i,c){if((i=(0,M.m9)(i))instanceof qh)return i._internalPath;if("string"==typeof i)return Zh(u,i);throw up("Field path arguments must be of type string or ",u,!1,void 0,c)}const h_=new RegExp("[~\\*/\\[\\]]");function Zh(u,i,c){if(i.search(h_)>=0)throw up(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,c);try{return new qh(...i.split("."))._internalPath}catch(h){throw up(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,c)}}function up(u,i,c,h,g){const v=h&&!h.isEmpty(),D=void 0!==g;let L=`Function ${i}() called with invalid data`;c&&(L+=" (via `toFirestore()`)"),L+=". ";let q="";return(v||D)&&(q+=" (found",v&&(q+=` in field ${h}`),D&&(q+=` in document ${g}`),q+=")"),new It(pt.INVALID_ARGUMENT,L+u+q)}function O0(u,i){return u.some(c=>c.isEqual(i))}class Eg{constructor(i,c,h,g,v){this._firestore=i,this._userDataWriter=c,this._key=h,this._document=g,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new P0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const c=this._document.data.field(Zd("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}}}class P0 extends Eg{data(){return super.data()}}function Zd(u,i){return"string"==typeof i?Zh(u,i):i instanceof qh?i._internalPath:i._delegate._internalPath}class Zu{constructor(i,c){this.hasPendingWrites=i,this.fromCache=c}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class ea extends Eg{constructor(i,c,h,g,v,D){super(i,c,h,g,D),this._firestore=i,this._firestoreImpl=i,this.metadata=v}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const c=new lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,c={}){if(this._document){const h=this._document.data.field(Zd("DocumentSnapshot.get",i));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class lp extends ea{data(i={}){return super.data(i)}}class Wd{constructor(i,c,h,g){this._firestore=i,this._userDataWriter=c,this._snapshot=g,this.metadata=new Zu(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const i=[];return this.forEach(c=>i.push(c)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,c){this._snapshot.docs.forEach(h=>{i.call(c,new lp(this._firestore,this._userDataWriter,h.key,h,new Zu(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new It(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let v=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new lp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Zu(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:v++}))}{let v=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>g||3!==D.type).map(D=>{const L=new lp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Zu(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,te=-1;return 0!==D.type&&(q=v.indexOf(D.doc.key),v=v.delete(D.doc.key)),1!==D.type&&(v=v.add(D.doc),te=v.indexOf(D.doc.key)),{type:f_(D.type),doc:L,oldIndex:q,newIndex:te}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function f_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Rn()}}function zd(u,i,c){let h;return h=u?c&&(c.merge||c.mergeFields)?u.toFirestore(i,c):u.toFirestore(i):i,h}class Kv{constructor(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=cu(i)}set(i,c,h){this._verifyNotCommitted();const g=Og(i,this._firestore),v=zd(g.converter,c,h),D=vg(this._dataReader,"WriteBatch.set",g._key,v,null!==g.converter,h);return this._mutations.push(D.toMutation(g._key,ji.none())),this}update(i,c,h,...g){this._verifyNotCommitted();const v=Og(i,this._firestore);let D;return D="string"==typeof(c=(0,M.m9)(c))||c instanceof qh?function M0(u,i,c,h,g,v){const D=u.ic(1,i,c),L=[Tg(i,h,c)],q=[g];if(v.length%2!=0)throw new It(pt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<v.length;ht+=2)L.push(Tg(i,v[ht])),q.push(v[ht+1]);const te=[],xe=ui.empty();for(let ht=L.length-1;ht>=0;--ht)if(!O0(te,L[ht])){const vt=L[ht];let Ut=q[ht];Ut=(0,M.m9)(Ut);const Fn=D.Zu(vt);if(Ut instanceof $d)te.push(vt);else{const wr=uu(Ut,Fn);null!=wr&&(te.push(vt),xe.set(vt,wr))}}const Ve=new Vo(te);return new bc(xe,Ve,D.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c,h,g):function Py(u,i,c,h){const g=u.ic(1,i,c);cp("Data must be an object, but it was:",g,h);const v=[],D=ui.empty();_i(h,(q,te)=>{const xe=Zh(i,q,c);te=(0,M.m9)(te);const Ve=g.Zu(xe);if(te instanceof $d)v.push(xe);else{const ht=uu(te,Ve);null!=ht&&(v.push(xe),D.set(xe,ht))}});const L=new Vo(v);return new bc(D,L,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c),this._mutations.push(D.toMutation(v._key,ji.exists(!0))),this}delete(i){this._verifyNotCommitted();const c=Og(i,this._firestore);return this._mutations=this._mutations.concat(new lh(c._key,ji.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Og(u,i){if((u=(0,M.m9)(u)).firestore!==i)throw new It(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class Kd extends class L0{convertValue(i,c="none"){switch(uc(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Jr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(Ji(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw Rn()}}convertObject(i,c){const h={};return _i(i.fields,(g,v)=>{h[g]=this.convertValue(v,c)}),h}convertGeoPoint(i){return new a_(Jr(i.latitude),Jr(i.longitude))}convertArray(i,c){return(i.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(i,c){switch(c){case"previous":const h=bu(i);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(jo(i));default:return null}}convertTimestamp(i){const c=To(i);return new Xr(c.seconds,c.nanos)}convertDocumentKey(i,c){const h=zr.fromString(i);Yn(_h(h));const g=new ac(h.get(1),h.get(3)),v=new fn(h.popFirst(5));return g.isEqual(c)||ar(`Document ${v} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),v}}{constructor(i){super(),this.firestore=i}convertBytes(i){return new Gl(i)}convertReference(i){const c=this.convertDocumentKey(i,this.firestore._databaseId);return new $i(this.firestore,null,c)}}function Pg(u,i,c){u=jr(u,$i);const h=jr(u.firestore,qi),g=zd(u.converter,i,c);return Rg(h,[vg(cu(h),"setDoc",u._key,g,null!==u.converter,c).toMutation(u._key,ji.none())])}function tc(u){return Rg(jr(u.firestore,qi),[new lh(u._key,ji.none())])}function wc(u,i){const c=jr(u.firestore,qi),h=vc(u),g=zd(u.converter,i);return Rg(c,[vg(cu(u.firestore),"addDoc",h._key,g,null!==u.converter,{}).toMutation(h._key,ji.exists(!1))]).then(()=>h)}function Ng(u,...i){var c,h,g;u=(0,M.m9)(u);let v={includeMetadataChanges:!1},D=0;"object"!=typeof i[D]||o_(i[D])||(v=i[D],D++);const L={includeMetadataChanges:v.includeMetadataChanges};if(o_(i[D])){const Ve=i[D];i[D]=null===(c=Ve.next)||void 0===c?void 0:c.bind(Ve),i[D+1]=null===(h=Ve.error)||void 0===h?void 0:h.bind(Ve),i[D+2]=null===(g=Ve.complete)||void 0===g?void 0:g.bind(Ve)}let q,te,xe;if(u instanceof $i)te=jr(u.firestore,qi),xe=Zn(u._key.path),q={next:Ve=>{i[D]&&i[D](function B0(u,i,c){const h=c.docs.get(i._key),g=new Kd(u);return new ea(u,g,i._key,h,new Zu(c.hasPendingWrites,c.fromCache),i.converter)}(te,u,Ve))},error:i[D+1],complete:i[D+2]};else{const Ve=jr(u,Yo);te=jr(Ve.firestore,qi),xe=Ve._query;const ht=new Kd(te);q={next:vt=>{i[D]&&i[D](new Wd(te,ht,Ve,vt))},error:i[D+1],complete:i[D+2]},function Dg(u){if(xi(u)&&0===u.explicitOrderBy.length)throw new It(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(u._query)}return function(Ve,ht,vt,Ut){const Fn=new Qm(Ut),wr=new Fh(ht,Fn,vt);return Ve.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function $f(u,i){return qf.apply(this,arguments)}(yield Ca(Ve),wr)})),()=>{Fn.mu(),Ve.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function ig(u,i){return og.apply(this,arguments)}(yield Ca(Ve),wr)}))}}(Qo(te),xe,L,q)}function Rg(u,i){return function(c,h){const g=new Wr;return c.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Hm(u,i,c){return Bl.apply(this,arguments)}(yield function au(u){return su(u).then(i=>i.syncEngine)}(c),h,g)})),g.promise}(Qo(u),i)}function V0(u){return Qo(u=jr(u,qi)),new Kv(u,i=>Rg(u,i))}!function(u,i=!0){No=C.SDK_VERSION,(0,C._registerComponent)(new E.wA("firestore",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),v=new qi(g,new sf(c.getProvider("auth-internal")),new sc(c.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:i},h),v._setSettings(h),v},"PUBLIC")),(0,C.registerVersion)(ed,"3.4.6",u),(0,C.registerVersion)(ed,"3.4.6","esm2017")}()},5199:(nt,A,O)=>{nt=O.nmd(nt);var C="__lodash_hash_undefined__",M=9007199254740991,j="[object Arguments]",ce="[object Function]",ue="[object Object]",Tt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,At={};At["[object Float32Array]"]=At["[object Float64Array]"]=At["[object Int8Array]"]=At["[object Int16Array]"]=At["[object Int32Array]"]=At["[object Uint8Array]"]=At["[object Uint8ClampedArray]"]=At["[object Uint16Array]"]=At["[object Uint32Array]"]=!0,At[j]=At["[object Array]"]=At["[object ArrayBuffer]"]=At["[object Boolean]"]=At["[object DataView]"]=At["[object Date]"]=At["[object Error]"]=At[ce]=At["[object Map]"]=At["[object Number]"]=At[ue]=At["[object RegExp]"]=At["[object Set]"]=At["[object String]"]=At["[object WeakMap]"]=!1;var an="object"==typeof global&&global&&global.Object===Object&&global,er="object"==typeof self&&self&&self.Object===Object&&self,kn=an||er||Function("return this")(),yr=A&&!A.nodeType&&A,nr=yr&&nt&&!nt.nodeType&&nt,Qn=nr&&nr.exports===yr,Hr=Qn&&an.process,mr=function(){try{return nr&&nr.require&&nr.require("util").types||Hr&&Hr.binding&&Hr.binding("util")}catch(Te){}}(),Ar=mr&&mr.isTypedArray;function Ri(Y,Te,Ae){switch(Ae.length){case 0:return Y.call(Te);case 1:return Y.call(Te,Ae[0]);case 2:return Y.call(Te,Ae[0],Ae[1]);case 3:return Y.call(Te,Ae[0],Ae[1],Ae[2])}return Y.apply(Te,Ae)}var Y,gn=Array.prototype,Vr=Object.prototype,$r=kn["__core-js_shared__"],Re=Function.prototype.toString,Qe=Vr.hasOwnProperty,ct=(Y=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||""))?"Symbol(src)_1."+Y:"",Xe=Vr.toString,yt=Re.call(Object),kt=RegExp("^"+Re.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=Qn?kn.Buffer:void 0,wt=kn.Symbol,Lt=kn.Uint8Array,mn=Mt?Mt.allocUnsafe:void 0,en=function wi(Y,Te){return function(Ae){return Y(Te(Ae))}}(Object.getPrototypeOf,Object),Qt=Object.create,Mn=Vr.propertyIsEnumerable,Cn=gn.splice,Wn=wt?wt.toStringTag:void 0,Ht=function(){try{var Y=Pr(Object,"defineProperty");return Y({},"",{}),Y}catch(Te){}}(),vr=Mt?Mt.isBuffer:void 0,En=Math.max,Dt=Date.now,et=Pr(kn,"Map"),Vt=Pr(Object,"create"),Wt=function(){function Y(){}return function(Te){if(!be(Te))return{};if(Qt)return Qt(Te);Y.prototype=Te;var Ae=new Y;return Y.prototype=void 0,Ae}}();function An(Y){var Te=-1,Ae=null==Y?0:Y.length;for(this.clear();++Te<Ae;){var at=Y[Te];this.set(at[0],at[1])}}function ke(Y){var Te=-1,Ae=null==Y?0:Y.length;for(this.clear();++Te<Ae;){var at=Y[Te];this.set(at[0],at[1])}}function tr(Y){var Te=-1,Ae=null==Y?0:Y.length;for(this.clear();++Te<Ae;){var at=Y[Te];this.set(at[0],at[1])}}function cn(Y){var Te=this.__data__=new ke(Y);this.size=Te.size}function $t(Y,Te,Ae){(void 0!==Ae&&!ys(Y[Te],Ae)||void 0===Ae&&!(Te in Y))&&Tn(Y,Te,Ae)}function Xt(Y,Te,Ae){var at=Y[Te];(!Qe.call(Y,Te)||!ys(at,Ae)||void 0===Ae&&!(Te in Y))&&Tn(Y,Te,Ae)}function on(Y,Te){for(var Ae=Y.length;Ae--;)if(ys(Y[Ae][0],Te))return Ae;return-1}function Tn(Y,Te,Ae){"__proto__"==Te&&Ht?Ht(Y,Te,{configurable:!0,enumerable:!0,value:Ae,writable:!0}):Y[Te]=Ae}An.prototype.clear=function yn(){this.__data__=Vt?Vt(null):{},this.size=0},An.prototype.delete=function ve(Y){var Te=this.has(Y)&&delete this.__data__[Y];return this.size-=Te?1:0,Te},An.prototype.get=function pe(Y){var Te=this.__data__;if(Vt){var Ae=Te[Y];return Ae===C?void 0:Ae}return Qe.call(Te,Y)?Te[Y]:void 0},An.prototype.has=function me(Y){var Te=this.__data__;return Vt?void 0!==Te[Y]:Qe.call(Te,Y)},An.prototype.set=function Ze(Y,Te){var Ae=this.__data__;return this.size+=this.has(Y)?0:1,Ae[Y]=Vt&&void 0===Te?C:Te,this},ke.prototype.clear=function Nt(){this.__data__=[],this.size=0},ke.prototype.delete=function wn(Y){var Te=this.__data__,Ae=on(Te,Y);return!(Ae<0||(Ae==Te.length-1?Te.pop():Cn.call(Te,Ae,1),--this.size,0))},ke.prototype.get=function On(Y){var Te=this.__data__,Ae=on(Te,Y);return Ae<0?void 0:Te[Ae][1]},ke.prototype.has=function rr(Y){return on(this.__data__,Y)>-1},ke.prototype.set=function Gn(Y,Te){var Ae=this.__data__,at=on(Ae,Y);return at<0?(++this.size,Ae.push([Y,Te])):Ae[at][1]=Te,this},tr.prototype.clear=function tn(){this.size=0,this.__data__={hash:new An,map:new(et||ke),string:new An}},tr.prototype.delete=function Dn(Y){var Te=sr(this,Y).delete(Y);return this.size-=Te?1:0,Te},tr.prototype.get=function nn(Y){return sr(this,Y).get(Y)},tr.prototype.has=function Le(Y){return sr(this,Y).has(Y)},tr.prototype.set=function st(Y,Te){var Ae=sr(this,Y),at=Ae.size;return Ae.set(Y,Te),this.size+=Ae.size==at?0:1,this},cn.prototype.clear=function Un(){this.__data__=new ke,this.size=0},cn.prototype.delete=function or(Y){var Te=this.__data__,Ae=Te.delete(Y);return this.size=Te.size,Ae},cn.prototype.get=function jt(Y){return this.__data__.get(Y)},cn.prototype.has=function Bt(Y){return this.__data__.has(Y)},cn.prototype.set=function je(Y,Te){var Ae=this.__data__;if(Ae instanceof ke){var at=Ae.__data__;if(!et||at.length<199)return at.push([Y,Te]),this.size=++Ae.size,this;Ae=this.__data__=new tr(at)}return Ae.set(Y,Te),this.size=Ae.size,this};var Vn=function Ot(Y){return function(Te,Ae,at){for(var qt=-1,dn=Object(Te),sn=at(Te),_n=sn.length;_n--;){var Kn=sn[Y?_n:++qt];if(!1===Ae(dn[Kn],Kn,dn))break}return Te}}();function un(Y){return null==Y?void 0===Y?"[object Undefined]":"[object Null]":Wn&&Wn in Object(Y)?function pr(Y){var Te=Qe.call(Y,Wn),Ae=Y[Wn];try{Y[Wn]=void 0;var at=!0}catch(dn){}var qt=Xe.call(Y);return at&&(Te?Y[Wn]=Ae:delete Y[Wn]),qt}(Y):function Mo(Y){return Xe.call(Y)}(Y)}function Nn(Y){return re(Y)&&un(Y)==j}function Mr(Y,Te,Ae,at,qt){Y!==Te&&Vn(Te,function(dn,sn){if(qt||(qt=new cn),be(dn))!function yo(Y,Te,Ae,at,qt,dn,sn){var _n=Ps(Y,Ae),Kn=Ps(Te,Ae),Zr=sn.get(Kn);if(Zr)$t(Y,Ae,Zr);else{var Lr=dn?dn(_n,Kn,Ae+"",Y,Te,sn):void 0,Ki=void 0===Lr;if(Ki){var Rs=ts(Kn),Sr=!Rs&&Aa(Kn),rc=!Rs&&!Sr&&B(Kn);Lr=Kn,Rs||Sr||rc?ts(_n)?Lr=_n:function Oo(Y){return re(Y)&&ns(Y)}(_n)?Lr=function Pe(Y,Te){var Ae=-1,at=Y.length;for(Te||(Te=Array(at));++Ae<at;)Te[Ae]=Y[Ae];return Te}(_n):Sr?(Ki=!1,Lr=function zi(Y,Te){if(Te)return Y.slice();var Ae=Y.length,at=mn?mn(Ae):new Y.constructor(Ae);return Y.copy(at),at}(Kn,!0)):rc?(Ki=!1,Lr=function Fe(Y,Te){var Ae=Te?function Or(Y){var Te=new Y.constructor(Y.byteLength);return new Lt(Te).set(new Lt(Y)),Te}(Y.buffer):Y.buffer;return new Y.constructor(Ae,Y.byteOffset,Y.length)}(Kn,!0)):Lr=[]:function P(Y){if(!re(Y)||un(Y)!=ue)return!1;var Te=en(Y);if(null===Te)return!0;var Ae=Qe.call(Te,"constructor")&&Te.constructor;return"function"==typeof Ae&&Ae instanceof Ae&&Re.call(Ae)==yt}(Kn)||Ns(Kn)?(Lr=_n,Ns(_n)?Lr=function G(Y){return function ot(Y,Te,Ae,at){var qt=!Ae;Ae||(Ae={});for(var dn=-1,sn=Te.length;++dn<sn;){var _n=Te[dn],Kn=at?at(Ae[_n],Y[_n],_n,Ae,Y):void 0;void 0===Kn&&(Kn=Y[_n]),qt?Tn(Ae,_n,Kn):Xt(Ae,_n,Kn)}return Ae}(Y,le(Y))}(_n):(!be(_n)||Uo(_n))&&(Lr=function ai(Y){return"function"!=typeof Y.constructor||Sa(Y)?{}:Wt(en(Y))}(Kn))):Ki=!1}Ki&&(sn.set(Kn,Lr),qt(Lr,Kn,at,dn,sn),sn.delete(Kn)),$t(Y,Ae,Lr)}}(Y,Te,sn,Ae,Mr,at,qt);else{var _n=at?at(Ps(Y,sn),dn,sn+"",Y,Te,qt):void 0;void 0===_n&&(_n=dn),$t(Y,sn,_n)}},le)}function ki(Y,Te){return Ti(function ra(Y,Te,Ae){return Te=En(void 0===Te?Y.length-1:Te,0),function(){for(var at=arguments,qt=-1,dn=En(at.length-Te,0),sn=Array(dn);++qt<dn;)sn[qt]=at[Te+qt];qt=-1;for(var _n=Array(Te+1);++qt<Te;)_n[qt]=at[qt];return _n[Te]=Ae(sn),Ri(Y,this,_n)}}(Y,Te,Ee),Y+"")}var ur=Ht?function(Y,Te){return Ht(Y,"toString",{configurable:!0,enumerable:!1,value:fe(Te),writable:!0})}:Ee;function Yt(Y,Te,Ae,at,qt,dn){return be(Y)&&be(Te)&&(dn.set(Te,Y),Mr(Y,Te,void 0,Yt,dn),dn.delete(Te)),Y}function sr(Y,Te){var Ae=Y.__data__;return function Os(Y){var Te=typeof Y;return"string"==Te||"number"==Te||"symbol"==Te||"boolean"==Te?"__proto__"!==Y:null===Y}(Te)?Ae["string"==typeof Te?"string":"hash"]:Ae.map}function Pr(Y,Te){var Ae=function Br(Y,Te){return null==Y?void 0:Y[Te]}(Y,Te);return function br(Y){return!(!be(Y)||function Fi(Y){return!!ct&&ct in Y}(Y))&&(Uo(Y)?kt:Tt).test(function xc(Y){if(null!=Y){try{return Re.call(Y)}catch(Te){}try{return Y+""}catch(Te){}}return""}(Y))}(Ae)?Ae:void 0}function es(Y,Te){var Ae=typeof Y;return!!(Te=null==Te?M:Te)&&("number"==Ae||"symbol"!=Ae&&mt.test(Y))&&Y>-1&&Y%1==0&&Y<Te}function Sa(Y){var Te=Y&&Y.constructor;return Y===("function"==typeof Te&&Te.prototype||Vr)}function Ps(Y,Te){if(("constructor"!==Te||"function"!=typeof Y[Te])&&"__proto__"!=Te)return Y[Te]}var Ti=function _s(Y){var Te=0,Ae=0;return function(){var at=Dt(),qt=16-(at-Ae);if(Ae=at,qt>0){if(++Te>=800)return arguments[0]}else Te=0;return Y.apply(void 0,arguments)}}(ur);function ys(Y,Te){return Y===Te||Y!=Y&&Te!=Te}var Ns=Nn(function(){return arguments}())?Nn:function(Y){return re(Y)&&Qe.call(Y,"callee")&&!Mn.call(Y,"callee")},ts=Array.isArray;function ns(Y){return null!=Y&&ae(Y.length)&&!Uo(Y)}var Aa=vr||function ze(){return!1};function Uo(Y){if(!be(Y))return!1;var Te=un(Y);return Te==ce||"[object GeneratorFunction]"==Te||"[object AsyncFunction]"==Te||"[object Proxy]"==Te}function ae(Y){return"number"==typeof Y&&Y>-1&&Y%1==0&&Y<=M}function be(Y){var Te=typeof Y;return null!=Y&&("object"==Te||"function"==Te)}function re(Y){return null!=Y&&"object"==typeof Y}var B=Ar?function Fr(Y){return function(Te){return Y(Te)}}(Ar):function qn(Y){return re(Y)&&ae(Y.length)&&!!At[un(Y)]},Z=ki(function(Y){return Y.push(void 0,Yt),Ri(_e,void 0,Y)});function le(Y){return ns(Y)?function Ct(Y,Te){var Ae=ts(Y),at=!Ae&&Ns(Y),qt=!Ae&&!at&&Aa(Y),dn=!Ae&&!at&&!qt&&B(Y),sn=Ae||at||qt||dn,_n=sn?function bi(Y,Te){for(var Ae=-1,at=Array(Y);++Ae<Y;)at[Ae]=Te(Ae);return at}(Y.length,String):[],Kn=_n.length;for(var Zr in Y)(Te||Qe.call(Y,Zr))&&(!sn||!("length"==Zr||qt&&("offset"==Zr||"parent"==Zr)||dn&&("buffer"==Zr||"byteLength"==Zr||"byteOffset"==Zr)||es(Zr,Kn)))&&_n.push(Zr);return _n}(Y,!0):function Ir(Y){if(!be(Y))return function xa(Y){var Te=[];if(null!=Y)for(var Ae in Object(Y))Te.push(Ae);return Te}(Y);var Te=Sa(Y),Ae=[];for(var at in Y)"constructor"==at&&(Te||!Qe.call(Y,at))||Ae.push(at);return Ae}(Y)}var _e=function xt(Y){return ki(function(Te,Ae){var at=-1,qt=Ae.length,dn=qt>1?Ae[qt-1]:void 0,sn=qt>2?Ae[2]:void 0;for(dn=Y.length>3&&"function"==typeof dn?(qt--,dn):void 0,sn&&function qr(Y,Te,Ae){if(!be(Ae))return!1;var at=typeof Te;return!!("number"==at?ns(Ae)&&es(Te,Ae.length):"string"==at&&Te in Ae)&&ys(Ae[Te],Y)}(Ae[0],Ae[1],sn)&&(dn=qt<3?void 0:dn,qt=1),Te=Object(Te);++at<qt;){var _n=Ae[at];_n&&Y(Te,_n,at,dn)}return Te})}(function(Y,Te,Ae,at){Mr(Y,Te,Ae,at)});function fe(Y){return function(){return Y}}function Ee(Y){return Y}nt.exports=Z},8306:(nt,A,O)=>{"use strict";O.d(A,{y:()=>z});var t=O(930),C=O(727),E=O(8822),N=O(4671);var $=O(2416),W=O(576),J=O(2806);let z=(()=>{class $e{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const ue=new $e;return ue.source=this,ue.operator=ut,ue}subscribe(ut,ue,Oe){const De=function Ye($e){return $e&&$e instanceof t.Lv||function ce($e){return $e&&(0,W.m)($e.next)&&(0,W.m)($e.error)&&(0,W.m)($e.complete)}($e)&&(0,C.Nn)($e)}(ut)?ut:new t.Hp(ut,ue,Oe);return(0,J.x)(()=>{const{operator:rt,source:Be}=this;De.add(rt?rt.call(De,Be):Be?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(ut){try{return this._subscribe(ut)}catch(ue){ut.error(ue)}}forEach(ut,ue){return new(ue=ne(ue))((Oe,De)=>{const rt=new t.Hp({next:Be=>{try{ut(Be)}catch(qe){De(qe),rt.unsubscribe()}},error:De,complete:Oe});this.subscribe(rt)})}_subscribe(ut){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ut)}[E.L](){return this}pipe(...ut){return function j($e){return 0===$e.length?N.y:1===$e.length?$e[0]:function(ut){return $e.reduce((ue,Oe)=>Oe(ue),ut)}}(ut)(this)}toPromise(ut){return new(ut=ne(ut))((ue,Oe)=>{let De;this.subscribe(rt=>De=rt,rt=>Oe(rt),()=>ue(De))})}}return $e.create=Ge=>new $e(Ge),$e})();function ne($e){var Ge;return null!==(Ge=null!=$e?$e:$.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(nt,A,O)=>{"use strict";O.d(A,{x:()=>$});var t=O(8306),C=O(727);const N=(0,O(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=O(8737),j=O(2806);let $=(()=>{class J extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ce=new W(this,this);return ce.operator=ne,ce}_throwIfClosed(){if(this.closed)throw new N}next(ne){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ce of this.currentObservers)ce.next(ne)}})}error(ne){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ce}=this;for(;ce.length;)ce.shift().error(ne)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ce,isStopped:Ye,observers:$e}=this;return ce||Ye?C.Lc:(this.currentObservers=null,$e.push(ne),new C.w0(()=>{this.currentObservers=null,(0,M.P)($e,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ce,thrownError:Ye,isStopped:$e}=this;ce?ne.error(Ye):$e&&ne.complete()}asObservable(){const ne=new t.y;return ne.source=this,ne}}return J.create=(z,ne)=>new W(z,ne),J})();class W extends ${constructor(z,ne){super(),this.destination=z,this.source=ne}next(z){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ce||ce.call(ne,z)}error(z){var ne,ce;null===(ce=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ce||ce.call(ne,z)}complete(){var z,ne;null===(ne=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===ne||ne.call(z)}_subscribe(z){var ne,ce;return null!==(ce=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(z))&&void 0!==ce?ce:C.Lc}}},930:(nt,A,O)=>{"use strict";O.d(A,{Hp:()=>ut,Lv:()=>ce});var t=O(576),C=O(727),E=O(2416),N=O(7849),M=O(5032);const j=J("C",void 0,void 0);function J(Be,qe,we){return{kind:Be,value:qe,error:we}}var z=O(3410),ne=O(2806);class ce extends C.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,C.Nn)(qe)&&qe.add(this)):this.destination=rt}static create(qe,we,He){return new ut(qe,we,He)}next(qe){this.isStopped?De(function W(Be){return J("N",Be,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?De(function $(Be){return J("E",void 0,Be)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?De(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ye=Function.prototype.bind;function $e(Be,qe){return Ye.call(Be,qe)}class Ge{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:we}=this;if(we.next)try{we.next(qe)}catch(He){ue(He)}}error(qe){const{partialObserver:we}=this;if(we.error)try{we.error(qe)}catch(He){ue(He)}else ue(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(we){ue(we)}}}class ut extends ce{constructor(qe,we,He){let Ie;if(super(),(0,t.m)(qe)||!qe)Ie={next:null!=qe?qe:void 0,error:null!=we?we:void 0,complete:null!=He?He:void 0};else{let it;this&&E.v.useDeprecatedNextContext?(it=Object.create(qe),it.unsubscribe=()=>this.unsubscribe(),Ie={next:qe.next&&$e(qe.next,it),error:qe.error&&$e(qe.error,it),complete:qe.complete&&$e(qe.complete,it)}):Ie=qe}this.destination=new Ge(Ie)}}function ue(Be){E.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Be):(0,N.h)(Be)}function De(Be,qe){const{onStoppedNotification:we}=E.v;we&&z.z.setTimeout(()=>we(Be,qe))}const rt={closed:!0,next:M.Z,error:function Oe(Be){throw Be},complete:M.Z}},727:(nt,A,O)=>{"use strict";O.d(A,{Lc:()=>j,w0:()=>M,Nn:()=>$});var t=O(576);const E=(0,O(3888).d)(J=>function(ne){J(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ce,Ye)=>`${Ye+1}) ${ce.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var N=O(8737);class M{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const $e of ne)$e.remove(this);else ne.remove(this);const{initialTeardown:ce}=this;if((0,t.m)(ce))try{ce()}catch($e){z=$e instanceof E?$e.errors:[$e]}const{_finalizers:Ye}=this;if(Ye){this._finalizers=null;for(const $e of Ye)try{W($e)}catch(Ge){z=null!=z?z:[],Ge instanceof E?z=[...z,...Ge.errors]:z.push(Ge)}}if(z)throw new E(z)}}add(z){var ne;if(z&&z!==this)if(this.closed)W(z);else{if(z instanceof M){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(z)}}_hasParent(z){const{_parentage:ne}=this;return ne===z||Array.isArray(ne)&&ne.includes(z)}_addParent(z){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(z),ne):ne?[ne,z]:z}_removeParent(z){const{_parentage:ne}=this;ne===z?this._parentage=null:Array.isArray(ne)&&(0,N.P)(ne,z)}remove(z){const{_finalizers:ne}=this;ne&&(0,N.P)(ne,z),z instanceof M&&z._removeParent(this)}}M.EMPTY=(()=>{const J=new M;return J.closed=!0,J})();const j=M.EMPTY;function $(J){return J instanceof M||J&&"closed"in J&&(0,t.m)(J.remove)&&(0,t.m)(J.add)&&(0,t.m)(J.unsubscribe)}function W(J){(0,t.m)(J)?J():J.unsubscribe()}},2416:(nt,A,O)=>{"use strict";O.d(A,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,A,O)=>{"use strict";O.d(A,{E:()=>C});const C=new(O(8306).y)(M=>M.complete())},8996:(nt,A,O)=>{"use strict";O.d(A,{D:()=>qe});var t=O(8421),C=O(5363),E=O(9468),j=O(8306),W=O(2202),J=O(576),z=O(9672);function ce(we,He){if(!we)throw new Error("Iterable cannot be null");return new j.y(Ie=>{(0,z.f)(Ie,He,()=>{const it=we[Symbol.asyncIterator]();(0,z.f)(Ie,He,()=>{it.next().then(se=>{se.done?Ie.complete():Ie.next(se.value)})},0,!0)})})}var Ye=O(3670),$e=O(8239),Ge=O(1144),ut=O(6495),ue=O(2206),Oe=O(4532),De=O(3260);function qe(we,He){return He?function Be(we,He){if(null!=we){if((0,Ye.c)(we))return function N(we,He){return(0,t.Xf)(we).pipe((0,E.R)(He),(0,C.Q)(He))}(we,He);if((0,Ge.z)(we))return function $(we,He){return new j.y(Ie=>{let it=0;return He.schedule(function(){it===we.length?Ie.complete():(Ie.next(we[it++]),Ie.closed||this.schedule())})})}(we,He);if((0,$e.t)(we))return function M(we,He){return(0,t.Xf)(we).pipe((0,E.R)(He),(0,C.Q)(He))}(we,He);if((0,ue.D)(we))return ce(we,He);if((0,ut.T)(we))return function ne(we,He){return new j.y(Ie=>{let it;return(0,z.f)(Ie,He,()=>{it=we[W.h](),(0,z.f)(Ie,He,()=>{let se,oe;try{({value:se,done:oe}=it.next())}catch(Q){return void Ie.error(Q)}oe?Ie.complete():Ie.next(se)},0,!0)}),()=>(0,J.m)(null==it?void 0:it.return)&&it.return()})}(we,He);if((0,De.L)(we))return function rt(we,He){return ce((0,De.Q)(we),He)}(we,He)}throw(0,Oe.z)(we)}(we,He):(0,t.Xf)(we)}},8421:(nt,A,O)=>{"use strict";O.d(A,{Xf:()=>Ye});var t=O(655),C=O(1144),E=O(8239),N=O(8306),M=O(3670),j=O(2206),$=O(4532),W=O(6495),J=O(3260),z=O(576),ne=O(7849),ce=O(8822);function Ye(Be){if(Be instanceof N.y)return Be;if(null!=Be){if((0,M.c)(Be))return function $e(Be){return new N.y(qe=>{const we=Be[ce.L]();if((0,z.m)(we.subscribe))return we.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,C.z)(Be))return function Ge(Be){return new N.y(qe=>{for(let we=0;we<Be.length&&!qe.closed;we++)qe.next(Be[we]);qe.complete()})}(Be);if((0,E.t)(Be))return function ut(Be){return new N.y(qe=>{Be.then(we=>{qe.closed||(qe.next(we),qe.complete())},we=>qe.error(we)).then(null,ne.h)})}(Be);if((0,j.D)(Be))return Oe(Be);if((0,W.T)(Be))return function ue(Be){return new N.y(qe=>{for(const we of Be)if(qe.next(we),qe.closed)return;qe.complete()})}(Be);if((0,J.L)(Be))return function De(Be){return Oe((0,J.Q)(Be))}(Be)}throw(0,$.z)(Be)}function Oe(Be){return new N.y(qe=>{(function rt(Be,qe){var we,He,Ie,it;return(0,t.mG)(this,void 0,void 0,function*(){try{for(we=(0,t.KL)(Be);!(He=yield we.next()).done;)if(qe.next(He.value),qe.closed)return}catch(se){Ie={error:se}}finally{try{He&&!He.done&&(it=we.return)&&(yield it.call(we))}finally{if(Ie)throw Ie.error}}qe.complete()})})(Be,qe).catch(we=>qe.error(we))})}},6451:(nt,A,O)=>{"use strict";O.d(A,{T:()=>j});var t=O(8189),C=O(8421),E=O(515),N=O(3269),M=O(8996);function j(...$){const W=(0,N.yG)($),J=(0,N._6)($,1/0),z=$;return z.length?1===z.length?(0,C.Xf)(z[0]):(0,t.J)(J)((0,M.D)(z,W)):E.E}},9646:(nt,A,O)=>{"use strict";O.d(A,{of:()=>E});var t=O(3269),C=O(8996);function E(...N){const M=(0,t.yG)(N);return(0,C.D)(N,M)}},5403:(nt,A,O)=>{"use strict";O.d(A,{x:()=>C});var t=O(930);function C(N,M,j,$,W){return new E(N,M,j,$,W)}class E extends t.Lv{constructor(M,j,$,W,J,z){super(M),this.onFinalize=J,this.shouldUnsubscribe=z,this._next=j?function(ne){try{j(ne)}catch(ce){M.error(ce)}}:super._next,this._error=W?function(ne){try{W(ne)}catch(ce){M.error(ce)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(ne){M.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},4004:(nt,A,O)=>{"use strict";O.d(A,{U:()=>E});var t=O(4482),C=O(5403);function E(N,M){return(0,t.e)((j,$)=>{let W=0;j.subscribe((0,C.x)($,J=>{$.next(N.call(M,J,W++))}))})}},8189:(nt,A,O)=>{"use strict";O.d(A,{J:()=>E});var t=O(5577),C=O(4671);function E(N=1/0){return(0,t.z)(C.y,N)}},5577:(nt,A,O)=>{"use strict";O.d(A,{z:()=>W});var t=O(4004),C=O(8421),E=O(4482),N=O(9672),M=O(5403),$=O(576);function W(J,z,ne=1/0){return(0,$.m)(z)?W((ce,Ye)=>(0,t.U)(($e,Ge)=>z(ce,$e,Ye,Ge))((0,C.Xf)(J(ce,Ye))),ne):("number"==typeof z&&(ne=z),(0,E.e)((ce,Ye)=>function j(J,z,ne,ce,Ye,$e,Ge,ut){const ue=[];let Oe=0,De=0,rt=!1;const Be=()=>{rt&&!ue.length&&!Oe&&z.complete()},qe=He=>Oe<ce?we(He):ue.push(He),we=He=>{$e&&z.next(He),Oe++;let Ie=!1;(0,C.Xf)(ne(He,De++)).subscribe((0,M.x)(z,it=>{null==Ye||Ye(it),$e?qe(it):z.next(it)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(Oe--;ue.length&&Oe<ce;){const it=ue.shift();Ge?(0,N.f)(z,Ge,()=>we(it)):we(it)}Be()}catch(it){z.error(it)}}))};return J.subscribe((0,M.x)(z,qe,()=>{rt=!0,Be()})),()=>{null==ut||ut()}}(ce,Ye,J,ne)))}},5363:(nt,A,O)=>{"use strict";O.d(A,{Q:()=>N});var t=O(9672),C=O(4482),E=O(5403);function N(M,j=0){return(0,C.e)(($,W)=>{$.subscribe((0,E.x)(W,J=>(0,t.f)(W,M,()=>W.next(J),j),()=>(0,t.f)(W,M,()=>W.complete(),j),J=>(0,t.f)(W,M,()=>W.error(J),j)))})}},3099:(nt,A,O)=>{"use strict";O.d(A,{B:()=>j});var t=O(8996),C=O(5698),E=O(7579),N=O(930),M=O(4482);function j(W={}){const{connector:J=(()=>new E.x),resetOnError:z=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ce=!0}=W;return Ye=>{let $e=null,Ge=null,ut=null,ue=0,Oe=!1,De=!1;const rt=()=>{null==Ge||Ge.unsubscribe(),Ge=null},Be=()=>{rt(),$e=ut=null,Oe=De=!1},qe=()=>{const we=$e;Be(),null==we||we.unsubscribe()};return(0,M.e)((we,He)=>{ue++,!De&&!Oe&&rt();const Ie=ut=null!=ut?ut:J();He.add(()=>{ue--,0===ue&&!De&&!Oe&&(Ge=$(qe,ce))}),Ie.subscribe(He),$e||($e=new N.Hp({next:it=>Ie.next(it),error:it=>{De=!0,rt(),Ge=$(Be,z,it),Ie.error(it)},complete:()=>{Oe=!0,rt(),Ge=$(Be,ne),Ie.complete()}}),(0,t.D)(we).subscribe($e))})(Ye)}}function $(W,J,...z){return!0===J?(W(),null):!1===J?null:J(...z).pipe((0,C.q)(1)).subscribe(()=>W())}},9468:(nt,A,O)=>{"use strict";O.d(A,{R:()=>C});var t=O(4482);function C(E,N=0){return(0,t.e)((M,j)=>{j.add(E.schedule(()=>M.subscribe(j),N))})}},5698:(nt,A,O)=>{"use strict";O.d(A,{q:()=>N});var t=O(515),C=O(4482),E=O(5403);function N(M){return M<=0?()=>t.E:(0,C.e)((j,$)=>{let W=0;j.subscribe((0,E.x)($,J=>{++W<=M&&($.next(J),M<=W&&$.complete())}))})}},8505:(nt,A,O)=>{"use strict";O.d(A,{b:()=>M});var t=O(576),C=O(4482),E=O(5403),N=O(4671);function M(j,$,W){const J=(0,t.m)(j)||$||W?{next:j,error:$,complete:W}:j;return J?(0,C.e)((z,ne)=>{var ce;null===(ce=J.subscribe)||void 0===ce||ce.call(J);let Ye=!0;z.subscribe((0,E.x)(ne,$e=>{var Ge;null===(Ge=J.next)||void 0===Ge||Ge.call(J,$e),ne.next($e)},()=>{var $e;Ye=!1,null===($e=J.complete)||void 0===$e||$e.call(J),ne.complete()},$e=>{var Ge;Ye=!1,null===(Ge=J.error)||void 0===Ge||Ge.call(J,$e),ne.error($e)},()=>{var $e,Ge;Ye&&(null===($e=J.unsubscribe)||void 0===$e||$e.call(J)),null===(Ge=J.finalize)||void 0===Ge||Ge.call(J)}))}):N.y}},4408:(nt,A,O)=>{"use strict";O.d(A,{o:()=>M});var t=O(727);class C extends t.w0{constructor($,W){super()}schedule($,W=0){return this}}const E={setInterval(j,$,...W){const{delegate:J}=E;return(null==J?void 0:J.setInterval)?J.setInterval(j,$,...W):setInterval(j,$,...W)},clearInterval(j){const{delegate:$}=E;return((null==$?void 0:$.clearInterval)||clearInterval)(j)},delegate:void 0};var N=O(8737);class M extends C{constructor($,W){super($,W),this.scheduler=$,this.work=W,this.pending=!1}schedule($,W=0){if(this.closed)return this;this.state=$;const J=this.id,z=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(z,J,W)),this.pending=!0,this.delay=W,this.id=this.id||this.requestAsyncId(z,this.id,W),this}requestAsyncId($,W,J=0){return E.setInterval($.flush.bind($,this),J)}recycleAsyncId($,W,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return W;E.clearInterval(W)}execute($,W){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute($,W);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,W){let z,J=!1;try{this.work($)}catch(ne){J=!0,z=ne||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:$,scheduler:W}=this,{actions:J}=W;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(J,this),null!=$&&(this.id=this.recycleAsyncId(W,$,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,A,O)=>{"use strict";O.d(A,{v:()=>E});var t=O(6063);class C{constructor(M,j=C.now){this.schedulerActionCtor=M,this.now=j}schedule(M,j=0,$){return new this.schedulerActionCtor(this,M).schedule($,j)}}C.now=t.l.now;class E extends C{constructor(M,j=C.now){super(M,j),this.actions=[],this._active=!1,this._scheduled=void 0}flush(M){const{actions:j}=this;if(this._active)return void j.push(M);let $;this._active=!0;do{if($=M.execute(M.state,M.delay))break}while(M=j.shift());if(this._active=!1,$){for(;M=j.shift();)M.unsubscribe();throw $}}}},4986:(nt,A,O)=>{"use strict";O.d(A,{P:()=>N,z:()=>E});var t=O(4408);const E=new(O(7565).v)(t.o),N=E},6063:(nt,A,O)=>{"use strict";O.d(A,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(nt,A,O)=>{"use strict";O.d(A,{z:()=>t});const t={setTimeout(C,E,...N){const{delegate:M}=t;return(null==M?void 0:M.setTimeout)?M.setTimeout(C,E,...N):setTimeout(C,E,...N)},clearTimeout(C){const{delegate:E}=t;return((null==E?void 0:E.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(nt,A,O)=>{"use strict";O.d(A,{h:()=>C});const C=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,A,O)=>{"use strict";O.d(A,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(nt,A,O)=>{"use strict";O.d(A,{_6:()=>j,jO:()=>N,yG:()=>M});var t=O(576),C=O(3532);function E($){return $[$.length-1]}function N($){return(0,t.m)(E($))?$.pop():void 0}function M($){return(0,C.K)(E($))?$.pop():void 0}function j($,W){return"number"==typeof E($)?$.pop():W}},8737:(nt,A,O)=>{"use strict";function t(C,E){if(C){const N=C.indexOf(E);0<=N&&C.splice(N,1)}}O.d(A,{P:()=>t})},3888:(nt,A,O)=>{"use strict";function t(C){const N=C(M=>{Error.call(M),M.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}O.d(A,{d:()=>t})},2806:(nt,A,O)=>{"use strict";O.d(A,{O:()=>N,x:()=>E});var t=O(2416);let C=null;function E(M){if(t.v.useDeprecatedSynchronousErrorHandling){const j=!C;if(j&&(C={errorThrown:!1,error:null}),M(),j){const{errorThrown:$,error:W}=C;if(C=null,$)throw W}}else M()}function N(M){t.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=M)}},9672:(nt,A,O)=>{"use strict";function t(C,E,N,M=0,j=!1){const $=E.schedule(function(){N(),j?C.add(this.schedule(null,M)):this.unsubscribe()},M);if(C.add($),!j)return $}O.d(A,{f:()=>t})},4671:(nt,A,O)=>{"use strict";function t(C){return C}O.d(A,{y:()=>t})},1144:(nt,A,O)=>{"use strict";O.d(A,{z:()=>t});const t=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(nt,A,O)=>{"use strict";O.d(A,{D:()=>C});var t=O(576);function C(E){return Symbol.asyncIterator&&(0,t.m)(null==E?void 0:E[Symbol.asyncIterator])}},576:(nt,A,O)=>{"use strict";function t(C){return"function"==typeof C}O.d(A,{m:()=>t})},3670:(nt,A,O)=>{"use strict";O.d(A,{c:()=>E});var t=O(8822),C=O(576);function E(N){return(0,C.m)(N[t.L])}},6495:(nt,A,O)=>{"use strict";O.d(A,{T:()=>E});var t=O(2202),C=O(576);function E(N){return(0,C.m)(null==N?void 0:N[t.h])}},8239:(nt,A,O)=>{"use strict";O.d(A,{t:()=>C});var t=O(576);function C(E){return(0,t.m)(null==E?void 0:E.then)}},3260:(nt,A,O)=>{"use strict";O.d(A,{L:()=>N,Q:()=>E});var t=O(655),C=O(576);function E(M){return(0,t.FC)(this,arguments,function*(){const $=M.getReader();try{for(;;){const{value:W,done:J}=yield(0,t.qq)($.read());if(J)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(W)}}finally{$.releaseLock()}})}function N(M){return(0,C.m)(null==M?void 0:M.getReader)}},3532:(nt,A,O)=>{"use strict";O.d(A,{K:()=>C});var t=O(576);function C(E){return E&&(0,t.m)(E.schedule)}},4482:(nt,A,O)=>{"use strict";O.d(A,{A:()=>C,e:()=>E});var t=O(576);function C(N){return(0,t.m)(null==N?void 0:N.lift)}function E(N){return M=>{if(C(M))return M.lift(function(j){try{return N(j,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,A,O)=>{"use strict";function t(){}O.d(A,{Z:()=>t})},7849:(nt,A,O)=>{"use strict";O.d(A,{h:()=>E});var t=O(2416),C=O(3410);function E(N){C.z.setTimeout(()=>{const{onUnhandledError:M}=t.v;if(!M)throw N;M(N)})}},4532:(nt,A,O)=>{"use strict";function t(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}O.d(A,{z:()=>t})},8583:()=>{"use strict";!function(Re){const Qe=Re.performance;function ct(Dn){Qe&&Qe.mark&&Qe.mark(Dn)}function Xe(Dn,nn){Qe&&Qe.measure&&Qe.measure(Dn,nn)}ct("Zone");const yt=Re.__Zone_symbol_prefix||"__zone_symbol__";function kt(Dn){return yt+Dn}const Mt=!0===Re[kt("forceDuplicateZoneCheck")];if(Re.Zone){if(Mt||"function"!=typeof Re.Zone.__symbol__)throw new Error("Zone already loaded.");return Re.Zone}let wt=(()=>{class Dn{constructor(Le,st){this._parent=Le,this._name=st?st.name||"unnamed":"<root>",this._properties=st&&st.properties||{},this._zoneDelegate=new mn(this,this._parent&&this._parent._zoneDelegate,st)}static assertZonePatched(){if(Re.Promise!==wn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Le=Dn.current;for(;Le.parent;)Le=Le.parent;return Le}static get current(){return rr.zone}static get currentTask(){return Gn}static __load_patch(Le,st,cn=!1){if(wn.hasOwnProperty(Le)){if(!cn&&Mt)throw Error("Already loaded patch: "+Le)}else if(!Re["__Zone_disable_"+Le]){const Un="Zone:"+Le;ct(Un),wn[Le]=st(Re,Dn,On),Xe(Un,Un)}}get parent(){return this._parent}get name(){return this._name}get(Le){const st=this.getZoneWith(Le);if(st)return st._properties[Le]}getZoneWith(Le){let st=this;for(;st;){if(st._properties.hasOwnProperty(Le))return st;st=st._parent}return null}fork(Le){if(!Le)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Le)}wrap(Le,st){if("function"!=typeof Le)throw new Error("Expecting function got: "+Le);const cn=this._zoneDelegate.intercept(this,Le,st),Un=this;return function(){return Un.runGuarded(cn,this,arguments,st)}}run(Le,st,cn,Un){rr={parent:rr,zone:this};try{return this._zoneDelegate.invoke(this,Le,st,cn,Un)}finally{rr=rr.parent}}runGuarded(Le,st=null,cn,Un){rr={parent:rr,zone:this};try{try{return this._zoneDelegate.invoke(this,Le,st,cn,Un)}catch(or){if(this._zoneDelegate.handleError(this,or))throw or}}finally{rr=rr.parent}}runTask(Le,st,cn){if(Le.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Le.zone||Vt).name+"; Execution: "+this.name+")");if(Le.state===Wt&&(Le.type===Nt||Le.type===ke))return;const Un=Le.state!=ve;Un&&Le._transitionTo(ve,yn),Le.runCount++;const or=Gn;Gn=Le,rr={parent:rr,zone:this};try{Le.type==ke&&Le.data&&!Le.data.isPeriodic&&(Le.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Le,st,cn)}catch(jt){if(this._zoneDelegate.handleError(this,jt))throw jt}}finally{Le.state!==Wt&&Le.state!==me&&(Le.type==Nt||Le.data&&Le.data.isPeriodic?Un&&Le._transitionTo(yn,ve):(Le.runCount=0,this._updateTaskCount(Le,-1),Un&&Le._transitionTo(Wt,ve,Wt))),rr=rr.parent,Gn=or}}scheduleTask(Le){if(Le.zone&&Le.zone!==this){let cn=this;for(;cn;){if(cn===Le.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Le.zone.name}`);cn=cn.parent}}Le._transitionTo(An,Wt);const st=[];Le._zoneDelegates=st,Le._zone=this;try{Le=this._zoneDelegate.scheduleTask(this,Le)}catch(cn){throw Le._transitionTo(me,An,Wt),this._zoneDelegate.handleError(this,cn),cn}return Le._zoneDelegates===st&&this._updateTaskCount(Le,1),Le.state==An&&Le._transitionTo(yn,An),Le}scheduleMicroTask(Le,st,cn,Un){return this.scheduleTask(new en(Ze,Le,st,cn,Un,void 0))}scheduleMacroTask(Le,st,cn,Un,or){return this.scheduleTask(new en(ke,Le,st,cn,Un,or))}scheduleEventTask(Le,st,cn,Un,or){return this.scheduleTask(new en(Nt,Le,st,cn,Un,or))}cancelTask(Le){if(Le.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Le.zone||Vt).name+"; Execution: "+this.name+")");Le._transitionTo(pe,yn,ve);try{this._zoneDelegate.cancelTask(this,Le)}catch(st){throw Le._transitionTo(me,pe),this._zoneDelegate.handleError(this,st),st}return this._updateTaskCount(Le,-1),Le._transitionTo(Wt,pe),Le.runCount=0,Le}_updateTaskCount(Le,st){const cn=Le._zoneDelegates;-1==st&&(Le._zoneDelegates=null);for(let Un=0;Un<cn.length;Un++)cn[Un]._updateTaskCount(Le.type,st)}}return Dn.__symbol__=kt,Dn})();const Lt={name:"",onHasTask:(Dn,nn,Le,st)=>Dn.hasTask(Le,st),onScheduleTask:(Dn,nn,Le,st)=>Dn.scheduleTask(Le,st),onInvokeTask:(Dn,nn,Le,st,cn,Un)=>Dn.invokeTask(Le,st,cn,Un),onCancelTask:(Dn,nn,Le,st)=>Dn.cancelTask(Le,st)};class mn{constructor(nn,Le,st){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=nn,this._parentDelegate=Le,this._forkZS=st&&(st&&st.onFork?st:Le._forkZS),this._forkDlgt=st&&(st.onFork?Le:Le._forkDlgt),this._forkCurrZone=st&&(st.onFork?this.zone:Le._forkCurrZone),this._interceptZS=st&&(st.onIntercept?st:Le._interceptZS),this._interceptDlgt=st&&(st.onIntercept?Le:Le._interceptDlgt),this._interceptCurrZone=st&&(st.onIntercept?this.zone:Le._interceptCurrZone),this._invokeZS=st&&(st.onInvoke?st:Le._invokeZS),this._invokeDlgt=st&&(st.onInvoke?Le:Le._invokeDlgt),this._invokeCurrZone=st&&(st.onInvoke?this.zone:Le._invokeCurrZone),this._handleErrorZS=st&&(st.onHandleError?st:Le._handleErrorZS),this._handleErrorDlgt=st&&(st.onHandleError?Le:Le._handleErrorDlgt),this._handleErrorCurrZone=st&&(st.onHandleError?this.zone:Le._handleErrorCurrZone),this._scheduleTaskZS=st&&(st.onScheduleTask?st:Le._scheduleTaskZS),this._scheduleTaskDlgt=st&&(st.onScheduleTask?Le:Le._scheduleTaskDlgt),this._scheduleTaskCurrZone=st&&(st.onScheduleTask?this.zone:Le._scheduleTaskCurrZone),this._invokeTaskZS=st&&(st.onInvokeTask?st:Le._invokeTaskZS),this._invokeTaskDlgt=st&&(st.onInvokeTask?Le:Le._invokeTaskDlgt),this._invokeTaskCurrZone=st&&(st.onInvokeTask?this.zone:Le._invokeTaskCurrZone),this._cancelTaskZS=st&&(st.onCancelTask?st:Le._cancelTaskZS),this._cancelTaskDlgt=st&&(st.onCancelTask?Le:Le._cancelTaskDlgt),this._cancelTaskCurrZone=st&&(st.onCancelTask?this.zone:Le._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const cn=st&&st.onHasTask;(cn||Le&&Le._hasTaskZS)&&(this._hasTaskZS=cn?st:Lt,this._hasTaskDlgt=Le,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=nn,st.onScheduleTask||(this._scheduleTaskZS=Lt,this._scheduleTaskDlgt=Le,this._scheduleTaskCurrZone=this.zone),st.onInvokeTask||(this._invokeTaskZS=Lt,this._invokeTaskDlgt=Le,this._invokeTaskCurrZone=this.zone),st.onCancelTask||(this._cancelTaskZS=Lt,this._cancelTaskDlgt=Le,this._cancelTaskCurrZone=this.zone))}fork(nn,Le){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,nn,Le):new wt(nn,Le)}intercept(nn,Le,st){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,nn,Le,st):Le}invoke(nn,Le,st,cn,Un){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,nn,Le,st,cn,Un):Le.apply(st,cn)}handleError(nn,Le){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,nn,Le)}scheduleTask(nn,Le){let st=Le;if(this._scheduleTaskZS)this._hasTaskZS&&st._zoneDelegates.push(this._hasTaskDlgtOwner),st=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,nn,Le),st||(st=Le);else if(Le.scheduleFn)Le.scheduleFn(Le);else{if(Le.type!=Ze)throw new Error("Task is missing scheduleFn.");Dt(Le)}return st}invokeTask(nn,Le,st,cn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,nn,Le,st,cn):Le.callback.apply(st,cn)}cancelTask(nn,Le){let st;if(this._cancelTaskZS)st=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,nn,Le);else{if(!Le.cancelFn)throw Error("Task is not cancelable");st=Le.cancelFn(Le)}return st}hasTask(nn,Le){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,nn,Le)}catch(st){this.handleError(nn,st)}}_updateTaskCount(nn,Le){const st=this._taskCounts,cn=st[nn],Un=st[nn]=cn+Le;if(Un<0)throw new Error("More tasks executed then were scheduled.");0!=cn&&0!=Un||this.hasTask(this.zone,{microTask:st.microTask>0,macroTask:st.macroTask>0,eventTask:st.eventTask>0,change:nn})}}class en{constructor(nn,Le,st,cn,Un,or){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=nn,this.source=Le,this.data=cn,this.scheduleFn=Un,this.cancelFn=or,!st)throw new Error("callback is not defined");this.callback=st;const jt=this;this.invoke=nn===Nt&&cn&&cn.useG?en.invokeTask:function(){return en.invokeTask.call(Re,jt,this,arguments)}}static invokeTask(nn,Le,st){nn||(nn=this),tr++;try{return nn.runCount++,nn.zone.runTask(nn,Le,st)}finally{1==tr&&et(),tr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(Wt,An)}_transitionTo(nn,Le,st){if(this._state!==Le&&this._state!==st)throw new Error(`${this.type} '${this.source}': can not transition to '${nn}', expecting state '${Le}'${st?" or '"+st+"'":""}, was '${this._state}'.`);this._state=nn,nn==Wt&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Qt=kt("setTimeout"),Mn=kt("Promise"),Cn=kt("then");let vr,Wn=[],Ht=!1;function En(Dn){if(vr||Re[Mn]&&(vr=Re[Mn].resolve(0)),vr){let nn=vr[Cn];nn||(nn=vr.then),nn.call(vr,Dn)}else Re[Qt](Dn,0)}function Dt(Dn){0===tr&&0===Wn.length&&En(et),Dn&&Wn.push(Dn)}function et(){if(!Ht){for(Ht=!0;Wn.length;){const Dn=Wn;Wn=[];for(let nn=0;nn<Dn.length;nn++){const Le=Dn[nn];try{Le.zone.runTask(Le,null,null)}catch(st){On.onUnhandledError(st)}}}On.microtaskDrainDone(),Ht=!1}}const Vt={name:"NO ZONE"},Wt="notScheduled",An="scheduling",yn="scheduled",ve="running",pe="canceling",me="unknown",Ze="microTask",ke="macroTask",Nt="eventTask",wn={},On={symbol:kt,currentZoneFrame:()=>rr,onUnhandledError:tn,microtaskDrainDone:tn,scheduleMicroTask:Dt,showUncaughtError:()=>!wt[kt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:tn,patchMethod:()=>tn,bindArguments:()=>[],patchThen:()=>tn,patchMacroTask:()=>tn,patchEventPrototype:()=>tn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>tn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>tn,wrapWithCurrentZone:()=>tn,filterProperties:()=>[],attachOriginToPatched:()=>tn,_redefineProperty:()=>tn,patchCallbacks:()=>tn,nativeScheduleMicroTask:En};let rr={parent:null,zone:new wt(null,null)},Gn=null,tr=0;function tn(){}Xe("Zone","Zone"),Re.Zone=wt}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const nt=Object.getOwnPropertyDescriptor,A=Object.defineProperty,O=Object.getPrototypeOf,t=Object.create,C=Array.prototype.slice,E="addEventListener",N="removeEventListener",M=Zone.__symbol__(E),j=Zone.__symbol__(N),$="true",W="false",J=Zone.__symbol__("");function z(Re,Qe){return Zone.current.wrap(Re,Qe)}function ne(Re,Qe,ct,Xe,yt){return Zone.current.scheduleMacroTask(Re,Qe,ct,Xe,yt)}const ce=Zone.__symbol__,Ye="undefined"!=typeof window,$e=Ye?window:void 0,Ge=Ye&&$e||"object"==typeof self&&self||global;function ue(Re,Qe){for(let ct=Re.length-1;ct>=0;ct--)"function"==typeof Re[ct]&&(Re[ct]=z(Re[ct],Qe+"_"+ct));return Re}function De(Re){return!Re||!1!==Re.writable&&!("function"==typeof Re.get&&void 0===Re.set)}const rt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Be=!("nw"in Ge)&&void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process),qe=!Be&&!rt&&!(!Ye||!$e.HTMLElement),we=void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process)&&!rt&&!(!Ye||!$e.HTMLElement),He={},Ie=function(Re){if(!(Re=Re||Ge.event))return;let Qe=He[Re.type];Qe||(Qe=He[Re.type]=ce("ON_PROPERTY"+Re.type));const ct=this||Re.target||Ge,Xe=ct[Qe];let yt;if(qe&&ct===$e&&"error"===Re.type){const kt=Re;yt=Xe&&Xe.call(this,kt.message,kt.filename,kt.lineno,kt.colno,kt.error),!0===yt&&Re.preventDefault()}else yt=Xe&&Xe.apply(this,arguments),null!=yt&&!yt&&Re.preventDefault();return yt};function it(Re,Qe,ct){let Xe=nt(Re,Qe);if(!Xe&&ct&&nt(ct,Qe)&&(Xe={enumerable:!0,configurable:!0}),!Xe||!Xe.configurable)return;const yt=ce("on"+Qe+"patched");if(Re.hasOwnProperty(yt)&&Re[yt])return;delete Xe.writable,delete Xe.value;const kt=Xe.get,Mt=Xe.set,wt=Qe.substr(2);let Lt=He[wt];Lt||(Lt=He[wt]=ce("ON_PROPERTY"+wt)),Xe.set=function(mn){let en=this;!en&&Re===Ge&&(en=Ge),en&&("function"==typeof en[Lt]&&en.removeEventListener(wt,Ie),Mt&&Mt.call(en,null),en[Lt]=mn,"function"==typeof mn&&en.addEventListener(wt,Ie,!1))},Xe.get=function(){let mn=this;if(!mn&&Re===Ge&&(mn=Ge),!mn)return null;const en=mn[Lt];if(en)return en;if(kt){let Qt=kt.call(this);if(Qt)return Xe.set.call(this,Qt),"function"==typeof mn.removeAttribute&&mn.removeAttribute(Qe),Qt}return null},A(Re,Qe,Xe),Re[yt]=!0}function se(Re,Qe,ct){if(Qe)for(let Xe=0;Xe<Qe.length;Xe++)it(Re,"on"+Qe[Xe],ct);else{const Xe=[];for(const yt in Re)"on"==yt.substr(0,2)&&Xe.push(yt);for(let yt=0;yt<Xe.length;yt++)it(Re,Xe[yt],ct)}}const oe=ce("originalInstance");function Q(Re){const Qe=Ge[Re];if(!Qe)return;Ge[ce(Re)]=Qe,Ge[Re]=function(){const yt=ue(arguments,Re);switch(yt.length){case 0:this[oe]=new Qe;break;case 1:this[oe]=new Qe(yt[0]);break;case 2:this[oe]=new Qe(yt[0],yt[1]);break;case 3:this[oe]=new Qe(yt[0],yt[1],yt[2]);break;case 4:this[oe]=new Qe(yt[0],yt[1],yt[2],yt[3]);break;default:throw new Error("Arg list too long.")}},de(Ge[Re],Qe);const ct=new Qe(function(){});let Xe;for(Xe in ct)"XMLHttpRequest"===Re&&"responseBlob"===Xe||function(yt){"function"==typeof ct[yt]?Ge[Re].prototype[yt]=function(){return this[oe][yt].apply(this[oe],arguments)}:A(Ge[Re].prototype,yt,{set:function(kt){"function"==typeof kt?(this[oe][yt]=z(kt,Re+"."+yt),de(this[oe][yt],kt)):this[oe][yt]=kt},get:function(){return this[oe][yt]}})}(Xe);for(Xe in Qe)"prototype"!==Xe&&Qe.hasOwnProperty(Xe)&&(Ge[Re][Xe]=Qe[Xe])}function ge(Re,Qe,ct){let Xe=Re;for(;Xe&&!Xe.hasOwnProperty(Qe);)Xe=O(Xe);!Xe&&Re[Qe]&&(Xe=Re);const yt=ce(Qe);let kt=null;if(Xe&&(!(kt=Xe[yt])||!Xe.hasOwnProperty(yt))&&(kt=Xe[yt]=Xe[Qe],De(Xe&&nt(Xe,Qe)))){const wt=ct(kt,yt,Qe);Xe[Qe]=function(){return wt(this,arguments)},de(Xe[Qe],kt)}return kt}function Me(Re,Qe,ct){let Xe=null;function yt(kt){const Mt=kt.data;return Mt.args[Mt.cbIdx]=function(){kt.invoke.apply(this,arguments)},Xe.apply(Mt.target,Mt.args),kt}Xe=ge(Re,Qe,kt=>function(Mt,wt){const Lt=ct(Mt,wt);return Lt.cbIdx>=0&&"function"==typeof wt[Lt.cbIdx]?ne(Lt.name,wt[Lt.cbIdx],Lt,yt):kt.apply(Mt,wt)})}function de(Re,Qe){Re[ce("OriginalDelegate")]=Qe}let gt=!1,St=!1;function Tt(){if(gt)return St;gt=!0;try{const Re=$e.navigator.userAgent;(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/")||-1!==Re.indexOf("Edge/"))&&(St=!0)}catch(Re){}return St}Zone.__load_patch("ZoneAwarePromise",(Re,Qe,ct)=>{const Xe=Object.getOwnPropertyDescriptor,yt=Object.defineProperty,Mt=ct.symbol,wt=[],Lt=!0===Re[Mt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],mn=Mt("Promise"),en=Mt("then");ct.onUnhandledError=jt=>{if(ct.showUncaughtError()){const Bt=jt&&jt.rejection;Bt?console.error("Unhandled Promise rejection:",Bt instanceof Error?Bt.message:Bt,"; Zone:",jt.zone.name,"; Task:",jt.task&&jt.task.source,"; Value:",Bt,Bt instanceof Error?Bt.stack:void 0):console.error(jt)}},ct.microtaskDrainDone=()=>{for(;wt.length;){const jt=wt.shift();try{jt.zone.runGuarded(()=>{throw jt.throwOriginal?jt.rejection:jt})}catch(Bt){Cn(Bt)}}};const Mn=Mt("unhandledPromiseRejectionHandler");function Cn(jt){ct.onUnhandledError(jt);try{const Bt=Qe[Mn];"function"==typeof Bt&&Bt.call(this,jt)}catch(Bt){}}function Wn(jt){return jt&&jt.then}function Ht(jt){return jt}function vr(jt){return Le.reject(jt)}const En=Mt("state"),Dt=Mt("value"),et=Mt("finally"),Vt=Mt("parentPromiseValue"),Wt=Mt("parentPromiseState"),yn=null,pe=!1;function Ze(jt,Bt){return je=>{try{On(jt,Bt,je)}catch(Ct){On(jt,!1,Ct)}}}const wn=Mt("currentTaskTrace");function On(jt,Bt,je){const Ct=function(){let jt=!1;return function(je){return function(){jt||(jt=!0,je.apply(null,arguments))}}}();if(jt===je)throw new TypeError("Promise resolved with itself");if(jt[En]===yn){let $t=null;try{("object"==typeof je||"function"==typeof je)&&($t=je&&je.then)}catch(Xt){return Ct(()=>{On(jt,!1,Xt)})(),jt}if(Bt!==pe&&je instanceof Le&&je.hasOwnProperty(En)&&je.hasOwnProperty(Dt)&&je[En]!==yn)Gn(je),On(jt,je[En],je[Dt]);else if(Bt!==pe&&"function"==typeof $t)try{$t.call(je,Ct(Ze(jt,Bt)),Ct(Ze(jt,!1)))}catch(Xt){Ct(()=>{On(jt,!1,Xt)})()}else{jt[En]=Bt;const Xt=jt[Dt];if(jt[Dt]=je,jt[et]===et&&!0===Bt&&(jt[En]=jt[Wt],jt[Dt]=jt[Vt]),Bt===pe&&je instanceof Error){const on=Qe.currentTask&&Qe.currentTask.data&&Qe.currentTask.data.__creationTrace__;on&&yt(je,wn,{configurable:!0,enumerable:!1,writable:!0,value:on})}for(let on=0;on<Xt.length;)tr(jt,Xt[on++],Xt[on++],Xt[on++],Xt[on++]);if(0==Xt.length&&Bt==pe){jt[En]=0;let on=je;try{throw new Error("Uncaught (in promise): "+function kt(jt){return jt&&jt.toString===Object.prototype.toString?(jt.constructor&&jt.constructor.name||"")+": "+JSON.stringify(jt):jt?jt.toString():Object.prototype.toString.call(jt)}(je)+(je&&je.stack?"\n"+je.stack:""))}catch(Tn){on=Tn}Lt&&(on.throwOriginal=!0),on.rejection=je,on.promise=jt,on.zone=Qe.current,on.task=Qe.currentTask,wt.push(on),ct.scheduleMicroTask()}}}return jt}const rr=Mt("rejectionHandledHandler");function Gn(jt){if(0===jt[En]){try{const Bt=Qe[rr];Bt&&"function"==typeof Bt&&Bt.call(this,{rejection:jt[Dt],promise:jt})}catch(Bt){}jt[En]=pe;for(let Bt=0;Bt<wt.length;Bt++)jt===wt[Bt].promise&&wt.splice(Bt,1)}}function tr(jt,Bt,je,Ct,$t){Gn(jt);const Xt=jt[En],on=Xt?"function"==typeof Ct?Ct:Ht:"function"==typeof $t?$t:vr;Bt.scheduleMicroTask("Promise.then",()=>{try{const Tn=jt[Dt],Vn=!!je&&et===je[et];Vn&&(je[Vt]=Tn,je[Wt]=Xt);const un=Bt.run(on,void 0,Vn&&on!==vr&&on!==Ht?[]:[Tn]);On(je,!0,un)}catch(Tn){On(je,!1,Tn)}},je)}const Dn=function(){},nn=Re.AggregateError;class Le{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Bt){return On(new this(null),!0,Bt)}static reject(Bt){return On(new this(null),pe,Bt)}static any(Bt){if(!Bt||"function"!=typeof Bt[Symbol.iterator])return Promise.reject(new nn([],"All promises were rejected"));const je=[];let Ct=0;try{for(let on of Bt)Ct++,je.push(Le.resolve(on))}catch(on){return Promise.reject(new nn([],"All promises were rejected"))}if(0===Ct)return Promise.reject(new nn([],"All promises were rejected"));let $t=!1;const Xt=[];return new Le((on,Tn)=>{for(let Vn=0;Vn<je.length;Vn++)je[Vn].then(un=>{$t||($t=!0,on(un))},un=>{Xt.push(un),Ct--,0===Ct&&($t=!0,Tn(new nn(Xt,"All promises were rejected")))})})}static race(Bt){let je,Ct,$t=new this((Tn,Vn)=>{je=Tn,Ct=Vn});function Xt(Tn){je(Tn)}function on(Tn){Ct(Tn)}for(let Tn of Bt)Wn(Tn)||(Tn=this.resolve(Tn)),Tn.then(Xt,on);return $t}static all(Bt){return Le.allWithCallback(Bt)}static allSettled(Bt){return(this&&this.prototype instanceof Le?this:Le).allWithCallback(Bt,{thenCallback:Ct=>({status:"fulfilled",value:Ct}),errorCallback:Ct=>({status:"rejected",reason:Ct})})}static allWithCallback(Bt,je){let Ct,$t,Xt=new this((un,Nn)=>{Ct=un,$t=Nn}),on=2,Tn=0;const Vn=[];for(let un of Bt){Wn(un)||(un=this.resolve(un));const Nn=Tn;try{un.then(br=>{Vn[Nn]=je?je.thenCallback(br):br,on--,0===on&&Ct(Vn)},br=>{je?(Vn[Nn]=je.errorCallback(br),on--,0===on&&Ct(Vn)):$t(br)})}catch(br){$t(br)}on++,Tn++}return on-=2,0===on&&Ct(Vn),Xt}constructor(Bt){const je=this;if(!(je instanceof Le))throw new Error("Must be an instanceof Promise.");je[En]=yn,je[Dt]=[];try{Bt&&Bt(Ze(je,!0),Ze(je,pe))}catch(Ct){On(je,!1,Ct)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Le}then(Bt,je){let Ct=this.constructor[Symbol.species];(!Ct||"function"!=typeof Ct)&&(Ct=this.constructor||Le);const $t=new Ct(Dn),Xt=Qe.current;return this[En]==yn?this[Dt].push(Xt,$t,Bt,je):tr(this,Xt,$t,Bt,je),$t}catch(Bt){return this.then(null,Bt)}finally(Bt){let je=this.constructor[Symbol.species];(!je||"function"!=typeof je)&&(je=Le);const Ct=new je(Dn);Ct[et]=et;const $t=Qe.current;return this[En]==yn?this[Dt].push($t,Ct,Bt,Bt):tr(this,$t,Ct,Bt,Bt),Ct}}Le.resolve=Le.resolve,Le.reject=Le.reject,Le.race=Le.race,Le.all=Le.all;const st=Re[mn]=Re.Promise;Re.Promise=Le;const cn=Mt("thenPatched");function Un(jt){const Bt=jt.prototype,je=Xe(Bt,"then");if(je&&(!1===je.writable||!je.configurable))return;const Ct=Bt.then;Bt[en]=Ct,jt.prototype.then=function($t,Xt){return new Le((Tn,Vn)=>{Ct.call(this,Tn,Vn)}).then($t,Xt)},jt[cn]=!0}return ct.patchThen=Un,st&&(Un(st),ge(Re,"fetch",jt=>function or(jt){return function(Bt,je){let Ct=jt.apply(Bt,je);if(Ct instanceof Le)return Ct;let $t=Ct.constructor;return $t[cn]||Un($t),Ct}}(jt))),Promise[Qe.__symbol__("uncaughtPromiseErrors")]=wt,Le}),Zone.__load_patch("toString",Re=>{const Qe=Function.prototype.toString,ct=ce("OriginalDelegate"),Xe=ce("Promise"),yt=ce("Error"),kt=function(){if("function"==typeof this){const mn=this[ct];if(mn)return"function"==typeof mn?Qe.call(mn):Object.prototype.toString.call(mn);if(this===Promise){const en=Re[Xe];if(en)return Qe.call(en)}if(this===Error){const en=Re[yt];if(en)return Qe.call(en)}}return Qe.call(this)};kt[ct]=Qe,Function.prototype.toString=kt;const Mt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Mt.call(this)}});let mt=!1;if("undefined"!=typeof window)try{const Re=Object.defineProperty({},"passive",{get:function(){mt=!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(Re){mt=!1}const At={useG:!0},an={},er={},kn=new RegExp("^"+J+"(\\w+)(true|false)$"),yr=ce("propagationStopped");function nr(Re,Qe){const ct=(Qe?Qe(Re):Re)+W,Xe=(Qe?Qe(Re):Re)+$,yt=J+ct,kt=J+Xe;an[Re]={},an[Re][W]=yt,an[Re][$]=kt}function Qn(Re,Qe,ct,Xe){const yt=Xe&&Xe.add||E,kt=Xe&&Xe.rm||N,Mt=Xe&&Xe.listeners||"eventListeners",wt=Xe&&Xe.rmAll||"removeAllListeners",Lt=ce(yt),mn="."+yt+":",Mn=function(Dt,et,Vt){if(Dt.isRemoved)return;const Wt=Dt.callback;let An;"object"==typeof Wt&&Wt.handleEvent&&(Dt.callback=ve=>Wt.handleEvent(ve),Dt.originalDelegate=Wt);try{Dt.invoke(Dt,et,[Vt])}catch(ve){An=ve}const yn=Dt.options;return yn&&"object"==typeof yn&&yn.once&&et[kt].call(et,Vt.type,Dt.originalDelegate?Dt.originalDelegate:Dt.callback,yn),An};function Cn(Dt,et,Vt){if(!(et=et||Re.event))return;const Wt=Dt||et.target||Re,An=Wt[an[et.type][Vt?$:W]];if(An){const yn=[];if(1===An.length){const ve=Mn(An[0],Wt,et);ve&&yn.push(ve)}else{const ve=An.slice();for(let pe=0;pe<ve.length&&(!et||!0!==et[yr]);pe++){const me=Mn(ve[pe],Wt,et);me&&yn.push(me)}}if(1===yn.length)throw yn[0];for(let ve=0;ve<yn.length;ve++){const pe=yn[ve];Qe.nativeScheduleMicroTask(()=>{throw pe})}}}const Wn=function(Dt){return Cn(this,Dt,!1)},Ht=function(Dt){return Cn(this,Dt,!0)};function vr(Dt,et){if(!Dt)return!1;let Vt=!0;et&&void 0!==et.useG&&(Vt=et.useG);const Wt=et&&et.vh;let An=!0;et&&void 0!==et.chkDup&&(An=et.chkDup);let yn=!1;et&&void 0!==et.rt&&(yn=et.rt);let ve=Dt;for(;ve&&!ve.hasOwnProperty(yt);)ve=O(ve);if(!ve&&Dt[yt]&&(ve=Dt),!ve||ve[Lt])return!1;const pe=et&&et.eventNameToString,me={},Ze=ve[Lt]=ve[yt],ke=ve[ce(kt)]=ve[kt],Nt=ve[ce(Mt)]=ve[Mt],wn=ve[ce(wt)]=ve[wt];let On;function rr(je,Ct){return!mt&&"object"==typeof je&&je?!!je.capture:mt&&Ct?"boolean"==typeof je?{capture:je,passive:!0}:je?"object"==typeof je&&!1!==je.passive?Object.assign(Object.assign({},je),{passive:!0}):je:{passive:!0}:je}et&&et.prepend&&(On=ve[ce(et.prepend)]=ve[et.prepend]);const Le=Vt?function(je){if(!me.isExisting)return Ze.call(me.target,me.eventName,me.capture?Ht:Wn,me.options)}:function(je){return Ze.call(me.target,me.eventName,je.invoke,me.options)},st=Vt?function(je){if(!je.isRemoved){const Ct=an[je.eventName];let $t;Ct&&($t=Ct[je.capture?$:W]);const Xt=$t&&je.target[$t];if(Xt)for(let on=0;on<Xt.length;on++)if(Xt[on]===je){Xt.splice(on,1),je.isRemoved=!0,0===Xt.length&&(je.allRemoved=!0,je.target[$t]=null);break}}if(je.allRemoved)return ke.call(je.target,je.eventName,je.capture?Ht:Wn,je.options)}:function(je){return ke.call(je.target,je.eventName,je.invoke,je.options)},Un=et&&et.diff?et.diff:function(je,Ct){const $t=typeof Ct;return"function"===$t&&je.callback===Ct||"object"===$t&&je.originalDelegate===Ct},or=Zone[ce("UNPATCHED_EVENTS")],jt=Re[ce("PASSIVE_EVENTS")],Bt=function(je,Ct,$t,Xt,on=!1,Tn=!1){return function(){const Vn=this||Re;let un=arguments[0];et&&et.transferEventName&&(un=et.transferEventName(un));let Nn=arguments[1];if(!Nn)return je.apply(this,arguments);if(Be&&"uncaughtException"===un)return je.apply(this,arguments);let br=!1;if("function"!=typeof Nn){if(!Nn.handleEvent)return je.apply(this,arguments);br=!0}if(Wt&&!Wt(je,Nn,Vn,arguments))return;const qn=mt&&!!jt&&-1!==jt.indexOf(un),Ir=rr(arguments[2],qn);if(or)for(let sr=0;sr<or.length;sr++)if(un===or[sr])return qn?je.call(Vn,un,Nn,Ir):je.apply(this,arguments);const Mr=!!Ir&&("boolean"==typeof Ir||Ir.capture),yo=!(!Ir||"object"!=typeof Ir)&&Ir.once,ki=Zone.current;let ur=an[un];ur||(nr(un,pe),ur=an[un]);const zi=ur[Mr?$:W];let Pe,Or=Vn[zi],Fe=!1;if(Or){if(Fe=!0,An)for(let sr=0;sr<Or.length;sr++)if(Un(Or[sr],Nn))return}else Or=Vn[zi]=[];const ot=Vn.constructor.name,xt=er[ot];xt&&(Pe=xt[un]),Pe||(Pe=ot+Ct+(pe?pe(un):un)),me.options=Ir,yo&&(me.options.once=!1),me.target=Vn,me.capture=Mr,me.eventName=un,me.isExisting=Fe;const Ot=Vt?At:void 0;Ot&&(Ot.taskData=me);const Yt=ki.scheduleEventTask(Pe,Nn,Ot,$t,Xt);return me.target=null,Ot&&(Ot.taskData=null),yo&&(Ir.once=!0),!mt&&"boolean"==typeof Yt.options||(Yt.options=Ir),Yt.target=Vn,Yt.capture=Mr,Yt.eventName=un,br&&(Yt.originalDelegate=Nn),Tn?Or.unshift(Yt):Or.push(Yt),on?Vn:void 0}};return ve[yt]=Bt(Ze,mn,Le,st,yn),On&&(ve.prependListener=Bt(On,".prependListener:",function(je){return On.call(me.target,me.eventName,je.invoke,me.options)},st,yn,!0)),ve[kt]=function(){const je=this||Re;let Ct=arguments[0];et&&et.transferEventName&&(Ct=et.transferEventName(Ct));const $t=arguments[2],Xt=!!$t&&("boolean"==typeof $t||$t.capture),on=arguments[1];if(!on)return ke.apply(this,arguments);if(Wt&&!Wt(ke,on,je,arguments))return;const Tn=an[Ct];let Vn;Tn&&(Vn=Tn[Xt?$:W]);const un=Vn&&je[Vn];if(un)for(let Nn=0;Nn<un.length;Nn++){const br=un[Nn];if(Un(br,on))return un.splice(Nn,1),br.isRemoved=!0,0===un.length&&(br.allRemoved=!0,je[Vn]=null,"string"==typeof Ct)&&(je[J+"ON_PROPERTY"+Ct]=null),br.zone.cancelTask(br),yn?je:void 0}return ke.apply(this,arguments)},ve[Mt]=function(){const je=this||Re;let Ct=arguments[0];et&&et.transferEventName&&(Ct=et.transferEventName(Ct));const $t=[],Xt=Hr(je,pe?pe(Ct):Ct);for(let on=0;on<Xt.length;on++){const Tn=Xt[on];$t.push(Tn.originalDelegate?Tn.originalDelegate:Tn.callback)}return $t},ve[wt]=function(){const je=this||Re;let Ct=arguments[0];if(Ct){et&&et.transferEventName&&(Ct=et.transferEventName(Ct));const $t=an[Ct];if($t){const Tn=je[$t[W]],Vn=je[$t[$]];if(Tn){const un=Tn.slice();for(let Nn=0;Nn<un.length;Nn++){const br=un[Nn];this[kt].call(this,Ct,br.originalDelegate?br.originalDelegate:br.callback,br.options)}}if(Vn){const un=Vn.slice();for(let Nn=0;Nn<un.length;Nn++){const br=un[Nn];this[kt].call(this,Ct,br.originalDelegate?br.originalDelegate:br.callback,br.options)}}}}else{const $t=Object.keys(je);for(let Xt=0;Xt<$t.length;Xt++){const Tn=kn.exec($t[Xt]);let Vn=Tn&&Tn[1];Vn&&"removeListener"!==Vn&&this[wt].call(this,Vn)}this[wt].call(this,"removeListener")}if(yn)return this},de(ve[yt],Ze),de(ve[kt],ke),wn&&de(ve[wt],wn),Nt&&de(ve[Mt],Nt),!0}let En=[];for(let Dt=0;Dt<ct.length;Dt++)En[Dt]=vr(ct[Dt],Xe);return En}function Hr(Re,Qe){if(!Qe){const kt=[];for(let Mt in Re){const wt=kn.exec(Mt);let Lt=wt&&wt[1];if(Lt&&(!Qe||Lt===Qe)){const mn=Re[Mt];if(mn)for(let en=0;en<mn.length;en++)kt.push(mn[en])}}return kt}let ct=an[Qe];ct||(nr(Qe),ct=an[Qe]);const Xe=Re[ct[W]],yt=Re[ct[$]];return Xe?yt?Xe.concat(yt):Xe.slice():yt?yt.slice():[]}function mr(Re,Qe){const ct=Re.Event;ct&&ct.prototype&&Qe.patchMethod(ct.prototype,"stopImmediatePropagation",Xe=>function(yt,kt){yt[yr]=!0,Xe&&Xe.apply(yt,kt)})}function Ar(Re,Qe,ct,Xe,yt){const kt=Zone.__symbol__(Xe);if(Qe[kt])return;const Mt=Qe[kt]=Qe[Xe];Qe[Xe]=function(wt,Lt,mn){return Lt&&Lt.prototype&&yt.forEach(function(en){const Qt=`${ct}.${Xe}::`+en,Mn=Lt.prototype;if(Mn.hasOwnProperty(en)){const Cn=Re.ObjectGetOwnPropertyDescriptor(Mn,en);Cn&&Cn.value?(Cn.value=Re.wrapWithCurrentZone(Cn.value,Qt),Re._redefineProperty(Lt.prototype,en,Cn)):Mn[en]&&(Mn[en]=Re.wrapWithCurrentZone(Mn[en],Qt))}else Mn[en]&&(Mn[en]=Re.wrapWithCurrentZone(Mn[en],Qt))}),Mt.call(Qe,wt,Lt,mn)},Re.attachOriginToPatched(Qe[Xe],Mt)}function Ri(Re,Qe,ct){if(!ct||0===ct.length)return Qe;const Xe=ct.filter(kt=>kt.target===Re);if(!Xe||0===Xe.length)return Qe;const yt=Xe[0].ignoreProperties;return Qe.filter(kt=>-1===yt.indexOf(kt))}function bi(Re,Qe,ct,Xe){Re&&se(Re,Ri(Re,Qe,ct),Xe)}function Fr(Re){return Object.getOwnPropertyNames(Re).filter(Qe=>Qe.startsWith("on")&&Qe.length>2).map(Qe=>Qe.substring(2))}Zone.__load_patch("util",(Re,Qe,ct)=>{const Xe=Fr(Re);ct.patchOnProperties=se,ct.patchMethod=ge,ct.bindArguments=ue,ct.patchMacroTask=Me;const yt=Qe.__symbol__("BLACK_LISTED_EVENTS"),kt=Qe.__symbol__("UNPATCHED_EVENTS");Re[kt]&&(Re[yt]=Re[kt]),Re[yt]&&(Qe[yt]=Qe[kt]=Re[yt]),ct.patchEventPrototype=mr,ct.patchEventTarget=Qn,ct.isIEOrEdge=Tt,ct.ObjectDefineProperty=A,ct.ObjectGetOwnPropertyDescriptor=nt,ct.ObjectCreate=t,ct.ArraySlice=C,ct.patchClass=Q,ct.wrapWithCurrentZone=z,ct.filterProperties=Ri,ct.attachOriginToPatched=de,ct._redefineProperty=Object.defineProperty,ct.patchCallbacks=Ar,ct.getGlobalObjects=()=>({globalSources:er,zoneSymbolEventNames:an,eventNames:Xe,isBrowser:qe,isMix:we,isNode:Be,TRUE_STR:$,FALSE_STR:W,ZONE_SYMBOL_PREFIX:J,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:N})});const wi=ce("zoneTask");function gn(Re,Qe,ct,Xe){let yt=null,kt=null;ct+=Xe;const Mt={};function wt(mn){const en=mn.data;return en.args[0]=function(){return mn.invoke.apply(this,arguments)},en.handleId=yt.apply(Re,en.args),mn}function Lt(mn){return kt.call(Re,mn.data.handleId)}yt=ge(Re,Qe+=Xe,mn=>function(en,Qt){if("function"==typeof Qt[0]){const Mn={isPeriodic:"Interval"===Xe,delay:"Timeout"===Xe||"Interval"===Xe?Qt[1]||0:void 0,args:Qt},Cn=Qt[0];Qt[0]=function(){try{return Cn.apply(this,arguments)}finally{Mn.isPeriodic||("number"==typeof Mn.handleId?delete Mt[Mn.handleId]:Mn.handleId&&(Mn.handleId[wi]=null))}};const Wn=ne(Qe,Qt[0],Mn,wt,Lt);if(!Wn)return Wn;const Ht=Wn.data.handleId;return"number"==typeof Ht?Mt[Ht]=Wn:Ht&&(Ht[wi]=Wn),Ht&&Ht.ref&&Ht.unref&&"function"==typeof Ht.ref&&"function"==typeof Ht.unref&&(Wn.ref=Ht.ref.bind(Ht),Wn.unref=Ht.unref.bind(Ht)),"number"==typeof Ht||Ht?Ht:Wn}return mn.apply(Re,Qt)}),kt=ge(Re,ct,mn=>function(en,Qt){const Mn=Qt[0];let Cn;"number"==typeof Mn?Cn=Mt[Mn]:(Cn=Mn&&Mn[wi],Cn||(Cn=Mn)),Cn&&"string"==typeof Cn.type?"notScheduled"!==Cn.state&&(Cn.cancelFn&&Cn.data.isPeriodic||0===Cn.runCount)&&("number"==typeof Mn?delete Mt[Mn]:Mn&&(Mn[wi]=null),Cn.zone.cancelTask(Cn)):mn.apply(Re,Qt)})}Zone.__load_patch("legacy",Re=>{const Qe=Re[Zone.__symbol__("legacyPatch")];Qe&&Qe()}),Zone.__load_patch("queueMicrotask",(Re,Qe,ct)=>{ct.patchMethod(Re,"queueMicrotask",Xe=>function(yt,kt){Qe.current.scheduleMicroTask("queueMicrotask",kt[0])})}),Zone.__load_patch("timers",Re=>{const ct="clear";gn(Re,"set",ct,"Timeout"),gn(Re,"set",ct,"Interval"),gn(Re,"set",ct,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Re=>{gn(Re,"request","cancel","AnimationFrame"),gn(Re,"mozRequest","mozCancel","AnimationFrame"),gn(Re,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Re,Qe)=>{const ct=["alert","prompt","confirm"];for(let Xe=0;Xe<ct.length;Xe++)ge(Re,ct[Xe],(kt,Mt,wt)=>function(Lt,mn){return Qe.current.run(kt,Re,mn,wt)})}),Zone.__load_patch("EventTarget",(Re,Qe,ct)=>{(function $r(Re,Qe){Qe.patchEventPrototype(Re,Qe)})(Re,ct),function Vr(Re,Qe){if(Zone[Qe.symbol("patchEventTarget")])return;const{eventNames:ct,zoneSymbolEventNames:Xe,TRUE_STR:yt,FALSE_STR:kt,ZONE_SYMBOL_PREFIX:Mt}=Qe.getGlobalObjects();for(let Lt=0;Lt<ct.length;Lt++){const mn=ct[Lt],Mn=Mt+(mn+kt),Cn=Mt+(mn+yt);Xe[mn]={},Xe[mn][kt]=Mn,Xe[mn][yt]=Cn}const wt=Re.EventTarget;wt&&wt.prototype&&Qe.patchEventTarget(Re,Qe,[wt&&wt.prototype])}(Re,ct);const Xe=Re.XMLHttpRequestEventTarget;Xe&&Xe.prototype&&ct.patchEventTarget(Re,ct,[Xe.prototype])}),Zone.__load_patch("MutationObserver",(Re,Qe,ct)=>{Q("MutationObserver"),Q("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Re,Qe,ct)=>{Q("IntersectionObserver")}),Zone.__load_patch("FileReader",(Re,Qe,ct)=>{Q("FileReader")}),Zone.__load_patch("on_property",(Re,Qe,ct)=>{!function Br(Re,Qe){if(Be&&!we||Zone[Re.symbol("patchEvents")])return;const ct=Qe.__Zone_ignore_on_properties;let Xe=[];if(qe){const yt=window;Xe=Xe.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const kt=function pn(){try{const Re=$e.navigator.userAgent;if(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/"))return!0}catch(Re){}return!1}()?[{target:yt,ignoreProperties:["error"]}]:[];bi(yt,Fr(yt),ct&&ct.concat(kt),O(yt))}Xe=Xe.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let yt=0;yt<Xe.length;yt++){const kt=Qe[Xe[yt]];kt&&kt.prototype&&bi(kt.prototype,Fr(kt.prototype),ct)}}(ct,Re)}),Zone.__load_patch("customElements",(Re,Qe,ct)=>{!function Pi(Re,Qe){const{isBrowser:ct,isMix:Xe}=Qe.getGlobalObjects();(ct||Xe)&&Re.customElements&&"customElements"in Re&&Qe.patchCallbacks(Qe,Re.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Re,ct)}),Zone.__load_patch("XHR",(Re,Qe)=>{!function Lt(mn){const en=mn.XMLHttpRequest;if(!en)return;const Qt=en.prototype;let Cn=Qt[M],Wn=Qt[j];if(!Cn){const me=mn.XMLHttpRequestEventTarget;if(me){const Ze=me.prototype;Cn=Ze[M],Wn=Ze[j]}}const Ht="readystatechange",vr="scheduled";function En(me){const Ze=me.data,ke=Ze.target;ke[kt]=!1,ke[wt]=!1;const Nt=ke[yt];Cn||(Cn=ke[M],Wn=ke[j]),Nt&&Wn.call(ke,Ht,Nt);const wn=ke[yt]=()=>{if(ke.readyState===ke.DONE)if(!Ze.aborted&&ke[kt]&&me.state===vr){const rr=ke[Qe.__symbol__("loadfalse")];if(0!==ke.status&&rr&&rr.length>0){const Gn=me.invoke;me.invoke=function(){const tr=ke[Qe.__symbol__("loadfalse")];for(let tn=0;tn<tr.length;tn++)tr[tn]===me&&tr.splice(tn,1);!Ze.aborted&&me.state===vr&&Gn.call(me)},rr.push(me)}else me.invoke()}else!Ze.aborted&&!1===ke[kt]&&(ke[wt]=!0)};return Cn.call(ke,Ht,wn),ke[ct]||(ke[ct]=me),ve.apply(ke,Ze.args),ke[kt]=!0,me}function Dt(){}function et(me){const Ze=me.data;return Ze.aborted=!0,pe.apply(Ze.target,Ze.args)}const Vt=ge(Qt,"open",()=>function(me,Ze){return me[Xe]=0==Ze[2],me[Mt]=Ze[1],Vt.apply(me,Ze)}),An=ce("fetchTaskAborting"),yn=ce("fetchTaskScheduling"),ve=ge(Qt,"send",()=>function(me,Ze){if(!0===Qe.current[yn]||me[Xe])return ve.apply(me,Ze);{const ke={target:me,url:me[Mt],isPeriodic:!1,args:Ze,aborted:!1},Nt=ne("XMLHttpRequest.send",Dt,ke,En,et);me&&!0===me[wt]&&!ke.aborted&&Nt.state===vr&&Nt.invoke()}}),pe=ge(Qt,"abort",()=>function(me,Ze){const ke=function Mn(me){return me[ct]}(me);if(ke&&"string"==typeof ke.type){if(null==ke.cancelFn||ke.data&&ke.data.aborted)return;ke.zone.cancelTask(ke)}else if(!0===Qe.current[An])return pe.apply(me,Ze)})}(Re);const ct=ce("xhrTask"),Xe=ce("xhrSync"),yt=ce("xhrListener"),kt=ce("xhrScheduled"),Mt=ce("xhrURL"),wt=ce("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Re=>{Re.navigator&&Re.navigator.geolocation&&function Oe(Re,Qe){const ct=Re.constructor.name;for(let Xe=0;Xe<Qe.length;Xe++){const yt=Qe[Xe],kt=Re[yt];if(kt){if(!De(nt(Re,yt)))continue;Re[yt]=(wt=>{const Lt=function(){return wt.apply(this,ue(arguments,ct+"."+yt))};return de(Lt,wt),Lt})(kt)}}}(Re.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Re,Qe)=>{function ct(Xe){return function(yt){Hr(Re,Xe).forEach(Mt=>{const wt=Re.PromiseRejectionEvent;if(wt){const Lt=new wt(Xe,{promise:yt.promise,reason:yt.rejection});Mt.invoke(Lt)}})}}Re.PromiseRejectionEvent&&(Qe[ce("unhandledPromiseRejectionHandler")]=ct("unhandledrejection"),Qe[ce("rejectionHandledHandler")]=ct("rejectionhandled"))})},655:(nt,A,O)=>{"use strict";function N(se,oe){var Q={};for(var ge in se)Object.prototype.hasOwnProperty.call(se,ge)&&oe.indexOf(ge)<0&&(Q[ge]=se[ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Me=0;for(ge=Object.getOwnPropertySymbols(se);Me<ge.length;Me++)oe.indexOf(ge[Me])<0&&Object.prototype.propertyIsEnumerable.call(se,ge[Me])&&(Q[ge[Me]]=se[ge[Me]])}return Q}function W(se,oe,Q,ge){return new(Q||(Q=Promise))(function(de,gt){function St(mt){try{Tt(ge.next(mt))}catch(At){gt(At)}}function pn(mt){try{Tt(ge.throw(mt))}catch(At){gt(At)}}function Tt(mt){mt.done?de(mt.value):function Me(de){return de instanceof Q?de:new Q(function(gt){gt(de)})}(mt.value).then(St,pn)}Tt((ge=ge.apply(se,oe||[])).next())})}function ue(se){return this instanceof ue?(this.v=se,this):new ue(se)}function Oe(se,oe,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Me,ge=Q.apply(se,oe||[]),de=[];return Me={},gt("next"),gt("throw"),gt("return"),Me[Symbol.asyncIterator]=function(){return this},Me;function gt(an){ge[an]&&(Me[an]=function(er){return new Promise(function(kn,yr){de.push([an,er,kn,yr])>1||St(an,er)})})}function St(an,er){try{!function pn(an){an.value instanceof ue?Promise.resolve(an.value.v).then(Tt,mt):At(de[0][2],an)}(ge[an](er))}catch(kn){At(de[0][3],kn)}}function Tt(an){St("next",an)}function mt(an){St("throw",an)}function At(an,er){an(er),de.shift(),de.length&&St(de[0][0],de[0][1])}}function rt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,oe=se[Symbol.asyncIterator];return oe?oe.call(se):(se=function ce(se){var oe="function"==typeof Symbol&&Symbol.iterator,Q=oe&&se[oe],ge=0;if(Q)return Q.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Q={},ge("next"),ge("throw"),ge("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function ge(de){Q[de]=se[de]&&function(gt){return new Promise(function(St,pn){!function Me(de,gt,St,pn){Promise.resolve(pn).then(function(Tt){de({value:Tt,done:St})},gt)}(St,pn,(gt=se[de](gt)).done,gt.value)})}}}O.d(A,{FC:()=>Oe,KL:()=>rt,_T:()=>N,mG:()=>W,qq:()=>ue})},5e3:(nt,A,O)=>{"use strict";O.d(A,{$8M:()=>kc,$Z:()=>vg,AFp:()=>Uw,ALo:()=>G1,AaK:()=>W,AsE:()=>v,BQk:()=>uu,CHM:()=>nf,CRH:()=>ey,CZH:()=>gb,CqO:()=>h_,DdM:()=>R1,EJc:()=>lE,EiD:()=>lm,EpF:()=>d_,F$t:()=>lp,F4k:()=>Tg,FYo:()=>I1,FiY:()=>uo,Gf:()=>hv,GfV:()=>JC,GkF:()=>wg,Gpc:()=>ne,Hsn:()=>Wd,Ikx:()=>Yu,JOm:()=>ma,JVY:()=>ud,Jf7:()=>bh,L6k:()=>lh,LAX:()=>om,LFG:()=>Jt,LSH:()=>ho,Lbi:()=>yb,MAs:()=>$h,MGl:()=>p_,NdJ:()=>Zh,OlP:()=>ri,Oqu:()=>h,PXZ:()=>Zw,Q6J:()=>$d,QGY:()=>cp,Qsj:()=>KC,QtT:()=>D1,R0b:()=>Zl,RDi:()=>Lr,Rgc:()=>x_,SBq:()=>Y0,SDv:()=>E1,Sil:()=>fE,Suo:()=>ql,TTD:()=>Z,TgZ:()=>qd,Tol:()=>Pg,Udp:()=>Fy,VKq:()=>k1,VLi:()=>Db,W1O:()=>tb,WLB:()=>F1,X6Q:()=>bE,XFs:()=>gn,Xpm:()=>yn,Y36:()=>cu,YKP:()=>sw,YNc:()=>Gd,Yjl:()=>rr,Yz7:()=>kn,ZZ4:()=>sy,_Bn:()=>qC,_UZ:()=>l_,_Vd:()=>iv,_c5:()=>PE,_uU:()=>c,aQg:()=>ay,c2e:()=>jw,cJS:()=>nr,cg1:()=>y_,dDg:()=>wb,deG:()=>cc,dqk:()=>Qt,dwT:()=>Qu,eBb:()=>dh,eFA:()=>xb,ekj:()=>U0,evT:()=>Ii,g9A:()=>_b,h0i:()=>Gg,hGG:()=>NE,hij:()=>g,iGM:()=>X1,ifc:()=>Mt,ip1:()=>Lw,kEZ:()=>L1,kL8:()=>hp,lG2:()=>On,lcZ:()=>H1,mCW:()=>ti,n5z:()=>sh,oAB:()=>ke,oJD:()=>Op,oxw:()=>Zu,pB0:()=>Gi,pQV:()=>Xy,q3G:()=>yi,q4F:()=>QC,qLn:()=>As,qOj:()=>Qf,qZA:()=>Cg,qzn:()=>hc,s9C:()=>f_,sBO:()=>CE,sIi:()=>hg,s_b:()=>uv,soG:()=>wv,tBr:()=>Ss,tb:()=>Vw,tp0:()=>ei,uIk:()=>np,vHH:()=>Ge,vpe:()=>Jd,wAp:()=>ir,xi3:()=>$1,xp6:()=>_,yhl:()=>gf,ynx:()=>ap,z2F:()=>Nb,z3N:()=>ds,zSh:()=>Ja,zs3:()=>_a});var t=O(7579),C=O(727),E=O(8306),N=O(6451),M=O(3099);function j(s){for(let a in s)if(s[a]===j)return a;throw Error("Could not find renamed property on target object.")}function $(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function W(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(W).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function J(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const z=j({__forward_ref__:j});function ne(s){return s.__forward_ref__=ne,s.toString=function(){return W(this())},s}function ce(s){return Ye(s)?s():s}function Ye(s){return"function"==typeof s&&s.hasOwnProperty(z)&&s.__forward_ref__===ne}class Ge extends Error{constructor(a,d){super(function ut(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function ue(s){return"string"==typeof s?s:null==s?"":String(s)}function Oe(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ue(s)}function qe(s,a){const d=a?` in ${a}`:"";throw new Ge(-201,`No provider for ${Oe(s)} found${d}`)}function mt(s,a,d,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${d} ${f} ${a} <=Actual]`))}function kn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function nr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Qn(s){return Hr(s,bi)||Hr(s,Br)}function Hr(s,a){return s.hasOwnProperty(a)?s[a]:null}function Ri(s){return s&&(s.hasOwnProperty(Fr)||s.hasOwnProperty(wi))?s[Fr]:null}const bi=j({\u0275prov:j}),Fr=j({\u0275inj:j}),Br=j({ngInjectableDef:j}),wi=j({ngInjectorDef:j});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let Pi;function $r(s){const a=Pi;return Pi=s,a}function Re(s,a,d){const f=Qn(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&gn.Optional?null:void 0!==a?a:void qe(W(s),"Injector")}function ct(s){return{toString:s}.toString()}var Xe=(()=>((Xe=Xe||{})[Xe.OnPush=0]="OnPush",Xe[Xe.Default=1]="Default",Xe))(),Mt=(()=>{return(s=Mt||(Mt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Mt;var s})();const wt="undefined"!=typeof globalThis&&globalThis,Lt="undefined"!=typeof window&&window,mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Qt=wt||"undefined"!=typeof global&&global||Lt||mn,Wn={},Ht=[],vr=j({\u0275cmp:j}),En=j({\u0275dir:j}),Dt=j({\u0275pipe:j}),et=j({\u0275mod:j}),Vt=j({\u0275fac:j}),Wt=j({__NG_ELEMENT_ID__:j});let An=0;function yn(s){return ct(()=>{const d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Mt.Emulated,id:"c",styles:s.styles||Ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,y=s.features,T=s.pipes;return f.id+=An++,f.inputs=wn(s.inputs,d),f.outputs=wn(s.outputs),y&&y.forEach(I=>I(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(pe):null,f.pipeDefs=T?()=>("function"==typeof T?T():T).map(me):null,f})}function pe(s){return Gn(s)||function tr(s){return s[En]||null}(s)}function me(s){return function tn(s){return s[Dt]||null}(s)}const Ze={};function ke(s){return ct(()=>{const a={type:s.type,bootstrap:s.bootstrap||Ht,declarations:s.declarations||Ht,imports:s.imports||Ht,exports:s.exports||Ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ze[s.id]=s.type),a})}function wn(s,a){if(null==s)return Wn;const d={};for(const f in s)if(s.hasOwnProperty(f)){let m=s[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=f,a&&(a[m]=y)}return d}const On=yn;function rr(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[vr]||null}function Dn(s,a){const d=s[et]||null;if(!d&&!0===a)throw new Error(`Type ${W(s)} does not have '\u0275mod' property.`);return d}function Ot(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yt(s){return Array.isArray(s)&&!0===s[1]}function sr(s){return 0!=(8&s.flags)}function Pr(s){return 2==(2&s.flags)}function pr(s){return 1==(1&s.flags)}function ai(s){return null!==s.template}function es(s){return 0!=(512&s[2])}function B(s,a){return s.hasOwnProperty(Vt)?s[Vt]:null}class G{constructor(a,d,f){this.previousValue=a,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Z(){return le}function le(s){return s.type.prototype.ngOnChanges&&(s.setInput=fe),_e}function _e(){const s=ze(this),a=null==s?void 0:s.current;if(a){const d=s.previous;if(d===Wn)s.previous=a;else for(let f in a)d[f]=a[f];s.current=null,this.ngOnChanges(a)}}function fe(s,a,d,f){const m=ze(s)||function Y(s,a){return s[Ee]=a}(s,{previous:Wn,current:null}),y=m.current||(m.current={}),T=m.previous,I=this.declaredInputs[d],F=T[I];y[I]=new G(F&&F.currentValue,a,T===Wn),s[f]=a}Z.ngInherit=!0;const Ee="__ngSimpleChanges__";function ze(s){return s[Ee]||null}let Zr;function Lr(s){Zr=s}function Ki(){return void 0!==Zr?Zr:"undefined"!=typeof document?document:void 0}function Sr(s){return!!s.listen}const rc={createRenderer:(s,a)=>Ki()};function Kr(s){for(;Array.isArray(s);)s=s[0];return s}function Pa(s,a){return Kr(a[s])}function Po(s,a){return Kr(a[s.index])}function pu(s,a){return s.data[a]}function rs(s,a){return s[a]}function ao(s,a){const d=a[s];return Ot(d)?d:d[0]}function vs(s){return 4==(4&s[2])}function Na(s){return 128==(128&s[2])}function is(s,a){return null==a?null:s[a]}function ks(s){s[18]=0}function Ac(s,a){s[5]+=a;let d=s,f=s[3];for(;null!==f&&(1===a&&1===d[5]||-1===a&&0===d[5]);)f[5]+=a,d=f,f=f[3]}const zn={lFrame:cl(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ka(){return zn.bindingsEnabled}function Pt(){return zn.lFrame.lView}function jn(){return zn.lFrame.tView}function nf(s){return zn.lFrame.contextLView=s,s[8]}function oi(){let s=sl();for(;null!==s&&64===s.type;)s=s.parent;return s}function sl(){return zn.lFrame.currentTNode}function Fa(){const s=zn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Fs(s,a){const d=zn.lFrame;d.currentTNode=s,d.isParent=a}function Mc(){return zn.lFrame.isParent}function Yl(){zn.lFrame.isParent=!1}function al(){return zn.isInCheckNoChangesMode}function vo(s){zn.isInCheckNoChangesMode=s}function bo(){const s=zn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function sa(){return zn.lFrame.bindingIndex}function Ls(){return zn.lFrame.bindingIndex++}function Bo(s){const a=zn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function aa(s){zn.lFrame.inI18n=s}function th(s,a){const d=zn.lFrame;d.bindingIndex=d.bindingRootIndex=s,mu(a)}function mu(s){zn.lFrame.currentDirectiveIndex=s}function nh(){return zn.lFrame.currentQueryIndex}function ca(s){zn.lFrame.currentQueryIndex=s}function rh(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function _u(s,a,d){if(d&gn.SkipSelf){let m=a,y=s;for(;!(m=m.parent,null!==m||d&gn.Host||(m=rh(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;a=m,s=y}const f=zn.lFrame=Ql();return f.currentTNode=a,f.lView=s,!0}function Oc(s){const a=Ql(),d=s[1];zn.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function Ql(){const s=zn.lFrame,a=null===s?null:s.child;return null===a?cl(s):a}function cl(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Pc(){const s=zn.lFrame;return zn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xl=Pc;function Us(){const s=Pc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Co(){return zn.lFrame.selectedIndex}function Bs(s){zn.lFrame.selectedIndex=s}function mi(){const s=zn.lFrame;return pu(s.tView,s.selectedIndex)}function ih(s,a){for(let d=a.directiveStart,f=a.directiveEnd;d<f;d++){const y=s.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:I,ngAfterViewInit:F,ngAfterViewChecked:H,ngOnDestroy:X}=y;T&&(s.contentHooks||(s.contentHooks=[])).push(-d,T),I&&((s.contentHooks||(s.contentHooks=[])).push(d,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,I)),F&&(s.viewHooks||(s.viewHooks=[])).push(-d,F),H&&((s.viewHooks||(s.viewHooks=[])).push(d,H),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,H)),null!=X&&(s.destroyHooks||(s.destroyHooks=[])).push(d,X)}}function fl(s,a,d){yu(s,a,3,d)}function Nc(s,a,d,f){(3&s[2])===d&&yu(s,a,d,f)}function ci(s,a){let d=s[2];(3&d)===a&&(d&=2047,d+=1,s[2]=d)}function yu(s,a,d,f){const y=null!=f?f:-1,T=a.length-1;let I=0;for(let F=void 0!==f?65535&s[18]:0;F<T;F++)if("number"==typeof a[F+1]){if(I=a[F],null!=f&&I>=f)break}else a[F]<0&&(s[18]+=65536),(I<y||-1==y)&&(rm(s,d,a,F),s[18]=(4294901760&s[18])+F+2),F++}function rm(s,a,d,f){const m=d[f]<0,y=d[f+1],I=s[m?-d[f]:d[f]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class pl{constructor(a,d,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Ei(s,a,d){const f=Sr(s);let m=0;for(;m<d.length;){const y=d[m];if("number"==typeof y){if(0!==y)break;m++;const T=d[m++],I=d[m++],F=d[m++];f?s.setAttribute(a,I,F,T):a.setAttributeNS(T,I,F)}else{const T=y,I=d[++m];Rn(T)?f&&s.setProperty(a,T,I):f?s.setAttribute(a,T,I):a.setAttribute(T,I),m++}}return m}function td(s){return 3===s||4===s||6===s}function Rn(s){return 64===s.charCodeAt(0)}function Yn(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let f=0;f<a.length;f++){const m=a[f];"number"==typeof m?d=m:0===d||oh(s,d,m,null,-1===d||2===d?a[++f]:null)}}return s}function oh(s,a,d,f,m){let y=0,T=s.length;if(-1===a)T=-1;else for(;y<s.length;){const I=s[y++];if("number"==typeof I){if(I===a){T=-1;break}if(I>a){T=y-1;break}}}for(;y<s.length;){const I=s[y];if("number"==typeof I)break;if(I===d){if(null===f)return void(null!==m&&(s[y+1]=m));if(f===s[y+1])return void(s[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==T&&(s.splice(T,0,a),y=T+1),s.splice(y++,0,d),null!==f&&s.splice(y++,0,f),null!==m&&s.splice(y++,0,m)}function rn(s){return-1!==s}function pt(s){return 32767&s}function Wr(s,a){let d=function It(s){return s>>16}(s),f=a;for(;d>0;)f=f[15],d--;return f}let _r=!0;function Xn(s){const a=_r;return _r=s,a}let af=0;function sc(s,a){const d=Yr(s,a);if(-1!==d)return d;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,Gs(f.data,s),Gs(a,null),Gs(f.blueprint,null));const m=ss(s,a),y=s.injectorIndex;if(rn(m)){const T=pt(m),I=Wr(m,a),F=I[1].data;for(let H=0;H<8;H++)a[y+H]=I[T+H]|F[T+H]}return a[y+8]=m,y}function Gs(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Yr(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function ss(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,f=null,m=a;for(;null!==m;){const y=m[1],T=y.type;if(f=2===T?y.declTNode:1===T?m[6]:null,null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function wo(s,a,d){!function gl(s,a,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(Wt)&&(f=d[Wt]),null==f&&(f=d[Wt]=af++);const m=255&f;a.data[s+(m>>5)]|=1<<m}(s,a,d)}function Hs(s,a,d){if(d&gn.Optional)return s;qe(a,"NodeInjector")}function ml(s,a,d,f){if(d&gn.Optional&&void 0===f&&(f=null),0==(d&(gn.Self|gn.Host))){const m=s[9],y=$r(void 0);try{return m?m.get(a,f,d&gn.Optional):Re(a,f,d&gn.Optional)}finally{$r(y)}}return Hs(f,a,d)}function Xr(s,a,d,f=gn.Default,m){if(null!==s){const y=function zr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(Wt)?s[Wt]:void 0;return"number"==typeof a?a>=0?255&a:_l:a}(d);if("function"==typeof y){if(!_u(a,s,f))return f&gn.Host?Hs(m,d,f):ml(a,d,f,m);try{const T=y(f);if(null!=T||f&gn.Optional)return T;qe(d)}finally{Xl()}}else if("number"==typeof y){let T=null,I=Yr(s,a),F=-1,H=f&gn.Host?a[16][6]:null;for((-1===I||f&gn.SkipSelf)&&(F=-1===I?ss(s,a):a[I+8],-1!==F&&Ui(f,!1)?(T=a[1],I=pt(F),a=Wr(F,a)):I=-1);-1!==I;){const X=a[1];if(yl(y,I,X.data)){const Ce=_i(I,a,d,T,f,H);if(Ce!==Pn)return Ce}F=a[I+8],-1!==F&&Ui(f,a[1].data[I+8]===H)&&yl(y,I,a)?(T=X,I=pt(F),a=Wr(F,a)):I=-1}}}return ml(a,d,f,m)}const Pn={};function _l(){return new Vo(oi(),Pt())}function _i(s,a,d,f,m,y){const T=a[1],I=T.data[s+8],X=bs(I,T,d,null==f?Pr(I)&&_r:f!=T&&0!=(3&I.type),m&gn.Host&&y===I);return null!==X?Ba(a,T,X,I):Pn}function bs(s,a,d,f,m){const y=s.providerIndexes,T=a.data,I=1048575&y,F=s.directiveStart,X=y>>20,Ue=m?I+X:s.directiveEnd;for(let tt=f?I:I+X;tt<Ue;tt++){const Et=T[tt];if(tt<F&&d===Et||tt>=F&&Et.type===d)return tt}if(m){const tt=T[F];if(tt&&ai(tt)&&tt.type===d)return F}return null}function Ba(s,a,d,f){let m=s[d];const y=a.data;if(function ed(s){return s instanceof pl}(m)){const T=m;T.resolving&&function De(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${s}${d}`)}(Oe(y[d]));const I=Xn(T.canSeeViewProviders);T.resolving=!0;const F=T.injectImpl?$r(T.injectImpl):null;_u(s,f,gn.Default);try{m=s[d]=T.factory(void 0,y,s,f),a.firstCreatePass&&d>=f.directiveStart&&function bp(s,a,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=a.type.prototype;if(f){const T=le(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,T)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,m),y&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,y),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,y))}(d,y[d],a)}finally{null!==F&&$r(F),Xn(I),T.resolving=!1,Xl()}}return m}function yl(s,a,d){return!!(d[a+(s>>5)]&1<<s)}function Ui(s,a){return!(s&gn.Self||s&gn.Host&&a)}class Vo{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,f){return Xr(this._tNode,this._lView,a,f,d)}}function sh(s){return ct(()=>{const a=s.prototype.constructor,d=a[Vt]||gi(a),f=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==f;){const y=m[Vt]||gi(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function gi(s){return Ye(s)?()=>{const a=gi(ce(s));return a&&a()}:B(s)}function kc(s){return function Cr(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const y=d[m];if(td(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(y===a)return d[m+1];m+=2}}}return null}(oi(),s)}const Jr="__parameters__";function jo(s,a,d){return ct(()=>{const f=function bu(s){return function(...d){if(s){const f=s(...d);for(const m in f)this[m]=f[m]}}}(a);function m(...y){if(this instanceof m)return f.apply(this,y),this;const T=new m(...y);return I.annotation=T,I;function I(F,H,X){const Ce=F.hasOwnProperty(Jr)?F[Jr]:Object.defineProperty(F,Jr,{value:[]})[Jr];for(;Ce.length<=X;)Ce.push(null);return(Ce[X]=Ce[X]||[]).push(T),F}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class ri{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=kn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cc=new ri("AnalyzeForEntryComponents");function Bi(s,a){void 0===a&&(a=s);for(let d=0;d<s.length;d++){let f=s[d];Array.isArray(f)?(a===s&&(a=s.slice(0,d)),Bi(f,a)):a!==s&&a.push(f)}return a}function $s(s,a){s.forEach(d=>Array.isArray(d)?$s(d,a):a(d))}function Cu(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function Ni(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function as(s,a){const d=[];for(let f=0;f<s;f++)d.push(a);return d}function Ho(s,a,d){let f=Es(s,a);return f>=0?s[1|f]=d:(f=~f,function id(s,a,d,f){let m=s.length;if(m==a)s.push(d,f);else if(1===m)s.push(f,s[0]),s[0]=d;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=d,s[a+1]=f}}(s,f,a,d)),f}function od(s,a){const d=Es(s,a);if(d>=0)return s[1|d]}function Es(s,a){return function Cl(s,a,d){let f=0,m=s.length>>d;for(;m!==f;){const y=f+(m-f>>1),T=s[y<<d];if(a===T)return y<<d;T>a?m=y:f=y+1}return~(m<<d)}(s,a,1)}const Bc={},Eu="__NG_DI_FLAG__",pa="ngTempTokenPath",U=/\n/gm,ee="__source",Se=j({provide:String,useValue:j});let Ke;function dt(s){const a=Ke;return Ke=s,a}function Gt(s,a=gn.Default){if(void 0===Ke)throw new Ge(203,"");return null===Ke?Re(s,void 0,a):Ke.get(s,a&gn.Optional?null:void 0,a)}function Jt(s,a=gn.Default){return(function Vr(){return Pi}()||Gt)(ce(s),a)}const Hn=Jt;function Nr(s){const a=[];for(let d=0;d<s.length;d++){const f=ce(s[d]);if(Array.isArray(f)){if(0===f.length)throw new Ge(900,"");let m,y=gn.Default;for(let T=0;T<f.length;T++){const I=f[T],F=Vi(I);"number"==typeof F?-1===F?m=I.token:y|=F:m=I}a.push(Jt(m,y))}else a.push(Jt(f))}return a}function Zn(s,a){return s[Eu]=a,s.prototype[Eu]=a,s}function Vi(s){return s[Eu]}const Ss=Zn(jo("Inject",s=>({token:s})),-1),uo=Zn(jo("Optional"),8),ei=Zn(jo("SkipSelf"),4);let ja,pf;function xs(s){var a;return(null===(a=function Hc(){if(void 0===ja&&(ja=null,Qt.trustedTypes))try{ja=Qt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ja}())||void 0===a?void 0:a.createHTML(s))||s}function ji(s){var a;return(null===(a=function uh(){if(void 0===pf&&(pf=null,Qt.trustedTypes))try{pf=Qt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return pf}())||void 0===a?void 0:a.createHTML(s))||s}class $c{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class cs extends $c{getTypeName(){return"HTML"}}class Ep extends $c{getTypeName(){return"Style"}}class Dp extends $c{getTypeName(){return"Script"}}class ad extends $c{getTypeName(){return"URL"}}class cd extends $c{getTypeName(){return"ResourceURL"}}function ds(s){return s instanceof $c?s.changingThisBreaksApplicationSecurity:s}function hc(s,a){const d=gf(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===a}function gf(s){return s instanceof $c&&s.getTypeName()||null}function ud(s){return new cs(s)}function lh(s){return new Ep(s)}function dh(s){return new Dp(s)}function om(s){return new ad(s)}function Gi(s){return new cd(s)}function Rr(s){const a=new ld(s);return function qc(){try{return!!(new window.DOMParser).parseFromString(xs(""),"text/html")}catch(s){return!1}}()?new mf(a):a}class mf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(xs(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class ld{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=xs(a),d;const f=this.inertDocument.createElement("body");return f.innerHTML=xs(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const d=a.attributes;for(let m=d.length-1;0<m;m--){const T=d.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Ai=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Eo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ti(s){return(s=String(s)).match(Ai)||s.match(Eo)?s:"unsafe:"+s}function dd(s){return(s=String(s)).split(",").map(a=>ti(a.trim())).join(", ")}function Ro(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function hh(...s){const a={};for(const d of s)for(const f in d)d.hasOwnProperty(f)&&(a[f]=!0);return a}const $o=Ro("area,br,col,hr,img,wbr"),Sp=Ro("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zc=Ro("rp,rt"),Qr=hh($o,hh(Sp,Ro("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),hh(Zc,Ro("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),hh(Zc,Sp)),am=Ro("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xu=Ro("srcset"),ph=hh(am,xu,Ro("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Ro("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),xp=Ro("script,style,template");class Au{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Qr.hasOwnProperty(d))return this.sanitizedSomething=!0,!xp.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=a.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),T=y.name,I=T.toLowerCase();if(!ph.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let F=y.value;am[I]&&(F=ti(F)),xu[I]&&(F=dd(F)),this.buf.push(" ",T,'="',Ap(F),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Qr.hasOwnProperty(d)&&!$o.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(Ap(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const cm=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,um=/([^\#-~ |!])/g;function Ap(s){return s.replace(/&/g,"&amp;").replace(cm,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(um,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let pd;function lm(s,a){let d=null;try{pd=pd||Rr(s);let f=a?String(a):"";d=pd.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=d.innerHTML,d=pd.getInertBodyElement(f)}while(f!==y);return xs((new Au).sanitizeChildren(Ip(d)||d))}finally{if(d){const f=Ip(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Ip(s){return"content"in s&&function Mp(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var yi=(()=>((yi=yi||{})[yi.NONE=0]="NONE",yi[yi.HTML=1]="HTML",yi[yi.STYLE=2]="STYLE",yi[yi.SCRIPT=3]="SCRIPT",yi[yi.URL=4]="URL",yi[yi.RESOURCE_URL=5]="RESOURCE_URL",yi))();function Op(s){const a=gd();return a?ji(a.sanitize(yi.HTML,s)||""):hc(s,"HTML")?ji(ds(s)):lm(Ki(),ue(s))}function ho(s){const a=gd();return a?a.sanitize(yi.URL,s)||"":hc(s,"URL")?ds(s):ti(ue(s))}function gd(){const s=Pt();return s&&s[12]}const mh="__ngContext__";function Zo(s,a){s[mh]=a}function bf(s){const a=function vf(s){return s[mh]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function po(s){return s.ngOriginalError}function yh(s,...a){s.error(...a)}class As{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a),f=function wf(s){return s&&s.ngErrorLogger||yh}(a);f(this._console,"ERROR",a),d&&f(this._console,"ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&po(a);for(;d&&po(d);)d=po(d);return d||null}}const zc=/^>|^->|<!--|-->|--!>|<!-$/g,Np=/(<|>)/;const z_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt))();function bh(s){return s.ownerDocument.defaultView}function Ii(s){return s.ownerDocument}function Wo(s){return s instanceof Function?s():s}var ma=(()=>((ma=ma||{})[ma.Important=1]="Important",ma[ma.DashCase=2]="DashCase",ma))();let _t;function di(s,a){return _t(s,a)}function hs(s){const a=s[3];return Yt(a)?a[3]:a}function Yc(s){return wh(s[13])}function Ml(s){return wh(s[4])}function wh(s){for(;null!==s&&!Yt(s);)s=s[4];return s}function Mi(s,a,d,f,m){if(null!=f){let y,T=!1;Yt(f)?y=f:Ot(f)&&(T=!0,f=f[0]);const I=Kr(f);0===s&&null!==d?null==m?Af(a,d,I):Xc(a,d,I,m||null,!0):1===s&&null!==d?Xc(a,d,I,m||null,!0):2===s?Pu(a,I,T):3===s&&a.destroyNode(I),null!=y&&function Dh(s,a,d,f,m){const y=d[7];y!==Kr(d)&&Mi(a,s,f,y,m);for(let I=10;I<d.length;I++){const F=d[I];zs(F[1],F,s,a,f,y)}}(a,s,y,d,m)}}function _d(s,a){return Sr(s)?s.createText(a):s.createTextNode(a)}function yd(s,a,d){Sr(s)?s.setValue(a,d):a.textContent=d}function Th(s,a){return s.createComment(function Tf(s){return s.replace(zc,a=>a.replace(Np,"\u200b$1\u200b"))}(a))}function pc(s,a,d){if(Sr(s))return s.createElement(a,d);{const f=null!==d?function Kn(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?s.createElement(a):s.createElementNS(f,a)}}function Zs(s,a){const d=s[9],f=d.indexOf(a),m=a[3];1024&a[2]&&(a[2]&=-1025,Ac(m,-1)),d.splice(f,1)}function Jc(s,a){if(s.length<=10)return;const d=10+a,f=s[d];if(f){const m=f[17];null!==m&&m!==s&&Zs(m,f),a>0&&(s[d-1][4]=f[4]);const y=Ni(s,10+a);!function gm(s,a){zs(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const T=y[19];null!==T&&T.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Qc(s,a){if(!(256&a[2])){const d=a[11];Sr(d)&&d.destroyNode&&zs(s,a,d,3,null,null),function Eh(s){let a=s[13];if(!a)return xf(s[1],s);for(;a;){let d=null;if(Ot(a))d=a[13];else{const f=a[10];f&&(d=f)}if(!d){for(;a&&!a[4]&&a!==s;)Ot(a)&&xf(a[1],a),a=a[3];null===a&&(a=s),Ot(a)&&xf(a[1],a),d=a&&a[4]}a=d}}(a)}}function xf(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Lp(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let f=0;f<d.length;f+=2){const m=a[d[f]];if(!(m instanceof pl)){const y=d[f+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const I=m[y[T]],F=y[T+1];try{F.call(I)}finally{}}else try{y.call(m)}finally{}}}}(s,a),function Fp(s,a){const d=s.cleanup,f=a[7];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const T=d[y+1],I="function"==typeof T?T(a):Kr(a[T]),F=f[m=d[y+2]],H=d[y+3];"boolean"==typeof H?I.removeEventListener(d[y],F,H):H>=0?f[m=H]():f[m=-H].unsubscribe(),y+=2}else{const T=f[m=d[y+1]];d[y].call(T)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();a[7]=null}}(s,a),1===a[1].type&&Sr(a[11])&&a[11].destroy();const d=a[17];if(null!==d&&Yt(a[3])){d!==a[3]&&Zs(d,a);const f=a[19];null!==f&&f.detachView(s)}}}function Ws(s,a,d){return Up(s,a.parent,d)}function Up(s,a,d){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return d[0];if(2&f.flags){const m=s.data[f.directiveStart].encapsulation;if(m===Mt.None||m===Mt.Emulated)return null}return Po(f,d)}function Xc(s,a,d,f,m){Sr(s)?s.insertBefore(a,d,f,m):a.insertBefore(d,f,m)}function Af(s,a,d){Sr(s)?s.appendChild(a,d):a.appendChild(d)}function Bp(s,a,d,f,m){null!==f?Xc(s,a,d,f,m):Af(s,a,d)}function Do(s,a){return Sr(s)?s.parentNode(a):a.parentNode}function Vp(s,a,d){return Gp(s,a,d)}function jp(s,a,d){return 40&s.type?Po(s,d):null}let Hp,Gp=jp;function vd(s,a){Gp=s,Hp=a}function qa(s,a,d,f){const m=Ws(s,f,a),y=a[11],I=Vp(f.parent||a[6],f,a);if(null!=m)if(Array.isArray(d))for(let F=0;F<d.length;F++)Bp(y,m,d[F],I,!1);else Bp(y,m,d,I,!1);void 0!==Hp&&Hp(y,f,a,d,m)}function Za(s,a){if(null!==a){const d=a.type;if(3&d)return Po(a,s);if(4&d)return bd(-1,s[a.index]);if(8&d){const f=a.child;if(null!==f)return Za(s,f);{const m=s[a.index];return Yt(m)?bd(-1,m):Kr(m)}}if(32&d)return di(a,s)()||Kr(s[a.index]);{const f=If(s,a);return null!==f?Array.isArray(f)?f[0]:Za(hs(s[16]),f):Za(s,a.next)}}return null}function If(s,a){return null!==a?s[16][6].projection[a.projection]:null}function bd(s,a){const d=10+s+1;if(d<a.length){const f=a[d],m=f[1].firstChild;if(null!==m)return Za(f,m)}return a[7]}function Pu(s,a,d){const f=Do(s,a);f&&function eo(s,a,d,f){Sr(s)?s.removeChild(a,d,f):a.removeChild(d)}(s,f,a,d)}function Er(s,a,d,f,m,y,T){for(;null!=d;){const I=f[d.index],F=d.type;if(T&&0===a&&(I&&Zo(Kr(I),f),d.flags|=4),64!=(64&d.flags))if(8&F)Er(s,a,d.child,f,m,y,!1),Mi(a,s,m,I,y);else if(32&F){const H=di(d,f);let X;for(;X=H();)Mi(a,s,m,X,y);Mi(a,s,m,I,y)}else 16&F?eu(s,a,f,d,m,y):Mi(a,s,m,I,y);d=T?d.projectionNext:d.next}}function zs(s,a,d,f,m,y){Er(d,f,s.firstChild,a,m,y,!1)}function eu(s,a,d,f,m,y){const T=d[16],F=T[6].projection[f.projection];if(Array.isArray(F))for(let H=0;H<F.length;H++)Mi(a,s,m,F[H],y);else Er(s,a,F,T[3],m,y,!0)}function Cd(s,a,d){Sr(s)?s.setAttribute(a,"style",d):a.style.cssText=d}function Mf(s,a,d){Sr(s)?""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d):a.className=d}function ko(s,a,d){let f=s.length;for(;;){const m=s.indexOf(a,d);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const y=a.length;if(m+y===f||s.charCodeAt(m+y)<=32)return m}d=m+1}}const wd="ng-template";function Td(s,a,d){let f=0;for(;f<s.length;){let m=s[f++];if(d&&"class"===m){if(m=s[f],-1!==ko(m.toLowerCase(),a,0))return!0}else if(1===m){for(;f<s.length&&"string"==typeof(m=s[f++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function $p(s){return 4===s.type&&s.value!==wd}function gc(s,a,d){return a===(4!==s.type||d?s.value:wd)}function tu(s,a,d){let f=4;const m=s.attrs||[],y=function vm(s){for(let a=0;a<s.length;a++)if(td(s[a]))return a;return s.length}(m);let T=!1;for(let I=0;I<a.length;I++){const F=a[I];if("number"!=typeof F){if(!T)if(4&f){if(f=2|1&f,""!==F&&!gc(s,F,d)||""===F&&1===a.length){if(Ks(f))return!1;T=!0}}else{const H=8&f?F:a[++I];if(8&f&&null!==s.attrs){if(!Td(s.attrs,H,d)){if(Ks(f))return!1;T=!0}continue}const Ce=Nu(8&f?"class":F,m,$p(s),d);if(-1===Ce){if(Ks(f))return!1;T=!0;continue}if(""!==H){let Ue;Ue=Ce>y?"":m[Ce+1].toLowerCase();const tt=8&f?Ue:null;if(tt&&-1!==ko(tt,H,0)||2&f&&H!==Ue){if(Ks(f))return!1;T=!0}}}}else{if(!T&&!Ks(f)&&!Ks(F))return!1;if(T&&Ks(F))continue;T=!1,f=F|1&f}}return Ks(f)||T}function Ks(s){return 0==(1&s)}function Nu(s,a,d,f){if(null===a)return-1;let m=0;if(f||!d){let y=!1;for(;m<a.length;){const T=a[m];if(T===s)return m;if(3===T||6===T)y=!0;else{if(1===T||2===T){let I=a[++m];for(;"string"==typeof I;)I=a[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=y?1:2}return-1}return function Wa(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const f=s[d];if("number"==typeof f)return-1;if(f===a)return d;d++}return-1}(a,s)}function ym(s,a,d=!1){for(let f=0;f<a.length;f++)if(tu(s,a[f],d))return!0;return!1}function Pl(s,a){e:for(let d=0;d<a.length;d++){const f=a[d];if(s.length===f.length){for(let m=0;m<s.length;m++)if(s[m]!==f[m])continue e;return!0}}return!1}function Of(s,a){return s?":not("+a.trim()+")":a}function bm(s){let a=s[0],d=1,f=2,m="",y=!1;for(;d<s.length;){let T=s[d];if("string"==typeof T)if(2&f){const I=s[++d];m+="["+T+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?m+="."+T:4&f&&(m+=" "+T);else""!==m&&!Ks(T)&&(a+=Of(y,m),m=""),f=T,y=y||!Ks(f);d++}return""!==m&&(a+=Of(y,m)),a}const S={};function _(s){w(jn(),Pt(),Co()+s,al())}function w(s,a,d,f){if(!f)if(3==(3&a[2])){const y=s.preOrderCheckHooks;null!==y&&fl(a,y,d)}else{const y=s.preOrderHooks;null!==y&&Nc(a,y,0,d)}Bs(d)}function ie(s,a){return s<<17|a<<2}function ye(s){return s>>17&32767}function vn(s){return 2|s}function Bn(s){return(131068&s)>>2}function hr(s,a){return-131069&s|a<<2}function ps(s){return 1|s}function Oh(s,a){const d=s.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],y=d[f+1];if(-1!==y){const T=s.data[y];ca(m),T.contentQueries(2,a[y],y)}}}function Uu(s,a,d,f,m,y,T,I,F,H){const X=a.blueprint.slice();return X[0]=m,X[2]=140|f,ks(X),X[3]=X[15]=s,X[8]=d,X[10]=T||s&&s[10],X[11]=I||s&&s[11],X[12]=F||s&&s[12]||null,X[9]=H||s&&s[9]||null,X[6]=y,X[16]=2==a.type?s[16]:X,X}function zo(s,a,d,f,m){let y=s.data[a];if(null===y)y=Wp(s,a,d,f,m),function eh(){return zn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=d,y.value=f,y.attrs=m;const T=Fa();y.injectorIndex=null===T?-1:T.injectorIndex}return Fs(y,!0),y}function Wp(s,a,d,f,m){const y=sl(),T=Mc(),F=s.data[a]=function Im(s,a,d,f,m,y){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,d,a,f,m);return null===s.firstChild&&(s.firstChild=F),null!==y&&(T?null==y.child&&null!==F.parent&&(y.child=F):null===y.next&&(y.next=F)),F}function Rl(s,a,d,f){if(0===d)return-1;const m=a.length;for(let y=0;y<d;y++)a.push(f),s.blueprint.push(f),s.data.push(null);return m}function kl(s,a,d){Oc(a);try{const f=s.viewQuery;null!==f&&Vm(1,f,d);const m=s.template;null!==m&&Sm(s,a,m,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Oh(s,a),s.staticViewQueries&&Vm(2,s.viewQuery,d);const y=s.components;null!==y&&function Dm(s,a){for(let d=0;d<a.length;d++)tg(s,a[d])}(a,y)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,Us()}}function Bu(s,a,d,f){const m=a[2];if(256==(256&m))return;Oc(a);const y=al();try{ks(a),function La(s){return zn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&Sm(s,a,d,2,f);const T=3==(3&m);if(!y)if(T){const H=s.preOrderCheckHooks;null!==H&&fl(a,H,null)}else{const H=s.preOrderHooks;null!==H&&Nc(a,H,0,null),ci(a,0)}if(function kv(s){for(let a=Yc(s);null!==a;a=Ml(a)){if(!a[2])continue;const d=a[9];for(let f=0;f<d.length;f++){const m=d[f],y=m[3];0==(1024&m[2])&&Ac(y,1),m[2]|=1024}}}(a),function Xp(s){for(let a=Yc(s);null!==a;a=Ml(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1];Na(f)&&Bu(m,f,m.template,f[8])}}(a),null!==s.contentQueries&&Oh(s,a),!y)if(T){const H=s.contentCheckHooks;null!==H&&fl(a,H)}else{const H=s.contentHooks;null!==H&&Nc(a,H,1),ci(a,1)}!function Mh(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)Bs(~m);else{const y=m,T=d[++f],I=d[++f];th(T,y),I(2,a[y])}}}finally{Bs(-1)}}(s,a);const I=s.components;null!==I&&function Em(s,a){for(let d=0;d<a.length;d++)eg(s,a[d])}(a,I);const F=s.viewQuery;if(null!==F&&Vm(2,F,f),!y)if(T){const H=s.viewCheckHooks;null!==H&&fl(a,H)}else{const H=s.viewHooks;null!==H&&Nc(a,H,2),ci(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ac(a[3],-1))}finally{Us()}}function yy(s,a,d,f){const m=a[10],y=!al(),T=vs(a);try{y&&!T&&m.begin&&m.begin(),T&&kl(s,a,f),Bu(s,a,d,f)}finally{y&&!T&&m.end&&m.end()}}function Sm(s,a,d,f,m){const y=Co(),T=2&f;try{Bs(-1),T&&a.length>20&&w(s,a,20,al()),d(f,m)}finally{Bs(y)}}function Lf(s,a,d){if(sr(a)){const m=a.directiveEnd;for(let y=a.directiveStart;y<m;y++){const T=s.data[y];T.contentQueries&&T.contentQueries(1,d[y],y)}}}function Nd(s,a,d){!ka()||(function Vf(s,a,d,f){const m=d.directiveStart,y=d.directiveEnd;s.firstCreatePass||sc(d,a),Zo(f,a);const T=d.initialInputs;for(let I=m;I<y;I++){const F=s.data[I],H=ai(F);H&&l0(a,d,F);const X=Ba(a,s,I,d);Zo(X,a),null!==T&&Bm(0,I-m,X,F,0,T),H&&(ao(d.index,a)[8]=X)}}(s,a,d,Po(d,a)),128==(128&d.flags)&&function Rm(s,a,d){const f=d.directiveStart,m=d.directiveEnd,T=d.index,I=function oc(){return zn.lFrame.currentDirectiveIndex}();try{Bs(T);for(let F=f;F<m;F++){const H=s.data[F],X=a[F];mu(F),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&jf(H,X)}}finally{Bs(-1),mu(I)}}(s,a,d))}function Fl(s,a,d=Po){const f=a.localNames;if(null!==f){let m=a.index+1;for(let y=0;y<f.length;y+=2){const T=f[y+1],I=-1===T?d(a,s):s[T];s[m++]=I}}}function zp(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Uf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Uf(s,a,d,f,m,y,T,I,F,H){const X=20+f,Ce=X+m,Ue=function Kp(s,a){const d=[];for(let f=0;f<a;f++)d.push(f<s?null:S);return d}(X,Ce),tt="function"==typeof H?H():H;return Ue[1]={type:s,blueprint:Ue,template:d,queries:null,viewQuery:I,declTNode:a,data:Ue.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:Ce,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:F,consts:tt,incompleteFirstPass:!1}}function Ph(s,a,d,f){const m=qf(a);null===d?m.push(f):(m.push(d),s.firstCreatePass&&ig(s).push(f,m.length-1))}function Rd(s,a,d){for(let f in s)if(s.hasOwnProperty(f)){const m=s[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(a,m):d[f]=[a,m]}return d}function Fo(s,a,d,f,m,y,T,I){const F=Po(a,d);let X,H=a.inputs;!I&&null!=H&&(X=H[f])?(p0(s,d,X,f,m),Pr(a)&&function Om(s,a){const d=ao(a,s);16&d[2]||(d[2]|=64)}(d,a.index)):3&a.type&&(f=function Jp(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),m=null!=T?T(m,a.value||"",f):m,Sr(y)?y.setProperty(F,f,m):Rn(f)||(F.setProperty?F.setProperty(f,m):F[f]=m))}function ju(s,a,d,f){let m=!1;if(ka()){const y=function km(s,a,d){const f=s.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const T=f[y];ym(d,T.selectors,!1)&&(m||(m=[]),wo(sc(d,a),s,T.type),ai(T)?(Fm(s,d),m.unshift(T)):m.push(T))}return m}(s,a,d),T=null===f?null:{"":-1};if(null!==y){m=!0,c0(d,s.data.length,y.length);for(let X=0;X<y.length;X++){const Ce=y[X];Ce.providersResolver&&Ce.providersResolver(Ce)}let I=!1,F=!1,H=Rl(s,a,y.length,null);for(let X=0;X<y.length;X++){const Ce=y[X];d.mergedAttrs=Yn(d.mergedAttrs,Ce.hostAttrs),u0(s,d,a,H,Ce),Lm(H,Ce,T),null!==Ce.contentQueries&&(d.flags|=8),(null!==Ce.hostBindings||null!==Ce.hostAttrs||0!==Ce.hostVars)&&(d.flags|=128);const Ue=Ce.type.prototype;!I&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),I=!0),!F&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),F=!0),H++}!function Mm(s,a){const f=a.directiveEnd,m=s.data,y=a.attrs,T=[];let I=null,F=null;for(let H=a.directiveStart;H<f;H++){const X=m[H],Ce=X.inputs,Ue=null===y||$p(a)?null:by(Ce,y);T.push(Ue),I=Rd(Ce,H,I),F=Rd(X.outputs,H,F)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=I,a.outputs=F}(s,d)}T&&function Nh(s,a,d){if(a){const f=s.localNames=[];for(let m=0;m<a.length;m+=2){const y=d[a[m+1]];if(null==y)throw new Ge(-301,!1);f.push(a[m],y)}}}(d,f,T)}return d.mergedAttrs=Yn(d.mergedAttrs,d.attrs),m}function a0(s,a,d,f,m,y){const T=y.hostBindings;if(T){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const F=~a.index;(function Nm(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(I)!=F&&I.push(F),I.push(f,m,T)}}function jf(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Fm(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Lm(s,a,d){if(d){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)d[a.exportAs[f]]=s;ai(a)&&(d[""]=s)}}function c0(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}function u0(s,a,d,f,m){s.data[f]=m;const y=m.factory||(m.factory=B(m.type)),T=new pl(y,ai(m),null);s.blueprint[f]=T,d[f]=T,a0(s,a,0,f,Rl(s,d,m.hostVars,S),m)}function l0(s,a,d){const f=Po(a,s),m=zp(d),y=s[10],T=Rh(s,Uu(s,m,null,d.onPush?64:16,f,a,y,y.createRenderer(f,d),null,null));s[a.index]=T}function Um(s,a,d,f,m,y,T){if(null==y)Sr(s)?s.removeAttribute(a,m,d):a.removeAttribute(m);else{const I=null==T?ue(y):T(y,f||"",m);Sr(s)?s.setAttribute(a,m,I,d):d?a.setAttributeNS(d,m,I):a.setAttribute(m,I)}}function Bm(s,a,d,f,m,y){const T=y[a];if(null!==T){const I=f.setInput;for(let F=0;F<T.length;){const H=T[F++],X=T[F++],Ce=T[F++];null!==I?f.setInput(d,Ce,H,X):d[X]=Ce}}}function by(s,a){let d=null,f=0;for(;f<a.length;){const m=a[f];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,s[m],a[f+1])),f+=2}else f+=2;else f+=4}return d}function h0(s,a,d,f){return new Array(s,!0,!1,a,null,0,f,d,null,null)}function eg(s,a){const d=ao(a,s);if(Na(d)){const f=d[1];80&d[2]?Bu(f,d,f.template,d[8]):d[5]>0&&Gf(d)}}function Gf(s){for(let f=Yc(s);null!==f;f=Ml(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const T=y[1];Bu(T,y,T.template,y[8])}else y[5]>0&&Gf(y)}const d=s[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=ao(d[f],s);Na(m)&&m[5]>0&&Gf(m)}}function tg(s,a){const d=ao(a,s),f=d[1];(function ng(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(f,d),kl(f,d,d[8])}function Rh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Ll(s){for(;s;){s[2]|=64;const a=hs(s);if(es(s)&&!a)return s;s=a}return null}function Gu(s,a,d){const f=a[10];f.begin&&f.begin();try{Bu(s,a,s.template,d)}catch(m){throw f0(a,m),m}finally{f.end&&f.end()}}function kd(s){!function Hf(s){for(let a=0;a<s.components.length;a++){const d=s.components[a],f=bf(d),m=f[1];yy(m,f,m.template,d)}}(s[8])}function Vm(s,a,d){ca(0),a(s,d)}const $f=(()=>Promise.resolve(null))();function qf(s){return s[7]||(s[7]=[])}function ig(s){return s.cleanup||(s.cleanup=[])}function f0(s,a){const d=s[9],f=d?d.get(As,null):null;f&&f.handleError(a)}function p0(s,a,d,f,m){for(let y=0;y<d.length;){const T=d[y++],I=d[y++],F=a[T],H=s.data[T];null!==H.setInput?H.setInput(F,m,f,I):F[I]=m}}function Ya(s,a,d){const f=Pa(a,s);yd(s[11],f,d)}function Fh(s,a,d){let f=d?s.styles:null,m=d?s.classes:null,y=0;if(null!==a)for(let T=0;T<a.length;T++){const I=a[T];"number"==typeof I?y=I:1==y?m=J(m,I):2==y&&(f=J(f,I+": "+a[++T]+";"))}d?s.styles=f:s.stylesWithoutHost=f,d?s.classes=m:s.classesWithoutHost=m}const Zf=new ri("INJECTOR",-1);class _c{get(a,d=Bc){if(d===Bc){const f=new Error(`NullInjectorError: No provider for ${W(a)}!`);throw f.name="NullInjectorError",f}return d}}const Ja=new ri("Set Injector scope."),yc={},wy={};let jm;function Gm(){return void 0===jm&&(jm=new _c),jm}function g0(s,a=null,d=null,f){const m=Wf(s,a,d,f);return m._resolveInjectorDefTypes(),m}function Wf(s,a=null,d=null,f){return new sg(s,d,a||Gm(),f)}class sg{constructor(a,d,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];d&&$s(d,I=>this.processProvider(I,a,d)),$s([a],I=>this.processInjectorType(I,[],y)),this.records.set(Zf,Bl(void 0,this));const T=this.records.get(Ja);this.scope=null!=T?T.value:null,this.source=m||("object"==typeof a?null:W(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,d=Bc,f=gn.Default){this.assertNotDestroyed();const m=dt(this),y=$r(void 0);try{if(!(f&gn.SkipSelf)){let I=this.records.get(a);if(void 0===I){const F=function Ty(s){return"function"==typeof s||"object"==typeof s&&s instanceof ri}(a)&&Qn(a);I=F&&this.injectableDefInScope(F)?Bl(Fd(a),yc):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(f&gn.Self?Gm():this.parent).get(a,d=f&gn.Optional&&d===Bc?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[pa]=T[pa]||[]).unshift(W(a)),m)throw T;return function xi(s,a,d,f){const m=s[pa];throw a[ee]&&m.unshift(a[ee]),s.message=function lc(s,a,d,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=W(a);if(Array.isArray(a))m=a.map(W).join(" -> ");else if("object"==typeof a){let y=[];for(let T in a)if(a.hasOwnProperty(T)){let I=a[T];y.push(T+":"+("string"==typeof I?JSON.stringify(I):W(I)))}m=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${s.replace(U,"\n  ")}`}("\n"+s.message,m,d,f),s.ngTokenPath=m,s[pa]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{$r(y),dt(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,m)=>a.push(W(m))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processInjectorType(a,d,f){if(!(a=ce(a)))return!1;let m=Ri(a);const y=null==m&&a.ngModule||void 0,T=void 0===y?a:y,I=-1!==f.indexOf(T);if(void 0!==y&&(m=Ri(y)),null==m)return!1;if(null!=m.imports&&!I){let X;f.push(T);try{$s(m.imports,Ce=>{this.processInjectorType(Ce,d,f)&&(void 0===X&&(X=[]),X.push(Ce))})}finally{}if(void 0!==X)for(let Ce=0;Ce<X.length;Ce++){const{ngModule:Ue,providers:tt}=X[Ce];$s(tt,Et=>this.processProvider(Et,Ue,tt||Ht))}}this.injectorDefTypes.add(T);const F=B(T)||(()=>new T);this.records.set(T,Bl(F,yc));const H=m.providers;if(null!=H&&!I){const X=a;$s(H,Ce=>this.processProvider(Ce,X,H))}return void 0!==y&&void 0!==a.providers}processProvider(a,d,f){let m=Lh(a=ce(a))?a:ce(a&&a.provide);const y=function Hu(s,a,d){return $m(s)?Bl(void 0,s.useValue):Bl(Hm(s),yc)}(a);if(Lh(a)||!0!==a.multi)this.records.get(m);else{let T=this.records.get(m);T||(T=Bl(void 0,yc,!0),T.factory=()=>Nr(T.multi),this.records.set(m,T)),m=a,T.multi.push(a)}this.records.set(m,y)}hydrate(a,d){return d.value===yc&&(d.value=wy,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Wm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ce(a.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Fd(s){const a=Qn(s),d=null!==a?a.factory:B(s);if(null!==d)return d;if(s instanceof ri)throw new Ge(204,!1);if(s instanceof Function)return function Uv(s){const a=s.length;if(a>0)throw as(a,"?"),new Ge(204,!1);const d=function mr(s){const a=s&&(s[bi]||s[Br]);if(a){const d=function Ar(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new Ge(204,!1)}function Hm(s,a,d){let f;if(Lh(s)){const m=ce(s);return B(m)||Fd(m)}if($m(s))f=()=>ce(s.useValue);else if(function m0(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...Nr(s.deps||[]));else if(function qm(s){return!(!s||!s.useExisting)}(s))f=()=>Jt(ce(s.useExisting));else{const m=ce(s&&(s.useClass||s.provide));if(!function _0(s){return!!s.deps}(s))return B(m)||Fd(m);f=()=>new m(...Nr(s.deps))}return f}function Bl(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function $m(s){return null!==s&&"object"==typeof s&&Se in s}function Lh(s){return"function"==typeof s}let _a=(()=>{class s{static create(d,f){var m;if(Array.isArray(d))return g0({name:""},f,d,"");{const y=null!==(m=d.name)&&void 0!==m?m:"";return g0({name:y},d.parent,d.providers,y)}}}return s.THROW_IF_NOT_FOUND=Bc,s.NULL=new _c,s.\u0275prov=kn({token:s,providedIn:"any",factory:()=>Jt(Zf)}),s.__NG_ELEMENT_ID__=-1,s})();function lg(s,a){ih(bf(s)[1],oi())}function Qf(s){let a=function Xa(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const f=[s];for(;a;){let m;if(ai(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ge(903,"");m=a.\u0275dir}if(m){if(d){f.push(m);const T=s;T.inputs=w0(s.inputs),T.declaredInputs=w0(s.declaredInputs),T.outputs=w0(s.outputs);const I=m.hostBindings;I&&Sy(s,I);const F=m.viewQuery,H=m.contentQueries;if(F&&T0(s,F),H&&Xf(s,H),$(s.inputs,m.inputs),$(s.declaredInputs,m.declaredInputs),$(s.outputs,m.outputs),ai(m)&&m.data.animation){const X=s.data;X.animation=(X.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let T=0;T<y.length;T++){const I=y[T];I&&I.ngInherit&&I(s),I===Qf&&(d=!1)}}a=Object.getPrototypeOf(a)}!function dg(s){let a=0,d=null;for(let f=s.length-1;f>=0;f--){const m=s[f];m.hostVars=a+=m.hostVars,m.hostAttrs=Yn(m.hostAttrs,d=Yn(d,m.hostAttrs))}}(f)}function w0(s){return s===Wn?{}:s===Ht?[]:s}function T0(s,a){const d=s.viewQuery;s.viewQuery=d?(f,m)=>{a(f,m),d(f,m)}:a}function Xf(s,a){const d=s.contentQueries;s.contentQueries=d?(f,m,y)=>{a(f,m,y),d(f,m,y)}:a}function Sy(s,a){const d=s.hostBindings;s.hostBindings=d?(f,m)=>{a(f,m),d(f,m)}:a}let Xm=null;function ep(){if(!Xm){const s=Qt.Symbol;if(s&&s.iterator)Xm=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const f=a[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Xm=f)}}}return Xm}function hg(s){return!!tp(s)&&(Array.isArray(s)||!(s instanceof Map)&&ep()in s)}function tp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Js(s,a,d){return s[a]=d}function Ko(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function su(s,a,d,f){const m=Ko(s,a,d);return Ko(s,a+1,f)||m}function np(s,a,d,f){const m=Pt();return Ko(m,Ls(),a)&&(jn(),function Ka(s,a,d,f,m,y){const T=Po(s,a);Um(a[11],T,y,s.value,d,f,m)}(mi(),m,s,a,d,f)),np}function au(s,a,d,f){return Ko(s,Ls(),d)?a+ue(d)+f:S}function Gd(s,a,d,f,m,y,T,I){const F=Pt(),H=jn(),X=s+20,Ce=H.firstCreatePass?function qu(s,a,d,f,m,y,T,I,F){const H=a.consts,X=zo(a,s,4,T||null,is(H,I));ju(a,d,X,is(H,F)),ih(a,X);const Ce=X.tViews=Uf(2,X,f,m,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,H);return null!==a.queries&&(a.queries.template(a,X),Ce.queries=a.queries.embeddedTView(X)),X}(X,H,F,a,d,f,m,y,T):H.data[X];Fs(Ce,!1);const Ue=F[11].createComment("");qa(H,F,Ue,Ce),Zo(Ue,F),Rh(F,F[X]=h0(Ue,F,Ue,Ce)),pr(Ce)&&Nd(H,F,Ce),null!=T&&Fl(F,Ce,I)}function $h(s){return rs(function gu(){return zn.lFrame.contextLView}(),20+s)}function cu(s,a=gn.Default){const d=Pt();return null===d?Jt(s,a):Xr(oi(),d,ce(s),a)}function vg(){throw new Error("invalid")}function $d(s,a,d){const f=Pt();return Ko(f,Ls(),a)&&Fo(jn(),mi(),f,s,a,f[11],d,!1),$d}function bg(s,a,d,f,m){const T=m?"class":"style";p0(s,d,a.inputs[T],T,f)}function qd(s,a,d,f){const m=Pt(),y=jn(),T=20+s,I=m[11],F=m[T]=pc(I,a,function hl(){return zn.lFrame.currentNamespace}()),H=y.firstCreatePass?function u_(s,a,d,f,m,y,T){const I=a.consts,H=zo(a,s,2,m,is(I,y));return ju(a,d,H,is(I,T)),null!==H.attrs&&Fh(H,H.attrs,!1),null!==H.mergedAttrs&&Fh(H,H.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,H),H}(T,y,m,0,a,d,f):y.data[T];Fs(H,!0);const X=H.mergedAttrs;null!==X&&Ei(I,F,X);const Ce=H.classes;null!==Ce&&Mf(I,F,Ce);const Ue=H.styles;return null!==Ue&&Cd(I,F,Ue),64!=(64&H.flags)&&qa(y,m,F,H),0===function Ra(){return zn.lFrame.elementDepthCount}()&&Zo(F,m),function ia(){zn.lFrame.elementDepthCount++}(),pr(H)&&(Nd(y,m,H),Lf(y,H,m)),null!==f&&Fl(m,H),qd}function Cg(){let s=oi();Mc()?Yl():(s=s.parent,Fs(s,!1));const a=s;!function Ic(){zn.lFrame.elementDepthCount--}();const d=jn();return d.firstCreatePass&&(ih(d,s),sr(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function vu(s){return 0!=(16&s.flags)}(a)&&bg(d,a,Pt(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function $_(s){return 0!=(32&s.flags)}(a)&&bg(d,a,Pt(),a.stylesWithoutHost,!1),Cg}function l_(s,a,d,f){return qd(s,a,d,f),Cg(),l_}function ap(s,a,d){const f=Pt(),m=jn(),y=s+20,T=m.firstCreatePass?function M0(s,a,d,f,m){const y=a.consts,T=is(y,f),I=zo(a,s,8,"ng-container",T);return null!==T&&Fh(I,T,!0),ju(a,d,I,is(y,m)),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,d):m.data[y];Fs(T,!0);const I=f[y]=f[11].createComment("");return qa(m,f,I,T),Zo(I,f),pr(T)&&(Nd(m,f,T),Lf(m,T,f)),null!=d&&Fl(f,T),ap}function uu(){let s=oi();const a=jn();return Mc()?Yl():(s=s.parent,Fs(s,!1)),a.firstCreatePass&&(ih(a,s),sr(s)&&a.queries.elementEnd(s)),uu}function wg(s,a,d){return ap(s,a,d),uu(),wg}function d_(){return Pt()}function cp(s){return!!s&&"function"==typeof s.then}function Tg(s){return!!s&&"function"==typeof s.subscribe}const h_=Tg;function Zh(s,a,d,f){const m=Pt(),y=jn(),T=oi();return function Eg(s,a,d,f,m,y,T,I){const F=pr(f),X=s.firstCreatePass&&ig(s),Ce=a[8],Ue=qf(a);let tt=!0;if(3&f.type||I){const hn=Po(f,a),Ln=I?I(hn):hn,Rt=Ue.length,Jn=I?Gr=>I(Kr(Gr[f.index])):f.index;if(Sr(d)){let Gr=null;if(!I&&F&&(Gr=function O0(s,a,d,f){const m=s.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const T=m[y];if(T===d&&m[y+1]===f){const I=a[7],F=m[y+2];return I.length>F?I[F]:null}"string"==typeof T&&(y+=2)}return null}(s,a,m,f.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=y,Gr.__ngLastListenerFn__=y,tt=!1;else{y=Zd(f,a,Ce,y,!1);const pi=d.listen(Ln,m,y);Ue.push(y,pi),X&&X.push(m,Jn,Rt,Rt+1)}}else y=Zd(f,a,Ce,y,!0),Ln.addEventListener(m,y,T),Ue.push(y),X&&X.push(m,Jn,Rt,T)}else y=Zd(f,a,Ce,y,!1);const Et=f.outputs;let zt;if(tt&&null!==Et&&(zt=Et[m])){const hn=zt.length;if(hn)for(let Ln=0;Ln<hn;Ln+=2){const Dc=a[zt[Ln]][zt[Ln+1]].subscribe(y),Xh=Ue.length;Ue.push(y,Dc),X&&X.push(m,f.index,Xh,-(Xh+1))}}}(y,m,m[11],T,s,a,!!d,f),Zh}function P0(s,a,d,f){try{return!1!==d(f)}catch(m){return f0(s,m),!1}}function Zd(s,a,d,f,m){return function y(T){if(T===Function)return f;const I=2&s.flags?ao(s.index,a):a;0==(32&a[2])&&Ll(I);let F=P0(a,0,f,T),H=y.__ngNextListenerFn__;for(;H;)F=P0(a,0,H,T)&&F,H=H.__ngNextListenerFn__;return m&&!1===F&&(T.preventDefault(),T.returnValue=!1),F}}function Zu(s=1){return function os(s){return(zn.lFrame.contextLView=function ul(s,a){for(;s>0;)a=a[15],s--;return a}(s,zn.lFrame.contextLView))[8]}(s)}function ea(s,a){let d=null;const f=function Ed(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(0==(1&d))return a[d+1]}return null}(s);for(let m=0;m<a.length;m++){const y=a[m];if("*"!==y){if(null===f?ym(s,y,!0):Pl(f,y))return m}else d=m}return d}function lp(s){const a=Pt()[16][6];if(!a.projection){const f=a.projection=as(s?s.length:1,null),m=f.slice();let y=a.child;for(;null!==y;){const T=s?ea(y,s):0;null!==T&&(m[T]?m[T].projectionNext=y:f[T]=y,m[T]=y),y=y.next}}}function Wd(s,a=0,d){const f=Pt(),m=jn(),y=zo(m,20+s,16,null,d||null);null===y.projection&&(y.projection=a),Yl(),64!=(64&y.flags)&&function Y_(s,a,d){eu(a[11],0,a,d,Ws(s,d,a),Vp(d.parent||a[6],d,a))}(m,f,y)}function f_(s,a,d){return p_(s,"",a,"",d),f_}function p_(s,a,d,f,m){const y=Pt(),T=au(y,a,d,f);return T!==S&&Fo(jn(),mi(),y,s,T,y[11],m,!1),p_}function So(s,a,d,f,m){const y=s[d+1],T=null===a;let I=f?ye(y):Bn(y),F=!1;for(;0!==I&&(!1===F||T);){const X=s[I+1];F0(s[I],a)&&(F=!0,s[I+1]=f?ps(X):vn(X)),I=f?ye(X):Bn(X)}F&&(s[d+1]=f?vn(y):ps(y))}function F0(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Es(s,a)>=0}const no={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function xg(s){return s.substring(no.key,no.keyEnd)}function Ig(s,a){const d=no.textEnd;return d===a?-1:(a=no.keyEnd=function dC(s,a,d){for(;a<d&&s.charCodeAt(a)>32;)a++;return a}(s,no.key=a,d),zd(s,a,d))}function zd(s,a,d){for(;a<d&&s.charCodeAt(a)<=32;)a++;return a}function Fy(s,a,d){return tc(s,a,d,!1),Fy}function U0(s,a){return tc(s,a,null,!0),U0}function Pg(s){!function wc(s,a,d,f){const m=jn(),y=Bo(2);m.firstUpdatePass&&Uy(m,null,y,f);const T=Pt();if(d!==S&&Ko(T,y,d)){const I=m.data[Co()];if(i(I,f)&&!Ng(m,y)){let F=f?I.classesWithoutHost:I.stylesWithoutHost;null!==F&&(d=J(F,d||"")),bg(m,I,T,d,f)}else!function Qv(s,a,d,f,m,y,T,I){m===S&&(m=Ht);let F=0,H=0,X=0<m.length?m[0]:null,Ce=0<y.length?y[0]:null;for(;null!==X||null!==Ce;){const Ue=F<m.length?m[F+1]:void 0,tt=H<y.length?y[H+1]:void 0;let zt,Et=null;X===Ce?(F+=2,H+=2,Ue!==tt&&(Et=Ce,zt=tt)):null===Ce||null!==X&&X<Ce?(F+=2,Et=X):(H+=2,Et=Ce,zt=tt),null!==Et&&V0(s,a,d,f,Et,zt,T,I),X=F<m.length?m[F]:null,Ce=H<y.length?y[H]:null}}(m,I,T,T[11],T[y+1],T[y+1]=function Jv(s,a,d){if(null==d||""===d)return Ht;const f=[],m=ds(d);if(Array.isArray(m))for(let y=0;y<m.length;y++)s(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&s(f,y,m[y]);else"string"==typeof m&&a(f,m);return f}(s,a,d),f,y)}}(Ho,Cc,s,!0)}function Cc(s,a){for(let d=function Ag(s){return function L0(s){no.key=0,no.keyEnd=0,no.value=0,no.valueEnd=0,no.textEnd=s.length}(s),Ig(s,zd(s,0,no.textEnd))}(a);d>=0;d=Ig(a,d))Ho(s,xg(a),!0)}function tc(s,a,d,f){const m=Pt(),y=jn(),T=Bo(2);y.firstUpdatePass&&Uy(y,s,T,f),a!==S&&Ko(m,T,a)&&V0(y,y.data[Co()],m,m[11],s,m[T+1]=function u(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=W(ds(s)))),s}(a,d),f,T)}function Ng(s,a){return a>=s.expandoStartIndex}function Uy(s,a,d,f){const m=s.data;if(null===m[d+1]){const y=m[Co()],T=Ng(s,d);i(y,f)&&null===a&&!T&&(a=!1),a=function Rg(s,a,d,f){const m=function Ua(s){const a=zn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let y=f?a.residualClasses:a.residualStyles;if(null===m)0===(f?a.classBindings:a.styleBindings)&&(d=m_(d=Vy(null,s,a,d,f),a.attrs,f),y=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==m)if(d=Vy(m,s,a,d,f),null===y){let F=function B0(s,a,d){const f=d?a.classBindings:a.styleBindings;if(0!==Bn(f))return s[ye(f)]}(s,a,f);void 0!==F&&Array.isArray(F)&&(F=Vy(null,s,a,F[1],f),F=m_(F,a.attrs,f),function By(s,a,d,f){s[ye(d?a.classBindings:a.styleBindings)]=f}(s,a,f,F))}else y=function Yv(s,a,d){let f;const m=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<m;y++)f=m_(f,s[y].hostAttrs,d);return m_(f,a.attrs,d)}(s,a,f)}return void 0!==y&&(f?a.residualClasses=y:a.residualStyles=y),d}(m,y,a,f),function zv(s,a,d,f,m,y){let T=y?a.classBindings:a.styleBindings,I=ye(T),F=Bn(T);s[f]=d;let X,H=!1;if(Array.isArray(d)){const Ce=d;X=Ce[1],(null===X||Es(Ce,X)>0)&&(H=!0)}else X=d;if(m)if(0!==F){const Ue=ye(s[I+1]);s[f+1]=ie(Ue,I),0!==Ue&&(s[Ue+1]=hr(s[Ue+1],f)),s[I+1]=function Ft(s,a){return 131071&s|a<<17}(s[I+1],f)}else s[f+1]=ie(I,0),0!==I&&(s[I+1]=hr(s[I+1],f)),I=f;else s[f+1]=ie(F,0),0===I?I=f:s[F+1]=hr(s[F+1],f),F=f;H&&(s[f+1]=vn(s[f+1])),So(s,X,f,!0),So(s,X,f,!1),function Wh(s,a,d,f,m){const y=m?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof a&&Es(y,a)>=0&&(d[f+1]=ps(d[f+1]))}(a,X,s,f,y),T=ie(I,F),y?a.classBindings=T:a.styleBindings=T}(m,y,a,d,T,f)}}function Vy(s,a,d,f,m){let y=null;const T=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<T&&(y=a[I],f=m_(f,y.hostAttrs,m),y!==s);)I++;return null!==s&&(d.directiveStylingLast=I),f}function m_(s,a,d){const f=d?1:2;let m=-1;if(null!==a)for(let y=0;y<a.length;y++){const T=a[y];"number"==typeof T?m=T:m===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ho(s,T,!!d||a[++y]))}return void 0===s?null:s}function V0(s,a,d,f,m,y,T,I){if(!(3&a.type))return;const F=s.data,H=F[I+1];kg(function ii(s){return 1==(1&s)}(H)?jy(F,a,d,m,Bn(H),T):void 0)||(kg(y)||function lt(s){return 2==(2&s)}(H)&&(y=jy(F,null,d,m,I,T)),function Sh(s,a,d,f,m){const y=Sr(s);if(a)m?y?s.addClass(d,f):d.classList.add(f):y?s.removeClass(d,f):d.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:ma.DashCase;if(null==m)y?s.removeStyle(d,f,T):d.style.removeProperty(f);else{const I="string"==typeof m&&m.endsWith("!important");I&&(m=m.slice(0,-10),T|=ma.Important),y?s.setStyle(d,f,m,T):d.style.setProperty(f,m,I?"important":"")}}}(f,T,Pa(Co(),d),m,y))}function jy(s,a,d,f,m,y){const T=null===a;let I;for(;m>0;){const F=s[m],H=Array.isArray(F),X=H?F[1]:F,Ce=null===X;let Ue=d[m+1];Ue===S&&(Ue=Ce?Ht:void 0);let tt=Ce?od(Ue,f):X===f?Ue:void 0;if(H&&!kg(tt)&&(tt=od(F,f)),kg(tt)&&(I=tt,T))return I;const Et=s[m+1];m=T?ye(Et):Bn(Et)}if(null!==a){let F=y?a.residualClasses:a.residualStyles;null!=F&&(I=od(F,f))}return I}function kg(s){return void 0!==s}function i(s,a){return 0!=(s.flags&(a?16:32))}function c(s,a=""){const d=Pt(),f=jn(),m=s+20,y=f.firstCreatePass?zo(f,m,1,a,null):f.data[m],T=d[m]=_d(d[11],a);qa(f,d,T,y),Fs(y,!1)}function h(s){return g("",s,""),h}function g(s,a,d){const f=Pt(),m=au(f,s,a,d);return m!==S&&Ya(f,Co(),m),g}function v(s,a,d,f,m){const y=Pt(),T=function Ca(s,a,d,f,m,y){const I=su(s,sa(),d,m);return Bo(2),I?a+ue(d)+f+ue(m)+y:S}(y,s,a,d,f,m);return T!==S&&Ya(y,Co(),T),v}function Yu(s,a,d){const f=Pt();return Ko(f,Ls(),a)&&Fo(jn(),mi(),f,s,a,f[11],d,!0),Yu}const zh=void 0;var Ju=["en",[["a","p"],["AM","PM"],zh],[["AM","PM"],zh,zh],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zh,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zh,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zh,"{1} 'at' {0}",zh],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function lu(s){const d=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Ta={};function Qu(s,a,d){"string"!=typeof a&&(d=a,a=s[ir.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),Ta[a]=s,d&&(Ta[a][ir.ExtraData]=d)}function y_(s){const a=function v_(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=Fg(a);if(d)return d;const f=a.split("-")[0];if(d=Fg(f),d)return d;if("en"===f)return Ju;throw new Error(`Missing locale data for the locale "${s}".`)}function hp(s){return y_(s)[ir.PluralCase]}function Fg(s){return s in Ta||(Ta[s]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[s]),Ta[s]}var ir=(()=>((ir=ir||{})[ir.LocaleId=0]="LocaleId",ir[ir.DayPeriodsFormat=1]="DayPeriodsFormat",ir[ir.DayPeriodsStandalone=2]="DayPeriodsStandalone",ir[ir.DaysFormat=3]="DaysFormat",ir[ir.DaysStandalone=4]="DaysStandalone",ir[ir.MonthsFormat=5]="MonthsFormat",ir[ir.MonthsStandalone=6]="MonthsStandalone",ir[ir.Eras=7]="Eras",ir[ir.FirstDayOfWeek=8]="FirstDayOfWeek",ir[ir.WeekendRange=9]="WeekendRange",ir[ir.DateFormat=10]="DateFormat",ir[ir.TimeFormat=11]="TimeFormat",ir[ir.DateTimeFormat=12]="DateTimeFormat",ir[ir.NumberSymbols=13]="NumberSymbols",ir[ir.NumberFormats=14]="NumberFormats",ir[ir.CurrencyCode=15]="CurrencyCode",ir[ir.CurrencySymbol=16]="CurrencySymbol",ir[ir.CurrencyName=17]="CurrencyName",ir[ir.Currencies=18]="Currencies",ir[ir.Directionality=19]="Directionality",ir[ir.PluralCase=20]="PluralCase",ir[ir.ExtraData=21]="ExtraData",ir))();const pC=["zero","one","two","few","many"],H0="en-US",$0={marker:"element"},q0={marker:"ICU"};var Ao=(()=>((Ao=Ao||{})[Ao.SHIFT=2]="SHIFT",Ao[Ao.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ao[Ao.COMMENT=2]="COMMENT",Ao))();let a1=H0;function c1(s,a,d){const f=a.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?jp(s,0,d):Kr(d[m])}function u1(s,a,d,f,m){const y=a.insertBeforeIndex;if(Array.isArray(y)){let T=f,I=null;if(3&a.type||(I=T,T=m),null!==T&&0==(2&a.flags))for(let F=1;F<y.length;F++)Xc(s,T,d[y[F]],I,!1)}}function du(s,a){if(s.push(a),s.length>1)for(let d=s.length-2;d>=0;d--){const f=s[d];fp(f)||hu(f,a)&&null===Hy(f)&&Kh(f,a.index)}}function fp(s){return!(64&s.type)}function hu(s,a){return fp(a)||s.index>a.index}function Hy(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Kh(s,a){const d=s.insertBeforeIndex;Array.isArray(d)?d[0]=a:(vd(c1,u1),s.insertBeforeIndex=a)}function Xu(s,a){const d=s.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function Ug(s,a,d){const f=Wp(s,d,64,null,null);return du(a,f),f}function Bg(s,a){const d=a[s.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function W0(s){return s>>>17}function l1(s){return(131070&s)>>>1}let nc=0,Yh=0;function h1(s,a,d,f){const m=d[11];let T,y=null;for(let I=0;I<a.length;I++){const F=a[I];if("string"==typeof F){const H=a[++I];null===d[H]&&(d[H]=_d(m,F))}else if("number"==typeof F)switch(1&F){case 0:const H=W0(F);let X,Ce;if(null===y&&(y=H,T=Do(m,f)),H===y?(X=f,Ce=T):(X=null,Ce=Kr(d[H])),null!==Ce){const zt=l1(F);Xc(m,Ce,d[zt],X,!1);const Ln=Xu(s,zt);if(null!==Ln&&"object"==typeof Ln){const Rt=Bg(Ln,d);null!==Rt&&h1(s,Ln.create[Rt],d,d[Ln.anchorIdx])}}break;case 1:const tt=a[++I],Et=a[++I];Um(m,Pa(F>>>1,d),null,null,tt,Et,null)}else switch(F){case q0:const H=a[++I],X=a[++I];null===d[X]&&Zo(d[X]=Th(m,H),d);break;case $0:const Ce=a[++I],Ue=a[++I];null===d[Ue]&&Zo(d[Ue]=pc(m,Ce,null),d)}}}function qy(s,a,d,f,m){for(let y=0;y<d.length;y++){const T=d[y],I=d[++y];if(T&m){let F="";for(let H=y+1;H<=y+I;H++){const X=d[H];if("string"==typeof X)F+=X;else if("number"==typeof X)if(X<0)F+=ue(a[f-X]);else{const Ce=X>>>2;switch(3&X){case 1:const Ue=d[++H],tt=d[++H],Et=s.data[Ce];"string"==typeof Et?Um(a[11],a[Ce],null,Et,Ue,F,tt):Fo(s,Et,a,Ue,F,a[11],tt,!1);break;case 0:const zt=a[Ce];null!==zt&&yd(a[11],zt,F);break;case 2:C_(s,Xu(s,Ce),a,F);break;case 3:f1(s,Xu(s,Ce),f,a)}}}}else{const F=d[y+1];if(F>0&&3==(3&F)){const X=Xu(s,F>>>2);a[X.currentCaseLViewIndex]<0&&f1(s,X,f,a)}}y+=I}}function f1(s,a,d,f){let m=f[a.currentCaseLViewIndex];if(null!==m){let y=nc;m<0&&(m=f[a.currentCaseLViewIndex]=~m,y=-1),qy(s,f,a.update[m],d,y)}}function C_(s,a,d,f){const m=function Wy(s,a){let d=s.cases.indexOf(a);if(-1===d)switch(s.type){case 1:{const f=function s1(s,a){const d=hp(a)(parseInt(s,10)),f=pC[d];return void 0!==f?f:"other"}(a,function _C(){return a1}());d=s.cases.indexOf(f),-1===d&&"other"!==f&&(d=s.cases.indexOf("other"));break}case 0:d=s.cases.indexOf("other")}return-1===d?null:d}(a,f);if(Bg(a,d)!==m&&(Zy(s,a,d),d[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=d[a.anchorIdx];T&&h1(s,a.create[m],d,T)}}function Zy(s,a,d){let f=Bg(a,d);if(null!==f){const m=a.remove[f];for(let y=0;y<m.length;y++){const T=m[y];if(T>0){const I=Pa(T,d);null!==I&&Pu(d[11],I)}else Zy(s,Xu(s,~T),d)}}}function vC(){const s=[];let d,f,a=-1;function y(I,F){a=0;const H=Bg(I,F);f=null!==H?I.remove[H]:Ht}function T(){if(a<f.length){const I=f[a++];return I>0?d[I]:(s.push(a,f),y(d[1].data[~I],d),T())}return 0===s.length?null:(f=s.pop(),a=s.pop(),T())}return function m(I,F){for(d=F;s.length;)s.pop();return y(I.value,F),T}}const T_=/\ufffd(\d+):?\d*\ufffd/gi,g1=/\ufffd(\d+)\ufffd/,zy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,CC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,wC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,TC=/\uE500/g;function Vg(s,a,d,f,m,y,T){const I=Rl(s,f,1,null);let F=I<<Ao.SHIFT,H=Fa();a===H&&(H=null),null===H&&(F|=Ao.APPEND_EAGERLY),T&&(F|=Ao.COMMENT,function Ha(s){void 0===_t&&(_t=s())}(vC)),m.push(F,null===y?"":y);const X=Wp(s,I,T?32:1,null===y?"":y,null);du(d,X);const Ce=X.index;return Fs(X,!1),null!==H&&a!==H&&function Lg(s,a){let d=s.insertBeforeIndex;null===d?(vd(c1,u1),d=s.insertBeforeIndex=[null,a]):(function se(s,a,d){s!=a&&mt(d,s,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(H,Ce),X}function SC(s,a,d,f,m,y,T){const I=T.match(T_),F=Vg(s,a,d,y,f,I?null:T,!1);I&&jg(m,T,F.index,null,0,null)}function jg(s,a,d,f,m,y){const T=s.length,I=T+1;s.push(null,null);const F=T+2,H=a.split(T_);let X=0;for(let Ce=0;Ce<H.length;Ce++){const Ue=H[Ce];if(1&Ce){const tt=m+parseInt(Ue,10);s.push(-1-tt),X|=m1(tt)}else""!==Ue&&s.push(Ue)}return s.push(d<<2|(f?1:0)),f&&s.push(f,y),s[T]=X,s[I]=s.length-F,X}function m1(s){return 1<<Math.min(s,31)}function _1(s){let a,y,d="",f=0,m=!1;for(;null!==(a=CC.exec(s));)m?a[0]===`\ufffd/*${y}\ufffd`&&(f=a.index,m=!1):(d+=s.substring(f,a.index+a[0].length),y=a[1],m=!0);return d+=s.substr(f),d}function y1(s,a,d,f,m,y){let T=0;const I={type:m.type,currentCaseLViewIndex:Rl(s,a,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function NC(s,a,d){s.push(m1(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,m,y),function Z0(s,a,d){const f=s.data[a];null===f?s.data[a]=d:f.value=d}(s,y,I);const F=m.values;for(let H=0;H<F.length;H++){const X=F[H],Ce=[];for(let Ue=0;Ue<X.length;Ue++){const tt=X[Ue];if("string"!=typeof tt){const Et=Ce.push(tt)-1;X[Ue]=`\x3c!--\ufffd${Et}\ufffd--\x3e`}}T=OC(s,I,a,d,f,m.cases[H],X.join(""),Ce)|T}T&&function LT(s,a,d){s.push(a,1,d<<2|3)}(d,T,y)}function MC(s){const a=[],d=[];let f=1,m=0;const y=Yy(s=s.replace(zy,function(T,I,F){return f="select"===F?0:1,m=parseInt(I.substr(1),10),""}));for(let T=0;T<y.length;){let I=y[T++].trim();1===f&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const F=Yy(y[T++]);a.length>d.length&&d.push(F)}return{type:f,mainBinding:m,cases:a,values:d}}function Yy(s){if(!s)return[];let a=0;const d=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(s);){const I=y.index;if("}"==y[0]){if(d.pop(),0==d.length){const F=s.substring(a,I);zy.test(F)?f.push(MC(F)):f.push(F),a=I+1}}else{if(0==d.length){const F=s.substring(a,I);f.push(F),a=I+1}d.push("{")}}const T=s.substring(a);return f.push(T),f}function OC(s,a,d,f,m,y,T,I){const F=[],H=[],X=[];a.cases.push(y),a.create.push(F),a.remove.push(H),a.update.push(X);const Ue=Rr(Ki()).getInertBodyElement(T),tt=Ip(Ue)||Ue;return tt?v1(s,a,d,f,F,H,X,tt,m,I,0):0}function v1(s,a,d,f,m,y,T,I,F,H,X){let Ce=0,Ue=I.firstChild;for(;Ue;){const tt=Rl(s,d,1,null);switch(Ue.nodeType){case Node.ELEMENT_NODE:const Et=Ue,zt=Et.tagName.toLowerCase();if(Qr.hasOwnProperty(zt)){C1(m,$0,zt,F,tt),s.data[tt]=zt;const Jn=Et.attributes;for(let Gr=0;Gr<Jn.length;Gr++){const pi=Jn.item(Gr),Dc=pi.name.toLowerCase();pi.value.match(T_)?ph.hasOwnProperty(Dc)&&jg(T,pi.value,tt,pi.name,0,am[Dc]?ti:xu[Dc]?dd:null):w1(m,tt,pi)}Ce=v1(s,a,d,f,m,y,T,Ue,tt,H,X+1)|Ce,b1(y,tt,X)}break;case Node.TEXT_NODE:const hn=Ue.textContent||"",Ln=hn.match(T_);C1(m,null,Ln?"":hn,F,tt),b1(y,tt,X),Ln&&(Ce=jg(T,hn,tt,null,0,null)|Ce);break;case Node.COMMENT_NODE:const Rt=g1.exec(Ue.textContent||"");if(Rt){const Gr=H[parseInt(Rt[1],10)];C1(m,q0,"",F,tt),y1(s,d,f,F,Gr,tt),PC(y,tt,X)}}Ue=Ue.nextSibling}return Ce}function b1(s,a,d){0===d&&s.push(a)}function PC(s,a,d){0===d&&(s.push(~a),s.push(a))}function C1(s,a,d,f,m){null!==a&&s.push(a),s.push(d,m,function yC(s,a,d){return s|a<<17|d<<1}(0,f,m))}function w1(s,a,d){s.push(a<<1|1,d.name,d.value)}function T1(s,a,d=-1){const f=jn(),m=Pt(),y=20+s,T=is(f.consts,a),I=Fa();f.firstCreatePass&&function DC(s,a,d,f,m,y){const T=Fa(),I=[],F=[],H=[[]];m=function IC(s,a){if(function AC(s){return-1===s}(a))return _1(s);{const d=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return _1(s.substring(d,f))}}(m,y);const X=function EC(s){return s.replace(TC," ")}(m).split(wC);for(let Ce=0;Ce<X.length;Ce++){let Ue=X[Ce];if(0==(1&Ce)){const tt=Yy(Ue);for(let Et=0;Et<tt.length;Et++){let zt=tt[Et];if(0==(1&Et)){const hn=zt;""!==hn&&SC(s,T,H[0],I,F,d,hn)}else{const hn=zt;if("object"!=typeof hn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);y1(s,d,F,a,hn,Vg(s,T,H[0],d,I,"",!0).index)}}}else{const tt=47===Ue.charCodeAt(0),zt=(Ue.charCodeAt(tt?1:0),20+Number.parseInt(Ue.substring(tt?2:1)));if(tt)H.shift(),Fs(Fa(),!1);else{const hn=Ug(s,H[0],zt);H.unshift([]),Fs(hn,!0)}}}s.data[f]={create:I,update:F}}(f,null===I?0:I.index,m,y,T,d);const F=f.data[y],X=Up(f,I===m[6]?null:I,m);(function b_(s,a,d,f){const m=s[11];for(let y=0;y<a.length;y++){const T=a[y++],I=a[y],F=(T&Ao.COMMENT)===Ao.COMMENT,H=(T&Ao.APPEND_EAGERLY)===Ao.APPEND_EAGERLY,X=T>>>Ao.SHIFT;let Ce=s[X];null===Ce&&(Ce=s[X]=F?m.createComment(I):_d(m,I)),H&&null!==d&&Xc(m,d,Ce,f,!1)}})(m,F.create,X,I&&8&I.type?m[I.index]:null),aa(!0)}function E1(s,a,d){T1(s,a,d),function Qy(){aa(!1)}()}function Xy(s){return function $y(s){s&&(nc|=1<<Math.min(Yh,31)),Yh++}(Ko(Pt(),Ls(),s)),Xy}function D1(s){!function d1(s,a,d){if(Yh>0){const f=s.data[d];qy(s,a,Array.isArray(f)?f:f.update,sa()-Yh-1,nc)}nc=0,Yh=0}(jn(),Pt(),s+20)}function ev(s,a,d,f,m){if(s=ce(s),Array.isArray(s))for(let y=0;y<s.length;y++)ev(s[y],a,d,f,m);else{const y=jn(),T=Pt();let I=Lh(s)?s:ce(s.provide),F=Hm(s);const H=oi(),X=1048575&H.providerIndexes,Ce=H.directiveStart,Ue=H.providerIndexes>>20;if(Lh(s)||!s.multi){const tt=new pl(F,m,cu),Et=nv(I,a,m?X:X+Ue,Ce);-1===Et?(wo(sc(H,T),y,I),tv(y,s,a.length),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(tt),T.push(tt)):(d[Et]=tt,T[Et]=tt)}else{const tt=nv(I,a,X+Ue,Ce),Et=nv(I,a,X,X+Ue),zt=tt>=0&&d[tt],hn=Et>=0&&d[Et];if(m&&!hn||!m&&!zt){wo(sc(H,T),y,I);const Ln=function $C(s,a,d,f,m){const y=new pl(s,d,cu);return y.multi=[],y.index=a,y.componentProviders=0,S1(y,m,f&&!d),y}(m?HC:GC,d.length,m,f,F);!m&&hn&&(d[Et].providerFactory=Ln),tv(y,s,a.length,0),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(Ln),T.push(Ln)}else tv(y,s,tt>-1?tt:Et,S1(d[m?Et:tt],F,!m&&f));!m&&f&&hn&&d[Et].componentProviders++}}}function tv(s,a,d,f){const m=Lh(a),y=function Zm(s){return!!s.useClass}(a);if(m||y){const F=(y?ce(a.useClass):a).prototype.ngOnDestroy;if(F){const H=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const X=H.indexOf(d);-1===X?H.push(d,[f,F]):H[X+1].push(f,F)}else H.push(d,F)}}}function S1(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function nv(s,a,d,f){for(let m=d;m<f;m++)if(a[m]===s)return m;return-1}function GC(s,a,d,f){return rv(this.multi,[])}function HC(s,a,d,f){const m=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,I=Ba(d,d[1],this.providerFactory.index,f);y=I.slice(0,T),rv(m,y);for(let F=T;F<I.length;F++)y.push(I[F])}else y=[],rv(m,y);return y}function rv(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function qC(s,a=[]){return d=>{d.providersResolver=(f,m)=>function jC(s,a,d){const f=jn();if(f.firstCreatePass){const m=ai(s);ev(d,f.data,f.blueprint,m,!0),ev(a,f.data,f.blueprint,m,!1)}}(f,m?m(s):s,a)}}class x1{}class zC{resolveComponentFactory(a){throw function WC(s){const a=Error(`No component factory found for ${W(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let iv=(()=>{class s{}return s.NULL=new zC,s})();function jT(){return E_(oi(),Pt())}function E_(s,a){return new Y0(Po(s,a))}let Y0=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=jT,s})();function GT(s){return s instanceof Y0?s.nativeElement:s}class I1{}let KC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function HT(){const s=Pt(),d=ao(oi().index,s);return function YC(s){return s[11]}(Ot(d)?d:s)}(),s})(),$T=(()=>{class s{}return s.\u0275prov=kn({token:s,providedIn:"root",factory:()=>null}),s})();class JC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const QC=new JC("13.3.0"),ov={};function J0(s,a,d,f,m=!1){for(;null!==d;){const y=a[d.index];if(null!==y&&f.push(Kr(y)),Yt(y))for(let I=10;I<y.length;I++){const F=y[I],H=F[1].firstChild;null!==H&&J0(F[1],F,H,f)}const T=d.type;if(8&T)J0(s,a,d.child,f);else if(32&T){const I=di(d,a);let F;for(;F=I();)f.push(F)}else if(16&T){const I=If(a,d);if(Array.isArray(I))f.push(...I);else{const F=hs(a[16]);J0(F[1],F,I,f,!0)}}d=m?d.projectionNext:d.next}return f}class Q0{constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,d=a[1];return J0(d,a,d.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Yt(a)){const d=a[8],f=d?d.indexOf(this):-1;f>-1&&(Jc(a,f),Ni(d,f))}this._attachedToViewContainer=!1}Qc(this._lView[1],this._lView)}onDestroy(a){Ph(this._lView[1],this._lView,null,a)}markForCheck(){Ll(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Gu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function rg(s,a,d){vo(!0);try{Gu(s,a,d)}finally{vo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _m(s,a){zs(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ge(902,"");this._appRef=a}}class qT extends Q0{constructor(a){super(a),this._view=a}detectChanges(){kd(this._view)}checkNoChanges(){!function kh(s){vo(!0);try{kd(s)}finally{vo(!1)}}(this._view)}get context(){return null}}class XC extends iv{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Gn(a);return new M1(d,this.ngModule)}}function ew(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class M1 extends x1{constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function J_(s){return s.map(bm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return ew(this.componentDef.inputs)}get outputs(){return ew(this.componentDef.outputs)}create(a,d,f,m){const y=(m=m||this.ngModule)?function nw(s,a){return{get:(d,f,m)=>{const y=s.get(d,ov,m);return y!==ov||f===ov?y:a.get(d,f,m)}}}(a,m.injector):a,T=y.get(I1,rc),I=y.get($T,null),F=T.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",X=f?function Am(s,a,d){if(Sr(s))return s.selectRootElement(a,d===Mt.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(F,f,this.componentDef.encapsulation):pc(T.createRenderer(null,this.componentDef),H,function tw(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),Ce=this.componentDef.onPush?576:528,Ue=function to(s,a){return{components:[],scheduler:s||z_,clean:$f,playerHandler:a||null,flags:0}}(),tt=Uf(0,null,null,1,0,null,null,null,null,null),Et=Uu(null,tt,Ue,Ce,null,null,T,F,I,y);let zt,hn;Oc(Et);try{const Ln=function Yf(s,a,d,f,m,y){const T=d[1];d[20]=s;const F=zo(T,20,2,"#host",null),H=F.mergedAttrs=a.hostAttrs;null!==H&&(Fh(F,H,!0),null!==s&&(Ei(m,s,H),null!==F.classes&&Mf(m,s,F.classes),null!==F.styles&&Cd(m,s,F.styles)));const X=f.createRenderer(s,a),Ce=Uu(d,zp(a),null,a.onPush?64:16,d[20],F,f,X,y||null,null);return T.firstCreatePass&&(wo(sc(F,d),T,a.type),Fm(T,F),c0(F,d.length,1)),Rh(d,Ce),d[20]=Ce}(X,this.componentDef,Et,T,F);if(X)if(f)Ei(F,X,["ng-version",QC.full]);else{const{attrs:Rt,classes:Jn}=function Q_(s){const a=[],d=[];let f=1,m=2;for(;f<s.length;){let y=s[f];if("string"==typeof y)2===m?""!==y&&a.push(y,s[++f]):8===m&&d.push(y);else{if(!Ks(m))break;m=y}f++}return{attrs:a,classes:d}}(this.componentDef.selectors[0]);Rt&&Ei(F,X,Rt),Jn&&Jn.length>0&&Mf(F,X,Jn.join(" "))}if(hn=pu(tt,20),void 0!==d){const Rt=hn.projection=[];for(let Jn=0;Jn<this.ngContentSelectors.length;Jn++){const Gr=d[Jn];Rt.push(null!=Gr?Array.from(Gr):null)}}zt=function Jf(s,a,d,f,m){const y=d[1],T=function vy(s,a,d){const f=oi();s.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),u0(s,f,a,Rl(s,a,1,null),d));const m=Ba(a,s,f.directiveStart,f);Zo(m,a);const y=Po(f,a);return y&&Zo(y,a),m}(y,d,a);if(f.components.push(T),s[8]=T,m&&m.forEach(F=>F(T,a)),a.contentQueries){const F=oi();a.contentQueries(1,T,F.directiveStart)}const I=oi();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Bs(I.index),a0(d[1],I,0,I.directiveStart,I.directiveEnd,a),jf(a,T)),T}(Ln,this.componentDef,Et,Ue,[lg]),kl(tt,Et,null)}finally{Us()}return new iw(this.componentType,zt,E_(hn,Et),Et,hn)}}class iw extends class ZC{}{constructor(a,d,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new qT(m),this.componentType=a}get injector(){return new Vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class Gg{}class sw{}const Hg=new Map;class N1 extends Gg{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new XC(this);const f=Dn(a);this._bootstrapComponents=Wo(f.bootstrap),this._r3Injector=Wf(a,d,[{provide:Gg,useValue:this},{provide:iv,useValue:this.componentFactoryResolver}],W(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,d=_a.THROW_IF_NOT_FOUND,f=gn.Default){return a===_a||a===Gg||a===Zf?this:this._r3Injector.get(a,d,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class sv extends sw{constructor(a){super(),this.moduleType=a,null!==Dn(a)&&function aw(s){const a=new Set;!function d(f){const m=Dn(f,!0),y=m.id;null!==y&&(function O1(s,a,d){if(a&&a!==d)throw new Error(`Duplicate module registered for ${s} - ${W(a)} vs ${W(a.name)}`)}(y,Hg.get(y),f),Hg.set(y,f));const T=Wo(m.imports);for(const I of T)a.has(I)||(a.add(I),d(I))}(s)}(a)}create(a){return new N1(this.moduleType,a)}}function R1(s,a,d){const f=bo()+s,m=Pt();return m[f]===S?Js(m,f,d?a.call(d):a()):function Bd(s,a){return s[a]}(m,f)}function k1(s,a,d,f){return U1(Pt(),bo(),s,a,d,f)}function F1(s,a,d,f,m){return B1(Pt(),bo(),s,a,d,f,m)}function L1(s,a,d,f,m,y){return function X0(s,a,d,f,m,y,T,I){const F=a+d;return function Bh(s,a,d,f,m){const y=su(s,a,d,f);return Ko(s,a+2,m)||y}(s,F,m,y,T)?Js(s,F+3,I?f.call(I,m,y,T):f(m,y,T)):D_(s,F+3)}(Pt(),bo(),s,a,d,f,m,y)}function D_(s,a){const d=s[a];return d===S?void 0:d}function U1(s,a,d,f,m,y){const T=a+d;return Ko(s,T,m)?Js(s,T+1,y?f.call(y,m):f(m)):D_(s,T+1)}function B1(s,a,d,f,m,y,T){const I=a+d;return su(s,I,m,y)?Js(s,I+2,T?f.call(T,m,y):f(m,y)):D_(s,I+2)}function G1(s,a){const d=jn();let f;const m=s+20;d.firstCreatePass?(f=function pw(s,a){if(a)for(let d=a.length-1;d>=0;d--){const f=a[d];if(s===f.name)return f}}(a,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const y=f.factory||(f.factory=B(f.type)),T=$r(cu);try{const I=Xn(!1),F=y();return Xn(I),function jr(s,a,d,f){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=f}(d,Pt(),m,F),F}finally{$r(T)}}function H1(s,a,d){const f=s+20,m=Pt(),y=rs(m,f);return S_(m,f)?U1(m,bo(),a,y.transform,d,y):y.transform(d)}function $1(s,a,d,f){const m=s+20,y=Pt(),T=rs(y,m);return S_(y,m)?B1(y,bo(),a,T.transform,d,f,T):T.transform(d,f)}function S_(s,a){return s[1].data[a].pure}function av(s){return a=>{setTimeout(s,void 0,a)}}const Jd=class yw extends t.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,f){var m,y,T;let I=a,F=d||(()=>null),H=f;if(a&&"object"==typeof a){const Ce=a;I=null===(m=Ce.next)||void 0===m?void 0:m.bind(Ce),F=null===(y=Ce.error)||void 0===y?void 0:y.bind(Ce),H=null===(T=Ce.complete)||void 0===T?void 0:T.bind(Ce)}this.__isAsync&&(F=av(F),I&&(I=av(I)),H&&(H=av(H)));const X=super.subscribe({next:I,error:F,complete:H});return a instanceof C.w0&&a.add(X),X}};function YT(){return this._results[ep()]()}class q1{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=ep(),f=q1.prototype;f[d]||(f[d]=YT)}get changes(){return this._changes||(this._changes=new Jd)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const f=this;f.dirty=!1;const m=Bi(a);(this._changesDetected=!function co(s,a,d){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let m=s[f],y=a[f];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let x_=(()=>{class s{}return s.__NG_ELEMENT_ID__=XT,s})();const JT=x_,QT=class extends JT{constructor(a,d,f){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(a){const d=this._declarationTContainer.tViews,f=Uu(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),kl(d,f,a),new Q0(f)}};function XT(){return cv(oi(),Pt())}function cv(s,a){return 4&s.type?new QT(a,s,E_(s,a)):null}let uv=(()=>{class s{}return s.__NG_ELEMENT_ID__=eE,s})();function eE(){return z1(oi(),Pt())}const vw=uv,Z1=class extends vw{constructor(a,d,f){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=f}get element(){return E_(this._hostTNode,this._hostLView)}get injector(){return new Vo(this._hostTNode,this._hostLView)}get parentInjector(){const a=ss(this._hostTNode,this._hostLView);if(rn(a)){const d=Wr(a,this._hostLView),f=pt(a);return new Vo(d[1].data[f+8],d)}return new Vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=bw(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,f){const m=a.createEmbeddedView(d||{});return this.insert(m,f),m}createComponent(a,d,f,m,y){const T=a&&!function Fc(s){return"function"==typeof s}(a);let I;if(T)I=d;else{const Ce=d||{};I=Ce.index,f=Ce.injector,m=Ce.projectableNodes,y=Ce.ngModuleRef}const F=T?a:new M1(Gn(a)),H=f||this.parentInjector;if(!y&&null==F.ngModule){const Ue=(T?H:this.parentInjector).get(Gg,null);Ue&&(y=Ue)}const X=F.create(H,m,void 0,y);return this.insert(X.hostView,I),X}insert(a,d){const f=a._lView,m=f[1];if(function ic(s){return Yt(s[3])}(f)){const X=this.indexOf(a);if(-1!==X)this.detach(X);else{const Ce=f[3],Ue=new Z1(Ce,Ce[6],Ce[3]);Ue.detach(Ue.indexOf(a))}}const y=this._adjustIndex(d),T=this._lContainer;!function Tr(s,a,d,f){const m=10+f,y=d.length;f>0&&(d[m-1][4]=a),f<y-10?(a[4]=d[m],Cu(d,10+f,a)):(d.push(a),a[4]=null),a[3]=d;const T=a[17];null!==T&&d!==T&&function Ol(s,a){const d=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===d?s[9]=[a]:d.push(a)}(T,a);const I=a[19];null!==I&&I.insertView(s),a[2]|=128}(m,f,T,y);const I=bd(y,T),F=f[11],H=Do(F,T[7]);return null!==H&&function mm(s,a,d,f,m,y){f[0]=m,f[6]=a,zs(s,f,d,1,m,y)}(m,T[6],F,f,H,I),a.attachToViewContainerRef(),Cu(W1(T),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=bw(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),f=Jc(this._lContainer,d);f&&(Ni(W1(this._lContainer),d),Qc(f[1],f))}detach(a){const d=this._adjustIndex(a,-1),f=Jc(this._lContainer,d);return f&&null!=Ni(W1(this._lContainer),d)?new Q0(f):null}_adjustIndex(a,d=0){return null==a?this.length+d:a}};function bw(s){return s[8]}function W1(s){return s[8]||(s[8]=[])}function z1(s,a){let d;const f=a[s.index];if(Yt(f))d=f;else{let m;if(8&s.type)m=Kr(f);else{const y=a[11];m=y.createComment("");const T=Po(s,a);Xc(y,Do(y,T),m,function K_(s,a){return Sr(s)?s.nextSibling(a):a.nextSibling}(y,T),!1)}a[s.index]=d=h0(f,a,m,s),Rh(a,d)}return new Z1(d,s,a)}class lv{constructor(a){this.queryList=a,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class K1{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const f=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let y=0;y<f;y++){const T=d.getByIndex(y);m.push(this.queries[T.indexInDeclarationView].clone())}return new K1(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==Dw(a,d).matches&&this.queries[d].setDirty()}}class Y1{constructor(a,d,f=null){this.predicate=a,this.flags=d,this.read=f}}class dv{constructor(a=[]){this.queries=a}elementStart(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(a,m);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new dv(d):null}template(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class J1{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new J1(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(a,d,nE(d,y)),this.matchTNodeWithReadOption(a,d,bs(d,a,y,!1,!1))}else f===x_?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,bs(d,a,f,!1,!1))}matchTNodeWithReadOption(a,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Y0||m===uv||m===x_&&4&d.type)this.addMatch(d.index,-2);else{const y=bs(d,a,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function nE(s,a){const d=s.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===a)return d[f+1];return null}function Tw(s,a,d,f){return-1===d?function ww(s,a){return 11&s.type?E_(s,a):4&s.type?cv(s,a):null}(a,s):-2===d?function rE(s,a,d){return d===Y0?E_(a,s):d===x_?cv(a,s):d===uv?z1(a,s):void 0}(s,a,f):Ba(s,s[1],d,a)}function A_(s,a,d,f){const m=a[19].queries[f];if(null===m.matches){const y=s.data,T=d.matches,I=[];for(let F=0;F<T.length;F+=2){const H=T[F];I.push(H<0?null:Tw(a,y[H],T[F+1],d.metadata.read))}m.matches=I}return m.matches}function Q1(s,a,d,f){const m=s.queries.getByIndex(d),y=m.matches;if(null!==y){const T=A_(s,a,m,d);for(let I=0;I<y.length;I+=2){const F=y[I];if(F>0)f.push(T[I/2]);else{const H=y[I+1],X=a[-F];for(let Ce=10;Ce<X.length;Ce++){const Ue=X[Ce];Ue[17]===Ue[3]&&Q1(Ue[1],Ue,H,f)}if(null!==X[9]){const Ce=X[9];for(let Ue=0;Ue<Ce.length;Ue++){const tt=Ce[Ue];Q1(tt[1],tt,H,f)}}}}}return f}function X1(s){const a=Pt(),d=jn(),f=nh();ca(f+1);const m=Dw(d,f);if(s.dirty&&vs(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const y=m.crossesNgTemplate?Q1(d,a,f,[]):A_(d,a,m,f);s.reset(y,GT),s.notifyOnChanges()}return!0}return!1}function hv(s,a,d){const f=jn();f.firstCreatePass&&(Ew(f,new Y1(s,a,d),-1),2==(2&a)&&(f.staticViewQueries=!0)),eb(f,Pt(),a)}function ql(s,a,d,f){const m=jn();if(m.firstCreatePass){const y=oi();Ew(m,new Y1(a,d,f),y.index),function iE(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(m,s),2==(2&d)&&(m.staticContentQueries=!0)}eb(m,Pt(),d)}function ey(){return function gp(s,a){return s[19].queries[a].queryList}(Pt(),nh())}function eb(s,a,d){const f=new q1(4==(4&d));Ph(s,a,f,f.destroy),null===a[19]&&(a[19]=new K1),a[19].queries.push(new lv(f))}function Ew(s,a,d){null===s.queries&&(s.queries=new dv),s.queries.track(new J1(a,d))}function Dw(s,a){return s.queries.getByIndex(a)}function tb(s,a){return cv(s,a)}function Cv(...s){}const Lw=new ri("Application Initializer");let gb=(()=>{class s{constructor(d){this.appInits=d,this.resolve=Cv,this.reject=Cv,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(cp(y))d.push(y);else if(h_(y)){const T=new Promise((I,F)=>{y.subscribe({complete:I,error:F})});d.push(T)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(Jt(Lw,8))},s.\u0275prov=kn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Uw=new ri("AppId",{providedIn:"root",factory:function Bw(){return`${mb()}${mb()}${mb()}`}});function mb(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const _b=new ri("Platform Initializer"),yb=new ri("Platform ID"),Vw=new ri("appBootstrapListener");let jw=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=kn({token:s,factory:s.\u0275fac}),s})();const wv=new ri("LocaleId",{providedIn:"root",factory:()=>Hn(wv,gn.Optional|gn.SkipSelf)||function uE(){return"undefined"!=typeof $localize&&$localize.locale||H0}()}),lE=new ri("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class hE{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let fE=(()=>{class s{compileModuleSync(d){return new sv(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=Wo(Dn(d).declarations).reduce((T,I)=>{const F=Gn(I);return F&&T.push(new M1(F)),T},[]);return new hE(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=kn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gw=(()=>Promise.resolve(0))();function vb(s){"undefined"==typeof Zone?Gw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class Zl{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Jd(!1),this.onMicrotaskEmpty=new Jd(!1),this.onStable=new Jd(!1),this.onError=new Jd(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function gE(){let s=Qt.requestAnimationFrame,a=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function _E(s){const a=()=>{!function mE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Qt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Cb(s),s.isCheckStableRunning=!0,bb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Cb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,y,T,I)=>{try{return M_(s),d.invokeTask(m,y,T,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&a(),Tv(s)}},onInvoke:(d,f,m,y,T,I,F)=>{try{return M_(s),d.invoke(m,y,T,I,F)}finally{s.shouldCoalesceRunChangeDetection&&a(),Tv(s)}},onHasTask:(d,f,m,y)=>{d.hasTask(m,y),f===m&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,Cb(s),bb(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,m,y)=>(d.handleError(m,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Zl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,d,f){return this._inner.run(a,d,f)}runTask(a,d,f,m){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+m,a,us,Cv,Cv);try{return y.runTask(T,d,f)}finally{y.cancelTask(T)}}runGuarded(a,d,f){return this._inner.runGuarded(a,d,f)}runOutsideAngular(a){return this._outer.run(a)}}const us={};function bb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Cb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function M_(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Tv(s){s._nesting--,bb(s)}class Hw{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Jd,this.onMicrotaskEmpty=new Jd,this.onStable=new Jd,this.onError=new Jd}run(a,d,f){return a.apply(d,f)}runGuarded(a,d,f){return a.apply(d,f)}runOutsideAngular(a){return a()}runTask(a,d,f,m){return a.apply(d,f)}}let wb=(()=>{class s{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zl.assertNotInAngularZone(),vb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())vb(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,m){return[]}}return s.\u0275fac=function(d){return new(d||s)(Jt(Zl))},s.\u0275prov=kn({token:s,factory:s.\u0275fac}),s})(),Tb=(()=>{class s{constructor(){this._applications=new Map,Ev.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Ev.findTestabilityInTree(this,d,f)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=kn({token:s,factory:s.\u0275fac}),s})();class Eb{addToWindow(a){}findTestabilityInTree(a,d,f){return null}}function Db(s){Ev=s}let el,Ev=new Eb;const Sb=new ri("AllowMultipleToken");class Zw{constructor(a,d){this.name=a,this.token=d}}function xb(s,a,d=[]){const f=`Platform: ${a}`,m=new ri(f);return(y=[])=>{let T=Ab();if(!T||T.injector.get(Sb,!1))if(s)s(d.concat(y).concat({provide:m,useValue:!0}));else{const I=d.concat(y).concat({provide:m,useValue:!0},{provide:Ja,useValue:"platform"});!function Ww(s){if(el&&!el.destroyed&&!el.injector.get(Sb,!1))throw new Ge(400,"");el=s.get(Ib);const a=s.get(_b,null);a&&a.forEach(d=>d())}(_a.create({providers:I,name:f}))}return function zw(s){const a=Ab();if(!a)throw new Ge(401,"");return a}()}}function Ab(){return el&&!el.destroyed?el:null}let Ib=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const I=function Mb(s,a){let d;return d="noop"===s?new Hw:("zone.js"===s?void 0:s)||new Zl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),F=[{provide:Zl,useValue:I}];return I.run(()=>{const H=_a.create({providers:F,parent:this.injector,name:d.moduleType.name}),X=d.create(H),Ce=X.injector.get(As,null);if(!Ce)throw new Ge(402,"");return I.runOutsideAngular(()=>{const Ue=I.onError.subscribe({next:tt=>{Ce.handleError(tt)}});X.onDestroy(()=>{Rb(this._modules,X),Ue.unsubscribe()})}),function Ob(s,a,d){try{const f=d();return cp(f)?f.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(Ce,I,()=>{const Ue=X.injector.get(gb);return Ue.runInitializers(),Ue.donePromise.then(()=>(function mC(s){(function Tt(s,a){null==s&&mt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(a1=s.toLowerCase().replace(/_/g,"-"))}(X.injector.get(wv,H0)||H0),this._moduleDoBootstrap(X),X))})})}bootstrapModule(d,f=[]){const m=Pb({},f);return function $w(s,a,d){const f=new sv(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const f=d.injector.get(Nb);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Ge(403,"");d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(Jt(_a))},s.\u0275prov=kn({token:s,factory:s.\u0275fac}),s})();function Pb(s,a){return Array.isArray(a)?a.reduce(Pb,s):Object.assign(Object.assign({},s),a)}let Nb=(()=>{class s{constructor(d,f,m,y,T){this._zone=d,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new E.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),F=new E.y(H=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{Zl.assertNotInAngularZone(),vb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const Ce=this._zone.onUnstable.subscribe(()=>{Zl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{X.unsubscribe(),Ce.unsubscribe()}});this.isStable=(0,N.T)(I,F.pipe((0,M.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Ge(405,"");let m;m=d instanceof x1?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const y=function qw(s){return s.isBoundToModule}(m)?void 0:this._injector.get(Gg),I=m.create(_a.NULL,[],f||m.selector,y),F=I.location.nativeElement,H=I.injector.get(wb,null),X=H&&I.injector.get(Tb);return H&&X&&X.registerApplication(F,H),I.onDestroy(()=>{this.detachView(I.hostView),Rb(this.components,I),X&&X.unregisterApplication(F)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ge(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Rb(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Vw,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(d){return new(d||s)(Jt(Zl),Jt(_a),Jt(As),Jt(iv),Jt(gb))},s.\u0275prov=kn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Rb(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}let Qw=!1;function bE(){return Qw=!0,true}let CE=(()=>{class s{}return s.__NG_ELEMENT_ID__=wE,s})();function wE(s){return function TE(s,a,d){if(Pr(s)&&!d){const f=ao(s.index,a);return new Q0(f,f)}return 47&s.type?new Q0(a[16],a):null}(oi(),Pt(),16==(16&s))}class Jg{constructor(){}supports(a){return hg(a)}create(a){return new Lb(a)}}const oy=(s,a)=>a;class Lb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||oy}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,f=this._removalsHead,m=0,y=null;for(;d||f;){const T=!f||d&&d.currentIndex<Bb(f,m,y)?d:f,I=Bb(T,m,y),F=T.currentIndex;if(T===f)m--,f=f._nextRemoved;else if(d=d._next,null==T.previousIndex)m++;else{y||(y=[]);const H=I-m,X=F-m;if(H!=X){for(let Ue=0;Ue<H;Ue++){const tt=Ue<y.length?y[Ue]:y[Ue]=0,Et=tt+Ue;X<=Et&&Et<H&&(y[Ue]=tt+1)}y[T.previousIndex]=X-H}}I!==F&&a(T,I,F)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!hg(a))throw new Ge(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,y,T,d=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)y=a[I],T=this._trackByFn(I,y),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,y,T,I)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,T,I),f=!0),d=d._next}else m=0,function Ud(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[ep()]();let f;for(;!(f=d.next()).done;)a(f.value)}}(a,I=>{T=this._trackByFn(m,I),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,I,T,m)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,T,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,f,m){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,y,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,y,m)):a=this._addAfter(new tT(d,f),y,m),a}_verifyReinsertion(a,d,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?a=this._reinsertAfter(y,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,y=a._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(a,d,f),this._addToMoves(a,f),a}_moveAfter(a,d,f){return this._unlink(a),this._insertAfter(a,d,f),this._addToMoves(a,f),a}_addAfter(a,d,f){return this._insertAfter(a,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,f){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ub),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,f=a._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ub),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class tT{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class nT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const d=a._prevDup,f=a._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class Ub{constructor(){this.map=new Map}put(a){const d=a.trackById;let f=this.map.get(d);f||(f=new nT,this.map.set(d,f)),f.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Bb(s,a,d){const f=s.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+a+m}class _p{constructor(){}supports(a){return a instanceof Map||tp(a)}create(){return new yp}}class yp{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||tp(a)))throw new Ge(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const f=a._prev;return d._next=a,d._prev=f,a._prev=d,f&&(f._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const y=m._prev,T=m._next;return y&&(y._next=T),T&&(T._prev=y),m._next=null,m._prev=null,m}const f=new P_(a);return this._records.set(a,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(f=>d(a[f],f))}}class P_{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function N_(){return new sy([new Jg])}let sy=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||N_()),deps:[[s,new ei,new uo]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new Ge(901,"")}}return s.\u0275prov=kn({token:s,providedIn:"root",factory:N_}),s})();function Qh(){return new ay([new _p])}let ay=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||Qh()),deps:[[s,new ei,new uo]]}}find(d){const f=this.factories.find(y=>y.supports(d));if(f)return f;throw new Ge(901,"")}}return s.\u0275prov=kn({token:s,providedIn:"root",factory:Qh}),s})();const PE=xb(null,"core",[{provide:yb,useValue:"unknown"},{provide:Ib,deps:[_a]},{provide:Tb,deps:[]},{provide:jw,deps:[]}]);let NE=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(Jt(Nb))},s.\u0275mod=ke({type:s}),s.\u0275inj=nr({}),s})()},3942:(nt,A,O)=>{"use strict";O.d(A,{Z:()=>Ge});var t=O(2090),C=O(4859),E=O(9681),N=O(1877);class M{constructor(ue,Oe){this._delegate=ue,this.firebase=Oe,(0,E._addComponent)(ue,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(ue,Oe=E._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(ue);return!rt.isInitialized()&&"EXPLICIT"===(null===(De=rt.getComponent())||void 0===De?void 0:De.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Oe})}_removeServiceInstance(ue,Oe=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(Oe)}_addComponent(ue){(0,E._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,E._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $=new t.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),z=function J(){const ut=function W(ut){const ue={},Oe={__esModule:!0,initializeApp:function Be(Ie,it={}){const se=E.initializeApp(Ie,it);if((0,t.r3)(ue,se.name))return ue[se.name];const oe=new ut(se,Oe);return ue[se.name]=oe,oe},app:rt,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function we(Ie){const it=Ie.name,se=it.replace("-compat","");if(E._registerComponent(Ie)&&"PUBLIC"===Ie.type){const oe=(Q=rt())=>{if("function"!=typeof Q[se])throw $.create("invalid-app-argument",{appName:it});return Q[se]()};void 0!==Ie.serviceProps&&(0,t.ZB)(oe,Ie.serviceProps),Oe[se]=oe,ut.prototype[se]=function(...Q){return this._getService.bind(this,it).apply(this,Ie.multipleInstances?Q:[])}}return"PUBLIC"===Ie.type?Oe[se]:null},removeApp:function De(Ie){delete ue[Ie]},useAsService:function He(Ie,it){return"serverAuth"===it?null:it},modularAPIs:E}};function rt(Ie){if(!(0,t.r3)(ue,Ie=Ie||E._DEFAULT_ENTRY_NAME))throw $.create("no-app",{appName:Ie});return ue[Ie]}return Oe.default=Oe,Object.defineProperty(Oe,"apps",{get:function qe(){return Object.keys(ue).map(Ie=>ue[Ie])}}),rt.App=ut,Oe}(M);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function ue(Oe){(0,t.ZB)(ut,Oe)},createSubscribe:t.ne,ErrorFactory:t.LL,deepExtend:t.ZB}),ut}(),ne=new N.Yd("@firebase/app-compat");if((0,t.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=z;!function $e(ut){(0,E.registerVersion)("@firebase/app-compat","0.1.20",ut)}()},9681:(nt,A,O)=>{"use strict";O.r(A),O.d(A,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Ri,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>an,_addOrOverwriteComponent:()=>er,_apps:()=>mt,_clearComponents:()=>Qn,_components:()=>At,_getProvider:()=>yr,_registerComponent:()=>kn,_removeServiceInstance:()=>nr,deleteApp:()=>wi,getApp:()=>Fr,getApps:()=>Br,initializeApp:()=>bi,onLog:()=>Vr,registerVersion:()=>Pi,setLogLevel:()=>$r});var t=O(5861),C=O(4859),E=O(1877),N=O(2090);class M{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function j(Dt){const et=Dt.getComponent();return"VERSION"===(null==et?void 0:et.type)}(Vt)){const Wt=Vt.getImmediate();return`${Wt.library}/${Wt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const $="@firebase/app",W="0.7.19",J=new E.Yd("@firebase/app"),pn="[DEFAULT]",Tt={[$]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,At=new Map;function an(Dt,et){try{Dt.container.addComponent(et)}catch(Vt){J.debug(`Component ${et.name} failed to register with FirebaseApp ${Dt.name}`,Vt)}}function er(Dt,et){Dt.container.addOrOverwriteComponent(et)}function kn(Dt){const et=Dt.name;if(At.has(et))return J.debug(`There were multiple attempts to register component ${et}.`),!1;At.set(et,Dt);for(const Vt of mt.values())an(Vt,Dt);return!0}function yr(Dt,et){const Vt=Dt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Dt.container.getProvider(et)}function nr(Dt,et,Vt=pn){yr(Dt,et).clearInstance(Vt)}function Qn(){At.clear()}const mr=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Ar{constructor(et,Vt,Wt){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=Wt,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Ri="9.6.9";function bi(Dt,et={}){"object"!=typeof et&&(et={name:et});const Vt=Object.assign({name:pn,automaticDataCollectionEnabled:!1},et),Wt=Vt.name;if("string"!=typeof Wt||!Wt)throw mr.create("bad-app-name",{appName:String(Wt)});const An=mt.get(Wt);if(An){if((0,N.vZ)(Dt,An.options)&&(0,N.vZ)(Vt,An.config))return An;throw mr.create("duplicate-app",{appName:Wt})}const yn=new C.H0(Wt);for(const pe of At.values())yn.addComponent(pe);const ve=new Ar(Dt,Vt,yn);return mt.set(Wt,ve),ve}function Fr(Dt=pn){const et=mt.get(Dt);if(!et)throw mr.create("no-app",{appName:Dt});return et}function Br(){return Array.from(mt.values())}function wi(Dt){return gn.apply(this,arguments)}function gn(){return(gn=(0,t.Z)(function*(Dt){const et=Dt.name;mt.has(et)&&(mt.delete(et),yield Promise.all(Dt.container.getProviders().map(Vt=>Vt.delete())),Dt.isDeleted=!0)})).apply(this,arguments)}function Pi(Dt,et,Vt){var Wt;let An=null!==(Wt=Tt[Dt])&&void 0!==Wt?Wt:Dt;Vt&&(An+=`-${Vt}`);const yn=An.match(/\s|\//),ve=et.match(/\s|\//);if(yn||ve){const pe=[`Unable to register library "${An}" with version "${et}":`];return yn&&pe.push(`library name "${An}" contains illegal characters (whitespace or "/")`),yn&&ve&&pe.push("and"),ve&&pe.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void J.warn(pe.join(" "))}kn(new C.wA(`${An}-version`,()=>({library:An,version:et}),"VERSION"))}function Vr(Dt,et){if(null!==Dt&&"function"!=typeof Dt)throw mr.create("invalid-log-argument");(0,E.Am)(Dt,et)}function $r(Dt){(0,E.Ub)(Dt)}const ct="firebase-heartbeat-store";let Xe=null;function yt(){return Xe||(Xe=(0,N.X3)("firebase-heartbeat-database",1,(Dt,et)=>{0===et&&Dt.createObjectStore(ct)}).catch(Dt=>{throw mr.create("storage-open",{originalErrorMessage:Dt.message})})),Xe}function Mt(){return(Mt=(0,t.Z)(function*(Dt){try{return(yield yt()).transaction(ct).objectStore(ct).get(mn(Dt))}catch(et){throw mr.create("storage-get",{originalErrorMessage:et.message})}})).apply(this,arguments)}function wt(Dt,et){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,t.Z)(function*(Dt,et){try{const Wt=(yield yt()).transaction(ct,"readwrite");return yield Wt.objectStore(ct).put(et,mn(Dt)),Wt.complete}catch(Vt){throw mr.create("storage-set",{originalErrorMessage:Vt.message})}})).apply(this,arguments)}function mn(Dt){return`${Dt.name}!${Dt.options.appId}`}class Mn{constructor(et){this.container=et,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new Ht(Vt),this._heartbeatsCachePromise=this._storage.read().then(Wt=>(this._heartbeatsCache=Wt,Wt))}triggerHeartbeat(){var et=this;return(0,t.Z)(function*(){const Wt=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),An=Cn();if(null===et._heartbeatsCache&&(et._heartbeatsCache=yield et._heartbeatsCachePromise),et._heartbeatsCache.lastSentHeartbeatDate!==An&&!et._heartbeatsCache.heartbeats.some(yn=>yn.date===An))return et._heartbeatsCache.heartbeats.push({date:An,agent:Wt}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(yn=>{const ve=new Date(yn.date).valueOf();return Date.now()-ve<=2592e6}),et._storage.overwrite(et._heartbeatsCache)})()}getHeartbeatsHeader(){var et=this;return(0,t.Z)(function*(){if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null===et._heartbeatsCache||0===et._heartbeatsCache.heartbeats.length)return"";const Vt=Cn(),{heartbeatsToSend:Wt,unsentEntries:An}=function Wn(Dt,et=1024){const Vt=[];let Wt=Dt.slice();for(const An of Dt){const yn=Vt.find(ve=>ve.agent===An.agent);if(yn){if(yn.dates.push(An.date),vr(Vt)>et){yn.dates.pop();break}}else if(Vt.push({agent:An.agent,dates:[An.date]}),vr(Vt)>et){Vt.pop();break}Wt=Wt.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:Wt}}(et._heartbeatsCache.heartbeats),yn=(0,N.L)(JSON.stringify({version:2,heartbeats:Wt}));return et._heartbeatsCache.lastSentHeartbeatDate=Vt,An.length>0?(et._heartbeatsCache.heartbeats=An,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),yn})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,t.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,t.Z)(function*(){return(yield et._canUseIndexedDBPromise)&&(yield function kt(Dt){return Mt.apply(this,arguments)}(et.app))||{heartbeats:[]}})()}overwrite(et){var Vt=this;return(0,t.Z)(function*(){var Wt;if(yield Vt._canUseIndexedDBPromise){const yn=yield Vt.read();return wt(Vt.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:yn.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var Vt=this;return(0,t.Z)(function*(){var Wt;if(yield Vt._canUseIndexedDBPromise){const yn=yield Vt.read();return wt(Vt.app,{lastSentHeartbeatDate:null!==(Wt=et.lastSentHeartbeatDate)&&void 0!==Wt?Wt:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...et.heartbeats]})}})()}}function vr(Dt){return(0,N.L)(JSON.stringify({version:2,heartbeats:Dt})).length}!function En(Dt){kn(new C.wA("platform-logger",et=>new M(et),"PRIVATE")),kn(new C.wA("heartbeat",et=>new Mn(et),"PRIVATE")),Pi($,W,Dt),Pi($,W,"esm2017"),Pi("fire-js","")}("")},4859:(nt,A,O)=>{"use strict";O.d(A,{H0:()=>W,wA:()=>E});var t=O(5861),C=O(2090);class E{constructor(z,ne,ce){this.name=z,this.instanceFactory=ne,this.type=ce,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const N="[DEFAULT]";class M{constructor(z,ne){this.name=z,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const ne=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(ne)){const ce=new C.BH;if(this.instancesDeferred.set(ne,ce),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Ye=this.getOrInitializeService({instanceIdentifier:ne});Ye&&ce.resolve(Ye)}catch(Ye){}}return this.instancesDeferred.get(ne).promise}getImmediate(z){var ne;const ce=this.normalizeInstanceIdentifier(null==z?void 0:z.identifier),Ye=null!==(ne=null==z?void 0:z.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ce)&&!this.shouldAutoInitialize()){if(Ye)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ce})}catch($e){if(Ye)return null;throw $e}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function $(J){return"EAGER"===J.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:N})}catch(ne){}for(const[ne,ce]of this.instancesDeferred.entries()){const Ye=this.normalizeInstanceIdentifier(ne);try{const $e=this.getOrInitializeService({instanceIdentifier:Ye});ce.resolve($e)}catch($e){}}}}clearInstance(z=N){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,t.Z)(function*(){const ne=Array.from(z.instances.values());yield Promise.all([...ne.filter(ce=>"INTERNAL"in ce).map(ce=>ce.INTERNAL.delete()),...ne.filter(ce=>"_delete"in ce).map(ce=>ce._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=N){return this.instances.has(z)}getOptions(z=N){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:ne={}}=z,ce=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(ce))throw Error(`${this.name}(${ce}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ye=this.getOrInitializeService({instanceIdentifier:ce,options:ne});for(const[$e,Ge]of this.instancesDeferred.entries())ce===this.normalizeInstanceIdentifier($e)&&Ge.resolve(Ye);return Ye}onInit(z,ne){var ce;const Ye=this.normalizeInstanceIdentifier(ne),$e=null!==(ce=this.onInitCallbacks.get(Ye))&&void 0!==ce?ce:new Set;$e.add(z),this.onInitCallbacks.set(Ye,$e);const Ge=this.instances.get(Ye);return Ge&&z(Ge,Ye),()=>{$e.delete(z)}}invokeOnInitCallbacks(z,ne){const ce=this.onInitCallbacks.get(ne);if(ce)for(const Ye of ce)try{Ye(z,ne)}catch($e){}}getOrInitializeService({instanceIdentifier:z,options:ne={}}){let ce=this.instances.get(z);if(!ce&&this.component&&(ce=this.component.instanceFactory(this.container,{instanceIdentifier:(J=z,J===N?void 0:J),options:ne}),this.instances.set(z,ce),this.instancesOptions.set(z,ne),this.invokeOnInitCallbacks(ce,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,ce)}catch(Ye){}var J;return ce||null}normalizeInstanceIdentifier(z=N){return this.component?this.component.multipleInstances?z:N:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class W{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const ne=this.getProvider(z.name);if(ne.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);ne.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const ne=new M(z,this);return this.providers.set(z,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,A,O)=>{"use strict";O.d(A,{Am:()=>J,Ub:()=>W,Yd:()=>$,in:()=>C});const t=[];var C=(()=>{return(z=C||(C={}))[z.DEBUG=0]="DEBUG",z[z.VERBOSE=1]="VERBOSE",z[z.INFO=2]="INFO",z[z.WARN=3]="WARN",z[z.ERROR=4]="ERROR",z[z.SILENT=5]="SILENT",C;var z})();const E={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},N=C.INFO,M={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},j=(z,ne,...ce)=>{if(ne<z.logLevel)return;const Ye=(new Date).toISOString(),$e=M[ne];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[$e](`[${Ye}]  ${z.name}:`,...ce)};class ${constructor(ne){this.name=ne,this._logLevel=N,this._logHandler=j,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in C))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?E[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...ne),this._logHandler(this,C.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...ne),this._logHandler(this,C.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,C.INFO,...ne),this._logHandler(this,C.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,C.WARN,...ne),this._logHandler(this,C.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...ne),this._logHandler(this,C.ERROR,...ne)}}function W(z){t.forEach(ne=>{ne.setLogLevel(z)})}function J(z,ne){for(const ce of t){let Ye=null;ne&&ne.level&&(Ye=E[ne.level]),ce.userLogHandler=null===z?null:($e,Ge,...ut)=>{const ue=ut.map(Oe=>{if(null==Oe)return null;if("string"==typeof Oe)return Oe;if("number"==typeof Oe||"boolean"==typeof Oe)return Oe.toString();if(Oe instanceof Error)return Oe.message;try{return JSON.stringify(Oe)}catch(De){return null}}).filter(Oe=>Oe).join(" ");Ge>=(null!=Ye?Ye:$e.logLevel)&&z({level:C[Ge].toLowerCase(),message:ue,args:ut,type:$e.name})}}}},5861:(nt,A,O)=>{"use strict";function t(E,N,M,j,$,W,J){try{var z=E[W](J),ne=z.value}catch(ce){return void M(ce)}z.done?N(ne):Promise.resolve(ne).then(j,$)}function C(E){return function(){var N=this,M=arguments;return new Promise(function(j,$){var W=E.apply(N,M);function J(ne){t(W,j,$,J,z,"next",ne)}function z(ne){t(W,j,$,J,z,"throw",ne)}J(void 0)})}}O.d(A,{Z:()=>C})}},nt=>{nt(nt.s=3530)}]);