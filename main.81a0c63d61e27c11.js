(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{3692:(tt,A,N)=>{"use strict";N.d(A,{Ot:()=>R,ZF:()=>De,hX:()=>$e,z6:()=>O});var t=N(5867),T=N(7587),S=N(5813);class R{constructor(Re){return Re}}class O{constructor(){return(0,t.C6)()}}const X=new T.OlP("angularfire2._apps"),J={provide:R,useFactory:function q(Be){return Be&&1===Be.length?Be[0]:new R((0,t.Mq)())},deps:[[new T.FiY,X]]},K={provide:O,deps:[[new T.FiY,X]]};function ee(Be){return(Re,Te)=>{const qe=Re.runOutsideAngular(()=>Be(Te));return new R(qe)}}let ve=(()=>{class Be{constructor(Te){(0,t.KN)("angularfire",S.q4.full,"core"),(0,t.KN)("angularfire",S.q4.full,"app"),(0,t.KN)("angular",T.q4F.full,Te.toString())}}return Be.\u0275fac=function(Te){return new(Te||Be)(T.LFG(T.Lbi))},Be.\u0275mod=T.oAB({type:Be}),Be.\u0275inj=T.cJS({providers:[J,K]}),Be})();function $e(Be,...Re){return{ngModule:ve,providers:[{provide:X,useFactory:ee(Be),multi:!0,deps:[T.R0b,T.zs3,S.HU,...Re]}]}}const De=(0,S.u3)(t.ZF,!0)},7300:(tt,A,N)=>{"use strict";N.d(A,{gg:()=>Mp,ET:()=>js,hJ:()=>yl,BS:()=>pd,JU:()=>kp,ad:()=>Of,Cm:()=>Au});var t=N(5813),T=N(7587),S=N(3692),R=N(5867),O=N(5861),G=N(2090),q=N(9681),X=N(655),J=N(1877),K=N(4859);const Ae=function De(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Qe=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Re=new J.Yd("@firebase/auth");function Te(w,..._){Re.logLevel<=J.in.ERROR&&Re.error(`Auth (${q.Jn}): ${w}`,..._)}function qe(w,..._){throw oe(w,..._)}function Ue(w,..._){return oe(w,..._)}function lt(w,_,C){const M=Object.assign(Object.assign({},Ae()),{[_]:C});return new G.LL("auth","Firebase",M).create(_,{appName:w.name})}function oe(w,..._){if("string"!=typeof w){const C=_[0],M=[..._.slice(1)];return M[0]&&(M[0].appName=w.name),w._errorFactory.create(C,...M)}return Qe.create(w,..._)}function te(w,_,...C){if(!w)throw oe(_,...C)}function me(w){const _="INTERNAL ASSERTION FAILED: "+w;throw Te(_),new Error(_)}function Ie(w,_){w||me(_)}const le=new Map;function dt(w){Ie(w instanceof Function,"Expected a class definition");let _=le.get(w);return _?(Ie(_ instanceof w,"Instance stored in cache mismatched with class"),_):(_=new w,le.set(w,_),_)}function Mt(){var w;return"undefined"!=typeof self&&(null===(w=self.location)||void 0===w?void 0:w.protocol)||null}class Ln{constructor(_,C){this.shortDelay=_,this.longDelay=C,Ie(C>_,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function nn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===Mt()||"https:"===Mt()}()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class ur{static initialize(_,C,M){this.fetchImpl=_,C&&(this.headersImpl=C),M&&(this.responseImpl=M)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void me("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void me("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void me("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ti=new Ln(3e4,6e4);function kr(w,_,C,M){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,O.Z)(function*(w,_,C,M,W={}){return ao(w,W,(0,O.Z)(function*(){let se={},ze={};M&&("GET"===_?ze=M:se={body:JSON.stringify(M)});const vt=(0,G.xO)(Object.assign({key:w.config.apiKey},ze)).slice(1),Rt=yield w._getAdditionalHeaders();return Rt["Content-Type"]="application/json",w.languageCode&&(Rt["X-Firebase-Locale"]=w.languageCode),ur.fetch()(Qr(w,w.config.apiHost,C,vt),Object.assign({method:_,headers:Rt,referrerPolicy:"no-referrer"},se))}))})).apply(this,arguments)}function ao(w,_,C){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,O.Z)(function*(w,_,C){w._canInitEmulator=!1;const M=Object.assign(Object.assign({},tr),_);try{const W=new zi(w),se=yield Promise.race([C(),W.promise]);W.clearNetworkTimeout();const ze=yield se.json();if("needConfirmation"in ze)throw Fr(w,"account-exists-with-different-credential",ze);if(se.ok&&!("errorMessage"in ze))return ze;{const vt=se.ok?ze.errorMessage:ze.error.message,[Rt,Rn]=vt.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw Fr(w,"credential-already-in-use",ze);if("EMAIL_EXISTS"===Rt)throw Fr(w,"email-already-in-use",ze);const Vn=M[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(Rn)throw lt(w,Vn,Rn);qe(w,Vn)}}catch(W){if(W instanceof G.ZR)throw W;qe(w,"network-request-failed")}})).apply(this,arguments)}function Qr(w,_,C,M){const W=`${_}${C}?${M}`;return w.config.emulator?function wn(w,_){Ie(w.emulator,"Emulator should always be set here");const{url:C}=w.emulator;return _?`${C}${_.startsWith("/")?_.slice(1):_}`:C}(w.config,W):`${w.config.apiScheme}://${W}`}class zi{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((C,M)=>{this.timer=setTimeout(()=>M(Ue(this.auth,"network-request-failed")),ti.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Fr(w,_,C){const M={appName:w.name};C.email&&(M.email=C.email),C.phoneNumber&&(M.phoneNumber=C.phoneNumber);const W=Ue(w,_,M);return W.customData._tokenResponse=C,W}function Pe(){return(Pe=(0,O.Z)(function*(w,_){return kr(w,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function et(w,_){return ct.apply(this,arguments)}function ct(){return(ct=(0,O.Z)(function*(w,_){return kr(w,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function Ot(w){if(w)try{const _=new Date(Number(w));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function St(){return(St=(0,O.Z)(function*(w,_=!1){const C=(0,G.m9)(w),M=yield C.getIdToken(_),W=Qt(M);te(W&&W.exp&&W.auth_time&&W.iat,C.auth,"internal-error");const se="object"==typeof W.firebase?W.firebase:void 0,ze=null==se?void 0:se.sign_in_provider;return{claims:W,token:M,authTime:Ot(pn(W.auth_time)),issuedAtTime:Ot(pn(W.iat)),expirationTime:Ot(pn(W.exp)),signInProvider:ze||null,signInSecondFactor:(null==se?void 0:se.sign_in_second_factor)||null}})).apply(this,arguments)}function pn(w){return 1e3*Number(w)}function Qt(w){const[_,C,M]=w.split(".");if(void 0===_||void 0===C||void 0===M)return Te("JWT malformed, contained fewer than 3 sections"),null;try{const W=(0,G.tV)(C);return W?JSON.parse(W):(Te("Failed to decode base64 JWT payload"),null)}catch(W){return Te("Caught error parsing JWT payload as JSON",W),null}}function xn(w,_){return _n.apply(this,arguments)}function _n(){return(_n=(0,O.Z)(function*(w,_,C=!1){if(C)return _;try{return yield _}catch(M){throw M instanceof G.ZR&&Yn(M)&&w.auth.currentUser===w&&(yield w.auth.signOut()),M}})).apply(this,arguments)}function Yn({code:w}){return"auth/user-disabled"===w||"auth/user-token-expired"===w}class Sn{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var C;if(_){const M=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),M}{this.errorBackoff=3e4;const W=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,W)}}schedule(_=!1){var C=this;if(!this.isRunning)return;const M=this.getInterval(_);this.timerId=setTimeout((0,O.Z)(function*(){yield C.iteration()}),M)}iteration(){var _=this;return(0,O.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&_.schedule(!0))}_.schedule()})()}}class Bn{constructor(_,C){this.createdAt=_,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ot(this.lastLoginAt),this.creationTime=Ot(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function En(w){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,O.Z)(function*(w){var _;const C=w.auth,M=yield w.getIdToken(),W=yield xn(w,et(C,{idToken:M}));te(null==W?void 0:W.users.length,C,"internal-error");const se=W.users[0];w._notifyReloadListener(se);const ze=(null===(_=se.providerUserInfo)||void 0===_?void 0:_.length)?yn(se.providerUserInfo):[],vt=$t(w.providerData,ze),Vn=!!w.isAnonymous&&!(w.email&&se.passwordHash||(null==vt?void 0:vt.length)),br={uid:se.localId,displayName:se.displayName||null,photoURL:se.photoUrl||null,email:se.email||null,emailVerified:se.emailVerified||!1,phoneNumber:se.phoneNumber||null,tenantId:se.tenantId||null,providerData:vt,metadata:new Bn(se.createdAt,se.lastLoginAt),isAnonymous:Vn};Object.assign(w,br)})).apply(this,arguments)}function Tt(){return(Tt=(0,O.Z)(function*(w){const _=(0,G.m9)(w);yield En(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function $t(w,_){return[...w.filter(M=>!_.some(W=>W.providerId===M.providerId)),..._]}function yn(w){return w.map(_=>{var{providerId:C}=_,M=(0,X._T)(_,["providerId"]);return{providerId:C,uid:M.rawId||"",displayName:M.displayName||null,email:M.email||null,phoneNumber:M.phoneNumber||null,photoURL:M.photoUrl||null}})}function we(){return(we=(0,O.Z)(function*(w,_){const C=yield ao(w,{},(0,O.Z)(function*(){const M=(0,G.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:W,apiKey:se}=w.config,ze=Qr(w,W,"/v1/token",`key=${se}`),vt=yield w._getAdditionalHeaders();return vt["Content-Type"]="application/x-www-form-urlencoded",ur.fetch()(ze,{method:"POST",headers:vt,body:M})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class he{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){te(_.idToken,"internal-error"),te(void 0!==_.idToken,"internal-error"),te(void 0!==_.refreshToken,"internal-error");const C="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Tn(w){const _=Qt(w);return te(_,"internal-error"),te(void 0!==_.exp,"internal-error"),te(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,C)}getToken(_,C=!1){var M=this;return(0,O.Z)(function*(){return te(!M.accessToken||M.refreshToken,_,"user-token-expired"),C||!M.accessToken||M.isExpired?M.refreshToken?(yield M.refresh(_,M.refreshToken),M.accessToken):null:M.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,C){var M=this;return(0,O.Z)(function*(){const{accessToken:W,refreshToken:se,expiresIn:ze}=yield function dn(w,_){return we.apply(this,arguments)}(_,C);M.updateTokensAndExpiration(W,se,Number(ze))})()}updateTokensAndExpiration(_,C,M){this.refreshToken=C||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*M}static fromJSON(_,C){const{refreshToken:M,accessToken:W,expirationTime:se}=C,ze=new he;return M&&(te("string"==typeof M,"internal-error",{appName:_}),ze.refreshToken=M),W&&(te("string"==typeof W,"internal-error",{appName:_}),ze.accessToken=W),se&&(te("number"==typeof se,"internal-error",{appName:_}),ze.expirationTime=se),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new he,this.toJSON())}_performRefresh(){return me("not implemented")}}function fe(w,_){te("string"==typeof w||void 0===w,"internal-error",{appName:_})}class Ge{constructor(_){var{uid:C,auth:M,stsTokenManager:W}=_,se=(0,X._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=M,this.stsTokenManager=W,this.accessToken=W.accessToken,this.displayName=se.displayName||null,this.email=se.email||null,this.emailVerified=se.emailVerified||!1,this.phoneNumber=se.phoneNumber||null,this.photoURL=se.photoURL||null,this.isAnonymous=se.isAnonymous||!1,this.tenantId=se.tenantId||null,this.providerData=se.providerData?[...se.providerData]:[],this.metadata=new Bn(se.createdAt||void 0,se.lastLoginAt||void 0)}getIdToken(_){var C=this;return(0,O.Z)(function*(){const M=yield xn(C,C.stsTokenManager.getToken(C.auth,_));return te(M,C.auth,"internal-error"),C.accessToken!==M&&(C.accessToken=M,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),M})()}getIdTokenResult(_){return function gt(w){return St.apply(this,arguments)}(this,_)}reload(){return function Ke(w){return Tt.apply(this,arguments)}(this)}_assign(_){this!==_&&(te(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(C=>Object.assign({},C)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ge(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,C=!1){var M=this;return(0,O.Z)(function*(){let W=!1;_.idToken&&_.idToken!==M.stsTokenManager.accessToken&&(M.stsTokenManager.updateFromServerResponse(_),W=!0),C&&(yield En(M)),yield M.auth._persistUserIfCurrent(M),W&&M.auth._notifyListenersIfCurrent(M)})()}delete(){var _=this;return(0,O.Z)(function*(){const C=yield _.getIdToken();return yield xn(_,function Ri(w,_){return Pe.apply(this,arguments)}(_.auth,{idToken:C})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,C){var M,W,se,ze,vt,Rt,Rn,Vn;const br=null!==(M=C.displayName)&&void 0!==M?M:void 0,ws=null!==(W=C.email)&&void 0!==W?W:void 0,Vs=null!==(se=C.phoneNumber)&&void 0!==se?se:void 0,yd=null!==(ze=C.photoURL)&&void 0!==ze?ze:void 0,Nf=null!==(vt=C.tenantId)&&void 0!==vt?vt:void 0,Cl=null!==(Rt=C._redirectEventId)&&void 0!==Rt?Rt:void 0,Sh=null!==(Rn=C.createdAt)&&void 0!==Rn?Rn:void 0,Rf=null!==(Vn=C.lastLoginAt)&&void 0!==Vn?Vn:void 0,{uid:Pu,emailVerified:Fm,isAnonymous:$g,providerData:Nu,stsTokenManager:xh}=C;te(Pu&&xh,_,"internal-error");const qg=he.fromJSON(this.name,xh);te("string"==typeof Pu,_,"internal-error"),fe(br,_.name),fe(ws,_.name),te("boolean"==typeof Fm,_,"internal-error"),te("boolean"==typeof $g,_,"internal-error"),fe(Vs,_.name),fe(yd,_.name),fe(Nf,_.name),fe(Cl,_.name),fe(Sh,_.name),fe(Rf,_.name);const zr=new Ge({uid:Pu,auth:_,email:ws,emailVerified:Fm,displayName:br,isAnonymous:$g,photoURL:yd,phoneNumber:Vs,tenantId:Nf,stsTokenManager:qg,createdAt:Sh,lastLoginAt:Rf});return Nu&&Array.isArray(Nu)&&(zr.providerData=Nu.map(Zg=>Object.assign({},Zg))),Cl&&(zr._redirectEventId=Cl),zr}static _fromIdTokenResponse(_,C,M=!1){return(0,O.Z)(function*(){const W=new he;W.updateFromServerResponse(C);const se=new Ge({uid:C.localId,auth:_,stsTokenManager:W,isAnonymous:M});return yield En(se),se})()}}const Pt=(()=>{class w{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(C,M){var W=this;return(0,O.Z)(function*(){W.storage[C]=M})()}_get(C){var M=this;return(0,O.Z)(function*(){const W=M.storage[C];return void 0===W?null:W})()}_remove(C){var M=this;return(0,O.Z)(function*(){delete M.storage[C]})()}_addListener(C,M){}_removeListener(C,M){}}return w.type="NONE",w})();function gn(w,_,C){return`firebase:${w}:${_}:${C}`}class Pn{constructor(_,C,M){this.persistence=_,this.auth=C,this.userKey=M;const{config:W,name:se}=this.auth;this.fullUserKey=gn(this.userKey,W.apiKey,se),this.fullPersistenceKey=gn("persistence",W.apiKey,se),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,O.Z)(function*(){const C=yield _.persistence._get(_.fullUserKey);return C?Ge._fromJSON(_.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var C=this;return(0,O.Z)(function*(){if(C.persistence===_)return;const M=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=_,M?C.setCurrentUser(M):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,C,M="authUser"){return(0,O.Z)(function*(){if(!C.length)return new Pn(dt(Pt),_,M);const W=(yield Promise.all(C.map(function(){var Rn=(0,O.Z)(function*(Vn){if(yield Vn._isAvailable())return Vn});return function(Vn){return Rn.apply(this,arguments)}}()))).filter(Rn=>Rn);let se=W[0]||dt(Pt);const ze=gn(M,_.config.apiKey,_.name);let vt=null;for(const Rn of C)try{const Vn=yield Rn._get(ze);if(Vn){const br=Ge._fromJSON(_,Vn);Rn!==se&&(vt=br),se=Rn;break}}catch(Vn){}const Rt=W.filter(Rn=>Rn._shouldAllowMigration);return se._shouldAllowMigration&&Rt.length?(se=Rt[0],vt&&(yield se._set(ze,vt.toJSON())),yield Promise.all(C.map(function(){var Rn=(0,O.Z)(function*(Vn){if(Vn!==se)try{yield Vn._remove(ze)}catch(br){}});return function(Vn){return Rn.apply(this,arguments)}}())),new Pn(se,_,M)):new Pn(se,_,M)})()}}function Jn(w){const _=w.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(function kn(w=(0,G.z$)()){return/iemobile/i.test(w)}(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(function sr(w=(0,G.z$)()){return/firefox\//i.test(w)}(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(function Oe(w=(0,G.z$)()){return/blackberry/i.test(w)}(_))return"Blackberry";if(function nt(w=(0,G.z$)()){return/webos/i.test(w)}(_))return"Webos";if(function fr(w=(0,G.z$)()){const _=w.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}(_))return"Safari";if((_.includes("chrome/")||function cn(w=(0,G.z$)()){return/crios\//i.test(w)}(_))&&!_.includes("edge/"))return"Chrome";if(function en(w=(0,G.z$)()){return/android/i.test(w)}(_))return"Android";{const M=w.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==M?void 0:M.length))return M[1]}return"Other"}function Bt(w,_=[]){let C;switch(w){case"Browser":C=Jn((0,G.z$)());break;case"Worker":C=`${Jn((0,G.z$)())}-${w}`;break;default:C=w}const M=_.length?_.join(","):"FirebaseCore-web";return`${C}/JsCore/${q.Jn}/${M}`}class Zt{constructor(_,C,M){this.app=_,this.heartbeatServiceProvider=C,this.config=M,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zt(this),this.idTokenSubscription=new zt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qe,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=M.sdkClientVersion}_initializeWithPersistence(_,C){var M=this;return C&&(this._popupRedirectResolver=dt(C)),this._initializationPromise=this.queue((0,O.Z)(function*(){var W,se;if(!M._deleted&&(M.persistenceManager=yield Pn.create(M,_),!M._deleted)){if(null===(W=M._popupRedirectResolver)||void 0===W?void 0:W._shouldInitProactively)try{yield M._popupRedirectResolver._initialize(M)}catch(ze){}yield M.initializeCurrentUser(C),M.lastNotifiedUid=(null===(se=M.currentUser)||void 0===se?void 0:se.uid)||null,!M._deleted&&(M._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,O.Z)(function*(){if(_._deleted)return;const C=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||C){if(_.currentUser&&C&&_.currentUser.uid===C.uid)return _._currentUser._assign(C),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(C)}})()}initializeCurrentUser(_){var C=this;return(0,O.Z)(function*(){var M;let W=yield C.assertedPersistence.getCurrentUser();if(_&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const se=null===(M=C.redirectUser)||void 0===M?void 0:M._redirectEventId,ze=null==W?void 0:W._redirectEventId,vt=yield C.tryRedirectSignIn(_);(!se||se===ze)&&(null==vt?void 0:vt.user)&&(W=vt.user)}return W?W._redirectEventId?(te(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===W._redirectEventId?C.directlySetCurrentUser(W):C.reloadAndSetCurrentUserOrClear(W)):C.reloadAndSetCurrentUserOrClear(W):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var C=this;return(0,O.Z)(function*(){let M=null;try{M=yield C._popupRedirectResolver._completeRedirectFn(C,_,!0)}catch(W){yield C._setRedirectUser(null)}return M})()}reloadAndSetCurrentUserOrClear(_){var C=this;return(0,O.Z)(function*(){try{yield En(_)}catch(M){if("auth/network-request-failed"!==M.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function rr(){if("undefined"==typeof navigator)return null;const w=navigator;return w.languages&&w.languages[0]||w.language||null}()}_delete(){var _=this;return(0,O.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var C=this;return(0,O.Z)(function*(){const M=_?(0,G.m9)(_):null;return M&&te(M.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(M&&M._clone(C))})()}_updateCurrentUser(_){var C=this;return(0,O.Z)(function*(){if(!C._deleted)return _&&te(C.tenantId===_.tenantId,C,"tenant-id-mismatch"),C.queue((0,O.Z)(function*(){yield C.directlySetCurrentUser(_),C.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,O.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var C=this;return this.queue((0,O.Z)(function*(){yield C.assertedPersistence.setPersistence(dt(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new G.LL("auth","Firebase",_())}onAuthStateChanged(_,C,M){return this.registerStateListener(this.authStateSubscription,_,C,M)}onIdTokenChanged(_,C,M){return this.registerStateListener(this.idTokenSubscription,_,C,M)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,C){var M=this;return(0,O.Z)(function*(){const W=yield M.getOrInitRedirectPersistenceManager(C);return null===_?W.removeCurrentUser():W.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var C=this;return(0,O.Z)(function*(){if(!C.redirectPersistenceManager){const M=_&&dt(_)||C._popupRedirectResolver;te(M,C,"argument-error"),C.redirectPersistenceManager=yield Pn.create(C,[dt(M._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(_){var C=this;return(0,O.Z)(function*(){var M,W;return C._isInitialized&&(yield C.queue((0,O.Z)(function*(){}))),(null===(M=C._currentUser)||void 0===M?void 0:M._redirectEventId)===_?C._currentUser:(null===(W=C.redirectUser)||void 0===W?void 0:W._redirectEventId)===_?C.redirectUser:null})()}_persistUserIfCurrent(_){var C=this;return(0,O.Z)(function*(){if(_===C.currentUser)return C.queue((0,O.Z)(function*(){return C.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const M=null!==(C=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==M&&(this.lastNotifiedUid=M,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,C,M,W){if(this._deleted)return()=>{};const se="function"==typeof C?C:C.next.bind(C),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return te(ze,this,"internal-error"),ze.then(()=>se(this.currentUser)),"function"==typeof C?_.addObserver(C,M,W):_.addObserver(C)}directlySetCurrentUser(_){var C=this;return(0,O.Z)(function*(){C.currentUser&&C.currentUser!==_&&(C._currentUser._stopProactiveRefresh(),_&&C.isProactiveRefreshEnabled&&_._startProactiveRefresh()),C.currentUser=_,_?yield C.assertedPersistence.setCurrentUser(_):yield C.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=Bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,O.Z)(function*(){var C;const M={"X-Client-Version":_.clientVersion};_.app.options.appId&&(M["X-Firebase-gmpid"]=_.app.options.appId);const W=yield null===(C=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return W&&(M["X-Firebase-Client"]=W),M})()}}class zt{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,G.ne)(C=>this.observer=C)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Wo(w){return`__${w}${Math.floor(1e6*Math.random())}`})("rcb"),new Ln(3e4,6e4),new Ln(2e3,1e4),new Ln(3e4,6e4),new Ln(5e3,15e3);var gp="@firebase/auth",Kd="0.19.10";class ol{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var C=this;return(0,O.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const C=this.auth.onIdTokenChanged(M=>{var W;_((null===(W=M)||void 0===W?void 0:W.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,C),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const C=this.internalListeners.get(_);!C||(this.internalListeners.delete(_),C(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function Yd(w){(0,q.Xd)(new K.wA("auth",(_,{options:C})=>{const M=_.getProvider("app").getImmediate(),W=_.getProvider("heartbeat"),{apiKey:se,authDomain:ze}=M.options;return((vt,Rt)=>{te(se&&!se.includes(":"),"invalid-api-key",{appName:vt.name}),te(!(null==ze?void 0:ze.includes(":")),"argument-error",{appName:vt.name});const Rn={apiKey:se,authDomain:ze,clientPlatform:w,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Bt(w)},Vn=new Zt(vt,Rt,Rn);return function un(w,_){const C=(null==_?void 0:_.persistence)||[],M=(Array.isArray(C)?C:[C]).map(dt);(null==_?void 0:_.errorMap)&&w._updateErrorMap(_.errorMap),w._initializeWithPersistence(M,null==_?void 0:_.popupRedirectResolver)}(Vn,C),Vn})(M,W)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,C,M)=>{_.getProvider("auth-internal").initialize()})),(0,q.Xd)(new K.wA("auth-internal",_=>{const C=function vn(w){return(0,G.m9)(w)}(_.getProvider("auth").getImmediate());return new ol(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,q.KN)(gp,Kd,function xi(w){switch(w){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(w)),(0,q.KN)(gp,Kd,"esm2017")}("Browser");class sl{constructor(){return(0,t.vb)("auth")}}const Cp=new Map,ho={activated:!1,tokenObservers:[]},Cg={initialized:!1,enabled:!1};function Ao(w){return Cp.get(w)||ho}function ji(w,_){Cp.set(w,_)}function Oi(){return Cg}class uu{constructor(_,C,M,W,se){if(this.operation=_,this.retryPolicy=C,this.getWaitDuration=M,this.lowerBound=W,this.upperBound=se,this.pending=null,this.nextErrorWaitInterval=W,W>se)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(_){var C=this;return(0,O.Z)(function*(){C.stop();try{C.pending=new G.BH,yield function oh(w){return new Promise(_=>{setTimeout(_,w)})}(C.getNextRun(_)),C.pending.resolve(),yield C.pending.promise,C.pending=new G.BH,yield C.operation(),C.pending.resolve(),yield C.pending.promise,C.process(!0).catch(()=>{})}catch(M){C.retryPolicy(M)?C.process(!1).catch(()=>{}):C.stop()}})()}getNextRun(_){if(_)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const C=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),C}}}const ls=new G.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Aa(w){if(!Ao(w).activated)throw ls.create("use-before-activation",{appName:w.name})}function rc(w,_){return Mo.apply(this,arguments)}function Mo(){return(Mo=(0,O.Z)(function*({url:w,body:_},C){const M={"Content-Type":"application/json"},W=C.getImmediate({optional:!0});if(W){const br=yield W.getHeartbeatsHeader();br&&(M["X-Firebase-Client"]=br)}const se={method:"POST",body:JSON.stringify(_),headers:M};let ze,vt;try{ze=yield fetch(w,se)}catch(br){throw ls.create("fetch-network-error",{originalErrorMessage:br.message})}if(200!==ze.status)throw ls.create("fetch-status-error",{httpStatus:ze.status});try{vt=yield ze.json()}catch(br){throw ls.create("fetch-parse-error",{originalErrorMessage:br.message})}const Rt=vt.ttl.match(/^([\d.]+)(s)$/);if(!Rt||!Rt[2]||isNaN(Number(Rt[1])))throw ls.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${vt.ttl}`});const Rn=1e3*Number(Rt[1]),Vn=Date.now();return{token:vt.attestationToken,expireTimeMillis:Vn+Rn,issuedAtTimeMillis:Vn}})).apply(this,arguments)}function du(w,_){const{projectId:C,appId:M,apiKey:W}=w.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${C}/apps/${M}:exchangeDebugToken?key=${W}`,body:{debug_token:_}}}const fu="firebase-app-check-store";let dl=null;function pu(){return dl||(dl=new Promise((w,_)=>{try{const C=indexedDB.open("firebase-app-check-database",1);C.onsuccess=M=>{w(M.target.result)},C.onerror=M=>{var W;_(ls.create("storage-open",{originalErrorMessage:null===(W=M.target.error)||void 0===W?void 0:W.message}))},C.onupgradeneeded=M=>{0===M.oldVersion&&M.target.result.createObjectStore(fu,{keyPath:"compositeKey"})}}catch(C){_(ls.create("storage-open",{originalErrorMessage:C.message}))}}),dl)}function od(){return(od=(0,O.Z)(function*(w,_){const M=(yield pu()).transaction(fu,"readwrite"),se=M.objectStore(fu).put({compositeKey:w,value:_});return new Promise((ze,vt)=>{se.onsuccess=Rt=>{ze()},M.onerror=Rt=>{var Rn;vt(ls.create("storage-set",{originalErrorMessage:null===(Rn=Rt.target.error)||void 0===Rn?void 0:Rn.message}))}})})).apply(this,arguments)}const Ia=new J.Yd("@firebase/app-check");function gf(w,_){return(0,G.hl)()?function gu(w,_){return function ff(w,_){return od.apply(this,arguments)}(function Bs(w){return`${w.options.appId}-${w.name}`}(w),_)}(w,_).catch(C=>{Ia.warn(`Failed to write token to IndexedDB. Error: ${C}`)}):Promise.resolve()}function _f(){return Oi().enabled}function sd(){return ah.apply(this,arguments)}function ah(){return(ah=(0,O.Z)(function*(){const w=Oi();if(w.enabled&&w.token)return w.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Pi={error:"UNKNOWN_ERROR"};function Yo(w){return G.US.encodeString(JSON.stringify(w),!1)}function ic(w){return ch.apply(this,arguments)}function ch(){return(ch=(0,O.Z)(function*(w,_=!1){const C=w.app;Aa(C);const M=Ao(C);let se,W=M.token;if(!W){const Rt=yield M.cachedTokenPromise;Rt&&oa(Rt)&&(W=Rt)}if(!_&&W&&oa(W))return{token:W.token};let vt,ze=!1;if(_f()){M.exchangeTokenPromise||(M.exchangeTokenPromise=rc(du(C,yield sd()),w.heartbeatServiceProvider).then(Rn=>(M.exchangeTokenPromise=void 0,Rn)),ze=!0);const Rt=yield M.exchangeTokenPromise;return yield gf(C,Rt),ji(C,Object.assign(Object.assign({},M),{token:Rt})),{token:Rt.token}}try{M.exchangeTokenPromise||(M.exchangeTokenPromise=M.provider.getToken().then(Rt=>(M.exchangeTokenPromise=void 0,Rt)),ze=!0),W=yield M.exchangeTokenPromise}catch(Rt){"appCheck/throttled"===Rt.code?Ia.warn(Rt.message):Ia.error(Rt),se=Rt}return W?(vt={token:W.token},ji(C,Object.assign(Object.assign({},M),{token:W})),yield gf(C,W)):vt=vf(se),ze&&oc(C,vt),vt})).apply(this,arguments)}function yf(w,_){const C=Ao(w),M=C.tokenObservers.filter(W=>W.next!==_);0===M.length&&C.tokenRefresher&&C.tokenRefresher.isRunning()&&C.tokenRefresher.stop(),ji(w,Object.assign(Object.assign({},C),{tokenObservers:M}))}function uh(w){const{app:_}=w,C=Ao(_);let M=C.tokenRefresher;M||(M=function dh(w){const{app:_}=w;return new uu((0,O.Z)(function*(){let M;if(M=Ao(_).token?yield ic(w,!0):yield ic(w),M.error)throw M.error}),()=>!0,()=>{const C=Ao(_);if(C.token){let M=C.token.issuedAtTimeMillis+.5*(C.token.expireTimeMillis-C.token.issuedAtTimeMillis)+3e5;return M=Math.min(M,C.token.expireTimeMillis-3e5),Math.max(0,M-Date.now())}return 0},3e4,96e4)}(w),ji(_,Object.assign(Object.assign({},C),{tokenRefresher:M}))),!M.isRunning()&&C.isTokenAutoRefreshEnabled&&M.start()}function oc(w,_){const C=Ao(w).tokenObservers;for(const M of C)try{"EXTERNAL"===M.type&&null!=_.error?M.error(_.error):M.next(_)}catch(W){}}function oa(w){return w.expireTimeMillis-Date.now()>0}function vf(w){return{token:Yo(Pi),error:w}}class ad{constructor(_,C){this.app=_,this.heartbeatServiceProvider=C}_delete(){const{tokenObservers:_}=Ao(this.app);for(const C of _)yf(this.app,C.next);return Promise.resolve()}}const Dp="app-check-internal";!function wf(){(0,q.Xd)(new K.wA("app-check",w=>function hl(w,_){return new ad(w,_)}(w.getProvider("app").getImmediate(),w.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((w,_,C)=>{w.getProvider(Dp).initialize()})),(0,q.Xd)(new K.wA(Dp,w=>function hr(w){return{getToken:_=>ic(w,_),addTokenListener:_=>function lh(w,_,C,M){const{app:W}=w,se=Ao(W),ze={next:C,error:M,type:_};if(ji(W,Object.assign(Object.assign({},se),{tokenObservers:[...se.tokenObservers,ze]})),se.token&&oa(se.token)){const vt=se.token;Promise.resolve().then(()=>{C({token:vt.token}),uh(w)}).catch(()=>{})}se.cachedTokenPromise.then(()=>uh(w))}(w,"INTERNAL",_),removeTokenListener:_=>yf(w.app,_)}}(w.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,q.KN)("@firebase/app-check","0.5.4")}();class Eu{constructor(){return(0,t.vb)("app-check")}}"undefined"!=typeof window&&window;var Ef=N(3209),gh=N(8306),Rc=N(4004),kc={includeMetadataChanges:!1};function Ig(w,_){return void 0===_&&(_={}),function Ag(w){return function Su(w,_){return void 0===_&&(_=kc),new gh.y(function(C){return{unsubscribe:(0,Ef.cf)(w,_,{next:C.next.bind(C),error:C.error.bind(C),complete:C.complete.bind(C)})}})}(w,{includeMetadataChanges:!0}).pipe((0,Rc.U)(function(_){return _.docs}))}(w).pipe((0,Rc.U)(function(C){return C.map(function(M){return function Ap(w,_){void 0===_&&(_={});var C=w.data();return!w.exists()||"object"!=typeof C||null===C||_.idField&&(C[_.idField]=w.id),C}(M,_)})}))}class Mp{constructor(_){return _}}const Op="firestore",ml=new T.OlP("angularfire2.firestore-instances");function J_(w){return(_,C)=>{const M=_.runOutsideAngular(()=>w(C));return new Mp(M)}}const Q_={provide:class Fc{constructor(){return(0,t.vb)(Op)}},deps:[[new T.FiY,ml]]},_l={provide:Mp,useFactory:function Y_(w,_){const C=(0,t.JM)(Op,w,_);return C&&new Mp(C)},deps:[[new T.FiY,ml],S.Ot]};let xu=(()=>{class w{constructor(){(0,R.KN)("angularfire",t.q4.full,"fst")}}return w.\u0275fac=function(C){return new(C||w)},w.\u0275mod=T.oAB({type:w}),w.\u0275inj=T.cJS({providers:[_l,Q_]}),w})();function Au(w,..._){return{ngModule:xu,providers:[{provide:ml,useFactory:J_(w),multi:!0,deps:[T.R0b,T.zs3,t.HU,S.z6,[new T.FiY,sl],[new T.FiY,Eu],..._]}]}}const pd=(0,t.u3)(Ig,!0),js=(0,t.u3)(Ef.ET,!0),yl=(0,t.u3)(Ef.hJ,!0),kp=(0,t.u3)(Ef.JU,!0),Of=(0,t.u3)(Ef.ad,!0)},5813:(tt,A,N)=>{"use strict";N.d(A,{q4:()=>jo,HU:()=>Xa,vb:()=>Ku,JM:()=>sp,u3:()=>bc});var t=N(7587),T=N(5867),S=N(5861),R=N(9681),O=N(2090),G=N(4859),q=N(1877);const X="@firebase/installations",J="0.5.6",ee=`w:${J}`,ve="FIS_v2",He=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ae(B){return B instanceof O.ZR&&B.code.includes("request-failed")}function Qe({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function Be(B){return{token:B.token,requestStatus:2,expiresIn:oe(B.expiresIn),creationTime:Date.now()}}function Re(B,U){return Te.apply(this,arguments)}function Te(){return(Te=(0,S.Z)(function*(B,U){const Ee=(yield U.json()).error;return He.create("request-failed",{requestName:B,serverCode:Ee.code,serverMessage:Ee.message,serverStatus:Ee.status})})).apply(this,arguments)}function qe({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Ue(B,{refreshToken:U}){const re=qe(B);return re.append("Authorization",function te(B){return`${ve} ${B}`}(U)),re}function lt(B){return ue.apply(this,arguments)}function ue(){return(ue=(0,S.Z)(function*(B){const U=yield B();return U.status>=500&&U.status<600?B():U})).apply(this,arguments)}function oe(B){return Number(B.replace("s","000"))}function me(B,U){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,S.Z)(function*({appConfig:B,heartbeatServiceProvider:U},{fid:re}){const Ee=Qe(B),We=qe(B),it=U.getImmediate({optional:!0});if(it){const In=yield it.getHeartbeatsHeader();In&&We.append("x-firebase-client",In)}const bn={method:"POST",headers:We,body:JSON.stringify({fid:re,authVersion:ve,appId:B.appId,sdkVersion:ee})},er=yield lt(()=>fetch(Ee,bn));if(er.ok){const In=yield er.json();return{fid:In.fid||re,registrationStatus:2,refreshToken:In.refreshToken,authToken:Be(In.authToken)}}throw yield Re("Create Installation",er)})).apply(this,arguments)}function le(B){return new Promise(U=>{setTimeout(U,B)})}const bt=/^[cdef][\w-]{21}$/;function xt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const re=function Et(B){return function dt(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return bt.test(re)?re:""}catch(B){return""}}function Mt(B){return`${B.appName}!${B.appId}`}const nn=new Map;function rr(B,U){const re=Mt(B);ur(re,U),function tr(B,U){const re=function Un(){return!ti&&"BroadcastChannel"in self&&(ti=new BroadcastChannel("[Firebase] FID Change"),ti.onmessage=B=>{ur(B.data.key,B.data.fid)}),ti}();re&&re.postMessage({key:B,fid:U}),function kr(){0===nn.size&&ti&&(ti.close(),ti=null)}()}(re,U)}function ur(B,U){const re=nn.get(B);if(re)for(const Ee of re)Ee(U)}let ti=null;const Yr="firebase-installations-store";let pi=null;function Wi(){return pi||(pi=(0,O.X3)("firebase-installations-database",1,(B,U)=>{0===U&&B.createObjectStore(Yr)})),pi}function Qr(B,U){return zi.apply(this,arguments)}function zi(){return(zi=(0,S.Z)(function*(B,U){const re=Mt(B),We=(yield Wi()).transaction(Yr,"readwrite"),it=We.objectStore(Yr),kt=yield it.get(re);return yield it.put(U,re),yield We.complete,(!kt||kt.fid!==U.fid)&&rr(B,U.fid),U})).apply(this,arguments)}function Fr(B){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,S.Z)(function*(B){const U=Mt(B),Ee=(yield Wi()).transaction(Yr,"readwrite");yield Ee.objectStore(Yr).delete(U),yield Ee.complete})).apply(this,arguments)}function Pe(B,U){return ke.apply(this,arguments)}function ke(){return(ke=(0,S.Z)(function*(B,U){const re=Mt(B),We=(yield Wi()).transaction(Yr,"readwrite"),it=We.objectStore(Yr),kt=yield it.get(re),bn=U(kt);return void 0===bn?yield it.delete(re):yield it.put(bn,re),yield We.complete,bn&&(!kt||kt.fid!==bn.fid)&&rr(B,bn.fid),bn})).apply(this,arguments)}function st(B){return et.apply(this,arguments)}function et(){return(et=(0,S.Z)(function*(B){let U;const re=yield Pe(B.appConfig,Ee=>{const We=ct(Ee),it=Ot(B,We);return U=it.registrationPromise,it.installationEntry});return""===re.fid?{installationEntry:yield U}:{installationEntry:re,registrationPromise:U}})).apply(this,arguments)}function ct(B){return Tn(B||{fid:xt(),registrationStatus:0})}function Ot(B,U){if(0===U.registrationStatus){if(!navigator.onLine)return{installationEntry:U,registrationPromise:Promise.reject(He.create("app-offline"))};const re={fid:U.fid,registrationStatus:1,registrationTime:Date.now()},Ee=function Lt(B,U){return gt.apply(this,arguments)}(B,re);return{installationEntry:re,registrationPromise:Ee}}return 1===U.registrationStatus?{installationEntry:U,registrationPromise:St(B)}:{installationEntry:U}}function gt(){return(gt=(0,S.Z)(function*(B,U){try{const re=yield me(B,U);return Qr(B.appConfig,re)}catch(re){throw Ae(re)&&409===re.customData.serverCode?yield Fr(B.appConfig):yield Qr(B.appConfig,{fid:U.fid,registrationStatus:0}),re}})).apply(this,arguments)}function St(B){return pn.apply(this,arguments)}function pn(){return(pn=(0,S.Z)(function*(B){let U=yield Qt(B.appConfig);for(;1===U.registrationStatus;)yield le(100),U=yield Qt(B.appConfig);if(0===U.registrationStatus){const{installationEntry:re,registrationPromise:Ee}=yield st(B);return Ee||re}return U})).apply(this,arguments)}function Qt(B){return Pe(B,U=>{if(!U)throw He.create("installation-not-found");return Tn(U)})}function Tn(B){return function xn(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function _n(B,U){return Yn.apply(this,arguments)}function Yn(){return(Yn=(0,S.Z)(function*({appConfig:B,heartbeatServiceProvider:U},re){const Ee=Sn(B,re),We=Ue(B,re),it=U.getImmediate({optional:!0});if(it){const In=yield it.getHeartbeatsHeader();In&&We.append("x-firebase-client",In)}const bn={method:"POST",headers:We,body:JSON.stringify({installation:{sdkVersion:ee,appId:B.appId}})},er=yield lt(()=>fetch(Ee,bn));if(er.ok)return Be(yield er.json());throw yield Re("Generate Auth Token",er)})).apply(this,arguments)}function Sn(B,{fid:U}){return`${Qe(B)}/${U}/authTokens:generate`}function Bn(B){return En.apply(this,arguments)}function En(){return(En=(0,S.Z)(function*(B,U=!1){let re;const Ee=yield Pe(B.appConfig,it=>{if(!dn(it))throw He.create("not-registered");const kt=it.authToken;if(!U&&we(kt))return it;if(1===kt.requestStatus)return re=Ct(B,U),it;{if(!navigator.onLine)throw He.create("app-offline");const bn=fe(it);return re=$t(B,bn),bn}});return re?yield re:Ee.authToken})).apply(this,arguments)}function Ct(B,U){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,S.Z)(function*(B,U){let re=yield Tt(B.appConfig);for(;1===re.authToken.requestStatus;)yield le(100),re=yield Tt(B.appConfig);const Ee=re.authToken;return 0===Ee.requestStatus?Bn(B,U):Ee})).apply(this,arguments)}function Tt(B){return Pe(B,U=>{if(!dn(U))throw He.create("not-registered");return function Ge(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(U.authToken)?Object.assign(Object.assign({},U),{authToken:{requestStatus:0}}):U})}function $t(B,U){return yn.apply(this,arguments)}function yn(){return(yn=(0,S.Z)(function*(B,U){try{const re=yield _n(B,U),Ee=Object.assign(Object.assign({},U),{authToken:re});return yield Qr(B.appConfig,Ee),re}catch(re){if(!Ae(re)||401!==re.customData.serverCode&&404!==re.customData.serverCode){const Ee=Object.assign(Object.assign({},U),{authToken:{requestStatus:0}});yield Qr(B.appConfig,Ee)}else yield Fr(B.appConfig);throw re}})).apply(this,arguments)}function dn(B){return void 0!==B&&2===B.registrationStatus}function we(B){return 2===B.requestStatus&&!function he(B){const U=Date.now();return U<B.creationTime||B.creationTime+B.expiresIn<U+36e5}(B)}function fe(B){const U={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:U})}function Pt(){return(Pt=(0,S.Z)(function*(B){const U=B,{installationEntry:re,registrationPromise:Ee}=yield st(U);return Ee?Ee.catch(console.error):Bn(U).catch(console.error),re.fid})).apply(this,arguments)}function Pn(){return(Pn=(0,S.Z)(function*(B,U=!1){const re=B;return yield Jn(re),(yield Bn(re,U)).token})).apply(this,arguments)}function Jn(B){return sr.apply(this,arguments)}function sr(){return(sr=(0,S.Z)(function*(B){const{registrationPromise:U}=yield st(B);U&&(yield U)})).apply(this,arguments)}function Ar(B){return He.create("missing-app-config-values",{valueName:B})}const Ft="installations",ft=B=>{const U=B.getProvider("app").getImmediate(),re=function Dn(B){if(!B||!B.options)throw Ar("App Configuration");if(!B.name)throw Ar("App Name");const U=["projectId","apiKey","appId"];for(const re of U)if(!B.options[re])throw Ar(re);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(U);return{app:U,appConfig:re,heartbeatServiceProvider:(0,R.qX)(U,"heartbeat"),_delete:()=>Promise.resolve()}},Bt=B=>{const U=B.getProvider("app").getImmediate(),re=(0,R.qX)(U,Ft).getImmediate();return{getId:()=>function Ne(B){return Pt.apply(this,arguments)}(re),getToken:We=>function gn(B){return Pn.apply(this,arguments)}(re,We)}};(function Zt(){(0,R.Xd)(new G.wA(Ft,ft,"PUBLIC")),(0,R.Xd)(new G.wA("installations-internal",Bt,"PRIVATE"))})(),(0,R.KN)(X,J),(0,R.KN)(X,J,"esm2017");const vn="@firebase/remote-config",hn=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ai{constructor(U,re,Ee,We){this.client=U,this.storage=re,this.storageCache=Ee,this.logger=We}isCachedDataFresh(U,re){if(!re)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ee=Date.now()-re,We=Ee<=U;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ee}. Cache max age millis (minimumFetchIntervalMillis setting): ${U}. Is cache hit: ${We}.`),We}fetch(U){var re=this;return(0,S.Z)(function*(){const[Ee,We]=yield Promise.all([re.storage.getLastSuccessfulFetchTimestampMillis(),re.storage.getLastSuccessfulFetchResponse()]);if(We&&re.isCachedDataFresh(U.cacheMaxAgeMillis,Ee))return We;U.eTag=We&&We.eTag;const it=yield re.client.fetch(U),kt=[re.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===it.status&&kt.push(re.storage.setLastSuccessfulFetchResponse(it)),yield Promise.all(kt),it})()}}function Xr(B=navigator){return B.languages&&B.languages[0]||B.language}class ns{constructor(U,re,Ee,We,it,kt){this.firebaseInstallations=U,this.sdkVersion=re,this.namespace=Ee,this.projectId=We,this.apiKey=it,this.appId=kt}fetch(U){var re=this;return(0,S.Z)(function*(){const[Ee,We]=yield Promise.all([re.firebaseInstallations.getId(),re.firebaseInstallations.getToken()]),kt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${re.projectId}/namespaces/${re.namespace}:fetch?key=${re.apiKey}`,bn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":U.eTag||"*"},er={sdk_version:re.sdkVersion,app_instance_id:Ee,app_instance_id_token:We,app_id:re.appId,language_code:Xr()},In={method:"POST",headers:bn,body:JSON.stringify(er)},Sr=fetch(kt,In),qn=new Promise((So,ui)=>{U.signal.addEventListener(()=>{const wc=new Error("The operation was aborted.");wc.name="AbortError",ui(wc)})});let vr;try{yield Promise.race([Sr,qn]),vr=yield Sr}catch(So){let ui="fetch-client-network";throw"AbortError"===So.name&&(ui="fetch-timeout"),hn.create(ui,{originalErrorMessage:So.message})}let bi=vr.status;const Cc=vr.headers.get("ETag")||void 0;let ra,lo;if(200===vr.status){let So;try{So=yield vr.json()}catch(ui){throw hn.create("fetch-client-parse",{originalErrorMessage:ui.message})}ra=So.entries,lo=So.state}if("INSTANCE_STATE_UNSPECIFIED"===lo?bi=500:"NO_CHANGE"===lo?bi=304:("NO_TEMPLATE"===lo||"EMPTY_CONFIG"===lo)&&(ra={}),304!==bi&&200!==bi)throw hn.create("fetch-status",{httpStatus:bi});return{status:bi,eTag:Cc,config:ra}})()}}class ha{constructor(U,re){this.client=U,this.storage=re}fetch(U){var re=this;return(0,S.Z)(function*(){const Ee=(yield re.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return re.attemptFetch(U,Ee)})()}attemptFetch(U,{throttleEndTimeMillis:re,backoffCount:Ee}){var We=this;return(0,S.Z)(function*(){yield function _i(B,U){return new Promise((re,Ee)=>{const We=Math.max(U-Date.now(),0),it=setTimeout(re,We);B.addEventListener(()=>{clearTimeout(it),Ee(hn.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}(U.signal,re);try{const it=yield We.client.fetch(U);return yield We.storage.deleteThrottleMetadata(),it}catch(it){if(!function ki(B){if(!(B instanceof O.ZR&&B.customData))return!1;const U=Number(B.customData.httpStatus);return 429===U||500===U||503===U||504===U}(it))throw it;const kt={throttleEndTimeMillis:Date.now()+(0,O.$s)(Ee),backoffCount:Ee+1};return yield We.storage.setThrottleMetadata(kt),We.attemptFetch(U,kt)}})()}}class xs{constructor(U,re,Ee,We,it){this.app=U,this._client=re,this._storageCache=Ee,this._storage=We,this._logger=it,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ei(B,U){const re=B.target.error||void 0;return hn.create(U,{originalErrorMessage:re&&re.message})}const As="app_namespace_store";class rs{constructor(U,re,Ee,We=function zs(){return new Promise((B,U)=>{try{const re=indexedDB.open("firebase_remote_config",1);re.onerror=Ee=>{U(Ei(Ee,"storage-open"))},re.onsuccess=Ee=>{B(Ee.target.result)},re.onupgradeneeded=Ee=>{0===Ee.oldVersion&&Ee.target.result.createObjectStore(As,{keyPath:"compositeKey"})}}catch(re){U(hn.create("storage-open",{originalErrorMessage:re}))}})}()){this.appId=U,this.appName=re,this.namespace=Ee,this.openDbPromise=We}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(U){return this.set("last_fetch_status",U)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(U){return this.set("last_successful_fetch_timestamp_millis",U)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(U){return this.set("last_successful_fetch_response",U)}getActiveConfig(){return this.get("active_config")}setActiveConfig(U){return this.set("active_config",U)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(U){return this.set("active_config_etag",U)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(U){return this.set("throttle_metadata",U)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(U){var re=this;return(0,S.Z)(function*(){const Ee=yield re.openDbPromise;return new Promise((We,it)=>{const bn=Ee.transaction([As],"readonly").objectStore(As),er=re.createCompositeKey(U);try{const In=bn.get(er);In.onerror=Sr=>{it(Ei(Sr,"storage-get"))},In.onsuccess=Sr=>{const qn=Sr.target.result;We(qn?qn.value:void 0)}}catch(In){it(hn.create("storage-get",{originalErrorMessage:In&&In.message}))}})})()}set(U,re){var Ee=this;return(0,S.Z)(function*(){const We=yield Ee.openDbPromise;return new Promise((it,kt)=>{const er=We.transaction([As],"readwrite").objectStore(As),In=Ee.createCompositeKey(U);try{const Sr=er.put({compositeKey:In,value:re});Sr.onerror=qn=>{kt(Ei(qn,"storage-set"))},Sr.onsuccess=()=>{it()}}catch(Sr){kt(hn.create("storage-set",{originalErrorMessage:Sr&&Sr.message}))}})})()}delete(U){var re=this;return(0,S.Z)(function*(){const Ee=yield re.openDbPromise;return new Promise((We,it)=>{const bn=Ee.transaction([As],"readwrite").objectStore(As),er=re.createCompositeKey(U);try{const In=bn.delete(er);In.onerror=Sr=>{it(Ei(Sr,"storage-delete"))},In.onsuccess=()=>{We()}}catch(In){it(hn.create("storage-delete",{originalErrorMessage:In&&In.message}))}})})()}createCompositeKey(U){return[this.appId,this.appName,this.namespace,U].join()}}class is{constructor(U){this.storage=U}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var U=this;return(0,S.Z)(function*(){const re=U.storage.getLastFetchStatus(),Ee=U.storage.getLastSuccessfulFetchTimestampMillis(),We=U.storage.getActiveConfig(),it=yield re;it&&(U.lastFetchStatus=it);const kt=yield Ee;kt&&(U.lastSuccessfulFetchTimestampMillis=kt);const bn=yield We;bn&&(U.activeConfig=bn)})()}setLastFetchStatus(U){return this.lastFetchStatus=U,this.storage.setLastFetchStatus(U)}setLastSuccessfulFetchTimestampMillis(U){return this.lastSuccessfulFetchTimestampMillis=U,this.storage.setLastSuccessfulFetchTimestampMillis(U)}setActiveConfig(U){return this.activeConfig=U,this.storage.setActiveConfig(U)}}function ae(){return _e.apply(this,arguments)}function _e(){return(_e=(0,S.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(B){return!1}})).apply(this,arguments)}!function Fo(){(0,R.Xd)(new G.wA("remote-config",function B(U,{instanceIdentifier:re}){const Ee=U.getProvider("app").getImmediate(),We=U.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw hn.create("registration-window");if(!(0,O.hl)())throw hn.create("indexed-db-unavailable");const{projectId:it,apiKey:kt,appId:bn}=Ee.options;if(!it)throw hn.create("registration-project-id");if(!kt)throw hn.create("registration-api-key");if(!bn)throw hn.create("registration-app-id");const er=new rs(bn,Ee.name,re=re||"firebase"),In=new is(er),Sr=new q.Yd(vn);Sr.logLevel=q.in.ERROR;const qn=new ns(We,R.Jn,re,it,kt,bn),vr=new ha(qn,er),bi=new Ai(vr,er,In,Sr),Cc=new xs(Ee,bi,In,er,Sr);return function mr(B){const U=(0,O.m9)(B);U._initializePromise||(U._initializePromise=U._storageCache.loadFromStorage().then(()=>{U._isInitializationComplete=!0}))}(Cc),Cc},"PUBLIC").setMultipleInstances(!0)),(0,R.KN)(vn,"0.3.5"),(0,R.KN)(vn,"0.3.5","esm2017")}();const ie="/firebase-messaging-sw.js",P="/firebase-cloud-messaging-push-scope",j="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Z="google.c.a.c_id",ce="google.c.a.c_l",ge="google.c.a.ts",de="google.c.a.e";var je=(()=>{return(B=je||(je={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",je;var B})();function z(B){const U=new Uint8Array(B);return btoa(String.fromCharCode(...U)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ce(B){const re=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ee=atob(re),We=new Uint8Array(Ee.length);for(let it=0;it<Ee.length;++it)We[it]=Ee.charCodeAt(it);return We}const xe="fcm_token_details_db",Vt="fcm_token_object_Store";function tn(B){return Yt.apply(this,arguments)}function Yt(){return Yt=(0,S.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(it=>it.name).includes(xe))return null;let U=null;return(yield(0,O.X3)(xe,5,function(){var Ee=(0,S.Z)(function*(We,it,kt,bn){var er;if(it<2||!We.objectStoreNames.contains(Vt))return;const In=bn.objectStore(Vt),Sr=yield In.index("fcmSenderId").get(B);if(yield In.clear(),Sr)if(2===it){const qn=Sr;if(!qn.auth||!qn.p256dh||!qn.endpoint)return;U={token:qn.fcmToken,createTime:null!==(er=qn.createTime)&&void 0!==er?er:Date.now(),subscriptionOptions:{auth:qn.auth,p256dh:qn.p256dh,endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:"string"==typeof qn.vapidKey?qn.vapidKey:z(qn.vapidKey)}}}else if(3===it){const qn=Sr;U={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:z(qn.auth),p256dh:z(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:z(qn.vapidKey)}}}else if(4===it){const qn=Sr;U={token:qn.fcmToken,createTime:qn.createTime,subscriptionOptions:{auth:z(qn.auth),p256dh:z(qn.p256dh),endpoint:qn.endpoint,swScope:qn.swScope,vapidKey:z(qn.vapidKey)}}}});return function(We,it,kt,bn){return Ee.apply(this,arguments)}}())).close(),yield(0,O.Lj)(xe),yield(0,O.Lj)("fcm_vapid_details_db"),yield(0,O.Lj)("undefined"),sn(U)?U:null}),Yt.apply(this,arguments)}function sn(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:U}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof U.auth&&U.auth.length>0&&"string"==typeof U.p256dh&&U.p256dh.length>0&&"string"==typeof U.endpoint&&U.endpoint.length>0&&"string"==typeof U.swScope&&U.swScope.length>0&&"string"==typeof U.vapidKey&&U.vapidKey.length>0}const Ir="firebase-messaging-store";let Yi=null;function Ms(){return Yi||(Yi=(0,O.X3)("firebase-messaging-database",1,(B,U)=>{0===U&&B.createObjectStore(Ir)})),Yi}function Lo(B){return Va.apply(this,arguments)}function Va(){return(Va=(0,S.Z)(function*(B){const U=Kc(B),Ee=yield(yield Ms()).transaction(Ir).objectStore(Ir).get(U);if(Ee)return Ee;{const We=yield tn(B.appConfig.senderId);if(We)return yield Ga(B,We),We}})).apply(this,arguments)}function Ga(B,U){return ms.apply(this,arguments)}function ms(){return(ms=(0,S.Z)(function*(B,U){const re=Kc(B),We=(yield Ms()).transaction(Ir,"readwrite");return yield We.objectStore(Ir).put(U,re),yield We.complete,U})).apply(this,arguments)}function hc(B){return jr.apply(this,arguments)}function jr(){return(jr=(0,S.Z)(function*(B){const U=Kc(B),Ee=(yield Ms()).transaction(Ir,"readwrite");yield Ee.objectStore(Ir).delete(U),yield Ee.complete})).apply(this,arguments)}function Kc({appConfig:B}){return B.appId}const pr=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Pd(B,U){return fc.apply(this,arguments)}function fc(){return(fc=(0,S.Z)(function*(B,U){const re=yield Si(B),Ee=$a(U),We={method:"POST",headers:re,body:JSON.stringify(Ee)};let it;try{it=yield(yield fetch(Os(B.appConfig),We)).json()}catch(kt){throw pr.create("token-subscribe-failed",{errorInfo:kt})}if(it.error)throw pr.create("token-subscribe-failed",{errorInfo:it.error.message});if(!it.token)throw pr.create("token-subscribe-no-token");return it.token})).apply(this,arguments)}function Ha(B,U){return Di.apply(this,arguments)}function Di(){return(Di=(0,S.Z)(function*(B,U){const re=yield Si(B),Ee=$a(U.subscriptionOptions),We={method:"PATCH",headers:re,body:JSON.stringify(Ee)};let it;try{it=yield(yield fetch(`${Os(B.appConfig)}/${U.token}`,We)).json()}catch(kt){throw pr.create("token-update-failed",{errorInfo:kt})}if(it.error)throw pr.create("token-update-failed",{errorInfo:it.error.message});if(!it.token)throw pr.create("token-update-no-token");return it.token})).apply(this,arguments)}function Yc(B,U){return fa.apply(this,arguments)}function fa(){return(fa=(0,S.Z)(function*(B,U){const Ee={method:"DELETE",headers:yield Si(B)};try{const it=yield(yield fetch(`${Os(B.appConfig)}/${U}`,Ee)).json();if(it.error)throw pr.create("token-unsubscribe-failed",{errorInfo:it.error.message})}catch(We){throw pr.create("token-unsubscribe-failed",{errorInfo:We})}})).apply(this,arguments)}function Os({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function Si(B){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,S.Z)(function*({appConfig:B,installations:U}){const re=yield U.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${re}`})})).apply(this,arguments)}function $a({p256dh:B,auth:U,endpoint:re,vapidKey:Ee}){const We={web:{endpoint:re,auth:U,p256dh:B}};return Ee!==j&&(We.web.applicationPubKey=Ee),We}const Bl=6048e5;function Bo(B){return Ks.apply(this,arguments)}function Ks(){return(Ks=(0,S.Z)(function*(B){const U=yield np(B.swRegistration,B.vapidKey),re={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:U.endpoint,auth:z(U.getKey("auth")),p256dh:z(U.getKey("p256dh"))},Ee=yield Lo(B.firebaseDependencies);if(Ee){if(Rd(Ee.subscriptionOptions,re))return Date.now()>=Ee.createTime+Bl?Nd(B,{token:Ee.token,createTime:Date.now(),subscriptionOptions:re}):Ee.token;try{yield Yc(B.firebaseDependencies,Ee.token)}catch(We){console.warn(We)}return Gu(B.firebaseDependencies,re)}return Gu(B.firebaseDependencies,re)})).apply(this,arguments)}function qa(B){return jn.apply(this,arguments)}function jn(){return(jn=(0,S.Z)(function*(B){const U=yield Lo(B.firebaseDependencies);U&&(yield Yc(B.firebaseDependencies,U.token),yield hc(B.firebaseDependencies));const re=yield B.swRegistration.pushManager.getSubscription();return!re||re.unsubscribe()})).apply(this,arguments)}function Nd(B,U){return pa.apply(this,arguments)}function pa(){return(pa=(0,S.Z)(function*(B,U){try{const re=yield Ha(B.firebaseDependencies,U),Ee=Object.assign(Object.assign({},U),{token:re,createTime:Date.now()});return yield Ga(B.firebaseDependencies,Ee),re}catch(re){throw yield qa(B),re}})).apply(this,arguments)}function Gu(B,U){return ii.apply(this,arguments)}function ii(){return(ii=(0,S.Z)(function*(B,U){const Ee={token:yield Pd(B,U),createTime:Date.now(),subscriptionOptions:U};return yield Ga(B,Ee),Ee.token})).apply(this,arguments)}function np(B,U){return Za.apply(this,arguments)}function Za(){return(Za=(0,S.Z)(function*(B,U){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ce(U)})})).apply(this,arguments)}function Rd(B,U){return U.vapidKey===B.vapidKey&&U.endpoint===B.endpoint&&U.auth===B.auth&&U.p256dh===B.p256dh}function At(B){const U={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function Tr(B,U){if(!U.notification)return;B.notification={};const re=U.notification.title;re&&(B.notification.title=re);const Ee=U.notification.body;Ee&&(B.notification.body=Ee);const We=U.notification.image;We&&(B.notification.image=We)}(U,B),function Ul(B,U){!U.data||(B.data=U.data)}(U,B),function Fi(B,U){if(!U.fcmOptions)return;B.fcmOptions={};const re=U.fcmOptions.link;re&&(B.fcmOptions.link=re);const Ee=U.fcmOptions.analytics_label;Ee&&(B.fcmOptions.analyticsLabel=Ee)}(U,B),U}function jl(B){return"object"==typeof B&&!!B&&Z in B}function ga(B,U){const re=[];for(let Ee=0;Ee<B.length;Ee++)re.push(B.charAt(Ee)),Ee<U.length&&re.push(U.charAt(Ee));return re.join("")}function Uo(B){return pr.create("missing-app-config-values",{valueName:B})}ga("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ga("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Hu{constructor(U,re,Ee){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const We=function Ys(B){if(!B||!B.options)throw Uo("App Configuration Object");if(!B.name)throw Uo("App Name");const U=["projectId","apiKey","appId","messagingSenderId"],{options:re}=B;for(const Ee of U)if(!re[Ee])throw Uo(Ee);return{appName:B.name,projectId:re.projectId,apiKey:re.apiKey,appId:re.appId,senderId:re.messagingSenderId}}(U);this.firebaseDependencies={app:U,appConfig:We,installations:re,analyticsProvider:Ee}}_delete(){return Promise.resolve()}}function ag(B){return pc.apply(this,arguments)}function pc(){return(pc=(0,S.Z)(function*(B){try{B.swRegistration=yield navigator.serviceWorker.register(ie,{scope:P}),B.swRegistration.update().catch(()=>{})}catch(U){throw pr.create("failed-service-worker-registration",{browserErrorMessage:U.message})}})).apply(this,arguments)}function Wa(B,U){return ma.apply(this,arguments)}function ma(){return(ma=(0,S.Z)(function*(B,U){if(!U&&!B.swRegistration&&(yield ag(B)),U||!B.swRegistration){if(!(U instanceof ServiceWorkerRegistration))throw pr.create("invalid-sw-registration");B.swRegistration=U}})).apply(this,arguments)}function Co(B,U){return wo.apply(this,arguments)}function wo(){return(wo=(0,S.Z)(function*(B,U){U?B.vapidKey=U:B.vapidKey||(B.vapidKey=j)})).apply(this,arguments)}function _s(){return(_s=(0,S.Z)(function*(B,U){if(!navigator)throw pr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw pr.create("permission-blocked");return yield Co(B,null==U?void 0:U.vapidKey),yield Wa(B,null==U?void 0:U.serviceWorkerRegistration),Bo(B)})).apply(this,arguments)}function Ps(B,U,re){return Jc.apply(this,arguments)}function Jc(){return(Jc=(0,S.Z)(function*(B,U,re){const Ee=Wh(U);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(Ee,{message_id:re[Z],message_name:re[ce],message_time:re[ge],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wh(B){switch(B){case je.NOTIFICATION_CLICKED:return"notification_open";case je.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function zh(){return(zh=(0,S.Z)(function*(B,U){const re=U.data;if(!re.isFirebaseMessaging)return;B.onMessageHandler&&re.messageType===je.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(At(re)):B.onMessageHandler.next(At(re)));const Ee=re.data;jl(Ee)&&"1"===Ee[de]&&(yield Ps(B,re.messageType,Ee))})).apply(this,arguments)}const Qc="@firebase/messaging",Fd=B=>{const U=new Hu(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",re=>function gc(B,U){return zh.apply(this,arguments)}(U,re)),U},Gl=B=>{const U=B.getProvider("messaging").getImmediate();return{getToken:Ee=>function kd(B,U){return _s.apply(this,arguments)}(U,Ee)}};function Ld(){return Js.apply(this,arguments)}function Js(){return(Js=(0,S.Z)(function*(){try{yield(0,O.eu)()}catch(B){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Hl(){(0,R.Xd)(new G.wA("messaging",Fd,"PUBLIC")),(0,R.Xd)(new G.wA("messaging-internal",Gl,"PRIVATE")),(0,R.KN)(Qc,"0.9.10"),(0,R.KN)(Qc,"0.9.10","esm2017")}();const Ns="analytics",oi="firebase_id",rp="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ud="https://www.googletagmanager.com/gtag/js",gi=new q.Yd("@firebase/analytics");function Zu(B){return Promise.all(B.map(U=>U.catch(re=>re)))}function Kh(B,U){const re=document.createElement("script");re.src=`${Ud}?l=${B}&id=${U}`,re.async=!0,document.head.appendChild(re)}function jd(B,U,re,Ee,We,it){return Zl.apply(this,arguments)}function Zl(){return(Zl=(0,S.Z)(function*(B,U,re,Ee,We,it){const kt=Ee[We];try{if(kt)yield U[kt];else{const er=(yield Zu(re)).find(In=>In.measurementId===We);er&&(yield U[er.appId])}}catch(bn){gi.error(bn)}B("config",We,it)})).apply(this,arguments)}function Li(B,U,re,Ee,We){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,S.Z)(function*(B,U,re,Ee,We){try{let it=[];if(We&&We.send_to){let kt=We.send_to;Array.isArray(kt)||(kt=[kt]);const bn=yield Zu(re);for(const er of kt){const In=bn.find(qn=>qn.measurementId===er),Sr=In&&U[In.appId];if(!Sr){it=[];break}it.push(Sr)}}0===it.length&&(it=Object.values(U)),yield Promise.all(it),B("event",Ee,We||{})}catch(it){gi.error(it)}})).apply(this,arguments)}function j_(){const B=window.document.getElementsByTagName("script");for(const U of Object.values(B))if(U.src&&U.src.includes(Ud))return U;return null}const Gn=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Wn=new class Nn{constructor(U={},re=1e3){this.throttleMetadata=U,this.intervalMillis=re}getThrottleMetadata(U){return this.throttleMetadata[U]}setThrottleMetadata(U,re){this.throttleMetadata[U]=re}deleteThrottleMetadata(U){delete this.throttleMetadata[U]}};function lg(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function qt(B){return ut.apply(this,arguments)}function ut(){return(ut=(0,S.Z)(function*(B){var U;const{appId:re,apiKey:Ee}=B,We={method:"GET",headers:lg(Ee)},it=rp.replace("{app-id}",re),kt=yield fetch(it,We);if(200!==kt.status&&304!==kt.status){let bn="";try{const er=yield kt.json();(null===(U=er.error)||void 0===U?void 0:U.message)&&(bn=er.error.message)}catch(er){}throw Gn.create("config-fetch-failed",{httpStatus:kt.status,responseMessage:bn})}return kt.json()})).apply(this,arguments)}function Dt(B){return qr.apply(this,arguments)}function qr(){return(qr=(0,S.Z)(function*(B,U=Wn,re){const{appId:Ee,apiKey:We,measurementId:it}=B.options;if(!Ee)throw Gn.create("no-app-id");if(!We){if(it)return{measurementId:it,appId:Ee};throw Gn.create("no-api-key")}const kt=U.getThrottleMetadata(Ee)||{backoffCount:0,throttleEndTimeMillis:Date.now()},bn=new Xs;return setTimeout((0,S.Z)(function*(){bn.abort()}),void 0!==re?re:6e4),ar({appId:Ee,apiKey:We,measurementId:it},kt,bn,U)})).apply(this,arguments)}function ar(B,U,re){return Qn.apply(this,arguments)}function Qn(){return(Qn=(0,S.Z)(function*(B,{throttleEndTimeMillis:U,backoffCount:re},Ee,We=Wn){const{appId:it,measurementId:kt}=B;try{yield mc(Ee,U)}catch(bn){if(kt)return gi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${bn.message}]`),{appId:it,measurementId:kt};throw bn}try{const bn=yield qt(B);return We.deleteThrottleMetadata(it),bn}catch(bn){if(!ug(bn)){if(We.deleteThrottleMetadata(it),kt)return gi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${kt} provided in the "measurementId" field in the local Firebase config. [${bn.message}]`),{appId:it,measurementId:kt};throw bn}const er=503===Number(bn.customData.httpStatus)?(0,O.$s)(re,We.intervalMillis,30):(0,O.$s)(re,We.intervalMillis),In={throttleEndTimeMillis:Date.now()+er,backoffCount:re+1};return We.setThrottleMetadata(it,In),gi.debug(`Calling attemptFetch again in ${er} millis`),ar(B,In,Ee,We)}})).apply(this,arguments)}function mc(B,U){return new Promise((re,Ee)=>{const We=Math.max(U-Date.now(),0),it=setTimeout(re,We);B.addEventListener(()=>{clearTimeout(it),Ee(Gn.create("fetch-throttle",{throttleEndTimeMillis:U}))})})}function ug(B){if(!(B instanceof O.ZR&&B.customData))return!1;const U=Number(B.customData.httpStatus);return 429===U||500===U||503===U||504===U}class Xs{constructor(){this.listeners=[]}addEventListener(U){this.listeners.push(U)}abort(){this.listeners.forEach(U=>U())}}function Vd(){return _c.apply(this,arguments)}function _c(){return(_c=(0,S.Z)(function*(){if(!(0,O.hl)())return gi.warn(Gn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(B){return gi.warn(Gn.create("indexeddb-unavailable",{errorInfo:B}).message),!1}return!0})).apply(this,arguments)}function ya(){return(ya=(0,S.Z)(function*(B,U,re,Ee,We,it,kt){var bn;const er=Dt(B);er.then(bi=>{re[bi.measurementId]=bi.appId,B.options.measurementId&&bi.measurementId!==B.options.measurementId&&gi.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${bi.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(bi=>gi.error(bi)),U.push(er);const In=Vd().then(bi=>{if(bi)return Ee.getId()}),[Sr,qn]=yield Promise.all([er,In]);j_()||Kh(it,Sr.measurementId),We("js",new Date);const vr=null!==(bn=null==kt?void 0:kt.config)&&void 0!==bn?bn:{};return vr.origin="firebase",vr.update=!0,null!=qn&&(vr[oi]=qn),We("config",Sr.measurementId,vr),Sr.measurementId})).apply(this,arguments)}class Zr{constructor(U){this.app=U}_delete(){return delete ea[this.app.options.appId],Promise.resolve()}}let ea={},ss=[];const Xn={};let Vr,Cn,ks="dataLayer",Wu=!1;function zl(B,U,re){!function va(){const B=[];if((0,O.ru)()&&B.push("This is a browser extension environment."),(0,O.zI)()||B.push("Cookies are not available."),B.length>0){const U=B.map((Ee,We)=>`(${We+1}) ${Ee}`).join(" "),re=Gn.create("invalid-analytics-context",{errorInfo:U});gi.warn(re.message)}}();const Ee=B.options.appId;if(!Ee)throw Gn.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw Gn.create("no-api-key");gi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ea[Ee])throw Gn.create("already-exists",{id:Ee});if(!Wu){!function Xc(B){let U=[];Array.isArray(window[B])?U=window[B]:window[B]=U}(ks);const{wrappedGtag:it,gtagCore:kt}=function _a(B,U,re,Ee,We){let it=function(...kt){window[Ee].push(arguments)};return window[We]&&"function"==typeof window[We]&&(it=window[We]),window[We]=function Zo(B,U,re,Ee){function it(){return(it=(0,S.Z)(function*(kt,bn,er){try{"event"===kt?yield Li(B,U,re,bn,er):"config"===kt?yield jd(B,U,re,Ee,bn,er):B("set",bn)}catch(In){gi.error(In)}})).apply(this,arguments)}return function We(kt,bn,er){return it.apply(this,arguments)}}(it,B,U,re),{gtagCore:it,wrappedGtag:window[We]}}(ea,ss,Xn,ks,"gtag");Cn=it,Vr=kt,Wu=!0}return ea[Ee]=function Jh(B,U,re,Ee,We,it,kt){return ya.apply(this,arguments)}(B,ss,Xn,U,Vr,ks,re),new Zr(B)}function Gd(){return(Gd=(0,S.Z)(function*(B,U,re,Ee,We){if(We&&We.global)B("event",re,Ee);else{const it=yield U;B("event",re,Object.assign(Object.assign({},Ee),{send_to:it}))}})).apply(this,arguments)}function zo(){return ba.apply(this,arguments)}function ba(){return(ba=(0,S.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(B){return!1}})).apply(this,arguments)}const Xl="@firebase/analytics";!function Ya(){(0,R.Xd)(new G.wA(Ns,(U,{options:re})=>zl(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),re),"PUBLIC")),(0,R.Xd)(new G.wA("analytics-internal",function B(U){try{const re=U.getProvider(Ns).getImmediate();return{logEvent:(Ee,We,it)=>function rn(B,U,re,Ee){B=(0,O.m9)(B),function Nr(B,U,re,Ee,We){return Gd.apply(this,arguments)}(Cn,ea[B.app.options.appId],U,re,Ee).catch(We=>gi.error(We))}(re,Ee,We,it)}}catch(re){throw Gn.create("interop-component-reg-failed",{reason:re})}},"PRIVATE")),(0,R.KN)(Xl,"0.7.6"),(0,R.KN)(Xl,"0.7.6","esm2017")}();var Fs=N(4408),wa=N(7565);const Ja=new class Qh extends wa.v{}(class el extends Fs.o{constructor(U,re){super(U,re),this.scheduler=U,this.work=re}schedule(U,re=0){return re>0?super.schedule(U,re):(this.delay=re,this.state=U,this.scheduler.flush(this),this)}execute(U,re){return re>0||this.closed?super.execute(U,re):this._execute(U,re)}requestAsyncId(U,re,Ee=0){return null!=Ee&&Ee>0||null==Ee&&this.delay>0?super.requestAsyncId(U,re,Ee):U.flush(this)}});var Bi=N(4986),To=N(8306),ei=N(8505),Hd=N(9468),Qa=N(5363);const jo=new t.GfV("7.2.1"),Ta="__angularfire_symbol__analyticsIsSupportedValue",Eo="__angularfire_symbol__analyticsIsSupported",Xi="__angularfire_symbol__remoteConfigIsSupportedValue",zu="__angularfire_symbol__remoteConfigIsSupported",Hr="__angularfire_symbol__messagingIsSupportedValue",ta="__angularfire_symbol__messagingIsSupported";function sp(B,U,re){if(U){if(1===U.length)return U[0];const it=U.filter(kt=>kt.app===re);if(1===it.length)return it[0]}return re.container.getProvider(B).getImmediate({optional:!0})}globalThis[Eo]||(globalThis[Eo]=zo().then(B=>globalThis[Ta]=B).catch(()=>globalThis[Ta]=!1)),globalThis[ta]||(globalThis[ta]=Ld().then(B=>globalThis[Hr]=B).catch(()=>globalThis[Hr]=!1)),globalThis[zu]||(globalThis[zu]=ae().then(B=>globalThis[Xi]=B).catch(()=>globalThis[Xi]=!1));const Ku=(B,U)=>{const re=U?[U]:(0,T.C6)(),Ee=[];return re.forEach(We=>{We.container.getProvider(B).instances.forEach(kt=>{Ee.includes(kt)||Ee.push(kt)})}),Ee};function Ii(){}class yc{constructor(U,re=Ja){this.zone=U,this.delegate=re}now(){return this.delegate.now()}schedule(U,re,Ee){const We=this.zone;return this.delegate.schedule(function(kt){We.runGuarded(()=>{U.apply(this,[kt])})},re,Ee)}}class tl{constructor(U){this.zone=U,this.task=null}call(U,re){const Ee=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)),re.pipe((0,ei.b)({next:Ee,complete:Ee,error:Ee})).subscribe(U).add(Ee)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Xa=(()=>{class B{constructor(re){this.ngZone=re,this.outsideAngular=re.runOutsideAngular(()=>new yc(Zone.current)),this.insideAngular=re.run(()=>new yc(Zone.current,Bi.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(re){return new(re||B)(t.LFG(t.R0b))},B.\u0275prov=t.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function vc(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function na(B){return vc().ngZone.runOutsideAngular(()=>B())}function Do(B){return vc().ngZone.run(()=>B())}function ap(B){return vc(),function Yu(B){return function(re){return(re=re.lift(new tl(B.ngZone))).pipe((0,Hd.R)(B.outsideAngular),(0,Qa.Q)(B.insideAngular))}}(vc())(B)}const ec=(B,U)=>function(){const Ee=arguments;return U&&setTimeout(()=>{"scheduled"===U.state&&U.invoke()},10),Do(()=>B.apply(void 0,Ee))},bc=(B,U)=>function(){let re;const Ee=arguments;for(let it=0;it<arguments.length;it++)"function"==typeof Ee[it]&&(U&&(re||(re=Do(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ii,{},Ii,Ii)))),Ee[it]=ec(Ee[it],re));const We=na(()=>B.apply(this,Ee));if(!U){if(We instanceof To.y){const it=vc();return We.pipe((0,Hd.R)(it.outsideAngular),(0,Qa.Q)(it.insideAngular))}return Do(()=>We)}return We instanceof To.y?We.pipe(ap):We instanceof Promise?Do(()=>new Promise((it,kt)=>We.then(bn=>Do(()=>it(bn)),bn=>Do(()=>kt(bn))))):"function"==typeof We&&re?function(){return setTimeout(()=>{re&&"scheduled"===re.state&&re.invoke()},10),We.apply(this,arguments)}:Do(()=>We)}},896:tt=>{window,tt.exports=function(A){var N={};function t(T){if(N[T])return N[T].exports;var S=N[T]={i:T,l:!1,exports:{}};return A[T].call(S.exports,S,S.exports,t),S.l=!0,S.exports}return t.m=A,t.c=N,t.d=function(T,S,R){t.o(T,S)||Object.defineProperty(T,S,{enumerable:!0,get:R})},t.r=function(T){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(T,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(T,"__esModule",{value:!0})},t.t=function(T,S){if(1&S&&(T=t(T)),8&S||4&S&&"object"==typeof T&&T&&T.__esModule)return T;var R=Object.create(null);if(t.r(R),Object.defineProperty(R,"default",{enumerable:!0,value:T}),2&S&&"string"!=typeof T)for(var O in T)t.d(R,O,function(G){return T[G]}.bind(null,O));return R},t.n=function(T){var S=T&&T.__esModule?function(){return T.default}:function(){return T};return t.d(S,"a",S),S},t.o=function(T,S){return Object.prototype.hasOwnProperty.call(T,S)},t.p="/",t(t.s=89)}([function(A,N){A.exports=function(t,T,S){return T in t?Object.defineProperty(t,T,{value:S,enumerable:!0,configurable:!0,writable:!0}):t[T]=S,t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){function t(T){return A.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},A.exports.__esModule=!0,A.exports.default=A.exports,t(T)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t,T){if(!(t instanceof T))throw new TypeError("Cannot call a class as a function")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){function t(T,S){for(var R=0;R<S.length;R++){var O=S[R];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(T,O.key,O)}}A.exports=function(T,S,R){return S&&t(T.prototype,S),R&&t(T,R),Object.defineProperty(T,"prototype",{writable:!1}),T},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(20).default,S=t(1);A.exports=function(R,O){if(O&&("object"===T(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return S(R)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(41);A.exports=function(S,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(R&&R.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),Object.defineProperty(S,"prototype",{writable:!1}),R&&T(S,R)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){A.exports={EPSILON:t(62),create:t(63),clone:t(156),fromValues:t(157),copy:t(158),set:t(159),equals:t(160),exactEquals:t(161),add:t(162),subtract:t(64),sub:t(163),multiply:t(65),mul:t(164),divide:t(66),div:t(165),inverse:t(166),min:t(167),max:t(168),rotate:t(169),floor:t(170),ceil:t(171),round:t(172),scale:t(173),scaleAndAdd:t(174),distance:t(67),dist:t(175),squaredDistance:t(68),sqrDist:t(176),length:t(69),len:t(177),squaredLength:t(70),sqrLen:t(178),negate:t(179),normalize:t(180),dot:t(181),cross:t(182),lerp:t(183),random:t(184),transformMat2:t(185),transformMat2d:t(186),transformMat3:t(187),transformMat4:t(188),forEach:t(189),limit:t(190)}},function(A,N,t){A.exports=t(224)},function(A,N,t){"use strict";N.a={init:function(T,S){for(var R=T.length;R--;)T[R]=S},shuffle:function(T){for(var S=T.length-1;S>=0;S--){var R=Math.floor(Math.random()*S),O=T[S];T[S]=T[R],T[R]=O}return T},toPointList:function(T){var S=T.reduce(function(R,O){var G="[".concat(O.join(","),"]");return R.push(G),R},[]);return"[".concat(S.join(",\r\n"),"]")},threshold:function(T,S,R){return T.reduce(function(O,G){return R.apply(T,[G])>=S&&O.push(G),O},[])},maxIndex:function(T){for(var S=0,R=0;R<T.length;R++)T[R]>T[S]&&(S=R);return S},max:function(T){for(var S=0,R=0;R<T.length;R++)T[R]>S&&(S=T[R]);return S},sum:function(T){for(var S=T.length,R=0;S--;)R+=T[S];return R}}},function(A,N,t){"use strict";t.d(N,"h",function(){return K}),t.d(N,"i",function(){return ve}),t.d(N,"b",function(){return $e}),t.d(N,"j",function(){return Ze}),t.d(N,"e",function(){return Xe}),t.d(N,"c",function(){return pt}),t.d(N,"f",function(){return De}),t.d(N,"g",function(){return He}),t.d(N,"a",function(){return Qe}),t.d(N,"d",function(){return Re});var T=t(7),S=t(84),R={clone:T.clone,dot:T.dot},O=function(Te,qe){var Ue=[],lt={rad:0,vec:R.clone([0,0])},ue={};function oe(me){ue[me.id]=me,Ue.push(me)}function te(){var me,Ie=0;for(me=0;me<Ue.length;me++)Ie+=Ue[me].rad;lt.rad=Ie/Ue.length,lt.vec=R.clone([Math.cos(lt.rad),Math.sin(lt.rad)])}return oe(Te),te(),{add:function(me){ue[me.id]||(oe(me),te())},fits:function(me){return Math.abs(R.dot(me.point.vec,lt.vec))>qe},getPoints:function(){return Ue},getCenter:function(){return lt}}},G=function(Te,qe,Ue){return{rad:Te[Ue],point:Te,id:qe}},q=t(9),X={clone:T.clone},J={clone:S.clone};function K(Te,qe){return{x:Te,y:qe,toVec2:function(){return X.clone([this.x,this.y])},toVec3:function(){return J.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ee(Te,qe){qe||(qe=8);for(var Ue=Te.data,lt=Ue.length,ue=8-qe,oe=new Int32Array(1<<qe);lt--;)oe[Ue[lt]>>ue]++;return oe}function ve(Te,qe){var Ue=function(lt){var ue,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,te=8-oe;function me(bt,un){for(var xt=0,Et=bt;Et<=un;Et++)xt+=ue[Et];return xt}function Ie(bt,un){for(var xt=0,Et=bt;Et<=un;Et++)xt+=Et*ue[Et];return xt}function le(){var bt,un,xt,Et,Mt=[0],nn=(1<<oe)-1;ue=ee(lt,oe);for(var rr=1;rr<nn;rr++)0==(xt=(bt=me(0,rr))*(un=me(rr+1,nn)))&&(xt=1),Et=Ie(0,rr)*un-Ie(rr+1,nn)*bt,Mt[rr]=Et*Et/xt;return q.a.maxIndex(Mt)}return le()<<te}(Te);return function(lt,ue,oe){oe||(oe=lt);for(var te=lt.data,me=te.length,Ie=oe.data;me--;)Ie[me]=te[me]<ue?1:0}(Te,Ue,qe),Ue}function $e(Te,qe,Ue){var lt,ue,oe,te,me=[];function Ie(le){var dt=!1;for(ue=0;ue<me.length;ue++)(oe=me[ue]).fits(le)&&(oe.add(le),dt=!0);return dt}for(Ue||(Ue="rad"),lt=0;lt<Te.length;lt++)Ie(te=G(Te[lt],lt,Ue))||me.push(O(te,qe));return me}function Ze(Te,qe,Ue){var lt,ue,oe,te,me=0,Ie=0,le=[];for(lt=0;lt<qe;lt++)le[lt]={score:0,item:null};for(lt=0;lt<Te.length;lt++)if((ue=Ue.apply(this,[Te[lt]]))>Ie)for((oe=le[me]).score=ue,oe.item=Te[lt],Ie=Number.MAX_VALUE,te=0;te<qe;te++)le[te].score<Ie&&(Ie=le[te].score,me=te);return le}function Xe(Te,qe,Ue){for(var lt,ue=0,oe=qe.x,te=Math.floor(Te.length/4),me=qe.x/2,Ie=0,le=qe.x;oe<te;){for(lt=0;lt<me;lt++)Ue[Ie]=(.299*Te[4*ue+0]+.587*Te[4*ue+1]+.114*Te[4*ue+2]+(.299*Te[4*(ue+1)+0]+.587*Te[4*(ue+1)+1]+.114*Te[4*(ue+1)+2])+(.299*Te[4*oe+0]+.587*Te[4*oe+1]+.114*Te[4*oe+2])+(.299*Te[4*(oe+1)+0]+.587*Te[4*(oe+1)+1]+.114*Te[4*(oe+1)+2]))/4,Ie++,ue+=2,oe+=2;ue+=le,oe+=le}}function pt(Te,qe,Ue){var lt=Te.length/4|0;if(Ue&&!0===Ue.singleChannel)for(var ue=0;ue<lt;ue++)qe[ue]=Te[4*ue+0];else for(var oe=0;oe<lt;oe++)qe[oe]=.299*Te[4*oe+0]+.587*Te[4*oe+1]+.114*Te[4*oe+2]}function De(Te,qe){for(var Ue=Te.data,lt=Te.size.x,ue=qe.data,oe=0,te=lt,me=Ue.length,Ie=lt/2,le=0;te<me;){for(var dt=0;dt<Ie;dt++)ue[le]=Math.floor((Ue[oe]+Ue[oe+1]+Ue[te]+Ue[te+1])/4),le++,oe+=2,te+=2;oe+=lt,te+=lt}}function He(Te){var qe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ue=Te[0],ue=Te[2],oe=ue*Te[1],te=oe*(1-Math.abs(Ue/60%2-1)),me=ue-oe,Ie=0,le=0,dt=0;return Ue<60?(Ie=oe,le=te):Ue<120?(Ie=te,le=oe):Ue<180?(le=oe,dt=te):Ue<240?(le=te,dt=oe):Ue<300?(Ie=te,dt=oe):Ue<360&&(Ie=oe,dt=te),qe[0]=255*(Ie+me)|0,qe[1]=255*(le+me)|0,qe[2]=255*(dt+me)|0,qe}function Ae(Te){for(var qe=[],Ue=[],lt=1;lt<Math.sqrt(Te)+1;lt++)Te%lt==0&&(Ue.push(lt),lt!==Te/lt&&qe.unshift(Math.floor(Te/lt)));return Ue.concat(qe)}function Qe(Te,qe){var Ue,lt=Ae(qe.x),ue=Ae(qe.y),oe=Math.max(qe.x,qe.y),te=function(xt,Et){for(var Mt=0,nn=0,rr=[];Mt<xt.length&&nn<Et.length;)xt[Mt]===Et[nn]?(rr.push(xt[Mt]),Mt++,nn++):xt[Mt]>Et[nn]?nn++:Mt++;return rr}(lt,ue),me=[8,10,15,20,32,60,80],Ie={"x-small":5,small:4,medium:3,large:2,"x-large":1},le=Ie[Te]||Ie.medium,dt=me[le],bt=Math.floor(oe/dt);function un(xt){for(var Et=0,Mt=xt[Math.floor(xt.length/2)];Et<xt.length-1&&xt[Et]<bt;)Et++;return Et>0&&(Mt=Math.abs(xt[Et]-bt)>Math.abs(xt[Et-1]-bt)?xt[Et-1]:xt[Et]),bt/Mt<me[le+1]/me[le]&&bt/Mt>me[le-1]/me[le]?{x:Mt,y:Mt}:null}return(Ue=un(te))||(Ue=un(Ae(oe)))||(Ue=un(Ae(bt*dt))),Ue}var Be={top:function(Te,qe){return"%"===Te.unit?Math.floor(qe.height*(Te.value/100)):null},right:function(Te,qe){return"%"===Te.unit?Math.floor(qe.width-qe.width*(Te.value/100)):null},bottom:function(Te,qe){return"%"===Te.unit?Math.floor(qe.height-qe.height*(Te.value/100)):null},left:function(Te,qe){return"%"===Te.unit?Math.floor(qe.width*(Te.value/100)):null}};function Re(Te,qe,Ue){var lt={width:Te,height:qe},ue=Object.keys(Ue).reduce(function(oe,te){var le,me=(le=Ue[te],{value:parseFloat(le),unit:(le.indexOf("%"),"%")}),Ie=Be[te](me,lt);return oe[te]=Ie,oe},{});return{sx:ue.left,sy:ue.top,sw:ue.right-ue.left,sh:ue.bottom-ue.top}}},function(A,N,t){"use strict";var T=t(83),S=t.n(T),R=t(3),O=t.n(R),G=t(4),q=t.n(G),X=t(0),J=t.n(X),K=t(7),ee=t(10),ve=t(9),$e={clone:K.clone};function Ze(pt){if(pt<0)throw new Error("expected positive number, received ".concat(pt))}var Xe=function(){function pt(De,He){var Ae=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Qe=arguments.length>3?arguments[3]:void 0;O()(this,pt),J()(this,"data",void 0),J()(this,"size",void 0),J()(this,"indexMapping",void 0),He?this.data=He:(this.data=new Ae(De.x*De.y),Qe&&ve.a.init(this.data,0)),this.size=De}return q()(pt,[{key:"inImageWithBorder",value:function(De){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ze(He),De.x>=0&&De.y>=0&&De.x<this.size.x+2*He&&De.y<this.size.y+2*He}},{key:"subImageAsCopy",value:function(De,He){Ze(He.x),Ze(He.y);for(var Ae=De.size,Qe=Ae.x,Be=Ae.y,Re=0;Re<Qe;Re++)for(var Te=0;Te<Be;Te++)De.data[Te*Qe+Re]=this.data[(He.y+Te)*this.size.x+He.x+Re];return De}},{key:"get",value:function(De,He){return this.data[He*this.size.x+De]}},{key:"getSafe",value:function(De,He){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var Ae=0;Ae<this.size.x;Ae++)this.indexMapping.x[Ae]=Ae,this.indexMapping.x[Ae+this.size.x]=Ae;for(var Qe=0;Qe<this.size.y;Qe++)this.indexMapping.y[Qe]=Qe,this.indexMapping.y[Qe+this.size.y]=Qe}return this.data[this.indexMapping.y[He+this.size.y]*this.size.x+this.indexMapping.x[De+this.size.x]]}},{key:"set",value:function(De,He,Ae){return this.data[He*this.size.x+De]=Ae,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var De=this.size,He=De.x,Ae=De.y,Qe=0;Qe<He;Qe++)this.data[Qe]=this.data[(Ae-1)*He+Qe]=0;for(var Be=1;Be<Ae-1;Be++)this.data[Be*He]=this.data[Be*He+(He-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(De){var He,Ae,Qe,Be,Re,Te,qe,Ue,lt,ue,oe=this.data,te=this.size.y,me=this.size.x,Ie=[],le=[],dt=Math.PI,bt=dt/4;if(De<=0)return le;for(Re=0;Re<De;Re++)Ie[Re]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(Ae=0;Ae<te;Ae++)for(Be=Ae*Ae,He=0;He<me;He++)(Qe=oe[Ae*me+He])>0&&((Te=Ie[Qe-1]).m00+=1,Te.m01+=Ae,Te.m10+=He,Te.m11+=He*Ae,Te.m02+=Be,Te.m20+=He*He);for(Re=0;Re<De;Re++)Te=Ie[Re],isNaN(Te.m00)||0===Te.m00||(ue=(Te.m02/Te.m00-(lt=Te.m01/Te.m00)*lt-(Te.m20/Te.m00-(Ue=Te.m10/Te.m00)*Ue))/(2*(qe=Te.m11/Te.m00-Ue*lt)),ue=.5*Math.atan(ue)+(qe>=0?bt:-bt)+dt,Te.theta=(180*ue/dt+90)%180-90,Te.theta<0&&(Te.theta+=180),Te.rad=ue>dt?ue-dt:ue,Te.vec=$e.clone([Math.cos(ue),Math.sin(ue)]),le.push(Te));return le}},{key:"getAsRGBA",value:function(){for(var De=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,He=new Uint8ClampedArray(4*this.size.x*this.size.y),Ae=0;Ae<this.size.y;Ae++)for(var Qe=0;Qe<this.size.x;Qe++){var Be=Ae*this.size.x+Qe,Re=this.get(Qe,Ae)*De;He[4*Be+0]=Re,He[4*Be+1]=Re,He[4*Be+2]=Re,He[4*Be+3]=255}return He}},{key:"show",value:function(De){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Ae=De.getContext("2d");if(!Ae)throw new Error("Unable to get canvas context");var Qe=Ae.getImageData(0,0,De.width,De.height),Be=this.getAsRGBA(He);De.width=this.size.x,De.height=this.size.y;var Re=new ImageData(Be,Qe.width,Qe.height);Ae.putImageData(Re,0,0)}},{key:"overlay",value:function(De,He,Ae){var Qe=He<0||He>360?360:He,Be=[0,1,1],Re=[0,0,0],Te=[255,255,255],qe=[0,0,0],Ue=De.getContext("2d");if(!Ue)throw new Error("Unable to get canvas context");for(var lt=Ue.getImageData(Ae.x,Ae.y,this.size.x,this.size.y),ue=lt.data,oe=this.data.length;oe--;){Be[0]=this.data[oe]*Qe;var te=4*oe,me=Be[0]<=0?Te:Be[0]>=360?qe:Object(ee.g)(Be,Re),Ie=S()(me,3);ue[te]=Ie[0],ue[te+1]=Ie[1],ue[te+2]=Ie[2],ue[te+3]=255}Ue.putImageData(lt,Ae.x,Ae.y)}}]),pt}();N.a=Xe},function(A,N){function t(T,S,R,O,G,q,X){try{var J=T[q](X),K=J.value}catch(ee){return void R(ee)}J.done?S(K):Promise.resolve(K).then(O,G)}A.exports=function(T){return function(){var S=this,R=arguments;return new Promise(function(O,G){var q=T.apply(S,R);function X(K){t(q,O,G,X,J,"next",K)}function J(K){t(q,O,G,X,J,"throw",K)}X(void 0)})}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(225);function S(){return"undefined"!=typeof Reflect&&Reflect.get?(A.exports=S=Reflect.get,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=S=function(R,O,G){var q=T(R,O);if(q){var X=Object.getOwnPropertyDescriptor(q,O);return X.get?X.get.call(arguments.length<3?R:G):X.value}},A.exports.__esModule=!0,A.exports.default=A.exports),S.apply(this,arguments)}A.exports=S,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t){var T=typeof t;return null!=t&&("object"==T||"function"==T)}},function(A,N){A.exports=Array.isArray},function(A,N,t){"use strict";N.a={drawRect:function(T,S,R,O){R.strokeStyle=O.color,R.fillStyle=O.color,R.lineWidth=O.lineWidth||1,R.beginPath(),R.strokeRect(T.x,T.y,S.x,S.y)},drawPath:function(T,S,R,O){R.strokeStyle=O.color,R.fillStyle=O.color,R.lineWidth=O.lineWidth,R.beginPath(),R.moveTo(T[0][S.x],T[0][S.y]);for(var G=1;G<T.length;G++)R.lineTo(T[G][S.x],T[G][S.y]);R.closePath(),R.stroke()},drawImage:function(T,S,R){var O=R.getImageData(0,0,S.x,S.y),G=O.data,q=G.length,X=T.length;if(q/X!=4)return!1;for(;X--;){var J=T[X];G[--q]=255,G[--q]=J,G[--q]=J,G[--q]=J}return R.putImageData(O,0,0),!0}}},function(A,N,t){var T=t(90),S=t(145)(function(R,O,G){T(R,O,G)});A.exports=S},function(A,N,t){var T=t(45),S="object"==typeof self&&self&&self.Object===Object&&self,R=T||S||Function("return this")();A.exports=R},function(A,N){A.exports=function(t){return null!=t&&"object"==typeof t}},function(A,N){function t(T){return A.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(S){return typeof S}:function(S){return S&&"function"==typeof Symbol&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},A.exports.__esModule=!0,A.exports.default=A.exports,t(T)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){"use strict";N.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(T,S){var R,O=T.data,G=S.data,q=this.searchDirections,X=T.size.x;function J(ee,ve,$e,Ze){var Xe,pt,De;for(Xe=0;Xe<7;Xe++){if(O[R=(pt=ee.cy+q[ee.dir][0])*X+(De=ee.cx+q[ee.dir][1])]===ve&&(0===G[R]||G[R]===$e))return G[R]=$e,ee.cy=pt,ee.cx=De,!0;0===G[R]&&(G[R]=Ze),ee.dir=(ee.dir+1)%8}return!1}function K(ee,ve,$e){return{dir:$e,x:ee,y:ve,next:null,prev:null}}return{trace:function(ee,ve,$e,Ze){return J(ee,ve,$e,Ze)},contourTracing:function(ee,ve,$e,Ze,Xe){return function(pt,De,He,Ae,Qe){var Be,Re,Te,qe=null,Ue={cx:De,cy:pt,dir:0};if(J(Ue,Ae,He,Qe)){Be=qe=K(De,pt,Ue.dir),Te=Ue.dir,(Re=K(Ue.cx,Ue.cy,0)).prev=Be,Be.next=Re,Re.next=null,Be=Re;do{Ue.dir=(Ue.dir+6)%8,J(Ue,Ae,He,Qe),Te!==Ue.dir?(Be.dir=Ue.dir,(Re=K(Ue.cx,Ue.cy,0)).prev=Be,Be.next=Re,Re.next=null,Be=Re):(Be.dir=Te,Be.x=Ue.cx,Be.y=Ue.cy),Te=Ue.dir}while(Ue.cx!==De||Ue.cy!==pt);qe.prev=Be.prev,Be.prev.next=qe}return qe}(ee,ve,$e,Ze,Xe)}}}}},function(A,N,t){var T=t(27),S=t(103),R=t(104),O=T?T.toStringTag:void 0;A.exports=function(G){return null==G?void 0===G?"[object Undefined]":"[object Null]":O&&O in Object(G)?S(G):R(G)}},function(A,N,t){"use strict";(function(T){var S,R,O,G,q,X,J,K,ee,ve,$e,Ze,Xe=t(7),pt=t(34),De=t(11),He=t(10),Ae=t(9),Qe=(t(16),t(87)),Be=t(21),Re=t(88),Te={ctx:{binary:null},dom:{binary:null}},qe={x:0,y:0};function Ue(oe){var te,me,Ie,le,dt,bt,un,xt=ee.size.x,Et=ee.size.y,Mt=-ee.size.x,nn=-ee.size.y;for(te=0,me=0;me<oe.length;me++)te+=(le=oe[me]).rad;for((te=(180*(te/=oe.length)/Math.PI+90)%180-90)<0&&(te+=180),te=(180-te)*Math.PI/180,dt=pt.copy(pt.create(),[Math.cos(te),Math.sin(te),-Math.sin(te),Math.cos(te)]),me=0;me<oe.length;me++)for(le=oe[me],Ie=0;Ie<4;Ie++)Xe.transformMat2(le.box[Ie],le.box[Ie],dt);for(me=0;me<oe.length;me++)for(le=oe[me],Ie=0;Ie<4;Ie++)le.box[Ie][0]<xt&&(xt=le.box[Ie][0]),le.box[Ie][0]>Mt&&(Mt=le.box[Ie][0]),le.box[Ie][1]<Et&&(Et=le.box[Ie][1]),le.box[Ie][1]>nn&&(nn=le.box[Ie][1]);for(bt=[[xt,Et],[Mt,Et],[Mt,nn],[xt,nn]],un=S.halfSample?2:1,dt=pt.invert(dt,dt),Ie=0;Ie<4;Ie++)Xe.transformMat2(bt[Ie],bt[Ie],dt);for(Ie=0;Ie<4;Ie++)Xe.scale(bt[Ie],bt[Ie],un);return bt}function lt(oe,te){ee.subImageAsCopy(G,Object(He.h)(oe,te)),Ze.skeletonize()}function ue(oe,te,me,Ie){var le,dt,bt,un,xt=[],Et=[],Mt=Math.ceil(ve.x/3);if(oe.length>=2){for(le=0;le<oe.length;le++)oe[le].m00>Mt&&xt.push(oe[le]);if(xt.length>=2){for(bt=function(nn){var rr=Object(He.b)(nn,.9),Ln=Object(He.j)(rr,1,function(ti){return ti.getPoints().length}),wn=[],ur=[];if(1===Ln.length){wn=Ln[0].item.getPoints();for(var tr=0;tr<wn.length;tr++)ur.push(wn[tr].point)}return ur}(xt),dt=0,le=0;le<bt.length;le++)dt+=bt[le].rad;bt.length>1&&bt.length>=xt.length/4*3&&bt.length>oe.length/4&&(dt/=bt.length,un={index:te[1]*qe.x+te[0],pos:{x:me,y:Ie},box:[Xe.clone([me,Ie]),Xe.clone([me+G.size.x,Ie]),Xe.clone([me+G.size.x,Ie+G.size.y]),Xe.clone([me,Ie+G.size.y])],moments:bt,rad:dt,vec:Xe.clone([Math.cos(dt),Math.sin(dt)])},Et.push(un))}}return Et}N.a={init:function(oe,te){S=te,$e=oe,function(){R=S.halfSample?new De.a({x:$e.size.x/2|0,y:$e.size.y/2|0}):$e,ve=Object(He.a)(S.patchSize,R.size),qe.x=R.size.x/ve.x|0,qe.y=R.size.y/ve.y|0,ee=new De.a(R.size,void 0,Uint8Array,!1),q=new De.a(ve,void 0,Array,!0);var me=new ArrayBuffer(65536);G=new De.a(ve,new Uint8Array(me,0,ve.x*ve.y)),O=new De.a(ve,new Uint8Array(me,ve.x*ve.y*3,ve.x*ve.y),void 0,!0),Ze=Object(Re.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:T,{size:ve.x},me),K=new De.a({x:R.size.x/G.size.x|0,y:R.size.y/G.size.y|0},void 0,Array,!0),X=new De.a(K.size,void 0,void 0,!0),J=new De.a(K.size,void 0,Int32Array,!0)}(),S.useWorker||"undefined"==typeof document||(Te.dom.binary=document.createElement("canvas"),Te.dom.binary.className="binaryBuffer",Te.ctx.binary=Te.dom.binary.getContext("2d"),Te.dom.binary.width=ee.size.x,Te.dom.binary.height=ee.size.y)},locate:function(){S.halfSample&&Object(He.f)($e,R),Object(He.i)(R,ee),ee.zeroBorder();var oe=function(){var Ie,le,dt,bt,un,xt,Et=[];for(Ie=0;Ie<qe.x;Ie++)for(le=0;le<qe.y;le++)lt(dt=G.size.x*Ie,bt=G.size.y*le),O.zeroBorder(),Ae.a.init(q.data,0),xt=Qe.a.create(O,q).rasterize(0),un=q.moments(xt.count),Et=Et.concat(ue(un,[Ie,le],dt,bt));return Et}();if(oe.length<qe.x*qe.y*.05)return null;var te=function(Ie){var le,dt,bt=0,un=0;function xt(){var Mt;for(Mt=0;Mt<J.data.length;Mt++)if(0===J.data[Mt]&&1===X.data[Mt])return Mt;return J.length}function Et(Mt){var Ln,wn,ur,tr=Mt%J.size.x,ti=Mt/J.size.x|0;if(Mt<J.data.length)for(Ln=K.data[Mt],J.data[Mt]=bt,ur=0;ur<Be.a.searchDirections.length;ur++)0!==X.data[wn=(ti+Be.a.searchDirections[ur][0])*J.size.x+(tr+Be.a.searchDirections[ur][1])]?0===J.data[wn]&&Math.abs(Xe.dot(K.data[wn].vec,Ln.vec))>.95&&Et(wn):J.data[wn]=Number.MAX_VALUE}for(Ae.a.init(X.data,0),Ae.a.init(J.data,0),Ae.a.init(K.data,null),le=0;le<Ie.length;le++)K.data[(dt=Ie[le]).index]=dt,X.data[dt.index]=1;for(X.zeroBorder();(un=xt())<J.data.length;)bt++,Et(un);return bt}(oe);if(te<1)return null;var me=function(Ie){var le,dt,bt=[];for(le=0;le<Ie;le++)bt.push(0);for(dt=J.data.length;dt--;)J.data[dt]>0&&bt[J.data[dt]-1]++;return(bt=bt.map(function(un,xt){return{val:un,label:xt+1}})).sort(function(un,xt){return xt.val-un.val}),bt.filter(function(un){return un.val>=5})}(te);return 0===me.length?null:function(Ie,le){var dt,bt,xt,Et=[],Mt=[];for(dt=0;dt<Ie.length;dt++){for(bt=J.data.length,Et.length=0;bt--;)J.data[bt]===Ie[dt].label&&Et.push(K.data[bt]);(xt=Ue(Et))&&Mt.push(xt)}return Mt}(me)},checkImageConstraints:function(oe,te){var me,Ie,le=oe.getWidth(),dt=oe.getHeight(),bt=te.halfSample?.5:1;oe.getConfig().area&&(Ie=Object(He.d)(le,dt,oe.getConfig().area),oe.setTopRight({x:Ie.sx,y:Ie.sy}),oe.setCanvasSize({x:le,y:dt}),le=Ie.sw,dt=Ie.sh);var un={x:Math.floor(le*bt),y:Math.floor(dt*bt)};if(me=Object(He.a)(te.patchSize,un),oe.setWidth(Math.floor(Math.floor(un.x/me.x)*(1/bt)*me.x)),oe.setHeight(Math.floor(Math.floor(un.y/me.y)*(1/bt)*me.y)),oe.getWidth()%me.x==0&&oe.getHeight()%me.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(le," )and height (").concat(dt,") must a multiple of ").concat(me.x))}}}).call(this,t(46))},function(A,N,t){var T=t(92),S=t(93),R=t(94),O=t(95),G=t(96);function q(X){var J=-1,K=null==X?0:X.length;for(this.clear();++J<K;){var ee=X[J];this.set(ee[0],ee[1])}}q.prototype.clear=T,q.prototype.delete=S,q.prototype.get=R,q.prototype.has=O,q.prototype.set=G,A.exports=q},function(A,N,t){var T=t(26);A.exports=function(S,R){for(var O=S.length;O--;)if(T(S[O][0],R))return O;return-1}},function(A,N){A.exports=function(t,T){return t===T||t!=t&&T!=T}},function(A,N,t){var T=t(18).Symbol;A.exports=T},function(A,N,t){var T=t(35)(Object,"create");A.exports=T},function(A,N,t){var T=t(117);A.exports=function(S,R){var O=S.__data__;return T(R)?O["string"==typeof R?"string":"hash"]:O.map}},function(A,N,t){var T=t(132),S=t(19),R=Object.prototype,O=R.hasOwnProperty,G=R.propertyIsEnumerable,q=T(function(){return arguments}())?T:function(X){return S(X)&&O.call(X,"callee")&&!G.call(X,"callee")};A.exports=q},function(A,N){var t=/^(?:0|[1-9]\d*)$/;A.exports=function(T,S){var R=typeof T;return!!(S=null==S?9007199254740991:S)&&("number"==R||"symbol"!=R&&t.test(T))&&T>-1&&T%1==0&&T<S}},function(A,N,t){var T=t(15),S=t(232),R=t(233),O=t(236);A.exports=function(G,q){return T(G)?G:S(G,q)?[G]:R(O(G))}},function(A,N,t){var T=t(226),S=t(227),R=t(60),O=t(228);A.exports=function(G){return T(G)||S(G)||R(G)||O()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){A.exports={determinant:t(251),transpose:t(252),multiply:t(253),identity:t(254),adjoint:t(255),rotate:t(256),invert:t(257),create:t(258),scale:t(259),copy:t(260),frob:t(261),ldu:t(262)}},function(A,N,t){var T=t(102),S=t(108);A.exports=function(R,O){var G=S(R,O);return T(G)?G:void 0}},function(A,N,t){var T=t(22),S=t(14);A.exports=function(R){if(!S(R))return!1;var O=T(R);return"[object Function]"==O||"[object GeneratorFunction]"==O||"[object AsyncFunction]"==O||"[object Proxy]"==O}},function(A,N,t){var T=t(49);A.exports=function(S,R,O){"__proto__"==R&&T?T(S,R,{configurable:!0,enumerable:!0,value:O,writable:!0}):S[R]=O}},function(A,N){A.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(A,N,t){var T=t(36),S=t(40);A.exports=function(R){return null!=R&&S(R.length)&&!T(R)}},function(A,N){A.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(A,N){function t(T,S){return A.exports=t=Object.setPrototypeOf||function(R,O){return R.__proto__=O,R},A.exports.__esModule=!0,A.exports.default=A.exports,t(T,S)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(22),S=t(19);A.exports=function(R){return"symbol"==typeof R||S(R)&&"[object Symbol]"==T(R)}},function(A,N,t){var T=t(42);A.exports=function(S){if("string"==typeof S||T(S))return S;var R=S+"";return"0"==R&&1/S==-1/0?"-0":R}},function(A,N,t){var T=t(35)(t(18),"Map");A.exports=T},function(A,N,t){(function(T){A.exports="object"==typeof T&&T&&T.Object===Object&&T}).call(this,t(46))},function(A,N){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(T){"object"==typeof window&&(t=window)}A.exports=t},function(A,N,t){var T=t(109),S=t(116),R=t(118),O=t(119),G=t(120);function q(X){var J=-1,K=null==X?0:X.length;for(this.clear();++J<K;){var ee=X[J];this.set(ee[0],ee[1])}}q.prototype.clear=T,q.prototype.delete=S,q.prototype.get=R,q.prototype.has=O,q.prototype.set=G,A.exports=q},function(A,N,t){var T=t(37),S=t(26);A.exports=function(R,O,G){(void 0!==G&&!S(R[O],G)||void 0===G&&!(O in R))&&T(R,O,G)}},function(A,N,t){var T=t(35),S=function(){try{var R=T(Object,"defineProperty");return R({},"",{}),R}catch(O){}}();A.exports=S},function(A,N,t){var T=t(131)(Object.getPrototypeOf,Object);A.exports=T},function(A,N){var t=Object.prototype;A.exports=function(T){var S=T&&T.constructor;return T===("function"==typeof S&&S.prototype||t)}},function(A,N,t){(function(T){var S=t(18),R=t(134),O=N&&!N.nodeType&&N,G=O&&"object"==typeof T&&T&&!T.nodeType&&T,q=G&&G.exports===O?S.Buffer:void 0;T.exports=(q?q.isBuffer:void 0)||R}).call(this,t(38)(A))},function(A,N,t){var T=t(136),S=t(137),R=t(138),O=R&&R.isTypedArray,G=O?S(O):T;A.exports=G},function(A,N){A.exports=function(t,T){if(("constructor"!==T||"function"!=typeof t[T])&&"__proto__"!=T)return t[T]}},function(A,N,t){var T=t(37),S=t(26),R=Object.prototype.hasOwnProperty;A.exports=function(O,G,q){var X=O[G];R.call(O,G)&&S(X,q)&&(void 0!==q||G in O)||T(O,G,q)}},function(A,N,t){var T=t(141),S=t(143),R=t(39);A.exports=function(O){return R(O)?T(O,!0):S(O)}},function(A,N){A.exports=function(t){return t}},function(A,N,t){var T=t(147),S=Math.max;A.exports=function(R,O,G){return O=S(void 0===O?R.length-1:O,0),function(){for(var q=arguments,X=-1,J=S(q.length-O,0),K=Array(J);++X<J;)K[X]=q[O+X];X=-1;for(var ee=Array(O+1);++X<O;)ee[X]=q[X];return ee[O]=G(K),T(R,this,ee)}}},function(A,N,t){var T=t(148),S=t(150)(T);A.exports=S},function(A,N,t){var T=t(61);A.exports=function(S,R){if(S){if("string"==typeof S)return T(S,R);var O=Object.prototype.toString.call(S).slice(8,-1);return"Object"===O&&S.constructor&&(O=S.constructor.name),"Map"===O||"Set"===O?Array.from(S):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?T(S,R):void 0}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t,T){(null==T||T>t.length)&&(T=t.length);for(var S=0,R=new Array(T);S<T;S++)R[S]=t[S];return R},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=1e-6},function(A,N){A.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]-S[0],t[1]=T[1]-S[1],t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]*S[0],t[1]=T[1]*S[1],t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]/S[0],t[1]=T[1]/S[1],t}},function(A,N){A.exports=function(t,T){var S=T[0]-t[0],R=T[1]-t[1];return Math.sqrt(S*S+R*R)}},function(A,N){A.exports=function(t,T){var S=T[0]-t[0],R=T[1]-t[1];return S*S+R*R}},function(A,N){A.exports=function(t){var T=t[0],S=t[1];return Math.sqrt(T*T+S*S)}},function(A,N){A.exports=function(t){var T=t[0],S=t[1];return T*T+S*S}},function(A,N){A.exports=1e-6},function(A,N){A.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(A,N){A.exports=function(t,T,S){var R=new Float32Array(3);return R[0]=t,R[1]=T,R[2]=S,R}},function(A,N){A.exports=function(t,T){var S=T[0],R=T[1],O=T[2],G=S*S+R*R+O*O;return G>0&&(G=1/Math.sqrt(G),t[0]=T[0]*G,t[1]=T[1]*G,t[2]=T[2]*G),t}},function(A,N){A.exports=function(t,T){return t[0]*T[0]+t[1]*T[1]+t[2]*T[2]}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]-S[0],t[1]=T[1]-S[1],t[2]=T[2]-S[2],t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]*S[0],t[1]=T[1]*S[1],t[2]=T[2]*S[2],t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]/S[0],t[1]=T[1]/S[1],t[2]=T[2]/S[2],t}},function(A,N){A.exports=function(t,T){var S=T[0]-t[0],R=T[1]-t[1],O=T[2]-t[2];return Math.sqrt(S*S+R*R+O*O)}},function(A,N){A.exports=function(t,T){var S=T[0]-t[0],R=T[1]-t[1],O=T[2]-t[2];return S*S+R*R+O*O}},function(A,N){A.exports=function(t){var T=t[0],S=t[1],R=t[2];return Math.sqrt(T*T+S*S+R*R)}},function(A,N){A.exports=function(t){var T=t[0],S=t[1],R=t[2];return T*T+S*S+R*R}},function(A,N,t){var T=t(153),S=t(154),R=t(60),O=t(155);A.exports=function(G,q){return T(G)||S(G,q)||R(G,q)||O()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){A.exports={EPSILON:t(71),create:t(72),clone:t(191),angle:t(192),fromValues:t(73),copy:t(193),set:t(194),equals:t(195),exactEquals:t(196),add:t(197),subtract:t(76),sub:t(198),multiply:t(77),mul:t(199),divide:t(78),div:t(200),min:t(201),max:t(202),floor:t(203),ceil:t(204),round:t(205),scale:t(206),scaleAndAdd:t(207),distance:t(79),dist:t(208),squaredDistance:t(80),sqrDist:t(209),length:t(81),len:t(210),squaredLength:t(82),sqrLen:t(211),negate:t(212),inverse:t(213),normalize:t(74),dot:t(75),cross:t(214),lerp:t(215),random:t(216),transformMat4:t(217),transformMat3:t(218),transformQuat:t(219),rotateX:t(220),rotateY:t(221),rotateZ:t(222),forEach:t(223)}},function(A,N,t){var T=t(229),S=t(243)(function(R,O){return null==R?{}:T(R,O)});A.exports=S},function(A,N,t){var T=t(2),S=t(41),R=t(248),O=t(249);function G(q){var X="function"==typeof Map?new Map:void 0;return A.exports=G=function(J){if(null===J||!R(J))return J;if("function"!=typeof J)throw new TypeError("Super expression must either be null or a function");if(void 0!==X){if(X.has(J))return X.get(J);X.set(J,K)}function K(){return O(J,arguments,T(this).constructor)}return K.prototype=Object.create(J.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),S(K,J)},A.exports.__esModule=!0,A.exports.default=A.exports,G(q)}A.exports=G,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){"use strict";var T=t(21),S={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(R,O){var G=R.data,q=O.data,X=R.size.x,J=R.size.y,K=T.a.create(R,O);return{rasterize:function(ee){var ve,$e,Ze,Xe,pt,De,He,Ae,Qe,Be,Re,Te,qe=[],Ue=0;for(Te=0;Te<400;Te++)qe[Te]=0;for(qe[0]=G[0],Qe=null,De=1;De<J-1;De++)for(Xe=0,$e=qe[0],pt=1;pt<X-1;pt++)if(0===q[Re=De*X+pt])if((ve=G[Re])!==$e){if(0===Xe)qe[Ze=Ue+1]=ve,$e=ve,null!==(He=K.contourTracing(De,pt,Ze,ve,S.DIR.OUTSIDE_EDGE))&&(Ue++,Xe=Ze,(Ae=S.createContour2D()).dir=S.CONTOUR_DIR.CW_DIR,Ae.index=Xe,Ae.firstVertex=He,Ae.nextpeer=Qe,Ae.insideContours=null,null!==Qe&&(Qe.prevpeer=Ae),Qe=Ae);else if(null!==(He=K.contourTracing(De,pt,S.DIR.INSIDE_EDGE,ve,Xe))){for((Ae=S.createContour2D()).firstVertex=He,Ae.insideContours=null,Ae.dir=0===ee?S.CONTOUR_DIR.CCW_DIR:S.CONTOUR_DIR.CW_DIR,Ae.index=ee,Be=Qe;null!==Be&&Be.index!==Xe;)Be=Be.nextpeer;null!==Be&&(Ae.nextpeer=Be.insideContours,null!==Be.insideContours&&(Be.insideContours.prevpeer=Ae),Be.insideContours=Ae)}}else q[Re]=Xe;else q[Re]===S.DIR.OUTSIDE_EDGE||q[Re]===S.DIR.INSIDE_EDGE?(Xe=0,$e=q[Re]===S.DIR.INSIDE_EDGE?G[Re]:qe[0]):$e=qe[Xe=q[Re]];for(Be=Qe;null!==Be;)Be.index=ee,Be=Be.nextpeer;return{cc:Qe,count:Ue}},debug:{drawContour:function(ee,ve){var $e,Ze,Xe,pt=ee.getContext("2d"),De=ve;for(pt.strokeStyle="red",pt.fillStyle="red",pt.lineWidth=1,$e=null!==De?De.insideContours:null;null!==De;){switch(null!==$e?(Ze=$e,$e=$e.nextpeer):(Ze=De,$e=null!==(De=De.nextpeer)?De.insideContours:null),Ze.dir){case S.CONTOUR_DIR.CW_DIR:pt.strokeStyle="red";break;case S.CONTOUR_DIR.CCW_DIR:pt.strokeStyle="blue";break;case S.CONTOUR_DIR.UNKNOWN_DIR:pt.strokeStyle="green"}Xe=Ze.firstVertex,pt.beginPath(),pt.moveTo(Xe.x,Xe.y);do{pt.lineTo((Xe=Xe.next).x,Xe.y)}while(Xe!==Ze.firstVertex);pt.stroke()}}}}}};N.a=S},function(A,N,t){"use strict";N.a=function(T,S,R){var O=new T.Uint8Array(R),G=0|S.size,q=T.Math.imul;function X(De,He){De|=0,He|=0;var Ae=0,Qe=0,Re=0,Te=0,qe=0,Ue=0,lt=0;for(Ae=1;(0|Ae)<(G-1|0);Ae=Ae+1|0)for(lt=lt+G|0,Qe=1;(0|Qe)<(G-1|0);Qe=Qe+1|0)O[He+lt+Qe|0]=5==(0|(0|O[De+(Re=lt-G|0)+(qe=Qe-1|0)|0])+(0|O[De+Re+(Ue=Qe+1|0)|0])+(0|O[De+lt+Qe|0])+(0|O[De+(Te=lt+G|0)+qe|0])+(0|O[De+Te+Ue|0]))?1:0}function J(De,He,Ae){De|=0,He|=0,Ae|=0;var Qe=0;for(Qe=0|q(G,G);(0|Qe)>0;)O[Ae+(Qe=Qe-1|0)|0]=(0|O[De+Qe|0])-(0|O[He+Qe|0])|0}function K(De,He,Ae){De|=0,He|=0,Ae|=0;var Qe=0;for(Qe=0|q(G,G);(0|Qe)>0;)O[Ae+(Qe=Qe-1|0)|0]=0|O[De+Qe|0]|O[He+Qe|0]|0}function ee(De){De|=0;var He=0,Ae=0;for(Ae=0|q(G,G);(0|Ae)>0;)He=(0|He)+(0|O[De+(Ae=Ae-1|0)|0])|0;return 0|He}function $e(De,He){De|=0,He|=0;var Ae=0,Qe=0,Re=0,Te=0,qe=0,Ue=0,lt=0;for(Ae=1;(0|Ae)<(G-1|0);Ae=Ae+1|0)for(lt=lt+G|0,Qe=1;(0|Qe)<(G-1|0);Qe=Qe+1|0)O[He+lt+Qe|0]=(0|(0|O[De+(Re=lt-G|0)+(qe=Qe-1|0)|0])+(0|O[De+Re+(Ue=Qe+1|0)|0])+(0|O[De+lt+Qe|0])+(0|O[De+(Te=lt+G|0)+qe|0])+(0|O[De+Te+Ue|0]))>0?1:0}function Ze(De,He){De|=0,He|=0;var Ae=0;for(Ae=0|q(G,G);(0|Ae)>0;)O[He+(Ae=Ae-1|0)|0]=0|O[De+Ae|0]}return{skeletonize:function pt(){var He,Ae,Qe,Re=0;(function ve(De,He){De|=0,He|=0;var Ae=0;for(Ae=0|q(G,G);(0|Ae)>0;)O[De+(Ae=Ae-1|0)|0]=He})(Qe=(Ae=(He=0|q(G,G))+He|0)+He|0,0),function Xe(De){De|=0;var He=0,Ae=0;for(He=0;(0|He)<(G-1|0);He=He+1|0)O[De+He|0]=0,O[De+Ae|0]=0,O[De+(Ae=Ae+G-1|0)|0]=0,Ae=Ae+1|0;for(He=0;(0|He)<(0|G);He=He+1|0)O[De+Ae|0]=0,Ae=Ae+1|0}(0);do{X(0,He),$e(He,Ae),J(0,Ae,Ae),K(Qe,Ae,Qe),Ze(He,0),Re=0==(0|ee(0))|0}while(!Re)}}}},function(A,N,t){A.exports=t(263)},function(A,N,t){var T=t(91),S=t(48),R=t(121),O=t(123),G=t(14),q=t(56),X=t(54);A.exports=function J(K,ee,ve,$e,Ze){K!==ee&&R(ee,function(Xe,pt){if(Ze||(Ze=new T),G(Xe))O(K,ee,pt,ve,J,$e,Ze);else{var De=$e?$e(X(K,pt),Xe,pt+"",K,ee,Ze):void 0;void 0===De&&(De=Xe),S(K,pt,De)}},q)}},function(A,N,t){var T=t(24),S=t(97),R=t(98),O=t(99),G=t(100),q=t(101);function X(J){var K=this.__data__=new T(J);this.size=K.size}X.prototype.clear=S,X.prototype.delete=R,X.prototype.get=O,X.prototype.has=G,X.prototype.set=q,A.exports=X},function(A,N){A.exports=function(){this.__data__=[],this.size=0}},function(A,N,t){var T=t(25),S=Array.prototype.splice;A.exports=function(R){var O=this.__data__,G=T(O,R);return!(G<0||(G==O.length-1?O.pop():S.call(O,G,1),--this.size,0))}},function(A,N,t){var T=t(25);A.exports=function(S){var R=this.__data__,O=T(R,S);return O<0?void 0:R[O][1]}},function(A,N,t){var T=t(25);A.exports=function(S){return T(this.__data__,S)>-1}},function(A,N,t){var T=t(25);A.exports=function(S,R){var O=this.__data__,G=T(O,S);return G<0?(++this.size,O.push([S,R])):O[G][1]=R,this}},function(A,N,t){var T=t(24);A.exports=function(){this.__data__=new T,this.size=0}},function(A,N){A.exports=function(t){var T=this.__data__,S=T.delete(t);return this.size=T.size,S}},function(A,N){A.exports=function(t){return this.__data__.get(t)}},function(A,N){A.exports=function(t){return this.__data__.has(t)}},function(A,N,t){var T=t(24),S=t(44),R=t(47);A.exports=function(O,G){var q=this.__data__;if(q instanceof T){var X=q.__data__;if(!S||X.length<199)return X.push([O,G]),this.size=++q.size,this;q=this.__data__=new R(X)}return q.set(O,G),this.size=q.size,this}},function(A,N,t){var T=t(36),S=t(105),R=t(14),O=t(107),G=/^\[object .+?Constructor\]$/,ee=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");A.exports=function(ve){return!(!R(ve)||S(ve))&&(T(ve)?ee:G).test(O(ve))}},function(A,N,t){var T=t(27),S=Object.prototype,R=S.hasOwnProperty,O=S.toString,G=T?T.toStringTag:void 0;A.exports=function(q){var X=R.call(q,G),J=q[G];try{q[G]=void 0;var K=!0}catch(ve){}var ee=O.call(q);return K&&(X?q[G]=J:delete q[G]),ee}},function(A,N){var t=Object.prototype.toString;A.exports=function(T){return t.call(T)}},function(A,N,t){var T,S=t(106),R=(T=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+T:"";A.exports=function(O){return!!R&&R in O}},function(A,N,t){var T=t(18)["__core-js_shared__"];A.exports=T},function(A,N){var t=Function.prototype.toString;A.exports=function(T){if(null!=T){try{return t.call(T)}catch(S){}try{return T+""}catch(S){}}return""}},function(A,N){A.exports=function(t,T){return null==t?void 0:t[T]}},function(A,N,t){var T=t(110),S=t(24),R=t(44);A.exports=function(){this.size=0,this.__data__={hash:new T,map:new(R||S),string:new T}}},function(A,N,t){var T=t(111),S=t(112),R=t(113),O=t(114),G=t(115);function q(X){var J=-1,K=null==X?0:X.length;for(this.clear();++J<K;){var ee=X[J];this.set(ee[0],ee[1])}}q.prototype.clear=T,q.prototype.delete=S,q.prototype.get=R,q.prototype.has=O,q.prototype.set=G,A.exports=q},function(A,N,t){var T=t(28);A.exports=function(){this.__data__=T?T(null):{},this.size=0}},function(A,N){A.exports=function(t){var T=this.has(t)&&delete this.__data__[t];return this.size-=T?1:0,T}},function(A,N,t){var T=t(28),S=Object.prototype.hasOwnProperty;A.exports=function(R){var O=this.__data__;if(T){var G=O[R];return"__lodash_hash_undefined__"===G?void 0:G}return S.call(O,R)?O[R]:void 0}},function(A,N,t){var T=t(28),S=Object.prototype.hasOwnProperty;A.exports=function(R){var O=this.__data__;return T?void 0!==O[R]:S.call(O,R)}},function(A,N,t){var T=t(28);A.exports=function(S,R){var O=this.__data__;return this.size+=this.has(S)?0:1,O[S]=T&&void 0===R?"__lodash_hash_undefined__":R,this}},function(A,N,t){var T=t(29);A.exports=function(S){var R=T(this,S).delete(S);return this.size-=R?1:0,R}},function(A,N){A.exports=function(t){var T=typeof t;return"string"==T||"number"==T||"symbol"==T||"boolean"==T?"__proto__"!==t:null===t}},function(A,N,t){var T=t(29);A.exports=function(S){return T(this,S).get(S)}},function(A,N,t){var T=t(29);A.exports=function(S){return T(this,S).has(S)}},function(A,N,t){var T=t(29);A.exports=function(S,R){var O=T(this,S),G=O.size;return O.set(S,R),this.size+=O.size==G?0:1,this}},function(A,N,t){var T=t(122)();A.exports=T},function(A,N){A.exports=function(t){return function(T,S,R){for(var O=-1,G=Object(T),q=R(T),X=q.length;X--;){var J=q[t?X:++O];if(!1===S(G[J],J,G))break}return T}}},function(A,N,t){var T=t(48),S=t(124),R=t(125),O=t(128),G=t(129),q=t(30),X=t(15),J=t(133),K=t(52),ee=t(36),ve=t(14),$e=t(135),Ze=t(53),Xe=t(54),pt=t(139);A.exports=function(De,He,Ae,Qe,Be,Re,Te){var qe=Xe(De,Ae),Ue=Xe(He,Ae),lt=Te.get(Ue);if(lt)T(De,Ae,lt);else{var ue=Re?Re(qe,Ue,Ae+"",De,He,Te):void 0,oe=void 0===ue;if(oe){var te=X(Ue),me=!te&&K(Ue),Ie=!te&&!me&&Ze(Ue);ue=Ue,te||me||Ie?X(qe)?ue=qe:J(qe)?ue=O(qe):me?(oe=!1,ue=S(Ue,!0)):Ie?(oe=!1,ue=R(Ue,!0)):ue=[]:$e(Ue)||q(Ue)?(ue=qe,q(qe)?ue=pt(qe):ve(qe)&&!ee(qe)||(ue=G(Ue))):oe=!1}oe&&(Te.set(Ue,ue),Be(ue,Ue,Qe,Re,Te),Te.delete(Ue)),T(De,Ae,ue)}}},function(A,N,t){(function(T){var S=t(18),R=N&&!N.nodeType&&N,O=R&&"object"==typeof T&&T&&!T.nodeType&&T,G=O&&O.exports===R?S.Buffer:void 0,q=G?G.allocUnsafe:void 0;T.exports=function(X,J){if(J)return X.slice();var K=X.length,ee=q?q(K):new X.constructor(K);return X.copy(ee),ee}}).call(this,t(38)(A))},function(A,N,t){var T=t(126);A.exports=function(S,R){var O=R?T(S.buffer):S.buffer;return new S.constructor(O,S.byteOffset,S.length)}},function(A,N,t){var T=t(127);A.exports=function(S){var R=new S.constructor(S.byteLength);return new T(R).set(new T(S)),R}},function(A,N,t){var T=t(18).Uint8Array;A.exports=T},function(A,N){A.exports=function(t,T){var S=-1,R=t.length;for(T||(T=Array(R));++S<R;)T[S]=t[S];return T}},function(A,N,t){var T=t(130),S=t(50),R=t(51);A.exports=function(O){return"function"!=typeof O.constructor||R(O)?{}:T(S(O))}},function(A,N,t){var T=t(14),S=Object.create,R=function(){function O(){}return function(G){if(!T(G))return{};if(S)return S(G);O.prototype=G;var q=new O;return O.prototype=void 0,q}}();A.exports=R},function(A,N){A.exports=function(t,T){return function(S){return t(T(S))}}},function(A,N,t){var T=t(22),S=t(19);A.exports=function(R){return S(R)&&"[object Arguments]"==T(R)}},function(A,N,t){var T=t(39),S=t(19);A.exports=function(R){return S(R)&&T(R)}},function(A,N){A.exports=function(){return!1}},function(A,N,t){var T=t(22),S=t(50),R=t(19),q=Function.prototype.toString,X=Object.prototype.hasOwnProperty,J=q.call(Object);A.exports=function(K){if(!R(K)||"[object Object]"!=T(K))return!1;var ee=S(K);if(null===ee)return!0;var ve=X.call(ee,"constructor")&&ee.constructor;return"function"==typeof ve&&ve instanceof ve&&q.call(ve)==J}},function(A,N,t){var T=t(22),S=t(40),R=t(19),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,A.exports=function(G){return R(G)&&S(G.length)&&!!O[T(G)]}},function(A,N){A.exports=function(t){return function(T){return t(T)}}},function(A,N,t){(function(T){var S=t(45),R=N&&!N.nodeType&&N,O=R&&"object"==typeof T&&T&&!T.nodeType&&T,G=O&&O.exports===R&&S.process,q=function(){try{return O&&O.require&&O.require("util").types||G&&G.binding&&G.binding("util")}catch(J){}}();T.exports=q}).call(this,t(38)(A))},function(A,N,t){var T=t(140),S=t(56);A.exports=function(R){return T(R,S(R))}},function(A,N,t){var T=t(55),S=t(37);A.exports=function(R,O,G,q){var X=!G;G||(G={});for(var J=-1,K=O.length;++J<K;){var ee=O[J],ve=q?q(G[ee],R[ee],ee,G,R):void 0;void 0===ve&&(ve=R[ee]),X?S(G,ee,ve):T(G,ee,ve)}return G}},function(A,N,t){var T=t(142),S=t(30),R=t(15),O=t(52),G=t(31),q=t(53),X=Object.prototype.hasOwnProperty;A.exports=function(J,K){var ee=R(J),ve=!ee&&S(J),$e=!ee&&!ve&&O(J),Ze=!ee&&!ve&&!$e&&q(J),Xe=ee||ve||$e||Ze,pt=Xe?T(J.length,String):[],De=pt.length;for(var He in J)!K&&!X.call(J,He)||Xe&&("length"==He||$e&&("offset"==He||"parent"==He)||Ze&&("buffer"==He||"byteLength"==He||"byteOffset"==He)||G(He,De))||pt.push(He);return pt}},function(A,N){A.exports=function(t,T){for(var S=-1,R=Array(t);++S<t;)R[S]=T(S);return R}},function(A,N,t){var T=t(14),S=t(51),R=t(144),O=Object.prototype.hasOwnProperty;A.exports=function(G){if(!T(G))return R(G);var q=S(G),X=[];for(var J in G)("constructor"!=J||!q&&O.call(G,J))&&X.push(J);return X}},function(A,N){A.exports=function(t){var T=[];if(null!=t)for(var S in Object(t))T.push(S);return T}},function(A,N,t){var T=t(146),S=t(151);A.exports=function(R){return T(function(O,G){var q=-1,X=G.length,J=X>1?G[X-1]:void 0,K=X>2?G[2]:void 0;for(J=R.length>3&&"function"==typeof J?(X--,J):void 0,K&&S(G[0],G[1],K)&&(J=X<3?void 0:J,X=1),O=Object(O);++q<X;){var ee=G[q];ee&&R(O,ee,q,J)}return O})}},function(A,N,t){var T=t(57),S=t(58),R=t(59);A.exports=function(O,G){return R(S(O,G,T),O+"")}},function(A,N){A.exports=function(t,T,S){switch(S.length){case 0:return t.call(T);case 1:return t.call(T,S[0]);case 2:return t.call(T,S[0],S[1]);case 3:return t.call(T,S[0],S[1],S[2])}return t.apply(T,S)}},function(A,N,t){var T=t(149),S=t(49),R=t(57);A.exports=S?function(G,q){return S(G,"toString",{configurable:!0,enumerable:!1,value:T(q),writable:!0})}:R},function(A,N){A.exports=function(t){return function(){return t}}},function(A,N){var t=Date.now;A.exports=function(T){var S=0,R=0;return function(){var O=t(),G=16-(O-R);if(R=O,G>0){if(++S>=800)return arguments[0]}else S=0;return T.apply(void 0,arguments)}}},function(A,N,t){var T=t(26),S=t(39),R=t(31),O=t(14);A.exports=function(G,q,X){if(!O(X))return!1;var J=typeof q;return!!("number"==J?S(X)&&R(q,X.length):"string"==J&&q in X)&&T(X[q],G)}},function(A,N){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(t,T){var S=65535&t,R=65535&T;return S*R+((t>>>16&65535)*R+S*(T>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var T=Object(t),S=1;S<arguments.length;S++){var R=arguments[S];if(null!==R)for(var O in R)Object.prototype.hasOwnProperty.call(R,O)&&(T[O]=R[O])}return T})},function(A,N){A.exports=function(t){if(Array.isArray(t))return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t,T){var S=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=S){var R,O,G=[],q=!0,X=!1;try{for(S=S.call(t);!(q=(R=S.next()).done)&&(G.push(R.value),!T||G.length!==T);q=!0);}catch(J){X=!0,O=J}finally{try{q||null==S.return||S.return()}finally{if(X)throw O}}return G}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t){var T=new Float32Array(2);return T[0]=t[0],T[1]=t[1],T}},function(A,N){A.exports=function(t,T){var S=new Float32Array(2);return S[0]=t,S[1]=T,S}},function(A,N){A.exports=function(t,T){return t[0]=T[0],t[1]=T[1],t}},function(A,N){A.exports=function(t,T,S){return t[0]=T,t[1]=S,t}},function(A,N,t){A.exports=function(S,R){var O=S[0],G=S[1],q=R[0],X=R[1];return Math.abs(O-q)<=T*Math.max(1,Math.abs(O),Math.abs(q))&&Math.abs(G-X)<=T*Math.max(1,Math.abs(G),Math.abs(X))};var T=t(62)},function(A,N){A.exports=function(t,T){return t[0]===T[0]&&t[1]===T[1]}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]+S[0],t[1]=T[1]+S[1],t}},function(A,N,t){A.exports=t(64)},function(A,N,t){A.exports=t(65)},function(A,N,t){A.exports=t(66)},function(A,N){A.exports=function(t,T){return t[0]=1/T[0],t[1]=1/T[1],t}},function(A,N){A.exports=function(t,T,S){return t[0]=Math.min(T[0],S[0]),t[1]=Math.min(T[1],S[1]),t}},function(A,N){A.exports=function(t,T,S){return t[0]=Math.max(T[0],S[0]),t[1]=Math.max(T[1],S[1]),t}},function(A,N){A.exports=function(t,T,S){var R=Math.cos(S),O=Math.sin(S),G=T[0],q=T[1];return t[0]=G*R-q*O,t[1]=G*O+q*R,t}},function(A,N){A.exports=function(t,T){return t[0]=Math.floor(T[0]),t[1]=Math.floor(T[1]),t}},function(A,N){A.exports=function(t,T){return t[0]=Math.ceil(T[0]),t[1]=Math.ceil(T[1]),t}},function(A,N){A.exports=function(t,T){return t[0]=Math.round(T[0]),t[1]=Math.round(T[1]),t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]*S,t[1]=T[1]*S,t}},function(A,N){A.exports=function(t,T,S,R){return t[0]=T[0]+S[0]*R,t[1]=T[1]+S[1]*R,t}},function(A,N,t){A.exports=t(67)},function(A,N,t){A.exports=t(68)},function(A,N,t){A.exports=t(69)},function(A,N,t){A.exports=t(70)},function(A,N){A.exports=function(t,T){return t[0]=-T[0],t[1]=-T[1],t}},function(A,N){A.exports=function(t,T){var S=T[0],R=T[1],O=S*S+R*R;return O>0&&(O=1/Math.sqrt(O),t[0]=T[0]*O,t[1]=T[1]*O),t}},function(A,N){A.exports=function(t,T){return t[0]*T[0]+t[1]*T[1]}},function(A,N){A.exports=function(t,T,S){var R=T[0]*S[1]-T[1]*S[0];return t[0]=t[1]=0,t[2]=R,t}},function(A,N){A.exports=function(t,T,S,R){var O=T[0],G=T[1];return t[0]=O+R*(S[0]-O),t[1]=G+R*(S[1]-G),t}},function(A,N){A.exports=function(t,T){T=T||1;var S=2*Math.random()*Math.PI;return t[0]=Math.cos(S)*T,t[1]=Math.sin(S)*T,t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1];return t[0]=S[0]*R+S[2]*O,t[1]=S[1]*R+S[3]*O,t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1];return t[0]=S[0]*R+S[2]*O+S[4],t[1]=S[1]*R+S[3]*O+S[5],t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1];return t[0]=S[0]*R+S[3]*O+S[6],t[1]=S[1]*R+S[4]*O+S[7],t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1];return t[0]=S[0]*R+S[4]*O+S[12],t[1]=S[1]*R+S[5]*O+S[13],t}},function(A,N,t){A.exports=function(S,R,O,G,q,X){var J,K;for(R||(R=2),O||(O=0),K=G?Math.min(G*R+O,S.length):S.length,J=O;J<K;J+=R)T[0]=S[J],T[1]=S[J+1],q(T,T,X),S[J]=T[0],S[J+1]=T[1];return S};var T=t(63)()},function(A,N){A.exports=function(t,T,S){var R=T[0]*T[0]+T[1]*T[1];if(R>S*S){var O=Math.sqrt(R);t[0]=T[0]/O*S,t[1]=T[1]/O*S}else t[0]=T[0],t[1]=T[1];return t}},function(A,N){A.exports=function(t){var T=new Float32Array(3);return T[0]=t[0],T[1]=t[1],T[2]=t[2],T}},function(A,N,t){A.exports=function(O,G){var q=T(O[0],O[1],O[2]),X=T(G[0],G[1],G[2]);S(q,q),S(X,X);var J=R(q,X);return J>1?0:Math.acos(J)};var T=t(73),S=t(74),R=t(75)},function(A,N){A.exports=function(t,T){return t[0]=T[0],t[1]=T[1],t[2]=T[2],t}},function(A,N){A.exports=function(t,T,S,R){return t[0]=T,t[1]=S,t[2]=R,t}},function(A,N,t){A.exports=function(S,R){var O=S[0],G=S[1],q=S[2],X=R[0],J=R[1],K=R[2];return Math.abs(O-X)<=T*Math.max(1,Math.abs(O),Math.abs(X))&&Math.abs(G-J)<=T*Math.max(1,Math.abs(G),Math.abs(J))&&Math.abs(q-K)<=T*Math.max(1,Math.abs(q),Math.abs(K))};var T=t(71)},function(A,N){A.exports=function(t,T){return t[0]===T[0]&&t[1]===T[1]&&t[2]===T[2]}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]+S[0],t[1]=T[1]+S[1],t[2]=T[2]+S[2],t}},function(A,N,t){A.exports=t(76)},function(A,N,t){A.exports=t(77)},function(A,N,t){A.exports=t(78)},function(A,N){A.exports=function(t,T,S){return t[0]=Math.min(T[0],S[0]),t[1]=Math.min(T[1],S[1]),t[2]=Math.min(T[2],S[2]),t}},function(A,N){A.exports=function(t,T,S){return t[0]=Math.max(T[0],S[0]),t[1]=Math.max(T[1],S[1]),t[2]=Math.max(T[2],S[2]),t}},function(A,N){A.exports=function(t,T){return t[0]=Math.floor(T[0]),t[1]=Math.floor(T[1]),t[2]=Math.floor(T[2]),t}},function(A,N){A.exports=function(t,T){return t[0]=Math.ceil(T[0]),t[1]=Math.ceil(T[1]),t[2]=Math.ceil(T[2]),t}},function(A,N){A.exports=function(t,T){return t[0]=Math.round(T[0]),t[1]=Math.round(T[1]),t[2]=Math.round(T[2]),t}},function(A,N){A.exports=function(t,T,S){return t[0]=T[0]*S,t[1]=T[1]*S,t[2]=T[2]*S,t}},function(A,N){A.exports=function(t,T,S,R){return t[0]=T[0]+S[0]*R,t[1]=T[1]+S[1]*R,t[2]=T[2]+S[2]*R,t}},function(A,N,t){A.exports=t(79)},function(A,N,t){A.exports=t(80)},function(A,N,t){A.exports=t(81)},function(A,N,t){A.exports=t(82)},function(A,N){A.exports=function(t,T){return t[0]=-T[0],t[1]=-T[1],t[2]=-T[2],t}},function(A,N){A.exports=function(t,T){return t[0]=1/T[0],t[1]=1/T[1],t[2]=1/T[2],t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2],q=S[0],X=S[1],J=S[2];return t[0]=O*J-G*X,t[1]=G*q-R*J,t[2]=R*X-O*q,t}},function(A,N){A.exports=function(t,T,S,R){var O=T[0],G=T[1],q=T[2];return t[0]=O+R*(S[0]-O),t[1]=G+R*(S[1]-G),t[2]=q+R*(S[2]-q),t}},function(A,N){A.exports=function(t,T){T=T||1;var S=2*Math.random()*Math.PI,R=2*Math.random()-1,O=Math.sqrt(1-R*R)*T;return t[0]=Math.cos(S)*O,t[1]=Math.sin(S)*O,t[2]=R*T,t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2],q=S[3]*R+S[7]*O+S[11]*G+S[15];return t[0]=(S[0]*R+S[4]*O+S[8]*G+S[12])/(q=q||1),t[1]=(S[1]*R+S[5]*O+S[9]*G+S[13])/q,t[2]=(S[2]*R+S[6]*O+S[10]*G+S[14])/q,t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2];return t[0]=R*S[0]+O*S[3]+G*S[6],t[1]=R*S[1]+O*S[4]+G*S[7],t[2]=R*S[2]+O*S[5]+G*S[8],t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2],q=S[0],X=S[1],J=S[2],K=S[3],ee=K*R+X*G-J*O,ve=K*O+J*R-q*G,$e=K*G+q*O-X*R,Ze=-q*R-X*O-J*G;return t[0]=ee*K+Ze*-q+ve*-J-$e*-X,t[1]=ve*K+Ze*-X+$e*-q-ee*-J,t[2]=$e*K+Ze*-J+ee*-X-ve*-q,t}},function(A,N){A.exports=function(t,T,S,R){var O=S[1],G=S[2],q=T[1]-O,X=T[2]-G,J=Math.sin(R),K=Math.cos(R);return t[0]=T[0],t[1]=O+q*K-X*J,t[2]=G+q*J+X*K,t}},function(A,N){A.exports=function(t,T,S,R){var O=S[0],G=S[2],q=T[0]-O,X=T[2]-G,J=Math.sin(R),K=Math.cos(R);return t[0]=O+X*J+q*K,t[1]=T[1],t[2]=G+X*K-q*J,t}},function(A,N){A.exports=function(t,T,S,R){var O=S[0],G=S[1],q=T[0]-O,X=T[1]-G,J=Math.sin(R),K=Math.cos(R);return t[0]=O+q*K-X*J,t[1]=G+q*J+X*K,t[2]=T[2],t}},function(A,N,t){A.exports=function(S,R,O,G,q,X){var J,K;for(R||(R=3),O||(O=0),K=G?Math.min(G*R+O,S.length):S.length,J=O;J<K;J+=R)T[0]=S[J],T[1]=S[J+1],T[2]=S[J+2],q(T,T,X),S[J]=T[0],S[J+1]=T[1],S[J+2]=T[2];return S};var T=t(72)()},function(A,N,t){var T=function(S){"use strict";var R=Object.prototype,O=R.hasOwnProperty,G="function"==typeof Symbol?Symbol:{},q=G.iterator||"@@iterator",X=G.asyncIterator||"@@asyncIterator",J=G.toStringTag||"@@toStringTag";function K(oe,te,me,Ie){var un,xt,Et,Mt,dt=Object.create((te&&te.prototype instanceof $e?te:$e).prototype),bt=new Ue(Ie||[]);return dt._invoke=(un=oe,xt=me,Et=bt,Mt="suspendedStart",function(nn,rr){if("executing"===Mt)throw new Error("Generator is already running");if("completed"===Mt){if("throw"===nn)throw rr;return{value:void 0,done:!0}}for(Et.method=nn,Et.arg=rr;;){var Ln=Et.delegate;if(Ln){var wn=Re(Ln,Et);if(wn){if(wn===ve)continue;return wn}}if("next"===Et.method)Et.sent=Et._sent=Et.arg;else if("throw"===Et.method){if("suspendedStart"===Mt)throw Mt="completed",Et.arg;Et.dispatchException(Et.arg)}else"return"===Et.method&&Et.abrupt("return",Et.arg);Mt="executing";var ur=ee(un,xt,Et);if("normal"===ur.type){if(Mt=Et.done?"completed":"suspendedYield",ur.arg===ve)continue;return{value:ur.arg,done:Et.done}}"throw"===ur.type&&(Mt="completed",Et.method="throw",Et.arg=ur.arg)}}),dt}function ee(oe,te,me){try{return{type:"normal",arg:oe.call(te,me)}}catch(Ie){return{type:"throw",arg:Ie}}}S.wrap=K;var ve={};function $e(){}function Ze(){}function Xe(){}var pt={};pt[q]=function(){return this};var De=Object.getPrototypeOf,He=De&&De(De(lt([])));He&&He!==R&&O.call(He,q)&&(pt=He);var Ae=Xe.prototype=$e.prototype=Object.create(pt);function Qe(oe){["next","throw","return"].forEach(function(te){oe[te]=function(me){return this._invoke(te,me)}})}function Be(oe,te){var me;this._invoke=function(Ie,le){function dt(){return new te(function(bt,un){!function xt(Et,Mt,nn,rr){var Ln=ee(oe[Et],oe,Mt);if("throw"!==Ln.type){var wn=Ln.arg,ur=wn.value;return ur&&"object"==typeof ur&&O.call(ur,"__await")?te.resolve(ur.__await).then(function(tr){xt("next",tr,nn,rr)},function(tr){xt("throw",tr,nn,rr)}):te.resolve(ur).then(function(tr){wn.value=tr,nn(wn)},function(tr){return xt("throw",tr,nn,rr)})}rr(Ln.arg)}(Ie,le,bt,un)})}return me=me?me.then(dt,dt):dt()}}function Re(oe,te){var me=oe.iterator[te.method];if(void 0===me){if(te.delegate=null,"throw"===te.method){if(oe.iterator.return&&(te.method="return",te.arg=void 0,Re(oe,te),"throw"===te.method))return ve;te.method="throw",te.arg=new TypeError("The iterator does not provide a 'throw' method")}return ve}var Ie=ee(me,oe.iterator,te.arg);if("throw"===Ie.type)return te.method="throw",te.arg=Ie.arg,te.delegate=null,ve;var le=Ie.arg;return le?le.done?(te[oe.resultName]=le.value,te.next=oe.nextLoc,"return"!==te.method&&(te.method="next",te.arg=void 0),te.delegate=null,ve):le:(te.method="throw",te.arg=new TypeError("iterator result is not an object"),te.delegate=null,ve)}function Te(oe){var te={tryLoc:oe[0]};1 in oe&&(te.catchLoc=oe[1]),2 in oe&&(te.finallyLoc=oe[2],te.afterLoc=oe[3]),this.tryEntries.push(te)}function qe(oe){var te=oe.completion||{};te.type="normal",delete te.arg,oe.completion=te}function Ue(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(Te,this),this.reset(!0)}function lt(oe){if(oe){var te=oe[q];if(te)return te.call(oe);if("function"==typeof oe.next)return oe;if(!isNaN(oe.length)){var me=-1,Ie=function le(){for(;++me<oe.length;)if(O.call(oe,me))return le.value=oe[me],le.done=!1,le;return le.value=void 0,le.done=!0,le};return Ie.next=Ie}}return{next:ue}}function ue(){return{value:void 0,done:!0}}return Ze.prototype=Ae.constructor=Xe,Xe.constructor=Ze,Xe[J]=Ze.displayName="GeneratorFunction",S.isGeneratorFunction=function(oe){var te="function"==typeof oe&&oe.constructor;return!!te&&(te===Ze||"GeneratorFunction"===(te.displayName||te.name))},S.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,Xe):(oe.__proto__=Xe,J in oe||(oe[J]="GeneratorFunction")),oe.prototype=Object.create(Ae),oe},S.awrap=function(oe){return{__await:oe}},Qe(Be.prototype),Be.prototype[X]=function(){return this},S.AsyncIterator=Be,S.async=function(oe,te,me,Ie,le){void 0===le&&(le=Promise);var dt=new Be(K(oe,te,me,Ie),le);return S.isGeneratorFunction(te)?dt:dt.next().then(function(bt){return bt.done?bt.value:dt.next()})},Qe(Ae),Ae[J]="Generator",Ae[q]=function(){return this},Ae.toString=function(){return"[object Generator]"},S.keys=function(oe){var te=[];for(var me in oe)te.push(me);return te.reverse(),function Ie(){for(;te.length;){var le=te.pop();if(le in oe)return Ie.value=le,Ie.done=!1,Ie}return Ie.done=!0,Ie}},S.values=lt,Ue.prototype={constructor:Ue,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(qe),!oe)for(var te in this)"t"===te.charAt(0)&&O.call(this,te)&&!isNaN(+te.slice(1))&&(this[te]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if("throw"===oe.type)throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var te=this;function me(xt,Et){return dt.type="throw",dt.arg=oe,te.next=xt,Et&&(te.method="next",te.arg=void 0),!!Et}for(var Ie=this.tryEntries.length-1;Ie>=0;--Ie){var le=this.tryEntries[Ie],dt=le.completion;if("root"===le.tryLoc)return me("end");if(le.tryLoc<=this.prev){var bt=O.call(le,"catchLoc"),un=O.call(le,"finallyLoc");if(bt&&un){if(this.prev<le.catchLoc)return me(le.catchLoc,!0);if(this.prev<le.finallyLoc)return me(le.finallyLoc)}else if(bt){if(this.prev<le.catchLoc)return me(le.catchLoc,!0)}else{if(!un)throw new Error("try statement without catch or finally");if(this.prev<le.finallyLoc)return me(le.finallyLoc)}}}},abrupt:function(oe,te){for(var me=this.tryEntries.length-1;me>=0;--me){var Ie=this.tryEntries[me];if(Ie.tryLoc<=this.prev&&O.call(Ie,"finallyLoc")&&this.prev<Ie.finallyLoc){var le=Ie;break}}le&&("break"===oe||"continue"===oe)&&le.tryLoc<=te&&te<=le.finallyLoc&&(le=null);var dt=le?le.completion:{};return dt.type=oe,dt.arg=te,le?(this.method="next",this.next=le.finallyLoc,ve):this.complete(dt)},complete:function(oe,te){if("throw"===oe.type)throw oe.arg;return"break"===oe.type||"continue"===oe.type?this.next=oe.arg:"return"===oe.type?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):"normal"===oe.type&&te&&(this.next=te),ve},finish:function(oe){for(var te=this.tryEntries.length-1;te>=0;--te){var me=this.tryEntries[te];if(me.finallyLoc===oe)return this.complete(me.completion,me.afterLoc),qe(me),ve}},catch:function(oe){for(var te=this.tryEntries.length-1;te>=0;--te){var me=this.tryEntries[te];if(me.tryLoc===oe){var Ie=me.completion;if("throw"===Ie.type){var le=Ie.arg;qe(me)}return le}}throw new Error("illegal catch attempt")},delegateYield:function(oe,te,me){return this.delegate={iterator:lt(oe),resultName:te,nextLoc:me},"next"===this.method&&(this.arg=void 0),ve}},S}(A.exports);try{regeneratorRuntime=T}catch(S){Function("r","regeneratorRuntime = r")(T)}},function(A,N,t){var T=t(2);A.exports=function(S,R){for(;!Object.prototype.hasOwnProperty.call(S,R)&&null!==(S=T(S)););return S},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(61);A.exports=function(S){if(Array.isArray(S))return T(S)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(230),S=t(240);A.exports=function(R,O){return T(R,O,function(G,q){return S(R,q)})}},function(A,N,t){var T=t(231),S=t(239),R=t(32);A.exports=function(O,G,q){for(var X=-1,J=G.length,K={};++X<J;){var ee=G[X],ve=T(O,ee);q(ve,ee)&&S(K,R(ee,O),ve)}return K}},function(A,N,t){var T=t(32),S=t(43);A.exports=function(R,O){for(var G=0,q=(O=T(O,R)).length;null!=R&&G<q;)R=R[S(O[G++])];return G&&G==q?R:void 0}},function(A,N,t){var T=t(15),S=t(42),R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;A.exports=function(G,q){if(T(G))return!1;var X=typeof G;return!("number"!=X&&"symbol"!=X&&"boolean"!=X&&null!=G&&!S(G))||O.test(G)||!R.test(G)||null!=q&&G in Object(q)}},function(A,N,t){var T=t(234),S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,R=/\\(\\)?/g,O=T(function(G){var q=[];return 46===G.charCodeAt(0)&&q.push(""),G.replace(S,function(X,J,K,ee){q.push(K?ee.replace(R,"$1"):J||X)}),q});A.exports=O},function(A,N,t){var T=t(235);A.exports=function(S){var R=T(S,function(G){return 500===O.size&&O.clear(),G}),O=R.cache;return R}},function(A,N,t){var T=t(47);function S(R,O){if("function"!=typeof R||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var G=function(){var q=arguments,X=O?O.apply(this,q):q[0],J=G.cache;if(J.has(X))return J.get(X);var K=R.apply(this,q);return G.cache=J.set(X,K)||J,K};return G.cache=new(S.Cache||T),G}S.Cache=T,A.exports=S},function(A,N,t){var T=t(237);A.exports=function(S){return null==S?"":T(S)}},function(A,N,t){var T=t(27),S=t(238),R=t(15),O=t(42),G=T?T.prototype:void 0,q=G?G.toString:void 0;A.exports=function X(J){if("string"==typeof J)return J;if(R(J))return S(J,X)+"";if(O(J))return q?q.call(J):"";var K=J+"";return"0"==K&&1/J==-1/0?"-0":K}},function(A,N){A.exports=function(t,T){for(var S=-1,R=null==t?0:t.length,O=Array(R);++S<R;)O[S]=T(t[S],S,t);return O}},function(A,N,t){var T=t(55),S=t(32),R=t(31),O=t(14),G=t(43);A.exports=function(q,X,J,K){if(!O(q))return q;for(var ee=-1,ve=(X=S(X,q)).length,$e=ve-1,Ze=q;null!=Ze&&++ee<ve;){var Xe=G(X[ee]),pt=J;if("__proto__"===Xe||"constructor"===Xe||"prototype"===Xe)return q;if(ee!=$e){var De=Ze[Xe];void 0===(pt=K?K(De,Xe,Ze):void 0)&&(pt=O(De)?De:R(X[ee+1])?[]:{})}T(Ze,Xe,pt),Ze=Ze[Xe]}return q}},function(A,N,t){var T=t(241),S=t(242);A.exports=function(R,O){return null!=R&&S(R,O,T)}},function(A,N){A.exports=function(t,T){return null!=t&&T in Object(t)}},function(A,N,t){var T=t(32),S=t(30),R=t(15),O=t(31),G=t(40),q=t(43);A.exports=function(X,J,K){for(var ee=-1,ve=(J=T(J,X)).length,$e=!1;++ee<ve;){var Ze=q(J[ee]);if(!($e=null!=X&&K(X,Ze)))break;X=X[Ze]}return $e||++ee!=ve?$e:!!(ve=null==X?0:X.length)&&G(ve)&&O(Ze,ve)&&(R(X)||S(X))}},function(A,N,t){var T=t(244),S=t(58),R=t(59);A.exports=function(O){return R(S(O,void 0,T),O+"")}},function(A,N,t){var T=t(245);A.exports=function(S){return null!=S&&S.length?T(S,1):[]}},function(A,N,t){var T=t(246),S=t(247);A.exports=function R(O,G,q,X,J){var K=-1,ee=O.length;for(q||(q=S),J||(J=[]);++K<ee;){var ve=O[K];G>0&&q(ve)?G>1?R(ve,G-1,q,X,J):T(J,ve):X||(J[J.length]=ve)}return J}},function(A,N){A.exports=function(t,T){for(var S=-1,R=T.length,O=t.length;++S<R;)t[O+S]=T[S];return t}},function(A,N,t){var T=t(27),S=t(30),R=t(15),O=T?T.isConcatSpreadable:void 0;A.exports=function(G){return R(G)||S(G)||!!(O&&G&&G[O])}},function(A,N){A.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N,t){var T=t(41),S=t(250);function R(O,G,q){return S()?(A.exports=R=Reflect.construct,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=R=function(X,J,K){var ee=[null];ee.push.apply(ee,J);var ve=new(Function.bind.apply(X,ee));return K&&T(ve,K.prototype),ve},A.exports.__esModule=!0,A.exports.default=A.exports),R.apply(null,arguments)}A.exports=R,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,N){A.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(A,N){A.exports=function(t,T){if(t===T){var S=T[1];t[1]=T[2],t[2]=S}else t[0]=T[0],t[1]=T[2],t[2]=T[1],t[3]=T[3];return t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2],q=T[3],X=S[0],J=S[1],K=S[2],ee=S[3];return t[0]=R*X+G*J,t[1]=O*X+q*J,t[2]=R*K+G*ee,t[3]=O*K+q*ee,t}},function(A,N){A.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,N){A.exports=function(t,T){var S=T[0];return t[0]=T[3],t[1]=-T[1],t[2]=-T[2],t[3]=S,t}},function(A,N){A.exports=function(t,T,S){var R=T[0],O=T[1],G=T[2],q=T[3],X=Math.sin(S),J=Math.cos(S);return t[0]=R*J+G*X,t[1]=O*J+q*X,t[2]=R*-X+G*J,t[3]=O*-X+q*J,t}},function(A,N){A.exports=function(t,T){var S=T[0],R=T[1],O=T[2],G=T[3],q=S*G-O*R;return q?(t[0]=G*(q=1/q),t[1]=-R*q,t[2]=-O*q,t[3]=S*q,t):null}},function(A,N){A.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,N){A.exports=function(t,T,S){var O=T[1],G=T[2],q=T[3],X=S[0],J=S[1];return t[0]=T[0]*X,t[1]=O*X,t[2]=G*J,t[3]=q*J,t}},function(A,N){A.exports=function(t,T){return t[0]=T[0],t[1]=T[1],t[2]=T[2],t[3]=T[3],t}},function(A,N){A.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(A,N){A.exports=function(t,T,S,R){return t[2]=R[2]/R[0],S[0]=R[0],S[1]=R[1],S[3]=R[3]-t[2]*S[1],[t,T,S]}},function(A,N,t){"use strict";t.r(N),t.d(N,"BarcodeDecoder",function(){return fr}),t.d(N,"Readers",function(){return T}),t.d(N,"CameraAccess",function(){return hn}),t.d(N,"ImageDebug",function(){return $e.a}),t.d(N,"ImageWrapper",function(){return X.a}),t.d(N,"ResultCollector",function(){return dr});var T={};t.r(T),t.d(T,"BarcodeReader",function(){return te}),t.d(T,"TwoOfFiveReader",function(){return un}),t.d(T,"NewCodabarReader",function(){return rr}),t.d(T,"Code128Reader",function(){return wn}),t.d(T,"Code32Reader",function(){return Qr}),t.d(T,"Code39Reader",function(){return Yr}),t.d(T,"Code39VINReader",function(){return Pe}),t.d(T,"Code93Reader",function(){return ct}),t.d(T,"EAN2Reader",function(){return Sn}),t.d(T,"EAN5Reader",function(){return Ct}),t.d(T,"EAN8Reader",function(){return Tt}),t.d(T,"EANReader",function(){return _n}),t.d(T,"I2of5Reader",function(){return yn}),t.d(T,"UPCEReader",function(){return he}),t.d(T,"UPCReader",function(){return Ge});var S,ae,R=t(20),O=t.n(R),G=t(17),q=t.n(G),X=(t(152),t(11)),J=t(12),K=t.n(J),ee=t(8),ve=t.n(ee),$e=t(16),Ze=t(3),Xe=t.n(Ze),pt=t(4),De=t.n(pt),He=t(1),Ae=t.n(He),Qe=t(6),Be=t.n(Qe),Re=t(5),Te=t.n(Re),qe=t(2),Ue=t.n(qe),lt=t(0),ue=t.n(lt),oe=t(9);(ae=S||(S={}))[ae.Forward=1]="Forward",ae[ae.Reverse=-1]="Reverse";var te=function(){function ae(_e,ie){Xe()(this,ae),ue()(this,"_row",[]),ue()(this,"config",{}),ue()(this,"supplements",[]),ue()(this,"SINGLE_CODE_ERROR",0),ue()(this,"FORMAT","unknown"),ue()(this,"CONFIG_KEYS",{}),this._row=[],this.config=_e||{},ie&&(this.supplements=ie)}return De()(ae,[{key:"_nextUnset",value:function(_e){for(var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P<_e.length;P++)if(!_e[P])return P;return _e.length}},{key:"_matchPattern",value:function(_e,ie){for(var P=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,j=0,V=0,Z=0,ce=0,ge=0,be=0,je=0;je<_e.length;je++)Z+=_e[je],ce+=ie[je];if(Z<ce)return Number.MAX_VALUE;P*=ge=Z/ce;for(var z=0;z<_e.length;z++){if(be=ie[z]*ge,(V=Math.abs(_e[z]-be)/be)>P)return Number.MAX_VALUE;j+=V}return j/ce}},{key:"_nextSet",value:function(_e){for(var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;P<_e.length;P++)if(_e[P])return P;return _e.length}},{key:"_correctBars",value:function(_e,ie,P){for(var j=P.length,V=0;j--;)(V=_e[P[j]]*(1-(1-ie)/2))>1&&(_e[P[j]]=V)}},{key:"decodePattern",value:function(_e){this._row=_e;var ie=this.decode();return null===ie?(this._row.reverse(),(ie=this.decode())&&(ie.direction=S.Reverse,ie.start=this._row.length-ie.start,ie.end=this._row.length-ie.end)):ie.direction=S.Forward,ie&&(ie.format=this.FORMAT),ie}},{key:"_matchRange",value:function(_e,ie,P){var j;for(j=_e=_e<0?0:_e;j<ie;j++)if(this._row[j]!==P)return!1;return!0}},{key:"_fillCounters",value:function(){var _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,P=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],j=[],V=0;j[V]=0;for(var Z=_e;Z<ie;Z++)this._row[Z]^(P?1:0)?j[V]++:(j[++V]=1,P=!P);return j}},{key:"_toCounters",value:function(_e,ie){var P=ie.length,j=this._row.length,V=!this._row[_e],Z=0;oe.a.init(ie,0);for(var ce=_e;ce<j;ce++)if(this._row[ce]^(V?1:0))ie[Z]++;else{if(++Z===P)break;ie[Z]=1,V=!V}return ie}},{key:"decodeImage",value:function(_e){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),ae}();var Ie=[3,1,3,1,1,1],le=[3,1,1,1,3],dt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],bt=Ie.reduce(function(ae,_e){return ae+_e},0),un=function(ae){Be()(ie,ae);var _e=function me(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"barSpaceRatio",[1,1]),ue()(Ae()(P),"FORMAT","2of5"),ue()(Ae()(P),"SINGLE_CODE_ERROR",.78),ue()(Ae()(P),"AVG_CODE_ERROR",.3),P}return De()(ie,[{key:"_findPattern",value:function(P,j){var V=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ce=[],ge=0,de={error:Number.MAX_VALUE,code:-1,start:0,end:0},be=0,je=0,z=this.AVG_CODE_ERROR;j||(j=this._nextSet(this._row));for(var Ce=0;Ce<P.length;Ce++)ce[Ce]=0;for(var xe=j;xe<this._row.length;xe++)if(this._row[xe]^(V?1:0))ce[ge]++;else{if(ge===ce.length-1){be=0;for(var ot=0;ot<ce.length;ot++)be+=ce[ot];if((je=this._matchPattern(ce,P))<z)return de.error=je,de.start=xe-be,de.end=xe,de;if(!Z)return null;for(var Vt=0;Vt<ce.length-2;Vt++)ce[Vt]=ce[Vt+2];ce[ce.length-2]=0,ce[ce.length-1]=0,ge--}else ge++;ce[ge]=1,V=!V}return null}},{key:"_findStart",value:function(){for(var P=null,j=this._nextSet(this._row),V=1,Z=0;!P;){if(!(P=this._findPattern(Ie,j,!1,!0)))return null;if(V=Math.floor((P.end-P.start)/bt),(Z=P.start-5*V)>=0&&this._matchRange(Z,P.start,0))return P;j=P.end,P=null}return P}},{key:"_verifyTrailingWhitespace",value:function(P){var j=P.end+(P.end-P.start)/2;return j<this._row.length&&this._matchRange(P.end,j,0)?P:null}},{key:"_findEnd",value:function(){this._row.reverse();var P=this._nextSet(this._row),j=this._findPattern(le,P,!1,!0);if(this._row.reverse(),null===j)return null;var V=j.start;return j.start=this._row.length-j.end,j.end=this._row.length-V,null!==j?this._verifyTrailingWhitespace(j):null}},{key:"_verifyCounterLength",value:function(P){return P.length%10==0}},{key:"_decodeCode",value:function(P){for(var j=this.AVG_CODE_ERROR,V={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<dt.length;Z++){var ce=this._matchPattern(P,dt[Z]);ce<V.error&&(V.code=Z,V.error=ce)}return V.error<j?V:null}},{key:"_decodePayload",value:function(P,j,V){for(var Z=0,ce=P.length,ge=[0,0,0,0,0],de=null;Z<ce;){for(var be=0;be<5;be++)ge[be]=P[Z]*this.barSpaceRatio[0],Z+=2;if(!(de=this._decodeCode(ge)))return null;j.push("".concat(de.code)),V.push(de)}return de}},{key:"decode",value:function(P,j){var V=this._findStart();if(!V)return null;var Z=this._findEnd();if(!Z)return null;var ce=this._fillCounters(V.end,Z.start,!1);if(!this._verifyCounterLength(ce))return null;var ge=[];ge.push(V);var de=[];return this._decodePayload(ce,de,ge)?de.length<5?null:(ge.push(Z),{code:de.join(""),start:V.start,end:Z.end,startInfo:V,decodedCodes:ge,format:this.FORMAT}):null}}]),ie}(te);var Et=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Mt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],nn=[26,41,11,14],rr=function(ae){Be()(ie,ae);var _e=function xt(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"_counters",[]),ue()(Ae()(P),"FORMAT","codabar"),P}return De()(ie,[{key:"_computeAlternatingThreshold",value:function(P,j){for(var V=Number.MAX_VALUE,Z=0,ce=0,ge=P;ge<j;ge+=2)(ce=this._counters[ge])>Z&&(Z=ce),ce<V&&(V=ce);return(V+Z)/2|0}},{key:"_toPattern",value:function(P){var j=P+7;if(j>this._counters.length)return-1;for(var V=this._computeAlternatingThreshold(P,j),Z=this._computeAlternatingThreshold(P+1,j),ce=64,de=0,be=0;be<7;be++)this._counters[P+be]>(0==(1&be)?V:Z)&&(de|=ce),ce>>=1;return de}},{key:"_isStartEnd",value:function(P){for(var j=0;j<nn.length;j++)if(nn[j]===P)return!0;return!1}},{key:"_sumCounters",value:function(P,j){for(var V=0,Z=P;Z<j;Z++)V+=this._counters[Z];return V}},{key:"_findStart",value:function(){for(var P=this._nextUnset(this._row),j=1;j<this._counters.length;j++){var V=this._toPattern(j);if(-1!==V&&this._isStartEnd(V))return{start:P+=this._sumCounters(0,j),end:P+this._sumCounters(j,j+8),startCounter:j,endCounter:j+8}}return null}},{key:"_patternToChar",value:function(P){for(var j=0;j<Mt.length;j++)if(Mt[j]===P)return String.fromCharCode(Et[j]);return null}},{key:"_calculatePatternLength",value:function(P){for(var j=0,V=P;V<P+7;V++)j+=this._counters[V];return j}},{key:"_verifyWhitespace",value:function(P,j){return(P-1<=0||this._counters[P-1]>=this._calculatePatternLength(P)/2)&&(j+8>=this._counters.length||this._counters[j+7]>=this._calculatePatternLength(j)/2)}},{key:"_charToPattern",value:function(P){for(var j=P.charCodeAt(0),V=0;V<Et.length;V++)if(Et[V]===j)return Mt[V];return 0}},{key:"_thresholdResultPattern",value:function(P,j){for(var V,Z={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},ce=j,ge=0;ge<P.length;ge++){V=this._charToPattern(P[ge]);for(var de=6;de>=0;de--){var be=2==(1&de)?Z.bar:Z.space,je=1==(1&V)?be.wide:be.narrow;je.size+=this._counters[ce+de],je.counts++,V>>=1}ce+=8}return["space","bar"].forEach(function(z){var Ce=Z[z];Ce.wide.min=Math.floor((Ce.narrow.size/Ce.narrow.counts+Ce.wide.size/Ce.wide.counts)/2),Ce.narrow.max=Math.ceil(Ce.wide.min),Ce.wide.max=Math.ceil((2*Ce.wide.size+1.5)/Ce.wide.counts)}),Z}},{key:"_validateResult",value:function(P,j){for(var V,Z=this._thresholdResultPattern(P,j),ce=j,ge=0;ge<P.length;ge++){V=this._charToPattern(P[ge]);for(var de=6;de>=0;de--){var be=0==(1&de)?Z.bar:Z.space,je=1==(1&V)?be.wide:be.narrow,z=this._counters[ce+de];if(z<je.min||z>je.max)return!1;V>>=1}ce+=8}return!0}},{key:"decode",value:function(P,j){if(this._counters=this._fillCounters(),!(j=this._findStart()))return null;var V,Z=j.startCounter,ce=[];do{if((V=this._toPattern(Z))<0)return null;var ge=this._patternToChar(V);if(null===ge)return null;if(ce.push(ge),Z+=8,ce.length>1&&this._isStartEnd(V))break}while(Z<this._counters.length);if(ce.length-2<4||!this._isStartEnd(V)||!this._verifyWhitespace(j.startCounter,Z-8)||!this._validateResult(ce,j.startCounter))return null;var de=j.start+this._sumCounters(j.startCounter,(Z=Z>this._counters.length?this._counters.length:Z)-8);return{code:ce.join(""),start:j.start,end:de,startInfo:j,decodedCodes:ce,format:this.FORMAT}}}]),ie}(te);var wn=function(ae){Be()(ie,ae);var _e=function Ln(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"CODE_SHIFT",98),ue()(Ae()(P),"CODE_C",99),ue()(Ae()(P),"CODE_B",100),ue()(Ae()(P),"CODE_A",101),ue()(Ae()(P),"START_CODE_A",103),ue()(Ae()(P),"START_CODE_B",104),ue()(Ae()(P),"START_CODE_C",105),ue()(Ae()(P),"STOP_CODE",106),ue()(Ae()(P),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),ue()(Ae()(P),"SINGLE_CODE_ERROR",.64),ue()(Ae()(P),"AVG_CODE_ERROR",.3),ue()(Ae()(P),"FORMAT","code_128"),ue()(Ae()(P),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),P}return De()(ie,[{key:"_decodeCode",value:function(P,j){for(var V={error:Number.MAX_VALUE,code:-1,start:P,end:P,correction:{bar:1,space:1}},Z=[0,0,0,0,0,0],ge=!this._row[P],de=0,be=P;be<this._row.length;be++)if(this._row[be]^(ge?1:0))Z[de]++;else{if(de===Z.length-1){j&&this._correct(Z,j);for(var je=0;je<this.CODE_PATTERN.length;je++){var z=this._matchPattern(Z,this.CODE_PATTERN[je]);z<V.error&&(V.code=je,V.error=z)}return V.end=be,-1===V.code||V.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[V.code]&&(V.correction.bar=this.calculateCorrection(this.CODE_PATTERN[V.code],Z,this.MODULE_INDICES.bar),V.correction.space=this.calculateCorrection(this.CODE_PATTERN[V.code],Z,this.MODULE_INDICES.space)),V)}Z[++de]=1,ge=!ge}return null}},{key:"_correct",value:function(P,j){this._correctBars(P,j.bar,this.MODULE_INDICES.bar),this._correctBars(P,j.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var P=[0,0,0,0,0,0],j=this._nextSet(this._row),V={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},Z=!1,ce=0,ge=j;ge<this._row.length;ge++)if(this._row[ge]^(Z?1:0))P[ce]++;else{if(ce===P.length-1){for(var de=P.reduce(function(Ce,xe){return Ce+xe},0),be=this.START_CODE_A;be<=this.START_CODE_C;be++){var je=this._matchPattern(P,this.CODE_PATTERN[be]);je<V.error&&(V.code=be,V.error=je)}if(V.error<this.AVG_CODE_ERROR)return V.start=ge-de,V.end=ge,V.correction.bar=this.calculateCorrection(this.CODE_PATTERN[V.code],P,this.MODULE_INDICES.bar),V.correction.space=this.calculateCorrection(this.CODE_PATTERN[V.code],P,this.MODULE_INDICES.space),V;for(var z=0;z<4;z++)P[z]=P[z+2];P[4]=0,P[5]=0,ce--}else ce++;P[ce]=1,Z=!Z}return null}},{key:"decode",value:function(P,j){var V=this,Z=this._findStart();if(null===Z)return null;var ce={code:Z.code,start:Z.start,end:Z.end,correction:{bar:Z.correction.bar,space:Z.correction.space}},ge=[];ge.push(ce);for(var de=ce.code,be=function(Yt){switch(Yt){case V.START_CODE_A:return V.CODE_A;case V.START_CODE_B:return V.CODE_B;case V.START_CODE_C:return V.CODE_C;default:return null}}(ce.code),je=!1,z=!1,Ce=z,xe=!0,ot=0,Vt=[],tn=[];!je;){if(Ce=z,z=!1,null!==(ce=this._decodeCode(ce.end,ce.correction)))switch(ce.code!==this.STOP_CODE&&(xe=!0),ce.code!==this.STOP_CODE&&(Vt.push(ce.code),de+=++ot*ce.code),ge.push(ce),be){case this.CODE_A:if(ce.code<64)tn.push(String.fromCharCode(32+ce.code));else if(ce.code<96)tn.push(String.fromCharCode(ce.code-64));else switch(ce.code!==this.STOP_CODE&&(xe=!1),ce.code){case this.CODE_SHIFT:z=!0,be=this.CODE_B;break;case this.CODE_B:be=this.CODE_B;break;case this.CODE_C:be=this.CODE_C;break;case this.STOP_CODE:je=!0}break;case this.CODE_B:if(ce.code<96)tn.push(String.fromCharCode(32+ce.code));else switch(ce.code!==this.STOP_CODE&&(xe=!1),ce.code){case this.CODE_SHIFT:z=!0,be=this.CODE_A;break;case this.CODE_A:be=this.CODE_A;break;case this.CODE_C:be=this.CODE_C;break;case this.STOP_CODE:je=!0}break;case this.CODE_C:if(ce.code<100)tn.push(ce.code<10?"0"+ce.code:ce.code);else switch(ce.code!==this.STOP_CODE&&(xe=!1),ce.code){case this.CODE_A:be=this.CODE_A;break;case this.CODE_B:be=this.CODE_B;break;case this.STOP_CODE:je=!0}}else je=!0;Ce&&(be=be===this.CODE_A?this.CODE_B:this.CODE_A)}return null===ce?null:(ce.end=this._nextUnset(this._row,ce.end),this._verifyTrailingWhitespace(ce)?(de-=ot*Vt[Vt.length-1])%103!==Vt[Vt.length-1]?null:tn.length?(xe&&tn.splice(tn.length-1,1),{code:tn.join(""),start:Z.start,end:ce.end,codeset:be,startInfo:Z,decodedCodes:ge,endInfo:ce,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(P){var j;return(j=P.end+(P.end-P.start)/2)<this._row.length&&this._matchRange(P.end,j,0)?P:null}},{key:"calculateCorrection",value:function(P,j,V){for(var Z=V.length,ce=0,ge=0;Z--;)ge+=P[V[Z]],ce+=j[V[Z]];return ge/ce}}]),ie}(te),ur=t(13),tr=t.n(ur),ti=t(33),Un=t.n(ti);var Zi=new Uint16Array(Un()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(ae){return ae.charCodeAt(0)})),ao=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Yr=function(ae){Be()(ie,ae);var _e=function kr(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","code_39"),P}return De()(ie,[{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),j=P,V=new Uint16Array([0,0,0,0,0,0,0,0,0]),Z=0,ce=!1,ge=P;ge<this._row.length;ge++)if(this._row[ge]^(ce?1:0))V[Z]++;else{if(Z===V.length-1){if(148===this._toPattern(V)){var de=Math.floor(Math.max(0,j-(ge-j)/4));if(this._matchRange(de,j,0))return{start:j,end:ge}}j+=V[0]+V[1];for(var be=0;be<7;be++)V[be]=V[be+2];V[7]=0,V[8]=0,Z--}else Z++;V[Z]=1,ce=!ce}return null}},{key:"_toPattern",value:function(P){for(var j=P.length,V=0,Z=j,ce=0;Z>3;){V=this._findNextWidth(P,V),Z=0;for(var ge=0,de=0;de<j;de++)P[de]>V&&(ge|=1<<j-1-de,Z++,ce+=P[de]);if(3===Z){for(var be=0;be<j&&Z>0;be++)if(P[be]>V&&(Z--,2*P[be]>=ce))return-1;return ge}}return-1}},{key:"_findNextWidth",value:function(P,j){for(var V=Number.MAX_VALUE,Z=0;Z<P.length;Z++)P[Z]<V&&P[Z]>j&&(V=P[Z]);return V}},{key:"_patternToChar",value:function(P){for(var j=0;j<ao.length;j++)if(ao[j]===P)return String.fromCharCode(Zi[j]);return null}},{key:"_verifyTrailingWhitespace",value:function(P,j,V){var Z=oe.a.sum(V);return 3*(j-P-Z)>=Z}},{key:"decode",value:function(){var P=new Uint16Array([0,0,0,0,0,0,0,0,0]),j=[],V=this._findStart();if(!V)return null;var Z,ce,ge=this._nextSet(this._row,V.end);do{P=this._toCounters(ge,P);var de=this._toPattern(P);if(de<0||null===(Z=this._patternToChar(de)))return null;j.push(Z),ce=ge,ge+=oe.a.sum(P),ge=this._nextSet(this._row,ge)}while("*"!==Z);return j.pop(),j.length&&this._verifyTrailingWhitespace(ce,ge,P)?{code:j.join(""),start:V.start,end:ge,startInfo:V,decodedCodes:j,format:this.FORMAT}:null}}]),ie}(te);var Wi=/[AEIO]/g,Qr=function(ae){Be()(ie,ae);var _e=function pi(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","code_32_reader"),P}return De()(ie,[{key:"_decodeCode32",value:function(P){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(P))return null;for(var j=0,V=0;V<P.length;V++)j=32*j+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(P[V]);var Z="".concat(j);return Z.length<9&&(Z=("000000000"+Z).slice(-9)),"A"+Z}},{key:"_checkChecksum",value:function(P){return!!P}},{key:"decode",value:function(){var P=tr()(Ue()(ie.prototype),"decode",this).call(this);if(!P)return null;var j=P.code;if(!j||(j=j.replace(Wi,""),!this._checkChecksum(j)))return null;var V=this._decodeCode32(j);return V?(P.code=V,P):null}}]),ie}(Yr);var Fr=/[IOQ]/g,Ri=/[A-Z0-9]{17}/,Pe=function(ae){Be()(ie,ae);var _e=function zi(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","code_39_vin"),P}return De()(ie,[{key:"_checkChecksum",value:function(P){return!!P}},{key:"decode",value:function(){var P=tr()(Ue()(ie.prototype),"decode",this).call(this);if(!P)return null;var j=P.code;return j&&(j=j.replace(Fr,"")).match(Ri)&&this._checkChecksum(j)?(P.code=j,P):null}}]),ie}(Yr);var st=new Uint16Array(Un()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(ae){return ae.charCodeAt(0)})),et=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ct=function(ae){Be()(ie,ae);var _e=function ke(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","code_93"),P}return De()(ie,[{key:"_patternToChar",value:function(P){for(var j=0;j<et.length;j++)if(et[j]===P)return String.fromCharCode(st[j]);return null}},{key:"_toPattern",value:function(P){for(var j=P.length,V=P.reduce(function(be,je){return be+je},0),Z=0,ce=0;ce<j;ce++){var ge=Math.round(9*P[ce]/V);if(ge<1||ge>4)return-1;if(0==(1&ce))for(var de=0;de<ge;de++)Z=Z<<1|1;else Z<<=ge}return Z}},{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),j=P,V=new Uint16Array([0,0,0,0,0,0]),Z=0,ce=!1,ge=P;ge<this._row.length;ge++)if(this._row[ge]^(ce?1:0))V[Z]++;else{if(Z===V.length-1){if(350===this._toPattern(V)){var de=Math.floor(Math.max(0,j-(ge-j)/4));if(this._matchRange(de,j,0))return{start:j,end:ge}}j+=V[0]+V[1];for(var be=0;be<4;be++)V[be]=V[be+2];V[4]=0,V[5]=0,Z--}else Z++;V[Z]=1,ce=!ce}return null}},{key:"_verifyEnd",value:function(P,j){return!(P===j||!this._row[j])}},{key:"_decodeExtended",value:function(P){for(var j=P.length,V=[],Z=0;Z<j;Z++){var ce=P[Z];if(ce>="a"&&ce<="d"){if(Z>j-2)return null;var ge=P[++Z],de=ge.charCodeAt(0),be=void 0;switch(ce){case"a":if(!(ge>="A"&&ge<="Z"))return null;be=String.fromCharCode(de-64);break;case"b":if(ge>="A"&&ge<="E")be=String.fromCharCode(de-38);else if(ge>="F"&&ge<="J")be=String.fromCharCode(de-11);else if(ge>="K"&&ge<="O")be=String.fromCharCode(de+16);else if(ge>="P"&&ge<="S")be=String.fromCharCode(de+43);else{if(!(ge>="T"&&ge<="Z"))return null;be=String.fromCharCode(127)}break;case"c":if(ge>="A"&&ge<="O")be=String.fromCharCode(de-32);else{if("Z"!==ge)return null;be=":"}break;case"d":if(!(ge>="A"&&ge<="Z"))return null;be=String.fromCharCode(de+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",be),null}V.push(be)}else V.push(ce)}return V}},{key:"_matchCheckChar",value:function(P,j,V){var Z=P.slice(0,j),ce=Z.length,ge=Z.reduce(function(de,be,je){return de+((-1*je+(ce-1))%V+1)*st.indexOf(be.charCodeAt(0))},0);return st[ge%47]===P[j].charCodeAt(0)}},{key:"_verifyChecksums",value:function(P){return this._matchCheckChar(P,P.length-2,20)&&this._matchCheckChar(P,P.length-1,15)}},{key:"decode",value:function(P,j){if(!(j=this._findStart()))return null;var V,Z,ce=new Uint16Array([0,0,0,0,0,0]),ge=[],de=this._nextSet(this._row,j.end);do{ce=this._toCounters(de,ce);var be=this._toPattern(ce);if(be<0||null===(Z=this._patternToChar(be)))return null;ge.push(Z),V=de,de+=oe.a.sum(ce),de=this._nextSet(this._row,de)}while("*"!==Z);return ge.pop(),ge.length&&this._verifyEnd(V,de)&&this._verifyChecksums(ge)?(ge=ge.slice(0,ge.length-2),null===(ge=this._decodeExtended(ge))?null:{code:ge.join(""),start:j.start,end:de,startInfo:j,decodedCodes:ge,format:this.FORMAT}):null}}]),ie}(te);function Ot(ae,_e){var ie=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);_e&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(ae,j).enumerable})),ie.push.apply(ie,P)}return ie}function Lt(ae){for(var _e=1;_e<arguments.length;_e++){var ie=null!=arguments[_e]?arguments[_e]:{};_e%2?Ot(Object(ie),!0).forEach(function(P){ue()(ae,P,ie[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ie)):Ot(Object(ie)).forEach(function(P){Object.defineProperty(ae,P,Object.getOwnPropertyDescriptor(ie,P))})}return ae}var St=[1,1,1],pn=[1,1,1,1,1],Qt=[1,1,2],Tn=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],xn=[0,11,13,14,19,25,28,21,22,26],_n=function(ae){Be()(ie,ae);var _e=function gt(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(P,j){var V;return Xe()(this,ie),V=_e.call(this,q()({supplements:[]},P),j),ue()(Ae()(V),"FORMAT","ean_13"),ue()(Ae()(V),"SINGLE_CODE_ERROR",.7),ue()(Ae()(V),"STOP_PATTERN",[1,1,1]),V}return De()(ie,[{key:"_findPattern",value:function(P,j,V,Z){var ce=new Array(P.length).fill(0),ge={error:Number.MAX_VALUE,start:0,end:0},de=0;j||(j=this._nextSet(this._row));for(var be=!1,je=j;je<this._row.length;je++)if(this._row[je]^(V?1:0))ce[de]+=1;else{if(de===ce.length-1){var z=this._matchPattern(ce,P);if(z<.48&&ge.error&&z<ge.error)return be=!0,ge.error=z,ge.start=je-ce.reduce(function(xe,ot){return xe+ot},0),ge.end=je,ge;if(Z){for(var Ce=0;Ce<ce.length-2;Ce++)ce[Ce]=ce[Ce+2];ce[ce.length-2]=0,ce[ce.length-1]=0,de--}}else de++;ce[de]=1,V=!V}return be?ge:null}},{key:"_decodeCode",value:function(P,j){var V=[0,0,0,0],ce={error:Number.MAX_VALUE,code:-1,start:P,end:P},ge=!this._row[P],de=0;j||(j=Tn.length);for(var be=P;be<this._row.length;be++)if(this._row[be]^(ge?1:0))V[de]++;else{if(de===V.length-1){for(var je=0;je<j;je++){var z=this._matchPattern(V,Tn[je]);ce.end=be,z<ce.error&&(ce.code=je,ce.error=z)}return ce.error>.48?null:ce}V[++de]=1,ge=!ge}return null}},{key:"_findStart",value:function(){for(var P=this._nextSet(this._row),j=null;!j;){if(!(j=this._findPattern(St,P,!1,!0)))return null;var V=j.start-(j.end-j.start);if(V>=0&&this._matchRange(V,j.start,0))return j;P=j.end,j=null}return null}},{key:"_calculateFirstDigit",value:function(P){for(var j=0;j<xn.length;j++)if(P===xn[j])return j;return null}},{key:"_decodePayload",value:function(P,j,V){for(var Z=Lt({},P),ce=0,ge=0;ge<6;ge++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10?(Z.code-=10,ce|=1<<5-ge):ce|=0<<5-ge,j.push(Z.code),V.push(Z)}var de=this._calculateFirstDigit(ce);if(null===de)return null;j.unshift(de);var be=this._findPattern(pn,Z.end,!0,!1);if(null===be||!be.end)return null;V.push(be);for(var je=0;je<6;je++){if(!(be=this._decodeCode(be.end,10)))return null;V.push(be),j.push(be.code)}return be}},{key:"_verifyTrailingWhitespace",value:function(P){var j=P.end+(P.end-P.start);return j<this._row.length&&this._matchRange(P.end,j,0)?P:null}},{key:"_findEnd",value:function(P,j){var V=this._findPattern(this.STOP_PATTERN,P,j,!1);return null!==V?this._verifyTrailingWhitespace(V):null}},{key:"_checksum",value:function(P){for(var j=0,V=P.length-2;V>=0;V-=2)j+=P[V];j*=3;for(var Z=P.length-1;Z>=0;Z-=2)j+=P[Z];return j%10==0}},{key:"_decodeExtensions",value:function(P){var j=this._nextSet(this._row,P),V=this._findPattern(Qt,j,!1,!1);if(null===V)return null;for(var Z=0;Z<this.supplements.length;Z++)try{var ce=this.supplements[Z].decode(this._row,V.end);if(null!==ce)return{code:ce.code,start:j,startInfo:V,end:ce.end,decodedCodes:ce.decodedCodes,format:this.supplements[Z].FORMAT}}catch(ge){console.error("* decodeExtensions error in ",this.supplements[Z],": ",ge)}return null}},{key:"decode",value:function(P,j){var V=new Array,Z=new Array,ce={},ge=this._findStart();if(!ge)return null;var de={start:ge.start,end:ge.end};if(Z.push(de),!(de=this._decodePayload(de,V,Z))||!(de=this._findEnd(de.end,!1))||(Z.push(de),!this._checksum(V)))return null;if(this.supplements.length>0){var be=this._decodeExtensions(de.end);if(!be||!be.decodedCodes)return null;var je=be.decodedCodes[be.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:je.start+((je.end-je.start)/2|0),end:je.end}))return null;ce={supplement:be,code:V.join("")+be.code}}return Lt(Lt({code:V.join(""),start:ge.start,end:de.end,startInfo:ge,decodedCodes:Z},ce),{},{format:this.FORMAT})}}]),ie}(te);var Sn=function(ae){Be()(ie,ae);var _e=function Yn(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","ean_2"),P}return De()(ie,[{key:"decode",value:function(P,j){P&&(this._row=P);var V=0,Z=j,ce=this._row.length,ge=[],de=[],be=null;if(void 0===Z)return null;for(var je=0;je<2&&Z<ce;je++){if(!(be=this._decodeCode(Z)))return null;de.push(be),ge.push(be.code%10),be.code>=10&&(V|=1<<1-je),1!==je&&(Z=this._nextSet(this._row,be.end),Z=this._nextUnset(this._row,Z))}if(2!==ge.length||parseInt(ge.join(""))%4!==V)return null;var z=this._findStart();return{code:ge.join(""),decodedCodes:de,end:be.end,format:this.FORMAT,startInfo:z,start:z.start}}}]),ie}(_n);var En=[24,20,18,17,12,6,3,10,9,5],Ct=function(ae){Be()(ie,ae);var _e=function Bn(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","ean_5"),P}return De()(ie,[{key:"decode",value:function(P,j){if(void 0===j)return null;P&&(this._row=P);for(var V=0,Z=j,ce=this._row.length,ge=null,de=[],be=[],je=0;je<5&&Z<ce;je++){if(!(ge=this._decodeCode(Z)))return null;be.push(ge),de.push(ge.code%10),ge.code>=10&&(V|=1<<4-je),4!==je&&(Z=this._nextSet(this._row,ge.end),Z=this._nextUnset(this._row,Z))}if(5!==de.length||function(Ce){for(var xe=Ce.length,ot=0,Vt=xe-2;Vt>=0;Vt-=2)ot+=Ce[Vt];ot*=3;for(var tn=xe-1;tn>=0;tn-=2)ot+=Ce[tn];return(ot*=3)%10}(de)!==function(Ce){for(var xe=0;xe<10;xe++)if(Ce===En[xe])return xe;return null}(V))return null;var z=this._findStart();return{code:de.join(""),decodedCodes:be,end:ge.end,format:this.FORMAT,startInfo:z,start:z.start}}}]),ie}(_n);var Tt=function(ae){Be()(ie,ae);var _e=function Ke(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","ean_8"),P}return De()(ie,[{key:"_decodePayload",value:function(P,j,V){for(var Z=P,ce=0;ce<4;ce++){if(!(Z=this._decodeCode(Z.end,10)))return null;j.push(Z.code),V.push(Z)}if(null===(Z=this._findPattern(pn,Z.end,!0,!1)))return null;V.push(Z);for(var ge=0;ge<4;ge++){if(!(Z=this._decodeCode(Z.end,10)))return null;V.push(Z),j.push(Z.code)}return Z}}]),ie}(_n);var yn=function(ae){Be()(ie,ae);var _e=function $t(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(P){var j;return Xe()(this,ie),j=_e.call(this,q()({normalizeBarSpaceWidth:!1},P)),ue()(Ae()(j),"barSpaceRatio",[1,1]),ue()(Ae()(j),"SINGLE_CODE_ERROR",.78),ue()(Ae()(j),"AVG_CODE_ERROR",.38),ue()(Ae()(j),"START_PATTERN",[1,1,1,1]),ue()(Ae()(j),"STOP_PATTERN",[1,1,3]),ue()(Ae()(j),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),ue()(Ae()(j),"MAX_CORRECTION_FACTOR",5),ue()(Ae()(j),"FORMAT","i2of5"),P.normalizeBarSpaceWidth&&(j.SINGLE_CODE_ERROR=.38,j.AVG_CODE_ERROR=.09),j.config=P,Te()(j,Ae()(j))}return De()(ie,[{key:"_matchPattern",value:function(P,j){if(this.config.normalizeBarSpaceWidth){for(var V=[0,0],Z=[0,0],ce=[0,0],ge=this.MAX_CORRECTION_FACTOR,de=1/ge,be=0;be<P.length;be++)V[be%2]+=P[be],Z[be%2]+=j[be];ce[0]=Z[0]/V[0],ce[1]=Z[1]/V[1],ce[0]=Math.max(Math.min(ce[0],ge),de),ce[1]=Math.max(Math.min(ce[1],ge),de),this.barSpaceRatio=ce;for(var je=0;je<P.length;je++)P[je]*=this.barSpaceRatio[je%2]}return tr()(Ue()(ie.prototype),"_matchPattern",this).call(this,P,j)}},{key:"_findPattern",value:function(P,j){var V=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],ce=new Array(P.length).fill(0),ge=0,de={error:Number.MAX_VALUE,start:0,end:0},be=this.AVG_CODE_ERROR;V=V||!1,Z=Z||!1,j||(j=this._nextSet(this._row));for(var je=j;je<this._row.length;je++)if(this._row[je]^(V?1:0))ce[ge]++;else{if(ge===ce.length-1){var z=ce.reduce(function(ot,Vt){return ot+Vt},0),Ce=this._matchPattern(ce,P);if(Ce<be)return de.error=Ce,de.start=je-z,de.end=je,de;if(!Z)return null;for(var xe=0;xe<ce.length-2;xe++)ce[xe]=ce[xe+2];ce[ce.length-2]=0,ce[ce.length-1]=0,ge--}else ge++;ce[ge]=1,V=!V}return null}},{key:"_findStart",value:function(){for(var P=0,j=this._nextSet(this._row),V=null,Z=1;!V;){if(!(V=this._findPattern(this.START_PATTERN,j,!1,!0)))return null;if(Z=Math.floor((V.end-V.start)/4),(P=V.start-10*Z)>=0&&this._matchRange(P,V.start,0))return V;j=V.end,V=null}return null}},{key:"_verifyTrailingWhitespace",value:function(P){var j=P.end+(P.end-P.start)/2;return j<this._row.length&&this._matchRange(P.end,j,0)?P:null}},{key:"_findEnd",value:function(){this._row.reverse();var P=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===P)return null;var j=P.start;return P.start=this._row.length-P.end,P.end=this._row.length-j,null!==P?this._verifyTrailingWhitespace(P):null}},{key:"_decodePair",value:function(P){for(var j=[],V=0;V<P.length;V++){var Z=this._decodeCode(P[V]);if(!Z)return null;j.push(Z)}return j}},{key:"_decodeCode",value:function(P){for(var j=this.AVG_CODE_ERROR,V={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<this.CODE_PATTERN.length;Z++){var ce=this._matchPattern(P,this.CODE_PATTERN[Z]);ce<V.error&&(V.code=Z,V.error=ce)}return V.error<j?V:null}},{key:"_decodePayload",value:function(P,j,V){for(var Z=0,ce=P.length,ge=[[0,0,0,0,0],[0,0,0,0,0]],de=null;Z<ce;){for(var be=0;be<5;be++)ge[0][be]=P[Z]*this.barSpaceRatio[0],ge[1][be]=P[Z+1]*this.barSpaceRatio[1],Z+=2;if(!(de=this._decodePair(ge)))return null;for(var je=0;je<de.length;je++)j.push(de[je].code+""),V.push(de[je])}return de}},{key:"_verifyCounterLength",value:function(P){return P.length%10==0}},{key:"decode",value:function(P,j){var V=new Array,Z=new Array,ce=this._findStart();if(!ce)return null;Z.push(ce);var ge=this._findEnd();if(!ge)return null;var de=this._fillCounters(ce.end,ge.start,!1);return this._verifyCounterLength(de)&&this._decodePayload(de,V,Z)?V.length%2!=0||V.length<6?null:(Z.push(ge),{code:V.join(""),start:ce.start,end:ge.end,startInfo:ce,decodedCodes:Z,format:this.FORMAT}):null}}]),ie}(te);function dn(ae,_e){var ie=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);_e&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(ae,j).enumerable})),ie.push.apply(ie,P)}return ie}var he=function(ae){Be()(ie,ae);var _e=function we(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),ue()(Ae()(P),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),ue()(Ae()(P),"FORMAT","upc_e"),P}return De()(ie,[{key:"_decodePayload",value:function(P,j,V){for(var Z=function(de){for(var be=1;be<arguments.length;be++){var je=null!=arguments[be]?arguments[be]:{};be%2?dn(Object(je),!0).forEach(function(z){ue()(de,z,je[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(de,Object.getOwnPropertyDescriptors(je)):dn(Object(je)).forEach(function(z){Object.defineProperty(de,z,Object.getOwnPropertyDescriptor(je,z))})}return de}({},P),ce=0,ge=0;ge<6;ge++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10&&(Z.code=Z.code-10,ce|=1<<5-ge),j.push(Z.code),V.push(Z)}return this._determineParity(ce,j)?Z:null}},{key:"_determineParity",value:function(P,j){for(var V=0;V<this.CODE_FREQUENCY.length;V++)for(var Z=0;Z<this.CODE_FREQUENCY[V].length;Z++)if(P===this.CODE_FREQUENCY[V][Z])return j.unshift(V),j.push(Z),!0;return!1}},{key:"_convertToUPCA",value:function(P){var j=[P[0]],V=P[P.length-2];return(j=V<=2?j.concat(P.slice(1,3)).concat([V,0,0,0,0]).concat(P.slice(3,6)):3===V?j.concat(P.slice(1,4)).concat([0,0,0,0,0]).concat(P.slice(4,6)):4===V?j.concat(P.slice(1,5)).concat([0,0,0,0,0,P[5]]):j.concat(P.slice(1,6)).concat([0,0,0,0,V])).push(P[P.length-1]),j}},{key:"_checksum",value:function(P){return tr()(Ue()(ie.prototype),"_checksum",this).call(this,this._convertToUPCA(P))}},{key:"_findEnd",value:function(P,j){return tr()(Ue()(ie.prototype),"_findEnd",this).call(this,P,!0)}},{key:"_verifyTrailingWhitespace",value:function(P){var j=P.end+(P.end-P.start)/2;return j<this._row.length&&this._matchRange(P.end,j,0)?P:null}}]),ie}(_n);var Ge=function(ae){Be()(ie,ae);var _e=function fe(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(){var P;Xe()(this,ie);for(var j=arguments.length,V=new Array(j),Z=0;Z<j;Z++)V[Z]=arguments[Z];return P=_e.call.apply(_e,[this].concat(V)),ue()(Ae()(P),"FORMAT","upc_a"),P}return De()(ie,[{key:"decode",value:function(P,j){var V=_n.prototype.decode.call(this);return V&&V.code&&13===V.code.length&&"0"===V.code.charAt(0)?(V.code=V.code.substring(1),V):null}}]),ie}(_n),Ne={},Pt_UP=1,Pt_DOWN=-1;Ne.getBarcodeLine=function(ae,_e,ie){var P,j,V,Z,ce,ge=0|_e.x,de=0|_e.y,be=0|ie.x,je=0|ie.y,z=Math.abs(je-de)>Math.abs(be-ge),Ce=[],xe=ae.data,ot=ae.size.x,Vt=255,tn=0;function Yt(Ir,Yi){Vt=(ce=xe[Yi*ot+Ir])<Vt?ce:Vt,tn=ce>tn?ce:tn,Ce.push(ce)}z&&(V=ge,ge=de,de=V,V=be,be=je,je=V),ge>be&&(V=ge,ge=be,be=V,V=de,de=je,je=V);var sn=be-ge,An=Math.abs(je-de);P=sn/2|0,j=de;var Ur=de<je?1:-1;for(Z=ge;Z<be;Z++)z?Yt(j,Z):Yt(Z,j),(P-=An)<0&&(j+=Ur,P+=sn);return{line:Ce,min:Vt,max:tn}},Ne.toBinaryLine=function(ae){var _e,ie,P,j,V,Z,ce=ae.min,ge=ae.max,de=ae.line,be=ce+(ge-ce)/2,je=[],z=(ge-ce)/12,Ce=-z;for(P=de[0]>be?Pt_UP:Pt_DOWN,je.push({pos:0,val:de[0]}),V=0;V<de.length-2;V++)P!==(j=(_e=de[V+1]-de[V])+(ie=de[V+2]-de[V+1])<Ce&&de[V+1]<1.5*be?Pt_DOWN:_e+ie>z&&de[V+1]>.5*be?Pt_UP:P)&&(je.push({pos:V,val:de[V]}),P=j);for(je.push({pos:de.length,val:de[de.length-1]}),Z=je[0].pos;Z<je[1].pos;Z++)de[Z]=de[Z]>be?0:1;for(V=1;V<je.length-1;V++)for(z=je[V+1].val>je[V].val?je[V].val+(je[V+1].val-je[V].val)/3*2|0:je[V+1].val+(je[V].val-je[V+1].val)/3|0,Z=je[V].pos;Z<je[V+1].pos;Z++)de[Z]=de[Z]>z?0:1;return{line:de,threshold:z}},Ne.debug={printFrequency:function(ae,_e){var ie,P=_e.getContext("2d");for(_e.width=ae.length,_e.height=256,P.beginPath(),P.strokeStyle="blue",ie=0;ie<ae.length;ie++)P.moveTo(ie,255),P.lineTo(ie,255-ae[ie]);P.stroke(),P.closePath()},printPattern:function(ae,_e){var ie,P=_e.getContext("2d");for(_e.width=ae.length,P.fillColor="black",ie=0;ie<ae.length;ie++)1===ae[ie]&&P.fillRect(ie,0,1,100)}};var gn=Ne;function Pn(ae,_e){var ie="undefined"!=typeof Symbol&&ae[Symbol.iterator]||ae["@@iterator"];if(!ie){if(Array.isArray(ae)||(ie=function(ge,de){if(ge){if("string"==typeof ge)return Jn(ge,undefined);var be=Object.prototype.toString.call(ge).slice(8,-1);if("Object"===be&&ge.constructor&&(be=ge.constructor.name),"Map"===be||"Set"===be)return Array.from(ge);if("Arguments"===be||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(be))return Jn(ge,undefined)}}(ae))||_e&&ae&&"number"==typeof ae.length){ie&&(ae=ie);var P=0,j=function(){};return{s:j,n:function(){return P>=ae.length?{done:!0}:{done:!1,value:ae[P++]}},e:function(ge){throw ge},f:j}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var V,Z=!0,ce=!1;return{s:function(){ie=ie.call(ae)},n:function(){var ge=ie.next();return Z=ge.done,ge},e:function(ge){ce=!0,V=ge},f:function(){try{Z||null==ie.return||ie.return()}finally{if(ce)throw V}}}}function Jn(ae,_e){(null==_e||_e>ae.length)&&(_e=ae.length);for(var ie=0,P=new Array(_e);ie<_e;ie++)P[ie]=ae[ie];return P}var sr={code_128_reader:wn,ean_reader:_n,ean_5_reader:Ct,ean_2_reader:Sn,ean_8_reader:Tt,code_39_reader:Yr,code_39_vin_reader:Pe,codabar_reader:rr,upc_reader:Ge,upc_e_reader:he,i2of5_reader:yn,"2of5_reader":un,code_93_reader:ct,code_32_reader:Qr},fr={registerReader:function(ae,_e){sr[ae]=_e},create:function(ae,_e){var P=[];function j(){ae.readers.forEach(function(de){var be,je={},z=[];"object"===O()(de)?(be=de.format,je=de.config):"string"==typeof de&&(be=de),je.supplements&&(z=je.supplements.map(function(xe){return new sr[xe]}));try{var Ce=new sr[be](je,z);P.push(Ce)}catch(xe){throw console.error("* Error constructing reader ",be,xe),xe}})}function V(de){var be,je=null,z=gn.getBarcodeLine(_e,de[0],de[1]);for(gn.toBinaryLine(z),be=0;be<P.length&&null===je;be++)je=P[be].decodePattern(z.line);return null===je?null:{codeResult:je,barcodeLine:z}}function Z(de){return ce.apply(this,arguments)}function ce(){return(ce=K()(ve.a.mark(function de(be){var je,z,Ce,xe;return ve.a.wrap(function(ot){for(;;)switch(ot.prev=ot.next){case 0:je=null,z=Pn(P),ot.prev=2,z.s();case 4:if((Ce=z.n()).done){ot.next=14;break}if(!(xe=Ce.value).decodeImage){ot.next=12;break}return ot.next=9,xe.decodeImage(be);case 9:if(!(je=ot.sent)){ot.next=12;break}return ot.abrupt("break",14);case 12:ot.next=4;break;case 14:ot.next=19;break;case 16:ot.prev=16,ot.t0=ot.catch(2),z.e(ot.t0);case 19:return ot.prev=19,z.f(),ot.finish(19);case 22:return ot.abrupt("return",je);case 23:case"end":return ot.stop()}},de,null,[[2,16,19,22]])}))).apply(this,arguments)}function ge(de){var be,je,xe,z=function(xe){return Math.sqrt(Math.pow(Math.abs(xe[1].y-xe[0].y),2)+Math.pow(Math.abs(xe[1].x-xe[0].x),2))}(be=[{x:((xe=de)[1][0]-xe[0][0])/2+xe[0][0],y:(xe[1][1]-xe[0][1])/2+xe[0][1]},{x:(xe[3][0]-xe[2][0])/2+xe[2][0],y:(xe[3][1]-xe[2][1])/2+xe[2][1]}]),Ce=Math.atan2(be[1].y-be[0].y,be[1].x-be[0].x);return null===(be=function(xe,ot,Vt){function tn(Yt){var sn=Yt*Math.sin(ot),An=Yt*Math.cos(ot);xe[0].y-=sn,xe[0].x-=An,xe[1].y+=sn,xe[1].x+=An}for(tn(Vt);Vt>1&&(!_e.inImageWithBorder(xe[0])||!_e.inImageWithBorder(xe[1]));)tn(-(Vt-=Math.ceil(Vt/2)));return xe}(be,Ce,Math.floor(.1*z)))?null:(null===(je=V(be))&&(je=function(xe,ot,Vt){var tn,Yt,sn,An=Math.sqrt(Math.pow(xe[1][0]-xe[0][0],2)+Math.pow(xe[1][1]-xe[0][1],2)),Ur=null,Ir=Math.sin(Vt),Yi=Math.cos(Vt);for(tn=1;tn<16&&null===Ur;tn++)sn={y:(Yt=An/16*tn*(tn%2==0?-1:1))*Ir,x:Yt*Yi},ot[0].y+=sn.x,ot[0].x-=sn.y,ot[1].y+=sn.x,ot[1].x-=sn.y,Ur=V(ot);return Ur}(de,be,Ce)),null===je?null:{codeResult:je.codeResult,line:be,angle:Ce,pattern:je.barcodeLine.line,threshold:je.barcodeLine.threshold})}return j(),{decodeFromBoundingBox:function(de){return ge(de)},decodeFromBoundingBoxes:function(de){var be,je,z=[],Ce=ae.multiple;for(be=0;be<de.length;be++){var xe=de[be];if((je=ge(xe)||{}).box=xe,Ce)z.push(je);else if(je.codeResult)return je}return{barcodes:z}},decodeFromImage:function(de){return K()(ve.a.mark(function be(){return ve.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,Z(de);case 2:return z.abrupt("return",z.sent);case 4:case"end":return z.stop()}},be)}))()},registerReader:function(de,be){if(sr[de])throw new Error("cannot register existing reader",de);sr[de]=be},setReaders:function(de){ae.readers=de,P.length=0,j()}}}},cn=function(){var ae={};function _e(j){return ae[j]||(ae[j]={subscribers:[]}),ae[j]}function ie(j,V){j.async?setTimeout(function(){j.callback(V)},4):j.callback(V)}function P(j,V,Z){var ce;if("function"==typeof V)ce={callback:V,async:Z};else if(!(ce=V).callback)throw new Error("Callback was not specified on options");_e(j).subscribers.push(ce)}return{subscribe:function(j,V,Z){return P(j,V,Z)},publish:function(j,V){var Z=_e(j),ce=Z.subscribers;ce.filter(function(ge){return!!ge.once}).forEach(function(ge){ie(ge,V)}),Z.subscribers=ce.filter(function(ge){return!ge.once}),Z.subscribers.forEach(function(ge){ie(ge,V)})},once:function(j,V){P(j,{callback:V,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(j,V){if(j){var Z=_e(j);Z.subscribers=Z&&V?Z.subscribers.filter(function(ce){return ce.callback!==V}):[]}else ae={}}}}(),kn=t(85),en=t.n(kn),Oe=t(86);var Xt,Dn=function(ae){Be()(ie,ae);var _e=function nt(ae){var _e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(ie){return!1}}();return function(){var ie,P=Ue()(ae);if(_e){var j=Ue()(this).constructor;ie=Reflect.construct(P,arguments,j)}else ie=P.apply(this,arguments);return Te()(this,ie)}}(ie);function ie(P,j){var V;return Xe()(this,ie),V=_e.call(this,P),ue()(Ae()(V),"code",void 0),V.code=j,Object.setPrototypeOf(Ae()(V),ie.prototype),V}return De()(ie)}(t.n(Oe)()(Error)),Ar="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Ft(){try{return navigator.mediaDevices.enumerateDevices()}catch(_e){var ae=new Dn("enumerateDevices is not defined. ".concat(Ar),-1);return Promise.reject(ae)}}function jt(ae){try{return navigator.mediaDevices.getUserMedia(ae)}catch(ie){var _e=new Dn("getUserMedia is not defined. ".concat(Ar),-1);return Promise.reject(_e)}}function ft(ae){return new Promise(function(_e,ie){var P=10;!function j(){P>0?ae.videoWidth>10&&ae.videoHeight>10?_e():window.setTimeout(j,500):ie(new Dn("Unable to play video stream. Is webcam working?",-1)),P--}()})}function Bt(ae,_e){return Zt.apply(this,arguments)}function Zt(){return(Zt=K()(ve.a.mark(function ae(_e,ie){var P;return ve.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,jt(ie);case 2:if(Xt=P=j.sent,!_e){j.next=11;break}return _e.setAttribute("autoplay","true"),_e.setAttribute("muted","true"),_e.setAttribute("playsinline","true"),_e.srcObject=P,_e.addEventListener("loadedmetadata",function(){_e.play()}),j.abrupt("return",ft(_e));case 11:return j.abrupt("return",Promise.resolve());case 12:case"end":return j.stop()}},ae)}))).apply(this,arguments)}function vn(ae){var _e=en()(ae,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==ae.minAspectRatio&&ae.minAspectRatio>0&&(_e.aspectRatio=ae.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==ae.facing&&(_e.facingMode=ae.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),_e}function zt(){var _e=vn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return _e&&_e.deviceId&&_e.facingMode&&delete _e.facingMode,Promise.resolve({audio:!1,video:_e})}function mt(){return(mt=K()(ve.a.mark(function ae(){return ve.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,Ft();case 2:return ie.abrupt("return",ie.sent.filter(function(P){return"videoinput"===P.kind}));case 4:case"end":return ie.stop()}},ae)}))).apply(this,arguments)}function Gt(){if(!Xt)return null;var ae=Xt.getVideoTracks();return ae&&null!=ae&&ae.length?ae[0]:null}var Kt={requestedVideoElement:null,request:function(ae,_e){return K()(ve.a.mark(function ie(){return ve.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return Kt.requestedVideoElement=ae,j.next=3,zt(_e);case 3:return j.abrupt("return",Bt(ae,j.sent));case 5:case"end":return j.stop()}},ie)}))()},release:function(){var ae=Xt&&Xt.getVideoTracks();return null!==Kt.requestedVideoElement&&Kt.requestedVideoElement.pause(),new Promise(function(_e){setTimeout(function(){ae&&ae.length&&ae[0].stop(),Xt=null,Kt.requestedVideoElement=null,_e()},0)})},enumerateVideoDevices:function(){return mt.apply(this,arguments)},getActiveStreamLabel:function(){var ae=Gt();return ae?ae.label:""},getActiveTrack:Gt},hn=Kt,dr={create:function(ae){var _e,ie=document.createElement("canvas"),P=ie.getContext("2d"),j=[],V=null!==(_e=ae.capacity)&&void 0!==_e?_e:20,Z=!0===ae.capture;return{addResult:function(ge,de,be){var je={};(function ce(ge){return!!V&&ge&&(de=ge,!((be=ae.blacklist)&&be.some(function(je){return Object.keys(je).every(function(z){return je[z]===de[z]})})))&&function(de,be){return"function"!=typeof be||be(de)}(ge,ae.filter);var de,be})(be)&&(V--,je.codeResult=be,Z&&(ie.width=de.x,ie.height=de.y,$e.a.drawImage(ge,de,P),je.frame=ie.toDataURL()),j.push(je))},getResults:function(){return j}}}},Lr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},gr=t(7),Zn=De()(function ae(){Xe()(this,ae),ue()(this,"config",void 0),ue()(this,"inputStream",void 0),ue()(this,"framegrabber",void 0),ue()(this,"inputImageWrapper",void 0),ue()(this,"stopped",!1),ue()(this,"boxSize",void 0),ue()(this,"resultCollector",void 0),ue()(this,"decoder",void 0),ue()(this,"workerPool",[]),ue()(this,"onUIThread",!0),ue()(this,"canvasContainer",new Ki)}),co=De()(function ae(){Xe()(this,ae),ue()(this,"image",void 0),ue()(this,"overlay",void 0)}),Ki=De()(function ae(){Xe()(this,ae),ue()(this,"ctx",void 0),ue()(this,"dom",void 0),this.ctx=new co,this.dom=new co}),an=t(23);function vo(ae){return"undefined"==typeof document?null:ae instanceof HTMLElement&&ae.nodeName&&1===ae.nodeType?ae:document.querySelector("string"==typeof ae?ae:"#interactive.viewport")}function Dr(ae,_e){var V,Z,ie=(V=_e,(Z=document.querySelector(ae))||((Z=document.createElement("canvas")).className=V),Z),P=ie.getContext("2d");return{canvas:ie,context:P}}var ni={274:"orientation"},Br=Object.keys(ni).map(function(ae){return ni[ae]});function $o(ae){return new Promise(function(_e){var ie=new FileReader;ie.onload=function(P){return _e(P.target.result)},ie.readAsArrayBuffer(ae)})}function Ti(ae){return new Promise(function(_e,ie){var P=new XMLHttpRequest;P.open("GET",ae,!0),P.responseType="blob",P.onreadystatechange=function(){P.readyState!==XMLHttpRequest.DONE||200!==P.status&&0!==P.status||_e(this.response)},P.onerror=ie,P.send()})}function ri(ae){var _e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br,ie=new DataView(ae),P=ae.byteLength,j=_e.reduce(function(Z,ce){var ge=Object.keys(ni).filter(function(de){return ni[de]===ce})[0];return ge&&(Z[ge]=ce),Z},{}),V=2;if(255!==ie.getUint8(0)||216!==ie.getUint8(1))return!1;for(;V<P;){if(255!==ie.getUint8(V))return!1;if(225===ie.getUint8(V+1))return nr(ie,V+4,j);V+=2+ie.getUint16(V+2)}return!1}function nr(ae,_e,ie){if("Exif"!==function(Z,ce,ge){for(var de="",be=ce;be<ce+4;be++)de+=String.fromCharCode(Z.getUint8(be));return de}(ae,_e))return!1;var P,j=_e+6;if(18761===ae.getUint16(j))P=!1;else{if(19789!==ae.getUint16(j))return!1;P=!0}if(42!==ae.getUint16(j+2,!P))return!1;var V=ae.getUint32(j+4,!P);return!(V<8)&&function(Z,ce,ge,de,be){for(var je=Z.getUint16(ge,!be),z={},Ce=0;Ce<je;Ce++){var xe=ge+12*Ce+2,ot=de[Z.getUint16(xe,!be)];ot&&(z[ot]=ts(Z,xe,0,0,be))}return z}(ae,0,j+V,ie,P)}function ts(ae,_e,ie,P,j){var V=ae.getUint16(_e+2,!j),Z=ae.getUint32(_e+4,!j);return 3===V&&1===Z?ae.getUint16(_e+8,!j):null}var Zs={};function bo(ae,_e){ae.onload=function(){_e.loaded(this)}}Zs.load=function(ae,_e,ie,P,j){var V,Z,ce,ge=new Array(P),de=new Array(ge.length);if(!1===j)ge[0]=ae;else for(V=0;V<ge.length;V++)ce=ie+V,ge[V]="".concat(ae,"image-").concat("00".concat(ce).slice(-3),".jpg");for(de.notLoaded=[],de.addImage=function(be){de.notLoaded.push(be)},de.loaded=function(be){for(var je=de.notLoaded,z=0;z<je.length;z++)if(je[z]===be){je.splice(z,1);for(var Ce=0;Ce<ge.length;Ce++){var xe=ge[Ce].substr(ge[Ce].lastIndexOf("/"));if(-1!==be.src.lastIndexOf(xe)){de[Ce]={img:be};break}}break}0===je.length&&(!1===j?function(ot){var Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Br;return/^blob:/i.test(ot)?Ti(ot).then($o).then(function(tn){return ri(tn,Vt)}):Promise.resolve(null)}(ae,["orientation"]).then(function(ot){de[0].tags=ot,_e(de)}).catch(function(ot){console.log(ot),_e(de)}):_e(de))},V=0;V<ge.length;V++)Z=new Image,de.addImage(Z),bo(Z,de),Z.src=ge[V]};var Ai=Zs,Xr={createVideoStream:function(ae){var _e,ie,P=null,j=["canrecord","ended"],V={},Z={x:0,y:0,type:"Point"},ce={x:0,y:0,type:"XYSize"},ge={getRealWidth:function(){return ae.videoWidth},getRealHeight:function(){return ae.videoHeight},getWidth:function(){return _e},getHeight:function(){return ie},setWidth:function(de){_e=de},setHeight:function(de){ie=de},setInputStream:function(de){P=de,this.setAttribute("src",void 0!==de.src?de.src:"")},ended:function(){return ae.ended},getConfig:function(){return P},setAttribute:function(de,be){ae&&ae.setAttribute(de,be)},pause:function(){ae.pause()},play:function(){ae.play()},setCurrentTime:function(de){var be;"LiveStream"!==(null===(be=P)||void 0===be?void 0:be.type)&&this.setAttribute("currentTime",de.toString())},addEventListener:function(de,be,je){-1!==j.indexOf(de)?(V[de]||(V[de]=[]),V[de].push(be)):ae.addEventListener(de,be,je)},clearEventHandlers:function(){j.forEach(function(de){var be=V[de];be&&be.length>0&&be.forEach(function(je){ae.removeEventListener(de,je)})})},trigger:function(de,be){var je,z,Ce,xe,ot,Vt=V[de];if("canrecord"===de&&(xe=ae.videoWidth,ot=ae.videoHeight,_e=null!==(z=P)&&void 0!==z&&z.size?xe/ot>1?P.size:Math.floor(xe/ot*P.size):xe,ie=null!==(Ce=P)&&void 0!==Ce&&Ce.size?xe/ot>1?Math.floor(ot/xe*P.size):P.size:ot,ce.x=_e,ce.y=ie),Vt&&Vt.length>0)for(je=0;je<Vt.length;je++)Vt[je].apply(ge,be)},setTopRight:function(de){Z.x=de.x,Z.y=de.y},getTopRight:function(){return Z},setCanvasSize:function(de){ce.x=de.x,ce.y=de.y},getCanvasSize:function(){return ce},getFrame:function(){return ae}};return ge},createLiveStream:function(ae){ae&&ae.setAttribute("autoplay","true");var _e=Xr.createVideoStream(ae);return _e.ended=function(){return!1},_e},createImageStream:function(){var ae,_e,ie=null,P=0,j=0,V=0,Z=!0,ce=!1,ge=null,de=0,be=null,je=!1,z=["canrecord","ended"],Ce={},xe={x:0,y:0,type:"Point"},ot={x:0,y:0,type:"XYSize"};function Vt(Yt,sn){var An,Ur=Ce[Yt];if(Ur&&Ur.length>0)for(An=0;An<Ur.length;An++)Ur[An].apply(tn,sn)}var tn={trigger:Vt,getWidth:function(){return ae},getHeight:function(){return _e},setWidth:function(Yt){ae=Yt},setHeight:function(Yt){_e=Yt},getRealWidth:function(){return P},getRealHeight:function(){return j},setInputStream:function(Yt){var sn;!1===Yt.sequence?(be=Yt.src,de=1):(be=Yt.src,de=Yt.length),ce=!1,Ai.load(be,function(An){var Ur,Ir;if(ge=An,An[0].tags&&An[0].tags.orientation)switch(An[0].tags.orientation){case 6:case 8:P=An[0].img.height,j=An[0].img.width;break;default:P=An[0].img.width,j=An[0].img.height}else P=An[0].img.width,j=An[0].img.height;ae=null!==(Ur=ie)&&void 0!==Ur&&Ur.size?P/j>1?ie.size:Math.floor(P/j*ie.size):P,_e=null!==(Ir=ie)&&void 0!==Ir&&Ir.size?P/j>1?Math.floor(j/P*ie.size):ie.size:j,ot.x=ae,ot.y=_e,ce=!0,V=0,setTimeout(function(){Vt("canrecord",[])},0)},1,de,null===(sn=ie=Yt)||void 0===sn?void 0:sn.sequence)},ended:function(){return je},setAttribute:function(){},getConfig:function(){return ie},pause:function(){Z=!0},play:function(){Z=!1},setCurrentTime:function(Yt){V=Yt},addEventListener:function(Yt,sn){-1!==z.indexOf(Yt)&&(Ce[Yt]||(Ce[Yt]=[]),Ce[Yt].push(sn))},clearEventHandlers:function(){Object.keys(Ce).forEach(function(Yt){return delete Ce[Yt]})},setTopRight:function(Yt){xe.x=Yt.x,xe.y=Yt.y},getTopRight:function(){return xe},setCanvasSize:function(Yt){ot.x=Yt.x,ot.y=Yt.y},getCanvasSize:function(){return ot},getFrame:function(){var Yt,sn;return ce?(Z||(Yt=null===(sn=ge)||void 0===sn?void 0:sn[V],V<de-1?V++:setTimeout(function(){je=!0,Vt("ended",[])},0)),Yt):null}};return tn}},ns=Xr,_i=t(10),ki=Math.PI/180,ha={create:function(ae,_e){var ie,P={},j=ae.getConfig(),V=(Object(_i.h)(ae.getRealWidth(),ae.getRealHeight()),ae.getCanvasSize()),Z=Object(_i.h)(ae.getWidth(),ae.getHeight()),ce=ae.getTopRight(),ge=ce.x,de=ce.y,be=null,je=null;return(ie=_e||document.createElement("canvas")).width=V.x,ie.height=V.y,be=ie.getContext("2d"),je=new Uint8Array(Z.x*Z.y),P.attachData=function(z){je=z},P.getData=function(){return je},P.grab=function(){var z,tn,Yt,Ce=j.halfSample,xe=ae.getFrame(),ot=xe,Vt=0;if(ot){if((tn=ie).width!==(Yt=V).x&&(tn.width=Yt.x),tn.height!==Yt.y&&(tn.height=Yt.y),"ImageStream"===j.type&&(ot=xe.img,xe.tags&&xe.tags.orientation))switch(xe.tags.orientation){case 6:Vt=90*ki;break;case 8:Vt=-90*ki}return 0!==Vt?(be.translate(V.x/2,V.y/2),be.rotate(Vt),be.drawImage(ot,-V.y/2,-V.x/2,V.y,V.x),be.rotate(-Vt),be.translate(-V.x/2,-V.y/2)):be.drawImage(ot,0,0,V.x,V.y),z=be.getImageData(ge,de,Z.x,Z.y).data,Ce?Object(_i.e)(z,Z,je):Object(_i.c)(z,je,j),!0}return!1},P.getSize=function(){return Z},P}},ko=ha;function Ws(ae,_e){var ie=Object.keys(ae);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(ae);_e&&(P=P.filter(function(j){return Object.getOwnPropertyDescriptor(ae,j).enumerable})),ie.push.apply(ie,P)}return ie}function xs(ae){for(var _e=1;_e<arguments.length;_e++){var ie=null!=arguments[_e]?arguments[_e]:{};_e%2?Ws(Object(ie),!0).forEach(function(P){ue()(ae,P,ie[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(ie)):Ws(Object(ie)).forEach(function(P){Object.defineProperty(ae,P,Object.getOwnPropertyDescriptor(ie,P))})}return ae}var Ei=[];function As(ae){return xs(xs({},ae),{},{inputStream:xs(xs({},ae.inputStream),{},{target:null})})}function zc(ae){if(ae){var _e=ae().default;if(!_e)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var ie;function P(V){self.postMessage({event:"processed",imageData:ie.data,result:V},[ie.data.buffer])}function j(){self.postMessage({event:"initialized",imageData:ie.data},[ie.data.buffer])}self.onmessage=function(V){if("init"===V.data.cmd){var Z=V.data.config;Z.numOfWorkers=0,ie=new _e.ImageWrapper({x:V.data.size.x,y:V.data.size.y},new Uint8Array(V.data.imageData)),_e.init(Z,j,ie),_e.onProcessed(P)}else"process"===V.data.cmd?(ie.data=new Uint8Array(V.data.imageData),_e.start()):"setReaders"===V.data.cmd?_e.setReaders(V.data.readers):"registerReader"===V.data.cmd&&_e.registerReader(V.data.name,V.data.reader)}}function Is(ae,_e,ie){var P,j,V=("undefined"!=typeof __factorySource__&&(j=__factorySource__),P=new Blob(["("+zc.toString()+")("+j+");"],{type:"text/javascript"}),window.URL.createObjectURL(P)),Z={worker:new Worker(V),imageData:new Uint8Array(_e.getWidth()*_e.getHeight()),busy:!0};Z.worker.onmessage=function(ce){"initialized"===ce.data.event?(URL.revokeObjectURL(V),Z.busy=!1,Z.imageData=new Uint8Array(ce.data.imageData),ie(Z)):"processed"===ce.data.event&&(Z.imageData=new Uint8Array(ce.data.imageData),Z.busy=!1)},Z.worker.postMessage({cmd:"init",size:{x:_e.getWidth(),y:_e.getHeight()},imageData:Z.imageData,config:As(ae)},[Z.imageData.buffer])}function zs(ae,_e,ie,P){var j=ae-Ei.length;if(0===j&&P)P();else if(j<0)Ei.slice(j).forEach(function(ce){ce.worker.terminate()}),Ei=Ei.slice(0,j),P&&P();else{var V=function(ce){Ei.push(ce),Ei.length>=ae&&P&&P()};if(_e)for(var Z=0;Z<j;Z++)Is(_e,ie,V)}}function rs(ae,_e,ie){for(var P=ae.length;P--;)ae[P][0]+=_e,ae[P][1]+=ie}var is=function(){function ae(){var P=this;Xe()(this,ae),ue()(this,"context",new Zn),ue()(this,"canRecord",function(j){var V;P.context.config&&(an.a.checkImageConstraints(P.context.inputStream,null===(V=P.context.config)||void 0===V?void 0:V.locator),P.initCanvas(),P.context.framegrabber=ko.create(P.context.inputStream,P.context.canvasContainer.dom.image),void 0===P.context.config.numOfWorkers&&(P.context.config.numOfWorkers=0),zs(P.context.config.numOfWorkers,P.context.config,P.context.inputStream,function(){var Z;0===(null===(Z=P.context.config)||void 0===Z?void 0:Z.numOfWorkers)&&P.initializeData(),P.ready(j)}))}),ue()(this,"update",function(){if(P.context.onUIThread){var j,V=(ce=P.context.framegrabber,Ei.length?!!(ge=Ei.filter(function(de){return!de.busy})[0])&&(ce.attachData(ge.imageData),ce.grab()&&(ge.busy=!0,ge.worker.postMessage({cmd:"process",imageData:ge.imageData},[ge.imageData.buffer])),!0):null);V||(P.context.framegrabber.attachData(null===(j=P.context.inputImageWrapper)||void 0===j?void 0:j.data),P.context.framegrabber.grab()&&(V||P.locateAndDecode()))}else{var Z;P.context.framegrabber.attachData(null===(Z=P.context.inputImageWrapper)||void 0===Z?void 0:Z.data),P.context.framegrabber.grab(),P.locateAndDecode()}var ce,ge})}var _e,ie;return De()(ae,[{key:"initBuffers",value:function(P){if(this.context.config){var j=(ce=this.context.inputStream,de=this.context.config.locator,be=P||new X.a({x:ce.getWidth(),y:ce.getHeight(),type:"XYSize"}),je=[Object(gr.clone)([0,0]),Object(gr.clone)([0,be.size.y]),Object(gr.clone)([be.size.x,be.size.y]),Object(gr.clone)([be.size.x,0])],an.a.init(be,de),{inputImageWrapper:be,boxSize:je}),Z=j.boxSize;this.context.inputImageWrapper=j.inputImageWrapper,this.context.boxSize=Z}var ce,de,be,je}},{key:"initializeData",value:function(P){this.context.config&&(this.initBuffers(P),this.context.decoder=fr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?vo(this.context.config.inputStream.target):null}},{key:"ready",value:function(P){this.context.inputStream.play(),P()}},{key:"initCanvas",value:function(){var P=function mr(ae){var _e,ie,P,j,V=vo(null==ae||null===(_e=ae.config)||void 0===_e||null===(ie=_e.inputStream)||void 0===ie?void 0:ie.target),Z=null==ae||null===(P=ae.config)||void 0===P||null===(j=P.inputStream)||void 0===j?void 0:j.type;if(!Z)return null;var ce=function(de){if("undefined"!=typeof document){var be=Dr("canvas.imgBuffer","imgBuffer"),je=Dr("canvas.drawingBuffer","drawingBuffer");return be.canvas.width=je.canvas.width=de.x,be.canvas.height=je.canvas.height=de.y,{dom:{image:be.canvas,overlay:je.canvas},ctx:{image:be.context,overlay:je.context}}}return null}(ae.inputStream.getCanvasSize());if(!ce)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var ge=ce.dom;return"undefined"!=typeof document&&V&&("ImageStream"!==Z||V.contains(ge.image)||V.appendChild(ge.image),V.contains(ge.overlay)||V.appendChild(ge.overlay)),ce}(this.context);if(P){var j=P.ctx,V=P.dom;this.context.canvasContainer.dom.image=V.image,this.context.canvasContainer.dom.overlay=V.overlay,this.context.canvasContainer.ctx.image=j.image,this.context.canvasContainer.ctx.overlay=j.overlay}}},{key:"initInputStream",value:function(P){if(this.context.config&&this.context.config.inputStream){var j=this.context.config.inputStream,V=j.type,Z=j.constraints,ce=function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",je=arguments.length>1?arguments[1]:void 0,z=arguments.length>2?arguments[2]:void 0;switch(be){case"VideoStream":var Ce=document.createElement("video");return{video:Ce,inputStream:z.createVideoStream(Ce)};case"ImageStream":return{inputStream:z.createImageStream()};case"LiveStream":var xe=null;return je&&((xe=je.querySelector("video"))||(xe=document.createElement("video"),je.appendChild(xe))),{video:xe,inputStream:z.createLiveStream(xe)};default:return console.error("* setupInputStream invalid type ".concat(be)),{video:null,inputStream:null}}}(V,this.getViewPort(),ns),ge=ce.video,de=ce.inputStream;"LiveStream"===V&&ge&&hn.request(ge,Z).then(function(){return de.trigger("canrecord")}).catch(function(be){return P(be)}),de.setAttribute("preload","auto"),de.setInputStream(this.context.config.inputStream),de.addEventListener("canrecord",this.canRecord.bind(void 0,P)),this.context.inputStream=de}}},{key:"getBoundingBoxes",value:function(){var P;return null!==(P=this.context.config)&&void 0!==P&&P.locate?an.a.locate():[[Object(gr.clone)(this.context.boxSize[0]),Object(gr.clone)(this.context.boxSize[1]),Object(gr.clone)(this.context.boxSize[2]),Object(gr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(P){var de,be,je,j=this,V=this.context.inputStream.getTopRight(),Z=V.x,ce=V.y;if((0!==Z||0!==ce)&&(P.barcodes&&P.barcodes.forEach(function(de){return j.transformResult(de)}),P.line&&2===P.line.length&&(je=ce,(de=P.line)[0].x+=be=Z,de[0].y+=je,de[1].x+=be,de[1].y+=je),P.box&&rs(P.box,Z,ce),P.boxes&&P.boxes.length>0))for(var ge=0;ge<P.boxes.length;ge++)rs(P.boxes[ge],Z,ce)}},{key:"addResult",value:function(P,j){var V=this;j&&this.context.resultCollector&&(P.barcodes?P.barcodes.filter(function(Z){return Z.codeResult}).forEach(function(Z){return V.addResult(Z,j)}):P.codeResult&&this.context.resultCollector.addResult(j,this.context.inputStream.getCanvasSize(),P.codeResult))}},{key:"hasCodeResult",value:function(P){return!(!P||!(P.barcodes?P.barcodes.some(function(j){return j.codeResult}):P.codeResult))}},{key:"publishResult",value:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,j=arguments.length>1?arguments[1]:void 0,V=P;P&&this.context.onUIThread&&(this.transformResult(P),this.addResult(P,j),V=P.barcodes||P),cn.publish("processed",V),this.hasCodeResult(P)&&cn.publish("detected",V)}},{key:"locateAndDecode",value:(ie=K()(ve.a.mark(function P(){var j,V,Z,ce,ge;return ve.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:if(!(j=this.getBoundingBoxes())){de.next=12;break}return de.next=4,this.context.decoder.decodeFromBoundingBoxes(j);case 4:if(de.t0=de.sent,de.t0){de.next=7;break}de.t0={};case 7:(Z=de.t0).boxes=j,this.publishResult(Z,null===(V=this.context.inputImageWrapper)||void 0===V?void 0:V.data),de.next=16;break;case 12:return de.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(ce=de.sent)?this.publishResult(ce,null===(ge=this.context.inputImageWrapper)||void 0===ge?void 0:ge.data):this.publishResult();case 16:case"end":return de.stop()}},P,this)})),function(){return ie.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var P,j=this,V=null,Z=1e3/((null===(P=this.context.config)||void 0===P?void 0:P.frequency)||60);this.context.stopped=!1;var ce=this.context;!function ge(de){V=V||de,ce.stopped||(de>=V&&(V+=Z,j.update()),window.requestAnimationFrame(ge))}(performance.now())}},{key:"start",value:function(){var P,j;this.context.onUIThread&&"LiveStream"===(null===(P=this.context.config)||void 0===P||null===(j=P.inputStream)||void 0===j?void 0:j.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(_e=K()(ve.a.mark(function P(){var j;return ve.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:if(this.context.stopped=!0,zs(0),null===(j=this.context.config)||void 0===j||!j.inputStream||"LiveStream"!==this.context.config.inputStream.type){V.next=6;break}return V.next=5,hn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return V.stop()}},P,this)})),function(){return _e.apply(this,arguments)})},{key:"setReaders",value:function(P){var j;this.context.decoder&&this.context.decoder.setReaders(P),j=P,Ei.forEach(function(V){return V.worker.postMessage({cmd:"setReaders",readers:j})})}},{key:"registerReader",value:function(P,j){var V,Z;fr.registerReader(P,j),this.context.decoder&&this.context.decoder.registerReader(P,j),V=P,Z=j,Ei.forEach(function(ce){return ce.worker.postMessage({cmd:"registerReader",name:V,reader:Z})})}}]),ae}(),Fo=new is,ja=Fo.context,gs={init:function(ae,_e,ie){var P,j=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Fo;return _e||(P=new Promise(function(V,Z){_e=function(ce){ce?Z(ce):V()}})),j.context.config=q()({},Lr,ae),j.context.config.numOfWorkers>0&&(j.context.config.numOfWorkers=0),ie?(j.context.onUIThread=!1,j.initializeData(ie),_e&&_e()):j.initInputStream(_e),P},start:function(){return Fo.start()},stop:function(){return Fo.stop()},pause:function(){ja.stopped=!0},onDetected:function(ae){ae&&("function"==typeof ae||"object"===O()(ae)&&ae.callback)?cn.subscribe("detected",ae):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(ae){cn.unsubscribe("detected",ae)},onProcessed:function(ae){ae&&("function"==typeof ae||"object"===O()(ae)&&ae.callback)?cn.subscribe("processed",ae):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(ae){cn.unsubscribe("processed",ae)},setReaders:function(ae){ae?Fo.setReaders(ae):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(ae,_e){ae?_e?Fo.registerReader(ae,_e):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(ae){ae&&"function"==typeof ae.addResult&&(ja.resultCollector=ae)},get canvas(){return ja.canvasContainer},decodeSingle:function(ae,_e){var ie=this,P=new is;return(ae=q()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:ae.src},numOfWorkers:1,locator:{halfSample:!1}},ae)).numOfWorkers>0&&(ae.numOfWorkers=0),ae.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),ae.numOfWorkers=0),new Promise(function(j,V){try{ie.init(ae,function(){cn.once("processed",function(Z){P.stop(),_e&&_e.call(null,Z),j(Z)},!0),P.start()},null,P)}catch(Z){V(Z)}})},get default(){return gs},Readers:T,CameraAccess:hn,ImageDebug:$e.a,ImageWrapper:X.a,ResultCollector:dr};N.default=gs}]).default},2090:(tt,A,N)=>{"use strict";N.d(A,{$s:()=>xn,BH:()=>Ze,L:()=>J,LL:()=>dt,Lj:()=>yn,Mn:()=>qe,US:()=>q,X3:()=>$t,ZR:()=>le,b$:()=>Be,d:()=>Re,eu:()=>oe,hl:()=>ue,m9:()=>Sn,ne:()=>Qr,ru:()=>Qe,tV:()=>K,uI:()=>De,vZ:()=>kr,w1:()=>Te,xO:()=>ao,z$:()=>pt,zI:()=>te});var t=N(5861);const O=function(we){const he=[];let fe=0;for(let Ge=0;Ge<we.length;Ge++){let Ne=we.charCodeAt(Ge);Ne<128?he[fe++]=Ne:Ne<2048?(he[fe++]=Ne>>6|192,he[fe++]=63&Ne|128):55296==(64512&Ne)&&Ge+1<we.length&&56320==(64512&we.charCodeAt(Ge+1))?(Ne=65536+((1023&Ne)<<10)+(1023&we.charCodeAt(++Ge)),he[fe++]=Ne>>18|240,he[fe++]=Ne>>12&63|128,he[fe++]=Ne>>6&63|128,he[fe++]=63&Ne|128):(he[fe++]=Ne>>12|224,he[fe++]=Ne>>6&63|128,he[fe++]=63&Ne|128)}return he},q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(we,he){if(!Array.isArray(we))throw Error("encodeByteArray takes an array as a parameter");this.init_();const fe=he?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ge=[];for(let Ne=0;Ne<we.length;Ne+=3){const Pt=we[Ne],gn=Ne+1<we.length,Pn=gn?we[Ne+1]:0,Jn=Ne+2<we.length,sr=Jn?we[Ne+2]:0;let kn=(15&Pn)<<2|sr>>6,en=63&sr;Jn||(en=64,gn||(kn=64)),Ge.push(fe[Pt>>2],fe[(3&Pt)<<4|Pn>>4],fe[kn],fe[en])}return Ge.join("")},encodeString(we,he){return this.HAS_NATIVE_SUPPORT&&!he?btoa(we):this.encodeByteArray(O(we),he)},decodeString(we,he){return this.HAS_NATIVE_SUPPORT&&!he?atob(we):function(we){const he=[];let fe=0,Ge=0;for(;fe<we.length;){const Ne=we[fe++];if(Ne<128)he[Ge++]=String.fromCharCode(Ne);else if(Ne>191&&Ne<224){const Pt=we[fe++];he[Ge++]=String.fromCharCode((31&Ne)<<6|63&Pt)}else if(Ne>239&&Ne<365){const Jn=((7&Ne)<<18|(63&we[fe++])<<12|(63&we[fe++])<<6|63&we[fe++])-65536;he[Ge++]=String.fromCharCode(55296+(Jn>>10)),he[Ge++]=String.fromCharCode(56320+(1023&Jn))}else{const Pt=we[fe++],gn=we[fe++];he[Ge++]=String.fromCharCode((15&Ne)<<12|(63&Pt)<<6|63&gn)}}return he.join("")}(this.decodeStringToByteArray(we,he))},decodeStringToByteArray(we,he){this.init_();const fe=he?this.charToByteMapWebSafe_:this.charToByteMap_,Ge=[];for(let Ne=0;Ne<we.length;){const Pt=fe[we.charAt(Ne++)],Pn=Ne<we.length?fe[we.charAt(Ne)]:0;++Ne;const sr=Ne<we.length?fe[we.charAt(Ne)]:64;++Ne;const cn=Ne<we.length?fe[we.charAt(Ne)]:64;if(++Ne,null==Pt||null==Pn||null==sr||null==cn)throw Error();Ge.push(Pt<<2|Pn>>4),64!==sr&&(Ge.push(Pn<<4&240|sr>>2),64!==cn&&Ge.push(sr<<6&192|cn))}return Ge},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let we=0;we<this.ENCODED_VALS.length;we++)this.byteToCharMap_[we]=this.ENCODED_VALS.charAt(we),this.charToByteMap_[this.byteToCharMap_[we]]=we,this.byteToCharMapWebSafe_[we]=this.ENCODED_VALS_WEBSAFE.charAt(we),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[we]]=we,we>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(we)]=we,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(we)]=we)}}},J=function(we){return function(we){const he=O(we);return q.encodeByteArray(he,!0)}(we).replace(/\./g,"")},K=function(we){try{return q.decodeString(we,!0)}catch(he){console.error("base64Decode failed: ",he)}return null};class Ze{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((he,fe)=>{this.resolve=he,this.reject=fe})}wrapCallback(he){return(fe,Ge)=>{fe?this.reject(fe):this.resolve(Ge),"function"==typeof he&&(this.promise.catch(()=>{}),1===he.length?he(fe):he(fe,Ge))}}}function pt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function De(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Qe(){const we="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof we&&void 0!==we.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Re(){return pt().indexOf("Electron/")>=0}function Te(){const we=pt();return we.indexOf("MSIE ")>=0||we.indexOf("Trident/")>=0}function qe(){return pt().indexOf("MSAppHost/")>=0}function ue(){return"object"==typeof indexedDB}function oe(){return new Promise((we,he)=>{try{let fe=!0;const Ge="validate-browser-context-for-indexeddb-analytics-module",Ne=self.indexedDB.open(Ge);Ne.onsuccess=()=>{Ne.result.close(),fe||self.indexedDB.deleteDatabase(Ge),we(!0)},Ne.onupgradeneeded=()=>{fe=!1},Ne.onerror=()=>{var Pt;he((null===(Pt=Ne.error)||void 0===Pt?void 0:Pt.message)||"")}}catch(fe){he(fe)}})}function te(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class le extends Error{constructor(he,fe,Ge){super(fe),this.code=he,this.customData=Ge,this.name="FirebaseError",Object.setPrototypeOf(this,le.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,dt.prototype.create)}}class dt{constructor(he,fe,Ge){this.service=he,this.serviceName=fe,this.errors=Ge}create(he,...fe){const Ge=fe[0]||{},Ne=`${this.service}/${he}`,Pt=this.errors[he],gn=Pt?function bt(we,he){return we.replace(un,(fe,Ge)=>{const Ne=he[Ge];return null!=Ne?String(Ne):`<${Ge}?>`})}(Pt,Ge):"Error";return new le(Ne,`${this.serviceName}: ${gn} (${Ne}).`,Ge)}}const un=/\{\$([^}]+)}/g;function kr(we,he){if(we===he)return!0;const fe=Object.keys(we),Ge=Object.keys(he);for(const Ne of fe){if(!Ge.includes(Ne))return!1;const Pt=we[Ne],gn=he[Ne];if(Zi(Pt)&&Zi(gn)){if(!kr(Pt,gn))return!1}else if(Pt!==gn)return!1}for(const Ne of Ge)if(!fe.includes(Ne))return!1;return!0}function Zi(we){return null!==we&&"object"==typeof we}function ao(we){const he=[];for(const[fe,Ge]of Object.entries(we))Array.isArray(Ge)?Ge.forEach(Ne=>{he.push(encodeURIComponent(fe)+"="+encodeURIComponent(Ne))}):he.push(encodeURIComponent(fe)+"="+encodeURIComponent(Ge));return he.length?"&"+he.join("&"):""}function Qr(we,he){const fe=new zi(we,he);return fe.subscribe.bind(fe)}class zi{constructor(he,fe){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=fe,this.task.then(()=>{he(this)}).catch(Ge=>{this.error(Ge)})}next(he){this.forEachObserver(fe=>{fe.next(he)})}error(he){this.forEachObserver(fe=>{fe.error(he)}),this.close(he)}complete(){this.forEachObserver(he=>{he.complete()}),this.close()}subscribe(he,fe,Ge){let Ne;if(void 0===he&&void 0===fe&&void 0===Ge)throw new Error("Missing Observer.");Ne=function Ri(we,he){if("object"!=typeof we||null===we)return!1;for(const fe of he)if(fe in we&&"function"==typeof we[fe])return!0;return!1}(he,["next","error","complete"])?he:{next:he,error:fe,complete:Ge},void 0===Ne.next&&(Ne.next=Pe),void 0===Ne.error&&(Ne.error=Pe),void 0===Ne.complete&&(Ne.complete=Pe);const Pt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ne.error(this.finalError):Ne.complete()}catch(gn){}}),this.observers.push(Ne),Pt}unsubscribeOne(he){void 0===this.observers||void 0===this.observers[he]||(delete this.observers[he],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(he){if(!this.finalized)for(let fe=0;fe<this.observers.length;fe++)this.sendOne(fe,he)}sendOne(he,fe){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[he])try{fe(this.observers[he])}catch(Ge){"undefined"!=typeof console&&console.error&&console.error(Ge)}})}close(he){this.finalized||(this.finalized=!0,void 0!==he&&(this.finalError=he),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pe(){}function xn(we,he=1e3,fe=2){const Ge=he*Math.pow(fe,we),Ne=Math.round(.5*Ge*(Math.random()-.5)*2);return Math.min(144e5,Ge+Ne)}function Sn(we){return we&&we._delegate?we._delegate:we}function Bn(we,he){return new Promise((fe,Ge)=>{we.onsuccess=Ne=>{fe(Ne.target.result)},we.onerror=Ne=>{var Pt;Ge(`${he}: ${null===(Pt=Ne.target.error)||void 0===Pt?void 0:Pt.message}`)}})}class En{constructor(he){this._db=he,this.objectStoreNames=this._db.objectStoreNames}transaction(he,fe){return new Ct(this._db.transaction.call(this._db,he,fe))}createObjectStore(he,fe){return new Ke(this._db.createObjectStore(he,fe))}close(){this._db.close()}}class Ct{constructor(he){this._transaction=he,this.complete=new Promise((fe,Ge)=>{this._transaction.oncomplete=function(){fe()},this._transaction.onerror=()=>{Ge(this._transaction.error)},this._transaction.onabort=()=>{Ge(this._transaction.error)}})}objectStore(he){return new Ke(this._transaction.objectStore(he))}}class Ke{constructor(he){this._store=he}index(he){return new Tt(this._store.index(he))}createIndex(he,fe,Ge){return new Tt(this._store.createIndex(he,fe,Ge))}get(he){return Bn(this._store.get(he),"Error reading from IndexedDB")}put(he,fe){return Bn(this._store.put(he,fe),"Error writing to IndexedDB")}delete(he){return Bn(this._store.delete(he),"Error deleting from IndexedDB")}clear(){return Bn(this._store.clear(),"Error clearing IndexedDB object store")}}class Tt{constructor(he){this._index=he}get(he){return Bn(this._index.get(he),"Error reading from IndexedDB")}}function $t(we,he,fe){return new Promise((Ge,Ne)=>{try{const Pt=indexedDB.open(we,he);Pt.onsuccess=gn=>{Ge(new En(gn.target.result))},Pt.onerror=gn=>{var Pn;Ne(`Error opening indexedDB: ${null===(Pn=gn.target.error)||void 0===Pn?void 0:Pn.message}`)},Pt.onupgradeneeded=gn=>{fe(new En(Pt.result),gn.oldVersion,gn.newVersion,new Ct(Pt.transaction))}}catch(Pt){Ne(`Error opening indexedDB: ${Pt.message}`)}})}function yn(we){return dn.apply(this,arguments)}function dn(){return(dn=(0,t.Z)(function*(we){return new Promise((he,fe)=>{try{const Ge=indexedDB.deleteDatabase(we);Ge.onsuccess=()=>{he()},Ge.onerror=Ne=>{var Pt;fe(`Error deleting indexedDB database "${we}": ${null===(Pt=Ne.target.error)||void 0===Pt?void 0:Pt.message}`)}}catch(Ge){fe(`Error deleting indexedDB database "${we}": ${Ge.message}`)}})})).apply(this,arguments)}},2940:(tt,A,N)=>{"use strict";N.d(A,{T:()=>t});const t="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(tt,A,N)=>{"use strict";N.d(A,{X:()=>t});const t=[{barcode:"8717700002402",brand:"7 Up",name:"7 Up sin az\xfacar, 2L",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1},{barcode:"8410179010014",brand:"Borges",name:"Aceite de oliva suave",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",favourite:!1},{barcode:"8410179202006",brand:"Borges",name:"Aceite refinado de girasol botella 1 l",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",favourite:!1},{barcode:"8480000163141",brand:"Marca desconeguda",favourite:!0,name:"Acelgas",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8480017574657",brand:"Dia",favourite:!1,name:"Acelgas categor\xeda extra",imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",favourite:!1},{barcode:"8410128000400",brand:"Bezoya",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",favourite:!1},{barcode:"8410128160074",brand:"Bezoya",favourite:!1,name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8411002101701",brand:"Viladrau",name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",favourite:!1},{barcode:"8436551861951",brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{barcode:"8410569615614",brand:"Amstel",name:"Amstel Radler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg"},{barcode:"8410337219082",brand:"An\xeds del Mono",name:"An\xeds dulce",imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1},{barcode:"8480000325242",brand:"Hacendado",name:"Aroma de Vainilla",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",favourite:!1},{barcode:"8410184800150",brand:"Brillante",favourite:!0,name:"Arroz integral",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{barcode:"8410184013086",brand:"Brillante",name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg"},{barcode:"8410448000913",brand:"Schara",favourite:!1,name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{barcode:"8431707094290",brand:"Granini",favourite:!0,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg"},{barcode:"8480000180926",brand:"Hacendado",favourite:!0,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436033878095",brand:"guest",favourite:!1,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8410714107735",brand:"Azucarera",name:"Azucarera Sucre Glace 500G",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",favourite:!1},{barcode:"8436540562050",brand:"Espiga Blanca",name:"Bastones de cristal",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",favourite:!1},{barcode:"8076800195132",brand:"Barilla",name:"Bavette n.13",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg"},{barcode:"8423352861402",brand:"ALITEY",name:"Bebida de avena",imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1},{barcode:"8436551865355",brand:"Ametller Origen",name:"Beguda vegetal d'arr\xf2s",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg"},{barcode:"8480017175397",brand:"Dia",name:"Bicarbonato s\xf3dico",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg"},{barcode:"5410126716016",brand:"Lotus",favourite:!0,name:"Biscoff",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg"},{barcode:"8410179202020",brand:"Borges",name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",favourite:!1},{barcode:"8015100563067",brand:"Henkel",name:"Bref power active, alpine",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8422410473878",brand:"Bonpreu",favourite:!0,name:"Brots de Ruca",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg"},{barcode:"8410148509327",brand:"Borges",favourite:!0,name:"Cacahuete frito",imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8480000341778",brand:"Hacendado",name:"Canela Molida",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",favourite:!1},{barcode:"8410721000180",brand:"Dani",name:"Canela molida",imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",favourite:!1},{barcode:"8480000064974",brand:"Hacendado",name:"Cannelloni tubos precocidos",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",favourite:!1},{barcode:"8480000136343",brand:"Hacendado",favourite:!0,name:"Capsula cafe classic",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8412945008508",brand:"Espiga Blanca",name:"Cebolla frita",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg"},{barcode:"8410706000266",brand:"Recondo",name:"Chapata",imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",favourite:!1},{barcode:"80177616",brand:"Kinder,Ferrero",name:"Chocolate bars x 8",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1},{barcode:"7613035268388",brand:"Nestl\xe9",favourite:!0,name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg"},{barcode:"8436554524570",brand:"Ametller origen",name:"Crema ceba i formatge",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",favourite:!0},{barcode:"8422410809851",brand:"Bonpreu",name:"Crema de Aceite Balsamico de Modena",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!0},{barcode:"8436554523979",brand:"Ametller Origen",favourite:!1,name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{barcode:"8436583955093",brand:"Novell",name:"C\xe0psules de caf\xe9 intens 16u.",favourite:!0,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000325273",brand:"Hacendado",name:"Decoraciones",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",favourite:!1},{barcode:"5054563101648",brand:"Sensodyne",name:"Dent\xedfrico blanqueante, 100ml",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8410022115255",brand:"Marca desconeguda",favourite:!1,name:"Donettes",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg"},{barcode:"5900685007910",brand:"Seagram's",name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",favourite:!1},{barcode:"7613036569927",brand:"Nestl\xe9",favourite:!0,name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg"},{barcode:"8436583952054",brand:"Ametller origen",name:"Emmental",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg"},{barcode:"3560070119851",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8414516070167",brand:"Florette",favourite:!0,name:"Ensalada mixta",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg"},{barcode:"8436551862880",brand:"Ametller Origen",favourite:!0,name:"Espaguetis a la Carbornara",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg"},{barcode:"7613035260924",brand:"Nescafe",name:"Espresso intenso descafeinado",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg"},{barcode:"8410564002204",brand:"Frit Ravich",favourite:!0,name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg"},{barcode:"8422410040872",brand:"Bonpreu",favourite:!0,name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg"},{barcode:"8076808060654",brand:"Barilla",favourite:!0,name:"Farfalle",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"3057068056781",brand:"OCB",name:"Filtros slim, 150 u.",imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",favourite:!1},{barcode:"8410739033002",brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",favourite:!1},{barcode:"8410055033014",brand:"Danone",name:"Font Vella",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg"},{barcode:"8410055133394",brand:"Danone",favourite:!1,name:"Font Vella",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{barcode:"5029053010052",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",favourite:!0},{barcode:"8076802085981",brand:"Barilla",favourite:!0,name:"Fusilli",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8437019000004",brand:"Carolina",name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",favourite:!1},{barcode:"8422410177851",brand:"Bonpreu",name:"Garbanzos cocidos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg"},{barcode:"8410505512267",brand:"Luengo",favourite:!0,name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647547444600,isAdmin:!1}},{barcode:"8420309210115",brand:"Pe\xf1a Torcal",favourite:!0,name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410387915",brand:"Bonpreu",favourite:!0,name:"Hamburguesa de l'era",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg"},{barcode:"8410564016157",brand:"Frit Ravich",name:"Higos secos",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg"},{barcode:"8410091104488",brand:"Hornimans",name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",favourite:!1},{barcode:"8436554522279",brand:"Ametller origen",favourite:!0,name:"Iogurt cremos macedonia",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg"},{barcode:"8437011969217",brand:"Ametller Origen",favourite:!0,name:"Iogurt cremoso amb maduixa",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg"},{barcode:"8001841624143",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"3560071152413",brand:"Carrefour",name:"Jumbo Roll, Papel rollo multiusos",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"4008400203829",brand:"Kinder,Ferrero",favourite:!0,name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg"},{barcode:"8410135001322",brand:"Ato",name:"Leche",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg"},{barcode:"8431876005912",brand:"Carrefour",favourite:!1,name:"Lenteja a la riojana",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8426765495240",brand:"HC Premium",name:"Lentejas pardinas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg"},{barcode:"8435041321364",brand:"Nature Essential",name:"Levadura de Cerveza",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",favourite:!1},{barcode:"8006540576588",brand:"Don Limpio",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"7613033481314",brand:"Nestl\xe9",name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",favourite:!1},{barcode:"3574661648019",name:"Listerine Cuidado Total 500ml",brand:"Johnson & Johnson",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8437004314031",brand:"Llet Nostra",name:"Llet Semi Desnatada Nostra",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",favourite:!1},{barcode:"8480000792013",brand:"Deliplus",name:"Loci\xf3n aloe vera",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",favourite:!1},{barcode:"8714100635650",brand:"Magnum",favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg"},{barcode:"8421660006010",brand:"Ametller Origen",name:"Magdalenas gegants",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",favourite:!0},{barcode:"8413100612639",brand:"Arias,Savencia",favourite:!1,name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg"},{barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg"},{barcode:"8410091301405",brand:"Marcilla",name:"Marcilla caf\xe9 superior creme express natural",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg"},{barcode:"8480000167644",brand:"Hacendado",name:"Ma\xedz dulce",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg"},{barcode:"3073780902366",brand:"Bel",favourite:!1,name:"Mini Babybel",imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg"},{barcode:"8000270018257",brand:"Bimbo",name:"Mini tostas redondas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg"},{barcode:"3560070347438",brand:"Carrefour",favourite:!1,name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436540566942",brand:"Espiga blanca",name:"Minicracker fibra",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg"},{barcode:"8480000644916",brand:"Hacendado",favourite:!0,name:"Mochi Coco",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8410118041574",brand:"Prima",name:"Mostaza",imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",favourite:!1},{barcode:"8480000093554",brand:"Hacendado",name:"Muesli crunchy chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",favourite:!1},{barcode:"8431876305395",brand:"Carrefour",name:"Nachos redondos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg"},{barcode:"7613039490266",brand:"Nestl\xe9",name:"Nesquik",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg"},{barcode:"8411135005037",brand:"Marca desconeguda",favourite:!1,name:"Nom desconegut",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{barcode:"4002160092501",brand:"Granini",favourite:!1,name:"N\xe9ctar naranja briks",imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg"},{barcode:"8410179012018",brand:"Borges",favourite:!0,name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg"},{barcode:"8436551860251",brand:"Ametller Origen",favourite:!0,name:"Oli d\u2019oliva",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410412044",brand:"Bonpreu",name:"Oli refinat de gira-sol",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8422410299744",brand:"Bonpreu",name:"Ous frescos pag\xe8s",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",favourite:!1},{barcode:"8436583954577",brand:"Ametller Origen",favourite:!0,name:"Pa de vidre",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436583954539",brand:"ametller origen",favourite:!0,name:"Pa de vidre tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg"},{barcode:"8410091024915",brand:"Hornimans",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",favourite:!1},{barcode:"3045320052244",brand:"Saint Aubert",favourite:!0,name:"Palets breton galletas de mantequilla",imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8412170026896",brand:"Santiveri",name:"Pan Dextrin Integral Santiveri",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",favourite:!1},{barcode:"8410086000856",brand:"La Hacienda",name:"Patata entera",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg"},{barcode:"8436554525140",brand:"Ametller Origen",name:"Patata, pastanaga i mongeta tendra cuinats al buit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg"},{barcode:"8413585017240",brand:"Bonarea",name:"Patatas Fritas",imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",favourite:!1},{barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg"},{barcode:"8410954000711",brand:"Rioverde",name:"Pepinillos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg"},{barcode:"8413475312615",brand:"Marca desconeguda",favourite:!1,name:"Pernil cuit ral",imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg"},{barcode:"7076848513753",brand:"Barilla",name:"Pesto alla genovese",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg"},{barcode:"8436554529629",brand:"Ametller Origen",name:"Pit de pollastre amb herbes",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg"},{barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg"},{barcode:"8436551864709",brand:"Ametller Origen",favourite:!0,name:"Pollastre al curri vermell",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg"},{barcode:"8436583957110",name:"Pollastre al ximixurri",brand:"Ametller Or\xedgen",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8412900401153",brand:"Pompadour",name:"Pompadour Tomillo",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg"},{barcode:"8480000664129",brand:"Steinburg",name:"Radler Steinburg",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg"},{barcode:"8480000049056",brand:"Hacendado",name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",favourite:!0},{barcode:"8410091024953",brand:"Hornimans",name:"Rooibos con especias",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1},{barcode:"4019400440657",brand:"Halloren",name:"Royal mints",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1},{barcode:"8410604112344",brand:"Sal Costa",name:"Sal De Frutas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg"},{barcode:"8480000290168",brand:"Hacendado",name:"Sal de frutas sabor lim\xf3n",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",favourite:!1},{barcode:"8480000581518",brand:"Hacienda Iberico",favourite:!1,name:"Salchich\xf3n ib\xe9rico",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",brand:"Ametller Or\xedgen",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8427230989189",brand:"Espinaler",name:"Salsa Espinaler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg"},{barcode:"8410069018717",brand:"Gallo",name:"Salsa bolo\xf1esa",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg"},{barcode:"8436551860923",brand:"Ametller Origen",name:"Salsa de tomate casera",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg"},{barcode:"8436551862040",brand:"Ametller Origen",favourite:!1,name:"Saltat de Verdures Mediterrani",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{barcode:"8480000610652",brand:"Hacendado",favourite:!0,name:"Salteado de verduras vegetais",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"5011428300035",brand:"Maldon",name:"Sea Salt Flakes",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5054563099082",name:"Sensodyne repair & protect",brand:"Sensodyne",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5050083560262",brand:"Kellogg's",name:"Smacks With Honey",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg"},{barcode:"8076800195057",brand:"Barilla",name:"Spaghetti n.5",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg"},{barcode:"3269612045008",brand:"Jean Brunet",favourite:!1,name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg"},{barcode:"8410091103306",brand:"Hornimans",name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",favourite:!1},{barcode:"3045206312257",brand:"Sanytol",favourite:!0,name:"Toallitas desinfectantes",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8436583950449",brand:"Ametller Origen",favourite:!0,name:"Tomaquet de sucar",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410170760",brand:"Bonpreu",name:"Tom\xe0quet Fregit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg"},{barcode:"8437011969903",brand:"Ametller Origen",name:"Trinxat de la cerdanya",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!0},{barcode:"8437008006420",brand:"Ametller Origen",name:"Truita carxofa",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",favourite:!0},{barcode:"8410495541070",brand:"Vicens",name:"Turr\xf3n souffl\xe9 avellana chocolate",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8412900401207",brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",favourite:!1},{barcode:"8422410598977",brand:"Bonpreu",name:"VINAGRE de vi negre",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8411002105006",brand:"Viladrau",name:"Viladrau Agua Mineral 5L.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"8480000049537",brand:"Hacendado",name:"Vinagre de Jerez reserva",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",favourite:!1},{barcode:"8410793031945",brand:"Voll-Damm",name:"Voll-damm Cerveza Doble Malta",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg"},{barcode:"5000111040983",brand:"Lea & Perrins",name:"Worcestershire sauce",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg"},{barcode:"8435037550631",brand:"Ametller Origen",name:"Xori\xe7 extra",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000390103",brand:"Hacendado",name:"Zumo pura naranja",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",favourite:!1},{barcode:"8436551867502",brand:"ametller origen",favourite:!0,name:"brots selectes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8003753900438",brand:"Illy",name:"coffee tin",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",favourite:!1},{barcode:"8410199023094",brand:"Marca desconeguda",name:"lay\u2019s gourmet original",imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",favourite:!1}]},7296:(tt,A,N)=>{"use strict";N.d(A,{H:()=>t});const t=[{id:"aldi",name:"ALDI",favourite:!1,default:!0,imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg"},{id:"alcampo",name:"Alcampo",favourite:!1,default:!0,imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png"},{id:"ametller",name:"Ametller Origen",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU"},{id:"bonpreu",name:"Bonpreu Esclat",favourite:!0,default:!0,imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{id:"bonarea",name:"Bon\xc0rea",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU"},{id:"caprabo",name:"Caprabo",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU"},{id:"carrefour",name:"Carrefour",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU"},{id:"clarel",name:"Clarel",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU"},{id:"condis",name:"Condis",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU"},{id:"consum",name:"Consum",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU"},{id:"dia",name:"Dia",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",name:"Eroski",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU"},{id:"hipercor",name:"Hipercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU"},{id:"lasirena",name:"La Sirena",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU"},{id:"lidl",name:"Lidl",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU"},{id:"makro",name:"Makro",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU"},{id:"mercadona",name:"Mercadona",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU"},{id:"sorli",name:"Sorli",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU"},{id:"supercor",name:"Supercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU"},{id:"supersol",name:"Supersol",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU"},{id:"veritas",name:"Veritas",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU"}]},3701:(tt,A,N)=>{"use strict";N.d(A,{M:()=>t});const t={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE"}},1343:(tt,A,N)=>{"use strict";N.d(A,{C:()=>G});var t=N(7300),T=N(8996),S=N(9646),R=N(3209),O=N(7587);let G=(()=>{class q{constructor(J){this.firestore=J}addShop(J){console.log("FirestoreService.addShop()",J);const K=(0,t.hJ)(this.firestore,"shops");return(0,T.D)((0,t.ET)(K,J))}addShops(J){console.log("FirestoreService.addShops()",J);const K=(0,R.qs)(this.firestore);return J.forEach(ee=>{const ve=(0,t.hJ)(this.firestore,"shops"),$e=(0,t.JU)(ve);K.set($e,ee)}),K.commit(),(0,S.of)(!0)}deleteShop(J){console.log("FirestoreService.deleteShop()",J);const K=(0,t.JU)(this.firestore,`shops/${J}`);return(0,T.D)((0,R.oe)(K))}updateShop(J){console.log("FirestoreService.updateShop()",J);const K=(0,t.JU)(this.firestore,`shops/${J.id}`);return(0,T.D)((0,R.pl)(K,J))}getShops(){console.log("FirestoreService.getShops()");const J=(0,t.hJ)(this.firestore,"shops");return(0,t.BS)(J)}getProducts(){console.log("FirestoreService.getProducts()");const J=(0,t.hJ)(this.firestore,"products");return(0,t.BS)(J,{idField:"id"})}addProduct(J){console.log("FirestoreService.addProduct()",J);const K=(0,t.hJ)(this.firestore,"products");return(0,T.D)((0,t.ET)(K,J))}addProducts(J){console.log("FirestoreService.addProducts()",J);const K=(0,R.qs)(this.firestore);return J.forEach(ee=>{const ve=(0,t.hJ)(this.firestore,"products"),$e=(0,t.JU)(ve);K.set($e,ee)}),K.commit(),(0,S.of)(!0)}deleteProduct(J){console.log("FirestoreService.deleteProduct()",J);const K=(0,t.JU)(this.firestore,`products/${J}`);return(0,T.D)((0,R.oe)(K))}updateProduct(J){console.log("FirestoreService.updateProduct()",J);const K=(0,t.JU)(this.firestore,`products/${J.id}`);return(0,T.D)((0,R.pl)(K,J))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const J=(0,t.hJ)(this.firestore,"shopsProducts");return(0,t.BS)(J)}deleteShopProduct(J){console.log("FirestoreService.deleteShopProduct()",J);const K=(0,t.JU)(this.firestore,`shopsProducts/${J.id}`);return(0,T.D)((0,R.oe)(K))}deleteShopProducts(J){console.log("FirestoreService.deleteShopProducts()",J);const K=(0,R.qs)(this.firestore);return J.forEach(ee=>{(0,t.hJ)(this.firestore,"shopsProducts");const $e=(0,t.JU)(this.firestore,`shopsProducts/${ee.id}`);K.delete($e)}),K.commit(),(0,S.of)(!0)}addShopProduct(J){console.log("FirestoreService.addShopProduct()",J);const K=(0,t.hJ)(this.firestore,"shopsProducts");return(0,T.D)((0,t.ET)(K,J))}addShopProducts(J){console.log("FirestoreService.addShopProducts()",J);const K=(0,R.qs)(this.firestore);return J.forEach(ee=>{const ve=(0,t.hJ)(this.firestore,"shopsProducts"),$e=(0,t.JU)(ve);K.set($e,ee)}),K.commit(),(0,S.of)(!0)}}return q.\u0275fac=function(J){return new(J||q)(O.LFG(t.gg))},q.\u0275prov=O.Yz7({token:q,factory:q.\u0275fac,providedIn:"root"}),q})()},4120:(tt,A,N)=>{"use strict";N.d(A,{r:()=>R});var t=N(7579),T=N(3701),S=N(7587);let R=(()=>{class O{constructor(){this.user=new t.x}login(q){q.lastLogin=(new Date).getTime(),this.user.next(q),localStorage.setItem(T.M.PS_LOGGED_USER,JSON.stringify(q))}logout(){localStorage.removeItem(T.M.PS_LOGGED_USER),this.user.next(void 0)}getLoggedUser(){let q=JSON.parse(localStorage.getItem(T.M.PS_LOGGED_USER));if(q)return q=q,this.setIsAdmin(q),q}setIsAdmin(q){q&&(q.isAdmin="admin1234"===q.username)}refreshUser(){let q=JSON.parse(localStorage.getItem(T.M.PS_LOGGED_USER));q?(this.setIsAdmin(q),this.user.next(q)):this.user.next(void 0)}isLoggedUser(){return null!=this.getLoggedUser()}isAdmin(){return this.getLoggedUser().isAdmin}}return O.\u0275fac=function(q){return new(q||O)},O.\u0275prov=S.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7587),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(tt=>{this._products=tt}),this.loadProducts().subscribe(()=>{},tt=>{console.log("Error carregant productes")})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addProducts(tt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(tt),this.checkFavourites(tt),this.products.next(tt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addProducts(tt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(tt),this.checkFavourites(tt),this.products.next(tt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(tt){let A=this.getFavourites();return tt.favourite?A.push(tt.barcode):A=A.filter(N=>N!==tt.barcode),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(tt){tt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateProduct(tt,A){return console.log("ProductService.updateProduct()",tt),A||this.toggleFavourite(tt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(tt){return console.log("ProductService.createProduct()",tt),tt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(tt),this.products.next(this._products)})):(this._products.push(tt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(tt){return console.log("ProductService.removeProduct()",tt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(A=>A.id!==tt),this.products.next(this._products)})):(this._products=this._products.filter(A=>A.id!==tt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(tt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(tt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(tt){const A=this.getFavourites();tt.map(N=>{N.favourite=A.indexOf(N.barcode)>-1})}}return ProductService.\u0275fac=function tt(A){return new(A||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7587),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(tt=>{this._shops=tt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addShops(tt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(tt),this.checkFavourites(tt),this.shops.next(tt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(tt=>{(!tt||0===tt.length)&&this.firestoreService.addShops(tt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(tt),this.checkFavourites(tt),this.shops.next(tt)}))}toggleFavourite(tt){let A=this.getFavourites();return tt.favourite?A.push(tt.id):A=A.filter(N=>N!==tt.id),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(tt){tt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateShop(tt){return console.log("ShopService.updateShop()",tt),this.toggleFavourite(tt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(tt){return console.log("ShopService.createShop()",tt),tt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(tt),this.shops.next(this._shops)})):(this._shops.push(tt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(tt){return console.log("ShopService.removeShop()",tt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(tt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(A=>A.id!==tt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(A=>A.id!==tt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(tt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(tt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(tt){const A=this.getFavourites();tt.map(N=>{N.favourite=A.indexOf(N.id)>-1})}}return ShopService.\u0275fac=function tt(A){return new(A||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(tt,A,N)=>{"use strict";N.d(A,{q:()=>t});const t={defaultLanguage:"ca",cloudMode:!1}},5602:(tt,A,N)=>{"use strict";var t=N(7587);let T=null;function S(){return T}const q=new t.OlP("DocumentToken");let X=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function J(){return(0,t.LFG)(ee)}()},providedIn:"platform"}),n})();const K=new t.OlP("Location Initialized");let ee=(()=>{class n extends X{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return S().getBaseHref(this._doc)}onPopState(e){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=S().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,u){ve()?this._history.pushState(e,o,u):this.location.hash=u}replaceState(e,o,u){ve()?this._history.replaceState(e,o,u):this.location.hash=u}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function $e(){return new ee((0,t.LFG)(q))}()},providedIn:"platform"}),n})();function ve(){return!!window.history.pushState}function Ze(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function Xe(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function pt(n){return n&&"?"!==n[0]?"?"+n:n}let De=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function He(n){const r=(0,t.LFG)(q).location;return new Qe((0,t.LFG)(X),r&&r.origin||"")}()},providedIn:"root"}),n})();const Ae=new t.OlP("appBaseHref");let Qe=(()=>{class n extends De{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Ze(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+pt(this._platformLocation.search),u=this._platformLocation.hash;return u&&e?`${o}${u}`:o}pushState(e,o,u,p){const b=this.prepareExternalUrl(u+pt(p));this._platformLocation.pushState(e,o,b)}replaceState(e,o,u,p){const b=this.prepareExternalUrl(u+pt(p));this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(X),t.LFG(Ae,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends De{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=Ze(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,u,p){let b=this.prepareExternalUrl(u+pt(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(e,o,b)}replaceState(e,o,u,p){let b=this.prepareExternalUrl(u+pt(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformLocation).historyGo)||void 0===u||u.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(X),t.LFG(Ae,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n{constructor(e,o){this._subject=new t.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const u=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Xe(Ue(u)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+pt(o))}normalize(e){return n.stripTrailingSlash(function qe(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Ue(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",u=null){this._platformStrategy.pushState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pt(o)),u)}replaceState(e,o="",u=null){this._platformStrategy.replaceState(u,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+pt(o)),u)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,u;null===(u=(o=this._platformStrategy).historyGo)||void 0===u||u.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(u=>u(e,o))}subscribe(e,o,u){return this._subject.subscribe({next:e,error:o,complete:u})}}return n.normalizeQueryParams=pt,n.joinWithSlash=Ze,n.stripTrailingSlash=Xe,n.\u0275fac=function(e){return new(e||n)(t.LFG(De),t.LFG(X))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Te(){return new Re((0,t.LFG)(De),(0,t.LFG)(X))}()},providedIn:"root"}),n})();function Ue(n){return n.replace(/\/index.html$/,"")}var ue=(()=>((ue=ue||{})[ue.Decimal=0]="Decimal",ue[ue.Percent=1]="Percent",ue[ue.Currency=2]="Currency",ue[ue.Scientific=3]="Scientific",ue))(),te=(()=>((te=te||{})[te.Format=0]="Format",te[te.Standalone=1]="Standalone",te))(),me=(()=>((me=me||{})[me.Narrow=0]="Narrow",me[me.Abbreviated=1]="Abbreviated",me[me.Wide=2]="Wide",me[me.Short=3]="Short",me))(),Ie=(()=>((Ie=Ie||{})[Ie.Short=0]="Short",Ie[Ie.Medium=1]="Medium",Ie[Ie.Long=2]="Long",Ie[Ie.Full=3]="Full",Ie))(),le=(()=>((le=le||{})[le.Decimal=0]="Decimal",le[le.Group=1]="Group",le[le.List=2]="List",le[le.PercentSign=3]="PercentSign",le[le.PlusSign=4]="PlusSign",le[le.MinusSign=5]="MinusSign",le[le.Exponential=6]="Exponential",le[le.SuperscriptingExponent=7]="SuperscriptingExponent",le[le.PerMille=8]="PerMille",le[le.Infinity=9]="Infinity",le[le.NaN=10]="NaN",le[le.TimeSeparator=11]="TimeSeparator",le[le.CurrencyDecimal=12]="CurrencyDecimal",le[le.CurrencyGroup=13]="CurrencyGroup",le))();function Ln(n,r){return Fr((0,t.cg1)(n)[t.wAp.DateFormat],r)}function wn(n,r){return Fr((0,t.cg1)(n)[t.wAp.TimeFormat],r)}function ur(n,r){return Fr((0,t.cg1)(n)[t.wAp.DateTimeFormat],r)}function tr(n,r){const e=(0,t.cg1)(n),o=e[t.wAp.NumberSymbols][r];if(void 0===o){if(r===le.CurrencyDecimal)return e[t.wAp.NumberSymbols][le.Decimal];if(r===le.CurrencyGroup)return e[t.wAp.NumberSymbols][le.Group]}return o}function pi(n){if(!n[t.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[t.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Fr(n,r){for(let e=r;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function Ri(n){const[r,e]=n.split(":");return{hours:+r,minutes:+e}}const et=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ct={},Ot=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Lt=(()=>((Lt=Lt||{})[Lt.Short=0]="Short",Lt[Lt.ShortGMT=1]="ShortGMT",Lt[Lt.Long=2]="Long",Lt[Lt.Extended=3]="Extended",Lt))(),gt=(()=>((gt=gt||{})[gt.FullYear=0]="FullYear",gt[gt.Month=1]="Month",gt[gt.Date=2]="Date",gt[gt.Hours=3]="Hours",gt[gt.Minutes=4]="Minutes",gt[gt.Seconds=5]="Seconds",gt[gt.FractionalSeconds=6]="FractionalSeconds",gt[gt.Day=7]="Day",gt))(),St=(()=>((St=St||{})[St.DayPeriods=0]="DayPeriods",St[St.Days=1]="Days",St[St.Months=2]="Months",St[St.Eras=3]="Eras",St))();function pn(n,r,e,o){let u=function Pn(n){if(sr(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[u,p=1,b=1]=n.split("-").map(x=>+x);return Qt(u,p-1,b)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let o;if(o=n.match(et))return function Jn(n){const r=new Date(0);let e=0,o=0;const u=n[8]?r.setUTCFullYear:r.setFullYear,p=n[8]?r.setUTCHours:r.setHours;n[9]&&(e=Number(n[9]+n[10]),o=Number(n[9]+n[11])),u.call(r,Number(n[1]),Number(n[2])-1,Number(n[3]));const b=Number(n[4]||0)-e,x=Number(n[5]||0)-o,L=Number(n[6]||0),Y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return p.call(r,b,x,L,Y),r}(o)}const r=new Date(n);if(!sr(r))throw new Error(`Unable to convert "${n}" into a date`);return r}(n);r=Tn(e,r)||r;let x,b=[];for(;r;){if(x=Ot.exec(r),!x){b.push(r);break}{b=b.concat(x.slice(1));const pe=b.pop();if(!pe)break;r=pe}}let L=u.getTimezoneOffset();o&&(L=Ne(o,L),u=function gn(n,r,e){const o=e?-1:1,u=n.getTimezoneOffset();return function Pt(n,r){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+r),n}(n,o*(Ne(r,u)-u))}(u,o,!0));let Y="";return b.forEach(pe=>{const Me=function Ge(n){if(fe[n])return fe[n];let r;switch(n){case"G":case"GG":case"GGG":r=En(St.Eras,me.Abbreviated);break;case"GGGG":r=En(St.Eras,me.Wide);break;case"GGGGG":r=En(St.Eras,me.Narrow);break;case"y":r=Sn(gt.FullYear,1,0,!1,!0);break;case"yy":r=Sn(gt.FullYear,2,0,!0,!0);break;case"yyy":r=Sn(gt.FullYear,3,0,!1,!0);break;case"yyyy":r=Sn(gt.FullYear,4,0,!1,!0);break;case"Y":r=he(1);break;case"YY":r=he(2,!0);break;case"YYY":r=he(3);break;case"YYYY":r=he(4);break;case"M":case"L":r=Sn(gt.Month,1,1);break;case"MM":case"LL":r=Sn(gt.Month,2,1);break;case"MMM":r=En(St.Months,me.Abbreviated);break;case"MMMM":r=En(St.Months,me.Wide);break;case"MMMMM":r=En(St.Months,me.Narrow);break;case"LLL":r=En(St.Months,me.Abbreviated,te.Standalone);break;case"LLLL":r=En(St.Months,me.Wide,te.Standalone);break;case"LLLLL":r=En(St.Months,me.Narrow,te.Standalone);break;case"w":r=we(1);break;case"ww":r=we(2);break;case"W":r=we(1,!0);break;case"d":r=Sn(gt.Date,1);break;case"dd":r=Sn(gt.Date,2);break;case"c":case"cc":r=Sn(gt.Day,1);break;case"ccc":r=En(St.Days,me.Abbreviated,te.Standalone);break;case"cccc":r=En(St.Days,me.Wide,te.Standalone);break;case"ccccc":r=En(St.Days,me.Narrow,te.Standalone);break;case"cccccc":r=En(St.Days,me.Short,te.Standalone);break;case"E":case"EE":case"EEE":r=En(St.Days,me.Abbreviated);break;case"EEEE":r=En(St.Days,me.Wide);break;case"EEEEE":r=En(St.Days,me.Narrow);break;case"EEEEEE":r=En(St.Days,me.Short);break;case"a":case"aa":case"aaa":r=En(St.DayPeriods,me.Abbreviated);break;case"aaaa":r=En(St.DayPeriods,me.Wide);break;case"aaaaa":r=En(St.DayPeriods,me.Narrow);break;case"b":case"bb":case"bbb":r=En(St.DayPeriods,me.Abbreviated,te.Standalone,!0);break;case"bbbb":r=En(St.DayPeriods,me.Wide,te.Standalone,!0);break;case"bbbbb":r=En(St.DayPeriods,me.Narrow,te.Standalone,!0);break;case"B":case"BB":case"BBB":r=En(St.DayPeriods,me.Abbreviated,te.Format,!0);break;case"BBBB":r=En(St.DayPeriods,me.Wide,te.Format,!0);break;case"BBBBB":r=En(St.DayPeriods,me.Narrow,te.Format,!0);break;case"h":r=Sn(gt.Hours,1,-12);break;case"hh":r=Sn(gt.Hours,2,-12);break;case"H":r=Sn(gt.Hours,1);break;case"HH":r=Sn(gt.Hours,2);break;case"m":r=Sn(gt.Minutes,1);break;case"mm":r=Sn(gt.Minutes,2);break;case"s":r=Sn(gt.Seconds,1);break;case"ss":r=Sn(gt.Seconds,2);break;case"S":r=Sn(gt.FractionalSeconds,1);break;case"SS":r=Sn(gt.FractionalSeconds,2);break;case"SSS":r=Sn(gt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=Ke(Lt.Short);break;case"ZZZZZ":r=Ke(Lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=Ke(Lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=Ke(Lt.Long);break;default:return null}return fe[n]=r,r}(pe);Y+=Me?Me(u,e,L):"''"===pe?"'":pe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Y}function Qt(n,r,e){const o=new Date(0);return o.setFullYear(n,r,e),o.setHours(0,0,0),o}function Tn(n,r){const e=function bt(n){return(0,t.cg1)(n)[t.wAp.LocaleId]}(n);if(ct[e]=ct[e]||{},ct[e][r])return ct[e][r];let o="";switch(r){case"shortDate":o=Ln(n,Ie.Short);break;case"mediumDate":o=Ln(n,Ie.Medium);break;case"longDate":o=Ln(n,Ie.Long);break;case"fullDate":o=Ln(n,Ie.Full);break;case"shortTime":o=wn(n,Ie.Short);break;case"mediumTime":o=wn(n,Ie.Medium);break;case"longTime":o=wn(n,Ie.Long);break;case"fullTime":o=wn(n,Ie.Full);break;case"short":const u=Tn(n,"shortTime"),p=Tn(n,"shortDate");o=xn(ur(n,Ie.Short),[u,p]);break;case"medium":const b=Tn(n,"mediumTime"),x=Tn(n,"mediumDate");o=xn(ur(n,Ie.Medium),[b,x]);break;case"long":const L=Tn(n,"longTime"),Y=Tn(n,"longDate");o=xn(ur(n,Ie.Long),[L,Y]);break;case"full":const pe=Tn(n,"fullTime"),Me=Tn(n,"fullDate");o=xn(ur(n,Ie.Full),[pe,Me])}return o&&(ct[e][r]=o),o}function xn(n,r){return r&&(n=n.replace(/\{([^}]+)}/g,function(e,o){return null!=r&&o in r?r[o]:e})),n}function _n(n,r,e="-",o,u){let p="";(n<0||u&&n<=0)&&(u?n=1-n:(n=-n,p=e));let b=String(n);for(;b.length<r;)b="0"+b;return o&&(b=b.substr(b.length-r)),p+b}function Sn(n,r,e=0,o=!1,u=!1){return function(p,b){let x=function Bn(n,r){switch(n){case gt.FullYear:return r.getFullYear();case gt.Month:return r.getMonth();case gt.Date:return r.getDate();case gt.Hours:return r.getHours();case gt.Minutes:return r.getMinutes();case gt.Seconds:return r.getSeconds();case gt.FractionalSeconds:return r.getMilliseconds();case gt.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,p);if((e>0||x>-e)&&(x+=e),n===gt.Hours)0===x&&-12===e&&(x=12);else if(n===gt.FractionalSeconds)return function Yn(n,r){return _n(n,3).substr(0,r)}(x,r);const L=tr(b,le.MinusSign);return _n(x,r,L,o,u)}}function En(n,r,e=te.Format,o=!1){return function(u,p){return function Ct(n,r,e,o,u,p){switch(e){case St.Months:return function Et(n,r,e){const o=(0,t.cg1)(n),p=Fr([o[t.wAp.MonthsFormat],o[t.wAp.MonthsStandalone]],r);return Fr(p,e)}(r,u,o)[n.getMonth()];case St.Days:return function xt(n,r,e){const o=(0,t.cg1)(n),p=Fr([o[t.wAp.DaysFormat],o[t.wAp.DaysStandalone]],r);return Fr(p,e)}(r,u,o)[n.getDay()];case St.DayPeriods:const b=n.getHours(),x=n.getMinutes();if(p){const Y=function Wi(n){const r=(0,t.cg1)(n);return pi(r),(r[t.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?Ri(o):[Ri(o[0]),Ri(o[1])])}(r),pe=function Qr(n,r,e){const o=(0,t.cg1)(n);pi(o);const p=Fr([o[t.wAp.ExtraData][0],o[t.wAp.ExtraData][1]],r)||[];return Fr(p,e)||[]}(r,u,o),Me=Y.findIndex(Ye=>{if(Array.isArray(Ye)){const[Ve,at]=Ye,_t=b>=Ve.hours&&x>=Ve.minutes,Wt=b<at.hours||b===at.hours&&x<at.minutes;if(Ve.hours<at.hours){if(_t&&Wt)return!0}else if(_t||Wt)return!0}else if(Ye.hours===b&&Ye.minutes===x)return!0;return!1});if(-1!==Me)return pe[Me]}return function un(n,r,e){const o=(0,t.cg1)(n),p=Fr([o[t.wAp.DayPeriodsFormat],o[t.wAp.DayPeriodsStandalone]],r);return Fr(p,e)}(r,u,o)[b<12?0:1];case St.Eras:return function Mt(n,r){return Fr((0,t.cg1)(n)[t.wAp.Eras],r)}(r,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(u,p,n,r,e,o)}}function Ke(n){return function(r,e,o){const u=-1*o,p=tr(e,le.MinusSign),b=u>0?Math.floor(u/60):Math.ceil(u/60);switch(n){case Lt.Short:return(u>=0?"+":"")+_n(b,2,p)+_n(Math.abs(u%60),2,p);case Lt.ShortGMT:return"GMT"+(u>=0?"+":"")+_n(b,1,p);case Lt.Long:return"GMT"+(u>=0?"+":"")+_n(b,2,p)+":"+_n(Math.abs(u%60),2,p);case Lt.Extended:return 0===o?"Z":(u>=0?"+":"")+_n(b,2,p)+":"+_n(Math.abs(u%60),2,p);default:throw new Error(`Unknown zone width "${n}"`)}}}function dn(n){return Qt(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function we(n,r=!1){return function(e,o){let u;if(r){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,b=e.getDate();u=1+Math.floor((b+p)/7)}else{const p=dn(e),b=function yn(n){const r=Qt(n,0,1).getDay();return Qt(n,0,1+(r<=4?4:11)-r)}(p.getFullYear()),x=p.getTime()-b.getTime();u=1+Math.round(x/6048e5)}return _n(u,n,tr(o,le.MinusSign))}}function he(n,r=!1){return function(e,o){return _n(dn(e).getFullYear(),n,tr(o,le.MinusSign),r)}}const fe={};function Ne(n,r){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?r:e}function sr(n){return n instanceof Date&&!isNaN(n.valueOf())}const fr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Gt(n){const r=parseInt(n);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+n);return r}function gr(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const o=e.indexOf("="),[u,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(u.trim()===r)return decodeURIComponent(p)}return null}let Zn=(()=>{class n{constructor(e,o,u,p){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=u,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(u=>{o?this._renderer.addClass(this._ngEl.nativeElement,u):this._renderer.removeClass(this._ngEl.nativeElement,u)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Ki{constructor(r,e,o,u){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=u}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let an=(()=>{class n{constructor(e,o,u){this._viewContainer=e,this._template=o,this._differs=u,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((u,p,b)=>{if(null==u.previousIndex)o.createEmbeddedView(this._template,new Ki(u.item,this._ngForOf,-1,-1),null===b?void 0:b);else if(null==b)o.remove(null===p?void 0:p);else if(null!==p){const x=o.get(p);o.move(x,b),vo(x,u)}});for(let u=0,p=o.length;u<p;u++){const x=o.get(u).context;x.index=u,x.count=p,x.ngForOf=this._ngForOf}e.forEachIdentityChange(u=>{vo(o.get(u.currentIndex),u)})}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function vo(n,r){n.context.$implicit=r.item}let mr=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new ni,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Br("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Br("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class ni{constructor(){this.$implicit=null,this.ngIf=null}}function Br(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,t.AaK)(r)}'.`)}let Xr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[t.TTD]}),n})();function _i(n,r){return new t.vHH(2100,"")}const zs=new t.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let rs=(()=>{class n{constructor(e,o){this.locale=e,this.defaultTimezone=o}transform(e,o="mediumDate",u,p){var b;if(null==e||""===e||e!=e)return null;try{return pn(e,o,p||this.locale,null!==(b=null!=u?u:this.defaultTimezone)&&void 0!==b?b:void 0)}catch(x){throw _i()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16),t.Y36(zs,24))},n.\u0275pipe=t.Yjl({name:"date",type:n,pure:!0}),n})(),gs=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"json",type:n,pure:!1}),n})(),P=(()=>{class n{constructor(e){this._locale=e}transform(e,o,u){if(!function Z(n){return!(null==n||""===n||n!=n)}(e))return null;u=u||this._locale;try{return function Bt(n,r,e){return function Ft(n,r,e,o,u,p,b=!1){let x="",L=!1;if(isFinite(n)){let Y=function zt(n){let o,u,p,b,x,r=Math.abs(n)+"",e=0;for((u=r.indexOf("."))>-1&&(r=r.replace(".","")),(p=r.search(/e/i))>0?(u<0&&(u=p),u+=+r.slice(p+1),r=r.substring(0,p)):u<0&&(u=r.length),p=0;"0"===r.charAt(p);p++);if(p===(x=r.length))o=[0],u=1;else{for(x--;"0"===r.charAt(x);)x--;for(u-=p,o=[],b=0;p<=x;p++,b++)o[b]=Number(r.charAt(p))}return u>22&&(o=o.splice(0,21),e=u-1,u=1),{digits:o,exponent:e,integerLen:u}}(n);b&&(Y=function vn(n){if(0===n.digits[0])return n;const r=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===r?n.digits.push(0,0):1===r&&n.digits.push(0),n.integerLen+=2),n}(Y));let pe=r.minInt,Me=r.minFrac,Ye=r.maxFrac;if(p){const mn=p.match(fr);if(null===mn)throw new Error(`${p} is not a valid digit info`);const or=mn[1],$n=mn[3],Er=mn[5];null!=or&&(pe=Gt(or)),null!=$n&&(Me=Gt($n)),null!=Er?Ye=Gt(Er):null!=$n&&Me>Ye&&(Ye=Me)}!function mt(n,r,e){if(r>e)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${e}).`);let o=n.digits,u=o.length-n.integerLen;const p=Math.min(Math.max(r,u),e);let b=p+n.integerLen,x=o[b];if(b>0){o.splice(Math.max(n.integerLen,b));for(let Me=b;Me<o.length;Me++)o[Me]=0}else{u=Math.max(0,u),n.integerLen=1,o.length=Math.max(1,b=p+1),o[0]=0;for(let Me=1;Me<b;Me++)o[Me]=0}if(x>=5)if(b-1<0){for(let Me=0;Me>b;Me--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[b-1]++;for(;u<Math.max(0,p);u++)o.push(0);let L=0!==p;const Y=r+n.integerLen,pe=o.reduceRight(function(Me,Ye,Ve,at){return at[Ve]=(Ye+=Me)<10?Ye:Ye-10,L&&(0===at[Ve]&&Ve>=Y?at.pop():L=!1),Ye>=10?1:0},0);pe&&(o.unshift(pe),n.integerLen++)}(Y,Me,Ye);let Ve=Y.digits,at=Y.integerLen;const _t=Y.exponent;let Wt=[];for(L=Ve.every(mn=>!mn);at<pe;at++)Ve.unshift(0);for(;at<0;at++)Ve.unshift(0);at>0?Wt=Ve.splice(at,Ve.length):(Wt=Ve,Ve=[0]);const ln=[];for(Ve.length>=r.lgSize&&ln.unshift(Ve.splice(-r.lgSize,Ve.length).join(""));Ve.length>r.gSize;)ln.unshift(Ve.splice(-r.gSize,Ve.length).join(""));Ve.length&&ln.unshift(Ve.join("")),x=ln.join(tr(e,o)),Wt.length&&(x+=tr(e,u)+Wt.join("")),_t&&(x+=tr(e,le.Exponential)+"+"+_t)}else x=tr(e,le.Infinity);return x=n<0&&!L?r.negPre+x+r.negSuf:r.posPre+x+r.posSuf,x}(n,function Zt(n,r="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(";"),u=o[0],p=o[1],b=-1!==u.indexOf(".")?u.split("."):[u.substring(0,u.lastIndexOf("0")+1),u.substring(u.lastIndexOf("0")+1)],x=b[0],L=b[1]||"";e.posPre=x.substr(0,x.indexOf("#"));for(let pe=0;pe<L.length;pe++){const Me=L.charAt(pe);"0"===Me?e.minFrac=e.maxFrac=pe+1:"#"===Me?e.maxFrac=pe+1:e.posSuf+=Me}const Y=x.split(",");if(e.gSize=Y[1]?Y[1].length:0,e.lgSize=Y[2]||Y[1]?(Y[2]||Y[1]).length:0,p){const pe=u.length-e.posPre.length-e.posSuf.length,Me=p.indexOf("#");e.negPre=p.substr(0,Me).replace(/'/g,""),e.negSuf=p.substr(Me+pe).replace(/'/g,"")}else e.negPre=r+e.posPre,e.negSuf=e.posSuf;return e}(function ti(n,r){return(0,t.cg1)(n)[t.wAp.NumberFormats][r]}(r,ue.Decimal),tr(r,le.MinusSign)),r,le.Group,le.Decimal,e)}(function ce(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),u,o)}catch(p){throw _i()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16))},n.\u0275pipe=t.Yjl({name:"number",type:n,pure:!0}),n})();let be=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const je="browser";let An=(()=>{class n{}return n.\u0275prov=(0,t.Yz7)({token:n,providedIn:"root",factory:()=>new Ur((0,t.LFG)(q),window)}),n})();class Ur{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Yi(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let u=o.currentNode;for(;u;){const p=u.shadowRoot;if(p){const b=p.getElementById(r)||p.querySelector(`[name="${r}"]`);if(b)return b}u=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,u=e.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(o-p[0],u-p[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Ir(this.window.history)||Ir(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Ir(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Lo{}class Ga extends class Va extends class G{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function O(n){T||(T=n)}(new Ga)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function hc(){return ms=ms||document.querySelector("base"),ms?ms.getAttribute("href"):null}();return null==e?null:function Kc(n){jr=jr||document.createElement("a"),jr.setAttribute("href",n);const r=jr.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){ms=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return gr(document.cookie,r)}}let jr,ms=null;const Vu=new t.OlP("TRANSITION_ID"),Pd=[{provide:t.ip1,useFactory:function pr(n,r,e){return()=>{e.get(t.CZH).donePromise.then(()=>{const o=S(),u=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<u.length;p++)o.remove(u[p])})}},deps:[Vu,q,t.zs3],multi:!0}];class fc{static init(){(0,t.VLi)(new fc)}addToWindow(r){t.dqk.getAngularTestability=(o,u=!0)=>{const p=r.findTestabilityInTree(o,u);if(null==p)throw new Error("Could not find testability for element.");return p},t.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),t.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),t.dqk.frameworkStabilizers||(t.dqk.frameworkStabilizers=[]),t.dqk.frameworkStabilizers.push(o=>{const u=t.dqk.getAllAngularTestabilities();let p=u.length,b=!1;const x=function(L){b=b||L,p--,0==p&&o(b)};u.forEach(function(L){L.whenStable(x)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const u=r.getTestability(e);return null!=u?u:o?S().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let Ha=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Di=new t.OlP("EventManagerPlugins");let Yc=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(u=>u.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,u){return this._findPluginFor(o).addEventListener(e,o,u)}addGlobalEventListener(e,o,u){return this._findPluginFor(o).addGlobalEventListener(e,o,u)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const u=this._plugins;for(let p=0;p<u.length;p++){const b=u[p];if(b.supports(e))return this._eventNameToPlugin.set(e,b),b}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Di),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class fa{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const u=S().getGlobalEventTarget(this._doc,r);if(!u)throw new Error(`Unsupported event target ${u} for event ${e}`);return this.addEventListener(u,e,o)}}let Os=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(u=>{this._stylesSet.has(u)||(this._stylesSet.add(u),o.add(u))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Si=(()=>{class n extends Os{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,u){e.forEach(p=>{const b=this._doc.createElement("style");b.textContent=p,u.push(o.appendChild(b))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Ll),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,u)=>{this._addStylesToHost(e,u,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ll))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Ll(n){S().remove(n)}const $a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Bl=/%COMP%/g;function Gu(n,r,e){for(let o=0;o<r.length;o++){let u=r[o];Array.isArray(u)?Gu(n,u,e):(u=u.replace(Bl,n),e.push(u))}return e}function ii(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let Za=(()=>{class n{constructor(e,o,u){this.eventManager=e,this.sharedStylesHost=o,this.appId=u,this.rendererByCompId=new Map,this.defaultRenderer=new Rd(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case t.ifc.Emulated:{let u=this.rendererByCompId.get(o.id);return u||(u=new Ul(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,u)),u.applyToHost(e),u}case 1:case t.ifc.ShadowDom:return new Fi(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const u=Gu(o.id,o.styles,[]);this.sharedStylesHost.addStyles(u),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Yc),t.LFG(Si),t.LFG(t.AFp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Rd{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS($a[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,u){if(u){e=u+":"+e;const p=$a[u];p?r.setAttributeNS(p,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const u=$a[o];u?r.removeAttributeNS(u,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,u){u&(t.JOm.DashCase|t.JOm.Important)?r.style.setProperty(e,o,u&t.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&t.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,ii(o)):this.eventManager.addEventListener(r,e,ii(o))}}class Ul extends Rd{constructor(r,e,o,u){super(r),this.component=o;const p=Gu(u+"-"+o.id,o.styles,[]);e.addStyles(p),this.contentAttr=function Nd(n){return"_ngcontent-%COMP%".replace(Bl,n)}(u+"-"+o.id),this.hostAttr=function pa(n){return"_nghost-%COMP%".replace(Bl,n)}(u+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class Fi extends Rd{constructor(r,e,o,u){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Gu(u.id,u.styles,[]);for(let b=0;b<p.length;b++){const x=document.createElement("style");x.textContent=p[b],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let jl=(()=>{class n extends fa{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,u){return e.addEventListener(o,u,!1),()=>this.removeEventListener(e,o,u)}removeEventListener(e,o,u){return e.removeEventListener(o,u)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const ga=["alt","control","meta","shift"],Uo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Hu={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ag={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let pc=(()=>{class n extends fa{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,u){const p=n.parseEventName(o),b=n.eventCallback(p.fullKey,u,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>S().onAndCancel(e,p.domEventName,b))}static parseEventName(e){const o=e.toLowerCase().split("."),u=o.shift();if(0===o.length||"keydown"!==u&&"keyup"!==u)return null;const p=n._normalizeKey(o.pop());let b="";if(ga.forEach(L=>{const Y=o.indexOf(L);Y>-1&&(o.splice(Y,1),b+=L+".")}),b+=p,0!=o.length||0===p.length)return null;const x={};return x.domEventName=u,x.fullKey=b,x}static getEventFullKey(e){let o="",u=function Wa(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&Hu.hasOwnProperty(r)&&(r=Hu[r]))}return Uo[r]||r}(e);return u=u.toLowerCase()," "===u?u="space":"."===u&&(u="dot"),ga.forEach(p=>{p!=u&&ag[p](e)&&(o+=p+".")}),o+=u,o}static eventCallback(e,o,u){return p=>{n.getEventFullKey(p)===e&&u.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const _s=(0,t.eFA)(t._c5,"browser",[{provide:t.Lbi,useValue:je},{provide:t.g9A,useValue:function ma(){Ga.makeCurrent(),fc.init()},multi:!0},{provide:q,useFactory:function wo(){return(0,t.RDi)(document),document},deps:[]}]),Ps=[{provide:t.zSh,useValue:"root"},{provide:t.qLn,useFactory:function Co(){return new t.qLn},deps:[]},{provide:Di,useClass:jl,multi:!0,deps:[q,t.R0b,t.Lbi]},{provide:Di,useClass:pc,multi:!0,deps:[q]},{provide:Za,useClass:Za,deps:[Yc,Si,t.AFp]},{provide:t.FYo,useExisting:Za},{provide:Os,useExisting:Si},{provide:Si,useClass:Si,deps:[q]},{provide:t.dDg,useClass:t.dDg,deps:[t.R0b]},{provide:Yc,useClass:Yc,deps:[Di,t.R0b]},{provide:Lo,useClass:Ha,deps:[]}];let Jc=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:t.AFp,useValue:e.appId},{provide:Vu,useExisting:t.AFp},Pd]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(n,12))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:Ps,imports:[be,t.hGG]}),n})();"undefined"!=typeof window&&window;let Rs=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new(e||n):t.LFG(_a),o},providedIn:"root"}),n})(),_a=(()=>{class n extends Rs{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case t.q3G.NONE:return o;case t.q3G.HTML:return(0,t.qzn)(o,"HTML")?(0,t.z3N)(o):(0,t.EiD)(this._doc,String(o)).toString();case t.q3G.STYLE:return(0,t.qzn)(o,"Style")?(0,t.z3N)(o):o;case t.q3G.SCRIPT:if((0,t.qzn)(o,"Script"))return(0,t.z3N)(o);throw new Error("unsafe value used in a script context");case t.q3G.URL:return(0,t.yhl)(o),(0,t.qzn)(o,"URL")?(0,t.z3N)(o):(0,t.mCW)(String(o));case t.q3G.RESOURCE_URL:if((0,t.qzn)(o,"ResourceURL"))return(0,t.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,t.JVY)(e)}bypassSecurityTrustStyle(e){return(0,t.L6k)(e)}bypassSecurityTrustScript(e){return(0,t.eBb)(e)}bypassSecurityTrustUrl(e){return(0,t.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,t.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new e:function Zo(n){return new _a(n.get(q))}(t.LFG(t.zs3)),o},providedIn:"root"}),n})();N(8955);var Gn=N(8996),Ji=N(8306);const{isArray:Yh}=Array,{getPrototypeOf:Nn,prototype:Wn,keys:lg}=Object;function qt(n){if(1===n.length){const r=n[0];if(Yh(r))return{args:r,keys:null};if(function ut(n){return n&&"object"==typeof n&&Nn(n)===Wn}(r)){const e=lg(r);return{args:e.map(o=>r[o]),keys:e}}}return{args:n,keys:null}}var Dt=N(8421),qr=N(3269),ar=N(5403),Qn=N(4004);const{isArray:mc}=Array;function Xs(n){return(0,Qn.U)(r=>function ug(n,r){return mc(r)?n(...r):n(r)}(n,r))}function Vd(n,r){return n.reduce((e,o,u)=>(e[o]=r[u],e),{})}function _c(...n){const r=(0,qr.jO)(n),{args:e,keys:o}=qt(n),u=new Ji.y(p=>{const{length:b}=e;if(!b)return void p.complete();const x=new Array(b);let L=b,Y=b;for(let pe=0;pe<b;pe++){let Me=!1;(0,Dt.Xf)(e[pe]).subscribe((0,ar.x)(p,Ye=>{Me||(Me=!0,Y--),x[pe]=Ye},()=>L--,void 0,()=>{(!L||!Me)&&(Y||p.next(o?Vd(o,x):x),p.complete())}))}});return r?u.pipe(Xs(r)):u}let Jh=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=u=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n}),n})(),ya=(()=>{class n extends Jh{}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})();const Zr=new t.OlP("NgValueAccessor"),ea={provide:Zr,useExisting:(0,t.Gpc)(()=>ss),multi:!0};let ss=(()=>{class n extends ya{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.checked)})("blur",function(){return o.onTouched()})},features:[t._Bn([ea]),t.qOj]}),n})();const Xn={provide:Zr,useExisting:(0,t.Gpc)(()=>Vr),multi:!0},Wl=new t.OlP("CompositionEventMode");let Vr=(()=>{class n extends Jh{constructor(e,o,u){super(e,o),this._compositionMode=u,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ks(){const n=S()?S().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(Wl,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[t._Bn([Xn]),t.qOj]}),n})();const ci=new t.OlP("NgValidators"),va=new t.OlP("NgAsyncValidators");function Jl(n){return null!=n}function Ql(n){const r=(0,t.QGY)(n)?(0,Gn.D)(n):n;return(0,t.CqO)(r),r}function zo(n){let r={};return n.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function ba(n,r){return r.map(e=>e(n))}function za(n){return n.map(r=>function bs(n){return!n.validate}(r)?r:e=>r.validate(e))}function Ka(n){return null!=n?function Ca(n){if(!n)return null;const r=n.filter(Jl);return 0==r.length?null:function(e){return zo(ba(e,r))}}(za(n)):null}function Xl(n){return null!=n?function rn(n){if(!n)return null;const r=n.filter(Jl);return 0==r.length?null:function(e){return _c(ba(e,r).map(Ql)).pipe((0,Qn.U)(zo))}}(za(n)):null}function li(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function el(n){return n?Array.isArray(n)?n:[n]:[]}function wa(n,r){return Array.isArray(n)?n.includes(r):n===r}function Qh(n,r){const e=el(r);return el(n).forEach(u=>{wa(e,u)||e.push(u)}),e}function Ja(n,r){return el(r).filter(e=>!wa(n,e))}class ip{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=Ka(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=Xl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class Bi extends ip{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class To extends ip{get formDirective(){return null}get path(){return null}}let jo=(()=>{class n extends class ei{constructor(r){this._cd=r}is(r){var e,o,u;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(u=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===u?void 0:u[r])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Bi,2))},n.\u0275dir=t.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[t.qOj]}),n})();function Do(n,r){(function Yu(n,r){const e=function Ya(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(li(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const o=function Fs(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(li(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const u=()=>n.updateValueAndValidity();vi(r._rawValidators,u),vi(r._rawAsyncValidators,u)})(n,r),r.valueAccessor.writeValue(n.value),function bc(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&U(n,r)})}(n,r),function re(n,r){const e=(o,u)=>{r.valueAccessor.writeValue(o),u&&r.viewToModelUpdate(o)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function B(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&U(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function ap(n,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function vi(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function U(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function bi(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}const lo="VALID",So="INVALID",ui="PENDING",wc="DISABLED";function Tc(n){return(tu(n)?n.validators:n)||null}function Ju(n){return Array.isArray(n)?Ka(n):n||null}function Ec(n,r){return(tu(r)?r.asyncValidators:n)||null}function cp(n){return Array.isArray(n)?Xl(n):n||null}function tu(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const nu=n=>n instanceof Ea;function ru(n){return(n=>n instanceof ou)(n)?n.value:n.getRawValue()}function dg(n,r){const e=nu(n),o=n.controls;if(!(e?Object.keys(o):o).length)throw new t.vHH(1e3,"");if(!o[r])throw new t.vHH(1001,"")}function iu(n,r){nu(n),n._forEachChild((o,u)=>{if(void 0===r[u])throw new t.vHH(1002,"")})}class Dc{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Ju(this._rawValidators),this._composedAsyncValidatorFn=cp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===lo}get invalid(){return this.status===So}get pending(){return this.status==ui}get disabled(){return this.status===wc}get enabled(){return this.status!==wc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Ju(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=cp(r)}addValidators(r){this.setValidators(Qh(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(Qh(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Ja(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Ja(r,this._rawAsyncValidators))}hasValidator(r){return wa(this._rawValidators,r)}hasAsyncValidator(r){return wa(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ui,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=wc,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=lo,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===lo||this.status===ui)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wc:lo}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ui,this._hasOwnPendingAsyncValidator=!0;const e=Ql(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function rl(n,r,e){if(null==r||(Array.isArray(r)||(r=r.split(e)),Array.isArray(r)&&0===r.length))return null;let o=n;return r.forEach(u=>{o=nu(o)?o.controls.hasOwnProperty(u)?o.controls[u]:null:(n=>n instanceof up)(o)&&o.at(u)||null}),o}(this,r,".")}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?wc:this.errors?So:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ui)?ui:this._anyControlsHaveStatus(So)?So:lo}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){tu(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ou extends Dc{constructor(r=null,e,o){super(Tc(e),Ec(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),tu(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){bi(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){bi(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class Ea extends Dc{constructor(r,e,o){super(Tc(e),Ec(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){iu(this,r),Object.keys(r).forEach(o=>{dg(this,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=ru(e),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((u,p)=>{o=e(o,u,p)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class up extends Dc{constructor(r,e,o){super(Tc(e),Ec(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){iu(this,r),r.forEach((o,u)=>{dg(this,u),this.at(u).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,u)=>{this.at(u)&&this.at(u).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,u)=>{o.reset(r[u],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>ru(r))}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const hp={provide:Bi,useExisting:(0,t.Gpc)(()=>Ko)},Wd=(()=>Promise.resolve(null))();let Ko=(()=>{class n extends Bi{constructor(e,o,u,p,b){super(),this._changeDetectorRef=b,this.control=new ou,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(u),this.valueAccessor=function vr(n,r){if(!r)return null;let e,o,u;return Array.isArray(r),r.forEach(p=>{p.constructor===Vr?e=p:function Sr(n){return Object.getPrototypeOf(n.constructor)===ya}(p)?o=p:u=p}),u||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function In(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Do(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){Wd.then(()=>{var o;this.control.setValue(e,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,u=""===o||o&&"false"!==o;Wd.then(()=>{var p;u&&!this.control.disabled?this.control.disable():!u&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}_getPath(e){return this._parent?function na(n,r){return[...r.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(To,9),t.Y36(ci,10),t.Y36(va,10),t.Y36(Zr,10),t.Y36(t.sBO,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([hp]),t.qOj,t.TTD]}),n})();const pp={provide:Zr,useExisting:(0,t.Gpc)(()=>Qu),multi:!0};let Qu=(()=>{class n extends ya{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},features:[t._Bn([pp]),t.qOj]}),n})(),ef=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const K0={provide:Zr,useExisting:(0,t.Gpc)(()=>al),multi:!0};function as(n,r){return null==n?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let al=(()=>{class n extends ya{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const u=as(this._getOptionId(e),e);this.setProperty("value",u)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Jd(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([K0]),t.qOj]}),n})(),cs=(()=>{class n{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(as(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(al,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const rf={provide:Zr,useExisting:(0,t.Gpc)(()=>sf),multi:!0};function mp(n,r){return null==n?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let sf=(()=>{class n extends ya{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const u=e.map(p=>this._getOptionId(p));o=(p,b)=>{p._setSelected(u.indexOf(b.toString())>-1)}}else o=(u,p)=>{u._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const u=[],p=o.selectedOptions;if(void 0!==p){const b=p;for(let x=0;x<b.length;x++){const Y=this._getOptionValue(b[x].value);u.push(Y)}}else{const b=o.options;for(let x=0;x<b.length;x++){const L=b[x];if(L.selected){const Y=this._getOptionValue(L.value);u.push(Y)}}}this.value=u,e(u)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Wr(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([rf]),t.qOj]}),n})(),Qd=(()=>{class n{constructor(e,o,u){this._element=e,this._renderer=o,this._select=u,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(mp(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(mp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(sf,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),Im=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[ef]]}),n})(),yg=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[Im]}),n})(),vp=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Sa=N(8686),Ac=N(3701),Jt=N(9646),$r=N(7579);class to extends $r.x{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){const{hasError:r,thrownError:e,_value:o}=this;if(r)throw e;return this._throwIfClosed(),o}next(r){super.next(this._value=r)}}var nh=N(4671),rh=N(9672);function cl(...n){const r=(0,qr.yG)(n),e=(0,qr.jO)(n),{args:o,keys:u}=qt(n);if(0===o.length)return(0,Gn.D)([],r);const p=new Ji.y(function W_(n,r,e=nh.y){return o=>{bg(r,()=>{const{length:u}=n,p=new Array(u);let b=u,x=u;for(let L=0;L<u;L++)bg(r,()=>{const Y=(0,Gn.D)(n[L],r);let pe=!1;Y.subscribe((0,ar.x)(o,Me=>{p[L]=Me,pe||(pe=!0,x--),x||o.next(e(p.slice()))},()=>{--b||o.complete()}))},o)},o)}}(o,r,u?b=>Vd(u,b):nh.y));return e?p.pipe(Xs(e)):p}function bg(n,r,e){n?(0,rh.f)(e,n,r):r()}var tc=N(576);function ih(n,r){const e=(0,tc.m)(n)?n:()=>n,o=u=>u.error(e());return new Ji.y(r?u=>r.schedule(o,0,u):o)}const bp=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var rd=N(8189);function lu(...n){return function nc(){return(0,rd.J)(1)}()((0,Gn.D)(n,(0,qr.yG)(n)))}function ll(n){return new Ji.y(r=>{(0,Dt.Xf)(n()).subscribe(r)})}var ul=N(515),Cp=N(727),ho=N(4482);function Cg(){return(0,ho.e)((n,r)=>{let e=null;n._refCount++;const o=(0,ar.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const u=n._connection,p=e;e=null,u&&(!p||u===p)&&u.unsubscribe(),r.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}class Ao extends Ji.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,ho.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,null==r||r.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Cp.w0;const e=this.getSubject();r.add(this.source.subscribe((0,ar.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Cp.w0.EMPTY)}return r}refCount(){return Cg()(this)}}function ji(n,r){return(0,ho.e)((e,o)=>{let u=null,p=0,b=!1;const x=()=>b&&!u&&o.complete();e.subscribe((0,ar.x)(o,L=>{null==u||u.unsubscribe();let Y=0;const pe=p++;(0,Dt.Xf)(n(L,pe)).subscribe(u=(0,ar.x)(o,Me=>o.next(r?r(L,Me,pe,Y++):Me),()=>{u=null,x()}))},()=>{b=!0,x()}))})}var Oi=N(5698);function id(...n){const r=(0,qr.yG)(n);return(0,ho.e)((e,o)=>{(r?lu(n,e,r):lu(n,e)).subscribe(o)})}function wg(n,r,e,o,u){return(p,b)=>{let x=e,L=r,Y=0;p.subscribe((0,ar.x)(b,pe=>{const Me=Y++;L=x?n(L,pe,Me):(x=!0,pe),o&&b.next(L)},u&&(()=>{x&&b.next(L),b.complete()})))}}function Tg(n,r){return(0,ho.e)(wg(n,r,arguments.length>=2,!0))}function no(n,r){return(0,ho.e)((e,o)=>{let u=0;e.subscribe((0,ar.x)(o,p=>n.call(r,p,u++)&&o.next(p)))})}function Ic(n){return(0,ho.e)((r,e)=>{let p,o=null,u=!1;o=r.subscribe((0,ar.x)(e,void 0,void 0,b=>{p=(0,Dt.Xf)(n(b,Ic(n)(r))),o?(o.unsubscribe(),o=null,p.subscribe(e)):u=!0})),u&&(o.unsubscribe(),o=null,p.subscribe(e))})}var Io=N(5577);function uu(n,r){return(0,tc.m)(r)?(0,Io.z)(n,r,1):(0,Io.z)(n,1)}function oh(n){return n<=0?()=>ul.E:(0,ho.e)((r,e)=>{let o=[];r.subscribe((0,ar.x)(e,u=>{o.push(u),n<o.length&&o.shift()},()=>{for(const u of o)e.next(u);e.complete()},void 0,()=>{o=null}))})}function uf(n=ls){return(0,ho.e)((r,e)=>{let o=!1;r.subscribe((0,ar.x)(e,u=>{o=!0,e.next(u)},()=>o?e.complete():e.error(n())))})}function ls(){return new bp}function xa(n){return(0,ho.e)((r,e)=>{let o=!1;r.subscribe((0,ar.x)(e,u=>{o=!0,e.next(u)},()=>{o||e.next(n),e.complete()}))})}function ht(n,r){const e=arguments.length>=2;return o=>o.pipe(n?no((u,p)=>n(u,p,o)):nh.y,(0,Oi.q)(1),e?xa(r):uf(()=>new bp))}var ai=N(8505);class rc{constructor(r,e){this.id=r,this.url=e}}class Mo extends rc{constructor(r,e,o="imperative",u=null){super(r,e),this.navigationTrigger=o,this.restoredState=u}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Cs extends rc{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class df extends rc{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class du extends rc{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class wp extends rc{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hu extends rc{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class fu extends rc{constructor(r,e,o,u,p){super(r,e),this.urlAfterRedirects=o,this.state=u,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class ro extends rc{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dl extends rc{constructor(r,e,o,u){super(r,e),this.urlAfterRedirects=o,this.state=u}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pu{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sh{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class gu{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mu{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hf{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ff{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class od{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const cr="primary";class Mc{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Bs(n){return new Mc(n)}const Ia="ngNavigationCancelingError";function _u(n){const r=Error("NavigationCancelingError: "+n);return r[Ia]=!0,r}function gf(n,r,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<n.length))return null;const u={};for(let p=0;p<o.length;p++){const b=o[p],x=n[p];if(b.startsWith(":"))u[b.substring(1)]=x;else if(b!==x.path)return null}return{consumed:n.slice(0,o.length),posParams:u}}function ds(n,r){const e=n?Object.keys(n):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let u;for(let p=0;p<e.length;p++)if(u=e[p],!_f(n[u],r[u]))return!1;return!0}function _f(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),o=[...r].sort();return e.every((u,p)=>o[p]===u)}return n===r}function sd(n){return Array.prototype.concat.apply([],n)}function ah(n){return n.length>0?n[n.length-1]:null}function Pi(n,r){for(const e in n)n.hasOwnProperty(e)&&r(n[e],e)}function Yo(n){return(0,t.CqO)(n)?n:(0,t.QGY)(n)?(0,Gn.D)(Promise.resolve(n)):(0,Jt.of)(n)}const ch={exact:function dh(n,r,e){if(!sc(n.segments,r.segments)||!ad(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!n.children[o]||!dh(n.children[o],r.children[o],e))return!1;return!0},subset:oa},lh={exact:function uh(n,r){return ds(n,r)},subset:function oc(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>_f(n[e],r[e]))},ignored:()=>!0};function yf(n,r,e){return ch[e.paths](n.root,r.root,e.matrixParams)&&lh[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function oa(n,r,e){return vf(n,r,r.segments,e)}function vf(n,r,e,o){if(n.segments.length>e.length){const u=n.segments.slice(0,e.length);return!(!sc(u,e)||r.hasChildren()||!ad(u,e,o))}if(n.segments.length===e.length){if(!sc(n.segments,e)||!ad(n.segments,e,o))return!1;for(const u in r.children)if(!n.children[u]||!oa(n.children[u],r.children[u],o))return!1;return!0}{const u=e.slice(0,n.segments.length),p=e.slice(n.segments.length);return!!(sc(n.segments,u)&&ad(n.segments,u,o)&&n.children[cr])&&vf(n.children[cr],r,p,o)}}function ad(n,r,e){return r.every((o,u)=>lh[e](n[u].parameters,o.parameters))}class hl{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return hh.serialize(this)}}class hr{constructor(r,e){this.segments=r,this.children=e,this.parent=null,Pi(e,(o,u)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fo(this)}}class Ma{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Bs(this.parameters)),this._parameterMap}toString(){return Nc(this)}}function sc(n,r){return n.length===r.length&&n.every((e,o)=>e.path===r[o].path)}class yu{}class Oc{parse(r){const e=new Om(r);return new hl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${vu(r.root,!0)}`,o=function wu(n){const r=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(u=>`${Cu(e)}=${Cu(u)}`).join("&"):`${Cu(e)}=${Cu(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${o}${"string"==typeof r.fragment?`#${function bf(n){return encodeURI(n)}(r.fragment)}`:""}`}}const hh=new Oc;function fo(n){return n.segments.map(r=>Nc(r)).join("/")}function vu(n,r){if(!n.hasChildren())return fo(n);if(r){const e=n.children[cr]?vu(n.children[cr],!1):"",o=[];return Pi(n.children,(u,p)=>{p!==cr&&o.push(`${p}:${vu(u,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function cd(n,r){let e=[];return Pi(n.children,(o,u)=>{u===cr&&(e=e.concat(r(o,u)))}),Pi(n.children,(o,u)=>{u!==cr&&(e=e.concat(r(o,u)))}),e}(n,(o,u)=>u===cr?[vu(n.children[cr],!1)]:[`${u}:${vu(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[cr]?`${fo(n)}/${e[0]}`:`${fo(n)}/(${e.join("//")})`}}function bu(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Cu(n){return bu(n).replace(/%3B/gi,";")}function Oa(n){return bu(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pc(n){return decodeURIComponent(n)}function fh(n){return Pc(n.replace(/\+/g,"%20"))}function Nc(n){return`${Oa(n.path)}${function Tp(n){return Object.keys(n).map(r=>`;${Oa(r)}=${Oa(n[r])}`).join("")}(n.parameters)}`}const Mm=/^[^\/()?;=#]+/;function Vi(n){const r=n.match(Mm);return r?r[0]:""}const ld=/^[^=?&#]+/,Cf=/^[^&#]+/;class Om{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new hr([],{}):new hr([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[cr]=new hr(r,e)),o}parseSegment(){const r=Vi(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Ma(Pc(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=Vi(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const u=Vi(this.remaining);u&&(o=u,this.capture(o))}r[Pc(e)]=Pc(o)}parseQueryParam(r){const e=function Ep(n){const r=n.match(ld);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const b=function z_(n){const r=n.match(Cf);return r?r[0]:""}(this.remaining);b&&(o=b,this.capture(o))}const u=fh(e),p=fh(o);if(r.hasOwnProperty(u)){let b=r[u];Array.isArray(b)||(b=[b],r[u]=b),b.push(p)}else r[u]=p}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Vi(this.remaining),u=this.remaining[o.length];if("/"!==u&&")"!==u&&";"!==u)throw new Error(`Cannot parse url '${this.url}'`);let p;o.indexOf(":")>-1?(p=o.substr(0,o.indexOf(":")),this.capture(p),this.capture(":")):r&&(p=cr);const b=this.parseChildren();e[p]=1===Object.keys(b).length?b[cr]:new hr([],b),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class Dp{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=wf(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=wf(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=Tu(r,this._root);return e.length<2?[]:e[e.length-2].children.map(u=>u.value).filter(u=>u!==r)}pathFromRoot(r){return Tu(r,this._root).map(e=>e.value)}}function wf(n,r){if(n===r.value)return r;for(const e of r.children){const o=wf(n,e);if(o)return o}return null}function Tu(n,r){if(n===r.value)return[r];for(const e of r.children){const o=Tu(n,e);if(o.length)return o.unshift(r),o}return[]}class Pa{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function Eu(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class ir extends Dp{constructor(r,e){super(r),this.snapshot=e,pl(this,r)}toString(){return this.snapshot.toString()}}function ud(n,r){const e=function fl(n,r){const b=new Du([],{},{},"",{},cr,r,null,n.root,-1,{});return new Sp("",new Pa(b,[]))}(n,r),o=new to([new Ma("",{})]),u=new to({}),p=new to({}),b=new to({}),x=new to(""),L=new sa(o,u,b,x,p,cr,r,e.root);return L.snapshot=e.root,new ir(new Pa(L,[]),e)}class sa{constructor(r,e,o,u,p,b,x,L){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=p,this.outlet=b,this.component=x,this._futureSnapshot=L}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Qn.U)(r=>Bs(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Qn.U)(r=>Bs(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Tf(n,r="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const u=e[o],p=e[o-1];if(u.routeConfig&&""===u.routeConfig.path)o--;else{if(p.component)break;o--}}return function aa(n){return n.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class Du{constructor(r,e,o,u,p,b,x,L,Y,pe,Me){this.url=r,this.params=e,this.queryParams=o,this.fragment=u,this.data=p,this.outlet=b,this.component=x,this.routeConfig=L,this._urlSegment=Y,this._lastPathIndex=pe,this._resolve=Me}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Bs(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Bs(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Sp extends Dp{constructor(r,e){super(e),this.url=r,pl(this,e)}toString(){return Us(this._root)}}function pl(n,r){r.value._routerState=n,r.children.forEach(e=>pl(n,e))}function Us(n){const r=n.children.length>0?` { ${n.children.map(Us).join(", ")} } `:"";return`${n.value}${r}`}function dd(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,ds(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),ds(r.params,e.params)||n.params.next(e.params),function mf(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!ds(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),ds(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function xp(n,r){const e=ds(n.params,r.params)&&function Dg(n,r){return sc(n,r)&&n.every((e,o)=>ds(e.parameters,r[o].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||xp(n.parent,r.parent))}function ph(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const u=function xg(n,r,e){return r.children.map(o=>{for(const u of e.children)if(n.shouldReuseRoute(o.value,u.value.snapshot))return ph(n,o,u);return ph(n,o)})}(n,r,e);return new Pa(o,u)}{if(n.shouldAttach(r.value)){const p=n.retrieve(r.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=r.value,b.children=r.children.map(x=>ph(n,x)),b}}const o=function Ef(n){return new sa(new to(n.url),new to(n.params),new to(n.queryParams),new to(n.fragment),new to(n.data),n.outlet,n.component,n)}(r.value),u=r.children.map(p=>ph(n,p));return new Pa(o,u)}}function Rc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function kc(n){return"object"==typeof n&&null!=n&&n.outlets}function Su(n,r,e,o,u){let p={};if(o&&Pi(o,(x,L)=>{p[L]=Array.isArray(x)?x.map(Y=>`${Y}`):`${x}`}),n===r)return new hl(e,p,u);const b=mh(n,r,e);return new hl(b,p,u)}function mh(n,r,e){const o={};return Pi(n.children,(u,p)=>{o[p]=u===r?e:mh(u,r,e)}),new hr(n.segments,o)}class K_{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&Rc(o[0]))throw new Error("Root segment cannot have matrix parameters");const u=o.find(kc);if(u&&u!==ah(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Df{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function xf(n,r,e){if(n||(n=new hr([],{})),0===n.segments.length&&n.hasChildren())return fd(n,r,e);const o=function Ip(n,r,e){let o=0,u=r;const p={match:!1,pathIndex:0,commandIndex:0};for(;u<n.segments.length;){if(o>=e.length)return p;const b=n.segments[u],x=e[o];if(kc(x))break;const L=`${x}`,Y=o<e.length-1?e[o+1]:null;if(u>0&&void 0===L)break;if(L&&Y&&"object"==typeof Y&&void 0===Y.outlets){if(!yh(L,Y,b))return p;o+=2}else{if(!yh(L,{},b))return p;o++}u++}return{match:!0,pathIndex:u,commandIndex:o}}(n,r,e),u=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const p=new hr(n.segments.slice(0,o.pathIndex),{});return p.children[cr]=new hr(n.segments.slice(o.pathIndex),n.children),fd(p,0,u)}return o.match&&0===u.length?new hr(n.segments,{}):o.match&&!n.hasChildren()?Af(n,r,e):o.match?fd(n,0,u):Af(n,r,e)}function fd(n,r,e){if(0===e.length)return new hr(n.segments,{});{const o=function Sf(n){return kc(n[0])?n[0].outlets:{[cr]:n}}(e),u={};return Pi(o,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(u[b]=xf(n.children[b],r,p))}),Pi(n.children,(p,b)=>{void 0===o[b]&&(u[b]=p)}),new hr(n.segments,u)}}function Af(n,r,e){const o=n.segments.slice(0,r);let u=0;for(;u<e.length;){const p=e[u];if(kc(p)){const L=_h(p.outlets);return new hr(o,L)}if(0===u&&Rc(e[0])){o.push(new Ma(n.segments[r].path,Ag(e[0]))),u++;continue}const b=kc(p)?p.outlets[cr]:`${p}`,x=u<e.length-1?e[u+1]:null;b&&x&&Rc(x)?(o.push(new Ma(b,Ag(x))),u+=2):(o.push(new Ma(b,{})),u++)}return new hr(o,{})}function _h(n){const r={};return Pi(n,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=Af(new hr([],{}),0,e))}),r}function Ag(n){const r={};return Pi(n,(e,o)=>r[o]=`${e}`),r}function yh(n,r,e){return n==e.path&&ds(r,e.parameters)}class Ig{constructor(r,e,o,u){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=u}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),dd(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const u=Eu(e);r.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,u[b],o),delete u[b]}),Pi(u,(p,b)=>{this.deactivateRouteAndItsChildren(p,o)})}deactivateRoutes(r,e,o){const u=r.value,p=e?e.value:null;if(u===p)if(u.component){const b=o.getContext(u.outlet);b&&this.deactivateChildRoutes(r,e,b.children)}else this.deactivateChildRoutes(r,e,o);else p&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,p=Eu(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],u);if(o&&o.outlet){const b=o.outlet.detach(),x=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:b,route:r,contexts:x})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),u=o&&r.value.component?o.children:e,p=Eu(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],u);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const u=Eu(e);r.children.forEach(p=>{this.activateRoutes(p,u[p.value.outlet],o),this.forwardEvent(new ff(p.value.snapshot))}),r.children.length&&this.forwardEvent(new mu(r.value.snapshot))}activateRoutes(r,e,o){const u=r.value,p=e?e.value:null;if(dd(u),u===p)if(u.component){const b=o.getOrCreateContext(u.outlet);this.activateChildRoutes(r,e,b.children)}else this.activateChildRoutes(r,e,o);else if(u.component){const b=o.getOrCreateContext(u.outlet);if(this.routeReuseStrategy.shouldAttach(u.snapshot)){const x=this.routeReuseStrategy.retrieve(u.snapshot);this.routeReuseStrategy.store(u.snapshot,null),b.children.onOutletReAttached(x.contexts),b.attachRef=x.componentRef,b.route=x.route.value,b.outlet&&b.outlet.attach(x.componentRef,x.route.value),dd(x.route.value),this.activateChildRoutes(r,null,b.children)}else{const x=function Mp(n){for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(u.snapshot),L=x?x.module.componentFactoryResolver:null;b.attachRef=null,b.route=u,b.resolver=L,b.outlet&&b.outlet.activateWith(u,L),this.activateChildRoutes(r,null,b.children)}}else this.activateChildRoutes(r,null,o)}}class Op{constructor(r,e){this.routes=r,this.module=e}}function Fc(n){return"function"==typeof n}function ml(n){return n instanceof hl}const xu=Symbol("INITIAL_VALUE");function Au(){return ji(n=>cl(n.map(r=>r.pipe((0,Oi.q)(1),id(xu)))).pipe(Tg((r,e)=>{let o=!1;return e.reduce((u,p,b)=>u!==xu?u:(p===xu&&(o=!0),o||!1!==p&&b!==e.length-1&&!ml(p)?u:p),r)},xu),no(r=>r!==xu),(0,Qn.U)(r=>ml(r)?r:!0===r),(0,Oi.q)(1)))}class Mg{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Iu,this.attachRef=null}}class Iu{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new Mg,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}let vh=(()=>{class n{constructor(e,o,u,p,b){this.parentContexts=e,this.location=o,this.resolver=u,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=p||cr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const b=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,L=new bh(e,x,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,L),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Iu),t.Y36(t.s_b),t.Y36(t._Vd),t.$8M("name"),t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class bh{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===sa?this.route:r===Iu?this.childContexts:this.parent.get(r,e)}}let pd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[vh],encapsulation:2}),n})();function Na(n,r=""){for(let e=0;e<n.length;e++){const o=n[e];Pp(o,Og(r,o))}}function Pp(n,r){n.children&&Na(n.children,r)}function Og(n,r){return r?n||r.path?n&&!r.path?`${n}/`:!n&&r.path?r.path:`${n}/${r.path}`:"":n}function gd(n){const r=n.children&&n.children.map(gd),e=r?Object.assign(Object.assign({},n),{children:r}):Object.assign({},n);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==cr&&(e.component=pd),e}function js(n){return n.outlet||cr}function Pg(n,r){const e=n.filter(o=>js(o)===r);return e.push(...n.filter(o=>js(o)!==r)),e}const Ng={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Np(n,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ng):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const p=(r.matcher||gf)(e,n,r);if(!p)return Object.assign({},Ng);const b={};Pi(p.posParams,(L,Y)=>{b[Y]=L.path});const x=p.consumed.length>0?Object.assign(Object.assign({},b),p.consumed[p.consumed.length-1].parameters):b;return{matched:!0,consumedSegments:p.consumed,remainingSegments:e.slice(p.consumed.length),parameters:x,positionalParamSegments:null!==(o=p.posParams)&&void 0!==o?o:{}}}function yl(n,r,e,o,u="corrected"){if(e.length>0&&function vl(n,r,e){return e.some(o=>ac(n,r,o)&&js(o)!==cr)}(n,e,o)){const b=new hr(r,function Rp(n,r,e,o){const u={};u[cr]=o,o._sourceSegment=n,o._segmentIndexShift=r.length;for(const p of e)if(""===p.path&&js(p)!==cr){const b=new hr([],{});b._sourceSegment=n,b._segmentIndexShift=r.length,u[js(p)]=b}return u}(n,r,o,new hr(e,n.children)));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:[]}}if(0===e.length&&function bl(n,r,e){return e.some(o=>ac(n,r,o))}(n,e,o)){const b=new hr(n.segments,function Ch(n,r,e,o,u,p){const b={};for(const x of o)if(ac(n,e,x)&&!u[js(x)]){const L=new hr([],{});L._sourceSegment=n,L._segmentIndexShift="legacy"===p?n.segments.length:r.length,b[js(x)]=L}return Object.assign(Object.assign({},u),b)}(n,r,e,o,n.children,u));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:e}}const p=new hr(n.segments,n.children);return p._sourceSegment=n,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:e}}function ac(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function kp(n,r,e,o){return!!(js(n)===o||o!==cr&&ac(r,e,n))&&("**"===n.path||Np(r,n,e).matched)}function Rg(n,r,e){return 0===r.length&&!n.children[e]}class If{constructor(r){this.segmentGroup=r||null}}class Fp{constructor(r){this.urlTree=r}}function md(n){return ih(new If(n))}function kg(n){return ih(new Fp(n))}class Pm{constructor(r,e,o,u,p){this.configLoader=e,this.urlSerializer=o,this.urlTree=u,this.config=p,this.allowRedirects=!0,this.ngModule=r.get(t.h0i)}apply(){const r=yl(this.urlTree.root,[],[],this.config).segmentGroup,e=new hr(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,cr).pipe((0,Qn.U)(p=>this.createUrlTree(Ou(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ic(p=>{if(p instanceof Fp)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof If?this.noMatchError(p):p}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,cr).pipe((0,Qn.U)(u=>this.createUrlTree(Ou(u),r.queryParams,r.fragment))).pipe(Ic(u=>{throw u instanceof If?this.noMatchError(u):u}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const u=r.segments.length>0?new hr([],{[cr]:r}):r;return new hl(u,e,o)}expandSegmentGroup(r,e,o,u){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,Qn.U)(p=>new hr([],p))):this.expandSegment(r,o,e,o.segments,u,!0)}expandChildren(r,e,o){const u=[];for(const p of Object.keys(o.children))"primary"===p?u.unshift(p):u.push(p);return(0,Gn.D)(u).pipe(uu(p=>{const b=o.children[p],x=Pg(e,p);return this.expandSegmentGroup(r,x,b,p).pipe((0,Qn.U)(L=>({segment:L,outlet:p})))}),Tg((p,b)=>(p[b.outlet]=b.segment,p),{}),function Aa(n,r){const e=arguments.length>=2;return o=>o.pipe(n?no((u,p)=>n(u,p,o)):nh.y,oh(1),e?xa(r):uf(()=>new bp))}())}expandSegment(r,e,o,u,p,b){return(0,Gn.D)(o).pipe(uu(x=>this.expandSegmentAgainstRoute(r,e,o,x,u,p,b).pipe(Ic(Y=>{if(Y instanceof If)return(0,Jt.of)(null);throw Y}))),ht(x=>!!x),Ic((x,L)=>{if(x instanceof bp||"EmptyError"===x.name)return Rg(e,u,p)?(0,Jt.of)(new hr([],{})):md(e);throw x}))}expandSegmentAgainstRoute(r,e,o,u,p,b,x){return kp(u,e,p,b)?void 0===u.redirectTo?this.matchSegmentAgainstRoute(r,e,u,p,b):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,u,p,b):md(e):md(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,u,p,b){return"**"===u.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,u,b):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,p,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,u){const p=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?kg(p):this.lineralizeSegments(o,p).pipe((0,Io.z)(b=>{const x=new hr(b,{});return this.expandSegment(r,x,e,b,u,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,u,p,b){const{matched:x,consumedSegments:L,remainingSegments:Y,positionalParamSegments:pe}=Np(e,u,p);if(!x)return md(e);const Me=this.applyRedirectCommands(L,u.redirectTo,pe);return u.redirectTo.startsWith("/")?kg(Me):this.lineralizeSegments(u,Me).pipe((0,Io.z)(Ye=>this.expandSegment(r,e,o,Ye.concat(Y),b,!1)))}matchSegmentAgainstRoute(r,e,o,u,p){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Jt.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,Qn.U)(Me=>(o._loadedConfig=Me,new hr(u,{})))):(0,Jt.of)(new hr(u,{}));const{matched:b,consumedSegments:x,remainingSegments:L}=Np(e,o,u);return b?this.getChildConfig(r,o,u).pipe((0,Io.z)(pe=>{const Me=pe.module,Ye=pe.routes,{segmentGroup:Ve,slicedSegments:at}=yl(e,x,L,Ye),_t=new hr(Ve.segments,Ve.children);if(0===at.length&&_t.hasChildren())return this.expandChildren(Me,Ye,_t).pipe((0,Qn.U)(or=>new hr(x,or)));if(0===Ye.length&&0===at.length)return(0,Jt.of)(new hr(x,{}));const Wt=js(o)===p;return this.expandSegment(Me,_t,Ye,at,Wt?cr:p,!0).pipe((0,Qn.U)(mn=>new hr(x.concat(mn.segments),mn.children)))})):md(e)}getChildConfig(r,e,o){return e.children?(0,Jt.of)(new Op(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,Jt.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,Io.z)(u=>u?this.configLoader.load(r.injector,e).pipe((0,Qn.U)(p=>(e._loadedConfig=p,p))):function Fg(n){return ih(_u(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,Jt.of)(new Op([],r))}runCanLoadGuards(r,e,o){const u=e.canLoad;if(!u||0===u.length)return(0,Jt.of)(!0);const p=u.map(b=>{const x=r.get(b);let L;if(function Y_(n){return n&&Fc(n.canLoad)}(x))L=x.canLoad(e,o);else{if(!Fc(x))throw new Error("Invalid CanLoad guard");L=x(e,o)}return Yo(L)});return(0,Jt.of)(p).pipe(Au(),(0,ai.b)(b=>{if(!ml(b))return;const x=_u(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw x.url=b,x}),(0,Qn.U)(b=>!0===b))}lineralizeSegments(r,e){let o=[],u=e.root;for(;;){if(o=o.concat(u.segments),0===u.numberOfChildren)return(0,Jt.of)(o);if(u.numberOfChildren>1||!u.children[cr])return ih(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));u=u.children[cr]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,u){const p=this.createSegmentGroup(r,e.root,o,u);return new hl(p,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return Pi(r,(u,p)=>{if("string"==typeof u&&u.startsWith(":")){const x=u.substring(1);o[p]=e[x]}else o[p]=u}),o}createSegmentGroup(r,e,o,u){const p=this.createSegments(r,e.segments,o,u);let b={};return Pi(e.children,(x,L)=>{b[L]=this.createSegmentGroup(r,x,o,u)}),new hr(p,b)}createSegments(r,e,o,u){return e.map(p=>p.path.startsWith(":")?this.findPosParam(r,p,u):this.findOrReturn(p,o))}findPosParam(r,e,o){const u=o[e.path.substring(1)];if(!u)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return u}findOrReturn(r,e){let o=0;for(const u of e){if(u.path===r.path)return e.splice(o),u;o++}return r}}function Ou(n){const r={};for(const o of Object.keys(n.children)){const p=Ou(n.children[o]);(p.segments.length>0||p.hasChildren())&&(r[o]=p)}return function Mf(n){if(1===n.numberOfChildren&&n.children[cr]){const r=n.children[cr];return new hr(n.segments.concat(r.segments),r.children)}return n}(new hr(n.segments,r))}class Of{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class wh{constructor(r,e){this.component=r,this.route=e}}function Bg(n,r,e){const o=n._root;return Th(o,r?r._root:null,e,[o.value])}function Pf(n,r,e){const o=function X_(n){if(!n)return null;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(n)}function Th(n,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const p=Eu(r);return n.children.forEach(b=>{(function Q0(n,r,e,o,u={canDeactivateChecks:[],canActivateChecks:[]}){const p=n.value,b=r?r.value:null,x=e?e.getContext(n.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const L=function Lp(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!sc(n.url,r.url);case"pathParamsOrQueryParamsChange":return!sc(n.url,r.url)||!ds(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xp(n,r)||!ds(n.queryParams,r.queryParams);default:return!xp(n,r)}}(b,p,p.routeConfig.runGuardsAndResolvers);L?u.canActivateChecks.push(new Of(o)):(p.data=b.data,p._resolvedData=b._resolvedData),Th(n,r,p.component?x?x.children:null:e,o,u),L&&x&&x.outlet&&x.outlet.isActivated&&u.canDeactivateChecks.push(new wh(x.outlet.component,b))}else b&&Bp(r,x,u),u.canActivateChecks.push(new Of(o)),Th(n,null,p.component?x?x.children:null:e,o,u)})(b,p[b.value.outlet],e,o.concat([b.value]),u),delete p[b.value.outlet]}),Pi(p,(b,x)=>Bp(b,e.getContext(x),u)),u}function Bp(n,r,e){const o=Eu(n),u=n.value;Pi(o,(p,b)=>{Bp(p,u.component?r?r.children.getContext(b):null:r,e)}),e.canDeactivateChecks.push(new wh(u.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,u))}class Vg{}function Gg(n){return new Ji.y(r=>r.error(n))}class jp{constructor(r,e,o,u,p,b){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=u,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=b}recognize(){const r=yl(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,cr);if(null===e)return null;const o=new Du([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},cr,this.rootComponentType,null,this.urlTree.root,-1,{}),u=new Pa(o,e),p=new Sp(this.url,u);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(r){const e=r.value,o=Tf(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(u=>this.inheritParamsAndData(u))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const p of Object.keys(e.children)){const b=e.children[p],x=Pg(r,p),L=this.processSegmentGroup(x,b,p);if(null===L)return null;o.push(...L)}const u=w(o);return function km(n){n.sort((r,e)=>r.value.outlet===cr?-1:e.value.outlet===cr?1:r.value.outlet.localeCompare(e.value.outlet))}(u),u}processSegment(r,e,o,u){for(const p of r){const b=this.processSegmentAgainstRoute(p,e,o,u);if(null!==b)return b}return Rg(e,o,u)?[]:null}processSegmentAgainstRoute(r,e,o,u){if(r.redirectTo||!kp(r,e,o,u))return null;let p,b=[],x=[];if("**"===r.path){const Ve=o.length>0?ah(o).parameters:{};p=new Du(o,Ve,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W(r),js(r),r.component,r,C(e),M(e)+o.length,se(r))}else{const Ve=Np(e,r,o);if(!Ve.matched)return null;b=Ve.consumedSegments,x=Ve.remainingSegments,p=new Du(b,Ve.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,W(r),js(r),r.component,r,C(e),M(e)+b.length,se(r))}const L=function Hg(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(r),{segmentGroup:Y,slicedSegments:pe}=yl(e,b,x,L.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution);if(0===pe.length&&Y.hasChildren()){const Ve=this.processChildren(L,Y);return null===Ve?null:[new Pa(p,Ve)]}if(0===L.length&&0===pe.length)return[new Pa(p,[])];const Me=js(r)===u,Ye=this.processSegment(L,Y,pe,Me?cr:u);return null===Ye?null:[new Pa(p,Ye)]}}function Lc(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function w(n){const r=[],e=new Set;for(const o of n){if(!Lc(o)){r.push(o);continue}const u=r.find(p=>o.value.routeConfig===p.value.routeConfig);void 0!==u?(u.children.push(...o.children),e.add(u)):r.push(o)}for(const o of e){const u=w(o.children);r.push(new Pa(o.value,u))}return r.filter(o=>!e.has(o))}function C(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function M(n){let r=n,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function W(n){return n.data||{}}function se(n){return n.resolve||{}}function Vn(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function ws(n){return ji(r=>{const e=n(r);return e?(0,Gn.D)(e).pipe((0,Qn.U)(()=>r)):(0,Jt.of)(r)})}class Nf extends class yd{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Cl=new t.OlP("ROUTES");class Sh{constructor(r,e,o,u){this.injector=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=u}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const u=this.loadModuleFactory(e.loadChildren).pipe((0,Qn.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(e);const b=p.create(r);return new Op(sd(b.injector.get(Cl,void 0,t.XFs.Self|t.XFs.Optional)).map(gd),b)}),Ic(p=>{throw e._loader$=void 0,p}));return e._loader$=new Ao(u,()=>new $r.x).pipe(Cg()),e._loader$}loadModuleFactory(r){return Yo(r()).pipe((0,Io.z)(e=>e instanceof t.YKP?(0,Jt.of)(e):(0,Gn.D)(this.compiler.compileModuleAsync(e))))}}class Pu{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function Fm(n){throw n}function $g(n,r,e){return r.parse("/")}function Nu(n,r){return(0,Jt.of)(null)}const xh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let zr=(()=>{class n{constructor(e,o,u,p,b,x,L){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=u,this.location=p,this.config=L,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new $r.x,this.errorHandler=Fm,this.malformedUriErrorHandler=$g,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Nu,afterPreactivation:Nu},this.urlHandlingStrategy=new Pu,this.routeReuseStrategy=new Nf,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(t.h0i),this.console=b.get(t.c2e);const Me=b.get(t.R0b);this.isNgZoneEnabled=Me instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(L),this.currentUrlTree=function ic(){return new hl(new hr([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Sh(b,x,Ye=>this.triggerEvent(new pu(Ye)),Ye=>this.triggerEvent(new sh(Ye))),this.routerState=ud(this.currentUrlTree,this.rootComponentType),this.transitions=new to({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(no(u=>0!==u.id),(0,Qn.U)(u=>Object.assign(Object.assign({},u),{extractedUrl:this.urlHandlingStrategy.extract(u.rawUrl)})),ji(u=>{let p=!1,b=!1;return(0,Jt.of)(u).pipe((0,ai.b)(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ji(x=>{const L=this.browserUrlTree.toString(),Y=!this.navigated||x.extractedUrl.toString()!==L||L!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Y)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return Bc(x.source)&&(this.browserUrlTree=x.extractedUrl),(0,Jt.of)(x).pipe(ji(Me=>{const Ye=this.transitions.getValue();return o.next(new Mo(Me.id,this.serializeUrl(Me.extractedUrl),Me.source,Me.restoredState)),Ye!==this.transitions.getValue()?ul.E:Promise.resolve(Me)}),function Lg(n,r,e,o){return ji(u=>function _d(n,r,e,o,u){return new Pm(n,r,e,o,u).apply()}(n,r,e,u.extractedUrl,o).pipe((0,Qn.U)(p=>Object.assign(Object.assign({},u),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ai.b)(Me=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Me.urlAfterRedirects})}),function ze(n,r,e,o,u){return(0,Io.z)(p=>function t0(n,r,e,o,u="emptyOnly",p="legacy"){try{const b=new jp(n,r,e,o,u,p).recognize();return null===b?Gg(new Vg):(0,Jt.of)(b)}catch(b){return Gg(b)}}(n,r,p.urlAfterRedirects,e(p.urlAfterRedirects),o,u).pipe((0,Qn.U)(b=>Object.assign(Object.assign({},p),{targetSnapshot:b}))))}(this.rootComponentType,this.config,Me=>this.serializeUrl(Me),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ai.b)(Me=>{if("eager"===this.urlUpdateStrategy){if(!Me.extras.skipLocationChange){const Ve=this.urlHandlingStrategy.merge(Me.urlAfterRedirects,Me.rawUrl);this.setBrowserUrl(Ve,Me)}this.browserUrlTree=Me.urlAfterRedirects}const Ye=new wp(Me.id,this.serializeUrl(Me.extractedUrl),this.serializeUrl(Me.urlAfterRedirects),Me.targetSnapshot);o.next(Ye)}));if(Y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ye,extractedUrl:Ve,source:at,restoredState:_t,extras:Wt}=x,ln=new Mo(Ye,this.serializeUrl(Ve),at,_t);o.next(ln);const mn=ud(Ve,this.rootComponentType).snapshot;return(0,Jt.of)(Object.assign(Object.assign({},x),{targetSnapshot:mn,urlAfterRedirects:Ve,extras:Object.assign(Object.assign({},Wt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,x.resolve(null),ul.E}),ws(x=>{const{targetSnapshot:L,id:Y,extractedUrl:pe,rawUrl:Me,extras:{skipLocationChange:Ye,replaceUrl:Ve}}=x;return this.hooks.beforePreactivation(L,{navigationId:Y,appliedUrlTree:pe,rawUrlTree:Me,skipLocationChange:!!Ye,replaceUrl:!!Ve})}),(0,ai.b)(x=>{const L=new hu(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(L)}),(0,Qn.U)(x=>Object.assign(Object.assign({},x),{guards:Bg(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function Ug(n,r){return(0,Io.z)(e=>{const{targetSnapshot:o,currentSnapshot:u,guards:{canActivateChecks:p,canDeactivateChecks:b}}=e;return 0===b.length&&0===p.length?(0,Jt.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function Eh(n,r,e,o){return(0,Gn.D)(n).pipe((0,Io.z)(u=>function e0(n,r,e,o,u){const p=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!p||0===p.length)return(0,Jt.of)(!0);const b=p.map(x=>{const L=Pf(x,r,u);let Y;if(function _l(n){return n&&Fc(n.canDeactivate)}(L))Y=Yo(L.canDeactivate(n,r,e,o));else{if(!Fc(L))throw new Error("Invalid CanDeactivate guard");Y=Yo(L(n,r,e,o))}return Y.pipe(ht())});return(0,Jt.of)(b).pipe(Au())}(u.component,u.route,e,r,o)),ht(u=>!0!==u,!0))}(b,o,u,n).pipe((0,Io.z)(x=>x&&function Jo(n){return"boolean"==typeof n}(x)?function Up(n,r,e,o){return(0,Gn.D)(r).pipe(uu(u=>lu(function Dh(n,r){return null!==n&&r&&r(new gu(n)),(0,Jt.of)(!0)}(u.route.parent,o),function Nm(n,r){return null!==n&&r&&r(new hf(n)),(0,Jt.of)(!0)}(u.route,o),function Rm(n,r,e){const o=r[r.length-1],p=r.slice(0,r.length-1).reverse().map(b=>function po(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(b)).filter(b=>null!==b).map(b=>ll(()=>{const x=b.guards.map(L=>{const Y=Pf(L,b.node,e);let pe;if(function Q_(n){return n&&Fc(n.canActivateChild)}(Y))pe=Yo(Y.canActivateChild(o,n));else{if(!Fc(Y))throw new Error("Invalid CanActivateChild guard");pe=Yo(Y(o,n))}return pe.pipe(ht())});return(0,Jt.of)(x).pipe(Au())}));return(0,Jt.of)(p).pipe(Au())}(n,u.path,e),function jg(n,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Jt.of)(!0);const u=o.map(p=>ll(()=>{const b=Pf(p,r,e);let x;if(function J_(n){return n&&Fc(n.canActivate)}(b))x=Yo(b.canActivate(r,n));else{if(!Fc(b))throw new Error("Invalid CanActivate guard");x=Yo(b(r,n))}return x.pipe(ht())}));return(0,Jt.of)(u).pipe(Au())}(n,u.route,e))),ht(u=>!0!==u,!0))}(o,p,n,r):(0,Jt.of)(x)),(0,Qn.U)(x=>Object.assign(Object.assign({},e),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),(0,ai.b)(x=>{if(ml(x.guardsResult)){const Y=_u(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw Y.url=x.guardsResult,Y}const L=new fu(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(L)}),no(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),ws(x=>{if(x.guards.canActivateChecks.length)return(0,Jt.of)(x).pipe((0,ai.b)(L=>{const Y=new ro(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);this.triggerEvent(Y)}),ji(L=>{let Y=!1;return(0,Jt.of)(L).pipe(function vt(n,r){return(0,Io.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:u}}=e;if(!u.length)return(0,Jt.of)(e);let p=0;return(0,Gn.D)(u).pipe(uu(b=>function Rt(n,r,e,o){return function Rn(n,r,e,o){const u=Vn(n);if(0===u.length)return(0,Jt.of)({});const p={};return(0,Gn.D)(u).pipe((0,Io.z)(b=>function br(n,r,e,o){const u=Pf(n,r,o);return Yo(u.resolve?u.resolve(r,e):u(r,e))}(n[b],r,e,o).pipe((0,ai.b)(x=>{p[b]=x}))),oh(1),(0,Io.z)(()=>Vn(p).length===u.length?(0,Jt.of)(p):ul.E))}(n._resolve,n,r,o).pipe((0,Qn.U)(p=>(n._resolvedData=p,n.data=Object.assign(Object.assign({},n.data),Tf(n,e).resolve),null)))}(b.route,o,n,r)),(0,ai.b)(()=>p++),oh(1),(0,Io.z)(b=>p===u.length?(0,Jt.of)(e):ul.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ai.b)({next:()=>Y=!0,complete:()=>{Y||(this.restoreHistory(L),this.cancelNavigationTransition(L,"At least one route resolver didn't emit any value."))}}))}),(0,ai.b)(L=>{const Y=new dl(L.id,this.serializeUrl(L.extractedUrl),this.serializeUrl(L.urlAfterRedirects),L.targetSnapshot);this.triggerEvent(Y)}))}),ws(x=>{const{targetSnapshot:L,id:Y,extractedUrl:pe,rawUrl:Me,extras:{skipLocationChange:Ye,replaceUrl:Ve}}=x;return this.hooks.afterPreactivation(L,{navigationId:Y,appliedUrlTree:pe,rawUrlTree:Me,skipLocationChange:!!Ye,replaceUrl:!!Ve})}),(0,Qn.U)(x=>{const L=function Sg(n,r,e){const o=ph(n,r._root,e?e._root:void 0);return new ir(o,r)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:L})}),(0,ai.b)(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((n,r,e)=>(0,Qn.U)(o=>(new Ig(r,o.targetRouterState,o.currentRouterState,e).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),(0,ai.b)({next(){p=!0},complete(){p=!0}}),function us(n){return(0,ho.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}(()=>{var x;p||b||this.cancelNavigationTransition(u,`Navigation ID ${u.id} is not equal to the current navigation id ${this.navigationId}`),(null===(x=this.currentNavigation)||void 0===x?void 0:x.id)===u.id&&(this.currentNavigation=null)}),Ic(x=>{if(b=!0,function pf(n){return n&&n[Ia]}(x)){const L=ml(x.url);L||(this.navigated=!0,this.restoreHistory(u,!0));const Y=new df(u.id,this.serializeUrl(u.extractedUrl),x.message);o.next(Y),L?setTimeout(()=>{const pe=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree),Me={skipLocationChange:u.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Bc(u.source)};this.scheduleNavigation(pe,"imperative",null,Me,{resolve:u.resolve,reject:u.reject,promise:u.promise})},0):u.resolve(!1)}else{this.restoreHistory(u,!0);const L=new du(u.id,this.serializeUrl(u.extractedUrl),x);o.next(L);try{u.resolve(this.errorHandler(x))}catch(Y){u.reject(Y)}}return ul.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var u;const p={replaceUrl:!0},b=(null===(u=e.state)||void 0===u?void 0:u.navigationId)?e.state:null;if(b){const L=Object.assign({},b);delete L.navigationId,delete L.\u0275routerPageId,0!==Object.keys(L).length&&(p.state=L)}const x=this.parseUrl(e.url);this.scheduleNavigation(x,o,b,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Na(e),this.config=e.map(gd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:u,queryParams:p,fragment:b,queryParamsHandling:x,preserveFragment:L}=o,Y=u||this.routerState.root,pe=L?this.currentUrlTree.fragment:b;let Me=null;switch(x){case"merge":Me=Object.assign(Object.assign({},this.currentUrlTree.queryParams),p);break;case"preserve":Me=this.currentUrlTree.queryParams;break;default:Me=p||null}return null!==Me&&(Me=this.removeEmptyProps(Me)),function gh(n,r,e,o,u){if(0===e.length)return Su(r.root,r.root,r.root,o,u);const p=function Ap(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new K_(!0,0,n);let r=0,e=!1;const o=n.reduce((u,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const x={};return Pi(p.outlets,(L,Y)=>{x[Y]="string"==typeof L?L.split("/"):L}),[...u,{outlets:x}]}if(p.segmentPath)return[...u,p.segmentPath]}return"string"!=typeof p?[...u,p]:0===b?(p.split("/").forEach((x,L)=>{0==L&&"."===x||(0==L&&""===x?e=!0:".."===x?r++:""!=x&&u.push(x))}),u):[...u,p]},[]);return new K_(e,r,o)}(e);if(p.toRoot())return Su(r.root,r.root,new hr([],{}),o,u);const b=function hd(n,r,e){if(n.isAbsolute)return new Df(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const p=e.snapshot._urlSegment;return new Df(p,p===r.root,0)}const o=Rc(n.commands[0])?0:1;return function gl(n,r,e){let o=n,u=r,p=e;for(;p>u;){if(p-=u,o=o.parent,!o)throw new Error("Invalid number of '../'");u=o.segments.length}return new Df(o,!1,u-p)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(p,r,n),x=b.processChildren?fd(b.segmentGroup,b.index,p.commands):xf(b.segmentGroup,b.index,p.commands);return Su(r.root,b.segmentGroup,x,o,u)}(Y,this.currentUrlTree,e,Me,null!=pe?pe:null)}navigateByUrl(e,o={skipLocationChange:!1}){const u=ml(e)?e:this.parseUrl(e),p=this.urlHandlingStrategy.merge(u,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function Zg(n){for(let r=0;r<n.length;r++){const e=n[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(u){o=this.malformedUriErrorHandler(u,this.urlSerializer,e)}return o}isActive(e,o){let u;if(u=!0===o?Object.assign({},xh):!1===o?Object.assign({},qg):o,ml(e))return yf(this.currentUrlTree,e,u);const p=this.parseUrl(e);return yf(this.currentUrlTree,p,u)}removeEmptyProps(e){return Object.keys(e).reduce((o,u)=>{const p=e[u];return null!=p&&(o[u]=p),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Cs(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,u,p,b){var x,L;if(this.disposed)return Promise.resolve(!1);let Y,pe,Me;b?(Y=b.resolve,pe=b.reject,Me=b.promise):Me=new Promise((at,_t)=>{Y=at,pe=_t});const Ye=++this.navigationId;let Ve;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(u=this.location.getState()),Ve=u&&u.\u0275routerPageId?u.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(L=this.browserPageId)&&void 0!==L?L:0)+1):Ve=0,this.setTransition({id:Ye,targetPageId:Ve,source:o,restoredState:u,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:p,resolve:Y,reject:pe,promise:Me,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Me.catch(at=>Promise.reject(at))}setBrowserUrl(e,o){const u=this.urlSerializer.serialize(e),p=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(u)||o.extras.replaceUrl?this.location.replaceState(u,"",p):this.location.go(u,"",p)}restoreHistory(e,o=!1){var u,p;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(u=this.currentNavigation)||void 0===u?void 0:u.finalUrl)||0===b?this.currentUrlTree===(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)&&0===b&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const u=new df(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(u),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Bc(n){return"imperative"!==n}let Ra=(()=>{class n{constructor(e,o,u,p,b){this.router=e,this.route=o,this.tabIndexAttribute=u,this.renderer=p,this.el=b,this.commands=null,this.onChanges=new $r.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,u=this.el.nativeElement;null!==e?o.setAttribute(u,"tabindex",e):o.removeAttribute(u,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:Ah(this.skipLocationChange),replaceUrl:Ah(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ah(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(sa),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&t.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})(),Ru=(()=>{class n{constructor(e,o,u){this.router=e,this.route=o,this.locationStrategy=u,this.commands=null,this.href=null,this.onChanges=new $r.x,this.subscription=e.events.subscribe(p=>{p instanceof Cs&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,u,p,b){if(0!==e||o||u||p||b||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const x={skipLocationChange:Ah(this.skipLocationChange),replaceUrl:Ah(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Ah(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(sa),t.Y36(De))},n.\u0275dir=t.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("click",function(p){return o.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&e&&t.uIk("target",o.target)("href",o.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})();function Ah(n){return""===n||!!n}class Bm{}class vd{preload(r,e){return(0,Jt.of)(null)}}let Wg=(()=>{class n{constructor(e,o,u,p){this.router=e,this.injector=u,this.preloadingStrategy=p,this.loader=new Sh(u,o,L=>e.triggerEvent(new pu(L)),L=>e.triggerEvent(new sh(L)))}setUpPreloading(){this.subscription=this.router.events.pipe(no(e=>e instanceof Cs),uu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(t.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const u=[];for(const p of o)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const b=p._loadedConfig;u.push(this.processRoutes(b.module,b.routes))}else p.loadChildren&&!p.canLoad?u.push(this.preloadConfig(e,p)):p.children&&u.push(this.processRoutes(e,p.children));return(0,Gn.D)(u).pipe((0,rd.J)(),(0,Qn.U)(p=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Jt.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,Io.z)(p=>(o._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(zr),t.LFG(t.Sil),t.LFG(t.zs3),t.LFG(Bm))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ih=(()=>{class n{constructor(e,o,u={}){this.router=e,this.viewportScroller=o,this.options=u,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},u.scrollPositionRestoration=u.scrollPositionRestoration||"disabled",u.anchorScrolling=u.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Mo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Cs&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof od&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new od(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const wl=new t.OlP("ROUTER_CONFIGURATION"),jm=new t.OlP("ROUTER_FORROOT_GUARD"),Vm=[Re,{provide:yu,useClass:Oc},{provide:zr,useFactory:function $m(n,r,e,o,u,p,b={},x,L){const Y=new zr(null,n,r,e,o,u,sd(p));return x&&(Y.urlHandlingStrategy=x),L&&(Y.routeReuseStrategy=L),function ey(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(b,Y),b.enableTracing&&Y.events.subscribe(pe=>{var Me,Ye;null===(Me=console.group)||void 0===Me||Me.call(console,`Router Event: ${pe.constructor.name}`),console.log(pe.toString()),console.log(pe),null===(Ye=console.groupEnd)||void 0===Ye||Ye.call(console)}),Y},deps:[yu,Iu,Re,t.zs3,t.Sil,Cl,wl,[class Rf{},new t.FiY],[class Vs{},new t.FiY]]},Iu,{provide:sa,useFactory:function Cd(n){return n.routerState.root},deps:[zr]},Wg,vd,class Um{preload(r,e){return e().pipe(Ic(()=>(0,Jt.of)(null)))}},{provide:wl,useValue:{enableTracing:!1}}];function zg(){return new t.PXZ("Router",zr)}let Gm=(()=>{class n{constructor(e,o){}static forRoot(e,o){return{ngModule:n,providers:[Vm,Hm(e),{provide:jm,useFactory:bd,deps:[[zr,new t.FiY,new t.tp0]]},{provide:wl,useValue:o||{}},{provide:De,useFactory:r0,deps:[X,[new t.tBr(Ae),new t.FiY],wl]},{provide:Ih,useFactory:n0,deps:[zr,An,wl]},{provide:Bm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:vd},{provide:t.PXZ,multi:!0,useFactory:zg},[qm,{provide:t.ip1,multi:!0,useFactory:Zm,deps:[qm]},{provide:Kg,useFactory:Wm,deps:[qm]},{provide:t.tb,multi:!0,useExisting:Kg}]]}}static forChild(e){return{ngModule:n,providers:[Hm(e)]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(jm,8),t.LFG(zr,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function n0(n,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Ih(n,r,e)}function r0(n,r,e={}){return e.useHash?new Be(n,r):new Qe(n,r)}function bd(n){return"guarded"}function Hm(n){return[{provide:t.deG,multi:!0,useValue:n},{provide:Cl,multi:!0,useValue:n}]}let qm=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new $r.x}appInitializer(){return this.injector.get(K,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const u=new Promise(x=>o=x),p=this.injector.get(zr),b=this.injector.get(wl);return"disabled"===b.initialNavigation?(p.setUpLocationChangeListener(),o(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?(0,Jt.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),p.initialNavigation()):o(!0),u})}bootstrapListener(e){const o=this.injector.get(wl),u=this.injector.get(Wg),p=this.injector.get(Ih),b=this.injector.get(zr),x=this.injector.get(t.z2F);e===x.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&b.initialNavigation(),u.setUpPreloading(),p.init(),b.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Zm(n){return n.appInitializer.bind(n)}function Wm(n){return n.bootstrapListener.bind(n)}const Kg=new t.OlP("Router Initializer");var Mh,ca=N(635),ka=N(6082),Tl=new Uint8Array(16);function Km(){if(!Mh&&!(Mh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Mh(Tl)}const ty=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ny=function Ym(n){return"string"==typeof n&&ty.test(n)};for(var Qo=[],Yg=0;Yg<256;++Yg)Qo.push((Yg+256).toString(16).substr(1));const wd=function ry(n,r,e){var o=(n=n||{}).random||(n.rng||Km)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){e=e||0;for(var u=0;u<16;++u)r[e+u]=o[u];return r}return function o0(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(Qo[n[r+0]]+Qo[n[r+1]]+Qo[n[r+2]]+Qo[n[r+3]]+"-"+Qo[n[r+4]]+Qo[n[r+5]]+"-"+Qo[n[r+6]]+Qo[n[r+7]]+"-"+Qo[n[r+8]]+Qo[n[r+9]]+"-"+Qo[n[r+10]]+Qo[n[r+11]]+Qo[n[r+12]]+Qo[n[r+13]]+Qo[n[r+14]]+Qo[n[r+15]]).toLowerCase();if(!ny(e))throw TypeError("Stringified UUID is invalid");return e}(o)},s0=[{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1648041984132,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1648041964676,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1648041940941,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1648041898298,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",updateDate:1647961453747,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647961415096,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:2.65,productBarcode:"8411135005037",shopId:"bonpreu",updateDate:1647961386453,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1647961357748,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1647961332394,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647961299091,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:5,productBarcode:"3574661648019",shopId:"bonpreu",updateDate:1647961197826,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647615871205,isAdmin:!1}},{price:1.25,productBarcode:"8410505512267",shopId:"bonpreu",updateDate:1647547513223,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647547444600,isAdmin:!1}},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647547483555,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647547444600,isAdmin:!1}},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647547448250,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647547444600,isAdmin:!1}},{price:4.29,productBarcode:"8436551862040",shopId:"ametller",updateDate:1647449138590,createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1647449093641,createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{price:1.99,productBarcode:"8436540566942",shopId:"ametller",updateDate:1647449073312,createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647449047440,createdBy:{email:"joan.lloria@cabsa.es",username:"admin1234",lastLogin:1647366041170,isAdmin:!0}},{price:2.99,productBarcode:"5029053036151",shopId:"bonpreu",updateDate:1647365959812,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1647365744646,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647365593154,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1647365517833,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:1.1,productBarcode:"8410184800150",shopId:"bonpreu",updateDate:1647365491009,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:1.73,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1647365453382,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:.99,productBarcode:"8410184013086",shopId:"bonpreu",updateDate:1647365405368,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1647288183532,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:3.49,productBarcode:"8436551861951",shopId:"ametller",updateDate:1647288160477,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647288114011,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:1.99,productBarcode:"8436554523979",shopId:"ametller",updateDate:1647288063635,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",lastLogin:1647288058759,isAdmin:!1}},{price:1.49,productBarcode:"8436551867502",shopId:"ametller",updateDate:1647009885888,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.99,productBarcode:"8436583950449",shopId:"ametller",updateDate:1647009840835,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:5.99,productBarcode:"8436551860251",shopId:"ametller",updateDate:1647009813003,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647009785979,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1647009736789,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:6.49,productBarcode:"8436583957110",shopId:"ametller",updateDate:1647009673830,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:6.49,productBarcode:"8436583957134",shopId:"ametller",updateDate:1647009576298,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1647009535063,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647009507902,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.86,productBarcode:"8076802085981",shopId:"carrefour",updateDate:1647001030237,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.86,productBarcode:"8076808060654",shopId:"carrefour",updateDate:1647000997394,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.1,productBarcode:"8410128160074",shopId:"carrefour",updateDate:1647000971290,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1647000949431,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.49,productBarcode:"3560070119851",shopId:"carrefour",updateDate:1647000913572,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.26,productBarcode:"8431707094290",shopId:"carrefour",updateDate:1646942628295,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.2,productBarcode:"3560070347438",shopId:"carrefour",updateDate:1646942603389,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1,productBarcode:"8436033878095",shopId:"carrefour",updateDate:1646942576971,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1646942537870,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.08,productBarcode:"8431876005912",shopId:"carrefour",updateDate:1646942494815,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.2,productBarcode:"8480000180926",shopId:"mercadona",updateDate:1646930250559,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:3.3,productBarcode:"8480000136343",shopId:"mercadona",updateDate:1646930214883,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.2,productBarcode:"8410086000856",shopId:"mercadona",updateDate:1646930191204,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.25,productBarcode:"8480000163141",shopId:"mercadona",updateDate:1646930166623,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.95,productBarcode:"8480000581518",shopId:"mercadona",updateDate:1646930137722,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.65,productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.5,productBarcode:"8480000610652",shopId:"mercadona",updateDate:1646930032462,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:3.25,productBarcode:"8420309210115",shopId:"mercadona",updateDate:1646929997724,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:.9,productBarcode:"8410148509327",shopId:"mercadona",updateDate:1646929946281,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.59,productBarcode:"80177616",shopId:"dia",updateDate:1646872443076,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:1.27,productBarcode:"8480017574657",shopId:"dia",updateDate:1646856265172,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:2.89,productBarcode:"8410448000913",shopId:"dia",updateDate:1646856219361,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:4.95,productBarcode:"7613035260924",shopId:"dia",updateDate:1646856083841,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:4.89,productBarcode:"5054563099082",shopId:"dia",updateDate:1646856003573,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:4.09,productBarcode:"8714100635650",shopId:"bonpreu",updateDate:1646486309719},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1646486174599},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1646486121079},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646415616777},{price:2.19,productBarcode:"8413475312615",shopId:"ametller",updateDate:1646415576400},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646415548935},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1646335181459},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646335153243},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1646335092609},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646335060270},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1646335036086},{price:1.25,productBarcode:"8410564002204",shopId:"condis",updateDate:1646250727985},{price:2.29,productBarcode:"3073780902366",shopId:"condis",updateDate:1646250687325},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1646250627653},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1646144325823},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1646144272786},{price:1.99,productBarcode:"8435037550631",shopId:"ametller",updateDate:1646079281946},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646079230642},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646079202513},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1646079180090},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646079152860},{price:2.19,productBarcode:"3269612045008",shopId:"condis",updateDate:1646071049954},{price:2.59,productBarcode:"7613036569927",shopId:"condis",updateDate:1646071015575},{price:2.19,productBarcode:"8410022115255",shopId:"condis",updateDate:1645888125951},{price:6.25,productBarcode:"8410179012018",shopId:"condis",updateDate:1645888080319},{price:1.52,updateDate:1645888034122,shopId:"condis",productBarcode:"8411002105006"},{price:3.5,productBarcode:"5054563101648",shopId:"condis",updateDate:1645887883610},{price:1.49,productBarcode:"8717700002402",shopId:"condis",updateDate:1645886201039},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1645886117451},{price:1.91,updateDate:1645869460823,shopId:"carrefour",productBarcode:"8015100563067"},{price:3.15,updateDate:1645869433791,shopId:"carrefour",productBarcode:"3560071152413"},{price:3.39,productBarcode:"5050083560262",shopId:"carrefour",updateDate:1645869280046},{price:2.95,updateDate:1645869134793,shopId:"carrefour",productBarcode:"8006540576588"},{price:1.89,updateDate:1645869027911,shopId:"carrefour",productBarcode:"5029053010052"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616"},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1645798155513},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1645798113906},{price:3.15,updateDate:1645798090805,shopId:"ametller",productBarcode:"8436583955093"},{price:1.99,updateDate:1645653239642,shopId:"ametller",productBarcode:"8436540566942"},{price:1.09,updateDate:1645653185581,shopId:"ametller",productBarcode:"8436551865355"},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1645552083100},{price:1.69,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1645552048570},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1645552013320},{price:1.45,productBarcode:"8414516070167",shopId:"bonpreu",updateDate:1645551958078},{price:1.43,productBarcode:"8413100612639",shopId:"bonpreu",updateDate:1645551919468},{price:1.99,productBarcode:"8422410387915",shopId:"bonpreu",updateDate:1645551879354},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1645551832691},{price:2.15,productBarcode:"3045206312257",shopId:"bonpreu",updateDate:1645452864525},{price:.99,productBarcode:"7613035268388",shopId:"bonpreu",updateDate:1645452256976},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1645452194587}];var Vp=N(1343);let El=(()=>{class n{constructor(e,o,u){this.productService=e,this.shopService=o,this.firestoreService=u,this.shopsProducts=new $r.x,this._shopsProducts=[],this.shopsProducts.subscribe(p=>{this._shopsProducts=p}),this.loadShopsProducts().subscribe()}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),Sa.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,ai.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=s0),this.shopsProducts.next(e)})):(0,Jt.of)(s0).pipe((0,ai.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=s0),this.shopsProducts.next(e)}))}addShopProduct(e){return e.id||(e.id=wd()),Sa.q.cloudMode?this.firestoreService.addShopProduct(e).pipe((0,ai.b)(()=>{this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts),(0,Jt.of)(!0))}removeShopProduct(e){return console.log("ShopProductService.removeShopProduct()",e),Sa.q.cloudMode?this.firestoreService.deleteShopProduct(e).pipe((0,ai.b)(()=>{this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts),(0,Jt.of)(!0))}removeShopShopProducts(e){console.log("ShopProductService.removeShopShopProducts()",e);const o=[],u=[];return this._shopsProducts.forEach(p=>{p.shopId===e?o.push(p):u.push(p)}),Sa.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ai.b)(()=>{this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts),(0,Jt.of)(!0))}removeProductShopProducts(e){console.log("ShopProductService.removeProductShopProducts()",e);const o=[],u=[];return this._shopsProducts.forEach(p=>{p.productBarcode===e?o.push(p):u.push(p)}),Sa.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ai.b)(()=>{this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=u,this.shopsProducts.next(this._shopsProducts),(0,Jt.of)(!0))}getShopProduct(e,o){const u=this._shopsProducts.filter(p=>p.productBarcode===o&&p.shopId===e).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return(0,Jt.of)(u.length>0?u[0]:void 0)}getShopProducts(e){const o=this._shopsProducts.filter(u=>u.shopId===e).map(u=>u.productBarcode);return(0,Jt.of)(this.productService._products.filter(u=>o.indexOf(u.barcode)>-1))}getProductShops(e){const o=this._shopsProducts.filter(u=>u.productBarcode===e).map(u=>u.shopId);return(0,Jt.of)(this.shopService._shops.filter(u=>o.indexOf(u.id)>-1))}getShopShopProducts(e){return(0,Jt.of)(this._shopsProducts.filter(o=>o.shopId===e))}getProductShopProducts(e){return(0,Jt.of)(this._shopsProducts.filter(o=>o.productBarcode===e))}getShopProductLast(e,o){const u=this._shopsProducts.filter(p=>p.shopId===e&&p.productBarcode===o).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return u.length>0?u[0]:void 0}getProductCheaperShop(e){const o=[];if(!e)return[];if(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length)return;let u=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price>x.price?1:-1)];const p=u[0].price;return u=u.filter(b=>b.price===p),u.map(b=>this.shopService._shops.find(x=>x.id===b.shopId))}getProductLowestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let u=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1)];return u[0].price<=u[u.length-1].price?u[0].price:u[u.length-1].price}getProductHighestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let u=o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1);return u[0].price>=u[u.length-1].price?u[0].price:u[u.length-1].price}getProductPriceRange(e,o){const u=[];this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{u.indexOf(b.shopId)<0&&u.push(b.shopId)});const p=u.map(b=>this.getShopProductLast(b,e.barcode).price);return p.sort((b,x)=>b<x?1:-1),{max:p[0],min:p[p.length-1]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ka.M),t.LFG(ca.d),t.LFG(Vp.C))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var la=N(4120);let Gp=(()=>{class n{constructor(e,o){this.productService=e,this.shopProductService=o,this.cart=new $r.x,this.cartConfig=new $r.x,this.cart.subscribe(u=>{var p;u&&(null===(p=u.productsBarcodesUnits)||void 0===p?void 0:p.length)>0?(this._cart=u,localStorage.setItem(Ac.M.PS_SHOPPING_CART,JSON.stringify(u))):(this._cart=void 0,localStorage.removeItem(Ac.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const e=localStorage.getItem(Ac.M.PS_SHOPPING_CART);if(e){const o=JSON.parse(e);this.cart.next(o)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(e=>{var o,u;(null===(u=null===(o=this._cart)||void 0===o?void 0:o.productsBarcodesUnits)||void 0===u?void 0:u.length)>0&&this._cart.productsBarcodesUnits.forEach(p=>{const b=e.find(L=>L.barcode===p.barcode);b||console.error("Undefined product");const x=this.shopProductService.getProductCheaperShop(b);if(x){const L=this.shopProductService.getProductLowestPrice(b),Y=this.shopProductService.getProductHighestPrice(b);x.forEach(pe=>{const Me=this._cartConfig.items.find(Ve=>{var at;return(null===(at=Ve.shop)||void 0===at?void 0:at.id)===pe.id}),Ye={product:b,units:p.units,minPrice:L,maxPrice:Y,checked:p.checked};Me?Me.productsUnits.push(Ye):this._cartConfig.items.push({shop:pe,productsUnits:[Ye]})})}else{const L=this._cartConfig.items.find(Y=>!Y.shop);L?L.productsUnits.push({product:b,units:p.units,checked:p.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:b,units:p.units,checked:p.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(e,o){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(u=>u.barcode===e.barcode).units=o,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(e){this._cart.productsBarcodesUnits.find(o=>o.barcode===e.product.barcode).checked=!e.checked,this.cart.next(this._cart)}removeCartProduct(e){console.log("removeCartProduct()",e),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(o=>o.barcode!==e.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Ac.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(e){console.log("addToCart()",e);let o=this._cart;if(o){const u=o.productsBarcodesUnits.find(p=>p.barcode===e.barcode);u?u.units++:o.productsBarcodesUnits.push({barcode:e.barcode,units:1,checked:!1})}else o={productsBarcodesUnits:[{barcode:e.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};o.updateDate=(new Date).getTime(),this.cart.next(o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ka.M),t.LFG(El))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Qm=N(5032);function Jr(n){return(0,ho.e)((r,e)=>{(0,Dt.Xf)(n).subscribe((0,ar.x)(e,()=>e.complete(),Qm.Z)),!e.closed&&r.subscribe(e)})}class Xm{}const cc="*";function Jg(n,r){return{type:7,name:n,definitions:r,options:{}}}function Hp(n,r=null){return{type:4,styles:r,timings:n}}function iy(n,r=null){return{type:2,steps:n,options:r}}function kf(n){return{type:6,styles:n,offset:null}}function e_(n,r,e){return{type:0,name:n,styles:r,options:e}}function $p(n,r,e=null){return{type:1,expr:n,animation:r,options:e}}function n_(n){Promise.resolve(null).then(n)}class Dl{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){n_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class Td{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,o=0,u=0;const p=this.players.length;0==p?n_(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++e==p&&this._onFinish()}),b.onDestroy(()=>{++o==p&&this._onDestroy()}),b.onStart(()=>{++u==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,x)=>Math.max(b,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(o=>{const u=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(u)})}getPosition(){const r=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}const Oh=["overlay"];function r_(n,r){1&n&&t._UZ(0,"div")}function Qg(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,r_,1,0,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.Tol(e.spinner.class),t.Udp("color",e.spinner.color),t.xp6(1),t.Q6J("ngForOf",e.spinner.divArray)}}function Zp(n,r){if(1&n&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&n){const e=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,e.template),t.oJD)}}function Uc(n,r){if(1&n&&(t.TgZ(0,"div",1,2),t.YNc(2,Qg,2,5,"div",3),t.YNc(3,Zp,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&n){const e=t.oxw();t.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!e.template),t.xp6(1),t.Q6J("ngIf",e.template),t.xp6(1),t.Udp("z-index",e.spinner.zIndex)}}const Ph=["*"],hs={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Vc="primary";class Oo{constructor(r){Object.assign(this,r)}static create(r){return(null==(null==r?void 0:r.type)||0===r.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Oo(r)}}let Gc=(()=>{class n{constructor(){this.spinnerObservable=new to(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(no(o=>o&&o.name===e))}show(e=Vc,o){return new Promise((u,p)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=e,this.spinnerObservable.next(new Oo(Object.assign(Object.assign({},o),{show:!0}))),u(!0)):(this.spinnerObservable.next(new Oo({name:e,show:!0})),u(!0))},10)})}hide(e=Vc,o=10){return new Promise((u,p)=>{setTimeout(()=>{this.spinnerObservable.next(new Oo({name:e,show:!1})),u(!0)},o)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ff=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Rs,16))},n.\u0275pipe=t.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Lf=(()=>{class n{constructor(e,o,u){this.spinnerService=e,this.changeDetector=o,this.elementRef=u,this.disableAnimation=!1,this.spinner=new Oo,this.ngUnsubscribe=new $r.x,this.setDefaultOptions=()=>{this.spinner=Oo.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Vc,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Jr(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const o in e)if(o){const u=e[o];if(u.isFirstChange())return;void 0!==u.currentValue&&u.currentValue!==u.previousValue&&""!==u.currentValue&&(this.spinner[o]=u.currentValue,"showSpinner"===o&&(u.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===o&&this.initObservable())}}getClass(e,o){this.spinner.divCount=hs[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((p,b)=>b);let u="";switch(o.toLowerCase()){case"small":u="la-sm";break;case"medium":u="la-2x";break;case"large":u="la-3x"}return"la-"+e+" "+u}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Gc),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(e,o){if(1&e&&t.Gf(Oh,5),2&e){let u;t.iGM(u=t.CRH())&&(o.spinnerDOM=u.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(p){return o.handleKeyboardEvent(p)},!1,t.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[t.TTD],ngContentSelectors:Ph,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,Uc,6,12,"div",0)),2&e&&t.Q6J("ngIf",o.spinner.show)},directives:[mr,an],pipes:[Ff],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Jg("fadeIn",[e_("in",kf({opacity:1})),$p(":enter",[kf({opacity:0}),Hp(300)]),$p(":leave",Hp(200,kf({opacity:0})))])]},changeDetection:0}),n})(),Nh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})();function lc(n){return!!n&&(n instanceof Ji.y||(0,tc.m)(n.lift)&&(0,tc.m)(n.subscribe))}var Rh=N(6063);class Bf extends $r.x{constructor(r=1/0,e=1/0,o=Rh.l){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){const{isStopped:e,_buffer:o,_infiniteTimeWindow:u,_timestampProvider:p,_windowTime:b}=this;e||(o.push(r),!u&&o.push(p.now()+b)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(r),{_infiniteTimeWindow:o,_buffer:u}=this,p=u.slice();for(let b=0;b<p.length&&!r.closed;b+=o?1:2)r.next(p[b]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){const{_bufferSize:r,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:u}=this,p=(u?1:2)*r;if(r<1/0&&p<o.length&&o.splice(0,o.length-p),!u){const b=e.now();let x=0;for(let L=1;L<o.length&&o[L]<=b;L+=2)x=L;x&&o.splice(0,x+1)}}}var Uf=N(3099);function kh(n,r,e){let o,u=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:r=1/0,refCount:u=!1,scheduler:e}=n):o=null!=n?n:1/0,(0,Uf.B)({connector:()=>new Bf(o,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}class ku{}let Xg=(()=>{class n extends ku{getTranslation(e){return(0,Jt.of)({})}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class jf{}let i_=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Vf(n,r){if(n===r)return!0;if(null===n||null===r)return!1;if(n!=n&&r!=r)return!0;let u,p,b,e=typeof n;if(e==typeof r&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(r))return!1;for(p in b=Object.create(null),n){if(!Vf(n[p],r[p]))return!1;b[p]=!0}for(p in r)if(!(p in b)&&void 0!==r[p])return!1;return!0}if(!Array.isArray(r))return!1;if((u=n.length)==r.length){for(p=0;p<u;p++)if(!Vf(n[p],r[p]))return!1;return!0}}return!1}function Sl(n){return null!=n}function Fh(n){return n&&"object"==typeof n&&!Array.isArray(n)}function Or(n,r){let e=Object.assign({},n);return Fh(n)&&Fh(r)&&Object.keys(r).forEach(o=>{Fh(r[o])?o in n?e[o]=Or(n[o],r[o]):Object.assign(e,{[o]:r[o]}):Object.assign(e,{[o]:r[o]})}),e}class Gf{}let em=(()=>{class n extends Gf{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,o){let u;return u="string"==typeof e?this.interpolateString(e,o):"function"==typeof e?this.interpolateFunction(e,o):e,u}getValue(e,o){let u="string"==typeof o?o.split("."):[o];o="";do{o+=u.shift(),!Sl(e)||!Sl(e[o])||"object"!=typeof e[o]&&u.length?u.length?o+=".":e=void 0:(e=e[o],o="")}while(u.length);return e}interpolateFunction(e,o){return e(o)}interpolateString(e,o){return o?e.replace(this.templateMatcher,(u,p)=>{let b=this.getValue(o,p);return Sl(b)?b:u}):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Ed{}let c0=(()=>{class n extends Ed{compile(e,o){return e}compileTranslations(e,o){return e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class io{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const Go=new t.OlP("USE_STORE"),Fa=new t.OlP("USE_DEFAULT_LANG"),o_=new t.OlP("DEFAULT_LANGUAGE"),l0=new t.OlP("USE_EXTEND");let La=(()=>{class n{constructor(e,o,u,p,b,x=!0,L=!1,Y=!1,pe){this.store=e,this.currentLoader=o,this.compiler=u,this.parser=p,this.missingTranslationHandler=b,this.useDefaultLang=x,this.isolate=L,this.extend=Y,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},pe&&this.setDefaultLang(pe)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let o=this.retrieveTranslations(e);void 0!==o?(null==this.defaultLang&&(this.defaultLang=e),o.pipe((0,Oi.q)(1)).subscribe(u=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,Jt.of)(this.translations[e]);let o=this.retrieveTranslations(e);return void 0!==o?(this.currentLang||(this.currentLang=e),o.pipe((0,Oi.q)(1)).subscribe(u=>{this.changeLang(e)}),o):(this.changeLang(e),(0,Jt.of)(this.translations[e]))}retrieveTranslations(e){let o;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),o=this._translationRequests[e]),o}getTranslation(e){this.pending=!0;const o=this.currentLoader.getTranslation(e).pipe(kh(1),(0,Oi.q)(1));return this.loadingTranslations=o.pipe((0,Qn.U)(u=>this.compiler.compileTranslations(u,e)),kh(1),(0,Oi.q)(1)),this.loadingTranslations.subscribe({next:u=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},u),this.translations[e]):u,this.updateLangs(),this.pending=!1},error:u=>{this.pending=!1}}),o}setTranslation(e,o,u=!1){o=this.compiler.compileTranslations(o,e),this.translations[e]=(u||this.extend)&&this.translations[e]?Or(this.translations[e],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(o=>{-1===this.langs.indexOf(o)&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,o,u){let p;if(o instanceof Array){let b={},x=!1;for(let L of o)b[L]=this.getParsedResult(e,L,u),lc(b[L])&&(x=!0);return x?_c(o.map(Y=>lc(b[Y])?b[Y]:(0,Jt.of)(b[Y]))).pipe((0,Qn.U)(Y=>{let pe={};return Y.forEach((Me,Ye)=>{pe[o[Ye]]=Me}),pe})):b}if(e&&(p=this.parser.interpolate(this.parser.getValue(e,o),u)),void 0===p&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(p=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],o),u)),void 0===p){let b={key:o,translateService:this};void 0!==u&&(b.interpolateParams=u),p=this.missingTranslationHandler.handle(b)}return void 0!==p?p:o}get(e,o){if(!Sl(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(uu(u=>lc(u=this.getParsedResult(u,e,o))?u:(0,Jt.of)(u)));{let u=this.getParsedResult(this.translations[this.currentLang],e,o);return lc(u)?u:(0,Jt.of)(u)}}getStreamOnTranslationChange(e,o){if(!Sl(e)||!e.length)throw new Error('Parameter "key" required');return lu(ll(()=>this.get(e,o)),this.onTranslationChange.pipe(ji(u=>{const p=this.getParsedResult(u.translations,e,o);return"function"==typeof p.subscribe?p:(0,Jt.of)(p)})))}stream(e,o){if(!Sl(e)||!e.length)throw new Error('Parameter "key" required');return lu(ll(()=>this.get(e,o)),this.onLangChange.pipe(ji(u=>{const p=this.getParsedResult(u.translations,e,o);return lc(p)?p:(0,Jt.of)(p)})))}instant(e,o){if(!Sl(e)||!e.length)throw new Error('Parameter "key" required');let u=this.getParsedResult(this.translations[this.currentLang],e,o);if(lc(u)){if(e instanceof Array){let p={};return e.forEach((b,x)=>{p[e[x]]=e[x]}),p}return e}return u}set(e,o,u=this.currentLang){this.translations[u][e]=this.compiler.compile(o,u),this.updateLangs(),this.onTranslationChange.emit({lang:u,translations:this.translations[u]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(io),t.LFG(ku),t.LFG(Ed),t.LFG(Gf),t.LFG(jf),t.LFG(Fa),t.LFG(Go),t.LFG(l0),t.LFG(o_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Es=(()=>{class n{constructor(e,o){this.translate=e,this._ref=o,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,o,u){let p=b=>{this.value=void 0!==b?b:e,this.lastKey=e,this._ref.markForCheck()};if(u){let b=this.translate.getParsedResult(u,e,o);lc(b.subscribe)?b.subscribe(p):p(b)}this.translate.get(e,o).subscribe(p)}transform(e,...o){if(!e||!e.length)return e;if(Vf(e,this.lastKey)&&Vf(o,this.lastParams))return this.value;let u;if(Sl(o[0])&&o.length)if("string"==typeof o[0]&&o[0].length){let p=o[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{u=JSON.parse(p)}catch(b){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else"object"==typeof o[0]&&!Array.isArray(o[0])&&(u=o[0]);return this.lastKey=e,this.lastParams=o,this.updateValue(e,u),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(p=>{this.lastKey&&p.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,u,p.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(p=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,u,p.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,u))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(La,16),t.Y36(t.sBO,16))},n.\u0275pipe=t.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),oy=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:ku,useClass:Xg},e.compiler||{provide:Ed,useClass:c0},e.parser||{provide:Gf,useClass:em},e.missingTranslationHandler||{provide:jf,useClass:i_},io,{provide:Go,useValue:e.isolate},{provide:Fa,useValue:e.useDefaultLang},{provide:l0,useValue:e.extend},{provide:o_,useValue:e.defaultLanguage},La]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:ku,useClass:Xg},e.compiler||{provide:Ed,useClass:c0},e.parser||{provide:Gf,useClass:em},e.missingTranslationHandler||{provide:jf,useClass:i_},{provide:Go,useValue:e.isolate},{provide:Fa,useValue:e.useDefaultLang},{provide:l0,useValue:e.extend},{provide:o_,useValue:e.defaultLanguage},La]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const s_={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",access:"Accedeix"},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui en la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i la aplicaci\xf3 et dir\xe0 on comprar cada producte."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escanejar"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades"},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant scanner",initError:"Hi ha hagut un error inicialitzant el scanner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'ecaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per al a botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},commons:{prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"}}},Tv={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",access:"Access"},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data"},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},commons:{prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"}}},Ev={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",access:"Accede"},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos"},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},commons:{prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"}}},Ci={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",access:"Acesso"},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados"},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},commons:{prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"}}};let a_=(()=>{class n{constructor(e){this.translate=e,this.languages=["ca","es","en","pt"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:s_,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:Ev,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:Tv,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Ci,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"}],this.translationData.forEach(e=>{this.translate.setTranslation(e.language,e.translations)}),(0,Jt.of)(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(La))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sy=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"ul")(2,"li"),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"li"),t._uU(6),t.ALo(7,"number"),t.qZA()()()),2&e&&(t.xp6(3),t.hij("Botigues: ",t.xi3(4,2,o.shops.length,"1.0-2"),""),t.xp6(3),t.hij("Productes: ",t.xi3(7,5,o.products.length,"1.0-2"),""))},pipes:[P],styles:[""]}),n})();var hi=N(2940);function ay(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",9),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw().updateProduct(u)}),t.qZA()}}function tC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",10),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw().updateProduct(u)}),t.qZA()}}function Dv(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"input",5),t.NdJ("ngModelChange",function(u){return t.CHM(e).$implicit.name=u}),t.qZA()(),t.TgZ(4,"td")(5,"input",5),t.NdJ("ngModelChange",function(u){return t.CHM(e).$implicit.brand=u}),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td")(9,"input",5),t.NdJ("ngModelChange",function(u){return t.CHM(e).$implicit.imageUrl=u}),t.qZA()(),t.TgZ(10,"td"),t._UZ(11,"img",6),t.qZA(),t.TgZ(12,"td"),t.YNc(13,ay,1,0,"i",7),t.YNc(14,tC,1,0,"i",8),t.qZA()(),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw();t.xp6(3),t.Q6J("value",e.name)("ngModel",e.name),t.xp6(2),t.Q6J("value",e.brand)("ngModel",e.brand),t.xp6(2),t.Oqu(null==e.createdBy?null:e.createdBy.username),t.xp6(2),t.Q6J("value",e.imageUrl)("ngModel",e.imageUrl),t.xp6(2),t.Q6J("src",e.imageUrl.length>0?e.imageUrl:o.DEFAULT_IMAGE_URL,t.LSH),t.xp6(2),t.Q6J("ngIf",!o.updatingProduct||o.updatingProduct.id!==e.id),t.xp6(1),t.Q6J("ngIf",o.updatingProduct&&o.updatingProduct.id===e.id)}}let c_=(()=>{class n{constructor(e,o){this.productService=e,this.spinner=o,this.products=[],this.onSortEmitter=new t.vpe,this.DEFAULT_IMAGE_URL=hi.T,this.sortBy="name",this.sortDir="ASC"}sort(e){this.sortDir=e!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=e,this.onSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(e){console.log("updateProduct()",e),e.brand.length>0&&e.name.length>0&&(0===e.imageUrl.length&&(e.imageUrl=hi.T),this.updatingProduct=e,this.spinner.show(),this.productService.updateProduct(e,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(e=>{e.imageUrl=e.imageUrl===hi.T?"":e.imageUrl})}ngOnInit(){this.checkProductsImages()}ngOnChanges(e){this.checkProductsImages()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ka.M),t.Y36(Gc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-products"]],inputs:{products:"products"},outputs:{onSortEmitter:"onSortEmitter"},features:[t.TTD],decls:20,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",3,"click",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"span",2),t.NdJ("click",function(){return o.sort("name")}),t._uU(6,"Nom"),t.qZA()(),t.TgZ(7,"th")(8,"span",2),t.NdJ("click",function(){return o.sort("brand")}),t._uU(9,"Marca"),t.qZA()(),t.TgZ(10,"th"),t._uU(11,"Creat per"),t.qZA(),t.TgZ(12,"th"),t._uU(13,"URL imatge"),t.qZA(),t.TgZ(14,"th"),t._uU(15,"Imatge"),t.qZA(),t.TgZ(16,"th"),t._UZ(17,"i",3),t.qZA()()(),t.TgZ(18,"tbody"),t.YNc(19,Dv,15,10,"ng-container",4),t.qZA()()()),2&e&&(t.xp6(19),t.Q6J("ngForOf",o.products))},directives:[an,Vr,jo,Ko,mr],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();function nC(n,r){if(1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-backoffice-dashboard",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function Sv(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Botigues"),t.qZA())}function Wp(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-backoffice-products",11),t.NdJ("onSortEmitter",function(u){return t.CHM(e),t.oxw().sortProducts(u)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("products",e.products)}}function xv(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Usuaris"),t.qZA())}const tm=function(n){return{active:n}};let Av=(()=>{class n{constructor(e){this.loginService=e,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.users=[]}sortProducts(e){console.log("sortProducts()",e),e&&(this.products=this.products.sort((o,u)=>"DESC"===e.sortDir?o[e.sortBy].toUpperCase()>u[e.sortBy].toUpperCase()?-1:1:o[e.sortBy].toUpperCase()>u[e.sortBy].toUpperCase()?1:-1))}refreshUsers(){let e=[this.loginService.getLoggedUser()];this.shops.forEach(o=>{o.createdBy&&!e.find(u=>u.email===o.createdBy.email&&u.username===o.createdBy.username)&&e.push(o.createdBy)}),this.products.forEach(o=>{o.createdBy&&!e.find(u=>u.email===o.createdBy.email&&u.username===o.createdBy.username)&&e.push(o.createdBy)}),this.shopsProducts.forEach(o=>{o.createdBy&&!e.find(u=>u.email===o.createdBy.email&&u.username===o.createdBy.username)&&e.push(o.createdBy)}),this.users=e}ngOnInit(){}ngOnChanges(e){this.refreshUsers()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(la.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[t.TTD],decls:31,vars:28,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","w-100","mb-3","mt-5"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"products","onSortEmitter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Backoffice"),t.qZA()(),t.TgZ(4,"ul",2)(5,"li",3)(6,"a",4),t.NdJ("click",function(){return o.selectedTab=0}),t._uU(7,"Dashboard"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",4),t.NdJ("click",function(){return o.selectedTab=1}),t._uU(10,"Botigues "),t.TgZ(11,"small",6),t._uU(12),t.ALo(13,"number"),t.qZA()()(),t.TgZ(14,"li",3)(15,"a",4),t.NdJ("click",function(){return o.selectedTab=2}),t._uU(16,"Productes "),t.TgZ(17,"small",6),t._uU(18),t.ALo(19,"number"),t.qZA()()(),t.TgZ(20,"li",3)(21,"a",4),t.NdJ("click",function(){return o.selectedTab=3}),t._uU(22,"Usuaris"),t.TgZ(23,"small",6),t._uU(24),t.ALo(25,"number"),t.qZA()()()(),t.TgZ(26,"div",7),t.YNc(27,nC,2,3,"div",8),t.YNc(28,Sv,2,0,"div",8),t.YNc(29,Wp,2,1,"div",8),t.YNc(30,xv,2,0,"div",8),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(20,tm,0===o.selectedTab)),t.xp6(3),t.Q6J("ngClass",t.VKq(22,tm,1===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(13,11,o.shops.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(24,tm,2===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(19,14,o.products.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(26,tm,3===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(25,17,null==o.users?null:o.users.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.Q6J("ngIf",2===o.selectedTab),t.xp6(1),t.Q6J("ngIf",3===o.selectedTab))},directives:[Zn,mr,sy,c_],pipes:[P],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 180px)!important;overflow:auto}"]}),n})();const cy=["appLayout"];function zp(n,r){if(1&n&&(t.TgZ(0,"div",35),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e.cartItemCount,"1.0-2")," ")}}function Hf(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li"),t._UZ(2,"hr",33),t.qZA(),t.TgZ(3,"li",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleExport()}),t.TgZ(4,"div",17),t._UZ(5,"i",36),t.TgZ(6,"a",23),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"menu.export")))}const ly=function(n){return{disabled:n}},Lh=function(){return["/shoppingCart"]},l_=function(){return["/search-shops"]},u_=function(){return["/search-products"]},u0=function(){return["/statistics"]};function uy(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"button",9),t._UZ(3,"i",10),t.qZA(),t.YNc(4,zp,3,4,"div",11),t.qZA(),t.TgZ(5,"div",12)(6,"button",13),t._UZ(7,"i",14),t.qZA(),t.TgZ(8,"ul",15)(9,"li",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToUserDetail()}),t.TgZ(10,"div",17)(11,"div"),t._UZ(12,"i",18),t.qZA(),t.TgZ(13,"div",19)(14,"span",20),t._uU(15),t.qZA(),t.TgZ(16,"small",20),t._uU(17),t.qZA()()()(),t.TgZ(18,"li",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToHome()}),t.TgZ(19,"div",17),t._UZ(20,"i",22),t.TgZ(21,"a",23),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"li",24)(25,"div",17),t._UZ(26,"i",25),t.TgZ(27,"a",26),t._uU(28),t.ALo(29,"translate"),t.TgZ(30,"small",27),t._uU(31),t.ALo(32,"number"),t.qZA()()()(),t.TgZ(33,"li",24)(34,"div",17),t._UZ(35,"i",28),t.TgZ(36,"a",26),t._uU(37),t.ALo(38,"translate"),t.TgZ(39,"small",27),t._uU(40),t.ALo(41,"number"),t.qZA()()()(),t.TgZ(42,"li",29)(43,"div",17),t._UZ(44,"i",30),t.TgZ(45,"a",31),t._uU(46),t.ALo(47,"translate"),t.qZA()()(),t.TgZ(48,"li",24)(49,"div",17),t._UZ(50,"i",32),t.TgZ(51,"a",26),t._uU(52),t.ALo(53,"translate"),t.qZA()()(),t.YNc(54,Hf,9,3,"ng-container",0),t.TgZ(55,"li"),t._UZ(56,"hr",33),t.qZA(),t.TgZ(57,"li",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).logout()}),t.TgZ(58,"div",17),t._UZ(59,"i",34),t.TgZ(60,"a",23),t._uU(61),t.ALo(62,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngClass",t.VKq(36,ly,!((null==e.cartConfig||null==e.cartConfig.items?null:e.cartConfig.items.length)>0)))("routerLink",t.DdM(38,Lh)),t.xp6(2),t.Q6J("ngIf",e.cartItemCount),t.xp6(11),t.Oqu(null==e.loggedUser?null:e.loggedUser.username),t.xp6(2),t.Oqu(null==e.loggedUser?null:e.loggedUser.email),t.xp6(5),t.Oqu(t.lcZ(23,18,"menu.home")),t.xp6(5),t.Q6J("routerLink",t.DdM(39,l_)),t.xp6(1),t.Oqu(t.lcZ(29,20,"menu.shops")),t.xp6(3),t.hij("(",t.xi3(32,22,null==e.shops?null:e.shops.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(40,u_)),t.xp6(1),t.Oqu(t.lcZ(38,25,"menu.products")),t.xp6(3),t.hij("(",t.xi3(41,27,null==e.products?null:e.products.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(41,u0)),t.xp6(1),t.Oqu(t.lcZ(47,30,"menu.alerts")),t.xp6(5),t.Q6J("routerLink",t.DdM(42,u0)),t.xp6(1),t.Oqu(t.lcZ(53,32,"menu.analysis")),t.xp6(2),t.Q6J("ngIf",!e.APP_CONFIG.cloudMode&&(null==e.loggedUser?null:e.loggedUser.isAdmin)),t.xp6(7),t.Oqu(t.lcZ(62,34,"menu.exit"))}}function d_(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToHome()}),t._UZ(3,"i",7),t.TgZ(4,"span"),t._uU(5,"Proddle"),t.qZA()(),t.YNc(6,uy,63,43,"ng-container",0),t.qZA(),t._UZ(7,"router-outlet"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.loggedUser)}}function d0(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",37),t._UZ(2,"app-backoffice-layout",38),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function Kp(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,d_,8,1,"div",3),t.YNc(3,d0,3,3,"ng-container",0),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.backofficeMode),t.xp6(1),t.Q6J("ngIf",e.backofficeMode)}}let h0=(()=>{class n{constructor(e,o,u,p,b,x,L,Y,pe){this.router=e,this.shopService=o,this.productService=u,this.shopProductService=p,this.loginService=b,this.shoppingCartService=x,this.spinner=L,this.translate=Y,this.translationsService=pe,this.APP_CONFIG=Sa.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.translate.setDefaultLang(Sa.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Me=localStorage.getItem(Ac.M.PS_APP_LANGUAGE);Me?this.translate.use(Me):(this.translate.use(Sa.q.defaultLanguage),localStorage.setItem(Ac.M.PS_APP_LANGUAGE,Sa.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Ac.M.PS_APP_LANGUAGE))})}onResize(e){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const e=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=e,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var e;this.backofficeMode=!!(null===(e=this.loggedUser)||void 0===e?void 0:e.isAdmin)&&window.innerWidth>568}calcCartItems(){var e;if(null===(e=this.cartConfig)||void 0===e?void 0:e.items){let o=0;this.cartConfig.items.forEach(u=>{u.productsUnits.forEach(p=>{o+=p.units})}),this.cartItemCount=o}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1),console.log(this.shops)}),this.productService.products.subscribe(e=>{this.products=e.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,u)=>o.updateDate>u.updateDate?1:-1)}),this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0,this.productsLoaded=this.productService._products&&this.productService._products.length>0,this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0,setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},500),this.loginService.user.subscribe(e=>{this.loggedUser=e,this.loginService.setIsAdmin(this.loggedUser),this.checkBackofficeMode()}),this.loginService.refreshUser(),this.spinner.hide()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(ca.d),t.Y36(ka.M),t.Y36(El),t.Y36(la.r),t.Y36(Gp),t.Y36(Gc),t.Y36(La),t.Y36(a_))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(e,o){if(1&e&&t.Gf(cy,5),2&e){let u;t.iGM(u=t.CRH())&&(o.appLayoutComponent=u.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Dades usuari",1,"fas","fa-user","me-1"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],[1,"py-2",3,"click"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2","disabled"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["href","javascript://",1,"dropdown-item","disabled",3,"routerLink"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-3"],[3,"shops","products","shopsProducts"]],template:function(e,o){1&e&&(t.YNc(0,Kp,4,2,"ng-container",0),t._UZ(1,"ngx-spinner",1)),2&e&&t.Q6J("ngIf",o.translationsLoaded&&o.shopsLoaded&&o.productsLoaded&&o.shopsProductsLoaded)},directives:[mr,Zn,Ra,Ru,vh,Av,Lf],pipes:[P,Es],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}"]}),n})();class Fu{}class h_{}class Gs{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const u=e.slice(0,o),p=u.toLowerCase(),b=e.slice(o+1).trim();this.maybeSetNormalizedName(u,p),this.headers.has(p)?this.headers.get(p).push(b):this.headers.set(p,[b])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let o=r[e];const u=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(u,o),this.maybeSetNormalizedName(e,u))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof Gs?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new Gs;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Gs?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,e);const u=("a"===r.op?this.headers.get(e):void 0)||[];u.push(...o),this.headers.set(e,u);break;case"d":const p=r.value;if(p){let b=this.headers.get(e);if(!b)return;b=b.filter(x=>-1===p.indexOf(x)),0===b.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,b)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class f0{encodeKey(r){return nm(r)}encodeValue(r){return nm(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const Yp=/%(\d[a-f0-9])/gi,g0={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function nm(n){return encodeURIComponent(n).replace(Yp,(r,e)=>{var o;return null!==(o=g0[e])&&void 0!==o?o:r})}function Jp(n){return`${n}`}class Lu{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new f0,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function p0(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(u=>{const p=u.indexOf("="),[b,x]=-1==p?[r.decodeKey(u),""]:[r.decodeKey(u.slice(0,p)),r.decodeValue(u.slice(p+1))],L=e.get(b)||[];L.push(x),e.set(b,L)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const o=r.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(o=>{const u=r[o];Array.isArray(u)?u.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:u,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new Lu({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(Jp(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const u=o.indexOf(Jp(r.value));-1!==u&&o.splice(u,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class xl{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function m0(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function om(n){return"undefined"!=typeof Blob&&n instanceof Blob}function Bh(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Al{constructor(r,e,o,u){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function im(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||u?(this.body=void 0!==o?o:null,p=u):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new Gs),this.context||(this.context=new xl),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=e;else{const x=e.indexOf("?");this.urlWithParams=e+(-1===x?"?":x<e.length-1?"&":"")+b}}else this.params=new Lu,this.urlWithParams=e}serializeBody(){return null===this.body?null:m0(this.body)||om(this.body)||Bh(this.body)||function sm(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Lu?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Bh(this.body)?null:om(this.body)?this.body.type||null:m0(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Lu?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var e;const o=r.method||this.method,u=r.url||this.url,p=r.responseType||this.responseType,b=void 0!==r.body?r.body:this.body,x=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,L=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let Y=r.headers||this.headers,pe=r.params||this.params;const Me=null!==(e=r.context)&&void 0!==e?e:this.context;return void 0!==r.setHeaders&&(Y=Object.keys(r.setHeaders).reduce((Ye,Ve)=>Ye.set(Ve,r.setHeaders[Ve]),Y)),r.setParams&&(pe=Object.keys(r.setParams).reduce((Ye,Ve)=>Ye.set(Ve,r.setParams[Ve]),pe)),new Al(o,u,b,{params:pe,headers:Y,context:Me,reportProgress:L,responseType:p,withCredentials:x})}}var Ni=(()=>((Ni=Ni||{})[Ni.Sent=0]="Sent",Ni[Ni.UploadProgress=1]="UploadProgress",Ni[Ni.ResponseHeader=2]="ResponseHeader",Ni[Ni.DownloadProgress=3]="DownloadProgress",Ni[Ni.Response=4]="Response",Ni[Ni.User=5]="User",Ni))();class $f{constructor(r,e=200,o="OK"){this.headers=r.headers||new Gs,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class qf extends $f{constructor(r={}){super(r),this.type=Ni.ResponseHeader}clone(r={}){return new qf({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Qp extends $f{constructor(r={}){super(r),this.type=Ni.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new Qp({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class Uh extends $f{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Il(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let jh=(()=>{class n{constructor(e){this.handler=e}request(e,o,u={}){let p;if(e instanceof Al)p=e;else{let L,Y;L=u.headers instanceof Gs?u.headers:new Gs(u.headers),u.params&&(Y=u.params instanceof Lu?u.params:new Lu({fromObject:u.params})),p=new Al(e,o,void 0!==u.body?u.body:null,{headers:L,context:u.context,params:Y,reportProgress:u.reportProgress,responseType:u.responseType||"json",withCredentials:u.withCredentials})}const b=(0,Jt.of)(p).pipe(uu(L=>this.handler.handle(L)));if(e instanceof Al||"events"===u.observe)return b;const x=b.pipe(no(L=>L instanceof Qp));switch(u.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return x.pipe((0,Qn.U)(L=>{if(null!==L.body&&!(L.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return L.body}));case"blob":return x.pipe((0,Qn.U)(L=>{if(null!==L.body&&!(L.body instanceof Blob))throw new Error("Response is not a Blob.");return L.body}));case"text":return x.pipe((0,Qn.U)(L=>{if(null!==L.body&&"string"!=typeof L.body)throw new Error("Response is not a string.");return L.body}));default:return x.pipe((0,Qn.U)(L=>L.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${u.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new Lu).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,u={}){return this.request("PATCH",e,Il(u,o))}post(e,o,u={}){return this.request("POST",e,Il(u,o))}put(e,o,u={}){return this.request("PUT",e,Il(u,o))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Fu))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Zf{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const Dd=new t.OlP("HTTP_INTERCEPTORS");let f_=(()=>{class n{intercept(e,o){return o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const p_=/^\)\]\}',?\n/;let v0=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ji.y(o=>{const u=this.xhrFactory.build();if(u.open(e.method,e.urlWithParams),e.withCredentials&&(u.withCredentials=!0),e.headers.forEach((Ve,at)=>u.setRequestHeader(Ve,at.join(","))),e.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Ve=e.detectContentTypeHeader();null!==Ve&&u.setRequestHeader("Content-Type",Ve)}if(e.responseType){const Ve=e.responseType.toLowerCase();u.responseType="json"!==Ve?Ve:"text"}const p=e.serializeBody();let b=null;const x=()=>{if(null!==b)return b;const Ve=u.statusText||"OK",at=new Gs(u.getAllResponseHeaders()),_t=function fy(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(u)||e.url;return b=new qf({headers:at,status:u.status,statusText:Ve,url:_t}),b},L=()=>{let{headers:Ve,status:at,statusText:_t,url:Wt}=x(),ln=null;204!==at&&(ln=void 0===u.response?u.responseText:u.response),0===at&&(at=ln?200:0);let mn=at>=200&&at<300;if("json"===e.responseType&&"string"==typeof ln){const or=ln;ln=ln.replace(p_,"");try{ln=""!==ln?JSON.parse(ln):null}catch($n){ln=or,mn&&(mn=!1,ln={error:$n,text:ln})}}mn?(o.next(new Qp({body:ln,headers:Ve,status:at,statusText:_t,url:Wt||void 0})),o.complete()):o.error(new Uh({error:ln,headers:Ve,status:at,statusText:_t,url:Wt||void 0}))},Y=Ve=>{const{url:at}=x(),_t=new Uh({error:Ve,status:u.status||0,statusText:u.statusText||"Unknown Error",url:at||void 0});o.error(_t)};let pe=!1;const Me=Ve=>{pe||(o.next(x()),pe=!0);let at={type:Ni.DownloadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(at.total=Ve.total),"text"===e.responseType&&!!u.responseText&&(at.partialText=u.responseText),o.next(at)},Ye=Ve=>{let at={type:Ni.UploadProgress,loaded:Ve.loaded};Ve.lengthComputable&&(at.total=Ve.total),o.next(at)};return u.addEventListener("load",L),u.addEventListener("error",Y),u.addEventListener("timeout",Y),u.addEventListener("abort",Y),e.reportProgress&&(u.addEventListener("progress",Me),null!==p&&u.upload&&u.upload.addEventListener("progress",Ye)),u.send(p),o.next({type:Ni.Sent}),()=>{u.removeEventListener("error",Y),u.removeEventListener("abort",Y),u.removeEventListener("load",L),u.removeEventListener("timeout",Y),e.reportProgress&&(u.removeEventListener("progress",Me),null!==p&&u.upload&&u.upload.removeEventListener("progress",Ye)),u.readyState!==u.DONE&&u.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Lo))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Xp=new t.OlP("XSRF_COOKIE_NAME"),g_=new t.OlP("XSRF_HEADER_NAME");class b0{}let py=(()=>{class n{constructor(e,o,u){this.doc=e,this.platform=o,this.cookieName=u,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gr(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q),t.LFG(t.Lbi),t.LFG(Xp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),C0=(()=>{class n{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const u=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||u.startsWith("http://")||u.startsWith("https://"))return o.handle(e);const p=this.tokenService.getToken();return null!==p&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,p)})),o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(b0),t.LFG(g_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Nv=(()=>{class n{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(Dd,[]);this.chain=o.reduceRight((u,p)=>new Zf(u,p),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(h_),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Po=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:C0,useClass:f_}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:Xp,useValue:e.cookieName}:[],e.headerName?{provide:g_,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[C0,{provide:Dd,useExisting:C0,multi:!0},{provide:b0,useClass:py},{provide:Xp,useValue:"XSRF-TOKEN"},{provide:g_,useValue:"X-XSRF-TOKEN"}]}),n})(),m_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[jh,{provide:Fu,useClass:Nv},v0,{provide:h_,useExisting:v0}],imports:[[Po.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var my=N(655),_y=N(896),Hs=N.n(_y),yy=N(5199),uc=N.n(yy);const kv=["BarcodeScanner"],vy={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Fv=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Cy(n){if(!Fv.some(r=>r===n))throw new Error(`This barcode type '${n}' is not valid.`)}function __(n){return`${n}_reader`}let am=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new $r.x,this.valueChanges=new t.vpe,this.started=new t.vpe,this._started=!1,this._destroyed=new $r.x,this._valueChanges.pipe(Jr(this._destroyed),no(e=>{const o=e.codeResult.decodedCodes.filter(p=>void 0!==p.error).map(p=>p.error),u=this._getMedian(o);return!this.errorFilter||!(this.errorFilter.median&&u>this.errorFilter.median||this.errorFilter.threshold&&o.some(p=>p>this.errorFilter.threshold))})).subscribe(e=>{const o=Hs().canvas.ctx.overlay;Hs().ImageDebug.drawPath(e.line,{x:"x",y:"y"},o,{color:"red",lineWidth:3}),this.valueChanges.next(e)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((e,o)=>{Hs().onProcessed(u=>this.onProcessed(u)),Hs().onDetected(u=>this.onDetected(u)),this.configQuagga=uc()({},this.config,vy),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function by(n){return"string"==typeof n?(Cy(n),[__(n)]):n.map(r=>(Cy(r),__(r)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),Hs().init(this.configQuagga,u=>{if(u)return console.log(u),o(u);e()})})}_getMedian(e){e.sort((u,p)=>u-p);const o=Math.floor(e.length/2);return e.length%2==1?e[o]:(e[o-1]+e[o])/2}start(){return(0,my.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),Hs().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(Hs().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(e){const o=Hs().canvas.ctx.overlay,u=Hs().canvas.dom.overlay;e&&(e.boxes&&(o.clearRect(0,0,parseInt(u.getAttribute("width"),10),parseInt(u.getAttribute("height"),10)),e.boxes.filter(p=>p!==e.box).forEach(p=>{Hs().ImageDebug.drawPath(p,{x:0,y:1},o,{color:"green",lineWidth:2})})),e.box&&Hs().ImageDebug.drawPath(e.box,{x:0,y:1},o,{color:"#00F",lineWidth:2}))}onDetected(e){this._valueChanges.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(e,o){if(1&e&&t.Gf(kv,5),2&e){let u;t.iGM(u=t.CRH())&&(o.barcodeScanner=u.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[t.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0,1),t._UZ(2,"video")(3,"canvas",2),t.qZA()),2&e&&(t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.Q6J("hidden",!o.isStarted),t.xp6(2),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.xp6(1),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),Ml=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})();var ua=N(1144);const Ba=["addListener","removeListener"],Hc=["addEventListener","removeEventListener"],wy=["on","off"];function Xo(n,r,e,o){if((0,tc.m)(e)&&(o=e,e=void 0),o)return Xo(n,r,e).pipe(Xs(o));const[u,p]=function Vv(n){return(0,tc.m)(n.addEventListener)&&(0,tc.m)(n.removeEventListener)}(n)?Hc.map(b=>x=>n[b](r,x,e)):function Uv(n){return(0,tc.m)(n.addListener)&&(0,tc.m)(n.removeListener)}(n)?Ba.map(Ty(n,r)):function jv(n){return(0,tc.m)(n.on)&&(0,tc.m)(n.off)}(n)?wy.map(Ty(n,r)):[];if(!u&&(0,ua.z)(n))return(0,Io.z)(b=>Xo(b,r,e))((0,Dt.Xf)(n));if(!u)throw new TypeError("Invalid event target");return new Ji.y(b=>{const x=(...L)=>b.next(1<L.length?L:L[0]);return u(x),()=>p(x)})}function Ty(n,r){return e=>o=>n[e](r,o)}var eg=N(4986),cm=N(3532);function l(n=0,r,e=eg.P){let o=-1;return null!=r&&((0,cm.K)(r)?e=r:o=r),new Ji.y(u=>{let p=function E0(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;p<0&&(p=0);let b=0;return e.schedule(function(){u.closed||(u.next(b++),0<=o?this.schedule(void 0,o):u.complete())},p)})}const{isArray:i}=Array;function c(n){return 1===n.length&&i(n[0])?n[0]:n}const v=new Ji.y(Qm.Z);function k(...n){const r=(0,qr.jO)(n),e=c(n);return e.length?new Ji.y(o=>{let u=e.map(()=>[]),p=e.map(()=>!1);o.add(()=>{u=p=null});for(let b=0;!o.closed&&b<e.length;b++)(0,Dt.Xf)(e[b]).subscribe((0,ar.x)(o,x=>{if(u[b].push(x),u.every(L=>L.length)){const L=u.map(Y=>Y.shift());o.next(r?r(...L):L),u.some((Y,pe)=>!Y.length&&p[pe])&&o.complete()}},()=>{p[b]=!0,!u[b].length&&o.complete()}));return()=>{u=p=null}}):ul.E}function ne(n,r=nh.y){return n=null!=n?n:Se,(0,ho.e)((e,o)=>{let u,p=!0;e.subscribe((0,ar.x)(o,b=>{const x=r(b);(p||!n(u,x))&&(p=!1,u=x,o.next(b))}))})}function Se(n,r){return n===r}function Le(...n){const r=(0,qr.jO)(n);return(0,ho.e)((e,o)=>{const u=n.length,p=new Array(u);let b=n.map(()=>!1),x=!1;for(let L=0;L<u;L++)(0,Dt.Xf)(n[L]).subscribe((0,ar.x)(o,Y=>{p[L]=Y,!x&&!b[L]&&(b[L]=!0,(x=b.every(nh.y))&&(b=null))},Qm.Z));e.subscribe((0,ar.x)(o,L=>{if(x){const Y=[L,...p];o.next(r?r(...Y):Y)}}))})}Math,Math,Math;const C1=["*"];function IC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",6),t.NdJ("click",function(){const p=t.CHM(e).$implicit,b=t.oxw();return b.focus(),b.select(p.id,b.NgbSlideEventSource.INDICATOR)}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.ekj("active",e.id===o.activeId),t.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===o.activeId)}}function MC(n,r){}function OC(n,r){if(1&n&&(t.TgZ(0,"div",7)(1,"span",8),t.SDv(2,9),t.qZA(),t.YNc(3,MC,0,0,"ng-template",10),t.qZA()),2&n){const e=r.$implicit,o=r.index,u=r.count;t.Q6J("id","slide-"+e.id),t.xp6(2),t.pQV(o+1)(u),t.QtT(2),t.xp6(1),t.Q6J("ngTemplateOutlet",e.tplRef)}}function PC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowLeft()}),t._UZ(1,"span",12),t.TgZ(2,"span",8),t.SDv(3,13),t.qZA()()}}function NC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowRight()}),t._UZ(1,"span",15),t.TgZ(2,"span",8),t.SDv(3,16),t.qZA()()}}const gm=["dialog"];function xd(n){return null!=n}function zf(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const dw={animation:!0,transitionTimerDelayMs:5},Vy=()=>{},{transitionTimerDelayMs:Gy}=dw,ym=new Map,$s=(n,r,e,o)=>{let u=o.context||{};const p=ym.get(r);if(p)switch(o.runningTransition){case"continue":return ul.E;case"stop":n.run(()=>p.transition$.complete()),u=Object.assign(p.context,u),ym.delete(r)}const b=e(r,o.animation,u)||Vy;if(!o.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>b()),(0,Jt.of)(void 0).pipe(function Z1(n){return r=>new Ji.y(e=>r.subscribe({next:b=>n.run(()=>e.next(b)),error:b=>n.run(()=>e.error(b)),complete:()=>n.run(()=>e.complete())}))}(n));const x=new $r.x,L=new $r.x,Y=x.pipe(function $(...n){return r=>lu(r,(0,Jt.of)(...n))}(!0));ym.set(r,{transition$:x,complete:()=>{L.next(),L.complete()},context:u});const pe=function uw(n){const{transitionDelay:r,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(e))}(r);return n.runOutsideAngular(()=>{const Me=Xo(r,"transitionend").pipe(Jr(Y),no(({target:Ve})=>Ve===r));(function h(...n){return 1===(n=c(n)).length?(0,Dt.Xf)(n[0]):new Ji.y(function g(n){return r=>{let e=[];for(let o=0;e&&!r.closed&&o<n.length;o++)e.push((0,Dt.Xf)(n[o]).subscribe((0,ar.x)(r,u=>{if(e){for(let p=0;p<e.length;p++)p!==o&&e[p].unsubscribe();e=null}r.next(u)})))}}(n))})(l(pe+Gy).pipe(Jr(Y)),Me,L).pipe(Jr(Y)).subscribe(()=>{ym.delete(r),n.run(()=>{b(),x.next(),x.complete()})})}),x.asObservable()};let R0=(()=>{class n{constructor(){this.animation=dw.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Wy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),da=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),L0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Yf=(()=>{return(n=Yf||(Yf={})).START="start",n.END="end",Yf;var n})();const zy=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),I_=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},B0=n=>{I_(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},Ky=(n,r,{direction:e})=>{const{classList:o}=n;return r?(zy(n)?I_(o):(o.add("carousel-item-"+(e===Yf.START?"next":"prev")),zf(n),o.add("carousel-item-"+e)),()=>{B0(o),o.add("active")}):(I_(o),B0(o),void o.add("active"))},Y1=(n,r,{direction:e})=>{const{classList:o}=n;return r?(zy(n)?I_(o):o.add("carousel-item-"+e),()=>{B0(o),o.remove("active")}):(I_(o),B0(o),void o.remove("active"))};let Yy=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),U0=0,M_=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+U0++,this.slid=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),bw=(()=>{class n{constructor(e,o,u,p,b){this._platformId=o,this._ngZone=u,this._cd=p,this._container=b,this.NgbSlideEventSource=Jf,this._destroy$=new $r.x,this._interval$=new to(0),this._mouseHover$=new to(!1),this._focused$=new to(!1),this._pauseOnHover$=new to(!1),this._pauseOnFocus$=new to(!1),this._pause$=new to(!1),this._wrap$=new to(!1),this.slide=new t.vpe,this.slid=new t.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Jf.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Jf.ARROW_RIGHT)}ngAfterContentInit(){(function ot(n){return n===je})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=cl([this.slide.pipe((0,Qn.U)(o=>o.current),id(this.activeId)),this._wrap$,this.slides.changes.pipe(id(null))]).pipe((0,Qn.U)(([o,u])=>{const p=this.slides.toArray(),b=this._getSlideIdxById(o);return u?p.length>1:b<p.length-1}),ne());cl([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,Qn.U)(([o,u,p,b,x,L,Y])=>o||u&&p||b&&x||!Y?0:L),ne(),ji(o=>o>0?l(o,o):v),Jr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Jf.TIMER)))}),this.slides.changes.pipe(Jr(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(o=>(n=>{var r;null===(r=ym.get(n))||void 0===r||r.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Oi.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const u=this._getSlideElement(o);o===this.activeId?u.classList.add("active"):u.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,o){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),o)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Yf.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Yf.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,o,u){const p=this._transitionIds;if(p&&(p[0]!==e||p[1]!==this.activeId))return;let b=this._getSlideById(e);if(b&&b.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:b.id,direction:o,paused:this._pause$.value,source:u});const x={animation:this.animation,runningTransition:"stop",context:{direction:o}},L=[],Y=this._getSlideById(this.activeId);if(Y){const Ve=$s(this._ngZone,this._getSlideElement(Y.id),Y1,x);Ve.subscribe(()=>{Y.slid.emit({isShown:!1,direction:o,source:u})}),L.push(Ve)}const pe=this.activeId;this.activeId=b.id;const Me=this._getSlideById(this.activeId),Ye=$s(this._ngZone,this._getSlideElement(b.id),Ky,x);Ye.subscribe(()=>{null==Me||Me.slid.emit({isShown:!0,direction:o,source:u})}),L.push(Ye),k(...L).pipe((0,Oi.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:pe,current:b.id,direction:o,paused:this._pause$.value,source:u})})}this._cd.markForCheck()}_getSlideEventDirection(e,o){return this._getSlideIdxById(e)>this._getSlideIdxById(o)?Yf.END:Yf.START}_getSlideById(e){return this.slides.find(o=>o.id===e)||null}_getSlideIdxById(e){const o=this._getSlideById(e);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(e){const o=this.slides.toArray(),u=this._getSlideIdxById(e);return u===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[u+1].id}_getPrevSlide(e){const o=this.slides.toArray(),u=this._getSlideIdxById(e);return 0===u?this.wrap?o[o.length-1].id:o[0].id:o[u-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yy),t.Y36(t.Lbi),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,o,u){if(1&e&&t.Suo(u,M_,4),2&e){let p;t.iGM(p=t.CRH())&&(o.slides=p)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,o){1&e&&t.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&e&&(t.uIk("aria-activedescendant","slide-"+o.activeId),t.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let r,e,o;return r=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],r,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(e,o){1&e&&(t.TgZ(0,"ol",0),t.YNc(1,IC,1,5,"li",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,OC,4,4,"div",3),t.qZA(),t.YNc(4,PC,4,0,"a",4),t.YNc(5,NC,4,0,"a",5)),2&e&&(t.ekj("visually-hidden",!o.showNavigationIndicators),t.xp6(1),t.Q6J("ngForOf",o.slides),t.xp6(2),t.Q6J("ngForOf",o.slides),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows))},directives:[an,Xr,mr],encapsulation:2,changeDetection:0}),n})();var Jf=(()=>{return(n=Jf||(Jf={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Jf;var n})();let Jy=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),J1=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Ds=(()=>{return(n=Ds||(Ds={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Ds;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Fw=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function tv(n){const r=Array.from(n.querySelectorAll(Fw)).filter(e=>-1!==e.tabIndex);return[r[0],r[r.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let yb=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be,yg]]}),n})(),dv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();class qh{constructor(r,e,o){this.nodes=r,this.viewRef=e,this.componentRef=o}}let Xw=(()=>{class n{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Oi.q)(1)).subscribe(()=>{$s(this._zone,this._el.nativeElement,(e,o)=>{o&&zf(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return $s(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();class eT{close(r){}dismiss(r){}}class WE{constructor(r,e,o,u){this._windowCmptRef=r,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=u,this._closed=new $r.x,this._dismissed=new $r.x,this._hidden=new $r.x,r.instance.dismissEvent.subscribe(p=>{this.dismiss(p)}),this.result=new Promise((p,b)=>{this._resolve=p,this._reject=b}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Jr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Jr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function N0(n){return n&&n.then}(e)?!1!==e&&this._dismiss(r):e.then(o=>{!1!==o&&this._dismiss(r)},()=>{})}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Jt.of)(void 0);r.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),k(r,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var q0=(()=>{return(n=q0||(q0={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",q0;var n})();let tT=(()=>{class n{constructor(e,o,u){this._document=e,this._elRef=o,this._zone=u,this._closed$=new $r.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new $r.x,this.hidden=new $r.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Oi.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},b=k($s(this._zone,e,()=>e.classList.remove("show"),o),$s(this._zone,this._dialogEl.nativeElement,()=>{},o));return b.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),b}_show(){const e={animation:this.animation,runningTransition:"continue"};k($s(this._zone,this._elRef.nativeElement,(p,b)=>{b&&zf(p),p.classList.add("show")},e),$s(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Xo(e,"keydown").pipe(Jr(this._closed$),no(u=>u.which===Ds.Escape)).subscribe(u=>{this.keyboard?requestAnimationFrame(()=>{u.defaultPrevented||this._zone.run(()=>this.dismiss(q0.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Xo(this._dialogEl.nativeElement,"mousedown").pipe(Jr(this._closed$),(0,ai.b)(()=>o=!1),ji(()=>Xo(e,"mouseup").pipe(Jr(this._closed$),(0,Oi.q)(1))),no(({target:u})=>e===u)).subscribe(()=>{o=!0}),Xo(e,"click").pipe(Jr(this._closed$)).subscribe(({target:u})=>{e===u&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(q0.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),u=tv(e)[0];(o||u||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let u;u=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>u.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&$s(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(q),t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&t.Gf(gm,7),2&e){let u;t.iGM(u=t.CRH())&&(o._dialogEl=u.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:C1,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&e&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),nT=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,u=o.style,{overflow:p,paddingRight:b}=u;if(e>0){const x=parseFloat(window.getComputedStyle(o).paddingRight);u.paddingRight=`${x+e}px`}return u.overflow="hidden",()=>{e>0&&(u.paddingRight=b),u.overflow=p}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),zE=(()=>{class n{constructor(e,o,u,p,b,x){this._applicationRef=e,this._injector=o,this._document=u,this._scrollBar=p,this._rendererFactory=b,this._ngZone=x,this._activeWindowCmptHasChanged=new $r.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const L=this._windowCmpts[this._windowCmpts.length-1];((n,r,e,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const u=Xo(r,"focusin").pipe(Jr(e),(0,Qn.U)(p=>p.target));Xo(r,"keydown").pipe(Jr(e),no(p=>p.which===Ds.Tab),Le(u)).subscribe(([p,b])=>{const[x,L]=tv(r);(b===x||b===r)&&p.shiftKey&&(L.focus(),p.preventDefault()),b===L&&!p.shiftKey&&(x.focus(),p.preventDefault())}),o&&Xo(r,"click").pipe(Jr(e),Le(u),(0,Qn.U)(p=>p[1])).subscribe(p=>p.focus())})})(0,L.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(L.location.nativeElement)}})}open(e,o,u,p){const b=p.container instanceof HTMLElement?p.container:xd(p.container)?this._document.querySelector(p.container):this._document.body,x=this._rendererFactory.createRenderer(null,null),L=this._scrollBar.hide(),Y=()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!b)throw new Error(`The specified modal container "${p.container||"body"}" was not found in the DOM.`);const pe=new eT,Me=this._getContentRef(e,p.injector||o,u,pe,p);let Ye=!1!==p.backdrop?this._attachBackdrop(e,b):void 0,Ve=this._attachWindowComponent(e,b,Me),at=new WE(Ve,Me,Ye,p.beforeDismiss);return this._registerModalRef(at),this._registerWindowCmpt(Ve),at.result.then(L,L),at.result.then(Y,Y),pe.close=_t=>{at.close(_t)},pe.dismiss=_t=>{at.dismiss(_t)},this._applyWindowOptions(Ve.instance,p),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Ye&&Ye.instance&&(this._applyBackdropOptions(Ye.instance,p),Ye.changeDetectorRef.detectChanges()),Ve.changeDetectorRef.detectChanges(),at}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let p=e.resolveComponentFactory(Xw).create(this._injector);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_attachWindowComponent(e,o,u){let b=e.resolveComponentFactory(tT).create(this._injector,u.nodes);return this._applicationRef.attachView(b.hostView),o.appendChild(b.location.nativeElement),b}_applyWindowOptions(e,o){this._windowAttributes.forEach(u=>{xd(o[u])&&(e[u]=o[u])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(u=>{xd(o[u])&&(e[u]=o[u])})}_getContentRef(e,o,u,p,b){return u?u instanceof t.Rgc?this._createFromTemplateRef(u,p):function $1(n){return"string"==typeof n}(u)?this._createFromString(u):this._createFromComponent(e,o,u,p,b):new qh([])}_createFromTemplateRef(e,o){const p=e.createEmbeddedView({$implicit:o,close(b){o.close(b)},dismiss(b){o.dismiss(b)}});return this._applicationRef.attachView(p),new qh([p.rootNodes],p)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new qh([[o]])}_createFromComponent(e,o,u,p,b){const x=e.resolveComponentFactory(u),L=t.zs3.create({providers:[{provide:eT,useValue:p}],parent:o}),Y=x.create(L),pe=Y.location.nativeElement;return b.scrollable&&pe.classList.add("component-host-scrollable"),this._applicationRef.attachView(Y.hostView),new qh([[pe]],Y.hostView,Y)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(u=>{u!==e&&"SCRIPT"!==u.nodeName&&(this._ariaHiddenValues.set(u,u.getAttribute("aria-hidden")),u.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const u=this._modalRefs.indexOf(e);u>-1&&(this._modalRefs.splice(u,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG(q),t.LFG(nT),t.LFG(t.FYo),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KE=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),YE=(()=>{class n{constructor(e,o,u,p){this._moduleCFR=e,this._injector=o,this._modalStack=u,this._config=p}open(e,o={}){const u=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,e,u)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(zE),t.LFG(KE))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),rT=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[YE]}),n})(),E=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),On=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),Z0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),nD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();new t.OlP("live announcer delay",{providedIn:"root",factory:function xS(){return 100}});let iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[be]]}),n})();const AS=[Wy,da,L0,Jy,J1,yb,dv,rT,E,On,Z0,XE,eD,tD,nD,rD,iD];let IS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[AS,Wy,da,L0,Jy,J1,yb,dv,rT,E,On,Z0,XE,eD,tD,nD,rD,iD]}),n})(),ep=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(la.r),t.LFG(zr))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Ro=void 0,OS=["es",[["a.\xa0m.","p.\xa0m."],Ro,Ro],Ro,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Ro,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Ro,[["a. C.","d. C."],Ro,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Ro,"{1}, {0}",Ro],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Ro,"$"],BRL:[Ro,"R$"],CAD:[Ro,"$"],CNY:[Ro,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Ro,"\xa3"],HKD:[Ro,"$"],ILS:[Ro,"\u20aa"],INR:[Ro,"\u20b9"],JPY:[Ro,"\xa5"],KRW:[Ro,"\u20a9"],MXN:[Ro,"$"],NZD:[Ro,"$"],PHP:[Ro,"\u20b1"],RON:[Ro,"L"],THB:["\u0e3f"],TWD:[Ro,"NT$"],USD:["US$","$"],XAF:[],XCD:[Ro,"$"],XOF:[]},"ltr",function MS(n){return 1===n?1:5}];function PS(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.cheap")))}function NS(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.expensive")))}function RS(n,r){1&n&&t.GkF(0)}function kS(n,r){if(1&n&&(t.TgZ(0,"li")(1,"div",19),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(4),t.AsE("",e.name," (",e.brand,")")}}function FS(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",17)(2,"ul",18),t.YNc(3,kS,5,2,"li",12),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",null==e?null:e.products)}}const LS=function(n){return{active:n}};function BS(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",13),t._uU(3),t.qZA(),t.TgZ(4,"td",14),t._uU(5),t.qZA(),t.TgZ(6,"td",11),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td")(10,"i",15),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return p.showProducts=!p.showProducts}),t.qZA()()(),t.YNc(11,FS,4,1,"tr",16),t.BQk()}if(2&n){const e=r.$implicit,o=r.index,u=t.oxw(2);t.xp6(3),t.Oqu(o+1),t.xp6(2),t.Oqu(u.getShopName(e.shopId)),t.xp6(2),t.Oqu(t.xi3(8,5,e.times,"1.0-2")),t.xp6(3),t.Q6J("ngClass",t.VKq(8,LS,e.showProducts)),t.xp6(1),t.Q6J("ngIf",e.showProducts)}}function US(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"th"),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,BS,12,10,"ng-container",12),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,3,"shopStandings.shop")),t.xp6(3),t.Oqu(t.lcZ(11,5,"shopStandings.numProducts")),t.xp6(4),t.Q6J("ngForOf",e.standings)}}function jS(n,r){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"i",23),t.TgZ(2,"small",24),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shopStandings.noDataEnough")))}function VS(n,r){1&n&&(t.TgZ(0,"small",29),t._UZ(1,"span",30),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij("",t.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function GS(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"i",26),t.TgZ(2,"div",27)(3,"small",28),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"small",29),t._UZ(8,"span",30),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,VS,5,3,"small",31),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.AsE("",t.lcZ(5,4,"shopStandings.noResults"),". ",t.lcZ(6,6,"shopStandings.possibleReasons"),":"),t.xp6(6),t.hij("",t.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),t.xp6(2),t.Q6J("ngIf",e.onlyFavourites)}}let HS=(()=>{class n{constructor(e,o,u){this.shopProductService=e,this.shopService=o,this.productService=u,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const e=[],o=[],u=[];this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&e.indexOf(p.productBarcode)<0&&e.push(p.productBarcode)}),this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&o.indexOf(p.shopId)<0&&o.push(p.shopId)}),(e.length>1||o.length>1)&&e.forEach(p=>{const b=this.shopsProducts.filter(L=>L.productBarcode===p),x=[];if(b.forEach(L=>{x.indexOf(L.shopId)<0&&x.push(L.shopId)}),x.length>1){const L=this.shopsProducts.filter(Ve=>Ve.productBarcode===p);let Y=[];x.forEach(Ve=>{Y.push(L.filter(at=>at.shopId===Ve)[0])}),Y=Y.sort((Ve,at)=>Ve.updateDate>at.updateDate?-1:1);const pe=Y.sort((Ve,at)=>Ve.price>at.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Ye=[];if(Y.length>1&&pe[0].price!==pe[pe.length-1].price){const Ve=Y[0].price,at=this.productService._products.find(_t=>Y[0].productBarcode===_t.barcode);Ye=Y.filter(_t=>_t.price===Ve).map(_t=>_t.shopId),Ye.forEach(_t=>{const Wt=u.findIndex(ln=>ln.shopId===_t);Wt>=0?(u[Wt].times++,u[Wt].products.push(at)):u.push({shopId:_t,times:1,products:[at],showProducts:!1})})}}}),this.standings=u.sort((p,b)=>p.times>b.times?-1:1)}getShopName(e){var o;return null===(o=this.shops.find(u=>u.id===e))||void 0===o?void 0:o.name}isFavouriteProduct(e){return this.favouriteProductBarcodes.indexOf(e)>=0}ngOnChanges(e){e.onlyFavourites&&!e.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,u)=>o.name>u.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,u)=>o.updateDate>u.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(El),t.Y36(ca.d),t.Y36(ka.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[t.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,PS,4,3,"div",2),t.YNc(3,NS,4,3,"div",2),t.YNc(4,RS,1,0,"ng-container",3),t.YNc(5,US,15,7,"div",4),t.qZA()(),t.YNc(6,jS,5,3,"ng-template",null,5,t.W1O),t.YNc(8,GS,13,10,"ng-template",null,6,t.W1O)),2&e){const u=t.MAs(7),p=t.MAs(9);t.xp6(2),t.Q6J("ngIf","CHEAP"===o.target),t.xp6(1),t.Q6J("ngIf","EXPENSIVE"===o.target),t.xp6(1),t.Q6J("ngIf",o.shopsProducts.length>0)("ngIfElse",u),t.xp6(1),t.Q6J("ngIf",(null==o.standings?null:o.standings.length)>0)("ngIfElse",p)}},directives:[mr,an,Zn],pipes:[Es,P],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function $S(n,r){1&n&&t.GkF(0)}function qS(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"span",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",10),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",12),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",13),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.analysis")))}let ZS=(()=>{class n{constructor(e,o,u){this.router=e,this.spinner=o,this.productService=u,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(Gc),t.Y36(ka.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,$S,1,0,"ng-container",1),t.TgZ(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),t.qZA(),t.YNc(10,qS,11,6,"ng-template",null,7,t.W1O)),2&e){const u=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",u),t.xp6(2),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(6,7,"commons.onlyFavouriteProducts")),t.xp6(3),t.Q6J("onlyFavourites",o.onlyFavourites)("target","CHEAP"),t.xp6(1),t.Q6J("onlyFavourites",o.onlyFavourites)("target","EXPENSIVE")}},directives:[Xr,ss,jo,Ko,HS],pipes:[Es],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function WS(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",14),t.TgZ(6,"span",15),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"small",16),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()(),t.TgZ(12,"div",11)(13,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleProductList()}),t.TgZ(14,"div",8)(15,"div",13),t._UZ(16,"i",18),t.TgZ(17,"span",15),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"small",16),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(t.xi3(8,4,null==e.shops?null:e.shops.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(11,7,"home.shops")),t.xp6(8),t.Oqu(t.xi3(19,9,null==e.products?null:e.products.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(22,12,"home.products"))}}function zS(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",20),t.TgZ(6,"small",16),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()(),t.TgZ(9,"div",11)(10,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleStatistics()}),t.TgZ(11,"div",8)(12,"div",13),t._UZ(13,"i",22),t.TgZ(14,"small",16),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"home.alerts")),t.xp6(8),t.Oqu(t.lcZ(16,4,"home.analysis")))}function KS(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t.YNc(4,WS,23,14,"ng-container",5),t.qZA(),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().scan()}),t.TgZ(7,"div",8),t._UZ(8,"i",9),t.TgZ(9,"div",10),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"small"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",4),t.YNc(16,zS,17,6,"ng-container",5),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.products.length>0),t.xp6(6),t.Oqu(t.lcZ(11,4,"home.scan")),t.xp6(3),t.Oqu(t.lcZ(14,6,"home.here")),t.xp6(3),t.Q6J("ngIf",e.products.length>0)}}function YS(n,r){1&n&&(t.TgZ(0,"div",23),t._uU(1," Carregant... "),t.qZA())}let JS=(()=>{class n{constructor(e,o,u,p){this.router=e,this.productService=o,this.shopService=u,this.spinner=p}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.spinner.show(),this.shops=e.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(e=>{this.spinner.show(),this.products=e.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shops=this.shopService._shops,this.products=this.productService._products,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(ka.M),t.Y36(ca.d),t.Y36(Gc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"click"],[1,"fas","fa-triangle-exclamation","mb-3"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.YNc(0,KS,17,8,"ng-container",0),t.YNc(1,YS,2,0,"ng-template",null,1,t.W1O)),2&e){const u=t.MAs(2);t.Q6J("ngIf",o.products&&o.shops)("ngIfElse",u)}},directives:[mr],pipes:[P,Es],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function QS(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2);t.Q6J("src",e.getImageUrl(e.currentLanguage),t.LSH)}}function XS(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2).$implicit,o=t.oxw(2);t.Q6J("src",o.getImageUrl(e),t.LSH)}}function ex(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",9),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw(2).setLanguage(u)}),t.TgZ(1,"div",10),t.YNc(2,XS,1,1,"img",4),t.TgZ(3,"span"),t._uU(4),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.languageImages),t.xp6(2),t.Oqu(o.getLabel(e))}}function tx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ex,5,2,"li",8),t.BQk()),2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.currentLanguage!==e)}}function nx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"button",3),t.YNc(4,QS,1,1,"img",4),t.qZA(),t.TgZ(5,"ul",5),t.YNc(6,tx,2,1,"ng-container",6),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.languageImages),t.xp6(2),t.Q6J("ngForOf",e.languages)}}let oD=(()=>{class n{constructor(e,o){this.translate=e,this.translationsService=o}setLanguage(e){this.currentLanguage=e,this.translate.use(e),localStorage.setItem(Ac.M.PS_APP_LANGUAGE,e)}getImageUrl(e){return this.languageImages.find(o=>o.language===e).imageUrl}getLabel(e){return this.languageImages.find(o=>o.language===e).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(e=>({language:e.language,imageUrl:e.imageUrl,name:e.name}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(La),t.Y36(a_))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(e,o){1&e&&t.YNc(0,nx,7,2,"ng-container",0),2&e&&t.Q6J("ngIf",o.currentLanguage&&o.languages)},directives:[mr,an],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function rx(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"i"),t.TgZ(2,"div",5)(3,"strong",6),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",7),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.iconClass),t.xp6(3),t.Oqu(t.lcZ(5,4,e.title)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.text))}}function ix(n,r){1&n&&(t.ynx(0),t.YNc(1,rx,9,8,"ng-template",3),t.BQk())}function ox(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ngb-carousel"),t.YNc(2,ix,2,0,"ng-container",2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.slides)}}let sx=(()=>{class n{constructor(e,o){this.translate=o,e.interval=7e3,e.wrap=!0,e.keyboard=!1,e.pauseOnHover=!1,e.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"}]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Yy),t.Y36(La))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,ox,3,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.slides))},directives:[mr,bw,an,M_],pipes:[Es],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function ax(n,r){}function cx(n,r){1&n&&t.YNc(0,ax,0,0,"ng-template")}function lx(n,r){1&n&&(t.TgZ(0,"div",17),t._UZ(1,"app-carousel"),t.qZA())}const ux=function(n){return{disabled:n}};let dx=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o,this.user={email:"",username:""}}login(){this.canAccess()&&(this.loginService.login(this.user),this.router.navigate(["home"]))}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}isAdmin(){return this.user.email}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.username.length>0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(la.r),t.Y36(zr))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:27,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-0","justify-content-end"],[1,"mb-3","ps-3","mt-0","w-100","text-left"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","username",1,"fw-bold"],["type","text","id","username",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","email",1,"fw-bold"],["type","email","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","justify-content-around","w-100"],[1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],[4,"ngTemplateOutlet"],["carousel",""],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-language-selector"),t.qZA(),t.TgZ(4,"h3",3),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"small",4),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",10),t.NdJ("ngModelChange",function(p){return o.user.username=p}),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",8)(20,"label",11),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("ngModelChange",function(p){return o.user.email=p}),t.ALo(24,"translate"),t.qZA()()()()(),t.TgZ(25,"div",13)(26,"button",14),t.NdJ("click",function(){return o.login()}),t._uU(27),t.ALo(28,"translate"),t.qZA()(),t.YNc(29,cx,1,0,null,15),t.qZA(),t.YNc(30,lx,2,0,"ng-template",null,16,t.W1O)),2&e){const u=t.MAs(31);t.xp6(5),t.hij(" ",t.lcZ(6,11,"login.welcome")," "),t.xp6(3),t.Oqu(t.lcZ(9,13,"login.welcome.subtitle")),t.xp6(7),t.Oqu(t.lcZ(16,15,"login.username")),t.xp6(2),t.s9C("placeholder",t.lcZ(18,17,"login.username")),t.Q6J("ngModel",o.user.username),t.xp6(4),t.Oqu(t.lcZ(22,19,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(24,21,"login.email")),t.Q6J("ngModel",o.user.email),t.xp6(3),t.Q6J("ngClass",t.VKq(25,ux,!o.canAccess())),t.xp6(1),t.hij(" ",t.lcZ(28,23,"login.access")," "),t.xp6(2),t.Q6J("ngTemplateOutlet",u)}},directives:[oD,Vr,jo,Ko,Zn,Xr,sx],pipes:[Es],styles:["small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function Nb(n,r=eg.z){return(0,ho.e)((e,o)=>{let u=null,p=null,b=null;const x=()=>{if(u){u.unsubscribe(),u=null;const Y=p;p=null,o.next(Y)}};function L(){const Y=b+n,pe=r.now();if(pe<Y)return u=this.schedule(void 0,Y-pe),void o.add(u);x()}e.subscribe((0,ar.x)(o,Y=>{p=Y,b=r.now(),u||(u=r.schedule(L,n),o.add(u))},()=>{x(),o.complete()},void 0,()=>{p=u=null}))})}var hv=(()=>{return(n=hv||(hv={})).CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT",hv;var n})();let sD=(()=>{class n{constructor(e){this.http=e}loadProduct(e){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+e+".json")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(jh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",6),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function fx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,hx,2,1,"ng-container",0),t.TgZ(4,"div",3)(5,"h5",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.imageUrl),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.brand," ")}}let px=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(e,o){1&e&&t.YNc(0,fx,9,3,"ng-container",0),2&e&&t.Q6J("ngIf",o.name||o.brand||o.imageUrl)},directives:[mr],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const gx=["priceInput"];function mx(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",16),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.init")))}function _x(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",18),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.initError")))}function yx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),t.NdJ("valueChanges",function(u){return t.CHM(e),t.oxw().onValueChanges(u)})("started",function(u){return t.CHM(e),t.oxw().onStarted(u)}),t.qZA(),t.YNc(3,mx,5,3,"div",14),t.YNc(4,_x,5,3,"div",14),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.barcodeScannerStarted),t.xp6(1),t.Q6J("ngIf",e.barcodeScannerError)}}function vx(n,r){if(1&n&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",22),t._uU(5),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,2,"scanner.code"),":"),t.xp6(3),t.Oqu(e.barcodeValue)}}function bx(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.productRegistered")))}function Cx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",23),t.YNc(2,bx,3,3,"span",0),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isSavedProduct)}}function wx(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",24),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotRegistered")))}function Tx(n,r){1&n&&(t.ynx(0),t.TgZ(1,"div",25)(2,"div",26),t._UZ(3,"i",27),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.BQk()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"scanner.productUnknown")))}function Ex(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t.YNc(2,vx,6,4,"div",0),t.TgZ(3,"div",21)(4,"small"),t.YNc(5,Cx,3,1,"ng-container",0),t.YNc(6,wx,5,3,"ng-container",0),t.YNc(7,Tx,7,3,"ng-container",0),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound),t.xp6(3),t.Q6J("ngIf",e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound)}}function Dx(n,r){1&n&&t.GkF(0)}function Sx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Dx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xx(n,r){1&n&&t.GkF(0)}function Ax(n,r){if(1&n&&(t.ynx(0),t.YNc(1,xx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ix(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Sx,2,1,"ng-container",0),t.YNc(2,Ax,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound||e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.loadingOpenFoodProduct&&!e.isSavedProduct&&!e.openFoodProductFound)}}function Mx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",e.savedProduct.name)("brand",e.savedProduct.brand)("imageUrl",e.savedProduct.imageUrl)}}function Ox(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",null==e.openFoodProduct.product?null:e.openFoodProduct.product.product_name)("brand",null==e.openFoodProduct.product?null:e.openFoodProduct.product.brands)("imageUrl",null==e.openFoodProduct.product?null:e.openFoodProduct.product.image_url)}}function Px(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name","?")("brand","?")("imageUrl",e.DEFAULT_IMAGE_URL)}}function Nx(n,r){1&n&&t.GkF(0)}function Rx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t.YNc(2,Nx,1,0,"ng-container",28),t.qZA(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(10);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function kx(n,r){if(1&n&&(t.YNc(0,Mx,2,3,"ng-container",0),t.YNc(1,Ox,2,3,"ng-container",0),t.YNc(2,Px,2,3,"ng-container",0),t.YNc(3,Rx,3,1,"ng-container",0)),2&n){const e=t.oxw();t.Q6J("ngIf",e.savedProduct),t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.savedProduct&&!e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",e.mode===e.ProductScanModeEnum.CREATE)}}function Fx(n,r){1&n&&t.GkF(0)}function Lx(n,r){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,Fx,1,0,"ng-container",28),t.qZA()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Bx(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const aD=function(n){return{disabled:n}};function Ux(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",35),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().newProduct.barcode=u}),t.qZA()(),t.TgZ(6,"div",33)(7,"label",36),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",37),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().newProduct.name=u}),t.qZA()(),t.TgZ(11,"div",33)(12,"label",38),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",39),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().newProduct.brand=u}),t.qZA()()(),t.TgZ(16,"div",32)(17,"div",33)(18,"label",40),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"select",41),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProduct.shopId=u})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(22,"option"),t.YNc(23,Bx,2,2,"option",42),t.qZA()(),t.TgZ(24,"div",33)(25,"label",43),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",44,45),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProduct.price=u}),t.qZA()()(),t.TgZ(30,"button",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().createProduct()}),t._UZ(31,"i",47),t.TgZ(32,"span"),t._uU(33),t.ALo(34,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,17,"scanner.code")),t.xp6(2),t.s9C("value",e.newProduct.barcode),t.Q6J("ngModel",e.newProduct.barcode),t.xp6(3),t.Oqu(t.lcZ(9,19,"scanner.name")),t.xp6(2),t.s9C("value",e.newProduct.name),t.Q6J("ngModel",e.newProduct.name),t.xp6(3),t.Oqu(t.lcZ(14,21,"scanner.brand")),t.xp6(2),t.s9C("value",e.newProduct.brand),t.Q6J("ngModel",e.newProduct.brand),t.xp6(4),t.Oqu(t.lcZ(20,23,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(27,25,"scanner.proce")),t.xp6(2),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(29,aD,!e.canCreateProductAndPrice())),t.xp6(3),t.Oqu(t.lcZ(34,27,"scanner.productPriceSave"))}}function jx(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Vx(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",40),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",41),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProduct.shopId=u})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(6,"option"),t.YNc(7,jx,2,2,"option",42),t.qZA()(),t.TgZ(8,"div",33)(9,"label",43),t._uU(10,"Preu"),t.qZA(),t.TgZ(11,"input",44,45),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProduct.price=u}),t.qZA()(),t.TgZ(13,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveShopProduct()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(4),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(11,aD,!e.shopProduct.price||0===e.shopProduct.price||!e.shopProduct.shopId||0===e.shopProduct.shopId.length)),t.xp6(1),t.hij(" ",t.lcZ(15,9,"scanner.save")," ")}}function Gx(n,r){1&n&&(t.TgZ(0,"div",50),t._UZ(1,"i",51),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.instructions")))}function Hx(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",53),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotFound")))}function $x(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.searchingProduct")))}function qx(n,r){1&n&&(t.TgZ(0,"div",55),t._UZ(1,"i",56),t.qZA())}function Zx(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.shopProduct))}}function Wx(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.newProduct))}}function zx(n,r){if(1&n&&(t.TgZ(0,"small")(1,"ul",57)(2,"li"),t._uU(3),t.qZA(),t.TgZ(4,"li"),t._uU(5),t.qZA(),t.TgZ(6,"li"),t._uU(7),t.qZA(),t.TgZ(8,"li"),t._uU(9),t.qZA(),t.TgZ(10,"li"),t._uU(11,"-------------------------"),t.qZA(),t.YNc(12,Zx,3,3,"li",0),t.YNc(13,Wx,3,3,"li",0),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.hij("mode: ",e.mode,""),t.xp6(2),t.hij("isSavedProduct: ",e.isSavedProduct,""),t.xp6(2),t.hij("openFoodProductFound: ",e.openFoodProductFound,""),t.xp6(2),t.hij("loadingOpenFoodProduct: ",e.loadingOpenFoodProduct,""),t.xp6(3),t.Q6J("ngIf",e.shopProduct),t.xp6(1),t.Q6J("ngIf",e.newProduct)}}let Kx=(()=>{class n{constructor(e,o,u,p,b,x){this.openFoodService=e,this.productService=o,this.shopService=u,this.shopProductService=p,this.loginService=b,this.translate=x,this.onSaveProduct=new t.vpe,this.onCreateProduct=new t.vpe,this.onSaveShopProduct=new t.vpe,this.onProductFound=new t.vpe,this.onBarcodeRead=new t.vpe,this.DEFAULT_IMAGE_URL=hi.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new $r.x,this.ProductScanModeEnum=hv,this.barcodeChanged.pipe(Nb(500),ne()).subscribe(L=>{this.barcodeValue!==L.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=L.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(Y=>Y.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(Y=>Y.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(e){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(e).subscribe(o=>{this.openFoodProduct=o,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==o.product,this.openFoodProductFound&&this.onProductFound.emit();const u=this.products.find(p=>p.barcode===e);u&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=u.brand,this.openFoodProduct.product.image_url=u.imageUrl,this.openFoodProduct.product.product_name=u.name)})},300)}onValueChanges(e){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}saveProduct(){var e,o,u,p,b,x;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const L={id:wd(),barcode:this.barcodeValue,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(p=null===(u=this.openFoodProduct)||void 0===u?void 0:u.product)||void 0===p?void 0:p.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)?this.openFoodProduct.product.image_url:hi.T};this.onSaveProduct.emit(L)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var e,o,u,p,b,x;this.products.find(Y=>Y.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:wd(),barcode:this.shopProduct.productBarcode,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)||"?",favourite:!1,name:(null===(p=null===(u=this.openFoodProduct)||void 0===u?void 0:u.product)||void 0===p?void 0:p.product_name)||"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)||hi.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start(),this.newProduct={id:wd(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:hi.T},this.shopProduct={price:0,productBarcode:void 0,shopId:void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.productService.products.subscribe(e=>{this.products=e}),this.shopService.shops.subscribe(e=>{this.shops=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(e){this.barcodeScannerStarted=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(sD),t.Y36(ka.M),t.Y36(ca.d),t.Y36(El),t.Y36(la.r),t.Y36(La))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(e,o){if(1&e&&(t.Gf(am,5),t.Gf(gx,5)),2&e){let u;t.iGM(u=t.CRH())&&(o.barcodeScanner=u.first),t.iGM(u=t.CRH())&&(o.priceInput=u.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(e,o){if(1&e&&(t.YNc(0,yx,5,2,"ng-container",0),t.YNc(1,Ex,8,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,Ix,3,2,"ng-container",0),t.qZA(),t.YNc(4,kx,4,4,"ng-template",null,3,t.W1O),t.YNc(6,Lx,2,1,"div",4),t.YNc(7,Ux,35,31,"ng-template",null,5,t.W1O),t.YNc(9,Vx,16,13,"ng-template",null,6,t.W1O),t.YNc(11,Gx,5,3,"ng-template",null,7,t.W1O),t.YNc(13,Hx,5,3,"ng-template",null,8,t.W1O),t.YNc(15,$x,5,3,"ng-template",null,9,t.W1O),t.YNc(17,qx,2,0,"ng-template",null,10,t.W1O),t.YNc(19,zx,14,6,"ng-template",null,11,t.W1O)),2&e){const u=t.MAs(12);t.Q6J("ngIf",!o.openFoodProductFound&&!o.isSavedProduct),t.xp6(1),t.Q6J("ngIf",o.barcodeValue)("ngIfElse",u),t.xp6(2),t.Q6J("ngIf",o.barcodeValue),t.xp6(3),t.Q6J("ngIf",!1)}},directives:[mr,am,Xr,px,Vr,jo,Ko,al,cs,Qd,an,Qu,Zn],pipes:[Es,gs],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const Yx=["barcodeInput"],Jx=["priceInput"];function Qx(n,r){1&n&&t.GkF(0)}function Xx(n,r){1&n&&t._UZ(0,"i",12)}function eA(n,r){1&n&&t._UZ(0,"i",12)}function tA(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"i",17),t.TgZ(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"scanner.searchInstructions")," "))}function nA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"app-barcode-scanner",14),t.NdJ("onSaveShopProduct",function(u){return t.CHM(e),t.oxw().saveShopProduct(u)})("onCreateProduct",function(u){return t.CHM(e),t.oxw().createProduct(u)})("onProductFound",function(){return t.CHM(e),t.oxw().productFound=!0})("onBarcodeRead",function(){return t.CHM(e),t.oxw().barcodeRead=!0}),t.qZA(),t.YNc(3,tA,5,3,"div",15),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("mode",e.ProductScanModeEnum.CREATE),t.xp6(1),t.Q6J("ngIf",!e.productFound&&!e.barcodeRead)}}function rA(n,r){1&n&&t.GkF(0)}function iA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.scanner")))}function oA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.manual")))}function sA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"span",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",22),t._uU(7,"/"),t.qZA(),t.YNc(8,iA,3,3,"span",23),t.YNc(9,oA,3,3,"span",23),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,"breadcrumb.home")),t.xp6(4),t.Q6J("ngIf","SCANNER"===e.mode),t.xp6(1),t.Q6J("ngIf","MANUAL"===e.mode)}}function aA(n,r){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const cD=function(n){return{readonly:n}},cA=function(n){return{disabled:n}};function lA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA(),t.TgZ(2,"div",27)(3,"label",28),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",29)(7,"label",30),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",31,32),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().productDetail.barcode=u}),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div",33)(14,"label",34),t._uU(15,"Nom"),t.qZA(),t.TgZ(16,"input",35),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().productDetail.name=u}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",33)(19,"label",36),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"input",37),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().productDetail.brand=u}),t.ALo(23,"translate"),t.qZA()()(),t._UZ(24,"hr"),t.TgZ(25,"div",38)(26,"label",28),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",33)(30,"label",39),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"select",40),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProductDetail.shopId=u})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(34,"option"),t.YNc(35,aA,2,2,"option",41),t.qZA()(),t.TgZ(36,"div",33)(37,"label",42),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",43,44),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopProductDetail.price=u}),t.ALo(42,"translate"),t.qZA()()(),t.TgZ(43,"button",45),t.NdJ("click",function(){t.CHM(e);const u=t.oxw();return u.createProduct({product:u.productDetail,shopProduct:u.shopProductDetail})}),t.TgZ(44,"span"),t._uU(45),t.ALo(46,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.productDetail?null:e.productDetail.imageUrl,t.LSH),t.xp6(3),t.Oqu(t.lcZ(5,25,"scanner.product")),t.xp6(4),t.Oqu(t.lcZ(9,27,"scanner.code")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.barcode),t.s9C("placeholder",t.lcZ(12,29,"scanner.code")),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(6),t.s9C("value",null==e.productDetail?null:e.productDetail.name),t.s9C("placeholder",t.lcZ(17,31,"scanner.name")),t.Q6J("ngClass",t.VKq(47,cD,e.lockProductEdition))("ngModel",e.productDetail.name),t.xp6(4),t.Oqu(t.lcZ(21,33,"scanner.brand")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.brand),t.s9C("placeholder",t.lcZ(23,35,"scanner.brand")),t.Q6J("ngClass",t.VKq(49,cD,e.lockProductEdition))("ngModel",e.productDetail.brand),t.xp6(5),t.Oqu(t.lcZ(28,37,"scanner.price")),t.xp6(4),t.Oqu(t.lcZ(32,39,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProductDetail.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(39,41,"scanner.price")),t.xp6(2),t.s9C("value",null==e.shopProductDetail?null:e.shopProductDetail.price),t.s9C("placeholder",t.lcZ(42,43,"scanner.price")),t.Q6J("ngModel",e.shopProductDetail.price),t.xp6(3),t.Q6J("ngClass",t.VKq(51,cA,!e.canCreateProductAndPrice())),t.xp6(2),t.Oqu(t.lcZ(46,45,"scanner.save"))}}const lD=function(n){return{active:n}},uA=function(n){return{hidden:n}};let dA=(()=>{class n{constructor(e,o,u,p,b,x,L){this.router=e,this.shopProductService=o,this.productService=u,this.loginService=p,this.shopService=b,this.openFoodService=x,this.translate=L,this.ProductScanModeEnum=hv,this.productDetail={id:wd(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.mode="SCANNER"}setMode(e){this.mode=e,"MANUAL"===e&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:wd(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:hi.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Xo(this.barcodeInput.nativeElement,"keyup").pipe((0,Qn.U)(o=>o.target.value),no(o=>o.length>2),Nb(500),ne()).subscribe(o=>{console.log("barcodeInput changed:",o),this.shopProductDetail.productBarcode=o,this.lockProductEdition=!0,this.matchingBarcode=!0;const u=this.productService._products.find(p=>p.barcode===o);u?(this.productDetail.name=u.name,this.productDetail.barcode=u.barcode,this.productDetail.brand=u.brand,this.productDetail.favourite=u.favourite,this.productDetail.imageUrl=u.imageUrl,this.productDetail.createdBy=u.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(o).subscribe(p=>{console.log(p),void 0!==p.product?(this.productDetail.name=p.product.product_name,this.productDetail.barcode=o,this.productDetail.brand=p.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=p.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=hi.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var e,o,u,p;return this.productDetail&&(null===(e=this.productDetail.barcode)||void 0===e?void 0:e.length)>0&&(null===(o=this.productDetail.name)||void 0===o?void 0:o.length)>0&&(null===(u=this.productDetail.brand)||void 0===u?void 0:u.length)>0&&this.shopProductDetail&&(null===(p=this.shopProductDetail.productBarcode)||void 0===p?void 0:p.length)>0&&this.shopProductDetail.price&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(e){e?(console.log("saveShopProduct()",e),e.createdBy=this.loggedUser,this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(u=>u.productBarcode===this.shopProductDetail.productBarcode&&u.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):this.exit())}createProduct(e){console.log("AddProductByBarcodeComponent.createProduct()",e),this.lockProductEdition?e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit():this.productService.createProduct(e.product).subscribe(()=>{e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(El),t.Y36(ka.M),t.Y36(la.r),t.Y36(ca.d),t.Y36(sD),t.Y36(La))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(e,o){if(1&e&&(t.Gf(Yx,5),t.Gf(Jx,5)),2&e){let u;t.iGM(u=t.CRH())&&(o.barcodeInput=u.first),t.iGM(u=t.CRH())&&(o.priceInput=u.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,Qx,1,0,"ng-container",2),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.setMode("SCANNER")}),t.YNc(5,Xx,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.setMode("MANUAL")}),t.YNc(9,eA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,nA,4,2,"ng-container",7),t.TgZ(14,"div",8),t.YNc(15,rA,1,0,"ng-container",2),t.qZA(),t._UZ(16,"div",9),t.qZA()(),t.YNc(17,sA,10,5,"ng-template",null,10,t.W1O),t.YNc(19,lA,47,53,"ng-template",null,11,t.W1O)),2&e){const u=t.MAs(18),p=t.MAs(20);t.xp6(2),t.Q6J("ngTemplateOutlet",u),t.xp6(2),t.Q6J("ngClass",t.VKq(16,lD,"SCANNER"===o.mode)),t.xp6(1),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(7,12,"scanner.scanner")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,lD,"MANUAL"===o.mode)),t.xp6(1),t.Q6J("ngIf","MANUAL"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(11,14,"scanner.manual")," "),t.xp6(3),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.Udp("height","MANUAL"!==o.mode?"0px":"auto"),t.Q6J("ngClass",t.VKq(20,uA,"MANUAL"!==o.mode)),t.xp6(1),t.Q6J("ngTemplateOutlet",p)}},directives:[Xr,Zn,mr,Kx,Qu,Vr,jo,Ko,al,cs,Qd,an],pipes:[Es],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),n})(),hA=(()=>{class n{constructor(e){this.router=e,this.history=[],this.router.events.pipe(no(o=>o instanceof Cs)).subscribe(o=>{("/"===o.url||"/home"===o.url)&&(this.history=[]),this.history.unshift(o.url)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(zr))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",7)(2,"span",3),t._uU(3),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",e.pathUrl),t.xp6(2),t.Oqu(e.label)}}function pA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",8),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.label)}}function gA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2,"/"),t.qZA(),t.YNc(3,fA,4,2,"ng-container",6),t.YNc(4,pA,3,1,"ng-container",6),t.BQk()),2&n){const e=r.index,o=t.oxw();t.xp6(3),t.Q6J("ngIf",e<o.steps.length-1),t.xp6(1),t.Q6J("ngIf",e===o.steps.length-1)}}let uD=(()=>{class n{constructor(e,o,u,p,b){this.router=e,this.navigationService=o,this.shopService=u,this.productService=p,this.translate=b,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(e){return e.match("/edit-product")?this.productService._products.find(o=>o.barcode===e.replace("/edit-product/","")).name:e.match("/edit-shop")?this.shopService._shops.find(o=>o.id===e.replace("/edit-shop/","")).name:e.match("/search-products")?this.translate.instant("breadcrumb.products"):e.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){this.navigationService.history.findIndex(u=>"/"===u||"/home"===u);let o=JSON.parse(JSON.stringify(this.navigationService.history));if(o.length>2&&(o=o.slice(0,2).reverse()),this.steps=o.map(u=>({label:this.getLabel(u),pathUrl:u})),this.steps.length>1){const p=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&p.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(hA),t.Y36(ca.d),t.Y36(ka.M),t.Y36(La))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return o.exit()}),t._UZ(2,"i",2),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,gA,5,2,"ng-container",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(2),t.Q6J("ngForOf",o.steps))},directives:[an,mr,Ra],pipes:[Es],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function mA(n,r){1&n&&t.GkF(0)}function _A(n,r){if(1&n&&(t.ynx(0),t.YNc(1,mA,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function yA(n,r){1&n&&t._UZ(0,"i",10)}function vA(n,r){1&n&&t._UZ(0,"i",10)}function bA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",25),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).productDetail.name=u}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function CA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",26),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).productDetail.name=u}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function wA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",27),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).productDetail.brand=u}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function TA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",28),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).productDetail.brand=u}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function EA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29),t._UZ(2,"img",30),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("src",e.productDetail.imageUrl,t.LSH)}}function DA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",31)(2,"span",32),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",33),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,2,"product.createdBy"),":"),t.xp6(3),t.Oqu(null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.username)}}const SA=function(n){return{"pb-1":n}},oT=function(n){return{disabled:n}};function xA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"label",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",16),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(2).productDetail.barcode=u}),t.qZA()(),t.TgZ(9,"div",14)(10,"label",17),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,bA,3,4,"ng-container",2),t.YNc(14,CA,3,4,"ng-container",2),t.qZA(),t.TgZ(15,"div",14)(16,"label",18),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,wA,3,4,"ng-container",2),t.YNc(20,TA,3,4,"ng-container",2),t.qZA(),t.TgZ(21,"div",19)(22,"input",20),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(2).productDetail.favourite=u}),t.qZA(),t.TgZ(23,"label",21),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t.YNc(26,EA,3,1,"ng-container",2),t.qZA()()(),t.YNc(27,DA,7,4,"ng-container",2),t.TgZ(28,"div",22)(29,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._UZ(30,"span",24),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(25,SA,null==e.productDetail?null:e.productDetail.createdBy)),t.xp6(5),t.Oqu(t.lcZ(7,15,"product.barcode")),t.xp6(2),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(3),t.Oqu(t.lcZ(12,17,"product.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(3),t.Oqu(t.lcZ(18,19,"product.brand")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.productDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(25,21,"product.favourite")),t.xp6(2),t.Q6J("ngIf",e.productDetail.imageUrl),t.xp6(1),t.Q6J("ngIf",!(null!=e.productDetail&&null!=e.productDetail.createdBy&&e.productDetail.createdBy.isAdmin)&&(null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.username)),t.xp6(2),t.Q6J("ngClass",t.VKq(27,oT,(null==e.productDetail?null:e.productDetail.brand.length)<1||(null==e.productDetail?null:e.productDetail.name.length)<1||(null==e.productDetail?null:e.productDetail.barcode.length)<1)),t.xp6(2),t.hij(" ",t.lcZ(32,23,"product.save")," ")}}function AA(n,r){if(1&n&&(t.TgZ(0,"span",54),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const IA=function(n){return{"fw-bold":n}};function MA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",50)(2,"div",51)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,AA,2,1,"span",52),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",53),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(6).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,u=t.oxw(6);t.xp6(1),t.Q6J("ngClass",t.VKq(11,IA,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",u.loggedUser.isAdmin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,oT,!u.canRemoveShopProduct(e)))}}function OA(n,r){if(1&n&&(t.TgZ(0,"li",48)(1,"ul",49),t.YNc(2,MA,12,15,"li",39),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const PA=function(n){return[n]};function NA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",40)(2,"div",41),t._UZ(3,"img",42),t.TgZ(4,"a",43),t._uU(5),t.qZA(),t.TgZ(6,"div",44)(7,"span",45)(8,"i",46),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(4).showHistory(p)}),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.YNc(11,OA,3,1,"li",47),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(4);t.xp6(3),t.Q6J("src",o.getShopImage(e.shopId),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(9,PA,"/edit-shop/"+e.shopId)),t.xp6(1),t.hij("",o.getShopName(e.shopId)," "),t.xp6(3),t.Q6J("ngClass",t.VKq(11,oT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(10,6,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function RA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",38),t.YNc(2,NA,12,13,"ng-container",39),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function kA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"div",35)(3,"button",36),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,RA,3,1,"ng-container",37),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2),o=t.MAs(19);t.xp6(4),t.hij(" ",t.lcZ(5,4,"product.pricesInShops")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function FA(n,r){if(1&n&&(t.ynx(0),t.YNc(1,xA,33,29,"ng-container",2),t.YNc(2,kA,11,9,"ng-container",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.selectedTab),t.xp6(1),t.Q6J("ngIf",1===e.selectedTab)}}function LA(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}function BA(n,r){1&n&&(t.TgZ(0,"div",55)(1,"small",56),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"product.noData")))}const dD=function(n){return{active:n}};let UA=(()=>{class n{constructor(e,o,u,p,b,x){this.router=e,this.route=o,this.productService=u,this.shopService=p,this.shopsProductsService=b,this.loginService=x,this.historyShopProductList=[],this.selectedTab=0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(e){return this.loggedUser.isAdmin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}canEdit(){var e,o;return this.loggedUser.isAdmin||(null===(e=this.productDetail.createdBy)||void 0===e?void 0:e.email)===this.loggedUser.email&&(null===(o=this.productDetail.createdBy)||void 0===o?void 0:o.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(e){console.log(e),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{this.historyShopProduct&&this.configHistory(e)})}getShopName(e){const o=this.shops.find(u=>u.id===e);return console.log(e),console.log(this.shops),console.log(o),null==o?void 0:o.name}getShopImage(e){var o;return(null===(o=this.shops.find(u=>u.id===e))||void 0===o?void 0:o.imageUrl)||hi.T}showHistory(e){this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(u=>u.productBarcode===this.productDetail.barcode&&u.shopId===e.shopId).sort((u,p)=>u.updateDate<p.updateDate?1:-1)})}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===e.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(e=>{this.shopProducts=[];const o=[];e.forEach(u=>{-1===o.indexOf(u.shopId)&&o.push(u.shopId)}),o.forEach(u=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(u,this.productDetail.barcode))}),this.shopProducts.sort((u,p)=>u.price>p.price?1:-1)})}getProductPriceRange(e){return this.shopsProductsService.getProductPriceRange(e,"product-edit")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.productDetail=this.products.find(o=>o.barcode===e),this.getShopProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(sa),t.Y36(ka.M),t.Y36(ca.d),t.Y36(El),t.Y36(la.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-edit"]],decls:20,vars:20,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["breadcrumb",""],["noShopsProducts",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,_A,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,yA,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,vA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,FA,3,2,"ng-container",2),t.qZA(),t.YNc(16,LA,1,0,"ng-template",null,7,t.W1O),t.YNc(18,BA,4,3,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(16,dD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,9,"product.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,dD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,11,"product.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,13,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",o.productDetail))},directives:[mr,Xr,Zn,Vr,jo,Ko,ss,an,Ru,uD],pipes:[Es,P,rs],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const jA=["productSearchInput"];function VA(n,r){1&n&&t.GkF(0)}function GA(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",38),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function HA(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function $A(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}const qA=function(n){return{productRange:n}};function ZA(n,r){if(1&n&&(t.ynx(0),t.GkF(1,42),t.BQk()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3),u=t.MAs(27);t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(2,qA,o.getProductPriceRange(e)))}}function WA(n,r){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"span",41),t._uU(3),t.ALo(4,"number"),t.qZA(),t.YNc(5,HA,3,3,"span",37),t.YNc(6,$A,3,3,"span",37),t.qZA(),t.YNc(7,ZA,2,4,"ng-container",37),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(3),t.Oqu(t.xi3(4,4,o.getProductPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getProductPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getProductPrices(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function zA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",43),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw(3).doRemove(u)}),t.qZA(),t.BQk()}}function KA(n,r){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,1,o.productItemsInCart(e),"1.0-2"))}}const YA=function(n){return{"with-items-in-cart":n}};function JA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",44),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw(3).addToCart(u)}),t.qZA(),t.YNc(2,KA,3,4,"span",45),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(2,YA,o.productItemsInCart(e)>0)),t.xp6(1),t.Q6J("ngIf",o.productItemsInCart(e)>0)}}const QA=function(n,r){return{far:n,fas:r}};function XA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",27)(1,"div",28)(2,"div",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.YNc(3,GA,2,1,"ng-container",19),t.qZA(),t.TgZ(4,"div",30),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.TgZ(5,"div",31)(6,"a",32),t._uU(7),t.qZA()(),t.TgZ(8,"div",33),t._uU(9),t.qZA(),t.YNc(10,WA,8,7,"div",34),t.qZA(),t.TgZ(11,"div",35)(12,"span",36),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.barcode)}),t.qZA(),t.YNc(13,zA,2,0,"ng-container",37),t.YNc(14,JA,3,4,"ng-container",37),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw(3),u=t.MAs(31);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",e.imageUrl)("ngIfElse",u),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.brand," "),t.xp6(1),t.Q6J("ngIf",o.getProductPrices(e)>0),t.xp6(2),t.Q6J("ngClass",t.WLB(9,QA,!e.favourite,e.favourite)),t.xp6(1),t.Q6J("ngIf",o.canRemoveProduct(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function eI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",25),t.YNc(3,XA,15,12,"li",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.products)}}function tI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,eI,4,1,"ng-container",19),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(29);t.xp6(1),t.Q6J("ngIf",(null==e.products?null:e.products.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function nI(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",48),t.TgZ(2,"div",49),t._uU(3),t.ALo(4,"number"),t.ALo(5,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(3),t.AsE(" ",t.xi3(4,2,e.min,"1.0-2")," - ",t.xi3(5,5,e.max,"1.0-2")," \u20ac ")}}function rI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",50),t._uU(2),t.ALo(3,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(2),t.hij("",t.xi3(3,1,e.max,"1.0-2")," \u20ac")}}function iI(n,r){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,nI,6,8,"ng-container",37),t.YNc(2,rI,4,4,"ng-container",37),t.qZA()),2&n){const e=r.productRange;t.xp6(1),t.Q6J("ngIf",e.max!==e.min),t.xp6(1),t.Q6J("ngIf",e.max===e.min)}}function oI(n,r){1&n&&(t.TgZ(0,"small",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noProductAdded")))}function sI(n,r){1&n&&(t.TgZ(0,"small",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noFavouriteProduct")))}function aI(n,r){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,oI,3,3,"small",52),t.YNc(2,sI,3,3,"small",53),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(35);t.xp6(1),t.Q6J("ngIf",0===e.products.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function cI(n,r){1&n&&t._UZ(0,"i",56)}function lI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",57)(1,"span",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",59),t.TgZ(3,"span",60),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",61),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",62),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.products")))}function uI(n,r){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let dI=(()=>{class n{constructor(e,o,u,p,b,x){this.router=e,this.productService=o,this.shopProductService=u,this.loginService=p,this.shoppingCartService=b,this.spinner=x,this.STORED_SEARCH_KEY="PS_PRODUCTS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(e){this.router.navigate(["edit-product/"+e.barcode])}doToggleFavourite(e){const o=this.products.find(u=>u.barcode===e);o.favourite=!o.favourite,this.productService.toggleFavourite(o).subscribe(()=>{})}doRemove(e){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(e.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(e.barcode).subscribe(()=>{})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(u=>u.productBarcode===e.barcode).forEach(u=>{o.indexOf(u.shopId)<0&&o.push(u.shopId)}),o.length}productHasPrices(e){return this.getProductPrices(e)>0}getProductPriceRange(e){return this.shopProductService.getProductPriceRange(e)}productItemsInCart(e){var o,u;let p=0,b=!1;return(null===(u=null===(o=this.shoppingCartService)||void 0===o?void 0:o._cartConfig)||void 0===u?void 0:u.items)&&this.shoppingCartService._cartConfig.items.forEach(x=>{b||x.productsUnits.forEach(L=>{L.product.barcode===e.barcode&&L.units&&(b=!0,p+=L.units)})}),p}canRemoveProduct(e){return this.loggedUser.isAdmin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}addToCart(e){this.shoppingCartService.addToCart(e)}exit(){this.router.navigateByUrl("")}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(e=>{this.products=e.sort((o,u)=>o.name>u.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){Xo(this.productSearchInput.nativeElement,"keyup").pipe(no(Boolean),Nb(300),ne(),(0,ai.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(ka.M),t.Y36(El),t.Y36(la.r),t.Y36(Gp),t.Y36(Gc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(jA,5),2&e){let u;t.iGM(u=t.CRH())&&(o.productSearchInput=u.first)}},decls:36,vars:15,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[1,"d-flex","w-100","mb-3"],[1,"btn","btn-lg","btn-dark","w-100","m-1","py-3",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-barcode","me-3"],[1,"text-start"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,VA,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.doCreateProduct()}),t.TgZ(20,"div",16),t._UZ(21,"i",17),t.TgZ(22,"div",18),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.YNc(25,tI,2,2,"ng-container",19),t.qZA(),t.YNc(26,iI,3,2,"ng-template",null,20,t.W1O),t.YNc(28,aI,3,2,"ng-template",null,21,t.W1O),t.YNc(30,cI,1,0,"ng-template",null,22,t.W1O),t.YNc(32,lI,11,6,"ng-template",null,23,t.W1O),t.YNc(34,uI,3,3,"ng-template",null,24,t.W1O)),2&e){const u=t.MAs(33),p=t.MAs(35);t.xp6(4),t.Q6J("ngTemplateOutlet",u),t.xp6(3),t.s9C("placeholder",t.lcZ(9,9,"products.searchPlaceholder")),t.Q6J("readonly",(null==o.products?null:o.products.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,11,"products.onlyFavouriteProducts")),t.xp6(8),t.Oqu(t.lcZ(24,13,"products.scan")),t.xp6(2),t.Q6J("ngIf",o.products)("ngIfElse",p)}},directives:[Xr,ss,jo,Ko,mr,an,Zn],pipes:[Es,P],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function hI(n,r){1&n&&t.GkF(0)}function fI(n,r){1&n&&t._UZ(0,"div",23)}const pI=function(n){return{"checked-product":n}};function gI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",27),t.qZA(),t.TgZ(3,"td",28),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).toggleCartProductMarked(p)}),t._uU(4),t.TgZ(5,"span"),t._uU(6),t.ALo(7,"number"),t.qZA()(),t.TgZ(8,"td")(9,"div",29)(10,"span",30),t._uU(11),t.ALo(12,"number"),t.qZA(),t.TgZ(13,"i",31),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeItem(p.product)}),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Q6J("ngClass",t.VKq(10,pI,e.checked)),t.xp6(1),t.hij(" ",e.product.name," "),t.xp6(2),t.hij(" (x",t.xi3(7,4,e.units,"1.0-2"),")"),t.xp6(5),t.hij("",t.xi3(12,7,e.minPrice,"1.0-2")," \u20ac")}}function mI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",24),t._UZ(2,"img",25),t.TgZ(3,"div",26)(4,"table")(5,"tbody"),t.YNc(6,gI,14,12,"tr",22),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",null==e||null==e.shop?null:e.shop.imageUrl,t.LSH),t.xp6(4),t.Q6J("ngForOf",e.productsUnits)}}function _I(n,r){if(1&n&&(t.ynx(0),t.YNc(1,mI,7,2,"ng-container",2),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.shop)}}function yI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"h4",8),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"i",10),t.TgZ(7,"small",11),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"button",12),t.qZA(),t.TgZ(11,"div",13),t._UZ(12,"i",14),t.TgZ(13,"small",15)(14,"strong",16),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p",17),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t._UZ(20,"button",12),t.qZA(),t.YNc(21,fI,1,0,"div",18),t.TgZ(22,"div",19)(23,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeCart()}),t.TgZ(24,"span"),t._UZ(25,"i",21),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.YNc(28,_I,2,1,"ng-container",22),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2),o=t.MAs(4);t.xp6(3),t.Oqu(t.lcZ(4,7,"shoppingCart.title")),t.xp6(5),t.Oqu(t.lcZ(9,9,"shoppingCart.description")),t.xp6(7),t.Oqu(t.lcZ(16,11,"shoppingCart.trick.title")),t.xp6(3),t.Oqu(t.lcZ(19,13,"shoppingCart.trick.text")),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(5),t.Oqu(t.lcZ(27,15,"shoppingCart.doEmpty")),t.xp6(2),t.Q6J("ngForOf",e.cartConfig.items)}}function vI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,yI,29,17,"ng-container",6),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(6);t.xp6(1),t.Q6J("ngIf",(null==e.cartConfig.items?null:e.cartConfig.items.length)>0)("ngIfElse",o)}}const bI=function(n,r){return{"bg-success":n,"text-success":r}};function CI(n,r){if(1&n&&(t.TgZ(0,"div",32),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",33),t._uU(4),t.ALo(5,"number"),t.qZA()(),t.TgZ(6,"div",34),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"span",33),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",35),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",36),t._uU(16),t.ALo(17,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,7,"shoppingCart.amountOptimized"),": "),t.xp6(3),t.hij("",t.xi3(5,9,e.getAmountLow(),"1.0-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),t.xp6(3),t.hij("",t.xi3(11,14,e.getAmountHigh(),"1.0-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(14,17,"shoppingCart.amountSaved"),": "),t.xp6(2),t.Q6J("ngClass",t.WLB(22,bI,e.getAmountDiff()>0,e.getAmountDiff()>0)),t.xp6(1),t.hij("",t.xi3(17,19,e.getAmountDiff()*(e.getAmountDiff()>0?-1:1),"1.0-2")," \u20ac")}}function wI(n,r){1&n&&(t.TgZ(0,"div",37)(1,"div",38)(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shoppingCart.noProducts")))}function TI(n,r){1&n&&(t.TgZ(0,"div",39)(1,"span",40)(2,"a",41),t._UZ(3,"i",42),t.TgZ(4,"span",43),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",44),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",45),t._uU(10),t.ALo(11,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(11,4,"breadcrumb.shoppingCart")))}let EI=(()=>{class n{constructor(e,o,u){this.shoppingCartService=e,this.spinner=o,this.translate=u,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountLow+=o.units*o.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountHigh+=o.units*o.maxPrice})})}toggleCartProductMarked(e){this.shoppingCartService.toggleCartProductMarked(e)}removeItem(e){this.spinner.show(),this.shoppingCartService.removeCartProduct(e)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},e=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Gp),t.Y36(Gc),t.Y36(La))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-2"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,hI,1,0,"ng-container",1),t.qZA(),t.YNc(2,vI,2,2,"ng-container",2),t.YNc(3,CI,18,25,"ng-template",null,3,t.W1O),t.YNc(5,wI,5,3,"ng-template",null,4,t.W1O),t.YNc(7,TI,12,6,"ng-template",null,5,t.W1O)),2&e){const u=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",u),t.xp6(1),t.Q6J("ngIf",o.cartConfig)}},directives:[Xr,mr,an,Zn,Ru],pipes:[Es,P],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),n})();function DI(n,r){1&n&&t.GkF(0)}function SI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,DI,1,0,"ng-container",3),t.BQk()),2&n){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",14),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(2).shopDetail.name=u}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.shopDetail.name)}}const AI=function(n){return{disabled:n}};function II(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Nom"),t.qZA(),t.YNc(5,xI,1,1,"input",7),t.qZA(),t.TgZ(6,"div",8)(7,"input",9),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw().shopDetail.favourite=u}),t.qZA(),t.TgZ(8,"label",10),t._uU(9,"Preferida"),t.qZA()()(),t.TgZ(10,"div",11)(11,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().createShop()}),t._uU(12," Desar "),t.qZA(),t.TgZ(13,"button",13),t._uU(14," Tancar "),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.shopDetail.default),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(4),t.Q6J("ngClass",t.VKq(4,AI,e.shopDetail.name.length<1)),t.xp6(2),t.Q6J("routerLink","../search-shops")}}function MI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"span",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",17),t.TgZ(3,"span",18),t._uU(4,"Inici"),t.qZA()(),t.TgZ(5,"span",19),t._uU(6,"/"),t.qZA(),t.TgZ(7,"span",20)(8,"span",18),t._uU(9,"Botigues"),t.qZA()(),t.TgZ(10,"span",19),t._uU(11,"/"),t.qZA(),t.TgZ(12,"span",21),t._uU(13,"Nova botiga"),t.qZA()()}2&n&&(t.xp6(7),t.Q6J("routerLink","search-shops"))}let OI=(()=>{class n{constructor(e,o){this.router=e,this.shopService=o,this.shopDetail={id:wd(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(ca.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,SI,2,1,"ng-container",1),t.qZA(),t.YNc(2,II,15,6,"ng-container",1),t.YNc(3,MI,14,1,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.shopDetail),t.xp6(1),t.Q6J("ngIf",o.shopDetail))},directives:[mr,Xr,Vr,jo,Ko,ss,Zn,Ra],styles:[""]}),n})();function PI(n,r){1&n&&t.GkF(0)}function NI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,PI,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function RI(n,r){1&n&&t._UZ(0,"i",10)}function kI(n,r){1&n&&t._UZ(0,"i",10)}function FI(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.shopDetail.imageUrl,t.LSH)}}function LI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",27),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).shopDetail.name=u}),t.ALo(1,"translate"),t.qZA()}if(2&n){const e=t.oxw(3);t.s9C("placeholder",t.lcZ(1,2,"shop.name")),t.Q6J("ngModel",e.shopDetail.name)}}function BI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",28),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(3).shopDetail.name=u}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.shopDetail.name)}}const UI=function(n){return{"pb-2":n}};function jI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,FI,2,1,"div",17),t.TgZ(3,"div",18)(4,"label",19),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,LI,2,4,"input",20),t.YNc(8,BI,1,1,"input",21),t.qZA(),t.TgZ(9,"div",22)(10,"input",23),t.NdJ("ngModelChange",function(u){return t.CHM(e),t.oxw(2).shopDetail.favourite=u}),t.qZA(),t.TgZ(11,"label",24),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(11,UI,null==e.shopDetail?null:e.shopDetail.createdBy)),t.xp6(2),t.Q6J("ngIf",(null==e.shopDetail||null==e.shopDetail.imageUrl?null:e.shopDetail.imageUrl.length)>0),t.xp6(3),t.Oqu(t.lcZ(6,7,"shop.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(13,9,"shop.favourite"))}}function VI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29)(2,"span",30),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",31),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"shop.createdBy"),":"),t.xp6(3),t.Oqu(null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username)}}const sT=function(n){return{disabled:n}};function GI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,jI,14,13,"div",11),t.YNc(2,VI,7,4,"ng-container",2),t.TgZ(3,"div",12)(4,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateShop()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",14),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.shopDetail),t.xp6(1),t.Q6J("ngIf",null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username),t.xp6(2),t.Q6J("ngClass",t.VKq(10,sT,(null==e.shopDetail?null:e.shopDetail.name.length)<1)),t.xp6(1),t.hij(" ",t.lcZ(6,6,"shop.save")," "),t.xp6(2),t.Q6J("routerLink","../../search-shops"),t.xp6(1),t.hij(" ",t.lcZ(9,8,"shop.close")," ")}}function HI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw(3).removeShopProduct(u)}),t.qZA()}}function $I(n,r){if(1&n&&(t.TgZ(0,"span",53),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const qI=function(n){return{"fw-bold":n}};function ZI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,$I,2,1,"span",51),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",52),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,u=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(11,qI,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",u.loggedUser.isAdmin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,sT,!u.canRemoveShopProduct(e)))}}function WI(n,r){if(1&n&&(t.TgZ(0,"li",47)(1,"ul",48),t.YNc(2,ZI,12,15,"li",37),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const zI=function(n){return[n]};function KI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",38)(2,"div",39),t._UZ(3,"img",40)(4,"a",41),t.TgZ(5,"div",42)(6,"span"),t.YNc(7,HI,1,0,"span",43),t.TgZ(8,"i",44),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).showHistory(p)}),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.YNc(11,WI,3,1,"li",45),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.xp6(3),t.Q6J("src",o.getProductImage(e.productBarcode),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(10,zI,"/edit-product/"+e.productBarcode))("innerHtml",o.getProductName(e.productBarcode),t.oJD),t.xp6(3),t.Q6J("ngIf",o.canRemoveShopProduct(e)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,sT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(10,7,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function YI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",36),t.YNc(2,KI,12,14,"ng-container",37),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function JI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div",33)(3,"button",34),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,YI,3,1,"ng-container",35),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(18);t.xp6(4),t.hij(" ",t.lcZ(5,4,"shop.productPrices")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function QI(n,r){1&n&&(t.TgZ(0,"div",54)(1,"small",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shop.noProductPrices")))}function XI(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}const hD=function(n){return{active:n}};let eM=(()=>{class n{constructor(e,o,u,p,b){this.router=e,this.route=o,this.shopService=u,this.shopsProductsService=p,this.loginService=b,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(o=>o.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(e){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{})}canRemoveShopProduct(e){return this.loggedUser.isAdmin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}doEditProduct(e){}showHistory(e){console.log("showHistory()",e),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(u=>u.productBarcode===e.productBarcode&&u.shopId===this.shopDetail.id).sort((u,p)=>u.updateDate<p.updateDate?1:-1)})}getProductName(e){const o=this.products.find(u=>u.barcode===e);return"<span>"+o.name+'</span><span class="brand">'+o.brand+"</span>"}getProductImage(e){return this.products.find(u=>u.barcode===e).imageUrl||hi.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(e=>{this.shopProducts=[];const o=[];(e=e.sort((u,p)=>u.updateDate<p.updateDate?1:-1)).forEach(u=>{-1===o.indexOf(u.productBarcode)&&o.push(u.productBarcode)}),o.forEach(u=>{this.shopProducts.push(e.find(p=>u===p.productBarcode))}),this.shopProducts.sort((u,p)=>this.getProductName(u.productBarcode).toUpperCase()>this.getProductName(p.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(e=>{this.products=e,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(o=>{this.shopProducts=o,this.getLastShopProducts()})})}canEdit(){var e;return this.loggedUser.isAdmin||!(null===(e=this.shopDetail)||void 0===e?void 0:e.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===e.productBarcode&&o.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(o=>{this.shops=o,this.shopDetail=o.find(u=>u.id===e),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(o=>o.id===e),this.configShopsProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(sa),t.Y36(ca.d),t.Y36(El),t.Y36(la.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,NI,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,RI,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,kI,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,GI,10,12,"ng-container",2),t.YNc(16,JI,11,9,"ng-container",2),t.qZA(),t.YNc(17,QI,4,3,"ng-template",null,7,t.W1O),t.YNc(19,XI,1,0,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.shopDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(17,hD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,10,"shop.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(19,hD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,12,"shop.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab))},directives:[mr,Xr,Zn,Vr,jo,Ko,ss,Ra,an,Ru,uD],pipes:[Es,P,rs],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const tM=["shopSearchInput"];function nM(n,r){1&n&&t.GkF(0)}function rM(n,r){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function iM(n,r){1&n&&t._UZ(0,"i",31)}function oM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function sM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}function aM(n,r){if(1&n&&(t.TgZ(0,"div",32)(1,"span",33),t._uU(2),t.ALo(3,"number"),t.qZA(),t.YNc(4,oM,3,3,"span",28),t.YNc(5,sM,3,3,"span",28),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,3,o.getShopPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getShopPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getShopPrices(e))}}function cM(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t.NdJ("click",function(){t.CHM(e);const u=t.oxw().$implicit;return t.oxw(3).doRemove(u.id)}),t.qZA()(),t.BQk()}}const lM=function(n,r,e){return{far:n,fas:r,"ms-auto":e}};function uM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",20)(1,"div",21)(2,"div",22),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.YNc(3,rM,1,1,"img",23),t.YNc(4,iM,1,0,"i",24),t.qZA(),t.ynx(5),t.TgZ(6,"div",25),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.TgZ(7,"a",26),t._uU(8),t.qZA(),t.YNc(9,aM,6,6,"div",27),t.qZA(),t.YNc(10,cM,3,0,"ng-container",28),t.TgZ(11,"span",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.id)}),t.qZA(),t.BQk(),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",(null==e||null==e.imageUrl?null:e.imageUrl.length)>0),t.xp6(1),t.Q6J("ngIf",!((null==e||null==e.imageUrl?null:e.imageUrl.length)>0)),t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",o.getShopPrices(e)>0),t.xp6(1),t.Q6J("ngIf",o.canRemoveShop(e)),t.xp6(1),t.Q6J("ngClass",t.kEZ(7,lM,!e.favourite,e.favourite,!o.canRemoveShop(e)))}}function dM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",18),t.YNc(3,uM,12,11,"li",19),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.shops)}}function hM(n,r){if(1&n&&(t.ynx(0),t.YNc(1,dM,4,1,"ng-container",14),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(20);t.xp6(1),t.Q6J("ngIf",(null==e.shops?null:e.shops.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function fM(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noShopAdded")))}function pM(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noFavouriteShop")))}function gM(n,r){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,fM,3,3,"small",37),t.YNc(2,pM,3,3,"small",37),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(24);t.xp6(1),t.Q6J("ngIf",0===e.shops.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function mM(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"span",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",41),t.TgZ(3,"span",42),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",43),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",44),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.shops")))}function _M(n,r){1&n&&(t.TgZ(0,"div",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let yM=(()=>{class n{constructor(e,o,u,p,b){this.router=e,this.shopService=o,this.shopProductService=u,this.loginService=p,this.spinner=b,this.STORED_SEARCH_KEY="PS_SHOPS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(e){this.router.navigate(["edit-shop/"+e.id])}doToggleFavourite(e){this.spinner.show();const o=this.shops.find(u=>u.id===e);o.favourite=!o.favourite,this.shopService.toggleFavourite(o).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(e){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(e).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(e).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(e){return this.loggedUser.isAdmin||e.createdBy&&this.loggedUser.email===e.createdBy.email&&this.loggedUser.username===e.createdBy.username}getShopPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(u=>u.shopId===e.id).forEach(u=>{o.indexOf(u.productBarcode)<0&&o.push(u.productBarcode)}),o.length}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,u)=>o.name.toUpperCase()>u.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){Xo(this.shopSearchInput.nativeElement,"keyup").pipe(no(Boolean),Nb(300),ne(),(0,ai.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(zr),t.Y36(ca.d),t.Y36(El),t.Y36(la.r),t.Y36(Gc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(tM,5),2&e){let u;t.iGM(u=t.CRH())&&(o.shopSearchInput=u.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,nM,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13),t.YNc(18,hM,2,2,"ng-container",14),t.qZA(),t.YNc(19,gM,3,2,"ng-template",null,15,t.W1O),t.YNc(21,mM,11,6,"ng-template",null,16,t.W1O),t.YNc(23,_M,3,3,"ng-template",null,17,t.W1O)),2&e){const u=t.MAs(22),p=t.MAs(24);t.xp6(4),t.Q6J("ngTemplateOutlet",u),t.xp6(3),t.s9C("placeholder",t.lcZ(9,8,"shops.searchPlaceholder")),t.Q6J("readonly",(null==o.shops?null:o.shops.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,10,"shops.onlyFavouriteShops")),t.xp6(3),t.Q6J("ngIf",o.shops)("ngIfElse",p)}},directives:[Xr,ss,jo,Ko,mr,an,Zn],pipes:[Es,P],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function vM(n,r){1&n&&t.GkF(0)}function bM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.admin")))}function CM(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.user")))}function wM(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t._UZ(4,"i",8)(5,"app-language-selector"),t.qZA(),t.TgZ(6,"div",9)(7,"label"),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"span"),t._uU(11),t.qZA()(),t.TgZ(12,"div",10)(13,"label"),t._uU(14),t.ALo(15,"translate"),t.qZA(),t.TgZ(16,"span"),t._uU(17),t.qZA()(),t.TgZ(18,"div",10)(19,"label"),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.YNc(22,bM,3,3,"span",11),t.YNc(23,CM,3,3,"span",11),t.qZA(),t.TgZ(24,"div",10)(25,"label"),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"span"),t._uU(29),t.ALo(30,"date"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(8),t.Oqu(t.lcZ(9,9,"user.username")),t.xp6(3),t.Oqu(e.user.username),t.xp6(3),t.Oqu(t.lcZ(15,11,"user.email")),t.xp6(3),t.Oqu(e.user.email),t.xp6(3),t.Oqu(t.lcZ(21,13,"user.role")),t.xp6(2),t.Q6J("ngIf",e.user.isAdmin),t.xp6(1),t.Q6J("ngIf",!e.user.isAdmin),t.xp6(3),t.Oqu(t.lcZ(27,15,"user.lastLogin")),t.xp6(3),t.Oqu(t.xi3(30,17,e.user.lastLogin,"medium"))}}function TM(n,r){1&n&&(t.TgZ(0,"div",12),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.noData")))}function EM(n,r){if(1&n&&(t.TgZ(0,"div",13)(1,"span",14)(2,"a",15),t._UZ(3,"i",16),t.TgZ(4,"span",17),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",18),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",19),t._uU(10),t.qZA()()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,2,"breadcrumb.home")),t.xp6(5),t.Oqu(null==e.user?null:e.user.username)}}function SM(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",4),t.TgZ(2,"span"),t._uU(3,"No est\xe0s autenticat!"),t.qZA(),t.BQk())}const xM=function(){return["../login"]},AM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:JS,canActivate:[ep]},{path:"user",component:(()=>{class n{constructor(e,o){this.loginService=e,this.spinner=o}ngOnInit(){this.spinner.show(),this.loginService.user.subscribe(e=>{this.user=e,setTimeout(()=>{this.spinner.hide()},500)}),this.loginService.refreshUser()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(la.r),t.Y36(Gc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],[1,"fas","fa-user"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","my-3"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[4,"ngIf"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,vM,1,0,"ng-container",1),t.qZA(),t.YNc(2,wM,31,20,"ng-container",2),t.YNc(3,TM,3,3,"ng-template",null,3,t.W1O),t.YNc(5,EM,11,4,"ng-template",null,4,t.W1O)),2&e){const u=t.MAs(4),p=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",p),t.xp6(1),t.Q6J("ngIf",o.user)("ngIfElse",u)}},directives:[Xr,mr,oD,Ru],pipes:[Es,rs],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}"]}),n})(),canActivate:[ep]},{path:"login",component:dx},{path:"scan",component:dA,canActivate:[ep]},{path:"search-products",component:dI,canActivate:[ep]},{path:"search-shops",component:yM,canActivate:[ep]},{path:"statistics",component:ZS,canActivate:[ep]},{path:"edit-shop/:id",component:eM,canActivate:[ep]},{path:"new-shop",component:OI,canActivate:[ep]},{path:"edit-product/:barcode",component:UA},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:EI,canActivate:[ep]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forbidden"]],decls:5,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[4,"ngIf"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,SM,4,0,"ng-container",1),t.TgZ(2,"button",2),t._UZ(3,"i",3),t._uU(4," Identificar-me "),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("routerLink",t.DdM(2,xM)))},directives:[mr,Ra],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1),t.TgZ(2,"span"),t._uU(3,"P\xe0gina inexistent!"),t.qZA(),t.TgZ(4,"button",2),t._UZ(5,"i",3),t._uU(6," Anar a l'inici "),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",""))},directives:[Ra],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],Kr=!1;function fD(n){return new t.vHH(3e3,Kr)}function cO(){return"undefined"!=typeof window&&void 0!==window.document}function aT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function wm(n){switch(n.length){case 0:return new Dl;case 1:return n[0];default:return new Td(n)}}function pD(n,r,e,o,u={},p={}){const b=[],x=[];let L=-1,Y=null;if(o.forEach(pe=>{const Me=pe.offset,Ye=Me==L,Ve=Ye&&Y||{};Object.keys(pe).forEach(at=>{let _t=at,Wt=pe[at];if("offset"!==at)switch(_t=r.normalizePropertyName(_t,b),Wt){case"!":Wt=u[at];break;case cc:Wt=p[at];break;default:Wt=r.normalizeStyleValue(at,_t,Wt,b)}Ve[_t]=Wt}),Ye||x.push(Ve),Y=Ve,L=Me}),b.length)throw function JM(n){return new t.vHH(3502,Kr)}();return x}function cT(n,r,e,o){switch(r){case"start":n.onStart(()=>o(e&&lT(e,"start",n)));break;case"done":n.onDone(()=>o(e&&lT(e,"done",n)));break;case"destroy":n.onDestroy(()=>o(e&&lT(e,"destroy",n)))}}function lT(n,r,e){const o=e.totalTime,p=uT(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,null==o?n.totalTime:o,!!e.disabled),b=n._data;return null!=b&&(p._data=b),p}function uT(n,r,e,o,u="",p=0,b){return{element:n,triggerName:r,fromState:e,toState:o,phaseName:u,totalTime:p,disabled:!!b}}function Bu(n,r,e){let o;return n instanceof Map?(o=n.get(r),o||n.set(r,o=e)):(o=n[r],o||(o=n[r]=e)),o}function gD(n){const r=n.indexOf(":");return[n.substring(1,r),n.substr(r+1)]}let dT=(n,r)=>!1,mD=(n,r,e)=>[],_D=null;function hT(n){const r=n.parentNode||n.host;return r===_D?null:r}(aT()||"undefined"!=typeof Element)&&(cO()?(_D=(()=>document.documentElement)(),dT=(n,r)=>{for(;r;){if(r===n)return!0;r=hT(r)}return!1}):dT=(n,r)=>n.contains(r),mD=(n,r,e)=>{if(e)return Array.from(n.querySelectorAll(r));const o=n.querySelector(r);return o?[o]:[]});let N_=null,yD=!1;function vD(n){N_||(N_=function uO(){return"undefined"!=typeof document?document.body:null}()||{},yD=!!N_.style&&"WebkitAppearance"in N_.style);let r=!0;return N_.style&&!function lO(n){return"ebkit"==n.substring(1,6)}(n)&&(r=n in N_.style,!r&&yD&&(r="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in N_.style)),r}const bD=dT,CD=mD;let wD=(()=>{class n{validateStyleProperty(e){return vD(e)}matchesElement(e,o){return!1}containsElement(e,o){return bD(e,o)}getParentElement(e){return hT(e)}query(e,o,u){return CD(e,o,u)}computeStyle(e,o,u){return u||""}animate(e,o,u,p,b,x=[],L){return new Dl(u,p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),fT=(()=>{class n{}return n.NOOP=new wD,n})();const pT="ng-enter",kb="ng-leave",Fb="ng-trigger",Lb=".ng-trigger",ED="ng-animating",gT=".ng-animating";function R_(n){if("number"==typeof n)return n;const r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:mT(parseFloat(r[1]),r[2])}function mT(n,r){return"s"===r?1e3*n:n}function Bb(n,r,e){return n.hasOwnProperty("duration")?n:function fO(n,r,e){let u,p=0,b="";if("string"==typeof n){const x=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return r.push(fD()),{duration:0,delay:0,easing:""};u=mT(parseFloat(x[1]),x[2]);const L=x[3];null!=L&&(p=mT(parseFloat(L),x[4]));const Y=x[5];Y&&(b=Y)}else u=n;if(!e){let x=!1,L=r.length;u<0&&(r.push(function IM(){return new t.vHH(3100,Kr)}()),x=!0),p<0&&(r.push(function MM(){return new t.vHH(3101,Kr)}()),x=!0),x&&r.splice(L,0,fD())}return{duration:u,delay:p,easing:b}}(n,r,e)}function W0(n,r={}){return Object.keys(n).forEach(e=>{r[e]=n[e]}),r}function Tm(n,r,e={}){if(r)for(let o in n)e[o]=n[o];else W0(n,e);return e}function SD(n,r,e){return e?r+":"+e+";":""}function xD(n){let r="";for(let e=0;e<n.style.length;e++){const o=n.style.item(e);r+=SD(0,o,n.style.getPropertyValue(o))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=SD(0,mO(e),n.style[e]));n.setAttribute("style",r)}function tp(n,r,e){n.style&&(Object.keys(r).forEach(o=>{const u=yT(o);e&&!e.hasOwnProperty(o)&&(e[o]=n.style[u]),n.style[u]=r[o]}),aT()&&xD(n))}function k_(n,r){n.style&&(Object.keys(r).forEach(e=>{const o=yT(e);n.style[o]=""}),aT()&&xD(n))}function fv(n){return Array.isArray(n)?1==n.length?n[0]:iy(n):n}const _T=new RegExp("{{\\s*(.+?)\\s*}}","g");function AD(n){let r=[];if("string"==typeof n){let e;for(;e=_T.exec(n);)r.push(e[1]);_T.lastIndex=0}return r}function Ub(n,r,e){const o=n.toString(),u=o.replace(_T,(p,b)=>{let x=r[b];return r.hasOwnProperty(b)||(e.push(function PM(n){return new t.vHH(3003,Kr)}()),x=""),x.toString()});return u==o?n:u}function jb(n){const r=[];let e=n.next();for(;!e.done;)r.push(e.value),e=n.next();return r}const gO=/-+([a-z0-9])/g;function yT(n){return n.replace(gO,(...r)=>r[1].toUpperCase())}function mO(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Uu(n,r,e){switch(r.type){case 7:return n.visitTrigger(r,e);case 0:return n.visitState(r,e);case 1:return n.visitTransition(r,e);case 2:return n.visitSequence(r,e);case 3:return n.visitGroup(r,e);case 4:return n.visitAnimate(r,e);case 5:return n.visitKeyframes(r,e);case 6:return n.visitStyle(r,e);case 8:return n.visitReference(r,e);case 9:return n.visitAnimateChild(r,e);case 10:return n.visitAnimateRef(r,e);case 11:return n.visitQuery(r,e);case 12:return n.visitStagger(r,e);default:throw function NM(n){return new t.vHH(3004,Kr)}()}}function ID(n,r){return window.getComputedStyle(n)[r]}function wO(n,r){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(o=>function TO(n,r,e){if(":"==n[0]){const L=function EO(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return r.push(function WM(n){return new t.vHH(3016,Kr)}()),"* => *"}}(n,e);if("function"==typeof L)return void r.push(L);n=L}const o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(function ZM(n){return new t.vHH(3015,Kr)}()),r;const u=o[1],p=o[2],b=o[3];r.push(MD(u,b));"<"==p[0]&&!("*"==u&&"*"==b)&&r.push(MD(b,u))}(o,e,r)):e.push(n),e}const $b=new Set(["true","1"]),qb=new Set(["false","0"]);function MD(n,r){const e=$b.has(n)||qb.has(n),o=$b.has(r)||qb.has(r);return(u,p)=>{let b="*"==n||n==u,x="*"==r||r==p;return!b&&e&&"boolean"==typeof u&&(b=u?$b.has(n):qb.has(n)),!x&&o&&"boolean"==typeof p&&(x=p?$b.has(r):qb.has(r)),b&&x}}const DO=new RegExp("s*:selfs*,?","g");function vT(n,r,e,o){return new SO(n).build(r,e,o)}class SO{constructor(r){this._driver=r}build(r,e,o){const u=new IO(e);this._resetContextStyleTimingState(u);const p=Uu(this,fv(r),u);return u.unsupportedCSSPropertiesFound.size&&u.unsupportedCSSPropertiesFound.keys(),p}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,e){let o=e.queryCount=0,u=e.depCount=0;const p=[],b=[];return"@"==r.name.charAt(0)&&e.errors.push(function kM(){return new t.vHH(3006,Kr)}()),r.definitions.forEach(x=>{if(this._resetContextStyleTimingState(e),0==x.type){const L=x,Y=L.name;Y.toString().split(/\s*,\s*/).forEach(pe=>{L.name=pe,p.push(this.visitState(L,e))}),L.name=Y}else if(1==x.type){const L=this.visitTransition(x,e);o+=L.queryCount,u+=L.depCount,b.push(L)}else e.errors.push(function FM(){return new t.vHH(3007,Kr)}())}),{type:7,name:r.name,states:p,transitions:b,queryCount:o,depCount:u,options:null}}visitState(r,e){const o=this.visitStyle(r.styles,e),u=r.options&&r.options.params||null;if(o.containsDynamicStyles){const p=new Set,b=u||{};o.styles.forEach(x=>{if(Zb(x)){const L=x;Object.keys(L).forEach(Y=>{AD(L[Y]).forEach(pe=>{b.hasOwnProperty(pe)||p.add(pe)})})}}),p.size&&(jb(p.values()),e.errors.push(function LM(n,r){return new t.vHH(3008,Kr)}()))}return{type:0,name:r.name,style:o,options:u?{params:u}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const o=Uu(this,fv(r.animation),e);return{type:1,matchers:wO(r.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:F_(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(o=>Uu(this,o,e)),options:F_(r.options)}}visitGroup(r,e){const o=e.currentTime;let u=0;const p=r.steps.map(b=>{e.currentTime=o;const x=Uu(this,b,e);return u=Math.max(u,e.currentTime),x});return e.currentTime=u,{type:3,steps:p,options:F_(r.options)}}visitAnimate(r,e){const o=function OO(n,r){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return bT(Bb(n,r).duration,0,"");const o=n;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=bT(0,0,"");return p.dynamic=!0,p.strValue=o,p}return e=e||Bb(o,r),bT(e.duration,e.delay,e.easing)}(r.timings,e.errors);e.currentAnimateTimings=o;let u,p=r.styles?r.styles:kf({});if(5==p.type)u=this.visitKeyframes(p,e);else{let b=r.styles,x=!1;if(!b){x=!0;const Y={};o.easing&&(Y.easing=o.easing),b=kf(Y)}e.currentTime+=o.duration+o.delay;const L=this.visitStyle(b,e);L.isEmptyStep=x,u=L}return e.currentAnimateTimings=null,{type:4,timings:o,style:u,options:null}}visitStyle(r,e){const o=this._makeStyleAst(r,e);return this._validateStyleAst(o,e),o}_makeStyleAst(r,e){const o=[];Array.isArray(r.styles)?r.styles.forEach(b=>{"string"==typeof b?b==cc?o.push(b):e.errors.push(function BM(n){return new t.vHH(3002,Kr)}()):o.push(b)}):o.push(r.styles);let u=!1,p=null;return o.forEach(b=>{if(Zb(b)){const x=b,L=x.easing;if(L&&(p=L,delete x.easing),!u)for(let Y in x)if(x[Y].toString().indexOf("{{")>=0){u=!0;break}}}),{type:6,styles:o,easing:p,offset:r.offset,containsDynamicStyles:u,options:null}}_validateStyleAst(r,e){const o=e.currentAnimateTimings;let u=e.currentTime,p=e.currentTime;o&&p>0&&(p-=o.duration+o.delay),r.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(x=>{if(!this._driver.validateStyleProperty(x))return delete b[x],void e.unsupportedCSSPropertiesFound.add(x);const L=e.collectedStyles[e.currentQuerySelector],Y=L[x];let pe=!0;Y&&(p!=u&&p>=Y.startTime&&u<=Y.endTime&&(e.errors.push(function UM(n,r,e,o,u){return new t.vHH(3010,Kr)}()),pe=!1),p=Y.startTime),pe&&(L[x]={startTime:p,endTime:u}),e.options&&function pO(n,r,e){const o=r.params||{},u=AD(n);u.length&&u.forEach(p=>{o.hasOwnProperty(p)||e.push(function OM(n){return new t.vHH(3001,Kr)}())})}(b[x],e.options,e.errors)})})}visitKeyframes(r,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function jM(){return new t.vHH(3011,Kr)}()),o;let p=0;const b=[];let x=!1,L=!1,Y=0;const pe=r.steps.map(ln=>{const mn=this._makeStyleAst(ln,e);let or=null!=mn.offset?mn.offset:function MO(n){if("string"==typeof n)return null;let r=null;if(Array.isArray(n))n.forEach(e=>{if(Zb(e)&&e.hasOwnProperty("offset")){const o=e;r=parseFloat(o.offset),delete o.offset}});else if(Zb(n)&&n.hasOwnProperty("offset")){const e=n;r=parseFloat(e.offset),delete e.offset}return r}(mn.styles),$n=0;return null!=or&&(p++,$n=mn.offset=or),L=L||$n<0||$n>1,x=x||$n<Y,Y=$n,b.push($n),mn});L&&e.errors.push(function VM(){return new t.vHH(3012,Kr)}()),x&&e.errors.push(function GM(){return new t.vHH(3200,Kr)}());const Me=r.steps.length;let Ye=0;p>0&&p<Me?e.errors.push(function HM(){return new t.vHH(3202,Kr)}()):0==p&&(Ye=1/(Me-1));const Ve=Me-1,at=e.currentTime,_t=e.currentAnimateTimings,Wt=_t.duration;return pe.forEach((ln,mn)=>{const or=Ye>0?mn==Ve?1:Ye*mn:b[mn],$n=or*Wt;e.currentTime=at+_t.delay+$n,_t.duration=$n,this._validateStyleAst(ln,e),ln.offset=or,o.styles.push(ln)}),o}visitReference(r,e){return{type:8,animation:Uu(this,fv(r.animation),e),options:F_(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:F_(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:F_(r.options)}}visitQuery(r,e){const o=e.currentQuerySelector,u=r.options||{};e.queryCount++,e.currentQuery=r;const[p,b]=function xO(n){const r=!!n.split(/\s*,\s*/).find(e=>":self"==e);return r&&(n=n.replace(DO,"")),n=n.replace(/@\*/g,Lb).replace(/@\w+/g,e=>Lb+"-"+e.substr(1)).replace(/:animating/g,gT),[n,r]}(r.selector);e.currentQuerySelector=o.length?o+" "+p:p,Bu(e.collectedStyles,e.currentQuerySelector,{});const x=Uu(this,fv(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:p,limit:u.limit||0,optional:!!u.optional,includeSelf:b,animation:x,originalSelector:r.selector,options:F_(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(function $M(){return new t.vHH(3013,Kr)}());const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:Bb(r.timings,e.errors,!0);return{type:12,animation:Uu(this,fv(r.animation),e),timings:o,options:null}}}class IO{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Zb(n){return!Array.isArray(n)&&"object"==typeof n}function F_(n){return n?(n=W0(n)).params&&(n.params=function AO(n){return n?W0(n):null}(n.params)):n={},n}function bT(n,r,e){return{duration:n,delay:r,easing:e}}function CT(n,r,e,o,u,p,b=null,x=!1){return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:o,duration:u,delay:p,totalTime:u+p,easing:b,subTimeline:x}}class Wb{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const RO=new RegExp(":enter","g"),FO=new RegExp(":leave","g");function wT(n,r,e,o,u,p={},b={},x,L,Y=[]){return(new LO).buildKeyframes(n,r,e,o,u,p,b,x,L,Y)}class LO{buildKeyframes(r,e,o,u,p,b,x,L,Y,pe=[]){Y=Y||new Wb;const Me=new TT(r,e,Y,u,p,pe,[]);Me.options=L,Me.currentTimeline.setStyles([b],null,Me.errors,L),Uu(this,o,Me);const Ye=Me.timelines.filter(Ve=>Ve.containsAnimation());if(Object.keys(x).length){let Ve;for(let at=Ye.length-1;at>=0;at--){const _t=Ye[at];if(_t.element===e){Ve=_t;break}}Ve&&!Ve.allowOnlyTimelineStyles()&&Ve.setStyles([x],null,Me.errors,L)}return Ye.length?Ye.map(Ve=>Ve.buildKeyframes()):[CT(e,[],[],[],0,0,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const o=e.subInstructions.get(e.element);if(o){const u=e.createSubContext(r.options),p=e.currentTimeline.currentTime,b=this._visitSubInstructions(o,u,u.options);p!=b&&e.transformIntoNewTimeline(b)}e.previousNode=r}visitAnimateRef(r,e){const o=e.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=r}_visitSubInstructions(r,e,o){let p=e.currentTimeline.currentTime;const b=null!=o.duration?R_(o.duration):null,x=null!=o.delay?R_(o.delay):null;return 0!==b&&r.forEach(L=>{const Y=e.appendInstructionToTimeline(L,b,x);p=Math.max(p,Y.duration+Y.delay)}),p}visitReference(r,e){e.updateOptions(r.options,!0),Uu(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const o=e.subContextCount;let u=e;const p=r.options;if(p&&(p.params||p.delay)&&(u=e.createSubContext(p),u.transformIntoNewTimeline(),null!=p.delay)){6==u.previousNode.type&&(u.currentTimeline.snapshotCurrentStyles(),u.previousNode=zb);const b=R_(p.delay);u.delayNextStep(b)}r.steps.length&&(r.steps.forEach(b=>Uu(this,b,u)),u.currentTimeline.applyStylesToKeyframe(),u.subContextCount>o&&u.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const o=[];let u=e.currentTimeline.currentTime;const p=r.options&&r.options.delay?R_(r.options.delay):0;r.steps.forEach(b=>{const x=e.createSubContext(r.options);p&&x.delayNextStep(p),Uu(this,b,x),u=Math.max(u,x.currentTimeline.currentTime),o.push(x.currentTimeline)}),o.forEach(b=>e.currentTimeline.mergeTimelineCollectedStyles(b)),e.transformIntoNewTimeline(u),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const o=r.strValue;return Bb(e.params?Ub(o,e.params,e.errors):o,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const o=e.currentAnimateTimings=this._visitTiming(r.timings,e),u=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),u.snapshotCurrentStyles());const p=r.style;5==p.type?this.visitKeyframes(p,e):(e.incrementTime(o.duration),this.visitStyle(p,e),u.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const o=e.currentTimeline,u=e.currentAnimateTimings;!u&&o.getCurrentStyleProperties().length&&o.forwardFrame();const p=u&&u.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(p):o.setStyles(r.styles,p,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const o=e.currentAnimateTimings,u=e.currentTimeline.duration,p=o.duration,x=e.createSubContext().currentTimeline;x.easing=o.easing,r.styles.forEach(L=>{x.forwardTime((L.offset||0)*p),x.setStyles(L.styles,L.easing,e.errors,e.options),x.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(x),e.transformIntoNewTimeline(u+p),e.previousNode=r}visitQuery(r,e){const o=e.currentTimeline.currentTime,u=r.options||{},p=u.delay?R_(u.delay):0;p&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=zb);let b=o;const x=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!u.optional,e.errors);e.currentQueryTotal=x.length;let L=null;x.forEach((Y,pe)=>{e.currentQueryIndex=pe;const Me=e.createSubContext(r.options,Y);p&&Me.delayNextStep(p),Y===e.element&&(L=Me.currentTimeline),Uu(this,r.animation,Me),Me.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Me.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(b),L&&(e.currentTimeline.mergeTimelineCollectedStyles(L),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const o=e.parentContext,u=e.currentTimeline,p=r.timings,b=Math.abs(p.duration),x=b*(e.currentQueryTotal-1);let L=b*e.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":L=x-L;break;case"full":L=o.currentStaggerTime}const pe=e.currentTimeline;L&&pe.delayNextStep(L);const Me=pe.currentTime;Uu(this,r.animation,e),e.previousNode=r,o.currentStaggerTime=u.currentTime-Me+(u.startTime-o.currentTimeline.startTime)}}const zb={};class TT{constructor(r,e,o,u,p,b,x,L){this._driver=r,this.element=e,this.subInstructions=o,this._enterClassName=u,this._leaveClassName=p,this.errors=b,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=zb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=L||new Kb(this._driver,e,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const o=r;let u=this.options;null!=o.duration&&(u.duration=R_(o.duration)),null!=o.delay&&(u.delay=R_(o.delay));const p=o.params;if(p){let b=u.params;b||(b=this.options.params={}),Object.keys(p).forEach(x=>{(!e||!b.hasOwnProperty(x))&&(b[x]=Ub(p[x],b,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const o=r.params={};Object.keys(e).forEach(u=>{o[u]=e[u]})}}return r}createSubContext(r=null,e,o){const u=e||this.element,p=new TT(this._driver,u,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(u,o||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(r),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(r){return this.previousNode=zb,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,o){const u={duration:null!=e?e:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},p=new BO(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,u,r.stretchStartingKeyframe);return this.timelines.push(p),u}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,o,u,p,b){let x=[];if(u&&x.push(this.element),r.length>0){r=(r=r.replace(RO,"."+this._enterClassName)).replace(FO,"."+this._leaveClassName);let Y=this._driver.query(this.element,r,1!=o);0!==o&&(Y=o<0?Y.slice(Y.length+o,Y.length):Y.slice(0,o)),x.push(...Y)}return!p&&0==x.length&&b.push(function qM(n){return new t.vHH(3014,Kr)}()),x}}class Kb{constructor(r,e,o,u){this._driver=r,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=u,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new Kb(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles[r]=e,this._globalTimelineStyles[r]=e,this._styleSummary[r]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||cc,this._currentKeyframe[e]=cc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,o,u){e&&(this._previousKeyframe.easing=e);const p=u&&u.params||{},b=function UO(n,r){const e={};let o;return n.forEach(u=>{"*"===u?(o=o||Object.keys(r),o.forEach(p=>{e[p]=cc})):Tm(u,!1,e)}),e}(r,this._globalTimelineStyles);Object.keys(b).forEach(x=>{const L=Ub(b[x],p,o);this._pendingStyles[x]=L,this._localTimelineStyles.hasOwnProperty(x)||(this._backFill[x]=this._globalTimelineStyles.hasOwnProperty(x)?this._globalTimelineStyles[x]:cc),this._updateStyle(x,L)})}applyStylesToKeyframe(){const r=this._pendingStyles,e=Object.keys(r);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const e=this._localTimelineStyles[r];this._pendingStyles[r]=e,this._updateStyle(r,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(e=>{const o=this._styleSummary[e],u=r._styleSummary[e];(!o||u.time>o.time)&&this._updateStyle(e,u.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let u=[];this._keyframes.forEach((x,L)=>{const Y=Tm(x,!0);Object.keys(Y).forEach(pe=>{const Me=Y[pe];"!"==Me?r.add(pe):Me==cc&&e.add(pe)}),o||(Y.offset=L/this.duration),u.push(Y)});const p=r.size?jb(r.values()):[],b=e.size?jb(e.values()):[];if(o){const x=u[0],L=W0(x);x.offset=0,L.offset=1,u=[x,L]}return CT(this.element,u,p,b,this.duration,this.startTime,this.easing,!1)}}class BO extends Kb{constructor(r,e,o,u,p,b,x=!1){super(r,e,b.delay),this.keyframes=o,this.preStyleProps=u,this.postStyleProps=p,this._stretchStartingKeyframe=x,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:o,easing:u}=this.timings;if(this._stretchStartingKeyframe&&e){const p=[],b=o+e,x=e/b,L=Tm(r[0],!1);L.offset=0,p.push(L);const Y=Tm(r[0],!1);Y.offset=ND(x),p.push(Y);const pe=r.length-1;for(let Me=1;Me<=pe;Me++){let Ye=Tm(r[Me],!1);Ye.offset=ND((e+Ye.offset*o)/b),p.push(Ye)}o=b,e=0,u="",r=p}return CT(this.element,r,this.preStyleProps,this.postStyleProps,o,e,u,!0)}}function ND(n,r=3){const e=Math.pow(10,r-1);return Math.round(n*e)/e}class ET{}class jO extends ET{normalizePropertyName(r,e){return yT(r)}normalizeStyleValue(r,e,o,u){let p="";const b=o.toString().trim();if(VO[e]&&0!==o&&"0"!==o)if("number"==typeof o)p="px";else{const x=o.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&u.push(function RM(n,r){return new t.vHH(3005,Kr)}())}return b+p}}const VO=(()=>function GO(n){const r={};return n.forEach(e=>r[e]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RD(n,r,e,o,u,p,b,x,L,Y,pe,Me,Ye){return{type:0,element:n,triggerName:r,isRemovalTransition:u,fromState:e,fromStyles:p,toState:o,toStyles:b,timelines:x,queriedElements:L,preStyleProps:Y,postStyleProps:pe,totalTime:Me,errors:Ye}}const DT={};class kD{constructor(r,e,o){this._triggerName=r,this.ast=e,this._stateStyles=o}match(r,e,o,u){return function HO(n,r,e,o,u){return n.some(p=>p(r,e,o,u))}(this.ast.matchers,r,e,o,u)}buildStyles(r,e,o){const u=this._stateStyles["*"],p=this._stateStyles[r],b=u?u.buildStyles(e,o):{};return p?p.buildStyles(e,o):b}build(r,e,o,u,p,b,x,L,Y,pe){const Me=[],Ye=this.ast.options&&this.ast.options.params||DT,at=this.buildStyles(o,x&&x.params||DT,Me),_t=L&&L.params||DT,Wt=this.buildStyles(u,_t,Me),ln=new Set,mn=new Map,or=new Map,$n="void"===u,Er={params:Object.assign(Object.assign({},Ye),_t)},wr=pe?[]:wT(r,e,this.ast.animation,p,b,at,Wt,Er,Y,Me);let yr=0;if(wr.forEach($i=>{yr=Math.max($i.duration+$i.delay,yr)}),Me.length)return RD(e,this._triggerName,o,u,$n,at,Wt,[],[],mn,or,yr,Me);wr.forEach($i=>{const qi=$i.element,yo=Bu(mn,qi,{});$i.preStyleProps.forEach(ps=>yo[ps]=!0);const Ua=Bu(or,qi,{});$i.postStyleProps.forEach(ps=>Ua[ps]=!0),qi!==e&&ln.add(qi)});const Pr=jb(ln.values());return RD(e,this._triggerName,o,u,$n,at,Wt,wr,Pr,mn,or,yr)}}class $O{constructor(r,e,o){this.styles=r,this.defaultParams=e,this.normalizer=o}buildStyles(r,e){const o={},u=W0(this.defaultParams);return Object.keys(r).forEach(p=>{const b=r[p];null!=b&&(u[p]=b)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const b=p;Object.keys(b).forEach(x=>{let L=b[x];L.length>1&&(L=Ub(L,u,e));const Y=this.normalizer.normalizePropertyName(x,e);L=this.normalizer.normalizeStyleValue(x,Y,L,e),o[Y]=L})}}),o}}class ZO{constructor(r,e,o){this.name=r,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(u=>{this.states[u.name]=new $O(u.style,u.options&&u.options.params||{},o)}),FD(this.states,"true","1"),FD(this.states,"false","0"),e.transitions.forEach(u=>{this.transitionFactories.push(new kD(r,u,this.states))}),this.fallbackTransition=function WO(n,r,e){return new kD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,x)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,o,u){return this.transitionFactories.find(b=>b.match(r,e,o,u))||null}matchStyles(r,e,o){return this.fallbackTransition.buildStyles(r,e,o)}}function FD(n,r,e){n.hasOwnProperty(r)?n.hasOwnProperty(e)||(n[e]=n[r]):n.hasOwnProperty(e)&&(n[r]=n[e])}const zO=new Wb;class KO{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,e){const o=[],p=vT(this._driver,e,o,[]);if(o.length)throw function QM(n){return new t.vHH(3503,Kr)}();this._animations[r]=p}_buildPlayer(r,e,o){const u=r.element,p=pD(0,this._normalizer,0,r.keyframes,e,o);return this._driver.animate(u,p,r.duration,r.delay,r.easing,[],!0)}create(r,e,o={}){const u=[],p=this._animations[r];let b;const x=new Map;if(p?(b=wT(this._driver,e,p,pT,kb,{},{},o,zO,u),b.forEach(pe=>{const Me=Bu(x,pe.element,{});pe.postStyleProps.forEach(Ye=>Me[Ye]=null)})):(u.push(function XM(){return new t.vHH(3300,Kr)}()),b=[]),u.length)throw function eO(n){return new t.vHH(3504,Kr)}();x.forEach((pe,Me)=>{Object.keys(pe).forEach(Ye=>{pe[Ye]=this._driver.computeStyle(Me,Ye,cc)})});const Y=wm(b.map(pe=>{const Me=x.get(pe.element);return this._buildPlayer(pe,{},Me)}));return this._playersById[r]=Y,Y.onDestroy(()=>this.destroy(r)),this.players.push(Y),Y}destroy(r){const e=this._getPlayer(r);e.destroy(),delete this._playersById[r];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(r){const e=this._playersById[r];if(!e)throw function tO(n){return new t.vHH(3301,Kr)}();return e}listen(r,e,o,u){const p=uT(e,"","","");return cT(this._getPlayer(r),o,p,u),()=>{}}command(r,e,o,u){if("register"==o)return void this.register(r,u[0]);if("create"==o)return void this.create(r,e,u[0]||{});const p=this._getPlayer(r);switch(o){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(u[0]));break;case"destroy":this.destroy(r)}}}const LD="ng-animate-queued",ST="ng-animate-disabled",eP=[],BD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},tP={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Id="__ng_removed";class xT{constructor(r,e=""){this.namespaceId=e;const o=r&&r.hasOwnProperty("value");if(this.value=function oP(n){return null!=n?n:null}(o?r.value:r),o){const p=W0(r);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const o=this.options.params;Object.keys(e).forEach(u=>{null==o[u]&&(o[u]=e[u])})}}}const pv="void",AT=new xT(pv);class nP{constructor(r,e,o){this.id=r,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Md(e,this._hostClassName)}listen(r,e,o,u){if(!this._triggers.hasOwnProperty(e))throw function nO(n,r){return new t.vHH(3302,Kr)}();if(null==o||0==o.length)throw function rO(n){return new t.vHH(3303,Kr)}();if(!function sP(n){return"start"==n||"done"==n}(o))throw function iO(n,r){return new t.vHH(3400,Kr)}();const p=Bu(this._elementListeners,r,[]),b={name:e,phase:o,callback:u};p.push(b);const x=Bu(this._engine.statesByElement,r,{});return x.hasOwnProperty(e)||(Md(r,Fb),Md(r,Fb+"-"+e),x[e]=AT),()=>{this._engine.afterFlush(()=>{const L=p.indexOf(b);L>=0&&p.splice(L,1),this._triggers[e]||delete x[e]})}}register(r,e){return!this._triggers[r]&&(this._triggers[r]=e,!0)}_getTrigger(r){const e=this._triggers[r];if(!e)throw function oO(n){return new t.vHH(3401,Kr)}();return e}trigger(r,e,o,u=!0){const p=this._getTrigger(e),b=new IT(this.id,e,r);let x=this._engine.statesByElement.get(r);x||(Md(r,Fb),Md(r,Fb+"-"+e),this._engine.statesByElement.set(r,x={}));let L=x[e];const Y=new xT(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&L&&Y.absorbOptions(L.options),x[e]=Y,L||(L=AT),Y.value!==pv&&L.value===Y.value){if(!function lP(n,r){const e=Object.keys(n),o=Object.keys(r);if(e.length!=o.length)return!1;for(let u=0;u<e.length;u++){const p=e[u];if(!r.hasOwnProperty(p)||n[p]!==r[p])return!1}return!0}(L.params,Y.params)){const _t=[],Wt=p.matchStyles(L.value,L.params,_t),ln=p.matchStyles(Y.value,Y.params,_t);_t.length?this._engine.reportError(_t):this._engine.afterFlush(()=>{k_(r,Wt),tp(r,ln)})}return}const Ye=Bu(this._engine.playersByElement,r,[]);Ye.forEach(_t=>{_t.namespaceId==this.id&&_t.triggerName==e&&_t.queued&&_t.destroy()});let Ve=p.matchTransition(L.value,Y.value,r,Y.params),at=!1;if(!Ve){if(!u)return;Ve=p.fallbackTransition,at=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:Ve,fromState:L,toState:Y,player:b,isFallbackTransition:at}),at||(Md(r,LD),b.onStart(()=>{z0(r,LD)})),b.onDone(()=>{let _t=this.players.indexOf(b);_t>=0&&this.players.splice(_t,1);const Wt=this._engine.playersByElement.get(r);if(Wt){let ln=Wt.indexOf(b);ln>=0&&Wt.splice(ln,1)}}),this.players.push(b),Ye.push(b),b}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((e,o)=>{delete e[r]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(u=>u.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const o=this._engine.driver.query(r,Lb,!0);o.forEach(u=>{if(u[Id])return;const p=this._engine.fetchNamespacesByElement(u);p.size?p.forEach(b=>b.triggerLeaveAnimation(u,e,!1,!0)):this.clearElementCache(u)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(u=>this.clearElementCache(u)))}triggerLeaveAnimation(r,e,o,u){const p=this._engine.statesByElement.get(r),b=new Map;if(p){const x=[];if(Object.keys(p).forEach(L=>{if(b.set(L,p[L].value),this._triggers[L]){const Y=this.trigger(r,L,pv,u);Y&&x.push(Y)}}),x.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,b),o&&wm(x).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(e&&o){const u=new Set;e.forEach(p=>{const b=p.name;if(u.has(b))return;u.add(b);const L=this._triggers[b].fallbackTransition,Y=o[b]||AT,pe=new xT(pv),Me=new IT(this.id,b,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:b,transition:L,fromState:Y,toState:pe,player:Me,isFallbackTransition:!0})})}}removeNode(r,e){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let u=!1;if(o.totalAnimations){const p=o.players.length?o.playersByQueriedElement.get(r):[];if(p&&p.length)u=!0;else{let b=r;for(;b=b.parentNode;)if(o.statesByElement.get(b)){u=!0;break}}}if(this.prepareLeaveAnimationListeners(r),u)o.markElementAsRemoved(this.id,r,!1,e);else{const p=r[Id];(!p||p===BD)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,e))}}insertNode(r,e){Md(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(o=>{const u=o.player;if(u.destroyed)return;const p=o.element,b=this._elementListeners.get(p);b&&b.forEach(x=>{if(x.name==o.triggerName){const L=uT(p,o.triggerName,o.fromState.value,o.toState.value);L._data=r,cT(o.player,x.phase,L,x.callback)}}),u.markedForDestroy?this._engine.afterFlush(()=>{u.destroy()}):e.push(o)}),this._queue=[],e.sort((o,u)=>{const p=o.transition.ast.depCount,b=u.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(o.element,u.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(o=>o.element===r)||e,e}}class rP{constructor(r,e,o){this.bodyNode=r,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(u,p)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,e){const o=new nP(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,e){const o=this._namespaceList,u=this.namespacesByHostElement,p=o.length-1;if(p>=0){let b=!1;if(void 0!==this.driver.getParentElement){let x=this.driver.getParentElement(e);for(;x;){const L=u.get(x);if(L){const Y=o.indexOf(L);o.splice(Y+1,0,r),b=!0;break}x=this.driver.getParentElement(x)}}else for(let x=p;x>=0;x--)if(this.driver.containsElement(o[x].hostElement,e)){o.splice(x+1,0,r),b=!0;break}b||o.unshift(r)}else o.push(r);return u.set(e,r),r}register(r,e){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,e)),o}registerTrigger(r,e,o){let u=this._namespaceLookup[r];u&&u.register(e,o)&&this.totalAnimations++}destroy(r,e){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const u=this._namespaceList.indexOf(o);u>=0&&this._namespaceList.splice(u,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,o=this.statesByElement.get(r);if(o){const u=Object.keys(o);for(let p=0;p<u.length;p++){const b=o[u[p]].namespaceId;if(b){const x=this._fetchNamespace(b);x&&e.add(x)}}}return e}trigger(r,e,o,u){if(Yb(e)){const p=this._fetchNamespace(r);if(p)return p.trigger(e,o,u),!0}return!1}insertNode(r,e,o,u){if(!Yb(e))return;const p=e[Id];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(e);b>=0&&this.collectedLeaveElements.splice(b,1)}if(r){const b=this._fetchNamespace(r);b&&b.insertNode(e,o)}u&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Md(r,ST)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),z0(r,ST))}removeNode(r,e,o,u){if(Yb(e)){const p=r?this._fetchNamespace(r):null;if(p?p.removeNode(e,u):this.markElementAsRemoved(r,e,!1,u),o){const b=this.namespacesByHostElement.get(e);b&&b.id!==r&&b.removeNode(e,u)}}else this._onRemovalComplete(e,u)}markElementAsRemoved(r,e,o,u,p){this.collectedLeaveElements.push(e),e[Id]={namespaceId:r,setForRemoval:u,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:p}}listen(r,e,o,u,p){return Yb(e)?this._fetchNamespace(r).listen(e,o,u,p):()=>{}}_buildInstruction(r,e,o,u,p){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,u,r.fromState.options,r.toState.options,e,p)}destroyInnerAnimations(r){let e=this.driver.query(r,Lb,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,gT,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return wm(this.players).onDone(()=>r());r()})}processLeaveNode(r){var e;const o=r[Id];if(o&&o.setForRemoval){if(r[Id]=BD,o.namespaceId){this.destroyInnerAnimations(r);const u=this._fetchNamespace(o.namespaceId);u&&u.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}(null===(e=r.classList)||void 0===e?void 0:e.contains(ST))&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(u=>{this.markElementAsDisabled(u,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,u)=>this._balanceNamespaceList(o,u)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Md(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,r)}finally{for(let u=0;u<o.length;u++)o[u]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?wm(e).onDone(()=>{o.forEach(u=>u())}):o.forEach(u=>u())}}reportError(r){throw function sO(n){return new t.vHH(3402,Kr)}()}_flushAnimations(r,e){const o=new Wb,u=[],p=new Map,b=[],x=new Map,L=new Map,Y=new Map,pe=new Set;this.disabledNodes.forEach(fn=>{pe.add(fn);const Fn=this.driver.query(fn,".ng-animate-queued",!0);for(let Kn=0;Kn<Fn.length;Kn++)pe.add(Fn[Kn])});const Me=this.bodyNode,Ye=Array.from(this.statesByElement.keys()),Ve=VD(Ye,this.collectedEnterElements),at=new Map;let _t=0;Ve.forEach((fn,Fn)=>{const Kn=pT+_t++;at.set(Fn,Kn),fn.forEach(xr=>Md(xr,Kn))});const Wt=[],ln=new Set,mn=new Set;for(let fn=0;fn<this.collectedLeaveElements.length;fn++){const Fn=this.collectedLeaveElements[fn],Kn=Fn[Id];Kn&&Kn.setForRemoval&&(Wt.push(Fn),ln.add(Fn),Kn.hasAnimation?this.driver.query(Fn,".ng-star-inserted",!0).forEach(xr=>ln.add(xr)):mn.add(Fn))}const or=new Map,$n=VD(Ye,Array.from(ln));$n.forEach((fn,Fn)=>{const Kn=kb+_t++;or.set(Fn,Kn),fn.forEach(xr=>Md(xr,Kn))}),r.push(()=>{Ve.forEach((fn,Fn)=>{const Kn=at.get(Fn);fn.forEach(xr=>z0(xr,Kn))}),$n.forEach((fn,Fn)=>{const Kn=or.get(Fn);fn.forEach(xr=>z0(xr,Kn))}),Wt.forEach(fn=>{this.processLeaveNode(fn)})});const Er=[],wr=[];for(let fn=this._namespaceList.length-1;fn>=0;fn--)this._namespaceList[fn].drainQueuedTransitions(e).forEach(Kn=>{const xr=Kn.player,Ho=Kn.element;if(Er.push(xr),this.collectedEnterElements.length){const Ss=Ho[Id];if(Ss&&Ss.setForMove){if(Ss.previousTriggersValues&&Ss.previousTriggersValues.has(Kn.triggerName)){const Wc=Ss.previousTriggersValues.get(Kn.triggerName),Od=this.statesByElement.get(Kn.element);Od&&Od[Kn.triggerName]&&(Od[Kn.triggerName].value=Wc)}return void xr.destroy()}}const Fl=!Me||!this.driver.containsElement(Me,Ho),qs=or.get(Ho),ju=at.get(Ho),wi=this._buildInstruction(Kn,o,ju,qs,Fl);if(wi.errors&&wi.errors.length)return void wr.push(wi);if(Fl)return xr.onStart(()=>k_(Ho,wi.fromStyles)),xr.onDestroy(()=>tp(Ho,wi.toStyles)),void u.push(xr);if(Kn.isFallbackTransition)return xr.onStart(()=>k_(Ho,wi.fromStyles)),xr.onDestroy(()=>tp(Ho,wi.toStyles)),void u.push(xr);const Zh=[];wi.timelines.forEach(Ss=>{Ss.stretchStartingKeyframe=!0,this.disabledNodes.has(Ss.element)||Zh.push(Ss)}),wi.timelines=Zh,o.append(Ho,wi.timelines),b.push({instruction:wi,player:xr,element:Ho}),wi.queriedElements.forEach(Ss=>Bu(x,Ss,[]).push(xr)),wi.preStyleProps.forEach((Ss,Wc)=>{const Od=Object.keys(Ss);if(Od.length){let sg=L.get(Wc);sg||L.set(Wc,sg=new Set),Od.forEach(B_=>sg.add(B_))}}),wi.postStyleProps.forEach((Ss,Wc)=>{const Od=Object.keys(Ss);let sg=Y.get(Wc);sg||Y.set(Wc,sg=new Set),Od.forEach(B_=>sg.add(B_))})});if(wr.length){const fn=[];wr.forEach(Fn=>{fn.push(function aO(n,r){return new t.vHH(3505,Kr)}())}),Er.forEach(Fn=>Fn.destroy()),this.reportError(fn)}const yr=new Map,Pr=new Map;b.forEach(fn=>{const Fn=fn.element;o.has(Fn)&&(Pr.set(Fn,Fn),this._beforeAnimationBuild(fn.player.namespaceId,fn.instruction,yr))}),u.forEach(fn=>{const Fn=fn.element;this._getPreviousPlayers(Fn,!1,fn.namespaceId,fn.triggerName,null).forEach(xr=>{Bu(yr,Fn,[]).push(xr),xr.destroy()})});const $i=Wt.filter(fn=>HD(fn,L,Y)),qi=new Map;jD(qi,this.driver,mn,Y,cc).forEach(fn=>{HD(fn,L,Y)&&$i.push(fn)});const Ua=new Map;Ve.forEach((fn,Fn)=>{jD(Ua,this.driver,new Set(fn),L,"!")}),$i.forEach(fn=>{const Fn=qi.get(fn),Kn=Ua.get(fn);qi.set(fn,Object.assign(Object.assign({},Fn),Kn))});const ps=[],Em=[],Dm={};b.forEach(fn=>{const{element:Fn,player:Kn,instruction:xr}=fn;if(o.has(Fn)){if(pe.has(Fn))return Kn.onDestroy(()=>tp(Fn,xr.toStyles)),Kn.disabled=!0,Kn.overrideTotalTime(xr.totalTime),void u.push(Kn);let Ho=Dm;if(Pr.size>1){let qs=Fn;const ju=[];for(;qs=qs.parentNode;){const wi=Pr.get(qs);if(wi){Ho=wi;break}ju.push(qs)}ju.forEach(wi=>Pr.set(wi,Ho))}const Fl=this._buildAnimation(Kn.namespaceId,xr,yr,p,Ua,qi);if(Kn.setRealPlayer(Fl),Ho===Dm)ps.push(Kn);else{const qs=this.playersByElement.get(Ho);qs&&qs.length&&(Kn.parentPlayer=wm(qs)),u.push(Kn)}}else k_(Fn,xr.fromStyles),Kn.onDestroy(()=>tp(Fn,xr.toStyles)),Em.push(Kn),pe.has(Fn)&&u.push(Kn)}),Em.forEach(fn=>{const Fn=p.get(fn.element);if(Fn&&Fn.length){const Kn=wm(Fn);fn.setRealPlayer(Kn)}}),u.forEach(fn=>{fn.parentPlayer?fn.syncPlayerEvents(fn.parentPlayer):fn.destroy()});for(let fn=0;fn<Wt.length;fn++){const Fn=Wt[fn],Kn=Fn[Id];if(z0(Fn,kb),Kn&&Kn.hasAnimation)continue;let xr=[];if(x.size){let Fl=x.get(Fn);Fl&&Fl.length&&xr.push(...Fl);let qs=this.driver.query(Fn,gT,!0);for(let ju=0;ju<qs.length;ju++){let wi=x.get(qs[ju]);wi&&wi.length&&xr.push(...wi)}}const Ho=xr.filter(Fl=>!Fl.destroyed);Ho.length?aP(this,Fn,Ho):this.processLeaveNode(Fn)}return Wt.length=0,ps.forEach(fn=>{this.players.push(fn),fn.onDone(()=>{fn.destroy();const Fn=this.players.indexOf(fn);this.players.splice(Fn,1)}),fn.play()}),ps}elementContainsData(r,e){let o=!1;const u=e[Id];return u&&u.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(r).elementContainsData(e)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,o,u,p){let b=[];if(e){const x=this.playersByQueriedElement.get(r);x&&(b=x)}else{const x=this.playersByElement.get(r);if(x){const L=!p||p==pv;x.forEach(Y=>{Y.queued||!L&&Y.triggerName!=u||b.push(Y)})}}return(o||u)&&(b=b.filter(x=>!(o&&o!=x.namespaceId||u&&u!=x.triggerName))),b}_beforeAnimationBuild(r,e,o){const p=e.element,b=e.isRemovalTransition?void 0:r,x=e.isRemovalTransition?void 0:e.triggerName;for(const L of e.timelines){const Y=L.element,pe=Y!==p,Me=Bu(o,Y,[]);this._getPreviousPlayers(Y,pe,b,x,e.toState).forEach(Ve=>{const at=Ve.getRealPlayer();at.beforeDestroy&&at.beforeDestroy(),Ve.destroy(),Me.push(Ve)})}k_(p,e.fromStyles)}_buildAnimation(r,e,o,u,p,b){const x=e.triggerName,L=e.element,Y=[],pe=new Set,Me=new Set,Ye=e.timelines.map(at=>{const _t=at.element;pe.add(_t);const Wt=_t[Id];if(Wt&&Wt.removedBeforeQueried)return new Dl(at.duration,at.delay);const ln=_t!==L,mn=function cP(n){const r=[];return GD(n,r),r}((o.get(_t)||eP).map(yr=>yr.getRealPlayer())).filter(yr=>!!yr.element&&yr.element===_t),or=p.get(_t),$n=b.get(_t),Er=pD(0,this._normalizer,0,at.keyframes,or,$n),wr=this._buildPlayer(at,Er,mn);if(at.subTimeline&&u&&Me.add(_t),ln){const yr=new IT(r,x,_t);yr.setRealPlayer(wr),Y.push(yr)}return wr});Y.forEach(at=>{Bu(this.playersByQueriedElement,at.element,[]).push(at),at.onDone(()=>function iP(n,r,e){let o;if(n instanceof Map){if(o=n.get(r),o){if(o.length){const u=o.indexOf(e);o.splice(u,1)}0==o.length&&n.delete(r)}}else if(o=n[r],o){if(o.length){const u=o.indexOf(e);o.splice(u,1)}0==o.length&&delete n[r]}return o}(this.playersByQueriedElement,at.element,at))}),pe.forEach(at=>Md(at,ED));const Ve=wm(Ye);return Ve.onDestroy(()=>{pe.forEach(at=>z0(at,ED)),tp(L,e.toStyles)}),Me.forEach(at=>{Bu(u,at,[]).push(Ve)}),Ve}_buildPlayer(r,e,o){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,o):new Dl(r.duration,r.delay)}}class IT{constructor(r,e,o){this.namespaceId=r,this.triggerName=e,this.element=o,this._player=new Dl,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>cT(r,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){Bu(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function Yb(n){return n&&1===n.nodeType}function UD(n,r){const e=n.style.display;return n.style.display=null!=r?r:"none",e}function jD(n,r,e,o,u){const p=[];e.forEach(L=>p.push(UD(L)));const b=[];o.forEach((L,Y)=>{const pe={};L.forEach(Me=>{const Ye=pe[Me]=r.computeStyle(Y,Me,u);(!Ye||0==Ye.length)&&(Y[Id]=tP,b.push(Y))}),n.set(Y,pe)});let x=0;return e.forEach(L=>UD(L,p[x++])),b}function VD(n,r){const e=new Map;if(n.forEach(x=>e.set(x,[])),0==r.length)return e;const u=new Set(r),p=new Map;function b(x){if(!x)return 1;let L=p.get(x);if(L)return L;const Y=x.parentNode;return L=e.has(Y)?Y:u.has(Y)?1:b(Y),p.set(x,L),L}return r.forEach(x=>{const L=b(x);1!==L&&e.get(L).push(x)}),e}function Md(n,r){var e;null===(e=n.classList)||void 0===e||e.add(r)}function z0(n,r){var e;null===(e=n.classList)||void 0===e||e.remove(r)}function aP(n,r,e){wm(e).onDone(()=>n.processLeaveNode(r))}function GD(n,r){for(let e=0;e<n.length;e++){const o=n[e];o instanceof Td?GD(o.players,r):r.push(o)}}function HD(n,r,e){const o=e.get(n);if(!o)return!1;let u=r.get(n);return u?o.forEach(p=>u.add(p)):r.set(n,o),e.delete(n),!0}class Jb{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(u,p)=>{},this._transitionEngine=new rP(r,e,o),this._timelineEngine=new KO(r,e,o),this._transitionEngine.onRemovalComplete=(u,p)=>this.onRemovalComplete(u,p)}registerTrigger(r,e,o,u,p){const b=r+"-"+u;let x=this._triggerCache[b];if(!x){const L=[],pe=vT(this._driver,p,L,[]);if(L.length)throw function YM(n,r){return new t.vHH(3404,Kr)}();x=function qO(n,r,e){return new ZO(n,r,e)}(u,pe,this._normalizer),this._triggerCache[b]=x}this._transitionEngine.registerTrigger(e,u,x)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,o,u){this._transitionEngine.insertNode(r,e,o,u)}onRemove(r,e,o,u){this._transitionEngine.removeNode(r,e,u||!1,o)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,o,u){if("@"==o.charAt(0)){const[p,b]=gD(o);this._timelineEngine.command(p,e,b,u)}else this._transitionEngine.trigger(r,e,o,u)}listen(r,e,o,u,p){if("@"==o.charAt(0)){const[b,x]=gD(o);return this._timelineEngine.listen(b,e,x,p)}return this._transitionEngine.listen(r,e,o,u,p)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let dP=(()=>{class n{constructor(e,o,u){this._element=e,this._startStyles=o,this._endStyles=u,this._state=0;let p=n.initialStylesByElement.get(e);p||n.initialStylesByElement.set(e,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&tp(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(tp(this._element,this._initialStyles),this._endStyles&&(tp(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(k_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(k_(this._element,this._endStyles),this._endStyles=null),tp(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function MT(n){let r=null;const e=Object.keys(n);for(let o=0;o<e.length;o++){const u=e[o];hP(u)&&(r=r||{},r[u]=n[u])}return r}function hP(n){return"display"===n||"position"===n}class $D{constructor(r,e,o,u){this.element=r,this.keyframes=e,this.options=o,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,e,o){return r.animate(e,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(o=>{"offset"!=o&&(r[o]=this._finished?e[o]:ID(this.element,o))})}this.currentSnapshot=r}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class fP{validateStyleProperty(r){return vD(r)}matchesElement(r,e){return!1}containsElement(r,e){return bD(r,e)}getParentElement(r){return hT(r)}query(r,e,o){return CD(r,e,o)}computeStyle(r,e,o){return window.getComputedStyle(r)[e]}animate(r,e,o,u,p,b=[]){const L={duration:o,delay:u,fill:0==u?"both":"forwards"};p&&(L.easing=p);const Y={},pe=b.filter(Ye=>Ye instanceof $D);(function _O(n,r){return 0===n||0===r})(o,u)&&pe.forEach(Ye=>{let Ve=Ye.currentSnapshot;Object.keys(Ve).forEach(at=>Y[at]=Ve[at])}),e=function yO(n,r,e){const o=Object.keys(e);if(o.length&&r.length){let p=r[0],b=[];if(o.forEach(x=>{p.hasOwnProperty(x)||b.push(x),p[x]=e[x]}),b.length)for(var u=1;u<r.length;u++){let x=r[u];b.forEach(function(L){x[L]=ID(n,L)})}}return r}(r,e=e.map(Ye=>Tm(Ye,!1)),Y);const Me=function uP(n,r){let e=null,o=null;return Array.isArray(r)&&r.length?(e=MT(r[0]),r.length>1&&(o=MT(r[r.length-1]))):r&&(e=MT(r)),e||o?new dP(n,e,o):null}(r,e);return new $D(r,e,L,Me)}}let pP=(()=>{class n extends Xm{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const u=Array.isArray(e)?iy(e):e;return qD(this._renderer,null,o,"register",[u]),new gP(o,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG(q))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class gP extends class _v{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new mP(this._id,r,e||{},this._renderer)}}class mP{constructor(r,e,o,u){this.id=r,this.element=e,this._renderer=u,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return qD(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,e;return null!==(e=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==e?e:0}}function qD(n,r,e,o,u){return n.setProperty(r,`@@${e}:${o}`,u)}const ZD="@.disabled";let _P=(()=>{class n{constructor(e,o,u){this.delegate=e,this.engine=o,this._zone=u,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(p,b)=>{const x=null==b?void 0:b.parentNode(p);x&&b.removeChild(x,p)}}createRenderer(e,o){const p=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let pe=this._rendererCache.get(p);return pe||(pe=new WD("",p,this.engine),this._rendererCache.set(p,pe)),pe}const b=o.id,x=o.id+"-"+this._currentId;this._currentId++,this.engine.register(x,e);const L=pe=>{Array.isArray(pe)?pe.forEach(L):this.engine.registerTrigger(b,x,e,pe.name,pe)};return o.data.animation.forEach(L),new yP(this,x,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,u){e>=0&&e<this._microtaskId?this._zone.run(()=>o(u)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[b,x]=p;b(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,u]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG(Jb),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class WD{constructor(r,e,o){this.namespaceId=r,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?u=>e.destroyNode(u):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,o,u=!0){this.delegate.insertBefore(r,e,o),this.engine.onInsert(this.namespaceId,e,r,u)}removeChild(r,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,o,u){this.delegate.setAttribute(r,e,o,u)}removeAttribute(r,e,o){this.delegate.removeAttribute(r,e,o)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,o,u){this.delegate.setStyle(r,e,o,u)}removeStyle(r,e,o){this.delegate.removeStyle(r,e,o)}setProperty(r,e,o){"@"==e.charAt(0)&&e==ZD?this.disableAnimations(r,!!o):this.delegate.setProperty(r,e,o)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,o){return this.delegate.listen(r,e,o)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class yP extends WD{constructor(r,e,o,u){super(e,o,u),this.factory=r,this.namespaceId=e}setProperty(r,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ZD?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,e.substr(1),o):this.delegate.setProperty(r,e,o)}listen(r,e,o){if("@"==e.charAt(0)){const u=function vP(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(r);let p=e.substr(1),b="";return"@"!=p.charAt(0)&&([p,b]=function bP(n){const r=n.indexOf(".");return[n.substring(0,r),n.substr(r+1)]}(p)),this.engine.listen(this.namespaceId,u,p,b,x=>{this.factory.scheduleListenerCallback(x._data||-1,o,x)})}return this.delegate.listen(r,e,o)}}let CP=(()=>{class n extends Jb{constructor(e,o,u){super(e.body,o,u)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(q),t.LFG(fT),t.LFG(ET))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const zD=new t.OlP("AnimationModuleType"),KD=[{provide:Xm,useClass:pP},{provide:ET,useFactory:function wP(){return new jO}},{provide:Jb,useClass:CP},{provide:t.FYo,useFactory:function TP(n,r,e){return new _P(n,r,e)},deps:[Za,Jb,t.R0b]}],YD=[{provide:fT,useFactory:()=>new fP},{provide:zD,useValue:"BrowserAnimations"},...KD],EP=[{provide:fT,useClass:wD},{provide:zD,useValue:"NoopAnimations"},...KD];let DP=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?EP:YD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:YD,imports:[Jc]}),n})();var JD=N(3692),QD=N(7300);const SP_firebaseConfig={apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"};!function Lr(n,r,e){(0,t.dwT)(n,r,e)}(OS,"es");let xP=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[h0]}),n.\u0275inj=t.cJS({providers:[ep,{provide:t.soG,useValue:"es"}],imports:[[Jc,DP,IS,be,yg,m_,vp,Ml,Gm.forRoot(AM),Nh,oy.forRoot({defaultLanguage:Sa.q.defaultLanguage}),(0,JD.hX)(()=>(0,JD.ZF)(SP_firebaseConfig)),(0,QD.Cm)(()=>(0,QD.ad)())]]}),n})();_s().bootstrapModule(xP).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(tt,A,N)=>{"use strict";N(8583);const T="undefined"!=typeof globalThis&&globalThis,S="undefined"!=typeof window&&window,R="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=T||"undefined"!=typeof global&&global||S||R,q=function(ee,...ve){if(q.translate){const Ze=q.translate(ee,ve);ee=Ze[0],ve=Ze[1]}let $e=J(ee[0],ee.raw[0]);for(let Ze=1;Ze<ee.length;Ze++)$e+=ve[Ze-1]+J(ee[Ze],ee.raw[Ze]);return $e};function J(ee,ve){return":"===ve.charAt(0)?ee.substring(function K(ee,ve){for(let $e=1,Ze=1;$e<ee.length;$e++,Ze++)if("\\"===ve[Ze])Ze++;else if(":"===ee[$e])return $e;throw new Error(`Unterminated $localize metadata block in "${ve}".`)}(ee,ve)+1):ee}G.$localize=q},5867:(tt,A,N)=>{"use strict";N.d(A,{C6:()=>t.C6,KN:()=>t.KN,Mq:()=>t.Mq,ZF:()=>t.ZF});var t=N(9681);(0,t.KN)("firebase","9.6.9","app")},3209:(tt,A,N)=>{"use strict";N.d(A,{ET:()=>Ml,hJ:()=>o_,oe:()=>am,JU:()=>La,ad:()=>sy,cf:()=>Lv,pl:()=>Cy,qs:()=>eg});var X,t=N(5861),T=N(9681),S=N(4859),R=N(1877),O=N(2090),G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},q={},J=J||{},K=G||self;function ee(){}function ve(l){var i=typeof l;return"array"==(i="object"!=i?i:l?Array.isArray(l)?"array":i:"null")||"object"==i&&"number"==typeof l.length}function $e(l){var i=typeof l;return"object"==i&&null!=l||"function"==i}var Xe="closure_uid_"+(1e9*Math.random()>>>0),pt=0;function De(l,i,c){return l.call.apply(l.bind,arguments)}function He(l,i,c){if(!l)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),l.apply(i,g)}}return function(){return l.apply(i,arguments)}}function Ae(l,i,c){return(Ae=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?De:He).apply(null,arguments)}function Qe(l,i){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),l.apply(this,h)}}function Be(l,i){function c(){}c.prototype=i.prototype,l.Z=i.prototype,l.prototype=new c,l.prototype.constructor=l,l.Vb=function(h,g,v){for(var D=Array(arguments.length-2),k=2;k<arguments.length;k++)D[k-2]=arguments[k];return i.prototype[g].apply(h,D)}}function Re(){this.s=this.s,this.o=this.o}var qe={};Re.prototype.s=!1,Re.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function Ze(l){return Object.prototype.hasOwnProperty.call(l,Xe)&&l[Xe]||(l[Xe]=++pt)}(this);delete qe[l]}},Re.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ue=Array.prototype.indexOf?function(l,i){return Array.prototype.indexOf.call(l,i,void 0)}:function(l,i){if("string"==typeof l)return"string"!=typeof i||1!=i.length?-1:l.indexOf(i,0);for(let c=0;c<l.length;c++)if(c in l&&l[c]===i)return c;return-1},lt=Array.prototype.forEach?function(l,i,c){Array.prototype.forEach.call(l,i,c)}:function(l,i,c){const h=l.length,g="string"==typeof l?l.split(""):l;for(let v=0;v<h;v++)v in g&&i.call(c,g[v],v,l)};function oe(l){return Array.prototype.concat.apply([],arguments)}function te(l){const i=l.length;if(0<i){const c=Array(i);for(let h=0;h<i;h++)c[h]=l[h];return c}return[]}function me(l){return/^[\s\xa0]*$/.test(l)}var bt,Ie=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function le(l,i){return-1!=l.indexOf(i)}function dt(l,i){return l<i?-1:l>i?1:0}e:{var un=K.navigator;if(un){var xt=un.userAgent;if(xt){bt=xt;break e}}bt=""}function Et(l,i,c){for(const h in l)i.call(c,l[h],h,l)}function Mt(l){const i={};for(const c in l)i[c]=l[c];return i}var nn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rr(l,i){let c,h;for(let g=1;g<arguments.length;g++){for(c in h=arguments[g],h)l[c]=h[c];for(let v=0;v<nn.length;v++)c=nn[v],Object.prototype.hasOwnProperty.call(h,c)&&(l[c]=h[c])}}function Ln(l){return Ln[" "](l),l}Ln[" "]=ee;var Yr,l,ur=le(bt,"Opera"),tr=le(bt,"Trident")||le(bt,"MSIE"),ti=le(bt,"Edge"),Un=ti||tr,kr=le(bt,"Gecko")&&!(le(bt.toLowerCase(),"webkit")&&!le(bt,"Edge"))&&!(le(bt,"Trident")||le(bt,"MSIE"))&&!le(bt,"Edge"),Zi=le(bt.toLowerCase(),"webkit")&&!le(bt,"Edge");function ao(){var l=K.document;return l?l.documentMode:void 0}e:{var pi="",Wi=(l=bt,kr?/rv:([^\);]+)(\)|;)/.exec(l):ti?/Edge\/([\d\.]+)/.exec(l):tr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Zi?/WebKit\/(\S+)/.exec(l):ur?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Wi&&(pi=Wi?Wi[1]:""),tr){var Qr=ao();if(null!=Qr&&Qr>parseFloat(pi)){Yr=String(Qr);break e}}Yr=pi}var zi={};var ke=K.document&&tr&&(ao()||parseInt(Yr,10))||void 0,st=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var l=!1,i=Object.defineProperty({},"passive",{get:function(){l=!0}});try{K.addEventListener("test",ee,i),K.removeEventListener("test",ee,i)}catch(c){}return l}();function et(l,i){this.type=l,this.g=this.target=i,this.defaultPrevented=!1}function ct(l,i){if(et.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var c=this.type=l.type,h=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=i,i=l.relatedTarget){if(kr){e:{try{Ln(i.nodeName);var g=!0;break e}catch(v){}g=!1}g||(i=null)}}else"mouseover"==c?i=l.fromElement:"mouseout"==c&&(i=l.toElement);this.relatedTarget=i,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Ot[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ct.Z.h.call(this)}}et.prototype.h=function(){this.defaultPrevented=!0},Be(ct,et);var Ot={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Lt="closure_listenable_"+(1e6*Math.random()|0),gt=0;function St(l,i,c,h,g){this.listener=l,this.proxy=null,this.src=i,this.type=c,this.capture=!!h,this.ia=g,this.key=++gt,this.ca=this.fa=!1}function pn(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function Qt(l){this.src=l,this.g={},this.h=0}function Tn(l,i){var c=i.type;if(c in l.g){var v,h=l.g[c],g=Ue(h,i);(v=0<=g)&&Array.prototype.splice.call(h,g,1),v&&(pn(i),0==l.g[c].length&&(delete l.g[c],l.h--))}}function xn(l,i,c,h){for(var g=0;g<l.length;++g){var v=l[g];if(!v.ca&&v.listener==i&&v.capture==!!c&&v.ia==h)return g}return-1}Qt.prototype.add=function(l,i,c,h,g){var v=l.toString();(l=this.g[v])||(l=this.g[v]=[],this.h++);var D=xn(l,i,h,g);return-1<D?(i=l[D],c||(i.fa=!1)):((i=new St(i,this.src,v,!!h,g)).fa=c,l.push(i)),i};var _n="closure_lm_"+(1e6*Math.random()|0),Yn={};function Sn(l,i,c,h,g){if(h&&h.once)return Ct(l,i,c,h,g);if(Array.isArray(i)){for(var v=0;v<i.length;v++)Sn(l,i[v],c,h,g);return null}return c=he(c),l&&l[Lt]?l.N(i,c,$e(h)?!!h.capture:!!h,g):Bn(l,i,c,!1,h,g)}function Bn(l,i,c,h,g,v){if(!i)throw Error("Invalid event type");var D=$e(g)?!!g.capture:!!g,k=dn(l);if(k||(l[_n]=k=new Qt(l)),(c=k.add(i,c,h,D,v)).proxy)return c;if(h=function En(){var i=yn;return function l(c){return i.call(l.src,l.listener,c)}}(),c.proxy=h,h.src=l,h.listener=c,l.addEventListener)st||(g=D),void 0===g&&(g=!1),l.addEventListener(i.toString(),h,g);else if(l.attachEvent)l.attachEvent($t(i.toString()),h);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(h)}return c}function Ct(l,i,c,h,g){if(Array.isArray(i)){for(var v=0;v<i.length;v++)Ct(l,i[v],c,h,g);return null}return c=he(c),l&&l[Lt]?l.O(i,c,$e(h)?!!h.capture:!!h,g):Bn(l,i,c,!0,h,g)}function Ke(l,i,c,h,g){if(Array.isArray(i))for(var v=0;v<i.length;v++)Ke(l,i[v],c,h,g);else h=$e(h)?!!h.capture:!!h,c=he(c),l&&l[Lt]?(l=l.i,(i=String(i).toString())in l.g&&-1<(c=xn(v=l.g[i],c,h,g))&&(pn(v[c]),Array.prototype.splice.call(v,c,1),0==v.length&&(delete l.g[i],l.h--))):l&&(l=dn(l))&&(i=l.g[i.toString()],l=-1,i&&(l=xn(i,c,h,g)),(c=-1<l?i[l]:null)&&Tt(c))}function Tt(l){if("number"!=typeof l&&l&&!l.ca){var i=l.src;if(i&&i[Lt])Tn(i.i,l);else{var c=l.type,h=l.proxy;i.removeEventListener?i.removeEventListener(c,h,l.capture):i.detachEvent?i.detachEvent($t(c),h):i.addListener&&i.removeListener&&i.removeListener(h),(c=dn(i))?(Tn(c,l),0==c.h&&(c.src=null,i[_n]=null)):pn(l)}}}function $t(l){return l in Yn?Yn[l]:Yn[l]="on"+l}function yn(l,i){if(l.ca)l=!0;else{i=new ct(i,this);var c=l.listener,h=l.ia||l.src;l.fa&&Tt(l),l=c.call(h,i)}return l}function dn(l){return(l=l[_n])instanceof Qt?l:null}var we="__closure_events_fn_"+(1e9*Math.random()>>>0);function he(l){return"function"==typeof l?l:(l[we]||(l[we]=function(i){return l.handleEvent(i)}),l[we])}function fe(){Re.call(this),this.i=new Qt(this),this.P=this,this.I=null}function Ge(l,i){var c,h=l.I;if(h)for(c=[];h;h=h.I)c.push(h);if(l=l.P,h=i.type||i,"string"==typeof i)i=new et(i,l);else if(i instanceof et)i.target=i.target||l;else{var g=i;rr(i=new et(h,l),g)}if(g=!0,c)for(var v=c.length-1;0<=v;v--){var D=i.g=c[v];g=Ne(D,h,!0,i)&&g}if(g=Ne(D=i.g=l,h,!0,i)&&g,g=Ne(D,h,!1,i)&&g,c)for(v=0;v<c.length;v++)g=Ne(D=i.g=c[v],h,!1,i)&&g}function Ne(l,i,c,h){if(!(i=l.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,v=0;v<i.length;++v){var D=i[v];if(D&&!D.ca&&D.capture==c){var k=D.listener,$=D.ia||D.src;D.fa&&Tn(l.i,D),g=!1!==k.call($,h)&&g}}return g&&!h.defaultPrevented}Be(fe,Re),fe.prototype[Lt]=!0,fe.prototype.removeEventListener=function(l,i,c,h){Ke(this,l,i,c,h)},fe.prototype.M=function(){if(fe.Z.M.call(this),this.i){var i,l=this.i;for(i in l.g){for(var c=l.g[i],h=0;h<c.length;h++)pn(c[h]);delete l.g[i],l.h--}}this.I=null},fe.prototype.N=function(l,i,c,h){return this.i.add(String(l),i,!1,c,h)},fe.prototype.O=function(l,i,c,h){return this.i.add(String(l),i,!0,c,h)};var Pt=K.JSON.stringify;function gn(){var l=nt;let i=null;return l.g&&(i=l.g,l.g=l.g.next,l.g||(l.h=null),i.next=null),i}var kn,Jn=new class{constructor(l,i){this.i=l,this.j=i,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new sr,l=>l.reset());class sr{constructor(){this.next=this.g=this.h=null}set(i,c){this.h=i,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}function fr(l){K.setTimeout(()=>{throw l},0)}function cn(l,i){kn||function en(){var l=K.Promise.resolve(void 0);kn=function(){l.then(Xt)}}(),Oe||(kn(),Oe=!0),nt.add(l,i)}var Oe=!1,nt=new class Pn{constructor(){this.h=this.g=null}add(i,c){const h=Jn.get();h.set(i,c),this.h?this.h.next=h:this.g=h,this.h=h}};function Xt(){for(var l;l=gn();){try{l.h.call(l.g)}catch(c){fr(c)}var i=Jn;i.j(l),100>i.h&&(i.h++,l.next=i.g,i.g=l)}Oe=!1}function Dn(l,i){fe.call(this),this.h=l||1,this.g=i||K,this.j=Ae(this.kb,this),this.l=Date.now()}function Ar(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Ft(l,i,c){if("function"==typeof l)c&&(l=Ae(l,c));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=Ae(l.handleEvent,l)}return 2147483647<Number(i)?-1:K.setTimeout(l,i||0)}function jt(l){l.g=Ft(()=>{l.g=null,l.i&&(l.i=!1,jt(l))},l.j);const i=l.h;l.h=null,l.m.apply(null,i)}Be(Dn,fe),(X=Dn.prototype).da=!1,X.S=null,X.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ge(this,"tick"),this.da&&(Ar(this),this.start()))}},X.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},X.M=function(){Dn.Z.M.call(this),Ar(this),delete this.g};class ft extends Re{constructor(i,c){super(),this.m=i,this.j=c,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:jt(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bt(l){Re.call(this),this.h=l,this.g={}}Be(Bt,Re);var Zt=[];function vn(l,i,c,h){Array.isArray(c)||(c&&(Zt[0]=c.toString()),c=Zt);for(var g=0;g<c.length;g++){var v=Sn(i,c[g],h||l.handleEvent,!1,l.h||l);if(!v)break;l.g[v.key]=v}}function zt(l){Et(l.g,function(i,c){this.g.hasOwnProperty(c)&&Tt(i)},l),l.g={}}function mt(){this.g=!0}function hn(l,i,c,h){l.info(function(){return"XMLHTTP TEXT ("+i+"): "+function Lr(l,i){if(!l.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(l=0;l<c.length;l++)if(Array.isArray(c[l])){var h=c[l];if(!(2>h.length)){var g=h[1];if(Array.isArray(g)&&!(1>g.length)){var v=g[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var D=1;D<g.length;D++)g[D]=""}}}return Pt(c)}catch(k){return i}}(l,c)+(h?" "+h:"")})}Bt.prototype.M=function(){Bt.Z.M.call(this),zt(this)},Bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mt.prototype.Aa=function(){this.g=!1},mt.prototype.info=function(){};var gr={},Zn=null;function co(){return Zn=Zn||new fe}function Ki(l){et.call(this,gr.Ma,l)}function an(l){const i=co();Ge(i,new Ki(i,l))}function vo(l,i){et.call(this,gr.STAT_EVENT,l),this.stat=i}function Dr(l){const i=co();Ge(i,new vo(i,l))}function mr(l,i){et.call(this,gr.Na,l),this.size=i}function ni(l,i){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){l()},i)}gr.Ma="serverreachability",Be(Ki,et),gr.STAT_EVENT="statevent",Be(vo,et),gr.Na="timingevent",Be(mr,et);var Br={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},$o={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ti(){}function nr(){}Ti.prototype.h=null;var Ai,ts={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zs(){et.call(this,"d")}function bo(){et.call(this,"c")}function Xr(){}function ns(l,i,c,h){this.l=l,this.j=i,this.m=c,this.X=h||1,this.V=new Bt(this),this.P=ki,this.W=new Dn(l=Un?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new _i}function _i(){this.i=null,this.g="",this.h=!1}Be(Zs,et),Be(bo,et),Be(Xr,Ti),Xr.prototype.g=function(){return new XMLHttpRequest},Xr.prototype.i=function(){return{}},Ai=new Xr;var ki=45e3,ha={},ko={};function Ws(l,i,c){l.K=1,l.v=Ce(ce(i)),l.s=c,l.U=!0,xs(l,null)}function xs(l,i){l.F=Date.now(),Is(l),l.A=ce(l.v);var c=l.A,h=l.X;Array.isArray(h)||(h=[String(h)]),ms(c.h,"t",h),l.C=0,c=l.l.H,l.h=new _i,l.g=$u(l.l,c?i:null,!l.s),0<l.O&&(l.L=new ft(Ae(l.Ia,l,l.g),l.O)),vn(l.V,l.g,"readystatechange",l.gb),i=l.H?Mt(l.H):{},l.s?(l.u||(l.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,i)):(l.u="GET",l.g.ea(l.A,l.u,null,i)),an(1),function Gt(l,i,c,h,g,v){l.info(function(){if(l.g)if(v)for(var D="",k=v.split("&"),$=0;$<k.length;$++){var ne=k[$].split("=");if(1<ne.length){var Se=ne[0];ne=ne[1];var Le=Se.split("_");D=2<=Le.length&&"type"==Le[1]?D+(Se+"=")+ne+"&":D+(Se+"=redacted&")}}else D=null;else D=v;return"XMLHTTP REQ ("+h+") [attempt "+g+"]: "+i+"\n"+c+"\n"+D})}(l.j,l.u,l.A,l.m,l.X,l.s)}function Ei(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function As(l,i,c){let g,h=!0;for(;!l.I&&l.C<c.length;){if(g=zc(l,c),g==ko){4==i&&(l.o=4,Dr(14),h=!1),hn(l.j,l.m,null,"[Incomplete Response]");break}if(g==ha){l.o=4,Dr(15),hn(l.j,l.m,c,"[Invalid Chunk]"),h=!1;break}hn(l.j,l.m,g,null),ja(l,g)}Ei(l)&&g!=ko&&g!=ha&&(l.h.g="",l.C=0),4!=i||0!=c.length||l.h.h||(l.o=1,Dr(16),h=!1),l.i=l.i&&h,h?0<c.length&&!l.aa&&(l.aa=!0,(i=l.l).g==l&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),Fd(i),i.L=!0,Dr(11))):(hn(l.j,l.m,c,"[Invalid Chunked Response]"),Fo(l),is(l))}function zc(l,i){var c=l.C,h=i.indexOf("\n",c);return-1==h?ko:(c=Number(i.substring(c,h)),isNaN(c)?ha:(h+=1)+c>i.length?ko:(i=i.substr(h,c),l.C=h+c,i))}function Is(l){l.Y=Date.now()+l.P,zs(l,l.P)}function zs(l,i){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ni(Ae(l.eb,l),i)}function rs(l){l.B&&(K.clearTimeout(l.B),l.B=null)}function is(l){0==l.l.G||l.I||Ld(l.l,l)}function Fo(l){rs(l);var i=l.L;i&&"function"==typeof i.na&&i.na(),l.L=null,Ar(l.W),zt(l.V),l.g&&(i=l.g,l.g=null,i.abort(),i.na())}function ja(l,i){try{var c=l.l;if(0!=c.G&&(c.g==l||Ha(c.i,l)))if(c.I=l.N,!l.J&&Ha(c.i,l)&&3==c.G){try{var h=c.Ca.g.parse(i)}catch(ne){h=null}if(Array.isArray(h)&&3==h.length){var g=h;if(0==g[0])e:if(c.u)c.ta=g[1],0<c.ta-c.U&&37500>g[2]&&c.N&&0==c.A&&!c.v&&(c.v=ni(Ae(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<l.F))break e;Hl(c),wo(c)}Vl(c),Dr(18)}if(1>=fc(c.i)&&c.ka){try{c.ka()}catch(ne){}c.ka=void 0}}else qo(c,11)}else if((l.J||c.g==l)&&Hl(c),!me(i))for(g=c.Ca.g.parse(i),i=0;i<g.length;i++){let ne=g[i];if(c.U=ne[0],ne=ne[1],2==c.G)if("c"==ne[0]){c.J=ne[1],c.la=ne[2];const Se=ne[3];null!=Se&&(c.ma=Se,c.h.info("VER="+c.ma));const Le=ne[4];null!=Le&&(c.za=Le,c.h.info("SVER="+c.za));const rt=ne[5];null!=rt&&"number"==typeof rt&&0<rt&&(c.K=h=1.5*rt,c.h.info("backChannelRequestTimeoutMs_="+h)),h=c;const wt=l.g;if(wt){const Nt=wt.g?wt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Nt){var v=h.i;!v.g&&(le(Nt,"spdy")||le(Nt,"quic")||le(Nt,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(Di(v,v.h),v.h=null))}if(h.D){const Mn=wt.g?wt.g.getResponseHeader("X-HTTP-Session-Id"):null;Mn&&(h.sa=Mn,z(h.F,h.D,Mn))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-l.F,c.h.info("Handshake RTT: "+c.O+"ms"));var D=l;if((h=c).oa=Bd(h,h.H?h.la:null,h.W),D.J){Yc(h.i,D);var k=D,$=h.K;$&&k.setTimeout($),k.B&&(rs(k),Is(k)),h.g=D}else Qc(h);0<c.l.length&&Ps(c)}else"stop"!=ne[0]&&"close"!=ne[0]||qo(c,7);else 3==c.G&&("stop"==ne[0]||"close"==ne[0]?"stop"==ne[0]?qo(c,7):Co(c):"noop"!=ne[0]&&c.j&&c.j.wa(ne),c.A=0)}an(4)}catch(ne){}}function ae(l,i){if(l.forEach&&"function"==typeof l.forEach)l.forEach(i,void 0);else if(ve(l)||"string"==typeof l)lt(l,i,void 0);else{if(l.T&&"function"==typeof l.T)var c=l.T();else if(l.R&&"function"==typeof l.R)c=void 0;else if(ve(l)||"string"==typeof l){c=[];for(var h=l.length,g=0;g<h;g++)c.push(g)}else for(g in c=[],h=0,l)c[h++]=g;h=function gs(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(ve(l)){for(var i=[],c=l.length,h=0;h<c;h++)i.push(l[h]);return i}for(h in i=[],c=0,l)i[c++]=l[h];return i}(l),g=h.length;for(var v=0;v<g;v++)i.call(void 0,h[v],c&&c[v],l)}}function _e(l,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(l)if(l instanceof _e)for(c=l.T(),h=0;h<c.length;h++)this.set(c[h],l.get(c[h]));else for(h in l)this.set(h,l[h])}function ie(l){if(l.i!=l.g.length){for(var i=0,c=0;i<l.g.length;){var h=l.g[i];P(l.h,h)&&(l.g[c++]=h),i++}l.g.length=c}if(l.i!=l.g.length){var g={};for(c=i=0;i<l.g.length;)P(g,h=l.g[i])||(l.g[c++]=h,g[h]=1),i++;l.g.length=c}}function P(l,i){return Object.prototype.hasOwnProperty.call(l,i)}(X=ns.prototype).setTimeout=function(l){this.P=l},X.gb=function(l){l=l.target;const i=this.L;i&&3==Uo(l)?i.l():this.Ia(l)},X.Ia=function(l){try{if(l==this.g)e:{const Se=Uo(this.g);var i=this.g.Da();const Le=this.g.ba();if(!(3>Se)&&(3!=Se||Un||this.g&&(this.h.h||this.g.ga()||Hu(this.g)))){this.I||4!=Se||7==i||an(8==i||0>=Le?3:2),rs(this);var c=this.g.ba();this.N=c;t:if(Ei(this)){var h=Hu(this.g);l="";var g=h.length,v=4==Uo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Fo(this),is(this);var D="";break t}this.h.i=new K.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,l+=this.h.i.decode(h[i],{stream:v&&i==g-1});h.splice(0,g),this.h.g+=l,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function Kt(l,i,c,h,g,v,D){l.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+g+"]: "+i+"\n"+c+"\n"+v+" "+D})}(this.j,this.u,this.A,this.m,this.X,Se,c),this.i){if(this.$&&!this.J){t:{if(this.g){var k,$=this.g;if((k=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!me(k)){var ne=k;break t}}ne=null}if(!(c=ne)){this.i=!1,this.o=3,Dr(12),Fo(this),is(this);break e}hn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ja(this,c)}this.U?(As(this,Se,D),Un&&this.i&&3==Se&&(vn(this.V,this.W,"tick",this.fb),this.W.start())):(hn(this.j,this.m,D,null),ja(this,D)),4==Se&&Fo(this),this.i&&!this.I&&(4==Se?Ld(this.l,this):(this.i=!1,Is(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Dr(12)):(this.o=0,Dr(13)),Fo(this),is(this)}}}catch(Se){}},X.fb=function(){if(this.g){var l=Uo(this.g),i=this.g.ga();this.C<i.length&&(rs(this),As(this,l,i),this.i&&4!=l&&Is(this))}},X.cancel=function(){this.I=!0,Fo(this)},X.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function dr(l,i){l.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(an(3),Dr(17)),Fo(this),this.o=2,is(this)):zs(this,this.Y-l)},(X=_e.prototype).R=function(){ie(this);for(var l=[],i=0;i<this.g.length;i++)l.push(this.h[this.g[i]]);return l},X.T=function(){return ie(this),this.g.concat()},X.get=function(l,i){return P(this.h,l)?this.h[l]:i},X.set=function(l,i){P(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=i},X.forEach=function(l,i){for(var c=this.T(),h=0;h<c.length;h++){var g=c[h],v=this.get(g);l.call(i,v,g,this)}};var j=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Z(l,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof Z){this.g=void 0!==i?i:l.g,ge(this,l.j),this.s=l.s,de(this,l.i),be(this,l.m),this.l=l.l,i=l.h;var c=new Ms;c.i=i.i,i.g&&(c.g=new _e(i.g),c.h=i.h),je(this,c),this.o=l.o}else l&&(c=String(l).match(j))?(this.g=!!i,ge(this,c[1]||"",!0),this.s=Vt(c[2]||""),de(this,c[3]||"",!0),be(this,c[4]),this.l=Vt(c[5]||"",!0),je(this,c[6]||"",!0),this.o=Vt(c[7]||"")):(this.g=!!i,this.h=new Ms(null,this.g))}function ce(l){return new Z(l)}function ge(l,i,c){l.j=c?Vt(i,!0):i,l.j&&(l.j=l.j.replace(/:$/,""))}function de(l,i,c){l.i=c?Vt(i,!0):i}function be(l,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);l.m=i}else l.m=null}function je(l,i,c){i instanceof Ms?(l.h=i,function jr(l,i){i&&!l.j&&(Lo(l),l.i=null,l.g.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(Va(this,h),ms(this,g,c))},l)),l.j=i}(l.h,l.g)):(c||(i=tn(i,Ir)),l.h=new Ms(i,l.g))}function z(l,i,c){l.h.set(i,c)}function Ce(l){return z(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Vt(l,i){return l?i?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function tn(l,i,c){return"string"==typeof l?(l=encodeURI(l).replace(i,Yt),c&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Yt(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Z.prototype.toString=function(){var l=[],i=this.j;i&&l.push(tn(i,sn,!0),":");var c=this.i;return(c||"file"==i)&&(l.push("//"),(i=this.s)&&l.push(tn(i,sn,!0),"@"),l.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&l.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&l.push("/"),l.push(tn(c,"/"==c.charAt(0)?Ur:An,!0))),(c=this.h.toString())&&l.push("?",c),(c=this.o)&&l.push("#",tn(c,Yi)),l.join("")};var sn=/[#\/\?@]/g,An=/[#\?:]/g,Ur=/[#\?]/g,Ir=/[#\?@]/g,Yi=/#/g;function Ms(l,i){this.h=this.g=null,this.i=l||null,this.j=!!i}function Lo(l){l.g||(l.g=new _e,l.h=0,l.i&&function V(l,i){if(l){l=l.split("&");for(var c=0;c<l.length;c++){var h=l[c].indexOf("="),g=null;if(0<=h){var v=l[c].substring(0,h);g=l[c].substring(h+1)}else v=l[c];i(v,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(i,c){l.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function Va(l,i){Lo(l),i=hc(l,i),P(l.g.h,i)&&(l.i=null,l.h-=l.g.get(i).length,P((l=l.g).h,i)&&(delete l.h[i],l.i--,l.g.length>2*l.i&&ie(l)))}function Ga(l,i){return Lo(l),i=hc(l,i),P(l.g.h,i)}function ms(l,i,c){Va(l,i),0<c.length&&(l.i=null,l.g.set(hc(l,i),te(c)),l.h+=c.length)}function hc(l,i){return i=String(i),l.j&&(i=i.toLowerCase()),i}function Vu(l){this.l=l||pr,l=K.PerformanceNavigationTiming?0<(l=K.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(X=Ms.prototype).add=function(l,i){Lo(this),this.i=null,l=hc(this,l);var c=this.g.get(l);return c||this.g.set(l,c=[]),c.push(i),this.h+=1,this},X.forEach=function(l,i){Lo(this),this.g.forEach(function(c,h){lt(c,function(g){l.call(i,g,h,this)},this)},this)},X.T=function(){Lo(this);for(var l=this.g.R(),i=this.g.T(),c=[],h=0;h<i.length;h++)for(var g=l[h],v=0;v<g.length;v++)c.push(i[h]);return c},X.R=function(l){Lo(this);var i=[];if("string"==typeof l)Ga(this,l)&&(i=oe(i,this.g.get(hc(this,l))));else{l=this.g.R();for(var c=0;c<l.length;c++)i=oe(i,l[c])}return i},X.set=function(l,i){return Lo(this),this.i=null,Ga(this,l=hc(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[i]),this.h+=1,this},X.get=function(l,i){return l&&0<(l=this.R(l)).length?String(l[0]):i},X.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],i=this.g.T(),c=0;c<i.length;c++){var h=i[c],g=encodeURIComponent(String(h));h=this.R(h);for(var v=0;v<h.length;v++){var D=g;""!==h[v]&&(D+="="+encodeURIComponent(String(h[v]))),l.push(D)}}return this.i=l.join("&")};var pr=10;function Pd(l){return!!l.h||!!l.g&&l.g.size>=l.j}function fc(l){return l.h?1:l.g?l.g.size:0}function Ha(l,i){return l.h?l.h==i:!!l.g&&l.g.has(i)}function Di(l,i){l.g?l.g.add(i):l.h=i}function Yc(l,i){l.h&&l.h==i?l.h=null:l.g&&l.g.has(i)&&l.g.delete(i)}function fa(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let i=l.i;for(const c of l.g.values())i=i.concat(c.D);return i}return te(l.i)}function Os(){}function Si(){this.g=new Os}function Ll(l,i,c){const h=c||"";try{ae(l,function(g,v){let D=g;$e(g)&&(D=Pt(g)),i.push(h+v+"="+encodeURIComponent(D))})}catch(g){throw i.push(h+"type="+encodeURIComponent("_badmap")),g}}function Bl(l,i,c,h,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(h)}catch(v){}}function Bo(l){this.l=l.$b||null,this.j=l.ib||!1}function Ks(l,i){fe.call(this),this.D=l,this.u=i,this.m=void 0,this.readyState=qa,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Vu.prototype.cancel=function(){if(this.i=fa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},Os.prototype.stringify=function(l){return K.JSON.stringify(l,void 0)},Os.prototype.parse=function(l){return K.JSON.parse(l,void 0)},Be(Bo,Ti),Bo.prototype.g=function(){return new Ks(this.l,this.j)},Bo.prototype.i=function(l){return function(){return l}}({}),Be(Ks,fe);var qa=0;function jn(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function Nd(l){l.readyState=4,l.l=null,l.j=null,l.A=null,pa(l)}function pa(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(X=Ks.prototype).open=function(l,i){if(this.readyState!=qa)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=i,this.readyState=1,pa(this)},X.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(i.body=l),(this.D||K).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},X.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nd(this)),this.readyState=qa},X.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,pa(this)),this.g&&(this.readyState=3,pa(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;jn(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},X.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var i=l.value?l.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!l.done}))&&(this.response=this.responseText+=i)}l.done?Nd(this):pa(this),3==this.readyState&&jn(this)}},X.Ua=function(l){this.g&&(this.response=this.responseText=l,Nd(this))},X.Ta=function(l){this.g&&(this.response=l,Nd(this))},X.ha=function(){this.g&&Nd(this)},X.setRequestHeader=function(l,i){this.v.append(l,i)},X.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},X.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],i=this.h.entries();for(var c=i.next();!c.done;)l.push((c=c.value)[0]+": "+c[1]),c=i.next();return l.join("\r\n")},Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Gu=K.JSON.parse;function ii(l){fe.call(this),this.headers=new _e,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=np,this.K=this.L=!1}Be(ii,fe);var np="",Za=/^https?$/i,Rd=["POST","PUT"];function Tr(l){return"content-type"==l.toLowerCase()}function Ul(l,i){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=i,l.m=5,Fi(l),ga(l)}function Fi(l){l.D||(l.D=!0,Ge(l,"complete"),Ge(l,"error"))}function jl(l){if(l.h&&void 0!==J&&(!l.C[1]||4!=Uo(l)||2!=l.ba()))if(l.v&&4==Uo(l))Ft(l.Fa,0,l);else if(Ge(l,"readystatechange"),4==Uo(l)){l.h=!1;try{const k=l.ba();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var c;if(!(c=i)){var h;if(h=0===k){var g=String(l.H).match(j)[1]||null;if(!g&&K.self&&K.self.location){var v=K.self.location.protocol;g=v.substr(0,v.length-1)}h=!Za.test(g?g.toLowerCase():"")}c=h}if(c)Ge(l,"complete"),Ge(l,"success");else{l.m=6;try{var D=2<Uo(l)?l.g.statusText:""}catch($){D=""}l.j=D+" ["+l.ba()+"]",Fi(l)}}finally{ga(l)}}}function ga(l,i){if(l.g){Ys(l);const c=l.g,h=l.C[0]?ee:null;l.g=null,l.C=null,i||Ge(l,"ready");try{c.onreadystatechange=h}catch(g){}}}function Ys(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(K.clearTimeout(l.A),l.A=null)}function Uo(l){return l.g?l.g.readyState:0}function Hu(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case np:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(i){return null}}function pc(l,i,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=function ag(l){let i="";return Et(l,function(c,h){i+=h,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof l?null!=c&&encodeURIComponent(String(c)):z(l,i,c))}function Wa(l,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[l]||i}function ma(l){this.za=0,this.l=[],this.h=new mt,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wa("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wa("baseRetryDelayMs",5e3,l),this.$a=Wa("retryDelaySeedMs",1e4,l),this.Ya=Wa("forwardChannelMaxRetries",2,l),this.ra=Wa("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new Vu(l&&l.concurrentRequestLimit),this.Ca=new Si,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Co(l){if(kd(l),3==l.G){var i=l.V++,c=ce(l.F);z(c,"SID",l.J),z(c,"RID",i),z(c,"TYPE","terminate"),gc(l,c),(i=new ns(l,l.h,i,void 0)).K=2,i.v=Ce(ce(c)),c=!1,K.navigator&&K.navigator.sendBeacon&&(c=K.navigator.sendBeacon(i.v.toString(),"")),!c&&K.Image&&((new Image).src=i.v,c=!0),c||(i.g=$u(i.l,null),i.g.ea(i.v)),i.F=Date.now(),Is(i)}$l(l)}function wo(l){l.g&&(Fd(l),l.g.cancel(),l.g=null)}function kd(l){wo(l),l.u&&(K.clearTimeout(l.u),l.u=null),Hl(l),l.i.cancel(),l.m&&("number"==typeof l.m&&K.clearTimeout(l.m),l.m=null)}function _s(l,i){l.l.push(new class{constructor(l,i){this.h=l,this.g=i}}(l.Za++,i)),3==l.G&&Ps(l)}function Ps(l){Pd(l.i)||l.m||(l.m=!0,cn(l.Ha,l),l.C=0)}function Wh(l,i){var c;c=i?i.m:l.V++;const h=ce(l.F);z(h,"SID",l.J),z(h,"RID",c),z(h,"AID",l.U),gc(l,h),l.o&&l.s&&pc(h,l.o,l.s),c=new ns(l,l.h,c,l.C+1),null===l.o&&(c.H=l.s),i&&(l.l=i.D.concat(l.l)),i=zh(l,c,1e3),c.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),Di(l.i,c),Ws(c,h,i)}function gc(l,i){l.j&&ae({},function(c,h){z(i,h,c)})}function zh(l,i,c){c=Math.min(l.l.length,c);var h=l.j?Ae(l.j.Oa,l.j,l):null;e:{var g=l.l;let v=-1;for(;;){const D=["count="+c];-1==v?0<c?(v=g[0].h,D.push("ofs="+v)):v=0:D.push("ofs="+v);let k=!0;for(let $=0;$<c;$++){let ne=g[$].h;const Se=g[$].g;if(ne-=v,0>ne)v=Math.max(0,g[$].h-100),k=!1;else try{Ll(Se,D,"req"+ne+"_")}catch(Le){h&&h(Se)}}if(k){h=D.join("&");break e}}}return l=l.l.splice(0,c),i.D=l,h}function Qc(l){l.g||l.u||(l.Y=1,cn(l.Ga,l),l.A=0)}function Vl(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=ni(Ae(l.Ga,l),Js(l,l.A)),l.A++,0))}function Fd(l){null!=l.B&&(K.clearTimeout(l.B),l.B=null)}function Gl(l){l.g=new ns(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var i=ce(l.oa);z(i,"RID","rpc"),z(i,"SID",l.J),z(i,"CI",l.N?"0":"1"),z(i,"AID",l.U),gc(l,i),z(i,"TYPE","xmlhttp"),l.o&&l.s&&pc(i,l.o,l.s),l.K&&l.g.setTimeout(l.K);var c=l.g;l=l.la,c.K=1,c.v=Ce(ce(i)),c.s=null,c.U=!0,xs(c,l)}function Hl(l){null!=l.v&&(K.clearTimeout(l.v),l.v=null)}function Ld(l,i){var c=null;if(l.g==i){Hl(l),Fd(l),l.g=null;var h=2}else{if(!Ha(l.i,i))return;c=i.D,Yc(l.i,i),h=1}if(l.I=i.N,0!=l.G)if(i.i)if(1==h){c=i.s?i.s.length:0,i=Date.now()-i.F;var g=l.C;Ge(h=co(),new mr(h,c,i,g)),Ps(l)}else Qc(l);else if(3==(g=i.o)||0==g&&0<l.I||!(1==h&&function Jc(l,i){return!(fc(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=i.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=ni(Ae(l.Ha,l,i),Js(l,l.C)),l.C++,0)))}(l,i)||2==h&&Vl(l)))switch(c&&0<c.length&&(i=l.i,i.i=i.i.concat(c)),g){case 1:qo(l,5);break;case 4:qo(l,10);break;case 3:qo(l,6);break;default:qo(l,2)}}function Js(l,i){let c=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(c*=2),c*i}function qo(l,i){if(l.h.info("Error code "+i),2==i){var c=null;l.j&&(c=null);var h=Ae(l.jb,l);c||(c=new Z("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||ge(c,"https"),Ce(c)),function $a(l,i){const c=new mt;if(K.Image){const h=new Image;h.onload=Qe(Bl,c,h,"TestLoadImage: loaded",!0,i),h.onerror=Qe(Bl,c,h,"TestLoadImage: error",!1,i),h.onabort=Qe(Bl,c,h,"TestLoadImage: abort",!1,i),h.ontimeout=Qe(Bl,c,h,"TestLoadImage: timeout",!1,i),K.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=l}else i(!1)}(c.toString(),h)}else Dr(2);l.G=0,l.j&&l.j.va(i),$l(l),kd(l)}function $l(l){l.G=0,l.I=-1,l.j&&((0!=fa(l.i).length||0!=l.l.length)&&(l.i.i.length=0,te(l.l),l.l.length=0),l.j.ua())}function Bd(l,i,c){let h=function xe(l){return l instanceof Z?ce(l):new Z(l,void 0)}(c);if(""!=h.i)i&&de(h,i+"."+h.i),be(h,h.m);else{const g=K.location;h=function ot(l,i,c,h){var g=new Z(null,void 0);return l&&ge(g,l),i&&de(g,i),c&&be(g,c),h&&(g.l=h),g}(g.protocol,i?i+"."+g.hostname:g.hostname,+g.port,c)}return l.aa&&Et(l.aa,function(g,v){z(h,v,g)}),c=l.sa,(i=l.D)&&c&&z(h,i,c),z(h,"VER",l.ma),gc(l,h),h}function $u(l,i,c){if(i&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new ii(c&&l.Ba&&!l.qa?new Bo({ib:!0}):l.qa)).L=l.H,i}function ql(){}function qu(){if(tr&&!(10<=Number(ke)))throw Error("Environmental error: no available transport.")}function Qs(l,i){fe.call(this),this.g=new ma(i),this.l=l,this.h=i&&i.messageUrlParams||null,l=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(l?l["X-WebChannel-Content-Type"]=i.messageContentType:l={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(l?l["X-WebChannel-Client-Profile"]=i.ya:l={"X-WebChannel-Client-Profile":i.ya}),this.g.P=l,(l=i&&i.httpHeadersOverwriteParam)&&!me(l)&&(this.g.o=l),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!me(i)&&(this.g.D=i,null!==(l=this.h)&&i in l&&i in(l=this.h)&&delete l[i]),this.j=new oi(this)}function os(l){Zs.call(this);var i=l.__sm__;if(i){e:{for(const c in i){l=c;break e}l=void 0}(this.i=l)&&(l=this.i,i=null!==i&&l in i?i[l]:void 0),this.data=i}else this.data=l}function Ns(){bo.call(this),this.status=1}function oi(l){this.g=l}(X=ii.prototype).ea=function(l,i,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);i=i?i.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ai.g(),this.C=function ri(l){return l.h||(l.h=l.i())}(this.u?this.u:Ai),this.g.onreadystatechange=Ae(this.Fa,this);try{this.F=!0,this.g.open(i,String(l),!0),this.F=!1}catch(v){return void Ul(this,v)}l=c||"";const g=new _e(this.headers);h&&ae(h,function(v,D){g.set(D,v)}),h=function ue(l){e:{var i=Tr;const c=l.length,h="string"==typeof l?l.split(""):l;for(let g=0;g<c;g++)if(g in h&&i.call(void 0,h[g],g,l)){i=g;break e}i=-1}return 0>i?null:"string"==typeof l?l.charAt(i):l[i]}(g.T()),c=K.FormData&&l instanceof K.FormData,!(0<=Ue(Rd,i))||h||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,D){this.g.setRequestHeader(D,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ys(this),0<this.B&&((this.K=function At(l){return tr&&function Fr(){return function wn(l){var i=zi;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=l(9)}(function(){let l=0;const i=Ie(String(Yr)).split("."),c=Ie("9").split("."),h=Math.max(i.length,c.length);for(let D=0;0==l&&D<h;D++){var g=i[D]||"",v=c[D]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==g[0].length&&0==v[0].length)break;l=dt(0==g[1].length?0:parseInt(g[1],10),0==v[1].length?0:parseInt(v[1],10))||dt(0==g[2].length,0==v[2].length)||dt(g[2],v[2]),g=g[3],v=v[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ae(this.pa,this)):this.A=Ft(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(v){Ul(this,v)}},X.pa=function(){void 0!==J&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ge(this,"timeout"),this.abort(8))},X.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,Ge(this,"complete"),Ge(this,"abort"),ga(this))},X.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ga(this,!0)),ii.Z.M.call(this)},X.Fa=function(){this.s||(this.F||this.v||this.l?jl(this):this.cb())},X.cb=function(){jl(this)},X.ba=function(){try{return 2<Uo(this)?this.g.status:-1}catch(l){return-1}},X.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},X.Qa=function(l){if(this.g){var i=this.g.responseText;return l&&0==i.indexOf(l)&&(i=i.substring(l.length)),Gu(i)}},X.Da=function(){return this.m},X.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(X=ma.prototype).ma=8,X.G=1,X.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(i){}},X.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const g=new ns(this,this.h,l,void 0);let v=this.s;if(this.P&&(v?(v=Mt(v),rr(v,this.P)):v=this.P),null===this.o&&(g.H=v),this.ja)e:{for(var i=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(i+=h)){i=c;break e}if(4096===i||c===this.l.length-1){i=c+1;break e}}i=1e3}else i=1e3;i=zh(this,g,i),z(c=ce(this.F),"RID",l),z(c,"CVER",22),this.D&&z(c,"X-HTTP-Session-Id",this.D),gc(this,c),this.o&&v&&pc(c,this.o,v),Di(this.i,g),this.Ra&&z(c,"TYPE","init"),this.ja?(z(c,"$req",i),z(c,"SID","null"),g.$=!0,Ws(g,c,null)):Ws(g,c,i),this.G=2}}else 3==this.G&&(l?Wh(this,l):0==this.l.length||Pd(this.i)||Wh(this))},X.Ga=function(){if(this.u=null,Gl(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=ni(Ae(this.bb,this),l)}},X.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Dr(10),wo(this),Gl(this))},X.ab=function(){null!=this.v&&(this.v=null,wo(this),Vl(this),Dr(19))},X.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Dr(2)):(this.h.info("Failed to ping google.com"),Dr(1))},(X=ql.prototype).xa=function(){},X.wa=function(){},X.va=function(){},X.ua=function(){},X.Oa=function(){},qu.prototype.g=function(l,i){return new Qs(l,i)},Be(Qs,fe),Qs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,i=this.l,c=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),cn(Ae(l.hb,l,i))),Dr(0),l.W=i,l.aa=c||{},l.N=l.X,l.F=Bd(l,null,l.W),Ps(l)},Qs.prototype.close=function(){Co(this.g)},Qs.prototype.u=function(l){if("string"==typeof l){var i={};i.__data__=l,_s(this.g,i)}else this.v?((i={}).__data__=Pt(l),_s(this.g,i)):_s(this.g,l)},Qs.prototype.M=function(){this.g.j=null,delete this.j,Co(this.g),delete this.g,Qs.Z.M.call(this)},Be(os,Zs),Be(Ns,bo),Be(oi,ql),oi.prototype.xa=function(){Ge(this.g,"a")},oi.prototype.wa=function(l){Ge(this.g,new os(l))},oi.prototype.va=function(l){Ge(this.g,new Ns(l))},oi.prototype.ua=function(){Ge(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,Qs.prototype.send=Qs.prototype.u,Qs.prototype.open=Qs.prototype.m,Qs.prototype.close=Qs.prototype.close,Br.NO_ERROR=0,Br.TIMEOUT=8,Br.HTTP_ERROR=6,$o.COMPLETE="complete",nr.EventType=ts,ts.OPEN="a",ts.CLOSE="b",ts.ERROR="c",ts.MESSAGE="d",fe.prototype.listen=fe.prototype.N,ii.prototype.listenOnce=ii.prototype.O,ii.prototype.getLastError=ii.prototype.La,ii.prototype.getLastErrorCode=ii.prototype.Da,ii.prototype.getStatus=ii.prototype.ba,ii.prototype.getResponseJson=ii.prototype.Qa,ii.prototype.getResponseText=ii.prototype.ga,ii.prototype.send=ii.prototype.ea;var cg=q.createWebChannelTransport=function(){return new qu},Sm=q.getStatEventTarget=function(){return co()},rp=q.ErrorCode=Br,Ud=q.EventType=$o,gi=q.Event=gr,Zu=q.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Kh=q.FetchXmlHttpFactory=Bo,Xc=q.WebChannel=nr,jd=q.XhrIo=ii;const Zl="@firebase/firestore";class Li{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");let Rs="9.6.9";const Zo=new R.Yd("@firebase/firestore");function _a(){return Zo.logLevel}function Ut(l,...i){if(Zo.logLevel<=R.in.DEBUG){const c=i.map(Yh);Zo.debug(`Firestore (${Rs}): ${l}`,...c)}}function Gn(l,...i){if(Zo.logLevel<=R.in.ERROR){const c=i.map(Yh);Zo.error(`Firestore (${Rs}): ${l}`,...c)}}function Ji(l,...i){if(Zo.logLevel<=R.in.WARN){const c=i.map(Yh);Zo.warn(`Firestore (${Rs}): ${l}`,...c)}}function Yh(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(c){return l}}function Nn(l="Unexpected state"){const i=`FIRESTORE (${Rs}) INTERNAL ASSERTION FAILED: `+l;throw Gn(i),new Error(i)}function Wn(l,i){l||Nn()}function qt(l,i){return l}const ut={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Dt extends O.ZR{constructor(i,c){super(i,c),this.code=i,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class qr{constructor(){this.promise=new Promise((i,c)=>{this.resolve=i,this.reject=c})}}class ar{constructor(i,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class Qn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,c){i.enqueueRetryable(()=>c(Li.UNAUTHENTICATED))}shutdown(){}}class ug{constructor(i){this.t=i,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,c){var h=this;let g=this.i;const v=ne=>this.i!==g?(g=this.i,c(ne)):Promise.resolve();let D=new qr;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new qr,i.enqueueRetryable(()=>v(this.currentUser))};const k=()=>{const ne=D;i.enqueueRetryable((0,t.Z)(function*(){yield ne.promise,yield v(h.currentUser)}))},$=ne=>{Ut("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=ne,this.auth.addAuthTokenListener(this.o),k()};this.t.onInit(ne=>$(ne)),setTimeout(()=>{if(!this.auth){const ne=this.t.getImmediate({optional:!0});ne?$(ne):(Ut("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new qr)}},0),k()}getToken(){const i=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==i?(Ut("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Wn("string"==typeof h.accessToken),new ar(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Wn(null===i||"string"==typeof i),new Li(i)}}class Xs{constructor(i,c,h){this.type="FirstParty",this.user=Li.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",c);const g=i.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class Vd{constructor(i,c,h){this.h=i,this.l=c,this.m=h}getToken(){return Promise.resolve(new Xs(this.h,this.l,this.m))}start(i,c){i.enqueueRetryable(()=>c(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class _c{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Jh{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,c){const h=v=>{null!=v.error&&Ut("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const D=v.token!==this.p;return this.p=v.token,Ut("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?c(v.token):Promise.resolve()};this.o=v=>{i.enqueueRetryable(()=>h(v))};const g=v=>{Ut("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>g(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?g(v):Ut("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(c=>c?(Wn("string"==typeof c.token),this.p=c.token,new _c(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Zr{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=h=>this.I(h),this.T=h=>c.writeSequenceNumber(h))}I(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.T&&this.T(i),i}}function ea(l){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(l);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(let h=0;h<l;h++)c[h]=Math.floor(256*Math.random());return c}Zr.A=-1;class ss{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length;let h="";for(;h.length<20;){const g=ea(40);for(let v=0;v<g.length;++v)h.length<20&&g[v]<c&&(h+=i.charAt(g[v]%i.length))}return h}}function Xn(l,i){return l<i?-1:l>i?1:0}function ks(l,i,c){return l.length===i.length&&l.every((h,g)=>c(h,i[g]))}class Vr{constructor(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new Dt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new Dt(ut.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new Dt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new Dt(ut.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Vr.fromMillis(Date.now())}static fromDate(i){return Vr.fromMillis(i.getTime())}static fromMillis(i){const c=Math.floor(i/1e3),h=Math.floor(1e6*(i-1e3*c));return new Vr(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Xn(this.nanoseconds,i.nanoseconds):Xn(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Cn{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Cn(i)}static min(){return new Cn(new Vr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Wu(l){let i=0;for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&i++;return i}function ci(l,i){for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&i(c,l[c])}function va(l){for(const i in l)if(Object.prototype.hasOwnProperty.call(l,i))return!1;return!0}class zl{constructor(i,c,h){void 0===c?c=0:c>i.length&&Nn(),void 0===h?h=i.length-c:h>i.length-c&&Nn(),this.segments=i,this.offset=c,this.len=h}get length(){return this.len}isEqual(i){return 0===zl.comparator(this,i)}child(i){const c=this.segments.slice(this.offset,this.limit());return i instanceof zl?i.forEach(h=>{c.push(h)}):c.push(i),this.construct(c)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}forEach(i){for(let c=this.offset,h=this.limit();c<h;c++)i(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,c){const h=Math.min(i.length,c.length);for(let g=0;g<h;g++){const v=i.get(g),D=c.get(g);if(v<D)return-1;if(v>D)return 1}return i.length<c.length?-1:i.length>c.length?1:0}}class Nr extends zl{construct(i,c,h){return new Nr(i,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const c=[];for(const h of i){if(h.indexOf("//")>=0)throw new Dt(ut.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(g=>g.length>0))}return new Nr(c)}static emptyPath(){return new Nr([])}}const Gd=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qi extends zl{construct(i,c,h){return new Qi(i,c,h)}static isValidIdentifier(i){return Gd.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qi.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qi(["__name__"])}static fromServerFormat(i){const c=[];let h="",g=0;const v=()=>{if(0===h.length)throw new Dt(ut.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let D=!1;for(;g<i.length;){const k=i[g];if("\\"===k){if(g+1===i.length)throw new Dt(ut.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const $=i[g+1];if("\\"!==$&&"."!==$&&"`"!==$)throw new Dt(ut.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);h+=$,g+=2}else"`"===k?(D=!D,g++):"."!==k||D?(h+=k,g++):(v(),g++)}if(v(),D)throw new Dt(ut.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Qi(c)}static emptyPath(){return new Qi([])}}class ys{constructor(i){this.fields=i,i.sort(Qi.comparator)}covers(i){for(const c of this.fields)if(c.isPrefixOf(i))return!0;return!1}isEqual(i){return ks(this.fields,i.fields,(c,h)=>c.isEqual(h))}}class yi{constructor(i){this.binaryString=i}static fromBase64String(i){const c=atob(i);return new yi(c)}static fromUint8Array(i){const c=function(h){let g="";for(let v=0;v<h.length;++v)g+=String.fromCharCode(h[v]);return g}(i);return new yi(c)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const c=new Uint8Array(i.length);for(let h=0;h<i.length;h++)c[h]=i.charCodeAt(h);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Xn(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}yi.EMPTY_BYTE_STRING=new yi("");const Yl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vs(l){if(Wn(!!l),"string"==typeof l){let i=0;const c=Yl.exec(l);if(Wn(!!c),c[1]){let g=c[1];g=(g+"000000000").substr(0,9),i=Number(g)}const h=new Date(l);return{seconds:Math.floor(h.getTime()/1e3),nanos:i}}return{seconds:Gr(l.seconds),nanos:Gr(l.nanos)}}function Gr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Wo(l){return"string"==typeof l?yi.fromBase64String(l):yi.fromUint8Array(l)}function Jl(l){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==l?void 0:l.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function Ql(l){const i=l.mapValue.fields.__previous_value__;return Jl(i)?Ql(i):i}function zo(l){const i=vs(l.mapValue.fields.__local_write_time__.timestampValue);return new Vr(i.seconds,i.nanos)}class ba{constructor(i,c,h,g,v,D,k,$){this.databaseId=i,this.appId=c,this.persistenceKey=h,this.host=g,this.ssl=v,this.forceLongPolling=D,this.autoDetectLongPolling=k,this.useFetchStreams=$}}class bs{constructor(i,c){this.projectId=i,this.database=c||"(default)"}static empty(){return new bs("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof bs&&i.projectId===this.projectId&&i.database===this.database}}function za(l){return null==l}function Ca(l){return 0===l&&1/l==-1/0}class rn{constructor(i){this.path=i}static fromPath(i){return new rn(Nr.fromString(i))}static fromName(i){return new rn(Nr.fromString(i).popFirst(5))}static empty(){return new rn(Nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Nr.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,c){return Nr.comparator(i.path,c.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new rn(new Nr(i.slice()))}}function Ya(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Jl(l)?4:Eo(l)?9:10:Nn()}function Fs(l,i){if(l===i)return!0;const c=Ya(l);if(c!==Ya(i))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===i.booleanValue;case 4:return zo(l).isEqual(zo(i));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const v=vs(h.timestampValue),D=vs(g.timestampValue);return v.seconds===D.seconds&&v.nanos===D.nanos}(l,i);case 5:return l.stringValue===i.stringValue;case 6:return g=i,Wo(l.bytesValue).isEqual(Wo(g.bytesValue));case 7:return l.referenceValue===i.referenceValue;case 8:return function(h,g){return Gr(h.geoPointValue.latitude)===Gr(g.geoPointValue.latitude)&&Gr(h.geoPointValue.longitude)===Gr(g.geoPointValue.longitude)}(l,i);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Gr(h.integerValue)===Gr(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const v=Gr(h.doubleValue),D=Gr(g.doubleValue);return v===D?Ca(v)===Ca(D):isNaN(v)&&isNaN(D)}return!1}(l,i);case 9:return ks(l.arrayValue.values||[],i.arrayValue.values||[],Fs);case 10:return function(h,g){const v=h.mapValue.fields||{},D=g.mapValue.fields||{};if(Wu(v)!==Wu(D))return!1;for(const k in v)if(v.hasOwnProperty(k)&&(void 0===D[k]||!Fs(v[k],D[k])))return!1;return!0}(l,i);default:return Nn()}var g}function el(l,i){return void 0!==(l.values||[]).find(c=>Fs(c,i))}function wa(l,i){if(l===i)return 0;const c=Ya(l),h=Ya(i);if(c!==h)return Xn(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return Xn(l.booleanValue,i.booleanValue);case 2:return function(g,v){const D=Gr(g.integerValue||g.doubleValue),k=Gr(v.integerValue||v.doubleValue);return D<k?-1:D>k?1:D===k?0:isNaN(D)?isNaN(k)?0:-1:1}(l,i);case 3:return Qh(l.timestampValue,i.timestampValue);case 4:return Qh(zo(l),zo(i));case 5:return Xn(l.stringValue,i.stringValue);case 6:return function(g,v){const D=Wo(g),k=Wo(v);return D.compareTo(k)}(l.bytesValue,i.bytesValue);case 7:return function(g,v){const D=g.split("/"),k=v.split("/");for(let $=0;$<D.length&&$<k.length;$++){const ne=Xn(D[$],k[$]);if(0!==ne)return ne}return Xn(D.length,k.length)}(l.referenceValue,i.referenceValue);case 8:return function(g,v){const D=Xn(Gr(g.latitude),Gr(v.latitude));return 0!==D?D:Xn(Gr(g.longitude),Gr(v.longitude))}(l.geoPointValue,i.geoPointValue);case 9:return function(g,v){const D=g.values||[],k=v.values||[];for(let $=0;$<D.length&&$<k.length;++$){const ne=wa(D[$],k[$]);if(ne)return ne}return Xn(D.length,k.length)}(l.arrayValue,i.arrayValue);case 10:return function(g,v){const D=g.fields||{},k=Object.keys(D),$=v.fields||{},ne=Object.keys($);k.sort(),ne.sort();for(let Se=0;Se<k.length&&Se<ne.length;++Se){const Le=Xn(k[Se],ne[Se]);if(0!==Le)return Le;const rt=wa(D[k[Se]],$[ne[Se]]);if(0!==rt)return rt}return Xn(k.length,ne.length)}(l.mapValue,i.mapValue);default:throw Nn()}}function Qh(l,i){if("string"==typeof l&&"string"==typeof i&&l.length===i.length)return Xn(l,i);const c=vs(l),h=vs(i),g=Xn(c.seconds,h.seconds);return 0!==g?g:Xn(c.nanos,h.nanos)}function Ja(l){return ip(l)}function ip(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(h){const g=vs(h);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Wo(l.bytesValue).toBase64():"referenceValue"in l?rn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(i=l.geoPointValue).latitude},${i.longitude})`:"arrayValue"in l?function(h){let g="[",v=!0;for(const D of h.values||[])v?v=!1:g+=",",g+=ip(D);return g+"]"}(l.arrayValue):"mapValue"in l?function(h){const g=Object.keys(h.fields||{}).sort();let v="{",D=!0;for(const k of g)D?D=!1:v+=",",v+=`${k}:${ip(h.fields[k])}`;return v+"}"}(l.mapValue):Nn();var i}function To(l){return!!l&&"integerValue"in l}function ei(l){return!!l&&"arrayValue"in l}function Hd(l){return!!l&&"nullValue"in l}function Qa(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function jo(l){return!!l&&"mapValue"in l}function Ta(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const i={mapValue:{fields:{}}};return ci(l.mapValue.fields,(c,h)=>i.mapValue.fields[c]=Ta(h)),i}if(l.arrayValue){const i={arrayValue:{values:[]}};for(let c=0;c<(l.arrayValue.values||[]).length;++c)i.arrayValue.values[c]=Ta(l.arrayValue.values[c]);return i}return Object.assign({},l)}function Eo(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class Hr{constructor(i){this.value=i}static empty(){return new Hr({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let c=this.value;for(let h=0;h<i.length-1;++h)if(c=(c.mapValue.fields||{})[i.get(h)],!jo(c))return null;return c=(c.mapValue.fields||{})[i.lastSegment()],c||null}}set(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=Ta(c)}setAll(i){let c=Qi.emptyPath(),h={},g=[];i.forEach((D,k)=>{if(!c.isImmediateParentOf(k)){const $=this.getFieldsMap(c);this.applyChanges($,h,g),h={},g=[],c=k.popLast()}D?h[k.lastSegment()]=Ta(D):g.push(k.lastSegment())});const v=this.getFieldsMap(c);this.applyChanges(v,h,g)}delete(i){const c=this.field(i.popLast());jo(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]}isEqual(i){return Fs(this.value,i.value)}getFieldsMap(i){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<i.length;++h){let g=c.mapValue.fields[i.get(h)];jo(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},c.mapValue.fields[i.get(h)]=g),c=g}return c.mapValue.fields}applyChanges(i,c,h){ci(c,(g,v)=>i[g]=v);for(const g of h)delete i[g]}clone(){return new Hr(Ta(this.value))}}function ta(l){const i=[];return ci(l.fields,(c,h)=>{const g=new Qi([c]);if(jo(h)){const v=ta(h.mapValue).fields;if(0===v.length)i.push(g);else for(const D of v)i.push(g.child(D))}else i.push(g)}),new ys(i)}class si{constructor(i,c,h,g,v,D){this.key=i,this.documentType=c,this.version=h,this.readTime=g,this.data=v,this.documentState=D}static newInvalidDocument(i){return new si(i,0,Cn.min(),Cn.min(),Hr.empty(),0)}static newFoundDocument(i,c,h){return new si(i,1,c,Cn.min(),h,0)}static newNoDocument(i,c){return new si(i,2,c,Cn.min(),Hr.empty(),0)}static newUnknownDocument(i,c){return new si(i,3,c,Cn.min(),Hr.empty(),2)}convertToFoundDocument(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof si&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new si(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class yc{constructor(i,c=null,h=[],g=[],v=null,D=null,k=null){this.path=i,this.collectionGroup=c,this.orderBy=h,this.filters=g,this.limit=v,this.startAt=D,this.endAt=k,this.P=null}}function tl(l,i=null,c=[],h=[],g=null,v=null,D=null){return new yc(l,i,c,h,g,v,D)}function Xa(l){const i=qt(l);if(null===i.P){let c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(h=>{return(g=h).field.canonicalString()+g.op.toString()+Ja(g.value);var g}).join(","),c+="|ob:",c+=i.orderBy.map(h=>{return(g=h).field.canonicalString()+g.dir;var g}).join(","),za(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=i.startAt.inclusive?"b:":"a:",c+=i.startAt.position.map(h=>Ja(h)).join(",")),i.endAt&&(c+="|ub:",c+=i.endAt.inclusive?"a:":"b:",c+=i.endAt.position.map(h=>Ja(h)).join(",")),i.P=c}return i.P}function na(l,i){if(l.limit!==i.limit||l.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!kt(l.orderBy[g],i.orderBy[g]))return!1;if(l.filters.length!==i.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((c=l.filters[g]).op!==(h=i.filters[g]).op||!c.field.isEqual(h.field)||!Fs(c.value,h.value))return!1;var c,h;return l.collectionGroup===i.collectionGroup&&!!l.path.isEqual(i.path)&&!!er(l.startAt,i.startAt)&&er(l.endAt,i.endAt)}function Do(l){return rn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class vi extends class{}{constructor(i,c,h){super(),this.field=i,this.op=c,this.value=h}static create(i,c,h){return i.isKeyField()?"in"===c||"not-in"===c?this.V(i,c,h):new ap(i,c,h):"array-contains"===c?new B(i,h):"in"===c?new U(i,h):"not-in"===c?new re(i,h):"array-contains-any"===c?new Ee(i,h):new vi(i,c,h)}static V(i,c,h){return"in"===c?new Yu(i,h):new ec(i,h)}matches(i){const c=i.data.field(this.field);return"!="===this.op?null!==c&&this.v(wa(c,this.value)):null!==c&&Ya(this.value)===Ya(c)&&this.v(wa(c,this.value))}v(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return Nn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ap extends vi{constructor(i,c,h){super(i,c,h),this.key=rn.fromName(h.referenceValue)}matches(i){const c=rn.comparator(i.key,this.key);return this.v(c)}}class Yu extends vi{constructor(i,c){super(i,"in",c),this.keys=bc(0,c)}matches(i){return this.keys.some(c=>c.isEqual(i.key))}}class ec extends vi{constructor(i,c){super(i,"not-in",c),this.keys=bc(0,c)}matches(i){return!this.keys.some(c=>c.isEqual(i.key))}}function bc(l,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>rn.fromName(h.referenceValue))}class B extends vi{constructor(i,c){super(i,"array-contains",c)}matches(i){const c=i.data.field(this.field);return ei(c)&&el(c.arrayValue,this.value)}}class U extends vi{constructor(i,c){super(i,"in",c)}matches(i){const c=i.data.field(this.field);return null!==c&&el(this.value.arrayValue,c)}}class re extends vi{constructor(i,c){super(i,"not-in",c)}matches(i){if(el(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=i.data.field(this.field);return null!==c&&!el(this.value.arrayValue,c)}}class Ee extends vi{constructor(i,c){super(i,"array-contains-any",c)}matches(i){const c=i.data.field(this.field);return!(!ei(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>el(this.value.arrayValue,h))}}class We{constructor(i,c){this.position=i,this.inclusive=c}}class it{constructor(i,c="asc"){this.field=i,this.dir=c}}function kt(l,i){return l.dir===i.dir&&l.field.isEqual(i.field)}function bn(l,i,c){let h=0;for(let g=0;g<l.position.length;g++){const v=i[g],D=l.position[g];if(h=v.field.isKeyField()?rn.comparator(rn.fromName(D.referenceValue),c.key):wa(D,c.data.field(v.field)),"desc"===v.dir&&(h*=-1),0!==h)break}return h}function er(l,i){if(null===l)return null===i;if(null===i||l.inclusive!==i.inclusive||l.position.length!==i.position.length)return!1;for(let c=0;c<l.position.length;c++)if(!Fs(l.position[c],i.position[c]))return!1;return!0}class In{constructor(i,c=null,h=[],g=[],v=null,D="F",k=null,$=null){this.path=i,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=g,this.limit=v,this.limitType=D,this.startAt=k,this.endAt=$,this.D=null,this.C=null}}function qn(l){return new In(l)}function vr(l){return!za(l.limit)&&"F"===l.limitType}function bi(l){return!za(l.limit)&&"L"===l.limitType}function So(l){const i=qt(l);if(null===i.D){i.D=[];const c=function ra(l){for(const i of l.filters)if(i.S())return i.field;return null}(i),h=function Cc(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(i);if(null!==c&&null===h)c.isKeyField()||i.D.push(new it(c)),i.D.push(new it(Qi.keyField(),"asc"));else{let g=!1;for(const v of i.explicitOrderBy)i.D.push(v),v.field.isKeyField()&&(g=!0);if(!g){const v=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.D.push(new it(Qi.keyField(),v))}}}return i.D}function ui(l){const i=qt(l);if(!i.C)if("F"===i.limitType)i.C=tl(i.path,i.collectionGroup,So(i),i.filters,i.limit,i.startAt,i.endAt);else{const c=[];for(const v of So(i))c.push(new it(v.field,"desc"===v.dir?"asc":"desc"));const h=i.endAt?new We(i.endAt.position,!i.endAt.inclusive):null,g=i.startAt?new We(i.startAt.position,!i.startAt.inclusive):null;i.C=tl(i.path,i.collectionGroup,c,i.filters,i.limit,h,g)}return i.C}function rl(l,i){return na(ui(l),ui(i))&&l.limitType===i.limitType}function Tc(l){return`${Xa(ui(l))}|lt:${l.limitType}`}function Ju(l){return`Query(target=${function vc(l){let i=l.path.canonicalString();return null!==l.collectionGroup&&(i+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(i+=`, filters: [${l.filters.map(c=>{return`${(h=c).field.canonicalString()} ${h.op} ${Ja(h.value)}`;var h}).join(", ")}]`),za(l.limit)||(i+=", limit: "+l.limit),l.orderBy.length>0&&(i+=`, orderBy: [${l.orderBy.map(c=>{return`${(h=c).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),l.startAt&&(i+=", startAt: ",i+=l.startAt.inclusive?"b:":"a:",i+=l.startAt.position.map(c=>Ja(c)).join(",")),l.endAt&&(i+=", endAt: ",i+=l.endAt.inclusive?"a:":"b:",i+=l.endAt.position.map(c=>Ja(c)).join(",")),`Target(${i})`}(ui(l))}; limitType=${l.limitType})`}function Ec(l,i){return i.isFoundDocument()&&function(c,h){const g=h.key.path;return null!==c.collectionGroup?h.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(g):rn.isDocumentKey(c.path)?c.path.isEqual(g):c.path.isImmediateParentOf(g)}(l,i)&&function(c,h){for(const g of c.explicitOrderBy)if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(l,i)&&function(c,h){for(const g of c.filters)if(!g.matches(h))return!1;return!0}(l,i)&&(h=i,!((c=l).startAt&&!function(g,v,D){const k=bn(g,v,D);return g.inclusive?k<=0:k<0}(c.startAt,So(c),h)||c.endAt&&!function(g,v,D){const k=bn(g,v,D);return g.inclusive?k>=0:k>0}(c.endAt,So(c),h)));var c,h}function cp(l){return(i,c)=>{let h=!1;for(const g of So(l)){const v=tu(g,i,c);if(0!==v)return v;h=h||g.field.isKeyField()}return 0}}function tu(l,i,c){const h=l.field.isKeyField()?rn.comparator(i.key,c.key):function(g,v,D){const k=v.data.field(g),$=D.data.field(g);return null!==k&&null!==$?wa(k,$):Nn()}(l.field,i,c);switch(l.dir){case"asc":return h;case"desc":return-1*h;default:return Nn()}}function $d(l,i){if(l.N){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ca(i)?"-0":i}}function nu(l){return{integerValue:""+l}}function lp(l,i){return function Ka(l){return"number"==typeof l&&Number.isInteger(l)&&!Ca(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(i)?nu(i):$d(l,i)}class ru{constructor(){this._=void 0}}function dg(l,i,c){return l instanceof ou?function(h,g){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&(v.fields.__previous_value__=g),{mapValue:v}}(c,i):l instanceof Ea?up(l,i):l instanceof su?qd(l,i):function(h,g){const v=Dc(h,g),D=dp(v)+dp(h.k);return To(v)&&To(h.k)?nu(D):$d(h.M,D)}(l,i)}function iu(l,i,c){return l instanceof Ea?up(l,i):l instanceof su?qd(l,i):c}function Dc(l,i){return l instanceof il?To(c=i)||(h=c)&&"doubleValue"in h?i:{integerValue:0}:null;var h,c}class ou extends ru{}class Ea extends ru{constructor(i){super(),this.elements=i}}function up(l,i){const c=xm(i);for(const h of l.elements)c.some(g=>Fs(g,h))||c.push(h);return{arrayValue:{values:c}}}class su extends ru{constructor(i){super(),this.elements=i}}function qd(l,i){let c=xm(i);for(const h of l.elements)c=c.filter(g=>!Fs(g,h));return{arrayValue:{values:c}}}class il extends ru{constructor(i,c){super(),this.M=i,this.k=c}}function dp(l){return Gr(l.integerValue||l.doubleValue)}function xm(l){return ei(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class cu{constructor(i,c){this.version=i,this.transformResults=c}}class eo{constructor(i,c){this.updateTime=i,this.exists=c}static none(){return new eo}static exists(i){return new eo(void 0,i)}static updateTime(i){return new eo(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function Zd(l,i){return void 0!==l.updateTime?i.isFoundDocument()&&i.version.isEqual(l.updateTime):void 0===l.exists||l.exists===i.isFoundDocument()}class hp{}function Wd(l,i,c){l instanceof Da?function(h,g,v){const D=h.value.clone(),k=fg(h.fieldTransforms,g,v.transformResults);D.setAll(k),g.convertToFoundDocument(v.version,D).setHasCommittedMutations()}(l,i,c):l instanceof Xu?function(h,g,v){if(!Zd(h.precondition,g))return void g.convertToUnknownDocument(v.version);const D=fg(h.fieldTransforms,g,v.transformResults),k=g.data;k.setAll(ef(h)),k.setAll(D),g.convertToFoundDocument(v.version,k).setHasCommittedMutations()}(l,i,c):i.convertToNoDocument(c.version).setHasCommittedMutations()}function Ko(l,i,c){var g;l instanceof Da?function(h,g,v){if(!Zd(h.precondition,g))return;const D=h.value.clone(),k=zd(h.fieldTransforms,v,g);D.setAll(k),g.convertToFoundDocument(Qu(g),D).setHasLocalMutations()}(l,i,c):l instanceof Xu?function(h,g,v){if(!Zd(h.precondition,g))return;const D=zd(h.fieldTransforms,v,g),k=g.data;k.setAll(ef(h)),k.setAll(D),g.convertToFoundDocument(Qu(g),k).setHasLocalMutations()}(l,i,c):Zd(l.precondition,g=i)&&g.convertToNoDocument(Cn.min())}function fp(l,i){let c=null;for(const h of l.fieldTransforms){const g=i.data.field(h.field),v=Dc(h.transform,g||null);null!=v&&(null==c&&(c=Hr.empty()),c.set(h.field,v))}return c||null}function pp(l,i){return l.type===i.type&&!!l.key.isEqual(i.key)&&!!l.precondition.isEqual(i.precondition)&&(h=i.fieldTransforms,!!(void 0===(c=l.fieldTransforms)&&void 0===h||c&&h&&ks(c,h,(g,v)=>function hg(l,i){return l.field.isEqual(i.field)&&(h=i.transform,(c=l.transform)instanceof Ea&&h instanceof Ea||c instanceof su&&h instanceof su?ks(c.elements,h.elements,Fs):c instanceof il&&h instanceof il?Fs(c.k,h.k):c instanceof ou&&h instanceof ou);var c,h}(g,v))))&&(0===l.type?l.value.isEqual(i.value):1!==l.type||l.data.isEqual(i.data)&&l.fieldMask.isEqual(i.fieldMask));var c,h}function Qu(l){return l.isFoundDocument()?l.version:Cn.min()}class Da extends hp{constructor(i,c,h,g=[]){super(),this.key=i,this.value=c,this.precondition=h,this.fieldTransforms=g,this.type=0}}class Xu extends hp{constructor(i,c,h,g,v=[]){super(),this.key=i,this.data=c,this.fieldMask=h,this.precondition=g,this.fieldTransforms=v,this.type=1}}function ef(l){const i=new Map;return l.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=l.data.field(c);i.set(c,h)}}),i}function fg(l,i,c){const h=new Map;Wn(l.length===c.length);for(let g=0;g<c.length;g++){const v=l[g],D=v.transform,k=i.data.field(v.field);h.set(v.field,iu(D,k,c[g]))}return h}function zd(l,i,c){const h=new Map;for(const g of l){const v=g.transform,D=c.data.field(g.field);h.set(g.field,dg(v,D,i))}return h}class tf extends hp{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=2,this.fieldTransforms=[]}}class ia extends hp{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=3,this.fieldTransforms=[]}}class ed{constructor(i){this.count=i}}var Mi,Mr;function gp(l){switch(l){default:return Nn();case ut.CANCELLED:case ut.UNKNOWN:case ut.DEADLINE_EXCEEDED:case ut.RESOURCE_EXHAUSTED:case ut.INTERNAL:case ut.UNAVAILABLE:case ut.UNAUTHENTICATED:return!1;case ut.INVALID_ARGUMENT:case ut.NOT_FOUND:case ut.ALREADY_EXISTS:case ut.PERMISSION_DENIED:case ut.FAILED_PRECONDITION:case ut.ABORTED:case ut.OUT_OF_RANGE:case ut.UNIMPLEMENTED:case ut.DATA_LOSS:return!0}}function Kd(l){if(void 0===l)return Gn("GRPC error has no .code"),ut.UNKNOWN;switch(l){case Mi.OK:return ut.OK;case Mi.CANCELLED:return ut.CANCELLED;case Mi.UNKNOWN:return ut.UNKNOWN;case Mi.DEADLINE_EXCEEDED:return ut.DEADLINE_EXCEEDED;case Mi.RESOURCE_EXHAUSTED:return ut.RESOURCE_EXHAUSTED;case Mi.INTERNAL:return ut.INTERNAL;case Mi.UNAVAILABLE:return ut.UNAVAILABLE;case Mi.UNAUTHENTICATED:return ut.UNAUTHENTICATED;case Mi.INVALID_ARGUMENT:return ut.INVALID_ARGUMENT;case Mi.NOT_FOUND:return ut.NOT_FOUND;case Mi.ALREADY_EXISTS:return ut.ALREADY_EXISTS;case Mi.PERMISSION_DENIED:return ut.PERMISSION_DENIED;case Mi.FAILED_PRECONDITION:return ut.FAILED_PRECONDITION;case Mi.ABORTED:return ut.ABORTED;case Mi.OUT_OF_RANGE:return ut.OUT_OF_RANGE;case Mi.UNIMPLEMENTED:return ut.UNIMPLEMENTED;case Mi.DATA_LOSS:return ut.DATA_LOSS;default:return Nn()}}(Mr=Mi||(Mi={}))[Mr.OK=0]="OK",Mr[Mr.CANCELLED=1]="CANCELLED",Mr[Mr.UNKNOWN=2]="UNKNOWN",Mr[Mr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mr[Mr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mr[Mr.NOT_FOUND=5]="NOT_FOUND",Mr[Mr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mr[Mr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mr[Mr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mr[Mr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mr[Mr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mr[Mr.ABORTED=10]="ABORTED",Mr[Mr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mr[Mr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mr[Mr.INTERNAL=13]="INTERNAL",Mr[Mr.UNAVAILABLE=14]="UNAVAILABLE",Mr[Mr.DATA_LOSS=15]="DATA_LOSS";class ol{constructor(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={},this.innerSize=0}get(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0!==h)for(const[g,v]of h)if(this.equalsFn(g,i))return v}has(i){return void 0!==this.get(i)}set(i,c){const h=this.mapKeyFn(i),g=this.inner[h];if(void 0===g)return this.inner[h]=[[i,c]],void this.innerSize++;for(let v=0;v<g.length;v++)if(this.equalsFn(g[v][0],i))return void(g[v]=[i,c]);g.push([i,c]),this.innerSize++}delete(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0===h)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],i))return 1===h.length?delete this.inner[c]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(i){ci(this.inner,(c,h)=>{for(const[g,v]of h)i(g,v)})}isEmpty(){return va(this.inner)}size(){return this.innerSize}}class xi{constructor(i,c){this.comparator=i,this.root=c||xo.EMPTY}insert(i,c){return new xi(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(i){return new xi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,xo.BLACK,null,null))}get(i){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(i,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(i){let c=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(i,h.key);if(0===g)return c+h.left.size;g<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((c,h)=>(i(c,h),!1))}toString(){const i=[];return this.inorderTraversal((c,h)=>(i.push(`${c}:${h}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new Yd(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new Yd(this.root,i,this.comparator,!1)}getReverseIterator(){return new Yd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new Yd(this.root,i,this.comparator,!0)}}class Yd{constructor(i,c,h,g){this.isReverse=g,this.nodeStack=[];let v=1;for(;!i.isEmpty();)if(v=c?h(i.key,c):1,c&&g&&(v*=-1),v<0)i=this.isReverse?i.left:i.right;else{if(0===v){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class xo{constructor(i,c,h,g,v){this.key=i,this.value=c,this.color=null!=h?h:xo.RED,this.left=null!=g?g:xo.EMPTY,this.right=null!=v?v:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,c,h,g,v){return new xo(null!=i?i:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=g?g:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,c,h){let g=this;const v=h(i,g.key);return g=v<0?g.copy(null,null,null,g.left.insert(i,c,h),null):0===v?g.copy(null,c,null,null,null):g.copy(null,null,null,null,g.right.insert(i,c,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,c){let h,g=this;if(c(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,c),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===c(i,g.key)){if(g.right.isEmpty())return xo.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,c))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Nn();const i=this.left.check();if(i!==this.right.check())throw Nn();return i+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw Nn()}get value(){throw Nn()}get color(){throw Nn()}get left(){throw Nn()}get right(){throw Nn()}copy(l,i,c,h,g){return this}insert(l,i,c){return new xo(l,i)}remove(l,i){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class di{constructor(i){this.comparator=i,this.data=new xi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((c,h)=>(i(c),!1))}forEachInRange(i,c){const h=this.data.getIteratorFrom(i[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,i[1])>=0)return;c(g.key)}}forEachWhile(i,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!i(h.getNext().key))return}firstAfterOrEqual(i){const c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null}getIterator(){return new nf(this.data.getIterator())}getIteratorFrom(i){return new nf(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let c=this;return c.size<i.size&&(c=i,i=this),i.forEach(h=>{c=c.add(h)}),c}isEqual(i){if(!(i instanceof di)||this.size!==i.size)return!1;const c=this.data.getIterator(),h=i.data.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(0!==this.comparator(g,v))return!1}return!0}toArray(){const i=[];return this.forEach(c=>{i.push(c)}),i}toString(){const i=[];return this.forEach(c=>i.push(c)),"SortedSet("+i.toString()+")"}copy(i){const c=new di(this.comparator);return c.data=i,c}}class nf{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const K0=new xi(rn.comparator);function as(){return K0}const Jd=new xi(rn.comparator);function al(){return Jd}function cs(){return new ol(l=>l.toString(),(l,i)=>l.isEqual(i))}const rf=new xi(rn.comparator),mp=new di(rn.comparator);function Wr(...l){let i=mp;for(const c of l)i=i.add(c);return i}const V_=new di(Xn);function sf(){return V_}class Qd{constructor(i,c,h,g,v){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(i,c){const h=new Map;return h.set(i,af.createSynthesizedTargetChangeForCurrentChange(i,c)),new Qd(Cn.min(),h,sf(),as(),Wr())}}class af{constructor(i,c,h,g,v){this.resumeToken=i,this.current=c,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(i,c){return new af(yi.EMPTY_BYTE_STRING,c,Wr(),Wr(),Wr())}}class Xd{constructor(i,c,h,g){this.O=i,this.removedTargetIds=c,this.key=h,this.$=g}}class cf{constructor(i,c){this.targetId=i,this.F=c}}class Sc{constructor(i,c,h=yi.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=c,this.resumeToken=h,this.cause=g}}class G_{constructor(){this.B=0,this.L=gg(),this.q=yi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(i){i.approximateByteSize()>0&&(this.K=!0,this.q=i)}H(){let i=Wr(),c=Wr(),h=Wr();return this.L.forEach((g,v)=>{switch(v){case 0:i=i.add(g);break;case 2:c=c.add(g);break;case 1:h=h.add(g);break;default:Nn()}}),new af(this.q,this.U,i,c,h)}J(){this.K=!1,this.L=gg()}Y(i,c){this.K=!0,this.L=this.L.insert(i,c)}X(i){this.K=!0,this.L=this.L.remove(i)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class H_{constructor(i){this.nt=i,this.st=new Map,this.it=as(),this.rt=pg(),this.ot=new di(Xn)}at(i){for(const c of i.O)i.$&&i.$.isFoundDocument()?this.ut(c,i.$):this.ct(c,i.key,i.$);for(const c of i.removedTargetIds)this.ct(c,i.key,i.$)}ht(i){this.forEachTarget(i,c=>{const h=this.lt(c);switch(i.state){case 0:this.ft(c)&&h.W(i.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(i.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(c);break;case 3:this.ft(c)&&(h.et(),h.W(i.resumeToken));break;case 4:this.ft(c)&&(this.dt(c),h.W(i.resumeToken));break;default:Nn()}})}forEachTarget(i,c){i.targetIds.length>0?i.targetIds.forEach(c):this.st.forEach((h,g)=>{this.ft(g)&&c(g)})}_t(i){const c=i.targetId,h=i.F.count,g=this.wt(c);if(g){const v=g.target;if(Do(v))if(0===h){const D=new rn(v.path);this.ct(c,D,si.newNoDocument(D,Cn.min()))}else Wn(1===h);else this.gt(c)!==h&&(this.dt(c),this.ot=this.ot.add(c))}}yt(i){const c=new Map;this.st.forEach((v,D)=>{const k=this.wt(D);if(k){if(v.current&&Do(k.target)){const $=new rn(k.target.path);null!==this.it.get($)||this.It(D,$)||this.ct(D,$,si.newNoDocument($,i))}v.j&&(c.set(D,v.H()),v.J())}});let h=Wr();this.rt.forEach((v,D)=>{let k=!0;D.forEachWhile($=>{const ne=this.wt($);return!ne||2===ne.purpose||(k=!1,!1)}),k&&(h=h.add(v))}),this.it.forEach((v,D)=>D.setReadTime(i));const g=new Qd(i,c,this.ot,this.it,h);return this.it=as(),this.rt=pg(),this.ot=new di(Xn),g}ut(i,c){if(!this.ft(i))return;const h=this.It(i,c.key)?2:0;this.lt(i).Y(c.key,h),this.it=this.it.insert(c.key,c),this.rt=this.rt.insert(c.key,this.Tt(c.key).add(i))}ct(i,c,h){if(!this.ft(i))return;const g=this.lt(i);this.It(i,c)?g.Y(c,1):g.X(c),this.rt=this.rt.insert(c,this.Tt(c).delete(i)),h&&(this.it=this.it.insert(c,h))}removeTarget(i){this.st.delete(i)}gt(i){const c=this.lt(i).H();return this.nt.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size}Z(i){this.lt(i).Z()}lt(i){let c=this.st.get(i);return c||(c=new G_,this.st.set(i,c)),c}Tt(i){let c=this.rt.get(i);return c||(c=new di(Xn),this.rt=this.rt.insert(i,c)),c}ft(i){const c=null!==this.wt(i);return c||Ut("WatchChangeAggregator","Detected inactive target",i),c}wt(i){const c=this.st.get(i);return c&&c.G?null:this.nt.Et(i)}dt(i){this.st.set(i,new G_),this.nt.getRemoteKeysForTarget(i).forEach(c=>{this.ct(i,c,null)})}It(i,c){return this.nt.getRemoteKeysForTarget(i).has(c)}}function pg(){return new xi(rn.comparator)}function gg(){return new xi(rn.comparator)}const $_={asc:"ASCENDING",desc:"DESCENDING"},q_={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class mg{constructor(i,c){this.databaseId=i,this.N=c}}function td(l,i){return l.N?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function lf(l,i){return l.N?i.toBase64():i.toUint8Array()}function _g(l,i){return td(l,i.toTimestamp())}function uo(l){return Wn(!!l),Cn.fromTimestamp(function(i){const c=vs(i);return new Vr(c.seconds,c.nanos)}(l))}function _p(l,i){return(c=l,new Nr(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function Ui(l){const i=Nr.fromString(l);return Wn(ih(i)),i}function nd(l,i){return _p(l.databaseId,i.path)}function xc(l,i){const c=Ui(i);if(c.get(1)!==l.databaseId.projectId)throw new Dt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+l.databaseId.projectId);if(c.get(3)!==l.databaseId.database)throw new Dt(ut.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+l.databaseId.database);return new rn(Z_(c))}function eh(l,i){return _p(l.databaseId,i)}function yp(l){return new Nr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Z_(l){return Wn(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Im(l,i,c){return{name:nd(l,i),fields:c.value.mapValue.fields}}function vp(l,i){return{documents:[eh(l,i.path)]}}function Sa(l,i){const c={structuredQuery:{}},h=i.path;null!==i.collectionGroup?(c.parent=eh(l,h),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=eh(l,h.popLast()),c.structuredQuery.from=[{collectionId:h.lastSegment()}]);const g=function($){if(0===$.length)return;const ne=$.map(Se=>function(Le){if("=="===Le.op){if(Qa(Le.value))return{unaryFilter:{field:rh(Le.field),op:"IS_NAN"}};if(Hd(Le.value))return{unaryFilter:{field:rh(Le.field),op:"IS_NULL"}}}else if("!="===Le.op){if(Qa(Le.value))return{unaryFilter:{field:rh(Le.field),op:"IS_NOT_NAN"}};if(Hd(Le.value))return{unaryFilter:{field:rh(Le.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rh(Le.field),op:nh(Le.op),value:Le.value}}}(Se));return 1===ne.length?ne[0]:{compositeFilter:{op:"AND",filters:ne}}}(i.filters);g&&(c.structuredQuery.where=g);const v=function($){if(0!==$.length)return $.map(ne=>{return{field:rh((Se=ne).field),direction:to(Se.dir)};var Se})}(i.orderBy);v&&(c.structuredQuery.orderBy=v);const D=(ne=i.limit,l.N||za(ne)?ne:{value:ne});var ne,k,$;return null!==D&&(c.structuredQuery.limit=D),i.startAt&&(c.structuredQuery.startAt={before:(k=i.startAt).inclusive,values:k.position}),i.endAt&&(c.structuredQuery.endAt={before:!($=i.endAt).inclusive,values:$.position}),c}function Ac(l){let i=function Am(l){const i=Ui(l);return 4===i.length?Nr.emptyPath():Z_(i)}(l.parent);const c=l.structuredQuery,h=c.from?c.from.length:0;let g=null;if(h>0){Wn(1===h);const Se=c.from[0];Se.allDescendants?g=Se.collectionId:i=i.child(Se.collectionId)}let v=[];c.where&&(v=$r(c.where));let D=[];c.orderBy&&(D=c.orderBy.map(Se=>{return new it(cl((Le=Se).field),function(rt){switch(rt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Le.direction));var Le}));let k=null;c.limit&&(k=function(Se){let Le;return Le="object"==typeof Se?Se.value:Se,za(Le)?null:Le}(c.limit));let $=null;var Se;c.startAt&&($=new We((Se=c.startAt).values||[],!!Se.before));let ne=null;return c.endAt&&(ne=function(Se){return new We(Se.values||[],!Se.before)}(c.endAt)),function Sr(l,i,c,h,g,v,D,k){return new In(l,i,c,h,g,v,D,k)}(i,g,D,v,k,"F",$,ne)}function $r(l){return l?void 0!==l.unaryFilter?[bg(l)]:void 0!==l.fieldFilter?[W_(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(i=>$r(i)).reduce((i,c)=>i.concat(c)):Nn():[]}function to(l){return $_[l]}function nh(l){return q_[l]}function rh(l){return{fieldPath:l.canonicalString()}}function cl(l){return Qi.fromServerFormat(l.fieldPath)}function W_(l){return vi.create(cl(l.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Nn()}}(l.fieldFilter.op),l.fieldFilter.value)}function bg(l){switch(l.unaryFilter.op){case"IS_NAN":const i=cl(l.unaryFilter.field);return vi.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=cl(l.unaryFilter.field);return vi.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=cl(l.unaryFilter.field);return vi.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=cl(l.unaryFilter.field);return vi.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Nn()}}function tc(l){const i=[];return l.fields.forEach(c=>i.push(c.canonicalString())),{fieldPaths:i}}function ih(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const xa="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ht{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(i){return this.next(void 0,i)}next(i,c){return this.callbackAttached&&Nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new ht((h,g)=>{this.nextCallback=v=>{this.wrapSuccess(i,v).next(h,g)},this.catchCallback=v=>{this.wrapFailure(c,v).next(h,g)}})}toPromise(){return new Promise((i,c)=>{this.next(i,c)})}wrapUserFunction(i){try{const c=i();return c instanceof ht?c:ht.resolve(c)}catch(c){return ht.reject(c)}}wrapSuccess(i,c){return i?this.wrapUserFunction(()=>i(c)):ht.resolve(c)}wrapFailure(i,c){return i?this.wrapUserFunction(()=>i(c)):ht.reject(c)}static resolve(i){return new ht((c,h)=>{c(i)})}static reject(i){return new ht((c,h)=>{h(i)})}static waitFor(i){return new ht((c,h)=>{let g=0,v=0,D=!1;i.forEach(k=>{++g,k.next(()=>{++v,D&&v===g&&c()},$=>h($))}),D=!0,v===g&&c()})}static or(i){let c=ht.resolve(!1);for(const h of i)c=c.next(g=>g?ht.resolve(g):h());return c}static forEach(i,c){const h=[];return i.forEach((g,v)=>{h.push(c.call(this,g,v))}),this.waitFor(h)}}function Cs(l){return"IndexedDbTransactionError"===l.name}class dl{constructor(i,c,h,g){this.batchId=i,this.localWriteTime=c,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(i,c){const h=c.mutationResults;for(let g=0;g<this.mutations.length;g++){const v=this.mutations[g];v.key.isEqual(i.key)&&Wd(v,i,h[g])}}applyToLocalView(i){for(const c of this.baseMutations)c.key.isEqual(i.key)&&Ko(c,i,this.localWriteTime);for(const c of this.mutations)c.key.isEqual(i.key)&&Ko(c,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(c=>{const h=i.get(c.key),g=h;this.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(Cn.min())})}keys(){return this.mutations.reduce((i,c)=>i.add(c.key),Wr())}isEqual(i){return this.batchId===i.batchId&&ks(this.mutations,i.mutations,(c,h)=>pp(c,h))&&ks(this.baseMutations,i.baseMutations,(c,h)=>pp(c,h))}}class pu{constructor(i,c,h,g){this.batch=i,this.commitVersion=c,this.mutationResults=h,this.docVersions=g}static from(i,c,h){Wn(i.mutations.length===h.length);let g=rf;const v=i.mutations;for(let D=0;D<v.length;D++)g=g.insert(v[D].key,h[D].version);return new pu(i,c,h,g)}}class sh{constructor(i,c){this.largestBatchId=i,this.mutation=c}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class gu{constructor(i,c,h,g,v=Cn.min(),D=Cn.min(),k=yi.EMPTY_BYTE_STRING){this.target=i,this.targetId=c,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=k}withSequenceNumber(i){return new gu(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,c){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new gu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class mu{constructor(i){this.Jt=i}}function gf(l){const i=Ac({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function wc(l,i,c){return new In(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),i,c,l.startAt,l.endAt)}(i,i.limit,"L"):i}class Yo{constructor(){}Zt(i,c){this.te(i,c),c.ee()}te(i,c){if("nullValue"in i)this.ne(c,5);else if("booleanValue"in i)this.ne(c,10),c.se(i.booleanValue?1:0);else if("integerValue"in i)this.ne(c,15),c.se(Gr(i.integerValue));else if("doubleValue"in i){const h=Gr(i.doubleValue);isNaN(h)?this.ne(c,13):(this.ne(c,15),Ca(h)?c.se(0):c.se(h))}else if("timestampValue"in i){const h=i.timestampValue;this.ne(c,20),"string"==typeof h?c.ie(h):(c.ie(`${h.seconds||""}`),c.se(h.nanos||0))}else if("stringValue"in i)this.re(i.stringValue,c),this.oe(c);else if("bytesValue"in i)this.ne(c,30),c.ae(Wo(i.bytesValue)),this.oe(c);else if("referenceValue"in i)this.ue(i.referenceValue,c);else if("geoPointValue"in i){const h=i.geoPointValue;this.ne(c,45),c.se(h.latitude||0),c.se(h.longitude||0)}else"mapValue"in i?Eo(i)?this.ne(c,Number.MAX_SAFE_INTEGER):(this.ce(i.mapValue,c),this.oe(c)):"arrayValue"in i?(this.he(i.arrayValue,c),this.oe(c)):Nn()}re(i,c){this.ne(c,25),this.le(i,c)}le(i,c){c.ie(i)}ce(i,c){const h=i.fields||{};this.ne(c,55);for(const g of Object.keys(h))this.re(g,c),this.te(h[g],c)}he(i,c){const h=i.values||[];this.ne(c,50);for(const g of h)this.te(g,c)}ue(i,c){this.ne(c,37),rn.fromName(i).path.forEach(h=>{this.ne(c,60),this.le(h,c)})}ne(i,c){i.se(c)}oe(i){i.se(2)}}Yo.fe=new Yo;class hl{constructor(){this.Ue=new hr}addToCollectionParentIndex(i,c){return this.Ue.add(c),ht.resolve()}getCollectionParents(i,c){return ht.resolve(this.Ue.getEntries(c))}addFieldIndex(i,c){return ht.resolve()}deleteFieldIndex(i,c){return ht.resolve()}getDocumentsMatchingTarget(i,c){return ht.resolve(null)}getFieldIndex(i,c){return ht.resolve(null)}getFieldIndexes(i,c){return ht.resolve([])}getNextCollectionGroupToUpdate(i){return ht.resolve(null)}updateCollectionGroup(i,c,h){return ht.resolve()}updateIndexEntries(i,c){return ht.resolve()}}class hr{constructor(){this.index={}}add(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c]||new di(Nr.comparator),v=!g.has(h);return this.index[c]=g.add(h),v}has(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c];return g&&g.has(h)}getEntries(i){return(this.index[i]||new di(Nr.comparator)).toArray()}}new Uint8Array(0);class fo{constructor(i,c,h){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(i){return new fo(i,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(41943040,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);class Nc{constructor(i){this.wn=i}next(){return this.wn+=2,this.wn}static mn(){return new Nc(0)}static gn(){return new Nc(-1)}}function ld(l){return Ep.apply(this,arguments)}function Ep(){return Ep=(0,t.Z)(function*(l){if(l.code!==ut.FAILED_PRECONDITION||l.message!==xa)throw l;Ut("LocalStore","Unexpectedly lost primary lease")}),Ep.apply(this,arguments)}class Sg{constructor(i,c,h){this.ls=i,this.Fs=c,this.indexManager=h}Bs(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKey(i,c).next(h=>this.Ls(i,c,h))}Ls(i,c,h){return this.ls.getEntry(i,c).next(g=>{for(const v of h)v.applyToLocalView(g);return g})}qs(i,c){i.forEach((h,g)=>{for(const v of c)v.applyToLocalView(g)})}Us(i,c){return this.ls.getEntries(i,c).next(h=>this.Ks(i,h).next(()=>h))}Ks(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(i,c).next(h=>this.qs(c,h))}Gs(i,c,h){return rn.isDocumentKey((g=c).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(i,c.path):function lo(l){return null!==l.collectionGroup}(c)?this.js(i,c,h):this.Ws(i,c,h);var g}Qs(i,c){return this.Bs(i,new rn(c)).next(h=>{let g=al();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}js(i,c,h){const g=c.collectionGroup;let v=al();return this.indexManager.getCollectionParents(i,g).next(D=>ht.forEach(D,k=>{const $=(ne=c,Se=k.child(g),new In(Se,null,ne.explicitOrderBy.slice(),ne.filters.slice(),ne.limit,ne.limitType,ne.startAt,ne.endAt));var ne,Se;return this.Ws(i,$,h).next(ne=>{ne.forEach((Se,Le)=>{v=v.insert(Se,Le)})})}).next(()=>v))}Ws(i,c,h){let g;return this.ls.getAll(i,c.path,h).next(v=>(g=v,this.Fs.getAllMutationBatchesAffectingQuery(i,c))).next(v=>{for(const D of v)for(const k of D.mutations){const $=k.key;let ne=g.get($);null==ne&&(ne=si.newInvalidDocument($),g=g.insert($,ne)),Ko(k,ne,D.localWriteTime),ne.isFoundDocument()||(g=g.remove($))}}).next(()=>(g.forEach((v,D)=>{Ec(c,D)||(g=g.remove(v))}),g))}}class ph{constructor(i,c,h,g){this.targetId=i,this.fromCache=c,this.zs=h,this.Hs=g}static Js(i,c){let h=Wr(),g=Wr();for(const v of c.docChanges)switch(v.type){case 0:h=h.add(v.doc.key);break;case 1:g=g.add(v.doc.key)}return new ph(i,c.fromCache,h,g)}}class xg{Ys(i){this.Xs=i}Gs(i,c,h,g){return 0===(v=c).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||h.isEqual(Cn.min())?this.Zs(i,c):this.Xs.Us(i,g).next(v=>{const D=this.ti(c,v);return(vr(c)||bi(c))&&this.ei(c.limitType,D,g,h)?this.Zs(i,c):(_a()<=R.in.DEBUG&&Ut("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Ju(c)),this.Xs.Gs(i,c,h).next(k=>(D.forEach($=>{k=k.insert($.key,$)}),k)))});var v}ti(i,c){let h=new di(cp(i));return c.forEach((g,v)=>{Ec(i,v)&&(h=h.add(v))}),h}ei(i,c,h,g){if(h.size!==c.size)return!0;const v="F"===i?c.last():c.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(g)>0)}Zs(i,c){return _a()<=R.in.DEBUG&&Ut("QueryEngine","Using full collection scan to execute query:",Ju(c)),this.Xs.Gs(i,c,Cn.min())}}class Ef{constructor(i,c,h,g){this.persistence=i,this.ni=c,this.M=g,this.si=new xi(Xn),this.ii=new ol(v=>Xa(v),na),this.ri=Cn.min(),this.oi=i.getRemoteDocumentCache(),this.hs=i.getTargetCache(),this.fs=i.getBundleCache(),this.ai(h)}ai(i){this.indexManager=this.persistence.getIndexManager(i),this.Fs=this.persistence.getMutationQueue(i,this.indexManager),this.ui=new Sg(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>i.collect(c,this.si))}}function Rc(l,i){return kc.apply(this,arguments)}function kc(){return kc=(0,t.Z)(function*(l,i){const c=qt(l);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let g;return c.Fs.getAllMutationBatches(h).next(v=>(g=v,c.ai(i),c.Fs.getAllMutationBatches(h))).next(v=>{const D=[],k=[];let $=Wr();for(const ne of g){D.push(ne.batchId);for(const Se of ne.mutations)$=$.add(Se.key)}for(const ne of v){k.push(ne.batchId);for(const Se of ne.mutations)$=$.add(Se.key)}return c.ui.Us(h,$).next(ne=>({ci:ne,removedBatchIds:D,addedBatchIds:k}))})})}),kc.apply(this,arguments)}function Su(l,i){const c=qt(l);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=i.batch.keys(),v=c.oi.newChangeBuffer({trackRemovals:!0});return function(D,k,$,ne){const Se=$.batch,Le=Se.keys();let rt=ht.resolve();return Le.forEach(wt=>{rt=rt.next(()=>ne.getEntry(k,wt)).next(Nt=>{const Mn=$.docVersions.get(wt);Wn(null!==Mn),Nt.version.compareTo(Mn)<0&&(Se.applyToRemoteDocument(Nt,$),Nt.isValidDocument()&&(Nt.setReadTime($.commitVersion),ne.addEntry(Nt)))})}),rt.next(()=>D.Fs.removeMutationBatch(k,Se))}(c,h,i,v).next(()=>v.apply(h)).next(()=>c.Fs.performConsistencyCheck(h)).next(()=>c.ui.Us(h,g))})}function mh(l){const i=qt(l);return i.persistence.runTransaction("Get last remote snapshot version","readonly",c=>i.hs.getLastRemoteSnapshotVersion(c))}function K_(l,i){const c=qt(l),h=i.snapshotVersion;let g=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const D=c.oi.newChangeBuffer({trackRemovals:!0});g=c.si;const k=[];i.targetChanges.forEach((ne,Se)=>{const Le=g.get(Se);if(!Le)return;k.push(c.hs.removeMatchingKeys(v,ne.removedDocuments,Se).next(()=>c.hs.addMatchingKeys(v,ne.addedDocuments,Se)));let rt=Le.withSequenceNumber(v.currentSequenceNumber);var wt,Nt,Mn;i.targetMismatches.has(Se)?rt=rt.withResumeToken(yi.EMPTY_BYTE_STRING,Cn.min()).withLastLimboFreeSnapshotVersion(Cn.min()):ne.resumeToken.approximateByteSize()>0&&(rt=rt.withResumeToken(ne.resumeToken,h)),g=g.insert(Se,rt),Nt=rt,Mn=ne,(0===(wt=Le).resumeToken.approximateByteSize()||Nt.snapshotVersion.toMicroseconds()-wt.snapshotVersion.toMicroseconds()>=3e8||Mn.addedDocuments.size+Mn.modifiedDocuments.size+Mn.removedDocuments.size>0)&&k.push(c.hs.updateTargetData(v,rt))});let $=as();if(i.documentUpdates.forEach(ne=>{i.resolvedLimboDocuments.has(ne)&&k.push(c.persistence.referenceDelegate.updateLimboDocument(v,ne))}),k.push(function Ap(l,i,c){let h=Wr();return c.forEach(g=>h=h.add(g)),i.getEntries(l,h).next(g=>{let v=as();return c.forEach((D,k)=>{const $=g.get(D);k.isNoDocument()&&k.version.isEqual(Cn.min())?(i.removeEntry(D,k.readTime),v=v.insert(D,k)):!$.isValidDocument()||k.version.compareTo($.version)>0||0===k.version.compareTo($.version)&&$.hasPendingWrites?(i.addEntry(k),v=v.insert(D,k)):Ut("LocalStore","Ignoring outdated watch update for ",D,". Current version:",$.version," Watch version:",k.version)}),v})}(v,D,i.documentUpdates).next(ne=>{$=ne})),!h.isEqual(Cn.min())){const ne=c.hs.getLastRemoteSnapshotVersion(v).next(Se=>c.hs.setTargetsMetadata(v,v.currentSequenceNumber,h));k.push(ne)}return ht.waitFor(k).next(()=>D.apply(v)).next(()=>c.ui.Ks(v,$)).next(()=>$)}).then(v=>(c.si=g,v))}function Df(l,i){const c=qt(l);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===i&&(i=-1),c.Fs.getNextMutationBatchAfterBatchId(h,i)))}function hd(l,i){const c=qt(l);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return c.hs.getTargetData(h,i).next(v=>v?(g=v,ht.resolve(g)):c.hs.allocateTargetId(h).next(D=>(g=new gu(i,D,0,h.currentSequenceNumber),c.hs.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=c.si.get(h.targetId);return(null===g||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(c.si=c.si.insert(h.targetId,h),c.ii.set(i,h.targetId)),h})}function gl(l,i,c){return Sf.apply(this,arguments)}function Sf(){return Sf=(0,t.Z)(function*(l,i,c){const h=qt(l),g=h.si.get(i),v=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",v,D=>h.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!Cs(D))throw D;Ut("LocalStore",`Failed to update sequence numbers for target ${i}: ${D}`)}h.si=h.si.remove(i),h.ii.delete(g.target)}),Sf.apply(this,arguments)}function xf(l,i,c){const h=qt(l);let g=Cn.min(),v=Wr();return h.persistence.runTransaction("Execute query","readonly",D=>function(k,$,ne){const Se=qt(k),Le=Se.ii.get(ne);return void 0!==Le?ht.resolve(Se.si.get(Le)):Se.hs.getTargetData($,ne)}(h,D,ui(i)).next(k=>{if(k)return g=k.lastLimboFreeSnapshotVersion,h.hs.getMatchingKeysForTargetId(D,k.targetId).next($=>{v=$})}).next(()=>h.ni.Gs(D,i,c?g:Cn.min(),c?v:Wr())).next(k=>({documents:k,hi:v})))}class Mp{constructor(i){this.M=i,this._i=new Map,this.wi=new Map}getBundleMetadata(i,c){return ht.resolve(this._i.get(c))}saveBundleMetadata(i,c){var h;return this._i.set(c.id,{id:(h=c).id,version:h.version,createTime:uo(h.createTime)}),ht.resolve()}getNamedQuery(i,c){return ht.resolve(this.wi.get(c))}saveNamedQuery(i,c){return this.wi.set(c.name,{name:(h=c).name,query:gf(h.bundledQuery),readTime:uo(h.readTime)}),ht.resolve();var h}}class Op{constructor(){this.overlays=new xi(rn.comparator),this.mi=new Map}getOverlay(i,c){return ht.resolve(this.overlays.get(c))}saveOverlays(i,c,h){return h.forEach((g,v)=>{this.Xt(i,c,v)}),ht.resolve()}removeOverlaysForBatchId(i,c,h){const g=this.mi.get(h);return void 0!==g&&(g.forEach(v=>this.overlays=this.overlays.remove(v)),this.mi.delete(h)),ht.resolve()}getOverlaysForCollection(i,c,h){const g=cs(),v=c.length+1,D=new rn(c.child("")),k=this.overlays.getIteratorFrom(D);for(;k.hasNext();){const $=k.getNext().value,ne=$.getKey();if(!c.isPrefixOf(ne.path))break;ne.path.length===v&&$.largestBatchId>h&&g.set($.getKey(),$)}return ht.resolve(g)}getOverlaysForCollectionGroup(i,c,h,g){let v=new xi((ne,Se)=>ne-Se);const D=this.overlays.getIterator();for(;D.hasNext();){const ne=D.getNext().value;if(ne.getKey().getCollectionGroup()===c&&ne.largestBatchId>h){let Se=v.get(ne.largestBatchId);null===Se&&(Se=cs(),v=v.insert(ne.largestBatchId,Se)),Se.set(ne.getKey(),ne)}}const k=cs(),$=v.getIterator();for(;$.hasNext()&&($.getNext().value.forEach((ne,Se)=>k.set(ne,Se)),!(k.size()>=g)););return ht.resolve(k)}Xt(i,c,h){if(null===h)return;const g=this.overlays.get(h.key);if(null!==g){const D=this.mi.get(g.largestBatchId).delete(h.key);this.mi.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new sh(c,h));let v=this.mi.get(c);void 0===v&&(v=Wr(),this.mi.set(c,v)),this.mi.set(c,v.add(h.key))}}class Fc{constructor(){this.gi=new di(Jo.yi),this.pi=new di(Jo.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(i,c){const h=new Jo(i,c);this.gi=this.gi.add(h),this.pi=this.pi.add(h)}Ti(i,c){i.forEach(h=>this.addReference(h,c))}removeReference(i,c){this.Ei(new Jo(i,c))}Ai(i,c){i.forEach(h=>this.removeReference(h,c))}Ri(i){const c=new rn(new Nr([])),h=new Jo(c,i),g=new Jo(c,i+1),v=[];return this.pi.forEachInRange([h,g],D=>{this.Ei(D),v.push(D.key)}),v}bi(){this.gi.forEach(i=>this.Ei(i))}Ei(i){this.gi=this.gi.delete(i),this.pi=this.pi.delete(i)}Pi(i){const c=new rn(new Nr([])),h=new Jo(c,i),g=new Jo(c,i+1);let v=Wr();return this.pi.forEachInRange([h,g],D=>{v=v.add(D.key)}),v}containsKey(i){const c=new Jo(i,0),h=this.gi.firstAfterOrEqual(c);return null!==h&&i.isEqual(h.key)}}class Jo{constructor(i,c){this.key=i,this.Vi=c}static yi(i,c){return rn.comparator(i.key,c.key)||Xn(i.Vi,c.Vi)}static Ii(i,c){return Xn(i.Vi,c.Vi)||rn.comparator(i.key,c.key)}}class ml{constructor(i,c){this.indexManager=i,this.referenceDelegate=c,this.Fs=[],this.vi=1,this.Si=new di(Jo.yi)}checkEmpty(i){return ht.resolve(0===this.Fs.length)}addMutationBatch(i,c,h,g){const v=this.vi;this.vi++;const D=new dl(v,c,h,g);this.Fs.push(D);for(const k of g)this.Si=this.Si.add(new Jo(k.key,v)),this.indexManager.addToCollectionParentIndex(i,k.key.path.popLast());return ht.resolve(D)}lookupMutationBatch(i,c){return ht.resolve(this.Di(c))}getNextMutationBatchAfterBatchId(i,c){const g=this.Ci(c+1),v=g<0?0:g;return ht.resolve(this.Fs.length>v?this.Fs[v]:null)}getHighestUnacknowledgedBatchId(){return ht.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(i){return ht.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(i,c){const h=new Jo(c,0),g=new Jo(c,Number.POSITIVE_INFINITY),v=[];return this.Si.forEachInRange([h,g],D=>{const k=this.Di(D.Vi);v.push(k)}),ht.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(i,c){let h=new di(Xn);return c.forEach(g=>{const v=new Jo(g,0),D=new Jo(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([v,D],k=>{h=h.add(k.Vi)})}),ht.resolve(this.xi(h))}getAllMutationBatchesAffectingQuery(i,c){const h=c.path,g=h.length+1;let v=h;rn.isDocumentKey(v)||(v=v.child(""));const D=new Jo(new rn(v),0);let k=new di(Xn);return this.Si.forEachWhile($=>{const ne=$.key.path;return!!h.isPrefixOf(ne)&&(ne.length===g&&(k=k.add($.Vi)),!0)},D),ht.resolve(this.xi(k))}xi(i){const c=[];return i.forEach(h=>{const g=this.Di(h);null!==g&&c.push(g)}),c}removeMutationBatch(i,c){Wn(0===this.Ni(c.batchId,"removed")),this.Fs.shift();let h=this.Si;return ht.forEach(c.mutations,g=>{const v=new Jo(g.key,c.batchId);return h=h.delete(v),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.Si=h})}dn(i){}containsKey(i,c){const h=new Jo(c,0),g=this.Si.firstAfterOrEqual(h);return ht.resolve(c.isEqual(g&&g.key))}performConsistencyCheck(i){return ht.resolve()}Ni(i,c){return this.Ci(i)}Ci(i){return 0===this.Fs.length?0:i-this.Fs[0].batchId}Di(i){const c=this.Ci(i);return c<0||c>=this.Fs.length?null:this.Fs[c]}}class Y_{constructor(i){this.ki=i,this.docs=new xi(rn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,c){const h=c.key,g=this.docs.get(h),v=g?g.size:0,D=this.ki(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:D}),this.size+=D-v,this.indexManager.addToCollectionParentIndex(i,h.path.popLast())}removeEntry(i){const c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)}getEntry(i,c){const h=this.docs.get(c);return ht.resolve(h?h.document.mutableCopy():si.newInvalidDocument(c))}getEntries(i,c){let h=as();return c.forEach(g=>{const v=this.docs.get(g);h=h.insert(g,v?v.document.mutableCopy():si.newInvalidDocument(g))}),ht.resolve(h)}getAll(i,c,h){let g=as();const v=new rn(c.child("")),D=this.docs.getIteratorFrom(v);for(;D.hasNext();){const{key:k,value:{document:$}}=D.getNext();if(!c.isPrefixOf(k.path))break;k.path.length>c.length+1||$.readTime.compareTo(h)<=0||(g=g.insert($.key,$.mutableCopy()))}return ht.resolve(g)}Mi(i,c){return ht.forEach(this.docs,h=>c(h))}newChangeBuffer(i){return new J_(this)}getSize(i){return ht.resolve(this.size)}}class J_ extends class Pa{constructor(){this.changes=new ol(i=>i.toString(),(i,c)=>i.isEqual(c)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,c){this.assertNotApplied(),this.changes.set(i,si.newInvalidDocument(i).setReadTime(c))}getEntry(i,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?ht.resolve(h):this.getFromCache(i,c)}getEntries(i,c){return this.getAllFromCache(i,c)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}{constructor(i){super(),this.Un=i}applyChanges(i){const c=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?c.push(this.Un.addEntry(i,g)):this.Un.removeEntry(h)}),ht.waitFor(c)}getFromCache(i,c){return this.Un.getEntry(i,c)}getAllFromCache(i,c){return this.Un.getEntries(i,c)}}class Q_{constructor(i){this.persistence=i,this.Oi=new ol(c=>Xa(c),na),this.lastRemoteSnapshotVersion=Cn.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Fc,this.targetCount=0,this.Bi=Nc.mn()}forEachTarget(i,c){return this.Oi.forEach((h,g)=>c(g)),ht.resolve()}getLastRemoteSnapshotVersion(i){return ht.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return ht.resolve(this.$i)}allocateTargetId(i){return this.highestTargetId=this.Bi.next(),ht.resolve(this.highestTargetId)}setTargetsMetadata(i,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.$i&&(this.$i=c),ht.resolve()}In(i){this.Oi.set(i.target,i);const c=i.targetId;c>this.highestTargetId&&(this.Bi=new Nc(c),this.highestTargetId=c),i.sequenceNumber>this.$i&&(this.$i=i.sequenceNumber)}addTargetData(i,c){return this.In(c),this.targetCount+=1,ht.resolve()}updateTargetData(i,c){return this.In(c),ht.resolve()}removeTargetData(i,c){return this.Oi.delete(c.target),this.Fi.Ri(c.targetId),this.targetCount-=1,ht.resolve()}removeTargets(i,c,h){let g=0;const v=[];return this.Oi.forEach((D,k)=>{k.sequenceNumber<=c&&null===h.get(k.targetId)&&(this.Oi.delete(D),v.push(this.removeMatchingKeysForTargetId(i,k.targetId)),g++)}),ht.waitFor(v).next(()=>g)}getTargetCount(i){return ht.resolve(this.targetCount)}getTargetData(i,c){const h=this.Oi.get(c)||null;return ht.resolve(h)}addMatchingKeys(i,c,h){return this.Fi.Ti(c,h),ht.resolve()}removeMatchingKeys(i,c,h){this.Fi.Ai(c,h);const g=this.persistence.referenceDelegate,v=[];return g&&c.forEach(D=>{v.push(g.markPotentiallyOrphaned(i,D))}),ht.waitFor(v)}removeMatchingKeysForTargetId(i,c){return this.Fi.Ri(c),ht.resolve()}getMatchingKeysForTargetId(i,c){const h=this.Fi.Pi(c);return ht.resolve(h)}containsKey(i,c){return ht.resolve(this.Fi.containsKey(c))}}class _l{constructor(i,c){this.Li={},this.overlays={},this.Zn=new Zr(0),this.ts=!1,this.ts=!0,this.referenceDelegate=i(this),this.hs=new Q_(this),this.indexManager=new hl,this.ls=new Y_(h=>this.referenceDelegate.qi(h)),this.M=new mu(c),this.fs=new Mp(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let c=this.overlays[i.toKey()];return c||(c=new Op,this.overlays[i.toKey()]=c),c}getMutationQueue(i,c){let h=this.Li[i.toKey()];return h||(h=new ml(c,this.referenceDelegate),this.Li[i.toKey()]=h),h}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(i,c,h){Ut("MemoryPersistence","Starting transaction:",i);const g=new xu(this.Zn.next());return this.referenceDelegate.Ui(),h(g).next(v=>this.referenceDelegate.Ki(g).next(()=>v)).toPromise().then(v=>(g.raiseOnCommittedEvent(),v))}Gi(i,c){return ht.or(Object.values(this.Li).map(h=>()=>h.containsKey(i,c)))}}class xu extends class Aa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}{constructor(i){super(),this.currentSequenceNumber=i}}class Au{constructor(i){this.persistence=i,this.Qi=new Fc,this.ji=null}static Wi(i){return new Au(i)}get zi(){if(this.ji)return this.ji;throw Nn()}addReference(i,c,h){return this.Qi.addReference(h,c),this.zi.delete(h.toString()),ht.resolve()}removeReference(i,c,h){return this.Qi.removeReference(h,c),this.zi.add(h.toString()),ht.resolve()}markPotentiallyOrphaned(i,c){return this.zi.add(c.toString()),ht.resolve()}removeTarget(i,c){this.Qi.Ri(c.targetId).forEach(g=>this.zi.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(i,c.targetId).next(g=>{g.forEach(v=>this.zi.add(v.toString()))}).next(()=>h.removeTargetData(i,c))}Ui(){this.ji=new Set}Ki(i){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ht.forEach(this.zi,h=>{const g=rn.fromPath(h);return this.Hi(i,g).next(v=>{v||c.removeEntry(g,Cn.min())})}).next(()=>(this.ji=null,c.apply(i)))}updateLimboDocument(i,c){return this.Hi(i,c).next(h=>{h?this.zi.delete(c.toString()):this.zi.add(c.toString())})}qi(i){return 0}Hi(i,c){return ht.or([()=>ht.resolve(this.Qi.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(i,c),()=>this.persistence.Gi(i,c)])}}class Og{constructor(){this.activeTargetIds=sf()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class js{constructor(){this.Or=new Og,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,c,h){}addLocalQueryTarget(i){return this.Or.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,c,h){this.$r[i]=c}removeLocalQueryTarget(i){this.Or.Zi(i)}isLocalQueryTarget(i){return this.Or.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(i){return this.Or.activeTargetIds.has(i)}start(){return this.Or=new Og,Promise.resolve()}handleUserChange(i,c,h){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Pg{Fr(i){}shutdown(){}}class Ng{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(i){this.Kr.push(i)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){Ut("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Kr)i(0)}Ur(){Ut("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Kr)i(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Np={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class yl{constructor(i){this.Qr=i.Qr,this.jr=i.jr}Wr(i){this.zr=i}Hr(i){this.Jr=i}onMessage(i){this.Yr=i}close(){this.jr()}send(i){this.Qr(i)}Xr(){this.zr()}Zr(i){this.Jr(i)}eo(i){this.Yr(i)}}class Ch extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.no=(i.ssl?"https":"http")+"://"+i.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(i,c,h,g,v){const D=this.ro(i,c);Ut("RestConnection","Sending: ",D,h);const k={};return this.oo(k,g,v),this.ao(i,D,k,h).then($=>(Ut("RestConnection","Received: ",$),$),$=>{throw Ji("RestConnection",`${i} failed with error: `,$,"url: ",D,"request:",h),$})}uo(i,c,h,g,v){return this.io(i,c,h,g,v)}oo(i,c,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+Rs,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((g,v)=>i[v]=g),h&&h.headers.forEach((g,v)=>i[v]=g)}ro(i,c){return`${this.no}/v1/${c}:${Np[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}ao(i,c,h,g){return new Promise((v,D)=>{const k=new jd;k.listenOnce(Ud.COMPLETE,()=>{try{switch(k.getLastErrorCode()){case rp.NO_ERROR:const ne=k.getResponseJson();Ut("Connection","XHR received:",JSON.stringify(ne)),v(ne);break;case rp.TIMEOUT:Ut("Connection",'RPC "'+i+'" timed out'),D(new Dt(ut.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const Se=k.getStatus();if(Ut("Connection",'RPC "'+i+'" failed with status:',Se,"response text:",k.getResponseText()),Se>0){const Le=k.getResponseJson().error;if(Le&&Le.status&&Le.message){const rt=function(wt){const Nt=wt.toLowerCase().replace(/_/g,"-");return Object.values(ut).indexOf(Nt)>=0?Nt:ut.UNKNOWN}(Le.status);D(new Dt(rt,Le.message))}else D(new Dt(ut.UNKNOWN,"Server responded with status "+k.getStatus()))}else D(new Dt(ut.UNAVAILABLE,"Connection failed."));break;default:Nn()}}finally{Ut("Connection",'RPC "'+i+'" completed.')}});const $=JSON.stringify(g);k.send(c,"POST",$,h,15)})}co(i,c,h){const g=[this.no,"/","google.firestore.v1.Firestore","/",i,"/channel"],v=cg(),D=Sm(),k={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(k.xmlHttpFactory=new Kh({})),this.oo(k.initMessageHeaders,c,h),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(k.httpHeadersOverwriteParam="$httpHeaders");const $=g.join("");Ut("Connection","Creating WebChannel: "+$,k);const ne=v.createWebChannel($,k);let Se=!1,Le=!1;const rt=new yl({Qr:Nt=>{Le?Ut("Connection","Not sending because WebChannel is closed:",Nt):(Se||(Ut("Connection","Opening WebChannel transport."),ne.open(),Se=!0),Ut("Connection","WebChannel sending:",Nt),ne.send(Nt))},jr:()=>ne.close()}),wt=(Nt,Mn,lr)=>{Nt.listen(Mn,Gi=>{try{lr(Gi)}catch(_r){setTimeout(()=>{throw _r},0)}})};return wt(ne,Xc.EventType.OPEN,()=>{Le||Ut("Connection","WebChannel transport opened.")}),wt(ne,Xc.EventType.CLOSE,()=>{Le||(Le=!0,Ut("Connection","WebChannel transport closed"),rt.Zr())}),wt(ne,Xc.EventType.ERROR,Nt=>{Le||(Le=!0,Ji("Connection","WebChannel transport errored:",Nt),rt.Zr(new Dt(ut.UNAVAILABLE,"The operation could not be completed")))}),wt(ne,Xc.EventType.MESSAGE,Nt=>{var Mn;if(!Le){const lr=Nt.data[0];Wn(!!lr);const Gi=lr,_r=Gi.error||(null===(Mn=Gi[0])||void 0===Mn?void 0:Mn.error);if(_r){Ut("Connection","WebChannel received error:",_r);const oo=_r.status;let go=function(Cr){const es=Mi[Cr];if(void 0!==es)return Kd(es)}(oo),mo=_r.message;void 0===go&&(go=ut.INTERNAL,mo="Unknown error status: "+oo+" with message "+_r.message),Le=!0,rt.Zr(new Dt(go,mo)),ne.close()}else Ut("Connection","WebChannel received:",lr),rt.eo(lr)}}),wt(D,gi.STAT_EVENT,Nt=>{Nt.stat===Zu.PROXY?Ut("Connection","Detected buffering proxy"):Nt.stat===Zu.NOPROXY&&Ut("Connection","Detected no buffering proxy")}),setTimeout(()=>{rt.Xr()},0),rt}}function vl(){return"undefined"!=typeof document?document:null}function bl(l){return new mg(l,!0)}class ac{constructor(i,c,h=1e3,g=1.5,v=6e4){this.Hn=i,this.timerId=c,this.ho=h,this.lo=g,this.fo=v,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(i){this.cancel();const c=Math.floor(this._o+this.Io()),h=Math.max(0,Date.now()-this.mo),g=Math.max(0,c-h);g>0&&Ut("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),i())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class kp{constructor(i,c,h,g,v,D,k,$){this.Hn=i,this.Eo=h,this.Ao=g,this.Ro=v,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=k,this.listener=$,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new ac(i,c)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var i=this;return(0,t.Z)(function*(){i.So()&&(yield i.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(i){this.Oo(),this.stream.send(i)}ko(){var i=this;return(0,t.Z)(function*(){if(i.Do())return i.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,c){var h=this;return(0,t.Z)(function*(){h.Oo(),h.$o(),h.vo.cancel(),h.bo++,4!==i?h.vo.reset():c&&c.code===ut.RESOURCE_EXHAUSTED?(Gn(c.toString()),Gn("Using maximum backoff delay to prevent overloading the backend."),h.vo.yo()):c&&c.code===ut.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Fo(),h.stream.close(),h.stream=null),h.state=i,yield h.listener.Hr(c)})()}Fo(){}auth(){this.state=1;const i=this.Bo(this.bo),c=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.bo===c&&this.Lo(h,g)},h=>{i(()=>{const g=new Dt(ut.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(g)})})}Lo(i,c){const h=this.Bo(this.bo);this.stream=this.Uo(i,c),this.stream.Wr(()=>{h(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{h(()=>this.qo(g))}),this.stream.onMessage(g=>{h(()=>this.onMessage(g))})}Co(){var i=this;this.state=5,this.vo.po((0,t.Z)(function*(){i.state=0,i.start()}))}qo(i){return Ut("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Bo(i){return c=>{this.Hn.enqueueAndForget(()=>this.bo===i?c():(Ut("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Rg extends kp{constructor(i,c,h,g,v,D){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,g,D),this.M=v}Uo(i,c){return this.Ro.co("Listen",i,c)}onMessage(i){this.vo.reset();const c=function gv(l,i){let c;if("targetChange"in i){const h="NO_CHANGE"===($=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===$?1:"REMOVE"===$?2:"CURRENT"===$?3:"RESET"===$?4:Nn(),g=i.targetChange.targetIds||[],v=function($,ne){return $.N?(Wn(void 0===ne||"string"==typeof ne),yi.fromBase64String(ne||"")):(Wn(void 0===ne||ne instanceof Uint8Array),yi.fromUint8Array(ne||new Uint8Array))}(l,i.targetChange.resumeToken),D=i.targetChange.cause,k=D&&function($){const ne=void 0===$.code?ut.UNKNOWN:Kd($.code);return new Dt(ne,$.message||"")}(D);c=new Sc(h,g,v,k||null)}else if("documentChange"in i){const h=i.documentChange,g=xc(l,h.document.name),v=uo(h.document.updateTime),D=new Hr({mapValue:{fields:h.document.fields}}),k=si.newFoundDocument(g,v,D);c=new Xd(h.targetIds||[],h.removedTargetIds||[],k.key,k)}else if("documentDelete"in i){const h=i.documentDelete,g=xc(l,h.document),v=h.readTime?uo(h.readTime):Cn.min(),D=si.newNoDocument(g,v);c=new Xd([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in i){const h=i.documentRemove,g=xc(l,h.document);c=new Xd([],h.removedTargetIds||[],g,null)}else{if(!("filter"in i))return Nn();{const h=i.filter,v=new ed(h.count||0);c=new cf(h.targetId,v)}}var $;return c}(this.M,i),h=function(g){if(!("targetChange"in g))return Cn.min();const v=g.targetChange;return v.targetIds&&v.targetIds.length?Cn.min():v.readTime?uo(v.readTime):Cn.min()}(i);return this.listener.Ko(c,h)}Go(i){const c={};c.database=yp(this.M),c.addTarget=function(g,v){let D;const k=v.target;return D=Do(k)?{documents:vp(g,k)}:{query:Sa(g,k)},D.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?D.resumeToken=lf(g,v.resumeToken):v.snapshotVersion.compareTo(Cn.min())>0&&(D.readTime=td(g,v.snapshotVersion.toTimestamp())),D}(this.M,i);const h=function Jt(l,i){const c=function(h,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Nn()}}(0,i.purpose);return null==c?null:{"goog-listen-tags":c}}(0,i);h&&(c.labels=h),this.Mo(c)}Qo(i){const c={};c.database=yp(this.M),c.removeTarget=i,this.Mo(c)}}class If extends kp{constructor(i,c,h,g,v,D){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,g,D),this.M=v,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(i,c){return this.Ro.co("Write",i,c)}onMessage(i){if(Wn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.jo){this.vo.reset();const c=function Ls(l,i){return l&&l.length>0?(Wn(void 0!==i),l.map(c=>function(h,g){let v=uo(h.updateTime?h.updateTime:g);return v.isEqual(Cn.min())&&(v=uo(g)),new cu(v,h.transformResults||[])}(c,i))):[]}(i.writeResults,i.commitTime),h=uo(i.commitTime);return this.listener.Ho(h,c)}return Wn(!i.writeResults||0===i.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const i={};i.database=yp(this.M),this.Mo(i)}zo(i){const c={streamToken:this.lastStreamToken,writes:i.map(h=>function vg(l,i){let c;if(i instanceof Da)c={update:Im(l,i.key,i.value)};else if(i instanceof tf)c={delete:nd(l,i.key)};else if(i instanceof Xu)c={update:Im(l,i.key,i.data),updateMask:tc(i.fieldMask)};else{if(!(i instanceof ia))return Nn();c={verify:nd(l,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(h=>function(g,v){const D=v.transform;if(D instanceof ou)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof Ea)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof su)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof il)return{fieldPath:v.field.canonicalString(),increment:D.k};throw Nn()}(0,h))),i.precondition.isNone||(c.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:_g(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Nn()),c;var g}(this.M,h))};this.Mo(c)}}class Fp extends class{}{constructor(i,c,h,g){super(),this.authCredentials=i,this.appCheckCredentials=c,this.Ro=h,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new Dt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}io(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.io(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Dt(ut.UNKNOWN,g.toString())})}uo(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.uo(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===ut.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new Dt(ut.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class md{constructor(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(i){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ia("Offline")))}set(i){this.aa(),this.ta=0,"Online"===i&&(this.na=!1),this.ia(i)}ia(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ra(i){const c=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(Gn(c),this.na=!1):Ut("OnlineStateTracker",c)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class kg{constructor(i,c,h,g,v){var D=this;this.localStore=i,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=v,this.fa.Fr(k=>{h.enqueueAndForget((0,t.Z)(function*(){var $;po(D)&&(Ut("RemoteStore","Restarting streams for network reachability change."),yield($=(0,t.Z)(function*(ne){const Se=qt(ne);Se.ha.add(4),yield _d(Se),Se.da.set("Unknown"),Se.ha.delete(4),yield Mu(Se)}),function(ne){return $.apply(this,arguments)})(D))}))}),this.da=new md(h,g)}}function Mu(l){return Fg.apply(this,arguments)}function Fg(){return Fg=(0,t.Z)(function*(l){if(po(l))for(const i of l.la)yield i(!0)}),Fg.apply(this,arguments)}function _d(l){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,t.Z)(function*(l){for(const i of l.la)yield i(!1)}),Pm.apply(this,arguments)}function Mf(l,i){const c=qt(l);c.ca.has(i.targetId)||(c.ca.set(i.targetId,i),Bg(c)?wh(c):vt(c).Do()&&Lg(c,i))}function Ou(l,i){const c=qt(l),h=vt(c);c.ca.delete(i),h.Do()&&Of(c,i),0===c.ca.size&&(h.Do()?h.No():po(c)&&c.da.set("Unknown"))}function Lg(l,i){l._a.Z(i.targetId),vt(l).Go(i)}function Of(l,i){l._a.Z(i),vt(l).Qo(i)}function wh(l){l._a=new H_({getRemoteKeysForTarget:i=>l.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>l.ca.get(i)||null}),vt(l).start(),l.da.sa()}function Bg(l){return po(l)&&!vt(l).So()&&l.ca.size>0}function po(l){return 0===qt(l).ha.size}function Pf(l){l._a=void 0}function X_(l){return Th.apply(this,arguments)}function Th(){return Th=(0,t.Z)(function*(l){l.ca.forEach((i,c)=>{Lg(l,i)})}),Th.apply(this,arguments)}function Q0(l,i){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,t.Z)(function*(l,i){Pf(l),Bg(l)?(l.da.oa(i),wh(l)):l.da.set("Unknown")}),Lp.apply(this,arguments)}function Bp(l,i,c){return Ug.apply(this,arguments)}function Ug(){return Ug=(0,t.Z)(function*(l,i,c){if(l.da.set("Online"),i instanceof Sc&&2===i.state&&i.cause)try{yield(h=(0,t.Z)(function*(g,v){const D=v.cause;for(const k of v.targetIds)g.ca.has(k)&&(yield g.remoteSyncer.rejectListen(k,D),g.ca.delete(k),g._a.removeTarget(k))}),function(g,v){return h.apply(this,arguments)})(l,i)}catch(h){Ut("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield Eh(l,h)}else if(i instanceof Xd?l._a.at(i):i instanceof cf?l._a._t(i):l._a.ht(i),!c.isEqual(Cn.min()))try{const h=yield mh(l.localStore);c.compareTo(h)>=0&&(yield function(g,v){const D=g._a.yt(v);return D.targetChanges.forEach((k,$)=>{if(k.resumeToken.approximateByteSize()>0){const ne=g.ca.get($);ne&&g.ca.set($,ne.withResumeToken(k.resumeToken,v))}}),D.targetMismatches.forEach(k=>{const $=g.ca.get(k);if(!$)return;g.ca.set(k,$.withResumeToken(yi.EMPTY_BYTE_STRING,$.snapshotVersion)),Of(g,k);const ne=new gu($.target,k,1,$.sequenceNumber);Lg(g,ne)}),g.remoteSyncer.applyRemoteEvent(D)}(l,c))}catch(h){Ut("RemoteStore","Failed to raise snapshot:",h),yield Eh(l,h)}var h}),Ug.apply(this,arguments)}function Eh(l,i,c){return Up.apply(this,arguments)}function Up(){return Up=(0,t.Z)(function*(l,i,c){if(!Cs(i))throw i;l.ha.add(1),yield _d(l),l.da.set("Offline"),c||(c=()=>mh(l.localStore)),l.asyncQueue.enqueueRetryable((0,t.Z)(function*(){Ut("RemoteStore","Retrying IndexedDB access"),yield c(),l.ha.delete(1),yield Mu(l)}))}),Up.apply(this,arguments)}function Nm(l,i){return i().catch(c=>Eh(l,c,i))}function Dh(l){return jg.apply(this,arguments)}function jg(){return jg=(0,t.Z)(function*(l){const i=qt(l),c=Rt(i);let h=i.ua.length>0?i.ua[i.ua.length-1].batchId:-1;for(;Rm(i);)try{const g=yield Df(i.localStore,h);if(null===g){0===i.ua.length&&c.No();break}h=g.batchId,e0(i,g)}catch(g){yield Eh(i,g)}Vg(i)&&Gg(i)}),jg.apply(this,arguments)}function Rm(l){return po(l)&&l.ua.length<10}function e0(l,i){l.ua.push(i);const c=Rt(l);c.Do()&&c.Wo&&c.zo(i.mutations)}function Vg(l){return po(l)&&!Rt(l).So()&&l.ua.length>0}function Gg(l){Rt(l).start()}function t0(l){return jp.apply(this,arguments)}function jp(){return jp=(0,t.Z)(function*(l){Rt(l).Yo()}),jp.apply(this,arguments)}function km(l){return Hg.apply(this,arguments)}function Hg(){return Hg=(0,t.Z)(function*(l){const i=Rt(l);for(const c of l.ua)i.zo(c.mutations)}),Hg.apply(this,arguments)}function Lc(l,i,c){return w.apply(this,arguments)}function w(){return w=(0,t.Z)(function*(l,i,c){const h=l.ua.shift(),g=pu.from(h,i,c);yield Nm(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Dh(l)}),w.apply(this,arguments)}function _(l,i){return C.apply(this,arguments)}function C(){return C=(0,t.Z)(function*(l,i){var c;i&&Rt(l).Wo&&(yield(c=(0,t.Z)(function*(h,g){if(gp(v=g.code)&&v!==ut.ABORTED){const D=h.ua.shift();Rt(h).xo(),yield Nm(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,g)),yield Dh(h)}var v}),function(h,g){return c.apply(this,arguments)})(l,i)),Vg(l)&&Gg(l)}),C.apply(this,arguments)}function M(l,i){return W.apply(this,arguments)}function W(){return W=(0,t.Z)(function*(l,i){const c=qt(l);c.asyncQueue.verifyOperationInProgress(),Ut("RemoteStore","RemoteStore received new credentials");const h=po(c);c.ha.add(3),yield _d(c),h&&c.da.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(i),c.ha.delete(3),yield Mu(c)}),W.apply(this,arguments)}function ze(){return ze=(0,t.Z)(function*(l,i){const c=qt(l);i?(c.ha.delete(2),yield Mu(c)):i||(c.ha.add(2),yield _d(c),c.da.set("Unknown"))}),ze.apply(this,arguments)}function vt(l){return l.wa||(l.wa=function(i,c,h){const g=qt(i);return g.Zo(),new Rg(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(l.datastore,l.asyncQueue,{Wr:X_.bind(null,l),Hr:Q0.bind(null,l),Ko:Bp.bind(null,l)}),l.la.push(function(){var i=(0,t.Z)(function*(c){c?(l.wa.xo(),Bg(l)?wh(l):l.da.set("Unknown")):(yield l.wa.stop(),Pf(l))});return function(c){return i.apply(this,arguments)}}())),l.wa}function Rt(l){return l.ma||(l.ma=function(i,c,h){const g=qt(i);return g.Zo(),new If(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(l.datastore,l.asyncQueue,{Wr:t0.bind(null,l),Hr:_.bind(null,l),Jo:km.bind(null,l),Ho:Lc.bind(null,l)}),l.la.push(function(){var i=(0,t.Z)(function*(c){c?(l.ma.xo(),yield Dh(l)):(yield l.ma.stop(),l.ua.length>0&&(Ut("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(c){return i.apply(this,arguments)}}())),l.ma}class Rn{constructor(i,c,h,g,v){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=h,this.op=g,this.removalCallback=v,this.deferred=new qr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(i,c,h,g,v){const D=Date.now()+h,k=new Rn(i,c,D,g,v);return k.start(h),k}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Dt(ut.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Vn(l,i){if(Gn("AsyncQueue",`${i}: ${l}`),Cs(l))return new Dt(ut.UNAVAILABLE,`${i}: ${l}`);throw l}class br{constructor(i){this.comparator=i?(c,h)=>i(c,h)||rn.comparator(c.key,h.key):(c,h)=>rn.comparator(c.key,h.key),this.keyedMap=al(),this.sortedSet=new xi(this.comparator)}static emptySet(i){return new br(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((c,h)=>(i(c),!1))}add(i){const c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))}delete(i){const c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this}isEqual(i){if(!(i instanceof br)||this.size!==i.size)return!1;const c=this.sortedSet.getIterator(),h=i.sortedSet.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(!g.isEqual(v))return!1}return!0}toString(){const i=[];return this.forEach(c=>{i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,c){const h=new br;return h.comparator=this.comparator,h.keyedMap=i,h.sortedSet=c,h}}class ws{constructor(){this.ga=new xi(rn.comparator)}track(i){const c=i.doc.key,h=this.ga.get(c);h?0!==i.type&&3===h.type?this.ga=this.ga.insert(c,i):3===i.type&&1!==h.type?this.ga=this.ga.insert(c,{type:h.type,doc:i.doc}):2===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):2===i.type&&0===h.type?this.ga=this.ga.insert(c,{type:0,doc:i.doc}):1===i.type&&0===h.type?this.ga=this.ga.remove(c):1===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:1,doc:h.doc}):0===i.type&&1===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):Nn():this.ga=this.ga.insert(c,i)}ya(){const i=[];return this.ga.inorderTraversal((c,h)=>{i.push(h)}),i}}class Vs{constructor(i,c,h,g,v,D,k,$){this.query=i,this.docs=c,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=v,this.fromCache=D,this.syncStateChanged=k,this.excludesMetadataChanges=$}static fromInitialDocuments(i,c,h,g){const v=[];return c.forEach(D=>{v.push({type:0,doc:D})}),new Vs(i,c,br.emptySet(c),v,h,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&rl(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const c=this.docChanges,h=i.docChanges;if(c.length!==h.length)return!1;for(let g=0;g<c.length;g++)if(c[g].type!==h[g].type||!c[g].doc.isEqual(h[g].doc))return!1;return!0}}class yd{constructor(){this.pa=void 0,this.listeners=[]}}class Nf{constructor(){this.queries=new ol(i=>Tc(i),rl),this.onlineState="Unknown",this.Ia=new Set}}function Sh(){return Sh=(0,t.Z)(function*(l,i){const c=qt(l),h=i.query;let g=!1,v=c.queries.get(h);if(v||(g=!0,v=new yd),g)try{v.pa=yield c.onListen(h)}catch(D){const k=Vn(D,`Initialization of query '${Ju(i.query)}' failed`);return void i.onError(k)}c.queries.set(h,v),v.listeners.push(i),i.Ta(c.onlineState),v.pa&&i.Ea(v.pa)&&Nu(c)}),Sh.apply(this,arguments)}function Pu(){return Pu=(0,t.Z)(function*(l,i){const c=qt(l),h=i.query;let g=!1;const v=c.queries.get(h);if(v){const D=v.listeners.indexOf(i);D>=0&&(v.listeners.splice(D,1),g=0===v.listeners.length)}if(g)return c.queries.delete(h),c.onUnlisten(h)}),Pu.apply(this,arguments)}function Fm(l,i){const c=qt(l);let h=!1;for(const g of i){const D=c.queries.get(g.query);if(D){for(const k of D.listeners)k.Ea(g)&&(h=!0);D.pa=g}}h&&Nu(c)}function $g(l,i,c){const h=qt(l),g=h.queries.get(i);if(g)for(const v of g.listeners)v.onError(c);h.queries.delete(i)}function Nu(l){l.Ia.forEach(i=>{i.next()})}class xh{constructor(i,c,h){this.query=i,this.Aa=c,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=h||{}}Ea(i){if(!this.options.includeMetadataChanges){const h=[];for(const g of i.docChanges)3!==g.type&&h.push(g);i=new Vs(i.query,i.docs,i.oldDocs,h,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let c=!1;return this.Ra?this.Pa(i)&&(this.Aa.next(i),c=!0):this.Va(i,this.onlineState)&&(this.va(i),c=!0),this.ba=i,c}onError(i){this.Aa.error(i)}Ta(i){this.onlineState=i;let c=!1;return this.ba&&!this.Ra&&this.Va(this.ba,i)&&(this.va(this.ba),c=!0),c}Va(i,c){return!i.fromCache||!(this.options.Sa&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)}Pa(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(i){i=Vs.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Ra=!0,this.Aa.next(i)}}class Ra{constructor(i){this.key=i}}class Ru{constructor(i){this.key=i}}class Ah{constructor(i,c){this.query=i,this.ka=c,this.Ma=null,this.current=!1,this.Oa=Wr(),this.mutatedKeys=Wr(),this.$a=cp(i),this.Fa=new br(this.$a)}get Ba(){return this.ka}La(i,c){const h=c?c.qa:new ws,g=c?c.Fa:this.Fa;let v=c?c.mutatedKeys:this.mutatedKeys,D=g,k=!1;const $=vr(this.query)&&g.size===this.query.limit?g.last():null,ne=bi(this.query)&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((Se,Le)=>{const rt=g.get(Se),wt=Ec(this.query,Le)?Le:null,Nt=!!rt&&this.mutatedKeys.has(rt.key),Mn=!!wt&&(wt.hasLocalMutations||this.mutatedKeys.has(wt.key)&&wt.hasCommittedMutations);let lr=!1;rt&&wt?rt.data.isEqual(wt.data)?Nt!==Mn&&(h.track({type:3,doc:wt}),lr=!0):this.Ua(rt,wt)||(h.track({type:2,doc:wt}),lr=!0,($&&this.$a(wt,$)>0||ne&&this.$a(wt,ne)<0)&&(k=!0)):!rt&&wt?(h.track({type:0,doc:wt}),lr=!0):rt&&!wt&&(h.track({type:1,doc:rt}),lr=!0,($||ne)&&(k=!0)),lr&&(wt?(D=D.add(wt),v=Mn?v.add(Se):v.delete(Se)):(D=D.delete(Se),v=v.delete(Se)))}),vr(this.query)||bi(this.query))for(;D.size>this.query.limit;){const Se=vr(this.query)?D.last():D.first();D=D.delete(Se.key),v=v.delete(Se.key),h.track({type:1,doc:Se})}return{Fa:D,qa:h,ei:k,mutatedKeys:v}}Ua(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(i,c,h){const g=this.Fa;this.Fa=i.Fa,this.mutatedKeys=i.mutatedKeys;const v=i.qa.ya();v.sort((ne,Se)=>function(Le,rt){const wt=Nt=>{switch(Nt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Nn()}};return wt(Le)-wt(rt)}(ne.type,Se.type)||this.$a(ne.doc,Se.doc)),this.Ka(h);const D=c?this.Ga():[],k=0===this.Oa.size&&this.current?1:0,$=k!==this.Ma;return this.Ma=k,0!==v.length||$?{snapshot:new Vs(this.query,i.Fa,g,v,i.mutatedKeys,0===k,$,!1),Qa:D}:{Qa:D}}Ta(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new ws,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(i){return!this.ka.has(i)&&!!this.Fa.has(i)&&!this.Fa.get(i).hasLocalMutations}Ka(i){i&&(i.addedDocuments.forEach(c=>this.ka=this.ka.add(c)),i.modifiedDocuments.forEach(c=>{}),i.removedDocuments.forEach(c=>this.ka=this.ka.delete(c)),this.current=i.current)}Ga(){if(!this.current)return[];const i=this.Oa;this.Oa=Wr(),this.Fa.forEach(h=>{this.ja(h.key)&&(this.Oa=this.Oa.add(h.key))});const c=[];return i.forEach(h=>{this.Oa.has(h)||c.push(new Ru(h))}),this.Oa.forEach(h=>{i.has(h)||c.push(new Ra(h))}),c}Wa(i){this.ka=i.hi,this.Oa=Wr();const c=this.La(i.documents);return this.applyChanges(c,!0)}za(){return Vs.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class mv{constructor(i,c,h){this.query=i,this.targetId=c,this.view=h}}class Lm{constructor(i){this.key=i,this.Ha=!1}}class Bm{constructor(i,c,h,g,v,D){this.localStore=i,this.remoteStore=c,this.eventManager=h,this.sharedClientState=g,this.currentUser=v,this.maxConcurrentLimboResolutions=D,this.Ja={},this.Ya=new ol(k=>Tc(k),rl),this.Xa=new Map,this.Za=new Set,this.tu=new xi(rn.comparator),this.eu=new Map,this.nu=new Fc,this.su={},this.iu=new Map,this.ru=Nc.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function Um(l,i){return vd.apply(this,arguments)}function vd(){return vd=(0,t.Z)(function*(l,i){const c=Jg(l);let h,g;const v=c.Ya.get(i);if(v)h=v.targetId,c.sharedClientState.addLocalQueryTarget(h),g=v.view.za();else{const D=yield hd(c.localStore,ui(i));c.isPrimaryClient&&Mf(c.remoteStore,D);const k=c.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,g=yield Wg(c,i,h,"current"===k)}return g}),vd.apply(this,arguments)}function Wg(l,i,c,h){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,t.Z)(function*(l,i,c,h){l.au=(Se,Le,rt)=>{return(wt=(0,t.Z)(function*(Nt,Mn,lr,Gi){let _r=Mn.view.La(lr);_r.ei&&(_r=yield xf(Nt.localStore,Mn.query,!1).then(({documents:mo})=>Mn.view.La(mo,_r)));const oo=Gi&&Gi.targetChanges.get(Mn.targetId),go=Mn.view.applyChanges(_r,Nt.isPrimaryClient,oo);return ca(Nt,Mn.targetId,go.Qa),go.snapshot}),function(Nt,Mn,lr,Gi){return wt.apply(this,arguments)})(l,Se,Le,rt);var wt};const g=yield xf(l.localStore,i,!0),v=new Ah(i,g.hi),D=v.La(g.documents),k=af.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==l.onlineState),$=v.applyChanges(D,l.isPrimaryClient,k);ca(l,c,$.Qa);const ne=new mv(i,c,v);return l.Ya.set(i,ne),l.Xa.has(c)?l.Xa.get(c).push(i):l.Xa.set(c,[i]),$.snapshot}),Ih.apply(this,arguments)}function X0(l,i){return wl.apply(this,arguments)}function wl(){return wl=(0,t.Z)(function*(l,i){const c=qt(l),h=c.Ya.get(i),g=c.Xa.get(h.targetId);if(g.length>1)return c.Xa.set(h.targetId,g.filter(v=>!rl(v,i))),void c.Ya.delete(i);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(h.targetId),c.sharedClientState.isActiveQueryTarget(h.targetId)||(yield gl(c.localStore,h.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(h.targetId),Ou(c.remoteStore,h.targetId),Ts(c,h.targetId)}).catch(ld))):(Ts(c,h.targetId),yield gl(c.localStore,h.targetId,!0))}),wl.apply(this,arguments)}function Vm(){return Vm=(0,t.Z)(function*(l,i,c){const h=Hp(l);try{const g=yield function(v,D){const k=qt(v),$=Vr.now(),ne=D.reduce((Le,rt)=>Le.add(rt.key),Wr());let Se;return k.persistence.runTransaction("Locally write mutations","readwrite",Le=>k.ui.Us(Le,ne).next(rt=>{Se=rt;const wt=[];for(const Nt of D){const Mn=fp(Nt,Se.get(Nt.key));null!=Mn&&wt.push(new Xu(Nt.key,Mn,ta(Mn.value.mapValue),eo.exists(!0)))}return k.Fs.addMutationBatch(Le,$,wt,D)})).then(Le=>(Le.applyToLocalDocumentSet(Se),{batchId:Le.batchId,changes:Se}))}(h.localStore,i);h.sharedClientState.addPendingMutation(g.batchId),function(v,D,k){let $=v.su[v.currentUser.toKey()];$||($=new xi(Xn)),$=$.insert(D,k),v.su[v.currentUser.toKey()]=$}(h,g.batchId,c),yield Tl(h,g.changes),yield Dh(h.remoteStore)}catch(g){const v=Vn(g,"Failed to persist write");c.reject(v)}}),Vm.apply(this,arguments)}function zg(l,i){return Gm.apply(this,arguments)}function Gm(){return Gm=(0,t.Z)(function*(l,i){const c=qt(l);try{const h=yield K_(c.localStore,i);i.targetChanges.forEach((g,v)=>{const D=c.eu.get(v);D&&(Wn(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?D.Ha=!0:g.modifiedDocuments.size>0?Wn(D.Ha):g.removedDocuments.size>0&&(Wn(D.Ha),D.Ha=!1))}),yield Tl(c,h,i)}catch(h){yield ld(h)}}),Gm.apply(this,arguments)}function n0(l,i,c){const h=qt(l);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const g=[];h.Ya.forEach((v,D)=>{const k=D.view.Ta(i);k.snapshot&&g.push(k.snapshot)}),function(v,D){const k=qt(v);k.onlineState=D;let $=!1;k.queries.forEach((ne,Se)=>{for(const Le of Se.listeners)Le.Ta(D)&&($=!0)}),$&&Nu(k)}(h.eventManager,i),g.length&&h.Ja.Ko(g),h.onlineState=i,h.isPrimaryClient&&h.sharedClientState.setOnlineState(i)}}function r0(l,i,c){return bd.apply(this,arguments)}function bd(){return bd=(0,t.Z)(function*(l,i,c){const h=qt(l);h.sharedClientState.updateQueryState(i,"rejected",c);const g=h.eu.get(i),v=g&&g.key;if(v){let D=new xi(rn.comparator);D=D.insert(v,si.newNoDocument(v,Cn.min()));const k=Wr().add(v),$=new Qd(Cn.min(),new Map,new di(Xn),D,k);yield zg(h,$),h.tu=h.tu.remove(v),h.eu.delete(i),Mh(h)}else yield gl(h.localStore,i,!1).then(()=>Ts(h,i,c)).catch(ld)}),bd.apply(this,arguments)}function Hm(l,i){return $m.apply(this,arguments)}function $m(){return $m=(0,t.Z)(function*(l,i){const c=qt(l),h=i.batch.batchId;try{const g=yield Su(c.localStore,i);Kg(c,h,null),Wm(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield Tl(c,g)}catch(g){yield ld(g)}}),$m.apply(this,arguments)}function ey(l,i,c){return Cd.apply(this,arguments)}function Cd(){return Cd=(0,t.Z)(function*(l,i,c){const h=qt(l);try{const g=yield function(v,D){const k=qt(v);return k.persistence.runTransaction("Reject batch","readwrite-primary",$=>{let ne;return k.Fs.lookupMutationBatch($,D).next(Se=>(Wn(null!==Se),ne=Se.keys(),k.Fs.removeMutationBatch($,Se))).next(()=>k.Fs.performConsistencyCheck($)).next(()=>k.ui.Us($,ne))})}(h.localStore,i);Kg(h,i,c),Wm(h,i),h.sharedClientState.updateMutationState(i,"rejected",c),yield Tl(h,g)}catch(g){yield ld(g)}}),Cd.apply(this,arguments)}function Wm(l,i){(l.iu.get(i)||[]).forEach(c=>{c.resolve()}),l.iu.delete(i)}function Kg(l,i,c){const h=qt(l);let g=h.su[h.currentUser.toKey()];if(g){const v=g.get(i);v&&(c?v.reject(c):v.resolve(),g=g.remove(i)),h.su[h.currentUser.toKey()]=g}}function Ts(l,i,c=null){l.sharedClientState.removeLocalQueryTarget(i);for(const h of l.Xa.get(i))l.Ya.delete(h),c&&l.Ja.uu(h,c);l.Xa.delete(i),l.isPrimaryClient&&l.nu.Ri(i).forEach(h=>{l.nu.containsKey(h)||zm(l,h)})}function zm(l,i){l.Za.delete(i.path.canonicalString());const c=l.tu.get(i);null!==c&&(Ou(l.remoteStore,c),l.tu=l.tu.remove(i),l.eu.delete(c),Mh(l))}function ca(l,i,c){for(const h of c)h instanceof Ra?(l.nu.addReference(h.key,i),ka(l,h)):h instanceof Ru?(Ut("SyncEngine","Document no longer in limbo: "+h.key),l.nu.removeReference(h.key,i),l.nu.containsKey(h.key)||zm(l,h.key)):Nn()}function ka(l,i){const c=i.key,h=c.path.canonicalString();l.tu.get(c)||l.Za.has(h)||(Ut("SyncEngine","New document in limbo: "+c),l.Za.add(h),Mh(l))}function Mh(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const i=l.Za.values().next().value;l.Za.delete(i);const c=new rn(Nr.fromString(i)),h=l.ru.next();l.eu.set(h,new Lm(c)),l.tu=l.tu.insert(c,h),Mf(l.remoteStore,new gu(ui(qn(c.path)),h,2,Zr.A))}}function Tl(l,i,c){return Km.apply(this,arguments)}function Km(){return Km=(0,t.Z)(function*(l,i,c){const h=qt(l),g=[],v=[],D=[];var k;h.Ya.isEmpty()||(h.Ya.forEach((k,$)=>{D.push(h.au($,i,c).then(ne=>{if(ne){h.isPrimaryClient&&h.sharedClientState.updateQueryState($.targetId,ne.fromCache?"not-current":"current"),g.push(ne);const Se=ph.Js($.targetId,ne);v.push(Se)}}))}),yield Promise.all(D),h.Ja.Ko(g),yield(k=(0,t.Z)(function*($,ne){const Se=qt($);try{yield Se.persistence.runTransaction("notifyLocalViewChanges","readwrite",Le=>ht.forEach(ne,rt=>ht.forEach(rt.zs,wt=>Se.persistence.referenceDelegate.addReference(Le,rt.targetId,wt)).next(()=>ht.forEach(rt.Hs,wt=>Se.persistence.referenceDelegate.removeReference(Le,rt.targetId,wt)))))}catch(Le){if(!Cs(Le))throw Le;Ut("LocalStore","Failed to update sequence numbers: "+Le)}for(const Le of ne){const rt=Le.targetId;if(!Le.fromCache){const wt=Se.si.get(rt),Mn=wt.withLastLimboFreeSnapshotVersion(wt.snapshotVersion);Se.si=Se.si.insert(rt,Mn)}}}),function($,ne){return k.apply(this,arguments)})(h.localStore,v))}),Km.apply(this,arguments)}function ty(l,i){return Ym.apply(this,arguments)}function Ym(){return Ym=(0,t.Z)(function*(l,i){const c=qt(l);if(!c.currentUser.isEqual(i)){Ut("SyncEngine","User change. New user:",i.toKey());const h=yield Rc(c.localStore,i);c.currentUser=i,(g=c).iu.forEach(D=>{D.forEach(k=>{k.reject(new Dt(ut.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),c.sharedClientState.handleUserChange(i,h.removedBatchIds,h.addedBatchIds),yield Tl(c,h.ci)}var g}),Ym.apply(this,arguments)}function ny(l,i){const c=qt(l),h=c.eu.get(i);if(h&&h.Ha)return Wr().add(h.key);{let g=Wr();const v=c.Xa.get(i);if(!v)return g;for(const D of v){const k=c.Ya.get(D);g=g.unionWith(k.view.Ba)}return g}}function Jg(l){const i=qt(l);return i.remoteStore.remoteSyncer.applyRemoteEvent=zg.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=ny.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=r0.bind(null,i),i.Ja.Ko=Fm.bind(null,i.eventManager),i.Ja.uu=$g.bind(null,i.eventManager),i}function Hp(l){const i=qt(l);return i.remoteStore.remoteSyncer.applySuccessfulWrite=Hm.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=ey.bind(null,i),i}class iy{constructor(){this.synchronizeTabs=!1}initialize(i){var c=this;return(0,t.Z)(function*(){c.M=bl(i.databaseInfo.databaseId),c.sharedClientState=c.hu(i),c.persistence=c.lu(i),yield c.persistence.start(),c.gcScheduler=c.fu(i),c.localStore=c.du(i)})()}fu(i){return null}du(i){return function gh(l,i,c,h){return new Ef(l,i,c,h)}(this.persistence,new xg,i.initialUser,this.M)}lu(i){return new _l(Au.Wi,this.M)}hu(i){return new js}terminate(){var i=this;return(0,t.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class a0{initialize(i,c){var h=this;return(0,t.Z)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=g=>n0(h.syncEngine,g,1),h.remoteStore.remoteSyncer.handleCredentialChange=ty.bind(null,h.syncEngine),yield function se(l,i){return ze.apply(this,arguments)}(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new Nf}createDatastore(i){const c=bl(i.databaseInfo.databaseId),h=new Ch(i.databaseInfo);return new Fp(i.authCredentials,i.appCheckCredentials,h,c)}createRemoteStore(i){return c=this.localStore,h=this.datastore,g=i.asyncQueue,v=k=>n0(this.syncEngine,k,0),D=Ng.vt()?new Ng:new Pg,new kg(c,h,g,v,D);var c,h,g,v,D}createSyncEngine(i,c){return function(h,g,v,D,k,$,ne){const Se=new Bm(h,g,v,D,k,$);return ne&&(Se.ou=!0),Se}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,c)}terminate(){return(i=(0,t.Z)(function*(c){const h=qt(c);Ut("RemoteStore","RemoteStore shutting down."),h.ha.add(5),yield _d(h),h.fa.shutdown(),h.da.set("Unknown")}),function(c){return i.apply(this,arguments)})(this.remoteStore);var i}}class t_{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.wu(this.observer.next,i)}error(i){this.observer.error?this.wu(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}mu(){this.muted=!0}wu(i,c){this.muted||setTimeout(()=>{this.muted||i(c)},0)}}class wv{constructor(i,c,h,g){var v=this;this.authCredentials=i,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=g,this.user=Li.UNAUTHENTICATED,this.clientId=ss.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,t.Z)(function*(k){Ut("FirestoreClient","Received user=",k.uid),yield v.authCredentialListener(k),v.user=k});return function(k){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(Ut("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var i=this;return(0,t.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Dt(ut.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const c=new qr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,t.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),c.resolve()}catch(h){const g=Vn(h,"Failed to shutdown persistence");c.reject(g)}})),c.promise}}function n_(l,i){return Dl.apply(this,arguments)}function Dl(){return Dl=(0,t.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress(),Ut("FirestoreClient","Initializing OfflineComponentProvider");const c=yield l.getConfiguration();yield i.initialize(c);let h=c.initialUser;l.setCredentialChangeListener(function(){var g=(0,t.Z)(function*(v){h.isEqual(v)||(yield Rc(i.localStore,v),h=v)});return function(v){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=i}),Dl.apply(this,arguments)}function Td(l,i){return qp.apply(this,arguments)}function qp(){return qp=(0,t.Z)(function*(l,i){l.asyncQueue.verifyOperationInProgress();const c=yield Oh(l);Ut("FirestoreClient","Initializing OnlineComponentProvider");const h=yield l.getConfiguration();yield i.initialize(c,h),l.setCredentialChangeListener(g=>M(i.remoteStore,g)),l.setAppCheckTokenChangeListener((g,v)=>M(i.remoteStore,v)),l.onlineComponents=i}),qp.apply(this,arguments)}function Oh(l){return r_.apply(this,arguments)}function r_(){return r_=(0,t.Z)(function*(l){return l.offlineComponents||(Ut("FirestoreClient","Using default OfflineComponentProvider"),yield n_(l,new iy)),l.offlineComponents}),r_.apply(this,arguments)}function Qg(l){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,t.Z)(function*(l){return l.onlineComponents||(Ut("FirestoreClient","Using default OnlineComponentProvider"),yield Td(l,new a0)),l.onlineComponents}),Zp.apply(this,arguments)}function Vc(l){return Oo.apply(this,arguments)}function Oo(){return Oo=(0,t.Z)(function*(l){const i=yield Qg(l),c=i.eventManager;return c.onListen=Um.bind(null,i.syncEngine),c.onUnlisten=X0.bind(null,i.syncEngine),c}),Oo.apply(this,arguments)}const Xg=new Map;function jf(l,i,c){if(!c)throw new Dt(ut.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${i}.`)}function Vf(l){if(!rn.isDocumentKey(l))throw new Dt(ut.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function Sl(l){if(rn.isDocumentKey(l))throw new Dt(ut.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Fh(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const i=(c=l).constructor?c.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var c;return"function"==typeof l?"a function":Nn()}function Or(l,i){if("_delegate"in l&&(l=l._delegate),!(l instanceof i)){if(i.name===l.constructor.name)throw new Dt(ut.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=Fh(l);throw new Dt(ut.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${c}`)}}return l}class em{constructor(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new Dt(ut.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new Dt(ut.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,function i_(l,i,c,h){if(!0===i&&!0===h)throw new Dt(ut.INVALID_ARGUMENT,`${l} and ${c} cannot be used together.`)}("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Ed{constructor(i,c,h){this._authCredentials=c,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new em({}),this._settingsFrozen=!1,i instanceof bs?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Dt(ut.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bs(g.options.projectId)}(i))}get app(){if(!this._app)throw new Dt(ut.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new Dt(ut.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new em(i),void 0!==i.credentials&&(this._authCredentials=function(c){if(!c)return new Qn;switch(c.type){case"gapi":const h=c.client;return Wn(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new Vd(h,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new Dt(ut.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const c=Xg.get(i);c&&(Ut("ComponentProvider","Removing Datastore"),Xg.delete(i),c.terminate())}(this),Promise.resolve()}}class io{constructor(i,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fa(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new io(this.firestore,i,this._key)}}class Go{constructor(i,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=i}withConverter(i){return new Go(this.firestore,i,this._query)}}class Fa extends Go{constructor(i,c,h){super(i,c,qn(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new io(this.firestore,null,new rn(i))}withConverter(i){return new Fa(this.firestore,i,this._path)}}function o_(l,i,...c){if(l=(0,O.m9)(l),jf("collection","path",i),l instanceof Ed){const h=Nr.fromString(i,...c);return Sl(h),new Fa(l,null,h)}{if(!(l instanceof io||l instanceof Fa))throw new Dt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child(Nr.fromString(i,...c));return Sl(h),new Fa(l.firestore,null,h)}}function La(l,i,...c){if(l=(0,O.m9)(l),1===arguments.length&&(i=ss.R()),jf("doc","path",i),l instanceof Ed){const h=Nr.fromString(i,...c);return Vf(h),new io(l,null,new rn(h))}{if(!(l instanceof io||l instanceof Fa))throw new Dt(ut.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=l._path.child(Nr.fromString(i,...c));return Vf(h),new io(l.firestore,l instanceof Fa?l.converter:null,new rn(h))}}class oy{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new ac(this,"async_queue_retry"),this.Fu=()=>{const c=vl();c&&Ut("AsyncQueue","Visibility state changed to "+c.visibilityState),this.vo.To()};const i=vl();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Bu(),this.Lu(i)}enterRestrictedMode(i){if(!this.xu){this.xu=!0,this.Ou=i||!1;const c=vl();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Fu)}}enqueue(i){if(this.Bu(),this.xu)return new Promise(()=>{});const c=new qr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(i().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Cu.push(i),this.qu()))}qu(){var i=this;return(0,t.Z)(function*(){if(0!==i.Cu.length){try{yield i.Cu[0](),i.Cu.shift(),i.vo.reset()}catch(c){if(!Cs(c))throw c;Ut("AsyncQueue","Operation failed with retryable error: "+c)}i.Cu.length>0&&i.vo.po(()=>i.qu())}})()}Lu(i){const c=this.Du.then(()=>(this.Mu=!0,i().catch(h=>{throw this.ku=h,this.Mu=!1,Gn("INTERNAL UNHANDLED ERROR: ",function(v){let D=v.message||"";return v.stack&&(D=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),D}(h)),h}).then(h=>(this.Mu=!1,h))));return this.Du=c,c}enqueueAfterDelay(i,c,h){this.Bu(),this.$u.indexOf(i)>-1&&(c=0);const g=Rn.createAndSchedule(this,i,c,h,v=>this.Uu(v));return this.Nu.push(g),g}Bu(){this.ku&&Nn()}verifyOperationInProgress(){}Ku(){var i=this;return(0,t.Z)(function*(){let c;do{c=i.Du,yield c}while(c!==i.Du)})()}Gu(i){for(const c of this.Nu)if(c.timerId===i)return!0;return!1}Qu(i){return this.Ku().then(()=>{this.Nu.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this.Nu)if(c.skipDelay(),"all"!==i&&c.timerId===i)break;return this.Ku()})}ju(i){this.$u.push(i)}Uu(i){const c=this.Nu.indexOf(i);this.Nu.splice(c,1)}}function s_(l){return function(i,c){if("object"!=typeof i||null===i)return!1;const h=i;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(l)}class Ci extends Ed{constructor(i,c,h){super(i,c,h),this.type="firestore",this._queue=new oy,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ay(this),this._firestoreClient.terminate()}}function sy(l=(0,T.Mq)()){return(0,T.qX)(l,"firestore").getImmediate()}function hi(l){return l._firestoreClient||ay(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function ay(l){var i;const c=l._freezeSettings(),h=(v=(null===(i=l._app)||void 0===i?void 0:i.options.appId)||"",new ba(l._databaseId,v,l._persistenceKey,(k=c).host,k.ssl,k.experimentalForceLongPolling,k.experimentalAutoDetectLongPolling,k.useFetchStreams));var v,k;l._firestoreClient=new wv(l._authCredentials,l._appCheckCredentials,l._queue,h)}class Hf{constructor(...i){for(let c=0;c<i.length;++c)if(0===i[c].length)throw new Dt(ut.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qi(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Lh{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Lh(yi.fromBase64String(i))}catch(c){throw new Dt(ut.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(i){return new Lh(yi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class l_{constructor(i){this._methodName=i}}class u_{constructor(i,c){if(!isFinite(i)||i<-90||i>90)throw new Dt(ut.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new Dt(ut.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Xn(this._lat,i._lat)||Xn(this._long,i._long)}}const u0=/^__.*__$/;class uy{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return null!==this.fieldMask?new Xu(i,this.data,this.fieldMask,c,this.fieldTransforms):new Da(i,this.data,c,this.fieldTransforms)}}class d_{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return new Xu(i,this.data,this.fieldMask,c,this.fieldTransforms)}}function d0(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Nn()}}class Kp{constructor(i,c,h,g,v,D){this.settings=i,this.databaseId=c,this.M=h,this.ignoreUndefinedProperties=g,void 0===v&&this.Wu(),this.fieldTransforms=v||[],this.fieldMask=D||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(i){return new Kp(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Xu(i),g}Zu(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Wu(),g}tc(i){return this.Hu({path:void 0,Yu:!0})}ec(i){return Ni(i,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(i){return void 0!==this.fieldMask.find(c=>i.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>i.isPrefixOf(c.field))}Wu(){if(this.path)for(let i=0;i<this.path.length;i++)this.Xu(this.path.get(i))}Xu(i){if(0===i.length)throw this.ec("Document fields must not be empty");if(d0(this.zu)&&u0.test(i))throw this.ec('Document fields cannot begin and end with "__"')}}class h0{constructor(i,c,h){this.databaseId=i,this.ignoreUndefinedProperties=c,this.M=h||bl(i)}ic(i,c,h,g=!1){return new Kp({zu:i,methodName:c,sc:h,path:Qi.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Fu(l){const i=l._freezeSettings(),c=bl(l._databaseId);return new h0(l._databaseId,!!i.ignoreUndefinedProperties,c)}function h_(l,i,c,h,g,v={}){const D=l.ic(v.merge||v.mergeFields?2:0,i,c,g);om("Data must be an object, but it was:",D,h);const k=im(h,D);let $,ne;if(v.merge)$=new ys(D.fieldMask),ne=D.fieldTransforms;else if(v.mergeFields){const Se=[];for(const Le of v.mergeFields){const rt=Bh(i,Le,c);if(!D.contains(rt))throw new Dt(ut.INVALID_ARGUMENT,`Field '${rt}' is specified in your field mask but missing from your input data.`);$f(Se,rt)||Se.push(rt)}$=new ys(Se),ne=D.fieldTransforms.filter(Le=>$.covers(Le.field))}else $=null,ne=D.fieldTransforms;return new uy(new Hr(k),$,ne)}class Gs extends l_{_toFieldTransform(i){if(2!==i.zu)throw i.ec(1===i.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Gs}}function xl(l,i){if(m0(l=(0,O.m9)(l)))return om("Unsupported field value:",i,l),im(l,i);if(l instanceof l_)return function(c,h){if(!d0(h.zu))throw h.ec(`${c._methodName}() can only be used with update() and set()`);if(!h.path)throw h.ec(`${c._methodName}() is not currently supported inside arrays`);const g=c._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(l,i),null;if(void 0===l&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),l instanceof Array){if(i.settings.Yu&&4!==i.zu)throw i.ec("Nested arrays are not supported");return function(c,h){const g=[];let v=0;for(const D of c){let k=xl(D,h.tc(v));null==k&&(k={nullValue:"NULL_VALUE"}),g.push(k),v++}return{arrayValue:{values:g}}}(l,i)}return function(c,h){if(null===(c=(0,O.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return lp(h.M,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const g=Vr.fromDate(c);return{timestampValue:td(h.M,g)}}if(c instanceof Vr){const g=new Vr(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:td(h.M,g)}}if(c instanceof u_)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Lh)return{bytesValue:lf(h.M,c._byteString)};if(c instanceof io){const g=h.databaseId,v=c.firestore._databaseId;if(!v.isEqual(g))throw h.ec(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:_p(c.firestore._databaseId||h.databaseId,c._key.path)}}throw h.ec(`Unsupported field value: ${Fh(c)}`)}(l,i)}function im(l,i){const c={};return va(l)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):ci(l,(h,g)=>{const v=xl(g,i.Ju(h));null!=v&&(c[h]=v)}),{mapValue:{fields:c}}}function m0(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Vr||l instanceof u_||l instanceof Lh||l instanceof io||l instanceof l_)}function om(l,i,c){if(!m0(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=Fh(c);throw i.ec("an object"===h?l+" a custom object":l+" "+h)}var h}function Bh(l,i,c){if((i=(0,O.m9)(i))instanceof Hf)return i._internalPath;if("string"==typeof i)return Al(l,i);throw Ni("Field path arguments must be of type string or ",l,!1,void 0,c)}const sm=new RegExp("[~\\*/\\[\\]]");function Al(l,i,c){if(i.search(sm)>=0)throw Ni(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,c);try{return new Hf(...i.split("."))._internalPath}catch(h){throw Ni(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,c)}}function Ni(l,i,c,h,g){const v=h&&!h.isEmpty(),D=void 0!==g;let k=`Function ${i}() called with invalid data`;c&&(k+=" (via `toFirestore()`)"),k+=". ";let $="";return(v||D)&&($+=" (found",v&&($+=` in field ${h}`),D&&($+=` in document ${g}`),$+=")"),new Dt(ut.INVALID_ARGUMENT,k+l+$)}function $f(l,i){return l.some(c=>c.isEqual(i))}class qf{constructor(i,c,h,g,v){this._firestore=i,this._userDataWriter=c,this._key=h,this._document=g,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new io(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new Qp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const c=this._document.data.field(Uh("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}}}class Qp extends qf{data(){return super.data()}}function Uh(l,i){return"string"==typeof i?Al(l,i):i instanceof Hf?i._internalPath:i._delegate._internalPath}class Il{constructor(i,c){this.hasPendingWrites=i,this.fromCache=c}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class jh extends qf{constructor(i,c,h,g,v,D){super(i,c,h,g,D),this._firestore=i,this._firestoreImpl=i,this.metadata=v}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const c=new Zf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,c={}){if(this._document){const h=this._document.data.field(Uh("DocumentSnapshot.get",i));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class Zf extends jh{data(i={}){return super.data(i)}}class Dd{constructor(i,c,h,g){this._firestore=i,this._userDataWriter=c,this._snapshot=g,this.metadata=new Il(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const i=[];return this.forEach(c=>i.push(c)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,c){this._snapshot.docs.forEach(h=>{i.call(c,new Zf(this._firestore,this._userDataWriter,h.key,h,new Il(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new Dt(ut.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let v=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new Zf(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Il(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:v++}))}{let v=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>g||3!==D.type).map(D=>{const k=new Zf(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Il(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let $=-1,ne=-1;return 0!==D.type&&($=v.indexOf(D.doc.key),v=v.delete(D.doc.key)),1!==D.type&&(v=v.add(D.doc),ne=v.indexOf(D.doc.key)),{type:f_(D.type),doc:k,oldIndex:$,newIndex:ne}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function f_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Nn()}}function T0(l,i,c){let h;return h=l?c&&(c.merge||c.mergeFields)?l.toFirestore(i,c):l.toFirestore(i):i,h}class _y{constructor(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=Fu(i)}set(i,c,h){this._verifyNotCommitted();const g=Hs(i,this._firestore),v=T0(g.converter,c,h),D=h_(this._dataReader,"WriteBatch.set",g._key,v,null!==g.converter,h);return this._mutations.push(D.toMutation(g._key,eo.none())),this}update(i,c,h,...g){this._verifyNotCommitted();const v=Hs(i,this._firestore);let D;return D="string"==typeof(c=(0,O.m9)(c))||c instanceof Hf?function Lu(l,i,c,h,g,v){const D=l.ic(1,i,c),k=[Bh(i,h,c)],$=[g];if(v.length%2!=0)throw new Dt(ut.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let rt=0;rt<v.length;rt+=2)k.push(Bh(i,v[rt])),$.push(v[rt+1]);const ne=[],Se=Hr.empty();for(let rt=k.length-1;rt>=0;--rt)if(!$f(ne,k[rt])){const wt=k[rt];let Nt=$[rt];Nt=(0,O.m9)(Nt);const Mn=D.Zu(wt);if(Nt instanceof Gs)ne.push(wt);else{const lr=xl(Nt,Mn);null!=lr&&(ne.push(wt),Se.set(wt,lr))}}const Le=new ys(ne);return new d_(Se,Le,D.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c,h,g):function Jp(l,i,c,h){const g=l.ic(1,i,c);om("Data must be an object, but it was:",g,h);const v=[],D=Hr.empty();ci(h,($,ne)=>{const Se=Al(i,$,c);ne=(0,O.m9)(ne);const Le=g.Zu(Se);if(ne instanceof Gs)v.push(Se);else{const rt=xl(ne,Le);null!=rt&&(v.push(Se),D.set(Se,rt))}});const k=new ys(v);return new d_(D,k,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c),this._mutations.push(D.toMutation(v._key,eo.exists(!0))),this}delete(i){this._verifyNotCommitted();const c=Hs(i,this._firestore);return this._mutations=this._mutations.concat(new tf(c._key,eo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Dt(ut.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Hs(l,i){if((l=(0,O.m9)(l)).firestore!==i)throw new Dt(ut.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class uc extends class Rv{convertValue(i,c="none"){switch(Ya(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Gr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(Wo(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw Nn()}}convertObject(i,c){const h={};return ci(i.fields,(g,v)=>{h[g]=this.convertValue(v,c)}),h}convertGeoPoint(i){return new u_(Gr(i.latitude),Gr(i.longitude))}convertArray(i,c){return(i.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(i,c){switch(c){case"previous":const h=Ql(i);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(zo(i));default:return null}}convertTimestamp(i){const c=vs(i);return new Vr(c.seconds,c.nanos)}convertDocumentKey(i,c){const h=Nr.fromString(i);Wn(ih(h));const g=new bs(h.get(1),h.get(3)),v=new rn(h.popFirst(5));return g.isEqual(c)||Gn(`Document ${v} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),v}}{constructor(i){super(),this.firestore=i}convertBytes(i){return new Lh(i)}convertReference(i){const c=this.convertDocumentKey(i,this.firestore._databaseId);return new io(this.firestore,null,c)}}function Cy(l,i,c){l=Or(l,io);const h=Or(l.firestore,Ci),g=T0(l.converter,i,c);return ua(h,[h_(Fu(h),"setDoc",l._key,g,null!==l.converter,c).toMutation(l._key,eo.none())])}function am(l){return ua(Or(l.firestore,Ci),[new tf(l._key,eo.none())])}function Ml(l,i){const c=Or(l.firestore,Ci),h=La(l),g=T0(l.converter,i);return ua(c,[h_(Fu(l.firestore),"addDoc",h._key,g,null!==l.converter,{}).toMutation(h._key,eo.exists(!1))]).then(()=>h)}function Lv(l,...i){var c,h,g;l=(0,O.m9)(l);let v={includeMetadataChanges:!1},D=0;"object"!=typeof i[D]||s_(i[D])||(v=i[D],D++);const k={includeMetadataChanges:v.includeMetadataChanges};if(s_(i[D])){const Le=i[D];i[D]=null===(c=Le.next)||void 0===c?void 0:c.bind(Le),i[D+1]=null===(h=Le.error)||void 0===h?void 0:h.bind(Le),i[D+2]=null===(g=Le.complete)||void 0===g?void 0:g.bind(Le)}let $,ne,Se;if(l instanceof io)ne=Or(l.firestore,Ci),Se=qn(l._key.path),$={next:Le=>{i[D]&&i[D](function Ba(l,i,c){const h=c.docs.get(i._key),g=new uc(l);return new jh(l,g,i._key,h,new Il(c.hasPendingWrites,c.fromCache),i.converter)}(ne,l,Le))},error:i[D+1],complete:i[D+2]};else{const Le=Or(l,Go);ne=Or(Le.firestore,Ci),Se=Le._query;const rt=new uc(ne);$={next:wt=>{i[D]&&i[D](new Dd(ne,rt,Le,wt))},error:i[D+1],complete:i[D+2]},function dy(l){if(bi(l)&&0===l.explicitOrderBy.length)throw new Dt(ut.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(Le,rt,wt,Nt){const Mn=new t_(Nt),lr=new xh(rt,Mn,wt);return Le.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Cl(l,i){return Sh.apply(this,arguments)}(yield Vc(Le),lr)})),()=>{Mn.mu(),Le.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Rf(l,i){return Pu.apply(this,arguments)}(yield Vc(Le),lr)}))}}(hi(ne),Se,k,$)}function ua(l,i){return function(c,h){const g=new qr;return c.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function jm(l,i,c){return Vm.apply(this,arguments)}(yield function jc(l){return Qg(l).then(i=>i.syncEngine)}(c),h,g)})),g.promise}(hi(l),i)}function eg(l){return hi(l=Or(l,Ci)),new _y(l,i=>ua(l,i))}!function(l,i=!0){Rs=T.Jn,(0,T.Xd)(new S.wA("firestore",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),v=new Ci(g,new ug(c.getProvider("auth-internal")),new Jh(c.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:i},h),v._setSettings(h),v},"PUBLIC")),(0,T.KN)(Zl,"3.4.6",l),(0,T.KN)(Zl,"3.4.6","esm2017")}()},5199:(tt,A,N)=>{tt=N.nmd(tt);var T="__lodash_hash_undefined__",O=9007199254740991,G="[object Arguments]",ve="[object Function]",De="[object Object]",xt=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,Mt={};Mt["[object Float32Array]"]=Mt["[object Float64Array]"]=Mt["[object Int8Array]"]=Mt["[object Int16Array]"]=Mt["[object Int32Array]"]=Mt["[object Uint8Array]"]=Mt["[object Uint8ClampedArray]"]=Mt["[object Uint16Array]"]=Mt["[object Uint32Array]"]=!0,Mt[G]=Mt["[object Array]"]=Mt["[object ArrayBuffer]"]=Mt["[object Boolean]"]=Mt["[object DataView]"]=Mt["[object Date]"]=Mt["[object Error]"]=Mt[ve]=Mt["[object Map]"]=Mt["[object Number]"]=Mt[De]=Mt["[object RegExp]"]=Mt["[object Set]"]=Mt["[object String]"]=Mt["[object WeakMap]"]=!1;var nn="object"==typeof global&&global&&global.Object===Object&&global,rr="object"==typeof self&&self&&self.Object===Object&&self,Ln=nn||rr||Function("return this")(),wn=A&&!A.nodeType&&A,ur=wn&&tt&&!tt.nodeType&&tt,tr=ur&&ur.exports===wn,ti=tr&&nn.process,Un=function(){try{return ur&&ur.require&&ur.require("util").types||ti&&ti.binding&&ti.binding("util")}catch(Ce){}}(),kr=Un&&Un.isTypedArray;function Zi(z,Ce,xe){switch(xe.length){case 0:return z.call(Ce);case 1:return z.call(Ce,xe[0]);case 2:return z.call(Ce,xe[0],xe[1]);case 3:return z.call(Ce,xe[0],xe[1],xe[2])}return z.apply(Ce,xe)}var z,Qr=Array.prototype,Fr=Object.prototype,Ri=Ln["__core-js_shared__"],Pe=Function.prototype.toString,ke=Fr.hasOwnProperty,st=(z=/[^.]+$/.exec(Ri&&Ri.keys&&Ri.keys.IE_PROTO||""))?"Symbol(src)_1."+z:"",et=Fr.toString,ct=Pe.call(Object),Ot=RegExp("^"+Pe.call(ke).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Lt=tr?Ln.Buffer:void 0,gt=Ln.Symbol,St=Ln.Uint8Array,pn=Lt?Lt.allocUnsafe:void 0,Qt=function Wi(z,Ce){return function(xe){return z(Ce(xe))}}(Object.getPrototypeOf,Object),Tn=Object.create,xn=Fr.propertyIsEnumerable,_n=Qr.splice,Yn=gt?gt.toStringTag:void 0,Sn=function(){try{var z=ts(Object,"defineProperty");return z({},"",{}),z}catch(Ce){}}(),Bn=Lt?Lt.isBuffer:void 0,En=Math.max,Ct=Date.now,Ke=ts(Ln,"Map"),Tt=ts(Object,"create"),$t=function(){function z(){}return function(Ce){if(!_e(Ce))return{};if(Tn)return Tn(Ce);z.prototype=Ce;var xe=new z;return z.prototype=void 0,xe}}();function yn(z){var Ce=-1,xe=null==z?0:z.length;for(this.clear();++Ce<xe;){var ot=z[Ce];this.set(ot[0],ot[1])}}function Ne(z){var Ce=-1,xe=null==z?0:z.length;for(this.clear();++Ce<xe;){var ot=z[Ce];this.set(ot[0],ot[1])}}function fr(z){var Ce=-1,xe=null==z?0:z.length;for(this.clear();++Ce<xe;){var ot=z[Ce];this.set(ot[0],ot[1])}}function Xt(z){var Ce=this.__data__=new Ne(z);this.size=Ce.size}function Zt(z,Ce,xe){(void 0!==xe&&!Is(z[Ce],xe)||void 0===xe&&!(Ce in z))&&mt(z,Ce,xe)}function vn(z,Ce,xe){var ot=z[Ce];(!ke.call(z,Ce)||!Is(ot,xe)||void 0===xe&&!(Ce in z))&&mt(z,Ce,xe)}function zt(z,Ce){for(var xe=z.length;xe--;)if(Is(z[xe][0],Ce))return xe;return-1}function mt(z,Ce,xe){"__proto__"==Ce&&Sn?Sn(z,Ce,{configurable:!0,enumerable:!0,value:xe,writable:!0}):z[Ce]=xe}yn.prototype.clear=function dn(){this.__data__=Tt?Tt(null):{},this.size=0},yn.prototype.delete=function we(z){var Ce=this.has(z)&&delete this.__data__[z];return this.size-=Ce?1:0,Ce},yn.prototype.get=function he(z){var Ce=this.__data__;if(Tt){var xe=Ce[z];return xe===T?void 0:xe}return ke.call(Ce,z)?Ce[z]:void 0},yn.prototype.has=function fe(z){var Ce=this.__data__;return Tt?void 0!==Ce[z]:ke.call(Ce,z)},yn.prototype.set=function Ge(z,Ce){var xe=this.__data__;return this.size+=this.has(z)?0:1,xe[z]=Tt&&void 0===Ce?T:Ce,this},Ne.prototype.clear=function Pt(){this.__data__=[],this.size=0},Ne.prototype.delete=function gn(z){var Ce=this.__data__,xe=zt(Ce,z);return!(xe<0||(xe==Ce.length-1?Ce.pop():_n.call(Ce,xe,1),--this.size,0))},Ne.prototype.get=function Pn(z){var Ce=this.__data__,xe=zt(Ce,z);return xe<0?void 0:Ce[xe][1]},Ne.prototype.has=function Jn(z){return zt(this.__data__,z)>-1},Ne.prototype.set=function sr(z,Ce){var xe=this.__data__,ot=zt(xe,z);return ot<0?(++this.size,xe.push([z,Ce])):xe[ot][1]=Ce,this},fr.prototype.clear=function cn(){this.size=0,this.__data__={hash:new yn,map:new(Ke||Ne),string:new yn}},fr.prototype.delete=function kn(z){var Ce=nr(this,z).delete(z);return this.size-=Ce?1:0,Ce},fr.prototype.get=function en(z){return nr(this,z).get(z)},fr.prototype.has=function Oe(z){return nr(this,z).has(z)},fr.prototype.set=function nt(z,Ce){var xe=nr(this,z),ot=xe.size;return xe.set(z,Ce),this.size+=xe.size==ot?0:1,this},Xt.prototype.clear=function Dn(){this.__data__=new Ne,this.size=0},Xt.prototype.delete=function Ar(z){var Ce=this.__data__,xe=Ce.delete(z);return this.size=Ce.size,xe},Xt.prototype.get=function Ft(z){return this.__data__.get(z)},Xt.prototype.has=function jt(z){return this.__data__.has(z)},Xt.prototype.set=function ft(z,Ce){var xe=this.__data__;if(xe instanceof Ne){var ot=xe.__data__;if(!Ke||ot.length<199)return ot.push([z,Ce]),this.size=++xe.size,this;xe=this.__data__=new fr(ot)}return xe.set(z,Ce),this.size=xe.size,this};var Gt=function Ti(z){return function(Ce,xe,ot){for(var Vt=-1,tn=Object(Ce),Yt=ot(Ce),sn=Yt.length;sn--;){var An=Yt[z?sn:++Vt];if(!1===xe(tn[An],An,tn))break}return Ce}}();function Kt(z){return null==z?void 0===z?"[object Undefined]":"[object Null]":Yn&&Yn in Object(z)?function Zs(z){var Ce=ke.call(z,Yn),xe=z[Yn];try{z[Yn]=void 0;var ot=!0}catch(tn){}var Vt=et.call(z);return ot&&(Ce?z[Yn]=xe:delete z[Yn]),Vt}(z):function ko(z){return et.call(z)}(z)}function hn(z){return ie(z)&&Kt(z)==G}function Zn(z,Ce,xe,ot,Vt){z!==Ce&&Gt(Ce,function(tn,Yt){if(Vt||(Vt=new Xt),_e(tn))!function co(z,Ce,xe,ot,Vt,tn,Yt){var sn=xs(z,xe),An=xs(Ce,xe),Ur=Yt.get(An);if(Ur)Zt(z,xe,Ur);else{var Ir=tn?tn(sn,An,xe+"",z,Ce,Yt):void 0,Yi=void 0===Ir;if(Yi){var Ms=rs(An),Lo=!Ms&&ja(An),Va=!Ms&&!Lo&&j(An);Ir=An,Ms||Lo||Va?rs(sn)?Ir=sn:function Fo(z){return ie(z)&&is(z)}(sn)?Ir=function ni(z,Ce){var xe=-1,ot=z.length;for(Ce||(Ce=Array(ot));++xe<ot;)Ce[xe]=z[xe];return Ce}(sn):Lo?(Yi=!1,Ir=function vo(z,Ce){if(Ce)return z.slice();var xe=z.length,ot=pn?pn(xe):new z.constructor(xe);return z.copy(ot),ot}(An,!0)):Va?(Yi=!1,Ir=function mr(z,Ce){var xe=Ce?function Dr(z){var Ce=new z.constructor(z.byteLength);return new St(Ce).set(new St(z)),Ce}(z.buffer):z.buffer;return new z.constructor(xe,z.byteOffset,z.length)}(An,!0)):Ir=[]:function P(z){if(!ie(z)||Kt(z)!=De)return!1;var Ce=Qt(z);if(null===Ce)return!0;var xe=ke.call(Ce,"constructor")&&Ce.constructor;return"function"==typeof xe&&xe instanceof xe&&Pe.call(xe)==ct}(An)||zs(An)?(Ir=sn,zs(sn)?Ir=function V(z){return function Br(z,Ce,xe,ot){var Vt=!xe;xe||(xe={});for(var tn=-1,Yt=Ce.length;++tn<Yt;){var sn=Ce[tn],An=ot?ot(xe[sn],z[sn],sn,xe,z):void 0;void 0===An&&(An=z[sn]),Vt?mt(xe,sn,An):vn(xe,sn,An)}return xe}(z,ce(z))}(sn):(!_e(sn)||gs(sn))&&(Ir=function bo(z){return"function"!=typeof z.constructor||ki(z)?{}:$t(Qt(z))}(An))):Yi=!1}Yi&&(Yt.set(An,Ir),Vt(Ir,An,ot,tn,Yt),Yt.delete(An)),Zt(z,xe,Ir)}}(z,Ce,Yt,xe,Zn,ot,Vt);else{var sn=ot?ot(xs(z,Yt),tn,Yt+"",z,Ce,Vt):void 0;void 0===sn&&(sn=tn),Zt(z,Yt,sn)}},ce)}function Ki(z,Ce){return Ei(function Ws(z,Ce,xe){return Ce=En(void 0===Ce?z.length-1:Ce,0),function(){for(var ot=arguments,Vt=-1,tn=En(ot.length-Ce,0),Yt=Array(tn);++Vt<tn;)Yt[Vt]=ot[Ce+Vt];Vt=-1;for(var sn=Array(Ce+1);++Vt<Ce;)sn[Vt]=ot[Vt];return sn[Ce]=xe(Yt),Zi(z,this,sn)}}(z,Ce,be),z+"")}var an=Sn?function(z,Ce){return Sn(z,"toString",{configurable:!0,enumerable:!1,value:de(Ce),writable:!0})}:be;function ri(z,Ce,xe,ot,Vt,tn){return _e(z)&&_e(Ce)&&(tn.set(Ce,z),Zn(z,Ce,void 0,ri,tn),tn.delete(Ce)),z}function nr(z,Ce){var xe=z.__data__;return function ns(z){var Ce=typeof z;return"string"==Ce||"number"==Ce||"symbol"==Ce||"boolean"==Ce?"__proto__"!==z:null===z}(Ce)?xe["string"==typeof Ce?"string":"hash"]:xe.map}function ts(z,Ce){var xe=function pi(z,Ce){return null==z?void 0:z[Ce]}(z,Ce);return function dr(z){return!(!_e(z)||function _i(z){return!!st&&st in z}(z))&&(gs(z)?Ot:xt).test(function zc(z){if(null!=z){try{return Pe.call(z)}catch(Ce){}try{return z+""}catch(Ce){}}return""}(z))}(xe)?xe:void 0}function Ai(z,Ce){var xe=typeof z;return!!(Ce=null==Ce?O:Ce)&&("number"==xe||"symbol"!=xe&&Et.test(z))&&z>-1&&z%1==0&&z<Ce}function ki(z){var Ce=z&&z.constructor;return z===("function"==typeof Ce&&Ce.prototype||Fr)}function xs(z,Ce){if(("constructor"!==Ce||"function"!=typeof z[Ce])&&"__proto__"!=Ce)return z[Ce]}var Ei=function As(z){var Ce=0,xe=0;return function(){var ot=Ct(),Vt=16-(ot-xe);if(xe=ot,Vt>0){if(++Ce>=800)return arguments[0]}else Ce=0;return z.apply(void 0,arguments)}}(an);function Is(z,Ce){return z===Ce||z!=z&&Ce!=Ce}var zs=hn(function(){return arguments}())?hn:function(z){return ie(z)&&ke.call(z,"callee")&&!xn.call(z,"callee")},rs=Array.isArray;function is(z){return null!=z&&ae(z.length)&&!gs(z)}var ja=Bn||function je(){return!1};function gs(z){if(!_e(z))return!1;var Ce=Kt(z);return Ce==ve||"[object GeneratorFunction]"==Ce||"[object AsyncFunction]"==Ce||"[object Proxy]"==Ce}function ae(z){return"number"==typeof z&&z>-1&&z%1==0&&z<=O}function _e(z){var Ce=typeof z;return null!=z&&("object"==Ce||"function"==Ce)}function ie(z){return null!=z&&"object"==typeof z}var j=kr?function Yr(z){return function(Ce){return z(Ce)}}(kr):function Lr(z){return ie(z)&&ae(z.length)&&!!Mt[Kt(z)]},Z=Ki(function(z){return z.push(void 0,ri),Zi(ge,void 0,z)});function ce(z){return is(z)?function Bt(z,Ce){var xe=rs(z),ot=!xe&&zs(z),Vt=!xe&&!ot&&ja(z),tn=!xe&&!ot&&!Vt&&j(z),Yt=xe||ot||Vt||tn,sn=Yt?function ao(z,Ce){for(var xe=-1,ot=Array(z);++xe<z;)ot[xe]=Ce(xe);return ot}(z.length,String):[],An=sn.length;for(var Ur in z)(Ce||ke.call(z,Ur))&&(!Yt||!("length"==Ur||Vt&&("offset"==Ur||"parent"==Ur)||tn&&("buffer"==Ur||"byteLength"==Ur||"byteOffset"==Ur)||Ai(Ur,An)))&&sn.push(Ur);return sn}(z,!0):function gr(z){if(!_e(z))return function ha(z){var Ce=[];if(null!=z)for(var xe in Object(z))Ce.push(xe);return Ce}(z);var Ce=ki(z),xe=[];for(var ot in z)"constructor"==ot&&(Ce||!ke.call(z,ot))||xe.push(ot);return xe}(z)}var ge=function $o(z){return Ki(function(Ce,xe){var ot=-1,Vt=xe.length,tn=Vt>1?xe[Vt-1]:void 0,Yt=Vt>2?xe[2]:void 0;for(tn=z.length>3&&"function"==typeof tn?(Vt--,tn):void 0,Yt&&function Xr(z,Ce,xe){if(!_e(xe))return!1;var ot=typeof Ce;return!!("number"==ot?is(xe)&&Ai(Ce,xe.length):"string"==ot&&Ce in xe)&&Is(xe[Ce],z)}(xe[0],xe[1],Yt)&&(tn=Vt<3?void 0:tn,Vt=1),Ce=Object(Ce);++ot<Vt;){var sn=xe[ot];sn&&z(Ce,sn,ot,tn)}return Ce})}(function(z,Ce,xe,ot){Zn(z,Ce,xe,ot)});function de(z){return function(){return z}}function be(z){return z}tt.exports=Z},8306:(tt,A,N)=>{"use strict";N.d(A,{y:()=>K});var t=N(930),T=N(727),S=N(8822),R=N(4671);var q=N(2416),X=N(576),J=N(2806);let K=(()=>{class Ze{constructor(pt){pt&&(this._subscribe=pt)}lift(pt){const De=new Ze;return De.source=this,De.operator=pt,De}subscribe(pt,De,He){const Ae=function $e(Ze){return Ze&&Ze instanceof t.Lv||function ve(Ze){return Ze&&(0,X.m)(Ze.next)&&(0,X.m)(Ze.error)&&(0,X.m)(Ze.complete)}(Ze)&&(0,T.Nn)(Ze)}(pt)?pt:new t.Hp(pt,De,He);return(0,J.x)(()=>{const{operator:Qe,source:Be}=this;Ae.add(Qe?Qe.call(Ae,Be):Be?this._subscribe(Ae):this._trySubscribe(Ae))}),Ae}_trySubscribe(pt){try{return this._subscribe(pt)}catch(De){pt.error(De)}}forEach(pt,De){return new(De=ee(De))((He,Ae)=>{const Qe=new t.Hp({next:Be=>{try{pt(Be)}catch(Re){Ae(Re),Qe.unsubscribe()}},error:Ae,complete:He});this.subscribe(Qe)})}_subscribe(pt){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(pt)}[S.L](){return this}pipe(...pt){return function G(Ze){return 0===Ze.length?R.y:1===Ze.length?Ze[0]:function(pt){return Ze.reduce((De,He)=>He(De),pt)}}(pt)(this)}toPromise(pt){return new(pt=ee(pt))((De,He)=>{let Ae;this.subscribe(Qe=>Ae=Qe,Qe=>He(Qe),()=>De(Ae))})}}return Ze.create=Xe=>new Ze(Xe),Ze})();function ee(Ze){var Xe;return null!==(Xe=null!=Ze?Ze:q.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(tt,A,N)=>{"use strict";N.d(A,{x:()=>q});var t=N(8306),T=N(727);const R=(0,N(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=N(8737),G=N(2806);let q=(()=>{class J extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ee){const ve=new X(this,this);return ve.operator=ee,ve}_throwIfClosed(){if(this.closed)throw new R}next(ee){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ve of this.currentObservers)ve.next(ee)}})}error(ee){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ee;const{observers:ve}=this;for(;ve.length;)ve.shift().error(ee)}})}complete(){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ee}=this;for(;ee.length;)ee.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ee;return(null===(ee=this.observers)||void 0===ee?void 0:ee.length)>0}_trySubscribe(ee){return this._throwIfClosed(),super._trySubscribe(ee)}_subscribe(ee){return this._throwIfClosed(),this._checkFinalizedStatuses(ee),this._innerSubscribe(ee)}_innerSubscribe(ee){const{hasError:ve,isStopped:$e,observers:Ze}=this;return ve||$e?T.Lc:(this.currentObservers=null,Ze.push(ee),new T.w0(()=>{this.currentObservers=null,(0,O.P)(Ze,ee)}))}_checkFinalizedStatuses(ee){const{hasError:ve,thrownError:$e,isStopped:Ze}=this;ve?ee.error($e):Ze&&ee.complete()}asObservable(){const ee=new t.y;return ee.source=this,ee}}return J.create=(K,ee)=>new X(K,ee),J})();class X extends q{constructor(K,ee){super(),this.destination=K,this.source=ee}next(K){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.next)||void 0===ve||ve.call(ee,K)}error(K){var ee,ve;null===(ve=null===(ee=this.destination)||void 0===ee?void 0:ee.error)||void 0===ve||ve.call(ee,K)}complete(){var K,ee;null===(ee=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ee||ee.call(K)}_subscribe(K){var ee,ve;return null!==(ve=null===(ee=this.source)||void 0===ee?void 0:ee.subscribe(K))&&void 0!==ve?ve:T.Lc}}},930:(tt,A,N)=>{"use strict";N.d(A,{Hp:()=>pt,Lv:()=>ve});var t=N(576),T=N(727),S=N(2416),R=N(7849),O=N(5032);const G=J("C",void 0,void 0);function J(Be,Re,Te){return{kind:Be,value:Re,error:Te}}var K=N(3410),ee=N(2806);class ve extends T.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,T.Nn)(Re)&&Re.add(this)):this.destination=Qe}static create(Re,Te,qe){return new pt(Re,Te,qe)}next(Re){this.isStopped?Ae(function X(Be){return J("N",Be,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?Ae(function q(Be){return J("E",void 0,Be)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?Ae(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const $e=Function.prototype.bind;function Ze(Be,Re){return $e.call(Be,Re)}class Xe{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:Te}=this;if(Te.next)try{Te.next(Re)}catch(qe){De(qe)}}error(Re){const{partialObserver:Te}=this;if(Te.error)try{Te.error(Re)}catch(qe){De(qe)}else De(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(Te){De(Te)}}}class pt extends ve{constructor(Re,Te,qe){let Ue;if(super(),(0,t.m)(Re)||!Re)Ue={next:null!=Re?Re:void 0,error:null!=Te?Te:void 0,complete:null!=qe?qe:void 0};else{let lt;this&&S.v.useDeprecatedNextContext?(lt=Object.create(Re),lt.unsubscribe=()=>this.unsubscribe(),Ue={next:Re.next&&Ze(Re.next,lt),error:Re.error&&Ze(Re.error,lt),complete:Re.complete&&Ze(Re.complete,lt)}):Ue=Re}this.destination=new Xe(Ue)}}function De(Be){S.v.useDeprecatedSynchronousErrorHandling?(0,ee.O)(Be):(0,R.h)(Be)}function Ae(Be,Re){const{onStoppedNotification:Te}=S.v;Te&&K.z.setTimeout(()=>Te(Be,Re))}const Qe={closed:!0,next:O.Z,error:function He(Be){throw Be},complete:O.Z}},727:(tt,A,N)=>{"use strict";N.d(A,{Lc:()=>G,w0:()=>O,Nn:()=>q});var t=N(576);const S=(0,N(3888).d)(J=>function(ee){J(this),this.message=ee?`${ee.length} errors occurred during unsubscription:\n${ee.map((ve,$e)=>`${$e+1}) ${ve.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ee});var R=N(8737);class O{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ee}=this;if(ee)if(this._parentage=null,Array.isArray(ee))for(const Ze of ee)Ze.remove(this);else ee.remove(this);const{initialTeardown:ve}=this;if((0,t.m)(ve))try{ve()}catch(Ze){K=Ze instanceof S?Ze.errors:[Ze]}const{_finalizers:$e}=this;if($e){this._finalizers=null;for(const Ze of $e)try{X(Ze)}catch(Xe){K=null!=K?K:[],Xe instanceof S?K=[...K,...Xe.errors]:K.push(Xe)}}if(K)throw new S(K)}}add(K){var ee;if(K&&K!==this)if(this.closed)X(K);else{if(K instanceof O){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ee=this._finalizers)&&void 0!==ee?ee:[]).push(K)}}_hasParent(K){const{_parentage:ee}=this;return ee===K||Array.isArray(ee)&&ee.includes(K)}_addParent(K){const{_parentage:ee}=this;this._parentage=Array.isArray(ee)?(ee.push(K),ee):ee?[ee,K]:K}_removeParent(K){const{_parentage:ee}=this;ee===K?this._parentage=null:Array.isArray(ee)&&(0,R.P)(ee,K)}remove(K){const{_finalizers:ee}=this;ee&&(0,R.P)(ee,K),K instanceof O&&K._removeParent(this)}}O.EMPTY=(()=>{const J=new O;return J.closed=!0,J})();const G=O.EMPTY;function q(J){return J instanceof O||J&&"closed"in J&&(0,t.m)(J.remove)&&(0,t.m)(J.add)&&(0,t.m)(J.unsubscribe)}function X(J){(0,t.m)(J)?J():J.unsubscribe()}},2416:(tt,A,N)=>{"use strict";N.d(A,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(tt,A,N)=>{"use strict";N.d(A,{E:()=>T});const T=new(N(8306).y)(O=>O.complete())},8996:(tt,A,N)=>{"use strict";N.d(A,{D:()=>Re});var t=N(8421),T=N(5363),S=N(9468),G=N(8306),X=N(2202),J=N(576),K=N(9672);function ve(Te,qe){if(!Te)throw new Error("Iterable cannot be null");return new G.y(Ue=>{(0,K.f)(Ue,qe,()=>{const lt=Te[Symbol.asyncIterator]();(0,K.f)(Ue,qe,()=>{lt.next().then(ue=>{ue.done?Ue.complete():Ue.next(ue.value)})},0,!0)})})}var $e=N(3670),Ze=N(8239),Xe=N(1144),pt=N(6495),De=N(2206),He=N(4532),Ae=N(3260);function Re(Te,qe){return qe?function Be(Te,qe){if(null!=Te){if((0,$e.c)(Te))return function R(Te,qe){return(0,t.Xf)(Te).pipe((0,S.R)(qe),(0,T.Q)(qe))}(Te,qe);if((0,Xe.z)(Te))return function q(Te,qe){return new G.y(Ue=>{let lt=0;return qe.schedule(function(){lt===Te.length?Ue.complete():(Ue.next(Te[lt++]),Ue.closed||this.schedule())})})}(Te,qe);if((0,Ze.t)(Te))return function O(Te,qe){return(0,t.Xf)(Te).pipe((0,S.R)(qe),(0,T.Q)(qe))}(Te,qe);if((0,De.D)(Te))return ve(Te,qe);if((0,pt.T)(Te))return function ee(Te,qe){return new G.y(Ue=>{let lt;return(0,K.f)(Ue,qe,()=>{lt=Te[X.h](),(0,K.f)(Ue,qe,()=>{let ue,oe;try{({value:ue,done:oe}=lt.next())}catch(te){return void Ue.error(te)}oe?Ue.complete():Ue.next(ue)},0,!0)}),()=>(0,J.m)(null==lt?void 0:lt.return)&&lt.return()})}(Te,qe);if((0,Ae.L)(Te))return function Qe(Te,qe){return ve((0,Ae.Q)(Te),qe)}(Te,qe)}throw(0,He.z)(Te)}(Te,qe):(0,t.Xf)(Te)}},8421:(tt,A,N)=>{"use strict";N.d(A,{Xf:()=>$e});var t=N(655),T=N(1144),S=N(8239),R=N(8306),O=N(3670),G=N(2206),q=N(4532),X=N(6495),J=N(3260),K=N(576),ee=N(7849),ve=N(8822);function $e(Be){if(Be instanceof R.y)return Be;if(null!=Be){if((0,O.c)(Be))return function Ze(Be){return new R.y(Re=>{const Te=Be[ve.L]();if((0,K.m)(Te.subscribe))return Te.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,T.z)(Be))return function Xe(Be){return new R.y(Re=>{for(let Te=0;Te<Be.length&&!Re.closed;Te++)Re.next(Be[Te]);Re.complete()})}(Be);if((0,S.t)(Be))return function pt(Be){return new R.y(Re=>{Be.then(Te=>{Re.closed||(Re.next(Te),Re.complete())},Te=>Re.error(Te)).then(null,ee.h)})}(Be);if((0,G.D)(Be))return He(Be);if((0,X.T)(Be))return function De(Be){return new R.y(Re=>{for(const Te of Be)if(Re.next(Te),Re.closed)return;Re.complete()})}(Be);if((0,J.L)(Be))return function Ae(Be){return He((0,J.Q)(Be))}(Be)}throw(0,q.z)(Be)}function He(Be){return new R.y(Re=>{(function Qe(Be,Re){var Te,qe,Ue,lt;return(0,t.mG)(this,void 0,void 0,function*(){try{for(Te=(0,t.KL)(Be);!(qe=yield Te.next()).done;)if(Re.next(qe.value),Re.closed)return}catch(ue){Ue={error:ue}}finally{try{qe&&!qe.done&&(lt=Te.return)&&(yield lt.call(Te))}finally{if(Ue)throw Ue.error}}Re.complete()})})(Be,Re).catch(Te=>Re.error(Te))})}},9646:(tt,A,N)=>{"use strict";N.d(A,{of:()=>S});var t=N(3269),T=N(8996);function S(...R){const O=(0,t.yG)(R);return(0,T.D)(R,O)}},5403:(tt,A,N)=>{"use strict";N.d(A,{x:()=>T});var t=N(930);function T(R,O,G,q,X){return new S(R,O,G,q,X)}class S extends t.Lv{constructor(O,G,q,X,J,K){super(O),this.onFinalize=J,this.shouldUnsubscribe=K,this._next=G?function(ee){try{G(ee)}catch(ve){O.error(ve)}}:super._next,this._error=X?function(ee){try{X(ee)}catch(ve){O.error(ve)}finally{this.unsubscribe()}}:super._error,this._complete=q?function(){try{q()}catch(ee){O.error(ee)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},4004:(tt,A,N)=>{"use strict";N.d(A,{U:()=>S});var t=N(4482),T=N(5403);function S(R,O){return(0,t.e)((G,q)=>{let X=0;G.subscribe((0,T.x)(q,J=>{q.next(R.call(O,J,X++))}))})}},8189:(tt,A,N)=>{"use strict";N.d(A,{J:()=>S});var t=N(5577),T=N(4671);function S(R=1/0){return(0,t.z)(T.y,R)}},5577:(tt,A,N)=>{"use strict";N.d(A,{z:()=>X});var t=N(4004),T=N(8421),S=N(4482),R=N(9672),O=N(5403),q=N(576);function X(J,K,ee=1/0){return(0,q.m)(K)?X((ve,$e)=>(0,t.U)((Ze,Xe)=>K(ve,Ze,$e,Xe))((0,T.Xf)(J(ve,$e))),ee):("number"==typeof K&&(ee=K),(0,S.e)((ve,$e)=>function G(J,K,ee,ve,$e,Ze,Xe,pt){const De=[];let He=0,Ae=0,Qe=!1;const Be=()=>{Qe&&!De.length&&!He&&K.complete()},Re=qe=>He<ve?Te(qe):De.push(qe),Te=qe=>{Ze&&K.next(qe),He++;let Ue=!1;(0,T.Xf)(ee(qe,Ae++)).subscribe((0,O.x)(K,lt=>{null==$e||$e(lt),Ze?Re(lt):K.next(lt)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(He--;De.length&&He<ve;){const lt=De.shift();Xe?(0,R.f)(K,Xe,()=>Te(lt)):Te(lt)}Be()}catch(lt){K.error(lt)}}))};return J.subscribe((0,O.x)(K,Re,()=>{Qe=!0,Be()})),()=>{null==pt||pt()}}(ve,$e,J,ee)))}},5363:(tt,A,N)=>{"use strict";N.d(A,{Q:()=>R});var t=N(9672),T=N(4482),S=N(5403);function R(O,G=0){return(0,T.e)((q,X)=>{q.subscribe((0,S.x)(X,J=>(0,t.f)(X,O,()=>X.next(J),G),()=>(0,t.f)(X,O,()=>X.complete(),G),J=>(0,t.f)(X,O,()=>X.error(J),G)))})}},3099:(tt,A,N)=>{"use strict";N.d(A,{B:()=>G});var t=N(8996),T=N(5698),S=N(7579),R=N(930),O=N(4482);function G(X={}){const{connector:J=(()=>new S.x),resetOnError:K=!0,resetOnComplete:ee=!0,resetOnRefCountZero:ve=!0}=X;return $e=>{let Ze=null,Xe=null,pt=null,De=0,He=!1,Ae=!1;const Qe=()=>{null==Xe||Xe.unsubscribe(),Xe=null},Be=()=>{Qe(),Ze=pt=null,He=Ae=!1},Re=()=>{const Te=Ze;Be(),null==Te||Te.unsubscribe()};return(0,O.e)((Te,qe)=>{De++,!Ae&&!He&&Qe();const Ue=pt=null!=pt?pt:J();qe.add(()=>{De--,0===De&&!Ae&&!He&&(Xe=q(Re,ve))}),Ue.subscribe(qe),Ze||(Ze=new R.Hp({next:lt=>Ue.next(lt),error:lt=>{Ae=!0,Qe(),Xe=q(Be,K,lt),Ue.error(lt)},complete:()=>{He=!0,Qe(),Xe=q(Be,ee),Ue.complete()}}),(0,t.D)(Te).subscribe(Ze))})($e)}}function q(X,J,...K){return!0===J?(X(),null):!1===J?null:J(...K).pipe((0,T.q)(1)).subscribe(()=>X())}},9468:(tt,A,N)=>{"use strict";N.d(A,{R:()=>T});var t=N(4482);function T(S,R=0){return(0,t.e)((O,G)=>{G.add(S.schedule(()=>O.subscribe(G),R))})}},5698:(tt,A,N)=>{"use strict";N.d(A,{q:()=>R});var t=N(515),T=N(4482),S=N(5403);function R(O){return O<=0?()=>t.E:(0,T.e)((G,q)=>{let X=0;G.subscribe((0,S.x)(q,J=>{++X<=O&&(q.next(J),O<=X&&q.complete())}))})}},8505:(tt,A,N)=>{"use strict";N.d(A,{b:()=>O});var t=N(576),T=N(4482),S=N(5403),R=N(4671);function O(G,q,X){const J=(0,t.m)(G)||q||X?{next:G,error:q,complete:X}:G;return J?(0,T.e)((K,ee)=>{var ve;null===(ve=J.subscribe)||void 0===ve||ve.call(J);let $e=!0;K.subscribe((0,S.x)(ee,Ze=>{var Xe;null===(Xe=J.next)||void 0===Xe||Xe.call(J,Ze),ee.next(Ze)},()=>{var Ze;$e=!1,null===(Ze=J.complete)||void 0===Ze||Ze.call(J),ee.complete()},Ze=>{var Xe;$e=!1,null===(Xe=J.error)||void 0===Xe||Xe.call(J,Ze),ee.error(Ze)},()=>{var Ze,Xe;$e&&(null===(Ze=J.unsubscribe)||void 0===Ze||Ze.call(J)),null===(Xe=J.finalize)||void 0===Xe||Xe.call(J)}))}):R.y}},4408:(tt,A,N)=>{"use strict";N.d(A,{o:()=>O});var t=N(727);class T extends t.w0{constructor(q,X){super()}schedule(q,X=0){return this}}const S={setInterval(G,q,...X){const{delegate:J}=S;return(null==J?void 0:J.setInterval)?J.setInterval(G,q,...X):setInterval(G,q,...X)},clearInterval(G){const{delegate:q}=S;return((null==q?void 0:q.clearInterval)||clearInterval)(G)},delegate:void 0};var R=N(8737);class O extends T{constructor(q,X){super(q,X),this.scheduler=q,this.work=X,this.pending=!1}schedule(q,X=0){if(this.closed)return this;this.state=q;const J=this.id,K=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(K,J,X)),this.pending=!0,this.delay=X,this.id=this.id||this.requestAsyncId(K,this.id,X),this}requestAsyncId(q,X,J=0){return S.setInterval(q.flush.bind(q,this),J)}recycleAsyncId(q,X,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return X;S.clearInterval(X)}execute(q,X){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute(q,X);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(q,X){let K,J=!1;try{this.work(q)}catch(ee){J=!0,K=ee||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:q,scheduler:X}=this,{actions:J}=X;this.work=this.state=this.scheduler=null,this.pending=!1,(0,R.P)(J,this),null!=q&&(this.id=this.recycleAsyncId(X,q,null)),this.delay=null,super.unsubscribe()}}}},7565:(tt,A,N)=>{"use strict";N.d(A,{v:()=>S});var t=N(6063);class T{constructor(O,G=T.now){this.schedulerActionCtor=O,this.now=G}schedule(O,G=0,q){return new this.schedulerActionCtor(this,O).schedule(q,G)}}T.now=t.l.now;class S extends T{constructor(O,G=T.now){super(O,G),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:G}=this;if(this._active)return void G.push(O);let q;this._active=!0;do{if(q=O.execute(O.state,O.delay))break}while(O=G.shift());if(this._active=!1,q){for(;O=G.shift();)O.unsubscribe();throw q}}}},4986:(tt,A,N)=>{"use strict";N.d(A,{P:()=>R,z:()=>S});var t=N(4408);const S=new(N(7565).v)(t.o),R=S},6063:(tt,A,N)=>{"use strict";N.d(A,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(tt,A,N)=>{"use strict";N.d(A,{z:()=>t});const t={setTimeout(T,S,...R){const{delegate:O}=t;return(null==O?void 0:O.setTimeout)?O.setTimeout(T,S,...R):setTimeout(T,S,...R)},clearTimeout(T){const{delegate:S}=t;return((null==S?void 0:S.clearTimeout)||clearTimeout)(T)},delegate:void 0}},2202:(tt,A,N)=>{"use strict";N.d(A,{h:()=>T});const T=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(tt,A,N)=>{"use strict";N.d(A,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(tt,A,N)=>{"use strict";N.d(A,{_6:()=>G,jO:()=>R,yG:()=>O});var t=N(576),T=N(3532);function S(q){return q[q.length-1]}function R(q){return(0,t.m)(S(q))?q.pop():void 0}function O(q){return(0,T.K)(S(q))?q.pop():void 0}function G(q,X){return"number"==typeof S(q)?q.pop():X}},8737:(tt,A,N)=>{"use strict";function t(T,S){if(T){const R=T.indexOf(S);0<=R&&T.splice(R,1)}}N.d(A,{P:()=>t})},3888:(tt,A,N)=>{"use strict";function t(T){const R=T(O=>{Error.call(O),O.stack=(new Error).stack});return R.prototype=Object.create(Error.prototype),R.prototype.constructor=R,R}N.d(A,{d:()=>t})},2806:(tt,A,N)=>{"use strict";N.d(A,{O:()=>R,x:()=>S});var t=N(2416);let T=null;function S(O){if(t.v.useDeprecatedSynchronousErrorHandling){const G=!T;if(G&&(T={errorThrown:!1,error:null}),O(),G){const{errorThrown:q,error:X}=T;if(T=null,q)throw X}}else O()}function R(O){t.v.useDeprecatedSynchronousErrorHandling&&T&&(T.errorThrown=!0,T.error=O)}},9672:(tt,A,N)=>{"use strict";function t(T,S,R,O=0,G=!1){const q=S.schedule(function(){R(),G?T.add(this.schedule(null,O)):this.unsubscribe()},O);if(T.add(q),!G)return q}N.d(A,{f:()=>t})},4671:(tt,A,N)=>{"use strict";function t(T){return T}N.d(A,{y:()=>t})},1144:(tt,A,N)=>{"use strict";N.d(A,{z:()=>t});const t=T=>T&&"number"==typeof T.length&&"function"!=typeof T},2206:(tt,A,N)=>{"use strict";N.d(A,{D:()=>T});var t=N(576);function T(S){return Symbol.asyncIterator&&(0,t.m)(null==S?void 0:S[Symbol.asyncIterator])}},576:(tt,A,N)=>{"use strict";function t(T){return"function"==typeof T}N.d(A,{m:()=>t})},3670:(tt,A,N)=>{"use strict";N.d(A,{c:()=>S});var t=N(8822),T=N(576);function S(R){return(0,T.m)(R[t.L])}},6495:(tt,A,N)=>{"use strict";N.d(A,{T:()=>S});var t=N(2202),T=N(576);function S(R){return(0,T.m)(null==R?void 0:R[t.h])}},8239:(tt,A,N)=>{"use strict";N.d(A,{t:()=>T});var t=N(576);function T(S){return(0,t.m)(null==S?void 0:S.then)}},3260:(tt,A,N)=>{"use strict";N.d(A,{L:()=>R,Q:()=>S});var t=N(655),T=N(576);function S(O){return(0,t.FC)(this,arguments,function*(){const q=O.getReader();try{for(;;){const{value:X,done:J}=yield(0,t.qq)(q.read());if(J)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(X)}}finally{q.releaseLock()}})}function R(O){return(0,T.m)(null==O?void 0:O.getReader)}},3532:(tt,A,N)=>{"use strict";N.d(A,{K:()=>T});var t=N(576);function T(S){return S&&(0,t.m)(S.schedule)}},4482:(tt,A,N)=>{"use strict";N.d(A,{A:()=>T,e:()=>S});var t=N(576);function T(R){return(0,t.m)(null==R?void 0:R.lift)}function S(R){return O=>{if(T(O))return O.lift(function(G){try{return R(G,this)}catch(q){this.error(q)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(tt,A,N)=>{"use strict";function t(){}N.d(A,{Z:()=>t})},7849:(tt,A,N)=>{"use strict";N.d(A,{h:()=>S});var t=N(2416),T=N(3410);function S(R){T.z.setTimeout(()=>{const{onUnhandledError:O}=t.v;if(!O)throw R;O(R)})}},4532:(tt,A,N)=>{"use strict";function t(T){return new TypeError(`You provided ${null!==T&&"object"==typeof T?"an invalid object":`'${T}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(A,{z:()=>t})},8583:()=>{"use strict";!function(Pe){const ke=Pe.performance;function st(kn){ke&&ke.mark&&ke.mark(kn)}function et(kn,en){ke&&ke.measure&&ke.measure(kn,en)}st("Zone");const ct=Pe.__Zone_symbol_prefix||"__zone_symbol__";function Ot(kn){return ct+kn}const Lt=!0===Pe[Ot("forceDuplicateZoneCheck")];if(Pe.Zone){if(Lt||"function"!=typeof Pe.Zone.__symbol__)throw new Error("Zone already loaded.");return Pe.Zone}let gt=(()=>{class kn{constructor(Oe,nt){this._parent=Oe,this._name=nt?nt.name||"unnamed":"<root>",this._properties=nt&&nt.properties||{},this._zoneDelegate=new pn(this,this._parent&&this._parent._zoneDelegate,nt)}static assertZonePatched(){if(Pe.Promise!==gn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Oe=kn.current;for(;Oe.parent;)Oe=Oe.parent;return Oe}static get current(){return Jn.zone}static get currentTask(){return sr}static __load_patch(Oe,nt,Xt=!1){if(gn.hasOwnProperty(Oe)){if(!Xt&&Lt)throw Error("Already loaded patch: "+Oe)}else if(!Pe["__Zone_disable_"+Oe]){const Dn="Zone:"+Oe;st(Dn),gn[Oe]=nt(Pe,kn,Pn),et(Dn,Dn)}}get parent(){return this._parent}get name(){return this._name}get(Oe){const nt=this.getZoneWith(Oe);if(nt)return nt._properties[Oe]}getZoneWith(Oe){let nt=this;for(;nt;){if(nt._properties.hasOwnProperty(Oe))return nt;nt=nt._parent}return null}fork(Oe){if(!Oe)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Oe)}wrap(Oe,nt){if("function"!=typeof Oe)throw new Error("Expecting function got: "+Oe);const Xt=this._zoneDelegate.intercept(this,Oe,nt),Dn=this;return function(){return Dn.runGuarded(Xt,this,arguments,nt)}}run(Oe,nt,Xt,Dn){Jn={parent:Jn,zone:this};try{return this._zoneDelegate.invoke(this,Oe,nt,Xt,Dn)}finally{Jn=Jn.parent}}runGuarded(Oe,nt=null,Xt,Dn){Jn={parent:Jn,zone:this};try{try{return this._zoneDelegate.invoke(this,Oe,nt,Xt,Dn)}catch(Ar){if(this._zoneDelegate.handleError(this,Ar))throw Ar}}finally{Jn=Jn.parent}}runTask(Oe,nt,Xt){if(Oe.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Oe.zone||Tt).name+"; Execution: "+this.name+")");if(Oe.state===$t&&(Oe.type===Pt||Oe.type===Ne))return;const Dn=Oe.state!=we;Dn&&Oe._transitionTo(we,dn),Oe.runCount++;const Ar=sr;sr=Oe,Jn={parent:Jn,zone:this};try{Oe.type==Ne&&Oe.data&&!Oe.data.isPeriodic&&(Oe.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Oe,nt,Xt)}catch(Ft){if(this._zoneDelegate.handleError(this,Ft))throw Ft}}finally{Oe.state!==$t&&Oe.state!==fe&&(Oe.type==Pt||Oe.data&&Oe.data.isPeriodic?Dn&&Oe._transitionTo(dn,we):(Oe.runCount=0,this._updateTaskCount(Oe,-1),Dn&&Oe._transitionTo($t,we,$t))),Jn=Jn.parent,sr=Ar}}scheduleTask(Oe){if(Oe.zone&&Oe.zone!==this){let Xt=this;for(;Xt;){if(Xt===Oe.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Oe.zone.name}`);Xt=Xt.parent}}Oe._transitionTo(yn,$t);const nt=[];Oe._zoneDelegates=nt,Oe._zone=this;try{Oe=this._zoneDelegate.scheduleTask(this,Oe)}catch(Xt){throw Oe._transitionTo(fe,yn,$t),this._zoneDelegate.handleError(this,Xt),Xt}return Oe._zoneDelegates===nt&&this._updateTaskCount(Oe,1),Oe.state==yn&&Oe._transitionTo(dn,yn),Oe}scheduleMicroTask(Oe,nt,Xt,Dn){return this.scheduleTask(new Qt(Ge,Oe,nt,Xt,Dn,void 0))}scheduleMacroTask(Oe,nt,Xt,Dn,Ar){return this.scheduleTask(new Qt(Ne,Oe,nt,Xt,Dn,Ar))}scheduleEventTask(Oe,nt,Xt,Dn,Ar){return this.scheduleTask(new Qt(Pt,Oe,nt,Xt,Dn,Ar))}cancelTask(Oe){if(Oe.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Oe.zone||Tt).name+"; Execution: "+this.name+")");Oe._transitionTo(he,dn,we);try{this._zoneDelegate.cancelTask(this,Oe)}catch(nt){throw Oe._transitionTo(fe,he),this._zoneDelegate.handleError(this,nt),nt}return this._updateTaskCount(Oe,-1),Oe._transitionTo($t,he),Oe.runCount=0,Oe}_updateTaskCount(Oe,nt){const Xt=Oe._zoneDelegates;-1==nt&&(Oe._zoneDelegates=null);for(let Dn=0;Dn<Xt.length;Dn++)Xt[Dn]._updateTaskCount(Oe.type,nt)}}return kn.__symbol__=Ot,kn})();const St={name:"",onHasTask:(kn,en,Oe,nt)=>kn.hasTask(Oe,nt),onScheduleTask:(kn,en,Oe,nt)=>kn.scheduleTask(Oe,nt),onInvokeTask:(kn,en,Oe,nt,Xt,Dn)=>kn.invokeTask(Oe,nt,Xt,Dn),onCancelTask:(kn,en,Oe,nt)=>kn.cancelTask(Oe,nt)};class pn{constructor(en,Oe,nt){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=en,this._parentDelegate=Oe,this._forkZS=nt&&(nt&&nt.onFork?nt:Oe._forkZS),this._forkDlgt=nt&&(nt.onFork?Oe:Oe._forkDlgt),this._forkCurrZone=nt&&(nt.onFork?this.zone:Oe._forkCurrZone),this._interceptZS=nt&&(nt.onIntercept?nt:Oe._interceptZS),this._interceptDlgt=nt&&(nt.onIntercept?Oe:Oe._interceptDlgt),this._interceptCurrZone=nt&&(nt.onIntercept?this.zone:Oe._interceptCurrZone),this._invokeZS=nt&&(nt.onInvoke?nt:Oe._invokeZS),this._invokeDlgt=nt&&(nt.onInvoke?Oe:Oe._invokeDlgt),this._invokeCurrZone=nt&&(nt.onInvoke?this.zone:Oe._invokeCurrZone),this._handleErrorZS=nt&&(nt.onHandleError?nt:Oe._handleErrorZS),this._handleErrorDlgt=nt&&(nt.onHandleError?Oe:Oe._handleErrorDlgt),this._handleErrorCurrZone=nt&&(nt.onHandleError?this.zone:Oe._handleErrorCurrZone),this._scheduleTaskZS=nt&&(nt.onScheduleTask?nt:Oe._scheduleTaskZS),this._scheduleTaskDlgt=nt&&(nt.onScheduleTask?Oe:Oe._scheduleTaskDlgt),this._scheduleTaskCurrZone=nt&&(nt.onScheduleTask?this.zone:Oe._scheduleTaskCurrZone),this._invokeTaskZS=nt&&(nt.onInvokeTask?nt:Oe._invokeTaskZS),this._invokeTaskDlgt=nt&&(nt.onInvokeTask?Oe:Oe._invokeTaskDlgt),this._invokeTaskCurrZone=nt&&(nt.onInvokeTask?this.zone:Oe._invokeTaskCurrZone),this._cancelTaskZS=nt&&(nt.onCancelTask?nt:Oe._cancelTaskZS),this._cancelTaskDlgt=nt&&(nt.onCancelTask?Oe:Oe._cancelTaskDlgt),this._cancelTaskCurrZone=nt&&(nt.onCancelTask?this.zone:Oe._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Xt=nt&&nt.onHasTask;(Xt||Oe&&Oe._hasTaskZS)&&(this._hasTaskZS=Xt?nt:St,this._hasTaskDlgt=Oe,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=en,nt.onScheduleTask||(this._scheduleTaskZS=St,this._scheduleTaskDlgt=Oe,this._scheduleTaskCurrZone=this.zone),nt.onInvokeTask||(this._invokeTaskZS=St,this._invokeTaskDlgt=Oe,this._invokeTaskCurrZone=this.zone),nt.onCancelTask||(this._cancelTaskZS=St,this._cancelTaskDlgt=Oe,this._cancelTaskCurrZone=this.zone))}fork(en,Oe){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,en,Oe):new gt(en,Oe)}intercept(en,Oe,nt){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,en,Oe,nt):Oe}invoke(en,Oe,nt,Xt,Dn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,en,Oe,nt,Xt,Dn):Oe.apply(nt,Xt)}handleError(en,Oe){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,en,Oe)}scheduleTask(en,Oe){let nt=Oe;if(this._scheduleTaskZS)this._hasTaskZS&&nt._zoneDelegates.push(this._hasTaskDlgtOwner),nt=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,en,Oe),nt||(nt=Oe);else if(Oe.scheduleFn)Oe.scheduleFn(Oe);else{if(Oe.type!=Ge)throw new Error("Task is missing scheduleFn.");Ct(Oe)}return nt}invokeTask(en,Oe,nt,Xt){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,en,Oe,nt,Xt):Oe.callback.apply(nt,Xt)}cancelTask(en,Oe){let nt;if(this._cancelTaskZS)nt=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,en,Oe);else{if(!Oe.cancelFn)throw Error("Task is not cancelable");nt=Oe.cancelFn(Oe)}return nt}hasTask(en,Oe){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,en,Oe)}catch(nt){this.handleError(en,nt)}}_updateTaskCount(en,Oe){const nt=this._taskCounts,Xt=nt[en],Dn=nt[en]=Xt+Oe;if(Dn<0)throw new Error("More tasks executed then were scheduled.");0!=Xt&&0!=Dn||this.hasTask(this.zone,{microTask:nt.microTask>0,macroTask:nt.macroTask>0,eventTask:nt.eventTask>0,change:en})}}class Qt{constructor(en,Oe,nt,Xt,Dn,Ar){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=en,this.source=Oe,this.data=Xt,this.scheduleFn=Dn,this.cancelFn=Ar,!nt)throw new Error("callback is not defined");this.callback=nt;const Ft=this;this.invoke=en===Pt&&Xt&&Xt.useG?Qt.invokeTask:function(){return Qt.invokeTask.call(Pe,Ft,this,arguments)}}static invokeTask(en,Oe,nt){en||(en=this),fr++;try{return en.runCount++,en.zone.runTask(en,Oe,nt)}finally{1==fr&&Ke(),fr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo($t,yn)}_transitionTo(en,Oe,nt){if(this._state!==Oe&&this._state!==nt)throw new Error(`${this.type} '${this.source}': can not transition to '${en}', expecting state '${Oe}'${nt?" or '"+nt+"'":""}, was '${this._state}'.`);this._state=en,en==$t&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Tn=Ot("setTimeout"),xn=Ot("Promise"),_n=Ot("then");let Bn,Yn=[],Sn=!1;function En(kn){if(Bn||Pe[xn]&&(Bn=Pe[xn].resolve(0)),Bn){let en=Bn[_n];en||(en=Bn.then),en.call(Bn,kn)}else Pe[Tn](kn,0)}function Ct(kn){0===fr&&0===Yn.length&&En(Ke),kn&&Yn.push(kn)}function Ke(){if(!Sn){for(Sn=!0;Yn.length;){const kn=Yn;Yn=[];for(let en=0;en<kn.length;en++){const Oe=kn[en];try{Oe.zone.runTask(Oe,null,null)}catch(nt){Pn.onUnhandledError(nt)}}}Pn.microtaskDrainDone(),Sn=!1}}const Tt={name:"NO ZONE"},$t="notScheduled",yn="scheduling",dn="scheduled",we="running",he="canceling",fe="unknown",Ge="microTask",Ne="macroTask",Pt="eventTask",gn={},Pn={symbol:Ot,currentZoneFrame:()=>Jn,onUnhandledError:cn,microtaskDrainDone:cn,scheduleMicroTask:Ct,showUncaughtError:()=>!gt[Ot("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:cn,patchMethod:()=>cn,bindArguments:()=>[],patchThen:()=>cn,patchMacroTask:()=>cn,patchEventPrototype:()=>cn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>cn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>cn,wrapWithCurrentZone:()=>cn,filterProperties:()=>[],attachOriginToPatched:()=>cn,_redefineProperty:()=>cn,patchCallbacks:()=>cn,nativeScheduleMicroTask:En};let Jn={parent:null,zone:new gt(null,null)},sr=null,fr=0;function cn(){}et("Zone","Zone"),Pe.Zone=gt}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const tt=Object.getOwnPropertyDescriptor,A=Object.defineProperty,N=Object.getPrototypeOf,t=Object.create,T=Array.prototype.slice,S="addEventListener",R="removeEventListener",O=Zone.__symbol__(S),G=Zone.__symbol__(R),q="true",X="false",J=Zone.__symbol__("");function K(Pe,ke){return Zone.current.wrap(Pe,ke)}function ee(Pe,ke,st,et,ct){return Zone.current.scheduleMacroTask(Pe,ke,st,et,ct)}const ve=Zone.__symbol__,$e="undefined"!=typeof window,Ze=$e?window:void 0,Xe=$e&&Ze||"object"==typeof self&&self||global;function De(Pe,ke){for(let st=Pe.length-1;st>=0;st--)"function"==typeof Pe[st]&&(Pe[st]=K(Pe[st],ke+"_"+st));return Pe}function Ae(Pe){return!Pe||!1!==Pe.writable&&!("function"==typeof Pe.get&&void 0===Pe.set)}const Qe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Be=!("nw"in Xe)&&void 0!==Xe.process&&"[object process]"==={}.toString.call(Xe.process),Re=!Be&&!Qe&&!(!$e||!Ze.HTMLElement),Te=void 0!==Xe.process&&"[object process]"==={}.toString.call(Xe.process)&&!Qe&&!(!$e||!Ze.HTMLElement),qe={},Ue=function(Pe){if(!(Pe=Pe||Xe.event))return;let ke=qe[Pe.type];ke||(ke=qe[Pe.type]=ve("ON_PROPERTY"+Pe.type));const st=this||Pe.target||Xe,et=st[ke];let ct;if(Re&&st===Ze&&"error"===Pe.type){const Ot=Pe;ct=et&&et.call(this,Ot.message,Ot.filename,Ot.lineno,Ot.colno,Ot.error),!0===ct&&Pe.preventDefault()}else ct=et&&et.apply(this,arguments),null!=ct&&!ct&&Pe.preventDefault();return ct};function lt(Pe,ke,st){let et=tt(Pe,ke);if(!et&&st&&tt(st,ke)&&(et={enumerable:!0,configurable:!0}),!et||!et.configurable)return;const ct=ve("on"+ke+"patched");if(Pe.hasOwnProperty(ct)&&Pe[ct])return;delete et.writable,delete et.value;const Ot=et.get,Lt=et.set,gt=ke.substr(2);let St=qe[gt];St||(St=qe[gt]=ve("ON_PROPERTY"+gt)),et.set=function(pn){let Qt=this;!Qt&&Pe===Xe&&(Qt=Xe),Qt&&("function"==typeof Qt[St]&&Qt.removeEventListener(gt,Ue),Lt&&Lt.call(Qt,null),Qt[St]=pn,"function"==typeof pn&&Qt.addEventListener(gt,Ue,!1))},et.get=function(){let pn=this;if(!pn&&Pe===Xe&&(pn=Xe),!pn)return null;const Qt=pn[St];if(Qt)return Qt;if(Ot){let Tn=Ot.call(this);if(Tn)return et.set.call(this,Tn),"function"==typeof pn.removeAttribute&&pn.removeAttribute(ke),Tn}return null},A(Pe,ke,et),Pe[ct]=!0}function ue(Pe,ke,st){if(ke)for(let et=0;et<ke.length;et++)lt(Pe,"on"+ke[et],st);else{const et=[];for(const ct in Pe)"on"==ct.substr(0,2)&&et.push(ct);for(let ct=0;ct<et.length;ct++)lt(Pe,et[ct],st)}}const oe=ve("originalInstance");function te(Pe){const ke=Xe[Pe];if(!ke)return;Xe[ve(Pe)]=ke,Xe[Pe]=function(){const ct=De(arguments,Pe);switch(ct.length){case 0:this[oe]=new ke;break;case 1:this[oe]=new ke(ct[0]);break;case 2:this[oe]=new ke(ct[0],ct[1]);break;case 3:this[oe]=new ke(ct[0],ct[1],ct[2]);break;case 4:this[oe]=new ke(ct[0],ct[1],ct[2],ct[3]);break;default:throw new Error("Arg list too long.")}},le(Xe[Pe],ke);const st=new ke(function(){});let et;for(et in st)"XMLHttpRequest"===Pe&&"responseBlob"===et||function(ct){"function"==typeof st[ct]?Xe[Pe].prototype[ct]=function(){return this[oe][ct].apply(this[oe],arguments)}:A(Xe[Pe].prototype,ct,{set:function(Ot){"function"==typeof Ot?(this[oe][ct]=K(Ot,Pe+"."+ct),le(this[oe][ct],Ot)):this[oe][ct]=Ot},get:function(){return this[oe][ct]}})}(et);for(et in ke)"prototype"!==et&&ke.hasOwnProperty(et)&&(Xe[Pe][et]=ke[et])}function me(Pe,ke,st){let et=Pe;for(;et&&!et.hasOwnProperty(ke);)et=N(et);!et&&Pe[ke]&&(et=Pe);const ct=ve(ke);let Ot=null;if(et&&(!(Ot=et[ct])||!et.hasOwnProperty(ct))&&(Ot=et[ct]=et[ke],Ae(et&&tt(et,ke)))){const gt=st(Ot,ct,ke);et[ke]=function(){return gt(this,arguments)},le(et[ke],Ot)}return Ot}function Ie(Pe,ke,st){let et=null;function ct(Ot){const Lt=Ot.data;return Lt.args[Lt.cbIdx]=function(){Ot.invoke.apply(this,arguments)},et.apply(Lt.target,Lt.args),Ot}et=me(Pe,ke,Ot=>function(Lt,gt){const St=st(Lt,gt);return St.cbIdx>=0&&"function"==typeof gt[St.cbIdx]?ee(St.name,gt[St.cbIdx],St,ct):Ot.apply(Lt,gt)})}function le(Pe,ke){Pe[ve("OriginalDelegate")]=ke}let dt=!1,bt=!1;function xt(){if(dt)return bt;dt=!0;try{const Pe=Ze.navigator.userAgent;(-1!==Pe.indexOf("MSIE ")||-1!==Pe.indexOf("Trident/")||-1!==Pe.indexOf("Edge/"))&&(bt=!0)}catch(Pe){}return bt}Zone.__load_patch("ZoneAwarePromise",(Pe,ke,st)=>{const et=Object.getOwnPropertyDescriptor,ct=Object.defineProperty,Lt=st.symbol,gt=[],St=!0===Pe[Lt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],pn=Lt("Promise"),Qt=Lt("then");st.onUnhandledError=Ft=>{if(st.showUncaughtError()){const jt=Ft&&Ft.rejection;jt?console.error("Unhandled Promise rejection:",jt instanceof Error?jt.message:jt,"; Zone:",Ft.zone.name,"; Task:",Ft.task&&Ft.task.source,"; Value:",jt,jt instanceof Error?jt.stack:void 0):console.error(Ft)}},st.microtaskDrainDone=()=>{for(;gt.length;){const Ft=gt.shift();try{Ft.zone.runGuarded(()=>{throw Ft.throwOriginal?Ft.rejection:Ft})}catch(jt){_n(jt)}}};const xn=Lt("unhandledPromiseRejectionHandler");function _n(Ft){st.onUnhandledError(Ft);try{const jt=ke[xn];"function"==typeof jt&&jt.call(this,Ft)}catch(jt){}}function Yn(Ft){return Ft&&Ft.then}function Sn(Ft){return Ft}function Bn(Ft){return Oe.reject(Ft)}const En=Lt("state"),Ct=Lt("value"),Ke=Lt("finally"),Tt=Lt("parentPromiseValue"),$t=Lt("parentPromiseState"),dn=null,he=!1;function Ge(Ft,jt){return ft=>{try{Pn(Ft,jt,ft)}catch(Bt){Pn(Ft,!1,Bt)}}}const gn=Lt("currentTaskTrace");function Pn(Ft,jt,ft){const Bt=function(){let Ft=!1;return function(ft){return function(){Ft||(Ft=!0,ft.apply(null,arguments))}}}();if(Ft===ft)throw new TypeError("Promise resolved with itself");if(Ft[En]===dn){let Zt=null;try{("object"==typeof ft||"function"==typeof ft)&&(Zt=ft&&ft.then)}catch(vn){return Bt(()=>{Pn(Ft,!1,vn)})(),Ft}if(jt!==he&&ft instanceof Oe&&ft.hasOwnProperty(En)&&ft.hasOwnProperty(Ct)&&ft[En]!==dn)sr(ft),Pn(Ft,ft[En],ft[Ct]);else if(jt!==he&&"function"==typeof Zt)try{Zt.call(ft,Bt(Ge(Ft,jt)),Bt(Ge(Ft,!1)))}catch(vn){Bt(()=>{Pn(Ft,!1,vn)})()}else{Ft[En]=jt;const vn=Ft[Ct];if(Ft[Ct]=ft,Ft[Ke]===Ke&&!0===jt&&(Ft[En]=Ft[$t],Ft[Ct]=Ft[Tt]),jt===he&&ft instanceof Error){const zt=ke.currentTask&&ke.currentTask.data&&ke.currentTask.data.__creationTrace__;zt&&ct(ft,gn,{configurable:!0,enumerable:!1,writable:!0,value:zt})}for(let zt=0;zt<vn.length;)fr(Ft,vn[zt++],vn[zt++],vn[zt++],vn[zt++]);if(0==vn.length&&jt==he){Ft[En]=0;let zt=ft;try{throw new Error("Uncaught (in promise): "+function Ot(Ft){return Ft&&Ft.toString===Object.prototype.toString?(Ft.constructor&&Ft.constructor.name||"")+": "+JSON.stringify(Ft):Ft?Ft.toString():Object.prototype.toString.call(Ft)}(ft)+(ft&&ft.stack?"\n"+ft.stack:""))}catch(mt){zt=mt}St&&(zt.throwOriginal=!0),zt.rejection=ft,zt.promise=Ft,zt.zone=ke.current,zt.task=ke.currentTask,gt.push(zt),st.scheduleMicroTask()}}}return Ft}const Jn=Lt("rejectionHandledHandler");function sr(Ft){if(0===Ft[En]){try{const jt=ke[Jn];jt&&"function"==typeof jt&&jt.call(this,{rejection:Ft[Ct],promise:Ft})}catch(jt){}Ft[En]=he;for(let jt=0;jt<gt.length;jt++)Ft===gt[jt].promise&&gt.splice(jt,1)}}function fr(Ft,jt,ft,Bt,Zt){sr(Ft);const vn=Ft[En],zt=vn?"function"==typeof Bt?Bt:Sn:"function"==typeof Zt?Zt:Bn;jt.scheduleMicroTask("Promise.then",()=>{try{const mt=Ft[Ct],Gt=!!ft&&Ke===ft[Ke];Gt&&(ft[Tt]=mt,ft[$t]=vn);const Kt=jt.run(zt,void 0,Gt&&zt!==Bn&&zt!==Sn?[]:[mt]);Pn(ft,!0,Kt)}catch(mt){Pn(ft,!1,mt)}},ft)}const kn=function(){},en=Pe.AggregateError;class Oe{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(jt){return Pn(new this(null),!0,jt)}static reject(jt){return Pn(new this(null),he,jt)}static any(jt){if(!jt||"function"!=typeof jt[Symbol.iterator])return Promise.reject(new en([],"All promises were rejected"));const ft=[];let Bt=0;try{for(let zt of jt)Bt++,ft.push(Oe.resolve(zt))}catch(zt){return Promise.reject(new en([],"All promises were rejected"))}if(0===Bt)return Promise.reject(new en([],"All promises were rejected"));let Zt=!1;const vn=[];return new Oe((zt,mt)=>{for(let Gt=0;Gt<ft.length;Gt++)ft[Gt].then(Kt=>{Zt||(Zt=!0,zt(Kt))},Kt=>{vn.push(Kt),Bt--,0===Bt&&(Zt=!0,mt(new en(vn,"All promises were rejected")))})})}static race(jt){let ft,Bt,Zt=new this((mt,Gt)=>{ft=mt,Bt=Gt});function vn(mt){ft(mt)}function zt(mt){Bt(mt)}for(let mt of jt)Yn(mt)||(mt=this.resolve(mt)),mt.then(vn,zt);return Zt}static all(jt){return Oe.allWithCallback(jt)}static allSettled(jt){return(this&&this.prototype instanceof Oe?this:Oe).allWithCallback(jt,{thenCallback:Bt=>({status:"fulfilled",value:Bt}),errorCallback:Bt=>({status:"rejected",reason:Bt})})}static allWithCallback(jt,ft){let Bt,Zt,vn=new this((Kt,hn)=>{Bt=Kt,Zt=hn}),zt=2,mt=0;const Gt=[];for(let Kt of jt){Yn(Kt)||(Kt=this.resolve(Kt));const hn=mt;try{Kt.then(dr=>{Gt[hn]=ft?ft.thenCallback(dr):dr,zt--,0===zt&&Bt(Gt)},dr=>{ft?(Gt[hn]=ft.errorCallback(dr),zt--,0===zt&&Bt(Gt)):Zt(dr)})}catch(dr){Zt(dr)}zt++,mt++}return zt-=2,0===zt&&Bt(Gt),vn}constructor(jt){const ft=this;if(!(ft instanceof Oe))throw new Error("Must be an instanceof Promise.");ft[En]=dn,ft[Ct]=[];try{jt&&jt(Ge(ft,!0),Ge(ft,he))}catch(Bt){Pn(ft,!1,Bt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Oe}then(jt,ft){let Bt=this.constructor[Symbol.species];(!Bt||"function"!=typeof Bt)&&(Bt=this.constructor||Oe);const Zt=new Bt(kn),vn=ke.current;return this[En]==dn?this[Ct].push(vn,Zt,jt,ft):fr(this,vn,Zt,jt,ft),Zt}catch(jt){return this.then(null,jt)}finally(jt){let ft=this.constructor[Symbol.species];(!ft||"function"!=typeof ft)&&(ft=Oe);const Bt=new ft(kn);Bt[Ke]=Ke;const Zt=ke.current;return this[En]==dn?this[Ct].push(Zt,Bt,jt,jt):fr(this,Zt,Bt,jt,jt),Bt}}Oe.resolve=Oe.resolve,Oe.reject=Oe.reject,Oe.race=Oe.race,Oe.all=Oe.all;const nt=Pe[pn]=Pe.Promise;Pe.Promise=Oe;const Xt=Lt("thenPatched");function Dn(Ft){const jt=Ft.prototype,ft=et(jt,"then");if(ft&&(!1===ft.writable||!ft.configurable))return;const Bt=jt.then;jt[Qt]=Bt,Ft.prototype.then=function(Zt,vn){return new Oe((mt,Gt)=>{Bt.call(this,mt,Gt)}).then(Zt,vn)},Ft[Xt]=!0}return st.patchThen=Dn,nt&&(Dn(nt),me(Pe,"fetch",Ft=>function Ar(Ft){return function(jt,ft){let Bt=Ft.apply(jt,ft);if(Bt instanceof Oe)return Bt;let Zt=Bt.constructor;return Zt[Xt]||Dn(Zt),Bt}}(Ft))),Promise[ke.__symbol__("uncaughtPromiseErrors")]=gt,Oe}),Zone.__load_patch("toString",Pe=>{const ke=Function.prototype.toString,st=ve("OriginalDelegate"),et=ve("Promise"),ct=ve("Error"),Ot=function(){if("function"==typeof this){const pn=this[st];if(pn)return"function"==typeof pn?ke.call(pn):Object.prototype.toString.call(pn);if(this===Promise){const Qt=Pe[et];if(Qt)return ke.call(Qt)}if(this===Error){const Qt=Pe[ct];if(Qt)return ke.call(Qt)}}return ke.call(this)};Ot[st]=ke,Function.prototype.toString=Ot;const Lt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Lt.call(this)}});let Et=!1;if("undefined"!=typeof window)try{const Pe=Object.defineProperty({},"passive",{get:function(){Et=!0}});window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(Pe){Et=!1}const Mt={useG:!0},nn={},rr={},Ln=new RegExp("^"+J+"(\\w+)(true|false)$"),wn=ve("propagationStopped");function ur(Pe,ke){const st=(ke?ke(Pe):Pe)+X,et=(ke?ke(Pe):Pe)+q,ct=J+st,Ot=J+et;nn[Pe]={},nn[Pe][X]=ct,nn[Pe][q]=Ot}function tr(Pe,ke,st,et){const ct=et&&et.add||S,Ot=et&&et.rm||R,Lt=et&&et.listeners||"eventListeners",gt=et&&et.rmAll||"removeAllListeners",St=ve(ct),pn="."+ct+":",xn=function(Ct,Ke,Tt){if(Ct.isRemoved)return;const $t=Ct.callback;let yn;"object"==typeof $t&&$t.handleEvent&&(Ct.callback=we=>$t.handleEvent(we),Ct.originalDelegate=$t);try{Ct.invoke(Ct,Ke,[Tt])}catch(we){yn=we}const dn=Ct.options;return dn&&"object"==typeof dn&&dn.once&&Ke[Ot].call(Ke,Tt.type,Ct.originalDelegate?Ct.originalDelegate:Ct.callback,dn),yn};function _n(Ct,Ke,Tt){if(!(Ke=Ke||Pe.event))return;const $t=Ct||Ke.target||Pe,yn=$t[nn[Ke.type][Tt?q:X]];if(yn){const dn=[];if(1===yn.length){const we=xn(yn[0],$t,Ke);we&&dn.push(we)}else{const we=yn.slice();for(let he=0;he<we.length&&(!Ke||!0!==Ke[wn]);he++){const fe=xn(we[he],$t,Ke);fe&&dn.push(fe)}}if(1===dn.length)throw dn[0];for(let we=0;we<dn.length;we++){const he=dn[we];ke.nativeScheduleMicroTask(()=>{throw he})}}}const Yn=function(Ct){return _n(this,Ct,!1)},Sn=function(Ct){return _n(this,Ct,!0)};function Bn(Ct,Ke){if(!Ct)return!1;let Tt=!0;Ke&&void 0!==Ke.useG&&(Tt=Ke.useG);const $t=Ke&&Ke.vh;let yn=!0;Ke&&void 0!==Ke.chkDup&&(yn=Ke.chkDup);let dn=!1;Ke&&void 0!==Ke.rt&&(dn=Ke.rt);let we=Ct;for(;we&&!we.hasOwnProperty(ct);)we=N(we);if(!we&&Ct[ct]&&(we=Ct),!we||we[St])return!1;const he=Ke&&Ke.eventNameToString,fe={},Ge=we[St]=we[ct],Ne=we[ve(Ot)]=we[Ot],Pt=we[ve(Lt)]=we[Lt],gn=we[ve(gt)]=we[gt];let Pn;function Jn(ft,Bt){return!Et&&"object"==typeof ft&&ft?!!ft.capture:Et&&Bt?"boolean"==typeof ft?{capture:ft,passive:!0}:ft?"object"==typeof ft&&!1!==ft.passive?Object.assign(Object.assign({},ft),{passive:!0}):ft:{passive:!0}:ft}Ke&&Ke.prepend&&(Pn=we[ve(Ke.prepend)]=we[Ke.prepend]);const Oe=Tt?function(ft){if(!fe.isExisting)return Ge.call(fe.target,fe.eventName,fe.capture?Sn:Yn,fe.options)}:function(ft){return Ge.call(fe.target,fe.eventName,ft.invoke,fe.options)},nt=Tt?function(ft){if(!ft.isRemoved){const Bt=nn[ft.eventName];let Zt;Bt&&(Zt=Bt[ft.capture?q:X]);const vn=Zt&&ft.target[Zt];if(vn)for(let zt=0;zt<vn.length;zt++)if(vn[zt]===ft){vn.splice(zt,1),ft.isRemoved=!0,0===vn.length&&(ft.allRemoved=!0,ft.target[Zt]=null);break}}if(ft.allRemoved)return Ne.call(ft.target,ft.eventName,ft.capture?Sn:Yn,ft.options)}:function(ft){return Ne.call(ft.target,ft.eventName,ft.invoke,ft.options)},Dn=Ke&&Ke.diff?Ke.diff:function(ft,Bt){const Zt=typeof Bt;return"function"===Zt&&ft.callback===Bt||"object"===Zt&&ft.originalDelegate===Bt},Ar=Zone[ve("UNPATCHED_EVENTS")],Ft=Pe[ve("PASSIVE_EVENTS")],jt=function(ft,Bt,Zt,vn,zt=!1,mt=!1){return function(){const Gt=this||Pe;let Kt=arguments[0];Ke&&Ke.transferEventName&&(Kt=Ke.transferEventName(Kt));let hn=arguments[1];if(!hn)return ft.apply(this,arguments);if(Be&&"uncaughtException"===Kt)return ft.apply(this,arguments);let dr=!1;if("function"!=typeof hn){if(!hn.handleEvent)return ft.apply(this,arguments);dr=!0}if($t&&!$t(ft,hn,Gt,arguments))return;const Lr=Et&&!!Ft&&-1!==Ft.indexOf(Kt),gr=Jn(arguments[2],Lr);if(Ar)for(let nr=0;nr<Ar.length;nr++)if(Kt===Ar[nr])return Lr?ft.call(Gt,Kt,hn,gr):ft.apply(this,arguments);const Zn=!!gr&&("boolean"==typeof gr||gr.capture),co=!(!gr||"object"!=typeof gr)&&gr.once,Ki=Zone.current;let an=nn[Kt];an||(ur(Kt,he),an=nn[Kt]);const vo=an[Zn?q:X];let ni,Dr=Gt[vo],mr=!1;if(Dr){if(mr=!0,yn)for(let nr=0;nr<Dr.length;nr++)if(Dn(Dr[nr],hn))return}else Dr=Gt[vo]=[];const Br=Gt.constructor.name,$o=rr[Br];$o&&(ni=$o[Kt]),ni||(ni=Br+Bt+(he?he(Kt):Kt)),fe.options=gr,co&&(fe.options.once=!1),fe.target=Gt,fe.capture=Zn,fe.eventName=Kt,fe.isExisting=mr;const Ti=Tt?Mt:void 0;Ti&&(Ti.taskData=fe);const ri=Ki.scheduleEventTask(ni,hn,Ti,Zt,vn);return fe.target=null,Ti&&(Ti.taskData=null),co&&(gr.once=!0),!Et&&"boolean"==typeof ri.options||(ri.options=gr),ri.target=Gt,ri.capture=Zn,ri.eventName=Kt,dr&&(ri.originalDelegate=hn),mt?Dr.unshift(ri):Dr.push(ri),zt?Gt:void 0}};return we[ct]=jt(Ge,pn,Oe,nt,dn),Pn&&(we.prependListener=jt(Pn,".prependListener:",function(ft){return Pn.call(fe.target,fe.eventName,ft.invoke,fe.options)},nt,dn,!0)),we[Ot]=function(){const ft=this||Pe;let Bt=arguments[0];Ke&&Ke.transferEventName&&(Bt=Ke.transferEventName(Bt));const Zt=arguments[2],vn=!!Zt&&("boolean"==typeof Zt||Zt.capture),zt=arguments[1];if(!zt)return Ne.apply(this,arguments);if($t&&!$t(Ne,zt,ft,arguments))return;const mt=nn[Bt];let Gt;mt&&(Gt=mt[vn?q:X]);const Kt=Gt&&ft[Gt];if(Kt)for(let hn=0;hn<Kt.length;hn++){const dr=Kt[hn];if(Dn(dr,zt))return Kt.splice(hn,1),dr.isRemoved=!0,0===Kt.length&&(dr.allRemoved=!0,ft[Gt]=null,"string"==typeof Bt)&&(ft[J+"ON_PROPERTY"+Bt]=null),dr.zone.cancelTask(dr),dn?ft:void 0}return Ne.apply(this,arguments)},we[Lt]=function(){const ft=this||Pe;let Bt=arguments[0];Ke&&Ke.transferEventName&&(Bt=Ke.transferEventName(Bt));const Zt=[],vn=ti(ft,he?he(Bt):Bt);for(let zt=0;zt<vn.length;zt++){const mt=vn[zt];Zt.push(mt.originalDelegate?mt.originalDelegate:mt.callback)}return Zt},we[gt]=function(){const ft=this||Pe;let Bt=arguments[0];if(Bt){Ke&&Ke.transferEventName&&(Bt=Ke.transferEventName(Bt));const Zt=nn[Bt];if(Zt){const mt=ft[Zt[X]],Gt=ft[Zt[q]];if(mt){const Kt=mt.slice();for(let hn=0;hn<Kt.length;hn++){const dr=Kt[hn];this[Ot].call(this,Bt,dr.originalDelegate?dr.originalDelegate:dr.callback,dr.options)}}if(Gt){const Kt=Gt.slice();for(let hn=0;hn<Kt.length;hn++){const dr=Kt[hn];this[Ot].call(this,Bt,dr.originalDelegate?dr.originalDelegate:dr.callback,dr.options)}}}}else{const Zt=Object.keys(ft);for(let vn=0;vn<Zt.length;vn++){const mt=Ln.exec(Zt[vn]);let Gt=mt&&mt[1];Gt&&"removeListener"!==Gt&&this[gt].call(this,Gt)}this[gt].call(this,"removeListener")}if(dn)return this},le(we[ct],Ge),le(we[Ot],Ne),gn&&le(we[gt],gn),Pt&&le(we[Lt],Pt),!0}let En=[];for(let Ct=0;Ct<st.length;Ct++)En[Ct]=Bn(st[Ct],et);return En}function ti(Pe,ke){if(!ke){const Ot=[];for(let Lt in Pe){const gt=Ln.exec(Lt);let St=gt&&gt[1];if(St&&(!ke||St===ke)){const pn=Pe[Lt];if(pn)for(let Qt=0;Qt<pn.length;Qt++)Ot.push(pn[Qt])}}return Ot}let st=nn[ke];st||(ur(ke),st=nn[ke]);const et=Pe[st[X]],ct=Pe[st[q]];return et?ct?et.concat(ct):et.slice():ct?ct.slice():[]}function Un(Pe,ke){const st=Pe.Event;st&&st.prototype&&ke.patchMethod(st.prototype,"stopImmediatePropagation",et=>function(ct,Ot){ct[wn]=!0,et&&et.apply(ct,Ot)})}function kr(Pe,ke,st,et,ct){const Ot=Zone.__symbol__(et);if(ke[Ot])return;const Lt=ke[Ot]=ke[et];ke[et]=function(gt,St,pn){return St&&St.prototype&&ct.forEach(function(Qt){const Tn=`${st}.${et}::`+Qt,xn=St.prototype;if(xn.hasOwnProperty(Qt)){const _n=Pe.ObjectGetOwnPropertyDescriptor(xn,Qt);_n&&_n.value?(_n.value=Pe.wrapWithCurrentZone(_n.value,Tn),Pe._redefineProperty(St.prototype,Qt,_n)):xn[Qt]&&(xn[Qt]=Pe.wrapWithCurrentZone(xn[Qt],Tn))}else xn[Qt]&&(xn[Qt]=Pe.wrapWithCurrentZone(xn[Qt],Tn))}),Lt.call(ke,gt,St,pn)},Pe.attachOriginToPatched(ke[et],Lt)}function Zi(Pe,ke,st){if(!st||0===st.length)return ke;const et=st.filter(Ot=>Ot.target===Pe);if(!et||0===et.length)return ke;const ct=et[0].ignoreProperties;return ke.filter(Ot=>-1===ct.indexOf(Ot))}function ao(Pe,ke,st,et){Pe&&ue(Pe,Zi(Pe,ke,st),et)}function Yr(Pe){return Object.getOwnPropertyNames(Pe).filter(ke=>ke.startsWith("on")&&ke.length>2).map(ke=>ke.substring(2))}Zone.__load_patch("util",(Pe,ke,st)=>{const et=Yr(Pe);st.patchOnProperties=ue,st.patchMethod=me,st.bindArguments=De,st.patchMacroTask=Ie;const ct=ke.__symbol__("BLACK_LISTED_EVENTS"),Ot=ke.__symbol__("UNPATCHED_EVENTS");Pe[Ot]&&(Pe[ct]=Pe[Ot]),Pe[ct]&&(ke[ct]=ke[Ot]=Pe[ct]),st.patchEventPrototype=Un,st.patchEventTarget=tr,st.isIEOrEdge=xt,st.ObjectDefineProperty=A,st.ObjectGetOwnPropertyDescriptor=tt,st.ObjectCreate=t,st.ArraySlice=T,st.patchClass=te,st.wrapWithCurrentZone=K,st.filterProperties=Zi,st.attachOriginToPatched=le,st._redefineProperty=Object.defineProperty,st.patchCallbacks=kr,st.getGlobalObjects=()=>({globalSources:rr,zoneSymbolEventNames:nn,eventNames:et,isBrowser:Re,isMix:Te,isNode:Be,TRUE_STR:q,FALSE_STR:X,ZONE_SYMBOL_PREFIX:J,ADD_EVENT_LISTENER_STR:S,REMOVE_EVENT_LISTENER_STR:R})});const Wi=ve("zoneTask");function Qr(Pe,ke,st,et){let ct=null,Ot=null;st+=et;const Lt={};function gt(pn){const Qt=pn.data;return Qt.args[0]=function(){return pn.invoke.apply(this,arguments)},Qt.handleId=ct.apply(Pe,Qt.args),pn}function St(pn){return Ot.call(Pe,pn.data.handleId)}ct=me(Pe,ke+=et,pn=>function(Qt,Tn){if("function"==typeof Tn[0]){const xn={isPeriodic:"Interval"===et,delay:"Timeout"===et||"Interval"===et?Tn[1]||0:void 0,args:Tn},_n=Tn[0];Tn[0]=function(){try{return _n.apply(this,arguments)}finally{xn.isPeriodic||("number"==typeof xn.handleId?delete Lt[xn.handleId]:xn.handleId&&(xn.handleId[Wi]=null))}};const Yn=ee(ke,Tn[0],xn,gt,St);if(!Yn)return Yn;const Sn=Yn.data.handleId;return"number"==typeof Sn?Lt[Sn]=Yn:Sn&&(Sn[Wi]=Yn),Sn&&Sn.ref&&Sn.unref&&"function"==typeof Sn.ref&&"function"==typeof Sn.unref&&(Yn.ref=Sn.ref.bind(Sn),Yn.unref=Sn.unref.bind(Sn)),"number"==typeof Sn||Sn?Sn:Yn}return pn.apply(Pe,Tn)}),Ot=me(Pe,st,pn=>function(Qt,Tn){const xn=Tn[0];let _n;"number"==typeof xn?_n=Lt[xn]:(_n=xn&&xn[Wi],_n||(_n=xn)),_n&&"string"==typeof _n.type?"notScheduled"!==_n.state&&(_n.cancelFn&&_n.data.isPeriodic||0===_n.runCount)&&("number"==typeof xn?delete Lt[xn]:xn&&(xn[Wi]=null),_n.zone.cancelTask(_n)):pn.apply(Pe,Tn)})}Zone.__load_patch("legacy",Pe=>{const ke=Pe[Zone.__symbol__("legacyPatch")];ke&&ke()}),Zone.__load_patch("queueMicrotask",(Pe,ke,st)=>{st.patchMethod(Pe,"queueMicrotask",et=>function(ct,Ot){ke.current.scheduleMicroTask("queueMicrotask",Ot[0])})}),Zone.__load_patch("timers",Pe=>{const st="clear";Qr(Pe,"set",st,"Timeout"),Qr(Pe,"set",st,"Interval"),Qr(Pe,"set",st,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Pe=>{Qr(Pe,"request","cancel","AnimationFrame"),Qr(Pe,"mozRequest","mozCancel","AnimationFrame"),Qr(Pe,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Pe,ke)=>{const st=["alert","prompt","confirm"];for(let et=0;et<st.length;et++)me(Pe,st[et],(Ot,Lt,gt)=>function(St,pn){return ke.current.run(Ot,Pe,pn,gt)})}),Zone.__load_patch("EventTarget",(Pe,ke,st)=>{(function Ri(Pe,ke){ke.patchEventPrototype(Pe,ke)})(Pe,st),function Fr(Pe,ke){if(Zone[ke.symbol("patchEventTarget")])return;const{eventNames:st,zoneSymbolEventNames:et,TRUE_STR:ct,FALSE_STR:Ot,ZONE_SYMBOL_PREFIX:Lt}=ke.getGlobalObjects();for(let St=0;St<st.length;St++){const pn=st[St],xn=Lt+(pn+Ot),_n=Lt+(pn+ct);et[pn]={},et[pn][Ot]=xn,et[pn][ct]=_n}const gt=Pe.EventTarget;gt&&gt.prototype&&ke.patchEventTarget(Pe,ke,[gt&&gt.prototype])}(Pe,st);const et=Pe.XMLHttpRequestEventTarget;et&&et.prototype&&st.patchEventTarget(Pe,st,[et.prototype])}),Zone.__load_patch("MutationObserver",(Pe,ke,st)=>{te("MutationObserver"),te("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Pe,ke,st)=>{te("IntersectionObserver")}),Zone.__load_patch("FileReader",(Pe,ke,st)=>{te("FileReader")}),Zone.__load_patch("on_property",(Pe,ke,st)=>{!function pi(Pe,ke){if(Be&&!Te||Zone[Pe.symbol("patchEvents")])return;const st=ke.__Zone_ignore_on_properties;let et=[];if(Re){const ct=window;et=et.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Ot=function un(){try{const Pe=Ze.navigator.userAgent;if(-1!==Pe.indexOf("MSIE ")||-1!==Pe.indexOf("Trident/"))return!0}catch(Pe){}return!1}()?[{target:ct,ignoreProperties:["error"]}]:[];ao(ct,Yr(ct),st&&st.concat(Ot),N(ct))}et=et.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let ct=0;ct<et.length;ct++){const Ot=ke[et[ct]];Ot&&Ot.prototype&&ao(Ot.prototype,Yr(Ot.prototype),st)}}(st,Pe)}),Zone.__load_patch("customElements",(Pe,ke,st)=>{!function zi(Pe,ke){const{isBrowser:st,isMix:et}=ke.getGlobalObjects();(st||et)&&Pe.customElements&&"customElements"in Pe&&ke.patchCallbacks(ke,Pe.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Pe,st)}),Zone.__load_patch("XHR",(Pe,ke)=>{!function St(pn){const Qt=pn.XMLHttpRequest;if(!Qt)return;const Tn=Qt.prototype;let _n=Tn[O],Yn=Tn[G];if(!_n){const fe=pn.XMLHttpRequestEventTarget;if(fe){const Ge=fe.prototype;_n=Ge[O],Yn=Ge[G]}}const Sn="readystatechange",Bn="scheduled";function En(fe){const Ge=fe.data,Ne=Ge.target;Ne[Ot]=!1,Ne[gt]=!1;const Pt=Ne[ct];_n||(_n=Ne[O],Yn=Ne[G]),Pt&&Yn.call(Ne,Sn,Pt);const gn=Ne[ct]=()=>{if(Ne.readyState===Ne.DONE)if(!Ge.aborted&&Ne[Ot]&&fe.state===Bn){const Jn=Ne[ke.__symbol__("loadfalse")];if(0!==Ne.status&&Jn&&Jn.length>0){const sr=fe.invoke;fe.invoke=function(){const fr=Ne[ke.__symbol__("loadfalse")];for(let cn=0;cn<fr.length;cn++)fr[cn]===fe&&fr.splice(cn,1);!Ge.aborted&&fe.state===Bn&&sr.call(fe)},Jn.push(fe)}else fe.invoke()}else!Ge.aborted&&!1===Ne[Ot]&&(Ne[gt]=!0)};return _n.call(Ne,Sn,gn),Ne[st]||(Ne[st]=fe),we.apply(Ne,Ge.args),Ne[Ot]=!0,fe}function Ct(){}function Ke(fe){const Ge=fe.data;return Ge.aborted=!0,he.apply(Ge.target,Ge.args)}const Tt=me(Tn,"open",()=>function(fe,Ge){return fe[et]=0==Ge[2],fe[Lt]=Ge[1],Tt.apply(fe,Ge)}),yn=ve("fetchTaskAborting"),dn=ve("fetchTaskScheduling"),we=me(Tn,"send",()=>function(fe,Ge){if(!0===ke.current[dn]||fe[et])return we.apply(fe,Ge);{const Ne={target:fe,url:fe[Lt],isPeriodic:!1,args:Ge,aborted:!1},Pt=ee("XMLHttpRequest.send",Ct,Ne,En,Ke);fe&&!0===fe[gt]&&!Ne.aborted&&Pt.state===Bn&&Pt.invoke()}}),he=me(Tn,"abort",()=>function(fe,Ge){const Ne=function xn(fe){return fe[st]}(fe);if(Ne&&"string"==typeof Ne.type){if(null==Ne.cancelFn||Ne.data&&Ne.data.aborted)return;Ne.zone.cancelTask(Ne)}else if(!0===ke.current[yn])return he.apply(fe,Ge)})}(Pe);const st=ve("xhrTask"),et=ve("xhrSync"),ct=ve("xhrListener"),Ot=ve("xhrScheduled"),Lt=ve("xhrURL"),gt=ve("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Pe=>{Pe.navigator&&Pe.navigator.geolocation&&function He(Pe,ke){const st=Pe.constructor.name;for(let et=0;et<ke.length;et++){const ct=ke[et],Ot=Pe[ct];if(Ot){if(!Ae(tt(Pe,ct)))continue;Pe[ct]=(gt=>{const St=function(){return gt.apply(this,De(arguments,st+"."+ct))};return le(St,gt),St})(Ot)}}}(Pe.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Pe,ke)=>{function st(et){return function(ct){ti(Pe,et).forEach(Lt=>{const gt=Pe.PromiseRejectionEvent;if(gt){const St=new gt(et,{promise:ct.promise,reason:ct.rejection});Lt.invoke(St)}})}}Pe.PromiseRejectionEvent&&(ke[ve("unhandledPromiseRejectionHandler")]=st("unhandledrejection"),ke[ve("rejectionHandledHandler")]=st("rejectionhandled"))})},655:(tt,A,N)=>{"use strict";function R(ue,oe){var te={};for(var me in ue)Object.prototype.hasOwnProperty.call(ue,me)&&oe.indexOf(me)<0&&(te[me]=ue[me]);if(null!=ue&&"function"==typeof Object.getOwnPropertySymbols){var Ie=0;for(me=Object.getOwnPropertySymbols(ue);Ie<me.length;Ie++)oe.indexOf(me[Ie])<0&&Object.prototype.propertyIsEnumerable.call(ue,me[Ie])&&(te[me[Ie]]=ue[me[Ie]])}return te}function X(ue,oe,te,me){return new(te||(te=Promise))(function(le,dt){function bt(Et){try{xt(me.next(Et))}catch(Mt){dt(Mt)}}function un(Et){try{xt(me.throw(Et))}catch(Mt){dt(Mt)}}function xt(Et){Et.done?le(Et.value):function Ie(le){return le instanceof te?le:new te(function(dt){dt(le)})}(Et.value).then(bt,un)}xt((me=me.apply(ue,oe||[])).next())})}function De(ue){return this instanceof De?(this.v=ue,this):new De(ue)}function He(ue,oe,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ie,me=te.apply(ue,oe||[]),le=[];return Ie={},dt("next"),dt("throw"),dt("return"),Ie[Symbol.asyncIterator]=function(){return this},Ie;function dt(nn){me[nn]&&(Ie[nn]=function(rr){return new Promise(function(Ln,wn){le.push([nn,rr,Ln,wn])>1||bt(nn,rr)})})}function bt(nn,rr){try{!function un(nn){nn.value instanceof De?Promise.resolve(nn.value.v).then(xt,Et):Mt(le[0][2],nn)}(me[nn](rr))}catch(Ln){Mt(le[0][3],Ln)}}function xt(nn){bt("next",nn)}function Et(nn){bt("throw",nn)}function Mt(nn,rr){nn(rr),le.shift(),le.length&&bt(le[0][0],le[0][1])}}function Qe(ue){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,oe=ue[Symbol.asyncIterator];return oe?oe.call(ue):(ue=function ve(ue){var oe="function"==typeof Symbol&&Symbol.iterator,te=oe&&ue[oe],me=0;if(te)return te.call(ue);if(ue&&"number"==typeof ue.length)return{next:function(){return ue&&me>=ue.length&&(ue=void 0),{value:ue&&ue[me++],done:!ue}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(ue),te={},me("next"),me("throw"),me("return"),te[Symbol.asyncIterator]=function(){return this},te);function me(le){te[le]=ue[le]&&function(dt){return new Promise(function(bt,un){!function Ie(le,dt,bt,un){Promise.resolve(un).then(function(xt){le({value:xt,done:bt})},dt)}(bt,un,(dt=ue[le](dt)).done,dt.value)})}}}N.d(A,{FC:()=>He,KL:()=>Qe,_T:()=>R,mG:()=>X,qq:()=>De})},7587:(tt,A,N)=>{"use strict";N.d(A,{deG:()=>Ya,tb:()=>ib,AFp:()=>Rw,ip1:()=>Nw,CZH:()=>tb,hGG:()=>nT,z2F:()=>ub,sBO:()=>G0,Sil:()=>jw,_Vd:()=>I0,EJc:()=>Bw,SBq:()=>E_,qLn:()=>ho,vpe:()=>Hh,tBr:()=>rl,XFs:()=>ke,OlP:()=>li,zs3:()=>Ts,ZZ4:()=>Cm,aQg:()=>qh,soG:()=>nv,YKP:()=>R1,h0i:()=>mm,PXZ:()=>PE,R0b:()=>kl,FiY:()=>Tc,Lbi:()=>rb,g9A:()=>nb,Qsj:()=>HC,FYo:()=>I1,JOm:()=>Mo,q3G:()=>Ui,tp0:()=>Ec,Rgc:()=>x_,dDg:()=>qw,q4F:()=>O1,GfV:()=>M1,s_b:()=>N0,ifc:()=>Tn,eFA:()=>lb,Gpc:()=>pt,_c5:()=>tT,VLi:()=>IE,c2e:()=>tv,zSh:()=>Um,wAp:()=>zn,vHH:()=>Qe,EiD:()=>_g,mCW:()=>Jd,qzn:()=>ed,JVY:()=>Mr,pB0:()=>xi,eBb:()=>Kd,L6k:()=>gp,LAX:()=>ol,cg1:()=>lm,kL8:()=>ng,yhl:()=>Mi,dqk:()=>Bn,sIi:()=>Oh,CqO:()=>Qp,QGY:()=>$f,F4k:()=>qf,dwT:()=>tg,RDi:()=>Ga,AaK:()=>$e,z3N:()=>ia,qOj:()=>e_,TTD:()=>je,_Bn:()=>x1,xp6:()=>ud,uIk:()=>Gc,Tol:()=>Bv,ekj:()=>am,Suo:()=>k0,Xpm:()=>Ne,lG2:()=>kn,Yz7:()=>Un,cJS:()=>Zi,oAB:()=>sr,Yjl:()=>en,Y36:()=>Yp,_UZ:()=>im,GkF:()=>Al,BQk:()=>sm,ynx:()=>Bh,qZA:()=>xl,TgZ:()=>rm,EpF:()=>Ni,n5z:()=>Wo,Ikx:()=>Ey,SDv:()=>FC,QtT:()=>w1,pQV:()=>Ny,LFG:()=>vr,$8M:()=>Ql,$Z:()=>g0,NdJ:()=>Uh,CRH:()=>Zy,oxw:()=>Iv,ALo:()=>iw,lcZ:()=>G1,xi3:()=>ow,Hsn:()=>Ov,F$t:()=>Mv,Q6J:()=>nm,s9C:()=>_0,MGl:()=>y0,DdM:()=>XC,VKq:()=>ew,WLB:()=>tw,kEZ:()=>B1,iGM:()=>$y,MAs:()=>Go,evT:()=>uf,Jf7:()=>oh,CHM:()=>Ul,oJD:()=>nd,LSH:()=>eh,Udp:()=>__,YNc:()=>c0,W1O:()=>mw,_uU:()=>k,Oqu:()=>$,hij:()=>ne,AsE:()=>Se,Gf:()=>qy});var t=N(8189),T=N(8421),S=N(515),R=N(3269),O=N(8996),q=N(7579),X=N(727),J=N(8306),K=N(3099);function ee(s){for(let a in s)if(s[a]===ee)return a;throw Error("Could not find renamed property on target object.")}function ve(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function $e(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map($e).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function Ze(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Xe=ee({__forward_ref__:ee});function pt(s){return s.__forward_ref__=pt,s.toString=function(){return $e(this())},s}function De(s){return He(s)?s():s}function He(s){return"function"==typeof s&&s.hasOwnProperty(Xe)&&s.__forward_ref__===pt}class Qe extends Error{constructor(a,d){super(function Be(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function Re(s){return"string"==typeof s?s:null==s?"":String(s)}function Te(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Re(s)}function ue(s,a){const d=a?` in ${a}`:"";throw new Qe(-201,`No provider for ${Te(s)} found${d}`)}function wn(s,a,d,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${d} ${f} ${a} <=Actual]`))}function Un(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Zi(s){return{providers:s.providers||[],imports:s.imports||[]}}function ao(s){return Yr(s,zi)||Yr(s,Ri)}function Yr(s,a){return s.hasOwnProperty(a)?s[a]:null}function Qr(s){return s&&(s.hasOwnProperty(Fr)||s.hasOwnProperty(Pe))?s[Fr]:null}const zi=ee({\u0275prov:ee}),Fr=ee({\u0275inj:ee}),Ri=ee({ngInjectableDef:ee}),Pe=ee({ngInjectorDef:ee});var ke=(()=>((ke=ke||{})[ke.Default=0]="Default",ke[ke.Host=1]="Host",ke[ke.Self=2]="Self",ke[ke.SkipSelf=4]="SkipSelf",ke[ke.Optional=8]="Optional",ke))();let st;function ct(s){const a=st;return st=s,a}function Ot(s,a,d){const f=ao(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&ke.Optional?null:void 0!==a?a:void ue($e(s),"Injector")}function gt(s){return{toString:s}.toString()}var St=(()=>((St=St||{})[St.OnPush=0]="OnPush",St[St.Default=1]="Default",St))(),Tn=(()=>{return(s=Tn||(Tn={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Tn;var s})();const xn="undefined"!=typeof globalThis&&globalThis,_n="undefined"!=typeof window&&window,Yn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Bn=xn||"undefined"!=typeof global&&global||_n||Yn,Ke={},Tt=[],$t=ee({\u0275cmp:ee}),yn=ee({\u0275dir:ee}),dn=ee({\u0275pipe:ee}),we=ee({\u0275mod:ee}),he=ee({\u0275fac:ee}),fe=ee({__NG_ELEMENT_ID__:ee});let Ge=0;function Ne(s){return gt(()=>{const d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===St.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Tt,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Tn.Emulated,id:"c",styles:s.styles||Tt,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,y=s.features,E=s.pipes;return f.id+=Ge++,f.inputs=cn(s.inputs,d),f.outputs=cn(s.outputs),y&&y.forEach(I=>I(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(gn):null,f.pipeDefs=E?()=>("function"==typeof E?E():E).map(Pn):null,f})}function gn(s){return Oe(s)||function nt(s){return s[yn]||null}(s)}function Pn(s){return function Xt(s){return s[dn]||null}(s)}const Jn={};function sr(s){return gt(()=>{const a={type:s.type,bootstrap:s.bootstrap||Tt,declarations:s.declarations||Tt,imports:s.imports||Tt,exports:s.exports||Tt,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Jn[s.id]=s.type),a})}function cn(s,a){if(null==s)return Ke;const d={};for(const f in s)if(s.hasOwnProperty(f)){let m=s[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=f,a&&(a[m]=y)}return d}const kn=Ne;function en(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Oe(s){return s[$t]||null}function Dn(s,a){const d=s[we]||null;if(!d&&!0===a)throw new Error(`Type ${$e(s)} does not have '\u0275mod' property.`);return d}function bo(s){return Array.isArray(s)&&"object"==typeof s[1]}function Ai(s){return Array.isArray(s)&&!0===s[1]}function Xr(s){return 0!=(8&s.flags)}function ns(s){return 2==(2&s.flags)}function _i(s){return 1==(1&s.flags)}function ki(s){return null!==s.template}function ha(s){return 0!=(512&s[2])}function de(s,a){return s.hasOwnProperty(he)?s[he]:null}class be{constructor(a,d,f){this.previousValue=a,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function je(){return z}function z(s){return s.type.prototype.ngOnChanges&&(s.setInput=xe),Ce}function Ce(){const s=Vt(this),a=null==s?void 0:s.current;if(a){const d=s.previous;if(d===Ke)s.previous=a;else for(let f in a)d[f]=a[f];s.current=null,this.ngOnChanges(a)}}function xe(s,a,d,f){const m=Vt(s)||function tn(s,a){return s[ot]=a}(s,{previous:Ke,current:null}),y=m.current||(m.current={}),E=m.previous,I=this.declaredInputs[d],F=E[I];y[I]=new be(F&&F.currentValue,a,E===Ke),s[f]=a}je.ngInherit=!0;const ot="__ngSimpleChanges__";function Vt(s){return s[ot]||null}let Va;function Ga(s){Va=s}function ms(){return void 0!==Va?Va:"undefined"!=typeof document?document:void 0}function jr(s){return!!s.listen}const Kc={createRenderer:(s,a)=>ms()};function pr(s){for(;Array.isArray(s);)s=s[0];return s}function Ha(s,a){return pr(a[s])}function Di(s,a){return pr(a[s.index])}function fa(s,a){return s.data[a]}function Os(s,a){return s[a]}function Si(s,a){const d=a[s];return bo(d)?d:d[0]}function Ll(s){return 4==(4&s[2])}function $a(s){return 128==(128&s[2])}function Bo(s,a){return null==a?null:s[a]}function Ks(s){s[18]=0}function qa(s,a){s[5]+=a;let d=s,f=s[3];for(;null!==f&&(1===a&&1===d[5]||-1===a&&0===d[5]);)f[5]+=a,d=f,f=f[3]}const jn={lFrame:$l(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function np(){return jn.bindingsEnabled}function At(){return jn.lFrame.lView}function Tr(){return jn.lFrame.tView}function Ul(s){return jn.lFrame.contextLView=s,s[8]}function Fi(){let s=jl();for(;null!==s&&64===s.type;)s=s.parent;return s}function jl(){return jn.lFrame.currentTNode}function ga(){const s=jn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Ys(s,a){const d=jn.lFrame;d.currentTNode=s,d.isParent=a}function Uo(){return jn.lFrame.isParent}function Hu(){jn.lFrame.isParent=!1}function Wa(){return jn.isInCheckNoChangesMode}function ma(s){jn.isInCheckNoChangesMode=s}function Co(){const s=jn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function wo(){return jn.lFrame.bindingIndex}function _s(){return jn.lFrame.bindingIndex++}function Ps(s){const a=jn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function Wh(s){jn.lFrame.inI18n=s}function gc(s,a){const d=jn.lFrame;d.bindingIndex=d.bindingRootIndex=s,Qc(a)}function Qc(s){jn.lFrame.currentDirectiveIndex=s}function Fd(){return jn.lFrame.currentQueryIndex}function Gl(s){jn.lFrame.currentQueryIndex=s}function Hl(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function Ld(s,a,d){if(d&ke.SkipSelf){let m=a,y=s;for(;!(m=m.parent,null!==m||d&ke.Host||(m=Hl(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;a=m,s=y}const f=jn.lFrame=qo();return f.currentTNode=a,f.lView=s,!0}function Js(s){const a=qo(),d=s[1];jn.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function qo(){const s=jn.lFrame,a=null===s?null:s.child;return null===a?$l(s):a}function $l(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Bd(){const s=jn.lFrame;return jn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const $u=Bd;function ql(){const s=Bd();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function os(){return jn.lFrame.selectedIndex}function Ns(s){jn.lFrame.selectedIndex=s}function oi(){const s=jn.lFrame;return fa(s.tView,s.selectedIndex)}function Kh(s,a){for(let d=a.directiveStart,f=a.directiveEnd;d<f;d++){const y=s.data[d].type.prototype,{ngAfterContentInit:E,ngAfterContentChecked:I,ngAfterViewInit:F,ngAfterViewChecked:H,ngOnDestroy:Q}=y;E&&(s.contentHooks||(s.contentHooks=[])).push(-d,E),I&&((s.contentHooks||(s.contentHooks=[])).push(d,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,I)),F&&(s.viewHooks||(s.viewHooks=[])).push(-d,F),H&&((s.viewHooks||(s.viewHooks=[])).push(d,H),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,H)),null!=Q&&(s.destroyHooks||(s.destroyHooks=[])).push(d,Q)}}function Xc(s,a,d){Li(s,a,3,d)}function jd(s,a,d,f){(3&s[2])===d&&Li(s,a,d,f)}function Zl(s,a){let d=s[2];(3&d)===a&&(d&=2047,d+=1,s[2]=d)}function Li(s,a,d,f){const y=null!=f?f:-1,E=a.length-1;let I=0;for(let F=void 0!==f?65535&s[18]:0;F<E;F++)if("number"==typeof a[F+1]){if(I=a[F],null!=f&&I>=f)break}else a[F]<0&&(s[18]+=65536),(I<y||-1==y)&&(Rs(s,d,a,F),s[18]=(4294901760&s[18])+F+2),F++}function Rs(s,a,d,f){const m=d[f]<0,y=d[f+1],I=s[m?-d[f]:d[f]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class _a{constructor(a,d,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function qt(s,a,d){const f=jr(s);let m=0;for(;m<d.length;){const y=d[m];if("number"==typeof y){if(0!==y)break;m++;const E=d[m++],I=d[m++],F=d[m++];f?s.setAttribute(a,I,F,E):a.setAttributeNS(E,I,F)}else{const E=y,I=d[++m];Dt(E)?f&&s.setProperty(a,E,I):f?s.setAttribute(a,E,I):a.setAttribute(E,I),m++}}return m}function ut(s){return 3===s||4===s||6===s}function Dt(s){return 64===s.charCodeAt(0)}function qr(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let f=0;f<a.length;f++){const m=a[f];"number"==typeof m?d=m:0===d||ar(s,d,m,null,-1===d||2===d?a[++f]:null)}}return s}function ar(s,a,d,f,m){let y=0,E=s.length;if(-1===a)E=-1;else for(;y<s.length;){const I=s[y++];if("number"==typeof I){if(I===a){E=-1;break}if(I>a){E=y-1;break}}}for(;y<s.length;){const I=s[y];if("number"==typeof I)break;if(I===d){if(null===f)return void(null!==m&&(s[y+1]=m));if(f===s[y+1])return void(s[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==E&&(s.splice(E,0,a),y=E+1),s.splice(y++,0,d),null!==f&&s.splice(y++,0,f),null!==m&&s.splice(y++,0,m)}function Qn(s){return-1!==s}function mc(s){return 32767&s}function Xs(s,a){let d=function ug(s){return s>>16}(s),f=a;for(;d>0;)f=f[15],d--;return f}let Vd=!0;function _c(s){const a=Vd;return Vd=s,a}let ea=0;function Xn(s,a){const d=Wl(s,a);if(-1!==d)return d;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,ks(f.data,s),ks(a,null),ks(f.blueprint,null));const m=Vr(s,a),y=s.injectorIndex;if(Qn(m)){const E=mc(m),I=Xs(m,a),F=I[1].data;for(let H=0;H<8;H++)a[y+H]=I[E+H]|F[E+H]}return a[y+8]=m,y}function ks(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Wl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function Vr(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,f=null,m=a;for(;null!==m;){const y=m[1],E=y.type;if(f=2===E?y.declTNode:1===E?m[6]:null,null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Cn(s,a,d){!function ss(s,a,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(fe)&&(f=d[fe]),null==f&&(f=d[fe]=ea++);const m=255&f;a.data[s+(m>>5)]|=1<<m}(s,a,d)}function ci(s,a,d){if(d&ke.Optional)return s;ue(a,"NodeInjector")}function va(s,a,d,f){if(d&ke.Optional&&void 0===f&&(f=null),0==(d&(ke.Self|ke.Host))){const m=s[9],y=ct(void 0);try{return m?m.get(a,f,d&ke.Optional):Ot(a,f,d&ke.Optional)}finally{ct(y)}}return ci(f,a,d)}function zl(s,a,d,f=ke.Default,m){if(null!==s){const y=function yi(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(fe)?s[fe]:void 0;return"number"==typeof a?a>=0?255&a:Gd:a}(d);if("function"==typeof y){if(!Ld(a,s,f))return f&ke.Host?ci(m,d,f):va(a,d,f,m);try{const E=y(f);if(null!=E||f&ke.Optional)return E;ue(d)}finally{$u()}}else if("number"==typeof y){let E=null,I=Wl(s,a),F=-1,H=f&ke.Host?a[16][6]:null;for((-1===I||f&ke.SkipSelf)&&(F=-1===I?Vr(s,a):a[I+8],-1!==F&&vs(f,!1)?(E=a[1],I=mc(F),a=Xs(F,a)):I=-1);-1!==I;){const Q=a[1];if(Yl(y,I,Q.data)){const ye=Qi(I,a,d,E,f,H);if(ye!==Nr)return ye}F=a[I+8],-1!==F&&vs(f,a[1].data[I+8]===H)&&Yl(y,I,a)?(E=Q,I=mc(F),a=Xs(F,a)):I=-1}}}return va(a,d,f,m)}const Nr={};function Gd(){return new Gr(Fi(),At())}function Qi(s,a,d,f,m,y){const E=a[1],I=E.data[s+8],Q=ys(I,E,d,null==f?ns(I)&&Vd:f!=E&&0!=(3&I.type),m&ke.Host&&y===I);return null!==Q?Kl(a,E,Q,I):Nr}function ys(s,a,d,f,m){const y=s.providerIndexes,E=a.data,I=1048575&y,F=s.directiveStart,Q=y>>20,Fe=m?I+Q:s.directiveEnd;for(let Je=f?I:I+Q;Je<Fe;Je++){const yt=E[Je];if(Je<F&&d===yt||Je>=F&&yt.type===d)return Je}if(m){const Je=E[F];if(Je&&ki(Je)&&Je.type===d)return F}return null}function Kl(s,a,d,f){let m=s[d];const y=a.data;if(function j_(s){return s instanceof _a}(m)){const E=m;E.resolving&&function qe(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${s}${d}`)}(Te(y[d]));const I=_c(E.canSeeViewProviders);E.resolving=!0;const F=E.injectImpl?ct(E.injectImpl):null;Ld(s,f,ke.Default);try{m=s[d]=E.factory(void 0,y,s,f),a.firstCreatePass&&d>=f.directiveStart&&function Zu(s,a,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=a.type.prototype;if(f){const E=z(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,E),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,E)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,m),y&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,y),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,y))}(d,y[d],a)}finally{null!==F&&ct(F),_c(I),E.resolving=!1,$u()}}return m}function Yl(s,a,d){return!!(d[a+(s>>5)]&1<<s)}function vs(s,a){return!(s&ke.Self||s&ke.Host&&a)}class Gr{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,f){return zl(this._tNode,this._lView,a,f,d)}}function Wo(s){return gt(()=>{const a=s.prototype.constructor,d=a[he]||Jl(a),f=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==f;){const y=m[he]||Jl(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Jl(s){return He(s)?()=>{const a=Jl(De(s));return a&&a()}:de(s)}function Ql(s){return function Wu(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const y=d[m];if(ut(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(y===a)return d[m+1];m+=2}}}return null}(Fi(),s)}const ba="__parameters__";function Ka(s,a,d){return gt(()=>{const f=function Ca(s){return function(...d){if(s){const f=s(...d);for(const m in f)this[m]=f[m]}}}(a);function m(...y){if(this instanceof m)return f.apply(this,y),this;const E=new m(...y);return I.annotation=E,I;function I(F,H,Q){const ye=F.hasOwnProperty(ba)?F[ba]:Object.defineProperty(F,ba,{value:[]})[ba];for(;ye.length<=Q;)ye.push(null);return(ye[Q]=ye[Q]||[]).push(E),F}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class li{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Un({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ya=new li("AnalyzeForEntryComponents");function Eo(s,a){void 0===a&&(a=s);for(let d=0;d<s.length;d++){let f=s[d];Array.isArray(f)?(a===s&&(a=s.slice(0,d)),Eo(f,a)):a!==s&&a.push(f)}return a}function Xi(s,a){s.forEach(d=>Array.isArray(d)?Xi(d,a):a(d))}function zu(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function Hr(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function ta(s,a){const d=[];for(let f=0;f<s;f++)d.push(a);return d}function Ii(s,a,d){let f=tl(s,a);return f>=0?s[1|f]=d:(f=~f,function op(s,a,d,f){let m=s.length;if(m==a)s.push(d,f);else if(1===m)s.push(f,s[0]),s[0]=d;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=d,s[a+1]=f}}(s,f,a,d)),f}function yc(s,a){const d=tl(s,a);if(d>=0)return s[1|d]}function tl(s,a){return function vc(s,a,d){let f=0,m=s.length>>d;for(;m!==f;){const y=f+(m-f>>1),E=s[y<<d];if(a===E)return y<<d;E>a?m=y:f=y+1}return~(m<<d)}(s,a,1)}const U={},re="__NG_DI_FLAG__",Ee="ngTempTokenPath",it=/\n/gm,bn="__source",er=ee({provide:String,useValue:ee});let In;function Sr(s){const a=In;return In=s,a}function qn(s,a=ke.Default){if(void 0===In)throw new Qe(203,"");return null===In?Ot(s,void 0,a):In.get(s,a&ke.Optional?null:void 0,a)}function vr(s,a=ke.Default){return(function et(){return st}()||qn)(De(s),a)}const Cc=vr;function ra(s){const a=[];for(let d=0;d<s.length;d++){const f=De(s[d]);if(Array.isArray(f)){if(0===f.length)throw new Qe(900,"");let m,y=ke.Default;for(let E=0;E<f.length;E++){const I=f[E],F=So(I);"number"==typeof F?-1===F?m=I.token:y|=F:m=I}a.push(vr(m,y))}else a.push(vr(f))}return a}function lo(s,a){return s[re]=a,s.prototype[re]=a,s}function So(s){return s[re]}const rl=lo(Ka("Inject",s=>({token:s})),-1),Tc=lo(Ka("Optional"),8),Ec=lo(Ka("SkipSelf"),4);let au,Wd;function cu(s){var a;return(null===(a=function hg(){if(void 0===au&&(au=null,Bn.trustedTypes))try{au=Bn.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return au}())||void 0===a?void 0:a.createHTML(s))||s}function fp(s){var a;return(null===(a=function Ko(){if(void 0===Wd&&(Wd=null,Bn.trustedTypes))try{Wd=Bn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Wd}())||void 0===a?void 0:a.createHTML(s))||s}class Da{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Xu extends Da{getTypeName(){return"HTML"}}class ef extends Da{getTypeName(){return"Style"}}class fg extends Da{getTypeName(){return"Script"}}class zd extends Da{getTypeName(){return"URL"}}class tf extends Da{getTypeName(){return"ResourceURL"}}function ia(s){return s instanceof Da?s.changingThisBreaksApplicationSecurity:s}function ed(s,a){const d=Mi(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===a}function Mi(s){return s instanceof Da&&s.getTypeName()||null}function Mr(s){return new Xu(s)}function gp(s){return new ef(s)}function Kd(s){return new fg(s)}function ol(s){return new zd(s)}function xi(s){return new tf(s)}function Yd(s){const a=new di(s);return function nf(){try{return!!(new window.DOMParser).parseFromString(cu(""),"text/html")}catch(s){return!1}}()?new xo(a):a}class xo{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(cu(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class di{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=cu(a),d;const f=this.inertDocument.createElement("body");return f.innerHTML=cu(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const d=a.attributes;for(let m=d.length-1;0<m;m--){const E=d.item(m).name;("xmlns:ns1"===E||0===E.indexOf("ns1:"))&&a.removeAttribute(E)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const sl=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,as=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jd(s){return(s=String(s)).match(sl)||s.match(as)?s:"unsafe:"+s}function al(s){return(s=String(s)).split(",").map(a=>Jd(a.trim())).join(", ")}function cs(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function rf(...s){const a={};for(const d of s)for(const f in d)d.hasOwnProperty(f)&&(a[f]=!0);return a}const mp=cs("area,br,col,hr,img,wbr"),Wr=cs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),V_=cs("rp,rt"),Xd=rf(mp,rf(Wr,cs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),rf(V_,cs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),rf(V_,Wr)),cf=cs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Sc=cs("srcset"),pg=rf(cf,Sc,cs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),cs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),gg=cs("script,style,template");class $_{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Xd.hasOwnProperty(d))return this.sanitizedSomething=!0,!gg.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=a.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),E=y.name,I=E.toLowerCase();if(!pg.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let F=y.value;cf[I]&&(F=Jd(F)),Sc[I]&&(F=al(F)),this.buf.push(" ",E,'="',td(F),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Xd.hasOwnProperty(d)&&!mp.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(td(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const q_=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,mg=/([^\#-~ |!])/g;function td(s){return s.replace(/&/g,"&amp;").replace(q_,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(mg,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lf;function _g(s,a){let d=null;try{lf=lf||Yd(s);let f=a?String(a):"";d=lf.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=d.innerHTML,d=lf.getInertBodyElement(f)}while(f!==y);return cu((new $_).sanitizeChildren(uo(d)||d))}finally{if(d){const f=uo(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function uo(s){return"content"in s&&function _p(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Ui=(()=>((Ui=Ui||{})[Ui.NONE=0]="NONE",Ui[Ui.HTML=1]="HTML",Ui[Ui.STYLE=2]="STYLE",Ui[Ui.SCRIPT=3]="SCRIPT",Ui[Ui.URL=4]="URL",Ui[Ui.RESOURCE_URL=5]="RESOURCE_URL",Ui))();function nd(s){const a=th();return a?fp(a.sanitize(Ui.HTML,s)||""):ed(s,"HTML")?fp(ia(s)):_g(ms(),Re(s))}function eh(s){const a=th();return a?a.sanitize(Ui.URL,s)||"":ed(s,"URL")?ia(s):Jd(Re(s))}function th(){const s=At();return s&&s[12]}const Ac="__ngContext__";function Jt(s,a){s[Ac]=a}function to(s){const a=function $r(s){return s[Ac]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function ll(s){return s.ngOriginalError}function Cp(s,...a){s.error(...a)}class ho{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a),f=function ul(s){return s&&s.ngErrorLogger||Cp}(a);f(this._console,"ERROR",a),d&&f(this._console,"ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&ll(a);for(;d&&ll(d);)d=ll(d);return d||null}}const ji=/^>|^->|<!--|-->|--!>|<!-$/g,Oi=/(<|>)/;const uu=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Bn))();function oh(s){return s.ownerDocument.defaultView}function uf(s){return s.ownerDocument}function Aa(s){return s instanceof Function?s():s}var Mo=(()=>((Mo=Mo||{})[Mo.Important=1]="Important",Mo[Mo.DashCase=2]="DashCase",Mo))();let Cs;function df(s,a){return Cs(s,a)}function hu(s){const a=s[3];return Ai(a)?a[3]:a}function dl(s){return sh(s[13])}function pu(s){return sh(s[4])}function sh(s){for(;null!==s&&!Ai(s);)s=s[4];return s}function mu(s,a,d,f,m){if(null!=f){let y,E=!1;Ai(f)?y=f:bo(f)&&(E=!0,f=f[0]);const I=pr(f);0===s&&null!==d?null==m?ch(a,d,I):ic(a,d,I,m||null,!0):1===s&&null!==d?ic(a,d,I,m||null,!0):2===s?cd(a,I,E):3===s&&a.destroyNode(I),null!=y&&function vu(s,a,d,f,m){const y=d[7];y!==pr(d)&&mu(a,s,f,y,m);for(let I=10;I<d.length;I++){const F=d[I];Oc(F[1],F,s,a,f,y)}}(a,s,y,d,m)}}function hf(s,a){return jr(s)?s.createText(a):s.createTextNode(a)}function ff(s,a,d){jr(s)?s.setValue(a,d):a.textContent=d}function od(s,a){return s.createComment(function wg(s){return s.replace(ji,a=>a.replace(Oi,"\u200b$1\u200b"))}(a))}function cr(s,a,d){if(jr(s))return s.createElement(a,d);{const f=null!==d?function Lo(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?s.createElement(a):s.createElementNS(f,a)}}function mf(s,a){const d=s[9],f=d.indexOf(a),m=a[3];1024&a[2]&&(a[2]&=-1025,qa(m,-1)),d.splice(f,1)}function ds(s,a){if(s.length<=10)return;const d=10+a,f=s[d];if(f){const m=f[17];null!==m&&m!==s&&mf(m,f),a>0&&(s[d-1][4]=f[4]);const y=Hr(s,10+a);!function Mc(s,a){Oc(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const E=y[19];null!==E&&E.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function _f(s,a){if(!(256&a[2])){const d=a[11];jr(d)&&d.destroyNode&&Oc(s,a,d,3,null,null),function _u(s){let a=s[13];if(!a)return sd(s[1],s);for(;a;){let d=null;if(bo(a))d=a[13];else{const f=a[10];f&&(d=f)}if(!d){for(;a&&!a[4]&&a!==s;)bo(a)&&sd(a[1],a),a=a[3];null===a&&(a=s),bo(a)&&sd(a[1],a),d=a&&a[4]}a=d}}(a)}}function sd(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Eg(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let f=0;f<d.length;f+=2){const m=a[d[f]];if(!(m instanceof _a)){const y=d[f+1];if(Array.isArray(y))for(let E=0;E<y.length;E+=2){const I=m[y[E]],F=y[E+1];try{F.call(I)}finally{}}else try{y.call(m)}finally{}}}}(s,a),function ah(s,a){const d=s.cleanup,f=a[7];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const E=d[y+1],I="function"==typeof E?E(a):pr(a[E]),F=f[m=d[y+2]],H=d[y+3];"boolean"==typeof H?I.removeEventListener(d[y],F,H):H>=0?f[m=H]():f[m=-H].unsubscribe(),y+=2}else{const E=f[m=d[y+1]];d[y].call(E)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();a[7]=null}}(s,a),1===a[1].type&&jr(a[11])&&a[11].destroy();const d=a[17];if(null!==d&&Ai(a[3])){d!==a[3]&&mf(d,a);const f=a[19];null!==f&&f.detachView(s)}}}function Pi(s,a,d){return Yo(s,a.parent,d)}function Yo(s,a,d){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return d[0];if(2&f.flags){const m=s.data[f.directiveStart].encapsulation;if(m===Tn.None||m===Tn.Emulated)return null}return Di(f,d)}function ic(s,a,d,f,m){jr(s)?s.insertBefore(a,d,f,m):a.insertBefore(d,f,m)}function ch(s,a,d){jr(s)?s.appendChild(a,d):a.appendChild(d)}function lh(s,a,d,f,m){null!==f?ic(s,a,d,f,m):ch(s,a,d)}function uh(s,a){return jr(s)?s.parentNode(a):a.parentNode}function oc(s,a,d){return vf(s,a,d)}function oa(s,a,d){return 40&s.type?Di(s,d):null}let ad,vf=oa;function hl(s,a){vf=s,ad=a}function hr(s,a,d,f){const m=Pi(s,f,a),y=a[11],I=oc(f.parent||a[6],f,a);if(null!=m)if(Array.isArray(d))for(let F=0;F<d.length;F++)lh(y,m,d[F],I,!1);else lh(y,m,d,I,!1);void 0!==ad&&ad(y,f,a,d,m)}function Ma(s,a){if(null!==a){const d=a.type;if(3&d)return Di(a,s);if(4&d)return sc(-1,s[a.index]);if(8&d){const f=a.child;if(null!==f)return Ma(s,f);{const m=s[a.index];return Ai(m)?sc(-1,m):pr(m)}}if(32&d)return df(a,s)()||pr(s[a.index]);{const f=Dg(s,a);return null!==f?Array.isArray(f)?f[0]:Ma(hu(s[16]),f):Ma(s,a.next)}}return null}function Dg(s,a){return null!==a?s[16][6].projection[a.projection]:null}function sc(s,a){const d=10+s+1;if(d<a.length){const f=a[d],m=f[1].firstChild;if(null!==m)return Ma(f,m)}return a[7]}function cd(s,a,d){const f=uh(s,a);f&&function yf(s,a,d,f){jr(s)?s.removeChild(a,d,f):a.removeChild(d)}(s,f,a,d)}function yu(s,a,d,f,m,y,E){for(;null!=d;){const I=f[d.index],F=d.type;if(E&&0===a&&(I&&Jt(pr(I),f),d.flags|=4),64!=(64&d.flags))if(8&F)yu(s,a,d.child,f,m,y,!1),mu(a,s,m,I,y);else if(32&F){const H=df(d,f);let Q;for(;Q=H();)mu(a,s,m,Q,y);mu(a,s,m,I,y)}else 16&F?fo(s,a,f,d,m,y):mu(a,s,m,I,y);d=E?d.projectionNext:d.next}}function Oc(s,a,d,f,m,y){yu(d,f,s.firstChild,a,m,y,!1)}function fo(s,a,d,f,m,y){const E=d[16],F=E[6].projection[f.projection];if(Array.isArray(F))for(let H=0;H<F.length;H++)mu(a,s,m,F[H],y);else yu(s,a,F,E[3],m,y,!0)}function Cu(s,a,d){jr(s)?s.setAttribute(a,"style",d):a.style.cssText=d}function bf(s,a,d){jr(s)?""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d):a.className=d}function Oa(s,a,d){let f=s.length;for(;;){const m=s.indexOf(a,d);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const y=a.length;if(m+y===f||s.charCodeAt(m+y)<=32)return m}d=m+1}}const fh="ng-template";function Nc(s,a,d){let f=0;for(;f<s.length;){let m=s[f++];if(d&&"class"===m){if(m=s[f],-1!==Oa(m.toLowerCase(),a,0))return!0}else if(1===m){for(;f<s.length&&"string"==typeof(m=s[f++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function Tp(s){return 4===s.type&&s.value!==fh}function wu(s,a,d){return a===(4!==s.type||d?s.value:fh)}function Mm(s,a,d){let f=4;const m=s.attrs||[],y=function z_(s){for(let a=0;a<s.length;a++)if(ut(s[a]))return a;return s.length}(m);let E=!1;for(let I=0;I<a.length;I++){const F=a[I];if("number"!=typeof F){if(!E)if(4&f){if(f=2|1&f,""!==F&&!wu(s,F,d)||""===F&&1===a.length){if(Vi(f))return!1;E=!0}}else{const H=8&f?F:a[++I];if(8&f&&null!==s.attrs){if(!Nc(s.attrs,H,d)){if(Vi(f))return!1;E=!0}continue}const ye=ld(8&f?"class":F,m,Tp(s),d);if(-1===ye){if(Vi(f))return!1;E=!0;continue}if(""!==H){let Fe;Fe=ye>y?"":m[ye+1].toLowerCase();const Je=8&f?Fe:null;if(Je&&-1!==Oa(Je,H,0)||2&f&&H!==Fe){if(Vi(f))return!1;E=!0}}}}else{if(!E&&!Vi(f)&&!Vi(F))return!1;if(E&&Vi(F))continue;E=!1,f=F|1&f}}return Vi(f)||E}function Vi(s){return 0==(1&s)}function ld(s,a,d,f){if(null===a)return-1;let m=0;if(f||!d){let y=!1;for(;m<a.length;){const E=a[m];if(E===s)return m;if(3===E||6===E)y=!0;else{if(1===E||2===E){let I=a[++m];for(;"string"==typeof I;)I=a[++m];continue}if(4===E)break;if(0===E){m+=4;continue}}m+=y?1:2}return-1}return function Om(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const f=s[d];if("number"==typeof f)return-1;if(f===a)return d;d++}return-1}(a,s)}function Ep(s,a,d=!1){for(let f=0;f<a.length;f++)if(Mm(s,a[f],d))return!0;return!1}function Dp(s,a){e:for(let d=0;d<a.length;d++){const f=a[d];if(s.length===f.length){for(let m=0;m<s.length;m++)if(s[m]!==f[m])continue e;return!0}}return!1}function wf(s,a){return s?":not("+a.trim()+")":a}function Tu(s){let a=s[0],d=1,f=2,m="",y=!1;for(;d<s.length;){let E=s[d];if("string"==typeof E)if(2&f){const I=s[++d];m+="["+E+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?m+="."+E:4&f&&(m+=" "+E);else""!==m&&!Vi(E)&&(a+=wf(y,m),m=""),f=E,y=y||!Vi(f);d++}return""!==m&&(a+=wf(y,m)),a}const ir={};function ud(s){fl(Tr(),At(),os()+s,Wa())}function fl(s,a,d,f){if(!f)if(3==(3&a[2])){const y=s.preOrderCheckHooks;null!==y&&Xc(a,y,d)}else{const y=s.preOrderHooks;null!==y&&jd(a,y,0,d)}Ns(d)}function Tf(s,a){return s<<17|a<<2}function aa(s){return s>>17&32767}function pl(s){return 2|s}function Us(s){return(131068&s)>>2}function dd(s,a){return-131069&s|a<<2}function Sg(s){return 1|s}function Pg(s,a){const d=s.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],y=d[f+1];if(-1!==y){const E=s.data[y];Gl(m),E.contentQueries(2,a[y],y)}}}function yl(s,a,d,f,m,y,E,I,F,H){const Q=a.blueprint.slice();return Q[0]=m,Q[2]=140|f,Ks(Q),Q[3]=Q[15]=s,Q[8]=d,Q[10]=E||s&&s[10],Q[11]=I||s&&s[11],Q[12]=F||s&&s[12]||null,Q[9]=H||s&&s[9]||null,Q[6]=y,Q[16]=2==a.type?s[16]:Q,Q}function Ch(s,a,d,f,m){let y=s.data[a];if(null===y)y=Rp(s,a,d,f,m),function Jc(){return jn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=d,y.value=f,y.attrs=m;const E=ga();y.injectorIndex=null===E?-1:E.injectorIndex}return Ys(y,!0),y}function Rp(s,a,d,f,m){const y=jl(),E=Uo(),F=s.data[a]=function Lg(s,a,d,f,m,y){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,E?y:y&&y.parent,d,a,f,m);return null===s.firstChild&&(s.firstChild=F),null!==y&&(E?null==y.child&&null!==F.parent&&(y.child=F):null===y.next&&(y.next=F)),F}function vl(s,a,d,f){if(0===d)return-1;const m=a.length;for(let y=0;y<d;y++)a.push(f),s.blueprint.push(f),s.data.push(null);return m}function bl(s,a,d){Js(a);try{const f=s.viewQuery;null!==f&&Pu(1,f,d);const m=s.template;null!==m&&Rg(s,a,m,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Pg(s,a),s.staticViewQueries&&Pu(2,s.viewQuery,d);const y=s.components;null!==y&&function Np(s,a){for(let d=0;d<a.length;d++)Rn(s,a[d])}(a,y)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,ql()}}function ac(s,a,d,f){const m=a[2];if(256==(256&m))return;Js(a);const y=Wa();try{Ks(a),function kd(s){return jn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&Rg(s,a,d,2,f);const E=3==(3&m);if(!y)if(E){const H=s.preOrderCheckHooks;null!==H&&Xc(a,H,null)}else{const H=s.preOrderHooks;null!==H&&jd(a,H,0,null),Zl(a,0)}if(function ze(s){for(let a=dl(s);null!==a;a=pu(a)){if(!a[2])continue;const d=a[9];for(let f=0;f<d.length;f++){const m=d[f],y=m[3];0==(1024&m[2])&&qa(y,1),m[2]|=1024}}}(a),function se(s){for(let a=dl(s);null!==a;a=pu(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1];$a(f)&&ac(m,f,m.template,f[8])}}(a),null!==s.contentQueries&&Pg(s,a),!y)if(E){const H=s.contentCheckHooks;null!==H&&Xc(a,H)}else{const H=s.contentHooks;null!==H&&jd(a,H,1),Zl(a,1)}!function js(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)Ns(~m);else{const y=m,E=d[++f],I=d[++f];gc(E,y),I(2,a[y])}}}finally{Ns(-1)}}(s,a);const I=s.components;null!==I&&function Ng(s,a){for(let d=0;d<a.length;d++)vt(s,a[d])}(a,I);const F=s.viewQuery;if(null!==F&&Pu(2,F,f),!y)if(E){const H=s.viewCheckHooks;null!==H&&Xc(a,H)}else{const H=s.viewHooks;null!==H&&jd(a,H,2),Zl(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,qa(a[3],-1))}finally{ql()}}function kp(s,a,d,f){const m=a[10],y=!Wa(),E=Ll(a);try{y&&!E&&m.begin&&m.begin(),E&&bl(s,a,f),ac(s,a,d,f)}finally{y&&!E&&m.end&&m.end()}}function Rg(s,a,d,f,m){const y=os(),E=2&f;try{Ns(-1),E&&a.length>20&&fl(s,a,20,Wa()),d(f,m)}finally{Ns(y)}}function If(s,a,d){if(Xr(a)){const m=a.directiveEnd;for(let y=a.directiveStart;y<m;y++){const E=s.data[y];E.contentQueries&&E.contentQueries(1,d[y],y)}}}function Fp(s,a,d){!np()||(function Dh(s,a,d,f){const m=d.directiveStart,y=d.directiveEnd;s.firstCreatePass||Xn(d,a),Jt(f,a);const E=d.initialInputs;for(let I=m;I<y;I++){const F=s.data[I],H=ki(F);H&&Hg(a,d,F);const Q=Kl(a,s,I,d);Jt(Q,a),null!==E&&_(0,I-m,Q,F,0,E),H&&(Si(d.index,a)[8]=Q)}}(s,a,d,Di(d,a)),128==(128&d.flags)&&function jg(s,a,d){const f=d.directiveStart,m=d.directiveEnd,E=d.index,I=function zh(){return jn.lFrame.currentDirectiveIndex}();try{Ns(E);for(let F=f;F<m;F++){const H=s.data[F],Q=a[F];Qc(F),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Rm(H,Q)}}finally{Ns(-1),Qc(I)}}(s,a,d))}function md(s,a,d=Di){const f=a.localNames;if(null!==f){let m=a.index+1;for(let y=0;y<f.length;y+=2){const E=f[y+1],I=-1===E?d(a,s):s[E];s[m++]=I}}}function kg(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Mu(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Mu(s,a,d,f,m,y,E,I,F,H){const Q=20+f,ye=Q+m,Fe=function Fg(s,a){const d=[];for(let f=0;f<a;f++)d.push(f<s?null:ir);return d}(Q,ye),Je="function"==typeof H?H():H;return Fe[1]={type:s,blueprint:Fe,template:d,queries:null,viewQuery:I,declTNode:a,data:Fe.slice().fill(null,Q),bindingStartIndex:Q,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof E?E():E,firstChild:null,schemas:F,consts:Je,incompleteFirstPass:!1}}function Ou(s,a,d,f){const m=Nu(a);null===d?m.push(f):(m.push(d),s.firstCreatePass&&xh(s).push(f,m.length-1))}function Of(s,a,d){for(let f in s)if(s.hasOwnProperty(f)){const m=s[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(a,m):d[f]=[a,m]}return d}function po(s,a,d,f,m,y,E,I){const F=Di(a,d);let Q,H=a.inputs;!I&&null!=H&&(Q=H[f])?(Zg(s,d,Q,f,m),ns(a)&&function Pf(s,a){const d=Si(a,s);16&d[2]||(d[2]|=64)}(d,a.index)):3&a.type&&(f=function Bg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),m=null!=E?E(m,a.value||"",f):m,jr(y)?y.setProperty(F,f,m):Dt(f)||(F.setProperty?F.setProperty(f,m):F[f]=m))}function Eh(s,a,d,f){let m=!1;if(np()){const y=function e0(s,a,d){const f=s.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const E=f[y];Ep(d,E.selectors,!1)&&(m||(m=[]),Cn(Xn(d,a),s,E.type),ki(E)?(Vg(s,d),m.unshift(E)):m.push(E))}return m}(s,a,d),E=null===f?null:{"":-1};if(null!==y){m=!0,jp(d,s.data.length,y.length);for(let Q=0;Q<y.length;Q++){const ye=y[Q];ye.providersResolver&&ye.providersResolver(ye)}let I=!1,F=!1,H=vl(s,a,y.length,null);for(let Q=0;Q<y.length;Q++){const ye=y[Q];d.mergedAttrs=qr(d.mergedAttrs,ye.hostAttrs),km(s,d,a,H,ye),t0(H,ye,E),null!==ye.contentQueries&&(d.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(d.flags|=128);const Fe=ye.type.prototype;!I&&(Fe.ngOnChanges||Fe.ngOnInit||Fe.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),I=!0),!F&&(Fe.ngOnChanges||Fe.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),F=!0),H++}!function wh(s,a){const f=a.directiveEnd,m=s.data,y=a.attrs,E=[];let I=null,F=null;for(let H=a.directiveStart;H<f;H++){const Q=m[H],ye=Q.inputs,Fe=null===y||Tp(a)?null:C(ye,y);E.push(Fe),I=Of(ye,H,I),F=Of(Q.outputs,H,F)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=E,a.inputs=I,a.outputs=F}(s,d)}E&&function Gg(s,a,d){if(a){const f=s.localNames=[];for(let m=0;m<a.length;m+=2){const y=d[a[m+1]];if(null==y)throw new Qe(-301,!1);f.push(a[m],y)}}}(d,f,E)}return d.mergedAttrs=qr(d.mergedAttrs,d.attrs),m}function Up(s,a,d,f,m,y){const E=y.hostBindings;if(E){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const F=~a.index;(function Nm(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(I)!=F&&I.push(F),I.push(f,m,E)}}function Rm(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function Vg(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function t0(s,a,d){if(d){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)d[a.exportAs[f]]=s;ki(a)&&(d[""]=s)}}function jp(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}function km(s,a,d,f,m){s.data[f]=m;const y=m.factory||(m.factory=de(m.type)),E=new _a(y,ki(m),null);s.blueprint[f]=E,d[f]=E,Up(s,a,0,f,vl(s,d,m.hostVars,ir),m)}function Hg(s,a,d){const f=Di(a,s),m=kg(d),y=s[10],E=br(s,yl(s,m,null,d.onPush?64:16,f,a,y,y.createRenderer(f,d),null,null));s[a.index]=E}function w(s,a,d,f,m,y,E){if(null==y)jr(s)?s.removeAttribute(a,m,d):a.removeAttribute(m);else{const I=null==E?Re(y):E(y,f||"",m);jr(s)?s.setAttribute(a,m,I,d):d?a.setAttributeNS(d,m,I):a.setAttribute(m,I)}}function _(s,a,d,f,m,y){const E=y[a];if(null!==E){const I=f.setInput;for(let F=0;F<E.length;){const H=E[F++],Q=E[F++],ye=E[F++];null!==I?f.setInput(d,ye,H,Q):d[Q]=ye}}}function C(s,a){let d=null,f=0;for(;f<a.length;){const m=a[f];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,s[m],a[f+1])),f+=2}else f+=2;else f+=4}return d}function W(s,a,d,f){return new Array(s,!0,!1,a,null,0,f,d,null,null)}function vt(s,a){const d=Si(a,s);if($a(d)){const f=d[1];80&d[2]?ac(f,d,f.template,d[8]):d[5]>0&&Rt(d)}}function Rt(s){for(let f=dl(s);null!==f;f=pu(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const E=y[1];ac(E,y,E.template,y[8])}else y[5]>0&&Rt(y)}const d=s[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=Si(d[f],s);$a(m)&&m[5]>0&&Rt(m)}}function Rn(s,a){const d=Si(a,s),f=d[1];(function Vn(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(f,d),bl(f,d,d[8])}function br(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function ws(s){for(;s;){s[2]|=64;const a=hu(s);if(ha(s)&&!a)return s;s=a}return null}function Nf(s,a,d){const f=a[10];f.begin&&f.begin();try{ac(s,a,s.template,d)}catch(m){throw zr(a,m),m}finally{f.end&&f.end()}}function Cl(s){!function yd(s){for(let a=0;a<s.components.length;a++){const d=s.components[a],f=to(d),m=f[1];kp(m,f,m.template,d)}}(s[8])}function Pu(s,a,d){Gl(0),a(s,d)}const $g=(()=>Promise.resolve(null))();function Nu(s){return s[7]||(s[7]=[])}function xh(s){return s.cleanup||(s.cleanup=[])}function zr(s,a){const d=s[9],f=d?d.get(ho,null):null;f&&f.handleError(a)}function Zg(s,a,d,f,m){for(let y=0;y<d.length;){const E=d[y++],I=d[y++],F=a[E],H=s.data[E];null!==H.setInput?H.setInput(F,m,f,I):F[I]=m}}function Bc(s,a,d){const f=Ha(a,s);ff(s[11],f,d)}function Ra(s,a,d){let f=d?s.styles:null,m=d?s.classes:null,y=0;if(null!==a)for(let E=0;E<a.length;E++){const I=a[E];"number"==typeof I?y=I:1==y?m=Ze(m,I):2==y&&(f=Ze(f,I+": "+a[++E]+";"))}d?s.styles=f:s.stylesWithoutHost=f,d?s.classes=m:s.classesWithoutHost=m}const Lm=new li("INJECTOR",-1);class Bm{get(a,d=U){if(d===U){const f=new Error(`NullInjectorError: No provider for ${$e(a)}!`);throw f.name="NullInjectorError",f}return d}}const Um=new li("Set Injector scope."),vd={},Wg={};let Ih;function X0(){return void 0===Ih&&(Ih=new Bm),Ih}function wl(s,a=null,d=null,f){const m=jm(s,a,d,f);return m._resolveInjectorDefTypes(),m}function jm(s,a=null,d=null,f){return new Vm(s,d,a||X0(),f)}class Vm{constructor(a,d,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];d&&Xi(d,I=>this.processProvider(I,a,d)),Xi([a],I=>this.processInjectorType(I,[],y)),this.records.set(Lm,bd(void 0,this));const E=this.records.get(Um);this.scope=null!=E?E.value:null,this.source=m||("object"==typeof a?null:$e(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,d=U,f=ke.Default){this.assertNotDestroyed();const m=Sr(this),y=ct(void 0);try{if(!(f&ke.SkipSelf)){let I=this.records.get(a);if(void 0===I){const F=function Kg(s){return"function"==typeof s||"object"==typeof s&&s instanceof li}(a)&&ao(a);I=F&&this.injectableDefInScope(F)?bd(zg(a),vd):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(f&ke.Self?X0():this.parent).get(a,d=f&ke.Optional&&d===U?null:d)}catch(E){if("NullInjectorError"===E.name){if((E[Ee]=E[Ee]||[]).unshift($e(a)),m)throw E;return function ui(s,a,d,f){const m=s[Ee];throw a[bn]&&m.unshift(a[bn]),s.message=function wc(s,a,d,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=$e(a);if(Array.isArray(a))m=a.map($e).join(" -> ");else if("object"==typeof a){let y=[];for(let E in a)if(a.hasOwnProperty(E)){let I=a[E];y.push(E+":"+("string"==typeof I?JSON.stringify(I):$e(I)))}m=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${s.replace(it,"\n  ")}`}("\n"+s.message,m,d,f),s.ngTokenPath=m,s[Ee]=null,s}(E,a,"R3InjectorError",this.source)}throw E}finally{ct(y),Sr(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,m)=>a.push($e(m))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(a,d,f){if(!(a=De(a)))return!1;let m=Qr(a);const y=null==m&&a.ngModule||void 0,E=void 0===y?a:y,I=-1!==f.indexOf(E);if(void 0!==y&&(m=Qr(y)),null==m)return!1;if(null!=m.imports&&!I){let Q;f.push(E);try{Xi(m.imports,ye=>{this.processInjectorType(ye,d,f)&&(void 0===Q&&(Q=[]),Q.push(ye))})}finally{}if(void 0!==Q)for(let ye=0;ye<Q.length;ye++){const{ngModule:Fe,providers:Je}=Q[ye];Xi(Je,yt=>this.processProvider(yt,Fe,Je||Tt))}}this.injectorDefTypes.add(E);const F=de(E)||(()=>new E);this.records.set(E,bd(F,vd));const H=m.providers;if(null!=H&&!I){const Q=a;Xi(H,ye=>this.processProvider(ye,Q,H))}return void 0!==y&&void 0!==a.providers}processProvider(a,d,f){let m=Cd(a=De(a))?a:De(a&&a.provide);const y=function n0(s,a,d){return Hm(s)?bd(void 0,s.useValue):bd(r0(s),vd)}(a);if(Cd(a)||!0!==a.multi)this.records.get(m);else{let E=this.records.get(m);E||(E=bd(void 0,vd,!0),E.factory=()=>ra(E.multi),this.records.set(m,E)),m=a,E.multi.push(a)}this.records.set(m,y)}hydrate(a,d){return d.value===vd&&(d.value=Wg,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Wm(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=De(a.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function zg(s){const a=ao(s),d=null!==a?a.factory:de(s);if(null!==d)return d;if(s instanceof li)throw new Qe(204,!1);if(s instanceof Function)return function Gm(s){const a=s.length;if(a>0)throw ta(a,"?"),new Qe(204,!1);const d=function pi(s){const a=s&&(s[zi]||s[Ri]);if(a){const d=function Wi(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new Qe(204,!1)}function r0(s,a,d){let f;if(Cd(s)){const m=De(s);return de(m)||zg(m)}if(Hm(s))f=()=>De(s.useValue);else if(function ey(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...ra(s.deps||[]));else if(function $m(s){return!(!s||!s.useExisting)}(s))f=()=>vr(De(s.useExisting));else{const m=De(s&&(s.useClass||s.provide));if(!function Zm(s){return!!s.deps}(s))return de(m)||zg(m);f=()=>new m(...ra(s.deps))}return f}function bd(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function Hm(s){return null!==s&&"object"==typeof s&&er in s}function Cd(s){return"function"==typeof s}let Ts=(()=>{class s{static create(d,f){var m;if(Array.isArray(d))return wl({name:""},f,d,"");{const y=null!==(m=d.name)&&void 0!==m?m:"";return wl({name:y},d.parent,d.providers,y)}}}return s.THROW_IF_NOT_FOUND=U,s.NULL=new Bm,s.\u0275prov=Un({token:s,providedIn:"any",factory:()=>vr(Lm)}),s.__NG_ELEMENT_ID__=-1,s})();function yv(s,a){Kh(to(s)[1],Fi())}function e_(s){let a=function kf(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const f=[s];for(;a;){let m;if(ki(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Qe(903,"");m=a.\u0275dir}if(m){if(d){f.push(m);const E=s;E.inputs=$p(s.inputs),E.declaredInputs=$p(s.declaredInputs),E.outputs=$p(s.outputs);const I=m.hostBindings;I&&bv(s,I);const F=m.viewQuery,H=m.contentQueries;if(F&&t_(s,F),H&&vv(s,H),ve(s.inputs,m.inputs),ve(s.declaredInputs,m.declaredInputs),ve(s.outputs,m.outputs),ki(m)&&m.data.animation){const Q=s.data;Q.animation=(Q.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let E=0;E<y.length;E++){const I=y[E];I&&I.ngInherit&&I(s),I===e_&&(d=!1)}}a=Object.getPrototypeOf(a)}!function a0(s){let a=0,d=null;for(let f=s.length-1;f>=0;f--){const m=s[f];m.hostVars=a+=m.hostVars,m.hostAttrs=qr(m.hostAttrs,d=qr(d,m.hostAttrs))}}(f)}function $p(s){return s===Ke?{}:s===Tt?[]:s}function t_(s,a){const d=s.viewQuery;s.viewQuery=d?(f,m)=>{a(f,m),d(f,m)}:a}function vv(s,a){const d=s.contentQueries;s.contentQueries=d?(f,m,y)=>{a(f,m,y),d(f,m,y)}:a}function bv(s,a){const d=s.hostBindings;s.hostBindings=d?(f,m)=>{a(f,m),d(f,m)}:a}let Dl=null;function Td(){if(!Dl){const s=Bn.Symbol;if(s&&s.iterator)Dl=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const f=a[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Dl=f)}}}return Dl}function Oh(s){return!!Zp(s)&&(Array.isArray(s)||!(s instanceof Map)&&Td()in s)}function Zp(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Uc(s,a,d){return s[a]=d}function hs(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function jc(s,a,d,f){const m=hs(s,a,d);return hs(s,a+1,f)||m}function Gc(s,a,d,f){const m=At();return hs(m,_s(),a)&&(Tr(),function Lc(s,a,d,f,m,y){const E=Di(s,a);w(a[11],E,y,s.value,d,f,m)}(oi(),m,s,a,d,f)),Gc}function Lf(s,a,d,f){return hs(s,_s(),d)?a+Re(d)+f:ir}function c0(s,a,d,f,m,y,E,I){const F=At(),H=Tr(),Q=s+20,ye=H.firstCreatePass?function Ed(s,a,d,f,m,y,E,I,F){const H=a.consts,Q=Ch(a,s,4,E||null,Bo(H,I));Eh(a,d,Q,Bo(H,F)),Kh(a,Q);const ye=Q.tViews=Mu(2,Q,f,m,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,H);return null!==a.queries&&(a.queries.template(a,Q),ye.queries=a.queries.embeddedTView(Q)),Q}(Q,H,F,a,d,f,m,y,E):H.data[Q];Ys(ye,!1);const Fe=F[11].createComment("");hr(H,F,Fe,ye),Jt(Fe,F),br(F,F[Q]=W(Fe,F,Fe,ye)),_i(ye)&&Fp(H,F,ye),null!=E&&md(F,ye,I)}function Go(s){return Os(function pc(){return jn.lFrame.contextLView}(),20+s)}function Yp(s,a=ke.Default){const d=At();return null===d?vr(s,a):zl(Fi(),d,De(s),a)}function g0(){throw new Error("invalid")}function nm(s,a,d){const f=At();return hs(f,_s(),a)&&po(Tr(),oi(),f,s,a,f[11],d,!1),nm}function Jp(s,a,d,f,m){const E=m?"class":"style";Zg(s,d,a.inputs[E],E,f)}function rm(s,a,d,f){const m=At(),y=Tr(),E=20+s,I=m[11],F=m[E]=cr(I,a,function gi(){return jn.lFrame.currentNamespace}()),H=y.firstCreatePass?function Lu(s,a,d,f,m,y,E){const I=a.consts,H=Ch(a,s,2,m,Bo(I,y));return Eh(a,d,H,Bo(I,E)),null!==H.attrs&&Ra(H,H.attrs,!1),null!==H.mergedAttrs&&Ra(H,H.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,H),H}(E,y,m,0,a,d,f):y.data[E];Ys(H,!0);const Q=H.mergedAttrs;null!==Q&&qt(I,F,Q);const ye=H.classes;null!==ye&&bf(I,F,ye);const Fe=H.styles;return null!==Fe&&Cu(I,F,Fe),64!=(64&H.flags)&&hr(y,m,F,H),0===function pa(){return jn.lFrame.elementDepthCount}()&&Jt(F,m),function Gu(){jn.lFrame.elementDepthCount++}(),_i(H)&&(Fp(y,m,H),If(y,H,m)),null!==f&&md(m,H),rm}function xl(){let s=Fi();Uo()?Hu():(s=s.parent,Ys(s,!1));const a=s;!function ii(){jn.lFrame.elementDepthCount--}();const d=Tr();return d.firstCreatePass&&(Kh(d,s),Xr(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function Yh(s){return 0!=(16&s.flags)}(a)&&Jp(d,a,At(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function Nn(s){return 0!=(32&s.flags)}(a)&&Jp(d,a,At(),a.stylesWithoutHost,!1),xl}function im(s,a,d,f){return rm(s,a,d,f),xl(),im}function Bh(s,a,d){const f=At(),m=Tr(),y=s+20,E=m.firstCreatePass?function om(s,a,d,f,m){const y=a.consts,E=Bo(y,f),I=Ch(a,s,8,"ng-container",E);return null!==E&&Ra(I,E,!0),Eh(a,d,I,Bo(y,m)),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,d):m.data[y];Ys(E,!0);const I=f[y]=f[11].createComment("");return hr(m,f,I,E),Jt(I,f),_i(E)&&(Fp(m,f,E),If(m,E,f)),null!=d&&md(f,E),Bh}function sm(){let s=Fi();const a=Tr();return Uo()?Hu():(s=s.parent,Ys(s,!1)),a.firstCreatePass&&(Kh(a,s),Xr(s)&&a.queries.elementEnd(s)),sm}function Al(s,a,d){return Bh(s,a,d),sm(),Al}function Ni(){return At()}function $f(s){return!!s&&"function"==typeof s.then}function qf(s){return!!s&&"function"==typeof s.subscribe}const Qp=qf;function Uh(s,a,d,f){const m=At(),y=Tr(),E=Fi();return function Zf(s,a,d,f,m,y,E,I){const F=_i(f),Q=s.firstCreatePass&&xh(s),ye=a[8],Fe=Nu(a);let Je=!0;if(3&f.type||I){const on=Di(f,a),On=I?I(on):on,It=Fe.length,Hn=I?Rr=>I(pr(Rr[f.index])):f.index;if(jr(d)){let Rr=null;if(!I&&F&&(Rr=function jh(s,a,d,f){const m=s.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const E=m[y];if(E===d&&m[y+1]===f){const I=a[7],F=m[y+2];return I.length>F?I[F]:null}"string"==typeof E&&(y+=2)}return null}(s,a,m,f.index)),null!==Rr)(Rr.__ngLastListenerFn__||Rr).__ngNextListenerFn__=y,Rr.__ngLastListenerFn__=y,Je=!1;else{y=f_(f,a,ye,y,!1);const fi=d.listen(On,m,y);Fe.push(y,fi),Q&&Q.push(m,Hn,It,It+1)}}else y=f_(f,a,ye,y,!0),On.addEventListener(m,y,E),Fe.push(y),Q&&Q.push(m,Hn,It,E)}else y=f_(f,a,ye,y,!1);const yt=f.outputs;let Ht;if(Je&&null!==yt&&(Ht=yt[m])){const on=Ht.length;if(on)for(let On=0;On<on;On+=2){const dc=a[Ht[On]][Ht[On+1]].subscribe(y),og=Fe.length;Fe.push(y,dc),Q&&Q.push(m,f.index,og,-(og+1))}}}(y,m,m[11],E,s,a,!!d,f),Uh}function Dd(s,a,d,f){try{return!1!==d(f)}catch(m){return zr(s,m),!1}}function f_(s,a,d,f,m){return function y(E){if(E===Function)return f;const I=2&s.flags?Si(s.index,a):a;0==(32&a[2])&&ws(I);let F=Dd(a,0,f,E),H=y.__ngNextListenerFn__;for(;H;)F=Dd(a,0,H,E)&&F,H=H.__ngNextListenerFn__;return m&&!1===F&&(E.preventDefault(),E.returnValue=!1),F}}function Iv(s=1){return function qu(s){return(jn.lFrame.contextLView=function Qs(s,a){for(;s>0;)a=a[15],s--;return a}(s,jn.lFrame.contextLView))[8]}(s)}function dy(s,a){let d=null;const f=function Cf(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(0==(1&d))return a[d+1]}return null}(s);for(let m=0;m<a.length;m++){const y=a[m];if("*"!==y){if(null===f?Ep(s,y,!0):Dp(f,y))return m}else d=m}return d}function Mv(s){const a=At()[16][6];if(!a.projection){const f=a.projection=ta(s?s.length:1,null),m=f.slice();let y=a.child;for(;null!==y;){const E=s?dy(y,s):0;null!==E&&(m[E]?m[E].projectionNext=y:f[E]=y,m[E]=y),y=y.next}}}function Ov(s,a=0,d){const f=At(),m=Tr(),y=Ch(m,20+s,16,null,d||null);null===y.projection&&(y.projection=a),Hu(),64!=(64&y.flags)&&function hh(s,a,d){fo(a[11],0,a,d,Pi(s,d,a),oc(d.parent||a[6],d,a))}(m,f,y)}function _0(s,a,d){return y0(s,"",a,"",d),_0}function y0(s,a,d,f,m){const y=At(),E=Lf(y,a,d,f);return E!==ir&&po(Tr(),oi(),y,s,E,y[11],m,!1),y0}function w0(s,a,d,f,m){const y=s[d+1],E=null===a;let I=f?aa(y):Us(y),F=!1;for(;0!==I&&(!1===F||E);){const Q=s[I+1];gy(s[I],a)&&(F=!0,s[I+1]=f?Sg(Q):pl(Q)),I=f?aa(Q):Us(Q)}F&&(s[d+1]=f?pl(y):Sg(y))}function gy(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&tl(s,a)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function m_(s){return s.substring(Po.key,Po.keyEnd)}function my(s,a){const d=Po.textEnd;return d===a?-1:(a=Po.keyEnd=function kv(s,a,d){for(;a<d&&s.charCodeAt(a)>32;)a++;return a}(s,Po.key=a,d),uc(s,a,d))}function uc(s,a,d){for(;a<d&&s.charCodeAt(a)<=32;)a++;return a}function __(s,a,d){return Ba(s,a,d,!1),__}function am(s,a){return Ba(s,a,null,!0),am}function Bv(s){!function Hc(s,a,d,f){const m=Tr(),y=Ps(2);m.firstUpdatePass&&Xo(m,null,y,f);const E=At();if(d!==ir&&hs(E,y,d)){const I=m.data[os()];if(D(I,f)&&!wy(m,y)){let F=f?I.classesWithoutHost:I.stylesWithoutHost;null!==F&&(d=Ze(F,d||"")),Jp(m,I,E,d,f)}else!function i(s,a,d,f,m,y,E,I){m===ir&&(m=Tt);let F=0,H=0,Q=0<m.length?m[0]:null,ye=0<y.length?y[0]:null;for(;null!==Q||null!==ye;){const Fe=F<m.length?m[F+1]:void 0,Je=H<y.length?y[H+1]:void 0;let Ht,yt=null;Q===ye?(F+=2,H+=2,Fe!==Je&&(yt=ye,Ht=Je)):null===ye||null!==Q&&Q<ye?(F+=2,yt=Q):(H+=2,yt=ye,Ht=Je),null!==yt&&c(s,a,d,f,yt,Ht,E,I),Q=F<m.length?m[F]:null,ye=H<y.length?y[H]:null}}(m,I,E,E[11],E[y+1],E[y+1]=function E0(s,a,d){if(null==d||""===d)return Tt;const f=[],m=ia(d);if(Array.isArray(m))for(let y=0;y<m.length;y++)s(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&s(f,y,m[y]);else"string"==typeof m&&a(f,m);return f}(s,a,d),f,y)}}(Ii,ua,s,!0)}function ua(s,a){for(let d=function T0(s){return function yy(s){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=s.length}(s),my(s,uc(s,0,Po.textEnd))}(a);d>=0;d=my(a,d))Ii(s,m_(a),!0)}function Ba(s,a,d,f){const m=At(),y=Tr(),E=Ps(2);y.firstUpdatePass&&Xo(y,s,E,f),a!==ir&&hs(m,E,a)&&c(y,y.data[os()],m,m[11],s,m[E+1]=function v(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=$e(ia(s)))),s}(a,d),f,E)}function wy(s,a){return a>=s.expandoStartIndex}function Xo(s,a,d,f){const m=s.data;if(null===m[d+1]){const y=m[os()],E=wy(s,d);D(y,f)&&null===a&&!E&&(a=!1),a=function Ty(s,a,d,f){const m=function Vl(s){const a=jn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let y=f?a.residualClasses:a.residualStyles;if(null===m)0===(f?a.classBindings:a.styleBindings)&&(d=cm(d=eg(null,s,a,d,f),a.attrs,f),y=null);else{const E=a.directiveStylingLast;if(-1===E||s[E]!==m)if(d=eg(m,s,a,d,f),null===y){let F=function Uv(s,a,d){const f=d?a.classBindings:a.styleBindings;if(0!==Us(f))return s[aa(f)]}(s,a,f);void 0!==F&&Array.isArray(F)&&(F=eg(null,s,a,F[1],f),F=cm(F,a.attrs,f),function jv(s,a,d,f){s[aa(d?a.classBindings:a.styleBindings)]=f}(s,a,f,F))}else y=function Vv(s,a,d){let f;const m=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<m;y++)f=cm(f,s[y].hostAttrs,d);return cm(f,a.attrs,d)}(s,a,f)}return void 0!==y&&(f?a.residualClasses=y:a.residualStyles=y),d}(m,y,a,f),function C0(s,a,d,f,m,y){let E=y?a.classBindings:a.styleBindings,I=aa(E),F=Us(E);s[f]=d;let Q,H=!1;if(Array.isArray(d)){const ye=d;Q=ye[1],(null===Q||tl(ye,Q)>0)&&(H=!0)}else Q=d;if(m)if(0!==F){const Fe=aa(s[I+1]);s[f+1]=Tf(Fe,I),0!==Fe&&(s[Fe+1]=dd(s[Fe+1],f)),s[I+1]=function Sp(s,a){return 131071&s|a<<17}(s[I+1],f)}else s[f+1]=Tf(I,0),0!==I&&(s[I+1]=dd(s[I+1],f)),I=f;else s[f+1]=Tf(F,0),0===I?I=f:s[F+1]=dd(s[F+1],f),F=f;H&&(s[f+1]=pl(s[f+1])),w0(s,Q,f,!0),w0(s,Q,f,!1),function Nv(s,a,d,f,m){const y=m?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof a&&tl(y,a)>=0&&(d[f+1]=Sg(d[f+1]))}(a,Q,s,f,y),E=Tf(I,F),y?a.classBindings=E:a.styleBindings=E}(m,y,a,d,E,f)}}function eg(s,a,d,f,m){let y=null;const E=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<E&&(y=a[I],f=cm(f,y.hostAttrs,m),y!==s);)I++;return null!==s&&(d.directiveStylingLast=I),f}function cm(s,a,d){const f=d?1:2;let m=-1;if(null!==a)for(let y=0;y<a.length;y++){const E=a[y];"number"==typeof E?m=E:m===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Ii(s,E,!!d||a[++y]))}return void 0===s?null:s}function c(s,a,d,f,m,y,E,I){if(!(3&a.type))return;const F=s.data,H=F[I+1];g(function xp(s){return 1==(1&s)}(H)?h(F,a,d,m,Us(H),E):void 0)||(g(y)||function Du(s){return 2==(2&s)}(H)&&(y=h(F,null,d,m,I,E)),function bu(s,a,d,f,m){const y=jr(s);if(a)m?y?s.addClass(d,f):d.classList.add(f):y?s.removeClass(d,f):d.classList.remove(f);else{let E=-1===f.indexOf("-")?void 0:Mo.DashCase;if(null==m)y?s.removeStyle(d,f,E):d.style.removeProperty(f);else{const I="string"==typeof m&&m.endsWith("!important");I&&(m=m.slice(0,-10),E|=Mo.Important),y?s.setStyle(d,f,m,E):d.style.setProperty(f,m,I?"important":"")}}}(f,E,Ha(os(),d),m,y))}function h(s,a,d,f,m,y){const E=null===a;let I;for(;m>0;){const F=s[m],H=Array.isArray(F),Q=H?F[1]:F,ye=null===Q;let Fe=d[m+1];Fe===ir&&(Fe=ye?Tt:void 0);let Je=ye?yc(Fe,f):Q===f?Fe:void 0;if(H&&!g(Je)&&(Je=yc(F,f)),g(Je)&&(I=Je,E))return I;const yt=s[m+1];m=E?aa(yt):Us(yt)}if(null!==a){let F=y?a.residualClasses:a.residualStyles;null!=F&&(I=yc(F,f))}return I}function g(s){return void 0!==s}function D(s,a){return 0!=(s.flags&(a?16:32))}function k(s,a=""){const d=At(),f=Tr(),m=s+20,y=f.firstCreatePass?Ch(f,m,1,a,null):f.data[m],E=d[m]=hf(d[11],a);hr(f,d,E,y),Ys(y,!1)}function $(s){return ne("",s,""),$}function ne(s,a,d){const f=At(),m=Lf(f,s,a,d);return m!==ir&&Bc(f,os(),m),ne}function Se(s,a,d,f,m){const y=At(),E=function Nh(s,a,d,f,m,y){const I=jc(s,wo(),d,m);return Ps(2),I?a+Re(d)+f+Re(m)+y:ir}(y,s,a,d,f,m);return E!==ir&&Bc(y,os(),E),Se}function Ey(s,a,d){const f=At();return hs(f,_s(),a)&&po(Tr(),oi(),f,s,a,f[11],d,!0),Ey}const Pl=void 0;var Dy=["en",[["a","p"],["AM","PM"],Pl],[["AM","PM"],Pl,Pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Pl,"{1} 'at' {0}",Pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Nl(s){const d=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let qc={};function tg(s,a,d){"string"!=typeof a&&(d=a,a=s[zn.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),qc[a]=s,d&&(qc[a][zn.ExtraData]=d)}function lm(s){const a=function Vh(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=D0(a);if(d)return d;const f=a.split("-")[0];if(d=D0(f),d)return d;if("en"===f)return Dy;throw new Error(`Missing locale data for the locale "${s}".`)}function ng(s){return lm(s)[zn.PluralCase]}function D0(s){return s in qc||(qc[s]=Bn.ng&&Bn.ng.common&&Bn.ng.common.locales&&Bn.ng.common.locales[s]),qc[s]}var zn=(()=>((zn=zn||{})[zn.LocaleId=0]="LocaleId",zn[zn.DayPeriodsFormat=1]="DayPeriodsFormat",zn[zn.DayPeriodsStandalone=2]="DayPeriodsStandalone",zn[zn.DaysFormat=3]="DaysFormat",zn[zn.DaysStandalone=4]="DaysStandalone",zn[zn.MonthsFormat=5]="MonthsFormat",zn[zn.MonthsStandalone=6]="MonthsStandalone",zn[zn.Eras=7]="Eras",zn[zn.FirstDayOfWeek=8]="FirstDayOfWeek",zn[zn.WeekendRange=9]="WeekendRange",zn[zn.DateFormat=10]="DateFormat",zn[zn.TimeFormat=11]="TimeFormat",zn[zn.DateTimeFormat=12]="DateTimeFormat",zn[zn.NumberSymbols=13]="NumberSymbols",zn[zn.NumberFormats=14]="NumberFormats",zn[zn.CurrencyCode=15]="CurrencyCode",zn[zn.CurrencySymbol=16]="CurrencySymbol",zn[zn.CurrencyName=17]="CurrencyName",zn[zn.Currencies=18]="Currencies",zn[zn.Directionality=19]="Directionality",zn[zn.PluralCase=20]="PluralCase",zn[zn.ExtraData=21]="ExtraData",zn))();const aC=["zero","one","two","few","many"],rg="en-US",C_={marker:"element"},Wf={marker:"ICU"};var No=(()=>((No=No||{})[No.SHIFT=2]="SHIFT",No[No.APPEND_EAGERLY=1]="APPEND_EAGERLY",No[No.COMMENT=2]="COMMENT",No))();let e1=rg;function S0(s,a,d){const f=a.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?oa(s,0,d):pr(d[m])}function n1(s,a,d,f,m){const y=a.insertBeforeIndex;if(Array.isArray(y)){let E=f,I=null;if(3&a.type||(I=E,E=m),null!==E&&0==(2&a.flags))for(let F=1;F<y.length;F++)ic(s,E,d[y[F]],I,!1)}}function xy(s,a){if(s.push(a),s.length>1)for(let d=s.length-2;d>=0;d--){const f=s[d];r1(f)||lC(f,a)&&null===um(f)&&Ay(f,a.index)}}function r1(s){return!(64&s.type)}function lC(s,a){return r1(a)||s.index>a.index}function um(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Ay(s,a){const d=s.insertBeforeIndex;Array.isArray(d)?d[0]=a:(hl(S0,n1),s.insertBeforeIndex=a)}function dm(s,a){const d=s.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function s1(s,a,d){const f=Rp(s,d,64,null,null);return xy(a,f),f}function hm(s,a){const d=a[s.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function a1(s){return s>>>17}function c1(s){return(131070&s)>>>1}let T_=0,Gh=0;function u1(s,a,d,f){const m=d[11];let E,y=null;for(let I=0;I<a.length;I++){const F=a[I];if("string"==typeof F){const H=a[++I];null===d[H]&&(d[H]=hf(m,F))}else if("number"==typeof F)switch(1&F){case 0:const H=a1(F);let Q,ye;if(null===y&&(y=H,E=uh(m,f)),H===y?(Q=f,ye=E):(Q=null,ye=pr(d[H])),null!==ye){const Ht=c1(F);ic(m,ye,d[Ht],Q,!1);const On=dm(s,Ht);if(null!==On&&"object"==typeof On){const It=hm(On,d);null!==It&&u1(s,On.create[It],d,d[On.anchorIdx])}}break;case 1:const Je=a[++I],yt=a[++I];w(m,Ha(F>>>1,d),null,null,Je,yt,null)}else switch(F){case Wf:const H=a[++I],Q=a[++I];null===d[Q]&&Jt(d[Q]=od(m,H),d);break;case C_:const ye=a[++I],Fe=a[++I];null===d[Fe]&&Jt(d[Fe]=cr(m,ye,null),d)}}}function d1(s,a,d,f,m){for(let y=0;y<d.length;y++){const E=d[y],I=d[++y];if(E&m){let F="";for(let H=y+1;H<=y+I;H++){const Q=d[H];if("string"==typeof Q)F+=Q;else if("number"==typeof Q)if(Q<0)F+=Re(a[f-Q]);else{const ye=Q>>>2;switch(3&Q){case 1:const Fe=d[++H],Je=d[++H],yt=s.data[ye];"string"==typeof yt?w(a[11],a[ye],null,yt,Fe,F,Je):po(s,yt,a,Fe,F,a[11],Je,!1);break;case 0:const Ht=a[ye];null!==Ht&&ff(a[11],Ht,F);break;case 2:fC(s,dm(s,ye),a,F);break;case 3:h1(s,dm(s,ye),f,a)}}}}else{const F=d[y+1];if(F>0&&3==(3&F)){const Q=dm(s,F>>>2);a[Q.currentCaseLViewIndex]<0&&h1(s,Q,f,a)}}y+=I}}function h1(s,a,d,f){let m=f[a.currentCaseLViewIndex];if(null!==m){let y=T_;m<0&&(m=f[a.currentCaseLViewIndex]=~m,y=-1),d1(s,f,a.update[m],d,y)}}function fC(s,a,d,f){const m=function pC(s,a){let d=s.cases.indexOf(a);if(-1===d)switch(s.type){case 1:{const f=function Sd(s,a){const d=ng(a)(parseInt(s,10)),f=aC[d];return void 0!==f?f:"other"}(a,function t1(){return e1}());d=s.cases.indexOf(f),-1===d&&"other"!==f&&(d=s.cases.indexOf("other"));break}case 0:d=s.cases.indexOf("other")}return-1===d?null:d}(a,f);if(hm(a,d)!==m&&(f1(s,a,d),d[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const E=d[a.anchorIdx];E&&u1(s,a.create[m],d,E)}}function f1(s,a,d){let f=hm(a,d);if(null!==f){const m=a.remove[f];for(let y=0;y<m.length;y++){const E=m[y];if(E>0){const I=Ha(E,d);null!==I&&cd(d[11],I)}else f1(s,dm(s,~E),d)}}}function gC(){const s=[];let d,f,a=-1;function y(I,F){a=0;const H=hm(I,F);f=null!==H?I.remove[H]:Tt}function E(){if(a<f.length){const I=f[a++];return I>0?d[I]:(s.push(a,f),y(d[1].data[~I],d),E())}return 0===s.length?null:(f=s.pop(),a=s.pop(),E())}return function m(I,F){for(d=F;s.length;)s.pop();return y(I.value,F),E}}const x0=/\ufffd(\d+):?\d*\ufffd/gi,LT=/\ufffd(\d+)\ufffd/,My=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,mC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,BT=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,A0=/\uE500/g;function g1(s,a,d,f,m,y,E){const I=vl(s,f,1,null);let F=I<<No.SHIFT,H=ga();a===H&&(H=null),null===H&&(F|=No.APPEND_EAGERLY),E&&(F|=No.COMMENT,function du(s){void 0===Cs&&(Cs=s())}(gC)),m.push(F,null===y?"":y);const Q=Rp(s,I,E?32:1,null===y?"":y,null);xy(d,Q);const ye=Q.index;return Ys(Q,!1),null!==H&&a!==H&&function o1(s,a){let d=s.insertBeforeIndex;null===d?(hl(S0,n1),d=s.insertBeforeIndex=[null,a]):(function le(s,a,d){s!=a&&wn(d,s,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(H,ye),Q}function vC(s,a,d,f,m,y,E){const I=E.match(x0),F=g1(s,a,d,y,f,I?null:E,!1);I&&pm(m,E,F.index,null,0,null)}function pm(s,a,d,f,m,y){const E=s.length,I=E+1;s.push(null,null);const F=E+2,H=a.split(x0);let Q=0;for(let ye=0;ye<H.length;ye++){const Fe=H[ye];if(1&ye){const Je=m+parseInt(Fe,10);s.push(-1-Je),Q|=_1(Je)}else""!==Fe&&s.push(Fe)}return s.push(d<<2|(f?1:0)),f&&s.push(f,y),s[E]=Q,s[I]=s.length-F,Q}function _1(s){return 1<<Math.min(s,31)}function y1(s){let a,y,d="",f=0,m=!1;for(;null!==(a=mC.exec(s));)m?a[0]===`\ufffd/*${y}\ufffd`&&(f=a.index,m=!1):(d+=s.substring(f,a.index+a[0].length),y=a[1],m=!0);return d+=s.substr(f),d}function TC(s,a,d,f,m,y){let E=0;const I={type:m.type,currentCaseLViewIndex:vl(s,a,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function xC(s,a,d){s.push(_1(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,m,y),function i1(s,a,d){const f=s.data[a];null===f?s.data[a]=d:f.value=d}(s,y,I);const F=m.values;for(let H=0;H<F.length;H++){const Q=F[H],ye=[];for(let Fe=0;Fe<Q.length;Fe++){const Je=Q[Fe];if("string"!=typeof Je){const yt=ye.push(Je)-1;Q[Fe]=`\x3c!--\ufffd${yt}\ufffd--\x3e`}}E=DC(s,I,a,d,f,m.cases[H],Q.join(""),ye)|E}E&&function AC(s,a,d){s.push(a,1,d<<2|3)}(d,E,y)}function EC(s){const a=[],d=[];let f=1,m=0;const y=Oy(s=s.replace(My,function(E,I,F){return f="select"===F?0:1,m=parseInt(I.substr(1),10),""}));for(let E=0;E<y.length;){let I=y[E++].trim();1===f&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const F=Oy(y[E++]);a.length>d.length&&d.push(F)}return{type:f,mainBinding:m,cases:a,values:d}}function Oy(s){if(!s)return[];let a=0;const d=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(s);){const I=y.index;if("}"==y[0]){if(d.pop(),0==d.length){const F=s.substring(a,I);My.test(F)?f.push(EC(F)):f.push(F),a=I+1}}else{if(0==d.length){const F=s.substring(a,I);f.push(F),a=I+1}d.push("{")}}const E=s.substring(a);return f.push(E),f}function DC(s,a,d,f,m,y,E,I){const F=[],H=[],Q=[];a.cases.push(y),a.create.push(F),a.remove.push(H),a.update.push(Q);const Fe=Yd(ms()).getInertBodyElement(E),Je=uo(Fe)||Fe;return Je?v1(s,a,d,f,F,H,Q,Je,m,I,0):0}function v1(s,a,d,f,m,y,E,I,F,H,Q){let ye=0,Fe=I.firstChild;for(;Fe;){const Je=vl(s,d,1,null);switch(Fe.nodeType){case Node.ELEMENT_NODE:const yt=Fe,Ht=yt.tagName.toLowerCase();if(Xd.hasOwnProperty(Ht)){Py(m,C_,Ht,F,Je),s.data[Je]=Ht;const Hn=yt.attributes;for(let Rr=0;Rr<Hn.length;Rr++){const fi=Hn.item(Rr),dc=fi.name.toLowerCase();fi.value.match(x0)?pg.hasOwnProperty(dc)&&pm(E,fi.value,Je,fi.name,0,cf[dc]?Jd:Sc[dc]?al:null):UT(m,Je,fi)}ye=v1(s,a,d,f,m,y,E,Fe,Je,H,Q+1)|ye,b1(y,Je,Q)}break;case Node.TEXT_NODE:const on=Fe.textContent||"",On=on.match(x0);Py(m,null,On?"":on,F,Je),b1(y,Je,Q),On&&(ye=pm(E,on,Je,null,0,null)|ye);break;case Node.COMMENT_NODE:const It=LT.exec(Fe.textContent||"");if(It){const Rr=H[parseInt(It[1],10)];Py(m,Wf,"",F,Je),TC(s,d,f,F,Rr,Je),SC(y,Je,Q)}}Fe=Fe.nextSibling}return ye}function b1(s,a,d){0===d&&s.push(a)}function SC(s,a,d){0===d&&(s.push(~a),s.push(a))}function Py(s,a,d,f,m){null!==a&&s.push(a),s.push(d,m,function uC(s,a,d){return s|a<<17|d<<1}(0,f,m))}function UT(s,a,d){s.push(a<<1|1,d.name,d.value)}function RC(s,a,d=-1){const f=Tr(),m=At(),y=20+s,E=Bo(f.consts,a),I=ga();f.firstCreatePass&&function yC(s,a,d,f,m,y){const E=ga(),I=[],F=[],H=[[]];m=function wC(s,a){if(function CC(s){return-1===s}(a))return y1(s);{const d=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return y1(s.substring(d,f))}}(m,y);const Q=function _C(s){return s.replace(A0," ")}(m).split(BT);for(let ye=0;ye<Q.length;ye++){let Fe=Q[ye];if(0==(1&ye)){const Je=Oy(Fe);for(let yt=0;yt<Je.length;yt++){let Ht=Je[yt];if(0==(1&yt)){const on=Ht;""!==on&&vC(s,E,H[0],I,F,d,on)}else{const on=Ht;if("object"!=typeof on)throw new Error(`Unable to parse ICU expression in "${m}" message.`);TC(s,d,F,a,on,g1(s,E,H[0],d,I,"",!0).index)}}}else{const Je=47===Fe.charCodeAt(0),Ht=(Fe.charCodeAt(Je?1:0),20+Number.parseInt(Fe.substring(Je?2:1)));if(Je)H.shift(),Ys(ga(),!1);else{const on=s1(s,H[0],Ht);H.unshift([]),Ys(on,!0)}}}s.data[f]={create:I,update:F}}(f,null===I?0:I.index,m,y,E,d);const F=f.data[y],Q=Yo(f,I===m[6]?null:I,m);(function hC(s,a,d,f){const m=s[11];for(let y=0;y<a.length;y++){const E=a[y++],I=a[y],F=(E&No.COMMENT)===No.COMMENT,H=(E&No.APPEND_EAGERLY)===No.APPEND_EAGERLY,Q=E>>>No.SHIFT;let ye=s[Q];null===ye&&(ye=s[Q]=F?m.createComment(I):hf(m,I)),H&&null!==d&&ic(m,d,ye,f,!1)}})(m,F.create,Q,I&&8&I.type?m[I.index]:null),Wh(!0)}function FC(s,a,d){RC(s,a,d),function kC(){Wh(!1)}()}function Ny(s){return function dC(s){s&&(T_|=1<<Math.min(Gh,31)),Gh++}(hs(At(),_s(),s)),Ny}function w1(s){!function Iy(s,a,d){if(Gh>0){const f=s.data[d];d1(s,a,Array.isArray(f)?f:f.update,wo()-Gh-1,T_)}T_=0,Gh=0}(Tr(),At(),s+20)}function T1(s,a,d,f,m){if(s=De(s),Array.isArray(s))for(let y=0;y<s.length;y++)T1(s[y],a,d,f,m);else{const y=Tr(),E=At();let I=Cd(s)?s:De(s.provide),F=r0(s);const H=Fi(),Q=1048575&H.providerIndexes,ye=H.directiveStart,Fe=H.providerIndexes>>20;if(Cd(s)||!s.multi){const Je=new _a(F,m,Yp),yt=Ry(I,a,m?Q:Q+Fe,ye);-1===yt?(Cn(Xn(H,E),y,I),E1(y,s,a.length),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(Je),E.push(Je)):(d[yt]=Je,E[yt]=Je)}else{const Je=Ry(I,a,Q+Fe,ye),yt=Ry(I,a,Q,Q+Fe),Ht=Je>=0&&d[Je],on=yt>=0&&d[yt];if(m&&!on||!m&&!Ht){Cn(Xn(H,E),y,I);const On=function WT(s,a,d,f,m){const y=new _a(s,d,Yp);return y.multi=[],y.index=a,y.componentProviders=0,D1(y,m,f&&!d),y}(m?ZT:qT,d.length,m,f,F);!m&&on&&(d[yt].providerFactory=On),E1(y,s,a.length,0),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(On),E.push(On)}else E1(y,s,Je>-1?Je:yt,D1(d[m?yt:Je],F,!m&&f));!m&&f&&on&&d[yt].componentProviders++}}}function E1(s,a,d,f){const m=Cd(a),y=function qm(s){return!!s.useClass}(a);if(m||y){const F=(y?De(a.useClass):a).prototype.ngOnDestroy;if(F){const H=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const Q=H.indexOf(d);-1===Q?H.push(d,[f,F]):H[Q+1].push(f,F)}else H.push(d,F)}}}function D1(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function Ry(s,a,d,f){for(let m=d;m<f;m++)if(a[m]===s)return m;return-1}function qT(s,a,d,f){return S1(this.multi,[])}function ZT(s,a,d,f){const m=this.multi;let y;if(this.providerFactory){const E=this.providerFactory.componentProviders,I=Kl(d,d[1],this.providerFactory.index,f);y=I.slice(0,E),S1(m,y);for(let F=E;F<I.length;F++)y.push(I[F])}else y=[],S1(m,y);return y}function S1(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function x1(s,a=[]){return d=>{d.providersResolver=(f,m)=>function $T(s,a,d){const f=Tr();if(f.firstCreatePass){const m=ki(s);T1(d,f.data,f.blueprint,m,!0),T1(a,f.data,f.blueprint,m,!1)}}(f,m?m(s):s,a)}}class UC{}class VC{resolveComponentFactory(a){throw function jC(s){const a=Error(`No component factory found for ${$e(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let I0=(()=>{class s{}return s.NULL=new VC,s})();function KT(){return gm(Fi(),At())}function gm(s,a){return new E_(Di(s,a))}let E_=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=KT,s})();function GC(s){return s instanceof E_?s.nativeElement:s}class I1{}let HC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function qC(){const s=At(),d=Si(Fi().index,s);return function $C(s){return s[11]}(bo(d)?d:s)}(),s})(),ZC=(()=>{class s{}return s.\u0275prov=Un({token:s,providedIn:"root",factory:()=>null}),s})();class M1{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const O1=new M1("13.3.0"),ky={};function M0(s,a,d,f,m=!1){for(;null!==d;){const y=a[d.index];if(null!==y&&f.push(pr(y)),Ai(y))for(let I=10;I<y.length;I++){const F=y[I],H=F[1].firstChild;null!==H&&M0(F[1],F,H,f)}const E=d.type;if(8&E)M0(s,a,d.child,f);else if(32&E){const I=df(d,a);let F;for(;F=I();)f.push(F)}else if(16&E){const I=Dg(a,d);if(Array.isArray(I))f.push(...I);else{const F=hu(a[16]);M0(F[1],F,I,f,!0)}}d=m?d.projectionNext:d.next}return f}class D_{constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,d=a[1];return M0(d,a,d.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Ai(a)){const d=a[8],f=d?d.indexOf(this):-1;f>-1&&(ds(a,f),Hr(d,f))}this._attachedToViewContainer=!1}_f(this._lView[1],this._lView)}onDestroy(a){Ou(this._lView[1],this._lView,null,a)}markForCheck(){ws(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Nf(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Sh(s,a,d){ma(!0);try{Nf(s,a,d)}finally{ma(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ia(s,a){Oc(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=a}}class WC extends D_{constructor(a){super(a),this._view=a}detectChanges(){Cl(this._view)}checkNoChanges(){!function Rf(s){ma(!0);try{Cl(s)}finally{ma(!1)}}(this._view)}get context(){return null}}class P1 extends I0{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Oe(a);return new Fy(d,this.ngModule)}}function N1(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class Fy extends UC{constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function Pa(s){return s.map(Tu).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return N1(this.componentDef.inputs)}get outputs(){return N1(this.componentDef.outputs)}create(a,d,f,m){const y=(m=m||this.ngModule)?function KC(s,a){return{get:(d,f,m)=>{const y=s.get(d,ky,m);return y!==ky||f===ky?y:a.get(d,f,m)}}}(a,m.injector):a,E=y.get(I1,Kc),I=y.get(ZC,null),F=E.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",Q=f?function Mf(s,a,d){if(jr(s))return s.selectRootElement(a,d===Tn.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(F,f,this.componentDef.encapsulation):cr(E.createRenderer(null,this.componentDef),H,function zC(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),ye=this.componentDef.onPush?576:528,Fe=function Hp(s,a){return{components:[],scheduler:s||uu,clean:$g,playerHandler:a||null,flags:0}}(),Je=Mu(0,null,null,1,0,null,null,null,null,null),yt=yl(null,Je,Fe,ye,null,null,E,F,I,y);let Ht,on;Js(yt);try{const On=function cc(s,a,d,f,m,y){const E=d[1];d[20]=s;const F=Ch(E,20,2,"#host",null),H=F.mergedAttrs=a.hostAttrs;null!==H&&(Ra(F,H,!0),null!==s&&(qt(m,s,H),null!==F.classes&&bf(m,s,F.classes),null!==F.styles&&Cu(m,s,F.styles)));const Q=f.createRenderer(s,a),ye=yl(d,kg(a),null,a.onPush?64:16,d[20],F,f,Q,y||null,null);return E.firstCreatePass&&(Cn(Xn(F,d),E,a.type),Vg(E,F),jp(F,d.length,1)),br(d,ye),d[20]=ye}(Q,this.componentDef,yt,E,F);if(Q)if(f)qt(F,Q,["ng-version",O1.full]);else{const{attrs:It,classes:Hn}=function Eu(s){const a=[],d=[];let f=1,m=2;for(;f<s.length;){let y=s[f];if("string"==typeof y)2===m?""!==y&&a.push(y,s[++f]):8===m&&d.push(y);else{if(!Vi(m))break;m=y}f++}return{attrs:a,classes:d}}(this.componentDef.selectors[0]);It&&qt(F,Q,It),Hn&&Hn.length>0&&bf(F,Q,Hn.join(" "))}if(on=fa(Je,20),void 0!==d){const It=on.projection=[];for(let Hn=0;Hn<this.ngContentSelectors.length;Hn++){const Rr=d[Hn];It.push(null!=Rr?Array.from(Rr):null)}}Ht=function Jg(s,a,d,f,m){const y=d[1],E=function Ug(s,a,d){const f=Fi();s.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),km(s,f,a,vl(s,a,1,null),d));const m=Kl(a,s,f.directiveStart,f);Jt(m,a);const y=Di(f,a);return y&&Jt(y,a),m}(y,d,a);if(f.components.push(E),s[8]=E,m&&m.forEach(F=>F(E,a)),a.contentQueries){const F=Fi();a.contentQueries(1,E,F.directiveStart)}const I=Fi();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(Ns(I.index),Up(d[1],I,0,I.directiveStart,I.directiveEnd,a),Rm(a,E)),E}(On,this.componentDef,yt,Fe,[yv]),bl(Je,yt,null)}finally{ql()}return new Ly(this.componentType,Ht,gm(on,yt),yt,on)}}class Ly extends class BC{}{constructor(a,d,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new WC(m),this.componentType=a}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class mm{}class R1{}const _m=new Map;class L1 extends mm{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new P1(this);const f=Dn(a);this._bootstrapComponents=Aa(f.bootstrap),this._r3Injector=jm(a,d,[{provide:mm,useValue:this},{provide:I0,useValue:this.componentFactoryResolver}],$e(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,d=Ts.THROW_IF_NOT_FOUND,f=ke.Default){return a===Ts||a===mm||a===Lm?this:this._r3Injector.get(a,d,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class By extends R1{constructor(a){super(),this.moduleType=a,null!==Dn(a)&&function QC(s){const a=new Set;!function d(f){const m=Dn(f,!0),y=m.id;null!==y&&(function k1(s,a,d){if(a&&a!==d)throw new Error(`Duplicate module registered for ${s} - ${$e(a)} vs ${$e(a.name)}`)}(y,_m.get(y),f),_m.set(y,f));const E=Aa(m.imports);for(const I of E)a.has(I)||(a.add(I),d(I))}(s)}(a)}create(a){return new L1(this.moduleType,a)}}function XC(s,a,d){const f=Co()+s,m=At();return m[f]===ir?Uc(m,f,d?a.call(d):a()):function Ph(s,a){return s[a]}(m,f)}function ew(s,a,d,f){return U1(At(),Co(),s,a,d,f)}function tw(s,a,d,f,m){return nw(At(),Co(),s,a,d,f,m)}function B1(s,a,d,f,m,y){return function rw(s,a,d,f,m,y,E,I){const F=a+d;return function Vc(s,a,d,f,m){const y=jc(s,a,d,f);return hs(s,a+2,m)||y}(s,F,m,y,E)?Uc(s,F+3,I?f.call(I,m,y,E):f(m,y,E)):S_(s,F+3)}(At(),Co(),s,a,d,f,m,y)}function S_(s,a){const d=s[a];return d===ir?void 0:d}function U1(s,a,d,f,m,y){const E=a+d;return hs(s,E,m)?Uc(s,E+1,y?f.call(y,m):f(m)):S_(s,E+1)}function nw(s,a,d,f,m,y,E){const I=a+d;return jc(s,I,m,y)?Uc(s,I+2,E?f.call(E,m,y):f(m,y)):S_(s,I+2)}function iw(s,a){const d=Tr();let f;const m=s+20;d.firstCreatePass?(f=function aE(s,a){if(a)for(let d=a.length-1;d>=0;d--){const f=a[d];if(s===f.name)return f}}(a,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const y=f.factory||(f.factory=de(f.type)),E=ct(Yp);try{const I=_c(!1),F=y();return _c(I),function io(s,a,d,f){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=f}(d,At(),m,F),F}finally{ct(E)}}function G1(s,a,d){const f=s+20,m=At(),y=Os(m,f);return O0(m,f)?U1(m,Co(),a,y.transform,d,y):y.transform(d)}function ow(s,a,d,f){const m=s+20,y=At(),E=Os(y,m);return O0(y,m)?nw(y,Co(),a,E.transform,d,f,E):E.transform(d,f)}function O0(s,a){return s[1].data[a].pure}function Uy(s){return a=>{setTimeout(s,void 0,a)}}const Hh=class cw extends q.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,f){var m,y,E;let I=a,F=d||(()=>null),H=f;if(a&&"object"==typeof a){const ye=a;I=null===(m=ye.next)||void 0===m?void 0:m.bind(ye),F=null===(y=ye.error)||void 0===y?void 0:y.bind(ye),H=null===(E=ye.complete)||void 0===E?void 0:E.bind(ye)}this.__isAsync&&(F=Uy(F),I&&(I=Uy(I)),H&&(H=Uy(H)));const Q=super.subscribe({next:I,error:F,complete:H});return a instanceof X.w0&&a.add(Q),Q}};function P0(){return this._results[Td()]()}class H1{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Td(),f=H1.prototype;f[d]||(f[d]=P0)}get changes(){return this._changes||(this._changes=new Hh)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const f=this;f.dirty=!1;const m=Eo(a);(this._changesDetected=!function Ta(s,a,d){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let m=s[f],y=a[f];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let x_=(()=>{class s{}return s.__NG_ELEMENT_ID__=jy,s})();const $1=x_,$h=class extends $1{constructor(a,d,f){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(a){const d=this._declarationTContainer.tViews,f=yl(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),bl(d,f,a),new D_(f)}};function jy(){return xd(Fi(),At())}function xd(s,a){return 4&s.type?new $h(a,s,gm(s,a)):null}let N0=(()=>{class s{}return s.__NG_ELEMENT_ID__=lE,s})();function lE(){return Z1(Fi(),At())}const uE=N0,lw=class extends uE{constructor(a,d,f){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=f}get element(){return gm(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){const a=Vr(this._hostTNode,this._hostLView);if(Qn(a)){const d=Xs(a,this._hostLView),f=mc(a);return new Gr(d[1].data[f+8],d)}return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=q1(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,f){const m=a.createEmbeddedView(d||{});return this.insert(m,f),m}createComponent(a,d,f,m,y){const E=a&&!function Qa(s){return"function"==typeof s}(a);let I;if(E)I=d;else{const ye=d||{};I=ye.index,f=ye.injector,m=ye.projectableNodes,y=ye.ngModuleRef}const F=E?a:new Fy(Oe(a)),H=f||this.parentInjector;if(!y&&null==F.ngModule){const Fe=(E?H:this.parentInjector).get(mm,null);Fe&&(y=Fe)}const Q=F.create(H,m,void 0,y);return this.insert(Q.hostView,I),Q}insert(a,d){const f=a._lView,m=f[1];if(function Bl(s){return Ai(s[3])}(f)){const Q=this.indexOf(a);if(-1!==Q)this.detach(Q);else{const ye=f[3],Fe=new lw(ye,ye[6],ye[3]);Fe.detach(Fe.indexOf(a))}}const y=this._adjustIndex(d),E=this._lContainer;!function pf(s,a,d,f){const m=10+f,y=d.length;f>0&&(d[m-1][4]=a),f<y-10?(a[4]=d[m],zu(d,10+f,a)):(d.push(a),a[4]=null),a[3]=d;const E=a[17];null!==E&&d!==E&&function gf(s,a){const d=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===d?s[9]=[a]:d.push(a)}(E,a);const I=a[19];null!==I&&I.insertView(s),a[2]|=128}(m,f,E,y);const I=sc(y,E),F=f[11],H=uh(F,E[7]);return null!==H&&function Bs(s,a,d,f,m,y){f[0]=m,f[6]=a,Oc(s,f,d,1,m,y)}(m,E[6],F,f,H,I),a.attachToViewContainerRef(),zu(zf(E),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=q1(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),f=ds(this._lContainer,d);f&&(Hr(zf(this._lContainer),d),_f(f[1],f))}detach(a){const d=this._adjustIndex(a,-1),f=ds(this._lContainer,d);return f&&null!=Hr(zf(this._lContainer),d)?new D_(f):null}_adjustIndex(a,d=0){return null==a?this.length+d:a}};function q1(s){return s[8]}function zf(s){return s[8]||(s[8]=[])}function Z1(s,a){let d;const f=a[s.index];if(Ai(f))d=f;else{let m;if(8&s.type)m=pr(f);else{const y=a[11];m=y.createComment("");const E=Di(s,a);ic(y,uh(y,E),m,function dh(s,a){return jr(s)?s.nextSibling(a):a.nextSibling}(y,E),!1)}a[s.index]=d=W(f,a,m,s),br(a,d)}return new lw(d,s,a)}class Vy{constructor(a){this.queryList=a,this.matches=null}clone(){return new Vy(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gy{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const f=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let y=0;y<f;y++){const E=d.getByIndex(y);m.push(this.queries[E.indexInDeclarationView].clone())}return new Gy(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==gw(a,d).matches&&this.queries[d].setDirty()}}class ym{constructor(a,d,f=null){this.predicate=a,this.flags=d,this.read=f}}class $s{constructor(a=[]){this.queries=a}elementStart(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(a,m);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new $s(d):null}template(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class Hy{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new Hy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(a,d,hw(d,y)),this.matchTNodeWithReadOption(a,d,ys(d,a,y,!1,!1))}else f===x_?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,ys(d,a,f,!1,!1))}matchTNodeWithReadOption(a,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===E_||m===N0||m===x_&&4&d.type)this.addMatch(d.index,-2);else{const y=ys(d,a,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function hw(s,a){const d=s.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===a)return d[f+1];return null}function R0(s,a,d,f){return-1===d?function W1(s,a){return 11&s.type?gm(s,a):4&s.type?xd(s,a):null}(a,s):-2===d?function fw(s,a,d){return d===E_?gm(a,s):d===x_?xd(a,s):d===N0?Z1(a,s):void 0}(s,a,f):Kl(s,s[1],d,a)}function z1(s,a,d,f){const m=a[19].queries[f];if(null===m.matches){const y=s.data,E=d.matches,I=[];for(let F=0;F<E.length;F+=2){const H=E[F];I.push(H<0?null:R0(a,y[H],E[F+1],d.metadata.read))}m.matches=I}return m.matches}function A_(s,a,d,f){const m=s.queries.getByIndex(d),y=m.matches;if(null!==y){const E=z1(s,a,m,d);for(let I=0;I<y.length;I+=2){const F=y[I];if(F>0)f.push(E[I/2]);else{const H=y[I+1],Q=a[-F];for(let ye=10;ye<Q.length;ye++){const Fe=Q[ye];Fe[17]===Fe[3]&&A_(Fe[1],Fe,H,f)}if(null!==Q[9]){const ye=Q[9];for(let Fe=0;Fe<ye.length;Fe++){const Je=ye[Fe];A_(Je[1],Je,H,f)}}}}}return f}function $y(s){const a=At(),d=Tr(),f=Fd();Gl(f+1);const m=gw(d,f);if(s.dirty&&Ll(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const y=m.crossesNgTemplate?A_(d,a,f,[]):z1(d,a,m,f);s.reset(y,GC),s.notifyOnChanges()}return!0}return!1}function qy(s,a,d){const f=Tr();f.firstCreatePass&&(Wy(f,new ym(s,a,d),-1),2==(2&a)&&(f.staticViewQueries=!0)),pw(f,At(),a)}function k0(s,a,d,f){const m=Tr();if(m.firstCreatePass){const y=Fi();Wy(m,new ym(a,d,f),y.index),function hE(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(m,s),2==(2&d)&&(m.staticContentQueries=!0)}pw(m,At(),d)}function Zy(){return function K1(s,a){return s[19].queries[a].queryList}(At(),Fd())}function pw(s,a,d){const f=new H1(4==(4&d));Ou(s,a,f,f.destroy),null===a[19]&&(a[19]=new Gy),a[19].queries.push(new Vy(f))}function Wy(s,a,d){null===s.queries&&(s.queries=new $s),s.queries.track(new Hy(a,d))}function gw(s,a){return s.queries.getByIndex(a)}function mw(s,a){return xd(s,a)}function Xy(...s){}const Nw=new li("Application Initializer");let tb=(()=>{class s{constructor(d){this.appInits=d,this.resolve=Xy,this.reject=Xy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if($f(y))d.push(y);else if(Qp(y)){const E=new Promise((I,F)=>{y.subscribe({complete:I,error:F})});d.push(E)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(vr(Nw,8))},s.\u0275prov=Un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Rw=new li("AppId",{providedIn:"root",factory:function kw(){return`${j0()}${j0()}${j0()}`}});function j0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const nb=new li("Platform Initializer"),rb=new li("Platform ID"),ib=new li("appBootstrapListener");let tv=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Un({token:s,factory:s.\u0275fac}),s})();const nv=new li("LocaleId",{providedIn:"root",factory:()=>Cc(nv,ke.Optional|ke.SkipSelf)||function Lw(){return"undefined"!=typeof $localize&&$localize.locale||rg}()}),Bw=new li("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Uw{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let jw=(()=>{class s{compileModuleSync(d){return new By(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=Aa(Dn(d).declarations).reduce((E,I)=>{const F=Oe(I);return F&&E.push(new Fy(F)),E},[]);return new Uw(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Gw=(()=>Promise.resolve(0))();function rv(s){"undefined"==typeof Zone?Gw.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class kl{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Hh(!1),this.onMicrotaskEmpty=new Hh(!1),this.onStable=new Hh(!1),this.onError=new Hh(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function Hw(){let s=Bn.requestAnimationFrame,a=Bn.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function SE(s){const a=()=>{!function DE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Bn,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,sb(s),s.isCheckStableRunning=!0,iv(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),sb(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,y,E,I)=>{try{return ab(s),d.invokeTask(m,y,E,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&a(),$w(s)}},onInvoke:(d,f,m,y,E,I,F)=>{try{return ab(s),d.invoke(m,y,E,I,F)}finally{s.shouldCoalesceRunChangeDetection&&a(),$w(s)}},onHasTask:(d,f,m,y)=>{d.hasTask(m,y),f===m&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,sb(s),iv(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,m,y)=>(d.handleError(m,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!kl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(kl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,d,f){return this._inner.run(a,d,f)}runTask(a,d,f,m){const y=this._inner,E=y.scheduleEventTask("NgZoneEvent: "+m,a,ob,Xy,Xy);try{return y.runTask(E,d,f)}finally{y.cancelTask(E)}}runGuarded(a,d,f){return this._inner.runGuarded(a,d,f)}runOutsideAngular(a){return this._outer.run(a)}}const ob={};function iv(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function sb(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function ab(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function $w(s){s._nesting--,iv(s)}class xE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hh,this.onMicrotaskEmpty=new Hh,this.onStable=new Hh,this.onError=new Hh}run(a,d,f){return a.apply(d,f)}runGuarded(a,d,f){return a.apply(d,f)}runOutsideAngular(a){return a()}runTask(a,d,f,m){return a.apply(d,f)}}let qw=(()=>{class s{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{kl.assertNotInAngularZone(),rv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rv(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(E=>E.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,m){return[]}}return s.\u0275fac=function(d){return new(d||s)(vr(kl))},s.\u0275prov=Un({token:s,factory:s.\u0275fac}),s})(),Zw=(()=>{class s{constructor(){this._applications=new Map,cb.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return cb.findTestabilityInTree(this,d,f)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Un({token:s,factory:s.\u0275fac}),s})();class AE{addToWindow(a){}findTestabilityInTree(a,d,f){return null}}function IE(s){cb=s}let Ad,cb=new AE;const Ww=new li("AllowMultipleToken");class PE{constructor(a,d){this.name=a,this.token=d}}function lb(s,a,d=[]){const f=`Platform: ${a}`,m=new li(f);return(y=[])=>{let E=zw();if(!E||E.injector.get(Ww,!1))if(s)s(d.concat(y).concat({provide:m,useValue:!0}));else{const I=d.concat(y).concat({provide:m,useValue:!0},{provide:Um,useValue:"platform"});!function NE(s){if(Ad&&!Ad.destroyed&&!Ad.injector.get(Ww,!1))throw new Qe(400,"");Ad=s.get(Kw);const a=s.get(nb,null);a&&a.forEach(d=>d())}(Ts.create({providers:I,name:f}))}return function RE(s){const a=zw();if(!a)throw new Qe(401,"");return a}()}}function zw(){return Ad&&!Ad.destroyed?Ad:null}let Kw=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const I=function kE(s,a){let d;return d="noop"===s?new xE:("zone.js"===s?void 0:s)||new kl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),F=[{provide:kl,useValue:I}];return I.run(()=>{const H=Ts.create({providers:F,parent:this.injector,name:d.moduleType.name}),Q=d.create(H),ye=Q.injector.get(ho,null);if(!ye)throw new Qe(402,"");return I.runOutsideAngular(()=>{const Fe=I.onError.subscribe({next:Je=>{ye.handleError(Je)}});Q.onDestroy(()=>{Zc(this._modules,Q),Fe.unsubscribe()})}),function FE(s,a,d){try{const f=d();return $f(f)?f.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(ye,I,()=>{const Fe=Q.injector.get(tb);return Fe.runInitializers(),Fe.donePromise.then(()=>(function w_(s){(function Ln(s,a){null==s&&wn(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(e1=s.toLowerCase().replace(/_/g,"-"))}(Q.injector.get(nv,rg)||rg),this._moduleDoBootstrap(Q),Q))})})}bootstrapModule(d,f=[]){const m=ov({},f);return function ME(s,a,d){const f=new By(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const f=d.injector.get(ub);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Qe(403,"");d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(vr(Ts))},s.\u0275prov=Un({token:s,factory:s.\u0275fac}),s})();function ov(s,a){return Array.isArray(a)?a.reduce(ov,s):Object.assign(Object.assign({},s),a)}let ub=(()=>{class s{constructor(d,f,m,y,E){this._zone=d,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=E,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new J.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),F=new J.y(H=>{let Q;this._zone.runOutsideAngular(()=>{Q=this._zone.onStable.subscribe(()=>{kl.assertNotInAngularZone(),rv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const ye=this._zone.onUnstable.subscribe(()=>{kl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{Q.unsubscribe(),ye.unsubscribe()}});this.isStable=function G(...s){const a=(0,R.yG)(s),d=(0,R._6)(s,1/0),f=s;return f.length?1===f.length?(0,T.Xf)(f[0]):(0,t.J)(d)((0,O.D)(f,a)):S.E}(I,F.pipe((0,K.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Qe(405,"");let m;m=d instanceof UC?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const y=function OE(s){return s.isBoundToModule}(m)?void 0:this._injector.get(mm),I=m.create(Ts.NULL,[],f||m.selector,y),F=I.location.nativeElement,H=I.injector.get(qw,null),Q=H&&I.injector.get(Zw);return H&&Q&&Q.registerApplication(F,H),I.onDestroy(()=>{this.detachView(I.hostView),Zc(this.components,I),Q&&Q.unregisterApplication(F)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;Zc(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(ib,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(d){return new(d||s)(vr(kl),vr(Ts),vr(ho),vr(I0),vr(tb))},s.\u0275prov=Un({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Zc(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}let G0=(()=>{class s{}return s.__NG_ELEMENT_ID__=hb,s})();function hb(s){return function Yw(s,a,d){if(ns(s)&&!d){const f=Si(s.index,a);return new D_(f,f)}return 47&s.type?new D_(a[16],a):null}(Fi(),At(),16==(16&s))}class Qw{constructor(){}supports(a){return Oh(a)}create(a){return new $E(a)}}const HE=(s,a)=>a;class $E{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||HE}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,f=this._removalsHead,m=0,y=null;for(;d||f;){const E=!f||d&&d.currentIndex<lv(f,m,y)?d:f,I=lv(E,m,y),F=E.currentIndex;if(E===f)m--,f=f._nextRemoved;else if(d=d._next,null==E.previousIndex)m++;else{y||(y=[]);const H=I-m,Q=F-m;if(H!=Q){for(let Fe=0;Fe<H;Fe++){const Je=Fe<y.length?y[Fe]:y[Fe]=0,yt=Je+Fe;Q<=yt&&yt<H&&(y[Fe]=Je+1)}y[E.previousIndex]=Q-H}}I!==F&&a(E,I,F)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!Oh(a))throw new Qe(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,y,E,d=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)y=a[I],E=this._trackByFn(I,y),null!==d&&Object.is(d.trackById,E)?(f&&(d=this._verifyReinsertion(d,y,E,I)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,E,I),f=!0),d=d._next}else m=0,function Qg(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Td()]();let f;for(;!(f=d.next()).done;)a(f.value)}}(a,I=>{E=this._trackByFn(m,I),null!==d&&Object.is(d.trackById,E)?(f&&(d=this._verifyReinsertion(d,I,E,m)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,E,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,f,m){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,y,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,y,m)):a=this._addAfter(new qE(d,f),y,m),a}_verifyReinsertion(a,d,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?a=this._reinsertAfter(y,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,y=a._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(a,d,f),this._addToMoves(a,f),a}_moveAfter(a,d,f){return this._unlink(a),this._insertAfter(a,d,f),this._addToMoves(a,f),a}_addAfter(a,d,f){return this._insertAfter(a,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,f){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new vb),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,f=a._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class qE{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class yb{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const d=a._prevDup,f=a._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class vb{constructor(){this.map=new Map}put(a){const d=a.trackById;let f=this.map.get(d);f||(f=new yb,this.map.set(d,f)),f.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function lv(s,a,d){const f=s.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+a+m}class uv{constructor(){}supports(a){return a instanceof Map||Zp(a)}create(){return new bb}}class bb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||Zp(a)))throw new Qe(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const f=a._prev;return d._next=a,d._prev=f,a._prev=d,f&&(f._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const y=m._prev,E=m._next;return y&&(y._next=E),E&&(E._prev=y),m._next=null,m._prev=null,m}const f=new $0(a);return this._records.set(a,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(f=>d(a[f],f))}}class $0{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new Cm([new Qw])}let Cm=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||Cb()),deps:[[s,new Ec,new Tc]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new Qe(901,"")}}return s.\u0275prov=Un({token:s,providedIn:"root",factory:Cb}),s})();function dv(){return new qh([new uv])}let qh=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||dv()),deps:[[s,new Ec,new Tc]]}}find(d){const f=this.factories.find(y=>y.supports(d));if(f)return f;throw new Qe(901,"")}}return s.\u0275prov=Un({token:s,providedIn:"root",factory:dv}),s})();const tT=lb(null,"core",[{provide:rb,useValue:"unknown"},{provide:Kw,deps:[Ts]},{provide:Zw,deps:[]},{provide:tv,deps:[]}]);let nT=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(vr(ub))},s.\u0275mod=sr({type:s}),s.\u0275inj=Zi({}),s})()},9681:(tt,A,N)=>{"use strict";N.d(A,{C6:()=>pi,Jn:()=>Zi,KN:()=>zi,Mq:()=>Yr,Xd:()=>Ln,ZF:()=>ao,qX:()=>wn});var t=N(5861),T=N(4859),S=N(1877),R=N(2090);class O{constructor(Ke){this.container=Ke}getPlatformInfoString(){return this.container.getProviders().map(Tt=>{if(function G(Ct){const Ke=Ct.getComponent();return"VERSION"===(null==Ke?void 0:Ke.type)}(Tt)){const $t=Tt.getImmediate();return`${$t.library}/${$t.version}`}return null}).filter(Tt=>Tt).join(" ")}}const q="@firebase/app",X="0.7.19",J=new S.Yd("@firebase/app"),un="[DEFAULT]",xt={[q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Mt=new Map;function nn(Ct,Ke){try{Ct.container.addComponent(Ke)}catch(Tt){J.debug(`Component ${Ke.name} failed to register with FirebaseApp ${Ct.name}`,Tt)}}function Ln(Ct){const Ke=Ct.name;if(Mt.has(Ke))return J.debug(`There were multiple attempts to register component ${Ke}.`),!1;Mt.set(Ke,Ct);for(const Tt of Et.values())nn(Tt,Ct);return!0}function wn(Ct,Ke){const Tt=Ct.container.getProvider("heartbeat").getImmediate({optional:!0});return Tt&&Tt.triggerHeartbeat(),Ct.container.getProvider(Ke)}const Un=new R.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class kr{constructor(Ke,Tt,$t){this._isDeleted=!1,this._options=Object.assign({},Ke),this._config=Object.assign({},Tt),this._name=Tt.name,this._automaticDataCollectionEnabled=Tt.automaticDataCollectionEnabled,this._container=$t,this.container.addComponent(new T.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ke){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ke}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ke){this._isDeleted=Ke}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}const Zi="9.6.9";function ao(Ct,Ke={}){"object"!=typeof Ke&&(Ke={name:Ke});const Tt=Object.assign({name:un,automaticDataCollectionEnabled:!1},Ke),$t=Tt.name;if("string"!=typeof $t||!$t)throw Un.create("bad-app-name",{appName:String($t)});const yn=Et.get($t);if(yn){if((0,R.vZ)(Ct,yn.options)&&(0,R.vZ)(Tt,yn.config))return yn;throw Un.create("duplicate-app",{appName:$t})}const dn=new T.H0($t);for(const he of Mt.values())dn.addComponent(he);const we=new kr(Ct,Tt,dn);return Et.set($t,we),we}function Yr(Ct=un){const Ke=Et.get(Ct);if(!Ke)throw Un.create("no-app",{appName:Ct});return Ke}function pi(){return Array.from(Et.values())}function zi(Ct,Ke,Tt){var $t;let yn=null!==($t=xt[Ct])&&void 0!==$t?$t:Ct;Tt&&(yn+=`-${Tt}`);const dn=yn.match(/\s|\//),we=Ke.match(/\s|\//);if(dn||we){const he=[`Unable to register library "${yn}" with version "${Ke}":`];return dn&&he.push(`library name "${yn}" contains illegal characters (whitespace or "/")`),dn&&we&&he.push("and"),we&&he.push(`version name "${Ke}" contains illegal characters (whitespace or "/")`),void J.warn(he.join(" "))}Ln(new T.wA(`${yn}-version`,()=>({library:yn,version:Ke}),"VERSION"))}const st="firebase-heartbeat-store";let et=null;function ct(){return et||(et=(0,R.X3)("firebase-heartbeat-database",1,(Ct,Ke)=>{0===Ke&&Ct.createObjectStore(st)}).catch(Ct=>{throw Un.create("storage-open",{originalErrorMessage:Ct.message})})),et}function Lt(){return(Lt=(0,t.Z)(function*(Ct){try{return(yield ct()).transaction(st).objectStore(st).get(pn(Ct))}catch(Ke){throw Un.create("storage-get",{originalErrorMessage:Ke.message})}})).apply(this,arguments)}function gt(Ct,Ke){return St.apply(this,arguments)}function St(){return(St=(0,t.Z)(function*(Ct,Ke){try{const $t=(yield ct()).transaction(st,"readwrite");return yield $t.objectStore(st).put(Ke,pn(Ct)),$t.complete}catch(Tt){throw Un.create("storage-set",{originalErrorMessage:Tt.message})}})).apply(this,arguments)}function pn(Ct){return`${Ct.name}!${Ct.options.appId}`}class xn{constructor(Ke){this.container=Ke,this._heartbeatsCache=null;const Tt=this.container.getProvider("app").getImmediate();this._storage=new Sn(Tt),this._heartbeatsCachePromise=this._storage.read().then($t=>(this._heartbeatsCache=$t,$t))}triggerHeartbeat(){var Ke=this;return(0,t.Z)(function*(){const $t=Ke.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),yn=_n();if(null===Ke._heartbeatsCache&&(Ke._heartbeatsCache=yield Ke._heartbeatsCachePromise),Ke._heartbeatsCache.lastSentHeartbeatDate!==yn&&!Ke._heartbeatsCache.heartbeats.some(dn=>dn.date===yn))return Ke._heartbeatsCache.heartbeats.push({date:yn,agent:$t}),Ke._heartbeatsCache.heartbeats=Ke._heartbeatsCache.heartbeats.filter(dn=>{const we=new Date(dn.date).valueOf();return Date.now()-we<=2592e6}),Ke._storage.overwrite(Ke._heartbeatsCache)})()}getHeartbeatsHeader(){var Ke=this;return(0,t.Z)(function*(){if(null===Ke._heartbeatsCache&&(yield Ke._heartbeatsCachePromise),null===Ke._heartbeatsCache||0===Ke._heartbeatsCache.heartbeats.length)return"";const Tt=_n(),{heartbeatsToSend:$t,unsentEntries:yn}=function Yn(Ct,Ke=1024){const Tt=[];let $t=Ct.slice();for(const yn of Ct){const dn=Tt.find(we=>we.agent===yn.agent);if(dn){if(dn.dates.push(yn.date),Bn(Tt)>Ke){dn.dates.pop();break}}else if(Tt.push({agent:yn.agent,dates:[yn.date]}),Bn(Tt)>Ke){Tt.pop();break}$t=$t.slice(1)}return{heartbeatsToSend:Tt,unsentEntries:$t}}(Ke._heartbeatsCache.heartbeats),dn=(0,R.L)(JSON.stringify({version:2,heartbeats:$t}));return Ke._heartbeatsCache.lastSentHeartbeatDate=Tt,yn.length>0?(Ke._heartbeatsCache.heartbeats=yn,yield Ke._storage.overwrite(Ke._heartbeatsCache)):(Ke._heartbeatsCache.heartbeats=[],Ke._storage.overwrite(Ke._heartbeatsCache)),dn})()}}function _n(){return(new Date).toISOString().substring(0,10)}class Sn{constructor(Ke){this.app=Ke,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,t.Z)(function*(){return!!(0,R.hl)()&&(0,R.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ke=this;return(0,t.Z)(function*(){return(yield Ke._canUseIndexedDBPromise)&&(yield function Ot(Ct){return Lt.apply(this,arguments)}(Ke.app))||{heartbeats:[]}})()}overwrite(Ke){var Tt=this;return(0,t.Z)(function*(){var $t;if(yield Tt._canUseIndexedDBPromise){const dn=yield Tt.read();return gt(Tt.app,{lastSentHeartbeatDate:null!==($t=Ke.lastSentHeartbeatDate)&&void 0!==$t?$t:dn.lastSentHeartbeatDate,heartbeats:Ke.heartbeats})}})()}add(Ke){var Tt=this;return(0,t.Z)(function*(){var $t;if(yield Tt._canUseIndexedDBPromise){const dn=yield Tt.read();return gt(Tt.app,{lastSentHeartbeatDate:null!==($t=Ke.lastSentHeartbeatDate)&&void 0!==$t?$t:dn.lastSentHeartbeatDate,heartbeats:[...dn.heartbeats,...Ke.heartbeats]})}})()}}function Bn(Ct){return(0,R.L)(JSON.stringify({version:2,heartbeats:Ct})).length}!function En(Ct){Ln(new T.wA("platform-logger",Ke=>new O(Ke),"PRIVATE")),Ln(new T.wA("heartbeat",Ke=>new xn(Ke),"PRIVATE")),zi(q,X,Ct),zi(q,X,"esm2017"),zi("fire-js","")}("")},4859:(tt,A,N)=>{"use strict";N.d(A,{H0:()=>X,wA:()=>S});var t=N(5861),T=N(2090);class S{constructor(K,ee,ve){this.name=K,this.instanceFactory=ee,this.type=ve,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const R="[DEFAULT]";class O{constructor(K,ee){this.name=K,this.container=ee,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ee=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ee)){const ve=new T.BH;if(this.instancesDeferred.set(ee,ve),this.isInitialized(ee)||this.shouldAutoInitialize())try{const $e=this.getOrInitializeService({instanceIdentifier:ee});$e&&ve.resolve($e)}catch($e){}}return this.instancesDeferred.get(ee).promise}getImmediate(K){var ee;const ve=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),$e=null!==(ee=null==K?void 0:K.optional)&&void 0!==ee&&ee;if(!this.isInitialized(ve)&&!this.shouldAutoInitialize()){if($e)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ve})}catch(Ze){if($e)return null;throw Ze}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function q(J){return"EAGER"===J.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:R})}catch(ee){}for(const[ee,ve]of this.instancesDeferred.entries()){const $e=this.normalizeInstanceIdentifier(ee);try{const Ze=this.getOrInitializeService({instanceIdentifier:$e});ve.resolve(Ze)}catch(Ze){}}}}clearInstance(K=R){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,t.Z)(function*(){const ee=Array.from(K.instances.values());yield Promise.all([...ee.filter(ve=>"INTERNAL"in ve).map(ve=>ve.INTERNAL.delete()),...ee.filter(ve=>"_delete"in ve).map(ve=>ve._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=R){return this.instances.has(K)}getOptions(K=R){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ee={}}=K,ve=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ve))throw Error(`${this.name}(${ve}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const $e=this.getOrInitializeService({instanceIdentifier:ve,options:ee});for(const[Ze,Xe]of this.instancesDeferred.entries())ve===this.normalizeInstanceIdentifier(Ze)&&Xe.resolve($e);return $e}onInit(K,ee){var ve;const $e=this.normalizeInstanceIdentifier(ee),Ze=null!==(ve=this.onInitCallbacks.get($e))&&void 0!==ve?ve:new Set;Ze.add(K),this.onInitCallbacks.set($e,Ze);const Xe=this.instances.get($e);return Xe&&K(Xe,$e),()=>{Ze.delete(K)}}invokeOnInitCallbacks(K,ee){const ve=this.onInitCallbacks.get(ee);if(ve)for(const $e of ve)try{$e(K,ee)}catch(Ze){}}getOrInitializeService({instanceIdentifier:K,options:ee={}}){let ve=this.instances.get(K);if(!ve&&this.component&&(ve=this.component.instanceFactory(this.container,{instanceIdentifier:(J=K,J===R?void 0:J),options:ee}),this.instances.set(K,ve),this.instancesOptions.set(K,ee),this.invokeOnInitCallbacks(ve,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ve)}catch($e){}var J;return ve||null}normalizeInstanceIdentifier(K=R){return this.component?this.component.multipleInstances?K:R:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class X{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ee=this.getProvider(K.name);if(ee.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ee.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ee=new O(K,this);return this.providers.set(K,ee),ee}getProviders(){return Array.from(this.providers.values())}}},1877:(tt,A,N)=>{"use strict";N.d(A,{Yd:()=>q,in:()=>T});const t=[];var T=(()=>{return(K=T||(T={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",T;var K})();const S={debug:T.DEBUG,verbose:T.VERBOSE,info:T.INFO,warn:T.WARN,error:T.ERROR,silent:T.SILENT},R=T.INFO,O={[T.DEBUG]:"log",[T.VERBOSE]:"log",[T.INFO]:"info",[T.WARN]:"warn",[T.ERROR]:"error"},G=(K,ee,...ve)=>{if(ee<K.logLevel)return;const $e=(new Date).toISOString(),Ze=O[ee];if(!Ze)throw new Error(`Attempted to log a message with an invalid logType (value: ${ee})`);console[Ze](`[${$e}]  ${K.name}:`,...ve)};class q{constructor(ee){this.name=ee,this._logLevel=R,this._logHandler=G,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(ee){if(!(ee in T))throw new TypeError(`Invalid value "${ee}" assigned to \`logLevel\``);this._logLevel=ee}setLogLevel(ee){this._logLevel="string"==typeof ee?S[ee]:ee}get logHandler(){return this._logHandler}set logHandler(ee){if("function"!=typeof ee)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ee}get userLogHandler(){return this._userLogHandler}set userLogHandler(ee){this._userLogHandler=ee}debug(...ee){this._userLogHandler&&this._userLogHandler(this,T.DEBUG,...ee),this._logHandler(this,T.DEBUG,...ee)}log(...ee){this._userLogHandler&&this._userLogHandler(this,T.VERBOSE,...ee),this._logHandler(this,T.VERBOSE,...ee)}info(...ee){this._userLogHandler&&this._userLogHandler(this,T.INFO,...ee),this._logHandler(this,T.INFO,...ee)}warn(...ee){this._userLogHandler&&this._userLogHandler(this,T.WARN,...ee),this._logHandler(this,T.WARN,...ee)}error(...ee){this._userLogHandler&&this._userLogHandler(this,T.ERROR,...ee),this._logHandler(this,T.ERROR,...ee)}}},5861:(tt,A,N)=>{"use strict";function t(S,R,O,G,q,X,J){try{var K=S[X](J),ee=K.value}catch(ve){return void O(ve)}K.done?R(ee):Promise.resolve(ee).then(G,q)}function T(S){return function(){var R=this,O=arguments;return new Promise(function(G,q){var X=S.apply(R,O);function J(ee){t(X,G,q,J,K,"next",ee)}function K(ee){t(X,G,q,J,K,"throw",ee)}J(void 0)})}}N.d(A,{Z:()=>T})}},tt=>{tt(tt.s=5602)}]);