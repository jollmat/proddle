(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(nt,A,M)=>{"use strict";M.d(A,{nm:()=>$t});var t=M(5813),P=(M(5e3),M(3692),M(5867),M(5861)),j=M(9681),$=M(4859),z=M(2090),J=M(1877);const W=new Map,ne={activated:!1,tokenObservers:[]},ae={initialized:!1,enabled:!1};function Je(Fe){return W.get(Fe)||ne}function $e(Fe,Oe){W.set(Fe,Oe)}function Ge(){return ae}class qe{constructor(Oe,ot,St,Mt,Yt){if(this.operation=Oe,this.retryPolicy=ot,this.getWaitDuration=St,this.lowerBound=Mt,this.upperBound=Yt,this.pending=null,this.nextErrorWaitInterval=Mt,Mt>Yt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(Oe){var ot=this;return(0,P.Z)(function*(){ot.stop();try{ot.pending=new z.BH,yield function we(Fe){return new Promise(Oe=>{setTimeout(Oe,Fe)})}(ot.getNextRun(Oe)),ot.pending.resolve(),yield ot.pending.promise,ot.pending=new z.BH,yield ot.operation(),ot.pending.resolve(),yield ot.pending.promise,ot.process(!0).catch(()=>{})}catch(St){ot.retryPolicy(St)?ot.process(!1).catch(()=>{}):ot.stop()}})()}getNextRun(Oe){if(Oe)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const ot=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),ot}}}const Ie=new z.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function se(Fe){if(!Je(Fe).activated)throw Ie.create("use-before-activation",{appName:Fe.name})}function Pe(Fe,Oe){return de.apply(this,arguments)}function de(){return(de=(0,P.Z)(function*({url:Fe,body:Oe},ot){const St={"Content-Type":"application/json"},Mt=ot.getImmediate({optional:!0});if(Mt){const qr=yield Mt.getHeartbeatsHeader();qr&&(St["X-Firebase-Client"]=qr)}const Yt={method:"POST",body:JSON.stringify(Oe),headers:St};let sr,Mr;try{sr=yield fetch(Fe,Yt)}catch(qr){throw Ie.create("fetch-network-error",{originalErrorMessage:qr.message})}if(200!==sr.status)throw Ie.create("fetch-status-error",{httpStatus:sr.status});try{Mr=yield sr.json()}catch(qr){throw Ie.create("fetch-parse-error",{originalErrorMessage:qr.message})}const pr=Mr.ttl.match(/^([\d.]+)(s)$/);if(!pr||!pr[2]||isNaN(Number(pr[1])))throw Ie.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Mr.ttl}`});const ui=1e3*Number(pr[1]),rs=Date.now();return{token:Mr.attestationToken,expireTimeMillis:rs+ui,issuedAtTimeMillis:rs}})).apply(this,arguments)}function pn(Fe,Oe){const{projectId:ot,appId:St,apiKey:Mt}=Fe.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${ot}/apps/${St}:exchangeDebugToken?key=${Mt}`,body:{debug_token:Oe}}}const xt="firebase-app-check-store";let tr=null;function Fn(){return tr||(tr=new Promise((Fe,Oe)=>{try{const ot=indexedDB.open("firebase-app-check-database",1);ot.onsuccess=St=>{Fe(St.target.result)},ot.onerror=St=>{var Mt;Oe(Ie.create("storage-open",{originalErrorMessage:null===(Mt=St.target.error)||void 0===Mt?void 0:Mt.message}))},ot.onupgradeneeded=St=>{0===St.oldVersion&&St.target.result.createObjectStore(xt,{keyPath:"compositeKey"})}}catch(ot){Oe(Ie.create("storage-open",{originalErrorMessage:ot.message}))}}),tr)}function xr(){return(xr=(0,P.Z)(function*(Fe,Oe){const St=(yield Fn()).transaction(xt,"readwrite"),Yt=St.objectStore(xt).put({compositeKey:Fe,value:Oe});return new Promise((sr,Mr)=>{Yt.onsuccess=pr=>{sr()},St.onerror=pr=>{var ui;Mr(Ie.create("storage-set",{originalErrorMessage:null===(ui=pr.target.error)||void 0===ui?void 0:ui.message}))}})})).apply(this,arguments)}const Br=new J.Yd("@firebase/app-check");function Ni(Fe,Oe){return(0,z.hl)()?function rr(Fe,Oe){return function mr(Fe,Oe){return xr.apply(this,arguments)}(function Fr(Fe){return`${Fe.options.appId}-${Fe.name}`}(Fe),Oe)}(Fe,Oe).catch(ot=>{Br.warn(`Failed to write token to IndexedDB. Error: ${ot}`)}):Promise.resolve()}function Re(){return Ge().enabled}function Qe(){return ct.apply(this,arguments)}function ct(){return(ct=(0,P.Z)(function*(){const Fe=Ge();if(Fe.enabled&&Fe.token)return Fe.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const yt={error:"UNKNOWN_ERROR"};function kt(Fe){return z.US.encodeString(JSON.stringify(Fe),!1)}function Pt(Fe){return Ct.apply(this,arguments)}function Ct(){return(Ct=(0,P.Z)(function*(Fe,Oe=!1){const ot=Fe.app;se(ot);const St=Je(ot);let Yt,Mt=St.token;if(!Mt){const pr=yield St.cachedTokenPromise;pr&&Cn(pr)&&(Mt=pr)}if(!Oe&&Mt&&Cn(Mt))return{token:Mt.token};let Mr,sr=!1;if(Re()){St.exchangeTokenPromise||(St.exchangeTokenPromise=Pe(pn(ot,yield Qe()),Fe.heartbeatServiceProvider).then(ui=>(St.exchangeTokenPromise=void 0,ui)),sr=!0);const pr=yield St.exchangeTokenPromise;return yield Ni(ot,pr),$e(ot,Object.assign(Object.assign({},St),{token:pr})),{token:pr.token}}try{St.exchangeTokenPromise||(St.exchangeTokenPromise=St.provider.getToken().then(pr=>(St.exchangeTokenPromise=void 0,pr)),sr=!0),Mt=yield St.exchangeTokenPromise}catch(pr){"appCheck/throttled"===pr.code?Br.warn(pr.message):Br.error(pr),Yt=pr}return Mt?(Mr={token:Mt.token},$e(ot,Object.assign(Object.assign({},St),{token:Mt})),yield Ni(ot,Mt)):Mr=Wn(Yt),sr&&Mn(ot,Mr),Mr})).apply(this,arguments)}function mn(Fe,Oe){const ot=Je(Fe),St=ot.tokenObservers.filter(Mt=>Mt.next!==Oe);0===St.length&&ot.tokenRefresher&&ot.tokenRefresher.isRunning()&&ot.tokenRefresher.stop(),$e(Fe,Object.assign(Object.assign({},ot),{tokenObservers:St}))}function tn(Fe){const{app:Oe}=Fe,ot=Je(Oe);let St=ot.tokenRefresher;St||(St=function Xt(Fe){const{app:Oe}=Fe;return new qe((0,P.Z)(function*(){let St;if(St=Je(Oe).token?yield Pt(Fe,!0):yield Pt(Fe),St.error)throw St.error}),()=>!0,()=>{const ot=Je(Oe);if(ot.token){let St=ot.token.issuedAtTimeMillis+.5*(ot.token.expireTimeMillis-ot.token.issuedAtTimeMillis)+3e5;return St=Math.min(St,ot.token.expireTimeMillis-3e5),Math.max(0,St-Date.now())}return 0},3e4,96e4)}(Fe),$e(Oe,Object.assign(Object.assign({},ot),{tokenRefresher:St}))),!St.isRunning()&&ot.isTokenAutoRefreshEnabled&&St.start()}function Mn(Fe,Oe){const ot=Je(Fe).tokenObservers;for(const St of ot)try{"EXTERNAL"===St.type&&null!=Oe.error?St.error(Oe.error):St.next(Oe)}catch(Mt){}}function Cn(Fe){return Fe.expireTimeMillis-Date.now()>0}function Wn(Fe){return{token:kt(yt),error:Fe}}class Ht{constructor(Oe,ot){this.app=Oe,this.heartbeatServiceProvider=ot}_delete(){const{tokenObservers:Oe}=Je(this.app);for(const ot of Oe)mn(this.app,ot.next);return Promise.resolve()}}const jt="app-check-internal";!function Bt(){(0,j._registerComponent)(new $.wA("app-check",Fe=>function vr(Fe,Oe){return new Ht(Fe,Oe)}(Fe.getProvider("app").getImmediate(),Fe.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Fe,Oe,ot)=>{Fe.getProvider(jt).initialize()})),(0,j._registerComponent)(new $.wA(jt,Fe=>function Dn(Fe){return{getToken:Oe=>Pt(Fe,Oe),addTokenListener:Oe=>function Lt(Fe,Oe,ot,St){const{app:Mt}=Fe,Yt=Je(Mt),sr={next:ot,error:St,type:Oe};if($e(Mt,Object.assign(Object.assign({},Yt),{tokenObservers:[...Yt.tokenObservers,sr]})),Yt.token&&Cn(Yt.token)){const Mr=Yt.token;Promise.resolve().then(()=>{ot({token:Mr.token}),tn(Fe)}).catch(()=>{})}Yt.cachedTokenPromise.then(()=>tn(Fe))}(Fe,"INTERNAL",Oe),removeTokenListener:Oe=>mn(Fe.app,Oe)}}(Fe.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)("@firebase/app-check","0.5.4")}();class $t{constructor(){return(0,t.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(nt,A,M)=>{"use strict";M.d(A,{Ot:()=>N,ZF:()=>ue,hX:()=>Je,z6:()=>P});var t=M(5867),C=M(5e3),E=M(5813);class N{constructor(qe){return qe}}class P{constructor(){return(0,t.C6)()}}const z=new C.OlP("angularfire2._apps"),J={provide:N,useFactory:function $(Be){return Be&&1===Be.length?Be[0]:new N((0,t.Mq)())},deps:[[new C.FiY,z]]},W={provide:P,deps:[[new C.FiY,z]]};function ne(Be){return(qe,we)=>{const He=qe.runOutsideAngular(()=>Be(we));return new N(He)}}let ae=(()=>{class Be{constructor(we){(0,t.KN)("angularfire",E.q4.full,"core"),(0,t.KN)("angularfire",E.q4.full,"app"),(0,t.KN)("angular",C.q4F.full,we.toString())}}return Be.\u0275fac=function(we){return new(we||Be)(C.LFG(C.Lbi))},Be.\u0275mod=C.oAB({type:Be}),Be.\u0275inj=C.cJS({providers:[J,W]}),Be})();function Je(Be,...qe){return{ngModule:ae,providers:[{provide:z,useFactory:ne(Be),multi:!0,deps:[C.R0b,C.zs3,E.HU,...qe]}]}}const ue=(0,E.u3)(t.ZF,!0)},2011:(nt,A,M)=>{"use strict";M.d(A,{Dh:()=>$,GT:()=>P,cc:()=>Je,on:()=>J,pX:()=>N,xv:()=>z});var t=M(5e3),C=M(127);nt=M.hmd(nt);const E=["ngOnDestroy"],N=(ue,Me,De,rt={})=>new Proxy(ue,{get:(Be,qe)=>De.runOutsideAngular(()=>{var we;if(ue[qe])return(null===(we=null==rt?void 0:rt.spy)||void 0===we?void 0:we.get)&&rt.spy.get(qe,ue[qe]),ue[qe];if(E.indexOf(qe)>-1)return()=>{};const He=Me.toPromise().then(Ie=>{const it=Ie&&Ie[qe];return"function"==typeof it?it.bind(Ie):it&&it.then?it.then(se=>De.run(()=>se)):De.run(()=>it)});return new Proxy(()=>{},{get:(Ie,it)=>He[it],apply:(Ie,it,se)=>He.then(oe=>{var Q;const ge=oe&&oe(...se);return(null===(Q=null==rt?void 0:rt.spy)||void 0===Q?void 0:Q.apply)&&rt.spy.apply(qe,se,ge),ge})})})}),P=(ue,Me)=>{Me.forEach(De=>{Object.getOwnPropertyNames(De.prototype||De).forEach(rt=>{Object.defineProperty(ue.prototype,rt,Object.getOwnPropertyDescriptor(De.prototype||De,rt))})})};class j{constructor(Me){return Me}}const $=new t.OlP("angularfire2.app.options"),z=new t.OlP("angularfire2.app.name");function J(ue,Me,De){const Be="object"==typeof De&&De||{};Be.name=Be.name||"string"==typeof De&&De||"[DEFAULT]";const we=C.Z.apps.filter(He=>He&&He.name===Be.name)[0]||Me.runOutsideAngular(()=>C.Z.initializeApp(ue,Be));try{JSON.stringify(ue)!==JSON.stringify(we.options)&&W("error",`${we.name} Firebase App already initialized with different options${nt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(He){}return new j(we)}const W=(ue,...Me)=>{(0,t.X6Q)()&&"undefined"!=typeof console&&console[ue](...Me)};function Je(ue,Me,De,rt,Be){const[,qe,we]=globalThis.\u0275AngularfireInstanceCache.find(He=>He[0]===ue)||[];if(qe)return function $e(ue,Me){try{return ue.toString()===Me.toString()}catch(De){return ue===Me}}(Be,we)||(ut("error",`${Me} was already initialized on the ${De} Firebase App with different settings.${Ge?" You may need to reload as Firebase is not HMR aware.":""}`),ut("warn",{is:Be,was:we})),qe;{const He=rt();return globalThis.\u0275AngularfireInstanceCache.push([ue,He,Be]),He}}const Ge=!!nt.hot,ut=(ue,...Me)=>{(0,t.X6Q)()&&"undefined"!=typeof console&&console[ue](...Me)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(nt,A,M)=>{"use strict";M.d(A,{gg:()=>fs,ET:()=>Qc,hJ:()=>Ks,BS:()=>Ch,JU:()=>Ao,ad:()=>Ys,Cm:()=>bh});var t=M(5813),C=M(5e3),E=M(3692),N=M(5867),P=M(5861),j=M(2090),$=M(9681),z=M(655),J=M(1877),W=M(4859);const De=function ue(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},rt=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qe=new J.Yd("@firebase/auth");function we(S,..._){qe.logLevel<=J.in.ERROR&&qe.error(`Auth (${$.SDK_VERSION}): ${S}`,..._)}function He(S,..._){throw oe(S,..._)}function Ie(S,..._){return oe(S,..._)}function it(S,_,w){const R=Object.assign(Object.assign({},De()),{[_]:w});return new j.LL("auth","Firebase",R).create(_,{appName:S.name})}function oe(S,..._){if("string"!=typeof S){const w=_[0],R=[..._.slice(1)];return R[0]&&(R[0].appName=S.name),S._errorFactory.create(w,...R)}return rt.create(S,..._)}function Q(S,_,...w){if(!S)throw oe(_,...w)}function ge(S){const _="INTERNAL ASSERTION FAILED: "+S;throw we(_),new Error(_)}function Pe(S,_){S||ge(_)}const de=new Map;function gt(S){Pe(S instanceof Function,"Expected a class definition");let _=de.get(S);return _?(Pe(_ instanceof S,"Instance stored in cache mismatched with class"),_):(_=new S,de.set(S,_),_)}function xt(){var S;return"undefined"!=typeof self&&(null===(S=self.location)||void 0===S?void 0:S.protocol)||null}class Fn{constructor(_,w){this.shortDelay=_,this.longDelay=w,Pe(w>_,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function cn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function mt(){return"http:"===xt()||"https:"===xt()}()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class rr{static initialize(_,w,R){this.fetchImpl=_,w&&(this.headersImpl=w),R&&(this.responseImpl=R)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ge("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ge("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ge("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Xn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Hr=new Fn(3e4,6e4);function xr(S,_,w,R){return ki.apply(this,arguments)}function ki(){return(ki=(0,P.Z)(function*(S,_,w,R,ie={}){return wi(S,ie,(0,P.Z)(function*(){let ve={},lt={};R&&("GET"===_?lt=R:ve={body:JSON.stringify(R)});const Ft=(0,j.xO)(Object.assign({key:S.config.apiKey},lt)).slice(1),vn=yield S._getAdditionalHeaders();return vn["Content-Type"]="application/json",S.languageCode&&(vn["X-Firebase-Locale"]=S.languageCode),rr.fetch()(gn(S,S.config.apiHost,w,Ft),Object.assign({method:_,headers:vn,referrerPolicy:"no-referrer"},ve))}))})).apply(this,arguments)}function wi(S,_,w){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,P.Z)(function*(S,_,w){S._canInitEmulator=!1;const R=Object.assign(Object.assign({},Xn),_);try{const ie=new Ni(S),ve=yield Promise.race([w(),ie.promise]);ie.clearNetworkTimeout();const lt=yield ve.json();if("needConfirmation"in lt)throw Vr(S,"account-exists-with-different-credential",lt);if(ve.ok&&!("errorMessage"in lt))return lt;{const Ft=ve.ok?lt.errorMessage:lt.error.message,[vn,Un]=Ft.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===vn)throw Vr(S,"credential-already-in-use",lt);if("EMAIL_EXISTS"===vn)throw Vr(S,"email-already-in-use",lt);const hr=R[vn]||vn.toLowerCase().replace(/[_\s]+/g,"-");if(Un)throw it(S,hr,Un);He(S,hr)}}catch(ie){if(ie instanceof j.ZR)throw ie;He(S,"network-request-failed")}})).apply(this,arguments)}function gn(S,_,w,R){const ie=`${_}${w}?${R}`;return S.config.emulator?function yr(S,_){Pe(S.emulator,"Emulator should always be set here");const{url:w}=S.emulator;return _?`${w}${_.startsWith("/")?_.slice(1):_}`:w}(S.config,ie):`${S.config.apiScheme}://${ie}`}class Ni{constructor(_){this.auth=_,this.timer=null,this.promise=new Promise((w,R)=>{this.timer=setTimeout(()=>R(Ie(this.auth,"network-request-failed")),Hr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Vr(S,_,w){const R={appName:S.name};w.email&&(R.email=w.email),w.phoneNumber&&(R.phoneNumber=w.phoneNumber);const ie=Ie(S,_,R);return ie.customData._tokenResponse=w,ie}function Re(){return(Re=(0,P.Z)(function*(S,_){return xr(S,"POST","/v1/accounts:delete",_)})).apply(this,arguments)}function Xe(S,_){return yt.apply(this,arguments)}function yt(){return(yt=(0,P.Z)(function*(S,_){return xr(S,"POST","/v1/accounts:lookup",_)})).apply(this,arguments)}function kt(S){if(S)try{const _=new Date(Number(S));if(!isNaN(_.getTime()))return _.toUTCString()}catch(_){}}function Lt(){return(Lt=(0,P.Z)(function*(S,_=!1){const w=(0,j.m9)(S),R=yield w.getIdToken(_),ie=tn(R);Q(ie&&ie.exp&&ie.auth_time&&ie.iat,w.auth,"internal-error");const ve="object"==typeof ie.firebase?ie.firebase:void 0,lt=null==ve?void 0:ve.sign_in_provider;return{claims:ie,token:R,authTime:kt(mn(ie.auth_time)),issuedAtTime:kt(mn(ie.iat)),expirationTime:kt(mn(ie.exp)),signInProvider:lt||null,signInSecondFactor:(null==ve?void 0:ve.sign_in_second_factor)||null}})).apply(this,arguments)}function mn(S){return 1e3*Number(S)}function tn(S){const[_,w,R]=S.split(".");if(void 0===_||void 0===w||void 0===R)return we("JWT malformed, contained fewer than 3 sections"),null;try{const ie=(0,j.tV)(w);return ie?JSON.parse(ie):(we("Failed to decode base64 JWT payload"),null)}catch(ie){return we("Caught error parsing JWT payload as JSON",ie),null}}function Mn(S,_){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(S,_,w=!1){if(w)return _;try{return yield _}catch(R){throw R instanceof j.ZR&&Wn(R)&&S.auth.currentUser===S&&(yield S.auth.signOut()),R}})).apply(this,arguments)}function Wn({code:S}){return"auth/user-disabled"===S||"auth/user-token-expired"===S}class Ht{constructor(_){this.user=_,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(_){var w;if(_){const R=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),R}{this.errorBackoff=3e4;const ie=(null!==(w=this.user.stsTokenManager.expirationTime)&&void 0!==w?w:0)-Date.now()-3e5;return Math.max(0,ie)}}schedule(_=!1){var w=this;if(!this.isRunning)return;const R=this.getInterval(_);this.timerId=setTimeout((0,P.Z)(function*(){yield w.iteration()}),R)}iteration(){var _=this;return(0,P.Z)(function*(){try{yield _.user.getIdToken(!0)}catch(w){return void("auth/network-request-failed"===w.code&&_.schedule(!0))}_.schedule()})()}}class vr{constructor(_,w){this.createdAt=_,this.lastLoginAt=w,this._initializeTime()}_initializeTime(){this.lastSignInTime=kt(this.lastLoginAt),this.creationTime=kt(this.createdAt)}_copy(_){this.createdAt=_.createdAt,this.lastLoginAt=_.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Dn(S){return Tt.apply(this,arguments)}function Tt(){return(Tt=(0,P.Z)(function*(S){var _;const w=S.auth,R=yield S.getIdToken(),ie=yield Mn(S,Xe(w,{idToken:R}));Q(null==ie?void 0:ie.users.length,w,"internal-error");const ve=ie.users[0];S._notifyReloadListener(ve);const lt=(null===(_=ve.providerUserInfo)||void 0===_?void 0:_.length)?In(ve.providerUserInfo):[],Ft=zt(S.providerData,lt),hr=!!S.isAnonymous&&!(S.email&&ve.passwordHash||(null==Ft?void 0:Ft.length)),si={uid:ve.localId,displayName:ve.displayName||null,photoURL:ve.photoUrl||null,email:ve.email||null,emailVerified:ve.emailVerified||!1,phoneNumber:ve.phoneNumber||null,tenantId:ve.tenantId||null,providerData:Ft,metadata:new vr(ve.createdAt,ve.lastLoginAt),isAnonymous:hr};Object.assign(S,si)})).apply(this,arguments)}function Vt(){return(Vt=(0,P.Z)(function*(S){const _=(0,j.m9)(S);yield Dn(_),yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)})).apply(this,arguments)}function zt(S,_){return[...S.filter(R=>!_.some(ie=>ie.providerId===R.providerId)),..._]}function In(S){return S.map(_=>{var{providerId:w}=_,R=(0,z._T)(_,["providerId"]);return{providerId:w,uid:R.rawId||"",displayName:R.displayName||null,email:R.email||null,phoneNumber:R.phoneNumber||null,photoURL:R.photoUrl||null}})}function be(){return(be=(0,P.Z)(function*(S,_){const w=yield wi(S,{},(0,P.Z)(function*(){const R=(0,j.xO)({grant_type:"refresh_token",refresh_token:_}).slice(1),{tokenApiHost:ie,apiKey:ve}=S.config,lt=gn(S,ie,"/v1/token",`key=${ve}`),Ft=yield S._getAdditionalHeaders();return Ft["Content-Type"]="application/x-www-form-urlencoded",rr.fetch()(lt,{method:"POST",headers:Ft,body:R})}));return{accessToken:w.access_token,expiresIn:w.expires_in,refreshToken:w.refresh_token}})).apply(this,arguments)}class pe{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(_){Q(_.idToken,"internal-error"),Q(void 0!==_.idToken,"internal-error"),Q(void 0!==_.refreshToken,"internal-error");const w="expiresIn"in _&&void 0!==_.expiresIn?Number(_.expiresIn):function Xt(S){const _=tn(S);return Q(_,"internal-error"),Q(void 0!==_.exp,"internal-error"),Q(void 0!==_.iat,"internal-error"),Number(_.exp)-Number(_.iat)}(_.idToken);this.updateTokensAndExpiration(_.idToken,_.refreshToken,w)}getToken(_,w=!1){var R=this;return(0,P.Z)(function*(){return Q(!R.accessToken||R.refreshToken,_,"user-token-expired"),w||!R.accessToken||R.isExpired?R.refreshToken?(yield R.refresh(_,R.refreshToken),R.accessToken):null:R.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(_,w){var R=this;return(0,P.Z)(function*(){const{accessToken:ie,refreshToken:ve,expiresIn:lt}=yield function yn(S,_){return be.apply(this,arguments)}(_,w);R.updateTokensAndExpiration(ie,ve,Number(lt))})()}updateTokensAndExpiration(_,w,R){this.refreshToken=w||null,this.accessToken=_||null,this.expirationTime=Date.now()+1e3*R}static fromJSON(_,w){const{refreshToken:R,accessToken:ie,expirationTime:ve}=w,lt=new pe;return R&&(Q("string"==typeof R,"internal-error",{appName:_}),lt.refreshToken=R),ie&&(Q("string"==typeof ie,"internal-error",{appName:_}),lt.accessToken=ie),ve&&(Q("number"==typeof ve,"internal-error",{appName:_}),lt.expirationTime=ve),lt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(_){this.accessToken=_.accessToken,this.refreshToken=_.refreshToken,this.expirationTime=_.expirationTime}_clone(){return Object.assign(new pe,this.toJSON())}_performRefresh(){return ge("not implemented")}}function me(S,_){Q("string"==typeof S||void 0===S,"internal-error",{appName:_})}class Ze{constructor(_){var{uid:w,auth:R,stsTokenManager:ie}=_,ve=(0,z._T)(_,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ht(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=w,this.auth=R,this.stsTokenManager=ie,this.accessToken=ie.accessToken,this.displayName=ve.displayName||null,this.email=ve.email||null,this.emailVerified=ve.emailVerified||!1,this.phoneNumber=ve.phoneNumber||null,this.photoURL=ve.photoURL||null,this.isAnonymous=ve.isAnonymous||!1,this.tenantId=ve.tenantId||null,this.providerData=ve.providerData?[...ve.providerData]:[],this.metadata=new vr(ve.createdAt||void 0,ve.lastLoginAt||void 0)}getIdToken(_){var w=this;return(0,P.Z)(function*(){const R=yield Mn(w,w.stsTokenManager.getToken(w.auth,_));return Q(R,w.auth,"internal-error"),w.accessToken!==R&&(w.accessToken=R,yield w.auth._persistUserIfCurrent(w),w.auth._notifyListenersIfCurrent(w)),R})()}getIdTokenResult(_){return function Ct(S){return Lt.apply(this,arguments)}(this,_)}reload(){return function et(S){return Vt.apply(this,arguments)}(this)}_assign(_){this!==_&&(Q(this.uid===_.uid,this.auth,"internal-error"),this.displayName=_.displayName,this.photoURL=_.photoURL,this.email=_.email,this.emailVerified=_.emailVerified,this.phoneNumber=_.phoneNumber,this.isAnonymous=_.isAnonymous,this.tenantId=_.tenantId,this.providerData=_.providerData.map(w=>Object.assign({},w)),this.metadata._copy(_.metadata),this.stsTokenManager._assign(_.stsTokenManager))}_clone(_){return new Ze(Object.assign(Object.assign({},this),{auth:_,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(_){Q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=_,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(_){this.reloadListener?this.reloadListener(_):this.reloadUserInfo=_}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(_,w=!1){var R=this;return(0,P.Z)(function*(){let ie=!1;_.idToken&&_.idToken!==R.stsTokenManager.accessToken&&(R.stsTokenManager.updateFromServerResponse(_),ie=!0),w&&(yield Dn(R)),yield R.auth._persistUserIfCurrent(R),ie&&R.auth._notifyListenersIfCurrent(R)})()}delete(){var _=this;return(0,P.Z)(function*(){const w=yield _.getIdToken();return yield Mn(_,function $r(S,_){return Re.apply(this,arguments)}(_.auth,{idToken:w})),_.stsTokenManager.clearRefreshToken(),_.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(_=>Object.assign({},_)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(_,w){var R,ie,ve,lt,Ft,vn,Un,hr;const si=null!==(R=w.displayName)&&void 0!==R?R:void 0,gs=null!==(ie=w.email)&&void 0!==ie?ie:void 0,Ps=null!==(ve=w.phoneNumber)&&void 0!==ve?ve:void 0,yc=null!==(lt=w.photoURL)&&void 0!==lt?lt:void 0,xd=null!==(Ft=w.tenantId)&&void 0!==Ft?Ft:void 0,nu=null!==(vn=w._redirectEventId)&&void 0!==vn?vn:void 0,Ad=null!==(Un=w.createdAt)&&void 0!==Un?Un:void 0,Ya=null!==(hr=w.lastLoginAt)&&void 0!==hr?hr:void 0,{uid:Pl,emailVerified:Dh,isAnonymous:Wp,providerData:Mu,stsTokenManager:ru}=w;Q(Pl&&ru,_,"internal-error");const Mf=pe.fromJSON(this.name,ru);Q("string"==typeof Pl,_,"internal-error"),me(si,_.name),me(gs,_.name),Q("boolean"==typeof Dh,_,"internal-error"),Q("boolean"==typeof Wp,_,"internal-error"),me(Ps,_.name),me(yc,_.name),me(xd,_.name),me(nu,_.name),me(Ad,_.name),me(Ya,_.name);const Id=new Ze({uid:Pl,auth:_,email:gs,emailVerified:Dh,displayName:si,isAnonymous:Wp,photoURL:yc,phoneNumber:Ps,tenantId:xd,stsTokenManager:Mf,createdAt:Ad,lastLoginAt:Ya});return Mu&&Array.isArray(Mu)&&(Id.providerData=Mu.map(Of=>Object.assign({},Of))),nu&&(Id._redirectEventId=nu),Id}static _fromIdTokenResponse(_,w,R=!1){return(0,P.Z)(function*(){const ie=new pe;ie.updateFromServerResponse(w);const ve=new Ze({uid:w.localId,auth:_,stsTokenManager:ie,isAnonymous:R});return yield Dn(ve),ve})()}}const Nt=(()=>{class S{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,P.Z)(function*(){return!0})()}_set(w,R){var ie=this;return(0,P.Z)(function*(){ie.storage[w]=R})()}_get(w){var R=this;return(0,P.Z)(function*(){const ie=R.storage[w];return void 0===ie?null:ie})()}_remove(w){var R=this;return(0,P.Z)(function*(){delete R.storage[w]})()}_addListener(w,R){}_removeListener(w,R){}}return S.type="NONE",S})();function Tn(S,_,w){return`firebase:${S}:${_}:${w}`}class On{constructor(_,w,R){this.persistence=_,this.auth=w,this.userKey=R;const{config:ie,name:ve}=this.auth;this.fullUserKey=Tn(this.userKey,ie.apiKey,ve),this.fullPersistenceKey=Tn("persistence",ie.apiKey,ve),this.boundEventHandler=w._onStorageEvent.bind(w),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(_){return this.persistence._set(this.fullUserKey,_.toJSON())}getCurrentUser(){var _=this;return(0,P.Z)(function*(){const w=yield _.persistence._get(_.fullUserKey);return w?Ze._fromJSON(_.auth,w):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(_){var w=this;return(0,P.Z)(function*(){if(w.persistence===_)return;const R=yield w.getCurrentUser();return yield w.removeCurrentUser(),w.persistence=_,R?w.setCurrentUser(R):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(_,w,R="authUser"){return(0,P.Z)(function*(){if(!w.length)return new On(gt(Nt),_,R);const ie=(yield Promise.all(w.map(function(){var Un=(0,P.Z)(function*(hr){if(yield hr._isAvailable())return hr});return function(hr){return Un.apply(this,arguments)}}()))).filter(Un=>Un);let ve=ie[0]||gt(Nt);const lt=Tn(R,_.config.apiKey,_.name);let Ft=null;for(const Un of w)try{const hr=yield Un._get(lt);if(hr){const si=Ze._fromJSON(_,hr);Un!==ve&&(Ft=si),ve=Un;break}}catch(hr){}const vn=ie.filter(Un=>Un._shouldAllowMigration);return ve._shouldAllowMigration&&vn.length?(ve=vn[0],Ft&&(yield ve._set(lt,Ft.toJSON())),yield Promise.all(w.map(function(){var Un=(0,P.Z)(function*(hr){if(hr!==ve)try{yield hr._remove(lt)}catch(si){}});return function(hr){return Un.apply(this,arguments)}}())),new On(ve,_,R)):new On(ve,_,R)})()}}function ir(S){const _=S.toLowerCase();if(_.includes("opera/")||_.includes("opr/")||_.includes("opios/"))return"Opera";if(function Sn(S=(0,j.z$)()){return/iemobile/i.test(S)}(_))return"IEMobile";if(_.includes("msie")||_.includes("trident/"))return"IE";if(_.includes("edge/"))return"Edge";if(function Gn(S=(0,j.z$)()){return/firefox\//i.test(S)}(_))return"Firefox";if(_.includes("silk/"))return"Silk";if(function Le(S=(0,j.z$)()){return/blackberry/i.test(S)}(_))return"Blackberry";if(function st(S=(0,j.z$)()){return/webos/i.test(S)}(_))return"Webos";if(function nr(S=(0,j.z$)()){const _=S.toLowerCase();return _.includes("safari/")&&!_.includes("chrome/")&&!_.includes("crios/")&&!_.includes("android")}(_))return"Safari";if((_.includes("chrome/")||function nn(S=(0,j.z$)()){return/crios\//i.test(S)}(_))&&!_.includes("edge/"))return"Chrome";if(function rn(S=(0,j.z$)()){return/android/i.test(S)}(_))return"Android";{const R=S.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==R?void 0:R.length))return R[1]}return"Other"}function bt(S,_=[]){let w;switch(S){case"Browser":w=ir((0,j.z$)());break;case"Worker":w=`${ir((0,j.z$)())}-${S}`;break;default:w=S}const R=_.length?_.join(","):"FirebaseCore-web";return`${w}/JsCore/${$.SDK_VERSION}/${R}`}class $t{constructor(_,w,R){this.app=_,this.heartbeatServiceProvider=w,this.config=R,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new sn(this),this.idTokenSubscription=new sn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=_.name,this.clientVersion=R.sdkClientVersion}_initializeWithPersistence(_,w){var R=this;return w&&(this._popupRedirectResolver=gt(w)),this._initializationPromise=this.queue((0,P.Z)(function*(){var ie,ve;if(!R._deleted&&(R.persistenceManager=yield On.create(R,_),!R._deleted)){if(null===(ie=R._popupRedirectResolver)||void 0===ie?void 0:ie._shouldInitProactively)try{yield R._popupRedirectResolver._initialize(R)}catch(lt){}yield R.initializeCurrentUser(w),R.lastNotifiedUid=(null===(ve=R.currentUser)||void 0===ve?void 0:ve.uid)||null,!R._deleted&&(R._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var _=this;return(0,P.Z)(function*(){if(_._deleted)return;const w=yield _.assertedPersistence.getCurrentUser();if(_.currentUser||w){if(_.currentUser&&w&&_.currentUser.uid===w.uid)return _._currentUser._assign(w),void(yield _.currentUser.getIdToken());yield _._updateCurrentUser(w)}})()}initializeCurrentUser(_){var w=this;return(0,P.Z)(function*(){var R;let ie=yield w.assertedPersistence.getCurrentUser();if(_&&w.config.authDomain){yield w.getOrInitRedirectPersistenceManager();const ve=null===(R=w.redirectUser)||void 0===R?void 0:R._redirectEventId,lt=null==ie?void 0:ie._redirectEventId,Ft=yield w.tryRedirectSignIn(_);(!ve||ve===lt)&&(null==Ft?void 0:Ft.user)&&(ie=Ft.user)}return ie?ie._redirectEventId?(Q(w._popupRedirectResolver,w,"argument-error"),yield w.getOrInitRedirectPersistenceManager(),w.redirectUser&&w.redirectUser._redirectEventId===ie._redirectEventId?w.directlySetCurrentUser(ie):w.reloadAndSetCurrentUserOrClear(ie)):w.reloadAndSetCurrentUserOrClear(ie):w.directlySetCurrentUser(null)})()}tryRedirectSignIn(_){var w=this;return(0,P.Z)(function*(){let R=null;try{R=yield w._popupRedirectResolver._completeRedirectFn(w,_,!0)}catch(ie){yield w._setRedirectUser(null)}return R})()}reloadAndSetCurrentUserOrClear(_){var w=this;return(0,P.Z)(function*(){try{yield Dn(_)}catch(R){if("auth/network-request-failed"!==R.code)return w.directlySetCurrentUser(null)}return w.directlySetCurrentUser(_)})()}useDeviceLanguage(){this.languageCode=function tr(){if("undefined"==typeof navigator)return null;const S=navigator;return S.languages&&S.languages[0]||S.language||null}()}_delete(){var _=this;return(0,P.Z)(function*(){_._deleted=!0})()}updateCurrentUser(_){var w=this;return(0,P.Z)(function*(){const R=_?(0,j.m9)(_):null;return R&&Q(R.auth.config.apiKey===w.config.apiKey,w,"invalid-user-token"),w._updateCurrentUser(R&&R._clone(w))})()}_updateCurrentUser(_){var w=this;return(0,P.Z)(function*(){if(!w._deleted)return _&&Q(w.tenantId===_.tenantId,w,"tenant-id-mismatch"),w.queue((0,P.Z)(function*(){yield w.directlySetCurrentUser(_),w.notifyAuthListeners()}))})()}signOut(){var _=this;return(0,P.Z)(function*(){return(_.redirectPersistenceManager||_._popupRedirectResolver)&&(yield _._setRedirectUser(null)),_._updateCurrentUser(null)})()}setPersistence(_){var w=this;return this.queue((0,P.Z)(function*(){yield w.assertedPersistence.setPersistence(gt(_))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(_){this._errorFactory=new j.LL("auth","Firebase",_())}onAuthStateChanged(_,w,R){return this.registerStateListener(this.authStateSubscription,_,w,R)}onIdTokenChanged(_,w,R){return this.registerStateListener(this.idTokenSubscription,_,w,R)}toJSON(){var _;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(_=this._currentUser)||void 0===_?void 0:_.toJSON()}}_setRedirectUser(_,w){var R=this;return(0,P.Z)(function*(){const ie=yield R.getOrInitRedirectPersistenceManager(w);return null===_?ie.removeCurrentUser():ie.setCurrentUser(_)})()}getOrInitRedirectPersistenceManager(_){var w=this;return(0,P.Z)(function*(){if(!w.redirectPersistenceManager){const R=_&&gt(_)||w._popupRedirectResolver;Q(R,w,"argument-error"),w.redirectPersistenceManager=yield On.create(w,[gt(R._redirectPersistence)],"redirectUser"),w.redirectUser=yield w.redirectPersistenceManager.getCurrentUser()}return w.redirectPersistenceManager})()}_redirectUserForId(_){var w=this;return(0,P.Z)(function*(){var R,ie;return w._isInitialized&&(yield w.queue((0,P.Z)(function*(){}))),(null===(R=w._currentUser)||void 0===R?void 0:R._redirectEventId)===_?w._currentUser:(null===(ie=w.redirectUser)||void 0===ie?void 0:ie._redirectEventId)===_?w.redirectUser:null})()}_persistUserIfCurrent(_){var w=this;return(0,P.Z)(function*(){if(_===w.currentUser)return w.queue((0,P.Z)(function*(){return w.directlySetCurrentUser(_)}))})()}_notifyListenersIfCurrent(_){_===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var _,w;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const R=null!==(w=null===(_=this.currentUser)||void 0===_?void 0:_.uid)&&void 0!==w?w:null;this.lastNotifiedUid!==R&&(this.lastNotifiedUid=R,this.authStateSubscription.next(this.currentUser))}registerStateListener(_,w,R,ie){if(this._deleted)return()=>{};const ve="function"==typeof w?w:w.next.bind(w),lt=this._isInitialized?Promise.resolve():this._initializationPromise;return Q(lt,this,"internal-error"),lt.then(()=>ve(this.currentUser)),"function"==typeof w?_.addObserver(w,R,ie):_.addObserver(w)}directlySetCurrentUser(_){var w=this;return(0,P.Z)(function*(){w.currentUser&&w.currentUser!==_&&(w._currentUser._stopProactiveRefresh(),_&&w.isProactiveRefreshEnabled&&_._startProactiveRefresh()),w.currentUser=_,_?yield w.assertedPersistence.setCurrentUser(_):yield w.assertedPersistence.removeCurrentUser()})()}queue(_){return this.operations=this.operations.then(_,_),this.operations}get assertedPersistence(){return Q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(_){!_||this.frameworks.includes(_)||(this.frameworks.push(_),this.frameworks.sort(),this.clientVersion=bt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var _=this;return(0,P.Z)(function*(){var w;const R={"X-Client-Version":_.clientVersion};_.app.options.appId&&(R["X-Firebase-gmpid"]=_.app.options.appId);const ie=yield null===(w=_.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===w?void 0:w.getHeartbeatsHeader();return ie&&(R["X-Firebase-Client"]=ie),R})()}}class sn{constructor(_){this.auth=_,this.observer=null,this.addObserver=(0,j.ne)(w=>this.observer=w)}get next(){return Q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Xi(S){return`__${S}${Math.floor(1e6*Math.random())}`})("rcb"),new Fn(3e4,6e4),new Fn(2e3,1e4),new Fn(3e4,6e4),new Fn(5e3,15e3);var gf="@firebase/auth",hd="0.19.10";class qc{constructor(_){this.auth=_,this.internalListeners=new Map}getUid(){var _;return this.assertAuthConfigured(),(null===(_=this.auth.currentUser)||void 0===_?void 0:_.uid)||null}getToken(_){var w=this;return(0,P.Z)(function*(){return w.assertAuthConfigured(),yield w.auth._initializationPromise,w.auth.currentUser?{accessToken:yield w.auth.currentUser.getIdToken(_)}:null})()}addAuthTokenListener(_){if(this.assertAuthConfigured(),this.internalListeners.has(_))return;const w=this.auth.onIdTokenChanged(R=>{var ie;_((null===(ie=R)||void 0===ie?void 0:ie.stsTokenManager.accessToken)||null)});this.internalListeners.set(_,w),this.updateProactiveRefresh()}removeAuthTokenListener(_){this.assertAuthConfigured();const w=this.internalListeners.get(_);!w||(this.internalListeners.delete(_),w(),this.updateProactiveRefresh())}assertAuthConfigured(){Q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function mf(S){(0,$._registerComponent)(new W.wA("auth",(_,{options:w})=>{const R=_.getProvider("app").getImmediate(),ie=_.getProvider("heartbeat"),{apiKey:ve,authDomain:lt}=R.options;return((Ft,vn)=>{Q(ve&&!ve.includes(":"),"invalid-api-key",{appName:Ft.name}),Q(!(null==lt?void 0:lt.includes(":")),"argument-error",{appName:Ft.name});const Un={apiKey:ve,authDomain:lt,clientPlatform:S,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bt(S)},hr=new $t(Ft,vn,Un);return function pn(S,_){const w=(null==_?void 0:_.persistence)||[],R=(Array.isArray(w)?w:[w]).map(gt);(null==_?void 0:_.errorMap)&&S._updateErrorMap(_.errorMap),S._initializeWithPersistence(R,null==_?void 0:_.popupRedirectResolver)}(hr,w),hr})(R,ie)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((_,w,R)=>{_.getProvider("auth-internal").initialize()})),(0,$._registerComponent)(new W.wA("auth-internal",_=>{const w=function en(S){return(0,j.m9)(S)}(_.getProvider("auth").getImmediate());return new qc(w)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,$.registerVersion)(gf,hd,function Pi(S){switch(S){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(S)),(0,$.registerVersion)(gf,hd,"esm2017")}("Browser");class ko{constructor(){return(0,t.vb)("auth")}}var Fp=M(7128),to=M(3209),wf=M(8306),Lp=M(4004),po={includeMetadataChanges:!1};function Za(S,_){return void 0===_&&(_={}),function _t(S){return function $i(S,_){return void 0===_&&(_=po),new wf.y(function(w){return{unsubscribe:(0,to.cf)(S,_,{next:w.next.bind(w),error:w.error.bind(w),complete:w.complete.bind(w)})}})}(S,{includeMetadataChanges:!0}).pipe((0,Lp.U)(function(_){return _.docs}))}(S).pipe((0,Lp.U)(function(w){return w.map(function(R){return function _h(S,_){void 0===_&&(_={});var w=S.data();return!S.exists()||"object"!=typeof w||null===w||_.idField&&(w[_.idField]=S.id),w}(R,_)})}))}class fs{constructor(_){return _}}const ps="firestore",xl=new C.OlP("angularfire2.firestore-instances");function om(S){return(_,w)=>{const R=_.runOutsideAngular(()=>S(w));return new fs(R)}}const Mi={provide:class Df{constructor(){return(0,t.vb)(ps)}},deps:[[new C.FiY,xl]]},vd={provide:fs,useFactory:function vh(S,_){const w=(0,t.JM)(ps,S,_);return w&&new fs(w)},deps:[[new C.FiY,xl],E.Ot]};let bd=(()=>{class S{constructor(){(0,N.KN)("angularfire",t.q4.full,"fst")}}return S.\u0275fac=function(w){return new(w||S)},S.\u0275mod=C.oAB({type:S}),S.\u0275inj=C.cJS({providers:[vd,Mi]}),S})();function bh(S,..._){return{ngModule:bd,providers:[{provide:xl,useFactory:om(S),multi:!0,deps:[C.R0b,C.zs3,t.HU,E.z6,[new C.FiY,ko],[new C.FiY,Fp.nm],..._]}]}}const Ch=(0,t.u3)(Za,!0),Qc=(0,t.u3)(to.ET,!0),Ks=(0,t.u3)(to.hJ,!0),Ao=(0,t.u3)(to.JU,!0),Ys=(0,t.u3)(to.ad,!0)},5813:(nt,A,M)=>{"use strict";M.d(A,{q4:()=>Ri,iC:()=>Bc,HU:()=>pa,vb:()=>yl,JM:()=>af,u3:()=>vl});var t=M(5e3),C=M(5867),E=M(5861),N=M(9681),P=M(2090),j=M(4859),$=M(1877);const z="@firebase/installations",J="0.5.6",ne=`w:${J}`,ae="FIS_v2",Me=new P.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function De(U){return U instanceof P.ZR&&U.code.includes("request-failed")}function rt({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function Be(U){return{token:U.token,requestStatus:2,expiresIn:oe(U.expiresIn),creationTime:Date.now()}}function qe(U,V){return we.apply(this,arguments)}function we(){return(we=(0,E.Z)(function*(U,V){const Se=(yield V.json()).error;return Me.create("request-failed",{requestName:U,serverCode:Se.code,serverMessage:Se.message,serverStatus:Se.status})})).apply(this,arguments)}function He({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ie(U,{refreshToken:V}){const ee=He(U);return ee.append("Authorization",function Q(U){return`${ae} ${U}`}(V)),ee}function it(U){return se.apply(this,arguments)}function se(){return(se=(0,E.Z)(function*(U){const V=yield U();return V.status>=500&&V.status<600?U():V})).apply(this,arguments)}function oe(U){return Number(U.replace("s","000"))}function ge(U,V){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:V},{fid:ee}){const Se=rt(U),Ke=He(U),dt=V.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Jt={method:"POST",headers:Ke,body:JSON.stringify({fid:ee,authVersion:ae,appId:U.appId,sdkVersion:ne})},lr=yield it(()=>fetch(Se,Jt));if(lr.ok){const Hn=yield lr.json();return{fid:Hn.fid||ee,registrationStatus:2,refreshToken:Hn.refreshToken,authToken:Be(Hn.authToken)}}throw yield qe("Create Installation",lr)})).apply(this,arguments)}function de(U){return new Promise(V=>{setTimeout(V,U)})}const Dt=/^[cdef][\w-]{21}$/;function wt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ee=function mt(U){return function gt(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Dt.test(ee)?ee:""}catch(U){return""}}function xt(U){return`${U.appName}!${U.appId}`}const cn=new Map;function tr(U,V){const ee=xt(U);rr(ee,V),function Xn(U,V){const ee=function mr(){return!Hr&&"BroadcastChannel"in self&&(Hr=new BroadcastChannel("[Firebase] FID Change"),Hr.onmessage=U=>{rr(U.data.key,U.data.fid)}),Hr}();ee&&ee.postMessage({key:U,fid:V}),function xr(){0===cn.size&&Hr&&(Hr.close(),Hr=null)}()}(ee,V)}function rr(U,V){const ee=cn.get(U);if(ee)for(const Se of ee)Se(V)}let Hr=null;const Fr="firebase-installations-store";let Br=null;function Ei(){return Br||(Br=(0,P.X3)("firebase-installations-database",1,(U,V)=>{0===V&&U.createObjectStore(Fr)})),Br}function gn(U,V){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,E.Z)(function*(U,V){const ee=xt(U),Ke=(yield Ei()).transaction(Fr,"readwrite"),dt=Ke.objectStore(Fr),Gt=yield dt.get(ee);return yield dt.put(V,ee),yield Ke.complete,(!Gt||Gt.fid!==V.fid)&&tr(U,V.fid),V})).apply(this,arguments)}function Vr(U){return $r.apply(this,arguments)}function $r(){return($r=(0,E.Z)(function*(U){const V=xt(U),Se=(yield Ei()).transaction(Fr,"readwrite");yield Se.objectStore(Fr).delete(V),yield Se.complete})).apply(this,arguments)}function Re(U,V){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,E.Z)(function*(U,V){const ee=xt(U),Ke=(yield Ei()).transaction(Fr,"readwrite"),dt=Ke.objectStore(Fr),Gt=yield dt.get(ee),Jt=V(Gt);return void 0===Jt?yield dt.delete(ee):yield dt.put(Jt,ee),yield Ke.complete,Jt&&(!Gt||Gt.fid!==Jt.fid)&&tr(U,Jt.fid),Jt})).apply(this,arguments)}function ct(U){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,E.Z)(function*(U){let V;const ee=yield Re(U.appConfig,Se=>{const Ke=yt(Se),dt=kt(U,Ke);return V=dt.registrationPromise,dt.installationEntry});return""===ee.fid?{installationEntry:yield V}:{installationEntry:ee,registrationPromise:V}})).apply(this,arguments)}function yt(U){return Xt(U||{fid:wt(),registrationStatus:0})}function kt(U,V){if(0===V.registrationStatus){if(!navigator.onLine)return{installationEntry:V,registrationPromise:Promise.reject(Me.create("app-offline"))};const ee={fid:V.fid,registrationStatus:1,registrationTime:Date.now()},Se=function Pt(U,V){return Ct.apply(this,arguments)}(U,ee);return{installationEntry:ee,registrationPromise:Se}}return 1===V.registrationStatus?{installationEntry:V,registrationPromise:Lt(U)}:{installationEntry:V}}function Ct(){return(Ct=(0,E.Z)(function*(U,V){try{const ee=yield ge(U,V);return gn(U.appConfig,ee)}catch(ee){throw De(ee)&&409===ee.customData.serverCode?yield Vr(U.appConfig):yield gn(U.appConfig,{fid:V.fid,registrationStatus:0}),ee}})).apply(this,arguments)}function Lt(U){return mn.apply(this,arguments)}function mn(){return(mn=(0,E.Z)(function*(U){let V=yield tn(U.appConfig);for(;1===V.registrationStatus;)yield de(100),V=yield tn(U.appConfig);if(0===V.registrationStatus){const{installationEntry:ee,registrationPromise:Se}=yield ct(U);return Se||ee}return V})).apply(this,arguments)}function tn(U){return Re(U,V=>{if(!V)throw Me.create("installation-not-found");return Xt(V)})}function Xt(U){return function Mn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function Cn(U,V){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,E.Z)(function*({appConfig:U,heartbeatServiceProvider:V},ee){const Se=Ht(U,ee),Ke=Ie(U,ee),dt=V.getImmediate({optional:!0});if(dt){const Hn=yield dt.getHeartbeatsHeader();Hn&&Ke.append("x-firebase-client",Hn)}const Jt={method:"POST",headers:Ke,body:JSON.stringify({installation:{sdkVersion:ne,appId:U.appId}})},lr=yield it(()=>fetch(Se,Jt));if(lr.ok)return Be(yield lr.json());throw yield qe("Generate Auth Token",lr)})).apply(this,arguments)}function Ht(U,{fid:V}){return`${rt(U)}/${V}/authTokens:generate`}function vr(U){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,E.Z)(function*(U,V=!1){let ee;const Se=yield Re(U.appConfig,dt=>{if(!yn(dt))throw Me.create("not-registered");const Gt=dt.authToken;if(!V&&be(Gt))return dt;if(1===Gt.requestStatus)return ee=Tt(U,V),dt;{if(!navigator.onLine)throw Me.create("app-offline");const Jt=me(dt);return ee=zt(U,Jt),Jt}});return ee?yield ee:Se.authToken})).apply(this,arguments)}function Tt(U,V){return et.apply(this,arguments)}function et(){return(et=(0,E.Z)(function*(U,V){let ee=yield Vt(U.appConfig);for(;1===ee.authToken.requestStatus;)yield de(100),ee=yield Vt(U.appConfig);const Se=ee.authToken;return 0===Se.requestStatus?vr(U,V):Se})).apply(this,arguments)}function Vt(U){return Re(U,V=>{if(!yn(V))throw Me.create("not-registered");return function Ze(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(V.authToken)?Object.assign(Object.assign({},V),{authToken:{requestStatus:0}}):V})}function zt(U,V){return In.apply(this,arguments)}function In(){return(In=(0,E.Z)(function*(U,V){try{const ee=yield Cn(U,V),Se=Object.assign(Object.assign({},V),{authToken:ee});return yield gn(U.appConfig,Se),ee}catch(ee){if(!De(ee)||401!==ee.customData.serverCode&&404!==ee.customData.serverCode){const Se=Object.assign(Object.assign({},V),{authToken:{requestStatus:0}});yield gn(U.appConfig,Se)}else yield Vr(U.appConfig);throw ee}})).apply(this,arguments)}function yn(U){return void 0!==U&&2===U.registrationStatus}function be(U){return 2===U.requestStatus&&!function pe(U){const V=Date.now();return V<U.creationTime||U.creationTime+U.expiresIn<V+36e5}(U)}function me(U){const V={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:V})}function Nt(){return(Nt=(0,E.Z)(function*(U){const V=U,{installationEntry:ee,registrationPromise:Se}=yield ct(V);return Se?Se.catch(console.error):vr(V).catch(console.error),ee.fid})).apply(this,arguments)}function On(){return(On=(0,E.Z)(function*(U,V=!1){const ee=U;return yield ir(ee),(yield vr(ee,V)).token})).apply(this,arguments)}function ir(U){return Gn.apply(this,arguments)}function Gn(){return(Gn=(0,E.Z)(function*(U){const{registrationPromise:V}=yield ct(U);V&&(yield V)})).apply(this,arguments)}function or(U){return Me.create("missing-app-config-values",{valueName:U})}const jt="installations",je=U=>{const V=U.getProvider("app").getImmediate(),ee=function Ln(U){if(!U||!U.options)throw or("App Configuration");if(!U.name)throw or("App Name");const V=["projectId","apiKey","appId"];for(const ee of V)if(!U.options[ee])throw or(ee);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(V);return{app:V,appConfig:ee,heartbeatServiceProvider:(0,N._getProvider)(V,"heartbeat"),_delete:()=>Promise.resolve()}},bt=U=>{const V=U.getProvider("app").getImmediate(),ee=(0,N._getProvider)(V,jt).getImmediate();return{getId:()=>function ke(U){return Nt.apply(this,arguments)}(ee),getToken:Ke=>function Tn(U){return On.apply(this,arguments)}(ee,Ke)}};(function $t(){(0,N._registerComponent)(new j.wA(jt,je,"PUBLIC")),(0,N._registerComponent)(new j.wA("installations-internal",bt,"PRIVATE"))})(),(0,N.registerVersion)(z,J),(0,N.registerVersion)(z,J,"esm2017");const en="@firebase/remote-config",Rn=new P.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class rs{constructor(V,ee,Se,Ke){this.client=V,this.storage=ee,this.storageCache=Se,this.logger=Ke}isCachedDataFresh(V,ee){if(!ee)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Se=Date.now()-ee,Ke=Se<=V;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Se}. Cache max age millis (minimumFetchIntervalMillis setting): ${V}. Is cache hit: ${Ke}.`),Ke}fetch(V){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.storage.getLastSuccessfulFetchTimestampMillis(),ee.storage.getLastSuccessfulFetchResponse()]);if(Ke&&ee.isCachedDataFresh(V.cacheMaxAgeMillis,Se))return Ke;V.eTag=Ke&&Ke.eTag;const dt=yield ee.client.fetch(V),Gt=[ee.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===dt.status&&Gt.push(ee.storage.setLastSuccessfulFetchResponse(dt)),yield Promise.all(Gt),dt})()}}function qr(U=navigator){return U.languages&&U.languages[0]||U.language}class Ns{constructor(V,ee,Se,Ke,dt,Gt){this.firebaseInstallations=V,this.sdkVersion=ee,this.namespace=Se,this.projectId=Ke,this.apiKey=dt,this.appId=Gt}fetch(V){var ee=this;return(0,E.Z)(function*(){const[Se,Ke]=yield Promise.all([ee.firebaseInstallations.getId(),ee.firebaseInstallations.getToken()]),Gt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ee.projectId}/namespaces/${ee.namespace}:fetch?key=${ee.apiKey}`,Jt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":V.eTag||"*"},lr={sdk_version:ee.sdkVersion,app_instance_id:Se,app_instance_id_token:Ke,app_id:ee.appId,language_code:qr()},Hn={method:"POST",headers:Jt,body:JSON.stringify(lr)},Or=fetch(Gt,Hn),zn=new Promise((uo,ei)=>{V.signal.addEventListener(()=>{const fc=new Error("The operation was aborted.");fc.name="AbortError",ei(fc)})});let ji;try{yield Promise.race([Or,zn]),ji=yield Or}catch(uo){let ei="fetch-client-network";throw"AbortError"===uo.name&&(ei="fetch-timeout"),Rn.create(ei,{originalErrorMessage:uo.message})}let Ii=ji.status;const hc=ji.headers.get("ETag")||void 0;let xs,co;if(200===ji.status){let uo;try{uo=yield ji.json()}catch(ei){throw Rn.create("fetch-client-parse",{originalErrorMessage:ei.message})}xs=uo.entries,co=uo.state}if("INSTANCE_STATE_UNSPECIFIED"===co?Ii=500:"NO_CHANGE"===co?Ii=304:("NO_TEMPLATE"===co||"EMPTY_CONFIG"===co)&&(xs={}),304!==Ii&&200!==Ii)throw Rn.create("fetch-status",{httpStatus:Ii});return{status:Ii,eTag:hc,config:xs}})()}}class Ia{constructor(V,ee){this.client=V,this.storage=ee}fetch(V){var ee=this;return(0,E.Z)(function*(){const Se=(yield ee.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ee.attemptFetch(V,Se)})()}attemptFetch(V,{throttleEndTimeMillis:ee,backoffCount:Se}){var Ke=this;return(0,E.Z)(function*(){yield function Li(U,V){return new Promise((ee,Se)=>{const Ke=Math.max(V-Date.now(),0),dt=setTimeout(ee,Ke);U.addEventListener(()=>{clearTimeout(dt),Se(Rn.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}(V.signal,ee);try{const dt=yield Ke.client.fetch(V);return yield Ke.storage.deleteThrottleMetadata(),dt}catch(dt){if(!function Aa(U){if(!(U instanceof P.ZR&&U.customData))return!1;const V=Number(U.customData.httpStatus);return 429===V||500===V||503===V||504===V}(dt))throw dt;const Gt={throttleEndTimeMillis:Date.now()+(0,P.$s)(Se),backoffCount:Se+1};return yield Ke.storage.setThrottleMetadata(Gt),Ke.attemptFetch(V,Gt)}})()}}class Rs{constructor(V,ee,Se,Ke,dt){this.app=V,this._client=ee,this._storageCache=Se,this._storage=Ke,this._logger=dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Di(U,V){const ee=U.target.error||void 0;return Rn.create(V,{originalErrorMessage:ee&&ee.message})}const ys="app_namespace_store";class jo{constructor(V,ee,Se,Ke=function ks(){return new Promise((U,V)=>{try{const ee=indexedDB.open("firebase_remote_config",1);ee.onerror=Se=>{V(Di(Se,"storage-open"))},ee.onsuccess=Se=>{U(Se.target.result)},ee.onupgradeneeded=Se=>{0===Se.oldVersion&&Se.target.result.createObjectStore(ys,{keyPath:"compositeKey"})}}catch(ee){V(Rn.create("storage-open",{originalErrorMessage:ee}))}})}()){this.appId=V,this.appName=ee,this.namespace=Se,this.openDbPromise=Ke}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(V){return this.set("last_fetch_status",V)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(V){return this.set("last_successful_fetch_timestamp_millis",V)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(V){return this.set("last_successful_fetch_response",V)}getActiveConfig(){return this.get("active_config")}setActiveConfig(V){return this.set("active_config",V)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(V){return this.set("active_config_etag",V)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(V){return this.set("throttle_metadata",V)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(V){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Jt=Se.transaction([ys],"readonly").objectStore(ys),lr=ee.createCompositeKey(V);try{const Hn=Jt.get(lr);Hn.onerror=Or=>{dt(Di(Or,"storage-get"))},Hn.onsuccess=Or=>{const zn=Or.target.result;Ke(zn?zn.value:void 0)}}catch(Hn){dt(Rn.create("storage-get",{originalErrorMessage:Hn&&Hn.message}))}})})()}set(V,ee){var Se=this;return(0,E.Z)(function*(){const Ke=yield Se.openDbPromise;return new Promise((dt,Gt)=>{const lr=Ke.transaction([ys],"readwrite").objectStore(ys),Hn=Se.createCompositeKey(V);try{const Or=lr.put({compositeKey:Hn,value:ee});Or.onerror=zn=>{Gt(Di(zn,"storage-set"))},Or.onsuccess=()=>{dt()}}catch(Or){Gt(Rn.create("storage-set",{originalErrorMessage:Or&&Or.message}))}})})()}delete(V){var ee=this;return(0,E.Z)(function*(){const Se=yield ee.openDbPromise;return new Promise((Ke,dt)=>{const Jt=Se.transaction([ys],"readwrite").objectStore(ys),lr=ee.createCompositeKey(V);try{const Hn=Jt.delete(lr);Hn.onerror=Or=>{dt(Di(Or,"storage-delete"))},Hn.onsuccess=()=>{Ke()}}catch(Hn){dt(Rn.create("storage-delete",{originalErrorMessage:Hn&&Hn.message}))}})})()}createCompositeKey(V){return[this.appId,this.appName,this.namespace,V].join()}}class is{constructor(V){this.storage=V}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var V=this;return(0,E.Z)(function*(){const ee=V.storage.getLastFetchStatus(),Se=V.storage.getLastSuccessfulFetchTimestampMillis(),Ke=V.storage.getActiveConfig(),dt=yield ee;dt&&(V.lastFetchStatus=dt);const Gt=yield Se;Gt&&(V.lastSuccessfulFetchTimestampMillis=Gt);const Jt=yield Ke;Jt&&(V.activeConfig=Jt)})()}setLastFetchStatus(V){return this.lastFetchStatus=V,this.storage.setLastFetchStatus(V)}setLastSuccessfulFetchTimestampMillis(V){return this.lastSuccessfulFetchTimestampMillis=V,this.storage.setLastSuccessfulFetchTimestampMillis(V)}setActiveConfig(V){return this.activeConfig=V,this.storage.setActiveConfig(V)}}function ce(){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,E.Z)(function*(){if(!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch(U){return!1}})).apply(this,arguments)}!function Oo(){(0,N._registerComponent)(new j.wA("remote-config",function U(V,{instanceIdentifier:ee}){const Se=V.getProvider("app").getImmediate(),Ke=V.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Rn.create("registration-window");if(!(0,P.hl)())throw Rn.create("indexed-db-unavailable");const{projectId:dt,apiKey:Gt,appId:Jt}=Se.options;if(!dt)throw Rn.create("registration-project-id");if(!Gt)throw Rn.create("registration-api-key");if(!Jt)throw Rn.create("registration-app-id");const lr=new jo(Jt,Se.name,ee=ee||"firebase"),Hn=new is(lr),Or=new $.Yd(en);Or.logLevel=$.in.ERROR;const zn=new Ns(Ke,N.SDK_VERSION,ee,dt,Gt,Jt),ji=new Ia(zn,lr),Ii=new rs(ji,lr,Hn,Or),hc=new Rs(Se,Ii,Hn,lr,Or);return function Fe(U){const V=(0,P.m9)(U);V._initializePromise||(V._initializePromise=V._storageCache.loadFromStorage().then(()=>{V._isInitializationComplete=!0}))}(hc),hc},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(en,"0.3.5"),(0,N.registerVersion)(en,"0.3.5","esm2017")}();const re="/firebase-messaging-sw.js",O="/firebase-cloud-messaging-push-scope",B="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Z="google.c.a.c_id",le="google.c.a.c_l",_e="google.c.a.ts",he="google.c.a.e";var We=(()=>{return(U=We||(We={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",We;var U})();function K(U){const V=new Uint8Array(U);return btoa(String.fromCharCode(...V)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Te(U){const ee=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Se=atob(ee),Ke=new Uint8Array(Se.length);for(let dt=0;dt<Se.length;++dt)Ke[dt]=Se.charCodeAt(dt);return Ke}const Ae="fcm_token_details_db",qt="fcm_token_object_Store";function hn(U){return an.apply(this,arguments)}function an(){return an=(0,E.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(dt=>dt.name).includes(Ae))return null;let V=null;return(yield(0,P.X3)(Ae,5,function(){var Se=(0,E.Z)(function*(Ke,dt,Gt,Jt){var lr;if(dt<2||!Ke.objectStoreNames.contains(qt))return;const Hn=Jt.objectStore(qt),Or=yield Hn.index("fcmSenderId").get(U);if(yield Hn.clear(),Or)if(2===dt){const zn=Or;if(!zn.auth||!zn.p256dh||!zn.endpoint)return;V={token:zn.fcmToken,createTime:null!==(lr=zn.createTime)&&void 0!==lr?lr:Date.now(),subscriptionOptions:{auth:zn.auth,p256dh:zn.p256dh,endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:"string"==typeof zn.vapidKey?zn.vapidKey:K(zn.vapidKey)}}}else if(3===dt){const zn=Or;V={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:K(zn.auth),p256dh:K(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:K(zn.vapidKey)}}}else if(4===dt){const zn=Or;V={token:zn.fcmToken,createTime:zn.createTime,subscriptionOptions:{auth:K(zn.auth),p256dh:K(zn.p256dh),endpoint:zn.endpoint,swScope:zn.swScope,vapidKey:K(zn.vapidKey)}}}});return function(Ke,dt,Gt,Jt){return Se.apply(this,arguments)}}())).close(),yield(0,P.Lj)(Ae),yield(0,P.Lj)("fcm_vapid_details_db"),yield(0,P.Lj)("undefined"),_n(V)?V:null}),an.apply(this,arguments)}function _n(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:V}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof V.auth&&V.auth.length>0&&"string"==typeof V.p256dh&&V.p256dh.length>0&&"string"==typeof V.endpoint&&V.endpoint.length>0&&"string"==typeof V.swScope&&V.swScope.length>0&&"string"==typeof V.vapidKey&&V.vapidKey.length>0}const Lr="firebase-messaging-store";let Ji=null;function Fs(){return Ji||(Ji=(0,P.X3)("firebase-messaging-database",1,(U,V)=>{0===V&&U.createObjectStore(Lr)})),Ji}function Sr(U){return oc.apply(this,arguments)}function oc(){return(oc=(0,E.Z)(function*(U){const V=Ra(U),Se=yield(yield Fs()).transaction(Lr).objectStore(Lr).get(V);if(Se)return Se;{const Ke=yield hn(U.appConfig.senderId);if(Ke)return yield Ma(U,Ke),Ke}})).apply(this,arguments)}function Ma(U,V){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,E.Z)(function*(U,V){const ee=Ra(U),Ke=(yield Fs()).transaction(Lr,"readwrite");return yield Ke.objectStore(Lr).put(V,ee),yield Ke.complete,V})).apply(this,arguments)}function Oa(U){return Na.apply(this,arguments)}function Na(){return(Na=(0,E.Z)(function*(U){const V=Ra(U),Se=(yield Fs()).transaction(Lr,"readwrite");yield Se.objectStore(Lr).delete(V),yield Se.complete})).apply(this,arguments)}function Ra({appConfig:U}){return U.appId}const Ui=new P.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function du(U,V){return os.apply(this,arguments)}function os(){return(os=(0,E.Z)(function*(U,V){const ee=yield Ls(U),Se=Kn(V),Ke={method:"POST",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(ss(U.appConfig),Ke)).json()}catch(Gt){throw Ui.create("token-subscribe-failed",{errorInfo:Gt})}if(dt.error)throw Ui.create("token-subscribe-failed",{errorInfo:dt.error.message});if(!dt.token)throw Ui.create("token-subscribe-no-token");return dt.token})).apply(this,arguments)}function so(U,V){return bs.apply(this,arguments)}function bs(){return(bs=(0,E.Z)(function*(U,V){const ee=yield Ls(U),Se=Kn(V.subscriptionOptions),Ke={method:"PATCH",headers:ee,body:JSON.stringify(Se)};let dt;try{dt=yield(yield fetch(`${ss(U.appConfig)}/${V.token}`,Ke)).json()}catch(Gt){throw Ui.create("token-update-failed",{errorInfo:Gt})}if(dt.error)throw Ui.create("token-update-failed",{errorInfo:dt.error.message});if(!dt.token)throw Ui.create("token-update-no-token");return dt.token})).apply(this,arguments)}function ka(U,V){return sc.apply(this,arguments)}function sc(){return(sc=(0,E.Z)(function*(U,V){const Se={method:"DELETE",headers:yield Ls(U)};try{const dt=yield(yield fetch(`${ss(U.appConfig)}/${V}`,Se)).json();if(dt.error)throw Ui.create("token-unsubscribe-failed",{errorInfo:dt.error.message})}catch(Ke){throw Ui.create("token-unsubscribe-failed",{errorInfo:Ke})}})).apply(this,arguments)}function ss({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function Ls(U){return Ac.apply(this,arguments)}function Ac(){return(Ac=(0,E.Z)(function*({appConfig:U,installations:V}){const ee=yield V.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ee}`})})).apply(this,arguments)}function Kn({p256dh:U,auth:V,endpoint:ee,vapidKey:Se}){const Ke={web:{endpoint:ee,auth:V,p256dh:U}};return Se!==B&&(Ke.web.applicationPubKey=Se),Ke}const tl=6048e5;function Fa(U){return sa.apply(this,arguments)}function sa(){return(sa=(0,E.Z)(function*(U){const V=yield tf(U.swRegistration,U.vapidKey),ee={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:V.endpoint,auth:K(V.getKey("auth")),p256dh:K(V.getKey("p256dh"))},Se=yield Sr(U.firebaseDependencies);if(Se){if(rl(Se.subscriptionOptions,ee))return Date.now()>=Se.createTime+tl?nl(U,{token:Se.token,createTime:Date.now(),subscriptionOptions:ee}):Se.token;try{yield ka(U.firebaseDependencies,Se.token)}catch(Ke){console.warn(Ke)}return Ot(U.firebaseDependencies,ee)}return Ot(U.firebaseDependencies,ee)})).apply(this,arguments)}function Ic(U){return La.apply(this,arguments)}function La(){return(La=(0,E.Z)(function*(U){const V=yield Sr(U.firebaseDependencies);V&&(yield ka(U.firebaseDependencies,V.token),yield Oa(U.firebaseDependencies));const ee=yield U.swRegistration.pushManager.getSubscription();return!ee||ee.unsubscribe()})).apply(this,arguments)}function nl(U,V){return aa.apply(this,arguments)}function aa(){return(aa=(0,E.Z)(function*(U,V){try{const ee=yield so(U.firebaseDependencies,V),Se=Object.assign(Object.assign({},V),{token:ee,createTime:Date.now()});return yield Ma(U.firebaseDependencies,Se),ee}catch(ee){throw yield Ic(U),ee}})).apply(this,arguments)}function Ot(U,V){return jn.apply(this,arguments)}function jn(){return(jn=(0,E.Z)(function*(U,V){const Se={token:yield du(U,V),createTime:Date.now(),subscriptionOptions:V};return yield Ma(U,Se),Se.token})).apply(this,arguments)}function tf(U,V){return ai.apply(this,arguments)}function ai(){return(ai=(0,E.Z)(function*(U,V){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Te(V)})})).apply(this,arguments)}function rl(U,V){return V.vapidKey===U.vapidKey&&V.endpoint===U.endpoint&&V.auth===U.auth&&V.p256dh===U.p256dh}function Ua(U){const V={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Us(U,V){if(!V.notification)return;U.notification={};const ee=V.notification.title;ee&&(U.notification.title=ee);const Se=V.notification.body;Se&&(U.notification.body=Se);const Ke=V.notification.image;Ke&&(U.notification.image=Ke)}(V,U),function Pc(U,V){!V.data||(U.data=V.data)}(V,U),function Ql(U,V){if(!V.fcmOptions)return;U.fcmOptions={};const ee=V.fcmOptions.link;ee&&(U.fcmOptions.link=ee);const Se=V.fcmOptions.analytics_label;Se&&(U.fcmOptions.analyticsLabel=Se)}(V,U),V}function Xl(U){return"object"==typeof U&&!!U&&Z in U}function hu(U,V){const ee=[];for(let Se=0;Se<U.length;Se++)ee.push(U.charAt(Se)),Se<V.length&&ee.push(V.charAt(Se));return ee.join("")}function wo(U){return Ui.create("missing-app-config-values",{valueName:U})}hu("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),hu("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class To{constructor(V,ee,Se){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Ke=function il(U){if(!U||!U.options)throw wo("App Configuration Object");if(!U.name)throw wo("App Name");const V=["projectId","apiKey","appId","messagingSenderId"],{options:ee}=U;for(const Se of V)if(!ee[Se])throw wo(Se);return{appName:U.name,projectId:ee.projectId,apiKey:ee.apiKey,appId:ee.appId,senderId:ee.messagingSenderId}}(V);this.firebaseDependencies={app:V,appConfig:Ke,installations:ee,analyticsProvider:Se}}_delete(){return Promise.resolve()}}function ca(U){return Ba.apply(this,arguments)}function Ba(){return(Ba=(0,E.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(re,{scope:O}),U.swRegistration.update().catch(()=>{})}catch(V){throw Ui.create("failed-service-worker-registration",{browserErrorMessage:V.message})}})).apply(this,arguments)}function Bs(U,V){return Ho.apply(this,arguments)}function Ho(){return(Ho=(0,E.Z)(function*(U,V){if(!V&&!U.swRegistration&&(yield ca(U)),V||!U.swRegistration){if(!(V instanceof ServiceWorkerRegistration))throw Ui.create("invalid-sw-registration");U.swRegistration=V}})).apply(this,arguments)}function Jd(U,V){return ua.apply(this,arguments)}function ua(){return(ua=(0,E.Z)(function*(U,V){V?U.vapidKey=V:U.vapidKey||(U.vapidKey=B)})).apply(this,arguments)}function ac(){return(ac=(0,E.Z)(function*(U,V){if(!navigator)throw Ui.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Ui.create("permission-blocked");return yield Jd(U,null==V?void 0:V.vapidKey),yield Bs(U,null==V?void 0:V.serviceWorkerRegistration),Fa(U)})).apply(this,arguments)}function fu(U,V,ee){return Va.apply(this,arguments)}function Va(){return(Va=(0,E.Z)(function*(U,V,ee){const Se=Xd(V);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Se,{message_id:ee[Z],message_name:ee[le],message_time:ee[_e],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Xd(U){switch(U){case We.NOTIFICATION_CLICKED:return"notification_open";case We.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function eh(){return(eh=(0,E.Z)(function*(U,V){const ee=V.data;if(!ee.isFirebaseMessaging)return;U.onMessageHandler&&ee.messageType===We.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Ua(ee)):U.onMessageHandler.next(Ua(ee)));const Se=ee.data;Xl(Se)&&"1"===Se[he]&&(yield fu(U,ee.messageType,Se))})).apply(this,arguments)}const pu="@firebase/messaging",ed=U=>{const V=new To(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ee=>function la(U,V){return eh.apply(this,arguments)}(V,ee)),V},ol=U=>{const V=U.getProvider("messaging").getImmediate();return{getToken:Se=>function Qd(U,V){return ac.apply(this,arguments)}(V,Se)}};function td(){return Vs.apply(this,arguments)}function Vs(){return(Vs=(0,E.Z)(function*(){try{yield(0,P.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,P.hl)()&&(0,P.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Oc(){(0,N._registerComponent)(new j.wA("messaging",ed,"PUBLIC")),(0,N._registerComponent)(new j.wA("messaging-internal",ol,"PRIVATE")),(0,N.registerVersion)(pu,"0.9.10"),(0,N.registerVersion)(pu,"0.9.10","esm2017")}();const cl="analytics",ul="firebase_id",ll="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Nc="https://www.googletagmanager.com/gtag/js",li=new $.Yd("@firebase/analytics");function gu(U){return Promise.all(U.map(V=>V.catch(ee=>ee)))}function Wg(U,V){const ee=document.createElement("script");ee.src=`${Nc}?l=${U}&id=${V}`,ee.async=!0,document.head.appendChild(ee)}function dl(U,V,ee,Se,Ke,dt){return nd.apply(this,arguments)}function nd(){return(nd=(0,E.Z)(function*(U,V,ee,Se,Ke,dt){const Gt=Se[Ke];try{if(Gt)yield V[Gt];else{const lr=(yield gu(ee)).find(Hn=>Hn.measurementId===Ke);lr&&(yield V[lr.appId])}}catch(Jt){li.error(Jt)}U("config",Ke,dt)})).apply(this,arguments)}function Qi(U,V,ee,Se,Ke){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,E.Z)(function*(U,V,ee,Se,Ke){try{let dt=[];if(Ke&&Ke.send_to){let Gt=Ke.send_to;Array.isArray(Gt)||(Gt=[Gt]);const Jt=yield gu(ee);for(const lr of Gt){const Hn=Jt.find(zn=>zn.measurementId===lr),Or=Hn&&V[Hn.appId];if(!Or){dt=[];break}dt.push(Or)}}0===dt.length&&(dt=Object.values(V)),yield Promise.all(dt),U("event",Se,Ke||{})}catch(dt){li.error(dt)}})).apply(this,arguments)}function L_(){const U=window.document.getElementsByTagName("script");for(const V of Object.values(U))if(V.src&&V.src.includes(Nc))return V;return null}const ar=new P.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jn=new class kn{constructor(V={},ee=1e3){this.throttleMetadata=V,this.intervalMillis=ee}getThrottleMetadata(V){return this.throttleMetadata[V]}setThrottleMetadata(V,ee){this.throttleMetadata[V]=ee}deleteThrottleMetadata(V){delete this.throttleMetadata[V]}};function nh(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function on(U){return pt.apply(this,arguments)}function pt(){return(pt=(0,E.Z)(function*(U){var V;const{appId:ee,apiKey:Se}=U,Ke={method:"GET",headers:nh(Se)},dt=ll.replace("{app-id}",ee),Gt=yield fetch(dt,Ke);if(200!==Gt.status&&304!==Gt.status){let Jt="";try{const lr=yield Gt.json();(null===(V=lr.error)||void 0===V?void 0:V.message)&&(Jt=lr.error.message)}catch(lr){}throw ar.create("config-fetch-failed",{httpStatus:Gt.status,responseMessage:Jt})}return Gt.json()})).apply(this,arguments)}function It(U){return zr.apply(this,arguments)}function zr(){return(zr=(0,E.Z)(function*(U,V=Jn,ee){const{appId:Se,apiKey:Ke,measurementId:dt}=U.options;if(!Se)throw ar.create("no-app-id");if(!Ke){if(dt)return{measurementId:dt,appId:Se};throw ar.create("no-api-key")}const Gt=V.getThrottleMetadata(Se)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Jt=new Rc;return setTimeout((0,E.Z)(function*(){Jt.abort()}),void 0!==ee?ee:6e4),_r({appId:Se,apiKey:Ke,measurementId:dt},Gt,Jt,V)})).apply(this,arguments)}function _r(U,V,ee){return er.apply(this,arguments)}function er(){return(er=(0,E.Z)(function*(U,{throttleEndTimeMillis:V,backoffCount:ee},Se,Ke=Jn){const{appId:dt,measurementId:Gt}=U;try{yield nf(Se,V)}catch(Jt){if(Gt)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:dt,measurementId:Gt};throw Jt}try{const Jt=yield on(U);return Ke.deleteThrottleMetadata(dt),Jt}catch(Jt){if(!rf(Jt)){if(Ke.deleteThrottleMetadata(dt),Gt)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Gt} provided in the "measurementId" field in the local Firebase config. [${Jt.message}]`),{appId:dt,measurementId:Gt};throw Jt}const lr=503===Number(Jt.customData.httpStatus)?(0,P.$s)(ee,Ke.intervalMillis,30):(0,P.$s)(ee,Ke.intervalMillis),Hn={throttleEndTimeMillis:Date.now()+lr,backoffCount:ee+1};return Ke.setThrottleMetadata(dt,Hn),li.debug(`Calling attemptFetch again in ${lr} millis`),_r(U,Hn,Se,Ke)}})).apply(this,arguments)}function nf(U,V){return new Promise((ee,Se)=>{const Ke=Math.max(V-Date.now(),0),dt=setTimeout(ee,Ke);U.addEventListener(()=>{clearTimeout(dt),Se(ar.create("fetch-throttle",{throttleEndTimeMillis:V}))})})}function rf(U){if(!(U instanceof P.ZR&&U.customData))return!1;const V=Number(U.customData.httpStatus);return 429===V||500===V||503===V||504===V}class Rc{constructor(){this.listeners=[]}addEventListener(V){this.listeners.push(V)}abort(){this.listeners.forEach(V=>V())}}function sf(){return hl.apply(this,arguments)}function hl(){return(hl=(0,E.Z)(function*(){if(!(0,P.hl)())return li.warn(ar.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,P.eu)()}catch(U){return li.warn(ar.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function $s(){return($s=(0,E.Z)(function*(U,V,ee,Se,Ke,dt,Gt){var Jt;const lr=It(U);lr.then(Ii=>{ee[Ii.measurementId]=Ii.appId,U.options.measurementId&&Ii.measurementId!==U.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${Ii.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Ii=>li.error(Ii)),V.push(lr);const Hn=sf().then(Ii=>{if(Ii)return Se.getId()}),[Or,zn]=yield Promise.all([lr,Hn]);L_()||Wg(dt,Or.measurementId),Ke("js",new Date);const ji=null!==(Jt=null==Gt?void 0:Gt.config)&&void 0!==Jt?Jt:{};return ji.origin="firebase",ji.update=!0,null!=zn&&(ji[ul]=zn),Ke("config",Or.measurementId,ji),Or.measurementId})).apply(this,arguments)}class Yr{constructor(V){this.app=V}_delete(){return delete cs[this.app.options.appId],Promise.resolve()}}let cs={},Do=[];const Cr={};let Xr,Nn,qs="dataLayer",pl=!1;function ja(U,V,ee){!function Cs(){const U=[];if((0,P.ru)()&&U.push("This is a browser extension environment."),(0,P.zI)()||U.push("Cookies are not available."),U.length>0){const V=U.map((Se,Ke)=>`(${Ke+1}) ${Se}`).join(" "),ee=ar.create("invalid-analytics-context",{errorInfo:V});li.warn(ee.message)}}();const Se=U.options.appId;if(!Se)throw ar.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw ar.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=cs[Se])throw ar.create("already-exists",{id:Se});if(!pl){!function Hs(U){let V=[];Array.isArray(window[U])?V=window[U]:window[U]=V}(qs);const{wrappedGtag:dt,gtagCore:Gt}=function mu(U,V,ee,Se,Ke){let dt=function(...Gt){window[Se].push(arguments)};return window[Ke]&&"function"==typeof window[Ke]&&(dt=window[Ke]),window[Ke]=function da(U,V,ee,Se){function dt(){return(dt=(0,E.Z)(function*(Gt,Jt,lr){try{"event"===Gt?yield Qi(U,V,ee,Jt,lr):"config"===Gt?yield dl(U,V,ee,Se,Jt,lr):U("set",Jt)}catch(Hn){li.error(Hn)}})).apply(this,arguments)}return function Ke(Gt,Jt,lr){return dt.apply(this,arguments)}}(dt,U,V,ee),{gtagCore:dt,wrappedGtag:window[Ke]}}(cs,Do,Cr,qs,"gtag");Nn=dt,Xr=Gt,pl=!0}return cs[Se]=function cc(U,V,ee,Se,Ke,dt,Gt){return $s.apply(this,arguments)}(U,Do,Cr,V,Xr,qs,ee),new Yr(U)}function gl(){return(gl=(0,E.Z)(function*(U,V,ee,Se,Ke){if(Ke&&Ke.global)U("event",ee,Se);else{const dt=yield V;U("event",ee,Object.assign(Object.assign({},Se),{send_to:dt}))}})).apply(this,arguments)}function qo(){return id.apply(this,arguments)}function id(){return(id=(0,E.Z)(function*(){if((0,P.ru)()||!(0,P.zI)()||!(0,P.hl)())return!1;try{return yield(0,P.eu)()}catch(U){return!1}})).apply(this,arguments)}const _l="@firebase/analytics";!function dc(){(0,N._registerComponent)(new j.wA(cl,(V,{options:ee})=>ja(V.getProvider("app").getImmediate(),V.getProvider("installations-internal").getImmediate(),ee),"PUBLIC")),(0,N._registerComponent)(new j.wA("analytics-internal",function U(V){try{const ee=V.getProvider(cl).getImmediate();return{logEvent:(Se,Ke,dt)=>function fn(U,V,ee,Se){U=(0,P.m9)(U),function Wr(U,V,ee,Se,Ke){return gl.apply(this,arguments)}(Nn,cs[U.app.options.appId],V,ee,Se).catch(Ke=>li.error(Ke))}(ee,Se,Ke,dt)}}catch(ee){throw ar.create("interop-component-reg-failed",{reason:ee})}},"PRIVATE")),(0,N.registerVersion)(_l,"0.7.6"),(0,N.registerVersion)(_l,"0.7.6","esm2017")}();var ws=M(4408),ha=M(7565);const Es=new class xi extends ha.v{}(class Ts extends ws.o{constructor(V,ee){super(V,ee),this.scheduler=V,this.work=ee}schedule(V,ee=0){return ee>0?super.schedule(V,ee):(this.delay=ee,this.state=V,this.scheduler.flush(this),this)}execute(V,ee){return ee>0||this.closed?super.execute(V,ee):this._execute(V,ee)}requestAsyncId(V,ee,Se=0){return null!=Se&&Se>0||null==Se&&this.delay>0?super.requestAsyncId(V,ee,Se):V.flush(this)}});var Zo=M(4986),ao=M(8306),Vi=M(8505),Zs=M(9468),yu=M(5363);const Ri=new t.GfV("7.2.1"),us="__angularfire_symbol__analyticsIsSupportedValue",Lc="__angularfire_symbol__analyticsIsSupported",fa="__angularfire_symbol__remoteConfigIsSupportedValue",sd="__angularfire_symbol__remoteConfigIsSupported",di="__angularfire_symbol__messagingIsSupportedValue",vu="__angularfire_symbol__messagingIsSupported";function af(U,V,ee){if(V){if(1===V.length)return V[0];const dt=V.filter(Gt=>Gt.app===ee);if(1===dt.length)return dt[0]}return ee.container.getProvider(U).getImmediate({optional:!0})}globalThis[Lc]||(globalThis[Lc]=qo().then(U=>globalThis[us]=U).catch(()=>globalThis[us]=!1)),globalThis[vu]||(globalThis[vu]=td().then(U=>globalThis[di]=U).catch(()=>globalThis[di]=!1)),globalThis[sd]||(globalThis[sd]=ce().then(U=>globalThis[fa]=U).catch(()=>globalThis[fa]=!1));const yl=(U,V)=>{const ee=V?[V]:(0,C.C6)(),Se=[];return ee.forEach(Ke=>{Ke.container.getProvider(U).instances.forEach(Gt=>{Se.includes(Gt)||Se.push(Gt)})}),Se};function Ga(){}class bu{constructor(V,ee=Es){this.zone=V,this.delegate=ee}now(){return this.delegate.now()}schedule(V,ee,Se){const Ke=this.zone;return this.delegate.schedule(function(Gt){Ke.runGuarded(()=>{V.apply(this,[Gt])})},ee,Se)}}class cf{constructor(V){this.zone=V,this.task=null}call(V,ee){const Se=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)),ee.pipe((0,Vi.b)({next:Se,complete:Se,error:Se})).subscribe(V).add(Se)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let pa=(()=>{class U{constructor(ee){this.ngZone=ee,this.outsideAngular=ee.runOutsideAngular(()=>new bu(Zone.current)),this.insideAngular=ee.run(()=>new bu(Zone.current,Zo.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ee){return new(ee||U)(t.LFG(t.R0b))},U.\u0275prov=t.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Uc(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function Ss(U){return Uc().ngZone.runOutsideAngular(()=>U())}function eo(U){return Uc().ngZone.run(()=>U())}function Bc(U){return Uc(),function Cu(U){return function(ee){return(ee=ee.lift(new cf(U.ngZone))).pipe((0,Zs.R)(U.outsideAngular),(0,yu.Q)(U.insideAngular))}}(Uc())(U)}const ma=(U,V)=>function(){const Se=arguments;return V&&setTimeout(()=>{"scheduled"===V.state&&V.invoke()},10),eo(()=>U.apply(void 0,Se))},vl=(U,V)=>function(){let ee;const Se=arguments;for(let dt=0;dt<arguments.length;dt++)"function"==typeof Se[dt]&&(V&&(ee||(ee=eo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ga,{},Ga,Ga)))),Se[dt]=ma(Se[dt],ee));const Ke=Ss(()=>U.apply(this,Se));if(!V){if(Ke instanceof ao.y){const dt=Uc();return Ke.pipe((0,Zs.R)(dt.outsideAngular),(0,yu.Q)(dt.insideAngular))}return eo(()=>Ke)}return Ke instanceof ao.y?Ke.pipe(Bc):Ke instanceof Promise?eo(()=>new Promise((dt,Gt)=>Ke.then(Jt=>eo(()=>dt(Jt)),Jt=>eo(()=>Gt(Jt))))):"function"==typeof Ke&&ee?function(){return setTimeout(()=>{ee&&"scheduled"===ee.state&&ee.invoke()},10),Ke.apply(this,arguments)}:eo(()=>Ke)}},896:nt=>{window,nt.exports=function(A){var M={};function t(C){if(M[C])return M[C].exports;var E=M[C]={i:C,l:!1,exports:{}};return A[C].call(E.exports,E,E.exports,t),E.l=!0,E.exports}return t.m=A,t.c=M,t.d=function(C,E,N){t.o(C,E)||Object.defineProperty(C,E,{enumerable:!0,get:N})},t.r=function(C){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(C,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(C,"__esModule",{value:!0})},t.t=function(C,E){if(1&E&&(C=t(C)),8&E||4&E&&"object"==typeof C&&C&&C.__esModule)return C;var N=Object.create(null);if(t.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:C}),2&E&&"string"!=typeof C)for(var P in C)t.d(N,P,function(j){return C[j]}.bind(null,P));return N},t.n=function(C){var E=C&&C.__esModule?function(){return C.default}:function(){return C};return t.d(E,"a",E),E},t.o=function(C,E){return Object.prototype.hasOwnProperty.call(C,E)},t.p="/",t(t.s=89)}([function(A,M){A.exports=function(t,C,E){return C in t?Object.defineProperty(t,C,{value:E,enumerable:!0,configurable:!0,writable:!0}):t[C]=E,t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){function t(C){return A.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)},A.exports.__esModule=!0,A.exports.default=A.exports,t(C)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t,C){if(!(t instanceof C))throw new TypeError("Cannot call a class as a function")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){function t(C,E){for(var N=0;N<E.length;N++){var P=E[N];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(C,P.key,P)}}A.exports=function(C,E,N){return E&&t(C.prototype,E),N&&t(C,N),Object.defineProperty(C,"prototype",{writable:!1}),C},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(20).default,E=t(1);A.exports=function(N,P){if(P&&("object"===C(P)||"function"==typeof P))return P;if(void 0!==P)throw new TypeError("Derived constructors may only return object or undefined");return E(N)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(41);A.exports=function(E,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(N&&N.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),N&&C(E,N)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){A.exports={EPSILON:t(62),create:t(63),clone:t(156),fromValues:t(157),copy:t(158),set:t(159),equals:t(160),exactEquals:t(161),add:t(162),subtract:t(64),sub:t(163),multiply:t(65),mul:t(164),divide:t(66),div:t(165),inverse:t(166),min:t(167),max:t(168),rotate:t(169),floor:t(170),ceil:t(171),round:t(172),scale:t(173),scaleAndAdd:t(174),distance:t(67),dist:t(175),squaredDistance:t(68),sqrDist:t(176),length:t(69),len:t(177),squaredLength:t(70),sqrLen:t(178),negate:t(179),normalize:t(180),dot:t(181),cross:t(182),lerp:t(183),random:t(184),transformMat2:t(185),transformMat2d:t(186),transformMat3:t(187),transformMat4:t(188),forEach:t(189),limit:t(190)}},function(A,M,t){A.exports=t(224)},function(A,M,t){"use strict";M.a={init:function(C,E){for(var N=C.length;N--;)C[N]=E},shuffle:function(C){for(var E=C.length-1;E>=0;E--){var N=Math.floor(Math.random()*E),P=C[E];C[E]=C[N],C[N]=P}return C},toPointList:function(C){var E=C.reduce(function(N,P){var j="[".concat(P.join(","),"]");return N.push(j),N},[]);return"[".concat(E.join(",\r\n"),"]")},threshold:function(C,E,N){return C.reduce(function(P,j){return N.apply(C,[j])>=E&&P.push(j),P},[])},maxIndex:function(C){for(var E=0,N=0;N<C.length;N++)C[N]>C[E]&&(E=N);return E},max:function(C){for(var E=0,N=0;N<C.length;N++)C[N]>E&&(E=C[N]);return E},sum:function(C){for(var E=C.length,N=0;E--;)N+=C[E];return N}}},function(A,M,t){"use strict";t.d(M,"h",function(){return W}),t.d(M,"i",function(){return ae}),t.d(M,"b",function(){return Je}),t.d(M,"j",function(){return $e}),t.d(M,"e",function(){return Ge}),t.d(M,"c",function(){return ut}),t.d(M,"f",function(){return ue}),t.d(M,"g",function(){return Me}),t.d(M,"a",function(){return rt}),t.d(M,"d",function(){return qe});var C=t(7),E=t(84),N={clone:C.clone,dot:C.dot},P=function(we,He){var Ie=[],it={rad:0,vec:N.clone([0,0])},se={};function oe(ge){se[ge.id]=ge,Ie.push(ge)}function Q(){var ge,Pe=0;for(ge=0;ge<Ie.length;ge++)Pe+=Ie[ge].rad;it.rad=Pe/Ie.length,it.vec=N.clone([Math.cos(it.rad),Math.sin(it.rad)])}return oe(we),Q(),{add:function(ge){se[ge.id]||(oe(ge),Q())},fits:function(ge){return Math.abs(N.dot(ge.point.vec,it.vec))>He},getPoints:function(){return Ie},getCenter:function(){return it}}},j=function(we,He,Ie){return{rad:we[Ie],point:we,id:He}},$=t(9),z={clone:C.clone},J={clone:E.clone};function W(we,He){return{x:we,y:He,toVec2:function(){return z.clone([this.x,this.y])},toVec3:function(){return J.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ne(we,He){He||(He=8);for(var Ie=we.data,it=Ie.length,se=8-He,oe=new Int32Array(1<<He);it--;)oe[Ie[it]>>se]++;return oe}function ae(we,He){var Ie=function(it){var se,oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,Q=8-oe;function ge(Dt,pn){for(var wt=0,mt=Dt;mt<=pn;mt++)wt+=se[mt];return wt}function Pe(Dt,pn){for(var wt=0,mt=Dt;mt<=pn;mt++)wt+=mt*se[mt];return wt}function de(){var Dt,pn,wt,mt,xt=[0],cn=(1<<oe)-1;se=ne(it,oe);for(var tr=1;tr<cn;tr++)0==(wt=(Dt=ge(0,tr))*(pn=ge(tr+1,cn)))&&(wt=1),mt=Pe(0,tr)*pn-Pe(tr+1,cn)*Dt,xt[tr]=mt*mt/wt;return $.a.maxIndex(xt)}return de()<<Q}(we);return function(it,se,oe){oe||(oe=it);for(var Q=it.data,ge=Q.length,Pe=oe.data;ge--;)Pe[ge]=Q[ge]<se?1:0}(we,Ie,He),Ie}function Je(we,He,Ie){var it,se,oe,Q,ge=[];function Pe(de){var gt=!1;for(se=0;se<ge.length;se++)(oe=ge[se]).fits(de)&&(oe.add(de),gt=!0);return gt}for(Ie||(Ie="rad"),it=0;it<we.length;it++)Pe(Q=j(we[it],it,Ie))||ge.push(P(Q,He));return ge}function $e(we,He,Ie){var it,se,oe,Q,ge=0,Pe=0,de=[];for(it=0;it<He;it++)de[it]={score:0,item:null};for(it=0;it<we.length;it++)if((se=Ie.apply(this,[we[it]]))>Pe)for((oe=de[ge]).score=se,oe.item=we[it],Pe=Number.MAX_VALUE,Q=0;Q<He;Q++)de[Q].score<Pe&&(Pe=de[Q].score,ge=Q);return de}function Ge(we,He,Ie){for(var it,se=0,oe=He.x,Q=Math.floor(we.length/4),ge=He.x/2,Pe=0,de=He.x;oe<Q;){for(it=0;it<ge;it++)Ie[Pe]=(.299*we[4*se+0]+.587*we[4*se+1]+.114*we[4*se+2]+(.299*we[4*(se+1)+0]+.587*we[4*(se+1)+1]+.114*we[4*(se+1)+2])+(.299*we[4*oe+0]+.587*we[4*oe+1]+.114*we[4*oe+2])+(.299*we[4*(oe+1)+0]+.587*we[4*(oe+1)+1]+.114*we[4*(oe+1)+2]))/4,Pe++,se+=2,oe+=2;se+=de,oe+=de}}function ut(we,He,Ie){var it=we.length/4|0;if(Ie&&!0===Ie.singleChannel)for(var se=0;se<it;se++)He[se]=we[4*se+0];else for(var oe=0;oe<it;oe++)He[oe]=.299*we[4*oe+0]+.587*we[4*oe+1]+.114*we[4*oe+2]}function ue(we,He){for(var Ie=we.data,it=we.size.x,se=He.data,oe=0,Q=it,ge=Ie.length,Pe=it/2,de=0;Q<ge;){for(var gt=0;gt<Pe;gt++)se[de]=Math.floor((Ie[oe]+Ie[oe+1]+Ie[Q]+Ie[Q+1])/4),de++,oe+=2,Q+=2;oe+=it,Q+=it}}function Me(we){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ie=we[0],se=we[2],oe=se*we[1],Q=oe*(1-Math.abs(Ie/60%2-1)),ge=se-oe,Pe=0,de=0,gt=0;return Ie<60?(Pe=oe,de=Q):Ie<120?(Pe=Q,de=oe):Ie<180?(de=oe,gt=Q):Ie<240?(de=Q,gt=oe):Ie<300?(Pe=Q,gt=oe):Ie<360&&(Pe=oe,gt=Q),He[0]=255*(Pe+ge)|0,He[1]=255*(de+ge)|0,He[2]=255*(gt+ge)|0,He}function De(we){for(var He=[],Ie=[],it=1;it<Math.sqrt(we)+1;it++)we%it==0&&(Ie.push(it),it!==we/it&&He.unshift(Math.floor(we/it)));return Ie.concat(He)}function rt(we,He){var Ie,it=De(He.x),se=De(He.y),oe=Math.max(He.x,He.y),Q=function(wt,mt){for(var xt=0,cn=0,tr=[];xt<wt.length&&cn<mt.length;)wt[xt]===mt[cn]?(tr.push(wt[xt]),xt++,cn++):wt[xt]>mt[cn]?cn++:xt++;return tr}(it,se),ge=[8,10,15,20,32,60,80],Pe={"x-small":5,small:4,medium:3,large:2,"x-large":1},de=Pe[we]||Pe.medium,gt=ge[de],Dt=Math.floor(oe/gt);function pn(wt){for(var mt=0,xt=wt[Math.floor(wt.length/2)];mt<wt.length-1&&wt[mt]<Dt;)mt++;return mt>0&&(xt=Math.abs(wt[mt]-Dt)>Math.abs(wt[mt-1]-Dt)?wt[mt-1]:wt[mt]),Dt/xt<ge[de+1]/ge[de]&&Dt/xt>ge[de-1]/ge[de]?{x:xt,y:xt}:null}return(Ie=pn(Q))||(Ie=pn(De(oe)))||(Ie=pn(De(Dt*gt))),Ie}var Be={top:function(we,He){return"%"===we.unit?Math.floor(He.height*(we.value/100)):null},right:function(we,He){return"%"===we.unit?Math.floor(He.width-He.width*(we.value/100)):null},bottom:function(we,He){return"%"===we.unit?Math.floor(He.height-He.height*(we.value/100)):null},left:function(we,He){return"%"===we.unit?Math.floor(He.width*(we.value/100)):null}};function qe(we,He,Ie){var it={width:we,height:He},se=Object.keys(Ie).reduce(function(oe,Q){var de,ge=(de=Ie[Q],{value:parseFloat(de),unit:(de.indexOf("%"),"%")}),Pe=Be[Q](ge,it);return oe[Q]=Pe,oe},{});return{sx:se.left,sy:se.top,sw:se.right-se.left,sh:se.bottom-se.top}}},function(A,M,t){"use strict";var C=t(83),E=t.n(C),N=t(3),P=t.n(N),j=t(4),$=t.n(j),z=t(0),J=t.n(z),W=t(7),ne=t(10),ae=t(9),Je={clone:W.clone};function $e(ut){if(ut<0)throw new Error("expected positive number, received ".concat(ut))}var Ge=function(){function ut(ue,Me){var De=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,rt=arguments.length>3?arguments[3]:void 0;P()(this,ut),J()(this,"data",void 0),J()(this,"size",void 0),J()(this,"indexMapping",void 0),Me?this.data=Me:(this.data=new De(ue.x*ue.y),rt&&ae.a.init(this.data,0)),this.size=ue}return $()(ut,[{key:"inImageWithBorder",value:function(ue){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return $e(Me),ue.x>=0&&ue.y>=0&&ue.x<this.size.x+2*Me&&ue.y<this.size.y+2*Me}},{key:"subImageAsCopy",value:function(ue,Me){$e(Me.x),$e(Me.y);for(var De=ue.size,rt=De.x,Be=De.y,qe=0;qe<rt;qe++)for(var we=0;we<Be;we++)ue.data[we*rt+qe]=this.data[(Me.y+we)*this.size.x+Me.x+qe];return ue}},{key:"get",value:function(ue,Me){return this.data[Me*this.size.x+ue]}},{key:"getSafe",value:function(ue,Me){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var De=0;De<this.size.x;De++)this.indexMapping.x[De]=De,this.indexMapping.x[De+this.size.x]=De;for(var rt=0;rt<this.size.y;rt++)this.indexMapping.y[rt]=rt,this.indexMapping.y[rt+this.size.y]=rt}return this.data[this.indexMapping.y[Me+this.size.y]*this.size.x+this.indexMapping.x[ue+this.size.x]]}},{key:"set",value:function(ue,Me,De){return this.data[Me*this.size.x+ue]=De,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ue=this.size,Me=ue.x,De=ue.y,rt=0;rt<Me;rt++)this.data[rt]=this.data[(De-1)*Me+rt]=0;for(var Be=1;Be<De-1;Be++)this.data[Be*Me]=this.data[Be*Me+(Me-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ue){var Me,De,rt,Be,qe,we,He,Ie,it,se,oe=this.data,Q=this.size.y,ge=this.size.x,Pe=[],de=[],gt=Math.PI,Dt=gt/4;if(ue<=0)return de;for(qe=0;qe<ue;qe++)Pe[qe]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(De=0;De<Q;De++)for(Be=De*De,Me=0;Me<ge;Me++)(rt=oe[De*ge+Me])>0&&((we=Pe[rt-1]).m00+=1,we.m01+=De,we.m10+=Me,we.m11+=Me*De,we.m02+=Be,we.m20+=Me*Me);for(qe=0;qe<ue;qe++)we=Pe[qe],isNaN(we.m00)||0===we.m00||(se=(we.m02/we.m00-(it=we.m01/we.m00)*it-(we.m20/we.m00-(Ie=we.m10/we.m00)*Ie))/(2*(He=we.m11/we.m00-Ie*it)),se=.5*Math.atan(se)+(He>=0?Dt:-Dt)+gt,we.theta=(180*se/gt+90)%180-90,we.theta<0&&(we.theta+=180),we.rad=se>gt?se-gt:se,we.vec=Je.clone([Math.cos(se),Math.sin(se)]),de.push(we));return de}},{key:"getAsRGBA",value:function(){for(var ue=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Me=new Uint8ClampedArray(4*this.size.x*this.size.y),De=0;De<this.size.y;De++)for(var rt=0;rt<this.size.x;rt++){var Be=De*this.size.x+rt,qe=this.get(rt,De)*ue;Me[4*Be+0]=qe,Me[4*Be+1]=qe,Me[4*Be+2]=qe,Me[4*Be+3]=255}return Me}},{key:"show",value:function(ue){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,De=ue.getContext("2d");if(!De)throw new Error("Unable to get canvas context");var rt=De.getImageData(0,0,ue.width,ue.height),Be=this.getAsRGBA(Me);ue.width=this.size.x,ue.height=this.size.y;var qe=new ImageData(Be,rt.width,rt.height);De.putImageData(qe,0,0)}},{key:"overlay",value:function(ue,Me,De){var rt=Me<0||Me>360?360:Me,Be=[0,1,1],qe=[0,0,0],we=[255,255,255],He=[0,0,0],Ie=ue.getContext("2d");if(!Ie)throw new Error("Unable to get canvas context");for(var it=Ie.getImageData(De.x,De.y,this.size.x,this.size.y),se=it.data,oe=this.data.length;oe--;){Be[0]=this.data[oe]*rt;var Q=4*oe,ge=Be[0]<=0?we:Be[0]>=360?He:Object(ne.g)(Be,qe),Pe=E()(ge,3);se[Q]=Pe[0],se[Q+1]=Pe[1],se[Q+2]=Pe[2],se[Q+3]=255}Ie.putImageData(it,De.x,De.y)}}]),ut}();M.a=Ge},function(A,M){function t(C,E,N,P,j,$,z){try{var J=C[$](z),W=J.value}catch(ne){return void N(ne)}J.done?E(W):Promise.resolve(W).then(P,j)}A.exports=function(C){return function(){var E=this,N=arguments;return new Promise(function(P,j){var $=C.apply(E,N);function z(W){t($,P,j,z,J,"next",W)}function J(W){t($,P,j,z,J,"throw",W)}z(void 0)})}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(225);function E(){return"undefined"!=typeof Reflect&&Reflect.get?(A.exports=E=Reflect.get,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=E=function(N,P,j){var $=C(N,P);if($){var z=Object.getOwnPropertyDescriptor($,P);return z.get?z.get.call(arguments.length<3?N:j):z.value}},A.exports.__esModule=!0,A.exports.default=A.exports),E.apply(this,arguments)}A.exports=E,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t){var C=typeof t;return null!=t&&("object"==C||"function"==C)}},function(A,M){A.exports=Array.isArray},function(A,M,t){"use strict";M.a={drawRect:function(C,E,N,P){N.strokeStyle=P.color,N.fillStyle=P.color,N.lineWidth=P.lineWidth||1,N.beginPath(),N.strokeRect(C.x,C.y,E.x,E.y)},drawPath:function(C,E,N,P){N.strokeStyle=P.color,N.fillStyle=P.color,N.lineWidth=P.lineWidth,N.beginPath(),N.moveTo(C[0][E.x],C[0][E.y]);for(var j=1;j<C.length;j++)N.lineTo(C[j][E.x],C[j][E.y]);N.closePath(),N.stroke()},drawImage:function(C,E,N){var P=N.getImageData(0,0,E.x,E.y),j=P.data,$=j.length,z=C.length;if($/z!=4)return!1;for(;z--;){var J=C[z];j[--$]=255,j[--$]=J,j[--$]=J,j[--$]=J}return N.putImageData(P,0,0),!0}}},function(A,M,t){var C=t(90),E=t(145)(function(N,P,j){C(N,P,j)});A.exports=E},function(A,M,t){var C=t(45),E="object"==typeof self&&self&&self.Object===Object&&self,N=C||E||Function("return this")();A.exports=N},function(A,M){A.exports=function(t){return null!=t&&"object"==typeof t}},function(A,M){function t(C){return A.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(E){return typeof E}:function(E){return E&&"function"==typeof Symbol&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E},A.exports.__esModule=!0,A.exports.default=A.exports,t(C)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){"use strict";M.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(C,E){var N,P=C.data,j=E.data,$=this.searchDirections,z=C.size.x;function J(ne,ae,Je,$e){var Ge,ut,ue;for(Ge=0;Ge<7;Ge++){if(P[N=(ut=ne.cy+$[ne.dir][0])*z+(ue=ne.cx+$[ne.dir][1])]===ae&&(0===j[N]||j[N]===Je))return j[N]=Je,ne.cy=ut,ne.cx=ue,!0;0===j[N]&&(j[N]=$e),ne.dir=(ne.dir+1)%8}return!1}function W(ne,ae,Je){return{dir:Je,x:ne,y:ae,next:null,prev:null}}return{trace:function(ne,ae,Je,$e){return J(ne,ae,Je,$e)},contourTracing:function(ne,ae,Je,$e,Ge){return function(ut,ue,Me,De,rt){var Be,qe,we,He=null,Ie={cx:ue,cy:ut,dir:0};if(J(Ie,De,Me,rt)){Be=He=W(ue,ut,Ie.dir),we=Ie.dir,(qe=W(Ie.cx,Ie.cy,0)).prev=Be,Be.next=qe,qe.next=null,Be=qe;do{Ie.dir=(Ie.dir+6)%8,J(Ie,De,Me,rt),we!==Ie.dir?(Be.dir=Ie.dir,(qe=W(Ie.cx,Ie.cy,0)).prev=Be,Be.next=qe,qe.next=null,Be=qe):(Be.dir=we,Be.x=Ie.cx,Be.y=Ie.cy),we=Ie.dir}while(Ie.cx!==ue||Ie.cy!==ut);He.prev=Be.prev,Be.prev.next=He}return He}(ne,ae,Je,$e,Ge)}}}}},function(A,M,t){var C=t(27),E=t(103),N=t(104),P=C?C.toStringTag:void 0;A.exports=function(j){return null==j?void 0===j?"[object Undefined]":"[object Null]":P&&P in Object(j)?E(j):N(j)}},function(A,M,t){"use strict";(function(C){var E,N,P,j,$,z,J,W,ne,ae,Je,$e,Ge=t(7),ut=t(34),ue=t(11),Me=t(10),De=t(9),rt=(t(16),t(87)),Be=t(21),qe=t(88),we={ctx:{binary:null},dom:{binary:null}},He={x:0,y:0};function Ie(oe){var Q,ge,Pe,de,gt,Dt,pn,wt=ne.size.x,mt=ne.size.y,xt=-ne.size.x,cn=-ne.size.y;for(Q=0,ge=0;ge<oe.length;ge++)Q+=(de=oe[ge]).rad;for((Q=(180*(Q/=oe.length)/Math.PI+90)%180-90)<0&&(Q+=180),Q=(180-Q)*Math.PI/180,gt=ut.copy(ut.create(),[Math.cos(Q),Math.sin(Q),-Math.sin(Q),Math.cos(Q)]),ge=0;ge<oe.length;ge++)for(de=oe[ge],Pe=0;Pe<4;Pe++)Ge.transformMat2(de.box[Pe],de.box[Pe],gt);for(ge=0;ge<oe.length;ge++)for(de=oe[ge],Pe=0;Pe<4;Pe++)de.box[Pe][0]<wt&&(wt=de.box[Pe][0]),de.box[Pe][0]>xt&&(xt=de.box[Pe][0]),de.box[Pe][1]<mt&&(mt=de.box[Pe][1]),de.box[Pe][1]>cn&&(cn=de.box[Pe][1]);for(Dt=[[wt,mt],[xt,mt],[xt,cn],[wt,cn]],pn=E.halfSample?2:1,gt=ut.invert(gt,gt),Pe=0;Pe<4;Pe++)Ge.transformMat2(Dt[Pe],Dt[Pe],gt);for(Pe=0;Pe<4;Pe++)Ge.scale(Dt[Pe],Dt[Pe],pn);return Dt}function it(oe,Q){ne.subImageAsCopy(j,Object(Me.h)(oe,Q)),$e.skeletonize()}function se(oe,Q,ge,Pe){var de,gt,Dt,pn,wt=[],mt=[],xt=Math.ceil(ae.x/3);if(oe.length>=2){for(de=0;de<oe.length;de++)oe[de].m00>xt&&wt.push(oe[de]);if(wt.length>=2){for(Dt=function(cn){var tr=Object(Me.b)(cn,.9),Fn=Object(Me.j)(tr,1,function(Hr){return Hr.getPoints().length}),yr=[],rr=[];if(1===Fn.length){yr=Fn[0].item.getPoints();for(var Xn=0;Xn<yr.length;Xn++)rr.push(yr[Xn].point)}return rr}(wt),gt=0,de=0;de<Dt.length;de++)gt+=Dt[de].rad;Dt.length>1&&Dt.length>=wt.length/4*3&&Dt.length>oe.length/4&&(gt/=Dt.length,pn={index:Q[1]*He.x+Q[0],pos:{x:ge,y:Pe},box:[Ge.clone([ge,Pe]),Ge.clone([ge+j.size.x,Pe]),Ge.clone([ge+j.size.x,Pe+j.size.y]),Ge.clone([ge,Pe+j.size.y])],moments:Dt,rad:gt,vec:Ge.clone([Math.cos(gt),Math.sin(gt)])},mt.push(pn))}}return mt}M.a={init:function(oe,Q){E=Q,Je=oe,function(){N=E.halfSample?new ue.a({x:Je.size.x/2|0,y:Je.size.y/2|0}):Je,ae=Object(Me.a)(E.patchSize,N.size),He.x=N.size.x/ae.x|0,He.y=N.size.y/ae.y|0,ne=new ue.a(N.size,void 0,Uint8Array,!1),$=new ue.a(ae,void 0,Array,!0);var ge=new ArrayBuffer(65536);j=new ue.a(ae,new Uint8Array(ge,0,ae.x*ae.y)),P=new ue.a(ae,new Uint8Array(ge,ae.x*ae.y*3,ae.x*ae.y),void 0,!0),$e=Object(qe.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:C,{size:ae.x},ge),W=new ue.a({x:N.size.x/j.size.x|0,y:N.size.y/j.size.y|0},void 0,Array,!0),z=new ue.a(W.size,void 0,void 0,!0),J=new ue.a(W.size,void 0,Int32Array,!0)}(),E.useWorker||"undefined"==typeof document||(we.dom.binary=document.createElement("canvas"),we.dom.binary.className="binaryBuffer",we.ctx.binary=we.dom.binary.getContext("2d"),we.dom.binary.width=ne.size.x,we.dom.binary.height=ne.size.y)},locate:function(){E.halfSample&&Object(Me.f)(Je,N),Object(Me.i)(N,ne),ne.zeroBorder();var oe=function(){var Pe,de,gt,Dt,pn,wt,mt=[];for(Pe=0;Pe<He.x;Pe++)for(de=0;de<He.y;de++)it(gt=j.size.x*Pe,Dt=j.size.y*de),P.zeroBorder(),De.a.init($.data,0),wt=rt.a.create(P,$).rasterize(0),pn=$.moments(wt.count),mt=mt.concat(se(pn,[Pe,de],gt,Dt));return mt}();if(oe.length<He.x*He.y*.05)return null;var Q=function(Pe){var de,gt,Dt=0,pn=0;function wt(){var xt;for(xt=0;xt<J.data.length;xt++)if(0===J.data[xt]&&1===z.data[xt])return xt;return J.length}function mt(xt){var Fn,yr,rr,Xn=xt%J.size.x,Hr=xt/J.size.x|0;if(xt<J.data.length)for(Fn=W.data[xt],J.data[xt]=Dt,rr=0;rr<Be.a.searchDirections.length;rr++)0!==z.data[yr=(Hr+Be.a.searchDirections[rr][0])*J.size.x+(Xn+Be.a.searchDirections[rr][1])]?0===J.data[yr]&&Math.abs(Ge.dot(W.data[yr].vec,Fn.vec))>.95&&mt(yr):J.data[yr]=Number.MAX_VALUE}for(De.a.init(z.data,0),De.a.init(J.data,0),De.a.init(W.data,null),de=0;de<Pe.length;de++)W.data[(gt=Pe[de]).index]=gt,z.data[gt.index]=1;for(z.zeroBorder();(pn=wt())<J.data.length;)Dt++,mt(pn);return Dt}(oe);if(Q<1)return null;var ge=function(Pe){var de,gt,Dt=[];for(de=0;de<Pe;de++)Dt.push(0);for(gt=J.data.length;gt--;)J.data[gt]>0&&Dt[J.data[gt]-1]++;return(Dt=Dt.map(function(pn,wt){return{val:pn,label:wt+1}})).sort(function(pn,wt){return wt.val-pn.val}),Dt.filter(function(pn){return pn.val>=5})}(Q);return 0===ge.length?null:function(Pe,de){var gt,Dt,wt,mt=[],xt=[];for(gt=0;gt<Pe.length;gt++){for(Dt=J.data.length,mt.length=0;Dt--;)J.data[Dt]===Pe[gt].label&&mt.push(W.data[Dt]);(wt=Ie(mt))&&xt.push(wt)}return xt}(ge)},checkImageConstraints:function(oe,Q){var ge,Pe,de=oe.getWidth(),gt=oe.getHeight(),Dt=Q.halfSample?.5:1;oe.getConfig().area&&(Pe=Object(Me.d)(de,gt,oe.getConfig().area),oe.setTopRight({x:Pe.sx,y:Pe.sy}),oe.setCanvasSize({x:de,y:gt}),de=Pe.sw,gt=Pe.sh);var pn={x:Math.floor(de*Dt),y:Math.floor(gt*Dt)};if(ge=Object(Me.a)(Q.patchSize,pn),oe.setWidth(Math.floor(Math.floor(pn.x/ge.x)*(1/Dt)*ge.x)),oe.setHeight(Math.floor(Math.floor(pn.y/ge.y)*(1/Dt)*ge.y)),oe.getWidth()%ge.x==0&&oe.getHeight()%ge.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(de," )and height (").concat(gt,") must a multiple of ").concat(ge.x))}}}).call(this,t(46))},function(A,M,t){var C=t(92),E=t(93),N=t(94),P=t(95),j=t(96);function $(z){var J=-1,W=null==z?0:z.length;for(this.clear();++J<W;){var ne=z[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=P,$.prototype.set=j,A.exports=$},function(A,M,t){var C=t(26);A.exports=function(E,N){for(var P=E.length;P--;)if(C(E[P][0],N))return P;return-1}},function(A,M){A.exports=function(t,C){return t===C||t!=t&&C!=C}},function(A,M,t){var C=t(18).Symbol;A.exports=C},function(A,M,t){var C=t(35)(Object,"create");A.exports=C},function(A,M,t){var C=t(117);A.exports=function(E,N){var P=E.__data__;return C(N)?P["string"==typeof N?"string":"hash"]:P.map}},function(A,M,t){var C=t(132),E=t(19),N=Object.prototype,P=N.hasOwnProperty,j=N.propertyIsEnumerable,$=C(function(){return arguments}())?C:function(z){return E(z)&&P.call(z,"callee")&&!j.call(z,"callee")};A.exports=$},function(A,M){var t=/^(?:0|[1-9]\d*)$/;A.exports=function(C,E){var N=typeof C;return!!(E=null==E?9007199254740991:E)&&("number"==N||"symbol"!=N&&t.test(C))&&C>-1&&C%1==0&&C<E}},function(A,M,t){var C=t(15),E=t(232),N=t(233),P=t(236);A.exports=function(j,$){return C(j)?j:E(j,$)?[j]:N(P(j))}},function(A,M,t){var C=t(226),E=t(227),N=t(60),P=t(228);A.exports=function(j){return C(j)||E(j)||N(j)||P()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){A.exports={determinant:t(251),transpose:t(252),multiply:t(253),identity:t(254),adjoint:t(255),rotate:t(256),invert:t(257),create:t(258),scale:t(259),copy:t(260),frob:t(261),ldu:t(262)}},function(A,M,t){var C=t(102),E=t(108);A.exports=function(N,P){var j=E(N,P);return C(j)?j:void 0}},function(A,M,t){var C=t(22),E=t(14);A.exports=function(N){if(!E(N))return!1;var P=C(N);return"[object Function]"==P||"[object GeneratorFunction]"==P||"[object AsyncFunction]"==P||"[object Proxy]"==P}},function(A,M,t){var C=t(49);A.exports=function(E,N,P){"__proto__"==N&&C?C(E,N,{configurable:!0,enumerable:!0,value:P,writable:!0}):E[N]=P}},function(A,M){A.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(A,M,t){var C=t(36),E=t(40);A.exports=function(N){return null!=N&&E(N.length)&&!C(N)}},function(A,M){A.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(A,M){function t(C,E){return A.exports=t=Object.setPrototypeOf||function(N,P){return N.__proto__=P,N},A.exports.__esModule=!0,A.exports.default=A.exports,t(C,E)}A.exports=t,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(22),E=t(19);A.exports=function(N){return"symbol"==typeof N||E(N)&&"[object Symbol]"==C(N)}},function(A,M,t){var C=t(42);A.exports=function(E){if("string"==typeof E||C(E))return E;var N=E+"";return"0"==N&&1/E==-1/0?"-0":N}},function(A,M,t){var C=t(35)(t(18),"Map");A.exports=C},function(A,M,t){(function(C){A.exports="object"==typeof C&&C&&C.Object===Object&&C}).call(this,t(46))},function(A,M){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch(C){"object"==typeof window&&(t=window)}A.exports=t},function(A,M,t){var C=t(109),E=t(116),N=t(118),P=t(119),j=t(120);function $(z){var J=-1,W=null==z?0:z.length;for(this.clear();++J<W;){var ne=z[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=P,$.prototype.set=j,A.exports=$},function(A,M,t){var C=t(37),E=t(26);A.exports=function(N,P,j){(void 0!==j&&!E(N[P],j)||void 0===j&&!(P in N))&&C(N,P,j)}},function(A,M,t){var C=t(35),E=function(){try{var N=C(Object,"defineProperty");return N({},"",{}),N}catch(P){}}();A.exports=E},function(A,M,t){var C=t(131)(Object.getPrototypeOf,Object);A.exports=C},function(A,M){var t=Object.prototype;A.exports=function(C){var E=C&&C.constructor;return C===("function"==typeof E&&E.prototype||t)}},function(A,M,t){(function(C){var E=t(18),N=t(134),P=M&&!M.nodeType&&M,j=P&&"object"==typeof C&&C&&!C.nodeType&&C,$=j&&j.exports===P?E.Buffer:void 0;C.exports=($?$.isBuffer:void 0)||N}).call(this,t(38)(A))},function(A,M,t){var C=t(136),E=t(137),N=t(138),P=N&&N.isTypedArray,j=P?E(P):C;A.exports=j},function(A,M){A.exports=function(t,C){if(("constructor"!==C||"function"!=typeof t[C])&&"__proto__"!=C)return t[C]}},function(A,M,t){var C=t(37),E=t(26),N=Object.prototype.hasOwnProperty;A.exports=function(P,j,$){var z=P[j];N.call(P,j)&&E(z,$)&&(void 0!==$||j in P)||C(P,j,$)}},function(A,M,t){var C=t(141),E=t(143),N=t(39);A.exports=function(P){return N(P)?C(P,!0):E(P)}},function(A,M){A.exports=function(t){return t}},function(A,M,t){var C=t(147),E=Math.max;A.exports=function(N,P,j){return P=E(void 0===P?N.length-1:P,0),function(){for(var $=arguments,z=-1,J=E($.length-P,0),W=Array(J);++z<J;)W[z]=$[P+z];z=-1;for(var ne=Array(P+1);++z<P;)ne[z]=$[z];return ne[P]=j(W),C(N,this,ne)}}},function(A,M,t){var C=t(148),E=t(150)(C);A.exports=E},function(A,M,t){var C=t(61);A.exports=function(E,N){if(E){if("string"==typeof E)return C(E,N);var P=Object.prototype.toString.call(E).slice(8,-1);return"Object"===P&&E.constructor&&(P=E.constructor.name),"Map"===P||"Set"===P?Array.from(E):"Arguments"===P||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)?C(E,N):void 0}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t,C){(null==C||C>t.length)&&(C=t.length);for(var E=0,N=new Array(C);E<C;E++)N[E]=t[E];return N},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=1e-6},function(A,M){A.exports=function(){var t=new Float32Array(2);return t[0]=0,t[1]=0,t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]-E[0],t[1]=C[1]-E[1],t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]*E[0],t[1]=C[1]*E[1],t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]/E[0],t[1]=C[1]/E[1],t}},function(A,M){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1];return Math.sqrt(E*E+N*N)}},function(A,M){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1];return E*E+N*N}},function(A,M){A.exports=function(t){var C=t[0],E=t[1];return Math.sqrt(C*C+E*E)}},function(A,M){A.exports=function(t){var C=t[0],E=t[1];return C*C+E*E}},function(A,M){A.exports=1e-6},function(A,M){A.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},function(A,M){A.exports=function(t,C,E){var N=new Float32Array(3);return N[0]=t,N[1]=C,N[2]=E,N}},function(A,M){A.exports=function(t,C){var E=C[0],N=C[1],P=C[2],j=E*E+N*N+P*P;return j>0&&(j=1/Math.sqrt(j),t[0]=C[0]*j,t[1]=C[1]*j,t[2]=C[2]*j),t}},function(A,M){A.exports=function(t,C){return t[0]*C[0]+t[1]*C[1]+t[2]*C[2]}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]-E[0],t[1]=C[1]-E[1],t[2]=C[2]-E[2],t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]*E[0],t[1]=C[1]*E[1],t[2]=C[2]*E[2],t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]/E[0],t[1]=C[1]/E[1],t[2]=C[2]/E[2],t}},function(A,M){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1],P=C[2]-t[2];return Math.sqrt(E*E+N*N+P*P)}},function(A,M){A.exports=function(t,C){var E=C[0]-t[0],N=C[1]-t[1],P=C[2]-t[2];return E*E+N*N+P*P}},function(A,M){A.exports=function(t){var C=t[0],E=t[1],N=t[2];return Math.sqrt(C*C+E*E+N*N)}},function(A,M){A.exports=function(t){var C=t[0],E=t[1],N=t[2];return C*C+E*E+N*N}},function(A,M,t){var C=t(153),E=t(154),N=t(60),P=t(155);A.exports=function(j,$){return C(j)||E(j,$)||N(j,$)||P()},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){A.exports={EPSILON:t(71),create:t(72),clone:t(191),angle:t(192),fromValues:t(73),copy:t(193),set:t(194),equals:t(195),exactEquals:t(196),add:t(197),subtract:t(76),sub:t(198),multiply:t(77),mul:t(199),divide:t(78),div:t(200),min:t(201),max:t(202),floor:t(203),ceil:t(204),round:t(205),scale:t(206),scaleAndAdd:t(207),distance:t(79),dist:t(208),squaredDistance:t(80),sqrDist:t(209),length:t(81),len:t(210),squaredLength:t(82),sqrLen:t(211),negate:t(212),inverse:t(213),normalize:t(74),dot:t(75),cross:t(214),lerp:t(215),random:t(216),transformMat4:t(217),transformMat3:t(218),transformQuat:t(219),rotateX:t(220),rotateY:t(221),rotateZ:t(222),forEach:t(223)}},function(A,M,t){var C=t(229),E=t(243)(function(N,P){return null==N?{}:C(N,P)});A.exports=E},function(A,M,t){var C=t(2),E=t(41),N=t(248),P=t(249);function j($){var z="function"==typeof Map?new Map:void 0;return A.exports=j=function(J){if(null===J||!N(J))return J;if("function"!=typeof J)throw new TypeError("Super expression must either be null or a function");if(void 0!==z){if(z.has(J))return z.get(J);z.set(J,W)}function W(){return P(J,arguments,C(this).constructor)}return W.prototype=Object.create(J.prototype,{constructor:{value:W,enumerable:!1,writable:!0,configurable:!0}}),E(W,J)},A.exports.__esModule=!0,A.exports.default=A.exports,j($)}A.exports=j,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){"use strict";var C=t(21),E={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,P){var j=N.data,$=P.data,z=N.size.x,J=N.size.y,W=C.a.create(N,P);return{rasterize:function(ne){var ae,Je,$e,Ge,ut,ue,Me,De,rt,Be,qe,we,He=[],Ie=0;for(we=0;we<400;we++)He[we]=0;for(He[0]=j[0],rt=null,ue=1;ue<J-1;ue++)for(Ge=0,Je=He[0],ut=1;ut<z-1;ut++)if(0===$[qe=ue*z+ut])if((ae=j[qe])!==Je){if(0===Ge)He[$e=Ie+1]=ae,Je=ae,null!==(Me=W.contourTracing(ue,ut,$e,ae,E.DIR.OUTSIDE_EDGE))&&(Ie++,Ge=$e,(De=E.createContour2D()).dir=E.CONTOUR_DIR.CW_DIR,De.index=Ge,De.firstVertex=Me,De.nextpeer=rt,De.insideContours=null,null!==rt&&(rt.prevpeer=De),rt=De);else if(null!==(Me=W.contourTracing(ue,ut,E.DIR.INSIDE_EDGE,ae,Ge))){for((De=E.createContour2D()).firstVertex=Me,De.insideContours=null,De.dir=0===ne?E.CONTOUR_DIR.CCW_DIR:E.CONTOUR_DIR.CW_DIR,De.index=ne,Be=rt;null!==Be&&Be.index!==Ge;)Be=Be.nextpeer;null!==Be&&(De.nextpeer=Be.insideContours,null!==Be.insideContours&&(Be.insideContours.prevpeer=De),Be.insideContours=De)}}else $[qe]=Ge;else $[qe]===E.DIR.OUTSIDE_EDGE||$[qe]===E.DIR.INSIDE_EDGE?(Ge=0,Je=$[qe]===E.DIR.INSIDE_EDGE?j[qe]:He[0]):Je=He[Ge=$[qe]];for(Be=rt;null!==Be;)Be.index=ne,Be=Be.nextpeer;return{cc:rt,count:Ie}},debug:{drawContour:function(ne,ae){var Je,$e,Ge,ut=ne.getContext("2d"),ue=ae;for(ut.strokeStyle="red",ut.fillStyle="red",ut.lineWidth=1,Je=null!==ue?ue.insideContours:null;null!==ue;){switch(null!==Je?($e=Je,Je=Je.nextpeer):($e=ue,Je=null!==(ue=ue.nextpeer)?ue.insideContours:null),$e.dir){case E.CONTOUR_DIR.CW_DIR:ut.strokeStyle="red";break;case E.CONTOUR_DIR.CCW_DIR:ut.strokeStyle="blue";break;case E.CONTOUR_DIR.UNKNOWN_DIR:ut.strokeStyle="green"}Ge=$e.firstVertex,ut.beginPath(),ut.moveTo(Ge.x,Ge.y);do{ut.lineTo((Ge=Ge.next).x,Ge.y)}while(Ge!==$e.firstVertex);ut.stroke()}}}}}};M.a=E},function(A,M,t){"use strict";M.a=function(C,E,N){var P=new C.Uint8Array(N),j=0|E.size,$=C.Math.imul;function z(ue,Me){ue|=0,Me|=0;var De=0,rt=0,qe=0,we=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(j-1|0);De=De+1|0)for(it=it+j|0,rt=1;(0|rt)<(j-1|0);rt=rt+1|0)P[Me+it+rt|0]=5==(0|(0|P[ue+(qe=it-j|0)+(He=rt-1|0)|0])+(0|P[ue+qe+(Ie=rt+1|0)|0])+(0|P[ue+it+rt|0])+(0|P[ue+(we=it+j|0)+He|0])+(0|P[ue+we+Ie|0]))?1:0}function J(ue,Me,De){ue|=0,Me|=0,De|=0;var rt=0;for(rt=0|$(j,j);(0|rt)>0;)P[De+(rt=rt-1|0)|0]=(0|P[ue+rt|0])-(0|P[Me+rt|0])|0}function W(ue,Me,De){ue|=0,Me|=0,De|=0;var rt=0;for(rt=0|$(j,j);(0|rt)>0;)P[De+(rt=rt-1|0)|0]=0|P[ue+rt|0]|P[Me+rt|0]|0}function ne(ue){ue|=0;var Me=0,De=0;for(De=0|$(j,j);(0|De)>0;)Me=(0|Me)+(0|P[ue+(De=De-1|0)|0])|0;return 0|Me}function Je(ue,Me){ue|=0,Me|=0;var De=0,rt=0,qe=0,we=0,He=0,Ie=0,it=0;for(De=1;(0|De)<(j-1|0);De=De+1|0)for(it=it+j|0,rt=1;(0|rt)<(j-1|0);rt=rt+1|0)P[Me+it+rt|0]=(0|(0|P[ue+(qe=it-j|0)+(He=rt-1|0)|0])+(0|P[ue+qe+(Ie=rt+1|0)|0])+(0|P[ue+it+rt|0])+(0|P[ue+(we=it+j|0)+He|0])+(0|P[ue+we+Ie|0]))>0?1:0}function $e(ue,Me){ue|=0,Me|=0;var De=0;for(De=0|$(j,j);(0|De)>0;)P[Me+(De=De-1|0)|0]=0|P[ue+De|0]}return{skeletonize:function ut(){var Me,De,rt,qe=0;(function ae(ue,Me){ue|=0,Me|=0;var De=0;for(De=0|$(j,j);(0|De)>0;)P[ue+(De=De-1|0)|0]=Me})(rt=(De=(Me=0|$(j,j))+Me|0)+Me|0,0),function Ge(ue){ue|=0;var Me=0,De=0;for(Me=0;(0|Me)<(j-1|0);Me=Me+1|0)P[ue+Me|0]=0,P[ue+De|0]=0,P[ue+(De=De+j-1|0)|0]=0,De=De+1|0;for(Me=0;(0|Me)<(0|j);Me=Me+1|0)P[ue+De|0]=0,De=De+1|0}(0);do{z(0,Me),Je(Me,De),J(0,De,De),W(rt,De,rt),$e(Me,0),qe=0==(0|ne(0))|0}while(!qe)}}}},function(A,M,t){A.exports=t(263)},function(A,M,t){var C=t(91),E=t(48),N=t(121),P=t(123),j=t(14),$=t(56),z=t(54);A.exports=function J(W,ne,ae,Je,$e){W!==ne&&N(ne,function(Ge,ut){if($e||($e=new C),j(Ge))P(W,ne,ut,ae,J,Je,$e);else{var ue=Je?Je(z(W,ut),Ge,ut+"",W,ne,$e):void 0;void 0===ue&&(ue=Ge),E(W,ut,ue)}},$)}},function(A,M,t){var C=t(24),E=t(97),N=t(98),P=t(99),j=t(100),$=t(101);function z(J){var W=this.__data__=new C(J);this.size=W.size}z.prototype.clear=E,z.prototype.delete=N,z.prototype.get=P,z.prototype.has=j,z.prototype.set=$,A.exports=z},function(A,M){A.exports=function(){this.__data__=[],this.size=0}},function(A,M,t){var C=t(25),E=Array.prototype.splice;A.exports=function(N){var P=this.__data__,j=C(P,N);return!(j<0||(j==P.length-1?P.pop():E.call(P,j,1),--this.size,0))}},function(A,M,t){var C=t(25);A.exports=function(E){var N=this.__data__,P=C(N,E);return P<0?void 0:N[P][1]}},function(A,M,t){var C=t(25);A.exports=function(E){return C(this.__data__,E)>-1}},function(A,M,t){var C=t(25);A.exports=function(E,N){var P=this.__data__,j=C(P,E);return j<0?(++this.size,P.push([E,N])):P[j][1]=N,this}},function(A,M,t){var C=t(24);A.exports=function(){this.__data__=new C,this.size=0}},function(A,M){A.exports=function(t){var C=this.__data__,E=C.delete(t);return this.size=C.size,E}},function(A,M){A.exports=function(t){return this.__data__.get(t)}},function(A,M){A.exports=function(t){return this.__data__.has(t)}},function(A,M,t){var C=t(24),E=t(44),N=t(47);A.exports=function(P,j){var $=this.__data__;if($ instanceof C){var z=$.__data__;if(!E||z.length<199)return z.push([P,j]),this.size=++$.size,this;$=this.__data__=new N(z)}return $.set(P,j),this.size=$.size,this}},function(A,M,t){var C=t(36),E=t(105),N=t(14),P=t(107),j=/^\[object .+?Constructor\]$/,ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");A.exports=function(ae){return!(!N(ae)||E(ae))&&(C(ae)?ne:j).test(P(ae))}},function(A,M,t){var C=t(27),E=Object.prototype,N=E.hasOwnProperty,P=E.toString,j=C?C.toStringTag:void 0;A.exports=function($){var z=N.call($,j),J=$[j];try{$[j]=void 0;var W=!0}catch(ae){}var ne=P.call($);return W&&(z?$[j]=J:delete $[j]),ne}},function(A,M){var t=Object.prototype.toString;A.exports=function(C){return t.call(C)}},function(A,M,t){var C,E=t(106),N=(C=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+C:"";A.exports=function(P){return!!N&&N in P}},function(A,M,t){var C=t(18)["__core-js_shared__"];A.exports=C},function(A,M){var t=Function.prototype.toString;A.exports=function(C){if(null!=C){try{return t.call(C)}catch(E){}try{return C+""}catch(E){}}return""}},function(A,M){A.exports=function(t,C){return null==t?void 0:t[C]}},function(A,M,t){var C=t(110),E=t(24),N=t(44);A.exports=function(){this.size=0,this.__data__={hash:new C,map:new(N||E),string:new C}}},function(A,M,t){var C=t(111),E=t(112),N=t(113),P=t(114),j=t(115);function $(z){var J=-1,W=null==z?0:z.length;for(this.clear();++J<W;){var ne=z[J];this.set(ne[0],ne[1])}}$.prototype.clear=C,$.prototype.delete=E,$.prototype.get=N,$.prototype.has=P,$.prototype.set=j,A.exports=$},function(A,M,t){var C=t(28);A.exports=function(){this.__data__=C?C(null):{},this.size=0}},function(A,M){A.exports=function(t){var C=this.has(t)&&delete this.__data__[t];return this.size-=C?1:0,C}},function(A,M,t){var C=t(28),E=Object.prototype.hasOwnProperty;A.exports=function(N){var P=this.__data__;if(C){var j=P[N];return"__lodash_hash_undefined__"===j?void 0:j}return E.call(P,N)?P[N]:void 0}},function(A,M,t){var C=t(28),E=Object.prototype.hasOwnProperty;A.exports=function(N){var P=this.__data__;return C?void 0!==P[N]:E.call(P,N)}},function(A,M,t){var C=t(28);A.exports=function(E,N){var P=this.__data__;return this.size+=this.has(E)?0:1,P[E]=C&&void 0===N?"__lodash_hash_undefined__":N,this}},function(A,M,t){var C=t(29);A.exports=function(E){var N=C(this,E).delete(E);return this.size-=N?1:0,N}},function(A,M){A.exports=function(t){var C=typeof t;return"string"==C||"number"==C||"symbol"==C||"boolean"==C?"__proto__"!==t:null===t}},function(A,M,t){var C=t(29);A.exports=function(E){return C(this,E).get(E)}},function(A,M,t){var C=t(29);A.exports=function(E){return C(this,E).has(E)}},function(A,M,t){var C=t(29);A.exports=function(E,N){var P=C(this,E),j=P.size;return P.set(E,N),this.size+=P.size==j?0:1,this}},function(A,M,t){var C=t(122)();A.exports=C},function(A,M){A.exports=function(t){return function(C,E,N){for(var P=-1,j=Object(C),$=N(C),z=$.length;z--;){var J=$[t?z:++P];if(!1===E(j[J],J,j))break}return C}}},function(A,M,t){var C=t(48),E=t(124),N=t(125),P=t(128),j=t(129),$=t(30),z=t(15),J=t(133),W=t(52),ne=t(36),ae=t(14),Je=t(135),$e=t(53),Ge=t(54),ut=t(139);A.exports=function(ue,Me,De,rt,Be,qe,we){var He=Ge(ue,De),Ie=Ge(Me,De),it=we.get(Ie);if(it)C(ue,De,it);else{var se=qe?qe(He,Ie,De+"",ue,Me,we):void 0,oe=void 0===se;if(oe){var Q=z(Ie),ge=!Q&&W(Ie),Pe=!Q&&!ge&&$e(Ie);se=Ie,Q||ge||Pe?z(He)?se=He:J(He)?se=P(He):ge?(oe=!1,se=E(Ie,!0)):Pe?(oe=!1,se=N(Ie,!0)):se=[]:Je(Ie)||$(Ie)?(se=He,$(He)?se=ut(He):ae(He)&&!ne(He)||(se=j(Ie))):oe=!1}oe&&(we.set(Ie,se),Be(se,Ie,rt,qe,we),we.delete(Ie)),C(ue,De,se)}}},function(A,M,t){(function(C){var E=t(18),N=M&&!M.nodeType&&M,P=N&&"object"==typeof C&&C&&!C.nodeType&&C,j=P&&P.exports===N?E.Buffer:void 0,$=j?j.allocUnsafe:void 0;C.exports=function(z,J){if(J)return z.slice();var W=z.length,ne=$?$(W):new z.constructor(W);return z.copy(ne),ne}}).call(this,t(38)(A))},function(A,M,t){var C=t(126);A.exports=function(E,N){var P=N?C(E.buffer):E.buffer;return new E.constructor(P,E.byteOffset,E.length)}},function(A,M,t){var C=t(127);A.exports=function(E){var N=new E.constructor(E.byteLength);return new C(N).set(new C(E)),N}},function(A,M,t){var C=t(18).Uint8Array;A.exports=C},function(A,M){A.exports=function(t,C){var E=-1,N=t.length;for(C||(C=Array(N));++E<N;)C[E]=t[E];return C}},function(A,M,t){var C=t(130),E=t(50),N=t(51);A.exports=function(P){return"function"!=typeof P.constructor||N(P)?{}:C(E(P))}},function(A,M,t){var C=t(14),E=Object.create,N=function(){function P(){}return function(j){if(!C(j))return{};if(E)return E(j);P.prototype=j;var $=new P;return P.prototype=void 0,$}}();A.exports=N},function(A,M){A.exports=function(t,C){return function(E){return t(C(E))}}},function(A,M,t){var C=t(22),E=t(19);A.exports=function(N){return E(N)&&"[object Arguments]"==C(N)}},function(A,M,t){var C=t(39),E=t(19);A.exports=function(N){return E(N)&&C(N)}},function(A,M){A.exports=function(){return!1}},function(A,M,t){var C=t(22),E=t(50),N=t(19),$=Function.prototype.toString,z=Object.prototype.hasOwnProperty,J=$.call(Object);A.exports=function(W){if(!N(W)||"[object Object]"!=C(W))return!1;var ne=E(W);if(null===ne)return!0;var ae=z.call(ne,"constructor")&&ne.constructor;return"function"==typeof ae&&ae instanceof ae&&$.call(ae)==J}},function(A,M,t){var C=t(22),E=t(40),N=t(19),P={};P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Arguments]"]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object Boolean]"]=P["[object DataView]"]=P["[object Date]"]=P["[object Error]"]=P["[object Function]"]=P["[object Map]"]=P["[object Number]"]=P["[object Object]"]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object WeakMap]"]=!1,A.exports=function(j){return N(j)&&E(j.length)&&!!P[C(j)]}},function(A,M){A.exports=function(t){return function(C){return t(C)}}},function(A,M,t){(function(C){var E=t(45),N=M&&!M.nodeType&&M,P=N&&"object"==typeof C&&C&&!C.nodeType&&C,j=P&&P.exports===N&&E.process,$=function(){try{return P&&P.require&&P.require("util").types||j&&j.binding&&j.binding("util")}catch(J){}}();C.exports=$}).call(this,t(38)(A))},function(A,M,t){var C=t(140),E=t(56);A.exports=function(N){return C(N,E(N))}},function(A,M,t){var C=t(55),E=t(37);A.exports=function(N,P,j,$){var z=!j;j||(j={});for(var J=-1,W=P.length;++J<W;){var ne=P[J],ae=$?$(j[ne],N[ne],ne,j,N):void 0;void 0===ae&&(ae=N[ne]),z?E(j,ne,ae):C(j,ne,ae)}return j}},function(A,M,t){var C=t(142),E=t(30),N=t(15),P=t(52),j=t(31),$=t(53),z=Object.prototype.hasOwnProperty;A.exports=function(J,W){var ne=N(J),ae=!ne&&E(J),Je=!ne&&!ae&&P(J),$e=!ne&&!ae&&!Je&&$(J),Ge=ne||ae||Je||$e,ut=Ge?C(J.length,String):[],ue=ut.length;for(var Me in J)!W&&!z.call(J,Me)||Ge&&("length"==Me||Je&&("offset"==Me||"parent"==Me)||$e&&("buffer"==Me||"byteLength"==Me||"byteOffset"==Me)||j(Me,ue))||ut.push(Me);return ut}},function(A,M){A.exports=function(t,C){for(var E=-1,N=Array(t);++E<t;)N[E]=C(E);return N}},function(A,M,t){var C=t(14),E=t(51),N=t(144),P=Object.prototype.hasOwnProperty;A.exports=function(j){if(!C(j))return N(j);var $=E(j),z=[];for(var J in j)("constructor"!=J||!$&&P.call(j,J))&&z.push(J);return z}},function(A,M){A.exports=function(t){var C=[];if(null!=t)for(var E in Object(t))C.push(E);return C}},function(A,M,t){var C=t(146),E=t(151);A.exports=function(N){return C(function(P,j){var $=-1,z=j.length,J=z>1?j[z-1]:void 0,W=z>2?j[2]:void 0;for(J=N.length>3&&"function"==typeof J?(z--,J):void 0,W&&E(j[0],j[1],W)&&(J=z<3?void 0:J,z=1),P=Object(P);++$<z;){var ne=j[$];ne&&N(P,ne,$,J)}return P})}},function(A,M,t){var C=t(57),E=t(58),N=t(59);A.exports=function(P,j){return N(E(P,j,C),P+"")}},function(A,M){A.exports=function(t,C,E){switch(E.length){case 0:return t.call(C);case 1:return t.call(C,E[0]);case 2:return t.call(C,E[0],E[1]);case 3:return t.call(C,E[0],E[1],E[2])}return t.apply(C,E)}},function(A,M,t){var C=t(149),E=t(49),N=t(57);A.exports=E?function(j,$){return E(j,"toString",{configurable:!0,enumerable:!1,value:C($),writable:!0})}:N},function(A,M){A.exports=function(t){return function(){return t}}},function(A,M){var t=Date.now;A.exports=function(C){var E=0,N=0;return function(){var P=t(),j=16-(P-N);if(N=P,j>0){if(++E>=800)return arguments[0]}else E=0;return C.apply(void 0,arguments)}}},function(A,M,t){var C=t(26),E=t(39),N=t(31),P=t(14);A.exports=function(j,$,z){if(!P(z))return!1;var J=typeof $;return!!("number"==J?E(z)&&N($,z.length):"string"==J&&$ in z)&&C(z[$],j)}},function(A,M){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(t,C){var E=65535&t,N=65535&C;return E*N+((t>>>16&65535)*N+E*(C>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null===t)throw new TypeError("Cannot convert undefined or null to object");for(var C=Object(t),E=1;E<arguments.length;E++){var N=arguments[E];if(null!==N)for(var P in N)Object.prototype.hasOwnProperty.call(N,P)&&(C[P]=N[P])}return C})},function(A,M){A.exports=function(t){if(Array.isArray(t))return t},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t,C){var E=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=E){var N,P,j=[],$=!0,z=!1;try{for(E=E.call(t);!($=(N=E.next()).done)&&(j.push(N.value),!C||j.length!==C);$=!0);}catch(J){z=!0,P=J}finally{try{$||null==E.return||E.return()}finally{if(z)throw P}}return j}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t){var C=new Float32Array(2);return C[0]=t[0],C[1]=t[1],C}},function(A,M){A.exports=function(t,C){var E=new Float32Array(2);return E[0]=t,E[1]=C,E}},function(A,M){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t}},function(A,M){A.exports=function(t,C,E){return t[0]=C,t[1]=E,t}},function(A,M,t){A.exports=function(E,N){var P=E[0],j=E[1],$=N[0],z=N[1];return Math.abs(P-$)<=C*Math.max(1,Math.abs(P),Math.abs($))&&Math.abs(j-z)<=C*Math.max(1,Math.abs(j),Math.abs(z))};var C=t(62)},function(A,M){A.exports=function(t,C){return t[0]===C[0]&&t[1]===C[1]}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]+E[0],t[1]=C[1]+E[1],t}},function(A,M,t){A.exports=t(64)},function(A,M,t){A.exports=t(65)},function(A,M,t){A.exports=t(66)},function(A,M){A.exports=function(t,C){return t[0]=1/C[0],t[1]=1/C[1],t}},function(A,M){A.exports=function(t,C,E){return t[0]=Math.min(C[0],E[0]),t[1]=Math.min(C[1],E[1]),t}},function(A,M){A.exports=function(t,C,E){return t[0]=Math.max(C[0],E[0]),t[1]=Math.max(C[1],E[1]),t}},function(A,M){A.exports=function(t,C,E){var N=Math.cos(E),P=Math.sin(E),j=C[0],$=C[1];return t[0]=j*N-$*P,t[1]=j*P+$*N,t}},function(A,M){A.exports=function(t,C){return t[0]=Math.floor(C[0]),t[1]=Math.floor(C[1]),t}},function(A,M){A.exports=function(t,C){return t[0]=Math.ceil(C[0]),t[1]=Math.ceil(C[1]),t}},function(A,M){A.exports=function(t,C){return t[0]=Math.round(C[0]),t[1]=Math.round(C[1]),t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]*E,t[1]=C[1]*E,t}},function(A,M){A.exports=function(t,C,E,N){return t[0]=C[0]+E[0]*N,t[1]=C[1]+E[1]*N,t}},function(A,M,t){A.exports=t(67)},function(A,M,t){A.exports=t(68)},function(A,M,t){A.exports=t(69)},function(A,M,t){A.exports=t(70)},function(A,M){A.exports=function(t,C){return t[0]=-C[0],t[1]=-C[1],t}},function(A,M){A.exports=function(t,C){var E=C[0],N=C[1],P=E*E+N*N;return P>0&&(P=1/Math.sqrt(P),t[0]=C[0]*P,t[1]=C[1]*P),t}},function(A,M){A.exports=function(t,C){return t[0]*C[0]+t[1]*C[1]}},function(A,M){A.exports=function(t,C,E){var N=C[0]*E[1]-C[1]*E[0];return t[0]=t[1]=0,t[2]=N,t}},function(A,M){A.exports=function(t,C,E,N){var P=C[0],j=C[1];return t[0]=P+N*(E[0]-P),t[1]=j+N*(E[1]-j),t}},function(A,M){A.exports=function(t,C){C=C||1;var E=2*Math.random()*Math.PI;return t[0]=Math.cos(E)*C,t[1]=Math.sin(E)*C,t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1];return t[0]=E[0]*N+E[2]*P,t[1]=E[1]*N+E[3]*P,t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1];return t[0]=E[0]*N+E[2]*P+E[4],t[1]=E[1]*N+E[3]*P+E[5],t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1];return t[0]=E[0]*N+E[3]*P+E[6],t[1]=E[1]*N+E[4]*P+E[7],t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1];return t[0]=E[0]*N+E[4]*P+E[12],t[1]=E[1]*N+E[5]*P+E[13],t}},function(A,M,t){A.exports=function(E,N,P,j,$,z){var J,W;for(N||(N=2),P||(P=0),W=j?Math.min(j*N+P,E.length):E.length,J=P;J<W;J+=N)C[0]=E[J],C[1]=E[J+1],$(C,C,z),E[J]=C[0],E[J+1]=C[1];return E};var C=t(63)()},function(A,M){A.exports=function(t,C,E){var N=C[0]*C[0]+C[1]*C[1];if(N>E*E){var P=Math.sqrt(N);t[0]=C[0]/P*E,t[1]=C[1]/P*E}else t[0]=C[0],t[1]=C[1];return t}},function(A,M){A.exports=function(t){var C=new Float32Array(3);return C[0]=t[0],C[1]=t[1],C[2]=t[2],C}},function(A,M,t){A.exports=function(P,j){var $=C(P[0],P[1],P[2]),z=C(j[0],j[1],j[2]);E($,$),E(z,z);var J=N($,z);return J>1?0:Math.acos(J)};var C=t(73),E=t(74),N=t(75)},function(A,M){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t[2]=C[2],t}},function(A,M){A.exports=function(t,C,E,N){return t[0]=C,t[1]=E,t[2]=N,t}},function(A,M,t){A.exports=function(E,N){var P=E[0],j=E[1],$=E[2],z=N[0],J=N[1],W=N[2];return Math.abs(P-z)<=C*Math.max(1,Math.abs(P),Math.abs(z))&&Math.abs(j-J)<=C*Math.max(1,Math.abs(j),Math.abs(J))&&Math.abs($-W)<=C*Math.max(1,Math.abs($),Math.abs(W))};var C=t(71)},function(A,M){A.exports=function(t,C){return t[0]===C[0]&&t[1]===C[1]&&t[2]===C[2]}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]+E[0],t[1]=C[1]+E[1],t[2]=C[2]+E[2],t}},function(A,M,t){A.exports=t(76)},function(A,M,t){A.exports=t(77)},function(A,M,t){A.exports=t(78)},function(A,M){A.exports=function(t,C,E){return t[0]=Math.min(C[0],E[0]),t[1]=Math.min(C[1],E[1]),t[2]=Math.min(C[2],E[2]),t}},function(A,M){A.exports=function(t,C,E){return t[0]=Math.max(C[0],E[0]),t[1]=Math.max(C[1],E[1]),t[2]=Math.max(C[2],E[2]),t}},function(A,M){A.exports=function(t,C){return t[0]=Math.floor(C[0]),t[1]=Math.floor(C[1]),t[2]=Math.floor(C[2]),t}},function(A,M){A.exports=function(t,C){return t[0]=Math.ceil(C[0]),t[1]=Math.ceil(C[1]),t[2]=Math.ceil(C[2]),t}},function(A,M){A.exports=function(t,C){return t[0]=Math.round(C[0]),t[1]=Math.round(C[1]),t[2]=Math.round(C[2]),t}},function(A,M){A.exports=function(t,C,E){return t[0]=C[0]*E,t[1]=C[1]*E,t[2]=C[2]*E,t}},function(A,M){A.exports=function(t,C,E,N){return t[0]=C[0]+E[0]*N,t[1]=C[1]+E[1]*N,t[2]=C[2]+E[2]*N,t}},function(A,M,t){A.exports=t(79)},function(A,M,t){A.exports=t(80)},function(A,M,t){A.exports=t(81)},function(A,M,t){A.exports=t(82)},function(A,M){A.exports=function(t,C){return t[0]=-C[0],t[1]=-C[1],t[2]=-C[2],t}},function(A,M){A.exports=function(t,C){return t[0]=1/C[0],t[1]=1/C[1],t[2]=1/C[2],t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2],$=E[0],z=E[1],J=E[2];return t[0]=P*J-j*z,t[1]=j*$-N*J,t[2]=N*z-P*$,t}},function(A,M){A.exports=function(t,C,E,N){var P=C[0],j=C[1],$=C[2];return t[0]=P+N*(E[0]-P),t[1]=j+N*(E[1]-j),t[2]=$+N*(E[2]-$),t}},function(A,M){A.exports=function(t,C){C=C||1;var E=2*Math.random()*Math.PI,N=2*Math.random()-1,P=Math.sqrt(1-N*N)*C;return t[0]=Math.cos(E)*P,t[1]=Math.sin(E)*P,t[2]=N*C,t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2],$=E[3]*N+E[7]*P+E[11]*j+E[15];return t[0]=(E[0]*N+E[4]*P+E[8]*j+E[12])/($=$||1),t[1]=(E[1]*N+E[5]*P+E[9]*j+E[13])/$,t[2]=(E[2]*N+E[6]*P+E[10]*j+E[14])/$,t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2];return t[0]=N*E[0]+P*E[3]+j*E[6],t[1]=N*E[1]+P*E[4]+j*E[7],t[2]=N*E[2]+P*E[5]+j*E[8],t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2],$=E[0],z=E[1],J=E[2],W=E[3],ne=W*N+z*j-J*P,ae=W*P+J*N-$*j,Je=W*j+$*P-z*N,$e=-$*N-z*P-J*j;return t[0]=ne*W+$e*-$+ae*-J-Je*-z,t[1]=ae*W+$e*-z+Je*-$-ne*-J,t[2]=Je*W+$e*-J+ne*-z-ae*-$,t}},function(A,M){A.exports=function(t,C,E,N){var P=E[1],j=E[2],$=C[1]-P,z=C[2]-j,J=Math.sin(N),W=Math.cos(N);return t[0]=C[0],t[1]=P+$*W-z*J,t[2]=j+$*J+z*W,t}},function(A,M){A.exports=function(t,C,E,N){var P=E[0],j=E[2],$=C[0]-P,z=C[2]-j,J=Math.sin(N),W=Math.cos(N);return t[0]=P+z*J+$*W,t[1]=C[1],t[2]=j+z*W-$*J,t}},function(A,M){A.exports=function(t,C,E,N){var P=E[0],j=E[1],$=C[0]-P,z=C[1]-j,J=Math.sin(N),W=Math.cos(N);return t[0]=P+$*W-z*J,t[1]=j+$*J+z*W,t[2]=C[2],t}},function(A,M,t){A.exports=function(E,N,P,j,$,z){var J,W;for(N||(N=3),P||(P=0),W=j?Math.min(j*N+P,E.length):E.length,J=P;J<W;J+=N)C[0]=E[J],C[1]=E[J+1],C[2]=E[J+2],$(C,C,z),E[J]=C[0],E[J+1]=C[1],E[J+2]=C[2];return E};var C=t(72)()},function(A,M,t){var C=function(E){"use strict";var N=Object.prototype,P=N.hasOwnProperty,j="function"==typeof Symbol?Symbol:{},$=j.iterator||"@@iterator",z=j.asyncIterator||"@@asyncIterator",J=j.toStringTag||"@@toStringTag";function W(oe,Q,ge,Pe){var pn,wt,mt,xt,gt=Object.create((Q&&Q.prototype instanceof Je?Q:Je).prototype),Dt=new Ie(Pe||[]);return gt._invoke=(pn=oe,wt=ge,mt=Dt,xt="suspendedStart",function(cn,tr){if("executing"===xt)throw new Error("Generator is already running");if("completed"===xt){if("throw"===cn)throw tr;return{value:void 0,done:!0}}for(mt.method=cn,mt.arg=tr;;){var Fn=mt.delegate;if(Fn){var yr=qe(Fn,mt);if(yr){if(yr===ae)continue;return yr}}if("next"===mt.method)mt.sent=mt._sent=mt.arg;else if("throw"===mt.method){if("suspendedStart"===xt)throw xt="completed",mt.arg;mt.dispatchException(mt.arg)}else"return"===mt.method&&mt.abrupt("return",mt.arg);xt="executing";var rr=ne(pn,wt,mt);if("normal"===rr.type){if(xt=mt.done?"completed":"suspendedYield",rr.arg===ae)continue;return{value:rr.arg,done:mt.done}}"throw"===rr.type&&(xt="completed",mt.method="throw",mt.arg=rr.arg)}}),gt}function ne(oe,Q,ge){try{return{type:"normal",arg:oe.call(Q,ge)}}catch(Pe){return{type:"throw",arg:Pe}}}E.wrap=W;var ae={};function Je(){}function $e(){}function Ge(){}var ut={};ut[$]=function(){return this};var ue=Object.getPrototypeOf,Me=ue&&ue(ue(it([])));Me&&Me!==N&&P.call(Me,$)&&(ut=Me);var De=Ge.prototype=Je.prototype=Object.create(ut);function rt(oe){["next","throw","return"].forEach(function(Q){oe[Q]=function(ge){return this._invoke(Q,ge)}})}function Be(oe,Q){var ge;this._invoke=function(Pe,de){function gt(){return new Q(function(Dt,pn){!function wt(mt,xt,cn,tr){var Fn=ne(oe[mt],oe,xt);if("throw"!==Fn.type){var yr=Fn.arg,rr=yr.value;return rr&&"object"==typeof rr&&P.call(rr,"__await")?Q.resolve(rr.__await).then(function(Xn){wt("next",Xn,cn,tr)},function(Xn){wt("throw",Xn,cn,tr)}):Q.resolve(rr).then(function(Xn){yr.value=Xn,cn(yr)},function(Xn){return wt("throw",Xn,cn,tr)})}tr(Fn.arg)}(Pe,de,Dt,pn)})}return ge=ge?ge.then(gt,gt):gt()}}function qe(oe,Q){var ge=oe.iterator[Q.method];if(void 0===ge){if(Q.delegate=null,"throw"===Q.method){if(oe.iterator.return&&(Q.method="return",Q.arg=void 0,qe(oe,Q),"throw"===Q.method))return ae;Q.method="throw",Q.arg=new TypeError("The iterator does not provide a 'throw' method")}return ae}var Pe=ne(ge,oe.iterator,Q.arg);if("throw"===Pe.type)return Q.method="throw",Q.arg=Pe.arg,Q.delegate=null,ae;var de=Pe.arg;return de?de.done?(Q[oe.resultName]=de.value,Q.next=oe.nextLoc,"return"!==Q.method&&(Q.method="next",Q.arg=void 0),Q.delegate=null,ae):de:(Q.method="throw",Q.arg=new TypeError("iterator result is not an object"),Q.delegate=null,ae)}function we(oe){var Q={tryLoc:oe[0]};1 in oe&&(Q.catchLoc=oe[1]),2 in oe&&(Q.finallyLoc=oe[2],Q.afterLoc=oe[3]),this.tryEntries.push(Q)}function He(oe){var Q=oe.completion||{};Q.type="normal",delete Q.arg,oe.completion=Q}function Ie(oe){this.tryEntries=[{tryLoc:"root"}],oe.forEach(we,this),this.reset(!0)}function it(oe){if(oe){var Q=oe[$];if(Q)return Q.call(oe);if("function"==typeof oe.next)return oe;if(!isNaN(oe.length)){var ge=-1,Pe=function de(){for(;++ge<oe.length;)if(P.call(oe,ge))return de.value=oe[ge],de.done=!1,de;return de.value=void 0,de.done=!0,de};return Pe.next=Pe}}return{next:se}}function se(){return{value:void 0,done:!0}}return $e.prototype=De.constructor=Ge,Ge.constructor=$e,Ge[J]=$e.displayName="GeneratorFunction",E.isGeneratorFunction=function(oe){var Q="function"==typeof oe&&oe.constructor;return!!Q&&(Q===$e||"GeneratorFunction"===(Q.displayName||Q.name))},E.mark=function(oe){return Object.setPrototypeOf?Object.setPrototypeOf(oe,Ge):(oe.__proto__=Ge,J in oe||(oe[J]="GeneratorFunction")),oe.prototype=Object.create(De),oe},E.awrap=function(oe){return{__await:oe}},rt(Be.prototype),Be.prototype[z]=function(){return this},E.AsyncIterator=Be,E.async=function(oe,Q,ge,Pe,de){void 0===de&&(de=Promise);var gt=new Be(W(oe,Q,ge,Pe),de);return E.isGeneratorFunction(Q)?gt:gt.next().then(function(Dt){return Dt.done?Dt.value:gt.next()})},rt(De),De[J]="Generator",De[$]=function(){return this},De.toString=function(){return"[object Generator]"},E.keys=function(oe){var Q=[];for(var ge in oe)Q.push(ge);return Q.reverse(),function Pe(){for(;Q.length;){var de=Q.pop();if(de in oe)return Pe.value=de,Pe.done=!1,Pe}return Pe.done=!0,Pe}},E.values=it,Ie.prototype={constructor:Ie,reset:function(oe){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(He),!oe)for(var Q in this)"t"===Q.charAt(0)&&P.call(this,Q)&&!isNaN(+Q.slice(1))&&(this[Q]=void 0)},stop:function(){this.done=!0;var oe=this.tryEntries[0].completion;if("throw"===oe.type)throw oe.arg;return this.rval},dispatchException:function(oe){if(this.done)throw oe;var Q=this;function ge(wt,mt){return gt.type="throw",gt.arg=oe,Q.next=wt,mt&&(Q.method="next",Q.arg=void 0),!!mt}for(var Pe=this.tryEntries.length-1;Pe>=0;--Pe){var de=this.tryEntries[Pe],gt=de.completion;if("root"===de.tryLoc)return ge("end");if(de.tryLoc<=this.prev){var Dt=P.call(de,"catchLoc"),pn=P.call(de,"finallyLoc");if(Dt&&pn){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0);if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}else if(Dt){if(this.prev<de.catchLoc)return ge(de.catchLoc,!0)}else{if(!pn)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return ge(de.finallyLoc)}}}},abrupt:function(oe,Q){for(var ge=this.tryEntries.length-1;ge>=0;--ge){var Pe=this.tryEntries[ge];if(Pe.tryLoc<=this.prev&&P.call(Pe,"finallyLoc")&&this.prev<Pe.finallyLoc){var de=Pe;break}}de&&("break"===oe||"continue"===oe)&&de.tryLoc<=Q&&Q<=de.finallyLoc&&(de=null);var gt=de?de.completion:{};return gt.type=oe,gt.arg=Q,de?(this.method="next",this.next=de.finallyLoc,ae):this.complete(gt)},complete:function(oe,Q){if("throw"===oe.type)throw oe.arg;return"break"===oe.type||"continue"===oe.type?this.next=oe.arg:"return"===oe.type?(this.rval=this.arg=oe.arg,this.method="return",this.next="end"):"normal"===oe.type&&Q&&(this.next=Q),ae},finish:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.finallyLoc===oe)return this.complete(ge.completion,ge.afterLoc),He(ge),ae}},catch:function(oe){for(var Q=this.tryEntries.length-1;Q>=0;--Q){var ge=this.tryEntries[Q];if(ge.tryLoc===oe){var Pe=ge.completion;if("throw"===Pe.type){var de=Pe.arg;He(ge)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(oe,Q,ge){return this.delegate={iterator:it(oe),resultName:Q,nextLoc:ge},"next"===this.method&&(this.arg=void 0),ae}},E}(A.exports);try{regeneratorRuntime=C}catch(E){Function("r","regeneratorRuntime = r")(C)}},function(A,M,t){var C=t(2);A.exports=function(E,N){for(;!Object.prototype.hasOwnProperty.call(E,N)&&null!==(E=C(E)););return E},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(61);A.exports=function(E){if(Array.isArray(E))return C(E)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(230),E=t(240);A.exports=function(N,P){return C(N,P,function(j,$){return E(N,$)})}},function(A,M,t){var C=t(231),E=t(239),N=t(32);A.exports=function(P,j,$){for(var z=-1,J=j.length,W={};++z<J;){var ne=j[z],ae=C(P,ne);$(ae,ne)&&E(W,N(ne,P),ae)}return W}},function(A,M,t){var C=t(32),E=t(43);A.exports=function(N,P){for(var j=0,$=(P=C(P,N)).length;null!=N&&j<$;)N=N[E(P[j++])];return j&&j==$?N:void 0}},function(A,M,t){var C=t(15),E=t(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,P=/^\w*$/;A.exports=function(j,$){if(C(j))return!1;var z=typeof j;return!("number"!=z&&"symbol"!=z&&"boolean"!=z&&null!=j&&!E(j))||P.test(j)||!N.test(j)||null!=$&&j in Object($)}},function(A,M,t){var C=t(234),E=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,P=C(function(j){var $=[];return 46===j.charCodeAt(0)&&$.push(""),j.replace(E,function(z,J,W,ne){$.push(W?ne.replace(N,"$1"):J||z)}),$});A.exports=P},function(A,M,t){var C=t(235);A.exports=function(E){var N=C(E,function(j){return 500===P.size&&P.clear(),j}),P=N.cache;return N}},function(A,M,t){var C=t(47);function E(N,P){if("function"!=typeof N||null!=P&&"function"!=typeof P)throw new TypeError("Expected a function");var j=function(){var $=arguments,z=P?P.apply(this,$):$[0],J=j.cache;if(J.has(z))return J.get(z);var W=N.apply(this,$);return j.cache=J.set(z,W)||J,W};return j.cache=new(E.Cache||C),j}E.Cache=C,A.exports=E},function(A,M,t){var C=t(237);A.exports=function(E){return null==E?"":C(E)}},function(A,M,t){var C=t(27),E=t(238),N=t(15),P=t(42),j=C?C.prototype:void 0,$=j?j.toString:void 0;A.exports=function z(J){if("string"==typeof J)return J;if(N(J))return E(J,z)+"";if(P(J))return $?$.call(J):"";var W=J+"";return"0"==W&&1/J==-1/0?"-0":W}},function(A,M){A.exports=function(t,C){for(var E=-1,N=null==t?0:t.length,P=Array(N);++E<N;)P[E]=C(t[E],E,t);return P}},function(A,M,t){var C=t(55),E=t(32),N=t(31),P=t(14),j=t(43);A.exports=function($,z,J,W){if(!P($))return $;for(var ne=-1,ae=(z=E(z,$)).length,Je=ae-1,$e=$;null!=$e&&++ne<ae;){var Ge=j(z[ne]),ut=J;if("__proto__"===Ge||"constructor"===Ge||"prototype"===Ge)return $;if(ne!=Je){var ue=$e[Ge];void 0===(ut=W?W(ue,Ge,$e):void 0)&&(ut=P(ue)?ue:N(z[ne+1])?[]:{})}C($e,Ge,ut),$e=$e[Ge]}return $}},function(A,M,t){var C=t(241),E=t(242);A.exports=function(N,P){return null!=N&&E(N,P,C)}},function(A,M){A.exports=function(t,C){return null!=t&&C in Object(t)}},function(A,M,t){var C=t(32),E=t(30),N=t(15),P=t(31),j=t(40),$=t(43);A.exports=function(z,J,W){for(var ne=-1,ae=(J=C(J,z)).length,Je=!1;++ne<ae;){var $e=$(J[ne]);if(!(Je=null!=z&&W(z,$e)))break;z=z[$e]}return Je||++ne!=ae?Je:!!(ae=null==z?0:z.length)&&j(ae)&&P($e,ae)&&(N(z)||E(z))}},function(A,M,t){var C=t(244),E=t(58),N=t(59);A.exports=function(P){return N(E(P,void 0,C),P+"")}},function(A,M,t){var C=t(245);A.exports=function(E){return null!=E&&E.length?C(E,1):[]}},function(A,M,t){var C=t(246),E=t(247);A.exports=function N(P,j,$,z,J){var W=-1,ne=P.length;for($||($=E),J||(J=[]);++W<ne;){var ae=P[W];j>0&&$(ae)?j>1?N(ae,j-1,$,z,J):C(J,ae):z||(J[J.length]=ae)}return J}},function(A,M){A.exports=function(t,C){for(var E=-1,N=C.length,P=t.length;++E<N;)t[P+E]=C[E];return t}},function(A,M,t){var C=t(27),E=t(30),N=t(15),P=C?C.isConcatSpreadable:void 0;A.exports=function(j){return N(j)||E(j)||!!(P&&j&&j[P])}},function(A,M){A.exports=function(t){return-1!==Function.toString.call(t).indexOf("[native code]")},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M,t){var C=t(41),E=t(250);function N(P,j,$){return E()?(A.exports=N=Reflect.construct,A.exports.__esModule=!0,A.exports.default=A.exports):(A.exports=N=function(z,J,W){var ne=[null];ne.push.apply(ne,J);var ae=new(Function.bind.apply(z,ne));return W&&C(ae,W.prototype),ae},A.exports.__esModule=!0,A.exports.default=A.exports),N.apply(null,arguments)}A.exports=N,A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}},A.exports.__esModule=!0,A.exports.default=A.exports},function(A,M){A.exports=function(t){return t[0]*t[3]-t[2]*t[1]}},function(A,M){A.exports=function(t,C){if(t===C){var E=C[1];t[1]=C[2],t[2]=E}else t[0]=C[0],t[1]=C[2],t[2]=C[1],t[3]=C[3];return t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2],$=C[3],z=E[0],J=E[1],W=E[2],ne=E[3];return t[0]=N*z+j*J,t[1]=P*z+$*J,t[2]=N*W+j*ne,t[3]=P*W+$*ne,t}},function(A,M){A.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,M){A.exports=function(t,C){var E=C[0];return t[0]=C[3],t[1]=-C[1],t[2]=-C[2],t[3]=E,t}},function(A,M){A.exports=function(t,C,E){var N=C[0],P=C[1],j=C[2],$=C[3],z=Math.sin(E),J=Math.cos(E);return t[0]=N*J+j*z,t[1]=P*J+$*z,t[2]=N*-z+j*J,t[3]=P*-z+$*J,t}},function(A,M){A.exports=function(t,C){var E=C[0],N=C[1],P=C[2],j=C[3],$=E*j-P*N;return $?(t[0]=j*($=1/$),t[1]=-N*$,t[2]=-P*$,t[3]=E*$,t):null}},function(A,M){A.exports=function(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}},function(A,M){A.exports=function(t,C,E){var P=C[1],j=C[2],$=C[3],z=E[0],J=E[1];return t[0]=C[0]*z,t[1]=P*z,t[2]=j*J,t[3]=$*J,t}},function(A,M){A.exports=function(t,C){return t[0]=C[0],t[1]=C[1],t[2]=C[2],t[3]=C[3],t}},function(A,M){A.exports=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)+Math.pow(t[2],2)+Math.pow(t[3],2))}},function(A,M){A.exports=function(t,C,E,N){return t[2]=N[2]/N[0],E[0]=N[0],E[1]=N[1],E[3]=N[3]-t[2]*E[1],[t,C,E]}},function(A,M,t){"use strict";t.r(M),t.d(M,"BarcodeDecoder",function(){return nr}),t.d(M,"Readers",function(){return C}),t.d(M,"CameraAccess",function(){return Rn}),t.d(M,"ImageDebug",function(){return Je.a}),t.d(M,"ImageWrapper",function(){return z.a}),t.d(M,"ResultCollector",function(){return br});var C={};t.r(C),t.d(C,"BarcodeReader",function(){return Q}),t.d(C,"TwoOfFiveReader",function(){return pn}),t.d(C,"NewCodabarReader",function(){return tr}),t.d(C,"Code128Reader",function(){return yr}),t.d(C,"Code32Reader",function(){return gn}),t.d(C,"Code39Reader",function(){return Fr}),t.d(C,"Code39VINReader",function(){return Re}),t.d(C,"Code93Reader",function(){return yt}),t.d(C,"EAN2Reader",function(){return Ht}),t.d(C,"EAN5Reader",function(){return Tt}),t.d(C,"EAN8Reader",function(){return Vt}),t.d(C,"EANReader",function(){return Cn}),t.d(C,"I2of5Reader",function(){return In}),t.d(C,"UPCEReader",function(){return pe}),t.d(C,"UPCReader",function(){return Ze});var E,ce,N=t(20),P=t.n(N),j=t(17),$=t.n(j),z=(t(152),t(11)),J=t(12),W=t.n(J),ne=t(8),ae=t.n(ne),Je=t(16),$e=t(3),Ge=t.n($e),ut=t(4),ue=t.n(ut),Me=t(1),De=t.n(Me),rt=t(6),Be=t.n(rt),qe=t(5),we=t.n(qe),He=t(2),Ie=t.n(He),it=t(0),se=t.n(it),oe=t(9);(ce=E||(E={}))[ce.Forward=1]="Forward",ce[ce.Reverse=-1]="Reverse";var Q=function(){function ce(Ce,re){Ge()(this,ce),se()(this,"_row",[]),se()(this,"config",{}),se()(this,"supplements",[]),se()(this,"SINGLE_CODE_ERROR",0),se()(this,"FORMAT","unknown"),se()(this,"CONFIG_KEYS",{}),this._row=[],this.config=Ce||{},re&&(this.supplements=re)}return ue()(ce,[{key:"_nextUnset",value:function(Ce){for(var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O<Ce.length;O++)if(!Ce[O])return O;return Ce.length}},{key:"_matchPattern",value:function(Ce,re){for(var O=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,B=0,G=0,Z=0,le=0,_e=0,Ee=0,We=0;We<Ce.length;We++)Z+=Ce[We],le+=re[We];if(Z<le)return Number.MAX_VALUE;O*=_e=Z/le;for(var K=0;K<Ce.length;K++){if(Ee=re[K]*_e,(G=Math.abs(Ce[K]-Ee)/Ee)>O)return Number.MAX_VALUE;B+=G}return B/le}},{key:"_nextSet",value:function(Ce){for(var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;O<Ce.length;O++)if(Ce[O])return O;return Ce.length}},{key:"_correctBars",value:function(Ce,re,O){for(var B=O.length,G=0;B--;)(G=Ce[O[B]]*(1-(1-re)/2))>1&&(Ce[O[B]]=G)}},{key:"decodePattern",value:function(Ce){this._row=Ce;var re=this.decode();return null===re?(this._row.reverse(),(re=this.decode())&&(re.direction=E.Reverse,re.start=this._row.length-re.start,re.end=this._row.length-re.end)):re.direction=E.Forward,re&&(re.format=this.FORMAT),re}},{key:"_matchRange",value:function(Ce,re,O){var B;for(B=Ce=Ce<0?0:Ce;B<re;B++)if(this._row[B]!==O)return!1;return!0}},{key:"_fillCounters",value:function(){var Ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,O=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],B=[],G=0;B[G]=0;for(var Z=Ce;Z<re;Z++)this._row[Z]^(O?1:0)?B[G]++:(B[++G]=1,O=!O);return B}},{key:"_toCounters",value:function(Ce,re){var O=re.length,B=this._row.length,G=!this._row[Ce],Z=0;oe.a.init(re,0);for(var le=Ce;le<B;le++)if(this._row[le]^(G?1:0))re[Z]++;else{if(++Z===O)break;re[Z]=1,G=!G}return re}},{key:"decodeImage",value:function(Ce){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),ce}();var Pe=[3,1,3,1,1,1],de=[3,1,1,1,3],gt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Dt=Pe.reduce(function(ce,Ce){return ce+Ce},0),pn=function(ce){Be()(re,ce);var Ce=function ge(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"barSpaceRatio",[1,1]),se()(De()(O),"FORMAT","2of5"),se()(De()(O),"SINGLE_CODE_ERROR",.78),se()(De()(O),"AVG_CODE_ERROR",.3),O}return ue()(re,[{key:"_findPattern",value:function(O,B){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],le=[],_e=0,he={error:Number.MAX_VALUE,code:-1,start:0,end:0},Ee=0,We=0,K=this.AVG_CODE_ERROR;B||(B=this._nextSet(this._row));for(var Te=0;Te<O.length;Te++)le[Te]=0;for(var Ae=B;Ae<this._row.length;Ae++)if(this._row[Ae]^(G?1:0))le[_e]++;else{if(_e===le.length-1){Ee=0;for(var at=0;at<le.length;at++)Ee+=le[at];if((We=this._matchPattern(le,O))<K)return he.error=We,he.start=Ae-Ee,he.end=Ae,he;if(!Z)return null;for(var qt=0;qt<le.length-2;qt++)le[qt]=le[qt+2];le[le.length-2]=0,le[le.length-1]=0,_e--}else _e++;le[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var O=null,B=this._nextSet(this._row),G=1,Z=0;!O;){if(!(O=this._findPattern(Pe,B,!1,!0)))return null;if(G=Math.floor((O.end-O.start)/Dt),(Z=O.start-5*G)>=0&&this._matchRange(Z,O.start,0))return O;B=O.end,O=null}return O}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(){this._row.reverse();var O=this._nextSet(this._row),B=this._findPattern(de,O,!1,!0);if(this._row.reverse(),null===B)return null;var G=B.start;return B.start=this._row.length-B.end,B.end=this._row.length-G,null!==B?this._verifyTrailingWhitespace(B):null}},{key:"_verifyCounterLength",value:function(O){return O.length%10==0}},{key:"_decodeCode",value:function(O){for(var B=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<gt.length;Z++){var le=this._matchPattern(O,gt[Z]);le<G.error&&(G.code=Z,G.error=le)}return G.error<B?G:null}},{key:"_decodePayload",value:function(O,B,G){for(var Z=0,le=O.length,_e=[0,0,0,0,0],he=null;Z<le;){for(var Ee=0;Ee<5;Ee++)_e[Ee]=O[Z]*this.barSpaceRatio[0],Z+=2;if(!(he=this._decodeCode(_e)))return null;B.push("".concat(he.code)),G.push(he)}return he}},{key:"decode",value:function(O,B){var G=this._findStart();if(!G)return null;var Z=this._findEnd();if(!Z)return null;var le=this._fillCounters(G.end,Z.start,!1);if(!this._verifyCounterLength(le))return null;var _e=[];_e.push(G);var he=[];return this._decodePayload(le,he,_e)?he.length<5?null:(_e.push(Z),{code:he.join(""),start:G.start,end:Z.end,startInfo:G,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);var mt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],xt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],cn=[26,41,11,14],tr=function(ce){Be()(re,ce);var Ce=function wt(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"_counters",[]),se()(De()(O),"FORMAT","codabar"),O}return ue()(re,[{key:"_computeAlternatingThreshold",value:function(O,B){for(var G=Number.MAX_VALUE,Z=0,le=0,_e=O;_e<B;_e+=2)(le=this._counters[_e])>Z&&(Z=le),le<G&&(G=le);return(G+Z)/2|0}},{key:"_toPattern",value:function(O){var B=O+7;if(B>this._counters.length)return-1;for(var G=this._computeAlternatingThreshold(O,B),Z=this._computeAlternatingThreshold(O+1,B),le=64,he=0,Ee=0;Ee<7;Ee++)this._counters[O+Ee]>(0==(1&Ee)?G:Z)&&(he|=le),le>>=1;return he}},{key:"_isStartEnd",value:function(O){for(var B=0;B<cn.length;B++)if(cn[B]===O)return!0;return!1}},{key:"_sumCounters",value:function(O,B){for(var G=0,Z=O;Z<B;Z++)G+=this._counters[Z];return G}},{key:"_findStart",value:function(){for(var O=this._nextUnset(this._row),B=1;B<this._counters.length;B++){var G=this._toPattern(B);if(-1!==G&&this._isStartEnd(G))return{start:O+=this._sumCounters(0,B),end:O+this._sumCounters(B,B+8),startCounter:B,endCounter:B+8}}return null}},{key:"_patternToChar",value:function(O){for(var B=0;B<xt.length;B++)if(xt[B]===O)return String.fromCharCode(mt[B]);return null}},{key:"_calculatePatternLength",value:function(O){for(var B=0,G=O;G<O+7;G++)B+=this._counters[G];return B}},{key:"_verifyWhitespace",value:function(O,B){return(O-1<=0||this._counters[O-1]>=this._calculatePatternLength(O)/2)&&(B+8>=this._counters.length||this._counters[B+7]>=this._calculatePatternLength(B)/2)}},{key:"_charToPattern",value:function(O){for(var B=O.charCodeAt(0),G=0;G<mt.length;G++)if(mt[G]===B)return xt[G];return 0}},{key:"_thresholdResultPattern",value:function(O,B){for(var G,Z={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},le=B,_e=0;_e<O.length;_e++){G=this._charToPattern(O[_e]);for(var he=6;he>=0;he--){var Ee=2==(1&he)?Z.bar:Z.space,We=1==(1&G)?Ee.wide:Ee.narrow;We.size+=this._counters[le+he],We.counts++,G>>=1}le+=8}return["space","bar"].forEach(function(K){var Te=Z[K];Te.wide.min=Math.floor((Te.narrow.size/Te.narrow.counts+Te.wide.size/Te.wide.counts)/2),Te.narrow.max=Math.ceil(Te.wide.min),Te.wide.max=Math.ceil((2*Te.wide.size+1.5)/Te.wide.counts)}),Z}},{key:"_validateResult",value:function(O,B){for(var G,Z=this._thresholdResultPattern(O,B),le=B,_e=0;_e<O.length;_e++){G=this._charToPattern(O[_e]);for(var he=6;he>=0;he--){var Ee=0==(1&he)?Z.bar:Z.space,We=1==(1&G)?Ee.wide:Ee.narrow,K=this._counters[le+he];if(K<We.min||K>We.max)return!1;G>>=1}le+=8}return!0}},{key:"decode",value:function(O,B){if(this._counters=this._fillCounters(),!(B=this._findStart()))return null;var G,Z=B.startCounter,le=[];do{if((G=this._toPattern(Z))<0)return null;var _e=this._patternToChar(G);if(null===_e)return null;if(le.push(_e),Z+=8,le.length>1&&this._isStartEnd(G))break}while(Z<this._counters.length);if(le.length-2<4||!this._isStartEnd(G)||!this._verifyWhitespace(B.startCounter,Z-8)||!this._validateResult(le,B.startCounter))return null;var he=B.start+this._sumCounters(B.startCounter,(Z=Z>this._counters.length?this._counters.length:Z)-8);return{code:le.join(""),start:B.start,end:he,startInfo:B,decodedCodes:le,format:this.FORMAT}}}]),re}(Q);var yr=function(ce){Be()(re,ce);var Ce=function Fn(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"CODE_SHIFT",98),se()(De()(O),"CODE_C",99),se()(De()(O),"CODE_B",100),se()(De()(O),"CODE_A",101),se()(De()(O),"START_CODE_A",103),se()(De()(O),"START_CODE_B",104),se()(De()(O),"START_CODE_C",105),se()(De()(O),"STOP_CODE",106),se()(De()(O),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),se()(De()(O),"SINGLE_CODE_ERROR",.64),se()(De()(O),"AVG_CODE_ERROR",.3),se()(De()(O),"FORMAT","code_128"),se()(De()(O),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),O}return ue()(re,[{key:"_decodeCode",value:function(O,B){for(var G={error:Number.MAX_VALUE,code:-1,start:O,end:O,correction:{bar:1,space:1}},Z=[0,0,0,0,0,0],_e=!this._row[O],he=0,Ee=O;Ee<this._row.length;Ee++)if(this._row[Ee]^(_e?1:0))Z[he]++;else{if(he===Z.length-1){B&&this._correct(Z,B);for(var We=0;We<this.CODE_PATTERN.length;We++){var K=this._matchPattern(Z,this.CODE_PATTERN[We]);K<G.error&&(G.code=We,G.error=K)}return G.end=Ee,-1===G.code||G.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[G.code]&&(G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],Z,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],Z,this.MODULE_INDICES.space)),G)}Z[++he]=1,_e=!_e}return null}},{key:"_correct",value:function(O,B){this._correctBars(O,B.bar,this.MODULE_INDICES.bar),this._correctBars(O,B.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var O=[0,0,0,0,0,0],B=this._nextSet(this._row),G={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},Z=!1,le=0,_e=B;_e<this._row.length;_e++)if(this._row[_e]^(Z?1:0))O[le]++;else{if(le===O.length-1){for(var he=O.reduce(function(Te,Ae){return Te+Ae},0),Ee=this.START_CODE_A;Ee<=this.START_CODE_C;Ee++){var We=this._matchPattern(O,this.CODE_PATTERN[Ee]);We<G.error&&(G.code=Ee,G.error=We)}if(G.error<this.AVG_CODE_ERROR)return G.start=_e-he,G.end=_e,G.correction.bar=this.calculateCorrection(this.CODE_PATTERN[G.code],O,this.MODULE_INDICES.bar),G.correction.space=this.calculateCorrection(this.CODE_PATTERN[G.code],O,this.MODULE_INDICES.space),G;for(var K=0;K<4;K++)O[K]=O[K+2];O[4]=0,O[5]=0,le--}else le++;O[le]=1,Z=!Z}return null}},{key:"decode",value:function(O,B){var G=this,Z=this._findStart();if(null===Z)return null;var le={code:Z.code,start:Z.start,end:Z.end,correction:{bar:Z.correction.bar,space:Z.correction.space}},_e=[];_e.push(le);for(var he=le.code,Ee=function(an){switch(an){case G.START_CODE_A:return G.CODE_A;case G.START_CODE_B:return G.CODE_B;case G.START_CODE_C:return G.CODE_C;default:return null}}(le.code),We=!1,K=!1,Te=K,Ae=!0,at=0,qt=[],hn=[];!We;){if(Te=K,K=!1,null!==(le=this._decodeCode(le.end,le.correction)))switch(le.code!==this.STOP_CODE&&(Ae=!0),le.code!==this.STOP_CODE&&(qt.push(le.code),he+=++at*le.code),_e.push(le),Ee){case this.CODE_A:if(le.code<64)hn.push(String.fromCharCode(32+le.code));else if(le.code<96)hn.push(String.fromCharCode(le.code-64));else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_SHIFT:K=!0,Ee=this.CODE_B;break;case this.CODE_B:Ee=this.CODE_B;break;case this.CODE_C:Ee=this.CODE_C;break;case this.STOP_CODE:We=!0}break;case this.CODE_B:if(le.code<96)hn.push(String.fromCharCode(32+le.code));else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_SHIFT:K=!0,Ee=this.CODE_A;break;case this.CODE_A:Ee=this.CODE_A;break;case this.CODE_C:Ee=this.CODE_C;break;case this.STOP_CODE:We=!0}break;case this.CODE_C:if(le.code<100)hn.push(le.code<10?"0"+le.code:le.code);else switch(le.code!==this.STOP_CODE&&(Ae=!1),le.code){case this.CODE_A:Ee=this.CODE_A;break;case this.CODE_B:Ee=this.CODE_B;break;case this.STOP_CODE:We=!0}}else We=!0;Te&&(Ee=Ee===this.CODE_A?this.CODE_B:this.CODE_A)}return null===le?null:(le.end=this._nextUnset(this._row,le.end),this._verifyTrailingWhitespace(le)?(he-=at*qt[qt.length-1])%103!==qt[qt.length-1]?null:hn.length?(Ae&&hn.splice(hn.length-1,1),{code:hn.join(""),start:Z.start,end:le.end,codeset:Ee,startInfo:Z,decodedCodes:_e,endInfo:le,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(O){var B;return(B=O.end+(O.end-O.start)/2)<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"calculateCorrection",value:function(O,B,G){for(var Z=G.length,le=0,_e=0;Z--;)_e+=O[G[Z]],le+=B[G[Z]];return _e/le}}]),re}(Q),rr=t(13),Xn=t.n(rr),Hr=t(33),mr=t.n(Hr);var ki=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(ce){return ce.charCodeAt(0)})),wi=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Fr=function(ce){Be()(re,ce);var Ce=function xr(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","code_39"),O}return ue()(re,[{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=O,G=new Uint16Array([0,0,0,0,0,0,0,0,0]),Z=0,le=!1,_e=O;_e<this._row.length;_e++)if(this._row[_e]^(le?1:0))G[Z]++;else{if(Z===G.length-1){if(148===this._toPattern(G)){var he=Math.floor(Math.max(0,B-(_e-B)/4));if(this._matchRange(he,B,0))return{start:B,end:_e}}B+=G[0]+G[1];for(var Ee=0;Ee<7;Ee++)G[Ee]=G[Ee+2];G[7]=0,G[8]=0,Z--}else Z++;G[Z]=1,le=!le}return null}},{key:"_toPattern",value:function(O){for(var B=O.length,G=0,Z=B,le=0;Z>3;){G=this._findNextWidth(O,G),Z=0;for(var _e=0,he=0;he<B;he++)O[he]>G&&(_e|=1<<B-1-he,Z++,le+=O[he]);if(3===Z){for(var Ee=0;Ee<B&&Z>0;Ee++)if(O[Ee]>G&&(Z--,2*O[Ee]>=le))return-1;return _e}}return-1}},{key:"_findNextWidth",value:function(O,B){for(var G=Number.MAX_VALUE,Z=0;Z<O.length;Z++)O[Z]<G&&O[Z]>B&&(G=O[Z]);return G}},{key:"_patternToChar",value:function(O){for(var B=0;B<wi.length;B++)if(wi[B]===O)return String.fromCharCode(ki[B]);return null}},{key:"_verifyTrailingWhitespace",value:function(O,B,G){var Z=oe.a.sum(G);return 3*(B-O-Z)>=Z}},{key:"decode",value:function(){var O=new Uint16Array([0,0,0,0,0,0,0,0,0]),B=[],G=this._findStart();if(!G)return null;var Z,le,_e=this._nextSet(this._row,G.end);do{O=this._toCounters(_e,O);var he=this._toPattern(O);if(he<0||null===(Z=this._patternToChar(he)))return null;B.push(Z),le=_e,_e+=oe.a.sum(O),_e=this._nextSet(this._row,_e)}while("*"!==Z);return B.pop(),B.length&&this._verifyTrailingWhitespace(le,_e,O)?{code:B.join(""),start:G.start,end:_e,startInfo:G,decodedCodes:B,format:this.FORMAT}:null}}]),re}(Q);var Ei=/[AEIO]/g,gn=function(ce){Be()(re,ce);var Ce=function Br(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","code_32_reader"),O}return ue()(re,[{key:"_decodeCode32",value:function(O){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(O))return null;for(var B=0,G=0;G<O.length;G++)B=32*B+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(O[G]);var Z="".concat(B);return Z.length<9&&(Z=("000000000"+Z).slice(-9)),"A"+Z}},{key:"_checkChecksum",value:function(O){return!!O}},{key:"decode",value:function(){var O=Xn()(Ie()(re.prototype),"decode",this).call(this);if(!O)return null;var B=O.code;if(!B||(B=B.replace(Ei,""),!this._checkChecksum(B)))return null;var G=this._decodeCode32(B);return G?(O.code=G,O):null}}]),re}(Fr);var Vr=/[IOQ]/g,$r=/[A-Z0-9]{17}/,Re=function(ce){Be()(re,ce);var Ce=function Ni(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","code_39_vin"),O}return ue()(re,[{key:"_checkChecksum",value:function(O){return!!O}},{key:"decode",value:function(){var O=Xn()(Ie()(re.prototype),"decode",this).call(this);if(!O)return null;var B=O.code;return B&&(B=B.replace(Vr,"")).match($r)&&this._checkChecksum(B)?(O.code=B,O):null}}]),re}(Fr);var ct=new Uint16Array(mr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(ce){return ce.charCodeAt(0)})),Xe=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),yt=function(ce){Be()(re,ce);var Ce=function Qe(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","code_93"),O}return ue()(re,[{key:"_patternToChar",value:function(O){for(var B=0;B<Xe.length;B++)if(Xe[B]===O)return String.fromCharCode(ct[B]);return null}},{key:"_toPattern",value:function(O){for(var B=O.length,G=O.reduce(function(Ee,We){return Ee+We},0),Z=0,le=0;le<B;le++){var _e=Math.round(9*O[le]/G);if(_e<1||_e>4)return-1;if(0==(1&le))for(var he=0;he<_e;he++)Z=Z<<1|1;else Z<<=_e}return Z}},{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=O,G=new Uint16Array([0,0,0,0,0,0]),Z=0,le=!1,_e=O;_e<this._row.length;_e++)if(this._row[_e]^(le?1:0))G[Z]++;else{if(Z===G.length-1){if(350===this._toPattern(G)){var he=Math.floor(Math.max(0,B-(_e-B)/4));if(this._matchRange(he,B,0))return{start:B,end:_e}}B+=G[0]+G[1];for(var Ee=0;Ee<4;Ee++)G[Ee]=G[Ee+2];G[4]=0,G[5]=0,Z--}else Z++;G[Z]=1,le=!le}return null}},{key:"_verifyEnd",value:function(O,B){return!(O===B||!this._row[B])}},{key:"_decodeExtended",value:function(O){for(var B=O.length,G=[],Z=0;Z<B;Z++){var le=O[Z];if(le>="a"&&le<="d"){if(Z>B-2)return null;var _e=O[++Z],he=_e.charCodeAt(0),Ee=void 0;switch(le){case"a":if(!(_e>="A"&&_e<="Z"))return null;Ee=String.fromCharCode(he-64);break;case"b":if(_e>="A"&&_e<="E")Ee=String.fromCharCode(he-38);else if(_e>="F"&&_e<="J")Ee=String.fromCharCode(he-11);else if(_e>="K"&&_e<="O")Ee=String.fromCharCode(he+16);else if(_e>="P"&&_e<="S")Ee=String.fromCharCode(he+43);else{if(!(_e>="T"&&_e<="Z"))return null;Ee=String.fromCharCode(127)}break;case"c":if(_e>="A"&&_e<="O")Ee=String.fromCharCode(he-32);else{if("Z"!==_e)return null;Ee=":"}break;case"d":if(!(_e>="A"&&_e<="Z"))return null;Ee=String.fromCharCode(he+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Ee),null}G.push(Ee)}else G.push(le)}return G}},{key:"_matchCheckChar",value:function(O,B,G){var Z=O.slice(0,B),le=Z.length,_e=Z.reduce(function(he,Ee,We){return he+((-1*We+(le-1))%G+1)*ct.indexOf(Ee.charCodeAt(0))},0);return ct[_e%47]===O[B].charCodeAt(0)}},{key:"_verifyChecksums",value:function(O){return this._matchCheckChar(O,O.length-2,20)&&this._matchCheckChar(O,O.length-1,15)}},{key:"decode",value:function(O,B){if(!(B=this._findStart()))return null;var G,Z,le=new Uint16Array([0,0,0,0,0,0]),_e=[],he=this._nextSet(this._row,B.end);do{le=this._toCounters(he,le);var Ee=this._toPattern(le);if(Ee<0||null===(Z=this._patternToChar(Ee)))return null;_e.push(Z),G=he,he+=oe.a.sum(le),he=this._nextSet(this._row,he)}while("*"!==Z);return _e.pop(),_e.length&&this._verifyEnd(G,he)&&this._verifyChecksums(_e)?(_e=_e.slice(0,_e.length-2),null===(_e=this._decodeExtended(_e))?null:{code:_e.join(""),start:B.start,end:he,startInfo:B,decodedCodes:_e,format:this.FORMAT}):null}}]),re}(Q);function kt(ce,Ce){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(ce);Ce&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(ce,B).enumerable})),re.push.apply(re,O)}return re}function Pt(ce){for(var Ce=1;Ce<arguments.length;Ce++){var re=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?kt(Object(re),!0).forEach(function(O){se()(ce,O,re[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):kt(Object(re)).forEach(function(O){Object.defineProperty(ce,O,Object.getOwnPropertyDescriptor(re,O))})}return ce}var Lt=[1,1,1],mn=[1,1,1,1,1],tn=[1,1,2],Xt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Mn=[0,11,13,14,19,25,28,21,22,26],Cn=function(ce){Be()(re,ce);var Ce=function Ct(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(O,B){var G;return Ge()(this,re),G=Ce.call(this,$()({supplements:[]},O),B),se()(De()(G),"FORMAT","ean_13"),se()(De()(G),"SINGLE_CODE_ERROR",.7),se()(De()(G),"STOP_PATTERN",[1,1,1]),G}return ue()(re,[{key:"_findPattern",value:function(O,B,G,Z){var le=new Array(O.length).fill(0),_e={error:Number.MAX_VALUE,start:0,end:0},he=0;B||(B=this._nextSet(this._row));for(var Ee=!1,We=B;We<this._row.length;We++)if(this._row[We]^(G?1:0))le[he]+=1;else{if(he===le.length-1){var K=this._matchPattern(le,O);if(K<.48&&_e.error&&K<_e.error)return Ee=!0,_e.error=K,_e.start=We-le.reduce(function(Ae,at){return Ae+at},0),_e.end=We,_e;if(Z){for(var Te=0;Te<le.length-2;Te++)le[Te]=le[Te+2];le[le.length-2]=0,le[le.length-1]=0,he--}}else he++;le[he]=1,G=!G}return Ee?_e:null}},{key:"_decodeCode",value:function(O,B){var G=[0,0,0,0],le={error:Number.MAX_VALUE,code:-1,start:O,end:O},_e=!this._row[O],he=0;B||(B=Xt.length);for(var Ee=O;Ee<this._row.length;Ee++)if(this._row[Ee]^(_e?1:0))G[he]++;else{if(he===G.length-1){for(var We=0;We<B;We++){var K=this._matchPattern(G,Xt[We]);le.end=Ee,K<le.error&&(le.code=We,le.error=K)}return le.error>.48?null:le}G[++he]=1,_e=!_e}return null}},{key:"_findStart",value:function(){for(var O=this._nextSet(this._row),B=null;!B;){if(!(B=this._findPattern(Lt,O,!1,!0)))return null;var G=B.start-(B.end-B.start);if(G>=0&&this._matchRange(G,B.start,0))return B;O=B.end,B=null}return null}},{key:"_calculateFirstDigit",value:function(O){for(var B=0;B<Mn.length;B++)if(O===Mn[B])return B;return null}},{key:"_decodePayload",value:function(O,B,G){for(var Z=Pt({},O),le=0,_e=0;_e<6;_e++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10?(Z.code-=10,le|=1<<5-_e):le|=0<<5-_e,B.push(Z.code),G.push(Z)}var he=this._calculateFirstDigit(le);if(null===he)return null;B.unshift(he);var Ee=this._findPattern(mn,Z.end,!0,!1);if(null===Ee||!Ee.end)return null;G.push(Ee);for(var We=0;We<6;We++){if(!(Ee=this._decodeCode(Ee.end,10)))return null;G.push(Ee),B.push(Ee.code)}return Ee}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start);return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(O,B){var G=this._findPattern(this.STOP_PATTERN,O,B,!1);return null!==G?this._verifyTrailingWhitespace(G):null}},{key:"_checksum",value:function(O){for(var B=0,G=O.length-2;G>=0;G-=2)B+=O[G];B*=3;for(var Z=O.length-1;Z>=0;Z-=2)B+=O[Z];return B%10==0}},{key:"_decodeExtensions",value:function(O){var B=this._nextSet(this._row,O),G=this._findPattern(tn,B,!1,!1);if(null===G)return null;for(var Z=0;Z<this.supplements.length;Z++)try{var le=this.supplements[Z].decode(this._row,G.end);if(null!==le)return{code:le.code,start:B,startInfo:G,end:le.end,decodedCodes:le.decodedCodes,format:this.supplements[Z].FORMAT}}catch(_e){console.error("* decodeExtensions error in ",this.supplements[Z],": ",_e)}return null}},{key:"decode",value:function(O,B){var G=new Array,Z=new Array,le={},_e=this._findStart();if(!_e)return null;var he={start:_e.start,end:_e.end};if(Z.push(he),!(he=this._decodePayload(he,G,Z))||!(he=this._findEnd(he.end,!1))||(Z.push(he),!this._checksum(G)))return null;if(this.supplements.length>0){var Ee=this._decodeExtensions(he.end);if(!Ee||!Ee.decodedCodes)return null;var We=Ee.decodedCodes[Ee.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:We.start+((We.end-We.start)/2|0),end:We.end}))return null;le={supplement:Ee,code:G.join("")+Ee.code}}return Pt(Pt({code:G.join(""),start:_e.start,end:he.end,startInfo:_e,decodedCodes:Z},le),{},{format:this.FORMAT})}}]),re}(Q);var Ht=function(ce){Be()(re,ce);var Ce=function Wn(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","ean_2"),O}return ue()(re,[{key:"decode",value:function(O,B){O&&(this._row=O);var G=0,Z=B,le=this._row.length,_e=[],he=[],Ee=null;if(void 0===Z)return null;for(var We=0;We<2&&Z<le;We++){if(!(Ee=this._decodeCode(Z)))return null;he.push(Ee),_e.push(Ee.code%10),Ee.code>=10&&(G|=1<<1-We),1!==We&&(Z=this._nextSet(this._row,Ee.end),Z=this._nextUnset(this._row,Z))}if(2!==_e.length||parseInt(_e.join(""))%4!==G)return null;var K=this._findStart();return{code:_e.join(""),decodedCodes:he,end:Ee.end,format:this.FORMAT,startInfo:K,start:K.start}}}]),re}(Cn);var Dn=[24,20,18,17,12,6,3,10,9,5],Tt=function(ce){Be()(re,ce);var Ce=function vr(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","ean_5"),O}return ue()(re,[{key:"decode",value:function(O,B){if(void 0===B)return null;O&&(this._row=O);for(var G=0,Z=B,le=this._row.length,_e=null,he=[],Ee=[],We=0;We<5&&Z<le;We++){if(!(_e=this._decodeCode(Z)))return null;Ee.push(_e),he.push(_e.code%10),_e.code>=10&&(G|=1<<4-We),4!==We&&(Z=this._nextSet(this._row,_e.end),Z=this._nextUnset(this._row,Z))}if(5!==he.length||function(Te){for(var Ae=Te.length,at=0,qt=Ae-2;qt>=0;qt-=2)at+=Te[qt];at*=3;for(var hn=Ae-1;hn>=0;hn-=2)at+=Te[hn];return(at*=3)%10}(he)!==function(Te){for(var Ae=0;Ae<10;Ae++)if(Te===Dn[Ae])return Ae;return null}(G))return null;var K=this._findStart();return{code:he.join(""),decodedCodes:Ee,end:_e.end,format:this.FORMAT,startInfo:K,start:K.start}}}]),re}(Cn);var Vt=function(ce){Be()(re,ce);var Ce=function et(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","ean_8"),O}return ue()(re,[{key:"_decodePayload",value:function(O,B,G){for(var Z=O,le=0;le<4;le++){if(!(Z=this._decodeCode(Z.end,10)))return null;B.push(Z.code),G.push(Z)}if(null===(Z=this._findPattern(mn,Z.end,!0,!1)))return null;G.push(Z);for(var _e=0;_e<4;_e++){if(!(Z=this._decodeCode(Z.end,10)))return null;G.push(Z),B.push(Z.code)}return Z}}]),re}(Cn);var In=function(ce){Be()(re,ce);var Ce=function zt(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(O){var B;return Ge()(this,re),B=Ce.call(this,$()({normalizeBarSpaceWidth:!1},O)),se()(De()(B),"barSpaceRatio",[1,1]),se()(De()(B),"SINGLE_CODE_ERROR",.78),se()(De()(B),"AVG_CODE_ERROR",.38),se()(De()(B),"START_PATTERN",[1,1,1,1]),se()(De()(B),"STOP_PATTERN",[1,1,3]),se()(De()(B),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),se()(De()(B),"MAX_CORRECTION_FACTOR",5),se()(De()(B),"FORMAT","i2of5"),O.normalizeBarSpaceWidth&&(B.SINGLE_CODE_ERROR=.38,B.AVG_CODE_ERROR=.09),B.config=O,we()(B,De()(B))}return ue()(re,[{key:"_matchPattern",value:function(O,B){if(this.config.normalizeBarSpaceWidth){for(var G=[0,0],Z=[0,0],le=[0,0],_e=this.MAX_CORRECTION_FACTOR,he=1/_e,Ee=0;Ee<O.length;Ee++)G[Ee%2]+=O[Ee],Z[Ee%2]+=B[Ee];le[0]=Z[0]/G[0],le[1]=Z[1]/G[1],le[0]=Math.max(Math.min(le[0],_e),he),le[1]=Math.max(Math.min(le[1],_e),he),this.barSpaceRatio=le;for(var We=0;We<O.length;We++)O[We]*=this.barSpaceRatio[We%2]}return Xn()(Ie()(re.prototype),"_matchPattern",this).call(this,O,B)}},{key:"_findPattern",value:function(O,B){var G=arguments.length>2&&void 0!==arguments[2]&&arguments[2],Z=arguments.length>3&&void 0!==arguments[3]&&arguments[3],le=new Array(O.length).fill(0),_e=0,he={error:Number.MAX_VALUE,start:0,end:0},Ee=this.AVG_CODE_ERROR;G=G||!1,Z=Z||!1,B||(B=this._nextSet(this._row));for(var We=B;We<this._row.length;We++)if(this._row[We]^(G?1:0))le[_e]++;else{if(_e===le.length-1){var K=le.reduce(function(at,qt){return at+qt},0),Te=this._matchPattern(le,O);if(Te<Ee)return he.error=Te,he.start=We-K,he.end=We,he;if(!Z)return null;for(var Ae=0;Ae<le.length-2;Ae++)le[Ae]=le[Ae+2];le[le.length-2]=0,le[le.length-1]=0,_e--}else _e++;le[_e]=1,G=!G}return null}},{key:"_findStart",value:function(){for(var O=0,B=this._nextSet(this._row),G=null,Z=1;!G;){if(!(G=this._findPattern(this.START_PATTERN,B,!1,!0)))return null;if(Z=Math.floor((G.end-G.start)/4),(O=G.start-10*Z)>=0&&this._matchRange(O,G.start,0))return G;B=G.end,G=null}return null}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}},{key:"_findEnd",value:function(){this._row.reverse();var O=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===O)return null;var B=O.start;return O.start=this._row.length-O.end,O.end=this._row.length-B,null!==O?this._verifyTrailingWhitespace(O):null}},{key:"_decodePair",value:function(O){for(var B=[],G=0;G<O.length;G++){var Z=this._decodeCode(O[G]);if(!Z)return null;B.push(Z)}return B}},{key:"_decodeCode",value:function(O){for(var B=this.AVG_CODE_ERROR,G={error:Number.MAX_VALUE,code:-1,start:0,end:0},Z=0;Z<this.CODE_PATTERN.length;Z++){var le=this._matchPattern(O,this.CODE_PATTERN[Z]);le<G.error&&(G.code=Z,G.error=le)}return G.error<B?G:null}},{key:"_decodePayload",value:function(O,B,G){for(var Z=0,le=O.length,_e=[[0,0,0,0,0],[0,0,0,0,0]],he=null;Z<le;){for(var Ee=0;Ee<5;Ee++)_e[0][Ee]=O[Z]*this.barSpaceRatio[0],_e[1][Ee]=O[Z+1]*this.barSpaceRatio[1],Z+=2;if(!(he=this._decodePair(_e)))return null;for(var We=0;We<he.length;We++)B.push(he[We].code+""),G.push(he[We])}return he}},{key:"_verifyCounterLength",value:function(O){return O.length%10==0}},{key:"decode",value:function(O,B){var G=new Array,Z=new Array,le=this._findStart();if(!le)return null;Z.push(le);var _e=this._findEnd();if(!_e)return null;var he=this._fillCounters(le.end,_e.start,!1);return this._verifyCounterLength(he)&&this._decodePayload(he,G,Z)?G.length%2!=0||G.length<6?null:(Z.push(_e),{code:G.join(""),start:le.start,end:_e.end,startInfo:le,decodedCodes:Z,format:this.FORMAT}):null}}]),re}(Q);function yn(ce,Ce){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(ce);Ce&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(ce,B).enumerable})),re.push.apply(re,O)}return re}var pe=function(ce){Be()(re,ce);var Ce=function be(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),se()(De()(O),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),se()(De()(O),"FORMAT","upc_e"),O}return ue()(re,[{key:"_decodePayload",value:function(O,B,G){for(var Z=function(he){for(var Ee=1;Ee<arguments.length;Ee++){var We=null!=arguments[Ee]?arguments[Ee]:{};Ee%2?yn(Object(We),!0).forEach(function(K){se()(he,K,We[K])}):Object.getOwnPropertyDescriptors?Object.defineProperties(he,Object.getOwnPropertyDescriptors(We)):yn(Object(We)).forEach(function(K){Object.defineProperty(he,K,Object.getOwnPropertyDescriptor(We,K))})}return he}({},O),le=0,_e=0;_e<6;_e++){if(!(Z=this._decodeCode(Z.end)))return null;Z.code>=10&&(Z.code=Z.code-10,le|=1<<5-_e),B.push(Z.code),G.push(Z)}return this._determineParity(le,B)?Z:null}},{key:"_determineParity",value:function(O,B){for(var G=0;G<this.CODE_FREQUENCY.length;G++)for(var Z=0;Z<this.CODE_FREQUENCY[G].length;Z++)if(O===this.CODE_FREQUENCY[G][Z])return B.unshift(G),B.push(Z),!0;return!1}},{key:"_convertToUPCA",value:function(O){var B=[O[0]],G=O[O.length-2];return(B=G<=2?B.concat(O.slice(1,3)).concat([G,0,0,0,0]).concat(O.slice(3,6)):3===G?B.concat(O.slice(1,4)).concat([0,0,0,0,0]).concat(O.slice(4,6)):4===G?B.concat(O.slice(1,5)).concat([0,0,0,0,0,O[5]]):B.concat(O.slice(1,6)).concat([0,0,0,0,G])).push(O[O.length-1]),B}},{key:"_checksum",value:function(O){return Xn()(Ie()(re.prototype),"_checksum",this).call(this,this._convertToUPCA(O))}},{key:"_findEnd",value:function(O,B){return Xn()(Ie()(re.prototype),"_findEnd",this).call(this,O,!0)}},{key:"_verifyTrailingWhitespace",value:function(O){var B=O.end+(O.end-O.start)/2;return B<this._row.length&&this._matchRange(O.end,B,0)?O:null}}]),re}(Cn);var Ze=function(ce){Be()(re,ce);var Ce=function me(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(){var O;Ge()(this,re);for(var B=arguments.length,G=new Array(B),Z=0;Z<B;Z++)G[Z]=arguments[Z];return O=Ce.call.apply(Ce,[this].concat(G)),se()(De()(O),"FORMAT","upc_a"),O}return ue()(re,[{key:"decode",value:function(O,B){var G=Cn.prototype.decode.call(this);return G&&G.code&&13===G.code.length&&"0"===G.code.charAt(0)?(G.code=G.code.substring(1),G):null}}]),re}(Cn),ke={},Nt_UP=1,Nt_DOWN=-1;ke.getBarcodeLine=function(ce,Ce,re){var O,B,G,Z,le,_e=0|Ce.x,he=0|Ce.y,Ee=0|re.x,We=0|re.y,K=Math.abs(We-he)>Math.abs(Ee-_e),Te=[],Ae=ce.data,at=ce.size.x,qt=255,hn=0;function an(Lr,Ji){qt=(le=Ae[Ji*at+Lr])<qt?le:qt,hn=le>hn?le:hn,Te.push(le)}K&&(G=_e,_e=he,he=G,G=Ee,Ee=We,We=G),_e>Ee&&(G=_e,_e=Ee,Ee=G,G=he,he=We,We=G);var _n=Ee-_e,Yn=Math.abs(We-he);O=_n/2|0,B=he;var Zr=he<We?1:-1;for(Z=_e;Z<Ee;Z++)K?an(B,Z):an(Z,B),(O-=Yn)<0&&(B+=Zr,O+=_n);return{line:Te,min:qt,max:hn}},ke.toBinaryLine=function(ce){var Ce,re,O,B,G,Z,le=ce.min,_e=ce.max,he=ce.line,Ee=le+(_e-le)/2,We=[],K=(_e-le)/12,Te=-K;for(O=he[0]>Ee?Nt_UP:Nt_DOWN,We.push({pos:0,val:he[0]}),G=0;G<he.length-2;G++)O!==(B=(Ce=he[G+1]-he[G])+(re=he[G+2]-he[G+1])<Te&&he[G+1]<1.5*Ee?Nt_DOWN:Ce+re>K&&he[G+1]>.5*Ee?Nt_UP:O)&&(We.push({pos:G,val:he[G]}),O=B);for(We.push({pos:he.length,val:he[he.length-1]}),Z=We[0].pos;Z<We[1].pos;Z++)he[Z]=he[Z]>Ee?0:1;for(G=1;G<We.length-1;G++)for(K=We[G+1].val>We[G].val?We[G].val+(We[G+1].val-We[G].val)/3*2|0:We[G+1].val+(We[G].val-We[G+1].val)/3|0,Z=We[G].pos;Z<We[G+1].pos;Z++)he[Z]=he[Z]>K?0:1;return{line:he,threshold:K}},ke.debug={printFrequency:function(ce,Ce){var re,O=Ce.getContext("2d");for(Ce.width=ce.length,Ce.height=256,O.beginPath(),O.strokeStyle="blue",re=0;re<ce.length;re++)O.moveTo(re,255),O.lineTo(re,255-ce[re]);O.stroke(),O.closePath()},printPattern:function(ce,Ce){var re,O=Ce.getContext("2d");for(Ce.width=ce.length,O.fillColor="black",re=0;re<ce.length;re++)1===ce[re]&&O.fillRect(re,0,1,100)}};var Tn=ke;function On(ce,Ce){var re="undefined"!=typeof Symbol&&ce[Symbol.iterator]||ce["@@iterator"];if(!re){if(Array.isArray(ce)||(re=function(_e,he){if(_e){if("string"==typeof _e)return ir(_e,undefined);var Ee=Object.prototype.toString.call(_e).slice(8,-1);if("Object"===Ee&&_e.constructor&&(Ee=_e.constructor.name),"Map"===Ee||"Set"===Ee)return Array.from(_e);if("Arguments"===Ee||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee))return ir(_e,undefined)}}(ce))||Ce&&ce&&"number"==typeof ce.length){re&&(ce=re);var O=0,B=function(){};return{s:B,n:function(){return O>=ce.length?{done:!0}:{done:!1,value:ce[O++]}},e:function(_e){throw _e},f:B}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var G,Z=!0,le=!1;return{s:function(){re=re.call(ce)},n:function(){var _e=re.next();return Z=_e.done,_e},e:function(_e){le=!0,G=_e},f:function(){try{Z||null==re.return||re.return()}finally{if(le)throw G}}}}function ir(ce,Ce){(null==Ce||Ce>ce.length)&&(Ce=ce.length);for(var re=0,O=new Array(Ce);re<Ce;re++)O[re]=ce[re];return O}var Gn={code_128_reader:yr,ean_reader:Cn,ean_5_reader:Tt,ean_2_reader:Ht,ean_8_reader:Vt,code_39_reader:Fr,code_39_vin_reader:Re,codabar_reader:tr,upc_reader:Ze,upc_e_reader:pe,i2of5_reader:In,"2of5_reader":pn,code_93_reader:yt,code_32_reader:gn},nr={registerReader:function(ce,Ce){Gn[ce]=Ce},create:function(ce,Ce){var O=[];function B(){ce.readers.forEach(function(he){var Ee,We={},K=[];"object"===P()(he)?(Ee=he.format,We=he.config):"string"==typeof he&&(Ee=he),We.supplements&&(K=We.supplements.map(function(Ae){return new Gn[Ae]}));try{var Te=new Gn[Ee](We,K);O.push(Te)}catch(Ae){throw console.error("* Error constructing reader ",Ee,Ae),Ae}})}function G(he){var Ee,We=null,K=Tn.getBarcodeLine(Ce,he[0],he[1]);for(Tn.toBinaryLine(K),Ee=0;Ee<O.length&&null===We;Ee++)We=O[Ee].decodePattern(K.line);return null===We?null:{codeResult:We,barcodeLine:K}}function Z(he){return le.apply(this,arguments)}function le(){return(le=W()(ae.a.mark(function he(Ee){var We,K,Te,Ae;return ae.a.wrap(function(at){for(;;)switch(at.prev=at.next){case 0:We=null,K=On(O),at.prev=2,K.s();case 4:if((Te=K.n()).done){at.next=14;break}if(!(Ae=Te.value).decodeImage){at.next=12;break}return at.next=9,Ae.decodeImage(Ee);case 9:if(!(We=at.sent)){at.next=12;break}return at.abrupt("break",14);case 12:at.next=4;break;case 14:at.next=19;break;case 16:at.prev=16,at.t0=at.catch(2),K.e(at.t0);case 19:return at.prev=19,K.f(),at.finish(19);case 22:return at.abrupt("return",We);case 23:case"end":return at.stop()}},he,null,[[2,16,19,22]])}))).apply(this,arguments)}function _e(he){var Ee,We,Ae,K=function(Ae){return Math.sqrt(Math.pow(Math.abs(Ae[1].y-Ae[0].y),2)+Math.pow(Math.abs(Ae[1].x-Ae[0].x),2))}(Ee=[{x:((Ae=he)[1][0]-Ae[0][0])/2+Ae[0][0],y:(Ae[1][1]-Ae[0][1])/2+Ae[0][1]},{x:(Ae[3][0]-Ae[2][0])/2+Ae[2][0],y:(Ae[3][1]-Ae[2][1])/2+Ae[2][1]}]),Te=Math.atan2(Ee[1].y-Ee[0].y,Ee[1].x-Ee[0].x);return null===(Ee=function(Ae,at,qt){function hn(an){var _n=an*Math.sin(at),Yn=an*Math.cos(at);Ae[0].y-=_n,Ae[0].x-=Yn,Ae[1].y+=_n,Ae[1].x+=Yn}for(hn(qt);qt>1&&(!Ce.inImageWithBorder(Ae[0])||!Ce.inImageWithBorder(Ae[1]));)hn(-(qt-=Math.ceil(qt/2)));return Ae}(Ee,Te,Math.floor(.1*K)))?null:(null===(We=G(Ee))&&(We=function(Ae,at,qt){var hn,an,_n,Yn=Math.sqrt(Math.pow(Ae[1][0]-Ae[0][0],2)+Math.pow(Ae[1][1]-Ae[0][1],2)),Zr=null,Lr=Math.sin(qt),Ji=Math.cos(qt);for(hn=1;hn<16&&null===Zr;hn++)_n={y:(an=Yn/16*hn*(hn%2==0?-1:1))*Lr,x:an*Ji},at[0].y+=_n.x,at[0].x-=_n.y,at[1].y+=_n.x,at[1].x-=_n.y,Zr=G(at);return Zr}(he,Ee,Te)),null===We?null:{codeResult:We.codeResult,line:Ee,angle:Te,pattern:We.barcodeLine.line,threshold:We.barcodeLine.threshold})}return B(),{decodeFromBoundingBox:function(he){return _e(he)},decodeFromBoundingBoxes:function(he){var Ee,We,K=[],Te=ce.multiple;for(Ee=0;Ee<he.length;Ee++){var Ae=he[Ee];if((We=_e(Ae)||{}).box=Ae,Te)K.push(We);else if(We.codeResult)return We}return{barcodes:K}},decodeFromImage:function(he){return W()(ae.a.mark(function Ee(){return ae.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Z(he);case 2:return K.abrupt("return",K.sent);case 4:case"end":return K.stop()}},Ee)}))()},registerReader:function(he,Ee){if(Gn[he])throw new Error("cannot register existing reader",he);Gn[he]=Ee},setReaders:function(he){ce.readers=he,O.length=0,B()}}}},nn=function(){var ce={};function Ce(B){return ce[B]||(ce[B]={subscribers:[]}),ce[B]}function re(B,G){B.async?setTimeout(function(){B.callback(G)},4):B.callback(G)}function O(B,G,Z){var le;if("function"==typeof G)le={callback:G,async:Z};else if(!(le=G).callback)throw new Error("Callback was not specified on options");Ce(B).subscribers.push(le)}return{subscribe:function(B,G,Z){return O(B,G,Z)},publish:function(B,G){var Z=Ce(B),le=Z.subscribers;le.filter(function(_e){return!!_e.once}).forEach(function(_e){re(_e,G)}),Z.subscribers=le.filter(function(_e){return!_e.once}),Z.subscribers.forEach(function(_e){re(_e,G)})},once:function(B,G){O(B,{callback:G,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(B,G){if(B){var Z=Ce(B);Z.subscribers=Z&&G?Z.subscribers.filter(function(le){return le.callback!==G}):[]}else ce={}}}}(),Sn=t(85),rn=t.n(Sn),Le=t(86);var un,Ln=function(ce){Be()(re,ce);var Ce=function st(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(re){return!1}}();return function(){var re,O=Ie()(ce);if(Ce){var B=Ie()(this).constructor;re=Reflect.construct(O,arguments,B)}else re=O.apply(this,arguments);return we()(this,re)}}(re);function re(O,B){var G;return Ge()(this,re),G=Ce.call(this,O),se()(De()(G),"code",void 0),G.code=B,Object.setPrototypeOf(De()(G),re.prototype),G}return ue()(re)}(t.n(Le)()(Error)),or="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function jt(){try{return navigator.mediaDevices.enumerateDevices()}catch(Ce){var ce=new Ln("enumerateDevices is not defined. ".concat(or),-1);return Promise.reject(ce)}}function Bt(ce){try{return navigator.mediaDevices.getUserMedia(ce)}catch(re){var Ce=new Ln("getUserMedia is not defined. ".concat(or),-1);return Promise.reject(Ce)}}function je(ce){return new Promise(function(Ce,re){var O=10;!function B(){O>0?ce.videoWidth>10&&ce.videoHeight>10?Ce():window.setTimeout(B,500):re(new Ln("Unable to play video stream. Is webcam working?",-1)),O--}()})}function bt(ce,Ce){return $t.apply(this,arguments)}function $t(){return($t=W()(ae.a.mark(function ce(Ce,re){var O;return ae.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return B.next=2,Bt(re);case 2:if(un=O=B.sent,!Ce){B.next=11;break}return Ce.setAttribute("autoplay","true"),Ce.setAttribute("muted","true"),Ce.setAttribute("playsinline","true"),Ce.srcObject=O,Ce.addEventListener("loadedmetadata",function(){Ce.play()}),B.abrupt("return",je(Ce));case 11:return B.abrupt("return",Promise.resolve());case 12:case"end":return B.stop()}},ce)}))).apply(this,arguments)}function en(ce){var Ce=rn()(ce,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==ce.minAspectRatio&&ce.minAspectRatio>0&&(Ce.aspectRatio=ce.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==ce.facing&&(Ce.facingMode=ce.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),Ce}function sn(){var Ce=en(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return Ce&&Ce.deviceId&&Ce.facingMode&&delete Ce.facingMode,Promise.resolve({audio:!1,video:Ce})}function En(){return(En=W()(ae.a.mark(function ce(){return ae.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,jt();case 2:return re.abrupt("return",re.sent.filter(function(O){return"videoinput"===O.kind}));case 4:case"end":return re.stop()}},ce)}))).apply(this,arguments)}function Vn(){if(!un)return null;var ce=un.getVideoTracks();return ce&&null!=ce&&ce.length?ce[0]:null}var ln={requestedVideoElement:null,request:function(ce,Ce){return W()(ae.a.mark(function re(){return ae.a.wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return ln.requestedVideoElement=ce,B.next=3,sn(Ce);case 3:return B.abrupt("return",bt(ce,B.sent));case 5:case"end":return B.stop()}},re)}))()},release:function(){var ce=un&&un.getVideoTracks();return null!==ln.requestedVideoElement&&ln.requestedVideoElement.pause(),new Promise(function(Ce){setTimeout(function(){ce&&ce.length&&ce[0].stop(),un=null,ln.requestedVideoElement=null,Ce()},0)})},enumerateVideoDevices:function(){return En.apply(this,arguments)},getActiveStreamLabel:function(){var ce=Vn();return ce?ce.label:""},getActiveTrack:Vn},Rn=ln,br={create:function(ce){var Ce,re=document.createElement("canvas"),O=re.getContext("2d"),B=[],G=null!==(Ce=ce.capacity)&&void 0!==Ce?Ce:20,Z=!0===ce.capture;return{addResult:function(_e,he,Ee){var We={};(function le(_e){return!!G&&_e&&(he=_e,!((Ee=ce.blacklist)&&Ee.some(function(We){return Object.keys(We).every(function(K){return We[K]===he[K]})})))&&function(he,Ee){return"function"!=typeof Ee||Ee(he)}(_e,ce.filter);var he,Ee})(Ee)&&(G--,We.codeResult=Ee,Z&&(re.width=he.x,re.height=he.y,Je.a.drawImage(_e,he,O),We.frame=re.toDataURL()),B.push(We))},getResults:function(){return B}}}},Zn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ar=t(7),Ir=ue()(function ce(){Ge()(this,ce),se()(this,"config",void 0),se()(this,"inputStream",void 0),se()(this,"framegrabber",void 0),se()(this,"inputImageWrapper",void 0),se()(this,"stopped",!1),se()(this,"boxSize",void 0),se()(this,"resultCollector",void 0),se()(this,"decoder",void 0),se()(this,"workerPool",[]),se()(this,"onUIThread",!0),se()(this,"canvasContainer",new Fi)}),Co=ue()(function ce(){Ge()(this,ce),se()(this,"image",void 0),se()(this,"overlay",void 0)}),Fi=ue()(function ce(){Ge()(this,ce),se()(this,"ctx",void 0),se()(this,"dom",void 0),this.ctx=new Co,this.dom=new Co}),ur=t(23);function Yi(ce){return"undefined"==typeof document?null:ce instanceof HTMLElement&&ce.nodeName&&1===ce.nodeType?ce:document.querySelector("string"==typeof ce?ce:"#interactive.viewport")}function Pr(ce,Ce){var G,Z,re=(G=Ce,(Z=document.querySelector(ce))||((Z=document.createElement("canvas")).className=G),Z),O=re.getContext("2d");return{canvas:re,context:O}}var Oe={274:"orientation"},ot=Object.keys(Oe).map(function(ce){return Oe[ce]});function St(ce){return new Promise(function(Ce){var re=new FileReader;re.onload=function(O){return Ce(O.target.result)},re.readAsArrayBuffer(ce)})}function Mt(ce){return new Promise(function(Ce,re){var O=new XMLHttpRequest;O.open("GET",ce,!0),O.responseType="blob",O.onreadystatechange=function(){O.readyState!==XMLHttpRequest.DONE||200!==O.status&&0!==O.status||Ce(this.response)},O.onerror=re,O.send()})}function Yt(ce){var Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot,re=new DataView(ce),O=ce.byteLength,B=Ce.reduce(function(Z,le){var _e=Object.keys(Oe).filter(function(he){return Oe[he]===le})[0];return _e&&(Z[_e]=le),Z},{}),G=2;if(255!==re.getUint8(0)||216!==re.getUint8(1))return!1;for(;G<O;){if(255!==re.getUint8(G))return!1;if(225===re.getUint8(G+1))return sr(re,G+4,B);G+=2+re.getUint16(G+2)}return!1}function sr(ce,Ce,re){if("Exif"!==function(Z,le,_e){for(var he="",Ee=le;Ee<le+4;Ee++)he+=String.fromCharCode(Z.getUint8(Ee));return he}(ce,Ce))return!1;var O,B=Ce+6;if(18761===ce.getUint16(B))O=!1;else{if(19789!==ce.getUint16(B))return!1;O=!0}if(42!==ce.getUint16(B+2,!O))return!1;var G=ce.getUint32(B+4,!O);return!(G<8)&&function(Z,le,_e,he,Ee){for(var We=Z.getUint16(_e,!Ee),K={},Te=0;Te<We;Te++){var Ae=_e+12*Te+2,at=he[Z.getUint16(Ae,!Ee)];at&&(K[at]=Mr(Z,Ae,0,0,Ee))}return K}(ce,0,B+G,re,O)}function Mr(ce,Ce,re,O,B){var G=ce.getUint16(Ce+2,!B),Z=ce.getUint32(Ce+4,!B);return 3===G&&1===Z?ce.getUint16(Ce+8,!B):null}var pr={};function ui(ce,Ce){ce.onload=function(){Ce.loaded(this)}}pr.load=function(ce,Ce,re,O,B){var G,Z,le,_e=new Array(O),he=new Array(_e.length);if(!1===B)_e[0]=ce;else for(G=0;G<_e.length;G++)le=re+G,_e[G]="".concat(ce,"image-").concat("00".concat(le).slice(-3),".jpg");for(he.notLoaded=[],he.addImage=function(Ee){he.notLoaded.push(Ee)},he.loaded=function(Ee){for(var We=he.notLoaded,K=0;K<We.length;K++)if(We[K]===Ee){We.splice(K,1);for(var Te=0;Te<_e.length;Te++){var Ae=_e[Te].substr(_e[Te].lastIndexOf("/"));if(-1!==Ee.src.lastIndexOf(Ae)){he[Te]={img:Ee};break}}break}0===We.length&&(!1===B?function(at){var qt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ot;return/^blob:/i.test(at)?Mt(at).then(St).then(function(hn){return Yt(hn,qt)}):Promise.resolve(null)}(ce,["orientation"]).then(function(at){he[0].tags=at,Ce(he)}).catch(function(at){console.log(at),Ce(he)}):Ce(he))},G=0;G<_e.length;G++)Z=new Image,he.addImage(Z),ui(Z,he),Z.src=_e[G]};var rs=pr,qr={createVideoStream:function(ce){var Ce,re,O=null,B=["canrecord","ended"],G={},Z={x:0,y:0,type:"Point"},le={x:0,y:0,type:"XYSize"},_e={getRealWidth:function(){return ce.videoWidth},getRealHeight:function(){return ce.videoHeight},getWidth:function(){return Ce},getHeight:function(){return re},setWidth:function(he){Ce=he},setHeight:function(he){re=he},setInputStream:function(he){O=he,this.setAttribute("src",void 0!==he.src?he.src:"")},ended:function(){return ce.ended},getConfig:function(){return O},setAttribute:function(he,Ee){ce&&ce.setAttribute(he,Ee)},pause:function(){ce.pause()},play:function(){ce.play()},setCurrentTime:function(he){var Ee;"LiveStream"!==(null===(Ee=O)||void 0===Ee?void 0:Ee.type)&&this.setAttribute("currentTime",he.toString())},addEventListener:function(he,Ee,We){-1!==B.indexOf(he)?(G[he]||(G[he]=[]),G[he].push(Ee)):ce.addEventListener(he,Ee,We)},clearEventHandlers:function(){B.forEach(function(he){var Ee=G[he];Ee&&Ee.length>0&&Ee.forEach(function(We){ce.removeEventListener(he,We)})})},trigger:function(he,Ee){var We,K,Te,Ae,at,qt=G[he];if("canrecord"===he&&(Ae=ce.videoWidth,at=ce.videoHeight,Ce=null!==(K=O)&&void 0!==K&&K.size?Ae/at>1?O.size:Math.floor(Ae/at*O.size):Ae,re=null!==(Te=O)&&void 0!==Te&&Te.size?Ae/at>1?Math.floor(at/Ae*O.size):O.size:at,le.x=Ce,le.y=re),qt&&qt.length>0)for(We=0;We<qt.length;We++)qt[We].apply(_e,Ee)},setTopRight:function(he){Z.x=he.x,Z.y=he.y},getTopRight:function(){return Z},setCanvasSize:function(he){le.x=he.x,le.y=he.y},getCanvasSize:function(){return le},getFrame:function(){return ce}};return _e},createLiveStream:function(ce){ce&&ce.setAttribute("autoplay","true");var Ce=qr.createVideoStream(ce);return Ce.ended=function(){return!1},Ce},createImageStream:function(){var ce,Ce,re=null,O=0,B=0,G=0,Z=!0,le=!1,_e=null,he=0,Ee=null,We=!1,K=["canrecord","ended"],Te={},Ae={x:0,y:0,type:"Point"},at={x:0,y:0,type:"XYSize"};function qt(an,_n){var Yn,Zr=Te[an];if(Zr&&Zr.length>0)for(Yn=0;Yn<Zr.length;Yn++)Zr[Yn].apply(hn,_n)}var hn={trigger:qt,getWidth:function(){return ce},getHeight:function(){return Ce},setWidth:function(an){ce=an},setHeight:function(an){Ce=an},getRealWidth:function(){return O},getRealHeight:function(){return B},setInputStream:function(an){var _n;!1===an.sequence?(Ee=an.src,he=1):(Ee=an.src,he=an.length),le=!1,rs.load(Ee,function(Yn){var Zr,Lr;if(_e=Yn,Yn[0].tags&&Yn[0].tags.orientation)switch(Yn[0].tags.orientation){case 6:case 8:O=Yn[0].img.height,B=Yn[0].img.width;break;default:O=Yn[0].img.width,B=Yn[0].img.height}else O=Yn[0].img.width,B=Yn[0].img.height;ce=null!==(Zr=re)&&void 0!==Zr&&Zr.size?O/B>1?re.size:Math.floor(O/B*re.size):O,Ce=null!==(Lr=re)&&void 0!==Lr&&Lr.size?O/B>1?Math.floor(B/O*re.size):re.size:B,at.x=ce,at.y=Ce,le=!0,G=0,setTimeout(function(){qt("canrecord",[])},0)},1,he,null===(_n=re=an)||void 0===_n?void 0:_n.sequence)},ended:function(){return We},setAttribute:function(){},getConfig:function(){return re},pause:function(){Z=!0},play:function(){Z=!1},setCurrentTime:function(an){G=an},addEventListener:function(an,_n){-1!==K.indexOf(an)&&(Te[an]||(Te[an]=[]),Te[an].push(_n))},clearEventHandlers:function(){Object.keys(Te).forEach(function(an){return delete Te[an]})},setTopRight:function(an){Ae.x=an.x,Ae.y=an.y},getTopRight:function(){return Ae},setCanvasSize:function(an){at.x=an.x,at.y=an.y},getCanvasSize:function(){return at},getFrame:function(){var an,_n;return le?(Z||(an=null===(_n=_e)||void 0===_n?void 0:_n[G],G<he-1?G++:setTimeout(function(){We=!0,qt("ended",[])},0)),an):null}};return hn}},Ns=qr,Li=t(10),Aa=Math.PI/180,Ia={create:function(ce,Ce){var re,O={},B=ce.getConfig(),G=(Object(Li.h)(ce.getRealWidth(),ce.getRealHeight()),ce.getCanvasSize()),Z=Object(Li.h)(ce.getWidth(),ce.getHeight()),le=ce.getTopRight(),_e=le.x,he=le.y,Ee=null,We=null;return(re=Ce||document.createElement("canvas")).width=G.x,re.height=G.y,Ee=re.getContext("2d"),We=new Uint8Array(Z.x*Z.y),O.attachData=function(K){We=K},O.getData=function(){return We},O.grab=function(){var K,hn,an,Te=B.halfSample,Ae=ce.getFrame(),at=Ae,qt=0;if(at){if((hn=re).width!==(an=G).x&&(hn.width=an.x),hn.height!==an.y&&(hn.height=an.y),"ImageStream"===B.type&&(at=Ae.img,Ae.tags&&Ae.tags.orientation))switch(Ae.tags.orientation){case 6:qt=90*Aa;break;case 8:qt=-90*Aa}return 0!==qt?(Ee.translate(G.x/2,G.y/2),Ee.rotate(qt),Ee.drawImage(at,-G.y/2,-G.x/2,G.y,G.x),Ee.rotate(-qt),Ee.translate(-G.x/2,-G.y/2)):Ee.drawImage(at,0,0,G.x,G.y),K=Ee.getImageData(_e,he,Z.x,Z.y).data,Te?Object(Li.e)(K,Z,We):Object(Li.c)(K,We,B),!0}return!1},O.getSize=function(){return Z},O}},Mo=Ia;function oa(ce,Ce){var re=Object.keys(ce);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(ce);Ce&&(O=O.filter(function(B){return Object.getOwnPropertyDescriptor(ce,B).enumerable})),re.push.apply(re,O)}return re}function Rs(ce){for(var Ce=1;Ce<arguments.length;Ce++){var re=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?oa(Object(re),!0).forEach(function(O){se()(ce,O,re[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(re)):oa(Object(re)).forEach(function(O){Object.defineProperty(ce,O,Object.getOwnPropertyDescriptor(re,O))})}return ce}var Di=[];function ys(ce){return Rs(Rs({},ce),{},{inputStream:Rs(Rs({},ce.inputStream),{},{target:null})})}function xc(ce){if(ce){var Ce=ce().default;if(!Ce)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var re;function O(G){self.postMessage({event:"processed",imageData:re.data,result:G},[re.data.buffer])}function B(){self.postMessage({event:"initialized",imageData:re.data},[re.data.buffer])}self.onmessage=function(G){if("init"===G.data.cmd){var Z=G.data.config;Z.numOfWorkers=0,re=new Ce.ImageWrapper({x:G.data.size.x,y:G.data.size.y},new Uint8Array(G.data.imageData)),Ce.init(Z,B,re),Ce.onProcessed(O)}else"process"===G.data.cmd?(re.data=new Uint8Array(G.data.imageData),Ce.start()):"setReaders"===G.data.cmd?Ce.setReaders(G.data.readers):"registerReader"===G.data.cmd&&Ce.registerReader(G.data.name,G.data.reader)}}function vs(ce,Ce,re){var O,B,G=("undefined"!=typeof __factorySource__&&(B=__factorySource__),O=new Blob(["("+xc.toString()+")("+B+");"],{type:"text/javascript"}),window.URL.createObjectURL(O)),Z={worker:new Worker(G),imageData:new Uint8Array(Ce.getWidth()*Ce.getHeight()),busy:!0};Z.worker.onmessage=function(le){"initialized"===le.data.event?(URL.revokeObjectURL(G),Z.busy=!1,Z.imageData=new Uint8Array(le.data.imageData),re(Z)):"processed"===le.data.event&&(Z.imageData=new Uint8Array(le.data.imageData),Z.busy=!1)},Z.worker.postMessage({cmd:"init",size:{x:Ce.getWidth(),y:Ce.getHeight()},imageData:Z.imageData,config:ys(ce)},[Z.imageData.buffer])}function ks(ce,Ce,re,O){var B=ce-Di.length;if(0===B&&O)O();else if(B<0)Di.slice(B).forEach(function(le){le.worker.terminate()}),Di=Di.slice(0,B),O&&O();else{var G=function(le){Di.push(le),Di.length>=ce&&O&&O()};if(Ce)for(var Z=0;Z<B;Z++)vs(Ce,re,G)}}function jo(ce,Ce,re){for(var O=ce.length;O--;)ce[O][0]+=Ce,ce[O][1]+=re}var is=function(){function ce(){var O=this;Ge()(this,ce),se()(this,"context",new Ir),se()(this,"canRecord",function(B){var G;O.context.config&&(ur.a.checkImageConstraints(O.context.inputStream,null===(G=O.context.config)||void 0===G?void 0:G.locator),O.initCanvas(),O.context.framegrabber=Mo.create(O.context.inputStream,O.context.canvasContainer.dom.image),void 0===O.context.config.numOfWorkers&&(O.context.config.numOfWorkers=0),ks(O.context.config.numOfWorkers,O.context.config,O.context.inputStream,function(){var Z;0===(null===(Z=O.context.config)||void 0===Z?void 0:Z.numOfWorkers)&&O.initializeData(),O.ready(B)}))}),se()(this,"update",function(){if(O.context.onUIThread){var B,G=(le=O.context.framegrabber,Di.length?!!(_e=Di.filter(function(he){return!he.busy})[0])&&(le.attachData(_e.imageData),le.grab()&&(_e.busy=!0,_e.worker.postMessage({cmd:"process",imageData:_e.imageData},[_e.imageData.buffer])),!0):null);G||(O.context.framegrabber.attachData(null===(B=O.context.inputImageWrapper)||void 0===B?void 0:B.data),O.context.framegrabber.grab()&&(G||O.locateAndDecode()))}else{var Z;O.context.framegrabber.attachData(null===(Z=O.context.inputImageWrapper)||void 0===Z?void 0:Z.data),O.context.framegrabber.grab(),O.locateAndDecode()}var le,_e})}var Ce,re;return ue()(ce,[{key:"initBuffers",value:function(O){if(this.context.config){var B=(le=this.context.inputStream,he=this.context.config.locator,Ee=O||new z.a({x:le.getWidth(),y:le.getHeight(),type:"XYSize"}),We=[Object(Ar.clone)([0,0]),Object(Ar.clone)([0,Ee.size.y]),Object(Ar.clone)([Ee.size.x,Ee.size.y]),Object(Ar.clone)([Ee.size.x,0])],ur.a.init(Ee,he),{inputImageWrapper:Ee,boxSize:We}),Z=B.boxSize;this.context.inputImageWrapper=B.inputImageWrapper,this.context.boxSize=Z}var le,he,Ee,We}},{key:"initializeData",value:function(O){this.context.config&&(this.initBuffers(O),this.context.decoder=nr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Yi(this.context.config.inputStream.target):null}},{key:"ready",value:function(O){this.context.inputStream.play(),O()}},{key:"initCanvas",value:function(){var O=function Fe(ce){var Ce,re,O,B,G=Yi(null==ce||null===(Ce=ce.config)||void 0===Ce||null===(re=Ce.inputStream)||void 0===re?void 0:re.target),Z=null==ce||null===(O=ce.config)||void 0===O||null===(B=O.inputStream)||void 0===B?void 0:B.type;if(!Z)return null;var le=function(he){if("undefined"!=typeof document){var Ee=Pr("canvas.imgBuffer","imgBuffer"),We=Pr("canvas.drawingBuffer","drawingBuffer");return Ee.canvas.width=We.canvas.width=he.x,Ee.canvas.height=We.canvas.height=he.y,{dom:{image:Ee.canvas,overlay:We.canvas},ctx:{image:Ee.context,overlay:We.context}}}return null}(ce.inputStream.getCanvasSize());if(!le)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var _e=le.dom;return"undefined"!=typeof document&&G&&("ImageStream"!==Z||G.contains(_e.image)||G.appendChild(_e.image),G.contains(_e.overlay)||G.appendChild(_e.overlay)),le}(this.context);if(O){var B=O.ctx,G=O.dom;this.context.canvasContainer.dom.image=G.image,this.context.canvasContainer.dom.overlay=G.overlay,this.context.canvasContainer.ctx.image=B.image,this.context.canvasContainer.ctx.overlay=B.overlay}}},{key:"initInputStream",value:function(O){if(this.context.config&&this.context.config.inputStream){var B=this.context.config.inputStream,G=B.type,Z=B.constraints,le=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",We=arguments.length>1?arguments[1]:void 0,K=arguments.length>2?arguments[2]:void 0;switch(Ee){case"VideoStream":var Te=document.createElement("video");return{video:Te,inputStream:K.createVideoStream(Te)};case"ImageStream":return{inputStream:K.createImageStream()};case"LiveStream":var Ae=null;return We&&((Ae=We.querySelector("video"))||(Ae=document.createElement("video"),We.appendChild(Ae))),{video:Ae,inputStream:K.createLiveStream(Ae)};default:return console.error("* setupInputStream invalid type ".concat(Ee)),{video:null,inputStream:null}}}(G,this.getViewPort(),Ns),_e=le.video,he=le.inputStream;"LiveStream"===G&&_e&&Rn.request(_e,Z).then(function(){return he.trigger("canrecord")}).catch(function(Ee){return O(Ee)}),he.setAttribute("preload","auto"),he.setInputStream(this.context.config.inputStream),he.addEventListener("canrecord",this.canRecord.bind(void 0,O)),this.context.inputStream=he}}},{key:"getBoundingBoxes",value:function(){var O;return null!==(O=this.context.config)&&void 0!==O&&O.locate?ur.a.locate():[[Object(Ar.clone)(this.context.boxSize[0]),Object(Ar.clone)(this.context.boxSize[1]),Object(Ar.clone)(this.context.boxSize[2]),Object(Ar.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(O){var he,Ee,We,B=this,G=this.context.inputStream.getTopRight(),Z=G.x,le=G.y;if((0!==Z||0!==le)&&(O.barcodes&&O.barcodes.forEach(function(he){return B.transformResult(he)}),O.line&&2===O.line.length&&(We=le,(he=O.line)[0].x+=Ee=Z,he[0].y+=We,he[1].x+=Ee,he[1].y+=We),O.box&&jo(O.box,Z,le),O.boxes&&O.boxes.length>0))for(var _e=0;_e<O.boxes.length;_e++)jo(O.boxes[_e],Z,le)}},{key:"addResult",value:function(O,B){var G=this;B&&this.context.resultCollector&&(O.barcodes?O.barcodes.filter(function(Z){return Z.codeResult}).forEach(function(Z){return G.addResult(Z,B)}):O.codeResult&&this.context.resultCollector.addResult(B,this.context.inputStream.getCanvasSize(),O.codeResult))}},{key:"hasCodeResult",value:function(O){return!(!O||!(O.barcodes?O.barcodes.some(function(B){return B.codeResult}):O.codeResult))}},{key:"publishResult",value:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,B=arguments.length>1?arguments[1]:void 0,G=O;O&&this.context.onUIThread&&(this.transformResult(O),this.addResult(O,B),G=O.barcodes||O),nn.publish("processed",G),this.hasCodeResult(O)&&nn.publish("detected",G)}},{key:"locateAndDecode",value:(re=W()(ae.a.mark(function O(){var B,G,Z,le,_e;return ae.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:if(!(B=this.getBoundingBoxes())){he.next=12;break}return he.next=4,this.context.decoder.decodeFromBoundingBoxes(B);case 4:if(he.t0=he.sent,he.t0){he.next=7;break}he.t0={};case 7:(Z=he.t0).boxes=B,this.publishResult(Z,null===(G=this.context.inputImageWrapper)||void 0===G?void 0:G.data),he.next=16;break;case 12:return he.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(le=he.sent)?this.publishResult(le,null===(_e=this.context.inputImageWrapper)||void 0===_e?void 0:_e.data):this.publishResult();case 16:case"end":return he.stop()}},O,this)})),function(){return re.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var O,B=this,G=null,Z=1e3/((null===(O=this.context.config)||void 0===O?void 0:O.frequency)||60);this.context.stopped=!1;var le=this.context;!function _e(he){G=G||he,le.stopped||(he>=G&&(G+=Z,B.update()),window.requestAnimationFrame(_e))}(performance.now())}},{key:"start",value:function(){var O,B;this.context.onUIThread&&"LiveStream"===(null===(O=this.context.config)||void 0===O||null===(B=O.inputStream)||void 0===B?void 0:B.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(Ce=W()(ae.a.mark(function O(){var B;return ae.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(this.context.stopped=!0,ks(0),null===(B=this.context.config)||void 0===B||!B.inputStream||"LiveStream"!==this.context.config.inputStream.type){G.next=6;break}return G.next=5,Rn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return G.stop()}},O,this)})),function(){return Ce.apply(this,arguments)})},{key:"setReaders",value:function(O){var B;this.context.decoder&&this.context.decoder.setReaders(O),B=O,Di.forEach(function(G){return G.worker.postMessage({cmd:"setReaders",readers:B})})}},{key:"registerReader",value:function(O,B){var G,Z;nr.registerReader(O,B),this.context.decoder&&this.context.decoder.registerReader(O,B),G=O,Z=B,Di.forEach(function(le){return le.worker.postMessage({cmd:"registerReader",name:G,reader:Z})})}}]),ce}(),Oo=new is,Pa=Oo.context,Go={init:function(ce,Ce,re){var O,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Oo;return Ce||(O=new Promise(function(G,Z){Ce=function(le){le?Z(le):G()}})),B.context.config=$()({},Zn,ce),B.context.config.numOfWorkers>0&&(B.context.config.numOfWorkers=0),re?(B.context.onUIThread=!1,B.initializeData(re),Ce&&Ce()):B.initInputStream(Ce),O},start:function(){return Oo.start()},stop:function(){return Oo.stop()},pause:function(){Pa.stopped=!0},onDetected:function(ce){ce&&("function"==typeof ce||"object"===P()(ce)&&ce.callback)?nn.subscribe("detected",ce):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(ce){nn.unsubscribe("detected",ce)},onProcessed:function(ce){ce&&("function"==typeof ce||"object"===P()(ce)&&ce.callback)?nn.subscribe("processed",ce):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(ce){nn.unsubscribe("processed",ce)},setReaders:function(ce){ce?Oo.setReaders(ce):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(ce,Ce){ce?Ce?Oo.registerReader(ce,Ce):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(ce){ce&&"function"==typeof ce.addResult&&(Pa.resultCollector=ce)},get canvas(){return Pa.canvasContainer},decodeSingle:function(ce,Ce){var re=this,O=new is;return(ce=$()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:ce.src},numOfWorkers:1,locator:{halfSample:!1}},ce)).numOfWorkers>0&&(ce.numOfWorkers=0),ce.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),ce.numOfWorkers=0),new Promise(function(B,G){try{re.init(ce,function(){nn.once("processed",function(Z){O.stop(),Ce&&Ce.call(null,Z),B(Z)},!0),O.start()},null,O)}catch(Z){G(Z)}})},get default(){return Go},Readers:C,CameraAccess:Rn,ImageDebug:Je.a,ImageWrapper:z.a,ResultCollector:br};M.default=Go}]).default},2090:(nt,A,M)=>{"use strict";M.d(A,{$s:()=>Mn,BH:()=>$e,L:()=>J,LL:()=>gt,Lj:()=>In,Mn:()=>He,UG:()=>Me,US:()=>$,X3:()=>zt,ZB:()=>ae,ZR:()=>de,b$:()=>Be,d:()=>qe,eu:()=>oe,hl:()=>se,jU:()=>De,m9:()=>Ht,ne:()=>gn,pd:()=>Br,r3:()=>rr,ru:()=>rt,tV:()=>W,uI:()=>ue,vZ:()=>xr,w1:()=>we,xO:()=>wi,xb:()=>Hr,z$:()=>ut,zI:()=>Q,zd:()=>Fr});var t=M(5861);const P=function(be){const pe=[];let me=0;for(let Ze=0;Ze<be.length;Ze++){let ke=be.charCodeAt(Ze);ke<128?pe[me++]=ke:ke<2048?(pe[me++]=ke>>6|192,pe[me++]=63&ke|128):55296==(64512&ke)&&Ze+1<be.length&&56320==(64512&be.charCodeAt(Ze+1))?(ke=65536+((1023&ke)<<10)+(1023&be.charCodeAt(++Ze)),pe[me++]=ke>>18|240,pe[me++]=ke>>12&63|128,pe[me++]=ke>>6&63|128,pe[me++]=63&ke|128):(pe[me++]=ke>>12|224,pe[me++]=ke>>6&63|128,pe[me++]=63&ke|128)}return pe},$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(be,pe){if(!Array.isArray(be))throw Error("encodeByteArray takes an array as a parameter");this.init_();const me=pe?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ze=[];for(let ke=0;ke<be.length;ke+=3){const Nt=be[ke],Tn=ke+1<be.length,On=Tn?be[ke+1]:0,ir=ke+2<be.length,Gn=ir?be[ke+2]:0;let Sn=(15&On)<<2|Gn>>6,rn=63&Gn;ir||(rn=64,Tn||(Sn=64)),Ze.push(me[Nt>>2],me[(3&Nt)<<4|On>>4],me[Sn],me[rn])}return Ze.join("")},encodeString(be,pe){return this.HAS_NATIVE_SUPPORT&&!pe?btoa(be):this.encodeByteArray(P(be),pe)},decodeString(be,pe){return this.HAS_NATIVE_SUPPORT&&!pe?atob(be):function(be){const pe=[];let me=0,Ze=0;for(;me<be.length;){const ke=be[me++];if(ke<128)pe[Ze++]=String.fromCharCode(ke);else if(ke>191&&ke<224){const Nt=be[me++];pe[Ze++]=String.fromCharCode((31&ke)<<6|63&Nt)}else if(ke>239&&ke<365){const ir=((7&ke)<<18|(63&be[me++])<<12|(63&be[me++])<<6|63&be[me++])-65536;pe[Ze++]=String.fromCharCode(55296+(ir>>10)),pe[Ze++]=String.fromCharCode(56320+(1023&ir))}else{const Nt=be[me++],Tn=be[me++];pe[Ze++]=String.fromCharCode((15&ke)<<12|(63&Nt)<<6|63&Tn)}}return pe.join("")}(this.decodeStringToByteArray(be,pe))},decodeStringToByteArray(be,pe){this.init_();const me=pe?this.charToByteMapWebSafe_:this.charToByteMap_,Ze=[];for(let ke=0;ke<be.length;){const Nt=me[be.charAt(ke++)],On=ke<be.length?me[be.charAt(ke)]:0;++ke;const Gn=ke<be.length?me[be.charAt(ke)]:64;++ke;const nn=ke<be.length?me[be.charAt(ke)]:64;if(++ke,null==Nt||null==On||null==Gn||null==nn)throw Error();Ze.push(Nt<<2|On>>4),64!==Gn&&(Ze.push(On<<4&240|Gn>>2),64!==nn&&Ze.push(Gn<<6&192|nn))}return Ze},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let be=0;be<this.ENCODED_VALS.length;be++)this.byteToCharMap_[be]=this.ENCODED_VALS.charAt(be),this.charToByteMap_[this.byteToCharMap_[be]]=be,this.byteToCharMapWebSafe_[be]=this.ENCODED_VALS_WEBSAFE.charAt(be),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[be]]=be,be>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(be)]=be,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(be)]=be)}}},J=function(be){return function(be){const pe=P(be);return $.encodeByteArray(pe,!0)}(be).replace(/\./g,"")},W=function(be){try{return $.decodeString(be,!0)}catch(pe){console.error("base64Decode failed: ",pe)}return null};function ae(be,pe){if(!(pe instanceof Object))return pe;switch(pe.constructor){case Date:return new Date(pe.getTime());case Object:void 0===be&&(be={});break;case Array:be=[];break;default:return pe}for(const me in pe)!pe.hasOwnProperty(me)||!Je(me)||(be[me]=ae(be[me],pe[me]));return be}function Je(be){return"__proto__"!==be}class $e{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((pe,me)=>{this.resolve=pe,this.reject=me})}wrapCallback(pe){return(me,Ze)=>{me?this.reject(me):this.resolve(Ze),"function"==typeof pe&&(this.promise.catch(()=>{}),1===pe.length?pe(me):pe(me,Ze))}}}function ut(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ue(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function Me(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(be){return!1}}function De(){return"object"==typeof self&&self.self===self}function rt(){const be="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof be&&void 0!==be.id}function Be(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function qe(){return ut().indexOf("Electron/")>=0}function we(){const be=ut();return be.indexOf("MSIE ")>=0||be.indexOf("Trident/")>=0}function He(){return ut().indexOf("MSAppHost/")>=0}function se(){return"object"==typeof indexedDB}function oe(){return new Promise((be,pe)=>{try{let me=!0;const Ze="validate-browser-context-for-indexeddb-analytics-module",ke=self.indexedDB.open(Ze);ke.onsuccess=()=>{ke.result.close(),me||self.indexedDB.deleteDatabase(Ze),be(!0)},ke.onupgradeneeded=()=>{me=!1},ke.onerror=()=>{var Nt;pe((null===(Nt=ke.error)||void 0===Nt?void 0:Nt.message)||"")}}catch(me){pe(me)}})}function Q(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class de extends Error{constructor(pe,me,Ze){super(me),this.code=pe,this.customData=Ze,this.name="FirebaseError",Object.setPrototypeOf(this,de.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gt.prototype.create)}}class gt{constructor(pe,me,Ze){this.service=pe,this.serviceName=me,this.errors=Ze}create(pe,...me){const Ze=me[0]||{},ke=`${this.service}/${pe}`,Nt=this.errors[pe],Tn=Nt?function Dt(be,pe){return be.replace(pn,(me,Ze)=>{const ke=pe[Ze];return null!=ke?String(ke):`<${Ze}?>`})}(Nt,Ze):"Error";return new de(ke,`${this.serviceName}: ${Tn} (${ke}).`,Ze)}}const pn=/\{\$([^}]+)}/g;function rr(be,pe){return Object.prototype.hasOwnProperty.call(be,pe)}function Hr(be){for(const pe in be)if(Object.prototype.hasOwnProperty.call(be,pe))return!1;return!0}function xr(be,pe){if(be===pe)return!0;const me=Object.keys(be),Ze=Object.keys(pe);for(const ke of me){if(!Ze.includes(ke))return!1;const Nt=be[ke],Tn=pe[ke];if(ki(Nt)&&ki(Tn)){if(!xr(Nt,Tn))return!1}else if(Nt!==Tn)return!1}for(const ke of Ze)if(!me.includes(ke))return!1;return!0}function ki(be){return null!==be&&"object"==typeof be}function wi(be){const pe=[];for(const[me,Ze]of Object.entries(be))Array.isArray(Ze)?Ze.forEach(ke=>{pe.push(encodeURIComponent(me)+"="+encodeURIComponent(ke))}):pe.push(encodeURIComponent(me)+"="+encodeURIComponent(Ze));return pe.length?"&"+pe.join("&"):""}function Fr(be){const pe={};return be.replace(/^\?/,"").split("&").forEach(Ze=>{if(Ze){const[ke,Nt]=Ze.split("=");pe[decodeURIComponent(ke)]=decodeURIComponent(Nt)}}),pe}function Br(be){const pe=be.indexOf("?");if(!pe)return"";const me=be.indexOf("#",pe);return be.substring(pe,me>0?me:void 0)}function gn(be,pe){const me=new Ni(be,pe);return me.subscribe.bind(me)}class Ni{constructor(pe,me){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=me,this.task.then(()=>{pe(this)}).catch(Ze=>{this.error(Ze)})}next(pe){this.forEachObserver(me=>{me.next(pe)})}error(pe){this.forEachObserver(me=>{me.error(pe)}),this.close(pe)}complete(){this.forEachObserver(pe=>{pe.complete()}),this.close()}subscribe(pe,me,Ze){let ke;if(void 0===pe&&void 0===me&&void 0===Ze)throw new Error("Missing Observer.");ke=function $r(be,pe){if("object"!=typeof be||null===be)return!1;for(const me of pe)if(me in be&&"function"==typeof be[me])return!0;return!1}(pe,["next","error","complete"])?pe:{next:pe,error:me,complete:Ze},void 0===ke.next&&(ke.next=Re),void 0===ke.error&&(ke.error=Re),void 0===ke.complete&&(ke.complete=Re);const Nt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ke.error(this.finalError):ke.complete()}catch(Tn){}}),this.observers.push(ke),Nt}unsubscribeOne(pe){void 0===this.observers||void 0===this.observers[pe]||(delete this.observers[pe],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(pe){if(!this.finalized)for(let me=0;me<this.observers.length;me++)this.sendOne(me,pe)}sendOne(pe,me){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[pe])try{me(this.observers[pe])}catch(Ze){"undefined"!=typeof console&&console.error&&console.error(Ze)}})}close(pe){this.finalized||(this.finalized=!0,void 0!==pe&&(this.finalError=pe),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Re(){}function Mn(be,pe=1e3,me=2){const Ze=pe*Math.pow(me,be),ke=Math.round(.5*Ze*(Math.random()-.5)*2);return Math.min(144e5,Ze+ke)}function Ht(be){return be&&be._delegate?be._delegate:be}function vr(be,pe){return new Promise((me,Ze)=>{be.onsuccess=ke=>{me(ke.target.result)},be.onerror=ke=>{var Nt;Ze(`${pe}: ${null===(Nt=ke.target.error)||void 0===Nt?void 0:Nt.message}`)}})}class Dn{constructor(pe){this._db=pe,this.objectStoreNames=this._db.objectStoreNames}transaction(pe,me){return new Tt(this._db.transaction.call(this._db,pe,me))}createObjectStore(pe,me){return new et(this._db.createObjectStore(pe,me))}close(){this._db.close()}}class Tt{constructor(pe){this._transaction=pe,this.complete=new Promise((me,Ze)=>{this._transaction.oncomplete=function(){me()},this._transaction.onerror=()=>{Ze(this._transaction.error)},this._transaction.onabort=()=>{Ze(this._transaction.error)}})}objectStore(pe){return new et(this._transaction.objectStore(pe))}}class et{constructor(pe){this._store=pe}index(pe){return new Vt(this._store.index(pe))}createIndex(pe,me,Ze){return new Vt(this._store.createIndex(pe,me,Ze))}get(pe){return vr(this._store.get(pe),"Error reading from IndexedDB")}put(pe,me){return vr(this._store.put(pe,me),"Error writing to IndexedDB")}delete(pe){return vr(this._store.delete(pe),"Error deleting from IndexedDB")}clear(){return vr(this._store.clear(),"Error clearing IndexedDB object store")}}class Vt{constructor(pe){this._index=pe}get(pe){return vr(this._index.get(pe),"Error reading from IndexedDB")}}function zt(be,pe,me){return new Promise((Ze,ke)=>{try{const Nt=indexedDB.open(be,pe);Nt.onsuccess=Tn=>{Ze(new Dn(Tn.target.result))},Nt.onerror=Tn=>{var On;ke(`Error opening indexedDB: ${null===(On=Tn.target.error)||void 0===On?void 0:On.message}`)},Nt.onupgradeneeded=Tn=>{me(new Dn(Nt.result),Tn.oldVersion,Tn.newVersion,new Tt(Nt.transaction))}}catch(Nt){ke(`Error opening indexedDB: ${Nt.message}`)}})}function In(be){return yn.apply(this,arguments)}function yn(){return(yn=(0,t.Z)(function*(be){return new Promise((pe,me)=>{try{const Ze=indexedDB.deleteDatabase(be);Ze.onsuccess=()=>{pe()},Ze.onerror=ke=>{var Nt;me(`Error deleting indexedDB database "${be}": ${null===(Nt=ke.target.error)||void 0===Nt?void 0:Nt.message}`)}}catch(Ze){me(`Error deleting indexedDB database "${be}": ${Ze.message}`)}})})).apply(this,arguments)}},2940:(nt,A,M)=>{"use strict";M.d(A,{T:()=>t});const t="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(nt,A,M)=>{"use strict";M.d(A,{X:()=>t});const t=[{barcode:"8717700002402",brand:"7 Up",name:"7 Up sin az\xfacar, 2L",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1},{barcode:"8410179010014",brand:"Borges",name:"Aceite de oliva suave",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",favourite:!1},{barcode:"8410179202006",brand:"Borges",name:"Aceite refinado de girasol botella 1 l",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",favourite:!1},{barcode:"8480000163141",brand:"Marca desconeguda",favourite:!0,name:"Acelgas",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg"},{barcode:"8480017574657",brand:"Dia",favourite:!1,name:"Acelgas categor\xeda extra",imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg"},{barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",favourite:!1},{barcode:"8410128000400",brand:"Bezoya",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",favourite:!1},{barcode:"8410128160074",brand:"Bezoya",favourite:!1,name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg"},{barcode:"8411002101701",brand:"Viladrau",name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",favourite:!1},{barcode:"8436551861951",brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg"},{barcode:"8410569615614",brand:"Amstel",name:"Amstel Radler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg"},{barcode:"8410337219082",brand:"An\xeds del Mono",name:"An\xeds dulce",imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1},{barcode:"8480000325242",brand:"Hacendado",name:"Aroma de Vainilla",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",favourite:!1},{barcode:"8410184800150",brand:"Brillante",favourite:!0,name:"Arroz integral",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg"},{barcode:"8410184013086",brand:"Brillante",name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg"},{barcode:"8410448000913",brand:"Schara",favourite:!1,name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg"},{barcode:"8431707094290",brand:"Granini",favourite:!0,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg"},{barcode:"8480000180926",brand:"Hacendado",favourite:!0,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg"},{barcode:"8436033878095",brand:"guest",favourite:!1,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg"},{barcode:"8410714107735",brand:"Azucarera",name:"Azucarera Sucre Glace 500G",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",favourite:!1},{barcode:"8436540562050",brand:"Espiga Blanca",name:"Bastones de cristal",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",favourite:!1},{barcode:"8076800195132",brand:"Barilla",name:"Bavette n.13",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg"},{barcode:"8423352861402",brand:"ALITEY",name:"Bebida de avena",imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1},{barcode:"8436551865355",brand:"Ametller Origen",name:"Beguda vegetal d'arr\xf2s",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg"},{barcode:"8480017175397",brand:"Dia",name:"Bicarbonato s\xf3dico",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg"},{barcode:"5410126716016",brand:"Lotus",favourite:!0,name:"Biscoff",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg"},{barcode:"8410179202020",brand:"Borges",name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",favourite:!1},{barcode:"8015100563067",brand:"Henkel",name:"Bref power active, alpine",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8422410473878",brand:"Bonpreu",favourite:!0,name:"Brots de Ruca",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg"},{barcode:"8410148509327",brand:"Borges",favourite:!0,name:"Cacahuete frito",imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg"},{barcode:"8480000341778",brand:"Hacendado",name:"Canela Molida",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",favourite:!1},{barcode:"8410721000180",brand:"Dani",name:"Canela molida",imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",favourite:!1},{barcode:"8480000064974",brand:"Hacendado",name:"Cannelloni tubos precocidos",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",favourite:!1},{barcode:"8480000136343",brand:"Hacendado",favourite:!0,name:"Capsula cafe classic",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg"},{barcode:"8412945008508",brand:"Espiga Blanca",name:"Cebolla frita",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg"},{barcode:"8410706000266",brand:"Recondo",name:"Chapata",imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",favourite:!1},{barcode:"80177616",brand:"Kinder,Ferrero",name:"Chocolate bars x 8",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1},{barcode:"7613035268388",brand:"Nestl\xe9",favourite:!0,name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg"},{barcode:"8436554524570",brand:"Ametller origen",name:"Crema ceba i formatge",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",favourite:!0},{barcode:"8422410809851",brand:"Bonpreu",name:"Crema de Aceite Balsamico de Modena",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!0},{barcode:"8436554523979",brand:"Ametller Origen",favourite:!1,name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg"},{barcode:"8436583955093",brand:"Novell",name:"C\xe0psules de caf\xe9 intens 16u.",favourite:!0,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000325273",brand:"Hacendado",name:"Decoraciones",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",favourite:!1},{barcode:"5054563101648",brand:"Sensodyne",name:"Dent\xedfrico blanqueante, 100ml",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8410022115255",brand:"Marca desconeguda",favourite:!1,name:"Donettes",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg"},{barcode:"5900685007910",brand:"Seagram's",name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",favourite:!1},{barcode:"7613036569927",brand:"Nestl\xe9",favourite:!0,name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg"},{barcode:"8436583952054",brand:"Ametller origen",name:"Emmental",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg"},{barcode:"3560070119851",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg"},{barcode:"8414516070167",brand:"Florette",favourite:!0,name:"Ensalada mixta",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg"},{barcode:"8436551862880",brand:"Ametller Origen",favourite:!0,name:"Espaguetis a la Carbornara",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg"},{barcode:"7613035260924",brand:"Nescafe",name:"Espresso intenso descafeinado",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg"},{barcode:"8410564002204",brand:"Frit Ravich",favourite:!0,name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg"},{barcode:"8422410040872",brand:"Bonpreu",favourite:!0,name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg"},{barcode:"8076808060654",brand:"Barilla",favourite:!0,name:"Farfalle",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg"},{barcode:"3057068056781",brand:"OCB",name:"Filtros slim, 150 u.",imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",favourite:!1},{barcode:"8410739033002",brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",favourite:!1},{barcode:"8410055033014",brand:"Danone",name:"Font Vella",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg"},{barcode:"8410055133394",brand:"Danone",favourite:!1,name:"Font Vella",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg"},{barcode:"5029053010052",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",favourite:!0},{barcode:"8076802085981",brand:"Barilla",favourite:!0,name:"Fusilli",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg"},{barcode:"8437019000004",brand:"Carolina",name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",favourite:!1},{barcode:"8422410177851",brand:"Bonpreu",name:"Garbanzos cocidos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg"},{barcode:"8410505512267",brand:"Luengo",favourite:!0,name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg"},{barcode:"8420309210115",brand:"Pe\xf1a Torcal",favourite:!0,name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg"},{barcode:"8422410387915",brand:"Bonpreu",favourite:!0,name:"Hamburguesa de l'era",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg"},{barcode:"8410564016157",brand:"Frit Ravich",name:"Higos secos",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg"},{barcode:"8410091104488",brand:"Hornimans",name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",favourite:!1},{barcode:"8436554522279",brand:"Ametller origen",favourite:!0,name:"Iogurt cremos macedonia",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg"},{barcode:"8437011969217",brand:"Ametller Origen",favourite:!0,name:"Iogurt cremoso amb maduixa",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg"},{barcode:"8001841624143",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"3560071152413",brand:"Carrefour",name:"Jumbo Roll, Papel rollo multiusos",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"4008400203829",brand:"Kinder,Ferrero",favourite:!0,name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg"},{barcode:"8410135001322",brand:"Ato",name:"Leche",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg"},{barcode:"8431876005912",brand:"Carrefour",favourite:!1,name:"Lenteja a la riojana",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg"},{barcode:"8426765495240",brand:"HC Premium",name:"Lentejas pardinas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg"},{barcode:"8435041321364",brand:"Nature Essential",name:"Levadura de Cerveza",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",favourite:!1},{barcode:"8006540576588",brand:"Don Limpio",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"7613033481314",brand:"Nestl\xe9",name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",favourite:!1},{barcode:"3574661648019",name:"Listerine Cuidado Total 500ml",brand:"Johnson & Johnson",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8437004314031",brand:"Llet Nostra",name:"Llet Semi Desnatada Nostra",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",favourite:!1},{barcode:"8480000792013",brand:"Deliplus",name:"Loci\xf3n aloe vera",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",favourite:!1},{barcode:"8714100635650",brand:"Magnum",favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg"},{barcode:"8421660006010",brand:"Ametller Origen",name:"Magdalenas gegants",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",favourite:!0},{barcode:"8413100612639",brand:"Arias,Savencia",favourite:!1,name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg"},{barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg"},{barcode:"8410091301405",brand:"Marcilla",name:"Marcilla caf\xe9 superior creme express natural",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg"},{barcode:"8480000167644",brand:"Hacendado",name:"Ma\xedz dulce",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg"},{barcode:"3073780902366",brand:"Bel",favourite:!1,name:"Mini Babybel",imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg"},{barcode:"8000270018257",brand:"Bimbo",name:"Mini tostas redondas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg"},{barcode:"3560070347438",brand:"Carrefour",favourite:!1,name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg"},{barcode:"8436540566942",brand:"Espiga blanca",name:"Minicracker fibra",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg"},{barcode:"8480000644916",brand:"Hacendado",favourite:!0,name:"Mochi Coco",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg"},{barcode:"8410118041574",brand:"Prima",name:"Mostaza",imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",favourite:!1},{barcode:"8480000093554",brand:"Hacendado",name:"Muesli crunchy chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",favourite:!1},{barcode:"8431876305395",brand:"Carrefour",name:"Nachos redondos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg"},{barcode:"7613039490266",brand:"Nestl\xe9",name:"Nesquik",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg"},{barcode:"8411135005037",brand:"Marca desconeguda",favourite:!1,name:"Nom desconegut",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{barcode:"4002160092501",brand:"Granini",favourite:!1,name:"N\xe9ctar naranja briks",imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg"},{barcode:"8410179012018",brand:"Borges",favourite:!0,name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg"},{barcode:"8436551860251",brand:"Ametller Origen",favourite:!0,name:"Oli d\u2019oliva",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg"},{barcode:"8422410412044",brand:"Bonpreu",name:"Oli refinat de gira-sol",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8422410299744",brand:"Bonpreu",name:"Ous frescos pag\xe8s",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",favourite:!1},{barcode:"8436583954577",brand:"Ametller Origen",favourite:!0,name:"Pa de vidre",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg"},{barcode:"8436583954539",brand:"ametller origen",favourite:!0,name:"Pa de vidre tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg"},{barcode:"8410091024915",brand:"Hornimans",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",favourite:!1},{barcode:"3045320052244",brand:"Saint Aubert",favourite:!0,name:"Palets breton galletas de mantequilla",imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg"},{barcode:"8412170026896",brand:"Santiveri",name:"Pan Dextrin Integral Santiveri",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",favourite:!1},{barcode:"8410086000856",brand:"La Hacienda",name:"Patata entera",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg"},{barcode:"8436554525140",brand:"Ametller Origen",name:"Patata, pastanaga i mongeta tendra cuinats al buit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg"},{barcode:"8413585017240",brand:"Bonarea",name:"Patatas Fritas",imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",favourite:!1},{barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg"},{barcode:"8410954000711",brand:"Rioverde",name:"Pepinillos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg"},{barcode:"8413475312615",brand:"Marca desconeguda",favourite:!1,name:"Pernil cuit ral",imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg"},{barcode:"7076848513753",brand:"Barilla",name:"Pesto alla genovese",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg"},{barcode:"8436554529629",brand:"Ametller Origen",name:"Pit de pollastre amb herbes",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg"},{barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg"},{barcode:"8436551864709",brand:"Ametller Origen",favourite:!0,name:"Pollastre al curri vermell",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg"},{barcode:"8436583957110",name:"Pollastre al ximixurri",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8412900401153",brand:"Pompadour",name:"Pompadour Tomillo",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg"},{barcode:"8480000664129",brand:"Steinburg",name:"Radler Steinburg",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg"},{barcode:"8480000049056",brand:"Hacendado",name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",favourite:!0},{barcode:"8410091024953",brand:"Hornimans",name:"Rooibos con especias",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1},{barcode:"4019400440657",brand:"Halloren",name:"Royal mints",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1},{barcode:"8410604112344",brand:"Sal Costa",name:"Sal De Frutas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg"},{barcode:"8480000290168",brand:"Hacendado",name:"Sal de frutas sabor lim\xf3n",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",favourite:!1},{barcode:"8480000581518",brand:"Hacienda Iberico",favourite:!1,name:"Salchich\xf3n ib\xe9rico",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8427230989189",brand:"Espinaler",name:"Salsa Espinaler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg"},{barcode:"8410069018717",brand:"Gallo",name:"Salsa bolo\xf1esa",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg"},{barcode:"8436551860923",brand:"Ametller Origen",name:"Salsa de tomate casera",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg"},{barcode:"8436551862040",brand:"Ametller Origen",favourite:!1,name:"Saltat de Verdures Mediterrani",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg"},{barcode:"8480000610652",brand:"Hacendado",favourite:!0,name:"Salteado de verduras vegetais",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg"},{barcode:"5011428300035",brand:"Maldon",name:"Sea Salt Flakes",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5054563099082",name:"Sensodyne repair & protect",brand:"Sensodyne",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5050083560262",brand:"Kellogg's",name:"Smacks With Honey",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg"},{barcode:"8076800195057",brand:"Barilla",name:"Spaghetti n.5",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg"},{barcode:"3269612045008",brand:"Jean Brunet",favourite:!1,name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg"},{barcode:"8410091103306",brand:"Hornimans",name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",favourite:!1},{barcode:"3045206312257",brand:"Sanytol",favourite:!0,name:"Toallitas desinfectantes",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8436583950449",brand:"Ametller Origen",favourite:!0,name:"Tomaquet de sucar",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg"},{barcode:"8422410170760",brand:"Bonpreu",name:"Tom\xe0quet Fregit",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg"},{barcode:"8437011969903",brand:"Ametller Origen",name:"Trinxat de la cerdanya",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!0},{barcode:"8437008006420",brand:"Ametller Origen",name:"Truita carxofa",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",favourite:!0},{barcode:"8410495541070",brand:"Vicens",name:"Turr\xf3n souffl\xe9 avellana chocolate",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8412900401207",brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",favourite:!1},{barcode:"8422410598977",brand:"Bonpreu",name:"VINAGRE de vi negre",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8411002105006",brand:"Viladrau",name:"Viladrau Agua Mineral 5L.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!0},{barcode:"8480000049537",brand:"Hacendado",name:"Vinagre de Jerez reserva",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",favourite:!1},{barcode:"8410793031945",brand:"Voll-Damm",name:"Voll-damm Cerveza Doble Malta",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg"},{barcode:"5000111040983",brand:"Lea & Perrins",name:"Worcestershire sauce",favourite:!0,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg"},{barcode:"8435037550631",brand:"Ametller Origen",name:"Xori\xe7 extra",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000390103",brand:"Hacendado",name:"Zumo pura naranja",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",favourite:!1},{barcode:"8436551867502",brand:"ametller origen",favourite:!0,name:"brots selectes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg"},{barcode:"8003753900438",brand:"Illy",name:"coffee tin",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",favourite:!1},{barcode:"8410199023094",brand:"Marca desconeguda",name:"lay\u2019s gourmet original",imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",favourite:!1}]},7296:(nt,A,M)=>{"use strict";M.d(A,{H:()=>t});const t=[{id:"aldi",name:"ALDI",favourite:!1,default:!0,imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg"},{id:"alcampo",name:"Alcampo",favourite:!1,default:!0,imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png"},{id:"ametller",name:"Ametller Origen",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU"},{id:"bonpreu",name:"Bonpreu Esclat",favourite:!0,default:!0,imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{id:"bonarea",name:"Bon\xc0rea",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU"},{id:"caprabo",name:"Caprabo",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU"},{id:"carrefour",name:"Carrefour",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU"},{id:"clarel",name:"Clarel",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU"},{id:"condis",name:"Condis",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU"},{id:"consum",name:"Consum",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU"},{id:"dia",name:"Dia",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",name:"Eroski",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU"},{id:"hipercor",name:"Hipercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU"},{id:"lasirena",name:"La Sirena",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU"},{id:"lidl",name:"Lidl",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU"},{id:"makro",name:"Makro",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU"},{id:"mercadona",name:"Mercadona",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU"},{id:"sorli",name:"Sorli",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU"},{id:"supercor",name:"Supercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU"},{id:"supersol",name:"Supersol",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU"},{id:"veritas",name:"Veritas",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU"}]},3701:(nt,A,M)=>{"use strict";M.d(A,{M:()=>t});const t={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE"}},1343:(nt,A,M)=>{"use strict";M.d(A,{C:()=>j});var t=M(2292),C=M(8996),E=M(9646),N=M(3209),P=M(5e3);let j=(()=>{class ${constructor(J){this.firestore=J}addShop(J){console.log("FirestoreService.addShop()",J);const W=(0,t.hJ)(this.firestore,"shops");return(0,C.D)((0,t.ET)(W,J))}addShops(J){console.log("FirestoreService.addShops()",J);const W=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ae=(0,t.hJ)(this.firestore,"shops"),Je=(0,t.JU)(ae);W.set(Je,ne)}),W.commit(),(0,E.of)(!0)}deleteShop(J){console.log("FirestoreService.deleteShop()",J);const W=(0,t.JU)(this.firestore,`shops/${J}`);return(0,C.D)((0,N.oe)(W))}updateShop(J){console.log("FirestoreService.updateShop()",J);const W=(0,t.JU)(this.firestore,`shops/${J.id}`);return(0,C.D)((0,N.pl)(W,J))}getShops(){console.log("FirestoreService.getShops()");const J=(0,t.hJ)(this.firestore,"shops");return(0,t.BS)(J)}getProducts(){console.log("FirestoreService.getProducts()");const J=(0,t.hJ)(this.firestore,"products");return(0,t.BS)(J,{idField:"id"})}addProduct(J){console.log("FirestoreService.addProduct()",J),J.imageUrl||(J.imageUrl="");const W=(0,t.hJ)(this.firestore,"products");return(0,C.D)((0,t.ET)(W,J))}addProducts(J){console.log("FirestoreService.addProducts()",J);const W=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ae=(0,t.hJ)(this.firestore,"products"),Je=(0,t.JU)(ae);W.set(Je,ne)}),W.commit(),(0,E.of)(!0)}deleteProduct(J){console.log("FirestoreService.deleteProduct()",J);const W=(0,t.JU)(this.firestore,`products/${J}`);return(0,C.D)((0,N.oe)(W))}updateProduct(J){console.log("FirestoreService.updateProduct()",J);const W=(0,t.JU)(this.firestore,`products/${J.id}`);return(0,C.D)((0,N.pl)(W,J))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const J=(0,t.hJ)(this.firestore,"shopsProducts");return(0,t.BS)(J,{idField:"id"})}deleteShopProduct(J){console.log("FirestoreService.deleteShopProduct()",J);const W=(0,t.JU)(this.firestore,`shopsProducts/${J.id}`);return console.log(W),this.deleteShopProducts([J])}deleteShopProducts(J){console.log("FirestoreService.deleteShopProducts()",J);const W=(0,N.qs)(this.firestore);return J.forEach(ne=>{console.log(ne.id);const ae=(0,t.JU)(this.firestore,`shopsProducts/${ne.id}`);W.delete(ae)}),W.commit(),(0,E.of)(!0)}addShopProduct(J){console.log("FirestoreService.addShopProduct()",J);const W=(0,t.hJ)(this.firestore,"shopsProducts");return(0,C.D)((0,t.ET)(W,J))}addShopProducts(J){console.log("FirestoreService.addShopProducts()",J);const W=(0,N.qs)(this.firestore);return J.forEach(ne=>{const ae=(0,t.hJ)(this.firestore,"shopsProducts"),Je=(0,t.JU)(ae);W.set(Je,ne)}),W.commit(),(0,E.of)(!0)}}return $.\u0275fac=function(J){return new(J||$)(P.LFG(t.gg))},$.\u0275prov=P.Yz7({token:$,factory:$.\u0275fac,providedIn:"root"}),$})()},4120:(nt,A,M)=>{"use strict";M.d(A,{r:()=>N});var t=M(7579),C=M(3701),E=M(5e3);let N=(()=>{class P{constructor(){this.user=new t.x}login($){$.lastLogin=(new Date).getTime(),this.user.next($),localStorage.setItem(C.M.PS_LOGGED_USER,JSON.stringify($))}logout(){localStorage.removeItem(C.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin($){return(null==$?void 0:$.email.startsWith("jollmat@"))||(null==$?void 0:$.email.startsWith("joan.lloria@"))||(null==$?void 0:$.email.startsWith("joanlloria@"))}getLoggedUser(){let $=JSON.parse(localStorage.getItem(C.M.PS_LOGGED_USER));if($)return $=$,$.admin=this.checkIsAdmin($),$}isLoggedUser(){return null!=this.getLoggedUser()}}return P.\u0275fac=function($){return new($||P)},P.\u0275prov=E.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(nt=>{this._products=nt})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addProducts(nt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(nt),this.checkFavourites(nt),this.products.next(nt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addProducts(nt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(nt),this.checkFavourites(nt),this.products.next(nt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(nt){let A=this.getFavourites();return nt.favourite?A.push(nt.barcode):A=A.filter(M=>M!==nt.barcode),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(nt){nt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateProduct(nt,A){return console.log("ProductService.updateProduct()",nt),A||this.toggleFavourite(nt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(nt){return console.log("ProductService.createProduct()",nt),nt.createdBy=this.loginService.getLoggedUser(),nt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(nt),this.products.next(this._products)})):(this._products.push(nt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(nt){return console.log("ProductService.removeProduct()",nt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(A=>A.id!==nt),this.products.next(this._products)})):(this._products=this._products.filter(A=>A.id!==nt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(nt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(nt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(nt){const A=this.getFavourites();nt.map(M=>{M.favourite=A.indexOf(M.barcode)>-1})}}return ProductService.\u0275fac=function nt(A){return new(A||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(nt=>{this._shops=nt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addShops(nt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(nt),this.checkFavourites(nt),this.shops.next(nt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(nt=>{(!nt||0===nt.length)&&this.firestoreService.addShops(nt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(nt),this.checkFavourites(nt),this.shops.next(nt)}))}toggleFavourite(nt){let A=this.getFavourites();return nt.favourite?A.push(nt.id):A=A.filter(M=>M!==nt.id),this.setFavourites(A),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(nt){nt.map(A=>(A.imageUrl||(A.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),A))}updateShop(nt){return console.log("ShopService.updateShop()",nt),this.toggleFavourite(nt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(nt){return console.log("ShopService.createShop()",nt),nt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(nt),this.shops.next(this._shops)})):(this._shops.push(nt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(nt){return console.log("ShopService.removeShop()",nt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(nt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(A=>A.id!==nt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(A=>A.id!==nt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(nt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(nt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(nt){const A=this.getFavourites();nt.map(M=>{M.favourite=A.indexOf(M.id)>-1})}}return ShopService.\u0275fac=function nt(A){return new(A||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(nt,A,M)=>{"use strict";M.d(A,{q:()=>t});const t={defaultLanguage:"ca",cloudMode:!0}},2714:(nt,A,M)=>{"use strict";var t=M(5e3);let C=null;function E(){return C}const $=new t.OlP("DocumentToken");let z=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function J(){return(0,t.LFG)(ne)}()},providedIn:"platform"}),n})();const W=new t.OlP("Location Initialized");let ne=(()=>{class n extends z{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return E().getBaseHref(this._doc)}onPopState(e){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=E().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){ae()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){ae()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Je(){return new ne((0,t.LFG)($))}()},providedIn:"platform"}),n})();function ae(){return!!window.history.pushState}function $e(n,r){if(0==n.length)return r;if(0==r.length)return n;let e=0;return n.endsWith("/")&&e++,r.startsWith("/")&&e++,2==e?n+r.substring(1):1==e?n+r:n+"/"+r}function Ge(n){const r=n.match(/#|\?|$/),e=r&&r.index||n.length;return n.slice(0,e-("/"===n[e-1]?1:0))+n.slice(e)}function ut(n){return n&&"?"!==n[0]?"?"+n:n}let ue=(()=>{class n{historyGo(e){throw new Error("Not implemented")}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(){return function Me(n){const r=(0,t.LFG)($).location;return new rt((0,t.LFG)(z),r&&r.origin||"")}()},providedIn:"root"}),n})();const De=new t.OlP("appBaseHref");let rt=(()=>{class n extends ue{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return $e(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+ut(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,p){const b=this.prepareExternalUrl(l+ut(p));this._platformLocation.pushState(e,o,b)}replaceState(e,o,l,p){const b=this.prepareExternalUrl(l+ut(p));this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(z),t.LFG(De,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Be=(()=>{class n extends ue{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=$e(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,p){let b=this.prepareExternalUrl(l+ut(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.pushState(e,o,b)}replaceState(e,o,l,p){let b=this.prepareExternalUrl(l+ut(p));0==b.length&&(b=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,b)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(z),t.LFG(De,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),qe=(()=>{class n{constructor(e,o){this._subject=new t.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Ge(Ie(l)),this._platformStrategy.onPopState(p=>{this._subject.emit({url:this.path(!0),pop:!0,state:p.state,type:p.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+ut(o))}normalize(e){return n.stripTrailingSlash(function He(n,r){return n&&r.startsWith(n)?r.substring(n.length):r}(this._baseHref,Ie(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+ut(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return n.normalizeQueryParams=ut,n.joinWithSlash=$e,n.stripTrailingSlash=Ge,n.\u0275fac=function(e){return new(e||n)(t.LFG(ue),t.LFG(z))},n.\u0275prov=t.Yz7({token:n,factory:function(){return function we(){return new qe((0,t.LFG)(ue),(0,t.LFG)(z))}()},providedIn:"root"}),n})();function Ie(n){return n.replace(/\/index.html$/,"")}var se=(()=>((se=se||{})[se.Decimal=0]="Decimal",se[se.Percent=1]="Percent",se[se.Currency=2]="Currency",se[se.Scientific=3]="Scientific",se))(),Q=(()=>((Q=Q||{})[Q.Format=0]="Format",Q[Q.Standalone=1]="Standalone",Q))(),ge=(()=>((ge=ge||{})[ge.Narrow=0]="Narrow",ge[ge.Abbreviated=1]="Abbreviated",ge[ge.Wide=2]="Wide",ge[ge.Short=3]="Short",ge))(),Pe=(()=>((Pe=Pe||{})[Pe.Short=0]="Short",Pe[Pe.Medium=1]="Medium",Pe[Pe.Long=2]="Long",Pe[Pe.Full=3]="Full",Pe))(),de=(()=>((de=de||{})[de.Decimal=0]="Decimal",de[de.Group=1]="Group",de[de.List=2]="List",de[de.PercentSign=3]="PercentSign",de[de.PlusSign=4]="PlusSign",de[de.MinusSign=5]="MinusSign",de[de.Exponential=6]="Exponential",de[de.SuperscriptingExponent=7]="SuperscriptingExponent",de[de.PerMille=8]="PerMille",de[de.Infinity=9]="Infinity",de[de.NaN=10]="NaN",de[de.TimeSeparator=11]="TimeSeparator",de[de.CurrencyDecimal=12]="CurrencyDecimal",de[de.CurrencyGroup=13]="CurrencyGroup",de))();function Fn(n,r){return Vr((0,t.cg1)(n)[t.wAp.DateFormat],r)}function yr(n,r){return Vr((0,t.cg1)(n)[t.wAp.TimeFormat],r)}function rr(n,r){return Vr((0,t.cg1)(n)[t.wAp.DateTimeFormat],r)}function Xn(n,r){const e=(0,t.cg1)(n),o=e[t.wAp.NumberSymbols][r];if(void 0===o){if(r===de.CurrencyDecimal)return e[t.wAp.NumberSymbols][de.Decimal];if(r===de.CurrencyGroup)return e[t.wAp.NumberSymbols][de.Group]}return o}function Br(n){if(!n[t.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[t.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Vr(n,r){for(let e=r;e>-1;e--)if(void 0!==n[e])return n[e];throw new Error("Locale data API: locale data undefined")}function $r(n){const[r,e]=n.split(":");return{hours:+r,minutes:+e}}const Xe=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yt={},kt=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Pt=(()=>((Pt=Pt||{})[Pt.Short=0]="Short",Pt[Pt.ShortGMT=1]="ShortGMT",Pt[Pt.Long=2]="Long",Pt[Pt.Extended=3]="Extended",Pt))(),Ct=(()=>((Ct=Ct||{})[Ct.FullYear=0]="FullYear",Ct[Ct.Month=1]="Month",Ct[Ct.Date=2]="Date",Ct[Ct.Hours=3]="Hours",Ct[Ct.Minutes=4]="Minutes",Ct[Ct.Seconds=5]="Seconds",Ct[Ct.FractionalSeconds=6]="FractionalSeconds",Ct[Ct.Day=7]="Day",Ct))(),Lt=(()=>((Lt=Lt||{})[Lt.DayPeriods=0]="DayPeriods",Lt[Lt.Days=1]="Days",Lt[Lt.Months=2]="Months",Lt[Lt.Eras=3]="Eras",Lt))();function mn(n,r,e,o){let l=function On(n){if(Gn(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[l,p=1,b=1]=n.split("-").map(x=>+x);return tn(l,p-1,b)}const e=parseFloat(n);if(!isNaN(n-e))return new Date(e);let o;if(o=n.match(Xe))return function ir(n){const r=new Date(0);let e=0,o=0;const l=n[8]?r.setUTCFullYear:r.setFullYear,p=n[8]?r.setUTCHours:r.setHours;n[9]&&(e=Number(n[9]+n[10]),o=Number(n[9]+n[11])),l.call(r,Number(n[1]),Number(n[2])-1,Number(n[3]));const b=Number(n[4]||0)-e,x=Number(n[5]||0)-o,k=Number(n[6]||0),Y=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return p.call(r,b,x,k,Y),r}(o)}const r=new Date(n);if(!Gn(r))throw new Error(`Unable to convert "${n}" into a date`);return r}(n);r=Xt(e,r)||r;let x,b=[];for(;r;){if(x=kt.exec(r),!x){b.push(r);break}{b=b.concat(x.slice(1));const fe=b.pop();if(!fe)break;r=fe}}let k=l.getTimezoneOffset();o&&(k=ke(o,k),l=function Tn(n,r,e){const o=e?-1:1,l=n.getTimezoneOffset();return function Nt(n,r){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+r),n}(n,o*(ke(r,l)-l))}(l,o,!0));let Y="";return b.forEach(fe=>{const Ne=function Ze(n){if(me[n])return me[n];let r;switch(n){case"G":case"GG":case"GGG":r=Dn(Lt.Eras,ge.Abbreviated);break;case"GGGG":r=Dn(Lt.Eras,ge.Wide);break;case"GGGGG":r=Dn(Lt.Eras,ge.Narrow);break;case"y":r=Ht(Ct.FullYear,1,0,!1,!0);break;case"yy":r=Ht(Ct.FullYear,2,0,!0,!0);break;case"yyy":r=Ht(Ct.FullYear,3,0,!1,!0);break;case"yyyy":r=Ht(Ct.FullYear,4,0,!1,!0);break;case"Y":r=pe(1);break;case"YY":r=pe(2,!0);break;case"YYY":r=pe(3);break;case"YYYY":r=pe(4);break;case"M":case"L":r=Ht(Ct.Month,1,1);break;case"MM":case"LL":r=Ht(Ct.Month,2,1);break;case"MMM":r=Dn(Lt.Months,ge.Abbreviated);break;case"MMMM":r=Dn(Lt.Months,ge.Wide);break;case"MMMMM":r=Dn(Lt.Months,ge.Narrow);break;case"LLL":r=Dn(Lt.Months,ge.Abbreviated,Q.Standalone);break;case"LLLL":r=Dn(Lt.Months,ge.Wide,Q.Standalone);break;case"LLLLL":r=Dn(Lt.Months,ge.Narrow,Q.Standalone);break;case"w":r=be(1);break;case"ww":r=be(2);break;case"W":r=be(1,!0);break;case"d":r=Ht(Ct.Date,1);break;case"dd":r=Ht(Ct.Date,2);break;case"c":case"cc":r=Ht(Ct.Day,1);break;case"ccc":r=Dn(Lt.Days,ge.Abbreviated,Q.Standalone);break;case"cccc":r=Dn(Lt.Days,ge.Wide,Q.Standalone);break;case"ccccc":r=Dn(Lt.Days,ge.Narrow,Q.Standalone);break;case"cccccc":r=Dn(Lt.Days,ge.Short,Q.Standalone);break;case"E":case"EE":case"EEE":r=Dn(Lt.Days,ge.Abbreviated);break;case"EEEE":r=Dn(Lt.Days,ge.Wide);break;case"EEEEE":r=Dn(Lt.Days,ge.Narrow);break;case"EEEEEE":r=Dn(Lt.Days,ge.Short);break;case"a":case"aa":case"aaa":r=Dn(Lt.DayPeriods,ge.Abbreviated);break;case"aaaa":r=Dn(Lt.DayPeriods,ge.Wide);break;case"aaaaa":r=Dn(Lt.DayPeriods,ge.Narrow);break;case"b":case"bb":case"bbb":r=Dn(Lt.DayPeriods,ge.Abbreviated,Q.Standalone,!0);break;case"bbbb":r=Dn(Lt.DayPeriods,ge.Wide,Q.Standalone,!0);break;case"bbbbb":r=Dn(Lt.DayPeriods,ge.Narrow,Q.Standalone,!0);break;case"B":case"BB":case"BBB":r=Dn(Lt.DayPeriods,ge.Abbreviated,Q.Format,!0);break;case"BBBB":r=Dn(Lt.DayPeriods,ge.Wide,Q.Format,!0);break;case"BBBBB":r=Dn(Lt.DayPeriods,ge.Narrow,Q.Format,!0);break;case"h":r=Ht(Ct.Hours,1,-12);break;case"hh":r=Ht(Ct.Hours,2,-12);break;case"H":r=Ht(Ct.Hours,1);break;case"HH":r=Ht(Ct.Hours,2);break;case"m":r=Ht(Ct.Minutes,1);break;case"mm":r=Ht(Ct.Minutes,2);break;case"s":r=Ht(Ct.Seconds,1);break;case"ss":r=Ht(Ct.Seconds,2);break;case"S":r=Ht(Ct.FractionalSeconds,1);break;case"SS":r=Ht(Ct.FractionalSeconds,2);break;case"SSS":r=Ht(Ct.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":r=et(Pt.Short);break;case"ZZZZZ":r=et(Pt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":r=et(Pt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":r=et(Pt.Long);break;default:return null}return me[n]=r,r}(fe);Y+=Ne?Ne(l,e,k):"''"===fe?"'":fe.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Y}function tn(n,r,e){const o=new Date(0);return o.setFullYear(n,r,e),o.setHours(0,0,0),o}function Xt(n,r){const e=function Dt(n){return(0,t.cg1)(n)[t.wAp.LocaleId]}(n);if(yt[e]=yt[e]||{},yt[e][r])return yt[e][r];let o="";switch(r){case"shortDate":o=Fn(n,Pe.Short);break;case"mediumDate":o=Fn(n,Pe.Medium);break;case"longDate":o=Fn(n,Pe.Long);break;case"fullDate":o=Fn(n,Pe.Full);break;case"shortTime":o=yr(n,Pe.Short);break;case"mediumTime":o=yr(n,Pe.Medium);break;case"longTime":o=yr(n,Pe.Long);break;case"fullTime":o=yr(n,Pe.Full);break;case"short":const l=Xt(n,"shortTime"),p=Xt(n,"shortDate");o=Mn(rr(n,Pe.Short),[l,p]);break;case"medium":const b=Xt(n,"mediumTime"),x=Xt(n,"mediumDate");o=Mn(rr(n,Pe.Medium),[b,x]);break;case"long":const k=Xt(n,"longTime"),Y=Xt(n,"longDate");o=Mn(rr(n,Pe.Long),[k,Y]);break;case"full":const fe=Xt(n,"fullTime"),Ne=Xt(n,"fullDate");o=Mn(rr(n,Pe.Full),[fe,Ne])}return o&&(yt[e][r]=o),o}function Mn(n,r){return r&&(n=n.replace(/\{([^}]+)}/g,function(e,o){return null!=r&&o in r?r[o]:e})),n}function Cn(n,r,e="-",o,l){let p="";(n<0||l&&n<=0)&&(l?n=1-n:(n=-n,p=e));let b=String(n);for(;b.length<r;)b="0"+b;return o&&(b=b.substr(b.length-r)),p+b}function Ht(n,r,e=0,o=!1,l=!1){return function(p,b){let x=function vr(n,r){switch(n){case Ct.FullYear:return r.getFullYear();case Ct.Month:return r.getMonth();case Ct.Date:return r.getDate();case Ct.Hours:return r.getHours();case Ct.Minutes:return r.getMinutes();case Ct.Seconds:return r.getSeconds();case Ct.FractionalSeconds:return r.getMilliseconds();case Ct.Day:return r.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,p);if((e>0||x>-e)&&(x+=e),n===Ct.Hours)0===x&&-12===e&&(x=12);else if(n===Ct.FractionalSeconds)return function Wn(n,r){return Cn(n,3).substr(0,r)}(x,r);const k=Xn(b,de.MinusSign);return Cn(x,r,k,o,l)}}function Dn(n,r,e=Q.Format,o=!1){return function(l,p){return function Tt(n,r,e,o,l,p){switch(e){case Lt.Months:return function mt(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.MonthsFormat],o[t.wAp.MonthsStandalone]],r);return Vr(p,e)}(r,l,o)[n.getMonth()];case Lt.Days:return function wt(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.DaysFormat],o[t.wAp.DaysStandalone]],r);return Vr(p,e)}(r,l,o)[n.getDay()];case Lt.DayPeriods:const b=n.getHours(),x=n.getMinutes();if(p){const Y=function Ei(n){const r=(0,t.cg1)(n);return Br(r),(r[t.wAp.ExtraData][2]||[]).map(o=>"string"==typeof o?$r(o):[$r(o[0]),$r(o[1])])}(r),fe=function gn(n,r,e){const o=(0,t.cg1)(n);Br(o);const p=Vr([o[t.wAp.ExtraData][0],o[t.wAp.ExtraData][1]],r)||[];return Vr(p,e)||[]}(r,l,o),Ne=Y.findIndex(Ye=>{if(Array.isArray(Ye)){const[ze,ft]=Ye,vt=b>=ze.hours&&x>=ze.minutes,Kt=b<ft.hours||b===ft.hours&&x<ft.minutes;if(ze.hours<ft.hours){if(vt&&Kt)return!0}else if(vt||Kt)return!0}else if(Ye.hours===b&&Ye.minutes===x)return!0;return!1});if(-1!==Ne)return fe[Ne]}return function pn(n,r,e){const o=(0,t.cg1)(n),p=Vr([o[t.wAp.DayPeriodsFormat],o[t.wAp.DayPeriodsStandalone]],r);return Vr(p,e)}(r,l,o)[b<12?0:1];case Lt.Eras:return function xt(n,r){return Vr((0,t.cg1)(n)[t.wAp.Eras],r)}(r,o)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${e}`)}}(l,p,n,r,e,o)}}function et(n){return function(r,e,o){const l=-1*o,p=Xn(e,de.MinusSign),b=l>0?Math.floor(l/60):Math.ceil(l/60);switch(n){case Pt.Short:return(l>=0?"+":"")+Cn(b,2,p)+Cn(Math.abs(l%60),2,p);case Pt.ShortGMT:return"GMT"+(l>=0?"+":"")+Cn(b,1,p);case Pt.Long:return"GMT"+(l>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(l%60),2,p);case Pt.Extended:return 0===o?"Z":(l>=0?"+":"")+Cn(b,2,p)+":"+Cn(Math.abs(l%60),2,p);default:throw new Error(`Unknown zone width "${n}"`)}}}function yn(n){return tn(n.getFullYear(),n.getMonth(),n.getDate()+(4-n.getDay()))}function be(n,r=!1){return function(e,o){let l;if(r){const p=new Date(e.getFullYear(),e.getMonth(),1).getDay()-1,b=e.getDate();l=1+Math.floor((b+p)/7)}else{const p=yn(e),b=function In(n){const r=tn(n,0,1).getDay();return tn(n,0,1+(r<=4?4:11)-r)}(p.getFullYear()),x=p.getTime()-b.getTime();l=1+Math.round(x/6048e5)}return Cn(l,n,Xn(o,de.MinusSign))}}function pe(n,r=!1){return function(e,o){return Cn(yn(e).getFullYear(),n,Xn(o,de.MinusSign),r)}}const me={};function ke(n,r){n=n.replace(/:/g,"");const e=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(e)?r:e}function Gn(n){return n instanceof Date&&!isNaN(n.valueOf())}const nr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Vn(n){const r=parseInt(n);if(isNaN(r))throw new Error("Invalid integer literal when parsing "+n);return r}function Ar(n,r){r=encodeURIComponent(r);for(const e of n.split(";")){const o=e.indexOf("="),[l,p]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===r)return decodeURIComponent(p)}return null}let Ir=(()=>{class n{constructor(e,o,l,p){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=l,this._renderer=p,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,t.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,t.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(l=>{o?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.ZZ4),t.Y36(t.aQg),t.Y36(t.SBq),t.Y36(t.Qsj))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),n})();class Fi{constructor(r,e,o,l){this.$implicit=r,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ur=(()=>{class n{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=this._viewContainer;e.forEachOperation((l,p,b)=>{if(null==l.previousIndex)o.createEmbeddedView(this._template,new Fi(l.item,this._ngForOf,-1,-1),null===b?void 0:b);else if(null==b)o.remove(null===p?void 0:p);else if(null!==p){const x=o.get(p);o.move(x,b),Yi(x,l)}});for(let l=0,p=o.length;l<p;l++){const x=o.get(l).context;x.index=l,x.count=p,x.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{Yi(o.get(l.currentIndex),l)})}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc),t.Y36(t.ZZ4))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),n})();function Yi(n,r){n.context.$implicit=r.item}let Fe=(()=>{class n{constructor(e,o){this._viewContainer=e,this._context=new Oe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){ot("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){ot("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b),t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),n})();class Oe{constructor(){this.$implicit=null,this.ngIf=null}}function ot(n,r){if(r&&!r.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,t.AaK)(r)}'.`)}let qr=(()=>{class n{constructor(e){this._viewContainerRef=e,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(e){if(e.ngTemplateOutlet){const o=this._viewContainerRef;this._viewRef&&o.remove(o.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?o.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&e.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[t.TTD]}),n})();function Li(n,r){return new t.vHH(2100,"")}const ks=new t.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let jo=(()=>{class n{constructor(e,o){this.locale=e,this.defaultTimezone=o}transform(e,o="mediumDate",l,p){var b;if(null==e||""===e||e!=e)return null;try{return mn(e,o,p||this.locale,null!==(b=null!=l?l:this.defaultTimezone)&&void 0!==b?b:void 0)}catch(x){throw Li()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16),t.Y36(ks,24))},n.\u0275pipe=t.Yjl({name:"date",type:n,pure:!0}),n})(),Go=(()=>{class n{transform(e){return JSON.stringify(e,null,2)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"json",type:n,pure:!1}),n})(),O=(()=>{class n{constructor(e){this._locale=e}transform(e,o,l){if(!function Z(n){return!(null==n||""===n||n!=n)}(e))return null;l=l||this._locale;try{return function bt(n,r,e){return function jt(n,r,e,o,l,p,b=!1){let x="",k=!1;if(isFinite(n)){let Y=function sn(n){let o,l,p,b,x,r=Math.abs(n)+"",e=0;for((l=r.indexOf("."))>-1&&(r=r.replace(".","")),(p=r.search(/e/i))>0?(l<0&&(l=p),l+=+r.slice(p+1),r=r.substring(0,p)):l<0&&(l=r.length),p=0;"0"===r.charAt(p);p++);if(p===(x=r.length))o=[0],l=1;else{for(x--;"0"===r.charAt(x);)x--;for(l-=p,o=[],b=0;p<=x;p++,b++)o[b]=Number(r.charAt(p))}return l>22&&(o=o.splice(0,21),e=l-1,l=1),{digits:o,exponent:e,integerLen:l}}(n);b&&(Y=function en(n){if(0===n.digits[0])return n;const r=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===r?n.digits.push(0,0):1===r&&n.digits.push(0),n.integerLen+=2),n}(Y));let fe=r.minInt,Ne=r.minFrac,Ye=r.maxFrac;if(p){const bn=p.match(nr);if(null===bn)throw new Error(`${p} is not a valid digit info`);const cr=bn[1],xn=bn[3],fr=bn[5];null!=cr&&(fe=Vn(cr)),null!=xn&&(Ne=Vn(xn)),null!=fr?Ye=Vn(fr):null!=xn&&Ne>Ye&&(Ye=Ne)}!function En(n,r,e){if(r>e)throw new Error(`The minimum number of digits after fraction (${r}) is higher than the maximum (${e}).`);let o=n.digits,l=o.length-n.integerLen;const p=Math.min(Math.max(r,l),e);let b=p+n.integerLen,x=o[b];if(b>0){o.splice(Math.max(n.integerLen,b));for(let Ne=b;Ne<o.length;Ne++)o[Ne]=0}else{l=Math.max(0,l),n.integerLen=1,o.length=Math.max(1,b=p+1),o[0]=0;for(let Ne=1;Ne<b;Ne++)o[Ne]=0}if(x>=5)if(b-1<0){for(let Ne=0;Ne>b;Ne--)o.unshift(0),n.integerLen++;o.unshift(1),n.integerLen++}else o[b-1]++;for(;l<Math.max(0,p);l++)o.push(0);let k=0!==p;const Y=r+n.integerLen,fe=o.reduceRight(function(Ne,Ye,ze,ft){return ft[ze]=(Ye+=Ne)<10?Ye:Ye-10,k&&(0===ft[ze]&&ze>=Y?ft.pop():k=!1),Ye>=10?1:0},0);fe&&(o.unshift(fe),n.integerLen++)}(Y,Ne,Ye);let ze=Y.digits,ft=Y.integerLen;const vt=Y.exponent;let Kt=[];for(k=ze.every(bn=>!bn);ft<fe;ft++)ze.unshift(0);for(;ft<0;ft++)ze.unshift(0);ft>0?Kt=ze.splice(ft,ze.length):(Kt=ze,ze=[0]);const dn=[];for(ze.length>=r.lgSize&&dn.unshift(ze.splice(-r.lgSize,ze.length).join(""));ze.length>r.gSize;)dn.unshift(ze.splice(-r.gSize,ze.length).join(""));ze.length&&dn.unshift(ze.join("")),x=dn.join(Xn(e,o)),Kt.length&&(x+=Xn(e,l)+Kt.join("")),vt&&(x+=Xn(e,de.Exponential)+"+"+vt)}else x=Xn(e,de.Infinity);return x=n<0&&!k?r.negPre+x+r.negSuf:r.posPre+x+r.posSuf,x}(n,function $t(n,r="-"){const e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},o=n.split(";"),l=o[0],p=o[1],b=-1!==l.indexOf(".")?l.split("."):[l.substring(0,l.lastIndexOf("0")+1),l.substring(l.lastIndexOf("0")+1)],x=b[0],k=b[1]||"";e.posPre=x.substr(0,x.indexOf("#"));for(let fe=0;fe<k.length;fe++){const Ne=k.charAt(fe);"0"===Ne?e.minFrac=e.maxFrac=fe+1:"#"===Ne?e.maxFrac=fe+1:e.posSuf+=Ne}const Y=x.split(",");if(e.gSize=Y[1]?Y[1].length:0,e.lgSize=Y[2]||Y[1]?(Y[2]||Y[1]).length:0,p){const fe=l.length-e.posPre.length-e.posSuf.length,Ne=p.indexOf("#");e.negPre=p.substr(0,Ne).replace(/'/g,""),e.negSuf=p.substr(Ne+fe).replace(/'/g,"")}else e.negPre=r+e.posPre,e.negSuf=e.posSuf;return e}(function Hr(n,r){return(0,t.cg1)(n)[t.wAp.NumberFormats][r]}(r,se.Decimal),Xn(r,de.MinusSign)),r,de.Group,de.Decimal,e)}(function le(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(e),l,o)}catch(p){throw Li()}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.soG,16))},n.\u0275pipe=t.Yjl({name:"number",type:n,pure:!0}),n})();let Ee=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const We="browser";let Yn=(()=>{class n{}return n.\u0275prov=(0,t.Yz7)({token:n,providedIn:"root",factory:()=>new Zr((0,t.LFG)($),window)}),n})();class Zr{constructor(r,e){this.document=r,this.window=e,this.offset=()=>[0,0]}setOffset(r){this.offset=Array.isArray(r)?()=>r:r}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(r){this.supportsScrolling()&&this.window.scrollTo(r[0],r[1])}scrollToAnchor(r){if(!this.supportsScrolling())return;const e=function Ji(n,r){const e=n.getElementById(r)||n.getElementsByName(r)[0];if(e)return e;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const o=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const p=l.shadowRoot;if(p){const b=p.getElementById(r)||p.querySelector(`[name="${r}"]`);if(b)return b}l=o.nextNode()}}return null}(this.document,r);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(r){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=r)}}scrollToElement(r){const e=r.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,p=this.offset();this.window.scrollTo(o-p[0],l-p[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const r=Lr(this.window.history)||Lr(Object.getPrototypeOf(this.window.history));return!(!r||!r.writable&&!r.set)}catch(r){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(r){return!1}}}function Lr(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Sr{}class Ma extends class oc extends class j{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function P(n){C||(C=n)}(new Ma)}onAndCancel(r,e,o){return r.addEventListener(e,o,!1),()=>{r.removeEventListener(e,o,!1)}}dispatchEvent(r,e){r.dispatchEvent(e)}remove(r){r.parentNode&&r.parentNode.removeChild(r)}createElement(r,e){return(e=e||this.getDefaultDocument()).createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,e){return"window"===e?window:"document"===e?r:"body"===e?r.body:null}getBaseHref(r){const e=function Oa(){return Kr=Kr||document.querySelector("base"),Kr?Kr.getAttribute("href"):null}();return null==e?null:function Ra(n){Na=Na||document.createElement("a"),Na.setAttribute("href",n);const r=Na.pathname;return"/"===r.charAt(0)?r:`/${r}`}(e)}resetBaseElement(){Kr=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return Ar(document.cookie,r)}}let Na,Kr=null;const No=new t.OlP("TRANSITION_ID"),du=[{provide:t.ip1,useFactory:function Ui(n,r,e){return()=>{e.get(t.CZH).donePromise.then(()=>{const o=E(),l=r.querySelectorAll(`style[ng-transition="${n}"]`);for(let p=0;p<l.length;p++)o.remove(l[p])})}},deps:[No,$,t.zs3],multi:!0}];class os{static init(){(0,t.VLi)(new os)}addToWindow(r){t.dqk.getAngularTestability=(o,l=!0)=>{const p=r.findTestabilityInTree(o,l);if(null==p)throw new Error("Could not find testability for element.");return p},t.dqk.getAllAngularTestabilities=()=>r.getAllTestabilities(),t.dqk.getAllAngularRootElements=()=>r.getAllRootElements(),t.dqk.frameworkStabilizers||(t.dqk.frameworkStabilizers=[]),t.dqk.frameworkStabilizers.push(o=>{const l=t.dqk.getAllAngularTestabilities();let p=l.length,b=!1;const x=function(k){b=b||k,p--,0==p&&o(b)};l.forEach(function(k){k.whenStable(x)})})}findTestabilityInTree(r,e,o){if(null==e)return null;const l=r.getTestability(e);return null!=l?l:o?E().isShadowRoot(e)?this.findTestabilityInTree(r,e.host,!0):this.findTestabilityInTree(r,e.parentElement,!0):null}}let so=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const bs=new t.OlP("EventManagerPlugins");let ka=(()=>{class n{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let p=0;p<l.length;p++){const b=l[p];if(b.supports(e))return this._eventNameToPlugin.set(e,b),b}throw new Error(`No event manager plugin found for event ${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(bs),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class sc{constructor(r){this._doc=r}addGlobalEventListener(r,e,o){const l=E().getGlobalEventTarget(this._doc,r);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let ss=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ls=(()=>{class n extends ss{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(p=>{const b=this._doc.createElement("style");b.textContent=p,l.push(o.appendChild(b))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(Ac),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ac))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Ac(n){E().remove(n)}const Kn={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},tl=/%COMP%/g;function Ot(n,r,e){for(let o=0;o<r.length;o++){let l=r[o];Array.isArray(l)?Ot(n,l,e):(l=l.replace(tl,n),e.push(l))}return e}function jn(n){return r=>{if("__ngUnwrap__"===r)return n;!1===n(r)&&(r.preventDefault(),r.returnValue=!1)}}let ai=(()=>{class n{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new rl(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case t.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new Pc(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case t.ifc.ShadowDom:return new Ql(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=Ot(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ka),t.LFG(Ls),t.LFG(t.AFp))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class rl{constructor(r){this.eventManager=r,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(r,e){return e?document.createElementNS(Kn[e]||e,r):document.createElement(r)}createComment(r){return document.createComment(r)}createText(r){return document.createTextNode(r)}appendChild(r,e){r.appendChild(e)}insertBefore(r,e,o){r&&r.insertBefore(e,o)}removeChild(r,e){r&&r.removeChild(e)}selectRootElement(r,e){let o="string"==typeof r?document.querySelector(r):r;if(!o)throw new Error(`The selector "${r}" did not match any elements`);return e||(o.textContent=""),o}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,e,o,l){if(l){e=l+":"+e;const p=Kn[l];p?r.setAttributeNS(p,e,o):r.setAttribute(e,o)}else r.setAttribute(e,o)}removeAttribute(r,e,o){if(o){const l=Kn[o];l?r.removeAttributeNS(l,e):r.removeAttribute(`${o}:${e}`)}else r.removeAttribute(e)}addClass(r,e){r.classList.add(e)}removeClass(r,e){r.classList.remove(e)}setStyle(r,e,o,l){l&(t.JOm.DashCase|t.JOm.Important)?r.style.setProperty(e,o,l&t.JOm.Important?"important":""):r.style[e]=o}removeStyle(r,e,o){o&t.JOm.DashCase?r.style.removeProperty(e):r.style[e]=""}setProperty(r,e,o){r[e]=o}setValue(r,e){r.nodeValue=e}listen(r,e,o){return"string"==typeof r?this.eventManager.addGlobalEventListener(r,e,jn(o)):this.eventManager.addEventListener(r,e,jn(o))}}class Pc extends rl{constructor(r,e,o,l){super(r),this.component=o;const p=Ot(l+"-"+o.id,o.styles,[]);e.addStyles(p),this.contentAttr=function nl(n){return"_ngcontent-%COMP%".replace(tl,n)}(l+"-"+o.id),this.hostAttr=function aa(n){return"_nghost-%COMP%".replace(tl,n)}(l+"-"+o.id)}applyToHost(r){super.setAttribute(r,this.hostAttr,"")}createElement(r,e){const o=super.createElement(r,e);return super.setAttribute(o,this.contentAttr,""),o}}class Ql extends rl{constructor(r,e,o,l){super(r),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const p=Ot(l.id,l.styles,[]);for(let b=0;b<p.length;b++){const x=document.createElement("style");x.textContent=p[b],this.shadowRoot.appendChild(x)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(r,e){return super.appendChild(this.nodeOrShadowRoot(r),e)}insertBefore(r,e,o){return super.insertBefore(this.nodeOrShadowRoot(r),e,o)}removeChild(r,e){return super.removeChild(this.nodeOrShadowRoot(r),e)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}}let Xl=(()=>{class n extends sc{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=["alt","control","meta","shift"],wo={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},To={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ca={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Ba=(()=>{class n extends sc{constructor(e){super(e)}supports(e){return null!=n.parseEventName(e)}addEventListener(e,o,l){const p=n.parseEventName(o),b=n.eventCallback(p.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>E().onAndCancel(e,p.domEventName,b))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const p=n._normalizeKey(o.pop());let b="";if(hu.forEach(k=>{const Y=o.indexOf(k);Y>-1&&(o.splice(Y,1),b+=k+".")}),b+=p,0!=o.length||0===p.length)return null;const x={};return x.domEventName=l,x.fullKey=b,x}static getEventFullKey(e){let o="",l=function Bs(n){let r=n.key;if(null==r){if(r=n.keyIdentifier,null==r)return"Unidentified";r.startsWith("U+")&&(r=String.fromCharCode(parseInt(r.substring(2),16)),3===n.location&&To.hasOwnProperty(r)&&(r=To[r]))}return wo[r]||r}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),hu.forEach(p=>{p!=l&&ca[p](e)&&(o+=p+".")}),o+=l,o}static eventCallback(e,o,l){return p=>{n.getEventFullKey(p)===e&&l.runGuarded(()=>o(p))}}static _normalizeKey(e){return"esc"===e?"escape":e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const ac=(0,t.eFA)(t._c5,"browser",[{provide:t.Lbi,useValue:We},{provide:t.g9A,useValue:function Ho(){Ma.makeCurrent(),os.init()},multi:!0},{provide:$,useFactory:function ua(){return(0,t.RDi)(document),document},deps:[]}]),fu=[{provide:t.zSh,useValue:"root"},{provide:t.qLn,useFactory:function Jd(){return new t.qLn},deps:[]},{provide:bs,useClass:Xl,multi:!0,deps:[$,t.R0b,t.Lbi]},{provide:bs,useClass:Ba,multi:!0,deps:[$]},{provide:ai,useClass:ai,deps:[ka,Ls,t.AFp]},{provide:t.FYo,useExisting:ai},{provide:ss,useExisting:Ls},{provide:Ls,useClass:Ls,deps:[$]},{provide:t.dDg,useClass:t.dDg,deps:[t.R0b]},{provide:ka,useClass:ka,deps:[bs,t.R0b]},{provide:Sr,useClass:so,deps:[]}];let Va=(()=>{class n{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:n,providers:[{provide:t.AFp,useValue:e.appId},{provide:No,useExisting:t.AFp},du]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(n,12))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:fu,imports:[Ee,t.hGG]}),n})();"undefined"!=typeof window&&window;let Ro=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new(e||n):t.LFG(mu),o},providedIn:"root"}),n})(),mu=(()=>{class n extends Ro{constructor(e){super(),this._doc=e}sanitize(e,o){if(null==o)return null;switch(e){case t.q3G.NONE:return o;case t.q3G.HTML:return(0,t.qzn)(o,"HTML")?(0,t.z3N)(o):(0,t.EiD)(this._doc,String(o)).toString();case t.q3G.STYLE:return(0,t.qzn)(o,"Style")?(0,t.z3N)(o):o;case t.q3G.SCRIPT:if((0,t.qzn)(o,"Script"))return(0,t.z3N)(o);throw new Error("unsafe value used in a script context");case t.q3G.URL:return(0,t.yhl)(o),(0,t.qzn)(o,"URL")?(0,t.z3N)(o):(0,t.mCW)(String(o));case t.q3G.RESOURCE_URL:if((0,t.qzn)(o,"ResourceURL"))return(0,t.z3N)(o);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,t.JVY)(e)}bypassSecurityTrustStyle(e){return(0,t.L6k)(e)}bypassSecurityTrustScript(e){return(0,t.eBb)(e)}bypassSecurityTrustUrl(e){return(0,t.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,t.pB0)(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:function(e){let o=null;return o=e?new e:function da(n){return new mu(n.get($))}(t.LFG(t.zs3)),o},providedIn:"root"}),n})();M(8955);var ar=M(8996),Si=M(8306);const{isArray:rd}=Array,{getPrototypeOf:kn,prototype:Jn,keys:nh}=Object;function on(n){if(1===n.length){const r=n[0];if(rd(r))return{args:r,keys:null};if(function pt(n){return n&&"object"==typeof n&&kn(n)===Jn}(r)){const e=nh(r);return{args:e.map(o=>r[o]),keys:e}}}return{args:n,keys:null}}var It=M(8421),zr=M(3269),_r=M(5403),er=M(4004);const{isArray:nf}=Array;function Rc(n){return(0,er.U)(r=>function rf(n,r){return nf(r)?n(...r):n(r)}(n,r))}function sf(n,r){return n.reduce((e,o,l)=>(e[o]=r[l],e),{})}function hl(...n){const r=(0,zr.jO)(n),{args:e,keys:o}=on(n),l=new Si.y(p=>{const{length:b}=e;if(!b)return void p.complete();const x=new Array(b);let k=b,Y=b;for(let fe=0;fe<b;fe++){let Ne=!1;(0,It.Xf)(e[fe]).subscribe((0,_r.x)(p,Ye=>{Ne||(Ne=!0,Y--),x[fe]=Ye},()=>k--,void 0,()=>{(!k||!Ne)&&(Y||p.next(o?sf(o,x):x),p.complete())}))}});return r?l.pipe(Rc(r)):l}let cc=(()=>{class n{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n}),n})(),$s=(()=>{class n extends cc{}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,features:[t.qOj]}),n})();const Yr=new t.OlP("NgValueAccessor"),cs={provide:Yr,useExisting:(0,t.Gpc)(()=>Do),multi:!0};let Do=(()=>{class n extends $s{writeValue(e){this.setProperty("checked",e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.checked)})("blur",function(){return o.onTouched()})},features:[t._Bn([cs]),t.qOj]}),n})();const Cr={provide:Yr,useExisting:(0,t.Gpc)(()=>Xr),multi:!0},fl=new t.OlP("CompositionEventMode");let Xr=(()=>{class n extends cc{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qs(){const n=E()?E().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Qsj),t.Y36(t.SBq),t.Y36(fl,8))},n.\u0275dir=t.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o._handleInput(p.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(p){return o._compositionEnd(p.target.value)})},features:[t._Bn([Cr]),t.qOj]}),n})();const yi=new t.OlP("NgValidators"),Cs=new t.OlP("NgAsyncValidators");function Xi(n){return null}function ml(n){return null!=n}function _u(n){const r=(0,t.QGY)(n)?(0,ar.D)(n):n;return(0,t.CqO)(r),r}function qo(n){let r={};return n.forEach(e=>{r=null!=e?Object.assign(Object.assign({},r),e):r}),0===Object.keys(r).length?null:r}function id(n,r){return r.map(e=>e(n))}function oi(n){return n.map(r=>function uc(n){return!n.validate}(r)?r:e=>r.validate(e))}function ih(n){return null!=n?function lc(n){if(!n)return null;const r=n.filter(ml);return 0==r.length?null:function(e){return qo(id(e,r))}}(oi(n)):null}function _l(n){return null!=n?function fn(n){if(!n)return null;const r=n.filter(ml);return 0==r.length?null:function(e){return hl(id(e,r).map(_u)).pipe((0,er.U)(qo))}}(oi(n)):null}function od(n,r){return null===n?[r]:Array.isArray(n)?[...n,r]:[n,r]}function Ts(n){return n?Array.isArray(n)?n:[n]:[]}function ha(n,r){return Array.isArray(n)?n.includes(r):n===r}function xi(n,r){const e=Ts(r);return Ts(n).forEach(l=>{ha(e,l)||e.push(l)}),e}function Es(n,r){return Ts(r).filter(e=>!ha(n,e))}class Fc{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(r){this._rawValidators=r||[],this._composedValidatorFn=ih(this._rawValidators)}_setAsyncValidators(r){this._rawAsyncValidators=r||[],this._composedAsyncValidatorFn=_l(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(r){this._onDestroyCallbacks.push(r)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(r=>r()),this._onDestroyCallbacks=[]}reset(r){this.control&&this.control.reset(r)}hasError(r,e){return!!this.control&&this.control.hasError(r,e)}getError(r,e){return this.control?this.control.getError(r,e):null}}class Zo extends Fc{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ao extends Fc{get formDirective(){return null}get path(){return null}}let Ri=(()=>{class n extends class Vi{constructor(r){this._cd=r}is(r){var e,o,l;return"submitted"===r?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[r])}}{constructor(e){super(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Zo,2))},n.\u0275dir=t.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&t.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[t.qOj]}),n})();function eo(n,r){(function Cu(n,r){const e=function dc(n){return n._rawValidators}(n);null!==r.validator?n.setValidators(od(e,r.validator)):"function"==typeof e&&n.setValidators([e]);const o=function ws(n){return n._rawAsyncValidators}(n);null!==r.asyncValidator?n.setAsyncValidators(od(o,r.asyncValidator)):"function"==typeof o&&n.setAsyncValidators([o]);const l=()=>n.updateValueAndValidity();Ai(r._rawValidators,l),Ai(r._rawAsyncValidators,l)})(n,r),r.valueAccessor.writeValue(n.value),function vl(n,r){r.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&V(n,r)})}(n,r),function ee(n,r){const e=(o,l)=>{r.valueAccessor.writeValue(o),l&&r.viewToModelUpdate(o)};n.registerOnChange(e),r._registerOnDestroy(()=>{n._unregisterOnChange(e)})}(n,r),function U(n,r){r.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&V(n,r),"submit"!==n.updateOn&&n.markAsTouched()})}(n,r),function Bc(n,r){if(r.valueAccessor.setDisabledState){const e=o=>{r.valueAccessor.setDisabledState(o)};n.registerOnDisabledChange(e),r._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}(n,r)}function Ai(n,r){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(r)})}function V(n,r){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),r.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Ii(n,r){const e=n.indexOf(r);e>-1&&n.splice(e,1)}const co="VALID",uo="INVALID",ei="PENDING",fc="DISABLED";function wu(n){return(wl(n)?n.validators:n)||null}function Vc(n){return Array.isArray(n)?ih(n):n||null}function Cl(n,r){return(wl(r)?r.asyncValidators:n)||null}function uf(n){return Array.isArray(n)?_l(n):n||null}function wl(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const Gc=n=>n instanceof zs;function Tl(n){return(n=>n instanceof Tu)(n)?n.value:n.getRawValue()}function lf(n,r){const e=Gc(n),o=n.controls;if(!(e?Object.keys(o):o).length)throw new t.vHH(1e3,"");if(!o[r])throw new t.vHH(1001,"")}function Dp(n,r){Gc(n),n._forEachChild((o,l)=>{if(void 0===r[l])throw new t.vHH(1002,"")})}class oh{constructor(r,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=r,this._rawAsyncValidators=e,this._composedValidatorFn=Vc(this._rawValidators),this._composedAsyncValidatorFn=uf(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(r){this._rawValidators=this._composedValidatorFn=r}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(r){this._rawAsyncValidators=this._composedAsyncValidatorFn=r}get parent(){return this._parent}get valid(){return this.status===co}get invalid(){return this.status===uo}get pending(){return this.status==ei}get disabled(){return this.status===fc}get enabled(){return this.status!==fc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(r){this._rawValidators=r,this._composedValidatorFn=Vc(r)}setAsyncValidators(r){this._rawAsyncValidators=r,this._composedAsyncValidatorFn=uf(r)}addValidators(r){this.setValidators(xi(r,this._rawValidators))}addAsyncValidators(r){this.setAsyncValidators(xi(r,this._rawAsyncValidators))}removeValidators(r){this.setValidators(Es(r,this._rawValidators))}removeAsyncValidators(r){this.setAsyncValidators(Es(r,this._rawAsyncValidators))}hasValidator(r){return ha(this._rawValidators,r)}hasAsyncValidator(r){return ha(this._rawAsyncValidators,r)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(r={}){this.touched=!0,this._parent&&!r.onlySelf&&this._parent.markAsTouched(r)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(r=>r.markAllAsTouched())}markAsUntouched(r={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}markAsDirty(r={}){this.pristine=!1,this._parent&&!r.onlySelf&&this._parent.markAsDirty(r)}markAsPristine(r={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}markAsPending(r={}){this.status=ei,!1!==r.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!r.onlySelf&&this._parent.markAsPending(r)}disable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=fc,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this._updateValue(),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(r={}){const e=this._parentMarkedDirty(r.onlySelf);this.status=co,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},r),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},r),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(r){this._parent&&!r.onlySelf&&(this._parent.updateValueAndValidity(r),r.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(r){this._parent=r}updateValueAndValidity(r={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===co||this.status===ei)&&this._runAsyncValidator(r.emitEvent)),!1!==r.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!r.onlySelf&&this._parent.updateValueAndValidity(r)}_updateTreeValidity(r={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(r)),this.updateValueAndValidity({onlySelf:!0,emitEvent:r.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fc:co}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(r){if(this.asyncValidator){this.status=ei,this._hasOwnPendingAsyncValidator=!0;const e=_u(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:r})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(r,e={}){this.errors=r,this._updateControlsErrors(!1!==e.emitEvent)}get(r){return function bl(n,r,e){if(null==r||(Array.isArray(r)||(r=r.split(e)),Array.isArray(r)&&0===r.length))return null;let o=n;return r.forEach(l=>{o=Gc(o)?o.controls.hasOwnProperty(l)?o.controls[l]:null:(n=>n instanceof Sp)(o)&&o.at(l)||null}),o}(this,r,".")}getError(r,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[r]:null}hasError(r,e){return!!this.getError(r,e)}get root(){let r=this;for(;r._parent;)r=r._parent;return r}_updateControlsErrors(r){this.status=this._calculateStatus(),r&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(r)}_initObservables(){this.valueChanges=new t.vpe,this.statusChanges=new t.vpe}_calculateStatus(){return this._allControlsDisabled()?fc:this.errors?uo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ei)?ei:this._anyControlsHaveStatus(uo)?uo:co}_anyControlsHaveStatus(r){return this._anyControls(e=>e.status===r)}_anyControlsDirty(){return this._anyControls(r=>r.dirty)}_anyControlsTouched(){return this._anyControls(r=>r.touched)}_updatePristine(r={}){this.pristine=!this._anyControlsDirty(),this._parent&&!r.onlySelf&&this._parent._updatePristine(r)}_updateTouched(r={}){this.touched=this._anyControlsTouched(),this._parent&&!r.onlySelf&&this._parent._updateTouched(r)}_isBoxedValue(r){return"object"==typeof r&&null!==r&&2===Object.keys(r).length&&"value"in r&&"disabled"in r}_registerOnCollectionChange(r){this._onCollectionChange=r}_setUpdateStrategy(r){wl(r)&&null!=r.updateOn&&(this._updateOn=r.updateOn)}_parentMarkedDirty(r){return!r&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Tu extends oh{constructor(r=null,e,o){super(wu(e),Cl(o,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(r),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wl(e)&&e.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(r)?r.value:r)}setValue(r,e={}){this.value=this._pendingValue=r,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(r,e={}){this.setValue(r,e)}reset(r=this.defaultValue,e={}){this._applyFormState(r),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(r){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(r){this._onChange.push(r)}_unregisterOnChange(r){Ii(this._onChange,r)}registerOnDisabledChange(r){this._onDisabledChange.push(r)}_unregisterOnDisabledChange(r){Ii(this._onDisabledChange,r)}_forEachChild(r){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(r){this._isBoxedValue(r)?(this.value=this._pendingValue=r.value,r.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=r}}class zs extends oh{constructor(r,e,o){super(wu(e),Cl(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(r,e){return this.controls[r]?this.controls[r]:(this.controls[r]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(r,e,o={}){this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),delete this.controls[r],e&&this.registerControl(r,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(r){return this.controls.hasOwnProperty(r)&&this.controls[r].enabled}setValue(r,e={}){Dp(this,r),Object.keys(r).forEach(o=>{lf(this,o),this.controls[o].setValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(Object.keys(r).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(r[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r={},e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(r,e,o)=>(r[o]=Tl(e),r))}_syncPendingControls(){let r=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&r(o,e)})}_setUpControls(){this._forEachChild(r=>{r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(r){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&r(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(r,e,o)=>((e.enabled||this.disabled)&&(r[o]=e.value),r))}_reduceChildren(r,e){let o=r;return this._forEachChild((l,p)=>{o=e(o,l,p)}),o}_allControlsDisabled(){for(const r of Object.keys(this.controls))if(this.controls[r].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Sp extends oh{constructor(r,e,o){super(wu(e),Cl(o,e)),this.controls=r,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(r){return this.controls[r]}push(r,e={}){this.controls.push(r),this._registerControl(r),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(r,e,o={}){this.controls.splice(r,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(r,e={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(r,e,o={}){this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(r,e={}){Dp(this,r),r.forEach((o,l)=>{lf(this,l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(r,e={}){null!=r&&(r.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(r=[],e={}){this._forEachChild((o,l)=>{o.reset(r[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(r=>Tl(r))}clear(r={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:r.emitEvent}))}_syncPendingControls(){let r=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return r&&this.updateValueAndValidity({onlySelf:!0}),r}_forEachChild(r){this.controls.forEach((e,o)=>{r(e,o)})}_updateValue(){this.value=this.controls.filter(r=>r.enabled||this.disabled).map(r=>r.value)}_anyControls(r){return this.controls.some(e=>e.enabled&&r(e))}_setUpControls(){this._forEachChild(r=>this._registerControl(r))}_allControlsDisabled(){for(const r of this.controls)if(r.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(r){r.setParent(this),r._registerOnCollectionChange(this._onCollectionChange)}}const cd={provide:Zo,useExisting:(0,t.Gpc)(()=>ls)},$c=(()=>Promise.resolve(null))();let ls=(()=>{class n extends Zo{constructor(e,o,l,p,b){super(),this._changeDetectorRef=b,this.control=new Tu,this._registered=!1,this.update=new t.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=function ji(n,r){if(!r)return null;let e,o,l;return Array.isArray(r),r.forEach(p=>{p.constructor===Xr?e=p:function Or(n){return Object.getPrototypeOf(n.constructor)===$s}(p)?o=p:l=p}),l||o||e||null}(0,p)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const o=e.name.previousValue;this.formDirective.removeControl({name:o,path:this._getPath(o)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function Hn(n,r){if(!n.hasOwnProperty("model"))return!1;const e=n.model;return!!e.isFirstChange()||!Object.is(r,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eo(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){$c.then(()=>{var o;this.control.setValue(e,{emitViewToModelChange:!1}),null===(o=this._changeDetectorRef)||void 0===o||o.markForCheck()})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;$c.then(()=>{var p;l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable(),null===(p=this._changeDetectorRef)||void 0===p||p.markForCheck()})}_getPath(e){return this._parent?function Ss(n,r){return[...r.path,n]}(e,this._parent):[e]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ao,9),t.Y36(yi,10),t.Y36(Cs,10),t.Y36(Yr,10),t.Y36(t.sBO,8))},n.\u0275dir=t.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[t._Bn([cd]),t.qOj,t.TTD]}),n})();const Ap={provide:Yr,useExisting:(0,t.Gpc)(()=>ud),multi:!0};let ud=(()=>{class n extends $s{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("input",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},features:[t._Bn([Ap]),t.qOj]}),n})(),pc=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const uh={provide:Yr,useExisting:(0,t.Gpc)(()=>Zc),multi:!0};function Wo(n,r){return null==n?`${r}`:(r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Zc=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const l=Wo(this._getOptionId(e),e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function Ip(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([uh]),t.qOj]}),n})(),pd=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Wo(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Zc,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const ay={provide:Yr,useExisting:(0,t.Gpc)(()=>Eu),multi:!0};function Jg(n,r){return null==n?`${r}`:("string"==typeof r&&(r=`'${r}'`),r&&"object"==typeof r&&(r="Object"),`${n}: ${r}`.slice(0,50))}let Eu=(()=>{class n extends $s{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(p=>this._getOptionId(p));o=(p,b)=>{p._setSelected(l.indexOf(b.toString())>-1)}}else o=(l,p)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[],p=o.selectedOptions;if(void 0!==p){const b=p;for(let x=0;x<b.length;x++){const Y=this._getOptionValue(b[x].value);l.push(Y)}}else{const b=o.options;for(let x=0;x<b.length;x++){const k=b[x];if(k.selected){const Y=this._getOptionValue(k.value);l.push(Y)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function Qr(n){return n.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&t.NdJ("change",function(p){return o.onChange(p.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[t._Bn([ay]),t.qOj]}),n})(),gd=(()=>{class n{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Jg(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Jg(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.Qsj),t.Y36(Eu,9))},n.\u0275dir=t.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();let Du=(()=>{class n{constructor(){this._validator=Xi}ngOnChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(o),this._validator=this._enabled?this.createValidator(o):Xi,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return null!=e}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275dir=t.lG2({type:n,features:[t.TTD]}),n})();const rm={provide:yi,useExisting:(0,t.Gpc)(()=>Su),multi:!0};let Su=(()=>{class n extends Du{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=e=>function lh(n){return"number"==typeof n?n:parseInt(n,10)}(e),this.createValidator=e=>function So(n){return r=>function pl(n){return null!=n&&"number"==typeof n.length}(r.value)&&r.value.length>n?{maxlength:{requiredLength:n,actualLength:r.value.length}}:null}(e)}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275dir=t.lG2({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(e,o){2&e&&t.uIk("maxlength",o._enabled?o.maxlength:null)},inputs:{maxlength:"maxlength"},features:[t._Bn([rm]),t.qOj]}),n})(),_d=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[pc]]}),n})(),Ko=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[_d]}),n})(),vf=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var $a=M(8686),zc=M(3701),Pn=M(9646),ci=M(7579);class ho extends ci.x{constructor(r){super(),this._value=r}get value(){return this.getValue()}_subscribe(r){const e=super._subscribe(r);return!e.closed&&r.next(this._value),e}getValue(){const{hasError:r,thrownError:e,_value:o}=this;if(r)throw e;return this._throwIfClosed(),o}next(r){super.next(this._value=r)}}var yd=M(4671),Dl=M(9672);function xu(...n){const r=(0,zr.yG)(n),e=(0,zr.jO)(n),{args:o,keys:l}=on(n);if(0===o.length)return(0,ar.D)([],r);const p=new Si.y(function V_(n,r,e=yd.y){return o=>{bf(r,()=>{const{length:l}=n,p=new Array(l);let b=l,x=l;for(let k=0;k<l;k++)bf(r,()=>{const Y=(0,ar.D)(n[k],r);let fe=!1;Y.subscribe((0,_r.x)(o,Ne=>{p[k]=Ne,fe||(fe=!0,x--),x||o.next(e(p.slice()))},()=>{--b||o.complete()}))},o)},o)}}(o,r,l?b=>sf(l,b):yd.y));return e?p.pipe(Rc(e)):p}function bf(n,r,e){n?(0,Dl.f)(e,n,r):r()}var _a=M(576);function ph(n,r){const e=(0,_a.m)(n)?n:()=>n,o=l=>l.error(e());return new Si.y(r?l=>r.schedule(o,0,l):o)}const Cf=(0,M(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var gh=M(8189);function Au(...n){return function Is(){return(0,gh.J)(1)}()((0,ar.D)(n,(0,zr.yG)(n)))}function Sl(n){return new Si.y(r=>{(0,It.Xf)(n()).subscribe(r)})}var Wc=M(515),Fp=M(727),to=M(4482);function wf(){return(0,to.e)((n,r)=>{let e=null;n._refCount++;const o=(0,_r.x)(r,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(e=null);const l=n._connection,p=e;e=null,l&&(!p||l===p)&&l.unsubscribe(),r.unsubscribe()});n.subscribe(o),o.closed||(e=n.connect())})}class Lp extends Si.y{constructor(r,e){super(),this.source=r,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,(0,to.A)(r)&&(this.lift=r.lift)}_subscribe(r){return this.getSubject().subscribe(r)}getSubject(){const r=this._subject;return(!r||r.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:r}=this;this._subject=this._connection=null,null==r||r.unsubscribe()}connect(){let r=this._connection;if(!r){r=this._connection=new Fp.w0;const e=this.getSubject();r.add(this.source.subscribe((0,_r.x)(e,void 0,()=>{this._teardown(),e.complete()},o=>{this._teardown(),e.error(o)},()=>this._teardown()))),r.closed&&(this._connection=null,r=Fp.w0.EMPTY)}return r}refCount(){return wf()(this)}}function po(n,r){return(0,to.e)((e,o)=>{let l=null,p=0,b=!1;const x=()=>b&&!l&&o.complete();e.subscribe((0,_r.x)(o,k=>{null==l||l.unsubscribe();let Y=0;const fe=p++;(0,It.Xf)(n(k,fe)).subscribe(l=(0,_r.x)(o,Ne=>o.next(r?r(k,Ne,fe,Y++):Ne),()=>{l=null,x()}))},()=>{b=!0,x()}))})}var $i=M(5698);function mh(...n){const r=(0,zr.yG)(n);return(0,to.e)((e,o)=>{(r?Au(n,e,r):Au(n,e)).subscribe(o)})}function j_(n,r,e,o,l){return(p,b)=>{let x=e,k=r,Y=0;p.subscribe((0,_r.x)(b,fe=>{const Ne=Y++;k=x?n(k,fe,Ne):(x=!0,fe),o&&b.next(k)},l&&(()=>{x&&b.next(k),b.complete()})))}}function _h(n,r){return(0,to.e)(j_(n,r,arguments.length>=2,!0))}function mi(n,r){return(0,to.e)((e,o)=>{let l=0;e.subscribe((0,_r.x)(o,p=>n.call(r,p,l++)&&o.next(p)))})}function Kc(n){return(0,to.e)((r,e)=>{let p,o=null,l=!1;o=r.subscribe((0,_r.x)(e,void 0,void 0,b=>{p=(0,It.Xf)(n(b,Kc(n)(r))),o?(o.unsubscribe(),o=null,p.subscribe(e)):l=!0})),l&&(o.unsubscribe(),o=null,p.subscribe(e))})}var bi=M(5577);function Jo(n,r){return(0,_a.m)(r)?(0,bi.z)(n,r,1):(0,bi.z)(n,1)}function Tf(n){return n<=0?()=>Wc.E:(0,to.e)((r,e)=>{let o=[];r.subscribe((0,_r.x)(e,l=>{o.push(l),n<o.length&&o.shift()},()=>{for(const l of o)e.next(l);e.complete()},void 0,()=>{o=null}))})}function Ef(n=yh){return(0,to.e)((r,e)=>{let o=!1;r.subscribe((0,_r.x)(e,l=>{o=!0,e.next(l)},()=>o?e.complete():e.error(n())))})}function yh(){return new Cf}function Up(n){return(0,to.e)((r,e)=>{let o=!1;r.subscribe((0,_r.x)(e,l=>{o=!0,e.next(l)},()=>{o||e.next(n),e.complete()}))})}function _t(n,r){const e=arguments.length>=2;return o=>o.pipe(n?mi((l,p)=>n(l,p,o)):yd.y,(0,$i.q)(1),e?Up(r):Ef(()=>new Cf))}var ni=M(8505);class Za{constructor(r,e){this.id=r,this.url=e}}class fs extends Za{constructor(r,e,o="imperative",l=null){super(r,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ps extends Za{constructor(r,e,o){super(r,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Df extends Za{constructor(r,e,o){super(r,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Yc extends Za{constructor(r,e,o){super(r,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xl extends Za{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vh extends Za{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class om extends Za{constructor(r,e,o,l,p){super(r,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=p}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Mi extends Za{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vd extends Za{constructor(r,e,o,l){super(r,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bd{constructor(r){this.route=r}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class bh{constructor(r){this.route=r}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class mc{constructor(r){this.snapshot=r}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sm{constructor(r){this.snapshot=r}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class am{constructor(r){this.snapshot=r}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class cm{constructor(r){this.snapshot=r}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ch{constructor(r,e,o){this.routerEvent=r,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Tr="primary";class Al{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e[0]:e}return null}getAll(r){if(this.has(r)){const e=this.params[r];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ws(n){return new Al(n)}const Jc="ngNavigationCancelingError";function Qc(n){const r=Error("NavigationCancelingError: "+n);return r[Jc]=!0,r}function Bp(n,r,e){const o=e.path.split("/");if(o.length>n.length||"full"===e.pathMatch&&(r.hasChildren()||o.length<n.length))return null;const l={};for(let p=0;p<o.length;p++){const b=o[p],x=n[p];if(b.startsWith(":"))l[b.substring(1)]=x;else if(b!==x.path)return null}return{consumed:n.slice(0,o.length),posParams:l}}function Ks(n,r){const e=n?Object.keys(n):void 0,o=r?Object.keys(r):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let p=0;p<e.length;p++)if(l=e[p],!jp(n[l],r[l]))return!1;return!0}function jp(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;const e=[...n].sort(),o=[...r].sort();return e.every((l,p)=>o[p]===l)}return n===r}function Xc(n){return Array.prototype.concat.apply([],n)}function xf(n){return n.length>0?n[n.length-1]:null}function no(n,r){for(const e in n)n.hasOwnProperty(e)&&r(n[e],e)}function Ao(n){return(0,t.CqO)(n)?n:(0,t.QGY)(n)?(0,ar.D)(Promise.resolve(n)):(0,Pn.of)(n)}const Hp={exact:function Cd(n,r,e){if(!eu(n.segments,r.segments)||!wd(n.segments,r.segments,e)||n.numberOfChildren!==r.numberOfChildren)return!1;for(const o in r.children)if(!n.children[o]||!Cd(n.children[o],r.children[o],e))return!1;return!0},subset:Wa},$p={exact:function Zp(n,r){return Ks(n,r)},subset:function za(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(e=>jp(n[e],r[e]))},ignored:()=>!0};function qp(n,r,e){return Hp[e.paths](n.root,r.root,e.matrixParams)&&$p[e.queryParams](n.queryParams,r.queryParams)&&!("exact"===e.fragment&&n.fragment!==r.fragment)}function Wa(n,r,e){return Af(n,r,r.segments,e)}function Af(n,r,e,o){if(n.segments.length>e.length){const l=n.segments.slice(0,e.length);return!(!eu(l,e)||r.hasChildren()||!wd(l,e,o))}if(n.segments.length===e.length){if(!eu(n.segments,e)||!wd(n.segments,e,o))return!1;for(const l in r.children)if(!n.children[l]||!Wa(n.children[l],r.children[l],o))return!1;return!0}{const l=e.slice(0,n.segments.length),p=e.slice(n.segments.length);return!!(eu(n.segments,l)&&wd(n.segments,l,o)&&n.children[Tr])&&Af(n.children[Tr],r,p,o)}}function wd(n,r,e){return r.every((o,l)=>$p[e](n[l].parameters,o.parameters))}class Iu{constructor(r,e,o){this.root=r,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return If.serialize(this)}}class Er{constructor(r,e){this.segments=r,this.children=e,this.parent=null,no(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fo(this)}}class Ys{constructor(r,e){this.path=r,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ws(this.parameters)),this._parameterMap}toString(){return Pu(this)}}function eu(n,r){return n.length===r.length&&n.every((e,o)=>e.path===r[o].path)}class Th{}class Td{parse(r){const e=new q_(r);return new Iu(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(r){const e=`/${Eh(r.root,!0)}`,o=function Sd(n){const r=Object.keys(n).map(e=>{const o=n[e];return Array.isArray(o)?o.map(l=>`${Dd(e)}=${Dd(l)}`).join("&"):`${Dd(e)}=${Dd(o)}`}).filter(e=>!!e);return r.length?`?${r.join("&")}`:""}(r.queryParams);return`${e}${o}${"string"==typeof r.fragment?`#${function zp(n){return encodeURI(n)}(r.fragment)}`:""}`}}const If=new Td;function Fo(n){return n.segments.map(r=>Pu(r)).join("/")}function Eh(n,r){if(!n.hasChildren())return Fo(n);if(r){const e=n.children[Tr]?Eh(n.children[Tr],!1):"",o=[];return no(n.children,(l,p)=>{p!==Tr&&o.push(`${p}:${Eh(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function wh(n,r){let e=[];return no(n.children,(o,l)=>{l===Tr&&(e=e.concat(r(o,l)))}),no(n.children,(o,l)=>{l!==Tr&&(e=e.concat(r(o,l)))}),e}(n,(o,l)=>l===Tr?[Eh(n.children[Tr],!1)]:[`${l}:${Eh(o,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Tr]?`${Fo(n)}/${e[0]}`:`${Fo(n)}/(${e.join("//")})`}}function Ed(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dd(n){return Ed(n).replace(/%3B/gi,";")}function _c(n){return Ed(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tu(n){return decodeURIComponent(n)}function Js(n){return tu(n.replace(/\+/g,"%20"))}function Pu(n){return`${_c(n.path)}${function um(n){return Object.keys(n).map(r=>`;${_c(r)}=${_c(n[r])}`).join("")}(n.parameters)}`}const lm=/^[^\/()?;=#]+/;function Ka(n){const r=n.match(lm);return r?r[0]:""}const Il=/^[^=?&#]+/,dm=/^[^&#]+/;class q_{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Er([],{}):new Er([],this.parseChildren())}parseQueryParams(){const r={};if(this.consumeOptional("?"))do{this.parseQueryParam(r)}while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(r.length>0||Object.keys(e).length>0)&&(o[Tr]=new Er(r,e)),o}parseSegment(){const r=Ka(this.remaining);if(""===r&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(r),new Ys(tu(r),this.parseMatrixParams())}parseMatrixParams(){const r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){const e=Ka(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=Ka(this.remaining);l&&(o=l,this.capture(o))}r[tu(e)]=tu(o)}parseQueryParam(r){const e=function Pf(n){const r=n.match(Il);return r?r[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const b=function $_(n){const r=n.match(dm);return r?r[0]:""}(this.remaining);b&&(o=b,this.capture(o))}const l=Js(e),p=Js(o);if(r.hasOwnProperty(l)){let b=r[l];Array.isArray(b)||(b=[b],r[l]=b),b.push(p)}else r[l]=p}parseParens(r){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=Ka(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let p;o.indexOf(":")>-1?(p=o.substr(0,o.indexOf(":")),this.capture(p),this.capture(":")):r&&(p=Tr);const b=this.parseChildren();e[p]=1===Object.keys(b).length?b[Tr]:new Er([],b),this.consumeOptional("//")}return e}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return!!this.peekStartsWith(r)&&(this.remaining=this.remaining.substring(r.length),!0)}capture(r){if(!this.consumeOptional(r))throw new Error(`Expected "${r}".`)}}class S{constructor(r){this._root=r}get root(){return this._root.value}parent(r){const e=this.pathFromRoot(r);return e.length>1?e[e.length-2]:null}children(r){const e=_(r,this._root);return e?e.children.map(o=>o.value):[]}firstChild(r){const e=_(r,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(r){const e=w(r,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==r)}pathFromRoot(r){return w(r,this._root).map(e=>e.value)}}function _(n,r){if(n===r.value)return r;for(const e of r.children){const o=_(n,e);if(o)return o}return null}function w(n,r){if(n===r.value)return[r];for(const e of r.children){const o=w(n,e);if(o.length)return o.unshift(r),o}return[]}class R{constructor(r,e){this.value=r,this.children=e}toString(){return`TreeNode(${this.value})`}}function ie(n){const r={};return n&&n.children.forEach(e=>r[e.value.outlet]=e),r}class ve extends S{constructor(r,e){super(r),this.snapshot=e,Ps(this,r)}toString(){return this.snapshot.toString()}}function lt(n,r){const e=function Ft(n,r){const b=new si([],{},{},"",{},Tr,r,null,n.root,-1,{});return new gs("",new R(b,[]))}(n,r),o=new ho([new Ys("",{})]),l=new ho({}),p=new ho({}),b=new ho({}),x=new ho(""),k=new vn(o,l,b,x,p,Tr,r,e.root);return k.snapshot=e.root,new ve(new R(k,[]),e)}class vn{constructor(r,e,o,l,p,b,x,k){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=p,this.outlet=b,this.component=x,this._futureSnapshot=k}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,er.U)(r=>Ws(r)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,er.U)(r=>Ws(r)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Un(n,r="emptyOnly"){const e=n.pathFromRoot;let o=0;if("always"!==r)for(o=e.length-1;o>=1;){const l=e[o],p=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(p.component)break;o--}}return function hr(n){return n.reduce((r,e)=>({params:Object.assign(Object.assign({},r.params),e.params),data:Object.assign(Object.assign({},r.data),e.data),resolve:Object.assign(Object.assign({},r.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class si{constructor(r,e,o,l,p,b,x,k,Y,fe,Ne){this.url=r,this.params=e,this.queryParams=o,this.fragment=l,this.data=p,this.outlet=b,this.component=x,this.routeConfig=k,this._urlSegment=Y,this._lastPathIndex=fe,this._resolve=Ne}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ws(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ws(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class gs extends S{constructor(r,e){super(e),this.url=r,Ps(this,e)}toString(){return yc(this._root)}}function Ps(n,r){r.value._routerState=n,r.children.forEach(e=>Ps(n,e))}function yc(n){const r=n.children.length>0?` { ${n.children.map(yc).join(", ")} } `:"";return`${n.value}${r}`}function xd(n){if(n.snapshot){const r=n.snapshot,e=n._futureSnapshot;n.snapshot=e,Ks(r.queryParams,e.queryParams)||n.queryParams.next(e.queryParams),r.fragment!==e.fragment&&n.fragment.next(e.fragment),Ks(r.params,e.params)||n.params.next(e.params),function Vp(n,r){if(n.length!==r.length)return!1;for(let e=0;e<n.length;++e)if(!Ks(n[e],r[e]))return!1;return!0}(r.url,e.url)||n.url.next(e.url),Ks(r.data,e.data)||n.data.next(e.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function nu(n,r){const e=Ks(n.params,r.params)&&function H_(n,r){return eu(n,r)&&n.every((e,o)=>Ks(e.parameters,r[o].parameters))}(n.url,r.url);return e&&!(!n.parent!=!r.parent)&&(!n.parent||nu(n.parent,r.parent))}function Ya(n,r,e){if(e&&n.shouldReuseRoute(r.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=r.value;const l=function Pl(n,r,e){return r.children.map(o=>{for(const l of e.children)if(n.shouldReuseRoute(o.value,l.value.snapshot))return Ya(n,o,l);return Ya(n,o)})}(n,r,e);return new R(o,l)}{if(n.shouldAttach(r.value)){const p=n.retrieve(r.value);if(null!==p){const b=p.route;return b.value._futureSnapshot=r.value,b.children=r.children.map(x=>Ya(n,x)),b}}const o=function Dh(n){return new vn(new ho(n.url),new ho(n.params),new ho(n.queryParams),new ho(n.fragment),new ho(n.data),n.outlet,n.component,n)}(r.value),l=r.children.map(p=>Ya(n,p));return new R(o,l)}}function Mu(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ru(n){return"object"==typeof n&&null!=n&&n.outlets}function Mf(n,r,e,o,l){let p={};if(o&&no(o,(x,k)=>{p[k]=Array.isArray(x)?x.map(Y=>`${Y}`):`${x}`}),n===r)return new Iu(e,p,l);const b=Id(n,r,e);return new Iu(b,p,l)}function Id(n,r,e){const o={};return no(n.children,(l,p)=>{o[p]=l===r?e:Id(l,r,e)}),new Er(n.segments,o)}class Of{constructor(r,e,o){if(this.isAbsolute=r,this.numberOfDoubleDots=e,this.commands=o,r&&o.length>0&&Mu(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(ru);if(l&&l!==xf(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class hm{constructor(r,e,o){this.segmentGroup=r,this.processChildren=e,this.index=o}}function Rf(n,r,e){if(n||(n=new Er([],{})),0===n.segments.length&&n.hasChildren())return Md(n,r,e);const o=function ly(n,r,e){let o=0,l=r;const p={match:!1,pathIndex:0,commandIndex:0};for(;l<n.segments.length;){if(o>=e.length)return p;const b=n.segments[l],x=e[o];if(ru(x))break;const k=`${x}`,Y=o<e.length-1?e[o+1]:null;if(l>0&&void 0===k)break;if(k&&Y&&"object"==typeof Y&&void 0===Y.outlets){if(!fm(k,Y,b))return p;o+=2}else{if(!fm(k,{},b))return p;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(n,r,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<n.segments.length){const p=new Er(n.segments.slice(0,o.pathIndex),{});return p.children[Tr]=new Er(n.segments.slice(o.pathIndex),n.children),Md(p,0,l)}return o.match&&0===l.length?new Er(n.segments,{}):o.match&&!n.hasChildren()?Z_(n,r,e):o.match?Md(n,0,l):Z_(n,r,e)}function Md(n,r,e){if(0===e.length)return new Er(n.segments,{});{const o=function Kp(n){return ru(n[0])?n[0].outlets:{[Tr]:n}}(e),l={};return no(o,(p,b)=>{"string"==typeof p&&(p=[p]),null!==p&&(l[b]=Rf(n.children[b],r,p))}),no(n.children,(p,b)=>{void 0===o[b]&&(l[b]=p)}),new Er(n.segments,l)}}function Z_(n,r,e){const o=n.segments.slice(0,r);let l=0;for(;l<e.length;){const p=e[l];if(ru(p)){const k=z_(p.outlets);return new Er(o,k)}if(0===l&&Mu(e[0])){o.push(new Ys(n.segments[r].path,dy(e[0]))),l++;continue}const b=ru(p)?p.outlets[Tr]:`${p}`,x=l<e.length-1?e[l+1]:null;b&&x&&Mu(x)?(o.push(new Ys(b,dy(x))),l+=2):(o.push(new Ys(b,{})),l++)}return new Er(o,{})}function z_(n){const r={};return no(n,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(r[o]=Z_(new Er([],{}),0,e))}),r}function dy(n){const r={};return no(n,(e,o)=>r[o]=`${e}`),r}function fm(n,r,e){return n==e.path&&Ks(r,e.parameters)}class W_{constructor(r,e,o,l){this.routeReuseStrategy=r,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(r){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,r),xd(this.futureState.root),this.activateChildRoutes(e,o,r)}deactivateChildRoutes(r,e,o){const l=ie(e);r.children.forEach(p=>{const b=p.value.outlet;this.deactivateRoutes(p,l[b],o),delete l[b]}),no(l,(p,b)=>{this.deactivateRouteAndItsChildren(p,o)})}deactivateRoutes(r,e,o){const l=r.value,p=e?e.value:null;if(l===p)if(l.component){const b=o.getContext(l.outlet);b&&this.deactivateChildRoutes(r,e,b.children)}else this.deactivateChildRoutes(r,e,o);else p&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(r,e){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,e):this.deactivateRouteAndOutlet(r,e)}detachAndStoreRouteSubtree(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);if(o&&o.outlet){const b=o.outlet.detach(),x=o.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:b,route:r,contexts:x})}}deactivateRouteAndOutlet(r,e){const o=e.getContext(r.value.outlet),l=o&&r.value.component?o.children:e,p=ie(r);for(const b of Object.keys(p))this.deactivateRouteAndItsChildren(p[b],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(r,e,o){const l=ie(e);r.children.forEach(p=>{this.activateRoutes(p,l[p.value.outlet],o),this.forwardEvent(new cm(p.value.snapshot))}),r.children.length&&this.forwardEvent(new sm(r.value.snapshot))}activateRoutes(r,e,o){const l=r.value,p=e?e.value:null;if(xd(l),l===p)if(l.component){const b=o.getOrCreateContext(l.outlet);this.activateChildRoutes(r,e,b.children)}else this.activateChildRoutes(r,e,o);else if(l.component){const b=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const x=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),b.children.onOutletReAttached(x.contexts),b.attachRef=x.componentRef,b.route=x.route.value,b.outlet&&b.outlet.attach(x.componentRef,x.route.value),xd(x.route.value),this.activateChildRoutes(r,null,b.children)}else{const x=function Bv(n){for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),k=x?x.module.componentFactoryResolver:null;b.attachRef=null,b.route=l,b.resolver=k,b.outlet&&b.outlet.activateWith(l,k),this.activateChildRoutes(r,null,b.children)}}else this.activateChildRoutes(r,null,o)}}class K_{constructor(r,e){this.routes=r,this.module=e}}function Ou(n){return"function"==typeof n}function Nu(n){return n instanceof Iu}const Od=Symbol("INITIAL_VALUE");function Nd(){return po(n=>xu(n.map(r=>r.pipe((0,$i.q)(1),mh(Od)))).pipe(_h((r,e)=>{let o=!1;return e.reduce((l,p,b)=>l!==Od?l:(p===Od&&(o=!0),o||!1!==p&&b!==e.length-1&&!Nu(p)?l:p),r)},Od),mi(r=>r!==Od),(0,er.U)(r=>Nu(r)?r:!0===r),(0,$i.q)(1)))}class Ru{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Rd,this.attachRef=null}}class Rd{constructor(){this.contexts=new Map}onChildOutletCreated(r,e){const o=this.getOrCreateContext(r);o.outlet=e,this.contexts.set(r,o)}onChildOutletDestroyed(r){const e=this.getContext(r);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let e=this.getContext(r);return e||(e=new Ru,this.contexts.set(r,e)),e}getContext(r){return this.contexts.get(r)||null}}let kf=(()=>{class n{constructor(e,o,l,p,b){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=b,this.activated=null,this._activatedRoute=null,this.activateEvents=new t.vpe,this.deactivateEvents=new t.vpe,this.attachEvents=new t.vpe,this.detachEvents=new t.vpe,this.name=p||Tr,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const b=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),x=this.parentContexts.getOrCreateContext(this.name).children,k=new Sh(e,x,this.location.injector);this.activated=this.location.createComponent(b,this.location.length,k),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Rd),t.Y36(t.s_b),t.Y36(t._Vd),t.$8M("name"),t.Y36(t.sBO))},n.\u0275dir=t.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class Sh{constructor(r,e,o){this.route=r,this.childContexts=e,this.parent=o}get(r,e){return r===vn?this.route:r===Rd?this.childContexts:this.parent.get(r,e)}}let xh=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&t._UZ(0,"router-outlet")},directives:[kf],encapsulation:2}),n})();function Ah(n,r=""){for(let e=0;e<n.length;e++){const o=n[e];gm(o,mm(r,o))}}function gm(n,r){n.children&&Ah(n.children,r)}function mm(n,r){return r?n||r.path?n&&!r.path?`${n}/`:!n&&r.path?r.path:`${n}/${r.path}`:"":n}function ku(n){const r=n.children&&n.children.map(ku),e=r?Object.assign(Object.assign({},n),{children:r}):Object.assign({},n);return!e.component&&(r||e.loadChildren)&&e.outlet&&e.outlet!==Tr&&(e.component=xh),e}function Qo(n){return n.outlet||Tr}function Yp(n,r){const e=n.filter(o=>Qo(o)===r);return e.push(...n.filter(o=>Qo(o)!==r)),e}const Ml={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Ol(n,r,e){var o;if(""===r.path)return"full"===r.pathMatch&&(n.hasChildren()||e.length>0)?Object.assign({},Ml):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const p=(r.matcher||Bp)(e,n,r);if(!p)return Object.assign({},Ml);const b={};no(p.posParams,(k,Y)=>{b[Y]=k.path});const x=p.consumed.length>0?Object.assign(Object.assign({},b),p.consumed[p.consumed.length-1].parameters):b;return{matched:!0,consumedSegments:p.consumed,remainingSegments:e.slice(p.consumed.length),parameters:x,positionalParamSegments:null!==(o=p.posParams)&&void 0!==o?o:{}}}function Fu(n,r,e,o,l="corrected"){if(e.length>0&&function Ff(n,r,e){return e.some(o=>Nl(n,r,o)&&Qo(o)!==Tr)}(n,e,o)){const b=new Er(r,function _m(n,r,e,o){const l={};l[Tr]=o,o._sourceSegment=n,o._segmentIndexShift=r.length;for(const p of e)if(""===p.path&&Qo(p)!==Tr){const b=new Er([],{});b._sourceSegment=n,b._segmentIndexShift=r.length,l[Qo(p)]=b}return l}(n,r,o,new Er(e,n.children)));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:[]}}if(0===e.length&&function kd(n,r,e){return e.some(o=>Nl(n,r,o))}(n,e,o)){const b=new Er(n.segments,function fy(n,r,e,o,l,p){const b={};for(const x of o)if(Nl(n,e,x)&&!l[Qo(x)]){const k=new Er([],{});k._sourceSegment=n,k._segmentIndexShift="legacy"===p?n.segments.length:r.length,b[Qo(x)]=k}return Object.assign(Object.assign({},l),b)}(n,r,e,o,n.children,l));return b._sourceSegment=n,b._segmentIndexShift=r.length,{segmentGroup:b,slicedSegments:e}}const p=new Er(n.segments,n.children);return p._sourceSegment=n,p._segmentIndexShift=r.length,{segmentGroup:p,slicedSegments:e}}function Nl(n,r,e){return(!(n.hasChildren()||r.length>0)||"full"!==e.pathMatch)&&""===e.path}function Jp(n,r,e,o){return!!(Qo(n)===o||o!==Tr&&Nl(r,e,n))&&("**"===n.path||Ol(r,n,e).matched)}function Lf(n,r,e){return 0===r.length&&!n.children[e]}class Qp{constructor(r){this.segmentGroup=r||null}}class ym{constructor(r){this.urlTree=r}}function Xp(n){return ph(new Qp(n))}function vm(n){return ph(new ym(n))}class Cm{constructor(r,e,o,l,p){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=p,this.allowRedirects=!0,this.ngModule=r.get(t.h0i)}apply(){const r=Fu(this.urlTree.root,[],[],this.config).segmentGroup,e=new Er(r.segments,r.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Tr).pipe((0,er.U)(p=>this.createUrlTree(Lo(p),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Kc(p=>{if(p instanceof ym)return this.allowRedirects=!1,this.match(p.urlTree);throw p instanceof Qp?this.noMatchError(p):p}))}match(r){return this.expandSegmentGroup(this.ngModule,this.config,r.root,Tr).pipe((0,er.U)(l=>this.createUrlTree(Lo(l),r.queryParams,r.fragment))).pipe(Kc(l=>{throw l instanceof Qp?this.noMatchError(l):l}))}noMatchError(r){return new Error(`Cannot match any routes. URL Segment: '${r.segmentGroup}'`)}createUrlTree(r,e,o){const l=r.segments.length>0?new Er([],{[Tr]:r}):r;return new Iu(l,e,o)}expandSegmentGroup(r,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(r,e,o).pipe((0,er.U)(p=>new Er([],p))):this.expandSegment(r,o,e,o.segments,l,!0)}expandChildren(r,e,o){const l=[];for(const p of Object.keys(o.children))"primary"===p?l.unshift(p):l.push(p);return(0,ar.D)(l).pipe(Jo(p=>{const b=o.children[p],x=Yp(e,p);return this.expandSegmentGroup(r,x,b,p).pipe((0,er.U)(k=>({segment:k,outlet:p})))}),_h((p,b)=>(p[b.outlet]=b.segment,p),{}),function ya(n,r){const e=arguments.length>=2;return o=>o.pipe(n?mi((l,p)=>n(l,p,o)):yd.y,Tf(1),e?Up(r):Ef(()=>new Cf))}())}expandSegment(r,e,o,l,p,b){return(0,ar.D)(o).pipe(Jo(x=>this.expandSegmentAgainstRoute(r,e,o,x,l,p,b).pipe(Kc(Y=>{if(Y instanceof Qp)return(0,Pn.of)(null);throw Y}))),_t(x=>!!x),Kc((x,k)=>{if(x instanceof Cf||"EmptyError"===x.name)return Lf(e,l,p)?(0,Pn.of)(new Er([],{})):Xp(e);throw x}))}expandSegmentAgainstRoute(r,e,o,l,p,b,x){return Jp(l,e,p,b)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(r,e,l,p,b):x&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b):Xp(e):Xp(e)}expandSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(r,o,l,b):this.expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b)}expandWildCardWithParamsAgainstRouteUsingRedirect(r,e,o,l){const p=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?vm(p):this.lineralizeSegments(o,p).pipe((0,bi.z)(b=>{const x=new Er(b,{});return this.expandSegment(r,x,e,b,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(r,e,o,l,p,b){const{matched:x,consumedSegments:k,remainingSegments:Y,positionalParamSegments:fe}=Ol(e,l,p);if(!x)return Xp(e);const Ne=this.applyRedirectCommands(k,l.redirectTo,fe);return l.redirectTo.startsWith("/")?vm(Ne):this.lineralizeSegments(l,Ne).pipe((0,bi.z)(Ye=>this.expandSegment(r,e,o,Ye.concat(Y),b,!1)))}matchSegmentAgainstRoute(r,e,o,l,p){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,Pn.of)(o._loadedConfig):this.configLoader.load(r.injector,o)).pipe((0,er.U)(Ne=>(o._loadedConfig=Ne,new Er(l,{})))):(0,Pn.of)(new Er(l,{}));const{matched:b,consumedSegments:x,remainingSegments:k}=Ol(e,o,l);return b?this.getChildConfig(r,o,l).pipe((0,bi.z)(fe=>{const Ne=fe.module,Ye=fe.routes,{segmentGroup:ze,slicedSegments:ft}=Fu(e,x,k,Ye),vt=new Er(ze.segments,ze.children);if(0===ft.length&&vt.hasChildren())return this.expandChildren(Ne,Ye,vt).pipe((0,er.U)(cr=>new Er(x,cr)));if(0===Ye.length&&0===ft.length)return(0,Pn.of)(new Er(x,{}));const Kt=Qo(o)===p;return this.expandSegment(Ne,vt,Ye,ft,Kt?Tr:p,!0).pipe((0,er.U)(bn=>new Er(x.concat(bn.segments),bn.children)))})):Xp(e)}getChildConfig(r,e,o){return e.children?(0,Pn.of)(new K_(e.children,r)):e.loadChildren?void 0!==e._loadedConfig?(0,Pn.of)(e._loadedConfig):this.runCanLoadGuards(r.injector,e,o).pipe((0,bi.z)(l=>l?this.configLoader.load(r.injector,e).pipe((0,er.U)(p=>(e._loadedConfig=p,p))):function bm(n){return ph(Qc(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(e))):(0,Pn.of)(new K_([],r))}runCanLoadGuards(r,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,Pn.of)(!0);const p=l.map(b=>{const x=r.get(b);let k;if(function hy(n){return n&&Ou(n.canLoad)}(x))k=x.canLoad(e,o);else{if(!Ou(x))throw new Error("Invalid CanLoad guard");k=x(e,o)}return Ao(k)});return(0,Pn.of)(p).pipe(Nd(),(0,ni.b)(b=>{if(!Nu(b))return;const x=Qc(`Redirecting to "${this.urlSerializer.serialize(b)}"`);throw x.url=b,x}),(0,er.U)(b=>!0===b))}lineralizeSegments(r,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,Pn.of)(o);if(l.numberOfChildren>1||!l.children[Tr])return ph(new Error(`Only absolute redirects can have named outlets. redirectTo: '${r.redirectTo}'`));l=l.children[Tr]}}applyRedirectCommands(r,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),r,o)}applyRedirectCreatreUrlTree(r,e,o,l){const p=this.createSegmentGroup(r,e.root,o,l);return new Iu(p,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(r,e){const o={};return no(r,(l,p)=>{if("string"==typeof l&&l.startsWith(":")){const x=l.substring(1);o[p]=e[x]}else o[p]=l}),o}createSegmentGroup(r,e,o,l){const p=this.createSegments(r,e.segments,o,l);let b={};return no(e.children,(x,k)=>{b[k]=this.createSegmentGroup(r,x,o,l)}),new Er(p,b)}createSegments(r,e,o,l){return e.map(p=>p.path.startsWith(":")?this.findPosParam(r,p,l):this.findOrReturn(p,o))}findPosParam(r,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${r}'. Cannot find '${e.path}'.`);return l}findOrReturn(r,e){let o=0;for(const l of e){if(l.path===r.path)return e.splice(o),l;o++}return r}}function Lo(n){const r={};for(const o of Object.keys(n.children)){const p=Lo(n.children[o]);(p.segments.length>0||p.hasChildren())&&(r[o]=p)}return function eg(n){if(1===n.numberOfChildren&&n.children[Tr]){const r=n.children[Tr];return new Er(n.segments.concat(r.segments),r.children)}return n}(new Er(n.segments,r))}class Tm{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}}class Uf{constructor(r,e){this.component=r,this.route=e}}function Q_(n,r,e){const o=n._root;return Uu(o,r?r._root:null,e,[o.value])}function tg(n,r,e){const o=function py(n){if(!n)return null;for(let r=n.parent;r;r=r.parent){const e=r.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(r);return(o?o.module.injector:e).get(n)}function Uu(n,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=ie(r);return n.children.forEach(b=>{(function X_(n,r,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const p=n.value,b=r?r.value:null,x=e?e.getContext(n.value.outlet):null;if(b&&p.routeConfig===b.routeConfig){const k=function Em(n,r,e){if("function"==typeof e)return e(n,r);switch(e){case"pathParamsChange":return!eu(n.url,r.url);case"pathParamsOrQueryParamsChange":return!eu(n.url,r.url)||!Ks(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nu(n,r)||!Ks(n.queryParams,r.queryParams);default:return!nu(n,r)}}(b,p,p.routeConfig.runGuardsAndResolvers);k?l.canActivateChecks.push(new Tm(o)):(p.data=b.data,p._resolvedData=b._resolvedData),Uu(n,r,p.component?x?x.children:null:e,o,l),k&&x&&x.outlet&&x.outlet.isActivated&&l.canDeactivateChecks.push(new Uf(x.outlet.component,b))}else b&&Bf(r,x,l),l.canActivateChecks.push(new Tm(o)),Uu(n,null,p.component?x?x.children:null:e,o,l)})(b,p[b.value.outlet],e,o.concat([b.value]),l),delete p[b.value.outlet]}),no(p,(b,x)=>Bf(b,e.getContext(x),l)),l}function Bf(n,r,e){const o=ie(n),l=n.value;no(o,(p,b)=>{Bf(p,l.component?r?r.children.getContext(b):null:r,e)}),e.canDeactivateChecks.push(new Uf(l.component&&r&&r.outlet&&r.outlet.isActivated?r.outlet.component:null,l))}class n0{}function Ja(n){return new Si.y(r=>r.error(n))}class Pm{constructor(r,e,o,l,p,b){this.rootComponentType=r,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=p,this.relativeLinkResolution=b}recognize(){const r=Fu(this.urlTree.root,[],[],this.config.filter(b=>void 0===b.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,r,Tr);if(null===e)return null;const o=new si([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Tr,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new R(o,e),p=new gs(this.url,l);return this.inheritParamsAndData(p._root),p}inheritParamsAndData(r){const e=r.value,o=Un(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),r.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(r,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(r,e):this.processSegment(r,e,e.segments,o)}processChildren(r,e){const o=[];for(const p of Object.keys(e.children)){const b=e.children[p],x=Yp(r,p),k=this.processSegmentGroup(x,b,p);if(null===k)return null;o.push(...k)}const l=ng(o);return function gy(n){n.sort((r,e)=>r.value.outlet===Tr?-1:e.value.outlet===Tr?1:r.value.outlet.localeCompare(e.value.outlet))}(l),l}processSegment(r,e,o,l){for(const p of r){const b=this.processSegmentAgainstRoute(p,e,o,l);if(null!==b)return b}return Lf(e,o,l)?[]:null}processSegmentAgainstRoute(r,e,o,l){if(r.redirectTo||!Jp(r,e,o,l))return null;let p,b=[],x=[];if("**"===r.path){const ze=o.length>0?xf(o).parameters:{};p=new si(o,ze,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ig(r),Qo(r),r.component,r,rg(e),jf(e)+o.length,og(r))}else{const ze=Ol(e,r,o);if(!ze.matched)return null;b=ze.consumedSegments,x=ze.remainingSegments,p=new si(b,ze.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,ig(r),Qo(r),r.component,r,rg(e),jf(e)+b.length,og(r))}const k=function r0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(r),{segmentGroup:Y,slicedSegments:fe}=Fu(e,b,x,k.filter(ze=>void 0===ze.redirectTo),this.relativeLinkResolution);if(0===fe.length&&Y.hasChildren()){const ze=this.processChildren(k,Y);return null===ze?null:[new R(p,ze)]}if(0===k.length&&0===fe.length)return[new R(p,[])];const Ne=Qo(r)===l,Ye=this.processSegment(k,Y,fe,Ne?Tr:l);return null===Ye?null:[new R(p,Ye)]}}function o0(n){const r=n.value.routeConfig;return r&&""===r.path&&void 0===r.redirectTo}function ng(n){const r=[],e=new Set;for(const o of n){if(!o0(o)){r.push(o);continue}const l=r.find(p=>o.value.routeConfig===p.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):r.push(o)}for(const o of e){const l=ng(o.children);r.push(new R(o.value,l))}return r.filter(o=>!e.has(o))}function rg(n){let r=n;for(;r._sourceSegment;)r=r._sourceSegment;return r}function jf(n){let r=n,e=r._segmentIndexShift?r._segmentIndexShift:0;for(;r._sourceSegment;)r=r._sourceSegment,e+=r._segmentIndexShift?r._segmentIndexShift:0;return e-1}function ig(n){return n.data||{}}function og(n){return n.resolve||{}}function Bu(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function sg(n){return po(r=>{const e=n(r);return e?(0,ar.D)(e).pipe((0,er.U)(()=>r)):(0,Pn.of)(r)})}class jv extends class Mm{shouldDetach(r){return!1}store(r,e){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,e){return r.routeConfig===e.routeConfig}}{}const Hf=new t.OlP("ROUTES");class $f{constructor(r,e,o,l){this.injector=r,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(r,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,er.U)(p=>{this.onLoadEndListener&&this.onLoadEndListener(e);const b=p.create(r);return new K_(Xc(b.injector.get(Hf,void 0,t.XFs.Self|t.XFs.Optional)).map(ku),b)}),Kc(p=>{throw e._loader$=void 0,p}));return e._loader$=new Lp(l,()=>new ci.x).pipe(wf()),e._loader$}loadModuleFactory(r){return Ao(r()).pipe((0,bi.z)(e=>e instanceof t.YKP?(0,Pn.of)(e):(0,ar.D)(this.compiler.compileModuleAsync(e))))}}class cg{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,e){return r}}function s0(n){throw n}function a0(n,r,e){return r.parse("/")}function Qa(n,r){return(0,Pn.of)(null)}const Nh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},my={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fi=(()=>{class n{constructor(e,o,l,p,b,x,k){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=p,this.config=k,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ci.x,this.errorHandler=s0,this.malformedUriErrorHandler=a0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Qa,afterPreactivation:Qa},this.urlHandlingStrategy=new cg,this.routeReuseStrategy=new jv,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=b.get(t.h0i),this.console=b.get(t.c2e);const Ne=b.get(t.R0b);this.isNgZoneEnabled=Ne instanceof t.R0b&&t.R0b.isInAngularZone(),this.resetConfig(k),this.currentUrlTree=function G_(){return new Iu(new Er([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new $f(b,x,Ye=>this.triggerEvent(new bd(Ye)),Ye=>this.triggerEvent(new bh(Ye))),this.routerState=lt(this.currentUrlTree,this.rootComponentType),this.transitions=new ho({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe(mi(l=>0!==l.id),(0,er.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),po(l=>{let p=!1,b=!1;return(0,Pn.of)(l).pipe((0,ni.b)(x=>{this.currentNavigation={id:x.id,initialUrl:x.currentRawUrl,extractedUrl:x.extractedUrl,trigger:x.source,extras:x.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),po(x=>{const k=this.browserUrlTree.toString(),Y=!this.navigated||x.extractedUrl.toString()!==k||k!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Y)&&this.urlHandlingStrategy.shouldProcessUrl(x.rawUrl))return qf(x.source)&&(this.browserUrlTree=x.extractedUrl),(0,Pn.of)(x).pipe(po(Ne=>{const Ye=this.transitions.getValue();return o.next(new fs(Ne.id,this.serializeUrl(Ne.extractedUrl),Ne.source,Ne.restoredState)),Ye!==this.transitions.getValue()?Wc.E:Promise.resolve(Ne)}),function wm(n,r,e,o){return po(l=>function Fd(n,r,e,o,l){return new Cm(n,r,e,o,l).apply()}(n,r,e,l.extractedUrl,o).pipe((0,er.U)(p=>Object.assign(Object.assign({},l),{urlAfterRedirects:p}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ni.b)(Ne=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:Ne.urlAfterRedirects})}),function Mh(n,r,e,o,l){return(0,bi.z)(p=>function Im(n,r,e,o,l="emptyOnly",p="legacy"){try{const b=new Pm(n,r,e,o,l,p).recognize();return null===b?Ja(new n0):(0,Pn.of)(b)}catch(b){return Ja(b)}}(n,r,p.urlAfterRedirects,e(p.urlAfterRedirects),o,l).pipe((0,er.U)(b=>Object.assign(Object.assign({},p),{targetSnapshot:b}))))}(this.rootComponentType,this.config,Ne=>this.serializeUrl(Ne),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ni.b)(Ne=>{if("eager"===this.urlUpdateStrategy){if(!Ne.extras.skipLocationChange){const ze=this.urlHandlingStrategy.merge(Ne.urlAfterRedirects,Ne.rawUrl);this.setBrowserUrl(ze,Ne)}this.browserUrlTree=Ne.urlAfterRedirects}const Ye=new xl(Ne.id,this.serializeUrl(Ne.extractedUrl),this.serializeUrl(Ne.urlAfterRedirects),Ne.targetSnapshot);o.next(Ye)}));if(Y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Ye,extractedUrl:ze,source:ft,restoredState:vt,extras:Kt}=x,dn=new fs(Ye,this.serializeUrl(ze),ft,vt);o.next(dn);const bn=lt(ze,this.rootComponentType).snapshot;return(0,Pn.of)(Object.assign(Object.assign({},x),{targetSnapshot:bn,urlAfterRedirects:ze,extras:Object.assign(Object.assign({},Kt),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=x.rawUrl,x.resolve(null),Wc.E}),sg(x=>{const{targetSnapshot:k,id:Y,extractedUrl:fe,rawUrl:Ne,extras:{skipLocationChange:Ye,replaceUrl:ze}}=x;return this.hooks.beforePreactivation(k,{navigationId:Y,appliedUrlTree:fe,rawUrlTree:Ne,skipLocationChange:!!Ye,replaceUrl:!!ze})}),(0,ni.b)(x=>{const k=new vh(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot);this.triggerEvent(k)}),(0,er.U)(x=>Object.assign(Object.assign({},x),{guards:Q_(x.targetSnapshot,x.currentSnapshot,this.rootContexts)})),function Dm(n,r){return(0,bi.z)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:p,canDeactivateChecks:b}}=e;return 0===b.length&&0===p.length?(0,Pn.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function Vf(n,r,e,o){return(0,ar.D)(n).pipe((0,bi.z)(l=>function t0(n,r,e,o,l){const p=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!p||0===p.length)return(0,Pn.of)(!0);const b=p.map(x=>{const k=tg(x,r,l);let Y;if(function J_(n){return n&&Ou(n.canDeactivate)}(k))Y=Ao(k.canDeactivate(n,r,e,o));else{if(!Ou(k))throw new Error("Invalid CanDeactivate guard");Y=Ao(k(n,r,e,o))}return Y.pipe(_t())});return(0,Pn.of)(b).pipe(Nd())}(l.component,l.route,e,r,o)),_t(l=>!0!==l,!0))}(b,o,l,n).pipe((0,bi.z)(x=>x&&function Oi(n){return"boolean"==typeof n}(x)?function Sm(n,r,e,o){return(0,ar.D)(r).pipe(Jo(l=>Au(function Ph(n,r){return null!==n&&r&&r(new mc(n)),(0,Pn.of)(!0)}(l.route.parent,o),function xm(n,r){return null!==n&&r&&r(new am(n)),(0,Pn.of)(!0)}(l.route,o),function e0(n,r,e){const o=r[r.length-1],p=r.slice(0,r.length-1).reverse().map(b=>function Lu(n){const r=n.routeConfig?n.routeConfig.canActivateChild:null;return r&&0!==r.length?{node:n,guards:r}:null}(b)).filter(b=>null!==b).map(b=>Sl(()=>{const x=b.guards.map(k=>{const Y=tg(k,b.node,e);let fe;if(function pm(n){return n&&Ou(n.canActivateChild)}(Y))fe=Ao(Y.canActivateChild(o,n));else{if(!Ou(Y))throw new Error("Invalid CanActivateChild guard");fe=Ao(Y(o,n))}return fe.pipe(_t())});return(0,Pn.of)(x).pipe(Nd())}));return(0,Pn.of)(p).pipe(Nd())}(n,l.path,e),function Am(n,r,e){const o=r.routeConfig?r.routeConfig.canActivate:null;if(!o||0===o.length)return(0,Pn.of)(!0);const l=o.map(p=>Sl(()=>{const b=tg(p,r,e);let x;if(function Y_(n){return n&&Ou(n.canActivate)}(b))x=Ao(b.canActivate(r,n));else{if(!Ou(b))throw new Error("Invalid CanActivate guard");x=Ao(b(r,n))}return x.pipe(_t())}));return(0,Pn.of)(l).pipe(Nd())}(n,l.route,e))),_t(l=>!0!==l,!0))}(o,p,n,r):(0,Pn.of)(x)),(0,er.U)(x=>Object.assign(Object.assign({},e),{guardsResult:x})))})}(this.ngModule.injector,x=>this.triggerEvent(x)),(0,ni.b)(x=>{if(Nu(x.guardsResult)){const Y=Qc(`Redirecting to "${this.serializeUrl(x.guardsResult)}"`);throw Y.url=x.guardsResult,Y}const k=new om(x.id,this.serializeUrl(x.extractedUrl),this.serializeUrl(x.urlAfterRedirects),x.targetSnapshot,!!x.guardsResult);this.triggerEvent(k)}),mi(x=>!!x.guardsResult||(this.restoreHistory(x),this.cancelNavigationTransition(x,""),!1)),sg(x=>{if(x.guards.canActivateChecks.length)return(0,Pn.of)(x).pipe((0,ni.b)(k=>{const Y=new Mi(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(Y)}),po(k=>{let Y=!1;return(0,Pn.of)(k).pipe(function Rl(n,r){return(0,bi.z)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,Pn.of)(e);let p=0;return(0,ar.D)(l).pipe(Jo(b=>function kl(n,r,e,o){return function Gf(n,r,e,o){const l=Bu(n);if(0===l.length)return(0,Pn.of)({});const p={};return(0,ar.D)(l).pipe((0,bi.z)(b=>function Ld(n,r,e,o){const l=tg(n,r,o);return Ao(l.resolve?l.resolve(r,e):l(r,e))}(n[b],r,e,o).pipe((0,ni.b)(x=>{p[b]=x}))),Tf(1),(0,bi.z)(()=>Bu(p).length===l.length?(0,Pn.of)(p):Wc.E))}(n._resolve,n,r,o).pipe((0,er.U)(p=>(n._resolvedData=p,n.data=Object.assign(Object.assign({},n.data),Un(n,e).resolve),null)))}(b.route,o,n,r)),(0,ni.b)(()=>p++),Tf(1),(0,bi.z)(b=>p===l.length?(0,Pn.of)(e):Wc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ni.b)({next:()=>Y=!0,complete:()=>{Y||(this.restoreHistory(k),this.cancelNavigationTransition(k,"At least one route resolver didn't emit any value."))}}))}),(0,ni.b)(k=>{const Y=new vd(k.id,this.serializeUrl(k.extractedUrl),this.serializeUrl(k.urlAfterRedirects),k.targetSnapshot);this.triggerEvent(Y)}))}),sg(x=>{const{targetSnapshot:k,id:Y,extractedUrl:fe,rawUrl:Ne,extras:{skipLocationChange:Ye,replaceUrl:ze}}=x;return this.hooks.afterPreactivation(k,{navigationId:Y,appliedUrlTree:fe,rawUrlTree:Ne,skipLocationChange:!!Ye,replaceUrl:!!ze})}),(0,er.U)(x=>{const k=function Ad(n,r,e){const o=Ya(n,r._root,e?e._root:void 0);return new ve(o,r)}(this.routeReuseStrategy,x.targetSnapshot,x.currentRouterState);return Object.assign(Object.assign({},x),{targetRouterState:k})}),(0,ni.b)(x=>{this.currentUrlTree=x.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(x.urlAfterRedirects,x.rawUrl),this.routerState=x.targetRouterState,"deferred"===this.urlUpdateStrategy&&(x.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,x),this.browserUrlTree=x.urlAfterRedirects)}),((n,r,e)=>(0,er.U)(o=>(new W_(r,o.targetRouterState,o.currentRouterState,e).activate(n),o)))(this.rootContexts,this.routeReuseStrategy,x=>this.triggerEvent(x)),(0,ni.b)({next(){p=!0},complete(){p=!0}}),function qa(n){return(0,to.e)((r,e)=>{try{r.subscribe(e)}finally{e.add(n)}})}(()=>{var x;p||b||this.cancelNavigationTransition(l,`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`),(null===(x=this.currentNavigation)||void 0===x?void 0:x.id)===l.id&&(this.currentNavigation=null)}),Kc(x=>{if(b=!0,function Sf(n){return n&&n[Jc]}(x)){const k=Nu(x.url);k||(this.navigated=!0,this.restoreHistory(l,!0));const Y=new Df(l.id,this.serializeUrl(l.extractedUrl),x.message);o.next(Y),k?setTimeout(()=>{const fe=this.urlHandlingStrategy.merge(x.url,this.rawUrlTree),Ne={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||qf(l.source)};this.scheduleNavigation(fe,"imperative",null,Ne,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const k=new Yc(l.id,this.serializeUrl(l.extractedUrl),x);o.next(k);try{l.resolve(this.errorHandler(x))}catch(Y){l.reject(Y)}}return Wc.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o="popstate"===e.type?"popstate":"hashchange";"popstate"===o&&setTimeout(()=>{var l;const p={replaceUrl:!0},b=(null===(l=e.state)||void 0===l?void 0:l.navigationId)?e.state:null;if(b){const k=Object.assign({},b);delete k.navigationId,delete k.\u0275routerPageId,0!==Object.keys(k).length&&(p.state=k)}const x=this.parseUrl(e.url);this.scheduleNavigation(x,o,b,p)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ah(e),this.config=e.map(ku),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:p,fragment:b,queryParamsHandling:x,preserveFragment:k}=o,Y=l||this.routerState.root,fe=k?this.currentUrlTree.fragment:b;let Ne=null;switch(x){case"merge":Ne=Object.assign(Object.assign({},this.currentUrlTree.queryParams),p);break;case"preserve":Ne=this.currentUrlTree.queryParams;break;default:Ne=p||null}return null!==Ne&&(Ne=this.removeEmptyProps(Ne)),function Wp(n,r,e,o,l){if(0===e.length)return Mf(r.root,r.root,r.root,o,l);const p=function uy(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Of(!0,0,n);let r=0,e=!1;const o=n.reduce((l,p,b)=>{if("object"==typeof p&&null!=p){if(p.outlets){const x={};return no(p.outlets,(k,Y)=>{x[Y]="string"==typeof k?k.split("/"):k}),[...l,{outlets:x}]}if(p.segmentPath)return[...l,p.segmentPath]}return"string"!=typeof p?[...l,p]:0===b?(p.split("/").forEach((x,k)=>{0==k&&"."===x||(0==k&&""===x?e=!0:".."===x?r++:""!=x&&l.push(x))}),l):[...l,p]},[]);return new Of(e,r,o)}(e);if(p.toRoot())return Mf(r.root,r.root,new Er([],{}),o,l);const b=function Nf(n,r,e){if(n.isAbsolute)return new hm(r.root,!0,0);if(-1===e.snapshot._lastPathIndex){const p=e.snapshot._urlSegment;return new hm(p,p===r.root,0)}const o=Mu(n.commands[0])?0:1;return function Pd(n,r,e){let o=n,l=r,p=e;for(;p>l;){if(p-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new hm(o,!1,l-p)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,n.numberOfDoubleDots)}(p,r,n),x=b.processChildren?Md(b.segmentGroup,b.index,p.commands):Rf(b.segmentGroup,b.index,p.commands);return Mf(r.root,b.segmentGroup,x,o,l)}(Y,this.currentUrlTree,e,Ne,null!=fe?fe:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Nu(e)?e:this.parseUrl(e),p=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(p,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function Gv(n){for(let r=0;r<n.length;r++){const e=n[r];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${r}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},Nh):!1===o?Object.assign({},my):o,Nu(e))return qp(this.currentUrlTree,e,l);const p=this.parseUrl(e);return qp(this.currentUrlTree,p,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const p=e[l];return null!=p&&(o[l]=p),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ps(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,p,b){var x,k;if(this.disposed)return Promise.resolve(!1);let Y,fe,Ne;b?(Y=b.resolve,fe=b.reject,Ne=b.promise):Ne=new Promise((ft,vt)=>{Y=ft,fe=vt});const Ye=++this.navigationId;let ze;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),ze=l&&l.\u0275routerPageId?l.\u0275routerPageId:p.replaceUrl||p.skipLocationChange?null!==(x=this.browserPageId)&&void 0!==x?x:0:(null!==(k=this.browserPageId)&&void 0!==k?k:0)+1):ze=0,this.setTransition({id:Ye,targetPageId:ze,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:p,resolve:Y,reject:fe,promise:Ne,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Ne.catch(ft=>Promise.reject(ft))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),p=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",p):this.location.go(l,"",p)}restoreHistory(e,o=!1){var l,p;if("computed"===this.canceledNavigationResolution){const b=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===b?this.currentUrlTree===(null===(p=this.currentNavigation)||void 0===p?void 0:p.finalUrl)&&0===b&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(b)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new Df(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function qf(n){return"imperative"!==n}let vc=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.route=o,this.tabIndexAttribute=l,this.renderer=p,this.el=b,this.commands=null,this.onChanges=new ci.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){if(null!=this.tabIndexAttribute)return;const o=this.renderer,l=this.el.nativeElement;null!==e?o.setAttribute(l,"tabindex",e):o.removeAttribute(l,"tabindex")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const e={skipLocationChange:bc(this.skipLocationChange),replaceUrl:bc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(vn),t.$8M("tabindex"),t.Y36(t.Qsj),t.Y36(t.SBq))},n.\u0275dir=t.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&t.NdJ("click",function(){return o.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})(),Xa=(()=>{class n{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=null,this.href=null,this.onChanges=new ci.x,this.subscription=e.events.subscribe(p=>{p instanceof ps&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:null}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,p,b){if(0!==e||o||l||p||b||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const x={skipLocationChange:bc(this.skipLocationChange),replaceUrl:bc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,x),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:bc(this.preserveFragment)})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(vn),t.Y36(ue))},n.\u0275dir=t.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&t.NdJ("click",function(p){return o.onClick(p.button,p.ctrlKey,p.shiftKey,p.altKey,p.metaKey)}),2&e&&t.uIk("target",o.target)("href",o.href,t.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[t.TTD]}),n})();function bc(n){return""===n||!!n}class Nm{}class Zf{preload(r,e){return(0,Pn.of)(null)}}let ug=(()=>{class n{constructor(e,o,l,p){this.router=e,this.injector=l,this.preloadingStrategy=p,this.loader=new $f(l,o,k=>e.triggerEvent(new bd(k)),k=>e.triggerEvent(new bh(k)))}setUpPreloading(){this.subscription=this.router.events.pipe(mi(e=>e instanceof ps),Jo(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(t.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const p of o)if(p.loadChildren&&!p.canLoad&&p._loadedConfig){const b=p._loadedConfig;l.push(this.processRoutes(b.module,b.routes))}else p.loadChildren&&!p.canLoad?l.push(this.preloadConfig(e,p)):p.children&&l.push(this.processRoutes(e,p.children));return(0,ar.D)(l).pipe((0,gh.J)(),(0,er.U)(p=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,Pn.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,bi.z)(p=>(o._loadedConfig=p,this.processRoutes(p.module,p.routes)))))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(fi),t.LFG(t.Sil),t.LFG(t.zs3),t.LFG(Nm))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Ud=(()=>{class n{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof fs?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ps&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Ch&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new Ch(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(e){t.$Z()},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Vu=new t.OlP("ROUTER_CONFIGURATION"),Rm=new t.OlP("ROUTER_FORROOT_GUARD"),Fl=[qe,{provide:Th,useClass:Td},{provide:fi,useFactory:function Um(n,r,e,o,l,p,b={},x,k){const Y=new fi(null,n,r,e,o,l,Xc(p));return x&&(Y.urlHandlingStrategy=x),k&&(Y.routeReuseStrategy=k),function yy(n,r){n.errorHandler&&(r.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(r.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(r.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(r.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(r.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(r.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(r.canceledNavigationResolution=n.canceledNavigationResolution)}(b,Y),b.enableTracing&&Y.events.subscribe(fe=>{var Ne,Ye;null===(Ne=console.group)||void 0===Ne||Ne.call(console,`Router Event: ${fe.constructor.name}`),console.log(fe.toString()),console.log(fe),null===(Ye=console.groupEnd)||void 0===Ye||Ye.call(console)}),Y},deps:[Th,Rd,qe,t.zs3,t.Sil,Hf,Vu,[class ag{},new t.FiY],[class Oh{},new t.FiY]]},Rd,{provide:vn,useFactory:function va(n){return n.routerState.root},deps:[fi]},ug,Zf,class c0{preload(r,e){return e().pipe(Kc(()=>(0,Pn.of)(null)))}},{provide:Vu,useValue:{enableTracing:!1}}];function km(){return new t.PXZ("Router",fi)}let Fm=(()=>{class n{constructor(e,o){}static forRoot(e,o){return{ngModule:n,providers:[Fl,l0(e),{provide:Rm,useFactory:Lm,deps:[[fi,new t.FiY,new t.tp0]]},{provide:Vu,useValue:o||{}},{provide:ue,useFactory:Rh,deps:[z,[new t.tBr(De),new t.FiY],Vu]},{provide:Ud,useFactory:u0,deps:[fi,Yn,Vu]},{provide:Nm,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Zf},{provide:t.PXZ,multi:!0,useFactory:km},[zf,{provide:t.ip1,multi:!0,useFactory:lg,deps:[zf]},{provide:Wf,useFactory:dg,deps:[zf]},{provide:t.tb,multi:!0,useExisting:Wf}]]}}static forChild(e){return{ngModule:n,providers:[l0(e)]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Rm,8),t.LFG(fi,8))},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();function u0(n,r,e){return e.scrollOffset&&r.setOffset(e.scrollOffset),new Ud(n,r,e)}function Rh(n,r,e={}){return e.useHash?new Be(n,r):new rt(n,r)}function Lm(n){return"guarded"}function l0(n){return[{provide:t.deG,multi:!0,useValue:n},{provide:Hf,multi:!0,useValue:n}]}let zf=(()=>{class n{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ci.x}appInitializer(){return this.injector.get(W,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(x=>o=x),p=this.injector.get(fi),b=this.injector.get(Vu);return"disabled"===b.initialNavigation?(p.setUpLocationChangeListener(),o(!0)):"enabled"===b.initialNavigation||"enabledBlocking"===b.initialNavigation?(p.hooks.afterPreactivation=()=>this.initNavigation?(0,Pn.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),p.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(Vu),l=this.injector.get(ug),p=this.injector.get(Ud),b=this.injector.get(fi),x=this.injector.get(t.z2F);e===x.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&b.initialNavigation(),l.setUpPreloading(),p.init(),b.resetRootComponentType(x.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function lg(n){return n.appInitializer.bind(n)}function dg(n){return n.bootstrapListener.bind(n)}const Wf=new t.OlP("Router Initializer");var kh,ba=M(635),ec=M(6082),iu=new Uint8Array(16);function d0(){if(!kh&&!(kh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return kh(iu)}const h0=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,by=function Bm(n){return"string"==typeof n&&h0.test(n)};for(var ms=[],hg=0;hg<256;++hg)ms.push((hg+256).toString(16).substr(1));const ou=function f0(n,r,e){var o=(n=n||{}).random||(n.rng||d0)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,r){e=e||0;for(var l=0;l<16;++l)r[e+l]=o[l];return r}return function Vm(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=(ms[n[r+0]]+ms[n[r+1]]+ms[n[r+2]]+ms[n[r+3]]+"-"+ms[n[r+4]]+ms[n[r+5]]+"-"+ms[n[r+6]]+ms[n[r+7]]+"-"+ms[n[r+8]]+ms[n[r+9]]+"-"+ms[n[r+10]]+ms[n[r+11]]+ms[n[r+12]]+ms[n[r+13]]+ms[n[r+14]]+ms[n[r+15]]).toLowerCase();if(!by(e))throw TypeError("Stringified UUID is invalid");return e}(o)},p0=[{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1648041984132},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1648041964676},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1648041940941},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1648041898298},{price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",updateDate:1647961453747},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647961415096},{price:2.65,productBarcode:"8411135005037",shopId:"bonpreu",updateDate:1647961386453},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1647961357748},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1647961332394},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647961299091},{price:5,productBarcode:"3574661648019",shopId:"bonpreu",updateDate:1647961197826},{price:1.25,productBarcode:"8410505512267",shopId:"bonpreu",updateDate:1647547513223},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647547483555},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1647547448250},{price:4.29,productBarcode:"8436551862040",shopId:"ametller",updateDate:1647449138590},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1647449093641},{price:1.99,productBarcode:"8436540566942",shopId:"ametller",updateDate:1647449073312},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647449047440},{price:2.99,productBarcode:"5029053036151",shopId:"bonpreu",updateDate:1647365959812},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1647365744646},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1647365593154},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1647365517833},{price:1.1,productBarcode:"8410184800150",shopId:"bonpreu",updateDate:1647365491009},{price:1.73,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1647365453382},{price:.99,productBarcode:"8410184013086",shopId:"bonpreu",updateDate:1647365405368},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1647288183532},{price:3.49,productBarcode:"8436551861951",shopId:"ametller",updateDate:1647288160477},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647288114011},{price:1.99,productBarcode:"8436554523979",shopId:"ametller",updateDate:1647288063635},{price:1.49,productBarcode:"8436551867502",shopId:"ametller",updateDate:1647009885888},{price:1.99,productBarcode:"8436583950449",shopId:"ametller",updateDate:1647009840835},{price:5.99,productBarcode:"8436551860251",shopId:"ametller",updateDate:1647009813003},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647009785979},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1647009736789},{price:6.49,productBarcode:"8436583957110",shopId:"ametller",updateDate:1647009673830},{price:6.49,productBarcode:"8436583957134",shopId:"ametller",updateDate:1647009576298},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1647009535063},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647009507902},{price:1.86,productBarcode:"8076802085981",shopId:"carrefour",updateDate:1647001030237},{price:1.86,productBarcode:"8076808060654",shopId:"carrefour",updateDate:1647000997394},{price:2.1,productBarcode:"8410128160074",shopId:"carrefour",updateDate:1647000971290},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1647000949431},{price:1.49,productBarcode:"3560070119851",shopId:"carrefour",updateDate:1647000913572},{price:2.26,productBarcode:"8431707094290",shopId:"carrefour",updateDate:1646942628295},{price:2.2,productBarcode:"3560070347438",shopId:"carrefour",updateDate:1646942603389},{price:1,productBarcode:"8436033878095",shopId:"carrefour",updateDate:1646942576971},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1646942537870},{price:1.08,productBarcode:"8431876005912",shopId:"carrefour",updateDate:1646942494815},{price:2.2,productBarcode:"8480000180926",shopId:"mercadona",updateDate:1646930250559},{price:3.3,productBarcode:"8480000136343",shopId:"mercadona",updateDate:1646930214883},{price:1.2,productBarcode:"8410086000856",shopId:"mercadona",updateDate:1646930191204},{price:1.25,productBarcode:"8480000163141",shopId:"mercadona",updateDate:1646930166623},{price:1.95,productBarcode:"8480000581518",shopId:"mercadona",updateDate:1646930137722},{price:2.65,productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641},{price:1.5,productBarcode:"8480000610652",shopId:"mercadona",updateDate:1646930032462},{price:3.25,productBarcode:"8420309210115",shopId:"mercadona",updateDate:1646929997724},{price:.9,productBarcode:"8410148509327",shopId:"mercadona",updateDate:1646929946281},{price:1.59,productBarcode:"80177616",shopId:"dia",updateDate:1646872443076},{price:1.27,productBarcode:"8480017574657",shopId:"dia",updateDate:1646856265172},{price:2.89,productBarcode:"8410448000913",shopId:"dia",updateDate:1646856219361},{price:4.95,productBarcode:"7613035260924",shopId:"dia",updateDate:1646856083841},{price:4.89,productBarcode:"5054563099082",shopId:"dia",updateDate:1646856003573},{price:4.09,productBarcode:"8714100635650",shopId:"bonpreu",updateDate:1646486309719},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1646486174599},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1646486121079},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646415616777},{price:2.19,productBarcode:"8413475312615",shopId:"ametller",updateDate:1646415576400},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646415548935},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1646335181459},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646335153243},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1646335092609},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646335060270},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1646335036086},{price:1.25,productBarcode:"8410564002204",shopId:"condis",updateDate:1646250727985},{price:2.29,productBarcode:"3073780902366",shopId:"condis",updateDate:1646250687325},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1646250627653},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1646144325823},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1646144272786},{price:1.99,productBarcode:"8435037550631",shopId:"ametller",updateDate:1646079281946},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646079230642},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646079202513},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1646079180090},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646079152860},{price:2.19,productBarcode:"3269612045008",shopId:"condis",updateDate:1646071049954},{price:2.59,productBarcode:"7613036569927",shopId:"condis",updateDate:1646071015575},{price:2.19,productBarcode:"8410022115255",shopId:"condis",updateDate:1645888125951},{price:6.25,productBarcode:"8410179012018",shopId:"condis",updateDate:1645888080319},{price:1.52,updateDate:1645888034122,shopId:"condis",productBarcode:"8411002105006"},{price:3.5,productBarcode:"5054563101648",shopId:"condis",updateDate:1645887883610},{price:1.49,productBarcode:"8717700002402",shopId:"condis",updateDate:1645886201039},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1645886117451},{price:1.91,updateDate:1645869460823,shopId:"carrefour",productBarcode:"8015100563067"},{price:3.15,updateDate:1645869433791,shopId:"carrefour",productBarcode:"3560071152413"},{price:3.39,productBarcode:"5050083560262",shopId:"carrefour",updateDate:1645869280046},{price:2.95,updateDate:1645869134793,shopId:"carrefour",productBarcode:"8006540576588"},{price:1.89,updateDate:1645869027911,shopId:"carrefour",productBarcode:"5029053010052"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616"},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1645798155513},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1645798113906},{price:3.15,updateDate:1645798090805,shopId:"ametller",productBarcode:"8436583955093"},{price:1.99,updateDate:1645653239642,shopId:"ametller",productBarcode:"8436540566942"},{price:1.09,updateDate:1645653185581,shopId:"ametller",productBarcode:"8436551865355"},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1645552083100},{price:1.69,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1645552048570},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1645552013320},{price:1.45,productBarcode:"8414516070167",shopId:"bonpreu",updateDate:1645551958078},{price:1.43,productBarcode:"8413100612639",shopId:"bonpreu",updateDate:1645551919468},{price:1.99,productBarcode:"8422410387915",shopId:"bonpreu",updateDate:1645551879354},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1645551832691},{price:2.15,productBarcode:"3045206312257",shopId:"bonpreu",updateDate:1645452864525},{price:.99,productBarcode:"7613035268388",shopId:"bonpreu",updateDate:1645452256976},{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1645452194587}];var Ca=M(1343);let ju=(()=>{class n{constructor(e,o,l){this.productService=e,this.shopService=o,this.firestoreService=l,this.shopsProducts=new ci.x,this._shopsProducts=[],this.shopsProducts.subscribe(p=>{this._shopsProducts=p})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),$a.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,ni.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=p0),this.shopsProducts.next(e)})):(0,Pn.of)(p0).pipe((0,ni.b)(e=>{(!e||0===e.length)&&this.firestoreService.addShopProducts(e=p0),this.shopsProducts.next(e)}))}addShopProduct(e){return e.id||(e.id=ou()),$a.q.cloudMode?this.firestoreService.addShopProduct(e).pipe((0,ni.b)(()=>{this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(e),this.shopsProducts.next(this._shopsProducts),(0,Pn.of)(!0))}removeShopProduct(e){return console.log("ShopProductService.removeShopProduct()",e),$a.q.cloudMode?this.firestoreService.deleteShopProduct(e).pipe((0,ni.b)(()=>{this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(o=>o.productBarcode!==e.productBarcode||o.shopId!==e.shopId),this.shopsProducts.next(this._shopsProducts),(0,Pn.of)(!0))}removeShopShopProducts(e){console.log("ShopProductService.removeShopShopProducts()",e);const o=[],l=[];return this._shopsProducts.forEach(p=>{p.shopId===e?o.push(p):l.push(p)}),$a.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ni.b)(()=>{this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts),(0,Pn.of)(!0))}removeProductShopProducts(e){console.log("ShopProductService.removeProductShopProducts()",e);const o=[],l=[];return this._shopsProducts.forEach(p=>{p.productBarcode===e?o.push(p):l.push(p)}),$a.q.cloudMode?this.firestoreService.deleteShopProducts(o).pipe((0,ni.b)(()=>{this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=l,this.shopsProducts.next(this._shopsProducts),(0,Pn.of)(!0))}getShopProduct(e,o){const l=this._shopsProducts.filter(p=>p.productBarcode===o&&p.shopId===e).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return(0,Pn.of)(l.length>0?l[0]:void 0)}getShopProducts(e){const o=this._shopsProducts.filter(l=>l.shopId===e).map(l=>l.productBarcode);return(0,Pn.of)(this.productService._products.filter(l=>o.indexOf(l.barcode)>-1))}getProductShops(e){const o=this._shopsProducts.filter(l=>l.productBarcode===e).map(l=>l.shopId);return(0,Pn.of)(this.shopService._shops.filter(l=>o.indexOf(l.id)>-1))}getShopShopProducts(e){return(0,Pn.of)(this._shopsProducts.filter(o=>o.shopId===e))}getProductShopProducts(e){return(0,Pn.of)(this._shopsProducts.filter(o=>o.productBarcode===e))}getShopProductLast(e,o){const l=this._shopsProducts.filter(p=>p.shopId===e&&p.productBarcode===o).sort((p,b)=>p.updateDate<b.updateDate?1:-1);return l.length>0?l[0]:void 0}getProductCheaperShop(e){const o=[];if(!e)return[];if(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length)return;let l=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price>x.price?1:-1)];const p=l[0].price;return l=l.filter(b=>b.price===p),l.map(b=>this.shopService._shops.find(x=>x.id===b.shopId))}getProductLowestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let l=[...o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1)];return l[0].price<=l[l.length-1].price?l[0].price:l[l.length-1].price}getProductHighestPrice(e){const o=[];if(!e||(this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{o.indexOf(b.shopId)<0&&o.push(b.shopId)}),0===o.length))return;let l=o.map(b=>this.getShopProductLast(b,e.barcode)).sort((b,x)=>b.price<x.price?1:-1);return l[0].price>=l[l.length-1].price?l[0].price:l[l.length-1].price}getProductPriceRange(e,o){const l=[];this._shopsProducts.filter(b=>b.productBarcode===e.barcode).forEach(b=>{l.indexOf(b.shopId)<0&&l.push(b.shopId)});const p=l.map(b=>this.getShopProductLast(b,e.barcode).price);return p.sort((b,x)=>b<x?1:-1),{max:p[0],min:p[p.length-1]}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ec.M),t.LFG(ba.d),t.LFG(Ca.C))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Qs=M(4120);let Kf=(()=>{class n{constructor(e,o){this.productService=e,this.shopProductService=o,this.cart=new ci.x,this.cartConfig=new ci.x,this.cart.subscribe(l=>{var p;l&&(null===(p=l.productsBarcodesUnits)||void 0===p?void 0:p.length)>0?(this._cart=l,localStorage.setItem(zc.M.PS_SHOPPING_CART,JSON.stringify(l))):(this._cart=void 0,localStorage.removeItem(zc.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const e=localStorage.getItem(zc.M.PS_SHOPPING_CART);if(e){const o=JSON.parse(e);this.cart.next(o)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(e=>{var o,l;(null===(l=null===(o=this._cart)||void 0===o?void 0:o.productsBarcodesUnits)||void 0===l?void 0:l.length)>0&&this._cart.productsBarcodesUnits.forEach(p=>{const b=e.find(k=>k.barcode===p.barcode);b||console.error("Undefined product");const x=this.shopProductService.getProductCheaperShop(b);if(x){const k=this.shopProductService.getProductLowestPrice(b),Y=this.shopProductService.getProductHighestPrice(b);x.forEach(fe=>{const Ne=this._cartConfig.items.find(ze=>{var ft;return(null===(ft=ze.shop)||void 0===ft?void 0:ft.id)===(null==fe?void 0:fe.id)}),Ye={product:b,units:p.units,minPrice:k,maxPrice:Y,checked:p.checked};Ne?Ne.productsUnits.push(Ye):this._cartConfig.items.push({shop:fe,productsUnits:[Ye]})})}else{const k=this._cartConfig.items.find(Y=>!Y.shop);k?k.productsUnits.push({product:b,units:p.units,checked:p.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:b,units:p.units,checked:p.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(e,o){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(l=>l.barcode===e.barcode).units=o,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(e){this._cart.productsBarcodesUnits.find(o=>o.barcode===e.product.barcode).checked=!e.checked,this.cart.next(this._cart)}removeCartProduct(e){console.log("removeCartProduct()",e),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(o=>o.barcode!==e.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(zc.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(e){console.log("addToCart()",e);let o=this._cart;if(o){const l=o.productsBarcodesUnits.find(p=>p.barcode===e.barcode);l?l.units++:o.productsBarcodesUnits.push({barcode:e.barcode,units:1,checked:!1})}else o={productsBarcodesUnits:[{barcode:e.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};o.updateDate=(new Date).getTime(),this.cart.next(o)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(ec.M),t.LFG(ju))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Yf=M(5032);function ro(n){return(0,to.e)((r,e)=>{(0,It.Xf)(n).subscribe((0,_r.x)(e,()=>e.complete(),Yf.Z)),!e.closed&&r.subscribe(e)})}class fg{}const tc="*";function Jf(n,r){return{type:7,name:n,definitions:r,options:{}}}function pg(n,r=null){return{type:4,styles:r,timings:n}}function m0(n,r=null){return{type:2,steps:n,options:r}}function Qf(n){return{type:6,styles:n,offset:null}}function Cy(n,r,e){return{type:0,name:n,styles:r,options:e}}function Gm(n,r,e=null){return{type:1,expr:n,animation:r,options:e}}function qm(n){Promise.resolve(null).then(n)}class Vd{constructor(r=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=r+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){qm(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(r=>r()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(r){this._position=this.totalTime?r*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class ep{constructor(r){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=r;let e=0,o=0,l=0;const p=this.players.length;0==p?qm(()=>this._onFinish()):this.players.forEach(b=>{b.onDone(()=>{++e==p&&this._onFinish()}),b.onDestroy(()=>{++o==p&&this._onDestroy()}),b.onStart(()=>{++l==p&&this._onStart()})}),this.totalTime=this.players.reduce((b,x)=>Math.max(b,x.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this.players.forEach(r=>r.init())}onStart(r){this._onStartFns.push(r)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(r=>r()),this._onStartFns=[])}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(r=>r.play())}pause(){this.players.forEach(r=>r.pause())}restart(){this.players.forEach(r=>r.restart())}finish(){this._onFinish(),this.players.forEach(r=>r.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(r=>r.destroy()),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}reset(){this.players.forEach(r=>r.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(r){const e=r*this.totalTime;this.players.forEach(o=>{const l=o.totalTime?Math.min(1,e/o.totalTime):1;o.setPosition(l)})}getPosition(){const r=this.players.reduce((e,o)=>null===e||o.totalTime>e.totalTime?o:e,null);return null!=r?r.getPosition():0}beforeDestroy(){this.players.forEach(r=>{r.beforeDestroy&&r.beforeDestroy()})}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}const jd=["overlay"];function Xo(n,r){1&n&&t._UZ(0,"div")}function su(n,r){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,Xo,1,0,"div",6),t.qZA()),2&n){const e=t.oxw(2);t.Tol(e.spinner.class),t.Udp("color",e.spinner.color),t.xp6(1),t.Q6J("ngForOf",e.spinner.divArray)}}function Fh(n,r){if(1&n&&(t._UZ(0,"div",7),t.ALo(1,"safeHtml")),2&n){const e=t.oxw(2);t.Q6J("innerHTML",t.lcZ(1,1,e.template),t.oJD)}}function wa(n,r){if(1&n&&(t.TgZ(0,"div",1,2),t.YNc(2,su,2,5,"div",3),t.YNc(3,Fh,2,3,"div",4),t.TgZ(4,"div",5),t.Hsn(5),t.qZA()()),2&n){const e=t.oxw();t.Udp("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),t.Q6J("@.disabled",e.disableAnimation)("@fadeIn","in"),t.xp6(2),t.Q6J("ngIf",!e.template),t.xp6(1),t.Q6J("ngIf",e.template),t.xp6(1),t.Udp("z-index",e.spinner.zIndex)}}const tp=["*"],Gd={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Ta="primary";class ea{constructor(r){Object.assign(this,r)}static create(r){return(null==(null==r?void 0:r.type)||0===r.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new ea(r)}}let ta=(()=>{class n{constructor(){this.spinnerObservable=new ho(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(mi(o=>o&&o.name===e))}show(e=Ta,o){return new Promise((l,p)=>{setTimeout(()=>{o&&Object.keys(o).length?(o.name=e,this.spinnerObservable.next(new ea(Object.assign(Object.assign({},o),{show:!0}))),l(!0)):(this.spinnerObservable.next(new ea({name:e,show:!0})),l(!0))},10)})}hide(e=Ta,o=10){return new Promise((l,p)=>{setTimeout(()=>{this.spinnerObservable.next(new ea({name:e,show:!1})),l(!0)},o)})}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Lh=(()=>{class n{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ro,16))},n.\u0275pipe=t.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),Uh=(()=>{class n{constructor(e,o,l){this.spinnerService=e,this.changeDetector=o,this.elementRef=l,this.disableAnimation=!1,this.spinner=new ea,this.ngUnsubscribe=new ci.x,this.setDefaultOptions=()=>{this.spinner=ea.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Ta,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(e){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(e.target))&&(e.returnValue=!1,e.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(ro(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(e){return e===this.elementRef.nativeElement.parentElement||e.parentNode&&this.isSpinnerZone(e.parentNode)}ngOnChanges(e){for(const o in e)if(o){const l=e[o];if(l.isFirstChange())return;void 0!==l.currentValue&&l.currentValue!==l.previousValue&&""!==l.currentValue&&(this.spinner[o]=l.currentValue,"showSpinner"===o&&(l.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===o&&this.initObservable())}}getClass(e,o){this.spinner.divCount=Gd[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((p,b)=>b);let l="";switch(o.toLowerCase()){case"small":l="la-sm";break;case"medium":l="la-2x";break;case"large":l="la-3x"}return"la-"+e+" "+l}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ta),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(e,o){if(1&e&&t.Gf(jd,5),2&e){let l;t.iGM(l=t.CRH())&&(o.spinnerDOM=l.first)}},hostBindings:function(e,o){1&e&&t.NdJ("keydown",function(p){return o.handleKeyboardEvent(p)},!1,t.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[t.TTD],ngContentSelectors:tp,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,o){1&e&&(t.F$t(),t.YNc(0,wa,6,12,"div",0)),2&e&&t.Q6J("ngIf",o.spinner.show)},directives:[Fe,ur],pipes:[Lh],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[Jf("fadeIn",[Cy("in",Qf({opacity:1})),Gm(":enter",[Qf({opacity:0}),pg(300)]),Gm(":leave",pg(200,Qf({opacity:0})))])]},changeDetection:0}),n})(),Hd=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();function nc(n){return!!n&&(n instanceof Si.y||(0,_a.m)(n.lift)&&(0,_a.m)(n.subscribe))}var Zm=M(6063);class y0 extends ci.x{constructor(r=1/0,e=1/0,o=Zm.l){super(),this._bufferSize=r,this._windowTime=e,this._timestampProvider=o,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=e===1/0,this._bufferSize=Math.max(1,r),this._windowTime=Math.max(1,e)}next(r){const{isStopped:e,_buffer:o,_infiniteTimeWindow:l,_timestampProvider:p,_windowTime:b}=this;e||(o.push(r),!l&&o.push(p.now()+b)),this._trimBuffer(),super.next(r)}_subscribe(r){this._throwIfClosed(),this._trimBuffer();const e=this._innerSubscribe(r),{_infiniteTimeWindow:o,_buffer:l}=this,p=l.slice();for(let b=0;b<p.length&&!r.closed;b+=o?1:2)r.next(p[b]);return this._checkFinalizedStatuses(r),e}_trimBuffer(){const{_bufferSize:r,_timestampProvider:e,_buffer:o,_infiniteTimeWindow:l}=this,p=(l?1:2)*r;if(r<1/0&&p<o.length&&o.splice(0,o.length-p),!l){const b=e.now();let x=0;for(let k=1;k<o.length&&o[k]<=b;k+=2)x=k;x&&o.splice(0,x+1)}}}var v0=M(3099);function np(n,r,e){let o,l=!1;return n&&"object"==typeof n?({bufferSize:o=1/0,windowTime:r=1/0,refCount:l=!1,scheduler:e}=n):o=null!=n?n:1/0,(0,v0.B)({connector:()=>new y0(o,r,e),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}class rp{}let mg=(()=>{class n extends rp{getTranslation(e){return(0,Pn.of)({})}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Bh{}let zm=(()=>{class n{handle(e){return e.key}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function Vh(n,r){if(n===r)return!0;if(null===n||null===r)return!1;if(n!=n&&r!=r)return!0;let l,p,b,e=typeof n;if(e==typeof r&&"object"==e){if(!Array.isArray(n)){if(Array.isArray(r))return!1;for(p in b=Object.create(null),n){if(!Vh(n[p],r[p]))return!1;b[p]=!0}for(p in r)if(!(p in b)&&void 0!==r[p])return!1;return!0}if(!Array.isArray(r))return!1;if((l=n.length)==r.length){for(p=0;p<l;p++)if(!Vh(n[p],r[p]))return!1;return!0}}return!1}function Gu(n){return null!=n}function $d(n){return n&&"object"==typeof n&&!Array.isArray(n)}function jr(n,r){let e=Object.assign({},n);return $d(n)&&$d(r)&&Object.keys(r).forEach(o=>{$d(r[o])?o in n?e[o]=jr(n[o],r[o]):Object.assign(e,{[o]:r[o]}):Object.assign(e,{[o]:r[o]})}),e}class jh{}let _g=(()=>{class n extends jh{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(e,o){let l;return l="string"==typeof e?this.interpolateString(e,o):"function"==typeof e?this.interpolateFunction(e,o):e,l}getValue(e,o){let l="string"==typeof o?o.split("."):[o];o="";do{o+=l.shift(),!Gu(e)||!Gu(e[o])||"object"!=typeof e[o]&&l.length?l.length?o+=".":e=void 0:(e=e[o],o="")}while(l.length);return e}interpolateFunction(e,o){return e(o)}interpolateString(e,o){return o?e.replace(this.templateMatcher,(l,p)=>{let b=this.getValue(o,p);return Gu(b)?b:l}):e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class Ll{}let wy=(()=>{class n extends Ll{compile(e,o){return e}compileTranslations(e,o){return e}}return n.\u0275fac=function(){let r;return function(o){return(r||(r=t.n5z(n)))(o||n)}}(),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class qi{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new t.vpe,this.onLangChange=new t.vpe,this.onDefaultLangChange=new t.vpe}}const es=new t.OlP("USE_STORE"),Ea=new t.OlP("USE_DEFAULT_LANG"),Wm=new t.OlP("DEFAULT_LANGUAGE"),b0=new t.OlP("USE_EXTEND");let Cc=(()=>{class n{constructor(e,o,l,p,b,x=!0,k=!1,Y=!1,fe){this.store=e,this.currentLoader=o,this.compiler=l,this.parser=p,this.missingTranslationHandler=b,this.useDefaultLang=x,this.isolate=k,this.extend=Y,this.pending=!1,this._onTranslationChange=new t.vpe,this._onLangChange=new t.vpe,this._onDefaultLangChange=new t.vpe,this._langs=[],this._translations={},this._translationRequests={},fe&&this.setDefaultLang(fe)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(e){this.isolate?this._defaultLang=e:this.store.defaultLang=e}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(e){this.isolate?this._currentLang=e:this.store.currentLang=e}get langs(){return this.isolate?this._langs:this.store.langs}set langs(e){this.isolate?this._langs=e:this.store.langs=e}get translations(){return this.isolate?this._translations:this.store.translations}set translations(e){this.isolate?this._translations=e:this.store.translations=e}setDefaultLang(e){if(e===this.defaultLang)return;let o=this.retrieveTranslations(e);void 0!==o?(null==this.defaultLang&&(this.defaultLang=e),o.pipe((0,$i.q)(1)).subscribe(l=>{this.changeDefaultLang(e)})):this.changeDefaultLang(e)}getDefaultLang(){return this.defaultLang}use(e){if(e===this.currentLang)return(0,Pn.of)(this.translations[e]);let o=this.retrieveTranslations(e);return void 0!==o?(this.currentLang||(this.currentLang=e),o.pipe((0,$i.q)(1)).subscribe(l=>{this.changeLang(e)}),o):(this.changeLang(e),(0,Pn.of)(this.translations[e]))}retrieveTranslations(e){let o;return(void 0===this.translations[e]||this.extend)&&(this._translationRequests[e]=this._translationRequests[e]||this.getTranslation(e),o=this._translationRequests[e]),o}getTranslation(e){this.pending=!0;const o=this.currentLoader.getTranslation(e).pipe(np(1),(0,$i.q)(1));return this.loadingTranslations=o.pipe((0,er.U)(l=>this.compiler.compileTranslations(l,e)),np(1),(0,$i.q)(1)),this.loadingTranslations.subscribe({next:l=>{this.translations[e]=this.extend&&this.translations[e]?Object.assign(Object.assign({},l),this.translations[e]):l,this.updateLangs(),this.pending=!1},error:l=>{this.pending=!1}}),o}setTranslation(e,o,l=!1){o=this.compiler.compileTranslations(o,e),this.translations[e]=(l||this.extend)&&this.translations[e]?jr(this.translations[e],o):o,this.updateLangs(),this.onTranslationChange.emit({lang:e,translations:this.translations[e]})}getLangs(){return this.langs}addLangs(e){e.forEach(o=>{-1===this.langs.indexOf(o)&&this.langs.push(o)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(e,o,l){let p;if(o instanceof Array){let b={},x=!1;for(let k of o)b[k]=this.getParsedResult(e,k,l),nc(b[k])&&(x=!0);return x?hl(o.map(Y=>nc(b[Y])?b[Y]:(0,Pn.of)(b[Y]))).pipe((0,er.U)(Y=>{let fe={};return Y.forEach((Ne,Ye)=>{fe[o[Ye]]=Ne}),fe})):b}if(e&&(p=this.parser.interpolate(this.parser.getValue(e,o),l)),void 0===p&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(p=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],o),l)),void 0===p){let b={key:o,translateService:this};void 0!==l&&(b.interpolateParams=l),p=this.missingTranslationHandler.handle(b)}return void 0!==p?p:o}get(e,o){if(!Gu(e)||!e.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe(Jo(l=>nc(l=this.getParsedResult(l,e,o))?l:(0,Pn.of)(l)));{let l=this.getParsedResult(this.translations[this.currentLang],e,o);return nc(l)?l:(0,Pn.of)(l)}}getStreamOnTranslationChange(e,o){if(!Gu(e)||!e.length)throw new Error('Parameter "key" required');return Au(Sl(()=>this.get(e,o)),this.onTranslationChange.pipe(po(l=>{const p=this.getParsedResult(l.translations,e,o);return"function"==typeof p.subscribe?p:(0,Pn.of)(p)})))}stream(e,o){if(!Gu(e)||!e.length)throw new Error('Parameter "key" required');return Au(Sl(()=>this.get(e,o)),this.onLangChange.pipe(po(l=>{const p=this.getParsedResult(l.translations,e,o);return nc(p)?p:(0,Pn.of)(p)})))}instant(e,o){if(!Gu(e)||!e.length)throw new Error('Parameter "key" required');let l=this.getParsedResult(this.translations[this.currentLang],e,o);if(nc(l)){if(e instanceof Array){let p={};return e.forEach((b,x)=>{p[e[x]]=e[x]}),p}return e}return l}set(e,o,l=this.currentLang){this.translations[l][e]=this.compiler.compile(o,l),this.updateLangs(),this.onTranslationChange.emit({lang:l,translations:this.translations[l]})}changeLang(e){this.currentLang=e,this.onLangChange.emit({lang:e,translations:this.translations[e]}),null==this.defaultLang&&this.changeDefaultLang(e)}changeDefaultLang(e){this.defaultLang=e,this.onDefaultLangChange.emit({lang:e,translations:this.translations[e]})}reloadLang(e){return this.resetLang(e),this.getTranslation(e)}resetLang(e){this._translationRequests[e]=void 0,this.translations[e]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==e?(-1!==e.indexOf("-")&&(e=e.split("-")[0]),-1!==e.indexOf("_")&&(e=e.split("_")[0]),e):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let e=window.navigator.languages?window.navigator.languages[0]:null;return e=e||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(qi),t.LFG(rp),t.LFG(Ll),t.LFG(jh),t.LFG(Bh),t.LFG(Ea),t.LFG(es),t.LFG(b0),t.LFG(Wm))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),ts=(()=>{class n{constructor(e,o){this.translate=e,this._ref=o,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(e,o,l){let p=b=>{this.value=void 0!==b?b:e,this.lastKey=e,this._ref.markForCheck()};if(l){let b=this.translate.getParsedResult(l,e,o);nc(b.subscribe)?b.subscribe(p):p(b)}this.translate.get(e,o).subscribe(p)}transform(e,...o){if(!e||!e.length)return e;if(Vh(e,this.lastKey)&&Vh(o,this.lastParams))return this.value;let l;if(Gu(o[0])&&o.length)if("string"==typeof o[0]&&o[0].length){let p=o[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{l=JSON.parse(p)}catch(b){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${o[0]}`)}}else"object"==typeof o[0]&&!Array.isArray(o[0])&&(l=o[0]);return this.lastKey=e,this.lastParams=o,this.updateValue(e,l),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(p=>{this.lastKey&&p.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(e,l,p.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(p=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,l,p.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(e,l))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Cc,16),t.Y36(t.sBO,16))},n.\u0275pipe=t.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),Km=(()=>{class n{static forRoot(e={}){return{ngModule:n,providers:[e.loader||{provide:rp,useClass:mg},e.compiler||{provide:Ll,useClass:wy},e.parser||{provide:jh,useClass:_g},e.missingTranslationHandler||{provide:Bh,useClass:zm},qi,{provide:es,useValue:e.isolate},{provide:Ea,useValue:e.useDefaultLang},{provide:b0,useValue:e.extend},{provide:Wm,useValue:e.defaultLanguage},Cc]}}static forChild(e={}){return{ngModule:n,providers:[e.loader||{provide:rp,useClass:mg},e.compiler||{provide:Ll,useClass:wy},e.parser||{provide:jh,useClass:_g},e.missingTranslationHandler||{provide:Bh,useClass:zm},{provide:es,useValue:e.isolate},{provide:Ea,useValue:e.useDefaultLang},{provide:b0,useValue:e.extend},{provide:Wm,useValue:e.defaultLanguage},Cc]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();const Ym={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest email",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui en la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i la aplicaci\xf3 et dir\xe0 on comprar cada producte."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escanejar"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades"},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant scanner",initError:"Hi ha hagut un error inicialitzant el scanner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'ecaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per al a botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"}}},Zv={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data"},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"}}},uC={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos"},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"}}},Zi={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados"},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"}}},zv={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es"},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"}}};let Jm=(()=>{class n{constructor(e){this.translate=e,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:Ym,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:uC,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:Zv,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Zi,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:zv,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(e=>{this.translate.setTranslation(e.language,e.translations)}),(0,Pn.of)(!0)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Cc))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var go=M(655),C0=M(127),ip=M(6451),Qm=M(5363);function yg(n,r){return(0,_a.m)(r)?po(()=>n,r):po(()=>n)}var w0=M(9468),T0=M(5813),Hu=M(2011),Wv=M(7128);const Kv=new t.OlP("angularfire2.auth.use-emulator"),Yv=new t.OlP("angularfire2.auth.settings"),E0=new t.OlP("angularfire2.auth.tenant-id"),Gh=new t.OlP("angularfire2.auth.langugage-code"),Jv=new t.OlP("angularfire2.auth.use-device-language"),Ul=new t.OlP("angularfire.auth.persistence");let op=(()=>{class n{constructor(e,o,l,p,b,x,k,Y,fe,Ne,Ye,ze){const ft=new ci.x,vt=(0,Pn.of)(void 0).pipe((0,Qm.Q)(b.outsideAngular),po(()=>p.runOutsideAngular(()=>M.e(887).then(M.bind(M,5887)))),(0,er.U)(()=>(0,Hu.on)(e,p,o)),(0,er.U)(Kt=>((n,r,e,o,l,p,b,x)=>(0,Hu.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const k=r.runOutsideAngular(()=>n.auth());if(e&&k.useEmulator(...e),o&&(k.tenantId=o),k.languageCode=l,p&&k.useDeviceLanguage(),b)for(const[Y,fe]of Object.entries(b))k.settings[Y]=fe;return x&&k.setPersistence(x),k},[e,o,l,p,b,x]))(Kt,p,x,Y,fe,Ne,k,Ye)),np({bufferSize:1,refCount:!1}));if(function qt(n){return"server"===n}(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Pn.of)(null);else{vt.pipe(_t()).subscribe();const dn=vt.pipe(po(xn=>xn.getRedirectResult().then(fr=>fr,()=>null)),T0.iC,np({bufferSize:1,refCount:!1})),bn=vt.pipe(po(xn=>new Si.y(fr=>({unsubscribe:p.runOutsideAngular(()=>xn.onAuthStateChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))})))),cr=vt.pipe(po(xn=>new Si.y(fr=>({unsubscribe:p.runOutsideAngular(()=>xn.onIdTokenChanged(gr=>fr.next(gr),gr=>fr.error(gr),()=>fr.complete()))}))));this.authState=dn.pipe(yg(bn),(0,w0.R)(b.outsideAngular),(0,Qm.Q)(b.insideAngular)),this.user=dn.pipe(yg(cr),(0,w0.R)(b.outsideAngular),(0,Qm.Q)(b.insideAngular)),this.idToken=this.user.pipe(po(xn=>xn?(0,ar.D)(xn.getIdToken()):(0,Pn.of)(null))),this.idTokenResult=this.user.pipe(po(xn=>xn?(0,ar.D)(xn.getIdTokenResult()):(0,Pn.of)(null))),this.credential=(0,ip.T)(dn,ft,this.authState.pipe(mi(xn=>!xn))).pipe((0,er.U)(xn=>(null==xn?void 0:xn.user)?xn:null),(0,w0.R)(b.outsideAngular),(0,Qm.Q)(b.insideAngular))}return(0,Hu.pX)(this,vt,p,{spy:{apply:(Kt,dn,bn)=>{(Kt.startsWith("signIn")||Kt.startsWith("createUser"))&&bn.then(cr=>ft.next(cr))}}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Hu.Dh),t.LFG(Hu.xv,8),t.LFG(t.Lbi),t.LFG(t.R0b),t.LFG(T0.HU),t.LFG(Kv,8),t.LFG(Yv,8),t.LFG(E0,8),t.LFG(Gh,8),t.LFG(Jv,8),t.LFG(Ul,8),t.LFG(Wv.nm,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),sp=(()=>{class n{constructor(e){this.afauth=e}login(e,o){return(0,go.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(e,o)}catch(l){return console.log("Login error",l),null}})}loginWithGoogle(e,o){return(0,go.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new C0.Z.auth.GoogleAuthProvider)}catch(l){return console.log("Logi with Google error",l),null}})}register(e,o){return(0,go.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(e,o)}catch(l){return console.log("Register error",l),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(op))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Dy=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"ul")(2,"li"),t._uU(3),t.ALo(4,"number"),t.qZA(),t.TgZ(5,"li"),t._uU(6),t.ALo(7,"number"),t.qZA()()()),2&e&&(t.xp6(3),t.hij("Botigues: ",t.xi3(4,2,o.shops.length,"1.0-2"),""),t.xp6(3),t.hij("Productes: ",t.xi3(7,5,o.products.length,"1.0-2"),""))},pipes:[O],styles:[""]}),n})();var na=M(2940),vg=M(1144);const Qv=["addListener","removeListener"],cu=["addEventListener","removeEventListener"],bg=["on","off"];function Ci(n,r,e,o){if((0,_a.m)(e)&&(o=e,e=void 0),o)return Ci(n,r,e).pipe(Rc(o));const[l,p]=function wg(n){return(0,_a.m)(n.addEventListener)&&(0,_a.m)(n.removeEventListener)}(n)?cu.map(b=>x=>n[b](r,x,e)):function e_(n){return(0,_a.m)(n.addListener)&&(0,_a.m)(n.removeListener)}(n)?Qv.map(ap(n,r)):function Cg(n){return(0,_a.m)(n.on)&&(0,_a.m)(n.off)}(n)?bg.map(ap(n,r)):[];if(!l&&(0,vg.z)(n))return(0,bi.z)(b=>Ci(b,r,e))((0,It.Xf)(n));if(!l)throw new TypeError("Invalid event target");return new Si.y(b=>{const x=(...k)=>b.next(1<k.length?k:k[0]);return l(x),()=>p(x)})}function ap(n,r){return e=>o=>n[e](r,o)}var cp=M(4986);function qd(n,r=cp.z){return(0,to.e)((e,o)=>{let l=null,p=null,b=null;const x=()=>{if(l){l.unsubscribe(),l=null;const Y=p;p=null,o.next(Y)}};function k(){const Y=b+n,fe=r.now();if(fe<Y)return l=this.schedule(void 0,Y-fe),void o.add(l);x()}e.subscribe((0,_r.x)(o,Y=>{p=Y,b=r.now(),l||(l=r.schedule(k,n),o.add(l))},()=>{x(),o.complete()},void 0,()=>{p=l=null}))})}function wc(n,r=yd.y){return n=null!=n?n:up,(0,to.e)((e,o)=>{let l,p=!0;e.subscribe((0,_r.x)(o,b=>{const x=r(b);(p||!n(l,x))&&(p=!1,l=x,o.next(b))}))})}function up(n,r){return n===r}const uu=["nameinput"],Tg=["brandinput"],t_=["createdbyinput"];function lp(n,r){if(1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"date"),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(t.xi3(2,1,e.createdOn,"dd.MM.yyyy"))}}function Eg(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",14),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit;return t.oxw().updateProduct(l)}),t.qZA()}}function D0(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"i",15),t.NdJ("click",function(){t.CHM(e);const l=t.oxw(2).$implicit;return t.oxw().updateProduct(l)}),t.qZA()}}function Hh(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td")(3,"input",10),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().$implicit.name=l}),t.qZA()(),t.TgZ(4,"td")(5,"input",10),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().$implicit.brand=l}),t.qZA()(),t.TgZ(6,"td"),t._uU(7),t.qZA(),t.TgZ(8,"td"),t.YNc(9,lp,3,4,"span",9),t.qZA(),t.TgZ(10,"td")(11,"input",10),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().$implicit.imageUrl=l}),t.qZA()(),t.TgZ(12,"td"),t._UZ(13,"img",11),t.qZA(),t.TgZ(14,"td"),t.YNc(15,Eg,1,0,"i",12),t.YNc(16,D0,1,0,"i",13),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw();t.xp6(3),t.Q6J("value",e.name)("ngModel",e.name),t.xp6(2),t.Q6J("value",e.brand)("ngModel",e.brand),t.xp6(2),t.Oqu((null==e.createdBy?null:e.createdBy.username)||(null==e.createdBy?null:e.createdBy.email)),t.xp6(2),t.Q6J("ngIf",e.createdOn),t.xp6(2),t.Q6J("value",e.imageUrl)("ngModel",e.imageUrl),t.xp6(2),t.Q6J("src",e.imageUrl.length>0?e.imageUrl:o.DEFAULT_IMAGE_URL,t.LSH),t.xp6(2),t.Q6J("ngIf",!o.updatingProduct||o.updatingProduct.id!==e.id),t.xp6(1),t.Q6J("ngIf",o.updatingProduct&&o.updatingProduct.id===e.id)}}function dp(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Hh,17,11,"ng-container",9),t.BQk()),2&n){const e=r.$implicit,o=t.oxw();t.xp6(1),t.Q6J("ngIf",o.matchesSearch(e))}}let S0=(()=>{class n{constructor(e,o){this.productService=e,this.spinner=o,this.products=[],this.onSortEmitter=new t.vpe,this.DEFAULT_IMAGE_URL=na.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(e){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const o=this.searchConfig.name.length>0&&e.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,l=this.searchConfig.brand.length>0&&e.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,p=e.createdBy&&this.searchConfig.createdBy.length>0&&(e.createdBy.username.length>0&&e.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||e.createdBy.email.length>0&&e.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return o||l||p}}sort(e){this.sortDir=e!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=e,this.onSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(e){console.log("updateProduct()",e),e.brand.length>0&&e.name.length>0&&(0===e.imageUrl.length&&(e.imageUrl=na.T),this.updatingProduct=e,this.spinner.show(),this.productService.updateProduct(e,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(e=>{e.imageUrl=e.imageUrl===na.T?"":e.imageUrl})}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){Ci(this.nameinput.nativeElement,"keyup").pipe(mi(Boolean),qd(500),wc(),(0,ni.b)(e=>{this.searchConfig.name=e.target.value})).subscribe(),Ci(this.brandinput.nativeElement,"keyup").pipe(mi(Boolean),qd(500),wc(),(0,ni.b)(e=>{this.searchConfig.brand=e.target.value})).subscribe(),Ci(this.createdbyinput.nativeElement,"keyup").pipe(mi(Boolean),qd(500),wc(),(0,ni.b)(e=>{this.searchConfig.createdBy=e.target.value})).subscribe()}ngOnChanges(e){this.checkProductsImages()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ec.M),t.Y36(ta))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-products"]],viewQuery:function(e,o){if(1&e&&(t.Gf(uu,5),t.Gf(Tg,5),t.Gf(t_,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.nameinput=l.first),t.iGM(l=t.CRH())&&(o.brandinput=l.first),t.iGM(l=t.CRH())&&(o.createdbyinput=l.first)}},inputs:{products:"products"},outputs:{onSortEmitter:"onSortEmitter"},features:[t.TTD],decls:32,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",3,"click",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin",3,"click"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th")(5,"span",2),t.NdJ("click",function(){return o.sort("name")}),t._uU(6,"Nom"),t.qZA(),t._UZ(7,"br")(8,"input",3,4),t.qZA(),t.TgZ(10,"th")(11,"span",2),t.NdJ("click",function(){return o.sort("brand")}),t._uU(12,"Marca"),t.qZA(),t._UZ(13,"br")(14,"input",3,5),t.qZA(),t.TgZ(16,"th"),t._uU(17,"Creat per"),t._UZ(18,"br")(19,"input",3,6),t.qZA(),t.TgZ(21,"th")(22,"span",2),t.NdJ("click",function(){return o.sort("createdOn")}),t._uU(23,"Data creaci\xf3"),t.qZA()(),t.TgZ(24,"th"),t._uU(25,"URL imatge"),t.qZA(),t.TgZ(26,"th"),t._uU(27,"Imatge"),t.qZA(),t.TgZ(28,"th"),t._UZ(29,"i",7),t.qZA()()(),t.TgZ(30,"tbody"),t.YNc(31,dp,2,1,"ng-container",8),t.qZA()()()),2&e&&(t.xp6(31),t.Q6J("ngForOf",o.products))},directives:[ur,Fe,Xr,Ri,ls],pipes:[jo],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),n})();function Dg(n,r){if(1&n&&(t.TgZ(0,"div",9),t._UZ(1,"app-backoffice-dashboard",10),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function x0(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Botigues"),t.qZA())}function $h(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",9)(1,"app-backoffice-products",11),t.NdJ("onSortEmitter",function(l){return t.CHM(e),t.oxw().sortProducts(l)}),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("products",e.products)}}function Bl(n,r){1&n&&(t.TgZ(0,"div",9),t._uU(1,"Usuaris"),t.qZA())}const $u=function(n){return{active:n}};let hp=(()=>{class n{constructor(e){this.loginService=e,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.users=[]}sortProducts(e){console.log("sortProducts()",e),e&&(this.products=this.products.sort((o,l)=>"DESC"===e.sortDir?(o[e.sortBy]?o[e.sortBy]:"").toUpperCase()>(l[e.sortBy]?l[e.sortBy]:"").toUpperCase()?-1:1:(o[e.sortBy]?o[e.sortBy]:"").toUpperCase()>(l[e.sortBy]?l[e.sortBy]:"").toUpperCase()?1:-1))}refreshUsers(){let e=[this.loginService.getLoggedUser()];this.shops.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.products.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.shopsProducts.forEach(o=>{o.createdBy&&!e.find(l=>l.email===o.createdBy.email&&l.username===o.createdBy.username)&&e.push(o.createdBy)}),this.users=e}ngOnInit(){}ngOnChanges(e){this.refreshUsers()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Qs.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[t.TTD],decls:31,vars:28,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","w-100","mb-3","mt-5"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"products","onSortEmitter"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"h3"),t._uU(3,"Backoffice"),t.qZA()(),t.TgZ(4,"ul",2)(5,"li",3)(6,"a",4),t.NdJ("click",function(){return o.selectedTab=0}),t._uU(7,"Dashboard"),t.qZA()(),t.TgZ(8,"li",5)(9,"a",4),t.NdJ("click",function(){return o.selectedTab=1}),t._uU(10,"Botigues "),t.TgZ(11,"small",6),t._uU(12),t.ALo(13,"number"),t.qZA()()(),t.TgZ(14,"li",3)(15,"a",4),t.NdJ("click",function(){return o.selectedTab=2}),t._uU(16,"Productes "),t.TgZ(17,"small",6),t._uU(18),t.ALo(19,"number"),t.qZA()()(),t.TgZ(20,"li",3)(21,"a",4),t.NdJ("click",function(){return o.selectedTab=3}),t._uU(22,"Usuaris"),t.TgZ(23,"small",6),t._uU(24),t.ALo(25,"number"),t.qZA()()()(),t.TgZ(26,"div",7),t.YNc(27,Dg,2,3,"div",8),t.YNc(28,x0,2,0,"div",8),t.YNc(29,$h,2,1,"div",8),t.YNc(30,Bl,2,0,"div",8),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("ngClass",t.VKq(20,$u,0===o.selectedTab)),t.xp6(3),t.Q6J("ngClass",t.VKq(22,$u,1===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(13,11,o.shops.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(24,$u,2===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(19,14,o.products.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngClass",t.VKq(26,$u,3===o.selectedTab)),t.xp6(3),t.hij("(",t.xi3(25,17,null==o.users?null:o.users.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.Q6J("ngIf",2===o.selectedTab),t.xp6(1),t.Q6J("ngIf",3===o.selectedTab))},directives:[Ir,Fe,Dy,S0],pipes:[O],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 180px)!important;overflow:auto}"]}),n})();const Zd=["appLayout"];function n_(n,r){if(1&n&&(t.TgZ(0,"div",38),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.hij(" ",t.xi3(2,1,e.cartItemCount,"1.0-2")," ")}}function r_(n,r){1&n&&t._UZ(0,"i",39)}function i_(n,r){if(1&n&&t._UZ(0,"img",40),2&n){const e=t.oxw(4);t.Q6J("src",e.loggedUser.photoURL,t.LSH)}}function Sy(n,r){if(1&n&&(t.TgZ(0,"small",21),t._uU(1),t.qZA()),2&n){const e=t.oxw(4);t.xp6(1),t.Oqu(null==e.loggedUser?null:e.loggedUser.email)}}function xy(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li"),t._UZ(2,"hr",36),t.qZA(),t.TgZ(3,"li",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(4).toggleExport()}),t.TgZ(4,"div",24),t._UZ(5,"i",41),t.TgZ(6,"a",26),t._uU(7),t.ALo(8,"translate"),t.qZA()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,1,"menu.export")))}const A0=function(n){return{disabled:n}},Ay=function(){return["/shoppingCart"]},I0=function(){return["/search-shops"]},Iy=function(){return["/search-products"]},Sg=function(){return["/statistics"]};function lC(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",8)(2,"button",9),t._UZ(3,"i",10),t.qZA(),t.YNc(4,n_,3,4,"div",11),t.qZA(),t.TgZ(5,"div",12)(6,"button",13),t._UZ(7,"i",14),t.qZA(),t.TgZ(8,"ul",15)(9,"li",16),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToUserDetail()}),t.TgZ(10,"div",17)(11,"div"),t.YNc(12,r_,1,0,"i",18),t.YNc(13,i_,1,1,"img",19),t.qZA(),t.TgZ(14,"div",20)(15,"span",21),t._uU(16),t.qZA(),t.YNc(17,Sy,2,1,"small",22),t.qZA()()(),t.TgZ(18,"li",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).goToHome()}),t.TgZ(19,"div",24),t._UZ(20,"i",25),t.TgZ(21,"a",26),t._uU(22),t.ALo(23,"translate"),t.qZA()()(),t.TgZ(24,"li",27)(25,"div",24),t._UZ(26,"i",28),t.TgZ(27,"a",29),t._uU(28),t.ALo(29,"translate"),t.TgZ(30,"small",30),t._uU(31),t.ALo(32,"number"),t.qZA()()()(),t.TgZ(33,"li",27)(34,"div",24),t._UZ(35,"i",31),t.TgZ(36,"a",29),t._uU(37),t.ALo(38,"translate"),t.TgZ(39,"small",30),t._uU(40),t.ALo(41,"number"),t.qZA()()()(),t.TgZ(42,"li",32)(43,"div",24),t._UZ(44,"i",33),t.TgZ(45,"a",34),t._uU(46),t.ALo(47,"translate"),t.qZA()()(),t.TgZ(48,"li",27)(49,"div",24),t._UZ(50,"i",35),t.TgZ(51,"a",29),t._uU(52),t.ALo(53,"translate"),t.qZA()()(),t.YNc(54,xy,9,3,"ng-container",0),t.TgZ(55,"li"),t._UZ(56,"hr",36),t.qZA(),t.TgZ(57,"li",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(3).logout()}),t.TgZ(58,"div",24),t._UZ(59,"i",37),t.TgZ(60,"a",26),t._uU(61),t.ALo(62,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngClass",t.VKq(38,A0,!((null==e.cartConfig||null==e.cartConfig.items?null:e.cartConfig.items.length)>0)))("routerLink",t.DdM(40,Ay)),t.xp6(2),t.Q6J("ngIf",e.cartItemCount),t.xp6(8),t.Q6J("ngIf",!e.loggedUser.photoURL),t.xp6(1),t.Q6J("ngIf",e.loggedUser.photoURL),t.xp6(3),t.Oqu((null==e.loggedUser||null==e.loggedUser.username?null:e.loggedUser.username.length)>0?null==e.loggedUser?null:e.loggedUser.username:null==e.loggedUser?null:e.loggedUser.email.substr(0,null==e.loggedUser?null:e.loggedUser.email.indexOf("@"))),t.xp6(1),t.Q6J("ngIf",null==e.loggedUser?null:e.loggedUser.username),t.xp6(5),t.Oqu(t.lcZ(23,20,"menu.home")),t.xp6(5),t.Q6J("routerLink",t.DdM(41,I0)),t.xp6(1),t.Oqu(t.lcZ(29,22,"menu.shops")),t.xp6(3),t.hij("(",t.xi3(32,24,null==e.shops?null:e.shops.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(42,Iy)),t.xp6(1),t.Oqu(t.lcZ(38,27,"menu.products")),t.xp6(3),t.hij("(",t.xi3(41,29,null==e.products?null:e.products.length,"1.0-2"),")"),t.xp6(5),t.Q6J("routerLink",t.DdM(43,Sg)),t.xp6(1),t.Oqu(t.lcZ(47,32,"menu.alerts")),t.xp6(5),t.Q6J("routerLink",t.DdM(44,Sg)),t.xp6(1),t.Oqu(t.lcZ(53,34,"menu.analysis")),t.xp6(2),t.Q6J("ngIf",!e.APP_CONFIG.cloudMode&&(null==e.loggedUser?null:e.loggedUser.admin)),t.xp6(7),t.Oqu(t.lcZ(62,36,"menu.exit"))}}function Xv(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).goToHome()}),t._UZ(3,"i",7),t.TgZ(4,"span"),t._uU(5,"Proddle"),t.qZA()(),t.YNc(6,lC,63,45,"ng-container",0),t.qZA(),t._UZ(7,"router-outlet"),t.qZA()}if(2&n){const e=t.oxw(2);t.xp6(6),t.Q6J("ngIf",e.loggedUser&&e.shopsLoaded&&e.productsLoaded&&e.shopsProductsLoaded)}}function P0(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",42),t._UZ(2,"app-backoffice-layout",43),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("shops",e.shops)("products",e.products)("shopsProducts",e.shopsProducts)}}function Py(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",2),t.YNc(2,Xv,8,1,"div",3),t.YNc(3,P0,3,3,"ng-container",0),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.backofficeMode),t.xp6(1),t.Q6J("ngIf",e.backofficeMode)}}let e1=(()=>{class n{constructor(e,o,l,p,b,x,k,Y,fe,Ne){this.router=e,this.shopService=o,this.productService=l,this.shopProductService=p,this.loginService=b,this.shoppingCartService=x,this.spinner=k,this.translate=Y,this.translationsService=fe,this.firestoreAuthService=Ne,this.APP_CONFIG=$a.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.translate.setDefaultLang($a.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Ye=localStorage.getItem(zc.M.PS_APP_LANGUAGE);Ye?this.translate.use(Ye):(this.translate.use($a.q.defaultLanguage),localStorage.setItem(zc.M.PS_APP_LANGUAGE,$a.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(zc.M.PS_APP_LANGUAGE))})}onResize(e){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const e=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),o=document.createElement("textarea");o.style.position="fixed",o.style.left="0",o.style.top="0",o.style.opacity="0",o.value=e,document.body.appendChild(o),o.focus(),o.select(),document.execCommand("copy"),document.body.removeChild(o),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var e;this.backofficeMode=!!(null===(e=this.loggedUser)||void 0===e?void 0:e.admin)&&window.innerWidth>568}calcCartItems(){var e;if(null===(e=this.cartConfig)||void 0===e?void 0:e.items){let o=0;this.cartConfig.items.forEach(l=>{l.productsUnits.forEach(p=>{o+=p.units})}),this.cartItemCount=o}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(e=>{this.products=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,l)=>o.updateDate>l.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(e=>{this.loggedUser=e,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.checkBackofficeMode(),this.spinner.hide()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ba.d),t.Y36(ec.M),t.Y36(ju),t.Y36(Qs.r),t.Y36(Kf),t.Y36(ta),t.Y36(Cc),t.Y36(Jm),t.Y36(sp))},n.\u0275cmp=t.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(e,o){if(1&e&&t.Gf(Zd,5),2&e){let l;t.iGM(l=t.CRH())&&(o.appLayoutComponent=l.first)}},hostBindings:function(e,o){1&e&&t.NdJ("resize",function(p){return o.onResize(p)},!1,t.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2","disabled"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["href","javascript://",1,"dropdown-item","disabled",3,"routerLink"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-3"],[3,"shops","products","shopsProducts"]],template:function(e,o){1&e&&(t.YNc(0,Py,4,2,"ng-container",0),t._UZ(1,"ngx-spinner",1)),2&e&&t.Q6J("ngIf",o.translationsLoaded&&o.shopsLoaded&&o.productsLoaded&&o.shopsProductsLoaded)},directives:[Fe,Ir,vc,Xa,kf,hp,Uh],pipes:[O,ts],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),n})();class mo{}class M0{}class Vl{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?this.lazyInit="string"==typeof r?()=>{this.headers=new Map,r.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),p=l.toLowerCase(),b=e.slice(o+1).trim();this.maybeSetNormalizedName(l,p),this.headers.has(p)?this.headers.get(p).push(b):this.headers.set(p,[b])}})}:()=>{this.headers=new Map,Object.keys(r).forEach(e=>{let o=r[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();const e=this.headers.get(r.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,e){return this.clone({name:r,value:e,op:"a"})}set(r,e){return this.clone({name:r,value:e,op:"s"})}delete(r,e){return this.clone({name:r,value:e,op:"d"})}maybeSetNormalizedName(r,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,r)}init(){this.lazyInit&&(this.lazyInit instanceof Vl?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(e=>{this.headers.set(e,r.headers.get(e)),this.normalizedNames.set(e,r.normalizedNames.get(e))})}clone(r){const e=new Vl;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Vl?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([r]),e}applyUpdate(r){const e=r.name.toLowerCase();switch(r.op){case"a":case"s":let o=r.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(r.name,e);const l=("a"===r.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const p=r.value;if(p){let b=this.headers.get(e);if(!b)return;b=b.filter(x=>-1===p.indexOf(x)),0===b.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,b)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>r(this.normalizedNames.get(e),this.headers.get(e)))}}class O0{encodeKey(r){return a_(r)}encodeValue(r){return a_(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}}const N0=/%(\d[a-f0-9])/gi,s_={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function a_(n){return encodeURIComponent(n).replace(N0,(r,e)=>{var o;return null!==(o=s_[e])&&void 0!==o?o:r})}function qu(n){return`${n}`}class zd{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new O0,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function o_(n,r){const e=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(l=>{const p=l.indexOf("="),[b,x]=-1==p?[r.decodeKey(l),""]:[r.decodeKey(l.slice(0,p)),r.decodeValue(l.slice(p+1))],k=e.get(b)||[];k.push(x),e.set(b,k)}),e}(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(e=>{const o=r.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();const e=this.map.get(r);return e?e[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,e){return this.clone({param:r,value:e,op:"a"})}appendAll(r){const e=[];return Object.keys(r).forEach(o=>{const l=r[o];Array.isArray(l)?l.forEach(p=>{e.push({param:o,value:p,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(r,e){return this.clone({param:r,value:e,op:"s"})}delete(r,e){return this.clone({param:r,value:e,op:"d"})}toString(){return this.init(),this.keys().map(r=>{const e=this.encoder.encodeKey(r);return this.map.get(r).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(r=>""!==r).join("&")}clone(r){const e=new zd({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(r),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":const e=("a"===r.op?this.map.get(r.param):void 0)||[];e.push(qu(r.value)),this.map.set(r.param,e);break;case"d":if(void 0===r.value){this.map.delete(r.param);break}{let o=this.map.get(r.param)||[];const l=o.indexOf(qu(r.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(r.param,o):this.map.delete(r.param)}}}),this.cloneFrom=this.updates=null)}}class fp{constructor(){this.map=new Map}set(r,e){return this.map.set(r,e),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}}function Zu(n){return"undefined"!=typeof ArrayBuffer&&n instanceof ArrayBuffer}function r1(n){return"undefined"!=typeof Blob&&n instanceof Blob}function c_(n){return"undefined"!=typeof FormData&&n instanceof FormData}class Da{constructor(r,e,o,l){let p;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase(),function n1(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,p=l):p=o,p&&(this.reportProgress=!!p.reportProgress,this.withCredentials=!!p.withCredentials,p.responseType&&(this.responseType=p.responseType),p.headers&&(this.headers=p.headers),p.context&&(this.context=p.context),p.params&&(this.params=p.params)),this.headers||(this.headers=new Vl),this.context||(this.context=new fp),this.params){const b=this.params.toString();if(0===b.length)this.urlWithParams=e;else{const x=e.indexOf("?");this.urlWithParams=e+(-1===x?"?":x<e.length-1?"&":"")+b}}else this.params=new zd,this.urlWithParams=e}serializeBody(){return null===this.body?null:Zu(this.body)||r1(this.body)||c_(this.body)||function R0(n){return"undefined"!=typeof URLSearchParams&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof zd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||c_(this.body)?null:r1(this.body)?this.body.type||null:Zu(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof zd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(r={}){var e;const o=r.method||this.method,l=r.url||this.url,p=r.responseType||this.responseType,b=void 0!==r.body?r.body:this.body,x=void 0!==r.withCredentials?r.withCredentials:this.withCredentials,k=void 0!==r.reportProgress?r.reportProgress:this.reportProgress;let Y=r.headers||this.headers,fe=r.params||this.params;const Ne=null!==(e=r.context)&&void 0!==e?e:this.context;return void 0!==r.setHeaders&&(Y=Object.keys(r.setHeaders).reduce((Ye,ze)=>Ye.set(ze,r.setHeaders[ze]),Y)),r.setParams&&(fe=Object.keys(r.setParams).reduce((Ye,ze)=>Ye.set(ze,r.setParams[ze]),fe)),new Da(o,l,b,{params:fe,headers:Y,context:Ne,reportProgress:k,responseType:p,withCredentials:x})}}var Uo=(()=>((Uo=Uo||{})[Uo.Sent=0]="Sent",Uo[Uo.UploadProgress=1]="UploadProgress",Uo[Uo.ResponseHeader=2]="ResponseHeader",Uo[Uo.DownloadProgress=3]="DownloadProgress",Uo[Uo.Response=4]="Response",Uo[Uo.User=5]="User",Uo))();class xg{constructor(r,e=200,o="OK"){this.headers=r.headers||new Vl,this.status=void 0!==r.status?r.status:e,this.statusText=r.statusText||o,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}}class Tc extends xg{constructor(r={}){super(r),this.type=Uo.ResponseHeader}clone(r={}){return new Tc({headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class ra extends xg{constructor(r={}){super(r),this.type=Uo.Response,this.body=void 0!==r.body?r.body:null}clone(r={}){return new ra({body:void 0!==r.body?r.body:this.body,headers:r.headers||this.headers,status:void 0!==r.status?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}}class rc extends xg{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${r.url||"(unknown url)"}`:`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}}function Ag(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let k0=(()=>{class n{constructor(e){this.handler=e}request(e,o,l={}){let p;if(e instanceof Da)p=e;else{let k,Y;k=l.headers instanceof Vl?l.headers:new Vl(l.headers),l.params&&(Y=l.params instanceof zd?l.params:new zd({fromObject:l.params})),p=new Da(e,o,void 0!==l.body?l.body:null,{headers:k,context:l.context,params:Y,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const b=(0,Pn.of)(p).pipe(Jo(k=>this.handler.handle(k)));if(e instanceof Da||"events"===l.observe)return b;const x=b.pipe(mi(k=>k instanceof ra));switch(l.observe||"body"){case"body":switch(p.responseType){case"arraybuffer":return x.pipe((0,er.U)(k=>{if(null!==k.body&&!(k.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return k.body}));case"blob":return x.pipe((0,er.U)(k=>{if(null!==k.body&&!(k.body instanceof Blob))throw new Error("Response is not a Blob.");return k.body}));case"text":return x.pipe((0,er.U)(k=>{if(null!==k.body&&"string"!=typeof k.body)throw new Error("Response is not a string.");return k.body}));default:return x.pipe((0,er.U)(k=>k.body))}case"response":return x;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new zd).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,Ag(l,o))}post(e,o,l={}){return this.request("POST",e,Ag(l,o))}put(e,o,l={}){return this.request("PUT",e,Ag(l,o))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(mo))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class qh{constructor(r,e){this.next=r,this.interceptor=e}handle(r){return this.interceptor.intercept(r,this.next)}}const Ig=new t.OlP("HTTP_INTERCEPTORS");let My=(()=>{class n{intercept(e,o){return o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const pp=/^\)\]\}',?\n/;let i=(()=>{class n{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Si.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((ze,ft)=>l.setRequestHeader(ze,ft.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const ze=e.detectContentTypeHeader();null!==ze&&l.setRequestHeader("Content-Type",ze)}if(e.responseType){const ze=e.responseType.toLowerCase();l.responseType="json"!==ze?ze:"text"}const p=e.serializeBody();let b=null;const x=()=>{if(null!==b)return b;const ze=l.statusText||"OK",ft=new Vl(l.getAllResponseHeaders()),vt=function u(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(l)||e.url;return b=new Tc({headers:ft,status:l.status,statusText:ze,url:vt}),b},k=()=>{let{headers:ze,status:ft,statusText:vt,url:Kt}=x(),dn=null;204!==ft&&(dn=void 0===l.response?l.responseText:l.response),0===ft&&(ft=dn?200:0);let bn=ft>=200&&ft<300;if("json"===e.responseType&&"string"==typeof dn){const cr=dn;dn=dn.replace(pp,"");try{dn=""!==dn?JSON.parse(dn):null}catch(xn){dn=cr,bn&&(bn=!1,dn={error:xn,text:dn})}}bn?(o.next(new ra({body:dn,headers:ze,status:ft,statusText:vt,url:Kt||void 0})),o.complete()):o.error(new rc({error:dn,headers:ze,status:ft,statusText:vt,url:Kt||void 0}))},Y=ze=>{const{url:ft}=x(),vt=new rc({error:ze,status:l.status||0,statusText:l.statusText||"Unknown Error",url:ft||void 0});o.error(vt)};let fe=!1;const Ne=ze=>{fe||(o.next(x()),fe=!0);let ft={type:Uo.DownloadProgress,loaded:ze.loaded};ze.lengthComputable&&(ft.total=ze.total),"text"===e.responseType&&!!l.responseText&&(ft.partialText=l.responseText),o.next(ft)},Ye=ze=>{let ft={type:Uo.UploadProgress,loaded:ze.loaded};ze.lengthComputable&&(ft.total=ze.total),o.next(ft)};return l.addEventListener("load",k),l.addEventListener("error",Y),l.addEventListener("timeout",Y),l.addEventListener("abort",Y),e.reportProgress&&(l.addEventListener("progress",Ne),null!==p&&l.upload&&l.upload.addEventListener("progress",Ye)),l.send(p),o.next({type:Uo.Sent}),()=>{l.removeEventListener("error",Y),l.removeEventListener("abort",Y),l.removeEventListener("load",k),l.removeEventListener("timeout",Y),e.reportProgress&&(l.removeEventListener("progress",Ne),null!==p&&l.upload&&l.upload.removeEventListener("progress",Ye)),l.readyState!==l.DONE&&l.abort()}})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Sr))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const c=new t.OlP("XSRF_COOKIE_NAME"),h=new t.OlP("XSRF_HEADER_NAME");class g{}let v=(()=>{class n{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ar(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(t.Lbi),t.LFG(c))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),D=(()=>{class n{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const l=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||l.startsWith("http://")||l.startsWith("https://"))return o.handle(e);const p=this.tokenService.getToken();return null!==p&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,p)})),o.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(g),t.LFG(h))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),F=(()=>{class n{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(Ig,[]);this.chain=o.reduceRight((l,p)=>new qh(l,p),this.backend)}return this.chain.handle(e)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(M0),t.LFG(t.zs3))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),xe=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:D,useClass:My}]}}static withOptions(e={}){return{ngModule:n,providers:[e.cookieName?{provide:c,useValue:e.cookieName}:[],e.headerName?{provide:h,useValue:e.headerName}:[]]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[D,{provide:Ig,useExisting:D,multi:!0},{provide:g,useClass:v},{provide:c,useValue:"XSRF-TOKEN"},{provide:h,useValue:"X-XSRF-TOKEN"}]}),n})(),Ve=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[k0,{provide:mo,useClass:F},i,{provide:M0,useExisting:i}],imports:[[xe.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),n})();var Ut=M(896),wn=M.n(Ut),wr=M(5199),io=M.n(wr);const Nr=["BarcodeScanner"],_o={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Io=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function zu(n){if(!Io.some(r=>r===n))throw new Error(`This barcode type '${n}' is not valid.`)}function ia(n){return`${n}_reader`}let jl=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new ci.x,this.valueChanges=new t.vpe,this.started=new t.vpe,this._started=!1,this._destroyed=new ci.x,this._valueChanges.pipe(ro(this._destroyed),mi(e=>{const o=e.codeResult.decodedCodes.filter(p=>void 0!==p.error).map(p=>p.error),l=this._getMedian(o);return!this.errorFilter||!(this.errorFilter.median&&l>this.errorFilter.median||this.errorFilter.threshold&&o.some(p=>p>this.errorFilter.threshold))})).subscribe(e=>{const o=wn().canvas.ctx.overlay;wn().ImageDebug.drawPath(e.line,{x:"x",y:"y"},o,{color:"red",lineWidth:3}),this.valueChanges.next(e)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((e,o)=>{wn().onProcessed(l=>this.onProcessed(l)),wn().onDetected(l=>this.onDetected(l)),this.configQuagga=io()({},this.config,_o),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function pi(n){return"string"==typeof n?(zu(n),[ia(n)]):n.map(r=>(zu(r),ia(r)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),wn().init(this.configQuagga,l=>{if(l)return console.log(l),o(l);e()})})}_getMedian(e){e.sort((l,p)=>l-p);const o=Math.floor(e.length/2);return e.length%2==1?e[o]:(e[o-1]+e[o])/2}start(){return(0,go.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),wn().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(wn().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(e){const o=wn().canvas.ctx.overlay,l=wn().canvas.dom.overlay;e&&(e.boxes&&(o.clearRect(0,0,parseInt(l.getAttribute("width"),10),parseInt(l.getAttribute("height"),10)),e.boxes.filter(p=>p!==e.box).forEach(p=>{wn().ImageDebug.drawPath(p,{x:0,y:1},o,{color:"green",lineWidth:2})})),e.box&&wn().ImageDebug.drawPath(e.box,{x:0,y:1},o,{color:"#00F",lineWidth:2}))}onDetected(e){this._valueChanges.next(e)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(e,o){if(1&e&&t.Gf(Nr,5),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeScanner=l.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[t.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0,1),t._UZ(2,"video")(3,"canvas",2),t.qZA()),2&e&&(t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.Q6J("hidden",!o.isStarted),t.xp6(2),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth),t.xp6(1),t.Udp("max-height",o._maxHeight)("max-width",o._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),Bo=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();var pC=M(3532);function F0(n=0,r,e=cp.P){let o=-1;return null!=r&&((0,pC.K)(r)?e=r:o=r),new Si.y(l=>{let p=function gC(n){return n instanceof Date&&!isNaN(n)}(n)?+n-e.now():n;p<0&&(p=0);let b=0;return e.schedule(function(){l.closed||(l.next(b++),0<=o?this.schedule(void 0,o):l.complete())},p)})}const{isArray:s1}=Array;function Ry(n){return 1===n.length&&s1(n[0])?n[0]:n}const Fy=new Si.y(Yf.Z);function l_(...n){const r=(0,zr.jO)(n),e=Ry(n);return e.length?new Si.y(o=>{let l=e.map(()=>[]),p=e.map(()=>!1);o.add(()=>{l=p=null});for(let b=0;!o.closed&&b<e.length;b++)(0,It.Xf)(e[b]).subscribe((0,_r.x)(o,x=>{if(l[b].push(x),l.every(k=>k.length)){const k=l.map(Y=>Y.shift());o.next(r?r(...k):k),l.some((Y,fe)=>!Y.length&&p[fe])&&o.complete()}},()=>{p[b]=!0,!l[b].length&&o.complete()}));return()=>{l=p=null}}):Wc.E}function d_(...n){const r=(0,zr.jO)(n);return(0,to.e)((e,o)=>{const l=n.length,p=new Array(l);let b=n.map(()=>!1),x=!1;for(let k=0;k<l;k++)(0,It.Xf)(n[k]).subscribe((0,_r.x)(o,Y=>{p[k]=Y,!x&&!b[k]&&(b[k]=!0,(x=b.every(yd.y))&&(b=null))},Yf.Z));e.subscribe((0,_r.x)(o,k=>{if(x){const Y=[k,...p];o.next(r?r(...Y):Y)}}))})}Math,Math,Math;const Lg=["*"];function y_(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",6),t.NdJ("click",function(){const p=t.CHM(e).$implicit,b=t.oxw();return b.focus(),b.select(p.id,b.NgbSlideEventSource.INDICATOR)}),t.qZA()}if(2&n){const e=r.$implicit,o=t.oxw();t.ekj("active",e.id===o.activeId),t.uIk("aria-labelledby","slide-"+e.id)("aria-controls","slide-"+e.id)("aria-selected",e.id===o.activeId)}}function KC(n,r){}function qT(n,r){if(1&n&&(t.TgZ(0,"div",7)(1,"span",8),t.SDv(2,9),t.qZA(),t.YNc(3,KC,0,0,"ng-template",10),t.qZA()),2&n){const e=r.$implicit,o=r.index,l=r.count;t.Q6J("id","slide-"+e.id),t.xp6(2),t.pQV(o+1)(l),t.QtT(2),t.xp6(1),t.Q6J("ngTemplateOutlet",e.tplRef)}}function B1(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",11),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowLeft()}),t._UZ(1,"span",12),t.TgZ(2,"span",8),t.SDv(3,13),t.qZA()()}}function YC(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"a",14),t.NdJ("click",function(){return t.CHM(e),t.oxw().arrowRight()}),t._UZ(1,"span",15),t.TgZ(2,"span",8),t.SDv(3,16),t.qZA()()}}const ev=["dialog"];function yp(n){return null!=n}function Bg(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let r=this;if(!document.documentElement.contains(r))return null;do{if(r.matches(n))return r;r=r.parentElement||r.parentNode}while(null!==r&&1===r.nodeType);return null});const Z0={animation:!0,transitionTimerDelayMs:5},ub=()=>{},{transitionTimerDelayMs:lb}=Z0,Jh=new Map,Ms=(n,r,e,o)=>{let l=o.context||{};const p=Jh.get(r);if(p)switch(o.runningTransition){case"continue":return Wc.E;case"stop":n.run(()=>p.transition$.complete()),l=Object.assign(p.context,l),Jh.delete(r)}const b=e(r,o.animation,l)||ub;if(!o.animation||"none"===window.getComputedStyle(r).transitionProperty)return n.run(()=>b()),(0,Pn.of)(void 0).pipe(function cb(n){return r=>new Si.y(e=>r.subscribe({next:b=>n.run(()=>e.next(b)),error:b=>n.run(()=>e.error(b)),complete:()=>n.run(()=>e.complete())}))}(n));const x=new ci.x,k=new ci.x,Y=x.pipe(function c1(...n){return r=>Au(r,(0,Pn.of)(...n))}(!0));Jh.set(r,{transition$:x,complete:()=>{k.next(),k.complete()},context:l});const fe=function Pw(n){const{transitionDelay:r,transitionDuration:e}=window.getComputedStyle(n);return 1e3*(parseFloat(r)+parseFloat(e))}(r);return n.runOutsideAngular(()=>{const Ne=Ci(r,"transitionend").pipe(ro(Y),mi(({target:ze})=>ze===r));(function ky(...n){return 1===(n=Ry(n)).length?(0,It.Xf)(n[0]):new Si.y(function a1(n){return r=>{let e=[];for(let o=0;e&&!r.closed&&o<n.length;o++)e.push((0,It.Xf)(n[o]).subscribe((0,_r.x)(r,l=>{if(e){for(let p=0;p<e.length;p++)p!==o&&e[p].unsubscribe();e=null}r.next(l)})))}}(n))})(F0(fe+lb).pipe(ro(Y)),Ne,k).pipe(ro(Y)).subscribe(()=>{Jh.delete(r),n.run(()=>{b(),x.next(),x.complete()})})}),x.asObservable()};let D_=(()=>{class n{constructor(){this.animation=Z0.animation}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),_b=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),gv=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var Qh=(()=>{return(n=Qh||(Qh={})).START="start",n.END="end",Qh;var n})();const vb=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Y0=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},S_=n=>{Y0(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},hE=(n,r,{direction:e})=>{const{classList:o}=n;return r?(vb(n)?Y0(o):(o.add("carousel-item-"+(e===Qh.START?"next":"prev")),Bg(n),o.add("carousel-item-"+e)),()=>{S_(o),o.add("active")}):(Y0(o),S_(o),void o.add("active"))},fE=(n,r,{direction:e})=>{const{classList:o}=n;return r?(vb(n)?Y0(o):o.add("carousel-item-"+e),()=>{S_(o),o.remove("active")}):(Y0(o),S_(o),void o.remove("active"))};let Lw=(()=>{class n{constructor(e){this._ngbConfig=e,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pE=0,bb=(()=>{class n{constructor(e){this.tplRef=e,this.id="ngb-slide-"+pE++,this.slid=new t.vpe}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.Rgc))},n.\u0275dir=t.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),Uw=(()=>{class n{constructor(e,o,l,p,b){this._platformId=o,this._ngZone=l,this._cd=p,this._container=b,this.NgbSlideEventSource=Vg,this._destroy$=new ci.x,this._interval$=new ho(0),this._mouseHover$=new ho(!1),this._focused$=new ho(!1),this._pauseOnHover$=new ho(!1),this._pauseOnFocus$=new ho(!1),this._pause$=new ho(!1),this._wrap$=new ho(!1),this.slide=new t.vpe,this.slid=new t.vpe,this._transitionIds=null,this.animation=e.animation,this.interval=e.interval,this.wrap=e.wrap,this.keyboard=e.keyboard,this.pauseOnHover=e.pauseOnHover,this.pauseOnFocus=e.pauseOnFocus,this.showNavigationArrows=e.showNavigationArrows,this.showNavigationIndicators=e.showNavigationIndicators}set interval(e){this._interval$.next(e)}get interval(){return this._interval$.value}set wrap(e){this._wrap$.next(e)}get wrap(){return this._wrap$.value}set pauseOnHover(e){this._pauseOnHover$.next(e)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(e){this._pauseOnFocus$.next(e)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(e){this._mouseHover$.next(e)}get mouseHover(){return this._mouseHover$.value}set focused(e){this._focused$.next(e)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Vg.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Vg.ARROW_RIGHT)}ngAfterContentInit(){(function at(n){return n===We})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const e=xu([this.slide.pipe((0,er.U)(o=>o.current),mh(this.activeId)),this._wrap$,this.slides.changes.pipe(mh(null))]).pipe((0,er.U)(([o,l])=>{const p=this.slides.toArray(),b=this._getSlideIdxById(o);return l?p.length>1:b<p.length-1}),wc());xu([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,e]).pipe((0,er.U)(([o,l,p,b,x,k,Y])=>o||l&&p||b&&x||!Y?0:k),wc(),po(o=>o>0?F0(o,o):Fy),ro(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Vg.TIMER)))}),this.slides.changes.pipe(ro(this._destroy$)).subscribe(()=>{var e;null===(e=this._transitionIds)||void 0===e||e.forEach(o=>(n=>{var r;null===(r=Jh.get(n))||void 0===r||r.complete()})(this._getSlideElement(o))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,$i.q)(1)).subscribe(()=>{for(const{id:o}of this.slides){const l=this._getSlideElement(o);o===this.activeId?l.classList.add("active"):l.classList.remove("active")}})})}ngAfterContentChecked(){let e=this._getSlideById(this.activeId);this.activeId=e?e.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const e=this._getSlideElement(this.activeId);e&&e.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(e,o){this._cycleToSelected(e,this._getSlideEventDirection(this.activeId,e),o)}prev(e){this._cycleToSelected(this._getPrevSlide(this.activeId),Qh.END,e)}next(e){this._cycleToSelected(this._getNextSlide(this.activeId),Qh.START,e)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(e,o,l){const p=this._transitionIds;if(p&&(p[0]!==e||p[1]!==this.activeId))return;let b=this._getSlideById(e);if(b&&b.id!==this.activeId){this._transitionIds=[this.activeId,e],this.slide.emit({prev:this.activeId,current:b.id,direction:o,paused:this._pause$.value,source:l});const x={animation:this.animation,runningTransition:"stop",context:{direction:o}},k=[],Y=this._getSlideById(this.activeId);if(Y){const ze=Ms(this._ngZone,this._getSlideElement(Y.id),fE,x);ze.subscribe(()=>{Y.slid.emit({isShown:!1,direction:o,source:l})}),k.push(ze)}const fe=this.activeId;this.activeId=b.id;const Ne=this._getSlideById(this.activeId),Ye=Ms(this._ngZone,this._getSlideElement(b.id),hE,x);Ye.subscribe(()=>{null==Ne||Ne.slid.emit({isShown:!0,direction:o,source:l})}),k.push(Ye),l_(...k).pipe((0,$i.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:fe,current:b.id,direction:o,paused:this._pause$.value,source:l})})}this._cd.markForCheck()}_getSlideEventDirection(e,o){return this._getSlideIdxById(e)>this._getSlideIdxById(o)?Qh.END:Qh.START}_getSlideById(e){return this.slides.find(o=>o.id===e)||null}_getSlideIdxById(e){const o=this._getSlideById(e);return null!=o?this.slides.toArray().indexOf(o):-1}_getNextSlide(e){const o=this.slides.toArray(),l=this._getSlideIdxById(e);return l===o.length-1?this.wrap?o[0].id:o[o.length-1].id:o[l+1].id}_getPrevSlide(e){const o=this.slides.toArray(),l=this._getSlideIdxById(e);return 0===l?this.wrap?o[o.length-1].id:o[0].id:o[l-1].id}_getSlideElement(e){return this._container.nativeElement.querySelector(`#slide-${e}`)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Lw),t.Y36(t.Lbi),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(t.SBq))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(e,o,l){if(1&e&&t.Suo(l,bb,4),2&e){let p;t.iGM(p=t.CRH())&&(o.slides=p)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(e,o){1&e&&t.NdJ("keydown.arrowLeft",function(){return o.keyboard&&o.arrowLeft()})("keydown.arrowRight",function(){return o.keyboard&&o.arrowRight()})("mouseenter",function(){return o.mouseHover=!0})("mouseleave",function(){return o.mouseHover=!1})("focusin",function(){return o.focused=!0})("focusout",function(){return o.focused=!1}),2&e&&(t.uIk("aria-activedescendant","slide-"+o.activeId),t.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let r,e,o;return r=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,e=$localize`:@@ngb.carousel.previous:Previous`,o=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],r,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],e,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],o]},template:function(e,o){1&e&&(t.TgZ(0,"ol",0),t.YNc(1,y_,1,5,"li",1),t.qZA(),t.TgZ(2,"div",2),t.YNc(3,qT,4,4,"div",3),t.qZA(),t.YNc(4,B1,4,0,"a",4),t.YNc(5,YC,4,0,"a",5)),2&e&&(t.ekj("visually-hidden",!o.showNavigationIndicators),t.xp6(1),t.Q6J("ngForOf",o.slides),t.xp6(2),t.Q6J("ngForOf",o.slides),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows),t.xp6(1),t.Q6J("ngIf",o.showNavigationArrows))},directives:[ur,qr,Fe],encapsulation:2,changeDetection:0}),n})();var Vg=(()=>{return(n=Vg||(Vg={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",Vg;var n})();let x_=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),J0=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();var ns=(()=>{return(n=ns||(ns={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",ns;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const xb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ab(n){const r=Array.from(n.querySelectorAll(xb)).filter(e=>-1!==e.tabIndex);return[r[0],r[r.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let T=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee,Ko]]}),n})(),Wt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();class Qt{constructor(r,e,o){this.nodes=r,this.viewRef=e,this.componentRef=o}}let Rt=(()=>{class n{constructor(e,o){this._el=e,this._zone=o}ngOnInit(){this._zone.onStable.asObservable().pipe((0,$i.q)(1)).subscribe(()=>{Ms(this._zone,this._el.nativeElement,(e,o)=>{o&&Bg(e),e.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ms(this._zone,this._el.nativeElement,({classList:e})=>e.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(e,o){2&e&&(t.Tol("modal-backdrop"+(o.backdropClass?" "+o.backdropClass:"")),t.ekj("show",!o.animation)("fade",o.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(e,o){},encapsulation:2}),n})();class Qn{close(r){}dismiss(r){}}class Gr{constructor(r,e,o,l){this._windowCmptRef=r,this._contentRef=e,this._backdropCmptRef=o,this._beforeDismiss=l,this._closed=new ci.x,this._dismissed=new ci.x,this._hidden=new ci.x,r.instance.dismissEvent.subscribe(p=>{this.dismiss(p)}),this.result=new Promise((p,b)=>{this._resolve=p,this._reject=b}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(ro(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(ro(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(this._beforeDismiss){const e=this._beforeDismiss();!function Iw(n){return n&&n.then}(e)?!1!==e&&this._dismiss(r):e.then(o=>{!1!==o&&this._dismiss(r)},()=>{})}else this._dismiss(r)}_removeModalElements(){const r=this._windowCmptRef.instance.hide(),e=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,Pn.of)(void 0);r.subscribe(()=>{const{nativeElement:o}=this._windowCmptRef.location;o.parentNode.removeChild(o),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),e.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:o}=this._backdropCmptRef.location;o.parentNode.removeChild(o),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),l_(r,e).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var ri=(()=>{return(n=ri||(ri={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",ri;var n})();let Dc=(()=>{class n{constructor(e,o,l){this._document=e,this._elRef=o,this._zone=l,this._closed$=new ci.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new t.vpe,this.shown=new ci.x,this.hidden=new ci.x}dismiss(e){this.dismissEvent.emit(e)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,$i.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:e}=this._elRef,o={animation:this.animation,runningTransition:"stop"},b=l_(Ms(this._zone,e,()=>e.classList.remove("show"),o),Ms(this._zone,this._dialogEl.nativeElement,()=>{},o));return b.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),b}_show(){const e={animation:this.animation,runningTransition:"continue"};l_(Ms(this._zone,this._elRef.nativeElement,(p,b)=>{b&&Bg(p),p.classList.add("show")},e),Ms(this._zone,this._dialogEl.nativeElement,()=>{},e)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:e}=this._elRef;this._zone.runOutsideAngular(()=>{Ci(e,"keydown").pipe(ro(this._closed$),mi(l=>l.which===ns.Escape)).subscribe(l=>{this.keyboard?requestAnimationFrame(()=>{l.defaultPrevented||this._zone.run(()=>this.dismiss(ri.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let o=!1;Ci(this._dialogEl.nativeElement,"mousedown").pipe(ro(this._closed$),(0,ni.b)(()=>o=!1),po(()=>Ci(e,"mouseup").pipe(ro(this._closed$),(0,$i.q)(1))),mi(({target:l})=>e===l)).subscribe(()=>{o=!0}),Ci(e,"click").pipe(ro(this._closed$)).subscribe(({target:l})=>{e===l&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!o&&this._zone.run(()=>this.dismiss(ri.BACKDROP_CLICK))),o=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:e}=this._elRef;if(!e.contains(document.activeElement)){const o=e.querySelector("[ngbAutofocus]"),l=Ab(e)[0];(o||l||e).focus()}}_restoreFocus(){const e=this._document.body,o=this._elWithFocus;let l;l=o&&o.focus&&e.contains(o)?o:e,this._zone.runOutsideAngular(()=>{setTimeout(()=>l.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ms(this._zone,this._elRef.nativeElement,({classList:e})=>(e.add("modal-static"),()=>e.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36($),t.Y36(t.SBq),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(e,o){if(1&e&&t.Gf(ev,7),2&e){let l;t.iGM(l=t.CRH())&&(o._dialogEl=l.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(e,o){2&e&&(t.uIk("aria-modal",!0)("aria-labelledby",o.ariaLabelledBy)("aria-describedby",o.ariaDescribedBy),t.Tol("modal d-block"+(o.windowClass?" "+o.windowClass:"")),t.ekj("fade",o.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Lg,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(e,o){1&e&&(t.F$t(),t.TgZ(0,"div",0,1)(2,"div",2),t.Hsn(3),t.qZA()()),2&e&&t.Tol("modal-dialog"+(o.size?" modal-"+o.size:"")+(o.centered?" modal-dialog-centered":"")+(o.scrollable?" modal-dialog-scrollable":"")+(o.modalDialogClass?" "+o.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),Cp=(()=>{class n{constructor(e){this._document=e}hide(){const e=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),o=this._document.body,l=o.style,{overflow:p,paddingRight:b}=l;if(e>0){const x=parseFloat(window.getComputedStyle(o).paddingRight);l.paddingRight=`${x+e}px`}return l.overflow="hidden",()=>{e>0&&(l.paddingRight=b),l.overflow=p}}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Pv=(()=>{class n{constructor(e,o,l,p,b,x){this._applicationRef=e,this._injector=o,this._document=l,this._scrollBar=p,this._rendererFactory=b,this._ngZone=x,this._activeWindowCmptHasChanged=new ci.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new t.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const k=this._windowCmpts[this._windowCmpts.length-1];((n,r,e,o=!1)=>{this._ngZone.runOutsideAngular(()=>{const l=Ci(r,"focusin").pipe(ro(e),(0,er.U)(p=>p.target));Ci(r,"keydown").pipe(ro(e),mi(p=>p.which===ns.Tab),d_(l)).subscribe(([p,b])=>{const[x,k]=Ab(r);(b===x||b===r)&&p.shiftKey&&(k.focus(),p.preventDefault()),b===k&&!p.shiftKey&&(x.focus(),p.preventDefault())}),o&&Ci(r,"click").pipe(ro(e),d_(l),(0,er.U)(p=>p[1])).subscribe(p=>p.focus())})})(0,k.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(k.location.nativeElement)}})}open(e,o,l,p){const b=p.container instanceof HTMLElement?p.container:yp(p.container)?this._document.querySelector(p.container):this._document.body,x=this._rendererFactory.createRenderer(null,null),k=this._scrollBar.hide(),Y=()=>{this._modalRefs.length||(x.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!b)throw new Error(`The specified modal container "${p.container||"body"}" was not found in the DOM.`);const fe=new Qn,Ne=this._getContentRef(e,p.injector||o,l,fe,p);let Ye=!1!==p.backdrop?this._attachBackdrop(e,b):void 0,ze=this._attachWindowComponent(e,b,Ne),ft=new Gr(ze,Ne,Ye,p.beforeDismiss);return this._registerModalRef(ft),this._registerWindowCmpt(ze),ft.result.then(k,k),ft.result.then(Y,Y),fe.close=vt=>{ft.close(vt)},fe.dismiss=vt=>{ft.dismiss(vt)},this._applyWindowOptions(ze.instance,p),1===this._modalRefs.length&&x.addClass(this._document.body,"modal-open"),Ye&&Ye.instance&&(this._applyBackdropOptions(Ye.instance,p),Ye.changeDetectorRef.detectChanges()),ze.changeDetectorRef.detectChanges(),ft}get activeInstances(){return this._activeInstances}dismissAll(e){this._modalRefs.forEach(o=>o.dismiss(e))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(e,o){let p=e.resolveComponentFactory(Rt).create(this._injector);return this._applicationRef.attachView(p.hostView),o.appendChild(p.location.nativeElement),p}_attachWindowComponent(e,o,l){let b=e.resolveComponentFactory(Dc).create(this._injector,l.nodes);return this._applicationRef.attachView(b.hostView),o.appendChild(b.location.nativeElement),b}_applyWindowOptions(e,o){this._windowAttributes.forEach(l=>{yp(o[l])&&(e[l]=o[l])})}_applyBackdropOptions(e,o){this._backdropAttributes.forEach(l=>{yp(o[l])&&(e[l]=o[l])})}_getContentRef(e,o,l,p,b){return l?l instanceof t.Rgc?this._createFromTemplateRef(l,p):function uv(n){return"string"==typeof n}(l)?this._createFromString(l):this._createFromComponent(e,o,l,p,b):new Qt([])}_createFromTemplateRef(e,o){const p=e.createEmbeddedView({$implicit:o,close(b){o.close(b)},dismiss(b){o.dismiss(b)}});return this._applicationRef.attachView(p),new Qt([p.rootNodes],p)}_createFromString(e){const o=this._document.createTextNode(`${e}`);return new Qt([[o]])}_createFromComponent(e,o,l,p,b){const x=e.resolveComponentFactory(l),k=t.zs3.create({providers:[{provide:Qn,useValue:p}],parent:o}),Y=x.create(k),fe=Y.location.nativeElement;return b.scrollable&&fe.classList.add("component-host-scrollable"),this._applicationRef.attachView(Y.hostView),new Qt([[fe]],Y.hostView,Y)}_setAriaHidden(e){const o=e.parentElement;o&&e!==this._document.body&&(Array.from(o.children).forEach(l=>{l!==e&&"SCRIPT"!==l.nodeName&&(this._ariaHiddenValues.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}),this._setAriaHidden(o))}_revertAriaHidden(){this._ariaHiddenValues.forEach((e,o)=>{e?o.setAttribute("aria-hidden",e):o.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(e){const o=()=>{const l=this._modalRefs.indexOf(e);l>-1&&(this._modalRefs.splice(l,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(e),this._activeInstances.emit(this._modalRefs),e.result.then(o,o)}_registerWindowCmpt(e){this._windowCmpts.push(e),this._activeWindowCmptHasChanged.next(),e.onDestroy(()=>{const o=this._windowCmpts.indexOf(e);o>-1&&(this._windowCmpts.splice(o,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.z2F),t.LFG(t.zs3),t.LFG($),t.LFG(Cp),t.LFG(t.FYo),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Mv=(()=>{class n{constructor(e){this._ngbConfig=e,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(e){this._animation=e}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(D_))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ov=(()=>{class n{constructor(e,o,l,p){this._moduleCFR=e,this._injector=o,this._modalStack=l,this._config=p}open(e,o={}){const l=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),o);return this._modalStack.open(this._moduleCFR,this._injector,e,l)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(e){this._modalStack.dismissAll(e)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t._Vd),t.LFG(t.zs3),t.LFG(Pv),t.LFG(Mv))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ny=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[Ov]}),n})(),GE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),YE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),QE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),XE=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),eD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),tD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),nD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})(),rD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})();new t.OlP("live announcer delay",{providedIn:"root",factory:function qS(){return 100}});let iD=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[[Ee]]}),n})();const ZS=[hv,_b,gv,x_,J0,T,Wt,ny,GE,YE,QE,XE,eD,tD,nD,rD,iD];let zS=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[ZS,hv,_b,gv,x_,J0,T,Wt,ny,GE,YE,QE,XE,eD,tD,nD,rD,iD]}),n})(),Xh=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Qs.r),t.LFG(fi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),dT=(()=>{class n{constructor(e,o){this.loginService=e,this.router=o}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Qs.r),t.LFG(fi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const Po=void 0,KS=["es",[["a.\xa0m.","p.\xa0m."],Po,Po],Po,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Po,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Po,[["a. C.","d. C."],Po,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Po,"{1}, {0}",Po],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Po,"$"],BRL:[Po,"R$"],CAD:[Po,"$"],CNY:[Po,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Po,"\xa3"],HKD:[Po,"$"],ILS:[Po,"\u20aa"],INR:[Po,"\u20b9"],JPY:[Po,"\xa5"],KRW:[Po,"\u20a9"],MXN:[Po,"$"],NZD:[Po,"$"],PHP:[Po,"\u20b1"],RON:[Po,"L"],THB:["\u0e3f"],TWD:[Po,"NT$"],USD:["US$","$"],XAF:[],XCD:[Po,"$"],XOF:[]},"ltr",function WS(n){return 1===n?1:5}];function YS(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"login.registerError")))}function JS(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"login.passwordsDifferentError")))}function QS(n,r){1&n&&(t.TgZ(0,"small"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"login.passwordLengthError")))}function XS(n,r){if(1&n&&(t.TgZ(0,"span",18),t.YNc(1,YS,3,3,"small",19),t.YNc(2,JS,3,3,"small",19),t.YNc(3,QS,3,3,"small",19),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.registerError),t.xp6(1),t.Q6J("ngIf",!e.validatePasswords()&&e.user.passwordRepeat.length>5&&e.user.password.length>5),t.xp6(1),t.Q6J("ngIf",!e.validatePasswords()&&(e.user.passwordRepeat.length<6||e.user.password.length<6))}}const ex=function(n){return{disabled:n}};let tx=(()=>{class n{constructor(e,o,l){this.firestoreAuthService=e,this.loginService=o,this.router=l,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.register(e,o).then(l=>{if(l){console.log(l);const p={email:this.user.email};alert("Register ok!"),this.loginService.login(p),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var e,o,l,p,b,x;return(null===(o=null===(e=this.user)||void 0===e?void 0:e.password)||void 0===o?void 0:o.length)>5&&(null===(p=null===(l=this.user)||void 0===l?void 0:l.passwordRepeat)||void 0===p?void 0:p.length)>5&&(null===(b=this.user)||void 0===b?void 0:b.password)===(null===(x=this.user)||void 0===x?void 0:x.passwordRepeat)}canAccess(){var e;return this.user.email.length>0&&(null===(e=this.validateEmail(this.user.email))||void 0===e?void 0:e.length)>0}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(sp),t.Y36(Qs.r),t.Y36(fi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA()()(),t.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.TgZ(13,"input",9),t.NdJ("ngModelChange",function(p){return o.user.email=p}),t.ALo(14,"translate"),t.qZA()(),t.TgZ(15,"div",7)(16,"label",10),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.TgZ(19,"input",11),t.NdJ("ngModelChange",function(p){return o.user.password=p}),t.ALo(20,"translate"),t.qZA()(),t.TgZ(21,"div",7)(22,"label",12),t._uU(23),t.ALo(24,"translate"),t.qZA(),t.TgZ(25,"input",13),t.NdJ("ngModelChange",function(p){return o.user.passwordRepeat=p}),t.ALo(26,"translate"),t.qZA()(),t.YNc(27,XS,4,3,"span",14),t.qZA()()(),t.TgZ(28,"div",15)(29,"button",16),t.NdJ("click",function(){return o.register()}),t._uU(30),t.ALo(31,"translate"),t.qZA(),t.TgZ(32,"button",17),t.NdJ("click",function(){return o.goToLogin()}),t._uU(33),t.ALo(34,"translate"),t.qZA()()()),2&e&&(t.xp6(4),t.hij(" ",t.lcZ(5,14,"login.registering")," "),t.xp6(7),t.Oqu(t.lcZ(12,16,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(14,18,"login.email")),t.Q6J("ngModel",o.user.email),t.xp6(4),t.Oqu(t.lcZ(18,20,"login.password")),t.xp6(2),t.s9C("placeholder",t.lcZ(20,22,"login.password")),t.Q6J("ngModel",o.user.password),t.xp6(4),t.Oqu(t.lcZ(24,24,"login.passwordRepeat")),t.xp6(2),t.s9C("placeholder",t.lcZ(26,26,"login.passwordRepeat")),t.Q6J("ngModel",o.user.passwordRepeat),t.xp6(2),t.Q6J("ngIf",o.canAccess()&&(o.registerError||!o.validatePasswords())),t.xp6(2),t.Q6J("ngClass",t.VKq(32,ex,!o.canAccess()||!o.validatePasswords())),t.xp6(1),t.hij(" ",t.lcZ(31,28,"login.doRegister")," "),t.xp6(3),t.hij(" ",t.lcZ(34,30,"commons.back")," "))},directives:[Xr,Su,Ri,ls,Fe,Ir],pipes:[ts],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();function nx(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.cheap")))}function rx(n,r){1&n&&(t.TgZ(0,"div",7)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shopStandings.title.expensive")))}function ix(n,r){1&n&&t.GkF(0)}function ox(n,r){if(1&n&&(t.TgZ(0,"li")(1,"div",19),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.qZA()()()),2&n){const e=r.$implicit;t.xp6(4),t.AsE("",e.name," (",e.brand,")")}}function sx(n,r){if(1&n&&(t.TgZ(0,"tr")(1,"td",17)(2,"ul",18),t.YNc(3,ox,5,2,"li",12),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(3),t.Q6J("ngForOf",null==e?null:e.products)}}const ax=function(n){return{active:n}};function cx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"tr")(2,"td",13),t._uU(3),t.qZA(),t.TgZ(4,"td",14),t._uU(5),t.qZA(),t.TgZ(6,"td",11),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"td")(10,"i",15),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return p.showProducts=!p.showProducts}),t.qZA()()(),t.YNc(11,sx,4,1,"tr",16),t.BQk()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(2);t.xp6(3),t.Oqu(o+1),t.xp6(2),t.Oqu(l.getShopName(e.shopId)),t.xp6(2),t.Oqu(t.xi3(8,5,e.times,"1.0-2")),t.xp6(3),t.Q6J("ngClass",t.VKq(8,ax,e.showProducts)),t.xp6(1),t.Q6J("ngIf",e.showProducts)}}function ux(n,r){if(1&n&&(t.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),t._uU(5,"#"),t.qZA(),t.TgZ(6,"th"),t._uU(7),t.ALo(8,"translate"),t.qZA(),t.TgZ(9,"th",11),t._uU(10),t.ALo(11,"translate"),t.qZA(),t._UZ(12,"th"),t.qZA()(),t.TgZ(13,"tbody"),t.YNc(14,cx,12,10,"ng-container",12),t.qZA()()()),2&n){const e=t.oxw();t.xp6(7),t.Oqu(t.lcZ(8,3,"shopStandings.shop")),t.xp6(3),t.Oqu(t.lcZ(11,5,"shopStandings.numProducts")),t.xp6(4),t.Q6J("ngForOf",e.standings)}}function lx(n,r){1&n&&(t.TgZ(0,"div",22),t._UZ(1,"i",23),t.TgZ(2,"small",24),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shopStandings.noDataEnough")))}function dx(n,r){1&n&&(t.TgZ(0,"small",29),t._UZ(1,"span",30),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij("",t.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function hx(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"i",26),t.TgZ(2,"div",27)(3,"small",28),t._uU(4),t.ALo(5,"translate"),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"small",29),t._UZ(8,"span",30),t.TgZ(9,"span"),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.YNc(12,dx,5,3,"small",31),t.qZA()()),2&n){const e=t.oxw();t.xp6(4),t.AsE("",t.lcZ(5,4,"shopStandings.noResults"),". ",t.lcZ(6,6,"shopStandings.possibleReasons"),":"),t.xp6(6),t.hij("",t.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),t.xp6(2),t.Q6J("ngIf",e.onlyFavourites)}}let fx=(()=>{class n{constructor(e,o,l){this.shopProductService=e,this.shopService=o,this.productService=l,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const e=[],o=[],l=[];this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&e.indexOf(p.productBarcode)<0&&e.push(p.productBarcode)}),this.shopsProducts.forEach(p=>{(!this.onlyFavourites||this.isFavouriteProduct(p.productBarcode))&&o.indexOf(p.shopId)<0&&o.push(p.shopId)}),(e.length>1||o.length>1)&&e.forEach(p=>{const b=this.shopsProducts.filter(k=>k.productBarcode===p),x=[];if(b.forEach(k=>{x.indexOf(k.shopId)<0&&x.push(k.shopId)}),x.length>1){const k=this.shopsProducts.filter(ze=>ze.productBarcode===p);let Y=[];x.forEach(ze=>{Y.push(k.filter(ft=>ft.shopId===ze)[0])}),Y=Y.sort((ze,ft)=>ze.updateDate>ft.updateDate?-1:1);const fe=Y.sort((ze,ft)=>ze.price>ft.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Ye=[];if(Y.length>1&&fe[0].price!==fe[fe.length-1].price){const ze=Y[0].price,ft=this.productService._products.find(vt=>Y[0].productBarcode===vt.barcode);Ye=Y.filter(vt=>vt.price===ze).map(vt=>vt.shopId),Ye.forEach(vt=>{const Kt=l.findIndex(dn=>dn.shopId===vt);Kt>=0?(l[Kt].times++,l[Kt].products.push(ft)):l.push({shopId:vt,times:1,products:[ft],showProducts:!1})})}}}),this.standings=l.sort((p,b)=>p.times>b.times?-1:1)}getShopName(e){var o;return null===(o=this.shops.find(l=>l.id===e))||void 0===o?void 0:o.name}isFavouriteProduct(e){return this.favouriteProductBarcodes.indexOf(e)>=0}ngOnChanges(e){e.onlyFavourites&&!e.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name>l.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e.sort((o,l)=>o.updateDate>l.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(ju),t.Y36(ba.d),t.Y36(ec.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[t.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,nx,4,3,"div",2),t.YNc(3,rx,4,3,"div",2),t.YNc(4,ix,1,0,"ng-container",3),t.YNc(5,ux,15,7,"div",4),t.qZA()(),t.YNc(6,lx,5,3,"ng-template",null,5,t.W1O),t.YNc(8,hx,13,10,"ng-template",null,6,t.W1O)),2&e){const l=t.MAs(7),p=t.MAs(9);t.xp6(2),t.Q6J("ngIf","CHEAP"===o.target),t.xp6(1),t.Q6J("ngIf","EXPENSIVE"===o.target),t.xp6(1),t.Q6J("ngIf",o.shopsProducts.length>0)("ngIfElse",l),t.xp6(1),t.Q6J("ngIf",(null==o.standings?null:o.standings.length)>0)("ngIfElse",p)}},directives:[Fe,ur,Ir],pipes:[ts,O],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function px(n,r){1&n&&t.GkF(0)}function gx(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",8)(1,"span",9),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",10),t.TgZ(3,"span",11),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",12),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",13),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.analysis")))}let mx=(()=>{class n{constructor(e,o,l){this.router=e,this.spinner=o,this.productService=l,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ta),t.Y36(ec.M))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,px,1,0,"ng-container",1),t.TgZ(2,"div",2)(3,"input",3),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(4,"label",4),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"div",5),t._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),t.qZA(),t.YNc(10,gx,11,6,"ng-template",null,7,t.W1O)),2&e){const l=t.MAs(11);t.xp6(1),t.Q6J("ngTemplateOutlet",l),t.xp6(2),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(6,7,"commons.onlyFavouriteProducts")),t.xp6(3),t.Q6J("onlyFavourites",o.onlyFavourites)("target","CHEAP"),t.xp6(1),t.Q6J("onlyFavourites",o.onlyFavourites)("target","EXPENSIVE")}},directives:[qr,Do,Ri,ls,fx],pipes:[ts],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function _x(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",14),t.TgZ(6,"span",15),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"small",16),t._uU(10),t.ALo(11,"translate"),t.qZA()()()()(),t.TgZ(12,"div",11)(13,"button",17),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleProductList()}),t.TgZ(14,"div",8)(15,"div",13),t._UZ(16,"i",18),t.TgZ(17,"span",15),t._uU(18),t.ALo(19,"number"),t.qZA(),t.TgZ(20,"small",16),t._uU(21),t.ALo(22,"translate"),t.qZA()()()()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(7),t.Oqu(t.xi3(8,4,null==e.shops?null:e.shops.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(11,7,"home.shops")),t.xp6(8),t.Oqu(t.xi3(19,9,null==e.products?null:e.products.length,"1.0-2")),t.xp6(3),t.Oqu(t.lcZ(22,12,"home.products"))}}function yx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleShopList()}),t.TgZ(3,"div",8)(4,"div",13),t._UZ(5,"i",20),t.TgZ(6,"small",16),t._uU(7),t.ALo(8,"translate"),t.qZA()()()()(),t.TgZ(9,"div",11)(10,"button",21),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).toggleStatistics()}),t.TgZ(11,"div",8)(12,"div",13),t._UZ(13,"i",22),t.TgZ(14,"small",16),t._uU(15),t.ALo(16,"translate"),t.qZA()()()()(),t.BQk()}2&n&&(t.xp6(7),t.Oqu(t.lcZ(8,2,"home.alerts")),t.xp6(8),t.Oqu(t.lcZ(16,4,"home.analysis")))}function vx(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",2)(2,"div",3)(3,"div",4),t.YNc(4,_x,23,14,"ng-container",5),t.qZA(),t.TgZ(5,"div",6)(6,"button",7),t.NdJ("click",function(){return t.CHM(e),t.oxw().scan()}),t.TgZ(7,"div",8),t._UZ(8,"i",9),t.TgZ(9,"div",10),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"small"),t._uU(13),t.ALo(14,"translate"),t.qZA()()()(),t.TgZ(15,"div",4),t.YNc(16,yx,17,6,"ng-container",5),t.qZA()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.products.length>0),t.xp6(6),t.Oqu(t.lcZ(11,4,"home.scan")),t.xp6(3),t.Oqu(t.lcZ(14,6,"home.here")),t.xp6(3),t.Q6J("ngIf",e.products.length>0)}}function bx(n,r){1&n&&(t.TgZ(0,"div",23),t._uU(1," Carregant... "),t.qZA())}let Cx=(()=>{class n{constructor(e,o,l,p){this.router=e,this.productService=o,this.shopService=l,this.spinner=p}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(e=>{this.spinner.show(),this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(e=>{this.spinner.show(),this.products=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shops=this.shopService._shops,this.products=this.productService._products,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ec.M),t.Y36(ba.d),t.Y36(ta))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"click"],[1,"fas","fa-triangle-exclamation","mb-3"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.YNc(0,vx,17,8,"ng-container",0),t.YNc(1,bx,2,0,"ng-template",null,1,t.W1O)),2&e){const l=t.MAs(2);t.Q6J("ngIf",o.products&&o.shops)("ngIfElse",l)}},directives:[Fe],pipes:[O,ts],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function wx(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2);t.Q6J("src",e.getImageUrl(e.currentLanguage),t.LSH)}}function Tx(n,r){if(1&n&&t._UZ(0,"img",7),2&n){const e=t.oxw(2).$implicit,o=t.oxw(2);t.Q6J("src",o.getImageUrl(e),t.LSH)}}function Ex(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",9),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(2).setLanguage(l)}),t.TgZ(1,"div",10),t.YNc(2,Tx,1,1,"img",4),t.TgZ(3,"span"),t._uU(4),t.qZA()()()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(2);t.xp6(2),t.Q6J("ngIf",o.languageImages),t.xp6(2),t.Oqu(o.getLabel(e))}}function Dx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ex,5,2,"li",8),t.BQk()),2&n){const e=r.$implicit,o=t.oxw(2);t.xp6(1),t.Q6J("ngIf",o.currentLanguage!==e)}}function Sx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2)(3,"button",3),t.YNc(4,wx,1,1,"img",4),t.qZA(),t.TgZ(5,"ul",5),t.YNc(6,Dx,2,1,"ng-container",6),t.qZA()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",e.languageImages),t.xp6(2),t.Q6J("ngForOf",e.languages)}}let oD=(()=>{class n{constructor(e,o){this.translate=e,this.translationsService=o}setLanguage(e){this.currentLanguage=e,this.translate.use(e),localStorage.setItem(zc.M.PS_APP_LANGUAGE,e)}getImageUrl(e){return this.languageImages.find(o=>o.language===e).imageUrl}getLabel(e){return this.languageImages.find(o=>o.language===e).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(e=>({language:e.language,imageUrl:e.imageUrl,name:e.name}))}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Cc),t.Y36(Jm))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(e,o){1&e&&t.YNc(0,Sx,7,2,"ng-container",0),2&e&&t.Q6J("ngIf",o.currentLanguage&&o.languages)},directives:[Fe,ur],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function xx(n,r){if(1&n&&(t.TgZ(0,"div",4),t._UZ(1,"i"),t.TgZ(2,"div",5)(3,"strong",6),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"small",7),t._uU(7),t.ALo(8,"translate"),t.qZA()()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Tol(e.iconClass),t.xp6(3),t.Oqu(t.lcZ(5,4,e.title)),t.xp6(3),t.Oqu(t.lcZ(8,6,e.text))}}function Ax(n,r){1&n&&(t.ynx(0),t.YNc(1,xx,9,8,"ng-template",3),t.BQk())}function Ix(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ngb-carousel"),t.YNc(2,Ax,2,0,"ng-container",2),t.qZA(),t.BQk()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngForOf",e.slides)}}let Px=(()=>{class n{constructor(e,o){this.translate=o,e.interval=7e3,e.wrap=!0,e.keyboard=!1,e.pauseOnHover=!1,e.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"}]}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Lw),t.Y36(Cc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,Ix,3,1,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf",o.slides))},directives:[Fe,Uw,ur,bb],pipes:[ts],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function Mx(n,r){1&n&&(t.TgZ(0,"span",23)(1,"small"),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"login.error")))}function Ox(n,r){}function Nx(n,r){1&n&&t.YNc(0,Ox,0,0,"ng-template")}function Rx(n,r){1&n&&(t.TgZ(0,"div",24),t._UZ(1,"app-carousel"),t.qZA())}const kx=function(n){return{disabled:n}},Fx=function(){return["/register"]};let Lx=(()=>{class n{constructor(e,o,l){this.loginService=e,this.firestoreAuthService=o,this.router=l,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.login(e,o).then(l=>{console.log(l),l?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:e,password:o}=this.user;this.firestoreAuthService.loginWithGoogle(e,o).then(l=>{l?(console.log(l),this.loginService.login({username:l.user.displayName,email:l.user.email,photoURL:l.user.photoURL}),this.router.navigate(["home"])):this.loginError=!0})}validateEmail(e){return String(e).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Qs.r),t.Y36(sp),t.Y36(fi))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),t._uU(4),t.ALo(5,"translate"),t.qZA(),t._UZ(6,"app-language-selector"),t.qZA(),t.TgZ(7,"small",4),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"input",10),t.NdJ("ngModelChange",function(p){return o.user.email=p}),t.ALo(18,"translate"),t.qZA()(),t.TgZ(19,"div",8)(20,"label",11),t._uU(21),t.ALo(22,"translate"),t.qZA(),t.TgZ(23,"input",12),t.NdJ("ngModelChange",function(p){return o.user.password=p}),t.ALo(24,"translate"),t.qZA()(),t.YNc(25,Mx,4,3,"span",13),t.qZA()()(),t.TgZ(26,"div",14)(27,"button",15),t.NdJ("click",function(){return o.login()}),t._uU(28),t.ALo(29,"translate"),t.qZA(),t.TgZ(30,"button",16),t.NdJ("click",function(){return o.loginGoogle()}),t._UZ(31,"img",17),t._uU(32),t.ALo(33,"translate"),t.qZA(),t.TgZ(34,"label",18)(35,"small",19),t._uU(36),t.ALo(37,"translate"),t.qZA(),t.TgZ(38,"a",20),t._uU(39),t.ALo(40,"translate"),t.qZA()()(),t.YNc(41,Nx,1,0,null,21),t.qZA(),t.YNc(42,Rx,2,0,"ng-template",null,22,t.W1O)),2&e){const l=t.MAs(43);t.xp6(4),t.hij(" ",t.lcZ(5,16,"login.welcome")," "),t.xp6(4),t.Oqu(t.lcZ(9,18,"login.welcome.subtitle")),t.xp6(7),t.Oqu(t.lcZ(16,20,"login.email")),t.xp6(2),t.s9C("placeholder",t.lcZ(18,22,"login.email")),t.Q6J("ngModel",o.user.email),t.xp6(4),t.Oqu(t.lcZ(22,24,"login.password")),t.xp6(2),t.s9C("placeholder",t.lcZ(24,26,"login.password")),t.Q6J("ngModel",o.user.password),t.xp6(2),t.Q6J("ngIf",o.loginError),t.xp6(2),t.Q6J("ngClass",t.VKq(36,kx,!o.canAccess())),t.xp6(1),t.hij(" ",t.lcZ(29,28,"login.access")," "),t.xp6(4),t.hij(" ",t.lcZ(33,30,"login.accessGoogle")," "),t.xp6(4),t.Oqu(t.lcZ(37,32,"login.notAccount")),t.xp6(2),t.Q6J("routerLink",t.DdM(38,Fx)),t.xp6(1),t.Oqu(t.lcZ(40,34,"login.register")),t.xp6(2),t.Q6J("ngTemplateOutlet",l)}},directives:[oD,Xr,Su,Ri,ls,Fe,Ir,Xa,qr,Px],pipes:[ts],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),n})();var kv=(()=>{return(n=kv||(kv={})).CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT",kv;var n})();let sD=(()=>{class n{constructor(e){this.http=e}loadProduct(e){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+e+".json")}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(k0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ux(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",6),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function Bx(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,Ux,2,1,"ng-container",0),t.TgZ(4,"div",3)(5,"h5",4),t._uU(6),t.qZA(),t.TgZ(7,"p",5),t._uU(8),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.imageUrl),t.xp6(3),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.brand," ")}}let Vx=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(e,o){1&e&&t.YNc(0,Bx,9,3,"ng-container",0),2&e&&t.Q6J("ngIf",o.name||o.brand||o.imageUrl)},directives:[Fe],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const jx=["priceInput"];function Gx(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",16),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.init")))}function Hx(n,r){1&n&&(t.TgZ(0,"div",15),t._UZ(1,"i",18),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.initError")))}function $x(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),t.NdJ("valueChanges",function(l){return t.CHM(e),t.oxw().onValueChanges(l)})("started",function(l){return t.CHM(e),t.oxw().onStarted(l)}),t.qZA(),t.YNc(3,Gx,5,3,"div",14),t.YNc(4,Hx,5,3,"div",14),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",!e.barcodeScannerStarted),t.xp6(1),t.Q6J("ngIf",e.barcodeScannerError)}}function qx(n,r){if(1&n&&(t.TgZ(0,"div")(1,"span"),t._uU(2),t.ALo(3,"translate"),t.qZA(),t.TgZ(4,"span",22),t._uU(5),t.qZA()()),2&n){const e=t.oxw(2);t.xp6(2),t.hij("",t.lcZ(3,2,"scanner.code"),":"),t.xp6(3),t.Oqu(e.barcodeValue)}}function Zx(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.productRegistered")))}function zx(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",23),t.YNc(2,Zx,3,3,"span",0),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.isSavedProduct)}}function Wx(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",24),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.BQk()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotRegistered")))}function Kx(n,r){1&n&&(t.ynx(0),t.TgZ(1,"div",25)(2,"div",26),t._UZ(3,"i",27),t.TgZ(4,"span"),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.BQk()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,1,"scanner.productUnknown")))}function Yx(n,r){if(1&n&&(t.TgZ(0,"div",19)(1,"div",20),t.YNc(2,qx,6,4,"div",0),t.TgZ(3,"div",21)(4,"small"),t.YNc(5,zx,3,1,"ng-container",0),t.YNc(6,Wx,5,3,"ng-container",0),t.YNc(7,Kx,7,3,"ng-container",0),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound),t.xp6(3),t.Q6J("ngIf",e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.isSavedProduct&&!e.openFoodProductFound)}}function Jx(n,r){1&n&&t.GkF(0)}function Qx(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Jx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(5);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Xx(n,r){1&n&&t.GkF(0)}function eA(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Xx,1,0,"ng-container",28),t.BQk()),2&n){t.oxw(2);const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function tA(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Qx,2,1,"ng-container",0),t.YNc(2,eA,2,1,"ng-container",0),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound||e.isSavedProduct),t.xp6(1),t.Q6J("ngIf",!e.loadingOpenFoodProduct&&!e.isSavedProduct&&!e.openFoodProductFound)}}function nA(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",e.savedProduct.name)("brand",e.savedProduct.brand)("imageUrl",e.savedProduct.imageUrl)}}function rA(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name",null==e.openFoodProduct.product?null:e.openFoodProduct.product.product_name)("brand",null==e.openFoodProduct.product?null:e.openFoodProduct.product.brands)("imageUrl",null==e.openFoodProduct.product?null:e.openFoodProduct.product.image_url)}}function iA(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"app-product-scan-result",29),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("name","?")("brand","?")("imageUrl",e.DEFAULT_IMAGE_URL)}}function oA(n,r){1&n&&t.GkF(0)}function sA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t.YNc(2,oA,1,0,"ng-container",28),t.qZA(),t.BQk()),2&n){t.oxw(2);const e=t.MAs(10);t.xp6(2),t.Q6J("ngTemplateOutlet",e)}}function aA(n,r){if(1&n&&(t.YNc(0,nA,2,3,"ng-container",0),t.YNc(1,rA,2,3,"ng-container",0),t.YNc(2,iA,2,3,"ng-container",0),t.YNc(3,sA,3,1,"ng-container",0)),2&n){const e=t.oxw();t.Q6J("ngIf",e.savedProduct),t.xp6(1),t.Q6J("ngIf",e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",!e.savedProduct&&!e.openFoodProductFound),t.xp6(1),t.Q6J("ngIf",e.mode===e.ProductScanModeEnum.CREATE)}}function cA(n,r){1&n&&t.GkF(0)}function uA(n,r){if(1&n&&(t.TgZ(0,"div",31),t.YNc(1,cA,1,0,"ng-container",28),t.qZA()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function lA(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const aD=function(n){return{disabled:n}};function dA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",34),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"input",35),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.barcode=l}),t.qZA()(),t.TgZ(6,"div",33)(7,"label",36),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",37),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.name=l}),t.qZA()(),t.TgZ(11,"div",33)(12,"label",38),t._uU(13),t.ALo(14,"translate"),t.qZA(),t.TgZ(15,"input",39),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().newProduct.brand=l}),t.qZA()()(),t.TgZ(16,"div",32)(17,"div",33)(18,"label",40),t._uU(19),t.ALo(20,"translate"),t.qZA(),t.TgZ(21,"select",41),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(22,"option"),t.YNc(23,lA,2,2,"option",42),t.qZA()(),t.TgZ(24,"div",33)(25,"label",43),t._uU(26),t.ALo(27,"translate"),t.qZA(),t.TgZ(28,"input",44,45),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.price=l}),t.qZA()()(),t.TgZ(30,"button",46),t.NdJ("click",function(){return t.CHM(e),t.oxw().createProduct()}),t._UZ(31,"i",47),t.TgZ(32,"span"),t._uU(33),t.ALo(34,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,17,"scanner.code")),t.xp6(2),t.s9C("value",e.newProduct.barcode),t.Q6J("ngModel",e.newProduct.barcode),t.xp6(3),t.Oqu(t.lcZ(9,19,"scanner.name")),t.xp6(2),t.s9C("value",e.newProduct.name),t.Q6J("ngModel",e.newProduct.name),t.xp6(3),t.Oqu(t.lcZ(14,21,"scanner.brand")),t.xp6(2),t.s9C("value",e.newProduct.brand),t.Q6J("ngModel",e.newProduct.brand),t.xp6(4),t.Oqu(t.lcZ(20,23,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(27,25,"scanner.proce")),t.xp6(2),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(29,aD,!e.canCreateProductAndPrice())),t.xp6(3),t.Oqu(t.lcZ(34,27,"scanner.productPriceSave"))}}function hA(n,r){if(1&n&&(t.TgZ(0,"option",48),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function fA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",32)(1,"div",33)(2,"label",40),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"select",41),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(6,"option"),t.YNc(7,hA,2,2,"option",42),t.qZA()(),t.TgZ(8,"div",33)(9,"label",43),t._uU(10,"Preu"),t.qZA(),t.TgZ(11,"input",44,45),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProduct.price=l}),t.qZA()(),t.TgZ(13,"button",49),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveShopProduct()}),t._uU(14),t.ALo(15,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(3),t.Oqu(t.lcZ(4,7,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProduct.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(4),t.s9C("value",e.shopProduct.price),t.Q6J("ngModel",e.shopProduct.price),t.xp6(2),t.Q6J("ngClass",t.VKq(11,aD,!e.shopProduct.price||0===e.shopProduct.price||!e.shopProduct.shopId||0===e.shopProduct.shopId.length)),t.xp6(1),t.hij(" ",t.lcZ(15,9,"scanner.save")," ")}}function pA(n,r){1&n&&(t.TgZ(0,"div",50),t._UZ(1,"i",51),t.TgZ(2,"small",17),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.instructions")))}function gA(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",53),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.productNotFound")))}function mA(n,r){1&n&&(t.TgZ(0,"div",52),t._UZ(1,"i",54),t.TgZ(2,"span"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"scanner.searchingProduct")))}function _A(n,r){1&n&&(t.TgZ(0,"div",55),t._UZ(1,"i",56),t.qZA())}function yA(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.shopProduct))}}function vA(n,r){if(1&n&&(t.TgZ(0,"li"),t._uU(1),t.ALo(2,"json"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(t.lcZ(2,1,e.newProduct))}}function bA(n,r){if(1&n&&(t.TgZ(0,"small")(1,"ul",57)(2,"li"),t._uU(3),t.qZA(),t.TgZ(4,"li"),t._uU(5),t.qZA(),t.TgZ(6,"li"),t._uU(7),t.qZA(),t.TgZ(8,"li"),t._uU(9),t.qZA(),t.TgZ(10,"li"),t._uU(11,"-------------------------"),t.qZA(),t.YNc(12,yA,3,3,"li",0),t.YNc(13,vA,3,3,"li",0),t.qZA()()),2&n){const e=t.oxw();t.xp6(3),t.hij("mode: ",e.mode,""),t.xp6(2),t.hij("isSavedProduct: ",e.isSavedProduct,""),t.xp6(2),t.hij("openFoodProductFound: ",e.openFoodProductFound,""),t.xp6(2),t.hij("loadingOpenFoodProduct: ",e.loadingOpenFoodProduct,""),t.xp6(3),t.Q6J("ngIf",e.shopProduct),t.xp6(1),t.Q6J("ngIf",e.newProduct)}}let CA=(()=>{class n{constructor(e,o,l,p,b,x){this.openFoodService=e,this.productService=o,this.shopService=l,this.shopProductService=p,this.loginService=b,this.translate=x,this.onSaveProduct=new t.vpe,this.onCreateProduct=new t.vpe,this.onSaveShopProduct=new t.vpe,this.onProductFound=new t.vpe,this.onBarcodeRead=new t.vpe,this.DEFAULT_IMAGE_URL=na.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new ci.x,this.ProductScanModeEnum=kv,this.barcodeChanged.pipe(qd(500),wc()).subscribe(k=>{this.barcodeValue!==k.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=k.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(Y=>Y.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(Y=>Y.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(e){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(e).subscribe(o=>{this.openFoodProduct=o,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==o.product,this.openFoodProductFound&&this.onProductFound.emit();const l=this.products.find(p=>p.barcode===e);l&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=l.brand,this.openFoodProduct.product.image_url=l.imageUrl,this.openFoodProduct.product.product_name=l.name)})},300)}onValueChanges(e){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(e)}capitalizeFirstLetter(e){return e.charAt(0).toUpperCase()+e.slice(1)}saveProduct(){var e,o,l,p,b,x;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const k={id:ou(),barcode:this.barcodeValue,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(p=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===p?void 0:p.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)?this.openFoodProduct.product.image_url:na.T};this.onSaveProduct.emit(k)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var e,o,l,p,b,x;this.products.find(Y=>Y.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:ou(),barcode:this.shopProduct.productBarcode,brand:(null===(o=null===(e=this.openFoodProduct)||void 0===e?void 0:e.product)||void 0===o?void 0:o.brands)||"?",favourite:!1,name:(null===(p=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===p?void 0:p.product_name)||"?",imageUrl:(null===(x=null===(b=this.openFoodProduct)||void 0===b?void 0:b.product)||void 0===x?void 0:x.image_url)||na.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start(),this.newProduct={id:ou(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:na.T},this.shopProduct={price:0,productBarcode:void 0,shopId:void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.productService.products.subscribe(e=>{this.products=e}),this.shopService.shops.subscribe(e=>{this.shops=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(e){this.barcodeScannerStarted=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(sD),t.Y36(ec.M),t.Y36(ba.d),t.Y36(ju),t.Y36(Qs.r),t.Y36(Cc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(e,o){if(1&e&&(t.Gf(jl,5),t.Gf(jx,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeScanner=l.first),t.iGM(l=t.CRH())&&(o.priceInput=l.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(e,o){if(1&e&&(t.YNc(0,$x,5,2,"ng-container",0),t.YNc(1,Yx,8,4,"div",1),t.TgZ(2,"div",2),t.YNc(3,tA,3,2,"ng-container",0),t.qZA(),t.YNc(4,aA,4,4,"ng-template",null,3,t.W1O),t.YNc(6,uA,2,1,"div",4),t.YNc(7,dA,35,31,"ng-template",null,5,t.W1O),t.YNc(9,fA,16,13,"ng-template",null,6,t.W1O),t.YNc(11,pA,5,3,"ng-template",null,7,t.W1O),t.YNc(13,gA,5,3,"ng-template",null,8,t.W1O),t.YNc(15,mA,5,3,"ng-template",null,9,t.W1O),t.YNc(17,_A,2,0,"ng-template",null,10,t.W1O),t.YNc(19,bA,14,6,"ng-template",null,11,t.W1O)),2&e){const l=t.MAs(12);t.Q6J("ngIf",!o.openFoodProductFound&&!o.isSavedProduct),t.xp6(1),t.Q6J("ngIf",o.barcodeValue)("ngIfElse",l),t.xp6(2),t.Q6J("ngIf",o.barcodeValue),t.xp6(3),t.Q6J("ngIf",!1)}},directives:[Fe,jl,qr,Vx,Xr,Ri,ls,Zc,pd,gd,ur,ud,Ir],pipes:[ts,Go],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const wA=["barcodeInput"],TA=["priceInput"];function EA(n,r){1&n&&t.GkF(0)}function DA(n,r){1&n&&t._UZ(0,"i",12)}function SA(n,r){1&n&&t._UZ(0,"i",12)}function xA(n,r){1&n&&(t.TgZ(0,"div",16),t._UZ(1,"i",17),t.TgZ(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()),2&n&&(t.xp6(3),t.hij(" ",t.lcZ(4,1,"scanner.searchInstructions")," "))}function AA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",13)(2,"app-barcode-scanner",14),t.NdJ("onSaveShopProduct",function(l){return t.CHM(e),t.oxw().saveShopProduct(l)})("onCreateProduct",function(l){return t.CHM(e),t.oxw().createProduct(l)})("onProductFound",function(){return t.CHM(e),t.oxw().productFound=!0})("onBarcodeRead",function(){return t.CHM(e),t.oxw().barcodeRead=!0}),t.qZA(),t.YNc(3,xA,5,3,"div",15),t.qZA(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("mode",e.ProductScanModeEnum.CREATE),t.xp6(1),t.Q6J("ngIf",!e.productFound&&!e.barcodeRead)}}function IA(n,r){1&n&&t.GkF(0)}function PA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.scanner")))}function MA(n,r){1&n&&(t.TgZ(0,"span",24),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"scanner.manual")))}function OA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",18)(1,"span",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",20),t.TgZ(3,"span",21),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",22),t._uU(7,"/"),t.qZA(),t.YNc(8,PA,3,3,"span",23),t.YNc(9,MA,3,3,"span",23),t.qZA()}if(2&n){const e=t.oxw();t.xp6(4),t.Oqu(t.lcZ(5,3,"breadcrumb.home")),t.xp6(4),t.Q6J("ngIf","SCANNER"===e.mode),t.xp6(1),t.Q6J("ngIf","MANUAL"===e.mode)}}function NA(n,r){if(1&n&&(t.TgZ(0,"option",46),t._uU(1),t.qZA()),2&n){const e=r.$implicit;t.s9C("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}const cD=function(n){return{readonly:n}},RA=function(n){return{disabled:n}};function kA(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA(),t.TgZ(2,"div",27)(3,"label",28),t._uU(4),t.ALo(5,"translate"),t.qZA(),t.TgZ(6,"div",29)(7,"label",30),t._uU(8),t.ALo(9,"translate"),t.qZA(),t.TgZ(10,"input",31,32),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.barcode=l}),t.ALo(12,"translate"),t.qZA()(),t.TgZ(13,"div",33)(14,"label",34),t._uU(15,"Nom"),t.qZA(),t.TgZ(16,"input",35),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.name=l}),t.ALo(17,"translate"),t.qZA()(),t.TgZ(18,"div",33)(19,"label",36),t._uU(20),t.ALo(21,"translate"),t.qZA(),t.TgZ(22,"input",37),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().productDetail.brand=l}),t.ALo(23,"translate"),t.qZA()()(),t._UZ(24,"hr"),t.TgZ(25,"div",38)(26,"label",28),t._uU(27),t.ALo(28,"translate"),t.qZA(),t.TgZ(29,"div",33)(30,"label",39),t._uU(31),t.ALo(32,"translate"),t.qZA(),t.TgZ(33,"select",40),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProductDetail.shopId=l})("change",function(){return t.CHM(e),t.oxw().selectPriceInput()}),t._UZ(34,"option"),t.YNc(35,NA,2,2,"option",41),t.qZA()(),t.TgZ(36,"div",33)(37,"label",42),t._uU(38),t.ALo(39,"translate"),t.qZA(),t.TgZ(40,"input",43,44),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopProductDetail.price=l}),t.ALo(42,"translate"),t.qZA()()(),t.TgZ(43,"button",45),t.NdJ("click",function(){t.CHM(e);const l=t.oxw();return l.createProduct({product:l.productDetail,shopProduct:l.shopProductDetail})}),t.TgZ(44,"span"),t._uU(45),t.ALo(46,"translate"),t.qZA()()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("src",null==e.productDetail?null:e.productDetail.imageUrl,t.LSH),t.xp6(3),t.Oqu(t.lcZ(5,25,"scanner.product")),t.xp6(4),t.Oqu(t.lcZ(9,27,"scanner.code")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.barcode),t.s9C("placeholder",t.lcZ(12,29,"scanner.code")),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(6),t.s9C("value",null==e.productDetail?null:e.productDetail.name),t.s9C("placeholder",t.lcZ(17,31,"scanner.name")),t.Q6J("ngClass",t.VKq(47,cD,e.lockProductEdition))("ngModel",e.productDetail.name),t.xp6(4),t.Oqu(t.lcZ(21,33,"scanner.brand")),t.xp6(2),t.s9C("value",null==e.productDetail?null:e.productDetail.brand),t.s9C("placeholder",t.lcZ(23,35,"scanner.brand")),t.Q6J("ngClass",t.VKq(49,cD,e.lockProductEdition))("ngModel",e.productDetail.brand),t.xp6(5),t.Oqu(t.lcZ(28,37,"scanner.price")),t.xp6(4),t.Oqu(t.lcZ(32,39,"scanner.shop")),t.xp6(2),t.Q6J("ngModel",e.shopProductDetail.shopId),t.xp6(2),t.Q6J("ngForOf",e.shops),t.xp6(3),t.Oqu(t.lcZ(39,41,"scanner.price")),t.xp6(2),t.s9C("value",null==e.shopProductDetail?null:e.shopProductDetail.price),t.s9C("placeholder",t.lcZ(42,43,"scanner.price")),t.Q6J("ngModel",e.shopProductDetail.price),t.xp6(3),t.Q6J("ngClass",t.VKq(51,RA,!e.canCreateProductAndPrice())),t.xp6(2),t.Oqu(t.lcZ(46,45,"scanner.save"))}}const uD=function(n){return{active:n}},FA=function(n){return{hidden:n}};let LA=(()=>{class n{constructor(e,o,l,p,b,x,k){this.router=e,this.shopProductService=o,this.productService=l,this.loginService=p,this.shopService=b,this.openFoodService=x,this.translate=k,this.ProductScanModeEnum=kv,this.productDetail={id:ou(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.mode="SCANNER"}setMode(e){this.mode=e,"MANUAL"===e&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:ou(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:na.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Ci(this.barcodeInput.nativeElement,"keyup").pipe((0,er.U)(o=>o.target.value),mi(o=>o.length>2),qd(500),wc()).subscribe(o=>{console.log("barcodeInput changed:",o),this.shopProductDetail.productBarcode=o,this.productDetail.barcode=o,this.lockProductEdition=!0,this.matchingBarcode=!0;const l=this.productService._products.find(p=>p.barcode===o);l?(this.productDetail.name=l.name,this.productDetail.barcode=l.barcode,this.productDetail.brand=l.brand,this.productDetail.favourite=l.favourite,this.productDetail.imageUrl=l.imageUrl,this.productDetail.createdBy=l.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(o).subscribe(p=>{void 0!==p.product?(this.productDetail.name=p.product.product_name,this.productDetail.barcode=o,this.productDetail.brand=p.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=p.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=na.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var e,o,l,p;return this.productDetail&&(null===(e=this.productDetail.barcode)||void 0===e?void 0:e.length)>0&&(null===(o=this.productDetail.name)||void 0===o?void 0:o.length)>0&&(null===(l=this.productDetail.brand)||void 0===l?void 0:l.length)>0&&this.shopProductDetail&&(null===(p=this.shopProductDetail.productBarcode)||void 0===p?void 0:p.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(e){e?(console.log("saveShopProduct()",e),e.createdBy=this.loggedUser,this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(l=>l.productBarcode===this.shopProductDetail.productBarcode&&l.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(e).subscribe(()=>{this.exit()})):this.exit())}createProduct(e){console.log("AddProductByBarcodeComponent.createProduct()",e),this.lockProductEdition?e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit():this.productService.createProduct(e.product).subscribe(()=>{e.shopProduct?this.shopProductService.addShopProduct(e.shopProduct).subscribe(()=>{this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(e=>{this.shopsProducts=e}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ju),t.Y36(ec.M),t.Y36(Qs.r),t.Y36(ba.d),t.Y36(sD),t.Y36(Cc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(e,o){if(1&e&&(t.Gf(wA,5),t.Gf(TA,5)),2&e){let l;t.iGM(l=t.CRH())&&(o.barcodeInput=l.first),t.iGM(l=t.CRH())&&(o.priceInput=l.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,EA,1,0,"ng-container",2),t.qZA(),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.setMode("SCANNER")}),t.YNc(5,DA,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.setMode("MANUAL")}),t.YNc(9,SA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.qZA()(),t.TgZ(12,"div",6),t.YNc(13,AA,4,2,"ng-container",7),t.TgZ(14,"div",8),t.YNc(15,IA,1,0,"ng-container",2),t.qZA(),t._UZ(16,"div",9),t.qZA()(),t.YNc(17,OA,10,5,"ng-template",null,10,t.W1O),t.YNc(19,kA,47,53,"ng-template",null,11,t.W1O)),2&e){const l=t.MAs(18),p=t.MAs(20);t.xp6(2),t.Q6J("ngTemplateOutlet",l),t.xp6(2),t.Q6J("ngClass",t.VKq(16,uD,"SCANNER"===o.mode)),t.xp6(1),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(7,12,"scanner.scanner")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,uD,"MANUAL"===o.mode)),t.xp6(1),t.Q6J("ngIf","MANUAL"===o.mode),t.xp6(1),t.hij(" ",t.lcZ(11,14,"scanner.manual")," "),t.xp6(3),t.Q6J("ngIf","SCANNER"===o.mode),t.xp6(1),t.Udp("height","MANUAL"!==o.mode?"0px":"auto"),t.Q6J("ngClass",t.VKq(20,FA,"MANUAL"!==o.mode)),t.xp6(1),t.Q6J("ngTemplateOutlet",p)}},directives:[qr,Ir,Fe,CA,ud,Xr,Ri,ls,Zc,pd,gd,ur],pipes:[ts],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),n})(),UA=(()=>{class n{constructor(e){this.router=e,this.history=[],this.router.events.pipe(mi(o=>o instanceof ps)).subscribe(o=>{("/"===o.url||"/home"===o.url)&&(this.history=[]),this.history.unshift(o.url)})}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(fi))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",7)(2,"span",3),t._uU(3),t.qZA()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("routerLink",e.pathUrl),t.xp6(2),t.Oqu(e.label)}}function VA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",8),t._uU(2),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Oqu(e.label)}}function jA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"span",5),t._uU(2,"/"),t.qZA(),t.YNc(3,BA,4,2,"ng-container",6),t.YNc(4,VA,3,1,"ng-container",6),t.BQk()),2&n){const e=r.index,o=t.oxw();t.xp6(3),t.Q6J("ngIf",e<o.steps.length-1),t.xp6(1),t.Q6J("ngIf",e===o.steps.length-1)}}let lD=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.navigationService=o,this.shopService=l,this.productService=p,this.translate=b,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(e){return e.match("/edit-product")?this.productService._products.find(o=>o.barcode===e.replace("/edit-product/","")).name:e.match("/edit-shop")?this.shopService._shops.find(o=>o.id===e.replace("/edit-shop/","")).name:e.match("/search-products")?this.translate.instant("breadcrumb.products"):e.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){this.navigationService.history.findIndex(l=>"/"===l||"/home"===l);let o=JSON.parse(JSON.stringify(this.navigationService.history));if(o.length>2&&(o=o.slice(0,2).reverse()),this.steps=o.map(l=>({label:this.getLabel(l),pathUrl:l})),this.steps.length>1){const p=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&p.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(UA),t.Y36(ba.d),t.Y36(ec.M),t.Y36(Cc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"span",1),t.NdJ("click",function(){return o.exit()}),t._UZ(2,"i",2),t.TgZ(3,"span",3),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.YNc(6,jA,5,2,"ng-container",4),t.qZA()),2&e&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(2),t.Q6J("ngForOf",o.steps))},directives:[ur,Fe,vc],pipes:[ts],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function GA(n,r){1&n&&t.GkF(0)}function HA(n,r){if(1&n&&(t.ynx(0),t.YNc(1,GA,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(17);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function $A(n,r){1&n&&t._UZ(0,"i",10)}function qA(n,r){1&n&&t._UZ(0,"i",10)}function ZA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",25),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.name=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function zA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",26),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.name=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.name")),t.Q6J("ngModel",e.productDetail.name)}}function WA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",27),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.brand=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function KA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"input",28),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).productDetail.brand=l}),t.ALo(2,"translate"),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(3);t.xp6(1),t.s9C("placeholder",t.lcZ(2,2,"product.brand")),t.Q6J("ngModel",e.productDetail.brand)}}function YA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29),t._UZ(2,"img",30),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("src",e.productDetail.imageUrl,t.LSH)}}function JA(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",31)(2,"span",32),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",33),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(3),t.hij("",t.lcZ(4,2,"product.createdBy"),":"),t.xp6(3),t.Oqu(null!=e.productDetail&&null!=e.productDetail.createdBy&&e.productDetail.createdBy.username?null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.username:null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.email.substr(0,null==e.productDetail||null==e.productDetail.createdBy?null:e.productDetail.createdBy.email.indexOf("@")))}}const QA=function(n){return{"pb-1":n}},hT=function(n){return{disabled:n}};function XA(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"label",15),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"input",16),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).productDetail.barcode=l}),t.qZA()(),t.TgZ(9,"div",14)(10,"label",17),t._uU(11),t.ALo(12,"translate"),t.qZA(),t.YNc(13,ZA,3,4,"ng-container",2),t.YNc(14,zA,3,4,"ng-container",2),t.qZA(),t.TgZ(15,"div",14)(16,"label",18),t._uU(17),t.ALo(18,"translate"),t.qZA(),t.YNc(19,WA,3,4,"ng-container",2),t.YNc(20,KA,3,4,"ng-container",2),t.qZA(),t.TgZ(21,"div",19)(22,"input",20),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).productDetail.favourite=l}),t.qZA(),t.TgZ(23,"label",21),t._uU(24),t.ALo(25,"translate"),t.qZA()(),t.YNc(26,YA,3,1,"ng-container",2),t.qZA()()(),t.YNc(27,JA,7,4,"ng-container",2),t.TgZ(28,"div",22)(29,"button",23),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).updateProduct()}),t._UZ(30,"span",24),t._uU(31),t.ALo(32,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(25,QA,null==e.productDetail?null:e.productDetail.createdBy)),t.xp6(5),t.Oqu(t.lcZ(7,15,"product.barcode")),t.xp6(2),t.Q6J("ngModel",e.productDetail.barcode),t.xp6(3),t.Oqu(t.lcZ(12,17,"product.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(3),t.Oqu(t.lcZ(18,19,"product.brand")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.productDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(25,21,"product.favourite")),t.xp6(2),t.Q6J("ngIf",e.productDetail.imageUrl),t.xp6(1),t.Q6J("ngIf",null==e.productDetail?null:e.productDetail.createdBy),t.xp6(2),t.Q6J("ngClass",t.VKq(27,hT,(null==e.productDetail?null:e.productDetail.brand.length)<1||(null==e.productDetail?null:e.productDetail.name.length)<1||(null==e.productDetail?null:e.productDetail.barcode.length)<1)),t.xp6(2),t.hij(" ",t.lcZ(32,23,"product.save")," ")}}function eI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span",49),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(4).removeShopProduct(l)}),t.qZA()}}function tI(n,r){if(1&n&&(t.TgZ(0,"span",56),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const nI=function(n){return{"fw-bold":n}};function rI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",52)(2,"div",53)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,tI,2,1,"span",54),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",55),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(6).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(6);t.xp6(1),t.Q6J("ngClass",t.VKq(11,nI,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",l.loggedUser.admin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,hT,!l.canRemoveShopProduct(e)))}}function iI(n,r){if(1&n&&(t.TgZ(0,"li",50)(1,"ul",51),t.YNc(2,rI,12,15,"li",39),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const oI=function(n){return[n]};function sI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",40)(2,"div",41),t._UZ(3,"img",42),t.TgZ(4,"a",43),t._uU(5),t.qZA(),t.TgZ(6,"div",44)(7,"span",45),t.YNc(8,eI,1,0,"span",46),t.TgZ(9,"i",47),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(4).showHistory(p)}),t.qZA(),t._uU(10),t.ALo(11,"number"),t.qZA()()()(),t.YNc(12,iI,3,1,"li",48),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(4);t.xp6(3),t.Q6J("src",o.getShopImage(e.shopId),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(10,oI,"/edit-shop/"+e.shopId)),t.xp6(1),t.hij("",o.getShopName(e.shopId)," "),t.xp6(3),t.Q6J("ngIf",o.canRemoveShopProduct(e)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,hT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(11,7,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function aI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",38),t.YNc(2,sI,13,14,"ng-container",39),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function cI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",34)(2,"div",35)(3,"button",36),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,aI,3,1,"ng-container",37),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(2),o=t.MAs(19);t.xp6(4),t.hij(" ",t.lcZ(5,4,"product.pricesInShops")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function uI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,XA,33,29,"ng-container",2),t.YNc(2,cI,11,9,"ng-container",2),t.BQk()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",0===e.selectedTab),t.xp6(1),t.Q6J("ngIf",1===e.selectedTab)}}function lI(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}function dI(n,r){1&n&&(t.TgZ(0,"div",57)(1,"small",58),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"product.noData")))}const dD=function(n){return{active:n}};let hI=(()=>{class n{constructor(e,o,l,p,b,x){this.router=e,this.route=o,this.productService=l,this.shopService=p,this.shopsProductsService=b,this.loginService=x,this.historyShopProductList=[],this.selectedTab=0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email}canEdit(){var e,o;return this.loggedUser.admin||(null===(e=this.productDetail.createdBy)||void 0===e?void 0:e.email)===this.loggedUser.email&&(null===(o=this.productDetail.createdBy)||void 0===o?void 0:o.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(e){console.log(e),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(e)})}getShopName(e){const o=this.shops.find(l=>l.id===e);return null==o?void 0:o.name}getShopImage(e){var o;return(null===(o=this.shops.find(l=>l.id===e))||void 0===o?void 0:o.imageUrl)||na.T}showHistory(e){this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(l=>l.productBarcode===this.productDetail.barcode&&l.shopId===e.shopId).sort((l,p)=>l.updateDate<p.updateDate?1:-1)})}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===e.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(e=>{this.shopProducts=[];const o=[];e.forEach(l=>{-1===o.indexOf(l.shopId)&&o.push(l.shopId)}),o.forEach(l=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(l,this.productDetail.barcode))}),this.shopProducts.sort((l,p)=>l.price>p.price?1:-1)})}getProductPriceRange(e){return this.shopsProductsService.getProductPriceRange(e,"product-edit")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(o=>{this.products=o}),this.shopService.shops.subscribe(o=>{this.shops=o}),this.productDetail=this.products.find(o=>o.barcode===e),this.getShopProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(vn),t.Y36(ec.M),t.Y36(ba.d),t.Y36(ju),t.Y36(Qs.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-edit"]],decls:20,vars:20,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["breadcrumb",""],["noShopsProducts",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,HA,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,$A,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,qA,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,uI,3,2,"ng-container",2),t.qZA(),t.YNc(16,lI,1,0,"ng-template",null,7,t.W1O),t.YNc(18,dI,4,3,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.productDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(16,dD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,9,"product.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(18,dD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,11,"product.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,13,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",o.productDetail))},directives:[Fe,qr,Ir,Xr,Ri,ls,Do,ur,Xa,lD],pipes:[ts,O,jo],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const fI=["productSearchInput"];function pI(n,r){1&n&&t.GkF(0)}function gI(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"img",38),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function mI(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function _I(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}const yI=function(n){return{productRange:n}};function vI(n,r){if(1&n&&(t.ynx(0),t.GkF(1,42),t.BQk()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3),l=t.MAs(27);t.xp6(1),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.VKq(2,yI,o.getProductPriceRange(e)))}}function bI(n,r){if(1&n&&(t.TgZ(0,"div",39)(1,"div",40)(2,"span",41),t._uU(3),t.ALo(4,"number"),t.qZA(),t.YNc(5,mI,3,3,"span",37),t.YNc(6,_I,3,3,"span",37),t.qZA(),t.YNc(7,vI,2,4,"ng-container",37),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(3),t.Oqu(t.xi3(4,4,o.getProductPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getProductPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getProductPrices(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function CI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",43),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).doRemove(l)}),t.qZA(),t.BQk()}}function wI(n,r){if(1&n&&(t.TgZ(0,"span",46),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw(2).$implicit,o=t.oxw(3);t.xp6(1),t.Oqu(t.xi3(2,1,o.productItemsInCart(e),"1.0-2"))}}const TI=function(n){return{"with-items-in-cart":n}};function EI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"span",44),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).addToCart(l)}),t.qZA(),t.YNc(2,wI,3,4,"span",45),t.BQk()}if(2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(2,TI,o.productItemsInCart(e)>0)),t.xp6(1),t.Q6J("ngIf",o.productItemsInCart(e)>0)}}const DI=function(n,r){return{far:n,fas:r}};function SI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",27)(1,"div",28)(2,"div",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.YNc(3,gI,2,1,"ng-container",19),t.qZA(),t.TgZ(4,"div",30),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditProduct(p)}),t.TgZ(5,"div",31)(6,"a",32),t._uU(7),t.qZA()(),t.TgZ(8,"div",33),t._uU(9),t.qZA(),t.YNc(10,bI,8,7,"div",34),t.qZA(),t.TgZ(11,"div",35)(12,"span",36),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.barcode)}),t.qZA(),t.YNc(13,CI,2,0,"ng-container",37),t.YNc(14,EI,3,4,"ng-container",37),t.qZA()()()}if(2&n){const e=r.$implicit,o=t.oxw(3),l=t.MAs(31);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",e.imageUrl)("ngIfElse",l),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.brand," "),t.xp6(1),t.Q6J("ngIf",o.getProductPrices(e)>0),t.xp6(2),t.Q6J("ngClass",t.WLB(9,DI,!e.favourite,e.favourite)),t.xp6(1),t.Q6J("ngIf",o.canRemoveProduct(e)),t.xp6(1),t.Q6J("ngIf",o.productHasPrices(e))}}function xI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",25),t.YNc(3,SI,15,12,"li",26),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.products)}}function AI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,xI,4,1,"ng-container",19),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(29);t.xp6(1),t.Q6J("ngIf",(null==e.products?null:e.products.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function II(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"i",48),t.TgZ(2,"div",49),t._uU(3),t.ALo(4,"number"),t.ALo(5,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(3),t.AsE(" ",t.xi3(4,2,e.min,"1.0-2")," - ",t.xi3(5,5,e.max,"1.0-2")," \u20ac ")}}function PI(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",50),t._uU(2),t.ALo(3,"number"),t.qZA(),t.BQk()),2&n){const e=t.oxw().productRange;t.xp6(2),t.hij("",t.xi3(3,1,e.max,"1.0-2")," \u20ac")}}function MI(n,r){if(1&n&&(t.TgZ(0,"div",47),t.YNc(1,II,6,8,"ng-container",37),t.YNc(2,PI,4,4,"ng-container",37),t.qZA()),2&n){const e=r.productRange;t.xp6(1),t.Q6J("ngIf",e.max!==e.min),t.xp6(1),t.Q6J("ngIf",e.max===e.min)}}function OI(n,r){1&n&&(t.TgZ(0,"small",54),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noProductAdded")))}function NI(n,r){1&n&&(t.TgZ(0,"small",55),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"products.noFavouriteProduct")))}function RI(n,r){if(1&n&&(t.TgZ(0,"div",51),t.YNc(1,OI,3,3,"small",52),t.YNc(2,NI,3,3,"small",53),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(35);t.xp6(1),t.Q6J("ngIf",0===e.products.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function kI(n,r){1&n&&t._UZ(0,"i",56)}function FI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",57)(1,"span",58),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",59),t.TgZ(3,"span",60),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",61),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",62),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.products")))}function LI(n,r){1&n&&(t.TgZ(0,"div",63),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let UI=(()=>{class n{constructor(e,o,l,p,b,x){this.router=e,this.productService=o,this.shopProductService=l,this.loginService=p,this.shoppingCartService=b,this.spinner=x,this.STORED_SEARCH_KEY="PS_PRODUCTS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(e){this.router.navigate(["edit-product/"+e.barcode])}doToggleFavourite(e){const o=this.products.find(l=>l.barcode===e);o.favourite=!o.favourite,this.productService.toggleFavourite(o).subscribe(()=>{})}doRemove(e){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(e.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(e.barcode).subscribe(()=>{})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||e.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(l=>l.productBarcode===e.barcode).forEach(l=>{o.indexOf(l.shopId)<0&&o.push(l.shopId)}),o.length}productHasPrices(e){return this.getProductPrices(e)>0}getProductPriceRange(e){return this.shopProductService.getProductPriceRange(e)}productItemsInCart(e){var o,l;let p=0,b=!1;return(null===(l=null===(o=this.shoppingCartService)||void 0===o?void 0:o._cartConfig)||void 0===l?void 0:l.items)&&this.shoppingCartService._cartConfig.items.forEach(x=>{b||x.productsUnits.forEach(k=>{k.product.barcode===e.barcode&&k.units&&(b=!0,p+=k.units)})}),p}canRemoveProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email}addToCart(e){this.shoppingCartService.addToCart(e)}exit(){this.router.navigateByUrl("")}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(e=>{this.products=e.sort((o,l)=>o.name>l.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){Ci(this.productSearchInput.nativeElement,"keyup").pipe(mi(Boolean),qd(300),wc(),(0,ni.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ec.M),t.Y36(ju),t.Y36(Qs.r),t.Y36(Kf),t.Y36(ta))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(fI,5),2&e){let l;t.iGM(l=t.CRH())&&(o.productSearchInput=l.first)}},decls:36,vars:15,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[1,"d-flex","w-100","mb-3"],[1,"btn","btn-lg","btn-dark","w-100","m-1","py-3",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-barcode","me-3"],[1,"text-start"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,pI,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13)(18,"div",14)(19,"button",15),t.NdJ("click",function(){return o.doCreateProduct()}),t.TgZ(20,"div",16),t._UZ(21,"i",17),t.TgZ(22,"div",18),t._uU(23),t.ALo(24,"translate"),t.qZA()()()(),t.YNc(25,AI,2,2,"ng-container",19),t.qZA(),t.YNc(26,MI,3,2,"ng-template",null,20,t.W1O),t.YNc(28,RI,3,2,"ng-template",null,21,t.W1O),t.YNc(30,kI,1,0,"ng-template",null,22,t.W1O),t.YNc(32,FI,11,6,"ng-template",null,23,t.W1O),t.YNc(34,LI,3,3,"ng-template",null,24,t.W1O)),2&e){const l=t.MAs(33),p=t.MAs(35);t.xp6(4),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.s9C("placeholder",t.lcZ(9,9,"products.searchPlaceholder")),t.Q6J("readonly",(null==o.products?null:o.products.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,11,"products.onlyFavouriteProducts")),t.xp6(8),t.Oqu(t.lcZ(24,13,"products.scan")),t.xp6(2),t.Q6J("ngIf",o.products)("ngIfElse",p)}},directives:[qr,Do,Ri,ls,Fe,ur,Ir],pipes:[ts,O],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function BI(n,r){1&n&&t.GkF(0)}function VI(n,r){1&n&&t._UZ(0,"div",23)}function jI(n,r){if(1&n&&(t.TgZ(0,"span",31),t._uU(1),t.ALo(2,"number"),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" (x",t.xi3(2,1,e.units,"1.0-2"),")")}}const GI=function(n){return{"checked-product":n}};function HI(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._UZ(2,"i",27),t.qZA(),t.TgZ(3,"td",28),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).toggleCartProductMarked(p)}),t._uU(4),t.YNc(5,jI,3,4,"span",29),t.qZA(),t.TgZ(6,"td")(7,"div",30)(8,"span",31),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"i",32),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeItem(p.product)}),t.qZA()()()()}if(2&n){const e=r.$implicit;t.xp6(3),t.Q6J("ngClass",t.VKq(7,GI,e.checked)),t.xp6(1),t.hij(" ",e.product.name," "),t.xp6(1),t.Q6J("ngIf",e.units>1),t.xp6(4),t.hij("",t.xi3(10,4,e.minPrice,"1.2-2")," \u20ac")}}function $I(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",24),t._UZ(2,"img",25),t.TgZ(3,"div",26)(4,"table")(5,"tbody"),t.YNc(6,HI,12,9,"tr",22),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.Q6J("src",null==e||null==e.shop?null:e.shop.imageUrl,t.LSH),t.xp6(4),t.Q6J("ngForOf",e.productsUnits)}}function qI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,$I,7,2,"ng-container",2),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.shop)}}function ZI(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7)(2,"h4",8),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"div",9),t._UZ(6,"i",10),t.TgZ(7,"small",11),t._uU(8),t.ALo(9,"translate"),t.qZA(),t._UZ(10,"button",12),t.qZA(),t.TgZ(11,"div",13),t._UZ(12,"i",14),t.TgZ(13,"small",15)(14,"strong",16),t._uU(15),t.ALo(16,"translate"),t.qZA(),t.TgZ(17,"p",17),t._uU(18),t.ALo(19,"translate"),t.qZA()(),t._UZ(20,"button",12),t.qZA(),t.YNc(21,VI,1,0,"div",18),t.TgZ(22,"div",19)(23,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw(2).removeCart()}),t.TgZ(24,"span"),t._UZ(25,"i",21),t._uU(26),t.ALo(27,"translate"),t.qZA()()(),t.YNc(28,qI,2,1,"ng-container",22),t.qZA(),t.BQk()}if(2&n){const e=t.oxw(2),o=t.MAs(4);t.xp6(3),t.Oqu(t.lcZ(4,7,"shoppingCart.title")),t.xp6(5),t.Oqu(t.lcZ(9,9,"shoppingCart.description")),t.xp6(7),t.Oqu(t.lcZ(16,11,"shoppingCart.trick.title")),t.xp6(3),t.Oqu(t.lcZ(19,13,"shoppingCart.trick.text")),t.xp6(3),t.Q6J("ngTemplateOutlet",o),t.xp6(5),t.Oqu(t.lcZ(27,15,"shoppingCart.doEmpty")),t.xp6(2),t.Q6J("ngForOf",e.cartConfig.items)}}function zI(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ZI,29,17,"ng-container",6),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(6);t.xp6(1),t.Q6J("ngIf",(null==e.cartConfig.items?null:e.cartConfig.items.length)>0)("ngIfElse",o)}}const WI=function(n,r){return{"bg-success":n,"text-success":r}};function KI(n,r){if(1&n&&(t.TgZ(0,"div",33),t._uU(1),t.ALo(2,"translate"),t.TgZ(3,"span",34),t._uU(4),t.ALo(5,"number"),t.qZA()(),t.TgZ(6,"div",35),t._uU(7),t.ALo(8,"translate"),t.TgZ(9,"span",34),t._uU(10),t.ALo(11,"number"),t.qZA()(),t.TgZ(12,"div",36),t._uU(13),t.ALo(14,"translate"),t.TgZ(15,"span",37),t._uU(16),t.ALo(17,"number"),t.qZA()()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",t.lcZ(2,7,"shoppingCart.amountOptimized"),": "),t.xp6(3),t.hij("",t.xi3(5,9,e.getAmountLow(),"1.2-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),t.xp6(3),t.hij("",t.xi3(11,14,e.getAmountHigh(),"1.2-2")," \u20ac"),t.xp6(3),t.hij(" ",t.lcZ(14,17,"shoppingCart.amountSaved"),": "),t.xp6(2),t.Q6J("ngClass",t.WLB(22,WI,e.getAmountDiff()>0,e.getAmountDiff()>0)),t.xp6(1),t.hij("",t.xi3(17,19,e.getAmountDiff()*(e.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function YI(n,r){1&n&&(t.TgZ(0,"div",38)(1,"div",39)(2,"small"),t._uU(3),t.ALo(4,"translate"),t.qZA()()()),2&n&&(t.xp6(3),t.Oqu(t.lcZ(4,1,"shoppingCart.noProducts")))}function JI(n,r){1&n&&(t.TgZ(0,"div",40)(1,"span",41)(2,"a",42),t._UZ(3,"i",43),t.TgZ(4,"span",44),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",45),t._uU(8,"/"),t.qZA(),t.TgZ(9,"span",46),t._uU(10),t.ALo(11,"translate"),t.qZA()()),2&n&&(t.xp6(5),t.Oqu(t.lcZ(6,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(11,4,"breadcrumb.shoppingCart")))}let QI=(()=>{class n{constructor(e,o,l){this.shoppingCartService=e,this.spinner=o,this.translate=l,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountLow+=o.units*o.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(e=>{e.productsUnits.forEach(o=>{this.amountHigh+=o.units*o.maxPrice})})}toggleCartProductMarked(e){this.shoppingCartService.toggleCartProductMarked(e)}removeItem(e){this.spinner.show(),this.shoppingCartService.removeCartProduct(e)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(e=>{this.cartConfig=e,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},e=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Kf),t.Y36(ta),t.Y36(Cc))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,BI,1,0,"ng-container",1),t.qZA(),t.YNc(2,zI,2,2,"ng-container",2),t.YNc(3,KI,18,25,"ng-template",null,3,t.W1O),t.YNc(5,YI,5,3,"ng-template",null,4,t.W1O),t.YNc(7,JI,12,6,"ng-template",null,5,t.W1O)),2&e){const l=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",l),t.xp6(1),t.Q6J("ngIf",o.cartConfig)}},directives:[qr,Fe,ur,Ir,Xa],pipes:[ts,O],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),n})();function XI(n,r){1&n&&t.GkF(0)}function eP(n,r){if(1&n&&(t.ynx(0),t.YNc(1,XI,1,0,"ng-container",3),t.BQk()),2&n){t.oxw();const e=t.MAs(4);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function tP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",14),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).shopDetail.name=l}),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("ngModel",e.shopDetail.name)}}const nP=function(n){return{disabled:n}};function rP(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",4)(2,"div",5)(3,"label",6),t._uU(4,"Nom"),t.qZA(),t.YNc(5,tP,1,1,"input",7),t.qZA(),t.TgZ(6,"div",8)(7,"input",9),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().shopDetail.favourite=l}),t.qZA(),t.TgZ(8,"label",10),t._uU(9,"Preferida"),t.qZA()()(),t.TgZ(10,"div",11)(11,"button",12),t.NdJ("click",function(){return t.CHM(e),t.oxw().createShop()}),t._uU(12," Desar "),t.qZA(),t.TgZ(13,"button",13),t._uU(14," Tancar "),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(5),t.Q6J("ngIf",!e.shopDetail.default),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(4),t.Q6J("ngClass",t.VKq(4,nP,e.shopDetail.name.length<1)),t.xp6(2),t.Q6J("routerLink","../search-shops")}}function iP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"span",16),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",17),t.TgZ(3,"span",18),t._uU(4,"Inici"),t.qZA()(),t.TgZ(5,"span",19),t._uU(6,"/"),t.qZA(),t.TgZ(7,"span",20)(8,"span",18),t._uU(9,"Botigues"),t.qZA()(),t.TgZ(10,"span",19),t._uU(11,"/"),t.qZA(),t.TgZ(12,"span",21),t._uU(13,"Nova botiga"),t.qZA()()}2&n&&(t.xp6(7),t.Q6J("routerLink","search-shops"))}let oP=(()=>{class n{constructor(e,o){this.router=e,this.shopService=o,this.shopDetail={id:ou(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(e=>{this.shops=e}),this.shops=this.shopService._shops}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ba.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,eP,2,1,"ng-container",1),t.qZA(),t.YNc(2,rP,15,6,"ng-container",1),t.YNc(3,iP,14,1,"ng-template",null,2,t.W1O)),2&e&&(t.xp6(1),t.Q6J("ngIf",o.shopDetail),t.xp6(1),t.Q6J("ngIf",o.shopDetail))},directives:[Fe,qr,Xr,Ri,ls,Do,Ir,vc],styles:[""]}),n})();function sP(n,r){1&n&&t.GkF(0)}function aP(n,r){if(1&n&&(t.ynx(0),t.YNc(1,sP,1,0,"ng-container",9),t.BQk()),2&n){t.oxw();const e=t.MAs(20);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function cP(n,r){1&n&&t._UZ(0,"i",10)}function uP(n,r){1&n&&t._UZ(0,"i",10)}function lP(n,r){if(1&n&&(t.TgZ(0,"div",25),t._UZ(1,"img",26),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.shopDetail.imageUrl,t.LSH)}}function dP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",27),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).shopDetail.name=l}),t.ALo(1,"translate"),t.qZA()}if(2&n){const e=t.oxw(3);t.s9C("placeholder",t.lcZ(1,2,"shop.name")),t.Q6J("ngModel",e.shopDetail.name)}}function hP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"input",28),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(3).shopDetail.name=l}),t.qZA()}if(2&n){const e=t.oxw(3);t.Q6J("ngModel",e.shopDetail.name)}}const fP=function(n){return{"pb-2":n}};function pP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",15)(1,"div",16),t.YNc(2,lP,2,1,"div",17),t.TgZ(3,"div",18)(4,"label",19),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.YNc(7,dP,2,4,"input",20),t.YNc(8,hP,1,1,"input",21),t.qZA(),t.TgZ(9,"div",22)(10,"input",23),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw(2).shopDetail.favourite=l}),t.qZA(),t.TgZ(11,"label",24),t._uU(12),t.ALo(13,"translate"),t.qZA()()()()}if(2&n){const e=t.oxw(2);t.Q6J("ngClass",t.VKq(11,fP,null==e.shopDetail?null:e.shopDetail.createdBy)),t.xp6(2),t.Q6J("ngIf",(null==e.shopDetail||null==e.shopDetail.imageUrl?null:e.shopDetail.imageUrl.length)>0),t.xp6(3),t.Oqu(t.lcZ(6,7,"shop.name")),t.xp6(2),t.Q6J("ngIf",e.canEdit()),t.xp6(1),t.Q6J("ngIf",!e.canEdit()),t.xp6(2),t.Q6J("ngModel",e.shopDetail.favourite),t.xp6(2),t.Oqu(t.lcZ(13,9,"shop.favourite"))}}function gP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",29)(2,"span",30),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span",31),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.hij("",t.lcZ(4,2,"shop.createdBy"),":"),t.xp6(3),t.Oqu(null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username)}}const fT=function(n){return{disabled:n}};function mP(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,pP,14,13,"div",11),t.YNc(2,gP,7,4,"ng-container",2),t.TgZ(3,"div",12)(4,"button",13),t.NdJ("click",function(){return t.CHM(e),t.oxw().updateShop()}),t._uU(5),t.ALo(6,"translate"),t.qZA(),t.TgZ(7,"button",14),t._uU(8),t.ALo(9,"translate"),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.shopDetail),t.xp6(1),t.Q6J("ngIf",null==e.shopDetail||null==e.shopDetail.createdBy?null:e.shopDetail.createdBy.username),t.xp6(2),t.Q6J("ngClass",t.VKq(10,fT,(null==e.shopDetail?null:e.shopDetail.name.length)<1)),t.xp6(1),t.hij(" ",t.lcZ(6,6,"shop.save")," "),t.xp6(2),t.Q6J("routerLink","../../search-shops"),t.xp6(1),t.hij(" ",t.lcZ(9,8,"shop.close")," ")}}function _P(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"span",46),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).removeShopProduct(l)}),t.qZA()}}function yP(n,r){if(1&n&&(t.TgZ(0,"span",53),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij("(",e.createdBy.username,")")}}const vP=function(n){return{"fw-bold":n}};function bP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),t._uU(4),t.ALo(5,"date"),t.qZA(),t.YNc(6,yP,2,1,"span",51),t.qZA(),t.TgZ(7,"div")(8,"span"),t._uU(9),t.ALo(10,"number"),t.qZA(),t.TgZ(11,"span",52),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(5).removeShopProduct(p)}),t.qZA()()()()}if(2&n){const e=r.$implicit,o=r.index,l=t.oxw(5);t.xp6(1),t.Q6J("ngClass",t.VKq(11,vP,0===o)),t.xp6(3),t.hij(" ",t.xi3(5,5,e.updateDate,"dd.MM.YYYY HH:mm")," "),t.xp6(2),t.Q6J("ngIf",l.loggedUser.admin&&e.createdBy),t.xp6(3),t.hij("",t.xi3(10,8,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngClass",t.VKq(13,fT,!l.canRemoveShopProduct(e)))}}function CP(n,r){if(1&n&&(t.TgZ(0,"li",47)(1,"ul",48),t.YNc(2,bP,12,15,"li",37),t.qZA()()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("ngForOf",e.historyShopProductList)}}const wP=function(n){return[n]};function TP(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"li",38)(2,"div",39),t._UZ(3,"img",40)(4,"a",41),t.TgZ(5,"div",42)(6,"span"),t.YNc(7,_P,1,0,"span",43),t.TgZ(8,"i",44),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).showHistory(p)}),t.qZA(),t._uU(9),t.ALo(10,"number"),t.qZA()()()(),t.YNc(11,CP,3,1,"li",45),t.BQk()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.xp6(3),t.Q6J("src",o.getProductImage(e.productBarcode),t.LSH),t.xp6(1),t.Q6J("routerLink",t.VKq(10,wP,"/edit-product/"+e.productBarcode))("innerHtml",o.getProductName(e.productBarcode),t.oJD),t.xp6(3),t.Q6J("ngIf",o.canRemoveShopProduct(e)),t.xp6(1),t.Q6J("ngClass",t.VKq(12,fT,!o.hasHistory(e))),t.xp6(1),t.hij(" ",t.xi3(10,7,e.price,"1.2-2")," \u20ac"),t.xp6(2),t.Q6J("ngIf",(null==o.historyShopProduct?null:o.historyShopProduct.shopId)===e.shopId&&(null==o.historyShopProduct?null:o.historyShopProduct.productBarcode)===e.productBarcode)}}function EP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",36),t.YNc(2,TP,12,14,"ng-container",37),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngForOf",e.shopProducts)}}function DP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",32)(2,"div",33)(3,"button",34),t._uU(4),t.ALo(5,"translate"),t.TgZ(6,"small",6),t._uU(7),t.ALo(8,"number"),t.qZA()()(),t.ynx(9),t.YNc(10,EP,3,1,"ng-container",35),t.BQk(),t.qZA(),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(18);t.xp6(4),t.hij(" ",t.lcZ(5,4,"shop.productPrices")," "),t.xp6(3),t.hij("(",t.xi3(8,6,null==e.shopProducts?null:e.shopProducts.length,"1.0-2"),")"),t.xp6(3),t.Q6J("ngIf",(null==e.shopProducts?null:e.shopProducts.length)>0)("ngIfElse",o)}}function SP(n,r){1&n&&(t.TgZ(0,"div",54)(1,"small",55),t._uU(2),t.ALo(3,"translate"),t.qZA()()),2&n&&(t.xp6(2),t.Oqu(t.lcZ(3,1,"shop.noProductPrices")))}function xP(n,r){1&n&&t._UZ(0,"app-breadcrumbs")}const hD=function(n){return{active:n}};let AP=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.route=o,this.shopService=l,this.shopsProductsService=p,this.loginService=b,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(o=>o.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&o.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(o=>o.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(e){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(e).subscribe(()=>{})}canRemoveShopProduct(e){return this.loggedUser.admin||e.createdBy&&e.createdBy.email===this.loggedUser.email&&e.createdBy.username===this.loggedUser.username}doEditProduct(e){}showHistory(e){console.log("showHistory()",e),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=e,this.configHistory(e))}configHistory(e){this.shopsProductsService.getProductShopProducts(e.productBarcode).subscribe(o=>{this.historyShopProductList=o.filter(l=>l.productBarcode===e.productBarcode&&l.shopId===this.shopDetail.id).sort((l,p)=>l.updateDate<p.updateDate?1:-1)})}getProductName(e){const o=this.products.find(l=>l.barcode===e);return"<span>"+o.name+'</span><span class="brand">'+o.brand+"</span>"}getProductImage(e){return this.products.find(l=>l.barcode===e).imageUrl||na.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(e=>{this.shopProducts=[];const o=[];(e=e.sort((l,p)=>l.updateDate<p.updateDate?1:-1)).forEach(l=>{-1===o.indexOf(l.productBarcode)&&o.push(l.productBarcode)}),o.forEach(l=>{this.shopProducts.push(e.find(p=>l===p.productBarcode))}),this.shopProducts.sort((l,p)=>this.getProductName(l.productBarcode).toUpperCase()>this.getProductName(p.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(e=>{this.products=e,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(o=>{this.shopProducts=o,this.getLastShopProducts()})})}canEdit(){var e;return this.loggedUser.admin||!(null===(e=this.shopDetail)||void 0===e?void 0:e.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(e){return this.shopsProductsService._shopsProducts.filter(o=>o.productBarcode===e.productBarcode&&o.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const e=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(o=>{this.shops=o,this.shopDetail=o.find(l=>l.id===e),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(o=>o.id===e),this.configShopsProducts()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(vn),t.Y36(ba.d),t.Y36(ju),t.Y36(Qs.r))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t.YNc(2,aP,2,1,"ng-container",2),t.TgZ(3,"div",3)(4,"button",4),t.NdJ("click",function(){return o.selectedTab=0}),t.YNc(5,cP,1,0,"i",5),t._uU(6),t.ALo(7,"translate"),t.qZA(),t.TgZ(8,"button",4),t.NdJ("click",function(){return o.selectedTab=1}),t.YNc(9,uP,1,0,"i",5),t._uU(10),t.ALo(11,"translate"),t.TgZ(12,"small",6),t._uU(13),t.ALo(14,"number"),t.qZA()()()(),t.YNc(15,mP,10,12,"ng-container",2),t.YNc(16,DP,11,9,"ng-container",2),t.qZA(),t.YNc(17,SP,4,3,"ng-template",null,7,t.W1O),t.YNc(19,xP,1,0,"ng-template",null,8,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngIf",o.shopDetail),t.xp6(2),t.Q6J("ngClass",t.VKq(17,hD,0===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(7,10,"shop.detail")," "),t.xp6(2),t.Q6J("ngClass",t.VKq(19,hD,1===o.selectedTab)),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab),t.xp6(1),t.hij(" ",t.lcZ(11,12,"shop.prices")," "),t.xp6(3),t.hij("(",t.xi3(14,14,null==o.shopProducts?null:o.shopProducts.length,"1.0-2"),")"),t.xp6(2),t.Q6J("ngIf",0===o.selectedTab),t.xp6(1),t.Q6J("ngIf",1===o.selectedTab))},directives:[Fe,qr,Ir,Xr,Ri,ls,Do,vc,ur,Xa,lD],pipes:[ts,O,jo],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const IP=["shopSearchInput"];function PP(n,r){1&n&&t.GkF(0)}function MP(n,r){if(1&n&&t._UZ(0,"img",30),2&n){const e=t.oxw().$implicit;t.Q6J("src",e.imageUrl,t.LSH)}}function OP(n,r){1&n&&t._UZ(0,"i",31)}function NP(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.prices")))}function RP(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.price")))}function kP(n,r){if(1&n&&(t.TgZ(0,"div",32)(1,"span",33),t._uU(2),t.ALo(3,"number"),t.qZA(),t.YNc(4,NP,3,3,"span",28),t.YNc(5,RP,3,3,"span",28),t.qZA()),2&n){const e=t.oxw().$implicit,o=t.oxw(3);t.xp6(2),t.Oqu(t.xi3(3,3,o.getShopPrices(e),"1.0-2")),t.xp6(2),t.Q6J("ngIf",o.getShopPrices(e)>1),t.xp6(1),t.Q6J("ngIf",1===o.getShopPrices(e))}}function FP(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",34)(2,"span",35),t.NdJ("click",function(){t.CHM(e);const l=t.oxw().$implicit;return t.oxw(3).doRemove(l.id)}),t.qZA()(),t.BQk()}}const LP=function(n,r,e){return{far:n,fas:r,"ms-auto":e}};function UP(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li",20)(1,"div",21)(2,"div",22),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.YNc(3,MP,1,1,"img",23),t.YNc(4,OP,1,0,"i",24),t.qZA(),t.ynx(5),t.TgZ(6,"div",25),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doEditShop(p)}),t.TgZ(7,"a",26),t._uU(8),t.qZA(),t.YNc(9,kP,6,6,"div",27),t.qZA(),t.YNc(10,FP,3,0,"ng-container",28),t.TgZ(11,"span",29),t.NdJ("click",function(){const p=t.CHM(e).$implicit;return t.oxw(3).doToggleFavourite(p.id)}),t.qZA(),t.BQk(),t.qZA()()}if(2&n){const e=r.$implicit,o=t.oxw(3);t.Q6J("hidden",o.onlyFavourites&&!e.favourite||!o.matchesFilter(e)),t.xp6(3),t.Q6J("ngIf",(null==e||null==e.imageUrl?null:e.imageUrl.length)>0),t.xp6(1),t.Q6J("ngIf",!((null==e||null==e.imageUrl?null:e.imageUrl.length)>0)),t.xp6(4),t.Oqu(e.name),t.xp6(1),t.Q6J("ngIf",o.getShopPrices(e)>0),t.xp6(1),t.Q6J("ngIf",o.canRemoveShop(e)),t.xp6(1),t.Q6J("ngClass",t.kEZ(7,LP,!e.favourite,e.favourite,!o.canRemoveShop(e)))}}function BP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",1)(2,"ul",18),t.YNc(3,UP,12,11,"li",19),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Q6J("ngForOf",e.shops)}}function VP(n,r){if(1&n&&(t.ynx(0),t.YNc(1,BP,4,1,"ng-container",14),t.BQk()),2&n){const e=t.oxw(),o=t.MAs(20);t.xp6(1),t.Q6J("ngIf",(null==e.shops?null:e.shops.length)>0&&(!e.onlyFavourites||e.hasFavourites()))("ngIfElse",o)}}function jP(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noShopAdded")))}function GP(n,r){1&n&&(t.TgZ(0,"small",38),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"shops.noFavouriteShop")))}function HP(n,r){if(1&n&&(t.TgZ(0,"div",36),t.YNc(1,jP,3,3,"small",37),t.YNc(2,GP,3,3,"small",37),t.qZA()),2&n){const e=t.oxw(),o=t.MAs(24);t.xp6(1),t.Q6J("ngIf",0===e.shops.length&&!o),t.xp6(1),t.Q6J("ngIf",!e.hasFavourites()&&e.onlyFavourites&&!o)}}function $P(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",39)(1,"span",40),t.NdJ("click",function(){return t.CHM(e),t.oxw().exit()}),t._UZ(2,"i",41),t.TgZ(3,"span",42),t._uU(4),t.ALo(5,"translate"),t.qZA()(),t.TgZ(6,"span",43),t._uU(7,"/"),t.qZA(),t.TgZ(8,"span",44),t._uU(9),t.ALo(10,"translate"),t.qZA()()}2&n&&(t.xp6(4),t.Oqu(t.lcZ(5,2,"breadcrumb.home")),t.xp6(5),t.Oqu(t.lcZ(10,4,"breadcrumb.shops")))}function qP(n,r){1&n&&(t.TgZ(0,"div",45),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.hij(" ",t.lcZ(2,1,"commons.loading")," "))}let ZP=(()=>{class n{constructor(e,o,l,p,b){this.router=e,this.shopService=o,this.shopProductService=l,this.loginService=p,this.spinner=b,this.STORED_SEARCH_KEY="PS_SHOPS_SEARCH_TEXT",this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(e){this.router.navigate(["edit-shop/"+e.id])}doToggleFavourite(e){this.spinner.show();const o=this.shops.find(l=>l.id===e);o.favourite=!o.favourite,this.shopService.toggleFavourite(o).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(e){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(e).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(e).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(e){return e.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(e){return this.loggedUser.admin||e.createdBy&&this.loggedUser.email===e.createdBy.email}getShopPrices(e){let o=[];return this.shopProductService._shopsProducts.filter(l=>l.shopId===e.id).forEach(l=>{o.indexOf(l.productBarcode)<0&&o.push(l.productBarcode)}),o.length}setSearchText(e){this.searchText=e||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(e=>{this.shops=e.sort((o,l)=>o.name.toUpperCase()>l.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){Ci(this.shopSearchInput.nativeElement,"keyup").pipe(mi(Boolean),qd(300),wc(),(0,ni.b)(e=>{var o;this.setSearchText(null===(o=null==e?void 0:e.target)||void 0===o?void 0:o.value)})).subscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(fi),t.Y36(ba.d),t.Y36(ju),t.Y36(Qs.r),t.Y36(ta))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(e,o){if(1&e&&t.Gf(IP,5),2&e){let l;t.iGM(l=t.CRH())&&(o.shopSearchInput=l.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.ynx(1),t.TgZ(2,"div",1)(3,"div",2),t.YNc(4,PP,1,0,"ng-container",3),t.qZA(),t.TgZ(5,"div",4)(6,"div",5),t._UZ(7,"input",6,7),t.ALo(9,"translate"),t.TgZ(10,"span",8),t._UZ(11,"i",9),t.qZA()(),t.TgZ(12,"div",10)(13,"input",11),t.NdJ("ngModelChange",function(p){return o.onlyFavourites=p}),t.qZA(),t.TgZ(14,"label",12),t._uU(15),t.ALo(16,"translate"),t.qZA()()()(),t.BQk(),t.qZA(),t.TgZ(17,"div",13),t.YNc(18,VP,2,2,"ng-container",14),t.qZA(),t.YNc(19,HP,3,2,"ng-template",null,15,t.W1O),t.YNc(21,$P,11,6,"ng-template",null,16,t.W1O),t.YNc(23,qP,3,3,"ng-template",null,17,t.W1O)),2&e){const l=t.MAs(22),p=t.MAs(24);t.xp6(4),t.Q6J("ngTemplateOutlet",l),t.xp6(3),t.s9C("placeholder",t.lcZ(9,8,"shops.searchPlaceholder")),t.Q6J("readonly",(null==o.shops?null:o.shops.length)<1)("value",o.searchText),t.xp6(6),t.Q6J("ngModel",o.onlyFavourites),t.xp6(2),t.Oqu(t.lcZ(16,10,"shops.onlyFavouriteShops")),t.xp6(3),t.Q6J("ngIf",o.shops)("ngIfElse",p)}},directives:[qr,Do,Ri,ls,Fe,ur,Ir],pipes:[ts,O],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function zP(n,r){1&n&&t.GkF(0)}function WP(n,r){1&n&&t._UZ(0,"i",12)}function KP(n,r){if(1&n&&t._UZ(0,"img",13),2&n){const e=t.oxw(2);t.Q6J("src",e.user.photoURL,t.LSH)}}function YP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",11)(2,"label"),t._uU(3),t.ALo(4,"translate"),t.qZA(),t.TgZ(5,"span"),t._uU(6),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(3),t.Oqu(t.lcZ(4,2,"user.username")),t.xp6(3),t.Oqu(e.user.username)}}function JP(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.admin")))}function QP(n,r){1&n&&(t.TgZ(0,"span"),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.role.user")))}function XP(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",5)(2,"div",6)(3,"div",7),t.YNc(4,WP,1,0,"i",8),t.YNc(5,KP,1,1,"img",9),t._UZ(6,"app-language-selector"),t.qZA(),t.YNc(7,YP,7,4,"ng-container",10),t.TgZ(8,"div",11)(9,"label"),t._uU(10),t.ALo(11,"translate"),t.qZA(),t.TgZ(12,"span"),t._uU(13),t.qZA()(),t.TgZ(14,"div",11)(15,"label"),t._uU(16),t.ALo(17,"translate"),t.qZA(),t.YNc(18,JP,3,3,"span",10),t.YNc(19,QP,3,3,"span",10),t.qZA(),t.TgZ(20,"div",11)(21,"label"),t._uU(22),t.ALo(23,"translate"),t.qZA(),t.TgZ(24,"span"),t._uU(25),t.ALo(26,"date"),t.qZA()()()(),t.BQk()),2&n){const e=t.oxw();t.xp6(4),t.Q6J("ngIf",!e.user.photoURL),t.xp6(1),t.Q6J("ngIf",e.user.photoURL),t.xp6(2),t.Q6J("ngIf",e.user.username),t.xp6(3),t.Oqu(t.lcZ(11,10,"user.email")),t.xp6(3),t.Oqu(e.user.email),t.xp6(3),t.Oqu(t.lcZ(17,12,"user.role")),t.xp6(2),t.Q6J("ngIf",e.user.admin),t.xp6(1),t.Q6J("ngIf",!e.user.admin),t.xp6(3),t.Oqu(t.lcZ(23,14,"user.lastLogin")),t.xp6(3),t.Oqu(t.xi3(26,16,e.user.lastLogin,"medium"))}}function eM(n,r){1&n&&(t.TgZ(0,"div",14),t._uU(1),t.ALo(2,"translate"),t.qZA()),2&n&&(t.xp6(1),t.Oqu(t.lcZ(2,1,"commons.noData")))}function tM(n,r){if(1&n&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.user?null:e.user.username)}}function nM(n,r){if(1&n&&(t.TgZ(0,"span",22),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Oqu(null==e.user?null:e.user.email.substr(0,null==e.user?null:e.user.email.indexOf("@")))}}function rM(n,r){if(1&n&&(t.TgZ(0,"div",15)(1,"span",16)(2,"a",17),t._UZ(3,"i",18),t.TgZ(4,"span",19),t._uU(5),t.ALo(6,"translate"),t.qZA()()(),t.TgZ(7,"span",20),t._uU(8,"/"),t.qZA(),t.YNc(9,tM,2,1,"span",21),t.YNc(10,nM,2,1,"span",21),t.qZA()),2&n){const e=t.oxw();t.xp6(5),t.Oqu(t.lcZ(6,3,"breadcrumb.home")),t.xp6(4),t.Q6J("ngIf",null==e.user?null:e.user.username),t.xp6(1),t.Q6J("ngIf",!(null!=e.user&&e.user.username))}}function oM(n,r){1&n&&(t.ynx(0),t._UZ(1,"i",4),t.TgZ(2,"span"),t._uU(3,"No est\xe0s autenticat!"),t.qZA(),t.BQk())}const sM=function(){return["../login"]},aM=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Cx,canActivate:[Xh]},{path:"user",component:(()=>{class n{constructor(e,o){this.loginService=e,this.spinner=o}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Qs.r),t.Y36(ta))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(e,o){if(1&e&&(t.TgZ(0,"div",0),t.YNc(1,zP,1,0,"ng-container",1),t.qZA(),t.YNc(2,XP,27,19,"ng-container",2),t.YNc(3,eM,3,3,"ng-template",null,3,t.W1O),t.YNc(5,rM,11,5,"ng-template",null,4,t.W1O)),2&e){const l=t.MAs(4),p=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",p),t.xp6(1),t.Q6J("ngIf",o.user)("ngIfElse",l)}},directives:[qr,Fe,oD,Xa],pipes:[ts,jo],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),n})(),canActivate:[Xh]},{path:"login",component:Lx,canActivate:[dT]},{path:"register",component:tx,canActivate:[dT]},{path:"scan",component:LA,canActivate:[Xh]},{path:"search-products",component:UI,canActivate:[Xh]},{path:"search-shops",component:ZP,canActivate:[Xh]},{path:"statistics",component:mx,canActivate:[Xh]},{path:"edit-shop/:id",component:AP,canActivate:[Xh]},{path:"new-shop",component:oP,canActivate:[Xh]},{path:"edit-product/:barcode",component:hI},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:QI,canActivate:[Xh]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-forbidden"]],decls:5,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[4,"ngIf"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t.YNc(1,oM,4,0,"ng-container",1),t.TgZ(2,"button",2),t._UZ(3,"i",3),t._uU(4," Identificar-me "),t.qZA()()),2&e&&(t.xp6(1),t.Q6J("ngIf",!1),t.xp6(1),t.Q6J("routerLink",t.DdM(2,sM)))},directives:[Fe,vc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(e,o){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"i",1),t.TgZ(2,"span"),t._uU(3,"P\xe0gina inexistent!"),t.qZA(),t.TgZ(4,"button",2),t._UZ(5,"i",3),t._uU(6," Anar a l'inici "),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("routerLink",""))},directives:[vc],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],ii=!1;function fD(n){return new t.vHH(3e3,ii)}function jM(){return"undefined"!=typeof window&&void 0!==window.document}function pT(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Hg(n){switch(n.length){case 0:return new Vd;case 1:return n[0];default:return new ep(n)}}function pD(n,r,e,o,l={},p={}){const b=[],x=[];let k=-1,Y=null;if(o.forEach(fe=>{const Ne=fe.offset,Ye=Ne==k,ze=Ye&&Y||{};Object.keys(fe).forEach(ft=>{let vt=ft,Kt=fe[ft];if("offset"!==ft)switch(vt=r.normalizePropertyName(vt,b),Kt){case"!":Kt=l[ft];break;case tc:Kt=p[ft];break;default:Kt=r.normalizeStyleValue(ft,vt,Kt,b)}ze[vt]=Kt}),Ye||x.push(ze),Y=ze,k=Ne}),b.length)throw function PM(n){return new t.vHH(3502,ii)}();return x}function gT(n,r,e,o){switch(r){case"start":n.onStart(()=>o(e&&mT(e,"start",n)));break;case"done":n.onDone(()=>o(e&&mT(e,"done",n)));break;case"destroy":n.onDestroy(()=>o(e&&mT(e,"destroy",n)))}}function mT(n,r,e){const o=e.totalTime,p=_T(n.element,n.triggerName,n.fromState,n.toState,r||n.phaseName,null==o?n.totalTime:o,!!e.disabled),b=n._data;return null!=b&&(p._data=b),p}function _T(n,r,e,o,l="",p=0,b){return{element:n,triggerName:r,fromState:e,toState:o,phaseName:l,totalTime:p,disabled:!!b}}function Qu(n,r,e){let o;return n instanceof Map?(o=n.get(r),o||n.set(r,o=e)):(o=n[r],o||(o=n[r]=e)),o}function gD(n){const r=n.indexOf(":");return[n.substring(1,r),n.substr(r+1)]}let yT=(n,r)=>!1,mD=(n,r,e)=>[],_D=null;function vT(n){const r=n.parentNode||n.host;return r===_D?null:r}(pT()||"undefined"!=typeof Element)&&(jM()?(_D=(()=>document.documentElement)(),yT=(n,r)=>{for(;r;){if(r===n)return!0;r=vT(r)}return!1}):yT=(n,r)=>n.contains(r),mD=(n,r,e)=>{if(e)return Array.from(n.querySelectorAll(r));const o=n.querySelector(r);return o?[o]:[]});let P_=null,yD=!1;function vD(n){P_||(P_=function HM(){return"undefined"!=typeof document?document.body:null}()||{},yD=!!P_.style&&"WebkitAppearance"in P_.style);let r=!0;return P_.style&&!function GM(n){return"ebkit"==n.substring(1,6)}(n)&&(r=n in P_.style,!r&&yD&&(r="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in P_.style)),r}const bD=yT,CD=mD;let wD=(()=>{class n{validateStyleProperty(e){return vD(e)}matchesElement(e,o){return!1}containsElement(e,o){return bD(e,o)}getParentElement(e){return vT(e)}query(e,o,l){return CD(e,o,l)}computeStyle(e,o,l){return l||""}animate(e,o,l,p,b,x=[],k){return new Vd(l,p)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})(),bT=(()=>{class n{}return n.NOOP=new wD,n})();const CT="ng-enter",Hb="ng-leave",$b="ng-trigger",qb=".ng-trigger",ED="ng-animating",wT=".ng-animating";function M_(n){if("number"==typeof n)return n;const r=n.match(/^(-?[\.\d]+)(m?s)/);return!r||r.length<2?0:TT(parseFloat(r[1]),r[2])}function TT(n,r){return"s"===r?1e3*n:n}function Zb(n,r,e){return n.hasOwnProperty("duration")?n:function ZM(n,r,e){let l,p=0,b="";if("string"==typeof n){const x=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===x)return r.push(fD()),{duration:0,delay:0,easing:""};l=TT(parseFloat(x[1]),x[2]);const k=x[3];null!=k&&(p=TT(parseFloat(k),x[4]));const Y=x[5];Y&&(b=Y)}else l=n;if(!e){let x=!1,k=r.length;l<0&&(r.push(function cM(){return new t.vHH(3100,ii)}()),x=!0),p<0&&(r.push(function uM(){return new t.vHH(3101,ii)}()),x=!0),x&&r.splice(k,0,fD())}return{duration:l,delay:p,easing:b}}(n,r,e)}function oy(n,r={}){return Object.keys(n).forEach(e=>{r[e]=n[e]}),r}function $g(n,r,e={}){if(r)for(let o in n)e[o]=n[o];else oy(n,e);return e}function SD(n,r,e){return e?r+":"+e+";":""}function xD(n){let r="";for(let e=0;e<n.style.length;e++){const o=n.style.item(e);r+=SD(0,o,n.style.getPropertyValue(o))}for(const e in n.style)n.style.hasOwnProperty(e)&&!e.startsWith("_")&&(r+=SD(0,KM(e),n.style[e]));n.setAttribute("style",r)}function ef(n,r,e){n.style&&(Object.keys(r).forEach(o=>{const l=DT(o);e&&!e.hasOwnProperty(o)&&(e[o]=n.style[l]),n.style[l]=r[o]}),pT()&&xD(n))}function O_(n,r){n.style&&(Object.keys(r).forEach(e=>{const o=DT(e);n.style[o]=""}),pT()&&xD(n))}function Fv(n){return Array.isArray(n)?1==n.length?n[0]:m0(n):n}const ET=new RegExp("{{\\s*(.+?)\\s*}}","g");function AD(n){let r=[];if("string"==typeof n){let e;for(;e=ET.exec(n);)r.push(e[1]);ET.lastIndex=0}return r}function zb(n,r,e){const o=n.toString(),l=o.replace(ET,(p,b)=>{let x=r[b];return r.hasOwnProperty(b)||(e.push(function dM(n){return new t.vHH(3003,ii)}()),x=""),x.toString()});return l==o?n:l}function Wb(n){const r=[];let e=n.next();for(;!e.done;)r.push(e.value),e=n.next();return r}const WM=/-+([a-z0-9])/g;function DT(n){return n.replace(WM,(...r)=>r[1].toUpperCase())}function KM(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Xu(n,r,e){switch(r.type){case 7:return n.visitTrigger(r,e);case 0:return n.visitState(r,e);case 1:return n.visitTransition(r,e);case 2:return n.visitSequence(r,e);case 3:return n.visitGroup(r,e);case 4:return n.visitAnimate(r,e);case 5:return n.visitKeyframes(r,e);case 6:return n.visitStyle(r,e);case 8:return n.visitReference(r,e);case 9:return n.visitAnimateChild(r,e);case 10:return n.visitAnimateRef(r,e);case 11:return n.visitQuery(r,e);case 12:return n.visitStagger(r,e);default:throw function hM(n){return new t.vHH(3004,ii)}()}}function ID(n,r){return window.getComputedStyle(n)[r]}function tO(n,r){const e=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(o=>function nO(n,r,e){if(":"==n[0]){const k=function rO(n,r){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,o)=>parseFloat(o)>parseFloat(e);case":decrement":return(e,o)=>parseFloat(o)<parseFloat(e);default:return r.push(function SM(n){return new t.vHH(3016,ii)}()),"* => *"}}(n,e);if("function"==typeof k)return void r.push(k);n=k}const o=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==o||o.length<4)return e.push(function DM(n){return new t.vHH(3015,ii)}()),r;const l=o[1],p=o[2],b=o[3];r.push(PD(l,b));"<"==p[0]&&!("*"==l&&"*"==b)&&r.push(PD(b,l))}(o,e,r)):e.push(n),e}const Qb=new Set(["true","1"]),Xb=new Set(["false","0"]);function PD(n,r){const e=Qb.has(n)||Xb.has(n),o=Qb.has(r)||Xb.has(r);return(l,p)=>{let b="*"==n||n==l,x="*"==r||r==p;return!b&&e&&"boolean"==typeof l&&(b=l?Qb.has(n):Xb.has(n)),!x&&o&&"boolean"==typeof p&&(x=p?Qb.has(r):Xb.has(r)),b&&x}}const iO=new RegExp("s*:selfs*,?","g");function ST(n,r,e,o){return new oO(n).build(r,e,o)}class oO{constructor(r){this._driver=r}build(r,e,o){const l=new cO(e);this._resetContextStyleTimingState(l);const p=Xu(this,Fv(r),l);return l.unsupportedCSSPropertiesFound.size&&l.unsupportedCSSPropertiesFound.keys(),p}_resetContextStyleTimingState(r){r.currentQuerySelector="",r.collectedStyles={},r.collectedStyles[""]={},r.currentTime=0}visitTrigger(r,e){let o=e.queryCount=0,l=e.depCount=0;const p=[],b=[];return"@"==r.name.charAt(0)&&e.errors.push(function pM(){return new t.vHH(3006,ii)}()),r.definitions.forEach(x=>{if(this._resetContextStyleTimingState(e),0==x.type){const k=x,Y=k.name;Y.toString().split(/\s*,\s*/).forEach(fe=>{k.name=fe,p.push(this.visitState(k,e))}),k.name=Y}else if(1==x.type){const k=this.visitTransition(x,e);o+=k.queryCount,l+=k.depCount,b.push(k)}else e.errors.push(function gM(){return new t.vHH(3007,ii)}())}),{type:7,name:r.name,states:p,transitions:b,queryCount:o,depCount:l,options:null}}visitState(r,e){const o=this.visitStyle(r.styles,e),l=r.options&&r.options.params||null;if(o.containsDynamicStyles){const p=new Set,b=l||{};o.styles.forEach(x=>{if(eC(x)){const k=x;Object.keys(k).forEach(Y=>{AD(k[Y]).forEach(fe=>{b.hasOwnProperty(fe)||p.add(fe)})})}}),p.size&&(Wb(p.values()),e.errors.push(function mM(n,r){return new t.vHH(3008,ii)}()))}return{type:0,name:r.name,style:o,options:l?{params:l}:null}}visitTransition(r,e){e.queryCount=0,e.depCount=0;const o=Xu(this,Fv(r.animation),e);return{type:1,matchers:tO(r.expr,e.errors),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:N_(r.options)}}visitSequence(r,e){return{type:2,steps:r.steps.map(o=>Xu(this,o,e)),options:N_(r.options)}}visitGroup(r,e){const o=e.currentTime;let l=0;const p=r.steps.map(b=>{e.currentTime=o;const x=Xu(this,b,e);return l=Math.max(l,e.currentTime),x});return e.currentTime=l,{type:3,steps:p,options:N_(r.options)}}visitAnimate(r,e){const o=function lO(n,r){let e=null;if(n.hasOwnProperty("duration"))e=n;else if("number"==typeof n)return xT(Zb(n,r).duration,0,"");const o=n;if(o.split(/\s+/).some(p=>"{"==p.charAt(0)&&"{"==p.charAt(1))){const p=xT(0,0,"");return p.dynamic=!0,p.strValue=o,p}return e=e||Zb(o,r),xT(e.duration,e.delay,e.easing)}(r.timings,e.errors);e.currentAnimateTimings=o;let l,p=r.styles?r.styles:Qf({});if(5==p.type)l=this.visitKeyframes(p,e);else{let b=r.styles,x=!1;if(!b){x=!0;const Y={};o.easing&&(Y.easing=o.easing),b=Qf(Y)}e.currentTime+=o.duration+o.delay;const k=this.visitStyle(b,e);k.isEmptyStep=x,l=k}return e.currentAnimateTimings=null,{type:4,timings:o,style:l,options:null}}visitStyle(r,e){const o=this._makeStyleAst(r,e);return this._validateStyleAst(o,e),o}_makeStyleAst(r,e){const o=[];Array.isArray(r.styles)?r.styles.forEach(b=>{"string"==typeof b?b==tc?o.push(b):e.errors.push(function _M(n){return new t.vHH(3002,ii)}()):o.push(b)}):o.push(r.styles);let l=!1,p=null;return o.forEach(b=>{if(eC(b)){const x=b,k=x.easing;if(k&&(p=k,delete x.easing),!l)for(let Y in x)if(x[Y].toString().indexOf("{{")>=0){l=!0;break}}}),{type:6,styles:o,easing:p,offset:r.offset,containsDynamicStyles:l,options:null}}_validateStyleAst(r,e){const o=e.currentAnimateTimings;let l=e.currentTime,p=e.currentTime;o&&p>0&&(p-=o.duration+o.delay),r.styles.forEach(b=>{"string"!=typeof b&&Object.keys(b).forEach(x=>{if(!this._driver.validateStyleProperty(x))return delete b[x],void e.unsupportedCSSPropertiesFound.add(x);const k=e.collectedStyles[e.currentQuerySelector],Y=k[x];let fe=!0;Y&&(p!=l&&p>=Y.startTime&&l<=Y.endTime&&(e.errors.push(function yM(n,r,e,o,l){return new t.vHH(3010,ii)}()),fe=!1),p=Y.startTime),fe&&(k[x]={startTime:p,endTime:l}),e.options&&function zM(n,r,e){const o=r.params||{},l=AD(n);l.length&&l.forEach(p=>{o.hasOwnProperty(p)||e.push(function lM(n){return new t.vHH(3001,ii)}())})}(b[x],e.options,e.errors)})})}visitKeyframes(r,e){const o={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(function vM(){return new t.vHH(3011,ii)}()),o;let p=0;const b=[];let x=!1,k=!1,Y=0;const fe=r.steps.map(dn=>{const bn=this._makeStyleAst(dn,e);let cr=null!=bn.offset?bn.offset:function uO(n){if("string"==typeof n)return null;let r=null;if(Array.isArray(n))n.forEach(e=>{if(eC(e)&&e.hasOwnProperty("offset")){const o=e;r=parseFloat(o.offset),delete o.offset}});else if(eC(n)&&n.hasOwnProperty("offset")){const e=n;r=parseFloat(e.offset),delete e.offset}return r}(bn.styles),xn=0;return null!=cr&&(p++,xn=bn.offset=cr),k=k||xn<0||xn>1,x=x||xn<Y,Y=xn,b.push(xn),bn});k&&e.errors.push(function bM(){return new t.vHH(3012,ii)}()),x&&e.errors.push(function CM(){return new t.vHH(3200,ii)}());const Ne=r.steps.length;let Ye=0;p>0&&p<Ne?e.errors.push(function wM(){return new t.vHH(3202,ii)}()):0==p&&(Ye=1/(Ne-1));const ze=Ne-1,ft=e.currentTime,vt=e.currentAnimateTimings,Kt=vt.duration;return fe.forEach((dn,bn)=>{const cr=Ye>0?bn==ze?1:Ye*bn:b[bn],xn=cr*Kt;e.currentTime=ft+vt.delay+xn,vt.duration=xn,this._validateStyleAst(dn,e),dn.offset=cr,o.styles.push(dn)}),o}visitReference(r,e){return{type:8,animation:Xu(this,Fv(r.animation),e),options:N_(r.options)}}visitAnimateChild(r,e){return e.depCount++,{type:9,options:N_(r.options)}}visitAnimateRef(r,e){return{type:10,animation:this.visitReference(r.animation,e),options:N_(r.options)}}visitQuery(r,e){const o=e.currentQuerySelector,l=r.options||{};e.queryCount++,e.currentQuery=r;const[p,b]=function sO(n){const r=!!n.split(/\s*,\s*/).find(e=>":self"==e);return r&&(n=n.replace(iO,"")),n=n.replace(/@\*/g,qb).replace(/@\w+/g,e=>qb+"-"+e.substr(1)).replace(/:animating/g,wT),[n,r]}(r.selector);e.currentQuerySelector=o.length?o+" "+p:p,Qu(e.collectedStyles,e.currentQuerySelector,{});const x=Xu(this,Fv(r.animation),e);return e.currentQuery=null,e.currentQuerySelector=o,{type:11,selector:p,limit:l.limit||0,optional:!!l.optional,includeSelf:b,animation:x,originalSelector:r.selector,options:N_(r.options)}}visitStagger(r,e){e.currentQuery||e.errors.push(function TM(){return new t.vHH(3013,ii)}());const o="full"===r.timings?{duration:0,delay:0,easing:"full"}:Zb(r.timings,e.errors,!0);return{type:12,animation:Xu(this,Fv(r.animation),e),timings:o,options:null}}}class cO{constructor(r){this.errors=r,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function eC(n){return!Array.isArray(n)&&"object"==typeof n}function N_(n){return n?(n=oy(n)).params&&(n.params=function aO(n){return n?oy(n):null}(n.params)):n={},n}function xT(n,r,e){return{duration:n,delay:r,easing:e}}function AT(n,r,e,o,l,p,b=null,x=!1){return{type:1,element:n,keyframes:r,preStyleProps:e,postStyleProps:o,duration:l,delay:p,totalTime:l+p,easing:b,subTimeline:x}}class tC{constructor(){this._map=new Map}get(r){return this._map.get(r)||[]}append(r,e){let o=this._map.get(r);o||this._map.set(r,o=[]),o.push(...e)}has(r){return this._map.has(r)}clear(){this._map.clear()}}const fO=new RegExp(":enter","g"),gO=new RegExp(":leave","g");function IT(n,r,e,o,l,p={},b={},x,k,Y=[]){return(new mO).buildKeyframes(n,r,e,o,l,p,b,x,k,Y)}class mO{buildKeyframes(r,e,o,l,p,b,x,k,Y,fe=[]){Y=Y||new tC;const Ne=new PT(r,e,Y,l,p,fe,[]);Ne.options=k,Ne.currentTimeline.setStyles([b],null,Ne.errors,k),Xu(this,o,Ne);const Ye=Ne.timelines.filter(ze=>ze.containsAnimation());if(Object.keys(x).length){let ze;for(let ft=Ye.length-1;ft>=0;ft--){const vt=Ye[ft];if(vt.element===e){ze=vt;break}}ze&&!ze.allowOnlyTimelineStyles()&&ze.setStyles([x],null,Ne.errors,k)}return Ye.length?Ye.map(ze=>ze.buildKeyframes()):[AT(e,[],[],[],0,0,"",!1)]}visitTrigger(r,e){}visitState(r,e){}visitTransition(r,e){}visitAnimateChild(r,e){const o=e.subInstructions.get(e.element);if(o){const l=e.createSubContext(r.options),p=e.currentTimeline.currentTime,b=this._visitSubInstructions(o,l,l.options);p!=b&&e.transformIntoNewTimeline(b)}e.previousNode=r}visitAnimateRef(r,e){const o=e.createSubContext(r.options);o.transformIntoNewTimeline(),this.visitReference(r.animation,o),e.transformIntoNewTimeline(o.currentTimeline.currentTime),e.previousNode=r}_visitSubInstructions(r,e,o){let p=e.currentTimeline.currentTime;const b=null!=o.duration?M_(o.duration):null,x=null!=o.delay?M_(o.delay):null;return 0!==b&&r.forEach(k=>{const Y=e.appendInstructionToTimeline(k,b,x);p=Math.max(p,Y.duration+Y.delay)}),p}visitReference(r,e){e.updateOptions(r.options,!0),Xu(this,r.animation,e),e.previousNode=r}visitSequence(r,e){const o=e.subContextCount;let l=e;const p=r.options;if(p&&(p.params||p.delay)&&(l=e.createSubContext(p),l.transformIntoNewTimeline(),null!=p.delay)){6==l.previousNode.type&&(l.currentTimeline.snapshotCurrentStyles(),l.previousNode=nC);const b=M_(p.delay);l.delayNextStep(b)}r.steps.length&&(r.steps.forEach(b=>Xu(this,b,l)),l.currentTimeline.applyStylesToKeyframe(),l.subContextCount>o&&l.transformIntoNewTimeline()),e.previousNode=r}visitGroup(r,e){const o=[];let l=e.currentTimeline.currentTime;const p=r.options&&r.options.delay?M_(r.options.delay):0;r.steps.forEach(b=>{const x=e.createSubContext(r.options);p&&x.delayNextStep(p),Xu(this,b,x),l=Math.max(l,x.currentTimeline.currentTime),o.push(x.currentTimeline)}),o.forEach(b=>e.currentTimeline.mergeTimelineCollectedStyles(b)),e.transformIntoNewTimeline(l),e.previousNode=r}_visitTiming(r,e){if(r.dynamic){const o=r.strValue;return Zb(e.params?zb(o,e.params,e.errors):o,e.errors)}return{duration:r.duration,delay:r.delay,easing:r.easing}}visitAnimate(r,e){const o=e.currentAnimateTimings=this._visitTiming(r.timings,e),l=e.currentTimeline;o.delay&&(e.incrementTime(o.delay),l.snapshotCurrentStyles());const p=r.style;5==p.type?this.visitKeyframes(p,e):(e.incrementTime(o.duration),this.visitStyle(p,e),l.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=r}visitStyle(r,e){const o=e.currentTimeline,l=e.currentAnimateTimings;!l&&o.getCurrentStyleProperties().length&&o.forwardFrame();const p=l&&l.easing||r.easing;r.isEmptyStep?o.applyEmptyStep(p):o.setStyles(r.styles,p,e.errors,e.options),e.previousNode=r}visitKeyframes(r,e){const o=e.currentAnimateTimings,l=e.currentTimeline.duration,p=o.duration,x=e.createSubContext().currentTimeline;x.easing=o.easing,r.styles.forEach(k=>{x.forwardTime((k.offset||0)*p),x.setStyles(k.styles,k.easing,e.errors,e.options),x.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(x),e.transformIntoNewTimeline(l+p),e.previousNode=r}visitQuery(r,e){const o=e.currentTimeline.currentTime,l=r.options||{},p=l.delay?M_(l.delay):0;p&&(6===e.previousNode.type||0==o&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=nC);let b=o;const x=e.invokeQuery(r.selector,r.originalSelector,r.limit,r.includeSelf,!!l.optional,e.errors);e.currentQueryTotal=x.length;let k=null;x.forEach((Y,fe)=>{e.currentQueryIndex=fe;const Ne=e.createSubContext(r.options,Y);p&&Ne.delayNextStep(p),Y===e.element&&(k=Ne.currentTimeline),Xu(this,r.animation,Ne),Ne.currentTimeline.applyStylesToKeyframe(),b=Math.max(b,Ne.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(b),k&&(e.currentTimeline.mergeTimelineCollectedStyles(k),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=r}visitStagger(r,e){const o=e.parentContext,l=e.currentTimeline,p=r.timings,b=Math.abs(p.duration),x=b*(e.currentQueryTotal-1);let k=b*e.currentQueryIndex;switch(p.duration<0?"reverse":p.easing){case"reverse":k=x-k;break;case"full":k=o.currentStaggerTime}const fe=e.currentTimeline;k&&fe.delayNextStep(k);const Ne=fe.currentTime;Xu(this,r.animation,e),e.previousNode=r,o.currentStaggerTime=l.currentTime-Ne+(l.startTime-o.currentTimeline.startTime)}}const nC={};class PT{constructor(r,e,o,l,p,b,x,k){this._driver=r,this.element=e,this.subInstructions=o,this._enterClassName=l,this._leaveClassName=p,this.errors=b,this.timelines=x,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=nC,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=k||new rC(this._driver,e,0),x.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(r,e){if(!r)return;const o=r;let l=this.options;null!=o.duration&&(l.duration=M_(o.duration)),null!=o.delay&&(l.delay=M_(o.delay));const p=o.params;if(p){let b=l.params;b||(b=this.options.params={}),Object.keys(p).forEach(x=>{(!e||!b.hasOwnProperty(x))&&(b[x]=zb(p[x],b,this.errors))})}}_copyOptions(){const r={};if(this.options){const e=this.options.params;if(e){const o=r.params={};Object.keys(e).forEach(l=>{o[l]=e[l]})}}return r}createSubContext(r=null,e,o){const l=e||this.element,p=new PT(this._driver,l,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(l,o||0));return p.previousNode=this.previousNode,p.currentAnimateTimings=this.currentAnimateTimings,p.options=this._copyOptions(),p.updateOptions(r),p.currentQueryIndex=this.currentQueryIndex,p.currentQueryTotal=this.currentQueryTotal,p.parentContext=this,this.subContextCount++,p}transformIntoNewTimeline(r){return this.previousNode=nC,this.currentTimeline=this.currentTimeline.fork(this.element,r),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(r,e,o){const l={duration:null!=e?e:r.duration,delay:this.currentTimeline.currentTime+(null!=o?o:0)+r.delay,easing:""},p=new _O(this._driver,r.element,r.keyframes,r.preStyleProps,r.postStyleProps,l,r.stretchStartingKeyframe);return this.timelines.push(p),l}incrementTime(r){this.currentTimeline.forwardTime(this.currentTimeline.duration+r)}delayNextStep(r){r>0&&this.currentTimeline.delayNextStep(r)}invokeQuery(r,e,o,l,p,b){let x=[];if(l&&x.push(this.element),r.length>0){r=(r=r.replace(fO,"."+this._enterClassName)).replace(gO,"."+this._leaveClassName);let Y=this._driver.query(this.element,r,1!=o);0!==o&&(Y=o<0?Y.slice(Y.length+o,Y.length):Y.slice(0,o)),x.push(...Y)}return!p&&0==x.length&&b.push(function EM(n){return new t.vHH(3014,ii)}()),x}}class rC{constructor(r,e,o,l){this._driver=r,this.element=e,this.startTime=o,this._elementTimelineStylesLookup=l,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(r){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+r),e&&this.snapshotCurrentStyles()):this.startTime+=r}fork(r,e){return this.applyStylesToKeyframe(),new rC(this._driver,r,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(r){this.applyStylesToKeyframe(),this.duration=r,this._loadKeyframe()}_updateStyle(r,e){this._localTimelineStyles[r]=e,this._globalTimelineStyles[r]=e,this._styleSummary[r]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(r){r&&(this._previousKeyframe.easing=r),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||tc,this._currentKeyframe[e]=tc}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(r,e,o,l){e&&(this._previousKeyframe.easing=e);const p=l&&l.params||{},b=function yO(n,r){const e={};let o;return n.forEach(l=>{"*"===l?(o=o||Object.keys(r),o.forEach(p=>{e[p]=tc})):$g(l,!1,e)}),e}(r,this._globalTimelineStyles);Object.keys(b).forEach(x=>{const k=zb(b[x],p,o);this._pendingStyles[x]=k,this._localTimelineStyles.hasOwnProperty(x)||(this._backFill[x]=this._globalTimelineStyles.hasOwnProperty(x)?this._globalTimelineStyles[x]:tc),this._updateStyle(x,k)})}applyStylesToKeyframe(){const r=this._pendingStyles,e=Object.keys(r);0!=e.length&&(this._pendingStyles={},e.forEach(o=>{this._currentKeyframe[o]=r[o]}),Object.keys(this._localTimelineStyles).forEach(o=>{this._currentKeyframe.hasOwnProperty(o)||(this._currentKeyframe[o]=this._localTimelineStyles[o])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(r=>{const e=this._localTimelineStyles[r];this._pendingStyles[r]=e,this._updateStyle(r,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const r=[];for(let e in this._currentKeyframe)r.push(e);return r}mergeTimelineCollectedStyles(r){Object.keys(r._styleSummary).forEach(e=>{const o=this._styleSummary[e],l=r._styleSummary[e];(!o||l.time>o.time)&&this._updateStyle(e,l.value)})}buildKeyframes(){this.applyStylesToKeyframe();const r=new Set,e=new Set,o=1===this._keyframes.size&&0===this.duration;let l=[];this._keyframes.forEach((x,k)=>{const Y=$g(x,!0);Object.keys(Y).forEach(fe=>{const Ne=Y[fe];"!"==Ne?r.add(fe):Ne==tc&&e.add(fe)}),o||(Y.offset=k/this.duration),l.push(Y)});const p=r.size?Wb(r.values()):[],b=e.size?Wb(e.values()):[];if(o){const x=l[0],k=oy(x);x.offset=0,k.offset=1,l=[x,k]}return AT(this.element,l,p,b,this.duration,this.startTime,this.easing,!1)}}class _O extends rC{constructor(r,e,o,l,p,b,x=!1){super(r,e,b.delay),this.keyframes=o,this.preStyleProps=l,this.postStyleProps=p,this._stretchStartingKeyframe=x,this.timings={duration:b.duration,delay:b.delay,easing:b.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let r=this.keyframes,{delay:e,duration:o,easing:l}=this.timings;if(this._stretchStartingKeyframe&&e){const p=[],b=o+e,x=e/b,k=$g(r[0],!1);k.offset=0,p.push(k);const Y=$g(r[0],!1);Y.offset=ND(x),p.push(Y);const fe=r.length-1;for(let Ne=1;Ne<=fe;Ne++){let Ye=$g(r[Ne],!1);Ye.offset=ND((e+Ye.offset*o)/b),p.push(Ye)}o=b,e=0,l="",r=p}return AT(this.element,r,this.preStyleProps,this.postStyleProps,o,e,l,!0)}}function ND(n,r=3){const e=Math.pow(10,r-1);return Math.round(n*e)/e}class MT{}class vO extends MT{normalizePropertyName(r,e){return DT(r)}normalizeStyleValue(r,e,o,l){let p="";const b=o.toString().trim();if(bO[e]&&0!==o&&"0"!==o)if("number"==typeof o)p="px";else{const x=o.match(/^[+-]?[\d\.]+([a-z]*)$/);x&&0==x[1].length&&l.push(function fM(n,r){return new t.vHH(3005,ii)}())}return b+p}}const bO=(()=>function CO(n){const r={};return n.forEach(e=>r[e]=!0),r}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function RD(n,r,e,o,l,p,b,x,k,Y,fe,Ne,Ye){return{type:0,element:n,triggerName:r,isRemovalTransition:l,fromState:e,fromStyles:p,toState:o,toStyles:b,timelines:x,queriedElements:k,preStyleProps:Y,postStyleProps:fe,totalTime:Ne,errors:Ye}}const OT={};class kD{constructor(r,e,o){this._triggerName=r,this.ast=e,this._stateStyles=o}match(r,e,o,l){return function wO(n,r,e,o,l){return n.some(p=>p(r,e,o,l))}(this.ast.matchers,r,e,o,l)}buildStyles(r,e,o){const l=this._stateStyles["*"],p=this._stateStyles[r],b=l?l.buildStyles(e,o):{};return p?p.buildStyles(e,o):b}build(r,e,o,l,p,b,x,k,Y,fe){const Ne=[],Ye=this.ast.options&&this.ast.options.params||OT,ft=this.buildStyles(o,x&&x.params||OT,Ne),vt=k&&k.params||OT,Kt=this.buildStyles(l,vt,Ne),dn=new Set,bn=new Map,cr=new Map,xn="void"===l,fr={params:Object.assign(Object.assign({},Ye),vt)},gr=fe?[]:IT(r,e,this.ast.animation,p,b,ft,Kt,fr,Y,Ne);let Dr=0;if(gr.forEach(Wi=>{Dr=Math.max(Wi.duration+Wi.delay,Dr)}),Ne.length)return RD(e,this._triggerName,o,l,xn,ft,Kt,[],[],bn,cr,Dr,Ne);gr.forEach(Wi=>{const Ki=Wi.element,bo=Qu(bn,Ki,{});Wi.preStyleProps.forEach(ds=>bo[ds]=!0);const xa=Qu(cr,Ki,{});Wi.postStyleProps.forEach(ds=>xa[ds]=!0),Ki!==e&&dn.add(Ki)});const Ur=Wb(dn.values());return RD(e,this._triggerName,o,l,xn,ft,Kt,gr,Ur,bn,cr,Dr)}}class TO{constructor(r,e,o){this.styles=r,this.defaultParams=e,this.normalizer=o}buildStyles(r,e){const o={},l=oy(this.defaultParams);return Object.keys(r).forEach(p=>{const b=r[p];null!=b&&(l[p]=b)}),this.styles.styles.forEach(p=>{if("string"!=typeof p){const b=p;Object.keys(b).forEach(x=>{let k=b[x];k.length>1&&(k=zb(k,l,e));const Y=this.normalizer.normalizePropertyName(x,e);k=this.normalizer.normalizeStyleValue(x,Y,k,e),o[Y]=k})}}),o}}class DO{constructor(r,e,o){this.name=r,this.ast=e,this._normalizer=o,this.transitionFactories=[],this.states={},e.states.forEach(l=>{this.states[l.name]=new TO(l.style,l.options&&l.options.params||{},o)}),FD(this.states,"true","1"),FD(this.states,"false","0"),e.transitions.forEach(l=>{this.transitionFactories.push(new kD(r,l,this.states))}),this.fallbackTransition=function SO(n,r,e){return new kD(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(b,x)=>!0],options:null,queryCount:0,depCount:0},r)}(r,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(r,e,o,l){return this.transitionFactories.find(b=>b.match(r,e,o,l))||null}matchStyles(r,e,o){return this.fallbackTransition.buildStyles(r,e,o)}}function FD(n,r,e){n.hasOwnProperty(r)?n.hasOwnProperty(e)||(n[e]=n[r]):n.hasOwnProperty(e)&&(n[r]=n[e])}const xO=new tC;class AO{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._animations={},this._playersById={},this.players=[]}register(r,e){const o=[],p=ST(this._driver,e,o,[]);if(o.length)throw function MM(n){return new t.vHH(3503,ii)}();this._animations[r]=p}_buildPlayer(r,e,o){const l=r.element,p=pD(0,this._normalizer,0,r.keyframes,e,o);return this._driver.animate(l,p,r.duration,r.delay,r.easing,[],!0)}create(r,e,o={}){const l=[],p=this._animations[r];let b;const x=new Map;if(p?(b=IT(this._driver,e,p,CT,Hb,{},{},o,xO,l),b.forEach(fe=>{const Ne=Qu(x,fe.element,{});fe.postStyleProps.forEach(Ye=>Ne[Ye]=null)})):(l.push(function OM(){return new t.vHH(3300,ii)}()),b=[]),l.length)throw function NM(n){return new t.vHH(3504,ii)}();x.forEach((fe,Ne)=>{Object.keys(fe).forEach(Ye=>{fe[Ye]=this._driver.computeStyle(Ne,Ye,tc)})});const Y=Hg(b.map(fe=>{const Ne=x.get(fe.element);return this._buildPlayer(fe,{},Ne)}));return this._playersById[r]=Y,Y.onDestroy(()=>this.destroy(r)),this.players.push(Y),Y}destroy(r){const e=this._getPlayer(r);e.destroy(),delete this._playersById[r];const o=this.players.indexOf(e);o>=0&&this.players.splice(o,1)}_getPlayer(r){const e=this._playersById[r];if(!e)throw function RM(n){return new t.vHH(3301,ii)}();return e}listen(r,e,o,l){const p=_T(e,"","","");return gT(this._getPlayer(r),o,p,l),()=>{}}command(r,e,o,l){if("register"==o)return void this.register(r,l[0]);if("create"==o)return void this.create(r,e,l[0]||{});const p=this._getPlayer(r);switch(o){case"play":p.play();break;case"pause":p.pause();break;case"reset":p.reset();break;case"restart":p.restart();break;case"finish":p.finish();break;case"init":p.init();break;case"setPosition":p.setPosition(parseFloat(l[0]));break;case"destroy":this.destroy(r)}}}const LD="ng-animate-queued",NT="ng-animate-disabled",NO=[],UD={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},RO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Kl="__ng_removed";class RT{constructor(r,e=""){this.namespaceId=e;const o=r&&r.hasOwnProperty("value");if(this.value=function UO(n){return null!=n?n:null}(o?r.value:r),o){const p=oy(r);delete p.value,this.options=p}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(r){const e=r.params;if(e){const o=this.options.params;Object.keys(e).forEach(l=>{null==o[l]&&(o[l]=e[l])})}}}const Lv="void",kT=new RT(Lv);class kO{constructor(r,e,o){this.id=r,this.hostElement=e,this._engine=o,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+r,Yl(e,this._hostClassName)}listen(r,e,o,l){if(!this._triggers.hasOwnProperty(e))throw function kM(n,r){return new t.vHH(3302,ii)}();if(null==o||0==o.length)throw function FM(n){return new t.vHH(3303,ii)}();if(!function BO(n){return"start"==n||"done"==n}(o))throw function LM(n,r){return new t.vHH(3400,ii)}();const p=Qu(this._elementListeners,r,[]),b={name:e,phase:o,callback:l};p.push(b);const x=Qu(this._engine.statesByElement,r,{});return x.hasOwnProperty(e)||(Yl(r,$b),Yl(r,$b+"-"+e),x[e]=kT),()=>{this._engine.afterFlush(()=>{const k=p.indexOf(b);k>=0&&p.splice(k,1),this._triggers[e]||delete x[e]})}}register(r,e){return!this._triggers[r]&&(this._triggers[r]=e,!0)}_getTrigger(r){const e=this._triggers[r];if(!e)throw function UM(n){return new t.vHH(3401,ii)}();return e}trigger(r,e,o,l=!0){const p=this._getTrigger(e),b=new FT(this.id,e,r);let x=this._engine.statesByElement.get(r);x||(Yl(r,$b),Yl(r,$b+"-"+e),this._engine.statesByElement.set(r,x={}));let k=x[e];const Y=new RT(o,this.id);if(!(o&&o.hasOwnProperty("value"))&&k&&Y.absorbOptions(k.options),x[e]=Y,k||(k=kT),Y.value!==Lv&&k.value===Y.value){if(!function GO(n,r){const e=Object.keys(n),o=Object.keys(r);if(e.length!=o.length)return!1;for(let l=0;l<e.length;l++){const p=e[l];if(!r.hasOwnProperty(p)||n[p]!==r[p])return!1}return!0}(k.params,Y.params)){const vt=[],Kt=p.matchStyles(k.value,k.params,vt),dn=p.matchStyles(Y.value,Y.params,vt);vt.length?this._engine.reportError(vt):this._engine.afterFlush(()=>{O_(r,Kt),ef(r,dn)})}return}const Ye=Qu(this._engine.playersByElement,r,[]);Ye.forEach(vt=>{vt.namespaceId==this.id&&vt.triggerName==e&&vt.queued&&vt.destroy()});let ze=p.matchTransition(k.value,Y.value,r,Y.params),ft=!1;if(!ze){if(!l)return;ze=p.fallbackTransition,ft=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:e,transition:ze,fromState:k,toState:Y,player:b,isFallbackTransition:ft}),ft||(Yl(r,LD),b.onStart(()=>{sy(r,LD)})),b.onDone(()=>{let vt=this.players.indexOf(b);vt>=0&&this.players.splice(vt,1);const Kt=this._engine.playersByElement.get(r);if(Kt){let dn=Kt.indexOf(b);dn>=0&&Kt.splice(dn,1)}}),this.players.push(b),Ye.push(b),b}deregister(r){delete this._triggers[r],this._engine.statesByElement.forEach((e,o)=>{delete e[r]}),this._elementListeners.forEach((e,o)=>{this._elementListeners.set(o,e.filter(l=>l.name!=r))})}clearElementCache(r){this._engine.statesByElement.delete(r),this._elementListeners.delete(r);const e=this._engine.playersByElement.get(r);e&&(e.forEach(o=>o.destroy()),this._engine.playersByElement.delete(r))}_signalRemovalForInnerTriggers(r,e){const o=this._engine.driver.query(r,qb,!0);o.forEach(l=>{if(l[Kl])return;const p=this._engine.fetchNamespacesByElement(l);p.size?p.forEach(b=>b.triggerLeaveAnimation(l,e,!1,!0)):this.clearElementCache(l)}),this._engine.afterFlushAnimationsDone(()=>o.forEach(l=>this.clearElementCache(l)))}triggerLeaveAnimation(r,e,o,l){const p=this._engine.statesByElement.get(r),b=new Map;if(p){const x=[];if(Object.keys(p).forEach(k=>{if(b.set(k,p[k].value),this._triggers[k]){const Y=this.trigger(r,k,Lv,l);Y&&x.push(Y)}}),x.length)return this._engine.markElementAsRemoved(this.id,r,!0,e,b),o&&Hg(x).onDone(()=>this._engine.processLeaveNode(r)),!0}return!1}prepareLeaveAnimationListeners(r){const e=this._elementListeners.get(r),o=this._engine.statesByElement.get(r);if(e&&o){const l=new Set;e.forEach(p=>{const b=p.name;if(l.has(b))return;l.add(b);const k=this._triggers[b].fallbackTransition,Y=o[b]||kT,fe=new RT(Lv),Ne=new FT(this.id,b,r);this._engine.totalQueuedPlayers++,this._queue.push({element:r,triggerName:b,transition:k,fromState:Y,toState:fe,player:Ne,isFallbackTransition:!0})})}}removeNode(r,e){const o=this._engine;if(r.childElementCount&&this._signalRemovalForInnerTriggers(r,e),this.triggerLeaveAnimation(r,e,!0))return;let l=!1;if(o.totalAnimations){const p=o.players.length?o.playersByQueriedElement.get(r):[];if(p&&p.length)l=!0;else{let b=r;for(;b=b.parentNode;)if(o.statesByElement.get(b)){l=!0;break}}}if(this.prepareLeaveAnimationListeners(r),l)o.markElementAsRemoved(this.id,r,!1,e);else{const p=r[Kl];(!p||p===UD)&&(o.afterFlush(()=>this.clearElementCache(r)),o.destroyInnerAnimations(r),o._onRemovalComplete(r,e))}}insertNode(r,e){Yl(r,this._hostClassName)}drainQueuedTransitions(r){const e=[];return this._queue.forEach(o=>{const l=o.player;if(l.destroyed)return;const p=o.element,b=this._elementListeners.get(p);b&&b.forEach(x=>{if(x.name==o.triggerName){const k=_T(p,o.triggerName,o.fromState.value,o.toState.value);k._data=r,gT(o.player,x.phase,k,x.callback)}}),l.markedForDestroy?this._engine.afterFlush(()=>{l.destroy()}):e.push(o)}),this._queue=[],e.sort((o,l)=>{const p=o.transition.ast.depCount,b=l.transition.ast.depCount;return 0==p||0==b?p-b:this._engine.driver.containsElement(o.element,l.element)?1:-1})}destroy(r){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,r)}elementContainsData(r){let e=!1;return this._elementListeners.has(r)&&(e=!0),e=!!this._queue.find(o=>o.element===r)||e,e}}class FO{constructor(r,e,o){this.bodyNode=r,this.driver=e,this._normalizer=o,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(l,p)=>{}}_onRemovalComplete(r,e){this.onRemovalComplete(r,e)}get queuedPlayers(){const r=[];return this._namespaceList.forEach(e=>{e.players.forEach(o=>{o.queued&&r.push(o)})}),r}createNamespace(r,e){const o=new kO(r,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(o,e):(this.newHostElements.set(e,o),this.collectEnterElement(e)),this._namespaceLookup[r]=o}_balanceNamespaceList(r,e){const o=this._namespaceList,l=this.namespacesByHostElement,p=o.length-1;if(p>=0){let b=!1;if(void 0!==this.driver.getParentElement){let x=this.driver.getParentElement(e);for(;x;){const k=l.get(x);if(k){const Y=o.indexOf(k);o.splice(Y+1,0,r),b=!0;break}x=this.driver.getParentElement(x)}}else for(let x=p;x>=0;x--)if(this.driver.containsElement(o[x].hostElement,e)){o.splice(x+1,0,r),b=!0;break}b||o.unshift(r)}else o.push(r);return l.set(e,r),r}register(r,e){let o=this._namespaceLookup[r];return o||(o=this.createNamespace(r,e)),o}registerTrigger(r,e,o){let l=this._namespaceLookup[r];l&&l.register(e,o)&&this.totalAnimations++}destroy(r,e){if(!r)return;const o=this._fetchNamespace(r);this.afterFlush(()=>{this.namespacesByHostElement.delete(o.hostElement),delete this._namespaceLookup[r];const l=this._namespaceList.indexOf(o);l>=0&&this._namespaceList.splice(l,1)}),this.afterFlushAnimationsDone(()=>o.destroy(e))}_fetchNamespace(r){return this._namespaceLookup[r]}fetchNamespacesByElement(r){const e=new Set,o=this.statesByElement.get(r);if(o){const l=Object.keys(o);for(let p=0;p<l.length;p++){const b=o[l[p]].namespaceId;if(b){const x=this._fetchNamespace(b);x&&e.add(x)}}}return e}trigger(r,e,o,l){if(iC(e)){const p=this._fetchNamespace(r);if(p)return p.trigger(e,o,l),!0}return!1}insertNode(r,e,o,l){if(!iC(e))return;const p=e[Kl];if(p&&p.setForRemoval){p.setForRemoval=!1,p.setForMove=!0;const b=this.collectedLeaveElements.indexOf(e);b>=0&&this.collectedLeaveElements.splice(b,1)}if(r){const b=this._fetchNamespace(r);b&&b.insertNode(e,o)}l&&this.collectEnterElement(e)}collectEnterElement(r){this.collectedEnterElements.push(r)}markElementAsDisabled(r,e){e?this.disabledNodes.has(r)||(this.disabledNodes.add(r),Yl(r,NT)):this.disabledNodes.has(r)&&(this.disabledNodes.delete(r),sy(r,NT))}removeNode(r,e,o,l){if(iC(e)){const p=r?this._fetchNamespace(r):null;if(p?p.removeNode(e,l):this.markElementAsRemoved(r,e,!1,l),o){const b=this.namespacesByHostElement.get(e);b&&b.id!==r&&b.removeNode(e,l)}}else this._onRemovalComplete(e,l)}markElementAsRemoved(r,e,o,l,p){this.collectedLeaveElements.push(e),e[Kl]={namespaceId:r,setForRemoval:l,hasAnimation:o,removedBeforeQueried:!1,previousTriggersValues:p}}listen(r,e,o,l,p){return iC(e)?this._fetchNamespace(r).listen(e,o,l,p):()=>{}}_buildInstruction(r,e,o,l,p){return r.transition.build(this.driver,r.element,r.fromState.value,r.toState.value,o,l,r.fromState.options,r.toState.options,e,p)}destroyInnerAnimations(r){let e=this.driver.query(r,qb,!0);e.forEach(o=>this.destroyActiveAnimationsForElement(o)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(r,wT,!0),e.forEach(o=>this.finishActiveQueriedAnimationOnElement(o)))}destroyActiveAnimationsForElement(r){const e=this.playersByElement.get(r);e&&e.forEach(o=>{o.queued?o.markedForDestroy=!0:o.destroy()})}finishActiveQueriedAnimationOnElement(r){const e=this.playersByQueriedElement.get(r);e&&e.forEach(o=>o.finish())}whenRenderingDone(){return new Promise(r=>{if(this.players.length)return Hg(this.players).onDone(()=>r());r()})}processLeaveNode(r){var e;const o=r[Kl];if(o&&o.setForRemoval){if(r[Kl]=UD,o.namespaceId){this.destroyInnerAnimations(r);const l=this._fetchNamespace(o.namespaceId);l&&l.clearElementCache(r)}this._onRemovalComplete(r,o.setForRemoval)}(null===(e=r.classList)||void 0===e?void 0:e.contains(NT))&&this.markElementAsDisabled(r,!1),this.driver.query(r,".ng-animate-disabled",!0).forEach(l=>{this.markElementAsDisabled(l,!1)})}flush(r=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((o,l)=>this._balanceNamespaceList(o,l)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let o=0;o<this.collectedEnterElements.length;o++)Yl(this.collectedEnterElements[o],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const o=[];try{e=this._flushAnimations(o,r)}finally{for(let l=0;l<o.length;l++)o[l]()}}else for(let o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(o=>o()),this._flushFns=[],this._whenQuietFns.length){const o=this._whenQuietFns;this._whenQuietFns=[],e.length?Hg(e).onDone(()=>{o.forEach(l=>l())}):o.forEach(l=>l())}}reportError(r){throw function BM(n){return new t.vHH(3402,ii)}()}_flushAnimations(r,e){const o=new tC,l=[],p=new Map,b=[],x=new Map,k=new Map,Y=new Map,fe=new Set;this.disabledNodes.forEach(An=>{fe.add(An);const $n=this.driver.query(An,".ng-animate-queued",!0);for(let dr=0;dr<$n.length;dr++)fe.add($n[dr])});const Ne=this.bodyNode,Ye=Array.from(this.statesByElement.keys()),ze=jD(Ye,this.collectedEnterElements),ft=new Map;let vt=0;ze.forEach((An,$n)=>{const dr=CT+vt++;ft.set($n,dr),An.forEach(kr=>Yl(kr,dr))});const Kt=[],dn=new Set,bn=new Set;for(let An=0;An<this.collectedLeaveElements.length;An++){const $n=this.collectedLeaveElements[An],dr=$n[Kl];dr&&dr.setForRemoval&&(Kt.push($n),dn.add($n),dr.hasAnimation?this.driver.query($n,".ng-star-inserted",!0).forEach(kr=>dn.add(kr)):bn.add($n))}const cr=new Map,xn=jD(Ye,Array.from(dn));xn.forEach((An,$n)=>{const dr=Hb+vt++;cr.set($n,dr),An.forEach(kr=>Yl(kr,dr))}),r.push(()=>{ze.forEach((An,$n)=>{const dr=ft.get($n);An.forEach(kr=>sy(kr,dr))}),xn.forEach((An,$n)=>{const dr=cr.get($n);An.forEach(kr=>sy(kr,dr))}),Kt.forEach(An=>{this.processLeaveNode(An)})});const fr=[],gr=[];for(let An=this._namespaceList.length-1;An>=0;An--)this._namespaceList[An].drainQueuedTransitions(e).forEach(dr=>{const kr=dr.player,Vo=dr.element;if(fr.push(kr),this.collectedEnterElements.length){const _s=Vo[Kl];if(_s&&_s.setForMove){if(_s.previousTriggersValues&&_s.previousTriggersValues.has(dr.triggerName)){const Sc=_s.previousTriggersValues.get(dr.triggerName),Jl=this.statesByElement.get(dr.element);Jl&&Jl[dr.triggerName]&&(Jl[dr.triggerName].value=Sc)}return void kr.destroy()}}const lu=!Ne||!this.driver.containsElement(Ne,Vo),Os=cr.get(Vo),el=ft.get(Vo),Ti=this._buildInstruction(dr,o,el,Os,lu);if(Ti.errors&&Ti.errors.length)return void gr.push(Ti);if(lu)return kr.onStart(()=>O_(Vo,Ti.fromStyles)),kr.onDestroy(()=>ef(Vo,Ti.toStyles)),void l.push(kr);if(dr.isFallbackTransition)return kr.onStart(()=>O_(Vo,Ti.fromStyles)),kr.onDestroy(()=>ef(Vo,Ti.toStyles)),void l.push(kr);const Yd=[];Ti.timelines.forEach(_s=>{_s.stretchStartingKeyframe=!0,this.disabledNodes.has(_s.element)||Yd.push(_s)}),Ti.timelines=Yd,o.append(Vo,Ti.timelines),b.push({instruction:Ti,player:kr,element:Vo}),Ti.queriedElements.forEach(_s=>Qu(x,_s,[]).push(kr)),Ti.preStyleProps.forEach((_s,Sc)=>{const Jl=Object.keys(_s);if(Jl.length){let wp=k.get(Sc);wp||k.set(Sc,wp=new Set),Jl.forEach(k_=>wp.add(k_))}}),Ti.postStyleProps.forEach((_s,Sc)=>{const Jl=Object.keys(_s);let wp=Y.get(Sc);wp||Y.set(Sc,wp=new Set),Jl.forEach(k_=>wp.add(k_))})});if(gr.length){const An=[];gr.forEach($n=>{An.push(function VM(n,r){return new t.vHH(3505,ii)}())}),fr.forEach($n=>$n.destroy()),this.reportError(An)}const Dr=new Map,Ur=new Map;b.forEach(An=>{const $n=An.element;o.has($n)&&(Ur.set($n,$n),this._beforeAnimationBuild(An.player.namespaceId,An.instruction,Dr))}),l.forEach(An=>{const $n=An.element;this._getPreviousPlayers($n,!1,An.namespaceId,An.triggerName,null).forEach(kr=>{Qu(Dr,$n,[]).push(kr),kr.destroy()})});const Wi=Kt.filter(An=>HD(An,k,Y)),Ki=new Map;VD(Ki,this.driver,bn,Y,tc).forEach(An=>{HD(An,k,Y)&&Wi.push(An)});const xa=new Map;ze.forEach((An,$n)=>{VD(xa,this.driver,new Set(An),k,"!")}),Wi.forEach(An=>{const $n=Ki.get(An),dr=xa.get(An);Ki.set(An,Object.assign(Object.assign({},$n),dr))});const ds=[],qg=[],Zg={};b.forEach(An=>{const{element:$n,player:dr,instruction:kr}=An;if(o.has($n)){if(fe.has($n))return dr.onDestroy(()=>ef($n,kr.toStyles)),dr.disabled=!0,dr.overrideTotalTime(kr.totalTime),void l.push(dr);let Vo=Zg;if(Ur.size>1){let Os=$n;const el=[];for(;Os=Os.parentNode;){const Ti=Ur.get(Os);if(Ti){Vo=Ti;break}el.push(Os)}el.forEach(Ti=>Ur.set(Ti,Vo))}const lu=this._buildAnimation(dr.namespaceId,kr,Dr,p,xa,Ki);if(dr.setRealPlayer(lu),Vo===Zg)ds.push(dr);else{const Os=this.playersByElement.get(Vo);Os&&Os.length&&(dr.parentPlayer=Hg(Os)),l.push(dr)}}else O_($n,kr.fromStyles),dr.onDestroy(()=>ef($n,kr.toStyles)),qg.push(dr),fe.has($n)&&l.push(dr)}),qg.forEach(An=>{const $n=p.get(An.element);if($n&&$n.length){const dr=Hg($n);An.setRealPlayer(dr)}}),l.forEach(An=>{An.parentPlayer?An.syncPlayerEvents(An.parentPlayer):An.destroy()});for(let An=0;An<Kt.length;An++){const $n=Kt[An],dr=$n[Kl];if(sy($n,Hb),dr&&dr.hasAnimation)continue;let kr=[];if(x.size){let lu=x.get($n);lu&&lu.length&&kr.push(...lu);let Os=this.driver.query($n,wT,!0);for(let el=0;el<Os.length;el++){let Ti=x.get(Os[el]);Ti&&Ti.length&&kr.push(...Ti)}}const Vo=kr.filter(lu=>!lu.destroyed);Vo.length?VO(this,$n,Vo):this.processLeaveNode($n)}return Kt.length=0,ds.forEach(An=>{this.players.push(An),An.onDone(()=>{An.destroy();const $n=this.players.indexOf(An);this.players.splice($n,1)}),An.play()}),ds}elementContainsData(r,e){let o=!1;const l=e[Kl];return l&&l.setForRemoval&&(o=!0),this.playersByElement.has(e)&&(o=!0),this.playersByQueriedElement.has(e)&&(o=!0),this.statesByElement.has(e)&&(o=!0),this._fetchNamespace(r).elementContainsData(e)||o}afterFlush(r){this._flushFns.push(r)}afterFlushAnimationsDone(r){this._whenQuietFns.push(r)}_getPreviousPlayers(r,e,o,l,p){let b=[];if(e){const x=this.playersByQueriedElement.get(r);x&&(b=x)}else{const x=this.playersByElement.get(r);if(x){const k=!p||p==Lv;x.forEach(Y=>{Y.queued||!k&&Y.triggerName!=l||b.push(Y)})}}return(o||l)&&(b=b.filter(x=>!(o&&o!=x.namespaceId||l&&l!=x.triggerName))),b}_beforeAnimationBuild(r,e,o){const p=e.element,b=e.isRemovalTransition?void 0:r,x=e.isRemovalTransition?void 0:e.triggerName;for(const k of e.timelines){const Y=k.element,fe=Y!==p,Ne=Qu(o,Y,[]);this._getPreviousPlayers(Y,fe,b,x,e.toState).forEach(ze=>{const ft=ze.getRealPlayer();ft.beforeDestroy&&ft.beforeDestroy(),ze.destroy(),Ne.push(ze)})}O_(p,e.fromStyles)}_buildAnimation(r,e,o,l,p,b){const x=e.triggerName,k=e.element,Y=[],fe=new Set,Ne=new Set,Ye=e.timelines.map(ft=>{const vt=ft.element;fe.add(vt);const Kt=vt[Kl];if(Kt&&Kt.removedBeforeQueried)return new Vd(ft.duration,ft.delay);const dn=vt!==k,bn=function jO(n){const r=[];return GD(n,r),r}((o.get(vt)||NO).map(Dr=>Dr.getRealPlayer())).filter(Dr=>!!Dr.element&&Dr.element===vt),cr=p.get(vt),xn=b.get(vt),fr=pD(0,this._normalizer,0,ft.keyframes,cr,xn),gr=this._buildPlayer(ft,fr,bn);if(ft.subTimeline&&l&&Ne.add(vt),dn){const Dr=new FT(r,x,vt);Dr.setRealPlayer(gr),Y.push(Dr)}return gr});Y.forEach(ft=>{Qu(this.playersByQueriedElement,ft.element,[]).push(ft),ft.onDone(()=>function LO(n,r,e){let o;if(n instanceof Map){if(o=n.get(r),o){if(o.length){const l=o.indexOf(e);o.splice(l,1)}0==o.length&&n.delete(r)}}else if(o=n[r],o){if(o.length){const l=o.indexOf(e);o.splice(l,1)}0==o.length&&delete n[r]}return o}(this.playersByQueriedElement,ft.element,ft))}),fe.forEach(ft=>Yl(ft,ED));const ze=Hg(Ye);return ze.onDestroy(()=>{fe.forEach(ft=>sy(ft,ED)),ef(k,e.toStyles)}),Ne.forEach(ft=>{Qu(l,ft,[]).push(ze)}),ze}_buildPlayer(r,e,o){return e.length>0?this.driver.animate(r.element,e,r.duration,r.delay,r.easing,o):new Vd(r.duration,r.delay)}}class FT{constructor(r,e,o){this.namespaceId=r,this.triggerName=e,this.element=o,this._player=new Vd,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(r){this._containsRealPlayer||(this._player=r,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(o=>gT(r,e,void 0,o))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(r.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(r){this.totalTime=r}syncPlayerEvents(r){const e=this._player;e.triggerCallback&&r.onStart(()=>e.triggerCallback("start")),r.onDone(()=>this.finish()),r.onDestroy(()=>this.destroy())}_queueEvent(r,e){Qu(this._queuedCallbacks,r,[]).push(e)}onDone(r){this.queued&&this._queueEvent("done",r),this._player.onDone(r)}onStart(r){this.queued&&this._queueEvent("start",r),this._player.onStart(r)}onDestroy(r){this.queued&&this._queueEvent("destroy",r),this._player.onDestroy(r)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(r){this.queued||this._player.setPosition(r)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(r){const e=this._player;e.triggerCallback&&e.triggerCallback(r)}}function iC(n){return n&&1===n.nodeType}function BD(n,r){const e=n.style.display;return n.style.display=null!=r?r:"none",e}function VD(n,r,e,o,l){const p=[];e.forEach(k=>p.push(BD(k)));const b=[];o.forEach((k,Y)=>{const fe={};k.forEach(Ne=>{const Ye=fe[Ne]=r.computeStyle(Y,Ne,l);(!Ye||0==Ye.length)&&(Y[Kl]=RO,b.push(Y))}),n.set(Y,fe)});let x=0;return e.forEach(k=>BD(k,p[x++])),b}function jD(n,r){const e=new Map;if(n.forEach(x=>e.set(x,[])),0==r.length)return e;const l=new Set(r),p=new Map;function b(x){if(!x)return 1;let k=p.get(x);if(k)return k;const Y=x.parentNode;return k=e.has(Y)?Y:l.has(Y)?1:b(Y),p.set(x,k),k}return r.forEach(x=>{const k=b(x);1!==k&&e.get(k).push(x)}),e}function Yl(n,r){var e;null===(e=n.classList)||void 0===e||e.add(r)}function sy(n,r){var e;null===(e=n.classList)||void 0===e||e.remove(r)}function VO(n,r,e){Hg(e).onDone(()=>n.processLeaveNode(r))}function GD(n,r){for(let e=0;e<n.length;e++){const o=n[e];o instanceof ep?GD(o.players,r):r.push(o)}}function HD(n,r,e){const o=e.get(n);if(!o)return!1;let l=r.get(n);return l?o.forEach(p=>l.add(p)):r.set(n,o),e.delete(n),!0}class oC{constructor(r,e,o){this.bodyNode=r,this._driver=e,this._normalizer=o,this._triggerCache={},this.onRemovalComplete=(l,p)=>{},this._transitionEngine=new FO(r,e,o),this._timelineEngine=new AO(r,e,o),this._transitionEngine.onRemovalComplete=(l,p)=>this.onRemovalComplete(l,p)}registerTrigger(r,e,o,l,p){const b=r+"-"+l;let x=this._triggerCache[b];if(!x){const k=[],fe=ST(this._driver,p,k,[]);if(k.length)throw function IM(n,r){return new t.vHH(3404,ii)}();x=function EO(n,r,e){return new DO(n,r,e)}(l,fe,this._normalizer),this._triggerCache[b]=x}this._transitionEngine.registerTrigger(e,l,x)}register(r,e){this._transitionEngine.register(r,e)}destroy(r,e){this._transitionEngine.destroy(r,e)}onInsert(r,e,o,l){this._transitionEngine.insertNode(r,e,o,l)}onRemove(r,e,o,l){this._transitionEngine.removeNode(r,e,l||!1,o)}disableAnimations(r,e){this._transitionEngine.markElementAsDisabled(r,e)}process(r,e,o,l){if("@"==o.charAt(0)){const[p,b]=gD(o);this._timelineEngine.command(p,e,b,l)}else this._transitionEngine.trigger(r,e,o,l)}listen(r,e,o,l,p){if("@"==o.charAt(0)){const[b,x]=gD(o);return this._timelineEngine.listen(b,e,x,p)}return this._transitionEngine.listen(r,e,o,l,p)}flush(r=-1){this._transitionEngine.flush(r)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let $O=(()=>{class n{constructor(e,o,l){this._element=e,this._startStyles=o,this._endStyles=l,this._state=0;let p=n.initialStylesByElement.get(e);p||n.initialStylesByElement.set(e,p={}),this._initialStyles=p}start(){this._state<1&&(this._startStyles&&ef(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ef(this._element,this._initialStyles),this._endStyles&&(ef(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(O_(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(O_(this._element,this._endStyles),this._endStyles=null),ef(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function LT(n){let r=null;const e=Object.keys(n);for(let o=0;o<e.length;o++){const l=e[o];qO(l)&&(r=r||{},r[l]=n[l])}return r}function qO(n){return"display"===n||"position"===n}class $D{constructor(r,e,o,l){this.element=r,this.keyframes=e,this.options=o,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=o.duration,this._delay=o.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(r=>r()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const r=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,r,this.options),this._finalKeyframe=r.length?r[r.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(r,e,o){return r.animate(e,o)}onStart(r){this._onStartFns.push(r)}onDone(r){this._onDoneFns.push(r)}onDestroy(r){this._onDestroyFns.push(r)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(r=>r()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(r=>r()),this._onDestroyFns=[])}setPosition(r){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=r*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const r={};if(this.hasStarted()){const e=this._finalKeyframe;Object.keys(e).forEach(o=>{"offset"!=o&&(r[o]=this._finished?e[o]:ID(this.element,o))})}this.currentSnapshot=r}triggerCallback(r){const e="start"==r?this._onStartFns:this._onDoneFns;e.forEach(o=>o()),e.length=0}}class ZO{validateStyleProperty(r){return vD(r)}matchesElement(r,e){return!1}containsElement(r,e){return bD(r,e)}getParentElement(r){return vT(r)}query(r,e,o){return CD(r,e,o)}computeStyle(r,e,o){return window.getComputedStyle(r)[e]}animate(r,e,o,l,p,b=[]){const k={duration:o,delay:l,fill:0==l?"both":"forwards"};p&&(k.easing=p);const Y={},fe=b.filter(Ye=>Ye instanceof $D);(function YM(n,r){return 0===n||0===r})(o,l)&&fe.forEach(Ye=>{let ze=Ye.currentSnapshot;Object.keys(ze).forEach(ft=>Y[ft]=ze[ft])}),e=function JM(n,r,e){const o=Object.keys(e);if(o.length&&r.length){let p=r[0],b=[];if(o.forEach(x=>{p.hasOwnProperty(x)||b.push(x),p[x]=e[x]}),b.length)for(var l=1;l<r.length;l++){let x=r[l];b.forEach(function(k){x[k]=ID(n,k)})}}return r}(r,e=e.map(Ye=>$g(Ye,!1)),Y);const Ne=function HO(n,r){let e=null,o=null;return Array.isArray(r)&&r.length?(e=LT(r[0]),r.length>1&&(o=LT(r[r.length-1]))):r&&(e=LT(r)),e||o?new $O(n,e,o):null}(r,e);return new $D(r,e,k,Ne)}}let zO=(()=>{class n extends fg{constructor(e,o){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(o.body,{id:"0",encapsulation:t.ifc.None,styles:[],data:{animation:[]}})}build(e){const o=this._nextAnimationId.toString();this._nextAnimationId++;const l=Array.isArray(e)?m0(e):e;return qD(this._renderer,null,o,"register",[l]),new WO(o,this._renderer)}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG($))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class WO extends class $v{}{constructor(r,e){super(),this._id=r,this._renderer=e}create(r,e){return new KO(this._id,r,e||{},this._renderer)}}class KO{constructor(r,e,o,l){this.id=r,this.element=e,this._renderer=l,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",o)}_listen(r,e){return this._renderer.listen(this.element,`@@${this.id}:${r}`,e)}_command(r,...e){return qD(this._renderer,this.element,this.id,r,e)}onDone(r){this._listen("done",r)}onStart(r){this._listen("start",r)}onDestroy(r){this._listen("destroy",r)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(r){this._command("setPosition",r)}getPosition(){var r,e;return null!==(e=null===(r=this._renderer.engine.players[+this.id])||void 0===r?void 0:r.getPosition())&&void 0!==e?e:0}}function qD(n,r,e,o,l){return n.setProperty(r,`@@${e}:${o}`,l)}const ZD="@.disabled";let YO=(()=>{class n{constructor(e,o,l){this.delegate=e,this.engine=o,this._zone=l,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),o.onRemovalComplete=(p,b)=>{const x=null==b?void 0:b.parentNode(p);x&&b.removeChild(x,p)}}createRenderer(e,o){const p=this.delegate.createRenderer(e,o);if(!(e&&o&&o.data&&o.data.animation)){let fe=this._rendererCache.get(p);return fe||(fe=new zD("",p,this.engine),this._rendererCache.set(p,fe)),fe}const b=o.id,x=o.id+"-"+this._currentId;this._currentId++,this.engine.register(x,e);const k=fe=>{Array.isArray(fe)?fe.forEach(k):this.engine.registerTrigger(b,x,e,fe.name,fe)};return o.data.animation.forEach(k),new JO(this,x,p,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,o,l){e>=0&&e<this._microtaskId?this._zone.run(()=>o(l)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(p=>{const[b,x]=p;b(x)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([o,l]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(t.FYo),t.LFG(oC),t.LFG(t.R0b))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();class zD{constructor(r,e,o){this.namespaceId=r,this.delegate=e,this.engine=o,this.destroyNode=this.delegate.destroyNode?l=>e.destroyNode(l):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(r,e){return this.delegate.createElement(r,e)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}appendChild(r,e){this.delegate.appendChild(r,e),this.engine.onInsert(this.namespaceId,e,r,!1)}insertBefore(r,e,o,l=!0){this.delegate.insertBefore(r,e,o),this.engine.onInsert(this.namespaceId,e,r,l)}removeChild(r,e,o){this.engine.onRemove(this.namespaceId,e,this.delegate,o)}selectRootElement(r,e){return this.delegate.selectRootElement(r,e)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,e,o,l){this.delegate.setAttribute(r,e,o,l)}removeAttribute(r,e,o){this.delegate.removeAttribute(r,e,o)}addClass(r,e){this.delegate.addClass(r,e)}removeClass(r,e){this.delegate.removeClass(r,e)}setStyle(r,e,o,l){this.delegate.setStyle(r,e,o,l)}removeStyle(r,e,o){this.delegate.removeStyle(r,e,o)}setProperty(r,e,o){"@"==e.charAt(0)&&e==ZD?this.disableAnimations(r,!!o):this.delegate.setProperty(r,e,o)}setValue(r,e){this.delegate.setValue(r,e)}listen(r,e,o){return this.delegate.listen(r,e,o)}disableAnimations(r,e){this.engine.disableAnimations(r,e)}}class JO extends zD{constructor(r,e,o,l){super(e,o,l),this.factory=r,this.namespaceId=e}setProperty(r,e,o){"@"==e.charAt(0)?"."==e.charAt(1)&&e==ZD?this.disableAnimations(r,o=void 0===o||!!o):this.engine.process(this.namespaceId,r,e.substr(1),o):this.delegate.setProperty(r,e,o)}listen(r,e,o){if("@"==e.charAt(0)){const l=function QO(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(r);let p=e.substr(1),b="";return"@"!=p.charAt(0)&&([p,b]=function XO(n){const r=n.indexOf(".");return[n.substring(0,r),n.substr(r+1)]}(p)),this.engine.listen(this.namespaceId,l,p,b,x=>{this.factory.scheduleListenerCallback(x._data||-1,o,x)})}return this.delegate.listen(r,e,o)}}let eN=(()=>{class n extends oC{constructor(e,o,l){super(e.body,o,l)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG($),t.LFG(bT),t.LFG(MT))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();const WD=new t.OlP("AnimationModuleType"),KD=[{provide:fg,useClass:zO},{provide:MT,useFactory:function tN(){return new vO}},{provide:oC,useClass:eN},{provide:t.FYo,useFactory:function nN(n,r,e){return new YO(n,r,e)},deps:[ai,oC,t.R0b]}],YD=[{provide:bT,useFactory:()=>new ZO},{provide:WD,useValue:"BrowserAnimations"},...KD],rN=[{provide:bT,useClass:wD},{provide:WD,useValue:"NoopAnimations"},...KD];let iN=(()=>{class n{static withConfig(e){return{ngModule:n,providers:e.disableAnimations?rN:YD}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:YD,imports:[Va]}),n})();var JD=M(3692),QD=M(2292);const XD={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};!function Zn(n,r,e){(0,t.dwT)(n,r,e)}(KS,"es");let oN=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n,bootstrap:[e1]}),n.\u0275inj=t.cJS({providers:[Xh,dT,{provide:t.soG,useValue:"es"},{provide:Hu.Dh,useValue:XD.firebaseConfig}],imports:[[Va,iN,zS,Ee,Ko,Ve,vf,Bo,Fm.forRoot(aM),Hd,Km.forRoot({defaultLanguage:$a.q.defaultLanguage}),(0,JD.hX)(()=>(0,JD.ZF)(XD.firebaseConfig)),(0,QD.Cm)(()=>(0,QD.ad)())]]}),n})();ac().bootstrapModule(oN).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(nt,A,M)=>{"use strict";M(8583);const C="undefined"!=typeof globalThis&&globalThis,E="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=C||"undefined"!=typeof global&&global||E||N,$=function(ne,...ae){if($.translate){const $e=$.translate(ne,ae);ne=$e[0],ae=$e[1]}let Je=J(ne[0],ne.raw[0]);for(let $e=1;$e<ne.length;$e++)Je+=ae[$e-1]+J(ne[$e],ne.raw[$e]);return Je};function J(ne,ae){return":"===ae.charAt(0)?ne.substring(function W(ne,ae){for(let Je=1,$e=1;Je<ne.length;Je++,$e++)if("\\"===ae[$e])$e++;else if(":"===ne[Je])return Je;throw new Error(`Unterminated $localize metadata block in "${ae}".`)}(ne,ae)+1):ne}j.$localize=$},5867:(nt,A,M)=>{"use strict";M.d(A,{C6:()=>t.getApps,KN:()=>t.registerVersion,Mq:()=>t.getApp,ZF:()=>t.initializeApp});var t=M(9681);(0,t.registerVersion)("firebase","9.6.9","app")},127:(nt,A,M)=>{"use strict";M.d(A,{Z:()=>t.Z});var t=M(3942);t.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(nt,A,M)=>{"use strict";M.d(A,{ET:()=>rc,hJ:()=>Wm,oe:()=>ra,JU:()=>Cc,ad:()=>Jm,cf:()=>Ag,pl:()=>xg,qs:()=>Ny});var z,t=M(5861),C=M(9681),E=M(4859),N=M(1877),P=M(2090),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},$={},J=J||{},W=j||self;function ne(){}function ae(u){var i=typeof u;return"array"==(i="object"!=i?i:u?Array.isArray(u)?"array":i:"null")||"object"==i&&"number"==typeof u.length}function Je(u){var i=typeof u;return"object"==i&&null!=u||"function"==i}var Ge="closure_uid_"+(1e9*Math.random()>>>0),ut=0;function ue(u,i,c){return u.call.apply(u.bind,arguments)}function Me(u,i,c){if(!u)throw Error();if(2<arguments.length){var h=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,h),u.apply(i,g)}}return function(){return u.apply(i,arguments)}}function De(u,i,c){return(De=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ue:Me).apply(null,arguments)}function rt(u,i){var c=Array.prototype.slice.call(arguments,1);return function(){var h=c.slice();return h.push.apply(h,arguments),u.apply(this,h)}}function Be(u,i){function c(){}c.prototype=i.prototype,u.Z=i.prototype,u.prototype=new c,u.prototype.constructor=u,u.Vb=function(h,g,v){for(var D=Array(arguments.length-2),F=2;F<arguments.length;F++)D[F-2]=arguments[F];return i.prototype[g].apply(h,D)}}function qe(){this.s=this.s,this.o=this.o}var He={};qe.prototype.s=!1,qe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var u=function $e(u){return Object.prototype.hasOwnProperty.call(u,Ge)&&u[Ge]||(u[Ge]=++ut)}(this);delete He[u]}},qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ie=Array.prototype.indexOf?function(u,i){return Array.prototype.indexOf.call(u,i,void 0)}:function(u,i){if("string"==typeof u)return"string"!=typeof i||1!=i.length?-1:u.indexOf(i,0);for(let c=0;c<u.length;c++)if(c in u&&u[c]===i)return c;return-1},it=Array.prototype.forEach?function(u,i,c){Array.prototype.forEach.call(u,i,c)}:function(u,i,c){const h=u.length,g="string"==typeof u?u.split(""):u;for(let v=0;v<h;v++)v in g&&i.call(c,g[v],v,u)};function oe(u){return Array.prototype.concat.apply([],arguments)}function Q(u){const i=u.length;if(0<i){const c=Array(i);for(let h=0;h<i;h++)c[h]=u[h];return c}return[]}function ge(u){return/^[\s\xa0]*$/.test(u)}var Dt,Pe=String.prototype.trim?function(u){return u.trim()}:function(u){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(u)[1]};function de(u,i){return-1!=u.indexOf(i)}function gt(u,i){return u<i?-1:u>i?1:0}e:{var pn=W.navigator;if(pn){var wt=pn.userAgent;if(wt){Dt=wt;break e}}Dt=""}function mt(u,i,c){for(const h in u)i.call(c,u[h],h,u)}function xt(u){const i={};for(const c in u)i[c]=u[c];return i}var cn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tr(u,i){let c,h;for(let g=1;g<arguments.length;g++){for(c in h=arguments[g],h)u[c]=h[c];for(let v=0;v<cn.length;v++)c=cn[v],Object.prototype.hasOwnProperty.call(h,c)&&(u[c]=h[c])}}function Fn(u){return Fn[" "](u),u}Fn[" "]=ne;var Fr,u,rr=de(Dt,"Opera"),Xn=de(Dt,"Trident")||de(Dt,"MSIE"),Hr=de(Dt,"Edge"),mr=Hr||Xn,xr=de(Dt,"Gecko")&&!(de(Dt.toLowerCase(),"webkit")&&!de(Dt,"Edge"))&&!(de(Dt,"Trident")||de(Dt,"MSIE"))&&!de(Dt,"Edge"),ki=de(Dt.toLowerCase(),"webkit")&&!de(Dt,"Edge");function wi(){var u=W.document;return u?u.documentMode:void 0}e:{var Br="",Ei=(u=Dt,xr?/rv:([^\);]+)(\)|;)/.exec(u):Hr?/Edge\/([\d\.]+)/.exec(u):Xn?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(u):ki?/WebKit\/(\S+)/.exec(u):rr?/(?:Version)[ \/]?(\S+)/.exec(u):void 0);if(Ei&&(Br=Ei?Ei[1]:""),Xn){var gn=wi();if(null!=gn&&gn>parseFloat(Br)){Fr=String(gn);break e}}Fr=Br}var Ni={};var Qe=W.document&&Xn&&(wi()||parseInt(Fr,10))||void 0,ct=function(){if(!W.addEventListener||!Object.defineProperty)return!1;var u=!1,i=Object.defineProperty({},"passive",{get:function(){u=!0}});try{W.addEventListener("test",ne,i),W.removeEventListener("test",ne,i)}catch(c){}return u}();function Xe(u,i){this.type=u,this.g=this.target=i,this.defaultPrevented=!1}function yt(u,i){if(Xe.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var c=this.type=u.type,h=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=i,i=u.relatedTarget){if(xr){e:{try{Fn(i.nodeName);var g=!0;break e}catch(v){}g=!1}g||(i=null)}}else"mouseover"==c?i=u.fromElement:"mouseout"==c&&(i=u.toElement);this.relatedTarget=i,h?(this.clientX=void 0!==h.clientX?h.clientX:h.pageX,this.clientY=void 0!==h.clientY?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0):(this.clientX=void 0!==u.clientX?u.clientX:u.pageX,this.clientY=void 0!==u.clientY?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType="string"==typeof u.pointerType?u.pointerType:kt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&yt.Z.h.call(this)}}Xe.prototype.h=function(){this.defaultPrevented=!0},Be(yt,Xe);var kt={2:"touch",3:"pen",4:"mouse"};yt.prototype.h=function(){yt.Z.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Pt="closure_listenable_"+(1e6*Math.random()|0),Ct=0;function Lt(u,i,c,h,g){this.listener=u,this.proxy=null,this.src=i,this.type=c,this.capture=!!h,this.ia=g,this.key=++Ct,this.ca=this.fa=!1}function mn(u){u.ca=!0,u.listener=null,u.proxy=null,u.src=null,u.ia=null}function tn(u){this.src=u,this.g={},this.h=0}function Xt(u,i){var c=i.type;if(c in u.g){var v,h=u.g[c],g=Ie(h,i);(v=0<=g)&&Array.prototype.splice.call(h,g,1),v&&(mn(i),0==u.g[c].length&&(delete u.g[c],u.h--))}}function Mn(u,i,c,h){for(var g=0;g<u.length;++g){var v=u[g];if(!v.ca&&v.listener==i&&v.capture==!!c&&v.ia==h)return g}return-1}tn.prototype.add=function(u,i,c,h,g){var v=u.toString();(u=this.g[v])||(u=this.g[v]=[],this.h++);var D=Mn(u,i,h,g);return-1<D?(i=u[D],c||(i.fa=!1)):((i=new Lt(i,this.src,v,!!h,g)).fa=c,u.push(i)),i};var Cn="closure_lm_"+(1e6*Math.random()|0),Wn={};function Ht(u,i,c,h,g){if(h&&h.once)return Tt(u,i,c,h,g);if(Array.isArray(i)){for(var v=0;v<i.length;v++)Ht(u,i[v],c,h,g);return null}return c=pe(c),u&&u[Pt]?u.N(i,c,Je(h)?!!h.capture:!!h,g):vr(u,i,c,!1,h,g)}function vr(u,i,c,h,g,v){if(!i)throw Error("Invalid event type");var D=Je(g)?!!g.capture:!!g,F=yn(u);if(F||(u[Cn]=F=new tn(u)),(c=F.add(i,c,h,D,v)).proxy)return c;if(h=function Dn(){var i=In;return function u(c){return i.call(u.src,u.listener,c)}}(),c.proxy=h,h.src=u,h.listener=c,u.addEventListener)ct||(g=D),void 0===g&&(g=!1),u.addEventListener(i.toString(),h,g);else if(u.attachEvent)u.attachEvent(zt(i.toString()),h);else{if(!u.addListener||!u.removeListener)throw Error("addEventListener and attachEvent are unavailable.");u.addListener(h)}return c}function Tt(u,i,c,h,g){if(Array.isArray(i)){for(var v=0;v<i.length;v++)Tt(u,i[v],c,h,g);return null}return c=pe(c),u&&u[Pt]?u.O(i,c,Je(h)?!!h.capture:!!h,g):vr(u,i,c,!0,h,g)}function et(u,i,c,h,g){if(Array.isArray(i))for(var v=0;v<i.length;v++)et(u,i[v],c,h,g);else h=Je(h)?!!h.capture:!!h,c=pe(c),u&&u[Pt]?(u=u.i,(i=String(i).toString())in u.g&&-1<(c=Mn(v=u.g[i],c,h,g))&&(mn(v[c]),Array.prototype.splice.call(v,c,1),0==v.length&&(delete u.g[i],u.h--))):u&&(u=yn(u))&&(i=u.g[i.toString()],u=-1,i&&(u=Mn(i,c,h,g)),(c=-1<u?i[u]:null)&&Vt(c))}function Vt(u){if("number"!=typeof u&&u&&!u.ca){var i=u.src;if(i&&i[Pt])Xt(i.i,u);else{var c=u.type,h=u.proxy;i.removeEventListener?i.removeEventListener(c,h,u.capture):i.detachEvent?i.detachEvent(zt(c),h):i.addListener&&i.removeListener&&i.removeListener(h),(c=yn(i))?(Xt(c,u),0==c.h&&(c.src=null,i[Cn]=null)):mn(u)}}}function zt(u){return u in Wn?Wn[u]:Wn[u]="on"+u}function In(u,i){if(u.ca)u=!0;else{i=new yt(i,this);var c=u.listener,h=u.ia||u.src;u.fa&&Vt(u),u=c.call(h,i)}return u}function yn(u){return(u=u[Cn])instanceof tn?u:null}var be="__closure_events_fn_"+(1e9*Math.random()>>>0);function pe(u){return"function"==typeof u?u:(u[be]||(u[be]=function(i){return u.handleEvent(i)}),u[be])}function me(){qe.call(this),this.i=new tn(this),this.P=this,this.I=null}function Ze(u,i){var c,h=u.I;if(h)for(c=[];h;h=h.I)c.push(h);if(u=u.P,h=i.type||i,"string"==typeof i)i=new Xe(i,u);else if(i instanceof Xe)i.target=i.target||u;else{var g=i;tr(i=new Xe(h,u),g)}if(g=!0,c)for(var v=c.length-1;0<=v;v--){var D=i.g=c[v];g=ke(D,h,!0,i)&&g}if(g=ke(D=i.g=u,h,!0,i)&&g,g=ke(D,h,!1,i)&&g,c)for(v=0;v<c.length;v++)g=ke(D=i.g=c[v],h,!1,i)&&g}function ke(u,i,c,h){if(!(i=u.i.g[String(i)]))return!0;i=i.concat();for(var g=!0,v=0;v<i.length;++v){var D=i[v];if(D&&!D.ca&&D.capture==c){var F=D.listener,q=D.ia||D.src;D.fa&&Xt(u.i,D),g=!1!==F.call(q,h)&&g}}return g&&!h.defaultPrevented}Be(me,qe),me.prototype[Pt]=!0,me.prototype.removeEventListener=function(u,i,c,h){et(this,u,i,c,h)},me.prototype.M=function(){if(me.Z.M.call(this),this.i){var i,u=this.i;for(i in u.g){for(var c=u.g[i],h=0;h<c.length;h++)mn(c[h]);delete u.g[i],u.h--}}this.I=null},me.prototype.N=function(u,i,c,h){return this.i.add(String(u),i,!1,c,h)},me.prototype.O=function(u,i,c,h){return this.i.add(String(u),i,!0,c,h)};var Nt=W.JSON.stringify;function Tn(){var u=st;let i=null;return u.g&&(i=u.g,u.g=u.g.next,u.g||(u.h=null),i.next=null),i}var Sn,ir=new class{constructor(u,i){this.i=u,this.j=i,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}(()=>new Gn,u=>u.reset());class Gn{constructor(){this.next=this.g=this.h=null}set(i,c){this.h=i,this.g=c,this.next=null}reset(){this.next=this.g=this.h=null}}function nr(u){W.setTimeout(()=>{throw u},0)}function nn(u,i){Sn||function rn(){var u=W.Promise.resolve(void 0);Sn=function(){u.then(un)}}(),Le||(Sn(),Le=!0),st.add(u,i)}var Le=!1,st=new class On{constructor(){this.h=this.g=null}add(i,c){const h=ir.get();h.set(i,c),this.h?this.h.next=h:this.g=h,this.h=h}};function un(){for(var u;u=Tn();){try{u.h.call(u.g)}catch(c){nr(c)}var i=ir;i.j(u),100>i.h&&(i.h++,u.next=i.g,i.g=u)}Le=!1}function Ln(u,i){me.call(this),this.h=u||1,this.g=i||W,this.j=De(this.kb,this),this.l=Date.now()}function or(u){u.da=!1,u.S&&(u.g.clearTimeout(u.S),u.S=null)}function jt(u,i,c){if("function"==typeof u)c&&(u=De(u,c));else{if(!u||"function"!=typeof u.handleEvent)throw Error("Invalid listener argument");u=De(u.handleEvent,u)}return 2147483647<Number(i)?-1:W.setTimeout(u,i||0)}function Bt(u){u.g=jt(()=>{u.g=null,u.i&&(u.i=!1,Bt(u))},u.j);const i=u.h;u.h=null,u.m.apply(null,i)}Be(Ln,me),(z=Ln.prototype).da=!1,z.S=null,z.kb=function(){if(this.da){var u=Date.now()-this.l;0<u&&u<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-u):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Ze(this,"tick"),this.da&&(or(this),this.start()))}},z.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},z.M=function(){Ln.Z.M.call(this),or(this),delete this.g};class je extends qe{constructor(i,c){super(),this.m=i,this.j=c,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:Bt(this)}M(){super.M(),this.g&&(W.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bt(u){qe.call(this),this.h=u,this.g={}}Be(bt,qe);var $t=[];function en(u,i,c,h){Array.isArray(c)||(c&&($t[0]=c.toString()),c=$t);for(var g=0;g<c.length;g++){var v=Ht(i,c[g],h||u.handleEvent,!1,u.h||u);if(!v)break;u.g[v.key]=v}}function sn(u){mt(u.g,function(i,c){this.g.hasOwnProperty(c)&&Vt(i)},u),u.g={}}function En(){this.g=!0}function Rn(u,i,c,h){u.info(function(){return"XMLHTTP TEXT ("+i+"): "+function Zn(u,i){if(!u.g)return i;if(!i)return null;try{var c=JSON.parse(i);if(c)for(u=0;u<c.length;u++)if(Array.isArray(c[u])){var h=c[u];if(!(2>h.length)){var g=h[1];if(Array.isArray(g)&&!(1>g.length)){var v=g[0];if("noop"!=v&&"stop"!=v&&"close"!=v)for(var D=1;D<g.length;D++)g[D]=""}}}return Nt(c)}catch(F){return i}}(u,c)+(h?" "+h:"")})}bt.prototype.M=function(){bt.Z.M.call(this),sn(this)},bt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},En.prototype.Aa=function(){this.g=!1},En.prototype.info=function(){};var Ar={},Ir=null;function Co(){return Ir=Ir||new me}function Fi(u){Xe.call(this,Ar.Ma,u)}function ur(u){const i=Co();Ze(i,new Fi(i,u))}function Yi(u,i){Xe.call(this,Ar.STAT_EVENT,u),this.stat=i}function Pr(u){const i=Co();Ze(i,new Yi(i,u))}function Fe(u,i){Xe.call(this,Ar.Na,u),this.size=i}function Oe(u,i){if("function"!=typeof u)throw Error("Fn must not be null and must be a function");return W.setTimeout(function(){u()},i)}Ar.Ma="serverreachability",Be(Fi,Xe),Ar.STAT_EVENT="statevent",Be(Yi,Xe),Ar.Na="timingevent",Be(Fe,Xe);var ot={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},St={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Mt(){}function sr(){}Mt.prototype.h=null;var rs,Mr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function pr(){Xe.call(this,"d")}function ui(){Xe.call(this,"c")}function qr(){}function Ns(u,i,c,h){this.l=u,this.j=i,this.m=c,this.X=h||1,this.V=new bt(this),this.P=Aa,this.W=new Ln(u=mr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}Be(pr,Xe),Be(ui,Xe),Be(qr,Mt),qr.prototype.g=function(){return new XMLHttpRequest},qr.prototype.i=function(){return{}},rs=new qr;var Aa=45e3,Ia={},Mo={};function oa(u,i,c){u.K=1,u.v=Te(le(i)),u.s=c,u.U=!0,Rs(u,null)}function Rs(u,i){u.F=Date.now(),vs(u),u.A=le(u.v);var c=u.A,h=u.X;Array.isArray(h)||(h=[String(h)]),Kr(c.h,"t",h),u.C=0,c=u.l.H,u.h=new Li,u.g=js(u.l,c?i:null,!u.s),0<u.O&&(u.L=new je(De(u.Ia,u,u.g),u.O)),en(u.V,u.g,"readystatechange",u.gb),i=u.H?xt(u.H):{},u.s?(u.u||(u.u="POST"),i["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.s,i)):(u.u="GET",u.g.ea(u.A,u.u,null,i)),ur(1),function Vn(u,i,c,h,g,v){u.info(function(){if(u.g)if(v)for(var D="",F=v.split("&"),q=0;q<F.length;q++){var te=F[q].split("=");if(1<te.length){var xe=te[0];te=te[1];var Ve=xe.split("_");D=2<=Ve.length&&"type"==Ve[1]?D+(xe+"=")+te+"&":D+(xe+"=redacted&")}}else D=null;else D=v;return"XMLHTTP REQ ("+h+") [attempt "+g+"]: "+i+"\n"+c+"\n"+D})}(u.j,u.u,u.A,u.m,u.X,u.s)}function Di(u){return!!u.g&&"GET"==u.u&&2!=u.K&&u.l.Ba}function ys(u,i,c){let g,h=!0;for(;!u.I&&u.C<c.length;){if(g=xc(u,c),g==Mo){4==i&&(u.o=4,Pr(14),h=!1),Rn(u.j,u.m,null,"[Incomplete Response]");break}if(g==Ia){u.o=4,Pr(15),Rn(u.j,u.m,c,"[Invalid Chunk]"),h=!1;break}Rn(u.j,u.m,g,null),Pa(u,g)}Di(u)&&g!=Mo&&g!=Ia&&(u.h.g="",u.C=0),4!=i||0!=c.length||u.h.h||(u.o=1,Pr(16),h=!1),u.i=u.i&&h,h?0<c.length&&!u.aa&&(u.aa=!0,(i=u.l).g==u&&i.$&&!i.L&&(i.h.info("Great, no buffering proxy detected. Bytes received: "+c.length),ed(i),i.L=!0,Pr(11))):(Rn(u.j,u.m,c,"[Invalid Chunked Response]"),Oo(u),is(u))}function xc(u,i){var c=u.C,h=i.indexOf("\n",c);return-1==h?Mo:(c=Number(i.substring(c,h)),isNaN(c)?Ia:(h+=1)+c>i.length?Mo:(i=i.substr(h,c),u.C=h+c,i))}function vs(u){u.Y=Date.now()+u.P,ks(u,u.P)}function ks(u,i){if(null!=u.B)throw Error("WatchDog timer not null");u.B=Oe(De(u.eb,u),i)}function jo(u){u.B&&(W.clearTimeout(u.B),u.B=null)}function is(u){0==u.l.G||u.I||td(u.l,u)}function Oo(u){jo(u);var i=u.L;i&&"function"==typeof i.na&&i.na(),u.L=null,or(u.W),sn(u.V),u.g&&(i=u.g,u.g=null,i.abort(),i.na())}function Pa(u,i){try{var c=u.l;if(0!=c.G&&(c.g==u||so(c.i,u)))if(c.I=u.N,!u.J&&so(c.i,u)&&3==c.G){try{var h=c.Ca.g.parse(i)}catch(te){h=null}if(Array.isArray(h)&&3==h.length){var g=h;if(0==g[0])e:if(c.u)c.ta=g[1],0<c.ta-c.U&&37500>g[2]&&c.N&&0==c.A&&!c.v&&(c.v=Oe(De(c.ab,c),6e3));else{if(c.g){if(!(c.g.F+3e3<u.F))break e;Oc(c),ua(c)}Mc(c),Pr(18)}if(1>=os(c.i)&&c.ka){try{c.ka()}catch(te){}c.ka=void 0}}else as(c,11)}else if((u.J||c.g==u)&&Oc(c),!ge(i))for(g=c.Ca.g.parse(i),i=0;i<g.length;i++){let te=g[i];if(c.U=te[0],te=te[1],2==c.G)if("c"==te[0]){c.J=te[1],c.la=te[2];const xe=te[3];null!=xe&&(c.ma=xe,c.h.info("VER="+c.ma));const Ve=te[4];null!=Ve&&(c.za=Ve,c.h.info("SVER="+c.za));const ht=te[5];null!=ht&&"number"==typeof ht&&0<ht&&(c.K=h=1.5*ht,c.h.info("backChannelRequestTimeoutMs_="+h)),h=c;const At=u.g;if(At){const Ut=At.g?At.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ut){var v=h.i;!v.g&&(de(Ut,"spdy")||de(Ut,"quic")||de(Ut,"h2"))&&(v.j=v.l,v.g=new Set,v.h&&(bs(v,v.h),v.h=null))}if(h.D){const wn=At.g?At.g.getResponseHeader("X-HTTP-Session-Id"):null;wn&&(h.sa=wn,K(h.F,h.D,wn))}}c.G=3,c.j&&c.j.xa(),c.$&&(c.O=Date.now()-u.F,c.h.info("Handshake RTT: "+c.O+"ms"));var D=u;if((h=c).oa=Eo(h,h.H?h.la:null,h.W),D.J){ka(h.i,D);var F=D,q=h.K;q&&F.setTimeout(q),F.B&&(jo(F),vs(F)),h.g=D}else pu(h);0<c.l.length&&fu(c)}else"stop"!=te[0]&&"close"!=te[0]||as(c,7);else 3==c.G&&("stop"==te[0]||"close"==te[0]?"stop"==te[0]?as(c,7):Jd(c):"noop"!=te[0]&&c.j&&c.j.wa(te),c.A=0)}ur(4)}catch(te){}}function ce(u,i){if(u.forEach&&"function"==typeof u.forEach)u.forEach(i,void 0);else if(ae(u)||"string"==typeof u)it(u,i,void 0);else{if(u.T&&"function"==typeof u.T)var c=u.T();else if(u.R&&"function"==typeof u.R)c=void 0;else if(ae(u)||"string"==typeof u){c=[];for(var h=u.length,g=0;g<h;g++)c.push(g)}else for(g in c=[],h=0,u)c[h++]=g;h=function Go(u){if(u.R&&"function"==typeof u.R)return u.R();if("string"==typeof u)return u.split("");if(ae(u)){for(var i=[],c=u.length,h=0;h<c;h++)i.push(u[h]);return i}for(h in i=[],c=0,u)i[c++]=u[h];return i}(u),g=h.length;for(var v=0;v<g;v++)i.call(void 0,h[v],c&&c[v],u)}}function Ce(u,i){this.h={},this.g=[],this.i=0;var c=arguments.length;if(1<c){if(c%2)throw Error("Uneven number of arguments");for(var h=0;h<c;h+=2)this.set(arguments[h],arguments[h+1])}else if(u)if(u instanceof Ce)for(c=u.T(),h=0;h<c.length;h++)this.set(c[h],u.get(c[h]));else for(h in u)this.set(h,u[h])}function re(u){if(u.i!=u.g.length){for(var i=0,c=0;i<u.g.length;){var h=u.g[i];O(u.h,h)&&(u.g[c++]=h),i++}u.g.length=c}if(u.i!=u.g.length){var g={};for(c=i=0;i<u.g.length;)O(g,h=u.g[i])||(u.g[c++]=h,g[h]=1),i++;u.g.length=c}}function O(u,i){return Object.prototype.hasOwnProperty.call(u,i)}(z=Ns.prototype).setTimeout=function(u){this.P=u},z.gb=function(u){u=u.target;const i=this.L;i&&3==wo(u)?i.l():this.Ia(u)},z.Ia=function(u){try{if(u==this.g)e:{const xe=wo(this.g);var i=this.g.Da();const Ve=this.g.ba();if(!(3>xe)&&(3!=xe||mr||this.g&&(this.h.h||this.g.ga()||To(this.g)))){this.I||4!=xe||7==i||ur(8==i||0>=Ve?3:2),jo(this);var c=this.g.ba();this.N=c;t:if(Di(this)){var h=To(this.g);u="";var g=h.length,v=4==wo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oo(this),is(this);var D="";break t}this.h.i=new W.TextDecoder}for(i=0;i<g;i++)this.h.h=!0,u+=this.h.i.decode(h[i],{stream:v&&i==g-1});h.splice(0,g),this.h.g+=u,this.C=0,D=this.h.g}else D=this.g.ga();if(this.i=200==c,function ln(u,i,c,h,g,v,D){u.info(function(){return"XMLHTTP RESP ("+h+") [ attempt "+g+"]: "+i+"\n"+c+"\n"+v+" "+D})}(this.j,this.u,this.A,this.m,this.X,xe,c),this.i){if(this.$&&!this.J){t:{if(this.g){var F,q=this.g;if((F=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ge(F)){var te=F;break t}}te=null}if(!(c=te)){this.i=!1,this.o=3,Pr(12),Oo(this),is(this);break e}Rn(this.j,this.m,c,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pa(this,c)}this.U?(ys(this,xe,D),mr&&this.i&&3==xe&&(en(this.V,this.W,"tick",this.fb),this.W.start())):(Rn(this.j,this.m,D,null),Pa(this,D)),4==xe&&Oo(this),this.i&&!this.I&&(4==xe?td(this.l,this):(this.i=!1,vs(this)))}else 400==c&&0<D.indexOf("Unknown SID")?(this.o=3,Pr(12)):(this.o=0,Pr(13)),Oo(this),is(this)}}}catch(xe){}},z.fb=function(){if(this.g){var u=wo(this.g),i=this.g.ga();this.C<i.length&&(jo(this),ys(this,u,i),this.i&&4!=u&&vs(this))}},z.cancel=function(){this.I=!0,Oo(this)},z.eb=function(){this.B=null;const u=Date.now();0<=u-this.Y?(function br(u,i){u.info(function(){return"TIMEOUT: "+i})}(this.j,this.A),2!=this.K&&(ur(3),Pr(17)),Oo(this),this.o=2,is(this)):ks(this,this.Y-u)},(z=Ce.prototype).R=function(){re(this);for(var u=[],i=0;i<this.g.length;i++)u.push(this.h[this.g[i]]);return u},z.T=function(){return re(this),this.g.concat()},z.get=function(u,i){return O(this.h,u)?this.h[u]:i},z.set=function(u,i){O(this.h,u)||(this.i++,this.g.push(u)),this.h[u]=i},z.forEach=function(u,i){for(var c=this.T(),h=0;h<c.length;h++){var g=c[h],v=this.get(g);u.call(i,v,g,this)}};var B=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Z(u,i){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,u instanceof Z){this.g=void 0!==i?i:u.g,_e(this,u.j),this.s=u.s,he(this,u.i),Ee(this,u.m),this.l=u.l,i=u.h;var c=new Fs;c.i=i.i,i.g&&(c.g=new Ce(i.g),c.h=i.h),We(this,c),this.o=u.o}else u&&(c=String(u).match(B))?(this.g=!!i,_e(this,c[1]||"",!0),this.s=qt(c[2]||""),he(this,c[3]||"",!0),Ee(this,c[4]),this.l=qt(c[5]||"",!0),We(this,c[6]||"",!0),this.o=qt(c[7]||"")):(this.g=!!i,this.h=new Fs(null,this.g))}function le(u){return new Z(u)}function _e(u,i,c){u.j=c?qt(i,!0):i,u.j&&(u.j=u.j.replace(/:$/,""))}function he(u,i,c){u.i=c?qt(i,!0):i}function Ee(u,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);u.m=i}else u.m=null}function We(u,i,c){i instanceof Fs?(u.h=i,function Na(u,i){i&&!u.j&&(Sr(u),u.i=null,u.g.forEach(function(c,h){var g=h.toLowerCase();h!=g&&(oc(this,h),Kr(this,g,c))},u)),u.j=i}(u.h,u.g)):(c||(i=hn(i,Lr)),u.h=new Fs(i,u.g))}function K(u,i,c){u.h.set(i,c)}function Te(u){return K(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function qt(u,i){return u?i?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function hn(u,i,c){return"string"==typeof u?(u=encodeURI(u).replace(i,an),c&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function an(u){return"%"+((u=u.charCodeAt(0))>>4&15).toString(16)+(15&u).toString(16)}Z.prototype.toString=function(){var u=[],i=this.j;i&&u.push(hn(i,_n,!0),":");var c=this.i;return(c||"file"==i)&&(u.push("//"),(i=this.s)&&u.push(hn(i,_n,!0),"@"),u.push(encodeURIComponent(String(c)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(c=this.m)&&u.push(":",String(c))),(c=this.l)&&(this.i&&"/"!=c.charAt(0)&&u.push("/"),u.push(hn(c,"/"==c.charAt(0)?Zr:Yn,!0))),(c=this.h.toString())&&u.push("?",c),(c=this.o)&&u.push("#",hn(c,Ji)),u.join("")};var _n=/[#\/\?@]/g,Yn=/[#\?:]/g,Zr=/[#\?]/g,Lr=/[#\?@]/g,Ji=/#/g;function Fs(u,i){this.h=this.g=null,this.i=u||null,this.j=!!i}function Sr(u){u.g||(u.g=new Ce,u.h=0,u.i&&function G(u,i){if(u){u=u.split("&");for(var c=0;c<u.length;c++){var h=u[c].indexOf("="),g=null;if(0<=h){var v=u[c].substring(0,h);g=u[c].substring(h+1)}else v=u[c];i(v,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(u.i,function(i,c){u.add(decodeURIComponent(i.replace(/\+/g," ")),c)}))}function oc(u,i){Sr(u),i=Oa(u,i),O(u.g.h,i)&&(u.i=null,u.h-=u.g.get(i).length,O((u=u.g).h,i)&&(delete u.h[i],u.i--,u.g.length>2*u.i&&re(u)))}function Ma(u,i){return Sr(u),i=Oa(u,i),O(u.g.h,i)}function Kr(u,i,c){oc(u,i),0<c.length&&(u.i=null,u.g.set(Oa(u,i),Q(c)),u.h+=c.length)}function Oa(u,i){return i=String(i),u.j&&(i=i.toLowerCase()),i}function No(u){this.l=u||Ui,u=W.PerformanceNavigationTiming?0<(u=W.performance.getEntriesByType("navigation")).length&&("hq"==u[0].nextHopProtocol||"h2"==u[0].nextHopProtocol):!!(W.g&&W.g.Ea&&W.g.Ea()&&W.g.Ea().Zb),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(z=Fs.prototype).add=function(u,i){Sr(this),this.i=null,u=Oa(this,u);var c=this.g.get(u);return c||this.g.set(u,c=[]),c.push(i),this.h+=1,this},z.forEach=function(u,i){Sr(this),this.g.forEach(function(c,h){it(c,function(g){u.call(i,g,h,this)},this)},this)},z.T=function(){Sr(this);for(var u=this.g.R(),i=this.g.T(),c=[],h=0;h<i.length;h++)for(var g=u[h],v=0;v<g.length;v++)c.push(i[h]);return c},z.R=function(u){Sr(this);var i=[];if("string"==typeof u)Ma(this,u)&&(i=oe(i,this.g.get(Oa(this,u))));else{u=this.g.R();for(var c=0;c<u.length;c++)i=oe(i,u[c])}return i},z.set=function(u,i){return Sr(this),this.i=null,Ma(this,u=Oa(this,u))&&(this.h-=this.g.get(u).length),this.g.set(u,[i]),this.h+=1,this},z.get=function(u,i){return u&&0<(u=this.R(u)).length?String(u[0]):i},z.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var u=[],i=this.g.T(),c=0;c<i.length;c++){var h=i[c],g=encodeURIComponent(String(h));h=this.R(h);for(var v=0;v<h.length;v++){var D=g;""!==h[v]&&(D+="="+encodeURIComponent(String(h[v]))),u.push(D)}}return this.i=u.join("&")};var Ui=10;function du(u){return!!u.h||!!u.g&&u.g.size>=u.j}function os(u){return u.h?1:u.g?u.g.size:0}function so(u,i){return u.h?u.h==i:!!u.g&&u.g.has(i)}function bs(u,i){u.g?u.g.add(i):u.h=i}function ka(u,i){u.h&&u.h==i?u.h=null:u.g&&u.g.has(i)&&u.g.delete(i)}function sc(u){if(null!=u.h)return u.i.concat(u.h.D);if(null!=u.g&&0!==u.g.size){let i=u.i;for(const c of u.g.values())i=i.concat(c.D);return i}return Q(u.i)}function ss(){}function Ls(){this.g=new ss}function Ac(u,i,c){const h=c||"";try{ce(u,function(g,v){let D=g;Je(g)&&(D=Nt(g)),i.push(h+v+"="+encodeURIComponent(D))})}catch(g){throw i.push(h+"type="+encodeURIComponent("_badmap")),g}}function tl(u,i,c,h,g){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,g(h)}catch(v){}}function Fa(u){this.l=u.$b||null,this.j=u.ib||!1}function sa(u,i){me.call(this),this.D=u,this.u=i,this.m=void 0,this.readyState=Ic,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}No.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const u of this.g.values())u.cancel();this.g.clear()}},ss.prototype.stringify=function(u){return W.JSON.stringify(u,void 0)},ss.prototype.parse=function(u){return W.JSON.parse(u,void 0)},Be(Fa,Mt),Fa.prototype.g=function(){return new sa(this.l,this.j)},Fa.prototype.i=function(u){return function(){return u}}({}),Be(sa,me);var Ic=0;function La(u){u.j.read().then(u.Sa.bind(u)).catch(u.ha.bind(u))}function nl(u){u.readyState=4,u.l=null,u.j=null,u.A=null,aa(u)}function aa(u){u.onreadystatechange&&u.onreadystatechange.call(u)}(z=sa.prototype).open=function(u,i){if(this.readyState!=Ic)throw this.abort(),Error("Error reopening a connection");this.C=u,this.B=i,this.readyState=1,aa(this)},z.send=function(u){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};u&&(i.body=u),(this.D||W).fetch(new Request(this.B,i)).then(this.Va.bind(this),this.ha.bind(this))},z.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,nl(this)),this.readyState=Ic},z.Va=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,aa(this)),this.g&&(this.readyState=3,aa(this),this.g)))if("arraybuffer"===this.responseType)u.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==W.ReadableStream&&"body"in u){if(this.j=u.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;La(this)}else u.text().then(this.Ua.bind(this),this.ha.bind(this))},z.Sa=function(u){if(this.g){if(this.u&&u.value)this.response.push(u.value);else if(!this.u){var i=u.value?u.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!u.done}))&&(this.response=this.responseText+=i)}u.done?nl(this):aa(this),3==this.readyState&&La(this)}},z.Ua=function(u){this.g&&(this.response=this.responseText=u,nl(this))},z.Ta=function(u){this.g&&(this.response=u,nl(this))},z.ha=function(){this.g&&nl(this)},z.setRequestHeader=function(u,i){this.v.append(u,i)},z.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},z.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],i=this.h.entries();for(var c=i.next();!c.done;)u.push((c=c.value)[0]+": "+c[1]),c=i.next();return u.join("\r\n")},Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(u){this.m=u?"include":"same-origin"}});var Ot=W.JSON.parse;function jn(u){me.call(this),this.headers=new Ce,this.u=u||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=tf,this.K=this.L=!1}Be(jn,me);var tf="",ai=/^https?$/i,rl=["POST","PUT"];function Us(u){return"content-type"==u.toLowerCase()}function Pc(u,i){u.h=!1,u.g&&(u.l=!0,u.g.abort(),u.l=!1),u.j=i,u.m=5,Ql(u),hu(u)}function Ql(u){u.D||(u.D=!0,Ze(u,"complete"),Ze(u,"error"))}function Xl(u){if(u.h&&void 0!==J&&(!u.C[1]||4!=wo(u)||2!=u.ba()))if(u.v&&4==wo(u))jt(u.Fa,0,u);else if(Ze(u,"readystatechange"),4==wo(u)){u.h=!1;try{const F=u.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var c;if(!(c=i)){var h;if(h=0===F){var g=String(u.H).match(B)[1]||null;if(!g&&W.self&&W.self.location){var v=W.self.location.protocol;g=v.substr(0,v.length-1)}h=!ai.test(g?g.toLowerCase():"")}c=h}if(c)Ze(u,"complete"),Ze(u,"success");else{u.m=6;try{var D=2<wo(u)?u.g.statusText:""}catch(q){D=""}u.j=D+" ["+u.ba()+"]",Ql(u)}}finally{hu(u)}}}function hu(u,i){if(u.g){il(u);const c=u.g,h=u.C[0]?ne:null;u.g=null,u.C=null,i||Ze(u,"ready");try{c.onreadystatechange=h}catch(g){}}}function il(u){u.g&&u.K&&(u.g.ontimeout=null),u.A&&(W.clearTimeout(u.A),u.A=null)}function wo(u){return u.g?u.g.readyState:0}function To(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.J){case tf:case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch(i){return null}}function Ba(u,i,c){e:{for(h in c){var h=!1;break e}h=!0}h||(c=function ca(u){let i="";return mt(u,function(c,h){i+=h,i+=":",i+=c,i+="\r\n"}),i}(c),"string"==typeof u?null!=c&&encodeURIComponent(String(c)):K(u,i,c))}function Bs(u,i,c){return c&&c.internalChannelParams&&c.internalChannelParams[u]||i}function Ho(u){this.za=0,this.l=[],this.h=new En,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Bs("failFast",!1,u),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Bs("baseRetryDelayMs",5e3,u),this.$a=Bs("retryDelaySeedMs",1e4,u),this.Ya=Bs("forwardChannelMaxRetries",2,u),this.ra=Bs("forwardChannelRequestTimeoutMs",2e4,u),this.qa=u&&u.xmlHttpFactory||void 0,this.Ba=u&&u.Yb||!1,this.K=void 0,this.H=u&&u.supportsCrossDomainXhr||!1,this.J="",this.i=new No(u&&u.concurrentRequestLimit),this.Ca=new Ls,this.ja=u&&u.fastHandshake||!1,this.Ra=u&&u.Wb||!1,u&&u.Aa&&this.h.Aa(),u&&u.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&u&&u.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!u||!1!==u.Xb}function Jd(u){if(Qd(u),3==u.G){var i=u.V++,c=le(u.F);K(c,"SID",u.J),K(c,"RID",i),K(c,"TYPE","terminate"),la(u,c),(i=new Ns(u,u.h,i,void 0)).K=2,i.v=Te(le(c)),c=!1,W.navigator&&W.navigator.sendBeacon&&(c=W.navigator.sendBeacon(i.v.toString(),"")),!c&&W.Image&&((new Image).src=i.v,c=!0),c||(i.g=js(i.l,null),i.g.ea(i.v)),i.F=Date.now(),vs(i)}sl(u)}function ua(u){u.g&&(ed(u),u.g.cancel(),u.g=null)}function Qd(u){ua(u),u.u&&(W.clearTimeout(u.u),u.u=null),Oc(u),u.i.cancel(),u.m&&("number"==typeof u.m&&W.clearTimeout(u.m),u.m=null)}function ac(u,i){u.l.push(new class{constructor(u,i){this.h=u,this.g=i}}(u.Za++,i)),3==u.G&&fu(u)}function fu(u){du(u.i)||u.m||(u.m=!0,nn(u.Ha,u),u.C=0)}function Xd(u,i){var c;c=i?i.m:u.V++;const h=le(u.F);K(h,"SID",u.J),K(h,"RID",c),K(h,"AID",u.U),la(u,h),u.o&&u.s&&Ba(h,u.o,u.s),c=new Ns(u,u.h,c,u.C+1),null===u.o&&(c.H=u.s),i&&(u.l=i.D.concat(u.l)),i=eh(u,c,1e3),c.setTimeout(Math.round(.5*u.ra)+Math.round(.5*u.ra*Math.random())),bs(u.i,c),oa(c,h,i)}function la(u,i){u.j&&ce({},function(c,h){K(i,h,c)})}function eh(u,i,c){c=Math.min(u.l.length,c);var h=u.j?De(u.j.Oa,u.j,u):null;e:{var g=u.l;let v=-1;for(;;){const D=["count="+c];-1==v?0<c?(v=g[0].h,D.push("ofs="+v)):v=0:D.push("ofs="+v);let F=!0;for(let q=0;q<c;q++){let te=g[q].h;const xe=g[q].g;if(te-=v,0>te)v=Math.max(0,g[q].h-100),F=!1;else try{Ac(xe,D,"req"+te+"_")}catch(Ve){h&&h(xe)}}if(F){h=D.join("&");break e}}}return u=u.l.splice(0,c),i.D=u,h}function pu(u){u.g||u.u||(u.Y=1,nn(u.Ga,u),u.A=0)}function Mc(u){return!(u.g||u.u||3<=u.A||(u.Y++,u.u=Oe(De(u.Ga,u),Vs(u,u.A)),u.A++,0))}function ed(u){null!=u.B&&(W.clearTimeout(u.B),u.B=null)}function ol(u){u.g=new Ns(u,u.h,"rpc",u.Y),null===u.o&&(u.g.H=u.s),u.g.O=0;var i=le(u.oa);K(i,"RID","rpc"),K(i,"SID",u.J),K(i,"CI",u.N?"0":"1"),K(i,"AID",u.U),la(u,i),K(i,"TYPE","xmlhttp"),u.o&&u.s&&Ba(i,u.o,u.s),u.K&&u.g.setTimeout(u.K);var c=u.g;u=u.la,c.K=1,c.v=Te(le(i)),c.s=null,c.U=!0,Rs(c,u)}function Oc(u){null!=u.v&&(W.clearTimeout(u.v),u.v=null)}function td(u,i){var c=null;if(u.g==i){Oc(u),ed(u),u.g=null;var h=2}else{if(!so(u.i,i))return;c=i.D,ka(u.i,i),h=1}if(u.I=i.N,0!=u.G)if(i.i)if(1==h){c=i.s?i.s.length:0,i=Date.now()-i.F;var g=u.C;Ze(h=Co(),new Fe(h,c,i,g)),fu(u)}else pu(u);else if(3==(g=i.o)||0==g&&0<u.I||!(1==h&&function Va(u,i){return!(os(u.i)>=u.i.j-(u.m?1:0)||(u.m?(u.l=i.D.concat(u.l),0):1==u.G||2==u.G||u.C>=(u.Xa?0:u.Ya)||(u.m=Oe(De(u.Ha,u,i),Vs(u,u.C)),u.C++,0)))}(u,i)||2==h&&Mc(u)))switch(c&&0<c.length&&(i=u.i,i.i=i.i.concat(c)),g){case 1:as(u,5);break;case 4:as(u,10);break;case 3:as(u,6);break;default:as(u,2)}}function Vs(u,i){let c=u.Pa+Math.floor(Math.random()*u.$a);return u.j||(c*=2),c*i}function as(u,i){if(u.h.info("Error code "+i),2==i){var c=null;u.j&&(c=null);var h=De(u.jb,u);c||(c=new Z("//www.google.com/images/cleardot.gif"),W.location&&"http"==W.location.protocol||_e(c,"https"),Te(c)),function Kn(u,i){const c=new En;if(W.Image){const h=new Image;h.onload=rt(tl,c,h,"TestLoadImage: loaded",!0,i),h.onerror=rt(tl,c,h,"TestLoadImage: error",!1,i),h.onabort=rt(tl,c,h,"TestLoadImage: abort",!1,i),h.ontimeout=rt(tl,c,h,"TestLoadImage: timeout",!1,i),W.setTimeout(function(){h.ontimeout&&h.ontimeout()},1e4),h.src=u}else i(!1)}(c.toString(),h)}else Pr(2);u.G=0,u.j&&u.j.va(i),sl(u),Qd(u)}function sl(u){u.G=0,u.I=-1,u.j&&((0!=sc(u.i).length||0!=u.l.length)&&(u.i.i.length=0,Q(u.l),u.l.length=0),u.j.ua())}function Eo(u,i,c){let h=function Ae(u){return u instanceof Z?le(u):new Z(u,void 0)}(c);if(""!=h.i)i&&he(h,i+"."+h.i),Ee(h,h.m);else{const g=W.location;h=function at(u,i,c,h){var g=new Z(null,void 0);return u&&_e(g,u),i&&he(g,i),c&&Ee(g,c),h&&(g.l=h),g}(g.protocol,i?i+"."+g.hostname:g.hostname,+g.port,c)}return u.aa&&mt(u.aa,function(g,v){K(h,v,g)}),c=u.sa,(i=u.D)&&c&&K(h,i,c),K(h,"VER",u.ma),la(u,h),h}function js(u,i,c){if(i&&!u.H)throw Error("Can't create secondary domain capable XhrIo object.");return(i=new jn(c&&u.Ba&&!u.qa?new Fa({ib:!0}):u.qa)).L=u.H,i}function _i(){}function al(){if(Xn&&!(10<=Number(Qe)))throw Error("Environmental error: no available transport.")}function Gs(u,i){me.call(this),this.g=new Ho(i),this.l=u,this.h=i&&i.messageUrlParams||null,u=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.s=u,u=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(u?u["X-WebChannel-Content-Type"]=i.messageContentType:u={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.ya&&(u?u["X-WebChannel-Client-Profile"]=i.ya:u={"X-WebChannel-Client-Profile":i.ya}),this.g.P=u,(u=i&&i.httpHeadersOverwriteParam)&&!ge(u)&&(this.g.o=u),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!ge(i)&&(this.g.D=i,null!==(u=this.h)&&i in u&&i in(u=this.h)&&delete u[i]),this.j=new ul(this)}function zg(u){pr.call(this);var i=u.__sm__;if(i){e:{for(const c in i){u=c;break e}u=void 0}(this.i=u)&&(u=this.i,i=null!==i&&u in i?i[u]:void 0),this.data=i}else this.data=u}function cl(){ui.call(this),this.status=1}function ul(u){this.g=u}(z=jn.prototype).ea=function(u,i,c,h){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+u);i=i?i.toUpperCase():"GET",this.H=u,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rs.g(),this.C=function Yt(u){return u.h||(u.h=u.i())}(this.u?this.u:rs),this.g.onreadystatechange=De(this.Fa,this);try{this.F=!0,this.g.open(i,String(u),!0),this.F=!1}catch(v){return void Pc(this,v)}u=c||"";const g=new Ce(this.headers);h&&ce(h,function(v,D){g.set(D,v)}),h=function se(u){e:{var i=Us;const c=u.length,h="string"==typeof u?u.split(""):u;for(let g=0;g<c;g++)if(g in h&&i.call(void 0,h[g],g,u)){i=g;break e}i=-1}return 0>i?null:"string"==typeof u?u.charAt(i):u[i]}(g.T()),c=W.FormData&&u instanceof W.FormData,!(0<=Ie(rl,i))||h||c||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(v,D){this.g.setRequestHeader(D,v)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{il(this),0<this.B&&((this.K=function Ua(u){return Xn&&function Vr(){return function yr(u){var i=Ni;return Object.prototype.hasOwnProperty.call(i,9)?i[9]:i[9]=u(9)}(function(){let u=0;const i=Pe(String(Fr)).split("."),c=Pe("9").split("."),h=Math.max(i.length,c.length);for(let D=0;0==u&&D<h;D++){var g=i[D]||"",v=c[D]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],v=/(\d*)(\D*)(.*)/.exec(v)||["","","",""],0==g[0].length&&0==v[0].length)break;u=gt(0==g[1].length?0:parseInt(g[1],10),0==v[1].length?0:parseInt(v[1],10))||gt(0==g[2].length,0==v[2].length)||gt(g[2],v[2]),g=g[3],v=v[3]}while(0==u)}return 0<=u})}()&&"number"==typeof u.timeout&&void 0!==u.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=De(this.pa,this)):this.A=jt(this.pa,this.B,this)),this.v=!0,this.g.send(u),this.v=!1}catch(v){Pc(this,v)}},z.pa=function(){void 0!==J&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ze(this,"timeout"),this.abort(8))},z.abort=function(u){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=u||7,Ze(this,"complete"),Ze(this,"abort"),hu(this))},z.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),hu(this,!0)),jn.Z.M.call(this)},z.Fa=function(){this.s||(this.F||this.v||this.l?Xl(this):this.cb())},z.cb=function(){Xl(this)},z.ba=function(){try{return 2<wo(this)?this.g.status:-1}catch(u){return-1}},z.ga=function(){try{return this.g?this.g.responseText:""}catch(u){return""}},z.Qa=function(u){if(this.g){var i=this.g.responseText;return u&&0==i.indexOf(u)&&(i=i.substring(u.length)),Ot(i)}},z.Da=function(){return this.m},z.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(z=Ho.prototype).ma=8,z.G=1,z.hb=function(u){try{this.h.info("Origin Trials invoked: "+u)}catch(i){}},z.Ha=function(u){if(this.m)if(this.m=null,1==this.G){if(!u){this.V=Math.floor(1e5*Math.random()),u=this.V++;const g=new Ns(this,this.h,u,void 0);let v=this.s;if(this.P&&(v?(v=xt(v),tr(v,this.P)):v=this.P),null===this.o&&(g.H=v),this.ja)e:{for(var i=0,c=0;c<this.l.length;c++){var h=this.l[c];if(void 0===(h="__data__"in h.g&&"string"==typeof(h=h.g.__data__)?h.length:void 0))break;if(4096<(i+=h)){i=c;break e}if(4096===i||c===this.l.length-1){i=c+1;break e}}i=1e3}else i=1e3;i=eh(this,g,i),K(c=le(this.F),"RID",u),K(c,"CVER",22),this.D&&K(c,"X-HTTP-Session-Id",this.D),la(this,c),this.o&&v&&Ba(c,this.o,v),bs(this.i,g),this.Ra&&K(c,"TYPE","init"),this.ja?(K(c,"$req",i),K(c,"SID","null"),g.$=!0,oa(g,c,null)):oa(g,c,i),this.G=2}}else 3==this.G&&(u?Xd(this,u):0==this.l.length||du(this.i)||Xd(this))},z.Ga=function(){if(this.u=null,ol(this),this.$&&!(this.L||null==this.g||0>=this.O)){var u=2*this.O;this.h.info("BP detection timer enabled: "+u),this.B=Oe(De(this.bb,this),u)}},z.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Pr(10),ua(this),ol(this))},z.ab=function(){null!=this.v&&(this.v=null,ua(this),Mc(this),Pr(19))},z.jb=function(u){u?(this.h.info("Successfully pinged google.com"),Pr(2)):(this.h.info("Failed to ping google.com"),Pr(1))},(z=_i.prototype).xa=function(){},z.wa=function(){},z.va=function(){},z.ua=function(){},z.Oa=function(){},al.prototype.g=function(u,i){return new Gs(u,i)},Be(Gs,me),Gs.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var u=this.g,i=this.l,c=this.h||void 0;u.Wa&&(u.h.info("Origin Trials enabled."),nn(De(u.hb,u,i))),Pr(0),u.W=i,u.aa=c||{},u.N=u.X,u.F=Eo(u,null,u.W),fu(u)},Gs.prototype.close=function(){Jd(this.g)},Gs.prototype.u=function(u){if("string"==typeof u){var i={};i.__data__=u,ac(this.g,i)}else this.v?((i={}).__data__=Nt(u),ac(this.g,i)):ac(this.g,u)},Gs.prototype.M=function(){this.g.j=null,delete this.j,Jd(this.g),delete this.g,Gs.Z.M.call(this)},Be(zg,pr),Be(cl,ui),Be(ul,_i),ul.prototype.xa=function(){Ze(this.g,"a")},ul.prototype.wa=function(u){Ze(this.g,new zg(u))},ul.prototype.va=function(u){Ze(this.g,new cl(u))},ul.prototype.ua=function(){Ze(this.g,"b")},al.prototype.createWebChannel=al.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,ot.NO_ERROR=0,ot.TIMEOUT=8,ot.HTTP_ERROR=6,St.COMPLETE="complete",sr.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",me.prototype.listen=me.prototype.N,jn.prototype.listenOnce=jn.prototype.O,jn.prototype.getLastError=jn.prototype.La,jn.prototype.getLastErrorCode=jn.prototype.Da,jn.prototype.getStatus=jn.prototype.ba,jn.prototype.getResponseJson=jn.prototype.Qa,jn.prototype.getResponseText=jn.prototype.ga,jn.prototype.send=jn.prototype.ea;var Tp=$.createWebChannelTransport=function(){return new al},th=$.getStatEventTarget=function(){return Co()},ll=$.ErrorCode=ot,Nc=$.EventType=St,li=$.Event=Ar,gu=$.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wg=$.FetchXmlHttpFactory=Fa,Hs=$.WebChannel=sr,dl=$.XhrIo=jn;const nd="@firebase/firestore";class Qi{constructor(i){this.uid=i}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}Qi.UNAUTHENTICATED=new Qi(null),Qi.GOOGLE_CREDENTIALS=new Qi("google-credentials-uid"),Qi.FIRST_PARTY=new Qi("first-party-uid"),Qi.MOCK_USER=new Qi("mock-user");let Ro="9.6.9";const da=new N.Yd("@firebase/firestore");function mu(){return da.logLevel}function Zt(u,...i){if(da.logLevel<=N.in.DEBUG){const c=i.map(rd);da.debug(`Firestore (${Ro}): ${u}`,...c)}}function ar(u,...i){if(da.logLevel<=N.in.ERROR){const c=i.map(rd);da.error(`Firestore (${Ro}): ${u}`,...c)}}function Si(u,...i){if(da.logLevel<=N.in.WARN){const c=i.map(rd);da.warn(`Firestore (${Ro}): ${u}`,...c)}}function rd(u){if("string"==typeof u)return u;try{return JSON.stringify(u)}catch(c){return u}}function kn(u="Unexpected state"){const i=`FIRESTORE (${Ro}) INTERNAL ASSERTION FAILED: `+u;throw ar(i),new Error(i)}function Jn(u,i){u||kn()}function on(u,i){return u}const pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class It extends P.ZR{constructor(i,c){super(i,c),this.code=i,this.message=c,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise((i,c)=>{this.resolve=i,this.reject=c})}}class _r{constructor(i,c){this.user=c,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class er{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,c){i.enqueueRetryable(()=>c(Qi.UNAUTHENTICATED))}shutdown(){}}class rf{constructor(i){this.t=i,this.currentUser=Qi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,c){var h=this;let g=this.i;const v=te=>this.i!==g?(g=this.i,c(te)):Promise.resolve();let D=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),D.resolve(),D=new zr,i.enqueueRetryable(()=>v(this.currentUser))};const F=()=>{const te=D;i.enqueueRetryable((0,t.Z)(function*(){yield te.promise,yield v(h.currentUser)}))},q=te=>{Zt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=te,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(te=>q(te)),setTimeout(()=>{if(!this.auth){const te=this.t.getImmediate({optional:!0});te?q(te):(Zt("FirebaseAuthCredentialsProvider","Auth not yet detected"),D.resolve(),D=new zr)}},0),F()}getToken(){const i=this.i,c=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(c).then(h=>this.i!==i?(Zt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):h?(Jn("string"==typeof h.accessToken),new _r(h.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return Jn(null===i||"string"==typeof i),new Qi(i)}}class Rc{constructor(i,c,h){this.type="FirstParty",this.user=Qi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",c);const g=i.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),h&&this.headers.set("X-Goog-Iam-Authorization-Token",h)}}class sf{constructor(i,c,h){this.h=i,this.l=c,this.m=h}getToken(){return Promise.resolve(new Rc(this.h,this.l,this.m))}start(i,c){i.enqueueRetryable(()=>c(Qi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class hl{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cc{constructor(i){this.g=i,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(i,c){const h=v=>{null!=v.error&&Zt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${v.error.message}`);const D=v.token!==this.p;return this.p=v.token,Zt("FirebaseAppCheckTokenProvider",`Received ${D?"new":"existing"} token.`),D?c(v.token):Promise.resolve()};this.o=v=>{i.enqueueRetryable(()=>h(v))};const g=v=>{Zt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=v,this.appCheck.addTokenListener(this.o)};this.g.onInit(v=>g(v)),setTimeout(()=>{if(!this.appCheck){const v=this.g.getImmediate({optional:!0});v?g(v):Zt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(c=>c?(Jn("string"==typeof c.token),this.p=c.token,new hl(c.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class Yr{constructor(i,c){this.previousValue=i,c&&(c.sequenceNumberHandler=h=>this.I(h),this.T=h=>c.writeSequenceNumber(h))}I(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.T&&this.T(i),i}}function cs(u){const i="undefined"!=typeof self&&(self.crypto||self.msCrypto),c=new Uint8Array(u);if(i&&"function"==typeof i.getRandomValues)i.getRandomValues(c);else for(let h=0;h<u;h++)c[h]=Math.floor(256*Math.random());return c}Yr.A=-1;class Do{static R(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",c=Math.floor(256/i.length)*i.length;let h="";for(;h.length<20;){const g=cs(40);for(let v=0;v<g.length;++v)h.length<20&&g[v]<c&&(h+=i.charAt(g[v]%i.length))}return h}}function Cr(u,i){return u<i?-1:u>i?1:0}function qs(u,i,c){return u.length===i.length&&u.every((h,g)=>c(h,i[g]))}class Xr{constructor(i,c){if(this.seconds=i,this.nanoseconds=c,c<0)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(c>=1e9)throw new It(pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+c);if(i<-62135596800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new It(pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Xr.fromMillis(Date.now())}static fromDate(i){return Xr.fromMillis(i.getTime())}static fromMillis(i){const c=Math.floor(i/1e3),h=Math.floor(1e6*(i-1e3*c));return new Xr(c,h)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?Cr(this.nanoseconds,i.nanoseconds):Cr(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Nn{constructor(i){this.timestamp=i}static fromTimestamp(i){return new Nn(i)}static min(){return new Nn(new Xr(0,0))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function pl(u){let i=0;for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&i++;return i}function yi(u,i){for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&i(c,u[c])}function Cs(u){for(const i in u)if(Object.prototype.hasOwnProperty.call(u,i))return!1;return!0}class ja{constructor(i,c,h){void 0===c?c=0:c>i.length&&kn(),void 0===h?h=i.length-c:h>i.length-c&&kn(),this.segments=i,this.offset=c,this.len=h}get length(){return this.len}isEqual(i){return 0===ja.comparator(this,i)}child(i){const c=this.segments.slice(this.offset,this.limit());return i instanceof ja?i.forEach(h=>{c.push(h)}):c.push(i),this.construct(c)}limit(){return this.offset+this.length}popFirst(i){return this.construct(this.segments,this.offset+(i=void 0===i?1:i),this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return 0===this.length}isPrefixOf(i){if(i.length<this.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let c=0;c<this.length;c++)if(this.get(c)!==i.get(c))return!1;return!0}forEach(i){for(let c=this.offset,h=this.limit();c<h;c++)i(this.segments[c])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,c){const h=Math.min(i.length,c.length);for(let g=0;g<h;g++){const v=i.get(g),D=c.get(g);if(v<D)return-1;if(v>D)return 1}return i.length<c.length?-1:i.length>c.length?1:0}}class Wr extends ja{construct(i,c,h){return new Wr(i,c,h)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...i){const c=[];for(const h of i){if(h.indexOf("//")>=0)throw new It(pt.INVALID_ARGUMENT,`Invalid segment (${h}). Paths must not contain // in them.`);c.push(...h.split("/").filter(g=>g.length>0))}return new Wr(c)}static emptyPath(){return new Wr([])}}const gl=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bi extends ja{construct(i,c,h){return new Bi(i,c,h)}static isValidIdentifier(i){return gl.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bi.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Bi(["__name__"])}static fromServerFormat(i){const c=[];let h="",g=0;const v=()=>{if(0===h.length)throw new It(pt.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);c.push(h),h=""};let D=!1;for(;g<i.length;){const F=i[g];if("\\"===F){if(g+1===i.length)throw new It(pt.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const q=i[g+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new It(pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);h+=q,g+=2}else"`"===F?(D=!D,g++):"."!==F||D?(h+=F,g++):(v(),g++)}if(v(),D)throw new It(pt.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new Bi(c)}static emptyPath(){return new Bi([])}}class $o{constructor(i){this.fields=i,i.sort(Bi.comparator)}covers(i){for(const c of this.fields)if(c.isPrefixOf(i))return!0;return!1}isEqual(i){return qs(this.fields,i.fields,(c,h)=>c.isEqual(h))}}class gi{constructor(i){this.binaryString=i}static fromBase64String(i){const c=atob(i);return new gi(c)}static fromUint8Array(i){const c=function(h){let g="";for(let v=0;v<h.length;++v)g+=String.fromCharCode(h[v]);return g}(i);return new gi(c)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(i){const c=new Uint8Array(i.length);for(let h=0;h<i.length;h++)c[h]=i.charCodeAt(h);return c}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return Cr(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}gi.EMPTY_BYTE_STRING=new gi("");const kc=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function So(u){if(Jn(!!u),"string"==typeof u){let i=0;const c=kc.exec(u);if(Jn(!!c),c[1]){let g=c[1];g=(g+"000000000").substr(0,9),i=Number(g)}const h=new Date(u);return{seconds:Math.floor(h.getTime()/1e3),nanos:i}}return{seconds:Jr(u.seconds),nanos:Jr(u.nanos)}}function Jr(u){return"number"==typeof u?u:"string"==typeof u?Number(u):0}function Xi(u){return"string"==typeof u?gi.fromBase64String(u):gi.fromUint8Array(u)}function ml(u){var i,c;return"server_timestamp"===(null===(c=((null===(i=null==u?void 0:u.mapValue)||void 0===i?void 0:i.fields)||{}).__type__)||void 0===c?void 0:c.stringValue)}function _u(u){const i=u.mapValue.fields.__previous_value__;return ml(i)?_u(i):i}function qo(u){const i=So(u.mapValue.fields.__local_write_time__.timestampValue);return new Xr(i.seconds,i.nanos)}class id{constructor(i,c,h,g,v,D,F,q){this.databaseId=i,this.appId=c,this.persistenceKey=h,this.host=g,this.ssl=v,this.forceLongPolling=D,this.autoDetectLongPolling=F,this.useFetchStreams=q}}class uc{constructor(i,c){this.projectId=i,this.database=c||"(default)"}static empty(){return new uc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(i){return i instanceof uc&&i.projectId===this.projectId&&i.database===this.database}}function oi(u){return null==u}function lc(u){return 0===u&&1/u==-1/0}class fn{constructor(i){this.path=i}static fromPath(i){return new fn(Wr.fromString(i))}static fromName(i){return new fn(Wr.fromString(i).popFirst(5))}static empty(){return new fn(Wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return null!==i&&0===Wr.comparator(this.path,i.path)}toString(){return this.path.toString()}static comparator(i,c){return Wr.comparator(i.path,c.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new fn(new Wr(i.slice()))}}function dc(u){return"nullValue"in u?0:"booleanValue"in u?1:"integerValue"in u||"doubleValue"in u?2:"timestampValue"in u?3:"stringValue"in u?5:"bytesValue"in u?6:"referenceValue"in u?7:"geoPointValue"in u?8:"arrayValue"in u?9:"mapValue"in u?ml(u)?4:Lc(u)?9:10:kn()}function ws(u,i){if(u===i)return!0;const c=dc(u);if(c!==dc(i))return!1;switch(c){case 0:case 9007199254740991:return!0;case 1:return u.booleanValue===i.booleanValue;case 4:return qo(u).isEqual(qo(i));case 3:return function(h,g){if("string"==typeof h.timestampValue&&"string"==typeof g.timestampValue&&h.timestampValue.length===g.timestampValue.length)return h.timestampValue===g.timestampValue;const v=So(h.timestampValue),D=So(g.timestampValue);return v.seconds===D.seconds&&v.nanos===D.nanos}(u,i);case 5:return u.stringValue===i.stringValue;case 6:return g=i,Xi(u.bytesValue).isEqual(Xi(g.bytesValue));case 7:return u.referenceValue===i.referenceValue;case 8:return function(h,g){return Jr(h.geoPointValue.latitude)===Jr(g.geoPointValue.latitude)&&Jr(h.geoPointValue.longitude)===Jr(g.geoPointValue.longitude)}(u,i);case 2:return function(h,g){if("integerValue"in h&&"integerValue"in g)return Jr(h.integerValue)===Jr(g.integerValue);if("doubleValue"in h&&"doubleValue"in g){const v=Jr(h.doubleValue),D=Jr(g.doubleValue);return v===D?lc(v)===lc(D):isNaN(v)&&isNaN(D)}return!1}(u,i);case 9:return qs(u.arrayValue.values||[],i.arrayValue.values||[],ws);case 10:return function(h,g){const v=h.mapValue.fields||{},D=g.mapValue.fields||{};if(pl(v)!==pl(D))return!1;for(const F in v)if(v.hasOwnProperty(F)&&(void 0===D[F]||!ws(v[F],D[F])))return!1;return!0}(u,i);default:return kn()}var g}function Ts(u,i){return void 0!==(u.values||[]).find(c=>ws(c,i))}function ha(u,i){if(u===i)return 0;const c=dc(u),h=dc(i);if(c!==h)return Cr(c,h);switch(c){case 0:case 9007199254740991:return 0;case 1:return Cr(u.booleanValue,i.booleanValue);case 2:return function(g,v){const D=Jr(g.integerValue||g.doubleValue),F=Jr(v.integerValue||v.doubleValue);return D<F?-1:D>F?1:D===F?0:isNaN(D)?isNaN(F)?0:-1:1}(u,i);case 3:return xi(u.timestampValue,i.timestampValue);case 4:return xi(qo(u),qo(i));case 5:return Cr(u.stringValue,i.stringValue);case 6:return function(g,v){const D=Xi(g),F=Xi(v);return D.compareTo(F)}(u.bytesValue,i.bytesValue);case 7:return function(g,v){const D=g.split("/"),F=v.split("/");for(let q=0;q<D.length&&q<F.length;q++){const te=Cr(D[q],F[q]);if(0!==te)return te}return Cr(D.length,F.length)}(u.referenceValue,i.referenceValue);case 8:return function(g,v){const D=Cr(Jr(g.latitude),Jr(v.latitude));return 0!==D?D:Cr(Jr(g.longitude),Jr(v.longitude))}(u.geoPointValue,i.geoPointValue);case 9:return function(g,v){const D=g.values||[],F=v.values||[];for(let q=0;q<D.length&&q<F.length;++q){const te=ha(D[q],F[q]);if(te)return te}return Cr(D.length,F.length)}(u.arrayValue,i.arrayValue);case 10:return function(g,v){const D=g.fields||{},F=Object.keys(D),q=v.fields||{},te=Object.keys(q);F.sort(),te.sort();for(let xe=0;xe<F.length&&xe<te.length;++xe){const Ve=Cr(F[xe],te[xe]);if(0!==Ve)return Ve;const ht=ha(D[F[xe]],q[te[xe]]);if(0!==ht)return ht}return Cr(F.length,te.length)}(u.mapValue,i.mapValue);default:throw kn()}}function xi(u,i){if("string"==typeof u&&"string"==typeof i&&u.length===i.length)return Cr(u,i);const c=So(u),h=So(i),g=Cr(c.seconds,h.seconds);return 0!==g?g:Cr(c.nanos,h.nanos)}function Es(u){return Fc(u)}function Fc(u){return"nullValue"in u?"null":"booleanValue"in u?""+u.booleanValue:"integerValue"in u?""+u.integerValue:"doubleValue"in u?""+u.doubleValue:"timestampValue"in u?function(h){const g=So(h);return`time(${g.seconds},${g.nanos})`}(u.timestampValue):"stringValue"in u?u.stringValue:"bytesValue"in u?Xi(u.bytesValue).toBase64():"referenceValue"in u?fn.fromName(u.referenceValue).toString():"geoPointValue"in u?`geo(${(i=u.geoPointValue).latitude},${i.longitude})`:"arrayValue"in u?function(h){let g="[",v=!0;for(const D of h.values||[])v?v=!1:g+=",",g+=Fc(D);return g+"]"}(u.arrayValue):"mapValue"in u?function(h){const g=Object.keys(h.fields||{}).sort();let v="{",D=!0;for(const F of g)D?D=!1:v+=",",v+=`${F}:${Fc(h.fields[F])}`;return v+"}"}(u.mapValue):kn();var i}function ao(u){return!!u&&"integerValue"in u}function Vi(u){return!!u&&"arrayValue"in u}function Zs(u){return!!u&&"nullValue"in u}function yu(u){return!!u&&"doubleValue"in u&&isNaN(Number(u.doubleValue))}function Ri(u){return!!u&&"mapValue"in u}function us(u){if(u.geoPointValue)return{geoPointValue:Object.assign({},u.geoPointValue)};if(u.timestampValue&&"object"==typeof u.timestampValue)return{timestampValue:Object.assign({},u.timestampValue)};if(u.mapValue){const i={mapValue:{fields:{}}};return yi(u.mapValue.fields,(c,h)=>i.mapValue.fields[c]=us(h)),i}if(u.arrayValue){const i={arrayValue:{values:[]}};for(let c=0;c<(u.arrayValue.values||[]).length;++c)i.arrayValue.values[c]=us(u.arrayValue.values[c]);return i}return Object.assign({},u)}function Lc(u){return"__max__"===(((u.mapValue||{}).fields||{}).__type__||{}).stringValue}class di{constructor(i){this.value=i}static empty(){return new di({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let c=this.value;for(let h=0;h<i.length-1;++h)if(c=(c.mapValue.fields||{})[i.get(h)],!Ri(c))return null;return c=(c.mapValue.fields||{})[i.lastSegment()],c||null}}set(i,c){this.getFieldsMap(i.popLast())[i.lastSegment()]=us(c)}setAll(i){let c=Bi.emptyPath(),h={},g=[];i.forEach((D,F)=>{if(!c.isImmediateParentOf(F)){const q=this.getFieldsMap(c);this.applyChanges(q,h,g),h={},g=[],c=F.popLast()}D?h[F.lastSegment()]=us(D):g.push(F.lastSegment())});const v=this.getFieldsMap(c);this.applyChanges(v,h,g)}delete(i){const c=this.field(i.popLast());Ri(c)&&c.mapValue.fields&&delete c.mapValue.fields[i.lastSegment()]}isEqual(i){return ws(this.value,i.value)}getFieldsMap(i){let c=this.value;c.mapValue.fields||(c.mapValue={fields:{}});for(let h=0;h<i.length;++h){let g=c.mapValue.fields[i.get(h)];Ri(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},c.mapValue.fields[i.get(h)]=g),c=g}return c.mapValue.fields}applyChanges(i,c,h){yi(c,(g,v)=>i[g]=v);for(const g of h)delete i[g]}clone(){return new di(us(this.value))}}function vu(u){const i=[];return yi(u.fields,(c,h)=>{const g=new Bi([c]);if(Ri(h)){const v=vu(h.mapValue).fields;if(0===v.length)i.push(g);else for(const D of v)i.push(g.child(D))}else i.push(g)}),new $o(i)}class hi{constructor(i,c,h,g,v,D){this.key=i,this.documentType=c,this.version=h,this.readTime=g,this.data=v,this.documentState=D}static newInvalidDocument(i){return new hi(i,0,Nn.min(),Nn.min(),di.empty(),0)}static newFoundDocument(i,c,h){return new hi(i,1,c,Nn.min(),h,0)}static newNoDocument(i,c){return new hi(i,2,c,Nn.min(),di.empty(),0)}static newUnknownDocument(i,c){return new hi(i,3,c,Nn.min(),di.empty(),2)}convertToFoundDocument(i,c){return this.version=i,this.documentType=1,this.data=c,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=di.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=di.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(i){return i instanceof hi&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new hi(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class bu{constructor(i,c=null,h=[],g=[],v=null,D=null,F=null){this.path=i,this.collectionGroup=c,this.orderBy=h,this.filters=g,this.limit=v,this.startAt=D,this.endAt=F,this.P=null}}function cf(u,i=null,c=[],h=[],g=null,v=null,D=null){return new bu(u,i,c,h,g,v,D)}function pa(u){const i=on(u);if(null===i.P){let c=i.path.canonicalString();null!==i.collectionGroup&&(c+="|cg:"+i.collectionGroup),c+="|f:",c+=i.filters.map(h=>{return(g=h).field.canonicalString()+g.op.toString()+Es(g.value);var g}).join(","),c+="|ob:",c+=i.orderBy.map(h=>{return(g=h).field.canonicalString()+g.dir;var g}).join(","),oi(i.limit)||(c+="|l:",c+=i.limit),i.startAt&&(c+="|lb:",c+=i.startAt.inclusive?"b:":"a:",c+=i.startAt.position.map(h=>Es(h)).join(",")),i.endAt&&(c+="|ub:",c+=i.endAt.inclusive?"a:":"b:",c+=i.endAt.position.map(h=>Es(h)).join(",")),i.P=c}return i.P}function Ss(u,i){if(u.limit!==i.limit||u.orderBy.length!==i.orderBy.length)return!1;for(let g=0;g<u.orderBy.length;g++)if(!Gt(u.orderBy[g],i.orderBy[g]))return!1;if(u.filters.length!==i.filters.length)return!1;for(let g=0;g<u.filters.length;g++)if((c=u.filters[g]).op!==(h=i.filters[g]).op||!c.field.isEqual(h.field)||!ws(c.value,h.value))return!1;var c,h;return u.collectionGroup===i.collectionGroup&&!!u.path.isEqual(i.path)&&!!lr(u.startAt,i.startAt)&&lr(u.endAt,i.endAt)}function eo(u){return fn.isDocumentKey(u.path)&&null===u.collectionGroup&&0===u.filters.length}class Ai extends class{}{constructor(i,c,h){super(),this.field=i,this.op=c,this.value=h}static create(i,c,h){return i.isKeyField()?"in"===c||"not-in"===c?this.V(i,c,h):new Bc(i,c,h):"array-contains"===c?new U(i,h):"in"===c?new V(i,h):"not-in"===c?new ee(i,h):"array-contains-any"===c?new Se(i,h):new Ai(i,c,h)}static V(i,c,h){return"in"===c?new Cu(i,h):new ma(i,h)}matches(i){const c=i.data.field(this.field);return"!="===this.op?null!==c&&this.v(ha(c,this.value)):null!==c&&dc(this.value)===dc(c)&&this.v(ha(c,this.value))}v(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return 0===i;case"!=":return 0!==i;case">":return i>0;case">=":return i>=0;default:return kn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Bc extends Ai{constructor(i,c,h){super(i,c,h),this.key=fn.fromName(h.referenceValue)}matches(i){const c=fn.comparator(i.key,this.key);return this.v(c)}}class Cu extends Ai{constructor(i,c){super(i,"in",c),this.keys=vl(0,c)}matches(i){return this.keys.some(c=>c.isEqual(i.key))}}class ma extends Ai{constructor(i,c){super(i,"not-in",c),this.keys=vl(0,c)}matches(i){return!this.keys.some(c=>c.isEqual(i.key))}}function vl(u,i){var c;return((null===(c=i.arrayValue)||void 0===c?void 0:c.values)||[]).map(h=>fn.fromName(h.referenceValue))}class U extends Ai{constructor(i,c){super(i,"array-contains",c)}matches(i){const c=i.data.field(this.field);return Vi(c)&&Ts(c.arrayValue,this.value)}}class V extends Ai{constructor(i,c){super(i,"in",c)}matches(i){const c=i.data.field(this.field);return null!==c&&Ts(this.value.arrayValue,c)}}class ee extends Ai{constructor(i,c){super(i,"not-in",c)}matches(i){if(Ts(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const c=i.data.field(this.field);return null!==c&&!Ts(this.value.arrayValue,c)}}class Se extends Ai{constructor(i,c){super(i,"array-contains-any",c)}matches(i){const c=i.data.field(this.field);return!(!Vi(c)||!c.arrayValue.values)&&c.arrayValue.values.some(h=>Ts(this.value.arrayValue,h))}}class Ke{constructor(i,c){this.position=i,this.inclusive=c}}class dt{constructor(i,c="asc"){this.field=i,this.dir=c}}function Gt(u,i){return u.dir===i.dir&&u.field.isEqual(i.field)}function Jt(u,i,c){let h=0;for(let g=0;g<u.position.length;g++){const v=i[g],D=u.position[g];if(h=v.field.isKeyField()?fn.comparator(fn.fromName(D.referenceValue),c.key):ha(D,c.data.field(v.field)),"desc"===v.dir&&(h*=-1),0!==h)break}return h}function lr(u,i){if(null===u)return null===i;if(null===i||u.inclusive!==i.inclusive||u.position.length!==i.position.length)return!1;for(let c=0;c<u.position.length;c++)if(!ws(u.position[c],i.position[c]))return!1;return!0}class Hn{constructor(i,c=null,h=[],g=[],v=null,D="F",F=null,q=null){this.path=i,this.collectionGroup=c,this.explicitOrderBy=h,this.filters=g,this.limit=v,this.limitType=D,this.startAt=F,this.endAt=q,this.D=null,this.C=null}}function zn(u){return new Hn(u)}function ji(u){return!oi(u.limit)&&"F"===u.limitType}function Ii(u){return!oi(u.limit)&&"L"===u.limitType}function uo(u){const i=on(u);if(null===i.D){i.D=[];const c=function xs(u){for(const i of u.filters)if(i.S())return i.field;return null}(i),h=function hc(u){return u.explicitOrderBy.length>0?u.explicitOrderBy[0].field:null}(i);if(null!==c&&null===h)c.isKeyField()||i.D.push(new dt(c)),i.D.push(new dt(Bi.keyField(),"asc"));else{let g=!1;for(const v of i.explicitOrderBy)i.D.push(v),v.field.isKeyField()&&(g=!0);if(!g){const v=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";i.D.push(new dt(Bi.keyField(),v))}}}return i.D}function ei(u){const i=on(u);if(!i.C)if("F"===i.limitType)i.C=cf(i.path,i.collectionGroup,uo(i),i.filters,i.limit,i.startAt,i.endAt);else{const c=[];for(const v of uo(i))c.push(new dt(v.field,"desc"===v.dir?"asc":"desc"));const h=i.endAt?new Ke(i.endAt.position,!i.endAt.inclusive):null,g=i.startAt?new Ke(i.startAt.position,!i.startAt.inclusive):null;i.C=cf(i.path,i.collectionGroup,c,i.filters,i.limit,h,g)}return i.C}function bl(u,i){return Ss(ei(u),ei(i))&&u.limitType===i.limitType}function wu(u){return`${pa(ei(u))}|lt:${u.limitType}`}function Vc(u){return`Query(target=${function Uc(u){let i=u.path.canonicalString();return null!==u.collectionGroup&&(i+=" collectionGroup="+u.collectionGroup),u.filters.length>0&&(i+=`, filters: [${u.filters.map(c=>{return`${(h=c).field.canonicalString()} ${h.op} ${Es(h.value)}`;var h}).join(", ")}]`),oi(u.limit)||(i+=", limit: "+u.limit),u.orderBy.length>0&&(i+=`, orderBy: [${u.orderBy.map(c=>{return`${(h=c).field.canonicalString()} (${h.dir})`;var h}).join(", ")}]`),u.startAt&&(i+=", startAt: ",i+=u.startAt.inclusive?"b:":"a:",i+=u.startAt.position.map(c=>Es(c)).join(",")),u.endAt&&(i+=", endAt: ",i+=u.endAt.inclusive?"a:":"b:",i+=u.endAt.position.map(c=>Es(c)).join(",")),`Target(${i})`}(ei(u))}; limitType=${u.limitType})`}function Cl(u,i){return i.isFoundDocument()&&function(c,h){const g=h.key.path;return null!==c.collectionGroup?h.key.hasCollectionId(c.collectionGroup)&&c.path.isPrefixOf(g):fn.isDocumentKey(c.path)?c.path.isEqual(g):c.path.isImmediateParentOf(g)}(u,i)&&function(c,h){for(const g of c.explicitOrderBy)if(!g.field.isKeyField()&&null===h.data.field(g.field))return!1;return!0}(u,i)&&function(c,h){for(const g of c.filters)if(!g.matches(h))return!1;return!0}(u,i)&&(h=i,!((c=u).startAt&&!function(g,v,D){const F=Jt(g,v,D);return g.inclusive?F<=0:F<0}(c.startAt,uo(c),h)||c.endAt&&!function(g,v,D){const F=Jt(g,v,D);return g.inclusive?F>=0:F>0}(c.endAt,uo(c),h)));var c,h}function uf(u){return(i,c)=>{let h=!1;for(const g of uo(u)){const v=wl(g,i,c);if(0!==v)return v;h=h||g.field.isKeyField()}return 0}}function wl(u,i,c){const h=u.field.isKeyField()?fn.comparator(i.key,c.key):function(g,v,D){const F=v.data.field(g),q=D.data.field(g);return null!==F&&null!==q?ha(F,q):kn()}(u.field,i,c);switch(u.dir){case"asc":return h;case"desc":return-1*h;default:return kn()}}function jc(u,i){if(u.N){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(i)?"-0":i}}function Gc(u){return{integerValue:""+u}}function Ep(u,i){return function ih(u){return"number"==typeof u&&Number.isInteger(u)&&!lc(u)&&u<=Number.MAX_SAFE_INTEGER&&u>=Number.MIN_SAFE_INTEGER}(i)?Gc(i):jc(u,i)}class Tl{constructor(){this._=void 0}}function lf(u,i,c){return u instanceof Tu?function(h,g){const v={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:h.seconds,nanos:h.nanoseconds}}}};return g&&(v.fields.__previous_value__=g),{mapValue:v}}(c,i):u instanceof zs?Sp(u,i):u instanceof Ha?Hc(u,i):function(h,g){const v=oh(h,g),D=df(v)+df(h.k);return ao(v)&&ao(h.k)?Gc(D):jc(h.M,D)}(u,i)}function Dp(u,i,c){return u instanceof zs?Sp(u,i):u instanceof Ha?Hc(u,i):c}function oh(u,i){return u instanceof As?ao(c=i)||(h=c)&&"doubleValue"in h?i:{integerValue:0}:null;var h,c}class Tu extends Tl{}class zs extends Tl{constructor(i){super(),this.elements=i}}function Sp(u,i){const c=Kg(i);for(const h of u.elements)c.some(g=>ws(g,h))||c.push(h);return{arrayValue:{values:c}}}class Ha extends Tl{constructor(i){super(),this.elements=i}}function Hc(u,i){let c=Kg(i);for(const h of u.elements)c=c.filter(g=>!ws(g,h));return{arrayValue:{values:c}}}class As extends Tl{constructor(i,c){super(),this.M=i,this.k=c}}function df(u){return Jr(u.integerValue||u.doubleValue)}function Kg(u){return Vi(u)&&u.arrayValue.values?u.arrayValue.values.slice():[]}class sh{constructor(i,c){this.version=i,this.transformResults=c}}class Gi{constructor(i,c){this.updateTime=i,this.exists=c}static none(){return new Gi}static exists(i){return new Gi(void 0,i)}static updateTime(i){return new Gi(i)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function El(u,i){return void 0!==u.updateTime?i.isFoundDocument()&&i.version.isEqual(u.updateTime):void 0===u.exists||u.exists===i.isFoundDocument()}class cd{}function $c(u,i,c){u instanceof ld?function(h,g,v){const D=h.value.clone(),F=pf(h.fieldTransforms,g,v.transformResults);D.setAll(F),g.convertToFoundDocument(v.version,D).setHasCommittedMutations()}(u,i,c):u instanceof hs?function(h,g,v){if(!El(h.precondition,g))return void g.convertToUnknownDocument(v.version);const D=pf(h.fieldTransforms,g,v.transformResults),F=g.data;F.setAll(pc(h)),F.setAll(D),g.convertToFoundDocument(v.version,F).setHasCommittedMutations()}(u,i,c):i.convertToNoDocument(c.version).setHasCommittedMutations()}function ls(u,i,c){var g;u instanceof ld?function(h,g,v){if(!El(h.precondition,g))return;const D=h.value.clone(),F=dd(h.fieldTransforms,v,g);D.setAll(F),g.convertToFoundDocument(ud(g),D).setHasLocalMutations()}(u,i,c):u instanceof hs?function(h,g,v){if(!El(h.precondition,g))return;const D=dd(h.fieldTransforms,v,g),F=g.data;F.setAll(pc(h)),F.setAll(D),g.convertToFoundDocument(ud(g),F).setHasLocalMutations()}(u,i,c):El(u.precondition,g=i)&&g.convertToNoDocument(Nn.min())}function xp(u,i){let c=null;for(const h of u.fieldTransforms){const g=i.data.field(h.field),v=oh(h.transform,g||null);null!=v&&(null==c&&(c=di.empty()),c.set(h.field,v))}return c||null}function Ap(u,i){return u.type===i.type&&!!u.key.isEqual(i.key)&&!!u.precondition.isEqual(i.precondition)&&(h=i.fieldTransforms,!!(void 0===(c=u.fieldTransforms)&&void 0===h||c&&h&&qs(c,h,(g,v)=>function ff(u,i){return u.field.isEqual(i.field)&&(h=i.transform,(c=u.transform)instanceof zs&&h instanceof zs||c instanceof Ha&&h instanceof Ha?qs(c.elements,h.elements,ws):c instanceof As&&h instanceof As?ws(c.k,h.k):c instanceof Tu&&h instanceof Tu);var c,h}(g,v))))&&(0===u.type?u.value.isEqual(i.value):1!==u.type||u.data.isEqual(i.data)&&u.fieldMask.isEqual(i.fieldMask));var c,h}function ud(u){return u.isFoundDocument()?u.version:Nn.min()}class ld extends cd{constructor(i,c,h,g=[]){super(),this.key=i,this.value=c,this.precondition=h,this.fieldTransforms=g,this.type=0}}class hs extends cd{constructor(i,c,h,g,v=[]){super(),this.key=i,this.data=c,this.fieldMask=h,this.precondition=g,this.fieldTransforms=v,this.type=1}}function pc(u){const i=new Map;return u.fieldMask.fields.forEach(c=>{if(!c.isEmpty()){const h=u.data.field(c);i.set(c,h)}}),i}function pf(u,i,c){const h=new Map;Jn(u.length===c.length);for(let g=0;g<c.length;g++){const v=u[g],D=v.transform,F=i.data.field(v.field);h.set(v.field,Dp(D,F,c[g]))}return h}function dd(u,i,c){const h=new Map;for(const g of u){const v=g.transform,D=c.data.field(g.field);h.set(g.field,lf(v,D,i))}return h}class ah extends cd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=2,this.fieldTransforms=[]}}class ch extends cd{constructor(i,c){super(),this.key=i,this.precondition=c,this.type=3,this.fieldTransforms=[]}}class Yg{constructor(i){this.count=i}}var Hi,Rr;function gf(u){switch(u){default:return kn();case pt.CANCELLED:case pt.UNKNOWN:case pt.DEADLINE_EXCEEDED:case pt.RESOURCE_EXHAUSTED:case pt.INTERNAL:case pt.UNAVAILABLE:case pt.UNAUTHENTICATED:return!1;case pt.INVALID_ARGUMENT:case pt.NOT_FOUND:case pt.ALREADY_EXISTS:case pt.PERMISSION_DENIED:case pt.FAILED_PRECONDITION:case pt.ABORTED:case pt.OUT_OF_RANGE:case pt.UNIMPLEMENTED:case pt.DATA_LOSS:return!0}}function hd(u){if(void 0===u)return ar("GRPC error has no .code"),pt.UNKNOWN;switch(u){case Hi.OK:return pt.OK;case Hi.CANCELLED:return pt.CANCELLED;case Hi.UNKNOWN:return pt.UNKNOWN;case Hi.DEADLINE_EXCEEDED:return pt.DEADLINE_EXCEEDED;case Hi.RESOURCE_EXHAUSTED:return pt.RESOURCE_EXHAUSTED;case Hi.INTERNAL:return pt.INTERNAL;case Hi.UNAVAILABLE:return pt.UNAVAILABLE;case Hi.UNAUTHENTICATED:return pt.UNAUTHENTICATED;case Hi.INVALID_ARGUMENT:return pt.INVALID_ARGUMENT;case Hi.NOT_FOUND:return pt.NOT_FOUND;case Hi.ALREADY_EXISTS:return pt.ALREADY_EXISTS;case Hi.PERMISSION_DENIED:return pt.PERMISSION_DENIED;case Hi.FAILED_PRECONDITION:return pt.FAILED_PRECONDITION;case Hi.ABORTED:return pt.ABORTED;case Hi.OUT_OF_RANGE:return pt.OUT_OF_RANGE;case Hi.UNIMPLEMENTED:return pt.UNIMPLEMENTED;case Hi.DATA_LOSS:return pt.DATA_LOSS;default:return kn()}}(Rr=Hi||(Hi={}))[Rr.OK=0]="OK",Rr[Rr.CANCELLED=1]="CANCELLED",Rr[Rr.UNKNOWN=2]="UNKNOWN",Rr[Rr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rr[Rr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rr[Rr.NOT_FOUND=5]="NOT_FOUND",Rr[Rr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rr[Rr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rr[Rr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rr[Rr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rr[Rr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rr[Rr.ABORTED=10]="ABORTED",Rr[Rr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rr[Rr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rr[Rr.INTERNAL=13]="INTERNAL",Rr[Rr.UNAVAILABLE=14]="UNAVAILABLE",Rr[Rr.DATA_LOSS=15]="DATA_LOSS";class qc{constructor(i,c){this.mapKeyFn=i,this.equalsFn=c,this.inner={},this.innerSize=0}get(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0!==h)for(const[g,v]of h)if(this.equalsFn(g,i))return v}has(i){return void 0!==this.get(i)}set(i,c){const h=this.mapKeyFn(i),g=this.inner[h];if(void 0===g)return this.inner[h]=[[i,c]],void this.innerSize++;for(let v=0;v<g.length;v++)if(this.equalsFn(g[v][0],i))return void(g[v]=[i,c]);g.push([i,c]),this.innerSize++}delete(i){const c=this.mapKeyFn(i),h=this.inner[c];if(void 0===h)return!1;for(let g=0;g<h.length;g++)if(this.equalsFn(h[g][0],i))return 1===h.length?delete this.inner[c]:h.splice(g,1),this.innerSize--,!0;return!1}forEach(i){yi(this.inner,(c,h)=>{for(const[g,v]of h)i(g,v)})}isEmpty(){return Cs(this.inner)}size(){return this.innerSize}}class Pi{constructor(i,c){this.comparator=i,this.root=c||xo.EMPTY}insert(i,c){return new Pi(this.comparator,this.root.insert(i,c,this.comparator).copy(null,null,xo.BLACK,null,null))}remove(i){return new Pi(this.comparator,this.root.remove(i,this.comparator).copy(null,null,xo.BLACK,null,null))}get(i){let c=this.root;for(;!c.isEmpty();){const h=this.comparator(i,c.key);if(0===h)return c.value;h<0?c=c.left:h>0&&(c=c.right)}return null}indexOf(i){let c=0,h=this.root;for(;!h.isEmpty();){const g=this.comparator(i,h.key);if(0===g)return c+h.left.size;g<0?h=h.left:(c+=h.left.size+1,h=h.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((c,h)=>(i(c,h),!1))}toString(){const i=[];return this.inorderTraversal((c,h)=>(i.push(`${c}:${h}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new mf(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new mf(this.root,i,this.comparator,!1)}getReverseIterator(){return new mf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new mf(this.root,i,this.comparator,!0)}}class mf{constructor(i,c,h,g){this.isReverse=g,this.nodeStack=[];let v=1;for(;!i.isEmpty();)if(v=c?h(i.key,c):1,c&&g&&(v*=-1),v<0)i=this.isReverse?i.left:i.right;else{if(0===v){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const c={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return c}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class xo{constructor(i,c,h,g,v){this.key=i,this.value=c,this.color=null!=h?h:xo.RED,this.left=null!=g?g:xo.EMPTY,this.right=null!=v?v:xo.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,c,h,g,v){return new xo(null!=i?i:this.key,null!=c?c:this.value,null!=h?h:this.color,null!=g?g:this.left,null!=v?v:this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,c,h){let g=this;const v=h(i,g.key);return g=v<0?g.copy(null,null,null,g.left.insert(i,c,h),null):0===v?g.copy(null,c,null,null,null):g.copy(null,null,null,null,g.right.insert(i,c,h)),g.fixUp()}removeMin(){if(this.left.isEmpty())return xo.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,c){let h,g=this;if(c(i,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(i,c),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===c(i,g.key)){if(g.right.isEmpty())return xo.EMPTY;h=g.right.min(),g=g.copy(h.key,h.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(i,c))}return g.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,xo.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,xo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),c=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,c)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw kn();const i=this.left.check();if(i!==this.right.check())throw kn();return i+(this.isRed()?0:1)}}xo.EMPTY=null,xo.RED=!0,xo.BLACK=!1,xo.EMPTY=new class{constructor(){this.size=0}get key(){throw kn()}get value(){throw kn()}get color(){throw kn()}get left(){throw kn()}get right(){throw kn()}copy(u,i,c,h,g){return this}insert(u,i,c){return new xo(u,i)}remove(u,i){return this}isEmpty(){return!0}inorderTraversal(u){return!1}reverseTraversal(u){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ti{constructor(i){this.comparator=i,this.data=new Pi(this.comparator)}has(i){return null!==this.data.get(i)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((c,h)=>(i(c),!1))}forEachInRange(i,c){const h=this.data.getIteratorFrom(i[0]);for(;h.hasNext();){const g=h.getNext();if(this.comparator(g.key,i[1])>=0)return;c(g.key)}}forEachWhile(i,c){let h;for(h=void 0!==c?this.data.getIteratorFrom(c):this.data.getIterator();h.hasNext();)if(!i(h.getNext().key))return}firstAfterOrEqual(i){const c=this.data.getIteratorFrom(i);return c.hasNext()?c.getNext().key:null}getIterator(){return new fd(this.data.getIterator())}getIteratorFrom(i){return new fd(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let c=this;return c.size<i.size&&(c=i,i=this),i.forEach(h=>{c=c.add(h)}),c}isEqual(i){if(!(i instanceof ti)||this.size!==i.size)return!1;const c=this.data.getIterator(),h=i.data.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(0!==this.comparator(g,v))return!1}return!0}toArray(){const i=[];return this.forEach(c=>{i.push(c)}),i}toString(){const i=[];return this.forEach(c=>i.push(c)),"SortedSet("+i.toString()+")"}copy(i){const c=new ti(this.comparator);return c.data=i,c}}class fd{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const uh=new Pi(fn.comparator);function Wo(){return uh}const Ip=new Pi(fn.comparator);function Zc(){return Ip}function pd(){return new qc(u=>u.toString(),(u,i)=>u.isEqual(i))}const ay=new Pi(fn.comparator),Jg=new ti(fn.comparator);function Qr(...u){let i=Jg;for(const c of u)i=i.add(c);return i}const Qg=new ti(Cr);function Eu(){return Qg}class gd{constructor(i,c,h,g,v){this.snapshotVersion=i,this.targetChanges=c,this.targetMismatches=h,this.documentUpdates=g,this.resolvedLimboDocuments=v}static createSynthesizedRemoteEventForCurrentChange(i,c){const h=new Map;return h.set(i,lh.createSynthesizedTargetChangeForCurrentChange(i,c)),new gd(Nn.min(),h,Eu(),Wo(),Qr())}}class lh{constructor(i,c,h,g,v){this.resumeToken=i,this.current=c,this.addedDocuments=h,this.modifiedDocuments=g,this.removedDocuments=v}static createSynthesizedTargetChangeForCurrentChange(i,c){return new lh(gi.EMPTY_BYTE_STRING,c,Qr(),Qr(),Qr())}}class dh{constructor(i,c,h,g){this.O=i,this.removedTargetIds=c,this.key=h,this.$=g}}class Pp{constructor(i,c){this.targetId=i,this.F=c}}class Du{constructor(i,c,h=gi.EMPTY_BYTE_STRING,g=null){this.state=i,this.targetIds=c,this.resumeToken=h,this.cause=g}}class Xg{constructor(){this.B=0,this.L=md(),this.q=gi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(i){i.approximateByteSize()>0&&(this.K=!0,this.q=i)}H(){let i=Qr(),c=Qr(),h=Qr();return this.L.forEach((g,v)=>{switch(v){case 0:i=i.add(g);break;case 2:c=c.add(g);break;case 1:h=h.add(g);break;default:kn()}}),new lh(this.q,this.U,i,c,h)}J(){this.K=!1,this.L=md()}Y(i,c){this.K=!0,this.L=this.L.insert(i,c)}X(i){this.K=!0,this.L=this.L.remove(i)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class em{constructor(i){this.nt=i,this.st=new Map,this.it=Wo(),this.rt=Mp(),this.ot=new ti(Cr)}at(i){for(const c of i.O)i.$&&i.$.isFoundDocument()?this.ut(c,i.$):this.ct(c,i.key,i.$);for(const c of i.removedTargetIds)this.ct(c,i.key,i.$)}ht(i){this.forEachTarget(i,c=>{const h=this.lt(c);switch(i.state){case 0:this.ft(c)&&h.W(i.resumeToken);break;case 1:h.tt(),h.G||h.J(),h.W(i.resumeToken);break;case 2:h.tt(),h.G||this.removeTarget(c);break;case 3:this.ft(c)&&(h.et(),h.W(i.resumeToken));break;case 4:this.ft(c)&&(this.dt(c),h.W(i.resumeToken));break;default:kn()}})}forEachTarget(i,c){i.targetIds.length>0?i.targetIds.forEach(c):this.st.forEach((h,g)=>{this.ft(g)&&c(g)})}_t(i){const c=i.targetId,h=i.F.count,g=this.wt(c);if(g){const v=g.target;if(eo(v))if(0===h){const D=new fn(v.path);this.ct(c,D,hi.newNoDocument(D,Nn.min()))}else Jn(1===h);else this.gt(c)!==h&&(this.dt(c),this.ot=this.ot.add(c))}}yt(i){const c=new Map;this.st.forEach((v,D)=>{const F=this.wt(D);if(F){if(v.current&&eo(F.target)){const q=new fn(F.target.path);null!==this.it.get(q)||this.It(D,q)||this.ct(D,q,hi.newNoDocument(q,i))}v.j&&(c.set(D,v.H()),v.J())}});let h=Qr();this.rt.forEach((v,D)=>{let F=!0;D.forEachWhile(q=>{const te=this.wt(q);return!te||2===te.purpose||(F=!1,!1)}),F&&(h=h.add(v))}),this.it.forEach((v,D)=>D.setReadTime(i));const g=new gd(i,c,this.ot,this.it,h);return this.it=Wo(),this.rt=Mp(),this.ot=new ti(Cr),g}ut(i,c){if(!this.ft(i))return;const h=this.It(i,c.key)?2:0;this.lt(i).Y(c.key,h),this.it=this.it.insert(c.key,c),this.rt=this.rt.insert(c.key,this.Tt(c.key).add(i))}ct(i,c,h){if(!this.ft(i))return;const g=this.lt(i);this.It(i,c)?g.Y(c,1):g.X(c),this.rt=this.rt.insert(c,this.Tt(c).delete(i)),h&&(this.it=this.it.insert(c,h))}removeTarget(i){this.st.delete(i)}gt(i){const c=this.lt(i).H();return this.nt.getRemoteKeysForTarget(i).size+c.addedDocuments.size-c.removedDocuments.size}Z(i){this.lt(i).Z()}lt(i){let c=this.st.get(i);return c||(c=new Xg,this.st.set(i,c)),c}Tt(i){let c=this.rt.get(i);return c||(c=new ti(Cr),this.rt=this.rt.insert(i,c)),c}ft(i){const c=null!==this.wt(i);return c||Zt("WatchChangeAggregator","Detected inactive target",i),c}wt(i){const c=this.st.get(i);return c&&c.G?null:this.nt.Et(i)}dt(i){this.st.set(i,new Xg),this.nt.getRemoteKeysForTarget(i).forEach(c=>{this.ct(i,c,null)})}It(i,c){return this.nt.getRemoteKeysForTarget(i).has(c)}}function Mp(){return new Pi(fn.comparator)}function md(){return new Pi(fn.comparator)}const tm={asc:"ASCENDING",desc:"DESCENDING"},Op={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Np{constructor(i,c){this.databaseId=i,this.N=c}}function vi(u,i){return u.N?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function Rp(u,i){return u.N?i.toBase64():i.toUint8Array()}function nm(u,i){return vi(u,i.toTimestamp())}function lo(u){return Jn(!!u),Nn.fromTimestamp(function(i){const c=So(i);return new Xr(c.seconds,c.nanos)}(u))}function hh(u,i){return(c=u,new Wr(["projects",c.projectId,"databases",c.database])).child("documents").child(i).canonicalString();var c}function rm(u){const i=Wr.fromString(u);return Jn(ph(i)),i}function Su(u,i){return hh(u.databaseId,i.path)}function gc(u,i){const c=rm(i);if(c.get(1)!==u.databaseId.projectId)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+c.get(1)+" vs "+u.databaseId.projectId);if(c.get(3)!==u.databaseId.database)throw new It(pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+c.get(3)+" vs "+u.databaseId.database);return new fn(cy(c))}function _f(u,i){return hh(u.databaseId,i)}function kp(u){return new Wr(["projects",u.databaseId.projectId,"databases",u.databaseId.database]).canonicalString()}function cy(u){return Jn(u.length>4&&"documents"===u.get(4)),u.popFirst(5)}function _d(u,i,c){return{name:Su(u,i),fields:c.value.mapValue.fields}}function vf(u,i){return{documents:[_f(u,i.path)]}}function $a(u,i){const c={structuredQuery:{}},h=i.path;null!==i.collectionGroup?(c.parent=_f(u,h),c.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(c.parent=_f(u,h.popLast()),c.structuredQuery.from=[{collectionId:h.lastSegment()}]);const g=function(q){if(0===q.length)return;const te=q.map(xe=>function(Ve){if("=="===Ve.op){if(yu(Ve.value))return{unaryFilter:{field:Dl(Ve.field),op:"IS_NAN"}};if(Zs(Ve.value))return{unaryFilter:{field:Dl(Ve.field),op:"IS_NULL"}}}else if("!="===Ve.op){if(yu(Ve.value))return{unaryFilter:{field:Dl(Ve.field),op:"IS_NOT_NAN"}};if(Zs(Ve.value))return{unaryFilter:{field:Dl(Ve.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Dl(Ve.field),op:yd(Ve.op),value:Ve.value}}}(xe));return 1===te.length?te[0]:{compositeFilter:{op:"AND",filters:te}}}(i.filters);g&&(c.structuredQuery.where=g);const v=function(q){if(0!==q.length)return q.map(te=>{return{field:Dl((xe=te).field),direction:ho(xe.dir)};var xe})}(i.orderBy);v&&(c.structuredQuery.orderBy=v);const D=(te=i.limit,u.N||oi(te)?te:{value:te});var te,F,q;return null!==D&&(c.structuredQuery.limit=D),i.startAt&&(c.structuredQuery.startAt={before:(F=i.startAt).inclusive,values:F.position}),i.endAt&&(c.structuredQuery.endAt={before:!(q=i.endAt).inclusive,values:q.position}),c}function zc(u){let i=function U_(u){const i=rm(u);return 4===i.length?Wr.emptyPath():cy(i)}(u.parent);const c=u.structuredQuery,h=c.from?c.from.length:0;let g=null;if(h>0){Jn(1===h);const xe=c.from[0];xe.allDescendants?g=xe.collectionId:i=i.child(xe.collectionId)}let v=[];c.where&&(v=ci(c.where));let D=[];c.orderBy&&(D=c.orderBy.map(xe=>{return new dt(xu((Ve=xe).field),function(ht){switch(ht){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(Ve.direction));var Ve}));let F=null;c.limit&&(F=function(xe){let Ve;return Ve="object"==typeof xe?xe.value:xe,oi(Ve)?null:Ve}(c.limit));let q=null;var xe;c.startAt&&(q=new Ke((xe=c.startAt).values||[],!!xe.before));let te=null;return c.endAt&&(te=function(xe){return new Ke(xe.values||[],!xe.before)}(c.endAt)),function Or(u,i,c,h,g,v,D,F){return new Hn(u,i,c,h,g,v,D,F)}(i,g,D,v,F,"F",q,te)}function ci(u){return u?void 0!==u.unaryFilter?[bf(u)]:void 0!==u.fieldFilter?[V_(u)]:void 0!==u.compositeFilter?u.compositeFilter.filters.map(i=>ci(i)).reduce((i,c)=>i.concat(c)):kn():[]}function ho(u){return tm[u]}function yd(u){return Op[u]}function Dl(u){return{fieldPath:u.canonicalString()}}function xu(u){return Bi.fromServerFormat(u.fieldPath)}function V_(u){return Ai.create(xu(u.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return kn()}}(u.fieldFilter.op),u.fieldFilter.value)}function bf(u){switch(u.unaryFilter.op){case"IS_NAN":const i=xu(u.unaryFilter.field);return Ai.create(i,"==",{doubleValue:NaN});case"IS_NULL":const c=xu(u.unaryFilter.field);return Ai.create(c,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=xu(u.unaryFilter.field);return Ai.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=xu(u.unaryFilter.field);return Ai.create(g,"!=",{nullValue:"NULL_VALUE"});default:return kn()}}function _a(u){const i=[];return u.fields.forEach(c=>i.push(c.canonicalString())),{fieldPaths:i}}function ph(u){return u.length>=4&&"projects"===u.get(0)&&"databases"===u.get(2)}const Up="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class _t{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(c=>{this.isDone=!0,this.result=c,this.nextCallback&&this.nextCallback(c)},c=>{this.isDone=!0,this.error=c,this.catchCallback&&this.catchCallback(c)})}catch(i){return this.next(void 0,i)}next(i,c){return this.callbackAttached&&kn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(c,this.error):this.wrapSuccess(i,this.result):new _t((h,g)=>{this.nextCallback=v=>{this.wrapSuccess(i,v).next(h,g)},this.catchCallback=v=>{this.wrapFailure(c,v).next(h,g)}})}toPromise(){return new Promise((i,c)=>{this.next(i,c)})}wrapUserFunction(i){try{const c=i();return c instanceof _t?c:_t.resolve(c)}catch(c){return _t.reject(c)}}wrapSuccess(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.resolve(c)}wrapFailure(i,c){return i?this.wrapUserFunction(()=>i(c)):_t.reject(c)}static resolve(i){return new _t((c,h)=>{c(i)})}static reject(i){return new _t((c,h)=>{h(i)})}static waitFor(i){return new _t((c,h)=>{let g=0,v=0,D=!1;i.forEach(F=>{++g,F.next(()=>{++v,D&&v===g&&c()},q=>h(q))}),D=!0,v===g&&c()})}static or(i){let c=_t.resolve(!1);for(const h of i)c=c.next(g=>g?_t.resolve(g):h());return c}static forEach(i,c){const h=[];return i.forEach((g,v)=>{h.push(c.call(this,g,v))}),this.waitFor(h)}}function ps(u){return"IndexedDbTransactionError"===u.name}class vd{constructor(i,c,h,g){this.batchId=i,this.localWriteTime=c,this.baseMutations=h,this.mutations=g}applyToRemoteDocument(i,c){const h=c.mutationResults;for(let g=0;g<this.mutations.length;g++){const v=this.mutations[g];v.key.isEqual(i.key)&&$c(v,i,h[g])}}applyToLocalView(i){for(const c of this.baseMutations)c.key.isEqual(i.key)&&ls(c,i,this.localWriteTime);for(const c of this.mutations)c.key.isEqual(i.key)&&ls(c,i,this.localWriteTime)}applyToLocalDocumentSet(i){this.mutations.forEach(c=>{const h=i.get(c.key),g=h;this.applyToLocalView(g),h.isValidDocument()||g.convertToNoDocument(Nn.min())})}keys(){return this.mutations.reduce((i,c)=>i.add(c.key),Qr())}isEqual(i){return this.batchId===i.batchId&&qs(this.mutations,i.mutations,(c,h)=>Ap(c,h))&&qs(this.baseMutations,i.baseMutations,(c,h)=>Ap(c,h))}}class bd{constructor(i,c,h,g){this.batch=i,this.commitVersion=c,this.mutationResults=h,this.docVersions=g}static from(i,c,h){Jn(i.mutations.length===h.length);let g=ay;const v=i.mutations;for(let D=0;D<v.length;D++)g=g.insert(v[D].key,h[D].version);return new bd(i,c,h,g)}}class bh{constructor(i,c){this.largestBatchId=i,this.mutation=c}getKey(){return this.mutation.key}isEqual(i){return null!==i&&this.mutation===i.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class mc{constructor(i,c,h,g,v=Nn.min(),D=Nn.min(),F=gi.EMPTY_BYTE_STRING){this.target=i,this.targetId=c,this.purpose=h,this.sequenceNumber=g,this.snapshotVersion=v,this.lastLimboFreeSnapshotVersion=D,this.resumeToken=F}withSequenceNumber(i){return new mc(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(i,c){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,c,this.lastLimboFreeSnapshotVersion,i)}withLastLimboFreeSnapshotVersion(i){return new mc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken)}}class sm{constructor(i){this.Jt=i}}function Bp(u){const i=zc({parent:u.parent,structuredQuery:u.structuredQuery});return"LAST"===u.limitType?function fc(u,i,c){return new Hn(u.path,u.collectionGroup,u.explicitOrderBy.slice(),u.filters.slice(),i,c,u.startAt,u.endAt)}(i,i.limit,"L"):i}class Ao{constructor(){}Zt(i,c){this.te(i,c),c.ee()}te(i,c){if("nullValue"in i)this.ne(c,5);else if("booleanValue"in i)this.ne(c,10),c.se(i.booleanValue?1:0);else if("integerValue"in i)this.ne(c,15),c.se(Jr(i.integerValue));else if("doubleValue"in i){const h=Jr(i.doubleValue);isNaN(h)?this.ne(c,13):(this.ne(c,15),lc(h)?c.se(0):c.se(h))}else if("timestampValue"in i){const h=i.timestampValue;this.ne(c,20),"string"==typeof h?c.ie(h):(c.ie(`${h.seconds||""}`),c.se(h.nanos||0))}else if("stringValue"in i)this.re(i.stringValue,c),this.oe(c);else if("bytesValue"in i)this.ne(c,30),c.ae(Xi(i.bytesValue)),this.oe(c);else if("referenceValue"in i)this.ue(i.referenceValue,c);else if("geoPointValue"in i){const h=i.geoPointValue;this.ne(c,45),c.se(h.latitude||0),c.se(h.longitude||0)}else"mapValue"in i?Lc(i)?this.ne(c,Number.MAX_SAFE_INTEGER):(this.ce(i.mapValue,c),this.oe(c)):"arrayValue"in i?(this.he(i.arrayValue,c),this.oe(c)):kn()}re(i,c){this.ne(c,25),this.le(i,c)}le(i,c){c.ie(i)}ce(i,c){const h=i.fields||{};this.ne(c,55);for(const g of Object.keys(h))this.re(g,c),this.te(h[g],c)}he(i,c){const h=i.values||[];this.ne(c,50);for(const g of h)this.te(g,c)}ue(i,c){this.ne(c,37),fn.fromName(i).path.forEach(h=>{this.ne(c,60),this.le(h,c)})}ne(i,c){i.se(c)}oe(i){i.se(2)}}Ao.fe=new Ao;class Iu{constructor(){this.Ue=new Er}addToCollectionParentIndex(i,c){return this.Ue.add(c),_t.resolve()}getCollectionParents(i,c){return _t.resolve(this.Ue.getEntries(c))}addFieldIndex(i,c){return _t.resolve()}deleteFieldIndex(i,c){return _t.resolve()}getDocumentsMatchingTarget(i,c){return _t.resolve(null)}getFieldIndex(i,c){return _t.resolve(null)}getFieldIndexes(i,c){return _t.resolve([])}getNextCollectionGroupToUpdate(i){return _t.resolve(null)}updateCollectionGroup(i,c,h){return _t.resolve()}updateIndexEntries(i,c){return _t.resolve()}}class Er{constructor(){this.index={}}add(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c]||new ti(Wr.comparator),v=!g.has(h);return this.index[c]=g.add(h),v}has(i){const c=i.lastSegment(),h=i.popLast(),g=this.index[c];return g&&g.has(h)}getEntries(i){return(this.index[i]||new ti(Wr.comparator)).toArray()}}new Uint8Array(0);class Fo{constructor(i,c,h){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=c,this.maximumSequenceNumbersToCollect=h}static withCacheSize(i){return new Fo(i,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Fo.DEFAULT_COLLECTION_PERCENTILE=10,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fo.DEFAULT=new Fo(41943040,Fo.DEFAULT_COLLECTION_PERCENTILE,Fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fo.DISABLED=new Fo(-1,0,0);class Pu{constructor(i){this.wn=i}next(){return this.wn+=2,this.wn}static mn(){return new Pu(0)}static gn(){return new Pu(-1)}}function Il(u){return Pf.apply(this,arguments)}function Pf(){return Pf=(0,t.Z)(function*(u){if(u.code!==pt.FAILED_PRECONDITION||u.message!==Up)throw u;Zt("LocalStore","Unexpectedly lost primary lease")}),Pf.apply(this,arguments)}class Ad{constructor(i,c,h){this.ls=i,this.Fs=c,this.indexManager=h}Bs(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKey(i,c).next(h=>this.Ls(i,c,h))}Ls(i,c,h){return this.ls.getEntry(i,c).next(g=>{for(const v of h)v.applyToLocalView(g);return g})}qs(i,c){i.forEach((h,g)=>{for(const v of c)v.applyToLocalView(g)})}Us(i,c){return this.ls.getEntries(i,c).next(h=>this.Ks(i,h).next(()=>h))}Ks(i,c){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(i,c).next(h=>this.qs(c,h))}Gs(i,c,h){return fn.isDocumentKey((g=c).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(i,c.path):function co(u){return null!==u.collectionGroup}(c)?this.js(i,c,h):this.Ws(i,c,h);var g}Qs(i,c){return this.Bs(i,new fn(c)).next(h=>{let g=Zc();return h.isFoundDocument()&&(g=g.insert(h.key,h)),g})}js(i,c,h){const g=c.collectionGroup;let v=Zc();return this.indexManager.getCollectionParents(i,g).next(D=>_t.forEach(D,F=>{const q=(te=c,xe=F.child(g),new Hn(xe,null,te.explicitOrderBy.slice(),te.filters.slice(),te.limit,te.limitType,te.startAt,te.endAt));var te,xe;return this.Ws(i,q,h).next(te=>{te.forEach((xe,Ve)=>{v=v.insert(xe,Ve)})})}).next(()=>v))}Ws(i,c,h){let g;return this.ls.getAll(i,c.path,h).next(v=>(g=v,this.Fs.getAllMutationBatchesAffectingQuery(i,c))).next(v=>{for(const D of v)for(const F of D.mutations){const q=F.key;let te=g.get(q);null==te&&(te=hi.newInvalidDocument(q),g=g.insert(q,te)),ls(F,te,D.localWriteTime),te.isFoundDocument()||(g=g.remove(q))}}).next(()=>(g.forEach((v,D)=>{Cl(c,D)||(g=g.remove(v))}),g))}}class Ya{constructor(i,c,h,g){this.targetId=i,this.fromCache=c,this.zs=h,this.Hs=g}static Js(i,c){let h=Qr(),g=Qr();for(const v of c.docChanges)switch(v.type){case 0:h=h.add(v.doc.key);break;case 1:g=g.add(v.doc.key)}return new Ya(i,c.fromCache,h,g)}}class Pl{Ys(i){this.Xs=i}Gs(i,c,h,g){return 0===(v=c).filters.length&&null===v.limit&&null==v.startAt&&null==v.endAt&&(0===v.explicitOrderBy.length||1===v.explicitOrderBy.length&&v.explicitOrderBy[0].field.isKeyField())||h.isEqual(Nn.min())?this.Zs(i,c):this.Xs.Us(i,g).next(v=>{const D=this.ti(c,v);return(ji(c)||Ii(c))&&this.ei(c.limitType,D,g,h)?this.Zs(i,c):(mu()<=N.in.DEBUG&&Zt("QueryEngine","Re-using previous result from %s to execute query: %s",h.toString(),Vc(c)),this.Xs.Gs(i,c,h).next(F=>(D.forEach(q=>{F=F.insert(q.key,q)}),F)))});var v}ti(i,c){let h=new ti(uf(i));return c.forEach((g,v)=>{Cl(i,v)&&(h=h.add(v))}),h}ei(i,c,h,g){if(h.size!==c.size)return!0;const v="F"===i?c.last():c.first();return!!v&&(v.hasPendingWrites||v.version.compareTo(g)>0)}Zs(i,c){return mu()<=N.in.DEBUG&&Zt("QueryEngine","Using full collection scan to execute query:",Vc(c)),this.Xs.Gs(i,c,Nn.min())}}class Dh{constructor(i,c,h,g){this.persistence=i,this.ni=c,this.M=g,this.si=new Pi(Cr),this.ii=new qc(v=>pa(v),Ss),this.ri=Nn.min(),this.oi=i.getRemoteDocumentCache(),this.hs=i.getTargetCache(),this.fs=i.getBundleCache(),this.ai(h)}ai(i){this.indexManager=this.persistence.getIndexManager(i),this.Fs=this.persistence.getMutationQueue(i,this.indexManager),this.ui=new Ad(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",c=>i.collect(c,this.si))}}function Mu(u,i){return ru.apply(this,arguments)}function ru(){return ru=(0,t.Z)(function*(u,i){const c=on(u);return yield c.persistence.runTransaction("Handle user change","readonly",h=>{let g;return c.Fs.getAllMutationBatches(h).next(v=>(g=v,c.ai(i),c.Fs.getAllMutationBatches(h))).next(v=>{const D=[],F=[];let q=Qr();for(const te of g){D.push(te.batchId);for(const xe of te.mutations)q=q.add(xe.key)}for(const te of v){F.push(te.batchId);for(const xe of te.mutations)q=q.add(xe.key)}return c.ui.Us(h,q).next(te=>({ci:te,removedBatchIds:D,addedBatchIds:F}))})})}),ru.apply(this,arguments)}function Mf(u,i){const c=on(u);return c.persistence.runTransaction("Acknowledge batch","readwrite-primary",h=>{const g=i.batch.keys(),v=c.oi.newChangeBuffer({trackRemovals:!0});return function(D,F,q,te){const xe=q.batch,Ve=xe.keys();let ht=_t.resolve();return Ve.forEach(At=>{ht=ht.next(()=>te.getEntry(F,At)).next(Ut=>{const wn=q.docVersions.get(At);Jn(null!==wn),Ut.version.compareTo(wn)<0&&(xe.applyToRemoteDocument(Ut,q),Ut.isValidDocument()&&(Ut.setReadTime(q.commitVersion),te.addEntry(Ut)))})}),ht.next(()=>D.Fs.removeMutationBatch(F,xe))}(c,h,i,v).next(()=>v.apply(h)).next(()=>c.Fs.performConsistencyCheck(h)).next(()=>c.ui.Us(h,g))})}function Id(u){const i=on(u);return i.persistence.runTransaction("Get last remote snapshot version","readonly",c=>i.hs.getLastRemoteSnapshotVersion(c))}function Of(u,i){const c=on(u),h=i.snapshotVersion;let g=c.si;return c.persistence.runTransaction("Apply remote event","readwrite-primary",v=>{const D=c.oi.newChangeBuffer({trackRemovals:!0});g=c.si;const F=[];i.targetChanges.forEach((te,xe)=>{const Ve=g.get(xe);if(!Ve)return;F.push(c.hs.removeMatchingKeys(v,te.removedDocuments,xe).next(()=>c.hs.addMatchingKeys(v,te.addedDocuments,xe)));let ht=Ve.withSequenceNumber(v.currentSequenceNumber);var At,Ut,wn;i.targetMismatches.has(xe)?ht=ht.withResumeToken(gi.EMPTY_BYTE_STRING,Nn.min()).withLastLimboFreeSnapshotVersion(Nn.min()):te.resumeToken.approximateByteSize()>0&&(ht=ht.withResumeToken(te.resumeToken,h)),g=g.insert(xe,ht),Ut=ht,wn=te,(0===(At=Ve).resumeToken.approximateByteSize()||Ut.snapshotVersion.toMicroseconds()-At.snapshotVersion.toMicroseconds()>=3e8||wn.addedDocuments.size+wn.modifiedDocuments.size+wn.removedDocuments.size>0)&&F.push(c.hs.updateTargetData(v,ht))});let q=Wo();if(i.documentUpdates.forEach(te=>{i.resolvedLimboDocuments.has(te)&&F.push(c.persistence.referenceDelegate.updateLimboDocument(v,te))}),F.push(function uy(u,i,c){let h=Qr();return c.forEach(g=>h=h.add(g)),i.getEntries(u,h).next(g=>{let v=Wo();return c.forEach((D,F)=>{const q=g.get(D);F.isNoDocument()&&F.version.isEqual(Nn.min())?(i.removeEntry(D,F.readTime),v=v.insert(D,F)):!q.isValidDocument()||F.version.compareTo(q.version)>0||0===F.version.compareTo(q.version)&&q.hasPendingWrites?(i.addEntry(F),v=v.insert(D,F)):Zt("LocalStore","Ignoring outdated watch update for ",D,". Current version:",q.version," Watch version:",F.version)}),v})}(v,D,i.documentUpdates).next(te=>{q=te})),!h.isEqual(Nn.min())){const te=c.hs.getLastRemoteSnapshotVersion(v).next(xe=>c.hs.setTargetsMetadata(v,v.currentSequenceNumber,h));F.push(te)}return _t.waitFor(F).next(()=>D.apply(v)).next(()=>c.ui.Ks(v,q)).next(()=>q)}).then(v=>(c.si=g,v))}function hm(u,i){const c=on(u);return c.persistence.runTransaction("Get next mutation batch","readonly",h=>(void 0===i&&(i=-1),c.Fs.getNextMutationBatchAfterBatchId(h,i)))}function Nf(u,i){const c=on(u);return c.persistence.runTransaction("Allocate target","readwrite",h=>{let g;return c.hs.getTargetData(h,i).next(v=>v?(g=v,_t.resolve(g)):c.hs.allocateTargetId(h).next(D=>(g=new mc(i,D,0,h.currentSequenceNumber),c.hs.addTargetData(h,g).next(()=>g))))}).then(h=>{const g=c.si.get(h.targetId);return(null===g||h.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(c.si=c.si.insert(h.targetId,h),c.ii.set(i,h.targetId)),h})}function Pd(u,i,c){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,t.Z)(function*(u,i,c){const h=on(u),g=h.si.get(i),v=c?"readwrite":"readwrite-primary";try{c||(yield h.persistence.runTransaction("Release target",v,D=>h.persistence.referenceDelegate.removeTarget(D,g)))}catch(D){if(!ps(D))throw D;Zt("LocalStore",`Failed to update sequence numbers for target ${i}: ${D}`)}h.si=h.si.remove(i),h.ii.delete(g.target)}),Kp.apply(this,arguments)}function Rf(u,i,c){const h=on(u);let g=Nn.min(),v=Qr();return h.persistence.runTransaction("Execute query","readonly",D=>function(F,q,te){const xe=on(F),Ve=xe.ii.get(te);return void 0!==Ve?_t.resolve(xe.si.get(Ve)):xe.hs.getTargetData(q,te)}(h,D,ei(i)).next(F=>{if(F)return g=F.lastLimboFreeSnapshotVersion,h.hs.getMatchingKeysForTargetId(D,F.targetId).next(q=>{v=q})}).next(()=>h.ni.Gs(D,i,c?g:Nn.min(),c?v:Qr())).next(F=>({documents:F,hi:v})))}class Bv{constructor(i){this.M=i,this._i=new Map,this.wi=new Map}getBundleMetadata(i,c){return _t.resolve(this._i.get(c))}saveBundleMetadata(i,c){var h;return this._i.set(c.id,{id:(h=c).id,version:h.version,createTime:lo(h.createTime)}),_t.resolve()}getNamedQuery(i,c){return _t.resolve(this.wi.get(c))}saveNamedQuery(i,c){return this.wi.set(c.name,{name:(h=c).name,query:Bp(h.bundledQuery),readTime:lo(h.readTime)}),_t.resolve();var h}}class K_{constructor(){this.overlays=new Pi(fn.comparator),this.mi=new Map}getOverlay(i,c){return _t.resolve(this.overlays.get(c))}saveOverlays(i,c,h){return h.forEach((g,v)=>{this.Xt(i,c,v)}),_t.resolve()}removeOverlaysForBatchId(i,c,h){const g=this.mi.get(h);return void 0!==g&&(g.forEach(v=>this.overlays=this.overlays.remove(v)),this.mi.delete(h)),_t.resolve()}getOverlaysForCollection(i,c,h){const g=pd(),v=c.length+1,D=new fn(c.child("")),F=this.overlays.getIteratorFrom(D);for(;F.hasNext();){const q=F.getNext().value,te=q.getKey();if(!c.isPrefixOf(te.path))break;te.path.length===v&&q.largestBatchId>h&&g.set(q.getKey(),q)}return _t.resolve(g)}getOverlaysForCollectionGroup(i,c,h,g){let v=new Pi((te,xe)=>te-xe);const D=this.overlays.getIterator();for(;D.hasNext();){const te=D.getNext().value;if(te.getKey().getCollectionGroup()===c&&te.largestBatchId>h){let xe=v.get(te.largestBatchId);null===xe&&(xe=pd(),v=v.insert(te.largestBatchId,xe)),xe.set(te.getKey(),te)}}const F=pd(),q=v.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((te,xe)=>F.set(te,xe)),!(F.size()>=g)););return _t.resolve(F)}Xt(i,c,h){if(null===h)return;const g=this.overlays.get(h.key);if(null!==g){const D=this.mi.get(g.largestBatchId).delete(h.key);this.mi.set(g.largestBatchId,D)}this.overlays=this.overlays.insert(h.key,new bh(c,h));let v=this.mi.get(c);void 0===v&&(v=Qr(),this.mi.set(c,v)),this.mi.set(c,v.add(h.key))}}class Ou{constructor(){this.gi=new ti(Oi.yi),this.pi=new ti(Oi.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(i,c){const h=new Oi(i,c);this.gi=this.gi.add(h),this.pi=this.pi.add(h)}Ti(i,c){i.forEach(h=>this.addReference(h,c))}removeReference(i,c){this.Ei(new Oi(i,c))}Ai(i,c){i.forEach(h=>this.removeReference(h,c))}Ri(i){const c=new fn(new Wr([])),h=new Oi(c,i),g=new Oi(c,i+1),v=[];return this.pi.forEachInRange([h,g],D=>{this.Ei(D),v.push(D.key)}),v}bi(){this.gi.forEach(i=>this.Ei(i))}Ei(i){this.gi=this.gi.delete(i),this.pi=this.pi.delete(i)}Pi(i){const c=new fn(new Wr([])),h=new Oi(c,i),g=new Oi(c,i+1);let v=Qr();return this.pi.forEachInRange([h,g],D=>{v=v.add(D.key)}),v}containsKey(i){const c=new Oi(i,0),h=this.gi.firstAfterOrEqual(c);return null!==h&&i.isEqual(h.key)}}class Oi{constructor(i,c){this.key=i,this.Vi=c}static yi(i,c){return fn.comparator(i.key,c.key)||Cr(i.Vi,c.Vi)}static Ii(i,c){return Cr(i.Vi,c.Vi)||fn.comparator(i.key,c.key)}}class Nu{constructor(i,c){this.indexManager=i,this.referenceDelegate=c,this.Fs=[],this.vi=1,this.Si=new ti(Oi.yi)}checkEmpty(i){return _t.resolve(0===this.Fs.length)}addMutationBatch(i,c,h,g){const v=this.vi;this.vi++;const D=new vd(v,c,h,g);this.Fs.push(D);for(const F of g)this.Si=this.Si.add(new Oi(F.key,v)),this.indexManager.addToCollectionParentIndex(i,F.key.path.popLast());return _t.resolve(D)}lookupMutationBatch(i,c){return _t.resolve(this.Di(c))}getNextMutationBatchAfterBatchId(i,c){const g=this.Ci(c+1),v=g<0?0:g;return _t.resolve(this.Fs.length>v?this.Fs[v]:null)}getHighestUnacknowledgedBatchId(){return _t.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(i){return _t.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(i,c){const h=new Oi(c,0),g=new Oi(c,Number.POSITIVE_INFINITY),v=[];return this.Si.forEachInRange([h,g],D=>{const F=this.Di(D.Vi);v.push(F)}),_t.resolve(v)}getAllMutationBatchesAffectingDocumentKeys(i,c){let h=new ti(Cr);return c.forEach(g=>{const v=new Oi(g,0),D=new Oi(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([v,D],F=>{h=h.add(F.Vi)})}),_t.resolve(this.xi(h))}getAllMutationBatchesAffectingQuery(i,c){const h=c.path,g=h.length+1;let v=h;fn.isDocumentKey(v)||(v=v.child(""));const D=new Oi(new fn(v),0);let F=new ti(Cr);return this.Si.forEachWhile(q=>{const te=q.key.path;return!!h.isPrefixOf(te)&&(te.length===g&&(F=F.add(q.Vi)),!0)},D),_t.resolve(this.xi(F))}xi(i){const c=[];return i.forEach(h=>{const g=this.Di(h);null!==g&&c.push(g)}),c}removeMutationBatch(i,c){Jn(0===this.Ni(c.batchId,"removed")),this.Fs.shift();let h=this.Si;return _t.forEach(c.mutations,g=>{const v=new Oi(g.key,c.batchId);return h=h.delete(v),this.referenceDelegate.markPotentiallyOrphaned(i,g.key)}).next(()=>{this.Si=h})}dn(i){}containsKey(i,c){const h=new Oi(c,0),g=this.Si.firstAfterOrEqual(h);return _t.resolve(c.isEqual(g&&g.key))}performConsistencyCheck(i){return _t.resolve()}Ni(i,c){return this.Ci(i)}Ci(i){return 0===this.Fs.length?0:i-this.Fs[0].batchId}Di(i){const c=this.Ci(i);return c<0||c>=this.Fs.length?null:this.Fs[c]}}class hy{constructor(i){this.ki=i,this.docs=new Pi(fn.comparator),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,c){const h=c.key,g=this.docs.get(h),v=g?g.size:0,D=this.ki(c);return this.docs=this.docs.insert(h,{document:c.mutableCopy(),size:D}),this.size+=D-v,this.indexManager.addToCollectionParentIndex(i,h.path.popLast())}removeEntry(i){const c=this.docs.get(i);c&&(this.docs=this.docs.remove(i),this.size-=c.size)}getEntry(i,c){const h=this.docs.get(c);return _t.resolve(h?h.document.mutableCopy():hi.newInvalidDocument(c))}getEntries(i,c){let h=Wo();return c.forEach(g=>{const v=this.docs.get(g);h=h.insert(g,v?v.document.mutableCopy():hi.newInvalidDocument(g))}),_t.resolve(h)}getAll(i,c,h){let g=Wo();const v=new fn(c.child("")),D=this.docs.getIteratorFrom(v);for(;D.hasNext();){const{key:F,value:{document:q}}=D.getNext();if(!c.isPrefixOf(F.path))break;F.path.length>c.length+1||q.readTime.compareTo(h)<=0||(g=g.insert(q.key,q.mutableCopy()))}return _t.resolve(g)}Mi(i,c){return _t.forEach(this.docs,h=>c(h))}newChangeBuffer(i){return new Y_(this)}getSize(i){return _t.resolve(this.size)}}class Y_ extends class R{constructor(){this.changes=new qc(i=>i.toString(),(i,c)=>i.isEqual(c)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,c){this.assertNotApplied(),this.changes.set(i,hi.newInvalidDocument(i).setReadTime(c))}getEntry(i,c){this.assertNotApplied();const h=this.changes.get(c);return void 0!==h?_t.resolve(h):this.getFromCache(i,c)}getEntries(i,c){return this.getAllFromCache(i,c)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}{constructor(i){super(),this.Un=i}applyChanges(i){const c=[];return this.changes.forEach((h,g)=>{g.isValidDocument()?c.push(this.Un.addEntry(i,g)):this.Un.removeEntry(h)}),_t.waitFor(c)}getFromCache(i,c){return this.Un.getEntry(i,c)}getAllFromCache(i,c){return this.Un.getEntries(i,c)}}class pm{constructor(i){this.persistence=i,this.Oi=new qc(c=>pa(c),Ss),this.lastRemoteSnapshotVersion=Nn.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Ou,this.targetCount=0,this.Bi=Pu.mn()}forEachTarget(i,c){return this.Oi.forEach((h,g)=>c(g)),_t.resolve()}getLastRemoteSnapshotVersion(i){return _t.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return _t.resolve(this.$i)}allocateTargetId(i){return this.highestTargetId=this.Bi.next(),_t.resolve(this.highestTargetId)}setTargetsMetadata(i,c,h){return h&&(this.lastRemoteSnapshotVersion=h),c>this.$i&&(this.$i=c),_t.resolve()}In(i){this.Oi.set(i.target,i);const c=i.targetId;c>this.highestTargetId&&(this.Bi=new Pu(c),this.highestTargetId=c),i.sequenceNumber>this.$i&&(this.$i=i.sequenceNumber)}addTargetData(i,c){return this.In(c),this.targetCount+=1,_t.resolve()}updateTargetData(i,c){return this.In(c),_t.resolve()}removeTargetData(i,c){return this.Oi.delete(c.target),this.Fi.Ri(c.targetId),this.targetCount-=1,_t.resolve()}removeTargets(i,c,h){let g=0;const v=[];return this.Oi.forEach((D,F)=>{F.sequenceNumber<=c&&null===h.get(F.targetId)&&(this.Oi.delete(D),v.push(this.removeMatchingKeysForTargetId(i,F.targetId)),g++)}),_t.waitFor(v).next(()=>g)}getTargetCount(i){return _t.resolve(this.targetCount)}getTargetData(i,c){const h=this.Oi.get(c)||null;return _t.resolve(h)}addMatchingKeys(i,c,h){return this.Fi.Ti(c,h),_t.resolve()}removeMatchingKeys(i,c,h){this.Fi.Ai(c,h);const g=this.persistence.referenceDelegate,v=[];return g&&c.forEach(D=>{v.push(g.markPotentiallyOrphaned(i,D))}),_t.waitFor(v)}removeMatchingKeysForTargetId(i,c){return this.Fi.Ri(c),_t.resolve()}getMatchingKeysForTargetId(i,c){const h=this.Fi.Pi(c);return _t.resolve(h)}containsKey(i,c){return _t.resolve(this.Fi.containsKey(c))}}class J_{constructor(i,c){this.Li={},this.overlays={},this.Zn=new Yr(0),this.ts=!1,this.ts=!0,this.referenceDelegate=i(this),this.hs=new pm(this),this.indexManager=new Iu,this.ls=new hy(h=>this.referenceDelegate.qi(h)),this.M=new sm(c),this.fs=new Bv(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let c=this.overlays[i.toKey()];return c||(c=new K_,this.overlays[i.toKey()]=c),c}getMutationQueue(i,c){let h=this.Li[i.toKey()];return h||(h=new Nu(c,this.referenceDelegate),this.Li[i.toKey()]=h),h}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(i,c,h){Zt("MemoryPersistence","Starting transaction:",i);const g=new Od(this.Zn.next());return this.referenceDelegate.Ui(),h(g).next(v=>this.referenceDelegate.Ki(g).next(()=>v)).toPromise().then(v=>(g.raiseOnCommittedEvent(),v))}Gi(i,c){return _t.or(Object.values(this.Li).map(h=>()=>h.containsKey(i,c)))}}class Od extends class ya{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}{constructor(i){super(),this.currentSequenceNumber=i}}class Nd{constructor(i){this.persistence=i,this.Qi=new Ou,this.ji=null}static Wi(i){return new Nd(i)}get zi(){if(this.ji)return this.ji;throw kn()}addReference(i,c,h){return this.Qi.addReference(h,c),this.zi.delete(h.toString()),_t.resolve()}removeReference(i,c,h){return this.Qi.removeReference(h,c),this.zi.add(h.toString()),_t.resolve()}markPotentiallyOrphaned(i,c){return this.zi.add(c.toString()),_t.resolve()}removeTarget(i,c){this.Qi.Ri(c.targetId).forEach(g=>this.zi.add(g.toString()));const h=this.persistence.getTargetCache();return h.getMatchingKeysForTargetId(i,c.targetId).next(g=>{g.forEach(v=>this.zi.add(v.toString()))}).next(()=>h.removeTargetData(i,c))}Ui(){this.ji=new Set}Ki(i){const c=this.persistence.getRemoteDocumentCache().newChangeBuffer();return _t.forEach(this.zi,h=>{const g=fn.fromPath(h);return this.Hi(i,g).next(v=>{v||c.removeEntry(g,Nn.min())})}).next(()=>(this.ji=null,c.apply(i)))}updateLimboDocument(i,c){return this.Hi(i,c).next(h=>{h?this.zi.delete(c.toString()):this.zi.add(c.toString())})}qi(i){return 0}Hi(i,c){return _t.or([()=>_t.resolve(this.Qi.containsKey(c)),()=>this.persistence.getTargetCache().containsKey(i,c),()=>this.persistence.Gi(i,c)])}}class mm{constructor(){this.activeTargetIds=Eu()}Xi(i){this.activeTargetIds=this.activeTargetIds.add(i)}Zi(i){this.activeTargetIds=this.activeTargetIds.delete(i)}Yi(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class Qo{constructor(){this.Or=new mm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,c,h){}addLocalQueryTarget(i){return this.Or.Xi(i),this.$r[i]||"not-current"}updateQueryState(i,c,h){this.$r[i]=c}removeLocalQueryTarget(i){this.Or.Zi(i)}isLocalQueryTarget(i){return this.Or.activeTargetIds.has(i)}clearQueryState(i){delete this.$r[i]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(i){return this.Or.activeTargetIds.has(i)}start(){return this.Or=new mm,Promise.resolve()}handleUserChange(i,c,h){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(){}}class Yp{Fr(i){}shutdown(){}}class Ml{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(i){this.Kr.push(i)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){Zt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.Kr)i(0)}Ur(){Zt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.Kr)i(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Ol={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Fu{constructor(i){this.Qr=i.Qr,this.jr=i.jr}Wr(i){this.zr=i}Hr(i){this.Jr=i}onMessage(i){this.Yr=i}close(){this.jr()}send(i){this.Qr(i)}Xr(){this.zr()}Zr(i){this.Jr(i)}eo(i){this.Yr(i)}}class fy extends class{constructor(i){this.databaseInfo=i,this.databaseId=i.databaseId,this.no=(i.ssl?"https":"http")+"://"+i.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(i,c,h,g,v){const D=this.ro(i,c);Zt("RestConnection","Sending: ",D,h);const F={};return this.oo(F,g,v),this.ao(i,D,F,h).then(q=>(Zt("RestConnection","Received: ",q),q),q=>{throw Si("RestConnection",`${i} failed with error: `,q,"url: ",D,"request:",h),q})}uo(i,c,h,g,v){return this.io(i,c,h,g,v)}oo(i,c,h){i["X-Goog-Api-Client"]="gl-js/ fire/"+Ro,i["Content-Type"]="text/plain",this.databaseInfo.appId&&(i["X-Firebase-GMPID"]=this.databaseInfo.appId),c&&c.headers.forEach((g,v)=>i[v]=g),h&&h.headers.forEach((g,v)=>i[v]=g)}ro(i,c){return`${this.no}/v1/${c}:${Ol[i]}`}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams}ao(i,c,h,g){return new Promise((v,D)=>{const F=new dl;F.listenOnce(Nc.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case ll.NO_ERROR:const te=F.getResponseJson();Zt("Connection","XHR received:",JSON.stringify(te)),v(te);break;case ll.TIMEOUT:Zt("Connection",'RPC "'+i+'" timed out'),D(new It(pt.DEADLINE_EXCEEDED,"Request time out"));break;case ll.HTTP_ERROR:const xe=F.getStatus();if(Zt("Connection",'RPC "'+i+'" failed with status:',xe,"response text:",F.getResponseText()),xe>0){const Ve=F.getResponseJson().error;if(Ve&&Ve.status&&Ve.message){const ht=function(At){const Ut=At.toLowerCase().replace(/_/g,"-");return Object.values(pt).indexOf(Ut)>=0?Ut:pt.UNKNOWN}(Ve.status);D(new It(ht,Ve.message))}else D(new It(pt.UNKNOWN,"Server responded with status "+F.getStatus()))}else D(new It(pt.UNAVAILABLE,"Connection failed."));break;default:kn()}}finally{Zt("Connection",'RPC "'+i+'" completed.')}});const q=JSON.stringify(g);F.send(c,"POST",q,h,15)})}co(i,c,h){const g=[this.no,"/","google.firestore.v1.Firestore","/",i,"/channel"],v=Tp(),D=th(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(F.xmlHttpFactory=new Wg({})),this.oo(F.initMessageHeaders,c,h),(0,P.uI)()||(0,P.b$)()||(0,P.d)()||(0,P.w1)()||(0,P.Mn)()||(0,P.ru)()||(F.httpHeadersOverwriteParam="$httpHeaders");const q=g.join("");Zt("Connection","Creating WebChannel: "+q,F);const te=v.createWebChannel(q,F);let xe=!1,Ve=!1;const ht=new Fu({Qr:Ut=>{Ve?Zt("Connection","Not sending because WebChannel is closed:",Ut):(xe||(Zt("Connection","Opening WebChannel transport."),te.open(),xe=!0),Zt("Connection","WebChannel sending:",Ut),te.send(Ut))},jr:()=>te.close()}),At=(Ut,wn,wr)=>{Ut.listen(wn,io=>{try{wr(io)}catch(Nr){setTimeout(()=>{throw Nr},0)}})};return At(te,Hs.EventType.OPEN,()=>{Ve||Zt("Connection","WebChannel transport opened.")}),At(te,Hs.EventType.CLOSE,()=>{Ve||(Ve=!0,Zt("Connection","WebChannel transport closed"),ht.Zr())}),At(te,Hs.EventType.ERROR,Ut=>{Ve||(Ve=!0,Si("Connection","WebChannel transport errored:",Ut),ht.Zr(new It(pt.UNAVAILABLE,"The operation could not be completed")))}),At(te,Hs.EventType.MESSAGE,Ut=>{var wn;if(!Ve){const wr=Ut.data[0];Jn(!!wr);const io=wr,Nr=io.error||(null===(wn=io[0])||void 0===wn?void 0:wn.error);if(Nr){Zt("Connection","WebChannel received error:",Nr);const Sa=Nr.status;let _o=function(pi){const zu=Hi[pi];if(void 0!==zu)return hd(zu)}(Sa),Io=Nr.message;void 0===_o&&(_o=pt.INTERNAL,Io="Unknown error status: "+Sa+" with message "+Nr.message),Ve=!0,ht.Zr(new It(_o,Io)),te.close()}else Zt("Connection","WebChannel received:",wr),ht.eo(wr)}}),At(D,li.STAT_EVENT,Ut=>{Ut.stat===gu.PROXY?Zt("Connection","Detected buffering proxy"):Ut.stat===gu.NOPROXY&&Zt("Connection","Detected no buffering proxy")}),setTimeout(()=>{ht.Xr()},0),ht}}function Ff(){return"undefined"!=typeof document?document:null}function kd(u){return new Np(u,!0)}class Nl{constructor(i,c,h=1e3,g=1.5,v=6e4){this.Hn=i,this.timerId=c,this.ho=h,this.lo=g,this.fo=v,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(i){this.cancel();const c=Math.floor(this._o+this.Io()),h=Math.max(0,Date.now()-this.mo),g=Math.max(0,c-h);g>0&&Zt("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${c} ms, last attempt: ${h} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),i())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Jp{constructor(i,c,h,g,v,D,F,q){this.Hn=i,this.Eo=h,this.Ao=g,this.Ro=v,this.authCredentialsProvider=D,this.appCheckCredentialsProvider=F,this.listener=q,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Nl(i,c)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var i=this;return(0,t.Z)(function*(){i.So()&&(yield i.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(i){this.Oo(),this.stream.send(i)}ko(){var i=this;return(0,t.Z)(function*(){if(i.Do())return i.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(i,c){var h=this;return(0,t.Z)(function*(){h.Oo(),h.$o(),h.vo.cancel(),h.bo++,4!==i?h.vo.reset():c&&c.code===pt.RESOURCE_EXHAUSTED?(ar(c.toString()),ar("Using maximum backoff delay to prevent overloading the backend."),h.vo.yo()):c&&c.code===pt.UNAUTHENTICATED&&3!==h.state&&(h.authCredentialsProvider.invalidateToken(),h.appCheckCredentialsProvider.invalidateToken()),null!==h.stream&&(h.Fo(),h.stream.close(),h.stream=null),h.state=i,yield h.listener.Hr(c)})()}Fo(){}auth(){this.state=1;const i=this.Bo(this.bo),c=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([h,g])=>{this.bo===c&&this.Lo(h,g)},h=>{i(()=>{const g=new It(pt.UNKNOWN,"Fetching auth token failed: "+h.message);return this.qo(g)})})}Lo(i,c){const h=this.Bo(this.bo);this.stream=this.Uo(i,c),this.stream.Wr(()=>{h(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{h(()=>this.qo(g))}),this.stream.onMessage(g=>{h(()=>this.onMessage(g))})}Co(){var i=this;this.state=5,this.vo.po((0,t.Z)(function*(){i.state=0,i.start()}))}qo(i){return Zt("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}Bo(i){return c=>{this.Hn.enqueueAndForget(()=>this.bo===i?c():(Zt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Lf extends Jp{constructor(i,c,h,g,v,D){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",c,h,g,D),this.M=v}Uo(i,c){return this.Ro.co("Listen",i,c)}onMessage(i){this.vo.reset();const c=function B_(u,i){let c;if("targetChange"in i){const h="NO_CHANGE"===(q=i.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:kn(),g=i.targetChange.targetIds||[],v=function(q,te){return q.N?(Jn(void 0===te||"string"==typeof te),gi.fromBase64String(te||"")):(Jn(void 0===te||te instanceof Uint8Array),gi.fromUint8Array(te||new Uint8Array))}(u,i.targetChange.resumeToken),D=i.targetChange.cause,F=D&&function(q){const te=void 0===q.code?pt.UNKNOWN:hd(q.code);return new It(te,q.message||"")}(D);c=new Du(h,g,v,F||null)}else if("documentChange"in i){const h=i.documentChange,g=gc(u,h.document.name),v=lo(h.document.updateTime),D=new di({mapValue:{fields:h.document.fields}}),F=hi.newFoundDocument(g,v,D);c=new dh(h.targetIds||[],h.removedTargetIds||[],F.key,F)}else if("documentDelete"in i){const h=i.documentDelete,g=gc(u,h.document),v=h.readTime?lo(h.readTime):Nn.min(),D=hi.newNoDocument(g,v);c=new dh([],h.removedTargetIds||[],D.key,D)}else if("documentRemove"in i){const h=i.documentRemove,g=gc(u,h.document);c=new dh([],h.removedTargetIds||[],g,null)}else{if(!("filter"in i))return kn();{const h=i.filter,v=new Yg(h.count||0);c=new Pp(h.targetId,v)}}var q;return c}(this.M,i),h=function(g){if(!("targetChange"in g))return Nn.min();const v=g.targetChange;return v.targetIds&&v.targetIds.length?Nn.min():v.readTime?lo(v.readTime):Nn.min()}(i);return this.listener.Ko(c,h)}Go(i){const c={};c.database=kp(this.M),c.addTarget=function(g,v){let D;const F=v.target;return D=eo(F)?{documents:vf(g,F)}:{query:$a(g,F)},D.targetId=v.targetId,v.resumeToken.approximateByteSize()>0?D.resumeToken=Rp(g,v.resumeToken):v.snapshotVersion.compareTo(Nn.min())>0&&(D.readTime=vi(g,v.snapshotVersion.toTimestamp())),D}(this.M,i);const h=function Pn(u,i){const c=function(h,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return kn()}}(0,i.purpose);return null==c?null:{"goog-listen-tags":c}}(0,i);h&&(c.labels=h),this.Mo(c)}Qo(i){const c={};c.database=kp(this.M),c.removeTarget=i,this.Mo(c)}}class Qp extends Jp{constructor(i,c,h,g,v,D){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",c,h,g,D),this.M=v,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(i,c){return this.Ro.co("Write",i,c)}onMessage(i){if(Jn(!!i.streamToken),this.lastStreamToken=i.streamToken,this.jo){this.vo.reset();const c=function yf(u,i){return u&&u.length>0?(Jn(void 0!==i),u.map(c=>function(h,g){let v=lo(h.updateTime?h.updateTime:g);return v.isEqual(Nn.min())&&(v=lo(g)),new sh(v,h.transformResults||[])}(c,i))):[]}(i.writeResults,i.commitTime),h=lo(i.commitTime);return this.listener.Ho(h,c)}return Jn(!i.writeResults||0===i.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const i={};i.database=kp(this.M),this.Mo(i)}zo(i){const c={streamToken:this.lastStreamToken,writes:i.map(h=>function fh(u,i){let c;if(i instanceof ld)c={update:_d(u,i.key,i.value)};else if(i instanceof ah)c={delete:Su(u,i.key)};else if(i instanceof hs)c={update:_d(u,i.key,i.data),updateMask:_a(i.fieldMask)};else{if(!(i instanceof ch))return kn();c={verify:Su(u,i.key)}}return i.fieldTransforms.length>0&&(c.updateTransforms=i.fieldTransforms.map(h=>function(g,v){const D=v.transform;if(D instanceof Tu)return{fieldPath:v.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(D instanceof zs)return{fieldPath:v.field.canonicalString(),appendMissingElements:{values:D.elements}};if(D instanceof Ha)return{fieldPath:v.field.canonicalString(),removeAllFromArray:{values:D.elements}};if(D instanceof As)return{fieldPath:v.field.canonicalString(),increment:D.k};throw kn()}(0,h))),i.precondition.isNone||(c.currentDocument=void 0!==(g=i.precondition).updateTime?{updateTime:nm(u,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:kn()),c;var g}(this.M,h))};this.Mo(c)}}class ym extends class{}{constructor(i,c,h,g){super(),this.authCredentials=i,this.appCheckCredentials=c,this.Ro=h,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}io(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.io(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}uo(i,c,h){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,v])=>this.Ro.uo(i,c,h,g,v)).catch(g=>{throw"FirebaseError"===g.name?(g.code===pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new It(pt.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class Xp{constructor(i,c){this.asyncQueue=i,this.onlineStateHandler=c,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(i){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.ia("Offline")))}set(i){this.aa(),this.ta=0,"Online"===i&&(this.na=!1),this.ia(i)}ia(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}ra(i){const c=`Could not reach Cloud Firestore backend. ${i}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(ar(c),this.na=!1):Zt("OnlineStateTracker",c)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class vm{constructor(i,c,h,g,v){var D=this;this.localStore=i,this.datastore=c,this.asyncQueue=h,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=v,this.fa.Fr(F=>{h.enqueueAndForget((0,t.Z)(function*(){var q;Lu(D)&&(Zt("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,t.Z)(function*(te){const xe=on(te);xe.ha.add(4),yield Fd(xe),xe.da.set("Unknown"),xe.ha.delete(4),yield Ih(xe)}),function(te){return q.apply(this,arguments)})(D))}))}),this.da=new Xp(h,g)}}function Ih(u){return bm.apply(this,arguments)}function bm(){return bm=(0,t.Z)(function*(u){if(Lu(u))for(const i of u.la)yield i(!0)}),bm.apply(this,arguments)}function Fd(u){return Cm.apply(this,arguments)}function Cm(){return Cm=(0,t.Z)(function*(u){for(const i of u.la)yield i(!1)}),Cm.apply(this,arguments)}function eg(u,i){const c=on(u);c.ca.has(i.targetId)||(c.ca.set(i.targetId,i),Q_(c)?Uf(c):Rl(c).Do()&&wm(c,i))}function Lo(u,i){const c=on(u),h=Rl(c);c.ca.delete(i),h.Do()&&Tm(c,i),0===c.ca.size&&(h.Do()?h.No():Lu(c)&&c.da.set("Unknown"))}function wm(u,i){u._a.Z(i.targetId),Rl(u).Go(i)}function Tm(u,i){u._a.Z(i),Rl(u).Qo(i)}function Uf(u){u._a=new em({getRemoteKeysForTarget:i=>u.remoteSyncer.getRemoteKeysForTarget(i),Et:i=>u.ca.get(i)||null}),Rl(u).start(),u.da.sa()}function Q_(u){return Lu(u)&&!Rl(u).So()&&u.ca.size>0}function Lu(u){return 0===on(u).ha.size}function tg(u){u._a=void 0}function py(u){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,t.Z)(function*(u){u.ca.forEach((i,c)=>{wm(u,i)})}),Uu.apply(this,arguments)}function X_(u,i){return Em.apply(this,arguments)}function Em(){return Em=(0,t.Z)(function*(u,i){tg(u),Q_(u)?(u.da.oa(i),Uf(u)):u.da.set("Unknown")}),Em.apply(this,arguments)}function Bf(u,i,c){return Dm.apply(this,arguments)}function Dm(){return Dm=(0,t.Z)(function*(u,i,c){if(u.da.set("Online"),i instanceof Du&&2===i.state&&i.cause)try{yield(h=(0,t.Z)(function*(g,v){const D=v.cause;for(const F of v.targetIds)g.ca.has(F)&&(yield g.remoteSyncer.rejectListen(F,D),g.ca.delete(F),g._a.removeTarget(F))}),function(g,v){return h.apply(this,arguments)})(u,i)}catch(h){Zt("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),h),yield Vf(u,h)}else if(i instanceof dh?u._a.at(i):i instanceof Pp?u._a._t(i):u._a.ht(i),!c.isEqual(Nn.min()))try{const h=yield Id(u.localStore);c.compareTo(h)>=0&&(yield function(g,v){const D=g._a.yt(v);return D.targetChanges.forEach((F,q)=>{if(F.resumeToken.approximateByteSize()>0){const te=g.ca.get(q);te&&g.ca.set(q,te.withResumeToken(F.resumeToken,v))}}),D.targetMismatches.forEach(F=>{const q=g.ca.get(F);if(!q)return;g.ca.set(F,q.withResumeToken(gi.EMPTY_BYTE_STRING,q.snapshotVersion)),Tm(g,F);const te=new mc(q.target,F,1,q.sequenceNumber);wm(g,te)}),g.remoteSyncer.applyRemoteEvent(D)}(u,c))}catch(h){Zt("RemoteStore","Failed to raise snapshot:",h),yield Vf(u,h)}var h}),Dm.apply(this,arguments)}function Vf(u,i,c){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,t.Z)(function*(u,i,c){if(!ps(i))throw i;u.ha.add(1),yield Fd(u),u.da.set("Offline"),c||(c=()=>Id(u.localStore)),u.asyncQueue.enqueueRetryable((0,t.Z)(function*(){Zt("RemoteStore","Retrying IndexedDB access"),yield c(),u.ha.delete(1),yield Ih(u)}))}),Sm.apply(this,arguments)}function xm(u,i){return i().catch(c=>Vf(u,c,i))}function Ph(u){return Am.apply(this,arguments)}function Am(){return Am=(0,t.Z)(function*(u){const i=on(u),c=kl(i);let h=i.ua.length>0?i.ua[i.ua.length-1].batchId:-1;for(;e0(i);)try{const g=yield hm(i.localStore,h);if(null===g){0===i.ua.length&&c.No();break}h=g.batchId,t0(i,g)}catch(g){yield Vf(i,g)}n0(i)&&Ja(i)}),Am.apply(this,arguments)}function e0(u){return Lu(u)&&u.ua.length<10}function t0(u,i){u.ua.push(i);const c=kl(u);c.Do()&&c.Wo&&c.zo(i.mutations)}function n0(u){return Lu(u)&&!kl(u).So()&&u.ua.length>0}function Ja(u){kl(u).start()}function Im(u){return Pm.apply(this,arguments)}function Pm(){return Pm=(0,t.Z)(function*(u){kl(u).Yo()}),Pm.apply(this,arguments)}function gy(u){return r0.apply(this,arguments)}function r0(){return r0=(0,t.Z)(function*(u){const i=kl(u);for(const c of u.ua)i.zo(c.mutations)}),r0.apply(this,arguments)}function o0(u,i,c){return ng.apply(this,arguments)}function ng(){return ng=(0,t.Z)(function*(u,i,c){const h=u.ua.shift(),g=bd.from(h,i,c);yield xm(u,()=>u.remoteSyncer.applySuccessfulWrite(g)),yield Ph(u)}),ng.apply(this,arguments)}function Vv(u,i){return rg.apply(this,arguments)}function rg(){return rg=(0,t.Z)(function*(u,i){var c;i&&kl(u).Wo&&(yield(c=(0,t.Z)(function*(h,g){if(gf(v=g.code)&&v!==pt.ABORTED){const D=h.ua.shift();kl(h).xo(),yield xm(h,()=>h.remoteSyncer.rejectFailedWrite(D.batchId,g)),yield Ph(h)}var v}),function(h,g){return c.apply(this,arguments)})(u,i)),n0(u)&&Ja(u)}),rg.apply(this,arguments)}function jf(u,i){return ig.apply(this,arguments)}function ig(){return ig=(0,t.Z)(function*(u,i){const c=on(u);c.asyncQueue.verifyOperationInProgress(),Zt("RemoteStore","RemoteStore received new credentials");const h=Lu(c);c.ha.add(3),yield Fd(c),h&&c.da.set("Unknown"),yield c.remoteSyncer.handleCredentialChange(i),c.ha.delete(3),yield Ih(c)}),ig.apply(this,arguments)}function Mh(){return Mh=(0,t.Z)(function*(u,i){const c=on(u);i?(c.ha.delete(2),yield Ih(c)):i||(c.ha.add(2),yield Fd(c),c.da.set("Unknown"))}),Mh.apply(this,arguments)}function Rl(u){return u.wa||(u.wa=function(i,c,h){const g=on(i);return g.Zo(),new Lf(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(u.datastore,u.asyncQueue,{Wr:py.bind(null,u),Hr:X_.bind(null,u),Ko:Bf.bind(null,u)}),u.la.push(function(){var i=(0,t.Z)(function*(c){c?(u.wa.xo(),Q_(u)?Uf(u):u.da.set("Unknown")):(yield u.wa.stop(),tg(u))});return function(c){return i.apply(this,arguments)}}())),u.wa}function kl(u){return u.ma||(u.ma=function(i,c,h){const g=on(i);return g.Zo(),new Qp(c,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,h)}(u.datastore,u.asyncQueue,{Wr:Im.bind(null,u),Hr:Vv.bind(null,u),Jo:gy.bind(null,u),Ho:o0.bind(null,u)}),u.la.push(function(){var i=(0,t.Z)(function*(c){c?(u.ma.xo(),yield Ph(u)):(yield u.ma.stop(),u.ua.length>0&&(Zt("RemoteStore",`Stopping write stream with ${u.ua.length} pending writes`),u.ua=[]))});return function(c){return i.apply(this,arguments)}}())),u.ma}class Gf{constructor(i,c,h,g,v){this.asyncQueue=i,this.timerId=c,this.targetTimeMs=h,this.op=g,this.removalCallback=v,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(D=>{})}static createAndSchedule(i,c,h,g,v){const D=Date.now()+h,F=new Gf(i,c,D,g,v);return F.start(h),F}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new It(pt.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bu(u,i){if(ar("AsyncQueue",`${i}: ${u}`),ps(u))return new It(pt.UNAVAILABLE,`${i}: ${u}`);throw u}class Ld{constructor(i){this.comparator=i?(c,h)=>i(c,h)||fn.comparator(c.key,h.key):(c,h)=>fn.comparator(c.key,h.key),this.keyedMap=Zc(),this.sortedSet=new Pi(this.comparator)}static emptySet(i){return new Ld(i.comparator)}has(i){return null!=this.keyedMap.get(i)}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const c=this.keyedMap.get(i);return c?this.sortedSet.indexOf(c):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((c,h)=>(i(c),!1))}add(i){const c=this.delete(i.key);return c.copy(c.keyedMap.insert(i.key,i),c.sortedSet.insert(i,null))}delete(i){const c=this.get(i);return c?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(c)):this}isEqual(i){if(!(i instanceof Ld)||this.size!==i.size)return!1;const c=this.sortedSet.getIterator(),h=i.sortedSet.getIterator();for(;c.hasNext();){const g=c.getNext().key,v=h.getNext().key;if(!g.isEqual(v))return!1}return!0}toString(){const i=[];return this.forEach(c=>{i.push(c.toString())}),0===i.length?"DocumentSet ()":"DocumentSet (\n  "+i.join("  \n")+"\n)"}copy(i,c){const h=new Ld;return h.comparator=this.comparator,h.keyedMap=i,h.sortedSet=c,h}}class sg{constructor(){this.ga=new Pi(fn.comparator)}track(i){const c=i.doc.key,h=this.ga.get(c);h?0!==i.type&&3===h.type?this.ga=this.ga.insert(c,i):3===i.type&&1!==h.type?this.ga=this.ga.insert(c,{type:h.type,doc:i.doc}):2===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):2===i.type&&0===h.type?this.ga=this.ga.insert(c,{type:0,doc:i.doc}):1===i.type&&0===h.type?this.ga=this.ga.remove(c):1===i.type&&2===h.type?this.ga=this.ga.insert(c,{type:1,doc:h.doc}):0===i.type&&1===h.type?this.ga=this.ga.insert(c,{type:2,doc:i.doc}):kn():this.ga=this.ga.insert(c,i)}ya(){const i=[];return this.ga.inorderTraversal((c,h)=>{i.push(h)}),i}}class Oh{constructor(i,c,h,g,v,D,F,q){this.query=i,this.docs=c,this.oldDocs=h,this.docChanges=g,this.mutatedKeys=v,this.fromCache=D,this.syncStateChanged=F,this.excludesMetadataChanges=q}static fromInitialDocuments(i,c,h,g){const v=[];return c.forEach(D=>{v.push({type:0,doc:D})}),new Oh(i,c,Ld.emptySet(c),v,h,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&bl(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const c=this.docChanges,h=i.docChanges;if(c.length!==h.length)return!1;for(let g=0;g<c.length;g++)if(c[g].type!==h[g].type||!c[g].doc.isEqual(h[g].doc))return!1;return!0}}class Mm{constructor(){this.pa=void 0,this.listeners=[]}}class jv{constructor(){this.queries=new qc(i=>wu(i),bl),this.onlineState="Unknown",this.Ia=new Set}}function $f(){return $f=(0,t.Z)(function*(u,i){const c=on(u),h=i.query;let g=!1,v=c.queries.get(h);if(v||(g=!0,v=new Mm),g)try{v.pa=yield c.onListen(h)}catch(D){const F=Bu(D,`Initialization of query '${Vc(i.query)}' failed`);return void i.onError(F)}c.queries.set(h,v),v.listeners.push(i),i.Ta(c.onlineState),v.pa&&i.Ea(v.pa)&&Qa(c)}),$f.apply(this,arguments)}function cg(){return cg=(0,t.Z)(function*(u,i){const c=on(u),h=i.query;let g=!1;const v=c.queries.get(h);if(v){const D=v.listeners.indexOf(i);D>=0&&(v.listeners.splice(D,1),g=0===v.listeners.length)}if(g)return c.queries.delete(h),c.onUnlisten(h)}),cg.apply(this,arguments)}function s0(u,i){const c=on(u);let h=!1;for(const g of i){const D=c.queries.get(g.query);if(D){for(const F of D.listeners)F.Ea(g)&&(h=!0);D.pa=g}}h&&Qa(c)}function a0(u,i,c){const h=on(u),g=h.queries.get(i);if(g)for(const v of g.listeners)v.onError(c);h.queries.delete(i)}function Qa(u){u.Ia.forEach(i=>{i.next()})}class Nh{constructor(i,c,h){this.query=i,this.Aa=c,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=h||{}}Ea(i){if(!this.options.includeMetadataChanges){const h=[];for(const g of i.docChanges)3!==g.type&&h.push(g);i=new Oh(i.query,i.docs,i.oldDocs,h,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0)}let c=!1;return this.Ra?this.Pa(i)&&(this.Aa.next(i),c=!0):this.Va(i,this.onlineState)&&(this.va(i),c=!0),this.ba=i,c}onError(i){this.Aa.error(i)}Ta(i){this.onlineState=i;let c=!1;return this.ba&&!this.Ra&&this.Va(this.ba,i)&&(this.va(this.ba),c=!0),c}Va(i,c){return!i.fromCache||!(this.options.Sa&&"Offline"!==c||i.docs.isEmpty()&&"Offline"!==c)}Pa(i){return i.docChanges.length>0||!!(i.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==i.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(i){i=Oh.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache),this.Ra=!0,this.Aa.next(i)}}class vc{constructor(i){this.key=i}}class Xa{constructor(i){this.key=i}}class bc{constructor(i,c){this.query=i,this.ka=c,this.Ma=null,this.current=!1,this.Oa=Qr(),this.mutatedKeys=Qr(),this.$a=uf(i),this.Fa=new Ld(this.$a)}get Ba(){return this.ka}La(i,c){const h=c?c.qa:new sg,g=c?c.Fa:this.Fa;let v=c?c.mutatedKeys:this.mutatedKeys,D=g,F=!1;const q=ji(this.query)&&g.size===this.query.limit?g.last():null,te=Ii(this.query)&&g.size===this.query.limit?g.first():null;if(i.inorderTraversal((xe,Ve)=>{const ht=g.get(xe),At=Cl(this.query,Ve)?Ve:null,Ut=!!ht&&this.mutatedKeys.has(ht.key),wn=!!At&&(At.hasLocalMutations||this.mutatedKeys.has(At.key)&&At.hasCommittedMutations);let wr=!1;ht&&At?ht.data.isEqual(At.data)?Ut!==wn&&(h.track({type:3,doc:At}),wr=!0):this.Ua(ht,At)||(h.track({type:2,doc:At}),wr=!0,(q&&this.$a(At,q)>0||te&&this.$a(At,te)<0)&&(F=!0)):!ht&&At?(h.track({type:0,doc:At}),wr=!0):ht&&!At&&(h.track({type:1,doc:ht}),wr=!0,(q||te)&&(F=!0)),wr&&(At?(D=D.add(At),v=wn?v.add(xe):v.delete(xe)):(D=D.delete(xe),v=v.delete(xe)))}),ji(this.query)||Ii(this.query))for(;D.size>this.query.limit;){const xe=ji(this.query)?D.last():D.first();D=D.delete(xe.key),v=v.delete(xe.key),h.track({type:1,doc:xe})}return{Fa:D,qa:h,ei:F,mutatedKeys:v}}Ua(i,c){return i.hasLocalMutations&&c.hasCommittedMutations&&!c.hasLocalMutations}applyChanges(i,c,h){const g=this.Fa;this.Fa=i.Fa,this.mutatedKeys=i.mutatedKeys;const v=i.qa.ya();v.sort((te,xe)=>function(Ve,ht){const At=Ut=>{switch(Ut){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return kn()}};return At(Ve)-At(ht)}(te.type,xe.type)||this.$a(te.doc,xe.doc)),this.Ka(h);const D=c?this.Ga():[],F=0===this.Oa.size&&this.current?1:0,q=F!==this.Ma;return this.Ma=F,0!==v.length||q?{snapshot:new Oh(this.query,i.Fa,g,v,i.mutatedKeys,0===F,q,!1),Qa:D}:{Qa:D}}Ta(i){return this.current&&"Offline"===i?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new sg,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(i){return!this.ka.has(i)&&!!this.Fa.has(i)&&!this.Fa.get(i).hasLocalMutations}Ka(i){i&&(i.addedDocuments.forEach(c=>this.ka=this.ka.add(c)),i.modifiedDocuments.forEach(c=>{}),i.removedDocuments.forEach(c=>this.ka=this.ka.delete(c)),this.current=i.current)}Ga(){if(!this.current)return[];const i=this.Oa;this.Oa=Qr(),this.Fa.forEach(h=>{this.ja(h.key)&&(this.Oa=this.Oa.add(h.key))});const c=[];return i.forEach(h=>{this.Oa.has(h)||c.push(new Xa(h))}),this.Oa.forEach(h=>{i.has(h)||c.push(new vc(h))}),c}Wa(i){this.ka=i.hi,this.Oa=Qr();const c=this.La(i.documents);return this.applyChanges(c,!0)}za(){return Oh.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class _y{constructor(i,c,h){this.query=i,this.targetId=c,this.view=h}}class Om{constructor(i){this.key=i,this.Ha=!1}}class Nm{constructor(i,c,h,g,v,D){this.localStore=i,this.remoteStore=c,this.eventManager=h,this.sharedClientState=g,this.currentUser=v,this.maxConcurrentLimboResolutions=D,this.Ja={},this.Ya=new qc(F=>wu(F),bl),this.Xa=new Map,this.Za=new Set,this.tu=new Pi(fn.comparator),this.eu=new Map,this.nu=new Ou,this.su={},this.iu=new Map,this.ru=Pu.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function c0(u,i){return Zf.apply(this,arguments)}function Zf(){return Zf=(0,t.Z)(function*(u,i){const c=Jf(u);let h,g;const v=c.Ya.get(i);if(v)h=v.targetId,c.sharedClientState.addLocalQueryTarget(h),g=v.view.za();else{const D=yield Nf(c.localStore,ei(i));c.isPrimaryClient&&eg(c.remoteStore,D);const F=c.sharedClientState.addLocalQueryTarget(D.targetId);h=D.targetId,g=yield ug(c,i,h,"current"===F)}return g}),Zf.apply(this,arguments)}function ug(u,i,c,h){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,t.Z)(function*(u,i,c,h){u.au=(xe,Ve,ht)=>{return(At=(0,t.Z)(function*(Ut,wn,wr,io){let Nr=wn.view.La(wr);Nr.ei&&(Nr=yield Rf(Ut.localStore,wn.query,!1).then(({documents:Io})=>wn.view.La(Io,Nr)));const Sa=io&&io.targetChanges.get(wn.targetId),_o=wn.view.applyChanges(Nr,Ut.isPrimaryClient,Sa);return ba(Ut,wn.targetId,_o.Qa),_o.snapshot}),function(Ut,wn,wr,io){return At.apply(this,arguments)})(u,xe,Ve,ht);var At};const g=yield Rf(u.localStore,i,!0),v=new bc(i,g.hi),D=v.La(g.documents),F=lh.createSynthesizedTargetChangeForCurrentChange(c,h&&"Offline"!==u.onlineState),q=v.applyChanges(D,u.isPrimaryClient,F);ba(u,c,q.Qa);const te=new _y(i,c,v);return u.Ya.set(i,te),u.Xa.has(c)?u.Xa.get(c).push(i):u.Xa.set(c,[i]),q.snapshot}),Ud.apply(this,arguments)}function Hv(u,i){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,t.Z)(function*(u,i){const c=on(u),h=c.Ya.get(i),g=c.Xa.get(h.targetId);if(g.length>1)return c.Xa.set(h.targetId,g.filter(v=>!bl(v,i))),void c.Ya.delete(i);c.isPrimaryClient?(c.sharedClientState.removeLocalQueryTarget(h.targetId),c.sharedClientState.isActiveQueryTarget(h.targetId)||(yield Pd(c.localStore,h.targetId,!1).then(()=>{c.sharedClientState.clearQueryState(h.targetId),Lo(c.remoteStore,h.targetId),Bd(c,h.targetId)}).catch(Il))):(Bd(c,h.targetId),yield Pd(c.localStore,h.targetId,!0))}),Vu.apply(this,arguments)}function Fl(){return Fl=(0,t.Z)(function*(u,i,c){const h=pg(u);try{const g=yield function(v,D){const F=on(v),q=Xr.now(),te=D.reduce((Ve,ht)=>Ve.add(ht.key),Qr());let xe;return F.persistence.runTransaction("Locally write mutations","readwrite",Ve=>F.ui.Us(Ve,te).next(ht=>{xe=ht;const At=[];for(const Ut of D){const wn=xp(Ut,xe.get(Ut.key));null!=wn&&At.push(new hs(Ut.key,wn,vu(wn.value.mapValue),Gi.exists(!0)))}return F.Fs.addMutationBatch(Ve,q,At,D)})).then(Ve=>(Ve.applyToLocalDocumentSet(xe),{batchId:Ve.batchId,changes:xe}))}(h.localStore,i);h.sharedClientState.addPendingMutation(g.batchId),function(v,D,F){let q=v.su[v.currentUser.toKey()];q||(q=new Pi(Cr)),q=q.insert(D,F),v.su[v.currentUser.toKey()]=q}(h,g.batchId,c),yield iu(h,g.changes),yield Ph(h.remoteStore)}catch(g){const v=Bu(g,"Failed to persist write");c.reject(v)}}),Fl.apply(this,arguments)}function km(u,i){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,t.Z)(function*(u,i){const c=on(u);try{const h=yield Of(c.localStore,i);i.targetChanges.forEach((g,v)=>{const D=c.eu.get(v);D&&(Jn(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?D.Ha=!0:g.modifiedDocuments.size>0?Jn(D.Ha):g.removedDocuments.size>0&&(Jn(D.Ha),D.Ha=!1))}),yield iu(c,h,i)}catch(h){yield Il(h)}}),Fm.apply(this,arguments)}function u0(u,i,c){const h=on(u);if(h.isPrimaryClient&&0===c||!h.isPrimaryClient&&1===c){const g=[];h.Ya.forEach((v,D)=>{const F=D.view.Ta(i);F.snapshot&&g.push(F.snapshot)}),function(v,D){const F=on(v);F.onlineState=D;let q=!1;F.queries.forEach((te,xe)=>{for(const Ve of xe.listeners)Ve.Ta(D)&&(q=!0)}),q&&Qa(F)}(h.eventManager,i),g.length&&h.Ja.Ko(g),h.onlineState=i,h.isPrimaryClient&&h.sharedClientState.setOnlineState(i)}}function Rh(u,i,c){return Lm.apply(this,arguments)}function Lm(){return Lm=(0,t.Z)(function*(u,i,c){const h=on(u);h.sharedClientState.updateQueryState(i,"rejected",c);const g=h.eu.get(i),v=g&&g.key;if(v){let D=new Pi(fn.comparator);D=D.insert(v,hi.newNoDocument(v,Nn.min()));const F=Qr().add(v),q=new gd(Nn.min(),new Map,new ti(Cr),D,F);yield km(h,q),h.tu=h.tu.remove(v),h.eu.delete(i),kh(h)}else yield Pd(h.localStore,i,!1).then(()=>Bd(h,i,c)).catch(Il)}),Lm.apply(this,arguments)}function l0(u,i){return Um.apply(this,arguments)}function Um(){return Um=(0,t.Z)(function*(u,i){const c=on(u),h=i.batch.batchId;try{const g=yield Mf(c.localStore,i);Wf(c,h,null),dg(c,h),c.sharedClientState.updateMutationState(h,"acknowledged"),yield iu(c,g)}catch(g){yield Il(g)}}),Um.apply(this,arguments)}function yy(u,i,c){return va.apply(this,arguments)}function va(){return va=(0,t.Z)(function*(u,i,c){const h=on(u);try{const g=yield function(v,D){const F=on(v);return F.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let te;return F.Fs.lookupMutationBatch(q,D).next(xe=>(Jn(null!==xe),te=xe.keys(),F.Fs.removeMutationBatch(q,xe))).next(()=>F.Fs.performConsistencyCheck(q)).next(()=>F.ui.Us(q,te))})}(h.localStore,i);Wf(h,i,c),dg(h,i),h.sharedClientState.updateMutationState(i,"rejected",c),yield iu(h,g)}catch(g){yield Il(g)}}),va.apply(this,arguments)}function dg(u,i){(u.iu.get(i)||[]).forEach(c=>{c.resolve()}),u.iu.delete(i)}function Wf(u,i,c){const h=on(u);let g=h.su[h.currentUser.toKey()];if(g){const v=g.get(i);v&&(c?v.reject(c):v.resolve(),g=g.remove(i)),h.su[h.currentUser.toKey()]=g}}function Bd(u,i,c=null){u.sharedClientState.removeLocalQueryTarget(i);for(const h of u.Xa.get(i))u.Ya.delete(h),c&&u.Ja.uu(h,c);u.Xa.delete(i),u.isPrimaryClient&&u.nu.Ri(i).forEach(h=>{u.nu.containsKey(h)||vy(u,h)})}function vy(u,i){u.Za.delete(i.path.canonicalString());const c=u.tu.get(i);null!==c&&(Lo(u.remoteStore,c),u.tu=u.tu.remove(i),u.eu.delete(c),kh(u))}function ba(u,i,c){for(const h of c)h instanceof vc?(u.nu.addReference(h.key,i),ec(u,h)):h instanceof Xa?(Zt("SyncEngine","Document no longer in limbo: "+h.key),u.nu.removeReference(h.key,i),u.nu.containsKey(h.key)||vy(u,h.key)):kn()}function ec(u,i){const c=i.key,h=c.path.canonicalString();u.tu.get(c)||u.Za.has(h)||(Zt("SyncEngine","New document in limbo: "+c),u.Za.add(h),kh(u))}function kh(u){for(;u.Za.size>0&&u.tu.size<u.maxConcurrentLimboResolutions;){const i=u.Za.values().next().value;u.Za.delete(i);const c=new fn(Wr.fromString(i)),h=u.ru.next();u.eu.set(h,new Om(c)),u.tu=u.tu.insert(c,h),eg(u.remoteStore,new mc(ei(zn(c.path)),h,2,Yr.A))}}function iu(u,i,c){return d0.apply(this,arguments)}function d0(){return d0=(0,t.Z)(function*(u,i,c){const h=on(u),g=[],v=[],D=[];var F;h.Ya.isEmpty()||(h.Ya.forEach((F,q)=>{D.push(h.au(q,i,c).then(te=>{if(te){h.isPrimaryClient&&h.sharedClientState.updateQueryState(q.targetId,te.fromCache?"not-current":"current"),g.push(te);const xe=Ya.Js(q.targetId,te);v.push(xe)}}))}),yield Promise.all(D),h.Ja.Ko(g),yield(F=(0,t.Z)(function*(q,te){const xe=on(q);try{yield xe.persistence.runTransaction("notifyLocalViewChanges","readwrite",Ve=>_t.forEach(te,ht=>_t.forEach(ht.zs,At=>xe.persistence.referenceDelegate.addReference(Ve,ht.targetId,At)).next(()=>_t.forEach(ht.Hs,At=>xe.persistence.referenceDelegate.removeReference(Ve,ht.targetId,At)))))}catch(Ve){if(!ps(Ve))throw Ve;Zt("LocalStore","Failed to update sequence numbers: "+Ve)}for(const Ve of te){const ht=Ve.targetId;if(!Ve.fromCache){const At=xe.si.get(ht),wn=At.withLastLimboFreeSnapshotVersion(At.snapshotVersion);xe.si=xe.si.insert(ht,wn)}}}),function(q,te){return F.apply(this,arguments)})(h.localStore,v))}),d0.apply(this,arguments)}function h0(u,i){return Bm.apply(this,arguments)}function Bm(){return Bm=(0,t.Z)(function*(u,i){const c=on(u);if(!c.currentUser.isEqual(i)){Zt("SyncEngine","User change. New user:",i.toKey());const h=yield Mu(c.localStore,i);c.currentUser=i,(g=c).iu.forEach(D=>{D.forEach(F=>{F.reject(new It(pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),c.sharedClientState.handleUserChange(i,h.removedBatchIds,h.addedBatchIds),yield iu(c,h.ci)}var g}),Bm.apply(this,arguments)}function by(u,i){const c=on(u),h=c.eu.get(i);if(h&&h.Ha)return Qr().add(h.key);{let g=Qr();const v=c.Xa.get(i);if(!v)return g;for(const D of v){const F=c.Ya.get(D);g=g.unionWith(F.view.Ba)}return g}}function Jf(u){const i=on(u);return i.remoteStore.remoteSyncer.applyRemoteEvent=km.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=by.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=Rh.bind(null,i),i.Ja.Ko=s0.bind(null,i.eventManager),i.Ja.uu=a0.bind(null,i.eventManager),i}function pg(u){const i=on(u);return i.remoteStore.remoteSyncer.applySuccessfulWrite=l0.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=yy.bind(null,i),i}class m0{constructor(){this.synchronizeTabs=!1}initialize(i){var c=this;return(0,t.Z)(function*(){c.M=kd(i.databaseInfo.databaseId),c.sharedClientState=c.hu(i),c.persistence=c.lu(i),yield c.persistence.start(),c.gcScheduler=c.fu(i),c.localStore=c.du(i)})()}fu(i){return null}du(i){return function Wp(u,i,c,h){return new Dh(u,i,c,h)}(this.persistence,new Pl,i.initialUser,this.M)}lu(i){return new J_(Nd.Wi,this.M)}hu(i){return new Qo}terminate(){var i=this;return(0,t.Z)(function*(){i.gcScheduler&&i.gcScheduler.stop(),yield i.sharedClientState.shutdown(),yield i.persistence.shutdown()})()}}class _0{initialize(i,c){var h=this;return(0,t.Z)(function*(){h.localStore||(h.localStore=i.localStore,h.sharedClientState=i.sharedClientState,h.datastore=h.createDatastore(c),h.remoteStore=h.createRemoteStore(c),h.eventManager=h.createEventManager(c),h.syncEngine=h.createSyncEngine(c,!i.synchronizeTabs),h.sharedClientState.onlineStateHandler=g=>u0(h.syncEngine,g,1),h.remoteStore.remoteSyncer.handleCredentialChange=h0.bind(null,h.syncEngine),yield function og(u,i){return Mh.apply(this,arguments)}(h.remoteStore,h.syncEngine.isPrimaryClient))})()}createEventManager(i){return new jv}createDatastore(i){const c=kd(i.databaseInfo.databaseId),h=new fy(i.databaseInfo);return new ym(i.authCredentials,i.appCheckCredentials,h,c)}createRemoteStore(i){return c=this.localStore,h=this.datastore,g=i.asyncQueue,v=F=>u0(this.syncEngine,F,0),D=Ml.vt()?new Ml:new Yp,new vm(c,h,g,v,D);var c,h,g,v,D}createSyncEngine(i,c){return function(h,g,v,D,F,q,te){const xe=new Nm(h,g,v,D,F,q);return te&&(xe.ou=!0),xe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,c)}terminate(){return(i=(0,t.Z)(function*(c){const h=on(c);Zt("RemoteStore","RemoteStore shutting down."),h.ha.add(5),yield Fd(h),h.fa.shutdown(),h.da.set("Unknown")}),function(c){return i.apply(this,arguments)})(this.remoteStore);var i}}class Hm{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.wu(this.observer.next,i)}error(i){this.observer.error?this.wu(this.observer.error,i):console.error("Uncaught Error in snapshot listener:",i)}mu(){this.muted=!0}wu(i,c){this.muted||setTimeout(()=>{this.muted||i(c)},0)}}class gg{constructor(i,c,h,g){var v=this;this.authCredentials=i,this.appCheckCredentials=c,this.asyncQueue=h,this.databaseInfo=g,this.user=Qi.UNAUTHENTICATED,this.clientId=Do.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(h,function(){var D=(0,t.Z)(function*(F){Zt("FirestoreClient","Received user=",F.uid),yield v.authCredentialListener(F),v.user=F});return function(F){return D.apply(this,arguments)}}()),this.appCheckCredentials.start(h,D=>(Zt("FirestoreClient","Received new app check token=",D),this.appCheckCredentialListener(D,this.user)))}getConfiguration(){var i=this;return(0,t.Z)(function*(){return{asyncQueue:i.asyncQueue,databaseInfo:i.databaseInfo,clientId:i.clientId,authCredentials:i.authCredentials,appCheckCredentials:i.appCheckCredentials,initialUser:i.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new It(pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var i=this;this.asyncQueue.enterRestrictedMode();const c=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,t.Z)(function*(){try{i.onlineComponents&&(yield i.onlineComponents.terminate()),i.offlineComponents&&(yield i.offlineComponents.terminate()),i.authCredentials.shutdown(),i.appCheckCredentials.shutdown(),c.resolve()}catch(h){const g=Bu(h,"Failed to shutdown persistence");c.reject(g)}})),c.promise}}function qm(u,i){return Vd.apply(this,arguments)}function Vd(){return Vd=(0,t.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress(),Zt("FirestoreClient","Initializing OfflineComponentProvider");const c=yield u.getConfiguration();yield i.initialize(c);let h=c.initialUser;u.setCredentialChangeListener(function(){var g=(0,t.Z)(function*(v){h.isEqual(v)||(yield Mu(i.localStore,v),h=v)});return function(v){return g.apply(this,arguments)}}()),i.persistence.setDatabaseDeletedListener(()=>u.terminate()),u.offlineComponents=i}),Vd.apply(this,arguments)}function ep(u,i){return Xs.apply(this,arguments)}function Xs(){return Xs=(0,t.Z)(function*(u,i){u.asyncQueue.verifyOperationInProgress();const c=yield jd(u);Zt("FirestoreClient","Initializing OnlineComponentProvider");const h=yield u.getConfiguration();yield i.initialize(c,h),u.setCredentialChangeListener(g=>jf(i.remoteStore,g)),u.setAppCheckTokenChangeListener((g,v)=>jf(i.remoteStore,v)),u.onlineComponents=i}),Xs.apply(this,arguments)}function jd(u){return Xo.apply(this,arguments)}function Xo(){return Xo=(0,t.Z)(function*(u){return u.offlineComponents||(Zt("FirestoreClient","Using default OfflineComponentProvider"),yield qm(u,new m0)),u.offlineComponents}),Xo.apply(this,arguments)}function su(u){return Fh.apply(this,arguments)}function Fh(){return Fh=(0,t.Z)(function*(u){return u.onlineComponents||(Zt("FirestoreClient","Using default OnlineComponentProvider"),yield ep(u,new _0)),u.onlineComponents}),Fh.apply(this,arguments)}function Ta(u){return ea.apply(this,arguments)}function ea(){return ea=(0,t.Z)(function*(u){const i=yield su(u),c=i.eventManager;return c.onListen=c0.bind(null,i.syncEngine),c.onUnlisten=Hv.bind(null,i.syncEngine),c}),ea.apply(this,arguments)}const mg=new Map;function Bh(u,i,c){if(!c)throw new It(pt.INVALID_ARGUMENT,`Function ${u}() cannot be called with an empty ${i}.`)}function Vh(u){if(!fn.isDocumentKey(u))throw new It(pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${u} has ${u.length}.`)}function Gu(u){if(fn.isDocumentKey(u))throw new It(pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${u} has ${u.length}.`)}function $d(u){if(void 0===u)return"undefined";if(null===u)return"null";if("string"==typeof u)return u.length>20&&(u=`${u.substring(0,20)}...`),JSON.stringify(u);if("number"==typeof u||"boolean"==typeof u)return""+u;if("object"==typeof u){if(u instanceof Array)return"an array";{const i=(c=u).constructor?c.constructor.name:null;return i?`a custom ${i} object`:"an object"}}var c;return"function"==typeof u?"a function":kn()}function jr(u,i){if("_delegate"in u&&(u=u._delegate),!(u instanceof i)){if(i.name===u.constructor.name)throw new It(pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const c=$d(u);throw new It(pt.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${c}`)}}return u}class _g{constructor(i){var c;if(void 0===i.host){if(void 0!==i.ssl)throw new It(pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=null===(c=i.ssl)||void 0===c||c;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,void 0===i.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==i.cacheSizeBytes&&i.cacheSizeBytes<1048576)throw new It(pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.useFetchStreams=!!i.useFetchStreams,function zm(u,i,c,h){if(!0===i&&!0===h)throw new It(pt.INVALID_ARGUMENT,`${u} and ${c} cannot be used together.`)}("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling)}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Ll{constructor(i,c,h){this._authCredentials=c,this._appCheckCredentials=h,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _g({}),this._settingsFrozen=!1,i instanceof uc?this._databaseId=i:(this._app=i,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new It(pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uc(g.options.projectId)}(i))}get app(){if(!this._app)throw new It(pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(i){if(this._settingsFrozen)throw new It(pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _g(i),void 0!==i.credentials&&(this._authCredentials=function(c){if(!c)return new er;switch(c.type){case"gapi":const h=c.client;return Jn(!("object"!=typeof h||null===h||!h.auth||!h.auth.getAuthHeaderValueForFirstParty)),new sf(h,c.sessionIndex||"0",c.iamToken||null);case"provider":return c.client;default:throw new It(pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const c=mg.get(i);c&&(Zt("ComponentProvider","Removing Datastore"),mg.delete(i),c.terminate())}(this),Promise.resolve()}}class qi{constructor(i,c,h){this.converter=c,this._key=h,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ea(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new qi(this.firestore,i,this._key)}}class es{constructor(i,c,h){this.converter=c,this._query=h,this.type="query",this.firestore=i}withConverter(i){return new es(this.firestore,i,this._query)}}class Ea extends es{constructor(i,c,h){super(i,c,zn(h)),this._path=h,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new qi(this.firestore,null,new fn(i))}withConverter(i){return new Ea(this.firestore,i,this._path)}}function Wm(u,i,...c){if(u=(0,P.m9)(u),Bh("collection","path",i),u instanceof Ll){const h=Wr.fromString(i,...c);return Gu(h),new Ea(u,null,h)}{if(!(u instanceof qi||u instanceof Ea))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=u._path.child(Wr.fromString(i,...c));return Gu(h),new Ea(u.firestore,null,h)}}function Cc(u,i,...c){if(u=(0,P.m9)(u),1===arguments.length&&(i=Do.R()),Bh("doc","path",i),u instanceof Ll){const h=Wr.fromString(i,...c);return Vh(h),new qi(u,null,new fn(h))}{if(!(u instanceof qi||u instanceof Ea))throw new It(pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const h=u._path.child(Wr.fromString(i,...c));return Vh(h),new qi(u.firestore,u instanceof Ea?u.converter:null,new fn(h))}}class Km{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Nl(this,"async_queue_retry"),this.Fu=()=>{const c=Ff();c&&Zt("AsyncQueue","Visibility state changed to "+c.visibilityState),this.vo.To()};const i=Ff();i&&"function"==typeof i.addEventListener&&i.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.Bu(),this.Lu(i)}enterRestrictedMode(i){if(!this.xu){this.xu=!0,this.Ou=i||!1;const c=Ff();c&&"function"==typeof c.removeEventListener&&c.removeEventListener("visibilitychange",this.Fu)}}enqueue(i){if(this.Bu(),this.xu)return new Promise(()=>{});const c=new zr;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(i().then(c.resolve,c.reject),c.promise)).then(()=>c.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.Cu.push(i),this.qu()))}qu(){var i=this;return(0,t.Z)(function*(){if(0!==i.Cu.length){try{yield i.Cu[0](),i.Cu.shift(),i.vo.reset()}catch(c){if(!ps(c))throw c;Zt("AsyncQueue","Operation failed with retryable error: "+c)}i.Cu.length>0&&i.vo.po(()=>i.qu())}})()}Lu(i){const c=this.Du.then(()=>(this.Mu=!0,i().catch(h=>{throw this.ku=h,this.Mu=!1,ar("INTERNAL UNHANDLED ERROR: ",function(v){let D=v.message||"";return v.stack&&(D=v.stack.includes(v.message)?v.stack:v.message+"\n"+v.stack),D}(h)),h}).then(h=>(this.Mu=!1,h))));return this.Du=c,c}enqueueAfterDelay(i,c,h){this.Bu(),this.$u.indexOf(i)>-1&&(c=0);const g=Gf.createAndSchedule(this,i,c,h,v=>this.Uu(v));return this.Nu.push(g),g}Bu(){this.ku&&kn()}verifyOperationInProgress(){}Ku(){var i=this;return(0,t.Z)(function*(){let c;do{c=i.Du,yield c}while(c!==i.Du)})()}Gu(i){for(const c of this.Nu)if(c.timerId===i)return!0;return!1}Qu(i){return this.Ku().then(()=>{this.Nu.sort((c,h)=>c.targetTimeMs-h.targetTimeMs);for(const c of this.Nu)if(c.skipDelay(),"all"!==i&&c.timerId===i)break;return this.Ku()})}ju(i){this.$u.push(i)}Uu(i){const c=this.Nu.indexOf(i);this.Nu.splice(c,1)}}function Ym(u){return function(i,c){if("object"!=typeof i||null===i)return!1;const h=i;for(const g of["next","error","complete"])if(g in h&&"function"==typeof h[g])return!0;return!1}(u)}class Zi extends Ll{constructor(i,c,h){super(i,c,h),this.type="firestore",this._queue=new Km,this._persistenceKey="name"in i?i.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||C0(this),this._firestoreClient.terminate()}}function Jm(u=(0,C.getApp)()){return(0,C._getProvider)(u,"firestore").getImmediate()}function go(u){return u._firestoreClient||C0(u),u._firestoreClient.verifyNotTerminated(),u._firestoreClient}function C0(u){var i;const c=u._freezeSettings(),h=(v=(null===(i=u._app)||void 0===i?void 0:i.options.appId)||"",new id(u._databaseId,v,u._persistenceKey,(F=c).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var v,F;u._firestoreClient=new gg(u._authCredentials,u._appCheckCredentials,u._queue,h)}class Gh{constructor(...i){for(let c=0;c<i.length;++c)if(0===i[c].length)throw new It(pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bi(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}}class Ul{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Ul(gi.fromBase64String(i))}catch(c){throw new It(pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+c)}}static fromUint8Array(i){return new Ul(gi.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}class Xm{constructor(i){this._methodName=i}}class op{constructor(i,c){if(!isFinite(i)||i<-90||i>90)throw new It(pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(c)||c<-180||c>180)throw new It(pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+c);this._lat=i,this._long=c}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return Cr(this._lat,i._lat)||Cr(this._long,i._long)}}const Ey=/^__.*__$/;class sp{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return null!==this.fieldMask?new hs(i,this.data,this.fieldMask,c,this.fieldTransforms):new ld(i,this.data,c,this.fieldTransforms)}}class Dy{constructor(i,c,h){this.data=i,this.fieldMask=c,this.fieldTransforms=h}toMutation(i,c){return new hs(i,this.data,this.fieldMask,c,this.fieldTransforms)}}function na(u){switch(u){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw kn()}}class vg{constructor(i,c,h,g,v,D){this.settings=i,this.databaseId=c,this.M=h,this.ignoreUndefinedProperties=g,void 0===v&&this.Wu(),this.fieldTransforms=v||[],this.fieldMask=D||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(i){return new vg(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Xu(i),g}Zu(i){var c;const h=null===(c=this.path)||void 0===c?void 0:c.child(i),g=this.Hu({path:h,Yu:!1});return g.Wu(),g}tc(i){return this.Hu({path:void 0,Yu:!0})}ec(i){return dp(i,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(i){return void 0!==this.fieldMask.find(c=>i.isPrefixOf(c))||void 0!==this.fieldTransforms.find(c=>i.isPrefixOf(c.field))}Wu(){if(this.path)for(let i=0;i<this.path.length;i++)this.Xu(this.path.get(i))}Xu(i){if(0===i.length)throw this.ec("Document fields must not be empty");if(na(this.zu)&&Ey.test(i))throw this.ec('Document fields cannot begin and end with "__"')}}class Qv{constructor(i,c,h){this.databaseId=i,this.ignoreUndefinedProperties=c,this.M=h||kd(i)}ic(i,c,h,g=!1){return new vg({zu:i,methodName:c,sc:h,path:Bi.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function cu(u){const i=u._freezeSettings(),c=kd(u._databaseId);return new Qv(u._databaseId,!!i.ignoreUndefinedProperties,c)}function bg(u,i,c,h,g,v={}){const D=u.ic(v.merge||v.mergeFields?2:0,i,c,g);lp("Data must be an object, but it was:",D,h);const F=Tg(h,D);let q,te;if(v.merge)q=new $o(D.fieldMask),te=D.fieldTransforms;else if(v.mergeFields){const xe=[];for(const Ve of v.mergeFields){const ht=Eg(i,Ve,c);if(!D.contains(ht))throw new It(pt.INVALID_ARGUMENT,`Field '${ht}' is specified in your field mask but missing from your input data.`);S0(xe,ht)||xe.push(ht)}q=new $o(xe),te=D.fieldTransforms.filter(Ve=>q.covers(Ve.field))}else q=null,te=D.fieldTransforms;return new sp(new di(F),q,te)}class Ci extends Xm{_toFieldTransform(i){if(2!==i.zu)throw i.ec(1===i.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof Ci}}function uu(u,i){if(t_(u=(0,P.m9)(u)))return lp("Unsupported field value:",i,u),Tg(u,i);if(u instanceof Xm)return function(c,h){if(!na(h.zu))throw h.ec(`${c._methodName}() can only be used with update() and set()`);if(!h.path)throw h.ec(`${c._methodName}() is not currently supported inside arrays`);const g=c._toFieldTransform(h);g&&h.fieldTransforms.push(g)}(u,i),null;if(void 0===u&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),u instanceof Array){if(i.settings.Yu&&4!==i.zu)throw i.ec("Nested arrays are not supported");return function(c,h){const g=[];let v=0;for(const D of c){let F=uu(D,h.tc(v));null==F&&(F={nullValue:"NULL_VALUE"}),g.push(F),v++}return{arrayValue:{values:g}}}(u,i)}return function(c,h){if(null===(c=(0,P.m9)(c)))return{nullValue:"NULL_VALUE"};if("number"==typeof c)return Ep(h.M,c);if("boolean"==typeof c)return{booleanValue:c};if("string"==typeof c)return{stringValue:c};if(c instanceof Date){const g=Xr.fromDate(c);return{timestampValue:vi(h.M,g)}}if(c instanceof Xr){const g=new Xr(c.seconds,1e3*Math.floor(c.nanoseconds/1e3));return{timestampValue:vi(h.M,g)}}if(c instanceof op)return{geoPointValue:{latitude:c.latitude,longitude:c.longitude}};if(c instanceof Ul)return{bytesValue:Rp(h.M,c._byteString)};if(c instanceof qi){const g=h.databaseId,v=c.firestore._databaseId;if(!v.isEqual(g))throw h.ec(`Document reference is for database ${v.projectId}/${v.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:hh(c.firestore._databaseId||h.databaseId,c._key.path)}}throw h.ec(`Unsupported field value: ${$d(c)}`)}(u,i)}function Tg(u,i){const c={};return Cs(u)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):yi(u,(h,g)=>{const v=uu(g,i.Ju(h));null!=v&&(c[h]=v)}),{mapValue:{fields:c}}}function t_(u){return!("object"!=typeof u||null===u||u instanceof Array||u instanceof Date||u instanceof Xr||u instanceof op||u instanceof Ul||u instanceof qi||u instanceof Xm)}function lp(u,i,c){if(!t_(c)||"object"!=typeof(h=c)||null===h||Object.getPrototypeOf(h)!==Object.prototype&&null!==Object.getPrototypeOf(h)){const h=$d(c);throw i.ec("an object"===h?u+" a custom object":u+" "+h)}var h}function Eg(u,i,c){if((i=(0,P.m9)(i))instanceof Gh)return i._internalPath;if("string"==typeof i)return Hh(u,i);throw dp("Field path arguments must be of type string or ",u,!1,void 0,c)}const D0=new RegExp("[~\\*/\\[\\]]");function Hh(u,i,c){if(i.search(D0)>=0)throw dp(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,u,!1,void 0,c);try{return new Gh(...i.split("."))._internalPath}catch(h){throw dp(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,u,!1,void 0,c)}}function dp(u,i,c,h,g){const v=h&&!h.isEmpty(),D=void 0!==g;let F=`Function ${i}() called with invalid data`;c&&(F+=" (via `toFirestore()`)"),F+=". ";let q="";return(v||D)&&(q+=" (found",v&&(q+=` in field ${h}`),D&&(q+=` in document ${g}`),q+=")"),new It(pt.INVALID_ARGUMENT,F+u+q)}function S0(u,i){return u.some(c=>c.isEqual(i))}class Dg{constructor(i,c,h,g,v){this._firestore=i,this._userDataWriter=c,this._key=h,this._document=g,this._converter=v}get id(){return this._key.path.lastSegment()}get ref(){return new qi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const i=new x0(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const c=this._document.data.field($h("DocumentSnapshot.get",i));if(null!==c)return this._userDataWriter.convertValue(c)}}}class x0 extends Dg{data(){return super.data()}}function $h(u,i){return"string"==typeof i?Hh(u,i):i instanceof Gh?i._internalPath:i._delegate._internalPath}class Bl{constructor(i,c){this.hasPendingWrites=i,this.fromCache=c}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}class $u extends Dg{constructor(i,c,h,g,v,D){super(i,c,h,g,D),this._firestore=i,this._firestoreImpl=i,this.metadata=v}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const c=new hp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(c,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,c={}){if(this._document){const h=this._document.data.field($h("DocumentSnapshot.get",i));if(null!==h)return this._userDataWriter.convertValue(h,c.serverTimestamps)}}}class hp extends $u{data(i={}){return super.data(i)}}class Zd{constructor(i,c,h,g){this._firestore=i,this._userDataWriter=c,this._snapshot=g,this.metadata=new Bl(g.hasPendingWrites,g.fromCache),this.query=h}get docs(){const i=[];return this.forEach(c=>i.push(c)),i}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(i,c){this._snapshot.docs.forEach(h=>{i.call(c,new hp(this._firestore,this._userDataWriter,h.key,h,new Bl(this._snapshot.mutatedKeys.has(h.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const c=!!i.includeMetadataChanges;if(c&&this._snapshot.excludesMetadataChanges)throw new It(pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===c||(this._cachedChanges=function(h,g){if(h._snapshot.oldDocs.isEmpty()){let v=0;return h._snapshot.docChanges.map(D=>({type:"added",doc:new hp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Bl(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter),oldIndex:-1,newIndex:v++}))}{let v=h._snapshot.oldDocs;return h._snapshot.docChanges.filter(D=>g||3!==D.type).map(D=>{const F=new hp(h._firestore,h._userDataWriter,D.doc.key,D.doc,new Bl(h._snapshot.mutatedKeys.has(D.doc.key),h._snapshot.fromCache),h.query.converter);let q=-1,te=-1;return 0!==D.type&&(q=v.indexOf(D.doc.key),v=v.delete(D.doc.key)),1!==D.type&&(v=v.add(D.doc),te=v.indexOf(D.doc.key)),{type:n_(D.type),doc:F,oldIndex:q,newIndex:te}})}}(this,c),this._cachedChangesIncludeMetadataChanges=c),this._cachedChanges}}function n_(u){switch(u){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return kn()}}function qu(u,i,c){let h;return h=u?c&&(c.merge||c.mergeFields)?u.toFirestore(i,c):u.toFirestore(i):i,h}class t1{constructor(i,c){this._firestore=i,this._commitHandler=c,this._mutations=[],this._committed=!1,this._dataReader=cu(i)}set(i,c,h){this._verifyNotCommitted();const g=fp(i,this._firestore),v=qu(g.converter,c,h),D=bg(this._dataReader,"WriteBatch.set",g._key,v,null!==g.converter,h);return this._mutations.push(D.toMutation(g._key,Gi.none())),this}update(i,c,h,...g){this._verifyNotCommitted();const v=fp(i,this._firestore);let D;return D="string"==typeof(c=(0,P.m9)(c))||c instanceof Gh?function wc(u,i,c,h,g,v){const D=u.ic(1,i,c),F=[Eg(i,h,c)],q=[g];if(v.length%2!=0)throw new It(pt.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let ht=0;ht<v.length;ht+=2)F.push(Eg(i,v[ht])),q.push(v[ht+1]);const te=[],xe=di.empty();for(let ht=F.length-1;ht>=0;--ht)if(!S0(te,F[ht])){const At=F[ht];let Ut=q[ht];Ut=(0,P.m9)(Ut);const wn=D.Zu(At);if(Ut instanceof Ci)te.push(At);else{const wr=uu(Ut,wn);null!=wr&&(te.push(At),xe.set(At,wr))}}const Ve=new $o(te);return new Dy(xe,Ve,D.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c,h,g):function qd(u,i,c,h){const g=u.ic(1,i,c);lp("Data must be an object, but it was:",g,h);const v=[],D=di.empty();yi(h,(q,te)=>{const xe=Hh(i,q,c);te=(0,P.m9)(te);const Ve=g.Zu(xe);if(te instanceof Ci)v.push(xe);else{const ht=uu(te,Ve);null!=ht&&(v.push(xe),D.set(xe,ht))}});const F=new $o(v);return new Dy(D,F,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",v._key,c),this._mutations.push(D.toMutation(v._key,Gi.exists(!0))),this}delete(i){this._verifyNotCommitted();const c=fp(i,this._firestore);return this._mutations=this._mutations.concat(new ah(c._key,Gi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new It(pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fp(u,i){if((u=(0,P.m9)(u)).firestore!==i)throw new It(pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return u}class Zu extends class a_{convertValue(i,c="none"){switch(dc(i)){case 0:return null;case 1:return i.booleanValue;case 2:return Jr(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,c);case 5:return i.stringValue;case 6:return this.convertBytes(Xi(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,c);case 10:return this.convertObject(i.mapValue,c);default:throw kn()}}convertObject(i,c){const h={};return yi(i.fields,(g,v)=>{h[g]=this.convertValue(v,c)}),h}convertGeoPoint(i){return new op(Jr(i.latitude),Jr(i.longitude))}convertArray(i,c){return(i.values||[]).map(h=>this.convertValue(h,c))}convertServerTimestamp(i,c){switch(c){case"previous":const h=_u(i);return null==h?null:this.convertValue(h,c);case"estimate":return this.convertTimestamp(qo(i));default:return null}}convertTimestamp(i){const c=So(i);return new Xr(c.seconds,c.nanos)}convertDocumentKey(i,c){const h=Wr.fromString(i);Jn(ph(h));const g=new uc(h.get(1),h.get(3)),v=new fn(h.popFirst(5));return g.isEqual(c)||ar(`Document ${v} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${c.projectId}/${c.database}) instead.`),v}}{constructor(i){super(),this.firestore=i}convertBytes(i){return new Ul(i)}convertReference(i){const c=this.convertDocumentKey(i,this.firestore._databaseId);return new qi(this.firestore,null,c)}}function xg(u,i,c){u=jr(u,qi);const h=jr(u.firestore,Zi),g=qu(u.converter,i,c);return qh(h,[bg(cu(h),"setDoc",u._key,g,null!==u.converter,c).toMutation(u._key,Gi.none())])}function ra(u){return qh(jr(u.firestore,Zi),[new ah(u._key,Gi.none())])}function rc(u,i){const c=jr(u.firestore,Zi),h=Cc(u),g=qu(u.converter,i);return qh(c,[bg(cu(u.firestore),"addDoc",h._key,g,null!==u.converter,{}).toMutation(h._key,Gi.exists(!1))]).then(()=>h)}function Ag(u,...i){var c,h,g;u=(0,P.m9)(u);let v={includeMetadataChanges:!1},D=0;"object"!=typeof i[D]||Ym(i[D])||(v=i[D],D++);const F={includeMetadataChanges:v.includeMetadataChanges};if(Ym(i[D])){const Ve=i[D];i[D]=null===(c=Ve.next)||void 0===c?void 0:c.bind(Ve),i[D+1]=null===(h=Ve.error)||void 0===h?void 0:h.bind(Ve),i[D+2]=null===(g=Ve.complete)||void 0===g?void 0:g.bind(Ve)}let q,te,xe;if(u instanceof qi)te=jr(u.firestore,Zi),xe=zn(u._key.path),q={next:Ve=>{i[D]&&i[D](function Ig(u,i,c){const h=c.docs.get(i._key),g=new Zu(u);return new $u(u,g,i._key,h,new Bl(c.hasPendingWrites,c.fromCache),i.converter)}(te,u,Ve))},error:i[D+1],complete:i[D+2]};else{const Ve=jr(u,es);te=jr(Ve.firestore,Zi),xe=Ve._query;const ht=new Zu(te);q={next:At=>{i[D]&&i[D](new Zd(te,ht,Ve,At))},error:i[D+1],complete:i[D+2]},function i_(u){if(Ii(u)&&0===u.explicitOrderBy.length)throw new It(pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(u._query)}return function(Ve,ht,At,Ut){const wn=new Hm(Ut),wr=new Nh(ht,wn,At);return Ve.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Hf(u,i){return $f.apply(this,arguments)}(yield Ta(Ve),wr)})),()=>{wn.mu(),Ve.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function ag(u,i){return cg.apply(this,arguments)}(yield Ta(Ve),wr)}))}}(go(te),xe,F,q)}function qh(u,i){return function(c,h){const g=new zr;return c.asyncQueue.enqueueAndForget((0,t.Z)(function*(){return function Rm(u,i,c){return Fl.apply(this,arguments)}(yield function au(u){return su(u).then(i=>i.syncEngine)}(c),h,g)})),g.promise}(go(u),i)}function Ny(u){return go(u=jr(u,Zi)),new t1(u,i=>qh(u,i))}!function(u,i=!0){Ro=C.SDK_VERSION,(0,C._registerComponent)(new E.wA("firestore",(c,{options:h})=>{const g=c.getProvider("app").getImmediate(),v=new Zi(g,new rf(c.getProvider("auth-internal")),new cc(c.getProvider("app-check-internal")));return h=Object.assign({useFetchStreams:i},h),v._setSettings(h),v},"PUBLIC")),(0,C.registerVersion)(nd,"3.4.6",u),(0,C.registerVersion)(nd,"3.4.6","esm2017")}()},5199:(nt,A,M)=>{nt=M.nmd(nt);var C="__lodash_hash_undefined__",P=9007199254740991,j="[object Arguments]",ae="[object Function]",ue="[object Object]",wt=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,xt={};xt["[object Float32Array]"]=xt["[object Float64Array]"]=xt["[object Int8Array]"]=xt["[object Int16Array]"]=xt["[object Int32Array]"]=xt["[object Uint8Array]"]=xt["[object Uint8ClampedArray]"]=xt["[object Uint16Array]"]=xt["[object Uint32Array]"]=!0,xt[j]=xt["[object Array]"]=xt["[object ArrayBuffer]"]=xt["[object Boolean]"]=xt["[object DataView]"]=xt["[object Date]"]=xt["[object Error]"]=xt[ae]=xt["[object Map]"]=xt["[object Number]"]=xt[ue]=xt["[object RegExp]"]=xt["[object Set]"]=xt["[object String]"]=xt["[object WeakMap]"]=!1;var cn="object"==typeof global&&global&&global.Object===Object&&global,tr="object"==typeof self&&self&&self.Object===Object&&self,Fn=cn||tr||Function("return this")(),yr=A&&!A.nodeType&&A,rr=yr&&nt&&!nt.nodeType&&nt,Xn=rr&&rr.exports===yr,Hr=Xn&&cn.process,mr=function(){try{return rr&&rr.require&&rr.require("util").types||Hr&&Hr.binding&&Hr.binding("util")}catch(Te){}}(),xr=mr&&mr.isTypedArray;function ki(K,Te,Ae){switch(Ae.length){case 0:return K.call(Te);case 1:return K.call(Te,Ae[0]);case 2:return K.call(Te,Ae[0],Ae[1]);case 3:return K.call(Te,Ae[0],Ae[1],Ae[2])}return K.apply(Te,Ae)}var K,gn=Array.prototype,Vr=Object.prototype,$r=Fn["__core-js_shared__"],Re=Function.prototype.toString,Qe=Vr.hasOwnProperty,ct=(K=/[^.]+$/.exec($r&&$r.keys&&$r.keys.IE_PROTO||""))?"Symbol(src)_1."+K:"",Xe=Vr.toString,yt=Re.call(Object),kt=RegExp("^"+Re.call(Qe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pt=Xn?Fn.Buffer:void 0,Ct=Fn.Symbol,Lt=Fn.Uint8Array,mn=Pt?Pt.allocUnsafe:void 0,tn=function Ei(K,Te){return function(Ae){return K(Te(Ae))}}(Object.getPrototypeOf,Object),Xt=Object.create,Mn=Vr.propertyIsEnumerable,Cn=gn.splice,Wn=Ct?Ct.toStringTag:void 0,Ht=function(){try{var K=Mr(Object,"defineProperty");return K({},"",{}),K}catch(Te){}}(),vr=Pt?Pt.isBuffer:void 0,Dn=Math.max,Tt=Date.now,et=Mr(Fn,"Map"),Vt=Mr(Object,"create"),zt=function(){function K(){}return function(Te){if(!Ce(Te))return{};if(Xt)return Xt(Te);K.prototype=Te;var Ae=new K;return K.prototype=void 0,Ae}}();function In(K){var Te=-1,Ae=null==K?0:K.length;for(this.clear();++Te<Ae;){var at=K[Te];this.set(at[0],at[1])}}function ke(K){var Te=-1,Ae=null==K?0:K.length;for(this.clear();++Te<Ae;){var at=K[Te];this.set(at[0],at[1])}}function nr(K){var Te=-1,Ae=null==K?0:K.length;for(this.clear();++Te<Ae;){var at=K[Te];this.set(at[0],at[1])}}function un(K){var Te=this.__data__=new ke(K);this.size=Te.size}function $t(K,Te,Ae){(void 0!==Ae&&!vs(K[Te],Ae)||void 0===Ae&&!(Te in K))&&En(K,Te,Ae)}function en(K,Te,Ae){var at=K[Te];(!Qe.call(K,Te)||!vs(at,Ae)||void 0===Ae&&!(Te in K))&&En(K,Te,Ae)}function sn(K,Te){for(var Ae=K.length;Ae--;)if(vs(K[Ae][0],Te))return Ae;return-1}function En(K,Te,Ae){"__proto__"==Te&&Ht?Ht(K,Te,{configurable:!0,enumerable:!0,value:Ae,writable:!0}):K[Te]=Ae}In.prototype.clear=function yn(){this.__data__=Vt?Vt(null):{},this.size=0},In.prototype.delete=function be(K){var Te=this.has(K)&&delete this.__data__[K];return this.size-=Te?1:0,Te},In.prototype.get=function pe(K){var Te=this.__data__;if(Vt){var Ae=Te[K];return Ae===C?void 0:Ae}return Qe.call(Te,K)?Te[K]:void 0},In.prototype.has=function me(K){var Te=this.__data__;return Vt?void 0!==Te[K]:Qe.call(Te,K)},In.prototype.set=function Ze(K,Te){var Ae=this.__data__;return this.size+=this.has(K)?0:1,Ae[K]=Vt&&void 0===Te?C:Te,this},ke.prototype.clear=function Nt(){this.__data__=[],this.size=0},ke.prototype.delete=function Tn(K){var Te=this.__data__,Ae=sn(Te,K);return!(Ae<0||(Ae==Te.length-1?Te.pop():Cn.call(Te,Ae,1),--this.size,0))},ke.prototype.get=function On(K){var Te=this.__data__,Ae=sn(Te,K);return Ae<0?void 0:Te[Ae][1]},ke.prototype.has=function ir(K){return sn(this.__data__,K)>-1},ke.prototype.set=function Gn(K,Te){var Ae=this.__data__,at=sn(Ae,K);return at<0?(++this.size,Ae.push([K,Te])):Ae[at][1]=Te,this},nr.prototype.clear=function nn(){this.size=0,this.__data__={hash:new In,map:new(et||ke),string:new In}},nr.prototype.delete=function Sn(K){var Te=sr(this,K).delete(K);return this.size-=Te?1:0,Te},nr.prototype.get=function rn(K){return sr(this,K).get(K)},nr.prototype.has=function Le(K){return sr(this,K).has(K)},nr.prototype.set=function st(K,Te){var Ae=sr(this,K),at=Ae.size;return Ae.set(K,Te),this.size+=Ae.size==at?0:1,this},un.prototype.clear=function Ln(){this.__data__=new ke,this.size=0},un.prototype.delete=function or(K){var Te=this.__data__,Ae=Te.delete(K);return this.size=Te.size,Ae},un.prototype.get=function jt(K){return this.__data__.get(K)},un.prototype.has=function Bt(K){return this.__data__.has(K)},un.prototype.set=function je(K,Te){var Ae=this.__data__;if(Ae instanceof ke){var at=Ae.__data__;if(!et||at.length<199)return at.push([K,Te]),this.size=++Ae.size,this;Ae=this.__data__=new nr(at)}return Ae.set(K,Te),this.size=Ae.size,this};var Vn=function Mt(K){return function(Te,Ae,at){for(var qt=-1,hn=Object(Te),an=at(Te),_n=an.length;_n--;){var Yn=an[K?_n:++qt];if(!1===Ae(hn[Yn],Yn,hn))break}return Te}}();function ln(K){return null==K?void 0===K?"[object Undefined]":"[object Null]":Wn&&Wn in Object(K)?function pr(K){var Te=Qe.call(K,Wn),Ae=K[Wn];try{K[Wn]=void 0;var at=!0}catch(hn){}var qt=Xe.call(K);return at&&(Te?K[Wn]=Ae:delete K[Wn]),qt}(K):function Mo(K){return Xe.call(K)}(K)}function Rn(K){return re(K)&&ln(K)==j}function Ir(K,Te,Ae,at,qt){K!==Te&&Vn(Te,function(hn,an){if(qt||(qt=new un),Ce(hn))!function Co(K,Te,Ae,at,qt,hn,an){var _n=Rs(K,Ae),Yn=Rs(Te,Ae),Zr=an.get(Yn);if(Zr)$t(K,Ae,Zr);else{var Lr=hn?hn(_n,Yn,Ae+"",K,Te,an):void 0,Ji=void 0===Lr;if(Ji){var Fs=jo(Yn),Sr=!Fs&&Pa(Yn),oc=!Fs&&!Sr&&B(Yn);Lr=Yn,Fs||Sr||oc?jo(_n)?Lr=_n:function Oo(K){return re(K)&&is(K)}(_n)?Lr=function Oe(K,Te){var Ae=-1,at=K.length;for(Te||(Te=Array(at));++Ae<at;)Te[Ae]=K[Ae];return Te}(_n):Sr?(Ji=!1,Lr=function Yi(K,Te){if(Te)return K.slice();var Ae=K.length,at=mn?mn(Ae):new K.constructor(Ae);return K.copy(at),at}(Yn,!0)):oc?(Ji=!1,Lr=function Fe(K,Te){var Ae=Te?function Pr(K){var Te=new K.constructor(K.byteLength);return new Lt(Te).set(new Lt(K)),Te}(K.buffer):K.buffer;return new K.constructor(Ae,K.byteOffset,K.length)}(Yn,!0)):Lr=[]:function O(K){if(!re(K)||ln(K)!=ue)return!1;var Te=tn(K);if(null===Te)return!0;var Ae=Qe.call(Te,"constructor")&&Te.constructor;return"function"==typeof Ae&&Ae instanceof Ae&&Re.call(Ae)==yt}(Yn)||ks(Yn)?(Lr=_n,ks(_n)?Lr=function G(K){return function ot(K,Te,Ae,at){var qt=!Ae;Ae||(Ae={});for(var hn=-1,an=Te.length;++hn<an;){var _n=Te[hn],Yn=at?at(Ae[_n],K[_n],_n,Ae,K):void 0;void 0===Yn&&(Yn=K[_n]),qt?En(Ae,_n,Yn):en(Ae,_n,Yn)}return Ae}(K,le(K))}(_n):(!Ce(_n)||Go(_n))&&(Lr=function ui(K){return"function"!=typeof K.constructor||Aa(K)?{}:zt(tn(K))}(Yn))):Ji=!1}Ji&&(an.set(Yn,Lr),qt(Lr,Yn,at,hn,an),an.delete(Yn)),$t(K,Ae,Lr)}}(K,Te,an,Ae,Ir,at,qt);else{var _n=at?at(Rs(K,an),hn,an+"",K,Te,qt):void 0;void 0===_n&&(_n=hn),$t(K,an,_n)}},le)}function Fi(K,Te){return Di(function oa(K,Te,Ae){return Te=Dn(void 0===Te?K.length-1:Te,0),function(){for(var at=arguments,qt=-1,hn=Dn(at.length-Te,0),an=Array(hn);++qt<hn;)an[qt]=at[Te+qt];qt=-1;for(var _n=Array(Te+1);++qt<Te;)_n[qt]=at[qt];return _n[Te]=Ae(an),ki(K,this,_n)}}(K,Te,Ee),K+"")}var ur=Ht?function(K,Te){return Ht(K,"toString",{configurable:!0,enumerable:!1,value:he(Te),writable:!0})}:Ee;function Yt(K,Te,Ae,at,qt,hn){return Ce(K)&&Ce(Te)&&(hn.set(Te,K),Ir(K,Te,void 0,Yt,hn),hn.delete(Te)),K}function sr(K,Te){var Ae=K.__data__;return function Ns(K){var Te=typeof K;return"string"==Te||"number"==Te||"symbol"==Te||"boolean"==Te?"__proto__"!==K:null===K}(Te)?Ae["string"==typeof Te?"string":"hash"]:Ae.map}function Mr(K,Te){var Ae=function Br(K,Te){return null==K?void 0:K[Te]}(K,Te);return function br(K){return!(!Ce(K)||function Li(K){return!!ct&&ct in K}(K))&&(Go(K)?kt:wt).test(function xc(K){if(null!=K){try{return Re.call(K)}catch(Te){}try{return K+""}catch(Te){}}return""}(K))}(Ae)?Ae:void 0}function rs(K,Te){var Ae=typeof K;return!!(Te=null==Te?P:Te)&&("number"==Ae||"symbol"!=Ae&&mt.test(K))&&K>-1&&K%1==0&&K<Te}function Aa(K){var Te=K&&K.constructor;return K===("function"==typeof Te&&Te.prototype||Vr)}function Rs(K,Te){if(("constructor"!==Te||"function"!=typeof K[Te])&&"__proto__"!=Te)return K[Te]}var Di=function ys(K){var Te=0,Ae=0;return function(){var at=Tt(),qt=16-(at-Ae);if(Ae=at,qt>0){if(++Te>=800)return arguments[0]}else Te=0;return K.apply(void 0,arguments)}}(ur);function vs(K,Te){return K===Te||K!=K&&Te!=Te}var ks=Rn(function(){return arguments}())?Rn:function(K){return re(K)&&Qe.call(K,"callee")&&!Mn.call(K,"callee")},jo=Array.isArray;function is(K){return null!=K&&ce(K.length)&&!Go(K)}var Pa=vr||function We(){return!1};function Go(K){if(!Ce(K))return!1;var Te=ln(K);return Te==ae||"[object GeneratorFunction]"==Te||"[object AsyncFunction]"==Te||"[object Proxy]"==Te}function ce(K){return"number"==typeof K&&K>-1&&K%1==0&&K<=P}function Ce(K){var Te=typeof K;return null!=K&&("object"==Te||"function"==Te)}function re(K){return null!=K&&"object"==typeof K}var B=xr?function Fr(K){return function(Te){return K(Te)}}(xr):function Zn(K){return re(K)&&ce(K.length)&&!!xt[ln(K)]},Z=Fi(function(K){return K.push(void 0,Yt),ki(_e,void 0,K)});function le(K){return is(K)?function bt(K,Te){var Ae=jo(K),at=!Ae&&ks(K),qt=!Ae&&!at&&Pa(K),hn=!Ae&&!at&&!qt&&B(K),an=Ae||at||qt||hn,_n=an?function wi(K,Te){for(var Ae=-1,at=Array(K);++Ae<K;)at[Ae]=Te(Ae);return at}(K.length,String):[],Yn=_n.length;for(var Zr in K)(Te||Qe.call(K,Zr))&&(!an||!("length"==Zr||qt&&("offset"==Zr||"parent"==Zr)||hn&&("buffer"==Zr||"byteLength"==Zr||"byteOffset"==Zr)||rs(Zr,Yn)))&&_n.push(Zr);return _n}(K,!0):function Ar(K){if(!Ce(K))return function Ia(K){var Te=[];if(null!=K)for(var Ae in Object(K))Te.push(Ae);return Te}(K);var Te=Aa(K),Ae=[];for(var at in K)"constructor"==at&&(Te||!Qe.call(K,at))||Ae.push(at);return Ae}(K)}var _e=function St(K){return Fi(function(Te,Ae){var at=-1,qt=Ae.length,hn=qt>1?Ae[qt-1]:void 0,an=qt>2?Ae[2]:void 0;for(hn=K.length>3&&"function"==typeof hn?(qt--,hn):void 0,an&&function qr(K,Te,Ae){if(!Ce(Ae))return!1;var at=typeof Te;return!!("number"==at?is(Ae)&&rs(Te,Ae.length):"string"==at&&Te in Ae)&&vs(Ae[Te],K)}(Ae[0],Ae[1],an)&&(hn=qt<3?void 0:hn,qt=1),Te=Object(Te);++at<qt;){var _n=Ae[at];_n&&K(Te,_n,at,hn)}return Te})}(function(K,Te,Ae,at){Ir(K,Te,Ae,at)});function he(K){return function(){return K}}function Ee(K){return K}nt.exports=Z},8306:(nt,A,M)=>{"use strict";M.d(A,{y:()=>W});var t=M(930),C=M(727),E=M(8822),N=M(4671);var $=M(2416),z=M(576),J=M(2806);let W=(()=>{class $e{constructor(ut){ut&&(this._subscribe=ut)}lift(ut){const ue=new $e;return ue.source=this,ue.operator=ut,ue}subscribe(ut,ue,Me){const De=function Je($e){return $e&&$e instanceof t.Lv||function ae($e){return $e&&(0,z.m)($e.next)&&(0,z.m)($e.error)&&(0,z.m)($e.complete)}($e)&&(0,C.Nn)($e)}(ut)?ut:new t.Hp(ut,ue,Me);return(0,J.x)(()=>{const{operator:rt,source:Be}=this;De.add(rt?rt.call(De,Be):Be?this._subscribe(De):this._trySubscribe(De))}),De}_trySubscribe(ut){try{return this._subscribe(ut)}catch(ue){ut.error(ue)}}forEach(ut,ue){return new(ue=ne(ue))((Me,De)=>{const rt=new t.Hp({next:Be=>{try{ut(Be)}catch(qe){De(qe),rt.unsubscribe()}},error:De,complete:Me});this.subscribe(rt)})}_subscribe(ut){var ue;return null===(ue=this.source)||void 0===ue?void 0:ue.subscribe(ut)}[E.L](){return this}pipe(...ut){return function j($e){return 0===$e.length?N.y:1===$e.length?$e[0]:function(ut){return $e.reduce((ue,Me)=>Me(ue),ut)}}(ut)(this)}toPromise(ut){return new(ut=ne(ut))((ue,Me)=>{let De;this.subscribe(rt=>De=rt,rt=>Me(rt),()=>ue(De))})}}return $e.create=Ge=>new $e(Ge),$e})();function ne($e){var Ge;return null!==(Ge=null!=$e?$e:$.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(nt,A,M)=>{"use strict";M.d(A,{x:()=>$});var t=M(8306),C=M(727);const N=(0,M(3888).d)(J=>function(){J(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var P=M(8737),j=M(2806);let $=(()=>{class J extends t.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ae=new z(this,this);return ae.operator=ne,ae}_throwIfClosed(){if(this.closed)throw new N}next(ne){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ae of this.currentObservers)ae.next(ne)}})}error(ne){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ae}=this;for(;ae.length;)ae.shift().error(ne)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ae,isStopped:Je,observers:$e}=this;return ae||Je?C.Lc:(this.currentObservers=null,$e.push(ne),new C.w0(()=>{this.currentObservers=null,(0,P.P)($e,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ae,thrownError:Je,isStopped:$e}=this;ae?ne.error(Je):$e&&ne.complete()}asObservable(){const ne=new t.y;return ne.source=this,ne}}return J.create=(W,ne)=>new z(W,ne),J})();class z extends ${constructor(W,ne){super(),this.destination=W,this.source=ne}next(W){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ae||ae.call(ne,W)}error(W){var ne,ae;null===(ae=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ae||ae.call(ne,W)}complete(){var W,ne;null===(ne=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===ne||ne.call(W)}_subscribe(W){var ne,ae;return null!==(ae=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(W))&&void 0!==ae?ae:C.Lc}}},930:(nt,A,M)=>{"use strict";M.d(A,{Hp:()=>ut,Lv:()=>ae});var t=M(576),C=M(727),E=M(2416),N=M(7849),P=M(5032);const j=J("C",void 0,void 0);function J(Be,qe,we){return{kind:Be,value:qe,error:we}}var W=M(3410),ne=M(2806);class ae extends C.w0{constructor(qe){super(),this.isStopped=!1,qe?(this.destination=qe,(0,C.Nn)(qe)&&qe.add(this)):this.destination=rt}static create(qe,we,He){return new ut(qe,we,He)}next(qe){this.isStopped?De(function z(Be){return J("N",Be,void 0)}(qe),this):this._next(qe)}error(qe){this.isStopped?De(function $(Be){return J("E",void 0,Be)}(qe),this):(this.isStopped=!0,this._error(qe))}complete(){this.isStopped?De(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(qe){this.destination.next(qe)}_error(qe){try{this.destination.error(qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Je=Function.prototype.bind;function $e(Be,qe){return Je.call(Be,qe)}class Ge{constructor(qe){this.partialObserver=qe}next(qe){const{partialObserver:we}=this;if(we.next)try{we.next(qe)}catch(He){ue(He)}}error(qe){const{partialObserver:we}=this;if(we.error)try{we.error(qe)}catch(He){ue(He)}else ue(qe)}complete(){const{partialObserver:qe}=this;if(qe.complete)try{qe.complete()}catch(we){ue(we)}}}class ut extends ae{constructor(qe,we,He){let Ie;if(super(),(0,t.m)(qe)||!qe)Ie={next:null!=qe?qe:void 0,error:null!=we?we:void 0,complete:null!=He?He:void 0};else{let it;this&&E.v.useDeprecatedNextContext?(it=Object.create(qe),it.unsubscribe=()=>this.unsubscribe(),Ie={next:qe.next&&$e(qe.next,it),error:qe.error&&$e(qe.error,it),complete:qe.complete&&$e(qe.complete,it)}):Ie=qe}this.destination=new Ge(Ie)}}function ue(Be){E.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Be):(0,N.h)(Be)}function De(Be,qe){const{onStoppedNotification:we}=E.v;we&&W.z.setTimeout(()=>we(Be,qe))}const rt={closed:!0,next:P.Z,error:function Me(Be){throw Be},complete:P.Z}},727:(nt,A,M)=>{"use strict";M.d(A,{Lc:()=>j,w0:()=>P,Nn:()=>$});var t=M(576);const E=(0,M(3888).d)(J=>function(ne){J(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ae,Je)=>`${Je+1}) ${ae.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var N=M(8737);class P{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const $e of ne)$e.remove(this);else ne.remove(this);const{initialTeardown:ae}=this;if((0,t.m)(ae))try{ae()}catch($e){W=$e instanceof E?$e.errors:[$e]}const{_finalizers:Je}=this;if(Je){this._finalizers=null;for(const $e of Je)try{z($e)}catch(Ge){W=null!=W?W:[],Ge instanceof E?W=[...W,...Ge.errors]:W.push(Ge)}}if(W)throw new E(W)}}add(W){var ne;if(W&&W!==this)if(this.closed)z(W);else{if(W instanceof P){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(W)}}_hasParent(W){const{_parentage:ne}=this;return ne===W||Array.isArray(ne)&&ne.includes(W)}_addParent(W){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(W),ne):ne?[ne,W]:W}_removeParent(W){const{_parentage:ne}=this;ne===W?this._parentage=null:Array.isArray(ne)&&(0,N.P)(ne,W)}remove(W){const{_finalizers:ne}=this;ne&&(0,N.P)(ne,W),W instanceof P&&W._removeParent(this)}}P.EMPTY=(()=>{const J=new P;return J.closed=!0,J})();const j=P.EMPTY;function $(J){return J instanceof P||J&&"closed"in J&&(0,t.m)(J.remove)&&(0,t.m)(J.add)&&(0,t.m)(J.unsubscribe)}function z(J){(0,t.m)(J)?J():J.unsubscribe()}},2416:(nt,A,M)=>{"use strict";M.d(A,{v:()=>t});const t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(nt,A,M)=>{"use strict";M.d(A,{E:()=>C});const C=new(M(8306).y)(P=>P.complete())},8996:(nt,A,M)=>{"use strict";M.d(A,{D:()=>qe});var t=M(8421),C=M(5363),E=M(9468),j=M(8306),z=M(2202),J=M(576),W=M(9672);function ae(we,He){if(!we)throw new Error("Iterable cannot be null");return new j.y(Ie=>{(0,W.f)(Ie,He,()=>{const it=we[Symbol.asyncIterator]();(0,W.f)(Ie,He,()=>{it.next().then(se=>{se.done?Ie.complete():Ie.next(se.value)})},0,!0)})})}var Je=M(3670),$e=M(8239),Ge=M(1144),ut=M(6495),ue=M(2206),Me=M(4532),De=M(3260);function qe(we,He){return He?function Be(we,He){if(null!=we){if((0,Je.c)(we))return function N(we,He){return(0,t.Xf)(we).pipe((0,E.R)(He),(0,C.Q)(He))}(we,He);if((0,Ge.z)(we))return function $(we,He){return new j.y(Ie=>{let it=0;return He.schedule(function(){it===we.length?Ie.complete():(Ie.next(we[it++]),Ie.closed||this.schedule())})})}(we,He);if((0,$e.t)(we))return function P(we,He){return(0,t.Xf)(we).pipe((0,E.R)(He),(0,C.Q)(He))}(we,He);if((0,ue.D)(we))return ae(we,He);if((0,ut.T)(we))return function ne(we,He){return new j.y(Ie=>{let it;return(0,W.f)(Ie,He,()=>{it=we[z.h](),(0,W.f)(Ie,He,()=>{let se,oe;try{({value:se,done:oe}=it.next())}catch(Q){return void Ie.error(Q)}oe?Ie.complete():Ie.next(se)},0,!0)}),()=>(0,J.m)(null==it?void 0:it.return)&&it.return()})}(we,He);if((0,De.L)(we))return function rt(we,He){return ae((0,De.Q)(we),He)}(we,He)}throw(0,Me.z)(we)}(we,He):(0,t.Xf)(we)}},8421:(nt,A,M)=>{"use strict";M.d(A,{Xf:()=>Je});var t=M(655),C=M(1144),E=M(8239),N=M(8306),P=M(3670),j=M(2206),$=M(4532),z=M(6495),J=M(3260),W=M(576),ne=M(7849),ae=M(8822);function Je(Be){if(Be instanceof N.y)return Be;if(null!=Be){if((0,P.c)(Be))return function $e(Be){return new N.y(qe=>{const we=Be[ae.L]();if((0,W.m)(we.subscribe))return we.subscribe(qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Be);if((0,C.z)(Be))return function Ge(Be){return new N.y(qe=>{for(let we=0;we<Be.length&&!qe.closed;we++)qe.next(Be[we]);qe.complete()})}(Be);if((0,E.t)(Be))return function ut(Be){return new N.y(qe=>{Be.then(we=>{qe.closed||(qe.next(we),qe.complete())},we=>qe.error(we)).then(null,ne.h)})}(Be);if((0,j.D)(Be))return Me(Be);if((0,z.T)(Be))return function ue(Be){return new N.y(qe=>{for(const we of Be)if(qe.next(we),qe.closed)return;qe.complete()})}(Be);if((0,J.L)(Be))return function De(Be){return Me((0,J.Q)(Be))}(Be)}throw(0,$.z)(Be)}function Me(Be){return new N.y(qe=>{(function rt(Be,qe){var we,He,Ie,it;return(0,t.mG)(this,void 0,void 0,function*(){try{for(we=(0,t.KL)(Be);!(He=yield we.next()).done;)if(qe.next(He.value),qe.closed)return}catch(se){Ie={error:se}}finally{try{He&&!He.done&&(it=we.return)&&(yield it.call(we))}finally{if(Ie)throw Ie.error}}qe.complete()})})(Be,qe).catch(we=>qe.error(we))})}},6451:(nt,A,M)=>{"use strict";M.d(A,{T:()=>j});var t=M(8189),C=M(8421),E=M(515),N=M(3269),P=M(8996);function j(...$){const z=(0,N.yG)($),J=(0,N._6)($,1/0),W=$;return W.length?1===W.length?(0,C.Xf)(W[0]):(0,t.J)(J)((0,P.D)(W,z)):E.E}},9646:(nt,A,M)=>{"use strict";M.d(A,{of:()=>E});var t=M(3269),C=M(8996);function E(...N){const P=(0,t.yG)(N);return(0,C.D)(N,P)}},5403:(nt,A,M)=>{"use strict";M.d(A,{x:()=>C});var t=M(930);function C(N,P,j,$,z){return new E(N,P,j,$,z)}class E extends t.Lv{constructor(P,j,$,z,J,W){super(P),this.onFinalize=J,this.shouldUnsubscribe=W,this._next=j?function(ne){try{j(ne)}catch(ae){P.error(ae)}}:super._next,this._error=z?function(ne){try{z(ne)}catch(ae){P.error(ae)}finally{this.unsubscribe()}}:super._error,this._complete=$?function(){try{$()}catch(ne){P.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var P;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(P=this.onFinalize)||void 0===P||P.call(this))}}}},4004:(nt,A,M)=>{"use strict";M.d(A,{U:()=>E});var t=M(4482),C=M(5403);function E(N,P){return(0,t.e)((j,$)=>{let z=0;j.subscribe((0,C.x)($,J=>{$.next(N.call(P,J,z++))}))})}},8189:(nt,A,M)=>{"use strict";M.d(A,{J:()=>E});var t=M(5577),C=M(4671);function E(N=1/0){return(0,t.z)(C.y,N)}},5577:(nt,A,M)=>{"use strict";M.d(A,{z:()=>z});var t=M(4004),C=M(8421),E=M(4482),N=M(9672),P=M(5403),$=M(576);function z(J,W,ne=1/0){return(0,$.m)(W)?z((ae,Je)=>(0,t.U)(($e,Ge)=>W(ae,$e,Je,Ge))((0,C.Xf)(J(ae,Je))),ne):("number"==typeof W&&(ne=W),(0,E.e)((ae,Je)=>function j(J,W,ne,ae,Je,$e,Ge,ut){const ue=[];let Me=0,De=0,rt=!1;const Be=()=>{rt&&!ue.length&&!Me&&W.complete()},qe=He=>Me<ae?we(He):ue.push(He),we=He=>{$e&&W.next(He),Me++;let Ie=!1;(0,C.Xf)(ne(He,De++)).subscribe((0,P.x)(W,it=>{null==Je||Je(it),$e?qe(it):W.next(it)},()=>{Ie=!0},void 0,()=>{if(Ie)try{for(Me--;ue.length&&Me<ae;){const it=ue.shift();Ge?(0,N.f)(W,Ge,()=>we(it)):we(it)}Be()}catch(it){W.error(it)}}))};return J.subscribe((0,P.x)(W,qe,()=>{rt=!0,Be()})),()=>{null==ut||ut()}}(ae,Je,J,ne)))}},5363:(nt,A,M)=>{"use strict";M.d(A,{Q:()=>N});var t=M(9672),C=M(4482),E=M(5403);function N(P,j=0){return(0,C.e)(($,z)=>{$.subscribe((0,E.x)(z,J=>(0,t.f)(z,P,()=>z.next(J),j),()=>(0,t.f)(z,P,()=>z.complete(),j),J=>(0,t.f)(z,P,()=>z.error(J),j)))})}},3099:(nt,A,M)=>{"use strict";M.d(A,{B:()=>j});var t=M(8996),C=M(5698),E=M(7579),N=M(930),P=M(4482);function j(z={}){const{connector:J=(()=>new E.x),resetOnError:W=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ae=!0}=z;return Je=>{let $e=null,Ge=null,ut=null,ue=0,Me=!1,De=!1;const rt=()=>{null==Ge||Ge.unsubscribe(),Ge=null},Be=()=>{rt(),$e=ut=null,Me=De=!1},qe=()=>{const we=$e;Be(),null==we||we.unsubscribe()};return(0,P.e)((we,He)=>{ue++,!De&&!Me&&rt();const Ie=ut=null!=ut?ut:J();He.add(()=>{ue--,0===ue&&!De&&!Me&&(Ge=$(qe,ae))}),Ie.subscribe(He),$e||($e=new N.Hp({next:it=>Ie.next(it),error:it=>{De=!0,rt(),Ge=$(Be,W,it),Ie.error(it)},complete:()=>{Me=!0,rt(),Ge=$(Be,ne),Ie.complete()}}),(0,t.D)(we).subscribe($e))})(Je)}}function $(z,J,...W){return!0===J?(z(),null):!1===J?null:J(...W).pipe((0,C.q)(1)).subscribe(()=>z())}},9468:(nt,A,M)=>{"use strict";M.d(A,{R:()=>C});var t=M(4482);function C(E,N=0){return(0,t.e)((P,j)=>{j.add(E.schedule(()=>P.subscribe(j),N))})}},5698:(nt,A,M)=>{"use strict";M.d(A,{q:()=>N});var t=M(515),C=M(4482),E=M(5403);function N(P){return P<=0?()=>t.E:(0,C.e)((j,$)=>{let z=0;j.subscribe((0,E.x)($,J=>{++z<=P&&($.next(J),P<=z&&$.complete())}))})}},8505:(nt,A,M)=>{"use strict";M.d(A,{b:()=>P});var t=M(576),C=M(4482),E=M(5403),N=M(4671);function P(j,$,z){const J=(0,t.m)(j)||$||z?{next:j,error:$,complete:z}:j;return J?(0,C.e)((W,ne)=>{var ae;null===(ae=J.subscribe)||void 0===ae||ae.call(J);let Je=!0;W.subscribe((0,E.x)(ne,$e=>{var Ge;null===(Ge=J.next)||void 0===Ge||Ge.call(J,$e),ne.next($e)},()=>{var $e;Je=!1,null===($e=J.complete)||void 0===$e||$e.call(J),ne.complete()},$e=>{var Ge;Je=!1,null===(Ge=J.error)||void 0===Ge||Ge.call(J,$e),ne.error($e)},()=>{var $e,Ge;Je&&(null===($e=J.unsubscribe)||void 0===$e||$e.call(J)),null===(Ge=J.finalize)||void 0===Ge||Ge.call(J)}))}):N.y}},4408:(nt,A,M)=>{"use strict";M.d(A,{o:()=>P});var t=M(727);class C extends t.w0{constructor($,z){super()}schedule($,z=0){return this}}const E={setInterval(j,$,...z){const{delegate:J}=E;return(null==J?void 0:J.setInterval)?J.setInterval(j,$,...z):setInterval(j,$,...z)},clearInterval(j){const{delegate:$}=E;return((null==$?void 0:$.clearInterval)||clearInterval)(j)},delegate:void 0};var N=M(8737);class P extends C{constructor($,z){super($,z),this.scheduler=$,this.work=z,this.pending=!1}schedule($,z=0){if(this.closed)return this;this.state=$;const J=this.id,W=this.scheduler;return null!=J&&(this.id=this.recycleAsyncId(W,J,z)),this.pending=!0,this.delay=z,this.id=this.id||this.requestAsyncId(W,this.id,z),this}requestAsyncId($,z,J=0){return E.setInterval($.flush.bind($,this),J)}recycleAsyncId($,z,J=0){if(null!=J&&this.delay===J&&!1===this.pending)return z;E.clearInterval(z)}execute($,z){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const J=this._execute($,z);if(J)return J;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute($,z){let W,J=!1;try{this.work($)}catch(ne){J=!0,W=ne||new Error("Scheduled action threw falsy error")}if(J)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:$,scheduler:z}=this,{actions:J}=z;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(J,this),null!=$&&(this.id=this.recycleAsyncId(z,$,null)),this.delay=null,super.unsubscribe()}}}},7565:(nt,A,M)=>{"use strict";M.d(A,{v:()=>E});var t=M(6063);class C{constructor(P,j=C.now){this.schedulerActionCtor=P,this.now=j}schedule(P,j=0,$){return new this.schedulerActionCtor(this,P).schedule($,j)}}C.now=t.l.now;class E extends C{constructor(P,j=C.now){super(P,j),this.actions=[],this._active=!1,this._scheduled=void 0}flush(P){const{actions:j}=this;if(this._active)return void j.push(P);let $;this._active=!0;do{if($=P.execute(P.state,P.delay))break}while(P=j.shift());if(this._active=!1,$){for(;P=j.shift();)P.unsubscribe();throw $}}}},4986:(nt,A,M)=>{"use strict";M.d(A,{P:()=>N,z:()=>E});var t=M(4408);const E=new(M(7565).v)(t.o),N=E},6063:(nt,A,M)=>{"use strict";M.d(A,{l:()=>t});const t={now:()=>(t.delegate||Date).now(),delegate:void 0}},3410:(nt,A,M)=>{"use strict";M.d(A,{z:()=>t});const t={setTimeout(C,E,...N){const{delegate:P}=t;return(null==P?void 0:P.setTimeout)?P.setTimeout(C,E,...N):setTimeout(C,E,...N)},clearTimeout(C){const{delegate:E}=t;return((null==E?void 0:E.clearTimeout)||clearTimeout)(C)},delegate:void 0}},2202:(nt,A,M)=>{"use strict";M.d(A,{h:()=>C});const C=function t(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(nt,A,M)=>{"use strict";M.d(A,{L:()=>t});const t="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(nt,A,M)=>{"use strict";M.d(A,{_6:()=>j,jO:()=>N,yG:()=>P});var t=M(576),C=M(3532);function E($){return $[$.length-1]}function N($){return(0,t.m)(E($))?$.pop():void 0}function P($){return(0,C.K)(E($))?$.pop():void 0}function j($,z){return"number"==typeof E($)?$.pop():z}},8737:(nt,A,M)=>{"use strict";function t(C,E){if(C){const N=C.indexOf(E);0<=N&&C.splice(N,1)}}M.d(A,{P:()=>t})},3888:(nt,A,M)=>{"use strict";function t(C){const N=C(P=>{Error.call(P),P.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}M.d(A,{d:()=>t})},2806:(nt,A,M)=>{"use strict";M.d(A,{O:()=>N,x:()=>E});var t=M(2416);let C=null;function E(P){if(t.v.useDeprecatedSynchronousErrorHandling){const j=!C;if(j&&(C={errorThrown:!1,error:null}),P(),j){const{errorThrown:$,error:z}=C;if(C=null,$)throw z}}else P()}function N(P){t.v.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=P)}},9672:(nt,A,M)=>{"use strict";function t(C,E,N,P=0,j=!1){const $=E.schedule(function(){N(),j?C.add(this.schedule(null,P)):this.unsubscribe()},P);if(C.add($),!j)return $}M.d(A,{f:()=>t})},4671:(nt,A,M)=>{"use strict";function t(C){return C}M.d(A,{y:()=>t})},1144:(nt,A,M)=>{"use strict";M.d(A,{z:()=>t});const t=C=>C&&"number"==typeof C.length&&"function"!=typeof C},2206:(nt,A,M)=>{"use strict";M.d(A,{D:()=>C});var t=M(576);function C(E){return Symbol.asyncIterator&&(0,t.m)(null==E?void 0:E[Symbol.asyncIterator])}},576:(nt,A,M)=>{"use strict";function t(C){return"function"==typeof C}M.d(A,{m:()=>t})},3670:(nt,A,M)=>{"use strict";M.d(A,{c:()=>E});var t=M(8822),C=M(576);function E(N){return(0,C.m)(N[t.L])}},6495:(nt,A,M)=>{"use strict";M.d(A,{T:()=>E});var t=M(2202),C=M(576);function E(N){return(0,C.m)(null==N?void 0:N[t.h])}},8239:(nt,A,M)=>{"use strict";M.d(A,{t:()=>C});var t=M(576);function C(E){return(0,t.m)(null==E?void 0:E.then)}},3260:(nt,A,M)=>{"use strict";M.d(A,{L:()=>N,Q:()=>E});var t=M(655),C=M(576);function E(P){return(0,t.FC)(this,arguments,function*(){const $=P.getReader();try{for(;;){const{value:z,done:J}=yield(0,t.qq)($.read());if(J)return yield(0,t.qq)(void 0);yield yield(0,t.qq)(z)}}finally{$.releaseLock()}})}function N(P){return(0,C.m)(null==P?void 0:P.getReader)}},3532:(nt,A,M)=>{"use strict";M.d(A,{K:()=>C});var t=M(576);function C(E){return E&&(0,t.m)(E.schedule)}},4482:(nt,A,M)=>{"use strict";M.d(A,{A:()=>C,e:()=>E});var t=M(576);function C(N){return(0,t.m)(null==N?void 0:N.lift)}function E(N){return P=>{if(C(P))return P.lift(function(j){try{return N(j,this)}catch($){this.error($)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(nt,A,M)=>{"use strict";function t(){}M.d(A,{Z:()=>t})},7849:(nt,A,M)=>{"use strict";M.d(A,{h:()=>E});var t=M(2416),C=M(3410);function E(N){C.z.setTimeout(()=>{const{onUnhandledError:P}=t.v;if(!P)throw N;P(N)})}},4532:(nt,A,M)=>{"use strict";function t(C){return new TypeError(`You provided ${null!==C&&"object"==typeof C?"an invalid object":`'${C}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}M.d(A,{z:()=>t})},8583:()=>{"use strict";!function(Re){const Qe=Re.performance;function ct(Sn){Qe&&Qe.mark&&Qe.mark(Sn)}function Xe(Sn,rn){Qe&&Qe.measure&&Qe.measure(Sn,rn)}ct("Zone");const yt=Re.__Zone_symbol_prefix||"__zone_symbol__";function kt(Sn){return yt+Sn}const Pt=!0===Re[kt("forceDuplicateZoneCheck")];if(Re.Zone){if(Pt||"function"!=typeof Re.Zone.__symbol__)throw new Error("Zone already loaded.");return Re.Zone}let Ct=(()=>{class Sn{constructor(Le,st){this._parent=Le,this._name=st?st.name||"unnamed":"<root>",this._properties=st&&st.properties||{},this._zoneDelegate=new mn(this,this._parent&&this._parent._zoneDelegate,st)}static assertZonePatched(){if(Re.Promise!==Tn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Le=Sn.current;for(;Le.parent;)Le=Le.parent;return Le}static get current(){return ir.zone}static get currentTask(){return Gn}static __load_patch(Le,st,un=!1){if(Tn.hasOwnProperty(Le)){if(!un&&Pt)throw Error("Already loaded patch: "+Le)}else if(!Re["__Zone_disable_"+Le]){const Ln="Zone:"+Le;ct(Ln),Tn[Le]=st(Re,Sn,On),Xe(Ln,Ln)}}get parent(){return this._parent}get name(){return this._name}get(Le){const st=this.getZoneWith(Le);if(st)return st._properties[Le]}getZoneWith(Le){let st=this;for(;st;){if(st._properties.hasOwnProperty(Le))return st;st=st._parent}return null}fork(Le){if(!Le)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Le)}wrap(Le,st){if("function"!=typeof Le)throw new Error("Expecting function got: "+Le);const un=this._zoneDelegate.intercept(this,Le,st),Ln=this;return function(){return Ln.runGuarded(un,this,arguments,st)}}run(Le,st,un,Ln){ir={parent:ir,zone:this};try{return this._zoneDelegate.invoke(this,Le,st,un,Ln)}finally{ir=ir.parent}}runGuarded(Le,st=null,un,Ln){ir={parent:ir,zone:this};try{try{return this._zoneDelegate.invoke(this,Le,st,un,Ln)}catch(or){if(this._zoneDelegate.handleError(this,or))throw or}}finally{ir=ir.parent}}runTask(Le,st,un){if(Le.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Le.zone||Vt).name+"; Execution: "+this.name+")");if(Le.state===zt&&(Le.type===Nt||Le.type===ke))return;const Ln=Le.state!=be;Ln&&Le._transitionTo(be,yn),Le.runCount++;const or=Gn;Gn=Le,ir={parent:ir,zone:this};try{Le.type==ke&&Le.data&&!Le.data.isPeriodic&&(Le.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Le,st,un)}catch(jt){if(this._zoneDelegate.handleError(this,jt))throw jt}}finally{Le.state!==zt&&Le.state!==me&&(Le.type==Nt||Le.data&&Le.data.isPeriodic?Ln&&Le._transitionTo(yn,be):(Le.runCount=0,this._updateTaskCount(Le,-1),Ln&&Le._transitionTo(zt,be,zt))),ir=ir.parent,Gn=or}}scheduleTask(Le){if(Le.zone&&Le.zone!==this){let un=this;for(;un;){if(un===Le.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Le.zone.name}`);un=un.parent}}Le._transitionTo(In,zt);const st=[];Le._zoneDelegates=st,Le._zone=this;try{Le=this._zoneDelegate.scheduleTask(this,Le)}catch(un){throw Le._transitionTo(me,In,zt),this._zoneDelegate.handleError(this,un),un}return Le._zoneDelegates===st&&this._updateTaskCount(Le,1),Le.state==In&&Le._transitionTo(yn,In),Le}scheduleMicroTask(Le,st,un,Ln){return this.scheduleTask(new tn(Ze,Le,st,un,Ln,void 0))}scheduleMacroTask(Le,st,un,Ln,or){return this.scheduleTask(new tn(ke,Le,st,un,Ln,or))}scheduleEventTask(Le,st,un,Ln,or){return this.scheduleTask(new tn(Nt,Le,st,un,Ln,or))}cancelTask(Le){if(Le.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Le.zone||Vt).name+"; Execution: "+this.name+")");Le._transitionTo(pe,yn,be);try{this._zoneDelegate.cancelTask(this,Le)}catch(st){throw Le._transitionTo(me,pe),this._zoneDelegate.handleError(this,st),st}return this._updateTaskCount(Le,-1),Le._transitionTo(zt,pe),Le.runCount=0,Le}_updateTaskCount(Le,st){const un=Le._zoneDelegates;-1==st&&(Le._zoneDelegates=null);for(let Ln=0;Ln<un.length;Ln++)un[Ln]._updateTaskCount(Le.type,st)}}return Sn.__symbol__=kt,Sn})();const Lt={name:"",onHasTask:(Sn,rn,Le,st)=>Sn.hasTask(Le,st),onScheduleTask:(Sn,rn,Le,st)=>Sn.scheduleTask(Le,st),onInvokeTask:(Sn,rn,Le,st,un,Ln)=>Sn.invokeTask(Le,st,un,Ln),onCancelTask:(Sn,rn,Le,st)=>Sn.cancelTask(Le,st)};class mn{constructor(rn,Le,st){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=rn,this._parentDelegate=Le,this._forkZS=st&&(st&&st.onFork?st:Le._forkZS),this._forkDlgt=st&&(st.onFork?Le:Le._forkDlgt),this._forkCurrZone=st&&(st.onFork?this.zone:Le._forkCurrZone),this._interceptZS=st&&(st.onIntercept?st:Le._interceptZS),this._interceptDlgt=st&&(st.onIntercept?Le:Le._interceptDlgt),this._interceptCurrZone=st&&(st.onIntercept?this.zone:Le._interceptCurrZone),this._invokeZS=st&&(st.onInvoke?st:Le._invokeZS),this._invokeDlgt=st&&(st.onInvoke?Le:Le._invokeDlgt),this._invokeCurrZone=st&&(st.onInvoke?this.zone:Le._invokeCurrZone),this._handleErrorZS=st&&(st.onHandleError?st:Le._handleErrorZS),this._handleErrorDlgt=st&&(st.onHandleError?Le:Le._handleErrorDlgt),this._handleErrorCurrZone=st&&(st.onHandleError?this.zone:Le._handleErrorCurrZone),this._scheduleTaskZS=st&&(st.onScheduleTask?st:Le._scheduleTaskZS),this._scheduleTaskDlgt=st&&(st.onScheduleTask?Le:Le._scheduleTaskDlgt),this._scheduleTaskCurrZone=st&&(st.onScheduleTask?this.zone:Le._scheduleTaskCurrZone),this._invokeTaskZS=st&&(st.onInvokeTask?st:Le._invokeTaskZS),this._invokeTaskDlgt=st&&(st.onInvokeTask?Le:Le._invokeTaskDlgt),this._invokeTaskCurrZone=st&&(st.onInvokeTask?this.zone:Le._invokeTaskCurrZone),this._cancelTaskZS=st&&(st.onCancelTask?st:Le._cancelTaskZS),this._cancelTaskDlgt=st&&(st.onCancelTask?Le:Le._cancelTaskDlgt),this._cancelTaskCurrZone=st&&(st.onCancelTask?this.zone:Le._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const un=st&&st.onHasTask;(un||Le&&Le._hasTaskZS)&&(this._hasTaskZS=un?st:Lt,this._hasTaskDlgt=Le,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=rn,st.onScheduleTask||(this._scheduleTaskZS=Lt,this._scheduleTaskDlgt=Le,this._scheduleTaskCurrZone=this.zone),st.onInvokeTask||(this._invokeTaskZS=Lt,this._invokeTaskDlgt=Le,this._invokeTaskCurrZone=this.zone),st.onCancelTask||(this._cancelTaskZS=Lt,this._cancelTaskDlgt=Le,this._cancelTaskCurrZone=this.zone))}fork(rn,Le){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,rn,Le):new Ct(rn,Le)}intercept(rn,Le,st){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,rn,Le,st):Le}invoke(rn,Le,st,un,Ln){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,rn,Le,st,un,Ln):Le.apply(st,un)}handleError(rn,Le){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,rn,Le)}scheduleTask(rn,Le){let st=Le;if(this._scheduleTaskZS)this._hasTaskZS&&st._zoneDelegates.push(this._hasTaskDlgtOwner),st=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,rn,Le),st||(st=Le);else if(Le.scheduleFn)Le.scheduleFn(Le);else{if(Le.type!=Ze)throw new Error("Task is missing scheduleFn.");Tt(Le)}return st}invokeTask(rn,Le,st,un){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,rn,Le,st,un):Le.callback.apply(st,un)}cancelTask(rn,Le){let st;if(this._cancelTaskZS)st=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,rn,Le);else{if(!Le.cancelFn)throw Error("Task is not cancelable");st=Le.cancelFn(Le)}return st}hasTask(rn,Le){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,rn,Le)}catch(st){this.handleError(rn,st)}}_updateTaskCount(rn,Le){const st=this._taskCounts,un=st[rn],Ln=st[rn]=un+Le;if(Ln<0)throw new Error("More tasks executed then were scheduled.");0!=un&&0!=Ln||this.hasTask(this.zone,{microTask:st.microTask>0,macroTask:st.macroTask>0,eventTask:st.eventTask>0,change:rn})}}class tn{constructor(rn,Le,st,un,Ln,or){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=rn,this.source=Le,this.data=un,this.scheduleFn=Ln,this.cancelFn=or,!st)throw new Error("callback is not defined");this.callback=st;const jt=this;this.invoke=rn===Nt&&un&&un.useG?tn.invokeTask:function(){return tn.invokeTask.call(Re,jt,this,arguments)}}static invokeTask(rn,Le,st){rn||(rn=this),nr++;try{return rn.runCount++,rn.zone.runTask(rn,Le,st)}finally{1==nr&&et(),nr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(zt,In)}_transitionTo(rn,Le,st){if(this._state!==Le&&this._state!==st)throw new Error(`${this.type} '${this.source}': can not transition to '${rn}', expecting state '${Le}'${st?" or '"+st+"'":""}, was '${this._state}'.`);this._state=rn,rn==zt&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Xt=kt("setTimeout"),Mn=kt("Promise"),Cn=kt("then");let vr,Wn=[],Ht=!1;function Dn(Sn){if(vr||Re[Mn]&&(vr=Re[Mn].resolve(0)),vr){let rn=vr[Cn];rn||(rn=vr.then),rn.call(vr,Sn)}else Re[Xt](Sn,0)}function Tt(Sn){0===nr&&0===Wn.length&&Dn(et),Sn&&Wn.push(Sn)}function et(){if(!Ht){for(Ht=!0;Wn.length;){const Sn=Wn;Wn=[];for(let rn=0;rn<Sn.length;rn++){const Le=Sn[rn];try{Le.zone.runTask(Le,null,null)}catch(st){On.onUnhandledError(st)}}}On.microtaskDrainDone(),Ht=!1}}const Vt={name:"NO ZONE"},zt="notScheduled",In="scheduling",yn="scheduled",be="running",pe="canceling",me="unknown",Ze="microTask",ke="macroTask",Nt="eventTask",Tn={},On={symbol:kt,currentZoneFrame:()=>ir,onUnhandledError:nn,microtaskDrainDone:nn,scheduleMicroTask:Tt,showUncaughtError:()=>!Ct[kt("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:nn,patchMethod:()=>nn,bindArguments:()=>[],patchThen:()=>nn,patchMacroTask:()=>nn,patchEventPrototype:()=>nn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>nn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>nn,wrapWithCurrentZone:()=>nn,filterProperties:()=>[],attachOriginToPatched:()=>nn,_redefineProperty:()=>nn,patchCallbacks:()=>nn,nativeScheduleMicroTask:Dn};let ir={parent:null,zone:new Ct(null,null)},Gn=null,nr=0;function nn(){}Xe("Zone","Zone"),Re.Zone=Ct}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const nt=Object.getOwnPropertyDescriptor,A=Object.defineProperty,M=Object.getPrototypeOf,t=Object.create,C=Array.prototype.slice,E="addEventListener",N="removeEventListener",P=Zone.__symbol__(E),j=Zone.__symbol__(N),$="true",z="false",J=Zone.__symbol__("");function W(Re,Qe){return Zone.current.wrap(Re,Qe)}function ne(Re,Qe,ct,Xe,yt){return Zone.current.scheduleMacroTask(Re,Qe,ct,Xe,yt)}const ae=Zone.__symbol__,Je="undefined"!=typeof window,$e=Je?window:void 0,Ge=Je&&$e||"object"==typeof self&&self||global;function ue(Re,Qe){for(let ct=Re.length-1;ct>=0;ct--)"function"==typeof Re[ct]&&(Re[ct]=W(Re[ct],Qe+"_"+ct));return Re}function De(Re){return!Re||!1!==Re.writable&&!("function"==typeof Re.get&&void 0===Re.set)}const rt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Be=!("nw"in Ge)&&void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process),qe=!Be&&!rt&&!(!Je||!$e.HTMLElement),we=void 0!==Ge.process&&"[object process]"==={}.toString.call(Ge.process)&&!rt&&!(!Je||!$e.HTMLElement),He={},Ie=function(Re){if(!(Re=Re||Ge.event))return;let Qe=He[Re.type];Qe||(Qe=He[Re.type]=ae("ON_PROPERTY"+Re.type));const ct=this||Re.target||Ge,Xe=ct[Qe];let yt;if(qe&&ct===$e&&"error"===Re.type){const kt=Re;yt=Xe&&Xe.call(this,kt.message,kt.filename,kt.lineno,kt.colno,kt.error),!0===yt&&Re.preventDefault()}else yt=Xe&&Xe.apply(this,arguments),null!=yt&&!yt&&Re.preventDefault();return yt};function it(Re,Qe,ct){let Xe=nt(Re,Qe);if(!Xe&&ct&&nt(ct,Qe)&&(Xe={enumerable:!0,configurable:!0}),!Xe||!Xe.configurable)return;const yt=ae("on"+Qe+"patched");if(Re.hasOwnProperty(yt)&&Re[yt])return;delete Xe.writable,delete Xe.value;const kt=Xe.get,Pt=Xe.set,Ct=Qe.substr(2);let Lt=He[Ct];Lt||(Lt=He[Ct]=ae("ON_PROPERTY"+Ct)),Xe.set=function(mn){let tn=this;!tn&&Re===Ge&&(tn=Ge),tn&&("function"==typeof tn[Lt]&&tn.removeEventListener(Ct,Ie),Pt&&Pt.call(tn,null),tn[Lt]=mn,"function"==typeof mn&&tn.addEventListener(Ct,Ie,!1))},Xe.get=function(){let mn=this;if(!mn&&Re===Ge&&(mn=Ge),!mn)return null;const tn=mn[Lt];if(tn)return tn;if(kt){let Xt=kt.call(this);if(Xt)return Xe.set.call(this,Xt),"function"==typeof mn.removeAttribute&&mn.removeAttribute(Qe),Xt}return null},A(Re,Qe,Xe),Re[yt]=!0}function se(Re,Qe,ct){if(Qe)for(let Xe=0;Xe<Qe.length;Xe++)it(Re,"on"+Qe[Xe],ct);else{const Xe=[];for(const yt in Re)"on"==yt.substr(0,2)&&Xe.push(yt);for(let yt=0;yt<Xe.length;yt++)it(Re,Xe[yt],ct)}}const oe=ae("originalInstance");function Q(Re){const Qe=Ge[Re];if(!Qe)return;Ge[ae(Re)]=Qe,Ge[Re]=function(){const yt=ue(arguments,Re);switch(yt.length){case 0:this[oe]=new Qe;break;case 1:this[oe]=new Qe(yt[0]);break;case 2:this[oe]=new Qe(yt[0],yt[1]);break;case 3:this[oe]=new Qe(yt[0],yt[1],yt[2]);break;case 4:this[oe]=new Qe(yt[0],yt[1],yt[2],yt[3]);break;default:throw new Error("Arg list too long.")}},de(Ge[Re],Qe);const ct=new Qe(function(){});let Xe;for(Xe in ct)"XMLHttpRequest"===Re&&"responseBlob"===Xe||function(yt){"function"==typeof ct[yt]?Ge[Re].prototype[yt]=function(){return this[oe][yt].apply(this[oe],arguments)}:A(Ge[Re].prototype,yt,{set:function(kt){"function"==typeof kt?(this[oe][yt]=W(kt,Re+"."+yt),de(this[oe][yt],kt)):this[oe][yt]=kt},get:function(){return this[oe][yt]}})}(Xe);for(Xe in Qe)"prototype"!==Xe&&Qe.hasOwnProperty(Xe)&&(Ge[Re][Xe]=Qe[Xe])}function ge(Re,Qe,ct){let Xe=Re;for(;Xe&&!Xe.hasOwnProperty(Qe);)Xe=M(Xe);!Xe&&Re[Qe]&&(Xe=Re);const yt=ae(Qe);let kt=null;if(Xe&&(!(kt=Xe[yt])||!Xe.hasOwnProperty(yt))&&(kt=Xe[yt]=Xe[Qe],De(Xe&&nt(Xe,Qe)))){const Ct=ct(kt,yt,Qe);Xe[Qe]=function(){return Ct(this,arguments)},de(Xe[Qe],kt)}return kt}function Pe(Re,Qe,ct){let Xe=null;function yt(kt){const Pt=kt.data;return Pt.args[Pt.cbIdx]=function(){kt.invoke.apply(this,arguments)},Xe.apply(Pt.target,Pt.args),kt}Xe=ge(Re,Qe,kt=>function(Pt,Ct){const Lt=ct(Pt,Ct);return Lt.cbIdx>=0&&"function"==typeof Ct[Lt.cbIdx]?ne(Lt.name,Ct[Lt.cbIdx],Lt,yt):kt.apply(Pt,Ct)})}function de(Re,Qe){Re[ae("OriginalDelegate")]=Qe}let gt=!1,Dt=!1;function wt(){if(gt)return Dt;gt=!0;try{const Re=$e.navigator.userAgent;(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/")||-1!==Re.indexOf("Edge/"))&&(Dt=!0)}catch(Re){}return Dt}Zone.__load_patch("ZoneAwarePromise",(Re,Qe,ct)=>{const Xe=Object.getOwnPropertyDescriptor,yt=Object.defineProperty,Pt=ct.symbol,Ct=[],Lt=!0===Re[Pt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],mn=Pt("Promise"),tn=Pt("then");ct.onUnhandledError=jt=>{if(ct.showUncaughtError()){const Bt=jt&&jt.rejection;Bt?console.error("Unhandled Promise rejection:",Bt instanceof Error?Bt.message:Bt,"; Zone:",jt.zone.name,"; Task:",jt.task&&jt.task.source,"; Value:",Bt,Bt instanceof Error?Bt.stack:void 0):console.error(jt)}},ct.microtaskDrainDone=()=>{for(;Ct.length;){const jt=Ct.shift();try{jt.zone.runGuarded(()=>{throw jt.throwOriginal?jt.rejection:jt})}catch(Bt){Cn(Bt)}}};const Mn=Pt("unhandledPromiseRejectionHandler");function Cn(jt){ct.onUnhandledError(jt);try{const Bt=Qe[Mn];"function"==typeof Bt&&Bt.call(this,jt)}catch(Bt){}}function Wn(jt){return jt&&jt.then}function Ht(jt){return jt}function vr(jt){return Le.reject(jt)}const Dn=Pt("state"),Tt=Pt("value"),et=Pt("finally"),Vt=Pt("parentPromiseValue"),zt=Pt("parentPromiseState"),yn=null,pe=!1;function Ze(jt,Bt){return je=>{try{On(jt,Bt,je)}catch(bt){On(jt,!1,bt)}}}const Tn=Pt("currentTaskTrace");function On(jt,Bt,je){const bt=function(){let jt=!1;return function(je){return function(){jt||(jt=!0,je.apply(null,arguments))}}}();if(jt===je)throw new TypeError("Promise resolved with itself");if(jt[Dn]===yn){let $t=null;try{("object"==typeof je||"function"==typeof je)&&($t=je&&je.then)}catch(en){return bt(()=>{On(jt,!1,en)})(),jt}if(Bt!==pe&&je instanceof Le&&je.hasOwnProperty(Dn)&&je.hasOwnProperty(Tt)&&je[Dn]!==yn)Gn(je),On(jt,je[Dn],je[Tt]);else if(Bt!==pe&&"function"==typeof $t)try{$t.call(je,bt(Ze(jt,Bt)),bt(Ze(jt,!1)))}catch(en){bt(()=>{On(jt,!1,en)})()}else{jt[Dn]=Bt;const en=jt[Tt];if(jt[Tt]=je,jt[et]===et&&!0===Bt&&(jt[Dn]=jt[zt],jt[Tt]=jt[Vt]),Bt===pe&&je instanceof Error){const sn=Qe.currentTask&&Qe.currentTask.data&&Qe.currentTask.data.__creationTrace__;sn&&yt(je,Tn,{configurable:!0,enumerable:!1,writable:!0,value:sn})}for(let sn=0;sn<en.length;)nr(jt,en[sn++],en[sn++],en[sn++],en[sn++]);if(0==en.length&&Bt==pe){jt[Dn]=0;let sn=je;try{throw new Error("Uncaught (in promise): "+function kt(jt){return jt&&jt.toString===Object.prototype.toString?(jt.constructor&&jt.constructor.name||"")+": "+JSON.stringify(jt):jt?jt.toString():Object.prototype.toString.call(jt)}(je)+(je&&je.stack?"\n"+je.stack:""))}catch(En){sn=En}Lt&&(sn.throwOriginal=!0),sn.rejection=je,sn.promise=jt,sn.zone=Qe.current,sn.task=Qe.currentTask,Ct.push(sn),ct.scheduleMicroTask()}}}return jt}const ir=Pt("rejectionHandledHandler");function Gn(jt){if(0===jt[Dn]){try{const Bt=Qe[ir];Bt&&"function"==typeof Bt&&Bt.call(this,{rejection:jt[Tt],promise:jt})}catch(Bt){}jt[Dn]=pe;for(let Bt=0;Bt<Ct.length;Bt++)jt===Ct[Bt].promise&&Ct.splice(Bt,1)}}function nr(jt,Bt,je,bt,$t){Gn(jt);const en=jt[Dn],sn=en?"function"==typeof bt?bt:Ht:"function"==typeof $t?$t:vr;Bt.scheduleMicroTask("Promise.then",()=>{try{const En=jt[Tt],Vn=!!je&&et===je[et];Vn&&(je[Vt]=En,je[zt]=en);const ln=Bt.run(sn,void 0,Vn&&sn!==vr&&sn!==Ht?[]:[En]);On(je,!0,ln)}catch(En){On(je,!1,En)}},je)}const Sn=function(){},rn=Re.AggregateError;class Le{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(Bt){return On(new this(null),!0,Bt)}static reject(Bt){return On(new this(null),pe,Bt)}static any(Bt){if(!Bt||"function"!=typeof Bt[Symbol.iterator])return Promise.reject(new rn([],"All promises were rejected"));const je=[];let bt=0;try{for(let sn of Bt)bt++,je.push(Le.resolve(sn))}catch(sn){return Promise.reject(new rn([],"All promises were rejected"))}if(0===bt)return Promise.reject(new rn([],"All promises were rejected"));let $t=!1;const en=[];return new Le((sn,En)=>{for(let Vn=0;Vn<je.length;Vn++)je[Vn].then(ln=>{$t||($t=!0,sn(ln))},ln=>{en.push(ln),bt--,0===bt&&($t=!0,En(new rn(en,"All promises were rejected")))})})}static race(Bt){let je,bt,$t=new this((En,Vn)=>{je=En,bt=Vn});function en(En){je(En)}function sn(En){bt(En)}for(let En of Bt)Wn(En)||(En=this.resolve(En)),En.then(en,sn);return $t}static all(Bt){return Le.allWithCallback(Bt)}static allSettled(Bt){return(this&&this.prototype instanceof Le?this:Le).allWithCallback(Bt,{thenCallback:bt=>({status:"fulfilled",value:bt}),errorCallback:bt=>({status:"rejected",reason:bt})})}static allWithCallback(Bt,je){let bt,$t,en=new this((ln,Rn)=>{bt=ln,$t=Rn}),sn=2,En=0;const Vn=[];for(let ln of Bt){Wn(ln)||(ln=this.resolve(ln));const Rn=En;try{ln.then(br=>{Vn[Rn]=je?je.thenCallback(br):br,sn--,0===sn&&bt(Vn)},br=>{je?(Vn[Rn]=je.errorCallback(br),sn--,0===sn&&bt(Vn)):$t(br)})}catch(br){$t(br)}sn++,En++}return sn-=2,0===sn&&bt(Vn),en}constructor(Bt){const je=this;if(!(je instanceof Le))throw new Error("Must be an instanceof Promise.");je[Dn]=yn,je[Tt]=[];try{Bt&&Bt(Ze(je,!0),Ze(je,pe))}catch(bt){On(je,!1,bt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Le}then(Bt,je){let bt=this.constructor[Symbol.species];(!bt||"function"!=typeof bt)&&(bt=this.constructor||Le);const $t=new bt(Sn),en=Qe.current;return this[Dn]==yn?this[Tt].push(en,$t,Bt,je):nr(this,en,$t,Bt,je),$t}catch(Bt){return this.then(null,Bt)}finally(Bt){let je=this.constructor[Symbol.species];(!je||"function"!=typeof je)&&(je=Le);const bt=new je(Sn);bt[et]=et;const $t=Qe.current;return this[Dn]==yn?this[Tt].push($t,bt,Bt,Bt):nr(this,$t,bt,Bt,Bt),bt}}Le.resolve=Le.resolve,Le.reject=Le.reject,Le.race=Le.race,Le.all=Le.all;const st=Re[mn]=Re.Promise;Re.Promise=Le;const un=Pt("thenPatched");function Ln(jt){const Bt=jt.prototype,je=Xe(Bt,"then");if(je&&(!1===je.writable||!je.configurable))return;const bt=Bt.then;Bt[tn]=bt,jt.prototype.then=function($t,en){return new Le((En,Vn)=>{bt.call(this,En,Vn)}).then($t,en)},jt[un]=!0}return ct.patchThen=Ln,st&&(Ln(st),ge(Re,"fetch",jt=>function or(jt){return function(Bt,je){let bt=jt.apply(Bt,je);if(bt instanceof Le)return bt;let $t=bt.constructor;return $t[un]||Ln($t),bt}}(jt))),Promise[Qe.__symbol__("uncaughtPromiseErrors")]=Ct,Le}),Zone.__load_patch("toString",Re=>{const Qe=Function.prototype.toString,ct=ae("OriginalDelegate"),Xe=ae("Promise"),yt=ae("Error"),kt=function(){if("function"==typeof this){const mn=this[ct];if(mn)return"function"==typeof mn?Qe.call(mn):Object.prototype.toString.call(mn);if(this===Promise){const tn=Re[Xe];if(tn)return Qe.call(tn)}if(this===Error){const tn=Re[yt];if(tn)return Qe.call(tn)}}return Qe.call(this)};kt[ct]=Qe,Function.prototype.toString=kt;const Pt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Pt.call(this)}});let mt=!1;if("undefined"!=typeof window)try{const Re=Object.defineProperty({},"passive",{get:function(){mt=!0}});window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(Re){mt=!1}const xt={useG:!0},cn={},tr={},Fn=new RegExp("^"+J+"(\\w+)(true|false)$"),yr=ae("propagationStopped");function rr(Re,Qe){const ct=(Qe?Qe(Re):Re)+z,Xe=(Qe?Qe(Re):Re)+$,yt=J+ct,kt=J+Xe;cn[Re]={},cn[Re][z]=yt,cn[Re][$]=kt}function Xn(Re,Qe,ct,Xe){const yt=Xe&&Xe.add||E,kt=Xe&&Xe.rm||N,Pt=Xe&&Xe.listeners||"eventListeners",Ct=Xe&&Xe.rmAll||"removeAllListeners",Lt=ae(yt),mn="."+yt+":",Mn=function(Tt,et,Vt){if(Tt.isRemoved)return;const zt=Tt.callback;let In;"object"==typeof zt&&zt.handleEvent&&(Tt.callback=be=>zt.handleEvent(be),Tt.originalDelegate=zt);try{Tt.invoke(Tt,et,[Vt])}catch(be){In=be}const yn=Tt.options;return yn&&"object"==typeof yn&&yn.once&&et[kt].call(et,Vt.type,Tt.originalDelegate?Tt.originalDelegate:Tt.callback,yn),In};function Cn(Tt,et,Vt){if(!(et=et||Re.event))return;const zt=Tt||et.target||Re,In=zt[cn[et.type][Vt?$:z]];if(In){const yn=[];if(1===In.length){const be=Mn(In[0],zt,et);be&&yn.push(be)}else{const be=In.slice();for(let pe=0;pe<be.length&&(!et||!0!==et[yr]);pe++){const me=Mn(be[pe],zt,et);me&&yn.push(me)}}if(1===yn.length)throw yn[0];for(let be=0;be<yn.length;be++){const pe=yn[be];Qe.nativeScheduleMicroTask(()=>{throw pe})}}}const Wn=function(Tt){return Cn(this,Tt,!1)},Ht=function(Tt){return Cn(this,Tt,!0)};function vr(Tt,et){if(!Tt)return!1;let Vt=!0;et&&void 0!==et.useG&&(Vt=et.useG);const zt=et&&et.vh;let In=!0;et&&void 0!==et.chkDup&&(In=et.chkDup);let yn=!1;et&&void 0!==et.rt&&(yn=et.rt);let be=Tt;for(;be&&!be.hasOwnProperty(yt);)be=M(be);if(!be&&Tt[yt]&&(be=Tt),!be||be[Lt])return!1;const pe=et&&et.eventNameToString,me={},Ze=be[Lt]=be[yt],ke=be[ae(kt)]=be[kt],Nt=be[ae(Pt)]=be[Pt],Tn=be[ae(Ct)]=be[Ct];let On;function ir(je,bt){return!mt&&"object"==typeof je&&je?!!je.capture:mt&&bt?"boolean"==typeof je?{capture:je,passive:!0}:je?"object"==typeof je&&!1!==je.passive?Object.assign(Object.assign({},je),{passive:!0}):je:{passive:!0}:je}et&&et.prepend&&(On=be[ae(et.prepend)]=be[et.prepend]);const Le=Vt?function(je){if(!me.isExisting)return Ze.call(me.target,me.eventName,me.capture?Ht:Wn,me.options)}:function(je){return Ze.call(me.target,me.eventName,je.invoke,me.options)},st=Vt?function(je){if(!je.isRemoved){const bt=cn[je.eventName];let $t;bt&&($t=bt[je.capture?$:z]);const en=$t&&je.target[$t];if(en)for(let sn=0;sn<en.length;sn++)if(en[sn]===je){en.splice(sn,1),je.isRemoved=!0,0===en.length&&(je.allRemoved=!0,je.target[$t]=null);break}}if(je.allRemoved)return ke.call(je.target,je.eventName,je.capture?Ht:Wn,je.options)}:function(je){return ke.call(je.target,je.eventName,je.invoke,je.options)},Ln=et&&et.diff?et.diff:function(je,bt){const $t=typeof bt;return"function"===$t&&je.callback===bt||"object"===$t&&je.originalDelegate===bt},or=Zone[ae("UNPATCHED_EVENTS")],jt=Re[ae("PASSIVE_EVENTS")],Bt=function(je,bt,$t,en,sn=!1,En=!1){return function(){const Vn=this||Re;let ln=arguments[0];et&&et.transferEventName&&(ln=et.transferEventName(ln));let Rn=arguments[1];if(!Rn)return je.apply(this,arguments);if(Be&&"uncaughtException"===ln)return je.apply(this,arguments);let br=!1;if("function"!=typeof Rn){if(!Rn.handleEvent)return je.apply(this,arguments);br=!0}if(zt&&!zt(je,Rn,Vn,arguments))return;const Zn=mt&&!!jt&&-1!==jt.indexOf(ln),Ar=ir(arguments[2],Zn);if(or)for(let sr=0;sr<or.length;sr++)if(ln===or[sr])return Zn?je.call(Vn,ln,Rn,Ar):je.apply(this,arguments);const Ir=!!Ar&&("boolean"==typeof Ar||Ar.capture),Co=!(!Ar||"object"!=typeof Ar)&&Ar.once,Fi=Zone.current;let ur=cn[ln];ur||(rr(ln,pe),ur=cn[ln]);const Yi=ur[Ir?$:z];let Oe,Pr=Vn[Yi],Fe=!1;if(Pr){if(Fe=!0,In)for(let sr=0;sr<Pr.length;sr++)if(Ln(Pr[sr],Rn))return}else Pr=Vn[Yi]=[];const ot=Vn.constructor.name,St=tr[ot];St&&(Oe=St[ln]),Oe||(Oe=ot+bt+(pe?pe(ln):ln)),me.options=Ar,Co&&(me.options.once=!1),me.target=Vn,me.capture=Ir,me.eventName=ln,me.isExisting=Fe;const Mt=Vt?xt:void 0;Mt&&(Mt.taskData=me);const Yt=Fi.scheduleEventTask(Oe,Rn,Mt,$t,en);return me.target=null,Mt&&(Mt.taskData=null),Co&&(Ar.once=!0),!mt&&"boolean"==typeof Yt.options||(Yt.options=Ar),Yt.target=Vn,Yt.capture=Ir,Yt.eventName=ln,br&&(Yt.originalDelegate=Rn),En?Pr.unshift(Yt):Pr.push(Yt),sn?Vn:void 0}};return be[yt]=Bt(Ze,mn,Le,st,yn),On&&(be.prependListener=Bt(On,".prependListener:",function(je){return On.call(me.target,me.eventName,je.invoke,me.options)},st,yn,!0)),be[kt]=function(){const je=this||Re;let bt=arguments[0];et&&et.transferEventName&&(bt=et.transferEventName(bt));const $t=arguments[2],en=!!$t&&("boolean"==typeof $t||$t.capture),sn=arguments[1];if(!sn)return ke.apply(this,arguments);if(zt&&!zt(ke,sn,je,arguments))return;const En=cn[bt];let Vn;En&&(Vn=En[en?$:z]);const ln=Vn&&je[Vn];if(ln)for(let Rn=0;Rn<ln.length;Rn++){const br=ln[Rn];if(Ln(br,sn))return ln.splice(Rn,1),br.isRemoved=!0,0===ln.length&&(br.allRemoved=!0,je[Vn]=null,"string"==typeof bt)&&(je[J+"ON_PROPERTY"+bt]=null),br.zone.cancelTask(br),yn?je:void 0}return ke.apply(this,arguments)},be[Pt]=function(){const je=this||Re;let bt=arguments[0];et&&et.transferEventName&&(bt=et.transferEventName(bt));const $t=[],en=Hr(je,pe?pe(bt):bt);for(let sn=0;sn<en.length;sn++){const En=en[sn];$t.push(En.originalDelegate?En.originalDelegate:En.callback)}return $t},be[Ct]=function(){const je=this||Re;let bt=arguments[0];if(bt){et&&et.transferEventName&&(bt=et.transferEventName(bt));const $t=cn[bt];if($t){const En=je[$t[z]],Vn=je[$t[$]];if(En){const ln=En.slice();for(let Rn=0;Rn<ln.length;Rn++){const br=ln[Rn];this[kt].call(this,bt,br.originalDelegate?br.originalDelegate:br.callback,br.options)}}if(Vn){const ln=Vn.slice();for(let Rn=0;Rn<ln.length;Rn++){const br=ln[Rn];this[kt].call(this,bt,br.originalDelegate?br.originalDelegate:br.callback,br.options)}}}}else{const $t=Object.keys(je);for(let en=0;en<$t.length;en++){const En=Fn.exec($t[en]);let Vn=En&&En[1];Vn&&"removeListener"!==Vn&&this[Ct].call(this,Vn)}this[Ct].call(this,"removeListener")}if(yn)return this},de(be[yt],Ze),de(be[kt],ke),Tn&&de(be[Ct],Tn),Nt&&de(be[Pt],Nt),!0}let Dn=[];for(let Tt=0;Tt<ct.length;Tt++)Dn[Tt]=vr(ct[Tt],Xe);return Dn}function Hr(Re,Qe){if(!Qe){const kt=[];for(let Pt in Re){const Ct=Fn.exec(Pt);let Lt=Ct&&Ct[1];if(Lt&&(!Qe||Lt===Qe)){const mn=Re[Pt];if(mn)for(let tn=0;tn<mn.length;tn++)kt.push(mn[tn])}}return kt}let ct=cn[Qe];ct||(rr(Qe),ct=cn[Qe]);const Xe=Re[ct[z]],yt=Re[ct[$]];return Xe?yt?Xe.concat(yt):Xe.slice():yt?yt.slice():[]}function mr(Re,Qe){const ct=Re.Event;ct&&ct.prototype&&Qe.patchMethod(ct.prototype,"stopImmediatePropagation",Xe=>function(yt,kt){yt[yr]=!0,Xe&&Xe.apply(yt,kt)})}function xr(Re,Qe,ct,Xe,yt){const kt=Zone.__symbol__(Xe);if(Qe[kt])return;const Pt=Qe[kt]=Qe[Xe];Qe[Xe]=function(Ct,Lt,mn){return Lt&&Lt.prototype&&yt.forEach(function(tn){const Xt=`${ct}.${Xe}::`+tn,Mn=Lt.prototype;if(Mn.hasOwnProperty(tn)){const Cn=Re.ObjectGetOwnPropertyDescriptor(Mn,tn);Cn&&Cn.value?(Cn.value=Re.wrapWithCurrentZone(Cn.value,Xt),Re._redefineProperty(Lt.prototype,tn,Cn)):Mn[tn]&&(Mn[tn]=Re.wrapWithCurrentZone(Mn[tn],Xt))}else Mn[tn]&&(Mn[tn]=Re.wrapWithCurrentZone(Mn[tn],Xt))}),Pt.call(Qe,Ct,Lt,mn)},Re.attachOriginToPatched(Qe[Xe],Pt)}function ki(Re,Qe,ct){if(!ct||0===ct.length)return Qe;const Xe=ct.filter(kt=>kt.target===Re);if(!Xe||0===Xe.length)return Qe;const yt=Xe[0].ignoreProperties;return Qe.filter(kt=>-1===yt.indexOf(kt))}function wi(Re,Qe,ct,Xe){Re&&se(Re,ki(Re,Qe,ct),Xe)}function Fr(Re){return Object.getOwnPropertyNames(Re).filter(Qe=>Qe.startsWith("on")&&Qe.length>2).map(Qe=>Qe.substring(2))}Zone.__load_patch("util",(Re,Qe,ct)=>{const Xe=Fr(Re);ct.patchOnProperties=se,ct.patchMethod=ge,ct.bindArguments=ue,ct.patchMacroTask=Pe;const yt=Qe.__symbol__("BLACK_LISTED_EVENTS"),kt=Qe.__symbol__("UNPATCHED_EVENTS");Re[kt]&&(Re[yt]=Re[kt]),Re[yt]&&(Qe[yt]=Qe[kt]=Re[yt]),ct.patchEventPrototype=mr,ct.patchEventTarget=Xn,ct.isIEOrEdge=wt,ct.ObjectDefineProperty=A,ct.ObjectGetOwnPropertyDescriptor=nt,ct.ObjectCreate=t,ct.ArraySlice=C,ct.patchClass=Q,ct.wrapWithCurrentZone=W,ct.filterProperties=ki,ct.attachOriginToPatched=de,ct._redefineProperty=Object.defineProperty,ct.patchCallbacks=xr,ct.getGlobalObjects=()=>({globalSources:tr,zoneSymbolEventNames:cn,eventNames:Xe,isBrowser:qe,isMix:we,isNode:Be,TRUE_STR:$,FALSE_STR:z,ZONE_SYMBOL_PREFIX:J,ADD_EVENT_LISTENER_STR:E,REMOVE_EVENT_LISTENER_STR:N})});const Ei=ae("zoneTask");function gn(Re,Qe,ct,Xe){let yt=null,kt=null;ct+=Xe;const Pt={};function Ct(mn){const tn=mn.data;return tn.args[0]=function(){return mn.invoke.apply(this,arguments)},tn.handleId=yt.apply(Re,tn.args),mn}function Lt(mn){return kt.call(Re,mn.data.handleId)}yt=ge(Re,Qe+=Xe,mn=>function(tn,Xt){if("function"==typeof Xt[0]){const Mn={isPeriodic:"Interval"===Xe,delay:"Timeout"===Xe||"Interval"===Xe?Xt[1]||0:void 0,args:Xt},Cn=Xt[0];Xt[0]=function(){try{return Cn.apply(this,arguments)}finally{Mn.isPeriodic||("number"==typeof Mn.handleId?delete Pt[Mn.handleId]:Mn.handleId&&(Mn.handleId[Ei]=null))}};const Wn=ne(Qe,Xt[0],Mn,Ct,Lt);if(!Wn)return Wn;const Ht=Wn.data.handleId;return"number"==typeof Ht?Pt[Ht]=Wn:Ht&&(Ht[Ei]=Wn),Ht&&Ht.ref&&Ht.unref&&"function"==typeof Ht.ref&&"function"==typeof Ht.unref&&(Wn.ref=Ht.ref.bind(Ht),Wn.unref=Ht.unref.bind(Ht)),"number"==typeof Ht||Ht?Ht:Wn}return mn.apply(Re,Xt)}),kt=ge(Re,ct,mn=>function(tn,Xt){const Mn=Xt[0];let Cn;"number"==typeof Mn?Cn=Pt[Mn]:(Cn=Mn&&Mn[Ei],Cn||(Cn=Mn)),Cn&&"string"==typeof Cn.type?"notScheduled"!==Cn.state&&(Cn.cancelFn&&Cn.data.isPeriodic||0===Cn.runCount)&&("number"==typeof Mn?delete Pt[Mn]:Mn&&(Mn[Ei]=null),Cn.zone.cancelTask(Cn)):mn.apply(Re,Xt)})}Zone.__load_patch("legacy",Re=>{const Qe=Re[Zone.__symbol__("legacyPatch")];Qe&&Qe()}),Zone.__load_patch("queueMicrotask",(Re,Qe,ct)=>{ct.patchMethod(Re,"queueMicrotask",Xe=>function(yt,kt){Qe.current.scheduleMicroTask("queueMicrotask",kt[0])})}),Zone.__load_patch("timers",Re=>{const ct="clear";gn(Re,"set",ct,"Timeout"),gn(Re,"set",ct,"Interval"),gn(Re,"set",ct,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Re=>{gn(Re,"request","cancel","AnimationFrame"),gn(Re,"mozRequest","mozCancel","AnimationFrame"),gn(Re,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Re,Qe)=>{const ct=["alert","prompt","confirm"];for(let Xe=0;Xe<ct.length;Xe++)ge(Re,ct[Xe],(kt,Pt,Ct)=>function(Lt,mn){return Qe.current.run(kt,Re,mn,Ct)})}),Zone.__load_patch("EventTarget",(Re,Qe,ct)=>{(function $r(Re,Qe){Qe.patchEventPrototype(Re,Qe)})(Re,ct),function Vr(Re,Qe){if(Zone[Qe.symbol("patchEventTarget")])return;const{eventNames:ct,zoneSymbolEventNames:Xe,TRUE_STR:yt,FALSE_STR:kt,ZONE_SYMBOL_PREFIX:Pt}=Qe.getGlobalObjects();for(let Lt=0;Lt<ct.length;Lt++){const mn=ct[Lt],Mn=Pt+(mn+kt),Cn=Pt+(mn+yt);Xe[mn]={},Xe[mn][kt]=Mn,Xe[mn][yt]=Cn}const Ct=Re.EventTarget;Ct&&Ct.prototype&&Qe.patchEventTarget(Re,Qe,[Ct&&Ct.prototype])}(Re,ct);const Xe=Re.XMLHttpRequestEventTarget;Xe&&Xe.prototype&&ct.patchEventTarget(Re,ct,[Xe.prototype])}),Zone.__load_patch("MutationObserver",(Re,Qe,ct)=>{Q("MutationObserver"),Q("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Re,Qe,ct)=>{Q("IntersectionObserver")}),Zone.__load_patch("FileReader",(Re,Qe,ct)=>{Q("FileReader")}),Zone.__load_patch("on_property",(Re,Qe,ct)=>{!function Br(Re,Qe){if(Be&&!we||Zone[Re.symbol("patchEvents")])return;const ct=Qe.__Zone_ignore_on_properties;let Xe=[];if(qe){const yt=window;Xe=Xe.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const kt=function pn(){try{const Re=$e.navigator.userAgent;if(-1!==Re.indexOf("MSIE ")||-1!==Re.indexOf("Trident/"))return!0}catch(Re){}return!1}()?[{target:yt,ignoreProperties:["error"]}]:[];wi(yt,Fr(yt),ct&&ct.concat(kt),M(yt))}Xe=Xe.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let yt=0;yt<Xe.length;yt++){const kt=Qe[Xe[yt]];kt&&kt.prototype&&wi(kt.prototype,Fr(kt.prototype),ct)}}(ct,Re)}),Zone.__load_patch("customElements",(Re,Qe,ct)=>{!function Ni(Re,Qe){const{isBrowser:ct,isMix:Xe}=Qe.getGlobalObjects();(ct||Xe)&&Re.customElements&&"customElements"in Re&&Qe.patchCallbacks(Qe,Re.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Re,ct)}),Zone.__load_patch("XHR",(Re,Qe)=>{!function Lt(mn){const tn=mn.XMLHttpRequest;if(!tn)return;const Xt=tn.prototype;let Cn=Xt[P],Wn=Xt[j];if(!Cn){const me=mn.XMLHttpRequestEventTarget;if(me){const Ze=me.prototype;Cn=Ze[P],Wn=Ze[j]}}const Ht="readystatechange",vr="scheduled";function Dn(me){const Ze=me.data,ke=Ze.target;ke[kt]=!1,ke[Ct]=!1;const Nt=ke[yt];Cn||(Cn=ke[P],Wn=ke[j]),Nt&&Wn.call(ke,Ht,Nt);const Tn=ke[yt]=()=>{if(ke.readyState===ke.DONE)if(!Ze.aborted&&ke[kt]&&me.state===vr){const ir=ke[Qe.__symbol__("loadfalse")];if(0!==ke.status&&ir&&ir.length>0){const Gn=me.invoke;me.invoke=function(){const nr=ke[Qe.__symbol__("loadfalse")];for(let nn=0;nn<nr.length;nn++)nr[nn]===me&&nr.splice(nn,1);!Ze.aborted&&me.state===vr&&Gn.call(me)},ir.push(me)}else me.invoke()}else!Ze.aborted&&!1===ke[kt]&&(ke[Ct]=!0)};return Cn.call(ke,Ht,Tn),ke[ct]||(ke[ct]=me),be.apply(ke,Ze.args),ke[kt]=!0,me}function Tt(){}function et(me){const Ze=me.data;return Ze.aborted=!0,pe.apply(Ze.target,Ze.args)}const Vt=ge(Xt,"open",()=>function(me,Ze){return me[Xe]=0==Ze[2],me[Pt]=Ze[1],Vt.apply(me,Ze)}),In=ae("fetchTaskAborting"),yn=ae("fetchTaskScheduling"),be=ge(Xt,"send",()=>function(me,Ze){if(!0===Qe.current[yn]||me[Xe])return be.apply(me,Ze);{const ke={target:me,url:me[Pt],isPeriodic:!1,args:Ze,aborted:!1},Nt=ne("XMLHttpRequest.send",Tt,ke,Dn,et);me&&!0===me[Ct]&&!ke.aborted&&Nt.state===vr&&Nt.invoke()}}),pe=ge(Xt,"abort",()=>function(me,Ze){const ke=function Mn(me){return me[ct]}(me);if(ke&&"string"==typeof ke.type){if(null==ke.cancelFn||ke.data&&ke.data.aborted)return;ke.zone.cancelTask(ke)}else if(!0===Qe.current[In])return pe.apply(me,Ze)})}(Re);const ct=ae("xhrTask"),Xe=ae("xhrSync"),yt=ae("xhrListener"),kt=ae("xhrScheduled"),Pt=ae("xhrURL"),Ct=ae("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Re=>{Re.navigator&&Re.navigator.geolocation&&function Me(Re,Qe){const ct=Re.constructor.name;for(let Xe=0;Xe<Qe.length;Xe++){const yt=Qe[Xe],kt=Re[yt];if(kt){if(!De(nt(Re,yt)))continue;Re[yt]=(Ct=>{const Lt=function(){return Ct.apply(this,ue(arguments,ct+"."+yt))};return de(Lt,Ct),Lt})(kt)}}}(Re.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Re,Qe)=>{function ct(Xe){return function(yt){Hr(Re,Xe).forEach(Pt=>{const Ct=Re.PromiseRejectionEvent;if(Ct){const Lt=new Ct(Xe,{promise:yt.promise,reason:yt.rejection});Pt.invoke(Lt)}})}}Re.PromiseRejectionEvent&&(Qe[ae("unhandledPromiseRejectionHandler")]=ct("unhandledrejection"),Qe[ae("rejectionHandledHandler")]=ct("rejectionhandled"))})},655:(nt,A,M)=>{"use strict";function N(se,oe){var Q={};for(var ge in se)Object.prototype.hasOwnProperty.call(se,ge)&&oe.indexOf(ge)<0&&(Q[ge]=se[ge]);if(null!=se&&"function"==typeof Object.getOwnPropertySymbols){var Pe=0;for(ge=Object.getOwnPropertySymbols(se);Pe<ge.length;Pe++)oe.indexOf(ge[Pe])<0&&Object.prototype.propertyIsEnumerable.call(se,ge[Pe])&&(Q[ge[Pe]]=se[ge[Pe]])}return Q}function z(se,oe,Q,ge){return new(Q||(Q=Promise))(function(de,gt){function Dt(mt){try{wt(ge.next(mt))}catch(xt){gt(xt)}}function pn(mt){try{wt(ge.throw(mt))}catch(xt){gt(xt)}}function wt(mt){mt.done?de(mt.value):function Pe(de){return de instanceof Q?de:new Q(function(gt){gt(de)})}(mt.value).then(Dt,pn)}wt((ge=ge.apply(se,oe||[])).next())})}function ue(se){return this instanceof ue?(this.v=se,this):new ue(se)}function Me(se,oe,Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Pe,ge=Q.apply(se,oe||[]),de=[];return Pe={},gt("next"),gt("throw"),gt("return"),Pe[Symbol.asyncIterator]=function(){return this},Pe;function gt(cn){ge[cn]&&(Pe[cn]=function(tr){return new Promise(function(Fn,yr){de.push([cn,tr,Fn,yr])>1||Dt(cn,tr)})})}function Dt(cn,tr){try{!function pn(cn){cn.value instanceof ue?Promise.resolve(cn.value.v).then(wt,mt):xt(de[0][2],cn)}(ge[cn](tr))}catch(Fn){xt(de[0][3],Fn)}}function wt(cn){Dt("next",cn)}function mt(cn){Dt("throw",cn)}function xt(cn,tr){cn(tr),de.shift(),de.length&&Dt(de[0][0],de[0][1])}}function rt(se){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Q,oe=se[Symbol.asyncIterator];return oe?oe.call(se):(se=function ae(se){var oe="function"==typeof Symbol&&Symbol.iterator,Q=oe&&se[oe],ge=0;if(Q)return Q.call(se);if(se&&"number"==typeof se.length)return{next:function(){return se&&ge>=se.length&&(se=void 0),{value:se&&se[ge++],done:!se}}};throw new TypeError(oe?"Object is not iterable.":"Symbol.iterator is not defined.")}(se),Q={},ge("next"),ge("throw"),ge("return"),Q[Symbol.asyncIterator]=function(){return this},Q);function ge(de){Q[de]=se[de]&&function(gt){return new Promise(function(Dt,pn){!function Pe(de,gt,Dt,pn){Promise.resolve(pn).then(function(wt){de({value:wt,done:Dt})},gt)}(Dt,pn,(gt=se[de](gt)).done,gt.value)})}}}M.d(A,{FC:()=>Me,KL:()=>rt,_T:()=>N,mG:()=>z,qq:()=>ue})},5e3:(nt,A,M)=>{"use strict";M.d(A,{$8M:()=>kc,$Z:()=>bg,AFp:()=>Ju,ALo:()=>X1,AaK:()=>z,AsE:()=>v,BQk:()=>uu,CHM:()=>tf,CRH:()=>sb,CZH:()=>J0,CqO:()=>D0,DdM:()=>$1,EJc:()=>mE,EiD:()=>tm,EpF:()=>t_,F$t:()=>hp,F4k:()=>Eg,FYo:()=>B1,FiY:()=>co,Gf:()=>Dw,GfV:()=>JC,GkF:()=>Tg,Gpc:()=>ne,Hsn:()=>Zd,Ikx:()=>d_,JOm:()=>ya,JVY:()=>dd,Jf7:()=>_h,L6k:()=>ah,LAX:()=>Yg,LFG:()=>Jt,LSH:()=>lo,Lbi:()=>Gw,MAs:()=>jh,MGl:()=>r_,NdJ:()=>Hh,OlP:()=>oi,Oqu:()=>h,PXZ:()=>xb,Q6J:()=>Ci,QGY:()=>lp,Qsj:()=>YC,QtT:()=>N1,R0b:()=>zl,RDi:()=>Lr,Rgc:()=>T_,SBq:()=>y_,SDv:()=>__,Sil:()=>bE,Suo:()=>Sw,TTD:()=>Z,TgZ:()=>Cg,Tol:()=>xg,Udp:()=>c_,VKq:()=>q1,VLi:()=>IE,W1O:()=>uv,WLB:()=>Z1,X6Q:()=>kb,XFs:()=>gn,Xpm:()=>yn,Y36:()=>cu,YKP:()=>j1,YNc:()=>$d,Yjl:()=>ir,Yz7:()=>Fn,ZZ4:()=>xv,_Bn:()=>F1,_UZ:()=>cp,_Vd:()=>G0,_c5:()=>ty,_uU:()=>c,aQg:()=>Av,c2e:()=>$w,cJS:()=>rr,cg1:()=>Mg,dDg:()=>ns,deG:()=>lc,dqk:()=>Xt,dwT:()=>yC,eBb:()=>ch,eFA:()=>Ib,ekj:()=>R0,evT:()=>mi,g9A:()=>jw,h0i:()=>b_,hGG:()=>bp,hij:()=>g,iGM:()=>ob,ifc:()=>Pt,ip1:()=>Bw,kEZ:()=>z1,kL8:()=>d1,lG2:()=>On,lcZ:()=>eb,mCW:()=>ti,n5z:()=>rh,oAB:()=>ke,oJD:()=>Rp,oxw:()=>Bl,pB0:()=>Hi,pQV:()=>Yy,q3G:()=>vi,q4F:()=>QC,qLn:()=>Is,qOj:()=>Jf,qZA:()=>wg,qzn:()=>pc,s9C:()=>n_,sBO:()=>tT,sIi:()=>gg,s_b:()=>iv,soG:()=>Cb,tBr:()=>xs,tb:()=>Hw,tp0:()=>ei,uIk:()=>tp,vHH:()=>Ge,vpe:()=>Zl,wAp:()=>qn,xi3:()=>tb,xp6:()=>_,yhl:()=>pf,ynx:()=>up,z2F:()=>yv,z3N:()=>hs,zSh:()=>Xa,zs3:()=>va});var t=M(7579),C=M(727),E=M(8306),N=M(6451),P=M(3099);function j(s){for(let a in s)if(s[a]===j)return a;throw Error("Could not find renamed property on target object.")}function $(s,a){for(const d in a)a.hasOwnProperty(d)&&!s.hasOwnProperty(d)&&(s[d]=a[d])}function z(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(z).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const d=a.indexOf("\n");return-1===d?a:a.substring(0,d)}function J(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const W=j({__forward_ref__:j});function ne(s){return s.__forward_ref__=ne,s.toString=function(){return z(this())},s}function ae(s){return Je(s)?s():s}function Je(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===ne}class Ge extends Error{constructor(a,d){super(function ut(s,a){return`NG0${Math.abs(s)}${a?": "+a:""}`}(a,d)),this.code=a}}function ue(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ue(s)}function qe(s,a){const d=a?` in ${a}`:"";throw new Ge(-201,`No provider for ${Me(s)} found${d}`)}function mt(s,a,d,f){throw new Error(`ASSERTION ERROR: ${s}`+(null==f?"":` [Expected=> ${d} ${f} ${a} <=Actual]`))}function Fn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function rr(s){return{providers:s.providers||[],imports:s.imports||[]}}function Xn(s){return Hr(s,wi)||Hr(s,Br)}function Hr(s,a){return s.hasOwnProperty(a)?s[a]:null}function ki(s){return s&&(s.hasOwnProperty(Fr)||s.hasOwnProperty(Ei))?s[Fr]:null}const wi=j({\u0275prov:j}),Fr=j({\u0275inj:j}),Br=j({ngInjectableDef:j}),Ei=j({ngInjectorDef:j});var gn=(()=>((gn=gn||{})[gn.Default=0]="Default",gn[gn.Host=1]="Host",gn[gn.Self=2]="Self",gn[gn.SkipSelf=4]="SkipSelf",gn[gn.Optional=8]="Optional",gn))();let Ni;function $r(s){const a=Ni;return Ni=s,a}function Re(s,a,d){const f=Xn(s);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:d&gn.Optional?null:void 0!==a?a:void qe(z(s),"Injector")}function ct(s){return{toString:s}.toString()}var Xe=(()=>((Xe=Xe||{})[Xe.OnPush=0]="OnPush",Xe[Xe.Default=1]="Default",Xe))(),Pt=(()=>{return(s=Pt||(Pt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Pt;var s})();const Ct="undefined"!=typeof globalThis&&globalThis,Lt="undefined"!=typeof window&&window,mn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Xt=Ct||"undefined"!=typeof global&&global||Lt||mn,Wn={},Ht=[],vr=j({\u0275cmp:j}),Dn=j({\u0275dir:j}),Tt=j({\u0275pipe:j}),et=j({\u0275mod:j}),Vt=j({\u0275fac:j}),zt=j({__NG_ELEMENT_ID__:j});let In=0;function yn(s){return ct(()=>{const d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===Xe.OnPush,directiveDefs:null,pipeDefs:null,selectors:s.selectors||Ht,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Pt.Emulated,id:"c",styles:s.styles||Ht,_:null,setInput:null,schemas:s.schemas||null,tView:null},m=s.directives,y=s.features,T=s.pipes;return f.id+=In++,f.inputs=Tn(s.inputs,d),f.outputs=Tn(s.outputs),y&&y.forEach(I=>I(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(pe):null,f.pipeDefs=T?()=>("function"==typeof T?T():T).map(me):null,f})}function pe(s){return Gn(s)||function nr(s){return s[Dn]||null}(s)}function me(s){return function nn(s){return s[Tt]||null}(s)}const Ze={};function ke(s){return ct(()=>{const a={type:s.type,bootstrap:s.bootstrap||Ht,declarations:s.declarations||Ht,imports:s.imports||Ht,exports:s.exports||Ht,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null};return null!=s.id&&(Ze[s.id]=s.type),a})}function Tn(s,a){if(null==s)return Wn;const d={};for(const f in s)if(s.hasOwnProperty(f)){let m=s[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),d[m]=f,a&&(a[m]=y)}return d}const On=yn;function ir(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,onDestroy:s.type.prototype.ngOnDestroy||null}}function Gn(s){return s[vr]||null}function Sn(s,a){const d=s[et]||null;if(!d&&!0===a)throw new Error(`Type ${z(s)} does not have '\u0275mod' property.`);return d}function Mt(s){return Array.isArray(s)&&"object"==typeof s[1]}function Yt(s){return Array.isArray(s)&&!0===s[1]}function sr(s){return 0!=(8&s.flags)}function Mr(s){return 2==(2&s.flags)}function pr(s){return 1==(1&s.flags)}function ui(s){return null!==s.template}function rs(s){return 0!=(512&s[2])}function B(s,a){return s.hasOwnProperty(Vt)?s[Vt]:null}class G{constructor(a,d,f){this.previousValue=a,this.currentValue=d,this.firstChange=f}isFirstChange(){return this.firstChange}}function Z(){return le}function le(s){return s.type.prototype.ngOnChanges&&(s.setInput=he),_e}function _e(){const s=We(this),a=null==s?void 0:s.current;if(a){const d=s.previous;if(d===Wn)s.previous=a;else for(let f in a)d[f]=a[f];s.current=null,this.ngOnChanges(a)}}function he(s,a,d,f){const m=We(s)||function K(s,a){return s[Ee]=a}(s,{previous:Wn,current:null}),y=m.current||(m.current={}),T=m.previous,I=this.declaredInputs[d],L=T[I];y[I]=new G(L&&L.currentValue,a,T===Wn),s[f]=a}Z.ngInherit=!0;const Ee="__ngSimpleChanges__";function We(s){return s[Ee]||null}let Zr;function Lr(s){Zr=s}function Ji(){return void 0!==Zr?Zr:"undefined"!=typeof document?document:void 0}function Sr(s){return!!s.listen}const oc={createRenderer:(s,a)=>Ji()};function Kr(s){for(;Array.isArray(s);)s=s[0];return s}function Ra(s,a){return Kr(a[s])}function No(s,a){return Kr(a[s.index])}function du(s,a){return s.data[a]}function os(s,a){return s[a]}function so(s,a){const d=a[s];return Mt(d)?d:d[0]}function bs(s){return 4==(4&s[2])}function ka(s){return 128==(128&s[2])}function ss(s,a){return null==a?null:s[a]}function Ls(s){s[18]=0}function Ac(s,a){s[5]+=a;let d=s,f=s[3];for(;null!==f&&(1===a&&1===d[5]||-1===a&&0===d[5]);)f[5]+=a,d=f,f=f[3]}const Kn={lFrame:ol(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function La(){return Kn.bindingsEnabled}function Ot(){return Kn.lFrame.lView}function jn(){return Kn.lFrame.tView}function tf(s){return Kn.lFrame.contextLView=s,s[8]}function ai(){let s=rl();for(;null!==s&&64===s.type;)s=s.parent;return s}function rl(){return Kn.lFrame.currentTNode}function Ua(){const s=Kn.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function Us(s,a){const d=Kn.lFrame;d.currentTNode=s,d.isParent=a}function Pc(){return Kn.lFrame.isParent}function Ql(){Kn.lFrame.isParent=!1}function il(){return Kn.isInCheckNoChangesMode}function wo(s){Kn.isInCheckNoChangesMode=s}function To(){const s=Kn.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function ca(){return Kn.lFrame.bindingIndex}function Bs(){return Kn.lFrame.bindingIndex++}function Ho(s){const a=Kn.lFrame,d=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,d}function ua(s){Kn.lFrame.inI18n=s}function Qd(s,a){const d=Kn.lFrame;d.bindingIndex=d.bindingRootIndex=s,fu(a)}function fu(s){Kn.lFrame.currentDirectiveIndex=s}function Xd(){return Kn.lFrame.currentQueryIndex}function la(s){Kn.lFrame.currentQueryIndex=s}function eh(s){const a=s[1];return 2===a.type?a.declTNode:1===a.type?s[6]:null}function pu(s,a,d){if(d&gn.SkipSelf){let m=a,y=s;for(;!(m=m.parent,null!==m||d&gn.Host||(m=eh(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;a=m,s=y}const f=Kn.lFrame=ed();return f.currentTNode=a,f.lView=s,!0}function Mc(s){const a=ed(),d=s[1];Kn.lFrame=a,a.currentTNode=d.firstChild,a.lView=s,a.tView=d,a.contextLView=s,a.bindingIndex=d.bindingStartIndex,a.inI18n=!1}function ed(){const s=Kn.lFrame,a=null===s?null:s.child;return null===a?ol(s):a}function ol(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Oc(){const s=Kn.lFrame;return Kn.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const td=Oc;function Vs(){const s=Oc();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Eo(){return Kn.lFrame.selectedIndex}function js(s){Kn.lFrame.selectedIndex=s}function _i(){const s=Kn.lFrame;return du(s.tView,s.selectedIndex)}function th(s,a){for(let d=a.directiveStart,f=a.directiveEnd;d<f;d++){const y=s.data[d].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:I,ngAfterViewInit:L,ngAfterViewChecked:H,ngOnDestroy:X}=y;T&&(s.contentHooks||(s.contentHooks=[])).push(-d,T),I&&((s.contentHooks||(s.contentHooks=[])).push(d,I),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(d,I)),L&&(s.viewHooks||(s.viewHooks=[])).push(-d,L),H&&((s.viewHooks||(s.viewHooks=[])).push(d,H),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(d,H)),null!=X&&(s.destroyHooks||(s.destroyHooks=[])).push(d,X)}}function ll(s,a,d){gu(s,a,3,d)}function Nc(s,a,d,f){(3&s[2])===d&&gu(s,a,d,f)}function li(s,a){let d=s[2];(3&d)===a&&(d&=2047,d+=1,s[2]=d)}function gu(s,a,d,f){const y=null!=f?f:-1,T=a.length-1;let I=0;for(let L=void 0!==f?65535&s[18]:0;L<T;L++)if("number"==typeof a[L+1]){if(I=a[L],null!=f&&I>=f)break}else a[L]<0&&(s[18]+=65536),(I<y||-1==y)&&(Wg(s,d,a,L),s[18]=(4294901760&s[18])+L+2),L++}function Wg(s,a,d,f){const m=d[f]<0,y=d[f+1],I=s[m?-d[f]:d[f]];if(m){if(s[2]>>11<s[18]>>16&&(3&s[2])===a){s[2]+=2048;try{y.call(I)}finally{}}}else try{y.call(I)}finally{}}class dl{constructor(a,d,f){this.factory=a,this.resolving=!1,this.canSeeViewProviders=d,this.injectImpl=f}}function Si(s,a,d){const f=Sr(s);let m=0;for(;m<d.length;){const y=d[m];if("number"==typeof y){if(0!==y)break;m++;const T=d[m++],I=d[m++],L=d[m++];f?s.setAttribute(a,I,L,T):a.setAttributeNS(T,I,L)}else{const T=y,I=d[++m];kn(T)?f&&s.setProperty(a,T,I):f?s.setAttribute(a,T,I):a.setAttribute(T,I),m++}}return m}function rd(s){return 3===s||4===s||6===s}function kn(s){return 64===s.charCodeAt(0)}function Jn(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let d=-1;for(let f=0;f<a.length;f++){const m=a[f];"number"==typeof m?d=m:0===d||nh(s,d,m,null,-1===d||2===d?a[++f]:null)}}return s}function nh(s,a,d,f,m){let y=0,T=s.length;if(-1===a)T=-1;else for(;y<s.length;){const I=s[y++];if("number"==typeof I){if(I===a){T=-1;break}if(I>a){T=y-1;break}}}for(;y<s.length;){const I=s[y];if("number"==typeof I)break;if(I===d){if(null===f)return void(null!==m&&(s[y+1]=m));if(f===s[y+1])return void(s[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==T&&(s.splice(T,0,a),y=T+1),s.splice(y++,0,d),null!==f&&s.splice(y++,0,f),null!==m&&s.splice(y++,0,m)}function on(s){return-1!==s}function pt(s){return 32767&s}function zr(s,a){let d=function It(s){return s>>16}(s),f=a;for(;d>0;)f=f[15],d--;return f}let _r=!0;function er(s){const a=_r;return _r=s,a}let sf=0;function cc(s,a){const d=Yr(s,a);if(-1!==d)return d;const f=a[1];f.firstCreatePass&&(s.injectorIndex=a.length,$s(f.data,s),$s(a,null),$s(f.blueprint,null));const m=cs(s,a),y=s.injectorIndex;if(on(m)){const T=pt(m),I=zr(m,a),L=I[1].data;for(let H=0;H<8;H++)a[y+H]=I[T+H]|L[T+H]}return a[y+8]=m,y}function $s(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Yr(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function cs(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let d=0,f=null,m=a;for(;null!==m;){const y=m[1],T=y.type;if(f=2===T?y.declTNode:1===T?m[6]:null,null===f)return-1;if(d++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|d<<16}return-1}function Do(s,a,d){!function hl(s,a,d){let f;"string"==typeof d?f=d.charCodeAt(0)||0:d.hasOwnProperty(zt)&&(f=d[zt]),null==f&&(f=d[zt]=sf++);const m=255&f;a.data[s+(m>>5)]|=1<<m}(s,a,d)}function qs(s,a,d){if(d&gn.Optional)return s;qe(a,"NodeInjector")}function fl(s,a,d,f){if(d&gn.Optional&&void 0===f&&(f=null),0==(d&(gn.Self|gn.Host))){const m=s[9],y=$r(void 0);try{return m?m.get(a,f,d&gn.Optional):Re(a,f,d&gn.Optional)}finally{$r(y)}}return qs(f,a,d)}function Xr(s,a,d,f=gn.Default,m){if(null!==s){const y=function Wr(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(zt)?s[zt]:void 0;return"number"==typeof a?a>=0?255&a:pl:a}(d);if("function"==typeof y){if(!pu(a,s,f))return f&gn.Host?qs(m,d,f):fl(a,d,f,m);try{const T=y(f);if(null!=T||f&gn.Optional)return T;qe(d)}finally{td()}}else if("number"==typeof y){let T=null,I=Yr(s,a),L=-1,H=f&gn.Host?a[16][6]:null;for((-1===I||f&gn.SkipSelf)&&(L=-1===I?cs(s,a):a[I+8],-1!==L&&Bi(f,!1)?(T=a[1],I=pt(L),a=zr(L,a)):I=-1);-1!==I;){const X=a[1];if(gl(y,I,X.data)){const ye=yi(I,a,d,T,f,H);if(ye!==Nn)return ye}L=a[I+8],-1!==L&&Bi(f,a[1].data[I+8]===H)&&gl(y,I,a)?(T=X,I=pt(L),a=zr(L,a)):I=-1}}}return fl(a,d,f,m)}const Nn={};function pl(){return new $o(ai(),Ot())}function yi(s,a,d,f,m,y){const T=a[1],I=T.data[s+8],X=Cs(I,T,d,null==f?Mr(I)&&_r:f!=T&&0!=(3&I.type),m&gn.Host&&y===I);return null!==X?ja(a,T,X,I):Nn}function Cs(s,a,d,f,m){const y=s.providerIndexes,T=a.data,I=1048575&y,L=s.directiveStart,X=y>>20,Ue=m?I+X:s.directiveEnd;for(let tt=f?I:I+X;tt<Ue;tt++){const Et=T[tt];if(tt<L&&d===Et||tt>=L&&Et.type===d)return tt}if(m){const tt=T[L];if(tt&&ui(tt)&&tt.type===d)return L}return null}function ja(s,a,d,f){let m=s[d];const y=a.data;if(function nd(s){return s instanceof dl}(m)){const T=m;T.resolving&&function De(s,a){const d=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new Ge(-200,`Circular dependency in DI detected for ${s}${d}`)}(Me(y[d]));const I=er(T.canSeeViewProviders);T.resolving=!0;const L=T.injectImpl?$r(T.injectImpl):null;pu(s,f,gn.Default);try{m=s[d]=T.factory(void 0,y,s,f),a.firstCreatePass&&d>=f.directiveStart&&function Tp(s,a,d){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=a.type.prototype;if(f){const T=le(a);(d.preOrderHooks||(d.preOrderHooks=[])).push(s,T),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,T)}m&&(d.preOrderHooks||(d.preOrderHooks=[])).push(0-s,m),y&&((d.preOrderHooks||(d.preOrderHooks=[])).push(s,y),(d.preOrderCheckHooks||(d.preOrderCheckHooks=[])).push(s,y))}(d,y[d],a)}finally{null!==L&&$r(L),er(I),T.resolving=!1,td()}}return m}function gl(s,a,d){return!!(d[a+(s>>5)]&1<<s)}function Bi(s,a){return!(s&gn.Self||s&gn.Host&&a)}class $o{constructor(a,d){this._tNode=a,this._lView=d}get(a,d,f){return Xr(this._tNode,this._lView,a,f,d)}}function rh(s){return ct(()=>{const a=s.prototype.constructor,d=a[Vt]||gi(a),f=Object.prototype;let m=Object.getPrototypeOf(s.prototype).constructor;for(;m&&m!==f;){const y=m[Vt]||gi(m);if(y&&y!==d)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function gi(s){return Je(s)?()=>{const a=gi(ae(s));return a&&a()}:B(s)}function kc(s){return function Cr(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const d=s.attrs;if(d){const f=d.length;let m=0;for(;m<f;){const y=d[m];if(rd(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof d[m];)m++;else{if(y===a)return d[m+1];m+=2}}}return null}(ai(),s)}const Jr="__parameters__";function qo(s,a,d){return ct(()=>{const f=function _u(s){return function(...d){if(s){const f=s(...d);for(const m in f)this[m]=f[m]}}}(a);function m(...y){if(this instanceof m)return f.apply(this,y),this;const T=new m(...y);return I.annotation=T,I;function I(L,H,X){const ye=L.hasOwnProperty(Jr)?L[Jr]:Object.defineProperty(L,Jr,{value:[]})[Jr];for(;ye.length<=X;)ye.push(null);return(ye[X]=ye[X]||[]).push(T),L}}return d&&(m.prototype=Object.create(d.prototype)),m.prototype.ngMetadataName=s,m.annotationCls=m,m})}class oi{constructor(a,d){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof d?this.__NG_ELEMENT_ID__=d:void 0!==d&&(this.\u0275prov=Fn({token:this,providedIn:d.providedIn||"root",factory:d.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lc=new oi("AnalyzeForEntryComponents");function Vi(s,a){void 0===a&&(a=s);for(let d=0;d<s.length;d++){let f=s[d];Array.isArray(f)?(a===s&&(a=s.slice(0,d)),Vi(f,a)):a!==s&&a.push(f)}return a}function Zs(s,a){s.forEach(d=>Array.isArray(d)?Zs(d,a):a(d))}function yu(s,a,d){a>=s.length?s.push(d):s.splice(a,0,d)}function Ri(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function us(s,a){const d=[];for(let f=0;f<s;f++)d.push(a);return d}function zo(s,a,d){let f=Ds(s,a);return f>=0?s[1|f]=d:(f=~f,function sd(s,a,d,f){let m=s.length;if(m==a)s.push(d,f);else if(1===m)s.push(f,s[0]),s[0]=d;else{for(m--,s.push(s[m-1],s[m]);m>a;)s[m]=s[m-2],m--;s[a]=d,s[a+1]=f}}(s,f,a,d)),f}function ad(s,a){const d=Ds(s,a);if(d>=0)return s[1|d]}function Ds(s,a){return function yl(s,a,d){let f=0,m=s.length>>d;for(;m!==f;){const y=f+(m-f>>1),T=s[y<<d];if(a===T)return y<<d;T>a?m=y:f=y+1}return~(m<<d)}(s,a,1)}const Bc={},Cu="__NG_DI_FLAG__",ma="ngTempTokenPath",U=/\n/gm,ee="__source",Se=j({provide:String,useValue:j});let Ke;function dt(s){const a=Ke;return Ke=s,a}function Gt(s,a=gn.Default){if(void 0===Ke)throw new Ge(203,"");return null===Ke?Re(s,void 0,a):Ke.get(s,a&gn.Optional?null:void 0,a)}function Jt(s,a=gn.Default){return(function Vr(){return Ni}()||Gt)(ae(s),a)}const Hn=Jt;function Or(s){const a=[];for(let d=0;d<s.length;d++){const f=ae(s[d]);if(Array.isArray(f)){if(0===f.length)throw new Ge(900,"");let m,y=gn.Default;for(let T=0;T<f.length;T++){const I=f[T],L=ji(I);"number"==typeof L?-1===L?m=I.token:y|=L:m=I}a.push(Jt(m,y))}else a.push(Jt(f))}return a}function zn(s,a){return s[Cu]=a,s.prototype[Cu]=a,s}function ji(s){return s[Cu]}const xs=zn(qo("Inject",s=>({token:s})),-1),co=zn(qo("Optional"),8),ei=zn(qo("SkipSelf"),4);let Ha,ff;function As(s){var a;return(null===(a=function Hc(){if(void 0===Ha&&(Ha=null,Xt.trustedTypes))try{Ha=Xt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return Ha}())||void 0===a?void 0:a.createHTML(s))||s}function Gi(s){var a;return(null===(a=function sh(){if(void 0===ff&&(ff=null,Xt.trustedTypes))try{ff=Xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch(s){}return ff}())||void 0===a?void 0:a.createHTML(s))||s}class $c{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class ls extends $c{getTypeName(){return"HTML"}}class xp extends $c{getTypeName(){return"Style"}}class Ap extends $c{getTypeName(){return"Script"}}class ud extends $c{getTypeName(){return"URL"}}class ld extends $c{getTypeName(){return"ResourceURL"}}function hs(s){return s instanceof $c?s.changingThisBreaksApplicationSecurity:s}function pc(s,a){const d=pf(s);if(null!=d&&d!==a){if("ResourceURL"===d&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${d} (see https://g.co/ng/security#xss)`)}return d===a}function pf(s){return s instanceof $c&&s.getTypeName()||null}function dd(s){return new ls(s)}function ah(s){return new xp(s)}function ch(s){return new Ap(s)}function Yg(s){return new ud(s)}function Hi(s){return new ld(s)}function Rr(s){const a=new hd(s);return function qc(){try{return!!(new window.DOMParser).parseFromString(As(""),"text/html")}catch(s){return!1}}()?new gf(a):a}class gf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const d=(new window.DOMParser).parseFromString(As(a),"text/html").body;return null===d?this.inertDocumentHelper.getInertBodyElement(a):(d.removeChild(d.firstChild),d)}catch(d){return null}}}class hd{constructor(a){if(this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const d=this.inertDocument.createElement("html");this.inertDocument.appendChild(d);const f=this.inertDocument.createElement("body");d.appendChild(f)}}getInertBodyElement(a){const d=this.inertDocument.createElement("template");if("content"in d)return d.innerHTML=As(a),d;const f=this.inertDocument.createElement("body");return f.innerHTML=As(a),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(a){const d=a.attributes;for(let m=d.length-1;0<m;m--){const T=d.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&a.removeAttribute(T)}let f=a.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Pi=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,xo=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ti(s){return(s=String(s)).match(Pi)||s.match(xo)?s:"unsafe:"+s}function fd(s){return(s=String(s)).split(",").map(a=>ti(a.trim())).join(", ")}function ko(s){const a={};for(const d of s.split(","))a[d]=!0;return a}function uh(...s){const a={};for(const d of s)for(const f in d)d.hasOwnProperty(f)&&(a[f]=!0);return a}const Wo=ko("area,br,col,hr,img,wbr"),Ip=ko("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Zc=ko("rp,rt"),Qr=uh(Wo,uh(Ip,ko("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),uh(Zc,ko("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),uh(Zc,Ip)),Qg=ko("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Eu=ko("srcset"),dh=uh(Qg,Eu,ko("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ko("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Pp=ko("script,style,template");class Du{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(a){let d=a.firstChild,f=!0;for(;d;)if(d.nodeType===Node.ELEMENT_NODE?f=this.startElement(d):d.nodeType===Node.TEXT_NODE?this.chars(d.nodeValue):this.sanitizedSomething=!0,f&&d.firstChild)d=d.firstChild;else for(;d;){d.nodeType===Node.ELEMENT_NODE&&this.endElement(d);let m=this.checkClobberedElement(d,d.nextSibling);if(m){d=m;break}d=this.checkClobberedElement(d,d.parentNode)}return this.buf.join("")}startElement(a){const d=a.nodeName.toLowerCase();if(!Qr.hasOwnProperty(d))return this.sanitizedSomething=!0,!Pp.hasOwnProperty(d);this.buf.push("<"),this.buf.push(d);const f=a.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),T=y.name,I=T.toLowerCase();if(!dh.hasOwnProperty(I)){this.sanitizedSomething=!0;continue}let L=y.value;Qg[I]&&(L=ti(L)),Eu[I]&&(L=fd(L)),this.buf.push(" ",T,'="',Mp(L),'"')}return this.buf.push(">"),!0}endElement(a){const d=a.nodeName.toLowerCase();Qr.hasOwnProperty(d)&&!Wo.hasOwnProperty(d)&&(this.buf.push("</"),this.buf.push(d),this.buf.push(">"))}chars(a){this.buf.push(Mp(a))}checkClobberedElement(a,d){if(d&&(a.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${a.outerHTML}`);return d}}const Xg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,em=/([^\#-~ |!])/g;function Mp(s){return s.replace(/&/g,"&amp;").replace(Xg,function(a){return"&#"+(1024*(a.charCodeAt(0)-55296)+(a.charCodeAt(1)-56320)+65536)+";"}).replace(em,function(a){return"&#"+a.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let md;function tm(s,a){let d=null;try{md=md||Rr(s);let f=a?String(a):"";d=md.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=d.innerHTML,d=md.getInertBodyElement(f)}while(f!==y);return As((new Du).sanitizeChildren(Op(d)||d))}finally{if(d){const f=Op(d)||d;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function Op(s){return"content"in s&&function Np(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var vi=(()=>((vi=vi||{})[vi.NONE=0]="NONE",vi[vi.HTML=1]="HTML",vi[vi.STYLE=2]="STYLE",vi[vi.SCRIPT=3]="SCRIPT",vi[vi.URL=4]="URL",vi[vi.RESOURCE_URL=5]="RESOURCE_URL",vi))();function Rp(s){const a=_d();return a?Gi(a.sanitize(vi.HTML,s)||""):pc(s,"HTML")?Gi(hs(s)):tm(Ji(),ue(s))}function lo(s){const a=_d();return a?a.sanitize(vi.URL,s)||"":pc(s,"URL")?hs(s):ti(ue(s))}function _d(){const s=Ot();return s&&s[12]}const fh="__ngContext__";function Yo(s,a){s[fh]=a}function vf(s){const a=function yf(s){return s[fh]||null}(s);return a?Array.isArray(a)?a:a.lView:null}function fo(s){return s.ngOriginalError}function gh(s,...a){s.error(...a)}class Is{constructor(){this._console=console}handleError(a){const d=this._findOriginalError(a),f=function Cf(s){return s&&s.ngErrorLogger||gh}(a);f(this._console,"ERROR",a),d&&f(this._console,"ORIGINAL ERROR",d)}_findOriginalError(a){let d=a&&fo(a);for(;d&&fo(d);)d=fo(d);return d||null}}const Wc=/^>|^->|<!--|-->|--!>|<!-$/g,Fp=/(<|>)/;const j_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Xt))();function _h(s){return s.ownerDocument.defaultView}function mi(s){return s.ownerDocument}function Jo(s){return s instanceof Function?s():s}var ya=(()=>((ya=ya||{})[ya.Important=1]="Important",ya[ya.DashCase=2]="DashCase",ya))();let _t;function ni(s,a){return _t(s,a)}function fs(s){const a=s[3];return Yt(a)?a[3]:a}function Yc(s){return vh(s[13])}function xl(s){return vh(s[4])}function vh(s){for(;null!==s&&!Yt(s);)s=s[4];return s}function Mi(s,a,d,f,m){if(null!=f){let y,T=!1;Yt(f)?y=f:Mt(f)&&(T=!0,f=f[0]);const I=Kr(f);0===s&&null!==d?null==m?xf(a,d,I):Xc(a,d,I,m||null,!0):1===s&&null!==d?Xc(a,d,I,m||null,!0):2===s?Iu(a,I,T):3===s&&a.destroyNode(I),null!=y&&function wh(s,a,d,f,m){const y=d[7];y!==Kr(d)&&Mi(a,s,f,y,m);for(let I=10;I<d.length;I++){const L=d[I];Ys(L[1],L,s,a,f,y)}}(a,s,y,d,m)}}function vd(s,a){return Sr(s)?s.createText(a):s.createTextNode(a)}function bd(s,a,d){Sr(s)?s.setValue(a,d):a.textContent=d}function bh(s,a){return s.createComment(function wf(s){return s.replace(Wc,a=>a.replace(Fp,"\u200b$1\u200b"))}(a))}function mc(s,a,d){if(Sr(s))return s.createElement(a,d);{const f=null!==d?function Yn(s){const a=s.toLowerCase();return"svg"===a?"http://www.w3.org/2000/svg":"math"===a?"http://www.w3.org/1998/MathML/":null}(d):null;return null===f?s.createElement(a):s.createElementNS(f,a)}}function Ws(s,a){const d=s[9],f=d.indexOf(a),m=a[3];1024&a[2]&&(a[2]&=-1025,Ac(m,-1)),d.splice(f,1)}function Jc(s,a){if(s.length<=10)return;const d=10+a,f=s[d];if(f){const m=f[17];null!==m&&m!==s&&Ws(m,f),a>0&&(s[d-1][4]=f[4]);const y=Ri(s,10+a);!function sm(s,a){Ys(s,a,a[11],2,null,null),a[0]=null,a[6]=null}(f[1],f);const T=y[19];null!==T&&T.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Qc(s,a){if(!(256&a[2])){const d=a[11];Sr(d)&&d.destroyNode&&Ys(s,a,d,3,null,null),function Ch(s){let a=s[13];if(!a)return Sf(s[1],s);for(;a;){let d=null;if(Mt(a))d=a[13];else{const f=a[10];f&&(d=f)}if(!d){for(;a&&!a[4]&&a!==s;)Mt(a)&&Sf(a[1],a),a=a[3];null===a&&(a=s),Mt(a)&&Sf(a[1],a),d=a&&a[4]}a=d}}(a)}}function Sf(s,a){if(!(256&a[2])){a[2]&=-129,a[2]|=256,function Vp(s,a){let d;if(null!=s&&null!=(d=s.destroyHooks))for(let f=0;f<d.length;f+=2){const m=a[d[f]];if(!(m instanceof dl)){const y=d[f+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const I=m[y[T]],L=y[T+1];try{L.call(I)}finally{}}else try{y.call(m)}finally{}}}}(s,a),function Bp(s,a){const d=s.cleanup,f=a[7];let m=-1;if(null!==d)for(let y=0;y<d.length-1;y+=2)if("string"==typeof d[y]){const T=d[y+1],I="function"==typeof T?T(a):Kr(a[T]),L=f[m=d[y+2]],H=d[y+3];"boolean"==typeof H?I.removeEventListener(d[y],L,H):H>=0?f[m=H]():f[m=-H].unsubscribe(),y+=2}else{const T=f[m=d[y+1]];d[y].call(T)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();a[7]=null}}(s,a),1===a[1].type&&Sr(a[11])&&a[11].destroy();const d=a[17];if(null!==d&&Yt(a[3])){d!==a[3]&&Ws(d,a);const f=a[19];null!==f&&f.detachView(s)}}}function Ks(s,a,d){return jp(s,a.parent,d)}function jp(s,a,d){let f=a;for(;null!==f&&40&f.type;)f=(a=f).parent;if(null===f)return d[0];if(2&f.flags){const m=s.data[f.directiveStart].encapsulation;if(m===Pt.None||m===Pt.Emulated)return null}return No(f,d)}function Xc(s,a,d,f,m){Sr(s)?s.insertBefore(a,d,f,m):a.insertBefore(d,f,m)}function xf(s,a,d){Sr(s)?s.appendChild(a,d):a.appendChild(d)}function Gp(s,a,d,f,m){null!==f?Xc(s,a,d,f,m):xf(s,a,d)}function Ao(s,a){return Sr(s)?s.parentNode(a):a.parentNode}function Hp(s,a,d){return qp(s,a,d)}function $p(s,a,d){return 40&s.type?No(s,d):null}let Zp,qp=$p;function Cd(s,a){qp=s,Zp=a}function za(s,a,d,f){const m=Ks(s,f,a),y=a[11],I=Hp(f.parent||a[6],f,a);if(null!=m)if(Array.isArray(d))for(let L=0;L<d.length;L++)Gp(y,m,d[L],I,!1);else Gp(y,m,d,I,!1);void 0!==Zp&&Zp(y,f,a,d,m)}function Wa(s,a){if(null!==a){const d=a.type;if(3&d)return No(a,s);if(4&d)return wd(-1,s[a.index]);if(8&d){const f=a.child;if(null!==f)return Wa(s,f);{const m=s[a.index];return Yt(m)?wd(-1,m):Kr(m)}}if(32&d)return ni(a,s)()||Kr(s[a.index]);{const f=Af(s,a);return null!==f?Array.isArray(f)?f[0]:Wa(fs(s[16]),f):Wa(s,a.next)}}return null}function Af(s,a){return null!==a?s[16][6].projection[a.projection]:null}function wd(s,a){const d=10+s+1;if(d<a.length){const f=a[d],m=f[1].firstChild;if(null!==m)return Wa(f,m)}return a[7]}function Iu(s,a,d){const f=Ao(s,a);f&&function no(s,a,d,f){Sr(s)?s.removeChild(a,d,f):a.removeChild(d)}(s,f,a,d)}function Er(s,a,d,f,m,y,T){for(;null!=d;){const I=f[d.index],L=d.type;if(T&&0===a&&(I&&Yo(Kr(I),f),d.flags|=4),64!=(64&d.flags))if(8&L)Er(s,a,d.child,f,m,y,!1),Mi(a,s,m,I,y);else if(32&L){const H=ni(d,f);let X;for(;X=H();)Mi(a,s,m,X,y);Mi(a,s,m,I,y)}else 16&L?eu(s,a,f,d,m,y):Mi(a,s,m,I,y);d=T?d.projectionNext:d.next}}function Ys(s,a,d,f,m,y){Er(d,f,s.firstChild,a,m,y,!1)}function eu(s,a,d,f,m,y){const T=d[16],L=T[6].projection[f.projection];if(Array.isArray(L))for(let H=0;H<L.length;H++)Mi(a,s,m,L[H],y);else Er(s,a,L,T[3],m,y,!0)}function Td(s,a,d){Sr(s)?s.setAttribute(a,"style",d):a.style.cssText=d}function If(s,a,d){Sr(s)?""===d?s.removeAttribute(a,"class"):s.setAttribute(a,"class",d):a.className=d}function Fo(s,a,d){let f=s.length;for(;;){const m=s.indexOf(a,d);if(-1===m)return m;if(0===m||s.charCodeAt(m-1)<=32){const y=a.length;if(m+y===f||s.charCodeAt(m+y)<=32)return m}d=m+1}}const Ed="ng-template";function Dd(s,a,d){let f=0;for(;f<s.length;){let m=s[f++];if(d&&"class"===m){if(m=s[f],-1!==Fo(m.toLowerCase(),a,0))return!0}else if(1===m){for(;f<s.length&&"string"==typeof(m=s[f++]);)if(m.toLowerCase()===a)return!0;return!1}}return!1}function zp(s){return 4===s.type&&s.value!==Ed}function _c(s,a,d){return a===(4!==s.type||d?s.value:Ed)}function tu(s,a,d){let f=4;const m=s.attrs||[],y=function lm(s){for(let a=0;a<s.length;a++)if(rd(s[a]))return a;return s.length}(m);let T=!1;for(let I=0;I<a.length;I++){const L=a[I];if("number"!=typeof L){if(!T)if(4&f){if(f=2|1&f,""!==L&&!_c(s,L,d)||""===L&&1===a.length){if(Js(f))return!1;T=!0}}else{const H=8&f?L:a[++I];if(8&f&&null!==s.attrs){if(!Dd(s.attrs,H,d)){if(Js(f))return!1;T=!0}continue}const ye=Pu(8&f?"class":L,m,zp(s),d);if(-1===ye){if(Js(f))return!1;T=!0;continue}if(""!==H){let Ue;Ue=ye>y?"":m[ye+1].toLowerCase();const tt=8&f?Ue:null;if(tt&&-1!==Fo(tt,H,0)||2&f&&H!==Ue){if(Js(f))return!1;T=!0}}}}else{if(!T&&!Js(f)&&!Js(L))return!1;if(T&&Js(L))continue;T=!1,f=L|1&f}}return Js(f)||T}function Js(s){return 0==(1&s)}function Pu(s,a,d,f){if(null===a)return-1;let m=0;if(f||!d){let y=!1;for(;m<a.length;){const T=a[m];if(T===s)return m;if(3===T||6===T)y=!0;else{if(1===T||2===T){let I=a[++m];for(;"string"==typeof I;)I=a[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=y?1:2}return-1}return function Ka(s,a){let d=s.indexOf(4);if(d>-1)for(d++;d<s.length;){const f=s[d];if("number"==typeof f)return-1;if(f===a)return d;d++}return-1}(a,s)}function um(s,a,d=!1){for(let f=0;f<a.length;f++)if(tu(s,a[f],d))return!0;return!1}function Il(s,a){e:for(let d=0;d<a.length;d++){const f=a[d];if(s.length===f.length){for(let m=0;m<s.length;m++)if(s[m]!==f[m])continue e;return!0}}return!1}function Pf(s,a){return s?":not("+a.trim()+")":a}function dm(s){let a=s[0],d=1,f=2,m="",y=!1;for(;d<s.length;){let T=s[d];if("string"==typeof T)if(2&f){const I=s[++d];m+="["+T+(I.length>0?'="'+I+'"':"")+"]"}else 8&f?m+="."+T:4&f&&(m+=" "+T);else""!==m&&!Js(T)&&(a+=Pf(y,m),m=""),f=T,y=y||!Js(f);d++}return""!==m&&(a+=Pf(y,m)),a}const S={};function _(s){w(jn(),Ot(),Eo()+s,il())}function w(s,a,d,f){if(!f)if(3==(3&a[2])){const y=s.preOrderCheckHooks;null!==y&&ll(a,y,d)}else{const y=s.preOrderHooks;null!==y&&Nc(a,y,0,d)}js(d)}function ie(s,a){return s<<17|a<<2}function ve(s){return s>>17&32767}function vn(s){return 2|s}function Un(s){return(131068&s)>>2}function hr(s,a){return-131069&s|a<<2}function gs(s){return 1|s}function Ah(s,a){const d=s.contentQueries;if(null!==d)for(let f=0;f<d.length;f+=2){const m=d[f],y=d[f+1];if(-1!==y){const T=s.data[y];la(m),T.contentQueries(2,a[y],y)}}}function ku(s,a,d,f,m,y,T,I,L,H){const X=a.blueprint.slice();return X[0]=m,X[2]=140|f,Ls(X),X[3]=X[15]=s,X[8]=d,X[10]=T||s&&s[10],X[11]=I||s&&s[11],X[12]=L||s&&s[12]||null,X[9]=H||s&&s[9]||null,X[6]=y,X[16]=2==a.type?s[16]:X,X}function Qo(s,a,d,f,m){let y=s.data[a];if(null===y)y=Yp(s,a,d,f,m),function Jd(){return Kn.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=d,y.value=f,y.attrs=m;const T=Ua();y.injectorIndex=null===T?-1:T.injectorIndex}return Us(y,!0),y}function Yp(s,a,d,f,m){const y=rl(),T=Pc(),L=s.data[a]=function bm(s,a,d,f,m,y){return{type:d,index:f,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,d,a,f,m);return null===s.firstChild&&(s.firstChild=L),null!==y&&(T?null==y.child&&null!==L.parent&&(y.child=L):null===y.next&&(y.next=L)),L}function Ml(s,a,d,f){if(0===d)return-1;const m=a.length;for(let y=0;y<d;y++)a.push(f),s.blueprint.push(f),s.data.push(null);return m}function Ol(s,a,d){Mc(a);try{const f=s.viewQuery;null!==f&&Mm(1,f,d);const m=s.template;null!==m&&_m(s,a,m,1,d),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Ah(s,a),s.staticViewQueries&&Mm(2,s.viewQuery,d);const y=s.components;null!==y&&function mm(s,a){for(let d=0;d<a.length;d++)ig(s,a[d])}(a,y)}catch(f){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),f}finally{a[2]&=-5,Vs()}}function Fu(s,a,d,f){const m=a[2];if(256==(256&m))return;Mc(a);const y=il();try{Ls(a),function Ba(s){return Kn.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==d&&_m(s,a,d,2,f);const T=3==(3&m);if(!y)if(T){const H=s.preOrderCheckHooks;null!==H&&ll(a,H,null)}else{const H=s.preOrderHooks;null!==H&&Nc(a,H,0,null),li(a,0)}if(function Vv(s){for(let a=Yc(s);null!==a;a=xl(a)){if(!a[2])continue;const d=a[9];for(let f=0;f<d.length;f++){const m=d[f],y=m[3];0==(1024&m[2])&&Ac(y,1),m[2]|=1024}}}(a),function ng(s){for(let a=Yc(s);null!==a;a=xl(a))for(let d=10;d<a.length;d++){const f=a[d],m=f[1];ka(f)&&Fu(m,f,m.template,f[8])}}(a),null!==s.contentQueries&&Ah(s,a),!y)if(T){const H=s.contentCheckHooks;null!==H&&ll(a,H)}else{const H=s.contentHooks;null!==H&&Nc(a,H,1),li(a,1)}!function xh(s,a){const d=s.hostBindingOpCodes;if(null!==d)try{for(let f=0;f<d.length;f++){const m=d[f];if(m<0)js(~m);else{const y=m,T=d[++f],I=d[++f];Qd(T,y),I(2,a[y])}}}finally{js(-1)}}(s,a);const I=s.components;null!==I&&function gm(s,a){for(let d=0;d<a.length;d++)rg(s,a[d])}(a,I);const L=s.viewQuery;if(null!==L&&Mm(2,L,f),!y)if(T){const H=s.viewCheckHooks;null!==H&&ll(a,H)}else{const H=s.viewHooks;null!==H&&Nc(a,H,2),li(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),y||(a[2]&=-73),1024&a[2]&&(a[2]&=-1025,Ac(a[3],-1))}finally{Vs()}}function fy(s,a,d,f){const m=a[10],y=!il(),T=bs(a);try{y&&!T&&m.begin&&m.begin(),T&&Ol(s,a,f),Fu(s,a,d,f)}finally{y&&!T&&m.end&&m.end()}}function _m(s,a,d,f,m){const y=Eo(),T=2&f;try{js(-1),T&&a.length>20&&w(s,a,20,il()),d(f,m)}finally{js(y)}}function Ff(s,a,d){if(sr(a)){const m=a.directiveEnd;for(let y=a.directiveStart;y<m;y++){const T=s.data[y];T.contentQueries&&T.contentQueries(1,d[y],y)}}}function kd(s,a,d){!La()||(function Bf(s,a,d,f){const m=d.directiveStart,y=d.directiveEnd;s.firstCreatePass||cc(d,a),Yo(f,a);const T=d.initialInputs;for(let I=m;I<y;I++){const L=s.data[I],H=ui(L);H&&n0(a,d,L);const X=ja(a,s,I,d);Yo(X,a),null!==T&&Pm(0,I-m,X,L,0,T),H&&(so(d.index,a)[8]=X)}}(s,a,d,No(d,a)),128==(128&d.flags)&&function Dm(s,a,d){const f=d.directiveStart,m=d.directiveEnd,T=d.index,I=function ac(){return Kn.lFrame.currentDirectiveIndex}();try{js(T);for(let L=f;L<m;L++){const H=s.data[L],X=a[L];fu(L),(null!==H.hostBindings||0!==H.hostVars||null!==H.hostAttrs)&&Vf(H,X)}}finally{js(-1),fu(I)}}(s,a,d))}function Nl(s,a,d=No){const f=a.localNames;if(null!==f){let m=a.index+1;for(let y=0;y<f.length;y+=2){const T=f[y+1],I=-1===T?d(a,s):s[T];s[m++]=I}}}function Jp(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Lf(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Lf(s,a,d,f,m,y,T,I,L,H){const X=20+f,ye=X+m,Ue=function Qp(s,a){const d=[];for(let f=0;f<a;f++)d.push(f<s?null:S);return d}(X,ye),tt="function"==typeof H?H():H;return Ue[1]={type:s,blueprint:Ue,template:d,queries:null,viewQuery:I,declTNode:a,data:Ue.slice().fill(null,X),bindingStartIndex:X,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:L,consts:tt,incompleteFirstPass:!1}}function Ih(s,a,d,f){const m=$f(a);null===d?m.push(f):(m.push(d),s.firstCreatePass&&ag(s).push(f,m.length-1))}function Fd(s,a,d){for(let f in s)if(s.hasOwnProperty(f)){const m=s[f];(d=null===d?{}:d).hasOwnProperty(f)?d[f].push(a,m):d[f]=[a,m]}return d}function Lo(s,a,d,f,m,y,T,I){const L=No(a,d);let X,H=a.inputs;!I&&null!=H&&(X=H[f])?(a0(s,d,X,f,m),Mr(a)&&function wm(s,a){const d=so(a,s);16&d[2]||(d[2]|=64)}(d,a.index)):3&a.type&&(f=function eg(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(f),m=null!=T?T(m,a.value||"",f):m,Sr(y)?y.setProperty(L,f,m):kn(f)||(L.setProperty?L.setProperty(f,m):L[f]=m))}function Uu(s,a,d,f){let m=!1;if(La()){const y=function Sm(s,a,d){const f=s.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const T=f[y];um(d,T.selectors,!1)&&(m||(m=[]),Do(cc(d,a),s,T.type),ui(T)?(xm(s,d),m.unshift(T)):m.push(T))}return m}(s,a,d),T=null===f?null:{"":-1};if(null!==y){m=!0,e0(d,s.data.length,y.length);for(let X=0;X<y.length;X++){const ye=y[X];ye.providersResolver&&ye.providersResolver(ye)}let I=!1,L=!1,H=Ml(s,a,y.length,null);for(let X=0;X<y.length;X++){const ye=y[X];d.mergedAttrs=Jn(d.mergedAttrs,ye.hostAttrs),t0(s,d,a,H,ye),Am(H,ye,T),null!==ye.contentQueries&&(d.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(d.flags|=128);const Ue=ye.type.prototype;!I&&(Ue.ngOnChanges||Ue.ngOnInit||Ue.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(d.index),I=!0),!L&&(Ue.ngOnChanges||Ue.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(d.index),L=!0),H++}!function Cm(s,a){const f=a.directiveEnd,m=s.data,y=a.attrs,T=[];let I=null,L=null;for(let H=a.directiveStart;H<f;H++){const X=m[H],ye=X.inputs,Ue=null===y||zp(a)?null:gy(ye,y);T.push(Ue),I=Fd(ye,H,I),L=Fd(X.outputs,H,L)}null!==I&&(I.hasOwnProperty("class")&&(a.flags|=16),I.hasOwnProperty("style")&&(a.flags|=32)),a.initialInputs=T,a.inputs=I,a.outputs=L}(s,d)}T&&function Ph(s,a,d){if(a){const f=s.localNames=[];for(let m=0;m<a.length;m+=2){const y=d[a[m+1]];if(null==y)throw new Ge(-301,!1);f.push(a[m],y)}}}(d,f,T)}return d.mergedAttrs=Jn(d.mergedAttrs,d.attrs),m}function X_(s,a,d,f,m,y){const T=y.hostBindings;if(T){let I=s.hostBindingOpCodes;null===I&&(I=s.hostBindingOpCodes=[]);const L=~a.index;(function Em(s){let a=s.length;for(;a>0;){const d=s[--a];if("number"==typeof d&&d<0)return d}return 0})(I)!=L&&I.push(L),I.push(f,m,T)}}function Vf(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function xm(s,a){a.flags|=2,(s.components||(s.components=[])).push(a.index)}function Am(s,a,d){if(d){if(a.exportAs)for(let f=0;f<a.exportAs.length;f++)d[a.exportAs[f]]=s;ui(a)&&(d[""]=s)}}function e0(s,a,d){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+d,s.providerIndexes=a}function t0(s,a,d,f,m){s.data[f]=m;const y=m.factory||(m.factory=B(m.type)),T=new dl(y,ui(m),null);s.blueprint[f]=T,d[f]=T,X_(s,a,0,f,Ml(s,d,m.hostVars,S),m)}function n0(s,a,d){const f=No(a,s),m=Jp(d),y=s[10],T=Mh(s,ku(s,m,null,d.onPush?64:16,f,a,y,y.createRenderer(f,d),null,null));s[a.index]=T}function Im(s,a,d,f,m,y,T){if(null==y)Sr(s)?s.removeAttribute(a,m,d):a.removeAttribute(m);else{const I=null==T?ue(y):T(y,f||"",m);Sr(s)?s.setAttribute(a,m,I,d):d?a.setAttributeNS(d,m,I):a.setAttribute(m,I)}}function Pm(s,a,d,f,m,y){const T=y[a];if(null!==T){const I=f.setInput;for(let L=0;L<T.length;){const H=T[L++],X=T[L++],ye=T[L++];null!==I?f.setInput(d,ye,H,X):d[X]=ye}}}function gy(s,a){let d=null,f=0;for(;f<a.length;){const m=a[f];if(0!==m)if(5!==m){if("number"==typeof m)break;s.hasOwnProperty(m)&&(null===d&&(d=[]),d.push(m,s[m],a[f+1])),f+=2}else f+=2;else f+=4}return d}function o0(s,a,d,f){return new Array(s,!0,!1,a,null,0,f,d,null,null)}function rg(s,a){const d=so(a,s);if(ka(d)){const f=d[1];80&d[2]?Fu(f,d,f.template,d[8]):d[5]>0&&jf(d)}}function jf(s){for(let f=Yc(s);null!==f;f=xl(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const T=y[1];Fu(T,y,T.template,y[8])}else y[5]>0&&jf(y)}const d=s[1].components;if(null!==d)for(let f=0;f<d.length;f++){const m=so(d[f],s);ka(m)&&m[5]>0&&jf(m)}}function ig(s,a){const d=so(a,s),f=d[1];(function og(s,a){for(let d=a.length;d<s.blueprint.length;d++)a.push(s.blueprint[d])})(f,d),Ol(f,d,d[8])}function Mh(s,a){return s[13]?s[14][4]=a:s[13]=a,s[14]=a,a}function Rl(s){for(;s;){s[2]|=64;const a=fs(s);if(rs(s)&&!a)return s;s=a}return null}function Bu(s,a,d){const f=a[10];f.begin&&f.begin();try{Fu(s,a,s.template,d)}catch(m){throw s0(a,m),m}finally{f.end&&f.end()}}function Ld(s){!function Gf(s){for(let a=0;a<s.components.length;a++){const d=s.components[a],f=vf(d),m=f[1];fy(m,f,m.template,d)}}(s[8])}function Mm(s,a,d){la(0),a(s,d)}const Hf=(()=>Promise.resolve(null))();function $f(s){return s[7]||(s[7]=[])}function ag(s){return s.cleanup||(s.cleanup=[])}function s0(s,a){const d=s[9],f=d?d.get(Is,null):null;f&&f.handleError(a)}function a0(s,a,d,f,m){for(let y=0;y<d.length;){const T=d[y++],I=d[y++],L=a[T],H=s.data[T];null!==H.setInput?H.setInput(L,m,f,I):L[I]=m}}function Qa(s,a,d){const f=Ra(a,s);bd(s[11],f,d)}function Nh(s,a,d){let f=d?s.styles:null,m=d?s.classes:null,y=0;if(null!==a)for(let T=0;T<a.length;T++){const I=a[T];"number"==typeof I?y=I:1==y?m=J(m,I):2==y&&(f=J(f,I+": "+a[++T]+";"))}d?s.styles=f:s.stylesWithoutHost=f,d?s.classes=m:s.classesWithoutHost=m}const qf=new oi("INJECTOR",-1);class vc{get(a,d=Bc){if(d===Bc){const f=new Error(`NullInjectorError: No provider for ${z(a)}!`);throw f.name="NullInjectorError",f}return d}}const Xa=new oi("Set Injector scope."),bc={},_y={};let Om;function Nm(){return void 0===Om&&(Om=new vc),Om}function c0(s,a=null,d=null,f){const m=Zf(s,a,d,f);return m._resolveInjectorDefTypes(),m}function Zf(s,a=null,d=null,f){return new ug(s,d,a||Nm(),f)}class ug{constructor(a,d,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];d&&Zs(d,I=>this.processProvider(I,a,d)),Zs([a],I=>this.processInjectorType(I,[],y)),this.records.set(qf,Fl(void 0,this));const T=this.records.get(Xa);this.scope=null!=T?T.value:null,this.source=m||("object"==typeof a?null:z(a))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(a=>a.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(a,d=Bc,f=gn.Default){this.assertNotDestroyed();const m=dt(this),y=$r(void 0);try{if(!(f&gn.SkipSelf)){let I=this.records.get(a);if(void 0===I){const L=function yy(s){return"function"==typeof s||"object"==typeof s&&s instanceof oi}(a)&&Xn(a);I=L&&this.injectableDefInScope(L)?Fl(Ud(a),bc):null,this.records.set(a,I)}if(null!=I)return this.hydrate(a,I)}return(f&gn.Self?Nm():this.parent).get(a,d=f&gn.Optional&&d===Bc?null:d)}catch(T){if("NullInjectorError"===T.name){if((T[ma]=T[ma]||[]).unshift(z(a)),m)throw T;return function Ii(s,a,d,f){const m=s[ma];throw a[ee]&&m.unshift(a[ee]),s.message=function hc(s,a,d,f=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.substr(2):s;let m=z(a);if(Array.isArray(a))m=a.map(z).join(" -> ");else if("object"==typeof a){let y=[];for(let T in a)if(a.hasOwnProperty(T)){let I=a[T];y.push(T+":"+("string"==typeof I?JSON.stringify(I):z(I)))}m=`{${y.join(", ")}}`}return`${d}${f?"("+f+")":""}[${m}]: ${s.replace(U,"\n  ")}`}("\n"+s.message,m,d,f),s.ngTokenPath=m,s[ma]=null,s}(T,a,"R3InjectorError",this.source)}throw T}finally{$r(y),dt(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(a=>this.get(a))}toString(){const a=[];return this.records.forEach((f,m)=>a.push(z(m))),`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ge(205,!1)}processInjectorType(a,d,f){if(!(a=ae(a)))return!1;let m=ki(a);const y=null==m&&a.ngModule||void 0,T=void 0===y?a:y,I=-1!==f.indexOf(T);if(void 0!==y&&(m=ki(y)),null==m)return!1;if(null!=m.imports&&!I){let X;f.push(T);try{Zs(m.imports,ye=>{this.processInjectorType(ye,d,f)&&(void 0===X&&(X=[]),X.push(ye))})}finally{}if(void 0!==X)for(let ye=0;ye<X.length;ye++){const{ngModule:Ue,providers:tt}=X[ye];Zs(tt,Et=>this.processProvider(Et,Ue,tt||Ht))}}this.injectorDefTypes.add(T);const L=B(T)||(()=>new T);this.records.set(T,Fl(L,bc));const H=m.providers;if(null!=H&&!I){const X=a;Zs(H,ye=>this.processProvider(ye,X,H))}return void 0!==y&&void 0!==a.providers}processProvider(a,d,f){let m=Rh(a=ae(a))?a:ae(a&&a.provide);const y=function Vu(s,a,d){return km(s)?Fl(void 0,s.useValue):Fl(Rm(s),bc)}(a);if(Rh(a)||!0!==a.multi)this.records.get(m);else{let T=this.records.get(m);T||(T=Fl(void 0,bc,!0),T.factory=()=>Or(T.multi),this.records.set(m,T)),m=a,T.multi.push(a)}this.records.set(m,y)}hydrate(a,d){return d.value===bc&&(d.value=_y,d.value=d.factory()),"object"==typeof d.value&&d.value&&function Um(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(d.value)&&this.onDestroy.add(d.value),d.value}injectableDefInScope(a){if(!a.providedIn)return!1;const d=ae(a.providedIn);return"string"==typeof d?"any"===d||d===this.scope:this.injectorDefTypes.has(d)}}function Ud(s){const a=Xn(s),d=null!==a?a.factory:B(s);if(null!==d)return d;if(s instanceof oi)throw new Ge(204,!1);if(s instanceof Function)return function Hv(s){const a=s.length;if(a>0)throw us(a,"?"),new Ge(204,!1);const d=function mr(s){const a=s&&(s[wi]||s[Br]);if(a){const d=function xr(s){if(s.hasOwnProperty("name"))return s.name;const a=(""+s).match(/^function\s*([^\s(]+)/);return null===a?"":a[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${d}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${d}" class.`),a}return null}(s);return null!==d?()=>d.factory(s):()=>new s}(s);throw new Ge(204,!1)}function Rm(s,a,d){let f;if(Rh(s)){const m=ae(s);return B(m)||Ud(m)}if(km(s))f=()=>ae(s.useValue);else if(function u0(s){return!(!s||!s.useFactory)}(s))f=()=>s.useFactory(...Or(s.deps||[]));else if(function Fm(s){return!(!s||!s.useExisting)}(s))f=()=>Jt(ae(s.useExisting));else{const m=ae(s&&(s.useClass||s.provide));if(!function l0(s){return!!s.deps}(s))return B(m)||Ud(m);f=()=>new m(...Or(s.deps))}return f}function Fl(s,a,d=!1){return{factory:s,value:a,multi:d?[]:void 0}}function km(s){return null!==s&&"object"==typeof s&&Se in s}function Rh(s){return"function"==typeof s}let va=(()=>{class s{static create(d,f){var m;if(Array.isArray(d))return c0({name:""},f,d,"");{const y=null!==(m=d.name)&&void 0!==m?m:"";return c0({name:y},d.parent,d.providers,y)}}}return s.THROW_IF_NOT_FOUND=Bc,s.NULL=new vc,s.\u0275prov=Fn({token:s,providedIn:"any",factory:()=>Jt(qf)}),s.__NG_ELEMENT_ID__=-1,s})();function fg(s,a){th(vf(s)[1],ai())}function Jf(s){let a=function tc(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),d=!0;const f=[s];for(;a;){let m;if(ui(s))m=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new Ge(903,"");m=a.\u0275dir}if(m){if(d){f.push(m);const T=s;T.inputs=g0(s.inputs),T.declaredInputs=g0(s.declaredInputs),T.outputs=g0(s.outputs);const I=m.hostBindings;I&&Cy(s,I);const L=m.viewQuery,H=m.contentQueries;if(L&&m0(s,L),H&&Qf(s,H),$(s.inputs,m.inputs),$(s.declaredInputs,m.declaredInputs),$(s.outputs,m.outputs),ui(m)&&m.data.animation){const X=s.data;X.animation=(X.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let T=0;T<y.length;T++){const I=y[T];I&&I.ngInherit&&I(s),I===Jf&&(d=!1)}}a=Object.getPrototypeOf(a)}!function pg(s){let a=0,d=null;for(let f=s.length-1;f>=0;f--){const m=s[f];m.hostVars=a+=m.hostVars,m.hostAttrs=Jn(m.hostAttrs,d=Jn(d,m.hostAttrs))}}(f)}function g0(s){return s===Wn?{}:s===Ht?[]:s}function m0(s,a){const d=s.viewQuery;s.viewQuery=d?(f,m)=>{a(f,m),d(f,m)}:a}function Qf(s,a){const d=s.contentQueries;s.contentQueries=d?(f,m,y)=>{a(f,m,y),d(f,m,y)}:a}function Cy(s,a){const d=s.hostBindings;s.hostBindings=d?(f,m)=>{a(f,m),d(f,m)}:a}let $m=null;function Xf(){if(!$m){const s=Xt.Symbol;if(s&&s.iterator)$m=s.iterator;else{const a=Object.getOwnPropertyNames(Map.prototype);for(let d=0;d<a.length;++d){const f=a[d];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&($m=f)}}}return $m}function gg(s){return!!ep(s)&&(Array.isArray(s)||!(s instanceof Map)&&Xf()in s)}function ep(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Xs(s,a,d){return s[a]=d}function Xo(s,a,d){return!Object.is(s[a],d)&&(s[a]=d,!0)}function su(s,a,d,f){const m=Xo(s,a,d);return Xo(s,a+1,f)||m}function tp(s,a,d,f){const m=Ot();return Xo(m,Bs(),a)&&(jn(),function Ja(s,a,d,f,m,y){const T=No(s,a);Im(a[11],T,y,s.value,d,f,m)}(_i(),m,s,a,d,f)),tp}function au(s,a,d,f){return Xo(s,Bs(),d)?a+ue(d)+f:S}function $d(s,a,d,f,m,y,T,I){const L=Ot(),H=jn(),X=s+20,ye=H.firstCreatePass?function Gu(s,a,d,f,m,y,T,I,L){const H=a.consts,X=Qo(a,s,4,T||null,ss(H,I));Uu(a,d,X,ss(H,L)),th(a,X);const ye=X.tViews=Lf(2,X,f,m,y,a.directiveRegistry,a.pipeRegistry,null,a.schemas,H);return null!==a.queries&&(a.queries.template(a,X),ye.queries=a.queries.embeddedTView(X)),X}(X,H,L,a,d,f,m,y,T):H.data[X];Us(ye,!1);const Ue=L[11].createComment("");za(H,L,Ue,ye),Yo(Ue,L),Mh(L,L[X]=o0(Ue,L,Ue,ye)),pr(ye)&&kd(H,L,ye),null!=T&&Nl(L,ye,I)}function jh(s){return os(function hu(){return Kn.lFrame.contextLView}(),20+s)}function cu(s,a=gn.Default){const d=Ot();return null===d?Jt(s,a):Xr(ai(),d,ae(s),a)}function bg(){throw new Error("invalid")}function Ci(s,a,d){const f=Ot();return Xo(f,Bs(),a)&&Lo(jn(),_i(),f,s,a,f[11],d,!1),Ci}function ap(s,a,d,f,m){const T=m?"class":"style";a0(s,d,a.inputs[T],T,f)}function Cg(s,a,d,f){const m=Ot(),y=jn(),T=20+s,I=m[11],L=m[T]=mc(I,a,function ul(){return Kn.lFrame.currentNamespace}()),H=y.firstCreatePass?function e_(s,a,d,f,m,y,T){const I=a.consts,H=Qo(a,s,2,m,ss(I,y));return Uu(a,d,H,ss(I,T)),null!==H.attrs&&Nh(H,H.attrs,!1),null!==H.mergedAttrs&&Nh(H,H.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,H),H}(T,y,m,0,a,d,f):y.data[T];Us(H,!0);const X=H.mergedAttrs;null!==X&&Si(I,L,X);const ye=H.classes;null!==ye&&If(I,L,ye);const Ue=H.styles;return null!==Ue&&Td(I,L,Ue),64!=(64&H.flags)&&za(y,m,L,H),0===function Fa(){return Kn.lFrame.elementDepthCount}()&&Yo(L,m),function sa(){Kn.lFrame.elementDepthCount++}(),pr(H)&&(kd(y,m,H),Ff(y,H,m)),null!==f&&Nl(m,H),Cg}function wg(){let s=ai();Pc()?Ql():(s=s.parent,Us(s,!1));const a=s;!function Ic(){Kn.lFrame.elementDepthCount--}();const d=jn();return d.firstCreatePass&&(th(d,s),sr(s)&&d.queries.elementEnd(s)),null!=a.classesWithoutHost&&function mu(s){return 0!=(16&s.flags)}(a)&&ap(d,a,Ot(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function L_(s){return 0!=(32&s.flags)}(a)&&ap(d,a,Ot(),a.stylesWithoutHost,!1),wg}function cp(s,a,d,f){return Cg(s,a,d,f),wg(),cp}function up(s,a,d){const f=Ot(),m=jn(),y=s+20,T=m.firstCreatePass?function wc(s,a,d,f,m){const y=a.consts,T=ss(y,f),I=Qo(a,s,8,"ng-container",T);return null!==T&&Nh(I,T,!0),Uu(a,d,I,ss(y,m)),null!==a.queries&&a.queries.elementStart(a,I),I}(y,m,f,a,d):m.data[y];Us(T,!0);const I=f[y]=f[11].createComment("");return za(m,f,I,T),Yo(I,f),pr(T)&&(kd(m,f,T),Ff(m,T,f)),null!=d&&Nl(f,T),up}function uu(){let s=ai();const a=jn();return Pc()?Ql():(s=s.parent,Us(s,!1)),a.firstCreatePass&&(th(a,s),sr(s)&&a.queries.elementEnd(s)),uu}function Tg(s,a,d){return up(s,a,d),uu(),Tg}function t_(){return Ot()}function lp(s){return!!s&&"function"==typeof s.then}function Eg(s){return!!s&&"function"==typeof s.subscribe}const D0=Eg;function Hh(s,a,d,f){const m=Ot(),y=jn(),T=ai();return function Dg(s,a,d,f,m,y,T,I){const L=pr(f),X=s.firstCreatePass&&ag(s),ye=a[8],Ue=$f(a);let tt=!0;if(3&f.type||I){const Qt=No(f,a),Bn=I?I(Qt):Qt,Rt=Ue.length,Qn=I?Gr=>I(Kr(Gr[f.index])):f.index;if(Sr(d)){let Gr=null;if(!I&&L&&(Gr=function S0(s,a,d,f){const m=s.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const T=m[y];if(T===d&&m[y+1]===f){const I=a[7],L=m[y+2];return I.length>L?I[L]:null}"string"==typeof T&&(y+=2)}return null}(s,a,m,f.index)),null!==Gr)(Gr.__ngLastListenerFn__||Gr).__ngNextListenerFn__=y,Gr.__ngLastListenerFn__=y,tt=!1;else{y=$h(f,a,ye,y,!1);const ri=d.listen(Bn,m,y);Ue.push(y,ri),X&&X.push(m,Qn,Rt,Rt+1)}}else y=$h(f,a,ye,y,!0),Bn.addEventListener(m,y,T),Ue.push(y),X&&X.push(m,Qn,Rt,T)}else y=$h(f,a,ye,y,!1);const Et=f.outputs;let Wt;if(tt&&null!==Et&&(Wt=Et[m])){const Qt=Wt.length;if(Qt)for(let Bn=0;Bn<Qt;Bn+=2){const Dc=a[Wt[Bn]][Wt[Bn+1]].subscribe(y),Cp=Ue.length;Ue.push(y,Dc),X&&X.push(m,f.index,Cp,-(Cp+1))}}}(y,m,m[11],T,s,a,!!d,f),Hh}function x0(s,a,d,f){try{return!1!==d(f)}catch(m){return s0(s,m),!1}}function $h(s,a,d,f,m){return function y(T){if(T===Function)return f;const I=2&s.flags?so(s.index,a):a;0==(32&a[2])&&Rl(I);let L=x0(a,0,f,T),H=y.__ngNextListenerFn__;for(;H;)L=x0(a,0,H,T)&&L,H=H.__ngNextListenerFn__;return m&&!1===L&&(T.preventDefault(),T.returnValue=!1),L}}function Bl(s=1){return function as(s){return(Kn.lFrame.contextLView=function sl(s,a){for(;s>0;)a=a[15],s--;return a}(s,Kn.lFrame.contextLView))[8]}(s)}function $u(s,a){let d=null;const f=function Sd(s){const a=s.attrs;if(null!=a){const d=a.indexOf(5);if(0==(1&d))return a[d+1]}return null}(s);for(let m=0;m<a.length;m++){const y=a[m];if("*"!==y){if(null===f?um(s,y,!0):Il(f,y))return m}else d=m}return d}function hp(s){const a=Ot()[16][6];if(!a.projection){const f=a.projection=us(s?s.length:1,null),m=f.slice();let y=a.child;for(;null!==y;){const T=s?$u(y,s):0;null!==T&&(m[T]?m[T].projectionNext=y:f[T]=y,m[T]=y),y=y.next}}}function Zd(s,a=0,d){const f=Ot(),m=jn(),y=Qo(m,20+s,16,null,d||null);null===y.projection&&(y.projection=a),Ql(),64!=(64&y.flags)&&function H_(s,a,d){eu(a[11],0,a,d,Ks(s,d,a),Hp(d.parent||a[6],d,a))}(m,f,y)}function n_(s,a,d){return r_(s,"",a,"",d),n_}function r_(s,a,d,f,m){const y=Ot(),T=au(y,a,d,f);return T!==S&&Lo(jn(),_i(),y,s,T,y[11],m,!1),r_}function Py(s,a,d,f,m){const y=s[d+1],T=null===a;let I=f?ve(y):Un(y),L=!1;for(;0!==I&&(!1===L||T);){const X=s[I+1];e1(s[I],a)&&(L=!0,s[I+1]=f?gs(X):vn(X)),I=f?ve(X):Un(X)}L&&(s[d+1]=f?vn(y):gs(y))}function e1(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Ds(s,a)>=0}const mo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function M0(s){return s.substring(mo.key,mo.keyEnd)}function o_(s,a){const d=mo.textEnd;return d===a?-1:(a=mo.keyEnd=function zd(s,a,d){for(;a<d&&s.charCodeAt(a)>32;)a++;return a}(s,mo.key=a,d),qu(s,a,d))}function qu(s,a,d){for(;a<d&&s.charCodeAt(a)<=32;)a++;return a}function c_(s,a,d){return ra(s,a,d,!1),c_}function R0(s,a){return ra(s,a,null,!0),R0}function xg(s){!function rc(s,a,d,f){const m=jn(),y=Ho(2);m.firstUpdatePass&&k0(m,null,y,f);const T=Ot();if(d!==S&&Xo(T,y,d)){const I=m.data[Eo()];if(i(I,f)&&!Ag(m,y)){let L=f?I.classesWithoutHost:I.stylesWithoutHost;null!==L&&(d=J(L,d||"")),ap(m,I,T,d,f)}else!function fC(s,a,d,f,m,y,T,I){m===S&&(m=Ht);let L=0,H=0,X=0<m.length?m[0]:null,ye=0<y.length?y[0]:null;for(;null!==X||null!==ye;){const Ue=L<m.length?m[L+1]:void 0,tt=H<y.length?y[H+1]:void 0;let Wt,Et=null;X===ye?(L+=2,H+=2,Ue!==tt&&(Et=ye,Wt=tt)):null===ye||null!==X&&X<ye?(L+=2,Et=X):(H+=2,Et=ye,Wt=tt),null!==Et&&Ny(s,a,d,f,Et,Wt,T,I),X=L<m.length?m[L]:null,ye=H<y.length?y[H]:null}}(m,I,T,T[11],T[y+1],T[y+1]=function hC(s,a,d){if(null==d||""===d)return Ht;const f=[],m=hs(d);if(Array.isArray(m))for(let y=0;y<m.length;y++)s(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&s(f,y,m[y]);else"string"==typeof m&&a(f,m);return f}(s,a,d),f,y)}}(zo,Tc,s,!0)}function Tc(s,a){for(let d=function O0(s){return function a_(s){mo.key=0,mo.keyEnd=0,mo.value=0,mo.valueEnd=0,mo.textEnd=s.length}(s),o_(s,qu(s,0,mo.textEnd))}(a);d>=0;d=o_(a,d))zo(s,M0(a),!0)}function ra(s,a,d,f){const m=Ot(),y=jn(),T=Ho(2);y.firstUpdatePass&&k0(y,s,T,f),a!==S&&Xo(m,T,a)&&Ny(y,y.data[Eo()],m,m[11],s,m[T+1]=function u(s,a){return null==s||("string"==typeof a?s+=a:"object"==typeof s&&(s=z(hs(s)))),s}(a,d),f,T)}function Ag(s,a){return a>=s.expandoStartIndex}function k0(s,a,d,f){const m=s.data;if(null===m[d+1]){const y=m[Eo()],T=Ag(s,d);i(y,f)&&null===a&&!T&&(a=!1),a=function qh(s,a,d,f){const m=function Va(s){const a=Kn.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let y=f?a.residualClasses:a.residualStyles;if(null===m)0===(f?a.classBindings:a.styleBindings)&&(d=u_(d=Oy(null,s,a,d,f),a.attrs,f),y=null);else{const T=a.directiveStylingLast;if(-1===T||s[T]!==m)if(d=Oy(m,s,a,d,f),null===y){let L=function Ig(s,a,d){const f=d?a.classBindings:a.styleBindings;if(0!==Un(f))return s[ve(f)]}(s,a,f);void 0!==L&&Array.isArray(L)&&(L=Oy(null,s,a,L[1],f),L=u_(L,a.attrs,f),function My(s,a,d,f){s[ve(d?a.classBindings:a.styleBindings)]=f}(s,a,f,L))}else y=function dC(s,a,d){let f;const m=a.directiveEnd;for(let y=1+a.directiveStylingLast;y<m;y++)f=u_(f,s[y].hostAttrs,d);return u_(f,a.attrs,d)}(s,a,f)}return void 0!==y&&(f?a.residualClasses=y:a.residualStyles=y),d}(m,y,a,f),function Xv(s,a,d,f,m,y){let T=y?a.classBindings:a.styleBindings,I=ve(T),L=Un(T);s[f]=d;let X,H=!1;if(Array.isArray(d)){const ye=d;X=ye[1],(null===X||Ds(ye,X)>0)&&(H=!0)}else X=d;if(m)if(0!==L){const Ue=ve(s[I+1]);s[f+1]=ie(Ue,I),0!==Ue&&(s[Ue+1]=hr(s[Ue+1],f)),s[I+1]=function Ft(s,a){return 131071&s|a<<17}(s[I+1],f)}else s[f+1]=ie(I,0),0!==I&&(s[I+1]=hr(s[I+1],f)),I=f;else s[f+1]=ie(L,0),0===I?I=f:s[L+1]=hr(s[L+1],f),L=f;H&&(s[f+1]=vn(s[f+1])),Py(s,X,f,!0),Py(s,X,f,!1),function P0(s,a,d,f,m){const y=m?s.residualClasses:s.residualStyles;null!=y&&"string"==typeof a&&Ds(y,a)>=0&&(d[f+1]=gs(d[f+1]))}(a,X,s,f,y),T=ie(I,L),y?a.classBindings=T:a.styleBindings=T}(m,y,a,d,T,f)}}function Oy(s,a,d,f,m){let y=null;const T=d.directiveEnd;let I=d.directiveStylingLast;for(-1===I?I=d.directiveStart:I++;I<T&&(y=a[I],f=u_(f,y.hostAttrs,m),y!==s);)I++;return null!==s&&(d.directiveStylingLast=I),f}function u_(s,a,d){const f=d?1:2;let m=-1;if(null!==a)for(let y=0;y<a.length;y++){const T=a[y];"number"==typeof T?m=T:m===f&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),zo(s,T,!!d||a[++y]))}return void 0===s?null:s}function Ny(s,a,d,f,m,y,T,I){if(!(3&a.type))return;const L=s.data,H=L[I+1];pp(function si(s){return 1==(1&s)}(H)?o1(L,a,d,m,Un(H),T):void 0)||(pp(y)||function lt(s){return 2==(2&s)}(H)&&(y=o1(L,null,d,m,I,T)),function Th(s,a,d,f,m){const y=Sr(s);if(a)m?y?s.addClass(d,f):d.classList.add(f):y?s.removeClass(d,f):d.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:ya.DashCase;if(null==m)y?s.removeStyle(d,f,T):d.style.removeProperty(f);else{const I="string"==typeof m&&m.endsWith("!important");I&&(m=m.slice(0,-10),T|=ya.Important),y?s.setStyle(d,f,m,T):d.style.setProperty(f,m,I?"important":"")}}}(f,T,Ra(Eo(),d),m,y))}function o1(s,a,d,f,m,y){const T=null===a;let I;for(;m>0;){const L=s[m],H=Array.isArray(L),X=H?L[1]:L,ye=null===X;let Ue=d[m+1];Ue===S&&(Ue=ye?Ht:void 0);let tt=ye?ad(Ue,f):X===f?Ue:void 0;if(H&&!pp(tt)&&(tt=ad(L,f)),pp(tt)&&(I=tt,T))return I;const Et=s[m+1];m=T?ve(Et):Un(Et)}if(null!==a){let L=y?a.residualClasses:a.residualStyles;null!=L&&(I=ad(L,f))}return I}function pp(s){return void 0!==s}function i(s,a){return 0!=(s.flags&(a?16:32))}function c(s,a=""){const d=Ot(),f=jn(),m=s+20,y=f.firstCreatePass?Qo(f,m,1,a,null):f.data[m],T=d[m]=vd(d[11],a);za(f,d,T,y),Us(y,!1)}function h(s){return g("",s,""),h}function g(s,a,d){const f=Ot(),m=au(f,s,a,d);return m!==S&&Qa(f,Eo(),m),g}function v(s,a,d,f,m){const y=Ot(),T=function Ta(s,a,d,f,m,y){const I=su(s,ca(),d,m);return Ho(2),I?a+ue(d)+f+ue(m)+y:S}(y,s,a,d,f,m);return T!==S&&Qa(y,Eo(),T),v}function d_(s,a,d){const f=Ot();return Xo(f,Bs(),a)&&Lo(jn(),_i(),f,s,a,f[11],d,!0),d_}const mp=void 0;var _C=["en",[["a","p"],["AM","PM"],mp],[["AM","PM"],mp,mp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mp,"{1} 'at' {0}",mp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function l1(s){const d=Math.floor(Math.abs(s)),f=s.toString().replace(/^[^.]*\.?/,"").length;return 1===d&&0===f?1:5}];let Pg={};function yC(s,a,d){"string"!=typeof a&&(d=a,a=s[qn.LocaleId]),a=a.toLowerCase().replace(/_/g,"-"),Pg[a]=s,d&&(Pg[a][qn.ExtraData]=d)}function Mg(s){const a=function Gl(s){return s.toLowerCase().replace(/_/g,"-")}(s);let d=Ly(a);if(d)return d;const f=a.split("-")[0];if(d=Ly(f),d)return d;if("en"===f)return _C;throw new Error(`Missing locale data for the locale "${s}".`)}function d1(s){return Mg(s)[qn.PluralCase]}function Ly(s){return s in Pg||(Pg[s]=Xt.ng&&Xt.ng.common&&Xt.ng.common.locales&&Xt.ng.common.locales[s]),Pg[s]}var qn=(()=>((qn=qn||{})[qn.LocaleId=0]="LocaleId",qn[qn.DayPeriodsFormat=1]="DayPeriodsFormat",qn[qn.DayPeriodsStandalone=2]="DayPeriodsStandalone",qn[qn.DaysFormat=3]="DaysFormat",qn[qn.DaysStandalone=4]="DaysStandalone",qn[qn.MonthsFormat=5]="MonthsFormat",qn[qn.MonthsStandalone=6]="MonthsStandalone",qn[qn.Eras=7]="Eras",qn[qn.FirstDayOfWeek=8]="FirstDayOfWeek",qn[qn.WeekendRange=9]="WeekendRange",qn[qn.DateFormat=10]="DateFormat",qn[qn.TimeFormat=11]="TimeFormat",qn[qn.DateTimeFormat=12]="DateTimeFormat",qn[qn.NumberSymbols=13]="NumberSymbols",qn[qn.NumberFormats=14]="NumberFormats",qn[qn.CurrencyCode=15]="CurrencyCode",qn[qn.CurrencySymbol=16]="CurrencySymbol",qn[qn.CurrencyName=17]="CurrencyName",qn[qn.Currencies=18]="Currencies",qn[qn.Directionality=19]="Directionality",qn[qn.PluralCase=20]="PluralCase",qn[qn.ExtraData=21]="ExtraData",qn))();const Ku=["zero","one","two","few","many"],zh="en-US",Wh={marker:"element"},L0={marker:"ICU"};var yo=(()=>((yo=yo||{})[yo.SHIFT=2]="SHIFT",yo[yo.APPEND_EAGERLY=1]="APPEND_EAGERLY",yo[yo.COMMENT=2]="COMMENT",yo))();let h1=zh;function p1(s,a,d){const f=a.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?$p(s,0,d):Kr(d[m])}function g1(s,a,d,f,m){const y=a.insertBeforeIndex;if(Array.isArray(y)){let T=f,I=null;if(3&a.type||(I=T,T=m),null!==T&&0==(2&a.flags))for(let L=1;L<y.length;L++)Xc(s,T,d[y[L]],I,!1)}}function m1(s,a){if(s.push(a),s.length>1)for(let d=s.length-2;d>=0;d--){const f=s[d];_1(f)||bC(f,a)&&null===CC(f)&&wC(f,a.index)}}function _1(s){return!(64&s.type)}function bC(s,a){return _1(a)||s.index>a.index}function CC(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function wC(s,a){const d=s.insertBeforeIndex;Array.isArray(d)?d[0]=a:(Cd(p1,g1),s.insertBeforeIndex=a)}function h_(s,a){const d=s.data[a];return null===d||"string"==typeof d?null:d.hasOwnProperty("currentCaseLViewIndex")?d:d.value}function Yu(s,a,d){const f=Yp(s,d,64,null,null);return m1(a,f),f}function Wd(s,a){const d=a[s.currentCaseLViewIndex];return null===d?d:d<0?~d:d}function Ec(s){return s>>>17}function B0(s){return(131070&s)>>>1}let Kh=0,Hl=0;function y1(s,a,d,f){const m=d[11];let T,y=null;for(let I=0;I<a.length;I++){const L=a[I];if("string"==typeof L){const H=a[++I];null===d[H]&&(d[H]=vd(m,L))}else if("number"==typeof L)switch(1&L){case 0:const H=Ec(L);let X,ye;if(null===y&&(y=H,T=Ao(m,f)),H===y?(X=f,ye=T):(X=null,ye=Kr(d[H])),null!==ye){const Wt=B0(L);Xc(m,ye,d[Wt],X,!1);const Bn=h_(s,Wt);if(null!==Bn&&"object"==typeof Bn){const Rt=Wd(Bn,d);null!==Rt&&y1(s,Bn.create[Rt],d,d[Bn.anchorIdx])}}break;case 1:const tt=a[++I],Et=a[++I];Im(m,Ra(L>>>1,d),null,null,tt,Et,null)}else switch(L){case L0:const H=a[++I],X=a[++I];null===d[X]&&Yo(d[X]=bh(m,H),d);break;case Wh:const ye=a[++I],Ue=a[++I];null===d[Ue]&&Yo(d[Ue]=mc(m,ye,null),d)}}}function $l(s,a,d,f,m){for(let y=0;y<d.length;y++){const T=d[y],I=d[++y];if(T&m){let L="";for(let H=y+1;H<=y+I;H++){const X=d[H];if("string"==typeof X)L+=X;else if("number"==typeof X)if(X<0)L+=ue(a[f-X]);else{const ye=X>>>2;switch(3&X){case 1:const Ue=d[++H],tt=d[++H],Et=s.data[ye];"string"==typeof Et?Im(a[11],a[ye],null,Et,Ue,L,tt):Lo(s,Et,a,Ue,L,a[11],tt,!1);break;case 0:const Wt=a[ye];null!==Wt&&bd(a[11],Wt,L);break;case 2:ql(s,h_(s,ye),a,L);break;case 3:v1(s,h_(s,ye),f,a)}}}}else{const L=d[y+1];if(L>0&&3==(3&L)){const X=h_(s,L>>>2);a[X.currentCaseLViewIndex]<0&&v1(s,X,f,a)}}y+=I}}function v1(s,a,d,f){let m=f[a.currentCaseLViewIndex];if(null!==m){let y=Kh;m<0&&(m=f[a.currentCaseLViewIndex]=~m,y=-1),$l(s,f,a.update[m],d,y)}}function ql(s,a,d,f){const m=function jy(s,a){let d=s.cases.indexOf(a);if(-1===d)switch(s.type){case 1:{const f=function Uy(s,a){const d=d1(a)(parseInt(s,10)),f=Ku[d];return void 0!==f?f:"other"}(a,function vC(){return h1}());d=s.cases.indexOf(f),-1===d&&"other"!==f&&(d=s.cases.indexOf("other"));break}case 0:d=s.cases.indexOf("other")}return-1===d?null:d}(a,f);if(Wd(a,d)!==m&&(f_(s,a,d),d[a.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=d[a.anchorIdx];T&&y1(s,a.create[m],d,T)}}function f_(s,a,d){let f=Wd(a,d);if(null!==f){const m=a.remove[f];for(let y=0;y<m.length;y++){const T=m[y];if(T>0){const I=Ra(T,d);null!==I&&Iu(d[11],I)}else f_(s,h_(s,~T),d)}}}function b1(){const s=[];let d,f,a=-1;function y(I,L){a=0;const H=Wd(I,L);f=null!==H?I.remove[H]:Ht}function T(){if(a<f.length){const I=f[a++];return I>0?d[I]:(s.push(a,f),y(d[1].data[~I],d),T())}return 0===s.length?null:(f=s.pop(),a=s.pop(),T())}return function m(I,L){for(d=L;s.length;)s.pop();return y(I.value,L),T}}const p_=/\ufffd(\d+):?\d*\ufffd/gi,SC=/\ufffd(\d+)\ufffd/,Hy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,xC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,kg=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,$y=/\uE500/g;function qy(s,a,d,f,m,y,T){const I=Ml(s,f,1,null);let L=I<<yo.SHIFT,H=Ua();a===H&&(H=null),null===H&&(L|=yo.APPEND_EAGERLY),T&&(L|=yo.COMMENT,function qa(s){void 0===_t&&(_t=s())}(b1)),m.push(L,null===y?"":y);const X=Yp(s,I,T?32:1,null===y?"":y,null);m1(d,X);const ye=X.index;return Us(X,!1),null!==H&&a!==H&&function EC(s,a){let d=s.insertBeforeIndex;null===d?(Cd(p1,g1),d=s.insertBeforeIndex=[null,a]):(function se(s,a,d){s!=a&&mt(d,s,a,"==")}(Array.isArray(d),!0,"Expecting array here"),d.push(a))}(H,ye),X}function T1(s,a,d,f,m,y,T){const I=T.match(p_),L=qy(s,a,d,y,f,I?null:T,!1);I&&Fg(m,T,L.index,null,0,null)}function Fg(s,a,d,f,m,y){const T=s.length,I=T+1;s.push(null,null);const L=T+2,H=a.split(p_);let X=0;for(let ye=0;ye<H.length;ye++){const Ue=H[ye];if(1&ye){const tt=m+parseInt(Ue,10);s.push(-1-tt),X|=E1(tt)}else""!==Ue&&s.push(Ue)}return s.push(d<<2|(f?1:0)),f&&s.push(f,y),s[T]=X,s[I]=s.length-L,X}function E1(s){return 1<<Math.min(s,31)}function D1(s){let a,y,d="",f=0,m=!1;for(;null!==(a=xC.exec(s));)m?a[0]===`\ufffd/*${y}\ufffd`&&(f=a.index,m=!1):(d+=s.substring(f,a.index+a[0].length),y=a[1],m=!0);return d+=s.substr(f),d}function S1(s,a,d,f,m,y){let T=0;const I={type:m.type,currentCaseLViewIndex:Ml(s,a,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function OC(s,a,d){s.push(E1(a.mainBinding),2,-1-a.mainBinding,d<<2|2)})(d,m,y),function TC(s,a,d){const f=s.data[a];null===f?s.data[a]=d:f.value=d}(s,y,I);const L=m.values;for(let H=0;H<L.length;H++){const X=L[H],ye=[];for(let Ue=0;Ue<X.length;Ue++){const tt=X[Ue];if("string"!=typeof tt){const Et=ye.push(tt)-1;X[Ue]=`\x3c!--\ufffd${Et}\ufffd--\x3e`}}T=PC(s,I,a,d,f,m.cases[H],X.join(""),ye)|T}T&&function NC(s,a,d){s.push(a,1,d<<2|3)}(d,T,y)}function zy(s){const a=[],d=[];let f=1,m=0;const y=Wy(s=s.replace(Hy,function(T,I,L){return f="select"===L?0:1,m=parseInt(I.substr(1),10),""}));for(let T=0;T<y.length;){let I=y[T++].trim();1===f&&(I=I.replace(/\s*(?:=)?(\w+)\s*/,"$1")),I.length&&a.push(I);const L=Wy(y[T++]);a.length>d.length&&d.push(L)}return{type:f,mainBinding:m,cases:a,values:d}}function Wy(s){if(!s)return[];let a=0;const d=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(s);){const I=y.index;if("}"==y[0]){if(d.pop(),0==d.length){const L=s.substring(a,I);Hy.test(L)?f.push(zy(L)):f.push(L),a=I+1}}else{if(0==d.length){const L=s.substring(a,I);f.push(L),a=I+1}d.push("{")}}const T=s.substring(a);return f.push(T),f}function PC(s,a,d,f,m,y,T,I){const L=[],H=[],X=[];a.cases.push(y),a.create.push(L),a.remove.push(H),a.update.push(X);const Ue=Rr(Ji()).getInertBodyElement(T),tt=Op(Ue)||Ue;return tt?x1(s,a,d,f,L,H,X,tt,m,I,0):0}function x1(s,a,d,f,m,y,T,I,L,H,X){let ye=0,Ue=I.firstChild;for(;Ue;){const tt=Ml(s,d,1,null);switch(Ue.nodeType){case Node.ELEMENT_NODE:const Et=Ue,Wt=Et.tagName.toLowerCase();if(Qr.hasOwnProperty(Wt)){Ky(m,Wh,Wt,L,tt),s.data[tt]=Wt;const Qn=Et.attributes;for(let Gr=0;Gr<Qn.length;Gr++){const ri=Qn.item(Gr),Dc=ri.name.toLowerCase();ri.value.match(p_)?dh.hasOwnProperty(Dc)&&Fg(T,ri.value,tt,ri.name,0,Qg[Dc]?ti:Eu[Dc]?fd:null):RC(m,tt,ri)}ye=x1(s,a,d,f,m,y,T,Ue,tt,H,X+1)|ye,A1(y,tt,X)}break;case Node.TEXT_NODE:const Qt=Ue.textContent||"",Bn=Qt.match(p_);Ky(m,null,Bn?"":Qt,L,tt),A1(y,tt,X),Bn&&(ye=Fg(T,Qt,tt,null,0,null)|ye);break;case Node.COMMENT_NODE:const Rt=SC.exec(Ue.textContent||"");if(Rt){const Gr=H[parseInt(Rt[1],10)];Ky(m,L0,"",L,tt),S1(s,d,f,L,Gr,tt),MC(y,tt,X)}}Ue=Ue.nextSibling}return ye}function A1(s,a,d){0===d&&s.push(a)}function MC(s,a,d){0===d&&(s.push(~a),s.push(a))}function Ky(s,a,d,f,m){null!==a&&s.push(a),s.push(d,m,function _p(s,a,d){return s|a<<17|d<<1}(0,f,m))}function RC(s,a,d){s.push(a<<1|1,d.name,d.value)}function O1(s,a,d=-1){const f=jn(),m=Ot(),y=20+s,T=ss(f.consts,a),I=Ua();f.firstCreatePass&&function w1(s,a,d,f,m,y){const T=Ua(),I=[],L=[],H=[[]];m=function m_(s,a){if(function IC(s){return-1===s}(a))return D1(s);{const d=s.indexOf(`:${a}\ufffd`)+2+a.toString().length,f=s.search(new RegExp(`\ufffd\\/\\*\\d+:${a}\ufffd`));return D1(s.substring(d,f))}}(m,y);const X=function C1(s){return s.replace($y," ")}(m).split(kg);for(let ye=0;ye<X.length;ye++){let Ue=X[ye];if(0==(1&ye)){const tt=Wy(Ue);for(let Et=0;Et<tt.length;Et++){let Wt=tt[Et];if(0==(1&Et)){const Qt=Wt;""!==Qt&&T1(s,T,H[0],I,L,d,Qt)}else{const Qt=Wt;if("object"!=typeof Qt)throw new Error(`Unable to parse ICU expression in "${m}" message.`);S1(s,d,L,a,Qt,qy(s,T,H[0],d,I,"",!0).index)}}}else{const tt=47===Ue.charCodeAt(0),Wt=(Ue.charCodeAt(tt?1:0),20+Number.parseInt(Ue.substring(tt?2:1)));if(tt)H.shift(),Us(Ua(),!1);else{const Qt=Yu(s,H[0],Wt);H.unshift([]),Us(Qt,!0)}}}s.data[f]={create:I,update:L}}(f,null===I?0:I.index,m,y,T,d);const L=f.data[y],X=jp(f,I===m[6]?null:I,m);(function Vy(s,a,d,f){const m=s[11];for(let y=0;y<a.length;y++){const T=a[y++],I=a[y],L=(T&yo.COMMENT)===yo.COMMENT,H=(T&yo.APPEND_EAGERLY)===yo.APPEND_EAGERLY,X=T>>>yo.SHIFT;let ye=s[X];null===ye&&(ye=s[X]=L?m.createComment(I):vd(m,I)),H&&null!==d&&Xc(m,d,ye,f,!1)}})(m,L.create,X,I&&8&I.type?m[I.index]:null),ua(!0)}function __(s,a,d){O1(s,a,d),function BC(){ua(!1)}()}function Yy(s){return function Ng(s){s&&(Kh|=1<<Math.min(Hl,31)),Hl++}(Xo(Ot(),Bs(),s)),Yy}function N1(s){!function By(s,a,d){if(Hl>0){const f=s.data[d];$l(s,a,Array.isArray(f)?f:f.update,ca()-Hl-1,Kh)}Kh=0,Hl=0}(jn(),Ot(),s+20)}function Jy(s,a,d,f,m){if(s=ae(s),Array.isArray(s))for(let y=0;y<s.length;y++)Jy(s[y],a,d,f,m);else{const y=jn(),T=Ot();let I=Rh(s)?s:ae(s.provide),L=Rm(s);const H=ai(),X=1048575&H.providerIndexes,ye=H.directiveStart,Ue=H.providerIndexes>>20;if(Rh(s)||!s.multi){const tt=new dl(L,m,cu),Et=Qy(I,a,m?X:X+Ue,ye);-1===Et?(Do(cc(H,T),y,I),j0(y,s,a.length),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(tt),T.push(tt)):(d[Et]=tt,T[Et]=tt)}else{const tt=Qy(I,a,X+Ue,ye),Et=Qy(I,a,X,X+Ue),Wt=tt>=0&&d[tt],Qt=Et>=0&&d[Et];if(m&&!Qt||!m&&!Wt){Do(cc(H,T),y,I);const Bn=function qC(s,a,d,f,m){const y=new dl(s,d,cu);return y.multi=[],y.index=a,y.componentProviders=0,R1(y,m,f&&!d),y}(m?$C:HC,d.length,m,f,L);!m&&Qt&&(d[Et].providerFactory=Bn),j0(y,s,a.length,0),a.push(I),H.directiveStart++,H.directiveEnd++,m&&(H.providerIndexes+=1048576),d.push(Bn),T.push(Bn)}else j0(y,s,tt>-1?tt:Et,R1(d[m?Et:tt],L,!m&&f));!m&&f&&Qt&&d[Et].componentProviders++}}}function j0(s,a,d,f){const m=Rh(a),y=function Lm(s){return!!s.useClass}(a);if(m||y){const L=(y?ae(a.useClass):a).prototype.ngOnDestroy;if(L){const H=s.destroyHooks||(s.destroyHooks=[]);if(!m&&a.multi){const X=H.indexOf(d);-1===X?H.push(d,[f,L]):H[X+1].push(f,L)}else H.push(d,L)}}}function R1(s,a,d){return d&&s.componentProviders++,s.multi.push(a)-1}function Qy(s,a,d,f){for(let m=d;m<f;m++)if(a[m]===s)return m;return-1}function HC(s,a,d,f){return k1(this.multi,[])}function $C(s,a,d,f){const m=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,I=ja(d,d[1],this.providerFactory.index,f);y=I.slice(0,T),k1(m,y);for(let L=T;L<I.length;L++)y.push(I[L])}else y=[],k1(m,y);return y}function k1(s,a){for(let d=0;d<s.length;d++)a.push((0,s[d])());return a}function F1(s,a=[]){return d=>{d.providersResolver=(f,m)=>function GC(s,a,d){const f=jn();if(f.firstCreatePass){const m=ui(s);Jy(d,f.data,f.blueprint,m,!0),Jy(a,f.data,f.blueprint,m,!1)}}(f,m?m(s):s,a)}}class L1{}class WC{resolveComponentFactory(a){throw function zC(s){const a=Error(`No component factory found for ${z(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let G0=(()=>{class s{}return s.NULL=new WC,s})();function $T(){return Lg(ai(),Ot())}function Lg(s,a){return new y_(No(s,a))}let y_=(()=>{class s{constructor(d){this.nativeElement=d}}return s.__NG_ELEMENT_ID__=$T,s})();function KC(s){return s instanceof y_?s.nativeElement:s}class B1{}let YC=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function zT(){const s=Ot(),d=so(ai().index,s);return function ZT(s){return s[11]}(Mt(d)?d:s)}(),s})(),WT=(()=>{class s{}return s.\u0275prov=Fn({token:s,providedIn:"root",factory:()=>null}),s})();class JC{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const QC=new JC("13.3.0"),V1={};function H0(s,a,d,f,m=!1){for(;null!==d;){const y=a[d.index];if(null!==y&&f.push(Kr(y)),Yt(y))for(let I=10;I<y.length;I++){const L=y[I],H=L[1].firstChild;null!==H&&H0(L[1],L,H,f)}const T=d.type;if(8&T)H0(s,a,d.child,f);else if(32&T){const I=ni(d,a);let L;for(;L=I();)f.push(L)}else if(16&T){const I=Af(a,d);if(Array.isArray(I))f.push(...I);else{const L=fs(a[16]);H0(L[1],L,I,f,!0)}}d=m?d.projectionNext:d.next}return f}class v_{constructor(a,d){this._lView=a,this._cdRefInjectingView=d,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const a=this._lView,d=a[1];return H0(d,a,d.firstChild,[])}get context(){return this._lView[8]}set context(a){this._lView[8]=a}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[3];if(Yt(a)){const d=a[8],f=d?d.indexOf(this):-1;f>-1&&(Jc(a,f),Ri(d,f))}this._attachedToViewContainer=!1}Qc(this._lView[1],this._lView)}onDestroy(a){Ih(this._lView[1],this._lView,null,a)}markForCheck(){Rl(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){Bu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function sg(s,a,d){wo(!0);try{Bu(s,a,d)}finally{wo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Ge(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function cm(s,a){Ys(s,a,a[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new Ge(902,"");this._appRef=a}}class XC extends v_{constructor(a){super(a),this._view=a}detectChanges(){Ld(this._view)}checkNoChanges(){!function Oh(s){wo(!0);try{Ld(s)}finally{wo(!1)}}(this._view)}get context(){return null}}class ew extends G0{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const d=Gn(a);return new Xy(d,this.ngModule)}}function tw(s){const a=[];for(let d in s)s.hasOwnProperty(d)&&a.push({propName:s[d],templateName:d});return a}class Xy extends L1{constructor(a,d){super(),this.componentDef=a,this.ngModule=d,this.componentType=a.type,this.selector=function $_(s){return s.map(dm).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!d}get inputs(){return tw(this.componentDef.inputs)}get outputs(){return tw(this.componentDef.outputs)}create(a,d,f,m){const y=(m=m||this.ngModule)?function YT(s,a){return{get:(d,f,m)=>{const y=s.get(d,V1,m);return y!==V1||f===V1?y:a.get(d,f,m)}}}(a,m.injector):a,T=y.get(B1,oc),I=y.get(WT,null),L=T.createRenderer(null,this.componentDef),H=this.componentDef.selectors[0][0]||"div",X=f?function vm(s,a,d){if(Sr(s))return s.selectRootElement(a,d===Pt.ShadowDom);let f="string"==typeof a?s.querySelector(a):a;return f.textContent="",f}(L,f,this.componentDef.encapsulation):mc(T.createRenderer(null,this.componentDef),H,function KT(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(H)),ye=this.componentDef.onPush?576:528,Ue=function ro(s,a){return{components:[],scheduler:s||j_,clean:Hf,playerHandler:a||null,flags:0}}(),tt=Lf(0,null,null,1,0,null,null,null,null,null),Et=ku(null,tt,Ue,ye,null,null,T,L,I,y);let Wt,Qt;Mc(Et);try{const Bn=function Kf(s,a,d,f,m,y){const T=d[1];d[20]=s;const L=Qo(T,20,2,"#host",null),H=L.mergedAttrs=a.hostAttrs;null!==H&&(Nh(L,H,!0),null!==s&&(Si(m,s,H),null!==L.classes&&If(m,s,L.classes),null!==L.styles&&Td(m,s,L.styles)));const X=f.createRenderer(s,a),ye=ku(d,Jp(a),null,a.onPush?64:16,d[20],L,f,X,y||null,null);return T.firstCreatePass&&(Do(cc(L,d),T,a.type),xm(T,L),e0(L,d.length,1)),Mh(d,ye),d[20]=ye}(X,this.componentDef,Et,T,L);if(X)if(f)Si(L,X,["ng-version",QC.full]);else{const{attrs:Rt,classes:Qn}=function q_(s){const a=[],d=[];let f=1,m=2;for(;f<s.length;){let y=s[f];if("string"==typeof y)2===m?""!==y&&a.push(y,s[++f]):8===m&&d.push(y);else{if(!Js(m))break;m=y}f++}return{attrs:a,classes:d}}(this.componentDef.selectors[0]);Rt&&Si(L,X,Rt),Qn&&Qn.length>0&&If(L,X,Qn.join(" "))}if(Qt=du(tt,20),void 0!==d){const Rt=Qt.projection=[];for(let Qn=0;Qn<this.ngContentSelectors.length;Qn++){const Gr=d[Qn];Rt.push(null!=Gr?Array.from(Gr):null)}}Wt=function Yf(s,a,d,f,m){const y=d[1],T=function py(s,a,d){const f=ai();s.firstCreatePass&&(d.providersResolver&&d.providersResolver(d),t0(s,f,a,Ml(s,a,1,null),d));const m=ja(a,s,f.directiveStart,f);Yo(m,a);const y=No(f,a);return y&&Yo(y,a),m}(y,d,a);if(f.components.push(T),s[8]=T,m&&m.forEach(L=>L(T,a)),a.contentQueries){const L=ai();a.contentQueries(1,T,L.directiveStart)}const I=ai();return!y.firstCreatePass||null===a.hostBindings&&null===a.hostAttrs||(js(I.index),X_(d[1],I,0,I.directiveStart,I.directiveEnd,a),Vf(a,T)),T}(Bn,this.componentDef,Et,Ue,[fg]),Ol(tt,Et,null)}finally{Vs()}return new JT(this.componentType,Wt,Lg(Qt,Et),Et,Qt)}}class JT extends class ZC{}{constructor(a,d,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=d,this.hostView=this.changeDetectorRef=new XC(m),this.componentType=a}get injector(){return new $o(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}class b_{}class j1{}const Ug=new Map;class iw extends b_{constructor(a,d){super(),this._parent=d,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ew(this);const f=Sn(a);this._bootstrapComponents=Jo(f.bootstrap),this._r3Injector=Zf(a,d,[{provide:b_,useValue:this},{provide:G0,useValue:this.componentFactoryResolver}],z(a)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(a)}get(a,d=va.THROW_IF_NOT_FOUND,f=gn.Default){return a===va||a===b_||a===qf?this:this._r3Injector.get(a,d,f)}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(d=>d()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ev extends j1{constructor(a){super(),this.moduleType=a,null!==Sn(a)&&function rw(s){const a=new Set;!function d(f){const m=Sn(f,!0),y=m.id;null!==y&&(function G1(s,a,d){if(a&&a!==d)throw new Error(`Duplicate module registered for ${s} - ${z(a)} vs ${z(a.name)}`)}(y,Ug.get(y),f),Ug.set(y,f));const T=Jo(m.imports);for(const I of T)a.has(I)||(a.add(I),d(I))}(s)}(a)}create(a){return new iw(this.moduleType,a)}}function $1(s,a,d){const f=To()+s,m=Ot();return m[f]===S?Xs(m,f,d?a.call(d):a()):function jd(s,a){return s[a]}(m,f)}function q1(s,a,d,f){return W1(Ot(),To(),s,a,d,f)}function Z1(s,a,d,f,m){return K1(Ot(),To(),s,a,d,f,m)}function z1(s,a,d,f,m,y){return function Y1(s,a,d,f,m,y,T,I){const L=a+d;return function Fh(s,a,d,f,m){const y=su(s,a,d,f);return Xo(s,a+2,m)||y}(s,L,m,y,T)?Xs(s,L+3,I?f.call(I,m,y,T):f(m,y,T)):C_(s,L+3)}(Ot(),To(),s,a,d,f,m,y)}function C_(s,a){const d=s[a];return d===S?void 0:d}function W1(s,a,d,f,m,y){const T=a+d;return Xo(s,T,m)?Xs(s,T+1,y?f.call(y,m):f(m)):C_(s,T+1)}function K1(s,a,d,f,m,y,T){const I=a+d;return su(s,I,m,y)?Xs(s,I+2,T?f.call(T,m,y):f(m,y)):C_(s,I+2)}function X1(s,a){const d=jn();let f;const m=s+20;d.firstCreatePass?(f=function dw(s,a){if(a)for(let d=a.length-1;d>=0;d--){const f=a[d];if(s===f.name)return f}}(a,d.pipeRegistry),d.data[m]=f,f.onDestroy&&(d.destroyHooks||(d.destroyHooks=[])).push(m,f.onDestroy)):f=d.data[m];const y=f.factory||(f.factory=B(f.type)),T=$r(cu);try{const I=er(!1),L=y();return er(I),function jr(s,a,d,f){d>=s.data.length&&(s.data[d]=null,s.blueprint[d]=null),a[d]=f}(d,Ot(),m,L),L}finally{$r(T)}}function eb(s,a,d){const f=s+20,m=Ot(),y=os(m,f);return w_(m,f)?W1(m,To(),a,y.transform,d,y):y.transform(d)}function tb(s,a,d,f){const m=s+20,y=Ot(),T=os(y,m);return w_(y,m)?K1(y,To(),a,T.transform,d,f,T):T.transform(d,f)}function w_(s,a){return s[1].data[a].pure}function nv(s){return a=>{setTimeout(s,void 0,a)}}const Zl=class pw extends t.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,d,f){var m,y,T;let I=a,L=d||(()=>null),H=f;if(a&&"object"==typeof a){const ye=a;I=null===(m=ye.next)||void 0===m?void 0:m.bind(ye),L=null===(y=ye.error)||void 0===y?void 0:y.bind(ye),H=null===(T=ye.complete)||void 0===T?void 0:T.bind(ye)}this.__isAsync&&(L=nv(L),I&&(I=nv(I)),H&&(H=nv(H)));const X=super.subscribe({next:I,error:L,complete:H});return a instanceof C.w0&&a.add(X),X}};function gw(){return this._results[Xf()]()}class rv{constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const d=Xf(),f=rv.prototype;f[d]||(f[d]=gw)}get changes(){return this._changes||(this._changes=new Zl)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,d){return this._results.reduce(a,d)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,d){const f=this;f.dirty=!1;const m=Vi(a);(this._changesDetected=!function ao(s,a,d){if(s.length!==a.length)return!1;for(let f=0;f<s.length;f++){let m=s[f],y=a[f];if(d&&(m=d(m),y=d(y)),y!==m)return!1}return!0}(f._results,m,d))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let T_=(()=>{class s{}return s.__NG_ELEMENT_ID__=yw,s})();const mw=T_,_w=class extends mw{constructor(a,d,f){super(),this._declarationLView=a,this._declarationTContainer=d,this.elementRef=f}createEmbeddedView(a){const d=this._declarationTContainer.tViews,f=ku(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),Ol(d,f,a),new v_(f)}};function yw(){return $0(ai(),Ot())}function $0(s,a){return 4&s.type?new _w(a,s,Lg(s,a)):null}let iv=(()=>{class s{}return s.__NG_ELEMENT_ID__=tE,s})();function tE(){return bw(ai(),Ot())}const nE=iv,nb=class extends nE{constructor(a,d,f){super(),this._lContainer=a,this._hostTNode=d,this._hostLView=f}get element(){return Lg(this._hostTNode,this._hostLView)}get injector(){return new $o(this._hostTNode,this._hostLView)}get parentInjector(){const a=cs(this._hostTNode,this._hostLView);if(on(a)){const d=zr(a,this._hostLView),f=pt(a);return new $o(d[1].data[f+8],d)}return new $o(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const d=vw(this._lContainer);return null!==d&&d[a]||null}get length(){return this._lContainer.length-10}createEmbeddedView(a,d,f){const m=a.createEmbeddedView(d||{});return this.insert(m,f),m}createComponent(a,d,f,m,y){const T=a&&!function Fc(s){return"function"==typeof s}(a);let I;if(T)I=d;else{const ye=d||{};I=ye.index,f=ye.injector,m=ye.projectableNodes,y=ye.ngModuleRef}const L=T?a:new Xy(Gn(a)),H=f||this.parentInjector;if(!y&&null==L.ngModule){const Ue=(T?H:this.parentInjector).get(b_,null);Ue&&(y=Ue)}const X=L.create(H,m,void 0,y);return this.insert(X.hostView,I),X}insert(a,d){const f=a._lView,m=f[1];if(function sc(s){return Yt(s[3])}(f)){const X=this.indexOf(a);if(-1!==X)this.detach(X);else{const ye=f[3],Ue=new nb(ye,ye[6],ye[3]);Ue.detach(Ue.indexOf(a))}}const y=this._adjustIndex(d),T=this._lContainer;!function Tr(s,a,d,f){const m=10+f,y=d.length;f>0&&(d[m-1][4]=a),f<y-10?(a[4]=d[m],yu(d,10+f,a)):(d.push(a),a[4]=null),a[3]=d;const T=a[17];null!==T&&d!==T&&function Al(s,a){const d=s[9];a[16]!==a[3][3][16]&&(s[2]=!0),null===d?s[9]=[a]:d.push(a)}(T,a);const I=a[19];null!==I&&I.insertView(s),a[2]|=128}(m,f,T,y);const I=wd(y,T),L=f[11],H=Ao(L,T[7]);return null!==H&&function am(s,a,d,f,m,y){f[0]=m,f[6]=a,Ys(s,f,d,1,m,y)}(m,T[6],L,f,H,I),a.attachToViewContainerRef(),yu(rb(T),y,a),a}move(a,d){return this.insert(a,d)}indexOf(a){const d=vw(this._lContainer);return null!==d?d.indexOf(a):-1}remove(a){const d=this._adjustIndex(a,-1),f=Jc(this._lContainer,d);f&&(Ri(rb(this._lContainer),d),Qc(f[1],f))}detach(a){const d=this._adjustIndex(a,-1),f=Jc(this._lContainer,d);return f&&null!=Ri(rb(this._lContainer),d)?new v_(f):null}_adjustIndex(a,d=0){return null==a?this.length+d:a}};function vw(s){return s[8]}function rb(s){return s[8]||(s[8]=[])}function bw(s,a){let d;const f=a[s.index];if(Yt(f))d=f;else{let m;if(8&s.type)m=Kr(f);else{const y=a[11];m=y.createComment("");const T=No(s,a);Xc(y,Ao(y,T),m,function G_(s,a){return Sr(s)?s.nextSibling(a):a.nextSibling}(y,T),!1)}a[s.index]=d=o0(f,a,m,s),Mh(a,d)}return new nb(d,s,a)}class ov{constructor(a){this.queryList=a,this.matches=null}clone(){return new ov(this.queryList)}setDirty(){this.queryList.setDirty()}}class sv{constructor(a=[]){this.queries=a}createEmbeddedView(a){const d=a.queries;if(null!==d){const f=null!==a.contentQueries?a.contentQueries[0]:d.length,m=[];for(let y=0;y<f;y++){const T=d.getByIndex(y);m.push(this.queries[T.indexInDeclarationView].clone())}return new sv(m)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let d=0;d<this.queries.length;d++)null!==ab(a,d).matches&&this.queries[d].setDirty()}}class Cw{constructor(a,d,f=null){this.predicate=a,this.flags=d,this.read=f}}class ib{constructor(a=[]){this.queries=a}elementStart(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(a,d)}elementEnd(a){for(let d=0;d<this.queries.length;d++)this.queries[d].elementEnd(a)}embeddedTView(a){let d=null;for(let f=0;f<this.length;f++){const m=null!==d?d.length:0,y=this.getByIndex(f).embeddedTView(a,m);y&&(y.indexInDeclarationView=f,null!==d?d.push(y):d=[y])}return null!==d?new ib(d):null}template(a,d){for(let f=0;f<this.queries.length;f++)this.queries[f].template(a,d)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class av{constructor(a,d=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=d}elementStart(a,d){this.isApplyingToNode(d)&&this.matchTNode(a,d)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,d){this.elementStart(a,d)}embeddedTView(a,d){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,d),new av(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const d=this._declarationNodeIndex;let f=a.parent;for(;null!==f&&8&f.type&&f.index!==d;)f=f.parent;return d===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(a,d){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(a,d,ww(d,y)),this.matchTNodeWithReadOption(a,d,Cs(d,a,y,!1,!1))}else f===T_?4&d.type&&this.matchTNodeWithReadOption(a,d,-1):this.matchTNodeWithReadOption(a,d,Cs(d,a,f,!1,!1))}matchTNodeWithReadOption(a,d,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===y_||m===iv||m===T_&&4&d.type)this.addMatch(d.index,-2);else{const y=Cs(d,a,m,!1,!1);null!==y&&this.addMatch(d.index,y)}else this.addMatch(d.index,f)}}addMatch(a,d){null===this.matches?this.matches=[a,d]:this.matches.push(a,d)}}function ww(s,a){const d=s.localNames;if(null!==d)for(let f=0;f<d.length;f+=2)if(d[f]===a)return d[f+1];return null}function sE(s,a,d,f){return-1===d?function oE(s,a){return 11&s.type?Lg(s,a):4&s.type?$0(s,a):null}(a,s):-2===d?function Tw(s,a,d){return d===y_?Lg(a,s):d===T_?$0(a,s):d===iv?bw(a,s):void 0}(s,a,f):ja(s,s[1],d,a)}function Ew(s,a,d,f){const m=a[19].queries[f];if(null===m.matches){const y=s.data,T=d.matches,I=[];for(let L=0;L<T.length;L+=2){const H=T[L];I.push(H<0?null:sE(a,y[H],T[L+1],d.metadata.read))}m.matches=I}return m.matches}function cv(s,a,d,f){const m=s.queries.getByIndex(d),y=m.matches;if(null!==y){const T=Ew(s,a,m,d);for(let I=0;I<y.length;I+=2){const L=y[I];if(L>0)f.push(T[I/2]);else{const H=y[I+1],X=a[-L];for(let ye=10;ye<X.length;ye++){const Ue=X[ye];Ue[17]===Ue[3]&&cv(Ue[1],Ue,H,f)}if(null!==X[9]){const ye=X[9];for(let Ue=0;Ue<ye.length;Ue++){const tt=ye[Ue];cv(tt[1],tt,H,f)}}}}}return f}function ob(s){const a=Ot(),d=jn(),f=Xd();la(f+1);const m=ab(d,f);if(s.dirty&&bs(a)===(2==(2&m.metadata.flags))){if(null===m.matches)s.reset([]);else{const y=m.crossesNgTemplate?cv(d,a,f,[]):Ew(d,a,m,f);s.reset(y,KC),s.notifyOnChanges()}return!0}return!1}function Dw(s,a,d){const f=jn();f.firstCreatePass&&(E_(f,new Cw(s,a,d),-1),2==(2&a)&&(f.staticViewQueries=!0)),Aw(f,Ot(),a)}function Sw(s,a,d,f){const m=jn();if(m.firstCreatePass){const y=ai();E_(m,new Cw(a,d,f),y.index),function aE(s,a){const d=s.contentQueries||(s.contentQueries=[]);a!==(d.length?d[d.length-1]:-1)&&d.push(s.queries.length-1,a)}(m,s),2==(2&d)&&(m.staticContentQueries=!0)}Aw(m,Ot(),d)}function sb(){return function xw(s,a){return s[19].queries[a].queryList}(Ot(),Xd())}function Aw(s,a,d){const f=new rv(4==(4&d));Ih(s,a,f,f.destroy),null===a[19]&&(a[19]=new sv),a[19].queries.push(new ov(f))}function E_(s,a,d){null===s.queries&&(s.queries=new ib),s.queries.track(new av(a,d))}function ab(s,a){return s.queries.getByIndex(a)}function uv(s,a){return $0(s,a)}function x_(...s){}const Bw=new oi("Application Initializer");let J0=(()=>{class s{constructor(d){this.appInits=d,this.resolve=x_,this.reject=x_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const d=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(lp(y))d.push(y);else if(D0(y)){const T=new Promise((I,L)=>{y.subscribe({complete:I,error:L})});d.push(T)}}Promise.all(d).then(()=>{f()}).catch(m=>{this.reject(m)}),0===d.length&&f(),this.initialized=!0}}return s.\u0275fac=function(d){return new(d||s)(Jt(Bw,8))},s.\u0275prov=Fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Ju=new oi("AppId",{providedIn:"root",factory:function Vw(){return`${mv()}${mv()}${mv()}`}});function mv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const jw=new oi("Platform Initializer"),Gw=new oi("Platform ID"),Hw=new oi("appBootstrapListener");let $w=(()=>{class s{log(d){console.log(d)}warn(d){console.warn(d)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Fn({token:s,factory:s.\u0275fac}),s})();const Cb=new oi("LocaleId",{providedIn:"root",factory:()=>Hn(Cb,gn.Optional|gn.SkipSelf)||function gE(){return"undefined"!=typeof $localize&&$localize.locale||zh}()}),mE=new oi("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class vE{constructor(a,d){this.ngModuleFactory=a,this.componentFactories=d}}let bE=(()=>{class s{compileModuleSync(d){return new ev(d)}compileModuleAsync(d){return Promise.resolve(this.compileModuleSync(d))}compileModuleAndAllComponentsSync(d){const f=this.compileModuleSync(d),y=Jo(Sn(d).declarations).reduce((T,I)=>{const L=Gn(I);return L&&T.push(new Xy(L)),T},[]);return new vE(f,y)}compileModuleAndAllComponentsAsync(d){return Promise.resolve(this.compileModuleAndAllComponentsSync(d))}clearCache(){}clearCacheFor(d){}getModuleId(d){}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const TE=(()=>Promise.resolve(0))();function wb(s){"undefined"==typeof Zone?TE.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class zl{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:d=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zl(!1),this.onMicrotaskEmpty=new Zl(!1),this.onStable=new Zl(!1),this.onError=new Zl(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&d,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function qw(){let s=Xt.requestAnimationFrame,a=Xt.cancelAnimationFrame;if("undefined"!=typeof Zone&&s&&a){const d=s[Zone.__symbol__("OriginalDelegate")];d&&(s=d);const f=a[Zone.__symbol__("OriginalDelegate")];f&&(a=f)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function SE(s){const a=()=>{!function DE(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Xt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,_v(s),s.isCheckStableRunning=!0,Tb(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),_v(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(d,f,m,y,T,I)=>{try{return Zw(s),d.invokeTask(m,y,T,I)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||s.shouldCoalesceRunChangeDetection)&&a(),zw(s)}},onInvoke:(d,f,m,y,T,I,L)=>{try{return Zw(s),d.invoke(m,y,T,I,L)}finally{s.shouldCoalesceRunChangeDetection&&a(),zw(s)}},onHasTask:(d,f,m,y)=>{d.hasTask(m,y),f===m&&("microTask"==y.change?(s._hasPendingMicrotasks=y.microTask,_v(s),Tb(s)):"macroTask"==y.change&&(s.hasPendingMacrotasks=y.macroTask))},onHandleError:(d,f,m,y)=>(d.handleError(m,y),s.runOutsideAngular(()=>s.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!zl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(zl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(a,d,f){return this._inner.run(a,d,f)}runTask(a,d,f,m){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+m,a,EE,x_,x_);try{return y.runTask(T,d,f)}finally{y.cancelTask(T)}}runGuarded(a,d,f){return this._inner.runGuarded(a,d,f)}runOutsideAngular(a){return this._outer.run(a)}}const EE={};function Tb(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function _v(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function Zw(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function zw(s){s._nesting--,Tb(s)}class xE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zl,this.onMicrotaskEmpty=new Zl,this.onStable=new Zl,this.onError=new Zl}run(a,d,f){return a.apply(d,f)}runGuarded(a,d,f){return a.apply(d,f)}runOutsideAngular(a){return a()}runTask(a,d,f,m){return a.apply(d,f)}}let ns=(()=>{class s{constructor(d){this._ngZone=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),d.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{zl.assertNotInAngularZone(),wb(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wb(()=>{for(;0!==this._callbacks.length;){let d=this._callbacks.pop();clearTimeout(d.timeoutId),d.doneCb(this._didWork)}this._didWork=!1});else{let d=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(d)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(d=>({source:d.source,creationLocation:d.creationLocation,data:d.data})):[]}addCallback(d,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),d(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:d,timeoutId:y,updateCb:m})}whenStable(d,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(d,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(d,f,m){return[]}}return s.\u0275fac=function(d){return new(d||s)(Jt(zl))},s.\u0275prov=Fn({token:s,factory:s.\u0275fac}),s})(),Ww=(()=>{class s{constructor(){this._applications=new Map,Eb.addToWindow(this)}registerApplication(d,f){this._applications.set(d,f)}unregisterApplication(d){this._applications.delete(d)}unregisterAllApplications(){this._applications.clear()}getTestability(d){return this._applications.get(d)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(d,f=!0){return Eb.findTestabilityInTree(this,d,f)}}return s.\u0275fac=function(d){return new(d||s)},s.\u0275prov=Fn({token:s,factory:s.\u0275fac}),s})();class AE{addToWindow(a){}findTestabilityInTree(a,d,f){return null}}function IE(s){Eb=s}let ic,Eb=new AE;const Sb=new oi("AllowMultipleToken");class xb{constructor(a,d){this.name=a,this.token=d}}function Ib(s,a,d=[]){const f=`Platform: ${a}`,m=new oi(f);return(y=[])=>{let T=Pb();if(!T||T.injector.get(Sb,!1))if(s)s(d.concat(y).concat({provide:m,useValue:!0}));else{const I=d.concat(y).concat({provide:m,useValue:!0},{provide:Xa,useValue:"platform"});!function Ab(s){if(ic&&!ic.destroyed&&!ic.injector.get(Sb,!1))throw new Ge(400,"");ic=s.get(Mb);const a=s.get(jw,null);a&&a.forEach(d=>d())}(va.create({providers:I,name:f}))}return function Yw(s){const a=Pb();if(!a)throw new Ge(401,"");return a}()}}function Pb(){return ic&&!ic.destroyed?ic:null}let Mb=(()=>{class s{constructor(d){this._injector=d,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(d,f){const I=function Jw(s,a){let d;return d="noop"===s?new xE:("zone.js"===s?void 0:s)||new zl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==a?void 0:a.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==a?void 0:a.ngZoneRunCoalescing)}),d}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),L=[{provide:zl,useValue:I}];return I.run(()=>{const H=va.create({providers:L,parent:this.injector,name:d.moduleType.name}),X=d.create(H),ye=X.injector.get(Is,null);if(!ye)throw new Ge(402,"");return I.runOutsideAngular(()=>{const Ue=I.onError.subscribe({next:tt=>{ye.handleError(tt)}});X.onDestroy(()=>{vv(this._modules,X),Ue.unsubscribe()})}),function Qw(s,a,d){try{const f=d();return lp(f)?f.catch(m=>{throw a.runOutsideAngular(()=>s.handleError(m)),m}):f}catch(f){throw a.runOutsideAngular(()=>s.handleError(f)),f}}(ye,I,()=>{const Ue=X.injector.get(J0);return Ue.runInitializers(),Ue.donePromise.then(()=>(function f1(s){(function wt(s,a){null==s&&mt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(h1=s.toLowerCase().replace(/_/g,"-"))}(X.injector.get(Cb,zh)||zh),this._moduleDoBootstrap(X),X))})})}bootstrapModule(d,f=[]){const m=Ob({},f);return function Db(s,a,d){const f=new ev(d);return Promise.resolve(f)}(0,0,d).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(d){const f=d.injector.get(yv);if(d._bootstrapComponents.length>0)d._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!d.instance.ngDoBootstrap)throw new Ge(403,"");d.instance.ngDoBootstrap(f)}this._modules.push(d)}onDestroy(d){this._destroyListeners.push(d)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ge(404,"");this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(d){return new(d||s)(Jt(va))},s.\u0275prov=Fn({token:s,factory:s.\u0275fac}),s})();function Ob(s,a){return Array.isArray(a)?a.reduce(Ob,s):Object.assign(Object.assign({},s),a)}let yv=(()=>{class s{constructor(d,f,m,y,T){this._zone=d,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const I=new E.y(H=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{H.next(this._stable),H.complete()})}),L=new E.y(H=>{let X;this._zone.runOutsideAngular(()=>{X=this._zone.onStable.subscribe(()=>{zl.assertNotInAngularZone(),wb(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,H.next(!0))})})});const ye=this._zone.onUnstable.subscribe(()=>{zl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{H.next(!1)}))});return()=>{X.unsubscribe(),ye.unsubscribe()}});this.isStable=(0,N.T)(I,L.pipe((0,P.B)()))}bootstrap(d,f){if(!this._initStatus.done)throw new Ge(405,"");let m;m=d instanceof L1?d:this._componentFactoryResolver.resolveComponentFactory(d),this.componentTypes.push(m.componentType);const y=function Kw(s){return s.isBoundToModule}(m)?void 0:this._injector.get(b_),I=m.create(va.NULL,[],f||m.selector,y),L=I.location.nativeElement,H=I.injector.get(ns,null),X=H&&I.injector.get(Ww);return H&&X&&X.registerApplication(L,H),I.onDestroy(()=>{this.detachView(I.hostView),vv(this.components,I),X&&X.unregisterApplication(L)}),this._loadComponent(I),I}tick(){if(this._runningTick)throw new Ge(101,"");try{this._runningTick=!0;for(let d of this._views)d.detectChanges()}catch(d){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(d))}finally{this._runningTick=!1}}attachView(d){const f=d;this._views.push(f),f.attachToAppRef(this)}detachView(d){const f=d;vv(this._views,f),f.detachFromAppRef()}_loadComponent(d){this.attachView(d.hostView),this.tick(),this.components.push(d),this._injector.get(Hw,[]).concat(this._bootstrapListeners).forEach(m=>m(d))}ngOnDestroy(){this._views.slice().forEach(d=>d.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return s.\u0275fac=function(d){return new(d||s)(Jt(zl),Jt(va),Jt(Is),Jt(G0),Jt(J0))},s.\u0275prov=Fn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function vv(s,a){const d=s.indexOf(a);d>-1&&s.splice(d,1)}let bv=!1;function kb(){return bv=!0,true}let tT=(()=>{class s{}return s.__NG_ELEMENT_ID__=NE,s})();function NE(s){return function RE(s,a,d){if(Mr(s)&&!d){const f=so(s.index,a);return new v_(f,f)}return 47&s.type?new v_(a[16],a):null}(ai(),Ot(),16==(16&s))}class zi{constructor(){}supports(a){return gg(a)}create(a){return new Bb(a)}}const Ev=(s,a)=>a;class Bb{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ev}forEachItem(a){let d;for(d=this._itHead;null!==d;d=d._next)a(d)}forEachOperation(a){let d=this._itHead,f=this._removalsHead,m=0,y=null;for(;d||f;){const T=!f||d&&d.currentIndex<Q0(f,m,y)?d:f,I=Q0(T,m,y),L=T.currentIndex;if(T===f)m--,f=f._nextRemoved;else if(d=d._next,null==T.previousIndex)m++;else{y||(y=[]);const H=I-m,X=L-m;if(H!=X){for(let Ue=0;Ue<H;Ue++){const tt=Ue<y.length?y[Ue]:y[Ue]=0,Et=tt+Ue;X<=Et&&Et<H&&(y[Ue]=tt+1)}y[T.previousIndex]=X-H}}I!==L&&a(T,I,L)}}forEachPreviousItem(a){let d;for(d=this._previousItHead;null!==d;d=d._nextPrevious)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachMovedItem(a){let d;for(d=this._movesHead;null!==d;d=d._nextMoved)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}forEachIdentityChange(a){let d;for(d=this._identityChangesHead;null!==d;d=d._nextIdentityChange)a(d)}diff(a){if(null==a&&(a=[]),!gg(a))throw new Ge(900,"");return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let m,y,T,d=this._itHead,f=!1;if(Array.isArray(a)){this.length=a.length;for(let I=0;I<this.length;I++)y=a[I],T=this._trackByFn(I,y),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,y,T,I)),Object.is(d.item,y)||this._addIdentityChange(d,y)):(d=this._mismatch(d,y,T,I),f=!0),d=d._next}else m=0,function Vd(s,a){if(Array.isArray(s))for(let d=0;d<s.length;d++)a(s[d]);else{const d=s[Xf()]();let f;for(;!(f=d.next()).done;)a(f.value)}}(a,I=>{T=this._trackByFn(m,I),null!==d&&Object.is(d.trackById,T)?(f&&(d=this._verifyReinsertion(d,I,T,m)),Object.is(d.item,I)||this._addIdentityChange(d,I)):(d=this._mismatch(d,I,T,m),f=!0),d=d._next,m++}),this.length=m;return this._truncate(d),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,d,f,m){let y;return null===a?y=this._itTail:(y=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._reinsertAfter(a,y,m)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(a.item,d)||this._addIdentityChange(a,d),this._moveAfter(a,y,m)):a=this._addAfter(new Dv(d,f),y,m),a}_verifyReinsertion(a,d,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?a=this._reinsertAfter(y,a._prev,m):a.currentIndex!=m&&(a.currentIndex=m,this._addToMoves(a,m)),a}_truncate(a){for(;null!==a;){const d=a._next;this._addToRemovals(this._unlink(a)),a=d}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,d,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const m=a._prevRemoved,y=a._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(a,d,f),this._addToMoves(a,f),a}_moveAfter(a,d,f){return this._unlink(a),this._insertAfter(a,d,f),this._addToMoves(a,f),a}_addAfter(a,d,f){return this._insertAfter(a,d,f),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,d,f){const m=null===d?this._itHead:d._next;return a._next=m,a._prev=d,null===m?this._itTail=a:m._prev=a,null===d?this._itHead=a:d._next=a,null===this._linkedRecords&&(this._linkedRecords=new Vb),this._linkedRecords.put(a),a.currentIndex=f,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const d=a._prev,f=a._next;return null===d?this._itHead=f:d._next=f,null===f?this._itTail=d:f._prev=d,a}_addToMoves(a,d){return a.previousIndex===d||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Vb),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,d){return a.item=d,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class Dv{constructor(a,d){this.item=a,this.trackById=d,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oT{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,d){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===d||d<=f.currentIndex)&&Object.is(f.trackById,a))return f;return null}remove(a){const d=a._prevDup,f=a._nextDup;return null===d?this._head=f:d._nextDup=f,null===f?this._tail=d:f._prevDup=d,null===this._head}}class Vb{constructor(){this.map=new Map}put(a){const d=a.trackById;let f=this.map.get(d);f||(f=new oT,this.map.set(d,f)),f.add(a)}get(a,d){const m=this.map.get(a);return m?m.get(a,d):null}remove(a){const d=a.trackById;return this.map.get(d).remove(a)&&this.map.delete(d),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Q0(s,a,d){const f=s.previousIndex;if(null===f)return f;let m=0;return d&&f<d.length&&(m=d[f]),f+a+m}class sT{constructor(){}supports(a){return a instanceof Map||ep(a)}create(){return new A_}}class A_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let d;for(d=this._mapHead;null!==d;d=d._next)a(d)}forEachPreviousItem(a){let d;for(d=this._previousMapHead;null!==d;d=d._nextPrevious)a(d)}forEachChangedItem(a){let d;for(d=this._changesHead;null!==d;d=d._nextChanged)a(d)}forEachAddedItem(a){let d;for(d=this._additionsHead;null!==d;d=d._nextAdded)a(d)}forEachRemovedItem(a){let d;for(d=this._removalsHead;null!==d;d=d._nextRemoved)a(d)}diff(a){if(a){if(!(a instanceof Map||ep(a)))throw new Ge(900,"")}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let d=this._mapHead;if(this._appendAfter=null,this._forEach(a,(f,m)=>{if(d&&d.key===m)this._maybeAddToChanges(d,f),this._appendAfter=d,d=d._next;else{const y=this._getOrCreateRecordForKey(m,f);d=this._insertBeforeOrAppend(d,y)}}),d){d._prev&&(d._prev._next=null),this._removalsHead=d;for(let f=d;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,d){if(a){const f=a._prev;return d._next=a,d._prev=f,a._prev=d,f&&(f._next=d),a===this._mapHead&&(this._mapHead=d),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=d,d._prev=this._appendAfter):this._mapHead=d,this._appendAfter=d,null}_getOrCreateRecordForKey(a,d){if(this._records.has(a)){const m=this._records.get(a);this._maybeAddToChanges(m,d);const y=m._prev,T=m._next;return y&&(y._next=T),T&&(T._prev=y),m._next=null,m._prev=null,m}const f=new X0(a);return this._records.set(a,f),f.currentValue=d,this._addToAdditions(f),f}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,d){Object.is(d,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=d,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,d){a instanceof Map?a.forEach(d):Object.keys(a).forEach(f=>d(a[f],f))}}class X0{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Sv(){return new xv([new zi])}let xv=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(null!=f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||Sv()),deps:[[s,new ei,new co]]}}find(d){const f=this.factories.find(m=>m.supports(d));if(null!=f)return f;throw new Ge(901,"")}}return s.\u0275prov=Fn({token:s,providedIn:"root",factory:Sv}),s})();function jb(){return new Av([new sT])}let Av=(()=>{class s{constructor(d){this.factories=d}static create(d,f){if(f){const m=f.factories.slice();d=d.concat(m)}return new s(d)}static extend(d){return{provide:s,useFactory:f=>s.create(d,f||jb()),deps:[[s,new ei,new co]]}}find(d){const f=this.factories.find(y=>y.supports(d));if(f)return f;throw new Ge(901,"")}}return s.\u0275prov=Fn({token:s,providedIn:"root",factory:jb}),s})();const ty=Ib(null,"core",[{provide:Gw,useValue:"unknown"},{provide:Mb,deps:[va]},{provide:Ww,deps:[]},{provide:$w,deps:[]}]);let bp=(()=>{class s{constructor(d){}}return s.\u0275fac=function(d){return new(d||s)(Jt(yv))},s.\u0275mod=ke({type:s}),s.\u0275inj=rr({}),s})()},3942:(nt,A,M)=>{"use strict";M.d(A,{Z:()=>Ge});var t=M(2090),C=M(4859),E=M(9681),N=M(1877);class P{constructor(ue,Me){this._delegate=ue,this.firebase=Me,(0,E._addComponent)(ue,new C.wA("app-compat",()=>this,"PUBLIC")),this.container=ue.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ue){this._delegate.automaticDataCollectionEnabled=ue}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ue=>{this._delegate.checkDestroyed(),ue()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,E.deleteApp)(this._delegate)))}_getService(ue,Me=E._DEFAULT_ENTRY_NAME){var De;this._delegate.checkDestroyed();const rt=this._delegate.container.getProvider(ue);return!rt.isInitialized()&&"EXPLICIT"===(null===(De=rt.getComponent())||void 0===De?void 0:De.instantiationMode)&&rt.initialize(),rt.getImmediate({identifier:Me})}_removeServiceInstance(ue,Me=E._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ue).clearInstance(Me)}_addComponent(ue){(0,E._addComponent)(this._delegate,ue)}_addOrOverwriteComponent(ue){(0,E._addOrOverwriteComponent)(this._delegate,ue)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const $=new t.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function J(){const ut=function z(ut){const ue={},Me={__esModule:!0,initializeApp:function Be(Ie,it={}){const se=E.initializeApp(Ie,it);if((0,t.r3)(ue,se.name))return ue[se.name];const oe=new ut(se,Me);return ue[se.name]=oe,oe},app:rt,registerVersion:E.registerVersion,setLogLevel:E.setLogLevel,onLog:E.onLog,apps:null,SDK_VERSION:E.SDK_VERSION,INTERNAL:{registerComponent:function we(Ie){const it=Ie.name,se=it.replace("-compat","");if(E._registerComponent(Ie)&&"PUBLIC"===Ie.type){const oe=(Q=rt())=>{if("function"!=typeof Q[se])throw $.create("invalid-app-argument",{appName:it});return Q[se]()};void 0!==Ie.serviceProps&&(0,t.ZB)(oe,Ie.serviceProps),Me[se]=oe,ut.prototype[se]=function(...Q){return this._getService.bind(this,it).apply(this,Ie.multipleInstances?Q:[])}}return"PUBLIC"===Ie.type?Me[se]:null},removeApp:function De(Ie){delete ue[Ie]},useAsService:function He(Ie,it){return"serverAuth"===it?null:it},modularAPIs:E}};function rt(Ie){if(!(0,t.r3)(ue,Ie=Ie||E._DEFAULT_ENTRY_NAME))throw $.create("no-app",{appName:Ie});return ue[Ie]}return Me.default=Me,Object.defineProperty(Me,"apps",{get:function qe(){return Object.keys(ue).map(Ie=>ue[Ie])}}),rt.App=ut,Me}(P);return ut.INTERNAL=Object.assign(Object.assign({},ut.INTERNAL),{createFirebaseNamespace:J,extendNamespace:function ue(Me){(0,t.ZB)(ut,Me)},createSubscribe:t.ne,ErrorFactory:t.LL,deepExtend:t.ZB}),ut}(),ne=new N.Yd("@firebase/app-compat");if((0,t.jU)()&&void 0!==self.firebase){ne.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ut=self.firebase.SDK_VERSION;ut&&ut.indexOf("LITE")>=0&&ne.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ge=W;!function $e(ut){(0,E.registerVersion)("@firebase/app-compat","0.1.20",ut)}()},9681:(nt,A,M)=>{"use strict";M.r(A),M.d(A,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>ki,_DEFAULT_ENTRY_NAME:()=>pn,_addComponent:()=>cn,_addOrOverwriteComponent:()=>tr,_apps:()=>mt,_clearComponents:()=>Xn,_components:()=>xt,_getProvider:()=>yr,_registerComponent:()=>Fn,_removeServiceInstance:()=>rr,deleteApp:()=>Ei,getApp:()=>Fr,getApps:()=>Br,initializeApp:()=>wi,onLog:()=>Vr,registerVersion:()=>Ni,setLogLevel:()=>$r});var t=M(5861),C=M(4859),E=M(1877),N=M(2090);class P{constructor(et){this.container=et}getPlatformInfoString(){return this.container.getProviders().map(Vt=>{if(function j(Tt){const et=Tt.getComponent();return"VERSION"===(null==et?void 0:et.type)}(Vt)){const zt=Vt.getImmediate();return`${zt.library}/${zt.version}`}return null}).filter(Vt=>Vt).join(" ")}}const $="@firebase/app",z="0.7.19",J=new E.Yd("@firebase/app"),pn="[DEFAULT]",wt={[$]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},mt=new Map,xt=new Map;function cn(Tt,et){try{Tt.container.addComponent(et)}catch(Vt){J.debug(`Component ${et.name} failed to register with FirebaseApp ${Tt.name}`,Vt)}}function tr(Tt,et){Tt.container.addOrOverwriteComponent(et)}function Fn(Tt){const et=Tt.name;if(xt.has(et))return J.debug(`There were multiple attempts to register component ${et}.`),!1;xt.set(et,Tt);for(const Vt of mt.values())cn(Vt,Tt);return!0}function yr(Tt,et){const Vt=Tt.container.getProvider("heartbeat").getImmediate({optional:!0});return Vt&&Vt.triggerHeartbeat(),Tt.container.getProvider(et)}function rr(Tt,et,Vt=pn){yr(Tt,et).clearInstance(Vt)}function Xn(){xt.clear()}const mr=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class xr{constructor(et,Vt,zt){this._isDeleted=!1,this._options=Object.assign({},et),this._config=Object.assign({},Vt),this._name=Vt.name,this._automaticDataCollectionEnabled=Vt.automaticDataCollectionEnabled,this._container=zt,this.container.addComponent(new C.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(et){this.checkDestroyed(),this._automaticDataCollectionEnabled=et}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(et){this._isDeleted=et}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const ki="9.6.9";function wi(Tt,et={}){"object"!=typeof et&&(et={name:et});const Vt=Object.assign({name:pn,automaticDataCollectionEnabled:!1},et),zt=Vt.name;if("string"!=typeof zt||!zt)throw mr.create("bad-app-name",{appName:String(zt)});const In=mt.get(zt);if(In){if((0,N.vZ)(Tt,In.options)&&(0,N.vZ)(Vt,In.config))return In;throw mr.create("duplicate-app",{appName:zt})}const yn=new C.H0(zt);for(const pe of xt.values())yn.addComponent(pe);const be=new xr(Tt,Vt,yn);return mt.set(zt,be),be}function Fr(Tt=pn){const et=mt.get(Tt);if(!et)throw mr.create("no-app",{appName:Tt});return et}function Br(){return Array.from(mt.values())}function Ei(Tt){return gn.apply(this,arguments)}function gn(){return(gn=(0,t.Z)(function*(Tt){const et=Tt.name;mt.has(et)&&(mt.delete(et),yield Promise.all(Tt.container.getProviders().map(Vt=>Vt.delete())),Tt.isDeleted=!0)})).apply(this,arguments)}function Ni(Tt,et,Vt){var zt;let In=null!==(zt=wt[Tt])&&void 0!==zt?zt:Tt;Vt&&(In+=`-${Vt}`);const yn=In.match(/\s|\//),be=et.match(/\s|\//);if(yn||be){const pe=[`Unable to register library "${In}" with version "${et}":`];return yn&&pe.push(`library name "${In}" contains illegal characters (whitespace or "/")`),yn&&be&&pe.push("and"),be&&pe.push(`version name "${et}" contains illegal characters (whitespace or "/")`),void J.warn(pe.join(" "))}Fn(new C.wA(`${In}-version`,()=>({library:In,version:et}),"VERSION"))}function Vr(Tt,et){if(null!==Tt&&"function"!=typeof Tt)throw mr.create("invalid-log-argument");(0,E.Am)(Tt,et)}function $r(Tt){(0,E.Ub)(Tt)}const ct="firebase-heartbeat-store";let Xe=null;function yt(){return Xe||(Xe=(0,N.X3)("firebase-heartbeat-database",1,(Tt,et)=>{0===et&&Tt.createObjectStore(ct)}).catch(Tt=>{throw mr.create("storage-open",{originalErrorMessage:Tt.message})})),Xe}function Pt(){return(Pt=(0,t.Z)(function*(Tt){try{return(yield yt()).transaction(ct).objectStore(ct).get(mn(Tt))}catch(et){throw mr.create("storage-get",{originalErrorMessage:et.message})}})).apply(this,arguments)}function Ct(Tt,et){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,t.Z)(function*(Tt,et){try{const zt=(yield yt()).transaction(ct,"readwrite");return yield zt.objectStore(ct).put(et,mn(Tt)),zt.complete}catch(Vt){throw mr.create("storage-set",{originalErrorMessage:Vt.message})}})).apply(this,arguments)}function mn(Tt){return`${Tt.name}!${Tt.options.appId}`}class Mn{constructor(et){this.container=et,this._heartbeatsCache=null;const Vt=this.container.getProvider("app").getImmediate();this._storage=new Ht(Vt),this._heartbeatsCachePromise=this._storage.read().then(zt=>(this._heartbeatsCache=zt,zt))}triggerHeartbeat(){var et=this;return(0,t.Z)(function*(){const zt=et.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),In=Cn();if(null===et._heartbeatsCache&&(et._heartbeatsCache=yield et._heartbeatsCachePromise),et._heartbeatsCache.lastSentHeartbeatDate!==In&&!et._heartbeatsCache.heartbeats.some(yn=>yn.date===In))return et._heartbeatsCache.heartbeats.push({date:In,agent:zt}),et._heartbeatsCache.heartbeats=et._heartbeatsCache.heartbeats.filter(yn=>{const be=new Date(yn.date).valueOf();return Date.now()-be<=2592e6}),et._storage.overwrite(et._heartbeatsCache)})()}getHeartbeatsHeader(){var et=this;return(0,t.Z)(function*(){if(null===et._heartbeatsCache&&(yield et._heartbeatsCachePromise),null===et._heartbeatsCache||0===et._heartbeatsCache.heartbeats.length)return"";const Vt=Cn(),{heartbeatsToSend:zt,unsentEntries:In}=function Wn(Tt,et=1024){const Vt=[];let zt=Tt.slice();for(const In of Tt){const yn=Vt.find(be=>be.agent===In.agent);if(yn){if(yn.dates.push(In.date),vr(Vt)>et){yn.dates.pop();break}}else if(Vt.push({agent:In.agent,dates:[In.date]}),vr(Vt)>et){Vt.pop();break}zt=zt.slice(1)}return{heartbeatsToSend:Vt,unsentEntries:zt}}(et._heartbeatsCache.heartbeats),yn=(0,N.L)(JSON.stringify({version:2,heartbeats:zt}));return et._heartbeatsCache.lastSentHeartbeatDate=Vt,In.length>0?(et._heartbeatsCache.heartbeats=In,yield et._storage.overwrite(et._heartbeatsCache)):(et._heartbeatsCache.heartbeats=[],et._storage.overwrite(et._heartbeatsCache)),yn})()}}function Cn(){return(new Date).toISOString().substring(0,10)}class Ht{constructor(et){this.app=et,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,t.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var et=this;return(0,t.Z)(function*(){return(yield et._canUseIndexedDBPromise)&&(yield function kt(Tt){return Pt.apply(this,arguments)}(et.app))||{heartbeats:[]}})()}overwrite(et){var Vt=this;return(0,t.Z)(function*(){var zt;if(yield Vt._canUseIndexedDBPromise){const yn=yield Vt.read();return Ct(Vt.app,{lastSentHeartbeatDate:null!==(zt=et.lastSentHeartbeatDate)&&void 0!==zt?zt:yn.lastSentHeartbeatDate,heartbeats:et.heartbeats})}})()}add(et){var Vt=this;return(0,t.Z)(function*(){var zt;if(yield Vt._canUseIndexedDBPromise){const yn=yield Vt.read();return Ct(Vt.app,{lastSentHeartbeatDate:null!==(zt=et.lastSentHeartbeatDate)&&void 0!==zt?zt:yn.lastSentHeartbeatDate,heartbeats:[...yn.heartbeats,...et.heartbeats]})}})()}}function vr(Tt){return(0,N.L)(JSON.stringify({version:2,heartbeats:Tt})).length}!function Dn(Tt){Fn(new C.wA("platform-logger",et=>new P(et),"PRIVATE")),Fn(new C.wA("heartbeat",et=>new Mn(et),"PRIVATE")),Ni($,z,Tt),Ni($,z,"esm2017"),Ni("fire-js","")}("")},4859:(nt,A,M)=>{"use strict";M.d(A,{H0:()=>z,wA:()=>E});var t=M(5861),C=M(2090);class E{constructor(W,ne,ae){this.name=W,this.instanceFactory=ne,this.type=ae,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const N="[DEFAULT]";class P{constructor(W,ne){this.name=W,this.container=ne,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const ne=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(ne)){const ae=new C.BH;if(this.instancesDeferred.set(ne,ae),this.isInitialized(ne)||this.shouldAutoInitialize())try{const Je=this.getOrInitializeService({instanceIdentifier:ne});Je&&ae.resolve(Je)}catch(Je){}}return this.instancesDeferred.get(ne).promise}getImmediate(W){var ne;const ae=this.normalizeInstanceIdentifier(null==W?void 0:W.identifier),Je=null!==(ne=null==W?void 0:W.optional)&&void 0!==ne&&ne;if(!this.isInitialized(ae)&&!this.shouldAutoInitialize()){if(Je)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ae})}catch($e){if(Je)return null;throw $e}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function $(J){return"EAGER"===J.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:N})}catch(ne){}for(const[ne,ae]of this.instancesDeferred.entries()){const Je=this.normalizeInstanceIdentifier(ne);try{const $e=this.getOrInitializeService({instanceIdentifier:Je});ae.resolve($e)}catch($e){}}}}clearInstance(W=N){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,t.Z)(function*(){const ne=Array.from(W.instances.values());yield Promise.all([...ne.filter(ae=>"INTERNAL"in ae).map(ae=>ae.INTERNAL.delete()),...ne.filter(ae=>"_delete"in ae).map(ae=>ae._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=N){return this.instances.has(W)}getOptions(W=N){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:ne={}}=W,ae=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ae))throw Error(`${this.name}(${ae}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Je=this.getOrInitializeService({instanceIdentifier:ae,options:ne});for(const[$e,Ge]of this.instancesDeferred.entries())ae===this.normalizeInstanceIdentifier($e)&&Ge.resolve(Je);return Je}onInit(W,ne){var ae;const Je=this.normalizeInstanceIdentifier(ne),$e=null!==(ae=this.onInitCallbacks.get(Je))&&void 0!==ae?ae:new Set;$e.add(W),this.onInitCallbacks.set(Je,$e);const Ge=this.instances.get(Je);return Ge&&W(Ge,Je),()=>{$e.delete(W)}}invokeOnInitCallbacks(W,ne){const ae=this.onInitCallbacks.get(ne);if(ae)for(const Je of ae)try{Je(W,ne)}catch($e){}}getOrInitializeService({instanceIdentifier:W,options:ne={}}){let ae=this.instances.get(W);if(!ae&&this.component&&(ae=this.component.instanceFactory(this.container,{instanceIdentifier:(J=W,J===N?void 0:J),options:ne}),this.instances.set(W,ae),this.instancesOptions.set(W,ne),this.invokeOnInitCallbacks(ae,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ae)}catch(Je){}var J;return ae||null}normalizeInstanceIdentifier(W=N){return this.component?this.component.multipleInstances?W:N:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class z{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const ne=this.getProvider(W.name);if(ne.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);ne.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const ne=new P(W,this);return this.providers.set(W,ne),ne}getProviders(){return Array.from(this.providers.values())}}},1877:(nt,A,M)=>{"use strict";M.d(A,{Am:()=>J,Ub:()=>z,Yd:()=>$,in:()=>C});const t=[];var C=(()=>{return(W=C||(C={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",C;var W})();const E={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},N=C.INFO,P={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},j=(W,ne,...ae)=>{if(ne<W.logLevel)return;const Je=(new Date).toISOString(),$e=P[ne];if(!$e)throw new Error(`Attempted to log a message with an invalid logType (value: ${ne})`);console[$e](`[${Je}]  ${W.name}:`,...ae)};class ${constructor(ne){this.name=ne,this._logLevel=N,this._logHandler=j,this._userLogHandler=null,t.push(this)}get logLevel(){return this._logLevel}set logLevel(ne){if(!(ne in C))throw new TypeError(`Invalid value "${ne}" assigned to \`logLevel\``);this._logLevel=ne}setLogLevel(ne){this._logLevel="string"==typeof ne?E[ne]:ne}get logHandler(){return this._logHandler}set logHandler(ne){if("function"!=typeof ne)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ne}get userLogHandler(){return this._userLogHandler}set userLogHandler(ne){this._userLogHandler=ne}debug(...ne){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...ne),this._logHandler(this,C.DEBUG,...ne)}log(...ne){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...ne),this._logHandler(this,C.VERBOSE,...ne)}info(...ne){this._userLogHandler&&this._userLogHandler(this,C.INFO,...ne),this._logHandler(this,C.INFO,...ne)}warn(...ne){this._userLogHandler&&this._userLogHandler(this,C.WARN,...ne),this._logHandler(this,C.WARN,...ne)}error(...ne){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...ne),this._logHandler(this,C.ERROR,...ne)}}function z(W){t.forEach(ne=>{ne.setLogLevel(W)})}function J(W,ne){for(const ae of t){let Je=null;ne&&ne.level&&(Je=E[ne.level]),ae.userLogHandler=null===W?null:($e,Ge,...ut)=>{const ue=ut.map(Me=>{if(null==Me)return null;if("string"==typeof Me)return Me;if("number"==typeof Me||"boolean"==typeof Me)return Me.toString();if(Me instanceof Error)return Me.message;try{return JSON.stringify(Me)}catch(De){return null}}).filter(Me=>Me).join(" ");Ge>=(null!=Je?Je:$e.logLevel)&&W({level:C[Ge].toLowerCase(),message:ue,args:ut,type:$e.name})}}}},5861:(nt,A,M)=>{"use strict";function t(E,N,P,j,$,z,J){try{var W=E[z](J),ne=W.value}catch(ae){return void P(ae)}W.done?N(ne):Promise.resolve(ne).then(j,$)}function C(E){return function(){var N=this,P=arguments;return new Promise(function(j,$){var z=E.apply(N,P);function J(ne){t(z,j,$,J,W,"next",ne)}function W(ne){t(z,j,$,J,W,"throw",ne)}J(void 0)})}}M.d(A,{Z:()=>C})}},nt=>{nt(nt.s=2714)}]);