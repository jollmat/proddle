(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{896:le=>{window,le.exports=function(v){var w={};function f(i){if(w[i])return w[i].exports;var b=w[i]={i,l:!1,exports:{}};return v[i].call(b.exports,b,b.exports,f),b.l=!0,b.exports}return f.m=v,f.c=w,f.d=function(i,b,S){f.o(i,b)||Object.defineProperty(i,b,{enumerable:!0,get:S})},f.r=function(i){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},f.t=function(i,b){if(1&b&&(i=f(i)),8&b||4&b&&"object"==typeof i&&i&&i.__esModule)return i;var S=Object.create(null);if(f.r(S),Object.defineProperty(S,"default",{enumerable:!0,value:i}),2&b&&"string"!=typeof i)for(var x in i)f.d(S,x,function(k){return i[k]}.bind(null,x));return S},f.n=function(i){var b=i&&i.__esModule?function(){return i.default}:function(){return i};return f.d(b,"a",b),b},f.o=function(i,b){return Object.prototype.hasOwnProperty.call(i,b)},f.p="/",f(f.s=89)}([function(v,w){v.exports=function(f,i,b){return i in f?Object.defineProperty(f,i,{value:b,enumerable:!0,configurable:!0,writable:!0}):f[i]=b,f},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f){if(void 0===f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return f},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){function f(i){return v.exports=f=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)},v.exports.__esModule=!0,v.exports.default=v.exports,f(i)}v.exports=f,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f,i){if(!(f instanceof i))throw new TypeError("Cannot call a class as a function")},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){function f(i,b){for(var S=0;S<b.length;S++){var x=b[S];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(i,x.key,x)}}v.exports=function(i,b,S){return b&&f(i.prototype,b),S&&f(i,S),Object.defineProperty(i,"prototype",{writable:!1}),i},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(20).default,b=f(1);v.exports=function(S,x){if(x&&("object"===i(x)||"function"==typeof x))return x;if(void 0!==x)throw new TypeError("Derived constructors may only return object or undefined");return b(S)},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(41);v.exports=function(b,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(S&&S.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),S&&i(b,S)},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){v.exports={EPSILON:f(62),create:f(63),clone:f(156),fromValues:f(157),copy:f(158),set:f(159),equals:f(160),exactEquals:f(161),add:f(162),subtract:f(64),sub:f(163),multiply:f(65),mul:f(164),divide:f(66),div:f(165),inverse:f(166),min:f(167),max:f(168),rotate:f(169),floor:f(170),ceil:f(171),round:f(172),scale:f(173),scaleAndAdd:f(174),distance:f(67),dist:f(175),squaredDistance:f(68),sqrDist:f(176),length:f(69),len:f(177),squaredLength:f(70),sqrLen:f(178),negate:f(179),normalize:f(180),dot:f(181),cross:f(182),lerp:f(183),random:f(184),transformMat2:f(185),transformMat2d:f(186),transformMat3:f(187),transformMat4:f(188),forEach:f(189),limit:f(190)}},function(v,w,f){v.exports=f(224)},function(v,w,f){"use strict";w.a={init:function(i,b){for(var S=i.length;S--;)i[S]=b},shuffle:function(i){for(var b=i.length-1;b>=0;b--){var S=Math.floor(Math.random()*b),x=i[b];i[b]=i[S],i[S]=x}return i},toPointList:function(i){var b=i.reduce(function(S,x){var k="[".concat(x.join(","),"]");return S.push(k),S},[]);return"[".concat(b.join(",\r\n"),"]")},threshold:function(i,b,S){return i.reduce(function(x,k){return S.apply(i,[k])>=b&&x.push(k),x},[])},maxIndex:function(i){for(var b=0,S=0;S<i.length;S++)i[S]>i[b]&&(b=S);return b},max:function(i){for(var b=0,S=0;S<i.length;S++)i[S]>b&&(b=i[S]);return b},sum:function(i){for(var b=i.length,S=0;b--;)S+=i[b];return S}}},function(v,w,f){"use strict";f.d(w,"h",function(){return he}),f.d(w,"i",function(){return ye}),f.d(w,"b",function(){return Ve}),f.d(w,"j",function(){return Ne}),f.d(w,"e",function(){return Be}),f.d(w,"c",function(){return Je}),f.d(w,"f",function(){return ce}),f.d(w,"g",function(){return Re}),f.d(w,"a",function(){return Fe}),f.d(w,"d",function(){return we});var i=f(7),b=f(84),S={clone:i.clone,dot:i.dot},x=function(ue,ke){var De=[],Ue={rad:0,vec:S.clone([0,0])},Q={};function H(se){Q[se.id]=se,De.push(se)}function Z(){var se,me=0;for(se=0;se<De.length;se++)me+=De[se].rad;Ue.rad=me/De.length,Ue.vec=S.clone([Math.cos(Ue.rad),Math.sin(Ue.rad)])}return H(ue),Z(),{add:function(se){Q[se.id]||(H(se),Z())},fits:function(se){return Math.abs(S.dot(se.point.vec,Ue.vec))>ke},getPoints:function(){return De},getCenter:function(){return Ue}}},k=function(ue,ke,De){return{rad:ue[De],point:ue,id:ke}},U=f(9),ee={clone:i.clone},K={clone:b.clone};function he(ue,ke){return{x:ue,y:ke,toVec2:function(){return ee.clone([this.x,this.y])},toVec3:function(){return K.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ne(ue,ke){ke||(ke=8);for(var De=ue.data,Ue=De.length,Q=8-ke,H=new Int32Array(1<<ke);Ue--;)H[De[Ue]>>Q]++;return H}function ye(ue,ke){var De=function(Ue){var Q,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,Z=8-H;function se(tt,qt){for(var rt=0,nt=tt;nt<=qt;nt++)rt+=Q[nt];return rt}function me(tt,qt){for(var rt=0,nt=tt;nt<=qt;nt++)rt+=nt*Q[nt];return rt}function X(){var tt,qt,rt,nt,ct=[0],Bt=(1<<H)-1;Q=ne(Ue,H);for(var On=1;On<Bt;On++)0==(rt=(tt=se(0,On))*(qt=se(On+1,Bt)))&&(rt=1),nt=me(0,On)*qt-me(On+1,Bt)*tt,ct[On]=nt*nt/rt;return U.a.maxIndex(ct)}return X()<<Z}(ue);return function(Ue,Q,H){H||(H=Ue);for(var Z=Ue.data,se=Z.length,me=H.data;se--;)me[se]=Z[se]<Q?1:0}(ue,De,ke),De}function Ve(ue,ke,De){var Ue,Q,H,Z,se=[];function me(X){var Ke=!1;for(Q=0;Q<se.length;Q++)(H=se[Q]).fits(X)&&(H.add(X),Ke=!0);return Ke}for(De||(De="rad"),Ue=0;Ue<ue.length;Ue++)me(Z=k(ue[Ue],Ue,De))||se.push(x(Z,ke));return se}function Ne(ue,ke,De){var Ue,Q,H,Z,se=0,me=0,X=[];for(Ue=0;Ue<ke;Ue++)X[Ue]={score:0,item:null};for(Ue=0;Ue<ue.length;Ue++)if((Q=De.apply(this,[ue[Ue]]))>me)for((H=X[se]).score=Q,H.item=ue[Ue],me=Number.MAX_VALUE,Z=0;Z<ke;Z++)X[Z].score<me&&(me=X[Z].score,se=Z);return X}function Be(ue,ke,De){for(var Ue,Q=0,H=ke.x,Z=Math.floor(ue.length/4),se=ke.x/2,me=0,X=ke.x;H<Z;){for(Ue=0;Ue<se;Ue++)De[me]=(.299*ue[4*Q+0]+.587*ue[4*Q+1]+.114*ue[4*Q+2]+(.299*ue[4*(Q+1)+0]+.587*ue[4*(Q+1)+1]+.114*ue[4*(Q+1)+2])+(.299*ue[4*H+0]+.587*ue[4*H+1]+.114*ue[4*H+2])+(.299*ue[4*(H+1)+0]+.587*ue[4*(H+1)+1]+.114*ue[4*(H+1)+2]))/4,me++,Q+=2,H+=2;Q+=X,H+=X}}function Je(ue,ke,De){var Ue=ue.length/4|0;if(De&&!0===De.singleChannel)for(var Q=0;Q<Ue;Q++)ke[Q]=ue[4*Q+0];else for(var H=0;H<Ue;H++)ke[H]=.299*ue[4*H+0]+.587*ue[4*H+1]+.114*ue[4*H+2]}function ce(ue,ke){for(var De=ue.data,Ue=ue.size.x,Q=ke.data,H=0,Z=Ue,se=De.length,me=Ue/2,X=0;Z<se;){for(var Ke=0;Ke<me;Ke++)Q[X]=Math.floor((De[H]+De[H+1]+De[Z]+De[Z+1])/4),X++,H+=2,Z+=2;H+=Ue,Z+=Ue}}function Re(ue){var ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],De=ue[0],Q=ue[2],H=Q*ue[1],Z=H*(1-Math.abs(De/60%2-1)),se=Q-H,me=0,X=0,Ke=0;return De<60?(me=H,X=Z):De<120?(me=Z,X=H):De<180?(X=H,Ke=Z):De<240?(X=Z,Ke=H):De<300?(me=Z,Ke=H):De<360&&(me=H,Ke=Z),ke[0]=255*(me+se)|0,ke[1]=255*(X+se)|0,ke[2]=255*(Ke+se)|0,ke}function be(ue){for(var ke=[],De=[],Ue=1;Ue<Math.sqrt(ue)+1;Ue++)ue%Ue==0&&(De.push(Ue),Ue!==ue/Ue&&ke.unshift(Math.floor(ue/Ue)));return De.concat(ke)}function Fe(ue,ke){var De,Ue=be(ke.x),Q=be(ke.y),H=Math.max(ke.x,ke.y),Z=function(rt,nt){for(var ct=0,Bt=0,On=[];ct<rt.length&&Bt<nt.length;)rt[ct]===nt[Bt]?(On.push(rt[ct]),ct++,Bt++):rt[ct]>nt[Bt]?Bt++:ct++;return On}(Ue,Q),se=[8,10,15,20,32,60,80],me={"x-small":5,small:4,medium:3,large:2,"x-large":1},X=me[ue]||me.medium,Ke=se[X],tt=Math.floor(H/Ke);function qt(rt){for(var nt=0,ct=rt[Math.floor(rt.length/2)];nt<rt.length-1&&rt[nt]<tt;)nt++;return nt>0&&(ct=Math.abs(rt[nt]-tt)>Math.abs(rt[nt-1]-tt)?rt[nt-1]:rt[nt]),tt/ct<se[X+1]/se[X]&&tt/ct>se[X-1]/se[X]?{x:ct,y:ct}:null}return(De=qt(Z))||(De=qt(be(H)))||(De=qt(be(tt*Ke))),De}var Pe={top:function(ue,ke){return"%"===ue.unit?Math.floor(ke.height*(ue.value/100)):null},right:function(ue,ke){return"%"===ue.unit?Math.floor(ke.width-ke.width*(ue.value/100)):null},bottom:function(ue,ke){return"%"===ue.unit?Math.floor(ke.height-ke.height*(ue.value/100)):null},left:function(ue,ke){return"%"===ue.unit?Math.floor(ke.width*(ue.value/100)):null}};function we(ue,ke,De){var Ue={width:ue,height:ke},Q=Object.keys(De).reduce(function(H,Z){var X,se=(X=De[Z],{value:parseFloat(X),unit:(X.indexOf("%"),"%")}),me=Pe[Z](se,Ue);return H[Z]=me,H},{});return{sx:Q.left,sy:Q.top,sw:Q.right-Q.left,sh:Q.bottom-Q.top}}},function(v,w,f){"use strict";var i=f(83),b=f.n(i),S=f(3),x=f.n(S),k=f(4),U=f.n(k),ee=f(0),K=f.n(ee),he=f(7),ne=f(10),ye=f(9),Ve={clone:he.clone};function Ne(Je){if(Je<0)throw new Error("expected positive number, received ".concat(Je))}var Be=function(){function Je(ce,Re){var be=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,Fe=arguments.length>3?arguments[3]:void 0;x()(this,Je),K()(this,"data",void 0),K()(this,"size",void 0),K()(this,"indexMapping",void 0),Re?this.data=Re:(this.data=new be(ce.x*ce.y),Fe&&ye.a.init(this.data,0)),this.size=ce}return U()(Je,[{key:"inImageWithBorder",value:function(ce){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Ne(Re),ce.x>=0&&ce.y>=0&&ce.x<this.size.x+2*Re&&ce.y<this.size.y+2*Re}},{key:"subImageAsCopy",value:function(ce,Re){Ne(Re.x),Ne(Re.y);for(var be=ce.size,Fe=be.x,Pe=be.y,we=0;we<Fe;we++)for(var ue=0;ue<Pe;ue++)ce.data[ue*Fe+we]=this.data[(Re.y+ue)*this.size.x+Re.x+we];return ce}},{key:"get",value:function(ce,Re){return this.data[Re*this.size.x+ce]}},{key:"getSafe",value:function(ce,Re){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var be=0;be<this.size.x;be++)this.indexMapping.x[be]=be,this.indexMapping.x[be+this.size.x]=be;for(var Fe=0;Fe<this.size.y;Fe++)this.indexMapping.y[Fe]=Fe,this.indexMapping.y[Fe+this.size.y]=Fe}return this.data[this.indexMapping.y[Re+this.size.y]*this.size.x+this.indexMapping.x[ce+this.size.x]]}},{key:"set",value:function(ce,Re,be){return this.data[Re*this.size.x+ce]=be,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ce=this.size,Re=ce.x,be=ce.y,Fe=0;Fe<Re;Fe++)this.data[Fe]=this.data[(be-1)*Re+Fe]=0;for(var Pe=1;Pe<be-1;Pe++)this.data[Pe*Re]=this.data[Pe*Re+(Re-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ce){var Re,be,Fe,Pe,we,ue,ke,De,Ue,Q,H=this.data,Z=this.size.y,se=this.size.x,me=[],X=[],Ke=Math.PI,tt=Ke/4;if(ce<=0)return X;for(we=0;we<ce;we++)me[we]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(be=0;be<Z;be++)for(Pe=be*be,Re=0;Re<se;Re++)(Fe=H[be*se+Re])>0&&((ue=me[Fe-1]).m00+=1,ue.m01+=be,ue.m10+=Re,ue.m11+=Re*be,ue.m02+=Pe,ue.m20+=Re*Re);for(we=0;we<ce;we++)ue=me[we],isNaN(ue.m00)||0===ue.m00||(Q=(ue.m02/ue.m00-(Ue=ue.m01/ue.m00)*Ue-(ue.m20/ue.m00-(De=ue.m10/ue.m00)*De))/(2*(ke=ue.m11/ue.m00-De*Ue)),Q=.5*Math.atan(Q)+(ke>=0?tt:-tt)+Ke,ue.theta=(180*Q/Ke+90)%180-90,ue.theta<0&&(ue.theta+=180),ue.rad=Q>Ke?Q-Ke:Q,ue.vec=Ve.clone([Math.cos(Q),Math.sin(Q)]),X.push(ue));return X}},{key:"getAsRGBA",value:function(){for(var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Re=new Uint8ClampedArray(4*this.size.x*this.size.y),be=0;be<this.size.y;be++)for(var Fe=0;Fe<this.size.x;Fe++){var Pe=be*this.size.x+Fe,we=this.get(Fe,be)*ce;Re[4*Pe+0]=we,Re[4*Pe+1]=we,Re[4*Pe+2]=we,Re[4*Pe+3]=255}return Re}},{key:"show",value:function(ce){var Re=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,be=ce.getContext("2d");if(!be)throw new Error("Unable to get canvas context");var Fe=be.getImageData(0,0,ce.width,ce.height),Pe=this.getAsRGBA(Re);ce.width=this.size.x,ce.height=this.size.y;var we=new ImageData(Pe,Fe.width,Fe.height);be.putImageData(we,0,0)}},{key:"overlay",value:function(ce,Re,be){var Fe=Re<0||Re>360?360:Re,Pe=[0,1,1],we=[0,0,0],ue=[255,255,255],ke=[0,0,0],De=ce.getContext("2d");if(!De)throw new Error("Unable to get canvas context");for(var Ue=De.getImageData(be.x,be.y,this.size.x,this.size.y),Q=Ue.data,H=this.data.length;H--;){Pe[0]=this.data[H]*Fe;var Z=4*H,se=Pe[0]<=0?ue:Pe[0]>=360?ke:Object(ne.g)(Pe,we),me=b()(se,3);Q[Z]=me[0],Q[Z+1]=me[1],Q[Z+2]=me[2],Q[Z+3]=255}De.putImageData(Ue,be.x,be.y)}}]),Je}();w.a=Be},function(v,w){function f(i,b,S,x,k,U,ee){try{var K=i[U](ee),he=K.value}catch(ne){return void S(ne)}K.done?b(he):Promise.resolve(he).then(x,k)}v.exports=function(i){return function(){var b=this,S=arguments;return new Promise(function(x,k){var U=i.apply(b,S);function ee(he){f(U,x,k,ee,K,"next",he)}function K(he){f(U,x,k,ee,K,"throw",he)}ee(void 0)})}},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(225);function b(){return"undefined"!=typeof Reflect&&Reflect.get?(v.exports=b=Reflect.get,v.exports.__esModule=!0,v.exports.default=v.exports):(v.exports=b=function(S,x,k){var U=i(S,x);if(U){var ee=Object.getOwnPropertyDescriptor(U,x);return ee.get?ee.get.call(arguments.length<3?S:k):ee.value}},v.exports.__esModule=!0,v.exports.default=v.exports),b.apply(this,arguments)}v.exports=b,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f){var i=typeof f;return null!=f&&("object"==i||"function"==i)}},function(v,w){v.exports=Array.isArray},function(v,w,f){"use strict";w.a={drawRect:function(i,b,S,x){S.strokeStyle=x.color,S.fillStyle=x.color,S.lineWidth=x.lineWidth||1,S.beginPath(),S.strokeRect(i.x,i.y,b.x,b.y)},drawPath:function(i,b,S,x){S.strokeStyle=x.color,S.fillStyle=x.color,S.lineWidth=x.lineWidth,S.beginPath(),S.moveTo(i[0][b.x],i[0][b.y]);for(var k=1;k<i.length;k++)S.lineTo(i[k][b.x],i[k][b.y]);S.closePath(),S.stroke()},drawImage:function(i,b,S){var x=S.getImageData(0,0,b.x,b.y),k=x.data,U=k.length,ee=i.length;if(U/ee!=4)return!1;for(;ee--;){var K=i[ee];k[--U]=255,k[--U]=K,k[--U]=K,k[--U]=K}return S.putImageData(x,0,0),!0}}},function(v,w,f){var i=f(90),b=f(145)(function(S,x,k){i(S,x,k)});v.exports=b},function(v,w,f){var i=f(45),b="object"==typeof self&&self&&self.Object===Object&&self,S=i||b||Function("return this")();v.exports=S},function(v,w){v.exports=function(f){return null!=f&&"object"==typeof f}},function(v,w){function f(i){return v.exports=f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},v.exports.__esModule=!0,v.exports.default=v.exports,f(i)}v.exports=f,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){"use strict";w.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(i,b){var S,x=i.data,k=b.data,U=this.searchDirections,ee=i.size.x;function K(ne,ye,Ve,Ne){var Be,Je,ce;for(Be=0;Be<7;Be++){if(x[S=(Je=ne.cy+U[ne.dir][0])*ee+(ce=ne.cx+U[ne.dir][1])]===ye&&(0===k[S]||k[S]===Ve))return k[S]=Ve,ne.cy=Je,ne.cx=ce,!0;0===k[S]&&(k[S]=Ne),ne.dir=(ne.dir+1)%8}return!1}function he(ne,ye,Ve){return{dir:Ve,x:ne,y:ye,next:null,prev:null}}return{trace:function(ne,ye,Ve,Ne){return K(ne,ye,Ve,Ne)},contourTracing:function(ne,ye,Ve,Ne,Be){return function(Je,ce,Re,be,Fe){var Pe,we,ue,ke=null,De={cx:ce,cy:Je,dir:0};if(K(De,be,Re,Fe)){Pe=ke=he(ce,Je,De.dir),ue=De.dir,(we=he(De.cx,De.cy,0)).prev=Pe,Pe.next=we,we.next=null,Pe=we;do{De.dir=(De.dir+6)%8,K(De,be,Re,Fe),ue!==De.dir?(Pe.dir=De.dir,(we=he(De.cx,De.cy,0)).prev=Pe,Pe.next=we,we.next=null,Pe=we):(Pe.dir=ue,Pe.x=De.cx,Pe.y=De.cy),ue=De.dir}while(De.cx!==ce||De.cy!==Je);ke.prev=Pe.prev,Pe.prev.next=ke}return ke}(ne,ye,Ve,Ne,Be)}}}}},function(v,w,f){var i=f(27),b=f(103),S=f(104),x=i?i.toStringTag:void 0;v.exports=function(k){return null==k?void 0===k?"[object Undefined]":"[object Null]":x&&x in Object(k)?b(k):S(k)}},function(v,w,f){"use strict";(function(i){var b,S,x,k,U,ee,K,he,ne,ye,Ve,Ne,Be=f(7),Je=f(34),ce=f(11),Re=f(10),be=f(9),Fe=(f(16),f(87)),Pe=f(21),we=f(88),ue={ctx:{binary:null},dom:{binary:null}},ke={x:0,y:0};function De(H){var Z,se,me,X,Ke,tt,qt,rt=ne.size.x,nt=ne.size.y,ct=-ne.size.x,Bt=-ne.size.y;for(Z=0,se=0;se<H.length;se++)Z+=(X=H[se]).rad;for((Z=(180*(Z/=H.length)/Math.PI+90)%180-90)<0&&(Z+=180),Z=(180-Z)*Math.PI/180,Ke=Je.copy(Je.create(),[Math.cos(Z),Math.sin(Z),-Math.sin(Z),Math.cos(Z)]),se=0;se<H.length;se++)for(X=H[se],me=0;me<4;me++)Be.transformMat2(X.box[me],X.box[me],Ke);for(se=0;se<H.length;se++)for(X=H[se],me=0;me<4;me++)X.box[me][0]<rt&&(rt=X.box[me][0]),X.box[me][0]>ct&&(ct=X.box[me][0]),X.box[me][1]<nt&&(nt=X.box[me][1]),X.box[me][1]>Bt&&(Bt=X.box[me][1]);for(tt=[[rt,nt],[ct,nt],[ct,Bt],[rt,Bt]],qt=b.halfSample?2:1,Ke=Je.invert(Ke,Ke),me=0;me<4;me++)Be.transformMat2(tt[me],tt[me],Ke);for(me=0;me<4;me++)Be.scale(tt[me],tt[me],qt);return tt}function Ue(H,Z){ne.subImageAsCopy(k,Object(Re.h)(H,Z)),Ne.skeletonize()}function Q(H,Z,se,me){var X,Ke,tt,qt,rt=[],nt=[],ct=Math.ceil(ye.x/3);if(H.length>=2){for(X=0;X<H.length;X++)H[X].m00>ct&&rt.push(H[X]);if(rt.length>=2){for(tt=function(Bt){var On=Object(Re.b)(Bt,.9),pn=Object(Re.j)(On,1,function($r){return $r.getPoints().length}),Yt=[],Bn=[];if(1===pn.length){Yt=pn[0].item.getPoints();for(var Rn=0;Rn<Yt.length;Rn++)Bn.push(Yt[Rn].point)}return Bn}(rt),Ke=0,X=0;X<tt.length;X++)Ke+=tt[X].rad;tt.length>1&&tt.length>=rt.length/4*3&&tt.length>H.length/4&&(Ke/=tt.length,qt={index:Z[1]*ke.x+Z[0],pos:{x:se,y:me},box:[Be.clone([se,me]),Be.clone([se+k.size.x,me]),Be.clone([se+k.size.x,me+k.size.y]),Be.clone([se,me+k.size.y])],moments:tt,rad:Ke,vec:Be.clone([Math.cos(Ke),Math.sin(Ke)])},nt.push(qt))}}return nt}w.a={init:function(H,Z){b=Z,Ve=H,function(){S=b.halfSample?new ce.a({x:Ve.size.x/2|0,y:Ve.size.y/2|0}):Ve,ye=Object(Re.a)(b.patchSize,S.size),ke.x=S.size.x/ye.x|0,ke.y=S.size.y/ye.y|0,ne=new ce.a(S.size,void 0,Uint8Array,!1),U=new ce.a(ye,void 0,Array,!0);var se=new ArrayBuffer(65536);k=new ce.a(ye,new Uint8Array(se,0,ye.x*ye.y)),x=new ce.a(ye,new Uint8Array(se,ye.x*ye.y*3,ye.x*ye.y),void 0,!0),Ne=Object(we.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:i,{size:ye.x},se),he=new ce.a({x:S.size.x/k.size.x|0,y:S.size.y/k.size.y|0},void 0,Array,!0),ee=new ce.a(he.size,void 0,void 0,!0),K=new ce.a(he.size,void 0,Int32Array,!0)}(),b.useWorker||"undefined"==typeof document||(ue.dom.binary=document.createElement("canvas"),ue.dom.binary.className="binaryBuffer",ue.ctx.binary=ue.dom.binary.getContext("2d"),ue.dom.binary.width=ne.size.x,ue.dom.binary.height=ne.size.y)},locate:function(){b.halfSample&&Object(Re.f)(Ve,S),Object(Re.i)(S,ne),ne.zeroBorder();var H=function(){var me,X,Ke,tt,qt,rt,nt=[];for(me=0;me<ke.x;me++)for(X=0;X<ke.y;X++)Ue(Ke=k.size.x*me,tt=k.size.y*X),x.zeroBorder(),be.a.init(U.data,0),rt=Fe.a.create(x,U).rasterize(0),qt=U.moments(rt.count),nt=nt.concat(Q(qt,[me,X],Ke,tt));return nt}();if(H.length<ke.x*ke.y*.05)return null;var Z=function(me){var X,Ke,tt=0,qt=0;function rt(){var ct;for(ct=0;ct<K.data.length;ct++)if(0===K.data[ct]&&1===ee.data[ct])return ct;return K.length}function nt(ct){var pn,Yt,Bn,Rn=ct%K.size.x,$r=ct/K.size.x|0;if(ct<K.data.length)for(pn=he.data[ct],K.data[ct]=tt,Bn=0;Bn<Pe.a.searchDirections.length;Bn++)0!==ee.data[Yt=($r+Pe.a.searchDirections[Bn][0])*K.size.x+(Rn+Pe.a.searchDirections[Bn][1])]?0===K.data[Yt]&&Math.abs(Be.dot(he.data[Yt].vec,pn.vec))>.95&&nt(Yt):K.data[Yt]=Number.MAX_VALUE}for(be.a.init(ee.data,0),be.a.init(K.data,0),be.a.init(he.data,null),X=0;X<me.length;X++)he.data[(Ke=me[X]).index]=Ke,ee.data[Ke.index]=1;for(ee.zeroBorder();(qt=rt())<K.data.length;)tt++,nt(qt);return tt}(H);if(Z<1)return null;var se=function(me){var X,Ke,tt=[];for(X=0;X<me;X++)tt.push(0);for(Ke=K.data.length;Ke--;)K.data[Ke]>0&&tt[K.data[Ke]-1]++;return(tt=tt.map(function(qt,rt){return{val:qt,label:rt+1}})).sort(function(qt,rt){return rt.val-qt.val}),tt.filter(function(qt){return qt.val>=5})}(Z);return 0===se.length?null:function(me,X){var Ke,tt,rt,nt=[],ct=[];for(Ke=0;Ke<me.length;Ke++){for(tt=K.data.length,nt.length=0;tt--;)K.data[tt]===me[Ke].label&&nt.push(he.data[tt]);(rt=De(nt))&&ct.push(rt)}return ct}(se)},checkImageConstraints:function(H,Z){var se,me,X=H.getWidth(),Ke=H.getHeight(),tt=Z.halfSample?.5:1;H.getConfig().area&&(me=Object(Re.d)(X,Ke,H.getConfig().area),H.setTopRight({x:me.sx,y:me.sy}),H.setCanvasSize({x:X,y:Ke}),X=me.sw,Ke=me.sh);var qt={x:Math.floor(X*tt),y:Math.floor(Ke*tt)};if(se=Object(Re.a)(Z.patchSize,qt),H.setWidth(Math.floor(Math.floor(qt.x/se.x)*(1/tt)*se.x)),H.setHeight(Math.floor(Math.floor(qt.y/se.y)*(1/tt)*se.y)),H.getWidth()%se.x==0&&H.getHeight()%se.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(X," )and height (").concat(Ke,") must a multiple of ").concat(se.x))}}}).call(this,f(46))},function(v,w,f){var i=f(92),b=f(93),S=f(94),x=f(95),k=f(96);function U(ee){var K=-1,he=null==ee?0:ee.length;for(this.clear();++K<he;){var ne=ee[K];this.set(ne[0],ne[1])}}U.prototype.clear=i,U.prototype.delete=b,U.prototype.get=S,U.prototype.has=x,U.prototype.set=k,v.exports=U},function(v,w,f){var i=f(26);v.exports=function(b,S){for(var x=b.length;x--;)if(i(b[x][0],S))return x;return-1}},function(v,w){v.exports=function(f,i){return f===i||f!=f&&i!=i}},function(v,w,f){var i=f(18).Symbol;v.exports=i},function(v,w,f){var i=f(35)(Object,"create");v.exports=i},function(v,w,f){var i=f(117);v.exports=function(b,S){var x=b.__data__;return i(S)?x["string"==typeof S?"string":"hash"]:x.map}},function(v,w,f){var i=f(132),b=f(19),S=Object.prototype,x=S.hasOwnProperty,k=S.propertyIsEnumerable,U=i(function(){return arguments}())?i:function(ee){return b(ee)&&x.call(ee,"callee")&&!k.call(ee,"callee")};v.exports=U},function(v,w){var f=/^(?:0|[1-9]\d*)$/;v.exports=function(i,b){var S=typeof i;return!!(b=null==b?9007199254740991:b)&&("number"==S||"symbol"!=S&&f.test(i))&&i>-1&&i%1==0&&i<b}},function(v,w,f){var i=f(15),b=f(232),S=f(233),x=f(236);v.exports=function(k,U){return i(k)?k:b(k,U)?[k]:S(x(k))}},function(v,w,f){var i=f(226),b=f(227),S=f(60),x=f(228);v.exports=function(k){return i(k)||b(k)||S(k)||x()},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){v.exports={determinant:f(251),transpose:f(252),multiply:f(253),identity:f(254),adjoint:f(255),rotate:f(256),invert:f(257),create:f(258),scale:f(259),copy:f(260),frob:f(261),ldu:f(262)}},function(v,w,f){var i=f(102),b=f(108);v.exports=function(S,x){var k=b(S,x);return i(k)?k:void 0}},function(v,w,f){var i=f(22),b=f(14);v.exports=function(S){if(!b(S))return!1;var x=i(S);return"[object Function]"==x||"[object GeneratorFunction]"==x||"[object AsyncFunction]"==x||"[object Proxy]"==x}},function(v,w,f){var i=f(49);v.exports=function(b,S,x){"__proto__"==S&&i?i(b,S,{configurable:!0,enumerable:!0,value:x,writable:!0}):b[S]=x}},function(v,w){v.exports=function(f){return f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1),f}},function(v,w,f){var i=f(36),b=f(40);v.exports=function(S){return null!=S&&b(S.length)&&!i(S)}},function(v,w){v.exports=function(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=9007199254740991}},function(v,w){function f(i,b){return v.exports=f=Object.setPrototypeOf||function(S,x){return S.__proto__=x,S},v.exports.__esModule=!0,v.exports.default=v.exports,f(i,b)}v.exports=f,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(22),b=f(19);v.exports=function(S){return"symbol"==typeof S||b(S)&&"[object Symbol]"==i(S)}},function(v,w,f){var i=f(42);v.exports=function(b){if("string"==typeof b||i(b))return b;var S=b+"";return"0"==S&&1/b==-1/0?"-0":S}},function(v,w,f){var i=f(35)(f(18),"Map");v.exports=i},function(v,w,f){(function(i){v.exports="object"==typeof i&&i&&i.Object===Object&&i}).call(this,f(46))},function(v,w){var f;f=function(){return this}();try{f=f||new Function("return this")()}catch(i){"object"==typeof window&&(f=window)}v.exports=f},function(v,w,f){var i=f(109),b=f(116),S=f(118),x=f(119),k=f(120);function U(ee){var K=-1,he=null==ee?0:ee.length;for(this.clear();++K<he;){var ne=ee[K];this.set(ne[0],ne[1])}}U.prototype.clear=i,U.prototype.delete=b,U.prototype.get=S,U.prototype.has=x,U.prototype.set=k,v.exports=U},function(v,w,f){var i=f(37),b=f(26);v.exports=function(S,x,k){(void 0!==k&&!b(S[x],k)||void 0===k&&!(x in S))&&i(S,x,k)}},function(v,w,f){var i=f(35),b=function(){try{var S=i(Object,"defineProperty");return S({},"",{}),S}catch(x){}}();v.exports=b},function(v,w,f){var i=f(131)(Object.getPrototypeOf,Object);v.exports=i},function(v,w){var f=Object.prototype;v.exports=function(i){var b=i&&i.constructor;return i===("function"==typeof b&&b.prototype||f)}},function(v,w,f){(function(i){var b=f(18),S=f(134),x=w&&!w.nodeType&&w,k=x&&"object"==typeof i&&i&&!i.nodeType&&i,U=k&&k.exports===x?b.Buffer:void 0;i.exports=(U?U.isBuffer:void 0)||S}).call(this,f(38)(v))},function(v,w,f){var i=f(136),b=f(137),S=f(138),x=S&&S.isTypedArray,k=x?b(x):i;v.exports=k},function(v,w){v.exports=function(f,i){if(("constructor"!==i||"function"!=typeof f[i])&&"__proto__"!=i)return f[i]}},function(v,w,f){var i=f(37),b=f(26),S=Object.prototype.hasOwnProperty;v.exports=function(x,k,U){var ee=x[k];S.call(x,k)&&b(ee,U)&&(void 0!==U||k in x)||i(x,k,U)}},function(v,w,f){var i=f(141),b=f(143),S=f(39);v.exports=function(x){return S(x)?i(x,!0):b(x)}},function(v,w){v.exports=function(f){return f}},function(v,w,f){var i=f(147),b=Math.max;v.exports=function(S,x,k){return x=b(void 0===x?S.length-1:x,0),function(){for(var U=arguments,ee=-1,K=b(U.length-x,0),he=Array(K);++ee<K;)he[ee]=U[x+ee];ee=-1;for(var ne=Array(x+1);++ee<x;)ne[ee]=U[ee];return ne[x]=k(he),i(S,this,ne)}}},function(v,w,f){var i=f(148),b=f(150)(i);v.exports=b},function(v,w,f){var i=f(61);v.exports=function(b,S){if(b){if("string"==typeof b)return i(b,S);var x=Object.prototype.toString.call(b).slice(8,-1);return"Object"===x&&b.constructor&&(x=b.constructor.name),"Map"===x||"Set"===x?Array.from(b):"Arguments"===x||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?i(b,S):void 0}},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f,i){(null==i||i>f.length)&&(i=f.length);for(var b=0,S=new Array(i);b<i;b++)S[b]=f[b];return S},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=1e-6},function(v,w){v.exports=function(){var f=new Float32Array(2);return f[0]=0,f[1]=0,f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]-b[0],f[1]=i[1]-b[1],f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]*b[0],f[1]=i[1]*b[1],f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]/b[0],f[1]=i[1]/b[1],f}},function(v,w){v.exports=function(f,i){var b=i[0]-f[0],S=i[1]-f[1];return Math.sqrt(b*b+S*S)}},function(v,w){v.exports=function(f,i){var b=i[0]-f[0],S=i[1]-f[1];return b*b+S*S}},function(v,w){v.exports=function(f){var i=f[0],b=f[1];return Math.sqrt(i*i+b*b)}},function(v,w){v.exports=function(f){var i=f[0],b=f[1];return i*i+b*b}},function(v,w){v.exports=1e-6},function(v,w){v.exports=function(){var f=new Float32Array(3);return f[0]=0,f[1]=0,f[2]=0,f}},function(v,w){v.exports=function(f,i,b){var S=new Float32Array(3);return S[0]=f,S[1]=i,S[2]=b,S}},function(v,w){v.exports=function(f,i){var b=i[0],S=i[1],x=i[2],k=b*b+S*S+x*x;return k>0&&(k=1/Math.sqrt(k),f[0]=i[0]*k,f[1]=i[1]*k,f[2]=i[2]*k),f}},function(v,w){v.exports=function(f,i){return f[0]*i[0]+f[1]*i[1]+f[2]*i[2]}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]-b[0],f[1]=i[1]-b[1],f[2]=i[2]-b[2],f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]*b[0],f[1]=i[1]*b[1],f[2]=i[2]*b[2],f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]/b[0],f[1]=i[1]/b[1],f[2]=i[2]/b[2],f}},function(v,w){v.exports=function(f,i){var b=i[0]-f[0],S=i[1]-f[1],x=i[2]-f[2];return Math.sqrt(b*b+S*S+x*x)}},function(v,w){v.exports=function(f,i){var b=i[0]-f[0],S=i[1]-f[1],x=i[2]-f[2];return b*b+S*S+x*x}},function(v,w){v.exports=function(f){var i=f[0],b=f[1],S=f[2];return Math.sqrt(i*i+b*b+S*S)}},function(v,w){v.exports=function(f){var i=f[0],b=f[1],S=f[2];return i*i+b*b+S*S}},function(v,w,f){var i=f(153),b=f(154),S=f(60),x=f(155);v.exports=function(k,U){return i(k)||b(k,U)||S(k,U)||x()},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){v.exports={EPSILON:f(71),create:f(72),clone:f(191),angle:f(192),fromValues:f(73),copy:f(193),set:f(194),equals:f(195),exactEquals:f(196),add:f(197),subtract:f(76),sub:f(198),multiply:f(77),mul:f(199),divide:f(78),div:f(200),min:f(201),max:f(202),floor:f(203),ceil:f(204),round:f(205),scale:f(206),scaleAndAdd:f(207),distance:f(79),dist:f(208),squaredDistance:f(80),sqrDist:f(209),length:f(81),len:f(210),squaredLength:f(82),sqrLen:f(211),negate:f(212),inverse:f(213),normalize:f(74),dot:f(75),cross:f(214),lerp:f(215),random:f(216),transformMat4:f(217),transformMat3:f(218),transformQuat:f(219),rotateX:f(220),rotateY:f(221),rotateZ:f(222),forEach:f(223)}},function(v,w,f){var i=f(229),b=f(243)(function(S,x){return null==S?{}:i(S,x)});v.exports=b},function(v,w,f){var i=f(2),b=f(41),S=f(248),x=f(249);function k(U){var ee="function"==typeof Map?new Map:void 0;return v.exports=k=function(K){if(null===K||!S(K))return K;if("function"!=typeof K)throw new TypeError("Super expression must either be null or a function");if(void 0!==ee){if(ee.has(K))return ee.get(K);ee.set(K,he)}function he(){return x(K,arguments,i(this).constructor)}return he.prototype=Object.create(K.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),b(he,K)},v.exports.__esModule=!0,v.exports.default=v.exports,k(U)}v.exports=k,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){"use strict";var i=f(21),b={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(S,x){var k=S.data,U=x.data,ee=S.size.x,K=S.size.y,he=i.a.create(S,x);return{rasterize:function(ne){var ye,Ve,Ne,Be,Je,ce,Re,be,Fe,Pe,we,ue,ke=[],De=0;for(ue=0;ue<400;ue++)ke[ue]=0;for(ke[0]=k[0],Fe=null,ce=1;ce<K-1;ce++)for(Be=0,Ve=ke[0],Je=1;Je<ee-1;Je++)if(0===U[we=ce*ee+Je])if((ye=k[we])!==Ve){if(0===Be)ke[Ne=De+1]=ye,Ve=ye,null!==(Re=he.contourTracing(ce,Je,Ne,ye,b.DIR.OUTSIDE_EDGE))&&(De++,Be=Ne,(be=b.createContour2D()).dir=b.CONTOUR_DIR.CW_DIR,be.index=Be,be.firstVertex=Re,be.nextpeer=Fe,be.insideContours=null,null!==Fe&&(Fe.prevpeer=be),Fe=be);else if(null!==(Re=he.contourTracing(ce,Je,b.DIR.INSIDE_EDGE,ye,Be))){for((be=b.createContour2D()).firstVertex=Re,be.insideContours=null,be.dir=0===ne?b.CONTOUR_DIR.CCW_DIR:b.CONTOUR_DIR.CW_DIR,be.index=ne,Pe=Fe;null!==Pe&&Pe.index!==Be;)Pe=Pe.nextpeer;null!==Pe&&(be.nextpeer=Pe.insideContours,null!==Pe.insideContours&&(Pe.insideContours.prevpeer=be),Pe.insideContours=be)}}else U[we]=Be;else U[we]===b.DIR.OUTSIDE_EDGE||U[we]===b.DIR.INSIDE_EDGE?(Be=0,Ve=U[we]===b.DIR.INSIDE_EDGE?k[we]:ke[0]):Ve=ke[Be=U[we]];for(Pe=Fe;null!==Pe;)Pe.index=ne,Pe=Pe.nextpeer;return{cc:Fe,count:De}},debug:{drawContour:function(ne,ye){var Ve,Ne,Be,Je=ne.getContext("2d"),ce=ye;for(Je.strokeStyle="red",Je.fillStyle="red",Je.lineWidth=1,Ve=null!==ce?ce.insideContours:null;null!==ce;){switch(null!==Ve?(Ne=Ve,Ve=Ve.nextpeer):(Ne=ce,Ve=null!==(ce=ce.nextpeer)?ce.insideContours:null),Ne.dir){case b.CONTOUR_DIR.CW_DIR:Je.strokeStyle="red";break;case b.CONTOUR_DIR.CCW_DIR:Je.strokeStyle="blue";break;case b.CONTOUR_DIR.UNKNOWN_DIR:Je.strokeStyle="green"}Be=Ne.firstVertex,Je.beginPath(),Je.moveTo(Be.x,Be.y);do{Je.lineTo((Be=Be.next).x,Be.y)}while(Be!==Ne.firstVertex);Je.stroke()}}}}}};w.a=b},function(v,w,f){"use strict";w.a=function(i,b,S){var x=new i.Uint8Array(S),k=0|b.size,U=i.Math.imul;function ee(ce,Re){ce|=0,Re|=0;var be=0,Fe=0,we=0,ue=0,ke=0,De=0,Ue=0;for(be=1;(0|be)<(k-1|0);be=be+1|0)for(Ue=Ue+k|0,Fe=1;(0|Fe)<(k-1|0);Fe=Fe+1|0)x[Re+Ue+Fe|0]=5==(0|(0|x[ce+(we=Ue-k|0)+(ke=Fe-1|0)|0])+(0|x[ce+we+(De=Fe+1|0)|0])+(0|x[ce+Ue+Fe|0])+(0|x[ce+(ue=Ue+k|0)+ke|0])+(0|x[ce+ue+De|0]))?1:0}function K(ce,Re,be){ce|=0,Re|=0,be|=0;var Fe=0;for(Fe=0|U(k,k);(0|Fe)>0;)x[be+(Fe=Fe-1|0)|0]=(0|x[ce+Fe|0])-(0|x[Re+Fe|0])|0}function he(ce,Re,be){ce|=0,Re|=0,be|=0;var Fe=0;for(Fe=0|U(k,k);(0|Fe)>0;)x[be+(Fe=Fe-1|0)|0]=0|x[ce+Fe|0]|x[Re+Fe|0]|0}function ne(ce){ce|=0;var Re=0,be=0;for(be=0|U(k,k);(0|be)>0;)Re=(0|Re)+(0|x[ce+(be=be-1|0)|0])|0;return 0|Re}function Ve(ce,Re){ce|=0,Re|=0;var be=0,Fe=0,we=0,ue=0,ke=0,De=0,Ue=0;for(be=1;(0|be)<(k-1|0);be=be+1|0)for(Ue=Ue+k|0,Fe=1;(0|Fe)<(k-1|0);Fe=Fe+1|0)x[Re+Ue+Fe|0]=(0|(0|x[ce+(we=Ue-k|0)+(ke=Fe-1|0)|0])+(0|x[ce+we+(De=Fe+1|0)|0])+(0|x[ce+Ue+Fe|0])+(0|x[ce+(ue=Ue+k|0)+ke|0])+(0|x[ce+ue+De|0]))>0?1:0}function Ne(ce,Re){ce|=0,Re|=0;var be=0;for(be=0|U(k,k);(0|be)>0;)x[Re+(be=be-1|0)|0]=0|x[ce+be|0]}return{skeletonize:function Je(){var Re,be,Fe,we=0;(function ye(ce,Re){ce|=0,Re|=0;var be=0;for(be=0|U(k,k);(0|be)>0;)x[ce+(be=be-1|0)|0]=Re})(Fe=(be=(Re=0|U(k,k))+Re|0)+Re|0,0),function Be(ce){ce|=0;var Re=0,be=0;for(Re=0;(0|Re)<(k-1|0);Re=Re+1|0)x[ce+Re|0]=0,x[ce+be|0]=0,x[ce+(be=be+k-1|0)|0]=0,be=be+1|0;for(Re=0;(0|Re)<(0|k);Re=Re+1|0)x[ce+be|0]=0,be=be+1|0}(0);do{ee(0,Re),Ve(Re,be),K(0,be,be),he(Fe,be,Fe),Ne(Re,0),we=0==(0|ne(0))|0}while(!we)}}}},function(v,w,f){v.exports=f(263)},function(v,w,f){var i=f(91),b=f(48),S=f(121),x=f(123),k=f(14),U=f(56),ee=f(54);v.exports=function K(he,ne,ye,Ve,Ne){he!==ne&&S(ne,function(Be,Je){if(Ne||(Ne=new i),k(Be))x(he,ne,Je,ye,K,Ve,Ne);else{var ce=Ve?Ve(ee(he,Je),Be,Je+"",he,ne,Ne):void 0;void 0===ce&&(ce=Be),b(he,Je,ce)}},U)}},function(v,w,f){var i=f(24),b=f(97),S=f(98),x=f(99),k=f(100),U=f(101);function ee(K){var he=this.__data__=new i(K);this.size=he.size}ee.prototype.clear=b,ee.prototype.delete=S,ee.prototype.get=x,ee.prototype.has=k,ee.prototype.set=U,v.exports=ee},function(v,w){v.exports=function(){this.__data__=[],this.size=0}},function(v,w,f){var i=f(25),b=Array.prototype.splice;v.exports=function(S){var x=this.__data__,k=i(x,S);return!(k<0||(k==x.length-1?x.pop():b.call(x,k,1),--this.size,0))}},function(v,w,f){var i=f(25);v.exports=function(b){var S=this.__data__,x=i(S,b);return x<0?void 0:S[x][1]}},function(v,w,f){var i=f(25);v.exports=function(b){return i(this.__data__,b)>-1}},function(v,w,f){var i=f(25);v.exports=function(b,S){var x=this.__data__,k=i(x,b);return k<0?(++this.size,x.push([b,S])):x[k][1]=S,this}},function(v,w,f){var i=f(24);v.exports=function(){this.__data__=new i,this.size=0}},function(v,w){v.exports=function(f){var i=this.__data__,b=i.delete(f);return this.size=i.size,b}},function(v,w){v.exports=function(f){return this.__data__.get(f)}},function(v,w){v.exports=function(f){return this.__data__.has(f)}},function(v,w,f){var i=f(24),b=f(44),S=f(47);v.exports=function(x,k){var U=this.__data__;if(U instanceof i){var ee=U.__data__;if(!b||ee.length<199)return ee.push([x,k]),this.size=++U.size,this;U=this.__data__=new S(ee)}return U.set(x,k),this.size=U.size,this}},function(v,w,f){var i=f(36),b=f(105),S=f(14),x=f(107),k=/^\[object .+?Constructor\]$/,ne=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");v.exports=function(ye){return!(!S(ye)||b(ye))&&(i(ye)?ne:k).test(x(ye))}},function(v,w,f){var i=f(27),b=Object.prototype,S=b.hasOwnProperty,x=b.toString,k=i?i.toStringTag:void 0;v.exports=function(U){var ee=S.call(U,k),K=U[k];try{U[k]=void 0;var he=!0}catch(ye){}var ne=x.call(U);return he&&(ee?U[k]=K:delete U[k]),ne}},function(v,w){var f=Object.prototype.toString;v.exports=function(i){return f.call(i)}},function(v,w,f){var i,b=f(106),S=(i=/[^.]+$/.exec(b&&b.keys&&b.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";v.exports=function(x){return!!S&&S in x}},function(v,w,f){var i=f(18)["__core-js_shared__"];v.exports=i},function(v,w){var f=Function.prototype.toString;v.exports=function(i){if(null!=i){try{return f.call(i)}catch(b){}try{return i+""}catch(b){}}return""}},function(v,w){v.exports=function(f,i){return null==f?void 0:f[i]}},function(v,w,f){var i=f(110),b=f(24),S=f(44);v.exports=function(){this.size=0,this.__data__={hash:new i,map:new(S||b),string:new i}}},function(v,w,f){var i=f(111),b=f(112),S=f(113),x=f(114),k=f(115);function U(ee){var K=-1,he=null==ee?0:ee.length;for(this.clear();++K<he;){var ne=ee[K];this.set(ne[0],ne[1])}}U.prototype.clear=i,U.prototype.delete=b,U.prototype.get=S,U.prototype.has=x,U.prototype.set=k,v.exports=U},function(v,w,f){var i=f(28);v.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(v,w){v.exports=function(f){var i=this.has(f)&&delete this.__data__[f];return this.size-=i?1:0,i}},function(v,w,f){var i=f(28),b=Object.prototype.hasOwnProperty;v.exports=function(S){var x=this.__data__;if(i){var k=x[S];return"__lodash_hash_undefined__"===k?void 0:k}return b.call(x,S)?x[S]:void 0}},function(v,w,f){var i=f(28),b=Object.prototype.hasOwnProperty;v.exports=function(S){var x=this.__data__;return i?void 0!==x[S]:b.call(x,S)}},function(v,w,f){var i=f(28);v.exports=function(b,S){var x=this.__data__;return this.size+=this.has(b)?0:1,x[b]=i&&void 0===S?"__lodash_hash_undefined__":S,this}},function(v,w,f){var i=f(29);v.exports=function(b){var S=i(this,b).delete(b);return this.size-=S?1:0,S}},function(v,w){v.exports=function(f){var i=typeof f;return"string"==i||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==f:null===f}},function(v,w,f){var i=f(29);v.exports=function(b){return i(this,b).get(b)}},function(v,w,f){var i=f(29);v.exports=function(b){return i(this,b).has(b)}},function(v,w,f){var i=f(29);v.exports=function(b,S){var x=i(this,b),k=x.size;return x.set(b,S),this.size+=x.size==k?0:1,this}},function(v,w,f){var i=f(122)();v.exports=i},function(v,w){v.exports=function(f){return function(i,b,S){for(var x=-1,k=Object(i),U=S(i),ee=U.length;ee--;){var K=U[f?ee:++x];if(!1===b(k[K],K,k))break}return i}}},function(v,w,f){var i=f(48),b=f(124),S=f(125),x=f(128),k=f(129),U=f(30),ee=f(15),K=f(133),he=f(52),ne=f(36),ye=f(14),Ve=f(135),Ne=f(53),Be=f(54),Je=f(139);v.exports=function(ce,Re,be,Fe,Pe,we,ue){var ke=Be(ce,be),De=Be(Re,be),Ue=ue.get(De);if(Ue)i(ce,be,Ue);else{var Q=we?we(ke,De,be+"",ce,Re,ue):void 0,H=void 0===Q;if(H){var Z=ee(De),se=!Z&&he(De),me=!Z&&!se&&Ne(De);Q=De,Z||se||me?ee(ke)?Q=ke:K(ke)?Q=x(ke):se?(H=!1,Q=b(De,!0)):me?(H=!1,Q=S(De,!0)):Q=[]:Ve(De)||U(De)?(Q=ke,U(ke)?Q=Je(ke):ye(ke)&&!ne(ke)||(Q=k(De))):H=!1}H&&(ue.set(De,Q),Pe(Q,De,Fe,we,ue),ue.delete(De)),i(ce,be,Q)}}},function(v,w,f){(function(i){var b=f(18),S=w&&!w.nodeType&&w,x=S&&"object"==typeof i&&i&&!i.nodeType&&i,k=x&&x.exports===S?b.Buffer:void 0,U=k?k.allocUnsafe:void 0;i.exports=function(ee,K){if(K)return ee.slice();var he=ee.length,ne=U?U(he):new ee.constructor(he);return ee.copy(ne),ne}}).call(this,f(38)(v))},function(v,w,f){var i=f(126);v.exports=function(b,S){var x=S?i(b.buffer):b.buffer;return new b.constructor(x,b.byteOffset,b.length)}},function(v,w,f){var i=f(127);v.exports=function(b){var S=new b.constructor(b.byteLength);return new i(S).set(new i(b)),S}},function(v,w,f){var i=f(18).Uint8Array;v.exports=i},function(v,w){v.exports=function(f,i){var b=-1,S=f.length;for(i||(i=Array(S));++b<S;)i[b]=f[b];return i}},function(v,w,f){var i=f(130),b=f(50),S=f(51);v.exports=function(x){return"function"!=typeof x.constructor||S(x)?{}:i(b(x))}},function(v,w,f){var i=f(14),b=Object.create,S=function(){function x(){}return function(k){if(!i(k))return{};if(b)return b(k);x.prototype=k;var U=new x;return x.prototype=void 0,U}}();v.exports=S},function(v,w){v.exports=function(f,i){return function(b){return f(i(b))}}},function(v,w,f){var i=f(22),b=f(19);v.exports=function(S){return b(S)&&"[object Arguments]"==i(S)}},function(v,w,f){var i=f(39),b=f(19);v.exports=function(S){return b(S)&&i(S)}},function(v,w){v.exports=function(){return!1}},function(v,w,f){var i=f(22),b=f(50),S=f(19),U=Function.prototype.toString,ee=Object.prototype.hasOwnProperty,K=U.call(Object);v.exports=function(he){if(!S(he)||"[object Object]"!=i(he))return!1;var ne=b(he);if(null===ne)return!0;var ye=ee.call(ne,"constructor")&&ne.constructor;return"function"==typeof ye&&ye instanceof ye&&U.call(ye)==K}},function(v,w,f){var i=f(22),b=f(40),S=f(19),x={};x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Arguments]"]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object Boolean]"]=x["[object DataView]"]=x["[object Date]"]=x["[object Error]"]=x["[object Function]"]=x["[object Map]"]=x["[object Number]"]=x["[object Object]"]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object WeakMap]"]=!1,v.exports=function(k){return S(k)&&b(k.length)&&!!x[i(k)]}},function(v,w){v.exports=function(f){return function(i){return f(i)}}},function(v,w,f){(function(i){var b=f(45),S=w&&!w.nodeType&&w,x=S&&"object"==typeof i&&i&&!i.nodeType&&i,k=x&&x.exports===S&&b.process,U=function(){try{return x&&x.require&&x.require("util").types||k&&k.binding&&k.binding("util")}catch(K){}}();i.exports=U}).call(this,f(38)(v))},function(v,w,f){var i=f(140),b=f(56);v.exports=function(S){return i(S,b(S))}},function(v,w,f){var i=f(55),b=f(37);v.exports=function(S,x,k,U){var ee=!k;k||(k={});for(var K=-1,he=x.length;++K<he;){var ne=x[K],ye=U?U(k[ne],S[ne],ne,k,S):void 0;void 0===ye&&(ye=S[ne]),ee?b(k,ne,ye):i(k,ne,ye)}return k}},function(v,w,f){var i=f(142),b=f(30),S=f(15),x=f(52),k=f(31),U=f(53),ee=Object.prototype.hasOwnProperty;v.exports=function(K,he){var ne=S(K),ye=!ne&&b(K),Ve=!ne&&!ye&&x(K),Ne=!ne&&!ye&&!Ve&&U(K),Be=ne||ye||Ve||Ne,Je=Be?i(K.length,String):[],ce=Je.length;for(var Re in K)!he&&!ee.call(K,Re)||Be&&("length"==Re||Ve&&("offset"==Re||"parent"==Re)||Ne&&("buffer"==Re||"byteLength"==Re||"byteOffset"==Re)||k(Re,ce))||Je.push(Re);return Je}},function(v,w){v.exports=function(f,i){for(var b=-1,S=Array(f);++b<f;)S[b]=i(b);return S}},function(v,w,f){var i=f(14),b=f(51),S=f(144),x=Object.prototype.hasOwnProperty;v.exports=function(k){if(!i(k))return S(k);var U=b(k),ee=[];for(var K in k)("constructor"!=K||!U&&x.call(k,K))&&ee.push(K);return ee}},function(v,w){v.exports=function(f){var i=[];if(null!=f)for(var b in Object(f))i.push(b);return i}},function(v,w,f){var i=f(146),b=f(151);v.exports=function(S){return i(function(x,k){var U=-1,ee=k.length,K=ee>1?k[ee-1]:void 0,he=ee>2?k[2]:void 0;for(K=S.length>3&&"function"==typeof K?(ee--,K):void 0,he&&b(k[0],k[1],he)&&(K=ee<3?void 0:K,ee=1),x=Object(x);++U<ee;){var ne=k[U];ne&&S(x,ne,U,K)}return x})}},function(v,w,f){var i=f(57),b=f(58),S=f(59);v.exports=function(x,k){return S(b(x,k,i),x+"")}},function(v,w){v.exports=function(f,i,b){switch(b.length){case 0:return f.call(i);case 1:return f.call(i,b[0]);case 2:return f.call(i,b[0],b[1]);case 3:return f.call(i,b[0],b[1],b[2])}return f.apply(i,b)}},function(v,w,f){var i=f(149),b=f(49),S=f(57);v.exports=b?function(k,U){return b(k,"toString",{configurable:!0,enumerable:!1,value:i(U),writable:!0})}:S},function(v,w){v.exports=function(f){return function(){return f}}},function(v,w){var f=Date.now;v.exports=function(i){var b=0,S=0;return function(){var x=f(),k=16-(x-S);if(S=x,k>0){if(++b>=800)return arguments[0]}else b=0;return i.apply(void 0,arguments)}}},function(v,w,f){var i=f(26),b=f(39),S=f(31),x=f(14);v.exports=function(k,U,ee){if(!x(ee))return!1;var K=typeof U;return!!("number"==K?b(ee)&&S(U,ee.length):"string"==K&&U in ee)&&i(ee[U],k)}},function(v,w){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(f){window.setTimeout(f,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(f,i){var b=65535&f,S=65535&i;return b*S+((f>>>16&65535)*S+b*(i>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(f){"use strict";if(null===f)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(f),b=1;b<arguments.length;b++){var S=arguments[b];if(null!==S)for(var x in S)Object.prototype.hasOwnProperty.call(S,x)&&(i[x]=S[x])}return i})},function(v,w){v.exports=function(f){if(Array.isArray(f))return f},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f,i){var b=null==f?null:"undefined"!=typeof Symbol&&f[Symbol.iterator]||f["@@iterator"];if(null!=b){var S,x,k=[],U=!0,ee=!1;try{for(b=b.call(f);!(U=(S=b.next()).done)&&(k.push(S.value),!i||k.length!==i);U=!0);}catch(K){ee=!0,x=K}finally{try{U||null==b.return||b.return()}finally{if(ee)throw x}}return k}},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f){var i=new Float32Array(2);return i[0]=f[0],i[1]=f[1],i}},function(v,w){v.exports=function(f,i){var b=new Float32Array(2);return b[0]=f,b[1]=i,b}},function(v,w){v.exports=function(f,i){return f[0]=i[0],f[1]=i[1],f}},function(v,w){v.exports=function(f,i,b){return f[0]=i,f[1]=b,f}},function(v,w,f){v.exports=function(b,S){var x=b[0],k=b[1],U=S[0],ee=S[1];return Math.abs(x-U)<=i*Math.max(1,Math.abs(x),Math.abs(U))&&Math.abs(k-ee)<=i*Math.max(1,Math.abs(k),Math.abs(ee))};var i=f(62)},function(v,w){v.exports=function(f,i){return f[0]===i[0]&&f[1]===i[1]}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]+b[0],f[1]=i[1]+b[1],f}},function(v,w,f){v.exports=f(64)},function(v,w,f){v.exports=f(65)},function(v,w,f){v.exports=f(66)},function(v,w){v.exports=function(f,i){return f[0]=1/i[0],f[1]=1/i[1],f}},function(v,w){v.exports=function(f,i,b){return f[0]=Math.min(i[0],b[0]),f[1]=Math.min(i[1],b[1]),f}},function(v,w){v.exports=function(f,i,b){return f[0]=Math.max(i[0],b[0]),f[1]=Math.max(i[1],b[1]),f}},function(v,w){v.exports=function(f,i,b){var S=Math.cos(b),x=Math.sin(b),k=i[0],U=i[1];return f[0]=k*S-U*x,f[1]=k*x+U*S,f}},function(v,w){v.exports=function(f,i){return f[0]=Math.floor(i[0]),f[1]=Math.floor(i[1]),f}},function(v,w){v.exports=function(f,i){return f[0]=Math.ceil(i[0]),f[1]=Math.ceil(i[1]),f}},function(v,w){v.exports=function(f,i){return f[0]=Math.round(i[0]),f[1]=Math.round(i[1]),f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]*b,f[1]=i[1]*b,f}},function(v,w){v.exports=function(f,i,b,S){return f[0]=i[0]+b[0]*S,f[1]=i[1]+b[1]*S,f}},function(v,w,f){v.exports=f(67)},function(v,w,f){v.exports=f(68)},function(v,w,f){v.exports=f(69)},function(v,w,f){v.exports=f(70)},function(v,w){v.exports=function(f,i){return f[0]=-i[0],f[1]=-i[1],f}},function(v,w){v.exports=function(f,i){var b=i[0],S=i[1],x=b*b+S*S;return x>0&&(x=1/Math.sqrt(x),f[0]=i[0]*x,f[1]=i[1]*x),f}},function(v,w){v.exports=function(f,i){return f[0]*i[0]+f[1]*i[1]}},function(v,w){v.exports=function(f,i,b){var S=i[0]*b[1]-i[1]*b[0];return f[0]=f[1]=0,f[2]=S,f}},function(v,w){v.exports=function(f,i,b,S){var x=i[0],k=i[1];return f[0]=x+S*(b[0]-x),f[1]=k+S*(b[1]-k),f}},function(v,w){v.exports=function(f,i){i=i||1;var b=2*Math.random()*Math.PI;return f[0]=Math.cos(b)*i,f[1]=Math.sin(b)*i,f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1];return f[0]=b[0]*S+b[2]*x,f[1]=b[1]*S+b[3]*x,f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1];return f[0]=b[0]*S+b[2]*x+b[4],f[1]=b[1]*S+b[3]*x+b[5],f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1];return f[0]=b[0]*S+b[3]*x+b[6],f[1]=b[1]*S+b[4]*x+b[7],f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1];return f[0]=b[0]*S+b[4]*x+b[12],f[1]=b[1]*S+b[5]*x+b[13],f}},function(v,w,f){v.exports=function(b,S,x,k,U,ee){var K,he;for(S||(S=2),x||(x=0),he=k?Math.min(k*S+x,b.length):b.length,K=x;K<he;K+=S)i[0]=b[K],i[1]=b[K+1],U(i,i,ee),b[K]=i[0],b[K+1]=i[1];return b};var i=f(63)()},function(v,w){v.exports=function(f,i,b){var S=i[0]*i[0]+i[1]*i[1];if(S>b*b){var x=Math.sqrt(S);f[0]=i[0]/x*b,f[1]=i[1]/x*b}else f[0]=i[0],f[1]=i[1];return f}},function(v,w){v.exports=function(f){var i=new Float32Array(3);return i[0]=f[0],i[1]=f[1],i[2]=f[2],i}},function(v,w,f){v.exports=function(x,k){var U=i(x[0],x[1],x[2]),ee=i(k[0],k[1],k[2]);b(U,U),b(ee,ee);var K=S(U,ee);return K>1?0:Math.acos(K)};var i=f(73),b=f(74),S=f(75)},function(v,w){v.exports=function(f,i){return f[0]=i[0],f[1]=i[1],f[2]=i[2],f}},function(v,w){v.exports=function(f,i,b,S){return f[0]=i,f[1]=b,f[2]=S,f}},function(v,w,f){v.exports=function(b,S){var x=b[0],k=b[1],U=b[2],ee=S[0],K=S[1],he=S[2];return Math.abs(x-ee)<=i*Math.max(1,Math.abs(x),Math.abs(ee))&&Math.abs(k-K)<=i*Math.max(1,Math.abs(k),Math.abs(K))&&Math.abs(U-he)<=i*Math.max(1,Math.abs(U),Math.abs(he))};var i=f(71)},function(v,w){v.exports=function(f,i){return f[0]===i[0]&&f[1]===i[1]&&f[2]===i[2]}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]+b[0],f[1]=i[1]+b[1],f[2]=i[2]+b[2],f}},function(v,w,f){v.exports=f(76)},function(v,w,f){v.exports=f(77)},function(v,w,f){v.exports=f(78)},function(v,w){v.exports=function(f,i,b){return f[0]=Math.min(i[0],b[0]),f[1]=Math.min(i[1],b[1]),f[2]=Math.min(i[2],b[2]),f}},function(v,w){v.exports=function(f,i,b){return f[0]=Math.max(i[0],b[0]),f[1]=Math.max(i[1],b[1]),f[2]=Math.max(i[2],b[2]),f}},function(v,w){v.exports=function(f,i){return f[0]=Math.floor(i[0]),f[1]=Math.floor(i[1]),f[2]=Math.floor(i[2]),f}},function(v,w){v.exports=function(f,i){return f[0]=Math.ceil(i[0]),f[1]=Math.ceil(i[1]),f[2]=Math.ceil(i[2]),f}},function(v,w){v.exports=function(f,i){return f[0]=Math.round(i[0]),f[1]=Math.round(i[1]),f[2]=Math.round(i[2]),f}},function(v,w){v.exports=function(f,i,b){return f[0]=i[0]*b,f[1]=i[1]*b,f[2]=i[2]*b,f}},function(v,w){v.exports=function(f,i,b,S){return f[0]=i[0]+b[0]*S,f[1]=i[1]+b[1]*S,f[2]=i[2]+b[2]*S,f}},function(v,w,f){v.exports=f(79)},function(v,w,f){v.exports=f(80)},function(v,w,f){v.exports=f(81)},function(v,w,f){v.exports=f(82)},function(v,w){v.exports=function(f,i){return f[0]=-i[0],f[1]=-i[1],f[2]=-i[2],f}},function(v,w){v.exports=function(f,i){return f[0]=1/i[0],f[1]=1/i[1],f[2]=1/i[2],f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2],U=b[0],ee=b[1],K=b[2];return f[0]=x*K-k*ee,f[1]=k*U-S*K,f[2]=S*ee-x*U,f}},function(v,w){v.exports=function(f,i,b,S){var x=i[0],k=i[1],U=i[2];return f[0]=x+S*(b[0]-x),f[1]=k+S*(b[1]-k),f[2]=U+S*(b[2]-U),f}},function(v,w){v.exports=function(f,i){i=i||1;var b=2*Math.random()*Math.PI,S=2*Math.random()-1,x=Math.sqrt(1-S*S)*i;return f[0]=Math.cos(b)*x,f[1]=Math.sin(b)*x,f[2]=S*i,f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2],U=b[3]*S+b[7]*x+b[11]*k+b[15];return f[0]=(b[0]*S+b[4]*x+b[8]*k+b[12])/(U=U||1),f[1]=(b[1]*S+b[5]*x+b[9]*k+b[13])/U,f[2]=(b[2]*S+b[6]*x+b[10]*k+b[14])/U,f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2];return f[0]=S*b[0]+x*b[3]+k*b[6],f[1]=S*b[1]+x*b[4]+k*b[7],f[2]=S*b[2]+x*b[5]+k*b[8],f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2],U=b[0],ee=b[1],K=b[2],he=b[3],ne=he*S+ee*k-K*x,ye=he*x+K*S-U*k,Ve=he*k+U*x-ee*S,Ne=-U*S-ee*x-K*k;return f[0]=ne*he+Ne*-U+ye*-K-Ve*-ee,f[1]=ye*he+Ne*-ee+Ve*-U-ne*-K,f[2]=Ve*he+Ne*-K+ne*-ee-ye*-U,f}},function(v,w){v.exports=function(f,i,b,S){var x=b[1],k=b[2],U=i[1]-x,ee=i[2]-k,K=Math.sin(S),he=Math.cos(S);return f[0]=i[0],f[1]=x+U*he-ee*K,f[2]=k+U*K+ee*he,f}},function(v,w){v.exports=function(f,i,b,S){var x=b[0],k=b[2],U=i[0]-x,ee=i[2]-k,K=Math.sin(S),he=Math.cos(S);return f[0]=x+ee*K+U*he,f[1]=i[1],f[2]=k+ee*he-U*K,f}},function(v,w){v.exports=function(f,i,b,S){var x=b[0],k=b[1],U=i[0]-x,ee=i[1]-k,K=Math.sin(S),he=Math.cos(S);return f[0]=x+U*he-ee*K,f[1]=k+U*K+ee*he,f[2]=i[2],f}},function(v,w,f){v.exports=function(b,S,x,k,U,ee){var K,he;for(S||(S=3),x||(x=0),he=k?Math.min(k*S+x,b.length):b.length,K=x;K<he;K+=S)i[0]=b[K],i[1]=b[K+1],i[2]=b[K+2],U(i,i,ee),b[K]=i[0],b[K+1]=i[1],b[K+2]=i[2];return b};var i=f(72)()},function(v,w,f){var i=function(b){"use strict";var S=Object.prototype,x=S.hasOwnProperty,k="function"==typeof Symbol?Symbol:{},U=k.iterator||"@@iterator",ee=k.asyncIterator||"@@asyncIterator",K=k.toStringTag||"@@toStringTag";function he(H,Z,se,me){var qt,rt,nt,ct,Ke=Object.create((Z&&Z.prototype instanceof Ve?Z:Ve).prototype),tt=new De(me||[]);return Ke._invoke=(qt=H,rt=se,nt=tt,ct="suspendedStart",function(Bt,On){if("executing"===ct)throw new Error("Generator is already running");if("completed"===ct){if("throw"===Bt)throw On;return{value:void 0,done:!0}}for(nt.method=Bt,nt.arg=On;;){var pn=nt.delegate;if(pn){var Yt=we(pn,nt);if(Yt){if(Yt===ye)continue;return Yt}}if("next"===nt.method)nt.sent=nt._sent=nt.arg;else if("throw"===nt.method){if("suspendedStart"===ct)throw ct="completed",nt.arg;nt.dispatchException(nt.arg)}else"return"===nt.method&&nt.abrupt("return",nt.arg);ct="executing";var Bn=ne(qt,rt,nt);if("normal"===Bn.type){if(ct=nt.done?"completed":"suspendedYield",Bn.arg===ye)continue;return{value:Bn.arg,done:nt.done}}"throw"===Bn.type&&(ct="completed",nt.method="throw",nt.arg=Bn.arg)}}),Ke}function ne(H,Z,se){try{return{type:"normal",arg:H.call(Z,se)}}catch(me){return{type:"throw",arg:me}}}b.wrap=he;var ye={};function Ve(){}function Ne(){}function Be(){}var Je={};Je[U]=function(){return this};var ce=Object.getPrototypeOf,Re=ce&&ce(ce(Ue([])));Re&&Re!==S&&x.call(Re,U)&&(Je=Re);var be=Be.prototype=Ve.prototype=Object.create(Je);function Fe(H){["next","throw","return"].forEach(function(Z){H[Z]=function(se){return this._invoke(Z,se)}})}function Pe(H,Z){var se;this._invoke=function(me,X){function Ke(){return new Z(function(tt,qt){!function rt(nt,ct,Bt,On){var pn=ne(H[nt],H,ct);if("throw"!==pn.type){var Yt=pn.arg,Bn=Yt.value;return Bn&&"object"==typeof Bn&&x.call(Bn,"__await")?Z.resolve(Bn.__await).then(function(Rn){rt("next",Rn,Bt,On)},function(Rn){rt("throw",Rn,Bt,On)}):Z.resolve(Bn).then(function(Rn){Yt.value=Rn,Bt(Yt)},function(Rn){return rt("throw",Rn,Bt,On)})}On(pn.arg)}(me,X,tt,qt)})}return se=se?se.then(Ke,Ke):Ke()}}function we(H,Z){var se=H.iterator[Z.method];if(void 0===se){if(Z.delegate=null,"throw"===Z.method){if(H.iterator.return&&(Z.method="return",Z.arg=void 0,we(H,Z),"throw"===Z.method))return ye;Z.method="throw",Z.arg=new TypeError("The iterator does not provide a 'throw' method")}return ye}var me=ne(se,H.iterator,Z.arg);if("throw"===me.type)return Z.method="throw",Z.arg=me.arg,Z.delegate=null,ye;var X=me.arg;return X?X.done?(Z[H.resultName]=X.value,Z.next=H.nextLoc,"return"!==Z.method&&(Z.method="next",Z.arg=void 0),Z.delegate=null,ye):X:(Z.method="throw",Z.arg=new TypeError("iterator result is not an object"),Z.delegate=null,ye)}function ue(H){var Z={tryLoc:H[0]};1 in H&&(Z.catchLoc=H[1]),2 in H&&(Z.finallyLoc=H[2],Z.afterLoc=H[3]),this.tryEntries.push(Z)}function ke(H){var Z=H.completion||{};Z.type="normal",delete Z.arg,H.completion=Z}function De(H){this.tryEntries=[{tryLoc:"root"}],H.forEach(ue,this),this.reset(!0)}function Ue(H){if(H){var Z=H[U];if(Z)return Z.call(H);if("function"==typeof H.next)return H;if(!isNaN(H.length)){var se=-1,me=function X(){for(;++se<H.length;)if(x.call(H,se))return X.value=H[se],X.done=!1,X;return X.value=void 0,X.done=!0,X};return me.next=me}}return{next:Q}}function Q(){return{value:void 0,done:!0}}return Ne.prototype=be.constructor=Be,Be.constructor=Ne,Be[K]=Ne.displayName="GeneratorFunction",b.isGeneratorFunction=function(H){var Z="function"==typeof H&&H.constructor;return!!Z&&(Z===Ne||"GeneratorFunction"===(Z.displayName||Z.name))},b.mark=function(H){return Object.setPrototypeOf?Object.setPrototypeOf(H,Be):(H.__proto__=Be,K in H||(H[K]="GeneratorFunction")),H.prototype=Object.create(be),H},b.awrap=function(H){return{__await:H}},Fe(Pe.prototype),Pe.prototype[ee]=function(){return this},b.AsyncIterator=Pe,b.async=function(H,Z,se,me,X){void 0===X&&(X=Promise);var Ke=new Pe(he(H,Z,se,me),X);return b.isGeneratorFunction(Z)?Ke:Ke.next().then(function(tt){return tt.done?tt.value:Ke.next()})},Fe(be),be[K]="Generator",be[U]=function(){return this},be.toString=function(){return"[object Generator]"},b.keys=function(H){var Z=[];for(var se in H)Z.push(se);return Z.reverse(),function me(){for(;Z.length;){var X=Z.pop();if(X in H)return me.value=X,me.done=!1,me}return me.done=!0,me}},b.values=Ue,De.prototype={constructor:De,reset:function(H){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(ke),!H)for(var Z in this)"t"===Z.charAt(0)&&x.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=void 0)},stop:function(){this.done=!0;var H=this.tryEntries[0].completion;if("throw"===H.type)throw H.arg;return this.rval},dispatchException:function(H){if(this.done)throw H;var Z=this;function se(rt,nt){return Ke.type="throw",Ke.arg=H,Z.next=rt,nt&&(Z.method="next",Z.arg=void 0),!!nt}for(var me=this.tryEntries.length-1;me>=0;--me){var X=this.tryEntries[me],Ke=X.completion;if("root"===X.tryLoc)return se("end");if(X.tryLoc<=this.prev){var tt=x.call(X,"catchLoc"),qt=x.call(X,"finallyLoc");if(tt&&qt){if(this.prev<X.catchLoc)return se(X.catchLoc,!0);if(this.prev<X.finallyLoc)return se(X.finallyLoc)}else if(tt){if(this.prev<X.catchLoc)return se(X.catchLoc,!0)}else{if(!qt)throw new Error("try statement without catch or finally");if(this.prev<X.finallyLoc)return se(X.finallyLoc)}}}},abrupt:function(H,Z){for(var se=this.tryEntries.length-1;se>=0;--se){var me=this.tryEntries[se];if(me.tryLoc<=this.prev&&x.call(me,"finallyLoc")&&this.prev<me.finallyLoc){var X=me;break}}X&&("break"===H||"continue"===H)&&X.tryLoc<=Z&&Z<=X.finallyLoc&&(X=null);var Ke=X?X.completion:{};return Ke.type=H,Ke.arg=Z,X?(this.method="next",this.next=X.finallyLoc,ye):this.complete(Ke)},complete:function(H,Z){if("throw"===H.type)throw H.arg;return"break"===H.type||"continue"===H.type?this.next=H.arg:"return"===H.type?(this.rval=this.arg=H.arg,this.method="return",this.next="end"):"normal"===H.type&&Z&&(this.next=Z),ye},finish:function(H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var se=this.tryEntries[Z];if(se.finallyLoc===H)return this.complete(se.completion,se.afterLoc),ke(se),ye}},catch:function(H){for(var Z=this.tryEntries.length-1;Z>=0;--Z){var se=this.tryEntries[Z];if(se.tryLoc===H){var me=se.completion;if("throw"===me.type){var X=me.arg;ke(se)}return X}}throw new Error("illegal catch attempt")},delegateYield:function(H,Z,se){return this.delegate={iterator:Ue(H),resultName:Z,nextLoc:se},"next"===this.method&&(this.arg=void 0),ye}},b}(v.exports);try{regeneratorRuntime=i}catch(b){Function("r","regeneratorRuntime = r")(i)}},function(v,w,f){var i=f(2);v.exports=function(b,S){for(;!Object.prototype.hasOwnProperty.call(b,S)&&null!==(b=i(b)););return b},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(61);v.exports=function(b){if(Array.isArray(b))return i(b)},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f){if("undefined"!=typeof Symbol&&null!=f[Symbol.iterator]||null!=f["@@iterator"])return Array.from(f)},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(230),b=f(240);v.exports=function(S,x){return i(S,x,function(k,U){return b(S,U)})}},function(v,w,f){var i=f(231),b=f(239),S=f(32);v.exports=function(x,k,U){for(var ee=-1,K=k.length,he={};++ee<K;){var ne=k[ee],ye=i(x,ne);U(ye,ne)&&b(he,S(ne,x),ye)}return he}},function(v,w,f){var i=f(32),b=f(43);v.exports=function(S,x){for(var k=0,U=(x=i(x,S)).length;null!=S&&k<U;)S=S[b(x[k++])];return k&&k==U?S:void 0}},function(v,w,f){var i=f(15),b=f(42),S=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,x=/^\w*$/;v.exports=function(k,U){if(i(k))return!1;var ee=typeof k;return!("number"!=ee&&"symbol"!=ee&&"boolean"!=ee&&null!=k&&!b(k))||x.test(k)||!S.test(k)||null!=U&&k in Object(U)}},function(v,w,f){var i=f(234),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,S=/\\(\\)?/g,x=i(function(k){var U=[];return 46===k.charCodeAt(0)&&U.push(""),k.replace(b,function(ee,K,he,ne){U.push(he?ne.replace(S,"$1"):K||ee)}),U});v.exports=x},function(v,w,f){var i=f(235);v.exports=function(b){var S=i(b,function(k){return 500===x.size&&x.clear(),k}),x=S.cache;return S}},function(v,w,f){var i=f(47);function b(S,x){if("function"!=typeof S||null!=x&&"function"!=typeof x)throw new TypeError("Expected a function");var k=function(){var U=arguments,ee=x?x.apply(this,U):U[0],K=k.cache;if(K.has(ee))return K.get(ee);var he=S.apply(this,U);return k.cache=K.set(ee,he)||K,he};return k.cache=new(b.Cache||i),k}b.Cache=i,v.exports=b},function(v,w,f){var i=f(237);v.exports=function(b){return null==b?"":i(b)}},function(v,w,f){var i=f(27),b=f(238),S=f(15),x=f(42),k=i?i.prototype:void 0,U=k?k.toString:void 0;v.exports=function ee(K){if("string"==typeof K)return K;if(S(K))return b(K,ee)+"";if(x(K))return U?U.call(K):"";var he=K+"";return"0"==he&&1/K==-1/0?"-0":he}},function(v,w){v.exports=function(f,i){for(var b=-1,S=null==f?0:f.length,x=Array(S);++b<S;)x[b]=i(f[b],b,f);return x}},function(v,w,f){var i=f(55),b=f(32),S=f(31),x=f(14),k=f(43);v.exports=function(U,ee,K,he){if(!x(U))return U;for(var ne=-1,ye=(ee=b(ee,U)).length,Ve=ye-1,Ne=U;null!=Ne&&++ne<ye;){var Be=k(ee[ne]),Je=K;if("__proto__"===Be||"constructor"===Be||"prototype"===Be)return U;if(ne!=Ve){var ce=Ne[Be];void 0===(Je=he?he(ce,Be,Ne):void 0)&&(Je=x(ce)?ce:S(ee[ne+1])?[]:{})}i(Ne,Be,Je),Ne=Ne[Be]}return U}},function(v,w,f){var i=f(241),b=f(242);v.exports=function(S,x){return null!=S&&b(S,x,i)}},function(v,w){v.exports=function(f,i){return null!=f&&i in Object(f)}},function(v,w,f){var i=f(32),b=f(30),S=f(15),x=f(31),k=f(40),U=f(43);v.exports=function(ee,K,he){for(var ne=-1,ye=(K=i(K,ee)).length,Ve=!1;++ne<ye;){var Ne=U(K[ne]);if(!(Ve=null!=ee&&he(ee,Ne)))break;ee=ee[Ne]}return Ve||++ne!=ye?Ve:!!(ye=null==ee?0:ee.length)&&k(ye)&&x(Ne,ye)&&(S(ee)||b(ee))}},function(v,w,f){var i=f(244),b=f(58),S=f(59);v.exports=function(x){return S(b(x,void 0,i),x+"")}},function(v,w,f){var i=f(245);v.exports=function(b){return null!=b&&b.length?i(b,1):[]}},function(v,w,f){var i=f(246),b=f(247);v.exports=function S(x,k,U,ee,K){var he=-1,ne=x.length;for(U||(U=b),K||(K=[]);++he<ne;){var ye=x[he];k>0&&U(ye)?k>1?S(ye,k-1,U,ee,K):i(K,ye):ee||(K[K.length]=ye)}return K}},function(v,w){v.exports=function(f,i){for(var b=-1,S=i.length,x=f.length;++b<S;)f[x+b]=i[b];return f}},function(v,w,f){var i=f(27),b=f(30),S=f(15),x=i?i.isConcatSpreadable:void 0;v.exports=function(k){return S(k)||b(k)||!!(x&&k&&k[x])}},function(v,w){v.exports=function(f){return-1!==Function.toString.call(f).indexOf("[native code]")},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w,f){var i=f(41),b=f(250);function S(x,k,U){return b()?(v.exports=S=Reflect.construct,v.exports.__esModule=!0,v.exports.default=v.exports):(v.exports=S=function(ee,K,he){var ne=[null];ne.push.apply(ne,K);var ye=new(Function.bind.apply(ee,ne));return he&&i(ye,he.prototype),ye},v.exports.__esModule=!0,v.exports.default=v.exports),S.apply(null,arguments)}v.exports=S,v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(f){return!1}},v.exports.__esModule=!0,v.exports.default=v.exports},function(v,w){v.exports=function(f){return f[0]*f[3]-f[2]*f[1]}},function(v,w){v.exports=function(f,i){if(f===i){var b=i[1];f[1]=i[2],f[2]=b}else f[0]=i[0],f[1]=i[2],f[2]=i[1],f[3]=i[3];return f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2],U=i[3],ee=b[0],K=b[1],he=b[2],ne=b[3];return f[0]=S*ee+k*K,f[1]=x*ee+U*K,f[2]=S*he+k*ne,f[3]=x*he+U*ne,f}},function(v,w){v.exports=function(f){return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f}},function(v,w){v.exports=function(f,i){var b=i[0];return f[0]=i[3],f[1]=-i[1],f[2]=-i[2],f[3]=b,f}},function(v,w){v.exports=function(f,i,b){var S=i[0],x=i[1],k=i[2],U=i[3],ee=Math.sin(b),K=Math.cos(b);return f[0]=S*K+k*ee,f[1]=x*K+U*ee,f[2]=S*-ee+k*K,f[3]=x*-ee+U*K,f}},function(v,w){v.exports=function(f,i){var b=i[0],S=i[1],x=i[2],k=i[3],U=b*k-x*S;return U?(f[0]=k*(U=1/U),f[1]=-S*U,f[2]=-x*U,f[3]=b*U,f):null}},function(v,w){v.exports=function(){var f=new Float32Array(4);return f[0]=1,f[1]=0,f[2]=0,f[3]=1,f}},function(v,w){v.exports=function(f,i,b){var x=i[1],k=i[2],U=i[3],ee=b[0],K=b[1];return f[0]=i[0]*ee,f[1]=x*ee,f[2]=k*K,f[3]=U*K,f}},function(v,w){v.exports=function(f,i){return f[0]=i[0],f[1]=i[1],f[2]=i[2],f[3]=i[3],f}},function(v,w){v.exports=function(f){return Math.sqrt(Math.pow(f[0],2)+Math.pow(f[1],2)+Math.pow(f[2],2)+Math.pow(f[3],2))}},function(v,w){v.exports=function(f,i,b,S){return f[2]=S[2]/S[0],b[0]=S[0],b[1]=S[1],b[3]=S[3]-f[2]*b[1],[f,i,b]}},function(v,w,f){"use strict";f.r(w),f.d(w,"BarcodeDecoder",function(){return rr}),f.d(w,"Readers",function(){return i}),f.d(w,"CameraAccess",function(){return dn}),f.d(w,"ImageDebug",function(){return Ve.a}),f.d(w,"ImageWrapper",function(){return ee.a}),f.d(w,"ResultCollector",function(){return Mn});var i={};f.r(i),f.d(i,"BarcodeReader",function(){return Z}),f.d(i,"TwoOfFiveReader",function(){return qt}),f.d(i,"NewCodabarReader",function(){return On}),f.d(i,"Code128Reader",function(){return Yt}),f.d(i,"Code32Reader",function(){return pi}),f.d(i,"Code39Reader",function(){return fi}),f.d(i,"Code39VINReader",function(){return Ce}),f.d(i,"Code93Reader",function(){return q}),f.d(i,"EAN2Reader",function(){return gt}),f.d(i,"EAN5Reader",function(){return ln}),f.d(i,"EAN8Reader",function(){return en}),f.d(i,"EANReader",function(){return Ht}),f.d(i,"I2of5Reader",function(){return Un}),f.d(i,"UPCEReader",function(){return En}),f.d(i,"UPCReader",function(){return Tn});var b,W,S=f(20),x=f.n(S),k=f(17),U=f.n(k),ee=(f(152),f(11)),K=f(12),he=f.n(K),ne=f(8),ye=f.n(ne),Ve=f(16),Ne=f(3),Be=f.n(Ne),Je=f(4),ce=f.n(Je),Re=f(1),be=f.n(Re),Fe=f(6),Pe=f.n(Fe),we=f(5),ue=f.n(we),ke=f(2),De=f.n(ke),Ue=f(0),Q=f.n(Ue),H=f(9);(W=b||(b={}))[W.Forward=1]="Forward",W[W.Reverse=-1]="Reverse";var Z=function(){function W(ie,j){Be()(this,W),Q()(this,"_row",[]),Q()(this,"config",{}),Q()(this,"supplements",[]),Q()(this,"SINGLE_CODE_ERROR",0),Q()(this,"FORMAT","unknown"),Q()(this,"CONFIG_KEYS",{}),this._row=[],this.config=ie||{},j&&(this.supplements=j)}return ce()(W,[{key:"_nextUnset",value:function(ie){for(var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;C<ie.length;C++)if(!ie[C])return C;return ie.length}},{key:"_matchPattern",value:function(ie,j){for(var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,O=0,M=0,R=0,z=0,re=0,ae=0,Se=0;Se<ie.length;Se++)R+=ie[Se],z+=j[Se];if(R<z)return Number.MAX_VALUE;C*=re=R/z;for(var F=0;F<ie.length;F++){if(ae=j[F]*re,(M=Math.abs(ie[F]-ae)/ae)>C)return Number.MAX_VALUE;O+=M}return O/z}},{key:"_nextSet",value:function(ie){for(var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;C<ie.length;C++)if(ie[C])return C;return ie.length}},{key:"_correctBars",value:function(ie,j,C){for(var O=C.length,M=0;O--;)(M=ie[C[O]]*(1-(1-j)/2))>1&&(ie[C[O]]=M)}},{key:"decodePattern",value:function(ie){this._row=ie;var j=this.decode();return null===j?(this._row.reverse(),(j=this.decode())&&(j.direction=b.Reverse,j.start=this._row.length-j.start,j.end=this._row.length-j.end)):j.direction=b.Forward,j&&(j.format=this.FORMAT),j}},{key:"_matchRange",value:function(ie,j,C){var O;for(O=ie=ie<0?0:ie;O<j;O++)if(this._row[O]!==C)return!1;return!0}},{key:"_fillCounters",value:function(){var ie=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,C=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],O=[],M=0;O[M]=0;for(var R=ie;R<j;R++)this._row[R]^(C?1:0)?O[M]++:(O[++M]=1,C=!C);return O}},{key:"_toCounters",value:function(ie,j){var C=j.length,O=this._row.length,M=!this._row[ie],R=0;H.a.init(j,0);for(var z=ie;z<O;z++)if(this._row[z]^(M?1:0))j[R]++;else{if(++R===C)break;j[R]=1,M=!M}return j}},{key:"decodeImage",value:function(ie){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),W}();var me=[3,1,3,1,1,1],X=[3,1,1,1,3],Ke=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],tt=me.reduce(function(W,ie){return W+ie},0),qt=function(W){Pe()(j,W);var ie=function se(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"barSpaceRatio",[1,1]),Q()(be()(C),"FORMAT","2of5"),Q()(be()(C),"SINGLE_CODE_ERROR",.78),Q()(be()(C),"AVG_CODE_ERROR",.3),C}return ce()(j,[{key:"_findPattern",value:function(C,O){var M=arguments.length>2&&void 0!==arguments[2]&&arguments[2],R=arguments.length>3&&void 0!==arguments[3]&&arguments[3],z=[],re=0,Y={error:Number.MAX_VALUE,code:-1,start:0,end:0},ae=0,Se=0,F=this.AVG_CODE_ERROR;O||(O=this._nextSet(this._row));for(var oe=0;oe<C.length;oe++)z[oe]=0;for(var de=O;de<this._row.length;de++)if(this._row[de]^(M?1:0))z[re]++;else{if(re===z.length-1){ae=0;for(var je=0;je<z.length;je++)ae+=z[je];if((Se=this._matchPattern(z,C))<F)return Y.error=Se,Y.start=de-ae,Y.end=de,Y;if(!R)return null;for(var yt=0;yt<z.length-2;yt++)z[yt]=z[yt+2];z[z.length-2]=0,z[z.length-1]=0,re--}else re++;z[re]=1,M=!M}return null}},{key:"_findStart",value:function(){for(var C=null,O=this._nextSet(this._row),M=1,R=0;!C;){if(!(C=this._findPattern(me,O,!1,!0)))return null;if(M=Math.floor((C.end-C.start)/tt),(R=C.start-5*M)>=0&&this._matchRange(R,C.start,0))return C;O=C.end,C=null}return C}},{key:"_verifyTrailingWhitespace",value:function(C){var O=C.end+(C.end-C.start)/2;return O<this._row.length&&this._matchRange(C.end,O,0)?C:null}},{key:"_findEnd",value:function(){this._row.reverse();var C=this._nextSet(this._row),O=this._findPattern(X,C,!1,!0);if(this._row.reverse(),null===O)return null;var M=O.start;return O.start=this._row.length-O.end,O.end=this._row.length-M,null!==O?this._verifyTrailingWhitespace(O):null}},{key:"_verifyCounterLength",value:function(C){return C.length%10==0}},{key:"_decodeCode",value:function(C){for(var O=this.AVG_CODE_ERROR,M={error:Number.MAX_VALUE,code:-1,start:0,end:0},R=0;R<Ke.length;R++){var z=this._matchPattern(C,Ke[R]);z<M.error&&(M.code=R,M.error=z)}return M.error<O?M:null}},{key:"_decodePayload",value:function(C,O,M){for(var R=0,z=C.length,re=[0,0,0,0,0],Y=null;R<z;){for(var ae=0;ae<5;ae++)re[ae]=C[R]*this.barSpaceRatio[0],R+=2;if(!(Y=this._decodeCode(re)))return null;O.push("".concat(Y.code)),M.push(Y)}return Y}},{key:"decode",value:function(C,O){var M=this._findStart();if(!M)return null;var R=this._findEnd();if(!R)return null;var z=this._fillCounters(M.end,R.start,!1);if(!this._verifyCounterLength(z))return null;var re=[];re.push(M);var Y=[];return this._decodePayload(z,Y,re)?Y.length<5?null:(re.push(R),{code:Y.join(""),start:M.start,end:R.end,startInfo:M,decodedCodes:re,format:this.FORMAT}):null}}]),j}(Z);var nt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],ct=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],Bt=[26,41,11,14],On=function(W){Pe()(j,W);var ie=function rt(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"_counters",[]),Q()(be()(C),"FORMAT","codabar"),C}return ce()(j,[{key:"_computeAlternatingThreshold",value:function(C,O){for(var M=Number.MAX_VALUE,R=0,z=0,re=C;re<O;re+=2)(z=this._counters[re])>R&&(R=z),z<M&&(M=z);return(M+R)/2|0}},{key:"_toPattern",value:function(C){var O=C+7;if(O>this._counters.length)return-1;for(var M=this._computeAlternatingThreshold(C,O),R=this._computeAlternatingThreshold(C+1,O),z=64,Y=0,ae=0;ae<7;ae++)this._counters[C+ae]>(0==(1&ae)?M:R)&&(Y|=z),z>>=1;return Y}},{key:"_isStartEnd",value:function(C){for(var O=0;O<Bt.length;O++)if(Bt[O]===C)return!0;return!1}},{key:"_sumCounters",value:function(C,O){for(var M=0,R=C;R<O;R++)M+=this._counters[R];return M}},{key:"_findStart",value:function(){for(var C=this._nextUnset(this._row),O=1;O<this._counters.length;O++){var M=this._toPattern(O);if(-1!==M&&this._isStartEnd(M))return{start:C+=this._sumCounters(0,O),end:C+this._sumCounters(O,O+8),startCounter:O,endCounter:O+8}}return null}},{key:"_patternToChar",value:function(C){for(var O=0;O<ct.length;O++)if(ct[O]===C)return String.fromCharCode(nt[O]);return null}},{key:"_calculatePatternLength",value:function(C){for(var O=0,M=C;M<C+7;M++)O+=this._counters[M];return O}},{key:"_verifyWhitespace",value:function(C,O){return(C-1<=0||this._counters[C-1]>=this._calculatePatternLength(C)/2)&&(O+8>=this._counters.length||this._counters[O+7]>=this._calculatePatternLength(O)/2)}},{key:"_charToPattern",value:function(C){for(var O=C.charCodeAt(0),M=0;M<nt.length;M++)if(nt[M]===O)return ct[M];return 0}},{key:"_thresholdResultPattern",value:function(C,O){for(var M,R={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},z=O,re=0;re<C.length;re++){M=this._charToPattern(C[re]);for(var Y=6;Y>=0;Y--){var ae=2==(1&Y)?R.bar:R.space,Se=1==(1&M)?ae.wide:ae.narrow;Se.size+=this._counters[z+Y],Se.counts++,M>>=1}z+=8}return["space","bar"].forEach(function(F){var oe=R[F];oe.wide.min=Math.floor((oe.narrow.size/oe.narrow.counts+oe.wide.size/oe.wide.counts)/2),oe.narrow.max=Math.ceil(oe.wide.min),oe.wide.max=Math.ceil((2*oe.wide.size+1.5)/oe.wide.counts)}),R}},{key:"_validateResult",value:function(C,O){for(var M,R=this._thresholdResultPattern(C,O),z=O,re=0;re<C.length;re++){M=this._charToPattern(C[re]);for(var Y=6;Y>=0;Y--){var ae=0==(1&Y)?R.bar:R.space,Se=1==(1&M)?ae.wide:ae.narrow,F=this._counters[z+Y];if(F<Se.min||F>Se.max)return!1;M>>=1}z+=8}return!0}},{key:"decode",value:function(C,O){if(this._counters=this._fillCounters(),!(O=this._findStart()))return null;var M,R=O.startCounter,z=[];do{if((M=this._toPattern(R))<0)return null;var re=this._patternToChar(M);if(null===re)return null;if(z.push(re),R+=8,z.length>1&&this._isStartEnd(M))break}while(R<this._counters.length);if(z.length-2<4||!this._isStartEnd(M)||!this._verifyWhitespace(O.startCounter,R-8)||!this._validateResult(z,O.startCounter))return null;var Y=O.start+this._sumCounters(O.startCounter,(R=R>this._counters.length?this._counters.length:R)-8);return{code:z.join(""),start:O.start,end:Y,startInfo:O,decodedCodes:z,format:this.FORMAT}}}]),j}(Z);var Yt=function(W){Pe()(j,W);var ie=function pn(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"CODE_SHIFT",98),Q()(be()(C),"CODE_C",99),Q()(be()(C),"CODE_B",100),Q()(be()(C),"CODE_A",101),Q()(be()(C),"START_CODE_A",103),Q()(be()(C),"START_CODE_B",104),Q()(be()(C),"START_CODE_C",105),Q()(be()(C),"STOP_CODE",106),Q()(be()(C),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),Q()(be()(C),"SINGLE_CODE_ERROR",.64),Q()(be()(C),"AVG_CODE_ERROR",.3),Q()(be()(C),"FORMAT","code_128"),Q()(be()(C),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),C}return ce()(j,[{key:"_decodeCode",value:function(C,O){for(var M={error:Number.MAX_VALUE,code:-1,start:C,end:C,correction:{bar:1,space:1}},R=[0,0,0,0,0,0],re=!this._row[C],Y=0,ae=C;ae<this._row.length;ae++)if(this._row[ae]^(re?1:0))R[Y]++;else{if(Y===R.length-1){O&&this._correct(R,O);for(var Se=0;Se<this.CODE_PATTERN.length;Se++){var F=this._matchPattern(R,this.CODE_PATTERN[Se]);F<M.error&&(M.code=Se,M.error=F)}return M.end=ae,-1===M.code||M.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[M.code]&&(M.correction.bar=this.calculateCorrection(this.CODE_PATTERN[M.code],R,this.MODULE_INDICES.bar),M.correction.space=this.calculateCorrection(this.CODE_PATTERN[M.code],R,this.MODULE_INDICES.space)),M)}R[++Y]=1,re=!re}return null}},{key:"_correct",value:function(C,O){this._correctBars(C,O.bar,this.MODULE_INDICES.bar),this._correctBars(C,O.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var C=[0,0,0,0,0,0],O=this._nextSet(this._row),M={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},R=!1,z=0,re=O;re<this._row.length;re++)if(this._row[re]^(R?1:0))C[z]++;else{if(z===C.length-1){for(var Y=C.reduce(function(oe,de){return oe+de},0),ae=this.START_CODE_A;ae<=this.START_CODE_C;ae++){var Se=this._matchPattern(C,this.CODE_PATTERN[ae]);Se<M.error&&(M.code=ae,M.error=Se)}if(M.error<this.AVG_CODE_ERROR)return M.start=re-Y,M.end=re,M.correction.bar=this.calculateCorrection(this.CODE_PATTERN[M.code],C,this.MODULE_INDICES.bar),M.correction.space=this.calculateCorrection(this.CODE_PATTERN[M.code],C,this.MODULE_INDICES.space),M;for(var F=0;F<4;F++)C[F]=C[F+2];C[4]=0,C[5]=0,z--}else z++;C[z]=1,R=!R}return null}},{key:"decode",value:function(C,O){var M=this,R=this._findStart();if(null===R)return null;var z={code:R.code,start:R.start,end:R.end,correction:{bar:R.correction.bar,space:R.correction.space}},re=[];re.push(z);for(var Y=z.code,ae=function(It){switch(It){case M.START_CODE_A:return M.CODE_A;case M.START_CODE_B:return M.CODE_B;case M.START_CODE_C:return M.CODE_C;default:return null}}(z.code),Se=!1,F=!1,oe=F,de=!0,je=0,yt=[],kt=[];!Se;){if(oe=F,F=!1,null!==(z=this._decodeCode(z.end,z.correction)))switch(z.code!==this.STOP_CODE&&(de=!0),z.code!==this.STOP_CODE&&(yt.push(z.code),Y+=++je*z.code),re.push(z),ae){case this.CODE_A:if(z.code<64)kt.push(String.fromCharCode(32+z.code));else if(z.code<96)kt.push(String.fromCharCode(z.code-64));else switch(z.code!==this.STOP_CODE&&(de=!1),z.code){case this.CODE_SHIFT:F=!0,ae=this.CODE_B;break;case this.CODE_B:ae=this.CODE_B;break;case this.CODE_C:ae=this.CODE_C;break;case this.STOP_CODE:Se=!0}break;case this.CODE_B:if(z.code<96)kt.push(String.fromCharCode(32+z.code));else switch(z.code!==this.STOP_CODE&&(de=!1),z.code){case this.CODE_SHIFT:F=!0,ae=this.CODE_A;break;case this.CODE_A:ae=this.CODE_A;break;case this.CODE_C:ae=this.CODE_C;break;case this.STOP_CODE:Se=!0}break;case this.CODE_C:if(z.code<100)kt.push(z.code<10?"0"+z.code:z.code);else switch(z.code!==this.STOP_CODE&&(de=!1),z.code){case this.CODE_A:ae=this.CODE_A;break;case this.CODE_B:ae=this.CODE_B;break;case this.STOP_CODE:Se=!0}}else Se=!0;oe&&(ae=ae===this.CODE_A?this.CODE_B:this.CODE_A)}return null===z?null:(z.end=this._nextUnset(this._row,z.end),this._verifyTrailingWhitespace(z)?(Y-=je*yt[yt.length-1])%103!==yt[yt.length-1]?null:kt.length?(de&&kt.splice(kt.length-1,1),{code:kt.join(""),start:R.start,end:z.end,codeset:ae,startInfo:R,decodedCodes:re,endInfo:z,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(C){var O;return(O=C.end+(C.end-C.start)/2)<this._row.length&&this._matchRange(C.end,O,0)?C:null}},{key:"calculateCorrection",value:function(C,O,M){for(var R=M.length,z=0,re=0;R--;)re+=C[M[R]],z+=O[M[R]];return re/z}}]),j}(Z),Bn=f(13),Rn=f.n(Bn),$r=f(33),ar=f.n($r);var hi=new Uint16Array(ar()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(W){return W.charCodeAt(0)})),wi=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),fi=function(W){Pe()(j,W);var ie=function Oo(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","code_39"),C}return ce()(j,[{key:"_findStart",value:function(){for(var C=this._nextSet(this._row),O=C,M=new Uint16Array([0,0,0,0,0,0,0,0,0]),R=0,z=!1,re=C;re<this._row.length;re++)if(this._row[re]^(z?1:0))M[R]++;else{if(R===M.length-1){if(148===this._toPattern(M)){var Y=Math.floor(Math.max(0,O-(re-O)/4));if(this._matchRange(Y,O,0))return{start:O,end:re}}O+=M[0]+M[1];for(var ae=0;ae<7;ae++)M[ae]=M[ae+2];M[7]=0,M[8]=0,R--}else R++;M[R]=1,z=!z}return null}},{key:"_toPattern",value:function(C){for(var O=C.length,M=0,R=O,z=0;R>3;){M=this._findNextWidth(C,M),R=0;for(var re=0,Y=0;Y<O;Y++)C[Y]>M&&(re|=1<<O-1-Y,R++,z+=C[Y]);if(3===R){for(var ae=0;ae<O&&R>0;ae++)if(C[ae]>M&&(R--,2*C[ae]>=z))return-1;return re}}return-1}},{key:"_findNextWidth",value:function(C,O){for(var M=Number.MAX_VALUE,R=0;R<C.length;R++)C[R]<M&&C[R]>O&&(M=C[R]);return M}},{key:"_patternToChar",value:function(C){for(var O=0;O<wi.length;O++)if(wi[O]===C)return String.fromCharCode(hi[O]);return null}},{key:"_verifyTrailingWhitespace",value:function(C,O,M){var R=H.a.sum(M);return 3*(O-C-R)>=R}},{key:"decode",value:function(){var C=new Uint16Array([0,0,0,0,0,0,0,0,0]),O=[],M=this._findStart();if(!M)return null;var R,z,re=this._nextSet(this._row,M.end);do{C=this._toCounters(re,C);var Y=this._toPattern(C);if(Y<0||null===(R=this._patternToChar(Y)))return null;O.push(R),z=re,re+=H.a.sum(C),re=this._nextSet(this._row,re)}while("*"!==R);return O.pop(),O.length&&this._verifyTrailingWhitespace(z,re,C)?{code:O.join(""),start:M.start,end:re,startInfo:M,decodedCodes:O,format:this.FORMAT}:null}}]),j}(Z);var _o=/[AEIO]/g,pi=function(W){Pe()(j,W);var ie=function ji(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","code_32_reader"),C}return ce()(j,[{key:"_decodeCode32",value:function(C){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(C))return null;for(var O=0,M=0;M<C.length;M++)O=32*O+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(C[M]);var R="".concat(O);return R.length<9&&(R=("000000000"+R).slice(-9)),"A"+R}},{key:"_checkChecksum",value:function(C){return!!C}},{key:"decode",value:function(){var C=Rn()(De()(j.prototype),"decode",this).call(this);if(!C)return null;var O=C.code;if(!O||(O=O.replace(_o,""),!this._checkChecksum(O)))return null;var M=this._decodeCode32(O);return M?(C.code=M,C):null}}]),j}(fi);var fr=/[IOQ]/g,Ti=/[A-Z0-9]{17}/,Ce=function(W){Pe()(j,W);var ie=function zo(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","code_39_vin"),C}return ce()(j,[{key:"_checkChecksum",value:function(C){return!!C}},{key:"decode",value:function(){var C=Rn()(De()(j.prototype),"decode",this).call(this);if(!C)return null;var O=C.code;return O&&(O=O.replace(fr,"")).match(Ti)&&this._checkChecksum(O)?(C.code=O,C):null}}]),j}(fi);var fe=new Uint16Array(ar()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(W){return W.charCodeAt(0)})),$=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),q=function(W){Pe()(j,W);var ie=function Ee(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","code_93"),C}return ce()(j,[{key:"_patternToChar",value:function(C){for(var O=0;O<$.length;O++)if($[O]===C)return String.fromCharCode(fe[O]);return null}},{key:"_toPattern",value:function(C){for(var O=C.length,M=C.reduce(function(ae,Se){return ae+Se},0),R=0,z=0;z<O;z++){var re=Math.round(9*C[z]/M);if(re<1||re>4)return-1;if(0==(1&z))for(var Y=0;Y<re;Y++)R=R<<1|1;else R<<=re}return R}},{key:"_findStart",value:function(){for(var C=this._nextSet(this._row),O=C,M=new Uint16Array([0,0,0,0,0,0]),R=0,z=!1,re=C;re<this._row.length;re++)if(this._row[re]^(z?1:0))M[R]++;else{if(R===M.length-1){if(350===this._toPattern(M)){var Y=Math.floor(Math.max(0,O-(re-O)/4));if(this._matchRange(Y,O,0))return{start:O,end:re}}O+=M[0]+M[1];for(var ae=0;ae<4;ae++)M[ae]=M[ae+2];M[4]=0,M[5]=0,R--}else R++;M[R]=1,z=!z}return null}},{key:"_verifyEnd",value:function(C,O){return!(C===O||!this._row[O])}},{key:"_decodeExtended",value:function(C){for(var O=C.length,M=[],R=0;R<O;R++){var z=C[R];if(z>="a"&&z<="d"){if(R>O-2)return null;var re=C[++R],Y=re.charCodeAt(0),ae=void 0;switch(z){case"a":if(!(re>="A"&&re<="Z"))return null;ae=String.fromCharCode(Y-64);break;case"b":if(re>="A"&&re<="E")ae=String.fromCharCode(Y-38);else if(re>="F"&&re<="J")ae=String.fromCharCode(Y-11);else if(re>="K"&&re<="O")ae=String.fromCharCode(Y+16);else if(re>="P"&&re<="S")ae=String.fromCharCode(Y+43);else{if(!(re>="T"&&re<="Z"))return null;ae=String.fromCharCode(127)}break;case"c":if(re>="A"&&re<="O")ae=String.fromCharCode(Y-32);else{if("Z"!==re)return null;ae=":"}break;case"d":if(!(re>="A"&&re<="Z"))return null;ae=String.fromCharCode(Y+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",ae),null}M.push(ae)}else M.push(z)}return M}},{key:"_matchCheckChar",value:function(C,O,M){var R=C.slice(0,O),z=R.length,re=R.reduce(function(Y,ae,Se){return Y+((-1*Se+(z-1))%M+1)*fe.indexOf(ae.charCodeAt(0))},0);return fe[re%47]===C[O].charCodeAt(0)}},{key:"_verifyChecksums",value:function(C){return this._matchCheckChar(C,C.length-2,20)&&this._matchCheckChar(C,C.length-1,15)}},{key:"decode",value:function(C,O){if(!(O=this._findStart()))return null;var M,R,z=new Uint16Array([0,0,0,0,0,0]),re=[],Y=this._nextSet(this._row,O.end);do{z=this._toCounters(Y,z);var ae=this._toPattern(z);if(ae<0||null===(R=this._patternToChar(ae)))return null;re.push(R),M=Y,Y+=H.a.sum(z),Y=this._nextSet(this._row,Y)}while("*"!==R);return re.pop(),re.length&&this._verifyEnd(M,Y)&&this._verifyChecksums(re)?(re=re.slice(0,re.length-2),null===(re=this._decodeExtended(re))?null:{code:re.join(""),start:O.start,end:Y,startInfo:O,decodedCodes:re,format:this.FORMAT}):null}}]),j}(Z);function Te(W,ie){var j=Object.keys(W);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(W);ie&&(C=C.filter(function(O){return Object.getOwnPropertyDescriptor(W,O).enumerable})),j.push.apply(j,C)}return j}function Ae(W){for(var ie=1;ie<arguments.length;ie++){var j=null!=arguments[ie]?arguments[ie]:{};ie%2?Te(Object(j),!0).forEach(function(C){Q()(W,C,j[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(j)):Te(Object(j)).forEach(function(C){Object.defineProperty(W,C,Object.getOwnPropertyDescriptor(j,C))})}return W}var qe=[1,1,1],Dt=[1,1,1,1,1],ot=[1,1,2],Pt=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],rn=[0,11,13,14,19,25,28,21,22,26],Ht=function(W){Pe()(j,W);var ie=function Le(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(C,O){var M;return Be()(this,j),M=ie.call(this,U()({supplements:[]},C),O),Q()(be()(M),"FORMAT","ean_13"),Q()(be()(M),"SINGLE_CODE_ERROR",.7),Q()(be()(M),"STOP_PATTERN",[1,1,1]),M}return ce()(j,[{key:"_findPattern",value:function(C,O,M,R){var z=new Array(C.length).fill(0),re={error:Number.MAX_VALUE,start:0,end:0},Y=0;O||(O=this._nextSet(this._row));for(var ae=!1,Se=O;Se<this._row.length;Se++)if(this._row[Se]^(M?1:0))z[Y]+=1;else{if(Y===z.length-1){var F=this._matchPattern(z,C);if(F<.48&&re.error&&F<re.error)return ae=!0,re.error=F,re.start=Se-z.reduce(function(de,je){return de+je},0),re.end=Se,re;if(R){for(var oe=0;oe<z.length-2;oe++)z[oe]=z[oe+2];z[z.length-2]=0,z[z.length-1]=0,Y--}}else Y++;z[Y]=1,M=!M}return ae?re:null}},{key:"_decodeCode",value:function(C,O){var M=[0,0,0,0],z={error:Number.MAX_VALUE,code:-1,start:C,end:C},re=!this._row[C],Y=0;O||(O=Pt.length);for(var ae=C;ae<this._row.length;ae++)if(this._row[ae]^(re?1:0))M[Y]++;else{if(Y===M.length-1){for(var Se=0;Se<O;Se++){var F=this._matchPattern(M,Pt[Se]);z.end=ae,F<z.error&&(z.code=Se,z.error=F)}return z.error>.48?null:z}M[++Y]=1,re=!re}return null}},{key:"_findStart",value:function(){for(var C=this._nextSet(this._row),O=null;!O;){if(!(O=this._findPattern(qe,C,!1,!0)))return null;var M=O.start-(O.end-O.start);if(M>=0&&this._matchRange(M,O.start,0))return O;C=O.end,O=null}return null}},{key:"_calculateFirstDigit",value:function(C){for(var O=0;O<rn.length;O++)if(C===rn[O])return O;return null}},{key:"_decodePayload",value:function(C,O,M){for(var R=Ae({},C),z=0,re=0;re<6;re++){if(!(R=this._decodeCode(R.end)))return null;R.code>=10?(R.code-=10,z|=1<<5-re):z|=0<<5-re,O.push(R.code),M.push(R)}var Y=this._calculateFirstDigit(z);if(null===Y)return null;O.unshift(Y);var ae=this._findPattern(Dt,R.end,!0,!1);if(null===ae||!ae.end)return null;M.push(ae);for(var Se=0;Se<6;Se++){if(!(ae=this._decodeCode(ae.end,10)))return null;M.push(ae),O.push(ae.code)}return ae}},{key:"_verifyTrailingWhitespace",value:function(C){var O=C.end+(C.end-C.start);return O<this._row.length&&this._matchRange(C.end,O,0)?C:null}},{key:"_findEnd",value:function(C,O){var M=this._findPattern(this.STOP_PATTERN,C,O,!1);return null!==M?this._verifyTrailingWhitespace(M):null}},{key:"_checksum",value:function(C){for(var O=0,M=C.length-2;M>=0;M-=2)O+=C[M];O*=3;for(var R=C.length-1;R>=0;R-=2)O+=C[R];return O%10==0}},{key:"_decodeExtensions",value:function(C){var O=this._nextSet(this._row,C),M=this._findPattern(ot,O,!1,!1);if(null===M)return null;for(var R=0;R<this.supplements.length;R++)try{var z=this.supplements[R].decode(this._row,M.end);if(null!==z)return{code:z.code,start:O,startInfo:M,end:z.end,decodedCodes:z.decodedCodes,format:this.supplements[R].FORMAT}}catch(re){console.error("* decodeExtensions error in ",this.supplements[R],": ",re)}return null}},{key:"decode",value:function(C,O){var M=new Array,R=new Array,z={},re=this._findStart();if(!re)return null;var Y={start:re.start,end:re.end};if(R.push(Y),!(Y=this._decodePayload(Y,M,R))||!(Y=this._findEnd(Y.end,!1))||(R.push(Y),!this._checksum(M)))return null;if(this.supplements.length>0){var ae=this._decodeExtensions(Y.end);if(!ae||!ae.decodedCodes)return null;var Se=ae.decodedCodes[ae.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:Se.start+((Se.end-Se.start)/2|0),end:Se.end}))return null;z={supplement:ae,code:M.join("")+ae.code}}return Ae(Ae({code:M.join(""),start:re.start,end:Y.end,startInfo:re,decodedCodes:R},z),{},{format:this.FORMAT})}}]),j}(Z);var gt=function(W){Pe()(j,W);var ie=function gn(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","ean_2"),C}return ce()(j,[{key:"decode",value:function(C,O){C&&(this._row=C);var M=0,R=O,z=this._row.length,re=[],Y=[],ae=null;if(void 0===R)return null;for(var Se=0;Se<2&&R<z;Se++){if(!(ae=this._decodeCode(R)))return null;Y.push(ae),re.push(ae.code%10),ae.code>=10&&(M|=1<<1-Se),1!==Se&&(R=this._nextSet(this._row,ae.end),R=this._nextUnset(this._row,R))}if(2!==re.length||parseInt(re.join(""))%4!==M)return null;var F=this._findStart();return{code:re.join(""),decodedCodes:Y,end:ae.end,format:this.FORMAT,startInfo:F,start:F.start}}}]),j}(Ht);var Xt=[24,20,18,17,12,6,3,10,9,5],ln=function(W){Pe()(j,W);var ie=function Gt(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","ean_5"),C}return ce()(j,[{key:"decode",value:function(C,O){if(void 0===O)return null;C&&(this._row=C);for(var M=0,R=O,z=this._row.length,re=null,Y=[],ae=[],Se=0;Se<5&&R<z;Se++){if(!(re=this._decodeCode(R)))return null;ae.push(re),Y.push(re.code%10),re.code>=10&&(M|=1<<4-Se),4!==Se&&(R=this._nextSet(this._row,re.end),R=this._nextUnset(this._row,R))}if(5!==Y.length||function(oe){for(var de=oe.length,je=0,yt=de-2;yt>=0;yt-=2)je+=oe[yt];je*=3;for(var kt=de-1;kt>=0;kt-=2)je+=oe[kt];return(je*=3)%10}(Y)!==function(oe){for(var de=0;de<10;de++)if(oe===Xt[de])return de;return null}(M))return null;var F=this._findStart();return{code:Y.join(""),decodedCodes:ae,end:re.end,format:this.FORMAT,startInfo:F,start:F.start}}}]),j}(Ht);var en=function(W){Pe()(j,W);var ie=function lt(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","ean_8"),C}return ce()(j,[{key:"_decodePayload",value:function(C,O,M){for(var R=C,z=0;z<4;z++){if(!(R=this._decodeCode(R.end,10)))return null;O.push(R.code),M.push(R)}if(null===(R=this._findPattern(Dt,R.end,!0,!1)))return null;M.push(R);for(var re=0;re<4;re++){if(!(R=this._decodeCode(R.end,10)))return null;M.push(R),O.push(R.code)}return R}}]),j}(Ht);var Un=function(W){Pe()(j,W);var ie=function In(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(C){var O;return Be()(this,j),O=ie.call(this,U()({normalizeBarSpaceWidth:!1},C)),Q()(be()(O),"barSpaceRatio",[1,1]),Q()(be()(O),"SINGLE_CODE_ERROR",.78),Q()(be()(O),"AVG_CODE_ERROR",.38),Q()(be()(O),"START_PATTERN",[1,1,1,1]),Q()(be()(O),"STOP_PATTERN",[1,1,3]),Q()(be()(O),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),Q()(be()(O),"MAX_CORRECTION_FACTOR",5),Q()(be()(O),"FORMAT","i2of5"),C.normalizeBarSpaceWidth&&(O.SINGLE_CODE_ERROR=.38,O.AVG_CODE_ERROR=.09),O.config=C,ue()(O,be()(O))}return ce()(j,[{key:"_matchPattern",value:function(C,O){if(this.config.normalizeBarSpaceWidth){for(var M=[0,0],R=[0,0],z=[0,0],re=this.MAX_CORRECTION_FACTOR,Y=1/re,ae=0;ae<C.length;ae++)M[ae%2]+=C[ae],R[ae%2]+=O[ae];z[0]=R[0]/M[0],z[1]=R[1]/M[1],z[0]=Math.max(Math.min(z[0],re),Y),z[1]=Math.max(Math.min(z[1],re),Y),this.barSpaceRatio=z;for(var Se=0;Se<C.length;Se++)C[Se]*=this.barSpaceRatio[Se%2]}return Rn()(De()(j.prototype),"_matchPattern",this).call(this,C,O)}},{key:"_findPattern",value:function(C,O){var M=arguments.length>2&&void 0!==arguments[2]&&arguments[2],R=arguments.length>3&&void 0!==arguments[3]&&arguments[3],z=new Array(C.length).fill(0),re=0,Y={error:Number.MAX_VALUE,start:0,end:0},ae=this.AVG_CODE_ERROR;M=M||!1,R=R||!1,O||(O=this._nextSet(this._row));for(var Se=O;Se<this._row.length;Se++)if(this._row[Se]^(M?1:0))z[re]++;else{if(re===z.length-1){var F=z.reduce(function(je,yt){return je+yt},0),oe=this._matchPattern(z,C);if(oe<ae)return Y.error=oe,Y.start=Se-F,Y.end=Se,Y;if(!R)return null;for(var de=0;de<z.length-2;de++)z[de]=z[de+2];z[z.length-2]=0,z[z.length-1]=0,re--}else re++;z[re]=1,M=!M}return null}},{key:"_findStart",value:function(){for(var C=0,O=this._nextSet(this._row),M=null,R=1;!M;){if(!(M=this._findPattern(this.START_PATTERN,O,!1,!0)))return null;if(R=Math.floor((M.end-M.start)/4),(C=M.start-10*R)>=0&&this._matchRange(C,M.start,0))return M;O=M.end,M=null}return null}},{key:"_verifyTrailingWhitespace",value:function(C){var O=C.end+(C.end-C.start)/2;return O<this._row.length&&this._matchRange(C.end,O,0)?C:null}},{key:"_findEnd",value:function(){this._row.reverse();var C=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===C)return null;var O=C.start;return C.start=this._row.length-C.end,C.end=this._row.length-O,null!==C?this._verifyTrailingWhitespace(C):null}},{key:"_decodePair",value:function(C){for(var O=[],M=0;M<C.length;M++){var R=this._decodeCode(C[M]);if(!R)return null;O.push(R)}return O}},{key:"_decodeCode",value:function(C){for(var O=this.AVG_CODE_ERROR,M={error:Number.MAX_VALUE,code:-1,start:0,end:0},R=0;R<this.CODE_PATTERN.length;R++){var z=this._matchPattern(C,this.CODE_PATTERN[R]);z<M.error&&(M.code=R,M.error=z)}return M.error<O?M:null}},{key:"_decodePayload",value:function(C,O,M){for(var R=0,z=C.length,re=[[0,0,0,0,0],[0,0,0,0,0]],Y=null;R<z;){for(var ae=0;ae<5;ae++)re[0][ae]=C[R]*this.barSpaceRatio[0],re[1][ae]=C[R+1]*this.barSpaceRatio[1],R+=2;if(!(Y=this._decodePair(re)))return null;for(var Se=0;Se<Y.length;Se++)O.push(Y[Se].code+""),M.push(Y[Se])}return Y}},{key:"_verifyCounterLength",value:function(C){return C.length%10==0}},{key:"decode",value:function(C,O){var M=new Array,R=new Array,z=this._findStart();if(!z)return null;R.push(z);var re=this._findEnd();if(!re)return null;var Y=this._fillCounters(z.end,re.start,!1);return this._verifyCounterLength(Y)&&this._decodePayload(Y,M,R)?M.length%2!=0||M.length<6?null:(R.push(re),{code:M.join(""),start:z.start,end:re.end,startInfo:z,decodedCodes:R,format:this.FORMAT}):null}}]),j}(Z);function Pn(W,ie){var j=Object.keys(W);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(W);ie&&(C=C.filter(function(O){return Object.getOwnPropertyDescriptor(W,O).enumerable})),j.push.apply(j,C)}return j}var En=function(W){Pe()(j,W);var ie=function Ut(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),Q()(be()(C),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),Q()(be()(C),"FORMAT","upc_e"),C}return ce()(j,[{key:"_decodePayload",value:function(C,O,M){for(var R=function(Y){for(var ae=1;ae<arguments.length;ae++){var Se=null!=arguments[ae]?arguments[ae]:{};ae%2?Pn(Object(Se),!0).forEach(function(F){Q()(Y,F,Se[F])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Y,Object.getOwnPropertyDescriptors(Se)):Pn(Object(Se)).forEach(function(F){Object.defineProperty(Y,F,Object.getOwnPropertyDescriptor(Se,F))})}return Y}({},C),z=0,re=0;re<6;re++){if(!(R=this._decodeCode(R.end)))return null;R.code>=10&&(R.code=R.code-10,z|=1<<5-re),O.push(R.code),M.push(R)}return this._determineParity(z,O)?R:null}},{key:"_determineParity",value:function(C,O){for(var M=0;M<this.CODE_FREQUENCY.length;M++)for(var R=0;R<this.CODE_FREQUENCY[M].length;R++)if(C===this.CODE_FREQUENCY[M][R])return O.unshift(M),O.push(R),!0;return!1}},{key:"_convertToUPCA",value:function(C){var O=[C[0]],M=C[C.length-2];return(O=M<=2?O.concat(C.slice(1,3)).concat([M,0,0,0,0]).concat(C.slice(3,6)):3===M?O.concat(C.slice(1,4)).concat([0,0,0,0,0]).concat(C.slice(4,6)):4===M?O.concat(C.slice(1,5)).concat([0,0,0,0,0,C[5]]):O.concat(C.slice(1,6)).concat([0,0,0,0,M])).push(C[C.length-1]),O}},{key:"_checksum",value:function(C){return Rn()(De()(j.prototype),"_checksum",this).call(this,this._convertToUPCA(C))}},{key:"_findEnd",value:function(C,O){return Rn()(De()(j.prototype),"_findEnd",this).call(this,C,!0)}},{key:"_verifyTrailingWhitespace",value:function(C){var O=C.end+(C.end-C.start)/2;return O<this._row.length&&this._matchRange(C.end,O,0)?C:null}}]),j}(Ht);var Tn=function(W){Pe()(j,W);var ie=function St(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(){var C;Be()(this,j);for(var O=arguments.length,M=new Array(O),R=0;R<O;R++)M[R]=arguments[R];return C=ie.call.apply(ie,[this].concat(M)),Q()(be()(C),"FORMAT","upc_a"),C}return ce()(j,[{key:"decode",value:function(C,O){var M=Ht.prototype.decode.call(this);return M&&M.code&&13===M.code.length&&"0"===M.code.charAt(0)?(M.code=M.code.substring(1),M):null}}]),j}(Ht),jt={},yr_UP=1,yr_DOWN=-1;jt.getBarcodeLine=function(W,ie,j){var C,O,M,R,z,re=0|ie.x,Y=0|ie.y,ae=0|j.x,Se=0|j.y,F=Math.abs(Se-Y)>Math.abs(ae-re),oe=[],de=W.data,je=W.size.x,yt=255,kt=0;function It(Xn,ii){yt=(z=de[ii*je+Xn])<yt?z:yt,kt=z>kt?z:kt,oe.push(z)}F&&(M=re,re=Y,Y=M,M=ae,ae=Se,Se=M),re>ae&&(M=re,re=ae,ae=M,M=Y,Y=Se,Se=M);var Zt=ae-re,Kt=Math.abs(Se-Y);C=Zt/2|0,O=Y;var $n=Y<Se?1:-1;for(R=re;R<ae;R++)F?It(O,R):It(R,O),(C-=Kt)<0&&(O+=$n,C+=Zt);return{line:oe,min:yt,max:kt}},jt.toBinaryLine=function(W){var ie,j,C,O,M,R,z=W.min,re=W.max,Y=W.line,ae=z+(re-z)/2,Se=[],F=(re-z)/12,oe=-F;for(C=Y[0]>ae?yr_UP:yr_DOWN,Se.push({pos:0,val:Y[0]}),M=0;M<Y.length-2;M++)C!==(O=(ie=Y[M+1]-Y[M])+(j=Y[M+2]-Y[M+1])<oe&&Y[M+1]<1.5*ae?yr_DOWN:ie+j>F&&Y[M+1]>.5*ae?yr_UP:C)&&(Se.push({pos:M,val:Y[M]}),C=O);for(Se.push({pos:Y.length,val:Y[Y.length-1]}),R=Se[0].pos;R<Se[1].pos;R++)Y[R]=Y[R]>ae?0:1;for(M=1;M<Se.length-1;M++)for(F=Se[M+1].val>Se[M].val?Se[M].val+(Se[M+1].val-Se[M].val)/3*2|0:Se[M+1].val+(Se[M].val-Se[M+1].val)/3|0,R=Se[M].pos;R<Se[M+1].pos;R++)Y[R]=Y[R]>F?0:1;return{line:Y,threshold:F}},jt.debug={printFrequency:function(W,ie){var j,C=ie.getContext("2d");for(ie.width=W.length,ie.height=256,C.beginPath(),C.strokeStyle="blue",j=0;j<W.length;j++)C.moveTo(j,255),C.lineTo(j,255-W[j]);C.stroke(),C.closePath()},printPattern:function(W,ie){var j,C=ie.getContext("2d");for(ie.width=W.length,C.fillColor="black",j=0;j<W.length;j++)1===W[j]&&C.fillRect(j,0,1,100)}};var qr=jt;function Dn(W,ie){var j="undefined"!=typeof Symbol&&W[Symbol.iterator]||W["@@iterator"];if(!j){if(Array.isArray(W)||(j=function(re,Y){if(re){if("string"==typeof re)return mn(re,Y);var ae=Object.prototype.toString.call(re).slice(8,-1);if("Object"===ae&&re.constructor&&(ae=re.constructor.name),"Map"===ae||"Set"===ae)return Array.from(re);if("Arguments"===ae||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ae))return mn(re,Y)}}(W))||ie&&W&&"number"==typeof W.length){j&&(W=j);var C=0,O=function(){};return{s:O,n:function(){return C>=W.length?{done:!0}:{done:!1,value:W[C++]}},e:function(re){throw re},f:O}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var M,R=!0,z=!1;return{s:function(){j=j.call(W)},n:function(){var re=j.next();return R=re.done,re},e:function(re){z=!0,M=re},f:function(){try{R||null==j.return||j.return()}finally{if(z)throw M}}}}function mn(W,ie){(null==ie||ie>W.length)&&(ie=W.length);for(var j=0,C=new Array(ie);j<ie;j++)C[j]=W[j];return C}var pr={code_128_reader:Yt,ean_reader:Ht,ean_5_reader:ln,ean_2_reader:gt,ean_8_reader:en,code_39_reader:fi,code_39_vin_reader:Ce,codabar_reader:On,upc_reader:Tn,upc_e_reader:En,i2of5_reader:Un,"2of5_reader":qt,code_93_reader:q,code_32_reader:pi},rr={registerReader:function(W,ie){pr[W]=ie},create:function(W,ie){var C=[];function O(){W.readers.forEach(function(Y){var ae,Se={},F=[];"object"===x()(Y)?(ae=Y.format,Se=Y.config):"string"==typeof Y&&(ae=Y),Se.supplements&&(F=Se.supplements.map(function(de){return new pr[de]}));try{var oe=new pr[ae](Se,F);C.push(oe)}catch(de){throw console.error("* Error constructing reader ",ae,de),de}})}function M(Y){var ae,Se=null,F=qr.getBarcodeLine(ie,Y[0],Y[1]);for(qr.toBinaryLine(F),ae=0;ae<C.length&&null===Se;ae++)Se=C[ae].decodePattern(F.line);return null===Se?null:{codeResult:Se,barcodeLine:F}}function R(Y){return z.apply(this,arguments)}function z(){return(z=he()(ye.a.mark(function Y(ae){var Se,F,oe,de;return ye.a.wrap(function(je){for(;;)switch(je.prev=je.next){case 0:Se=null,F=Dn(C),je.prev=2,F.s();case 4:if((oe=F.n()).done){je.next=14;break}if(!(de=oe.value).decodeImage){je.next=12;break}return je.next=9,de.decodeImage(ae);case 9:if(!(Se=je.sent)){je.next=12;break}return je.abrupt("break",14);case 12:je.next=4;break;case 14:je.next=19;break;case 16:je.prev=16,je.t0=je.catch(2),F.e(je.t0);case 19:return je.prev=19,F.f(),je.finish(19);case 22:return je.abrupt("return",Se);case 23:case"end":return je.stop()}},Y,null,[[2,16,19,22]])}))).apply(this,arguments)}function re(Y){var ae,Se,de,F=function(de){return Math.sqrt(Math.pow(Math.abs(de[1].y-de[0].y),2)+Math.pow(Math.abs(de[1].x-de[0].x),2))}(ae=[{x:((de=Y)[1][0]-de[0][0])/2+de[0][0],y:(de[1][1]-de[0][1])/2+de[0][1]},{x:(de[3][0]-de[2][0])/2+de[2][0],y:(de[3][1]-de[2][1])/2+de[2][1]}]),oe=Math.atan2(ae[1].y-ae[0].y,ae[1].x-ae[0].x);return null===(ae=function(de,je,yt){function kt(It){var Zt=It*Math.sin(je),Kt=It*Math.cos(je);de[0].y-=Zt,de[0].x-=Kt,de[1].y+=Zt,de[1].x+=Kt}for(kt(yt);yt>1&&(!ie.inImageWithBorder(de[0])||!ie.inImageWithBorder(de[1]));)kt(-(yt-=Math.ceil(yt/2)));return de}(ae,oe,Math.floor(.1*F)))?null:(null===(Se=M(ae))&&(Se=function(de,je,yt){var kt,It,Zt,Kt=Math.sqrt(Math.pow(de[1][0]-de[0][0],2)+Math.pow(de[1][1]-de[0][1],2)),$n=null,Xn=Math.sin(yt),ii=Math.cos(yt);for(kt=1;kt<16&&null===$n;kt++)Zt={y:(It=Kt/16*kt*(kt%2==0?-1:1))*Xn,x:It*ii},je[0].y+=Zt.x,je[0].x-=Zt.y,je[1].y+=Zt.x,je[1].x-=Zt.y,$n=M(je);return $n}(Y,ae,oe)),null===Se?null:{codeResult:Se.codeResult,line:ae,angle:oe,pattern:Se.barcodeLine.line,threshold:Se.barcodeLine.threshold})}return O(),{decodeFromBoundingBox:function(Y){return re(Y)},decodeFromBoundingBoxes:function(Y){var ae,Se,F=[],oe=W.multiple;for(ae=0;ae<Y.length;ae++){var de=Y[ae];if((Se=re(de)||{}).box=de,oe)F.push(Se);else if(Se.codeResult)return Se}return{barcodes:F}},decodeFromImage:function(Y){return he()(ye.a.mark(function ae(){return ye.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,R(Y);case 2:return F.abrupt("return",F.sent);case 4:case"end":return F.stop()}},ae)}))()},registerReader:function(Y,ae){if(pr[Y])throw new Error("cannot register existing reader",Y);pr[Y]=ae},setReaders:function(Y){W.readers=Y,C.length=0,O()}}}},jn=function(){var W={};function ie(O){return W[O]||(W[O]={subscribers:[]}),W[O]}function j(O,M){O.async?setTimeout(function(){O.callback(M)},4):O.callback(M)}function C(O,M,R){var z;if("function"==typeof M)z={callback:M,async:R};else if(!(z=M).callback)throw new Error("Callback was not specified on options");ie(O).subscribers.push(z)}return{subscribe:function(O,M,R){return C(O,M,R)},publish:function(O,M){var R=ie(O),z=R.subscribers;z.filter(function(re){return!!re.once}).forEach(function(re){j(re,M)}),R.subscribers=z.filter(function(re){return!re.once}),R.subscribers.forEach(function(re){j(re,M)})},once:function(O,M){C(O,{callback:M,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(O,M){if(O){var R=ie(O);R.subscribers=R&&M?R.subscribers.filter(function(z){return z.callback!==M}):[]}else W={}}}}(),bn=f(85),Rt=f.n(bn),ve=f(86);var Ct,wt=function(W){Pe()(j,W);var ie=function Me(W){var ie=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(j){return!1}}();return function(){var j,C=De()(W);if(ie){var O=De()(this).constructor;j=Reflect.construct(C,arguments,O)}else j=C.apply(this,arguments);return ue()(this,j)}}(j);function j(C,O){var M;return Be()(this,j),M=ie.call(this,C),Q()(be()(M),"code",void 0),M.code=O,Object.setPrototypeOf(be()(M),j.prototype),M}return ce()(j)}(f.n(ve)()(Error)),Ft="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function at(){try{return navigator.mediaDevices.enumerateDevices()}catch(ie){var W=new wt("enumerateDevices is not defined. ".concat(Ft),-1);return Promise.reject(W)}}function dt(W){try{return navigator.mediaDevices.getUserMedia(W)}catch(j){var ie=new wt("getUserMedia is not defined. ".concat(Ft),-1);return Promise.reject(ie)}}function He(W){return new Promise(function(ie,j){var C=10;!function O(){C>0?W.videoWidth>10&&W.videoHeight>10?ie():window.setTimeout(O,500):j(new wt("Unable to play video stream. Is webcam working?",-1)),C--}()})}function ht(W,ie){return bt.apply(this,arguments)}function bt(){return(bt=he()(ye.a.mark(function W(ie,j){var C;return ye.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,dt(j);case 2:if(Ct=C=O.sent,!ie){O.next=11;break}return ie.setAttribute("autoplay","true"),ie.setAttribute("muted","true"),ie.setAttribute("playsinline","true"),ie.srcObject=C,ie.addEventListener("loadedmetadata",function(){ie.play()}),O.abrupt("return",He(ie));case 11:return O.abrupt("return",Promise.resolve());case 12:case"end":return O.stop()}},W)}))).apply(this,arguments)}function un(W){var ie=Rt()(W,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==W.minAspectRatio&&W.minAspectRatio>0&&(ie.aspectRatio=W.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==W.facing&&(ie.facingMode=W.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),ie}function vt(){var ie=un(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return ie&&ie.deviceId&&ie.facingMode&&delete ie.facingMode,Promise.resolve({audio:!1,video:ie})}function $e(){return($e=he()(ye.a.mark(function W(){return ye.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,at();case 2:return j.abrupt("return",j.sent.filter(function(C){return"videoinput"===C.kind}));case 4:case"end":return j.stop()}},W)}))).apply(this,arguments)}function mt(){if(!Ct)return null;var W=Ct.getVideoTracks();return W&&null!=W&&W.length?W[0]:null}var _t={requestedVideoElement:null,request:function(W,ie){return he()(ye.a.mark(function j(){return ye.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return _t.requestedVideoElement=W,O.next=3,vt(ie);case 3:return O.abrupt("return",ht(W,O.sent));case 5:case"end":return O.stop()}},j)}))()},release:function(){var W=Ct&&Ct.getVideoTracks();return null!==_t.requestedVideoElement&&_t.requestedVideoElement.pause(),new Promise(function(ie){setTimeout(function(){W&&W.length&&W[0].stop(),Ct=null,_t.requestedVideoElement=null,ie()},0)})},enumerateVideoDevices:function(){return $e.apply(this,arguments)},getActiveStreamLabel:function(){var W=mt();return W?W.label:""},getActiveTrack:mt},dn=_t,Mn={create:function(W){var ie,j=document.createElement("canvas"),C=j.getContext("2d"),O=[],M=null!==(ie=W.capacity)&&void 0!==ie?ie:20,R=!0===W.capture;return{addResult:function(re,Y,ae){var Se={};(function z(re){return!!M&&re&&(Y=re,!((ae=W.blacklist)&&ae.some(function(Se){return Object.keys(Se).every(function(F){return Se[F]===Y[F]})})))&&function(Y,ae){return"function"!=typeof ae||ae(Y)}(re,W.filter);var Y,ae})(ae)&&(M--,Se.codeResult=ae,R&&(j.width=Y.x,j.height=Y.y,Ve.a.drawImage(re,Y,C),Se.frame=j.toDataURL()),O.push(Se))},getResults:function(){return O}}}},Zn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Ln=f(7),Nn=ce()(function W(){Be()(this,W),Q()(this,"config",void 0),Q()(this,"inputStream",void 0),Q()(this,"framegrabber",void 0),Q()(this,"inputImageWrapper",void 0),Q()(this,"stopped",!1),Q()(this,"boxSize",void 0),Q()(this,"resultCollector",void 0),Q()(this,"decoder",void 0),Q()(this,"workerPool",[]),Q()(this,"onUIThread",!0),Q()(this,"canvasContainer",new Qn)}),Di=ce()(function W(){Be()(this,W),Q()(this,"image",void 0),Q()(this,"overlay",void 0)}),Qn=ce()(function W(){Be()(this,W),Q()(this,"ctx",void 0),Q()(this,"dom",void 0),this.ctx=new Di,this.dom=new Di}),Jt=f(23);function Vi(W){return"undefined"==typeof document?null:W instanceof HTMLElement&&W.nodeName&&1===W.nodeType?W:document.querySelector("string"==typeof W?W:"#interactive.viewport")}function ri(W,ie){var M,R,j=(M=ie,(R=document.querySelector(W))||((R=document.createElement("canvas")).className=M),R),C=j.getContext("2d");return{canvas:j,context:C}}var Mr={274:"orientation"},gr=Object.keys(Mr).map(function(W){return Mr[W]});function gi(W){return new Promise(function(ie){var j=new FileReader;j.onload=function(C){return ie(C.target.result)},j.readAsArrayBuffer(W)})}function Nr(W){return new Promise(function(ie,j){var C=new XMLHttpRequest;C.open("GET",W,!0),C.responseType="blob",C.onreadystatechange=function(){C.readyState!==XMLHttpRequest.DONE||200!==C.status&&0!==C.status||ie(this.response)},C.onerror=j,C.send()})}function ir(W){var ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr,j=new DataView(W),C=W.byteLength,O=ie.reduce(function(R,z){var re=Object.keys(Mr).filter(function(Y){return Mr[Y]===z})[0];return re&&(R[re]=z),R},{}),M=2;if(255!==j.getUint8(0)||216!==j.getUint8(1))return!1;for(;M<C;){if(255!==j.getUint8(M))return!1;if(225===j.getUint8(M+1))return Sn(j,M+4,O);M+=2+j.getUint16(M+2)}return!1}function Sn(W,ie,j){if("Exif"!==function(R,z,re){for(var Y="",ae=z;ae<z+4;ae++)Y+=String.fromCharCode(R.getUint8(ae));return Y}(W,ie))return!1;var C,O=ie+6;if(18761===W.getUint16(O))C=!1;else{if(19789!==W.getUint16(O))return!1;C=!0}if(42!==W.getUint16(O+2,!C))return!1;var M=W.getUint32(O+4,!C);return!(M<8)&&function(R,z,re,Y,ae){for(var Se=R.getUint16(re,!ae),F={},oe=0;oe<Se;oe++){var de=re+12*oe+2,je=Y[R.getUint16(de,!ae)];je&&(F[je]=qs(R,de,0,0,ae))}return F}(W,0,O+M,j,C)}function qs(W,ie,j,C,O){var M=W.getUint16(ie+2,!O),R=W.getUint32(ie+4,!O);return 3===M&&1===R?W.getUint16(ie+8,!O):null}var Po={};function mi(W,ie){W.onload=function(){ie.loaded(this)}}Po.load=function(W,ie,j,C,O){var M,R,z,re=new Array(C),Y=new Array(re.length);if(!1===O)re[0]=W;else for(M=0;M<re.length;M++)z=j+M,re[M]="".concat(W,"image-").concat("00".concat(z).slice(-3),".jpg");for(Y.notLoaded=[],Y.addImage=function(ae){Y.notLoaded.push(ae)},Y.loaded=function(ae){for(var Se=Y.notLoaded,F=0;F<Se.length;F++)if(Se[F]===ae){Se.splice(F,1);for(var oe=0;oe<re.length;oe++){var de=re[oe].substr(re[oe].lastIndexOf("/"));if(-1!==ae.src.lastIndexOf(de)){Y[oe]={img:ae};break}}break}0===Se.length&&(!1===O?function(je){var yt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gr;return/^blob:/i.test(je)?Nr(je).then(gi).then(function(kt){return ir(kt,yt)}):Promise.resolve(null)}(W,["orientation"]).then(function(je){Y[0].tags=je,ie(Y)}).catch(function(je){console.log(je),ie(Y)}):ie(Y))},M=0;M<re.length;M++)R=new Image,Y.addImage(R),mi(R,Y),R.src=re[M]};var Wr=Po,Mo={createVideoStream:function(W){var ie,j,C=null,O=["canrecord","ended"],M={},R={x:0,y:0,type:"Point"},z={x:0,y:0,type:"XYSize"},re={getRealWidth:function(){return W.videoWidth},getRealHeight:function(){return W.videoHeight},getWidth:function(){return ie},getHeight:function(){return j},setWidth:function(Y){ie=Y},setHeight:function(Y){j=Y},setInputStream:function(Y){C=Y,this.setAttribute("src",void 0!==Y.src?Y.src:"")},ended:function(){return W.ended},getConfig:function(){return C},setAttribute:function(Y,ae){W&&W.setAttribute(Y,ae)},pause:function(){W.pause()},play:function(){W.play()},setCurrentTime:function(Y){var ae;"LiveStream"!==(null===(ae=C)||void 0===ae?void 0:ae.type)&&this.setAttribute("currentTime",Y.toString())},addEventListener:function(Y,ae,Se){-1!==O.indexOf(Y)?(M[Y]||(M[Y]=[]),M[Y].push(ae)):W.addEventListener(Y,ae,Se)},clearEventHandlers:function(){O.forEach(function(Y){var ae=M[Y];ae&&ae.length>0&&ae.forEach(function(Se){W.removeEventListener(Y,Se)})})},trigger:function(Y,ae){var Se,F,oe,de,je,yt=M[Y];if("canrecord"===Y&&(de=W.videoWidth,je=W.videoHeight,ie=null!==(F=C)&&void 0!==F&&F.size?de/je>1?C.size:Math.floor(de/je*C.size):de,j=null!==(oe=C)&&void 0!==oe&&oe.size?de/je>1?Math.floor(je/de*C.size):C.size:je,z.x=ie,z.y=j),yt&&yt.length>0)for(Se=0;Se<yt.length;Se++)yt[Se].apply(re,ae)},setTopRight:function(Y){R.x=Y.x,R.y=Y.y},getTopRight:function(){return R},setCanvasSize:function(Y){z.x=Y.x,z.y=Y.y},getCanvasSize:function(){return z},getFrame:function(){return W}};return re},createLiveStream:function(W){W&&W.setAttribute("autoplay","true");var ie=Mo.createVideoStream(W);return ie.ended=function(){return!1},ie},createImageStream:function(){var W,ie,j=null,C=0,O=0,M=0,R=!0,z=!1,re=null,Y=0,ae=null,Se=!1,F=["canrecord","ended"],oe={},de={x:0,y:0,type:"Point"},je={x:0,y:0,type:"XYSize"};function yt(It,Zt){var Kt,$n=oe[It];if($n&&$n.length>0)for(Kt=0;Kt<$n.length;Kt++)$n[Kt].apply(kt,Zt)}var kt={trigger:yt,getWidth:function(){return W},getHeight:function(){return ie},setWidth:function(It){W=It},setHeight:function(It){ie=It},getRealWidth:function(){return C},getRealHeight:function(){return O},setInputStream:function(It){var Zt;!1===It.sequence?(ae=It.src,Y=1):(ae=It.src,Y=It.length),z=!1,Wr.load(ae,function(Kt){var $n,Xn;if(re=Kt,Kt[0].tags&&Kt[0].tags.orientation)switch(Kt[0].tags.orientation){case 6:case 8:C=Kt[0].img.height,O=Kt[0].img.width;break;default:C=Kt[0].img.width,O=Kt[0].img.height}else C=Kt[0].img.width,O=Kt[0].img.height;W=null!==($n=j)&&void 0!==$n&&$n.size?C/O>1?j.size:Math.floor(C/O*j.size):C,ie=null!==(Xn=j)&&void 0!==Xn&&Xn.size?C/O>1?Math.floor(O/C*j.size):j.size:O,je.x=W,je.y=ie,z=!0,M=0,setTimeout(function(){yt("canrecord",[])},0)},1,Y,null===(Zt=j=It)||void 0===Zt?void 0:Zt.sequence)},ended:function(){return Se},setAttribute:function(){},getConfig:function(){return j},pause:function(){R=!0},play:function(){R=!1},setCurrentTime:function(It){M=It},addEventListener:function(It,Zt){-1!==F.indexOf(It)&&(oe[It]||(oe[It]=[]),oe[It].push(Zt))},clearEventHandlers:function(){Object.keys(oe).forEach(function(It){return delete oe[It]})},setTopRight:function(It){de.x=It.x,de.y=It.y},getTopRight:function(){return de},setCanvasSize:function(It){je.x=It.x,je.y=It.y},getCanvasSize:function(){return je},getFrame:function(){var It,Zt;return z?(R||(It=null===(Zt=re)||void 0===Zt?void 0:Zt[M],M<Y-1?M++:setTimeout(function(){Se=!0,yt("ended",[])},0)),It):null}};return kt}},gs=Mo,Tr=f(10),jr=Math.PI/180,ga={create:function(W,ie){var j,C={},O=W.getConfig(),M=(Object(Tr.h)(W.getRealWidth(),W.getRealHeight()),W.getCanvasSize()),R=Object(Tr.h)(W.getWidth(),W.getHeight()),z=W.getTopRight(),re=z.x,Y=z.y,ae=null,Se=null;return(j=ie||document.createElement("canvas")).width=M.x,j.height=M.y,ae=j.getContext("2d"),Se=new Uint8Array(R.x*R.y),C.attachData=function(F){Se=F},C.getData=function(){return Se},C.grab=function(){var F,kt,It,oe=O.halfSample,de=W.getFrame(),je=de,yt=0;if(je){if((kt=j).width!==(It=M).x&&(kt.width=It.x),kt.height!==It.y&&(kt.height=It.y),"ImageStream"===O.type&&(je=de.img,de.tags&&de.tags.orientation))switch(de.tags.orientation){case 6:yt=90*jr;break;case 8:yt=-90*jr}return 0!==yt?(ae.translate(M.x/2,M.y/2),ae.rotate(yt),ae.drawImage(je,-M.y/2,-M.x/2,M.y,M.x),ae.rotate(-yt),ae.translate(-M.x/2,-M.y/2)):ae.drawImage(je,0,0,M.x,M.y),F=ae.getImageData(re,Y,R.x,R.y).data,oe?Object(Tr.e)(F,R,Se):Object(Tr.c)(F,Se,O),!0}return!1},C.getSize=function(){return R},C}},ma=ga;function Ws(W,ie){var j=Object.keys(W);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(W);ie&&(C=C.filter(function(O){return Object.getOwnPropertyDescriptor(W,O).enumerable})),j.push.apply(j,C)}return j}function io(W){for(var ie=1;ie<arguments.length;ie++){var j=null!=arguments[ie]?arguments[ie]:{};ie%2?Ws(Object(j),!0).forEach(function(C){Q()(W,C,j[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(j)):Ws(Object(j)).forEach(function(C){Object.defineProperty(W,C,Object.getOwnPropertyDescriptor(j,C))})}return W}var Si=[];function za(W){return io(io({},W),{},{inputStream:io(io({},W.inputStream),{},{target:null})})}function Za(W){if(W){var ie=W().default;if(!ie)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var j;function C(M){self.postMessage({event:"processed",imageData:j.data,result:M},[j.data.buffer])}function O(){self.postMessage({event:"initialized",imageData:j.data},[j.data.buffer])}self.onmessage=function(M){if("init"===M.data.cmd){var R=M.data.config;R.numOfWorkers=0,j=new ie.ImageWrapper({x:M.data.size.x,y:M.data.size.y},new Uint8Array(M.data.imageData)),ie.init(R,O,j),ie.onProcessed(C)}else"process"===M.data.cmd?(j.data=new Uint8Array(M.data.imageData),ie.start()):"setReaders"===M.data.cmd?ie.setReaders(M.data.readers):"registerReader"===M.data.cmd&&ie.registerReader(M.data.name,M.data.reader)}}function Zo(W,ie,j){var C,O,M=("undefined"!=typeof __factorySource__&&(O=__factorySource__),C=new Blob(["("+Za.toString()+")("+O+");"],{type:"text/javascript"}),window.URL.createObjectURL(C)),R={worker:new Worker(M),imageData:new Uint8Array(ie.getWidth()*ie.getHeight()),busy:!0};R.worker.onmessage=function(z){"initialized"===z.data.event?(URL.revokeObjectURL(M),R.busy=!1,R.imageData=new Uint8Array(z.data.imageData),j(R)):"processed"===z.data.event&&(R.imageData=new Uint8Array(z.data.imageData),R.busy=!1)},R.worker.postMessage({cmd:"init",size:{x:ie.getWidth(),y:ie.getHeight()},imageData:R.imageData,config:za(W)},[R.imageData.buffer])}function No(W,ie,j,C){var O=W-Si.length;if(0===O&&C)C();else if(O<0)Si.slice(O).forEach(function(z){z.worker.terminate()}),Si=Si.slice(0,O),C&&C();else{var M=function(z){Si.push(z),Si.length>=W&&C&&C()};if(ie)for(var R=0;R<O;R++)Zo(ie,j,M)}}function Ko(W,ie,j){for(var C=W.length;C--;)W[C][0]+=ie,W[C][1]+=j}var ms=function(){function W(){var C=this;Be()(this,W),Q()(this,"context",new Nn),Q()(this,"canRecord",function(O){var M;C.context.config&&(Jt.a.checkImageConstraints(C.context.inputStream,null===(M=C.context.config)||void 0===M?void 0:M.locator),C.initCanvas(),C.context.framegrabber=ma.create(C.context.inputStream,C.context.canvasContainer.dom.image),void 0===C.context.config.numOfWorkers&&(C.context.config.numOfWorkers=0),No(C.context.config.numOfWorkers,C.context.config,C.context.inputStream,function(){var R;0===(null===(R=C.context.config)||void 0===R?void 0:R.numOfWorkers)&&C.initializeData(),C.ready(O)}))}),Q()(this,"update",function(){if(C.context.onUIThread){var O,M=(z=C.context.framegrabber,Si.length?!!(re=Si.filter(function(Y){return!Y.busy})[0])&&(z.attachData(re.imageData),z.grab()&&(re.busy=!0,re.worker.postMessage({cmd:"process",imageData:re.imageData},[re.imageData.buffer])),!0):null);M||(C.context.framegrabber.attachData(null===(O=C.context.inputImageWrapper)||void 0===O?void 0:O.data),C.context.framegrabber.grab()&&(M||C.locateAndDecode()))}else{var R;C.context.framegrabber.attachData(null===(R=C.context.inputImageWrapper)||void 0===R?void 0:R.data),C.context.framegrabber.grab(),C.locateAndDecode()}var z,re})}var ie,j;return ce()(W,[{key:"initBuffers",value:function(C){if(this.context.config){var O=(z=this.context.inputStream,Y=this.context.config.locator,ae=C||new ee.a({x:z.getWidth(),y:z.getHeight(),type:"XYSize"}),Se=[Object(Ln.clone)([0,0]),Object(Ln.clone)([0,ae.size.y]),Object(Ln.clone)([ae.size.x,ae.size.y]),Object(Ln.clone)([ae.size.x,0])],Jt.a.init(ae,Y),{inputImageWrapper:ae,boxSize:Se}),R=O.boxSize;this.context.inputImageWrapper=O.inputImageWrapper,this.context.boxSize=R}var z,Y,ae,Se}},{key:"initializeData",value:function(C){this.context.config&&(this.initBuffers(C),this.context.decoder=rr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Vi(this.context.config.inputStream.target):null}},{key:"ready",value:function(C){this.context.inputStream.play(),C()}},{key:"initCanvas",value:function(){var C=function ro(W){var ie,j,C,O,M=Vi(null==W||null===(ie=W.config)||void 0===ie||null===(j=ie.inputStream)||void 0===j?void 0:j.target),R=null==W||null===(C=W.config)||void 0===C||null===(O=C.inputStream)||void 0===O?void 0:O.type;if(!R)return null;var z=function(Y){if("undefined"!=typeof document){var ae=ri("canvas.imgBuffer","imgBuffer"),Se=ri("canvas.drawingBuffer","drawingBuffer");return ae.canvas.width=Se.canvas.width=Y.x,ae.canvas.height=Se.canvas.height=Y.y,{dom:{image:ae.canvas,overlay:Se.canvas},ctx:{image:ae.context,overlay:Se.context}}}return null}(W.inputStream.getCanvasSize());if(!z)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var re=z.dom;return"undefined"!=typeof document&&M&&("ImageStream"!==R||M.contains(re.image)||M.appendChild(re.image),M.contains(re.overlay)||M.appendChild(re.overlay)),z}(this.context);if(C){var O=C.ctx,M=C.dom;this.context.canvasContainer.dom.image=M.image,this.context.canvasContainer.dom.overlay=M.overlay,this.context.canvasContainer.ctx.image=O.image,this.context.canvasContainer.ctx.overlay=O.overlay}}},{key:"initInputStream",value:function(C){if(this.context.config&&this.context.config.inputStream){var O=this.context.config.inputStream,M=O.type,R=O.constraints,z=function(){var ae=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",Se=arguments.length>1?arguments[1]:void 0,F=arguments.length>2?arguments[2]:void 0;switch(ae){case"VideoStream":var oe=document.createElement("video");return{video:oe,inputStream:F.createVideoStream(oe)};case"ImageStream":return{inputStream:F.createImageStream()};case"LiveStream":var de=null;return Se&&((de=Se.querySelector("video"))||(de=document.createElement("video"),Se.appendChild(de))),{video:de,inputStream:F.createLiveStream(de)};default:return console.error("* setupInputStream invalid type ".concat(ae)),{video:null,inputStream:null}}}(M,this.getViewPort(),gs),re=z.video,Y=z.inputStream;"LiveStream"===M&&re&&dn.request(re,R).then(function(){return Y.trigger("canrecord")}).catch(function(ae){return C(ae)}),Y.setAttribute("preload","auto"),Y.setInputStream(this.context.config.inputStream),Y.addEventListener("canrecord",this.canRecord.bind(void 0,C)),this.context.inputStream=Y}}},{key:"getBoundingBoxes",value:function(){var C;return null!==(C=this.context.config)&&void 0!==C&&C.locate?Jt.a.locate():[[Object(Ln.clone)(this.context.boxSize[0]),Object(Ln.clone)(this.context.boxSize[1]),Object(Ln.clone)(this.context.boxSize[2]),Object(Ln.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(C){var Y,ae,Se,O=this,M=this.context.inputStream.getTopRight(),R=M.x,z=M.y;if((0!==R||0!==z)&&(C.barcodes&&C.barcodes.forEach(function(Y){return O.transformResult(Y)}),C.line&&2===C.line.length&&(Se=z,(Y=C.line)[0].x+=ae=R,Y[0].y+=Se,Y[1].x+=ae,Y[1].y+=Se),C.box&&Ko(C.box,R,z),C.boxes&&C.boxes.length>0))for(var re=0;re<C.boxes.length;re++)Ko(C.boxes[re],R,z)}},{key:"addResult",value:function(C,O){var M=this;O&&this.context.resultCollector&&(C.barcodes?C.barcodes.filter(function(R){return R.codeResult}).forEach(function(R){return M.addResult(R,O)}):C.codeResult&&this.context.resultCollector.addResult(O,this.context.inputStream.getCanvasSize(),C.codeResult))}},{key:"hasCodeResult",value:function(C){return!(!C||!(C.barcodes?C.barcodes.some(function(O){return O.codeResult}):C.codeResult))}},{key:"publishResult",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,O=arguments.length>1?arguments[1]:void 0,M=C;C&&this.context.onUIThread&&(this.transformResult(C),this.addResult(C,O),M=C.barcodes||C),jn.publish("processed",M),this.hasCodeResult(C)&&jn.publish("detected",M)}},{key:"locateAndDecode",value:(j=he()(ye.a.mark(function C(){var O,M,R,z,re;return ye.a.wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:if(!(O=this.getBoundingBoxes())){Y.next=12;break}return Y.next=4,this.context.decoder.decodeFromBoundingBoxes(O);case 4:if(Y.t0=Y.sent,Y.t0){Y.next=7;break}Y.t0={};case 7:(R=Y.t0).boxes=O,this.publishResult(R,null===(M=this.context.inputImageWrapper)||void 0===M?void 0:M.data),Y.next=16;break;case 12:return Y.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(z=Y.sent)?this.publishResult(z,null===(re=this.context.inputImageWrapper)||void 0===re?void 0:re.data):this.publishResult();case 16:case"end":return Y.stop()}},C,this)})),function(){return j.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var C,O=this,M=null,R=1e3/((null===(C=this.context.config)||void 0===C?void 0:C.frequency)||60);this.context.stopped=!1;var z=this.context;!function re(Y){M=M||Y,z.stopped||(Y>=M&&(M+=R,O.update()),window.requestAnimationFrame(re))}(performance.now())}},{key:"start",value:function(){var C,O;this.context.onUIThread&&"LiveStream"===(null===(C=this.context.config)||void 0===C||null===(O=C.inputStream)||void 0===O?void 0:O.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(ie=he()(ye.a.mark(function C(){var O;return ye.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(this.context.stopped=!0,No(0),null===(O=this.context.config)||void 0===O||!O.inputStream||"LiveStream"!==this.context.config.inputStream.type){M.next=6;break}return M.next=5,dn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return M.stop()}},C,this)})),function(){return ie.apply(this,arguments)})},{key:"setReaders",value:function(C){var O;this.context.decoder&&this.context.decoder.setReaders(C),O=C,Si.forEach(function(M){return M.worker.postMessage({cmd:"setReaders",readers:O})})}},{key:"registerReader",value:function(C,O){var M,R;rr.registerReader(C,O),this.context.decoder&&this.context.decoder.registerReader(C,O),M=C,R=O,Si.forEach(function(z){return z.worker.postMessage({cmd:"registerReader",name:M,reader:R})})}}]),W}(),Ro=new ms,xi=Ro.context,Er={init:function(W,ie,j){var C,O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ro;return ie||(C=new Promise(function(M,R){ie=function(z){z?R(z):M()}})),O.context.config=U()({},Zn,W),O.context.config.numOfWorkers>0&&(O.context.config.numOfWorkers=0),j?(O.context.onUIThread=!1,O.initializeData(j),ie&&ie()):O.initInputStream(ie),C},start:function(){return Ro.start()},stop:function(){return Ro.stop()},pause:function(){xi.stopped=!0},onDetected:function(W){W&&("function"==typeof W||"object"===x()(W)&&W.callback)?jn.subscribe("detected",W):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(W){jn.unsubscribe("detected",W)},onProcessed:function(W){W&&("function"==typeof W||"object"===x()(W)&&W.callback)?jn.subscribe("processed",W):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(W){jn.unsubscribe("processed",W)},setReaders:function(W){W?Ro.setReaders(W):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(W,ie){W?ie?Ro.registerReader(W,ie):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(W){W&&"function"==typeof W.addResult&&(xi.resultCollector=W)},get canvas(){return xi.canvasContainer},decodeSingle:function(W,ie){var j=this,C=new ms;return(W=U()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:W.src},numOfWorkers:1,locator:{halfSample:!1}},W)).numOfWorkers>0&&(W.numOfWorkers=0),W.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),W.numOfWorkers=0),new Promise(function(O,M){try{j.init(W,function(){jn.once("processed",function(R){C.stop(),ie&&ie.call(null,R),O(R)},!0),C.start()},null,C)}catch(R){M(R)}})},get default(){return Er},Readers:i,CameraAccess:dn,ImageDebug:Ve.a,ImageWrapper:ee.a,ResultCollector:Mn};w.default=Er}]).default},2940:(le,v,w)=>{"use strict";w.d(v,{T:()=>f});const f="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(le,v,w)=>{"use strict";w.d(v,{X:()=>f});const f=[{barcode:"8717700002402",brand:"7 Up",name:"7 Up sin az\xfacar, 2L",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1},{barcode:"8410179010014",brand:"Borges",name:"Aceite de oliva suave",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",favourite:!1},{barcode:"8410179202006",brand:"Borges",name:"Aceite refinado de girasol botella 1 l",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",favourite:!1},{barcode:"8480000163141",brand:"Marca desconeguda",favourite:!1,name:"Acelgas",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8480017574657",brand:"Dia",favourite:!1,name:"Acelgas categor\xeda extra",imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{barcode:"8410128000400",brand:"Bezoya",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",favourite:!1},{barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",favourite:!1},{barcode:"8410128160074",brand:"Bezoya",favourite:!1,name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8411002101701",brand:"Viladrau",name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",favourite:!1},{barcode:"8410569615614",brand:"Amstel",name:"Amstel Radler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg"},{barcode:"8410337219082",brand:"An\xeds del Mono",name:"An\xeds dulce",imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1},{barcode:"8480000325242",brand:"Hacendado",name:"Aroma de Vainilla",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",favourite:!1},{barcode:"8410184013086",brand:"Brillante",name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg"},{barcode:"8410448000913",brand:"Schara",favourite:!1,name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{barcode:"8431707094290",brand:"Granini",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg"},{barcode:"8436033878095",brand:"guest",favourite:!1,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8480000180926",brand:"Hacendado",favourite:!1,name:"At\xfan en aceite de girasol",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8410714107735",brand:"Azucarera",name:"Azucarera Sucre Glace 500G",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",favourite:!1},{barcode:"8436540562050",brand:"Espiga Blanca",name:"Bastones de cristal",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",favourite:!1},{barcode:"8076800195132",brand:"Barilla",name:"Bavette n.13",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg"},{barcode:"8423352861402",brand:"ALITEY",name:"Bebida de avena",imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1},{barcode:"8436551865355",brand:"Ametller Origen",name:"Beguda vegetal d'arr\xf2s",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg"},{barcode:"8480017175397",brand:"Dia",name:"Bicarbonato s\xf3dico",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg"},{barcode:"5410126716016",brand:"Lotus",favourite:!1,name:"Biscoff",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg"},{barcode:"8410179202020",brand:"Borges",name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",favourite:!1},{barcode:"8015100563067",brand:"Henkel",name:"Bref power active, alpine",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8422410473878",brand:"Bonpreu",favourite:!1,name:"Brots de Ruca",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg"},{barcode:"8410148509327",brand:"Borges",favourite:!1,name:"Cacahuete frito",imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8480000341778",brand:"Hacendado",name:"Canela Molida",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",favourite:!1},{barcode:"8410721000180",brand:"Dani",name:"Canela molida",imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",favourite:!1},{barcode:"8480000064974",brand:"Hacendado",name:"Cannelloni tubos precocidos",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",favourite:!1},{barcode:"8480000136343",brand:"Hacendado",favourite:!1,name:"Capsula cafe classic",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8412945008508",brand:"Espiga Blanca",name:"Cebolla frita",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg"},{barcode:"8410706000266",brand:"Recondo",name:"Chapata",imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",favourite:!1},{barcode:"80177616",brand:"Kinder,Ferrero",name:"Chocolate bars x 8",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1},{barcode:"7613035268388",brand:"Nestl\xe9",favourite:!1,name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg"},{barcode:"8436554524570",brand:"Ametller origen",name:"Crema ceba i formatge",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",favourite:!1},{barcode:"8422410809851",brand:"Bonpreu",name:"Crema de Aceite Balsamico de Modena",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1},{barcode:"8436583955093",brand:"Novell",name:"C\xe0psules de caf\xe9 intens 16u.",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000325273",brand:"Hacendado",name:"Decoraciones",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",favourite:!1},{barcode:"5054563101648",brand:"Sensodyne",name:"Dent\xedfrico blanqueante, 100ml",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8410022115255",brand:"Marca desconeguda",favourite:!1,name:"Donettes",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg"},{barcode:"5900685007910",brand:"Seagram's",name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",favourite:!1},{barcode:"7613036569927",brand:"Nestl\xe9",favourite:!1,name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg"},{barcode:"8436583952054",brand:"Ametller origen",name:"Emmental",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg"},{barcode:"3560070119851",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8414516070167",brand:"Florette",favourite:!1,name:"Ensalada mixta",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg"},{barcode:"8436551862880",brand:"Ametller Origen",favourite:!1,name:"Espaguetis a la Carbornara",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg"},{barcode:"7613035260924",brand:"Nescafe",name:"Espresso intenso descafeinado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg"},{barcode:"8410564002204",brand:"Frit Ravich",favourite:!1,name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg"},{barcode:"8422410040872",brand:"Bonpreu",favourite:!1,name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg"},{barcode:"8076808060654",brand:"Barilla",favourite:!1,name:"Farfalle",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"3057068056781",brand:"OCB",name:"Filtros slim, 150 u.",imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",favourite:!1},{barcode:"8410739033002",brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",favourite:!1},{barcode:"8410055033014",brand:"Danone",name:"Font Vella",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg"},{barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo",imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",favourite:!1},{barcode:"8076802085981",brand:"Barilla",favourite:!1,name:"Fusilli",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8437019000004",brand:"Carolina",name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",favourite:!1},{barcode:"8422410177851",brand:"Bonpreu",name:"Garbanzos cocidos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg"},{barcode:"8420309210115",brand:"Pe\xf1a Torcal",favourite:!1,name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410387915",brand:"Bonpreu",favourite:!1,name:"Hamburguesa de l'era",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg"},{barcode:"8410564016157",brand:"Frit Ravich",name:"Higos secos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg"},{barcode:"8410091104488",brand:"Hornimans",name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",favourite:!1},{barcode:"8436554522279",brand:"Ametller origen",favourite:!1,name:"Iogurt cremos macedonia",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg"},{barcode:"8437011969217",brand:"Ametller Origen",favourite:!1,name:"Iogurt cremoso amb maduixa",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg"},{barcode:"8001841624143",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"3560071152413",brand:"Carrefour",name:"Jumbo Roll, Papel rollo multiusos",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"4008400203829",brand:"Kinder,Ferrero",favourite:!0,name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg"},{barcode:"8410135001322",brand:"Ato",name:"Leche",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg"},{barcode:"8431876005912",brand:"Carrefour",favourite:!1,name:"Lenteja a la riojana",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8426765495240",brand:"HC Premium",name:"Lentejas pardinas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg"},{barcode:"8435041321364",brand:"Nature Essential",name:"Levadura de Cerveza",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",favourite:!1},{barcode:"8006540576588",brand:"Don Limpio",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"7613033481314",brand:"Nestl\xe9",name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",favourite:!1},{barcode:"8437004314031",brand:"Llet Nostra",name:"Llet Semi Desnatada Nostra",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",favourite:!1},{barcode:"8480000792013",brand:"Deliplus",name:"Loci\xf3n aloe vera",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",favourite:!1},{barcode:"8714100635650",brand:"Magnum",favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg"},{barcode:"8421660006010",brand:"Ametller Origen",name:"Magdalenas gegants",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",favourite:!1},{barcode:"8413100612639",brand:"Arias,Savencia",favourite:!1,name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg"},{barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg"},{barcode:"8410091301405",brand:"Marcilla",name:"Marcilla caf\xe9 superior creme express natural",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg"},{barcode:"8480000167644",brand:"Hacendado",name:"Ma\xedz dulce",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg"},{barcode:"3073780902366",brand:"Bel",favourite:!1,name:"Mini Babybel",imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg"},{barcode:"8000270018257",brand:"Bimbo",name:"Mini tostas redondas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg"},{barcode:"3560070347438",brand:"Carrefour",favourite:!1,name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436540566942",brand:"Espiga blanca",name:"Minicracker fibra",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg"},{barcode:"8480000644916",brand:"Hacendado",favourite:!1,name:"Mochi Coco",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8410118041574",brand:"Prima",name:"Mostaza",imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",favourite:!1},{barcode:"8480000093554",brand:"Hacendado",name:"Muesli crunchy chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",favourite:!1},{barcode:"8431876305395",brand:"Carrefour",name:"Nachos redondos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg"},{barcode:"7613039490266",brand:"Nestl\xe9",name:"Nesquik",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg"},{barcode:"4002160092501",brand:"Granini",favourite:!1,name:"N\xe9ctar naranja briks",imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg"},{barcode:"8410179012018",brand:"Borges",favourite:!1,name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg"},{barcode:"8436551860251",brand:"Ametller Origen",favourite:!1,name:"Oli d\u2019oliva",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410412044",brand:"Bonpreu",name:"Oli refinat de gira-sol",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8422410299744",brand:"Bonpreu",name:"Ous frescos pag\xe8s",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",favourite:!1},{barcode:"8436583954577",brand:"Ametller Origen",favourite:!1,name:"Pa de vidre",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436583954539",brand:"ametller origen",favourite:!1,name:"Pa de vidre tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg"},{barcode:"8410091024915",brand:"Hornimans",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",favourite:!1},{barcode:"3045320052244",brand:"Saint Aubert",favourite:!1,name:"Palets breton galletas de mantequilla",imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8412170026896",brand:"Santiveri",name:"Pan Dextrin Integral Santiveri",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",favourite:!1},{barcode:"5029053010052",brand:"Scottex",name:"Papel higi\xe9nico h\xfamedo, 38 u.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8410086000856",brand:"La Hacienda",name:"Patata entera",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg"},{barcode:"8436554525140",brand:"Ametller Origen",name:"Patata, pastanaga i mongeta tendra cuinats al buit",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg"},{barcode:"8413585017240",brand:"Bonarea",name:"Patatas Fritas",imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",favourite:!1},{barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg"},{barcode:"8410954000711",brand:"Rioverde",name:"Pepinillos",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg"},{barcode:"8413475312615",brand:"Marca desconeguda",favourite:!1,name:"Pernil cuit ral",imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg"},{barcode:"7076848513753",brand:"Barilla",name:"Pesto alla genovese",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg"},{barcode:"8436554529629",brand:"Ametller Origen",name:"Pit de pollastre amb herbes",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg"},{barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg"},{barcode:"8436551864709",brand:"Ametller Origen",favourite:!1,name:"Pollastre al curri vermell",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg"},{barcode:"8436583957110",name:"Pollastre al ximixurri",brand:"Ametller Or\xedgen",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8412900401153",brand:"Pompadour",name:"Pompadour Tomillo",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg"},{barcode:"8480000664129",brand:"Steinburg",name:"Radler Steinburg",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg"},{barcode:"8480000049056",brand:"Hacendado",name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",favourite:!1},{barcode:"8410091024953",brand:"Hornimans",name:"Rooibos con especias",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1},{barcode:"4019400440657",brand:"Halloren",name:"Royal mints",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1},{barcode:"8410604112344",brand:"Sal Costa",name:"Sal De Frutas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg"},{barcode:"8480000290168",brand:"Hacendado",name:"Sal de frutas sabor lim\xf3n",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",favourite:!1},{barcode:"8480000581518",brand:"Hacienda Iberico",favourite:!1,name:"Salchich\xf3n ib\xe9rico",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",brand:"Ametller Or\xedgen",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8427230989189",brand:"Espinaler",name:"Salsa Espinaler",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg"},{barcode:"8410069018717",brand:"Gallo",name:"Salsa bolo\xf1esa",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg"},{barcode:"8436551860923",brand:"Ametller Origen",name:"Salsa de tomate casera",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg"},{barcode:"8480000610652",brand:"Hacendado",favourite:!1,name:"Salteado de verduras vegetais",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"5011428300035",brand:"Maldon",name:"Sea Salt Flakes",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5054563099082",name:"Sensodyne repair & protect",brand:"Sensodyne",favourite:!1,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1},imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"5050083560262",brand:"Kellogg's",name:"Smacks With Honey",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg"},{barcode:"8076800195057",brand:"Barilla",name:"Spaghetti n.5",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg"},{barcode:"3269612045008",brand:"Jean Brunet",favourite:!1,name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg"},{barcode:"8410091103306",brand:"Hornimans",name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",favourite:!1},{barcode:"3045206312257",brand:"Sanytol",favourite:!1,name:"Toallitas desinfectantes",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8436583950449",brand:"Ametller Origen",favourite:!1,name:"Tomaquet de sucar",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8422410170760",brand:"Bonpreu",name:"Tom\xe0quet Fregit",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg"},{barcode:"8437011969903",brand:"Ametller Origen",name:"Trinxat de la cerdanya",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1},{barcode:"8437008006420",brand:"Ametller Origen",name:"Truita carxofa",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",favourite:!1},{barcode:"8410495541070",brand:"Vicens",name:"Turr\xf3n souffl\xe9 avellana chocolate",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8412900401207",brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",favourite:!1},{barcode:"8422410598977",brand:"Bonpreu",name:"VINAGRE de vi negre",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8411002105006",brand:"Viladrau",name:"Viladrau Agua Mineral 5L.",imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg",favourite:!1},{barcode:"8480000049537",brand:"Hacendado",name:"Vinagre de Jerez reserva",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",favourite:!1},{barcode:"8410793031945",brand:"Voll-Damm",name:"Voll-damm Cerveza Doble Malta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg"},{barcode:"5000111040983",brand:"Lea & Perrins",name:"Worcestershire sauce",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg"},{barcode:"8435037550631",brand:"Ametller Origen",name:"Xori\xe7 extra",favourite:!1,imageUrl:"https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},{barcode:"8480000390103",brand:"Hacendado",name:"Zumo pura naranja",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",favourite:!1},{barcode:"8436551867502",brand:"ametller origen",favourite:!1,name:"brots selectes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{barcode:"8003753900438",brand:"Illy",name:"coffee tin",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",favourite:!1},{barcode:"8410199023094",brand:"Marca desconeguda",name:"lay\u2019s gourmet original",imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",favourite:!1}]},3351:(le,v,w)=>{"use strict";w.d(v,{L:()=>f});const f=[{price:3.15,productBarcode:"8422410040872",shopId:"bonpreu",updateDate:1645452194587},{price:.99,productBarcode:"7613035268388",shopId:"bonpreu",updateDate:1645452256976},{price:2.15,productBarcode:"3045206312257",shopId:"bonpreu",updateDate:1645452864525},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1645551832691},{price:1.99,productBarcode:"8422410387915",shopId:"bonpreu",updateDate:1645551879354},{price:1.43,productBarcode:"8413100612639",shopId:"bonpreu",updateDate:1645551919468},{price:1.45,productBarcode:"8414516070167",shopId:"bonpreu",updateDate:1645551958078},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1645552013320},{price:1.69,productBarcode:"5410126716016",shopId:"bonpreu",updateDate:1645552048570},{price:1.99,productBarcode:"4008400203829",shopId:"bonpreu",updateDate:1645552083100},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871},{price:1.09,updateDate:1645653185581,shopId:"ametller",productBarcode:"8436551865355"},{price:1.99,updateDate:1645653239642,shopId:"ametller",productBarcode:"8436540566942"},{price:3.15,updateDate:1645798090805,shopId:"ametller",productBarcode:"8436583955093"},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1645798113906},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1645798155513},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616"},{price:1.89,updateDate:1645869027911,shopId:"carrefour",productBarcode:"5029053010052"},{price:2.95,updateDate:1645869134793,shopId:"carrefour",productBarcode:"8006540576588"},{price:3.39,productBarcode:"5050083560262",shopId:"carrefour",updateDate:1645869280046},{price:3.15,updateDate:1645869433791,shopId:"carrefour",productBarcode:"3560071152413"},{price:1.91,updateDate:1645869460823,shopId:"carrefour",productBarcode:"8015100563067"},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1645886117451},{price:1.49,productBarcode:"8717700002402",shopId:"condis",updateDate:1645886201039},{price:3.5,productBarcode:"5054563101648",shopId:"condis",updateDate:1645887883610},{price:1.52,updateDate:1645888034122,shopId:"condis",productBarcode:"8411002105006"},{price:6.25,productBarcode:"8410179012018",shopId:"condis",updateDate:1645888080319},{price:2.19,productBarcode:"8410022115255",shopId:"condis",updateDate:1645888125951},{price:2.59,productBarcode:"7613036569927",shopId:"condis",updateDate:1646071015575},{price:2.19,productBarcode:"3269612045008",shopId:"condis",updateDate:1646071049954},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646079152860},{price:5.79,productBarcode:"8436554529629",shopId:"ametller",updateDate:1646079180090},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646079202513},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646079230642},{price:1.99,productBarcode:"8435037550631",shopId:"ametller",updateDate:1646079281946},{price:2.29,productBarcode:"8431707094290",shopId:"bonpreu",updateDate:1646144272786},{price:.79,productBarcode:"8422410473878",shopId:"bonpreu",updateDate:1646144325823},{price:2.29,productBarcode:"8431707094290",shopId:"condis",updateDate:1646250627653},{price:2.29,productBarcode:"3073780902366",shopId:"condis",updateDate:1646250687325},{price:1.25,productBarcode:"8410564002204",shopId:"condis",updateDate:1646250727985},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1646335036086},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646335060270},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1646335092609},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1646335153243},{price:4.99,productBarcode:"8436551864709",shopId:"ametller",updateDate:1646335181459},{price:1.29,productBarcode:"8436583952054",shopId:"ametller",updateDate:1646415548935},{price:2.19,productBarcode:"8413475312615",shopId:"ametller",updateDate:1646415576400},{price:2.39,productBarcode:"8436583954539",shopId:"ametller",updateDate:1646415616777},{price:4.89,productBarcode:"7613035260924",shopId:"bonpreu",updateDate:1646486121079},{price:1.19,productBarcode:"8410135001322",shopId:"bonpreu",updateDate:1646486174599},{price:4.09,productBarcode:"8714100635650",shopId:"bonpreu",updateDate:1646486309719},{price:4.89,productBarcode:"5054563099082",shopId:"dia",updateDate:1646856003573,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:4.95,productBarcode:"7613035260924",shopId:"dia",updateDate:1646856083841,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:2.89,productBarcode:"8410448000913",shopId:"dia",updateDate:1646856219361,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:1.27,productBarcode:"8480017574657",shopId:"dia",updateDate:1646856265172,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:1.59,productBarcode:"80177616",shopId:"dia",updateDate:1646872443076,createdBy:{email:"joan.lloria@gmail.com",username:"Joan",isAdmin:!1}},{price:.9,productBarcode:"8410148509327",shopId:"mercadona",updateDate:1646929946281,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:3.25,productBarcode:"8420309210115",shopId:"mercadona",updateDate:1646929997724,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.5,productBarcode:"8480000610652",shopId:"mercadona",updateDate:1646930032462,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.65,productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.95,productBarcode:"8480000581518",shopId:"mercadona",updateDate:1646930137722,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.25,productBarcode:"8480000163141",shopId:"mercadona",updateDate:1646930166623,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.2,productBarcode:"8410086000856",shopId:"mercadona",updateDate:1646930191204,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:3.3,productBarcode:"8480000136343",shopId:"mercadona",updateDate:1646930214883,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.2,productBarcode:"8480000180926",shopId:"mercadona",updateDate:1646930250559,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.08,productBarcode:"8431876005912",shopId:"carrefour",updateDate:1646942494815,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1646942537870,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1,productBarcode:"8436033878095",shopId:"carrefour",updateDate:1646942576971,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.2,productBarcode:"3560070347438",shopId:"carrefour",updateDate:1646942603389,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.26,productBarcode:"8431707094290",shopId:"carrefour",updateDate:1646942628295,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.49,productBarcode:"3560070119851",shopId:"carrefour",updateDate:1647000913572,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.51,productBarcode:"3045320052244",shopId:"carrefour",updateDate:1647000949431,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.1,productBarcode:"8410128160074",shopId:"carrefour",updateDate:1647000971290,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.86,productBarcode:"8076808060654",shopId:"carrefour",updateDate:1647000997394,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.86,productBarcode:"8076802085981",shopId:"carrefour",updateDate:1647001030237,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.09,productBarcode:"8436551865355",shopId:"ametller",updateDate:1647009507902,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.69,productBarcode:"8421660006010",shopId:"ametller",updateDate:1647009535063,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:6.49,productBarcode:"8436583957134",shopId:"ametller",updateDate:1647009576298,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:6.49,productBarcode:"8436583957110",shopId:"ametller",updateDate:1647009673830,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.79,productBarcode:"8437011969217",shopId:"ametller",updateDate:1647009736789,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:2.19,productBarcode:"8436583954577",shopId:"ametller",updateDate:1647009785979,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:5.99,productBarcode:"8436551860251",shopId:"ametller",updateDate:1647009813003,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.99,productBarcode:"8436583950449",shopId:"ametller",updateDate:1647009840835,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}},{price:1.49,productBarcode:"8436551867502",shopId:"ametller",updateDate:1647009885888,createdBy:{email:"joan.lloria@gmail.com",username:"admin1234",isAdmin:!0}}]},7296:(le,v,w)=>{"use strict";w.d(v,{H:()=>f});const f=[{id:"aldi",name:"ALDI",favourite:!1,default:!0,imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg"},{id:"alcampo",name:"Alcampo",favourite:!1,default:!0,imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png"},{id:"ametller",name:"Ametller Origen",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU"},{id:"bonpreu",name:"Bonpreu Esclat",favourite:!0,default:!0,imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{id:"bonarea",name:"Bon\xc0rea",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU"},{id:"caprabo",name:"Caprabo",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU"},{id:"carrefour",name:"Carrefour",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU"},{id:"clarel",name:"Clarel",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU"},{id:"condis",name:"Condis",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU"},{id:"consum",name:"Consum",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU"},{id:"dia",name:"Dia",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",name:"Eroski",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU"},{id:"hipercor",name:"Hipercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU"},{id:"lasirena",name:"La Sirena",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU"},{id:"lidl",name:"Lidl",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU"},{id:"makro",name:"Makro",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU"},{id:"mercadona",name:"Mercadona",favourite:!0,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU"},{id:"sorli",name:"Sorli",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU"},{id:"supercor",name:"Supercor",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU"},{id:"supersol",name:"Supersol",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU"},{id:"veritas",name:"Veritas",favourite:!1,default:!0,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU"}]},3701:(le,v,w)=>{"use strict";w.d(v,{M:()=>f});const f={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE"}},9722:(le,v,w)=>{"use strict";w.d(v,{w:()=>f});var f=(()=>{return(i=f||(f={})).LOCAL="LOCAL",i.JSON_BIN="JSON_BIN",i.FIRESTORE="FIRESTORE",f;var i})()},2450:(le,v,w)=>{"use strict";w.d(v,{B:()=>b});var f=w(7587),i=w(520);let b=(()=>{class S{constructor(k){this.http=k,this.JSON_BIN_URL="https://api.jsonbin.io/b/",this.SHOPS_BIN_ID="62212c4ca703bb6749211e15",this.PRODUCTS_BIN_ID="6221bf9b7caf5d67835f1d46",this.SHOPS_PRODUCTS_BIN_ID="6221cc117caf5d67835f2b73"}getShops(){return this.http.get(this.JSON_BIN_URL+this.SHOPS_BIN_ID)}setShops(k){return this.http.put(this.JSON_BIN_URL+this.SHOPS_BIN_ID,k)}getProducts(){return this.http.get(this.JSON_BIN_URL+this.PRODUCTS_BIN_ID)}setProducts(k){return this.http.put(this.JSON_BIN_URL+this.PRODUCTS_BIN_ID,k)}getShopsProducts(){return this.http.get(this.JSON_BIN_URL+this.SHOPS_PRODUCTS_BIN_ID)}setShopsProducts(k){return this.http.put(this.JSON_BIN_URL+this.SHOPS_PRODUCTS_BIN_ID,k)}}return S.\u0275fac=function(k){return new(k||S)(f.LFG(i.eN))},S.\u0275prov=f.Yz7({token:S,factory:S.\u0275fac,providedIn:"root"}),S})()},4120:(le,v,w)=>{"use strict";w.d(v,{r:()=>S});var f=w(7579),i=w(3701),b=w(7587);let S=(()=>{class x{constructor(){this.user=new f.x}login(U){U.lastLogin=(new Date).getTime(),this.user.next(U),localStorage.setItem(i.M.PS_LOGGED_USER,JSON.stringify(U))}logout(){localStorage.removeItem(i.M.PS_LOGGED_USER),this.user.next(void 0)}getLoggedUser(){let U=JSON.parse(localStorage.getItem(i.M.PS_LOGGED_USER));if(U)return U=U,this.setIsAdmin(U),U}setIsAdmin(U){U&&(U.isAdmin="admin1234"===U.username)}refreshUser(){let U=JSON.parse(localStorage.getItem(i.M.PS_LOGGED_USER));U?(this.setIsAdmin(U),this.user.next(U)):this.user.next(void 0)}isLoggedUser(){return null!=this.getLoggedUser()}isAdmin(){return this.getLoggedUser().isAdmin}}return x.\u0275fac=function(U){return new(U||x)},x.\u0275prov=b.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8505),_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9722),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7587),_json_bin_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2450),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120);let ProductService=(()=>{class ProductService{constructor(jsonBinService,loginService){if(this.jsonBinService=jsonBinService,this.loginService=loginService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_4__.x,this._products=[],this._favouriteProductsBarcodes=[],this.source=_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.source,this.products.subscribe(le=>{this._products=le}),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL){const storedProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS);(!storedProducts||0===eval(storedProducts).length)&&this.setProducts(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X)}else this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN&&this.getProducts().subscribe(le=>{(!le||0===le.length)&&this.setProducts(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X)});const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes)}toggleFavourite(le){let v=this.getFavourites();return le.favourite?v.push(le.barcode):v=v.filter(w=>w!==le.barcode),this.setFavourites(v),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)}getProducts(){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL){const storedProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS);let products=storedProducts?eval(storedProducts):_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X;return products=this.mergeLocalAndDefaultProducts(products),this.setDefaultImages(products),this.checkFavourites(products),this.products.next(products),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(products)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN)return this.jsonBinService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(le=>{this.setDefaultImages(le),this.checkFavourites(le),this.products.next(le)}))}mergeLocalAndDefaultProducts(le){return console.log("Merging user local & default products"),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X.forEach(w=>{le.find(i=>i.barcode===w.barcode)||(console.log(" -> Product added",w),le.push(w))}),console.log(" -> Items merged:  0"),le}setDefaultImages(le){le.map(v=>(v.imageUrl||(v.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),v))}setProducts(le){return console.log("ProductService.setProducts()",le),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL?(localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS,JSON.stringify(le)),this.products.next(le),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)):this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN?(0===le.length&&(le=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.products.next(le),this.jsonBinService.setProducts(le)):void 0}updateProduct(product){if(console.log("ProductService.updateProduct()",product),this.toggleFavourite(product).subscribe(),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL){const storedProducts=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS)),productIdx=storedProducts.findIndex(le=>le.barcode===product.barcode);return storedProducts[productIdx]=product,localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS,JSON.stringify(storedProducts)),this.products.next(storedProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN){const le=this._products,v=le.findIndex(w=>w.barcode===product.barcode);return le[v]=product,this.products.next(le),this.jsonBinService.setProducts(le)}}createProduct(product){if(console.log("ProductService.createProduct()",product),product.createdBy=this.loginService.getLoggedUser(),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL){const storedProducts=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS));return storedProducts.push(product),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS,JSON.stringify(storedProducts)),this.products.next(storedProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN){const le=this._products;return le.push(product),this.products.next(le),this.jsonBinService.setProducts(le)}}removeProduct(barcode){if(console.log("ProductService.removeProduct()",barcode),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.LOCAL){let storedProducts=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS));return storedProducts=storedProducts.filter(le=>le.barcode!==barcode),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS,JSON.stringify(storedProducts)),this.products.next(storedProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_6__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_5__.w.JSON_BIN){let le=this._products;return le=le.filter(v=>v.barcode!==barcode),this.products.next(le),this.jsonBinService.setProducts(le)}}setFavourites(le){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(le))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(le){const v=this.getFavourites();le.map(w=>{w.favourite=v.indexOf(w.barcode)>-1})}}return ProductService.\u0275fac=function le(v){return new(v||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_json_bin_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},710:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{s:()=>ShopProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(8505),_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3351),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9722),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7587),_json_bin_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2450),_product_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6082),_shop_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(635);let ShopProductService=(()=>{class ShopProductService{constructor(jsonBinService,productService,shopService){if(this.jsonBinService=jsonBinService,this.productService=productService,this.shopService=shopService,this.shopsProducts=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this.source=_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.source,this._shopsProducts=[],this.shopsProducts.subscribe(le=>{this._shopsProducts=le}),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts):[];(!shopsProducts||0===shopsProducts.length)&&(shopsProducts=_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L),this.setShopsProducts(shopsProducts)}else this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN&&this.getShopsProducts().subscribe(le=>{this.setShopsProducts(le&&0!==le.length?le:_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L)})}getShopsProducts(){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts):[];return(!shopsProducts||0===shopsProducts.length)&&(shopsProducts=_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L),this._shopsProducts=shopsProducts,this.shopsProducts.next(shopsProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(shopsProducts)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN)return this.jsonBinService.getShopsProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.b)(le=>{this._shopsProducts=le,this.shopsProducts.next(le)}))}setShopsProducts(le){return this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL?(localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS,JSON.stringify(le)),this._shopsProducts=le,this.shopsProducts.next(le),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)):this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN?this.jsonBinService.setShopsProducts(le).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.b)(()=>{this._shopsProducts=le,this.shopsProducts.next(le)})):void 0}getShopProduct(shopId,productBarcode){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts):[];return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(shopsProducts.find(le=>le.shopId===shopId&&le.productBarcode===productBarcode))}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){const le=this._shopsProducts.filter(v=>v.productBarcode===productBarcode&&v.shopId===shopId).sort((v,w)=>v.updateDate<w.updateDate?1:-1);return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(le.length>0?le[0]:void 0)}}getShopProducts(shopId){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS),storedProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts).filter(le=>le.shopId===shopId):[],products=storedProducts?eval(storedProducts):[],productsBarcodes=shopsProducts.map(le=>le.productBarcode);return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(products.filter(le=>productsBarcodes.indexOf(le.barcode)>=0))}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){const le=this._shopsProducts.filter(v=>v.shopId===shopId).map(v=>v.productBarcode);return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.productService._products.filter(v=>le.indexOf(v.barcode)>-1))}}getProductShops(barcode){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS),storedShops=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts).filter(le=>le.productBarcode===barcode):[],shops=storedShops?eval(storedShops):[],shopsIds=shopsProducts.map(le=>le.shopId);return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(shops.filter(le=>shopsIds.indexOf(le.id)>=0))}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){const le=this._shopsProducts.filter(v=>v.productBarcode===barcode).map(v=>v.shopId);return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this.shopService._shops.filter(v=>le.indexOf(v.id)>-1))}}getShopShopProducts(shopId){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts).filter(le=>le.shopId===shopId):[];return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(shopsProducts)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN)return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._shopsProducts.filter(le=>le.shopId===shopId))}getProductShopProducts(barcode){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts).filter(le=>le.productBarcode===barcode):[];return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(shopsProducts)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN)return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._shopsProducts.filter(le=>le.productBarcode===barcode))}removeShopProduct(le){if(console.log("ShopProductService.removeShopProduct()",le),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const v=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let w=v?JSON.parse(v):_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L;return w=w.filter(f=>f.productBarcode!==le.productBarcode||f.shopId!==le.shopId),this._shopsProducts=w,localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS,JSON.stringify(w)),this.shopsProducts.next(w),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN&&this.getShopsProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.b)(v=>{this.setShopsProducts(v.filter(w=>w.productBarcode!==le.productBarcode&&w.shopId!==le.shopId))}))}removeShopShopProducts(shopId){if(console.log("ShopProductService.removeShopShopProducts()",shopId),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts):_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L;return shopsProducts=shopsProducts.filter(le=>le.shopId!==shopId),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS,JSON.stringify(shopsProducts)),this.shopsProducts.next(shopsProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN&&this.getShopsProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.b)(le=>{this.setShopsProducts(le.filter(v=>v.shopId!==shopId))}))}removeProductShopProducts(barcode){if(console.log("ShopProductService.removeProductShopProducts()",barcode),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShopsProducts=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS);let shopsProducts=storedShopsProducts?eval(storedShopsProducts):_model_constants_default_shops_products_constant__WEBPACK_IMPORTED_MODULE_1__.L;return shopsProducts=shopsProducts.filter(le=>le.productBarcode!==barcode),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_SHOPS_PRODUCTS,JSON.stringify(shopsProducts)),this.shopsProducts.next(shopsProducts),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN&&this.getShopsProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_8__.b)(le=>{this.setShopsProducts(le.filter(v=>v.productBarcode!==barcode))}))}getShopProductLast(le,v){const w=this._shopsProducts.filter(f=>f.shopId===le&&f.productBarcode===v).sort((f,i)=>f.updateDate<i.updateDate?1:-1);return w.length>0?w[0]:void 0}getProductCheaperShop(le){const v=[];if(!le)return[];if(this._shopsProducts.filter(i=>i.productBarcode===le.barcode).forEach(i=>{v.indexOf(i.shopId)<0&&v.push(i.shopId)}),0===v.length)return;let w=[...v.map(i=>this.getShopProductLast(i,le.barcode)).sort((i,b)=>i.price>b.price?1:-1)];const f=w[0].price;return w=w.filter(i=>i.price===f),w.map(i=>this.shopService._shops.find(b=>b.id===i.shopId))}getProductLowestPrice(le){const v=[];if(!le||(this._shopsProducts.filter(i=>i.productBarcode===le.barcode).forEach(i=>{v.indexOf(i.shopId)<0&&v.push(i.shopId)}),0===v.length))return;let w=[...v.map(i=>this.getShopProductLast(i,le.barcode)).sort((i,b)=>i.price<b.price?1:-1)];return w[0].price<=w[w.length-1].price?w[0].price:w[w.length-1].price}getProductHighestPrice(le){const v=[];if(!le||(this._shopsProducts.filter(i=>i.productBarcode===le.barcode).forEach(i=>{v.indexOf(i.shopId)<0&&v.push(i.shopId)}),0===v.length))return;let w=v.map(i=>this.getShopProductLast(i,le.barcode)).sort((i,b)=>i.price<b.price?1:-1);return w[0].price>=w[w.length-1].price?w[0].price:w[w.length-1].price}getProductPriceRange(le,v){const w=[];this._shopsProducts.filter(i=>i.productBarcode===le.barcode).forEach(i=>{w.indexOf(i.shopId)<0&&w.push(i.shopId)});const f=w.map(i=>this.getShopProductLast(i,le.barcode).price);return f.sort((i,b)=>i<b?1:-1),{max:f[0],min:f[f.length-1]}}}return ShopProductService.\u0275fac=function le(v){return new(v||ShopProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_json_bin_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_product_service__WEBPACK_IMPORTED_MODULE_3__.M),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_shop_service__WEBPACK_IMPORTED_MODULE_4__.d))},ShopProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopProductService,factory:ShopProductService.\u0275fac,providedIn:"root"}),ShopProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(9646),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8505),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(9722),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(7587),_json_bin_service__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(2450),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(jsonBinService,loginService){this.jsonBinService=jsonBinService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_4__.x,this._shops=[],this._favouriteShopsIds=[],this.source=_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.source,this.shops.subscribe(le=>{this._shops=le});const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.getShops()}toggleFavourite(le){let v=this.getFavourites();return le.favourite?v.push(le.id):v=v.filter(w=>w!==le.id),this.setFavourites(v),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)}getShops(){if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShops=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS);let shops=storedShops?eval(storedShops):JSON.parse(JSON.stringify(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H));const defaultShops=JSON.parse(JSON.stringify(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H));return storedShops?(shops=eval(storedShops).filter(le=>!1===le.default||le.favourite),defaultShops.forEach(le=>{const v=shops.find(w=>le.id===w.id);v?v.imageUrl=le.imageUrl:shops.push(le)})):(shops=defaultShops,this.setShops(shops)),this.setDefaultImages(shops),this.checkFavourites(shops),this.shops.next(shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(shops)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN)return this.jsonBinService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(le=>{this.setDefaultImages(le),this.checkFavourites(le),this.shops.next(le)}))}setDefaultImages(le){le.map(v=>(v.imageUrl||(v.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),v))}setShops(le){return console.log("ShopService.setShops()",le),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL?(le&&le.length>0?(localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS,JSON.stringify(le)),this.shops.next(le)):(localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS,JSON.stringify(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H)),le=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H,this.shops.next(JSON.parse(JSON.stringify(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H)))),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)):this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN?(0===le.length&&(le=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.shops.next(le),this.jsonBinService.setShops(le)):void 0}updateShop(shop){if(console.log("ShopService.updateShop()",shop),this.toggleFavourite(shop).subscribe(),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){const storedShops=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS)),shopIdx=storedShops.findIndex(le=>le.id===shop.id);return storedShops[shopIdx]=shop,localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS,JSON.stringify(storedShops)),this.shops.next(storedShops),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){const le=this._shops,v=le.findIndex(w=>w.id===shop.id);return le[v]=shop,this.shops.next(le),this.jsonBinService.setShops(le)}}createShop(shop){if(console.log("ShopService.createShop()",shop),shop.createdBy=this.loginService.getLoggedUser(),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){console.log("local");const storedShops=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS));return storedShops.push(shop),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS,JSON.stringify(storedShops)),this.shops.next(storedShops),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){const le=this._shops;return le.push(shop),this.shops.next(le),this.jsonBinService.setShops(le)}}removeShop(shopId){if(console.log("ShopService.removeShop()",shopId),this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.LOCAL){let storedShops=eval(localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS));return storedShops=storedShops.filter(le=>le.id!==shopId),localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_SHOPS,JSON.stringify(storedShops)),this.shops.next(storedShops),(0,rxjs__WEBPACK_IMPORTED_MODULE_5__.of)(!0)}if(this.source===_model_enums_data_source_origins_enum__WEBPACK_IMPORTED_MODULE_6__.w.JSON_BIN){let le=this._shops;return le=le.filter(v=>v.id!==shopId),this.shops.next(le),this.jsonBinService.setShops(le)}}setFavourites(le){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(le))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(le){const v=this.getFavourites();le.map(w=>{w.favourite=v.indexOf(w.id)>-1})}}return ShopService.\u0275fac=function le(v){return new(v||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_json_bin_service__WEBPACK_IMPORTED_MODULE_10__.B),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(le,v,w)=>{"use strict";w.d(v,{q:()=>i});const i={defaultLanguage:"ca",source:w(9722).w.LOCAL}},5611:(le,v,w)=>{"use strict";var f=w(9808),i=w(7587);class b extends f.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class S extends b{static makeCurrent(){(0,f.HT)(new S)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function k(){return x=x||document.querySelector("base"),x?x.getAttribute("href"):null}();return null==t?null:function ee(n){U=U||document.createElement("a"),U.setAttribute("href",n);const e=U.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){x=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return(0,f.Mx)(document.cookie,e)}}let U,x=null;const K=new i.OlP("TRANSITION_ID"),ne=[{provide:i.ip1,useFactory:function he(n,e,t){return()=>{t.get(i.CZH).donePromise.then(()=>{const r=(0,f.q)(),o=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let s=0;s<o.length;s++)r.remove(o[s])})}},deps:[K,f.K0,i.zs3],multi:!0}];class ye{static init(){(0,i.VLi)(new ye)}addToWindow(e){i.dqk.getAngularTestability=(r,o=!0)=>{const s=e.findTestabilityInTree(r,o);if(null==s)throw new Error("Could not find testability for element.");return s},i.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),i.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),i.dqk.frameworkStabilizers||(i.dqk.frameworkStabilizers=[]),i.dqk.frameworkStabilizers.push(r=>{const o=i.dqk.getAllAngularTestabilities();let s=o.length,l=!1;const h=function(m){l=l||m,s--,0==s&&r(l)};o.forEach(function(m){m.whenStable(h)})})}findTestabilityInTree(e,t,r){if(null==t)return null;const o=e.getTestability(t);return null!=o?o:r?(0,f.q)().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ve=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const Ne=new i.OlP("EventManagerPlugins");let Be=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(o=>o.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,o){return this._findPluginFor(r).addEventListener(t,r,o)}addGlobalEventListener(t,r,o){return this._findPluginFor(r).addGlobalEventListener(t,r,o)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const o=this._plugins;for(let s=0;s<o.length;s++){const l=o[s];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ne),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Je{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const o=(0,f.q)().getGlobalEventTarget(this._doc,e);if(!o)throw new Error(`Unsupported event target ${o} for event ${t}`);return this.addEventListener(o,t,r)}}let ce=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(o=>{this._stylesSet.has(o)||(this._stylesSet.add(o),r.add(o))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Re=(()=>{class n extends ce{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,o){t.forEach(s=>{const l=this._doc.createElement("style");l.textContent=s,o.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(be),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,o)=>{this._addStylesToHost(t,o,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(be))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function be(n){(0,f.q)().remove(n)}const Fe={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pe=/%COMP%/g;function H(n,e,t){for(let r=0;r<e.length;r++){let o=e[r];Array.isArray(o)?H(n,o,t):(o=o.replace(Pe,n),t.push(o))}return t}function Z(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let me=(()=>{class n{constructor(t,r,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=o,this.rendererByCompId=new Map,this.defaultRenderer=new X(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case i.ifc.Emulated:{let o=this.rendererByCompId.get(r.id);return o||(o=new qt(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,o)),o.applyToHost(t),o}case 1:case i.ifc.ShadowDom:return new rt(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const o=H(r.id,r.styles,[]);this.sharedStylesHost.addStyles(o),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Be),i.LFG(Re),i.LFG(i.AFp))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class X{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Fe[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,r){e&&e.insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,o){if(o){t=o+":"+t;const s=Fe[o];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const o=Fe[r];o?e.removeAttributeNS(o,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,o){o&(i.JOm.DashCase|i.JOm.Important)?e.style.setProperty(t,r,o&i.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&i.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Z(r)):this.eventManager.addEventListener(e,t,Z(r))}}class qt extends X{constructor(e,t,r,o){super(e),this.component=r;const s=H(o+"-"+r.id,r.styles,[]);t.addStyles(s),this.contentAttr=function Ue(n){return"_ngcontent-%COMP%".replace(Pe,n)}(o+"-"+r.id),this.hostAttr=function Q(n){return"_nghost-%COMP%".replace(Pe,n)}(o+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class rt extends X{constructor(e,t,r,o){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const s=H(o.id,o.styles,[]);for(let l=0;l<s.length;l++){const h=document.createElement("style");h.textContent=s[l],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let nt=(()=>{class n extends Je{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,o){return t.addEventListener(r,o,!1),()=>this.removeEventListener(t,r,o)}removeEventListener(t,r,o){return t.removeEventListener(r,o)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const ct=["alt","control","meta","shift"],On={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},pn={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Yt={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Bn=(()=>{class n extends Je{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,o){const s=n.parseEventName(r),l=n.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,f.q)().onAndCancel(t,s.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),o=r.shift();if(0===r.length||"keydown"!==o&&"keyup"!==o)return null;const s=n._normalizeKey(r.pop());let l="";if(ct.forEach(m=>{const y=r.indexOf(m);y>-1&&(r.splice(y,1),l+=m+".")}),l+=s,0!=r.length||0===s.length)return null;const h={};return h.domEventName=o,h.fullKey=l,h}static getEventFullKey(t){let r="",o=function Rn(n){let e=n.key;if(null==e){if(e=n.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===n.location&&pn.hasOwnProperty(e)&&(e=pn[e]))}return On[e]||e}(t);return o=o.toLowerCase()," "===o?o="space":"."===o&&(o="dot"),ct.forEach(s=>{s!=o&&Yt[s](t)&&(r+=s+".")}),r+=o,r}static eventCallback(t,r,o){return s=>{n.getEventFullKey(s)===t&&o.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const wi=(0,i.eFA)(i._c5,"browser",[{provide:i.Lbi,useValue:f.bD},{provide:i.g9A,useValue:function $r(){S.makeCurrent(),ye.init()},multi:!0},{provide:f.K0,useFactory:function Oo(){return(0,i.RDi)(document),document},deps:[]}]),fi=[{provide:i.zSh,useValue:"root"},{provide:i.qLn,useFactory:function ar(){return new i.qLn},deps:[]},{provide:Ne,useClass:nt,multi:!0,deps:[f.K0,i.R0b,i.Lbi]},{provide:Ne,useClass:Bn,multi:!0,deps:[f.K0]},{provide:me,useClass:me,deps:[Be,Re,i.AFp]},{provide:i.FYo,useExisting:me},{provide:ce,useExisting:Re},{provide:Re,useClass:Re,deps:[f.K0]},{provide:i.dDg,useClass:i.dDg,deps:[i.R0b]},{provide:Be,useClass:Be,deps:[Ne,i.R0b]},{provide:f.JF,useClass:Ve,deps:[]}];let ji=(()=>{class n{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:n,providers:[{provide:i.AFp,useValue:t.appId},{provide:K,useExisting:i.AFp},ne]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(n,12))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:fi,imports:[f.ez,i.hGG]}),n})();"undefined"!=typeof window&&window;let St=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):i.LFG(jt),r},providedIn:"root"}),n})(),jt=(()=>{class n extends St{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case i.q3G.NONE:return r;case i.q3G.HTML:return(0,i.qzn)(r,"HTML")?(0,i.z3N)(r):(0,i.EiD)(this._doc,String(r)).toString();case i.q3G.STYLE:return(0,i.qzn)(r,"Style")?(0,i.z3N)(r):r;case i.q3G.SCRIPT:if((0,i.qzn)(r,"Script"))return(0,i.z3N)(r);throw new Error("unsafe value used in a script context");case i.q3G.URL:return(0,i.yhl)(r),(0,i.qzn)(r,"URL")?(0,i.z3N)(r):(0,i.mCW)(String(r));case i.q3G.RESOURCE_URL:if((0,i.qzn)(r,"ResourceURL"))return(0,i.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,i.JVY)(t)}bypassSecurityTrustStyle(t){return(0,i.L6k)(t)}bypassSecurityTrustScript(t){return(0,i.eBb)(t)}bypassSecurityTrustUrl(t){return(0,i.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,i.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Tn(n){return new jt(n.get(f.K0))}(i.LFG(i.zs3)),r},providedIn:"root"}),n})();w(8955);var Dn=w(8996),mn=w(8306);const{isArray:pr}=Array,{getPrototypeOf:rr,prototype:jn,keys:bn}=Object;function Rt(n){if(1===n.length){const e=n[0];if(pr(e))return{args:e,keys:null};if(function ve(n){return n&&"object"==typeof n&&rr(n)===jn}(e)){const t=bn(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Me=w(8421),Ct=w(3269),wt=w(5403),Ft=w(4004);const{isArray:at}=Array;function He(n){return(0,Ft.U)(e=>function dt(n,e){return at(e)?n(...e):n(e)}(n,e))}function ht(n,e){return n.reduce((t,r,o)=>(t[r]=e[o],t),{})}function bt(...n){const e=(0,Ct.jO)(n),{args:t,keys:r}=Rt(n),o=new mn.y(s=>{const{length:l}=t;if(!l)return void s.complete();const h=new Array(l);let m=l,y=l;for(let D=0;D<l;D++){let P=!1;(0,Me.Xf)(t[D]).subscribe((0,wt.x)(s,V=>{P||(P=!0,y--),h[D]=V},()=>m--,void 0,()=>{(!m||!P)&&(y||s.next(r?ht(r,h):h),s.complete())}))}});return e?o.pipe(He(e)):o}let un=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n}),n})(),vt=(()=>{class n extends un{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,features:[i.qOj]}),n})();const $e=new i.OlP("NgValueAccessor"),mt={provide:$e,useExisting:(0,i.Gpc)(()=>_t),multi:!0};let _t=(()=>{class n extends vt{writeValue(t){this.setProperty("checked",t)}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(s){return r.onChange(s.target.checked)})("blur",function(){return r.onTouched()})},features:[i._Bn([mt]),i.qOj]}),n})();const dn={provide:$e,useExisting:(0,i.Gpc)(()=>Ln),multi:!0},Zn=new i.OlP("CompositionEventMode");let Ln=(()=>{class n extends un{constructor(t,r,o){super(t,r),this._compositionMode=o,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Mn(){const n=(0,f.q)()?(0,f.q)().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Qsj),i.Y36(i.SBq),i.Y36(Zn,8))},n.\u0275dir=i.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(s){return r._handleInput(s.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(s){return r._compositionEnd(s.target.value)})},features:[i._Bn([dn]),i.qOj]}),n})();const Qn=new i.OlP("NgValidators"),Jt=new i.OlP("NgAsyncValidators");function mi(n){return null!=n}function Wr(n){const e=(0,i.QGY)(n)?(0,Dn.D)(n):n;return(0,i.CqO)(e),e}function Mo(n){let e={};return n.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function gs(n,e){return e.map(t=>t(n))}function jr(n){return n.map(e=>function Tr(n){return!n.validate}(e)?e:t=>e.validate(t))}function ma(n){return null!=n?function ga(n){if(!n)return null;const e=n.filter(mi);return 0==e.length?null:function(t){return Mo(gs(t,e))}}(jr(n)):null}function io(n){return null!=n?function Ws(n){if(!n)return null;const e=n.filter(mi);return 0==e.length?null:function(t){return bt(gs(t,e).map(Wr)).pipe((0,Ft.U)(Mo))}}(jr(n)):null}function Si(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zo(n){return n?Array.isArray(n)?n:[n]:[]}function No(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ko(n,e){const t=Zo(e);return Zo(n).forEach(o=>{No(t,o)||t.push(o)}),t}function ms(n,e){return Zo(e).filter(t=>!No(n,t))}class Ro{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ma(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=io(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class xi extends Ro{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Er extends Ro{get formDirective(){return null}get path(){return null}}let C=(()=>{class n extends class W{constructor(e){this._cd=e}is(e){var t,r,o;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(o=null===(r=this._cd)||void 0===r?void 0:r.control)||void 0===o?void 0:o[e])}}{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(xi,2))},n.\u0275dir=i.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&i.ekj("ng-untouched",r.is("untouched"))("ng-touched",r.is("touched"))("ng-pristine",r.is("pristine"))("ng-dirty",r.is("dirty"))("ng-valid",r.is("valid"))("ng-invalid",r.is("invalid"))("ng-pending",r.is("pending"))},features:[i.qOj]}),n})();function Xn(n,e){(function I(n,e){const t=function za(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(Si(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Za(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(Si(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const o=()=>n.updateValueAndValidity();zs(e._rawValidators,o),zs(e._rawAsyncValidators,o)})(n,e),e.valueAccessor.writeValue(n.value),function A(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&pe(n,e)})}(n,e),function We(n,e){const t=(r,o)=>{e.valueAccessor.writeValue(r),o&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function G(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&pe(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function Ka(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function zs(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pe(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ko(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const Hi="VALID",Zs="INVALID",Yo="PENDING",fn="DISABLED";function Bp(n){return(Jd(n)?n.validators:n)||null}function Hy(n){return Array.isArray(n)?ma(n):n||null}function Up(n,e){return(Jd(e)?e.asyncValidators:n)||null}function jp(n){return Array.isArray(n)?io(n):n||null}function Jd(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}const et=n=>n instanceof zu;function Vp(n){return(n=>n instanceof Jo)(n)?n.value:n.getRawValue()}function Hr(n,e){const t=et(n),r=n.controls;if(!(t?Object.keys(r):r).length)throw new i.vHH(1e3,"");if(!r[e])throw new i.vHH(1001,"")}function Hp(n,e){et(n),n._forEachChild((r,o)=>{if(void 0===e[o])throw new i.vHH(1002,"")})}class Ja{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Hy(this._rawValidators),this._composedAsyncValidatorFn=jp(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Hi}get invalid(){return this.status===Zs}get pending(){return this.status==Yo}get disabled(){return this.status===fn}get enabled(){return this.status!==fn}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Hy(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=jp(e)}addValidators(e){this.setValidators(Ko(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ko(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(ms(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(ms(e,this._rawAsyncValidators))}hasValidator(e){return No(this._rawValidators,e)}hasAsyncValidator(e){return No(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Yo,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=fn,this.errors=null,this._forEachChild(r=>{r.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Hi,this._forEachChild(r=>{r.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Hi||this.status===Yo)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?fn:Hi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Yo,this._hasOwnPendingAsyncValidator=!0;const t=Wr(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function Vk(n,e,t){if(null==e||(Array.isArray(e)||(e=e.split(t)),Array.isArray(e)&&0===e.length))return null;let r=n;return e.forEach(o=>{r=et(r)?r.controls.hasOwnProperty(o)?r.controls[o]:null:(n=>n instanceof Gp)(r)&&r.at(o)||null}),r}(this,e,".")}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new i.vpe,this.statusChanges=new i.vpe}_calculateStatus(){return this._allControlsDisabled()?fn:this.errors?Zs:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Yo)?Yo:this._anyControlsHaveStatus(Zs)?Zs:Hi}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Jd(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Jo extends Ja{constructor(e=null,t,r){super(Bp(t),Up(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Jd(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ko(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ko(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class zu extends Ja{constructor(e,t,r){super(Bp(t),Up(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Hp(this,e),Object.keys(e).forEach(r=>{Hr(this,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{this.controls[r]&&this.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=Vp(t),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const r=this.controls[t];if(this.contains(t)&&e(r))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,r)=>((t.enabled||this.disabled)&&(e[r]=t.value),e))}_reduceChildren(e,t){let r=e;return this._forEachChild((o,s)=>{r=t(r,o,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Gp extends Ja{constructor(e,t,r){super(Bp(t),Up(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Hp(this,e),e.forEach((r,o)=>{Hr(this,o),this.at(o).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,o)=>{this.at(o)&&this.at(o).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,o)=>{r.reset(e[o],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>Vp(e))}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const qy={provide:xi,useExisting:(0,i.Gpc)(()=>Qo)},Wy=(()=>Promise.resolve(null))();let Qo=(()=>{class n extends xi{constructor(t,r,o,s,l){super(),this._changeDetectorRef=l,this.control=new Jo,this._registered=!1,this.update=new i.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(o),this.valueAccessor=function Rr(n,e){if(!e)return null;let t,r,o;return Array.isArray(e),e.forEach(s=>{s.constructor===Ln?t=s:function cr(n){return Object.getPrototypeOf(n.constructor)===vt}(s)?r=s:o=s}),o||r||t||null}(0,s)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Vr(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Xn(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Wy.then(()=>{var r;this.control.setValue(t,{emitViewToModelChange:!1}),null===(r=this._changeDetectorRef)||void 0===r||r.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,o=""===r||r&&"false"!==r;Wy.then(()=>{var s;o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),null===(s=this._changeDetectorRef)||void 0===s||s.markForCheck()})}_getPath(t){return this._parent?function $n(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Er,9),i.Y36(Qn,10),i.Y36(Jt,10),i.Y36($e,10),i.Y36(i.sBO,8))},n.\u0275dir=i.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[i._Bn([qy]),i.qOj,i.TTD]}),n})();const qp={provide:$e,useExisting:(0,i.Gpc)(()=>Ju),multi:!0};let Ju=(()=>{class n extends vt{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("input",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},features:[i._Bn([qp]),i.qOj]}),n})(),zp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const Nw={provide:$e,useExisting:(0,i.Gpc)(()=>va),multi:!0};function Qu(n,e){return null==n?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let va=(()=>{class n extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const o=Qu(this._getOptionId(t),t);this.setProperty("value",o)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){const r=function eh(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(s){return r.onChange(s.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([Nw]),i.qOj]}),n})(),Xu=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Qu(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(va,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})();const Jy={provide:$e,useExisting:(0,i.Gpc)(()=>Qp),multi:!0};function Qy(n,e){return null==n?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${n}: ${e}`.slice(0,50))}let Qp=(()=>{class n extends vt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let r;if(this.value=t,Array.isArray(t)){const o=t.map(s=>this._getOptionId(s));r=(s,l)=>{s._setSelected(o.indexOf(l.toString())>-1)}}else r=(o,s)=>{o._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{const o=[],s=r.selectedOptions;if(void 0!==s){const l=s;for(let h=0;h<l.length;h++){const y=this._getOptionValue(l[h].value);o.push(y)}}else{const l=r.options;for(let h=0;h<l.length;h++){const m=l[h];if(m.selected){const y=this._getOptionValue(m.value);o.push(y)}}}this.value=o,t(o)}}_registerOption(t){const r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(const r of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){const r=function ba(n){return n.split(":")[0]}(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275dir=i.lG2({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,r){1&t&&i.NdJ("change",function(s){return r.onChange(s.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},features:[i._Bn([Jy]),i.qOj]}),n})(),Xp=(()=>{class n{constructor(t,r,o){this._element=t,this._renderer=r,this._select=o,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(Qy(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(Qy(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.Qsj),i.Y36(Qp,9))},n.\u0275dir=i.lG2({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),n})(),og=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[zp]]}),n})(),ch=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[og]}),n})(),n0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();var Fc=w(8686),Bw=w(3351),Uw=w(7296),uh=w(3709),el=w(9722),Ea=w(3701),an=w(9646),ur=w(7579);class wr extends ur.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}var Xa=w(4671),cg=w(9672);function tl(...n){const e=(0,Ct.yG)(n),t=(0,Ct.jO)(n),{args:r,keys:o}=Rt(n);if(0===r.length)return(0,Dn.D)([],e);const s=new mn.y(function Bc(n,e,t=Xa.y){return r=>{ec(e,()=>{const{length:o}=n,s=new Array(o);let l=o,h=o;for(let m=0;m<o;m++)ec(e,()=>{const y=(0,Dn.D)(n[m],e);let D=!1;y.subscribe((0,wt.x)(r,P=>{s[m]=P,D||(D=!0,h--),h||r.next(t(s.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,o?l=>ht(o,l):Xa.y));return t?s.pipe(He(t)):s}function ec(n,e,t){n?(0,cg.f)(t,n,e):e()}var Gi=w(576);function nl(n,e){const t=(0,Gi.m)(n)?n:()=>n,r=o=>o.error(t());return new mn.y(e?o=>e.schedule(r,0,o):r)}const Ys=(0,w(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var lg=w(8189);function lr(...n){return function jw(){return(0,lg.J)(1)}()((0,Dn.D)(n,(0,Ct.yG)(n)))}function lh(n){return new mn.y(e=>{(0,Me.Xf)(n()).subscribe(e)})}var tc=w(515),r0=w(727),so=w(4482);function Vw(){return(0,so.e)((n,e)=>{let t=null;n._refCount++;const r=(0,wt.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const o=n._connection,s=t;t=null,o&&(!s||o===s)&&o.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Zk extends mn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,so.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,null==e||e.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new r0.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wt.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=r0.w0.EMPTY)}return e}refCount(){return Vw()(this)}}function ys(n,e){return(0,so.e)((t,r)=>{let o=null,s=0,l=!1;const h=()=>l&&!o&&r.complete();t.subscribe((0,wt.x)(r,m=>{null==o||o.unsubscribe();let y=0;const D=s++;(0,Me.Xf)(n(m,D)).subscribe(o=(0,wt.x)(r,P=>r.next(e?e(m,P,D,y++):P),()=>{o=null,h()}))},()=>{l=!0,h()}))})}var Sr=w(5698);function dg(...n){const e=(0,Ct.yG)(n);return(0,so.e)((t,r)=>{(e?lr(n,t,e):lr(n,t)).subscribe(r)})}function zr(n,e,t,r,o){return(s,l)=>{let h=t,m=e,y=0;s.subscribe((0,wt.x)(l,D=>{const P=y++;m=h?n(m,D,P):(h=!0,D),r&&l.next(m)},o&&(()=>{h&&l.next(m),l.complete()})))}}function dh(n,e){return(0,so.e)(zr(n,e,arguments.length>=2,!0))}var xr=w(9300);function nc(n){return(0,so.e)((e,t)=>{let s,r=null,o=!1;r=e.subscribe((0,wt.x)(t,void 0,void 0,l=>{s=(0,Me.Xf)(n(l,nc(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):o=!0})),o&&(r.unsubscribe(),r=null,s.subscribe(t))})}var Uc=w(4351);function ao(n){return n<=0?()=>tc.E:(0,so.e)((e,t)=>{let r=[];e.subscribe((0,wt.x)(t,o=>{r.push(o),n<r.length&&r.shift()},()=>{for(const o of r)t.next(o);t.complete()},void 0,()=>{r=null}))})}function Xo(n=o0){return(0,so.e)((e,t)=>{let r=!1;e.subscribe((0,wt.x)(t,o=>{r=!0,t.next(o)},()=>r?t.complete():t.error(n())))})}function o0(){return new Ys}function rl(n){return(0,so.e)((e,t)=>{let r=!1;e.subscribe((0,wt.x)(t,o=>{r=!0,t.next(o)},()=>{r||t.next(n),t.complete()}))})}function rc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,xr.h)((o,s)=>n(o,s,r)):Xa.y,(0,Sr.q)(1),t?rl(e):Xo(()=>new Ys))}var Ii=w(5577),oi=w(8505);class Ca{constructor(e,t){this.id=e,this.url=t}}class hh extends Ca{constructor(e,t,r="imperative",o=null){super(e,t),this.navigationTrigger=r,this.restoredState=o}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class si extends Ca{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class fh extends Ca{constructor(e,t,r){super(e,t),this.reason=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class jc extends Ca{constructor(e,t,r){super(e,t),this.error=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Yk extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class s0 extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hw extends Ca{constructor(e,t,r,o,s){super(e,t),this.urlAfterRedirects=r,this.state=o,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gw extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $w extends Ca{constructor(e,t,r,o){super(e,t),this.urlAfterRedirects=r,this.state=o}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class a0{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class c0{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class u0{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hg{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ph{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jk{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Vc{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const kn="primary";class gh{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Hc(n){return new gh(n)}const l0="ngNavigationCancelingError";function fg(n){const e=Error("NavigationCancelingError: "+n);return e[l0]=!0,e}function qw(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const o={};for(let s=0;s<r.length;s++){const l=r[s],h=n[s];if(l.startsWith(":"))o[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:o}}function es(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let o;for(let s=0;s<t.length;s++)if(o=t[s],!h0(n[o],e[o]))return!1;return!0}function h0(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((o,s)=>r[s]===o)}return n===e}function Zr(n){return Array.prototype.concat.apply([],n)}function pg(n){return n.length>0?n[n.length-1]:null}function Kr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function co(n){return(0,i.CqO)(n)?n:(0,i.QGY)(n)?(0,Dn.D)(Promise.resolve(n)):(0,an.of)(n)}const zw={exact:function gg(n,e,t){if(!Lo(n.segments,e.segments)||!Gc(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!gg(n.children[r],e.children[r],t))return!1;return!0},subset:p0},f0={exact:function al(n,e){return es(n,e)},subset:function cl(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>h0(n[t],e[t]))},ignored:()=>!0};function sl(n,e,t){return zw[t.paths](n.root,e.root,t.matrixParams)&&f0[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function p0(n,e,t){return mg(n,e,e.segments,t)}function mg(n,e,t,r){if(n.segments.length>t.length){const o=n.segments.slice(0,t.length);return!(!Lo(o,t)||e.hasChildren()||!Gc(o,t,r))}if(n.segments.length===t.length){if(!Lo(n.segments,t)||!Gc(n.segments,t,r))return!1;for(const o in e.children)if(!n.children[o]||!p0(n.children[o],e.children[o],r))return!1;return!0}{const o=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Lo(n.segments,o)&&Gc(n.segments,o,r)&&n.children[kn])&&mg(n.children[kn],e,s,r)}}function Gc(n,e,t){return e.every((r,o)=>f0[t](n[o].parameters,r.parameters))}class vs{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hc(this.queryParams)),this._queryParamMap}toString(){return m0.serialize(this)}}class Vn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Kr(t,(r,o)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mh(this)}}class ul{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Hc(this.parameters)),this._parameterMap}toString(){return y0(this)}}function Lo(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}class g0{}class Kw{parse(e){const t=new Qw(e);return new vs(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${_h(e.root,!0)}`,r=function Xk(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(o=>`${yh(t)}=${yh(o)}`).join("&"):`${yh(t)}=${yh(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Yw(n){return encodeURI(n)}(e.fragment)}`:""}`}}const m0=new Kw;function mh(n){return n.segments.map(e=>y0(e)).join("/")}function _h(n,e){if(!n.hasChildren())return mh(n);if(e){const t=n.children[kn]?_h(n.children[kn],!1):"",r=[];return Kr(n.children,(o,s)=>{s!==kn&&r.push(`${s}:${_h(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function ll(n,e){let t=[];return Kr(n.children,(r,o)=>{o===kn&&(t=t.concat(e(r,o)))}),Kr(n.children,(r,o)=>{o!==kn&&(t=t.concat(e(r,o)))}),t}(n,(r,o)=>o===kn?[_h(n.children[kn],!1)]:[`${o}:${_h(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[kn]?`${mh(n)}/${t[0]}`:`${mh(n)}/(${t.join("//")})`}}function _0(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yh(n){return _0(n).replace(/%3B/gi,";")}function $c(n){return _0(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qc(n){return decodeURIComponent(n)}function ic(n){return qc(n.replace(/\+/g,"%20"))}function y0(n){return`${$c(n.path)}${function Jw(n){return Object.keys(n).map(e=>`;${$c(e)}=${$c(n[e])}`).join("")}(n.parameters)}`}const vh=/^[^\/()?;=#]+/;function Wc(n){const e=n.match(vh);return e?e[0]:""}const v0=/^[^=?&#]+/,E0=/^[^&#]+/;class Qw{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Vn([],{}):new Vn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[kn]=new Vn(e,t)),r}parseSegment(){const e=Wc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new ul(qc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Wc(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=Wc(this.remaining);o&&(r=o,this.capture(r))}e[qc(t)]=qc(r)}parseQueryParam(e){const t=function b0(n){const e=n.match(v0);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function oc(n){const e=n.match(E0);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const o=ic(t),s=ic(r);if(e.hasOwnProperty(o)){let l=e[o];Array.isArray(l)||(l=[l],e[o]=l),l.push(s)}else e[o]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Wc(this.remaining),o=this.remaining[r.length];if("/"!==o&&")"!==o&&";"!==o)throw new Error(`Cannot parse url '${this.url}'`);let s;r.indexOf(":")>-1?(s=r.substr(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=kn);const l=this.parseChildren();t[s]=1===Object.keys(l).length?l[kn]:new Vn([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class C0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=_g(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=_g(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=yg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(o=>o.value).filter(o=>o!==e)}pathFromRoot(e){return yg(e,this._root).map(t=>t.value)}}function _g(n,e){if(n===e.value)return e;for(const t of e.children){const r=_g(n,t);if(r)return r}return null}function yg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=yg(n,t);if(r.length)return r.unshift(e),r}return[]}class Js{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function uo(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class sc extends C0{constructor(e,t){super(e),this.snapshot=t,Eg(this,e)}toString(){return this.snapshot.toString()}}function vg(n,e){const t=function Xw(n,e){const l=new bh([],{},{},"",{},kn,e,null,n.root,-1,{});return new bg("",new Js(l,[]))}(n,e),r=new wr([new ul("",{})]),o=new wr({}),s=new wr({}),l=new wr({}),h=new wr(""),m=new wa(r,o,l,h,s,kn,e,t.root);return m.snapshot=t.root,new sc(new Js(m,[]),t)}class wa{constructor(e,t,r,o,s,l,h,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=l,this.component=h,this._futureSnapshot=m}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ft.U)(e=>Hc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ft.U)(e=>Hc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function w0(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const o=t[r],s=t[r-1];if(o.routeConfig&&""===o.routeConfig.path)r--;else{if(s.component)break;r--}}return function eT(n){return n.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(t.slice(r))}class bh{constructor(e,t,r,o,s,l,h,m,y,D,P){this.url=e,this.params=t,this.queryParams=r,this.fragment=o,this.data=s,this.outlet=l,this.component=h,this.routeConfig=m,this._urlSegment=y,this._lastPathIndex=D,this._resolve=P}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class bg extends C0{constructor(e,t){super(t),this.url=e,Eg(this,t)}toString(){return T0(this._root)}}function Eg(n,e){e.value._routerState=n,e.children.forEach(t=>Eg(n,t))}function T0(n){const e=n.children.length>0?` { ${n.children.map(T0).join(", ")} } `:"";return`${n.value}${e}`}function Cg(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,es(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),es(e.params,t.params)||n.params.next(t.params),function ol(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!es(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),es(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wg(n,e){const t=es(n.params,e.params)&&function Zw(n,e){return Lo(n,e)&&n.every((t,r)=>es(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wg(n.parent,e.parent))}function dl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const o=function hl(n,e,t){return e.children.map(r=>{for(const o of t.children)if(n.shouldReuseRoute(r.value,o.value.snapshot))return dl(n,r,o);return dl(n,r)})}(n,e,t);return new Js(r,o)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const l=s.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>dl(n,h)),l}}const r=function D0(n){return new wa(new wr(n.url),new wr(n.params),new wr(n.queryParams),new wr(n.fragment),new wr(n.data),n.outlet,n.component,n)}(e.value),o=e.children.map(s=>dl(n,s));return new Js(r,o)}}function Ta(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function zc(n){return"object"==typeof n&&null!=n&&n.outlets}function Eh(n,e,t,r,o){let s={};if(r&&Kr(r,(h,m)=>{s[m]=Array.isArray(h)?h.map(y=>`${y}`):`${h}`}),n===e)return new vs(t,s,o);const l=Tg(n,e,t);return new vs(l,s,o)}function Tg(n,e,t){const r={};return Kr(n.children,(o,s)=>{r[s]=o===e?t:Tg(o,e,t)}),new Vn(n.segments,r)}class tT{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ta(r[0]))throw new Error("Root segment cannot have matrix parameters");const o=r.find(zc);if(o&&o!==pg(r))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class S0{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function nT(n,e,t){if(n||(n=new Vn([],{})),0===n.segments.length&&n.hasChildren())return Ig(n,e,t);const r=function x0(n,e,t){let r=0,o=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;o<n.segments.length;){if(r>=t.length)return s;const l=n.segments[o],h=t[r];if(zc(h))break;const m=`${h}`,y=r<t.length-1?t[r+1]:null;if(o>0&&void 0===m)break;if(m&&y&&"object"==typeof y&&void 0===y.outlets){if(!A0(m,y,l))return s;r+=2}else{if(!A0(m,{},l))return s;r++}o++}return{match:!0,pathIndex:o,commandIndex:r}}(n,e,t),o=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new Vn(n.segments.slice(0,r.pathIndex),{});return s.children[kn]=new Vn(n.segments.slice(r.pathIndex),n.children),Ig(s,0,o)}return r.match&&0===o.length?new Vn(n.segments,{}):r.match&&!n.hasChildren()?Ag(n,e,t):r.match?Ig(n,0,o):Ag(n,e,t)}function Ig(n,e,t){if(0===t.length)return new Vn(n.segments,{});{const r=function xg(n){return zc(n[0])?n[0].outlets:{[kn]:n}}(t),o={};return Kr(r,(s,l)=>{"string"==typeof s&&(s=[s]),null!==s&&(o[l]=nT(n.children[l],e,s))}),Kr(n.children,(s,l)=>{void 0===r[l]&&(o[l]=s)}),new Vn(n.segments,o)}}function Ag(n,e,t){const r=n.segments.slice(0,e);let o=0;for(;o<t.length;){const s=t[o];if(zc(s)){const m=rT(s.outlets);return new Vn(r,m)}if(0===o&&Ta(t[0])){r.push(new ul(n.segments[e].path,I0(t[0]))),o++;continue}const l=zc(s)?s.outlets[kn]:`${s}`,h=o<t.length-1?t[o+1]:null;l&&h&&Ta(h)?(r.push(new ul(l,I0(h))),o+=2):(r.push(new ul(l,{})),o++)}return new Vn(r,{})}function rT(n){const e={};return Kr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Ag(new Vn([],{}),0,t))}),e}function I0(n){const e={};return Kr(n,(t,r)=>e[r]=`${t}`),e}function A0(n,e,t){return n==t.path&&es(e,t.parameters)}class Ch{constructor(e,t,r,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=o}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Cg(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const o=uo(t);e.children.forEach(s=>{const l=s.value.outlet;this.deactivateRoutes(s,o[l],r),delete o[l]}),Kr(o,(s,l)=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const o=e.value,s=t?t.value:null;if(o===s)if(o.component){const l=r.getContext(o.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,s=uo(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],o);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),o=r&&e.value.component?r.children:t,s=uo(e);for(const l of Object.keys(s))this.deactivateRouteAndItsChildren(s[l],o);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const o=uo(t);e.children.forEach(s=>{this.activateRoutes(s,o[s.value.outlet],r),this.forwardEvent(new Jk(s.value.snapshot))}),e.children.length&&this.forwardEvent(new hg(e.value.snapshot))}activateRoutes(e,t,r){const o=e.value,s=t?t.value:null;if(Cg(o),o===s)if(o.component){const l=r.getOrCreateContext(o.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(o.component){const l=r.getOrCreateContext(o.outlet);if(this.routeReuseStrategy.shouldAttach(o.snapshot)){const h=this.routeReuseStrategy.retrieve(o.snapshot);this.routeReuseStrategy.store(o.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),Cg(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=function P0(n){for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(o.snapshot),m=h?h.module.componentFactoryResolver:null;l.attachRef=null,l.route=o,l.resolver=m,l.outlet&&l.outlet.activateWith(o,m),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class fl{constructor(e,t){this.routes=e,this.module=t}}function Da(n){return"function"==typeof n}function Sa(n){return n instanceof vs}const pl=Symbol("INITIAL_VALUE");function gl(){return ys(n=>tl(n.map(e=>e.pipe((0,Sr.q)(1),dg(pl)))).pipe(dh((e,t)=>{let r=!1;return t.reduce((o,s,l)=>o!==pl?o:(s===pl&&(r=!0),r||!1!==s&&l!==t.length-1&&!Sa(s)?o:s),e)},pl),(0,xr.h)(e=>e!==pl),(0,Ft.U)(e=>Sa(e)?e:!0===e),(0,Sr.q)(1)))}class sT{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new ml,this.attachRef=null}}class ml{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const r=this.getOrCreateContext(e);r.outlet=t,this.contexts.set(e,r)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null,t.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new sT,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}let N0=(()=>{class n{constructor(t,r,o,s,l){this.parentContexts=t,this.location=r,this.resolver=o,this.changeDetector=l,this.activated=null,this._activatedRoute=null,this.activateEvents=new i.vpe,this.deactivateEvents=new i.vpe,this.attachEvents=new i.vpe,this.detachEvents=new i.vpe,this.name=s||kn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const l=(r=r||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),h=this.parentContexts.getOrCreateContext(this.name).children,m=new n2(t,h,this.location.injector);this.activated=this.location.createComponent(l,this.location.length,m),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ml),i.Y36(i.s_b),i.Y36(i._Vd),i.$8M("name"),i.Y36(i.sBO))},n.\u0275dir=i.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),n})();class n2{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===wa?this.route:e===ml?this.childContexts:this.parent.get(e,t)}}let Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,r){1&t&&i._UZ(0,"router-outlet")},directives:[N0],encapsulation:2}),n})();function Ai(n,e=""){for(let t=0;t<n.length;t++){const r=n[t];Pg(r,R0(e,r))}}function Pg(n,e){n.children&&Ai(n.children,e)}function R0(n,e){return e?n||e.path?n&&!e.path?`${n}/`:!n&&e.path?e.path:`${n}/${e.path}`:"":n}function wh(n){const e=n.children&&n.children.map(wh),t=e?Object.assign(Object.assign({},n),{children:e}):Object.assign({},n);return!t.component&&(e||t.loadChildren)&&t.outlet&&t.outlet!==kn&&(t.component=Zc),t}function dr(n){return n.outlet||kn}function Kc(n,e){const t=n.filter(r=>dr(r)===e);return t.push(...n.filter(r=>dr(r)!==e)),t}const Th={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Dh(n,e,t){var r;if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?Object.assign({},Th):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||qw)(t,n,e);if(!s)return Object.assign({},Th);const l={};Kr(s.posParams,(m,y)=>{l[y]=m.path});const h=s.consumed.length>0?Object.assign(Object.assign({},l),s.consumed[s.consumed.length-1].parameters):l;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:h,positionalParamSegments:null!==(r=s.posParams)&&void 0!==r?r:{}}}function Sh(n,e,t,r,o="corrected"){if(t.length>0&&function L0(n,e,t){return t.some(r=>_l(n,e,r)&&dr(r)!==kn)}(n,t,r)){const l=new Vn(e,function aT(n,e,t,r){const o={};o[kn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const s of t)if(""===s.path&&dr(s)!==kn){const l=new Vn([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,o[dr(s)]=l}return o}(n,e,r,new Vn(t,n.children)));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:[]}}if(0===t.length&&function cT(n,e,t){return t.some(r=>_l(n,e,r))}(n,t,r)){const l=new Vn(n.segments,function k0(n,e,t,r,o,s){const l={};for(const h of r)if(_l(n,t,h)&&!o[dr(h)]){const m=new Vn([],{});m._sourceSegment=n,m._segmentIndexShift="legacy"===s?n.segments.length:e.length,l[dr(h)]=m}return Object.assign(Object.assign({},o),l)}(n,e,t,r,n.children,o));return l._sourceSegment=n,l._segmentIndexShift=e.length,{segmentGroup:l,slicedSegments:t}}const s=new Vn(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function _l(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function F0(n,e,t,r){return!!(dr(n)===r||r!==kn&&_l(e,t,n))&&("**"===n.path||Dh(e,n,t).matched)}function B0(n,e,t){return 0===e.length&&!n.children[t]}class Yc{constructor(e){this.segmentGroup=e||null}}class U0{constructor(e){this.urlTree=e}}function yl(n){return nl(new Yc(n))}function xh(n){return nl(new U0(n))}class dT{constructor(e,t,r,o,s){this.configLoader=t,this.urlSerializer=r,this.urlTree=o,this.config=s,this.allowRedirects=!0,this.ngModule=e.get(i.h0i)}apply(){const e=Sh(this.urlTree.root,[],[],this.config).segmentGroup,t=new Vn(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,kn).pipe((0,Ft.U)(s=>this.createUrlTree(Mg(s),this.urlTree.queryParams,this.urlTree.fragment))).pipe(nc(s=>{if(s instanceof U0)return this.allowRedirects=!1,this.match(s.urlTree);throw s instanceof Yc?this.noMatchError(s):s}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,kn).pipe((0,Ft.U)(o=>this.createUrlTree(Mg(o),e.queryParams,e.fragment))).pipe(nc(o=>{throw o instanceof Yc?this.noMatchError(o):o}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,r){const o=e.segments.length>0?new Vn([],{[kn]:e}):e;return new vs(o,t,r)}expandSegmentGroup(e,t,r,o){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Ft.U)(s=>new Vn([],s))):this.expandSegment(e,r,t,r.segments,o,!0)}expandChildren(e,t,r){const o=[];for(const s of Object.keys(r.children))"primary"===s?o.unshift(s):o.push(s);return(0,Dn.D)(o).pipe((0,Uc.b)(s=>{const l=r.children[s],h=Kc(t,s);return this.expandSegmentGroup(e,h,l,s).pipe((0,Ft.U)(m=>({segment:m,outlet:s})))}),dh((s,l)=>(s[l.outlet]=l.segment,s),{}),function il(n,e){const t=arguments.length>=2;return r=>r.pipe(n?(0,xr.h)((o,s)=>n(o,s,r)):Xa.y,ao(1),t?rl(e):Xo(()=>new Ys))}())}expandSegment(e,t,r,o,s,l){return(0,Dn.D)(r).pipe((0,Uc.b)(h=>this.expandSegmentAgainstRoute(e,t,r,h,o,s,l).pipe(nc(y=>{if(y instanceof Yc)return(0,an.of)(null);throw y}))),rc(h=>!!h),nc((h,m)=>{if(h instanceof Ys||"EmptyError"===h.name)return B0(t,o,s)?(0,an.of)(new Vn([],{})):yl(t);throw h}))}expandSegmentAgainstRoute(e,t,r,o,s,l,h){return F0(o,t,s,l)?void 0===o.redirectTo?this.matchSegmentAgainstRoute(e,t,o,s,l):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,o,s,l):yl(t):yl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,o,s,l){return"**"===o.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,o,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,s,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,o){const s=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?xh(s):this.lineralizeSegments(r,s).pipe((0,Ii.z)(l=>{const h=new Vn(l,{});return this.expandSegment(e,h,t,l,o,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,o,s,l){const{matched:h,consumedSegments:m,remainingSegments:y,positionalParamSegments:D}=Dh(t,o,s);if(!h)return yl(t);const P=this.applyRedirectCommands(m,o.redirectTo,D);return o.redirectTo.startsWith("/")?xh(P):this.lineralizeSegments(o,P).pipe((0,Ii.z)(V=>this.expandSegment(e,t,r,V.concat(y),l,!1)))}matchSegmentAgainstRoute(e,t,r,o,s){if("**"===r.path)return r.loadChildren?(r._loadedConfig?(0,an.of)(r._loadedConfig):this.configLoader.load(e.injector,r)).pipe((0,Ft.U)(P=>(r._loadedConfig=P,new Vn(o,{})))):(0,an.of)(new Vn(o,{}));const{matched:l,consumedSegments:h,remainingSegments:m}=Dh(t,r,o);return l?this.getChildConfig(e,r,o).pipe((0,Ii.z)(D=>{const P=D.module,V=D.routes,{segmentGroup:J,slicedSegments:ge}=Sh(t,h,m,V),xe=new Vn(J.segments,J.children);if(0===ge.length&&xe.hasChildren())return this.expandChildren(P,V,xe).pipe((0,Ft.U)($t=>new Vn(h,$t)));if(0===V.length&&0===ge.length)return(0,an.of)(new Vn(h,{}));const Ze=dr(r)===s;return this.expandSegment(P,xe,V,ge,Ze?kn:s,!0).pipe((0,Ft.U)(Xe=>new Vn(h.concat(Xe.segments),Xe.children)))})):yl(t)}getChildConfig(e,t,r){return t.children?(0,an.of)(new fl(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,an.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,r).pipe((0,Ii.z)(o=>o?this.configLoader.load(e.injector,t).pipe((0,Ft.U)(s=>(t._loadedConfig=s,s))):function lT(n){return nl(fg(`Cannot load children because the guard of the route "path: '${n.path}'" returned false`))}(t))):(0,an.of)(new fl([],e))}runCanLoadGuards(e,t,r){const o=t.canLoad;if(!o||0===o.length)return(0,an.of)(!0);const s=o.map(l=>{const h=e.get(l);let m;if(function iT(n){return n&&Da(n.canLoad)}(h))m=h.canLoad(t,r);else{if(!Da(h))throw new Error("Invalid CanLoad guard");m=h(t,r)}return co(m)});return(0,an.of)(s).pipe(gl(),(0,oi.b)(l=>{if(!Sa(l))return;const h=fg(`Redirecting to "${this.urlSerializer.serialize(l)}"`);throw h.url=l,h}),(0,Ft.U)(l=>!0===l))}lineralizeSegments(e,t){let r=[],o=t.root;for(;;){if(r=r.concat(o.segments),0===o.numberOfChildren)return(0,an.of)(r);if(o.numberOfChildren>1||!o.children[kn])return nl(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e.redirectTo}'`));o=o.children[kn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreatreUrlTree(e,t,r,o){const s=this.createSegmentGroup(e,t.root,r,o);return new vs(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Kr(e,(o,s)=>{if("string"==typeof o&&o.startsWith(":")){const h=o.substring(1);r[s]=t[h]}else r[s]=o}),r}createSegmentGroup(e,t,r,o){const s=this.createSegments(e,t.segments,r,o);let l={};return Kr(t.children,(h,m)=>{l[m]=this.createSegmentGroup(e,h,r,o)}),new Vn(s,l)}createSegments(e,t,r,o){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,o):this.findOrReturn(s,r))}findPosParam(e,t,r){const o=r[t.path.substring(1)];if(!o)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return o}findOrReturn(e,t){let r=0;for(const o of t){if(o.path===e.path)return t.splice(r),o;r++}return e}}function Mg(n){const e={};for(const r of Object.keys(n.children)){const s=Mg(n.children[r]);(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function hT(n){if(1===n.numberOfChildren&&n.children[kn]){const e=n.children[kn];return new Vn(n.segments.concat(e.segments),e.children)}return n}(new Vn(n.segments,e))}class j0{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class vl{constructor(e,t){this.component=e,this.route=t}}function pT(n,e,t){const r=n._root;return bl(r,e?e._root:null,t,[r.value])}function Ah(n,e,t){const r=function mT(n){if(!n)return null;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:t).get(n)}function bl(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=uo(e);return n.children.forEach(l=>{(function V0(n,e,t,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&s.routeConfig===l.routeConfig){const m=function H0(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Lo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Lo(n.url,e.url)||!es(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wg(n,e)||!es(n.queryParams,e.queryParams);default:return!wg(n,e)}}(l,s,s.routeConfig.runGuardsAndResolvers);m?o.canActivateChecks.push(new j0(r)):(s.data=l.data,s._resolvedData=l._resolvedData),bl(n,e,s.component?h?h.children:null:t,r,o),m&&h&&h.outlet&&h.outlet.isActivated&&o.canDeactivateChecks.push(new vl(h.outlet.component,l))}else l&&El(e,h,o),o.canActivateChecks.push(new j0(r)),bl(n,null,s.component?h?h.children:null:t,r,o)})(l,s[l.value.outlet],t,r.concat([l.value]),o),delete s[l.value.outlet]}),Kr(s,(l,h)=>El(l,t.getContext(h),o)),o}function El(n,e,t){const r=uo(n),o=n.value;Kr(r,(s,l)=>{El(s,o.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new vl(o.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,o))}class Rg{}function $0(n){return new mn.y(e=>e.error(n))}class Cl{constructor(e,t,r,o,s,l){this.rootComponentType=e,this.config=t,this.urlTree=r,this.url=o,this.paramsInheritanceStrategy=s,this.relativeLinkResolution=l}recognize(){const e=Sh(this.urlTree.root,[],[],this.config.filter(l=>void 0===l.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,kn);if(null===t)return null;const r=new bh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},kn,this.rootComponentType,null,this.urlTree.root,-1,{}),o=new Js(r,t),s=new bg(this.url,o);return this.inheritParamsAndData(s._root),s}inheritParamsAndData(e){const t=e.value,r=w0(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(o=>this.inheritParamsAndData(o))}processSegmentGroup(e,t,r){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,r)}processChildren(e,t){const r=[];for(const s of Object.keys(t.children)){const l=t.children[s],h=Kc(e,s),m=this.processSegmentGroup(h,l,s);if(null===m)return null;r.push(...m)}const o=Oh(r);return function W0(n){n.sort((e,t)=>e.value.outlet===kn?-1:t.value.outlet===kn?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}processSegment(e,t,r,o){for(const s of e){const l=this.processSegmentAgainstRoute(s,t,r,o);if(null!==l)return l}return B0(t,r,o)?[]:null}processSegmentAgainstRoute(e,t,r,o){if(e.redirectTo||!F0(e,t,r,o))return null;let s,l=[],h=[];if("**"===e.path){const J=r.length>0?pg(r).parameters:{};s=new bh(r,J,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),dr(e),e.component,e,yT(t),ac(t)+r.length,Lg(e))}else{const J=Dh(t,e,r);if(!J.matched)return null;l=J.consumedSegments,h=J.remainingSegments,s=new bh(l,J.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Ph(e),dr(e),e.component,e,yT(t),ac(t)+l.length,Lg(e))}const m=function z0(n){return n.children?n.children:n.loadChildren?n._loadedConfig.routes:[]}(e),{segmentGroup:y,slicedSegments:D}=Sh(t,l,h,m.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===D.length&&y.hasChildren()){const J=this.processChildren(m,y);return null===J?null:[new Js(s,J)]}if(0===m.length&&0===D.length)return[new Js(s,[])];const P=dr(e)===o,V=this.processSegment(m,y,D,P?kn:o);return null===V?null:[new Js(s,V)]}}function kg(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Oh(n){const e=[],t=new Set;for(const r of n){if(!kg(r)){e.push(r);continue}const o=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==o?(o.children.push(...r.children),t.add(o)):e.push(r)}for(const r of t){const o=Oh(r.children);e.push(new Js(r.value,o))}return e.filter(r=>!t.has(r))}function yT(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function ac(n){let e=n,t=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift?e._segmentIndexShift:0;return t-1}function Ph(n){return n.data||{}}function Lg(n){return n.resolve||{}}function Z0(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Bg(n){return ys(e=>{const t=n(e);return t?(0,Dn.D)(t).pipe((0,Ft.U)(()=>e)):(0,an.of)(e)})}class Ug extends class K0{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Mh=new i.OlP("ROUTES");class Nh{constructor(e,t,r,o){this.injector=e,this.compiler=t,this.onLoadStartListener=r,this.onLoadEndListener=o}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const o=this.loadModuleFactory(t.loadChildren).pipe((0,Ft.U)(s=>{this.onLoadEndListener&&this.onLoadEndListener(t);const l=s.create(e);return new fl(Zr(l.injector.get(Mh,void 0,i.XFs.Self|i.XFs.Optional)).map(wh),l)}),nc(s=>{throw t._loader$=void 0,s}));return t._loader$=new Zk(o,()=>new ur.x).pipe(Vw()),t._loader$}loadModuleFactory(e){return co(e()).pipe((0,Ii.z)(t=>t instanceof i.YKP?(0,an.of)(t):(0,Dn.D)(this.compiler.compileModuleAsync(t))))}}class DT{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Y0(n){throw n}function J0(n,e,t){return e.parse("/")}function xa(n,e){return(0,an.of)(null)}const Q0={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},X0={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let mr=(()=>{class n{constructor(t,r,o,s,l,h,m){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=o,this.location=s,this.config=m,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new ur.x,this.errorHandler=Y0,this.malformedUriErrorHandler=J0,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:xa,afterPreactivation:xa},this.urlHandlingStrategy=new DT,this.routeReuseStrategy=new Ug,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=l.get(i.h0i),this.console=l.get(i.c2e);const P=l.get(i.R0b);this.isNgZoneEnabled=P instanceof i.R0b&&i.R0b.isInAngularZone(),this.resetConfig(m),this.currentUrlTree=function Ww(){return new vs(new Vn([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Nh(l,h,V=>this.triggerEvent(new a0(V)),V=>this.triggerEvent(new c0(V))),this.routerState=vg(this.currentUrlTree,this.rootComponentType),this.transitions=new wr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe((0,xr.h)(o=>0!==o.id),(0,Ft.U)(o=>Object.assign(Object.assign({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),ys(o=>{let s=!1,l=!1;return(0,an.of)(o).pipe((0,oi.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.currentRawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),ys(h=>{const m=this.browserUrlTree.toString(),y=!this.navigated||h.extractedUrl.toString()!==m||m!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||y)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return ev(h.source)&&(this.browserUrlTree=h.extractedUrl),(0,an.of)(h).pipe(ys(P=>{const V=this.transitions.getValue();return r.next(new hh(P.id,this.serializeUrl(P.extractedUrl),P.source,P.restoredState)),V!==this.transitions.getValue()?tc.E:Promise.resolve(P)}),function fT(n,e,t,r){return ys(o=>function Ih(n,e,t,r,o){return new dT(n,e,t,r,o).apply()}(n,e,t,o.extractedUrl,r).pipe((0,Ft.U)(s=>Object.assign(Object.assign({},o),{urlAfterRedirects:s}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,oi.b)(P=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:P.urlAfterRedirects})}),function vT(n,e,t,r,o){return(0,Ii.z)(s=>function q0(n,e,t,r,o="emptyOnly",s="legacy"){try{const l=new Cl(n,e,t,r,o,s).recognize();return null===l?$0(new Rg):(0,an.of)(l)}catch(l){return $0(l)}}(n,e,s.urlAfterRedirects,t(s.urlAfterRedirects),r,o).pipe((0,Ft.U)(l=>Object.assign(Object.assign({},s),{targetSnapshot:l}))))}(this.rootComponentType,this.config,P=>this.serializeUrl(P),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,oi.b)(P=>{if("eager"===this.urlUpdateStrategy){if(!P.extras.skipLocationChange){const J=this.urlHandlingStrategy.merge(P.urlAfterRedirects,P.rawUrl);this.setBrowserUrl(J,P)}this.browserUrlTree=P.urlAfterRedirects}const V=new Yk(P.id,this.serializeUrl(P.extractedUrl),this.serializeUrl(P.urlAfterRedirects),P.targetSnapshot);r.next(V)}));if(y&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:J,source:ge,restoredState:xe,extras:Ze}=h,pt=new hh(V,this.serializeUrl(J),ge,xe);r.next(pt);const Xe=vg(J,this.rootComponentType).snapshot;return(0,an.of)(Object.assign(Object.assign({},h),{targetSnapshot:Xe,urlAfterRedirects:J,extras:Object.assign(Object.assign({},Ze),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=h.rawUrl,h.resolve(null),tc.E}),Bg(h=>{const{targetSnapshot:m,id:y,extractedUrl:D,rawUrl:P,extras:{skipLocationChange:V,replaceUrl:J}}=h;return this.hooks.beforePreactivation(m,{navigationId:y,appliedUrlTree:D,rawUrlTree:P,skipLocationChange:!!V,replaceUrl:!!J})}),(0,oi.b)(h=>{const m=new s0(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(m)}),(0,Ft.U)(h=>Object.assign(Object.assign({},h),{guards:pT(h.targetSnapshot,h.currentSnapshot,this.rootContexts)})),function Jc(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,currentSnapshot:o,guards:{canActivateChecks:s,canDeactivateChecks:l}}=t;return 0===l.length&&0===s.length?(0,an.of)(Object.assign(Object.assign({},t),{guardsResult:!0})):function Es(n,e,t,r){return(0,Dn.D)(n).pipe((0,Ii.z)(o=>function Ng(n,e,t,r,o){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,an.of)(!0);const l=s.map(h=>{const m=Ah(h,e,o);let y;if(function oT(n){return n&&Da(n.canDeactivate)}(m))y=co(m.canDeactivate(n,e,t,r));else{if(!Da(m))throw new Error("Invalid CanDeactivate guard");y=co(m(n,e,t,r))}return y.pipe(rc())});return(0,an.of)(l).pipe(gl())}(o.component,o.route,t,e,r)),rc(o=>!0!==o,!0))}(l,r,o,n).pipe((0,Ii.z)(h=>h&&function kr(n){return"boolean"==typeof n}(h)?function r2(n,e,t,r){return(0,Dn.D)(e).pipe((0,Uc.b)(o=>lr(function G0(n,e){return null!==n&&e&&e(new u0(n)),(0,an.of)(!0)}(o.route.parent,r),function o2(n,e){return null!==n&&e&&e(new ph(n)),(0,an.of)(!0)}(o.route,r),function Cs(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(l=>function gT(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>lh(()=>{const h=l.guards.map(m=>{const y=Ah(m,l.node,t);let D;if(function M0(n){return n&&Da(n.canActivateChild)}(y))D=co(y.canActivateChild(r,n));else{if(!Da(y))throw new Error("Invalid CanActivateChild guard");D=co(y(r,n))}return D.pipe(rc())});return(0,an.of)(h).pipe(gl())}));return(0,an.of)(s).pipe(gl())}(n,o.path,t),function s2(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,an.of)(!0);const o=r.map(s=>lh(()=>{const l=Ah(s,e,t);let h;if(function Og(n){return n&&Da(n.canActivate)}(l))h=co(l.canActivate(e,n));else{if(!Da(l))throw new Error("Invalid CanActivate guard");h=co(l(e,n))}return h.pipe(rc())}));return(0,an.of)(o).pipe(gl())}(n,o.route,t))),rc(o=>!0!==o,!0))}(r,s,n,e):(0,an.of)(h)),(0,Ft.U)(h=>Object.assign(Object.assign({},t),{guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,oi.b)(h=>{if(Sa(h.guardsResult)){const y=fg(`Redirecting to "${this.serializeUrl(h.guardsResult)}"`);throw y.url=h.guardsResult,y}const m=new Hw(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(m)}),(0,xr.h)(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,""),!1)),Bg(h=>{if(h.guards.canActivateChecks.length)return(0,an.of)(h).pipe((0,oi.b)(m=>{const y=new Gw(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}),ys(m=>{let y=!1;return(0,an.of)(m).pipe(function Fg(n,e){return(0,Ii.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:o}}=t;if(!o.length)return(0,an.of)(t);let s=0;return(0,Dn.D)(o).pipe((0,Uc.b)(l=>function bT(n,e,t,r){return function ET(n,e,t,r){const o=Z0(n);if(0===o.length)return(0,an.of)({});const s={};return(0,Dn.D)(o).pipe((0,Ii.z)(l=>function CT(n,e,t,r){const o=Ah(n,e,r);return co(o.resolve?o.resolve(e,t):o(e,t))}(n[l],e,t,r).pipe((0,oi.b)(h=>{s[l]=h}))),ao(1),(0,Ii.z)(()=>Z0(s).length===o.length?(0,an.of)(s):tc.E))}(n._resolve,n,e,r).pipe((0,Ft.U)(s=>(n._resolvedData=s,n.data=Object.assign(Object.assign({},n.data),w0(n,t).resolve),null)))}(l.route,r,n,e)),(0,oi.b)(()=>s++),ao(1),(0,Ii.z)(l=>s===o.length?(0,an.of)(t):tc.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,oi.b)({next:()=>y=!0,complete:()=>{y||(this.restoreHistory(m),this.cancelNavigationTransition(m,"At least one route resolver didn't emit any value."))}}))}),(0,oi.b)(m=>{const y=new $w(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(y)}))}),Bg(h=>{const{targetSnapshot:m,id:y,extractedUrl:D,rawUrl:P,extras:{skipLocationChange:V,replaceUrl:J}}=h;return this.hooks.afterPreactivation(m,{navigationId:y,appliedUrlTree:D,rawUrlTree:P,skipLocationChange:!!V,replaceUrl:!!J})}),(0,Ft.U)(h=>{const m=function e2(n,e,t){const r=dl(n,e._root,t?t._root:void 0);return new sc(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return Object.assign(Object.assign({},h),{targetRouterState:m})}),(0,oi.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,Ft.U)(r=>(new Ch(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,oi.b)({next(){s=!0},complete(){s=!0}}),function Kk(n){return(0,so.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}(()=>{var h;s||l||this.cancelNavigationTransition(o,`Navigation ID ${o.id} is not equal to the current navigation id ${this.navigationId}`),(null===(h=this.currentNavigation)||void 0===h?void 0:h.id)===o.id&&(this.currentNavigation=null)}),nc(h=>{if(l=!0,function d0(n){return n&&n[l0]}(h)){const m=Sa(h.url);m||(this.navigated=!0,this.restoreHistory(o,!0));const y=new fh(o.id,this.serializeUrl(o.extractedUrl),h.message);r.next(y),m?setTimeout(()=>{const D=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),P={skipLocationChange:o.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ev(o.source)};this.scheduleNavigation(D,"imperative",null,P,{resolve:o.resolve,reject:o.reject,promise:o.promise})},0):o.resolve(!1)}else{this.restoreHistory(o,!0);const m=new jc(o.id,this.serializeUrl(o.extractedUrl),h);r.next(m);try{o.resolve(this.errorHandler(h))}catch(y){o.reject(y)}}return tc.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{var o;const s={replaceUrl:!0},l=(null===(o=t.state)||void 0===o?void 0:o.navigationId)?t.state:null;if(l){const m=Object.assign({},l);delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const h=this.parseUrl(t.url);this.scheduleNavigation(h,r,l,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){Ai(t),this.config=t.map(wh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:o,queryParams:s,fragment:l,queryParamsHandling:h,preserveFragment:m}=r,y=o||this.routerState.root,D=m?this.currentUrlTree.fragment:l;let P=null;switch(h){case"merge":P=Object.assign(Object.assign({},this.currentUrlTree.queryParams),s);break;case"preserve":P=this.currentUrlTree.queryParams;break;default:P=s||null}return null!==P&&(P=this.removeEmptyProps(P)),function bs(n,e,t,r,o){if(0===t.length)return Eh(e.root,e.root,e.root,r,o);const s=function t2(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new tT(!0,0,n);let e=0,t=!1;const r=n.reduce((o,s,l)=>{if("object"==typeof s&&null!=s){if(s.outlets){const h={};return Kr(s.outlets,(m,y)=>{h[y]="string"==typeof m?m.split("/"):m}),[...o,{outlets:h}]}if(s.segmentPath)return[...o,s.segmentPath]}return"string"!=typeof s?[...o,s]:0===l?(s.split("/").forEach((h,m)=>{0==m&&"."===h||(0==m&&""===h?t=!0:".."===h?e++:""!=h&&o.push(h))}),o):[...o,s]},[]);return new tT(t,e,r)}(t);if(s.toRoot())return Eh(e.root,e.root,new Vn([],{}),r,o);const l=function Dg(n,e,t){if(n.isAbsolute)return new S0(e.root,!0,0);if(-1===t.snapshot._lastPathIndex){const s=t.snapshot._urlSegment;return new S0(s,s===e.root,0)}const r=Ta(n.commands[0])?0:1;return function Sg(n,e,t){let r=n,o=e,s=t;for(;s>o;){if(s-=o,r=r.parent,!r)throw new Error("Invalid number of '../'");o=r.segments.length}return new S0(r,!1,o-s)}(t.snapshot._urlSegment,t.snapshot._lastPathIndex+r,n.numberOfDoubleDots)}(s,e,n),h=l.processChildren?Ig(l.segmentGroup,l.index,s.commands):nT(l.segmentGroup,l.index,s.commands);return Eh(e.root,l.segmentGroup,h,r,o)}(y,this.currentUrlTree,t,P,null!=D?D:null)}navigateByUrl(t,r={skipLocationChange:!1}){const o=Sa(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function Rh(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new Error(`The requested path contains ${t} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(o){r=this.malformedUriErrorHandler(o,this.urlSerializer,t)}return r}isActive(t,r){let o;if(o=!0===r?Object.assign({},Q0):!1===r?Object.assign({},X0):r,Sa(t))return sl(this.currentUrlTree,t,o);const s=this.parseUrl(t);return sl(this.currentUrlTree,s,o)}removeEmptyProps(t){return Object.keys(t).reduce((r,o)=>{const s=t[o];return null!=s&&(r[o]=s),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new si(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,o,s,l){var h,m;if(this.disposed)return Promise.resolve(!1);let y,D,P;l?(y=l.resolve,D=l.reject,P=l.promise):P=new Promise((ge,xe)=>{y=ge,D=xe});const V=++this.navigationId;let J;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(o=this.location.getState()),J=o&&o.\u0275routerPageId?o.\u0275routerPageId:s.replaceUrl||s.skipLocationChange?null!==(h=this.browserPageId)&&void 0!==h?h:0:(null!==(m=this.browserPageId)&&void 0!==m?m:0)+1):J=0,this.setTransition({id:V,targetPageId:J,source:r,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:s,resolve:y,reject:D,promise:P,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),P.catch(ge=>Promise.reject(ge))}setBrowserUrl(t,r){const o=this.urlSerializer.serialize(t),s=Object.assign(Object.assign({},r.extras.state),this.generateNgRouterState(r.id,r.targetPageId));this.location.isCurrentPathEqualTo(o)||r.extras.replaceUrl?this.location.replaceState(o,"",s):this.location.go(o,"",s)}restoreHistory(t,r=!1){var o,s;if("computed"===this.canceledNavigationResolution){const l=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(o=this.currentNavigation)||void 0===o?void 0:o.finalUrl)||0===l?this.currentUrlTree===(null===(s=this.currentNavigation)||void 0===s?void 0:s.finalUrl)&&0===l&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(l)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r){const o=new fh(t.id,this.serializeUrl(t.extractedUrl),r);this.triggerEvent(o),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function ev(n){return"imperative"!==n}let ws=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.route=r,this.tabIndexAttribute=o,this.renderer=s,this.el=l,this.commands=null,this.onChanges=new ur.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,o=this.el.nativeElement;null!==t?r.setAttribute(o,"tabindex",t):r.removeAttribute(o,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const t={skipLocationChange:cc(this.skipLocationChange),replaceUrl:cc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(wa),i.$8M("tabindex"),i.Y36(i.Qsj),i.Y36(i.SBq))},n.\u0275dir=i.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&i.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),n})(),Qs=(()=>{class n{constructor(t,r,o){this.router=t,this.route=r,this.locationStrategy=o,this.commands=null,this.href=null,this.onChanges=new ur.x,this.subscription=t.events.subscribe(s=>{s instanceof si&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,o,s,l){if(0!==t||r||o||s||l||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const h={skipLocationChange:cc(this.skipLocationChange),replaceUrl:cc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,h),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:cc(this.preserveFragment)})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(wa),i.Y36(f.S$))},n.\u0275dir=i.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&i.NdJ("click",function(s){return r.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),2&t&&i.uIk("target",r.target)("href",r.href,i.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[i.TTD]}),n})();function cc(n){return""===n||!!n}class wl{}class Vg{preload(e,t){return(0,an.of)(null)}}let Lh=(()=>{class n{constructor(t,r,o,s){this.router=t,this.injector=o,this.preloadingStrategy=s,this.loader=new Nh(o,r,m=>t.triggerEvent(new a0(m)),m=>t.triggerEvent(new c0(m)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xr.h)(t=>t instanceof si),(0,Uc.b)(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(i.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const o=[];for(const s of r)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const l=s._loadedConfig;o.push(this.processRoutes(l.module,l.routes))}else s.loadChildren&&!s.canLoad?o.push(this.preloadConfig(t,s)):s.children&&o.push(this.processRoutes(t,s.children));return(0,Dn.D)(o).pipe((0,lg.J)(),(0,Ft.U)(s=>{}))}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>(r._loadedConfig?(0,an.of)(r._loadedConfig):this.loader.load(t.injector,r)).pipe((0,Ii.z)(s=>(r._loadedConfig=s,this.processRoutes(s.module,s.routes)))))}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(mr),i.LFG(i.Sil),i.LFG(i.zs3),i.LFG(wl))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Fh=(()=>{class n{constructor(t,r,o={}){this.router=t,this.viewportScroller=r,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof hh?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof si&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Vc&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Vc(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){i.$Z()},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const ts=new i.OlP("ROUTER_CONFIGURATION"),rv=new i.OlP("ROUTER_FORROOT_GUARD"),iv=[f.Ye,{provide:g0,useClass:Kw},{provide:mr,useFactory:function av(n,e,t,r,o,s,l={},h,m){const y=new mr(null,n,e,t,r,o,Zr(s));return h&&(y.urlHandlingStrategy=h),m&&(y.routeReuseStrategy=m),function AT(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(l,y),l.enableTracing&&y.events.subscribe(D=>{var P,V;null===(P=console.group)||void 0===P||P.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(V=console.groupEnd)||void 0===V||V.call(console)}),y},deps:[g0,ml,f.Ye,i.zs3,i.Sil,Mh,ts,[class TT{},new i.FiY],[class wT{},new i.FiY]]},ml,{provide:wa,useFactory:function cv(n){return n.routerState.root},deps:[mr]},Lh,Vg,class kh{preload(e,t){return t().pipe(nc(()=>(0,an.of)(null)))}},{provide:ts,useValue:{enableTracing:!1}}];function ST(){return new i.PXZ("Router",mr)}let xT=(()=>{class n{constructor(t,r){}static forRoot(t,r){return{ngModule:n,providers:[iv,IT(t),{provide:rv,useFactory:sv,deps:[[mr,new i.FiY,new i.tp0]]},{provide:ts,useValue:r||{}},{provide:f.S$,useFactory:Hg,deps:[f.lw,[new i.tBr(f.mr),new i.FiY],ts]},{provide:Fh,useFactory:ov,deps:[mr,f.EM,ts]},{provide:wl,useExisting:r&&r.preloadingStrategy?r.preloadingStrategy:Vg},{provide:i.PXZ,multi:!0,useFactory:ST},[Gg,{provide:i.ip1,multi:!0,useFactory:OT,deps:[Gg]},{provide:uv,useFactory:ns,deps:[Gg]},{provide:i.tb,multi:!0,useExisting:uv}]]}}static forChild(t){return{ngModule:n,providers:[IT(t)]}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(rv,8),i.LFG(mr,8))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();function ov(n,e,t){return t.scrollOffset&&e.setOffset(t.scrollOffset),new Fh(n,e,t)}function Hg(n,e,t={}){return t.useHash?new f.Do(n,e):new f.b0(n,e)}function sv(n){return"guarded"}function IT(n){return[{provide:i.deG,multi:!0,useValue:n},{provide:Mh,multi:!0,useValue:n}]}let Gg=(()=>{class n{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new ur.x}appInitializer(){return this.injector.get(f.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let r=null;const o=new Promise(h=>r=h),s=this.injector.get(mr),l=this.injector.get(ts);return"disabled"===l.initialNavigation?(s.setUpLocationChangeListener(),r(!0)):"enabled"===l.initialNavigation||"enabledBlocking"===l.initialNavigation?(s.hooks.afterPreactivation=()=>this.initNavigation?(0,an.of)(null):(this.initNavigation=!0,r(!0),this.resultOfPreactivationDone),s.initialNavigation()):r(!0),o})}bootstrapListener(t){const r=this.injector.get(ts),o=this.injector.get(Lh),s=this.injector.get(Fh),l=this.injector.get(mr),h=this.injector.get(i.z2F);t===h.components[0]&&(("enabledNonBlocking"===r.initialNavigation||void 0===r.initialNavigation)&&l.initialNavigation(),o.setUpPreloading(),s.init(),l.resetRootComponentType(h.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.zs3))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function OT(n){return n.appInitializer.bind(n)}function ns(n){return n.bootstrapListener.bind(n)}const uv=new i.OlP("Router Initializer");var Xs=w(635),Ts=w(6082),ea=w(710),Fo=w(4120);let $g=(()=>{class n{constructor(t,r){this.productService=t,this.shopProductService=r,this.cart=new ur.x,this.cartConfig=new ur.x,this.cart.subscribe(o=>{var s;o&&(null===(s=o.productsBarcodesUnits)||void 0===s?void 0:s.length)>0?(this._cart=o,localStorage.setItem(Ea.M.PS_SHOPPING_CART,JSON.stringify(o))):(this._cart=void 0,localStorage.removeItem(Ea.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(Ea.M.PS_SHOPPING_CART);if(t){const r=JSON.parse(t);this.cart.next(r)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){console.log("buildCartConfig()",this._cart),this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var r,o;(null===(o=null===(r=this._cart)||void 0===r?void 0:r.productsBarcodesUnits)||void 0===o?void 0:o.length)>0&&this._cart.productsBarcodesUnits.forEach(s=>{const l=t.find(m=>m.barcode===s.barcode);l||console.error("Undefined product");const h=this.shopProductService.getProductCheaperShop(l);if(h){const m=this.shopProductService.getProductLowestPrice(l),y=this.shopProductService.getProductHighestPrice(l);h.forEach(D=>{const P=this._cartConfig.items.find(J=>{var ge;return(null===(ge=J.shop)||void 0===ge?void 0:ge.id)===D.id}),V={product:l,units:s.units,minPrice:m,maxPrice:y};P?P.productsUnits.push(V):this._cartConfig.items.push({shop:D,productsUnits:[V]})})}else{const m=this._cartConfig.items.find(y=>!y.shop);m?m.productsUnits.push({product:l,units:s.units}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:l,units:s.units}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,r){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(o=>o.barcode===t.barcode).units=r,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(r=>r.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Ea.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let r=this._cart;if(r){const o=r.productsBarcodesUnits.find(s=>s.barcode===t.barcode);o?o.units++:r.productsBarcodesUnits.push({barcode:t.barcode,units:1})}else r={productsBarcodesUnits:[{barcode:t.barcode,units:1}],createDate:(new Date).getTime()};r.updateDate=(new Date).getTime(),this.cart.next(r)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Ts.M),i.LFG(ea.s))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var Bh=w(5032);function Lr(n){return(0,so.e)((e,t)=>{(0,Me.Xf)(n).subscribe((0,wt.x)(t,()=>t.complete(),Bh.Z)),!t.closed&&e.subscribe(t)})}class Cn{}const Ds="*";function hv(n,e){return{type:7,name:n,definitions:e,options:{}}}function Tl(n,e=null){return{type:4,styles:e,timings:n}}function qg(n,e=null){return{type:2,steps:n,options:e}}function Dl(n){return{type:6,styles:n,offset:null}}function Wg(n,e,t){return{type:0,name:n,styles:e,options:t}}function Uh(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Sl(n){Promise.resolve(null).then(n)}class Aa{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Sl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class jh{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,o=0;const s=this.players.length;0==s?Sl(()=>this._onFinish()):this.players.forEach(l=>{l.onDone(()=>{++t==s&&this._onFinish()}),l.onDestroy(()=>{++r==s&&this._onDestroy()}),l.onStart(()=>{++o==s&&this._onStart()})}),this.totalTime=this.players.reduce((l,h)=>Math.max(l,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const o=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(o)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const zg=["overlay"];function c2(n,e){1&n&&i._UZ(0,"div")}function NT(n,e){if(1&n&&(i.TgZ(0,"div"),i.YNc(1,c2,1,0,"div",6),i.qZA()),2&n){const t=i.oxw(2);i.Tol(t.spinner.class),i.Udp("color",t.spinner.color),i.xp6(1),i.Q6J("ngForOf",t.spinner.divArray)}}function RT(n,e){if(1&n&&(i._UZ(0,"div",7),i.ALo(1,"safeHtml")),2&n){const t=i.oxw(2);i.Q6J("innerHTML",i.lcZ(1,1,t.template),i.oJD)}}function kT(n,e){if(1&n&&(i.TgZ(0,"div",1,2),i.YNc(2,NT,2,5,"div",3),i.YNc(3,RT,2,3,"div",4),i.TgZ(4,"div",5),i.Hsn(5),i.qZA()()),2&n){const t=i.oxw();i.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),i.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),i.xp6(2),i.Q6J("ngIf",!t.template),i.xp6(1),i.Q6J("ngIf",t.template),i.xp6(1),i.Udp("z-index",t.spinner.zIndex)}}const LT=["*"],pv={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Zg="primary";class Qc{constructor(e){Object.assign(this,e)}static create(e){return(null==(null==e?void 0:e.type)||0===e.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Qc(e)}}let ta=(()=>{class n{constructor(){this.spinnerObservable=new wr(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,xr.h)(r=>r&&r.name===t))}show(t=Zg,r){return new Promise((o,s)=>{setTimeout(()=>{r&&Object.keys(r).length?(r.name=t,this.spinnerObservable.next(new Qc(Object.assign(Object.assign({},r),{show:!0}))),o(!0)):(this.spinnerObservable.next(new Qc({name:t,show:!0})),o(!0))},10)})}hide(t=Zg,r=10){return new Promise((o,s)=>{setTimeout(()=>{this.spinnerObservable.next(new Qc({name:t,show:!1})),o(!0)},r)})}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mv=(()=>{class n{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(St,16))},n.\u0275pipe=i.Yjl({name:"safeHtml",type:n,pure:!0}),n})(),FT=(()=>{class n{constructor(t,r,o){this.spinnerService=t,this.changeDetector=r,this.elementRef=o,this.disableAnimation=!1,this.spinner=new Qc,this.ngUnsubscribe=new ur.x,this.setDefaultOptions=()=>{this.spinner=Qc.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=Zg,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Lr(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const r in t)if(r){const o=t[r];if(o.isFirstChange())return;void 0!==o.currentValue&&o.currentValue!==o.previousValue&&""!==o.currentValue&&(this.spinner[r]=o.currentValue,"showSpinner"===r&&(o.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===r&&this.initObservable())}}getClass(t,r){this.spinner.divCount=pv[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((s,l)=>l);let o="";switch(r.toLowerCase()){case"small":o="la-sm";break;case"medium":o="la-2x";break;case"large":o="la-3x"}return"la-"+t+" "+o}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ta),i.Y36(i.sBO),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngx-spinner"]],viewQuery:function(t,r){if(1&t&&i.Gf(zg,5),2&t){let o;i.iGM(o=i.CRH())&&(r.spinnerDOM=o.first)}},hostBindings:function(t,r){1&t&&i.NdJ("keydown",function(s){return r.handleKeyboardEvent(s)},!1,i.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[i.TTD],ngContentSelectors:LT,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,r){1&t&&(i.F$t(),i.YNc(0,kT,6,12,"div",0)),2&t&&i.Q6J("ngIf",r.spinner.show)},directives:[f.O5,f.sg],pipes:[mv],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[hv("fadeIn",[Wg("in",Dl({opacity:1})),Uh(":enter",[Dl({opacity:0}),Tl(300)]),Uh(":leave",Tl(200,Dl({opacity:0})))])]},changeDetection:0}),n})(),Kg=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})();function Xc(n){return!!n&&(n instanceof mn.y||(0,Gi.m)(n.lift)&&(0,Gi.m)(n.subscribe))}const _v={now:()=>(_v.delegate||Date).now(),delegate:void 0};class u2 extends ur.x{constructor(e=1/0,t=1/0,r=_v){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:o,_timestampProvider:s,_windowTime:l}=this;t||(r.push(e),!o&&r.push(s.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:o}=this,s=o.slice();for(let l=0;l<s.length&&!e.closed;l+=r?1:2)e.next(s[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:o}=this,s=(o?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!o){const l=t.now();let h=0;for(let m=1;m<r.length&&r[m]<=l;m+=2)h=m;h&&r.splice(0,h+1)}}}var l2=w(3099);function BT(n,e,t){let r,o=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:o=!1,scheduler:t}=n):r=null!=n?n:1/0,(0,l2.B)({connector:()=>new u2(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:o})}class Yg{}let UT=(()=>{class n extends Yg{getTranslation(t){return(0,an.of)({})}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class yv{}let jT=(()=>{class n{handle(t){return t.key}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();function Jg(n,e){if(n===e)return!0;if(null===n||null===e)return!1;if(n!=n&&e!=e)return!0;let o,s,l,t=typeof n;if(t==typeof e&&"object"==t){if(!Array.isArray(n)){if(Array.isArray(e))return!1;for(s in l=Object.create(null),n){if(!Jg(n[s],e[s]))return!1;l[s]=!0}for(s in e)if(!(s in l)&&void 0!==e[s])return!1;return!0}if(!Array.isArray(e))return!1;if((o=n.length)==e.length){for(s=0;s<o;s++)if(!Jg(n[s],e[s]))return!1;return!0}}return!1}function $i(n){return null!=n}function Il(n){return n&&"object"==typeof n&&!Array.isArray(n)}function vv(n,e){let t=Object.assign({},n);return Il(n)&&Il(e)&&Object.keys(e).forEach(r=>{Il(e[r])?r in n?t[r]=vv(n[r],e[r]):Object.assign(t,{[r]:e[r]}):Object.assign(t,{[r]:e[r]})}),t}class Al{}let Vh=(()=>{class n extends Al{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,r){let o;return o="string"==typeof t?this.interpolateString(t,r):"function"==typeof t?this.interpolateFunction(t,r):t,o}getValue(t,r){let o="string"==typeof r?r.split("."):[r];r="";do{r+=o.shift(),!$i(t)||!$i(t[r])||"object"!=typeof t[r]&&o.length?o.length?r+=".":t=void 0:(t=t[r],r="")}while(o.length);return t}interpolateFunction(t,r){return t(r)}interpolateString(t,r){return r?t.replace(this.templateMatcher,(o,s)=>{let l=this.getValue(r,s);return $i(l)?l:o}):t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class Ol{}let Hh=(()=>{class n extends Ol{compile(t,r){return t}compileTranslations(t,r){return t}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=i.n5z(n)))(r||n)}}(),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class bv{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new i.vpe,this.onLangChange=new i.vpe,this.onDefaultLangChange=new i.vpe}}const xs=new i.OlP("USE_STORE"),Gh=new i.OlP("USE_DEFAULT_LANG"),Qg=new i.OlP("DEFAULT_LANGUAGE"),Pl=new i.OlP("USE_EXTEND");let Oa=(()=>{class n{constructor(t,r,o,s,l,h=!0,m=!1,y=!1,D){this.store=t,this.currentLoader=r,this.compiler=o,this.parser=s,this.missingTranslationHandler=l,this.useDefaultLang=h,this.isolate=m,this.extend=y,this.pending=!1,this._onTranslationChange=new i.vpe,this._onLangChange=new i.vpe,this._onDefaultLangChange=new i.vpe,this._langs=[],this._translations={},this._translationRequests={},D&&this.setDefaultLang(D)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let r=this.retrieveTranslations(t);void 0!==r?(null==this.defaultLang&&(this.defaultLang=t),r.pipe((0,Sr.q)(1)).subscribe(o=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,an.of)(this.translations[t]);let r=this.retrieveTranslations(t);return void 0!==r?(this.currentLang||(this.currentLang=t),r.pipe((0,Sr.q)(1)).subscribe(o=>{this.changeLang(t)}),r):(this.changeLang(t),(0,an.of)(this.translations[t]))}retrieveTranslations(t){let r;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),r=this._translationRequests[t]),r}getTranslation(t){this.pending=!0;const r=this.currentLoader.getTranslation(t).pipe(BT(1),(0,Sr.q)(1));return this.loadingTranslations=r.pipe((0,Ft.U)(o=>this.compiler.compileTranslations(o,t)),BT(1),(0,Sr.q)(1)),this.loadingTranslations.subscribe({next:o=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},o),this.translations[t]):o,this.updateLangs(),this.pending=!1},error:o=>{this.pending=!1}}),r}setTranslation(t,r,o=!1){r=this.compiler.compileTranslations(r,t),this.translations[t]=(o||this.extend)&&this.translations[t]?vv(this.translations[t],r):r,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(r=>{-1===this.langs.indexOf(r)&&this.langs.push(r)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,r,o){let s;if(r instanceof Array){let l={},h=!1;for(let m of r)l[m]=this.getParsedResult(t,m,o),Xc(l[m])&&(h=!0);return h?bt(r.map(y=>Xc(l[y])?l[y]:(0,an.of)(l[y]))).pipe((0,Ft.U)(y=>{let D={};return y.forEach((P,V)=>{D[r[V]]=P}),D})):l}if(t&&(s=this.parser.interpolate(this.parser.getValue(t,r),o)),void 0===s&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(s=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],r),o)),void 0===s){let l={key:r,translateService:this};void 0!==o&&(l.interpolateParams=o),s=this.missingTranslationHandler.handle(l)}return void 0!==s?s:r}get(t,r){if(!$i(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Uc.b)(o=>Xc(o=this.getParsedResult(o,t,r))?o:(0,an.of)(o)));{let o=this.getParsedResult(this.translations[this.currentLang],t,r);return Xc(o)?o:(0,an.of)(o)}}getStreamOnTranslationChange(t,r){if(!$i(t)||!t.length)throw new Error('Parameter "key" required');return lr(lh(()=>this.get(t,r)),this.onTranslationChange.pipe(ys(o=>{const s=this.getParsedResult(o.translations,t,r);return"function"==typeof s.subscribe?s:(0,an.of)(s)})))}stream(t,r){if(!$i(t)||!t.length)throw new Error('Parameter "key" required');return lr(lh(()=>this.get(t,r)),this.onLangChange.pipe(ys(o=>{const s=this.getParsedResult(o.translations,t,r);return Xc(s)?s:(0,an.of)(s)})))}instant(t,r){if(!$i(t)||!t.length)throw new Error('Parameter "key" required');let o=this.getParsedResult(this.translations[this.currentLang],t,r);if(Xc(o)){if(t instanceof Array){let s={};return t.forEach((l,h)=>{s[t[h]]=t[h]}),s}return t}return o}set(t,r,o=this.currentLang){this.translations[o][t]=this.compiler.compile(r,o),this.updateLangs(),this.onTranslationChange.emit({lang:o,translations:this.translations[o]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(bv),i.LFG(Yg),i.LFG(Ol),i.LFG(Al),i.LFG(yv),i.LFG(Gh),i.LFG(xs),i.LFG(Pl),i.LFG(Qg))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),na=(()=>{class n{constructor(t,r){this.translate=t,this._ref=r,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,r,o){let s=l=>{this.value=void 0!==l?l:t,this.lastKey=t,this._ref.markForCheck()};if(o){let l=this.translate.getParsedResult(o,t,r);Xc(l.subscribe)?l.subscribe(s):s(l)}this.translate.get(t,r).subscribe(s)}transform(t,...r){if(!t||!t.length)return t;if(Jg(t,this.lastKey)&&Jg(r,this.lastParams))return this.value;let o;if($i(r[0])&&r.length)if("string"==typeof r[0]&&r[0].length){let s=r[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{o=JSON.parse(s)}catch(l){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${r[0]}`)}}else"object"==typeof r[0]&&!Array.isArray(r[0])&&(o=r[0]);return this.lastKey=t,this.lastParams=r,this.updateValue(t,o),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(s=>{this.lastKey&&s.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,o,s.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(s=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,o,s.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,o))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Oa,16),i.Y36(i.sBO,16))},n.\u0275pipe=i.Yjl({name:"translate",type:n,pure:!1}),n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),HT=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[t.loader||{provide:Yg,useClass:UT},t.compiler||{provide:Ol,useClass:Hh},t.parser||{provide:Al,useClass:Vh},t.missingTranslationHandler||{provide:yv,useClass:jT},bv,{provide:xs,useValue:t.isolate},{provide:Gh,useValue:t.useDefaultLang},{provide:Pl,useValue:t.extend},{provide:Qg,useValue:t.defaultLanguage},Oa]}}static forChild(t={}){return{ngModule:n,providers:[t.loader||{provide:Yg,useClass:UT},t.compiler||{provide:Ol,useClass:Hh},t.parser||{provide:Al,useClass:Vh},t.missingTranslationHandler||{provide:yv,useClass:jT},{provide:xs,useValue:t.isolate},{provide:Gh,useValue:t.useDefaultLang},{provide:Pl,useValue:t.extend},{provide:Qg,useValue:t.defaultLanguage},Oa]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();const Ml={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",access:"Accedeix"},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui en la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i la aplicaci\xf3 et dir\xe0 on comprar cada producte."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escanejar"},commons:{prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits"}},eu={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",access:"Access"},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},commons:{prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only"}},Xg={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",access:"Accede"},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},commons:{prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos"}},tu={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",access:"Acesso"},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},commons:{prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos"}};let nu=(()=>{class n{constructor(t){this.translate=t,this.languages=["ca","es","en","pt"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:Ml,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:Xg,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:eu,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:tu,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,an.of)(!0)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Oa))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ru=(()=>{class n{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"ul")(2,"li"),i._uU(3),i.ALo(4,"number"),i.qZA(),i.TgZ(5,"li"),i._uU(6),i.ALo(7,"number"),i.qZA()()()),2&t&&(i.xp6(3),i.hij("Botigues: ",i.xi3(4,2,r.shops.length,"1.0-2"),""),i.xp6(3),i.hij("Productes: ",i.xi3(7,5,r.products.length,"1.0-2"),""))},pipes:[f.JJ],styles:[""]}),n})();function GT(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"tr")(2,"td"),i._uU(3),i.qZA(),i.TgZ(4,"td"),i._uU(5),i.qZA(),i.TgZ(6,"td"),i._uU(7),i.qZA(),i.TgZ(8,"td"),i._UZ(9,"img",3),i.qZA()(),i.BQk()),2&n){const t=e.$implicit;i.xp6(3),i.Oqu(t.name),i.xp6(2),i.Oqu(t.brand),i.xp6(2),i.Oqu(t.imageUrl),i.xp6(2),i.Q6J("src",t.imageUrl,i.LSH)}}let Ev=(()=>{class n{constructor(){this.products=[]}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-backoffice-products"]],inputs:{products:"products"},decls:14,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","w-100"],[4,"ngFor","ngForOf"],[1,"",3,"src"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th"),i._uU(5,"Nom"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Marca"),i.qZA(),i.TgZ(8,"th"),i._uU(9,"URL imatge"),i.qZA(),i.TgZ(10,"th"),i._uU(11,"Imatge"),i.qZA()()(),i.TgZ(12,"tbody"),i.YNc(13,GT,10,4,"ng-container",2),i.qZA()()()),2&t&&(i.xp6(13),i.Q6J("ngForOf",r.products))},directives:[f.sg],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}"]}),n})();function Cv(n,e){if(1&n&&(i.TgZ(0,"div",9),i._UZ(1,"app-backoffice-dashboard",10),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function em(n,e){1&n&&(i.TgZ(0,"div",9),i._uU(1,"Botigues"),i.qZA())}function tm(n,e){if(1&n&&(i.TgZ(0,"div",9),i._UZ(1,"app-backoffice-products",11),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("products",t.products)}}function wv(n,e){1&n&&(i.TgZ(0,"div",9),i._uU(1,"Usuaris"),i.qZA())}const uc=function(n){return{active:n}};let $T=(()=>{class n{constructor(t){this.loginService=t,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.users=[]}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(r=>{r.createdBy&&!t.find(o=>o.email===r.createdBy.email&&o.username===r.createdBy.username)&&t.push(r.createdBy)}),this.products.forEach(r=>{r.createdBy&&!t.find(o=>o.email===r.createdBy.email&&o.username===r.createdBy.username)&&t.push(r.createdBy)}),this.shopsProducts.forEach(r=>{r.createdBy&&!t.find(o=>o.email===r.createdBy.email&&o.username===r.createdBy.username)&&t.push(r.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Fo.r))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[i.TTD],decls:31,vars:28,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","w-100","mb-3","mt-5"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content","p-3","h-100"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[3,"products"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"h3"),i._uU(3,"Backoffice"),i.qZA()(),i.TgZ(4,"ul",2)(5,"li",3)(6,"a",4),i.NdJ("click",function(){return r.selectedTab=0}),i._uU(7,"Dashboard"),i.qZA()(),i.TgZ(8,"li",5)(9,"a",4),i.NdJ("click",function(){return r.selectedTab=1}),i._uU(10,"Botigues "),i.TgZ(11,"small",6),i._uU(12),i.ALo(13,"number"),i.qZA()()(),i.TgZ(14,"li",3)(15,"a",4),i.NdJ("click",function(){return r.selectedTab=2}),i._uU(16,"Productes "),i.TgZ(17,"small",6),i._uU(18),i.ALo(19,"number"),i.qZA()()(),i.TgZ(20,"li",3)(21,"a",4),i.NdJ("click",function(){return r.selectedTab=3}),i._uU(22,"Usuaris"),i.TgZ(23,"small",6),i._uU(24),i.ALo(25,"number"),i.qZA()()()(),i.TgZ(26,"div",7),i.YNc(27,Cv,2,3,"div",8),i.YNc(28,em,2,0,"div",8),i.YNc(29,tm,2,1,"div",8),i.YNc(30,wv,2,0,"div",8),i.qZA()()),2&t&&(i.xp6(6),i.Q6J("ngClass",i.VKq(20,uc,0===r.selectedTab)),i.xp6(3),i.Q6J("ngClass",i.VKq(22,uc,1===r.selectedTab)),i.xp6(3),i.hij("(",i.xi3(13,11,r.shops.length,"1.0-2"),")"),i.xp6(3),i.Q6J("ngClass",i.VKq(24,uc,2===r.selectedTab)),i.xp6(3),i.hij("(",i.xi3(19,14,r.products.length,"1.0-2"),")"),i.xp6(3),i.Q6J("ngClass",i.VKq(26,uc,3===r.selectedTab)),i.xp6(3),i.hij("(",i.xi3(25,17,null==r.users?null:r.users.length,"1.0-2"),")"),i.xp6(3),i.Q6J("ngIf",0===r.selectedTab),i.xp6(1),i.Q6J("ngIf",1===r.selectedTab),i.xp6(1),i.Q6J("ngIf",2===r.selectedTab),i.xp6(1),i.Q6J("ngIf",3===r.selectedTab))},directives:[f.mk,f.O5,ru,Ev],pipes:[f.JJ],styles:[""]}),n})();const Tv=["appLayout"];function d2(n,e){if(1&n&&(i.TgZ(0,"div",34),i._uU(1),i.ALo(2,"number"),i.qZA()),2&n){const t=i.oxw(3);i.xp6(1),i.hij(" ",i.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function Dv(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"li"),i._UZ(2,"hr",32),i.qZA(),i.TgZ(3,"li",20),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).toggleExport()}),i.TgZ(4,"div",16),i._UZ(5,"i",35),i.TgZ(6,"a",22),i._uU(7),i.ALo(8,"translate"),i.qZA()()(),i.TgZ(9,"li",20),i.NdJ("click",function(){return i.CHM(t),i.oxw(3).reset()}),i.TgZ(10,"div",16),i._UZ(11,"i",36),i.TgZ(12,"a",22),i._uU(13),i.ALo(14,"translate"),i.qZA()()(),i.BQk()}2&n&&(i.xp6(7),i.Oqu(i.lcZ(8,2,"menu.export")),i.xp6(6),i.Oqu(i.lcZ(14,4,"menu.reset")))}const Sv=function(n){return{disabled:n}},qT=function(){return["/shoppingCart"]},xv=function(){return["/search-shops"]},WT=function(){return["/search-products"]},Iv=function(){return["/statistics"]};function yo(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",7)(2,"button",8),i._UZ(3,"i",9),i.qZA(),i.YNc(4,d2,3,4,"div",10),i.qZA(),i.TgZ(5,"div",11)(6,"button",12),i._UZ(7,"i",13),i.qZA(),i.TgZ(8,"ul",14)(9,"li",15),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).goToUserDetail()}),i.TgZ(10,"div",16)(11,"div"),i._UZ(12,"i",17),i.qZA(),i.TgZ(13,"div",18)(14,"span",19),i._uU(15),i.qZA(),i.TgZ(16,"small",19),i._uU(17),i.qZA()()()(),i.TgZ(18,"li",20),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).goToHome()}),i.TgZ(19,"div",16),i._UZ(20,"i",21),i.TgZ(21,"a",22),i._uU(22),i.ALo(23,"translate"),i.qZA()()(),i.TgZ(24,"li",23)(25,"div",16),i._UZ(26,"i",24),i.TgZ(27,"a",25),i._uU(28),i.ALo(29,"translate"),i.TgZ(30,"small",26),i._uU(31),i.ALo(32,"number"),i.qZA()()()(),i.TgZ(33,"li",23)(34,"div",16),i._UZ(35,"i",27),i.TgZ(36,"a",25),i._uU(37),i.ALo(38,"translate"),i.TgZ(39,"small",26),i._uU(40),i.ALo(41,"number"),i.qZA()()()(),i.TgZ(42,"li",28)(43,"div",16),i._UZ(44,"i",29),i.TgZ(45,"a",30),i._uU(46),i.ALo(47,"translate"),i.qZA()()(),i.TgZ(48,"li",23)(49,"div",16),i._UZ(50,"i",31),i.TgZ(51,"a",25),i._uU(52),i.ALo(53,"translate"),i.qZA()()(),i.YNc(54,Dv,15,6,"ng-container",0),i.TgZ(55,"li"),i._UZ(56,"hr",32),i.qZA(),i.TgZ(57,"li",20),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).logout()}),i.TgZ(58,"div",16),i._UZ(59,"i",33),i.TgZ(60,"a",22),i._uU(61),i.ALo(62,"translate"),i.qZA()()()()(),i.BQk()}if(2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("ngClass",i.VKq(36,Sv,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",i.DdM(38,qT)),i.xp6(2),i.Q6J("ngIf",t.cartItemCount),i.xp6(11),i.Oqu(null==t.loggedUser?null:t.loggedUser.username),i.xp6(2),i.Oqu(null==t.loggedUser?null:t.loggedUser.email),i.xp6(5),i.Oqu(i.lcZ(23,18,"menu.home")),i.xp6(5),i.Q6J("routerLink",i.DdM(39,xv)),i.xp6(1),i.Oqu(i.lcZ(29,20,"menu.shops")),i.xp6(3),i.hij("(",i.xi3(32,22,null==t.shops?null:t.shops.length,"1.0-2"),")"),i.xp6(5),i.Q6J("routerLink",i.DdM(40,WT)),i.xp6(1),i.Oqu(i.lcZ(38,25,"menu.products")),i.xp6(3),i.hij("(",i.xi3(41,27,null==t.products?null:t.products.length,"1.0-2"),")"),i.xp6(5),i.Q6J("routerLink",i.DdM(41,Iv)),i.xp6(1),i.Oqu(i.lcZ(47,30,"menu.alerts")),i.xp6(5),i.Q6J("routerLink",i.DdM(42,Iv)),i.xp6(1),i.Oqu(i.lcZ(53,32,"menu.analysis")),i.xp6(2),i.Q6J("ngIf",t.dataSource===t.DataSourceOriginsEnum.LOCAL&&(null==t.loggedUser?null:t.loggedUser.isAdmin)),i.xp6(7),i.Oqu(i.lcZ(62,34,"menu.exit"))}}function zT(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",37),i._UZ(2,"app-backoffice-layout",38),i.qZA(),i.BQk()),2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}const ZT=function(n,e,t,r){return{mobilesim:n,"w-100":e,"h-100":t,"m-5":r}};function h2(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",2)(2,"div",3)(3,"div",4)(4,"h3",5),i.NdJ("click",function(){return i.CHM(t),i.oxw().goToHome()}),i._UZ(5,"i",6),i.TgZ(6,"span"),i._uU(7,"Proddle"),i.qZA()(),i.YNc(8,yo,63,43,"ng-container",0),i.qZA(),i._UZ(9,"router-outlet"),i.qZA(),i.YNc(10,zT,3,3,"ng-container",0),i.qZA(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(2),i.Q6J("ngClass",i.l5B(3,ZT,t.backofficeEnabled,!t.backofficeEnabled,!t.backofficeEnabled,t.backofficeEnabled)),i.xp6(6),i.Q6J("ngIf",t.loggedUser),i.xp6(2),i.Q6J("ngIf",t.backofficeEnabled)}}let f2=(()=>{class n{constructor(t,r,o,s,l,h,m,y,D){this.router=t,this.shopService=r,this.productService=o,this.shopProductService=s,this.loginService=l,this.shoppingCartService=h,this.spinner=m,this.translate=y,this.translationsService=D,this.DataSourceOriginsEnum=el.w,this.dataSource=Fc.q.source,this.doExport=!1,this.backofficeEnabled=!1,this.translationsLoaded=!1,this.translate.setDefaultLang(Fc.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let P=localStorage.getItem(Ea.M.PS_APP_LANGUAGE);P?this.translate.use(P):(this.translate.use(Fc.q.defaultLanguage),localStorage.setItem(Ea.M.PS_APP_LANGUAGE,Fc.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Ea.M.PS_APP_LANGUAGE))})}onResize(t){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}reset(){confirm("S'esborrar\xe0n totes les dades excepte les botigues per defecte. Desitges continuar?")&&bt({resetShopsProducts:this.shopProductService.setShopsProducts(Bw.L),resetShops:this.shopService.setShops(Uw.H),resetProducts:this.productService.setProducts(uh.X)}).subscribe(r=>{this.goToHome()})}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),r=document.createElement("textarea");r.style.position="fixed",r.style.left="0",r.style.top="0",r.style.opacity="0",r.value=t,document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var t;this.backofficeEnabled=!!(null===(t=this.loggedUser)||void 0===t?void 0:t.isAdmin)&&window.innerWidth>768}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let r=0;this.cartConfig.items.forEach(o=>{o.productsUnits.forEach(s=>{r+=s.units})}),this.cartItemCount=r}}ngOnInit(){this.spinner.show(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,console.log(this.cartConfig),this.calcCartItems()}),this.shoppingCartService.buildCartConfig(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((r,o)=>r.name>o.name?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((r,o)=>r.name>o.name?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((r,o)=>r.updateDate>o.updateDate?1:-1)}),this.shopService.getShops().subscribe(()=>{}),this.productService.getProducts().subscribe(()=>{}),this.shopProductService.getShopsProducts().subscribe(()=>{}),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loginService.setIsAdmin(this.loggedUser),this.checkBackofficeMode()}),this.loginService.refreshUser(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(Xs.d),i.Y36(Ts.M),i.Y36(ea.s),i.Y36(Fo.r),i.Y36($g),i.Y36(ta),i.Y36(Oa),i.Y36(nu))},n.\u0275cmp=i.Xpm({type:n,selectors:[["my-app"]],viewQuery:function(t,r){if(1&t&&i.Gf(Tv,5),2&t){let o;i.iGM(o=i.CRH())&&(r.appLayoutComponent=o.first)}},hostBindings:function(t,r){1&t&&i.NdJ("resize",function(s){return r.onResize(s)},!1,i.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Dades usuari",1,"fas","fa-user","me-1"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],[1,"py-2",3,"click"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2","disabled"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["href","javascript://",1,"dropdown-item","disabled",3,"routerLink"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],["title","Reiniciar",1,"fas","fa-skull","me-1"],[1,"d-flex","flex-column","flex-fill","h-100","p-3"],[3,"shops","products","shopsProducts"]],template:function(t,r){1&t&&(i.YNc(0,h2,11,8,"ng-container",0),i._UZ(1,"ngx-spinner",1)),2&t&&i.Q6J("ngIf",r.translationsLoaded)},directives:[f.O5,f.mk,ws,Qs,N0,$T,FT],pipes:[f.JJ,na],styles:[".mobilesim[_ngcontent-%COMP%]{width:360px!important;height:100%!important;border:1px solid #444;border-radius:5px;overflow-x:hidden}.header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}"]}),n})();var nm=w(520),Av=w(655),KT=w(896),vo=w.n(KT),Ov=w(5199),YT=w.n(Ov);const JT=["BarcodeScanner"],Pv={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},QT=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function Nv(n){if(!QT.some(e=>e===n))throw new Error(`This barcode type '${n}' is not valid.`)}function Rv(n){return`${n}_reader`}let rm=(()=>{class n{constructor(){this.maxWidth="100%",this._valueChanges=new ur.x,this.valueChanges=new i.vpe,this.started=new i.vpe,this._started=!1,this._destroyed=new ur.x,this._valueChanges.pipe(Lr(this._destroyed),(0,xr.h)(t=>{const r=t.codeResult.decodedCodes.filter(s=>void 0!==s.error).map(s=>s.error),o=this._getMedian(r);return!this.errorFilter||!(this.errorFilter.median&&o>this.errorFilter.median||this.errorFilter.threshold&&r.some(s=>s>this.errorFilter.threshold))})).subscribe(t=>{const r=vo().canvas.ctx.overlay;vo().ImageDebug.drawPath(t.line,{x:"x",y:"y"},r,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,r)=>{vo().onProcessed(o=>this.onProcessed(o)),vo().onDetected(o=>this.onDetected(o)),this.configQuagga=YT()({},this.config,Pv),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function Mv(n){return"string"==typeof n?(Nv(n),[Rv(n)]):n.map(e=>(Nv(e),Rv(e)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),vo().init(this.configQuagga,o=>{if(o)return console.log(o),r(o);t()})})}_getMedian(t){t.sort((o,s)=>o-s);const r=Math.floor(t.length/2);return t.length%2==1?t[r]:(t[r-1]+t[r])/2}start(){return(0,Av.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),vo().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(vo().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const r=vo().canvas.ctx.overlay,o=vo().canvas.dom.overlay;t&&(t.boxes&&(r.clearRect(0,0,parseInt(o.getAttribute("width"),10),parseInt(o.getAttribute("height"),10)),t.boxes.filter(s=>s!==t.box).forEach(s=>{vo().ImageDebug.drawPath(s,{x:0,y:1},r,{color:"green",lineWidth:2})})),t.box&&vo().ImageDebug.drawPath(t.box,{x:0,y:1},r,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,r){if(1&t&&i.Gf(JT,5),2&t){let o;i.iGM(o=i.CRH())&&(r.barcodeScanner=o.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[i.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0,1),i._UZ(2,"video")(3,"canvas",2),i.qZA()),2&t&&(i.Udp("max-height",r._maxHeight)("max-width",r._maxWidth),i.Q6J("hidden",!r.isStarted),i.xp6(2),i.Udp("max-height",r._maxHeight)("max-width",r._maxWidth),i.xp6(1),i.Udp("max-height",r._maxHeight)("max-width",r._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),n})(),kv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})();var im=w(1144);const XT=["addListener","removeListener"],eD=["addEventListener","removeEventListener"],m2=["on","off"];function Yr(n,e,t,r){if((0,Gi.m)(t)&&(r=t,t=void 0),r)return Yr(n,e,t).pipe(He(r));const[o,s]=function om(n){return(0,Gi.m)(n.addEventListener)&&(0,Gi.m)(n.removeEventListener)}(n)?eD.map(l=>h=>n[l](e,h,t)):function tD(n){return(0,Gi.m)(n.addListener)&&(0,Gi.m)(n.removeListener)}(n)?XT.map(Lv(n,e)):function nD(n){return(0,Gi.m)(n.on)&&(0,Gi.m)(n.off)}(n)?m2.map(Lv(n,e)):[];if(!o&&(0,im.z)(n))return(0,Ii.z)(l=>Yr(l,e,t))((0,Me.Xf)(n));if(!o)throw new TypeError("Invalid event target");return new mn.y(l=>{const h=(...m)=>l.next(1<m.length?m:m[0]);return o(h),()=>s(h)})}function Lv(n,e){return t=>r=>n[t](e,r)}class rD extends r0.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const $h={setInterval(n,e,...t){const{delegate:r}=$h;return(null==r?void 0:r.setInterval)?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=$h;return((null==e?void 0:e.clearInterval)||clearInterval)(n)},delegate:void 0};var qh=w(8737);class Wh extends rD{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return $h.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;$h.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let o,r=!1;try{this.work(e)}catch(s){r=!0,o=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),o}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,qh.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}class Nl{constructor(e,t=Nl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Nl.now=_v.now;class zh extends Nl{constructor(e,t=Nl.now){super(e,t),this.actions=[],this._active=!1,this._scheduled=void 0}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const iu=new zh(Wh),Fv=iu;var iD=w(3532);function Rl(n=0,e,t=Fv){let r=-1;return null!=e&&((0,iD.K)(e)?t=e:r=e),new mn.y(o=>{let s=function oD(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let l=0;return t.schedule(function(){o.closed||(o.next(l++),0<=r?this.schedule(void 0,r):o.complete())},s)})}const{isArray:_2}=Array;function Bv(n){return 1===n.length&&_2(n[0])?n[0]:n}const am=new mn.y(Bh.Z);function kl(...n){const e=(0,Ct.jO)(n),t=Bv(n);return t.length?new mn.y(r=>{let o=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{o=s=null});for(let l=0;!r.closed&&l<t.length;l++)(0,Me.Xf)(t[l]).subscribe((0,wt.x)(r,h=>{if(o[l].push(h),o.every(m=>m.length)){const m=o.map(y=>y.shift());r.next(e?e(...m):m),o.some((y,D)=>!y.length&&s[D])&&r.complete()}},()=>{s[l]=!0,!o[l].length&&r.complete()}));return()=>{o=s=null}}):tc.E}function Is(n,e=Xa.y){return n=null!=n?n:aD,(0,so.e)((t,r)=>{let o,s=!0;t.subscribe((0,wt.x)(r,l=>{const h=e(l);(s||!n(o,h))&&(s=!1,o=h,r.next(l))}))})}function aD(n,e){return n===e}function cm(...n){const e=(0,Ct.jO)(n);return(0,so.e)((t,r)=>{const o=n.length,s=new Array(o);let l=n.map(()=>!1),h=!1;for(let m=0;m<o;m++)(0,Me.Xf)(n[m]).subscribe((0,wt.x)(r,y=>{s[m]=y,!h&&!l[m]&&(l[m]=!0,(h=l.every(Xa.y))&&(l=null))},Bh.Z));t.subscribe((0,wt.x)(r,m=>{if(h){const y=[m,...s];r.next(e?e(...y):y)}}))})}Math,Math,Math;const MD=["*"];function o1(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li",6),i.NdJ("click",function(){const s=i.CHM(t).$implicit,l=i.oxw();return l.focus(),l.select(s.id,l.NgbSlideEventSource.INDICATOR)}),i.qZA()}if(2&n){const t=e.$implicit,r=i.oxw();i.ekj("active",t.id===r.activeId),i.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function ND(n,e){}function s1(n,e){if(1&n&&(i.TgZ(0,"div",7)(1,"span",8),i.SDv(2,9),i.qZA(),i.YNc(3,ND,0,0,"ng-template",10),i.qZA()),2&n){const t=e.$implicit,r=e.index,o=e.count;i.Q6J("id","slide-"+t.id),i.xp6(2),i.pQV(r+1)(o),i.QtT(2),i.xp6(1),i.Q6J("ngTemplateOutlet",t.tplRef)}}function ef(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"a",11),i.NdJ("click",function(){return i.CHM(t),i.oxw().arrowLeft()}),i._UZ(1,"span",12),i.TgZ(2,"span",8),i.SDv(3,13),i.qZA()()}}function RD(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"a",14),i.NdJ("click",function(){return i.CHM(t),i.oxw().arrowRight()}),i._UZ(1,"span",15),i.TgZ(2,"span",8),i.SDv(3,16),i.qZA()()}}const p1=["dialog"];function Ra(n){return null!=n}function pc(n){return(n||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(n){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(n))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null});const km={animation:!0,transitionTimerDelayMs:5},lS=()=>{},{transitionTimerDelayMs:dS}=km,Kl=new Map,qi=(n,e,t,r)=>{let o=r.context||{};const s=Kl.get(e);if(s)switch(r.runningTransition){case"continue":return tc.E;case"stop":n.run(()=>s.transition$.complete()),o=Object.assign(s.context,o),Kl.delete(e)}const l=t(e,r.animation,o)||lS;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>l()),(0,an.of)(void 0).pipe(function U1(n){return e=>new mn.y(t=>e.subscribe({next:l=>n.run(()=>t.next(l)),error:l=>n.run(()=>t.error(l)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new ur.x,m=new ur.x,y=h.pipe(function ia(...n){return e=>lr(e,(0,an.of)(...n))}(!0));Kl.set(e,{transition$:h,complete:()=>{m.next(),m.complete()},context:o});const D=function j1(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const P=Yr(e,"transitionend").pipe(Lr(y),(0,xr.h)(({target:J})=>J===e));(function sm(...n){return 1===(n=Bv(n)).length?(0,Me.Xf)(n[0]):new mn.y(function Uv(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,Me.Xf)(n[r]).subscribe((0,wt.x)(e,o=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(o)})))}}(n))})(Rl(D+dS).pipe(Lr(y)),P,m).pipe(Lr(y)).subscribe(()=>{Kl.delete(e),n.run(()=>{l(),h.next(),h.complete()})})}),h.asObservable()};let df=(()=>{class n{constructor(){this.animation=km.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),jm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();var lo=(()=>{return(n=lo||(lo={})).START="start",n.END="end",lo;var n})();const Y1=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Yl=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},aa=n=>{Yl(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},bS=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Y1(n)?Yl(r):(r.add("carousel-item-"+(t===lo.START?"next":"prev")),pc(n),r.add("carousel-item-"+t)),()=>{aa(r),r.add("active")}):(Yl(r),aa(r),void r.add("active"))},Vm=(n,e,{direction:t})=>{const{classList:r}=n;return e?(Y1(n)?Yl(r):r.add("carousel-item-"+t),()=>{aa(r),r.remove("active")}):(Yl(r),aa(r),void r.remove("active"))};let ES=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(df))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),J1=0,ff=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+J1++,this.slid=new i.vpe}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.Rgc))},n.\u0275dir=i.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),n})(),CS=(()=>{class n{constructor(t,r,o,s,l){this._platformId=r,this._ngZone=o,this._cd=s,this._container=l,this.NgbSlideEventSource=tn,this._destroy$=new ur.x,this._interval$=new wr(0),this._mouseHover$=new wr(!1),this._focused$=new wr(!1),this._pauseOnHover$=new wr(!1),this._pauseOnFocus$=new wr(!1),this._pause$=new wr(!1),this._wrap$=new wr(!1),this.slide=new i.vpe,this.slid=new i.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(tn.ARROW_LEFT)}arrowRight(){this.focus(),this.next(tn.ARROW_RIGHT)}ngAfterContentInit(){(0,f.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=tl([this.slide.pipe((0,Ft.U)(r=>r.current),dg(this.activeId)),this._wrap$,this.slides.changes.pipe(dg(null))]).pipe((0,Ft.U)(([r,o])=>{const s=this.slides.toArray(),l=this._getSlideIdxById(r);return o?s.length>1:l<s.length-1}),Is());tl([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Ft.U)(([r,o,s,l,h,m,y])=>r||o&&s||l&&h||!y?0:m),Is(),ys(r=>r>0?Rl(r,r):am),Lr(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(tn.TIMER)))}),this.slides.changes.pipe(Lr(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(r=>(n=>{var e;null===(e=Kl.get(n))||void 0===e||e.complete()})(this._getSlideElement(r))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Sr.q)(1)).subscribe(()=>{for(const{id:r}of this.slides){const o=this._getSlideElement(r);r===this.activeId?o.classList.add("active"):o.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),lo.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),lo.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,o){const s=this._transitionIds;if(s&&(s[0]!==t||s[1]!==this.activeId))return;let l=this._getSlideById(t);if(l&&l.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:l.id,direction:r,paused:this._pause$.value,source:o});const h={animation:this.animation,runningTransition:"stop",context:{direction:r}},m=[],y=this._getSlideById(this.activeId);if(y){const J=qi(this._ngZone,this._getSlideElement(y.id),Vm,h);J.subscribe(()=>{y.slid.emit({isShown:!1,direction:r,source:o})}),m.push(J)}const D=this.activeId;this.activeId=l.id;const P=this._getSlideById(this.activeId),V=qi(this._ngZone,this._getSlideElement(l.id),bS,h);V.subscribe(()=>{null==P||P.slid.emit({isShown:!0,direction:r,source:o})}),m.push(V),kl(...m).pipe((0,Sr.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:D,current:l.id,direction:r,paused:this._pause$.value,source:o})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?lo.END:lo.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),o=this._getSlideIdxById(t);return o===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[o+1].id}_getPrevSlide(t){const r=this.slides.toArray(),o=this._getSlideIdxById(t);return 0===o?this.wrap?r[r.length-1].id:r[0].id:r[o-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ES),i.Y36(i.Lbi),i.Y36(i.R0b),i.Y36(i.sBO),i.Y36(i.SBq))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,o){if(1&t&&i.Suo(o,ff,4),2&t){let s;i.iGM(s=i.CRH())&&(r.slides=s)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&i.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(i.uIk("aria-activedescendant","slide-"+r.activeId),i.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(i.TgZ(0,"ol",0),i.YNc(1,o1,1,5,"li",1),i.qZA(),i.TgZ(2,"div",2),i.YNc(3,s1,4,4,"div",3),i.qZA(),i.YNc(4,ef,4,0,"a",4),i.YNc(5,RD,4,0,"a",5)),2&t&&(i.ekj("visually-hidden",!r.showNavigationIndicators),i.xp6(1),i.Q6J("ngForOf",r.slides),i.xp6(2),i.Q6J("ngForOf",r.slides),i.xp6(1),i.Q6J("ngIf",r.showNavigationArrows),i.xp6(1),i.Q6J("ngIf",r.showNavigationArrows))},directives:[f.sg,f.tP,f.O5],encapsulation:2,changeDetection:0}),n})();var tn=(()=>{return(n=tn||(tn={})).TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator",tn;var n})();let Q1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),X1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();var Xr=(()=>{return(n=Xr||(Xr={}))[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",Xr;var n})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const nb=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function rb(n){const e=Array.from(n.querySelectorAll(nb)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let lx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez,ch]]}),n})(),hx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();class Fa{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let _b=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{qi(this._zone,this._el.nativeElement,(t,r)=>{r&&pc(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return qi(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(i.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),i.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class Ef{close(e){}dismiss(e){}}class yb{constructor(e,t,r,o){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=o,this._closed=new ur.x,this._dismissed=new ur.x,this._hidden=new ur.x,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,l)=>{this._resolve=s,this._reject=l}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Lr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Lr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Nm(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,an.of)(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),kl(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Cu=(()=>{return(n=Cu||(Cu={}))[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",Cu;var n})();let vb=(()=>{class n{constructor(t,r,o){this._document=t,this._elRef=r,this._zone=o,this._closed$=new ur.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new i.vpe,this.shown=new ur.x,this.hidden=new ur.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Sr.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},l=kl(qi(this._zone,t,()=>t.classList.remove("show"),r),qi(this._zone,this._dialogEl.nativeElement,()=>{},r));return l.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),l}_show(){const t={animation:this.animation,runningTransition:"continue"};kl(qi(this._zone,this._elRef.nativeElement,(s,l)=>{l&&pc(s),s.classList.add("show")},t),qi(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Yr(t,"keydown").pipe(Lr(this._closed$),(0,xr.h)(o=>o.which===Xr.Escape)).subscribe(o=>{this.keyboard?requestAnimationFrame(()=>{o.defaultPrevented||this._zone.run(()=>this.dismiss(Cu.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Yr(this._dialogEl.nativeElement,"mousedown").pipe(Lr(this._closed$),(0,oi.b)(()=>r=!1),ys(()=>Yr(t,"mouseup").pipe(Lr(this._closed$),(0,Sr.q)(1))),(0,xr.h)(({target:o})=>t===o)).subscribe(()=>{r=!0}),Yr(t,"click").pipe(Lr(this._closed$)).subscribe(({target:o})=>{t===o&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(Cu.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),o=rb(t)[0];(r||o||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let o;o=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>o.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&qi(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(f.K0),i.Y36(i.SBq),i.Y36(i.R0b))},n.\u0275cmp=i.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&i.Gf(p1,7),2&t){let o;i.iGM(o=i.CRH())&&(r._dialogEl=o.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(i.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),i.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),i.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:MD,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(i.F$t(),i.TgZ(0,"div",0,1)(2,"div",2),i.Hsn(3),i.qZA()()),2&t&&i.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),bb=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,o=r.style,{overflow:s,paddingRight:l}=o;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);o.paddingRight=`${h+t}px`}return o.overflow="hidden",()=>{t>0&&(o.paddingRight=l),o.overflow=s}}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Eb=(()=>{class n{constructor(t,r,o,s,l,h){this._applicationRef=t,this._injector=r,this._document=o,this._scrollBar=s,this._rendererFactory=l,this._ngZone=h,this._activeWindowCmptHasChanged=new ur.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new i.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const m=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const o=Yr(e,"focusin").pipe(Lr(t),(0,Ft.U)(s=>s.target));Yr(e,"keydown").pipe(Lr(t),(0,xr.h)(s=>s.which===Xr.Tab),cm(o)).subscribe(([s,l])=>{const[h,m]=rb(e);(l===h||l===e)&&s.shiftKey&&(m.focus(),s.preventDefault()),l===m&&!s.shiftKey&&(h.focus(),s.preventDefault())}),r&&Yr(e,"click").pipe(Lr(t),cm(o),(0,Ft.U)(s=>s[1])).subscribe(s=>s.focus())})})(0,m.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(m.location.nativeElement)}})}open(t,r,o,s){const l=s.container instanceof HTMLElement?s.container:Ra(s.container)?this._document.querySelector(s.container):this._document.body,h=this._rendererFactory.createRenderer(null,null),m=this._scrollBar.hide(),y=()=>{this._modalRefs.length||(h.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!l)throw new Error(`The specified modal container "${s.container||"body"}" was not found in the DOM.`);const D=new Ef,P=this._getContentRef(t,s.injector||r,o,D,s);let V=!1!==s.backdrop?this._attachBackdrop(t,l):void 0,J=this._attachWindowComponent(t,l,P),ge=new yb(J,P,V,s.beforeDismiss);return this._registerModalRef(ge),this._registerWindowCmpt(J),ge.result.then(m,m),ge.result.then(y,y),D.close=xe=>{ge.close(xe)},D.dismiss=xe=>{ge.dismiss(xe)},this._applyWindowOptions(J.instance,s),1===this._modalRefs.length&&h.addClass(this._document.body,"modal-open"),V&&V.instance&&(this._applyBackdropOptions(V.instance,s),V.changeDetectorRef.detectChanges()),J.changeDetectorRef.detectChanges(),ge}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,r){let s=t.resolveComponentFactory(_b).create(this._injector);return this._applicationRef.attachView(s.hostView),r.appendChild(s.location.nativeElement),s}_attachWindowComponent(t,r,o){let l=t.resolveComponentFactory(vb).create(this._injector,o.nodes);return this._applicationRef.attachView(l.hostView),r.appendChild(l.location.nativeElement),l}_applyWindowOptions(t,r){this._windowAttributes.forEach(o=>{Ra(r[o])&&(t[o]=r[o])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(o=>{Ra(r[o])&&(t[o]=r[o])})}_getContentRef(t,r,o,s,l){return o?o instanceof i.Rgc?this._createFromTemplateRef(o,s):function Zl(n){return"string"==typeof n}(o)?this._createFromString(o):this._createFromComponent(t,r,o,s,l):new Fa([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(l){r.close(l)},dismiss(l){r.dismiss(l)}});return this._applicationRef.attachView(s),new Fa([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Fa([[r]])}_createFromComponent(t,r,o,s,l){const h=t.resolveComponentFactory(o),m=i.zs3.create({providers:[{provide:Ef,useValue:s}],parent:r}),y=h.create(m),D=y.location.nativeElement;return l.scrollable&&D.classList.add("component-host-scrollable"),this._applicationRef.attachView(y.hostView),new Fa([[D]],y.hostView,y)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(o=>{o!==t&&"SCRIPT"!==o.nodeName&&(this._ariaHiddenValues.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const o=this._modalRefs.indexOf(t);o>-1&&(this._modalRefs.splice(o,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.z2F),i.LFG(i.zs3),i.LFG(f.K0),i.LFG(bb),i.LFG(i.FYo),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fx=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(df))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),px=(()=>{class n{constructor(t,r,o,s){this._moduleCFR=t,this._injector=r,this._modalStack=o,this._config=s}open(t,r={}){const o=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),r);return this._modalStack.open(this._moduleCFR,this._injector,t,o)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i._Vd),i.LFG(i.zs3),i.LFG(Eb),i.LFG(fx))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Cb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[px]}),n})(),Sb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Ob=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Af=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Of=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Lb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),t_=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),jb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})(),Mf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({}),n})();new i.OlP("live announcer delay",{providedIn:"root",factory:function n_(){return 100}});let Nx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[[f.ez]]}),n})();const Hb=[W1,Bm,jm,Q1,X1,lx,hx,Cb,Sb,Ob,Af,Of,Lb,t_,jb,Mf,Nx];let Rx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({imports:[Hb,W1,Bm,jm,Q1,X1,lx,hx,Cb,Sb,Ob,Af,Of,Lb,t_,jb,Mf,Nx]}),n})(),cs=(()=>{class n{constructor(t,r){this.loginService=t,this.router=r}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(Fo.r),i.LFG(mr))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const hr=void 0,kx=["es",[["a.\xa0m.","p.\xa0m."],hr,hr],hr,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],hr,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],hr,[["a. C.","d. C."],hr,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",hr,"{1}, {0}",hr],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[hr,"$"],BRL:[hr,"R$"],CAD:[hr,"$"],CNY:[hr,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[hr,"\xa3"],HKD:[hr,"$"],ILS:[hr,"\u20aa"],INR:[hr,"\u20b9"],JPY:[hr,"\xa5"],KRW:[hr,"\u20a9"],MXN:[hr,"$"],NZD:[hr,"$"],PHP:[hr,"\u20b1"],RON:[hr,"L"],THB:["\u0e3f"],TWD:[hr,"NT$"],USD:["US$","$"],XAF:[],XCD:[hr,"$"],XOF:[]},"ltr",function Gb(n){return 1===n?1:5}];function i_(n,e){1&n&&(i.TgZ(0,"div",7)(1,"small"),i._uU(2,"Preu m\xe9s "),i.TgZ(3,"strong",8),i._uU(4,"barat:"),i.qZA()()())}function o_(n,e){1&n&&(i.TgZ(0,"div",7)(1,"small"),i._uU(2,"Preu m\xe9s "),i.TgZ(3,"strong",9),i._uU(4,"car:"),i.qZA()()())}function jL(n,e){1&n&&i.GkF(0)}function Lx(n,e){if(1&n&&(i.TgZ(0,"li")(1,"div",21),i._UZ(2,"i",22),i.TgZ(3,"span",23),i._uU(4),i.qZA()()()),2&n){const t=e.$implicit;i.xp6(4),i.AsE("",t.name," (",t.brand,")")}}function Fx(n,e){if(1&n&&(i.TgZ(0,"tr")(1,"td",19)(2,"ul",20),i.YNc(3,Lx,5,2,"li",14),i.qZA()()()),2&n){const t=i.oxw().$implicit;i.xp6(3),i.Q6J("ngForOf",null==t?null:t.products)}}const $b=function(n){return{active:n}};function qb(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"tr")(2,"td",15),i._uU(3),i.qZA(),i.TgZ(4,"td",16),i._uU(5),i.qZA(),i.TgZ(6,"td",13),i._uU(7),i.ALo(8,"number"),i.qZA(),i.TgZ(9,"td")(10,"i",17),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return s.showProducts=!s.showProducts}),i.qZA()()(),i.YNc(11,Fx,4,1,"tr",18),i.BQk()}if(2&n){const t=e.$implicit,r=e.index,o=i.oxw(2);i.xp6(3),i.Oqu(r+1),i.xp6(2),i.Oqu(o.getShopName(t.shopId)),i.xp6(2),i.Oqu(i.xi3(8,5,t.times,"1.0-2")),i.xp6(3),i.Q6J("ngClass",i.VKq(8,$b,t.showProducts)),i.xp6(1),i.Q6J("ngIf",t.showProducts)}}function Bx(n,e){if(1&n&&(i.TgZ(0,"div",10)(1,"table",11)(2,"thead")(3,"tr")(4,"th",12),i._uU(5,"#"),i.qZA(),i.TgZ(6,"th"),i._uU(7,"Botiga"),i.qZA(),i.TgZ(8,"th",13),i._uU(9,"N\xba productes"),i.qZA(),i._UZ(10,"th"),i.qZA()(),i.TgZ(11,"tbody"),i.YNc(12,qb,12,10,"ng-container",14),i.qZA()()()),2&n){const t=i.oxw();i.xp6(12),i.Q6J("ngForOf",t.standings)}}function Wb(n,e){1&n&&(i.TgZ(0,"div",24),i._UZ(1,"i",25),i.TgZ(2,"small",26),i._uU(3,"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues"),i.qZA()())}function zb(n,e){1&n&&(i.TgZ(0,"small",31),i._UZ(1,"span",32),i.TgZ(2,"span"),i._uU(3,"No tens productes marcats com a preferits."),i.qZA()())}function Ux(n,e){if(1&n&&(i.TgZ(0,"div",27),i._UZ(1,"i",28),i.TgZ(2,"div",29)(3,"small",30),i._uU(4,"No hi ha resultats. Possibles causes:"),i.qZA(),i.TgZ(5,"small",31),i._UZ(6,"span",32),i.TgZ(7,"span"),i._uU(8,"No tens productes amb preus diferents segons la botiga."),i.qZA()(),i.YNc(9,zb,4,0,"small",33),i.qZA()()),2&n){const t=i.oxw();i.xp6(9),i.Q6J("ngIf",t.onlyFavourites)}}let jx=(()=>{class n{constructor(t,r,o){this.shopProductService=t,this.shopService=r,this.productService=o,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],r=[],o=[];this.shopsProducts.forEach(s=>{(!this.onlyFavourites||this.isFavouriteProduct(s.productBarcode))&&t.indexOf(s.productBarcode)<0&&t.push(s.productBarcode)}),this.shopsProducts.forEach(s=>{(!this.onlyFavourites||this.isFavouriteProduct(s.productBarcode))&&r.indexOf(s.shopId)<0&&r.push(s.shopId)}),(t.length>1||r.length>1)&&t.forEach(s=>{const l=this.shopsProducts.filter(m=>m.productBarcode===s),h=[];if(l.forEach(m=>{h.indexOf(m.shopId)<0&&h.push(m.shopId)}),h.length>1){const m=this.shopsProducts.filter(J=>J.productBarcode===s);let y=[];h.forEach(J=>{y.push(m.filter(ge=>ge.shopId===J)[0])}),y=y.sort((J,ge)=>J.updateDate>ge.updateDate?-1:1);const D=y.sort((J,ge)=>J.price>ge.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let V=[];if(y.length>1&&D[0].price!==D[D.length-1].price){const J=y[0].price,ge=this.productService._products.find(xe=>y[0].productBarcode===xe.barcode);V=y.filter(xe=>xe.price===J).map(xe=>xe.shopId),V.forEach(xe=>{const Ze=o.findIndex(pt=>pt.shopId===xe);Ze>=0?(o[Ze].times++,o[Ze].products.push(ge)):o.push({shopId:xe,times:1,products:[ge],showProducts:!1})})}}}),this.standings=o.sort((s,l)=>s.times>l.times?-1:1)}getShopName(t){var r;return null===(r=this.shops.find(o=>o.id===t))||void 0===r?void 0:r.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((r,o)=>r.name>o.name?1:-1)}),this.shopService.getShops().subscribe(()=>{}),this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((r,o)=>r.updateDate>o.updateDate?-1:1),this.calculateStandings()}),this.shopProductService.getShopsProducts().subscribe(t=>{})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ea.s),i.Y36(Xs.d),i.Y36(Ts.M))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[i.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"text-success"],[1,"text-danger"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,i_,5,0,"div",2),i.YNc(3,o_,5,0,"div",2),i.YNc(4,jL,1,0,"ng-container",3),i.YNc(5,Bx,13,1,"div",4),i.qZA()(),i.YNc(6,Wb,4,0,"ng-template",null,5,i.W1O),i.YNc(8,Ux,10,1,"ng-template",null,6,i.W1O)),2&t){const o=i.MAs(7),s=i.MAs(9);i.xp6(2),i.Q6J("ngIf","CHEAP"===r.target),i.xp6(1),i.Q6J("ngIf","EXPENSIVE"===r.target),i.xp6(1),i.Q6J("ngIf",r.shopsProducts.length>0)("ngIfElse",o),i.xp6(1),i.Q6J("ngIf",(null==r.standings?null:r.standings.length)>0)("ngIfElse",s)}},directives:[f.O5,f.sg,f.mk],pipes:[f.JJ],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),n})();function Zb(n,e){1&n&&i.GkF(0)}function Vx(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",8)(1,"span",9),i.NdJ("click",function(){return i.CHM(t),i.oxw().exit()}),i._UZ(2,"i",10),i.TgZ(3,"span",11),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"span",12),i._uU(7,"/"),i.qZA(),i.TgZ(8,"span",13),i._uU(9),i.ALo(10,"translate"),i.qZA()()}2&n&&(i.xp6(4),i.Oqu(i.lcZ(5,2,"breadcrumb.home")),i.xp6(5),i.Oqu(i.lcZ(10,4,"breadcrumb.analysis")))}let Kb=(()=>{class n{constructor(t,r,o){this.router=t,this.spinner=r,this.productService=o,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(ta),i.Y36(Ts.M))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,Zb,1,0,"ng-container",1),i.TgZ(2,"div",2)(3,"input",3),i.NdJ("ngModelChange",function(s){return r.onlyFavourites=s}),i.qZA(),i.TgZ(4,"label",4),i._uU(5),i.ALo(6,"translate"),i.qZA()()(),i.TgZ(7,"div",5),i._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),i.qZA(),i.YNc(10,Vx,11,6,"ng-template",null,7,i.W1O)),2&t){const o=i.MAs(11);i.xp6(1),i.Q6J("ngTemplateOutlet",o),i.xp6(2),i.Q6J("ngModel",r.onlyFavourites),i.xp6(2),i.Oqu(i.lcZ(6,7,"commons.onlyFavouriteProducts")),i.xp6(3),i.Q6J("onlyFavourites",r.onlyFavourites)("target","CHEAP"),i.xp6(1),i.Q6J("onlyFavourites",r.onlyFavourites)("target","EXPENSIVE")}},directives:[f.tP,_t,C,Qo,jx],pipes:[na],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),n})();function s_(n,e,t,r,o,s,l){try{var h=n[s](l),m=h.value}catch(y){return void t(y)}h.done?e(m):Promise.resolve(m).then(r,o)}function Ie(n){return function(){var e=this,t=arguments;return new Promise(function(r,o){var s=n.apply(e,t);function l(m){s_(s,r,o,l,h,"next",m)}function h(m){s_(s,r,o,l,h,"throw",m)}l(void 0)})}}const $x=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let o=n.charCodeAt(r);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=63&o|128):55296==(64512&o)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(o=65536+((1023&o)<<10)+(1023&n.charCodeAt(++r)),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=63&o|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=63&o|128)}return e},Jb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<n.length;o+=3){const s=n[o],l=o+1<n.length,h=l?n[o+1]:0,m=o+2<n.length,y=m?n[o+2]:0;let V=(15&h)<<2|y>>6,J=63&y;m||(J=64,l||(V=64)),r.push(t[s>>2],t[(3&s)<<4|h>>4],t[V],t[J])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray($x(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const o=n[t++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const s=n[t++];e[r++]=String.fromCharCode((31&o)<<6|63&s)}else if(o>239&&o<365){const m=((7&o)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(1023&m))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((15&o)<<12|(63&s)<<6|63&l)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<n.length;){const s=t[n.charAt(o++)],h=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const P=o<n.length?t[n.charAt(o)]:64;if(++o,null==s||null==h||null==y||null==P)throw Error();r.push(s<<2|h>>4),64!==y&&(r.push(h<<4&240|y>>2),64!==P&&r.push(y<<6&192|P))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},a_=function(n){return function(n){const e=$x(n);return Jb.encodeByteArray(e,!0)}(n).replace(/\./g,"")};class Xb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function Vo(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u_(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Vo())}function id(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}function zx(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ba(){return"object"==typeof indexedDB}function od(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var s;e((null===(s=o.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}function sd(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ua extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ua.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,la.prototype.create)}}class la{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},o=`${this.service}/${e}`,s=this.errors[e],l=s?function Kx(n,e){return n.replace(Yx,(t,r)=>{const o=e[r];return null!=o?String(o):`<${r}?>`})}(s,r):"Error";return new Ua(o,`${this.serviceName}: ${l} (${o}).`,r)}}const Yx=/\{\$([^}]+)}/g;function kf(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const o of t){if(!r.includes(o))return!1;const s=n[o],l=e[o];if(h_(s)&&h_(l)){if(!kf(s,l))return!1}else if(s!==l)return!1}for(const o of r)if(!t.includes(o))return!1;return!0}function h_(n){return null!==n&&"object"==typeof n}function sE(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}class f_{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let o;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");o=function eI(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===o.next&&(o.next=aE),void 0===o.error&&(o.error=aE),void 0===o.complete&&(o.complete=aE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch(l){}}),this.observers.push(o),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aE(){}function Ff(n,e=1e3,t=2){const r=e*Math.pow(t,n),o=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+o)}function wo(n){return n&&n._delegate?n._delegate:n}function ad(n,e){return new Promise((t,r)=>{n.onsuccess=o=>{t(o.target.result)},n.onerror=o=>{var s;r(`${e}: ${null===(s=o.target.error)||void 0===s?void 0:s.message}`)}})}class g_{constructor(e){this._db=e,this.objectStoreNames=this._db.objectStoreNames}transaction(e,t){return new m_(this._db.transaction.call(this._db,e,t))}createObjectStore(e,t){return new iI(this._db.createObjectStore(e,t))}close(){this._db.close()}}class m_{constructor(e){this._transaction=e,this.complete=new Promise((t,r)=>{this._transaction.oncomplete=function(){t()},this._transaction.onerror=()=>{r(this._transaction.error)},this._transaction.onabort=()=>{r(this._transaction.error)}})}objectStore(e){return new iI(this._transaction.objectStore(e))}}class iI{constructor(e){this._store=e}index(e){return new oI(this._store.index(e))}createIndex(e,t,r){return new oI(this._store.createIndex(e,t,r))}get(e){return ad(this._store.get(e),"Error reading from IndexedDB")}put(e,t){return ad(this._store.put(e,t),"Error writing to IndexedDB")}delete(e){return ad(this._store.delete(e),"Error deleting from IndexedDB")}clear(){return ad(this._store.clear(),"Error clearing IndexedDB object store")}}class oI{constructor(e){this._index=e}get(e){return ad(this._index.get(e),"Error reading from IndexedDB")}}function __(n,e,t){return new Promise((r,o)=>{try{const s=indexedDB.open(n,e);s.onsuccess=l=>{r(new g_(l.target.result))},s.onerror=l=>{var h;o(`Error opening indexedDB: ${null===(h=l.target.error)||void 0===h?void 0:h.message}`)},s.onupgradeneeded=l=>{t(new g_(s.result),l.oldVersion,l.newVersion,new m_(s.transaction))}}catch(s){o(`Error opening indexedDB: ${s.message}`)}})}function dE(n){return Bf.apply(this,arguments)}function Bf(){return(Bf=Ie(function*(n){return new Promise((e,t)=>{try{const r=indexedDB.deleteDatabase(n);r.onsuccess=()=>{e()},r.onerror=o=>{var s;t(`Error deleting indexedDB database "${n}": ${null===(s=o.target.error)||void 0===s?void 0:s.message}`)}}catch(r){t(`Error deleting indexedDB database "${n}": ${r.message}`)}})})).apply(this,arguments)}class Pi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _c="[DEFAULT]";class sI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Xb;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&r.resolve(o)}catch(o){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),o=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(o)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(o)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function tF(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:_c})}catch(t){}for(const[t,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:o});r.resolve(s)}catch(s){}}}}clearInstance(e=_c){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return Ie(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=_c){return this.instances.has(e)}getOptions(e=_c){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&l.resolve(o);return o}onInit(e,t){var r;const o=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(o))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(o,s);const l=this.instances.get(o);return l&&e(l,o),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const o of r)try{o(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===_c?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(o){}var n;return r||null}normalizeInstanceIdentifier(e=_c){return this.component?this.component.multipleInstances?e:_c:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class nF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new sI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const hE=[];var Kn=(()=>{return(n=Kn||(Kn={}))[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",Kn;var n})();const fE={debug:Kn.DEBUG,verbose:Kn.VERBOSE,info:Kn.INFO,warn:Kn.WARN,error:Kn.ERROR,silent:Kn.SILENT},Uf=Kn.INFO,aI={[Kn.DEBUG]:"log",[Kn.VERBOSE]:"log",[Kn.INFO]:"info",[Kn.WARN]:"warn",[Kn.ERROR]:"error"},cI=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),o=aI[e];if(!o)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[o](`[${r}]  ${n.name}:`,...t)};class yc{constructor(e){this.name=e,this._logLevel=Uf,this._logHandler=cI,this._userLogHandler=null,hE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Kn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?fE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Kn.DEBUG,...e),this._logHandler(this,Kn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Kn.VERBOSE,...e),this._logHandler(this,Kn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Kn.INFO,...e),this._logHandler(this,Kn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Kn.WARN,...e),this._logHandler(this,Kn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Kn.ERROR,...e),this._logHandler(this,Kn.ERROR,...e)}}class y_{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function v_(n){const e=n.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const b_="@firebase/app",cd=new yc("@firebase/app"),w_="[DEFAULT]",yI={[b_]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Du=new Map,T_=new Map;function dF(n,e){try{n.container.addComponent(e)}catch(t){cd.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function fo(n){const e=n.name;if(T_.has(e))return cd.debug(`There were multiple attempts to register component ${e}.`),!1;T_.set(e,n);for(const t of Du.values())dF(t,n);return!0}function Hf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}const vc=new la("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class a{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Pi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw vc.create("app-deleted",{appName:this._name})}}const c="9.6.9";function u(n,e={}){"object"!=typeof e&&(e={name:e});const t=Object.assign({name:w_,automaticDataCollectionEnabled:!1},e),r=t.name;if("string"!=typeof r||!r)throw vc.create("bad-app-name",{appName:String(r)});const o=Du.get(r);if(o){if(kf(n,o.options)&&kf(t,o.config))return o;throw vc.create("duplicate-app",{appName:r})}const s=new nF(r);for(const h of T_.values())s.addComponent(h);const l=new a(n,t,s);return Du.set(r,l),l}function d(n=w_){const e=Du.get(n);if(!e)throw vc.create("no-app",{appName:n});return e}function p(){return Array.from(Du.values())}function E(n,e,t){var r;let o=null!==(r=yI[n])&&void 0!==r?r:n;t&&(o+=`-${t}`);const s=o.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const h=[`Unable to register library "${o}" with version "${e}":`];return s&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&l&&h.push("and"),l&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void cd.warn(h.join(" "))}fo(new Pi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}const _e="firebase-heartbeat-store";let Oe=null;function Ye(){return Oe||(Oe=__("firebase-heartbeat-database",1,(n,e)=>{0===e&&n.createObjectStore(_e)}).catch(n=>{throw vc.create("storage-open",{originalErrorMessage:n.message})})),Oe}function Et(){return(Et=Ie(function*(n){try{return(yield Ye()).transaction(_e).objectStore(_e).get(on(n))}catch(e){throw vc.create("storage-get",{originalErrorMessage:e.message})}})).apply(this,arguments)}function Vt(n,e){return Qe.apply(this,arguments)}function Qe(){return(Qe=Ie(function*(n,e){try{const r=(yield Ye()).transaction(_e,"readwrite");return yield r.objectStore(_e).put(e,on(n)),r.complete}catch(t){throw vc.create("storage-set",{originalErrorMessage:t.message})}})).apply(this,arguments)}function on(n){return`${n.name}!${n.options.appId}`}class To{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new S_(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return Ie(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ja();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==o&&!e._heartbeatsCache.heartbeats.some(s=>s.date===o))return e._heartbeatsCache.heartbeats.push({date:o,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const l=new Date(s.date).valueOf();return Date.now()-l<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return Ie(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=ja(),{heartbeatsToSend:r,unsentEntries:o}=function D_(n,e=1024){const t=[];let r=n.slice();for(const o of n){const s=t.find(l=>l.agent===o.agent);if(s){if(s.dates.push(o.date),Gf(t)>e){s.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),Gf(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=a_(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(e._heartbeatsCache.heartbeats=o,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function ja(){return(new Date).toISOString().substring(0,10)}class S_{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return Ie(function*(){return!!Ba()&&od().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return Ie(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function ut(n){return Et.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return Ie(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Vt(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return Ie(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return Vt(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Gf(n){return a_(JSON.stringify({version:2,heartbeats:n})).length}!function x_(n){fo(new Pi("platform-logger",e=>new y_(e),"PRIVATE")),fo(new Pi("heartbeat",e=>new To(e),"PRIVATE")),E(b_,"0.7.19",n),E(b_,"0.7.19","esm2017"),E("fire-js","")}(""),E("firebase","9.6.9","app");const $f="@firebase/installations",fF="w:0.5.6",pF="FIS_v2",bc=new la("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function gF(n){return n instanceof Ua&&n.code.includes("request-failed")}function vI({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function mF(n){return{token:n.token,requestStatus:2,expiresIn:s8(n.expiresIn),creationTime:Date.now()}}function bI(n,e){return EI.apply(this,arguments)}function EI(){return(EI=Ie(function*(n,e){const r=(yield e.json()).error;return bc.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function _F({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function yF(n,{refreshToken:e}){const t=_F(n);return t.append("Authorization",function a8(n){return`${pF} ${n}`}(e)),t}function CI(n){return wI.apply(this,arguments)}function wI(){return(wI=Ie(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function s8(n){return Number(n.replace("s","000"))}function c8(n,e){return TI.apply(this,arguments)}function TI(){return(TI=Ie(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=vI(n),o=_F(n),s=e.getImmediate({optional:!0});if(s){const y=yield s.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={method:"POST",headers:o,body:JSON.stringify({fid:t,authVersion:pF,appId:n.appId,sdkVersion:fF})},m=yield CI(()=>fetch(r,h));if(m.ok){const y=yield m.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:mF(y.authToken)}}throw yield bI("Create Installation",m)})).apply(this,arguments)}function vF(n){return new Promise(e=>{setTimeout(e,n)})}const l8=/^[cdef][\w-]{21}$/;function d8(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function h8(n){return function u8(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return l8.test(t)?t:""}catch(n){return""}}function Wf(n){return`${n.appName}!${n.appId}`}const zf=new Map;function bF(n,e){const t=Wf(n);EF(t,e),function g8(n,e){const t=function CF(){return!ld&&"BroadcastChannel"in self&&(ld=new BroadcastChannel("[Firebase] FID Change"),ld.onmessage=n=>{EF(n.data.key,n.data.fid)}),ld}();t&&t.postMessage({key:n,fid:e}),function wF(){0===zf.size&&ld&&(ld.close(),ld=null)}()}(t,e)}function EF(n,e){const t=zf.get(n);if(t)for(const r of t)r(e)}let ld=null;const dd="firebase-installations-store";let SI=null;function xI(){return SI||(SI=__("firebase-installations-database",1,(n,e)=>{0===e&&n.createObjectStore(dd)})),SI}function bE(n,e){return II.apply(this,arguments)}function II(){return(II=Ie(function*(n,e){const t=Wf(n),o=(yield xI()).transaction(dd,"readwrite"),s=o.objectStore(dd),l=yield s.get(t);return yield s.put(e,t),yield o.complete,(!l||l.fid!==e.fid)&&bF(n,e.fid),e})).apply(this,arguments)}function AI(n){return OI.apply(this,arguments)}function OI(){return(OI=Ie(function*(n){const e=Wf(n),r=(yield xI()).transaction(dd,"readwrite");yield r.objectStore(dd).delete(e),yield r.complete})).apply(this,arguments)}function O_(n,e){return PI.apply(this,arguments)}function PI(){return(PI=Ie(function*(n,e){const t=Wf(n),o=(yield xI()).transaction(dd,"readwrite"),s=o.objectStore(dd),l=yield s.get(t),h=e(l);return void 0===h?yield s.delete(t):yield s.put(h,t),yield o.complete,h&&(!l||l.fid!==h.fid)&&bF(n,h.fid),h})).apply(this,arguments)}function MI(n){return NI.apply(this,arguments)}function NI(){return(NI=Ie(function*(n){let e;const t=yield O_(n.appConfig,r=>{const o=y8(r),s=v8(n,o);return e=s.registrationPromise,s.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function y8(n){return DF(n||{fid:d8(),registrationStatus:0})}function v8(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(bc.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function b8(n,e){return RI.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:E8(n)}:{installationEntry:e}}function RI(){return(RI=Ie(function*(n,e){try{const t=yield c8(n,e);return bE(n.appConfig,t)}catch(t){throw gF(t)&&409===t.customData.serverCode?yield AI(n.appConfig):yield bE(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function E8(n){return kI.apply(this,arguments)}function kI(){return(kI=Ie(function*(n){let e=yield TF(n.appConfig);for(;1===e.registrationStatus;)yield vF(100),e=yield TF(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield MI(n);return r||t}return e})).apply(this,arguments)}function TF(n){return O_(n,e=>{if(!e)throw bc.create("installation-not-found");return DF(e)})}function DF(n){return function C8(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function w8(n,e){return LI.apply(this,arguments)}function LI(){return(LI=Ie(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=T8(n,t),o=yF(n,t),s=e.getImmediate({optional:!0});if(s){const y=yield s.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const h={method:"POST",headers:o,body:JSON.stringify({installation:{sdkVersion:fF,appId:n.appId}})},m=yield CI(()=>fetch(r,h));if(m.ok)return mF(yield m.json());throw yield bI("Generate Auth Token",m)})).apply(this,arguments)}function T8(n,{fid:e}){return`${vI(n)}/${e}/authTokens:generate`}function FI(n){return BI.apply(this,arguments)}function BI(){return(BI=Ie(function*(n,e=!1){let t;const r=yield O_(n.appConfig,s=>{if(!xF(s))throw bc.create("not-registered");const l=s.authToken;if(!e&&x8(l))return s;if(1===l.requestStatus)return t=D8(n,e),s;{if(!navigator.onLine)throw bc.create("app-offline");const h=A8(s);return t=S8(n,h),h}});return t?yield t:r.authToken})).apply(this,arguments)}function D8(n,e){return UI.apply(this,arguments)}function UI(){return(UI=Ie(function*(n,e){let t=yield SF(n.appConfig);for(;1===t.authToken.requestStatus;)yield vF(100),t=yield SF(n.appConfig);const r=t.authToken;return 0===r.requestStatus?FI(n,e):r})).apply(this,arguments)}function SF(n){return O_(n,e=>{if(!xF(e))throw bc.create("not-registered");return function O8(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function S8(n,e){return jI.apply(this,arguments)}function jI(){return(jI=Ie(function*(n,e){try{const t=yield w8(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield bE(n.appConfig,r),t}catch(t){if(!gF(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bE(n.appConfig,r)}else yield AI(n.appConfig);throw t}})).apply(this,arguments)}function xF(n){return void 0!==n&&2===n.registrationStatus}function x8(n){return 2===n.requestStatus&&!function I8(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function A8(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function VI(){return(VI=Ie(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield MI(e);return r?r.catch(console.error):FI(e).catch(console.error),t.fid})).apply(this,arguments)}function HI(){return(HI=Ie(function*(n,e=!1){const t=n;return yield N8(t),(yield FI(t,e)).token})).apply(this,arguments)}function N8(n){return GI.apply(this,arguments)}function GI(){return(GI=Ie(function*(n){const{registrationPromise:e}=yield MI(n);e&&(yield e)})).apply(this,arguments)}function WI(n){return bc.create("missing-app-config-values",{valueName:n})}const IF="installations",B8=n=>{const e=n.getProvider("app").getImmediate(),t=function L8(n){if(!n||!n.options)throw WI("App Configuration");if(!n.name)throw WI("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw WI(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:Hf(e,"heartbeat"),_delete:()=>Promise.resolve()}},U8=n=>{const t=Hf(n.getProvider("app").getImmediate(),IF).getImmediate();return{getId:()=>function P8(n){return VI.apply(this,arguments)}(t),getToken:o=>function M8(n){return HI.apply(this,arguments)}(t,o)}};(function j8(){fo(new Pi(IF,B8,"PUBLIC")),fo(new Pi("installations-internal",U8,"PRIVATE"))})(),E($f,"0.5.6"),E($f,"0.5.6","esm2017");const zI="@firebase/remote-config",Ho=new la("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class J8{constructor(e,t,r,o){this.client=e,this.storage=t,this.storageCache=r,this.logger=o}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,o=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${o}.`),o}fetch(e){var t=this;return Ie(function*(){const[r,o]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(o&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return o;e.eTag=o&&o.eTag;const s=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&l.push(t.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(l),s})()}}function Q8(n=navigator){return n.languages&&n.languages[0]||n.language}class X8{constructor(e,t,r,o,s,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=o,this.apiKey=s,this.appId=l}fetch(e){var t=this;return Ie(function*(){const[r,o]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,h={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},m={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:o,app_id:t.appId,language_code:Q8()},y={method:"POST",headers:h,body:JSON.stringify(m)},D=fetch(l,y),P=new Promise((pt,Xe)=>{e.signal.addEventListener(()=>{const $t=new Error("The operation was aborted.");$t.name="AbortError",Xe($t)})});let V;try{yield Promise.race([D,P]),V=yield D}catch(pt){let Xe="fetch-client-network";throw"AbortError"===pt.name&&(Xe="fetch-timeout"),Ho.create(Xe,{originalErrorMessage:pt.message})}let J=V.status;const ge=V.headers.get("ETag")||void 0;let xe,Ze;if(200===V.status){let pt;try{pt=yield V.json()}catch(Xe){throw Ho.create("fetch-client-parse",{originalErrorMessage:Xe.message})}xe=pt.entries,Ze=pt.state}if("INSTANCE_STATE_UNSPECIFIED"===Ze?J=500:"NO_CHANGE"===Ze?J=304:("NO_TEMPLATE"===Ze||"EMPTY_CONFIG"===Ze)&&(xe={}),304!==J&&200!==J)throw Ho.create("fetch-status",{httpStatus:J});return{status:J,eTag:ge,config:xe}})()}}class n5{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return Ie(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var o=this;return Ie(function*(){yield function e5(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),s=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(s),r(Ho.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const s=yield o.client.fetch(e);return yield o.storage.deleteThrottleMetadata(),s}catch(s){if(!function t5(n){if(!(n instanceof Ua&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const l={throttleEndTimeMillis:Date.now()+Ff(r),backoffCount:r+1};return yield o.storage.setThrottleMetadata(l),o.attemptFetch(e,l)}})()}}class o5{constructor(e,t,r,o,s){this.app=e,this._client=t,this._storageCache=r,this._storage=o,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function CE(n,e){const t=n.target.error||void 0;return Ho.create(e,{originalErrorMessage:t&&t.message})}const hd="app_namespace_store";class u5{constructor(e,t,r,o=function c5(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(CE(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(hd,{keyPath:"compositeKey"})}}catch(t){e(Ho.create("storage-open",{originalErrorMessage:t}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=o}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return Ie(function*(){const r=yield t.openDbPromise;return new Promise((o,s)=>{const h=r.transaction([hd],"readonly").objectStore(hd),m=t.createCompositeKey(e);try{const y=h.get(m);y.onerror=D=>{s(CE(D,"storage-get"))},y.onsuccess=D=>{const P=D.target.result;o(P?P.value:void 0)}}catch(y){s(Ho.create("storage-get",{originalErrorMessage:y&&y.message}))}})})()}set(e,t){var r=this;return Ie(function*(){const o=yield r.openDbPromise;return new Promise((s,l)=>{const m=o.transaction([hd],"readwrite").objectStore(hd),y=r.createCompositeKey(e);try{const D=m.put({compositeKey:y,value:t});D.onerror=P=>{l(CE(P,"storage-set"))},D.onsuccess=()=>{s()}}catch(D){l(Ho.create("storage-set",{originalErrorMessage:D&&D.message}))}})})()}delete(e){var t=this;return Ie(function*(){const r=yield t.openDbPromise;return new Promise((o,s)=>{const h=r.transaction([hd],"readwrite").objectStore(hd),m=t.createCompositeKey(e);try{const y=h.delete(m);y.onerror=D=>{s(CE(D,"storage-delete"))},y.onsuccess=()=>{o()}}catch(y){s(Ho.create("storage-delete",{originalErrorMessage:y&&y.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class l5{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return Ie(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),o=e.storage.getActiveConfig(),s=yield t;s&&(e.lastFetchStatus=s);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const h=yield o;h&&(e.activeConfig=h)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function h5(){return QI.apply(this,arguments)}function QI(){return(QI=Ie(function*(){if(!Ba())return!1;try{return yield od()}catch(n){return!1}})).apply(this,arguments)}!function d5(){fo(new Pi("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Ho.create("registration-window");if(!Ba())throw Ho.create("indexed-db-unavailable");const{projectId:s,apiKey:l,appId:h}=r.options;if(!s)throw Ho.create("registration-project-id");if(!l)throw Ho.create("registration-api-key");if(!h)throw Ho.create("registration-app-id");const m=new u5(h,r.name,t=t||"firebase"),y=new l5(m),D=new yc(zI);D.logLevel=Kn.ERROR;const P=new X8(o,c,t,s,l,h),V=new n5(P,m),J=new J8(V,m,y,D),ge=new o5(r,J,y,m,D);return function Z8(n){const e=wo(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(ge),ge},"PUBLIC").setMultipleInstances(!0)),E(zI,"0.3.5"),E(zI,"0.3.5","esm2017")}();const f5="/firebase-messaging-sw.js",p5="/firebase-cloud-messaging-push-scope",MF="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",NF="google.c.a.c_id",m5="google.c.a.c_l",_5="google.c.a.ts",y5="google.c.a.e";var Zf=(()=>{return(n=Zf||(Zf={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",Zf;var n})();function Ec(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function v5(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),o=new Uint8Array(r.length);for(let s=0;s<r.length;++s)o[s]=r.charCodeAt(s);return o}const XI="fcm_token_details_db",RF="fcm_token_object_Store";function E5(n){return eA.apply(this,arguments)}function eA(){return eA=Ie(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(XI))return null;let e=null;return(yield __(XI,5,function(){var r=Ie(function*(o,s,l,h){var m;if(s<2||!o.objectStoreNames.contains(RF))return;const y=h.objectStore(RF),D=yield y.index("fcmSenderId").get(n);if(yield y.clear(),D)if(2===s){const P=D;if(!P.auth||!P.p256dh||!P.endpoint)return;e={token:P.fcmToken,createTime:null!==(m=P.createTime)&&void 0!==m?m:Date.now(),subscriptionOptions:{auth:P.auth,p256dh:P.p256dh,endpoint:P.endpoint,swScope:P.swScope,vapidKey:"string"==typeof P.vapidKey?P.vapidKey:Ec(P.vapidKey)}}}else if(3===s){const P=D;e={token:P.fcmToken,createTime:P.createTime,subscriptionOptions:{auth:Ec(P.auth),p256dh:Ec(P.p256dh),endpoint:P.endpoint,swScope:P.swScope,vapidKey:Ec(P.vapidKey)}}}else if(4===s){const P=D;e={token:P.fcmToken,createTime:P.createTime,subscriptionOptions:{auth:Ec(P.auth),p256dh:Ec(P.p256dh),endpoint:P.endpoint,swScope:P.swScope,vapidKey:Ec(P.vapidKey)}}}});return function(o,s,l,h){return r.apply(this,arguments)}}())).close(),yield dE(XI),yield dE("fcm_vapid_details_db"),yield dE("undefined"),C5(e)?e:null}),eA.apply(this,arguments)}function C5(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const fd="firebase-messaging-store";let tA=null;function nA(){return tA||(tA=__("firebase-messaging-database",1,(n,e)=>{0===e&&n.createObjectStore(fd)})),tA}function kF(n){return rA.apply(this,arguments)}function rA(){return(rA=Ie(function*(n){const e=aA(n),r=yield(yield nA()).transaction(fd).objectStore(fd).get(e);if(r)return r;{const o=yield E5(n.appConfig.senderId);if(o)return yield iA(n,o),o}})).apply(this,arguments)}function iA(n,e){return oA.apply(this,arguments)}function oA(){return(oA=Ie(function*(n,e){const t=aA(n),o=(yield nA()).transaction(fd,"readwrite");return yield o.objectStore(fd).put(e,t),yield o.complete,e})).apply(this,arguments)}function D5(n){return sA.apply(this,arguments)}function sA(){return(sA=Ie(function*(n){const e=aA(n),r=(yield nA()).transaction(fd,"readwrite");yield r.objectStore(fd).delete(e),yield r.complete})).apply(this,arguments)}function aA({appConfig:n}){return n.appId}const Wi=new la("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function x5(n,e){return cA.apply(this,arguments)}function cA(){return(cA=Ie(function*(n,e){const t=yield hA(n),r=FF(e),o={method:"POST",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(dA(n.appConfig),o)).json()}catch(l){throw Wi.create("token-subscribe-failed",{errorInfo:l})}if(s.error)throw Wi.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Wi.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function I5(n,e){return uA.apply(this,arguments)}function uA(){return(uA=Ie(function*(n,e){const t=yield hA(n),r=FF(e.subscriptionOptions),o={method:"PATCH",headers:t,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${dA(n.appConfig)}/${e.token}`,o)).json()}catch(l){throw Wi.create("token-update-failed",{errorInfo:l})}if(s.error)throw Wi.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Wi.create("token-update-no-token");return s.token})).apply(this,arguments)}function LF(n,e){return lA.apply(this,arguments)}function lA(){return(lA=Ie(function*(n,e){const r={method:"DELETE",headers:yield hA(n)};try{const s=yield(yield fetch(`${dA(n.appConfig)}/${e}`,r)).json();if(s.error)throw Wi.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(o){throw Wi.create("token-unsubscribe-failed",{errorInfo:o})}})).apply(this,arguments)}function dA({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function hA(n){return fA.apply(this,arguments)}function fA(){return(fA=Ie(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function FF({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const o={web:{endpoint:t,auth:e,p256dh:n}};return r!==MF&&(o.web.applicationPubKey=r),o}const A5=6048e5;function O5(n){return pA.apply(this,arguments)}function pA(){return(pA=Ie(function*(n){const e=yield M5(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Ec(e.getKey("auth")),p256dh:Ec(e.getKey("p256dh"))},r=yield kF(n.firebaseDependencies);if(r){if(N5(r.subscriptionOptions,t))return Date.now()>=r.createTime+A5?P5(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield LF(n.firebaseDependencies,r.token)}catch(o){console.warn(o)}return UF(n.firebaseDependencies,t)}return UF(n.firebaseDependencies,t)})).apply(this,arguments)}function BF(n){return gA.apply(this,arguments)}function gA(){return(gA=Ie(function*(n){const e=yield kF(n.firebaseDependencies);e&&(yield LF(n.firebaseDependencies,e.token),yield D5(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function P5(n,e){return mA.apply(this,arguments)}function mA(){return(mA=Ie(function*(n,e){try{const t=yield I5(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield iA(n.firebaseDependencies,r),t}catch(t){throw yield BF(n),t}})).apply(this,arguments)}function UF(n,e){return _A.apply(this,arguments)}function _A(){return(_A=Ie(function*(n,e){const r={token:yield x5(n,e),createTime:Date.now(),subscriptionOptions:e};return yield iA(n,r),r.token})).apply(this,arguments)}function M5(n,e){return yA.apply(this,arguments)}function yA(){return(yA=Ie(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:v5(e)})})).apply(this,arguments)}function N5(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function jF(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function R5(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const o=e.notification.image;o&&(n.notification.image=o)}(e,n),function k5(n,e){!e.data||(n.data=e.data)}(e,n),function L5(n,e){if(!e.fcmOptions)return;n.fcmOptions={};const t=e.fcmOptions.link;t&&(n.fcmOptions.link=t);const r=e.fcmOptions.analytics_label;r&&(n.fcmOptions.analyticsLabel=r)}(e,n),e}function F5(n){return"object"==typeof n&&!!n&&NF in n}function VF(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function vA(n){return Wi.create("missing-app-config-values",{valueName:n})}VF("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),VF("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class U5{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const o=function B5(n){if(!n||!n.options)throw vA("App Configuration Object");if(!n.name)throw vA("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw vA(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:o,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function HF(n){return bA.apply(this,arguments)}function bA(){return(bA=Ie(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(f5,{scope:p5}),n.swRegistration.update().catch(()=>{})}catch(e){throw Wi.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function j5(n,e){return EA.apply(this,arguments)}function EA(){return(EA=Ie(function*(n,e){if(!e&&!n.swRegistration&&(yield HF(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Wi.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function V5(n,e){return CA.apply(this,arguments)}function CA(){return(CA=Ie(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=MF)})).apply(this,arguments)}function wA(){return(wA=Ie(function*(n,e){if(!navigator)throw Wi.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Wi.create("permission-blocked");return yield V5(n,null==e?void 0:e.vapidKey),yield j5(n,null==e?void 0:e.serviceWorkerRegistration),O5(n)})).apply(this,arguments)}function H5(n,e,t){return TA.apply(this,arguments)}function TA(){return(TA=Ie(function*(n,e,t){const r=G5(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[NF],message_name:t[m5],message_time:t[_5],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function G5(n){switch(n){case Zf.NOTIFICATION_CLICKED:return"notification_open";case Zf.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function DA(){return(DA=Ie(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===Zf.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(jF(t)):n.onMessageHandler.next(jF(t)));const r=t.data;F5(r)&&"1"===r[y5]&&(yield H5(n,t.messageType,r))})).apply(this,arguments)}const $F="@firebase/messaging",q5=n=>{const e=new U5(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function $5(n,e){return DA.apply(this,arguments)}(e,t)),e},W5=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function GF(n,e){return wA.apply(this,arguments)}(e,r)}};function WF(){return SA.apply(this,arguments)}function SA(){return(SA=Ie(function*(){try{yield od()}catch(n){return!1}return"undefined"!=typeof window&&Ba()&&sd()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function z5(){fo(new Pi("messaging",q5,"PUBLIC")),fo(new Pi("messaging-internal",W5,"PRIVATE")),E($F,"0.9.10"),E($F,"0.9.10","esm2017")}();const wE="analytics",Y5="firebase_id",X5="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zF="https://www.googletagmanager.com/gtag/js",zi=new yc("@firebase/analytics");function ZF(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function eH(n,e){const t=document.createElement("script");t.src=`${zF}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function nH(n,e,t,r,o,s){return AA.apply(this,arguments)}function AA(){return(AA=Ie(function*(n,e,t,r,o,s){const l=r[o];try{if(l)yield e[l];else{const m=(yield ZF(t)).find(y=>y.measurementId===o);m&&(yield e[m.appId])}}catch(h){zi.error(h)}n("config",o,s)})).apply(this,arguments)}function rH(n,e,t,r,o){return OA.apply(this,arguments)}function OA(){return(OA=Ie(function*(n,e,t,r,o){try{let s=[];if(o&&o.send_to){let l=o.send_to;Array.isArray(l)||(l=[l]);const h=yield ZF(t);for(const m of l){const y=h.find(P=>P.measurementId===m),D=y&&e[y.appId];if(!D){s=[];break}s.push(D)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),n("event",r,o||{})}catch(s){zi.error(s)}})).apply(this,arguments)}function sH(){const n=window.document.getElementsByTagName("script");for(const e of Object.values(n))if(e.src&&e.src.includes(zF))return e;return null}const us=new la("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),KF=new class lH{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function dH(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function hH(n){return PA.apply(this,arguments)}function PA(){return(PA=Ie(function*(n){var e;const{appId:t,apiKey:r}=n,o={method:"GET",headers:dH(r)},s=X5.replace("{app-id}",t),l=yield fetch(s,o);if(200!==l.status&&304!==l.status){let h="";try{const m=yield l.json();(null===(e=m.error)||void 0===e?void 0:e.message)&&(h=m.error.message)}catch(m){}throw us.create("config-fetch-failed",{httpStatus:l.status,responseMessage:h})}return l.json()})).apply(this,arguments)}function fH(n){return MA.apply(this,arguments)}function MA(){return(MA=Ie(function*(n,e=KF,t){const{appId:r,apiKey:o,measurementId:s}=n.options;if(!r)throw us.create("no-app-id");if(!o){if(s)return{measurementId:s,appId:r};throw us.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},h=new mH;return setTimeout(Ie(function*(){h.abort()}),void 0!==t?t:6e4),YF({appId:r,apiKey:o,measurementId:s},l,h,e)})).apply(this,arguments)}function YF(n,e,t){return NA.apply(this,arguments)}function NA(){return(NA=Ie(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,o=KF){const{appId:s,measurementId:l}=n;try{yield pH(r,e)}catch(h){if(l)return zi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:s,measurementId:l};throw h}try{const h=yield hH(n);return o.deleteThrottleMetadata(s),h}catch(h){if(!gH(h)){if(o.deleteThrottleMetadata(s),l)return zi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${h.message}]`),{appId:s,measurementId:l};throw h}const m=503===Number(h.customData.httpStatus)?Ff(t,o.intervalMillis,30):Ff(t,o.intervalMillis),y={throttleEndTimeMillis:Date.now()+m,backoffCount:t+1};return o.setThrottleMetadata(s,y),zi.debug(`Calling attemptFetch again in ${m} millis`),YF(n,y,r,o)}})).apply(this,arguments)}function pH(n,e){return new Promise((t,r)=>{const o=Math.max(e-Date.now(),0),s=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(s),r(us.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function gH(n){if(!(n instanceof Ua&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class mH{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function _H(){return RA.apply(this,arguments)}function RA(){return(RA=Ie(function*(){if(!Ba())return zi.warn(us.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield od()}catch(n){return zi.warn(us.create("indexeddb-unavailable",{errorInfo:n}).message),!1}return!0})).apply(this,arguments)}function kA(){return(kA=Ie(function*(n,e,t,r,o,s,l){var h;const m=fH(n);m.then(J=>{t[J.measurementId]=J.appId,n.options.measurementId&&J.measurementId!==n.options.measurementId&&zi.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${J.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(J=>zi.error(J)),e.push(m);const y=_H().then(J=>{if(J)return r.getId()}),[D,P]=yield Promise.all([m,y]);sH()||eH(s,D.measurementId),o("js",new Date);const V=null!==(h=null==l?void 0:l.config)&&void 0!==h?h:{};return V.origin="firebase",V.update=!0,null!=P&&(V[Y5]=P),o("config",D.measurementId,V),D.measurementId})).apply(this,arguments)}class vH{constructor(e){this.app=e}_delete(){return delete Cc[this.app.options.appId],Promise.resolve()}}let Cc={},JF=[];const QF={};let e3,P_,TE="dataLayer",LA=!1;function EH(n,e,t){!function bH(){const n=[];if(id()&&n.push("This is a browser extension environment."),sd()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,o)=>`(${o+1}) ${r}`).join(" "),t=us.create("invalid-analytics-context",{errorInfo:e});zi.warn(t.message)}}();const r=n.options.appId;if(!r)throw us.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw us.create("no-api-key");zi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Cc[r])throw us.create("already-exists",{id:r});if(!LA){!function tH(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(TE);const{wrappedGtag:s,gtagCore:l}=function oH(n,e,t,r,o){let s=function(...l){window[r].push(arguments)};return window[o]&&"function"==typeof window[o]&&(s=window[o]),window[o]=function iH(n,e,t,r){function s(){return(s=Ie(function*(l,h,m){try{"event"===l?yield rH(n,e,t,h,m):"config"===l?yield nH(n,e,t,r,h,m):n("set",h)}catch(y){zi.error(y)}})).apply(this,arguments)}return function o(l,h,m){return s.apply(this,arguments)}}(s,n,e,t),{gtagCore:s,wrappedGtag:window[o]}}(Cc,JF,QF,TE,"gtag");P_=s,e3=l,LA=!0}return Cc[r]=function yH(n,e,t,r,o,s,l){return kA.apply(this,arguments)}(n,JF,QF,e,e3,TE,t),new vH(n)}function FA(){return(FA=Ie(function*(n,e,t,r,o){if(o&&o.global)n("event",t,r);else{const s=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function IH(){return HA.apply(this,arguments)}function HA(){return(HA=Ie(function*(){if(id()||!sd()||!Ba())return!1;try{return yield od()}catch(n){return!1}})).apply(this,arguments)}const t3="@firebase/analytics";!function OH(){fo(new Pi(wE,(e,{options:t})=>EH(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),fo(new Pi("analytics-internal",function n(e){try{const t=e.getProvider(wE).getImmediate();return{logEvent:(r,o,s)=>function AH(n,e,t,r){n=wo(n),function CH(n,e,t,r,o){return FA.apply(this,arguments)}(P_,Cc[n.app.options.appId],e,t,r).catch(o=>zi.error(o))}(t,r,o,s)}}catch(t){throw us.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),E(t3,"0.7.6"),E(t3,"0.7.6","esm2017")}();const NH=new class MH extends zh{}(class PH extends Wh{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):e.flush(this)}});var r3=w(9468),o3=w(5363);const GA=new i.GfV("7.2.1"),$A="__angularfire_symbol__analyticsIsSupportedValue",qA="__angularfire_symbol__analyticsIsSupported",WA="__angularfire_symbol__remoteConfigIsSupportedValue",zA="__angularfire_symbol__remoteConfigIsSupported",ZA="__angularfire_symbol__messagingIsSupportedValue",KA="__angularfire_symbol__messagingIsSupported";globalThis[qA]||(globalThis[qA]=IH().then(n=>globalThis[$A]=n).catch(()=>globalThis[$A]=!1)),globalThis[KA]||(globalThis[KA]=WF().then(n=>globalThis[ZA]=n).catch(()=>globalThis[ZA]=!1)),globalThis[zA]||(globalThis[zA]=h5().then(n=>globalThis[WA]=n).catch(()=>globalThis[WA]=!1));const QA=(n,e)=>{const t=e?[e]:p(),r=[];return t.forEach(o=>{o.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Kf(){}class s3{constructor(e,t=NH){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const o=this.zone;return this.delegate.schedule(function(l){o.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class RH{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf)),t.pipe((0,oi.b)({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let a3=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new s3(Zone.current)),this.insideAngular=t.run(()=>new s3(Zone.current,iu)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function pd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function kH(n){return pd().ngZone.runOutsideAngular(()=>n())}function gd(n){return pd().ngZone.run(()=>n())}function LH(n){return pd(),function FH(n){return function(t){return(t=t.lift(new RH(n.ngZone))).pipe((0,r3.R)(n.outsideAngular),(0,o3.Q)(n.insideAngular))}}(pd())(n)}const BH=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),gd(()=>n.apply(void 0,r))},M_=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||(t=gd(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Kf,{},Kf,Kf)))),r[s]=BH(r[s],t));const o=kH(()=>n.apply(this,r));if(!e){if(o instanceof mn.y){const s=pd();return o.pipe((0,r3.R)(s.outsideAngular),(0,o3.Q)(s.insideAngular))}return gd(()=>o)}return o instanceof mn.y?o.pipe(LH):o instanceof Promise?gd(()=>new Promise((s,l)=>o.then(h=>gd(()=>s(h)),h=>gd(()=>l(h))))):"function"==typeof o&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),o.apply(this,arguments)}:gd(()=>o)};class Yf{constructor(e){return e}}class c3{constructor(){return p()}}const XA=new i.OlP("angularfire2._apps"),jH={provide:Yf,useFactory:function UH(n){return n&&1===n.length?n[0]:new Yf(d())},deps:[[new i.FiY,XA]]},VH={provide:c3,deps:[[new i.FiY,XA]]};function HH(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Yf(r)}}let GH=(()=>{class n{constructor(t){E("angularfire",GA.full,"core"),E("angularfire",GA.full,"app"),E("angular",i.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.Lbi))},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[jH,VH]}),n})();function $H(n,...e){return{ngModule:GH,providers:[{provide:XA,useFactory:HH(n),multi:!0,deps:[i.R0b,i.zs3,a3,...e]}]}}const qH=M_(u,!0);const WH=function u3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},l3=new la("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d3=new yc("@firebase/auth");function DE(n,...e){d3.logLevel<=Kn.ERROR&&d3.error(`Auth (${c}): ${n}`,...e)}function Go(n,...e){throw eO(n,...e)}function Va(n,...e){return eO(n,...e)}function h3(n,e,t){const r=Object.assign(Object.assign({},WH()),{[e]:t});return new la("auth","Firebase",r).create(e,{appName:n.name})}function eO(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return l3.create(n,...e)}function xt(n,e,...t){if(!n)throw eO(e,...t)}function Ha(n){const e="INTERNAL ASSERTION FAILED: "+n;throw DE(e),new Error(e)}function Su(n,e){n||Ha(e)}const f3=new Map;function wc(n){Su(n instanceof Function,"Expected a class definition");let e=f3.get(n);return e?(Su(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,f3.set(n,e),e)}function p3(){var n;return"undefined"!=typeof self&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class R_{constructor(e,t){this.shortDelay=e,this.longDelay=t,Su(t>e,"Short delay should be less than long delay!"),this.isMobile=u_()||zx()}get(){return function KH(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function tO(){return"http:"===p3()||"https:"===p3()}()||id()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class g3{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ha("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ha("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ha("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const JH={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},QH=new R_(3e4,6e4);function Mi(n,e,t,r){return rO.apply(this,arguments)}function rO(){return(rO=Ie(function*(n,e,t,r,o={}){return m3(n,o,Ie(function*(){let s={},l={};r&&("GET"===e?l=r:s={body:JSON.stringify(r)});const h=sE(Object.assign({key:n.config.apiKey},l)).slice(1),m=yield n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),g3.fetch()(_3(n,n.config.apiHost,t,h),Object.assign({method:e,headers:m,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function m3(n,e,t){return iO.apply(this,arguments)}function iO(){return(iO=Ie(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},JH),e);try{const o=new XH(n),s=yield Promise.race([t(),o.promise]);o.clearNetworkTimeout();const l=yield s.json();if("needConfirmation"in l)throw SE(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const h=s.ok?l.errorMessage:l.error.message,[m,y]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===m)throw SE(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===m)throw SE(n,"email-already-in-use",l);const D=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw h3(n,D,y);Go(n,D)}}catch(o){if(o instanceof Ua)throw o;Go(n,"network-request-failed")}})).apply(this,arguments)}function _3(n,e,t,r){const o=`${e}${t}?${r}`;return n.config.emulator?function nO(n,e){Su(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,o):`${n.config.apiScheme}://${o}`}class XH{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Va(this.auth,"network-request-failed")),QH.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function SE(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const o=Va(n,e,r);return o.customData._tokenResponse=t,o}function sO(){return(sO=Ie(function*(n,e){return Mi(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function nG(n,e){return cO.apply(this,arguments)}function cO(){return(cO=Ie(function*(n,e){return Mi(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function k_(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function uO(){return(uO=Ie(function*(n,e=!1){const t=wo(n),r=yield t.getIdToken(e),o=xE(r);xt(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const s="object"==typeof o.firebase?o.firebase:void 0,l=null==s?void 0:s.sign_in_provider;return{claims:o,token:r,authTime:k_(lO(o.auth_time)),issuedAtTime:k_(lO(o.iat)),expirationTime:k_(lO(o.exp)),signInProvider:l||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function lO(n){return 1e3*Number(n)}function xE(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return DE("JWT malformed, contained fewer than 3 sections"),null;try{const o=function(n){try{return Jb.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(t);return o?JSON.parse(o):(DE("Failed to decode base64 JWT payload"),null)}catch(o){return DE("Caught error parsing JWT payload as JSON",o),null}}function Dc(n,e){return dO.apply(this,arguments)}function dO(){return(dO=Ie(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof Ua&&oG(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}function oG({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}class sG{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const o=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(Ie(function*(){yield t.iteration()}),r)}iteration(){var e=this;return Ie(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class y3{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=k_(this.lastLoginAt),this.creationTime=k_(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function L_(n){return hO.apply(this,arguments)}function hO(){return(hO=Ie(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),o=yield Dc(n,nG(t,{idToken:r}));xt(null==o?void 0:o.users.length,t,"internal-error");const s=o.users[0];n._notifyReloadListener(s);const l=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?uG(s.providerUserInfo):[],h=cG(n.providerData,l),D=!!n.isAnonymous&&!(n.email&&s.passwordHash||(null==h?void 0:h.length)),P={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new y3(s.createdAt,s.lastLoginAt),isAnonymous:D};Object.assign(n,P)})).apply(this,arguments)}function fO(){return(fO=Ie(function*(n){const e=wo(n);yield L_(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function cG(n,e){return[...n.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function uG(n){return n.map(e=>{var{providerId:t}=e,r=(0,Av._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function pO(){return(pO=Ie(function*(n,e){const t=yield m3(n,{},Ie(function*(){const r=sE({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:s}=n.config,l=_3(n,o,"/v1/token",`key=${s}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",g3.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class F_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xt(e.idToken,"internal-error"),xt(void 0!==e.idToken,"internal-error"),xt(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function iG(n){const e=xE(n);return xt(e,"internal-error"),xt(void 0!==e.exp,"internal-error"),xt(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return Ie(function*(){return xt(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return Ie(function*(){const{accessToken:o,refreshToken:s,expiresIn:l}=yield function lG(n,e){return pO.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(o,s,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:o,expirationTime:s}=t,l=new F_;return r&&(xt("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),o&&(xt("string"==typeof o,"internal-error",{appName:e}),l.accessToken=o),s&&(xt("number"==typeof s,"internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new F_,this.toJSON())}_performRefresh(){return Ha("not implemented")}}function xu(n,e){xt("string"==typeof n||void 0===n,"internal-error",{appName:e})}class md{constructor(e){var{uid:t,auth:r,stsTokenManager:o}=e,s=(0,Av._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new sG(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new y3(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return Ie(function*(){const r=yield Dc(t,t.stsTokenManager.getToken(t.auth,e));return xt(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function rG(n){return uO.apply(this,arguments)}(this,e)}reload(){return function aG(n){return fO.apply(this,arguments)}(this)}_assign(e){this!==e&&(xt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new md(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return Ie(function*(){let o=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),o=!0),t&&(yield L_(r)),yield r.auth._persistUserIfCurrent(r),o&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return Ie(function*(){const t=yield e.getIdToken();return yield Dc(e,function eG(n,e){return sO.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,o,s,l,h,m,y,D;const P=null!==(r=t.displayName)&&void 0!==r?r:void 0,V=null!==(o=t.email)&&void 0!==o?o:void 0,J=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,ge=null!==(l=t.photoURL)&&void 0!==l?l:void 0,xe=null!==(h=t.tenantId)&&void 0!==h?h:void 0,Ze=null!==(m=t._redirectEventId)&&void 0!==m?m:void 0,pt=null!==(y=t.createdAt)&&void 0!==y?y:void 0,Xe=null!==(D=t.lastLoginAt)&&void 0!==D?D:void 0,{uid:$t,emailVerified:Mt,isAnonymous:Qt,providerData:Ot,stsTokenManager:sn}=t;xt($t&&sn,e,"internal-error");const cn=F_.fromJSON(this.name,sn);xt("string"==typeof $t,e,"internal-error"),xu(P,e.name),xu(V,e.name),xt("boolean"==typeof Mt,e,"internal-error"),xt("boolean"==typeof Qt,e,"internal-error"),xu(J,e.name),xu(ge,e.name),xu(xe,e.name),xu(Ze,e.name),xu(pt,e.name),xu(Xe,e.name);const Gn=new md({uid:$t,auth:e,email:V,emailVerified:Mt,displayName:P,isAnonymous:Qt,photoURL:ge,phoneNumber:J,tenantId:xe,stsTokenManager:cn,createdAt:pt,lastLoginAt:Xe});return Ot&&Array.isArray(Ot)&&(Gn.providerData=Ot.map(yn=>Object.assign({},yn))),Ze&&(Gn._redirectEventId=Ze),Gn}static _fromIdTokenResponse(e,t,r=!1){return Ie(function*(){const o=new F_;o.updateFromServerResponse(t);const s=new md({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:r});return yield L_(s),s})()}}const v3=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return Ie(function*(){return!0})()}_set(t,r){var o=this;return Ie(function*(){o.storage[t]=r})()}_get(t){var r=this;return Ie(function*(){const o=r.storage[t];return void 0===o?null:o})()}_remove(t){var r=this;return Ie(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function IE(n,e,t){return`firebase:${n}:${e}:${t}`}class Qf{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:o,name:s}=this.auth;this.fullUserKey=IE(this.userKey,o.apiKey,s),this.fullPersistenceKey=IE("persistence",o.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return Ie(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?md._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return Ie(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return Ie(function*(){if(!t.length)return new Qf(wc(v3),e,r);const o=(yield Promise.all(t.map(function(){var y=Ie(function*(D){if(yield D._isAvailable())return D});return function(D){return y.apply(this,arguments)}}()))).filter(y=>y);let s=o[0]||wc(v3);const l=IE(r,e.config.apiKey,e.name);let h=null;for(const y of t)try{const D=yield y._get(l);if(D){const P=md._fromJSON(e,D);y!==s&&(h=P),s=y;break}}catch(D){}const m=o.filter(y=>y._shouldAllowMigration);return s._shouldAllowMigration&&m.length?(s=m[0],h&&(yield s._set(l,h.toJSON())),yield Promise.all(t.map(function(){var y=Ie(function*(D){if(D!==s)try{yield D._remove(l)}catch(P){}});return function(D){return y.apply(this,arguments)}}())),new Qf(s,e,r)):new Qf(s,e,r)})()}}function b3(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function w3(n=Vo()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function E3(n=Vo()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function D3(n=Vo()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function S3(n=Vo()){return/webos/i.test(n)}(e))return"Webos";if(function gO(n=Vo()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function C3(n=Vo()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function T3(n=Vo()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==r?void 0:r.length))return r[1]}return"Other"}function x3(n,e=[]){let t;switch(n){case"Browser":t=b3(Vo());break;case"Worker":t=`${b3(Vo())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${c}/${r}`}class fG{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new I3(this),this.idTokenSubscription=new I3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=l3,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=wc(t)),this._initializationPromise=this.queue(Ie(function*(){var o,s;if(!r._deleted&&(r.persistenceManager=yield Qf.create(r,e),!r._deleted)){if(null===(o=r._popupRedirectResolver)||void 0===o?void 0:o._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch(l){}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return Ie(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t)}})()}initializeCurrentUser(e){var t=this;return Ie(function*(){var r;let o=yield t.assertedPersistence.getCurrentUser();if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const s=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,l=null==o?void 0:o._redirectEventId,h=yield t.tryRedirectSignIn(e);(!s||s===l)&&(null==h?void 0:h.user)&&(o=h.user)}return o?o._redirectEventId?(xt(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===o._redirectEventId?t.directlySetCurrentUser(o):t.reloadAndSetCurrentUserOrClear(o)):t.reloadAndSetCurrentUserOrClear(o):t.directlySetCurrentUser(null)})()}tryRedirectSignIn(e){var t=this;return Ie(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(o){yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return Ie(function*(){try{yield L_(e)}catch(r){if("auth/network-request-failed"!==r.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function YH(){if("undefined"==typeof navigator)return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return Ie(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return Ie(function*(){const r=e?wo(e):null;return r&&xt(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e){var t=this;return Ie(function*(){if(!t._deleted)return e&&xt(t.tenantId===e.tenantId,t,"tenant-id-mismatch"),t.queue(Ie(function*(){yield t.directlySetCurrentUser(e),t.notifyAuthListeners()}))})()}signOut(){var e=this;return Ie(function*(){return(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null)})()}setPersistence(e){var t=this;return this.queue(Ie(function*(){yield t.assertedPersistence.setPersistence(wc(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new la("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return Ie(function*(){const o=yield r.getOrInitRedirectPersistenceManager(t);return null===e?o.removeCurrentUser():o.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return Ie(function*(){if(!t.redirectPersistenceManager){const r=e&&wc(e)||t._popupRedirectResolver;xt(r,t,"argument-error"),t.redirectPersistenceManager=yield Qf.create(t,[wc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return Ie(function*(){var r,o;return t._isInitialized&&(yield t.queue(Ie(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(o=t.redirectUser)||void 0===o?void 0:o._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return Ie(function*(){if(e===t.currentUser)return t.queue(Ie(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,o){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return xt(l,this,"internal-error"),l.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,o):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return Ie(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=x3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return Ie(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const o=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return o&&(r["X-Firebase-Client"]=o),r})()}}class I3{constructor(e){this.auth=e,this.observer=null,this.addObserver=function Xx(n,e){const t=new f_(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function z3(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new R_(3e4,6e4),new R_(2e3,1e4),new R_(3e4,6e4),new R_(5e3,15e3);var oB="@firebase/auth",sB="0.19.10";class t7{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return Ie(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{var o;e((null===(o=r)||void 0===o?void 0:o.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);!t||(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function r7(n){fo(new Pi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),{apiKey:s,authDomain:l}=r.options;return((h,m)=>{xt(s&&!s.includes(":"),"invalid-api-key",{appName:h.name}),xt(!(null==l?void 0:l.includes(":")),"argument-error",{appName:h.name});const y={apiKey:s,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x3(n)},D=new fG(h,m,y);return function ZH(n,e){const t=(null==e?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(wc);(null==e?void 0:e.errorMap)&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(D,t),D})(r,o)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),fo(new Pi("auth-internal",e=>{const t=function $o(n){return wo(n)}(e.getProvider("auth").getImmediate());return new t7(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),E(oB,sB,function n7(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),E(oB,sB,"esm2017")}("Browser");class cB{constructor(){return QA("auth")}}const uB=new Map,a7={activated:!1,tokenObservers:[]},c7={initialized:!1,enabled:!1};function Ni(n){return uB.get(n)||a7}function da(n,e){uB.set(n,e)}function VE(){return c7}class f7{constructor(e,t,r,o,s){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=o,o>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return Ie(function*(){t.stop();try{t.pending=new Xb,yield function p7(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xb,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Do=new la("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function dB(n){if(!Ni(n).activated)throw Do.create("use-before-activation",{appName:n.name})}function XP(n,e){return eM.apply(this,arguments)}function eM(){return(eM=Ie(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},o=t.getImmediate({optional:!0});if(o){const P=yield o.getHeartbeatsHeader();P&&(r["X-Firebase-Client"]=P)}const s={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,s)}catch(P){throw Do.create("fetch-network-error",{originalErrorMessage:P.message})}if(200!==l.status)throw Do.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(P){throw Do.create("fetch-parse-error",{originalErrorMessage:P.message})}const m=h.ttl.match(/^([\d.]+)(s)$/);if(!m||!m[2]||isNaN(Number(m[1])))throw Do.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const y=1e3*Number(m[1]),D=Date.now();return{token:h.attestationToken,expireTimeMillis:D+y,issuedAtTimeMillis:D}})).apply(this,arguments)}function v7(n,e){const{projectId:t,appId:r,apiKey:o}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${t}/apps/${r}:exchangeDebugToken?key=${o}`,body:{debug_token:e}}}const V_="firebase-app-check-store";let $E=null;function fB(){return $E||($E=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var o;e(Do.create("storage-open",{originalErrorMessage:null===(o=r.target.error)||void 0===o?void 0:o.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(V_,{keyPath:"compositeKey"})}}catch(t){e(Do.create("storage-open",{originalErrorMessage:t.message}))}}),$E)}function tM(){return(tM=Ie(function*(n,e){const r=(yield fB()).transaction(V_,"readwrite"),s=r.objectStore(V_).put({compositeKey:n,value:e});return new Promise((l,h)=>{s.onsuccess=m=>{l()},r.onerror=m=>{var y;h(Do.create("storage-set",{originalErrorMessage:null===(y=m.target.error)||void 0===y?void 0:y.message}))}})})).apply(this,arguments)}const H_=new yc("@firebase/app-check");function _B(n,e){return Ba()?function w7(n,e){return function pB(n,e){return tM.apply(this,arguments)}(function mB(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{H_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yB(){return VE().enabled}function vB(){return oM.apply(this,arguments)}function oM(){return(oM=Ie(function*(){const n=VE();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const A7={error:"UNKNOWN_ERROR"};function O7(n){return Jb.encodeString(JSON.stringify(n),!1)}function qE(n){return sM.apply(this,arguments)}function sM(){return(sM=Ie(function*(n,e=!1){const t=n.app;dB(t);const r=Ni(t);let s,o=r.token;if(!o){const m=yield r.cachedTokenPromise;m&&WE(m)&&(o=m)}if(!e&&o&&WE(o))return{token:o.token};let h,l=!1;if(yB()){r.exchangeTokenPromise||(r.exchangeTokenPromise=XP(v7(t,yield vB()),n.heartbeatServiceProvider).then(y=>(r.exchangeTokenPromise=void 0,y)),l=!0);const m=yield r.exchangeTokenPromise;return yield _B(t,m),da(t,Object.assign(Object.assign({},r),{token:m})),{token:m.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(m=>(r.exchangeTokenPromise=void 0,m)),l=!0),o=yield r.exchangeTokenPromise}catch(m){"appCheck/throttled"===m.code?H_.warn(m.message):H_.error(m),s=m}return o?(h={token:o.token},da(t,Object.assign(Object.assign({},r),{token:o})),yield _B(t,o)):h=M7(s),l&&EB(t,h),h})).apply(this,arguments)}function cM(n,e){const t=Ni(n),r=t.tokenObservers.filter(o=>o.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),da(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function bB(n){const{app:e}=n,t=Ni(e);let r=t.tokenRefresher;r||(r=function P7(n){const{app:e}=n;return new f7(Ie(function*(){let r;if(r=Ni(e).token?yield qE(n,!0):yield qE(n),r.error)throw r.error}),()=>!0,()=>{const t=Ni(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),da(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function EB(n,e){const t=Ni(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch(o){}}function WE(n){return n.expireTimeMillis-Date.now()>0}function M7(n){return{token:O7(A7),error:n}}class N7{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Ni(this.app);for(const t of e)cM(this.app,t.next);return Promise.resolve()}}const AB="app-check-internal";!function z7(){fo(new Pi("app-check",n=>function R7(n,e){return new N7(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(AB).initialize()})),fo(new Pi(AB,n=>function k7(n){return{getToken:e=>qE(n,e),addTokenListener:e=>function aM(n,e,t,r){const{app:o}=n,s=Ni(o),l={next:t,error:r,type:e};if(da(o,Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,l]})),s.token&&WE(s.token)){const h=s.token;Promise.resolve().then(()=>{t({token:h.token}),bB(n)}).catch(()=>{})}s.cachedTokenPromise.then(()=>bB(n))}(n,"INTERNAL",e),removeTokenListener:e=>cM(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),E("@firebase/app-check","0.5.4")}();class PB{constructor(){return QA("app-check")}}"undefined"!=typeof window&&window;var Wt,Q7="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},xc={},fM=fM||{},An=Q7||self;function ZE(){}function pM(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function G_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var gM="closure_uid_"+(1e9*Math.random()>>>0),eq=0;function tq(n,e,t){return n.call.apply(n.bind,arguments)}function nq(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),n.apply(e,o)}}return function(){return n.apply(e,arguments)}}function Zi(n,e,t){return(Zi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?tq:nq).apply(null,arguments)}function KE(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ki(n,e){function t(){}t.prototype=e.prototype,n.Z=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Vb=function(r,o,s){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[o].apply(r,l)}}function Iu(){this.s=this.s,this.o=this.o}var iq={};Iu.prototype.s=!1,Iu.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function X7(n){return Object.prototype.hasOwnProperty.call(n,gM)&&n[gM]||(n[gM]=++eq)}(this);delete iq[n]}},Iu.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const MB=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1},NB=Array.prototype.forEach?function(n,e,t){Array.prototype.forEach.call(n,e,t)}:function(n,e,t){const r=n.length,o="string"==typeof n?n.split(""):n;for(let s=0;s<r;s++)s in o&&e.call(t,o[s],s,n)};function RB(n){return Array.prototype.concat.apply([],arguments)}function mM(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function YE(n){return/^[\s\xa0]*$/.test(n)}var xo,kB=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function So(n,e){return-1!=n.indexOf(e)}function _M(n,e){return n<e?-1:n>e?1:0}e:{var LB=An.navigator;if(LB){var FB=LB.userAgent;if(FB){xo=FB;break e}}xo=""}function yM(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function BB(n){const e={};for(const t in n)e[t]=n[t];return e}var UB="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function jB(n,e){let t,r;for(let o=1;o<arguments.length;o++){for(t in r=arguments[o],r)n[t]=r[t];for(let s=0;s<UB.length;s++)t=UB[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vM(n){return vM[" "](n),n}vM[" "]=ZE;var JE,n,aq=So(xo,"Opera"),Xf=So(xo,"Trident")||So(xo,"MSIE"),VB=So(xo,"Edge"),bM=VB||Xf,HB=So(xo,"Gecko")&&!(So(xo.toLowerCase(),"webkit")&&!So(xo,"Edge"))&&!(So(xo,"Trident")||So(xo,"MSIE"))&&!So(xo,"Edge"),cq=So(xo.toLowerCase(),"webkit")&&!So(xo,"Edge");function GB(){var n=An.document;return n?n.documentMode:void 0}e:{var EM="",CM=(n=xo,HB?/rv:([^\);]+)(\)|;)/.exec(n):VB?/Edge\/([\d\.]+)/.exec(n):Xf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):cq?/WebKit\/(\S+)/.exec(n):aq?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(CM&&(EM=CM?CM[1]:""),Xf){var wM=GB();if(null!=wM&&wM>parseFloat(EM)){JE=String(wM);break e}}JE=EM}var uq={};var dq=An.document&&Xf&&(GB()||parseInt(JE,10))||void 0,hq=function(){if(!An.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{An.addEventListener("test",ZE,e),An.removeEventListener("test",ZE,e)}catch(t){}return n}();function po(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}function $_(n,e){if(po.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(HB){e:{try{vM(e.nodeName);var o=!0;break e}catch(s){}o=!1}o||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:fq[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&$_.Z.h.call(this)}}po.prototype.h=function(){this.defaultPrevented=!0},Ki($_,po);var fq={2:"touch",3:"pen",4:"mouse"};$_.prototype.h=function(){$_.Z.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var q_="closure_listenable_"+(1e6*Math.random()|0),pq=0;function gq(n,e,t,r,o){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ia=o,this.key=++pq,this.ca=this.fa=!1}function QE(n){n.ca=!0,n.listener=null,n.proxy=null,n.src=null,n.ia=null}function XE(n){this.src=n,this.g={},this.h=0}function DM(n,e){var t=e.type;if(t in n.g){var s,r=n.g[t],o=MB(r,e);(s=0<=o)&&Array.prototype.splice.call(r,o,1),s&&(QE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function SM(n,e,t,r){for(var o=0;o<n.length;++o){var s=n[o];if(!s.ca&&s.listener==e&&s.capture==!!t&&s.ia==r)return o}return-1}XE.prototype.add=function(n,e,t,r,o){var s=n.toString();(n=this.g[s])||(n=this.g[s]=[],this.h++);var l=SM(n,e,r,o);return-1<l?(e=n[l],t||(e.fa=!1)):((e=new gq(e,this.src,s,!!r,o)).fa=t,n.push(e)),e};var xM="closure_lm_"+(1e6*Math.random()|0),IM={};function qB(n,e,t,r,o){if(r&&r.once)return zB(n,e,t,r,o);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qB(n,e[s],t,r,o);return null}return t=MM(t),n&&n[q_]?n.N(e,t,G_(r)?!!r.capture:!!r,o):WB(n,e,t,!1,r,o)}function WB(n,e,t,r,o,s){if(!e)throw Error("Invalid event type");var l=G_(o)?!!o.capture:!!o,h=OM(n);if(h||(n[xM]=h=new XE(n)),(t=h.add(e,t,r,l,s)).proxy)return t;if(r=function mq(){var e=_q;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hq||(o=l),void 0===o&&(o=!1),n.addEventListener(e.toString(),r,o);else if(n.attachEvent)n.attachEvent(KB(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function zB(n,e,t,r,o){if(Array.isArray(e)){for(var s=0;s<e.length;s++)zB(n,e[s],t,r,o);return null}return t=MM(t),n&&n[q_]?n.O(e,t,G_(r)?!!r.capture:!!r,o):WB(n,e,t,!0,r,o)}function ZB(n,e,t,r,o){if(Array.isArray(e))for(var s=0;s<e.length;s++)ZB(n,e[s],t,r,o);else r=G_(r)?!!r.capture:!!r,t=MM(t),n&&n[q_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=SM(s=n.g[e],t,r,o))&&(QE(s[t]),Array.prototype.splice.call(s,t,1),0==s.length&&(delete n.g[e],n.h--))):n&&(n=OM(n))&&(e=n.g[e.toString()],n=-1,e&&(n=SM(e,t,r,o)),(t=-1<n?e[n]:null)&&AM(t))}function AM(n){if("number"!=typeof n&&n&&!n.ca){var e=n.src;if(e&&e[q_])DM(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(KB(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=OM(e))?(DM(t,n),0==t.h&&(t.src=null,e[xM]=null)):QE(n)}}}function KB(n){return n in IM?IM[n]:IM[n]="on"+n}function _q(n,e){if(n.ca)n=!0;else{e=new $_(e,this);var t=n.listener,r=n.ia||n.src;n.fa&&AM(n),n=t.call(r,e)}return n}function OM(n){return(n=n[xM])instanceof XE?n:null}var PM="__closure_events_fn_"+(1e9*Math.random()>>>0);function MM(n){return"function"==typeof n?n:(n[PM]||(n[PM]=function(e){return n.handleEvent(e)}),n[PM])}function Ri(){Iu.call(this),this.i=new XE(this),this.P=this,this.I=null}function Yi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new po(e,n);else if(e instanceof po)e.target=e.target||n;else{var o=e;jB(e=new po(r,n),o)}if(o=!0,t)for(var s=t.length-1;0<=s;s--){var l=e.g=t[s];o=eC(l,r,!0,e)&&o}if(o=eC(l=e.g=n,r,!0,e)&&o,o=eC(l,r,!1,e)&&o,t)for(s=0;s<t.length;s++)o=eC(l=e.g=t[s],r,!1,e)&&o}function eC(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var o=!0,s=0;s<e.length;++s){var l=e[s];if(l&&!l.ca&&l.capture==t){var h=l.listener,m=l.ia||l.src;l.fa&&DM(n.i,l),o=!1!==h.call(m,r)&&o}}return o&&!r.defaultPrevented}Ki(Ri,Iu),Ri.prototype[q_]=!0,Ri.prototype.removeEventListener=function(n,e,t,r){ZB(this,n,e,t,r)},Ri.prototype.M=function(){if(Ri.Z.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)QE(t[r]);delete n.g[e],n.h--}}this.I=null},Ri.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ri.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var NM=An.JSON.stringify;function yq(){var n=JB;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var kM,YB=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new bq,n=>n.reset());class bq{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Eq(n){An.setTimeout(()=>{throw n},0)}function RM(n,e){kM||function Cq(){var n=An.Promise.resolve(void 0);kM=function(){n.then(wq)}}(),LM||(kM(),LM=!0),JB.add(n,e)}var LM=!1,JB=new class vq{constructor(){this.h=this.g=null}add(e,t){const r=YB.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function wq(){for(var n;n=yq();){try{n.h.call(n.g)}catch(t){Eq(t)}var e=YB;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}LM=!1}function tC(n,e){Ri.call(this),this.h=n||1,this.g=e||An,this.j=Zi(this.kb,this),this.l=Date.now()}function FM(n){n.da=!1,n.S&&(n.g.clearTimeout(n.S),n.S=null)}function BM(n,e,t){if("function"==typeof n)t&&(n=Zi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Zi(n.handleEvent,n)}return 2147483647<Number(e)?-1:An.setTimeout(n,e||0)}function QB(n){n.g=BM(()=>{n.g=null,n.i&&(n.i=!1,QB(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ki(tC,Ri),(Wt=tC.prototype).da=!1,Wt.S=null,Wt.kb=function(){if(this.da){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-n):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yi(this,"tick"),this.da&&(FM(this),this.start()))}},Wt.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Wt.M=function(){tC.Z.M.call(this),FM(this),delete this.g};class Tq extends Iu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:QB(this)}M(){super.M(),this.g&&(An.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function W_(n){Iu.call(this),this.h=n,this.g={}}Ki(W_,Iu);var XB=[];function eU(n,e,t,r){Array.isArray(t)||(t&&(XB[0]=t.toString()),t=XB);for(var o=0;o<t.length;o++){var s=qB(e,t[o],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function tU(n){yM(n.g,function(e,t){this.g.hasOwnProperty(t)&&AM(e)},n),n.g={}}function nC(){this.g=!0}function ep(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Iq(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var s=o[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var l=1;l<o.length;l++)o[l]=""}}}return NM(t)}catch(h){return e}}(n,t)+(r?" "+r:"")})}W_.prototype.M=function(){W_.Z.M.call(this),tU(this)},W_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},nC.prototype.Aa=function(){this.g=!1},nC.prototype.info=function(){};var bd={},nU=null;function rC(){return nU=nU||new Ri}function rU(n){po.call(this,bd.Ma,n)}function z_(n){const e=rC();Yi(e,new rU(e,n))}function iU(n,e){po.call(this,bd.STAT_EVENT,n),this.stat=e}function Io(n){const e=rC();Yi(e,new iU(e,n))}function oU(n,e){po.call(this,bd.Na,n),this.size=e}function Z_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return An.setTimeout(function(){n()},e)}bd.Ma="serverreachability",Ki(rU,po),bd.STAT_EVENT="statevent",Ki(iU,po),bd.Na="timingevent",Ki(oU,po);var iC={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},sU={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function UM(){}function cU(){}UM.prototype.h=null;var HM,K_={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function jM(){po.call(this,"d")}function VM(){po.call(this,"c")}function oC(){}function Y_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.X=r||1,this.V=new W_(this),this.P=Aq,this.W=new tC(n=bM?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uU}function uU(){this.i=null,this.g="",this.h=!1}Ki(jM,po),Ki(VM,po),Ki(oC,UM),oC.prototype.g=function(){return new XMLHttpRequest},oC.prototype.i=function(){return{}},HM=new oC;var Aq=45e3,GM={},sC={};function $M(n,e,t){n.K=1,n.v=dC(Ic(e)),n.s=t,n.U=!0,lU(n,null)}function lU(n,e){n.F=Date.now(),J_(n),n.A=Ic(n.v);var t=n.A,r=n.X;Array.isArray(r)||(r=[String(r)]),vU(t.h,"t",r),n.C=0,t=n.l.H,n.h=new uU,n.g=HU(n.l,t?e:null,!n.s),0<n.O&&(n.L=new Tq(Zi(n.Ia,n,n.g),n.O)),eU(n.V,n.g,"readystatechange",n.gb),e=n.H?BB(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ea(n.A,n.u,n.s,e)):(n.u="GET",n.g.ea(n.A,n.u,null,e)),z_(1),function Dq(n,e,t,r,o,s){n.info(function(){if(n.g)if(s)for(var l="",h=s.split("&"),m=0;m<h.length;m++){var y=h[m].split("=");if(1<y.length){var D=y[0];y=y[1];var P=D.split("_");l=2<=P.length&&"type"==P[1]?l+(D+"=")+y+"&":l+(D+"=redacted&")}}else l=null;else l=s;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.X,n.s)}function dU(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Ba}function hU(n,e,t){let o,r=!0;for(;!n.I&&n.C<t.length;){if(o=Oq(n,t),o==sC){4==e&&(n.o=4,Io(14),r=!1),ep(n.j,n.m,null,"[Incomplete Response]");break}if(o==GM){n.o=4,Io(15),ep(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ep(n.j,n.m,o,null),qM(n,o)}dU(n)&&o!=sC&&o!=GM&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Io(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.aa&&(n.aa=!0,(e=n.l).g==n&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),nN(e),e.L=!0,Io(11))):(ep(n.j,n.m,t,"[Invalid Chunked Response]"),Ed(n),Q_(n))}function Oq(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?sC:(t=Number(e.substring(t,r)),isNaN(t)?GM:(r+=1)+t>e.length?sC:(e=e.substr(r,t),n.C=r+t,e))}function J_(n){n.Y=Date.now()+n.P,fU(n,n.P)}function fU(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Z_(Zi(n.eb,n),e)}function aC(n){n.B&&(An.clearTimeout(n.B),n.B=null)}function Q_(n){0==n.l.G||n.I||BU(n.l,n)}function Ed(n){aC(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,FM(n.W),tU(n.V),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function qM(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZM(t.i,n)))if(t.I=n.N,!n.J&&ZM(t.i,n)&&3==t.G){try{var r=t.Ca.g.parse(e)}catch(y){r=null}if(Array.isArray(r)&&3==r.length){var o=r;if(0==o[0])e:if(t.u)t.ta=o[1],0<t.ta-t.U&&37500>o[2]&&t.N&&0==t.A&&!t.v&&(t.v=Z_(Zi(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<n.F))break e;_C(t),gC(t)}tN(t),Io(18)}if(1>=CU(t.i)&&t.ka){try{t.ka()}catch(y){}t.ka=void 0}}else Td(t,11)}else if((n.J||t.g==n)&&_C(t),!YE(e))for(o=t.Ca.g.parse(e),e=0;e<o.length;e++){let y=o[e];if(t.U=y[0],y=y[1],2==t.G)if("c"==y[0]){t.J=y[1],t.la=y[2];const D=y[3];null!=D&&(t.ma=D,t.h.info("VER="+t.ma));const P=y[4];null!=P&&(t.za=P,t.h.info("SVER="+t.za));const V=y[5];null!=V&&"number"==typeof V&&0<V&&(t.K=r=1.5*V,t.h.info("backChannelRequestTimeoutMs_="+r)),r=t;const J=n.g;if(J){const ge=J.g?J.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ge){var s=r.i;!s.g&&(So(ge,"spdy")||So(ge,"quic")||So(ge,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(KM(s,s.h),s.h=null))}if(r.D){const xe=J.g?J.g.getResponseHeader("X-HTTP-Session-Id"):null;xe&&(r.sa=xe,Ir(r.F,r.D,xe))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-n.F,t.h.info("Handshake RTT: "+t.O+"ms"));var l=n;if((r=t).oa=VU(r,r.H?r.la:null,r.W),l.J){wU(r.i,l);var h=l,m=r.K;m&&h.setTimeout(m),h.B&&(aC(h),J_(h)),r.g=l}else LU(r);0<t.l.length&&mC(t)}else"stop"!=y[0]&&"close"!=y[0]||Td(t,7);else 3==t.G&&("stop"==y[0]||"close"==y[0]?"stop"==y[0]?Td(t,7):XM(t):"noop"!=y[0]&&t.j&&t.j.wa(y),t.A=0)}z_(4)}catch(y){}}function WM(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(pM(n)||"string"==typeof n)NB(n,e,void 0);else{if(n.T&&"function"==typeof n.T)var t=n.T();else if(n.R&&"function"==typeof n.R)t=void 0;else if(pM(n)||"string"==typeof n){t=[];for(var r=n.length,o=0;o<r;o++)t.push(o)}else for(o in t=[],r=0,n)t[r++]=o;r=function Pq(n){if(n.R&&"function"==typeof n.R)return n.R();if("string"==typeof n)return n.split("");if(pM(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),o=r.length;for(var s=0;s<o;s++)e.call(void 0,r[s],t&&t[s],n)}}function tp(n,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var r=0;r<t;r+=2)this.set(arguments[r],arguments[r+1])}else if(n)if(n instanceof tp)for(t=n.T(),r=0;r<t.length;r++)this.set(t[r],n.get(t[r]));else for(r in n)this.set(r,n[r])}function zM(n){if(n.i!=n.g.length){for(var e=0,t=0;e<n.g.length;){var r=n.g[e];Cd(n.h,r)&&(n.g[t++]=r),e++}n.g.length=t}if(n.i!=n.g.length){var o={};for(t=e=0;e<n.g.length;)Cd(o,r=n.g[e])||(n.g[t++]=r,o[r]=1),e++;n.g.length=t}}function Cd(n,e){return Object.prototype.hasOwnProperty.call(n,e)}(Wt=Y_.prototype).setTimeout=function(n){this.P=n},Wt.gb=function(n){n=n.target;const e=this.L;e&&3==Ac(n)?e.l():this.Ia(n)},Wt.Ia=function(n){try{if(n==this.g)e:{const D=Ac(this.g);var e=this.g.Da();const P=this.g.ba();if(!(3>D)&&(3!=D||bM||this.g&&(this.h.h||this.g.ga()||PU(this.g)))){this.I||4!=D||7==e||z_(8==e||0>=P?3:2),aC(this);var t=this.g.ba();this.N=t;t:if(dU(this)){var r=PU(this.g);n="";var o=r.length,s=4==Ac(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ed(this),Q_(this);var l="";break t}this.h.i=new An.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==o-1});r.splice(0,o),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ga();if(this.i=200==t,function Sq(n,e,t,r,o,s,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+"\n"+t+"\n"+s+" "+l})}(this.j,this.u,this.A,this.m,this.X,D,t),this.i){if(this.$&&!this.J){t:{if(this.g){var h,m=this.g;if((h=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!YE(h)){var y=h;break t}}y=null}if(!(t=y)){this.i=!1,this.o=3,Io(12),Ed(this),Q_(this);break e}ep(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,qM(this,t)}this.U?(hU(this,D,l),bM&&this.i&&3==D&&(eU(this.V,this.W,"tick",this.fb),this.W.start())):(ep(this.j,this.m,l,null),qM(this,l)),4==D&&Ed(this),this.i&&!this.I&&(4==D?BU(this.l,this):(this.i=!1,J_(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Io(12)):(this.o=0,Io(13)),Ed(this),Q_(this)}}}catch(D){}},Wt.fb=function(){if(this.g){var n=Ac(this.g),e=this.g.ga();this.C<e.length&&(aC(this),hU(this,n,e),this.i&&4!=n&&J_(this))}},Wt.cancel=function(){this.I=!0,Ed(this)},Wt.eb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function xq(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(z_(3),Io(17)),Ed(this),this.o=2,Q_(this)):fU(this,this.Y-n)},(Wt=tp.prototype).R=function(){zM(this);for(var n=[],e=0;e<this.g.length;e++)n.push(this.h[this.g[e]]);return n},Wt.T=function(){return zM(this),this.g.concat()},Wt.get=function(n,e){return Cd(this.h,n)?this.h[n]:e},Wt.set=function(n,e){Cd(this.h,n)||(this.i++,this.g.push(n)),this.h[n]=e},Wt.forEach=function(n,e){for(var t=this.T(),r=0;r<t.length;r++){var o=t[r],s=this.get(o);n.call(e,s,o,this)}};var pU=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function wd(n,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,n instanceof wd){this.g=void 0!==e?e:n.g,cC(this,n.j),this.s=n.s,uC(this,n.i),lC(this,n.m),this.l=n.l,e=n.h;var t=new ty;t.i=e.i,e.g&&(t.g=new tp(e.g),t.h=e.h),gU(this,t),this.o=n.o}else n&&(t=String(n).match(pU))?(this.g=!!e,cC(this,t[1]||"",!0),this.s=X_(t[2]||""),uC(this,t[3]||"",!0),lC(this,t[4]),this.l=X_(t[5]||"",!0),gU(this,t[6]||"",!0),this.o=X_(t[7]||"")):(this.g=!!e,this.h=new ty(null,this.g))}function Ic(n){return new wd(n)}function cC(n,e,t){n.j=t?X_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function uC(n,e,t){n.i=t?X_(e,!0):e}function lC(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function gU(n,e,t){e instanceof ty?(n.h=e,function jq(n,e){e&&!n.j&&(Au(n),n.i=null,n.g.forEach(function(t,r){var o=r.toLowerCase();r!=o&&(_U(this,r),vU(this,o,t))},n)),n.j=e}(n.h,n.g)):(t||(e=ey(e,Bq)),n.h=new ty(e,n.g))}function Ir(n,e,t){n.h.set(e,t)}function dC(n){return Ir(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function X_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function ey(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,kq),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function kq(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}wd.prototype.toString=function(){var n=[],e=this.j;e&&n.push(ey(e,mU,!0),":");var t=this.i;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(ey(e,mU,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&n.push("/"),n.push(ey(t,"/"==t.charAt(0)?Fq:Lq,!0))),(t=this.h.toString())&&n.push("?",t),(t=this.o)&&n.push("#",ey(t,Uq)),n.join("")};var mU=/[#\/\?@]/g,Lq=/[#\?:]/g,Fq=/[#\?]/g,Bq=/[#\?@]/g,Uq=/#/g;function ty(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Au(n){n.g||(n.g=new tp,n.h=0,n.i&&function Mq(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),o=null;if(0<=r){var s=n[t].substring(0,r);o=n[t].substring(r+1)}else s=n[t];e(s,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function _U(n,e){Au(n),e=np(n,e),Cd(n.g.h,e)&&(n.i=null,n.h-=n.g.get(e).length,Cd((n=n.g).h,e)&&(delete n.h[e],n.i--,n.g.length>2*n.i&&zM(n)))}function yU(n,e){return Au(n),e=np(n,e),Cd(n.g.h,e)}function vU(n,e,t){_U(n,e),0<t.length&&(n.i=null,n.g.set(np(n,e),mM(t)),n.h+=t.length)}function np(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function bU(n){this.l=n||Hq,n=An.PerformanceNavigationTiming?0<(n=An.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(An.g&&An.g.Ea&&An.g.Ea()&&An.g.Ea().Zb),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Wt=ty.prototype).add=function(n,e){Au(this),this.i=null,n=np(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Wt.forEach=function(n,e){Au(this),this.g.forEach(function(t,r){NB(t,function(o){n.call(e,o,r,this)},this)},this)},Wt.T=function(){Au(this);for(var n=this.g.R(),e=this.g.T(),t=[],r=0;r<e.length;r++)for(var o=n[r],s=0;s<o.length;s++)t.push(e[r]);return t},Wt.R=function(n){Au(this);var e=[];if("string"==typeof n)yU(this,n)&&(e=RB(e,this.g.get(np(this,n))));else{n=this.g.R();for(var t=0;t<n.length;t++)e=RB(e,n[t])}return e},Wt.set=function(n,e){return Au(this),this.i=null,yU(this,n=np(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Wt.get=function(n,e){return n&&0<(n=this.R(n)).length?String(n[0]):e},Wt.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var n=[],e=this.g.T(),t=0;t<e.length;t++){var r=e[t],o=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var l=o;""!==r[s]&&(l+="="+encodeURIComponent(String(r[s]))),n.push(l)}}return this.i=n.join("&")};var Hq=10;function EU(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CU(n){return n.h?1:n.g?n.g.size:0}function ZM(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KM(n,e){n.g?n.g.add(e):n.h=e}function wU(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function TU(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return mM(n.i)}function YM(){}function Gq(){this.g=new YM}function $q(n,e,t){const r=t||"";try{WM(n,function(o,s){let l=o;G_(o)&&(l=NM(o)),e.push(r+s+"="+encodeURIComponent(l))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function hC(n,e,t,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch(s){}}function ny(n){this.l=n.$b||null,this.j=n.ib||!1}function fC(n,e){Ri.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=JM,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bU.prototype.cancel=function(){if(this.i=TU(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},YM.prototype.stringify=function(n){return An.JSON.stringify(n,void 0)},YM.prototype.parse=function(n){return An.JSON.parse(n,void 0)},Ki(ny,UM),ny.prototype.g=function(){return new fC(this.l,this.j)},ny.prototype.i=function(n){return function(){return n}}({}),Ki(fC,Ri);var JM=0;function DU(n){n.j.read().then(n.Sa.bind(n)).catch(n.ha.bind(n))}function ry(n){n.readyState=4,n.l=null,n.j=null,n.A=null,iy(n)}function iy(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Wt=fC.prototype).open=function(n,e){if(this.readyState!=JM)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,iy(this)},Wt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||An).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},Wt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ry(this)),this.readyState=JM},Wt.Va=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,iy(this)),this.g&&(this.readyState=3,iy(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==An.ReadableStream&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;DU(this)}else n.text().then(this.Ua.bind(this),this.ha.bind(this))},Wt.Sa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?ry(this):iy(this),3==this.readyState&&DU(this)}},Wt.Ua=function(n){this.g&&(this.response=this.responseText=n,ry(this))},Wt.Ta=function(n){this.g&&(this.response=n,ry(this))},Wt.ha=function(){this.g&&ry(this)},Wt.setRequestHeader=function(n,e){this.v.append(n,e)},Wt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Wt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(fC.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var Wq=An.JSON.parse;function ai(n){Ri.call(this),this.headers=new tp,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=SU,this.K=this.L=!1}Ki(ai,Ri);var SU="",zq=/^https?$/i,Zq=["POST","PUT"];function Yq(n){return"content-type"==n.toLowerCase()}function xU(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,IU(n),pC(n)}function IU(n){n.D||(n.D=!0,Yi(n,"complete"),Yi(n,"error"))}function AU(n){if(n.h&&void 0!==fM&&(!n.C[1]||4!=Ac(n)||2!=n.ba()))if(n.v&&4==Ac(n))BM(n.Fa,0,n);else if(Yi(n,"readystatechange"),4==Ac(n)){n.h=!1;try{const h=n.ba();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var o=String(n.H).match(pU)[1]||null;if(!o&&An.self&&An.self.location){var s=An.self.location.protocol;o=s.substr(0,s.length-1)}r=!zq.test(o?o.toLowerCase():"")}t=r}if(t)Yi(n,"complete"),Yi(n,"success");else{n.m=6;try{var l=2<Ac(n)?n.g.statusText:""}catch(m){l=""}n.j=l+" ["+n.ba()+"]",IU(n)}}finally{pC(n)}}}function pC(n,e){if(n.g){OU(n);const t=n.g,r=n.C[0]?ZE:null;n.g=null,n.C=null,e||Yi(n,"ready");try{t.onreadystatechange=r}catch(o){}}}function OU(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(An.clearTimeout(n.A),n.A=null)}function Ac(n){return n.g?n.g.readyState:0}function PU(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case SU:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}function QM(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=function Jq(n){let e="";return yM(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ir(n,e,t))}function oy(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function MU(n){this.za=0,this.l=[],this.h=new nC,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=oy("failFast",!1,n),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=oy("baseRetryDelayMs",5e3,n),this.$a=oy("retryDelaySeedMs",1e4,n),this.Ya=oy("forwardChannelMaxRetries",2,n),this.ra=oy("forwardChannelRequestTimeoutMs",2e4,n),this.qa=n&&n.xmlHttpFactory||void 0,this.Ba=n&&n.Yb||!1,this.K=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.J="",this.i=new bU(n&&n.concurrentRequestLimit),this.Ca=new Gq,this.ja=n&&n.fastHandshake||!1,this.Ra=n&&n.Wb||!1,n&&n.Aa&&this.h.Aa(),n&&n.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&n&&n.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!n||!1!==n.Xb}function XM(n){if(NU(n),3==n.G){var e=n.V++,t=Ic(n.F);Ir(t,"SID",n.J),Ir(t,"RID",e),Ir(t,"TYPE","terminate"),sy(n,t),(e=new Y_(n,n.h,e,void 0)).K=2,e.v=dC(Ic(t)),t=!1,An.navigator&&An.navigator.sendBeacon&&(t=An.navigator.sendBeacon(e.v.toString(),"")),!t&&An.Image&&((new Image).src=e.v,t=!0),t||(e.g=HU(e.l,null),e.g.ea(e.v)),e.F=Date.now(),J_(e)}jU(n)}function gC(n){n.g&&(nN(n),n.g.cancel(),n.g=null)}function NU(n){gC(n),n.u&&(An.clearTimeout(n.u),n.u=null),_C(n),n.i.cancel(),n.m&&("number"==typeof n.m&&An.clearTimeout(n.m),n.m=null)}function eN(n,e){n.l.push(new class{constructor(n,e){this.h=n,this.g=e}}(n.Za++,e)),3==n.G&&mC(n)}function mC(n){EU(n.i)||n.m||(n.m=!0,RM(n.Ha,n),n.C=0)}function RU(n,e){var t;t=e?e.m:n.V++;const r=Ic(n.F);Ir(r,"SID",n.J),Ir(r,"RID",t),Ir(r,"AID",n.U),sy(n,r),n.o&&n.s&&QM(r,n.o,n.s),t=new Y_(n,n.h,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.l=e.D.concat(n.l)),e=kU(n,t,1e3),t.setTimeout(Math.round(.5*n.ra)+Math.round(.5*n.ra*Math.random())),KM(n.i,t),$M(t,r,e)}function sy(n,e){n.j&&WM({},function(t,r){Ir(e,r,t)})}function kU(n,e,t){t=Math.min(n.l.length,t);var r=n.j?Zi(n.j.Oa,n.j,n):null;e:{var o=n.l;let s=-1;for(;;){const l=["count="+t];-1==s?0<t?(s=o[0].h,l.push("ofs="+s)):s=0:l.push("ofs="+s);let h=!0;for(let m=0;m<t;m++){let y=o[m].h;const D=o[m].g;if(y-=s,0>y)s=Math.max(0,o[m].h-100),h=!1;else try{$q(D,l,"req"+y+"_")}catch(P){r&&r(D)}}if(h){r=l.join("&");break e}}}return n=n.l.splice(0,t),e.D=n,r}function LU(n){n.g||n.u||(n.Y=1,RM(n.Ga,n),n.A=0)}function tN(n){return!(n.g||n.u||3<=n.A||(n.Y++,n.u=Z_(Zi(n.Ga,n),UU(n,n.A)),n.A++,0))}function nN(n){null!=n.B&&(An.clearTimeout(n.B),n.B=null)}function FU(n){n.g=new Y_(n,n.h,"rpc",n.Y),null===n.o&&(n.g.H=n.s),n.g.O=0;var e=Ic(n.oa);Ir(e,"RID","rpc"),Ir(e,"SID",n.J),Ir(e,"CI",n.N?"0":"1"),Ir(e,"AID",n.U),sy(n,e),Ir(e,"TYPE","xmlhttp"),n.o&&n.s&&QM(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.la,t.K=1,t.v=dC(Ic(e)),t.s=null,t.U=!0,lU(t,n)}function _C(n){null!=n.v&&(An.clearTimeout(n.v),n.v=null)}function BU(n,e){var t=null;if(n.g==e){_C(n),nN(n),n.g=null;var r=2}else{if(!ZM(n.i,e))return;t=e.D,wU(n.i,e),r=1}if(n.I=e.N,0!=n.G)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var o=n.C;Yi(r=rC(),new oU(r,t,e,o)),mC(n)}else LU(n);else if(3==(o=e.o)||0==o&&0<n.I||!(1==r&&function Qq(n,e){return!(CU(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.l=e.D.concat(n.l),0):1==n.G||2==n.G||n.C>=(n.Xa?0:n.Ya)||(n.m=Z_(Zi(n.Ha,n,e),UU(n,n.C)),n.C++,0)))}(n,e)||2==r&&tN(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),o){case 1:Td(n,5);break;case 4:Td(n,10);break;case 3:Td(n,6);break;default:Td(n,2)}}function UU(n,e){let t=n.Pa+Math.floor(Math.random()*n.$a);return n.j||(t*=2),t*e}function Td(n,e){if(n.h.info("Error code "+e),2==e){var t=null;n.j&&(t=null);var r=Zi(n.jb,n);t||(t=new wd("//www.google.com/images/cleardot.gif"),An.location&&"http"==An.location.protocol||cC(t,"https"),dC(t)),function qq(n,e){const t=new nC;if(An.Image){const r=new Image;r.onload=KE(hC,t,r,"TestLoadImage: loaded",!0,e),r.onerror=KE(hC,t,r,"TestLoadImage: error",!1,e),r.onabort=KE(hC,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=KE(hC,t,r,"TestLoadImage: timeout",!1,e),An.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Io(2);n.G=0,n.j&&n.j.va(e),jU(n),NU(n)}function jU(n){n.G=0,n.I=-1,n.j&&((0!=TU(n.i).length||0!=n.l.length)&&(n.i.i.length=0,mM(n.l),n.l.length=0),n.j.ua())}function VU(n,e,t){let r=function Nq(n){return n instanceof wd?Ic(n):new wd(n,void 0)}(t);if(""!=r.i)e&&uC(r,e+"."+r.i),lC(r,r.m);else{const o=An.location;r=function Rq(n,e,t,r){var o=new wd(null,void 0);return n&&cC(o,n),e&&uC(o,e),t&&lC(o,t),r&&(o.l=r),o}(o.protocol,e?e+"."+o.hostname:o.hostname,+o.port,t)}return n.aa&&yM(n.aa,function(o,s){Ir(r,s,o)}),t=n.sa,(e=n.D)&&t&&Ir(r,e,t),Ir(r,"VER",n.ma),sy(n,r),r}function HU(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ai(t&&n.Ba&&!n.qa?new ny({ib:!0}):n.qa)).L=n.H,e}function GU(){}function yC(){if(Xf&&!(10<=Number(dq)))throw Error("Environmental error: no available transport.")}function ls(n,e){Ri.call(this),this.g=new MU(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.P=n,(n=e&&e.httpHeadersOverwriteParam)&&!YE(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!YE(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new rp(this)}function $U(n){jM.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function qU(){VM.call(this),this.status=1}function rp(n){this.g=n}(Wt=ai.prototype).ea=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():HM.g(),this.C=function aU(n){return n.h||(n.h=n.i())}(this.u?this.u:HM),this.g.onreadystatechange=Zi(this.Fa,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){return void xU(this,s)}n=t||"";const o=new tp(this.headers);r&&WM(r,function(s,l){o.set(l,s)}),r=function oq(n){e:{var e=Yq;const t=n.length,r="string"==typeof n?n.split(""):n;for(let o=0;o<t;o++)if(o in r&&e.call(void 0,r[o],o,n)){e=o;break e}e=-1}return 0>e?null:"string"==typeof n?n.charAt(e):n[e]}(o.T()),t=An.FormData&&n instanceof An.FormData,!(0<=MB(Zq,e))||r||t||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(s,l){this.g.setRequestHeader(l,s)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OU(this),0<this.B&&((this.K=function Kq(n){return Xf&&function lq(){return function sq(n){var e=uq;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=kB(String(JE)).split("."),t=kB("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var o=e[l]||"",s=t[l]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==o[0].length&&0==s[0].length)break;n=_M(0==o[1].length?0:parseInt(o[1],10),0==s[1].length?0:parseInt(s[1],10))||_M(0==o[2].length,0==s[2].length)||_M(o[2],s[2]),o=o[3],s=s[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zi(this.pa,this)):this.A=BM(this.pa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){xU(this,s)}},Wt.pa=function(){void 0!==fM&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yi(this,"timeout"),this.abort(8))},Wt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Yi(this,"complete"),Yi(this,"abort"),pC(this))},Wt.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pC(this,!0)),ai.Z.M.call(this)},Wt.Fa=function(){this.s||(this.F||this.v||this.l?AU(this):this.cb())},Wt.cb=function(){AU(this)},Wt.ba=function(){try{return 2<Ac(this)?this.g.status:-1}catch(n){return-1}},Wt.ga=function(){try{return this.g?this.g.responseText:""}catch(n){return""}},Wt.Qa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),Wq(e)}},Wt.Da=function(){return this.m},Wt.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Wt=MU.prototype).ma=8,Wt.G=1,Wt.hb=function(n){try{this.h.info("Origin Trials invoked: "+n)}catch(e){}},Wt.Ha=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.V=Math.floor(1e5*Math.random()),n=this.V++;const o=new Y_(this,this.h,n,void 0);let s=this.s;if(this.P&&(s?(s=BB(s),jB(s,this.P)):s=this.P),null===this.o&&(o.H=s),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var r=this.l[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=kU(this,o,e),Ir(t=Ic(this.F),"RID",n),Ir(t,"CVER",22),this.D&&Ir(t,"X-HTTP-Session-Id",this.D),sy(this,t),this.o&&s&&QM(t,this.o,s),KM(this.i,o),this.Ra&&Ir(t,"TYPE","init"),this.ja?(Ir(t,"$req",e),Ir(t,"SID","null"),o.$=!0,$M(o,t,null)):$M(o,t,e),this.G=2}}else 3==this.G&&(n?RU(this,n):0==this.l.length||EU(this.i)||RU(this))},Wt.Ga=function(){if(this.u=null,FU(this),this.$&&!(this.L||null==this.g||0>=this.O)){var n=2*this.O;this.h.info("BP detection timer enabled: "+n),this.B=Z_(Zi(this.bb,this),n)}},Wt.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Io(10),gC(this),FU(this))},Wt.ab=function(){null!=this.v&&(this.v=null,gC(this),tN(this),Io(19))},Wt.jb=function(n){n?(this.h.info("Successfully pinged google.com"),Io(2)):(this.h.info("Failed to ping google.com"),Io(1))},(Wt=GU.prototype).xa=function(){},Wt.wa=function(){},Wt.va=function(){},Wt.ua=function(){},Wt.Oa=function(){},yC.prototype.g=function(n,e){return new ls(n,e)},Ki(ls,Ri),ls.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;n.Wa&&(n.h.info("Origin Trials enabled."),RM(Zi(n.hb,n,e))),Io(0),n.W=e,n.aa=t||{},n.N=n.X,n.F=VU(n,null,n.W),mC(n)},ls.prototype.close=function(){XM(this.g)},ls.prototype.u=function(n){if("string"==typeof n){var e={};e.__data__=n,eN(this.g,e)}else this.v?((e={}).__data__=NM(n),eN(this.g,e)):eN(this.g,n)},ls.prototype.M=function(){this.g.j=null,delete this.j,XM(this.g),delete this.g,ls.Z.M.call(this)},Ki($U,jM),Ki(qU,VM),Ki(rp,GU),rp.prototype.xa=function(){Yi(this.g,"a")},rp.prototype.wa=function(n){Yi(this.g,new $U(n))},rp.prototype.va=function(n){Yi(this.g,new qU(n))},rp.prototype.ua=function(){Yi(this.g,"b")},yC.prototype.createWebChannel=yC.prototype.g,ls.prototype.send=ls.prototype.u,ls.prototype.open=ls.prototype.m,ls.prototype.close=ls.prototype.close,iC.NO_ERROR=0,iC.TIMEOUT=8,iC.HTTP_ERROR=6,sU.COMPLETE="complete",cU.EventType=K_,K_.OPEN="a",K_.CLOSE="b",K_.ERROR="c",K_.MESSAGE="d",Ri.prototype.listen=Ri.prototype.N,ai.prototype.listenOnce=ai.prototype.O,ai.prototype.getLastError=ai.prototype.La,ai.prototype.getLastErrorCode=ai.prototype.Da,ai.prototype.getStatus=ai.prototype.ba,ai.prototype.getResponseJson=ai.prototype.Qa,ai.prototype.getResponseText=ai.prototype.ga,ai.prototype.send=ai.prototype.ea;var Xq=xc.createWebChannelTransport=function(){return new yC},eW=xc.getStatEventTarget=function(){return rC()},rN=xc.ErrorCode=iC,tW=xc.EventType=sU,nW=xc.Event=bd,WU=xc.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},rW=xc.FetchXmlHttpFactory=ny,vC=xc.WebChannel=cU,iW=xc.XhrIo=ai;const zU="@firebase/firestore";class Ji{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ji.UNAUTHENTICATED=new Ji(null),Ji.GOOGLE_CREDENTIALS=new Ji("google-credentials-uid"),Ji.FIRST_PARTY=new Ji("first-party-uid"),Ji.MOCK_USER=new Ji("mock-user");let ip="9.6.9";const Ou=new yc("@firebase/firestore");function iN(){return Ou.logLevel}function ft(n,...e){if(Ou.logLevel<=Kn.DEBUG){const t=e.map(oN);Ou.debug(`Firestore (${ip}): ${n}`,...t)}}function ci(n,...e){if(Ou.logLevel<=Kn.ERROR){const t=e.map(oN);Ou.error(`Firestore (${ip}): ${n}`,...t)}}function bC(n,...e){if(Ou.logLevel<=Kn.WARN){const t=e.map(oN);Ou.warn(`Firestore (${ip}): ${n}`,...t)}}function oN(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch(t){return n}}function nn(n="Unexpected state"){const e=`FIRESTORE (${ip}) INTERNAL ASSERTION FAILED: `+n;throw ci(e),new Error(e)}function wn(n,e){n||nn()}function At(n,e){return n}const Ge={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class st extends Ua{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ki{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class ZU{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oW{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ji.UNAUTHENTICATED))}shutdown(){}}class aW{constructor(e){this.t=e,this.currentUser=Ji.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let o=this.i;const s=y=>this.i!==o?(o=this.i,t(y)):Promise.resolve();let l=new ki;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ki,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const y=l;e.enqueueRetryable(Ie(function*(){yield y.promise,yield s(r.currentUser)}))},m=y=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(y=>m(y)),setTimeout(()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?m(y):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ki)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(wn("string"==typeof r.accessToken),new ZU(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return wn(null===e||"string"==typeof e),new Ji(e)}}class cW{constructor(e,t,r){this.type="FirstParty",this.user=Ji.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const o=e.auth.getAuthHeaderValueForFirstParty([]);o&&this.headers.set("Authorization",o),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)}}class uW{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new cW(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ji.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class KU{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class lW{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const r=s=>{null!=s.error&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.p;return this.p=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const o=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.g.onInit(s=>o(s)),setTimeout(()=>{if(!this.appCheck){const s=this.g.getImmediate({optional:!0});s?o(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(wn("string"==typeof t.token),this.p=t.token,new KU(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ds{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.I(r),this.T=r=>t.writeSequenceNumber(r))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function dW(n){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}ds.A=-1;class YU{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=dW(40);for(let s=0;s<o.length;++s)r.length<20&&o[s]<t&&(r+=e.charAt(o[s]%e.length))}return r}}function qn(n,e){return n<e?-1:n>e?1:0}function op(n,e,t){return n.length===e.length&&n.every((r,o)=>t(r,e[o]))}class Qi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new st(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new st(Ge.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new st(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new st(Ge.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Qi.fromMillis(Date.now())}static fromDate(e){return Qi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Qi(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?qn(this.nanoseconds,e.nanoseconds):qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class _n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _n(e)}static min(){return new _n(new Qi(0,0))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function QU(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function XU(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class ay{constructor(e,t,r){void 0===t?t=0:t>e.length&&nn(),void 0===r?r=e.length-t:r>e.length-t&&nn(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===ay.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ay?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let o=0;o<r;o++){const s=e.get(o),l=t.get(o);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class nr extends ay{construct(e,t,r){return new nr(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new st(Ge.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(o=>o.length>0))}return new nr(t)}static emptyPath(){return new nr([])}}const hW=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xi extends ay{construct(e,t,r){return new Xi(e,t,r)}static isValidIdentifier(e){return hW.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Xi(["__name__"])}static fromServerFormat(e){const t=[];let r="",o=0;const s=()=>{if(0===r.length)throw new st(Ge.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;o<e.length;){const h=e[o];if("\\"===h){if(o+1===e.length)throw new st(Ge.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[o+1];if("\\"!==m&&"."!==m&&"`"!==m)throw new st(Ge.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,o+=2}else"`"===h?(l=!l,o++):"."!==h||l?(r+=h,o++):(s(),o++)}if(s(),l)throw new st(Ge.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xi(t)}static emptyPath(){return new Xi([])}}class sp{constructor(e){this.fields=e,e.sort(Xi.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return op(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class bi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new bi(t)}static fromUint8Array(e){const t=function(r){let o="";for(let s=0;s<r.length;++s)o+=String.fromCharCode(r[s]);return o}(e);return new bi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}bi.EMPTY_BYTE_STRING=new bi("");const fW=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pu(n){if(wn(!!n),"string"==typeof n){let e=0;const t=fW.exec(n);if(wn(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Gr(n.seconds),nanos:Gr(n.nanos)}}function Gr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Sd(n){return"string"==typeof n?bi.fromBase64String(n):bi.fromUint8Array(n)}function sN(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==n?void 0:n.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function e6(n){const e=n.mapValue.fields.__previous_value__;return sN(e)?e6(e):e}function cy(n){const e=Pu(n.mapValue.fields.__local_write_time__.timestampValue);return new Qi(e.seconds,e.nanos)}class pW{constructor(e,t,r,o,s,l,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=o,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.useFetchStreams=m}}class Mu{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Mu("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Mu&&e.projectId===this.projectId&&e.database===this.database}}function xd(n){return null==n}function uy(n){return 0===n&&1/n==-1/0}class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(nr.fromString(e))}static fromName(e){return new Lt(nr.fromString(e).popFirst(5))}static empty(){return new Lt(nr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===nr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return nr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new nr(e.slice()))}}function Id(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?sN(n)?4:a6(n)?9:10:nn()}function Ga(n,e){if(n===e)return!0;const t=Id(n);if(t!==Id(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cy(n).isEqual(cy(e));case 3:return function(r,o){if("string"==typeof r.timestampValue&&"string"==typeof o.timestampValue&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const s=Pu(r.timestampValue),l=Pu(o.timestampValue);return s.seconds===l.seconds&&s.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return o=e,Sd(n.bytesValue).isEqual(Sd(o.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,o){return Gr(r.geoPointValue.latitude)===Gr(o.geoPointValue.latitude)&&Gr(r.geoPointValue.longitude)===Gr(o.geoPointValue.longitude)}(n,e);case 2:return function(r,o){if("integerValue"in r&&"integerValue"in o)return Gr(r.integerValue)===Gr(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const s=Gr(r.doubleValue),l=Gr(o.doubleValue);return s===l?uy(s)===uy(l):isNaN(s)&&isNaN(l)}return!1}(n,e);case 9:return op(n.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:return function(r,o){const s=r.mapValue.fields||{},l=o.mapValue.fields||{};if(QU(s)!==QU(l))return!1;for(const h in s)if(s.hasOwnProperty(h)&&(void 0===l[h]||!Ga(s[h],l[h])))return!1;return!0}(n,e);default:return nn()}var o}function ly(n,e){return void 0!==(n.values||[]).find(t=>Ga(t,e))}function Nu(n,e){if(n===e)return 0;const t=Id(n),r=Id(e);if(t!==r)return qn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return qn(n.booleanValue,e.booleanValue);case 2:return function(o,s){const l=Gr(o.integerValue||o.doubleValue),h=Gr(s.integerValue||s.doubleValue);return l<h?-1:l>h?1:l===h?0:isNaN(l)?isNaN(h)?0:-1:1}(n,e);case 3:return i6(n.timestampValue,e.timestampValue);case 4:return i6(cy(n),cy(e));case 5:return qn(n.stringValue,e.stringValue);case 6:return function(o,s){const l=Sd(o),h=Sd(s);return l.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){const l=o.split("/"),h=s.split("/");for(let m=0;m<l.length&&m<h.length;m++){const y=qn(l[m],h[m]);if(0!==y)return y}return qn(l.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){const l=qn(Gr(o.latitude),Gr(s.latitude));return 0!==l?l:qn(Gr(o.longitude),Gr(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(o,s){const l=o.values||[],h=s.values||[];for(let m=0;m<l.length&&m<h.length;++m){const y=Nu(l[m],h[m]);if(y)return y}return qn(l.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(o,s){const l=o.fields||{},h=Object.keys(l),m=s.fields||{},y=Object.keys(m);h.sort(),y.sort();for(let D=0;D<h.length&&D<y.length;++D){const P=qn(h[D],y[D]);if(0!==P)return P;const V=Nu(l[h[D]],m[y[D]]);if(0!==V)return V}return qn(h.length,y.length)}(n.mapValue,e.mapValue);default:throw nn()}}function i6(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return qn(n,e);const t=Pu(n),r=Pu(e),o=qn(t.seconds,r.seconds);return 0!==o?o:qn(t.nanos,r.nanos)}function ap(n){return aN(n)}function aN(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const o=Pu(r);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Sd(n.bytesValue).toBase64():"referenceValue"in n?Lt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let o="[",s=!0;for(const l of r.values||[])s?s=!1:o+=",",o+=aN(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(r){const o=Object.keys(r.fields||{}).sort();let s="{",l=!0;for(const h of o)l?l=!1:s+=",",s+=`${h}:${aN(r.fields[h])}`;return s+"}"}(n.mapValue):nn();var e}function cN(n){return!!n&&"integerValue"in n}function dy(n){return!!n&&"arrayValue"in n}function o6(n){return!!n&&"nullValue"in n}function s6(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function EC(n){return!!n&&"mapValue"in n}function hy(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Dd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=hy(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=hy(n.arrayValue.values[t]);return e}return Object.assign({},n)}function a6(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class go{constructor(e){this.value=e}static empty(){return new go({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!EC(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=hy(t)}setAll(e){let t=Xi.emptyPath(),r={},o=[];e.forEach((l,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,o),r={},o=[],t=h.popLast()}l?r[h.lastSegment()]=hy(l):o.push(h.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,o)}delete(e){const t=this.field(e.popLast());EC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=t.mapValue.fields[e.get(r)];EC(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,r){Dd(t,(o,s)=>e[o]=s);for(const o of r)delete e[o]}clone(){return new go(hy(this.value))}}function l6(n){const e=[];return Dd(n.fields,(t,r)=>{const o=new Xi([t]);if(EC(r)){const s=l6(r.mapValue).fields;if(0===s.length)e.push(o);else for(const l of s)e.push(o.child(l))}else e.push(o)}),new sp(e)}class Br{constructor(e,t,r,o,s,l){this.key=e,this.documentType=t,this.version=r,this.readTime=o,this.data=s,this.documentState=l}static newInvalidDocument(e){return new Br(e,0,_n.min(),_n.min(),go.empty(),0)}static newFoundDocument(e,t,r){return new Br(e,1,t,_n.min(),r,0)}static newNoDocument(e,t){return new Br(e,2,t,_n.min(),go.empty(),0)}static newUnknownDocument(e,t){return new Br(e,3,t,_n.min(),go.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=go.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=go.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Br&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Br(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gW{constructor(e,t=null,r=[],o=[],s=null,l=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=o,this.limit=s,this.startAt=l,this.endAt=h,this.P=null}}function d6(n,e=null,t=[],r=[],o=null,s=null,l=null){return new gW(n,e,t,r,o,s,l)}function Ad(n){const e=At(n);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(o=r).field.canonicalString()+o.op.toString()+ap(o.value);var o}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(o=r).field.canonicalString()+o.dir;var o}).join(","),xd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ap(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ap(r)).join(",")),e.P=t}return e.P}function py(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let o=0;o<n.orderBy.length;o++)if(!TW(n.orderBy[o],e.orderBy[o]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let o=0;o<n.filters.length;o++)if((t=n.filters[o]).op!==(r=e.filters[o]).op||!t.field.isEqual(r.field)||!Ga(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!p6(n.startAt,e.startAt)&&p6(n.endAt,e.endAt)}function DC(n){return Lt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class eo extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new _W(e,t,r):"array-contains"===t?new bW(e,r):"in"===t?new EW(e,r):"not-in"===t?new CW(e,r):"array-contains-any"===t?new wW(e,r):new eo(e,t,r)}static V(e,t,r){return"in"===t?new yW(e,r):new vW(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Nu(t,this.value)):null!==t&&Id(this.value)===Id(t)&&this.v(Nu(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class _W extends eo{constructor(e,t,r){super(e,t,r),this.key=Lt.fromName(r.referenceValue)}matches(e){const t=Lt.comparator(e.key,this.key);return this.v(t)}}class yW extends eo{constructor(e,t){super(e,"in",t),this.keys=h6(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class vW extends eo{constructor(e,t){super(e,"not-in",t),this.keys=h6(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function h6(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Lt.fromName(r.referenceValue))}class bW extends eo{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return dy(t)&&ly(t.arrayValue,this.value)}}class EW extends eo{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&ly(this.value.arrayValue,t)}}class CW extends eo{constructor(e,t){super(e,"not-in",t)}matches(e){if(ly(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!ly(this.value.arrayValue,t)}}class wW extends eo{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!dy(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>ly(this.value.arrayValue,r))}}class Ru{constructor(e,t){this.position=e,this.inclusive=t}}class lp{constructor(e,t="asc"){this.field=e,this.dir=t}}function TW(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function f6(n,e,t){let r=0;for(let o=0;o<n.position.length;o++){const s=e[o],l=n.position[o];if(r=s.field.isKeyField()?Lt.comparator(Lt.fromName(l.referenceValue),t.key):Nu(l,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function p6(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ga(n.position[t],e.position[t]))return!1;return!0}class Oc{constructor(e,t=null,r=[],o=[],s=null,l="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=o,this.limit=s,this.limitType=l,this.startAt=h,this.endAt=m,this.D=null,this.C=null}}function dp(n){return new Oc(n)}function xC(n){return!xd(n.limit)&&"F"===n.limitType}function IC(n){return!xd(n.limit)&&"L"===n.limitType}function hp(n){const e=At(n);if(null===e.D){e.D=[];const t=function dN(n){for(const e of n.filters)if(e.S())return e.field;return null}(e),r=function lN(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.D.push(new lp(t)),e.D.push(new lp(Xi.keyField(),"asc"));else{let o=!1;for(const s of e.explicitOrderBy)e.D.push(s),s.field.isKeyField()&&(o=!0);if(!o){const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new lp(Xi.keyField(),s))}}}return e.D}function js(n){const e=At(n);if(!e.C)if("F"===e.limitType)e.C=d6(e.path,e.collectionGroup,hp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const s of hp(e))t.push(new lp(s.field,"desc"===s.dir?"asc":"desc"));const r=e.endAt?new Ru(e.endAt.position,!e.endAt.inclusive):null,o=e.startAt?new Ru(e.startAt.position,!e.startAt.inclusive):null;e.C=d6(e.path,e.collectionGroup,t,e.filters,e.limit,r,o)}return e.C}function gy(n,e){return py(js(n),js(e))&&n.limitType===e.limitType}function _6(n){return`${Ad(js(n))}|lt:${n.limitType}`}function fN(n){return`Query(target=${function mW(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${ap(r.value)}`;var r}).join(", ")}]`),xd(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>ap(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>ap(t)).join(",")),`Target(${e})`}(js(n))}; limitType=${n.limitType})`}function pN(n,e){return e.isFoundDocument()&&function(t,r){const o=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(o):Lt.isDocumentKey(t.path)?t.path.isEqual(o):t.path.isImmediateParentOf(o)}(n,e)&&function(t,r){for(const o of t.explicitOrderBy)if(!o.field.isKeyField()&&null===r.data.field(o.field))return!1;return!0}(n,e)&&function(t,r){for(const o of t.filters)if(!o.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(o,s,l){const h=f6(o,s,l);return o.inclusive?h<=0:h<0}(t.startAt,hp(t),r)||t.endAt&&!function(o,s,l){const h=f6(o,s,l);return o.inclusive?h>=0:h>0}(t.endAt,hp(t),r)));var t,r}function y6(n){return(e,t)=>{let r=!1;for(const o of hp(n)){const s=DW(o,e,t);if(0!==s)return s;r=r||o.field.isKeyField()}return 0}}function DW(n,e,t){const r=n.field.isKeyField()?Lt.comparator(e.key,t.key):function(o,s,l){const h=s.data.field(o),m=l.data.field(o);return null!==h&&null!==m?Nu(h,m):nn()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nn()}}function v6(n,e){if(n.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uy(e)?"-0":e}}function b6(n){return{integerValue:""+n}}function E6(n,e){return function t6(n){return"number"==typeof n&&Number.isInteger(n)&&!uy(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?b6(e):v6(n,e)}class AC{constructor(){this._=void 0}}function SW(n,e,t){return n instanceof fp?function(r,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Od?w6(n,e):n instanceof Pd?T6(n,e):function(r,o){const s=C6(r,o),l=D6(s)+D6(r.k);return cN(s)&&cN(r.k)?b6(l):v6(r.M,l)}(n,e)}function xW(n,e,t){return n instanceof Od?w6(n,e):n instanceof Pd?T6(n,e):t}function C6(n,e){return n instanceof pp?cN(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class fp extends AC{}class Od extends AC{constructor(e){super(),this.elements=e}}function w6(n,e){const t=S6(e);for(const r of n.elements)t.some(o=>Ga(o,r))||t.push(r);return{arrayValue:{values:t}}}class Pd extends AC{constructor(e){super(),this.elements=e}}function T6(n,e){let t=S6(e);for(const r of n.elements)t=t.filter(o=>!Ga(o,r));return{arrayValue:{values:t}}}class pp extends AC{constructor(e,t){super(),this.M=e,this.k=t}}function D6(n){return Gr(n.integerValue||n.doubleValue)}function S6(n){return dy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class AW{constructor(e,t){this.version=e,this.transformResults=t}}class ui{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ui}static exists(e){return new ui(void 0,e)}static updateTime(e){return new ui(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function OC(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class PC{}function OW(n,e,t){n instanceof _y?function(r,o,s){const l=r.value.clone(),h=O6(r.fieldTransforms,o,s.transformResults);l.setAll(h),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Md?function(r,o,s){if(!OC(r.precondition,o))return void o.convertToUnknownDocument(s.version);const l=O6(r.fieldTransforms,o,s.transformResults),h=o.data;h.setAll(A6(r)),h.setAll(l),o.convertToFoundDocument(s.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function gN(n,e,t){var o;n instanceof _y?function(r,o,s){if(!OC(r.precondition,o))return;const l=r.value.clone(),h=P6(r.fieldTransforms,s,o);l.setAll(h),o.convertToFoundDocument(I6(o),l).setHasLocalMutations()}(n,e,t):n instanceof Md?function(r,o,s){if(!OC(r.precondition,o))return;const l=P6(r.fieldTransforms,s,o),h=o.data;h.setAll(A6(r)),h.setAll(l),o.convertToFoundDocument(I6(o),h).setHasLocalMutations()}(n,e,t):OC(n.precondition,o=e)&&o.convertToNoDocument(_n.min())}function PW(n,e){let t=null;for(const r of n.fieldTransforms){const o=e.data.field(r.field),s=C6(r.transform,o||null);null!=s&&(null==t&&(t=go.empty()),t.set(r.field,s))}return t||null}function x6(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&op(t,r,(o,s)=>function IW(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Od&&r instanceof Od||t instanceof Pd&&r instanceof Pd?op(t.elements,r.elements,Ga):t instanceof pp&&r instanceof pp?Ga(t.k,r.k):t instanceof fp&&r instanceof fp);var t,r}(o,s))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}function I6(n){return n.isFoundDocument()?n.version:_n.min()}class _y extends PC{constructor(e,t,r,o=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=o,this.type=0}}class Md extends PC{constructor(e,t,r,o,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=o,this.fieldTransforms=s,this.type=1}}function A6(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function O6(n,e,t){const r=new Map;wn(n.length===t.length);for(let o=0;o<t.length;o++){const s=n[o],l=s.transform,h=e.data.field(s.field);r.set(s.field,xW(l,h,t[o]))}return r}function P6(n,e,t){const r=new Map;for(const o of n){const s=o.transform,l=t.data.field(o.field);r.set(o.field,SW(s,l,e))}return r}class yy extends PC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class mN extends PC{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class MW{constructor(e){this.count=e}}var li,Yn;function M6(n){switch(n){default:return nn();case Ge.CANCELLED:case Ge.UNKNOWN:case Ge.DEADLINE_EXCEEDED:case Ge.RESOURCE_EXHAUSTED:case Ge.INTERNAL:case Ge.UNAVAILABLE:case Ge.UNAUTHENTICATED:return!1;case Ge.INVALID_ARGUMENT:case Ge.NOT_FOUND:case Ge.ALREADY_EXISTS:case Ge.PERMISSION_DENIED:case Ge.FAILED_PRECONDITION:case Ge.ABORTED:case Ge.OUT_OF_RANGE:case Ge.UNIMPLEMENTED:case Ge.DATA_LOSS:return!0}}function N6(n){if(void 0===n)return ci("GRPC error has no .code"),Ge.UNKNOWN;switch(n){case li.OK:return Ge.OK;case li.CANCELLED:return Ge.CANCELLED;case li.UNKNOWN:return Ge.UNKNOWN;case li.DEADLINE_EXCEEDED:return Ge.DEADLINE_EXCEEDED;case li.RESOURCE_EXHAUSTED:return Ge.RESOURCE_EXHAUSTED;case li.INTERNAL:return Ge.INTERNAL;case li.UNAVAILABLE:return Ge.UNAVAILABLE;case li.UNAUTHENTICATED:return Ge.UNAUTHENTICATED;case li.INVALID_ARGUMENT:return Ge.INVALID_ARGUMENT;case li.NOT_FOUND:return Ge.NOT_FOUND;case li.ALREADY_EXISTS:return Ge.ALREADY_EXISTS;case li.PERMISSION_DENIED:return Ge.PERMISSION_DENIED;case li.FAILED_PRECONDITION:return Ge.FAILED_PRECONDITION;case li.ABORTED:return Ge.ABORTED;case li.OUT_OF_RANGE:return Ge.OUT_OF_RANGE;case li.UNIMPLEMENTED:return Ge.UNIMPLEMENTED;case li.DATA_LOSS:return Ge.DATA_LOSS;default:return nn()}}(Yn=li||(li={}))[Yn.OK=0]="OK",Yn[Yn.CANCELLED=1]="CANCELLED",Yn[Yn.UNKNOWN=2]="UNKNOWN",Yn[Yn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yn[Yn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yn[Yn.NOT_FOUND=5]="NOT_FOUND",Yn[Yn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yn[Yn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yn[Yn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yn[Yn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yn[Yn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yn[Yn.ABORTED=10]="ABORTED",Yn[Yn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yn[Yn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yn[Yn.INTERNAL=13]="INTERNAL",Yn[Yn.UNAVAILABLE=14]="UNAVAILABLE",Yn[Yn.DATA_LOSS=15]="DATA_LOSS";class ku{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[o,s]of r)if(this.equalsFn(o,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),o=this.inner[r];if(void 0===o)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return void(o[s]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return 1===r.length?delete this.inner[t]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Dd(this.inner,(t,r)=>{for(const[o,s]of r)e(o,s)})}isEmpty(){return XU(this.inner)}size(){return this.innerSize}}class ei{constructor(e,t){this.comparator=e,this.root=t||to.EMPTY}insert(e,t){return new ei(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,to.BLACK,null,null))}remove(e){return new ei(this.comparator,this.root.remove(e,this.comparator).copy(null,null,to.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(0===o)return t+r.left.size;o<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new MC(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new MC(this.root,e,this.comparator,!1)}getReverseIterator(){return new MC(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new MC(this.root,e,this.comparator,!0)}}class MC{constructor(e,t,r,o){this.isReverse=o,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&o&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class to{constructor(e,t,r,o,s){this.key=e,this.value=t,this.color=null!=r?r:to.RED,this.left=null!=o?o:to.EMPTY,this.right=null!=s?s:to.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,o,s){return new to(null!=e?e:this.key,null!=t?t:this.value,null!=r?r:this.color,null!=o?o:this.left,null!=s?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let o=this;const s=r(e,o.key);return o=s<0?o.copy(null,null,null,o.left.insert(e,t,r),null):0===s?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return to.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),0===t(e,o.key)){if(o.right.isEmpty())return to.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,to.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,to.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nn();const e=this.left.check();if(e!==this.right.check())throw nn();return e+(this.isRed()?0:1)}}to.EMPTY=null,to.RED=!0,to.BLACK=!1,to.EMPTY=new class{constructor(){this.size=0}get key(){throw nn()}get value(){throw nn()}get color(){throw nn()}get left(){throw nn()}get right(){throw nn()}copy(n,e,t,r,o){return this}insert(n,e,t){return new to(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ar{constructor(e){this.comparator=e,this.data=new ei(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R6(this.data.getIterator())}getIteratorFrom(e){return new R6(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ar)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(o,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ar(this.comparator);return t.data=e,t}}class R6{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const NW=new ei(Lt.comparator);function Vs(){return NW}const RW=new ei(Lt.comparator);function _N(){return RW}function vy(){return new ku(n=>n.toString(),(n,e)=>n.isEqual(e))}const kW=new ei(Lt.comparator),LW=new Ar(Lt.comparator);function or(...n){let e=LW;for(const t of n)e=e.add(t);return e}const FW=new Ar(qn);function NC(){return FW}class by{constructor(e,t,r,o,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t){const r=new Map;return r.set(e,Ey.createSynthesizedTargetChangeForCurrentChange(e,t)),new by(_n.min(),r,NC(),Vs(),or())}}class Ey{constructor(e,t,r,o,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Ey(bi.EMPTY_BYTE_STRING,t,or(),or(),or())}}class RC{constructor(e,t,r,o){this.O=e,this.removedTargetIds=t,this.key=r,this.$=o}}class k6{constructor(e,t){this.targetId=e,this.F=t}}class L6{constructor(e,t,r=bi.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=o}}class F6{constructor(){this.B=0,this.L=U6(),this.q=bi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(e){e.approximateByteSize()>0&&(this.K=!0,this.q=e)}H(){let e=or(),t=or(),r=or();return this.L.forEach((o,s)=>{switch(s){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:r=r.add(o);break;default:nn()}}),new Ey(this.q,this.U,e,t,r)}J(){this.K=!1,this.L=U6()}Y(e,t){this.K=!0,this.L=this.L.insert(e,t)}X(e){this.K=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class BW{constructor(e){this.nt=e,this.st=new Map,this.it=Vs(),this.rt=B6(),this.ot=new Ar(qn)}at(e){for(const t of e.O)e.$&&e.$.isFoundDocument()?this.ut(t,e.$):this.ct(t,e.key,e.$);for(const t of e.removedTargetIds)this.ct(t,e.key,e.$)}ht(e){this.forEachTarget(e,t=>{const r=this.lt(t);switch(e.state){case 0:this.ft(t)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||this.removeTarget(t);break;case 3:this.ft(t)&&(r.et(),r.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),r.W(e.resumeToken));break;default:nn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((r,o)=>{this.ft(o)&&t(o)})}_t(e){const t=e.targetId,r=e.F.count,o=this.wt(t);if(o){const s=o.target;if(DC(s))if(0===r){const l=new Lt(s.path);this.ct(t,l,Br.newNoDocument(l,_n.min()))}else wn(1===r);else this.gt(t)!==r&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((s,l)=>{const h=this.wt(l);if(h){if(s.current&&DC(h.target)){const m=new Lt(h.target.path);null!==this.it.get(m)||this.It(l,m)||this.ct(l,m,Br.newNoDocument(m,e))}s.j&&(t.set(l,s.H()),s.J())}});let r=or();this.rt.forEach((s,l)=>{let h=!0;l.forEachWhile(m=>{const y=this.wt(m);return!y||2===y.purpose||(h=!1,!1)}),h&&(r=r.add(s))}),this.it.forEach((s,l)=>l.setReadTime(e));const o=new by(e,t,this.ot,this.it,r);return this.it=Vs(),this.rt=B6(),this.ot=new Ar(qn),o}ut(e,t){if(!this.ft(e))return;const r=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,r),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,r){if(!this.ft(e))return;const o=this.lt(e);this.It(e,t)?o.Y(t,1):o.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),r&&(this.it=this.it.insert(t,r))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new F6,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ar(qn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||ft("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}dt(e){this.st.set(e,new F6),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function B6(){return new ei(Lt.comparator)}function U6(){return new ei(Lt.comparator)}const UW={asc:"ASCENDING",desc:"DESCENDING"},jW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class VW{constructor(e,t){this.databaseId=e,this.N=t}}function Cy(n,e){return n.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function j6(n,e){return n.N?e.toBase64():e.toUint8Array()}function HW(n,e){return Cy(n,e.toTimestamp())}function Li(n){return wn(!!n),_n.fromTimestamp(function(e){const t=Pu(e);return new Qi(t.seconds,t.nanos)}(n))}function yN(n,e){return(t=n,new nr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function V6(n){const e=nr.fromString(n);return wn(Y6(e)),e}function wy(n,e){return yN(n.databaseId,e.path)}function $a(n,e){const t=V6(e);if(t.get(1)!==n.databaseId.projectId)throw new st(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new st(Ge.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Lt(G6(t))}function vN(n,e){return yN(n.databaseId,e)}function Ty(n){return new nr(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function G6(n){return wn(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function $6(n,e,t){return{name:wy(n,e),fields:t.value.mapValue.fields}}function W6(n,e){return{documents:[vN(n,e.path)]}}function z6(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vN(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vN(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const o=function(m){if(0===m.length)return;const y=m.map(D=>function(P){if("=="===P.op){if(s6(P.value))return{unaryFilter:{field:mp(P.field),op:"IS_NAN"}};if(o6(P.value))return{unaryFilter:{field:mp(P.field),op:"IS_NULL"}}}else if("!="===P.op){if(s6(P.value))return{unaryFilter:{field:mp(P.field),op:"IS_NOT_NAN"}};if(o6(P.value))return{unaryFilter:{field:mp(P.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:mp(P.field),op:ZW(P.op),value:P.value}}}(D));return 1===y.length?y[0]:{compositeFilter:{op:"AND",filters:y}}}(e.filters);o&&(t.structuredQuery.where=o);const s=function(m){if(0!==m.length)return m.map(y=>{return{field:mp((D=y).field),direction:zW(D.dir)};var D})}(e.orderBy);s&&(t.structuredQuery.orderBy=s);const l=(y=e.limit,n.N||xd(y)?y:{value:y});var y,h,m;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(m=e.endAt).inclusive,values:m.position}),t}function Z6(n){let e=function H6(n){const e=V6(n);return 4===e.length?nr.emptyPath():G6(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let o=null;if(r>0){wn(1===r);const D=t.from[0];D.allDescendants?o=D.collectionId:e=e.child(D.collectionId)}let s=[];t.where&&(s=K6(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(D=>{return new lp(_p((P=D).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction));var P}));let h=null;t.limit&&(h=function(D){let P;return P="object"==typeof D?D.value:D,xd(P)?null:P}(t.limit));let m=null;var D;t.startAt&&(m=new Ru((D=t.startAt).values||[],!!D.before));let y=null;return t.endAt&&(y=function(D){return new Ru(D.values||[],!D.before)}(t.endAt)),function g6(n,e,t,r,o,s,l,h){return new Oc(n,e,t,r,o,s,l,h)}(e,o,l,s,h,"F",m,y)}function K6(n){return n?void 0!==n.unaryFilter?[YW(n)]:void 0!==n.fieldFilter?[KW(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>K6(e)).reduce((e,t)=>e.concat(t)):nn():[]}function zW(n){return UW[n]}function ZW(n){return jW[n]}function mp(n){return{fieldPath:n.canonicalString()}}function _p(n){return Xi.fromServerFormat(n.fieldPath)}function KW(n){return eo.create(_p(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nn()}}(n.fieldFilter.op),n.fieldFilter.value)}function YW(n){switch(n.unaryFilter.op){case"IS_NAN":const e=_p(n.unaryFilter.field);return eo.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_p(n.unaryFilter.field);return eo.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=_p(n.unaryFilter.field);return eo.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=_p(n.unaryFilter.field);return eo.create(o,"!=",{nullValue:"NULL_VALUE"});default:return nn()}}function JW(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Y6(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}const n4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ze{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ze((r,o)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,o)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ze?t:ze.resolve(t)}catch(t){return ze.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ze.reject(t)}static resolve(e){return new ze((t,r)=>{t(e)})}static reject(e){return new ze((t,r)=>{r(e)})}static waitFor(e){return new ze((t,r)=>{let o=0,s=0,l=!1;e.forEach(h=>{++o,h.next(()=>{++s,l&&s===o&&t()},m=>r(m))}),l=!0,s===o&&t()})}static or(e){let t=ze.resolve(!1);for(const r of e)t=t.next(o=>o?ze.resolve(o):r());return t}static forEach(e,t){const r=[];return e.forEach((o,s)=>{r.push(t.call(this,o,s))}),this.waitFor(r)}}function Nd(n){return"IndexedDbTransactionError"===n.name}class CN{constructor(e,t,r,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const s=this.mutations[o];s.key.isEqual(e.key)&&OW(s,e,r[o])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&gN(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&gN(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const r=e.get(t.key),o=r;this.applyToLocalView(o),r.isValidDocument()||o.convertToNoDocument(_n.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),or())}isEqual(e){return this.batchId===e.batchId&&op(this.mutations,e.mutations,(t,r)=>x6(t,r))&&op(this.baseMutations,e.baseMutations,(t,r)=>x6(t,r))}}class wN{constructor(e,t,r,o){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=o}static from(e,t,r){wn(e.mutations.length===r.length);let o=kW;const s=e.mutations;for(let l=0;l<s.length;l++)o=o.insert(s[l].key,r[l].version);return new wN(e,t,r,o)}}class TN{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Lu{constructor(e,t,r,o,s=_n.min(),l=_n.min(),h=bi.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=h}withSequenceNumber(e){return new Lu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Lu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class o4{constructor(e){this.Jt=e}}function xN(n){const e=Z6({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?function m6(n,e,t){return new Oc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}(e,e.limit,"L"):e}class vp{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Gr(e.integerValue));else if("doubleValue"in e){const r=Gr(e.doubleValue);isNaN(r)?this.ne(t,13):(this.ne(t,15),uy(r)?t.se(0):t.se(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie(`${r.seconds||""}`),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ae(Sd(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ue(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ne(t,45),t.se(r.latitude||0),t.se(r.longitude||0)}else"mapValue"in e?a6(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):nn()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const r=e.fields||{};this.ne(t,55);for(const o of Object.keys(r))this.re(o,t),this.te(r[o],t)}he(e,t){const r=e.values||[];this.ne(t,50);for(const o of r)this.te(o,t)}ue(e,t){this.ne(t,37),Lt.fromName(e).path.forEach(r=>{this.ne(t,60),this.le(r,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}vp.fe=new vp;class Cz{constructor(){this.Ue=new ON}addToCollectionParentIndex(e,t){return this.Ue.add(t),ze.resolve()}getCollectionParents(e,t){return ze.resolve(this.Ue.getEntries(t))}addFieldIndex(e,t){return ze.resolve()}deleteFieldIndex(e,t){return ze.resolve()}getDocumentsMatchingTarget(e,t){return ze.resolve(null)}getFieldIndex(e,t){return ze.resolve(null)}getFieldIndexes(e,t){return ze.resolve([])}getNextCollectionGroupToUpdate(e){return ze.resolve(null)}updateCollectionGroup(e,t,r){return ze.resolve()}updateIndexEntries(e,t){return ze.resolve()}}class ON{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t]||new Ar(nr.comparator),s=!o.has(r);return this.index[t]=o.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),o=this.index[t];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Ar(nr.comparator)).toArray()}}new Uint8Array(0);class qo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new qo(e,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}qo.DEFAULT_COLLECTION_PERCENTILE=10,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qo.DEFAULT=new qo(41943040,qo.DEFAULT_COLLECTION_PERCENTILE,qo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qo.DISABLED=new qo(-1,0,0);class Bd{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new Bd(0)}static gn(){return new Bd(-1)}}function Ud(n){return MN.apply(this,arguments)}function MN(){return MN=Ie(function*(n){if(n.code!==Ge.FAILED_PRECONDITION||n.message!==n4)throw n;ft("LocalStore","Unexpectedly lost primary lease")}),MN.apply(this,arguments)}class Rz{constructor(e,t,r){this.ls=e,this.Fs=t,this.indexManager=r}Bs(e,t){return this.Fs.getAllMutationBatchesAffectingDocumentKey(e,t).next(r=>this.Ls(e,t,r))}Ls(e,t,r){return this.ls.getEntry(e,t).next(o=>{for(const s of r)s.applyToLocalView(o);return o})}qs(e,t){e.forEach((r,o)=>{for(const s of t)s.applyToLocalView(o)})}Us(e,t){return this.ls.getEntries(e,t).next(r=>this.Ks(e,r).next(()=>r))}Ks(e,t){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(e,t).next(r=>this.qs(t,r))}Gs(e,t,r){return Lt.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.Qs(e,t.path):function hN(n){return null!==n.collectionGroup}(t)?this.js(e,t,r):this.Ws(e,t,r);var o}Qs(e,t){return this.Bs(e,new Lt(t)).next(r=>{let o=_N();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}js(e,t,r){const o=t.collectionGroup;let s=_N();return this.indexManager.getCollectionParents(e,o).next(l=>ze.forEach(l,h=>{const m=(y=t,D=h.child(o),new Oc(D,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt));var y,D;return this.Ws(e,m,r).next(y=>{y.forEach((D,P)=>{s=s.insert(D,P)})})}).next(()=>s))}Ws(e,t,r){let o;return this.ls.getAll(e,t.path,r).next(s=>(o=s,this.Fs.getAllMutationBatchesAffectingQuery(e,t))).next(s=>{for(const l of s)for(const h of l.mutations){const m=h.key;let y=o.get(m);null==y&&(y=Br.newInvalidDocument(m),o=o.insert(m,y)),gN(h,y,l.localWriteTime),y.isFoundDocument()||(o=o.remove(m))}}).next(()=>(o.forEach((s,l)=>{pN(t,l)||(o=o.remove(s))}),o))}}class LN{constructor(e,t,r,o){this.targetId=e,this.fromCache=t,this.zs=r,this.Hs=o}static Js(e,t){let r=or(),o=or();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:o=o.add(s.doc.key)}return new LN(e,t.fromCache,r,o)}}class w4{Ys(e){this.Xs=e}Gs(e,t,r,o){return 0===(s=t).filters.length&&null===s.limit&&null==s.startAt&&null==s.endAt&&(0===s.explicitOrderBy.length||1===s.explicitOrderBy.length&&s.explicitOrderBy[0].field.isKeyField())||r.isEqual(_n.min())?this.Zs(e,t):this.Xs.Us(e,o).next(s=>{const l=this.ti(t,s);return(xC(t)||IC(t))&&this.ei(t.limitType,l,o,r)?this.Zs(e,t):(iN()<=Kn.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),fN(t)),this.Xs.Gs(e,t,r).next(h=>(l.forEach(m=>{h=h.insert(m.key,m)}),h)))});var s}ti(e,t){let r=new Ar(y6(e));return t.forEach((o,s)=>{pN(e,s)&&(r=r.add(s))}),r}ei(e,t,r,o){if(r.size!==t.size)return!0;const s="F"===e?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(o)>0)}Zs(e,t){return iN()<=Kn.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",fN(t)),this.Xs.Gs(e,t,_n.min())}}class kz{constructor(e,t,r,o){this.persistence=e,this.ni=t,this.M=o,this.si=new ei(qn),this.ii=new ku(s=>Ad(s),py),this.ri=_n.min(),this.oi=e.getRemoteDocumentCache(),this.hs=e.getTargetCache(),this.fs=e.getBundleCache(),this.ai(r)}ai(e){this.indexManager=this.persistence.getIndexManager(e),this.Fs=this.persistence.getMutationQueue(e,this.indexManager),this.ui=new Rz(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function D4(n,e){return FN.apply(this,arguments)}function FN(){return FN=Ie(function*(n,e){const t=At(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let o;return t.Fs.getAllMutationBatches(r).next(s=>(o=s,t.ai(e),t.Fs.getAllMutationBatches(r))).next(s=>{const l=[],h=[];let m=or();for(const y of o){l.push(y.batchId);for(const D of y.mutations)m=m.add(D.key)}for(const y of s){h.push(y.batchId);for(const D of y.mutations)m=m.add(D.key)}return t.ui.Us(r,m).next(y=>({ci:y,removedBatchIds:l,addedBatchIds:h}))})})}),FN.apply(this,arguments)}function Lz(n,e){const t=At(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),s=t.oi.newChangeBuffer({trackRemovals:!0});return function(l,h,m,y){const D=m.batch,P=D.keys();let V=ze.resolve();return P.forEach(J=>{V=V.next(()=>y.getEntry(h,J)).next(ge=>{const xe=m.docVersions.get(J);wn(null!==xe),ge.version.compareTo(xe)<0&&(D.applyToRemoteDocument(ge,m),ge.isValidDocument()&&(ge.setReadTime(m.commitVersion),y.addEntry(ge)))})}),V.next(()=>l.Fs.removeMutationBatch(h,D))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.Fs.performConsistencyCheck(r)).next(()=>t.ui.Us(r,o))})}function S4(n){const e=At(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.hs.getLastRemoteSnapshotVersion(t))}function Fz(n,e){const t=At(n),r=e.snapshotVersion;let o=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const l=t.oi.newChangeBuffer({trackRemovals:!0});o=t.si;const h=[];e.targetChanges.forEach((y,D)=>{const P=o.get(D);if(!P)return;h.push(t.hs.removeMatchingKeys(s,y.removedDocuments,D).next(()=>t.hs.addMatchingKeys(s,y.addedDocuments,D)));let V=P.withSequenceNumber(s.currentSequenceNumber);var J,ge,xe;e.targetMismatches.has(D)?V=V.withResumeToken(bi.EMPTY_BYTE_STRING,_n.min()).withLastLimboFreeSnapshotVersion(_n.min()):y.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(y.resumeToken,r)),o=o.insert(D,V),ge=V,xe=y,(0===(J=P).resumeToken.approximateByteSize()||ge.snapshotVersion.toMicroseconds()-J.snapshotVersion.toMicroseconds()>=3e8||xe.addedDocuments.size+xe.modifiedDocuments.size+xe.removedDocuments.size>0)&&h.push(t.hs.updateTargetData(s,V))});let m=Vs();if(e.documentUpdates.forEach(y=>{e.resolvedLimboDocuments.has(y)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(s,y))}),h.push(function x4(n,e,t){let r=or();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Vs();return t.forEach((l,h)=>{const m=o.get(l);h.isNoDocument()&&h.version.isEqual(_n.min())?(e.removeEntry(l,h.readTime),s=s.insert(l,h)):!m.isValidDocument()||h.version.compareTo(m.version)>0||0===h.version.compareTo(m.version)&&m.hasPendingWrites?(e.addEntry(h),s=s.insert(l,h)):ft("LocalStore","Ignoring outdated watch update for ",l,". Current version:",m.version," Watch version:",h.version)}),s})}(s,l,e.documentUpdates).next(y=>{m=y})),!r.isEqual(_n.min())){const y=t.hs.getLastRemoteSnapshotVersion(s).next(D=>t.hs.setTargetsMetadata(s,s.currentSequenceNumber,r));h.push(y)}return ze.waitFor(h).next(()=>l.apply(s)).next(()=>t.ui.Ks(s,m)).next(()=>m)}).then(s=>(t.si=o,s))}function Bz(n,e){const t=At(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.Fs.getNextMutationBatchAfterBatchId(r,e)))}function Cp(n,e){const t=At(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return t.hs.getTargetData(r,e).next(s=>s?(o=s,ze.resolve(o)):t.hs.allocateTargetId(r).next(l=>(o=new Lu(e,l,0,r.currentSequenceNumber),t.hs.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=t.si.get(r.targetId);return(null===o||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.si=t.si.insert(r.targetId,r),t.ii.set(e,r.targetId)),r})}function wp(n,e,t){return BN.apply(this,arguments)}function BN(){return BN=Ie(function*(n,e,t){const r=At(n),o=r.si.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,l=>r.persistence.referenceDelegate.removeTarget(l,o)))}catch(l){if(!Nd(l))throw l;ft("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.si=r.si.remove(e),r.ii.delete(o.target)}),BN.apply(this,arguments)}function qC(n,e,t){const r=At(n);let o=_n.min(),s=or();return r.persistence.runTransaction("Execute query","readonly",l=>function(h,m,y){const D=At(h),P=D.ii.get(y);return void 0!==P?ze.resolve(D.si.get(P)):D.hs.getTargetData(m,y)}(r,l,js(e)).next(h=>{if(h)return o=h.lastLimboFreeSnapshotVersion,r.hs.getMatchingKeysForTargetId(l,h.targetId).next(m=>{s=m})}).next(()=>r.ni.Gs(l,e,t?o:_n.min(),t?s:or())).next(h=>({documents:h,hi:s})))}class Hz{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return ze.resolve(this._i.get(t))}saveBundleMetadata(e,t){var r;return this._i.set(t.id,{id:(r=t).id,version:r.version,createTime:Li(r.createTime)}),ze.resolve()}getNamedQuery(e,t){return ze.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(r=t).name,query:xN(r.bundledQuery),readTime:Li(r.readTime)}),ze.resolve();var r}}class Gz{constructor(){this.overlays=new ei(Lt.comparator),this.mi=new Map}getOverlay(e,t){return ze.resolve(this.overlays.get(t))}saveOverlays(e,t,r){return r.forEach((o,s)=>{this.Xt(e,t,s)}),ze.resolve()}removeOverlaysForBatchId(e,t,r){const o=this.mi.get(r);return void 0!==o&&(o.forEach(s=>this.overlays=this.overlays.remove(s)),this.mi.delete(r)),ze.resolve()}getOverlaysForCollection(e,t,r){const o=vy(),s=t.length+1,l=new Lt(t.child("")),h=this.overlays.getIteratorFrom(l);for(;h.hasNext();){const m=h.getNext().value,y=m.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===s&&m.largestBatchId>r&&o.set(m.getKey(),m)}return ze.resolve(o)}getOverlaysForCollectionGroup(e,t,r,o){let s=new ei((y,D)=>y-D);const l=this.overlays.getIterator();for(;l.hasNext();){const y=l.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>r){let D=s.get(y.largestBatchId);null===D&&(D=vy(),s=s.insert(y.largestBatchId,D)),D.set(y.getKey(),y)}}const h=vy(),m=s.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((y,D)=>h.set(y,D)),!(h.size()>=o)););return ze.resolve(h)}Xt(e,t,r){if(null===r)return;const o=this.overlays.get(r.key);if(null!==o){const l=this.mi.get(o.largestBatchId).delete(r.key);this.mi.set(o.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new TN(t,r));let s=this.mi.get(t);void 0===s&&(s=or(),this.mi.set(t,s)),this.mi.set(t,s.add(r.key))}}class HN{constructor(){this.gi=new Ar(Ui.yi),this.pi=new Ar(Ui.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const r=new Ui(e,t);this.gi=this.gi.add(r),this.pi=this.pi.add(r)}Ti(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Ei(new Ui(e,t))}Ai(e,t){e.forEach(r=>this.removeReference(r,t))}Ri(e){const t=new Lt(new nr([])),r=new Ui(t,e),o=new Ui(t,e+1),s=[];return this.pi.forEachInRange([r,o],l=>{this.Ei(l),s.push(l.key)}),s}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new Lt(new nr([])),r=new Ui(t,e),o=new Ui(t,e+1);let s=or();return this.pi.forEachInRange([r,o],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new Ui(e,0),r=this.gi.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ui{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return Lt.comparator(e.key,t.key)||qn(e.Vi,t.Vi)}static Ii(e,t){return qn(e.Vi,t.Vi)||Lt.comparator(e.key,t.key)}}class $z{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.Fs=[],this.vi=1,this.Si=new Ar(Ui.yi)}checkEmpty(e){return ze.resolve(0===this.Fs.length)}addMutationBatch(e,t,r,o){const s=this.vi;this.vi++;const l=new CN(s,t,r,o);this.Fs.push(l);for(const h of o)this.Si=this.Si.add(new Ui(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return ze.resolve(l)}lookupMutationBatch(e,t){return ze.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const o=this.Ci(t+1),s=o<0?0:o;return ze.resolve(this.Fs.length>s?this.Fs[s]:null)}getHighestUnacknowledgedBatchId(){return ze.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(e){return ze.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ui(t,0),o=new Ui(t,Number.POSITIVE_INFINITY),s=[];return this.Si.forEachInRange([r,o],l=>{const h=this.Di(l.Vi);s.push(h)}),ze.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ar(qn);return t.forEach(o=>{const s=new Ui(o,0),l=new Ui(o,Number.POSITIVE_INFINITY);this.Si.forEachInRange([s,l],h=>{r=r.add(h.Vi)})}),ze.resolve(this.xi(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,o=r.length+1;let s=r;Lt.isDocumentKey(s)||(s=s.child(""));const l=new Ui(new Lt(s),0);let h=new Ar(qn);return this.Si.forEachWhile(m=>{const y=m.key.path;return!!r.isPrefixOf(y)&&(y.length===o&&(h=h.add(m.Vi)),!0)},l),ze.resolve(this.xi(h))}xi(e){const t=[];return e.forEach(r=>{const o=this.Di(r);null!==o&&t.push(o)}),t}removeMutationBatch(e,t){wn(0===this.Ni(t.batchId,"removed")),this.Fs.shift();let r=this.Si;return ze.forEach(t.mutations,o=>{const s=new Ui(o.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Si=r})}dn(e){}containsKey(e,t){const r=new Ui(t,0),o=this.Si.firstAfterOrEqual(r);return ze.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return ze.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.Fs.length?0:e-this.Fs[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.Fs.length?null:this.Fs[t]}}class qz{constructor(e){this.ki=e,this.docs=new ei(Lt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,o=this.docs.get(r),s=o?o.size:0,l=this.ki(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ze.resolve(r?r.document.mutableCopy():Br.newInvalidDocument(t))}getEntries(e,t){let r=Vs();return t.forEach(o=>{const s=this.docs.get(o);r=r.insert(o,s?s.document.mutableCopy():Br.newInvalidDocument(o))}),ze.resolve(r)}getAll(e,t,r){let o=Vs();const s=new Lt(t.child("")),l=this.docs.getIteratorFrom(s);for(;l.hasNext();){const{key:h,value:{document:m}}=l.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||m.readTime.compareTo(r)<=0||(o=o.insert(m.key,m.mutableCopy()))}return ze.resolve(o)}Mi(e,t){return ze.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Wz(this)}getSize(e){return ze.resolve(this.size)}}class Wz extends class Az{constructor(){this.changes=new ku(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Br.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ze.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.Un=e}applyChanges(e){const t=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?t.push(this.Un.addEntry(e,o)):this.Un.removeEntry(r)}),ze.waitFor(t)}getFromCache(e,t){return this.Un.getEntry(e,t)}getAllFromCache(e,t){return this.Un.getEntries(e,t)}}class zz{constructor(e){this.persistence=e,this.Oi=new ku(t=>Ad(t),py),this.lastRemoteSnapshotVersion=_n.min(),this.highestTargetId=0,this.$i=0,this.Fi=new HN,this.targetCount=0,this.Bi=Bd.mn()}forEachTarget(e,t){return this.Oi.forEach((r,o)=>t(o)),ze.resolve()}getLastRemoteSnapshotVersion(e){return ze.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ze.resolve(this.$i)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),ze.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.$i&&(this.$i=t),ze.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new Bd(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,ze.resolve()}updateTargetData(e,t){return this.In(t),ze.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.Fi.Ri(t.targetId),this.targetCount-=1,ze.resolve()}removeTargets(e,t,r){let o=0;const s=[];return this.Oi.forEach((l,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Oi.delete(l),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),o++)}),ze.waitFor(s).next(()=>o)}getTargetCount(e){return ze.resolve(this.targetCount)}getTargetData(e,t){const r=this.Oi.get(t)||null;return ze.resolve(r)}addMatchingKeys(e,t,r){return this.Fi.Ti(t,r),ze.resolve()}removeMatchingKeys(e,t,r){this.Fi.Ai(t,r);const o=this.persistence.referenceDelegate,s=[];return o&&t.forEach(l=>{s.push(o.markPotentiallyOrphaned(e,l))}),ze.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Fi.Ri(t),ze.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Fi.Pi(t);return ze.resolve(r)}containsKey(e,t){return ze.resolve(this.Fi.containsKey(t))}}class Zz{constructor(e,t){this.Li={},this.overlays={},this.Zn=new ds(0),this.ts=!1,this.ts=!0,this.referenceDelegate=e(this),this.hs=new zz(this),this.indexManager=new Cz,this.ls=new qz(r=>this.referenceDelegate.qi(r)),this.M=new o4(t),this.fs=new Hz(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gz,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Li[e.toKey()];return r||(r=new $z(t,this.referenceDelegate),this.Li[e.toKey()]=r),r}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(e,t,r){ft("MemoryPersistence","Starting transaction:",e);const o=new Kz(this.Zn.next());return this.referenceDelegate.Ui(),r(o).next(s=>this.referenceDelegate.Ki(o).next(()=>s)).toPromise().then(s=>(o.raiseOnCommittedEvent(),s))}Gi(e,t){return ze.or(Object.values(this.Li).map(r=>()=>r.containsKey(e,t)))}}class Kz extends class fz{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class GN{constructor(e){this.persistence=e,this.Qi=new HN,this.ji=null}static Wi(e){return new GN(e)}get zi(){if(this.ji)return this.ji;throw nn()}addReference(e,t,r){return this.Qi.addReference(r,t),this.zi.delete(r.toString()),ze.resolve()}removeReference(e,t,r){return this.Qi.removeReference(r,t),this.zi.add(r.toString()),ze.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),ze.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(o=>this.zi.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(s=>this.zi.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ui(){this.ji=new Set}Ki(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ze.forEach(this.zi,r=>{const o=Lt.fromPath(r);return this.Hi(e,o).next(s=>{s||t.removeEntry(o,_n.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(r=>{r?this.zi.delete(t.toString()):this.zi.add(t.toString())})}qi(e){return 0}Hi(e,t){return ze.or([()=>ze.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gi(e,t)])}}class WN{constructor(){this.activeTargetIds=NC()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class M4{constructor(){this.Or=new WN,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Or.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,r){this.$r[e]=t}removeLocalQueryTarget(e){this.Or.Zi(e)}isLocalQueryTarget(e){return this.Or.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(e){return this.Or.activeTargetIds.has(e)}start(){return this.Or=new WN,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(){}}class Yz{Fr(e){}shutdown(){}}class N4{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){ft("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Ur(){ft("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Qz{constructor(e){this.Qr=e.Qr,this.jr=e.jr}Wr(e){this.zr=e}Hr(e){this.Jr=e}onMessage(e){this.Yr=e}close(){this.jr()}send(e){this.Qr(e)}Xr(){this.zr()}Zr(e){this.Jr(e)}eo(e){this.Yr(e)}}class Xz extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.no=(e.ssl?"https":"http")+"://"+e.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(e,t,r,o,s){const l=this.ro(e,t);ft("RestConnection","Sending: ",l,r);const h={};return this.oo(h,o,s),this.ao(e,l,h,r).then(m=>(ft("RestConnection","Received: ",m),m),m=>{throw bC("RestConnection",`${e} failed with error: `,m,"url: ",l,"request:",r),m})}uo(e,t,r,o,s){return this.io(e,t,r,o,s)}oo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ip,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,s)=>e[s]=o),r&&r.headers.forEach((o,s)=>e[s]=o)}ro(e,t){return`${this.no}/v1/${t}:${Jz[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,r,o){return new Promise((s,l)=>{const h=new iW;h.listenOnce(tW.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case rN.NO_ERROR:const y=h.getResponseJson();ft("Connection","XHR received:",JSON.stringify(y)),s(y);break;case rN.TIMEOUT:ft("Connection",'RPC "'+e+'" timed out'),l(new st(Ge.DEADLINE_EXCEEDED,"Request time out"));break;case rN.HTTP_ERROR:const D=h.getStatus();if(ft("Connection",'RPC "'+e+'" failed with status:',D,"response text:",h.getResponseText()),D>0){const P=h.getResponseJson().error;if(P&&P.status&&P.message){const V=function(J){const ge=J.toLowerCase().replace(/_/g,"-");return Object.values(Ge).indexOf(ge)>=0?ge:Ge.UNKNOWN}(P.status);l(new st(V,P.message))}else l(new st(Ge.UNKNOWN,"Server responded with status "+h.getStatus()))}else l(new st(Ge.UNAVAILABLE,"Connection failed."));break;default:nn()}}finally{ft("Connection",'RPC "'+e+'" completed.')}});const m=JSON.stringify(o);h.send(t,"POST",m,r,15)})}co(e,t,r){const o=[this.no,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Xq(),l=eW(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new rW({})),this.oo(h.initMessageHeaders,t,r),u_()||zx()||function d_(){return Vo().indexOf("Electron/")>=0}()||function eE(){const n=Vo();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()||function tE(){return Vo().indexOf("MSAppHost/")>=0}()||id()||(h.httpHeadersOverwriteParam="$httpHeaders");const m=o.join("");ft("Connection","Creating WebChannel: "+m,h);const y=s.createWebChannel(m,h);let D=!1,P=!1;const V=new Qz({Qr:ge=>{P?ft("Connection","Not sending because WebChannel is closed:",ge):(D||(ft("Connection","Opening WebChannel transport."),y.open(),D=!0),ft("Connection","WebChannel sending:",ge),y.send(ge))},jr:()=>y.close()}),J=(ge,xe,Ze)=>{ge.listen(xe,pt=>{try{Ze(pt)}catch(Xe){setTimeout(()=>{throw Xe},0)}})};return J(y,vC.EventType.OPEN,()=>{P||ft("Connection","WebChannel transport opened.")}),J(y,vC.EventType.CLOSE,()=>{P||(P=!0,ft("Connection","WebChannel transport closed"),V.Zr())}),J(y,vC.EventType.ERROR,ge=>{P||(P=!0,bC("Connection","WebChannel transport errored:",ge),V.Zr(new st(Ge.UNAVAILABLE,"The operation could not be completed")))}),J(y,vC.EventType.MESSAGE,ge=>{var xe;if(!P){const Ze=ge.data[0];wn(!!Ze);const pt=Ze,Xe=pt.error||(null===(xe=pt[0])||void 0===xe?void 0:xe.error);if(Xe){ft("Connection","WebChannel received error:",Xe);const $t=Xe.status;let Mt=function(Ot){const sn=li[Ot];if(void 0!==sn)return N6(sn)}($t),Qt=Xe.message;void 0===Mt&&(Mt=Ge.INTERNAL,Qt="Unknown error status: "+$t+" with message "+Xe.message),P=!0,V.Zr(new st(Mt,Qt)),y.close()}else ft("Connection","WebChannel received:",Ze),V.eo(Ze)}}),J(l,nW.STAT_EVENT,ge=>{ge.stat===WU.PROXY?ft("Connection","Detected buffering proxy"):ge.stat===WU.NOPROXY&&ft("Connection","Detected no buffering proxy")}),setTimeout(()=>{V.Xr()},0),V}}function ZC(){return"undefined"!=typeof document?document:null}function My(n){return new VW(n,!0)}class ZN{constructor(e,t,r=1e3,o=1.5,s=6e4){this.Hn=e,this.timerId=t,this.ho=r,this.lo=o,this.fo=s,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(e){this.cancel();const t=Math.floor(this._o+this.Io()),r=Math.max(0,Date.now()-this.mo),o=Math.max(0,t-r);o>0&&ft("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this._o} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,o,()=>(this.mo=Date.now(),e())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class k4{constructor(e,t,r,o,s,l,h,m){this.Hn=e,this.Eo=r,this.Ao=o,this.Ro=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new ZN(e,t)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var e=this;return Ie(function*(){e.So()&&(yield e.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(e){this.Oo(),this.stream.send(e)}ko(){var e=this;return Ie(function*(){if(e.Do())return e.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var r=this;return Ie(function*(){r.Oo(),r.$o(),r.vo.cancel(),r.bo++,4!==e?r.vo.reset():t&&t.code===Ge.RESOURCE_EXHAUSTED?(ci(t.toString()),ci("Using maximum backoff delay to prevent overloading the backend."),r.vo.yo()):t&&t.code===Ge.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Fo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Hr(t)})()}Fo(){}auth(){this.state=1;const e=this.Bo(this.bo),t=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.bo===t&&this.Lo(r,o)},r=>{e(()=>{const o=new st(Ge.UNKNOWN,"Fetching auth token failed: "+r.message);return this.qo(o)})})}Lo(e,t){const r=this.Bo(this.bo);this.stream=this.Uo(e,t),this.stream.Wr(()=>{r(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(o=>{r(()=>this.qo(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Co(){var e=this;this.state=5,this.vo.po(Ie(function*(){e.state=0,e.start()}))}qo(e){return ft("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Bo(e){return t=>{this.Hn.enqueueAndForget(()=>this.bo===e?t():(ft("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class e9 extends k4{constructor(e,t,r,o,s,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,o,l),this.M=s}Uo(e,t){return this.Ro.co("Listen",e,t)}onMessage(e){this.vo.reset();const t=function $W(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(m=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===m?1:"REMOVE"===m?2:"CURRENT"===m?3:"RESET"===m?4:nn(),o=e.targetChange.targetIds||[],s=function(m,y){return m.N?(wn(void 0===y||"string"==typeof y),bi.fromBase64String(y||"")):(wn(void 0===y||y instanceof Uint8Array),bi.fromUint8Array(y||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,h=l&&function(m){const y=void 0===m.code?Ge.UNKNOWN:N6(m.code);return new st(y,m.message||"")}(l);t=new L6(r,o,s,h||null)}else if("documentChange"in e){const r=e.documentChange,o=$a(n,r.document.name),s=Li(r.document.updateTime),l=new go({mapValue:{fields:r.document.fields}}),h=Br.newFoundDocument(o,s,l);t=new RC(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,o=$a(n,r.document),s=r.readTime?Li(r.readTime):_n.min(),l=Br.newNoDocument(o,s);t=new RC([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,o=$a(n,r.document);t=new RC([],r.removedTargetIds||[],o,null)}else{if(!("filter"in e))return nn();{const r=e.filter,s=new MW(r.count||0);t=new k6(r.targetId,s)}}var m;return t}(this.M,e),r=function(o){if(!("targetChange"in o))return _n.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_n.min():s.readTime?Li(s.readTime):_n.min()}(e);return this.listener.Ko(t,r)}Go(e){const t={};t.database=Ty(this.M),t.addTarget=function(o,s){let l;const h=s.target;return l=DC(h)?{documents:W6(o,h)}:{query:z6(o,h)},l.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?l.resumeToken=j6(o,s.resumeToken):s.snapshotVersion.compareTo(_n.min())>0&&(l.readTime=Cy(o,s.snapshotVersion.toTimestamp())),l}(this.M,e);const r=function WW(n,e){const t=function(r,o){switch(o){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Mo(t)}Qo(e){const t={};t.database=Ty(this.M),t.removeTarget=e,this.Mo(t)}}class t9 extends k4{constructor(e,t,r,o,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,o,l),this.M=s,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(e,t){return this.Ro.co("Write",e,t)}onMessage(e){if(wn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.jo){this.vo.reset();const t=function qW(n,e){return n&&n.length>0?(wn(void 0!==e),n.map(t=>function(r,o){let s=Li(r.updateTime?r.updateTime:o);return s.isEqual(_n.min())&&(s=Li(o)),new AW(s,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Li(e.commitTime);return this.listener.Ho(r,t)}return wn(!e.writeResults||0===e.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const e={};e.database=Ty(this.M),this.Mo(e)}zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function Dy(n,e){let t;if(e instanceof _y)t={update:$6(n,e.key,e.value)};else if(e instanceof yy)t={delete:wy(n,e.key)};else if(e instanceof Md)t={update:$6(n,e.key,e.data),updateMask:JW(e.fieldMask)};else{if(!(e instanceof mN))return nn();t={verify:wy(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const l=s.transform;if(l instanceof fp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof Od)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof Pd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof pp)return{fieldPath:s.field.canonicalString(),increment:l.k};throw nn()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(o=e.precondition).updateTime?{updateTime:HW(n,o.updateTime)}:void 0!==o.exists?{exists:o.exists}:nn()),t;var o}(this.M,r))};this.Mo(t)}}class n9 extends class{}{constructor(e,t,r,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.Ro=r,this.M=o,this.Xo=!1}Zo(){if(this.Xo)throw new st(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}io(e,t,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.Ro.io(e,t,r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ge.UNKNOWN,o.toString())})}uo(e,t,r){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.Ro.uo(e,t,r,o,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Ge.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new st(Ge.UNKNOWN,o.toString())})}terminate(){this.Xo=!0}}class r9{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(e){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ia("Offline")))}set(e){this.aa(),this.ta=0,"Online"===e&&(this.na=!1),this.ia(e)}ia(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(ci(t),this.na=!1):ft("OnlineStateTracker",t)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class i9{constructor(e,t,r,o,s){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=s,this.fa.Fr(h=>{r.enqueueAndForget(Ie(function*(){var m;Vu(l)&&(ft("RemoteStore","Restarting streams for network reachability change."),yield(m=Ie(function*(y){const D=At(y);D.ha.add(4),yield Tp(D),D.da.set("Unknown"),D.ha.delete(4),yield Ny(D)}),function(y){return m.apply(this,arguments)})(l))}))}),this.da=new r9(r,o)}}function Ny(n){return KN.apply(this,arguments)}function KN(){return KN=Ie(function*(n){if(Vu(n))for(const e of n.la)yield e(!0)}),KN.apply(this,arguments)}function Tp(n){return YN.apply(this,arguments)}function YN(){return YN=Ie(function*(n){for(const e of n.la)yield e(!1)}),YN.apply(this,arguments)}function KC(n,e){const t=At(n);t.ca.has(e.targetId)||(t.ca.set(e.targetId,e),XN(t)?QN(t):Sp(t).Do()&&JN(t,e))}function Ry(n,e){const t=At(n),r=Sp(t);t.ca.delete(e),r.Do()&&L4(t,e),0===t.ca.size&&(r.Do()?r.No():Vu(t)&&t.da.set("Unknown"))}function JN(n,e){n._a.Z(e.targetId),Sp(n).Go(e)}function L4(n,e){n._a.Z(e),Sp(n).Qo(e)}function QN(n){n._a=new BW({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.ca.get(e)||null}),Sp(n).start(),n.da.sa()}function XN(n){return Vu(n)&&!Sp(n).So()&&n.ca.size>0}function Vu(n){return 0===At(n).ha.size}function F4(n){n._a=void 0}function o9(n){return eR.apply(this,arguments)}function eR(){return eR=Ie(function*(n){n.ca.forEach((e,t)=>{JN(n,e)})}),eR.apply(this,arguments)}function s9(n,e){return tR.apply(this,arguments)}function tR(){return tR=Ie(function*(n,e){F4(n),XN(n)?(n.da.oa(e),QN(n)):n.da.set("Unknown")}),tR.apply(this,arguments)}function a9(n,e,t){return nR.apply(this,arguments)}function nR(){return nR=Ie(function*(n,e,t){if(n.da.set("Online"),e instanceof L6&&2===e.state&&e.cause)try{yield(r=Ie(function*(o,s){const l=s.cause;for(const h of s.targetIds)o.ca.has(h)&&(yield o.remoteSyncer.rejectListen(h,l),o.ca.delete(h),o._a.removeTarget(h))}),function(o,s){return r.apply(this,arguments)})(n,e)}catch(r){ft("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YC(n,r)}else if(e instanceof RC?n._a.at(e):e instanceof k6?n._a._t(e):n._a.ht(e),!t.isEqual(_n.min()))try{const r=yield S4(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){const l=o._a.yt(s);return l.targetChanges.forEach((h,m)=>{if(h.resumeToken.approximateByteSize()>0){const y=o.ca.get(m);y&&o.ca.set(m,y.withResumeToken(h.resumeToken,s))}}),l.targetMismatches.forEach(h=>{const m=o.ca.get(h);if(!m)return;o.ca.set(h,m.withResumeToken(bi.EMPTY_BYTE_STRING,m.snapshotVersion)),L4(o,h);const y=new Lu(m.target,h,1,m.sequenceNumber);JN(o,y)}),o.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){ft("RemoteStore","Failed to raise snapshot:",r),yield YC(n,r)}var r}),nR.apply(this,arguments)}function YC(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=Ie(function*(n,e,t){if(!Nd(e))throw e;n.ha.add(1),yield Tp(n),n.da.set("Offline"),t||(t=()=>S4(n.localStore)),n.asyncQueue.enqueueRetryable(Ie(function*(){ft("RemoteStore","Retrying IndexedDB access"),yield t(),n.ha.delete(1),yield Ny(n)}))}),rR.apply(this,arguments)}function B4(n,e){return e().catch(t=>YC(n,t,e))}function Dp(n){return iR.apply(this,arguments)}function iR(){return iR=Ie(function*(n){const e=At(n),t=Hu(e);let r=e.ua.length>0?e.ua[e.ua.length-1].batchId:-1;for(;c9(e);)try{const o=yield Bz(e.localStore,r);if(null===o){0===e.ua.length&&t.No();break}r=o.batchId,u9(e,o)}catch(o){yield YC(e,o)}U4(e)&&j4(e)}),iR.apply(this,arguments)}function c9(n){return Vu(n)&&n.ua.length<10}function u9(n,e){n.ua.push(e);const t=Hu(n);t.Do()&&t.Wo&&t.zo(e.mutations)}function U4(n){return Vu(n)&&!Hu(n).So()&&n.ua.length>0}function j4(n){Hu(n).start()}function l9(n){return oR.apply(this,arguments)}function oR(){return oR=Ie(function*(n){Hu(n).Yo()}),oR.apply(this,arguments)}function d9(n){return sR.apply(this,arguments)}function sR(){return sR=Ie(function*(n){const e=Hu(n);for(const t of n.ua)e.zo(t.mutations)}),sR.apply(this,arguments)}function h9(n,e,t){return aR.apply(this,arguments)}function aR(){return aR=Ie(function*(n,e,t){const r=n.ua.shift(),o=wN.from(r,e,t);yield B4(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),yield Dp(n)}),aR.apply(this,arguments)}function f9(n,e){return cR.apply(this,arguments)}function cR(){return cR=Ie(function*(n,e){var t;e&&Hu(n).Wo&&(yield(t=Ie(function*(r,o){if(M6(s=o.code)&&s!==Ge.ABORTED){const l=r.ua.shift();Hu(r).xo(),yield B4(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,o)),yield Dp(r)}var s}),function(r,o){return t.apply(this,arguments)})(n,e)),U4(n)&&j4(n)}),cR.apply(this,arguments)}function V4(n,e){return uR.apply(this,arguments)}function uR(){return uR=Ie(function*(n,e){const t=At(n);t.asyncQueue.verifyOperationInProgress(),ft("RemoteStore","RemoteStore received new credentials");const r=Vu(t);t.ha.add(3),yield Tp(t),r&&t.da.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.ha.delete(3),yield Ny(t)}),uR.apply(this,arguments)}function dR(){return dR=Ie(function*(n,e){const t=At(n);e?(t.ha.delete(2),yield Ny(t)):e||(t.ha.add(2),yield Tp(t),t.da.set("Unknown"))}),dR.apply(this,arguments)}function Sp(n){return n.wa||(n.wa=function(e,t,r){const o=At(e);return o.Zo(),new e9(t,o.Ro,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Wr:o9.bind(null,n),Hr:s9.bind(null,n),Ko:a9.bind(null,n)}),n.la.push(function(){var e=Ie(function*(t){t?(n.wa.xo(),XN(n)?QN(n):n.da.set("Unknown")):(yield n.wa.stop(),F4(n))});return function(t){return e.apply(this,arguments)}}())),n.wa}function Hu(n){return n.ma||(n.ma=function(e,t,r){const o=At(e);return o.Zo(),new t9(t,o.Ro,o.authCredentials,o.appCheckCredentials,o.M,r)}(n.datastore,n.asyncQueue,{Wr:l9.bind(null,n),Hr:f9.bind(null,n),Jo:d9.bind(null,n),Ho:h9.bind(null,n)}),n.la.push(function(){var e=Ie(function*(t){t?(n.ma.xo(),yield Dp(n)):(yield n.ma.stop(),n.ua.length>0&&(ft("RemoteStore",`Stopping write stream with ${n.ua.length} pending writes`),n.ua=[]))});return function(t){return e.apply(this,arguments)}}())),n.ma}class hR{constructor(e,t,r,o,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=o,this.removalCallback=s,this.deferred=new ki,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,o,s){const l=Date.now()+r,h=new hR(e,t,l,o,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new st(Ge.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xp(n,e){if(ci("AsyncQueue",`${e}: ${n}`),Nd(n))return new st(Ge.UNAVAILABLE,`${e}: ${n}`);throw n}class Ip{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Lt.comparator(t.key,r.key):(t,r)=>Lt.comparator(t.key,r.key),this.keyedMap=_N(),this.sortedSet=new ei(this.comparator)}static emptySet(e){return new Ip(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ip)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,s=r.getNext().key;if(!o.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Ip;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class H4{constructor(){this.ga=new ei(Lt.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?0!==e.type&&3===r.type?this.ga=this.ga.insert(t,e):3===e.type&&1!==r.type?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.ga=this.ga.remove(t):1===e.type&&2===r.type?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):nn():this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal((t,r)=>{e.push(r)}),e}}class Ap{constructor(e,t,r,o,s,l,h,m){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=s,this.fromCache=l,this.syncStateChanged=h,this.excludesMetadataChanges=m}static fromInitialDocuments(e,t,r,o){const s=[];return t.forEach(l=>{s.push({type:0,doc:l})}),new Ap(e,t,Ip.emptySet(t),s,r,o,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gy(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==r[o].type||!t[o].doc.isEqual(r[o].doc))return!1;return!0}}class p9{constructor(){this.pa=void 0,this.listeners=[]}}class g9{constructor(){this.queries=new ku(e=>_6(e),gy),this.onlineState="Unknown",this.Ia=new Set}}function pR(){return pR=Ie(function*(n,e){const t=At(n),r=e.query;let o=!1,s=t.queries.get(r);if(s||(o=!0,s=new p9),o)try{s.pa=yield t.onListen(r)}catch(l){const h=xp(l,`Initialization of query '${fN(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,s),s.listeners.push(e),e.Ta(t.onlineState),s.pa&&e.Ea(s.pa)&&_R(t)}),pR.apply(this,arguments)}function mR(){return mR=Ie(function*(n,e){const t=At(n),r=e.query;let o=!1;const s=t.queries.get(r);if(s){const l=s.listeners.indexOf(e);l>=0&&(s.listeners.splice(l,1),o=0===s.listeners.length)}if(o)return t.queries.delete(r),t.onUnlisten(r)}),mR.apply(this,arguments)}function m9(n,e){const t=At(n);let r=!1;for(const o of e){const l=t.queries.get(o.query);if(l){for(const h of l.listeners)h.Ea(o)&&(r=!0);l.pa=o}}r&&_R(t)}function _9(n,e,t){const r=At(n),o=r.queries.get(e);if(o)for(const s of o.listeners)s.onError(t);r.queries.delete(e)}function _R(n){n.Ia.forEach(e=>{e.next()})}class yR{constructor(e,t,r){this.query=e,this.Aa=t,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=r||{}}Ea(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)3!==o.type&&r.push(o);e=new Ap(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.Ra?this.Pa(e)&&(this.Aa.next(e),t=!0):this.Va(e,this.onlineState)&&(this.va(e),t=!0),this.ba=e,t}onError(e){this.Aa.error(e)}Ta(e){this.onlineState=e;let t=!1;return this.ba&&!this.Ra&&this.Va(this.ba,e)&&(this.va(this.ba),t=!0),t}Va(e,t){return!e.fromCache||!(this.options.Sa&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Pa(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(e){e=Ap.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Ra=!0,this.Aa.next(e)}}class q4{constructor(e){this.key=e}}class W4{constructor(e){this.key=e}}class z4{constructor(e,t){this.query=e,this.ka=t,this.Ma=null,this.current=!1,this.Oa=or(),this.mutatedKeys=or(),this.$a=y6(e),this.Fa=new Ip(this.$a)}get Ba(){return this.ka}La(e,t){const r=t?t.qa:new H4,o=t?t.Fa:this.Fa;let s=t?t.mutatedKeys:this.mutatedKeys,l=o,h=!1;const m=xC(this.query)&&o.size===this.query.limit?o.last():null,y=IC(this.query)&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((D,P)=>{const V=o.get(D),J=pN(this.query,P)?P:null,ge=!!V&&this.mutatedKeys.has(V.key),xe=!!J&&(J.hasLocalMutations||this.mutatedKeys.has(J.key)&&J.hasCommittedMutations);let Ze=!1;V&&J?V.data.isEqual(J.data)?ge!==xe&&(r.track({type:3,doc:J}),Ze=!0):this.Ua(V,J)||(r.track({type:2,doc:J}),Ze=!0,(m&&this.$a(J,m)>0||y&&this.$a(J,y)<0)&&(h=!0)):!V&&J?(r.track({type:0,doc:J}),Ze=!0):V&&!J&&(r.track({type:1,doc:V}),Ze=!0,(m||y)&&(h=!0)),Ze&&(J?(l=l.add(J),s=xe?s.add(D):s.delete(D)):(l=l.delete(D),s=s.delete(D)))}),xC(this.query)||IC(this.query))for(;l.size>this.query.limit;){const D=xC(this.query)?l.last():l.first();l=l.delete(D.key),s=s.delete(D.key),r.track({type:1,doc:D})}return{Fa:l,qa:r,ei:h,mutatedKeys:s}}Ua(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const o=this.Fa;this.Fa=e.Fa,this.mutatedKeys=e.mutatedKeys;const s=e.qa.ya();s.sort((y,D)=>function(P,V){const J=ge=>{switch(ge){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nn()}};return J(P)-J(V)}(y.type,D.type)||this.$a(y.doc,D.doc)),this.Ka(r);const l=t?this.Ga():[],h=0===this.Oa.size&&this.current?1:0,m=h!==this.Ma;return this.Ma=h,0!==s.length||m?{snapshot:new Ap(this.query,e.Fa,o,s,e.mutatedKeys,0===h,m,!1),Qa:l}:{Qa:l}}Ta(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new H4,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(e){return!this.ka.has(e)&&!!this.Fa.has(e)&&!this.Fa.get(e).hasLocalMutations}Ka(e){e&&(e.addedDocuments.forEach(t=>this.ka=this.ka.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.ka=this.ka.delete(t)),this.current=e.current)}Ga(){if(!this.current)return[];const e=this.Oa;this.Oa=or(),this.Fa.forEach(r=>{this.ja(r.key)&&(this.Oa=this.Oa.add(r.key))});const t=[];return e.forEach(r=>{this.Oa.has(r)||t.push(new W4(r))}),this.Oa.forEach(r=>{e.has(r)||t.push(new q4(r))}),t}Wa(e){this.ka=e.hi,this.Oa=or();const t=this.La(e.documents);return this.applyChanges(t,!0)}za(){return Ap.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class b9{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E9{constructor(e){this.key=e,this.Ha=!1}}class C9{constructor(e,t,r,o,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=o,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ja={},this.Ya=new ku(h=>_6(h),gy),this.Xa=new Map,this.Za=new Set,this.tu=new ei(Lt.comparator),this.eu=new Map,this.nu=new HN,this.su={},this.iu=new Map,this.ru=Bd.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function w9(n,e){return vR.apply(this,arguments)}function vR(){return vR=Ie(function*(n,e){const t=HR(n);let r,o;const s=t.Ya.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),o=s.view.za();else{const l=yield Cp(t.localStore,js(e));t.isPrimaryClient&&KC(t.remoteStore,l);const h=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,o=yield bR(t,e,r,"current"===h)}return o}),vR.apply(this,arguments)}function bR(n,e,t,r){return ER.apply(this,arguments)}function ER(){return ER=Ie(function*(n,e,t,r){n.au=(D,P,V)=>{return(J=Ie(function*(ge,xe,Ze,pt){let Xe=xe.view.La(Ze);Xe.ei&&(Xe=yield qC(ge.localStore,xe.query,!1).then(({documents:Qt})=>xe.view.La(Qt,Xe)));const $t=pt&&pt.targetChanges.get(xe.targetId),Mt=xe.view.applyChanges(Xe,ge.isPrimaryClient,$t);return PR(ge,xe.targetId,Mt.Qa),Mt.snapshot}),function(ge,xe,Ze,pt){return J.apply(this,arguments)})(n,D,P,V);var J};const o=yield qC(n.localStore,e,!0),s=new z4(e,o.hi),l=s.La(o.documents),h=Ey.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState),m=s.applyChanges(l,n.isPrimaryClient,h);PR(n,t,m.Qa);const y=new b9(e,t,s);return n.Ya.set(e,y),n.Xa.has(t)?n.Xa.get(t).push(e):n.Xa.set(t,[e]),m.snapshot}),ER.apply(this,arguments)}function T9(n,e){return CR.apply(this,arguments)}function CR(){return CR=Ie(function*(n,e){const t=At(n),r=t.Ya.get(e),o=t.Xa.get(r.targetId);if(o.length>1)return t.Xa.set(r.targetId,o.filter(s=>!gy(s,e))),void t.Ya.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Ry(t.remoteStore,r.targetId),Op(t,r.targetId)}).catch(Ud))):(Op(t,r.targetId),yield wp(t.localStore,r.targetId,!0))}),CR.apply(this,arguments)}function wR(){return wR=Ie(function*(n,e,t){const r=GR(n);try{const o=yield function(s,l){const h=At(s),m=Qi.now(),y=l.reduce((P,V)=>P.add(V.key),or());let D;return h.persistence.runTransaction("Locally write mutations","readwrite",P=>h.ui.Us(P,y).next(V=>{D=V;const J=[];for(const ge of l){const xe=PW(ge,D.get(ge.key));null!=xe&&J.push(new Md(ge.key,xe,l6(xe.value.mapValue),ui.exists(!0)))}return h.Fs.addMutationBatch(P,m,J,l)})).then(P=>(P.applyToLocalDocumentSet(D),{batchId:P.batchId,changes:D}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,l,h){let m=s.su[s.currentUser.toKey()];m||(m=new ei(qn)),m=m.insert(l,h),s.su[s.currentUser.toKey()]=m}(r,o.batchId,t),yield Pc(r,o.changes),yield Dp(r.remoteStore)}catch(o){const s=xp(o,"Failed to persist write");t.reject(s)}}),wR.apply(this,arguments)}function Z4(n,e){return TR.apply(this,arguments)}function TR(){return TR=Ie(function*(n,e){const t=At(n);try{const r=yield Fz(t.localStore,e);e.targetChanges.forEach((o,s)=>{const l=t.eu.get(s);l&&(wn(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?l.Ha=!0:o.modifiedDocuments.size>0?wn(l.Ha):o.removedDocuments.size>0&&(wn(l.Ha),l.Ha=!1))}),yield Pc(t,r,e)}catch(r){yield Ud(r)}}),TR.apply(this,arguments)}function K4(n,e,t){const r=At(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const o=[];r.Ya.forEach((s,l)=>{const h=l.view.Ta(e);h.snapshot&&o.push(h.snapshot)}),function(s,l){const h=At(s);h.onlineState=l;let m=!1;h.queries.forEach((y,D)=>{for(const P of D.listeners)P.Ta(l)&&(m=!0)}),m&&_R(h)}(r.eventManager,e),o.length&&r.Ja.Ko(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function S9(n,e,t){return DR.apply(this,arguments)}function DR(){return DR=Ie(function*(n,e,t){const r=At(n);r.sharedClientState.updateQueryState(e,"rejected",t);const o=r.eu.get(e),s=o&&o.key;if(s){let l=new ei(Lt.comparator);l=l.insert(s,Br.newNoDocument(s,_n.min()));const h=or().add(s),m=new by(_n.min(),new Map,new Ar(qn),l,h);yield Z4(r,m),r.tu=r.tu.remove(s),r.eu.delete(e),MR(r)}else yield wp(r.localStore,e,!1).then(()=>Op(r,e,t)).catch(Ud)}),DR.apply(this,arguments)}function x9(n,e){return SR.apply(this,arguments)}function SR(){return SR=Ie(function*(n,e){const t=At(n),r=e.batch.batchId;try{const o=yield Lz(t.localStore,e);OR(t,r,null),AR(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pc(t,o)}catch(o){yield Ud(o)}}),SR.apply(this,arguments)}function I9(n,e,t){return xR.apply(this,arguments)}function xR(){return xR=Ie(function*(n,e,t){const r=At(n);try{const o=yield function(s,l){const h=At(s);return h.persistence.runTransaction("Reject batch","readwrite-primary",m=>{let y;return h.Fs.lookupMutationBatch(m,l).next(D=>(wn(null!==D),y=D.keys(),h.Fs.removeMutationBatch(m,D))).next(()=>h.Fs.performConsistencyCheck(m)).next(()=>h.ui.Us(m,y))})}(r.localStore,e);OR(r,e,t),AR(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pc(r,o)}catch(o){yield Ud(o)}}),xR.apply(this,arguments)}function AR(n,e){(n.iu.get(e)||[]).forEach(t=>{t.resolve()}),n.iu.delete(e)}function OR(n,e,t){const r=At(n);let o=r.su[r.currentUser.toKey()];if(o){const s=o.get(e);s&&(t?s.reject(t):s.resolve(),o=o.remove(e)),r.su[r.currentUser.toKey()]=o}}function Op(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Xa.get(e))n.Ya.delete(r),t&&n.Ja.uu(r,t);n.Xa.delete(e),n.isPrimaryClient&&n.nu.Ri(e).forEach(r=>{n.nu.containsKey(r)||Y4(n,r)})}function Y4(n,e){n.Za.delete(e.path.canonicalString());const t=n.tu.get(e);null!==t&&(Ry(n.remoteStore,t),n.tu=n.tu.remove(e),n.eu.delete(t),MR(n))}function PR(n,e,t){for(const r of t)r instanceof q4?(n.nu.addReference(r.key,e),O9(n,r)):r instanceof W4?(ft("SyncEngine","Document no longer in limbo: "+r.key),n.nu.removeReference(r.key,e),n.nu.containsKey(r.key)||Y4(n,r.key)):nn()}function O9(n,e){const t=e.key,r=t.path.canonicalString();n.tu.get(t)||n.Za.has(r)||(ft("SyncEngine","New document in limbo: "+t),n.Za.add(r),MR(n))}function MR(n){for(;n.Za.size>0&&n.tu.size<n.maxConcurrentLimboResolutions;){const e=n.Za.values().next().value;n.Za.delete(e);const t=new Lt(nr.fromString(e)),r=n.ru.next();n.eu.set(r,new E9(t)),n.tu=n.tu.insert(t,r),KC(n.remoteStore,new Lu(js(dp(t.path)),r,2,ds.A))}}function Pc(n,e,t){return NR.apply(this,arguments)}function NR(){return NR=Ie(function*(n,e,t){const r=At(n),o=[],s=[],l=[];var h;r.Ya.isEmpty()||(r.Ya.forEach((h,m)=>{l.push(r.au(m,e,t).then(y=>{if(y){r.isPrimaryClient&&r.sharedClientState.updateQueryState(m.targetId,y.fromCache?"not-current":"current"),o.push(y);const D=LN.Js(m.targetId,y);s.push(D)}}))}),yield Promise.all(l),r.Ja.Ko(o),yield(h=Ie(function*(m,y){const D=At(m);try{yield D.persistence.runTransaction("notifyLocalViewChanges","readwrite",P=>ze.forEach(y,V=>ze.forEach(V.zs,J=>D.persistence.referenceDelegate.addReference(P,V.targetId,J)).next(()=>ze.forEach(V.Hs,J=>D.persistence.referenceDelegate.removeReference(P,V.targetId,J)))))}catch(P){if(!Nd(P))throw P;ft("LocalStore","Failed to update sequence numbers: "+P)}for(const P of y){const V=P.targetId;if(!P.fromCache){const J=D.si.get(V),xe=J.withLastLimboFreeSnapshotVersion(J.snapshotVersion);D.si=D.si.insert(V,xe)}}}),function(m,y){return h.apply(this,arguments)})(r.localStore,s))}),NR.apply(this,arguments)}function P9(n,e){return RR.apply(this,arguments)}function RR(){return RR=Ie(function*(n,e){const t=At(n);if(!t.currentUser.isEqual(e)){ft("SyncEngine","User change. New user:",e.toKey());const r=yield D4(t.localStore,e);t.currentUser=e,(o=t).iu.forEach(l=>{l.forEach(h=>{h.reject(new st(Ge.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),o.iu.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pc(t,r.ci)}var o}),RR.apply(this,arguments)}function M9(n,e){const t=At(n),r=t.eu.get(e);if(r&&r.Ha)return or().add(r.key);{let o=or();const s=t.Xa.get(e);if(!s)return o;for(const l of s){const h=t.Ya.get(l);o=o.unionWith(h.view.Ba)}return o}}function HR(n){const e=At(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Z4.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=M9.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=S9.bind(null,e),e.Ja.Ko=m9.bind(null,e.eventManager),e.Ja.uu=_9.bind(null,e.eventManager),e}function GR(n){const e=At(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=x9.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=I9.bind(null,e),e}class V9{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return Ie(function*(){t.M=My(e.databaseInfo.databaseId),t.sharedClientState=t.hu(e),t.persistence=t.lu(e),yield t.persistence.start(),t.gcScheduler=t.fu(e),t.localStore=t.du(e)})()}fu(e){return null}du(e){return function T4(n,e,t,r){return new kz(n,e,t,r)}(this.persistence,new w4,e.initialUser,this.M)}lu(e){return new Zz(GN.Wi,this.M)}hu(e){return new M4}terminate(){var e=this;return Ie(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class $R{initialize(e,t){var r=this;return Ie(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=o=>K4(r.syncEngine,o,1),r.remoteStore.remoteSyncer.handleCredentialChange=P9.bind(null,r.syncEngine),yield function lR(n,e){return dR.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new g9}createDatastore(e){const t=My(e.databaseInfo.databaseId),r=new Xz(e.databaseInfo);return new n9(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,o=e.asyncQueue,s=h=>K4(this.syncEngine,h,0),l=N4.vt()?new N4:new Yz,new i9(t,r,o,s,l);var t,r,o,s,l}createSyncEngine(e,t){return function(r,o,s,l,h,m,y){const D=new C9(r,o,s,l,h,m);return y&&(D.ou=!0),D}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=Ie(function*(t){const r=At(t);ft("RemoteStore","RemoteStore shutting down."),r.ha.add(5),yield Tp(r),r.fa.shutdown(),r.da.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class JC{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.wu(this.observer.next,e)}error(e){this.observer.error?this.wu(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}mu(){this.muted=!0}wu(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class z9{constructor(e,t,r,o){var s=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=o,this.user=Ji.UNAUTHENTICATED,this.clientId=YU.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=Ie(function*(h){ft("FirestoreClient","Received user=",h.uid),yield s.authCredentialListener(h),s.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(ft("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return Ie(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new st(Ge.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ki;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Ie(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const o=xp(r,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}function ej(n,e){return qR.apply(this,arguments)}function qR(){return qR=Ie(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ft("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var o=Ie(function*(s){r.isEqual(s)||(yield D4(e.localStore,s),r=s)});return function(s){return o.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),qR.apply(this,arguments)}function tj(n,e){return WR.apply(this,arguments)}function WR(){return WR=Ie(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield zR(n);ft("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(o=>V4(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>V4(e.remoteStore,s)),n.onlineComponents=e}),WR.apply(this,arguments)}function zR(n){return ZR.apply(this,arguments)}function ZR(){return ZR=Ie(function*(n){return n.offlineComponents||(ft("FirestoreClient","Using default OfflineComponentProvider"),yield ej(n,new V9)),n.offlineComponents}),ZR.apply(this,arguments)}function QC(n){return KR.apply(this,arguments)}function KR(){return KR=Ie(function*(n){return n.onlineComponents||(ft("FirestoreClient","Using default OnlineComponentProvider"),yield tj(n,new $R)),n.onlineComponents}),KR.apply(this,arguments)}function Pp(n){return QR.apply(this,arguments)}function QR(){return QR=Ie(function*(n){const e=yield QC(n),t=e.eventManager;return t.onListen=w9.bind(null,e.syncEngine),t.onUnlisten=T9.bind(null,e.syncEngine),t}),QR.apply(this,arguments)}const sj=new Map;function XR(n,e,t){if(!t)throw new st(Ge.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function aj(n){if(!Lt.isDocumentKey(n))throw new st(Ge.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function cj(n){if(Lt.isDocumentKey(n))throw new st(Ge.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function XC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nn()}function Jn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new st(Ge.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=XC(n);throw new st(Ge.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class lj{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new st(Ge.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new st(Ge.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function nZ(n,e,t,r){if(!0===e&&!0===r)throw new st(Ge.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ky{constructor(e,t,r){this._authCredentials=t,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lj({}),this._settingsFrozen=!1,e instanceof Mu?this._databaseId=e:(this._app=e,this._databaseId=function(o){if(!Object.prototype.hasOwnProperty.apply(o.options,["projectId"]))throw new st(Ge.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(o.options.projectId)}(e))}get app(){if(!this._app)throw new st(Ge.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new st(Ge.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lj(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oW;switch(t.type){case"gapi":const r=t.client;return wn(!("object"!=typeof r||null===r||!r.auth||!r.auth.getAuthHeaderValueForFirstParty)),new uW(r,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new st(Ge.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=sj.get(e);t&&(ft("ComponentProvider","Removing Datastore"),sj.delete(e),t.terminate())}(this),Promise.resolve()}}class ti{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qa(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ti(this.firestore,e,this._key)}}class mo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new mo(this.firestore,e,this._query)}}class qa extends mo{constructor(e,t,r){super(e,t,dp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ti(this.firestore,null,new Lt(e))}withConverter(e){return new qa(this.firestore,e,this._path)}}function rZ(n,e,...t){if(n=wo(n),XR("collection","path",e),n instanceof ky){const r=nr.fromString(e,...t);return cj(r),new qa(n,null,r)}{if(!(n instanceof ti||n instanceof qa))throw new st(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return cj(r),new qa(n.firestore,null,r)}}class sZ{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new ZN(this,"async_queue_retry"),this.Fu=()=>{const t=ZC();t&&ft("AsyncQueue","Visibility state changed to "+t.visibilityState),this.vo.To()};const e=ZC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Bu(),this.Lu(e)}enterRestrictedMode(e){if(!this.xu){this.xu=!0,this.Ou=e||!1;const t=ZC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Fu)}}enqueue(e){if(this.Bu(),this.xu)return new Promise(()=>{});const t=new ki;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Cu.push(e),this.qu()))}qu(){var e=this;return Ie(function*(){if(0!==e.Cu.length){try{yield e.Cu[0](),e.Cu.shift(),e.vo.reset()}catch(t){if(!Nd(t))throw t;ft("AsyncQueue","Operation failed with retryable error: "+t)}e.Cu.length>0&&e.vo.po(()=>e.qu())}})()}Lu(e){const t=this.Du.then(()=>(this.Mu=!0,e().catch(r=>{throw this.ku=r,this.Mu=!1,ci("INTERNAL UNHANDLED ERROR: ",function(s){let l=s.message||"";return s.stack&&(l=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),l}(r)),r}).then(r=>(this.Mu=!1,r))));return this.Du=t,t}enqueueAfterDelay(e,t,r){this.Bu(),this.$u.indexOf(e)>-1&&(t=0);const o=hR.createAndSchedule(this,e,t,r,s=>this.Uu(s));return this.Nu.push(o),o}Bu(){this.ku&&nn()}verifyOperationInProgress(){}Ku(){var e=this;return Ie(function*(){let t;do{t=e.Du,yield t}while(t!==e.Du)})()}Gu(e){for(const t of this.Nu)if(t.timerId===e)return!0;return!1}Qu(e){return this.Ku().then(()=>{this.Nu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Nu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Ku()})}ju(e){this.$u.push(e)}Uu(e){const t=this.Nu.indexOf(e);this.Nu.splice(t,1)}}function ek(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const o of["next","error","complete"])if(o in r&&"function"==typeof r[o])return!0;return!1}(n)}class Or extends ky{constructor(e,t,r){super(e,t,r),this.type="firestore",this._queue=new sZ,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||dj(this),this._firestoreClient.terminate()}}function cZ(n=d()){return Hf(n,"firestore").getImmediate()}function Ei(n){return n._firestoreClient||dj(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function dj(n){var e;const t=n._freezeSettings(),r=(s=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new pW(n._databaseId,s,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var s,h;n._firestoreClient=new z9(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Mp{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new st(Ge.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jd{constructor(e){this._byteString=e}static fromBase64String(e){try{return new jd(bi.fromBase64String(e))}catch(t){throw new st(Ge.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new jd(bi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class pj{constructor(e){this._methodName=e}}class tk{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new st(Ge.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new st(Ge.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return qn(this._lat,e._lat)||qn(this._long,e._long)}}const uZ=/^__.*__$/;class lZ{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Md(e,this.data,this.fieldMask,t,this.fieldTransforms):new _y(e,this.data,t,this.fieldTransforms)}}function mj(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nn()}}class ew{constructor(e,t,r,o,s,l){this.settings=e,this.databaseId=t,this.M=r,this.ignoreUndefinedProperties=o,void 0===s&&this.Wu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(e){return new ew(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Hu({path:r,Yu:!1});return o.Xu(e),o}Zu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),o=this.Hu({path:r,Yu:!1});return o.Wu(),o}tc(e){return this.Hu({path:void 0,Yu:!0})}ec(e){return nw(e,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Wu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Xu(this.path.get(e))}Xu(e){if(0===e.length)throw this.ec("Document fields must not be empty");if(mj(this.zu)&&uZ.test(e))throw this.ec('Document fields cannot begin and end with "__"')}}class dZ{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=r||My(e)}ic(e,t,r,o=!1){return new ew({zu:e,methodName:t,sc:r,path:Xi.emptyPath(),Yu:!1,nc:o},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Np(n){const e=n._freezeSettings(),t=My(n._databaseId);return new dZ(n._databaseId,!!e.ignoreUndefinedProperties,t)}function nk(n,e,t,r,o,s={}){const l=n.ic(s.merge||s.mergeFields?2:0,e,t,o);ik("Data must be an object, but it was:",l,r);const h=Ej(r,l);let m,y;if(s.merge)m=new sp(l.fieldMask),y=l.fieldTransforms;else if(s.mergeFields){const D=[];for(const P of s.mergeFields){const V=ok(e,P,t);if(!l.contains(V))throw new st(Ge.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);wj(D,V)||D.push(V)}m=new sp(D),y=l.fieldTransforms.filter(P=>m.covers(P.field))}else m=null,y=l.fieldTransforms;return new lZ(new go(h),m,y)}function Vd(n,e){if(Cj(n=wo(n)))return ik("Unsupported field value:",e,n),Ej(n,e);if(n instanceof pj)return function(t,r){if(!mj(r.zu))throw r.ec(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ec(`${t._methodName}() is not currently supported inside arrays`);const o=t._toFieldTransform(r);o&&r.fieldTransforms.push(o)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Yu&&4!==e.zu)throw e.ec("Nested arrays are not supported");return function(t,r){const o=[];let s=0;for(const l of t){let h=Vd(l,r.tc(s));null==h&&(h={nullValue:"NULL_VALUE"}),o.push(h),s++}return{arrayValue:{values:o}}}(n,e)}return function(t,r){if(null===(t=wo(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return E6(r.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const o=Qi.fromDate(t);return{timestampValue:Cy(r.M,o)}}if(t instanceof Qi){const o=new Qi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Cy(r.M,o)}}if(t instanceof tk)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof jd)return{bytesValue:j6(r.M,t._byteString)};if(t instanceof ti){const o=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(o))throw r.ec(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:yN(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ec(`Unsupported field value: ${XC(t)}`)}(n,e)}function Ej(n,e){const t={};return XU(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Dd(n,(r,o)=>{const s=Vd(o,e.Ju(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Cj(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Qi||n instanceof tk||n instanceof jd||n instanceof ti||n instanceof pj)}function ik(n,e,t){if(!Cj(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=XC(t);throw e.ec("an object"===r?n+" a custom object":n+" "+r)}var r}function ok(n,e,t){if((e=wo(e))instanceof Mp)return e._internalPath;if("string"==typeof e)return tw(n,e);throw nw("Field path arguments must be of type string or ",n,!1,void 0,t)}const gZ=new RegExp("[~\\*/\\[\\]]");function tw(n,e,t){if(e.search(gZ)>=0)throw nw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Mp(...e.split("."))._internalPath}catch(r){throw nw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function nw(n,e,t,r,o){const s=r&&!r.isEmpty(),l=void 0!==o;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(s||l)&&(m+=" (found",s&&(m+=` in field ${r}`),l&&(m+=` in document ${o}`),m+=")"),new st(Ge.INVALID_ARGUMENT,h+n+m)}function wj(n,e){return n.some(t=>t.isEqual(e))}class sk{constructor(e,t,r,o,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=o,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ti(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new mZ(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rw("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class mZ extends sk{data(){return super.data()}}function rw(n,e){return"string"==typeof e?tw(n,e):e instanceof Mp?e._internalPath:e._delegate._internalPath}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rp extends sk{constructor(e,t,r,o,s,l){super(e,t,r,o,l),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new iw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(rw("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class iw extends Rp{data(e={}){return super.data(e)}}class kp{constructor(e,t,r,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Hd(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new iw(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new st(Ge.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,o){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new iw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:s++}))}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>o||3!==l.type).map(l=>{const h=new iw(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Hd(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let m=-1,y=-1;return 0!==l.type&&(m=s.indexOf(l.doc.key),s=s.delete(l.doc.key)),1!==l.type&&(s=s.add(l.doc),y=s.indexOf(l.doc.key)),{type:_Z(l.type),doc:h,oldIndex:m,newIndex:y}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function _Z(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nn()}}class Gd extends class bZ{convertValue(e,t="none"){switch(Id(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Gr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Sd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nn()}}convertObject(e,t){const r={};return Dd(e.fields,(o,s)=>{r[o]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new tk(Gr(e.latitude),Gr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=e6(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(cy(e));default:return null}}convertTimestamp(e){const t=Pu(e);return new Qi(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=nr.fromString(e);wn(Y6(r));const o=new Mu(r.get(1),r.get(3)),s=new Lt(r.popFirst(5));return o.isEqual(t)||ci(`Document ${s} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}{constructor(e){super(),this.firestore=e}convertBytes(e){return new jd(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ti(this.firestore,null,t)}}function CZ(n,e){const t=Jn(n.firestore,Or),r=function iZ(n,e,...t){if(n=wo(n),1===arguments.length&&(e=YU.R()),XR("doc","path",e),n instanceof ky){const r=nr.fromString(e,...t);return aj(r),new ti(n,null,new Lt(r))}{if(!(n instanceof ti||n instanceof qa))throw new st(Ge.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(nr.fromString(e,...t));return aj(r),new ti(n.firestore,n instanceof qa?n.converter:null,new Lt(r))}}(n),o=function ak(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return function Fy(n,e){return function(t,r){const o=new ki;return t.asyncQueue.enqueueAndForget(Ie(function*(){return function D9(n,e,t){return wR.apply(this,arguments)}(yield function JR(n){return QC(n).then(e=>e.syncEngine)}(t),r,o)})),o.promise}(Ei(n),e)}(t,[nk(Np(n.firestore),"addDoc",r._key,o,null!==n.converter,{}).toMutation(r._key,ui.exists(!1))]).then(()=>r)}!function(n,e=!0){ip="9.6.9",fo(new Pi("firestore",(t,{options:r})=>{const o=t.getProvider("app").getImmediate(),s=new Or(o,new aW(t.getProvider("auth-internal")),new lW(t.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:e},r),s._setSettings(r),s},"PUBLIC")),E(zU,"3.4.6",n),E(zU,"3.4.6","esm2017")}();var DZ={includeMetadataChanges:!1};function uk(n,e){return void 0===e&&(e=DZ),new mn.y(function(t){var r=function wZ(n,...e){var t,r,o;n=wo(n);let s={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||ek(e[l])||(s=e[l],l++);const h={includeMetadataChanges:s.includeMetadataChanges};if(ek(e[l])){const P=e[l];e[l]=null===(t=P.next)||void 0===t?void 0:t.bind(P),e[l+1]=null===(r=P.error)||void 0===r?void 0:r.bind(P),e[l+2]=null===(o=P.complete)||void 0===o?void 0:o.bind(P)}let m,y,D;if(n instanceof ti)y=Jn(n.firestore,Or),D=dp(n._key.path),m={next:P=>{e[l]&&e[l](function ck(n,e,t){const r=t.docs.get(e._key),o=new Gd(n);return new Rp(n,o,e._key,r,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}(y,n,P))},error:e[l+1],complete:e[l+2]};else{const P=Jn(n,mo);y=Jn(P.firestore,Or),D=P._query;const V=new Gd(y);m={next:J=>{e[l]&&e[l](new kp(y,V,P,J))},error:e[l+1],complete:e[l+2]},function Tj(n){if(IC(n)&&0===n.explicitOrderBy.length)throw new st(Ge.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(P,V,J,ge){const xe=new JC(ge),Ze=new yR(V,xe,J);return P.asyncQueue.enqueueAndForget(Ie(function*(){return function fR(n,e){return pR.apply(this,arguments)}(yield Pp(P),Ze)})),()=>{xe.mu(),P.asyncQueue.enqueueAndForget(Ie(function*(){return function gR(n,e){return mR.apply(this,arguments)}(yield Pp(P),Ze)}))}}(Ei(y),D,h,m)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function MZ(n,e){return void 0===e&&(e={}),function PZ(n){return uk(n,{includeMetadataChanges:!0}).pipe((0,Ft.U)(function(e){return e.docs}))}(n).pipe((0,Ft.U)(function(t){return t.map(function(r){return function Nj(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class sw{constructor(e){return e}}const Fj="firestore",hk=new i.OlP("angularfire2.firestore-instances");function kZ(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new sw(r)}}const LZ={provide:class NZ{constructor(){return QA(Fj)}},deps:[[new i.FiY,hk]]},FZ={provide:sw,useFactory:function RZ(n,e){const t=function JA(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(l=>l.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}(Fj,n,e);return t&&new sw(t)},deps:[[new i.FiY,hk],Yf]};let BZ=(()=>{class n{constructor(){E("angularfire",GA.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:[FZ,LZ]}),n})();function UZ(n,...e){return{ngModule:BZ,providers:[{provide:hk,useFactory:kZ(n),multi:!0,deps:[i.R0b,i.zs3,a3,c3,[new i.FiY,cB],[new i.FiY,PB],...e]}]}}const jZ=M_(MZ,!0),VZ=M_(CZ,!0),Bj=M_(rZ,!0),HZ=M_(cZ,!0);let GZ=(()=>{class n{constructor(t){this.firestore=t}addShop(t){const r=Bj(this.firestore,"shops");return(0,Dn.D)(VZ(r,t))}getShops(){const t=Bj(this.firestore,"shops");return jZ(t,{idField:"id"})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(sw))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function $Z(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",11)(2,"button",12),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleShopList()}),i.TgZ(3,"div",8)(4,"div",13),i._UZ(5,"i",14),i.TgZ(6,"span",15),i._uU(7),i.ALo(8,"number"),i.qZA(),i.TgZ(9,"small",16),i._uU(10),i.ALo(11,"translate"),i.qZA()()()()(),i.TgZ(12,"div",11)(13,"button",17),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleProductList()}),i.TgZ(14,"div",8)(15,"div",13),i._UZ(16,"i",18),i.TgZ(17,"span",15),i._uU(18),i.ALo(19,"number"),i.qZA(),i.TgZ(20,"small",16),i._uU(21),i.ALo(22,"translate"),i.qZA()()()()(),i.BQk()}if(2&n){const t=i.oxw(2);i.xp6(7),i.Oqu(i.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),i.xp6(3),i.Oqu(i.lcZ(11,7,"home.shops")),i.xp6(8),i.Oqu(i.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),i.xp6(3),i.Oqu(i.lcZ(22,12,"home.products"))}}function qZ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",11)(2,"button",19),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleShopList()}),i.TgZ(3,"div",8)(4,"div",13),i._UZ(5,"i",20),i.TgZ(6,"small",16),i._uU(7),i.ALo(8,"translate"),i.qZA()()()()(),i.TgZ(9,"div",11)(10,"button",21),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).toggleStatistics()}),i.TgZ(11,"div",8)(12,"div",13),i._UZ(13,"i",22),i.TgZ(14,"small",16),i._uU(15),i.ALo(16,"translate"),i.qZA()()()()(),i.BQk()}2&n&&(i.xp6(7),i.Oqu(i.lcZ(8,2,"home.alerts")),i.xp6(8),i.Oqu(i.lcZ(16,4,"home.analysis")))}function WZ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",2)(2,"div",3)(3,"div",4),i.YNc(4,$Z,23,14,"ng-container",5),i.qZA(),i.TgZ(5,"div",6)(6,"button",7),i.NdJ("click",function(){return i.CHM(t),i.oxw().scan()}),i.TgZ(7,"div",8),i._UZ(8,"i",9),i.TgZ(9,"div",10),i._uU(10),i.ALo(11,"translate"),i.qZA(),i.TgZ(12,"small"),i._uU(13),i.ALo(14,"translate"),i.qZA()()()(),i.TgZ(15,"div",4),i.YNc(16,qZ,17,6,"ng-container",5),i.qZA()()(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(4),i.Q6J("ngIf",t.products.length>0),i.xp6(6),i.Oqu(i.lcZ(11,4,"home.scan")),i.xp6(3),i.Oqu(i.lcZ(14,6,"home.here")),i.xp6(3),i.Q6J("ngIf",t.products.length>0)}}function zZ(n,e){1&n&&(i.TgZ(0,"div",23),i._uU(1," Carregant... "),i.qZA())}let ZZ=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.productService=r,this.shopService=o,this.spinner=s,this.firestoreService=l}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((r,o)=>r.name>o.name?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((r,o)=>r.name>o.name?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopService.getShops().subscribe(t=>{}),this.productService.getProducts().subscribe(t=>{}),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(Ts.M),i.Y36(Xs.d),i.Y36(ta),i.Y36(GZ))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"click"],[1,"fas","fa-triangle-exclamation","mb-3"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,r){if(1&t&&(i.YNc(0,WZ,17,8,"ng-container",0),i.YNc(1,zZ,2,0,"ng-template",null,1,i.W1O)),2&t){const o=i.MAs(2);i.Q6J("ngIf",r.products&&r.shops)("ngIfElse",o)}},directives:[f.O5],pipes:[f.JJ,na],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),n})();function KZ(n,e){if(1&n&&i._UZ(0,"img",7),2&n){const t=i.oxw(2);i.Q6J("src",t.getImageUrl(t.currentLanguage),i.LSH)}}function YZ(n,e){if(1&n&&i._UZ(0,"img",7),2&n){const t=i.oxw(2).$implicit,r=i.oxw(2);i.Q6J("src",r.getImageUrl(t),i.LSH)}}function JZ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li",9),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().$implicit;return i.oxw(2).setLanguage(o)}),i.TgZ(1,"div",10),i.YNc(2,YZ,1,1,"img",4),i.TgZ(3,"span"),i._uU(4),i.qZA()()()}if(2&n){const t=i.oxw().$implicit,r=i.oxw(2);i.xp6(2),i.Q6J("ngIf",r.languageImages),i.xp6(2),i.Oqu(r.getLabel(t))}}function QZ(n,e){if(1&n&&(i.ynx(0),i.YNc(1,JZ,5,2,"li",8),i.BQk()),2&n){const t=e.$implicit,r=i.oxw(2);i.xp6(1),i.Q6J("ngIf",r.currentLanguage!==t)}}function XZ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"div",2)(3,"button",3),i.YNc(4,KZ,1,1,"img",4),i.qZA(),i.TgZ(5,"ul",5),i.YNc(6,QZ,2,1,"ng-container",6),i.qZA()()(),i.BQk()),2&n){const t=i.oxw();i.xp6(4),i.Q6J("ngIf",t.languageImages),i.xp6(2),i.Q6J("ngForOf",t.languages)}}let Uj=(()=>{class n{constructor(t,r){this.translate=t,this.translationsService=r}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(Ea.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(r=>r.language===t).imageUrl}getLabel(t){return this.languageImages.find(r=>r.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Oa),i.Y36(nu))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,r){1&t&&i.YNc(0,XZ,7,2,"ng-container",0),2&t&&i.Q6J("ngIf",r.currentLanguage&&r.languages)},directives:[f.O5,f.sg],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),n})();function eK(n,e){if(1&n&&(i.TgZ(0,"div",4),i._UZ(1,"i"),i.TgZ(2,"div",5)(3,"strong",6),i._uU(4),i.ALo(5,"translate"),i.qZA(),i.TgZ(6,"small",7),i._uU(7),i.ALo(8,"translate"),i.qZA()()()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.Tol(t.iconClass),i.xp6(3),i.Oqu(i.lcZ(5,4,t.title)),i.xp6(3),i.Oqu(i.lcZ(8,6,t.text))}}function tK(n,e){1&n&&(i.ynx(0),i.YNc(1,eK,9,8,"ng-template",3),i.BQk())}function nK(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"ngb-carousel"),i.YNc(2,tK,2,0,"ng-container",2),i.qZA(),i.BQk()),2&n){const t=i.oxw();i.xp6(2),i.Q6J("ngForOf",t.slides)}}let rK=(()=>{class n{constructor(t,r){this.translate=r,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"}]}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(ES),i.Y36(Oa))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,nK,3,1,"ng-container",1),i.qZA()),2&t&&(i.xp6(1),i.Q6J("ngIf",r.slides))},directives:[f.O5,CS,f.sg,ff],pipes:[na],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function iK(n,e){}function oK(n,e){1&n&&i.YNc(0,iK,0,0,"ng-template")}function sK(n,e){1&n&&(i.TgZ(0,"div",17),i._UZ(1,"app-carousel"),i.qZA())}const aK=function(n){return{disabled:n}};let cK=(()=>{class n{constructor(t,r){this.loginService=t,this.router=r,this.user={email:"",username:""}}login(){this.canAccess()&&(this.loginService.login(this.user),this.router.navigate(["home"]))}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}isAdmin(){return this.user.email}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.username.length>0}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Fo.r),i.Y36(mr))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-login"]],decls:32,vars:27,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-0","justify-content-end"],[1,"mb-3","ps-3","mt-0","w-100","text-left"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","username",1,"fw-bold"],["type","text","id","username",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","email",1,"fw-bold"],["type","email","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","justify-content-around","w-100"],[1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],[4,"ngTemplateOutlet"],["carousel",""],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0)(1,"div",1)(2,"div",2),i._UZ(3,"app-language-selector"),i.qZA(),i.TgZ(4,"h3",3),i._uU(5),i.ALo(6,"translate"),i.qZA(),i.TgZ(7,"small",4),i._uU(8),i.ALo(9,"translate"),i.qZA()(),i.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),i._uU(15),i.ALo(16,"translate"),i.qZA(),i.TgZ(17,"input",10),i.NdJ("ngModelChange",function(s){return r.user.username=s}),i.ALo(18,"translate"),i.qZA()(),i.TgZ(19,"div",8)(20,"label",11),i._uU(21),i.ALo(22,"translate"),i.qZA(),i.TgZ(23,"input",12),i.NdJ("ngModelChange",function(s){return r.user.email=s}),i.ALo(24,"translate"),i.qZA()()()()(),i.TgZ(25,"div",13)(26,"button",14),i.NdJ("click",function(){return r.login()}),i._uU(27),i.ALo(28,"translate"),i.qZA()(),i.YNc(29,oK,1,0,null,15),i.qZA(),i.YNc(30,sK,2,0,"ng-template",null,16,i.W1O)),2&t){const o=i.MAs(31);i.xp6(5),i.hij(" ",i.lcZ(6,11,"login.welcome")," "),i.xp6(3),i.Oqu(i.lcZ(9,13,"login.welcome.subtitle")),i.xp6(7),i.Oqu(i.lcZ(16,15,"login.username")),i.xp6(2),i.s9C("placeholder",i.lcZ(18,17,"login.username")),i.Q6J("ngModel",r.user.username),i.xp6(4),i.Oqu(i.lcZ(22,19,"login.email")),i.xp6(2),i.s9C("placeholder",i.lcZ(24,21,"login.email")),i.Q6J("ngModel",r.user.email),i.xp6(3),i.Q6J("ngClass",i.VKq(25,aK,!r.canAccess())),i.xp6(1),i.hij(" ",i.lcZ(28,23,"login.access")," "),i.xp6(2),i.Q6J("ngTemplateOutlet",o)}},directives:[Uj,Ln,C,Qo,f.mk,f.tP,rK],pipes:[na],styles:["small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();function aw(n,e=iu){return(0,so.e)((t,r)=>{let o=null,s=null,l=null;const h=()=>{if(o){o.unsubscribe(),o=null;const y=s;s=null,r.next(y)}};function m(){const y=l+n,D=e.now();if(D<y)return o=this.schedule(void 0,y-D),void r.add(o);h()}t.subscribe((0,wt.x)(r,y=>{s=y,l=e.now(),o||(o=e.schedule(m,n),r.add(o))},()=>{h(),r.complete()},void 0,()=>{s=o=null}))})}var By=w(2940),Uy=(()=>(function(n){n.CREATE="CREATE",n.SEARCH="SEARCH",n.SELECT="SELECT"}(Uy||(Uy={})),Uy))();let jj=(()=>{class n{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(nm.eN))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function uK(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"img",6),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("src",t.imageUrl,i.LSH)}}function lK(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"div",2),i.YNc(3,uK,2,1,"ng-container",0),i.TgZ(4,"div",3)(5,"h5",4),i._uU(6),i.qZA(),i.TgZ(7,"p",5),i._uU(8),i.qZA()()()(),i.BQk()),2&n){const t=i.oxw();i.xp6(3),i.Q6J("ngIf",t.imageUrl),i.xp6(3),i.hij(" ",t.name," "),i.xp6(2),i.hij(" ",t.brand," ")}}let dK=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,r){1&t&&i.YNc(0,lK,9,3,"ng-container",0),2&t&&i.Q6J("ngIf",r.name||r.brand||r.imageUrl)},directives:[f.O5],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),n})();const hK=["priceInput"];function fK(n,e){1&n&&(i.TgZ(0,"div",15),i._UZ(1,"i",16),i.TgZ(2,"small",17),i._uU(3,"Inicialitzant scanner"),i.qZA()())}function pK(n,e){1&n&&(i.TgZ(0,"div",15),i._UZ(1,"i",18),i.TgZ(2,"small",17),i._uU(3,"Hi ha hagut un error inicialitzant el scanner"),i.qZA()())}function gK(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),i.NdJ("valueChanges",function(o){return i.CHM(t),i.oxw().onValueChanges(o)})("started",function(o){return i.CHM(t),i.oxw().onStarted(o)}),i.qZA(),i.YNc(3,fK,4,0,"div",14),i.YNc(4,pK,4,0,"div",14),i.qZA(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(3),i.Q6J("ngIf",!t.barcodeScannerStarted),i.xp6(1),i.Q6J("ngIf",t.barcodeScannerError)}}function mK(n,e){if(1&n&&(i.TgZ(0,"div")(1,"span"),i._uU(2,"Codi:"),i.qZA(),i.TgZ(3,"span",22),i._uU(4),i.qZA()()),2&n){const t=i.oxw(2);i.xp6(4),i.Oqu(t.barcodeValue)}}function _K(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1,"Producte ja enregistrat"),i.qZA())}function yK(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"i",23),i.YNc(2,_K,2,0,"span",0),i.BQk()),2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("ngIf",t.isSavedProduct)}}function vK(n,e){1&n&&(i.ynx(0),i._UZ(1,"i",24),i.TgZ(2,"span"),i._uU(3,"Producte no enregistrat"),i.qZA(),i.BQk())}function bK(n,e){1&n&&(i.ynx(0),i.TgZ(1,"div",25)(2,"div",26),i._UZ(3,"i",27),i.TgZ(4,"span"),i._uU(5,"Producte desconegut"),i.qZA()()(),i.BQk())}function EK(n,e){if(1&n&&(i.TgZ(0,"div",19)(1,"div",20),i.YNc(2,mK,5,1,"div",0),i.TgZ(3,"div",21)(4,"small"),i.YNc(5,yK,3,1,"ng-container",0),i.YNc(6,vK,4,0,"ng-container",0),i.YNc(7,bK,6,0,"ng-container",0),i.qZA()()()()),2&n){const t=i.oxw();i.xp6(2),i.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),i.xp6(3),i.Q6J("ngIf",t.isSavedProduct),i.xp6(1),i.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),i.xp6(1),i.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function CK(n,e){1&n&&i.GkF(0)}function wK(n,e){if(1&n&&(i.ynx(0),i.YNc(1,CK,1,0,"ng-container",28),i.BQk()),2&n){i.oxw(2);const t=i.MAs(5);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function TK(n,e){1&n&&i.GkF(0)}function DK(n,e){if(1&n&&(i.ynx(0),i.YNc(1,TK,1,0,"ng-container",28),i.BQk()),2&n){i.oxw(2);const t=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function SK(n,e){if(1&n&&(i.ynx(0),i.YNc(1,wK,2,1,"ng-container",0),i.YNc(2,DK,2,1,"ng-container",0),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),i.xp6(1),i.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function xK(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"app-product-scan-result",29),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function IK(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"app-product-scan-result",29),i.BQk()),2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function AK(n,e){1&n&&(i.ynx(0),i._UZ(1,"app-product-scan-result",29),i.BQk()),2&n&&(i.xp6(1),i.Q6J("name","Producte desconegut")("brand","Marca desconeguda")("imageUrl",""))}function OK(n,e){1&n&&i.GkF(0)}function PK(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",30),i.YNc(2,OK,1,0,"ng-container",28),i.qZA(),i.BQk()),2&n){i.oxw(2);const t=i.MAs(10);i.xp6(2),i.Q6J("ngTemplateOutlet",t)}}function MK(n,e){if(1&n&&(i.YNc(0,xK,2,3,"ng-container",0),i.YNc(1,IK,2,3,"ng-container",0),i.YNc(2,AK,2,3,"ng-container",0),i.YNc(3,PK,3,1,"ng-container",0)),2&n){const t=i.oxw();i.Q6J("ngIf",t.savedProduct),i.xp6(1),i.Q6J("ngIf",t.openFoodProductFound),i.xp6(1),i.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),i.xp6(1),i.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function NK(n,e){1&n&&i.GkF(0)}function RK(n,e){if(1&n&&(i.TgZ(0,"div",31),i.YNc(1,NK,1,0,"ng-container",28),i.qZA()),2&n){i.oxw();const t=i.MAs(20);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function kK(n,e){if(1&n&&(i.TgZ(0,"option",48),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.s9C("value",t.id),i.xp6(1),i.hij(" ",t.name," ")}}const Vj=function(n){return{disabled:n}};function LK(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",32)(1,"div",33)(2,"label",34),i._uU(3,"Codi"),i.qZA(),i.TgZ(4,"input",35),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().newProduct.barcode=o}),i.qZA()(),i.TgZ(5,"div",33)(6,"label",36),i._uU(7,"Nom"),i.qZA(),i.TgZ(8,"input",37),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().newProduct.name=o}),i.qZA()(),i.TgZ(9,"div",33)(10,"label",38),i._uU(11,"Marca"),i.qZA(),i.TgZ(12,"input",39),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().newProduct.brand=o}),i.qZA()()(),i.TgZ(13,"div",32)(14,"div",33)(15,"label",40),i._uU(16,"Botiga"),i.qZA(),i.TgZ(17,"select",41),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProduct.shopId=o})("change",function(){return i.CHM(t),i.oxw().selectPriceInput()}),i._UZ(18,"option"),i.YNc(19,kK,2,2,"option",42),i.qZA()(),i.TgZ(20,"div",33)(21,"label",43),i._uU(22,"Preu"),i.qZA(),i.TgZ(23,"input",44,45),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProduct.price=o}),i.qZA()()(),i.TgZ(25,"button",46),i.NdJ("click",function(){return i.CHM(t),i.oxw().createProduct()}),i._UZ(26,"i",47),i.TgZ(27,"span"),i._uU(28,"Desa producte i preu"),i.qZA()()}if(2&n){const t=i.oxw();i.xp6(4),i.s9C("value",t.newProduct.barcode),i.Q6J("ngModel",t.newProduct.barcode),i.xp6(4),i.s9C("value",t.newProduct.name),i.Q6J("ngModel",t.newProduct.name),i.xp6(4),i.s9C("value",t.newProduct.brand),i.Q6J("ngModel",t.newProduct.brand),i.xp6(5),i.Q6J("ngModel",t.shopProduct.shopId),i.xp6(2),i.Q6J("ngForOf",t.shops),i.xp6(4),i.s9C("value",t.shopProduct.price),i.Q6J("ngModel",t.shopProduct.price),i.xp6(2),i.Q6J("ngClass",i.VKq(11,Vj,!t.canCreateProductAndPrice()))}}function FK(n,e){if(1&n&&(i.TgZ(0,"option",48),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.s9C("value",t.id),i.xp6(1),i.hij(" ",t.name," ")}}function BK(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",32)(1,"div",33)(2,"label",40),i._uU(3,"Botiga"),i.qZA(),i.TgZ(4,"select",41),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProduct.shopId=o})("change",function(){return i.CHM(t),i.oxw().selectPriceInput()}),i._UZ(5,"option"),i.YNc(6,FK,2,2,"option",42),i.qZA()(),i.TgZ(7,"div",33)(8,"label",43),i._uU(9,"Preu"),i.qZA(),i.TgZ(10,"input",44,45),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProduct.price=o}),i.qZA()(),i.TgZ(12,"button",49),i.NdJ("click",function(){return i.CHM(t),i.oxw().saveShopProduct()}),i._uU(13," Desa "),i.qZA()()}if(2&n){const t=i.oxw();i.xp6(4),i.Q6J("ngModel",t.shopProduct.shopId),i.xp6(2),i.Q6J("ngForOf",t.shops),i.xp6(4),i.s9C("value",t.shopProduct.price),i.Q6J("ngModel",t.shopProduct.price),i.xp6(2),i.Q6J("ngClass",i.VKq(5,Vj,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length))}}function UK(n,e){1&n&&(i.TgZ(0,"div",50),i._UZ(1,"i",51),i.TgZ(2,"small",17),i._uU(3,"Posiciona el codi de barres del producte davant la c\xe0mera."),i.qZA()())}function jK(n,e){1&n&&(i.TgZ(0,"div",52),i._UZ(1,"i",53),i.TgZ(2,"span"),i._uU(3,"No s'ha trobat el producte"),i.qZA()())}function VK(n,e){1&n&&(i.TgZ(0,"div",52),i._UZ(1,"i",54),i.TgZ(2,"span"),i._uU(3,"Cercant producte..."),i.qZA()())}function HK(n,e){1&n&&(i.TgZ(0,"div",55),i._UZ(1,"i",56),i.qZA())}function GK(n,e){if(1&n&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"json"),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,t.shopProduct))}}function $K(n,e){if(1&n&&(i.TgZ(0,"li"),i._uU(1),i.ALo(2,"json"),i.qZA()),2&n){const t=i.oxw(2);i.xp6(1),i.Oqu(i.lcZ(2,1,t.newProduct))}}function qK(n,e){if(1&n&&(i.TgZ(0,"small")(1,"ul",57)(2,"li"),i._uU(3),i.qZA(),i.TgZ(4,"li"),i._uU(5),i.qZA(),i.TgZ(6,"li"),i._uU(7),i.qZA(),i.TgZ(8,"li"),i._uU(9),i.qZA(),i.TgZ(10,"li"),i._uU(11,"-------------------------"),i.qZA(),i.YNc(12,GK,3,3,"li",0),i.YNc(13,$K,3,3,"li",0),i.qZA()()),2&n){const t=i.oxw();i.xp6(3),i.hij("mode: ",t.mode,""),i.xp6(2),i.hij("isSavedProduct: ",t.isSavedProduct,""),i.xp6(2),i.hij("openFoodProductFound: ",t.openFoodProductFound,""),i.xp6(2),i.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),i.xp6(3),i.Q6J("ngIf",t.shopProduct),i.xp6(1),i.Q6J("ngIf",t.newProduct)}}let WK=(()=>{class n{constructor(t,r,o,s,l){this.openFoodService=t,this.productService=r,this.shopService=o,this.shopProductService=s,this.loginService=l,this.onSaveProduct=new i.vpe,this.onCreateProduct=new i.vpe,this.onSaveShopProduct=new i.vpe,this.onProductFound=new i.vpe,this.onBarcodeRead=new i.vpe,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new ur.x,this.ProductScanModeEnum=Uy,this.barcodeChanged.pipe(aw(500),Is()).subscribe(h=>{this.barcodeValue!==h.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=h.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(m=>m.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(m=>m.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(r=>{this.openFoodProduct=r,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==r.product,this.openFoodProductFound&&this.onProductFound.emit();const o=this.products.find(s=>s.barcode===t);o&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=o.brand,this.openFoodProduct.product.image_url=o.imageUrl,this.openFoodProduct.product.product_name=o.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,r,o,s,l,h;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const m={barcode:this.barcodeValue,brand:(null===(r=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===r?void 0:r.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"Marca desconeguda",favourite:!1,name:(null===(s=null===(o=this.openFoodProduct)||void 0===o?void 0:o.product)||void 0===s?void 0:s.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"Nom desconegut",imageUrl:(null===(h=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===h?void 0:h.image_url)?this.openFoodProduct.product.image_url:void 0};this.onSaveProduct.emit(m)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,r,o,s,l,h;this.products.find(y=>y.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm("Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per al a botiga indicada.")&&(this.openFoodProductFound?this.products.push({barcode:this.shopProduct.productBarcode,brand:(null===(r=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===r?void 0:r.brands)||"Marca desconeguda",favourite:!1,name:(null===(s=null===(o=this.openFoodProduct)||void 0===o?void 0:o.product)||void 0===s?void 0:s.product_name)||"Nom desconegut",imageUrl:(null===(h=null===(l=this.openFoodProduct)||void 0===l?void 0:l.product)||void 0===h?void 0:h.image_url)||"",createdBy:this.loggedUser}):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),this.productService.setProducts(this.products).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start(),this.newProduct={barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:By.T},this.shopProduct={price:0,productBarcode:void 0,shopId:void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t}),this.shopProductService.getShopsProducts().subscribe(()=>{}),this.productService.products.subscribe(t=>{this.products=t}),this.productService.getProducts().subscribe(()=>{}),this.shopService.shops.subscribe(t=>{this.shops=t}),this.shopService.getShops().subscribe(()=>{})}onStarted(t){this.barcodeScannerStarted=t}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(jj),i.Y36(Ts.M),i.Y36(Xs.d),i.Y36(ea.s),i.Y36(Fo.r))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-barcode-scanner"]],viewQuery:function(t,r){if(1&t&&(i.Gf(rm,5),i.Gf(hK,5)),2&t){let o;i.iGM(o=i.CRH())&&(r.barcodeScanner=o.first),i.iGM(o=i.CRH())&&(r.priceInput=o.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","h-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,r){if(1&t&&(i.YNc(0,gK,5,2,"ng-container",0),i.YNc(1,EK,8,4,"div",1),i.TgZ(2,"div",2),i.YNc(3,SK,3,2,"ng-container",0),i.qZA(),i.YNc(4,MK,4,4,"ng-template",null,3,i.W1O),i.YNc(6,RK,2,1,"div",4),i.YNc(7,LK,29,13,"ng-template",null,5,i.W1O),i.YNc(9,BK,14,7,"ng-template",null,6,i.W1O),i.YNc(11,UK,4,0,"ng-template",null,7,i.W1O),i.YNc(13,jK,4,0,"ng-template",null,8,i.W1O),i.YNc(15,VK,4,0,"ng-template",null,9,i.W1O),i.YNc(17,HK,2,0,"ng-template",null,10,i.W1O),i.YNc(19,qK,14,6,"ng-template",null,11,i.W1O)),2&t){const o=i.MAs(12);i.Q6J("ngIf",!r.openFoodProductFound&&!r.isSavedProduct),i.xp6(1),i.Q6J("ngIf",r.barcodeValue)("ngIfElse",o),i.xp6(2),i.Q6J("ngIf",r.barcodeValue),i.xp6(3),i.Q6J("ngIf",!1)}},directives:[f.O5,rm,f.tP,dK,Ln,C,Qo,va,Xu,Xp,f.sg,Ju,f.mk],pipes:[f.Ts],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;height:200px!important;border:2px solid #fff;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),n})();const zK=["barcodeInput"],ZK=["priceInput"];function KK(n,e){1&n&&i.GkF(0)}function YK(n,e){1&n&&i._UZ(0,"i",12)}function JK(n,e){1&n&&i._UZ(0,"i",12)}function QK(n,e){1&n&&(i.TgZ(0,"div",16),i._UZ(1,"i",17),i.TgZ(2,"small"),i._uU(3," Cerca un producte mitjan\xe7ant l'ecaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat. "),i.qZA()())}function XK(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",13)(2,"app-barcode-scanner",14),i.NdJ("onSaveShopProduct",function(o){return i.CHM(t),i.oxw().saveShopProduct(o)})("onCreateProduct",function(o){return i.CHM(t),i.oxw().createProduct(o)})("onProductFound",function(){return i.CHM(t),i.oxw().productFound=!0})("onBarcodeRead",function(){return i.CHM(t),i.oxw().barcodeRead=!0}),i.qZA(),i.YNc(3,QK,4,0,"div",15),i.qZA(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(2),i.Q6J("mode",t.ProductScanModeEnum.CREATE),i.xp6(1),i.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function eY(n,e){1&n&&i.GkF(0)}function tY(n,e){1&n&&(i.TgZ(0,"span",24),i._uU(1,"Scanner"),i.qZA())}function nY(n,e){1&n&&(i.TgZ(0,"span",24),i._uU(1,"Manual"),i.qZA())}function rY(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",18)(1,"span",19),i.NdJ("click",function(){return i.CHM(t),i.oxw().exit()}),i._UZ(2,"i",20),i.TgZ(3,"span",21),i._uU(4,"Inici"),i.qZA()(),i.TgZ(5,"span",22),i._uU(6,"/"),i.qZA(),i.YNc(7,tY,2,0,"span",23),i.YNc(8,nY,2,0,"span",23),i.qZA()}if(2&n){const t=i.oxw();i.xp6(7),i.Q6J("ngIf","SCANNER"===t.mode),i.xp6(1),i.Q6J("ngIf","MANUAL"===t.mode)}}function iY(n,e){if(1&n&&(i.TgZ(0,"option",46),i._uU(1),i.qZA()),2&n){const t=e.$implicit;i.s9C("value",t.id),i.xp6(1),i.hij(" ",t.name," ")}}const Hj=function(n){return{readonly:n}},oY=function(n){return{disabled:n}};function sY(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",25),i._UZ(1,"img",26),i.qZA(),i.TgZ(2,"div",27)(3,"label",28),i._uU(4,"Producte"),i.qZA(),i.TgZ(5,"div",29)(6,"label",30),i._uU(7,"Codi"),i.qZA(),i.TgZ(8,"input",31,32),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().productDetail.barcode=o}),i.qZA()(),i.TgZ(10,"div",33)(11,"label",34),i._uU(12,"Nom"),i.qZA(),i.TgZ(13,"input",35),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().productDetail.name=o}),i.qZA()(),i.TgZ(14,"div",33)(15,"label",36),i._uU(16,"Marca"),i.qZA(),i.TgZ(17,"input",37),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().productDetail.brand=o}),i.qZA()()(),i._UZ(18,"hr"),i.TgZ(19,"div",38)(20,"label",28),i._uU(21,"Preu"),i.qZA(),i.TgZ(22,"div",33)(23,"label",39),i._uU(24,"Botiga"),i.qZA(),i.TgZ(25,"select",40),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProductDetail.shopId=o})("change",function(){return i.CHM(t),i.oxw().selectPriceInput()}),i._UZ(26,"option"),i.YNc(27,iY,2,2,"option",41),i.qZA()(),i.TgZ(28,"div",33)(29,"label",42),i._uU(30,"Preu"),i.qZA(),i.TgZ(31,"input",43,44),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopProductDetail.price=o}),i.qZA()()(),i.TgZ(33,"button",45),i.NdJ("click",function(){i.CHM(t);const o=i.oxw();return o.createProduct({product:o.productDetail,shopProduct:o.shopProductDetail})}),i.TgZ(34,"span"),i._uU(35,"Desa"),i.qZA()()}if(2&n){const t=i.oxw();i.xp6(1),i.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,i.LSH),i.xp6(7),i.s9C("value",null==t.productDetail?null:t.productDetail.barcode),i.Q6J("ngModel",t.productDetail.barcode),i.xp6(5),i.s9C("value",null==t.productDetail?null:t.productDetail.name),i.Q6J("ngClass",i.VKq(14,Hj,t.lockProductEdition))("ngModel",t.productDetail.name),i.xp6(4),i.s9C("value",null==t.productDetail?null:t.productDetail.brand),i.Q6J("ngClass",i.VKq(16,Hj,t.lockProductEdition))("ngModel",t.productDetail.brand),i.xp6(8),i.Q6J("ngModel",t.shopProductDetail.shopId),i.xp6(2),i.Q6J("ngForOf",t.shops),i.xp6(4),i.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),i.Q6J("ngModel",t.shopProductDetail.price),i.xp6(2),i.Q6J("ngClass",i.VKq(18,oY,!t.canCreateProductAndPrice()))}}const Gj=function(n){return{active:n}},aY=function(n){return{hidden:n}};let cY=(()=>{class n{constructor(t,r,o,s,l,h){this.router=t,this.shopProductService=r,this.productService=o,this.loginService=s,this.shopService=l,this.openFoodService=h,this.ProductScanModeEnum=Uy,this.productDetail={barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:By.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Yr(this.barcodeInput.nativeElement,"keyup").pipe((0,Ft.U)(r=>r.target.value),(0,xr.h)(r=>r.length>2),aw(500),Is()).subscribe(r=>{console.log("barcodeInput changed:",r),this.shopProductDetail.productBarcode=r,this.lockProductEdition=!0,this.matchingBarcode=!0;const o=this.productService._products.find(s=>s.barcode===r);o?(this.productDetail.name=o.name,this.productDetail.barcode=o.barcode,this.productDetail.brand=o.brand,this.productDetail.favourite=o.favourite,this.productDetail.imageUrl=o.imageUrl,this.productDetail.createdBy=o.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(r).subscribe(s=>{console.log(s),void 0!==s.product?(this.productDetail.name=s.product.product_name,this.productDetail.barcode=r,this.productDetail.brand=s.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=s.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=By.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,r,o,s;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(r=this.productDetail.name)||void 0===r?void 0:r.length)>0&&(null===(o=this.productDetail.brand)||void 0===o?void 0:o.length)>0&&this.shopProductDetail&&(null===(s=this.shopProductDetail.productBarcode)||void 0===s?void 0:s.length)>0&&this.shopProductDetail.price&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopsProducts.push(t),this.shopProductService.setShopsProducts(this.shopsProducts).subscribe(()=>{this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(o=>o.productBarcode===this.shopProductDetail.productBarcode&&o.shopId===this.shopProductDetail.shopId)||confirm("Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?")?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.setShopsProducts(this.shopsProducts).subscribe(()=>{this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.getShopsProducts().subscribe(r=>{let o=[...r];o.push(t.shopProduct),this.shopProductService.setShopsProducts(o).subscribe(()=>{this.exit()})}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.getShopsProducts().subscribe(r=>{let o=[...r];o.push(t.shopProduct),this.shopProductService.setShopsProducts(o).subscribe(()=>{this.exit()})}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t}),this.shopProductService.getShopsProducts().subscribe(()=>{}),this.shopService.shops.subscribe(t=>{this.shops=t}),this.shopService.getShops().subscribe(()=>{})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(ea.s),i.Y36(Ts.M),i.Y36(Fo.r),i.Y36(Xs.d),i.Y36(jj))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,r){if(1&t&&(i.Gf(zK,5),i.Gf(ZK,5)),2&t){let o;i.iGM(o=i.CRH())&&(r.barcodeInput=o.first),i.iGM(o=i.CRH())&&(r.priceInput=o.first)}},decls:19,vars:16,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text",1,"form-control",3,"ngClass","value","ngModel","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text",1,"form-control",3,"ngClass","value","ngModel","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,KK,1,0,"ng-container",2),i.qZA(),i.TgZ(3,"div",3)(4,"button",4),i.NdJ("click",function(){return r.setMode("SCANNER")}),i.YNc(5,YK,1,0,"i",5),i._uU(6," Scanner "),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return r.setMode("MANUAL")}),i.YNc(8,JK,1,0,"i",5),i._uU(9," Manual "),i.qZA()(),i.TgZ(10,"div",6),i.YNc(11,XK,4,2,"ng-container",7),i.TgZ(12,"div",8),i.YNc(13,eY,1,0,"ng-container",2),i.qZA(),i._UZ(14,"div",9),i.qZA()(),i.YNc(15,rY,9,2,"ng-template",null,10,i.W1O),i.YNc(17,sY,36,20,"ng-template",null,11,i.W1O)),2&t){const o=i.MAs(16),s=i.MAs(18);i.xp6(2),i.Q6J("ngTemplateOutlet",o),i.xp6(2),i.Q6J("ngClass",i.VKq(10,Gj,"SCANNER"===r.mode)),i.xp6(1),i.Q6J("ngIf","SCANNER"===r.mode),i.xp6(2),i.Q6J("ngClass",i.VKq(12,Gj,"MANUAL"===r.mode)),i.xp6(1),i.Q6J("ngIf","MANUAL"===r.mode),i.xp6(3),i.Q6J("ngIf","SCANNER"===r.mode),i.xp6(1),i.Udp("height","MANUAL"!==r.mode?"0px":"auto"),i.Q6J("ngClass",i.VKq(14,aY,"MANUAL"!==r.mode)),i.xp6(1),i.Q6J("ngTemplateOutlet",s)}},directives:[f.tP,f.mk,f.O5,WK,Ju,Ln,C,Qo,va,Xu,Xp,f.sg],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}"]}),n})(),uY=(()=>{class n{constructor(t){this.router=t,this.history=[],this.router.events.pipe((0,xr.h)(r=>r instanceof si)).subscribe(r=>{("/"===r.url||"/home"===r.url)&&(this.history=[]),this.history.unshift(r.url)})}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(mr))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function lY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"span",7)(2,"span",3),i._uU(3),i.qZA()(),i.BQk()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("routerLink",t.pathUrl),i.xp6(2),i.Oqu(t.label)}}function dY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"span",8),i._uU(2),i.qZA(),i.BQk()),2&n){const t=i.oxw().$implicit;i.xp6(2),i.Oqu(t.label)}}function hY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"span",5),i._uU(2,"/"),i.qZA(),i.YNc(3,lY,4,2,"ng-container",6),i.YNc(4,dY,3,1,"ng-container",6),i.BQk()),2&n){const t=e.index,r=i.oxw();i.xp6(3),i.Q6J("ngIf",t<r.steps.length-1),i.xp6(1),i.Q6J("ngIf",t===r.steps.length-1)}}let $j=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.navigationService=r,this.shopService=o,this.productService=s,this.translate=l,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(r=>r.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(r=>r.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){this.navigationService.history.findIndex(o=>"/"===o||"/home"===o);let r=JSON.parse(JSON.stringify(this.navigationService.history));if(r.length>2&&(r=r.slice(0,2).reverse()),this.steps=r.map(o=>({label:this.getLabel(o),pathUrl:o})),this.steps.length>1){const s=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&s.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(uY),i.Y36(Xs.d),i.Y36(Ts.M),i.Y36(Oa))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"span",1),i.NdJ("click",function(){return r.exit()}),i._UZ(2,"i",2),i.TgZ(3,"span",3),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.YNc(6,hY,5,2,"ng-container",4),i.qZA()),2&t&&(i.xp6(4),i.Oqu(i.lcZ(5,2,"breadcrumb.home")),i.xp6(2),i.Q6J("ngForOf",r.steps))},directives:[f.sg,f.O5,ws],pipes:[na],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),n})();function fY(n,e){1&n&&i.GkF(0)}function pY(n,e){if(1&n&&(i.ynx(0),i.YNc(1,fY,1,0,"ng-container",9),i.BQk()),2&n){i.oxw();const t=i.MAs(15);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function gY(n,e){1&n&&i._UZ(0,"i",10)}function mY(n,e){1&n&&i._UZ(0,"i",10)}function _Y(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"input",26),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).productDetail.name=o}),i.qZA(),i.BQk()}if(2&n){const t=i.oxw(3);i.xp6(1),i.Q6J("ngModel",t.productDetail.name)}}function yY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"input",27),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).productDetail.name=o}),i.qZA(),i.BQk()}if(2&n){const t=i.oxw(3);i.xp6(1),i.Q6J("ngModel",t.productDetail.name)}}function vY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"input",28),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).productDetail.brand=o}),i.qZA(),i.BQk()}if(2&n){const t=i.oxw(3);i.xp6(1),i.Q6J("ngModel",t.productDetail.brand)}}function bY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"input",29),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).productDetail.brand=o}),i.qZA(),i.BQk()}if(2&n){const t=i.oxw(3);i.xp6(1),i.Q6J("ngModel",t.productDetail.brand)}}function EY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",30),i._UZ(2,"img",31),i.qZA(),i.BQk()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("src",t.productDetail.imageUrl,i.LSH)}}function CY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",32)(2,"span",33),i._uU(3,"Creat per:"),i.qZA(),i.TgZ(4,"span",34),i._uU(5),i.qZA()(),i.BQk()),2&n){const t=i.oxw(3);i.xp6(5),i.Oqu(null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username)}}const wY=function(n){return{"pb-1":n}},fk=function(n){return{disabled:n}};function TY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",11)(2,"div",12)(3,"div",13)(4,"div",14)(5,"label",15),i._uU(6,"Codi de barres / Identificador"),i.qZA(),i.TgZ(7,"input",16),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(2).productDetail.barcode=o}),i.qZA()(),i.TgZ(8,"div",17)(9,"label",18),i._uU(10,"Nom"),i.qZA(),i.YNc(11,_Y,2,1,"ng-container",2),i.YNc(12,yY,2,1,"ng-container",2),i.qZA(),i.TgZ(13,"div",17)(14,"label",19),i._uU(15,"Marca"),i.qZA(),i.YNc(16,vY,2,1,"ng-container",2),i.YNc(17,bY,2,1,"ng-container",2),i.qZA(),i.TgZ(18,"div",20)(19,"input",21),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(2).productDetail.favourite=o}),i.qZA(),i.TgZ(20,"label",22),i._uU(21,"Preferit"),i.qZA()(),i.YNc(22,EY,3,1,"ng-container",2),i.qZA()()(),i.YNc(23,CY,6,1,"ng-container",2),i.TgZ(24,"div",23)(25,"button",24),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).updateProduct()}),i._UZ(26,"span",25),i._uU(27," Desa "),i.qZA()(),i.BQk()}if(2&n){const t=i.oxw(2);i.xp6(1),i.Q6J("ngClass",i.VKq(10,wY,null==t.productDetail?null:t.productDetail.createdBy)),i.xp6(6),i.Q6J("ngModel",t.productDetail.barcode),i.xp6(4),i.Q6J("ngIf",t.canEdit()),i.xp6(1),i.Q6J("ngIf",!t.canEdit()),i.xp6(4),i.Q6J("ngIf",t.canEdit()),i.xp6(1),i.Q6J("ngIf",!t.canEdit()),i.xp6(2),i.Q6J("ngModel",t.productDetail.favourite),i.xp6(3),i.Q6J("ngIf",t.productDetail.imageUrl),i.xp6(1),i.Q6J("ngIf",!(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.isAdmin)&&(null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username)),i.xp6(2),i.Q6J("ngClass",i.VKq(12,fk,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1))}}function DY(n,e){if(1&n&&(i.TgZ(0,"span",55),i._uU(1),i.qZA()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.hij("(",t.createdBy.username,")")}}const SY=function(n){return{"fw-bold":n}};function xY(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li")(1,"div",51)(2,"div",52)(3,"span"),i._uU(4),i.ALo(5,"date"),i.qZA(),i.YNc(6,DY,2,1,"span",53),i.qZA(),i.TgZ(7,"div")(8,"span"),i._uU(9),i.ALo(10,"number"),i.qZA(),i.TgZ(11,"span",54),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(6).removeShopProduct(s)}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,o=i.oxw(6);i.xp6(1),i.Q6J("ngClass",i.VKq(11,SY,0===r)),i.xp6(3),i.hij(" ",i.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),i.xp6(2),i.Q6J("ngIf",o.loggedUser.isAdmin&&t.createdBy),i.xp6(3),i.hij("",i.xi3(10,8,t.price,"1.2-2")," \u20ac"),i.xp6(2),i.Q6J("ngClass",i.VKq(13,fk,!o.canRemoveShopProduct(t)))}}function IY(n,e){if(1&n&&(i.TgZ(0,"li",49)(1,"ul",50),i.YNc(2,xY,12,15,"li",40),i.qZA()()),2&n){const t=i.oxw(5);i.xp6(2),i.Q6J("ngForOf",t.historyShopProductList)}}const AY=function(n){return[n]};function OY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"li",41)(2,"div",42),i._UZ(3,"img",43),i.TgZ(4,"a",44),i._uU(5),i.qZA(),i.TgZ(6,"div",45)(7,"span",46)(8,"i",47),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(4).showHistory(s)}),i.qZA(),i._uU(9),i.ALo(10,"number"),i.qZA()()()(),i.YNc(11,IY,3,1,"li",48),i.BQk()}if(2&n){const t=e.$implicit,r=i.oxw(4);i.xp6(3),i.Q6J("src",r.getShopImage(t.shopId),i.LSH),i.xp6(1),i.Q6J("routerLink",i.VKq(9,AY,"/edit-shop/"+t.shopId)),i.xp6(1),i.hij("",r.getShopName(t.shopId)," "),i.xp6(3),i.Q6J("ngClass",i.VKq(11,fk,!r.hasHistory(t))),i.xp6(1),i.hij(" ",i.xi3(10,6,t.price,"1.2-2")," \u20ac"),i.xp6(2),i.Q6J("ngIf",(null==r.historyShopProduct?null:r.historyShopProduct.shopId)===t.shopId&&(null==r.historyShopProduct?null:r.historyShopProduct.productBarcode)===t.productBarcode)}}function PY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"ul",39),i.YNc(2,OY,12,13,"ng-container",40),i.qZA(),i.BQk()),2&n){const t=i.oxw(3);i.xp6(2),i.Q6J("ngForOf",t.shopProducts)}}function MY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",35)(2,"div",36)(3,"button",37),i._uU(4," Preus a botigues "),i.TgZ(5,"small",6),i._uU(6),i.ALo(7,"number"),i.qZA()()(),i.ynx(8),i.YNc(9,PY,3,1,"ng-container",38),i.BQk(),i.qZA(),i.BQk()),2&n){const t=i.oxw(2),r=i.MAs(17);i.xp6(6),i.hij("(",i.xi3(7,3,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),i.xp6(3),i.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",r)}}function NY(n,e){if(1&n&&(i.ynx(0),i.YNc(1,TY,28,14,"ng-container",2),i.YNc(2,MY,10,6,"ng-container",2),i.BQk()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",0===t.selectedTab),i.xp6(1),i.Q6J("ngIf",1===t.selectedTab)}}function RY(n,e){1&n&&i._UZ(0,"app-breadcrumbs")}function kY(n,e){1&n&&(i.TgZ(0,"div",56)(1,"small",57),i._uU(2,"Sense dades"),i.qZA()())}const qj=function(n){return{active:n}};let LY=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.route=r,this.productService=o,this.shopsProductsService=s,this.loginService=l,this.historyShopProductList=[],this.selectedTab=0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.isAdmin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}canEdit(){var t,r;return this.loggedUser.isAdmin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(r=this.productDetail.createdBy)||void 0===r?void 0:r.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.historyShopProduct&&this.configHistory(t)})}getShopName(t){var r;return null===(r=this.shops.find(o=>o.id===t))||void 0===r?void 0:r.name}getShopImage(t){var r;return(null===(r=this.shops.find(o=>o.id===t))||void 0===r?void 0:r.imageUrl)||By.T}showHistory(t){this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(r=>{this.historyShopProductList=r.filter(o=>o.productBarcode===this.productDetail.barcode&&o.shopId===t.shopId).sort((o,s)=>o.updateDate<s.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(r=>r.productBarcode===this.productDetail.barcode&&r.shopId===t.shopId).length>1}getShopProducts(){this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const r=[];(t=t.sort((o,s)=>o.updateDate<s.updateDate?1:-1)).forEach(o=>{-1===r.indexOf(o.shopId)&&r.push(o.shopId)}),r.forEach(o=>{this.shopProducts.push(t.find(s=>o===s.shopId))}),this.shopProducts.sort((o,s)=>o.price>s.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.productService.getProducts().subscribe(r=>{this.products=r,this.productDetail=r.find(o=>o.barcode===t),this.getShopProducts(),this.shopsProductsService.getProductShops(this.productDetail.barcode).subscribe(o=>{this.shops=o}),this.shopsProductsService.shopsProducts.subscribe(o=>{this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(s=>{this.shopProducts=s})})})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(wa),i.Y36(Ts.M),i.Y36(ea.s),i.Y36(Fo.r))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-product-edit"]],decls:18,vars:14,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["breadcrumb",""],["noShopsProducts",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-0","w-100"],["for","productBarcode"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"form-group","mb-3","w-100"],["for","productName"],["for","productBrand"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName","placeholder","Nom del producte",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","productName","placeholder","Nom del producte","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","productBrand","placeholder","Marca del producte",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","productBrand","placeholder","Marca del producte","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user ms-2",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","ms-2"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,pY,2,1,"ng-container",2),i.TgZ(3,"div",3)(4,"button",4),i.NdJ("click",function(){return r.selectedTab=0}),i.YNc(5,gY,1,0,"i",5),i._uU(6," Detall "),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return r.selectedTab=1}),i.YNc(8,mY,1,0,"i",5),i._uU(9," Preus "),i.TgZ(10,"small",6),i._uU(11),i.ALo(12,"number"),i.qZA()()()(),i.YNc(13,NY,3,2,"ng-container",2),i.qZA(),i.YNc(14,RY,1,0,"ng-template",null,7,i.W1O),i.YNc(16,kY,3,0,"ng-template",null,8,i.W1O)),2&t&&(i.xp6(2),i.Q6J("ngIf",r.productDetail),i.xp6(2),i.Q6J("ngClass",i.VKq(10,qj,0===r.selectedTab)),i.xp6(1),i.Q6J("ngIf",0===r.selectedTab),i.xp6(2),i.Q6J("ngClass",i.VKq(12,qj,1===r.selectedTab)),i.xp6(1),i.Q6J("ngIf",1===r.selectedTab),i.xp6(3),i.hij("(",i.xi3(12,7,null==r.shopProducts?null:r.shopProducts.length,"1.0-2"),")"),i.xp6(2),i.Q6J("ngIf",r.productDetail))},directives:[f.O5,f.tP,f.mk,Ln,C,Qo,_t,f.sg,Qs,$j],pipes:[f.JJ,f.uU],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:coral}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const FY=["productSearchInput"];function BY(n,e){1&n&&i.GkF(0)}function UY(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"img",38),i.BQk()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.Q6J("src",t.imageUrl,i.LSH)}}function jY(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"commons.prices")))}function VY(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"commons.price")))}const HY=function(n){return{productRange:n}};function GY(n,e){if(1&n&&(i.ynx(0),i.GkF(1,42),i.BQk()),2&n){const t=i.oxw(2).$implicit,r=i.oxw(3),o=i.MAs(27);i.xp6(1),i.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",i.VKq(2,HY,r.getProductPriceRange(t)))}}function $Y(n,e){if(1&n&&(i.TgZ(0,"div",39)(1,"div",40)(2,"span",41),i._uU(3),i.ALo(4,"number"),i.qZA(),i.YNc(5,jY,3,3,"span",37),i.YNc(6,VY,3,3,"span",37),i.qZA(),i.YNc(7,GY,2,4,"ng-container",37),i.qZA()),2&n){const t=i.oxw().$implicit,r=i.oxw(3);i.xp6(3),i.Oqu(i.xi3(4,4,r.getProductPrices(t),"1.0-2")),i.xp6(2),i.Q6J("ngIf",r.getProductPrices(t)>1),i.xp6(1),i.Q6J("ngIf",1===r.getProductPrices(t)),i.xp6(1),i.Q6J("ngIf",r.productHasPrices(t))}}function qY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"span",43),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().$implicit;return i.oxw(3).doRemove(o.barcode)}),i.qZA(),i.BQk()}}function WY(n,e){if(1&n&&(i.TgZ(0,"span",46),i._uU(1),i.ALo(2,"number"),i.qZA()),2&n){const t=i.oxw(2).$implicit,r=i.oxw(3);i.xp6(1),i.Oqu(i.xi3(2,1,r.productItemsInCart(t),"1.0-2"))}}const zY=function(n){return{"with-items-in-cart":n}};function ZY(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"span",44),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().$implicit;return i.oxw(3).addToCart(o)}),i.qZA(),i.YNc(2,WY,3,4,"span",45),i.BQk()}if(2&n){const t=i.oxw().$implicit,r=i.oxw(3);i.xp6(1),i.Q6J("ngClass",i.VKq(2,zY,r.productItemsInCart(t)>0)),i.xp6(1),i.Q6J("ngIf",r.productItemsInCart(t)>0)}}const KY=function(n,e){return{far:n,fas:e}};function YY(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li",27)(1,"div",28)(2,"div",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doEditProduct(s)}),i.YNc(3,UY,2,1,"ng-container",19),i.qZA(),i.TgZ(4,"div",30),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doEditProduct(s)}),i.TgZ(5,"div",31)(6,"a",32),i._uU(7),i.qZA()(),i.TgZ(8,"div",33),i._uU(9),i.qZA(),i.YNc(10,$Y,8,7,"div",34),i.qZA(),i.TgZ(11,"div",35)(12,"span",36),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doToggleFavourite(s.barcode)}),i.qZA(),i.YNc(13,qY,2,0,"ng-container",37),i.YNc(14,ZY,3,4,"ng-container",37),i.qZA()()()}if(2&n){const t=e.$implicit,r=i.oxw(3),o=i.MAs(31);i.Q6J("hidden",r.onlyFavourites&&!t.favourite||!r.matchesFilter(t)),i.xp6(3),i.Q6J("ngIf",t.imageUrl)("ngIfElse",o),i.xp6(4),i.Oqu(t.name),i.xp6(2),i.hij(" ",t.brand," "),i.xp6(1),i.Q6J("ngIf",r.getProductPrices(t)>0),i.xp6(2),i.Q6J("ngClass",i.WLB(9,KY,!t.favourite,t.favourite)),i.xp6(1),i.Q6J("ngIf",r.canRemoveProduct(t)),i.xp6(1),i.Q6J("ngIf",r.productHasPrices(t))}}function JY(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"ul",25),i.YNc(3,YY,15,12,"li",26),i.qZA()(),i.BQk()),2&n){const t=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",t.products)}}function QY(n,e){if(1&n&&(i.ynx(0),i.YNc(1,JY,4,1,"ng-container",19),i.BQk()),2&n){const t=i.oxw(),r=i.MAs(29);i.xp6(1),i.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",r)}}function XY(n,e){if(1&n&&(i.ynx(0),i._UZ(1,"i",48),i.TgZ(2,"div",49),i._uU(3),i.ALo(4,"number"),i.ALo(5,"number"),i.qZA(),i.BQk()),2&n){const t=i.oxw().productRange;i.xp6(3),i.AsE(" ",i.xi3(4,2,t.min,"1.0-2")," - ",i.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function eJ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",50),i._uU(2),i.ALo(3,"number"),i.qZA(),i.BQk()),2&n){const t=i.oxw().productRange;i.xp6(2),i.hij("",i.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function tJ(n,e){if(1&n&&(i.TgZ(0,"div",47),i.YNc(1,XY,6,8,"ng-container",37),i.YNc(2,eJ,4,4,"ng-container",37),i.qZA()),2&n){const t=e.productRange;i.xp6(1),i.Q6J("ngIf",t.max!==t.min),i.xp6(1),i.Q6J("ngIf",t.max===t.min)}}function nJ(n,e){1&n&&(i.TgZ(0,"small",54),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"products.noProductAdded")))}function rJ(n,e){1&n&&(i.TgZ(0,"small",55),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"products.noFavouriteProduct")))}function iJ(n,e){if(1&n&&(i.TgZ(0,"div",51),i.YNc(1,nJ,3,3,"small",52),i.YNc(2,rJ,3,3,"small",53),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",0===t.products.length),i.xp6(1),i.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites)}}function oJ(n,e){1&n&&i._UZ(0,"i",56)}function sJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",57)(1,"span",58),i.NdJ("click",function(){return i.CHM(t),i.oxw().exit()}),i._UZ(2,"i",59),i.TgZ(3,"span",60),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"span",61),i._uU(7,"/"),i.qZA(),i.TgZ(8,"span",62),i._uU(9),i.ALo(10,"translate"),i.qZA()()}2&n&&(i.xp6(4),i.Oqu(i.lcZ(5,2,"breadcrumb.home")),i.xp6(5),i.Oqu(i.lcZ(10,4,"breadcrumb.products")))}function aJ(n,e){1&n&&(i.TgZ(0,"div",63),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"commons.loading")," "))}let cJ=(()=>{class n{constructor(t,r,o,s,l,h){this.router=t,this.productService=r,this.shopProductService=o,this.loginService=s,this.shoppingCartService=l,this.spinner=h,this.STORED_SEARCH_KEY="PS_PRODUCTS_SEARCH_TEXT",this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const r=this.products.find(o=>o.barcode===t);r.favourite=!r.favourite,this.productService.toggleFavourite(r).subscribe(()=>{})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t).subscribe(()=>{this.shopProductService.removeProductShopProducts(t).subscribe(()=>{})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(t){let r=[];return this.shopProductService._shopsProducts.filter(o=>o.productBarcode===t.barcode).forEach(o=>{r.indexOf(o.shopId)<0&&r.push(o.shopId)}),r.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var r,o;let s=0,l=!1;return(null===(o=null===(r=this.shoppingCartService)||void 0===r?void 0:r._cartConfig)||void 0===o?void 0:o.items)&&this.shoppingCartService._cartConfig.items.forEach(h=>{l||h.productsUnits.forEach(m=>{m.product.barcode===t.barcode&&m.units&&(l=!0,s+=m.units)})}),s}canRemoveProduct(t){return this.loggedUser.isAdmin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.spinner.show(),this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.onlyFavourites=this.productService.getFavourites().length>0,this.productService.products.subscribe(t=>{this.products=t.sort((r,o)=>r.name>o.name?1:-1),setTimeout(()=>{this.spinner.hide()},500)},()=>{this.spinner.hide()}),this.productService.getProducts().subscribe(t=>{setTimeout(()=>{this.spinner.hide()},500)})}ngAfterViewInit(){Yr(this.productSearchInput.nativeElement,"keyup").pipe((0,xr.h)(Boolean),aw(300),Is(),(0,oi.b)(t=>{var r;this.setSearchText(null===(r=null==t?void 0:t.target)||void 0===r?void 0:r.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(Ts.M),i.Y36(ea.s),i.Y36(Fo.r),i.Y36($g),i.Y36(ta))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-product-search"]],viewQuery:function(t,r){if(1&t&&i.Gf(FY,5),2&t){let o;i.iGM(o=i.CRH())&&(r.productSearchInput=o.first)}},decls:36,vars:15,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[1,"d-flex","w-100","mb-3"],[1,"btn","btn-lg","btn-dark","w-100","m-1","py-3",3,"click"],[1,"d-flex","align-items-center","justify-content-center"],[1,"fas","fa-barcode","me-3"],[1,"text-start"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i.ynx(1),i.TgZ(2,"div",1)(3,"div",2),i.YNc(4,BY,1,0,"ng-container",3),i.qZA(),i.TgZ(5,"div",4)(6,"div",5),i._UZ(7,"input",6,7),i.ALo(9,"translate"),i.TgZ(10,"span",8),i._UZ(11,"i",9),i.qZA()(),i.TgZ(12,"div",10)(13,"input",11),i.NdJ("ngModelChange",function(s){return r.onlyFavourites=s}),i.qZA(),i.TgZ(14,"label",12),i._uU(15),i.ALo(16,"translate"),i.qZA()()()(),i.BQk(),i.qZA(),i.TgZ(17,"div",13)(18,"div",14)(19,"button",15),i.NdJ("click",function(){return r.doCreateProduct()}),i.TgZ(20,"div",16),i._UZ(21,"i",17),i.TgZ(22,"div",18),i._uU(23),i.ALo(24,"translate"),i.qZA()()()(),i.YNc(25,QY,2,2,"ng-container",19),i.qZA(),i.YNc(26,tJ,3,2,"ng-template",null,20,i.W1O),i.YNc(28,iJ,3,2,"ng-template",null,21,i.W1O),i.YNc(30,oJ,1,0,"ng-template",null,22,i.W1O),i.YNc(32,sJ,11,6,"ng-template",null,23,i.W1O),i.YNc(34,aJ,3,3,"ng-template",null,24,i.W1O)),2&t){const o=i.MAs(33),s=i.MAs(35);i.xp6(4),i.Q6J("ngTemplateOutlet",o),i.xp6(3),i.s9C("placeholder",i.lcZ(9,9,"products.searchPlaceholder")),i.Q6J("readonly",(null==r.products?null:r.products.length)<1)("value",r.searchText),i.xp6(6),i.Q6J("ngModel",r.onlyFavourites),i.xp6(2),i.Oqu(i.lcZ(16,11,"products.onlyFavouriteProducts")),i.xp6(8),i.Oqu(i.lcZ(24,13,"products.scan")),i.xp6(2),i.Q6J("ngIf",r.products)("ngIfElse",s)}},directives:[f.tP,_t,C,Qo,f.O5,f.sg,f.mk],pipes:[na,f.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),n})();function uJ(n,e){1&n&&i.GkF(0)}function lJ(n,e){1&n&&i._UZ(0,"div",17)}function dJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"tr")(1,"td"),i._UZ(2,"i",21),i.qZA(),i.TgZ(3,"td",22),i._uU(4),i.TgZ(5,"span"),i._uU(6),i.ALo(7,"number"),i.qZA()(),i.TgZ(8,"td")(9,"div",23)(10,"span",24),i._uU(11),i.ALo(12,"number"),i.qZA(),i.TgZ(13,"i",25),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(5).removeItem(s.product)}),i.qZA()()()()}if(2&n){const t=e.$implicit;i.xp6(4),i.hij(" ",t.product.name," "),i.xp6(2),i.hij(" (x",i.xi3(7,3,t.units,"1.0-2"),")"),i.xp6(5),i.hij("",i.xi3(12,6,t.minPrice,"1.0-2")," \u20ac")}}function hJ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",18),i._UZ(2,"img",19),i.TgZ(3,"div",20)(4,"table")(5,"tbody"),i.YNc(6,dJ,14,9,"tr",16),i.qZA()()()(),i.BQk()),2&n){const t=i.oxw().$implicit;i.xp6(2),i.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,i.LSH),i.xp6(4),i.Q6J("ngForOf",t.productsUnits)}}function fJ(n,e){if(1&n&&(i.ynx(0),i.YNc(1,hJ,7,2,"ng-container",2),i.BQk()),2&n){const t=e.$implicit;i.xp6(1),i.Q6J("ngIf",t.shop)}}function pJ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",7)(2,"h4",8),i._uU(3,"Cistella de compra optimitzada"),i.qZA(),i.TgZ(4,"div",9),i._UZ(5,"i",10),i.TgZ(6,"small",11),i._uU(7,"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi."),i.qZA()(),i.YNc(8,lJ,1,0,"div",12),i.TgZ(9,"div",13)(10,"button",14),i.NdJ("click",function(){return i.CHM(t),i.oxw(2).removeCart()}),i.TgZ(11,"span"),i._UZ(12,"i",15),i._uU(13,"Buidar la cistella"),i.qZA()()(),i.YNc(14,fJ,2,1,"ng-container",16),i.qZA(),i.BQk()}if(2&n){const t=i.oxw(2),r=i.MAs(4);i.xp6(8),i.Q6J("ngTemplateOutlet",r),i.xp6(6),i.Q6J("ngForOf",t.cartConfig.items)}}function gJ(n,e){if(1&n&&(i.ynx(0),i.YNc(1,pJ,15,2,"ng-container",6),i.BQk()),2&n){const t=i.oxw(),r=i.MAs(6);i.xp6(1),i.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",r)}}const mJ=function(n,e){return{"bg-success":n,"text-success":e}};function _J(n,e){if(1&n&&(i.TgZ(0,"div",26),i._uU(1," Total optimitzat: "),i.TgZ(2,"span",27),i._uU(3),i.ALo(4,"number"),i.qZA()(),i.TgZ(5,"div",26),i._uU(6," Total sense optimitzar: "),i.TgZ(7,"span",27),i._uU(8),i.ALo(9,"number"),i.qZA()(),i.TgZ(10,"div",28),i._uU(11," Total estalviat: "),i.TgZ(12,"span",29),i._uU(13),i.ALo(14,"number"),i.qZA()()),2&n){const t=i.oxw();i.xp6(3),i.hij("",i.xi3(4,4,t.getAmountLow(),"1.0-2")," \u20ac"),i.xp6(5),i.hij("",i.xi3(9,7,t.getAmountHigh(),"1.0-2")," \u20ac"),i.xp6(4),i.Q6J("ngClass",i.WLB(13,mJ,t.getAmountDiff()>0,t.getAmountDiff()>0)),i.xp6(1),i.hij("",i.xi3(14,10,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.0-2")," \u20ac")}}function yJ(n,e){1&n&&(i.TgZ(0,"div",30)(1,"div",31)(2,"small"),i._uU(3,"No hi ha productes a la cistella de la compra"),i.qZA()()())}function vJ(n,e){1&n&&(i.TgZ(0,"div",32)(1,"span",33)(2,"a",34),i._UZ(3,"i",35),i.TgZ(4,"span",36),i._uU(5,"Inici"),i.qZA()()(),i.TgZ(6,"span",37),i._uU(7,"/"),i.qZA(),i.TgZ(8,"span",38),i._uU(9,"Cistella de compra"),i.qZA()())}let bJ=(()=>{class n{constructor(t,r){this.shoppingCartService=t,this.spinner=r,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(r=>{this.amountLow+=r.units*r.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(r=>{this.amountHigh+=r.units*r.maxPrice})})}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm("Es buidar\xe0 tota la cistella de la compra. Continuar?")&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return n.\u0275fac=function(t){return new(t||n)(i.Y36($g),i.Y36(ta))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"ps-2","mb-2","text-start"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-3","mb-4"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-2"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,uJ,1,0,"ng-container",1),i.qZA(),i.YNc(2,gJ,2,2,"ng-container",2),i.YNc(3,_J,15,16,"ng-template",null,3,i.W1O),i.YNc(5,yJ,4,0,"ng-template",null,4,i.W1O),i.YNc(7,vJ,10,0,"ng-template",null,5,i.W1O)),2&t){const o=i.MAs(8);i.xp6(1),i.Q6J("ngTemplateOutlet",o),i.xp6(1),i.Q6J("ngIf",r.cartConfig)}},directives:[f.tP,f.O5,f.sg,f.mk,Qs],pipes:[f.JJ],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}"]}),n})();var cw,EJ=new Uint8Array(16);function CJ(){if(!cw&&!(cw="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cw(EJ)}const wJ=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,DJ=function TJ(n){return"string"==typeof n&&wJ.test(n)};for(var no=[],pk=0;pk<256;++pk)no.push((pk+256).toString(16).substr(1));const AJ=function IJ(n,e,t){var r=(n=n||{}).random||(n.rng||CJ)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){t=t||0;for(var o=0;o<16;++o)e[t+o]=r[o];return e}return function SJ(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(no[n[e+0]]+no[n[e+1]]+no[n[e+2]]+no[n[e+3]]+"-"+no[n[e+4]]+no[n[e+5]]+"-"+no[n[e+6]]+no[n[e+7]]+"-"+no[n[e+8]]+no[n[e+9]]+"-"+no[n[e+10]]+no[n[e+11]]+no[n[e+12]]+no[n[e+13]]+no[n[e+14]]+no[n[e+15]]).toLowerCase();if(!DJ(t))throw TypeError("Stringified UUID is invalid");return t}(r)};function OJ(n,e){1&n&&i.GkF(0)}function PJ(n,e){if(1&n&&(i.ynx(0),i.YNc(1,OJ,1,0,"ng-container",3),i.BQk()),2&n){i.oxw();const t=i.MAs(4);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function MJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"input",14),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(2).shopDetail.name=o}),i.qZA()}if(2&n){const t=i.oxw(2);i.Q6J("ngModel",t.shopDetail.name)}}const NJ=function(n){return{disabled:n}};function RJ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",4)(2,"div",5)(3,"label",6),i._uU(4,"Nom"),i.qZA(),i.YNc(5,MJ,1,1,"input",7),i.qZA(),i.TgZ(6,"div",8)(7,"input",9),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw().shopDetail.favourite=o}),i.qZA(),i.TgZ(8,"label",10),i._uU(9,"Preferida"),i.qZA()()(),i.TgZ(10,"div",11)(11,"button",12),i.NdJ("click",function(){return i.CHM(t),i.oxw().createShop()}),i._uU(12," Desar "),i.qZA(),i.TgZ(13,"button",13),i._uU(14," Tancar "),i.qZA()(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(5),i.Q6J("ngIf",!t.shopDetail.default),i.xp6(2),i.Q6J("ngModel",t.shopDetail.favourite),i.xp6(4),i.Q6J("ngClass",i.VKq(4,NJ,t.shopDetail.name.length<1)),i.xp6(2),i.Q6J("routerLink","../search-shops")}}function kJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",15)(1,"span",16),i.NdJ("click",function(){return i.CHM(t),i.oxw().exit()}),i._UZ(2,"i",17),i.TgZ(3,"span",18),i._uU(4,"Inici"),i.qZA()(),i.TgZ(5,"span",19),i._uU(6,"/"),i.qZA(),i.TgZ(7,"span",20)(8,"span",18),i._uU(9,"Botigues"),i.qZA()(),i.TgZ(10,"span",19),i._uU(11,"/"),i.qZA(),i.TgZ(12,"span",21),i._uU(13,"Nova botiga"),i.qZA()()}2&n&&(i.xp6(7),i.Q6J("routerLink","search-shops"))}let LJ=(()=>{class n{constructor(t,r){this.router=t,this.shopService=r,this.shopDetail={id:AJ(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(r=>r.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&r.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.getShops().subscribe(t=>{this.shops=t})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(Xs.d))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,PJ,2,1,"ng-container",1),i.qZA(),i.YNc(2,RJ,15,6,"ng-container",1),i.YNc(3,kJ,14,1,"ng-template",null,2,i.W1O)),2&t&&(i.xp6(1),i.Q6J("ngIf",r.shopDetail),i.xp6(1),i.Q6J("ngIf",r.shopDetail))},directives:[f.O5,f.tP,Ln,C,Qo,_t,f.mk,ws],styles:[""]}),n})();function FJ(n,e){1&n&&i.GkF(0)}function BJ(n,e){if(1&n&&(i.ynx(0),i.YNc(1,FJ,1,0,"ng-container",9),i.BQk()),2&n){i.oxw();const t=i.MAs(18);i.xp6(1),i.Q6J("ngTemplateOutlet",t)}}function UJ(n,e){1&n&&i._UZ(0,"i",10)}function jJ(n,e){1&n&&i._UZ(0,"i",10)}function VJ(n,e){if(1&n&&(i.TgZ(0,"div",25),i._UZ(1,"img",26),i.qZA()),2&n){const t=i.oxw(3);i.xp6(1),i.Q6J("src",t.shopDetail.imageUrl,i.LSH)}}function HJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"input",27),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).shopDetail.name=o}),i.qZA()}if(2&n){const t=i.oxw(3);i.Q6J("ngModel",t.shopDetail.name)}}function GJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"input",28),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(3).shopDetail.name=o}),i.qZA()}if(2&n){const t=i.oxw(3);i.Q6J("ngModel",t.shopDetail.name)}}const $J=function(n){return{"pb-2":n}};function qJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",15)(1,"div",16),i.YNc(2,VJ,2,1,"div",17),i.TgZ(3,"div",18)(4,"label",19),i._uU(5,"Nom"),i.qZA(),i.YNc(6,HJ,1,1,"input",20),i.YNc(7,GJ,1,1,"input",21),i.qZA(),i.TgZ(8,"div",22)(9,"input",23),i.NdJ("ngModelChange",function(o){return i.CHM(t),i.oxw(2).shopDetail.favourite=o}),i.qZA(),i.TgZ(10,"label",24),i._uU(11,"Preferida"),i.qZA()()()()}if(2&n){const t=i.oxw(2);i.Q6J("ngClass",i.VKq(5,$J,null==t.shopDetail?null:t.shopDetail.createdBy)),i.xp6(2),i.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),i.xp6(4),i.Q6J("ngIf",t.canEdit()),i.xp6(1),i.Q6J("ngIf",!t.canEdit()),i.xp6(2),i.Q6J("ngModel",t.shopDetail.favourite)}}function WJ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",29)(2,"span",30),i._uU(3,"Creat per:"),i.qZA(),i.TgZ(4,"span",31),i._uU(5),i.qZA()(),i.BQk()),2&n){const t=i.oxw(2);i.xp6(5),i.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const gk=function(n){return{disabled:n}};function zJ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.YNc(1,qJ,12,7,"div",11),i.YNc(2,WJ,6,1,"ng-container",2),i.TgZ(3,"div",12)(4,"button",13),i.NdJ("click",function(){return i.CHM(t),i.oxw().updateShop()}),i._uU(5," Desa "),i.qZA(),i.TgZ(6,"button",14),i._uU(7," Tanca "),i.qZA()(),i.BQk()}if(2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",t.shopDetail),i.xp6(1),i.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),i.xp6(2),i.Q6J("ngClass",i.VKq(4,gk,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),i.xp6(2),i.Q6J("routerLink","../../search-shops")}}function ZJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"span",46),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().$implicit;return i.oxw(3).removeShopProduct(o)}),i.qZA()}}function KJ(n,e){if(1&n&&(i.TgZ(0,"span",53),i._uU(1),i.qZA()),2&n){const t=i.oxw().$implicit;i.xp6(1),i.hij("(",t.createdBy.username,")")}}const YJ=function(n){return{"fw-bold":n}};function JJ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),i._uU(4),i.ALo(5,"date"),i.qZA(),i.YNc(6,KJ,2,1,"span",51),i.qZA(),i.TgZ(7,"div")(8,"span"),i._uU(9),i.ALo(10,"number"),i.qZA(),i.TgZ(11,"span",52),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(5).removeShopProduct(s)}),i.qZA()()()()}if(2&n){const t=e.$implicit,r=e.index,o=i.oxw(5);i.xp6(1),i.Q6J("ngClass",i.VKq(11,YJ,0===r)),i.xp6(3),i.hij(" ",i.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),i.xp6(2),i.Q6J("ngIf",o.loggedUser.isAdmin&&t.createdBy),i.xp6(3),i.hij("",i.xi3(10,8,t.price,"1.2-2")," \u20ac"),i.xp6(2),i.Q6J("ngClass",i.VKq(13,gk,!o.canRemoveShopProduct(t)))}}function QJ(n,e){if(1&n&&(i.TgZ(0,"li",47)(1,"ul",48),i.YNc(2,JJ,12,15,"li",37),i.qZA()()),2&n){const t=i.oxw(4);i.xp6(2),i.Q6J("ngForOf",t.historyShopProductList)}}const XJ=function(n){return[n]};function eQ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"li",38)(2,"div",39),i._UZ(3,"img",40)(4,"a",41),i.TgZ(5,"div",42)(6,"span"),i.YNc(7,ZJ,1,0,"span",43),i.TgZ(8,"i",44),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).showHistory(s)}),i.qZA(),i._uU(9),i.ALo(10,"number"),i.qZA()()()(),i.YNc(11,QJ,3,1,"li",45),i.BQk()}if(2&n){const t=e.$implicit,r=i.oxw(3);i.xp6(3),i.Q6J("src",r.getProductImage(t.productBarcode),i.LSH),i.xp6(1),i.Q6J("routerLink",i.VKq(10,XJ,"/edit-product/"+t.productBarcode))("innerHtml",r.getProductName(t.productBarcode),i.oJD),i.xp6(3),i.Q6J("ngIf",r.canRemoveShopProduct(t)),i.xp6(1),i.Q6J("ngClass",i.VKq(12,gk,!r.hasHistory(t))),i.xp6(1),i.hij(" ",i.xi3(10,7,t.price,"1.2-2")," \u20ac"),i.xp6(2),i.Q6J("ngIf",(null==r.historyShopProduct?null:r.historyShopProduct.shopId)===t.shopId&&(null==r.historyShopProduct?null:r.historyShopProduct.productBarcode)===t.productBarcode)}}function tQ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"ul",36),i.YNc(2,eQ,12,14,"ng-container",37),i.qZA(),i.BQk()),2&n){const t=i.oxw(2);i.xp6(2),i.Q6J("ngForOf",t.shopProducts)}}function nQ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",32)(2,"div",33)(3,"button",34),i._uU(4," Preus productes "),i.TgZ(5,"small",6),i._uU(6),i.ALo(7,"number"),i.qZA()()(),i.ynx(8),i.YNc(9,tQ,3,1,"ng-container",35),i.BQk(),i.qZA(),i.BQk()),2&n){const t=i.oxw(),r=i.MAs(16);i.xp6(6),i.hij("(",i.xi3(7,3,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),i.xp6(3),i.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",r)}}function rQ(n,e){1&n&&(i.TgZ(0,"div",54)(1,"small",55),i._uU(2,"Sense preus de productes"),i.qZA()())}function iQ(n,e){1&n&&i._UZ(0,"app-breadcrumbs")}const Wj=function(n){return{active:n}};let oQ=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.route=r,this.shopService=o,this.shopsProductsService=s,this.loginService=l,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(r=>r.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&r.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(r=>r.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.isAdmin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(r=>{this.historyShopProductList=r.filter(o=>o.productBarcode===t.productBarcode&&o.shopId===this.shopDetail.id).sort((o,s)=>o.updateDate<s.updateDate?1:-1)})}getProductName(t){const r=this.products.find(o=>o.barcode===t);return"<span>"+r.name+'</span><span class="brand">'+r.brand+"</span>"}getProductImage(t){return this.products.find(o=>o.barcode===t).imageUrl||By.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const r=[];(t=t.sort((o,s)=>o.updateDate<s.updateDate?1:-1)).forEach(o=>{-1===r.indexOf(o.productBarcode)&&r.push(o.productBarcode)}),r.forEach(o=>{this.shopProducts.push(t.find(s=>o===s.productBarcode))}),this.shopProducts.sort((o,s)=>this.getProductName(o.productBarcode)>this.getProductName(s.productBarcode)?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(r=>{this.shopProducts=r,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.isAdmin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(r=>r.productBarcode===t.productBarcode&&r.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shopService.getShops().subscribe(r=>{this.shops=r,this.shopDetail=r.find(o=>o.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(r=>{this.configShopsProducts()})}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(wa),i.Y36(Xs.d),i.Y36(ea.s),i.Y36(Fo.r))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shop-edit"]],decls:19,vars:15,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user ms-2",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","ms-2"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0)(1,"div",1),i.YNc(2,BJ,2,1,"ng-container",2),i.TgZ(3,"div",3)(4,"button",4),i.NdJ("click",function(){return r.selectedTab=0}),i.YNc(5,UJ,1,0,"i",5),i._uU(6," Detall "),i.qZA(),i.TgZ(7,"button",4),i.NdJ("click",function(){return r.selectedTab=1}),i.YNc(8,jJ,1,0,"i",5),i._uU(9," Preus "),i.TgZ(10,"small",6),i._uU(11),i.ALo(12,"number"),i.qZA()()()(),i.YNc(13,zJ,8,6,"ng-container",2),i.YNc(14,nQ,10,6,"ng-container",2),i.qZA(),i.YNc(15,rQ,3,0,"ng-template",null,7,i.W1O),i.YNc(17,iQ,1,0,"ng-template",null,8,i.W1O)),2&t&&(i.xp6(2),i.Q6J("ngIf",r.shopDetail),i.xp6(2),i.Q6J("ngClass",i.VKq(11,Wj,0===r.selectedTab)),i.xp6(1),i.Q6J("ngIf",0===r.selectedTab),i.xp6(2),i.Q6J("ngClass",i.VKq(13,Wj,1===r.selectedTab)),i.xp6(1),i.Q6J("ngIf",1===r.selectedTab),i.xp6(3),i.hij("(",i.xi3(12,8,null==r.shopProducts?null:r.shopProducts.length,"1.0-2"),")"),i.xp6(2),i.Q6J("ngIf",0===r.selectedTab),i.xp6(1),i.Q6J("ngIf",1===r.selectedTab))},directives:[f.O5,f.tP,f.mk,Ln,C,Qo,_t,ws,f.sg,Qs,$j],pipes:[f.JJ,f.uU],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:coral}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),n})();const sQ=["shopSearchInput"];function aQ(n,e){1&n&&i.GkF(0)}function cQ(n,e){if(1&n&&i._UZ(0,"img",30),2&n){const t=i.oxw().$implicit;i.Q6J("src",t.imageUrl,i.LSH)}}function uQ(n,e){1&n&&i._UZ(0,"i",31)}function lQ(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"commons.prices")))}function dQ(n,e){1&n&&(i.TgZ(0,"span"),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"commons.price")))}function hQ(n,e){if(1&n&&(i.TgZ(0,"div",32)(1,"span",33),i._uU(2),i.ALo(3,"number"),i.qZA(),i.YNc(4,lQ,3,3,"span",28),i.YNc(5,dQ,3,3,"span",28),i.qZA()),2&n){const t=i.oxw().$implicit,r=i.oxw(3);i.xp6(2),i.Oqu(i.xi3(3,3,r.getShopPrices(t),"1.0-2")),i.xp6(2),i.Q6J("ngIf",r.getShopPrices(t)>1),i.xp6(1),i.Q6J("ngIf",1===r.getShopPrices(t))}}function fQ(n,e){if(1&n){const t=i.EpF();i.ynx(0),i.TgZ(1,"div",34)(2,"span",35),i.NdJ("click",function(){i.CHM(t);const o=i.oxw().$implicit;return i.oxw(3).doRemove(o.id)}),i.qZA()(),i.BQk()}}const pQ=function(n,e,t){return{far:n,fas:e,"ms-auto":t}};function gQ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"li",20)(1,"div",21)(2,"div",22),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doEditShop(s)}),i.YNc(3,cQ,1,1,"img",23),i.YNc(4,uQ,1,0,"i",24),i.qZA(),i.ynx(5),i.TgZ(6,"div",25),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doEditShop(s)}),i.TgZ(7,"a",26),i._uU(8),i.qZA(),i.YNc(9,hQ,6,6,"div",27),i.qZA(),i.YNc(10,fQ,3,0,"ng-container",28),i.TgZ(11,"span",29),i.NdJ("click",function(){const s=i.CHM(t).$implicit;return i.oxw(3).doToggleFavourite(s.id)}),i.qZA(),i.BQk(),i.qZA()()}if(2&n){const t=e.$implicit,r=i.oxw(3);i.Q6J("hidden",r.onlyFavourites&&!t.favourite||!r.matchesFilter(t)),i.xp6(3),i.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),i.xp6(1),i.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),i.xp6(4),i.Oqu(t.name),i.xp6(1),i.Q6J("ngIf",r.getShopPrices(t)>0),i.xp6(1),i.Q6J("ngIf",r.canRemoveShop(t)),i.xp6(1),i.Q6J("ngClass",i.kEZ(7,pQ,!t.favourite,t.favourite,!r.canRemoveShop(t)))}}function mQ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",1)(2,"ul",18),i.YNc(3,gQ,12,11,"li",19),i.qZA()(),i.BQk()),2&n){const t=i.oxw(2);i.xp6(3),i.Q6J("ngForOf",t.shops)}}function _Q(n,e){if(1&n&&(i.ynx(0),i.YNc(1,mQ,4,1,"ng-container",14),i.BQk()),2&n){const t=i.oxw(),r=i.MAs(20);i.xp6(1),i.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",r)}}function yQ(n,e){1&n&&(i.TgZ(0,"small",38),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"shops.noShopAdded")))}function vQ(n,e){1&n&&(i.TgZ(0,"small",38),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"shops.noFavouriteShop")))}function bQ(n,e){if(1&n&&(i.TgZ(0,"div",36),i.YNc(1,yQ,3,3,"small",37),i.YNc(2,vQ,3,3,"small",37),i.qZA()),2&n){const t=i.oxw();i.xp6(1),i.Q6J("ngIf",0===t.shops.length),i.xp6(1),i.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites)}}function EQ(n,e){if(1&n){const t=i.EpF();i.TgZ(0,"div",39)(1,"span",40),i.NdJ("click",function(){return i.CHM(t),i.oxw().exit()}),i._UZ(2,"i",41),i.TgZ(3,"span",42),i._uU(4),i.ALo(5,"translate"),i.qZA()(),i.TgZ(6,"span",43),i._uU(7,"/"),i.qZA(),i.TgZ(8,"span",44),i._uU(9),i.ALo(10,"translate"),i.qZA()()}2&n&&(i.xp6(4),i.Oqu(i.lcZ(5,2,"breadcrumb.home")),i.xp6(5),i.Oqu(i.lcZ(10,4,"breadcrumb.shops")))}function CQ(n,e){1&n&&(i.TgZ(0,"div",45),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.hij(" ",i.lcZ(2,1,"commons.loading")," "))}let wQ=(()=>{class n{constructor(t,r,o,s,l){this.router=t,this.shopService=r,this.shopProductService=o,this.loginService=s,this.spinner=l,this.STORED_SEARCH_KEY="PS_SHOPS_SEARCH_TEXT",this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const r=this.shops.find(o=>o.id===t);r.favourite=!r.favourite,this.shopService.toggleFavourite(r).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.isAdmin||t.createdBy&&this.loggedUser.email===t.createdBy.email&&this.loggedUser.username===t.createdBy.username}getShopPrices(t){let r=[];return this.shopProductService._shopsProducts.filter(o=>o.shopId===t.id).forEach(o=>{r.indexOf(o.productBarcode)<0&&r.push(o.productBarcode)}),r.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.shopService.getFavourites().length>0,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((r,o)=>r.name>o.name?1:-1),setTimeout(()=>{this.spinner.hide()},500)},()=>{this.spinner.hide()}),this.shopService.getShops().subscribe(t=>{setTimeout(()=>{this.spinner.hide()},500)})}ngAfterViewInit(){Yr(this.shopSearchInput.nativeElement,"keyup").pipe((0,xr.h)(Boolean),aw(300),Is(),(0,oi.b)(t=>{var r;this.setSearchText(null===(r=null==t?void 0:t.target)||void 0===r?void 0:r.value)})).subscribe()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(mr),i.Y36(Xs.d),i.Y36(ea.s),i.Y36(Fo.r),i.Y36(ta))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-shop-search"]],viewQuery:function(t,r){if(1&t&&i.Gf(sQ,5),2&t){let o;i.iGM(o=i.CRH())&&(r.shopSearchInput=o.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i.ynx(1),i.TgZ(2,"div",1)(3,"div",2),i.YNc(4,aQ,1,0,"ng-container",3),i.qZA(),i.TgZ(5,"div",4)(6,"div",5),i._UZ(7,"input",6,7),i.ALo(9,"translate"),i.TgZ(10,"span",8),i._UZ(11,"i",9),i.qZA()(),i.TgZ(12,"div",10)(13,"input",11),i.NdJ("ngModelChange",function(s){return r.onlyFavourites=s}),i.qZA(),i.TgZ(14,"label",12),i._uU(15),i.ALo(16,"translate"),i.qZA()()()(),i.BQk(),i.qZA(),i.TgZ(17,"div",13),i.YNc(18,_Q,2,2,"ng-container",14),i.qZA(),i.YNc(19,bQ,3,2,"ng-template",null,15,i.W1O),i.YNc(21,EQ,11,6,"ng-template",null,16,i.W1O),i.YNc(23,CQ,3,3,"ng-template",null,17,i.W1O)),2&t){const o=i.MAs(22),s=i.MAs(24);i.xp6(4),i.Q6J("ngTemplateOutlet",o),i.xp6(3),i.s9C("placeholder",i.lcZ(9,8,"shops.searchPlaceholder")),i.Q6J("readonly",(null==r.shops?null:r.shops.length)<1)("value",r.searchText),i.xp6(6),i.Q6J("ngModel",r.onlyFavourites),i.xp6(2),i.Oqu(i.lcZ(16,10,"shops.onlyFavouriteShops")),i.xp6(3),i.Q6J("ngIf",r.shops)("ngIfElse",s)}},directives:[f.tP,_t,C,Qo,f.O5,f.sg,f.mk],pipes:[na,f.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),n})();function TQ(n,e){1&n&&i.GkF(0)}function DQ(n,e){if(1&n&&(i.ynx(0),i.TgZ(1,"div",5)(2,"div",6)(3,"div",7),i._UZ(4,"i",8)(5,"app-language-selector"),i.qZA(),i.TgZ(6,"div",9)(7,"label"),i._uU(8),i.ALo(9,"translate"),i.qZA(),i.TgZ(10,"span"),i._uU(11),i.qZA()(),i.TgZ(12,"div",10)(13,"label"),i._uU(14),i.ALo(15,"translate"),i.qZA(),i.TgZ(16,"span"),i._uU(17),i.qZA()(),i.TgZ(18,"div",10)(19,"label"),i._uU(20),i.ALo(21,"translate"),i.qZA(),i.TgZ(22,"span"),i._uU(23),i.qZA()(),i.TgZ(24,"div",10)(25,"label"),i._uU(26),i.ALo(27,"translate"),i.qZA(),i.TgZ(28,"span"),i._uU(29),i.ALo(30,"date"),i.qZA()()()(),i.BQk()),2&n){const t=i.oxw();i.xp6(8),i.Oqu(i.lcZ(9,8,"user.username")),i.xp6(3),i.Oqu(t.user.username),i.xp6(3),i.Oqu(i.lcZ(15,10,"user.email")),i.xp6(3),i.Oqu(t.user.email),i.xp6(3),i.Oqu(i.lcZ(21,12,"user.role")),i.xp6(3),i.Oqu(t.user.isAdmin?"Administrador":"Usuari"),i.xp6(3),i.Oqu(i.lcZ(27,14,"user.lastLogin")),i.xp6(3),i.Oqu(i.xi3(30,16,t.user.lastLogin,"medium"))}}function SQ(n,e){1&n&&(i.TgZ(0,"div",11),i._uU(1),i.ALo(2,"translate"),i.qZA()),2&n&&(i.xp6(1),i.Oqu(i.lcZ(2,1,"commons.noData")))}function xQ(n,e){if(1&n&&(i.TgZ(0,"div",12)(1,"span",13)(2,"a",14),i._UZ(3,"i",15),i.TgZ(4,"span",16),i._uU(5),i.ALo(6,"translate"),i.qZA()()(),i.TgZ(7,"span",17),i._uU(8,"/"),i.qZA(),i.TgZ(9,"span",18),i._uU(10),i.qZA()()),2&n){const t=i.oxw();i.xp6(5),i.Oqu(i.lcZ(6,2,"breadcrumb.home")),i.xp6(5),i.Oqu(null==t.user?null:t.user.username)}}let IQ=(()=>{class n{constructor(t,r){this.loginService=t,this.spinner=r}ngOnInit(){this.spinner.show(),this.loginService.user.subscribe(t=>{this.user=t,setTimeout(()=>{this.spinner.hide()},500)}),this.loginService.refreshUser()}}return n.\u0275fac=function(t){return new(t||n)(i.Y36(Fo.r),i.Y36(ta))},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],[1,"fas","fa-user"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","my-3"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,r){if(1&t&&(i.TgZ(0,"div",0),i.YNc(1,TQ,1,0,"ng-container",1),i.qZA(),i.YNc(2,DQ,31,19,"ng-container",2),i.YNc(3,SQ,3,3,"ng-template",null,3,i.W1O),i.YNc(5,xQ,11,4,"ng-template",null,4,i.W1O)),2&t){const o=i.MAs(4),s=i.MAs(6);i.xp6(1),i.Q6J("ngTemplateOutlet",s),i.xp6(1),i.Q6J("ngIf",r.user)("ngIfElse",o)}},directives:[f.tP,f.O5,Uj,Qs],pipes:[na,f.uU],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}"]}),n})();function AQ(n,e){1&n&&(i.ynx(0),i._UZ(1,"i",4),i.TgZ(2,"span"),i._uU(3,"No est\xe0s autenticat!"),i.qZA(),i.BQk())}const OQ=function(){return["../login"]},PQ=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:ZZ,canActivate:[cs]},{path:"user",component:IQ,canActivate:[cs]},{path:"login",component:cK},{path:"scan",component:cY,canActivate:[cs]},{path:"search-products",component:cJ,canActivate:[cs]},{path:"search-shops",component:wQ,canActivate:[cs]},{path:"statistics",component:Kb,canActivate:[cs]},{path:"edit-shop/:id",component:oQ,canActivate:[cs]},{path:"new-shop",component:LJ,canActivate:[cs]},{path:"edit-product/:barcode",component:LY},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:bJ,canActivate:[cs]},{path:"forbidden",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-forbidden"]],decls:5,vars:3,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[4,"ngIf"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i.YNc(1,AQ,4,0,"ng-container",1),i.TgZ(2,"button",2),i._UZ(3,"i",3),i._uU(4," Identificar-me "),i.qZA()()),2&t&&(i.xp6(1),i.Q6J("ngIf",!1),i.xp6(1),i.Q6J("routerLink",i.DdM(2,OQ)))},directives:[f.O5,ws],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()},{path:"**",component:(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=i.Xpm({type:n,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,r){1&t&&(i.TgZ(0,"div",0),i._UZ(1,"i",1),i.TgZ(2,"span"),i._uU(3,"P\xe0gina inexistent!"),i.qZA(),i.TgZ(4,"button",2),i._UZ(5,"i",3),i._uU(6," Anar a l'inici "),i.qZA()()),2&t&&(i.xp6(4),i.Q6J("routerLink",""))},directives:[ws],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),n})()}],zn=!1;function zj(n){return new i.vHH(3e3,zn)}function dX(){return"undefined"!=typeof window&&void 0!==window.document}function mk(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Gu(n){switch(n.length){case 0:return new Aa;case 1:return n[0];default:return new jh(n)}}function Zj(n,e,t,r,o={},s={}){const l=[],h=[];let m=-1,y=null;if(r.forEach(D=>{const P=D.offset,V=P==m,J=V&&y||{};Object.keys(D).forEach(ge=>{let xe=ge,Ze=D[ge];if("offset"!==ge)switch(xe=e.normalizePropertyName(xe,l),Ze){case"!":Ze=o[ge];break;case Ds:Ze=s[ge];break;default:Ze=e.normalizeStyleValue(ge,xe,Ze,l)}J[xe]=Ze}),V||h.push(J),y=J,m=P}),l.length)throw function eX(n){return new i.vHH(3502,zn)}();return h}function _k(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&yk(t,"start",n)));break;case"done":n.onDone(()=>r(t&&yk(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&yk(t,"destroy",n)))}}function yk(n,e,t){const r=t.totalTime,s=vk(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,null==r?n.totalTime:r,!!t.disabled),l=n._data;return null!=l&&(s._data=l),s}function vk(n,e,t,r,o="",s=0,l){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:o,totalTime:s,disabled:!!l}}function hs(n,e,t){let r;return n instanceof Map?(r=n.get(e),r||n.set(e,r=t)):(r=n[e],r||(r=n[e]=t)),r}function Kj(n){const e=n.indexOf(":");return[n.substring(1,e),n.substr(e+1)]}let bk=(n,e)=>!1,Yj=(n,e,t)=>[],Jj=null;function Ek(n){const e=n.parentNode||n.host;return e===Jj?null:e}(mk()||"undefined"!=typeof Element)&&(dX()?(Jj=(()=>document.documentElement)(),bk=(n,e)=>{for(;e;){if(e===n)return!0;e=Ek(e)}return!1}):bk=(n,e)=>n.contains(e),Yj=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let $d=null,Qj=!1;function Xj(n){$d||($d=function fX(){return"undefined"!=typeof document?document.body:null}()||{},Qj=!!$d.style&&"WebkitAppearance"in $d.style);let e=!0;return $d.style&&!function hX(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in $d.style,!e&&Qj&&(e="Webkit"+n.charAt(0).toUpperCase()+n.substr(1)in $d.style)),e}const eV=bk,tV=Yj;let nV=(()=>{class n{validateStyleProperty(t){return Xj(t)}matchesElement(t,r){return!1}containsElement(t,r){return eV(t,r)}getParentElement(t){return Ek(t)}query(t,r,o){return tV(t,r,o)}computeStyle(t,r,o){return o||""}animate(t,r,o,s,l,h=[],m){return new Aa(o,s)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})(),Ck=(()=>{class n{}return n.NOOP=new nV,n})();const wk="ng-enter",lw="ng-leave",dw="ng-trigger",hw=".ng-trigger",iV="ng-animating",Tk=".ng-animating";function qd(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Dk(parseFloat(e[1]),e[2])}function Dk(n,e){return"s"===e?1e3*n:n}function fw(n,e,t){return n.hasOwnProperty("duration")?n:function mX(n,e,t){let o,s=0,l="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(zj()),{duration:0,delay:0,easing:""};o=Dk(parseFloat(h[1]),h[2]);const m=h[3];null!=m&&(s=Dk(parseFloat(m),h[4]));const y=h[5];y&&(l=y)}else o=n;if(!t){let h=!1,m=e.length;o<0&&(e.push(function MQ(){return new i.vHH(3100,zn)}()),h=!0),s<0&&(e.push(function NQ(){return new i.vHH(3101,zn)}()),h=!0),h&&e.splice(m,0,zj())}return{duration:o,delay:s,easing:l}}(n,e,t)}function Lp(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $u(n,e,t={}){if(e)for(let r in n)t[r]=n[r];else Lp(n,t);return t}function sV(n,e,t){return t?e+":"+t+";":""}function aV(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=sV(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=sV(0,vX(t),n.style[t]));n.setAttribute("style",e)}function Wa(n,e,t){n.style&&(Object.keys(e).forEach(r=>{const o=xk(r);t&&!t.hasOwnProperty(r)&&(t[r]=n.style[o]),n.style[o]=e[r]}),mk()&&aV(n))}function Wd(n,e){n.style&&(Object.keys(e).forEach(t=>{const r=xk(t);n.style[r]=""}),mk()&&aV(n))}function jy(n){return Array.isArray(n)?1==n.length?n[0]:qg(n):n}const Sk=new RegExp("{{\\s*(.+?)\\s*}}","g");function cV(n){let e=[];if("string"==typeof n){let t;for(;t=Sk.exec(n);)e.push(t[1]);Sk.lastIndex=0}return e}function pw(n,e,t){const r=n.toString(),o=r.replace(Sk,(s,l)=>{let h=e[l];return e.hasOwnProperty(l)||(t.push(function kQ(n){return new i.vHH(3003,zn)}()),h=""),h.toString()});return o==r?n:o}function gw(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const yX=/-+([a-z0-9])/g;function xk(n){return n.replace(yX,(...e)=>e[1].toUpperCase())}function vX(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fs(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function LQ(n){return new i.vHH(3004,zn)}()}}function uV(n,e){return window.getComputedStyle(n)[e]}function DX(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function SX(n,e,t){if(":"==n[0]){const m=function xX(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function YQ(n){return new i.vHH(3016,zn)}()),"* => *"}}(n,t);if("function"==typeof m)return void e.push(m);n=m}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function KQ(n){return new i.vHH(3015,zn)}()),e;const o=r[1],s=r[2],l=r[3];e.push(lV(o,l));"<"==s[0]&&!("*"==o&&"*"==l)&&e.push(lV(l,o))}(r,t,e)):t.push(n),t}const vw=new Set(["true","1"]),bw=new Set(["false","0"]);function lV(n,e){const t=vw.has(n)||bw.has(n),r=vw.has(e)||bw.has(e);return(o,s)=>{let l="*"==n||n==o,h="*"==e||e==s;return!l&&t&&"boolean"==typeof o&&(l=o?vw.has(n):bw.has(n)),!h&&r&&"boolean"==typeof s&&(h=s?vw.has(e):bw.has(e)),l&&h}}const IX=new RegExp("s*:selfs*,?","g");function Ik(n,e,t,r){return new AX(n).build(e,t,r)}class AX{constructor(e){this._driver=e}build(e,t,r){const o=new MX(t);this._resetContextStyleTimingState(o);const s=fs(this,jy(e),o);return o.unsupportedCSSPropertiesFound.size&&o.unsupportedCSSPropertiesFound.keys(),s}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,o=t.depCount=0;const s=[],l=[];return"@"==e.name.charAt(0)&&t.errors.push(function BQ(){return new i.vHH(3006,zn)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const m=h,y=m.name;y.toString().split(/\s*,\s*/).forEach(D=>{m.name=D,s.push(this.visitState(m,t))}),m.name=y}else if(1==h.type){const m=this.visitTransition(h,t);r+=m.queryCount,o+=m.depCount,l.push(m)}else t.errors.push(function UQ(){return new i.vHH(3007,zn)}())}),{type:7,name:e.name,states:s,transitions:l,queryCount:r,depCount:o,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),o=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,l=o||{};r.styles.forEach(h=>{if(Ew(h)){const m=h;Object.keys(m).forEach(y=>{cV(m[y]).forEach(D=>{l.hasOwnProperty(D)||s.add(D)})})}}),s.size&&(gw(s.values()),t.errors.push(function jQ(n,e){return new i.vHH(3008,zn)}()))}return{type:0,name:e.name,style:r,options:o?{params:o}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fs(this,jy(e.animation),t);return{type:1,matchers:DX(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:zd(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fs(this,r,t)),options:zd(e.options)}}visitGroup(e,t){const r=t.currentTime;let o=0;const s=e.steps.map(l=>{t.currentTime=r;const h=fs(this,l,t);return o=Math.max(o,t.currentTime),h});return t.currentTime=o,{type:3,steps:s,options:zd(e.options)}}visitAnimate(e,t){const r=function RX(n,e){let t=null;if(n.hasOwnProperty("duration"))t=n;else if("number"==typeof n)return Ak(fw(n,e).duration,0,"");const r=n;if(r.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=Ak(0,0,"");return s.dynamic=!0,s.strValue=r,s}return t=t||fw(r,e),Ak(t.duration,t.delay,t.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let o,s=e.styles?e.styles:Dl({});if(5==s.type)o=this.visitKeyframes(s,t);else{let l=e.styles,h=!1;if(!l){h=!0;const y={};r.easing&&(y.easing=r.easing),l=Dl(y)}t.currentTime+=r.duration+r.delay;const m=this.visitStyle(l,t);m.isEmptyStep=h,o=m}return t.currentAnimateTimings=null,{type:4,timings:r,style:o,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[];Array.isArray(e.styles)?e.styles.forEach(l=>{"string"==typeof l?l==Ds?r.push(l):t.errors.push(function VQ(n){return new i.vHH(3002,zn)}()):r.push(l)}):r.push(e.styles);let o=!1,s=null;return r.forEach(l=>{if(Ew(l)){const h=l,m=h.easing;if(m&&(s=m,delete h.easing),!o)for(let y in h)if(h[y].toString().indexOf("{{")>=0){o=!0;break}}}),{type:6,styles:r,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let o=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(l=>{"string"!=typeof l&&Object.keys(l).forEach(h=>{if(!this._driver.validateStyleProperty(h))return delete l[h],void t.unsupportedCSSPropertiesFound.add(h);const m=t.collectedStyles[t.currentQuerySelector],y=m[h];let D=!0;y&&(s!=o&&s>=y.startTime&&o<=y.endTime&&(t.errors.push(function HQ(n,e,t,r,o){return new i.vHH(3010,zn)}()),D=!1),s=y.startTime),D&&(m[h]={startTime:s,endTime:o}),t.options&&function _X(n,e,t){const r=e.params||{},o=cV(n);o.length&&o.forEach(s=>{r.hasOwnProperty(s)||t.push(function RQ(n){return new i.vHH(3001,zn)}())})}(l[h],t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function GQ(){return new i.vHH(3011,zn)}()),r;let s=0;const l=[];let h=!1,m=!1,y=0;const D=e.steps.map(pt=>{const Xe=this._makeStyleAst(pt,t);let $t=null!=Xe.offset?Xe.offset:function NX(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(Ew(t)&&t.hasOwnProperty("offset")){const r=t;e=parseFloat(r.offset),delete r.offset}});else if(Ew(n)&&n.hasOwnProperty("offset")){const t=n;e=parseFloat(t.offset),delete t.offset}return e}(Xe.styles),Mt=0;return null!=$t&&(s++,Mt=Xe.offset=$t),m=m||Mt<0||Mt>1,h=h||Mt<y,y=Mt,l.push(Mt),Xe});m&&t.errors.push(function $Q(){return new i.vHH(3012,zn)}()),h&&t.errors.push(function qQ(){return new i.vHH(3200,zn)}());const P=e.steps.length;let V=0;s>0&&s<P?t.errors.push(function WQ(){return new i.vHH(3202,zn)}()):0==s&&(V=1/(P-1));const J=P-1,ge=t.currentTime,xe=t.currentAnimateTimings,Ze=xe.duration;return D.forEach((pt,Xe)=>{const $t=V>0?Xe==J?1:V*Xe:l[Xe],Mt=$t*Ze;t.currentTime=ge+xe.delay+Mt,xe.duration=Mt,this._validateStyleAst(pt,t),pt.offset=$t,r.styles.push(pt)}),r}visitReference(e,t){return{type:8,animation:fs(this,jy(e.animation),t),options:zd(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:zd(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:zd(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,o=e.options||{};t.queryCount++,t.currentQuery=e;const[s,l]=function OX(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(IX,"")),n=n.replace(/@\*/g,hw).replace(/@\w+/g,t=>hw+"-"+t.substr(1)).replace(/:animating/g,Tk),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,hs(t.collectedStyles,t.currentQuerySelector,{});const h=fs(this,jy(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:o.limit||0,optional:!!o.optional,includeSelf:l,animation:h,originalSelector:e.selector,options:zd(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function zQ(){return new i.vHH(3013,zn)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:fw(e.timings,t.errors,!0);return{type:12,animation:fs(this,jy(e.animation),t),timings:r,options:null}}}class MX{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Ew(n){return!Array.isArray(n)&&"object"==typeof n}function zd(n){return n?(n=Lp(n)).params&&(n.params=function PX(n){return n?Lp(n):null}(n.params)):n={},n}function Ak(n,e,t){return{duration:n,delay:e,easing:t}}function Ok(n,e,t,r,o,s,l=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:o,delay:s,totalTime:o+s,easing:l,subTimeline:h}}class Cw{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const FX=new RegExp(":enter","g"),UX=new RegExp(":leave","g");function Pk(n,e,t,r,o,s={},l={},h,m,y=[]){return(new jX).buildKeyframes(n,e,t,r,o,s,l,h,m,y)}class jX{buildKeyframes(e,t,r,o,s,l,h,m,y,D=[]){y=y||new Cw;const P=new Mk(e,t,y,o,s,D,[]);P.options=m,P.currentTimeline.setStyles([l],null,P.errors,m),fs(this,r,P);const V=P.timelines.filter(J=>J.containsAnimation());if(Object.keys(h).length){let J;for(let ge=V.length-1;ge>=0;ge--){const xe=V[ge];if(xe.element===t){J=xe;break}}J&&!J.allowOnlyTimelineStyles()&&J.setStyles([h],null,P.errors,m)}return V.length?V.map(J=>J.buildKeyframes()):[Ok(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const o=t.createSubContext(e.options),s=t.currentTimeline.currentTime,l=this._visitSubInstructions(r,o,o.options);s!=l&&t.transformIntoNewTimeline(l)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const l=null!=r.duration?qd(r.duration):null,h=null!=r.delay?qd(r.delay):null;return 0!==l&&e.forEach(m=>{const y=t.appendInstructionToTimeline(m,l,h);s=Math.max(s,y.duration+y.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),fs(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let o=t;const s=e.options;if(s&&(s.params||s.delay)&&(o=t.createSubContext(s),o.transformIntoNewTimeline(),null!=s.delay)){6==o.previousNode.type&&(o.currentTimeline.snapshotCurrentStyles(),o.previousNode=ww);const l=qd(s.delay);o.delayNextStep(l)}e.steps.length&&(e.steps.forEach(l=>fs(this,l,o)),o.currentTimeline.applyStylesToKeyframe(),o.subContextCount>r&&o.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let o=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?qd(e.options.delay):0;e.steps.forEach(l=>{const h=t.createSubContext(e.options);s&&h.delayNextStep(s),fs(this,l,h),o=Math.max(o,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(l=>t.currentTimeline.mergeTimelineCollectedStyles(l)),t.transformIntoNewTimeline(o),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return fw(t.params?pw(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),o=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),o.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),o.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,o=t.currentAnimateTimings;!o&&r.getCurrentStyleProperties().length&&r.forwardFrame();const s=o&&o.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,o=t.currentTimeline.duration,s=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(m=>{h.forwardTime((m.offset||0)*s),h.setStyles(m.styles,m.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(o+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,o=e.options||{},s=o.delay?qd(o.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=ww);let l=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!o.optional,t.errors);t.currentQueryTotal=h.length;let m=null;h.forEach((y,D)=>{t.currentQueryIndex=D;const P=t.createSubContext(e.options,y);s&&P.delayNextStep(s),y===t.element&&(m=P.currentTimeline),fs(this,e.animation,P),P.currentTimeline.applyStylesToKeyframe(),l=Math.max(l,P.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(l),m&&(t.currentTimeline.mergeTimelineCollectedStyles(m),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,o=t.currentTimeline,s=e.timings,l=Math.abs(s.duration),h=l*(t.currentQueryTotal-1);let m=l*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":m=h-m;break;case"full":m=r.currentStaggerTime}const D=t.currentTimeline;m&&D.delayNextStep(m);const P=D.currentTime;fs(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=o.currentTime-P+(o.startTime-r.currentTimeline.startTime)}}const ww={};class Mk{constructor(e,t,r,o,s,l,h,m){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=o,this._leaveClassName=s,this.errors=l,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=ww,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=m||new Tw(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let o=this.options;null!=r.duration&&(o.duration=qd(r.duration)),null!=r.delay&&(o.delay=qd(r.delay));const s=r.params;if(s){let l=o.params;l||(l=this.options.params={}),Object.keys(s).forEach(h=>{(!t||!l.hasOwnProperty(h))&&(l[h]=pw(s[h],l,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(o=>{r[o]=t[o]})}}return e}createSubContext(e=null,t,r){const o=t||this.element,s=new Mk(this._driver,o,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(o,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=ww,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const o={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=r?r:0)+e.delay,easing:""},s=new VX(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,o,e.stretchStartingKeyframe);return this.timelines.push(s),o}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,o,s,l){let h=[];if(o&&h.push(this.element),e.length>0){e=(e=e.replace(FX,"."+this._enterClassName)).replace(UX,"."+this._leaveClassName);let y=this._driver.query(this.element,e,1!=r);0!==r&&(y=r<0?y.slice(y.length+r,y.length):y.slice(0,r)),h.push(...y)}return!s&&0==h.length&&l.push(function ZQ(n){return new i.vHH(3014,zn)}()),h}}class Tw{constructor(e,t,r,o){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=o,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Tw(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Ds,this._currentKeyframe[t]=Ds}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,o){t&&(this._previousKeyframe.easing=t);const s=o&&o.params||{},l=function HX(n,e){const t={};let r;return n.forEach(o=>{"*"===o?(r=r||Object.keys(e),r.forEach(s=>{t[s]=Ds})):$u(o,!1,t)}),t}(e,this._globalTimelineStyles);Object.keys(l).forEach(h=>{const m=pw(l[h],s,r);this._pendingStyles[h]=m,this._localTimelineStyles.hasOwnProperty(h)||(this._backFill[h]=this._globalTimelineStyles.hasOwnProperty(h)?this._globalTimelineStyles[h]:Ds),this._updateStyle(h,m)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(r=>{this._currentKeyframe[r]=e[r]}),Object.keys(this._localTimelineStyles).forEach(r=>{this._currentKeyframe.hasOwnProperty(r)||(this._currentKeyframe[r]=this._localTimelineStyles[r])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const r=this._styleSummary[t],o=e._styleSummary[t];(!r||o.time>r.time)&&this._updateStyle(t,o.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let o=[];this._keyframes.forEach((h,m)=>{const y=$u(h,!0);Object.keys(y).forEach(D=>{const P=y[D];"!"==P?e.add(D):P==Ds&&t.add(D)}),r||(y.offset=m/this.duration),o.push(y)});const s=e.size?gw(e.values()):[],l=t.size?gw(t.values()):[];if(r){const h=o[0],m=Lp(h);h.offset=0,m.offset=1,o=[h,m]}return Ok(this.element,o,s,l,this.duration,this.startTime,this.easing,!1)}}class VX extends Tw{constructor(e,t,r,o,s,l,h=!1){super(e,t,l.delay),this.keyframes=r,this.preStyleProps=o,this.postStyleProps=s,this._stretchStartingKeyframe=h,this.timings={duration:l.duration,delay:l.delay,easing:l.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:o}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],l=r+t,h=t/l,m=$u(e[0],!1);m.offset=0,s.push(m);const y=$u(e[0],!1);y.offset=fV(h),s.push(y);const D=e.length-1;for(let P=1;P<=D;P++){let V=$u(e[P],!1);V.offset=fV((t+V.offset*r)/l),s.push(V)}r=l,t=0,o="",e=s}return Ok(this.element,e,this.preStyleProps,this.postStyleProps,r,t,o,!0)}}function fV(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Nk{}class GX extends Nk{normalizePropertyName(e,t){return xk(e)}normalizeStyleValue(e,t,r,o){let s="";const l=r.toString().trim();if($X[t]&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&o.push(function FQ(n,e){return new i.vHH(3005,zn)}())}return l+s}}const $X=(()=>function qX(n){const e={};return n.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function pV(n,e,t,r,o,s,l,h,m,y,D,P,V){return{type:0,element:n,triggerName:e,isRemovalTransition:o,fromState:t,fromStyles:s,toState:r,toStyles:l,timelines:h,queriedElements:m,preStyleProps:y,postStyleProps:D,totalTime:P,errors:V}}const Rk={};class gV{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,o){return function WX(n,e,t,r,o){return n.some(s=>s(e,t,r,o))}(this.ast.matchers,e,t,r,o)}buildStyles(e,t,r){const o=this._stateStyles["*"],s=this._stateStyles[e],l=o?o.buildStyles(t,r):{};return s?s.buildStyles(t,r):l}build(e,t,r,o,s,l,h,m,y,D){const P=[],V=this.ast.options&&this.ast.options.params||Rk,ge=this.buildStyles(r,h&&h.params||Rk,P),xe=m&&m.params||Rk,Ze=this.buildStyles(o,xe,P),pt=new Set,Xe=new Map,$t=new Map,Mt="void"===o,Qt={params:Object.assign(Object.assign({},V),xe)},Ot=D?[]:Pk(e,t,this.ast.animation,s,l,ge,Ze,Qt,y,P);let sn=0;if(Ot.forEach(Gn=>{sn=Math.max(Gn.duration+Gn.delay,sn)}),P.length)return pV(t,this._triggerName,r,o,Mt,ge,Ze,[],[],Xe,$t,sn,P);Ot.forEach(Gn=>{const yn=Gn.element,vn=hs(Xe,yn,{});Gn.preStyleProps.forEach(ni=>vn[ni]=!0);const Pr=hs($t,yn,{});Gn.postStyleProps.forEach(ni=>Pr[ni]=!0),yn!==t&&pt.add(yn)});const cn=gw(pt.values());return pV(t,this._triggerName,r,o,Mt,ge,Ze,Ot,cn,Xe,$t,sn)}}class zX{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r={},o=Lp(this.defaultParams);return Object.keys(e).forEach(s=>{const l=e[s];null!=l&&(o[s]=l)}),this.styles.styles.forEach(s=>{if("string"!=typeof s){const l=s;Object.keys(l).forEach(h=>{let m=l[h];m.length>1&&(m=pw(m,o,t));const y=this.normalizer.normalizePropertyName(h,t);m=this.normalizer.normalizeStyleValue(h,y,m,t),r[y]=m})}}),r}}class KX{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states={},t.states.forEach(o=>{this.states[o.name]=new zX(o.style,o.options&&o.options.params||{},r)}),mV(this.states,"true","1"),mV(this.states,"false","0"),t.transitions.forEach(o=>{this.transitionFactories.push(new gV(e,o,this.states))}),this.fallbackTransition=function YX(n,e,t){return new gV(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(l,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,o){return this.transitionFactories.find(l=>l.match(e,t,r,o))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function mV(n,e,t){n.hasOwnProperty(e)?n.hasOwnProperty(t)||(n[t]=n[e]):n.hasOwnProperty(t)&&(n[e]=n[t])}const JX=new Cw;class QX{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}register(e,t){const r=[],s=Ik(this._driver,t,r,[]);if(r.length)throw function tX(n){return new i.vHH(3503,zn)}();this._animations[e]=s}_buildPlayer(e,t,r){const o=e.element,s=Zj(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(o,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const o=[],s=this._animations[e];let l;const h=new Map;if(s?(l=Pk(this._driver,t,s,wk,lw,{},{},r,JX,o),l.forEach(D=>{const P=hs(h,D.element,{});D.postStyleProps.forEach(V=>P[V]=null)})):(o.push(function nX(){return new i.vHH(3300,zn)}()),l=[]),o.length)throw function rX(n){return new i.vHH(3504,zn)}();h.forEach((D,P)=>{Object.keys(D).forEach(V=>{D[V]=this._driver.computeStyle(P,V,Ds)})});const y=Gu(l.map(D=>{const P=h.get(D.element);return this._buildPlayer(D,{},P)}));return this._playersById[e]=y,y.onDestroy(()=>this.destroy(e)),this.players.push(y),y}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw function iX(n){return new i.vHH(3301,zn)}();return t}listen(e,t,r,o){const s=vk(t,"","","");return _k(this._getPlayer(e),r,s,o),()=>{}}command(e,t,r,o){if("register"==r)return void this.register(e,o[0]);if("create"==r)return void this.create(e,t,o[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(o[0]));break;case"destroy":this.destroy(e)}}}const _V="ng-animate-queued",kk="ng-animate-disabled",ree=[],yV={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},iee={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Hs="__ng_removed";class Lk{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function cee(n){return null!=n?n:null}(r?e.value:e),r){const s=Lp(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(o=>{null==r[o]&&(r[o]=t[o])})}}}const Vy="void",Fk=new Lk(Vy);class oee{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Gs(t,this._hostClassName)}listen(e,t,r,o){if(!this._triggers.hasOwnProperty(t))throw function oX(n,e){return new i.vHH(3302,zn)}();if(null==r||0==r.length)throw function sX(n){return new i.vHH(3303,zn)}();if(!function uee(n){return"start"==n||"done"==n}(r))throw function aX(n,e){return new i.vHH(3400,zn)}();const s=hs(this._elementListeners,e,[]),l={name:t,phase:r,callback:o};s.push(l);const h=hs(this._engine.statesByElement,e,{});return h.hasOwnProperty(t)||(Gs(e,dw),Gs(e,dw+"-"+t),h[t]=Fk),()=>{this._engine.afterFlush(()=>{const m=s.indexOf(l);m>=0&&s.splice(m,1),this._triggers[t]||delete h[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw function cX(n){return new i.vHH(3401,zn)}();return t}trigger(e,t,r,o=!0){const s=this._getTrigger(t),l=new Bk(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(Gs(e,dw),Gs(e,dw+"-"+t),this._engine.statesByElement.set(e,h={}));let m=h[t];const y=new Lk(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&m&&y.absorbOptions(m.options),h[t]=y,m||(m=Fk),y.value!==Vy&&m.value===y.value){if(!function hee(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let o=0;o<t.length;o++){const s=t[o];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(m.params,y.params)){const xe=[],Ze=s.matchStyles(m.value,m.params,xe),pt=s.matchStyles(y.value,y.params,xe);xe.length?this._engine.reportError(xe):this._engine.afterFlush(()=>{Wd(e,Ze),Wa(e,pt)})}return}const V=hs(this._engine.playersByElement,e,[]);V.forEach(xe=>{xe.namespaceId==this.id&&xe.triggerName==t&&xe.queued&&xe.destroy()});let J=s.matchTransition(m.value,y.value,e,y.params),ge=!1;if(!J){if(!o)return;J=s.fallbackTransition,ge=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:J,fromState:m,toState:y,player:l,isFallbackTransition:ge}),ge||(Gs(e,_V),l.onStart(()=>{Fp(e,_V)})),l.onDone(()=>{let xe=this.players.indexOf(l);xe>=0&&this.players.splice(xe,1);const Ze=this._engine.playersByElement.get(e);if(Ze){let pt=Ze.indexOf(l);pt>=0&&Ze.splice(pt,1)}}),this.players.push(l),V.push(l),l}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,r)=>{delete t[e]}),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(o=>o.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,hw,!0);r.forEach(o=>{if(o[Hs])return;const s=this._engine.fetchNamespacesByElement(o);s.size?s.forEach(l=>l.triggerLeaveAnimation(o,t,!1,!0)):this.clearElementCache(o)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(o=>this.clearElementCache(o)))}triggerLeaveAnimation(e,t,r,o){const s=this._engine.statesByElement.get(e),l=new Map;if(s){const h=[];if(Object.keys(s).forEach(m=>{if(l.set(m,s[m].value),this._triggers[m]){const y=this.trigger(e,m,Vy,o);y&&h.push(y)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,l),r&&Gu(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const o=new Set;t.forEach(s=>{const l=s.name;if(o.has(l))return;o.add(l);const m=this._triggers[l].fallbackTransition,y=r[l]||Fk,D=new Lk(Vy),P=new Bk(this.id,l,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:l,transition:m,fromState:y,toState:D,player:P,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let o=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)o=!0;else{let l=e;for(;l=l.parentNode;)if(r.statesByElement.get(l)){o=!0;break}}}if(this.prepareLeaveAnimationListeners(e),o)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[Hs];(!s||s===yV)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Gs(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const o=r.player;if(o.destroyed)return;const s=r.element,l=this._elementListeners.get(s);l&&l.forEach(h=>{if(h.name==r.triggerName){const m=vk(s,r.triggerName,r.fromState.value,r.toState.value);m._data=e,_k(r.player,h.phase,m,h.callback)}}),o.markedForDestroy?this._engine.afterFlush(()=>{o.destroy()}):t.push(r)}),this._queue=[],t.sort((r,o)=>{const s=r.transition.ast.depCount,l=o.transition.ast.depCount;return 0==s||0==l?s-l:this._engine.driver.containsElement(r.element,o.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class see{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(o,s)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new oee(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,o=this.namespacesByHostElement,s=r.length-1;if(s>=0){let l=!1;if(void 0!==this.driver.getParentElement){let h=this.driver.getParentElement(t);for(;h;){const m=o.get(h);if(m){const y=r.indexOf(m);r.splice(y+1,0,e),l=!0;break}h=this.driver.getParentElement(h)}}else for(let h=s;h>=0;h--)if(this.driver.containsElement(r[h].hostElement,t)){r.splice(h+1,0,e),l=!0;break}l||r.unshift(e)}else r.push(e);return o.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let o=this._namespaceLookup[e];o&&o.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const o=this._namespaceList.indexOf(r);o>=0&&this._namespaceList.splice(o,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r){const o=Object.keys(r);for(let s=0;s<o.length;s++){const l=r[o[s]].namespaceId;if(l){const h=this._fetchNamespace(l);h&&t.add(h)}}}return t}trigger(e,t,r,o){if(Dw(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,o),!0}return!1}insertNode(e,t,r,o){if(!Dw(t))return;const s=t[Hs];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const l=this.collectedLeaveElements.indexOf(t);l>=0&&this.collectedLeaveElements.splice(l,1)}if(e){const l=this._fetchNamespace(e);l&&l.insertNode(t,r)}o&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Gs(e,kk)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Fp(e,kk))}removeNode(e,t,r,o){if(Dw(t)){const s=e?this._fetchNamespace(e):null;if(s?s.removeNode(t,o):this.markElementAsRemoved(e,t,!1,o),r){const l=this.namespacesByHostElement.get(t);l&&l.id!==e&&l.removeNode(t,o)}}else this._onRemovalComplete(t,o)}markElementAsRemoved(e,t,r,o,s){this.collectedLeaveElements.push(t),t[Hs]={namespaceId:e,setForRemoval:o,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,o,s){return Dw(t)?this._fetchNamespace(e).listen(t,r,o,s):()=>{}}_buildInstruction(e,t,r,o,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,o,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,hw,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Tk,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Gu(this.players).onDone(()=>e());e()})}processLeaveNode(e){var t;const r=e[Hs];if(r&&r.setForRemoval){if(e[Hs]=yV,r.namespaceId){this.destroyInnerAnimations(e);const o=this._fetchNamespace(r.namespaceId);o&&o.clearElementCache(e)}this._onRemovalComplete(e,r.setForRemoval)}(null===(t=e.classList)||void 0===t?void 0:t.contains(kk))&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(o=>{this.markElementAsDisabled(o,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,o)=>this._balanceNamespaceList(r,o)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Gs(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let o=0;o<r.length;o++)r[o]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Gu(t).onDone(()=>{r.forEach(o=>o())}):r.forEach(o=>o())}}reportError(e){throw function uX(n){return new i.vHH(3402,zn)}()}_flushAnimations(e,t){const r=new Cw,o=[],s=new Map,l=[],h=new Map,m=new Map,y=new Map,D=new Set;this.disabledNodes.forEach(Nt=>{D.add(Nt);const zt=this.driver.query(Nt,".ng-animate-queued",!0);for(let hn=0;hn<zt.length;hn++)D.add(zt[hn])});const P=this.bodyNode,V=Array.from(this.statesByElement.keys()),J=EV(V,this.collectedEnterElements),ge=new Map;let xe=0;J.forEach((Nt,zt)=>{const hn=wk+xe++;ge.set(zt,hn),Nt.forEach(Fn=>Gs(Fn,hn))});const Ze=[],pt=new Set,Xe=new Set;for(let Nt=0;Nt<this.collectedLeaveElements.length;Nt++){const zt=this.collectedLeaveElements[Nt],hn=zt[Hs];hn&&hn.setForRemoval&&(Ze.push(zt),pt.add(zt),hn.hasAnimation?this.driver.query(zt,".ng-star-inserted",!0).forEach(Fn=>pt.add(Fn)):Xe.add(zt))}const $t=new Map,Mt=EV(V,Array.from(pt));Mt.forEach((Nt,zt)=>{const hn=lw+xe++;$t.set(zt,hn),Nt.forEach(Fn=>Gs(Fn,hn))}),e.push(()=>{J.forEach((Nt,zt)=>{const hn=ge.get(zt);Nt.forEach(Fn=>Fp(Fn,hn))}),Mt.forEach((Nt,zt)=>{const hn=$t.get(zt);Nt.forEach(Fn=>Fp(Fn,hn))}),Ze.forEach(Nt=>{this.processLeaveNode(Nt)})});const Qt=[],Ot=[];for(let Nt=this._namespaceList.length-1;Nt>=0;Nt--)this._namespaceList[Nt].drainQueuedTransitions(t).forEach(hn=>{const Fn=hn.player,Ur=hn.element;if(Qt.push(Fn),this.collectedEnterElements.length){const di=Ur[Hs];if(di&&di.setForMove){if(di.previousTriggersValues&&di.previousTriggersValues.has(hn.triggerName)){const Ao=di.previousTriggersValues.get(hn.triggerName),$s=this.statesByElement.get(hn.element);$s&&$s[hn.triggerName]&&($s[hn.triggerName].value=Ao)}return void Fn.destroy()}}const Wo=!P||!this.driver.containsElement(P,Ur),Ci=$t.get(Ur),ps=ge.get(Ur),sr=this._buildInstruction(hn,r,ps,Ci,Wo);if(sr.errors&&sr.errors.length)return void Ot.push(sr);if(Wo)return Fn.onStart(()=>Wd(Ur,sr.fromStyles)),Fn.onDestroy(()=>Wa(Ur,sr.toStyles)),void o.push(Fn);if(hn.isFallbackTransition)return Fn.onStart(()=>Wd(Ur,sr.fromStyles)),Fn.onDestroy(()=>Wa(Ur,sr.toStyles)),void o.push(Fn);const pa=[];sr.timelines.forEach(di=>{di.stretchStartingKeyframe=!0,this.disabledNodes.has(di.element)||pa.push(di)}),sr.timelines=pa,r.append(Ur,sr.timelines),l.push({instruction:sr,player:Fn,element:Ur}),sr.queriedElements.forEach(di=>hs(h,di,[]).push(Fn)),sr.preStyleProps.forEach((di,Ao)=>{const $s=Object.keys(di);if($s.length){let Mc=m.get(Ao);Mc||m.set(Ao,Mc=new Set),$s.forEach(Kd=>Mc.add(Kd))}}),sr.postStyleProps.forEach((di,Ao)=>{const $s=Object.keys(di);let Mc=y.get(Ao);Mc||y.set(Ao,Mc=new Set),$s.forEach(Kd=>Mc.add(Kd))})});if(Ot.length){const Nt=[];Ot.forEach(zt=>{Nt.push(function lX(n,e){return new i.vHH(3505,zn)}())}),Qt.forEach(zt=>zt.destroy()),this.reportError(Nt)}const sn=new Map,cn=new Map;l.forEach(Nt=>{const zt=Nt.element;r.has(zt)&&(cn.set(zt,zt),this._beforeAnimationBuild(Nt.player.namespaceId,Nt.instruction,sn))}),o.forEach(Nt=>{const zt=Nt.element;this._getPreviousPlayers(zt,!1,Nt.namespaceId,Nt.triggerName,null).forEach(Fn=>{hs(sn,zt,[]).push(Fn),Fn.destroy()})});const Gn=Ze.filter(Nt=>wV(Nt,m,y)),yn=new Map;bV(yn,this.driver,Xe,y,Ds).forEach(Nt=>{wV(Nt,m,y)&&Gn.push(Nt)});const Pr=new Map;J.forEach((Nt,zt)=>{bV(Pr,this.driver,new Set(Nt),m,"!")}),Gn.forEach(Nt=>{const zt=yn.get(Nt),hn=Pr.get(Nt);yn.set(Nt,Object.assign(Object.assign({},zt),hn))});const ni=[],qu=[],Wu={};l.forEach(Nt=>{const{element:zt,player:hn,instruction:Fn}=Nt;if(r.has(zt)){if(D.has(zt))return hn.onDestroy(()=>Wa(zt,Fn.toStyles)),hn.disabled=!0,hn.overrideTotalTime(Fn.totalTime),void o.push(hn);let Ur=Wu;if(cn.size>1){let Ci=zt;const ps=[];for(;Ci=Ci.parentNode;){const sr=cn.get(Ci);if(sr){Ur=sr;break}ps.push(Ci)}ps.forEach(sr=>cn.set(sr,Ur))}const Wo=this._buildAnimation(hn.namespaceId,Fn,sn,s,Pr,yn);if(hn.setRealPlayer(Wo),Ur===Wu)ni.push(hn);else{const Ci=this.playersByElement.get(Ur);Ci&&Ci.length&&(hn.parentPlayer=Gu(Ci)),o.push(hn)}}else Wd(zt,Fn.fromStyles),hn.onDestroy(()=>Wa(zt,Fn.toStyles)),qu.push(hn),D.has(zt)&&o.push(hn)}),qu.forEach(Nt=>{const zt=s.get(Nt.element);if(zt&&zt.length){const hn=Gu(zt);Nt.setRealPlayer(hn)}}),o.forEach(Nt=>{Nt.parentPlayer?Nt.syncPlayerEvents(Nt.parentPlayer):Nt.destroy()});for(let Nt=0;Nt<Ze.length;Nt++){const zt=Ze[Nt],hn=zt[Hs];if(Fp(zt,lw),hn&&hn.hasAnimation)continue;let Fn=[];if(h.size){let Wo=h.get(zt);Wo&&Wo.length&&Fn.push(...Wo);let Ci=this.driver.query(zt,Tk,!0);for(let ps=0;ps<Ci.length;ps++){let sr=h.get(Ci[ps]);sr&&sr.length&&Fn.push(...sr)}}const Ur=Fn.filter(Wo=>!Wo.destroyed);Ur.length?lee(this,zt,Ur):this.processLeaveNode(zt)}return Ze.length=0,ni.forEach(Nt=>{this.players.push(Nt),Nt.onDone(()=>{Nt.destroy();const zt=this.players.indexOf(Nt);this.players.splice(zt,1)}),Nt.play()}),ni}elementContainsData(e,t){let r=!1;const o=t[Hs];return o&&o.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,o,s){let l=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(l=h)}else{const h=this.playersByElement.get(e);if(h){const m=!s||s==Vy;h.forEach(y=>{y.queued||!m&&y.triggerName!=o||l.push(y)})}}return(r||o)&&(l=l.filter(h=>!(r&&r!=h.namespaceId||o&&o!=h.triggerName))),l}_beforeAnimationBuild(e,t,r){const s=t.element,l=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const m of t.timelines){const y=m.element,D=y!==s,P=hs(r,y,[]);this._getPreviousPlayers(y,D,l,h,t.toState).forEach(J=>{const ge=J.getRealPlayer();ge.beforeDestroy&&ge.beforeDestroy(),J.destroy(),P.push(J)})}Wd(s,t.fromStyles)}_buildAnimation(e,t,r,o,s,l){const h=t.triggerName,m=t.element,y=[],D=new Set,P=new Set,V=t.timelines.map(ge=>{const xe=ge.element;D.add(xe);const Ze=xe[Hs];if(Ze&&Ze.removedBeforeQueried)return new Aa(ge.duration,ge.delay);const pt=xe!==m,Xe=function dee(n){const e=[];return CV(n,e),e}((r.get(xe)||ree).map(sn=>sn.getRealPlayer())).filter(sn=>!!sn.element&&sn.element===xe),$t=s.get(xe),Mt=l.get(xe),Qt=Zj(0,this._normalizer,0,ge.keyframes,$t,Mt),Ot=this._buildPlayer(ge,Qt,Xe);if(ge.subTimeline&&o&&P.add(xe),pt){const sn=new Bk(e,h,xe);sn.setRealPlayer(Ot),y.push(sn)}return Ot});y.forEach(ge=>{hs(this.playersByQueriedElement,ge.element,[]).push(ge),ge.onDone(()=>function aee(n,e,t){let r;if(n instanceof Map){if(r=n.get(e),r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&n.delete(e)}}else if(r=n[e],r){if(r.length){const o=r.indexOf(t);r.splice(o,1)}0==r.length&&delete n[e]}return r}(this.playersByQueriedElement,ge.element,ge))}),D.forEach(ge=>Gs(ge,iV));const J=Gu(V);return J.onDestroy(()=>{D.forEach(ge=>Fp(ge,iV)),Wa(m,t.toStyles)}),P.forEach(ge=>{hs(o,ge,[]).push(J)}),J}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Aa(e.duration,e.delay)}}class Bk{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Aa,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(r=>_k(e,t,void 0,r))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hs(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Dw(n){return n&&1===n.nodeType}function vV(n,e){const t=n.style.display;return n.style.display=null!=e?e:"none",t}function bV(n,e,t,r,o){const s=[];t.forEach(m=>s.push(vV(m)));const l=[];r.forEach((m,y)=>{const D={};m.forEach(P=>{const V=D[P]=e.computeStyle(y,P,o);(!V||0==V.length)&&(y[Hs]=iee,l.push(y))}),n.set(y,D)});let h=0;return t.forEach(m=>vV(m,s[h++])),l}function EV(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const o=new Set(e),s=new Map;function l(h){if(!h)return 1;let m=s.get(h);if(m)return m;const y=h.parentNode;return m=t.has(y)?y:o.has(y)?1:l(y),s.set(h,m),m}return e.forEach(h=>{const m=l(h);1!==m&&t.get(m).push(h)}),t}function Gs(n,e){var t;null===(t=n.classList)||void 0===t||t.add(e)}function Fp(n,e){var t;null===(t=n.classList)||void 0===t||t.remove(e)}function lee(n,e,t){Gu(t).onDone(()=>n.processLeaveNode(e))}function CV(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof jh?CV(r.players,e):e.push(r)}}function wV(n,e,t){const r=t.get(n);if(!r)return!1;let o=e.get(n);return o?r.forEach(s=>o.add(s)):e.set(n,r),t.delete(n),!0}class Sw{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(o,s)=>{},this._transitionEngine=new see(e,t,r),this._timelineEngine=new QX(e,t,r),this._transitionEngine.onRemovalComplete=(o,s)=>this.onRemovalComplete(o,s)}registerTrigger(e,t,r,o,s){const l=e+"-"+o;let h=this._triggerCache[l];if(!h){const m=[],D=Ik(this._driver,s,m,[]);if(m.length)throw function XQ(n,e){return new i.vHH(3404,zn)}();h=function ZX(n,e,t){return new KX(n,e,t)}(o,D,this._normalizer),this._triggerCache[l]=h}this._transitionEngine.registerTrigger(t,o,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,o){this._transitionEngine.insertNode(e,t,r,o)}onRemove(e,t,r,o){this._transitionEngine.removeNode(e,t,o||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,o){if("@"==r.charAt(0)){const[s,l]=Kj(r);this._timelineEngine.command(s,t,l,o)}else this._transitionEngine.trigger(e,t,r,o)}listen(e,t,r,o,s){if("@"==r.charAt(0)){const[l,h]=Kj(r);return this._timelineEngine.listen(l,t,h,s)}return this._transitionEngine.listen(e,t,r,o,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let pee=(()=>{class n{constructor(t,r,o){this._element=t,this._startStyles=r,this._endStyles=o,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s={}),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&Wa(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Wa(this._element,this._initialStyles),this._endStyles&&(Wa(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Wd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Wd(this._element,this._endStyles),this._endStyles=null),Wa(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function Uk(n){let e=null;const t=Object.keys(n);for(let r=0;r<t.length;r++){const o=t[r];gee(o)&&(e=e||{},e[o]=n[o])}return e}function gee(n){return"display"===n||"position"===n}class TV{constructor(e,t,r,o){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,r){return e.animate(t,r)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(r=>{"offset"!=r&&(e[r]=this._finished?t[r]:uV(this.element,r))})}this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class mee{validateStyleProperty(e){return Xj(e)}matchesElement(e,t){return!1}containsElement(e,t){return eV(e,t)}getParentElement(e){return Ek(e)}query(e,t,r){return tV(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,o,s,l=[]){const m={duration:r,delay:o,fill:0==o?"both":"forwards"};s&&(m.easing=s);const y={},D=l.filter(V=>V instanceof TV);(function bX(n,e){return 0===n||0===e})(r,o)&&D.forEach(V=>{let J=V.currentSnapshot;Object.keys(J).forEach(ge=>y[ge]=J[ge])}),t=function EX(n,e,t){const r=Object.keys(t);if(r.length&&e.length){let s=e[0],l=[];if(r.forEach(h=>{s.hasOwnProperty(h)||l.push(h),s[h]=t[h]}),l.length)for(var o=1;o<e.length;o++){let h=e[o];l.forEach(function(m){h[m]=uV(n,m)})}}return e}(e,t=t.map(V=>$u(V,!1)),y);const P=function fee(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=Uk(e[0]),e.length>1&&(r=Uk(e[e.length-1]))):e&&(t=Uk(e)),t||r?new pee(n,t,r):null}(e,t);return new TV(e,t,m,P)}}let _ee=(()=>{class n extends Cn{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:i.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const o=Array.isArray(t)?qg(t):t;return DV(this._renderer,null,r,"register",[o]),new yee(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(f.K0))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class yee extends class dv{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new vee(this._id,e,t||{},this._renderer)}}class vee{constructor(e,t,r,o){this.id=e,this.element=t,this._renderer=o,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return DV(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function DV(n,e,t,r,o){return n.setProperty(e,`@@${t}:${r}`,o)}const SV="@.disabled";let bee=(()=>{class n{constructor(t,r,o){this.delegate=t,this.engine=r,this._zone=o,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(s,l)=>{const h=null==l?void 0:l.parentNode(s);h&&l.removeChild(h,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let D=this._rendererCache.get(s);return D||(D=new xV("",s,this.engine),this._rendererCache.set(s,D)),D}const l=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const m=D=>{Array.isArray(D)?D.forEach(m):this.engine.registerTrigger(l,h,t,D.name,D)};return r.data.animation.forEach(m),new Eee(this,h,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,o){t>=0&&t<this._microtaskId?this._zone.run(()=>r(o)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[l,h]=s;l(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,o]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(i.FYo),i.LFG(Sw),i.LFG(i.R0b))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();class xV{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,o=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,o)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,o){this.delegate.setAttribute(e,t,r,o)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,o){this.delegate.setStyle(e,t,r,o)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==SV?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Eee extends xV{constructor(e,t,r,o){super(t,r,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==SV?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.substr(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const o=function Cee(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.substr(1),l="";return"@"!=s.charAt(0)&&([s,l]=function wee(n){const e=n.indexOf(".");return[n.substring(0,e),n.substr(e+1)]}(s)),this.engine.listen(this.namespaceId,o,s,l,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let Tee=(()=>{class n extends Sw{constructor(t,r,o){super(t.body,r,o)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(i.LFG(f.K0),i.LFG(Ck),i.LFG(Nk))},n.\u0275prov=i.Yz7({token:n,factory:n.\u0275fac}),n})();const IV=new i.OlP("AnimationModuleType"),AV=[{provide:Cn,useClass:_ee},{provide:Nk,useFactory:function Dee(){return new GX}},{provide:Sw,useClass:Tee},{provide:i.FYo,useFactory:function See(n,e,t){return new bee(n,e,t)},deps:[me,Sw,i.R0b]}],OV=[{provide:Ck,useFactory:()=>new mee},{provide:IV,useValue:"BrowserAnimations"},...AV],xee=[{provide:Ck,useClass:nV},{provide:IV,useValue:"NoopAnimations"},...AV];let Iee=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?xee:OV}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n}),n.\u0275inj=i.cJS({providers:OV,imports:[ji]}),n})();const Aee_firebaseConfig={apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"};(0,f.qS)(kx,"es");let Oee=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=i.oAB({type:n,bootstrap:[f2]}),n.\u0275inj=i.cJS({providers:[cs,{provide:i.soG,useValue:"es"}],imports:[[ji,Iee,Rx,f.ez,ch,nm.JF,n0,kv,xT.forRoot(PQ),Kg,HT.forRoot({defaultLanguage:Fc.q.defaultLanguage}),$H(()=>qH(Aee_firebaseConfig)),UZ(()=>HZ())]]}),n})();wi().bootstrapModule(Oee).then(n=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=n}).catch(n=>console.error(n))},8955:(le,v,w)=>{"use strict";w(8583);const i="undefined"!=typeof globalThis&&globalThis,b="undefined"!=typeof window&&window,S="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,k=i||"undefined"!=typeof global&&global||b||S,U=function(ne,...ye){if(U.translate){const Ne=U.translate(ne,ye);ne=Ne[0],ye=Ne[1]}let Ve=K(ne[0],ne.raw[0]);for(let Ne=1;Ne<ne.length;Ne++)Ve+=ye[Ne-1]+K(ne[Ne],ne.raw[Ne]);return Ve};function K(ne,ye){return":"===ye.charAt(0)?ne.substring(function he(ne,ye){for(let Ve=1,Ne=1;Ve<ne.length;Ve++,Ne++)if("\\"===ye[Ne])Ne++;else if(":"===ne[Ve])return Ve;throw new Error(`Unterminated $localize metadata block in "${ye}".`)}(ne,ye)+1):ne}k.$localize=U},5199:(le,v,w)=>{le=w.nmd(le);var i="__lodash_hash_undefined__",x=9007199254740991,k="[object Arguments]",ye="[object Function]",ce="[object Object]",rt=/^\[object .+?Constructor\]$/,nt=/^(?:0|[1-9]\d*)$/,ct={};ct["[object Float32Array]"]=ct["[object Float64Array]"]=ct["[object Int8Array]"]=ct["[object Int16Array]"]=ct["[object Int32Array]"]=ct["[object Uint8Array]"]=ct["[object Uint8ClampedArray]"]=ct["[object Uint16Array]"]=ct["[object Uint32Array]"]=!0,ct[k]=ct["[object Array]"]=ct["[object ArrayBuffer]"]=ct["[object Boolean]"]=ct["[object DataView]"]=ct["[object Date]"]=ct["[object Error]"]=ct[ye]=ct["[object Map]"]=ct["[object Number]"]=ct[ce]=ct["[object RegExp]"]=ct["[object Set]"]=ct["[object String]"]=ct["[object WeakMap]"]=!1;var Bt="object"==typeof global&&global&&global.Object===Object&&global,On="object"==typeof self&&self&&self.Object===Object&&self,pn=Bt||On||Function("return this")(),Yt=v&&!v.nodeType&&v,Bn=Yt&&le&&!le.nodeType&&le,Rn=Bn&&Bn.exports===Yt,$r=Rn&&Bt.process,ar=function(){try{return Bn&&Bn.require&&Bn.require("util").types||$r&&$r.binding&&$r.binding("util")}catch(oe){}}(),Oo=ar&&ar.isTypedArray;function hi(F,oe,de){switch(de.length){case 0:return F.call(oe);case 1:return F.call(oe,de[0]);case 2:return F.call(oe,de[0],de[1]);case 3:return F.call(oe,de[0],de[1],de[2])}return F.apply(oe,de)}var F,pi=Array.prototype,fr=Object.prototype,Ti=pn["__core-js_shared__"],Ce=Function.prototype.toString,Ee=fr.hasOwnProperty,fe=(F=/[^.]+$/.exec(Ti&&Ti.keys&&Ti.keys.IE_PROTO||""))?"Symbol(src)_1."+F:"",$=fr.toString,q=Ce.call(Object),Te=RegExp("^"+Ce.call(Ee).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ae=Rn?pn.Buffer:void 0,Le=pn.Symbol,qe=pn.Uint8Array,Dt=Ae?Ae.allocUnsafe:void 0,ot=function _o(F,oe){return function(de){return F(oe(de))}}(Object.getPrototypeOf,Object),Pt=Object.create,rn=fr.propertyIsEnumerable,Ht=pi.splice,gn=Le?Le.toStringTag:void 0,gt=function(){try{var F=qs(Object,"defineProperty");return F({},"",{}),F}catch(oe){}}(),Gt=Ae?Ae.isBuffer:void 0,Xt=Math.max,ln=Date.now,lt=qs(pn,"Map"),en=qs(Object,"create"),In=function(){function F(){}return function(oe){if(!ie(oe))return{};if(Pt)return Pt(oe);F.prototype=oe;var de=new F;return F.prototype=void 0,de}}();function Un(F){var oe=-1,de=null==F?0:F.length;for(this.clear();++oe<de;){var je=F[oe];this.set(je[0],je[1])}}function jt(F){var oe=-1,de=null==F?0:F.length;for(this.clear();++oe<de;){var je=F[oe];this.set(je[0],je[1])}}function rr(F){var oe=-1,de=null==F?0:F.length;for(this.clear();++oe<de;){var je=F[oe];this.set(je[0],je[1])}}function Ct(F){var oe=this.__data__=new jt(F);this.size=oe.size}function bt(F,oe,de){(void 0!==de&&!Zo(F[oe],de)||void 0===de&&!(oe in F))&&$e(F,oe,de)}function un(F,oe,de){var je=F[oe];(!Ee.call(F,oe)||!Zo(je,de)||void 0===de&&!(oe in F))&&$e(F,oe,de)}function vt(F,oe){for(var de=F.length;de--;)if(Zo(F[de][0],oe))return de;return-1}function $e(F,oe,de){"__proto__"==oe&&gt?gt(F,oe,{configurable:!0,enumerable:!0,value:de,writable:!0}):F[oe]=de}Un.prototype.clear=function Pn(){this.__data__=en?en(null):{},this.size=0},Un.prototype.delete=function Ut(F){var oe=this.has(F)&&delete this.__data__[F];return this.size-=oe?1:0,oe},Un.prototype.get=function En(F){var oe=this.__data__;if(en){var de=oe[F];return de===i?void 0:de}return Ee.call(oe,F)?oe[F]:void 0},Un.prototype.has=function St(F){var oe=this.__data__;return en?void 0!==oe[F]:Ee.call(oe,F)},Un.prototype.set=function Tn(F,oe){var de=this.__data__;return this.size+=this.has(F)?0:1,de[F]=en&&void 0===oe?i:oe,this},jt.prototype.clear=function yr(){this.__data__=[],this.size=0},jt.prototype.delete=function qr(F){var oe=this.__data__,de=vt(oe,F);return!(de<0||(de==oe.length-1?oe.pop():Ht.call(oe,de,1),--this.size,0))},jt.prototype.get=function Dn(F){var oe=this.__data__,de=vt(oe,F);return de<0?void 0:oe[de][1]},jt.prototype.has=function mn(F){return vt(this.__data__,F)>-1},jt.prototype.set=function pr(F,oe){var de=this.__data__,je=vt(de,F);return je<0?(++this.size,de.push([F,oe])):de[je][1]=oe,this},rr.prototype.clear=function jn(){this.size=0,this.__data__={hash:new Un,map:new(lt||jt),string:new Un}},rr.prototype.delete=function bn(F){var oe=Sn(this,F).delete(F);return this.size-=oe?1:0,oe},rr.prototype.get=function Rt(F){return Sn(this,F).get(F)},rr.prototype.has=function ve(F){return Sn(this,F).has(F)},rr.prototype.set=function Me(F,oe){var de=Sn(this,F),je=de.size;return de.set(F,oe),this.size+=de.size==je?0:1,this},Ct.prototype.clear=function wt(){this.__data__=new jt,this.size=0},Ct.prototype.delete=function Ft(F){var oe=this.__data__,de=oe.delete(F);return this.size=oe.size,de},Ct.prototype.get=function at(F){return this.__data__.get(F)},Ct.prototype.has=function dt(F){return this.__data__.has(F)},Ct.prototype.set=function He(F,oe){var de=this.__data__;if(de instanceof jt){var je=de.__data__;if(!lt||je.length<199)return je.push([F,oe]),this.size=++de.size,this;de=this.__data__=new rr(je)}return de.set(F,oe),this.size=de.size,this};var mt=function Nr(F){return function(oe,de,je){for(var yt=-1,kt=Object(oe),It=je(oe),Zt=It.length;Zt--;){var Kt=It[F?Zt:++yt];if(!1===de(kt[Kt],Kt,kt))break}return oe}}();function _t(F){return null==F?void 0===F?"[object Undefined]":"[object Null]":gn&&gn in Object(F)?function Po(F){var oe=Ee.call(F,gn),de=F[gn];try{F[gn]=void 0;var je=!0}catch(kt){}var yt=$.call(F);return je&&(oe?F[gn]=de:delete F[gn]),yt}(F):function ma(F){return $.call(F)}(F)}function dn(F){return j(F)&&_t(F)==k}function Nn(F,oe,de,je,yt){F!==oe&&mt(oe,function(kt,It){if(yt||(yt=new Ct),ie(kt))!function Di(F,oe,de,je,yt,kt,It){var Zt=io(F,de),Kt=io(oe,de),$n=It.get(Kt);if($n)bt(F,de,$n);else{var Xn=kt?kt(Zt,Kt,de+"",F,oe,It):void 0,ii=void 0===Xn;if(ii){var zs=Ko(Kt),Ka=!zs&&xi(Kt),I=!zs&&!Ka&&O(Kt);Xn=Kt,zs||Ka||I?Ko(Zt)?Xn=Zt:function Ro(F){return j(F)&&ms(F)}(Zt)?Xn=function Mr(F,oe){var de=-1,je=F.length;for(oe||(oe=Array(je));++de<je;)oe[de]=F[de];return oe}(Zt):Ka?(ii=!1,Xn=function Vi(F,oe){if(oe)return F.slice();var de=F.length,je=Dt?Dt(de):new F.constructor(de);return F.copy(je),je}(Kt,!0)):I?(ii=!1,Xn=function ro(F,oe){var de=oe?function ri(F){var oe=new F.constructor(F.byteLength);return new qe(oe).set(new qe(F)),oe}(F.buffer):F.buffer;return new F.constructor(de,F.byteOffset,F.length)}(Kt,!0)):Xn=[]:function C(F){if(!j(F)||_t(F)!=ce)return!1;var oe=ot(F);if(null===oe)return!0;var de=Ee.call(oe,"constructor")&&oe.constructor;return"function"==typeof de&&de instanceof de&&Ce.call(de)==q}(Kt)||No(Kt)?(Xn=Zt,No(Zt)?Xn=function M(F){return function gr(F,oe,de,je){var yt=!de;de||(de={});for(var kt=-1,It=oe.length;++kt<It;){var Zt=oe[kt],Kt=je?je(de[Zt],F[Zt],Zt,de,F):void 0;void 0===Kt&&(Kt=F[Zt]),yt?$e(de,Zt,Kt):un(de,Zt,Kt)}return de}(F,z(F))}(Zt):(!ie(Zt)||Er(Zt))&&(Xn=function mi(F){return"function"!=typeof F.constructor||jr(F)?{}:In(ot(F))}(Kt))):ii=!1}ii&&(It.set(Kt,Xn),yt(Xn,Kt,je,kt,It),It.delete(Kt)),bt(F,de,Xn)}}(F,oe,It,de,Nn,je,yt);else{var Zt=je?je(io(F,It),kt,It+"",F,oe,yt):void 0;void 0===Zt&&(Zt=kt),bt(F,It,Zt)}},z)}function Qn(F,oe){return Si(function Ws(F,oe,de){return oe=Xt(void 0===oe?F.length-1:oe,0),function(){for(var je=arguments,yt=-1,kt=Xt(je.length-oe,0),It=Array(kt);++yt<kt;)It[yt]=je[oe+yt];yt=-1;for(var Zt=Array(oe+1);++yt<oe;)Zt[yt]=je[yt];return Zt[oe]=de(It),hi(F,this,Zt)}}(F,oe,ae),F+"")}var Jt=gt?function(F,oe){return gt(F,"toString",{configurable:!0,enumerable:!1,value:Y(oe),writable:!0})}:ae;function ir(F,oe,de,je,yt,kt){return ie(F)&&ie(oe)&&(kt.set(oe,F),Nn(F,oe,void 0,ir,kt),kt.delete(oe)),F}function Sn(F,oe){var de=F.__data__;return function gs(F){var oe=typeof F;return"string"==oe||"number"==oe||"symbol"==oe||"boolean"==oe?"__proto__"!==F:null===F}(oe)?de["string"==typeof oe?"string":"hash"]:de.map}function qs(F,oe){var de=function ji(F,oe){return null==F?void 0:F[oe]}(F,oe);return function Mn(F){return!(!ie(F)||function Tr(F){return!!fe&&fe in F}(F))&&(Er(F)?Te:rt).test(function Za(F){if(null!=F){try{return Ce.call(F)}catch(oe){}try{return F+""}catch(oe){}}return""}(F))}(de)?de:void 0}function Wr(F,oe){var de=typeof F;return!!(oe=null==oe?x:oe)&&("number"==de||"symbol"!=de&&nt.test(F))&&F>-1&&F%1==0&&F<oe}function jr(F){var oe=F&&F.constructor;return F===("function"==typeof oe&&oe.prototype||fr)}function io(F,oe){if(("constructor"!==oe||"function"!=typeof F[oe])&&"__proto__"!=oe)return F[oe]}var Si=function za(F){var oe=0,de=0;return function(){var je=ln(),yt=16-(je-de);if(de=je,yt>0){if(++oe>=800)return arguments[0]}else oe=0;return F.apply(void 0,arguments)}}(Jt);function Zo(F,oe){return F===oe||F!=F&&oe!=oe}var No=dn(function(){return arguments}())?dn:function(F){return j(F)&&Ee.call(F,"callee")&&!rn.call(F,"callee")},Ko=Array.isArray;function ms(F){return null!=F&&W(F.length)&&!Er(F)}var xi=Gt||function Se(){return!1};function Er(F){if(!ie(F))return!1;var oe=_t(F);return oe==ye||"[object GeneratorFunction]"==oe||"[object AsyncFunction]"==oe||"[object Proxy]"==oe}function W(F){return"number"==typeof F&&F>-1&&F%1==0&&F<=x}function ie(F){var oe=typeof F;return null!=F&&("object"==oe||"function"==oe)}function j(F){return null!=F&&"object"==typeof F}var O=Oo?function fi(F){return function(oe){return F(oe)}}(Oo):function Zn(F){return j(F)&&W(F.length)&&!!ct[_t(F)]},R=Qn(function(F){return F.push(void 0,ir),hi(re,void 0,F)});function z(F){return ms(F)?function ht(F,oe){var de=Ko(F),je=!de&&No(F),yt=!de&&!je&&xi(F),kt=!de&&!je&&!yt&&O(F),It=de||je||yt||kt,Zt=It?function wi(F,oe){for(var de=-1,je=Array(F);++de<F;)je[de]=oe(de);return je}(F.length,String):[],Kt=Zt.length;for(var $n in F)(oe||Ee.call(F,$n))&&(!It||!("length"==$n||yt&&("offset"==$n||"parent"==$n)||kt&&("buffer"==$n||"byteLength"==$n||"byteOffset"==$n)||Wr($n,Kt)))&&Zt.push($n);return Zt}(F,!0):function Ln(F){if(!ie(F))return function ga(F){var oe=[];if(null!=F)for(var de in Object(F))oe.push(de);return oe}(F);var oe=jr(F),de=[];for(var je in F)"constructor"==je&&(oe||!Ee.call(F,je))||de.push(je);return de}(F)}var re=function gi(F){return Qn(function(oe,de){var je=-1,yt=de.length,kt=yt>1?de[yt-1]:void 0,It=yt>2?de[2]:void 0;for(kt=F.length>3&&"function"==typeof kt?(yt--,kt):void 0,It&&function Mo(F,oe,de){if(!ie(de))return!1;var je=typeof oe;return!!("number"==je?ms(de)&&Wr(oe,de.length):"string"==je&&oe in de)&&Zo(de[oe],F)}(de[0],de[1],It)&&(kt=yt<3?void 0:kt,yt=1),oe=Object(oe);++je<yt;){var Zt=de[je];Zt&&F(oe,Zt,je,kt)}return oe})}(function(F,oe,de,je){Nn(F,oe,de,je)});function Y(F){return function(){return F}}function ae(F){return F}le.exports=R},8306:(le,v,w)=>{"use strict";w.d(v,{y:()=>he});var f=w(930),i=w(727),b=w(8822),S=w(4671);var U=w(2416),ee=w(576),K=w(2806);let he=(()=>{class Ne{constructor(Je){Je&&(this._subscribe=Je)}lift(Je){const ce=new Ne;return ce.source=this,ce.operator=Je,ce}subscribe(Je,ce,Re){const be=function Ve(Ne){return Ne&&Ne instanceof f.Lv||function ye(Ne){return Ne&&(0,ee.m)(Ne.next)&&(0,ee.m)(Ne.error)&&(0,ee.m)(Ne.complete)}(Ne)&&(0,i.Nn)(Ne)}(Je)?Je:new f.Hp(Je,ce,Re);return(0,K.x)(()=>{const{operator:Fe,source:Pe}=this;be.add(Fe?Fe.call(be,Pe):Pe?this._subscribe(be):this._trySubscribe(be))}),be}_trySubscribe(Je){try{return this._subscribe(Je)}catch(ce){Je.error(ce)}}forEach(Je,ce){return new(ce=ne(ce))((Re,be)=>{const Fe=new f.Hp({next:Pe=>{try{Je(Pe)}catch(we){be(we),Fe.unsubscribe()}},error:be,complete:Re});this.subscribe(Fe)})}_subscribe(Je){var ce;return null===(ce=this.source)||void 0===ce?void 0:ce.subscribe(Je)}[b.L](){return this}pipe(...Je){return function k(Ne){return 0===Ne.length?S.y:1===Ne.length?Ne[0]:function(Je){return Ne.reduce((ce,Re)=>Re(ce),Je)}}(Je)(this)}toPromise(Je){return new(Je=ne(Je))((ce,Re)=>{let be;this.subscribe(Fe=>be=Fe,Fe=>Re(Fe),()=>ce(be))})}}return Ne.create=Be=>new Ne(Be),Ne})();function ne(Ne){var Be;return null!==(Be=null!=Ne?Ne:U.v.Promise)&&void 0!==Be?Be:Promise}},7579:(le,v,w)=>{"use strict";w.d(v,{x:()=>U});var f=w(8306),i=w(727);const S=(0,w(3888).d)(K=>function(){K(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var x=w(8737),k=w(2806);let U=(()=>{class K extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ne){const ye=new ee(this,this);return ye.operator=ne,ye}_throwIfClosed(){if(this.closed)throw new S}next(ne){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ye of this.currentObservers)ye.next(ne)}})}error(ne){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ne;const{observers:ye}=this;for(;ye.length;)ye.shift().error(ne)}})}complete(){(0,k.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ne}=this;for(;ne.length;)ne.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ne;return(null===(ne=this.observers)||void 0===ne?void 0:ne.length)>0}_trySubscribe(ne){return this._throwIfClosed(),super._trySubscribe(ne)}_subscribe(ne){return this._throwIfClosed(),this._checkFinalizedStatuses(ne),this._innerSubscribe(ne)}_innerSubscribe(ne){const{hasError:ye,isStopped:Ve,observers:Ne}=this;return ye||Ve?i.Lc:(this.currentObservers=null,Ne.push(ne),new i.w0(()=>{this.currentObservers=null,(0,x.P)(Ne,ne)}))}_checkFinalizedStatuses(ne){const{hasError:ye,thrownError:Ve,isStopped:Ne}=this;ye?ne.error(Ve):Ne&&ne.complete()}asObservable(){const ne=new f.y;return ne.source=this,ne}}return K.create=(he,ne)=>new ee(he,ne),K})();class ee extends U{constructor(he,ne){super(),this.destination=he,this.source=ne}next(he){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.next)||void 0===ye||ye.call(ne,he)}error(he){var ne,ye;null===(ye=null===(ne=this.destination)||void 0===ne?void 0:ne.error)||void 0===ye||ye.call(ne,he)}complete(){var he,ne;null===(ne=null===(he=this.destination)||void 0===he?void 0:he.complete)||void 0===ne||ne.call(he)}_subscribe(he){var ne,ye;return null!==(ye=null===(ne=this.source)||void 0===ne?void 0:ne.subscribe(he))&&void 0!==ye?ye:i.Lc}}},930:(le,v,w)=>{"use strict";w.d(v,{Hp:()=>Je,Lv:()=>ye});var f=w(576),i=w(727),b=w(2416),S=w(7849),x=w(5032);const k=K("C",void 0,void 0);function K(Pe,we,ue){return{kind:Pe,value:we,error:ue}}var he=w(3410),ne=w(2806);class ye extends i.w0{constructor(we){super(),this.isStopped=!1,we?(this.destination=we,(0,i.Nn)(we)&&we.add(this)):this.destination=Fe}static create(we,ue,ke){return new Je(we,ue,ke)}next(we){this.isStopped?be(function ee(Pe){return K("N",Pe,void 0)}(we),this):this._next(we)}error(we){this.isStopped?be(function U(Pe){return K("E",void 0,Pe)}(we),this):(this.isStopped=!0,this._error(we))}complete(){this.isStopped?be(k,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(we){this.destination.next(we)}_error(we){try{this.destination.error(we)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ve=Function.prototype.bind;function Ne(Pe,we){return Ve.call(Pe,we)}class Be{constructor(we){this.partialObserver=we}next(we){const{partialObserver:ue}=this;if(ue.next)try{ue.next(we)}catch(ke){ce(ke)}}error(we){const{partialObserver:ue}=this;if(ue.error)try{ue.error(we)}catch(ke){ce(ke)}else ce(we)}complete(){const{partialObserver:we}=this;if(we.complete)try{we.complete()}catch(ue){ce(ue)}}}class Je extends ye{constructor(we,ue,ke){let De;if(super(),(0,f.m)(we)||!we)De={next:null!=we?we:void 0,error:null!=ue?ue:void 0,complete:null!=ke?ke:void 0};else{let Ue;this&&b.v.useDeprecatedNextContext?(Ue=Object.create(we),Ue.unsubscribe=()=>this.unsubscribe(),De={next:we.next&&Ne(we.next,Ue),error:we.error&&Ne(we.error,Ue),complete:we.complete&&Ne(we.complete,Ue)}):De=we}this.destination=new Be(De)}}function ce(Pe){b.v.useDeprecatedSynchronousErrorHandling?(0,ne.O)(Pe):(0,S.h)(Pe)}function be(Pe,we){const{onStoppedNotification:ue}=b.v;ue&&he.z.setTimeout(()=>ue(Pe,we))}const Fe={closed:!0,next:x.Z,error:function Re(Pe){throw Pe},complete:x.Z}},727:(le,v,w)=>{"use strict";w.d(v,{Lc:()=>k,w0:()=>x,Nn:()=>U});var f=w(576);const b=(0,w(3888).d)(K=>function(ne){K(this),this.message=ne?`${ne.length} errors occurred during unsubscription:\n${ne.map((ye,Ve)=>`${Ve+1}) ${ye.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ne});var S=w(8737);class x{constructor(he){this.initialTeardown=he,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let he;if(!this.closed){this.closed=!0;const{_parentage:ne}=this;if(ne)if(this._parentage=null,Array.isArray(ne))for(const Ne of ne)Ne.remove(this);else ne.remove(this);const{initialTeardown:ye}=this;if((0,f.m)(ye))try{ye()}catch(Ne){he=Ne instanceof b?Ne.errors:[Ne]}const{_finalizers:Ve}=this;if(Ve){this._finalizers=null;for(const Ne of Ve)try{ee(Ne)}catch(Be){he=null!=he?he:[],Be instanceof b?he=[...he,...Be.errors]:he.push(Be)}}if(he)throw new b(he)}}add(he){var ne;if(he&&he!==this)if(this.closed)ee(he);else{if(he instanceof x){if(he.closed||he._hasParent(this))return;he._addParent(this)}(this._finalizers=null!==(ne=this._finalizers)&&void 0!==ne?ne:[]).push(he)}}_hasParent(he){const{_parentage:ne}=this;return ne===he||Array.isArray(ne)&&ne.includes(he)}_addParent(he){const{_parentage:ne}=this;this._parentage=Array.isArray(ne)?(ne.push(he),ne):ne?[ne,he]:he}_removeParent(he){const{_parentage:ne}=this;ne===he?this._parentage=null:Array.isArray(ne)&&(0,S.P)(ne,he)}remove(he){const{_finalizers:ne}=this;ne&&(0,S.P)(ne,he),he instanceof x&&he._removeParent(this)}}x.EMPTY=(()=>{const K=new x;return K.closed=!0,K})();const k=x.EMPTY;function U(K){return K instanceof x||K&&"closed"in K&&(0,f.m)(K.remove)&&(0,f.m)(K.add)&&(0,f.m)(K.unsubscribe)}function ee(K){(0,f.m)(K)?K():K.unsubscribe()}},2416:(le,v,w)=>{"use strict";w.d(v,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(le,v,w)=>{"use strict";w.d(v,{E:()=>i});const i=new(w(8306).y)(x=>x.complete())},8996:(le,v,w)=>{"use strict";w.d(v,{D:()=>we});var f=w(8421),i=w(5363),b=w(9468),k=w(8306),ee=w(2202),K=w(576),he=w(9672);function ye(ue,ke){if(!ue)throw new Error("Iterable cannot be null");return new k.y(De=>{(0,he.f)(De,ke,()=>{const Ue=ue[Symbol.asyncIterator]();(0,he.f)(De,ke,()=>{Ue.next().then(Q=>{Q.done?De.complete():De.next(Q.value)})},0,!0)})})}var Ve=w(3670),Ne=w(8239),Be=w(1144),Je=w(6495),ce=w(2206),Re=w(4532),be=w(3260);function we(ue,ke){return ke?function Pe(ue,ke){if(null!=ue){if((0,Ve.c)(ue))return function S(ue,ke){return(0,f.Xf)(ue).pipe((0,b.R)(ke),(0,i.Q)(ke))}(ue,ke);if((0,Be.z)(ue))return function U(ue,ke){return new k.y(De=>{let Ue=0;return ke.schedule(function(){Ue===ue.length?De.complete():(De.next(ue[Ue++]),De.closed||this.schedule())})})}(ue,ke);if((0,Ne.t)(ue))return function x(ue,ke){return(0,f.Xf)(ue).pipe((0,b.R)(ke),(0,i.Q)(ke))}(ue,ke);if((0,ce.D)(ue))return ye(ue,ke);if((0,Je.T)(ue))return function ne(ue,ke){return new k.y(De=>{let Ue;return(0,he.f)(De,ke,()=>{Ue=ue[ee.h](),(0,he.f)(De,ke,()=>{let Q,H;try{({value:Q,done:H}=Ue.next())}catch(Z){return void De.error(Z)}H?De.complete():De.next(Q)},0,!0)}),()=>(0,K.m)(null==Ue?void 0:Ue.return)&&Ue.return()})}(ue,ke);if((0,be.L)(ue))return function Fe(ue,ke){return ye((0,be.Q)(ue),ke)}(ue,ke)}throw(0,Re.z)(ue)}(ue,ke):(0,f.Xf)(ue)}},8421:(le,v,w)=>{"use strict";w.d(v,{Xf:()=>Ve});var f=w(655),i=w(1144),b=w(8239),S=w(8306),x=w(3670),k=w(2206),U=w(4532),ee=w(6495),K=w(3260),he=w(576),ne=w(7849),ye=w(8822);function Ve(Pe){if(Pe instanceof S.y)return Pe;if(null!=Pe){if((0,x.c)(Pe))return function Ne(Pe){return new S.y(we=>{const ue=Pe[ye.L]();if((0,he.m)(ue.subscribe))return ue.subscribe(we);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,i.z)(Pe))return function Be(Pe){return new S.y(we=>{for(let ue=0;ue<Pe.length&&!we.closed;ue++)we.next(Pe[ue]);we.complete()})}(Pe);if((0,b.t)(Pe))return function Je(Pe){return new S.y(we=>{Pe.then(ue=>{we.closed||(we.next(ue),we.complete())},ue=>we.error(ue)).then(null,ne.h)})}(Pe);if((0,k.D)(Pe))return Re(Pe);if((0,ee.T)(Pe))return function ce(Pe){return new S.y(we=>{for(const ue of Pe)if(we.next(ue),we.closed)return;we.complete()})}(Pe);if((0,K.L)(Pe))return function be(Pe){return Re((0,K.Q)(Pe))}(Pe)}throw(0,U.z)(Pe)}function Re(Pe){return new S.y(we=>{(function Fe(Pe,we){var ue,ke,De,Ue;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ue=(0,f.KL)(Pe);!(ke=yield ue.next()).done;)if(we.next(ke.value),we.closed)return}catch(Q){De={error:Q}}finally{try{ke&&!ke.done&&(Ue=ue.return)&&(yield Ue.call(ue))}finally{if(De)throw De.error}}we.complete()})})(Pe,we).catch(ue=>we.error(ue))})}},9646:(le,v,w)=>{"use strict";w.d(v,{of:()=>b});var f=w(3269),i=w(8996);function b(...S){const x=(0,f.yG)(S);return(0,i.D)(S,x)}},5403:(le,v,w)=>{"use strict";w.d(v,{x:()=>i});var f=w(930);function i(S,x,k,U,ee){return new b(S,x,k,U,ee)}class b extends f.Lv{constructor(x,k,U,ee,K,he){super(x),this.onFinalize=K,this.shouldUnsubscribe=he,this._next=k?function(ne){try{k(ne)}catch(ye){x.error(ye)}}:super._next,this._error=ee?function(ne){try{ee(ne)}catch(ye){x.error(ye)}finally{this.unsubscribe()}}:super._error,this._complete=U?function(){try{U()}catch(ne){x.error(ne)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var x;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:k}=this;super.unsubscribe(),!k&&(null===(x=this.onFinalize)||void 0===x||x.call(this))}}}},4351:(le,v,w)=>{"use strict";w.d(v,{b:()=>b});var f=w(5577),i=w(576);function b(S,x){return(0,i.m)(x)?(0,f.z)(S,x,1):(0,f.z)(S,1)}},9300:(le,v,w)=>{"use strict";w.d(v,{h:()=>b});var f=w(4482),i=w(5403);function b(S,x){return(0,f.e)((k,U)=>{let ee=0;k.subscribe((0,i.x)(U,K=>S.call(x,K,ee++)&&U.next(K)))})}},4004:(le,v,w)=>{"use strict";w.d(v,{U:()=>b});var f=w(4482),i=w(5403);function b(S,x){return(0,f.e)((k,U)=>{let ee=0;k.subscribe((0,i.x)(U,K=>{U.next(S.call(x,K,ee++))}))})}},8189:(le,v,w)=>{"use strict";w.d(v,{J:()=>b});var f=w(5577),i=w(4671);function b(S=1/0){return(0,f.z)(i.y,S)}},5577:(le,v,w)=>{"use strict";w.d(v,{z:()=>ee});var f=w(4004),i=w(8421),b=w(4482),S=w(9672),x=w(5403),U=w(576);function ee(K,he,ne=1/0){return(0,U.m)(he)?ee((ye,Ve)=>(0,f.U)((Ne,Be)=>he(ye,Ne,Ve,Be))((0,i.Xf)(K(ye,Ve))),ne):("number"==typeof he&&(ne=he),(0,b.e)((ye,Ve)=>function k(K,he,ne,ye,Ve,Ne,Be,Je){const ce=[];let Re=0,be=0,Fe=!1;const Pe=()=>{Fe&&!ce.length&&!Re&&he.complete()},we=ke=>Re<ye?ue(ke):ce.push(ke),ue=ke=>{Ne&&he.next(ke),Re++;let De=!1;(0,i.Xf)(ne(ke,be++)).subscribe((0,x.x)(he,Ue=>{null==Ve||Ve(Ue),Ne?we(Ue):he.next(Ue)},()=>{De=!0},void 0,()=>{if(De)try{for(Re--;ce.length&&Re<ye;){const Ue=ce.shift();Be?(0,S.f)(he,Be,()=>ue(Ue)):ue(Ue)}Pe()}catch(Ue){he.error(Ue)}}))};return K.subscribe((0,x.x)(he,we,()=>{Fe=!0,Pe()})),()=>{null==Je||Je()}}(ye,Ve,K,ne)))}},5363:(le,v,w)=>{"use strict";w.d(v,{Q:()=>S});var f=w(9672),i=w(4482),b=w(5403);function S(x,k=0){return(0,i.e)((U,ee)=>{U.subscribe((0,b.x)(ee,K=>(0,f.f)(ee,x,()=>ee.next(K),k),()=>(0,f.f)(ee,x,()=>ee.complete(),k),K=>(0,f.f)(ee,x,()=>ee.error(K),k)))})}},3099:(le,v,w)=>{"use strict";w.d(v,{B:()=>k});var f=w(8996),i=w(5698),b=w(7579),S=w(930),x=w(4482);function k(ee={}){const{connector:K=(()=>new b.x),resetOnError:he=!0,resetOnComplete:ne=!0,resetOnRefCountZero:ye=!0}=ee;return Ve=>{let Ne=null,Be=null,Je=null,ce=0,Re=!1,be=!1;const Fe=()=>{null==Be||Be.unsubscribe(),Be=null},Pe=()=>{Fe(),Ne=Je=null,Re=be=!1},we=()=>{const ue=Ne;Pe(),null==ue||ue.unsubscribe()};return(0,x.e)((ue,ke)=>{ce++,!be&&!Re&&Fe();const De=Je=null!=Je?Je:K();ke.add(()=>{ce--,0===ce&&!be&&!Re&&(Be=U(we,ye))}),De.subscribe(ke),Ne||(Ne=new S.Hp({next:Ue=>De.next(Ue),error:Ue=>{be=!0,Fe(),Be=U(Pe,he,Ue),De.error(Ue)},complete:()=>{Re=!0,Fe(),Be=U(Pe,ne),De.complete()}}),(0,f.D)(ue).subscribe(Ne))})(Ve)}}function U(ee,K,...he){return!0===K?(ee(),null):!1===K?null:K(...he).pipe((0,i.q)(1)).subscribe(()=>ee())}},9468:(le,v,w)=>{"use strict";w.d(v,{R:()=>i});var f=w(4482);function i(b,S=0){return(0,f.e)((x,k)=>{k.add(b.schedule(()=>x.subscribe(k),S))})}},5698:(le,v,w)=>{"use strict";w.d(v,{q:()=>S});var f=w(515),i=w(4482),b=w(5403);function S(x){return x<=0?()=>f.E:(0,i.e)((k,U)=>{let ee=0;k.subscribe((0,b.x)(U,K=>{++ee<=x&&(U.next(K),x<=ee&&U.complete())}))})}},8505:(le,v,w)=>{"use strict";w.d(v,{b:()=>x});var f=w(576),i=w(4482),b=w(5403),S=w(4671);function x(k,U,ee){const K=(0,f.m)(k)||U||ee?{next:k,error:U,complete:ee}:k;return K?(0,i.e)((he,ne)=>{var ye;null===(ye=K.subscribe)||void 0===ye||ye.call(K);let Ve=!0;he.subscribe((0,b.x)(ne,Ne=>{var Be;null===(Be=K.next)||void 0===Be||Be.call(K,Ne),ne.next(Ne)},()=>{var Ne;Ve=!1,null===(Ne=K.complete)||void 0===Ne||Ne.call(K),ne.complete()},Ne=>{var Be;Ve=!1,null===(Be=K.error)||void 0===Be||Be.call(K,Ne),ne.error(Ne)},()=>{var Ne,Be;Ve&&(null===(Ne=K.unsubscribe)||void 0===Ne||Ne.call(K)),null===(Be=K.finalize)||void 0===Be||Be.call(K)}))}):S.y}},3410:(le,v,w)=>{"use strict";w.d(v,{z:()=>f});const f={setTimeout(i,b,...S){const{delegate:x}=f;return(null==x?void 0:x.setTimeout)?x.setTimeout(i,b,...S):setTimeout(i,b,...S)},clearTimeout(i){const{delegate:b}=f;return((null==b?void 0:b.clearTimeout)||clearTimeout)(i)},delegate:void 0}},2202:(le,v,w)=>{"use strict";w.d(v,{h:()=>i});const i=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(le,v,w)=>{"use strict";w.d(v,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(le,v,w)=>{"use strict";w.d(v,{_6:()=>k,jO:()=>S,yG:()=>x});var f=w(576),i=w(3532);function b(U){return U[U.length-1]}function S(U){return(0,f.m)(b(U))?U.pop():void 0}function x(U){return(0,i.K)(b(U))?U.pop():void 0}function k(U,ee){return"number"==typeof b(U)?U.pop():ee}},8737:(le,v,w)=>{"use strict";function f(i,b){if(i){const S=i.indexOf(b);0<=S&&i.splice(S,1)}}w.d(v,{P:()=>f})},3888:(le,v,w)=>{"use strict";function f(i){const S=i(x=>{Error.call(x),x.stack=(new Error).stack});return S.prototype=Object.create(Error.prototype),S.prototype.constructor=S,S}w.d(v,{d:()=>f})},2806:(le,v,w)=>{"use strict";w.d(v,{O:()=>S,x:()=>b});var f=w(2416);let i=null;function b(x){if(f.v.useDeprecatedSynchronousErrorHandling){const k=!i;if(k&&(i={errorThrown:!1,error:null}),x(),k){const{errorThrown:U,error:ee}=i;if(i=null,U)throw ee}}else x()}function S(x){f.v.useDeprecatedSynchronousErrorHandling&&i&&(i.errorThrown=!0,i.error=x)}},9672:(le,v,w)=>{"use strict";function f(i,b,S,x=0,k=!1){const U=b.schedule(function(){S(),k?i.add(this.schedule(null,x)):this.unsubscribe()},x);if(i.add(U),!k)return U}w.d(v,{f:()=>f})},4671:(le,v,w)=>{"use strict";function f(i){return i}w.d(v,{y:()=>f})},1144:(le,v,w)=>{"use strict";w.d(v,{z:()=>f});const f=i=>i&&"number"==typeof i.length&&"function"!=typeof i},2206:(le,v,w)=>{"use strict";w.d(v,{D:()=>i});var f=w(576);function i(b){return Symbol.asyncIterator&&(0,f.m)(null==b?void 0:b[Symbol.asyncIterator])}},576:(le,v,w)=>{"use strict";function f(i){return"function"==typeof i}w.d(v,{m:()=>f})},3670:(le,v,w)=>{"use strict";w.d(v,{c:()=>b});var f=w(8822),i=w(576);function b(S){return(0,i.m)(S[f.L])}},6495:(le,v,w)=>{"use strict";w.d(v,{T:()=>b});var f=w(2202),i=w(576);function b(S){return(0,i.m)(null==S?void 0:S[f.h])}},8239:(le,v,w)=>{"use strict";w.d(v,{t:()=>i});var f=w(576);function i(b){return(0,f.m)(null==b?void 0:b.then)}},3260:(le,v,w)=>{"use strict";w.d(v,{L:()=>S,Q:()=>b});var f=w(655),i=w(576);function b(x){return(0,f.FC)(this,arguments,function*(){const U=x.getReader();try{for(;;){const{value:ee,done:K}=yield(0,f.qq)(U.read());if(K)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(ee)}}finally{U.releaseLock()}})}function S(x){return(0,i.m)(null==x?void 0:x.getReader)}},3532:(le,v,w)=>{"use strict";w.d(v,{K:()=>i});var f=w(576);function i(b){return b&&(0,f.m)(b.schedule)}},4482:(le,v,w)=>{"use strict";w.d(v,{A:()=>i,e:()=>b});var f=w(576);function i(S){return(0,f.m)(null==S?void 0:S.lift)}function b(S){return x=>{if(i(x))return x.lift(function(k){try{return S(k,this)}catch(U){this.error(U)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(le,v,w)=>{"use strict";function f(){}w.d(v,{Z:()=>f})},7849:(le,v,w)=>{"use strict";w.d(v,{h:()=>b});var f=w(2416),i=w(3410);function b(S){i.z.setTimeout(()=>{const{onUnhandledError:x}=f.v;if(!x)throw S;x(S)})}},4532:(le,v,w)=>{"use strict";function f(i){return new TypeError(`You provided ${null!==i&&"object"==typeof i?"an invalid object":`'${i}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}w.d(v,{z:()=>f})},8583:()=>{"use strict";!function(Ce){const Ee=Ce.performance;function fe(bn){Ee&&Ee.mark&&Ee.mark(bn)}function $(bn,Rt){Ee&&Ee.measure&&Ee.measure(bn,Rt)}fe("Zone");const q=Ce.__Zone_symbol_prefix||"__zone_symbol__";function Te(bn){return q+bn}const Ae=!0===Ce[Te("forceDuplicateZoneCheck")];if(Ce.Zone){if(Ae||"function"!=typeof Ce.Zone.__symbol__)throw new Error("Zone already loaded.");return Ce.Zone}let Le=(()=>{class bn{constructor(ve,Me){this._parent=ve,this._name=Me?Me.name||"unnamed":"<root>",this._properties=Me&&Me.properties||{},this._zoneDelegate=new Dt(this,this._parent&&this._parent._zoneDelegate,Me)}static assertZonePatched(){if(Ce.Promise!==qr.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let ve=bn.current;for(;ve.parent;)ve=ve.parent;return ve}static get current(){return mn.zone}static get currentTask(){return pr}static __load_patch(ve,Me,Ct=!1){if(qr.hasOwnProperty(ve)){if(!Ct&&Ae)throw Error("Already loaded patch: "+ve)}else if(!Ce["__Zone_disable_"+ve]){const wt="Zone:"+ve;fe(wt),qr[ve]=Me(Ce,bn,Dn),$(wt,wt)}}get parent(){return this._parent}get name(){return this._name}get(ve){const Me=this.getZoneWith(ve);if(Me)return Me._properties[ve]}getZoneWith(ve){let Me=this;for(;Me;){if(Me._properties.hasOwnProperty(ve))return Me;Me=Me._parent}return null}fork(ve){if(!ve)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,ve)}wrap(ve,Me){if("function"!=typeof ve)throw new Error("Expecting function got: "+ve);const Ct=this._zoneDelegate.intercept(this,ve,Me),wt=this;return function(){return wt.runGuarded(Ct,this,arguments,Me)}}run(ve,Me,Ct,wt){mn={parent:mn,zone:this};try{return this._zoneDelegate.invoke(this,ve,Me,Ct,wt)}finally{mn=mn.parent}}runGuarded(ve,Me=null,Ct,wt){mn={parent:mn,zone:this};try{try{return this._zoneDelegate.invoke(this,ve,Me,Ct,wt)}catch(Ft){if(this._zoneDelegate.handleError(this,Ft))throw Ft}}finally{mn=mn.parent}}runTask(ve,Me,Ct){if(ve.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(ve.zone||en).name+"; Execution: "+this.name+")");if(ve.state===In&&(ve.type===yr||ve.type===jt))return;const wt=ve.state!=Ut;wt&&ve._transitionTo(Ut,Pn),ve.runCount++;const Ft=pr;pr=ve,mn={parent:mn,zone:this};try{ve.type==jt&&ve.data&&!ve.data.isPeriodic&&(ve.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,ve,Me,Ct)}catch(at){if(this._zoneDelegate.handleError(this,at))throw at}}finally{ve.state!==In&&ve.state!==St&&(ve.type==yr||ve.data&&ve.data.isPeriodic?wt&&ve._transitionTo(Pn,Ut):(ve.runCount=0,this._updateTaskCount(ve,-1),wt&&ve._transitionTo(In,Ut,In))),mn=mn.parent,pr=Ft}}scheduleTask(ve){if(ve.zone&&ve.zone!==this){let Ct=this;for(;Ct;){if(Ct===ve.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${ve.zone.name}`);Ct=Ct.parent}}ve._transitionTo(Un,In);const Me=[];ve._zoneDelegates=Me,ve._zone=this;try{ve=this._zoneDelegate.scheduleTask(this,ve)}catch(Ct){throw ve._transitionTo(St,Un,In),this._zoneDelegate.handleError(this,Ct),Ct}return ve._zoneDelegates===Me&&this._updateTaskCount(ve,1),ve.state==Un&&ve._transitionTo(Pn,Un),ve}scheduleMicroTask(ve,Me,Ct,wt){return this.scheduleTask(new ot(Tn,ve,Me,Ct,wt,void 0))}scheduleMacroTask(ve,Me,Ct,wt,Ft){return this.scheduleTask(new ot(jt,ve,Me,Ct,wt,Ft))}scheduleEventTask(ve,Me,Ct,wt,Ft){return this.scheduleTask(new ot(yr,ve,Me,Ct,wt,Ft))}cancelTask(ve){if(ve.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(ve.zone||en).name+"; Execution: "+this.name+")");ve._transitionTo(En,Pn,Ut);try{this._zoneDelegate.cancelTask(this,ve)}catch(Me){throw ve._transitionTo(St,En),this._zoneDelegate.handleError(this,Me),Me}return this._updateTaskCount(ve,-1),ve._transitionTo(In,En),ve.runCount=0,ve}_updateTaskCount(ve,Me){const Ct=ve._zoneDelegates;-1==Me&&(ve._zoneDelegates=null);for(let wt=0;wt<Ct.length;wt++)Ct[wt]._updateTaskCount(ve.type,Me)}}return bn.__symbol__=Te,bn})();const qe={name:"",onHasTask:(bn,Rt,ve,Me)=>bn.hasTask(ve,Me),onScheduleTask:(bn,Rt,ve,Me)=>bn.scheduleTask(ve,Me),onInvokeTask:(bn,Rt,ve,Me,Ct,wt)=>bn.invokeTask(ve,Me,Ct,wt),onCancelTask:(bn,Rt,ve,Me)=>bn.cancelTask(ve,Me)};class Dt{constructor(Rt,ve,Me){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=Rt,this._parentDelegate=ve,this._forkZS=Me&&(Me&&Me.onFork?Me:ve._forkZS),this._forkDlgt=Me&&(Me.onFork?ve:ve._forkDlgt),this._forkCurrZone=Me&&(Me.onFork?this.zone:ve._forkCurrZone),this._interceptZS=Me&&(Me.onIntercept?Me:ve._interceptZS),this._interceptDlgt=Me&&(Me.onIntercept?ve:ve._interceptDlgt),this._interceptCurrZone=Me&&(Me.onIntercept?this.zone:ve._interceptCurrZone),this._invokeZS=Me&&(Me.onInvoke?Me:ve._invokeZS),this._invokeDlgt=Me&&(Me.onInvoke?ve:ve._invokeDlgt),this._invokeCurrZone=Me&&(Me.onInvoke?this.zone:ve._invokeCurrZone),this._handleErrorZS=Me&&(Me.onHandleError?Me:ve._handleErrorZS),this._handleErrorDlgt=Me&&(Me.onHandleError?ve:ve._handleErrorDlgt),this._handleErrorCurrZone=Me&&(Me.onHandleError?this.zone:ve._handleErrorCurrZone),this._scheduleTaskZS=Me&&(Me.onScheduleTask?Me:ve._scheduleTaskZS),this._scheduleTaskDlgt=Me&&(Me.onScheduleTask?ve:ve._scheduleTaskDlgt),this._scheduleTaskCurrZone=Me&&(Me.onScheduleTask?this.zone:ve._scheduleTaskCurrZone),this._invokeTaskZS=Me&&(Me.onInvokeTask?Me:ve._invokeTaskZS),this._invokeTaskDlgt=Me&&(Me.onInvokeTask?ve:ve._invokeTaskDlgt),this._invokeTaskCurrZone=Me&&(Me.onInvokeTask?this.zone:ve._invokeTaskCurrZone),this._cancelTaskZS=Me&&(Me.onCancelTask?Me:ve._cancelTaskZS),this._cancelTaskDlgt=Me&&(Me.onCancelTask?ve:ve._cancelTaskDlgt),this._cancelTaskCurrZone=Me&&(Me.onCancelTask?this.zone:ve._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const Ct=Me&&Me.onHasTask;(Ct||ve&&ve._hasTaskZS)&&(this._hasTaskZS=Ct?Me:qe,this._hasTaskDlgt=ve,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=Rt,Me.onScheduleTask||(this._scheduleTaskZS=qe,this._scheduleTaskDlgt=ve,this._scheduleTaskCurrZone=this.zone),Me.onInvokeTask||(this._invokeTaskZS=qe,this._invokeTaskDlgt=ve,this._invokeTaskCurrZone=this.zone),Me.onCancelTask||(this._cancelTaskZS=qe,this._cancelTaskDlgt=ve,this._cancelTaskCurrZone=this.zone))}fork(Rt,ve){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,Rt,ve):new Le(Rt,ve)}intercept(Rt,ve,Me){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,Rt,ve,Me):ve}invoke(Rt,ve,Me,Ct,wt){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,Rt,ve,Me,Ct,wt):ve.apply(Me,Ct)}handleError(Rt,ve){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,Rt,ve)}scheduleTask(Rt,ve){let Me=ve;if(this._scheduleTaskZS)this._hasTaskZS&&Me._zoneDelegates.push(this._hasTaskDlgtOwner),Me=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,Rt,ve),Me||(Me=ve);else if(ve.scheduleFn)ve.scheduleFn(ve);else{if(ve.type!=Tn)throw new Error("Task is missing scheduleFn.");ln(ve)}return Me}invokeTask(Rt,ve,Me,Ct){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,Rt,ve,Me,Ct):ve.callback.apply(Me,Ct)}cancelTask(Rt,ve){let Me;if(this._cancelTaskZS)Me=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,Rt,ve);else{if(!ve.cancelFn)throw Error("Task is not cancelable");Me=ve.cancelFn(ve)}return Me}hasTask(Rt,ve){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,Rt,ve)}catch(Me){this.handleError(Rt,Me)}}_updateTaskCount(Rt,ve){const Me=this._taskCounts,Ct=Me[Rt],wt=Me[Rt]=Ct+ve;if(wt<0)throw new Error("More tasks executed then were scheduled.");0!=Ct&&0!=wt||this.hasTask(this.zone,{microTask:Me.microTask>0,macroTask:Me.macroTask>0,eventTask:Me.eventTask>0,change:Rt})}}class ot{constructor(Rt,ve,Me,Ct,wt,Ft){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=Rt,this.source=ve,this.data=Ct,this.scheduleFn=wt,this.cancelFn=Ft,!Me)throw new Error("callback is not defined");this.callback=Me;const at=this;this.invoke=Rt===yr&&Ct&&Ct.useG?ot.invokeTask:function(){return ot.invokeTask.call(Ce,at,this,arguments)}}static invokeTask(Rt,ve,Me){Rt||(Rt=this),rr++;try{return Rt.runCount++,Rt.zone.runTask(Rt,ve,Me)}finally{1==rr&&lt(),rr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(In,Un)}_transitionTo(Rt,ve,Me){if(this._state!==ve&&this._state!==Me)throw new Error(`${this.type} '${this.source}': can not transition to '${Rt}', expecting state '${ve}'${Me?" or '"+Me+"'":""}, was '${this._state}'.`);this._state=Rt,Rt==In&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const Pt=Te("setTimeout"),rn=Te("Promise"),Ht=Te("then");let Gt,gn=[],gt=!1;function Xt(bn){if(Gt||Ce[rn]&&(Gt=Ce[rn].resolve(0)),Gt){let Rt=Gt[Ht];Rt||(Rt=Gt.then),Rt.call(Gt,bn)}else Ce[Pt](bn,0)}function ln(bn){0===rr&&0===gn.length&&Xt(lt),bn&&gn.push(bn)}function lt(){if(!gt){for(gt=!0;gn.length;){const bn=gn;gn=[];for(let Rt=0;Rt<bn.length;Rt++){const ve=bn[Rt];try{ve.zone.runTask(ve,null,null)}catch(Me){Dn.onUnhandledError(Me)}}}Dn.microtaskDrainDone(),gt=!1}}const en={name:"NO ZONE"},In="notScheduled",Un="scheduling",Pn="scheduled",Ut="running",En="canceling",St="unknown",Tn="microTask",jt="macroTask",yr="eventTask",qr={},Dn={symbol:Te,currentZoneFrame:()=>mn,onUnhandledError:jn,microtaskDrainDone:jn,scheduleMicroTask:ln,showUncaughtError:()=>!Le[Te("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:jn,patchMethod:()=>jn,bindArguments:()=>[],patchThen:()=>jn,patchMacroTask:()=>jn,patchEventPrototype:()=>jn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>jn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>jn,wrapWithCurrentZone:()=>jn,filterProperties:()=>[],attachOriginToPatched:()=>jn,_redefineProperty:()=>jn,patchCallbacks:()=>jn,nativeScheduleMicroTask:Xt};let mn={parent:null,zone:new Le(null,null)},pr=null,rr=0;function jn(){}$("Zone","Zone"),Ce.Zone=Le}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const le=Object.getOwnPropertyDescriptor,v=Object.defineProperty,w=Object.getPrototypeOf,f=Object.create,i=Array.prototype.slice,b="addEventListener",S="removeEventListener",x=Zone.__symbol__(b),k=Zone.__symbol__(S),U="true",ee="false",K=Zone.__symbol__("");function he(Ce,Ee){return Zone.current.wrap(Ce,Ee)}function ne(Ce,Ee,fe,$,q){return Zone.current.scheduleMacroTask(Ce,Ee,fe,$,q)}const ye=Zone.__symbol__,Ve="undefined"!=typeof window,Ne=Ve?window:void 0,Be=Ve&&Ne||"object"==typeof self&&self||global;function ce(Ce,Ee){for(let fe=Ce.length-1;fe>=0;fe--)"function"==typeof Ce[fe]&&(Ce[fe]=he(Ce[fe],Ee+"_"+fe));return Ce}function be(Ce){return!Ce||!1!==Ce.writable&&!("function"==typeof Ce.get&&void 0===Ce.set)}const Fe="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Pe=!("nw"in Be)&&void 0!==Be.process&&"[object process]"==={}.toString.call(Be.process),we=!Pe&&!Fe&&!(!Ve||!Ne.HTMLElement),ue=void 0!==Be.process&&"[object process]"==={}.toString.call(Be.process)&&!Fe&&!(!Ve||!Ne.HTMLElement),ke={},De=function(Ce){if(!(Ce=Ce||Be.event))return;let Ee=ke[Ce.type];Ee||(Ee=ke[Ce.type]=ye("ON_PROPERTY"+Ce.type));const fe=this||Ce.target||Be,$=fe[Ee];let q;if(we&&fe===Ne&&"error"===Ce.type){const Te=Ce;q=$&&$.call(this,Te.message,Te.filename,Te.lineno,Te.colno,Te.error),!0===q&&Ce.preventDefault()}else q=$&&$.apply(this,arguments),null!=q&&!q&&Ce.preventDefault();return q};function Ue(Ce,Ee,fe){let $=le(Ce,Ee);if(!$&&fe&&le(fe,Ee)&&($={enumerable:!0,configurable:!0}),!$||!$.configurable)return;const q=ye("on"+Ee+"patched");if(Ce.hasOwnProperty(q)&&Ce[q])return;delete $.writable,delete $.value;const Te=$.get,Ae=$.set,Le=Ee.substr(2);let qe=ke[Le];qe||(qe=ke[Le]=ye("ON_PROPERTY"+Le)),$.set=function(Dt){let ot=this;!ot&&Ce===Be&&(ot=Be),ot&&("function"==typeof ot[qe]&&ot.removeEventListener(Le,De),Ae&&Ae.call(ot,null),ot[qe]=Dt,"function"==typeof Dt&&ot.addEventListener(Le,De,!1))},$.get=function(){let Dt=this;if(!Dt&&Ce===Be&&(Dt=Be),!Dt)return null;const ot=Dt[qe];if(ot)return ot;if(Te){let Pt=Te.call(this);if(Pt)return $.set.call(this,Pt),"function"==typeof Dt.removeAttribute&&Dt.removeAttribute(Ee),Pt}return null},v(Ce,Ee,$),Ce[q]=!0}function Q(Ce,Ee,fe){if(Ee)for(let $=0;$<Ee.length;$++)Ue(Ce,"on"+Ee[$],fe);else{const $=[];for(const q in Ce)"on"==q.substr(0,2)&&$.push(q);for(let q=0;q<$.length;q++)Ue(Ce,$[q],fe)}}const H=ye("originalInstance");function Z(Ce){const Ee=Be[Ce];if(!Ee)return;Be[ye(Ce)]=Ee,Be[Ce]=function(){const q=ce(arguments,Ce);switch(q.length){case 0:this[H]=new Ee;break;case 1:this[H]=new Ee(q[0]);break;case 2:this[H]=new Ee(q[0],q[1]);break;case 3:this[H]=new Ee(q[0],q[1],q[2]);break;case 4:this[H]=new Ee(q[0],q[1],q[2],q[3]);break;default:throw new Error("Arg list too long.")}},X(Be[Ce],Ee);const fe=new Ee(function(){});let $;for($ in fe)"XMLHttpRequest"===Ce&&"responseBlob"===$||function(q){"function"==typeof fe[q]?Be[Ce].prototype[q]=function(){return this[H][q].apply(this[H],arguments)}:v(Be[Ce].prototype,q,{set:function(Te){"function"==typeof Te?(this[H][q]=he(Te,Ce+"."+q),X(this[H][q],Te)):this[H][q]=Te},get:function(){return this[H][q]}})}($);for($ in Ee)"prototype"!==$&&Ee.hasOwnProperty($)&&(Be[Ce][$]=Ee[$])}function se(Ce,Ee,fe){let $=Ce;for(;$&&!$.hasOwnProperty(Ee);)$=w($);!$&&Ce[Ee]&&($=Ce);const q=ye(Ee);let Te=null;if($&&(!(Te=$[q])||!$.hasOwnProperty(q))&&(Te=$[q]=$[Ee],be($&&le($,Ee)))){const Le=fe(Te,q,Ee);$[Ee]=function(){return Le(this,arguments)},X($[Ee],Te)}return Te}function me(Ce,Ee,fe){let $=null;function q(Te){const Ae=Te.data;return Ae.args[Ae.cbIdx]=function(){Te.invoke.apply(this,arguments)},$.apply(Ae.target,Ae.args),Te}$=se(Ce,Ee,Te=>function(Ae,Le){const qe=fe(Ae,Le);return qe.cbIdx>=0&&"function"==typeof Le[qe.cbIdx]?ne(qe.name,Le[qe.cbIdx],qe,q):Te.apply(Ae,Le)})}function X(Ce,Ee){Ce[ye("OriginalDelegate")]=Ee}let Ke=!1,tt=!1;function rt(){if(Ke)return tt;Ke=!0;try{const Ce=Ne.navigator.userAgent;(-1!==Ce.indexOf("MSIE ")||-1!==Ce.indexOf("Trident/")||-1!==Ce.indexOf("Edge/"))&&(tt=!0)}catch(Ce){}return tt}Zone.__load_patch("ZoneAwarePromise",(Ce,Ee,fe)=>{const $=Object.getOwnPropertyDescriptor,q=Object.defineProperty,Ae=fe.symbol,Le=[],qe=!0===Ce[Ae("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],Dt=Ae("Promise"),ot=Ae("then");fe.onUnhandledError=at=>{if(fe.showUncaughtError()){const dt=at&&at.rejection;dt?console.error("Unhandled Promise rejection:",dt instanceof Error?dt.message:dt,"; Zone:",at.zone.name,"; Task:",at.task&&at.task.source,"; Value:",dt,dt instanceof Error?dt.stack:void 0):console.error(at)}},fe.microtaskDrainDone=()=>{for(;Le.length;){const at=Le.shift();try{at.zone.runGuarded(()=>{throw at.throwOriginal?at.rejection:at})}catch(dt){Ht(dt)}}};const rn=Ae("unhandledPromiseRejectionHandler");function Ht(at){fe.onUnhandledError(at);try{const dt=Ee[rn];"function"==typeof dt&&dt.call(this,at)}catch(dt){}}function gn(at){return at&&at.then}function gt(at){return at}function Gt(at){return ve.reject(at)}const Xt=Ae("state"),ln=Ae("value"),lt=Ae("finally"),en=Ae("parentPromiseValue"),In=Ae("parentPromiseState"),Pn=null,En=!1;function Tn(at,dt){return He=>{try{Dn(at,dt,He)}catch(ht){Dn(at,!1,ht)}}}const qr=Ae("currentTaskTrace");function Dn(at,dt,He){const ht=function(){let at=!1;return function(He){return function(){at||(at=!0,He.apply(null,arguments))}}}();if(at===He)throw new TypeError("Promise resolved with itself");if(at[Xt]===Pn){let bt=null;try{("object"==typeof He||"function"==typeof He)&&(bt=He&&He.then)}catch(un){return ht(()=>{Dn(at,!1,un)})(),at}if(dt!==En&&He instanceof ve&&He.hasOwnProperty(Xt)&&He.hasOwnProperty(ln)&&He[Xt]!==Pn)pr(He),Dn(at,He[Xt],He[ln]);else if(dt!==En&&"function"==typeof bt)try{bt.call(He,ht(Tn(at,dt)),ht(Tn(at,!1)))}catch(un){ht(()=>{Dn(at,!1,un)})()}else{at[Xt]=dt;const un=at[ln];if(at[ln]=He,at[lt]===lt&&!0===dt&&(at[Xt]=at[In],at[ln]=at[en]),dt===En&&He instanceof Error){const vt=Ee.currentTask&&Ee.currentTask.data&&Ee.currentTask.data.__creationTrace__;vt&&q(He,qr,{configurable:!0,enumerable:!1,writable:!0,value:vt})}for(let vt=0;vt<un.length;)rr(at,un[vt++],un[vt++],un[vt++],un[vt++]);if(0==un.length&&dt==En){at[Xt]=0;let vt=He;try{throw new Error("Uncaught (in promise): "+function Te(at){return at&&at.toString===Object.prototype.toString?(at.constructor&&at.constructor.name||"")+": "+JSON.stringify(at):at?at.toString():Object.prototype.toString.call(at)}(He)+(He&&He.stack?"\n"+He.stack:""))}catch($e){vt=$e}qe&&(vt.throwOriginal=!0),vt.rejection=He,vt.promise=at,vt.zone=Ee.current,vt.task=Ee.currentTask,Le.push(vt),fe.scheduleMicroTask()}}}return at}const mn=Ae("rejectionHandledHandler");function pr(at){if(0===at[Xt]){try{const dt=Ee[mn];dt&&"function"==typeof dt&&dt.call(this,{rejection:at[ln],promise:at})}catch(dt){}at[Xt]=En;for(let dt=0;dt<Le.length;dt++)at===Le[dt].promise&&Le.splice(dt,1)}}function rr(at,dt,He,ht,bt){pr(at);const un=at[Xt],vt=un?"function"==typeof ht?ht:gt:"function"==typeof bt?bt:Gt;dt.scheduleMicroTask("Promise.then",()=>{try{const $e=at[ln],mt=!!He&&lt===He[lt];mt&&(He[en]=$e,He[In]=un);const _t=dt.run(vt,void 0,mt&&vt!==Gt&&vt!==gt?[]:[$e]);Dn(He,!0,_t)}catch($e){Dn(He,!1,$e)}},He)}const bn=function(){},Rt=Ce.AggregateError;class ve{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(dt){return Dn(new this(null),!0,dt)}static reject(dt){return Dn(new this(null),En,dt)}static any(dt){if(!dt||"function"!=typeof dt[Symbol.iterator])return Promise.reject(new Rt([],"All promises were rejected"));const He=[];let ht=0;try{for(let vt of dt)ht++,He.push(ve.resolve(vt))}catch(vt){return Promise.reject(new Rt([],"All promises were rejected"))}if(0===ht)return Promise.reject(new Rt([],"All promises were rejected"));let bt=!1;const un=[];return new ve((vt,$e)=>{for(let mt=0;mt<He.length;mt++)He[mt].then(_t=>{bt||(bt=!0,vt(_t))},_t=>{un.push(_t),ht--,0===ht&&(bt=!0,$e(new Rt(un,"All promises were rejected")))})})}static race(dt){let He,ht,bt=new this(($e,mt)=>{He=$e,ht=mt});function un($e){He($e)}function vt($e){ht($e)}for(let $e of dt)gn($e)||($e=this.resolve($e)),$e.then(un,vt);return bt}static all(dt){return ve.allWithCallback(dt)}static allSettled(dt){return(this&&this.prototype instanceof ve?this:ve).allWithCallback(dt,{thenCallback:ht=>({status:"fulfilled",value:ht}),errorCallback:ht=>({status:"rejected",reason:ht})})}static allWithCallback(dt,He){let ht,bt,un=new this((_t,dn)=>{ht=_t,bt=dn}),vt=2,$e=0;const mt=[];for(let _t of dt){gn(_t)||(_t=this.resolve(_t));const dn=$e;try{_t.then(Mn=>{mt[dn]=He?He.thenCallback(Mn):Mn,vt--,0===vt&&ht(mt)},Mn=>{He?(mt[dn]=He.errorCallback(Mn),vt--,0===vt&&ht(mt)):bt(Mn)})}catch(Mn){bt(Mn)}vt++,$e++}return vt-=2,0===vt&&ht(mt),un}constructor(dt){const He=this;if(!(He instanceof ve))throw new Error("Must be an instanceof Promise.");He[Xt]=Pn,He[ln]=[];try{dt&&dt(Tn(He,!0),Tn(He,En))}catch(ht){Dn(He,!1,ht)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return ve}then(dt,He){let ht=this.constructor[Symbol.species];(!ht||"function"!=typeof ht)&&(ht=this.constructor||ve);const bt=new ht(bn),un=Ee.current;return this[Xt]==Pn?this[ln].push(un,bt,dt,He):rr(this,un,bt,dt,He),bt}catch(dt){return this.then(null,dt)}finally(dt){let He=this.constructor[Symbol.species];(!He||"function"!=typeof He)&&(He=ve);const ht=new He(bn);ht[lt]=lt;const bt=Ee.current;return this[Xt]==Pn?this[ln].push(bt,ht,dt,dt):rr(this,bt,ht,dt,dt),ht}}ve.resolve=ve.resolve,ve.reject=ve.reject,ve.race=ve.race,ve.all=ve.all;const Me=Ce[Dt]=Ce.Promise;Ce.Promise=ve;const Ct=Ae("thenPatched");function wt(at){const dt=at.prototype,He=$(dt,"then");if(He&&(!1===He.writable||!He.configurable))return;const ht=dt.then;dt[ot]=ht,at.prototype.then=function(bt,un){return new ve(($e,mt)=>{ht.call(this,$e,mt)}).then(bt,un)},at[Ct]=!0}return fe.patchThen=wt,Me&&(wt(Me),se(Ce,"fetch",at=>function Ft(at){return function(dt,He){let ht=at.apply(dt,He);if(ht instanceof ve)return ht;let bt=ht.constructor;return bt[Ct]||wt(bt),ht}}(at))),Promise[Ee.__symbol__("uncaughtPromiseErrors")]=Le,ve}),Zone.__load_patch("toString",Ce=>{const Ee=Function.prototype.toString,fe=ye("OriginalDelegate"),$=ye("Promise"),q=ye("Error"),Te=function(){if("function"==typeof this){const Dt=this[fe];if(Dt)return"function"==typeof Dt?Ee.call(Dt):Object.prototype.toString.call(Dt);if(this===Promise){const ot=Ce[$];if(ot)return Ee.call(ot)}if(this===Error){const ot=Ce[q];if(ot)return Ee.call(ot)}}return Ee.call(this)};Te[fe]=Ee,Function.prototype.toString=Te;const Ae=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":Ae.call(this)}});let nt=!1;if("undefined"!=typeof window)try{const Ce=Object.defineProperty({},"passive",{get:function(){nt=!0}});window.addEventListener("test",Ce,Ce),window.removeEventListener("test",Ce,Ce)}catch(Ce){nt=!1}const ct={useG:!0},Bt={},On={},pn=new RegExp("^"+K+"(\\w+)(true|false)$"),Yt=ye("propagationStopped");function Bn(Ce,Ee){const fe=(Ee?Ee(Ce):Ce)+ee,$=(Ee?Ee(Ce):Ce)+U,q=K+fe,Te=K+$;Bt[Ce]={},Bt[Ce][ee]=q,Bt[Ce][U]=Te}function Rn(Ce,Ee,fe,$){const q=$&&$.add||b,Te=$&&$.rm||S,Ae=$&&$.listeners||"eventListeners",Le=$&&$.rmAll||"removeAllListeners",qe=ye(q),Dt="."+q+":",rn=function(ln,lt,en){if(ln.isRemoved)return;const In=ln.callback;let Un;"object"==typeof In&&In.handleEvent&&(ln.callback=Ut=>In.handleEvent(Ut),ln.originalDelegate=In);try{ln.invoke(ln,lt,[en])}catch(Ut){Un=Ut}const Pn=ln.options;return Pn&&"object"==typeof Pn&&Pn.once&&lt[Te].call(lt,en.type,ln.originalDelegate?ln.originalDelegate:ln.callback,Pn),Un};function Ht(ln,lt,en){if(!(lt=lt||Ce.event))return;const In=ln||lt.target||Ce,Un=In[Bt[lt.type][en?U:ee]];if(Un){const Pn=[];if(1===Un.length){const Ut=rn(Un[0],In,lt);Ut&&Pn.push(Ut)}else{const Ut=Un.slice();for(let En=0;En<Ut.length&&(!lt||!0!==lt[Yt]);En++){const St=rn(Ut[En],In,lt);St&&Pn.push(St)}}if(1===Pn.length)throw Pn[0];for(let Ut=0;Ut<Pn.length;Ut++){const En=Pn[Ut];Ee.nativeScheduleMicroTask(()=>{throw En})}}}const gn=function(ln){return Ht(this,ln,!1)},gt=function(ln){return Ht(this,ln,!0)};function Gt(ln,lt){if(!ln)return!1;let en=!0;lt&&void 0!==lt.useG&&(en=lt.useG);const In=lt&&lt.vh;let Un=!0;lt&&void 0!==lt.chkDup&&(Un=lt.chkDup);let Pn=!1;lt&&void 0!==lt.rt&&(Pn=lt.rt);let Ut=ln;for(;Ut&&!Ut.hasOwnProperty(q);)Ut=w(Ut);if(!Ut&&ln[q]&&(Ut=ln),!Ut||Ut[qe])return!1;const En=lt&&lt.eventNameToString,St={},Tn=Ut[qe]=Ut[q],jt=Ut[ye(Te)]=Ut[Te],yr=Ut[ye(Ae)]=Ut[Ae],qr=Ut[ye(Le)]=Ut[Le];let Dn;function mn(He,ht){return!nt&&"object"==typeof He&&He?!!He.capture:nt&&ht?"boolean"==typeof He?{capture:He,passive:!0}:He?"object"==typeof He&&!1!==He.passive?Object.assign(Object.assign({},He),{passive:!0}):He:{passive:!0}:He}lt&&lt.prepend&&(Dn=Ut[ye(lt.prepend)]=Ut[lt.prepend]);const ve=en?function(He){if(!St.isExisting)return Tn.call(St.target,St.eventName,St.capture?gt:gn,St.options)}:function(He){return Tn.call(St.target,St.eventName,He.invoke,St.options)},Me=en?function(He){if(!He.isRemoved){const ht=Bt[He.eventName];let bt;ht&&(bt=ht[He.capture?U:ee]);const un=bt&&He.target[bt];if(un)for(let vt=0;vt<un.length;vt++)if(un[vt]===He){un.splice(vt,1),He.isRemoved=!0,0===un.length&&(He.allRemoved=!0,He.target[bt]=null);break}}if(He.allRemoved)return jt.call(He.target,He.eventName,He.capture?gt:gn,He.options)}:function(He){return jt.call(He.target,He.eventName,He.invoke,He.options)},wt=lt&&lt.diff?lt.diff:function(He,ht){const bt=typeof ht;return"function"===bt&&He.callback===ht||"object"===bt&&He.originalDelegate===ht},Ft=Zone[ye("UNPATCHED_EVENTS")],at=Ce[ye("PASSIVE_EVENTS")],dt=function(He,ht,bt,un,vt=!1,$e=!1){return function(){const mt=this||Ce;let _t=arguments[0];lt&&lt.transferEventName&&(_t=lt.transferEventName(_t));let dn=arguments[1];if(!dn)return He.apply(this,arguments);if(Pe&&"uncaughtException"===_t)return He.apply(this,arguments);let Mn=!1;if("function"!=typeof dn){if(!dn.handleEvent)return He.apply(this,arguments);Mn=!0}if(In&&!In(He,dn,mt,arguments))return;const Zn=nt&&!!at&&-1!==at.indexOf(_t),Ln=mn(arguments[2],Zn);if(Ft)for(let Sn=0;Sn<Ft.length;Sn++)if(_t===Ft[Sn])return Zn?He.call(mt,_t,dn,Ln):He.apply(this,arguments);const Nn=!!Ln&&("boolean"==typeof Ln||Ln.capture),Di=!(!Ln||"object"!=typeof Ln)&&Ln.once,Qn=Zone.current;let Jt=Bt[_t];Jt||(Bn(_t,En),Jt=Bt[_t]);const Vi=Jt[Nn?U:ee];let Mr,ri=mt[Vi],ro=!1;if(ri){if(ro=!0,Un)for(let Sn=0;Sn<ri.length;Sn++)if(wt(ri[Sn],dn))return}else ri=mt[Vi]=[];const gr=mt.constructor.name,gi=On[gr];gi&&(Mr=gi[_t]),Mr||(Mr=gr+ht+(En?En(_t):_t)),St.options=Ln,Di&&(St.options.once=!1),St.target=mt,St.capture=Nn,St.eventName=_t,St.isExisting=ro;const Nr=en?ct:void 0;Nr&&(Nr.taskData=St);const ir=Qn.scheduleEventTask(Mr,dn,Nr,bt,un);return St.target=null,Nr&&(Nr.taskData=null),Di&&(Ln.once=!0),!nt&&"boolean"==typeof ir.options||(ir.options=Ln),ir.target=mt,ir.capture=Nn,ir.eventName=_t,Mn&&(ir.originalDelegate=dn),$e?ri.unshift(ir):ri.push(ir),vt?mt:void 0}};return Ut[q]=dt(Tn,Dt,ve,Me,Pn),Dn&&(Ut.prependListener=dt(Dn,".prependListener:",function(He){return Dn.call(St.target,St.eventName,He.invoke,St.options)},Me,Pn,!0)),Ut[Te]=function(){const He=this||Ce;let ht=arguments[0];lt&&lt.transferEventName&&(ht=lt.transferEventName(ht));const bt=arguments[2],un=!!bt&&("boolean"==typeof bt||bt.capture),vt=arguments[1];if(!vt)return jt.apply(this,arguments);if(In&&!In(jt,vt,He,arguments))return;const $e=Bt[ht];let mt;$e&&(mt=$e[un?U:ee]);const _t=mt&&He[mt];if(_t)for(let dn=0;dn<_t.length;dn++){const Mn=_t[dn];if(wt(Mn,vt))return _t.splice(dn,1),Mn.isRemoved=!0,0===_t.length&&(Mn.allRemoved=!0,He[mt]=null,"string"==typeof ht)&&(He[K+"ON_PROPERTY"+ht]=null),Mn.zone.cancelTask(Mn),Pn?He:void 0}return jt.apply(this,arguments)},Ut[Ae]=function(){const He=this||Ce;let ht=arguments[0];lt&&lt.transferEventName&&(ht=lt.transferEventName(ht));const bt=[],un=$r(He,En?En(ht):ht);for(let vt=0;vt<un.length;vt++){const $e=un[vt];bt.push($e.originalDelegate?$e.originalDelegate:$e.callback)}return bt},Ut[Le]=function(){const He=this||Ce;let ht=arguments[0];if(ht){lt&&lt.transferEventName&&(ht=lt.transferEventName(ht));const bt=Bt[ht];if(bt){const $e=He[bt[ee]],mt=He[bt[U]];if($e){const _t=$e.slice();for(let dn=0;dn<_t.length;dn++){const Mn=_t[dn];this[Te].call(this,ht,Mn.originalDelegate?Mn.originalDelegate:Mn.callback,Mn.options)}}if(mt){const _t=mt.slice();for(let dn=0;dn<_t.length;dn++){const Mn=_t[dn];this[Te].call(this,ht,Mn.originalDelegate?Mn.originalDelegate:Mn.callback,Mn.options)}}}}else{const bt=Object.keys(He);for(let un=0;un<bt.length;un++){const $e=pn.exec(bt[un]);let mt=$e&&$e[1];mt&&"removeListener"!==mt&&this[Le].call(this,mt)}this[Le].call(this,"removeListener")}if(Pn)return this},X(Ut[q],Tn),X(Ut[Te],jt),qr&&X(Ut[Le],qr),yr&&X(Ut[Ae],yr),!0}let Xt=[];for(let ln=0;ln<fe.length;ln++)Xt[ln]=Gt(fe[ln],$);return Xt}function $r(Ce,Ee){if(!Ee){const Te=[];for(let Ae in Ce){const Le=pn.exec(Ae);let qe=Le&&Le[1];if(qe&&(!Ee||qe===Ee)){const Dt=Ce[Ae];if(Dt)for(let ot=0;ot<Dt.length;ot++)Te.push(Dt[ot])}}return Te}let fe=Bt[Ee];fe||(Bn(Ee),fe=Bt[Ee]);const $=Ce[fe[ee]],q=Ce[fe[U]];return $?q?$.concat(q):$.slice():q?q.slice():[]}function ar(Ce,Ee){const fe=Ce.Event;fe&&fe.prototype&&Ee.patchMethod(fe.prototype,"stopImmediatePropagation",$=>function(q,Te){q[Yt]=!0,$&&$.apply(q,Te)})}function Oo(Ce,Ee,fe,$,q){const Te=Zone.__symbol__($);if(Ee[Te])return;const Ae=Ee[Te]=Ee[$];Ee[$]=function(Le,qe,Dt){return qe&&qe.prototype&&q.forEach(function(ot){const Pt=`${fe}.${$}::`+ot,rn=qe.prototype;if(rn.hasOwnProperty(ot)){const Ht=Ce.ObjectGetOwnPropertyDescriptor(rn,ot);Ht&&Ht.value?(Ht.value=Ce.wrapWithCurrentZone(Ht.value,Pt),Ce._redefineProperty(qe.prototype,ot,Ht)):rn[ot]&&(rn[ot]=Ce.wrapWithCurrentZone(rn[ot],Pt))}else rn[ot]&&(rn[ot]=Ce.wrapWithCurrentZone(rn[ot],Pt))}),Ae.call(Ee,Le,qe,Dt)},Ce.attachOriginToPatched(Ee[$],Ae)}function hi(Ce,Ee,fe){if(!fe||0===fe.length)return Ee;const $=fe.filter(Te=>Te.target===Ce);if(!$||0===$.length)return Ee;const q=$[0].ignoreProperties;return Ee.filter(Te=>-1===q.indexOf(Te))}function wi(Ce,Ee,fe,$){Ce&&Q(Ce,hi(Ce,Ee,fe),$)}function fi(Ce){return Object.getOwnPropertyNames(Ce).filter(Ee=>Ee.startsWith("on")&&Ee.length>2).map(Ee=>Ee.substring(2))}Zone.__load_patch("util",(Ce,Ee,fe)=>{const $=fi(Ce);fe.patchOnProperties=Q,fe.patchMethod=se,fe.bindArguments=ce,fe.patchMacroTask=me;const q=Ee.__symbol__("BLACK_LISTED_EVENTS"),Te=Ee.__symbol__("UNPATCHED_EVENTS");Ce[Te]&&(Ce[q]=Ce[Te]),Ce[q]&&(Ee[q]=Ee[Te]=Ce[q]),fe.patchEventPrototype=ar,fe.patchEventTarget=Rn,fe.isIEOrEdge=rt,fe.ObjectDefineProperty=v,fe.ObjectGetOwnPropertyDescriptor=le,fe.ObjectCreate=f,fe.ArraySlice=i,fe.patchClass=Z,fe.wrapWithCurrentZone=he,fe.filterProperties=hi,fe.attachOriginToPatched=X,fe._redefineProperty=Object.defineProperty,fe.patchCallbacks=Oo,fe.getGlobalObjects=()=>({globalSources:On,zoneSymbolEventNames:Bt,eventNames:$,isBrowser:we,isMix:ue,isNode:Pe,TRUE_STR:U,FALSE_STR:ee,ZONE_SYMBOL_PREFIX:K,ADD_EVENT_LISTENER_STR:b,REMOVE_EVENT_LISTENER_STR:S})});const _o=ye("zoneTask");function pi(Ce,Ee,fe,$){let q=null,Te=null;fe+=$;const Ae={};function Le(Dt){const ot=Dt.data;return ot.args[0]=function(){return Dt.invoke.apply(this,arguments)},ot.handleId=q.apply(Ce,ot.args),Dt}function qe(Dt){return Te.call(Ce,Dt.data.handleId)}q=se(Ce,Ee+=$,Dt=>function(ot,Pt){if("function"==typeof Pt[0]){const rn={isPeriodic:"Interval"===$,delay:"Timeout"===$||"Interval"===$?Pt[1]||0:void 0,args:Pt},Ht=Pt[0];Pt[0]=function(){try{return Ht.apply(this,arguments)}finally{rn.isPeriodic||("number"==typeof rn.handleId?delete Ae[rn.handleId]:rn.handleId&&(rn.handleId[_o]=null))}};const gn=ne(Ee,Pt[0],rn,Le,qe);if(!gn)return gn;const gt=gn.data.handleId;return"number"==typeof gt?Ae[gt]=gn:gt&&(gt[_o]=gn),gt&&gt.ref&&gt.unref&&"function"==typeof gt.ref&&"function"==typeof gt.unref&&(gn.ref=gt.ref.bind(gt),gn.unref=gt.unref.bind(gt)),"number"==typeof gt||gt?gt:gn}return Dt.apply(Ce,Pt)}),Te=se(Ce,fe,Dt=>function(ot,Pt){const rn=Pt[0];let Ht;"number"==typeof rn?Ht=Ae[rn]:(Ht=rn&&rn[_o],Ht||(Ht=rn)),Ht&&"string"==typeof Ht.type?"notScheduled"!==Ht.state&&(Ht.cancelFn&&Ht.data.isPeriodic||0===Ht.runCount)&&("number"==typeof rn?delete Ae[rn]:rn&&(rn[_o]=null),Ht.zone.cancelTask(Ht)):Dt.apply(Ce,Pt)})}Zone.__load_patch("legacy",Ce=>{const Ee=Ce[Zone.__symbol__("legacyPatch")];Ee&&Ee()}),Zone.__load_patch("queueMicrotask",(Ce,Ee,fe)=>{fe.patchMethod(Ce,"queueMicrotask",$=>function(q,Te){Ee.current.scheduleMicroTask("queueMicrotask",Te[0])})}),Zone.__load_patch("timers",Ce=>{const fe="clear";pi(Ce,"set",fe,"Timeout"),pi(Ce,"set",fe,"Interval"),pi(Ce,"set",fe,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Ce=>{pi(Ce,"request","cancel","AnimationFrame"),pi(Ce,"mozRequest","mozCancel","AnimationFrame"),pi(Ce,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Ce,Ee)=>{const fe=["alert","prompt","confirm"];for(let $=0;$<fe.length;$++)se(Ce,fe[$],(Te,Ae,Le)=>function(qe,Dt){return Ee.current.run(Te,Ce,Dt,Le)})}),Zone.__load_patch("EventTarget",(Ce,Ee,fe)=>{(function Ti(Ce,Ee){Ee.patchEventPrototype(Ce,Ee)})(Ce,fe),function fr(Ce,Ee){if(Zone[Ee.symbol("patchEventTarget")])return;const{eventNames:fe,zoneSymbolEventNames:$,TRUE_STR:q,FALSE_STR:Te,ZONE_SYMBOL_PREFIX:Ae}=Ee.getGlobalObjects();for(let qe=0;qe<fe.length;qe++){const Dt=fe[qe],rn=Ae+(Dt+Te),Ht=Ae+(Dt+q);$[Dt]={},$[Dt][Te]=rn,$[Dt][q]=Ht}const Le=Ce.EventTarget;Le&&Le.prototype&&Ee.patchEventTarget(Ce,Ee,[Le&&Le.prototype])}(Ce,fe);const $=Ce.XMLHttpRequestEventTarget;$&&$.prototype&&fe.patchEventTarget(Ce,fe,[$.prototype])}),Zone.__load_patch("MutationObserver",(Ce,Ee,fe)=>{Z("MutationObserver"),Z("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Ce,Ee,fe)=>{Z("IntersectionObserver")}),Zone.__load_patch("FileReader",(Ce,Ee,fe)=>{Z("FileReader")}),Zone.__load_patch("on_property",(Ce,Ee,fe)=>{!function ji(Ce,Ee){if(Pe&&!ue||Zone[Ce.symbol("patchEvents")])return;const fe=Ee.__Zone_ignore_on_properties;let $=[];if(we){const q=window;$=$.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const Te=function qt(){try{const Ce=Ne.navigator.userAgent;if(-1!==Ce.indexOf("MSIE ")||-1!==Ce.indexOf("Trident/"))return!0}catch(Ce){}return!1}()?[{target:q,ignoreProperties:["error"]}]:[];wi(q,fi(q),fe&&fe.concat(Te),w(q))}$=$.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let q=0;q<$.length;q++){const Te=Ee[$[q]];Te&&Te.prototype&&wi(Te.prototype,fi(Te.prototype),fe)}}(fe,Ce)}),Zone.__load_patch("customElements",(Ce,Ee,fe)=>{!function zo(Ce,Ee){const{isBrowser:fe,isMix:$}=Ee.getGlobalObjects();(fe||$)&&Ce.customElements&&"customElements"in Ce&&Ee.patchCallbacks(Ee,Ce.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Ce,fe)}),Zone.__load_patch("XHR",(Ce,Ee)=>{!function qe(Dt){const ot=Dt.XMLHttpRequest;if(!ot)return;const Pt=ot.prototype;let Ht=Pt[x],gn=Pt[k];if(!Ht){const St=Dt.XMLHttpRequestEventTarget;if(St){const Tn=St.prototype;Ht=Tn[x],gn=Tn[k]}}const gt="readystatechange",Gt="scheduled";function Xt(St){const Tn=St.data,jt=Tn.target;jt[Te]=!1,jt[Le]=!1;const yr=jt[q];Ht||(Ht=jt[x],gn=jt[k]),yr&&gn.call(jt,gt,yr);const qr=jt[q]=()=>{if(jt.readyState===jt.DONE)if(!Tn.aborted&&jt[Te]&&St.state===Gt){const mn=jt[Ee.__symbol__("loadfalse")];if(0!==jt.status&&mn&&mn.length>0){const pr=St.invoke;St.invoke=function(){const rr=jt[Ee.__symbol__("loadfalse")];for(let jn=0;jn<rr.length;jn++)rr[jn]===St&&rr.splice(jn,1);!Tn.aborted&&St.state===Gt&&pr.call(St)},mn.push(St)}else St.invoke()}else!Tn.aborted&&!1===jt[Te]&&(jt[Le]=!0)};return Ht.call(jt,gt,qr),jt[fe]||(jt[fe]=St),Ut.apply(jt,Tn.args),jt[Te]=!0,St}function ln(){}function lt(St){const Tn=St.data;return Tn.aborted=!0,En.apply(Tn.target,Tn.args)}const en=se(Pt,"open",()=>function(St,Tn){return St[$]=0==Tn[2],St[Ae]=Tn[1],en.apply(St,Tn)}),Un=ye("fetchTaskAborting"),Pn=ye("fetchTaskScheduling"),Ut=se(Pt,"send",()=>function(St,Tn){if(!0===Ee.current[Pn]||St[$])return Ut.apply(St,Tn);{const jt={target:St,url:St[Ae],isPeriodic:!1,args:Tn,aborted:!1},yr=ne("XMLHttpRequest.send",ln,jt,Xt,lt);St&&!0===St[Le]&&!jt.aborted&&yr.state===Gt&&yr.invoke()}}),En=se(Pt,"abort",()=>function(St,Tn){const jt=function rn(St){return St[fe]}(St);if(jt&&"string"==typeof jt.type){if(null==jt.cancelFn||jt.data&&jt.data.aborted)return;jt.zone.cancelTask(jt)}else if(!0===Ee.current[Un])return En.apply(St,Tn)})}(Ce);const fe=ye("xhrTask"),$=ye("xhrSync"),q=ye("xhrListener"),Te=ye("xhrScheduled"),Ae=ye("xhrURL"),Le=ye("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Ce=>{Ce.navigator&&Ce.navigator.geolocation&&function Re(Ce,Ee){const fe=Ce.constructor.name;for(let $=0;$<Ee.length;$++){const q=Ee[$],Te=Ce[q];if(Te){if(!be(le(Ce,q)))continue;Ce[q]=(Le=>{const qe=function(){return Le.apply(this,ce(arguments,fe+"."+q))};return X(qe,Le),qe})(Te)}}}(Ce.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Ce,Ee)=>{function fe($){return function(q){$r(Ce,$).forEach(Ae=>{const Le=Ce.PromiseRejectionEvent;if(Le){const qe=new Le($,{promise:q.promise,reason:q.rejection});Ae.invoke(qe)}})}}Ce.PromiseRejectionEvent&&(Ee[ye("unhandledPromiseRejectionHandler")]=fe("unhandledrejection"),Ee[ye("rejectionHandledHandler")]=fe("rejectionhandled"))})},655:(le,v,w)=>{"use strict";function S(Q,H){var Z={};for(var se in Q)Object.prototype.hasOwnProperty.call(Q,se)&&H.indexOf(se)<0&&(Z[se]=Q[se]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var me=0;for(se=Object.getOwnPropertySymbols(Q);me<se.length;me++)H.indexOf(se[me])<0&&Object.prototype.propertyIsEnumerable.call(Q,se[me])&&(Z[se[me]]=Q[se[me]])}return Z}function ee(Q,H,Z,se){return new(Z||(Z=Promise))(function(X,Ke){function tt(nt){try{rt(se.next(nt))}catch(ct){Ke(ct)}}function qt(nt){try{rt(se.throw(nt))}catch(ct){Ke(ct)}}function rt(nt){nt.done?X(nt.value):function me(X){return X instanceof Z?X:new Z(function(Ke){Ke(X)})}(nt.value).then(tt,qt)}rt((se=se.apply(Q,H||[])).next())})}function ce(Q){return this instanceof ce?(this.v=Q,this):new ce(Q)}function Re(Q,H,Z){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var me,se=Z.apply(Q,H||[]),X=[];return me={},Ke("next"),Ke("throw"),Ke("return"),me[Symbol.asyncIterator]=function(){return this},me;function Ke(Bt){se[Bt]&&(me[Bt]=function(On){return new Promise(function(pn,Yt){X.push([Bt,On,pn,Yt])>1||tt(Bt,On)})})}function tt(Bt,On){try{!function qt(Bt){Bt.value instanceof ce?Promise.resolve(Bt.value.v).then(rt,nt):ct(X[0][2],Bt)}(se[Bt](On))}catch(pn){ct(X[0][3],pn)}}function rt(Bt){tt("next",Bt)}function nt(Bt){tt("throw",Bt)}function ct(Bt,On){Bt(On),X.shift(),X.length&&tt(X[0][0],X[0][1])}}function Fe(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Z,H=Q[Symbol.asyncIterator];return H?H.call(Q):(Q=function ye(Q){var H="function"==typeof Symbol&&Symbol.iterator,Z=H&&Q[H],se=0;if(Z)return Z.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&se>=Q.length&&(Q=void 0),{value:Q&&Q[se++],done:!Q}}};throw new TypeError(H?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),Z={},se("next"),se("throw"),se("return"),Z[Symbol.asyncIterator]=function(){return this},Z);function se(X){Z[X]=Q[X]&&function(Ke){return new Promise(function(tt,qt){!function me(X,Ke,tt,qt){Promise.resolve(qt).then(function(rt){X({value:rt,done:tt})},Ke)}(tt,qt,(Ke=Q[X](Ke)).done,Ke.value)})}}}w.d(v,{FC:()=>Re,KL:()=>Fe,_T:()=>S,mG:()=>ee,qq:()=>ce})},9808:(le,v,w)=>{"use strict";w.d(v,{Do:()=>Pe,EM:()=>Kt,HT:()=>x,JF:()=>Ka,JJ:()=>C,K0:()=>U,Mx:()=>Ln,NF:()=>je,O5:()=>ro,S$:()=>ce,Ts:()=>Er,V_:()=>he,Ye:()=>we,b0:()=>Fe,bD:()=>Se,ez:()=>ae,lw:()=>ee,mk:()=>Nn,mr:()=>be,q:()=>b,qS:()=>Zn,sg:()=>Jt,tP:()=>Mo,uU:()=>Ko,w_:()=>k});var f=w(7587);let i=null;function b(){return i}function x(I){i||(i=I)}class k{}const U=new f.OlP("DocumentToken");let ee=(()=>{class I{historyGo(A){throw new Error("Not implemented")}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return function K(){return(0,f.LFG)(ne)}()},providedIn:"platform"}),I})();const he=new f.OlP("Location Initialized");let ne=(()=>{class I extends ee{constructor(A){super(),this._doc=A,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return b().getBaseHref(this._doc)}onPopState(A){const G=b().getGlobalEventTarget(this._doc,"window");return G.addEventListener("popstate",A,!1),()=>G.removeEventListener("popstate",A)}onHashChange(A){const G=b().getGlobalEventTarget(this._doc,"window");return G.addEventListener("hashchange",A,!1),()=>G.removeEventListener("hashchange",A)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(A){this.location.pathname=A}pushState(A,G,pe){ye()?this._history.pushState(A,G,pe):this.location.hash=pe}replaceState(A,G,pe){ye()?this._history.replaceState(A,G,pe):this.location.hash=pe}forward(){this._history.forward()}back(){this._history.back()}historyGo(A=0){this._history.go(A)}getState(){return this._history.state}}return I.\u0275fac=function(A){return new(A||I)(f.LFG(U))},I.\u0275prov=f.Yz7({token:I,factory:function(){return function Ve(){return new ne((0,f.LFG)(U))}()},providedIn:"platform"}),I})();function ye(){return!!window.history.pushState}function Ne(I,B){if(0==I.length)return B;if(0==B.length)return I;let A=0;return I.endsWith("/")&&A++,B.startsWith("/")&&A++,2==A?I+B.substring(1):1==A?I+B:I+"/"+B}function Be(I){const B=I.match(/#|\?|$/),A=B&&B.index||I.length;return I.slice(0,A-("/"===I[A-1]?1:0))+I.slice(A)}function Je(I){return I&&"?"!==I[0]?"?"+I:I}let ce=(()=>{class I{historyGo(A){throw new Error("Not implemented")}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275prov=f.Yz7({token:I,factory:function(){return function Re(I){const B=(0,f.LFG)(U).location;return new Fe((0,f.LFG)(ee),B&&B.origin||"")}()},providedIn:"root"}),I})();const be=new f.OlP("appBaseHref");let Fe=(()=>{class I extends ce{constructor(A,G){if(super(),this._platformLocation=A,this._removeListenerFns=[],null==G&&(G=this._platformLocation.getBaseHrefFromDOM()),null==G)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=G}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}prepareExternalUrl(A){return Ne(this._baseHref,A)}path(A=!1){const G=this._platformLocation.pathname+Je(this._platformLocation.search),pe=this._platformLocation.hash;return pe&&A?`${G}${pe}`:G}pushState(A,G,pe,We){const it=this.prepareExternalUrl(pe+Je(We));this._platformLocation.pushState(A,G,it)}replaceState(A,G,pe,We){const it=this.prepareExternalUrl(pe+Je(We));this._platformLocation.replaceState(A,G,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var G,pe;null===(pe=(G=this._platformLocation).historyGo)||void 0===pe||pe.call(G,A)}}return I.\u0275fac=function(A){return new(A||I)(f.LFG(ee),f.LFG(be,8))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})(),Pe=(()=>{class I extends ce{constructor(A,G){super(),this._platformLocation=A,this._baseHref="",this._removeListenerFns=[],null!=G&&(this._baseHref=G)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(A){this._removeListenerFns.push(this._platformLocation.onPopState(A),this._platformLocation.onHashChange(A))}getBaseHref(){return this._baseHref}path(A=!1){let G=this._platformLocation.hash;return null==G&&(G="#"),G.length>0?G.substring(1):G}prepareExternalUrl(A){const G=Ne(this._baseHref,A);return G.length>0?"#"+G:G}pushState(A,G,pe,We){let it=this.prepareExternalUrl(pe+Je(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.pushState(A,G,it)}replaceState(A,G,pe,We){let it=this.prepareExternalUrl(pe+Je(We));0==it.length&&(it=this._platformLocation.pathname),this._platformLocation.replaceState(A,G,it)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(A=0){var G,pe;null===(pe=(G=this._platformLocation).historyGo)||void 0===pe||pe.call(G,A)}}return I.\u0275fac=function(A){return new(A||I)(f.LFG(ee),f.LFG(be,8))},I.\u0275prov=f.Yz7({token:I,factory:I.\u0275fac}),I})(),we=(()=>{class I{constructor(A,G){this._subject=new f.vpe,this._urlChangeListeners=[],this._platformStrategy=A;const pe=this._platformStrategy.getBaseHref();this._platformLocation=G,this._baseHref=Be(De(pe)),this._platformStrategy.onPopState(We=>{this._subject.emit({url:this.path(!0),pop:!0,state:We.state,type:We.type})})}path(A=!1){return this.normalize(this._platformStrategy.path(A))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(A,G=""){return this.path()==this.normalize(A+Je(G))}normalize(A){return I.stripTrailingSlash(function ke(I,B){return I&&B.startsWith(I)?B.substring(I.length):B}(this._baseHref,De(A)))}prepareExternalUrl(A){return A&&"/"!==A[0]&&(A="/"+A),this._platformStrategy.prepareExternalUrl(A)}go(A,G="",pe=null){this._platformStrategy.pushState(pe,"",A,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Je(G)),pe)}replaceState(A,G="",pe=null){this._platformStrategy.replaceState(pe,"",A,G),this._notifyUrlChangeListeners(this.prepareExternalUrl(A+Je(G)),pe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(A=0){var G,pe;null===(pe=(G=this._platformStrategy).historyGo)||void 0===pe||pe.call(G,A)}onUrlChange(A){this._urlChangeListeners.push(A),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(G=>{this._notifyUrlChangeListeners(G.url,G.state)}))}_notifyUrlChangeListeners(A="",G){this._urlChangeListeners.forEach(pe=>pe(A,G))}subscribe(A,G,pe){return this._subject.subscribe({next:A,error:G,complete:pe})}}return I.normalizeQueryParams=Je,I.joinWithSlash=Ne,I.stripTrailingSlash=Be,I.\u0275fac=function(A){return new(A||I)(f.LFG(ce),f.LFG(ee))},I.\u0275prov=f.Yz7({token:I,factory:function(){return function ue(){return new we((0,f.LFG)(ce),(0,f.LFG)(ee))}()},providedIn:"root"}),I})();function De(I){return I.replace(/\/index.html$/,"")}var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),Z=(()=>((Z=Z||{})[Z.Format=0]="Format",Z[Z.Standalone=1]="Standalone",Z))(),se=(()=>((se=se||{})[se.Narrow=0]="Narrow",se[se.Abbreviated=1]="Abbreviated",se[se.Wide=2]="Wide",se[se.Short=3]="Short",se))(),me=(()=>((me=me||{})[me.Short=0]="Short",me[me.Medium=1]="Medium",me[me.Long=2]="Long",me[me.Full=3]="Full",me))(),X=(()=>((X=X||{})[X.Decimal=0]="Decimal",X[X.Group=1]="Group",X[X.List=2]="List",X[X.PercentSign=3]="PercentSign",X[X.PlusSign=4]="PlusSign",X[X.MinusSign=5]="MinusSign",X[X.Exponential=6]="Exponential",X[X.SuperscriptingExponent=7]="SuperscriptingExponent",X[X.PerMille=8]="PerMille",X[X.Infinity=9]="Infinity",X[X.NaN=10]="NaN",X[X.TimeSeparator=11]="TimeSeparator",X[X.CurrencyDecimal=12]="CurrencyDecimal",X[X.CurrencyGroup=13]="CurrencyGroup",X))();function pn(I,B){return fr((0,f.cg1)(I)[f.wAp.DateFormat],B)}function Yt(I,B){return fr((0,f.cg1)(I)[f.wAp.TimeFormat],B)}function Bn(I,B){return fr((0,f.cg1)(I)[f.wAp.DateTimeFormat],B)}function Rn(I,B){const A=(0,f.cg1)(I),G=A[f.wAp.NumberSymbols][B];if(void 0===G){if(B===X.CurrencyDecimal)return A[f.wAp.NumberSymbols][X.Decimal];if(B===X.CurrencyGroup)return A[f.wAp.NumberSymbols][X.Group]}return G}function ji(I){if(!I[f.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${I[f.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function fr(I,B){for(let A=B;A>-1;A--)if(void 0!==I[A])return I[A];throw new Error("Locale data API: locale data undefined")}function Ti(I){const[B,A]=I.split(":");return{hours:+B,minutes:+A}}const $=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},Te=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var Ae=(()=>((Ae=Ae||{})[Ae.Short=0]="Short",Ae[Ae.ShortGMT=1]="ShortGMT",Ae[Ae.Long=2]="Long",Ae[Ae.Extended=3]="Extended",Ae))(),Le=(()=>((Le=Le||{})[Le.FullYear=0]="FullYear",Le[Le.Month=1]="Month",Le[Le.Date=2]="Date",Le[Le.Hours=3]="Hours",Le[Le.Minutes=4]="Minutes",Le[Le.Seconds=5]="Seconds",Le[Le.FractionalSeconds=6]="FractionalSeconds",Le[Le.Day=7]="Day",Le))(),qe=(()=>((qe=qe||{})[qe.DayPeriods=0]="DayPeriods",qe[qe.Days=1]="Days",qe[qe.Months=2]="Months",qe[qe.Eras=3]="Eras",qe))();function Dt(I,B,A,G){let pe=function Dn(I){if(pr(I))return I;if("number"==typeof I&&!isNaN(I))return new Date(I);if("string"==typeof I){if(I=I.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(I)){const[pe,We=1,it=1]=I.split("-").map(Tt=>+Tt);return ot(pe,We-1,it)}const A=parseFloat(I);if(!isNaN(I-A))return new Date(A);let G;if(G=I.match($))return function mn(I){const B=new Date(0);let A=0,G=0;const pe=I[8]?B.setUTCFullYear:B.setFullYear,We=I[8]?B.setUTCHours:B.setHours;I[9]&&(A=Number(I[9]+I[10]),G=Number(I[9]+I[11])),pe.call(B,Number(I[1]),Number(I[2])-1,Number(I[3]));const it=Number(I[4]||0)-A,Tt=Number(I[5]||0)-G,vr=Number(I[6]||0),br=Math.floor(1e3*parseFloat("0."+(I[7]||0)));return We.call(B,it,Tt,vr,br),B}(G)}const B=new Date(I);if(!pr(B))throw new Error(`Unable to convert "${I}" into a date`);return B}(I);B=Pt(A,B)||B;let Tt,it=[];for(;B;){if(Tt=Te.exec(B),!Tt){it.push(B);break}{it=it.concat(Tt.slice(1));const er=it.pop();if(!er)break;B=er}}let vr=pe.getTimezoneOffset();G&&(vr=jt(G,vr),pe=function qr(I,B,A){const G=A?-1:1,pe=I.getTimezoneOffset();return function yr(I,B){return(I=new Date(I.getTime())).setMinutes(I.getMinutes()+B),I}(I,G*(jt(B,pe)-pe))}(pe,G,!0));let br="";return it.forEach(er=>{const xn=function Tn(I){if(St[I])return St[I];let B;switch(I){case"G":case"GG":case"GGG":B=Xt(qe.Eras,se.Abbreviated);break;case"GGGG":B=Xt(qe.Eras,se.Wide);break;case"GGGGG":B=Xt(qe.Eras,se.Narrow);break;case"y":B=gt(Le.FullYear,1,0,!1,!0);break;case"yy":B=gt(Le.FullYear,2,0,!0,!0);break;case"yyy":B=gt(Le.FullYear,3,0,!1,!0);break;case"yyyy":B=gt(Le.FullYear,4,0,!1,!0);break;case"Y":B=En(1);break;case"YY":B=En(2,!0);break;case"YYY":B=En(3);break;case"YYYY":B=En(4);break;case"M":case"L":B=gt(Le.Month,1,1);break;case"MM":case"LL":B=gt(Le.Month,2,1);break;case"MMM":B=Xt(qe.Months,se.Abbreviated);break;case"MMMM":B=Xt(qe.Months,se.Wide);break;case"MMMMM":B=Xt(qe.Months,se.Narrow);break;case"LLL":B=Xt(qe.Months,se.Abbreviated,Z.Standalone);break;case"LLLL":B=Xt(qe.Months,se.Wide,Z.Standalone);break;case"LLLLL":B=Xt(qe.Months,se.Narrow,Z.Standalone);break;case"w":B=Ut(1);break;case"ww":B=Ut(2);break;case"W":B=Ut(1,!0);break;case"d":B=gt(Le.Date,1);break;case"dd":B=gt(Le.Date,2);break;case"c":case"cc":B=gt(Le.Day,1);break;case"ccc":B=Xt(qe.Days,se.Abbreviated,Z.Standalone);break;case"cccc":B=Xt(qe.Days,se.Wide,Z.Standalone);break;case"ccccc":B=Xt(qe.Days,se.Narrow,Z.Standalone);break;case"cccccc":B=Xt(qe.Days,se.Short,Z.Standalone);break;case"E":case"EE":case"EEE":B=Xt(qe.Days,se.Abbreviated);break;case"EEEE":B=Xt(qe.Days,se.Wide);break;case"EEEEE":B=Xt(qe.Days,se.Narrow);break;case"EEEEEE":B=Xt(qe.Days,se.Short);break;case"a":case"aa":case"aaa":B=Xt(qe.DayPeriods,se.Abbreviated);break;case"aaaa":B=Xt(qe.DayPeriods,se.Wide);break;case"aaaaa":B=Xt(qe.DayPeriods,se.Narrow);break;case"b":case"bb":case"bbb":B=Xt(qe.DayPeriods,se.Abbreviated,Z.Standalone,!0);break;case"bbbb":B=Xt(qe.DayPeriods,se.Wide,Z.Standalone,!0);break;case"bbbbb":B=Xt(qe.DayPeriods,se.Narrow,Z.Standalone,!0);break;case"B":case"BB":case"BBB":B=Xt(qe.DayPeriods,se.Abbreviated,Z.Format,!0);break;case"BBBB":B=Xt(qe.DayPeriods,se.Wide,Z.Format,!0);break;case"BBBBB":B=Xt(qe.DayPeriods,se.Narrow,Z.Format,!0);break;case"h":B=gt(Le.Hours,1,-12);break;case"hh":B=gt(Le.Hours,2,-12);break;case"H":B=gt(Le.Hours,1);break;case"HH":B=gt(Le.Hours,2);break;case"m":B=gt(Le.Minutes,1);break;case"mm":B=gt(Le.Minutes,2);break;case"s":B=gt(Le.Seconds,1);break;case"ss":B=gt(Le.Seconds,2);break;case"S":B=gt(Le.FractionalSeconds,1);break;case"SS":B=gt(Le.FractionalSeconds,2);break;case"SSS":B=gt(Le.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":B=lt(Ae.Short);break;case"ZZZZZ":B=lt(Ae.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":B=lt(Ae.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":B=lt(Ae.Long);break;default:return null}return St[I]=B,B}(er);br+=xn?xn(pe,A,vr):"''"===er?"'":er.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),br}function ot(I,B,A){const G=new Date(0);return G.setFullYear(I,B,A),G.setHours(0,0,0),G}function Pt(I,B){const A=function tt(I){return(0,f.cg1)(I)[f.wAp.LocaleId]}(I);if(q[A]=q[A]||{},q[A][B])return q[A][B];let G="";switch(B){case"shortDate":G=pn(I,me.Short);break;case"mediumDate":G=pn(I,me.Medium);break;case"longDate":G=pn(I,me.Long);break;case"fullDate":G=pn(I,me.Full);break;case"shortTime":G=Yt(I,me.Short);break;case"mediumTime":G=Yt(I,me.Medium);break;case"longTime":G=Yt(I,me.Long);break;case"fullTime":G=Yt(I,me.Full);break;case"short":const pe=Pt(I,"shortTime"),We=Pt(I,"shortDate");G=rn(Bn(I,me.Short),[pe,We]);break;case"medium":const it=Pt(I,"mediumTime"),Tt=Pt(I,"mediumDate");G=rn(Bn(I,me.Medium),[it,Tt]);break;case"long":const vr=Pt(I,"longTime"),br=Pt(I,"longDate");G=rn(Bn(I,me.Long),[vr,br]);break;case"full":const er=Pt(I,"fullTime"),xn=Pt(I,"fullDate");G=rn(Bn(I,me.Full),[er,xn])}return G&&(q[A][B]=G),G}function rn(I,B){return B&&(I=I.replace(/\{([^}]+)}/g,function(A,G){return null!=B&&G in B?B[G]:A})),I}function Ht(I,B,A="-",G,pe){let We="";(I<0||pe&&I<=0)&&(pe?I=1-I:(I=-I,We=A));let it=String(I);for(;it.length<B;)it="0"+it;return G&&(it=it.substr(it.length-B)),We+it}function gt(I,B,A=0,G=!1,pe=!1){return function(We,it){let Tt=function Gt(I,B){switch(I){case Le.FullYear:return B.getFullYear();case Le.Month:return B.getMonth();case Le.Date:return B.getDate();case Le.Hours:return B.getHours();case Le.Minutes:return B.getMinutes();case Le.Seconds:return B.getSeconds();case Le.FractionalSeconds:return B.getMilliseconds();case Le.Day:return B.getDay();default:throw new Error(`Unknown DateType value "${I}".`)}}(I,We);if((A>0||Tt>-A)&&(Tt+=A),I===Le.Hours)0===Tt&&-12===A&&(Tt=12);else if(I===Le.FractionalSeconds)return function gn(I,B){return Ht(I,3).substr(0,B)}(Tt,B);const vr=Rn(it,X.MinusSign);return Ht(Tt,B,vr,G,pe)}}function Xt(I,B,A=Z.Format,G=!1){return function(pe,We){return function ln(I,B,A,G,pe,We){switch(A){case qe.Months:return function nt(I,B,A){const G=(0,f.cg1)(I),We=fr([G[f.wAp.MonthsFormat],G[f.wAp.MonthsStandalone]],B);return fr(We,A)}(B,pe,G)[I.getMonth()];case qe.Days:return function rt(I,B,A){const G=(0,f.cg1)(I),We=fr([G[f.wAp.DaysFormat],G[f.wAp.DaysStandalone]],B);return fr(We,A)}(B,pe,G)[I.getDay()];case qe.DayPeriods:const it=I.getHours(),Tt=I.getMinutes();if(We){const br=function _o(I){const B=(0,f.cg1)(I);return ji(B),(B[f.wAp.ExtraData][2]||[]).map(G=>"string"==typeof G?Ti(G):[Ti(G[0]),Ti(G[1])])}(B),er=function pi(I,B,A){const G=(0,f.cg1)(I);ji(G);const We=fr([G[f.wAp.ExtraData][0],G[f.wAp.ExtraData][1]],B)||[];return fr(We,A)||[]}(B,pe,G),xn=br.findIndex(Vr=>{if(Array.isArray(Vr)){const[cr,Dr]=Vr,Rr=it>=cr.hours&&Tt>=cr.minutes,ko=it<Dr.hours||it===Dr.hours&&Tt<Dr.minutes;if(cr.hours<Dr.hours){if(Rr&&ko)return!0}else if(Rr||ko)return!0}else if(Vr.hours===it&&Vr.minutes===Tt)return!0;return!1});if(-1!==xn)return er[xn]}return function qt(I,B,A){const G=(0,f.cg1)(I),We=fr([G[f.wAp.DayPeriodsFormat],G[f.wAp.DayPeriodsStandalone]],B);return fr(We,A)}(B,pe,G)[it<12?0:1];case qe.Eras:return function ct(I,B){return fr((0,f.cg1)(I)[f.wAp.Eras],B)}(B,G)[I.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${A}`)}}(pe,We,I,B,A,G)}}function lt(I){return function(B,A,G){const pe=-1*G,We=Rn(A,X.MinusSign),it=pe>0?Math.floor(pe/60):Math.ceil(pe/60);switch(I){case Ae.Short:return(pe>=0?"+":"")+Ht(it,2,We)+Ht(Math.abs(pe%60),2,We);case Ae.ShortGMT:return"GMT"+(pe>=0?"+":"")+Ht(it,1,We);case Ae.Long:return"GMT"+(pe>=0?"+":"")+Ht(it,2,We)+":"+Ht(Math.abs(pe%60),2,We);case Ae.Extended:return 0===G?"Z":(pe>=0?"+":"")+Ht(it,2,We)+":"+Ht(Math.abs(pe%60),2,We);default:throw new Error(`Unknown zone width "${I}"`)}}}function Pn(I){return ot(I.getFullYear(),I.getMonth(),I.getDate()+(4-I.getDay()))}function Ut(I,B=!1){return function(A,G){let pe;if(B){const We=new Date(A.getFullYear(),A.getMonth(),1).getDay()-1,it=A.getDate();pe=1+Math.floor((it+We)/7)}else{const We=Pn(A),it=function Un(I){const B=ot(I,0,1).getDay();return ot(I,0,1+(B<=4?4:11)-B)}(We.getFullYear()),Tt=We.getTime()-it.getTime();pe=1+Math.round(Tt/6048e5)}return Ht(pe,I,Rn(G,X.MinusSign))}}function En(I,B=!1){return function(A,G){return Ht(Pn(A).getFullYear(),I,Rn(G,X.MinusSign),B)}}const St={};function jt(I,B){I=I.replace(/:/g,"");const A=Date.parse("Jan 01, 1970 00:00:00 "+I)/6e4;return isNaN(A)?B:A}function pr(I){return I instanceof Date&&!isNaN(I.valueOf())}const rr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function mt(I){const B=parseInt(I);if(isNaN(B))throw new Error("Invalid integer literal when parsing "+I);return B}function Zn(I,B,A){return(0,f.dwT)(I,B,A)}function Ln(I,B){B=encodeURIComponent(B);for(const A of I.split(";")){const G=A.indexOf("="),[pe,We]=-1==G?[A,""]:[A.slice(0,G),A.slice(G+1)];if(pe.trim()===B)return decodeURIComponent(We)}return null}let Nn=(()=>{class I{constructor(A,G,pe,We){this._iterableDiffers=A,this._keyValueDiffers=G,this._ngEl=pe,this._renderer=We,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(A){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof A?A.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(A){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof A?A.split(/\s+/):A,this._rawClass&&((0,f.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const A=this._iterableDiffer.diff(this._rawClass);A&&this._applyIterableChanges(A)}else if(this._keyValueDiffer){const A=this._keyValueDiffer.diff(this._rawClass);A&&this._applyKeyValueChanges(A)}}_applyKeyValueChanges(A){A.forEachAddedItem(G=>this._toggleClass(G.key,G.currentValue)),A.forEachChangedItem(G=>this._toggleClass(G.key,G.currentValue)),A.forEachRemovedItem(G=>{G.previousValue&&this._toggleClass(G.key,!1)})}_applyIterableChanges(A){A.forEachAddedItem(G=>{if("string"!=typeof G.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,f.AaK)(G.item)}`);this._toggleClass(G.item,!0)}),A.forEachRemovedItem(G=>this._toggleClass(G.item,!1))}_applyClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(G=>this._toggleClass(G,!0)):Object.keys(A).forEach(G=>this._toggleClass(G,!!A[G])))}_removeClasses(A){A&&(Array.isArray(A)||A instanceof Set?A.forEach(G=>this._toggleClass(G,!1)):Object.keys(A).forEach(G=>this._toggleClass(G,!1)))}_toggleClass(A,G){(A=A.trim())&&A.split(/\s+/g).forEach(pe=>{G?this._renderer.addClass(this._ngEl.nativeElement,pe):this._renderer.removeClass(this._ngEl.nativeElement,pe)})}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},I.\u0275dir=f.lG2({type:I,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),I})();class Qn{constructor(B,A,G,pe){this.$implicit=B,this.ngForOf=A,this.index=G,this.count=pe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Jt=(()=>{class I{constructor(A,G,pe){this._viewContainer=A,this._template=G,this._differs=pe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(A){this._ngForOf=A,this._ngForOfDirty=!0}set ngForTrackBy(A){this._trackByFn=A}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(A){A&&(this._template=A)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const A=this._ngForOf;!this._differ&&A&&(this._differ=this._differs.find(A).create(this.ngForTrackBy))}if(this._differ){const A=this._differ.diff(this._ngForOf);A&&this._applyChanges(A)}}_applyChanges(A){const G=this._viewContainer;A.forEachOperation((pe,We,it)=>{if(null==pe.previousIndex)G.createEmbeddedView(this._template,new Qn(pe.item,this._ngForOf,-1,-1),null===it?void 0:it);else if(null==it)G.remove(null===We?void 0:We);else if(null!==We){const Tt=G.get(We);G.move(Tt,it),Vi(Tt,pe)}});for(let pe=0,We=G.length;pe<We;pe++){const Tt=G.get(pe).context;Tt.index=pe,Tt.count=We,Tt.ngForOf=this._ngForOf}A.forEachIdentityChange(pe=>{Vi(G.get(pe.currentIndex),pe)})}static ngTemplateContextGuard(A,G){return!0}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},I.\u0275dir=f.lG2({type:I,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),I})();function Vi(I,B){I.context.$implicit=B.item}let ro=(()=>{class I{constructor(A,G){this._viewContainer=A,this._context=new Mr,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=G}set ngIf(A){this._context.$implicit=this._context.ngIf=A,this._updateView()}set ngIfThen(A){gr("ngIfThen",A),this._thenTemplateRef=A,this._thenViewRef=null,this._updateView()}set ngIfElse(A){gr("ngIfElse",A),this._elseTemplateRef=A,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(A,G){return!0}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.s_b),f.Y36(f.Rgc))},I.\u0275dir=f.lG2({type:I,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),I})();class Mr{constructor(){this.$implicit=null,this.ngIf=null}}function gr(I,B){if(B&&!B.createEmbeddedView)throw new Error(`${I} must be a TemplateRef, but received '${(0,f.AaK)(B)}'.`)}let Mo=(()=>{class I{constructor(A){this._viewContainerRef=A,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(A){if(A.ngTemplateOutlet){const G=this._viewContainerRef;this._viewRef&&G.remove(G.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?G.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&A.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.s_b))},I.\u0275dir=f.lG2({type:I,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[f.TTD]}),I})();function Tr(I,B){return new f.vHH(2100,"")}const No=new f.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Ko=(()=>{class I{constructor(A,G){this.locale=A,this.defaultTimezone=G}transform(A,G="mediumDate",pe,We){var it;if(null==A||""===A||A!=A)return null;try{return Dt(A,G,We||this.locale,null!==(it=null!=pe?pe:this.defaultTimezone)&&void 0!==it?it:void 0)}catch(Tt){throw Tr()}}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.soG,16),f.Y36(No,24))},I.\u0275pipe=f.Yjl({name:"date",type:I,pure:!0}),I})(),Er=(()=>{class I{transform(A){return JSON.stringify(A,null,2)}}return I.\u0275fac=function(A){return new(A||I)},I.\u0275pipe=f.Yjl({name:"json",type:I,pure:!1}),I})(),C=(()=>{class I{constructor(A){this._locale=A}transform(A,G,pe){if(!function R(I){return!(null==I||""===I||I!=I)}(A))return null;pe=pe||this._locale;try{return function ht(I,B,A){return function at(I,B,A,G,pe,We,it=!1){let Tt="",vr=!1;if(isFinite(I)){let br=function vt(I){let G,pe,We,it,Tt,B=Math.abs(I)+"",A=0;for((pe=B.indexOf("."))>-1&&(B=B.replace(".","")),(We=B.search(/e/i))>0?(pe<0&&(pe=We),pe+=+B.slice(We+1),B=B.substring(0,We)):pe<0&&(pe=B.length),We=0;"0"===B.charAt(We);We++);if(We===(Tt=B.length))G=[0],pe=1;else{for(Tt--;"0"===B.charAt(Tt);)Tt--;for(pe-=We,G=[],it=0;We<=Tt;We++,it++)G[it]=Number(B.charAt(We))}return pe>22&&(G=G.splice(0,21),A=pe-1,pe=1),{digits:G,exponent:A,integerLen:pe}}(I);it&&(br=function un(I){if(0===I.digits[0])return I;const B=I.digits.length-I.integerLen;return I.exponent?I.exponent+=2:(0===B?I.digits.push(0,0):1===B&&I.digits.push(0),I.integerLen+=2),I}(br));let er=B.minInt,xn=B.minFrac,Vr=B.maxFrac;if(We){const _s=We.match(rr);if(null===_s)throw new Error(`${We} is not a valid digit info`);const Hi=_s[1],Zs=_s[3],Yo=_s[5];null!=Hi&&(er=mt(Hi)),null!=Zs&&(xn=mt(Zs)),null!=Yo?Vr=mt(Yo):null!=Zs&&xn>Vr&&(Vr=xn)}!function $e(I,B,A){if(B>A)throw new Error(`The minimum number of digits after fraction (${B}) is higher than the maximum (${A}).`);let G=I.digits,pe=G.length-I.integerLen;const We=Math.min(Math.max(B,pe),A);let it=We+I.integerLen,Tt=G[it];if(it>0){G.splice(Math.max(I.integerLen,it));for(let xn=it;xn<G.length;xn++)G[xn]=0}else{pe=Math.max(0,pe),I.integerLen=1,G.length=Math.max(1,it=We+1),G[0]=0;for(let xn=1;xn<it;xn++)G[xn]=0}if(Tt>=5)if(it-1<0){for(let xn=0;xn>it;xn--)G.unshift(0),I.integerLen++;G.unshift(1),I.integerLen++}else G[it-1]++;for(;pe<Math.max(0,We);pe++)G.push(0);let vr=0!==We;const br=B+I.integerLen,er=G.reduceRight(function(xn,Vr,cr,Dr){return Dr[cr]=(Vr+=xn)<10?Vr:Vr-10,vr&&(0===Dr[cr]&&cr>=br?Dr.pop():vr=!1),Vr>=10?1:0},0);er&&(G.unshift(er),I.integerLen++)}(br,xn,Vr);let cr=br.digits,Dr=br.integerLen;const Rr=br.exponent;let ko=[];for(vr=cr.every(_s=>!_s);Dr<er;Dr++)cr.unshift(0);for(;Dr<0;Dr++)cr.unshift(0);Dr>0?ko=cr.splice(Dr,cr.length):(ko=cr,cr=[0]);const Ya=[];for(cr.length>=B.lgSize&&Ya.unshift(cr.splice(-B.lgSize,cr.length).join(""));cr.length>B.gSize;)Ya.unshift(cr.splice(-B.gSize,cr.length).join(""));cr.length&&Ya.unshift(cr.join("")),Tt=Ya.join(Rn(A,G)),ko.length&&(Tt+=Rn(A,pe)+ko.join("")),Rr&&(Tt+=Rn(A,X.Exponential)+"+"+Rr)}else Tt=Rn(A,X.Infinity);return Tt=I<0&&!vr?B.negPre+Tt+B.negSuf:B.posPre+Tt+B.posSuf,Tt}(I,function bt(I,B="-"){const A={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},G=I.split(";"),pe=G[0],We=G[1],it=-1!==pe.indexOf(".")?pe.split("."):[pe.substring(0,pe.lastIndexOf("0")+1),pe.substring(pe.lastIndexOf("0")+1)],Tt=it[0],vr=it[1]||"";A.posPre=Tt.substr(0,Tt.indexOf("#"));for(let er=0;er<vr.length;er++){const xn=vr.charAt(er);"0"===xn?A.minFrac=A.maxFrac=er+1:"#"===xn?A.maxFrac=er+1:A.posSuf+=xn}const br=Tt.split(",");if(A.gSize=br[1]?br[1].length:0,A.lgSize=br[2]||br[1]?(br[2]||br[1]).length:0,We){const er=pe.length-A.posPre.length-A.posSuf.length,xn=We.indexOf("#");A.negPre=We.substr(0,xn).replace(/'/g,""),A.negSuf=We.substr(xn+er).replace(/'/g,"")}else A.negPre=B+A.posPre,A.negSuf=A.posSuf;return A}(function $r(I,B){return(0,f.cg1)(I)[f.wAp.NumberFormats][B]}(B,Q.Decimal),Rn(B,X.MinusSign)),B,X.Group,X.Decimal,A)}(function z(I){if("string"==typeof I&&!isNaN(Number(I)-parseFloat(I)))return Number(I);if("number"!=typeof I)throw new Error(`${I} is not a number`);return I}(A),pe,G)}catch(We){throw Tr()}}}return I.\u0275fac=function(A){return new(A||I)(f.Y36(f.soG,16))},I.\u0275pipe=f.Yjl({name:"number",type:I,pure:!0}),I})();let ae=(()=>{class I{}return I.\u0275fac=function(A){return new(A||I)},I.\u0275mod=f.oAB({type:I}),I.\u0275inj=f.cJS({}),I})();const Se="browser";function je(I){return I===Se}let Kt=(()=>{class I{}return I.\u0275prov=(0,f.Yz7)({token:I,providedIn:"root",factory:()=>new $n((0,f.LFG)(U),window)}),I})();class $n{constructor(B,A){this.document=B,this.window=A,this.offset=()=>[0,0]}setOffset(B){this.offset=Array.isArray(B)?()=>B:B}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(B){this.supportsScrolling()&&this.window.scrollTo(B[0],B[1])}scrollToAnchor(B){if(!this.supportsScrolling())return;const A=function ii(I,B){const A=I.getElementById(B)||I.getElementsByName(B)[0];if(A)return A;if("function"==typeof I.createTreeWalker&&I.body&&(I.body.createShadowRoot||I.body.attachShadow)){const G=I.createTreeWalker(I.body,NodeFilter.SHOW_ELEMENT);let pe=G.currentNode;for(;pe;){const We=pe.shadowRoot;if(We){const it=We.getElementById(B)||We.querySelector(`[name="${B}"]`);if(it)return it}pe=G.nextNode()}}return null}(this.document,B);A&&(this.scrollToElement(A),A.focus())}setHistoryScrollRestoration(B){if(this.supportScrollRestoration()){const A=this.window.history;A&&A.scrollRestoration&&(A.scrollRestoration=B)}}scrollToElement(B){const A=B.getBoundingClientRect(),G=A.left+this.window.pageXOffset,pe=A.top+this.window.pageYOffset,We=this.offset();this.window.scrollTo(G-We[0],pe-We[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const B=Xn(this.window.history)||Xn(Object.getPrototypeOf(this.window.history));return!(!B||!B.writable&&!B.set)}catch(B){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(B){return!1}}}function Xn(I){return Object.getOwnPropertyDescriptor(I,"scrollRestoration")}class Ka{}},520:(le,v,w)=>{"use strict";w.d(v,{JF:()=>Ti,eN:()=>X});var f=w(9808),i=w(7587),b=w(9646),S=w(8306),x=w(4351),k=w(9300),U=w(4004);class ee{}class K{}class he{constructor($){this.normalizedNames=new Map,this.lazyUpdate=null,$?this.lazyInit="string"==typeof $?()=>{this.headers=new Map,$.split("\n").forEach(q=>{const Te=q.indexOf(":");if(Te>0){const Ae=q.slice(0,Te),Le=Ae.toLowerCase(),qe=q.slice(Te+1).trim();this.maybeSetNormalizedName(Ae,Le),this.headers.has(Le)?this.headers.get(Le).push(qe):this.headers.set(Le,[qe])}})}:()=>{this.headers=new Map,Object.keys($).forEach(q=>{let Te=$[q];const Ae=q.toLowerCase();"string"==typeof Te&&(Te=[Te]),Te.length>0&&(this.headers.set(Ae,Te),this.maybeSetNormalizedName(q,Ae))})}:this.headers=new Map}has($){return this.init(),this.headers.has($.toLowerCase())}get($){this.init();const q=this.headers.get($.toLowerCase());return q&&q.length>0?q[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll($){return this.init(),this.headers.get($.toLowerCase())||null}append($,q){return this.clone({name:$,value:q,op:"a"})}set($,q){return this.clone({name:$,value:q,op:"s"})}delete($,q){return this.clone({name:$,value:q,op:"d"})}maybeSetNormalizedName($,q){this.normalizedNames.has(q)||this.normalizedNames.set(q,$)}init(){this.lazyInit&&(this.lazyInit instanceof he?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach($=>this.applyUpdate($)),this.lazyUpdate=null))}copyFrom($){$.init(),Array.from($.headers.keys()).forEach(q=>{this.headers.set(q,$.headers.get(q)),this.normalizedNames.set(q,$.normalizedNames.get(q))})}clone($){const q=new he;return q.lazyInit=this.lazyInit&&this.lazyInit instanceof he?this.lazyInit:this,q.lazyUpdate=(this.lazyUpdate||[]).concat([$]),q}applyUpdate($){const q=$.name.toLowerCase();switch($.op){case"a":case"s":let Te=$.value;if("string"==typeof Te&&(Te=[Te]),0===Te.length)return;this.maybeSetNormalizedName($.name,q);const Ae=("a"===$.op?this.headers.get(q):void 0)||[];Ae.push(...Te),this.headers.set(q,Ae);break;case"d":const Le=$.value;if(Le){let qe=this.headers.get(q);if(!qe)return;qe=qe.filter(Dt=>-1===Le.indexOf(Dt)),0===qe.length?(this.headers.delete(q),this.normalizedNames.delete(q)):this.headers.set(q,qe)}else this.headers.delete(q),this.normalizedNames.delete(q)}}forEach($){this.init(),Array.from(this.normalizedNames.keys()).forEach(q=>$(this.normalizedNames.get(q),this.headers.get(q)))}}class ne{encodeKey($){return Be($)}encodeValue($){return Be($)}decodeKey($){return decodeURIComponent($)}decodeValue($){return decodeURIComponent($)}}const Ve=/%(\d[a-f0-9])/gi,Ne={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Be(fe){return encodeURIComponent(fe).replace(Ve,($,q)=>{var Te;return null!==(Te=Ne[q])&&void 0!==Te?Te:$})}function Je(fe){return`${fe}`}class ce{constructor($={}){if(this.updates=null,this.cloneFrom=null,this.encoder=$.encoder||new ne,$.fromString){if($.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ye(fe,$){const q=new Map;return fe.length>0&&fe.replace(/^\?/,"").split("&").forEach(Ae=>{const Le=Ae.indexOf("="),[qe,Dt]=-1==Le?[$.decodeKey(Ae),""]:[$.decodeKey(Ae.slice(0,Le)),$.decodeValue(Ae.slice(Le+1))],ot=q.get(qe)||[];ot.push(Dt),q.set(qe,ot)}),q}($.fromString,this.encoder)}else $.fromObject?(this.map=new Map,Object.keys($.fromObject).forEach(q=>{const Te=$.fromObject[q];this.map.set(q,Array.isArray(Te)?Te:[Te])})):this.map=null}has($){return this.init(),this.map.has($)}get($){this.init();const q=this.map.get($);return q?q[0]:null}getAll($){return this.init(),this.map.get($)||null}keys(){return this.init(),Array.from(this.map.keys())}append($,q){return this.clone({param:$,value:q,op:"a"})}appendAll($){const q=[];return Object.keys($).forEach(Te=>{const Ae=$[Te];Array.isArray(Ae)?Ae.forEach(Le=>{q.push({param:Te,value:Le,op:"a"})}):q.push({param:Te,value:Ae,op:"a"})}),this.clone(q)}set($,q){return this.clone({param:$,value:q,op:"s"})}delete($,q){return this.clone({param:$,value:q,op:"d"})}toString(){return this.init(),this.keys().map($=>{const q=this.encoder.encodeKey($);return this.map.get($).map(Te=>q+"="+this.encoder.encodeValue(Te)).join("&")}).filter($=>""!==$).join("&")}clone($){const q=new ce({encoder:this.encoder});return q.cloneFrom=this.cloneFrom||this,q.updates=(this.updates||[]).concat($),q}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach($=>this.map.set($,this.cloneFrom.map.get($))),this.updates.forEach($=>{switch($.op){case"a":case"s":const q=("a"===$.op?this.map.get($.param):void 0)||[];q.push(Je($.value)),this.map.set($.param,q);break;case"d":if(void 0===$.value){this.map.delete($.param);break}{let Te=this.map.get($.param)||[];const Ae=Te.indexOf(Je($.value));-1!==Ae&&Te.splice(Ae,1),Te.length>0?this.map.set($.param,Te):this.map.delete($.param)}}}),this.cloneFrom=this.updates=null)}}class be{constructor(){this.map=new Map}set($,q){return this.map.set($,q),this}get($){return this.map.has($)||this.map.set($,$.defaultValue()),this.map.get($)}delete($){return this.map.delete($),this}has($){return this.map.has($)}keys(){return this.map.keys()}}function Pe(fe){return"undefined"!=typeof ArrayBuffer&&fe instanceof ArrayBuffer}function we(fe){return"undefined"!=typeof Blob&&fe instanceof Blob}function ue(fe){return"undefined"!=typeof FormData&&fe instanceof FormData}class De{constructor($,q,Te,Ae){let Le;if(this.url=q,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=$.toUpperCase(),function Fe(fe){switch(fe){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||Ae?(this.body=void 0!==Te?Te:null,Le=Ae):Le=Te,Le&&(this.reportProgress=!!Le.reportProgress,this.withCredentials=!!Le.withCredentials,Le.responseType&&(this.responseType=Le.responseType),Le.headers&&(this.headers=Le.headers),Le.context&&(this.context=Le.context),Le.params&&(this.params=Le.params)),this.headers||(this.headers=new he),this.context||(this.context=new be),this.params){const qe=this.params.toString();if(0===qe.length)this.urlWithParams=q;else{const Dt=q.indexOf("?");this.urlWithParams=q+(-1===Dt?"?":Dt<q.length-1?"&":"")+qe}}else this.params=new ce,this.urlWithParams=q}serializeBody(){return null===this.body?null:Pe(this.body)||we(this.body)||ue(this.body)||function ke(fe){return"undefined"!=typeof URLSearchParams&&fe instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ce?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||ue(this.body)?null:we(this.body)?this.body.type||null:Pe(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ce?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone($={}){var q;const Te=$.method||this.method,Ae=$.url||this.url,Le=$.responseType||this.responseType,qe=void 0!==$.body?$.body:this.body,Dt=void 0!==$.withCredentials?$.withCredentials:this.withCredentials,ot=void 0!==$.reportProgress?$.reportProgress:this.reportProgress;let Pt=$.headers||this.headers,rn=$.params||this.params;const Ht=null!==(q=$.context)&&void 0!==q?q:this.context;return void 0!==$.setHeaders&&(Pt=Object.keys($.setHeaders).reduce((gn,gt)=>gn.set(gt,$.setHeaders[gt]),Pt)),$.setParams&&(rn=Object.keys($.setParams).reduce((gn,gt)=>gn.set(gt,$.setParams[gt]),rn)),new De(Te,Ae,qe,{params:rn,headers:Pt,context:Ht,reportProgress:ot,responseType:Le,withCredentials:Dt})}}var Ue=(()=>((Ue=Ue||{})[Ue.Sent=0]="Sent",Ue[Ue.UploadProgress=1]="UploadProgress",Ue[Ue.ResponseHeader=2]="ResponseHeader",Ue[Ue.DownloadProgress=3]="DownloadProgress",Ue[Ue.Response=4]="Response",Ue[Ue.User=5]="User",Ue))();class Q{constructor($,q=200,Te="OK"){this.headers=$.headers||new he,this.status=void 0!==$.status?$.status:q,this.statusText=$.statusText||Te,this.url=$.url||null,this.ok=this.status>=200&&this.status<300}}class H extends Q{constructor($={}){super($),this.type=Ue.ResponseHeader}clone($={}){return new H({headers:$.headers||this.headers,status:void 0!==$.status?$.status:this.status,statusText:$.statusText||this.statusText,url:$.url||this.url||void 0})}}class Z extends Q{constructor($={}){super($),this.type=Ue.Response,this.body=void 0!==$.body?$.body:null}clone($={}){return new Z({body:void 0!==$.body?$.body:this.body,headers:$.headers||this.headers,status:void 0!==$.status?$.status:this.status,statusText:$.statusText||this.statusText,url:$.url||this.url||void 0})}}class se extends Q{constructor($){super($,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${$.url||"(unknown url)"}`:`Http failure response for ${$.url||"(unknown url)"}: ${$.status} ${$.statusText}`,this.error=$.error||null}}function me(fe,$){return{body:$,headers:fe.headers,context:fe.context,observe:fe.observe,params:fe.params,reportProgress:fe.reportProgress,responseType:fe.responseType,withCredentials:fe.withCredentials}}let X=(()=>{class fe{constructor(q){this.handler=q}request(q,Te,Ae={}){let Le;if(q instanceof De)Le=q;else{let ot,Pt;ot=Ae.headers instanceof he?Ae.headers:new he(Ae.headers),Ae.params&&(Pt=Ae.params instanceof ce?Ae.params:new ce({fromObject:Ae.params})),Le=new De(q,Te,void 0!==Ae.body?Ae.body:null,{headers:ot,context:Ae.context,params:Pt,reportProgress:Ae.reportProgress,responseType:Ae.responseType||"json",withCredentials:Ae.withCredentials})}const qe=(0,b.of)(Le).pipe((0,x.b)(ot=>this.handler.handle(ot)));if(q instanceof De||"events"===Ae.observe)return qe;const Dt=qe.pipe((0,k.h)(ot=>ot instanceof Z));switch(Ae.observe||"body"){case"body":switch(Le.responseType){case"arraybuffer":return Dt.pipe((0,U.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return ot.body}));case"blob":return Dt.pipe((0,U.U)(ot=>{if(null!==ot.body&&!(ot.body instanceof Blob))throw new Error("Response is not a Blob.");return ot.body}));case"text":return Dt.pipe((0,U.U)(ot=>{if(null!==ot.body&&"string"!=typeof ot.body)throw new Error("Response is not a string.");return ot.body}));default:return Dt.pipe((0,U.U)(ot=>ot.body))}case"response":return Dt;default:throw new Error(`Unreachable: unhandled observe type ${Ae.observe}}`)}}delete(q,Te={}){return this.request("DELETE",q,Te)}get(q,Te={}){return this.request("GET",q,Te)}head(q,Te={}){return this.request("HEAD",q,Te)}jsonp(q,Te){return this.request("JSONP",q,{params:(new ce).append(Te,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(q,Te={}){return this.request("OPTIONS",q,Te)}patch(q,Te,Ae={}){return this.request("PATCH",q,me(Ae,Te))}post(q,Te,Ae={}){return this.request("POST",q,me(Ae,Te))}put(q,Te,Ae={}){return this.request("PUT",q,me(Ae,Te))}}return fe.\u0275fac=function(q){return new(q||fe)(i.LFG(ee))},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})();class Ke{constructor($,q){this.next=$,this.interceptor=q}handle($){return this.interceptor.intercept($,this.next)}}const tt=new i.OlP("HTTP_INTERCEPTORS");let qt=(()=>{class fe{intercept(q,Te){return Te.handle(q)}}return fe.\u0275fac=function(q){return new(q||fe)},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Rn=/^\)\]\}',?\n/;let ar=(()=>{class fe{constructor(q){this.xhrFactory=q}handle(q){if("JSONP"===q.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new S.y(Te=>{const Ae=this.xhrFactory.build();if(Ae.open(q.method,q.urlWithParams),q.withCredentials&&(Ae.withCredentials=!0),q.headers.forEach((gt,Gt)=>Ae.setRequestHeader(gt,Gt.join(","))),q.headers.has("Accept")||Ae.setRequestHeader("Accept","application/json, text/plain, */*"),!q.headers.has("Content-Type")){const gt=q.detectContentTypeHeader();null!==gt&&Ae.setRequestHeader("Content-Type",gt)}if(q.responseType){const gt=q.responseType.toLowerCase();Ae.responseType="json"!==gt?gt:"text"}const Le=q.serializeBody();let qe=null;const Dt=()=>{if(null!==qe)return qe;const gt=Ae.statusText||"OK",Gt=new he(Ae.getAllResponseHeaders()),Xt=function $r(fe){return"responseURL"in fe&&fe.responseURL?fe.responseURL:/^X-Request-URL:/m.test(fe.getAllResponseHeaders())?fe.getResponseHeader("X-Request-URL"):null}(Ae)||q.url;return qe=new H({headers:Gt,status:Ae.status,statusText:gt,url:Xt}),qe},ot=()=>{let{headers:gt,status:Gt,statusText:Xt,url:ln}=Dt(),lt=null;204!==Gt&&(lt=void 0===Ae.response?Ae.responseText:Ae.response),0===Gt&&(Gt=lt?200:0);let en=Gt>=200&&Gt<300;if("json"===q.responseType&&"string"==typeof lt){const In=lt;lt=lt.replace(Rn,"");try{lt=""!==lt?JSON.parse(lt):null}catch(Un){lt=In,en&&(en=!1,lt={error:Un,text:lt})}}en?(Te.next(new Z({body:lt,headers:gt,status:Gt,statusText:Xt,url:ln||void 0})),Te.complete()):Te.error(new se({error:lt,headers:gt,status:Gt,statusText:Xt,url:ln||void 0}))},Pt=gt=>{const{url:Gt}=Dt(),Xt=new se({error:gt,status:Ae.status||0,statusText:Ae.statusText||"Unknown Error",url:Gt||void 0});Te.error(Xt)};let rn=!1;const Ht=gt=>{rn||(Te.next(Dt()),rn=!0);let Gt={type:Ue.DownloadProgress,loaded:gt.loaded};gt.lengthComputable&&(Gt.total=gt.total),"text"===q.responseType&&!!Ae.responseText&&(Gt.partialText=Ae.responseText),Te.next(Gt)},gn=gt=>{let Gt={type:Ue.UploadProgress,loaded:gt.loaded};gt.lengthComputable&&(Gt.total=gt.total),Te.next(Gt)};return Ae.addEventListener("load",ot),Ae.addEventListener("error",Pt),Ae.addEventListener("timeout",Pt),Ae.addEventListener("abort",Pt),q.reportProgress&&(Ae.addEventListener("progress",Ht),null!==Le&&Ae.upload&&Ae.upload.addEventListener("progress",gn)),Ae.send(Le),Te.next({type:Ue.Sent}),()=>{Ae.removeEventListener("error",Pt),Ae.removeEventListener("abort",Pt),Ae.removeEventListener("load",ot),Ae.removeEventListener("timeout",Pt),q.reportProgress&&(Ae.removeEventListener("progress",Ht),null!==Le&&Ae.upload&&Ae.upload.removeEventListener("progress",gn)),Ae.readyState!==Ae.DONE&&Ae.abort()}})}}return fe.\u0275fac=function(q){return new(q||fe)(i.LFG(f.JF))},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})();const Oo=new i.OlP("XSRF_COOKIE_NAME"),hi=new i.OlP("XSRF_HEADER_NAME");class wi{}let fi=(()=>{class fe{constructor(q,Te,Ae){this.doc=q,this.platform=Te,this.cookieName=Ae,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const q=this.doc.cookie||"";return q!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,f.Mx)(q,this.cookieName),this.lastCookieString=q),this.lastToken}}return fe.\u0275fac=function(q){return new(q||fe)(i.LFG(f.K0),i.LFG(i.Lbi),i.LFG(Oo))},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),ji=(()=>{class fe{constructor(q,Te){this.tokenService=q,this.headerName=Te}intercept(q,Te){const Ae=q.url.toLowerCase();if("GET"===q.method||"HEAD"===q.method||Ae.startsWith("http://")||Ae.startsWith("https://"))return Te.handle(q);const Le=this.tokenService.getToken();return null!==Le&&!q.headers.has(this.headerName)&&(q=q.clone({headers:q.headers.set(this.headerName,Le)})),Te.handle(q)}}return fe.\u0275fac=function(q){return new(q||fe)(i.LFG(wi),i.LFG(hi))},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),_o=(()=>{class fe{constructor(q,Te){this.backend=q,this.injector=Te,this.chain=null}handle(q){if(null===this.chain){const Te=this.injector.get(tt,[]);this.chain=Te.reduceRight((Ae,Le)=>new Ke(Ae,Le),this.backend)}return this.chain.handle(q)}}return fe.\u0275fac=function(q){return new(q||fe)(i.LFG(K),i.LFG(i.zs3))},fe.\u0275prov=i.Yz7({token:fe,factory:fe.\u0275fac}),fe})(),fr=(()=>{class fe{static disable(){return{ngModule:fe,providers:[{provide:ji,useClass:qt}]}}static withOptions(q={}){return{ngModule:fe,providers:[q.cookieName?{provide:Oo,useValue:q.cookieName}:[],q.headerName?{provide:hi,useValue:q.headerName}:[]]}}}return fe.\u0275fac=function(q){return new(q||fe)},fe.\u0275mod=i.oAB({type:fe}),fe.\u0275inj=i.cJS({providers:[ji,{provide:tt,useExisting:ji,multi:!0},{provide:wi,useClass:fi},{provide:Oo,useValue:"XSRF-TOKEN"},{provide:hi,useValue:"X-XSRF-TOKEN"}]}),fe})(),Ti=(()=>{class fe{}return fe.\u0275fac=function(q){return new(q||fe)},fe.\u0275mod=i.oAB({type:fe}),fe.\u0275inj=i.cJS({providers:[X,{provide:ee,useClass:_o},ar,{provide:K,useExisting:ar}],imports:[[fr.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),fe})()},7587:(le,v,w)=>{"use strict";w.d(v,{deG:()=>lh,tb:()=>Zx,AFp:()=>Wx,ip1:()=>u_,CZH:()=>l_,hGG:()=>yI,z2F:()=>lE,sBO:()=>Pi,Sil:()=>Yx,_Vd:()=>ca,EJc:()=>GL,SBq:()=>ka,qLn:()=>Ih,vpe:()=>as,tBr:()=>sl,XFs:()=>Ee,OlP:()=>lr,zs3:()=>is,ZZ4:()=>E_,aQg:()=>C_,soG:()=>sd,YKP:()=>Jm,h0i:()=>mc,PXZ:()=>JL,R0b:()=>Fs,FiY:()=>al,Lbi:()=>tE,g9A:()=>eE,Qsj:()=>fb,FYo:()=>La,JOm:()=>Cs,q3G:()=>kr,tp0:()=>cl,Rgc:()=>Sf,dDg:()=>Jx,q4F:()=>ax,GfV:()=>sx,s_b:()=>If,ifc:()=>Pt,eFA:()=>tI,Gpc:()=>Je,_c5:()=>w_,VLi:()=>Xx,c2e:()=>Ba,zSh:()=>dm,wAp:()=>tn,vHH:()=>Fe,EiD:()=>P0,mCW:()=>hl,qzn:()=>sc,JVY:()=>Xw,pB0:()=>bh,eBb:()=>w0,L6k:()=>wa,LAX:()=>eT,cg1:()=>Vm,kL8:()=>J1,yhl:()=>vg,dqk:()=>Gt,sIi:()=>lu,CqO:()=>m1,QGY:()=>Im,F4k:()=>g1,dwT:()=>bS,RDi:()=>B,AaK:()=>Ve,z3N:()=>uo,qOj:()=>ym,TTD:()=>Se,_Bn:()=>Eu,xp6:()=>dv,uIk:()=>$l,Tol:()=>tS,ekj:()=>Mm,Suo:()=>Sx,Xpm:()=>jt,lG2:()=>bn,Yz7:()=>ar,cJS:()=>hi,oAB:()=>pr,Yjl:()=>Rt,Y36:()=>tf,_UZ:()=>xm,GkF:()=>f1,BQk:()=>sf,ynx:()=>rf,qZA:()=>Sm,TgZ:()=>nf,EpF:()=>p1,n5z:()=>Xa,Ikx:()=>K1,SDv:()=>tx,QtT:()=>Wm,pQV:()=>lb,LFG:()=>Zr,$8M:()=>tl,$Z:()=>UD,NdJ:()=>Am,CRH:()=>Ub,oxw:()=>b1,ALo:()=>Db,lcZ:()=>mx,xi3:()=>_x,Hsn:()=>C1,F$t:()=>E1,Q6J:()=>d1,s9C:()=>Pm,MGl:()=>af,DdM:()=>yb,VKq:()=>Cu,WLB:()=>vb,kEZ:()=>bb,l5B:()=>Eb,iGM:()=>Bb,MAs:()=>e1,evT:()=>H0,Jf7:()=>V0,CHM:()=>Vp,oJD:()=>Sa,LSH:()=>Og,Udp:()=>N1,YNc:()=>CD,W1O:()=>Ax,_uU:()=>Ra,Oqu:()=>Nm,hij:()=>Rm,AsE:()=>F1,Gf:()=>Dx});var f=w(8189),i=w(8421),b=w(515),S=w(3269),x=w(8996),U=w(7579),ee=w(727),K=w(8306),he=w(3099);function ne(a){for(let c in a)if(a[c]===ne)return c;throw Error("Could not find renamed property on target object.")}function ye(a,c){for(const u in c)c.hasOwnProperty(u)&&!a.hasOwnProperty(u)&&(a[u]=c[u])}function Ve(a){if("string"==typeof a)return a;if(Array.isArray(a))return"["+a.map(Ve).join(", ")+"]";if(null==a)return""+a;if(a.overriddenName)return`${a.overriddenName}`;if(a.name)return`${a.name}`;const c=a.toString();if(null==c)return""+c;const u=c.indexOf("\n");return-1===u?c:c.substring(0,u)}function Ne(a,c){return null==a||""===a?null===c?"":c:null==c||""===c?a:a+" "+c}const Be=ne({__forward_ref__:ne});function Je(a){return a.__forward_ref__=Je,a.toString=function(){return Ve(this())},a}function ce(a){return Re(a)?a():a}function Re(a){return"function"==typeof a&&a.hasOwnProperty(Be)&&a.__forward_ref__===Je}class Fe extends Error{constructor(c,u){super(function Pe(a,c){return`NG0${Math.abs(a)}${c?": "+c:""}`}(c,u)),this.code=c}}function we(a){return"string"==typeof a?a:null==a?"":String(a)}function ue(a){return"function"==typeof a?a.name||a.toString():"object"==typeof a&&null!=a&&"function"==typeof a.type?a.type.name||a.type.toString():we(a)}function Q(a,c){const u=c?` in ${c}`:"";throw new Fe(-201,`No provider for ${ue(a)} found${u}`)}function Yt(a,c,u,d){throw new Error(`ASSERTION ERROR: ${a}`+(null==d?"":` [Expected=> ${u} ${d} ${c} <=Actual]`))}function ar(a){return{token:a.token,providedIn:a.providedIn||null,factory:a.factory,value:void 0}}function hi(a){return{providers:a.providers||[],imports:a.imports||[]}}function wi(a){return fi(a,zo)||fi(a,Ti)}function fi(a,c){return a.hasOwnProperty(c)?a[c]:null}function pi(a){return a&&(a.hasOwnProperty(fr)||a.hasOwnProperty(Ce))?a[fr]:null}const zo=ne({\u0275prov:ne}),fr=ne({\u0275inj:ne}),Ti=ne({ngInjectableDef:ne}),Ce=ne({ngInjectorDef:ne});var Ee=(()=>((Ee=Ee||{})[Ee.Default=0]="Default",Ee[Ee.Host=1]="Host",Ee[Ee.Self=2]="Self",Ee[Ee.SkipSelf=4]="SkipSelf",Ee[Ee.Optional=8]="Optional",Ee))();let fe;function q(a){const c=fe;return fe=a,c}function Te(a,c,u){const d=wi(a);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&Ee.Optional?null:void 0!==c?c:void Q(Ve(a),"Injector")}function Le(a){return{toString:a}.toString()}var qe=(()=>((qe=qe||{})[qe.OnPush=0]="OnPush",qe[qe.Default=1]="Default",qe))(),Pt=(()=>{return(a=Pt||(Pt={}))[a.Emulated=0]="Emulated",a[a.None=2]="None",a[a.ShadowDom=3]="ShadowDom",Pt;var a})();const rn="undefined"!=typeof globalThis&&globalThis,Ht="undefined"!=typeof window&&window,gn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Gt=rn||"undefined"!=typeof global&&global||Ht||gn,lt={},en=[],In=ne({\u0275cmp:ne}),Un=ne({\u0275dir:ne}),Pn=ne({\u0275pipe:ne}),Ut=ne({\u0275mod:ne}),En=ne({\u0275fac:ne}),St=ne({__NG_ELEMENT_ID__:ne});let Tn=0;function jt(a){return Le(()=>{const u={},d={type:a.type,providersResolver:null,decls:a.decls,vars:a.vars,factory:null,template:a.template||null,consts:a.consts||null,ngContentSelectors:a.ngContentSelectors,hostBindings:a.hostBindings||null,hostVars:a.hostVars||0,hostAttrs:a.hostAttrs||null,contentQueries:a.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:a.exportAs||null,onPush:a.changeDetection===qe.OnPush,directiveDefs:null,pipeDefs:null,selectors:a.selectors||en,viewQuery:a.viewQuery||null,features:a.features||null,data:a.data||{},encapsulation:a.encapsulation||Pt.Emulated,id:"c",styles:a.styles||en,_:null,setInput:null,schemas:a.schemas||null,tView:null},p=a.directives,g=a.features,_=a.pipes;return d.id+=Tn++,d.inputs=jn(a.inputs,u),d.outputs=jn(a.outputs),g&&g.forEach(E=>E(d)),d.directiveDefs=p?()=>("function"==typeof p?p():p).map(qr):null,d.pipeDefs=_?()=>("function"==typeof _?_():_).map(Dn):null,d})}function qr(a){return ve(a)||function Me(a){return a[Un]||null}(a)}function Dn(a){return function Ct(a){return a[Pn]||null}(a)}const mn={};function pr(a){return Le(()=>{const c={type:a.type,bootstrap:a.bootstrap||en,declarations:a.declarations||en,imports:a.imports||en,exports:a.exports||en,transitiveCompileScopes:null,schemas:a.schemas||null,id:a.id||null};return null!=a.id&&(mn[a.id]=a.type),c})}function jn(a,c){if(null==a)return lt;const u={};for(const d in a)if(a.hasOwnProperty(d)){let p=a[d],g=p;Array.isArray(p)&&(g=p[1],p=p[0]),u[p]=d,c&&(c[p]=g)}return u}const bn=jt;function Rt(a){return{type:a.type,name:a.name,factory:null,pure:!1!==a.pure,onDestroy:a.type.prototype.ngOnDestroy||null}}function ve(a){return a[In]||null}function wt(a,c){const u=a[Ut]||null;if(!u&&!0===c)throw new Error(`Type ${Ve(a)} does not have '\u0275mod' property.`);return u}function mi(a){return Array.isArray(a)&&"object"==typeof a[1]}function Wr(a){return Array.isArray(a)&&!0===a[1]}function Mo(a){return 0!=(8&a.flags)}function gs(a){return 2==(2&a.flags)}function Tr(a){return 1==(1&a.flags)}function jr(a){return null!==a.template}function ga(a){return 0!=(512&a[2])}function Y(a,c){return a.hasOwnProperty(En)?a[En]:null}class ae{constructor(c,u,d){this.previousValue=c,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function Se(){return F}function F(a){return a.type.prototype.ngOnChanges&&(a.setInput=de),oe}function oe(){const a=yt(this),c=null==a?void 0:a.current;if(c){const u=a.previous;if(u===lt)a.previous=c;else for(let d in c)u[d]=c[d];a.current=null,this.ngOnChanges(c)}}function de(a,c,u,d){const p=yt(a)||function kt(a,c){return a[je]=c}(a,{previous:lt,current:null}),g=p.current||(p.current={}),_=p.previous,E=this.declaredInputs[u],T=_[E];g[E]=new ae(T&&T.currentValue,c,_===lt),a[d]=c}Se.ngInherit=!0;const je="__ngSimpleChanges__";function yt(a){return a[je]||null}let I;function B(a){I=a}function A(){return void 0!==I?I:"undefined"!=typeof document?document:void 0}function pe(a){return!!a.listen}const We={createRenderer:(a,c)=>A()};function Tt(a){for(;Array.isArray(a);)a=a[0];return a}function er(a,c){return Tt(c[a])}function xn(a,c){return Tt(c[a.index])}function cr(a,c){return a.data[c]}function Dr(a,c){return a[c]}function Rr(a,c){const u=c[a];return mi(u)?u:u[0]}function ko(a){return 4==(4&a[2])}function Ya(a){return 128==(128&a[2])}function Hi(a,c){return null==c?null:a[c]}function Zs(a){a[18]=0}function Yo(a,c){a[5]+=c;let u=a,d=a[3];for(;null!==d&&(1===c&&1===u[5]||-1===c&&0===u[5]);)d[5]+=c,u=d,d=d[3]}const fn={lFrame:zy(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function jp(){return fn.bindingsEnabled}function et(){return fn.lFrame.lView}function Wn(){return fn.lFrame.tView}function Vp(a){return fn.lFrame.contextLView=a,a[8]}function Hr(){let a=Hp();for(;null!==a&&64===a.type;)a=a.parent;return a}function Hp(){return fn.lFrame.currentTNode}function Ja(){const a=fn.lFrame,c=a.currentTNode;return a.isParent?c:c.parent}function Jo(a,c){const u=fn.lFrame;u.currentTNode=a,u.isParent=c}function zu(){return fn.lFrame.isParent}function Gp(){fn.lFrame.isParent=!1}function Nc(){return fn.isInCheckNoChangesMode}function Ku(a){fn.isInCheckNoChangesMode=a}function oo(){const a=fn.lFrame;let c=a.bindingRootIndex;return-1===c&&(c=a.bindingRootIndex=a.tView.bindingStartIndex),c}function _a(){return fn.lFrame.bindingIndex}function Yu(){return fn.lFrame.bindingIndex++}function Ks(a){const c=fn.lFrame,u=c.bindingIndex;return c.bindingIndex=c.bindingIndex+a,u}function qy(a){fn.lFrame.inI18n=a}function Wy(a,c){const u=fn.lFrame;u.bindingIndex=u.bindingRootIndex=a,$p(c)}function $p(a){fn.lFrame.currentDirectiveIndex=a}function Ju(){return fn.lFrame.currentQueryIndex}function Wp(a){fn.lFrame.currentQueryIndex=a}function Gk(a){const c=a[1];return 2===c.type?c.declTNode:1===c.type?a[6]:null}function zp(a,c,u){if(u&Ee.SkipSelf){let p=c,g=a;for(;!(p=p.parent,null!==p||u&Ee.Host||(p=Gk(g),null===p||(g=g[15],10&p.type))););if(null===p)return!1;c=p,a=g}const d=fn.lFrame=Zp();return d.currentTNode=c,d.lView=a,!0}function Qd(a){const c=Zp(),u=a[1];fn.lFrame=c,c.currentTNode=u.firstChild,c.lView=a,c.tView=u,c.contextLView=a,c.bindingIndex=u.bindingStartIndex,c.inI18n=!1}function Zp(){const a=fn.lFrame,c=null===a?null:a.child;return null===c?zy(a):c}function zy(a){const c={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:a,child:null,inI18n:!1};return null!==a&&(a.child=c),c}function Kp(){const a=fn.lFrame;return fn.lFrame=a.parent,a.currentTNode=null,a.lView=null,a}const Yp=Kp;function Xd(){const a=Kp();a.isParent=!0,a.tView=null,a.selectedIndex=-1,a.contextLView=null,a.elementDepthCount=0,a.currentDirectiveIndex=-1,a.currentNamespace=null,a.bindingRootIndex=-1,a.bindingIndex=-1,a.currentQueryIndex=0}function _i(){return fn.lFrame.selectedIndex}function ya(a){fn.lFrame.selectedIndex=a}function Cr(){const a=fn.lFrame;return cr(a.tView,a.selectedIndex)}function Qu(a,c){for(let u=c.directiveStart,d=c.directiveEnd;u<d;u++){const g=a.data[u].type.prototype,{ngAfterContentInit:_,ngAfterContentChecked:E,ngAfterViewInit:T,ngAfterViewChecked:N,ngOnDestroy:L}=g;_&&(a.contentHooks||(a.contentHooks=[])).push(-u,_),E&&((a.contentHooks||(a.contentHooks=[])).push(u,E),(a.contentCheckHooks||(a.contentCheckHooks=[])).push(u,E)),T&&(a.viewHooks||(a.viewHooks=[])).push(-u,T),N&&((a.viewHooks||(a.viewHooks=[])).push(u,N),(a.viewCheckHooks||(a.viewCheckHooks=[])).push(u,N)),null!=L&&(a.destroyHooks||(a.destroyHooks=[])).push(u,L)}}function eh(a,c,u){Jy(a,c,3,u)}function va(a,c,u,d){(3&a[2])===u&&Jy(a,c,u,d)}function Xu(a,c){let u=a[2];(3&u)===c&&(u&=2047,u+=1,a[2]=u)}function Jy(a,c,u,d){const g=null!=d?d:-1,_=c.length-1;let E=0;for(let T=void 0!==d?65535&a[18]:0;T<_;T++)if("number"==typeof c[T+1]){if(E=c[T],null!=d&&E>=d)break}else c[T]<0&&(a[18]+=65536),(E<g||-1==g)&&(Qy(a,u,c,T),a[18]=(4294901760&a[18])+T+2),T++}function Qy(a,c,u,d){const p=u[d]<0,g=u[d+1],E=a[p?-u[d]:u[d]];if(p){if(a[2]>>11<a[18]>>16&&(3&a[2])===c){a[2]+=2048;try{g.call(E)}finally{}}}else try{g.call(E)}finally{}}class th{constructor(c,u,d){this.factory=c,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function nh(a,c,u){const d=pe(a);let p=0;for(;p<u.length;){const g=u[p];if("number"==typeof g){if(0!==g)break;p++;const _=u[p++],E=u[p++],T=u[p++];d?a.setAttribute(c,E,T,_):c.setAttributeNS(_,E,T)}else{const _=g,E=u[++p];ng(_)?d&&a.setProperty(c,_,E):d?a.setAttribute(c,_,E):c.setAttribute(_,E),p++}}return p}function tg(a){return 3===a||4===a||6===a}function ng(a){return 64===a.charCodeAt(0)}function rh(a,c){if(null!==c&&0!==c.length)if(null===a||0===a.length)a=c.slice();else{let u=-1;for(let d=0;d<c.length;d++){const p=c[d];"number"==typeof p?u=p:0===u||ih(a,u,p,null,-1===u||2===u?c[++d]:null)}}return a}function ih(a,c,u,d,p){let g=0,_=a.length;if(-1===c)_=-1;else for(;g<a.length;){const E=a[g++];if("number"==typeof E){if(E===c){_=-1;break}if(E>c){_=g-1;break}}}for(;g<a.length;){const E=a[g];if("number"==typeof E)break;if(E===u){if(null===d)return void(null!==p&&(a[g+1]=p));if(d===a[g+1])return void(a[g+2]=p)}g++,null!==d&&g++,null!==p&&g++}-1!==_&&(a.splice(_,0,c),g=_+1),a.splice(g++,0,u),null!==d&&a.splice(g++,0,d),null!==p&&a.splice(g++,0,p)}function rg(a){return-1!==a}function kc(a){return 32767&a}function Lc(a,c){let u=function e0(a){return a>>16}(a),d=c;for(;u>0;)d=d[15],u--;return d}let oh=!0;function sh(a){const c=oh;return oh=a,c}let qk=0;function ah(a,c){const u=ch(a,c);if(-1!==u)return u;const d=c[1];d.firstCreatePass&&(a.injectorIndex=c.length,og(d.data,a),og(c,null),og(d.blueprint,null));const p=sg(a,c),g=a.injectorIndex;if(rg(p)){const _=kc(p),E=Lc(p,c),T=E[1].data;for(let N=0;N<8;N++)c[g+N]=E[_+N]|T[_+N]}return c[g+8]=p,g}function og(a,c){a.push(0,0,0,0,0,0,0,0,c)}function ch(a,c){return-1===a.injectorIndex||a.parent&&a.parent.injectorIndex===a.injectorIndex||null===c[a.injectorIndex+8]?-1:a.injectorIndex}function sg(a,c){if(a.parent&&-1!==a.parent.injectorIndex)return a.parent.injectorIndex;let u=0,d=null,p=c;for(;null!==p;){const g=p[1],_=g.type;if(d=2===_?g.declTNode:1===_?p[6]:null,null===d)return-1;if(u++,p=p[15],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return-1}function ag(a,c,u){!function Wk(a,c,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(St)&&(d=u[St]),null==d&&(d=u[St]=qk++);const p=255&d;c.data[a+(p>>5)]|=1<<p}(a,c,u)}function Lw(a,c,u){if(u&Ee.Optional)return a;Q(c,"NodeInjector")}function Fw(a,c,u,d){if(u&Ee.Optional&&void 0===d&&(d=null),0==(u&(Ee.Self|Ee.Host))){const p=a[9],g=q(void 0);try{return p?p.get(c,d,u&Ee.Optional):Te(c,d,u&Ee.Optional)}finally{q(g)}}return Lw(d,c,u)}function n0(a,c,u,d=Ee.Default,p){if(null!==a){const g=function Ea(a){if("string"==typeof a)return a.charCodeAt(0)||0;const c=a.hasOwnProperty(St)?a[St]:void 0;return"number"==typeof c?c>=0?255&c:Bw:c}(u);if("function"==typeof g){if(!zp(c,a,d))return d&Ee.Host?Lw(p,u,d):Fw(c,u,d,p);try{const _=g(d);if(null!=_||d&Ee.Optional)return _;Q(u)}finally{Yp()}}else if("number"==typeof g){let _=null,E=ch(a,c),T=-1,N=d&Ee.Host?c[16][6]:null;for((-1===E||d&Ee.SkipSelf)&&(T=-1===E?sg(a,c):c[E+8],-1!==T&&ur(d,!1)?(_=c[1],E=kc(T),c=Lc(T,c)):E=-1);-1!==E;){const L=c[1];if(an(g,E,L.data)){const te=Uw(E,c,u,_,d,N);if(te!==Fc)return te}T=c[E+8],-1!==T&&ur(d,c[1].data[E+8]===N)&&an(g,E,c)?(_=L,E=kc(T),c=Lc(T,c)):E=-1}}}return Fw(c,u,d,p)}const Fc={};function Bw(){return new wr(Hr(),et())}function Uw(a,c,u,d,p,g){const _=c[1],E=_.data[a+8],L=uh(E,_,u,null==d?gs(E)&&oh:d!=_&&0!=(3&E.type),p&Ee.Host&&g===E);return null!==L?el(c,_,L,E):Fc}function uh(a,c,u,d,p){const g=a.providerIndexes,_=c.data,E=1048575&g,T=a.directiveStart,L=g>>20,_e=p?E+L:a.directiveEnd;for(let Oe=d?E:E+L;Oe<_e;Oe++){const Ye=_[Oe];if(Oe<T&&u===Ye||Oe>=T&&Ye.type===u)return Oe}if(p){const Oe=_[T];if(Oe&&jr(Oe)&&Oe.type===u)return T}return null}function el(a,c,u,d){let p=a[u];const g=c.data;if(function Qp(a){return a instanceof th}(p)){const _=p;_.resolving&&function ke(a,c){const u=c?`. Dependency path: ${c.join(" > ")} > ${a}`:"";throw new Fe(-200,`Circular dependency in DI detected for ${a}${u}`)}(ue(g[u]));const E=sh(_.canSeeViewProviders);_.resolving=!0;const T=_.injectImpl?q(_.injectImpl):null;zp(a,d,Ee.Default);try{p=a[u]=_.factory(void 0,g,a,d),c.firstCreatePass&&u>=d.directiveStart&&function Nw(a,c,u){const{ngOnChanges:d,ngOnInit:p,ngDoCheck:g}=c.type.prototype;if(d){const _=F(c);(u.preOrderHooks||(u.preOrderHooks=[])).push(a,_),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,_)}p&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-a,p),g&&((u.preOrderHooks||(u.preOrderHooks=[])).push(a,g),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(a,g))}(u,g[u],c)}finally{null!==T&&q(T),sh(E),_.resolving=!1,Yp()}}return p}function an(a,c,u){return!!(u[c+(a>>5)]&1<<a)}function ur(a,c){return!(a&Ee.Self||a&Ee.Host&&c)}class wr{constructor(c,u){this._tNode=c,this._lView=u}get(c,u,d){return n0(this._tNode,this._lView,c,d,u)}}function Xa(a){return Le(()=>{const c=a.prototype.constructor,u=c[En]||cg(c),d=Object.prototype;let p=Object.getPrototypeOf(a.prototype).constructor;for(;p&&p!==d;){const g=p[En]||cg(p);if(g&&g!==u)return g;p=Object.getPrototypeOf(p)}return g=>new g})}function cg(a){return Re(a)?()=>{const c=cg(ce(a));return c&&c()}:Y(a)}function tl(a){return function zk(a,c){if("class"===c)return a.classes;if("style"===c)return a.styles;const u=a.attrs;if(u){const d=u.length;let p=0;for(;p<d;){const g=u[p];if(tg(g))break;if(0===g)p+=2;else if("number"==typeof g)for(p++;p<d&&"string"==typeof u[p];)p++;else{if(g===c)return u[p+1];p+=2}}}return null}(Hr(),a)}const ec="__parameters__";function Ys(a,c,u){return Le(()=>{const d=function ug(a){return function(...u){if(a){const d=a(...u);for(const p in d)this[p]=d[p]}}}(c);function p(...g){if(this instanceof p)return d.apply(this,g),this;const _=new p(...g);return E.annotation=_,E;function E(T,N,L){const te=T.hasOwnProperty(ec)?T[ec]:Object.defineProperty(T,ec,{value:[]})[ec];for(;te.length<=L;)te.push(null);return(te[L]=te[L]||[]).push(_),T}}return u&&(p.prototype=Object.create(u.prototype)),p.prototype.ngMetadataName=a,p.annotationCls=p,p})}class lr{constructor(c,u){this._desc=c,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=ar({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const lh=new lr("AnalyzeForEntryComponents");function ao(a,c){void 0===c&&(c=a);for(let u=0;u<a.length;u++){let d=a[u];Array.isArray(d)?(c===a&&(c=a.slice(0,u)),ao(d,c)):c!==a&&c.push(d)}return c}function Xo(a,c){a.forEach(u=>Array.isArray(u)?Xo(u,c):c(u))}function o0(a,c,u){c>=a.length?a.push(u):a.splice(c,0,u)}function rl(a,c){return c>=a.length-1?a.pop():a.splice(c,1)[0]}function il(a,c){const u=[];for(let d=0;d<a;d++)u.push(c);return u}function si(a,c,u){let d=jc(a,c);return d>=0?a[1|d]=u:(d=~d,function oi(a,c,u,d){let p=a.length;if(p==c)a.push(u,d);else if(1===p)a.push(d,a[0]),a[0]=u;else{for(p--,a.push(a[p-1],a[p]);p>c;)a[p]=a[p-2],p--;a[c]=u,a[c+1]=d}}(a,d,c,u)),d}function fh(a,c){const u=jc(a,c);if(u>=0)return a[1|u]}function jc(a,c){return function s0(a,c,u){let d=0,p=a.length>>u;for(;p!==d;){const g=d+(p-d>>1),_=a[g<<u];if(c===_)return g<<u;_>c?p=g:d=g+1}return~(p<<u)}(a,c,1)}const Vc={},kn="__NG_DI_FLAG__",gh="ngTempTokenPath",l0=/\n/gm,d0="__source",qw=ne({provide:String,useValue:ne});let ol;function es(a){const c=ol;return ol=a,c}function h0(a,c=Ee.Default){if(void 0===ol)throw new Fe(203,"");return null===ol?Te(a,void 0,c):ol.get(a,c&Ee.Optional?null:void 0,c)}function Zr(a,c=Ee.Default){return(function $(){return fe}()||h0)(ce(a),c)}const Qk=Zr;function Kr(a){const c=[];for(let u=0;u<a.length;u++){const d=ce(a[u]);if(Array.isArray(d)){if(0===d.length)throw new Fe(900,"");let p,g=Ee.Default;for(let _=0;_<d.length;_++){const E=d[_],T=Ww(E);"number"==typeof T?-1===T?p=E.token:g|=T:p=E}c.push(Zr(p,g))}else c.push(Zr(d))}return c}function co(a,c){return a[kn]=c,a.prototype[kn]=c,a}function Ww(a){return a[kn]}const sl=co(Ys("Inject",a=>({token:a})),-1),al=co(Ys("Optional"),8),cl=co(Ys("SkipSelf"),4);let $c,vh;function ic(a){var c;return(null===(c=function qc(){if(void 0===$c&&($c=null,Gt.trustedTypes))try{$c=Gt.trustedTypes.createPolicy("angular",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return $c}())||void 0===c?void 0:c.createHTML(a))||a}function v0(a){var c;return(null===(c=function Wc(){if(void 0===vh&&(vh=null,Gt.trustedTypes))try{vh=Gt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:a=>a,createScript:a=>a,createScriptURL:a=>a})}catch(a){}return vh}())||void 0===c?void 0:c.createHTML(a))||a}class oc{constructor(c){this.changingThisBreaksApplicationSecurity=c}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Qw extends oc{getTypeName(){return"HTML"}}class C0 extends oc{getTypeName(){return"Style"}}class _g extends oc{getTypeName(){return"Script"}}class yg extends oc{getTypeName(){return"URL"}}class Js extends oc{getTypeName(){return"ResourceURL"}}function uo(a){return a instanceof oc?a.changingThisBreaksApplicationSecurity:a}function sc(a,c){const u=vg(a);if(null!=u&&u!==c){if("ResourceURL"===u&&"URL"===c)return!0;throw new Error(`Required a safe ${c}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===c}function vg(a){return a instanceof oc&&a.getTypeName()||null}function Xw(a){return new Qw(a)}function wa(a){return new C0(a)}function w0(a){return new _g(a)}function eT(a){return new yg(a)}function bh(a){return new Js(a)}function bg(a){const c=new T0(a);return function Cg(){try{return!!(new window.DOMParser).parseFromString(ic(""),"text/html")}catch(a){return!1}}()?new Eg(c):c}class Eg{constructor(c){this.inertDocumentHelper=c}getInertBodyElement(c){c="<body><remove></remove>"+c;try{const u=(new window.DOMParser).parseFromString(ic(c),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(c):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class T0{constructor(c){if(this.defaultDoc=c,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const d=this.inertDocument.createElement("body");u.appendChild(d)}}getInertBodyElement(c){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ic(c),u;const d=this.inertDocument.createElement("body");return d.innerHTML=ic(c),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(c){const u=c.attributes;for(let p=u.length-1;0<p;p--){const _=u.item(p).name;("xmlns:ns1"===_||0===_.indexOf("ns1:"))&&c.removeAttribute(_)}let d=c.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const wg=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,dl=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function hl(a){return(a=String(a)).match(wg)||a.match(dl)?a:"unsafe:"+a}function D0(a){return(a=String(a)).split(",").map(c=>hl(c.trim())).join(", ")}function bs(a){const c={};for(const u of a.split(","))c[u]=!0;return c}function Ta(...a){const c={};for(const u of a)for(const d in u)u.hasOwnProperty(d)&&(c[d]=!0);return c}const zc=bs("area,br,col,hr,img,wbr"),Eh=bs("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Tg=bs("rp,rt"),Dg=Ta(zc,Ta(Eh,bs("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ta(Tg,bs("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Ta(Tg,Eh)),Sg=bs("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xg=bs("srcset"),x0=Ta(Sg,xg,bs("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),bs("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ag=bs("script,style,template");class rT{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(c){let u=c.firstChild,d=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?d=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,d&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let p=this.checkClobberedElement(u,u.nextSibling);if(p){u=p;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(c){const u=c.nodeName.toLowerCase();if(!Dg.hasOwnProperty(u))return this.sanitizedSomething=!0,!Ag.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const d=c.attributes;for(let p=0;p<d.length;p++){const g=d.item(p),_=g.name,E=_.toLowerCase();if(!x0.hasOwnProperty(E)){this.sanitizedSomething=!0;continue}let T=g.value;Sg[E]&&(T=hl(T)),xg[E]&&(T=D0(T)),this.buf.push(" ",_,'="',O0(T),'"')}return this.buf.push(">"),!0}endElement(c){const u=c.nodeName.toLowerCase();Dg.hasOwnProperty(u)&&!zc.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(c){this.buf.push(O0(c))}checkClobberedElement(c,u){if(u&&(c.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${c.outerHTML}`);return u}}const I0=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,A0=/([^\#-~ |!])/g;function O0(a){return a.replace(/&/g,"&amp;").replace(I0,function(c){return"&#"+(1024*(c.charCodeAt(0)-55296)+(c.charCodeAt(1)-56320)+65536)+";"}).replace(A0,function(c){return"&#"+c.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Ch;function P0(a,c){let u=null;try{Ch=Ch||bg(a);let d=c?String(c):"";u=Ch.getInertBodyElement(d);let p=5,g=d;do{if(0===p)throw new Error("Failed to sanitize html because the input is unstable");p--,d=g,g=u.innerHTML,u=Ch.getInertBodyElement(d)}while(d!==g);return ic((new rT).sanitizeChildren(fl(u)||u))}finally{if(u){const d=fl(u)||u;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function fl(a){return"content"in a&&function Da(a){return a.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===a.nodeName}(a)?a.content:null}var kr=(()=>((kr=kr||{})[kr.NONE=0]="NONE",kr[kr.HTML=1]="HTML",kr[kr.STYLE=2]="STYLE",kr[kr.SCRIPT=3]="SCRIPT",kr[kr.URL=4]="URL",kr[kr.RESOURCE_URL=5]="RESOURCE_URL",kr))();function Sa(a){const c=Zc();return c?v0(c.sanitize(kr.HTML,a)||""):sc(a,"HTML")?v0(uo(a)):P0(A(),we(a))}function Og(a){const c=Zc();return c?c.sanitize(kr.URL,a)||"":sc(a,"URL")?uo(a):hl(we(a))}function Zc(){const a=et();return a&&a[12]}const wh="__ngContext__";function dr(a,c){a[wh]=c}function Th(a){const c=function Kc(a){return a[wh]||null}(a);return c?Array.isArray(c)?c:c.lView:null}function xh(a){return a.ngOriginalError}function lT(a,...c){a.error(...c)}class Ih{constructor(){this._console=console}handleError(c){const u=this._findOriginalError(c),d=function uT(a){return a&&a.ngErrorLogger||lT}(c);d(this._console,"ERROR",c),u&&d(this._console,"ORIGINAL ERROR",u)}_findOriginalError(c){let u=c&&xh(c);for(;u&&xh(u);)u=xh(u);return u||null}}const Mg=/^>|^->|<!--|-->|--!>|<!-$/g,fT=/(<|>)/;const bl=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Gt))();function V0(a){return a.ownerDocument.defaultView}function H0(a){return a.ownerDocument}function Es(a){return a instanceof Function?a():a}var Cs=(()=>((Cs=Cs||{})[Cs.Important=1]="Important",Cs[Cs.DashCase=2]="DashCase",Cs))();let Ng;function Rg(a,c){return Ng(a,c)}function Cl(a){const c=a[3];return Wr(c)?c[3]:c}function kg(a){return _T(a[13])}function Oh(a){return _T(a[4])}function _T(a){for(;null!==a&&!Wr(a);)a=a[4];return a}function ac(a,c,u,d,p){if(null!=d){let g,_=!1;Wr(d)?g=d:mi(d)&&(_=!0,d=d[0]);const E=Tt(d);0===a&&null!==u?null==p?Q0(c,u,E):xa(c,u,E,p||null,!0):1===a&&null!==u?xa(c,u,E,p||null,!0):2===a?Fh(c,E,_):3===a&&c.destroyNode(E),null!=g&&function ST(a,c,u,d,p){const g=u[7];g!==Tt(u)&&ac(c,a,d,g,p);for(let E=10;E<u.length;E++){const T=u[E];ts(T[1],T,a,c,d,g)}}(c,a,g,u,p)}}function Ph(a,c){return pe(a)?a.createText(c):a.createTextNode(c)}function Lg(a,c,u){pe(a)?a.setValue(c,u):c.textContent=u}function vT(a,c){return a.createComment(function vl(a){return a.replace(Mg,c=>c.replace(fT,"\u200b$1\u200b"))}(c))}function Fg(a,c,u){if(pe(a))return a.createElement(c,u);{const d=null!==u?function Ka(a){const c=a.toLowerCase();return"svg"===c?"http://www.w3.org/2000/svg":"math"===c?"http://www.w3.org/1998/MathML/":null}(u):null;return null===d?a.createElement(c):a.createElementNS(d,c)}}function K0(a,c){const u=a[9],d=u.indexOf(c),p=c[3];1024&c[2]&&(c[2]&=-1025,Yo(p,-1)),u.splice(d,1)}function Ug(a,c){if(a.length<=10)return;const u=10+c,d=a[u];if(d){const p=d[17];null!==p&&p!==a&&K0(p,d),c>0&&(a[u-1][4]=d[4]);const g=rl(a,10+c);!function bT(a,c){ts(a,c,c[11],2,null,null),c[0]=null,c[6]=null}(d[1],d);const _=g[19];null!==_&&_.detachView(g[1]),d[3]=null,d[4]=null,d[2]&=-129}return d}function Mh(a,c){if(!(256&c[2])){const u=c[11];pe(u)&&u.destroyNode&&ts(a,c,u,3,null,null),function CT(a){let c=a[13];if(!c)return Nh(a[1],a);for(;c;){let u=null;if(mi(c))u=c[13];else{const d=c[10];d&&(u=d)}if(!u){for(;c&&!c[4]&&c!==a;)mi(c)&&Nh(c[1],c),c=c[3];null===c&&(c=a),mi(c)&&Nh(c[1],c),u=c&&c[4]}c=u}}(c)}}function Nh(a,c){if(!(256&c[2])){c[2]&=-129,c[2]|=256,function DT(a,c){let u;if(null!=a&&null!=(u=a.destroyHooks))for(let d=0;d<u.length;d+=2){const p=c[u[d]];if(!(p instanceof th)){const g=u[d+1];if(Array.isArray(g))for(let _=0;_<g.length;_+=2){const E=p[g[_]],T=g[_+1];try{T.call(E)}finally{}}else try{g.call(p)}finally{}}}}(a,c),function TT(a,c){const u=a.cleanup,d=c[7];let p=-1;if(null!==u)for(let g=0;g<u.length-1;g+=2)if("string"==typeof u[g]){const _=u[g+1],E="function"==typeof _?_(c):Tt(c[_]),T=d[p=u[g+2]],N=u[g+3];"boolean"==typeof N?E.removeEventListener(u[g],T,N):N>=0?d[p=N]():d[p=-N].unsubscribe(),g+=2}else{const _=d[p=u[g+1]];u[g].call(_)}if(null!==d){for(let g=p+1;g<d.length;g++)d[g]();c[7]=null}}(a,c),1===c[1].type&&pe(c[11])&&c[11].destroy();const u=c[17];if(null!==u&&Wr(c[3])){u!==c[3]&&K0(u,c);const d=c[19];null!==d&&d.detachView(a)}}}function Y0(a,c,u){return J0(a,c.parent,u)}function J0(a,c,u){let d=c;for(;null!==d&&40&d.type;)d=(c=d).parent;if(null===d)return u[0];if(2&d.flags){const p=a.data[d.directiveStart].encapsulation;if(p===Pt.None||p===Pt.Emulated)return null}return xn(d,u)}function xa(a,c,u,d,p){pe(a)?a.insertBefore(c,u,d,p):c.insertBefore(u,d,p)}function Q0(a,c,u){pe(a)?a.appendChild(c,u):c.appendChild(u)}function X0(a,c,u,d,p){null!==d?xa(a,c,u,d,p):Q0(a,c,u)}function Rh(a,c){return pe(a)?a.parentNode(c):c.parentNode}function ws(a,c,u){return cc(a,c,u)}function Qs(a,c,u){return 40&a.type?xn(a,u):null}let jg,cc=Qs;function tv(a,c){cc=a,jg=c}function wl(a,c,u,d){const p=Y0(a,d,c),g=c[11],E=ws(d.parent||c[6],d,c);if(null!=p)if(Array.isArray(u))for(let T=0;T<u.length;T++)X0(g,p,u[T],E,!1);else X0(g,p,u,E,!1);void 0!==jg&&jg(g,d,c,u,p)}function kh(a,c){if(null!==c){const u=c.type;if(3&u)return xn(c,a);if(4&u)return Lh(-1,a[c.index]);if(8&u){const d=c.child;if(null!==d)return kh(a,d);{const p=a[c.index];return Wr(p)?Lh(-1,p):Tt(p)}}if(32&u)return Rg(c,a)()||Tt(a[c.index]);{const d=Vg(a,c);return null!==d?Array.isArray(d)?d[0]:kh(Cl(a[16]),d):kh(a,c.next)}}return null}function Vg(a,c){return null!==c?a[16][6].projection[c.projection]:null}function Lh(a,c){const u=10+a+1;if(u<c.length){const d=c[u],p=d[1].firstChild;if(null!==p)return kh(d,p)}return c[7]}function Fh(a,c,u){const d=Rh(a,c);d&&function mr(a,c,u,d){pe(a)?a.removeChild(c,u,d):c.removeChild(u)}(a,d,c,u)}function nv(a,c,u,d,p,g,_){for(;null!=u;){const E=d[u.index],T=u.type;if(_&&0===c&&(E&&dr(Tt(E),d),u.flags|=4),64!=(64&u.flags))if(8&T)nv(a,c,u.child,d,p,g,!1),ac(c,a,p,E,g);else if(32&T){const N=Rg(u,d);let L;for(;L=N();)ac(c,a,p,L,g);ac(c,a,p,E,g)}else 16&T?iv(a,c,d,u,p,g):ac(c,a,p,E,g);u=_?u.projectionNext:u.next}}function ts(a,c,u,d,p,g){nv(u,d,a.firstChild,c,p,g,!1)}function iv(a,c,u,d,p,g){const _=u[16],T=_[6].projection[d.projection];if(Array.isArray(T))for(let N=0;N<T.length;N++)ac(c,a,p,T[N],g);else nv(a,c,T,_[3],p,g,!0)}function ov(a,c,u){pe(a)?a.setAttribute(c,"style",u):c.style.cssText=u}function Hg(a,c,u){pe(a)?""===u?a.removeAttribute(c,"class"):a.setAttribute(c,"class",u):c.className=u}function sv(a,c,u){let d=a.length;for(;;){const p=a.indexOf(c,u);if(-1===p)return p;if(0===p||a.charCodeAt(p-1)<=32){const g=c.length;if(p+g===d||a.charCodeAt(p+g)<=32)return p}u=p+1}}const av="ng-template";function AT(a,c,u){let d=0;for(;d<a.length;){let p=a[d++];if(u&&"class"===p){if(p=a[d],-1!==sv(p.toLowerCase(),c,0))return!0}else if(1===p){for(;d<a.length&&"string"==typeof(p=a[d++]);)if(p.toLowerCase()===c)return!0;return!1}}return!1}function cv(a){return 4===a.type&&a.value!==av}function Gg(a,c,u){return c===(4!==a.type||u?a.value:av)}function OT(a,c,u){let d=4;const p=a.attrs||[],g=function Xs(a){for(let c=0;c<a.length;c++)if(tg(a[c]))return c;return a.length}(p);let _=!1;for(let E=0;E<c.length;E++){const T=c[E];if("number"!=typeof T){if(!_)if(4&d){if(d=2|1&d,""!==T&&!Gg(a,T,u)||""===T&&1===c.length){if(ns(d))return!1;_=!0}}else{const N=8&d?T:c[++E];if(8&d&&null!==a.attrs){if(!AT(a.attrs,N,u)){if(ns(d))return!1;_=!0}continue}const te=uv(8&d?"class":T,p,cv(a),u);if(-1===te){if(ns(d))return!1;_=!0;continue}if(""!==N){let _e;_e=te>g?"":p[te+1].toLowerCase();const Oe=8&d?_e:null;if(Oe&&-1!==sv(Oe,N,0)||2&d&&N!==_e){if(ns(d))return!1;_=!0}}}}else{if(!_&&!ns(d)&&!ns(T))return!1;if(_&&ns(T))continue;_=!1,d=T|1&d}}return ns(d)||_}function ns(a){return 0==(1&a)}function uv(a,c,u,d){if(null===c)return-1;let p=0;if(d||!u){let g=!1;for(;p<c.length;){const _=c[p];if(_===a)return p;if(3===_||6===_)g=!0;else{if(1===_||2===_){let E=c[++p];for(;"string"==typeof E;)E=c[++p];continue}if(4===_)break;if(0===_){p+=4;continue}}p+=g?1:2}return-1}return function Ts(a,c){let u=a.indexOf(4);if(u>-1)for(u++;u<a.length;){const d=a[u];if("number"==typeof d)return-1;if(d===c)return u;u++}return-1}(c,a)}function lv(a,c,u=!1){for(let d=0;d<c.length;d++)if(OT(a,c[d],u))return!0;return!1}function ea(a,c){e:for(let u=0;u<c.length;u++){const d=c[u];if(a.length===d.length){for(let p=0;p<a.length;p++)if(a[p]!==d[p])continue e;return!0}}return!1}function Fo(a,c){return a?":not("+c.trim()+")":c}function $g(a){let c=a[0],u=1,d=2,p="",g=!1;for(;u<a.length;){let _=a[u];if("string"==typeof _)if(2&d){const E=a[++u];p+="["+_+(E.length>0?'="'+E+'"':"")+"]"}else 8&d?p+="."+_:4&d&&(p+=" "+_);else""!==p&&!ns(_)&&(c+=Fo(g,p),p=""),d=_,g=g||!ns(d);u++}return""!==p&&(c+=Fo(g,p)),c}const Cn={};function dv(a){Ds(Wn(),et(),_i()+a,Nc())}function Ds(a,c,u,d){if(!d)if(3==(3&c[2])){const g=a.preOrderCheckHooks;null!==g&&eh(c,g,u)}else{const g=a.preOrderHooks;null!==g&&va(c,g,0,u)}ya(u)}function Tl(a,c){return a<<17|c<<2}function Ss(a){return a>>17&32767}function Wg(a){return 2|a}function Ia(a){return(131068&a)>>2}function Uh(a,c){return-131069&a|c<<2}function fv(a){return 1|a}function VT(a,c){const u=a.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const p=u[d],g=u[d+1];if(-1!==g){const _=a.data[g];Wp(p),_.contentQueries(2,c[g],g)}}}function Ml(a,c,u,d,p,g,_,E,T,N){const L=c.blueprint.slice();return L[0]=p,L[2]=140|d,Zs(L),L[3]=L[15]=a,L[8]=u,L[10]=_||a&&a[10],L[11]=E||a&&a[11],L[12]=T||a&&a[12]||null,L[9]=N||a&&a[9]||null,L[6]=g,L[16]=2==c.type?a[16]:L,L}function eu(a,c,u,d,p){let g=a.data[c];if(null===g)g=Xg(a,c,u,d,p),function $y(){return fn.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=u,g.value=d,g.attrs=p;const _=Ja();g.injectorIndex=null===_?-1:_.injectorIndex}return Jo(g,!0),g}function Xg(a,c,u,d,p){const g=Hp(),_=zu(),T=a.data[c]=function qT(a,c,u,d,p,g){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:c?c.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:p,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:c,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,_?g:g&&g.parent,u,c,d,p);return null===a.firstChild&&(a.firstChild=T),null!==g&&(_?null==g.child&&null!==T.parent&&(g.child=T):null===g.next&&(g.next=T)),T}function tu(a,c,u,d){if(0===u)return-1;const p=c.length;for(let g=0;g<u;g++)c.push(d),a.blueprint.push(d),a.data.push(null);return p}function nu(a,c,u){Qd(c);try{const d=a.viewQuery;null!==d&&Rl(1,d,u);const p=a.template;null!==p&&Ev(a,c,p,1,u),a.firstCreatePass&&(a.firstCreatePass=!1),a.staticContentQueries&&VT(a,c),a.staticViewQueries&&Rl(2,a.viewQuery,u);const g=a.components;null!==g&&function HT(a,c){for(let u=0;u<c.length;u++)rD(a,c[u])}(c,g)}catch(d){throw a.firstCreatePass&&(a.incompleteFirstPass=!0,a.firstCreatePass=!1),d}finally{c[2]&=-5,Xd()}}function ru(a,c,u,d){const p=c[2];if(256==(256&p))return;Qd(c);const g=Nc();try{Zs(c),function Aw(a){return fn.lFrame.bindingIndex=a}(a.bindingStartIndex),null!==u&&Ev(a,c,u,2,d);const _=3==(3&p);if(!g)if(_){const N=a.preOrderCheckHooks;null!==N&&eh(c,N,null)}else{const N=a.preOrderHooks;null!==N&&va(c,N,0,null),Xu(c,0)}if(function tD(a){for(let c=kg(a);null!==c;c=Oh(c)){if(!c[2])continue;const u=c[9];for(let d=0;d<u.length;d++){const p=u[d],g=p[3];0==(1024&p[2])&&Yo(g,1),p[2]|=1024}}}(c),function Lv(a){for(let c=kg(a);null!==c;c=Oh(c))for(let u=10;u<c.length;u++){const d=c[u],p=d[1];Ya(d)&&ru(p,d,p.template,d[8])}}(c),null!==a.contentQueries&&VT(a,c),!g)if(_){const N=a.contentCheckHooks;null!==N&&eh(c,N)}else{const N=a.contentHooks;null!==N&&va(c,N,1),Xu(c,1)}!function Oa(a,c){const u=a.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const p=u[d];if(p<0)ya(~p);else{const g=p,_=u[++d],E=u[++d];Wy(_,g),E(2,c[g])}}}finally{ya(-1)}}(a,c);const E=a.components;null!==E&&function na(a,c){for(let u=0;u<c.length;u++)nD(a,c[u])}(c,E);const T=a.viewQuery;if(null!==T&&Rl(2,T,d),!g)if(_){const N=a.viewCheckHooks;null!==N&&eh(c,N)}else{const N=a.viewHooks;null!==N&&va(c,N,2),Xu(c,2)}!0===a.firstUpdatePass&&(a.firstUpdatePass=!1),g||(c[2]&=-73),1024&c[2]&&(c[2]&=-1025,Yo(c[3],-1))}finally{Xd()}}function GT(a,c,u,d){const p=c[10],g=!Nc(),_=ko(c);try{g&&!_&&p.begin&&p.begin(),_&&nu(a,c,d),ru(a,c,u,d)}finally{g&&!_&&p.end&&p.end()}}function Ev(a,c,u,d,p){const g=_i(),_=2&d;try{ya(-1),_&&c.length>20&&Ds(a,c,20,Nc()),u(d,p)}finally{ya(g)}}function Cv(a,c,u){if(Mo(c)){const p=c.directiveEnd;for(let g=c.directiveStart;g<p;g++){const _=a.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}}function em(a,c,u){!jp()||(function JT(a,c,u,d){const p=u.directiveStart,g=u.directiveEnd;a.firstCreatePass||ah(u,c),dr(d,c);const _=u.initialInputs;for(let E=p;E<g;E++){const T=a.data[E],N=jr(T);N&&g2(c,u,T);const L=el(c,a,E,u);dr(L,c),null!==_&&XT(0,E-p,L,T,0,_),N&&(Rr(u.index,c)[8]=L)}}(a,c,u,xn(u,c)),128==(128&u.flags)&&function p2(a,c,u){const d=u.directiveStart,p=u.directiveEnd,_=u.index,E=function Qo(){return fn.lFrame.currentDirectiveIndex}();try{ya(_);for(let T=d;T<p;T++){const N=a.data[T],L=c[T];$p(T),(null!==N.hostBindings||0!==N.hostVars||null!==N.hostAttrs)&&Pv(N,L)}}finally{ya(-1),$p(E)}}(a,c,u))}function tm(a,c,u=xn){const d=c.localNames;if(null!==d){let p=c.index+1;for(let g=0;g<d.length;g+=2){const _=d[g+1],E=-1===_?u(c,a):a[_];a[p++]=E}}}function wv(a){const c=a.tView;return null===c||c.incompleteFirstPass?a.tView=uc(1,null,a.template,a.decls,a.vars,a.directiveDefs,a.pipeDefs,a.viewQuery,a.schemas,a.consts):c}function uc(a,c,u,d,p,g,_,E,T,N){const L=20+d,te=L+p,_e=function $T(a,c){const u=[];for(let d=0;d<c;d++)u.push(d<a?null:Cn);return u}(L,te),Oe="function"==typeof N?N():N;return _e[1]={type:a,blueprint:_e,template:u,queries:null,viewQuery:E,declTNode:c,data:_e.slice().fill(null,L),bindingStartIndex:L,expandoStartIndex:te,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof _?_():_,firstChild:null,schemas:T,consts:Oe,incompleteFirstPass:!1}}function Sv(a,c,u,d){const p=sm(c);null===u?p.push(d):(p.push(u),a.firstCreatePass&&Uv(a).push(d,p.length-1))}function xv(a,c,u){for(let d in a)if(a.hasOwnProperty(d)){const p=a[d];(u=null===u?{}:u).hasOwnProperty(d)?u[d].push(c,p):u[d]=[c,p]}return u}function yo(a,c,u,d,p,g,_,E){const T=xn(c,u);let L,N=c.inputs;!E&&null!=N&&(L=N[d])?(kl(a,u,L,d,p),gs(c)&&function zT(a,c){const u=Rr(c,a);16&u[2]||(u[2]|=64)}(u,c.index)):3&c.type&&(d=function Iv(a){return"class"===a?"className":"for"===a?"htmlFor":"formaction"===a?"formAction":"innerHtml"===a?"innerHTML":"readonly"===a?"readOnly":"tabindex"===a?"tabIndex":a}(d),p=null!=_?_(p,c.value||"",d):p,pe(g)?g.setProperty(T,d,p):ng(d)||(T.setProperty?T.setProperty(d,p):T[d]=p))}function vo(a,c,u,d){let p=!1;if(jp()){const g=function QT(a,c,u){const d=a.directiveRegistry;let p=null;if(d)for(let g=0;g<d.length;g++){const _=d[g];lv(u,_.selectors,!1)&&(p||(p=[]),ag(ah(u,c),a,_.type),jr(_)?(Mv(a,u),p.unshift(_)):p.push(_))}return p}(a,c,u),_=null===d?null:{"":-1};if(null!==g){p=!0,rm(u,a.data.length,g.length);for(let L=0;L<g.length;L++){const te=g[L];te.providersResolver&&te.providersResolver(te)}let E=!1,T=!1,N=tu(a,c,g.length,null);for(let L=0;L<g.length;L++){const te=g[L];u.mergedAttrs=rh(u.mergedAttrs,te.hostAttrs),kv(a,u,c,N,te),Rv(N,te,_),null!==te.contentQueries&&(u.flags|=8),(null!==te.hostBindings||null!==te.hostAttrs||0!==te.hostVars)&&(u.flags|=128);const _e=te.type.prototype;!E&&(_e.ngOnChanges||_e.ngOnInit||_e.ngDoCheck)&&((a.preOrderHooks||(a.preOrderHooks=[])).push(u.index),E=!0),!T&&(_e.ngOnChanges||_e.ngDoCheck)&&((a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(u.index),T=!0),N++}!function WT(a,c){const d=c.directiveEnd,p=a.data,g=c.attrs,_=[];let E=null,T=null;for(let N=c.directiveStart;N<d;N++){const L=p[N],te=L.inputs,_e=null===g||cv(c)?null:eD(te,g);_.push(_e),E=xv(te,N,E),T=xv(L.outputs,N,T)}null!==E&&(E.hasOwnProperty("class")&&(c.flags|=16),E.hasOwnProperty("style")&&(c.flags|=32)),c.initialInputs=_,c.inputs=E,c.outputs=T}(a,u)}_&&function Nv(a,c,u){if(c){const d=a.localNames=[];for(let p=0;p<c.length;p+=2){const g=u[c[p+1]];if(null==g)throw new Fe(-301,!1);d.push(c[p],g)}}}(u,d,_)}return u.mergedAttrs=rh(u.mergedAttrs,u.attrs),p}function Ov(a,c,u,d,p,g){const _=g.hostBindings;if(_){let E=a.hostBindingOpCodes;null===E&&(E=a.hostBindingOpCodes=[]);const T=~c.index;(function YT(a){let c=a.length;for(;c>0;){const u=a[--c];if("number"==typeof u&&u<0)return u}return 0})(E)!=T&&E.push(T),E.push(d,p,_)}}function Pv(a,c){null!==a.hostBindings&&a.hostBindings(1,c)}function Mv(a,c){c.flags|=2,(a.components||(a.components=[])).push(c.index)}function Rv(a,c,u){if(u){if(c.exportAs)for(let d=0;d<c.exportAs.length;d++)u[c.exportAs[d]]=a;jr(c)&&(u[""]=a)}}function rm(a,c,u){a.flags|=1,a.directiveStart=c,a.directiveEnd=c+u,a.providerIndexes=c}function kv(a,c,u,d,p){a.data[d]=p;const g=p.factory||(p.factory=Y(p.type)),_=new th(g,jr(p),null);a.blueprint[d]=_,u[d]=_,Ov(a,c,0,d,tu(a,u,p.hostVars,Cn),p)}function g2(a,c,u){const d=xn(c,a),p=wv(u),g=a[10],_=qh(a,Ml(a,p,null,u.onPush?64:16,d,c,g,g.createRenderer(d,u),null,null));a[c.index]=_}function im(a,c,u,d,p,g,_){if(null==g)pe(a)?a.removeAttribute(c,p,u):c.removeAttribute(p);else{const E=null==_?we(g):_(g,d||"",p);pe(a)?a.setAttribute(c,p,E,u):u?c.setAttributeNS(u,p,E):c.setAttribute(p,E)}}function XT(a,c,u,d,p,g){const _=g[c];if(null!==_){const E=d.setInput;for(let T=0;T<_.length;){const N=_[T++],L=_[T++],te=_[T++];null!==E?d.setInput(u,te,N,L):u[L]=te}}}function eD(a,c){let u=null,d=0;for(;d<c.length;){const p=c[d];if(0!==p)if(5!==p){if("number"==typeof p)break;a.hasOwnProperty(p)&&(null===u&&(u=[]),u.push(p,a[p],c[d+1])),d+=2}else d+=2;else d+=4}return u}function Yr(a,c,u,d){return new Array(a,!0,!1,c,null,0,d,u,null,null)}function nD(a,c){const u=Rr(c,a);if(Ya(u)){const d=u[1];80&u[2]?ru(d,u,d.template,u[8]):u[5]>0&&om(u)}}function om(a){for(let d=kg(a);null!==d;d=Oh(d))for(let p=10;p<d.length;p++){const g=d[p];if(1024&g[2]){const _=g[1];ru(_,g,_.template,g[8])}else g[5]>0&&om(g)}const u=a[1].components;if(null!==u)for(let d=0;d<u.length;d++){const p=Rr(u[d],a);Ya(p)&&p[5]>0&&om(p)}}function rD(a,c){const u=Rr(c,a),d=u[1];(function $h(a,c){for(let u=c.length;u<a.blueprint.length;u++)c.push(a.blueprint[u])})(d,u),nu(d,u,u[8])}function qh(a,c){return a[13]?a[14][4]=c:a[13]=c,a[14]=c,c}function Wh(a){for(;a;){a[2]|=64;const c=Cl(a);if(ga(a)&&!c)return a;a=c}return null}function iu(a,c,u){const d=c[10];d.begin&&d.begin();try{ru(a,c,a.template,u)}catch(p){throw sD(c,p),p}finally{d.end&&d.end()}}function Fv(a){!function zh(a){for(let c=0;c<a.components.length;c++){const u=a.components[c],d=Th(u),p=d[1];GT(p,d,p.template,u)}}(a[8])}function Rl(a,c,u){Wp(0),c(a,u)}const Bv=(()=>Promise.resolve(null))();function sm(a){return a[7]||(a[7]=[])}function Uv(a){return a.cleanup||(a.cleanup=[])}function sD(a,c){const u=a[9],d=u?u.get(Ih,null):null;d&&d.handleError(c)}function kl(a,c,u,d,p){for(let g=0;g<u.length;){const _=u[g++],E=u[g++],T=c[_],N=a.data[_];null!==N.setInput?N.setInput(T,p,d,E):T[E]=p}}function ia(a,c,u){const d=er(c,a);Lg(a[11],d,u)}function Is(a,c,u){let d=u?a.styles:null,p=u?a.classes:null,g=0;if(null!==c)for(let _=0;_<c.length;_++){const E=c[_];"number"==typeof E?g=E:1==g?p=Ne(p,E):2==g&&(d=Ne(d,E+": "+c[++_]+";"))}u?a.styles=d:a.stylesWithoutHost=d,u?a.classes=p:a.classesWithoutHost=p}const um=new lr("INJECTOR",-1);class lm{get(c,u=Vc){if(u===Vc){const d=new Error(`NullInjectorError: No provider for ${Ve(c)}!`);throw d.name="NullInjectorError",d}return u}}const dm=new lr("Set Injector scope."),Ll={},cD={};let ou;function As(){return void 0===ou&&(ou=new lm),ou}function jv(a,c=null,u=null,d){const p=hm(a,c,u,d);return p._resolveInjectorDefTypes(),p}function hm(a,c=null,u=null,d){return new Bo(a,u,c||As(),d)}class Bo{constructor(c,u,d,p=null){this.parent=d,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const g=[];u&&Xo(u,E=>this.processProvider(E,c,u)),Xo([c],E=>this.processInjectorType(E,[],g)),this.records.set(um,Ps(void 0,this));const _=this.records.get(dm);this.scope=null!=_?_.value:null,this.source=p||("object"==typeof c?null:Ve(c))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(c=>c.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(c,u=Vc,d=Ee.Default){this.assertNotDestroyed();const p=es(this),g=q(void 0);try{if(!(d&Ee.SkipSelf)){let E=this.records.get(c);if(void 0===E){const T=function dD(a){return"function"==typeof a||"object"==typeof a&&a instanceof lr}(c)&&wi(c);E=T&&this.injectableDefInScope(T)?Ps(bo(c),Ll):null,this.records.set(c,E)}if(null!=E)return this.hydrate(c,E)}return(d&Ee.Self?As():this.parent).get(c,u=d&Ee.Optional&&u===Vc?null:u)}catch(_){if("NullInjectorError"===_.name){if((_[gh]=_[gh]||[]).unshift(Ve(c)),p)throw _;return function zw(a,c,u,d){const p=a[gh];throw c[d0]&&p.unshift(c[d0]),a.message=function f0(a,c,u,d=null){a=a&&"\n"===a.charAt(0)&&"\u0275"==a.charAt(1)?a.substr(2):a;let p=Ve(c);if(Array.isArray(c))p=c.map(Ve).join(" -> ");else if("object"==typeof c){let g=[];for(let _ in c)if(c.hasOwnProperty(_)){let E=c[_];g.push(_+":"+("string"==typeof E?JSON.stringify(E):Ve(E)))}p=`{${g.join(", ")}}`}return`${u}${d?"("+d+")":""}[${p}]: ${a.replace(l0,"\n  ")}`}("\n"+a.message,p,u,d),a.ngTokenPath=p,a[gh]=null,a}(_,c,"R3InjectorError",this.source)}throw _}finally{q(g),es(p)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(c=>this.get(c))}toString(){const c=[];return this.records.forEach((d,p)=>c.push(Ve(p))),`R3Injector[${c.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Fe(205,!1)}processInjectorType(c,u,d){if(!(c=ce(c)))return!1;let p=pi(c);const g=null==p&&c.ngModule||void 0,_=void 0===g?c:g,E=-1!==d.indexOf(_);if(void 0!==g&&(p=pi(g)),null==p)return!1;if(null!=p.imports&&!E){let L;d.push(_);try{Xo(p.imports,te=>{this.processInjectorType(te,u,d)&&(void 0===L&&(L=[]),L.push(te))})}finally{}if(void 0!==L)for(let te=0;te<L.length;te++){const{ngModule:_e,providers:Oe}=L[te];Xo(Oe,Ye=>this.processProvider(Ye,_e,Oe||en))}}this.injectorDefTypes.add(_);const T=Y(_)||(()=>new _);this.records.set(_,Ps(T,Ll));const N=p.providers;if(null!=N&&!E){const L=c;Xo(N,te=>this.processProvider(te,L,N))}return void 0!==g&&void 0!==c.providers}processProvider(c,u,d){let p=dc(c=ce(c))?c:ce(c&&c.provide);const g=function rs(a,c,u){return lc(a)?Ps(void 0,a.useValue):Ps(Zh(a),Ll)}(c);if(dc(c)||!0!==c.multi)this.records.get(p);else{let _=this.records.get(p);_||(_=Ps(void 0,Ll,!0),_.factory=()=>Kr(_.multi),this.records.set(p,_)),p=c,_.multi.push(c)}this.records.set(p,g)}hydrate(c,u){return u.value===Ll&&(u.value=cD,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Vv(a){return null!==a&&"object"==typeof a&&"function"==typeof a.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(c){if(!c.providedIn)return!1;const u=ce(c.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function bo(a){const c=wi(a),u=null!==c?c.factory:Y(a);if(null!==u)return u;if(a instanceof lr)throw new Fe(204,!1);if(a instanceof Function)return function Os(a){const c=a.length;if(c>0)throw il(c,"?"),new Fe(204,!1);const u=function ji(a){const c=a&&(a[zo]||a[Ti]);if(c){const u=function _o(a){if(a.hasOwnProperty("name"))return a.name;const c=(""+a).match(/^function\s*([^\s(]+)/);return null===c?"":c[1]}(a);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),c}return null}(a);return null!==u?()=>u.factory(a):()=>new a}(a);throw new Fe(204,!1)}function Zh(a,c,u){let d;if(dc(a)){const p=ce(a);return Y(p)||bo(p)}if(lc(a))d=()=>ce(a.useValue);else if(function uD(a){return!(!a||!a.useFactory)}(a))d=()=>a.useFactory(...Kr(a.deps||[]));else if(function Fl(a){return!(!a||!a.useExisting)}(a))d=()=>Zr(ce(a.useExisting));else{const p=ce(a&&(a.useClass||a.provide));if(!function lD(a){return!!a.deps}(a))return Y(p)||bo(p);d=()=>new p(...Kr(a.deps))}return d}function Ps(a,c,u=!1){return{factory:a,value:c,multi:u?[]:void 0}}function lc(a){return null!==a&&"object"==typeof a&&qw in a}function dc(a){return"function"==typeof a}let is=(()=>{class a{static create(u,d){var p;if(Array.isArray(u))return jv({name:""},d,u,"");{const g=null!==(p=u.name)&&void 0!==p?p:"";return jv({name:g},u.parent,u.providers,g)}}}return a.THROW_IF_NOT_FOUND=Vc,a.NULL=new lm,a.\u0275prov=ar({token:a,providedIn:"any",factory:()=>Zr(um)}),a.__NG_ELEMENT_ID__=-1,a})();function Vl(a,c){Qu(Th(a)[1],Hr())}function ym(a){let c=function _m(a){return Object.getPrototypeOf(a.prototype).constructor}(a.type),u=!0;const d=[a];for(;c;){let p;if(jr(a))p=c.\u0275cmp||c.\u0275dir;else{if(c.\u0275cmp)throw new Fe(903,"");p=c.\u0275dir}if(p){if(u){d.push(p);const _=a;_.inputs=Qh(a.inputs),_.declaredInputs=Qh(a.declaredInputs),_.outputs=Qh(a.outputs);const E=p.hostBindings;E&&Wv(a,E);const T=p.viewQuery,N=p.contentQueries;if(T&&vm(a,T),N&&mD(a,N),ye(a.inputs,p.inputs),ye(a.declaredInputs,p.declaredInputs),ye(a.outputs,p.outputs),jr(p)&&p.data.animation){const L=a.data;L.animation=(L.animation||[]).concat(p.data.animation)}}const g=p.features;if(g)for(let _=0;_<g.length;_++){const E=g[_];E&&E.ngInherit&&E(a),E===ym&&(u=!1)}}c=Object.getPrototypeOf(c)}!function Hl(a){let c=0,u=null;for(let d=a.length-1;d>=0;d--){const p=a[d];p.hostVars=c+=p.hostVars,p.hostAttrs=rh(p.hostAttrs,u=rh(u,p.hostAttrs))}}(d)}function Qh(a){return a===lt?{}:a===en?[]:a}function vm(a,c){const u=a.viewQuery;a.viewQuery=u?(d,p)=>{c(d,p),u(d,p)}:c}function mD(a,c){const u=a.contentQueries;a.contentQueries=u?(d,p,g)=>{c(d,p,g),u(d,p,g)}:c}function Wv(a,c){const u=a.hostBindings;a.hostBindings=u?(d,p)=>{c(d,p),u(d,p)}:c}let uu=null;function hc(){if(!uu){const a=Gt.Symbol;if(a&&a.iterator)uu=a.iterator;else{const c=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<c.length;++u){const d=c[u];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(uu=d)}}}return uu}function lu(a){return!!Em(a)&&(Array.isArray(a)||!(a instanceof Map)&&hc()in a)}function Em(a){return null!==a&&("function"==typeof a||"object"==typeof a)}function Ms(a,c,u){return a[c]=u}function Oi(a,c,u){return!Object.is(a[c],u)&&(a[c]=u,!0)}function fc(a,c,u,d){const p=Oi(a,c,u);return Oi(a,c+1,d)||p}function $l(a,c,u,d){const p=et();return Oi(p,Yu(),c)&&(Wn(),function ra(a,c,u,d,p,g){const _=xn(a,c);im(c[11],_,g,a.value,u,d,p)}(Cr(),p,a,c,u,d)),$l}function hu(a,c,u,d){return Oi(a,Yu(),u)?c+we(u)+d:Cn}function CD(a,c,u,d,p,g,_,E){const T=et(),N=Wn(),L=a+20,te=N.firstCreatePass?function ED(a,c,u,d,p,g,_,E,T){const N=c.consts,L=eu(c,a,4,_||null,Hi(N,E));vo(c,u,L,Hi(N,T)),Qu(c,L);const te=L.tViews=uc(2,L,d,p,g,c.directiveRegistry,c.pipeRegistry,null,c.schemas,N);return null!==c.queries&&(c.queries.template(c,L),te.queries=c.queries.embeddedTView(L)),L}(L,N,T,c,u,d,p,g,_):N.data[L];Jo(te,!1);const _e=T[11].createComment("");wl(N,T,_e,te),dr(_e,T),qh(T,T[L]=Yr(_e,T,_e,te)),Tr(te)&&em(N,T,te),null!=_&&tm(T,te,E)}function e1(a){return Dr(function Zu(){return fn.lFrame.contextLView}(),20+a)}function tf(a,c=Ee.Default){const u=et();return null===u?Zr(a,c):n0(Hr(),u,ce(a),c)}function UD(){throw new Error("invalid")}function d1(a,c,u){const d=et();return Oi(d,Yu(),c)&&yo(Wn(),Cr(),d,a,c,d[11],u,!1),d1}function h1(a,c,u,d,p){const _=p?"class":"style";kl(a,u,c.inputs[_],_,d)}function nf(a,c,u,d){const p=et(),g=Wn(),_=20+a,E=p[11],T=p[_]=Fg(E,c,function Yy(){return fn.lFrame.currentNamespace}()),N=g.firstCreatePass?function jD(a,c,u,d,p,g,_){const E=c.consts,N=eu(c,a,2,p,Hi(E,g));return vo(c,u,N,Hi(E,_)),null!==N.attrs&&Is(N,N.attrs,!1),null!==N.mergedAttrs&&Is(N,N.mergedAttrs,!0),null!==c.queries&&c.queries.elementStart(c,N),N}(_,g,p,0,c,u,d):g.data[_];Jo(N,!0);const L=N.mergedAttrs;null!==L&&nh(E,T,L);const te=N.classes;null!==te&&Hg(E,T,te);const _e=N.styles;return null!==_e&&ov(E,T,_e),64!=(64&N.flags)&&wl(g,p,T,N),0===function Bp(){return fn.lFrame.elementDepthCount}()&&dr(T,p),function Hy(){fn.lFrame.elementDepthCount++}(),Tr(N)&&(em(g,p,N),Cv(g,N,p)),null!==d&&tm(p,N),nf}function Sm(){let a=Hr();zu()?Gp():(a=a.parent,Jo(a,!1));const c=a;!function Up(){fn.lFrame.elementDepthCount--}();const u=Wn();return u.firstCreatePass&&(Qu(u,a),Mo(a)&&u.queries.elementEnd(a)),null!=c.classesWithoutHost&&function Xy(a){return 0!=(16&a.flags)}(c)&&h1(u,c,et(),c.classesWithoutHost,!0),null!=c.stylesWithoutHost&&function Qa(a){return 0!=(32&a.flags)}(c)&&h1(u,c,et(),c.stylesWithoutHost,!1),Sm}function xm(a,c,u,d){return nf(a,c,u,d),Sm(),xm}function rf(a,c,u){const d=et(),p=Wn(),g=a+20,_=p.firstCreatePass?function VD(a,c,u,d,p){const g=c.consts,_=Hi(g,d),E=eu(c,a,8,"ng-container",_);return null!==_&&Is(E,_,!0),vo(c,u,E,Hi(g,p)),null!==c.queries&&c.queries.elementStart(c,E),E}(g,p,d,c,u):p.data[g];Jo(_,!0);const E=d[g]=d[11].createComment("");return wl(p,d,E,_),dr(E,d),Tr(_)&&(em(p,d,_),Cv(p,_,d)),null!=u&&tm(d,_),rf}function sf(){let a=Hr();const c=Wn();return zu()?Gp():(a=a.parent,Jo(a,!1)),c.firstCreatePass&&(Qu(c,a),Mo(a)&&c.queries.elementEnd(a)),sf}function f1(a,c,u){return rf(a,c,u),sf(),f1}function p1(){return et()}function Im(a){return!!a&&"function"==typeof a.then}function g1(a){return!!a&&"function"==typeof a.subscribe}const m1=g1;function Am(a,c,u,d){const p=et(),g=Wn(),_=Hr();return function y1(a,c,u,d,p,g,_,E){const T=Tr(d),L=a.firstCreatePass&&Uv(a),te=c[8],_e=sm(c);let Oe=!0;if(3&d.type||E){const Et=xn(d,c),Vt=E?E(Et):Et,Qe=_e.length,on=E?Hn=>E(Tt(Hn[d.index])):d.index;if(pe(u)){let Hn=null;if(!E&&T&&(Hn=function HD(a,c,u,d){const p=a.cleanup;if(null!=p)for(let g=0;g<p.length-1;g+=2){const _=p[g];if(_===u&&p[g+1]===d){const E=c[7],T=p[g+2];return E.length>T?E[T]:null}"string"==typeof _&&(g+=2)}return null}(a,c,p,d.index)),null!==Hn)(Hn.__ngLastListenerFn__||Hn).__ngNextListenerFn__=g,Hn.__ngLastListenerFn__=g,Oe=!1;else{g=Om(d,c,te,g,!1);const tr=u.listen(Vt,p,g);_e.push(g,tr),L&&L.push(p,on,Qe,Qe+1)}}else g=Om(d,c,te,g,!0),Vt.addEventListener(p,g,_),_e.push(g),L&&L.push(p,on,Qe,_)}else g=Om(d,c,te,g,!1);const Ye=d.outputs;let ut;if(Oe&&null!==Ye&&(ut=Ye[p])){const Et=ut.length;if(Et)for(let Vt=0;Vt<Et;Vt+=2){const To=c[ut[Vt]][ut[Vt+1]].subscribe(g),ja=_e.length;_e.push(g,To),L&&L.push(p,d.index,ja,-(ja+1))}}}(g,p,p[11],_,a,c,!!u,d),Am}function v1(a,c,u,d){try{return!1!==u(d)}catch(p){return sD(a,p),!1}}function Om(a,c,u,d,p){return function g(_){if(_===Function)return d;const E=2&a.flags?Rr(a.index,c):c;0==(32&c[2])&&Wh(E);let T=v1(c,0,d,_),N=g.__ngNextListenerFn__;for(;N;)T=v1(c,0,N,_)&&T,N=N.__ngNextListenerFn__;return p&&!1===T&&(_.preventDefault(),_.returnValue=!1),T}}function b1(a=1){return function Zy(a){return(fn.lFrame.contextLView=function Ow(a,c){for(;a>0;)c=c[15],a--;return c}(a,fn.lFrame.contextLView))[8]}(a)}function GD(a,c){let u=null;const d=function a2(a){const c=a.attrs;if(null!=c){const u=c.indexOf(5);if(0==(1&u))return c[u+1]}return null}(a);for(let p=0;p<c.length;p++){const g=c[p];if("*"!==g){if(null===d?lv(a,g,!0):ea(d,g))return p}else u=p}return u}function E1(a){const c=et()[16][6];if(!c.projection){const d=c.projection=il(a?a.length:1,null),p=d.slice();let g=c.child;for(;null!==g;){const _=a?GD(g,a):0;null!==_&&(p[_]?p[_].projectionNext=g:d[_]=g,p[_]=g),g=g.next}}}function C1(a,c=0,u){const d=et(),p=Wn(),g=eu(p,20+a,16,null,u||null);null===g.projection&&(g.projection=c),Gp(),64!=(64&g.flags)&&function rv(a,c,u){iv(c[11],0,c,u,Y0(a,u,c),ws(u.parent||c[6],u,c))}(p,d,g)}function Pm(a,c,u){return af(a,"",c,"",u),Pm}function af(a,c,u,d,p){const g=et(),_=hu(g,c,u,d);return _!==Cn&&yo(Wn(),Cr(),g,a,_,g[11],p,!1),af}function O1(a,c,u,d,p){const g=a[u+1],_=null===c;let E=d?Ss(g):Ia(g),T=!1;for(;0!==E&&(!1===T||_);){const L=a[E+1];WD(a[E],c)&&(T=!0,a[E+1]=d?fv(L):Wg(L)),E=d?Ss(L):Ia(L)}T&&(a[u+1]=d?Wg(g):fv(g))}function WD(a,c){return null===a||null==c||(Array.isArray(a)?a[1]:a)===c||!(!Array.isArray(a)||"string"!=typeof c)&&jc(a,c)>=0}const Qr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function P1(a){return a.substring(Qr.key,Qr.keyEnd)}function M1(a,c){const u=Qr.textEnd;return u===c?-1:(c=Qr.keyEnd=function QD(a,c,u){for(;c<u&&a.charCodeAt(c)>32;)c++;return c}(a,Qr.key=c,u),Wl(a,c,u))}function Wl(a,c,u){for(;c<u&&a.charCodeAt(c)<=32;)c++;return c}function N1(a,c,u){return os(a,c,u,!1),N1}function Mm(a,c){return os(a,c,null,!0),Mm}function tS(a){!function ks(a,c,u,d){const p=Wn(),g=Ks(2);p.firstUpdatePass&&R1(p,null,g,d);const _=et();if(u!==Cn&&Oi(_,g,u)){const E=p.data[_i()];if(lf(E,d)&&!nS(p,g)){let T=d?E.classesWithoutHost:E.stylesWithoutHost;null!==T&&(u=Ne(T,u||"")),h1(p,E,_,u,d)}else!function uf(a,c,u,d,p,g,_,E){p===Cn&&(p=en);let T=0,N=0,L=0<p.length?p[0]:null,te=0<g.length?g[0]:null;for(;null!==L||null!==te;){const _e=T<p.length?p[T+1]:void 0,Oe=N<g.length?g[N+1]:void 0;let ut,Ye=null;L===te?(T+=2,N+=2,_e!==Oe&&(Ye=te,ut=Oe)):null===te||null!==L&&L<te?(T+=2,Ye=L):(N+=2,Ye=te,ut=Oe),null!==Ye&&aS(a,c,u,d,Ye,ut,_,E),L=T<p.length?p[T]:null,te=N<g.length?g[N]:null}}(p,E,_,_[11],_[g+1],_[g+1]=function oS(a,c,u){if(null==u||""===u)return en;const d=[],p=uo(u);if(Array.isArray(p))for(let g=0;g<p.length;g++)a(d,p[g],!0);else if("object"==typeof p)for(const g in p)p.hasOwnProperty(g)&&a(d,g,p[g]);else"string"==typeof p&&c(d,p);return d}(a,c,u),d,g)}}(si,Rs,a,!0)}function Rs(a,c){for(let u=function ZD(a){return function JD(a){Qr.key=0,Qr.keyEnd=0,Qr.value=0,Qr.valueEnd=0,Qr.textEnd=a.length}(a),M1(a,Wl(a,0,Qr.textEnd))}(c);u>=0;u=M1(c,u))si(a,P1(c),!0)}function os(a,c,u,d){const p=et(),g=Wn(),_=Ks(2);g.firstUpdatePass&&R1(g,a,_,d),c!==Cn&&Oi(p,_,c)&&aS(g,g.data[_i()],p,p[11],a,p[_+1]=function sa(a,c){return null==a||("string"==typeof c?a+=c:"object"==typeof a&&(a=Ve(uo(a)))),a}(c,u),d,_)}function nS(a,c){return c>=a.expandoStartIndex}function R1(a,c,u,d){const p=a.data;if(null===p[u+1]){const g=p[_i()],_=nS(a,u);lf(g,d)&&null===c&&!_&&(c=!1),c=function B2(a,c,u,d){const p=function qp(a){const c=fn.lFrame.currentDirectiveIndex;return-1===c?null:a[c]}(a);let g=d?c.residualClasses:c.residualStyles;if(null===p)0===(d?c.classBindings:c.styleBindings)&&(u=zl(u=k1(null,a,c,u,d),c.attrs,d),g=null);else{const _=c.directiveStylingLast;if(-1===_||a[_]!==p)if(u=k1(p,a,c,u,d),null===g){let T=function rS(a,c,u){const d=u?c.classBindings:c.styleBindings;if(0!==Ia(d))return a[Ss(d)]}(a,c,d);void 0!==T&&Array.isArray(T)&&(T=k1(null,a,c,T[1],d),T=zl(T,c.attrs,d),function iS(a,c,u,d){a[Ss(u?c.classBindings:c.styleBindings)]=d}(a,c,d,T))}else g=function U2(a,c,u){let d;const p=c.directiveEnd;for(let g=1+c.directiveStylingLast;g<p;g++)d=zl(d,a[g].hostAttrs,u);return zl(d,c.attrs,u)}(a,c,d)}return void 0!==g&&(d?c.residualClasses=g:c.residualStyles=g),u}(p,g,c,d),function $D(a,c,u,d,p,g){let _=g?c.classBindings:c.styleBindings,E=Ss(_),T=Ia(_);a[d]=u;let L,N=!1;if(Array.isArray(u)){const te=u;L=te[1],(null===L||jc(te,L)>0)&&(N=!0)}else L=u;if(p)if(0!==T){const _e=Ss(a[E+1]);a[d+1]=Tl(_e,E),0!==_e&&(a[_e+1]=Uh(a[_e+1],d)),a[E+1]=function Dl(a,c){return 131071&a|c<<17}(a[E+1],d)}else a[d+1]=Tl(E,0),0!==E&&(a[E+1]=Uh(a[E+1],d)),E=d;else a[d+1]=Tl(T,0),0===E?E=d:a[T+1]=Uh(a[T+1],d),T=d;N&&(a[d+1]=Wg(a[d+1])),O1(a,L,d,!0),O1(a,L,d,!1),function qD(a,c,u,d,p){const g=p?a.residualClasses:a.residualStyles;null!=g&&"string"==typeof c&&jc(g,c)>=0&&(u[d+1]=fv(u[d+1]))}(c,L,a,d,g),_=Tl(E,T),g?c.classBindings=_:c.styleBindings=_}(p,g,c,u,_,d)}}function k1(a,c,u,d,p){let g=null;const _=u.directiveEnd;let E=u.directiveStylingLast;for(-1===E?E=u.directiveStart:E++;E<_&&(g=c[E],d=zl(d,g.hostAttrs,p),g!==a);)E++;return null!==a&&(u.directiveStylingLast=E),d}function zl(a,c,u){const d=u?1:2;let p=-1;if(null!==c)for(let g=0;g<c.length;g++){const _=c[g];"number"==typeof _?p=_:p===d&&(Array.isArray(a)||(a=void 0===a?[]:["",a]),si(a,_,!!u||c[++g]))}return void 0===a?null:a}function aS(a,c,u,d,p,g,_,E){if(!(3&c.type))return;const T=a.data,N=T[E+1];Zl(function PT(a){return 1==(1&a)}(N)?L1(T,c,u,p,Ia(N),_):void 0)||(Zl(g)||function qg(a){return 2==(2&a)}(N)&&(g=L1(T,null,u,p,E,_)),function xT(a,c,u,d,p){const g=pe(a);if(c)p?g?a.addClass(u,d):u.classList.add(d):g?a.removeClass(u,d):u.classList.remove(d);else{let _=-1===d.indexOf("-")?void 0:Cs.DashCase;if(null==p)g?a.removeStyle(u,d,_):u.style.removeProperty(d);else{const E="string"==typeof p&&p.endsWith("!important");E&&(p=p.slice(0,-10),_|=Cs.Important),g?a.setStyle(u,d,p,_):u.style.setProperty(d,p,E?"important":"")}}}(d,_,er(_i(),u),p,g))}function L1(a,c,u,d,p,g){const _=null===c;let E;for(;p>0;){const T=a[p],N=Array.isArray(T),L=N?T[1]:T,te=null===L;let _e=u[p+1];_e===Cn&&(_e=te?en:void 0);let Oe=te?fh(_e,d):L===d?_e:void 0;if(N&&!Zl(Oe)&&(Oe=fh(T,d)),Zl(Oe)&&(E=Oe,_))return E;const Ye=a[p+1];p=_?Ss(Ye):Ia(Ye)}if(null!==c){let T=g?c.residualClasses:c.residualStyles;null!=T&&(E=fh(T,d))}return E}function Zl(a){return void 0!==a}function lf(a,c){return 0!=(a.flags&(c?16:32))}function Ra(a,c=""){const u=et(),d=Wn(),p=a+20,g=d.firstCreatePass?eu(d,p,1,c,null):d.data[p],_=u[p]=Ph(u[11],c);wl(d,u,_,g),Jo(g,!1)}function Nm(a){return Rm("",a,""),Nm}function Rm(a,c,u){const d=et(),p=hu(d,a,c,u);return p!==Cn&&ia(d,_i(),p),Rm}function F1(a,c,u,d,p){const g=et(),_=function fu(a,c,u,d,p,g){const E=fc(a,_a(),u,p);return Ks(2),E?c+we(u)+d+we(p)+g:Cn}(g,a,c,u,d,p);return _!==Cn&&ia(g,_i(),_),F1}function K1(a,c,u){const d=et();return Oi(d,Yu(),c)&&yo(Wn(),Cr(),d,a,c,d[11],u,!0),K1}const lo=void 0;var Yl=["en",[["a","p"],["AM","PM"],lo],[["AM","PM"],lo,lo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],lo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],lo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",lo,"{1} 'at' {0}",lo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Y1(a){const u=Math.floor(Math.abs(a)),d=a.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let aa={};function bS(a,c,u){"string"!=typeof c&&(u=c,c=a[tn.LocaleId]),c=c.toLowerCase().replace(/_/g,"-"),aa[c]=a,u&&(aa[c][tn.ExtraData]=u)}function Vm(a){const c=function V2(a){return a.toLowerCase().replace(/_/g,"-")}(a);let u=ff(c);if(u)return u;const d=c.split("-")[0];if(u=ff(d),u)return u;if("en"===d)return Yl;throw new Error(`Missing locale data for the locale "${a}".`)}function J1(a){return Vm(a)[tn.PluralCase]}function ff(a){return a in aa||(aa[a]=Gt.ng&&Gt.ng.common&&Gt.ng.common.locales&&Gt.ng.common.locales[a]),aa[a]}var tn=(()=>((tn=tn||{})[tn.LocaleId=0]="LocaleId",tn[tn.DayPeriodsFormat=1]="DayPeriodsFormat",tn[tn.DayPeriodsStandalone=2]="DayPeriodsStandalone",tn[tn.DaysFormat=3]="DaysFormat",tn[tn.DaysStandalone=4]="DaysStandalone",tn[tn.MonthsFormat=5]="MonthsFormat",tn[tn.MonthsStandalone=6]="MonthsStandalone",tn[tn.Eras=7]="Eras",tn[tn.FirstDayOfWeek=8]="FirstDayOfWeek",tn[tn.WeekendRange=9]="WeekendRange",tn[tn.DateFormat=10]="DateFormat",tn[tn.TimeFormat=11]="TimeFormat",tn[tn.DateTimeFormat=12]="DateTimeFormat",tn[tn.NumberSymbols=13]="NumberSymbols",tn[tn.NumberFormats=14]="NumberFormats",tn[tn.CurrencyCode=15]="CurrencyCode",tn[tn.CurrencySymbol=16]="CurrencySymbol",tn[tn.CurrencyName=17]="CurrencyName",tn[tn.Currencies=18]="Currencies",tn[tn.Directionality=19]="Directionality",tn[tn.PluralCase=20]="PluralCase",tn[tn.ExtraData=21]="ExtraData",tn))();const Q1=["zero","one","two","few","many"],Hm="en-US",Co={marker:"element"},Gm={marker:"ICU"};var Fr=(()=>((Fr=Fr||{})[Fr.SHIFT=2]="SHIFT",Fr[Fr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Fr[Fr.COMMENT=2]="COMMENT",Fr))();let wS=Hm;function TS(a,c,u){const d=c.insertBeforeIndex,p=Array.isArray(d)?d[0]:d;return null===p?Qs(a,0,u):Tt(u[p])}function DS(a,c,u,d,p){const g=c.insertBeforeIndex;if(Array.isArray(g)){let _=d,E=null;if(3&c.type||(E=_,_=p),null!==_&&0==(2&c.flags))for(let T=1;T<g.length;T++)xa(a,_,u[g[T]],E,!1)}}function SS(a,c){if(a.push(c),a.length>1)for(let u=a.length-2;u>=0;u--){const d=a[u];xS(d)||W2(d,c)&&null===IS(d)&&AS(d,c.index)}}function xS(a){return!(64&a.type)}function W2(a,c){return xS(c)||a.index>c.index}function IS(a){const c=a.insertBeforeIndex;return Array.isArray(c)?c[0]:c}function AS(a,c){const u=a.insertBeforeIndex;Array.isArray(u)?u[0]=c:(tv(TS,DS),a.insertBeforeIndex=c)}function pf(a,c){const u=a.data[c];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function K2(a,c,u){const d=Xg(a,u,64,null,null);return SS(c,d),d}function gf(a,c){const u=c[a.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function OS(a){return a>>>17}function PS(a){return(131070&a)>>>1}let mf=0,_f=0;function NS(a,c,u,d){const p=u[11];let _,g=null;for(let E=0;E<c.length;E++){const T=c[E];if("string"==typeof T){const N=c[++E];null===u[N]&&(u[N]=Ph(p,T))}else if("number"==typeof T)switch(1&T){case 0:const N=OS(T);let L,te;if(null===g&&(g=N,_=Rh(p,d)),N===g?(L=d,te=_):(L=null,te=Tt(u[N])),null!==te){const ut=PS(T);xa(p,te,u[ut],L,!1);const Vt=pf(a,ut);if(null!==Vt&&"object"==typeof Vt){const Qe=gf(Vt,u);null!==Qe&&NS(a,Vt.create[Qe],u,u[Vt.anchorIdx])}}break;case 1:const Oe=c[++E],Ye=c[++E];im(p,er(T>>>1,u),null,null,Oe,Ye,null)}else switch(T){case Gm:const N=c[++E],L=c[++E];null===u[L]&&dr(u[L]=vT(p,N),u);break;case Co:const te=c[++E],_e=c[++E];null===u[_e]&&dr(u[_e]=Fg(p,te,null),u)}}}function RS(a,c,u,d,p){for(let g=0;g<u.length;g++){const _=u[g],E=u[++g];if(_&p){let T="";for(let N=g+1;N<=g+E;N++){const L=u[N];if("string"==typeof L)T+=L;else if("number"==typeof L)if(L<0)T+=we(c[d-L]);else{const te=L>>>2;switch(3&L){case 1:const _e=u[++N],Oe=u[++N],Ye=a.data[te];"string"==typeof Ye?im(c[11],c[te],null,Ye,_e,T,Oe):yo(a,Ye,c,_e,T,c[11],Oe,!1);break;case 0:const ut=c[te];null!==ut&&Lg(c[11],ut,T);break;case 2:Xr(a,pf(a,te),c,T);break;case 3:kS(a,pf(a,te),d,c)}}}}else{const T=u[g+1];if(T>0&&3==(3&T)){const L=pf(a,T>>>2);c[L.currentCaseLViewIndex]<0&&kS(a,L,d,c)}}g+=E}}function kS(a,c,u,d){let p=d[c.currentCaseLViewIndex];if(null!==p){let g=mf;p<0&&(p=d[c.currentCaseLViewIndex]=~p,g=-1),RS(a,d,c.update[p],u,g)}}function Xr(a,c,u,d){const p=function X2(a,c){let u=a.cases.indexOf(c);if(-1===u)switch(a.type){case 1:{const d=function H2(a,c){const u=J1(c)(parseInt(a,10)),d=Q1[u];return void 0!==d?d:"other"}(c,function q2(){return wS}());u=a.cases.indexOf(d),-1===u&&"other"!==d&&(u=a.cases.indexOf("other"));break}case 0:u=a.cases.indexOf("other")}return-1===u?null:u}(c,d);if(gf(c,u)!==p&&(LS(a,c,u),u[c.currentCaseLViewIndex]=null===p?null:~p,null!==p)){const _=u[c.anchorIdx];_&&NS(a,c.create[p],u,_)}}function LS(a,c,u){let d=gf(c,u);if(null!==d){const p=c.remove[d];for(let g=0;g<p.length;g++){const _=p[g];if(_>0){const E=er(_,u);null!==E&&Fh(u[11],E)}else LS(a,pf(a,~_),u)}}}function eL(){const a=[];let u,d,c=-1;function g(E,T){c=0;const N=gf(E,T);d=null!==N?E.remove[N]:en}function _(){if(c<d.length){const E=d[c++];return E>0?u[E]:(a.push(c,d),g(u[1].data[~E],u),_())}return 0===a.length?null:(d=a.pop(),c=a.pop(),_())}return function p(E,T){for(u=T;a.length;)a.pop();return g(E.value,T),_}}const yf=/\ufffd(\d+):?\d*\ufffd/gi,rb=/\ufffd(\d+)\ufffd/,ib=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,BS=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,US=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,jS=/\uE500/g;function ob(a,c,u,d,p,g,_){const E=tu(a,d,1,null);let T=E<<Fr.SHIFT,N=Ja();c===N&&(N=null),null===N&&(T|=Fr.APPEND_EAGERLY),_&&(T|=Fr.COMMENT,function $0(a){void 0===Ng&&(Ng=a())}(eL)),p.push(T,null===g?"":g);const L=Xg(a,E,_?32:1,null===g?"":g,null);SS(u,L);const te=L.index;return Jo(L,!1),null!==N&&c!==N&&function Z2(a,c){let u=a.insertBeforeIndex;null===u?(tv(TS,DS),u=a.insertBeforeIndex=[null,c]):(function X(a,c,u){a!=c&&Yt(u,a,c,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(c))}(N,te),L}function GS(a,c,u,d,p,g,_){const E=_.match(yf),T=ob(a,c,u,g,d,E?null:_,!1);E&&bu(p,_,T.index,null,0,null)}function bu(a,c,u,d,p,g){const _=a.length,E=_+1;a.push(null,null);const T=_+2,N=c.split(yf);let L=0;for(let te=0;te<N.length;te++){const _e=N[te];if(1&te){const Oe=p+parseInt(_e,10);a.push(-1-Oe),L|=sb(Oe)}else""!==_e&&a.push(_e)}return a.push(u<<2|(d?1:0)),d&&a.push(d,g),a[_]=L,a[E]=a.length-T,L}function sb(a){return 1<<Math.min(a,31)}function qm(a){let c,g,u="",d=0,p=!1;for(;null!==(c=BS.exec(a));)p?c[0]===`\ufffd/*${g}\ufffd`&&(d=c.index,p=!1):(u+=a.substring(d,c.index+c[0].length),g=c[1],p=!0);return u+=a.substr(d),u}function zS(a,c,u,d,p,g){let _=0;const E={type:p.type,currentCaseLViewIndex:tu(a,c,1,null),anchorIdx:g,cases:[],create:[],remove:[],update:[]};(function iL(a,c,u){a.push(sb(c.mainBinding),2,-1-c.mainBinding,u<<2|2)})(u,p,g),function z2(a,c,u){const d=a.data[c];null===d?a.data[c]=u:d.value=u}(a,g,E);const T=p.values;for(let N=0;N<T.length;N++){const L=T[N],te=[];for(let _e=0;_e<L.length;_e++){const Oe=L[_e];if("string"!=typeof Oe){const Ye=te.push(Oe)-1;L[_e]=`\x3c!--\ufffd${Ye}\ufffd--\x3e`}}_=ZS(a,E,c,u,d,p.cases[N],L.join(""),te)|_}_&&function oL(a,c,u){a.push(c,1,u<<2|3)}(u,_,g)}function nL(a){const c=[],u=[];let d=1,p=0;const g=cb(a=a.replace(ib,function(_,E,T){return d="select"===T?0:1,p=parseInt(E.substr(1),10),""}));for(let _=0;_<g.length;){let E=g[_++].trim();1===d&&(E=E.replace(/\s*(?:=)?(\w+)\s*/,"$1")),E.length&&c.push(E);const T=cb(g[_++]);c.length>u.length&&u.push(T)}return{type:d,mainBinding:p,cases:c,values:u}}function cb(a){if(!a)return[];let c=0;const u=[],d=[],p=/[{}]/g;let g;for(p.lastIndex=0;g=p.exec(a);){const E=g.index;if("}"==g[0]){if(u.pop(),0==u.length){const T=a.substring(c,E);ib.test(T)?d.push(nL(T)):d.push(T),c=E+1}}else{if(0==u.length){const T=a.substring(c,E);d.push(T),c=E+1}u.push("{")}}const _=a.substring(c);return d.push(_),d}function ZS(a,c,u,d,p,g,_,E){const T=[],N=[],L=[];c.cases.push(g),c.create.push(T),c.remove.push(N),c.update.push(L);const _e=bg(A()).getInertBodyElement(_),Oe=fl(_e)||_e;return Oe?KS(a,c,u,d,T,N,L,Oe,p,E,0):0}function KS(a,c,u,d,p,g,_,E,T,N,L){let te=0,_e=E.firstChild;for(;_e;){const Oe=tu(a,u,1,null);switch(_e.nodeType){case Node.ELEMENT_NODE:const Ye=_e,ut=Ye.tagName.toLowerCase();if(Dg.hasOwnProperty(ut)){ub(p,Co,ut,T,Oe),a.data[Oe]=ut;const on=Ye.attributes;for(let Hn=0;Hn<on.length;Hn++){const tr=on.item(Hn),To=tr.name.toLowerCase();tr.value.match(yf)?x0.hasOwnProperty(To)&&bu(_,tr.value,Oe,tr.name,0,Sg[To]?hl:xg[To]?D0:null):sL(p,Oe,tr)}te=KS(a,c,u,d,p,g,_,_e,Oe,N,L+1)|te,YS(g,Oe,L)}break;case Node.TEXT_NODE:const Et=_e.textContent||"",Vt=Et.match(yf);ub(p,null,Vt?"":Et,T,Oe),YS(g,Oe,L),Vt&&(te=bu(_,Et,Oe,null,0,null)|te);break;case Node.COMMENT_NODE:const Qe=rb.exec(_e.textContent||"");if(Qe){const Hn=N[parseInt(Qe[1],10)];ub(p,Gm,"",T,Oe),zS(a,u,d,T,Hn,Oe),rL(g,Oe,L)}}_e=_e.nextSibling}return te}function YS(a,c,u){0===u&&a.push(c)}function rL(a,c,u){0===u&&(a.push(~c),a.push(c))}function ub(a,c,u,d,p){null!==c&&a.push(c),a.push(u,p,function Y2(a,c,u){return a|c<<17|u<<1}(0,d,p))}function sL(a,c,u){a.push(c<<1|1,u.name,u.value)}function XS(a,c,u=-1){const d=Wn(),p=et(),g=20+a,_=Hi(d.consts,c),E=Ja();d.firstCreatePass&&function HS(a,c,u,d,p,g){const _=Ja(),E=[],T=[],N=[[]];p=function WS(a,c){if(function ab(a){return-1===a}(c))return qm(a);{const u=a.indexOf(`:${c}\ufffd`)+2+c.toString().length,d=a.search(new RegExp(`\ufffd\\/\\*\\d+:${c}\ufffd`));return qm(a.substring(u,d))}}(p,g);const L=function VS(a){return a.replace(jS," ")}(p).split(US);for(let te=0;te<L.length;te++){let _e=L[te];if(0==(1&te)){const Oe=cb(_e);for(let Ye=0;Ye<Oe.length;Ye++){let ut=Oe[Ye];if(0==(1&Ye)){const Et=ut;""!==Et&&GS(a,_,N[0],E,T,u,Et)}else{const Et=ut;if("object"!=typeof Et)throw new Error(`Unable to parse ICU expression in "${p}" message.`);zS(a,u,T,c,Et,ob(a,_,N[0],u,E,"",!0).index)}}}else{const Oe=47===_e.charCodeAt(0),ut=(_e.charCodeAt(Oe?1:0),20+Number.parseInt(_e.substring(Oe?2:1)));if(Oe)N.shift(),Jo(Ja(),!1);else{const Et=K2(a,N[0],ut);N.unshift([]),Jo(Et,!0)}}}a.data[d]={create:E,update:T}}(d,null===E?0:E.index,p,g,_,u);const T=d.data[g],L=J0(d,E===p[6]?null:E,p);(function MS(a,c,u,d){const p=a[11];for(let g=0;g<c.length;g++){const _=c[g++],E=c[g],T=(_&Fr.COMMENT)===Fr.COMMENT,N=(_&Fr.APPEND_EAGERLY)===Fr.APPEND_EAGERLY,L=_>>>Fr.SHIFT;let te=a[L];null===te&&(te=a[L]=T?p.createComment(E):Ph(p,E)),N&&null!==u&&xa(p,u,te,d,!1)}})(p,T.create,L,E&&8&E.type?p[E.index]:null),qy(!0)}function tx(a,c,u){XS(a,c,u),function ex(){qy(!1)}()}function lb(a){return function J2(a){a&&(mf|=1<<Math.min(_f,31)),_f++}(Oi(et(),Yu(),a)),lb}function Wm(a){!function Q2(a,c,u){if(_f>0){const d=a.data[u];RS(a,c,Array.isArray(d)?d:d.update,_a()-_f-1,mf)}mf=0,_f=0}(Wn(),et(),a+20)}function _r(a,c,u,d,p){if(a=ce(a),Array.isArray(a))for(let g=0;g<a.length;g++)_r(a[g],c,u,d,p);else{const g=Wn(),_=et();let E=dc(a)?a:ce(a.provide),T=Zh(a);const N=Hr(),L=1048575&N.providerIndexes,te=N.directiveStart,_e=N.providerIndexes>>20;if(dc(a)||!a.multi){const Oe=new th(T,p,tf),Ye=Xl(E,c,p?L:L+_e,te);-1===Ye?(ag(ah(N,_),g,E),Ql(g,a,c.length),c.push(E),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),u.push(Oe),_.push(Oe)):(u[Ye]=Oe,_[Ye]=Oe)}else{const Oe=Xl(E,c,L+_e,te),Ye=Xl(E,c,L,L+_e),ut=Oe>=0&&u[Oe],Et=Ye>=0&&u[Ye];if(p&&!Et||!p&&!ut){ag(ah(N,_),g,E);const Vt=function mL(a,c,u,d,p){const g=new th(a,u,tf);return g.multi=[],g.index=c,g.componentProviders=0,zm(g,p,d&&!u),g}(p?rx:nx,u.length,p,d,T);!p&&Et&&(u[Ye].providerFactory=Vt),Ql(g,a,c.length,0),c.push(E),N.directiveStart++,N.directiveEnd++,p&&(N.providerIndexes+=1048576),u.push(Vt),_.push(Vt)}else Ql(g,a,Oe>-1?Oe:Ye,zm(u[p?Ye:Oe],T,!p&&d));!p&&d&&Et&&u[Ye].componentProviders++}}}function Ql(a,c,u,d){const p=dc(c),g=function Bl(a){return!!a.useClass}(c);if(p||g){const T=(g?ce(c.useClass):c).prototype.ngOnDestroy;if(T){const N=a.destroyHooks||(a.destroyHooks=[]);if(!p&&c.multi){const L=N.indexOf(u);-1===L?N.push(u,[d,T]):N[L+1].push(d,T)}else N.push(u,T)}}}function zm(a,c,u){return u&&a.componentProviders++,a.multi.push(c)-1}function Xl(a,c,u,d){for(let p=u;p<d;p++)if(c[p]===a)return p;return-1}function nx(a,c,u,d){return ed(this.multi,[])}function rx(a,c,u,d){const p=this.multi;let g;if(this.providerFactory){const _=this.providerFactory.componentProviders,E=el(u,u[1],this.providerFactory.index,d);g=E.slice(0,_),ed(p,g);for(let T=_;T<E.length;T++)g.push(E[T])}else g=[],ed(p,g);return g}function ed(a,c){for(let u=0;u<a.length;u++)c.push((0,a[u])());return c}function Eu(a,c=[]){return u=>{u.providersResolver=(d,p)=>function ss(a,c,u){const d=Wn();if(d.firstCreatePass){const p=jr(a);_r(u,d.data,d.blueprint,p,!0),_r(c,d.data,d.blueprint,p,!1)}}(d,p?p(a):a,c)}}class Zm{}class ox{resolveComponentFactory(c){throw function ix(a){const c=Error(`No component factory found for ${Ve(a)}. Did you add it to @NgModule.entryComponents?`);return c.ngComponent=a,c}(c)}}let ca=(()=>{class a{}return a.NULL=new ox,a})();function gc(){return Ls(Hr(),et())}function Ls(a,c){return new ka(xn(a,c))}let ka=(()=>{class a{constructor(u){this.nativeElement=u}}return a.__NG_ELEMENT_ID__=gc,a})();function hb(a){return a instanceof ka?a.nativeElement:a}class La{}let fb=(()=>{class a{}return a.__NG_ELEMENT_ID__=()=>function vL(){const a=et(),u=Rr(Hr().index,a);return function yL(a){return a[11]}(mi(u)?u:a)}(),a})(),bL=(()=>{class a{}return a.\u0275prov=ar({token:a,providedIn:"root",factory:()=>null}),a})();class sx{constructor(c){this.full=c,this.major=c.split(".")[0],this.minor=c.split(".")[1],this.patch=c.split(".").slice(2).join(".")}}const ax=new sx("13.3.0"),pb={};function Ym(a,c,u,d,p=!1){for(;null!==u;){const g=c[u.index];if(null!==g&&d.push(Tt(g)),Wr(g))for(let E=10;E<g.length;E++){const T=g[E],N=T[1].firstChild;null!==N&&Ym(T[1],T,N,d)}const _=u.type;if(8&_)Ym(a,c,u.child,d);else if(32&_){const E=Rg(u,c);let T;for(;T=E();)d.push(T)}else if(16&_){const E=Vg(c,u);if(Array.isArray(E))d.push(...E);else{const T=Cl(c[16]);Ym(T[1],T,E,d,!0)}}u=p?u.projectionNext:u.next}return d}class bf{constructor(c,u){this._lView=c,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const c=this._lView,u=c[1];return Ym(u,c,u.firstChild,[])}get context(){return this._lView[8]}set context(c){this._lView[8]=c}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const c=this._lView[3];if(Wr(c)){const u=c[8],d=u?u.indexOf(this):-1;d>-1&&(Ug(c,d),rl(u,d))}this._attachedToViewContainer=!1}Mh(this._lView[1],this._lView)}onDestroy(c){Sv(this._lView[1],this._lView,null,c)}markForCheck(){Wh(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){iu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function iD(a,c,u){Ku(!0);try{iu(a,c,u)}finally{Ku(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Fe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Z0(a,c){ts(a,c,c[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(c){if(this._attachedToViewContainer)throw new Fe(902,"");this._appRef=c}}class EL extends bf{constructor(c){super(c),this._view=c}detectChanges(){Fv(this._view)}checkNoChanges(){!function oD(a){Ku(!0);try{Fv(a)}finally{Ku(!1)}}(this._view)}get context(){return null}}class cx extends ca{constructor(c){super(),this.ngModule=c}resolveComponentFactory(c){const u=ve(c);return new gb(u,this.ngModule)}}function ux(a){const c=[];for(let u in a)a.hasOwnProperty(u)&&c.push({propName:a[u],templateName:u});return c}class gb extends Zm{constructor(c,u){super(),this.componentDef=c,this.ngModule=u,this.componentType=c.type,this.selector=function Bh(a){return a.map($g).join(",")}(c.selectors),this.ngContentSelectors=c.ngContentSelectors?c.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return ux(this.componentDef.inputs)}get outputs(){return ux(this.componentDef.outputs)}create(c,u,d,p){const g=(p=p||this.ngModule)?function wL(a,c){return{get:(u,d,p)=>{const g=a.get(u,pb,p);return g!==pb||d===pb?g:c.get(u,d,p)}}}(c,p.injector):c,_=g.get(La,We),E=g.get(bL,null),T=_.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",L=d?function Dv(a,c,u){if(pe(a))return a.selectRootElement(c,u===Pt.ShadowDom);let d="string"==typeof c?a.querySelector(c):c;return d.textContent="",d}(T,d,this.componentDef.encapsulation):Fg(_.createRenderer(null,this.componentDef),N,function CL(a){const c=a.toLowerCase();return"svg"===c?"svg":"math"===c?"math":null}(N)),te=this.componentDef.onPush?576:528,_e=function mm(a,c){return{components:[],scheduler:a||bl,clean:Bv,playerHandler:c||null,flags:0}}(),Oe=uc(0,null,null,1,0,null,null,null,null,null),Ye=Ml(null,Oe,_e,te,null,null,_,T,E,g);let ut,Et;Qd(Ye);try{const Vt=function jl(a,c,u,d,p,g){const _=u[1];u[20]=a;const T=eu(_,20,2,"#host",null),N=T.mergedAttrs=c.hostAttrs;null!==N&&(Is(T,N,!0),null!==a&&(nh(p,a,N),null!==T.classes&&Hg(p,a,T.classes),null!==T.styles&&ov(p,a,T.styles)));const L=d.createRenderer(a,c),te=Ml(u,wv(c),null,c.onPush?64:16,u[20],T,d,L,g||null,null);return _.firstCreatePass&&(ag(ah(T,u),_,c.type),Mv(_,T),rm(T,u.length,1)),qh(u,te),u[20]=te}(L,this.componentDef,Ye,_,T);if(L)if(d)nh(T,L,["ng-version",ax.full]);else{const{attrs:Qe,classes:on}=function Lr(a){const c=[],u=[];let d=1,p=2;for(;d<a.length;){let g=a[d];if("string"==typeof g)2===p?""!==g&&c.push(g,a[++d]):8===p&&u.push(g);else{if(!ns(p))break;p=g}d++}return{attrs:c,classes:u}}(this.componentDef.selectors[0]);Qe&&nh(T,L,Qe),on&&on.length>0&&Hg(T,L,on.join(" "))}if(Et=cr(Oe,20),void 0!==u){const Qe=Et.projection=[];for(let on=0;on<this.ngContentSelectors.length;on++){const Hn=u[on];Qe.push(null!=Hn?Array.from(Hn):null)}}ut=function Jh(a,c,u,d,p){const g=u[1],_=function KT(a,c,u){const d=Hr();a.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),kv(a,d,c,tu(a,c,1,null),u));const p=el(c,a,d.directiveStart,d);dr(p,c);const g=xn(d,c);return g&&dr(g,c),p}(g,u,c);if(d.components.push(_),a[8]=_,p&&p.forEach(T=>T(_,c)),c.contentQueries){const T=Hr();c.contentQueries(1,_,T.directiveStart)}const E=Hr();return!g.firstCreatePass||null===c.hostBindings&&null===c.hostAttrs||(ya(E.index),Ov(u[1],E,0,E.directiveStart,E.directiveEnd,c),Pv(c,_)),_}(Vt,this.componentDef,Ye,_e,[Vl]),nu(Oe,Ye,null)}finally{Xd()}return new dx(this.componentType,ut,Ls(Et,Ye),Ye,Et)}}class dx extends class vf{}{constructor(c,u,d,p,g){super(),this.location=d,this._rootLView=p,this._tNode=g,this.instance=u,this.hostView=this.changeDetectorRef=new EL(p),this.componentType=c}get injector(){return new wr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(c){this.hostView.onDestroy(c)}}class mc{}class Jm{}const ua=new Map;class _b extends mc{constructor(c,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new cx(this);const d=wt(c);this._bootstrapComponents=Es(d.bootstrap),this._r3Injector=hm(c,u,[{provide:mc,useValue:this},{provide:ca,useValue:this.componentFactoryResolver}],Ve(c)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(c)}get(c,u=is.THROW_IF_NOT_FOUND,d=Ee.Default){return c===is||c===mc||c===um?this:this._r3Injector.get(c,u,d)}destroy(){const c=this._r3Injector;!c.destroyed&&c.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(c){this.destroyCbs.push(c)}}class Ef extends Jm{constructor(c){super(),this.moduleType=c,null!==wt(c)&&function SL(a){const c=new Set;!function u(d){const p=wt(d,!0),g=p.id;null!==g&&(function td(a,c,u){if(c&&c!==u)throw new Error(`Duplicate module registered for ${a} - ${Ve(c)} vs ${Ve(c.name)}`)}(g,ua.get(g),d),ua.set(g,d));const _=Es(p.imports);for(const E of _)c.has(E)||(c.add(E),u(E))}(a)}(c)}create(c){return new _b(this.moduleType,c)}}function yb(a,c,u){const d=oo()+a,p=et();return p[d]===Cn?Ms(p,d,u?c.call(u):c()):function Gl(a,c){return a[c]}(p,d)}function Cu(a,c,u,d){return Qm(et(),oo(),a,c,u,d)}function vb(a,c,u,d,p){return Cf(et(),oo(),a,c,u,d,p)}function bb(a,c,u,d,p,g){return function wf(a,c,u,d,p,g,_,E){const T=c+u;return function Na(a,c,u,d,p){const g=fc(a,c,u,d);return Oi(a,c+2,p)||g}(a,T,p,g,_)?Ms(a,T+3,E?d.call(E,p,g,_):d(p,g,_)):nd(a,T+3)}(et(),oo(),a,c,u,d,p,g)}function Eb(a,c,u,d,p,g,_){return function Xm(a,c,u,d,p,g,_,E,T){const N=c+u;return function jo(a,c,u,d,p,g){const _=fc(a,c,u,d);return fc(a,c+2,p,g)||_}(a,N,p,g,_,E)?Ms(a,N+4,T?d.call(T,p,g,_,E):d(p,g,_,E)):nd(a,N+4)}(et(),oo(),a,c,u,d,p,g,_)}function nd(a,c){const u=a[c];return u===Cn?void 0:u}function Qm(a,c,u,d,p,g){const _=c+u;return Oi(a,_,p)?Ms(a,_+1,g?d.call(g,p):d(p)):nd(a,_+1)}function Cf(a,c,u,d,p,g,_){const E=c+u;return fc(a,E,p,g)?Ms(a,E+2,_?d.call(_,p,g):d(p,g)):nd(a,E+2)}function Db(a,c){const u=Wn();let d;const p=a+20;u.firstCreatePass?(d=function e_(a,c){if(c)for(let u=c.length-1;u>=0;u--){const d=c[u];if(a===d.name)return d}}(c,u.pipeRegistry),u.data[p]=d,d.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(p,d.onDestroy)):d=u.data[p];const g=d.factory||(d.factory=Y(d.type)),_=q(tf);try{const E=sh(!1),T=g();return sh(E),function Xh(a,c,u,d){u>=a.data.length&&(a.data[u]=null,a.blueprint[u]=null),c[u]=d}(u,et(),p,T),T}finally{q(_)}}function mx(a,c,u){const d=a+20,p=et(),g=Dr(p,d);return wu(p,d)?Qm(p,oo(),c,g.transform,u,g):g.transform(u)}function _x(a,c,u,d){const p=a+20,g=et(),_=Dr(g,p);return wu(g,p)?Cf(g,oo(),c,_.transform,u,d,_):_.transform(u,d)}function wu(a,c){return a[1].data[c].pure}function Tf(a){return c=>{setTimeout(a,void 0,c)}}const as=class Ib extends U.x{constructor(c=!1){super(),this.__isAsync=c}emit(c){super.next(c)}subscribe(c,u,d){var p,g,_;let E=c,T=u||(()=>null),N=d;if(c&&"object"==typeof c){const te=c;E=null===(p=te.next)||void 0===p?void 0:p.bind(te),T=null===(g=te.error)||void 0===g?void 0:g.bind(te),N=null===(_=te.complete)||void 0===_?void 0:_.bind(te)}this.__isAsync&&(T=Tf(T),E&&(E=Tf(E)),N&&(N=Tf(N)));const L=super.subscribe({next:E,error:T,complete:N});return c instanceof ee.w0&&c.add(L),L}};function Ab(){return this._results[hc()]()}class Df{constructor(c=!1){this._emitDistinctChangesOnly=c,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=hc(),d=Df.prototype;d[u]||(d[u]=Ab)}get changes(){return this._changes||(this._changes=new as)}get(c){return this._results[c]}map(c){return this._results.map(c)}filter(c){return this._results.filter(c)}find(c){return this._results.find(c)}reduce(c,u){return this._results.reduce(c,u)}forEach(c){this._results.forEach(c)}some(c){return this._results.some(c)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(c,u){const d=this;d.dirty=!1;const p=ao(c);(this._changesDetected=!function Uc(a,c,u){if(a.length!==c.length)return!1;for(let d=0;d<a.length;d++){let p=a[d],g=c[d];if(u&&(p=u(p),g=u(g)),g!==p)return!1}return!0}(d._results,p,u))&&(d._results=p,d.length=p.length,d.last=p[this.length-1],d.first=p[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Sf=(()=>{class a{}return a.__NG_ELEMENT_ID__=vx,a})();const xL=Sf,Ob=class extends xL{constructor(c,u,d){super(),this._declarationLView=c,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(c){const u=this._declarationTContainer.tViews,d=Ml(this._declarationLView,u,c,16,null,u.declTNode,null,null,null,null);d[17]=this._declarationLView[this._declarationTContainer.index];const g=this._declarationLView[19];return null!==g&&(d[19]=g.createEmbeddedView(u)),nu(u,d,c),new bf(d)}};function vx(){return xf(Hr(),et())}function xf(a,c){return 4&a.type?new Ob(c,a,Ls(a,c)):null}let If=(()=>{class a{}return a.__NG_ELEMENT_ID__=bx,a})();function bx(){return Cx(Hr(),et())}const Pb=If,Mb=class extends Pb{constructor(c,u,d){super(),this._lContainer=c,this._hostTNode=u,this._hostLView=d}get element(){return Ls(this._hostTNode,this._hostLView)}get injector(){return new wr(this._hostTNode,this._hostLView)}get parentInjector(){const c=sg(this._hostTNode,this._hostLView);if(rg(c)){const u=Lc(c,this._hostLView),d=kc(c);return new wr(u[1].data[d+8],u)}return new wr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(c){const u=Ex(this._lContainer);return null!==u&&u[c]||null}get length(){return this._lContainer.length-10}createEmbeddedView(c,u,d){const p=c.createEmbeddedView(u||{});return this.insert(p,d),p}createComponent(c,u,d,p,g){const _=c&&!function xr(a){return"function"==typeof a}(c);let E;if(_)E=u;else{const te=u||{};E=te.index,d=te.injector,p=te.projectableNodes,g=te.ngModuleRef}const T=_?c:new gb(ve(c)),N=d||this.parentInjector;if(!g&&null==T.ngModule){const _e=(_?N:this.parentInjector).get(mc,null);_e&&(g=_e)}const L=T.create(N,p,void 0,g);return this.insert(L.hostView,E),L}insert(c,u){const d=c._lView,p=d[1];if(function _s(a){return Wr(a[3])}(d)){const L=this.indexOf(c);if(-1!==L)this.detach(L);else{const te=d[3],_e=new Mb(te,te[6],te[3]);_e.detach(_e.indexOf(c))}}const g=this._adjustIndex(u),_=this._lContainer;!function Bg(a,c,u,d){const p=10+d,g=u.length;d>0&&(u[p-1][4]=c),d<g-10?(c[4]=u[p],o0(u,10+d,c)):(u.push(c),c[4]=null),c[3]=u;const _=c[17];null!==_&&u!==_&&function wT(a,c){const u=a[9];c[16]!==c[3][3][16]&&(a[2]=!0),null===u?a[9]=[c]:u.push(c)}(_,c);const E=c[19];null!==E&&E.insertView(a),c[2]|=128}(p,d,_,g);const E=Lh(g,_),T=d[11],N=Rh(T,_[7]);return null!==N&&function ET(a,c,u,d,p,g){d[0]=p,d[6]=c,ts(a,d,u,1,p,g)}(p,_[6],T,d,N,E),c.attachToViewContainerRef(),o0(Nb(_),g,c),c}move(c,u){return this.insert(c,u)}indexOf(c){const u=Ex(this._lContainer);return null!==u?u.indexOf(c):-1}remove(c){const u=this._adjustIndex(c,-1),d=Ug(this._lContainer,u);d&&(rl(Nb(this._lContainer),u),Mh(d[1],d))}detach(c){const u=this._adjustIndex(c,-1),d=Ug(this._lContainer,u);return d&&null!=rl(Nb(this._lContainer),u)?new bf(d):null}_adjustIndex(c,u=0){return null==c?this.length+u:c}};function Ex(a){return a[8]}function Nb(a){return a[8]||(a[8]=[])}function Cx(a,c){let u;const d=c[a.index];if(Wr(d))u=d;else{let p;if(8&a.type)p=Tt(d);else{const g=c[11];p=g.createComment("");const _=xn(a,c);xa(g,Rh(g,_),p,function ev(a,c){return pe(a)?a.nextSibling(c):c.nextSibling}(g,_),!1)}c[a.index]=u=Yr(d,c,p,a),qh(c,u)}return new Mb(u,a,c)}class Af{constructor(c){this.queryList=c,this.matches=null}clone(){return new Af(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rb{constructor(c=[]){this.queries=c}createEmbeddedView(c){const u=c.queries;if(null!==u){const d=null!==c.contentQueries?c.contentQueries[0]:u.length,p=[];for(let g=0;g<d;g++){const _=u.getByIndex(g);p.push(this.queries[_.indexInDeclarationView].clone())}return new Rb(p)}return null}insertView(c){this.dirtyQueriesWithMatches(c)}detachView(c){this.dirtyQueriesWithMatches(c)}dirtyQueriesWithMatches(c){for(let u=0;u<this.queries.length;u++)null!==Ix(c,u).matches&&this.queries[u].setDirty()}}class wx{constructor(c,u,d=null){this.predicate=c,this.flags=u,this.read=d}}class Of{constructor(c=[]){this.queries=c}elementStart(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(c,u)}elementEnd(c){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(c)}embeddedTView(c){let u=null;for(let d=0;d<this.length;d++){const p=null!==u?u.length:0,g=this.getByIndex(d).embeddedTView(c,p);g&&(g.indexInDeclarationView=d,null!==u?u.push(g):u=[g])}return null!==u?new Of(u):null}template(c,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(c,u)}getByIndex(c){return this.queries[c]}get length(){return this.queries.length}track(c){this.queries.push(c)}}class kb{constructor(c,u=-1){this.metadata=c,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(c,u){this.isApplyingToNode(u)&&this.matchTNode(c,u)}elementEnd(c){this._declarationNodeIndex===c.index&&(this._appliesToNextNode=!1)}template(c,u){this.elementStart(c,u)}embeddedTView(c,u){return this.isApplyingToNode(c)?(this.crossesNgTemplate=!0,this.addMatch(-c.index,u),new kb(this.metadata)):null}isApplyingToNode(c){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=c.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(c,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let p=0;p<d.length;p++){const g=d[p];this.matchTNodeWithReadOption(c,u,OL(u,g)),this.matchTNodeWithReadOption(c,u,uh(u,c,g,!1,!1))}else d===Sf?4&u.type&&this.matchTNodeWithReadOption(c,u,-1):this.matchTNodeWithReadOption(c,u,uh(u,c,d,!1,!1))}matchTNodeWithReadOption(c,u,d){if(null!==d){const p=this.metadata.read;if(null!==p)if(p===ka||p===If||p===Sf&&4&u.type)this.addMatch(u.index,-2);else{const g=uh(u,c,p,!1,!1);null!==g&&this.addMatch(u.index,g)}else this.addMatch(u.index,d)}}addMatch(c,u){null===this.matches?this.matches=[c,u]:this.matches.push(c,u)}}function OL(a,c){const u=a.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===c)return u[d+1];return null}function PL(a,c,u,d){return-1===u?function Lb(a,c){return 11&a.type?Ls(a,c):4&a.type?xf(a,c):null}(c,a):-2===u?function ML(a,c,u){return u===ka?Ls(c,a):u===Sf?xf(c,a):u===If?Cx(c,a):void 0}(a,c,d):el(a,a[1],u,c)}function Tx(a,c,u,d){const p=c[19].queries[d];if(null===p.matches){const g=a.data,_=u.matches,E=[];for(let T=0;T<_.length;T+=2){const N=_[T];E.push(N<0?null:PL(c,g[N],_[T+1],u.metadata.read))}p.matches=E}return p.matches}function Fb(a,c,u,d){const p=a.queries.getByIndex(u),g=p.matches;if(null!==g){const _=Tx(a,c,p,u);for(let E=0;E<g.length;E+=2){const T=g[E];if(T>0)d.push(_[E/2]);else{const N=g[E+1],L=c[-T];for(let te=10;te<L.length;te++){const _e=L[te];_e[17]===_e[3]&&Fb(_e[1],_e,N,d)}if(null!==L[9]){const te=L[9];for(let _e=0;_e<te.length;_e++){const Oe=te[_e];Fb(Oe[1],Oe,N,d)}}}}}return d}function Bb(a){const c=et(),u=Wn(),d=Ju();Wp(d+1);const p=Ix(u,d);if(a.dirty&&ko(c)===(2==(2&p.metadata.flags))){if(null===p.matches)a.reset([]);else{const g=p.crossesNgTemplate?Fb(u,c,d,[]):Tx(u,c,p,d);a.reset(g,hb),a.notifyOnChanges()}return!0}return!1}function Dx(a,c,u){const d=Wn();d.firstCreatePass&&(t_(d,new wx(a,c,u),-1),2==(2&c)&&(d.staticViewQueries=!0)),xx(d,et(),c)}function Sx(a,c,u,d){const p=Wn();if(p.firstCreatePass){const g=Hr();t_(p,new wx(c,u,d),g.index),function RL(a,c){const u=a.contentQueries||(a.contentQueries=[]);c!==(u.length?u[u.length-1]:-1)&&u.push(a.queries.length-1,c)}(p,a),2==(2&u)&&(p.staticContentQueries=!0)}xx(p,et(),u)}function Ub(){return function NL(a,c){return a[19].queries[c].queryList}(et(),Ju())}function xx(a,c,u){const d=new Df(4==(4&u));Sv(a,c,d,d.destroy),null===c[19]&&(c[19]=new Rb),c[19].queries.push(new Af(d))}function t_(a,c,u){null===a.queries&&(a.queries=new Of),a.queries.track(new kb(c,u))}function Ix(a,c){return a.queries.getByIndex(c)}function Ax(a,c){return xf(a,c)}function c_(...a){}const u_=new lr("Application Initializer");let l_=(()=>{class a{constructor(u){this.appInits=u,this.resolve=c_,this.reject=c_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,p)=>{this.resolve=d,this.reject=p})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let p=0;p<this.appInits.length;p++){const g=this.appInits[p]();if(Im(g))u.push(g);else if(m1(g)){const _=new Promise((E,T)=>{g.subscribe({complete:E,error:T})});u.push(_)}}Promise.all(u).then(()=>{d()}).catch(p=>{this.reject(p)}),0===u.length&&d(),this.initialized=!0}}return a.\u0275fac=function(u){return new(u||a)(Zr(u_,8))},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Wx=new lr("AppId",{providedIn:"root",factory:function id(){return`${d_()}${d_()}${d_()}`}});function d_(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const eE=new lr("Platform Initializer"),tE=new lr("Platform ID"),Zx=new lr("appBootstrapListener");let Ba=(()=>{class a{log(u){console.log(u)}warn(u){console.warn(u)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac}),a})();const sd=new lr("LocaleId",{providedIn:"root",factory:()=>Qk(sd,Ee.Optional|Ee.SkipSelf)||function od(){return"undefined"!=typeof $localize&&$localize.locale||Hm}()}),GL=new lr("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Kx{constructor(c,u){this.ngModuleFactory=c,this.componentFactories=u}}let Yx=(()=>{class a{compileModuleSync(u){return new Ef(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),g=Es(wt(u).declarations).reduce((_,E)=>{const T=ve(E);return T&&_.push(new gb(T)),_},[]);return new Kx(d,g)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();const Rf=(()=>Promise.resolve(0))();function rE(a){"undefined"==typeof Zone?Rf.then(()=>{a&&a.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",a)}class Fs{constructor({enableLongStackTrace:c=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new as(!1),this.onMicrotaskEmpty=new as(!1),this.onStable=new as(!1),this.onError=new as(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const p=this;p._nesting=0,p._outer=p._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(p._inner=p._inner.fork(new Zone.TaskTrackingZoneSpec)),c&&Zone.longStackTraceZoneSpec&&(p._inner=p._inner.fork(Zone.longStackTraceZoneSpec)),p.shouldCoalesceEventChangeDetection=!d&&u,p.shouldCoalesceRunChangeDetection=d,p.lastRequestAnimationFrameId=-1,p.nativeRequestAnimationFrame=function qL(){let a=Gt.requestAnimationFrame,c=Gt.cancelAnimationFrame;if("undefined"!=typeof Zone&&a&&c){const u=a[Zone.__symbol__("OriginalDelegate")];u&&(a=u);const d=c[Zone.__symbol__("OriginalDelegate")];d&&(c=d)}return{nativeRequestAnimationFrame:a,nativeCancelAnimationFrame:c}}().nativeRequestAnimationFrame,function ZL(a){const c=()=>{!function zL(a){a.isCheckStableRunning||-1!==a.lastRequestAnimationFrameId||(a.lastRequestAnimationFrameId=a.nativeRequestAnimationFrame.call(Gt,()=>{a.fakeTopEventTask||(a.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{a.lastRequestAnimationFrameId=-1,oE(a),a.isCheckStableRunning=!0,iE(a),a.isCheckStableRunning=!1},void 0,()=>{},()=>{})),a.fakeTopEventTask.invoke()}),oE(a))}(a)};a._inner=a._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,p,g,_,E)=>{try{return kf(a),u.invokeTask(p,g,_,E)}finally{(a.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||a.shouldCoalesceRunChangeDetection)&&c(),h_(a)}},onInvoke:(u,d,p,g,_,E,T)=>{try{return kf(a),u.invoke(p,g,_,E,T)}finally{a.shouldCoalesceRunChangeDetection&&c(),h_(a)}},onHasTask:(u,d,p,g)=>{u.hasTask(p,g),d===p&&("microTask"==g.change?(a._hasPendingMicrotasks=g.microTask,oE(a),iE(a)):"macroTask"==g.change&&(a.hasPendingMacrotasks=g.macroTask))},onHandleError:(u,d,p,g)=>(u.handleError(p,g),a.runOutsideAngular(()=>a.onError.emit(g)),!1)})}(p)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fs.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fs.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(c,u,d){return this._inner.run(c,u,d)}runTask(c,u,d,p){const g=this._inner,_=g.scheduleEventTask("NgZoneEvent: "+p,c,WL,c_,c_);try{return g.runTask(_,u,d)}finally{g.cancelTask(_)}}runGuarded(c,u,d){return this._inner.runGuarded(c,u,d)}runOutsideAngular(c){return this._outer.run(c)}}const WL={};function iE(a){if(0==a._nesting&&!a.hasPendingMicrotasks&&!a.isStable)try{a._nesting++,a.onMicrotaskEmpty.emit(null)}finally{if(a._nesting--,!a.hasPendingMicrotasks)try{a.runOutsideAngular(()=>a.onStable.emit(null))}finally{a.isStable=!0}}}function oE(a){a.hasPendingMicrotasks=!!(a._hasPendingMicrotasks||(a.shouldCoalesceEventChangeDetection||a.shouldCoalesceRunChangeDetection)&&-1!==a.lastRequestAnimationFrameId)}function kf(a){a._nesting++,a.isStable&&(a.isStable=!1,a.onUnstable.emit(null))}function h_(a){a._nesting--,iE(a)}class sE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new as,this.onMicrotaskEmpty=new as,this.onStable=new as,this.onError=new as}run(c,u,d){return c.apply(u,d)}runGuarded(c,u,d){return c.apply(u,d)}runOutsideAngular(c){return c()}runTask(c,u,d,p){return c.apply(u,d)}}let Jx=(()=>{class a{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fs.assertNotInAngularZone(),rE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())rE(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,p){let g=-1;d&&d>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(_=>_.timeoutId!==g),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:g,updateCb:p})}whenStable(u,d,p){if(p&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,p),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,d,p){return[]}}return a.\u0275fac=function(u){return new(u||a)(Zr(Fs))},a.\u0275prov=ar({token:a,factory:a.\u0275fac}),a})(),Qx=(()=>{class a{constructor(){this._applications=new Map,f_.addToWindow(this)}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return f_.findTestabilityInTree(this,u,d)}}return a.\u0275fac=function(u){return new(u||a)},a.\u0275prov=ar({token:a,factory:a.\u0275fac}),a})();class KL{addToWindow(c){}findTestabilityInTree(c,u,d){return null}}function Xx(a){f_=a}let Bs,f_=new KL;const Lf=new lr("AllowMultipleToken");class JL{constructor(c,u){this.name=c,this.token=u}}function tI(a,c,u=[]){const d=`Platform: ${c}`,p=new lr(d);return(g=[])=>{let _=cE();if(!_||_.injector.get(Lf,!1))if(a)a(u.concat(g).concat({provide:p,useValue:!0}));else{const E=u.concat(g).concat({provide:p,useValue:!0},{provide:dm,useValue:"platform"});!function QL(a){if(Bs&&!Bs.destroyed&&!Bs.injector.get(Lf,!1))throw new Fe(400,"");Bs=a.get(uE);const c=a.get(eE,null);c&&c.forEach(u=>u())}(is.create({providers:E,name:d}))}return function XL(a){const c=cE();if(!c)throw new Fe(401,"");return c}()}}function cE(){return Bs&&!Bs.destroyed?Bs:null}let uE=(()=>{class a{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const E=function nI(a,c){let u;return u="noop"===a?new sE:("zone.js"===a?void 0:a)||new Fs({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==c?void 0:c.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==c?void 0:c.ngZoneRunCoalescing)}),u}(d?d.ngZone:void 0,{ngZoneEventCoalescing:d&&d.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:d&&d.ngZoneRunCoalescing||!1}),T=[{provide:Fs,useValue:E}];return E.run(()=>{const N=is.create({providers:T,parent:this.injector,name:u.moduleType.name}),L=u.create(N),te=L.injector.get(Ih,null);if(!te)throw new Fe(402,"");return E.runOutsideAngular(()=>{const _e=E.onError.subscribe({next:Oe=>{te.handleError(Oe)}});L.onDestroy(()=>{p_(this._modules,L),_e.unsubscribe()})}),function rI(a,c,u){try{const d=u();return Im(d)?d.catch(p=>{throw c.runOutsideAngular(()=>a.handleError(p)),p}):d}catch(d){throw c.runOutsideAngular(()=>a.handleError(d)),d}}(te,E,()=>{const _e=L.injector.get(l_);return _e.runInitializers(),_e.donePromise.then(()=>(function $2(a){(function pn(a,c){null==a&&Yt(c,a,null,"!=")})(a,"Expected localeId to be defined"),"string"==typeof a&&(wS=a.toLowerCase().replace(/_/g,"-"))}(L.injector.get(sd,Hm)||Hm),this._moduleDoBootstrap(L),L))})})}bootstrapModule(u,d=[]){const p=Ff({},d);return function eI(a,c,u){const d=new Ef(u);return Promise.resolve(d)}(0,0,u).then(g=>this.bootstrapModuleFactory(g,p))}_moduleDoBootstrap(u){const d=u.injector.get(lE);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(p=>d.bootstrap(p));else{if(!u.instance.ngDoBootstrap)throw new Fe(403,"");u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Fe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return a.\u0275fac=function(u){return new(u||a)(Zr(is))},a.\u0275prov=ar({token:a,factory:a.\u0275fac}),a})();function Ff(a,c){return Array.isArray(c)?c.reduce(Ff,a):Object.assign(Object.assign({},a),c)}let lE=(()=>{class a{constructor(u,d,p,g,_){this._zone=u,this._injector=d,this._exceptionHandler=p,this._componentFactoryResolver=g,this._initStatus=_,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const E=new K.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),T=new K.y(N=>{let L;this._zone.runOutsideAngular(()=>{L=this._zone.onStable.subscribe(()=>{Fs.assertNotInAngularZone(),rE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const te=this._zone.onUnstable.subscribe(()=>{Fs.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{L.unsubscribe(),te.unsubscribe()}});this.isStable=function k(...a){const c=(0,S.yG)(a),u=(0,S._6)(a,1/0),d=a;return d.length?1===d.length?(0,i.Xf)(d[0]):(0,f.J)(u)((0,x.D)(d,c)):b.E}(E,T.pipe((0,he.B)()))}bootstrap(u,d){if(!this._initStatus.done)throw new Fe(405,"");let p;p=u instanceof Zm?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(p.componentType);const g=function YL(a){return a.isBoundToModule}(p)?void 0:this._injector.get(mc),E=p.create(is.NULL,[],d||p.selector,g),T=E.location.nativeElement,N=E.injector.get(Jx,null),L=N&&E.injector.get(Qx);return N&&L&&L.registerApplication(T,N),E.onDestroy(()=>{this.detachView(E.hostView),p_(this.components,E),L&&L.unregisterApplication(T)}),this._loadComponent(E),E}tick(){if(this._runningTick)throw new Fe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;p_(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Zx,[]).concat(this._bootstrapListeners).forEach(p=>p(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return a.\u0275fac=function(u){return new(u||a)(Zr(Fs),Zr(is),Zr(Ih),Zr(ca),Zr(l_))},a.\u0275prov=ar({token:a,factory:a.\u0275fac,providedIn:"root"}),a})();function p_(a,c){const u=a.indexOf(c);u>-1&&a.splice(u,1)}let Pi=(()=>{class a{}return a.__NG_ELEMENT_ID__=_c,a})();function _c(a){return function sI(a,c,u){if(gs(a)&&!u){const d=Rr(a.index,c);return new bf(d,d)}return 47&a.type?new bf(c[16],c):null}(Hr(),et(),16==(16&a))}class pE{constructor(){}supports(c){return lu(c)}create(c){return new dI(c)}}const lI=(a,c)=>c;class dI{constructor(c){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=c||lI}forEachItem(c){let u;for(u=this._itHead;null!==u;u=u._next)c(u)}forEachOperation(c){let u=this._itHead,d=this._removalsHead,p=0,g=null;for(;u||d;){const _=!d||u&&u.currentIndex<mE(d,p,g)?u:d,E=mE(_,p,g),T=_.currentIndex;if(_===d)p--,d=d._nextRemoved;else if(u=u._next,null==_.previousIndex)p++;else{g||(g=[]);const N=E-p,L=T-p;if(N!=L){for(let _e=0;_e<N;_e++){const Oe=_e<g.length?g[_e]:g[_e]=0,Ye=Oe+_e;L<=Ye&&Ye<N&&(g[_e]=Oe+1)}g[_.previousIndex]=L-N}}E!==T&&c(_,E,T)}}forEachPreviousItem(c){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachMovedItem(c){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}forEachIdentityChange(c){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)c(u)}diff(c){if(null==c&&(c=[]),!lu(c))throw new Fe(900,"");return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let p,g,_,u=this._itHead,d=!1;if(Array.isArray(c)){this.length=c.length;for(let E=0;E<this.length;E++)g=c[E],_=this._trackByFn(E,g),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,g,_,E)),Object.is(u.item,g)||this._addIdentityChange(u,g)):(u=this._mismatch(u,g,_,E),d=!0),u=u._next}else p=0,function bm(a,c){if(Array.isArray(a))for(let u=0;u<a.length;u++)c(a[u]);else{const u=a[hc()]();let d;for(;!(d=u.next()).done;)c(d.value)}}(c,E=>{_=this._trackByFn(p,E),null!==u&&Object.is(u.trackById,_)?(d&&(u=this._verifyReinsertion(u,E,_,p)),Object.is(u.item,E)||this._addIdentityChange(u,E)):(u=this._mismatch(u,E,_,p),d=!0),u=u._next,p++}),this.length=p;return this._truncate(u),this.collection=c,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let c;for(c=this._previousItHead=this._itHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._additionsHead;null!==c;c=c._nextAdded)c.previousIndex=c.currentIndex;for(this._additionsHead=this._additionsTail=null,c=this._movesHead;null!==c;c=c._nextMoved)c.previousIndex=c.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(c,u,d,p){let g;return null===c?g=this._itTail:(g=c._prev,this._remove(c)),null!==(c=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._reinsertAfter(c,g,p)):null!==(c=null===this._linkedRecords?null:this._linkedRecords.get(d,p))?(Object.is(c.item,u)||this._addIdentityChange(c,u),this._moveAfter(c,g,p)):c=this._addAfter(new hI(u,d),g,p),c}_verifyReinsertion(c,u,d,p){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==g?c=this._reinsertAfter(g,c._prev,p):c.currentIndex!=p&&(c.currentIndex=p,this._addToMoves(c,p)),c}_truncate(c){for(;null!==c;){const u=c._next;this._addToRemovals(this._unlink(c)),c=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(c,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(c);const p=c._prevRemoved,g=c._nextRemoved;return null===p?this._removalsHead=g:p._nextRemoved=g,null===g?this._removalsTail=p:g._prevRemoved=p,this._insertAfter(c,u,d),this._addToMoves(c,d),c}_moveAfter(c,u,d){return this._unlink(c),this._insertAfter(c,u,d),this._addToMoves(c,d),c}_addAfter(c,u,d){return this._insertAfter(c,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=c:this._additionsTail._nextAdded=c,c}_insertAfter(c,u,d){const p=null===u?this._itHead:u._next;return c._next=p,c._prev=u,null===p?this._itTail=c:p._prev=c,null===u?this._itHead=c:u._next=c,null===this._linkedRecords&&(this._linkedRecords=new gE),this._linkedRecords.put(c),c.currentIndex=d,c}_remove(c){return this._addToRemovals(this._unlink(c))}_unlink(c){null!==this._linkedRecords&&this._linkedRecords.remove(c);const u=c._prev,d=c._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,c}_addToMoves(c,u){return c.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=c:this._movesTail._nextMoved=c),c}_addToRemovals(c){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gE),this._unlinkedRecords.put(c),c.currentIndex=null,c._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=c,c._prevRemoved=null):(c._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=c),c}_addIdentityChange(c,u){return c.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=c:this._identityChangesTail._nextIdentityChange=c,c}}class hI{constructor(c,u){this.item=c,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class fI{constructor(){this._head=null,this._tail=null}add(c){null===this._head?(this._head=this._tail=c,c._nextDup=null,c._prevDup=null):(this._tail._nextDup=c,c._prevDup=this._tail,c._nextDup=null,this._tail=c)}get(c,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,c))return d;return null}remove(c){const u=c._prevDup,d=c._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class gE{constructor(){this.map=new Map}put(c){const u=c.trackById;let d=this.map.get(u);d||(d=new fI,this.map.set(u,d)),d.add(c)}get(c,u){const p=this.map.get(c);return p?p.get(c,u):null}remove(c){const u=c.trackById;return this.map.get(u).remove(c)&&this.map.delete(u),c}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function mE(a,c,u){const d=a.previousIndex;if(null===d)return d;let p=0;return u&&d<u.length&&(p=u[d]),d+c+p}class _E{constructor(){}supports(c){return c instanceof Map||Em(c)}create(){return new pI}}class pI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(c){let u;for(u=this._mapHead;null!==u;u=u._next)c(u)}forEachPreviousItem(c){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)c(u)}forEachChangedItem(c){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)c(u)}forEachAddedItem(c){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)c(u)}forEachRemovedItem(c){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)c(u)}diff(c){if(c){if(!(c instanceof Map||Em(c)))throw new Fe(900,"")}else c=new Map;return this.check(c)?this:null}onDestroy(){}check(c){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(c,(d,p)=>{if(u&&u.key===p)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const g=this._getOrCreateRecordForKey(p,d);u=this._insertBeforeOrAppend(u,g)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(c,u){if(c){const d=c._prev;return u._next=c,u._prev=d,c._prev=u,d&&(d._next=u),c===this._mapHead&&(this._mapHead=u),this._appendAfter=c,c}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(c,u){if(this._records.has(c)){const p=this._records.get(c);this._maybeAddToChanges(p,u);const g=p._prev,_=p._next;return g&&(g._next=_),_&&(_._prev=g),p._next=null,p._prev=null,p}const d=new gI(c);return this._records.set(c,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let c;for(this._previousMapHead=this._mapHead,c=this._previousMapHead;null!==c;c=c._next)c._nextPrevious=c._next;for(c=this._changesHead;null!==c;c=c._nextChanged)c.previousValue=c.currentValue;for(c=this._additionsHead;null!=c;c=c._nextAdded)c.previousValue=c.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(c,u){Object.is(u,c.currentValue)||(c.previousValue=c.currentValue,c.currentValue=u,this._addToChanges(c))}_addToAdditions(c){null===this._additionsHead?this._additionsHead=this._additionsTail=c:(this._additionsTail._nextAdded=c,this._additionsTail=c)}_addToChanges(c){null===this._changesHead?this._changesHead=this._changesTail=c:(this._changesTail._nextChanged=c,this._changesTail=c)}_forEach(c,u){c instanceof Map?c.forEach(u):Object.keys(c).forEach(d=>u(c[d],d))}}class gI{constructor(c){this.key=c,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function yE(){return new E_([new pE])}let E_=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(null!=d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||yE()),deps:[[a,new cl,new al]]}}find(u){const d=this.factories.find(p=>p.supports(u));if(null!=d)return d;throw new Fe(901,"")}}return a.\u0275prov=ar({token:a,providedIn:"root",factory:yE}),a})();function vE(){return new C_([new _E])}let C_=(()=>{class a{constructor(u){this.factories=u}static create(u,d){if(d){const p=d.factories.slice();u=u.concat(p)}return new a(u)}static extend(u){return{provide:a,useFactory:d=>a.create(u,d||vE()),deps:[[a,new cl,new al]]}}find(u){const d=this.factories.find(g=>g.supports(u));if(d)return d;throw new Fe(901,"")}}return a.\u0275prov=ar({token:a,providedIn:"root",factory:vE}),a})();const w_=tI(null,"core",[{provide:tE,useValue:"unknown"},{provide:uE,deps:[is]},{provide:Qx,deps:[]},{provide:Ba,deps:[]}]);let yI=(()=>{class a{constructor(u){}}return a.\u0275fac=function(u){return new(u||a)(Zr(lE))},a.\u0275mod=pr({type:a}),a.\u0275inj=hi({}),a})()}},le=>{le(le.s=5611)}]);