(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(pt,w,x)=>{"use strict";x.d(w,{nm:()=>gn});var p=x(5813),O=(x(5e3),x(3692),x(5867),x(5861)),j=x(9681),Q=x(4859),J=x(2090),ne=x(1877);const Y=new Map,ie={activated:!1,tokenObservers:[]},fe={initialized:!1,enabled:!1};function ut(st){return Y.get(st)||ie}function et(st,ze){Y.set(st,ze)}function Je(){return fe}class Qe{constructor(ze,Tt,Vt,$t,Tn){if(this.operation=ze,this.retryPolicy=Tt,this.getWaitDuration=Vt,this.lowerBound=$t,this.upperBound=Tn,this.pending=null,this.nextErrorWaitInterval=$t,$t>Tn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ze){var Tt=this;return(0,O.Z)(function*(){Tt.stop();try{Tt.pending=new J.BH,yield function xe(st){return new Promise(ze=>{setTimeout(ze,st)})}(Tt.getNextRun(ze)),Tt.pending.resolve(),yield Tt.pending.promise,Tt.pending=new J.BH,yield Tt.operation(),Tt.pending.resolve(),yield Tt.pending.promise,Tt.process(!0).catch(()=>{})}catch(Vt){Tt.retryPolicy(Vt)?Tt.process(!1).catch(()=>{}):Tt.stop()}})()}getNextRun(ze){if(ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Tt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Tt}}}const Ve=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ve(st){if(!ut(st).activated)throw Ve.create("use-before-activation",{appName:st.name})}function Te(st,ze){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,O.Z)(function*({url:st,body:ze},Tt){const Vt={"Content-Type":"application/json"},$t=Tt.getImmediate({optional:!0});if($t){const Ui=yield $t.getHeartbeatsHeader();Ui&&(Vt["X-Firebase-Client"]=Ui)}const Tn={method:"POST",body:JSON.stringify(ze),headers:Vt};let Dr,Vr;try{Dr=yield fetch(st,Tn)}catch(Ui){throw Ve.create("fetch-network-error",{originalErrorMessage:Ui.message})}if(200!==Dr.status)throw Ve.create("fetch-status-error",{httpStatus:Dr.status});try{Vr=yield Dr.json()}catch(Ui){throw Ve.create("fetch-parse-error",{originalErrorMessage:Ui.message})}const Ir=Vr.ttl.match(/^([\d.]+)(s)$/);if(!Ir||!Ir[2]||isNaN(Number(Ir[1])))throw Ve.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vr.ttl}`});const gi=1e3*Number(Ir[1]),Mo=Date.now();return{token:Vr.attestationToken,expireTimeMillis:Mo+gi,issuedAtTimeMillis:Mo}})).apply(this,arguments)}function mn(st,ze){const{projectId:Tt,appId:Vt,apiKey:$t}=st.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Tt}/apps/${Vt}:exchangeDebugToken?key=${$t}`,body:{debug_token:ze}}}const Wt="firebase-app-check-store";let rr=null;function $n(){return rr||(rr=new Promise((st,ze)=>{try{const Tt=indexedDB.open("firebase-app-check-database",1);Tt.onsuccess=Vt=>{st(Vt.target.result)},Tt.onerror=Vt=>{var $t;ze(Ve.create("storage-open",{originalErrorMessage:null===($t=Vt.target.error)||void 0===$t?void 0:$t.message}))},Tt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Wt,{keyPath:"compositeKey"})}}catch(Tt){ze(Ve.create("storage-open",{originalErrorMessage:Tt.message}))}}),rr)}function Gr(){return(Gr=(0,O.Z)(function*(st,ze){const Vt=(yield $n()).transaction(Wt,"readwrite"),Tn=Vt.objectStore(Wt).put({compositeKey:st,value:ze});return new Promise((Dr,Vr)=>{Tn.onsuccess=Ir=>{Dr()},Vt.onerror=Ir=>{var gi;Vr(Ve.create("storage-set",{originalErrorMessage:null===(gi=Ir.target.error)||void 0===gi?void 0:gi.message}))}})})).apply(this,arguments)}const Wr=new ne.Yd("@firebase/app-check");function ji(st,ze){return(0,J.hl)()?function br(st,ze){return function Ar(st,ze){return Gr.apply(this,arguments)}(function Kr(st){return`${st.options.appId}-${st.name}`}(st),ze)}(st,ze).catch(Tt=>{Wr.warn(`Failed to write token to IndexedDB. Error: ${Tt}`)}):Promise.resolve()}function Be(){return Je().enabled}function gt(){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,O.Z)(function*(){const st=Je();if(st.enabled&&st.token)return st.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const be={error:"UNKNOWN_ERROR"};function at(st){return J.US.encodeString(JSON.stringify(st),!1)}function ct(st){return bt.apply(this,arguments)}function bt(){return(bt=(0,O.Z)(function*(st,ze=!1){const Tt=st.app;ve(Tt);const Vt=ut(Tt);let Tn,$t=Vt.token;if(!$t){const Ir=yield Vt.cachedTokenPromise;Ir&&fn(Ir)&&($t=Ir)}if(!ze&&$t&&fn($t))return{token:$t.token};let Vr,Dr=!1;if(Be()){Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Te(mn(Tt,yield gt()),st.heartbeatServiceProvider).then(gi=>(Vt.exchangeTokenPromise=void 0,gi)),Dr=!0);const Ir=yield Vt.exchangeTokenPromise;return yield ji(Tt,Ir),et(Tt,Object.assign(Object.assign({},Vt),{token:Ir})),{token:Ir.token}}try{Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Vt.provider.getToken().then(Ir=>(Vt.exchangeTokenPromise=void 0,Ir)),Dr=!0),$t=yield Vt.exchangeTokenPromise}catch(Ir){"appCheck/throttled"===Ir.code?Wr.warn(Ir.message):Wr.error(Ir),Tn=Ir}return $t?(Vr={token:$t.token},et(Tt,Object.assign(Object.assign({},Vt),{token:$t})),yield ji(Tt,$t)):Vr=jn(Tn),Dr&&Vn(Tt,Vr),Vr})).apply(this,arguments)}function dn(st,ze){const Tt=ut(st),Vt=Tt.tokenObservers.filter($t=>$t.next!==ze);0===Vt.length&&Tt.tokenRefresher&&Tt.tokenRefresher.isRunning()&&Tt.tokenRefresher.stop(),et(st,Object.assign(Object.assign({},Tt),{tokenObservers:Vt}))}function Zt(st){const{app:ze}=st,Tt=ut(ze);let Vt=Tt.tokenRefresher;Vt||(Vt=function an(st){const{app:ze}=st;return new Qe((0,O.Z)(function*(){let Vt;if(Vt=ut(ze).token?yield ct(st,!0):yield ct(st),Vt.error)throw Vt.error}),()=>!0,()=>{const Tt=ut(ze);if(Tt.token){let Vt=Tt.token.issuedAtTimeMillis+.5*(Tt.token.expireTimeMillis-Tt.token.issuedAtTimeMillis)+3e5;return Vt=Math.min(Vt,Tt.token.expireTimeMillis-3e5),Math.max(0,Vt-Date.now())}return 0},3e4,96e4)}(st),et(ze,Object.assign(Object.assign({},Tt),{tokenRefresher:Vt}))),!Vt.isRunning()&&Tt.isTokenAutoRefreshEnabled&&Vt.start()}function Vn(st,ze){const Tt=ut(st).tokenObservers;for(const Vt of Tt)try{"EXTERNAL"===Vt.type&&null!=ze.error?Vt.error(ze.error):Vt.next(ze)}catch($t){}}function fn(st){return st.expireTimeMillis-Date.now()>0}function jn(st){return{token:at(be),error:st}}class Gt{constructor(ze,Tt){this.app=ze,this.heartbeatServiceProvider=Tt}_delete(){const{tokenObservers:ze}=ut(this.app);for(const Tt of ze)dn(this.app,Tt.next);return Promise.resolve()}}const Yt="app-check-internal";!function sn(){(0,j._registerComponent)(new Q.wA("app-check",st=>function er(st,ze){return new Gt(st,ze)}(st.getProvider("app").getImmediate(),st.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((st,ze,Tt)=>{st.getProvider(Yt).initialize()})),(0,j._registerComponent)(new Q.wA(Yt,st=>function kn(st){return{getToken:ze=>ct(st,ze),addTokenListener:ze=>function Ot(st,ze,Tt,Vt){const{app:$t}=st,Tn=ut($t),Dr={next:Tt,error:Vt,type:ze};if(et($t,Object.assign(Object.assign({},Tn),{tokenObservers:[...Tn.tokenObservers,Dr]})),Tn.token&&fn(Tn.token)){const Vr=Tn.token;Promise.resolve().then(()=>{Tt({token:Vr.token}),Zt(st)}).catch(()=>{})}Tn.cachedTokenPromise.then(()=>Zt(st))}(st,"INTERNAL",ze),removeTokenListener:ze=>dn(st.app,ze)}}(st.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,j.registerVersion)("@firebase/app-check","0.5.4")}();class gn{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(pt,w,x)=>{"use strict";x.d(w,{Ot:()=>N,ZF:()=>_e,hX:()=>ut,z6:()=>O});var p=x(5867),e=x(5e3),T=x(5813);class N{constructor(Qe){return Qe}}class O{constructor(){return(0,p.C6)()}}const J=new e.OlP("angularfire2._apps"),ne={provide:N,useFactory:function Q($e){return $e&&1===$e.length?$e[0]:new N((0,p.Mq)())},deps:[[new e.FiY,J]]},Y={provide:O,deps:[[new e.FiY,J]]};function ie($e){return(Qe,xe)=>{const nt=Qe.runOutsideAngular(()=>$e(xe));return new N(nt)}}let fe=(()=>{class $e{constructor(xe){(0,p.KN)("angularfire",T.q4.full,"core"),(0,p.KN)("angularfire",T.q4.full,"app"),(0,p.KN)("angular",e.q4F.full,xe.toString())}}return $e.\u0275fac=function(xe){return new(xe||$e)(e.LFG(e.Lbi))},$e.\u0275mod=e.oAB({type:$e}),$e.\u0275inj=e.cJS({providers:[ne,Y]}),$e})();function ut($e,...Qe){return{ngModule:fe,providers:[{provide:J,useFactory:ie($e),multi:!0,deps:[e.R0b,e.zs3,T.HU,...Qe]}]}}const _e=(0,T.u3)(p.ZF,!0)},2011:(pt,w,x)=>{"use strict";x.d(w,{Dh:()=>Q,GT:()=>O,cc:()=>ut,on:()=>ne,pX:()=>N,xv:()=>J});var p=x(5e3),e=x(127);pt=x.hmd(pt);const T=["ngOnDestroy"],N=(_e,He,ke,_t={})=>new Proxy(_e,{get:($e,Qe)=>ke.runOutsideAngular(()=>{var xe;if(_e[Qe])return(null===(xe=null==_t?void 0:_t.spy)||void 0===xe?void 0:xe.get)&&_t.spy.get(Qe,_e[Qe]),_e[Qe];if(T.indexOf(Qe)>-1)return()=>{};const nt=He.toPromise().then(Ve=>{const ht=Ve&&Ve[Qe];return"function"==typeof ht?ht.bind(Ve):ht&&ht.then?ht.then(ve=>ke.run(()=>ve)):ke.run(()=>ht)});return new Proxy(()=>{},{get:(Ve,ht)=>nt[ht],apply:(Ve,ht,ve)=>nt.then(me=>{var re;const ye=me&&me(...ve);return(null===(re=null==_t?void 0:_t.spy)||void 0===re?void 0:re.apply)&&_t.spy.apply(Qe,ve,ye),ye})})})}),O=(_e,He)=>{He.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(_t=>{Object.defineProperty(_e.prototype,_t,Object.getOwnPropertyDescriptor(ke.prototype||ke,_t))})})};class j{constructor(He){return He}}const Q=new p.OlP("angularfire2.app.options"),J=new p.OlP("angularfire2.app.name");function ne(_e,He,ke){const $e="object"==typeof ke&&ke||{};$e.name=$e.name||"string"==typeof ke&&ke||"[DEFAULT]";const xe=e.Z.apps.filter(nt=>nt&&nt.name===$e.name)[0]||He.runOutsideAngular(()=>e.Z.initializeApp(_e,$e));try{JSON.stringify(_e)!==JSON.stringify(xe.options)&&Y("error",`${xe.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(nt){}return new j(xe)}const Y=(_e,...He)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...He)};function ut(_e,He,ke,_t,$e){const[,Qe,xe]=globalThis.\u0275AngularfireInstanceCache.find(nt=>nt[0]===_e)||[];if(Qe)return function et(_e,He){try{return _e.toString()===He.toString()}catch(ke){return _e===He}}($e,xe)||(vt("error",`${He} was already initialized on the ${ke} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),vt("warn",{is:$e,was:xe})),Qe;{const nt=_t();return globalThis.\u0275AngularfireInstanceCache.push([_e,nt,$e]),nt}}const Je=!!pt.hot,vt=(_e,...He)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...He)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(pt,w,x)=>{"use strict";x.d(w,{gg:()=>Ea,ET:()=>eu,hJ:()=>wh,BS:()=>Kc,JU:()=>Ic,ad:()=>uc,Cm:()=>ra});var p=x(5813),e=x(5e3),T=x(3692),N=x(5867),O=x(5861),j=x(2090),Q=x(9681),J=x(655),ne=x(1877),Y=x(4859);const ke=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new j.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Qe=new ne.Yd("@firebase/auth");function xe(A,...v){Qe.logLevel<=ne.in.ERROR&&Qe.error(`Auth (${Q.SDK_VERSION}): ${A}`,...v)}function nt(A,...v){throw me(A,...v)}function Ve(A,...v){return me(A,...v)}function ht(A,v,C){const L=Object.assign(Object.assign({},ke()),{[v]:C});return new j.LL("auth","Firebase",L).create(v,{appName:A.name})}function me(A,...v){if("string"!=typeof A){const C=v[0],L=[...v.slice(1)];return L[0]&&(L[0].appName=A.name),A._errorFactory.create(C,...L)}return _t.create(A,...v)}function re(A,v,...C){if(!A)throw me(v,...C)}function ye(A){const v="INTERNAL ASSERTION FAILED: "+A;throw xe(v),new Error(v)}function Te(A,v){A||ye(v)}const Ce=new Map;function yt(A){Te(A instanceof Function,"Expected a class definition");let v=Ce.get(A);return v?(Te(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Ce.set(A,v),v)}function Wt(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class $n{constructor(v,C){this.shortDelay=v,this.longDelay=C,Te(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,j.uI)()||(0,j.b$)()}get(){return function bn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function wt(){return"http:"===Wt()||"https:"===Wt()}()||(0,j.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class br{static initialize(v,C,L){this.fetchImpl=v,C&&(this.headersImpl=C),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ni=new $n(3e4,6e4);function Gr(A,v,C,L){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,O.Z)(function*(A,v,C,L,ge={}){return Si(A,ge,(0,O.Z)(function*(){let Le={},Dt={};L&&("GET"===v?Dt=L:Le={body:JSON.stringify(L)});const nn=(0,j.xO)(Object.assign({key:A.config.apiKey},Dt)).slice(1),Yn=yield A._getAdditionalHeaders();return Yn["Content-Type"]="application/json",A.languageCode&&(Yn["X-Firebase-Locale"]=A.languageCode),br.fetch()(Bn(A,A.config.apiHost,C,nn),Object.assign({method:v,headers:Yn,referrerPolicy:"no-referrer"},Le))}))})).apply(this,arguments)}function Si(A,v,C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,O.Z)(function*(A,v,C){A._canInitEmulator=!1;const L=Object.assign(Object.assign({},vr),v);try{const ge=new ji(A),Le=yield Promise.race([C(),ge.promise]);ge.clearNetworkTimeout();const Dt=yield Le.json();if("needConfirmation"in Dt)throw ri(A,"account-exists-with-different-credential",Dt);if(Le.ok&&!("errorMessage"in Dt))return Dt;{const nn=Le.ok?Dt.errorMessage:Dt.error.message,[Yn,pr]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Yn)throw ri(A,"credential-already-in-use",Dt);if("EMAIL_EXISTS"===Yn)throw ri(A,"email-already-in-use",Dt);const Ur=L[Yn]||Yn.toLowerCase().replace(/[_\s]+/g,"-");if(pr)throw ht(A,Ur,pr);nt(A,Ur)}}catch(ge){if(ge instanceof j.ZR)throw ge;nt(A,"network-request-failed")}})).apply(this,arguments)}function Bn(A,v,C,L){const ge=`${v}${C}?${L}`;return A.config.emulator?function wr(A,v){Te(A.emulator,"Emulator should always be set here");const{url:C}=A.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}(A.config,ge):`${A.config.apiScheme}://${ge}`}class ji{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,L)=>{this.timer=setTimeout(()=>L(Ve(this.auth,"network-request-failed")),ni.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(A,v,C){const L={appName:A.name};C.email&&(L.email=C.email),C.phoneNumber&&(L.phoneNumber=C.phoneNumber);const ge=Ve(A,v,L);return ge.customData._tokenResponse=C,ge}function Be(){return(Be=(0,O.Z)(function*(A,v){return Gr(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function ce(A,v){return be.apply(this,arguments)}function be(){return(be=(0,O.Z)(function*(A,v){return Gr(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function at(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function Ot(){return(Ot=(0,O.Z)(function*(A,v=!1){const C=(0,j.m9)(A),L=yield C.getIdToken(v),ge=Zt(L);re(ge&&ge.exp&&ge.auth_time&&ge.iat,C.auth,"internal-error");const Le="object"==typeof ge.firebase?ge.firebase:void 0,Dt=null==Le?void 0:Le.sign_in_provider;return{claims:ge,token:L,authTime:at(dn(ge.auth_time)),issuedAtTime:at(dn(ge.iat)),expirationTime:at(dn(ge.exp)),signInProvider:Dt||null,signInSecondFactor:(null==Le?void 0:Le.sign_in_second_factor)||null}})).apply(this,arguments)}function dn(A){return 1e3*Number(A)}function Zt(A){const[v,C,L]=A.split(".");if(void 0===v||void 0===C||void 0===L)return xe("JWT malformed, contained fewer than 3 sections"),null;try{const ge=(0,j.tV)(C);return ge?JSON.parse(ge):(xe("Failed to decode base64 JWT payload"),null)}catch(ge){return xe("Caught error parsing JWT payload as JSON",ge),null}}function Vn(A,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,O.Z)(function*(A,v,C=!1){if(C)return v;try{return yield v}catch(L){throw L instanceof j.ZR&&jn(L)&&A.auth.currentUser===A&&(yield A.auth.signOut()),L}})).apply(this,arguments)}function jn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class Gt{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const ge=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,ge)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const L=this.getInterval(v);this.timerId=setTimeout((0,O.Z)(function*(){yield C.iteration()}),L)}iteration(){var v=this;return(0,O.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&v.schedule(!0))}v.schedule()})()}}class er{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=at(this.lastLoginAt),this.creationTime=at(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(A){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,O.Z)(function*(A){var v;const C=A.auth,L=yield A.getIdToken(),ge=yield Vn(A,ce(C,{idToken:L}));re(null==ge?void 0:ge.users.length,C,"internal-error");const Le=ge.users[0];A._notifyReloadListener(Le);const Dt=(null===(v=Le.providerUserInfo)||void 0===v?void 0:v.length)?Wn(Le.providerUserInfo):[],nn=yn(A.providerData,Dt),Ur=!!A.isAnonymous&&!(A.email&&Le.passwordHash||(null==nn?void 0:nn.length)),Ki={uid:Le.localId,displayName:Le.displayName||null,photoURL:Le.photoUrl||null,email:Le.email||null,emailVerified:Le.emailVerified||!1,phoneNumber:Le.phoneNumber||null,tenantId:Le.tenantId||null,providerData:nn,metadata:new er(Le.createdAt,Le.lastLoginAt),isAnonymous:Ur};Object.assign(A,Ki)})).apply(this,arguments)}function tn(){return(tn=(0,O.Z)(function*(A){const v=(0,j.m9)(A);yield kn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function yn(A,v){return[...A.filter(L=>!v.some(ge=>ge.providerId===L.providerId)),...v]}function Wn(A){return A.map(v=>{var{providerId:C}=v,L=(0,J._T)(v,["providerId"]);return{providerId:C,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}function Me(){return(Me=(0,O.Z)(function*(A,v){const C=yield Si(A,{},(0,O.Z)(function*(){const L=(0,j.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:ge,apiKey:Le}=A.config,Dt=Bn(A,ge,"/v1/token",`key=${Le}`),nn=yield A._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",br.fetch()(Dt,{method:"POST",headers:nn,body:L})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){re(v.idToken,"internal-error"),re(void 0!==v.idToken,"internal-error"),re(void 0!==v.refreshToken,"internal-error");const C="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function an(A){const v=Zt(A);return re(v,"internal-error"),re(void 0!==v.exp,"internal-error"),re(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}getToken(v,C=!1){var L=this;return(0,O.Z)(function*(){return re(!L.accessToken||L.refreshToken,v,"user-token-expired"),C||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(v,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var L=this;return(0,O.Z)(function*(){const{accessToken:ge,refreshToken:Le,expiresIn:Dt}=yield function Un(A,v){return Me.apply(this,arguments)}(v,C);L.updateTokensAndExpiration(ge,Le,Number(Dt))})()}updateTokensAndExpiration(v,C,L){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(v,C){const{refreshToken:L,accessToken:ge,expirationTime:Le}=C,Dt=new Ae;return L&&(re("string"==typeof L,"internal-error",{appName:v}),Dt.refreshToken=L),ge&&(re("string"==typeof ge,"internal-error",{appName:v}),Dt.accessToken=ge),Le&&(re("number"==typeof Le,"internal-error",{appName:v}),Dt.expirationTime=Le),Dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new Ae,this.toJSON())}_performRefresh(){return ye("not implemented")}}function Se(A,v){re("string"==typeof A||void 0===A,"internal-error",{appName:v})}class lt{constructor(v){var{uid:C,auth:L,stsTokenManager:ge}=v,Le=(0,J._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Gt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=L,this.stsTokenManager=ge,this.accessToken=ge.accessToken,this.displayName=Le.displayName||null,this.email=Le.email||null,this.emailVerified=Le.emailVerified||!1,this.phoneNumber=Le.phoneNumber||null,this.photoURL=Le.photoURL||null,this.isAnonymous=Le.isAnonymous||!1,this.tenantId=Le.tenantId||null,this.providerData=Le.providerData?[...Le.providerData]:[],this.metadata=new er(Le.createdAt||void 0,Le.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,O.Z)(function*(){const L=yield Vn(C,C.stsTokenManager.getToken(C.auth,v));return re(L,C.auth,"internal-error"),C.accessToken!==L&&(C.accessToken=L,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),L})()}getIdTokenResult(v){return function bt(A){return Ot.apply(this,arguments)}(this,v)}reload(){return function ft(A){return tn.apply(this,arguments)}(this)}_assign(v){this!==v&&(re(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new lt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var L=this;return(0,O.Z)(function*(){let ge=!1;v.idToken&&v.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(v),ge=!0),C&&(yield kn(L)),yield L.auth._persistUserIfCurrent(L),ge&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var v=this;return(0,O.Z)(function*(){const C=yield v.getIdToken();return yield Vn(v,function Qr(A,v){return Be.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var L,ge,Le,Dt,nn,Yn,pr,Ur;const Ki=null!==(L=C.displayName)&&void 0!==L?L:void 0,sa=null!==(ge=C.email)&&void 0!==ge?ge:void 0,za=null!==(Le=C.phoneNumber)&&void 0!==Le?Le:void 0,Qc=null!==(Dt=C.photoURL)&&void 0!==Dt?Dt:void 0,xh=null!==(nn=C.tenantId)&&void 0!==nn?nn:void 0,au=null!==(Yn=C._redirectEventId)&&void 0!==Yn?Yn:void 0,Ku=null!==(pr=C.createdAt)&&void 0!==pr?pr:void 0,cu=null!==(Ur=C.lastLoginAt)&&void 0!==Ur?Ur:void 0,{uid:lu,emailVerified:Nd,isAnonymous:Mf,providerData:Rd,stsTokenManager:Ih}=C;re(lu&&Ih,v,"internal-error");const Dm=Ae.fromJSON(this.name,Ih);re("string"==typeof lu,v,"internal-error"),Se(Ki,v.name),Se(sa,v.name),re("boolean"==typeof Nd,v,"internal-error"),re("boolean"==typeof Mf,v,"internal-error"),Se(za,v.name),Se(Qc,v.name),Se(xh,v.name),Se(au,v.name),Se(Ku,v.name),Se(cu,v.name);const Ju=new lt({uid:lu,auth:v,email:sa,emailVerified:Nd,displayName:Ki,isAnonymous:Mf,photoURL:Qc,phoneNumber:za,tenantId:xh,stsTokenManager:Dm,createdAt:Ku,lastLoginAt:cu});return Rd&&Array.isArray(Rd)&&(Ju.providerData=Rd.map(Ph=>Object.assign({},Ph))),au&&(Ju._redirectEventId=au),Ju}static _fromIdTokenResponse(v,C,L=!1){return(0,O.Z)(function*(){const ge=new Ae;ge.updateFromServerResponse(C);const Le=new lt({uid:C.localId,auth:v,stsTokenManager:ge,isAnonymous:L});return yield kn(Le),Le})()}}const qt=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(C,L){var ge=this;return(0,O.Z)(function*(){ge.storage[C]=L})()}_get(C){var L=this;return(0,O.Z)(function*(){const ge=L.storage[C];return void 0===ge?null:ge})()}_remove(C){var L=this;return(0,O.Z)(function*(){delete L.storage[C]})()}_addListener(C,L){}_removeListener(C,L){}}return A.type="NONE",A})();function Zn(A,v,C){return`firebase:${A}:${v}:${C}`}class qn{constructor(v,C,L){this.persistence=v,this.auth=C,this.userKey=L;const{config:ge,name:Le}=this.auth;this.fullUserKey=Zn(this.userKey,ge.apiKey,Le),this.fullPersistenceKey=Zn("persistence",ge.apiKey,Le),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,O.Z)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?lt._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,O.Z)(function*(){if(C.persistence===v)return;const L=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,L?C.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,L="authUser"){return(0,O.Z)(function*(){if(!C.length)return new qn(yt(qt),v,L);const ge=(yield Promise.all(C.map(function(){var pr=(0,O.Z)(function*(Ur){if(yield Ur._isAvailable())return Ur});return function(Ur){return pr.apply(this,arguments)}}()))).filter(pr=>pr);let Le=ge[0]||yt(qt);const Dt=Zn(L,v.config.apiKey,v.name);let nn=null;for(const pr of C)try{const Ur=yield pr._get(Dt);if(Ur){const Ki=lt._fromJSON(v,Ur);pr!==Le&&(nn=Ki),Le=pr;break}}catch(Ur){}const Yn=ge.filter(pr=>pr._shouldAllowMigration);return Le._shouldAllowMigration&&Yn.length?(Le=Yn[0],nn&&(yield Le._set(Dt,nn.toJSON())),yield Promise.all(C.map(function(){var pr=(0,O.Z)(function*(Ur){if(Ur!==Le)try{yield Ur._remove(Dt)}catch(Ki){}});return function(Ur){return pr.apply(this,arguments)}}())),new qn(Le,v,L)):new qn(Le,v,L)})()}}function ir(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(function In(A=(0,j.z$)()){return/iemobile/i.test(A)}(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(function or(A=(0,j.z$)()){return/firefox\//i.test(A)}(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(function Xe(A=(0,j.z$)()){return/blackberry/i.test(A)}(v))return"Blackberry";if(function St(A=(0,j.z$)()){return/webos/i.test(A)}(v))return"Webos";if(function sr(A=(0,j.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}(v))return"Safari";if((v.includes("chrome/")||function Cn(A=(0,j.z$)()){return/crios\//i.test(A)}(v))&&!v.includes("edge/"))return"Chrome";if(function Sn(A=(0,j.z$)()){return/android/i.test(A)}(v))return"Android";{const L=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==L?void 0:L.length))return L[1]}return"Other"}function Lt(A,v=[]){let C;switch(A){case"Browser":C=ir((0,j.z$)());break;case"Worker":C=`${ir((0,j.z$)())}-${A}`;break;default:C=A}const L=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${Q.SDK_VERSION}/${L}`}class gn{constructor(v,C,L){this.app=v,this.heartbeatServiceProvider=C,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _n(this),this.idTokenSubscription=new _n(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(v,C){var L=this;return C&&(this._popupRedirectResolver=yt(C)),this._initializationPromise=this.queue((0,O.Z)(function*(){var ge,Le;if(!L._deleted&&(L.persistenceManager=yield qn.create(L,v),!L._deleted)){if(null===(ge=L._popupRedirectResolver)||void 0===ge?void 0:ge._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch(Dt){}yield L.initializeCurrentUser(C),L.lastNotifiedUid=(null===(Le=L.currentUser)||void 0===Le?void 0:Le.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,O.Z)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C)}})()}initializeCurrentUser(v){var C=this;return(0,O.Z)(function*(){var L;let ge=yield C.assertedPersistence.getCurrentUser();if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Le=null===(L=C.redirectUser)||void 0===L?void 0:L._redirectEventId,Dt=null==ge?void 0:ge._redirectEventId,nn=yield C.tryRedirectSignIn(v);(!Le||Le===Dt)&&(null==nn?void 0:nn.user)&&(ge=nn.user)}return ge?ge._redirectEventId?(re(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===ge._redirectEventId?C.directlySetCurrentUser(ge):C.reloadAndSetCurrentUserOrClear(ge)):C.reloadAndSetCurrentUserOrClear(ge):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(v){var C=this;return(0,O.Z)(function*(){let L=null;try{L=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch(ge){yield C._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,O.Z)(function*(){try{yield kn(v)}catch(L){if("auth/network-request-failed"!==L.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function rr(){if("undefined"==typeof navigator)return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,O.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,O.Z)(function*(){const L=v?(0,j.m9)(v):null;return L&&re(L.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(L&&L._clone(C))})()}_updateCurrentUser(v){var C=this;return(0,O.Z)(function*(){if(!C._deleted)return v&&re(C.tenantId===v.tenantId,C,"tenant-id-mismatch"),C.queue((0,O.Z)(function*(){yield C.directlySetCurrentUser(v),C.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,O.Z)(function*(){return(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null)})()}setPersistence(v){var C=this;return this.queue((0,O.Z)(function*(){yield C.assertedPersistence.setPersistence(yt(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new j.LL("auth","Firebase",v())}onAuthStateChanged(v,C,L){return this.registerStateListener(this.authStateSubscription,v,C,L)}onIdTokenChanged(v,C,L){return this.registerStateListener(this.idTokenSubscription,v,C,L)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var L=this;return(0,O.Z)(function*(){const ge=yield L.getOrInitRedirectPersistenceManager(C);return null===v?ge.removeCurrentUser():ge.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,O.Z)(function*(){if(!C.redirectPersistenceManager){const L=v&&yt(v)||C._popupRedirectResolver;re(L,C,"argument-error"),C.redirectPersistenceManager=yield qn.create(C,[yt(L._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,O.Z)(function*(){var L,ge;return C._isInitialized&&(yield C.queue((0,O.Z)(function*(){}))),(null===(L=C._currentUser)||void 0===L?void 0:L._redirectEventId)===v?C._currentUser:(null===(ge=C.redirectUser)||void 0===ge?void 0:ge._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,O.Z)(function*(){if(v===C.currentUser)return C.queue((0,O.Z)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,L,ge){if(this._deleted)return()=>{};const Le="function"==typeof C?C:C.next.bind(C),Dt=this._isInitialized?Promise.resolve():this._initializationPromise;return re(Dt,this,"internal-error"),Dt.then(()=>Le(this.currentUser)),"function"==typeof C?v.addObserver(C,L,ge):v.addObserver(C)}directlySetCurrentUser(v){var C=this;return(0,O.Z)(function*(){C.currentUser&&C.currentUser!==v&&(C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh()),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Lt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,O.Z)(function*(){var C;const L={"X-Client-Version":v.clientVersion};v.app.options.appId&&(L["X-Firebase-gmpid"]=v.app.options.appId);const ge=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return ge&&(L["X-Firebase-Client"]=ge),L})()}}class _n{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,j.ne)(C=>this.observer=C)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function hs(A){return`__${A}${Math.floor(1e6*Math.random())}`})("rcb"),new $n(3e4,6e4),new $n(2e3,1e4),new $n(3e4,6e4),new $n(5e3,15e3);var hh="@firebase/auth",fh="0.19.10";class Mi{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,O.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(L=>{var ge;v((null===(ge=L)||void 0===ge?void 0:ge.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);!C||(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function ph(A){(0,Q._registerComponent)(new Y.wA("auth",(v,{options:C})=>{const L=v.getProvider("app").getImmediate(),ge=v.getProvider("heartbeat"),{apiKey:Le,authDomain:Dt}=L.options;return((nn,Yn)=>{re(Le&&!Le.includes(":"),"invalid-api-key",{appName:nn.name}),re(!(null==Dt?void 0:Dt.includes(":")),"argument-error",{appName:nn.name});const pr={apiKey:Le,authDomain:Dt,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lt(A)},Ur=new gn(nn,Yn,pr);return function mn(A,v){const C=(null==v?void 0:v.persistence)||[],L=(Array.isArray(C)?C:[C]).map(yt);(null==v?void 0:v.errorMap)&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(L,null==v?void 0:v.popupRedirectResolver)}(Ur,C),Ur})(L,ge)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,L)=>{v.getProvider("auth-internal").initialize()})),(0,Q._registerComponent)(new Y.wA("auth-internal",v=>{const C=function An(A){return(0,j.m9)(A)}(v.getProvider("auth").getImmediate());return new Mi(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Q.registerVersion)(hh,fh,function bo(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,Q.registerVersion)(hh,fh,"esm2017")}("Browser");class co{constructor(){return(0,p.vb)("auth")}}var _f=x(7128),Kl=x(3209),Ch=x(8306),vf=x(4004),Tm={includeMetadataChanges:!1};function Cf(A,v){return void 0===v&&(v={}),function Ft(A){return function yf(A,v){return void 0===v&&(v=Tm),new Ch.y(function(C){return{unsubscribe:(0,Kl.cf)(A,v,{next:C.next.bind(C),error:C.error.bind(C),complete:C.complete.bind(C)})}})}(A,{includeMetadataChanges:!0}).pipe((0,vf.U)(function(v){return v.docs}))}(A).pipe((0,vf.U)(function(C){return C.map(function(L){return function Tf(A,v){void 0===v&&(v={});var C=A.data();return!A.exists()||"object"!=typeof C||null===C||v.idField&&(C[v.idField]=A.id),C}(L,v)})}))}class Ea{constructor(v){return v}}const lc="firestore",Jl=new e.OlP("angularfire2.firestore-instances");function xc(A){return(v,C)=>{const L=v.runOutsideAngular(()=>A(C));return new Ea(L)}}const po={provide:class Sf{constructor(){return(0,p.vb)(lc)}},deps:[[new e.FiY,Jl]]},Yl={provide:Ea,useFactory:function Tl(A,v){const C=(0,p.JM)(lc,A,v);return C&&new Ea(C)},deps:[[new e.FiY,Jl],T.Ot]};let Rs=(()=>{class A{constructor(){(0,N.KN)("angularfire",p.q4.full,"fst")}}return A.\u0275fac=function(C){return new(C||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({providers:[Yl,po]}),A})();function ra(A,...v){return{ngModule:Rs,providers:[{provide:Jl,useFactory:xc(A),multi:!0,deps:[e.R0b,e.zs3,p.HU,T.z6,[new e.FiY,co],[new e.FiY,_f.nm],...v]}]}}const Kc=(0,p.u3)(Cf,!0),eu=(0,p.u3)(Kl.ET,!0),wh=(0,p.u3)(Kl.hJ,!0),Ic=(0,p.u3)(Kl.JU,!0),uc=(0,p.u3)(Kl.ad,!0)},5813:(pt,w,x)=>{"use strict";x.d(w,{q4:()=>ya,iC:()=>qc,HU:()=>Ua,vb:()=>gl,JM:()=>yd,u3:()=>Ta});var p=x(5e3),e=x(5867),T=x(5861),N=x(9681),O=x(2090),j=x(4859),Q=x(1877);const J="@firebase/installations",ie="w:0.5.6",fe="FIS_v2",He=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(U){return U instanceof O.ZR&&U.code.includes("request-failed")}function _t({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function $e(U){return{token:U.token,requestStatus:2,expiresIn:me(U.expiresIn),creationTime:Date.now()}}function Qe(U,Z){return xe.apply(this,arguments)}function xe(){return(xe=(0,T.Z)(function*(U,Z){const qe=(yield Z.json()).error;return He.create("request-failed",{requestName:U,serverCode:qe.code,serverMessage:qe.message,serverStatus:qe.status})})).apply(this,arguments)}function nt({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ve(U,{refreshToken:Z}){const ae=nt(U);return ae.append("Authorization",function re(U){return`${fe} ${U}`}(Z)),ae}function ht(U){return ve.apply(this,arguments)}function ve(){return(ve=(0,T.Z)(function*(U){const Z=yield U();return Z.status>=500&&Z.status<600?U():Z})).apply(this,arguments)}function me(U){return Number(U.replace("s","000"))}function ye(U,Z){return Te.apply(this,arguments)}function Te(){return(Te=(0,T.Z)(function*({appConfig:U,heartbeatServiceProvider:Z},{fid:ae}){const qe=_t(U),mt=nt(U),At=Z.getImmediate({optional:!0});if(At){const fr=yield At.getHeartbeatsHeader();fr&&mt.append("x-firebase-client",fr)}const Mn={method:"POST",headers:mt,body:JSON.stringify({fid:ae,authVersion:fe,appId:U.appId,sdkVersion:ie})},mr=yield ht(()=>fetch(qe,Mn));if(mr.ok){const fr=yield mr.json();return{fid:fr.fid||ae,registrationStatus:2,refreshToken:fr.refreshToken,authToken:$e(fr.authToken)}}throw yield Qe("Create Installation",mr)})).apply(this,arguments)}function Ce(U){return new Promise(Z=>{setTimeout(Z,U)})}const Mt=/^[cdef][\w-]{21}$/;function kt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ae=function wt(U){return function yt(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Mt.test(ae)?ae:""}catch(U){return""}}function Wt(U){return`${U.appName}!${U.appId}`}const bn=new Map;function rr(U,Z){const ae=Wt(U);br(ae,Z),function vr(U,Z){const ae=function Ar(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=U=>{br(U.data.key,U.data.fid)}),ni}();ae&&ae.postMessage({key:U,fid:Z}),function Gr(){0===bn.size&&ni&&(ni.close(),ni=null)}()}(ae,Z)}function br(U,Z){const ae=bn.get(U);if(ae)for(const qe of ae)qe(Z)}let ni=null;const Kr="firebase-installations-store";let Wr=null;function ki(){return Wr||(Wr=(0,O.X3)("firebase-installations-database",1,(U,Z)=>{0===Z&&U.createObjectStore(Kr)})),Wr}function Bn(U,Z){return ji.apply(this,arguments)}function ji(){return(ji=(0,T.Z)(function*(U,Z){const ae=Wt(U),mt=(yield ki()).transaction(Kr,"readwrite"),At=mt.objectStore(Kr),ln=yield At.get(ae);return yield At.put(Z,ae),yield mt.complete,(!ln||ln.fid!==Z.fid)&&rr(U,Z.fid),Z})).apply(this,arguments)}function ri(U){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,T.Z)(function*(U){const Z=Wt(U),qe=(yield ki()).transaction(Kr,"readwrite");yield qe.objectStore(Kr).delete(Z),yield qe.complete})).apply(this,arguments)}function Be(U,Z){return gt.apply(this,arguments)}function gt(){return(gt=(0,T.Z)(function*(U,Z){const ae=Wt(U),mt=(yield ki()).transaction(Kr,"readwrite"),At=mt.objectStore(Kr),ln=yield At.get(ae),Mn=Z(ln);return void 0===Mn?yield At.delete(ae):yield At.put(Mn,ae),yield mt.complete,Mn&&(!ln||ln.fid!==Mn.fid)&&rr(U,Mn.fid),Mn})).apply(this,arguments)}function Ue(U){return ce.apply(this,arguments)}function ce(){return(ce=(0,T.Z)(function*(U){let Z;const ae=yield Be(U.appConfig,qe=>{const mt=be(qe),At=at(U,mt);return Z=At.registrationPromise,At.installationEntry});return""===ae.fid?{installationEntry:yield Z}:{installationEntry:ae,registrationPromise:Z}})).apply(this,arguments)}function be(U){return an(U||{fid:kt(),registrationStatus:0})}function at(U,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(He.create("app-offline"))};const ae={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},qe=function ct(U,Z){return bt.apply(this,arguments)}(U,ae);return{installationEntry:ae,registrationPromise:qe}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:Ot(U)}:{installationEntry:Z}}function bt(){return(bt=(0,T.Z)(function*(U,Z){try{const ae=yield ye(U,Z);return Bn(U.appConfig,ae)}catch(ae){throw ke(ae)&&409===ae.customData.serverCode?yield ri(U.appConfig):yield Bn(U.appConfig,{fid:Z.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Ot(U){return dn.apply(this,arguments)}function dn(){return(dn=(0,T.Z)(function*(U){let Z=yield Zt(U.appConfig);for(;1===Z.registrationStatus;)yield Ce(100),Z=yield Zt(U.appConfig);if(0===Z.registrationStatus){const{installationEntry:ae,registrationPromise:qe}=yield Ue(U);return qe||ae}return Z})).apply(this,arguments)}function Zt(U){return Be(U,Z=>{if(!Z)throw He.create("installation-not-found");return an(Z)})}function an(U){return function Vn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function fn(U,Z){return jn.apply(this,arguments)}function jn(){return(jn=(0,T.Z)(function*({appConfig:U,heartbeatServiceProvider:Z},ae){const qe=Gt(U,ae),mt=Ve(U,ae),At=Z.getImmediate({optional:!0});if(At){const fr=yield At.getHeartbeatsHeader();fr&&mt.append("x-firebase-client",fr)}const Mn={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:ie,appId:U.appId}})},mr=yield ht(()=>fetch(qe,Mn));if(mr.ok)return $e(yield mr.json());throw yield Qe("Generate Auth Token",mr)})).apply(this,arguments)}function Gt(U,{fid:Z}){return`${_t(U)}/${Z}/authTokens:generate`}function er(U){return kn.apply(this,arguments)}function kn(){return(kn=(0,T.Z)(function*(U,Z=!1){let ae;const qe=yield Be(U.appConfig,At=>{if(!Un(At))throw He.create("not-registered");const ln=At.authToken;if(!Z&&Me(ln))return At;if(1===ln.requestStatus)return ae=Bt(U,Z),At;{if(!navigator.onLine)throw He.create("app-offline");const Mn=Se(At);return ae=yn(U,Mn),Mn}});return ae?yield ae:qe.authToken})).apply(this,arguments)}function Bt(U,Z){return ft.apply(this,arguments)}function ft(){return(ft=(0,T.Z)(function*(U,Z){let ae=yield tn(U.appConfig);for(;1===ae.authToken.requestStatus;)yield Ce(100),ae=yield tn(U.appConfig);const qe=ae.authToken;return 0===qe.requestStatus?er(U,Z):qe})).apply(this,arguments)}function tn(U){return Be(U,Z=>{if(!Un(Z))throw He.create("not-registered");return function lt(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function yn(U,Z){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,T.Z)(function*(U,Z){try{const ae=yield fn(U,Z),qe=Object.assign(Object.assign({},Z),{authToken:ae});return yield Bn(U.appConfig,qe),ae}catch(ae){if(!ke(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const qe=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield Bn(U.appConfig,qe)}else yield ri(U.appConfig);throw ae}})).apply(this,arguments)}function Un(U){return void 0!==U&&2===U.registrationStatus}function Me(U){return 2===U.requestStatus&&!function Ae(U){const Z=Date.now();return Z<U.creationTime||U.creationTime+U.expiresIn<Z+36e5}(U)}function Se(U){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:Z})}function qt(){return(qt=(0,T.Z)(function*(U){const Z=U,{installationEntry:ae,registrationPromise:qe}=yield Ue(Z);return qe?qe.catch(console.error):er(Z).catch(console.error),ae.fid})).apply(this,arguments)}function qn(){return(qn=(0,T.Z)(function*(U,Z=!1){const ae=U;return yield ir(ae),(yield er(ae,Z)).token})).apply(this,arguments)}function ir(U){return or.apply(this,arguments)}function or(){return(or=(0,T.Z)(function*(U){const{registrationPromise:Z}=yield Ue(U);Z&&(yield Z)})).apply(this,arguments)}function gr(U){return He.create("missing-app-config-values",{valueName:U})}const Yt="installations",rt=U=>{const Z=U.getProvider("app").getImmediate(),ae=function Qn(U){if(!U||!U.options)throw gr("App Configuration");if(!U.name)throw gr("App Name");const Z=["projectId","apiKey","appId"];for(const ae of Z)if(!U.options[ae])throw gr(ae);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(Z);return{app:Z,appConfig:ae,heartbeatServiceProvider:(0,N._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},Lt=U=>{const Z=U.getProvider("app").getImmediate(),ae=(0,N._getProvider)(Z,Yt).getImmediate();return{getId:()=>function Ke(U){return qt.apply(this,arguments)}(ae),getToken:mt=>function Zn(U){return qn.apply(this,arguments)}(ae,mt)}};(function gn(){(0,N._registerComponent)(new j.wA(Yt,rt,"PUBLIC")),(0,N._registerComponent)(new j.wA("installations-internal",Lt,"PRIVATE"))})(),(0,N.registerVersion)(J,"0.5.6"),(0,N.registerVersion)(J,"0.5.6","esm2017");const An="@firebase/remote-config",Gn=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Mo{constructor(Z,ae,qe,mt){this.client=Z,this.storage=ae,this.storageCache=qe,this.logger=mt}isCachedDataFresh(Z,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const qe=Date.now()-ae,mt=qe<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${qe}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${mt}.`),mt}fetch(Z){var ae=this;return(0,T.Z)(function*(){const[qe,mt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(mt&&ae.isCachedDataFresh(Z.cacheMaxAgeMillis,qe))return mt;Z.eTag=mt&&mt.eTag;const At=yield ae.client.fetch(Z),ln=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===At.status&&ln.push(ae.storage.setLastSuccessfulFetchResponse(At)),yield Promise.all(ln),At})()}}function Ui(U=navigator){return U.languages&&U.languages[0]||U.language}class To{constructor(Z,ae,qe,mt,At,ln){this.firebaseInstallations=Z,this.sdkVersion=ae,this.namespace=qe,this.projectId=mt,this.apiKey=At,this.appId=ln}fetch(Z){var ae=this;return(0,T.Z)(function*(){const[qe,mt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),ln=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,Mn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},mr={sdk_version:ae.sdkVersion,app_instance_id:qe,app_instance_id_token:mt,app_id:ae.appId,language_code:Ui()},fr={method:"POST",headers:Mn,body:JSON.stringify(mr)},ai=fetch(ln,fr),Cr=new Promise((Ho,zi)=>{Z.signal.addEventListener(()=>{const zc=new Error("The operation was aborted.");zc.name="AbortError",zi(zc)})});let ko;try{yield Promise.race([ai,Cr]),ko=yield ai}catch(Ho){let zi="fetch-client-network";throw"AbortError"===Ho.name&&(zi="fetch-timeout"),Gn.create(zi,{originalErrorMessage:Ho.message})}let ao=ko.status;const ps=ko.headers.get("ETag")||void 0;let ta,ws;if(200===ko.status){let Ho;try{Ho=yield ko.json()}catch(zi){throw Gn.create("fetch-client-parse",{originalErrorMessage:zi.message})}ta=Ho.entries,ws=Ho.state}if("INSTANCE_STATE_UNSPECIFIED"===ws?ao=500:"NO_CHANGE"===ws?ao=304:("NO_TEMPLATE"===ws||"EMPTY_CONFIG"===ws)&&(ta={}),304!==ao&&200!==ao)throw Gn.create("fetch-status",{httpStatus:ao});return{status:ao,eTag:ps,config:ta}})()}}class ss{constructor(Z,ae){this.client=Z,this.storage=ae}fetch(Z){var ae=this;return(0,T.Z)(function*(){const qe=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(Z,qe)})()}attemptFetch(Z,{throttleEndTimeMillis:ae,backoffCount:qe}){var mt=this;return(0,T.Z)(function*(){yield function Li(U,Z){return new Promise((ae,qe)=>{const mt=Math.max(Z-Date.now(),0),At=setTimeout(ae,mt);U.addEventListener(()=>{clearTimeout(At),qe(Gn.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,ae);try{const At=yield mt.client.fetch(Z);return yield mt.storage.deleteThrottleMetadata(),At}catch(At){if(!function Ts(U){if(!(U instanceof O.ZR&&U.customData))return!1;const Z=Number(U.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(At))throw At;const ln={throttleEndTimeMillis:Date.now()+(0,O.$s)(qe),backoffCount:qe+1};return yield mt.storage.setThrottleMetadata(ln),mt.attemptFetch(Z,ln)}})()}}class as{constructor(Z,ae,qe,mt,At){this.app=Z,this._client=ae,this._storageCache=qe,this._storage=mt,this._logger=At,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fi(U,Z){const ae=U.target.error||void 0;return Gn.create(Z,{originalErrorMessage:ae&&ae.message})}const ro="app_namespace_store";class Qo{constructor(Z,ae,qe,mt=function xs(){return new Promise((U,Z)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=qe=>{Z(Fi(qe,"storage-open"))},ae.onsuccess=qe=>{U(qe.target.result)},ae.onupgradeneeded=qe=>{0===qe.oldVersion&&qe.target.result.createObjectStore(ro,{keyPath:"compositeKey"})}}catch(ae){Z(Gn.create("storage-open",{originalErrorMessage:ae}))}})}()){this.appId=Z,this.appName=ae,this.namespace=qe,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var ae=this;return(0,T.Z)(function*(){const qe=yield ae.openDbPromise;return new Promise((mt,At)=>{const Mn=qe.transaction([ro],"readonly").objectStore(ro),mr=ae.createCompositeKey(Z);try{const fr=Mn.get(mr);fr.onerror=ai=>{At(Fi(ai,"storage-get"))},fr.onsuccess=ai=>{const Cr=ai.target.result;mt(Cr?Cr.value:void 0)}}catch(fr){At(Gn.create("storage-get",{originalErrorMessage:fr&&fr.message}))}})})()}set(Z,ae){var qe=this;return(0,T.Z)(function*(){const mt=yield qe.openDbPromise;return new Promise((At,ln)=>{const mr=mt.transaction([ro],"readwrite").objectStore(ro),fr=qe.createCompositeKey(Z);try{const ai=mr.put({compositeKey:fr,value:ae});ai.onerror=Cr=>{ln(Fi(Cr,"storage-set"))},ai.onsuccess=()=>{At()}}catch(ai){ln(Gn.create("storage-set",{originalErrorMessage:ai&&ai.message}))}})})()}delete(Z){var ae=this;return(0,T.Z)(function*(){const qe=yield ae.openDbPromise;return new Promise((mt,At)=>{const Mn=qe.transaction([ro],"readwrite").objectStore(ro),mr=ae.createCompositeKey(Z);try{const fr=Mn.delete(mr);fr.onerror=ai=>{At(Fi(ai,"storage-delete"))},fr.onsuccess=()=>{mt()}}catch(fr){At(Gn.create("storage-delete",{originalErrorMessage:fr&&fr.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class wi{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,T.Z)(function*(){const ae=Z.storage.getLastFetchStatus(),qe=Z.storage.getLastSuccessfulFetchTimestampMillis(),mt=Z.storage.getActiveConfig(),At=yield ae;At&&(Z.lastFetchStatus=At);const ln=yield qe;ln&&(Z.lastSuccessfulFetchTimestampMillis=ln);const Mn=yield mt;Mn&&(Z.activeConfig=Mn)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function Ee(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,T.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(U){return!1}})).apply(this,arguments)}!function mo(){(0,N._registerComponent)(new j.wA("remote-config",function U(Z,{instanceIdentifier:ae}){const qe=Z.getProvider("app").getImmediate(),mt=Z.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gn.create("registration-window");if(!(0,O.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:At,apiKey:ln,appId:Mn}=qe.options;if(!At)throw Gn.create("registration-project-id");if(!ln)throw Gn.create("registration-api-key");if(!Mn)throw Gn.create("registration-app-id");const mr=new Qo(Mn,qe.name,ae=ae||"firebase"),fr=new wi(mr),ai=new Q.Yd(An);ai.logLevel=Q.in.ERROR;const Cr=new To(mt,N.SDK_VERSION,ae,At,ln,Mn),ko=new ss(Cr,mr),ao=new Mo(ko,mr,fr,ai),ps=new as(qe,ao,fr,mr,ai);return function st(U){const Z=(0,O.m9)(U);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(ps),ps},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(An,"0.3.5"),(0,N.registerVersion)(An,"0.3.5","esm2017")}();const he="/firebase-messaging-sw.js",R="/firebase-cloud-messaging-push-scope",W="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ee="google.c.a.c_id",we="google.c.a.c_l",Ne="google.c.a.ts",Ie="google.c.a.e";var dt=(()=>{return(U=dt||(dt={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",dt;var U})();function oe(U){const Z=new Uint8Array(U);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Pe(U){const ae=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),qe=atob(ae),mt=new Uint8Array(qe.length);for(let At=0;At<qe.length;++At)mt[At]=qe.charCodeAt(At);return mt}const We="fcm_token_details_db",hn="fcm_token_object_Store";function xn(U){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,T.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(At=>At.name).includes(We))return null;let Z=null;return(yield(0,O.X3)(We,5,function(){var qe=(0,T.Z)(function*(mt,At,ln,Mn){var mr;if(At<2||!mt.objectStoreNames.contains(hn))return;const fr=Mn.objectStore(hn),ai=yield fr.index("fcmSenderId").get(U);if(yield fr.clear(),ai)if(2===At){const Cr=ai;if(!Cr.auth||!Cr.p256dh||!Cr.endpoint)return;Z={token:Cr.fcmToken,createTime:null!==(mr=Cr.createTime)&&void 0!==mr?mr:Date.now(),subscriptionOptions:{auth:Cr.auth,p256dh:Cr.p256dh,endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:"string"==typeof Cr.vapidKey?Cr.vapidKey:oe(Cr.vapidKey)}}}else if(3===At){const Cr=ai;Z={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:oe(Cr.auth),p256dh:oe(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:oe(Cr.vapidKey)}}}else if(4===At){const Cr=ai;Z={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:oe(Cr.auth),p256dh:oe(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:oe(Cr.vapidKey)}}}});return function(mt,At,ln,Mn){return qe.apply(this,arguments)}}())).close(),yield(0,O.Lj)(We),yield(0,O.Lj)("fcm_vapid_details_db"),yield(0,O.Lj)("undefined"),Fn(Z)?Z:null}),Pn.apply(this,arguments)}function Fn(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:Z}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Xr="firebase-messaging-store";let Zi=null;function Uo(){return Zi||(Zi=(0,O.X3)("firebase-messaging-database",1,(U,Z)=>{0===Z&&U.createObjectStore(Xr)})),Zi}function jr(U){return H.apply(this,arguments)}function H(){return(H=(0,T.Z)(function*(U){const Z=Nt(U),qe=yield(yield Uo()).transaction(Xr).objectStore(Xr).get(Z);if(qe)return qe;{const mt=yield xn(U.appConfig.senderId);if(mt)return yield le(U,mt),mt}})).apply(this,arguments)}function le(U,Z){return V.apply(this,arguments)}function V(){return(V=(0,T.Z)(function*(U,Z){const ae=Nt(U),mt=(yield Uo()).transaction(Xr,"readwrite");return yield mt.objectStore(Xr).put(Z,ae),yield mt.complete,Z})).apply(this,arguments)}function pe(U){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,T.Z)(function*(U){const Z=Nt(U),qe=(yield Uo()).transaction(Xr,"readwrite");yield qe.objectStore(Xr).delete(Z),yield qe.complete})).apply(this,arguments)}function Nt({appConfig:U}){return U.appId}const En=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ii(U,Z){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,T.Z)(function*(U,Z){const ae=yield Oo(U),qe=hr(Z),mt={method:"POST",headers:ae,body:JSON.stringify(qe)};let At;try{At=yield(yield fetch(si(U.appConfig),mt)).json()}catch(ln){throw En.create("token-subscribe-failed",{errorInfo:ln})}if(At.error)throw En.create("token-subscribe-failed",{errorInfo:At.error.message});if(!At.token)throw En.create("token-subscribe-no-token");return At.token})).apply(this,arguments)}function Br(U,Z){return Or.apply(this,arguments)}function Or(){return(Or=(0,T.Z)(function*(U,Z){const ae=yield Oo(U),qe=hr(Z.subscriptionOptions),mt={method:"PATCH",headers:ae,body:JSON.stringify(qe)};let At;try{At=yield(yield fetch(`${si(U.appConfig)}/${Z.token}`,mt)).json()}catch(ln){throw En.create("token-update-failed",{errorInfo:ln})}if(At.error)throw En.create("token-update-failed",{errorInfo:At.error.message});if(!At.token)throw En.create("token-update-no-token");return At.token})).apply(this,arguments)}function xi(U,Z){return oi.apply(this,arguments)}function oi(){return(oi=(0,T.Z)(function*(U,Z){const qe={method:"DELETE",headers:yield Oo(U)};try{const At=yield(yield fetch(`${si(U.appConfig)}/${Z}`,qe)).json();if(At.error)throw En.create("token-unsubscribe-failed",{errorInfo:At.error.message})}catch(mt){throw En.create("token-unsubscribe-failed",{errorInfo:mt})}})).apply(this,arguments)}function si({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function Oo(U){return Go.apply(this,arguments)}function Go(){return(Go=(0,T.Z)(function*({appConfig:U,installations:Z}){const ae=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function hr({p256dh:U,auth:Z,endpoint:ae,vapidKey:qe}){const mt={web:{endpoint:ae,auth:Z,p256dh:U}};return qe!==W&&(mt.web.applicationPubKey=qe),mt}const Is=6048e5;function Vo(U){return ls.apply(this,arguments)}function ls(){return(ls=(0,T.Z)(function*(U){const Z=yield Pa(U.swRegistration,U.vapidKey),ae={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:Z.endpoint,auth:oe(Z.getKey("auth")),p256dh:oe(Z.getKey("p256dh"))},qe=yield jr(U.firebaseDependencies);if(qe){if(ol(qe.subscriptionOptions,ae))return Date.now()>=qe.createTime+Is?Xa(U,{token:qe.token,createTime:Date.now(),subscriptionOptions:ae}):qe.token;try{yield xi(U.firebaseDependencies,qe.token)}catch(mt){console.warn(mt)}return en(U.firebaseDependencies,ae)}return en(U.firebaseDependencies,ae)})).apply(this,arguments)}function Cs(U){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,T.Z)(function*(U){const Z=yield jr(U.firebaseDependencies);Z&&(yield xi(U.firebaseDependencies,Z.token),yield pe(U.firebaseDependencies));const ae=yield U.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Xa(U,Z){return us.apply(this,arguments)}function us(){return(us=(0,T.Z)(function*(U,Z){try{const ae=yield Br(U.firebaseDependencies,Z),qe=Object.assign(Object.assign({},Z),{token:ae,createTime:Date.now()});return yield le(U.firebaseDependencies,qe),ae}catch(ae){throw yield Cs(U),ae}})).apply(this,arguments)}function en(U,Z){return cr.apply(this,arguments)}function cr(){return(cr=(0,T.Z)(function*(U,Z){const qe={token:yield ii(U,Z),createTime:Date.now(),subscriptionOptions:Z};return yield le(U,qe),qe.token})).apply(this,arguments)}function Pa(U,Z){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,T.Z)(function*(U,Z){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Pe(Z)})})).apply(this,arguments)}function ol(U,Z){return Z.vapidKey===U.vapidKey&&Z.endpoint===U.endpoint&&Z.auth===U.auth&&Z.p256dh===U.p256dh}function Vs(U){const Z={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Ys(U,Z){if(!Z.notification)return;U.notification={};const ae=Z.notification.title;ae&&(U.notification.title=ae);const qe=Z.notification.body;qe&&(U.notification.body=qe);const mt=Z.notification.image;mt&&(U.notification.image=mt)}(Z,U),function ec(U,Z){!Z.data||(U.data=Z.data)}(Z,U),function Ma(U,Z){if(!Z.fcmOptions)return;U.fcmOptions={};const ae=Z.fcmOptions.link;ae&&(U.fcmOptions.link=ae);const qe=Z.fcmOptions.analytics_label;qe&&(U.fcmOptions.analyticsLabel=qe)}(Z,U),Z}function yc(U){return"object"==typeof U&&!!U&&ee in U}function bc(U,Z){const ae=[];for(let qe=0;qe<U.length;qe++)ae.push(U.charAt(qe)),qe<Z.length&&ae.push(Z.charAt(qe));return ae.join("")}function No(U){return En.create("missing-app-config-values",{valueName:U})}bc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),bc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Xo{constructor(Z,ae,qe){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mt=function sl(U){if(!U||!U.options)throw No("App Configuration Object");if(!U.name)throw No("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=U;for(const qe of Z)if(!ae[qe])throw No(qe);return{appName:U.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:mt,installations:ae,analyticsProvider:qe}}_delete(){return Promise.resolve()}}function da(U){return ha.apply(this,arguments)}function ha(){return(ha=(0,T.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(he,{scope:R}),U.swRegistration.update().catch(()=>{})}catch(Z){throw En.create("failed-service-worker-registration",{browserErrorMessage:Z.message})}})).apply(this,arguments)}function Ps(U,Z){return es.apply(this,arguments)}function es(){return(es=(0,T.Z)(function*(U,Z){if(!Z&&!U.swRegistration&&(yield da(U)),Z||!U.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");U.swRegistration=Z}})).apply(this,arguments)}function Fc(U,Z){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,T.Z)(function*(U,Z){Z?U.vapidKey=Z:U.vapidKey||(U.vapidKey=W)})).apply(this,arguments)}function fa(){return(fa=(0,T.Z)(function*(U,Z){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Fc(U,null==Z?void 0:Z.vapidKey),yield Ps(U,null==Z?void 0:Z.serviceWorkerRegistration),Vo(U)})).apply(this,arguments)}function Qs(U,Z,ae){return pa.apply(this,arguments)}function pa(){return(pa=(0,T.Z)(function*(U,Z,ae){const qe=Ll(Z);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(qe,{message_id:ae[ee],message_name:ae[we],message_time:ae[Ne],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ll(U){switch(U){case dt.NOTIFICATION_CLICKED:return"notification_open";case dt.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function cl(){return(cl=(0,T.Z)(function*(U,Z){const ae=Z.data;if(!ae.isFirebaseMessaging)return;U.onMessageHandler&&ae.messageType===dt.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Vs(ae)):U.onMessageHandler.next(Vs(ae)));const qe=ae.data;yc(qe)&&"1"===qe[Ie]&&(yield Qs(U,ae.messageType,qe))})).apply(this,arguments)}const Oa="@firebase/messaging",Bc=U=>{const Z=new Xo(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function js(U,Z){return cl.apply(this,arguments)}(Z,ae)),Z},Ra=U=>{const Z=U.getProvider("messaging").getImmediate();return{getToken:qe=>function al(U,Z){return fa.apply(this,arguments)}(Z,qe)}};function Tc(){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,T.Z)(function*(){try{yield(0,O.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function ka(){(0,N._registerComponent)(new j.wA("messaging",Bc,"PUBLIC")),(0,N._registerComponent)(new j.wA("messaging-internal",Ra,"PRIVATE")),(0,N.registerVersion)(Oa,"0.9.10"),(0,N.registerVersion)(Oa,"0.9.10","esm2017")}();const Uc="analytics",fo="firebase_id",Ws="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zs="https://www.googletagmanager.com/gtag/js",li=new Q.Yd("@firebase/analytics");function nc(U){return Promise.all(U.map(Z=>Z.catch(ae=>ae)))}function sh(U,Z){const ae=document.createElement("script");ae.src=`${Zs}?l=${U}&id=${Z}`,ae.async=!0,document.head.appendChild(ae)}function La(U,Z,ae,qe,mt,At){return rc.apply(this,arguments)}function rc(){return(rc=(0,T.Z)(function*(U,Z,ae,qe,mt,At){const ln=qe[mt];try{if(ln)yield Z[ln];else{const mr=(yield nc(ae)).find(fr=>fr.measurementId===mt);mr&&(yield Z[mr.appId])}}catch(Mn){li.error(Mn)}U("config",mt,At)})).apply(this,arguments)}function io(U,Z,ae,qe,mt){return So.apply(this,arguments)}function So(){return(So=(0,T.Z)(function*(U,Z,ae,qe,mt){try{let At=[];if(mt&&mt.send_to){let ln=mt.send_to;Array.isArray(ln)||(ln=[ln]);const Mn=yield nc(ae);for(const mr of ln){const fr=Mn.find(Cr=>Cr.measurementId===mr),ai=fr&&Z[fr.appId];if(!ai){At=[];break}At.push(ai)}}0===At.length&&(At=Object.values(Z)),yield Promise.all(At),U("event",qe,mt||{})}catch(At){li.error(At)}})).apply(this,arguments)}function wu(){const U=window.document.getElementsByTagName("script");for(const Z of Object.values(U))if(Z.src&&Z.src.includes(Zs))return Z;return null}const ui=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Tr=new class Jn{constructor(Z={},ae=1e3){this.throttleMetadata=Z,this.intervalMillis=ae}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,ae){this.throttleMetadata[Z]=ae}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function ul(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Nn(U){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,T.Z)(function*(U){var Z;const{appId:ae,apiKey:qe}=U,mt={method:"GET",headers:ul(qe)},At=Ws.replace("{app-id}",ae),ln=yield fetch(At,mt);if(200!==ln.status&&304!==ln.status){let Mn="";try{const mr=yield ln.json();(null===(Z=mr.error)||void 0===Z?void 0:Z.message)&&(Mn=mr.error.message)}catch(mr){}throw ui.create("config-fetch-failed",{httpStatus:ln.status,responseMessage:Mn})}return ln.json()})).apply(this,arguments)}function on(U){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,T.Z)(function*(U,Z=Tr,ae){const{appId:qe,apiKey:mt,measurementId:At}=U.options;if(!qe)throw ui.create("no-app-id");if(!mt){if(At)return{measurementId:At,appId:qe};throw ui.create("no-api-key")}const ln=Z.getThrottleMetadata(qe)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Mn=new Fl;return setTimeout((0,T.Z)(function*(){Mn.abort()}),void 0!==ae?ae:6e4),mi({appId:qe,apiKey:mt,measurementId:At},ln,Mn,Z)})).apply(this,arguments)}function mi(U,Z,ae){return oc.apply(this,arguments)}function oc(){return(oc=(0,T.Z)(function*(U,{throttleEndTimeMillis:Z,backoffCount:ae},qe,mt=Tr){const{appId:At,measurementId:ln}=U;try{yield dl(qe,Z)}catch(Mn){if(ln)return li.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Mn.message}]`),{appId:At,measurementId:ln};throw Mn}try{const Mn=yield Nn(U);return mt.deleteThrottleMetadata(At),Mn}catch(Mn){if(!md(Mn)){if(mt.deleteThrottleMetadata(At),ln)return li.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ln} provided in the "measurementId" field in the local Firebase config. [${Mn.message}]`),{appId:At,measurementId:ln};throw Mn}const mr=503===Number(Mn.customData.httpStatus)?(0,O.$s)(ae,mt.intervalMillis,30):(0,O.$s)(ae,mt.intervalMillis),fr={throttleEndTimeMillis:Date.now()+mr,backoffCount:ae+1};return mt.setThrottleMetadata(At,fr),li.debug(`Calling attemptFetch again in ${mr} millis`),mi(U,fr,qe,mt)}})).apply(this,arguments)}function dl(U,Z){return new Promise((ae,qe)=>{const mt=Math.max(Z-Date.now(),0),At=setTimeout(ae,mt);U.addEventListener(()=>{clearTimeout(At),qe(ui.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function md(U){if(!(U instanceof O.ZR&&U.customData))return!1;const Z=Number(U.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class Fl{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}function k(){return P.apply(this,arguments)}function P(){return(P=(0,T.Z)(function*(){if(!(0,O.hl)())return li.warn(ui.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(U){return li.warn(ui.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function G(){return(G=(0,T.Z)(function*(U,Z,ae,qe,mt,At,ln){var Mn;const mr=on(U);mr.then(ao=>{ae[ao.measurementId]=ao.appId,U.options.measurementId&&ao.measurementId!==U.options.measurementId&&li.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${ao.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ao=>li.error(ao)),Z.push(mr);const fr=k().then(ao=>{if(ao)return qe.getId()}),[ai,Cr]=yield Promise.all([mr,fr]);wu()||sh(At,ai.measurementId),mt("js",new Date);const ko=null!==(Mn=null==ln?void 0:ln.config)&&void 0!==Mn?Mn:{};return ko.origin="firebase",ko.update=!0,null!=Cr&&(ko[fo]=Cr),mt("config",ai.measurementId,ko),ai.measurementId})).apply(this,arguments)}class ${constructor(Z){this.app=Z}_delete(){return delete ue[this.app.options.appId],Promise.resolve()}}let ue={},Ge=[];const je={};let Rn,xt,Rt="dataLayer",Nr=!1;function yi(U,Z,ae){!function ei(){const U=[];if((0,O.ru)()&&U.push("This is a browser extension environment."),(0,O.zI)()||U.push("Cookies are not available."),U.length>0){const Z=U.map((qe,mt)=>`(${mt+1}) ${qe}`).join(" "),ae=ui.create("invalid-analytics-context",{errorInfo:Z});li.warn(ae.message)}}();const qe=U.options.appId;if(!qe)throw ui.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw ui.create("no-api-key");li.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ue[qe])throw ui.create("already-exists",{id:qe});if(!Nr){!function ts(U){let Z=[];Array.isArray(window[U])?Z=window[U]:window[U]=Z}(Rt);const{wrappedGtag:At,gtagCore:ln}=function qs(U,Z,ae,qe,mt){let At=function(...ln){window[qe].push(arguments)};return window[mt]&&"function"==typeof window[mt]&&(At=window[mt]),window[mt]=function ns(U,Z,ae,qe){function At(){return(At=(0,T.Z)(function*(ln,Mn,mr){try{"event"===ln?yield io(U,Z,ae,Mn,mr):"config"===ln?yield La(U,Z,ae,qe,Mn,mr):U("set",Mn)}catch(fr){li.error(fr)}})).apply(this,arguments)}return function mt(ln,Mn,mr){return At.apply(this,arguments)}}(At,U,Z,ae),{gtagCore:At,wrappedGtag:window[mt]}}(ue,Ge,je,Rt,"gtag");xt=At,Rn=ln,Nr=!0}return ue[qe]=function D(U,Z,ae,qe,mt,At,ln){return G.apply(this,arguments)}(U,Ge,je,Z,Rn,Rt,ae),new $(U)}function Fa(){return(Fa=(0,T.Z)(function*(U,Z,ae,qe,mt){if(mt&&mt.global)U("event",ae,qe);else{const At=yield Z;U("event",ae,Object.assign(Object.assign({},qe),{send_to:At}))}})).apply(this,arguments)}function Eo(){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,T.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(U){return!1}})).apply(this,arguments)}const vo="@firebase/analytics";!function Ba(){(0,N._registerComponent)(new j.wA(Uc,(Z,{options:ae})=>yi(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,N._registerComponent)(new j.wA("analytics-internal",function U(Z){try{const ae=Z.getProvider(Uc).getImmediate();return{logEvent:(qe,mt,At)=>function Ln(U,Z,ae,qe){U=(0,O.m9)(U),function lr(U,Z,ae,qe,mt){return Fa.apply(this,arguments)}(xt,ue[U.app.options.appId],Z,ae,qe).catch(mt=>li.error(mt))}(ae,qe,mt,At)}}catch(ae){throw ui.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,N.registerVersion)(vo,"0.7.6"),(0,N.registerVersion)(vo,"0.7.6","esm2017")}();var Ti=x(4408),Vc=x(7565);const va=new class Pi extends Vc.v{}(class _a extends Ti.o{constructor(Z,ae){super(Z,ae),this.scheduler=Z,this.work=ae}schedule(Z,ae=0){return ae>0?super.schedule(Z,ae):(this.delay=ae,this.state=Z,this.scheduler.flush(this),this)}execute(Z,ae){return ae>0||this.closed?super.execute(Z,ae):this._execute(Z,ae)}requestAsyncId(Z,ae,qe=0){return null!=qe&&qe>0||null==qe&&this.delay>0?super.requestAsyncId(Z,ae,qe):Z.flush(this)}});var Hc=x(4986),Gl=x(8306),oo=x(8505),ea=x(9468),fl=x(5363);const ya=new p.GfV("7.2.1"),zs="__angularfire_symbol__analyticsIsSupportedValue",Au="__angularfire_symbol__analyticsIsSupported",pl="__angularfire_symbol__remoteConfigIsSupportedValue",vd="__angularfire_symbol__remoteConfigIsSupported",so="__angularfire_symbol__messagingIsSupportedValue",Wc="__angularfire_symbol__messagingIsSupported";function yd(U,Z,ae){if(Z){if(1===Z.length)return Z[0];const At=Z.filter(ln=>ln.app===ae);if(1===At.length)return At[0]}return ae.container.getProvider(U).getImmediate({optional:!0})}globalThis[Au]||(globalThis[Au]=Eo().then(U=>globalThis[zs]=U).catch(()=>globalThis[zs]=!1)),globalThis[Wc]||(globalThis[Wc]=Tc().then(U=>globalThis[so]=U).catch(()=>globalThis[so]=!1)),globalThis[vd]||(globalThis[vd]=Ee().then(U=>globalThis[pl]=U).catch(()=>globalThis[pl]=!1));const gl=(U,Z)=>{const ae=Z?[Z]:(0,e.C6)(),qe=[];return ae.forEach(mt=>{mt.container.getProvider(U).instances.forEach(ln=>{qe.includes(ln)||qe.push(ln)})}),qe};function sc(){}class Vl{constructor(Z,ae=va){this.zone=Z,this.delegate=ae}now(){return this.delegate.now()}schedule(Z,ae,qe){const mt=this.zone;return this.delegate.schedule(function(ln){mt.runGuarded(()=>{Z.apply(this,[ln])})},ae,qe)}}class ch{constructor(Z){this.zone=Z,this.task=null}call(Z,ae){const qe=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)),ae.pipe((0,oo.b)({next:qe,complete:qe,error:qe})).subscribe(Z).add(qe)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ua=(()=>{class U{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=ae.run(()=>new Vl(Zone.current,Hc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ae){return new(ae||U)(p.LFG(p.R0b))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function ac(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function ba(U){return ac().ngZone.runOutsideAngular(()=>U())}function yo(U){return ac().ngZone.run(()=>U())}function qc(U){return ac(),function xu(U){return function(ae){return(ae=ae.lift(new ch(U.ngZone))).pipe((0,ea.R)(U.outsideAngular),(0,fl.Q)(U.insideAngular))}}(ac())(U)}const fs=(U,Z)=>function(){const qe=arguments;return Z&&setTimeout(()=>{"scheduled"===Z.state&&Z.invoke()},10),yo(()=>U.apply(void 0,qe))},Ta=(U,Z)=>function(){let ae;const qe=arguments;for(let At=0;At<arguments.length;At++)"function"==typeof qe[At]&&(Z&&(ae||(ae=yo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",sc,{},sc,sc)))),qe[At]=fs(qe[At],ae));const mt=ba(()=>U.apply(this,qe));if(!Z){if(mt instanceof Gl.y){const At=ac();return mt.pipe((0,ea.R)(At.outsideAngular),(0,fl.Q)(At.insideAngular))}return yo(()=>mt)}return mt instanceof Gl.y?mt.pipe(qc):mt instanceof Promise?yo(()=>new Promise((At,ln)=>mt.then(Mn=>yo(()=>At(Mn)),Mn=>yo(()=>ln(Mn))))):"function"==typeof mt&&ae?function(){return setTimeout(()=>{ae&&"scheduled"===ae.state&&ae.invoke()},10),mt.apply(this,arguments)}:yo(()=>mt)}},896:pt=>{window,pt.exports=function(w){var x={};function p(e){if(x[e])return x[e].exports;var T=x[e]={i:e,l:!1,exports:{}};return w[e].call(T.exports,T,T.exports,p),T.l=!0,T.exports}return p.m=w,p.c=x,p.d=function(e,T,N){p.o(e,T)||Object.defineProperty(e,T,{enumerable:!0,get:N})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,T){if(1&T&&(e=p(e)),8&T||4&T&&"object"==typeof e&&e&&e.__esModule)return e;var N=Object.create(null);if(p.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:e}),2&T&&"string"!=typeof e)for(var O in e)p.d(N,O,function(j){return e[j]}.bind(null,O));return N},p.n=function(e){var T=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(T,"a",T),T},p.o=function(e,T){return Object.prototype.hasOwnProperty.call(e,T)},p.p="/",p(p.s=89)}([function(w,x){w.exports=function(p,e,T){return e in p?Object.defineProperty(p,e,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[e]=T,p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){function p(e){return w.exports=p=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},w.exports.__esModule=!0,w.exports.default=w.exports,p(e)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){function p(e,T){for(var N=0;N<T.length;N++){var O=T[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(e,O.key,O)}}w.exports=function(e,T,N){return T&&p(e.prototype,T),N&&p(e,N),Object.defineProperty(e,"prototype",{writable:!1}),e},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(20).default,T=p(1);w.exports=function(N,O){if(O&&("object"===e(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return T(N)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(41);w.exports=function(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&e(T,N)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={EPSILON:p(62),create:p(63),clone:p(156),fromValues:p(157),copy:p(158),set:p(159),equals:p(160),exactEquals:p(161),add:p(162),subtract:p(64),sub:p(163),multiply:p(65),mul:p(164),divide:p(66),div:p(165),inverse:p(166),min:p(167),max:p(168),rotate:p(169),floor:p(170),ceil:p(171),round:p(172),scale:p(173),scaleAndAdd:p(174),distance:p(67),dist:p(175),squaredDistance:p(68),sqrDist:p(176),length:p(69),len:p(177),squaredLength:p(70),sqrLen:p(178),negate:p(179),normalize:p(180),dot:p(181),cross:p(182),lerp:p(183),random:p(184),transformMat2:p(185),transformMat2d:p(186),transformMat3:p(187),transformMat4:p(188),forEach:p(189),limit:p(190)}},function(w,x,p){w.exports=p(224)},function(w,x,p){"use strict";x.a={init:function(e,T){for(var N=e.length;N--;)e[N]=T},shuffle:function(e){for(var T=e.length-1;T>=0;T--){var N=Math.floor(Math.random()*T),O=e[T];e[T]=e[N],e[N]=O}return e},toPointList:function(e){var T=e.reduce(function(N,O){var j="[".concat(O.join(","),"]");return N.push(j),N},[]);return"[".concat(T.join(",\r\n"),"]")},threshold:function(e,T,N){return e.reduce(function(O,j){return N.apply(e,[j])>=T&&O.push(j),O},[])},maxIndex:function(e){for(var T=0,N=0;N<e.length;N++)e[N]>e[T]&&(T=N);return T},max:function(e){for(var T=0,N=0;N<e.length;N++)e[N]>T&&(T=e[N]);return T},sum:function(e){for(var T=e.length,N=0;T--;)N+=e[T];return N}}},function(w,x,p){"use strict";p.d(x,"h",function(){return Y}),p.d(x,"i",function(){return fe}),p.d(x,"b",function(){return ut}),p.d(x,"j",function(){return et}),p.d(x,"e",function(){return Je}),p.d(x,"c",function(){return vt}),p.d(x,"f",function(){return _e}),p.d(x,"g",function(){return He}),p.d(x,"a",function(){return _t}),p.d(x,"d",function(){return Qe});var e=p(7),T=p(84),N={clone:e.clone,dot:e.dot},O=function(xe,nt){var Ve=[],ht={rad:0,vec:N.clone([0,0])},ve={};function me(ye){ve[ye.id]=ye,Ve.push(ye)}function re(){var ye,Te=0;for(ye=0;ye<Ve.length;ye++)Te+=Ve[ye].rad;ht.rad=Te/Ve.length,ht.vec=N.clone([Math.cos(ht.rad),Math.sin(ht.rad)])}return me(xe),re(),{add:function(ye){ve[ye.id]||(me(ye),re())},fits:function(ye){return Math.abs(N.dot(ye.point.vec,ht.vec))>nt},getPoints:function(){return Ve},getCenter:function(){return ht}}},j=function(xe,nt,Ve){return{rad:xe[Ve],point:xe,id:nt}},Q=p(9),J={clone:e.clone},ne={clone:T.clone};function Y(xe,nt){return{x:xe,y:nt,toVec2:function(){return J.clone([this.x,this.y])},toVec3:function(){return ne.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ie(xe,nt){nt||(nt=8);for(var Ve=xe.data,ht=Ve.length,ve=8-nt,me=new Int32Array(1<<nt);ht--;)me[Ve[ht]>>ve]++;return me}function fe(xe,nt){var Ve=function(ht){var ve,me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,re=8-me;function ye(Mt,mn){for(var kt=0,wt=Mt;wt<=mn;wt++)kt+=ve[wt];return kt}function Te(Mt,mn){for(var kt=0,wt=Mt;wt<=mn;wt++)kt+=wt*ve[wt];return kt}function Ce(){var Mt,mn,kt,wt,Wt=[0],bn=(1<<me)-1;ve=ie(ht,me);for(var rr=1;rr<bn;rr++)0==(kt=(Mt=ye(0,rr))*(mn=ye(rr+1,bn)))&&(kt=1),wt=Te(0,rr)*mn-Te(rr+1,bn)*Mt,Wt[rr]=wt*wt/kt;return Q.a.maxIndex(Wt)}return Ce()<<re}(xe);return function(ht,ve,me){me||(me=ht);for(var re=ht.data,ye=re.length,Te=me.data;ye--;)Te[ye]=re[ye]<ve?1:0}(xe,Ve,nt),Ve}function ut(xe,nt,Ve){var ht,ve,me,re,ye=[];function Te(Ce){var yt=!1;for(ve=0;ve<ye.length;ve++)(me=ye[ve]).fits(Ce)&&(me.add(Ce),yt=!0);return yt}for(Ve||(Ve="rad"),ht=0;ht<xe.length;ht++)Te(re=j(xe[ht],ht,Ve))||ye.push(O(re,nt));return ye}function et(xe,nt,Ve){var ht,ve,me,re,ye=0,Te=0,Ce=[];for(ht=0;ht<nt;ht++)Ce[ht]={score:0,item:null};for(ht=0;ht<xe.length;ht++)if((ve=Ve.apply(this,[xe[ht]]))>Te)for((me=Ce[ye]).score=ve,me.item=xe[ht],Te=Number.MAX_VALUE,re=0;re<nt;re++)Ce[re].score<Te&&(Te=Ce[re].score,ye=re);return Ce}function Je(xe,nt,Ve){for(var ht,ve=0,me=nt.x,re=Math.floor(xe.length/4),ye=nt.x/2,Te=0,Ce=nt.x;me<re;){for(ht=0;ht<ye;ht++)Ve[Te]=(.299*xe[4*ve+0]+.587*xe[4*ve+1]+.114*xe[4*ve+2]+(.299*xe[4*(ve+1)+0]+.587*xe[4*(ve+1)+1]+.114*xe[4*(ve+1)+2])+(.299*xe[4*me+0]+.587*xe[4*me+1]+.114*xe[4*me+2])+(.299*xe[4*(me+1)+0]+.587*xe[4*(me+1)+1]+.114*xe[4*(me+1)+2]))/4,Te++,ve+=2,me+=2;ve+=Ce,me+=Ce}}function vt(xe,nt,Ve){var ht=xe.length/4|0;if(Ve&&!0===Ve.singleChannel)for(var ve=0;ve<ht;ve++)nt[ve]=xe[4*ve+0];else for(var me=0;me<ht;me++)nt[me]=.299*xe[4*me+0]+.587*xe[4*me+1]+.114*xe[4*me+2]}function _e(xe,nt){for(var Ve=xe.data,ht=xe.size.x,ve=nt.data,me=0,re=ht,ye=Ve.length,Te=ht/2,Ce=0;re<ye;){for(var yt=0;yt<Te;yt++)ve[Ce]=Math.floor((Ve[me]+Ve[me+1]+Ve[re]+Ve[re+1])/4),Ce++,me+=2,re+=2;me+=ht,re+=ht}}function He(xe){var nt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ve=xe[0],ve=xe[2],me=ve*xe[1],re=me*(1-Math.abs(Ve/60%2-1)),ye=ve-me,Te=0,Ce=0,yt=0;return Ve<60?(Te=me,Ce=re):Ve<120?(Te=re,Ce=me):Ve<180?(Ce=me,yt=re):Ve<240?(Ce=re,yt=me):Ve<300?(Te=re,yt=me):Ve<360&&(Te=me,yt=re),nt[0]=255*(Te+ye)|0,nt[1]=255*(Ce+ye)|0,nt[2]=255*(yt+ye)|0,nt}function ke(xe){for(var nt=[],Ve=[],ht=1;ht<Math.sqrt(xe)+1;ht++)xe%ht==0&&(Ve.push(ht),ht!==xe/ht&&nt.unshift(Math.floor(xe/ht)));return Ve.concat(nt)}function _t(xe,nt){var Ve,ht=ke(nt.x),ve=ke(nt.y),me=Math.max(nt.x,nt.y),re=function(kt,wt){for(var Wt=0,bn=0,rr=[];Wt<kt.length&&bn<wt.length;)kt[Wt]===wt[bn]?(rr.push(kt[Wt]),Wt++,bn++):kt[Wt]>wt[bn]?bn++:Wt++;return rr}(ht,ve),ye=[8,10,15,20,32,60,80],Te={"x-small":5,small:4,medium:3,large:2,"x-large":1},Ce=Te[xe]||Te.medium,yt=ye[Ce],Mt=Math.floor(me/yt);function mn(kt){for(var wt=0,Wt=kt[Math.floor(kt.length/2)];wt<kt.length-1&&kt[wt]<Mt;)wt++;return wt>0&&(Wt=Math.abs(kt[wt]-Mt)>Math.abs(kt[wt-1]-Mt)?kt[wt-1]:kt[wt]),Mt/Wt<ye[Ce+1]/ye[Ce]&&Mt/Wt>ye[Ce-1]/ye[Ce]?{x:Wt,y:Wt}:null}return(Ve=mn(re))||(Ve=mn(ke(me)))||(Ve=mn(ke(Mt*yt))),Ve}var $e={top:function(xe,nt){return"%"===xe.unit?Math.floor(nt.height*(xe.value/100)):null},right:function(xe,nt){return"%"===xe.unit?Math.floor(nt.width-nt.width*(xe.value/100)):null},bottom:function(xe,nt){return"%"===xe.unit?Math.floor(nt.height-nt.height*(xe.value/100)):null},left:function(xe,nt){return"%"===xe.unit?Math.floor(nt.width*(xe.value/100)):null}};function Qe(xe,nt,Ve){var ht={width:xe,height:nt},ve=Object.keys(Ve).reduce(function(me,re){var Ce,ye=(Ce=Ve[re],{value:parseFloat(Ce),unit:(Ce.indexOf("%"),"%")}),Te=$e[re](ye,ht);return me[re]=Te,me},{});return{sx:ve.left,sy:ve.top,sw:ve.right-ve.left,sh:ve.bottom-ve.top}}},function(w,x,p){"use strict";var e=p(83),T=p.n(e),N=p(3),O=p.n(N),j=p(4),Q=p.n(j),J=p(0),ne=p.n(J),Y=p(7),ie=p(10),fe=p(9),ut={clone:Y.clone};function et(vt){if(vt<0)throw new Error("expected positive number, received ".concat(vt))}var Je=function(){function vt(_e,He){var ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,_t=arguments.length>3?arguments[3]:void 0;O()(this,vt),ne()(this,"data",void 0),ne()(this,"size",void 0),ne()(this,"indexMapping",void 0),He?this.data=He:(this.data=new ke(_e.x*_e.y),_t&&fe.a.init(this.data,0)),this.size=_e}return Q()(vt,[{key:"inImageWithBorder",value:function(_e){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return et(He),_e.x>=0&&_e.y>=0&&_e.x<this.size.x+2*He&&_e.y<this.size.y+2*He}},{key:"subImageAsCopy",value:function(_e,He){et(He.x),et(He.y);for(var ke=_e.size,_t=ke.x,$e=ke.y,Qe=0;Qe<_t;Qe++)for(var xe=0;xe<$e;xe++)_e.data[xe*_t+Qe]=this.data[(He.y+xe)*this.size.x+He.x+Qe];return _e}},{key:"get",value:function(_e,He){return this.data[He*this.size.x+_e]}},{key:"getSafe",value:function(_e,He){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var ke=0;ke<this.size.x;ke++)this.indexMapping.x[ke]=ke,this.indexMapping.x[ke+this.size.x]=ke;for(var _t=0;_t<this.size.y;_t++)this.indexMapping.y[_t]=_t,this.indexMapping.y[_t+this.size.y]=_t}return this.data[this.indexMapping.y[He+this.size.y]*this.size.x+this.indexMapping.x[_e+this.size.x]]}},{key:"set",value:function(_e,He,ke){return this.data[He*this.size.x+_e]=ke,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var _e=this.size,He=_e.x,ke=_e.y,_t=0;_t<He;_t++)this.data[_t]=this.data[(ke-1)*He+_t]=0;for(var $e=1;$e<ke-1;$e++)this.data[$e*He]=this.data[$e*He+(He-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(_e){var He,ke,_t,$e,Qe,xe,nt,Ve,ht,ve,me=this.data,re=this.size.y,ye=this.size.x,Te=[],Ce=[],yt=Math.PI,Mt=yt/4;if(_e<=0)return Ce;for(Qe=0;Qe<_e;Qe++)Te[Qe]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(ke=0;ke<re;ke++)for($e=ke*ke,He=0;He<ye;He++)(_t=me[ke*ye+He])>0&&((xe=Te[_t-1]).m00+=1,xe.m01+=ke,xe.m10+=He,xe.m11+=He*ke,xe.m02+=$e,xe.m20+=He*He);for(Qe=0;Qe<_e;Qe++)xe=Te[Qe],isNaN(xe.m00)||0===xe.m00||(ve=(xe.m02/xe.m00-(ht=xe.m01/xe.m00)*ht-(xe.m20/xe.m00-(Ve=xe.m10/xe.m00)*Ve))/(2*(nt=xe.m11/xe.m00-Ve*ht)),ve=.5*Math.atan(ve)+(nt>=0?Mt:-Mt)+yt,xe.theta=(180*ve/yt+90)%180-90,xe.theta<0&&(xe.theta+=180),xe.rad=ve>yt?ve-yt:ve,xe.vec=ut.clone([Math.cos(ve),Math.sin(ve)]),Ce.push(xe));return Ce}},{key:"getAsRGBA",value:function(){for(var _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,He=new Uint8ClampedArray(4*this.size.x*this.size.y),ke=0;ke<this.size.y;ke++)for(var _t=0;_t<this.size.x;_t++){var $e=ke*this.size.x+_t,Qe=this.get(_t,ke)*_e;He[4*$e+0]=Qe,He[4*$e+1]=Qe,He[4*$e+2]=Qe,He[4*$e+3]=255}return He}},{key:"show",value:function(_e){var He=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ke=_e.getContext("2d");if(!ke)throw new Error("Unable to get canvas context");var _t=ke.getImageData(0,0,_e.width,_e.height),$e=this.getAsRGBA(He);_e.width=this.size.x,_e.height=this.size.y;var Qe=new ImageData($e,_t.width,_t.height);ke.putImageData(Qe,0,0)}},{key:"overlay",value:function(_e,He,ke){var _t=He<0||He>360?360:He,$e=[0,1,1],Qe=[0,0,0],xe=[255,255,255],nt=[0,0,0],Ve=_e.getContext("2d");if(!Ve)throw new Error("Unable to get canvas context");for(var ht=Ve.getImageData(ke.x,ke.y,this.size.x,this.size.y),ve=ht.data,me=this.data.length;me--;){$e[0]=this.data[me]*_t;var re=4*me,ye=$e[0]<=0?xe:$e[0]>=360?nt:Object(ie.g)($e,Qe),Te=T()(ye,3);ve[re]=Te[0],ve[re+1]=Te[1],ve[re+2]=Te[2],ve[re+3]=255}Ve.putImageData(ht,ke.x,ke.y)}}]),vt}();x.a=Je},function(w,x){function p(e,T,N,O,j,Q,J){try{var ne=e[Q](J),Y=ne.value}catch(ie){return void N(ie)}ne.done?T(Y):Promise.resolve(Y).then(O,j)}w.exports=function(e){return function(){var T=this,N=arguments;return new Promise(function(O,j){var Q=e.apply(T,N);function J(Y){p(Q,O,j,J,ne,"next",Y)}function ne(Y){p(Q,O,j,J,ne,"throw",Y)}J(void 0)})}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(225);function T(){return"undefined"!=typeof Reflect&&Reflect.get?(w.exports=T=Reflect.get,w.exports.__esModule=!0,w.exports.default=w.exports):(w.exports=T=function(N,O,j){var Q=e(N,O);if(Q){var J=Object.getOwnPropertyDescriptor(Q,O);return J.get?J.get.call(arguments.length<3?N:j):J.value}},w.exports.__esModule=!0,w.exports.default=w.exports),T.apply(this,arguments)}w.exports=T,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){var e=typeof p;return null!=p&&("object"==e||"function"==e)}},function(w,x){w.exports=Array.isArray},function(w,x,p){"use strict";x.a={drawRect:function(e,T,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth||1,N.beginPath(),N.strokeRect(e.x,e.y,T.x,T.y)},drawPath:function(e,T,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth,N.beginPath(),N.moveTo(e[0][T.x],e[0][T.y]);for(var j=1;j<e.length;j++)N.lineTo(e[j][T.x],e[j][T.y]);N.closePath(),N.stroke()},drawImage:function(e,T,N){var O=N.getImageData(0,0,T.x,T.y),j=O.data,Q=j.length,J=e.length;if(Q/J!=4)return!1;for(;J--;){var ne=e[J];j[--Q]=255,j[--Q]=ne,j[--Q]=ne,j[--Q]=ne}return N.putImageData(O,0,0),!0}}},function(w,x,p){var e=p(90),T=p(145)(function(N,O,j){e(N,O,j)});w.exports=T},function(w,x,p){var e=p(45),T="object"==typeof self&&self&&self.Object===Object&&self,N=e||T||Function("return this")();w.exports=N},function(w,x){w.exports=function(p){return null!=p&&"object"==typeof p}},function(w,x){function p(e){return w.exports=p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},w.exports.__esModule=!0,w.exports.default=w.exports,p(e)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){"use strict";x.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,T){var N,O=e.data,j=T.data,Q=this.searchDirections,J=e.size.x;function ne(ie,fe,ut,et){var Je,vt,_e;for(Je=0;Je<7;Je++){if(O[N=(vt=ie.cy+Q[ie.dir][0])*J+(_e=ie.cx+Q[ie.dir][1])]===fe&&(0===j[N]||j[N]===ut))return j[N]=ut,ie.cy=vt,ie.cx=_e,!0;0===j[N]&&(j[N]=et),ie.dir=(ie.dir+1)%8}return!1}function Y(ie,fe,ut){return{dir:ut,x:ie,y:fe,next:null,prev:null}}return{trace:function(ie,fe,ut,et){return ne(ie,fe,ut,et)},contourTracing:function(ie,fe,ut,et,Je){return function(vt,_e,He,ke,_t){var $e,Qe,xe,nt=null,Ve={cx:_e,cy:vt,dir:0};if(ne(Ve,ke,He,_t)){$e=nt=Y(_e,vt,Ve.dir),xe=Ve.dir,(Qe=Y(Ve.cx,Ve.cy,0)).prev=$e,$e.next=Qe,Qe.next=null,$e=Qe;do{Ve.dir=(Ve.dir+6)%8,ne(Ve,ke,He,_t),xe!==Ve.dir?($e.dir=Ve.dir,(Qe=Y(Ve.cx,Ve.cy,0)).prev=$e,$e.next=Qe,Qe.next=null,$e=Qe):($e.dir=xe,$e.x=Ve.cx,$e.y=Ve.cy),xe=Ve.dir}while(Ve.cx!==_e||Ve.cy!==vt);nt.prev=$e.prev,$e.prev.next=nt}return nt}(ie,fe,ut,et,Je)}}}}},function(w,x,p){var e=p(27),T=p(103),N=p(104),O=e?e.toStringTag:void 0;w.exports=function(j){return null==j?void 0===j?"[object Undefined]":"[object Null]":O&&O in Object(j)?T(j):N(j)}},function(w,x,p){"use strict";(function(e){var T,N,O,j,Q,J,ne,Y,ie,fe,ut,et,Je=p(7),vt=p(34),_e=p(11),He=p(10),ke=p(9),_t=(p(16),p(87)),$e=p(21),Qe=p(88),xe={ctx:{binary:null},dom:{binary:null}},nt={x:0,y:0};function Ve(me){var re,ye,Te,Ce,yt,Mt,mn,kt=ie.size.x,wt=ie.size.y,Wt=-ie.size.x,bn=-ie.size.y;for(re=0,ye=0;ye<me.length;ye++)re+=(Ce=me[ye]).rad;for((re=(180*(re/=me.length)/Math.PI+90)%180-90)<0&&(re+=180),re=(180-re)*Math.PI/180,yt=vt.copy(vt.create(),[Math.cos(re),Math.sin(re),-Math.sin(re),Math.cos(re)]),ye=0;ye<me.length;ye++)for(Ce=me[ye],Te=0;Te<4;Te++)Je.transformMat2(Ce.box[Te],Ce.box[Te],yt);for(ye=0;ye<me.length;ye++)for(Ce=me[ye],Te=0;Te<4;Te++)Ce.box[Te][0]<kt&&(kt=Ce.box[Te][0]),Ce.box[Te][0]>Wt&&(Wt=Ce.box[Te][0]),Ce.box[Te][1]<wt&&(wt=Ce.box[Te][1]),Ce.box[Te][1]>bn&&(bn=Ce.box[Te][1]);for(Mt=[[kt,wt],[Wt,wt],[Wt,bn],[kt,bn]],mn=T.halfSample?2:1,yt=vt.invert(yt,yt),Te=0;Te<4;Te++)Je.transformMat2(Mt[Te],Mt[Te],yt);for(Te=0;Te<4;Te++)Je.scale(Mt[Te],Mt[Te],mn);return Mt}function ht(me,re){ie.subImageAsCopy(j,Object(He.h)(me,re)),et.skeletonize()}function ve(me,re,ye,Te){var Ce,yt,Mt,mn,kt=[],wt=[],Wt=Math.ceil(fe.x/3);if(me.length>=2){for(Ce=0;Ce<me.length;Ce++)me[Ce].m00>Wt&&kt.push(me[Ce]);if(kt.length>=2){for(Mt=function(bn){var rr=Object(He.b)(bn,.9),$n=Object(He.j)(rr,1,function(ni){return ni.getPoints().length}),wr=[],br=[];if(1===$n.length){wr=$n[0].item.getPoints();for(var vr=0;vr<wr.length;vr++)br.push(wr[vr].point)}return br}(kt),yt=0,Ce=0;Ce<Mt.length;Ce++)yt+=Mt[Ce].rad;Mt.length>1&&Mt.length>=kt.length/4*3&&Mt.length>me.length/4&&(yt/=Mt.length,mn={index:re[1]*nt.x+re[0],pos:{x:ye,y:Te},box:[Je.clone([ye,Te]),Je.clone([ye+j.size.x,Te]),Je.clone([ye+j.size.x,Te+j.size.y]),Je.clone([ye,Te+j.size.y])],moments:Mt,rad:yt,vec:Je.clone([Math.cos(yt),Math.sin(yt)])},wt.push(mn))}}return wt}x.a={init:function(me,re){T=re,ut=me,function(){N=T.halfSample?new _e.a({x:ut.size.x/2|0,y:ut.size.y/2|0}):ut,fe=Object(He.a)(T.patchSize,N.size),nt.x=N.size.x/fe.x|0,nt.y=N.size.y/fe.y|0,ie=new _e.a(N.size,void 0,Uint8Array,!1),Q=new _e.a(fe,void 0,Array,!0);var ye=new ArrayBuffer(65536);j=new _e.a(fe,new Uint8Array(ye,0,fe.x*fe.y)),O=new _e.a(fe,new Uint8Array(ye,fe.x*fe.y*3,fe.x*fe.y),void 0,!0),et=Object(Qe.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:fe.x},ye),Y=new _e.a({x:N.size.x/j.size.x|0,y:N.size.y/j.size.y|0},void 0,Array,!0),J=new _e.a(Y.size,void 0,void 0,!0),ne=new _e.a(Y.size,void 0,Int32Array,!0)}(),T.useWorker||"undefined"==typeof document||(xe.dom.binary=document.createElement("canvas"),xe.dom.binary.className="binaryBuffer",xe.ctx.binary=xe.dom.binary.getContext("2d"),xe.dom.binary.width=ie.size.x,xe.dom.binary.height=ie.size.y)},locate:function(){T.halfSample&&Object(He.f)(ut,N),Object(He.i)(N,ie),ie.zeroBorder();var me=function(){var Te,Ce,yt,Mt,mn,kt,wt=[];for(Te=0;Te<nt.x;Te++)for(Ce=0;Ce<nt.y;Ce++)ht(yt=j.size.x*Te,Mt=j.size.y*Ce),O.zeroBorder(),ke.a.init(Q.data,0),kt=_t.a.create(O,Q).rasterize(0),mn=Q.moments(kt.count),wt=wt.concat(ve(mn,[Te,Ce],yt,Mt));return wt}();if(me.length<nt.x*nt.y*.05)return null;var re=function(Te){var Ce,yt,Mt=0,mn=0;function kt(){var Wt;for(Wt=0;Wt<ne.data.length;Wt++)if(0===ne.data[Wt]&&1===J.data[Wt])return Wt;return ne.length}function wt(Wt){var $n,wr,br,vr=Wt%ne.size.x,ni=Wt/ne.size.x|0;if(Wt<ne.data.length)for($n=Y.data[Wt],ne.data[Wt]=Mt,br=0;br<$e.a.searchDirections.length;br++)0!==J.data[wr=(ni+$e.a.searchDirections[br][0])*ne.size.x+(vr+$e.a.searchDirections[br][1])]?0===ne.data[wr]&&Math.abs(Je.dot(Y.data[wr].vec,$n.vec))>.95&&wt(wr):ne.data[wr]=Number.MAX_VALUE}for(ke.a.init(J.data,0),ke.a.init(ne.data,0),ke.a.init(Y.data,null),Ce=0;Ce<Te.length;Ce++)Y.data[(yt=Te[Ce]).index]=yt,J.data[yt.index]=1;for(J.zeroBorder();(mn=kt())<ne.data.length;)Mt++,wt(mn);return Mt}(me);if(re<1)return null;var ye=function(Te){var Ce,yt,Mt=[];for(Ce=0;Ce<Te;Ce++)Mt.push(0);for(yt=ne.data.length;yt--;)ne.data[yt]>0&&Mt[ne.data[yt]-1]++;return(Mt=Mt.map(function(mn,kt){return{val:mn,label:kt+1}})).sort(function(mn,kt){return kt.val-mn.val}),Mt.filter(function(mn){return mn.val>=5})}(re);return 0===ye.length?null:function(Te,Ce){var yt,Mt,kt,wt=[],Wt=[];for(yt=0;yt<Te.length;yt++){for(Mt=ne.data.length,wt.length=0;Mt--;)ne.data[Mt]===Te[yt].label&&wt.push(Y.data[Mt]);(kt=Ve(wt))&&Wt.push(kt)}return Wt}(ye)},checkImageConstraints:function(me,re){var ye,Te,Ce=me.getWidth(),yt=me.getHeight(),Mt=re.halfSample?.5:1;me.getConfig().area&&(Te=Object(He.d)(Ce,yt,me.getConfig().area),me.setTopRight({x:Te.sx,y:Te.sy}),me.setCanvasSize({x:Ce,y:yt}),Ce=Te.sw,yt=Te.sh);var mn={x:Math.floor(Ce*Mt),y:Math.floor(yt*Mt)};if(ye=Object(He.a)(re.patchSize,mn),me.setWidth(Math.floor(Math.floor(mn.x/ye.x)*(1/Mt)*ye.x)),me.setHeight(Math.floor(Math.floor(mn.y/ye.y)*(1/Mt)*ye.y)),me.getWidth()%ye.x==0&&me.getHeight()%ye.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(Ce," )and height (").concat(yt,") must a multiple of ").concat(ye.x))}}}).call(this,p(46))},function(w,x,p){var e=p(92),T=p(93),N=p(94),O=p(95),j=p(96);function Q(J){var ne=-1,Y=null==J?0:J.length;for(this.clear();++ne<Y;){var ie=J[ne];this.set(ie[0],ie[1])}}Q.prototype.clear=e,Q.prototype.delete=T,Q.prototype.get=N,Q.prototype.has=O,Q.prototype.set=j,w.exports=Q},function(w,x,p){var e=p(26);w.exports=function(T,N){for(var O=T.length;O--;)if(e(T[O][0],N))return O;return-1}},function(w,x){w.exports=function(p,e){return p===e||p!=p&&e!=e}},function(w,x,p){var e=p(18).Symbol;w.exports=e},function(w,x,p){var e=p(35)(Object,"create");w.exports=e},function(w,x,p){var e=p(117);w.exports=function(T,N){var O=T.__data__;return e(N)?O["string"==typeof N?"string":"hash"]:O.map}},function(w,x,p){var e=p(132),T=p(19),N=Object.prototype,O=N.hasOwnProperty,j=N.propertyIsEnumerable,Q=e(function(){return arguments}())?e:function(J){return T(J)&&O.call(J,"callee")&&!j.call(J,"callee")};w.exports=Q},function(w,x){var p=/^(?:0|[1-9]\d*)$/;w.exports=function(e,T){var N=typeof e;return!!(T=null==T?9007199254740991:T)&&("number"==N||"symbol"!=N&&p.test(e))&&e>-1&&e%1==0&&e<T}},function(w,x,p){var e=p(15),T=p(232),N=p(233),O=p(236);w.exports=function(j,Q){return e(j)?j:T(j,Q)?[j]:N(O(j))}},function(w,x,p){var e=p(226),T=p(227),N=p(60),O=p(228);w.exports=function(j){return e(j)||T(j)||N(j)||O()},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={determinant:p(251),transpose:p(252),multiply:p(253),identity:p(254),adjoint:p(255),rotate:p(256),invert:p(257),create:p(258),scale:p(259),copy:p(260),frob:p(261),ldu:p(262)}},function(w,x,p){var e=p(102),T=p(108);w.exports=function(N,O){var j=T(N,O);return e(j)?j:void 0}},function(w,x,p){var e=p(22),T=p(14);w.exports=function(N){if(!T(N))return!1;var O=e(N);return"[object Function]"==O||"[object GeneratorFunction]"==O||"[object AsyncFunction]"==O||"[object Proxy]"==O}},function(w,x,p){var e=p(49);w.exports=function(T,N,O){"__proto__"==N&&e?e(T,N,{configurable:!0,enumerable:!0,value:O,writable:!0}):T[N]=O}},function(w,x){w.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(w,x,p){var e=p(36),T=p(40);w.exports=function(N){return null!=N&&T(N.length)&&!e(N)}},function(w,x){w.exports=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991}},function(w,x){function p(e,T){return w.exports=p=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N},w.exports.__esModule=!0,w.exports.default=w.exports,p(e,T)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(22),T=p(19);w.exports=function(N){return"symbol"==typeof N||T(N)&&"[object Symbol]"==e(N)}},function(w,x,p){var e=p(42);w.exports=function(T){if("string"==typeof T||e(T))return T;var N=T+"";return"0"==N&&1/T==-1/0?"-0":N}},function(w,x,p){var e=p(35)(p(18),"Map");w.exports=e},function(w,x,p){(function(e){w.exports="object"==typeof e&&e&&e.Object===Object&&e}).call(this,p(46))},function(w,x){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(e){"object"==typeof window&&(p=window)}w.exports=p},function(w,x,p){var e=p(109),T=p(116),N=p(118),O=p(119),j=p(120);function Q(J){var ne=-1,Y=null==J?0:J.length;for(this.clear();++ne<Y;){var ie=J[ne];this.set(ie[0],ie[1])}}Q.prototype.clear=e,Q.prototype.delete=T,Q.prototype.get=N,Q.prototype.has=O,Q.prototype.set=j,w.exports=Q},function(w,x,p){var e=p(37),T=p(26);w.exports=function(N,O,j){(void 0!==j&&!T(N[O],j)||void 0===j&&!(O in N))&&e(N,O,j)}},function(w,x,p){var e=p(35),T=function(){try{var N=e(Object,"defineProperty");return N({},"",{}),N}catch(O){}}();w.exports=T},function(w,x,p){var e=p(131)(Object.getPrototypeOf,Object);w.exports=e},function(w,x){var p=Object.prototype;w.exports=function(e){var T=e&&e.constructor;return e===("function"==typeof T&&T.prototype||p)}},function(w,x,p){(function(e){var T=p(18),N=p(134),O=x&&!x.nodeType&&x,j=O&&"object"==typeof e&&e&&!e.nodeType&&e,Q=j&&j.exports===O?T.Buffer:void 0;e.exports=(Q?Q.isBuffer:void 0)||N}).call(this,p(38)(w))},function(w,x,p){var e=p(136),T=p(137),N=p(138),O=N&&N.isTypedArray,j=O?T(O):e;w.exports=j},function(w,x){w.exports=function(p,e){if(("constructor"!==e||"function"!=typeof p[e])&&"__proto__"!=e)return p[e]}},function(w,x,p){var e=p(37),T=p(26),N=Object.prototype.hasOwnProperty;w.exports=function(O,j,Q){var J=O[j];N.call(O,j)&&T(J,Q)&&(void 0!==Q||j in O)||e(O,j,Q)}},function(w,x,p){var e=p(141),T=p(143),N=p(39);w.exports=function(O){return N(O)?e(O,!0):T(O)}},function(w,x){w.exports=function(p){return p}},function(w,x,p){var e=p(147),T=Math.max;w.exports=function(N,O,j){return O=T(void 0===O?N.length-1:O,0),function(){for(var Q=arguments,J=-1,ne=T(Q.length-O,0),Y=Array(ne);++J<ne;)Y[J]=Q[O+J];J=-1;for(var ie=Array(O+1);++J<O;)ie[J]=Q[J];return ie[O]=j(Y),e(N,this,ie)}}},function(w,x,p){var e=p(148),T=p(150)(e);w.exports=T},function(w,x,p){var e=p(61);w.exports=function(T,N){if(T){if("string"==typeof T)return e(T,N);var O=Object.prototype.toString.call(T).slice(8,-1);return"Object"===O&&T.constructor&&(O=T.constructor.name),"Map"===O||"Set"===O?Array.from(T):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?e(T,N):void 0}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){(null==e||e>p.length)&&(e=p.length);for(var T=0,N=new Array(e);T<e;T++)N[T]=p[T];return N},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=1e-6},function(w,x){w.exports=function(){var p=new Float32Array(2);return p[0]=0,p[1]=0,p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]-T[0],p[1]=e[1]-T[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T[0],p[1]=e[1]*T[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]/T[0],p[1]=e[1]/T[1],p}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1];return Math.sqrt(T*T+N*N)}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1];return T*T+N*N}},function(w,x){w.exports=function(p){var e=p[0],T=p[1];return Math.sqrt(e*e+T*T)}},function(w,x){w.exports=function(p){var e=p[0],T=p[1];return e*e+T*T}},function(w,x){w.exports=1e-6},function(w,x){w.exports=function(){var p=new Float32Array(3);return p[0]=0,p[1]=0,p[2]=0,p}},function(w,x){w.exports=function(p,e,T){var N=new Float32Array(3);return N[0]=p,N[1]=e,N[2]=T,N}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=e[2],j=T*T+N*N+O*O;return j>0&&(j=1/Math.sqrt(j),p[0]=e[0]*j,p[1]=e[1]*j,p[2]=e[2]*j),p}},function(w,x){w.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]+p[2]*e[2]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]-T[0],p[1]=e[1]-T[1],p[2]=e[2]-T[2],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T[0],p[1]=e[1]*T[1],p[2]=e[2]*T[2],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]/T[0],p[1]=e[1]/T[1],p[2]=e[2]/T[2],p}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return Math.sqrt(T*T+N*N+O*O)}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return T*T+N*N+O*O}},function(w,x){w.exports=function(p){var e=p[0],T=p[1],N=p[2];return Math.sqrt(e*e+T*T+N*N)}},function(w,x){w.exports=function(p){var e=p[0],T=p[1],N=p[2];return e*e+T*T+N*N}},function(w,x,p){var e=p(153),T=p(154),N=p(60),O=p(155);w.exports=function(j,Q){return e(j)||T(j,Q)||N(j,Q)||O()},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={EPSILON:p(71),create:p(72),clone:p(191),angle:p(192),fromValues:p(73),copy:p(193),set:p(194),equals:p(195),exactEquals:p(196),add:p(197),subtract:p(76),sub:p(198),multiply:p(77),mul:p(199),divide:p(78),div:p(200),min:p(201),max:p(202),floor:p(203),ceil:p(204),round:p(205),scale:p(206),scaleAndAdd:p(207),distance:p(79),dist:p(208),squaredDistance:p(80),sqrDist:p(209),length:p(81),len:p(210),squaredLength:p(82),sqrLen:p(211),negate:p(212),inverse:p(213),normalize:p(74),dot:p(75),cross:p(214),lerp:p(215),random:p(216),transformMat4:p(217),transformMat3:p(218),transformQuat:p(219),rotateX:p(220),rotateY:p(221),rotateZ:p(222),forEach:p(223)}},function(w,x,p){var e=p(229),T=p(243)(function(N,O){return null==N?{}:e(N,O)});w.exports=T},function(w,x,p){var e=p(2),T=p(41),N=p(248),O=p(249);function j(Q){var J="function"==typeof Map?new Map:void 0;return w.exports=j=function(ne){if(null===ne||!N(ne))return ne;if("function"!=typeof ne)throw new TypeError("Super expression must either be null or a function");if(void 0!==J){if(J.has(ne))return J.get(ne);J.set(ne,Y)}function Y(){return O(ne,arguments,e(this).constructor)}return Y.prototype=Object.create(ne.prototype,{constructor:{value:Y,enumerable:!1,writable:!0,configurable:!0}}),T(Y,ne)},w.exports.__esModule=!0,w.exports.default=w.exports,j(Q)}w.exports=j,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){"use strict";var e=p(21),T={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,O){var j=N.data,Q=O.data,J=N.size.x,ne=N.size.y,Y=e.a.create(N,O);return{rasterize:function(ie){var fe,ut,et,Je,vt,_e,He,ke,_t,$e,Qe,xe,nt=[],Ve=0;for(xe=0;xe<400;xe++)nt[xe]=0;for(nt[0]=j[0],_t=null,_e=1;_e<ne-1;_e++)for(Je=0,ut=nt[0],vt=1;vt<J-1;vt++)if(0===Q[Qe=_e*J+vt])if((fe=j[Qe])!==ut){if(0===Je)nt[et=Ve+1]=fe,ut=fe,null!==(He=Y.contourTracing(_e,vt,et,fe,T.DIR.OUTSIDE_EDGE))&&(Ve++,Je=et,(ke=T.createContour2D()).dir=T.CONTOUR_DIR.CW_DIR,ke.index=Je,ke.firstVertex=He,ke.nextpeer=_t,ke.insideContours=null,null!==_t&&(_t.prevpeer=ke),_t=ke);else if(null!==(He=Y.contourTracing(_e,vt,T.DIR.INSIDE_EDGE,fe,Je))){for((ke=T.createContour2D()).firstVertex=He,ke.insideContours=null,ke.dir=0===ie?T.CONTOUR_DIR.CCW_DIR:T.CONTOUR_DIR.CW_DIR,ke.index=ie,$e=_t;null!==$e&&$e.index!==Je;)$e=$e.nextpeer;null!==$e&&(ke.nextpeer=$e.insideContours,null!==$e.insideContours&&($e.insideContours.prevpeer=ke),$e.insideContours=ke)}}else Q[Qe]=Je;else Q[Qe]===T.DIR.OUTSIDE_EDGE||Q[Qe]===T.DIR.INSIDE_EDGE?(Je=0,ut=Q[Qe]===T.DIR.INSIDE_EDGE?j[Qe]:nt[0]):ut=nt[Je=Q[Qe]];for($e=_t;null!==$e;)$e.index=ie,$e=$e.nextpeer;return{cc:_t,count:Ve}},debug:{drawContour:function(ie,fe){var ut,et,Je,vt=ie.getContext("2d"),_e=fe;for(vt.strokeStyle="red",vt.fillStyle="red",vt.lineWidth=1,ut=null!==_e?_e.insideContours:null;null!==_e;){switch(null!==ut?(et=ut,ut=ut.nextpeer):(et=_e,ut=null!==(_e=_e.nextpeer)?_e.insideContours:null),et.dir){case T.CONTOUR_DIR.CW_DIR:vt.strokeStyle="red";break;case T.CONTOUR_DIR.CCW_DIR:vt.strokeStyle="blue";break;case T.CONTOUR_DIR.UNKNOWN_DIR:vt.strokeStyle="green"}Je=et.firstVertex,vt.beginPath(),vt.moveTo(Je.x,Je.y);do{vt.lineTo((Je=Je.next).x,Je.y)}while(Je!==et.firstVertex);vt.stroke()}}}}}};x.a=T},function(w,x,p){"use strict";x.a=function(e,T,N){var O=new e.Uint8Array(N),j=0|T.size,Q=e.Math.imul;function J(_e,He){_e|=0,He|=0;var ke=0,_t=0,Qe=0,xe=0,nt=0,Ve=0,ht=0;for(ke=1;(0|ke)<(j-1|0);ke=ke+1|0)for(ht=ht+j|0,_t=1;(0|_t)<(j-1|0);_t=_t+1|0)O[He+ht+_t|0]=5==(0|(0|O[_e+(Qe=ht-j|0)+(nt=_t-1|0)|0])+(0|O[_e+Qe+(Ve=_t+1|0)|0])+(0|O[_e+ht+_t|0])+(0|O[_e+(xe=ht+j|0)+nt|0])+(0|O[_e+xe+Ve|0]))?1:0}function ne(_e,He,ke){_e|=0,He|=0,ke|=0;var _t=0;for(_t=0|Q(j,j);(0|_t)>0;)O[ke+(_t=_t-1|0)|0]=(0|O[_e+_t|0])-(0|O[He+_t|0])|0}function Y(_e,He,ke){_e|=0,He|=0,ke|=0;var _t=0;for(_t=0|Q(j,j);(0|_t)>0;)O[ke+(_t=_t-1|0)|0]=0|O[_e+_t|0]|O[He+_t|0]|0}function ie(_e){_e|=0;var He=0,ke=0;for(ke=0|Q(j,j);(0|ke)>0;)He=(0|He)+(0|O[_e+(ke=ke-1|0)|0])|0;return 0|He}function ut(_e,He){_e|=0,He|=0;var ke=0,_t=0,Qe=0,xe=0,nt=0,Ve=0,ht=0;for(ke=1;(0|ke)<(j-1|0);ke=ke+1|0)for(ht=ht+j|0,_t=1;(0|_t)<(j-1|0);_t=_t+1|0)O[He+ht+_t|0]=(0|(0|O[_e+(Qe=ht-j|0)+(nt=_t-1|0)|0])+(0|O[_e+Qe+(Ve=_t+1|0)|0])+(0|O[_e+ht+_t|0])+(0|O[_e+(xe=ht+j|0)+nt|0])+(0|O[_e+xe+Ve|0]))>0?1:0}function et(_e,He){_e|=0,He|=0;var ke=0;for(ke=0|Q(j,j);(0|ke)>0;)O[He+(ke=ke-1|0)|0]=0|O[_e+ke|0]}return{skeletonize:function vt(){var He,ke,_t,Qe=0;(function fe(_e,He){_e|=0,He|=0;var ke=0;for(ke=0|Q(j,j);(0|ke)>0;)O[_e+(ke=ke-1|0)|0]=He})(_t=(ke=(He=0|Q(j,j))+He|0)+He|0,0),function Je(_e){_e|=0;var He=0,ke=0;for(He=0;(0|He)<(j-1|0);He=He+1|0)O[_e+He|0]=0,O[_e+ke|0]=0,O[_e+(ke=ke+j-1|0)|0]=0,ke=ke+1|0;for(He=0;(0|He)<(0|j);He=He+1|0)O[_e+ke|0]=0,ke=ke+1|0}(0);do{J(0,He),ut(He,ke),ne(0,ke,ke),Y(_t,ke,_t),et(He,0),Qe=0==(0|ie(0))|0}while(!Qe)}}}},function(w,x,p){w.exports=p(263)},function(w,x,p){var e=p(91),T=p(48),N=p(121),O=p(123),j=p(14),Q=p(56),J=p(54);w.exports=function ne(Y,ie,fe,ut,et){Y!==ie&&N(ie,function(Je,vt){if(et||(et=new e),j(Je))O(Y,ie,vt,fe,ne,ut,et);else{var _e=ut?ut(J(Y,vt),Je,vt+"",Y,ie,et):void 0;void 0===_e&&(_e=Je),T(Y,vt,_e)}},Q)}},function(w,x,p){var e=p(24),T=p(97),N=p(98),O=p(99),j=p(100),Q=p(101);function J(ne){var Y=this.__data__=new e(ne);this.size=Y.size}J.prototype.clear=T,J.prototype.delete=N,J.prototype.get=O,J.prototype.has=j,J.prototype.set=Q,w.exports=J},function(w,x){w.exports=function(){this.__data__=[],this.size=0}},function(w,x,p){var e=p(25),T=Array.prototype.splice;w.exports=function(N){var O=this.__data__,j=e(O,N);return!(j<0||(j==O.length-1?O.pop():T.call(O,j,1),--this.size,0))}},function(w,x,p){var e=p(25);w.exports=function(T){var N=this.__data__,O=e(N,T);return O<0?void 0:N[O][1]}},function(w,x,p){var e=p(25);w.exports=function(T){return e(this.__data__,T)>-1}},function(w,x,p){var e=p(25);w.exports=function(T,N){var O=this.__data__,j=e(O,T);return j<0?(++this.size,O.push([T,N])):O[j][1]=N,this}},function(w,x,p){var e=p(24);w.exports=function(){this.__data__=new e,this.size=0}},function(w,x){w.exports=function(p){var e=this.__data__,T=e.delete(p);return this.size=e.size,T}},function(w,x){w.exports=function(p){return this.__data__.get(p)}},function(w,x){w.exports=function(p){return this.__data__.has(p)}},function(w,x,p){var e=p(24),T=p(44),N=p(47);w.exports=function(O,j){var Q=this.__data__;if(Q instanceof e){var J=Q.__data__;if(!T||J.length<199)return J.push([O,j]),this.size=++Q.size,this;Q=this.__data__=new N(J)}return Q.set(O,j),this.size=Q.size,this}},function(w,x,p){var e=p(36),T=p(105),N=p(14),O=p(107),j=/^\[object .+?Constructor\]$/,ie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function(fe){return!(!N(fe)||T(fe))&&(e(fe)?ie:j).test(O(fe))}},function(w,x,p){var e=p(27),T=Object.prototype,N=T.hasOwnProperty,O=T.toString,j=e?e.toStringTag:void 0;w.exports=function(Q){var J=N.call(Q,j),ne=Q[j];try{Q[j]=void 0;var Y=!0}catch(fe){}var ie=O.call(Q);return Y&&(J?Q[j]=ne:delete Q[j]),ie}},function(w,x){var p=Object.prototype.toString;w.exports=function(e){return p.call(e)}},function(w,x,p){var e,T=p(106),N=(e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";w.exports=function(O){return!!N&&N in O}},function(w,x,p){var e=p(18)["__core-js_shared__"];w.exports=e},function(w,x){var p=Function.prototype.toString;w.exports=function(e){if(null!=e){try{return p.call(e)}catch(T){}try{return e+""}catch(T){}}return""}},function(w,x){w.exports=function(p,e){return null==p?void 0:p[e]}},function(w,x,p){var e=p(110),T=p(24),N=p(44);w.exports=function(){this.size=0,this.__data__={hash:new e,map:new(N||T),string:new e}}},function(w,x,p){var e=p(111),T=p(112),N=p(113),O=p(114),j=p(115);function Q(J){var ne=-1,Y=null==J?0:J.length;for(this.clear();++ne<Y;){var ie=J[ne];this.set(ie[0],ie[1])}}Q.prototype.clear=e,Q.prototype.delete=T,Q.prototype.get=N,Q.prototype.has=O,Q.prototype.set=j,w.exports=Q},function(w,x,p){var e=p(28);w.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(w,x){w.exports=function(p){var e=this.has(p)&&delete this.__data__[p];return this.size-=e?1:0,e}},function(w,x,p){var e=p(28),T=Object.prototype.hasOwnProperty;w.exports=function(N){var O=this.__data__;if(e){var j=O[N];return"__lodash_hash_undefined__"===j?void 0:j}return T.call(O,N)?O[N]:void 0}},function(w,x,p){var e=p(28),T=Object.prototype.hasOwnProperty;w.exports=function(N){var O=this.__data__;return e?void 0!==O[N]:T.call(O,N)}},function(w,x,p){var e=p(28);w.exports=function(T,N){var O=this.__data__;return this.size+=this.has(T)?0:1,O[T]=e&&void 0===N?"__lodash_hash_undefined__":N,this}},function(w,x,p){var e=p(29);w.exports=function(T){var N=e(this,T).delete(T);return this.size-=N?1:0,N}},function(w,x){w.exports=function(p){var e=typeof p;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==p:null===p}},function(w,x,p){var e=p(29);w.exports=function(T){return e(this,T).get(T)}},function(w,x,p){var e=p(29);w.exports=function(T){return e(this,T).has(T)}},function(w,x,p){var e=p(29);w.exports=function(T,N){var O=e(this,T),j=O.size;return O.set(T,N),this.size+=O.size==j?0:1,this}},function(w,x,p){var e=p(122)();w.exports=e},function(w,x){w.exports=function(p){return function(e,T,N){for(var O=-1,j=Object(e),Q=N(e),J=Q.length;J--;){var ne=Q[p?J:++O];if(!1===T(j[ne],ne,j))break}return e}}},function(w,x,p){var e=p(48),T=p(124),N=p(125),O=p(128),j=p(129),Q=p(30),J=p(15),ne=p(133),Y=p(52),ie=p(36),fe=p(14),ut=p(135),et=p(53),Je=p(54),vt=p(139);w.exports=function(_e,He,ke,_t,$e,Qe,xe){var nt=Je(_e,ke),Ve=Je(He,ke),ht=xe.get(Ve);if(ht)e(_e,ke,ht);else{var ve=Qe?Qe(nt,Ve,ke+"",_e,He,xe):void 0,me=void 0===ve;if(me){var re=J(Ve),ye=!re&&Y(Ve),Te=!re&&!ye&&et(Ve);ve=Ve,re||ye||Te?J(nt)?ve=nt:ne(nt)?ve=O(nt):ye?(me=!1,ve=T(Ve,!0)):Te?(me=!1,ve=N(Ve,!0)):ve=[]:ut(Ve)||Q(Ve)?(ve=nt,Q(nt)?ve=vt(nt):fe(nt)&&!ie(nt)||(ve=j(Ve))):me=!1}me&&(xe.set(Ve,ve),$e(ve,Ve,_t,Qe,xe),xe.delete(Ve)),e(_e,ke,ve)}}},function(w,x,p){(function(e){var T=p(18),N=x&&!x.nodeType&&x,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,j=O&&O.exports===N?T.Buffer:void 0,Q=j?j.allocUnsafe:void 0;e.exports=function(J,ne){if(ne)return J.slice();var Y=J.length,ie=Q?Q(Y):new J.constructor(Y);return J.copy(ie),ie}}).call(this,p(38)(w))},function(w,x,p){var e=p(126);w.exports=function(T,N){var O=N?e(T.buffer):T.buffer;return new T.constructor(O,T.byteOffset,T.length)}},function(w,x,p){var e=p(127);w.exports=function(T){var N=new T.constructor(T.byteLength);return new e(N).set(new e(T)),N}},function(w,x,p){var e=p(18).Uint8Array;w.exports=e},function(w,x){w.exports=function(p,e){var T=-1,N=p.length;for(e||(e=Array(N));++T<N;)e[T]=p[T];return e}},function(w,x,p){var e=p(130),T=p(50),N=p(51);w.exports=function(O){return"function"!=typeof O.constructor||N(O)?{}:e(T(O))}},function(w,x,p){var e=p(14),T=Object.create,N=function(){function O(){}return function(j){if(!e(j))return{};if(T)return T(j);O.prototype=j;var Q=new O;return O.prototype=void 0,Q}}();w.exports=N},function(w,x){w.exports=function(p,e){return function(T){return p(e(T))}}},function(w,x,p){var e=p(22),T=p(19);w.exports=function(N){return T(N)&&"[object Arguments]"==e(N)}},function(w,x,p){var e=p(39),T=p(19);w.exports=function(N){return T(N)&&e(N)}},function(w,x){w.exports=function(){return!1}},function(w,x,p){var e=p(22),T=p(50),N=p(19),Q=Function.prototype.toString,J=Object.prototype.hasOwnProperty,ne=Q.call(Object);w.exports=function(Y){if(!N(Y)||"[object Object]"!=e(Y))return!1;var ie=T(Y);if(null===ie)return!0;var fe=J.call(ie,"constructor")&&ie.constructor;return"function"==typeof fe&&fe instanceof fe&&Q.call(fe)==ne}},function(w,x,p){var e=p(22),T=p(40),N=p(19),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,w.exports=function(j){return N(j)&&T(j.length)&&!!O[e(j)]}},function(w,x){w.exports=function(p){return function(e){return p(e)}}},function(w,x,p){(function(e){var T=p(45),N=x&&!x.nodeType&&x,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,j=O&&O.exports===N&&T.process,Q=function(){try{return O&&O.require&&O.require("util").types||j&&j.binding&&j.binding("util")}catch(ne){}}();e.exports=Q}).call(this,p(38)(w))},function(w,x,p){var e=p(140),T=p(56);w.exports=function(N){return e(N,T(N))}},function(w,x,p){var e=p(55),T=p(37);w.exports=function(N,O,j,Q){var J=!j;j||(j={});for(var ne=-1,Y=O.length;++ne<Y;){var ie=O[ne],fe=Q?Q(j[ie],N[ie],ie,j,N):void 0;void 0===fe&&(fe=N[ie]),J?T(j,ie,fe):e(j,ie,fe)}return j}},function(w,x,p){var e=p(142),T=p(30),N=p(15),O=p(52),j=p(31),Q=p(53),J=Object.prototype.hasOwnProperty;w.exports=function(ne,Y){var ie=N(ne),fe=!ie&&T(ne),ut=!ie&&!fe&&O(ne),et=!ie&&!fe&&!ut&&Q(ne),Je=ie||fe||ut||et,vt=Je?e(ne.length,String):[],_e=vt.length;for(var He in ne)!Y&&!J.call(ne,He)||Je&&("length"==He||ut&&("offset"==He||"parent"==He)||et&&("buffer"==He||"byteLength"==He||"byteOffset"==He)||j(He,_e))||vt.push(He);return vt}},function(w,x){w.exports=function(p,e){for(var T=-1,N=Array(p);++T<p;)N[T]=e(T);return N}},function(w,x,p){var e=p(14),T=p(51),N=p(144),O=Object.prototype.hasOwnProperty;w.exports=function(j){if(!e(j))return N(j);var Q=T(j),J=[];for(var ne in j)("constructor"!=ne||!Q&&O.call(j,ne))&&J.push(ne);return J}},function(w,x){w.exports=function(p){var e=[];if(null!=p)for(var T in Object(p))e.push(T);return e}},function(w,x,p){var e=p(146),T=p(151);w.exports=function(N){return e(function(O,j){var Q=-1,J=j.length,ne=J>1?j[J-1]:void 0,Y=J>2?j[2]:void 0;for(ne=N.length>3&&"function"==typeof ne?(J--,ne):void 0,Y&&T(j[0],j[1],Y)&&(ne=J<3?void 0:ne,J=1),O=Object(O);++Q<J;){var ie=j[Q];ie&&N(O,ie,Q,ne)}return O})}},function(w,x,p){var e=p(57),T=p(58),N=p(59);w.exports=function(O,j){return N(T(O,j,e),O+"")}},function(w,x){w.exports=function(p,e,T){switch(T.length){case 0:return p.call(e);case 1:return p.call(e,T[0]);case 2:return p.call(e,T[0],T[1]);case 3:return p.call(e,T[0],T[1],T[2])}return p.apply(e,T)}},function(w,x,p){var e=p(149),T=p(49),N=p(57);w.exports=T?function(j,Q){return T(j,"toString",{configurable:!0,enumerable:!1,value:e(Q),writable:!0})}:N},function(w,x){w.exports=function(p){return function(){return p}}},function(w,x){var p=Date.now;w.exports=function(e){var T=0,N=0;return function(){var O=p(),j=16-(O-N);if(N=O,j>0){if(++T>=800)return arguments[0]}else T=0;return e.apply(void 0,arguments)}}},function(w,x,p){var e=p(26),T=p(39),N=p(31),O=p(14);w.exports=function(j,Q,J){if(!O(J))return!1;var ne=typeof Q;return!!("number"==ne?T(J)&&N(Q,J.length):"string"==ne&&Q in J)&&e(J[Q],j)}},function(w,x){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(p,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(p,e){var T=65535&p,N=65535&e;return T*N+((p>>>16&65535)*N+T*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(p){"use strict";if(null===p)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(p),T=1;T<arguments.length;T++){var N=arguments[T];if(null!==N)for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(e[O]=N[O])}return e})},function(w,x){w.exports=function(p){if(Array.isArray(p))return p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){var T=null==p?null:"undefined"!=typeof Symbol&&p[Symbol.iterator]||p["@@iterator"];if(null!=T){var N,O,j=[],Q=!0,J=!1;try{for(T=T.call(p);!(Q=(N=T.next()).done)&&(j.push(N.value),!e||j.length!==e);Q=!0);}catch(ne){J=!0,O=ne}finally{try{Q||null==T.return||T.return()}finally{if(J)throw O}}return j}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){var e=new Float32Array(2);return e[0]=p[0],e[1]=p[1],e}},function(w,x){w.exports=function(p,e){var T=new Float32Array(2);return T[0]=p,T[1]=e,T}},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e,p[1]=T,p}},function(w,x,p){w.exports=function(T,N){var O=T[0],j=T[1],Q=N[0],J=N[1];return Math.abs(O-Q)<=e*Math.max(1,Math.abs(O),Math.abs(Q))&&Math.abs(j-J)<=e*Math.max(1,Math.abs(j),Math.abs(J))};var e=p(62)},function(w,x){w.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]+T[0],p[1]=e[1]+T[1],p}},function(w,x,p){w.exports=p(64)},function(w,x,p){w.exports=p(65)},function(w,x,p){w.exports=p(66)},function(w,x){w.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.min(e[0],T[0]),p[1]=Math.min(e[1],T[1]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.max(e[0],T[0]),p[1]=Math.max(e[1],T[1]),p}},function(w,x){w.exports=function(p,e,T){var N=Math.cos(T),O=Math.sin(T),j=e[0],Q=e[1];return p[0]=j*N-Q*O,p[1]=j*O+Q*N,p}},function(w,x){w.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T,p[1]=e[1]*T,p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e[0]+T[0]*N,p[1]=e[1]+T[1]*N,p}},function(w,x,p){w.exports=p(67)},function(w,x,p){w.exports=p(68)},function(w,x,p){w.exports=p(69)},function(w,x,p){w.exports=p(70)},function(w,x){w.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=T*T+N*N;return O>0&&(O=1/Math.sqrt(O),p[0]=e[0]*O,p[1]=e[1]*O),p}},function(w,x){w.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]}},function(w,x){w.exports=function(p,e,T){var N=e[0]*T[1]-e[1]*T[0];return p[0]=p[1]=0,p[2]=N,p}},function(w,x){w.exports=function(p,e,T,N){var O=e[0],j=e[1];return p[0]=O+N*(T[0]-O),p[1]=j+N*(T[1]-j),p}},function(w,x){w.exports=function(p,e){e=e||1;var T=2*Math.random()*Math.PI;return p[0]=Math.cos(T)*e,p[1]=Math.sin(T)*e,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[2]*O,p[1]=T[1]*N+T[3]*O,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[2]*O+T[4],p[1]=T[1]*N+T[3]*O+T[5],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[3]*O+T[6],p[1]=T[1]*N+T[4]*O+T[7],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[4]*O+T[12],p[1]=T[1]*N+T[5]*O+T[13],p}},function(w,x,p){w.exports=function(T,N,O,j,Q,J){var ne,Y;for(N||(N=2),O||(O=0),Y=j?Math.min(j*N+O,T.length):T.length,ne=O;ne<Y;ne+=N)e[0]=T[ne],e[1]=T[ne+1],Q(e,e,J),T[ne]=e[0],T[ne+1]=e[1];return T};var e=p(63)()},function(w,x){w.exports=function(p,e,T){var N=e[0]*e[0]+e[1]*e[1];if(N>T*T){var O=Math.sqrt(N);p[0]=e[0]/O*T,p[1]=e[1]/O*T}else p[0]=e[0],p[1]=e[1];return p}},function(w,x){w.exports=function(p){var e=new Float32Array(3);return e[0]=p[0],e[1]=p[1],e[2]=p[2],e}},function(w,x,p){w.exports=function(O,j){var Q=e(O[0],O[1],O[2]),J=e(j[0],j[1],j[2]);T(Q,Q),T(J,J);var ne=N(Q,J);return ne>1?0:Math.acos(ne)};var e=p(73),T=p(74),N=p(75)},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e,p[1]=T,p[2]=N,p}},function(w,x,p){w.exports=function(T,N){var O=T[0],j=T[1],Q=T[2],J=N[0],ne=N[1],Y=N[2];return Math.abs(O-J)<=e*Math.max(1,Math.abs(O),Math.abs(J))&&Math.abs(j-ne)<=e*Math.max(1,Math.abs(j),Math.abs(ne))&&Math.abs(Q-Y)<=e*Math.max(1,Math.abs(Q),Math.abs(Y))};var e=p(71)},function(w,x){w.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]&&p[2]===e[2]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]+T[0],p[1]=e[1]+T[1],p[2]=e[2]+T[2],p}},function(w,x,p){w.exports=p(76)},function(w,x,p){w.exports=p(77)},function(w,x,p){w.exports=p(78)},function(w,x){w.exports=function(p,e,T){return p[0]=Math.min(e[0],T[0]),p[1]=Math.min(e[1],T[1]),p[2]=Math.min(e[2],T[2]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.max(e[0],T[0]),p[1]=Math.max(e[1],T[1]),p[2]=Math.max(e[2],T[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p[2]=Math.floor(e[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p[2]=Math.ceil(e[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p[2]=Math.round(e[2]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T,p[1]=e[1]*T,p[2]=e[2]*T,p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e[0]+T[0]*N,p[1]=e[1]+T[1]*N,p[2]=e[2]+T[2]*N,p}},function(w,x,p){w.exports=p(79)},function(w,x,p){w.exports=p(80)},function(w,x,p){w.exports=p(81)},function(w,x,p){w.exports=p(82)},function(w,x){w.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p[2]=-e[2],p}},function(w,x){w.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p[2]=1/e[2],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2],Q=T[0],J=T[1],ne=T[2];return p[0]=O*ne-j*J,p[1]=j*Q-N*ne,p[2]=N*J-O*Q,p}},function(w,x){w.exports=function(p,e,T,N){var O=e[0],j=e[1],Q=e[2];return p[0]=O+N*(T[0]-O),p[1]=j+N*(T[1]-j),p[2]=Q+N*(T[2]-Q),p}},function(w,x){w.exports=function(p,e){e=e||1;var T=2*Math.random()*Math.PI,N=2*Math.random()-1,O=Math.sqrt(1-N*N)*e;return p[0]=Math.cos(T)*O,p[1]=Math.sin(T)*O,p[2]=N*e,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2],Q=T[3]*N+T[7]*O+T[11]*j+T[15];return p[0]=(T[0]*N+T[4]*O+T[8]*j+T[12])/(Q=Q||1),p[1]=(T[1]*N+T[5]*O+T[9]*j+T[13])/Q,p[2]=(T[2]*N+T[6]*O+T[10]*j+T[14])/Q,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2];return p[0]=N*T[0]+O*T[3]+j*T[6],p[1]=N*T[1]+O*T[4]+j*T[7],p[2]=N*T[2]+O*T[5]+j*T[8],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2],Q=T[0],J=T[1],ne=T[2],Y=T[3],ie=Y*N+J*j-ne*O,fe=Y*O+ne*N-Q*j,ut=Y*j+Q*O-J*N,et=-Q*N-J*O-ne*j;return p[0]=ie*Y+et*-Q+fe*-ne-ut*-J,p[1]=fe*Y+et*-J+ut*-Q-ie*-ne,p[2]=ut*Y+et*-ne+ie*-J-fe*-Q,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[1],j=T[2],Q=e[1]-O,J=e[2]-j,ne=Math.sin(N),Y=Math.cos(N);return p[0]=e[0],p[1]=O+Q*Y-J*ne,p[2]=j+Q*ne+J*Y,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[0],j=T[2],Q=e[0]-O,J=e[2]-j,ne=Math.sin(N),Y=Math.cos(N);return p[0]=O+J*ne+Q*Y,p[1]=e[1],p[2]=j+J*Y-Q*ne,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[0],j=T[1],Q=e[0]-O,J=e[1]-j,ne=Math.sin(N),Y=Math.cos(N);return p[0]=O+Q*Y-J*ne,p[1]=j+Q*ne+J*Y,p[2]=e[2],p}},function(w,x,p){w.exports=function(T,N,O,j,Q,J){var ne,Y;for(N||(N=3),O||(O=0),Y=j?Math.min(j*N+O,T.length):T.length,ne=O;ne<Y;ne+=N)e[0]=T[ne],e[1]=T[ne+1],e[2]=T[ne+2],Q(e,e,J),T[ne]=e[0],T[ne+1]=e[1],T[ne+2]=e[2];return T};var e=p(72)()},function(w,x,p){var e=function(T){"use strict";var N=Object.prototype,O=N.hasOwnProperty,j="function"==typeof Symbol?Symbol:{},Q=j.iterator||"@@iterator",J=j.asyncIterator||"@@asyncIterator",ne=j.toStringTag||"@@toStringTag";function Y(me,re,ye,Te){var mn,kt,wt,Wt,yt=Object.create((re&&re.prototype instanceof ut?re:ut).prototype),Mt=new Ve(Te||[]);return yt._invoke=(mn=me,kt=ye,wt=Mt,Wt="suspendedStart",function(bn,rr){if("executing"===Wt)throw new Error("Generator is already running");if("completed"===Wt){if("throw"===bn)throw rr;return{value:void 0,done:!0}}for(wt.method=bn,wt.arg=rr;;){var $n=wt.delegate;if($n){var wr=Qe($n,wt);if(wr){if(wr===fe)continue;return wr}}if("next"===wt.method)wt.sent=wt._sent=wt.arg;else if("throw"===wt.method){if("suspendedStart"===Wt)throw Wt="completed",wt.arg;wt.dispatchException(wt.arg)}else"return"===wt.method&&wt.abrupt("return",wt.arg);Wt="executing";var br=ie(mn,kt,wt);if("normal"===br.type){if(Wt=wt.done?"completed":"suspendedYield",br.arg===fe)continue;return{value:br.arg,done:wt.done}}"throw"===br.type&&(Wt="completed",wt.method="throw",wt.arg=br.arg)}}),yt}function ie(me,re,ye){try{return{type:"normal",arg:me.call(re,ye)}}catch(Te){return{type:"throw",arg:Te}}}T.wrap=Y;var fe={};function ut(){}function et(){}function Je(){}var vt={};vt[Q]=function(){return this};var _e=Object.getPrototypeOf,He=_e&&_e(_e(ht([])));He&&He!==N&&O.call(He,Q)&&(vt=He);var ke=Je.prototype=ut.prototype=Object.create(vt);function _t(me){["next","throw","return"].forEach(function(re){me[re]=function(ye){return this._invoke(re,ye)}})}function $e(me,re){var ye;this._invoke=function(Te,Ce){function yt(){return new re(function(Mt,mn){!function kt(wt,Wt,bn,rr){var $n=ie(me[wt],me,Wt);if("throw"!==$n.type){var wr=$n.arg,br=wr.value;return br&&"object"==typeof br&&O.call(br,"__await")?re.resolve(br.__await).then(function(vr){kt("next",vr,bn,rr)},function(vr){kt("throw",vr,bn,rr)}):re.resolve(br).then(function(vr){wr.value=vr,bn(wr)},function(vr){return kt("throw",vr,bn,rr)})}rr($n.arg)}(Te,Ce,Mt,mn)})}return ye=ye?ye.then(yt,yt):yt()}}function Qe(me,re){var ye=me.iterator[re.method];if(void 0===ye){if(re.delegate=null,"throw"===re.method){if(me.iterator.return&&(re.method="return",re.arg=void 0,Qe(me,re),"throw"===re.method))return fe;re.method="throw",re.arg=new TypeError("The iterator does not provide a 'throw' method")}return fe}var Te=ie(ye,me.iterator,re.arg);if("throw"===Te.type)return re.method="throw",re.arg=Te.arg,re.delegate=null,fe;var Ce=Te.arg;return Ce?Ce.done?(re[me.resultName]=Ce.value,re.next=me.nextLoc,"return"!==re.method&&(re.method="next",re.arg=void 0),re.delegate=null,fe):Ce:(re.method="throw",re.arg=new TypeError("iterator result is not an object"),re.delegate=null,fe)}function xe(me){var re={tryLoc:me[0]};1 in me&&(re.catchLoc=me[1]),2 in me&&(re.finallyLoc=me[2],re.afterLoc=me[3]),this.tryEntries.push(re)}function nt(me){var re=me.completion||{};re.type="normal",delete re.arg,me.completion=re}function Ve(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(xe,this),this.reset(!0)}function ht(me){if(me){var re=me[Q];if(re)return re.call(me);if("function"==typeof me.next)return me;if(!isNaN(me.length)){var ye=-1,Te=function Ce(){for(;++ye<me.length;)if(O.call(me,ye))return Ce.value=me[ye],Ce.done=!1,Ce;return Ce.value=void 0,Ce.done=!0,Ce};return Te.next=Te}}return{next:ve}}function ve(){return{value:void 0,done:!0}}return et.prototype=ke.constructor=Je,Je.constructor=et,Je[ne]=et.displayName="GeneratorFunction",T.isGeneratorFunction=function(me){var re="function"==typeof me&&me.constructor;return!!re&&(re===et||"GeneratorFunction"===(re.displayName||re.name))},T.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Je):(me.__proto__=Je,ne in me||(me[ne]="GeneratorFunction")),me.prototype=Object.create(ke),me},T.awrap=function(me){return{__await:me}},_t($e.prototype),$e.prototype[J]=function(){return this},T.AsyncIterator=$e,T.async=function(me,re,ye,Te,Ce){void 0===Ce&&(Ce=Promise);var yt=new $e(Y(me,re,ye,Te),Ce);return T.isGeneratorFunction(re)?yt:yt.next().then(function(Mt){return Mt.done?Mt.value:yt.next()})},_t(ke),ke[ne]="Generator",ke[Q]=function(){return this},ke.toString=function(){return"[object Generator]"},T.keys=function(me){var re=[];for(var ye in me)re.push(ye);return re.reverse(),function Te(){for(;re.length;){var Ce=re.pop();if(Ce in me)return Te.value=Ce,Te.done=!1,Te}return Te.done=!0,Te}},T.values=ht,Ve.prototype={constructor:Ve,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(nt),!me)for(var re in this)"t"===re.charAt(0)&&O.call(this,re)&&!isNaN(+re.slice(1))&&(this[re]=void 0)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if("throw"===me.type)throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var re=this;function ye(kt,wt){return yt.type="throw",yt.arg=me,re.next=kt,wt&&(re.method="next",re.arg=void 0),!!wt}for(var Te=this.tryEntries.length-1;Te>=0;--Te){var Ce=this.tryEntries[Te],yt=Ce.completion;if("root"===Ce.tryLoc)return ye("end");if(Ce.tryLoc<=this.prev){var Mt=O.call(Ce,"catchLoc"),mn=O.call(Ce,"finallyLoc");if(Mt&&mn){if(this.prev<Ce.catchLoc)return ye(Ce.catchLoc,!0);if(this.prev<Ce.finallyLoc)return ye(Ce.finallyLoc)}else if(Mt){if(this.prev<Ce.catchLoc)return ye(Ce.catchLoc,!0)}else{if(!mn)throw new Error("try statement without catch or finally");if(this.prev<Ce.finallyLoc)return ye(Ce.finallyLoc)}}}},abrupt:function(me,re){for(var ye=this.tryEntries.length-1;ye>=0;--ye){var Te=this.tryEntries[ye];if(Te.tryLoc<=this.prev&&O.call(Te,"finallyLoc")&&this.prev<Te.finallyLoc){var Ce=Te;break}}Ce&&("break"===me||"continue"===me)&&Ce.tryLoc<=re&&re<=Ce.finallyLoc&&(Ce=null);var yt=Ce?Ce.completion:{};return yt.type=me,yt.arg=re,Ce?(this.method="next",this.next=Ce.finallyLoc,fe):this.complete(yt)},complete:function(me,re){if("throw"===me.type)throw me.arg;return"break"===me.type||"continue"===me.type?this.next=me.arg:"return"===me.type?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):"normal"===me.type&&re&&(this.next=re),fe},finish:function(me){for(var re=this.tryEntries.length-1;re>=0;--re){var ye=this.tryEntries[re];if(ye.finallyLoc===me)return this.complete(ye.completion,ye.afterLoc),nt(ye),fe}},catch:function(me){for(var re=this.tryEntries.length-1;re>=0;--re){var ye=this.tryEntries[re];if(ye.tryLoc===me){var Te=ye.completion;if("throw"===Te.type){var Ce=Te.arg;nt(ye)}return Ce}}throw new Error("illegal catch attempt")},delegateYield:function(me,re,ye){return this.delegate={iterator:ht(me),resultName:re,nextLoc:ye},"next"===this.method&&(this.arg=void 0),fe}},T}(w.exports);try{regeneratorRuntime=e}catch(T){Function("r","regeneratorRuntime = r")(e)}},function(w,x,p){var e=p(2);w.exports=function(T,N){for(;!Object.prototype.hasOwnProperty.call(T,N)&&null!==(T=e(T)););return T},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(61);w.exports=function(T){if(Array.isArray(T))return e(T)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(230),T=p(240);w.exports=function(N,O){return e(N,O,function(j,Q){return T(N,Q)})}},function(w,x,p){var e=p(231),T=p(239),N=p(32);w.exports=function(O,j,Q){for(var J=-1,ne=j.length,Y={};++J<ne;){var ie=j[J],fe=e(O,ie);Q(fe,ie)&&T(Y,N(ie,O),fe)}return Y}},function(w,x,p){var e=p(32),T=p(43);w.exports=function(N,O){for(var j=0,Q=(O=e(O,N)).length;null!=N&&j<Q;)N=N[T(O[j++])];return j&&j==Q?N:void 0}},function(w,x,p){var e=p(15),T=p(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;w.exports=function(j,Q){if(e(j))return!1;var J=typeof j;return!("number"!=J&&"symbol"!=J&&"boolean"!=J&&null!=j&&!T(j))||O.test(j)||!N.test(j)||null!=Q&&j in Object(Q)}},function(w,x,p){var e=p(234),T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,O=e(function(j){var Q=[];return 46===j.charCodeAt(0)&&Q.push(""),j.replace(T,function(J,ne,Y,ie){Q.push(Y?ie.replace(N,"$1"):ne||J)}),Q});w.exports=O},function(w,x,p){var e=p(235);w.exports=function(T){var N=e(T,function(j){return 500===O.size&&O.clear(),j}),O=N.cache;return N}},function(w,x,p){var e=p(47);function T(N,O){if("function"!=typeof N||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var j=function(){var Q=arguments,J=O?O.apply(this,Q):Q[0],ne=j.cache;if(ne.has(J))return ne.get(J);var Y=N.apply(this,Q);return j.cache=ne.set(J,Y)||ne,Y};return j.cache=new(T.Cache||e),j}T.Cache=e,w.exports=T},function(w,x,p){var e=p(237);w.exports=function(T){return null==T?"":e(T)}},function(w,x,p){var e=p(27),T=p(238),N=p(15),O=p(42),j=e?e.prototype:void 0,Q=j?j.toString:void 0;w.exports=function J(ne){if("string"==typeof ne)return ne;if(N(ne))return T(ne,J)+"";if(O(ne))return Q?Q.call(ne):"";var Y=ne+"";return"0"==Y&&1/ne==-1/0?"-0":Y}},function(w,x){w.exports=function(p,e){for(var T=-1,N=null==p?0:p.length,O=Array(N);++T<N;)O[T]=e(p[T],T,p);return O}},function(w,x,p){var e=p(55),T=p(32),N=p(31),O=p(14),j=p(43);w.exports=function(Q,J,ne,Y){if(!O(Q))return Q;for(var ie=-1,fe=(J=T(J,Q)).length,ut=fe-1,et=Q;null!=et&&++ie<fe;){var Je=j(J[ie]),vt=ne;if("__proto__"===Je||"constructor"===Je||"prototype"===Je)return Q;if(ie!=ut){var _e=et[Je];void 0===(vt=Y?Y(_e,Je,et):void 0)&&(vt=O(_e)?_e:N(J[ie+1])?[]:{})}e(et,Je,vt),et=et[Je]}return Q}},function(w,x,p){var e=p(241),T=p(242);w.exports=function(N,O){return null!=N&&T(N,O,e)}},function(w,x){w.exports=function(p,e){return null!=p&&e in Object(p)}},function(w,x,p){var e=p(32),T=p(30),N=p(15),O=p(31),j=p(40),Q=p(43);w.exports=function(J,ne,Y){for(var ie=-1,fe=(ne=e(ne,J)).length,ut=!1;++ie<fe;){var et=Q(ne[ie]);if(!(ut=null!=J&&Y(J,et)))break;J=J[et]}return ut||++ie!=fe?ut:!!(fe=null==J?0:J.length)&&j(fe)&&O(et,fe)&&(N(J)||T(J))}},function(w,x,p){var e=p(244),T=p(58),N=p(59);w.exports=function(O){return N(T(O,void 0,e),O+"")}},function(w,x,p){var e=p(245);w.exports=function(T){return null!=T&&T.length?e(T,1):[]}},function(w,x,p){var e=p(246),T=p(247);w.exports=function N(O,j,Q,J,ne){var Y=-1,ie=O.length;for(Q||(Q=T),ne||(ne=[]);++Y<ie;){var fe=O[Y];j>0&&Q(fe)?j>1?N(fe,j-1,Q,J,ne):e(ne,fe):J||(ne[ne.length]=fe)}return ne}},function(w,x){w.exports=function(p,e){for(var T=-1,N=e.length,O=p.length;++T<N;)p[O+T]=e[T];return p}},function(w,x,p){var e=p(27),T=p(30),N=p(15),O=e?e.isConcatSpreadable:void 0;w.exports=function(j){return N(j)||T(j)||!!(O&&j&&j[O])}},function(w,x){w.exports=function(p){return-1!==Function.toString.call(p).indexOf("[native code]")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(41),T=p(250);function N(O,j,Q){return T()?(w.exports=N=Reflect.construct,w.exports.__esModule=!0,w.exports.default=w.exports):(w.exports=N=function(J,ne,Y){var ie=[null];ie.push.apply(ie,ne);var fe=new(Function.bind.apply(J,ie));return Y&&e(fe,Y.prototype),fe},w.exports.__esModule=!0,w.exports.default=w.exports),N.apply(null,arguments)}w.exports=N,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){return p[0]*p[3]-p[2]*p[1]}},function(w,x){w.exports=function(p,e){if(p===e){var T=e[1];p[1]=e[2],p[2]=T}else p[0]=e[0],p[1]=e[2],p[2]=e[1],p[3]=e[3];return p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2],Q=e[3],J=T[0],ne=T[1],Y=T[2],ie=T[3];return p[0]=N*J+j*ne,p[1]=O*J+Q*ne,p[2]=N*Y+j*ie,p[3]=O*Y+Q*ie,p}},function(w,x){w.exports=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(w,x){w.exports=function(p,e){var T=e[0];return p[0]=e[3],p[1]=-e[1],p[2]=-e[2],p[3]=T,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],j=e[2],Q=e[3],J=Math.sin(T),ne=Math.cos(T);return p[0]=N*ne+j*J,p[1]=O*ne+Q*J,p[2]=N*-J+j*ne,p[3]=O*-J+Q*ne,p}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=e[2],j=e[3],Q=T*j-O*N;return Q?(p[0]=j*(Q=1/Q),p[1]=-N*Q,p[2]=-O*Q,p[3]=T*Q,p):null}},function(w,x){w.exports=function(){var p=new Float32Array(4);return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(w,x){w.exports=function(p,e,T){var O=e[1],j=e[2],Q=e[3],J=T[0],ne=T[1];return p[0]=e[0]*J,p[1]=O*J,p[2]=j*ne,p[3]=Q*ne,p}},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p}},function(w,x){w.exports=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2))}},function(w,x){w.exports=function(p,e,T,N){return p[2]=N[2]/N[0],T[0]=N[0],T[1]=N[1],T[3]=N[3]-p[2]*T[1],[p,e,T]}},function(w,x,p){"use strict";p.r(x),p.d(x,"BarcodeDecoder",function(){return sr}),p.d(x,"Readers",function(){return e}),p.d(x,"CameraAccess",function(){return Gn}),p.d(x,"ImageDebug",function(){return ut.a}),p.d(x,"ImageWrapper",function(){return J.a}),p.d(x,"ResultCollector",function(){return Pr});var e={};p.r(e),p.d(e,"BarcodeReader",function(){return re}),p.d(e,"TwoOfFiveReader",function(){return mn}),p.d(e,"NewCodabarReader",function(){return rr}),p.d(e,"Code128Reader",function(){return wr}),p.d(e,"Code32Reader",function(){return Bn}),p.d(e,"Code39Reader",function(){return Kr}),p.d(e,"Code39VINReader",function(){return Be}),p.d(e,"Code93Reader",function(){return be}),p.d(e,"EAN2Reader",function(){return Gt}),p.d(e,"EAN5Reader",function(){return Bt}),p.d(e,"EAN8Reader",function(){return tn}),p.d(e,"EANReader",function(){return fn}),p.d(e,"I2of5Reader",function(){return Wn}),p.d(e,"UPCEReader",function(){return Ae}),p.d(e,"UPCReader",function(){return lt});var T,Ee,N=p(20),O=p.n(N),j=p(17),Q=p.n(j),J=(p(152),p(11)),ne=p(12),Y=p.n(ne),ie=p(8),fe=p.n(ie),ut=p(16),et=p(3),Je=p.n(et),vt=p(4),_e=p.n(vt),He=p(1),ke=p.n(He),_t=p(6),$e=p.n(_t),Qe=p(5),xe=p.n(Qe),nt=p(2),Ve=p.n(nt),ht=p(0),ve=p.n(ht),me=p(9);(Ee=T||(T={}))[Ee.Forward=1]="Forward",Ee[Ee.Reverse=-1]="Reverse";var re=function(){function Ee(Oe,he){Je()(this,Ee),ve()(this,"_row",[]),ve()(this,"config",{}),ve()(this,"supplements",[]),ve()(this,"SINGLE_CODE_ERROR",0),ve()(this,"FORMAT","unknown"),ve()(this,"CONFIG_KEYS",{}),this._row=[],this.config=Oe||{},he&&(this.supplements=he)}return _e()(Ee,[{key:"_nextUnset",value:function(Oe){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Oe.length;R++)if(!Oe[R])return R;return Oe.length}},{key:"_matchPattern",value:function(Oe,he){for(var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,W=0,z=0,ee=0,we=0,Ne=0,Fe=0,dt=0;dt<Oe.length;dt++)ee+=Oe[dt],we+=he[dt];if(ee<we)return Number.MAX_VALUE;R*=Ne=ee/we;for(var oe=0;oe<Oe.length;oe++){if(Fe=he[oe]*Ne,(z=Math.abs(Oe[oe]-Fe)/Fe)>R)return Number.MAX_VALUE;W+=z}return W/we}},{key:"_nextSet",value:function(Oe){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Oe.length;R++)if(Oe[R])return R;return Oe.length}},{key:"_correctBars",value:function(Oe,he,R){for(var W=R.length,z=0;W--;)(z=Oe[R[W]]*(1-(1-he)/2))>1&&(Oe[R[W]]=z)}},{key:"decodePattern",value:function(Oe){this._row=Oe;var he=this.decode();return null===he?(this._row.reverse(),(he=this.decode())&&(he.direction=T.Reverse,he.start=this._row.length-he.start,he.end=this._row.length-he.end)):he.direction=T.Forward,he&&(he.format=this.FORMAT),he}},{key:"_matchRange",value:function(Oe,he,R){var W;for(W=Oe=Oe<0?0:Oe;W<he;W++)if(this._row[W]!==R)return!1;return!0}},{key:"_fillCounters",value:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),he=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,R=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],W=[],z=0;W[z]=0;for(var ee=Oe;ee<he;ee++)this._row[ee]^(R?1:0)?W[z]++:(W[++z]=1,R=!R);return W}},{key:"_toCounters",value:function(Oe,he){var R=he.length,W=this._row.length,z=!this._row[Oe],ee=0;me.a.init(he,0);for(var we=Oe;we<W;we++)if(this._row[we]^(z?1:0))he[ee]++;else{if(++ee===R)break;he[ee]=1,z=!z}return he}},{key:"decodeImage",value:function(Oe){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),Ee}();var Te=[3,1,3,1,1,1],Ce=[3,1,1,1,3],yt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Mt=Te.reduce(function(Ee,Oe){return Ee+Oe},0),mn=function(Ee){$e()(he,Ee);var Oe=function ye(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"barSpaceRatio",[1,1]),ve()(ke()(R),"FORMAT","2of5"),ve()(ke()(R),"SINGLE_CODE_ERROR",.78),ve()(ke()(R),"AVG_CODE_ERROR",.3),R}return _e()(he,[{key:"_findPattern",value:function(R,W){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ee=arguments.length>3&&void 0!==arguments[3]&&arguments[3],we=[],Ne=0,Ie={error:Number.MAX_VALUE,code:-1,start:0,end:0},Fe=0,dt=0,oe=this.AVG_CODE_ERROR;W||(W=this._nextSet(this._row));for(var Pe=0;Pe<R.length;Pe++)we[Pe]=0;for(var We=W;We<this._row.length;We++)if(this._row[We]^(z?1:0))we[Ne]++;else{if(Ne===we.length-1){Fe=0;for(var Et=0;Et<we.length;Et++)Fe+=we[Et];if((dt=this._matchPattern(we,R))<oe)return Ie.error=dt,Ie.start=We-Fe,Ie.end=We,Ie;if(!ee)return null;for(var hn=0;hn<we.length-2;hn++)we[hn]=we[hn+2];we[we.length-2]=0,we[we.length-1]=0,Ne--}else Ne++;we[Ne]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var R=null,W=this._nextSet(this._row),z=1,ee=0;!R;){if(!(R=this._findPattern(Te,W,!1,!0)))return null;if(z=Math.floor((R.end-R.start)/Mt),(ee=R.start-5*z)>=0&&this._matchRange(ee,R.start,0))return R;W=R.end,R=null}return R}},{key:"_verifyTrailingWhitespace",value:function(R){var W=R.end+(R.end-R.start)/2;return W<this._row.length&&this._matchRange(R.end,W,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._nextSet(this._row),W=this._findPattern(Ce,R,!1,!0);if(this._row.reverse(),null===W)return null;var z=W.start;return W.start=this._row.length-W.end,W.end=this._row.length-z,null!==W?this._verifyTrailingWhitespace(W):null}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"_decodeCode",value:function(R){for(var W=this.AVG_CODE_ERROR,z={error:Number.MAX_VALUE,code:-1,start:0,end:0},ee=0;ee<yt.length;ee++){var we=this._matchPattern(R,yt[ee]);we<z.error&&(z.code=ee,z.error=we)}return z.error<W?z:null}},{key:"_decodePayload",value:function(R,W,z){for(var ee=0,we=R.length,Ne=[0,0,0,0,0],Ie=null;ee<we;){for(var Fe=0;Fe<5;Fe++)Ne[Fe]=R[ee]*this.barSpaceRatio[0],ee+=2;if(!(Ie=this._decodeCode(Ne)))return null;W.push("".concat(Ie.code)),z.push(Ie)}return Ie}},{key:"decode",value:function(R,W){var z=this._findStart();if(!z)return null;var ee=this._findEnd();if(!ee)return null;var we=this._fillCounters(z.end,ee.start,!1);if(!this._verifyCounterLength(we))return null;var Ne=[];Ne.push(z);var Ie=[];return this._decodePayload(we,Ie,Ne)?Ie.length<5?null:(Ne.push(ee),{code:Ie.join(""),start:z.start,end:ee.end,startInfo:z,decodedCodes:Ne,format:this.FORMAT}):null}}]),he}(re);var wt=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Wt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],bn=[26,41,11,14],rr=function(Ee){$e()(he,Ee);var Oe=function kt(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"_counters",[]),ve()(ke()(R),"FORMAT","codabar"),R}return _e()(he,[{key:"_computeAlternatingThreshold",value:function(R,W){for(var z=Number.MAX_VALUE,ee=0,we=0,Ne=R;Ne<W;Ne+=2)(we=this._counters[Ne])>ee&&(ee=we),we<z&&(z=we);return(z+ee)/2|0}},{key:"_toPattern",value:function(R){var W=R+7;if(W>this._counters.length)return-1;for(var z=this._computeAlternatingThreshold(R,W),ee=this._computeAlternatingThreshold(R+1,W),we=64,Ie=0,Fe=0;Fe<7;Fe++)this._counters[R+Fe]>(0==(1&Fe)?z:ee)&&(Ie|=we),we>>=1;return Ie}},{key:"_isStartEnd",value:function(R){for(var W=0;W<bn.length;W++)if(bn[W]===R)return!0;return!1}},{key:"_sumCounters",value:function(R,W){for(var z=0,ee=R;ee<W;ee++)z+=this._counters[ee];return z}},{key:"_findStart",value:function(){for(var R=this._nextUnset(this._row),W=1;W<this._counters.length;W++){var z=this._toPattern(W);if(-1!==z&&this._isStartEnd(z))return{start:R+=this._sumCounters(0,W),end:R+this._sumCounters(W,W+8),startCounter:W,endCounter:W+8}}return null}},{key:"_patternToChar",value:function(R){for(var W=0;W<Wt.length;W++)if(Wt[W]===R)return String.fromCharCode(wt[W]);return null}},{key:"_calculatePatternLength",value:function(R){for(var W=0,z=R;z<R+7;z++)W+=this._counters[z];return W}},{key:"_verifyWhitespace",value:function(R,W){return(R-1<=0||this._counters[R-1]>=this._calculatePatternLength(R)/2)&&(W+8>=this._counters.length||this._counters[W+7]>=this._calculatePatternLength(W)/2)}},{key:"_charToPattern",value:function(R){for(var W=R.charCodeAt(0),z=0;z<wt.length;z++)if(wt[z]===W)return Wt[z];return 0}},{key:"_thresholdResultPattern",value:function(R,W){for(var z,ee={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},we=W,Ne=0;Ne<R.length;Ne++){z=this._charToPattern(R[Ne]);for(var Ie=6;Ie>=0;Ie--){var Fe=2==(1&Ie)?ee.bar:ee.space,dt=1==(1&z)?Fe.wide:Fe.narrow;dt.size+=this._counters[we+Ie],dt.counts++,z>>=1}we+=8}return["space","bar"].forEach(function(oe){var Pe=ee[oe];Pe.wide.min=Math.floor((Pe.narrow.size/Pe.narrow.counts+Pe.wide.size/Pe.wide.counts)/2),Pe.narrow.max=Math.ceil(Pe.wide.min),Pe.wide.max=Math.ceil((2*Pe.wide.size+1.5)/Pe.wide.counts)}),ee}},{key:"_validateResult",value:function(R,W){for(var z,ee=this._thresholdResultPattern(R,W),we=W,Ne=0;Ne<R.length;Ne++){z=this._charToPattern(R[Ne]);for(var Ie=6;Ie>=0;Ie--){var Fe=0==(1&Ie)?ee.bar:ee.space,dt=1==(1&z)?Fe.wide:Fe.narrow,oe=this._counters[we+Ie];if(oe<dt.min||oe>dt.max)return!1;z>>=1}we+=8}return!0}},{key:"decode",value:function(R,W){if(this._counters=this._fillCounters(),!(W=this._findStart()))return null;var z,ee=W.startCounter,we=[];do{if((z=this._toPattern(ee))<0)return null;var Ne=this._patternToChar(z);if(null===Ne)return null;if(we.push(Ne),ee+=8,we.length>1&&this._isStartEnd(z))break}while(ee<this._counters.length);if(we.length-2<4||!this._isStartEnd(z)||!this._verifyWhitespace(W.startCounter,ee-8)||!this._validateResult(we,W.startCounter))return null;var Ie=W.start+this._sumCounters(W.startCounter,(ee=ee>this._counters.length?this._counters.length:ee)-8);return{code:we.join(""),start:W.start,end:Ie,startInfo:W,decodedCodes:we,format:this.FORMAT}}}]),he}(re);var wr=function(Ee){$e()(he,Ee);var Oe=function $n(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"CODE_SHIFT",98),ve()(ke()(R),"CODE_C",99),ve()(ke()(R),"CODE_B",100),ve()(ke()(R),"CODE_A",101),ve()(ke()(R),"START_CODE_A",103),ve()(ke()(R),"START_CODE_B",104),ve()(ke()(R),"START_CODE_C",105),ve()(ke()(R),"STOP_CODE",106),ve()(ke()(R),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),ve()(ke()(R),"SINGLE_CODE_ERROR",.64),ve()(ke()(R),"AVG_CODE_ERROR",.3),ve()(ke()(R),"FORMAT","code_128"),ve()(ke()(R),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),R}return _e()(he,[{key:"_decodeCode",value:function(R,W){for(var z={error:Number.MAX_VALUE,code:-1,start:R,end:R,correction:{bar:1,space:1}},ee=[0,0,0,0,0,0],Ne=!this._row[R],Ie=0,Fe=R;Fe<this._row.length;Fe++)if(this._row[Fe]^(Ne?1:0))ee[Ie]++;else{if(Ie===ee.length-1){W&&this._correct(ee,W);for(var dt=0;dt<this.CODE_PATTERN.length;dt++){var oe=this._matchPattern(ee,this.CODE_PATTERN[dt]);oe<z.error&&(z.code=dt,z.error=oe)}return z.end=Fe,-1===z.code||z.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[z.code]&&(z.correction.bar=this.calculateCorrection(this.CODE_PATTERN[z.code],ee,this.MODULE_INDICES.bar),z.correction.space=this.calculateCorrection(this.CODE_PATTERN[z.code],ee,this.MODULE_INDICES.space)),z)}ee[++Ie]=1,Ne=!Ne}return null}},{key:"_correct",value:function(R,W){this._correctBars(R,W.bar,this.MODULE_INDICES.bar),this._correctBars(R,W.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var R=[0,0,0,0,0,0],W=this._nextSet(this._row),z={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},ee=!1,we=0,Ne=W;Ne<this._row.length;Ne++)if(this._row[Ne]^(ee?1:0))R[we]++;else{if(we===R.length-1){for(var Ie=R.reduce(function(Pe,We){return Pe+We},0),Fe=this.START_CODE_A;Fe<=this.START_CODE_C;Fe++){var dt=this._matchPattern(R,this.CODE_PATTERN[Fe]);dt<z.error&&(z.code=Fe,z.error=dt)}if(z.error<this.AVG_CODE_ERROR)return z.start=Ne-Ie,z.end=Ne,z.correction.bar=this.calculateCorrection(this.CODE_PATTERN[z.code],R,this.MODULE_INDICES.bar),z.correction.space=this.calculateCorrection(this.CODE_PATTERN[z.code],R,this.MODULE_INDICES.space),z;for(var oe=0;oe<4;oe++)R[oe]=R[oe+2];R[4]=0,R[5]=0,we--}else we++;R[we]=1,ee=!ee}return null}},{key:"decode",value:function(R,W){var z=this,ee=this._findStart();if(null===ee)return null;var we={code:ee.code,start:ee.start,end:ee.end,correction:{bar:ee.correction.bar,space:ee.correction.space}},Ne=[];Ne.push(we);for(var Ie=we.code,Fe=function(Pn){switch(Pn){case z.START_CODE_A:return z.CODE_A;case z.START_CODE_B:return z.CODE_B;case z.START_CODE_C:return z.CODE_C;default:return null}}(we.code),dt=!1,oe=!1,Pe=oe,We=!0,Et=0,hn=[],xn=[];!dt;){if(Pe=oe,oe=!1,null!==(we=this._decodeCode(we.end,we.correction)))switch(we.code!==this.STOP_CODE&&(We=!0),we.code!==this.STOP_CODE&&(hn.push(we.code),Ie+=++Et*we.code),Ne.push(we),Fe){case this.CODE_A:if(we.code<64)xn.push(String.fromCharCode(32+we.code));else if(we.code<96)xn.push(String.fromCharCode(we.code-64));else switch(we.code!==this.STOP_CODE&&(We=!1),we.code){case this.CODE_SHIFT:oe=!0,Fe=this.CODE_B;break;case this.CODE_B:Fe=this.CODE_B;break;case this.CODE_C:Fe=this.CODE_C;break;case this.STOP_CODE:dt=!0}break;case this.CODE_B:if(we.code<96)xn.push(String.fromCharCode(32+we.code));else switch(we.code!==this.STOP_CODE&&(We=!1),we.code){case this.CODE_SHIFT:oe=!0,Fe=this.CODE_A;break;case this.CODE_A:Fe=this.CODE_A;break;case this.CODE_C:Fe=this.CODE_C;break;case this.STOP_CODE:dt=!0}break;case this.CODE_C:if(we.code<100)xn.push(we.code<10?"0"+we.code:we.code);else switch(we.code!==this.STOP_CODE&&(We=!1),we.code){case this.CODE_A:Fe=this.CODE_A;break;case this.CODE_B:Fe=this.CODE_B;break;case this.STOP_CODE:dt=!0}}else dt=!0;Pe&&(Fe=Fe===this.CODE_A?this.CODE_B:this.CODE_A)}return null===we?null:(we.end=this._nextUnset(this._row,we.end),this._verifyTrailingWhitespace(we)?(Ie-=Et*hn[hn.length-1])%103!==hn[hn.length-1]?null:xn.length?(We&&xn.splice(xn.length-1,1),{code:xn.join(""),start:ee.start,end:we.end,codeset:Fe,startInfo:ee,decodedCodes:Ne,endInfo:we,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(R){var W;return(W=R.end+(R.end-R.start)/2)<this._row.length&&this._matchRange(R.end,W,0)?R:null}},{key:"calculateCorrection",value:function(R,W,z){for(var ee=z.length,we=0,Ne=0;ee--;)Ne+=R[z[ee]],we+=W[z[ee]];return Ne/we}}]),he}(re),br=p(13),vr=p.n(br),ni=p(33),Ar=p.n(ni);var Oi=new Uint16Array(Ar()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(Ee){return Ee.charCodeAt(0)})),Si=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Kr=function(Ee){$e()(he,Ee);var Oe=function Gr(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","code_39"),R}return _e()(he,[{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),W=R,z=new Uint16Array([0,0,0,0,0,0,0,0,0]),ee=0,we=!1,Ne=R;Ne<this._row.length;Ne++)if(this._row[Ne]^(we?1:0))z[ee]++;else{if(ee===z.length-1){if(148===this._toPattern(z)){var Ie=Math.floor(Math.max(0,W-(Ne-W)/4));if(this._matchRange(Ie,W,0))return{start:W,end:Ne}}W+=z[0]+z[1];for(var Fe=0;Fe<7;Fe++)z[Fe]=z[Fe+2];z[7]=0,z[8]=0,ee--}else ee++;z[ee]=1,we=!we}return null}},{key:"_toPattern",value:function(R){for(var W=R.length,z=0,ee=W,we=0;ee>3;){z=this._findNextWidth(R,z),ee=0;for(var Ne=0,Ie=0;Ie<W;Ie++)R[Ie]>z&&(Ne|=1<<W-1-Ie,ee++,we+=R[Ie]);if(3===ee){for(var Fe=0;Fe<W&&ee>0;Fe++)if(R[Fe]>z&&(ee--,2*R[Fe]>=we))return-1;return Ne}}return-1}},{key:"_findNextWidth",value:function(R,W){for(var z=Number.MAX_VALUE,ee=0;ee<R.length;ee++)R[ee]<z&&R[ee]>W&&(z=R[ee]);return z}},{key:"_patternToChar",value:function(R){for(var W=0;W<Si.length;W++)if(Si[W]===R)return String.fromCharCode(Oi[W]);return null}},{key:"_verifyTrailingWhitespace",value:function(R,W,z){var ee=me.a.sum(z);return 3*(W-R-ee)>=ee}},{key:"decode",value:function(){var R=new Uint16Array([0,0,0,0,0,0,0,0,0]),W=[],z=this._findStart();if(!z)return null;var ee,we,Ne=this._nextSet(this._row,z.end);do{R=this._toCounters(Ne,R);var Ie=this._toPattern(R);if(Ie<0||null===(ee=this._patternToChar(Ie)))return null;W.push(ee),we=Ne,Ne+=me.a.sum(R),Ne=this._nextSet(this._row,Ne)}while("*"!==ee);return W.pop(),W.length&&this._verifyTrailingWhitespace(we,Ne,R)?{code:W.join(""),start:z.start,end:Ne,startInfo:z,decodedCodes:W,format:this.FORMAT}:null}}]),he}(re);var ki=/[AEIO]/g,Bn=function(Ee){$e()(he,Ee);var Oe=function Wr(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","code_32_reader"),R}return _e()(he,[{key:"_decodeCode32",value:function(R){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(R))return null;for(var W=0,z=0;z<R.length;z++)W=32*W+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(R[z]);var ee="".concat(W);return ee.length<9&&(ee=("000000000"+ee).slice(-9)),"A"+ee}},{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=vr()(Ve()(he.prototype),"decode",this).call(this);if(!R)return null;var W=R.code;if(!W||(W=W.replace(ki,""),!this._checkChecksum(W)))return null;var z=this._decodeCode32(W);return z?(R.code=z,R):null}}]),he}(Kr);var ri=/[IOQ]/g,Qr=/[A-Z0-9]{17}/,Be=function(Ee){$e()(he,Ee);var Oe=function ji(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","code_39_vin"),R}return _e()(he,[{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=vr()(Ve()(he.prototype),"decode",this).call(this);if(!R)return null;var W=R.code;return W&&(W=W.replace(ri,"")).match(Qr)&&this._checkChecksum(W)?(R.code=W,R):null}}]),he}(Kr);var Ue=new Uint16Array(Ar()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(Ee){return Ee.charCodeAt(0)})),ce=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),be=function(Ee){$e()(he,Ee);var Oe=function gt(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","code_93"),R}return _e()(he,[{key:"_patternToChar",value:function(R){for(var W=0;W<ce.length;W++)if(ce[W]===R)return String.fromCharCode(Ue[W]);return null}},{key:"_toPattern",value:function(R){for(var W=R.length,z=R.reduce(function(Fe,dt){return Fe+dt},0),ee=0,we=0;we<W;we++){var Ne=Math.round(9*R[we]/z);if(Ne<1||Ne>4)return-1;if(0==(1&we))for(var Ie=0;Ie<Ne;Ie++)ee=ee<<1|1;else ee<<=Ne}return ee}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),W=R,z=new Uint16Array([0,0,0,0,0,0]),ee=0,we=!1,Ne=R;Ne<this._row.length;Ne++)if(this._row[Ne]^(we?1:0))z[ee]++;else{if(ee===z.length-1){if(350===this._toPattern(z)){var Ie=Math.floor(Math.max(0,W-(Ne-W)/4));if(this._matchRange(Ie,W,0))return{start:W,end:Ne}}W+=z[0]+z[1];for(var Fe=0;Fe<4;Fe++)z[Fe]=z[Fe+2];z[4]=0,z[5]=0,ee--}else ee++;z[ee]=1,we=!we}return null}},{key:"_verifyEnd",value:function(R,W){return!(R===W||!this._row[W])}},{key:"_decodeExtended",value:function(R){for(var W=R.length,z=[],ee=0;ee<W;ee++){var we=R[ee];if(we>="a"&&we<="d"){if(ee>W-2)return null;var Ne=R[++ee],Ie=Ne.charCodeAt(0),Fe=void 0;switch(we){case"a":if(!(Ne>="A"&&Ne<="Z"))return null;Fe=String.fromCharCode(Ie-64);break;case"b":if(Ne>="A"&&Ne<="E")Fe=String.fromCharCode(Ie-38);else if(Ne>="F"&&Ne<="J")Fe=String.fromCharCode(Ie-11);else if(Ne>="K"&&Ne<="O")Fe=String.fromCharCode(Ie+16);else if(Ne>="P"&&Ne<="S")Fe=String.fromCharCode(Ie+43);else{if(!(Ne>="T"&&Ne<="Z"))return null;Fe=String.fromCharCode(127)}break;case"c":if(Ne>="A"&&Ne<="O")Fe=String.fromCharCode(Ie-32);else{if("Z"!==Ne)return null;Fe=":"}break;case"d":if(!(Ne>="A"&&Ne<="Z"))return null;Fe=String.fromCharCode(Ie+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Fe),null}z.push(Fe)}else z.push(we)}return z}},{key:"_matchCheckChar",value:function(R,W,z){var ee=R.slice(0,W),we=ee.length,Ne=ee.reduce(function(Ie,Fe,dt){return Ie+((-1*dt+(we-1))%z+1)*Ue.indexOf(Fe.charCodeAt(0))},0);return Ue[Ne%47]===R[W].charCodeAt(0)}},{key:"_verifyChecksums",value:function(R){return this._matchCheckChar(R,R.length-2,20)&&this._matchCheckChar(R,R.length-1,15)}},{key:"decode",value:function(R,W){if(!(W=this._findStart()))return null;var z,ee,we=new Uint16Array([0,0,0,0,0,0]),Ne=[],Ie=this._nextSet(this._row,W.end);do{we=this._toCounters(Ie,we);var Fe=this._toPattern(we);if(Fe<0||null===(ee=this._patternToChar(Fe)))return null;Ne.push(ee),z=Ie,Ie+=me.a.sum(we),Ie=this._nextSet(this._row,Ie)}while("*"!==ee);return Ne.pop(),Ne.length&&this._verifyEnd(z,Ie)&&this._verifyChecksums(Ne)?(Ne=Ne.slice(0,Ne.length-2),null===(Ne=this._decodeExtended(Ne))?null:{code:Ne.join(""),start:W.start,end:Ie,startInfo:W,decodedCodes:Ne,format:this.FORMAT}):null}}]),he}(re);function at(Ee,Oe){var he=Object.keys(Ee);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ee);Oe&&(R=R.filter(function(W){return Object.getOwnPropertyDescriptor(Ee,W).enumerable})),he.push.apply(he,R)}return he}function ct(Ee){for(var Oe=1;Oe<arguments.length;Oe++){var he=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?at(Object(he),!0).forEach(function(R){ve()(Ee,R,he[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(he)):at(Object(he)).forEach(function(R){Object.defineProperty(Ee,R,Object.getOwnPropertyDescriptor(he,R))})}return Ee}var Ot=[1,1,1],dn=[1,1,1,1,1],Zt=[1,1,2],an=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Vn=[0,11,13,14,19,25,28,21,22,26],fn=function(Ee){$e()(he,Ee);var Oe=function bt(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(R,W){var z;return Je()(this,he),z=Oe.call(this,Q()({supplements:[]},R),W),ve()(ke()(z),"FORMAT","ean_13"),ve()(ke()(z),"SINGLE_CODE_ERROR",.7),ve()(ke()(z),"STOP_PATTERN",[1,1,1]),z}return _e()(he,[{key:"_findPattern",value:function(R,W,z,ee){var we=new Array(R.length).fill(0),Ne={error:Number.MAX_VALUE,start:0,end:0},Ie=0;W||(W=this._nextSet(this._row));for(var Fe=!1,dt=W;dt<this._row.length;dt++)if(this._row[dt]^(z?1:0))we[Ie]+=1;else{if(Ie===we.length-1){var oe=this._matchPattern(we,R);if(oe<.48&&Ne.error&&oe<Ne.error)return Fe=!0,Ne.error=oe,Ne.start=dt-we.reduce(function(We,Et){return We+Et},0),Ne.end=dt,Ne;if(ee){for(var Pe=0;Pe<we.length-2;Pe++)we[Pe]=we[Pe+2];we[we.length-2]=0,we[we.length-1]=0,Ie--}}else Ie++;we[Ie]=1,z=!z}return Fe?Ne:null}},{key:"_decodeCode",value:function(R,W){var z=[0,0,0,0],we={error:Number.MAX_VALUE,code:-1,start:R,end:R},Ne=!this._row[R],Ie=0;W||(W=an.length);for(var Fe=R;Fe<this._row.length;Fe++)if(this._row[Fe]^(Ne?1:0))z[Ie]++;else{if(Ie===z.length-1){for(var dt=0;dt<W;dt++){var oe=this._matchPattern(z,an[dt]);we.end=Fe,oe<we.error&&(we.code=dt,we.error=oe)}return we.error>.48?null:we}z[++Ie]=1,Ne=!Ne}return null}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),W=null;!W;){if(!(W=this._findPattern(Ot,R,!1,!0)))return null;var z=W.start-(W.end-W.start);if(z>=0&&this._matchRange(z,W.start,0))return W;R=W.end,W=null}return null}},{key:"_calculateFirstDigit",value:function(R){for(var W=0;W<Vn.length;W++)if(R===Vn[W])return W;return null}},{key:"_decodePayload",value:function(R,W,z){for(var ee=ct({},R),we=0,Ne=0;Ne<6;Ne++){if(!(ee=this._decodeCode(ee.end)))return null;ee.code>=10?(ee.code-=10,we|=1<<5-Ne):we|=0<<5-Ne,W.push(ee.code),z.push(ee)}var Ie=this._calculateFirstDigit(we);if(null===Ie)return null;W.unshift(Ie);var Fe=this._findPattern(dn,ee.end,!0,!1);if(null===Fe||!Fe.end)return null;z.push(Fe);for(var dt=0;dt<6;dt++){if(!(Fe=this._decodeCode(Fe.end,10)))return null;z.push(Fe),W.push(Fe.code)}return Fe}},{key:"_verifyTrailingWhitespace",value:function(R){var W=R.end+(R.end-R.start);return W<this._row.length&&this._matchRange(R.end,W,0)?R:null}},{key:"_findEnd",value:function(R,W){var z=this._findPattern(this.STOP_PATTERN,R,W,!1);return null!==z?this._verifyTrailingWhitespace(z):null}},{key:"_checksum",value:function(R){for(var W=0,z=R.length-2;z>=0;z-=2)W+=R[z];W*=3;for(var ee=R.length-1;ee>=0;ee-=2)W+=R[ee];return W%10==0}},{key:"_decodeExtensions",value:function(R){var W=this._nextSet(this._row,R),z=this._findPattern(Zt,W,!1,!1);if(null===z)return null;for(var ee=0;ee<this.supplements.length;ee++)try{var we=this.supplements[ee].decode(this._row,z.end);if(null!==we)return{code:we.code,start:W,startInfo:z,end:we.end,decodedCodes:we.decodedCodes,format:this.supplements[ee].FORMAT}}catch(Ne){console.error("* decodeExtensions error in ",this.supplements[ee],": ",Ne)}return null}},{key:"decode",value:function(R,W){var z=new Array,ee=new Array,we={},Ne=this._findStart();if(!Ne)return null;var Ie={start:Ne.start,end:Ne.end};if(ee.push(Ie),!(Ie=this._decodePayload(Ie,z,ee))||!(Ie=this._findEnd(Ie.end,!1))||(ee.push(Ie),!this._checksum(z)))return null;if(this.supplements.length>0){var Fe=this._decodeExtensions(Ie.end);if(!Fe||!Fe.decodedCodes)return null;var dt=Fe.decodedCodes[Fe.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:dt.start+((dt.end-dt.start)/2|0),end:dt.end}))return null;we={supplement:Fe,code:z.join("")+Fe.code}}return ct(ct({code:z.join(""),start:Ne.start,end:Ie.end,startInfo:Ne,decodedCodes:ee},we),{},{format:this.FORMAT})}}]),he}(re);var Gt=function(Ee){$e()(he,Ee);var Oe=function jn(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","ean_2"),R}return _e()(he,[{key:"decode",value:function(R,W){R&&(this._row=R);var z=0,ee=W,we=this._row.length,Ne=[],Ie=[],Fe=null;if(void 0===ee)return null;for(var dt=0;dt<2&&ee<we;dt++){if(!(Fe=this._decodeCode(ee)))return null;Ie.push(Fe),Ne.push(Fe.code%10),Fe.code>=10&&(z|=1<<1-dt),1!==dt&&(ee=this._nextSet(this._row,Fe.end),ee=this._nextUnset(this._row,ee))}if(2!==Ne.length||parseInt(Ne.join(""))%4!==z)return null;var oe=this._findStart();return{code:Ne.join(""),decodedCodes:Ie,end:Fe.end,format:this.FORMAT,startInfo:oe,start:oe.start}}}]),he}(fn);var kn=[24,20,18,17,12,6,3,10,9,5],Bt=function(Ee){$e()(he,Ee);var Oe=function er(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","ean_5"),R}return _e()(he,[{key:"decode",value:function(R,W){if(void 0===W)return null;R&&(this._row=R);for(var z=0,ee=W,we=this._row.length,Ne=null,Ie=[],Fe=[],dt=0;dt<5&&ee<we;dt++){if(!(Ne=this._decodeCode(ee)))return null;Fe.push(Ne),Ie.push(Ne.code%10),Ne.code>=10&&(z|=1<<4-dt),4!==dt&&(ee=this._nextSet(this._row,Ne.end),ee=this._nextUnset(this._row,ee))}if(5!==Ie.length||function(Pe){for(var We=Pe.length,Et=0,hn=We-2;hn>=0;hn-=2)Et+=Pe[hn];Et*=3;for(var xn=We-1;xn>=0;xn-=2)Et+=Pe[xn];return(Et*=3)%10}(Ie)!==function(Pe){for(var We=0;We<10;We++)if(Pe===kn[We])return We;return null}(z))return null;var oe=this._findStart();return{code:Ie.join(""),decodedCodes:Fe,end:Ne.end,format:this.FORMAT,startInfo:oe,start:oe.start}}}]),he}(fn);var tn=function(Ee){$e()(he,Ee);var Oe=function ft(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","ean_8"),R}return _e()(he,[{key:"_decodePayload",value:function(R,W,z){for(var ee=R,we=0;we<4;we++){if(!(ee=this._decodeCode(ee.end,10)))return null;W.push(ee.code),z.push(ee)}if(null===(ee=this._findPattern(dn,ee.end,!0,!1)))return null;z.push(ee);for(var Ne=0;Ne<4;Ne++){if(!(ee=this._decodeCode(ee.end,10)))return null;z.push(ee),W.push(ee.code)}return ee}}]),he}(fn);var Wn=function(Ee){$e()(he,Ee);var Oe=function yn(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(R){var W;return Je()(this,he),W=Oe.call(this,Q()({normalizeBarSpaceWidth:!1},R)),ve()(ke()(W),"barSpaceRatio",[1,1]),ve()(ke()(W),"SINGLE_CODE_ERROR",.78),ve()(ke()(W),"AVG_CODE_ERROR",.38),ve()(ke()(W),"START_PATTERN",[1,1,1,1]),ve()(ke()(W),"STOP_PATTERN",[1,1,3]),ve()(ke()(W),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),ve()(ke()(W),"MAX_CORRECTION_FACTOR",5),ve()(ke()(W),"FORMAT","i2of5"),R.normalizeBarSpaceWidth&&(W.SINGLE_CODE_ERROR=.38,W.AVG_CODE_ERROR=.09),W.config=R,xe()(W,ke()(W))}return _e()(he,[{key:"_matchPattern",value:function(R,W){if(this.config.normalizeBarSpaceWidth){for(var z=[0,0],ee=[0,0],we=[0,0],Ne=this.MAX_CORRECTION_FACTOR,Ie=1/Ne,Fe=0;Fe<R.length;Fe++)z[Fe%2]+=R[Fe],ee[Fe%2]+=W[Fe];we[0]=ee[0]/z[0],we[1]=ee[1]/z[1],we[0]=Math.max(Math.min(we[0],Ne),Ie),we[1]=Math.max(Math.min(we[1],Ne),Ie),this.barSpaceRatio=we;for(var dt=0;dt<R.length;dt++)R[dt]*=this.barSpaceRatio[dt%2]}return vr()(Ve()(he.prototype),"_matchPattern",this).call(this,R,W)}},{key:"_findPattern",value:function(R,W){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ee=arguments.length>3&&void 0!==arguments[3]&&arguments[3],we=new Array(R.length).fill(0),Ne=0,Ie={error:Number.MAX_VALUE,start:0,end:0},Fe=this.AVG_CODE_ERROR;z=z||!1,ee=ee||!1,W||(W=this._nextSet(this._row));for(var dt=W;dt<this._row.length;dt++)if(this._row[dt]^(z?1:0))we[Ne]++;else{if(Ne===we.length-1){var oe=we.reduce(function(Et,hn){return Et+hn},0),Pe=this._matchPattern(we,R);if(Pe<Fe)return Ie.error=Pe,Ie.start=dt-oe,Ie.end=dt,Ie;if(!ee)return null;for(var We=0;We<we.length-2;We++)we[We]=we[We+2];we[we.length-2]=0,we[we.length-1]=0,Ne--}else Ne++;we[Ne]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var R=0,W=this._nextSet(this._row),z=null,ee=1;!z;){if(!(z=this._findPattern(this.START_PATTERN,W,!1,!0)))return null;if(ee=Math.floor((z.end-z.start)/4),(R=z.start-10*ee)>=0&&this._matchRange(R,z.start,0))return z;W=z.end,z=null}return null}},{key:"_verifyTrailingWhitespace",value:function(R){var W=R.end+(R.end-R.start)/2;return W<this._row.length&&this._matchRange(R.end,W,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===R)return null;var W=R.start;return R.start=this._row.length-R.end,R.end=this._row.length-W,null!==R?this._verifyTrailingWhitespace(R):null}},{key:"_decodePair",value:function(R){for(var W=[],z=0;z<R.length;z++){var ee=this._decodeCode(R[z]);if(!ee)return null;W.push(ee)}return W}},{key:"_decodeCode",value:function(R){for(var W=this.AVG_CODE_ERROR,z={error:Number.MAX_VALUE,code:-1,start:0,end:0},ee=0;ee<this.CODE_PATTERN.length;ee++){var we=this._matchPattern(R,this.CODE_PATTERN[ee]);we<z.error&&(z.code=ee,z.error=we)}return z.error<W?z:null}},{key:"_decodePayload",value:function(R,W,z){for(var ee=0,we=R.length,Ne=[[0,0,0,0,0],[0,0,0,0,0]],Ie=null;ee<we;){for(var Fe=0;Fe<5;Fe++)Ne[0][Fe]=R[ee]*this.barSpaceRatio[0],Ne[1][Fe]=R[ee+1]*this.barSpaceRatio[1],ee+=2;if(!(Ie=this._decodePair(Ne)))return null;for(var dt=0;dt<Ie.length;dt++)W.push(Ie[dt].code+""),z.push(Ie[dt])}return Ie}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"decode",value:function(R,W){var z=new Array,ee=new Array,we=this._findStart();if(!we)return null;ee.push(we);var Ne=this._findEnd();if(!Ne)return null;var Ie=this._fillCounters(we.end,Ne.start,!1);return this._verifyCounterLength(Ie)&&this._decodePayload(Ie,z,ee)?z.length%2!=0||z.length<6?null:(ee.push(Ne),{code:z.join(""),start:we.start,end:Ne.end,startInfo:we,decodedCodes:ee,format:this.FORMAT}):null}}]),he}(re);function Un(Ee,Oe){var he=Object.keys(Ee);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ee);Oe&&(R=R.filter(function(W){return Object.getOwnPropertyDescriptor(Ee,W).enumerable})),he.push.apply(he,R)}return he}var Ae=function(Ee){$e()(he,Ee);var Oe=function Me(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),ve()(ke()(R),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),ve()(ke()(R),"FORMAT","upc_e"),R}return _e()(he,[{key:"_decodePayload",value:function(R,W,z){for(var ee=function(Ie){for(var Fe=1;Fe<arguments.length;Fe++){var dt=null!=arguments[Fe]?arguments[Fe]:{};Fe%2?Un(Object(dt),!0).forEach(function(oe){ve()(Ie,oe,dt[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ie,Object.getOwnPropertyDescriptors(dt)):Un(Object(dt)).forEach(function(oe){Object.defineProperty(Ie,oe,Object.getOwnPropertyDescriptor(dt,oe))})}return Ie}({},R),we=0,Ne=0;Ne<6;Ne++){if(!(ee=this._decodeCode(ee.end)))return null;ee.code>=10&&(ee.code=ee.code-10,we|=1<<5-Ne),W.push(ee.code),z.push(ee)}return this._determineParity(we,W)?ee:null}},{key:"_determineParity",value:function(R,W){for(var z=0;z<this.CODE_FREQUENCY.length;z++)for(var ee=0;ee<this.CODE_FREQUENCY[z].length;ee++)if(R===this.CODE_FREQUENCY[z][ee])return W.unshift(z),W.push(ee),!0;return!1}},{key:"_convertToUPCA",value:function(R){var W=[R[0]],z=R[R.length-2];return(W=z<=2?W.concat(R.slice(1,3)).concat([z,0,0,0,0]).concat(R.slice(3,6)):3===z?W.concat(R.slice(1,4)).concat([0,0,0,0,0]).concat(R.slice(4,6)):4===z?W.concat(R.slice(1,5)).concat([0,0,0,0,0,R[5]]):W.concat(R.slice(1,6)).concat([0,0,0,0,z])).push(R[R.length-1]),W}},{key:"_checksum",value:function(R){return vr()(Ve()(he.prototype),"_checksum",this).call(this,this._convertToUPCA(R))}},{key:"_findEnd",value:function(R,W){return vr()(Ve()(he.prototype),"_findEnd",this).call(this,R,!0)}},{key:"_verifyTrailingWhitespace",value:function(R){var W=R.end+(R.end-R.start)/2;return W<this._row.length&&this._matchRange(R.end,W,0)?R:null}}]),he}(fn);var lt=function(Ee){$e()(he,Ee);var Oe=function Se(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(){var R;Je()(this,he);for(var W=arguments.length,z=new Array(W),ee=0;ee<W;ee++)z[ee]=arguments[ee];return R=Oe.call.apply(Oe,[this].concat(z)),ve()(ke()(R),"FORMAT","upc_a"),R}return _e()(he,[{key:"decode",value:function(R,W){var z=fn.prototype.decode.call(this);return z&&z.code&&13===z.code.length&&"0"===z.code.charAt(0)?(z.code=z.code.substring(1),z):null}}]),he}(fn),Ke={},qt_UP=1,qt_DOWN=-1;Ke.getBarcodeLine=function(Ee,Oe,he){var R,W,z,ee,we,Ne=0|Oe.x,Ie=0|Oe.y,Fe=0|he.x,dt=0|he.y,oe=Math.abs(dt-Ie)>Math.abs(Fe-Ne),Pe=[],We=Ee.data,Et=Ee.size.x,hn=255,xn=0;function Pn(Xr,Zi){hn=(we=We[Zi*Et+Xr])<hn?we:hn,xn=we>xn?we:xn,Pe.push(we)}oe&&(z=Ne,Ne=Ie,Ie=z,z=Fe,Fe=dt,dt=z),Ne>Fe&&(z=Ne,Ne=Fe,Fe=z,z=Ie,Ie=dt,dt=z);var Fn=Fe-Ne,ur=Math.abs(dt-Ie);R=Fn/2|0,W=Ie;var Mr=Ie<dt?1:-1;for(ee=Ne;ee<Fe;ee++)oe?Pn(W,ee):Pn(ee,W),(R-=ur)<0&&(W+=Mr,R+=Fn);return{line:Pe,min:hn,max:xn}},Ke.toBinaryLine=function(Ee){var Oe,he,R,W,z,ee,we=Ee.min,Ne=Ee.max,Ie=Ee.line,Fe=we+(Ne-we)/2,dt=[],oe=(Ne-we)/12,Pe=-oe;for(R=Ie[0]>Fe?qt_UP:qt_DOWN,dt.push({pos:0,val:Ie[0]}),z=0;z<Ie.length-2;z++)R!==(W=(Oe=Ie[z+1]-Ie[z])+(he=Ie[z+2]-Ie[z+1])<Pe&&Ie[z+1]<1.5*Fe?qt_DOWN:Oe+he>oe&&Ie[z+1]>.5*Fe?qt_UP:R)&&(dt.push({pos:z,val:Ie[z]}),R=W);for(dt.push({pos:Ie.length,val:Ie[Ie.length-1]}),ee=dt[0].pos;ee<dt[1].pos;ee++)Ie[ee]=Ie[ee]>Fe?0:1;for(z=1;z<dt.length-1;z++)for(oe=dt[z+1].val>dt[z].val?dt[z].val+(dt[z+1].val-dt[z].val)/3*2|0:dt[z+1].val+(dt[z].val-dt[z+1].val)/3|0,ee=dt[z].pos;ee<dt[z+1].pos;ee++)Ie[ee]=Ie[ee]>oe?0:1;return{line:Ie,threshold:oe}},Ke.debug={printFrequency:function(Ee,Oe){var he,R=Oe.getContext("2d");for(Oe.width=Ee.length,Oe.height=256,R.beginPath(),R.strokeStyle="blue",he=0;he<Ee.length;he++)R.moveTo(he,255),R.lineTo(he,255-Ee[he]);R.stroke(),R.closePath()},printPattern:function(Ee,Oe){var he,R=Oe.getContext("2d");for(Oe.width=Ee.length,R.fillColor="black",he=0;he<Ee.length;he++)1===Ee[he]&&R.fillRect(he,0,1,100)}};var Zn=Ke;function qn(Ee,Oe){var he="undefined"!=typeof Symbol&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!he){if(Array.isArray(Ee)||(he=function(Ne,Ie){if(Ne){if("string"==typeof Ne)return ir(Ne,undefined);var Fe=Object.prototype.toString.call(Ne).slice(8,-1);if("Object"===Fe&&Ne.constructor&&(Fe=Ne.constructor.name),"Map"===Fe||"Set"===Fe)return Array.from(Ne);if("Arguments"===Fe||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Fe))return ir(Ne,undefined)}}(Ee))||Oe&&Ee&&"number"==typeof Ee.length){he&&(Ee=he);var R=0,W=function(){};return{s:W,n:function(){return R>=Ee.length?{done:!0}:{done:!1,value:Ee[R++]}},e:function(Ne){throw Ne},f:W}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,ee=!0,we=!1;return{s:function(){he=he.call(Ee)},n:function(){var Ne=he.next();return ee=Ne.done,Ne},e:function(Ne){we=!0,z=Ne},f:function(){try{ee||null==he.return||he.return()}finally{if(we)throw z}}}}function ir(Ee,Oe){(null==Oe||Oe>Ee.length)&&(Oe=Ee.length);for(var he=0,R=new Array(Oe);he<Oe;he++)R[he]=Ee[he];return R}var or={code_128_reader:wr,ean_reader:fn,ean_5_reader:Bt,ean_2_reader:Gt,ean_8_reader:tn,code_39_reader:Kr,code_39_vin_reader:Be,codabar_reader:rr,upc_reader:lt,upc_e_reader:Ae,i2of5_reader:Wn,"2of5_reader":mn,code_93_reader:be,code_32_reader:Bn},sr={registerReader:function(Ee,Oe){or[Ee]=Oe},create:function(Ee,Oe){var R=[];function W(){Ee.readers.forEach(function(Ie){var Fe,dt={},oe=[];"object"===O()(Ie)?(Fe=Ie.format,dt=Ie.config):"string"==typeof Ie&&(Fe=Ie),dt.supplements&&(oe=dt.supplements.map(function(We){return new or[We]}));try{var Pe=new or[Fe](dt,oe);R.push(Pe)}catch(We){throw console.error("* Error constructing reader ",Fe,We),We}})}function z(Ie){var Fe,dt=null,oe=Zn.getBarcodeLine(Oe,Ie[0],Ie[1]);for(Zn.toBinaryLine(oe),Fe=0;Fe<R.length&&null===dt;Fe++)dt=R[Fe].decodePattern(oe.line);return null===dt?null:{codeResult:dt,barcodeLine:oe}}function ee(Ie){return we.apply(this,arguments)}function we(){return(we=Y()(fe.a.mark(function Ie(Fe){var dt,oe,Pe,We;return fe.a.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:dt=null,oe=qn(R),Et.prev=2,oe.s();case 4:if((Pe=oe.n()).done){Et.next=14;break}if(!(We=Pe.value).decodeImage){Et.next=12;break}return Et.next=9,We.decodeImage(Fe);case 9:if(!(dt=Et.sent)){Et.next=12;break}return Et.abrupt("break",14);case 12:Et.next=4;break;case 14:Et.next=19;break;case 16:Et.prev=16,Et.t0=Et.catch(2),oe.e(Et.t0);case 19:return Et.prev=19,oe.f(),Et.finish(19);case 22:return Et.abrupt("return",dt);case 23:case"end":return Et.stop()}},Ie,null,[[2,16,19,22]])}))).apply(this,arguments)}function Ne(Ie){var Fe,dt,We,oe=function(We){return Math.sqrt(Math.pow(Math.abs(We[1].y-We[0].y),2)+Math.pow(Math.abs(We[1].x-We[0].x),2))}(Fe=[{x:((We=Ie)[1][0]-We[0][0])/2+We[0][0],y:(We[1][1]-We[0][1])/2+We[0][1]},{x:(We[3][0]-We[2][0])/2+We[2][0],y:(We[3][1]-We[2][1])/2+We[2][1]}]),Pe=Math.atan2(Fe[1].y-Fe[0].y,Fe[1].x-Fe[0].x);return null===(Fe=function(We,Et,hn){function xn(Pn){var Fn=Pn*Math.sin(Et),ur=Pn*Math.cos(Et);We[0].y-=Fn,We[0].x-=ur,We[1].y+=Fn,We[1].x+=ur}for(xn(hn);hn>1&&(!Oe.inImageWithBorder(We[0])||!Oe.inImageWithBorder(We[1]));)xn(-(hn-=Math.ceil(hn/2)));return We}(Fe,Pe,Math.floor(.1*oe)))?null:(null===(dt=z(Fe))&&(dt=function(We,Et,hn){var xn,Pn,Fn,ur=Math.sqrt(Math.pow(We[1][0]-We[0][0],2)+Math.pow(We[1][1]-We[0][1],2)),Mr=null,Xr=Math.sin(hn),Zi=Math.cos(hn);for(xn=1;xn<16&&null===Mr;xn++)Fn={y:(Pn=ur/16*xn*(xn%2==0?-1:1))*Xr,x:Pn*Zi},Et[0].y+=Fn.x,Et[0].x-=Fn.y,Et[1].y+=Fn.x,Et[1].x-=Fn.y,Mr=z(Et);return Mr}(Ie,Fe,Pe)),null===dt?null:{codeResult:dt.codeResult,line:Fe,angle:Pe,pattern:dt.barcodeLine.line,threshold:dt.barcodeLine.threshold})}return W(),{decodeFromBoundingBox:function(Ie){return Ne(Ie)},decodeFromBoundingBoxes:function(Ie){var Fe,dt,oe=[],Pe=Ee.multiple;for(Fe=0;Fe<Ie.length;Fe++){var We=Ie[Fe];if((dt=Ne(We)||{}).box=We,Pe)oe.push(dt);else if(dt.codeResult)return dt}return{barcodes:oe}},decodeFromImage:function(Ie){return Y()(fe.a.mark(function Fe(){return fe.a.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,ee(Ie);case 2:return oe.abrupt("return",oe.sent);case 4:case"end":return oe.stop()}},Fe)}))()},registerReader:function(Ie,Fe){if(or[Ie])throw new Error("cannot register existing reader",Ie);or[Ie]=Fe},setReaders:function(Ie){Ee.readers=Ie,R.length=0,W()}}}},Cn=function(){var Ee={};function Oe(W){return Ee[W]||(Ee[W]={subscribers:[]}),Ee[W]}function he(W,z){W.async?setTimeout(function(){W.callback(z)},4):W.callback(z)}function R(W,z,ee){var we;if("function"==typeof z)we={callback:z,async:ee};else if(!(we=z).callback)throw new Error("Callback was not specified on options");Oe(W).subscribers.push(we)}return{subscribe:function(W,z,ee){return R(W,z,ee)},publish:function(W,z){var ee=Oe(W),we=ee.subscribers;we.filter(function(Ne){return!!Ne.once}).forEach(function(Ne){he(Ne,z)}),ee.subscribers=we.filter(function(Ne){return!Ne.once}),ee.subscribers.forEach(function(Ne){he(Ne,z)})},once:function(W,z){R(W,{callback:z,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(W,z){if(W){var ee=Oe(W);ee.subscribers=ee&&z?ee.subscribers.filter(function(we){return we.callback!==z}):[]}else Ee={}}}}(),In=p(85),Sn=p.n(In),Xe=p(86);var cn,Qn=function(Ee){$e()(he,Ee);var Oe=function St(Ee){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(he){return!1}}();return function(){var he,R=Ve()(Ee);if(Oe){var W=Ve()(this).constructor;he=Reflect.construct(R,arguments,W)}else he=R.apply(this,arguments);return xe()(this,he)}}(he);function he(R,W){var z;return Je()(this,he),z=Oe.call(this,R),ve()(ke()(z),"code",void 0),z.code=W,Object.setPrototypeOf(ke()(z),he.prototype),z}return _e()(he)}(p.n(Xe)()(Error)),gr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Yt(){try{return navigator.mediaDevices.enumerateDevices()}catch(Oe){var Ee=new Qn("enumerateDevices is not defined. ".concat(gr),-1);return Promise.reject(Ee)}}function sn(Ee){try{return navigator.mediaDevices.getUserMedia(Ee)}catch(he){var Oe=new Qn("getUserMedia is not defined. ".concat(gr),-1);return Promise.reject(Oe)}}function rt(Ee){return new Promise(function(Oe,he){var R=10;!function W(){R>0?Ee.videoWidth>10&&Ee.videoHeight>10?Oe():window.setTimeout(W,500):he(new Qn("Unable to play video stream. Is webcam working?",-1)),R--}()})}function Lt(Ee,Oe){return gn.apply(this,arguments)}function gn(){return(gn=Y()(fe.a.mark(function Ee(Oe,he){var R;return fe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,sn(he);case 2:if(cn=R=W.sent,!Oe){W.next=11;break}return Oe.setAttribute("autoplay","true"),Oe.setAttribute("muted","true"),Oe.setAttribute("playsinline","true"),Oe.srcObject=R,Oe.addEventListener("loadedmetadata",function(){Oe.play()}),W.abrupt("return",rt(Oe));case 11:return W.abrupt("return",Promise.resolve());case 12:case"end":return W.stop()}},Ee)}))).apply(this,arguments)}function An(Ee){var Oe=Sn()(Ee,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==Ee.minAspectRatio&&Ee.minAspectRatio>0&&(Oe.aspectRatio=Ee.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==Ee.facing&&(Oe.facingMode=Ee.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),Oe}function _n(){var Oe=An(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return Oe&&Oe.deviceId&&Oe.facingMode&&delete Oe.facingMode,Promise.resolve({audio:!1,video:Oe})}function On(){return(On=Y()(fe.a.mark(function Ee(){return fe.a.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return he.next=2,Yt();case 2:return he.abrupt("return",he.sent.filter(function(R){return"videoinput"===R.kind}));case 4:case"end":return he.stop()}},Ee)}))).apply(this,arguments)}function tr(){if(!cn)return null;var Ee=cn.getVideoTracks();return Ee&&null!=Ee&&Ee.length?Ee[0]:null}var pn={requestedVideoElement:null,request:function(Ee,Oe){return Y()(fe.a.mark(function he(){return fe.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return pn.requestedVideoElement=Ee,W.next=3,_n(Oe);case 3:return W.abrupt("return",Lt(Ee,W.sent));case 5:case"end":return W.stop()}},he)}))()},release:function(){var Ee=cn&&cn.getVideoTracks();return null!==pn.requestedVideoElement&&pn.requestedVideoElement.pause(),new Promise(function(Oe){setTimeout(function(){Ee&&Ee.length&&Ee[0].stop(),cn=null,pn.requestedVideoElement=null,Oe()},0)})},enumerateVideoDevices:function(){return On.apply(this,arguments)},getActiveStreamLabel:function(){var Ee=tr();return Ee?Ee.label:""},getActiveTrack:tr},Gn=pn,Pr={create:function(Ee){var Oe,he=document.createElement("canvas"),R=he.getContext("2d"),W=[],z=null!==(Oe=Ee.capacity)&&void 0!==Oe?Oe:20,ee=!0===Ee.capture;return{addResult:function(Ne,Ie,Fe){var dt={};(function we(Ne){return!!z&&Ne&&(Ie=Ne,!((Fe=Ee.blacklist)&&Fe.some(function(dt){return Object.keys(dt).every(function(oe){return dt[oe]===Ie[oe]})})))&&function(Ie,Fe){return"function"!=typeof Fe||Fe(Ie)}(Ne,Ee.filter);var Ie,Fe})(Fe)&&(z--,dt.codeResult=Fe,ee&&(he.width=Ie.x,he.height=Ie.y,ut.a.drawImage(Ne,Ie,R),dt.frame=he.toDataURL()),W.push(dt))},getResults:function(){return W}}}},Xn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Lr=p(7),Ei=_e()(function Ee(){Je()(this,Ee),ve()(this,"config",void 0),ve()(this,"inputStream",void 0),ve()(this,"framegrabber",void 0),ve()(this,"inputImageWrapper",void 0),ve()(this,"stopped",!1),ve()(this,"boxSize",void 0),ve()(this,"resultCollector",void 0),ve()(this,"decoder",void 0),ve()(this,"workerPool",[]),ve()(this,"onUIThread",!0),ve()(this,"canvasContainer",new Hi)}),to=_e()(function Ee(){Je()(this,Ee),ve()(this,"image",void 0),ve()(this,"overlay",void 0)}),Hi=_e()(function Ee(){Je()(this,Ee),ve()(this,"ctx",void 0),ve()(this,"dom",void 0),this.ctx=new to,this.dom=new to}),zr=p(23);function Wi(Ee){return"undefined"==typeof document?null:Ee instanceof HTMLElement&&Ee.nodeName&&1===Ee.nodeType?Ee:document.querySelector("string"==typeof Ee?Ee:"#interactive.viewport")}function Jr(Ee,Oe){var z,ee,he=(z=Oe,(ee=document.querySelector(Ee))||((ee=document.createElement("canvas")).className=z),ee),R=he.getContext("2d");return{canvas:he,context:R}}var ze={274:"orientation"},Tt=Object.keys(ze).map(function(Ee){return ze[Ee]});function Vt(Ee){return new Promise(function(Oe){var he=new FileReader;he.onload=function(R){return Oe(R.target.result)},he.readAsArrayBuffer(Ee)})}function $t(Ee){return new Promise(function(Oe,he){var R=new XMLHttpRequest;R.open("GET",Ee,!0),R.responseType="blob",R.onreadystatechange=function(){R.readyState!==XMLHttpRequest.DONE||200!==R.status&&0!==R.status||Oe(this.response)},R.onerror=he,R.send()})}function Tn(Ee){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt,he=new DataView(Ee),R=Ee.byteLength,W=Oe.reduce(function(ee,we){var Ne=Object.keys(ze).filter(function(Ie){return ze[Ie]===we})[0];return Ne&&(ee[Ne]=we),ee},{}),z=2;if(255!==he.getUint8(0)||216!==he.getUint8(1))return!1;for(;z<R;){if(255!==he.getUint8(z))return!1;if(225===he.getUint8(z+1))return Dr(he,z+4,W);z+=2+he.getUint16(z+2)}return!1}function Dr(Ee,Oe,he){if("Exif"!==function(ee,we,Ne){for(var Ie="",Fe=we;Fe<we+4;Fe++)Ie+=String.fromCharCode(ee.getUint8(Fe));return Ie}(Ee,Oe))return!1;var R,W=Oe+6;if(18761===Ee.getUint16(W))R=!1;else{if(19789!==Ee.getUint16(W))return!1;R=!0}if(42!==Ee.getUint16(W+2,!R))return!1;var z=Ee.getUint32(W+4,!R);return!(z<8)&&function(ee,we,Ne,Ie,Fe){for(var dt=ee.getUint16(Ne,!Fe),oe={},Pe=0;Pe<dt;Pe++){var We=Ne+12*Pe+2,Et=Ie[ee.getUint16(We,!Fe)];Et&&(oe[Et]=Vr(ee,We,0,0,Fe))}return oe}(Ee,0,W+z,he,R)}function Vr(Ee,Oe,he,R,W){var z=Ee.getUint16(Oe+2,!W),ee=Ee.getUint32(Oe+4,!W);return 3===z&&1===ee?Ee.getUint16(Oe+8,!W):null}var Ir={};function gi(Ee,Oe){Ee.onload=function(){Oe.loaded(this)}}Ir.load=function(Ee,Oe,he,R,W){var z,ee,we,Ne=new Array(R),Ie=new Array(Ne.length);if(!1===W)Ne[0]=Ee;else for(z=0;z<Ne.length;z++)we=he+z,Ne[z]="".concat(Ee,"image-").concat("00".concat(we).slice(-3),".jpg");for(Ie.notLoaded=[],Ie.addImage=function(Fe){Ie.notLoaded.push(Fe)},Ie.loaded=function(Fe){for(var dt=Ie.notLoaded,oe=0;oe<dt.length;oe++)if(dt[oe]===Fe){dt.splice(oe,1);for(var Pe=0;Pe<Ne.length;Pe++){var We=Ne[Pe].substr(Ne[Pe].lastIndexOf("/"));if(-1!==Fe.src.lastIndexOf(We)){Ie[Pe]={img:Fe};break}}break}0===dt.length&&(!1===W?function(Et){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tt;return/^blob:/i.test(Et)?$t(Et).then(Vt).then(function(xn){return Tn(xn,hn)}):Promise.resolve(null)}(Ee,["orientation"]).then(function(Et){Ie[0].tags=Et,Oe(Ie)}).catch(function(Et){console.log(Et),Oe(Ie)}):Oe(Ie))},z=0;z<Ne.length;z++)ee=new Image,Ie.addImage(ee),gi(ee,Ie),ee.src=Ne[z]};var Mo=Ir,Ui={createVideoStream:function(Ee){var Oe,he,R=null,W=["canrecord","ended"],z={},ee={x:0,y:0,type:"Point"},we={x:0,y:0,type:"XYSize"},Ne={getRealWidth:function(){return Ee.videoWidth},getRealHeight:function(){return Ee.videoHeight},getWidth:function(){return Oe},getHeight:function(){return he},setWidth:function(Ie){Oe=Ie},setHeight:function(Ie){he=Ie},setInputStream:function(Ie){R=Ie,this.setAttribute("src",void 0!==Ie.src?Ie.src:"")},ended:function(){return Ee.ended},getConfig:function(){return R},setAttribute:function(Ie,Fe){Ee&&Ee.setAttribute(Ie,Fe)},pause:function(){Ee.pause()},play:function(){Ee.play()},setCurrentTime:function(Ie){var Fe;"LiveStream"!==(null===(Fe=R)||void 0===Fe?void 0:Fe.type)&&this.setAttribute("currentTime",Ie.toString())},addEventListener:function(Ie,Fe,dt){-1!==W.indexOf(Ie)?(z[Ie]||(z[Ie]=[]),z[Ie].push(Fe)):Ee.addEventListener(Ie,Fe,dt)},clearEventHandlers:function(){W.forEach(function(Ie){var Fe=z[Ie];Fe&&Fe.length>0&&Fe.forEach(function(dt){Ee.removeEventListener(Ie,dt)})})},trigger:function(Ie,Fe){var dt,oe,Pe,We,Et,hn=z[Ie];if("canrecord"===Ie&&(We=Ee.videoWidth,Et=Ee.videoHeight,Oe=null!==(oe=R)&&void 0!==oe&&oe.size?We/Et>1?R.size:Math.floor(We/Et*R.size):We,he=null!==(Pe=R)&&void 0!==Pe&&Pe.size?We/Et>1?Math.floor(Et/We*R.size):R.size:Et,we.x=Oe,we.y=he),hn&&hn.length>0)for(dt=0;dt<hn.length;dt++)hn[dt].apply(Ne,Fe)},setTopRight:function(Ie){ee.x=Ie.x,ee.y=Ie.y},getTopRight:function(){return ee},setCanvasSize:function(Ie){we.x=Ie.x,we.y=Ie.y},getCanvasSize:function(){return we},getFrame:function(){return Ee}};return Ne},createLiveStream:function(Ee){Ee&&Ee.setAttribute("autoplay","true");var Oe=Ui.createVideoStream(Ee);return Oe.ended=function(){return!1},Oe},createImageStream:function(){var Ee,Oe,he=null,R=0,W=0,z=0,ee=!0,we=!1,Ne=null,Ie=0,Fe=null,dt=!1,oe=["canrecord","ended"],Pe={},We={x:0,y:0,type:"Point"},Et={x:0,y:0,type:"XYSize"};function hn(Pn,Fn){var ur,Mr=Pe[Pn];if(Mr&&Mr.length>0)for(ur=0;ur<Mr.length;ur++)Mr[ur].apply(xn,Fn)}var xn={trigger:hn,getWidth:function(){return Ee},getHeight:function(){return Oe},setWidth:function(Pn){Ee=Pn},setHeight:function(Pn){Oe=Pn},getRealWidth:function(){return R},getRealHeight:function(){return W},setInputStream:function(Pn){var Fn;!1===Pn.sequence?(Fe=Pn.src,Ie=1):(Fe=Pn.src,Ie=Pn.length),we=!1,Mo.load(Fe,function(ur){var Mr,Xr;if(Ne=ur,ur[0].tags&&ur[0].tags.orientation)switch(ur[0].tags.orientation){case 6:case 8:R=ur[0].img.height,W=ur[0].img.width;break;default:R=ur[0].img.width,W=ur[0].img.height}else R=ur[0].img.width,W=ur[0].img.height;Ee=null!==(Mr=he)&&void 0!==Mr&&Mr.size?R/W>1?he.size:Math.floor(R/W*he.size):R,Oe=null!==(Xr=he)&&void 0!==Xr&&Xr.size?R/W>1?Math.floor(W/R*he.size):he.size:W,Et.x=Ee,Et.y=Oe,we=!0,z=0,setTimeout(function(){hn("canrecord",[])},0)},1,Ie,null===(Fn=he=Pn)||void 0===Fn?void 0:Fn.sequence)},ended:function(){return dt},setAttribute:function(){},getConfig:function(){return he},pause:function(){ee=!0},play:function(){ee=!1},setCurrentTime:function(Pn){z=Pn},addEventListener:function(Pn,Fn){-1!==oe.indexOf(Pn)&&(Pe[Pn]||(Pe[Pn]=[]),Pe[Pn].push(Fn))},clearEventHandlers:function(){Object.keys(Pe).forEach(function(Pn){return delete Pe[Pn]})},setTopRight:function(Pn){We.x=Pn.x,We.y=Pn.y},getTopRight:function(){return We},setCanvasSize:function(Pn){Et.x=Pn.x,Et.y=Pn.y},getCanvasSize:function(){return Et},getFrame:function(){var Pn,Fn;return we?(ee||(Pn=null===(Fn=Ne)||void 0===Fn?void 0:Fn[z],z<Ie-1?z++:setTimeout(function(){dt=!0,hn("ended",[])},0)),Pn):null}};return xn}},To=Ui,Li=p(10),Ts=Math.PI/180,ss={create:function(Ee,Oe){var he,R={},W=Ee.getConfig(),z=(Object(Li.h)(Ee.getRealWidth(),Ee.getRealHeight()),Ee.getCanvasSize()),ee=Object(Li.h)(Ee.getWidth(),Ee.getHeight()),we=Ee.getTopRight(),Ne=we.x,Ie=we.y,Fe=null,dt=null;return(he=Oe||document.createElement("canvas")).width=z.x,he.height=z.y,Fe=he.getContext("2d"),dt=new Uint8Array(ee.x*ee.y),R.attachData=function(oe){dt=oe},R.getData=function(){return dt},R.grab=function(){var oe,xn,Pn,Pe=W.halfSample,We=Ee.getFrame(),Et=We,hn=0;if(Et){if((xn=he).width!==(Pn=z).x&&(xn.width=Pn.x),xn.height!==Pn.y&&(xn.height=Pn.y),"ImageStream"===W.type&&(Et=We.img,We.tags&&We.tags.orientation))switch(We.tags.orientation){case 6:hn=90*Ts;break;case 8:hn=-90*Ts}return 0!==hn?(Fe.translate(z.x/2,z.y/2),Fe.rotate(hn),Fe.drawImage(Et,-z.y/2,-z.x/2,z.y,z.x),Fe.rotate(-hn),Fe.translate(-z.x/2,-z.y/2)):Fe.drawImage(Et,0,0,z.x,z.y),oe=Fe.getImageData(Ne,Ie,ee.x,ee.y).data,Pe?Object(Li.e)(oe,ee,dt):Object(Li.c)(oe,dt,W),!0}return!1},R.getSize=function(){return ee},R}},no=ss;function Yo(Ee,Oe){var he=Object.keys(Ee);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ee);Oe&&(R=R.filter(function(W){return Object.getOwnPropertyDescriptor(Ee,W).enumerable})),he.push.apply(he,R)}return he}function as(Ee){for(var Oe=1;Oe<arguments.length;Oe++){var he=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?Yo(Object(he),!0).forEach(function(R){ve()(Ee,R,he[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ee,Object.getOwnPropertyDescriptors(he)):Yo(Object(he)).forEach(function(R){Object.defineProperty(Ee,R,Object.getOwnPropertyDescriptor(he,R))})}return Ee}var Fi=[];function ro(Ee){return as(as({},Ee),{},{inputStream:as(as({},Ee.inputStream),{},{target:null})})}function Gi(Ee){if(Ee){var Oe=Ee().default;if(!Oe)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var he;function R(z){self.postMessage({event:"processed",imageData:he.data,result:z},[he.data.buffer])}function W(){self.postMessage({event:"initialized",imageData:he.data},[he.data.buffer])}self.onmessage=function(z){if("init"===z.data.cmd){var ee=z.data.config;ee.numOfWorkers=0,he=new Oe.ImageWrapper({x:z.data.size.x,y:z.data.size.y},new Uint8Array(z.data.imageData)),Oe.init(ee,W,he),Oe.onProcessed(R)}else"process"===z.data.cmd?(he.data=new Uint8Array(z.data.imageData),Oe.start()):"setReaders"===z.data.cmd?Oe.setReaders(z.data.readers):"registerReader"===z.data.cmd&&Oe.registerReader(z.data.name,z.data.reader)}}function Co(Ee,Oe,he){var R,W,z=("undefined"!=typeof __factorySource__&&(W=__factorySource__),R=new Blob(["("+Gi.toString()+")("+W+");"],{type:"text/javascript"}),window.URL.createObjectURL(R)),ee={worker:new Worker(z),imageData:new Uint8Array(Oe.getWidth()*Oe.getHeight()),busy:!0};ee.worker.onmessage=function(we){"initialized"===we.data.event?(URL.revokeObjectURL(z),ee.busy=!1,ee.imageData=new Uint8Array(we.data.imageData),he(ee)):"processed"===we.data.event&&(ee.imageData=new Uint8Array(we.data.imageData),ee.busy=!1)},ee.worker.postMessage({cmd:"init",size:{x:Oe.getWidth(),y:Oe.getHeight()},imageData:ee.imageData,config:ro(Ee)},[ee.imageData.buffer])}function xs(Ee,Oe,he,R){var W=Ee-Fi.length;if(0===W&&R)R();else if(W<0)Fi.slice(W).forEach(function(we){we.worker.terminate()}),Fi=Fi.slice(0,W),R&&R();else{var z=function(we){Fi.push(we),Fi.length>=Ee&&R&&R()};if(Oe)for(var ee=0;ee<W;ee++)Co(Oe,he,z)}}function Qo(Ee,Oe,he){for(var R=Ee.length;R--;)Ee[R][0]+=Oe,Ee[R][1]+=he}var wi=function(){function Ee(){var R=this;Je()(this,Ee),ve()(this,"context",new Ei),ve()(this,"canRecord",function(W){var z;R.context.config&&(zr.a.checkImageConstraints(R.context.inputStream,null===(z=R.context.config)||void 0===z?void 0:z.locator),R.initCanvas(),R.context.framegrabber=no.create(R.context.inputStream,R.context.canvasContainer.dom.image),void 0===R.context.config.numOfWorkers&&(R.context.config.numOfWorkers=0),xs(R.context.config.numOfWorkers,R.context.config,R.context.inputStream,function(){var ee;0===(null===(ee=R.context.config)||void 0===ee?void 0:ee.numOfWorkers)&&R.initializeData(),R.ready(W)}))}),ve()(this,"update",function(){if(R.context.onUIThread){var W,z=(we=R.context.framegrabber,Fi.length?!!(Ne=Fi.filter(function(Ie){return!Ie.busy})[0])&&(we.attachData(Ne.imageData),we.grab()&&(Ne.busy=!0,Ne.worker.postMessage({cmd:"process",imageData:Ne.imageData},[Ne.imageData.buffer])),!0):null);z||(R.context.framegrabber.attachData(null===(W=R.context.inputImageWrapper)||void 0===W?void 0:W.data),R.context.framegrabber.grab()&&(z||R.locateAndDecode()))}else{var ee;R.context.framegrabber.attachData(null===(ee=R.context.inputImageWrapper)||void 0===ee?void 0:ee.data),R.context.framegrabber.grab(),R.locateAndDecode()}var we,Ne})}var Oe,he;return _e()(Ee,[{key:"initBuffers",value:function(R){if(this.context.config){var W=(we=this.context.inputStream,Ie=this.context.config.locator,Fe=R||new J.a({x:we.getWidth(),y:we.getHeight(),type:"XYSize"}),dt=[Object(Lr.clone)([0,0]),Object(Lr.clone)([0,Fe.size.y]),Object(Lr.clone)([Fe.size.x,Fe.size.y]),Object(Lr.clone)([Fe.size.x,0])],zr.a.init(Fe,Ie),{inputImageWrapper:Fe,boxSize:dt}),ee=W.boxSize;this.context.inputImageWrapper=W.inputImageWrapper,this.context.boxSize=ee}var we,Ie,Fe,dt}},{key:"initializeData",value:function(R){this.context.config&&(this.initBuffers(R),this.context.decoder=sr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?Wi(this.context.config.inputStream.target):null}},{key:"ready",value:function(R){this.context.inputStream.play(),R()}},{key:"initCanvas",value:function(){var R=function st(Ee){var Oe,he,R,W,z=Wi(null==Ee||null===(Oe=Ee.config)||void 0===Oe||null===(he=Oe.inputStream)||void 0===he?void 0:he.target),ee=null==Ee||null===(R=Ee.config)||void 0===R||null===(W=R.inputStream)||void 0===W?void 0:W.type;if(!ee)return null;var we=function(Ie){if("undefined"!=typeof document){var Fe=Jr("canvas.imgBuffer","imgBuffer"),dt=Jr("canvas.drawingBuffer","drawingBuffer");return Fe.canvas.width=dt.canvas.width=Ie.x,Fe.canvas.height=dt.canvas.height=Ie.y,{dom:{image:Fe.canvas,overlay:dt.canvas},ctx:{image:Fe.context,overlay:dt.context}}}return null}(Ee.inputStream.getCanvasSize());if(!we)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var Ne=we.dom;return"undefined"!=typeof document&&z&&("ImageStream"!==ee||z.contains(Ne.image)||z.appendChild(Ne.image),z.contains(Ne.overlay)||z.appendChild(Ne.overlay)),we}(this.context);if(R){var W=R.ctx,z=R.dom;this.context.canvasContainer.dom.image=z.image,this.context.canvasContainer.dom.overlay=z.overlay,this.context.canvasContainer.ctx.image=W.image,this.context.canvasContainer.ctx.overlay=W.overlay}}},{key:"initInputStream",value:function(R){if(this.context.config&&this.context.config.inputStream){var W=this.context.config.inputStream,z=W.type,ee=W.constraints,we=function(){var Fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",dt=arguments.length>1?arguments[1]:void 0,oe=arguments.length>2?arguments[2]:void 0;switch(Fe){case"VideoStream":var Pe=document.createElement("video");return{video:Pe,inputStream:oe.createVideoStream(Pe)};case"ImageStream":return{inputStream:oe.createImageStream()};case"LiveStream":var We=null;return dt&&((We=dt.querySelector("video"))||(We=document.createElement("video"),dt.appendChild(We))),{video:We,inputStream:oe.createLiveStream(We)};default:return console.error("* setupInputStream invalid type ".concat(Fe)),{video:null,inputStream:null}}}(z,this.getViewPort(),To),Ne=we.video,Ie=we.inputStream;"LiveStream"===z&&Ne&&Gn.request(Ne,ee).then(function(){return Ie.trigger("canrecord")}).catch(function(Fe){return R(Fe)}),Ie.setAttribute("preload","auto"),Ie.setInputStream(this.context.config.inputStream),Ie.addEventListener("canrecord",this.canRecord.bind(void 0,R)),this.context.inputStream=Ie}}},{key:"getBoundingBoxes",value:function(){var R;return null!==(R=this.context.config)&&void 0!==R&&R.locate?zr.a.locate():[[Object(Lr.clone)(this.context.boxSize[0]),Object(Lr.clone)(this.context.boxSize[1]),Object(Lr.clone)(this.context.boxSize[2]),Object(Lr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(R){var Ie,Fe,dt,W=this,z=this.context.inputStream.getTopRight(),ee=z.x,we=z.y;if((0!==ee||0!==we)&&(R.barcodes&&R.barcodes.forEach(function(Ie){return W.transformResult(Ie)}),R.line&&2===R.line.length&&(dt=we,(Ie=R.line)[0].x+=Fe=ee,Ie[0].y+=dt,Ie[1].x+=Fe,Ie[1].y+=dt),R.box&&Qo(R.box,ee,we),R.boxes&&R.boxes.length>0))for(var Ne=0;Ne<R.boxes.length;Ne++)Qo(R.boxes[Ne],ee,we)}},{key:"addResult",value:function(R,W){var z=this;W&&this.context.resultCollector&&(R.barcodes?R.barcodes.filter(function(ee){return ee.codeResult}).forEach(function(ee){return z.addResult(ee,W)}):R.codeResult&&this.context.resultCollector.addResult(W,this.context.inputStream.getCanvasSize(),R.codeResult))}},{key:"hasCodeResult",value:function(R){return!(!R||!(R.barcodes?R.barcodes.some(function(W){return W.codeResult}):R.codeResult))}},{key:"publishResult",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,W=arguments.length>1?arguments[1]:void 0,z=R;R&&this.context.onUIThread&&(this.transformResult(R),this.addResult(R,W),z=R.barcodes||R),Cn.publish("processed",z),this.hasCodeResult(R)&&Cn.publish("detected",z)}},{key:"locateAndDecode",value:(he=Y()(fe.a.mark(function R(){var W,z,ee,we,Ne;return fe.a.wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(!(W=this.getBoundingBoxes())){Ie.next=12;break}return Ie.next=4,this.context.decoder.decodeFromBoundingBoxes(W);case 4:if(Ie.t0=Ie.sent,Ie.t0){Ie.next=7;break}Ie.t0={};case 7:(ee=Ie.t0).boxes=W,this.publishResult(ee,null===(z=this.context.inputImageWrapper)||void 0===z?void 0:z.data),Ie.next=16;break;case 12:return Ie.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(we=Ie.sent)?this.publishResult(we,null===(Ne=this.context.inputImageWrapper)||void 0===Ne?void 0:Ne.data):this.publishResult();case 16:case"end":return Ie.stop()}},R,this)})),function(){return he.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var R,W=this,z=null,ee=1e3/((null===(R=this.context.config)||void 0===R?void 0:R.frequency)||60);this.context.stopped=!1;var we=this.context;!function Ne(Ie){z=z||Ie,we.stopped||(Ie>=z&&(z+=ee,W.update()),window.requestAnimationFrame(Ne))}(performance.now())}},{key:"start",value:function(){var R,W;this.context.onUIThread&&"LiveStream"===(null===(R=this.context.config)||void 0===R||null===(W=R.inputStream)||void 0===W?void 0:W.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(Oe=Y()(fe.a.mark(function R(){var W;return fe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(this.context.stopped=!0,xs(0),null===(W=this.context.config)||void 0===W||!W.inputStream||"LiveStream"!==this.context.config.inputStream.type){z.next=6;break}return z.next=5,Gn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return z.stop()}},R,this)})),function(){return Oe.apply(this,arguments)})},{key:"setReaders",value:function(R){var W;this.context.decoder&&this.context.decoder.setReaders(R),W=R,Fi.forEach(function(z){return z.worker.postMessage({cmd:"setReaders",readers:W})})}},{key:"registerReader",value:function(R,W){var z,ee;sr.registerReader(R,W),this.context.decoder&&this.context.decoder.registerReader(R,W),z=R,ee=W,Fi.forEach(function(we){return we.worker.postMessage({cmd:"registerReader",name:z,reader:ee})})}}]),Ee}(),mo=new wi,cs=mo.context,ho={init:function(Ee,Oe,he){var R,W=arguments.length>3&&void 0!==arguments[3]?arguments[3]:mo;return Oe||(R=new Promise(function(z,ee){Oe=function(we){we?ee(we):z()}})),W.context.config=Q()({},Xn,Ee),W.context.config.numOfWorkers>0&&(W.context.config.numOfWorkers=0),he?(W.context.onUIThread=!1,W.initializeData(he),Oe&&Oe()):W.initInputStream(Oe),R},start:function(){return mo.start()},stop:function(){return mo.stop()},pause:function(){cs.stopped=!0},onDetected:function(Ee){Ee&&("function"==typeof Ee||"object"===O()(Ee)&&Ee.callback)?Cn.subscribe("detected",Ee):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(Ee){Cn.unsubscribe("detected",Ee)},onProcessed:function(Ee){Ee&&("function"==typeof Ee||"object"===O()(Ee)&&Ee.callback)?Cn.subscribe("processed",Ee):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(Ee){Cn.unsubscribe("processed",Ee)},setReaders:function(Ee){Ee?mo.setReaders(Ee):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(Ee,Oe){Ee?Oe?mo.registerReader(Ee,Oe):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(Ee){Ee&&"function"==typeof Ee.addResult&&(cs.resultCollector=Ee)},get canvas(){return cs.canvasContainer},decodeSingle:function(Ee,Oe){var he=this,R=new wi;return(Ee=Q()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:Ee.src},numOfWorkers:1,locator:{halfSample:!1}},Ee)).numOfWorkers>0&&(Ee.numOfWorkers=0),Ee.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),Ee.numOfWorkers=0),new Promise(function(W,z){try{he.init(Ee,function(){Cn.once("processed",function(ee){R.stop(),Oe&&Oe.call(null,ee),W(ee)},!0),R.start()},null,R)}catch(ee){z(ee)}})},get default(){return ho},Readers:e,CameraAccess:Gn,ImageDebug:ut.a,ImageWrapper:J.a,ResultCollector:Pr};x.default=ho}]).default},2090:(pt,w,x)=>{"use strict";x.d(w,{$s:()=>Vn,BH:()=>et,L:()=>ne,LL:()=>yt,Lj:()=>Wn,Mn:()=>nt,UG:()=>He,US:()=>Q,X3:()=>yn,ZB:()=>fe,ZR:()=>Ce,b$:()=>$e,d:()=>Qe,eu:()=>me,hl:()=>ve,jU:()=>ke,m9:()=>Gt,ne:()=>Bn,pd:()=>Wr,r3:()=>br,ru:()=>_t,tV:()=>Y,uI:()=>_e,vZ:()=>Gr,w1:()=>xe,xO:()=>Si,xb:()=>ni,z$:()=>vt,zI:()=>re,zd:()=>Kr});var p=x(5861);const O=function(Me){const Ae=[];let Se=0;for(let lt=0;lt<Me.length;lt++){let Ke=Me.charCodeAt(lt);Ke<128?Ae[Se++]=Ke:Ke<2048?(Ae[Se++]=Ke>>6|192,Ae[Se++]=63&Ke|128):55296==(64512&Ke)&&lt+1<Me.length&&56320==(64512&Me.charCodeAt(lt+1))?(Ke=65536+((1023&Ke)<<10)+(1023&Me.charCodeAt(++lt)),Ae[Se++]=Ke>>18|240,Ae[Se++]=Ke>>12&63|128,Ae[Se++]=Ke>>6&63|128,Ae[Se++]=63&Ke|128):(Ae[Se++]=Ke>>12|224,Ae[Se++]=Ke>>6&63|128,Ae[Se++]=63&Ke|128)}return Ae},Q={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Me,Ae){if(!Array.isArray(Me))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Se=Ae?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let Ke=0;Ke<Me.length;Ke+=3){const qt=Me[Ke],Zn=Ke+1<Me.length,qn=Zn?Me[Ke+1]:0,ir=Ke+2<Me.length,or=ir?Me[Ke+2]:0;let In=(15&qn)<<2|or>>6,Sn=63&or;ir||(Sn=64,Zn||(In=64)),lt.push(Se[qt>>2],Se[(3&qt)<<4|qn>>4],Se[In],Se[Sn])}return lt.join("")},encodeString(Me,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?btoa(Me):this.encodeByteArray(O(Me),Ae)},decodeString(Me,Ae){return this.HAS_NATIVE_SUPPORT&&!Ae?atob(Me):function(Me){const Ae=[];let Se=0,lt=0;for(;Se<Me.length;){const Ke=Me[Se++];if(Ke<128)Ae[lt++]=String.fromCharCode(Ke);else if(Ke>191&&Ke<224){const qt=Me[Se++];Ae[lt++]=String.fromCharCode((31&Ke)<<6|63&qt)}else if(Ke>239&&Ke<365){const ir=((7&Ke)<<18|(63&Me[Se++])<<12|(63&Me[Se++])<<6|63&Me[Se++])-65536;Ae[lt++]=String.fromCharCode(55296+(ir>>10)),Ae[lt++]=String.fromCharCode(56320+(1023&ir))}else{const qt=Me[Se++],Zn=Me[Se++];Ae[lt++]=String.fromCharCode((15&Ke)<<12|(63&qt)<<6|63&Zn)}}return Ae.join("")}(this.decodeStringToByteArray(Me,Ae))},decodeStringToByteArray(Me,Ae){this.init_();const Se=Ae?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let Ke=0;Ke<Me.length;){const qt=Se[Me.charAt(Ke++)],qn=Ke<Me.length?Se[Me.charAt(Ke)]:0;++Ke;const or=Ke<Me.length?Se[Me.charAt(Ke)]:64;++Ke;const Cn=Ke<Me.length?Se[Me.charAt(Ke)]:64;if(++Ke,null==qt||null==qn||null==or||null==Cn)throw Error();lt.push(qt<<2|qn>>4),64!==or&&(lt.push(qn<<4&240|or>>2),64!==Cn&&lt.push(or<<6&192|Cn))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Me=0;Me<this.ENCODED_VALS.length;Me++)this.byteToCharMap_[Me]=this.ENCODED_VALS.charAt(Me),this.charToByteMap_[this.byteToCharMap_[Me]]=Me,this.byteToCharMapWebSafe_[Me]=this.ENCODED_VALS_WEBSAFE.charAt(Me),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Me]]=Me,Me>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Me)]=Me,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Me)]=Me)}}},ne=function(Me){return function(Me){const Ae=O(Me);return Q.encodeByteArray(Ae,!0)}(Me).replace(/\./g,"")},Y=function(Me){try{return Q.decodeString(Me,!0)}catch(Ae){console.error("base64Decode failed: ",Ae)}return null};function fe(Me,Ae){if(!(Ae instanceof Object))return Ae;switch(Ae.constructor){case Date:return new Date(Ae.getTime());case Object:void 0===Me&&(Me={});break;case Array:Me=[];break;default:return Ae}for(const Se in Ae)!Ae.hasOwnProperty(Se)||!ut(Se)||(Me[Se]=fe(Me[Se],Ae[Se]));return Me}function ut(Me){return"__proto__"!==Me}class et{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Ae,Se)=>{this.resolve=Ae,this.reject=Se})}wrapCallback(Ae){return(Se,lt)=>{Se?this.reject(Se):this.resolve(lt),"function"==typeof Ae&&(this.promise.catch(()=>{}),1===Ae.length?Ae(Se):Ae(Se,lt))}}}function vt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function He(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Me){return!1}}function ke(){return"object"==typeof self&&self.self===self}function _t(){const Me="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Me&&void 0!==Me.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Qe(){return vt().indexOf("Electron/")>=0}function xe(){const Me=vt();return Me.indexOf("MSIE ")>=0||Me.indexOf("Trident/")>=0}function nt(){return vt().indexOf("MSAppHost/")>=0}function ve(){return"object"==typeof indexedDB}function me(){return new Promise((Me,Ae)=>{try{let Se=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",Ke=self.indexedDB.open(lt);Ke.onsuccess=()=>{Ke.result.close(),Se||self.indexedDB.deleteDatabase(lt),Me(!0)},Ke.onupgradeneeded=()=>{Se=!1},Ke.onerror=()=>{var qt;Ae((null===(qt=Ke.error)||void 0===qt?void 0:qt.message)||"")}}catch(Se){Ae(Se)}})}function re(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ce extends Error{constructor(Ae,Se,lt){super(Se),this.code=Ae,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ce.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,yt.prototype.create)}}class yt{constructor(Ae,Se,lt){this.service=Ae,this.serviceName=Se,this.errors=lt}create(Ae,...Se){const lt=Se[0]||{},Ke=`${this.service}/${Ae}`,qt=this.errors[Ae],Zn=qt?function Mt(Me,Ae){return Me.replace(mn,(Se,lt)=>{const Ke=Ae[lt];return null!=Ke?String(Ke):`<${lt}?>`})}(qt,lt):"Error";return new Ce(Ke,`${this.serviceName}: ${Zn} (${Ke}).`,lt)}}const mn=/\{\$([^}]+)}/g;function br(Me,Ae){return Object.prototype.hasOwnProperty.call(Me,Ae)}function ni(Me){for(const Ae in Me)if(Object.prototype.hasOwnProperty.call(Me,Ae))return!1;return!0}function Gr(Me,Ae){if(Me===Ae)return!0;const Se=Object.keys(Me),lt=Object.keys(Ae);for(const Ke of Se){if(!lt.includes(Ke))return!1;const qt=Me[Ke],Zn=Ae[Ke];if(Oi(qt)&&Oi(Zn)){if(!Gr(qt,Zn))return!1}else if(qt!==Zn)return!1}for(const Ke of lt)if(!Se.includes(Ke))return!1;return!0}function Oi(Me){return null!==Me&&"object"==typeof Me}function Si(Me){const Ae=[];for(const[Se,lt]of Object.entries(Me))Array.isArray(lt)?lt.forEach(Ke=>{Ae.push(encodeURIComponent(Se)+"="+encodeURIComponent(Ke))}):Ae.push(encodeURIComponent(Se)+"="+encodeURIComponent(lt));return Ae.length?"&"+Ae.join("&"):""}function Kr(Me){const Ae={};return Me.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[Ke,qt]=lt.split("=");Ae[decodeURIComponent(Ke)]=decodeURIComponent(qt)}}),Ae}function Wr(Me){const Ae=Me.indexOf("?");if(!Ae)return"";const Se=Me.indexOf("#",Ae);return Me.substring(Ae,Se>0?Se:void 0)}function Bn(Me,Ae){const Se=new ji(Me,Ae);return Se.subscribe.bind(Se)}class ji{constructor(Ae,Se){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Se,this.task.then(()=>{Ae(this)}).catch(lt=>{this.error(lt)})}next(Ae){this.forEachObserver(Se=>{Se.next(Ae)})}error(Ae){this.forEachObserver(Se=>{Se.error(Ae)}),this.close(Ae)}complete(){this.forEachObserver(Ae=>{Ae.complete()}),this.close()}subscribe(Ae,Se,lt){let Ke;if(void 0===Ae&&void 0===Se&&void 0===lt)throw new Error("Missing Observer.");Ke=function Qr(Me,Ae){if("object"!=typeof Me||null===Me)return!1;for(const Se of Ae)if(Se in Me&&"function"==typeof Me[Se])return!0;return!1}(Ae,["next","error","complete"])?Ae:{next:Ae,error:Se,complete:lt},void 0===Ke.next&&(Ke.next=Be),void 0===Ke.error&&(Ke.error=Be),void 0===Ke.complete&&(Ke.complete=Be);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ke.error(this.finalError):Ke.complete()}catch(Zn){}}),this.observers.push(Ke),qt}unsubscribeOne(Ae){void 0===this.observers||void 0===this.observers[Ae]||(delete this.observers[Ae],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Ae){if(!this.finalized)for(let Se=0;Se<this.observers.length;Se++)this.sendOne(Se,Ae)}sendOne(Ae,Se){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Ae])try{Se(this.observers[Ae])}catch(lt){"undefined"!=typeof console&&console.error&&console.error(lt)}})}close(Ae){this.finalized||(this.finalized=!0,void 0!==Ae&&(this.finalError=Ae),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Be(){}function Vn(Me,Ae=1e3,Se=2){const lt=Ae*Math.pow(Se,Me),Ke=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+Ke)}function Gt(Me){return Me&&Me._delegate?Me._delegate:Me}function er(Me,Ae){return new Promise((Se,lt)=>{Me.onsuccess=Ke=>{Se(Ke.target.result)},Me.onerror=Ke=>{var qt;lt(`${Ae}: ${null===(qt=Ke.target.error)||void 0===qt?void 0:qt.message}`)}})}class kn{constructor(Ae){this._db=Ae,this.objectStoreNames=this._db.objectStoreNames}transaction(Ae,Se){return new Bt(this._db.transaction.call(this._db,Ae,Se))}createObjectStore(Ae,Se){return new ft(this._db.createObjectStore(Ae,Se))}close(){this._db.close()}}class Bt{constructor(Ae){this._transaction=Ae,this.complete=new Promise((Se,lt)=>{this._transaction.oncomplete=function(){Se()},this._transaction.onerror=()=>{lt(this._transaction.error)},this._transaction.onabort=()=>{lt(this._transaction.error)}})}objectStore(Ae){return new ft(this._transaction.objectStore(Ae))}}class ft{constructor(Ae){this._store=Ae}index(Ae){return new tn(this._store.index(Ae))}createIndex(Ae,Se,lt){return new tn(this._store.createIndex(Ae,Se,lt))}get(Ae){return er(this._store.get(Ae),"Error reading from IndexedDB")}put(Ae,Se){return er(this._store.put(Ae,Se),"Error writing to IndexedDB")}delete(Ae){return er(this._store.delete(Ae),"Error deleting from IndexedDB")}clear(){return er(this._store.clear(),"Error clearing IndexedDB object store")}}class tn{constructor(Ae){this._index=Ae}get(Ae){return er(this._index.get(Ae),"Error reading from IndexedDB")}}function yn(Me,Ae,Se){return new Promise((lt,Ke)=>{try{const qt=indexedDB.open(Me,Ae);qt.onsuccess=Zn=>{lt(new kn(Zn.target.result))},qt.onerror=Zn=>{var qn;Ke(`Error opening indexedDB: ${null===(qn=Zn.target.error)||void 0===qn?void 0:qn.message}`)},qt.onupgradeneeded=Zn=>{Se(new kn(qt.result),Zn.oldVersion,Zn.newVersion,new Bt(qt.transaction))}}catch(qt){Ke(`Error opening indexedDB: ${qt.message}`)}})}function Wn(Me){return Un.apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(Me){return new Promise((Ae,Se)=>{try{const lt=indexedDB.deleteDatabase(Me);lt.onsuccess=()=>{Ae()},lt.onerror=Ke=>{var qt;Se(`Error deleting indexedDB database "${Me}": ${null===(qt=Ke.target.error)||void 0===qt?void 0:qt.message}`)}}catch(lt){Se(`Error deleting indexedDB database "${Me}": ${lt.message}`)}})})).apply(this,arguments)}},2940:(pt,w,x)=>{"use strict";x.d(w,{T:()=>p});const p="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(pt,w,x)=>{"use strict";x.d(w,{X:()=>p});const p=[{barcode:"12345",createdOn:1648717508909,id:"qrnnSLWTzjPy7cXjm2DD",name:"2 P\xe2tes feuillet\xe9es",createdBy:{email:"jollmat@hotmail.com",lastLogin:1648714433260,admin:!0},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/339/259/020/3433/front_fr.7.400.jpg",brand:"Croustipate"},{name:"7 Up sin az\xfacar, 2L",barcode:"8717700002402",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1,brand:"7 Up",id:"nltN2RwvykuhHdypSWbj"},{brand:"Borges",name:"Aceite de oliva suave",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",barcode:"8410179010014",id:"NqwhkXHtGfGcJ5q7KsRz"},{name:"Aceite refinado de girasol botella 1 l",favourite:!1,barcode:"8410179202006",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",brand:"Borges",id:"6zEUzVIlJFRxt8hRPpdn"},{brand:"Marca desconeguda",favourite:!1,name:"Acelgas",barcode:"8480000163141",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",id:"q9Z0MayoXzRZKLTF5vDy"},{name:"Acelgas categor\xeda extra",barcode:"8480017574657",brand:"Dia",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",id:"oHLo9zNJH6p0uSTJNcAK"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",id:"leklVFvsbS9ilPDvL2Fn"},{favourite:!1,brand:"Bezoya",barcode:"8410128000400",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",name:"Agua mineral natural",id:"SlRmgYQ7Q4gIrntiumBy"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",favourite:!1,barcode:"8410128160074",brand:"Bezoya",name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",id:"lexnGS3p54WbYuhquB31"},{name:"Agua mineral natural garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/550/1131/front_es.11.400.jpg",brand:"Font Vella",id:"PCYDzXKqxzBqpCdaUNYo",barcode:"8410055501131",createdOn:1649162588705,createdBy:{lastLogin:1648889388379,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},favourite:!1},{brand:"Viladrau",favourite:!1,name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",barcode:"8411002101701",id:"Q70bJqYgDk49yzOy0Zcw"},{brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",barcode:"8436551861951",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",id:"K1aeYHAdujAOseKwRc7w"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9439/front_es.10.400.jpg",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904,email:"joanlloria@gmail.com"},favourite:!1,name:"Amanida del temps",id:"30nav3nZaY4KBBplEpB0",createdOn:1649443191448,barcode:"8437011969439",brand:"ametller origen"},{id:"3MwASOS7hvysSgIzAgUK",brand:"Amstel",barcode:"8410569615614",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg",name:"Amstel Radler"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1,name:"An\xeds dulce",brand:"An\xeds del Mono",barcode:"8410337219082",id:"Bv074TbrKKPtZVHHtTak"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",name:"Aroma de Vainilla",brand:"Hacendado",barcode:"8480000325242",favourite:!1,id:"Ado6jD7TCsaLoVsxUozf"},{favourite:!1,brand:"Brillante",name:"Arroz integral",barcode:"8410184800150",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",id:"n4zcQ59UCaVNsahkzXma"},{brand:"Brillante",favourite:!1,name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",barcode:"8410184013086",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg",id:"z5geMGnZ4ziKOmmcSwwl"},{favourite:!1,barcode:"8410448000913",brand:"Schara",name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",id:"ZYAzdv1no7HEq2czfOZr"},{brand:"Granini",barcode:"8431707094290",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg",id:"3lKVzkKi1CtI6xJjimWA"},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",name:"At\xfan en aceite de girasol",barcode:"8480000180926",id:"Gopq8JVDytroBPtGXoxF"},{favourite:!1,brand:"guest",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",barcode:"8436033878095",name:"At\xfan en aceite de girasol",id:"3ryTb2dhZeZi5b9I9lMG"},{barcode:"8410714107735",favourite:!1,name:"Azucarera Sucre Glace 500G",brand:"Azucarera",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",id:"30m9z8rGbtu8VPw8RzPf"},{favourite:!1,brand:"Espiga Blanca",barcode:"8436540562050",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",name:"Bastones de cristal",id:"vIFWp8mAaDrkh6VpezCu"},{favourite:!1,barcode:"8076800195132",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg",brand:"Barilla",name:"Bavette n.13",id:"8tda9fG5Wtj0KImax7zm"},{imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1,brand:"ALITEY",barcode:"8423352861402",name:"Bebida de avena",id:"8bxuQK7atfV4FDjiXH3G"},{barcode:"8436551865355",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg",name:"Beguda vegetal d'arr\xf2s",id:"1m2qNvyCKtKxVlJn0E4N"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg",name:"Bicarbonato s\xf3dico",brand:"Dia",barcode:"8480017175397",favourite:!1,id:"vrzvdVtxcWvp3qw3aiDh"},{brand:"Lotus",favourite:!1,name:"Biscoff",barcode:"5410126716016",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg",id:"hndTO6g8rFhvc8pHl7kl"},{favourite:!1,name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",barcode:"8410179202020",brand:"Borges",id:"x01xB6jOHkDnwEwdgC1e"},{barcode:"8015100563067",imageUrl:"",name:"Bref power active, alpine",brand:"Henkel",favourite:!1,id:"XBhKl9TCvR2klNWauS4p"},{name:"Brots de Ruca",favourite:!1,barcode:"8422410473878",brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg",id:"l6nkLXadsPk7Ehf0WGnJ"},{name:"brots selectes",barcode:"8436551867502",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",brand:"ametller origen",id:"hoJYThDEIKKON38d7l4o"},{barcode:"8410148509327",name:"Cacahuete frito",brand:"Borges",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",id:"fBt6Uvb5EC1QF1bec6U8"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",barcode:"8480000341778",name:"Canela Molida",brand:"Hacendado",favourite:!1,id:"Q45IWe8UFJmIMQevB57O"},{brand:"Dani",name:"Canela molida",barcode:"8410721000180",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",id:"HPv7I6ohHstOdBmqkRyM"},{favourite:!1,brand:"Hacendado",name:"Cannelloni tubos precocidos",barcode:"8480000064974",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",id:"LtgpXq6f0Lyz1ObmDek4"},{favourite:!1,barcode:"8480000136343",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",name:"Capsula cafe classic",id:"L8fz1zUx3C266faJZLHJ"},{name:"Cebolla frita",brand:"Espiga Blanca",barcode:"8412945008508",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg",id:"ReaXV2iO2tNr8brsmLZJ"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",name:"Chapata",barcode:"8410706000266",brand:"Recondo",favourite:!1,id:"QsUX7H05EMIiyxgjxkzU"},{barcode:"80177616",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1,name:"Chocolate bars x 8",brand:"Kinder,Ferrero",id:"GVrx3aFKfbYDzA8ug2sy"},{favourite:!1,barcode:"7613035268388",name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg",brand:"Nestl\xe9",id:"nVQQx2Go0DIsFpD1fnEy"},{imageUrl:"https://images.openfoodfacts.org/images/products/761/303/531/4016/front_es.25.400.jpg",name:"Chocolate con leche y almendras",id:"PYxYdVJPIw8PYGT3hJL7",brand:"Nestl\xe9",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379},favourite:!1,barcode:"7613035314016",createdOn:1649162622233},{favourite:!1,brand:"Illy",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",barcode:"8003753900438",name:"coffee tin",id:"P3TJFIMJJ6umgLsMNARA"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",brand:"Ametller origen",name:"Crema ceba i formatge",favourite:!1,barcode:"8436554524570",id:"uptkoR3RoAgnxL4on1zY"},{name:"Crema de Aceite Balsamico de Modena",barcode:"8422410809851",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1,brand:"Bonpreu",id:"SXfe5C6ROv5I8weIylKE"},{brand:"Ametller Origen",barcode:"8436554523979",name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",favourite:!1,id:"3dkzQEdUiw6jeSdhv5qE"},{barcode:"8436583955093",favourite:!1,brand:"Novell",imageUrl:"",name:"C\xe0psules de caf\xe9 intens 16u.",id:"4cx8G55JBcftkwPjMRrc"},{favourite:!1,barcode:"8480000325273",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",name:"Decoraciones",id:"c5ebv4Zxds72D4gLOxml"},{barcode:"5054563101648",favourite:!1,id:"jdAnPuqtEeAaPzOCYl00",imageUrl:"https://images.rappi.com.mx/products/92d7d2a4-18f6-46fd-9580-c679a23d1493.png?d=200x200&e=webp",name:"Dent\xedfrico blanqueante, 100ml",brand:"Sensodyne"},{id:"zsWPRKl0FTIpnOBG0WYm",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/686/2295/front_es.12.400.jpg",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",lastLogin:1649187527904},favourite:!1,brand:"Nescaf\xe9",name:"Dolce Gusto",createdOn:1649525097595,barcode:"7613036862295"},{brand:"Marca desconeguda",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg",name:"Donettes",favourite:!1,barcode:"8410022115255",id:"qjRYx08R9GFt9DlXWbOE"},{name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",barcode:"5900685007910",brand:"Seagram's",favourite:!1,id:"qcJaJGwADZOiTOgv2EdL"},{name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",brand:"Nestl\xe9",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg",barcode:"7613036569927",id:"VZMbnJHjk69FeYdriirE"},{name:"Emmental",brand:"Ametller origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg",barcode:"8436583952054",id:"9zAdEOgvYPvtVuzq4vvt"},{imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",barcode:"3560070119851",id:"Gv96bsD8WJpAsGpieFtf"},{brand:"Florette",barcode:"8414516070167",name:"Ensalada mixta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg",id:"K78rK6Q1QHEun2nEWjjJ"},{name:"Espaguetis a la Carbornara",favourite:!1,brand:"Ametller Origen",barcode:"8436551862880",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg",id:"swOdy2x2nOMjVLPZNiDx"},{name:"Espresso intenso descafeinado",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg",barcode:"7613035260924",brand:"Nescafe",favourite:!1,id:"1RUNXjddz7LxrCMoYClY"},{name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",barcode:"8410564002204",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg",brand:"Frit Ravich",id:"tCn1OPIu3HMqMnPS3XEx"},{barcode:"8422410040872",favourite:!1,brand:"Bonpreu",name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg",id:"2hQz4Ji7dunBz9IRXDGI"},{favourite:!1,brand:"Barilla",barcode:"8076808060654",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",name:"Farfalle",id:"ItsmDGWuwZqq823GL7o2"},{name:"Filtros slim, 150 u.",brand:"OCB",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",barcode:"3057068056781",id:"ti3ipZazS5OY74X31qYh"},{brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",barcode:"8410739033002",favourite:!1,id:"0hLDVVtoWHHGxpJBJ8xv"},{name:"Font Vella",brand:"Danone",barcode:"8410055033014",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg",id:"Z5rLwATggE9EhQmZ2VGM"},{name:"Font Vella",brand:"Danone",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",favourite:!1,barcode:"8410055133394",id:"8h4MTfnL9KLKvD9kaucU"},{brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",favourite:!1,id:"Tsxz3HmPSZ0YuzHfWDFe",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/160A34FA-A880-418F-A9AD2C2E43C8673B/057DEBF5-554E-4F12-A960CB7D747B5A64/Product%20High-EAN_IMG_5029053010052_1.png",barcode:"5029053010052"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",id:"czU7rd3XyqdhaLEIKKlc"},{imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",brand:"Barilla",favourite:!1,barcode:"8076802085981",name:"Fusilli",id:"kvidMtUxlJWu4BToQoye"},{brand:"Carolina",favourite:!1,name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",barcode:"8437019000004",id:"tnhUbxvcPNukCitKgjJq"},{brand:"Bonpreu",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg",name:"Garbanzos cocidos",barcode:"8422410177851",id:"h1r7SWA1VVM1fsYiFB6Q"},{name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",favourite:!1,barcode:"8410505512267",brand:"Luengo",id:"8vDyG5gsOCFzH2s3wMaj"},{name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",favourite:!1,barcode:"8420309210115",brand:"Pe\xf1a Torcal",id:"nX934vnWFvL3uqIZ2JBl"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg",brand:"Bonpreu",barcode:"8422410387915",name:"Hamburguesa de l'era",id:"Odb5MEPbjvvGtJi1Sw6w"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg",name:"Higos secos",favourite:!1,barcode:"8410564016157",brand:"Frit Ravich",id:"cJ7ynQ2WO9ZzVoxIeyW7"},{name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",brand:"Hornimans",barcode:"8410091104488",favourite:!1,id:"cqyqq3xxpf8eOVWF4wsv"},{id:"E5Pbprvch6htVuas87ub",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0992/front_es.11.400.jpg",barcode:"8436554520992",createdOn:1648885439824,createdBy:{lastLogin:1648740479491,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},name:"Iogurt cremos amb mango"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg",name:"Iogurt cremos macedonia",barcode:"8436554522279",brand:"Ametller origen",favourite:!1,id:"kXZ0ETe4tqcDeEJgwpHj"},{barcode:"8437011969217",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg",brand:"Ametller Origen",name:"Iogurt cremoso amb maduixa",favourite:!1,id:"0y6hb1ts1UeZ64z4OdDP"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0985/front_es.9.400.jpg",brand:"Ametller Origen",createdOn:1648885460412,barcode:"8436554520985",name:"Iogurt Crem\xf3s Maduixa",createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"UUf8ANFrTGmZXlvRK6vf",favourite:!1},{imageUrl:"https://www.marvimundo.com/media/catalog/product/cache/26ef67ba4867c44769c635c68212a088/f/a/fairy-lavavajillas-mano-ultra-poder-400-ml-128042-0_1.jpg",id:"eqBkW8faoUMizZAKo9v5",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",barcode:"8001841624143",favourite:!1},{brand:"Carrefour",id:"0hUlWDteNomeaDM0r9rF",name:"Jumbo Roll, Papel rollo multiusos",favourite:!1,barcode:"3560071152413",imageUrl:"https://static.carrefour.es/hd_510x_/img_pim_food/839977_00_1.jpg"},{favourite:!1,brand:"Kinder,Ferrero",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg",name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",barcode:"4008400203829",id:"wKcPnND7kRp2oZOZEDec"},{brand:"Marca desconeguda",barcode:"8410199023094",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",name:"lay\u2019s gourmet original",id:"eGb9Zi2YLCc4vUilnfyc"},{name:"Leche",imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg",favourite:!1,barcode:"8410135001322",brand:"Ato",id:"DYRii4Q1nlQXSVux4tlv"},{brand:"Carrefour",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",barcode:"8431876005912",name:"Lenteja a la riojana",id:"FlyrJ9yKHxEupuDM1XOB"},{brand:"HC Premium",favourite:!1,barcode:"8426765495240",name:"Lentejas pardinas",imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg",id:"jXSGai0V4QTNoGkdZlVj"},{id:"BdOKDepFnrKlvXJe05kx",imageUrl:"https://m.media-amazon.com/images/I/61njkx6RgcL._AC_SX466_.jpg",name:"Levadura de Cerveza",barcode:"8435041321364",brand:"Nature Essential",favourite:!1},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",id:"GKC6tx0q50UgpCIh98Xu"},{brand:"Don Limpio",barcode:"8006540576588",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://arcashop.es/12829-large_default/don-limpio-limpiador-suelos-piedra-natural-marmol-y-maderas.jpg",id:"LP9uDdp3LWmoOIZoE5bJ",favourite:!1},{brand:"Nestl\xe9",barcode:"7613033481314",favourite:!1,name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",id:"nS0432qVdcAwMoFuxMHR"},{name:"Listerine Cuidado Total 500ml",imageUrl:"https://cdns3-2.primor.eu/84242-thickbox/total-care.jpg",barcode:"3574661648019",id:"7bvTHQ1c1OE25ZhXiL6k",favourite:!1,brand:"Johnson & Johnson"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",brand:"Llet Nostra",favourite:!1,barcode:"8437004314031",name:"Llet Semi Desnatada Nostra",id:"9tbAVUXZjoXNLNMPw9Qt"},{favourite:!1,brand:"Deliplus",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",barcode:"8480000792013",name:"Loci\xf3n aloe vera",id:"3wsjdR3cvX08ZEUryPYg"},{barcode:"8421660006010",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",name:"Magdalenas gegants",favourite:!1,id:"eKOXybB8eRHbmXN426O3"},{favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",barcode:"8714100635650",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg",brand:"Magnum",id:"lXG3EL793X2hZN2mVGYe"},{brand:"Arias,Savencia",name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg",favourite:!1,barcode:"8413100612639",id:"Wtq2IcT5fWTF59eJk8Sy"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg",barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",id:"pJvKRQ0bzDrMyMXTSoSR"},{name:"Marcilla caf\xe9 superior creme express natural",barcode:"8410091301405",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg",favourite:!1,brand:"Marcilla",id:"kupLfg9cgCOqrz0amX7Y"},{name:"Ma\xedz dulce",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg",barcode:"8480000167644",favourite:!1,brand:"Hacendado",id:"o46v8FNpkET9eBCoJwvy"},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0"},brand:"Florette",barcode:"8414516082313",favourite:!1,name:"Mezclum ensalada",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/608/2313/front_es.16.400.jpg",id:"pXCQGrgvKgCNWiQKErry"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg",brand:"Bel",name:"Mini Babybel",barcode:"3073780902366",id:"GNoY9uMARm3pyYHuyZ47"},{barcode:"8000270018257",imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg",name:"Mini tostas redondas",favourite:!1,brand:"Bimbo",id:"ssBUB9ehqpXzWlDhbS7g"},{brand:"Carrefour",name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",barcode:"3560070347438",favourite:!1,id:"JUesQloyy9p0uihUfVjm"},{name:"Minicracker fibra",favourite:!1,brand:"Espiga blanca",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg",barcode:"8436540566942",id:"ZEbAsgDGCPjs0feY03ox"},{favourite:!1,barcode:"8480000644916",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",name:"Mochi Coco",brand:"Hacendado",id:"baqE2SfxQ5hmFkcHBMPs"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",brand:"Prima",name:"Mostaza",barcode:"8410118041574",favourite:!1,id:"4jHwflGrmg4Og0iUasxh"},{name:"Muesli crunchy chocolate",barcode:"8480000093554",brand:"Hacendado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",id:"ZPOQCPkr4yYSnziHtHrq"},{favourite:!1,name:"Nachos redondos",brand:"Carrefour",barcode:"8431876305395",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg",id:"ZfmqU8YhBOpAEFNZZvmr"},{favourite:!1,barcode:"7613039490266",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg",brand:"Nestl\xe9",name:"Nesquik",id:"ey3FojyVJkBRPHNqGatU"},{name:"Nom desconegut",favourite:!1,brand:"Sanytol",barcode:"8411135005037",id:"obgtqydHBkBWxw7gkDz7",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg",barcode:"4002160092501",name:"N\xe9ctar naranja briks",id:"54m66Drk0byQbBl7o4nx"},{barcode:"8410179012018",name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg",favourite:!1,brand:"Borges",id:"XaUmCXnMUNKyV7Z4Zlze"},{name:"Oli d\u2019oliva",favourite:!1,brand:"Ametller Origen",barcode:"8436551860251",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",id:"CWMgTznWc0LBLQE5fPOp"},{brand:"Bonpreu",name:"Oli refinat de gira-sol",id:"2X0xYZv9aIMorvDaQDdk",imageUrl:"https://es.openfoodfacts.org/images/products/842/241/081/0529/front_es.3.full.jpg",barcode:"8422410412044",favourite:!1},{brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",barcode:"8422410299744",favourite:!1,name:"Ous frescos pag\xe8s",id:"E3paebxmi4qrbNKotFSt"},{name:"Pa de vidre",brand:"Ametller Origen",favourite:!1,barcode:"8436583954577",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",id:"CdWRC8tyMdD7HmJS8dT9"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg",favourite:!1,brand:"ametller origen",barcode:"8436583954539",name:"Pa de vidre tradicional",id:"vqhsiM4NdD4Imq1SHpwn"},{favourite:!1,brand:"Hornimans",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",barcode:"8410091024915",id:"HfV0fo6by29W2xSocNXY"},{name:"Palets breton galletas de mantequilla",brand:"Saint Aubert",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",barcode:"3045320052244",id:"rhuFIiTyJdHboUsBvjti"},{favourite:!1,name:"Pan Dextrin Integral Santiveri",brand:"Santiveri",barcode:"8412170026896",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",id:"wzbiMwk2KWJPf7c2FgzW"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg",brand:"La Hacienda",name:"Patata entera",barcode:"8410086000856",id:"PhRG5yLA0a89xaob5xKs"},{favourite:!1,name:"Patata, pastanaga i mongeta tendra cuinats al buit",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg",barcode:"8436554525140",brand:"Ametller Origen",id:"TnvHYIykarIneKJ6hRPV"},{brand:"Bonarea",barcode:"8413585017240",name:"Patatas Fritas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",id:"Is8g3XR7l5jx8Yh3TYn0"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg",barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",id:"6O5f9LSdGMN6KzLC0JeE"},{name:"Pepinillos",brand:"Rioverde",barcode:"8410954000711",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg",id:"x5uXf6BsHpyb0o10dnon"},{barcode:"8413475312615",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg",name:"Pernil cuit ral",id:"iPVdCwHgX7RxEe9vbx6l"},{barcode:"7076848513753",imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg",brand:"Barilla",favourite:!1,name:"Pesto alla genovese",id:"UJjvwcB0MlkMg7LWgEJp"},{favourite:!1,brand:"Ametller Origen",name:"Pit de pollastre amb herbes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg",barcode:"8436554529629",id:"0WLGkAxyPWvpIQoOZ7FO"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg",favourite:!1,barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",id:"7EBzPLJYYkcF9SlDuDju"},{barcode:"8436551864709",name:"Pollastre al curri vermell",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg",id:"JhITWXv8sKhGxY2v6Akp"},{brand:"Ametller Or\xedgen",imageUrl:"",name:"Pollastre al ximixurri",favourite:!1,barcode:"8436583957110",id:"mpPu0gL1kwl9eKo8OGEi"},{name:"Pompadour Tomillo",barcode:"8412900401153",favourite:!1,brand:"Pompadour",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg",id:"PpjhyGotmEb3pH0w1eMg"},{name:"Radler Steinburg",favourite:!1,barcode:"8480000664129",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg",brand:"Steinburg",id:"SuV2VXv50lUAKN2ig5SS"},{name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",barcode:"8480000049056",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",id:"n0bA9HYP5zo4bp5Ofsa8"},{brand:"Hornimans",name:"Rooibos con especias",barcode:"8410091024953",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1,id:"2KZX2zt9pr4UnMcBz5vk"},{name:"Royal mints",barcode:"4019400440657",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1,brand:"Halloren",id:"hyuEQlks15fV1Gz2QsOJ"},{createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0},barcode:"8412480245307",createdOn:1649394055307,id:"jLlYUP7FHgQ3FLswhUvW",brand:"royal",favourite:!1,name:"Royal pescado desalado tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/841/248/024/5307/front_es.3.400.jpg"},{barcode:"3560071048341",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com"},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/356/007/104/8341/front_fr.8.400.jpg",brand:"Carrefour",id:"wDYvFJqMYYwgMzks2mpn",createdOn:1648840699569,name:"Sabl\xe9s coeur saveur pomme fa\xe7on tatin"},{barcode:"8410604112344",brand:"Sal Costa",favourite:!1,name:"Sal De Frutas",imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg",id:"tH5tDpScw3O9HU7rr6SU"},{barcode:"8480000290168",name:"Sal de frutas sabor lim\xf3n",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",id:"9TiCWwlEC7sjlcD9qNIp"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",favourite:!1,brand:"Hacienda Iberico",name:"Salchich\xf3n ib\xe9rico",barcode:"8480000581518",id:"cavXqFbme8O97pvlkdV1"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",imageUrl:"",brand:"Ametller Or\xedgen",favourite:!1,id:"2E1o2kMy6wpJqdGPBBnI"},{favourite:!1,barcode:"8410069018717",name:"Salsa bolo\xf1esa",imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg",brand:"Gallo",id:"m6SgmW4XTNAeptb9ihZB"},{name:"Salsa de tomate casera",barcode:"8436551860923",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg",favourite:!1,id:"gE7x9ZkgQ6NjSkLvGcK7"},{name:"Salsa Espinaler",barcode:"8427230989189",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg",brand:"Espinaler",id:"aVxZOQluGc7zUcL19hhO"},{name:"Saltat de Verdures Mediterrani",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",barcode:"8436551862040",id:"iJNiwpIuVvFhyBglNFxf"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",barcode:"8480000610652",brand:"Hacendado",name:"Salteado de verduras vegetais",favourite:!1,id:"kZZT52JnJAtR1NxrfXrP"},{brand:"Sanex",name:"Sanex Biomeprotect dermo, 600ml",id:"Eizi9zWGl27j7OC4UCQd",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/DB0625BE-506E-4548-83D25E0427C6DF1E/Product%20High-60BD31F8-9CAC-4C46-B9C0A974ED04D63F.png",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0},favourite:!1,barcode:"8718951388826"},{id:"taf3wFAlUncnGAFCpmMK",name:"Sea Salt Flakes",imageUrl:"https://images.heb.com/is/image/HEBGrocery/001549748?fit=constrain,1&wid=800&hei=800&fmt=jpg&qlt=85,0&resMode=sharp2&op_usm=1.75,0.3,2,0",barcode:"5011428300035",favourite:!1,brand:"Maldon"},{barcode:"5054563099082",id:"iQHS7jc0k9qpDOMVenc5",name:"Sensodyne repair & protect",imageUrl:"https://i-cf65.ch-static.com/content/dam/cf-consumer-healthcare/sensodyne-v3/es_ES/Product-pages/products/Repair%20Protect-1028x324.png?auto=format",favourite:!1,brand:"Sensodyne"},{name:"Smacks With Honey",barcode:"5050083560262",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg",brand:"Kellogg's",id:"XkHiVnBtjrGxJyFuw7Lp"},{barcode:"8076800195057",favourite:!1,name:"Spaghetti n.5",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg",brand:"Barilla",id:"fF45ojO9zvfLUurEJtdQ"},{barcode:"3269612045008",name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg",favourite:!1,brand:"Jean Brunet",id:"1Z4gCweBWIUKJIUcGK2Q"},{name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",barcode:"8410091103306",favourite:!1,brand:"Hornimans",id:"VJCKEeSbjbE4nRaLUR4L"},{brand:"Sanytol",favourite:!1,imageUrl:"https://arcashop.es/9035-large_default/sanytol-toallitas-desinfectantes-higienizantes-limpieza-hogar.jpg",barcode:"3045206312257",id:"V3KYndnRcF2eIdIk7Tpz",name:"Toallitas desinfectantes"},{id:"1TlkULpGAdQETA8Idg0G",barcode:"8436583950449",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",brand:"Ametller Origen",favourite:!1,name:"Tom\xe0quet de sucar"},{favourite:!1,createdBy:{lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},id:"51WlaDFu7cO0lNqG7wXW",brand:"Ametller Or\xedgen",imageUrl:"",barcode:"8436583950440",name:"Tom\xe0quet de sucar 650gr"},{brand:"Bonpreu",favourite:!1,name:"Tom\xe0quet Fregit",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg",barcode:"8422410170760",id:"zh9amHkXLOyk0KXUG970"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1,name:"Trinxat de la cerdanya",brand:"Ametller Origen",barcode:"8437011969903",id:"OkPyN3oS8CMoh2aGUCPO"},{brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",name:"Truita carxofa",favourite:!1,barcode:"8437008006420",id:"T0nUff9307aPgqLZ8Usv"},{id:"fdspoyuC2coeY6rdGpRT",brand:"Vicens",barcode:"8410495541070",imageUrl:"https://www.vicens.com/cdnassets//imageProduct/0138907_l.jpg",favourite:!1,name:"Turr\xf3n souffl\xe9 avellana chocolate"},{favourite:!1,brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",barcode:"8412900401207",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",id:"1sHrVBGWHgFzWXQNF41r"},{brand:"Viladrau",favourite:!1,id:"fbCoromlZiueXYYNpzeQ",barcode:"8411002105006",imageUrl:"https://static.condisline.com/resize_1280x1024/images/catalog/large/601044.jpg",name:"Viladrau Agua Mineral 5L."},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",name:"Vinagre de Jerez reserva",barcode:"8480000049537",id:"m5ZBjnZ1xpxPAZqgNHCr"},{id:"QGAa9IH14XduTjCEGI0T",barcode:"8422410598977",name:"VINAGRE de vi negre",brand:"Bonpreu",favourite:!1,imageUrl:"https://www.compraonline.bonpreuesclat.cat/images-v3/dcbcfd72-cf23-44a2-8e14-8a38edd645a3/6ff007d2-a9f2-4239-b72d-36a956d630d0/500x500.jpg"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg",barcode:"8410793031945",favourite:!1,name:"Voll-damm Cerveza Doble Malta",brand:"Voll-Damm",id:"l8q8cl0rOFzwrsH4UWYy"},{name:"Worcestershire sauce",brand:"Lea & Perrins",barcode:"5000111040983",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg",id:"rCAcIOHzZ5wUR205WVhG"},{favourite:!1,id:"KLcjOJaVljCeYkda4C5c",name:"Xori\xe7 extra",imageUrl:"https://ametllerorigen.vtexassets.com/arquivos/ids/164350-800-auto?v=637160564399800000&width=800&height=auto&aspect=true",brand:"Ametller Origen",barcode:"8435037550631"},{barcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0},createdOn:1648840788835,brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/170/702/0053/front_fr.19.400.jpg",name:"Zumo de granada y manzana",id:"YWpN9xwLcmQapm3DKHjk"},{favourite:!1,brand:"Hacendado",barcode:"8480000390103",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",name:"Zumo pura naranja",id:"D7OCE8KsONVlLfirGFkx"}]},7296:(pt,w,x)=>{"use strict";x.d(w,{H:()=>p});const p=[{imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png",favourite:!1,default:!0,id:"alcampo",name:"Alcampo"},{default:!0,favourite:!1,id:"aldi",imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg",name:"ALDI"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU",id:"ametller",default:!0,favourite:!1,name:"Ametller Origen"},{default:!0,id:"bonpreu",favourite:!1,name:"Bonpreu Esclat",imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{favourite:!1,id:"bonarea",name:"Bon\xc0rea",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU",default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU",favourite:!1,name:"Caprabo",id:"caprabo",default:!0},{favourite:!1,name:"Carrefour",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU",default:!0,id:"carrefour"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU",favourite:!1,id:"clarel",default:!0,name:"Clarel"},{id:"condis",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU",default:!0,name:"Condis",favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU",name:"Consum",id:"consum",favourite:!1,default:!0},{favourite:!1,default:!0,id:"dia",name:"Dia",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU",default:!0,favourite:!1,name:"Eroski"},{favourite:!1,name:"Hipercor",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU",id:"hipercor",default:!0},{name:"La Sirena",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU",id:"lasirena",favourite:!1,default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU",default:!0,id:"lidl",name:"Lidl",favourite:!1},{name:"Makro",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU",id:"makro",default:!0},{id:"mercadona",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU",favourite:!1,default:!0,name:"Mercadona"},{name:"Sorli",id:"sorli",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU",default:!0},{id:"supercor",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU",default:!0,name:"Supercor"},{id:"supersol",name:"Supersol",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU",default:!0,favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU",name:"Veritas",id:"veritas",default:!0,favourite:!1}]},3701:(pt,w,x)=>{"use strict";x.d(w,{M:()=>p});const p={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE",PS_USER_ALERTS:"PS_USER_ALERTS",PS_SHOPS_SEARCH_TEXT:"PS_SHOPS_SEARCH_TEXT",PS_PRODUCTS_SEARCH_TEXT:"PS_PRODUCTS_SEARCH_TEXT",PS_LAST_SHOP_ID:"PS_LAST_SHOP_ID"}},1343:(pt,w,x)=>{"use strict";x.d(w,{C:()=>j});var p=x(2292),e=x(8996),T=x(9646),N=x(3209),O=x(5e3);let j=(()=>{class Q{constructor(ne){this.firestore=ne}addShop(ne){console.log("FirestoreService.addShop()",ne);const Y=(0,p.hJ)(this.firestore,"shops");return(0,e.D)((0,p.ET)(Y,ne))}addShops(ne){console.log("FirestoreService.addShops()",ne);const Y=(0,N.qs)(this.firestore);return ne.forEach(ie=>{const fe=(0,p.hJ)(this.firestore,"shops"),ut=(0,p.JU)(fe);Y.set(ut,ie)}),Y.commit(),(0,T.of)(!0)}deleteShop(ne){console.log("FirestoreService.deleteShop()",ne);const Y=(0,p.JU)(this.firestore,`shops/${ne}`);return(0,e.D)((0,N.oe)(Y))}updateShop(ne){console.log("FirestoreService.updateShop()",ne);const Y=(0,p.JU)(this.firestore,`shops/${ne.id}`);return(0,e.D)((0,N.pl)(Y,ne))}getShops(){console.log("FirestoreService.getShops()");const ne=(0,p.hJ)(this.firestore,"shops");return(0,p.BS)(ne)}getProducts(){console.log("FirestoreService.getProducts()");const ne=(0,p.hJ)(this.firestore,"products");return(0,p.BS)(ne,{idField:"id"})}addProduct(ne){console.log("FirestoreService.addProduct()",ne),ne.imageUrl||(ne.imageUrl="");const Y=(0,p.hJ)(this.firestore,"products");return(0,e.D)((0,p.ET)(Y,ne))}addProducts(ne){console.log("FirestoreService.addProducts()",ne);const Y=(0,N.qs)(this.firestore);return ne.forEach(ie=>{const fe=(0,p.hJ)(this.firestore,"products"),ut=(0,p.JU)(fe);Y.set(ut,ie)}),Y.commit(),(0,T.of)(!0)}deleteProduct(ne){console.log("FirestoreService.deleteProduct()",ne);const Y=(0,p.JU)(this.firestore,`products/${ne}`);return(0,e.D)((0,N.oe)(Y))}updateProduct(ne){console.log("FirestoreService.updateProduct()",ne);const Y=(0,p.JU)(this.firestore,`products/${ne.id}`);return(0,e.D)((0,N.pl)(Y,ne))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const ne=(0,p.hJ)(this.firestore,"shopsProducts");return(0,p.BS)(ne,{idField:"id"})}deleteShopProduct(ne){console.log("FirestoreService.deleteShopProduct()",ne);const Y=(0,p.JU)(this.firestore,`shopsProducts/${ne.id}`);return console.log(Y),this.deleteShopProducts([ne])}deleteShopProducts(ne){console.log("FirestoreService.deleteShopProducts()",ne);const Y=(0,N.qs)(this.firestore);return ne.forEach(ie=>{console.log(ie.id);const fe=(0,p.JU)(this.firestore,`shopsProducts/${ie.id}`);Y.delete(fe)}),Y.commit(),(0,T.of)(!0)}addShopProduct(ne){console.log("FirestoreService.addShopProduct()",ne);const Y=(0,p.hJ)(this.firestore,"shopsProducts");return(0,e.D)((0,p.ET)(Y,ne))}addShopProducts(ne){console.log("FirestoreService.addShopProducts()",ne);const Y=(0,N.qs)(this.firestore);return ne.forEach(ie=>{const fe=(0,p.hJ)(this.firestore,"shopsProducts"),ut=(0,p.JU)(fe);Y.set(ut,ie)}),Y.commit(),(0,T.of)(!0)}}return Q.\u0275fac=function(ne){return new(ne||Q)(O.LFG(p.gg))},Q.\u0275prov=O.Yz7({token:Q,factory:Q.\u0275fac,providedIn:"root"}),Q})()},9110:(pt,w,x)=>{"use strict";x.d(w,{r:()=>me});var p=x(7579),e=x(3701),T=x(5e3),N=x(520),O=x(3104),j=x(9808);const Q={UKNOWN:"Unknown"},J={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:Q.UKNOWN},ne={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},Y={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},ie={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:Q.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},fe=[ie.PS4,ie.CHROME_BOOK,ie.MAC,ie.DELL,ie.ASUS,ie.UNKNOWN],ut={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:Q.UKNOWN},et={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:Q.UKNOWN.toLowerCase()},Je={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},_e=Object.assign(Object.assign(Object.assign(Object.assign({},ne),Y),Je),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),He={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},ke={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},_t=Object.keys(He).reduce((re,ye)=>(re[ye]=He[ye],re),{}),$e=Object.keys(ke).reduce((re,ye)=>(re[J[ye]]=ke[ye],re),{});var Qe=Object.freeze({__proto__:null,GENERAL:Q,BROWSERS:J,MOBILES_RE:ne,TABLETS_RE:Y,DEVICES:ie,DESKTOP_DEVICES:fe,OS:ut,OS_VERSIONS:et,OS_RE:Je,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:_e,OS_VERSIONS_RE_MAP:He,BROWSER_VERSIONS_RE_MAP:ke,OS_VERSIONS_RE:_t,BROWSER_VERSIONS_RE:$e});class xe{constructor(){}test(ye,Te){return"string"==typeof Te&&(Te=new RegExp(Te)),Te instanceof RegExp?Te.test(ye):Te&&Array.isArray(Te.and)?Te.and.every(Ce=>this.test(ye,Ce)):Te&&Array.isArray(Te.or)?Te.or.some(Ce=>this.test(ye,Ce)):!(!Te||!Te.not||this.test(ye,Te.not))}exec(ye,Te){return"string"==typeof Te&&(Te=new RegExp(Te)),Te instanceof RegExp?Te.exec(ye):Te&&Array.isArray(Te)?Te.reduce((Ce,yt)=>Ce||this.exec(ye,yt),null):null}}var nt=(()=>{return(re=nt||(nt={})).Mobile="mobile",re.Tablet="tablet",re.Desktop="desktop",re.Unknown="unknown",nt;var re})(),Ve=(()=>{return(re=Ve||(Ve={})).Portrait="portrait",re.Landscape="landscape",Ve;var re})();const ht="iPad";let ve=(()=>{class re{constructor(Te){this.platformId=Te,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new xe,this.deviceType="",this.orientation="",(0,j.NF)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(Te=this.userAgent){Te!==this.userAgent&&(this.userAgent=Te);const Ce=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(Ce.forEach(yt=>{this[yt.prop]=Object.keys(Qe[yt.const]).reduce((Mt,mn)=>"device"===Qe[yt.const][mn]&&(0,j.NF)(this.platformId)&&(this.reTree.test(this.userAgent,Y[ht])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(Mt[Qe[yt.const][mn]]=ht,Object):(Mt[Qe[yt.const][mn]]=this.reTree.test(Te,Qe[`${yt.const}_RE`][mn]),Mt),{})}),Ce.forEach(yt=>{this[yt.prop]=Object.keys(Qe[yt.const]).map(Mt=>Qe[yt.const][Mt]).reduce((Mt,mn)=>"device"===yt.prop&&Mt===Qe[yt.const].ANDROID?this[yt.prop][mn]?mn:Mt:Mt===Qe[yt.const].UNKNOWN&&this[yt.prop][mn]?mn:Mt,Qe[yt.const].UNKNOWN)}),this.browser_version="0",this.browser!==J.UNKNOWN){const Mt=this.reTree.exec(Te,$e[this.browser]);Mt&&(this.browser_version=Mt[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?Ve.Landscape:Ve.Portrait:Q.UKNOWN,this.deviceType=this.isTablet()?nt.Tablet:this.isMobile(this.userAgent)?nt.Mobile:this.isDesktop(this.userAgent)?nt.Desktop:nt.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(Te=this.userAgent){return!this.isTablet(Te)&&!!Object.keys(ne).find(yt=>this.reTree.test(Te,ne[yt]))}isTablet(Te=this.userAgent){return!(!(0,j.NF)(this.platformId)||!(this.reTree.test(this.userAgent,Y[ht])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(Y).find(yt=>!!this.reTree.test(Te,Y[yt]))}isDesktop(Te=this.userAgent){return(this.device!==ie.UNKNOWN||!this.isMobile(Te)&&!this.isTablet(Te))&&fe.indexOf(this.device)>-1}}return re.\u0275fac=function(Te){return new(Te||re)(T.LFG(T.Lbi))},re.\u0275prov=T.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})(),me=(()=>{class re{constructor(Te,Ce,yt){this.http=Te,this.router=Ce,this.deviceService=yt,this.user=new p.x}login(Te){Te.lastLogin=(new Date).getTime(),Te.device=this.deviceService.deviceType,Te.os=this.deviceService.os,Te.browser=this.deviceService.browser,this.user.next(Te),this.router.navigate(["home"]),this.getIpData().subscribe(Ce=>{Te.ip=Ce.ip,Te.city=Ce.city,Te.country=Ce.country,this.user.next(Te),localStorage.setItem(e.M.PS_LOGGED_USER,JSON.stringify(Te)),this.router.navigate(["home"])})}logout(){localStorage.removeItem(e.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin(Te){return(null==Te?void 0:Te.email.startsWith("jollmat@"))||(null==Te?void 0:Te.email.startsWith("joan.lloria@"))||(null==Te?void 0:Te.email.startsWith("joanlloria@"))}getLoggedUser(){let Te=JSON.parse(localStorage.getItem(e.M.PS_LOGGED_USER));if(Te)return Te=Te,Te.admin=this.checkIsAdmin(Te),Te}isLoggedUser(){return null!=this.getLoggedUser()}getInternetIp(){return this.http.get("https://api.ipify.org/?format=json")}getIpData(){return this.http.get("https://ipapi.co/json/")}}return re.\u0275fac=function(Te){return new(Te||re)(T.LFG(N.eN),T.LFG(O.F0),T.LFG(ve))},re.\u0275prov=T.Yz7({token:re,factory:re.\u0275fac,providedIn:"root"}),re})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(9110),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[],this.loaded=!1;const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(pt=>{this._products=pt,this.loaded=!0})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addProducts(pt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addProducts(pt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(pt){let w=this.getFavourites();return pt.favourite?w.push(pt.barcode):w=w.filter(x=>x!==pt.barcode),this.setFavourites(w),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(pt){pt.map(w=>(w.imageUrl||(w.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),w))}updateProduct(pt,w){return console.log("ProductService.updateProduct()",pt),w||this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(pt){return console.log("ProductService.createProduct()",pt),pt.createdBy=this.loginService.getLoggedUser(),pt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(pt),this.products.next(this._products)})):(this._products.push(pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(pt){return console.log("ProductService.removeProduct()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(w=>w.id!==pt),this.products.next(this._products)})):(this._products=this._products.filter(w=>w.id!==pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(pt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(pt){const w=this.getFavourites();pt.map(x=>{x.favourite=w.indexOf(x.barcode)>-1})}}return ProductService.\u0275fac=function pt(w){return new(w||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9110);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(pt=>{this._shops=pt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addShops(pt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addShops(pt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)}))}toggleFavourite(pt){let w=this.getFavourites();return pt.favourite?w.push(pt.id):w=w.filter(x=>x!==pt.id),this.setFavourites(w),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(pt){pt.map(w=>(w.imageUrl||(w.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),w))}updateShop(pt){return console.log("ShopService.updateShop()",pt),this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(pt){return console.log("ShopService.createShop()",pt),pt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(pt),this.shops.next(this._shops)})):(this._shops.push(pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(pt){return console.log("ShopService.removeShop()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(w=>w.id!==pt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(w=>w.id!==pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(pt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(pt){const w=this.getFavourites();pt.map(x=>{x.favourite=w.indexOf(x.id)>-1})}}return ShopService.\u0275fac=function pt(w){return new(w||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(pt,w,x)=>{"use strict";x.d(w,{q:()=>p});const p={defaultLanguage:"ca",cloudMode:!0,bannedIPs:[]}},3386:(pt,w,x)=>{"use strict";var p=x(9808),e=x(5e3);class T extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends T{static makeCurrent(){(0,p.HT)(new N)}onAndCancel(i,t,c){return i.addEventListener(t,c,!1),()=>{i.removeEventListener(t,c,!1)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function j(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==t?null:function J(r){Q=Q||document.createElement("a"),Q.setAttribute("href",r);const i=Q.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,p.Mx)(document.cookie,i)}}let Q,O=null;const ne=new e.OlP("TRANSITION_ID"),ie=[{provide:e.ip1,useFactory:function Y(r,i,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const c=(0,p.q)(),h=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let _=0;_<h.length;_++)c.remove(h[_])})}},deps:[ne,p.K0,e.zs3],multi:!0}];class fe{static init(){(0,e.VLi)(new fe)}addToWindow(i){e.dqk.getAngularTestability=(c,h=!0)=>{const _=i.findTestabilityInTree(c,h);if(null==_)throw new Error("Could not find testability for element.");return _},e.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(c=>{const h=e.dqk.getAllAngularTestabilities();let _=h.length,I=!1;const q=function(te){I=I||te,_--,0==_&&c(I)};h.forEach(function(te){te.whenStable(q)})})}findTestabilityInTree(i,t,c){if(null==t)return null;const h=i.getTestability(t);return null!=h?h:c?(0,p.q)().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null}}let ut=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const et=new e.OlP("EventManagerPlugins");let Je=(()=>{class r{constructor(t,c){this._zone=c,this._eventNameToPlugin=new Map,t.forEach(h=>h.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,c,h){return this._findPluginFor(c).addEventListener(t,c,h)}addGlobalEventListener(t,c,h){return this._findPluginFor(c).addGlobalEventListener(t,c,h)}getZone(){return this._zone}_findPluginFor(t){const c=this._eventNameToPlugin.get(t);if(c)return c;const h=this._plugins;for(let _=0;_<h.length;_++){const I=h[_];if(I.supports(t))return this._eventNameToPlugin.set(t,I),I}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(et),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class vt{constructor(i){this._doc=i}addGlobalEventListener(i,t,c){const h=(0,p.q)().getGlobalEventTarget(this._doc,i);if(!h)throw new Error(`Unsupported event target ${h} for event ${t}`);return this.addEventListener(h,t,c)}}let _e=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const c=new Set;t.forEach(h=>{this._stylesSet.has(h)||(this._stylesSet.add(h),c.add(h))}),this.onStylesAdded(c)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),He=(()=>{class r extends _e{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,c,h){t.forEach(_=>{const I=this._doc.createElement("style");I.textContent=_,h.push(c.appendChild(I))})}addHost(t){const c=[];this._addStylesToHost(this._stylesSet,t,c),this._hostNodes.set(t,c)}removeHost(t){const c=this._hostNodes.get(t);c&&c.forEach(ke),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((c,h)=>{this._addStylesToHost(t,h,c)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ke))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function ke(r){(0,p.q)().remove(r)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g;function me(r,i,t){for(let c=0;c<i.length;c++){let h=i[c];Array.isArray(h)?me(r,h,t):(h=h.replace($e,r),t.push(h))}return t}function re(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let Te=(()=>{class r{constructor(t,c,h){this.eventManager=t,this.sharedStylesHost=c,this.appId=h,this.rendererByCompId=new Map,this.defaultRenderer=new Ce(t)}createRenderer(t,c){if(!t||!c)return this.defaultRenderer;switch(c.encapsulation){case e.ifc.Emulated:{let h=this.rendererByCompId.get(c.id);return h||(h=new mn(this.eventManager,this.sharedStylesHost,c,this.appId),this.rendererByCompId.set(c.id,h)),h.applyToHost(t),h}case 1:case e.ifc.ShadowDom:return new kt(this.eventManager,this.sharedStylesHost,t,c);default:if(!this.rendererByCompId.has(c.id)){const h=me(c.id,c.styles,[]);this.sharedStylesHost.addStyles(h),this.rendererByCompId.set(c.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Je),e.LFG(He),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ce{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?document.createElementNS(_t[t]||t,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,t){i.appendChild(t)}insertBefore(i,t,c){i&&i.insertBefore(t,c)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let c="string"==typeof i?document.querySelector(i):i;if(!c)throw new Error(`The selector "${i}" did not match any elements`);return t||(c.textContent=""),c}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,c,h){if(h){t=h+":"+t;const _=_t[h];_?i.setAttributeNS(_,t,c):i.setAttribute(t,c)}else i.setAttribute(t,c)}removeAttribute(i,t,c){if(c){const h=_t[c];h?i.removeAttributeNS(h,t):i.removeAttribute(`${c}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,c,h){h&(e.JOm.DashCase|e.JOm.Important)?i.style.setProperty(t,c,h&e.JOm.Important?"important":""):i.style[t]=c}removeStyle(i,t,c){c&e.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,c){i[t]=c}setValue(i,t){i.nodeValue=t}listen(i,t,c){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,t,re(c)):this.eventManager.addEventListener(i,t,re(c))}}class mn extends Ce{constructor(i,t,c,h){super(i),this.component=c;const _=me(h+"-"+c.id,c.styles,[]);t.addStyles(_),this.contentAttr=function ht(r){return"_ngcontent-%COMP%".replace($e,r)}(h+"-"+c.id),this.hostAttr=function ve(r){return"_nghost-%COMP%".replace($e,r)}(h+"-"+c.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,t){const c=super.createElement(i,t);return super.setAttribute(c,this.contentAttr,""),c}}class kt extends Ce{constructor(i,t,c,h){super(i),this.sharedStylesHost=t,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=me(h.id,h.styles,[]);for(let I=0;I<_.length;I++){const q=document.createElement("style");q.textContent=_[I],this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,c){return super.insertBefore(this.nodeOrShadowRoot(i),t,c)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let wt=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,c,h){return t.addEventListener(c,h,!1),()=>this.removeEventListener(t,c,h)}removeEventListener(t,c,h){return t.removeEventListener(c,h)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Wt=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},wr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let br=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,c,h){const _=r.parseEventName(c),I=r.eventCallback(_.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(t,_.domEventName,I))}static parseEventName(t){const c=t.toLowerCase().split("."),h=c.shift();if(0===c.length||"keydown"!==h&&"keyup"!==h)return null;const _=r._normalizeKey(c.pop());let I="";if(Wt.forEach(te=>{const De=c.indexOf(te);De>-1&&(c.splice(De,1),I+=te+".")}),I+=_,0!=c.length||0===_.length)return null;const q={};return q.domEventName=h,q.fullKey=I,q}static getEventFullKey(t){let c="",h=function vr(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&$n.hasOwnProperty(i)&&(i=$n[i]))}return rr[i]||i}(t);return h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),Wt.forEach(_=>{_!=h&&wr[_](t)&&(c+=_+".")}),c+=h,c}static eventCallback(t,c,h){return _=>{r.getEventFullKey(_)===t&&h.runGuarded(()=>c(_))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Si=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:p.bD},{provide:e.g9A,useValue:function ni(){N.makeCurrent(),fe.init()},multi:!0},{provide:p.K0,useFactory:function Gr(){return(0,e.RDi)(document),document},deps:[]}]),Kr=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function Ar(){return new e.qLn},deps:[]},{provide:et,useClass:wt,multi:!0,deps:[p.K0,e.R0b,e.Lbi]},{provide:et,useClass:br,multi:!0,deps:[p.K0]},{provide:Te,useClass:Te,deps:[Je,He,e.AFp]},{provide:e.FYo,useExisting:Te},{provide:_e,useExisting:He},{provide:He,useClass:He,deps:[p.K0]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b]},{provide:Je,useClass:Je,deps:[et,e.R0b]},{provide:p.JF,useClass:ut,deps:[]}];let Wr=(()=>{class r{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:ne,useExisting:e.AFp},ie]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:Kr,imports:[p.ez,e.hGG]}),r})();"undefined"!=typeof window&&window;let Se=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new(t||r):e.LFG(Ke),c},providedIn:"root"}),r})(),Ke=(()=>{class r extends Se{constructor(t){super(),this._doc=t}sanitize(t,c){if(null==c)return null;switch(t){case e.q3G.NONE:return c;case e.q3G.HTML:return(0,e.qzn)(c,"HTML")?(0,e.z3N)(c):(0,e.EiD)(this._doc,String(c)).toString();case e.q3G.STYLE:return(0,e.qzn)(c,"Style")?(0,e.z3N)(c):c;case e.q3G.SCRIPT:if((0,e.qzn)(c,"Script"))return(0,e.z3N)(c);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.yhl)(c),(0,e.qzn)(c,"URL")?(0,e.z3N)(c):(0,e.mCW)(String(c));case e.q3G.RESOURCE_URL:if((0,e.qzn)(c,"ResourceURL"))return(0,e.z3N)(c);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new t:function lt(r){return new Ke(r.get(p.K0))}(e.LFG(e.zs3)),c},providedIn:"root"}),r})();x(8955);var qn=x(8996),ir=x(8306),or=x(4742),sr=x(8421),Cn=x(3269),In=x(5403),Sn=x(3268),Xe=x(1810);function St(...r){const i=(0,Cn.jO)(r),{args:t,keys:c}=(0,or.D)(r),h=new ir.y(_=>{const{length:I}=t;if(!I)return void _.complete();const q=new Array(I);let te=I,De=I;for(let it=0;it<I;it++){let Ut=!1;(0,sr.Xf)(t[it]).subscribe((0,In.x)(_,jt=>{Ut||(Ut=!0,De--),q[it]=jt},()=>te--,void 0,()=>{(!te||!Ut)&&(De||_.next(c?(0,Xe.n)(c,q):q),_.complete())}))}});return i?h.pipe((0,Sn.Z)(i)):h}var cn=x(4004);let Qn=(()=>{class r{constructor(t,c){this._renderer=t,this._elementRef=c,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(t,c){this._renderer.setProperty(this._elementRef.nativeElement,t,c)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),gr=(()=>{class r extends Qn{}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const Yt=new e.OlP("NgValueAccessor"),sn={provide:Yt,useExisting:(0,e.Gpc)(()=>rt),multi:!0};let rt=(()=>{class r extends gr{writeValue(t){this.setProperty("checked",t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.checked)})("blur",function(){return c.onTouched()})},features:[e._Bn([sn]),e.qOj]}),r})();const Lt={provide:Yt,useExisting:(0,e.Gpc)(()=>_n),multi:!0},An=new e.OlP("CompositionEventMode");let _n=(()=>{class r extends Qn{constructor(t,c,h){super(t,c),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gn(){const r=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(An,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c._handleInput(_.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(_){return c._compositionEnd(_.target.value)})},features:[e._Bn([Lt]),e.qOj]}),r})();const pn=new e.OlP("NgValidators"),Gn=new e.OlP("NgAsyncValidators");function ze(r){return null}function Tt(r){return null!=r}function Vt(r){const i=(0,e.QGY)(r)?(0,qn.D)(r):r;return(0,e.CqO)(i),i}function $t(r){let i={};return r.forEach(t=>{i=null!=t?Object.assign(Object.assign({},i),t):i}),0===Object.keys(i).length?null:i}function Tn(r,i){return i.map(t=>t(r))}function Vr(r){return r.map(i=>function Dr(r){return!r.validate}(i)?i:t=>i.validate(t))}function gi(r){return null!=r?function Ir(r){if(!r)return null;const i=r.filter(Tt);return 0==i.length?null:function(t){return $t(Tn(t,i))}}(Vr(r)):null}function Ui(r){return null!=r?function Mo(r){if(!r)return null;const i=r.filter(Tt);return 0==i.length?null:function(t){return St(Tn(t,i).map(Vt)).pipe((0,cn.U)($t))}}(Vr(r)):null}function To(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function ss(r){return r?Array.isArray(r)?r:[r]:[]}function no(r,i){return Array.isArray(r)?r.includes(i):r===i}function Yo(r,i){const t=ss(i);return ss(r).forEach(h=>{no(t,h)||t.push(h)}),t}function as(r,i){return ss(i).filter(t=>!no(r,t))}class Fi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=gi(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Ui(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class ro extends Fi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Gi extends Fi{get formDirective(){return null}get path(){return null}}let wi=(()=>{class r extends class Co{constructor(i){this._cd=i}is(i){var t,c,h;return"submitted"===i?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(h=null===(c=this._cd)||void 0===c?void 0:c.control)||void 0===h?void 0:h[i])}}{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ro,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,c){2&t&&e.ekj("ng-untouched",c.is("untouched"))("ng-touched",c.is("touched"))("ng-pristine",c.is("pristine"))("ng-dirty",c.is("dirty"))("ng-valid",c.is("valid"))("ng-invalid",c.is("invalid"))("ng-pending",c.is("pending"))},features:[e.qOj]}),r})();function Et(r,i){(function Fn(r,i){const t=function Li(r){return r._rawValidators}(r);null!==i.validator?r.setValidators(To(t,i.validator)):"function"==typeof t&&r.setValidators([t]);const c=function Ts(r){return r._rawAsyncValidators}(r);null!==i.asyncValidator?r.setAsyncValidators(To(c,i.asyncValidator)):"function"==typeof c&&r.setAsyncValidators([c]);const h=()=>r.updateValueAndValidity();xn(i._rawValidators,h),xn(i._rawAsyncValidators,h)})(r,i),i.valueAccessor.writeValue(r.value),function Mr(r,i){i.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Zi(r,i)})}(r,i),function Uo(r,i){const t=(c,h)=>{i.valueAccessor.writeValue(c),h&&i.viewToModelUpdate(c)};r.registerOnChange(t),i._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,i),function Xr(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Zi(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function Pn(r,i){if(i.valueAccessor.setDisabledState){const t=c=>{i.valueAccessor.setDisabledState(c)};r.registerOnDisabledChange(t),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,i)}function xn(r,i){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function Zi(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Fr(r,i){const t=r.indexOf(i);t>-1&&r.splice(t,1)}const xi="VALID",oi="INVALID",si="PENDING",Oo="DISABLED";function hr(r){return(Cs(r)?r.validators:r)||null}function Is(r){return Array.isArray(r)?gi(r):r||null}function Vo(r,i){return(Cs(i)?i.asyncValidators:r)||null}function ls(r){return Array.isArray(r)?Ui(r):r||null}function Cs(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}const Xa=r=>r instanceof Vs;function en(r){return(r=>r instanceof ol)(r)?r.value:r.getRawValue()}function cr(r,i){const t=Xa(r),c=r.controls;if(!(t?Object.keys(c):c).length)throw new e.vHH(1e3,"");if(!c[i])throw new e.vHH(1001,"")}function Pa(r,i){Xa(r),r._forEachChild((c,h)=>{if(void 0===i[h])throw new e.vHH(1002,"")})}class Ni{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=t,this._composedValidatorFn=Is(this._rawValidators),this._composedAsyncValidatorFn=ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===xi}get invalid(){return this.status===oi}get pending(){return this.status==si}get disabled(){return this.status===Oo}get enabled(){return this.status!==Oo}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Is(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=ls(i)}addValidators(i){this.setValidators(Yo(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Yo(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(as(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(as(i,this._rawAsyncValidators))}hasValidator(i){return no(this._rawValidators,i)}hasAsyncValidator(i){return no(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=si,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Oo,this.errors=null,this._forEachChild(c=>{c.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=xi,this._forEachChild(c=>{c.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xi||this.status===si)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oo:xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=si,this._hasOwnPendingAsyncValidator=!0;const t=Vt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(c=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(c,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){return function Go(r,i,t){if(null==i||(Array.isArray(i)||(i=i.split(t)),Array.isArray(i)&&0===i.length))return null;let c=r;return i.forEach(h=>{c=Xa(c)?c.controls.hasOwnProperty(h)?c.controls[h]:null:(r=>r instanceof Ys)(c)&&c.at(h)||null}),c}(this,i,".")}getError(i,t){const c=t?this.get(t):this;return c&&c.errors?c.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?Oo:this.errors?oi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(si)?si:this._anyControlsHaveStatus(oi)?oi:xi}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Cs(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ol extends Ni{constructor(i=null,t,c){super(hr(t),Vo(c,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cs(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(c=>c(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Fr(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Fr(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class Vs extends Ni{constructor(i,t,c){super(hr(t),Vo(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,c={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){Pa(this,i),Object.keys(i).forEach(c=>{cr(this,c),this.controls[c].setValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(c=>{this.controls[c]&&this.controls[c].patchValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,c)=>(i[c]=en(t),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,c)=>!!c._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const c=this.controls[t];c&&i(c,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const t of Object.keys(this.controls)){const c=this.controls[t];if(this.contains(t)&&i(c))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,t,c)=>((t.enabled||this.disabled)&&(i[c]=t.value),i))}_reduceChildren(i,t){let c=i;return this._forEachChild((h,_)=>{c=t(c,h,_)}),c}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Ys extends Ni{constructor(i,t,c){super(hr(t),Vo(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,c={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:c.emitEvent})}removeAt(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){Pa(this,i),i.forEach((c,h)=>{cr(this,h),this.at(h).setValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((c,h)=>{this.at(h)&&this.at(h).patchValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>en(i))}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((t,c)=>!!c._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,c)=>{i(t,c)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const es={provide:ro,useExisting:(0,e.Gpc)(()=>Qi)},Fc=(()=>Promise.resolve(null))();let Qi=(()=>{class r extends ro{constructor(t,c,h,_,I){super(),this._changeDetectorRef=I,this.control=new ol,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(c),this._setAsyncValidators(h),this.valueAccessor=function ii(r,i){if(!i)return null;let t,c,h;return Array.isArray(i),i.forEach(_=>{_.constructor===_n?t=_:function zt(r){return Object.getPrototypeOf(r.constructor)===gr}(_)?c=_:h=_}),h||c||t||null}(0,_)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const c=t.name.previousValue;this.formDirective.removeControl({name:c,path:this._getPath(c)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Nt(r,i){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Et(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Fc.then(()=>{var c;this.control.setValue(t,{emitViewToModelChange:!1}),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_updateDisabled(t){const c=t.isDisabled.currentValue,h=""===c||c&&"false"!==c;Fc.then(()=>{var _;h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()})}_getPath(t){return this._parent?function We(r,i){return[...i.path,r]}(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Gi,9),e.Y36(pn,10),e.Y36(Gn,10),e.Y36(Yt,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([es]),e.qOj,e.TTD]}),r})();const fa={provide:Yt,useExisting:(0,e.Gpc)(()=>Qs),multi:!0};let Qs=(()=>{class r extends gr{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=c=>{t(""==c?null:parseFloat(c))}}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},features:[e._Bn([fa]),e.qOj]}),r})(),js=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const Uc={provide:Yt,useExisting:(0,e.Gpc)(()=>ma),multi:!0};function fo(r,i){return null==r?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let ma=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const h=fo(this._getOptionId(t),t);this.setProperty("value",h)}registerOnChange(t){this.onChange=c=>{this.value=this._getOptionValue(c),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c),t))return c;return null}_getOptionValue(t){const c=function gd(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Uc]),e.qOj]}),r})(),Ws=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(fo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ma,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Zs={provide:Yt,useExisting:(0,e.Gpc)(()=>ts),multi:!0};function li(r,i){return null==r?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let ts=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let c;if(this.value=t,Array.isArray(t)){const h=t.map(_=>this._getOptionId(_));c=(_,I)=>{_._setSelected(h.indexOf(I.toString())>-1)}}else c=(h,_)=>{h._setSelected(!1)};this._optionMap.forEach(c)}registerOnChange(t){this.onChange=c=>{const h=[],_=c.selectedOptions;if(void 0!==_){const I=_;for(let q=0;q<I.length;q++){const De=this._getOptionValue(I[q].value);h.push(De)}}else{const I=c.options;for(let q=0;q<I.length;q++){const te=I[q];if(te.selected){const De=this._getOptionValue(te.value);h.push(De)}}}this.value=h,t(h)}}_registerOption(t){const c=(this._idCounter++).toString();return this._optionMap.set(c,t),c}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c)._value,t))return c;return null}_getOptionValue(t){const c=function nc(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c)._value:t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Zs]),e.qOj]}),r})(),La=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(li(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(ts,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();let ns=(()=>{class r{constructor(){this._validator=ze}ngOnChanges(t){if(this.inputName in t){const c=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(c),this._validator=this._enabled?this.createValidator(c):ze,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,features:[e.TTD]}),r})();const Ii={provide:pn,useExisting:(0,e.Gpc)(()=>mi),multi:!0};let mi=(()=>{class r extends ns{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function rc(r){return"number"==typeof r?r:parseInt(r,10)}(t),this.createValidator=t=>function Jr(r){return i=>function tr(r){return null!=r&&"number"==typeof r.length}(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,c){2&t&&e.uIk("maxlength",c._enabled?c.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Ii]),e.qOj]}),r})(),P=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[js]]}),r})(),D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[P]}),r})(),Rt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var Fa,wn=x(8686),Rn=x(3701),xt=x(3104),Nr=x(635),Sr=x(6082),ei=x(7579),yi=x(8505),lr=x(9646),qi=new Uint8Array(16);function ds(){if(!Fa&&!(Fa="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Fa(qi)}const ah=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,hl=function Xi(r){return"string"==typeof r&&ah.test(r)};for(var _i=[],bi=0;bi<256;++bi)_i.push((bi+256).toString(16).substr(1));const Eo=function Bl(r,i,t){var c=(r=r||{}).random||(r.rng||ds)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,i){t=t||0;for(var h=0;h<16;++h)i[t+h]=c[h];return i}return function hs(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(_i[r[i+0]]+_i[r[i+1]]+_i[r[i+2]]+_i[r[i+3]]+"-"+_i[r[i+4]]+_i[r[i+5]]+"-"+_i[r[i+6]]+_i[r[i+7]]+"-"+_i[r[i+8]]+_i[r[i+9]]+"-"+_i[r[i+10]]+_i[r[i+11]]+_i[r[i+12]]+_i[r[i+13]]+_i[r[i+14]]+_i[r[i+15]]).toLowerCase();if(!hl(t))throw TypeError("Stringified UUID is invalid");return t}(c)},Ul=[{productBarcode:"8480000136343",updateDate:1649525102028,id:"yTedpnDD2O8sBPZwSK3U",shopId:"mercadona",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904},price:3.5},{id:"602smPkf29S2QFB7XMsD",price:4.89,shopId:"mercadona",productBarcode:"7613036862295",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},updateDate:1649525061319},{updateDate:1649525021629,price:2.15,id:"WlA822FqYmbsdK0UGl6Y",shopId:"mercadona",productBarcode:"8480000049056",createdBy:{lastLogin:1649187527904,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{productBarcode:"8480000163141",updateDate:1649524995119,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},id:"YdlJM0dJ5oeNYB1XVEfI",price:1.25,shopId:"mercadona"},{id:"a0JHdq2rUBTp9t1h3LMP",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com"},shopId:"mercadona",price:2.75,productBarcode:"8480000644916",updateDate:1649524928832},{shopId:"ametller",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0},price:1.39,updateDate:1649443336162,productBarcode:"8436554520985",id:"ftpgydKRipdueQnPpg5E"},{price:4.29,createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0},updateDate:1649443254744,id:"BwhIKICv0Jk5eFscKgUt",shopId:"ametller",productBarcode:"8436551862040"},{productBarcode:"8436583954577",id:"1juMRrbdbfFKtl4dDFsQ",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,username:"Joan Llori\xe0"},shopId:"ametller",updateDate:1649443221984,price:2.19},{shopId:"ametller",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904},price:.99,productBarcode:"8437011969439",updateDate:1649443161878,id:"iJqpRlCkh57jnAevi2ju"},{updateDate:1649394034715,productBarcode:"8412480245307",price:3.69,createdBy:{lastLogin:1649187527904,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com"},id:"jz4gnUQ0MPbIcD3zQ3Xu",shopId:"ametller"},{price:3.49,updateDate:1649394005242,productBarcode:"8436551861951",createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0,email:"joanlloria@gmail.com"},id:"9KPYWVyqeyOgHbvZuoKV",shopId:"ametller"},{price:2.99,createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0},id:"pc2J6SuGJcNNMc2DHqb1",productBarcode:"8421660006010",updateDate:1649393984630,shopId:"ametller"},{shopId:"ametller",updateDate:1649393940747,id:"e3ye1ns3IqQ7KLySvXeW",price:1.09,productBarcode:"8436551865355",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{updateDate:1649162654256,productBarcode:"5050083560262",price:3.55,shopId:"carrefour",createdBy:{lastLogin:1648889388379,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},id:"hDK5SFlMbMZegFDt87nj"},{shopId:"carrefour",price:2.45,createdBy:{admin:!0,lastLogin:1648889388379,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},productBarcode:"8431707094290",updateDate:1649162626090,id:"s6yCDWr0rkqRS04ZgE6f"},{createdBy:{email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379},price:1.43,id:"cH62hgvVWjJQFx9NDbgZ",updateDate:1649162593179,shopId:"carrefour",productBarcode:"7613035314016"},{createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379,admin:!0},shopId:"carrefour",productBarcode:"8410055501131",updateDate:1649162564145,id:"A4M2NAWaWTLVnabXx3HH",price:1.53},{id:"qiwOo0zSVhq5SvAKuDQ9",updateDate:1649099098759,productBarcode:"8436551865355",price:1.09,createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},shopId:"ametller"},{productBarcode:"8436551864709",updateDate:1649099077361,price:4.99,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"vWH1tGNyO16kS4ZHPgJ1"},{updateDate:1649099052678,id:"KPuoy0bX1yOVEet8z8Mg",shopId:"ametller",productBarcode:"8436554529629",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,lastLogin:1648889388379},price:5.79},{updateDate:1649099020087,id:"wFjvmFJyP6Md3gmaUY9b",price:2.19,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"},productBarcode:"8413475312615"},{id:"hpRuqPSjOfNvBNzipfS7",createdBy:{lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:2.69,updateDate:1649098993302,productBarcode:"8421660006010",shopId:"ametller"},{productBarcode:"8436551861951",id:"j0NsoodQy2Vb1IMd1okA",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0},shopId:"ametller",updateDate:1649098960998,price:3.49},{updateDate:1649098912031,price:1.49,createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"Gufa8XRwRND525GcEtn0",shopId:"ametller",productBarcode:"8436551867502"},{productBarcode:"8436583954577",updateDate:1648885577543,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",lastLogin:1648740479491,admin:!0},price:2.19,id:"8jThMVeEIflQbGZF9wr5"},{price:2.19,id:"S3TZPsq38o9g4LpELCfh",createdBy:{username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885533910,shopId:"ametller",productBarcode:"8413475312615"},{createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648740479491},id:"DwlO6GL6lL5itNlLolwF",shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1648885489976},{createdBy:{admin:!0,lastLogin:1648740479491,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885463368,price:1.09,shopId:"ametller",productBarcode:"8436551865355",id:"4qszEZQ89bpNTHd1CPbe"},{productBarcode:"8436554520985",updateDate:1648885443017,price:1.39,shopId:"ametller",id:"JqerXtq6dRvQ0BRbXJTm",createdBy:{email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{id:"xF43k9NANcaIsFLBAx1u",price:1.39,updateDate:1648885413130,shopId:"ametller",productBarcode:"8436554520992",createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,lastLogin:1648740479491}},{shopId:"carrefour",price:2.45,productBarcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648740479491,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648840758092,id:"ADP6a8RxZ9dLshcs18Ev"},{createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},productBarcode:"8431707094290",price:2.45,updateDate:1648840707062,id:"x3MuOSHybJKHvoLkbjLc",shopId:"carrefour"},{shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,lastLogin:1648740479491},price:1.39,productBarcode:"3560071048341",id:"3BIxaJNrT8RgTDEnCQwi",updateDate:1648840676820},{id:"2KFNfE6hz0GRzStLLmJs",updateDate:1648840615431,shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,username:"Joan Llori\xe0"},price:1.51,productBarcode:"3045320052244"},{createdBy:{admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},price:3.39,productBarcode:"8718951388826",updateDate:1648644547478,shopId:"bonpreu",id:"psRiojmRasFmyfeUTNPK"},{id:"fVlQBhiO5jn3VsBlI1rd",updateDate:1648644448599,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:1.69,shopId:"bonpreu",productBarcode:"5410126716016"},{productBarcode:"4008400203829",createdBy:{admin:!0,lastLogin:1648551165934,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},shopId:"bonpreu",price:1.99,id:"crnggBBMaLF9BzHyQaJc",updateDate:1648644422922},{productBarcode:"8431707094290",price:2.29,updateDate:1648644396292,shopId:"bonpreu",id:"S2IsVKVLDR1UMi5STc9m",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648551165934,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,email:"joanlloria@gmail.com",admin:!0},price:1.55,id:"qP6xF0cLDy9MmOB3kRIG",shopId:"bonpreu",updateDate:1648644364274,productBarcode:"8414516082313"},{updateDate:1648579007042,productBarcode:"8436554523979",price:1.99,id:"ukxHmyxg65BYShC1twoc",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com"},shopId:"ametller"},{shopId:"ametller",createdBy:{lastLogin:1648551165934,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436583950440",price:1.99,updateDate:1648578928773,id:"hJBDYoK3GpQnAixKBJvZ"},{price:3.49,id:"HNhRtuJV1nlJbXzEJiRK",shopId:"ametller",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648551165934,email:"joanlloria@gmail.com"},productBarcode:"8436551861951",updateDate:1648578873705},{shopId:"ametller",productBarcode:"8436583954577",id:"qysur0oB7OEpKbQne6ba",updateDate:1648578846218,price:2.19,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0",admin:!0}},{id:"Lw7yoGjjZ7ufGASgs9mm",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},shopId:"ametller",productBarcode:"8436540566942",updateDate:1648460729550,price:1.99},{shopId:"ametller",id:"jL1o5c0k3fOTpF6NB6oQ",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},updateDate:1648460651689,productBarcode:"8436551864709",price:4.99},{createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"w8tSJH2fSyDDBUDzLGOy",productBarcode:"8436554529629",price:5.79,shopId:"ametller",updateDate:1648460619918},{price:1.29,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804},shopId:"ametller",productBarcode:"8436583952054",updateDate:1648460581682,id:"QsyRdZwGQ1UQ0ARa27nT"},{id:"knlBdKG5QS5AHqsiRtwK",updateDate:1648460520247,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436551861951",price:3.49,shopId:"ametller"},{shopId:"ametller",price:3.89,productBarcode:"8436551862880",updateDate:1648041984132,id:"9H4mrFcxHosM1fn2MPk6"},{updateDate:1648041964676,shopId:"ametller",price:4.99,productBarcode:"8436551864709",id:"1oDN2rZCcA3GVAmXGm5w"},{updateDate:1648041940941,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"h5TBADuIrerldKiWYwXZ"},{shopId:"ametller",price:2.19,productBarcode:"8436583954577",updateDate:1648041898298,id:"myStqGeGG00zwWUHEDHi"},{updateDate:1647961453747,price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",id:"ItWZST2zFIdX8NPBrLZt"},{shopId:"bonpreu",updateDate:1647961415096,productBarcode:"8431707094290",price:2.29,id:"FiZC9HEGC9lxj5JqhXbl"},{price:2.65,updateDate:1647961386453,shopId:"bonpreu",productBarcode:"8411135005037",id:"ddH84u3FlrQhQbF83ajS"},{productBarcode:"8422410040872",updateDate:1647961357748,shopId:"bonpreu",price:3.15,id:"wTUPPUPtRMcOa1c7AqND"},{price:1.99,productBarcode:"4008400203829",updateDate:1647961332394,shopId:"bonpreu",id:"UQLlkfbZZG1puLmjd31X"},{updateDate:1647961299091,price:.79,productBarcode:"8422410473878",shopId:"bonpreu",id:"knPA6RUoXMI7Hyyw8sHf"},{updateDate:1647961197826,shopId:"bonpreu",productBarcode:"3574661648019",price:5,id:"W36wbh6PkCgembLHZLDw"},{price:1.25,shopId:"bonpreu",productBarcode:"8410505512267",updateDate:1647547513223,id:"kCX7yTcHeh28hlvwT4Du"},{updateDate:1647547483555,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"pX5OxugSJV08VN6IQnEp"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1647547448250,id:"tZOmOTffTGahd88bxg9i"},{price:4.29,productBarcode:"8436551862040",updateDate:1647449138590,shopId:"ametller",id:"2QetLyJ3AM6Ut9RPdpTm"},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,id:"potwYzxaZV4tylvCRJGG"},{updateDate:1647449093641,shopId:"ametller",price:5.79,productBarcode:"8436554529629",id:"BD17DCs2z32BXJYZdQeD"},{updateDate:1647449073312,productBarcode:"8436540566942",shopId:"ametller",price:1.99,id:"ARIKQ71vQwU1uvUijb2m"},{shopId:"ametller",price:1.09,updateDate:1647449047440,productBarcode:"8436551865355",id:"Xe6NimlR5A1104gjPDXk"},{shopId:"bonpreu",price:2.99,productBarcode:"5029053036151",updateDate:1647365959812,id:"V932wV4BbRvh8IFJ146M"},{shopId:"bonpreu",price:4.89,productBarcode:"7613035260924",updateDate:1647365744646,id:"j8rxgz4owazMMMgK3CzF"},{productBarcode:"8431707094290",price:2.29,updateDate:1647365593154,shopId:"bonpreu",id:"kREXYcgP8CdjSSvQRsOL"},{price:1.19,updateDate:1647365517833,productBarcode:"8410135001322",shopId:"bonpreu",id:"CNKGzBzWeirP7M6Md8Wa"},{shopId:"bonpreu",productBarcode:"8410184800150",price:1.1,updateDate:1647365491009,id:"2jPSBJKLJ4xvf8MJYVdb"},{productBarcode:"5410126716016",updateDate:1647365453382,shopId:"bonpreu",price:1.73,id:"yarXNS6SQXbBo897QJGH"},{updateDate:1647365405368,price:.99,productBarcode:"8410184013086",shopId:"bonpreu",id:"jhxauesGgQ9AFPFdpUKJ"},{price:4.99,shopId:"ametller",productBarcode:"8436551864709",updateDate:1647288183532,id:"XcWmacikAoTRnE84e3eB"},{updateDate:1647288160477,productBarcode:"8436551861951",shopId:"ametller",price:3.49,id:"FCqAnNno6XfjnY0WTFZA"},{updateDate:1647288114011,productBarcode:"8436583954577",shopId:"ametller",price:2.19,id:"oyHFXKwoIAwwHPhniPxU"},{price:1.99,updateDate:1647288063635,productBarcode:"8436554523979",shopId:"ametller",id:"kxhrqdtb7OPZLoL9USF9"},{price:1.49,productBarcode:"8436551867502",updateDate:1647009885888,shopId:"ametller",id:"zGG5dh4WKcVEiKQMPxbq"},{shopId:"ametller",productBarcode:"8436583950449",updateDate:1647009840835,price:1.99,id:"iZpylr9gNMD660rkjqKB"},{updateDate:1647009813003,price:5.99,shopId:"ametller",productBarcode:"8436551860251",id:"v8XOk83kLKMtSEm89kd8"},{productBarcode:"8436583954577",price:2.19,shopId:"ametller",updateDate:1647009785979,id:"vTbMz59gclUr1NC8Hvrb"},{updateDate:1647009736789,shopId:"ametller",productBarcode:"8437011969217",price:1.79,id:"Ie2aG836OKVx6LNBMPwv"},{shopId:"ametller",price:6.49,updateDate:1647009673830,productBarcode:"8436583957110",id:"kV1dshwwna3WGT2igmd6"},{price:6.49,updateDate:1647009576298,productBarcode:"8436583957134",shopId:"ametller",id:"xC8ip2VlIPU9XMVwkNZY"},{price:2.69,shopId:"ametller",updateDate:1647009535063,productBarcode:"8421660006010",id:"JFvXfMu9K4qb0DYQoxaN"},{updateDate:1647009507902,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"ZuRvNxAulB11kESgkegF"},{shopId:"carrefour",updateDate:1647001030237,price:1.86,productBarcode:"8076802085981",id:"TYxP9sRUsGaPYCvKc61B"},{productBarcode:"8076808060654",updateDate:1647000997394,price:1.86,shopId:"carrefour",id:"otLTGyKhgvQnM817hWka"},{price:2.1,updateDate:1647000971290,productBarcode:"8410128160074",shopId:"carrefour",id:"jGVzDGSWsPJO8b8aV2di"},{shopId:"carrefour",price:1.51,productBarcode:"3045320052244",updateDate:1647000949431,id:"w2rJdYlzpegbeJ3APgOp"},{updateDate:1647000913572,price:1.49,shopId:"carrefour",productBarcode:"3560070119851",id:"E8RCfIkhUgDH71jDBGqX"},{productBarcode:"8431707094290",shopId:"carrefour",price:2.26,updateDate:1646942628295,id:"0ZbbmT7bjsFGWiTJw4U7"},{price:2.2,shopId:"carrefour",updateDate:1646942603389,productBarcode:"3560070347438",id:"Cf8K9uh0M2s8fcTqZ0Ja"},{shopId:"carrefour",productBarcode:"8436033878095",price:1,updateDate:1646942576971,id:"Of19VXA0MuIuWXm4x8yG"},{price:1.51,shopId:"carrefour",updateDate:1646942537870,productBarcode:"3045320052244",id:"D8iM9JSvkKxocBY0Yhvi"},{productBarcode:"8431876005912",price:1.08,updateDate:1646942494815,shopId:"carrefour",id:"8MiVzzxBg2ZtVAeO6U9c"},{updateDate:1646930250559,price:2.2,productBarcode:"8480000180926",shopId:"mercadona",id:"eTlRhJjfIzbWJ0HDZ3Md"},{shopId:"mercadona",price:3.3,updateDate:1646930214883,productBarcode:"8480000136343",id:"vBK7B8RI6jW2M8DcIIP9"},{updateDate:1646930191204,productBarcode:"8410086000856",price:1.2,shopId:"mercadona",id:"sFvga218at9GpgWtWMH4"},{updateDate:1646930166623,price:1.25,shopId:"mercadona",productBarcode:"8480000163141",id:"wdbjpAXq7VNvNZ6bYApE"},{updateDate:1646930137722,price:1.95,shopId:"mercadona",productBarcode:"8480000581518",id:"HFHiF3J0qNq2940uCeMG"},{productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,price:2.65,id:"R61OmmkslEVXG73UOCB6"},{updateDate:1646930032462,productBarcode:"8480000610652",shopId:"mercadona",price:1.5,id:"CVyzu83FBt7rT80weApz"},{updateDate:1646929997724,productBarcode:"8420309210115",price:3.25,shopId:"mercadona",id:"qxn8KCzTB0wLzGrkGrFS"},{price:.9,shopId:"mercadona",updateDate:1646929946281,productBarcode:"8410148509327",id:"DQFx9W47a54rgao9Yzoh"},{updateDate:1646872443076,price:1.59,shopId:"dia",productBarcode:"80177616",id:"etvacdRcZ9u8rPOGyNoW"},{price:1.27,shopId:"dia",updateDate:1646856265172,productBarcode:"8480017574657",id:"pcMsPJRXcEgYR3sNN5qq"},{productBarcode:"8410448000913",price:2.89,shopId:"dia",updateDate:1646856219361,id:"WV4wezy7s5GIZRQdkygR"},{shopId:"dia",updateDate:1646856083841,price:4.95,productBarcode:"7613035260924",id:"MJhrODnuLMkRgRFhQcOH"},{price:4.89,productBarcode:"5054563099082",updateDate:1646856003573,shopId:"dia",id:"qsDRnBrSMhoLMiZk0kRA"},{shopId:"bonpreu",updateDate:1646486309719,price:4.09,productBarcode:"8714100635650",id:"Pd0a9ncegiMopagtQzuc"},{price:1.19,productBarcode:"8410135001322",updateDate:1646486174599,shopId:"bonpreu",id:"hPXf5GavsSqsBRxvZUFa"},{shopId:"bonpreu",productBarcode:"7613035260924",updateDate:1646486121079,price:4.89,id:"pCjJs2iWDFHVzrYekM63"},{productBarcode:"8436583954539",updateDate:1646415616777,shopId:"ametller",price:2.39,id:"V5kGdB1vz9zYszorXypV"},{productBarcode:"8413475312615",price:2.19,shopId:"ametller",updateDate:1646415576400,id:"bbjskJJH7O72xcVP70gZ"},{shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1646415548935,id:"GJlFgjWMvQIWQouKIwih"},{updateDate:1646335181459,productBarcode:"8436551864709",price:4.99,shopId:"ametller",id:"LBqsSVYb5huvb6SGWOPp"},{price:3.89,productBarcode:"8436551862880",updateDate:1646335153243,shopId:"ametller",id:"o9TXNVvedjbQn96O1QQw"},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846,id:"VgXFShnDQSdvqlSs7Skc"},{price:2.69,shopId:"ametller",productBarcode:"8421660006010",updateDate:1646335092609,id:"JzjtypjqkdZlNPAesUBP"},{productBarcode:"8436583954539",updateDate:1646335060270,price:2.39,shopId:"ametller",id:"MUEnqn7NerIS5eRHJHWQ"},{price:1.09,updateDate:1646335036086,shopId:"ametller",productBarcode:"8436551865355",id:"R5ZrwiV9EdORPR1pnYDw"},{productBarcode:"8410564002204",updateDate:1646250727985,shopId:"condis",price:1.25,id:"sGDZF3Cnugc5Ro6Pw65K"},{price:2.29,shopId:"condis",updateDate:1646250687325,productBarcode:"3073780902366",id:"8xHO6r91l7BPlGyAayHg"},{shopId:"condis",updateDate:1646250627653,productBarcode:"8431707094290",price:2.29,id:"dLgz0PQFavdQBlKnDCdc"},{updateDate:1646144325823,shopId:"bonpreu",price:.79,productBarcode:"8422410473878",id:"AJKNCmv7YodmSN0t09mA"},{updateDate:1646144272786,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"D8SovbXNYCBmJZzAWg95"},{updateDate:1646079281946,price:1.99,shopId:"ametller",productBarcode:"8435037550631",id:"NeCGh1CJkiAvpnDvCUaV"},{productBarcode:"8436583952054",updateDate:1646079230642,price:1.29,shopId:"ametller",id:"5Uw7MzY4gW8fyVxY7nx3"},{updateDate:1646079202513,price:3.89,shopId:"ametller",productBarcode:"8436551862880",id:"NiS5Ri3zzHprvJvztfvo"},{shopId:"ametller",updateDate:1646079180090,price:5.79,productBarcode:"8436554529629",id:"oJoPVLp0DYzeYV7oelyJ"},{updateDate:1646079152860,price:2.39,productBarcode:"8436583954539",shopId:"ametller",id:"8S0S2UwSmRyGollhLIlU"},{price:2.19,updateDate:1646071049954,shopId:"condis",productBarcode:"3269612045008",id:"jjyhx2Npd9EBzl004WVS"},{updateDate:1646071015575,shopId:"condis",price:2.59,productBarcode:"7613036569927",id:"rQmuOb4RPbsYEf7fPrKH"},{shopId:"condis",productBarcode:"8410022115255",updateDate:1645888125951,price:2.19,id:"uMJ8snfK4blFOT3NizDn"},{price:6.25,updateDate:1645888080319,productBarcode:"8410179012018",shopId:"condis",id:"tThN9M4JCgVMCXtBsSN2"},{price:1.52,updateDate:1645888034122,productBarcode:"8411002105006",shopId:"condis",id:"yUOJJXCWCZuC6y9N70tC"},{price:3.5,updateDate:1645887883610,productBarcode:"5054563101648",shopId:"condis",id:"N5O1c9DD8LqXekDWIdDM"},{updateDate:1645886201039,price:1.49,shopId:"condis",productBarcode:"8717700002402",id:"eZeckwHzsLrdGupK9GOx"},{shopId:"condis",productBarcode:"8431707094290",price:2.29,updateDate:1645886117451,id:"OiKkGlIYyWyDyjeJ0wv6"},{productBarcode:"8015100563067",price:1.91,updateDate:1645869460823,shopId:"carrefour",id:"Ca6otMJupmWkFeqXQvbw"},{price:3.15,productBarcode:"3560071152413",shopId:"carrefour",updateDate:1645869433791,id:"jVvPjWqRw03tKYJs7tWI"},{shopId:"carrefour",productBarcode:"5050083560262",price:3.39,updateDate:1645869280046,id:"Q1cwNx43wDQRaeri0wDj"},{shopId:"carrefour",productBarcode:"8006540576588",updateDate:1645869134793,price:2.95,id:"T7h77o0K3xaHLoLXBFSv"},{productBarcode:"5029053010052",shopId:"carrefour",updateDate:1645869027911,price:1.89,id:"f9yJjH9FTqqopOmHPdKd"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616",id:"zWtGO6dGSiUvV6hIdWow"},{productBarcode:"8436551864709",updateDate:1645798155513,shopId:"ametller",price:4.99,id:"ZkcjUtBIwLRJHUu5Vm5U"},{productBarcode:"8437011969217",price:1.79,updateDate:1645798113906,shopId:"ametller",id:"Unw54WfNBTofW6nIfUcn"},{shopId:"ametller",updateDate:1645798090805,productBarcode:"8436583955093",price:3.15,id:"LVIuWjHSMRf45MPYnJFn"},{price:1.99,productBarcode:"8436540566942",updateDate:1645653239642,shopId:"ametller",id:"Mpi3bszGgRU65dg4bBKc"},{price:1.09,updateDate:1645653185581,productBarcode:"8436551865355",shopId:"ametller",id:"L4EXzvLM8A7e8kG4FtRs"},{productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871,price:2.39,id:"knPLI6xxs0IDCaHKSyGB"},{price:1.99,shopId:"bonpreu",updateDate:1645552083100,productBarcode:"4008400203829",id:"QM5GgtVIUy51vbcMbIf9"},{productBarcode:"5410126716016",shopId:"bonpreu",price:1.69,updateDate:1645552048570,id:"jfnAmQnjB4zl3SunI0Sd"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1645552013320,id:"jKVkWotGzrKjxmvRwLNR"},{shopId:"bonpreu",productBarcode:"8414516070167",updateDate:1645551958078,price:1.45,id:"W2TFB9h710ZvxZT8a2ck"},{updateDate:1645551919468,shopId:"bonpreu",price:1.43,productBarcode:"8413100612639",id:"t85CQn37ZTGkZDg2g7ye"},{shopId:"bonpreu",price:1.99,productBarcode:"8422410387915",updateDate:1645551879354,id:"DWMRG0P9BqBVBhR4shsT"},{productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,updateDate:1645551832691,id:"ddM9TFLaPa7mQ1K0fKnd"},{shopId:"bonpreu",productBarcode:"3045206312257",price:2.15,updateDate:1645452864525,id:"LkOF7yaDBwQ9I3SA85NF"},{price:.99,productBarcode:"7613035268388",updateDate:1645452256976,shopId:"bonpreu",id:"2MyEe35UgvDXVfpE5jww"},{productBarcode:"8422410040872",updateDate:1645452194587,price:3.15,shopId:"bonpreu",id:"WlW5WEMc2j86uzxwjd2o"}];var Sc=x(1343),$r=x(9110);let jo=(()=>{class r{constructor(t,c,h,_){this.productService=t,this.shopService=c,this.firestoreService=h,this.loginService=_,this.shopsProducts=new ei.x,this._shopsProducts=[],this.loaded=!1,this.shopsProducts.subscribe(I=>{this._shopsProducts=I,this.loaded=!0})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),wn.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,yi.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=Ul),this.shopsProducts.next(t)})):(0,lr.of)(Ul).pipe((0,yi.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=Ul),this.shopsProducts.next(t)}))}addShopProduct(t){return t.id||(t.id=Eo()),t.createdBy||(t.createdBy=this.loginService.getLoggedUser()),wn.q.cloudMode?this.firestoreService.addShopProduct(t).pipe((0,yi.b)(()=>{this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeShopProduct(t){return console.log("ShopProductService.removeShopProduct()",t),wn.q.cloudMode?this.firestoreService.deleteShopProduct(t).pipe((0,yi.b)(()=>{this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeShopShopProducts(t){console.log("ShopProductService.removeShopShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.shopId===t?c.push(_):h.push(_)}),wn.q.cloudMode?this.firestoreService.deleteShopProducts(c).pipe((0,yi.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeProductShopProducts(t){console.log("ShopProductService.removeProductShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.productBarcode===t?c.push(_):h.push(_)}),wn.q.cloudMode?this.firestoreService.deleteShopProducts(c).pipe((0,yi.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}getShopProductHistory(t){return this._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===t.shopId).sort((c,h)=>c.updateDate>h.updateDate?1:-1)}getShopProduct(t,c){const h=this._shopsProducts.filter(_=>_.productBarcode===c&&_.shopId===t).sort((_,I)=>_.updateDate<I.updateDate?1:-1);return(0,lr.of)(h.length>0?h[0]:void 0)}getShopProducts(t){const c=this._shopsProducts.filter(h=>h.shopId===t).map(h=>h.productBarcode);return(0,lr.of)(this.productService._products.filter(h=>c.indexOf(h.barcode)>-1))}getProductShops(t){const c=this._shopsProducts.filter(h=>h.productBarcode===t).map(h=>h.shopId);return(0,lr.of)(this.shopService._shops.filter(h=>c.indexOf(h.id)>-1))}getShopShopProducts(t){return(0,lr.of)(this._shopsProducts.filter(c=>c.shopId===t))}getProductShopProducts(t){return(0,lr.of)(this._shopsProducts.filter(c=>c.productBarcode===t))}getShopProductLast(t,c){const h=this._shopsProducts.filter(_=>_.shopId===t&&_.productBarcode===c).sort((_,I)=>_.updateDate<I.updateDate?1:-1);return h.length>0?h[0]:void 0}getProductCheaperShop(t){const c=[];if(!t)return[];if(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length)return;let h=[...c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price>q.price?1:-1)];const _=h[0].price;return h=h.filter(I=>I.price===_),h.map(I=>this.shopService._shops.find(q=>q.id===I.shopId))}getProductLowestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length))return;let h=[...c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price<q.price?1:-1)];return h[0].price<=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductHighestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length))return;let h=c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price<q.price?1:-1);return h[0].price>=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductPriceRange(t,c){const h=[];this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{h.indexOf(I.shopId)<0&&h.push(I.shopId)});const _=h.map(I=>this.getShopProductLast(I,t.barcode).price);return _.sort((I,q)=>I<q?1:-1),{max:_[0],min:_[_.length-1]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Sr.M),e.LFG(Nr.d),e.LFG(Sc.C),e.LFG($r.r))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),_d=(()=>{class r{constructor(t,c){this.productService=t,this.shopProductService=c,this.cart=new ei.x,this.cartConfig=new ei.x,this.cart.subscribe(h=>{var _;h&&(null===(_=h.productsBarcodesUnits)||void 0===_?void 0:_.length)>0?(this._cart=h,localStorage.setItem(Rn.M.PS_SHOPPING_CART,JSON.stringify(h))):(this._cart=void 0,localStorage.removeItem(Rn.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(Rn.M.PS_SHOPPING_CART);if(t){const c=JSON.parse(t);this.cart.next(c)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var c,h;(null===(h=null===(c=this._cart)||void 0===c?void 0:c.productsBarcodesUnits)||void 0===h?void 0:h.length)>0&&this._cart.productsBarcodesUnits.forEach(_=>{const I=t.find(te=>te.barcode===_.barcode);I||console.error("Undefined product");const q=this.shopProductService.getProductCheaperShop(I);if(q){const te=this.shopProductService.getProductLowestPrice(I),De=this.shopProductService.getProductHighestPrice(I);q.forEach(it=>{const Ut=this._cartConfig.items.find(Jt=>{var rn;return(null===(rn=Jt.shop)||void 0===rn?void 0:rn.id)===(null==it?void 0:it.id)}),jt={product:I,units:_.units,minPrice:te,maxPrice:De,checked:_.checked};Ut?Ut.productsUnits.push(jt):this._cartConfig.items.push({shop:it,productsUnits:[jt]})})}else{const te=this._cartConfig.items.find(De=>!De.shop);te?te.productsUnits.push({product:I,units:_.units,checked:_.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:I,units:_.units,checked:_.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,c){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(h=>h.barcode===t.barcode).units=c,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(t){this._cart.productsBarcodesUnits.find(c=>c.barcode===t.product.barcode).checked=!t.checked,this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(c=>c.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Rn.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let c=this._cart;if(c){const h=c.productsBarcodesUnits.find(_=>_.barcode===t.barcode);h?h.units++:c.productsBarcodesUnits.push({barcode:t.barcode,units:1,checked:!1})}else c={productsBarcodesUnits:[{barcode:t.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};c.updateDate=(new Date).getTime(),this.cart.next(c)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Sr.M),e.LFG(jo))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ln=x(1135),vo=x(9300),Gc=x(4482),Ba=x(5032);function Ti(r){return(0,Gc.e)((i,t)=>{(0,sr.Xf)(r).subscribe((0,In.x)(t,()=>t.complete(),Ba.Z)),!t.closed&&i.subscribe(t)})}class _a{}const Pi="*";function va(r,i){return{type:7,name:r,definitions:i,options:{}}}function jc(r,i=null){return{type:4,styles:i,timings:r}}function Gl(r,i=null){return{type:2,steps:r,options:i}}function oo(r){return{type:6,styles:r,offset:null}}function ea(r,i,t){return{type:0,name:r,styles:i,options:t}}function ya(r,i,t=null){return{type:1,expr:r,animation:i,options:t}}function Wc(r){Promise.resolve(null).then(r)}class Ci{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Wc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class rs{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,c=0,h=0;const _=this.players.length;0==_?Wc(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++t==_&&this._onFinish()}),I.onDestroy(()=>{++c==_&&this._onDestroy()}),I.onStart(()=>{++h==_&&this._onStart()})}),this.totalTime=this.players.reduce((I,q)=>Math.max(I,q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(c=>{const h=c.totalTime?Math.min(1,t/c.totalTime):1;c.setPosition(h)})}getPosition(){const i=this.players.reduce((t,c)=>null===t||c.totalTime>t.totalTime?c:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}const $s=["overlay"];function yd(r,i){1&r&&e._UZ(0,"div")}function gl(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,yd,1,0,"div",6),e.qZA()),2&r){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function sc(r,i){if(1&r&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function Vl(r,i){if(1&r&&(e.TgZ(0,"div",1,2),e.YNc(2,gl,2,5,"div",3),e.YNc(3,sc,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&r){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const ch=["*"],Ua={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},ba="primary";class yo{constructor(i){Object.assign(this,i)}static create(i){return(null==(null==i?void 0:i.type)||0===i.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new yo(i)}}let Ms=(()=>{class r{constructor(){this.spinnerObservable=new Ln.X(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,vo.h)(c=>c&&c.name===t))}show(t=ba,c){return new Promise((h,_)=>{setTimeout(()=>{c&&Object.keys(c).length?(c.name=t,this.spinnerObservable.next(new yo(Object.assign(Object.assign({},c),{show:!0}))),h(!0)):(this.spinnerObservable.next(new yo({name:t,show:!0})),h(!0))},10)})}hide(t=ba,c=10){return new Promise((h,_)=>{setTimeout(()=>{this.spinnerObservable.next(new yo({name:t,show:!1})),h(!0)},c)})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ro=(()=>{class r{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Se,16))},r.\u0275pipe=e.Yjl({name:"safeHtml",type:r,pure:!0}),r})(),qc=(()=>{class r{constructor(t,c,h){this.spinnerService=t,this.changeDetector=c,this.elementRef=h,this.disableAnimation=!1,this.spinner=new yo,this.ngUnsubscribe=new ei.x,this.setDefaultOptions=()=>{this.spinner=yo.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=ba,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(Ti(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const c in t)if(c){const h=t[c];if(h.isFirstChange())return;void 0!==h.currentValue&&h.currentValue!==h.previousValue&&""!==h.currentValue&&(this.spinner[c]=h.currentValue,"showSpinner"===c&&(h.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===c&&this.initObservable())}}getClass(t,c){this.spinner.divCount=Ua[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((_,I)=>I);let h="";switch(c.toLowerCase()){case"small":h="la-sm";break;case"medium":h="la-2x";break;case"large":h="la-3x"}return"la-"+t+" "+h}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ms),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-spinner"]],viewQuery:function(t,c){if(1&t&&e.Gf($s,5),2&t){let h;e.iGM(h=e.CRH())&&(c.spinnerDOM=h.first)}},hostBindings:function(t,c){1&t&&e.NdJ("keydown",function(_){return c.handleKeyboardEvent(_)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:ch,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,c){1&t&&(e.F$t(),e.YNc(0,Vl,6,12,"div",0)),2&t&&e.Q6J("ngIf",c.spinner.show)},directives:[p.O5,p.sg],pipes:[Ro],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[va("fadeIn",[ea("in",oo({opacity:1})),ya(":enter",[oo({opacity:0}),jc(300)]),ya(":leave",jc(200,oo({opacity:0})))])]},changeDetection:0}),r})(),xu=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var fs=x(576);function Ta(r){return!!r&&(r instanceof ir.y||(0,fs.m)(r.lift)&&(0,fs.m)(r.subscribe))}var U=x(7272),Z=x(9770),ae=x(5698),qe=x(6063);class mt extends ei.x{constructor(i=1/0,t=1/0,c=qe.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=c,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:c,_infiniteTimeWindow:h,_timestampProvider:_,_windowTime:I}=this;t||(c.push(i),!h&&c.push(_.now()+I)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:c,_buffer:h}=this,_=h.slice();for(let I=0;I<_.length&&!i.closed;I+=c?1:2)i.next(_[I]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:c,_infiniteTimeWindow:h}=this,_=(h?1:2)*i;if(i<1/0&&_<c.length&&c.splice(0,c.length-_),!h){const I=t.now();let q=0;for(let te=1;te<c.length&&c[te]<=I;te+=2)q=te;q&&c.splice(0,q+1)}}}var At=x(3099);function ln(r,i,t){let c,h=!1;return r&&"object"==typeof r?({bufferSize:c=1/0,windowTime:i=1/0,refCount:h=!1,scheduler:t}=r):c=null!=r?r:1/0,(0,At.B)({connector:()=>new mt(c,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Mn=x(4351),mr=x(3900);class fr{}let ai=(()=>{class r extends fr{getTranslation(t){return(0,lr.of)({})}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Cr{}let ko=(()=>{class r{handle(t){return t.key}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function ao(r,i){if(r===i)return!0;if(null===r||null===i)return!1;if(r!=r&&i!=i)return!0;let h,_,I,t=typeof r;if(t==typeof i&&"object"==t){if(!Array.isArray(r)){if(Array.isArray(i))return!1;for(_ in I=Object.create(null),r){if(!ao(r[_],i[_]))return!1;I[_]=!0}for(_ in i)if(!(_ in I)&&void 0!==i[_])return!1;return!0}if(!Array.isArray(i))return!1;if((h=r.length)==i.length){for(_=0;_<h;_++)if(!ao(r[_],i[_]))return!1;return!0}}return!1}function ps(r){return null!=r}function ta(r){return r&&"object"==typeof r&&!Array.isArray(r)}function ws(r,i){let t=Object.assign({},r);return ta(r)&&ta(i)&&Object.keys(i).forEach(c=>{ta(i[c])?c in r?t[c]=ws(r[c],i[c]):Object.assign(t,{[c]:i[c]}):Object.assign(t,{[c]:i[c]})}),t}class Ho{}let zi=(()=>{class r extends Ho{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,c){let h;return h="string"==typeof t?this.interpolateString(t,c):"function"==typeof t?this.interpolateFunction(t,c):t,h}getValue(t,c){let h="string"==typeof c?c.split("."):[c];c="";do{c+=h.shift(),!ps(t)||!ps(t[c])||"object"!=typeof t[c]&&h.length?h.length?c+=".":t=void 0:(t=t[c],c="")}while(h.length);return t}interpolateFunction(t,c){return t(c)}interpolateString(t,c){return c?t.replace(this.templateMatcher,(h,_)=>{let I=this.getValue(c,_);return ps(I)?I:h}):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class zc{}let ml=(()=>{class r extends zc{compile(t,c){return t}compileTranslations(t,c){return t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class jl{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const Ec=new e.OlP("USE_STORE"),Hl=new e.OlP("USE_DEFAULT_LANG"),bd=new e.OlP("DEFAULT_LANGUAGE"),Iu=new e.OlP("USE_EXTEND");let Lo=(()=>{class r{constructor(t,c,h,_,I,q=!0,te=!1,De=!1,it){this.store=t,this.currentLoader=c,this.compiler=h,this.parser=_,this.missingTranslationHandler=I,this.useDefaultLang=q,this.isolate=te,this.extend=De,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},it&&this.setDefaultLang(it)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let c=this.retrieveTranslations(t);void 0!==c?(null==this.defaultLang&&(this.defaultLang=t),c.pipe((0,ae.q)(1)).subscribe(h=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,lr.of)(this.translations[t]);let c=this.retrieveTranslations(t);return void 0!==c?(this.currentLang||(this.currentLang=t),c.pipe((0,ae.q)(1)).subscribe(h=>{this.changeLang(t)}),c):(this.changeLang(t),(0,lr.of)(this.translations[t]))}retrieveTranslations(t){let c;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),c=this._translationRequests[t]),c}getTranslation(t){this.pending=!0;const c=this.currentLoader.getTranslation(t).pipe(ln(1),(0,ae.q)(1));return this.loadingTranslations=c.pipe((0,cn.U)(h=>this.compiler.compileTranslations(h,t)),ln(1),(0,ae.q)(1)),this.loadingTranslations.subscribe({next:h=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},h),this.translations[t]):h,this.updateLangs(),this.pending=!1},error:h=>{this.pending=!1}}),c}setTranslation(t,c,h=!1){c=this.compiler.compileTranslations(c,t),this.translations[t]=(h||this.extend)&&this.translations[t]?ws(this.translations[t],c):c,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(c=>{-1===this.langs.indexOf(c)&&this.langs.push(c)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,c,h){let _;if(c instanceof Array){let I={},q=!1;for(let te of c)I[te]=this.getParsedResult(t,te,h),Ta(I[te])&&(q=!0);return q?St(c.map(De=>Ta(I[De])?I[De]:(0,lr.of)(I[De]))).pipe((0,cn.U)(De=>{let it={};return De.forEach((Ut,jt)=>{it[c[jt]]=Ut}),it})):I}if(t&&(_=this.parser.interpolate(this.parser.getValue(t,c),h)),void 0===_&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(_=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],c),h)),void 0===_){let I={key:c,translateService:this};void 0!==h&&(I.interpolateParams=h),_=this.missingTranslationHandler.handle(I)}return void 0!==_?_:c}get(t,c){if(!ps(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Mn.b)(h=>Ta(h=this.getParsedResult(h,t,c))?h:(0,lr.of)(h)));{let h=this.getParsedResult(this.translations[this.currentLang],t,c);return Ta(h)?h:(0,lr.of)(h)}}getStreamOnTranslationChange(t,c){if(!ps(t)||!t.length)throw new Error('Parameter "key" required');return(0,U.z)((0,Z.P)(()=>this.get(t,c)),this.onTranslationChange.pipe((0,mr.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return"function"==typeof _.subscribe?_:(0,lr.of)(_)})))}stream(t,c){if(!ps(t)||!t.length)throw new Error('Parameter "key" required');return(0,U.z)((0,Z.P)(()=>this.get(t,c)),this.onLangChange.pipe((0,mr.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return Ta(_)?_:(0,lr.of)(_)})))}instant(t,c){if(!ps(t)||!t.length)throw new Error('Parameter "key" required');let h=this.getParsedResult(this.translations[this.currentLang],t,c);if(Ta(h)){if(t instanceof Array){let _={};return t.forEach((I,q)=>{_[t[q]]=t[q]}),_}return t}return h}set(t,c,h=this.currentLang){this.translations[h][t]=this.compiler.compile(c,h),this.updateLangs(),this.onTranslationChange.emit({lang:h,translations:this.translations[h]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(jl),e.LFG(fr),e.LFG(zc),e.LFG(Ho),e.LFG(Cr),e.LFG(Hl),e.LFG(Ec),e.LFG(Iu),e.LFG(bd))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),is=(()=>{class r{constructor(t,c){this.translate=t,this._ref=c,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,c,h){let _=I=>{this.value=void 0!==I?I:t,this.lastKey=t,this._ref.markForCheck()};if(h){let I=this.translate.getParsedResult(h,t,c);Ta(I.subscribe)?I.subscribe(_):_(I)}this.translate.get(t,c).subscribe(_)}transform(t,...c){if(!t||!t.length)return t;if(ao(t,this.lastKey)&&ao(c,this.lastParams))return this.value;let h;if(ps(c[0])&&c.length)if("string"==typeof c[0]&&c[0].length){let _=c[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{h=JSON.parse(_)}catch(I){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${c[0]}`)}}else"object"==typeof c[0]&&!Array.isArray(c[0])&&(h=c[0]);return this.lastKey=t,this.lastParams=c,this.updateValue(t,h),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(_=>{this.lastKey&&_.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(_=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Lo,16),e.Y36(e.sBO,16))},r.\u0275pipe=e.Yjl({name:"translate",type:r,pure:!1}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Mu=(()=>{class r{static forRoot(t={}){return{ngModule:r,providers:[t.loader||{provide:fr,useClass:ai},t.compiler||{provide:zc,useClass:ml},t.parser||{provide:Ho,useClass:zi},t.missingTranslationHandler||{provide:Cr,useClass:ko},jl,{provide:Ec,useValue:t.isolate},{provide:Hl,useValue:t.useDefaultLang},{provide:Iu,useValue:t.extend},{provide:bd,useValue:t.defaultLanguage},Lo]}}static forChild(t={}){return{ngModule:r,providers:[t.loader||{provide:fr,useClass:ai},t.compiler||{provide:zc,useClass:ml},t.parser||{provide:Ho,useClass:zi},t.missingTranslationHandler||{provide:Cr,useClass:ko},{provide:Ec,useValue:t.isolate},{provide:Hl,useValue:t.useDefaultLang},{provide:Iu,useValue:t.extend},{provide:bd,useValue:t.defaultLanguage},Lo]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const nf={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest e-mail",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui a la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i l'aplicaci\xf3 et dir\xe0 on comprar cada producte."},step5:{title:"Coopera i comparteix",text:"Les dades que introdueixis serviran als altres usuaris i les dels altres usuaris et serviran a tu."},step6:{title:"Estigues informat",text:"Reb alertes dels canvis de preu dels productes que tinguis com a favorits."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra",alerts:"Alertes"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escaneja"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades",characteristics:"Caracter\xedstiques",category:"Categoria",allergens:"Al\xb7l\xe8rgens",nutrientLevels:"Nivells nutrients",nutrients:{fat:"Greixos",salt:"Sal",saturedFat:"Greixos saturats",sugars:"Sucres"},nutriscore:{a:"Molt saludable",b:"Saludable",c:"Acceptable",d:"Poc saludable",e:"No saludable"},nova:{nova1:"Aliments naturals o m\xednimament processats",nova2:"Ingredients culinaris processats",nova3:"Aliments processats",nova4:"Aliments ultraprocessats"},ecoscore:{ecoscoreA:"Impacte ambiental molt baix",ecoscoreB:"Impacte ambiental baix",ecoscoreC:"Impacte ambiental moderat",ecoscoreD:"Impacte ambiental alt",ecoscoreE:"Impacte ambiental molt alt",ecoscoreUNKNOWN:"Impacte ambiental desconegut",ecoscoreNOTAPPLICABLE:"Impacte ambiental desconegut o no es pot calcular"}},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant l'esc\xe0ner",initError:"Hi ha hagut un error inicialitzant el l'esc\xe0ner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'escaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Esc\xe0ner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per a la botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},alerts:{unreadInfoText:"Tens alertes sense llegir. Pots marcar-les com a llegides fent clic a la que desitgis."},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"},alert:"Alerta",alerts:"Alertes",copiedToClipboard:"S'ha copiat al porta-retalls",levels:{high:"Alt",moderate:"Moderat",low:"Baix"}}},Ep={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."},step5:{title:"Cooperate and share",text:"The data you enter will be used by other users and the data of other users will be useful to you."},step6:{title:"Be informed",text:"Get alert to changes in the price of your favorite products."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart",alerts:"Alerts"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data",characteristics:"Characteristics",category:"Category",allergens:"Allergens",nutrientLevels:"Nutrient levels",nutrients:{fat:"Fat",salt:"Salt",saturedFat:"Satured fat",sugars:"Sugars"},nutriscore:{a:"Very healthy",b:"Healthy",c:"Acceptable",d:"Unhealthy",e:"Not healthy"},nova:{nova1:"Natural or minimally processed foods",nova2:"Processed culinary ingredients",nova3:"Processed foods",nova4:"Ultra-processed foods"},ecoscore:{ecoscoreA:"Very low environmental impact",ecoscoreB:"Low environmental impact",ecoscoreC:"Moderate environmental impact",ecoscoreD:"High environmental impact",ecoscoreE:"Very high environmental impact",ecoscoreUNKNOWN:"Unknown environmental impact",ecoscoreNOTAPPLICABLE:"Environmental impact unknown or cannot be calculated"}},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},alerts:{unreadInfoText:"You have unread alerts. You can mark them as read by clicking on the one you want."},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"},alert:"Alert",alerts:"Alerts",copiedToClipboard:"Copied to clipboard",levels:{high:"High",moderate:"Moderate",low:"Low"}}},rf={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."},step5:{title:"Coopera y comparte",text:"Los datos que introduzcas servir\xe1n a los dem\xe1s usuarios y los de los dem\xe1s usuarios te servir\xe1n a ti."},step6:{title:"Mantente informado",text:"Recibe alertas de los cambios de precio de los productos que tengas como favoritos."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra",alerts:"Alertas"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos",characteristics:"Caracter\xedsticas",category:"Categor\xeda",allergens:"Al\xe9rgenos",nutrientLevels:"Niveles nutrientes",nutrients:{fat:"Grasas",salt:"Sal",saturedFat:"Grasas saturadas",sugars:"Az\xfacares"},nutriscore:{a:"Muy saludable",b:"Saludable",c:"Aceptable",d:"Poco saludable",e:"No saludable"},nova:{nova1:"Alimentos naturales o m\xednimamente procesados",nova2:"Ingredientes culinarios procesados",nova3:"Alimentos procesados",nova4:"Alimentos ultraprocesados"},ecoscore:{ecoscoreA:"Impacto ambiental muy bajo",ecoscoreB:"Impacto ambiental bajo",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Impacto ambiental alto",ecoscoreE:"Impacto ambiental muy alto",ecoscoreUNKNOWN:"Impacto ambiental desconocido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconocido o no puede calcularse"}},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},alerts:{unreadInfoText:"Tienes alertas sin leer. Puedes marcarlas como le\xeddas haciendo clic en la que desees."},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Se ha copiado al portapapeles",levels:{high:"Alto",moderate:"Moderado",low:"Bajo"}}},Wl={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."},step5:{title:"Cooperar e compartilhar",text:"Os dados que voc\xea inserir ser\xe3o usados \u200b\u200bpor outros usu\xe1rios e os dados de outros usu\xe1rios ser\xe3o \xfateis para voc\xea."},step6:{title:"Ser informado",text:"Fique alerta para mudan\xe7as no pre\xe7o de seus produtos favoritos."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras",alerts:"Alertas"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados",characteristics:"Caracter\xedsticas",category:"Categoria",allergens:"Al\xe9rgenos",nutrientLevels:"N\xedveis de nutrientes",nutrients:{fat:"Gordura",salt:"Sal",saturedFat:"Gordura saturada",sugars:"A\xe7\xfacares"},nutriscore:{a:"Muito saud\xe1vel",b:"Saud\xe1vel",c:"Aceit\xe1vel",d:"Pouco saud\xe1vel",e:"N\xe3o saud\xe1vel"},nova:{nova1:"Alimentos naturais ou minimamente processados",nova2:"Ingredientes culin\xe1rios processados",nova3:"Alimentos processados",nova4:"Alimentos ultraprocessados"},ecoscore:{ecoscoreA:"Impacto ambiental muito baixo",ecoscoreB:"Baixo impacto ambiental",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Alto impacto ambiental",ecoscoreE:"Impacto ambiental muito alto",ecoscoreUNKNOWN:"Impacto ambiental desconhecido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconhecido ou n\xe3o pode ser calculado"}},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},alerts:{unreadInfoText:"Voc\xea tem alertas n\xe3o lidos. Voc\xea pode marc\xe1-los como lidos clicando no que deseja."},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Copiado para a \xe1rea de transfer\xeancia",levels:{high:"Alto",moderate:"Moderado",low:"Baixo"}}},cc={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."},step5:{title:"Coop\xe9rer et partager",text:"Les donn\xe9es que vous saisissez seront utilis\xe9es par d'autres utilisateurs et les donn\xe9es d'autres utilisateurs vous seront utiles."},step6:{title:"\xcatre inform\xe9",text:"Soyez alert\xe9 des changements de prix de vos produits pr\xe9f\xe9r\xe9s."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier",alerts:"Alertes"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es",characteristics:"caract\xe9ristiques",category:"Cat\xe9gorie",allergens:"Allerg\xe8nes",nutrientLevels:"Niveaux de nutriments",nutrients:{fat:"Graisse",salt:"Sel",saturedFat:"Gras satur\xe9",sugars:"Sucres"},nutriscore:{a:"En tr\xe8s bonne sant\xe9",b:"En bonne sant\xe9",c:"Acceptable",d:"Mauvais pour la sant\xe9",e:"Pas bon pour la sant\xe9"},nova:{nova1:"Aliments naturels ou peu transform\xe9s",nova2:"Ingr\xe9dients culinaires transform\xe9s",nova3:"Aliments transform\xe9s",nova4:"Aliments ultra-transform\xe9s"},ecoscore:{ecoscoreA:"Tr\xe8s faible impact environnemental",ecoscoreB:"Faible impact environnemental",ecoscoreC:"Impact environnemental mod\xe9r\xe9",ecoscoreD:"Impact environnemental \xe9lev\xe9",ecoscoreE:"Impact environnemental tr\xe8s \xe9lev\xe9",ecoscoreUNKNOWN:"Impact environnemental inconnu",ecoscoreNOTAPPLICABLE:"Impact environnemental inconnu ou non calculable"}},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},alerts:{unreadInfoText:"Vous avez des alertes non lues. Vous pouvez les marquer comme lus en cliquant sur celui que vous voulez."},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"},alert:"Alerte",alerts:"Alertes",copiedToClipboard:"Copi\xe9 dans le presse-papier",levels:{high:"Haut",moderate:"Mod\xe9r\xe9",low:"Bas"}}};let lh=(()=>{class r{constructor(t){this.translate=t,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:nf,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:rf,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:Ep,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Wl,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:cc,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,lr.of)(!0)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Lo))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var na=x(655),Td=x(127),Ga=x(6451),Ou=x(5363),sf=x(590);function Nu(r,i){return(0,fs.m)(i)?(0,mr.w)(()=>r,i):(0,mr.w)(()=>r)}var Zl=x(9468),ql=x(5813),Vi=x(2011),Ru=x(7128);const _l=new e.OlP("angularfire2.auth.use-emulator"),uh=new e.OlP("angularfire2.auth.settings"),af=new e.OlP("angularfire2.auth.tenant-id"),cf=new e.OlP("angularfire2.auth.langugage-code"),lf=new e.OlP("angularfire2.auth.use-device-language"),Lu=new e.OlP("angularfire.auth.persistence");let wc=(()=>{class r{constructor(t,c,h,_,I,q,te,De,it,Ut,jt,Jt){const rn=new ei.x,Xt=(0,lr.of)(void 0).pipe((0,Ou.Q)(I.outsideAngular),(0,mr.w)(()=>_.runOutsideAngular(()=>x.e(887).then(x.bind(x,5887)))),(0,cn.U)(()=>(0,Vi.on)(t,_,c)),(0,cn.U)(zn=>((r,i,t,c,h,_,I,q)=>(0,Vi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const te=i.runOutsideAngular(()=>r.auth());if(t&&te.useEmulator(...t),c&&(te.tenantId=c),te.languageCode=h,_&&te.useDeviceLanguage(),I)for(const[De,it]of Object.entries(I))te.settings[De]=it;return q&&te.setPersistence(q),te},[t,c,h,_,I,q]))(zn,_,q,De,it,Ut,te,jt)),ln({bufferSize:1,refCount:!1}));if((0,p.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lr.of)(null);else{Xt.pipe((0,sf.P)()).subscribe();const Er=Xt.pipe((0,mr.w)(nr=>nr.getRedirectResult().then(qr=>qr,()=>null)),ql.iC,ln({bufferSize:1,refCount:!1})),yr=Xt.pipe((0,mr.w)(nr=>new ir.y(qr=>({unsubscribe:_.runOutsideAngular(()=>nr.onAuthStateChanged(Hr=>qr.next(Hr),Hr=>qr.error(Hr),()=>qr.complete()))})))),Yr=Xt.pipe((0,mr.w)(nr=>new ir.y(qr=>({unsubscribe:_.runOutsideAngular(()=>nr.onIdTokenChanged(Hr=>qr.next(Hr),Hr=>qr.error(Hr),()=>qr.complete()))}))));this.authState=Er.pipe(Nu(yr),(0,Zl.R)(I.outsideAngular),(0,Ou.Q)(I.insideAngular)),this.user=Er.pipe(Nu(Yr),(0,Zl.R)(I.outsideAngular),(0,Ou.Q)(I.insideAngular)),this.idToken=this.user.pipe((0,mr.w)(nr=>nr?(0,qn.D)(nr.getIdToken()):(0,lr.of)(null))),this.idTokenResult=this.user.pipe((0,mr.w)(nr=>nr?(0,qn.D)(nr.getIdTokenResult()):(0,lr.of)(null))),this.credential=(0,Ga.T)(Er,rn,this.authState.pipe((0,vo.h)(nr=>!nr))).pipe((0,cn.U)(nr=>(null==nr?void 0:nr.user)?nr:null),(0,Zl.R)(I.outsideAngular),(0,Ou.Q)(I.insideAngular))}return(0,Vi.pX)(this,Xt,_,{spy:{apply:(zn,Er,yr)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&yr.then(Yr=>rn.next(Yr))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Vi.Dh),e.LFG(Vi.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(ql.HU),e.LFG(_l,8),e.LFG(uh,8),e.LFG(af,8),e.LFG(cf,8),e.LFG(lf,8),e.LFG(Lu,8),e.LFG(Ru.nm,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),zl=(()=>{class r{constructor(t){this.afauth=t}login(t,c){return(0,na.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(t,c)}catch(h){return console.log("Login error",h),null}})}loginWithGoogle(t,c){return(0,na.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new Td.Z.auth.GoogleAuthProvider)}catch(h){return console.log("Logi with Google error",h),null}})}register(t,c){return(0,na.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(t,c)}catch(h){return console.log("Register error",h),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(wc))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),vl=(()=>{class r{constructor(t,c){this.shopProductService=t,this.productService=c,this.userAlerts=new ei.x,this._userAlerts=this.loadUnreadAlerts(),this.calculateAlerts(!0)}loadUnreadAlerts(){let t={updateDate:(new Date).getTime(),alerts:[]};const c=localStorage.getItem(Rn.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c);return h.alerts.forEach(_=>{this.productService._products.find(I=>I.barcode===_.productBarcode)||this.removeObsoleteProductAlerts(_.productBarcode,h.alerts)}),h}return t}updateAccessDateAlerts(){this._userAlerts.updateDate=(new Date).getTime(),this.saveAlerts()}saveAlerts(){localStorage.setItem(Rn.M.PS_USER_ALERTS,JSON.stringify(this._userAlerts))}removeObsoleteProductAlerts(t,c){c&&c.length>0&&(c=c.filter(h=>h.productBarcode!==t))}toggleReadAlert(t){t.read=!t.read;const c=localStorage.getItem(Rn.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c),_=h.alerts.find(I=>I.date===t.date&&I.productBarcode===t.productBarcode&&I.shopId===t.shopId&&I.currentPrice===t.currentPrice&&I.lastPrice===t.lastPrice);_.read=!_.read,localStorage.setItem(Rn.M.PS_USER_ALERTS,JSON.stringify(h)),this._userAlerts=this.loadUnreadAlerts(),this.userAlerts.next(this._userAlerts)}}getUnreadAlerts(){return this._userAlerts.alerts.filter(t=>!t.read).length}calculateAlerts(t){if(console.log("AlertsService.calculateAlerts()"),this.productService.loaded&&this.shopProductService.loaded){const c=this.productService._products.map(I=>I.barcode);this.shopProductService._shopsProducts.filter(I=>c.indexOf(I.productBarcode)>=0).map(I=>this.shopProductService.getShopProductHistory(I)).forEach(I=>{I.length>1&&I[I.length-2].price!==I[I.length-1].price&&(this._userAlerts.alerts.find(te=>te.date===I[I.length-1].updateDate&&te.shopId===I[I.length-1].shopId&&te.productBarcode===I[I.length-1].productBarcode)||this._userAlerts.alerts.push({currentPrice:I[I.length-1].price,date:I[I.length-1].updateDate,lastPrice:I[I.length-2].price,productBarcode:I[I.length-1].productBarcode,shopId:I[I.length-1].shopId,read:!1}))}),this.userAlerts.next(this._userAlerts),t?this.updateAccessDateAlerts():this.saveAlerts()}else setTimeout(()=>{this.calculateAlerts(t)},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(jo),e.LFG(Sr.M))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),dh=(()=>{class r{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"li"),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Botigues: ",e.xi3(4,2,c.shops.length,"1.0-2"),""),e.xp6(3),e.hij("Productes: ",e.xi3(7,5,c.products.length,"1.0-2"),""))},pipes:[p.JJ],styles:[""]}),r})();var wp=x(5577),wo=x(1144);const hi=["addListener","removeListener"],hh=["addEventListener","removeEventListener"],fh=["on","off"];function Mi(r,i,t,c){if((0,fs.m)(t)&&(c=t,t=void 0),c)return Mi(r,i,t).pipe((0,Sn.Z)(c));const[h,_]=function Ri(r){return(0,fs.m)(r.addEventListener)&&(0,fs.m)(r.removeEventListener)}(r)?hh.map(I=>q=>r[I](i,q,t)):function ph(r){return(0,fs.m)(r.addListener)&&(0,fs.m)(r.removeListener)}(r)?hi.map(bo(r,i)):function Ds(r){return(0,fs.m)(r.on)&&(0,fs.m)(r.off)}(r)?fh.map(bo(r,i)):[];if(!h&&(0,wo.z)(r))return(0,wp.z)(I=>Mi(I,i,t))((0,sr.Xf)(r));if(!h)throw new TypeError("Invalid event target");return new ir.y(I=>{const q=(...te)=>I.next(1<te.length?te:te[0]);return h(q),()=>_(q)})}function bo(r,i){return t=>c=>r[t](i,c)}var yl=x(4986);function co(r,i=yl.z){return(0,Gc.e)((t,c)=>{let h=null,_=null,I=null;const q=()=>{if(h){h.unsubscribe(),h=null;const De=_;_=null,c.next(De)}};function te(){const De=I+r,it=i.now();if(it<De)return h=this.schedule(void 0,De-it),void c.add(h);q()}t.subscribe((0,In.x)(c,De=>{_=De,I=i.now(),h||(h=i.schedule(te,r),c.add(h))},()=>{q(),c.complete()},void 0,()=>{_=h=null}))})}var Fu=x(4671);function $i(r,i=Fu.y){return r=null!=r?r:df,(0,Gc.e)((t,c)=>{let h,_=!0;t.subscribe((0,In.x)(c,I=>{const q=i(I);(_||!r(h,q))&&(_=!1,h=q,c.next(I))}))})}function df(r,i){return r===i}var gs=x(2940);const gh=["nameinput"];function J_(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateShop(h)}),e.qZA()}}function hm(r,i){1&r&&e._UZ(0,"i",16)}function Di(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(6,"td"),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"td"),e.YNc(9,J_,1,0,"i",13),e.YNc(10,hm,1,0,"i",14),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingShop||c.updatingShop.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingShop&&c.updatingShop.id===t.id)}}function hf(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Di,11,7,"ng-container",10),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let Bu=(()=>{class r{constructor(t,c,h){this.shopService=t,this.spinner=c,this.translateService=h,this.shops=[],this.onShopSortEmitter=new e.vpe,this.searchConfig={name:""},this.sortBy="name",this.sortDir="ASC",this.DEFAULT_IMAGE_URL=gs.T}matchesSearch(t){return t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>=0}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateShop(t){console.log("updateShop()",t),t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=gs.T),this.updatingShop=t,this.spinner.show(),this.shopService.updateShop(t).subscribe(()=>{this.updatingShop=void 0,this.spinner.hide()}))}export(){const t=JSON.stringify(this.shops);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngAfterViewInit(){Mi(this.nameinput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(500),$i(),(0,yi.b)(t=>{console.log(t),this.searchConfig.name=t.target.value})).subscribe()}checkShopsImages(){this.shops.map(t=>{t.imageUrl=t.imageUrl===gs.T?"":t.imageUrl})}ngOnInit(){this.checkShopsImages()}ngOnChanges(t){this.checkShopsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Nr.d),e.Y36(Ms),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops"]],viewQuery:function(t,c){if(1&t&&e.Gf(gh,5),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first)}},inputs:{shops:"shops"},outputs:{onShopSortEmitter:"onShopSortEmitter"},features:[e.TTD],decls:23,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","4"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return c.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return c.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th"),e._uU(16,"URL imatge"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Imatge"),e.qZA(),e.TgZ(19,"th"),e._UZ(20,"i",8),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,hf,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",c.shops))},directives:[p.sg,p.O5,_n,wi,Qi],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();const mh=["nameinput"],_h=["brandinput"],Cd=["createdbyinput"];function Dp(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdOn,"dd.MM.yyyy - HH:mm"))}}function Ap(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",18),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateProduct(h)}),e.qZA()}}function xp(r,i){1&r&&e._UZ(0,"i",19)}function fm(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.brand=h}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,Dp,3,4,"span",13),e.qZA(),e.TgZ(10,"td")(11,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"img",15),e.qZA(),e.TgZ(14,"td"),e.YNc(15,Ap,1,0,"i",16),e.YNc(16,xp,1,0,"i",17),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.brand)("ngModel",t.brand),e.xp6(2),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.createdOn),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingProduct||c.updatingProduct.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingProduct&&c.updatingProduct.id===t.id)}}function ff(r,i){if(1&r&&(e.ynx(0),e.YNc(1,fm,17,11,"ng-container",13),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let Sd=(()=>{class r{constructor(t,c,h){this.productService=t,this.spinner=c,this.translateService=h,this.products=[],this.onProductSortEmitter=new e.vpe,this.DEFAULT_IMAGE_URL=gs.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(t){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const c=this.searchConfig.name.length>0&&t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,h=this.searchConfig.brand.length>0&&t.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,_=t.createdBy&&this.searchConfig.createdBy.length>0&&(t.createdBy.username.length>0&&t.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||t.createdBy.email.length>0&&t.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return c||h||_}}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(t){console.log("updateProduct()",t),t.brand.length>0&&t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=gs.T),this.updatingProduct=t,this.spinner.show(),this.productService.updateProduct(t,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(t=>{t.imageUrl=t.imageUrl===gs.T?"":t.imageUrl})}export(){const t=JSON.stringify(this.products);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){Mi(this.nameinput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(500),$i(),(0,yi.b)(t=>{this.searchConfig.name=t.target.value})).subscribe(),Mi(this.brandinput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(500),$i(),(0,yi.b)(t=>{this.searchConfig.brand=t.target.value})).subscribe(),Mi(this.createdbyinput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(500),$i(),(0,yi.b)(t=>{this.searchConfig.createdBy=t.target.value})).subscribe()}ngOnChanges(t){this.checkProductsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Sr.M),e.Y36(Ms),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-products"]],viewQuery:function(t,c){if(1&t&&(e.Gf(mh,5),e.Gf(_h,5),e.Gf(Cd,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first),e.iGM(h=e.CRH())&&(c.brandinput=h.first),e.iGM(h=e.CRH())&&(c.createdbyinput=h.first)}},inputs:{products:"products"},outputs:{onProductSortEmitter:"onProductSortEmitter"},features:[e.TTD],decls:38,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","7"],[1,"d-flex","flex-column"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"button",4),e.NdJ("click",function(){return c.export()}),e._UZ(7,"i",5),e._uU(8,"Exportar"),e.qZA()()()(),e.TgZ(9,"tr")(10,"th")(11,"span",6),e.NdJ("click",function(){return c.sort("name")}),e._uU(12,"Nom"),e.qZA(),e._UZ(13,"br")(14,"input",7,8),e.qZA(),e.TgZ(16,"th")(17,"span",6),e.NdJ("click",function(){return c.sort("brand")}),e._uU(18,"Marca"),e.qZA(),e._UZ(19,"br")(20,"input",7,9),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Creat per"),e._UZ(24,"br")(25,"input",7,10),e.qZA(),e.TgZ(27,"th")(28,"span",6),e.NdJ("click",function(){return c.sort("createdOn")}),e._uU(29,"Data creaci\xf3"),e.qZA()(),e.TgZ(30,"th"),e._uU(31,"URL imatge"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Imatge"),e.qZA(),e.TgZ(34,"th"),e._UZ(35,"i",11),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,ff,2,1,"ng-container",12),e.qZA()()()),2&t&&(e.xp6(37),e.Q6J("ngForOf",c.products))},directives:[p.sg,p.O5,_n,wi,Qi],pipes:[p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();const Ip=["searchInput"];function pf(r,i){if(1&r&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.updateDate,"dd.MM.yyyy - HH:mm"))}}function pm(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(2).removeShopProduct(h)}),e.qZA()}}function lo(r,i){1&r&&e._UZ(0,"i",18)}function gf(r,i){if(1&r&&(e.ynx(0)(1),e.TgZ(2,"tr")(3,"td"),e._uU(4),e.TgZ(5,"span",11),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",12)(10,"div",13),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"td")(14,"div",13),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"div",13),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"div",13),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"div",13),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div",13),e._uU(27),e.qZA()(),e.TgZ(28,"td")(29,"div",13),e._uU(30),e.qZA()(),e.TgZ(31,"td"),e.YNc(32,pf,3,4,"div",14),e.qZA(),e.TgZ(33,"td"),e.YNc(34,pm,1,0,"i",15),e.YNc(35,lo,1,0,"i",16),e.qZA()(),e.BQk()()),2&r){const t=i.$implicit,c=e.oxw(2);let h,_,I;e.xp6(4),e.Oqu(null==(h=c.getProduct(t.productBarcode))?null:h.name),e.xp6(2),e.hij("(",null==(_=c.getProduct(t.productBarcode))?null:_.brand,")"),e.xp6(2),e.Oqu(null==(I=c.getShop(t.shopId))?null:I.name),e.xp6(3),e.hij("",e.xi3(12,13,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.ip)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.city)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.device)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.os)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.browser)||"?"),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",!c.updatingShopProduct||c.updatingShopProduct.id!=c.updatingShopProduct.id),e.xp6(1),e.Q6J("ngIf",c.updatingShopProduct&&c.updatingShopProduct.id==c.updatingShopProduct.id)}}function gm(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3)(5,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().export()}),e._UZ(6,"i",5),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th",3),e._UZ(10,"input",6,7),e.qZA()(),e.TgZ(12,"tr")(13,"th")(14,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("product")}),e._uU(15,"Producte"),e.qZA()(),e.TgZ(16,"th")(17,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("shop")}),e._uU(18,"Botiga"),e.qZA()(),e.TgZ(19,"th")(20,"span"),e._uU(21,"Preu"),e.qZA()(),e.TgZ(22,"th")(23,"span"),e._uU(24,"Afegit per"),e.qZA()(),e.TgZ(25,"th")(26,"span"),e._uU(27,"IP"),e.qZA()(),e.TgZ(28,"th")(29,"span"),e._uU(30,"Ubicaci\xf3"),e.qZA()(),e.TgZ(31,"th")(32,"span"),e._uU(33,"Device"),e.qZA()(),e.TgZ(34,"th")(35,"span"),e._uU(36,"OS"),e.qZA()(),e.TgZ(37,"th")(38,"span"),e._uU(39,"Browser"),e.qZA()(),e.TgZ(40,"th")(41,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("updateDate")}),e._uU(42,"Data"),e.qZA()(),e.TgZ(43,"th"),e._UZ(44,"i",9),e.qZA()()(),e.TgZ(45,"tbody"),e.YNc(46,gf,36,16,"ng-container",10),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(46),e.Q6J("ngForOf",t.shopsProductsFiltered)}}let Wo=(()=>{class r{constructor(t,c){this.shopProductService=t,this.translateService=c,this.products=[],this.shops=[],this.shopsProducts=[],this.shopsProductsFiltered=[],this.onShopProductSortEmitter=new e.vpe,this.sortBy="updateDate",this.sortDir="ASC"}getShop(t){return this.shops.find(c=>t===c.id)}getProduct(t){return this.products.find(c=>t===c.barcode)}removeShopProduct(t){this.shopProductService.removeShopProduct(t).subscribe(()=>{})}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}export(){const t=JSON.stringify(this.shopsProducts);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnChanges(t){var c;(null===(c=null==t?void 0:t.products)||void 0===c?void 0:c.firstChange)&&this.sort("updateDate"),(null==t?void 0:t.shopsProducts)&&(console.log("shopsProducts changed!"),this.shopsProductsFiltered=[...this.shopsProducts])}ngAfterViewInit(){Mi(this.searchInput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(1e3),$i(),(0,yi.b)(t=>{console.log(this.searchInput.nativeElement.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(jo),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops-products"]],viewQuery:function(t,c){if(1&t&&e.Gf(Ip,5),2&t){let h;e.iGM(h=e.CRH())&&(c.searchInput=h.first)}},inputs:{products:"products",shops:"shops",shopsProducts:"shopsProducts"},outputs:{onShopProductSortEmitter:"onShopProductSortEmitter"},features:[e.TTD],decls:1,vars:1,consts:[["class","d-flex w-100",4,"ngIf"],[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","11"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],["type","text","placeholder","Search by product name...",1,"form-control"],["searchInput",""],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[1,"brand","ms-2"],[1,"text-end"],[1,"nowrap"],["class","nowrap",4,"ngIf"],["class","fas fa-trash cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&e.YNc(0,gm,47,1,"div",0),2&t&&e.Q6J("ngIf",c.shopsProductsFiltered)},directives:[p.O5,p.sg],pipes:[p.JJ,p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.brand[_ngcontent-%COMP%]{font-size:9pt}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),r})();function vh(r,i){if(1&r&&(e.TgZ(0,"div",9),e._UZ(1,"app-backoffice-dashboard",10),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function Pp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops",11),e.NdJ("onShopSortEmitter",function(h){return e.CHM(t),e.oxw().sortShops(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)}}function Ed(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-products",12),e.NdJ("onProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)}}function Dc(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops-products",13),e.NdJ("shopsProductsChange",function(h){return e.CHM(t),e.oxw().shopsProducts=h})("onShopProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortShopsProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)("shops",t.shops)("shopsProducts",t.shopsProducts)}}const Uu=function(r){return{active:r}};let Mp=(()=>{class r{constructor(t){this.loginService=t,this.selectedTab=3,this.shops=[],this.products=[],this.shopsProducts=[],this.cloudMode=wn.q.cloudMode,this.users=[]}sortProducts(t){console.log("sortProducts()",t),t&&(this.products=this.products.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShops(t){console.log("sortShops()",t),t&&(this.shops=this.shops.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShopsProducts(t){console.log("sortShopsProducts()",t),t&&(this.shopsProducts=this.shopsProducts.sort((c,h)=>{if("shop"===t.sortBy){const _=this.shops.find(q=>q.id===c.shopId).name.toString().toUpperCase(),I=this.shops.find(q=>q.id===h.shopId).name.toString().toUpperCase();return"DESC"===t.sortDir?_>I?-1:1:_>I?1:-1}if("product"===t.sortBy){const _=this.products.find(q=>q.barcode===c.productBarcode).name.toString().toUpperCase(),I=this.products.find(q=>q.barcode===h.productBarcode).name.toString().toUpperCase();return"DESC"===t.sortDir?_>I?-1:1:_>I?1:-1}return"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1}))}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.products.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.shopsProducts.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email)&&t.push(c.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[e.TTD],decls:33,vars:29,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","justify-content-between","w-100","ps-2"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"shops","onShopSortEmitter"],[1,"w-100",3,"products","onProductSortEmitter"],[1,"w-100",3,"products","shops","shopsProducts","shopsProductsChange","onShopProductSortEmitter"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Backoffice "),e.TgZ(4,"small"),e._uU(5),e.qZA()()(),e.TgZ(6,"ul",2)(7,"li",3)(8,"a",4),e.NdJ("click",function(){return c.selectedTab=0}),e._uU(9,"Dashboard"),e.qZA()(),e.TgZ(10,"li",5)(11,"a",4),e.NdJ("click",function(){return c.selectedTab=1}),e._uU(12,"Botigues "),e.TgZ(13,"small",6),e._uU(14),e.ALo(15,"number"),e.qZA()()(),e.TgZ(16,"li",3)(17,"a",4),e.NdJ("click",function(){return c.selectedTab=2}),e._uU(18,"Productes "),e.TgZ(19,"small",6),e._uU(20),e.ALo(21,"number"),e.qZA()()(),e.TgZ(22,"li",3)(23,"a",4),e.NdJ("click",function(){return c.selectedTab=3}),e._uU(24,"Preus"),e.TgZ(25,"small",6),e._uU(26),e.ALo(27,"number"),e.qZA()()()(),e.TgZ(28,"div",7),e.YNc(29,vh,2,3,"div",8),e.YNc(30,Pp,2,1,"div",8),e.YNc(31,Ed,2,1,"div",8),e.YNc(32,Dc,2,3,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.hij("(Cloud mode: ",c.cloudMode,")"),e.xp6(3),e.Q6J("ngClass",e.VKq(21,Uu,0===c.selectedTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(23,Uu,1===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(15,12,c.shops.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(25,Uu,2===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(21,15,c.products.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(27,Uu,3===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(27,18,null==c.shopsProducts?null:c.shopsProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.Q6J("ngIf",2===c.selectedTab),e.xp6(1),e.Q6J("ngIf",3===c.selectedTab))},directives:[p.mk,p.O5,dh,Bu,Sd,Wo],pipes:[p.JJ],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 80px)!important;overflow:auto}small[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();const yh=["appLayout"];function mm(r,i){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function Gu(r,i){1&r&&e._UZ(0,"i",39)}function Ns(r,i){if(1&r&&e._UZ(0,"img",40),2&r){const t=e.oxw(4);e.Q6J("src",t.loggedUser.photoURL,e.LSH)}}function mf(r,i){if(1&r&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(null==t.loggedUser?null:t.loggedUser.email)}}function Op(r,i){if(1&r&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}function Vu(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li"),e._UZ(2,"hr",36),e.qZA(),e.TgZ(3,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).toggleExport()}),e.TgZ(4,"div",24),e._UZ(5,"i",42),e.TgZ(6,"a",26),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}2&r&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"menu.export")))}const ms=function(r){return{disabled:r}},wd=function(){return["/shoppingCart"]},bh=function(){return["/search-shops"]},Np=function(){return["/search-products"]},Rp=function(r){return{disabled:r}},kp=function(){return["/alerts"]},Lp=function(){return["/statistics"]};function Fp(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"button",9),e._UZ(3,"i",10),e.qZA(),e.YNc(4,mm,3,4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"button",13),e._UZ(7,"i",14),e.qZA(),e.TgZ(8,"ul",15)(9,"li",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToUserDetail()}),e.TgZ(10,"div",17)(11,"div"),e.YNc(12,Gu,1,0,"i",18),e.YNc(13,Ns,1,1,"img",19),e.qZA(),e.TgZ(14,"div",20)(15,"span",21),e._uU(16),e.qZA(),e.YNc(17,mf,2,1,"small",22),e.qZA()()(),e.TgZ(18,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToHome()}),e.TgZ(19,"div",24),e._UZ(20,"i",25),e.TgZ(21,"a",26),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"li",27)(25,"div",24),e._UZ(26,"i",28),e.TgZ(27,"a",29),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"small",30),e._uU(31),e.ALo(32,"number"),e.qZA()()()(),e.TgZ(33,"li",27)(34,"div",24),e._UZ(35,"i",31),e.TgZ(36,"a",29),e._uU(37),e.ALo(38,"translate"),e.TgZ(39,"small",30),e._uU(40),e.ALo(41,"number"),e.qZA()()()(),e.TgZ(42,"li",32)(43,"div",24),e._UZ(44,"i",33),e.TgZ(45,"a",29),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,Op,3,4,"div",34),e.qZA()(),e.TgZ(49,"li",27)(50,"div",24),e._UZ(51,"i",35),e.TgZ(52,"a",29),e._uU(53),e.ALo(54,"translate"),e.qZA()()(),e.YNc(55,Vu,9,3,"ng-container",0),e.TgZ(56,"li"),e._UZ(57,"hr",36),e.qZA(),e.TgZ(58,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e.TgZ(59,"div",24),e._UZ(60,"i",37),e.TgZ(61,"a",26),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(40,ms,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",e.DdM(42,wd)),e.xp6(2),e.Q6J("ngIf",t.cartItemCount),e.xp6(8),e.Q6J("ngIf",!t.loggedUser.photoURL),e.xp6(1),e.Q6J("ngIf",t.loggedUser.photoURL),e.xp6(3),e.Oqu((null==t.loggedUser||null==t.loggedUser.username?null:t.loggedUser.username.length)>0?null==t.loggedUser?null:t.loggedUser.username:null==t.loggedUser?null:t.loggedUser.email.substr(0,null==t.loggedUser?null:t.loggedUser.email.indexOf("@"))),e.xp6(1),e.Q6J("ngIf",null==t.loggedUser?null:t.loggedUser.username),e.xp6(5),e.Oqu(e.lcZ(23,22,"menu.home")),e.xp6(5),e.Q6J("routerLink",e.DdM(43,bh)),e.xp6(1),e.Oqu(e.lcZ(29,24,"menu.shops")),e.xp6(3),e.hij("(",e.xi3(32,26,null==t.shops?null:t.shops.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(44,Np)),e.xp6(1),e.Oqu(e.lcZ(38,29,"menu.products")),e.xp6(3),e.hij("(",e.xi3(41,31,null==t.products?null:t.products.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngClass",e.VKq(45,Rp,0===t.alerts)),e.xp6(3),e.Q6J("routerLink",e.DdM(47,kp)),e.xp6(1),e.Oqu(e.lcZ(47,34,"menu.alerts")),e.xp6(2),e.Q6J("ngIf",t.alerts_unread>0),e.xp6(4),e.Q6J("routerLink",e.DdM(48,Lp)),e.xp6(1),e.Oqu(e.lcZ(54,36,"menu.analysis")),e.xp6(2),e.Q6J("ngIf",!t.APP_CONFIG.cloudMode&&(null==t.loggedUser?null:t.loggedUser.admin)),e.xp6(7),e.Oqu(e.lcZ(63,38,"menu.exit"))}}function _m(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToHome()}),e._UZ(3,"i",7),e.TgZ(4,"span"),e._uU(5,"Proddle"),e.qZA()(),e.YNc(6,Fp,64,49,"ng-container",0),e.qZA(),e._UZ(7,"router-outlet"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.loggedUser&&t.shopsLoaded&&t.productsLoaded&&t.shopsProductsLoaded)}}function $l(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",43),e._UZ(2,"app-backoffice-layout",44),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function ju(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,_m,8,1,"div",3),e.YNc(3,$l,3,3,"ng-container",0),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.backofficeMode),e.xp6(1),e.Q6J("ngIf",t.backofficeMode)}}let vm=(()=>{class r{constructor(t,c,h,_,I,q,te,De,it,Ut,jt,Jt){this.route=t,this.router=c,this.shopService=h,this.productService=_,this.shopProductService=I,this.loginService=q,this.shoppingCartService=te,this.spinner=De,this.translate=it,this.translationsService=Ut,this.firestoreAuthService=jt,this.alertService=Jt,this.APP_CONFIG=wn.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.alerts=0,this.alerts_unread=0,this.translate.setDefaultLang(wn.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let rn=localStorage.getItem(Rn.M.PS_APP_LANGUAGE);rn?this.translate.use(rn):(this.translate.use(wn.q.defaultLanguage),localStorage.setItem(Rn.M.PS_APP_LANGUAGE,wn.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Rn.M.PS_APP_LANGUAGE)),console.log("Removing localStorage necessary data"),localStorage.removeItem(Rn.M.PS_LAST_SHOP_ID),localStorage.removeItem(Rn.M.PS_SHOPS_SEARCH_TEXT),localStorage.removeItem(Rn.M.PS_PRODUCTS_SEARCH_TEXT)})}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),c=document.createElement("textarea");c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.opacity="0",c.value=t,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let c=0;this.cartConfig.items.forEach(h=>{h.productsUnits.forEach(_=>{c+=_.units})}),this.cartItemCount=c}}ngOnInit(){this.spinner.show(),this.route.queryParams.subscribe(t=>{console.log("params",t),this.backofficeMode=t&&"true"===t.backoffice}),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),this.spinner.hide()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.gz),e.Y36(xt.F0),e.Y36(Nr.d),e.Y36(Sr.M),e.Y36(jo),e.Y36($r.r),e.Y36(_d),e.Y36(Ms),e.Y36(Lo),e.Y36(lh),e.Y36(zl),e.Y36(vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["my-app"]],viewQuery:function(t,c){if(1&t&&e.Gf(yh,5),2&t){let h;e.iGM(h=e.CRH())&&(c.appLayoutComponent=h.first)}},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2",3,"ngClass"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["class","badge bg-danger ms-auto",4,"ngIf"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],[1,"badge","bg-danger","ms-auto"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-0"],[3,"shops","products","shopsProducts"]],template:function(t,c){1&t&&(e.YNc(0,ju,4,2,"ng-container",0),e._UZ(1,"ngx-spinner",1)),2&t&&e.Q6J("ngIf",c.translationsLoaded&&c.shopsLoaded&&c.productsLoaded&&c.shopsProductsLoaded)},directives:[p.O5,p.mk,xt.rH,xt.yS,xt.lC,Mp,qc],pipes:[p.JJ,is],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1200px;min-width:600px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:25px;font-weight:400;font-size:9pt}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge.bg-danger[_ngcontent-%COMP%]{color:#fff!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),r})();var Dd=x(520),ym=x(896),Va=x.n(ym),Zo=x(5199),bm=x.n(Zo);const Bp=["BarcodeScanner"],Up={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Th=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function _f(r){if(!Th.some(i=>i===r))throw new Error(`This barcode type '${r}' is not valid.`)}function Kl(r){return`${r}_reader`}let Ch=(()=>{class r{constructor(){this.maxWidth="100%",this._valueChanges=new ei.x,this.valueChanges=new e.vpe,this.started=new e.vpe,this._started=!1,this._destroyed=new ei.x,this._valueChanges.pipe(Ti(this._destroyed),(0,vo.h)(t=>{const c=t.codeResult.decodedCodes.filter(_=>void 0!==_.error).map(_=>_.error),h=this._getMedian(c);return!this.errorFilter||!(this.errorFilter.median&&h>this.errorFilter.median||this.errorFilter.threshold&&c.some(_=>_>this.errorFilter.threshold))})).subscribe(t=>{const c=Va().canvas.ctx.overlay;Va().ImageDebug.drawPath(t.line,{x:"x",y:"y"},c,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,c)=>{Va().onProcessed(h=>this.onProcessed(h)),Va().onDetected(h=>this.onDetected(h)),this.configQuagga=bm()({},this.config,Up),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function Gp(r){return"string"==typeof r?(_f(r),[Kl(r)]):r.map(i=>(_f(i),Kl(i)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),Va().init(this.configQuagga,h=>{if(h)return console.log(h),c(h);t()})})}_getMedian(t){t.sort((h,_)=>h-_);const c=Math.floor(t.length/2);return t.length%2==1?t[c]:(t[c-1]+t[c])/2}start(){return(0,na.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),Va().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(Va().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const c=Va().canvas.ctx.overlay,h=Va().canvas.dom.overlay;t&&(t.boxes&&(c.clearRect(0,0,parseInt(h.getAttribute("width"),10),parseInt(h.getAttribute("height"),10)),t.boxes.filter(_=>_!==t.box).forEach(_=>{Va().ImageDebug.drawPath(_,{x:0,y:1},c,{color:"green",lineWidth:2})})),t.box&&Va().ImageDebug.drawPath(t.box,{x:0,y:1},c,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,c){if(1&t&&e.Gf(Bp,5),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[e.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"video")(3,"canvas",2),e.qZA()),2&t&&(e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.Q6J("hidden",!c.isStarted),e.xp6(2),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.xp6(1),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),r})(),vf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var bf=x(515),Cm=x(3532);function Hu(r=0,i,t=yl.P){let c=-1;return null!=i&&((0,Cm.K)(i)?t=i:c=i),new ir.y(h=>{let _=function Tf(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;_<0&&(_=0);let I=0;return t.schedule(function(){h.closed||(h.next(I++),0<=c?this.schedule(void 0,c):h.complete())},_)})}const{isArray:Vp}=Array;function Ac(r){return 1===r.length&&Vp(r[0])?r[0]:r}var Sh=x(9841);const Wu=new ir.y(Ba.Z);function Ks(...r){const i=(0,Cn.jO)(r),t=Ac(r);return t.length?new ir.y(c=>{let h=t.map(()=>[]),_=t.map(()=>!1);c.add(()=>{h=_=null});for(let I=0;!c.closed&&I<t.length;I++)(0,sr.Xf)(t[I]).subscribe((0,In.x)(c,q=>{if(h[I].push(q),h.every(te=>te.length)){const te=h.map(De=>De.shift());c.next(i?i(...te):te),h.some((De,it)=>!De.length&&_[it])&&c.complete()}},()=>{_[I]=!0,!h[I].length&&c.complete()}));return()=>{h=_=null}}):bf.E}var bl=x(8675);function Sa(...r){const i=(0,Cn.jO)(r);return(0,Gc.e)((t,c)=>{const h=r.length,_=new Array(h);let I=r.map(()=>!1),q=!1;for(let te=0;te<h;te++)(0,sr.Xf)(r[te]).subscribe((0,In.x)(c,De=>{_[te]=De,!q&&!I[te]&&(I[te]=!0,(q=I.every(Fu.y))&&(I=null))},Ba.Z));t.subscribe((0,In.x)(c,te=>{if(q){const De=[te,..._];c.next(i?i(...De):De)}}))})}Math,Math,Math;const wl=["*"];function Yp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(){const _=e.CHM(t).$implicit,I=e.oxw();return I.focus(),I.select(_.id,I.NgbSlideEventSource.INDICATOR)}),e.qZA()}if(2&r){const t=i.$implicit,c=e.oxw();e.ekj("active",t.id===c.activeId),e.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===c.activeId)}}function Qp(r,i){}function kd(r,i){if(1&r&&(e.TgZ(0,"div",7)(1,"span",8),e.SDv(2,9),e.qZA(),e.YNc(3,Qp,0,0,"ng-template",10),e.qZA()),2&r){const t=i.$implicit,c=i.index,h=i.count;e.Q6J("id","slide-"+t.id),e.xp6(2),e.pQV(c+1)(h),e.QtT(2),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tplRef)}}function Mh(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowLeft()}),e._UZ(1,"span",12),e.TgZ(2,"span",8),e.SDv(3,13),e.qZA()()}}function Oh(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowRight()}),e._UZ(1,"span",15),e.TgZ(2,"span",8),e.SDv(3,16),e.qZA()()}}const Bm=["dialog"];function hc(r){return null!=r}function gu(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const mu={animation:!0,transitionTimerDelayMs:5},Km=()=>{},{transitionTimerDelayMs:Sg}=mu,Uh=new Map,Bs=(r,i,t,c)=>{let h=c.context||{};const _=Uh.get(i);if(_)switch(c.runningTransition){case"continue":return bf.E;case"stop":r.run(()=>_.transition$.complete()),h=Object.assign(_.context,h),Uh.delete(i)}const I=t(i,c.animation,h)||Km;if(!c.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>I()),(0,lr.of)(void 0).pipe(function Wf(r){return i=>new ir.y(t=>i.subscribe({next:I=>r.run(()=>t.next(I)),error:I=>r.run(()=>t.error(I)),complete:()=>r.run(()=>t.complete())}))}(r));const q=new ei.x,te=new ei.x,De=q.pipe(function Ft(...r){return i=>(0,U.z)(i,(0,lr.of)(...r))}(!0));Uh.set(i,{transition$:q,complete:()=>{te.next(),te.complete()},context:h});const it=function Zf(r){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return r.runOutsideAngular(()=>{const Ut=Mi(i,"transitionend").pipe(Ti(De),(0,vo.h)(({target:Jt})=>Jt===i));(function ja(...r){return 1===(r=Ac(r)).length?(0,sr.Xf)(r[0]):new ir.y(function jp(r){return i=>{let t=[];for(let c=0;t&&!i.closed&&c<r.length;c++)t.push((0,sr.Xf)(r[c]).subscribe((0,In.x)(i,h=>{if(t){for(let _=0;_<t.length;_++)_!==c&&t[_].unsubscribe();t=null}i.next(h)})))}}(r))})(Hu(it+Sg).pipe(Ti(De)),Ut,te).pipe(Ti(De)).subscribe(()=>{Uh.delete(i),r.run(()=>{I(),q.next(),q.complete()})})}),q.asObservable()};let $d=(()=>{class r{constructor(){this.animation=mu.animation}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ym=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),wg=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),t_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var _u=(()=>{return(r=_u||(_u={})).START="start",r.END="end",_u;var r})();const n_=({classList:r})=>r.contains("carousel-item-start")||r.contains("carousel-item-end"),Xu=r=>{r.remove("carousel-item-start"),r.remove("carousel-item-end")},jh=r=>{Xu(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},Yf=(r,i,{direction:t})=>{const{classList:c}=r;return i?(n_(r)?Xu(c):(c.add("carousel-item-"+(t===_u.START?"next":"prev")),gu(r),c.add("carousel-item-"+t)),()=>{jh(c),c.add("active")}):(Xu(c),jh(c),void c.add("active"))},Qf=(r,i,{direction:t})=>{const{classList:c}=r;return i?(n_(r)?Xu(c):c.add("carousel-item-"+t),()=>{jh(c),c.remove("active")}):(Xu(c),jh(c),void c.remove("active"))};let ed=(()=>{class r{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($d))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),b0=0,td=(()=>{class r{constructor(t){this.tplRef=t,this.id="ngb-slide-"+b0++,this.slid=new e.vpe}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),Dg=(()=>{class r{constructor(t,c,h,_,I){this._platformId=c,this._ngZone=h,this._cd=_,this._container=I,this.NgbSlideEventSource=Al,this._destroy$=new ei.x,this._interval$=new Ln.X(0),this._mouseHover$=new Ln.X(!1),this._focused$=new Ln.X(!1),this._pauseOnHover$=new Ln.X(!1),this._pauseOnFocus$=new Ln.X(!1),this._pause$=new Ln.X(!1),this._wrap$=new Ln.X(!1),this.slide=new e.vpe,this.slid=new e.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Al.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Al.ARROW_RIGHT)}ngAfterContentInit(){(0,p.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,Sh.a)([this.slide.pipe((0,cn.U)(c=>c.current),(0,bl.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,bl.O)(null))]).pipe((0,cn.U)(([c,h])=>{const _=this.slides.toArray(),I=this._getSlideIdxById(c);return h?_.length>1:I<_.length-1}),$i());(0,Sh.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,cn.U)(([c,h,_,I,q,te,De])=>c||h&&_||I&&q||!De?0:te),$i(),(0,mr.w)(c=>c>0?Hu(c,c):Wu),Ti(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Al.TIMER)))}),this.slides.changes.pipe(Ti(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(c=>(r=>{var i;null===(i=Uh.get(r))||void 0===i||i.complete()})(this._getSlideElement(c))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ae.q)(1)).subscribe(()=>{for(const{id:c}of this.slides){const h=this._getSlideElement(c);c===this.activeId?h.classList.add("active"):h.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,c){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),c)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),_u.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),_u.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,c,h){const _=this._transitionIds;if(_&&(_[0]!==t||_[1]!==this.activeId))return;let I=this._getSlideById(t);if(I&&I.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:I.id,direction:c,paused:this._pause$.value,source:h});const q={animation:this.animation,runningTransition:"stop",context:{direction:c}},te=[],De=this._getSlideById(this.activeId);if(De){const Jt=Bs(this._ngZone,this._getSlideElement(De.id),Qf,q);Jt.subscribe(()=>{De.slid.emit({isShown:!1,direction:c,source:h})}),te.push(Jt)}const it=this.activeId;this.activeId=I.id;const Ut=this._getSlideById(this.activeId),jt=Bs(this._ngZone,this._getSlideElement(I.id),Yf,q);jt.subscribe(()=>{null==Ut||Ut.slid.emit({isShown:!0,direction:c,source:h})}),te.push(jt),Ks(...te).pipe((0,ae.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:it,current:I.id,direction:c,paused:this._pause$.value,source:h})})}this._cd.markForCheck()}_getSlideEventDirection(t,c){return this._getSlideIdxById(t)>this._getSlideIdxById(c)?_u.END:_u.START}_getSlideById(t){return this.slides.find(c=>c.id===t)||null}_getSlideIdxById(t){const c=this._getSlideById(t);return null!=c?this.slides.toArray().indexOf(c):-1}_getNextSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return h===c.length-1?this.wrap?c[0].id:c[c.length-1].id:c[h+1].id}_getPrevSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return 0===h?this.wrap?c[c.length-1].id:c[0].id:c[h-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ed),e.Y36(e.Lbi),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(t,c,h){if(1&t&&e.Suo(h,td,4),2&t){let _;e.iGM(_=e.CRH())&&(c.slides=_)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,c){1&t&&e.NdJ("keydown.arrowLeft",function(){return c.keyboard&&c.arrowLeft()})("keydown.arrowRight",function(){return c.keyboard&&c.arrowRight()})("mouseenter",function(){return c.mouseHover=!0})("mouseleave",function(){return c.mouseHover=!1})("focusin",function(){return c.focused=!0})("focusout",function(){return c.focused=!1}),2&t&&(e.uIk("aria-activedescendant","slide-"+c.activeId),e.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,t,c;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,c=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],c]},template:function(t,c){1&t&&(e.TgZ(0,"ol",0),e.YNc(1,Yp,1,5,"li",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,kd,4,4,"div",3),e.qZA(),e.YNc(4,Mh,4,0,"a",4),e.YNc(5,Oh,4,0,"a",5)),2&t&&(e.ekj("visually-hidden",!c.showNavigationIndicators),e.xp6(1),e.Q6J("ngForOf",c.slides),e.xp6(2),e.Q6J("ngForOf",c.slides),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows))},directives:[p.sg,p.tP,p.O5],encapsulation:2,changeDetection:0}),r})();var Al=(()=>{return(r=Al||(Al={})).TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator",Al;var r})();let Ka=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Nc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var vs=(()=>{return(r=vs||(vs={}))[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",vs;var r})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const w0=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Ig(r){const i=Array.from(r.querySelectorAll(w0)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let Zg=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,D]]}),r})(),ih=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();class Nl{constructor(i,t,c){this.nodes=i,this.viewRef=t,this.componentRef=c}}let uv=(()=>{class r{constructor(t,c){this._el=t,this._zone=c}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{Bs(this._zone,this._el.nativeElement,(t,c)=>{c&&gu(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Bs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,c){2&t&&(e.Tol("modal-backdrop"+(c.backdropClass?" "+c.backdropClass:"")),e.ekj("show",!c.animation)("fade",c.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,c){},encapsulation:2}),r})();class zg{close(i){}dismiss(i){}}class lp{constructor(i,t,c,h){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=c,this._beforeDismiss=h,this._closed=new ei.x,this._dismissed=new ei.x,this._hidden=new ei.x,i.instance.dismissEvent.subscribe(_=>{this.dismiss(_)}),this.result=new Promise((_,I)=>{this._resolve=_,this._reject=I}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Ti(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Ti(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Tg(r){return r&&r.then}(t)?!1!==t&&this._dismiss(i):t.then(c=>{!1!==c&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,lr.of)(void 0);i.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Ks(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var up=(()=>{return(r=up||(up={}))[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",up;var r})();let U0=(()=>{class r{constructor(t,c,h){this._document=t,this._elRef=c,this._zone=h,this._closed$=new ei.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new ei.x,this.hidden=new ei.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,c={animation:this.animation,runningTransition:"stop"},I=Ks(Bs(this._zone,t,()=>t.classList.remove("show"),c),Bs(this._zone,this._dialogEl.nativeElement,()=>{},c));return I.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),I}_show(){const t={animation:this.animation,runningTransition:"continue"};Ks(Bs(this._zone,this._elRef.nativeElement,(_,I)=>{I&&gu(_),_.classList.add("show")},t),Bs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Mi(t,"keydown").pipe(Ti(this._closed$),(0,vo.h)(h=>h.which===vs.Escape)).subscribe(h=>{this.keyboard?requestAnimationFrame(()=>{h.defaultPrevented||this._zone.run(()=>this.dismiss(up.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;Mi(this._dialogEl.nativeElement,"mousedown").pipe(Ti(this._closed$),(0,yi.b)(()=>c=!1),(0,mr.w)(()=>Mi(t,"mouseup").pipe(Ti(this._closed$),(0,ae.q)(1))),(0,vo.h)(({target:h})=>t===h)).subscribe(()=>{c=!0}),Mi(t,"click").pipe(Ti(this._closed$)).subscribe(({target:h})=>{t===h&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(up.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const c=t.querySelector("[ngbAutofocus]"),h=Ig(t)[0];(c||h||t).focus()}}_restoreFocus(){const t=this._document.body,c=this._elWithFocus;let h;h=c&&c.focus&&t.contains(c)?c:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>h.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Bs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.K0),e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(t,c){if(1&t&&e.Gf(Bm,7),2&t){let h;e.iGM(h=e.CRH())&&(c._dialogEl=h.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,c){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",c.ariaLabelledBy)("aria-describedby",c.ariaDescribedBy),e.Tol("modal d-block"+(c.windowClass?" "+c.windowClass:"")),e.ekj("fade",c.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:wl,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,c){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(c.size?" modal-"+c.size:"")+(c.centered?" modal-dialog-centered":"")+(c.scrollable?" modal-dialog-scrollable":"")+(c.modalDialogClass?" "+c.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),r})(),dv=(()=>{class r{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,h=c.style,{overflow:_,paddingRight:I}=h;if(t>0){const q=parseFloat(window.getComputedStyle(c).paddingRight);h.paddingRight=`${q+t}px`}return h.overflow="hidden",()=>{t>0&&(h.paddingRight=I),h.overflow=_}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),C_=(()=>{class r{constructor(t,c,h,_,I,q){this._applicationRef=t,this._injector=c,this._document=h,this._scrollBar=_,this._rendererFactory=I,this._ngZone=q,this._activeWindowCmptHasChanged=new ei.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const te=this._windowCmpts[this._windowCmpts.length-1];((r,i,t,c=!1)=>{this._ngZone.runOutsideAngular(()=>{const h=Mi(i,"focusin").pipe(Ti(t),(0,cn.U)(_=>_.target));Mi(i,"keydown").pipe(Ti(t),(0,vo.h)(_=>_.which===vs.Tab),Sa(h)).subscribe(([_,I])=>{const[q,te]=Ig(i);(I===q||I===i)&&_.shiftKey&&(te.focus(),_.preventDefault()),I===te&&!_.shiftKey&&(q.focus(),_.preventDefault())}),c&&Mi(i,"click").pipe(Ti(t),Sa(h),(0,cn.U)(_=>_[1])).subscribe(_=>_.focus())})})(0,te.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(te.location.nativeElement)}})}open(t,c,h,_){const I=_.container instanceof HTMLElement?_.container:hc(_.container)?this._document.querySelector(_.container):this._document.body,q=this._rendererFactory.createRenderer(null,null),te=this._scrollBar.hide(),De=()=>{this._modalRefs.length||(q.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!I)throw new Error(`The specified modal container "${_.container||"body"}" was not found in the DOM.`);const it=new zg,Ut=this._getContentRef(t,_.injector||c,h,it,_);let jt=!1!==_.backdrop?this._attachBackdrop(t,I):void 0,Jt=this._attachWindowComponent(t,I,Ut),rn=new lp(Jt,Ut,jt,_.beforeDismiss);return this._registerModalRef(rn),this._registerWindowCmpt(Jt),rn.result.then(te,te),rn.result.then(De,De),it.close=Xt=>{rn.close(Xt)},it.dismiss=Xt=>{rn.dismiss(Xt)},this._applyWindowOptions(Jt.instance,_),1===this._modalRefs.length&&q.addClass(this._document.body,"modal-open"),jt&&jt.instance&&(this._applyBackdropOptions(jt.instance,_),jt.changeDetectorRef.detectChanges()),Jt.changeDetectorRef.detectChanges(),rn}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(c=>c.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,c){let _=t.resolveComponentFactory(uv).create(this._injector);return this._applicationRef.attachView(_.hostView),c.appendChild(_.location.nativeElement),_}_attachWindowComponent(t,c,h){let I=t.resolveComponentFactory(U0).create(this._injector,h.nodes);return this._applicationRef.attachView(I.hostView),c.appendChild(I.location.nativeElement),I}_applyWindowOptions(t,c){this._windowAttributes.forEach(h=>{hc(c[h])&&(t[h]=c[h])})}_applyBackdropOptions(t,c){this._backdropAttributes.forEach(h=>{hc(c[h])&&(t[h]=c[h])})}_getContentRef(t,c,h,_,I){return h?h instanceof e.Rgc?this._createFromTemplateRef(h,_):function jf(r){return"string"==typeof r}(h)?this._createFromString(h):this._createFromComponent(t,c,h,_,I):new Nl([])}_createFromTemplateRef(t,c){const _=t.createEmbeddedView({$implicit:c,close(I){c.close(I)},dismiss(I){c.dismiss(I)}});return this._applicationRef.attachView(_),new Nl([_.rootNodes],_)}_createFromString(t){const c=this._document.createTextNode(`${t}`);return new Nl([[c]])}_createFromComponent(t,c,h,_,I){const q=t.resolveComponentFactory(h),te=e.zs3.create({providers:[{provide:zg,useValue:_}],parent:c}),De=q.create(te),it=De.location.nativeElement;return I.scrollable&&it.classList.add("component-host-scrollable"),this._applicationRef.attachView(De.hostView),new Nl([[it]],De.hostView,De)}_setAriaHidden(t){const c=t.parentElement;c&&t!==this._document.body&&(Array.from(c.children).forEach(h=>{h!==t&&"SCRIPT"!==h.nodeName&&(this._ariaHiddenValues.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,c)=>{t?c.setAttribute("aria-hidden",t):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const c=()=>{const h=this._modalRefs.indexOf(t);h>-1&&(this._modalRefs.splice(h,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(c,c)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const c=this._windowCmpts.indexOf(t);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(p.K0),e.LFG(dv),e.LFG(e.FYo),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),G0=(()=>{class r{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($d))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yh=(()=>{class r{constructor(t,c,h,_){this._moduleCFR=t,this._injector=c,this._modalStack=h,this._config=_}open(t,c={}){const h=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),c);return this._modalStack.open(this._moduleCFR,this._injector,t,h)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(C_),e.LFG(G0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),l=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[Yh]}),r})(),Kt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),xa=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),V0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),S_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),fv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),gv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Ko=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Z0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function Hb(){return 100}});let mv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();const w_=[Ym,wg,t_,Ka,Nc,Zg,ih,l,Kt,xa,V0,S_,fv,gv,Ko,Z0,mv];let _v=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[w_,Ym,wg,t_,Ka,Nc,Zg,ih,l,Kt,xa,V0,S_,fv,gv,Ko,Z0,mv]}),r})(),kc=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(xt.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),D_=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(xt.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Bo=void 0,Jg=["es",[["a.\xa0m.","p.\xa0m."],Bo,Bo],Bo,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Bo,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Bo,[["a. C.","d. C."],Bo,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Bo,"{1}, {0}",Bo],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Bo,"$"],BRL:[Bo,"R$"],CAD:[Bo,"$"],CNY:[Bo,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Bo,"\xa3"],HKD:[Bo,"$"],ILS:[Bo,"\u20aa"],INR:[Bo,"\u20b9"],JPY:[Bo,"\xa5"],KRW:[Bo,"\u20a9"],MXN:[Bo,"$"],NZD:[Bo,"$"],PHP:[Bo,"\u20b1"],RON:[Bo,"L"],THB:["\u0e3f"],TWD:[Bo,"NT$"],USD:["US$","$"],XAF:[],XCD:[Bo,"$"],XOF:[]},"ltr",function Kg(r){return 1===r?1:5}];function Wb(r,i){1&r&&e.GkF(0)}function Zb(r,i){1&r&&(e.TgZ(0,"div",10),e._UZ(1,"i",11),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"alerts.unreadInfoText")))}const qb=function(r){return{read:r}},vv=function(r,i){return{"text-success":r,"text-danger":i}},yv=function(r,i){return{"fa-circle-arrow-down":r,"fa-circle-arrow-up":i}};function bv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",13),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(2).toggleReadAlert(_)}),e.TgZ(2,"div",14)(3,"div",15)(4,"div",16),e._UZ(5,"i",17),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",18),e._UZ(10,"img",19),e.qZA(),e.TgZ(11,"div",20)(12,"div",21)(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()(),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(14,qb,t.read)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,vv,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,yv,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(2),e.AsE(" ",t.currentPrice-t.lastPrice>0?"+":"","",e.xi3(8,8,t.currentPrice-t.lastPrice,"1.2-2")," \u20ac "),e.xp6(3),e.Q6J("src",c.getShop(t.shopId).imageUrl,e.LSH),e.xp6(4),e.Oqu(e.xi3(15,11,t.date,"dd.MM.yyyy - HH:mm")),e.xp6(4),e.Oqu(c.getProduct(t.productBarcode).name)}}function zb(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,Zb,5,3,"div",6),e.TgZ(3,"div",7)(4,"ul",8),e.YNc(5,bv,19,22,"ng-container",9),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.unreadAlerts>0),e.xp6(3),e.Q6J("ngForOf",t.userAlerts.alerts)}}function Tv(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",28),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.alerts")))}function $b(r,i){1&r&&(e.TgZ(0,"div",30)(1,"small",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commons.noData")))}let Kb=(()=>{class r{constructor(t,c,h,_){this.router=t,this.alertService=c,this.shopService=h,this.productService=_,this.unreadAlerts=0}exit(){this.router.navigate([""])}getProduct(t){return this.productService._products.find(c=>c.barcode===t)}getShop(t){return this.shopService._shops.find(c=>c.id===t)}toggleReadAlert(t){this.alertService.toggleReadAlert(t),this.unreadAlerts=this.alertService.getUnreadAlerts()}sortAlerts(){this.userAlerts.alerts.sort((t,c)=>t.date>c.date?-1:1)}ngOnInit(){this.userAlerts=this.alertService._userAlerts,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts(),this.alertService.userAlerts.subscribe(t=>{this.userAlerts=t,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(vl),e.Y36(Nr.d),e.Y36(Sr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-alerts"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100","bg-danger"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["breadcrumb",""],["noData",""],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],["class","alert alert-info d-flex",4,"ngIf"],[1,"w-100"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"alert","alert-info","d-flex"],[1,"fas","fa-triangle-exclamation","me-2","mt-1"],[1,"text-start"],[1,"list-group-item","text-start","p-0","mb-1",3,"ngClass","click"],[1,"d-flex","w-100"],[1,"left","d-flex","flex-column","align-items-center","justify-content-center","w-25","px-2"],[1,"icon-container",3,"ngClass"],[1,"fas","mb-1",3,"ngClass"],[1,"left","d-flex","align-items-center","justify-content-center"],[1,"shop-logo",3,"src"],[1,"right","d-flex","flex-column","p-3"],[1,"d-flex","w-100","mb-2"],[1,"d-flex"],[1,"fw-bold"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],[1,"no-data-msg","ps-4"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Wb,1,0,"ng-container",1),e.qZA(),e.YNc(2,zb,6,2,"ng-container",2),e.YNc(3,Tv,11,6,"ng-template",null,3,e.W1O),e.YNc(5,$b,4,3,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",(null==c.userAlerts||null==c.userAlerts.alerts?null:c.userAlerts.alerts.length)>0)("ngIfElse",_)}},directives:[p.tP,p.O5,p.sg,p.mk],pipes:[is,p.JJ,p.uU],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 195px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;color:#fff;border:1px solid #ccc}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}.list-group-item[_ngcontent-%COMP%]{font-size:9pt}.list-group-item.read[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.4}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{border-right:1px solid #ccc}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]   div.icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{max-width:65px;max-height:65px}div.alert[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();function OS(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.registerError")))}function NS(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordsDifferentError")))}function RS(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordLengthError")))}function kS(r,i){if(1&r&&(e.TgZ(0,"span",18),e.YNc(1,OS,3,3,"small",19),e.YNc(2,NS,3,3,"small",19),e.YNc(3,RS,3,3,"small",19),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&t.user.passwordRepeat.length>5&&t.user.password.length>5),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&(t.user.passwordRepeat.length<6||t.user.password.length<6))}}const Cv=function(r){return{disabled:r}};let A_=(()=>{class r{constructor(t,c,h){this.firestoreAuthService=t,this.loginService=c,this.router=h,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.register(t,c).then(h=>{if(h){console.log(h);const _={email:this.user.email};alert("Register ok!"),this.loginService.login(_),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var t,c,h,_,I,q;return(null===(c=null===(t=this.user)||void 0===t?void 0:t.password)||void 0===c?void 0:c.length)>5&&(null===(_=null===(h=this.user)||void 0===h?void 0:h.passwordRepeat)||void 0===_?void 0:_.length)>5&&(null===(I=this.user)||void 0===I?void 0:I.password)===(null===(q=this.user)||void 0===q?void 0:q.passwordRepeat)}canAccess(){var t;return this.user.email.length>0&&(null===(t=this.validateEmail(this.user.email))||void 0===t?void 0:t.length)>0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(zl),e.Y36($r.r),e.Y36(xt.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",7)(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",7)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(_){return c.user.passwordRepeat=_}),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,kS,4,3,"span",14),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return c.register()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return c.goToLogin()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"login.registering")," "),e.xp6(7),e.Oqu(e.lcZ(12,16,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(18,20,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(4),e.Oqu(e.lcZ(24,24,"login.passwordRepeat")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,26,"login.passwordRepeat")),e.Q6J("ngModel",c.user.passwordRepeat),e.xp6(2),e.Q6J("ngIf",c.canAccess()&&(c.registerError||!c.validatePasswords())),e.xp6(2),e.Q6J("ngClass",e.VKq(32,Cv,!c.canAccess()||!c.validatePasswords())),e.xp6(1),e.hij(" ",e.lcZ(31,28,"login.doRegister")," "),e.xp6(3),e.hij(" ",e.lcZ(34,30,"commons.back")," "))},directives:[_n,mi,wi,Qi,p.O5,p.mk],pipes:[is],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})(),Jb=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-banned-ip"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e._UZ(2,"i",1),e.TgZ(3,"span"),e._uU(4,"IP unauthorized"),e.qZA(),e.BQk(),e.qZA())},styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})(),mc=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!(wn.q.bannedIPs.length>0)||this.loginService.getInternetIp().pipe((0,cn.U)(t=>!wn.q.bannedIPs.some(h=>h===t.ip)||(this.router.navigate(["forbiddenIP"]),!1)))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(xt.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Sv(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.cheap")))}function Yg(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.expensive")))}function Yb(r,i){1&r&&e.GkF(0)}function Qb(r,i){if(1&r&&(e.TgZ(0,"li")(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(4),e.AsE("",t.name," (",t.brand,")")}}function Xb(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td",17)(2,"ul",18),e.YNc(3,Qb,5,2,"li",12),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",null==t?null:t.products)}}const eT=function(r){return{active:r}};function tT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",13),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td")(10,"i",15),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return _.showProducts=!_.showProducts}),e.qZA()()(),e.YNc(11,Xb,4,1,"tr",16),e.BQk()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(2);e.xp6(3),e.Oqu(c+1),e.xp6(2),e.Oqu(h.getShopName(t.shopId)),e.xp6(2),e.Oqu(e.xi3(8,5,t.times,"1.0-2")),e.xp6(3),e.Q6J("ngClass",e.VKq(8,eT,t.showProducts)),e.xp6(1),e.Q6J("ngIf",t.showProducts)}}function Ev(r,i){if(1&r&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,tT,12,10,"ng-container",12),e.qZA()()()),2&r){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"shopStandings.shop")),e.xp6(3),e.Oqu(e.lcZ(11,5,"shopStandings.numProducts")),e.xp6(4),e.Q6J("ngForOf",t.standings)}}function nT(r,i){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"small",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shopStandings.noDataEnough")))}function rT(r,i){1&r&&(e.TgZ(0,"small",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij("",e.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function hp(r,i){if(1&r&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.TgZ(2,"div",27)(3,"small",28),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",29),e._UZ(8,"span",30),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,rT,5,3,"small",31),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"shopStandings.noResults"),". ",e.lcZ(6,6,"shopStandings.possibleReasons"),":"),e.xp6(6),e.hij("",e.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),e.xp6(2),e.Q6J("ngIf",t.onlyFavourites)}}let iT=(()=>{class r{constructor(t,c,h){this.shopProductService=t,this.shopService=c,this.productService=h,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],c=[],h=[];this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&t.indexOf(_.productBarcode)<0&&t.push(_.productBarcode)}),this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&c.indexOf(_.shopId)<0&&c.push(_.shopId)}),(t.length>1||c.length>1)&&t.forEach(_=>{const I=this.shopsProducts.filter(te=>te.productBarcode===_),q=[];if(I.forEach(te=>{q.indexOf(te.shopId)<0&&q.push(te.shopId)}),q.length>1){const te=this.shopsProducts.filter(Jt=>Jt.productBarcode===_);let De=[];q.forEach(Jt=>{De.push(te.filter(rn=>rn.shopId===Jt)[0])}),De=De.sort((Jt,rn)=>Jt.updateDate>rn.updateDate?-1:1);const it=De.sort((Jt,rn)=>Jt.price>rn.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let jt=[];if(De.length>1&&it[0].price!==it[it.length-1].price){const Jt=De[0].price,rn=this.productService._products.find(Xt=>De[0].productBarcode===Xt.barcode);jt=De.filter(Xt=>Xt.price===Jt).map(Xt=>Xt.shopId),jt.forEach(Xt=>{const zn=h.findIndex(Er=>Er.shopId===Xt);zn>=0?(h[zn].times++,h[zn].products.push(rn)):h.push({shopId:Xt,times:1,products:[rn],showProducts:!1})})}}}),this.standings=h.sort((_,I)=>_.times>I.times?-1:1)}getShopName(t){var c;return null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name>h.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts,this.calculateStandings()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(jo),e.Y36(Nr.d),e.Y36(Sr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[e.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Sv,4,3,"div",2),e.YNc(3,Yg,4,3,"div",2),e.YNc(4,Yb,1,0,"ng-container",3),e.YNc(5,Ev,15,7,"div",4),e.qZA()(),e.YNc(6,nT,5,3,"ng-template",null,5,e.W1O),e.YNc(8,hp,13,10,"ng-template",null,6,e.W1O)),2&t){const h=e.MAs(7),_=e.MAs(9);e.xp6(2),e.Q6J("ngIf","CHEAP"===c.target),e.xp6(1),e.Q6J("ngIf","EXPENSIVE"===c.target),e.xp6(1),e.Q6J("ngIf",c.shopsProducts.length>0)("ngIfElse",h),e.xp6(1),e.Q6J("ngIf",(null==c.standings?null:c.standings.length)>0)("ngIfElse",_)}},directives:[p.O5,p.sg,p.mk],pipes:[is,p.JJ],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),r})();function wv(r,i){1&r&&e.GkF(0)}function oT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"span",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",10),e.TgZ(3,"span",11),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",12),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.analysis")))}let Dv=(()=>{class r{constructor(t,c,h){this.router=t,this.spinner=c,this.productService=h,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(Ms),e.Y36(Sr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,wv,1,0,"ng-container",1),e.TgZ(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),e.qZA(),e.YNc(10,oT,11,6,"ng-template",null,7,e.W1O)),2&t){const h=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(6,7,"commons.onlyFavouriteProducts")),e.xp6(3),e.Q6J("onlyFavourites",c.onlyFavourites)("target","CHEAP"),e.xp6(1),e.Q6J("onlyFavourites",c.onlyFavourites)("target","EXPENSIVE")}},directives:[p.tP,rt,wi,Qi,iT],pipes:[is],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),r})();function sT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleShopList()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",14),e.TgZ(6,"span",15),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"small",16),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e.TgZ(12,"div",11)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleProductList()}),e.TgZ(14,"div",8)(15,"div",13),e._UZ(16,"i",18),e.TgZ(17,"span",15),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"small",16),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(7),e.Oqu(e.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(11,7,"home.shops")),e.xp6(8),e.Oqu(e.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(22,12,"home.products"))}}function Av(r,i){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}const aT=function(r){return{disabled:r}},q0=function(r){return{"mb-3":r}};function cT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleAlerts()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",20),e.YNc(6,Av,3,4,"span",21),e.TgZ(7,"small",16),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()(),e.TgZ(10,"div",11)(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleStatistics()}),e.TgZ(12,"div",8)(13,"div",13),e._UZ(14,"i",23),e.TgZ(15,"small",16),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(9,aT,!t.alerts)),e.xp6(3),e.Q6J("ngClass",e.VKq(11,q0,!t.alerts_unread)),e.xp6(1),e.Q6J("ngIf",t.alerts_unread),e.xp6(2),e.Oqu(e.lcZ(9,5,"home.alerts")),e.xp6(8),e.Oqu(e.lcZ(17,7,"home.analysis"))}}function xv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,sT,23,14,"ng-container",5),e.qZA(),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().scan()}),e.TgZ(7,"div",8),e._UZ(8,"i",9),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",4),e.YNc(16,cT,18,13,"ng-container",5),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.products.length>0),e.xp6(6),e.Oqu(e.lcZ(11,4,"home.scan")),e.xp6(3),e.Oqu(e.lcZ(14,6,"home.here")),e.xp6(3),e.Q6J("ngIf",t.products.length>0)}}function Iv(r,i){1&r&&(e.TgZ(0,"div",24),e._uU(1," Carregant... "),e.qZA())}let lT=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.spinner=I,this.alertService=q,this.alerts=0,this.alerts_unread=0}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}toggleAlerts(){this.router.navigate(["alerts"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopProductService.shopsProducts.subscribe(()=>{this.alertService.calculateAlerts(!1)}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.shops=this.shopService._shops,this.products=this.productService._products,this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(Sr.M),e.Y36(Nr.d),e.Y36(jo),e.Y36(Ms),e.Y36(vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"ngClass","click"],[1,"fas","fa-triangle-exclamation",3,"ngClass"],["class","count",4,"ngIf"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.YNc(0,xv,17,8,"ng-container",0),e.YNc(1,Iv,2,0,"ng-template",null,1,e.W1O)),2&t){const h=e.MAs(2);e.Q6J("ngIf",c.products&&c.shops)("ngIfElse",h)}},directives:[p.O5,p.mk],pipes:[p.JJ,is],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),r})();function uT(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2);e.Q6J("src",t.getImageUrl(t.currentLanguage),e.LSH)}}function dT(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2).$implicit,c=e.oxw(2);e.Q6J("src",c.getImageUrl(t),e.LSH)}}function z0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",9),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(2).setLanguage(h)}),e.TgZ(1,"div",10),e.YNc(2,dT,1,1,"img",4),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(2);e.xp6(2),e.Q6J("ngIf",c.languageImages),e.xp6(2),e.Oqu(c.getLabel(t))}}function hT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,z0,5,2,"li",8),e.BQk()),2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",c.currentLanguage!==t)}}function Pv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.YNc(4,uT,1,1,"img",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,hT,2,1,"ng-container",6),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.languageImages),e.xp6(2),e.Q6J("ngForOf",t.languages)}}let Mv=(()=>{class r{constructor(t,c){this.translate=t,this.translationsService=c}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(Rn.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(c=>c.language===t).imageUrl}getLabel(t){return this.languageImages.find(c=>c.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Lo),e.Y36(lh))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,c){1&t&&e.YNc(0,Pv,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",c.currentLanguage&&c.languages)},directives:[p.O5,p.sg],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),r})();function fT(r,i){if(1&r&&(e.TgZ(0,"div",4),e._UZ(1,"i"),e.TgZ(2,"div",5)(3,"strong",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",7),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Tol(t.iconClass),e.xp6(3),e.Oqu(e.lcZ(5,4,t.title)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.text))}}function pT(r,i){1&r&&(e.ynx(0),e.YNc(1,fT,9,8,"ng-template",3),e.BQk())}function gT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ngb-carousel"),e.YNc(2,pT,2,0,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.slides)}}let mT=(()=>{class r{constructor(t,c){this.translate=c,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"},{title:"carousel.step5.title",text:"carousel.step5.text",iconClass:"fas fa-share-nodes"},{title:"carousel.step6.title",text:"carousel.step6.text",iconClass:"fas fa-bell"}]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ed),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,gT,3,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",c.slides))},directives:[p.O5,Dg,p.sg,td],pipes:[is],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();function _T(r,i){1&r&&(e.TgZ(0,"span",23)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.error")))}function vT(r,i){}function yT(r,i){1&r&&e.YNc(0,vT,0,0,"ng-template")}function Ov(r,i){1&r&&(e.TgZ(0,"div",24),e._UZ(1,"app-carousel"),e.qZA())}const Nv=function(r){return{disabled:r}},Rv=function(){return["/register"]};let bT=(()=>{class r{constructor(t,c,h){this.loginService=t,this.firestoreAuthService=c,this.router=h,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.login(t,c).then(h=>{console.log(h),h?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.loginWithGoogle(t,c).then(h=>{if(h){console.log(h);const _={username:h.user.displayName,email:h.user.email,photoURL:h.user.photoURL};this.router.navigate(["home"]),this.loginService.login(_)}else this.loginError=!0})}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r),e.Y36(zl),e.Y36(xt.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-language-selector"),e.qZA(),e.TgZ(7,"small",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,_T,4,3,"span",13),e.qZA()()(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return c.login()}),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return c.loginGoogle()}),e._UZ(31,"img",17),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"label",18)(35,"small",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"a",20),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.YNc(41,yT,1,0,null,21),e.qZA(),e.YNc(42,Ov,2,0,"ng-template",null,22,e.W1O)),2&t){const h=e.MAs(43);e.xp6(4),e.hij(" ",e.lcZ(5,16,"login.welcome")," "),e.xp6(4),e.Oqu(e.lcZ(9,18,"login.welcome.subtitle")),e.xp6(7),e.Oqu(e.lcZ(16,20,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,22,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(22,24,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(2),e.Q6J("ngIf",c.loginError),e.xp6(2),e.Q6J("ngClass",e.VKq(36,Nv,!c.canAccess())),e.xp6(1),e.hij(" ",e.lcZ(29,28,"login.access")," "),e.xp6(4),e.hij(" ",e.lcZ(33,30,"login.accessGoogle")," "),e.xp6(4),e.Oqu(e.lcZ(37,32,"login.notAccount")),e.xp6(2),e.Q6J("routerLink",e.DdM(38,Rv)),e.xp6(1),e.Oqu(e.lcZ(40,34,"login.register")),e.xp6(2),e.Q6J("ngTemplateOutlet",h)}},directives:[Mv,_n,mi,wi,Qi,p.O5,p.mk,xt.yS,p.tP,mT],pipes:[is],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})();var Qh=(()=>{return(r=Qh||(Qh={})).CREATE="CREATE",r.SEARCH="SEARCH",r.SELECT="SELECT",Qh;var r})();let x_=(()=>{class r{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Dd.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function TT(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function CT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,TT,2,1,"ng-container",0),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.imageUrl),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.brand," ")}}let $0=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,c){1&t&&e.YNc(0,CT,9,3,"ng-container",0),2&t&&e.Q6J("ngIf",c.name||c.brand||c.imageUrl)},directives:[p.O5],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),r})();const K0=["priceInput"];function kv(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.init")))}function J0(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",18),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.initError")))}function ST(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),e.NdJ("valueChanges",function(h){return e.CHM(t),e.oxw().onValueChanges(h)})("started",function(h){return e.CHM(t),e.oxw().onStarted(h)}),e.qZA(),e.YNc(3,kv,5,3,"div",14),e.YNc(4,J0,5,3,"div",14),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.barcodeScannerStarted),e.xp6(1),e.Q6J("ngIf",t.barcodeScannerError)}}function ET(r,i){if(1&r&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"scanner.code"),":"),e.xp6(3),e.Oqu(t.barcodeValue)}}function Y0(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.productRegistered")))}function wT(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",23),e.YNc(2,Y0,3,3,"span",0),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isSavedProduct)}}function Lv(r,i){1&r&&(e.ynx(0),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotRegistered")))}function DT(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"i",27),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"scanner.productUnknown")))}function Fv(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,ET,6,4,"div",0),e.TgZ(3,"div",21)(4,"small"),e.YNc(5,wT,3,1,"ng-container",0),e.YNc(6,Lv,5,3,"ng-container",0),e.YNc(7,DT,7,3,"ng-container",0),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),e.xp6(3),e.Q6J("ngIf",t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function AT(r,i){1&r&&e.GkF(0)}function Bv(r,i){if(1&r&&(e.ynx(0),e.YNc(1,AT,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function LS(r,i){1&r&&e.GkF(0)}function xT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,LS,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function I_(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Bv,2,1,"ng-container",0),e.YNc(2,xT,2,1,"ng-container",0),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function IT(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function fp(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function Qg(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name","?")("brand","?")("imageUrl",t.DEFAULT_IMAGE_URL)}}function PT(r,i){1&r&&e.GkF(0)}function FS(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,PT,1,0,"ng-container",28),e.qZA(),e.BQk()),2&r){e.oxw(2);const t=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function Uv(r,i){if(1&r&&(e.YNc(0,IT,2,3,"ng-container",0),e.YNc(1,fp,2,3,"ng-container",0),e.YNc(2,Qg,2,3,"ng-container",0),e.YNc(3,FS,3,1,"ng-container",0)),2&r){const t=e.oxw();e.Q6J("ngIf",t.savedProduct),e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function MT(r,i){1&r&&e.GkF(0)}function OT(r,i){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,MT,1,0,"ng-container",28),e.qZA()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function NT(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const Gv=function(r){return{disabled:r}};function Vv(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.barcode=h}),e.qZA()(),e.TgZ(6,"div",33)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.name=h}),e.qZA()(),e.TgZ(11,"div",33)(12,"label",38),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.brand=h}),e.qZA()()(),e.TgZ(16,"div",32)(17,"div",33)(18,"label",40),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(22,"option"),e.YNc(23,NT,2,2,"option",42),e.qZA()(),e.TgZ(24,"div",33)(25,"label",43),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()()(),e.TgZ(30,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().createProduct()}),e._UZ(31,"i",47),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,17,"scanner.code")),e.xp6(2),e.s9C("value",t.newProduct.barcode),e.Q6J("ngModel",t.newProduct.barcode),e.xp6(3),e.Oqu(e.lcZ(9,19,"scanner.name")),e.xp6(2),e.s9C("value",t.newProduct.name),e.Q6J("ngModel",t.newProduct.name),e.xp6(3),e.Oqu(e.lcZ(14,21,"scanner.brand")),e.xp6(2),e.s9C("value",t.newProduct.brand),e.Q6J("ngModel",t.newProduct.brand),e.xp6(4),e.Oqu(e.lcZ(20,23,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(27,25,"scanner.proce")),e.xp6(2),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(29,Gv,!t.canCreateProductAndPrice())),e.xp6(3),e.Oqu(e.lcZ(34,27,"scanner.productPriceSave"))}}function jv(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Q0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(6,"option"),e.YNc(7,jv,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",33)(9,"label",43),e._uU(10,"Preu"),e.qZA(),e.TgZ(11,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()(),e.TgZ(13,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveShopProduct()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,7,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(4),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Gv,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length)),e.xp6(1),e.hij(" ",e.lcZ(15,9,"scanner.save")," ")}}function P_(r,i){1&r&&(e.TgZ(0,"div",50),e._UZ(1,"i",51),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.instructions")))}function Xg(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",53),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotFound")))}function RT(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.searchingProduct")))}function Hv(r,i){1&r&&(e.TgZ(0,"div",55),e._UZ(1,"i",56),e.qZA())}function Wv(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.shopProduct))}}function kT(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newProduct))}}function LT(r,i){if(1&r&&(e.TgZ(0,"small")(1,"ul",57)(2,"li"),e._uU(3),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA(),e.TgZ(10,"li"),e._uU(11,"-------------------------"),e.qZA(),e.YNc(12,Wv,3,3,"li",0),e.YNc(13,kT,3,3,"li",0),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.hij("mode: ",t.mode,""),e.xp6(2),e.hij("isSavedProduct: ",t.isSavedProduct,""),e.xp6(2),e.hij("openFoodProductFound: ",t.openFoodProductFound,""),e.xp6(2),e.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),e.xp6(3),e.Q6J("ngIf",t.shopProduct),e.xp6(1),e.Q6J("ngIf",t.newProduct)}}let X0=(()=>{class r{constructor(t,c,h,_,I,q){this.openFoodService=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.loginService=I,this.translate=q,this.onSaveProduct=new e.vpe,this.onCreateProduct=new e.vpe,this.onSaveShopProduct=new e.vpe,this.onProductFound=new e.vpe,this.onBarcodeRead=new e.vpe,this.DEFAULT_IMAGE_URL=gs.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new ei.x,this.ProductScanModeEnum=Qh,this.barcodeChanged.pipe(co(500),$i()).subscribe(te=>{this.barcodeValue!==te.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=te.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(De=>De.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(De=>De.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(c=>{this.openFoodProduct=c,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==c.product,this.openFoodProductFound&&this.onProductFound.emit();const h=this.products.find(_=>_.barcode===t);h&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=h.brand,this.openFoodProduct.product.image_url=h.imageUrl,this.openFoodProduct.product.product_name=h.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,c,h,_,I,q;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const te={id:Eo(),barcode:this.barcodeValue,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(q=null===(I=this.openFoodProduct)||void 0===I?void 0:I.product)||void 0===q?void 0:q.image_url)?this.openFoodProduct.product.image_url:gs.T};this.onSaveProduct.emit(te)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,c,h,_,I,q;this.products.find(De=>De.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:Eo(),barcode:this.shopProduct.productBarcode,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)||"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)||"?",imageUrl:(null===(q=null===(I=this.openFoodProduct)||void 0===I?void 0:I.product)||void 0===q?void 0:q.image_url)||gs.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start();const t=localStorage.getItem(Rn.M.PS_LAST_SHOP_ID);this.newProduct={id:Eo(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:gs.T},this.shopProduct={price:0,productBarcode:void 0,shopId:t||void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(t){this.barcodeScannerStarted=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(x_),e.Y36(Sr.M),e.Y36(Nr.d),e.Y36(jo),e.Y36($r.r),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-barcode-scanner"]],viewQuery:function(t,c){if(1&t&&(e.Gf(Ch,5),e.Gf(K0,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,c){if(1&t&&(e.YNc(0,ST,5,2,"ng-container",0),e.YNc(1,Fv,8,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,I_,3,2,"ng-container",0),e.qZA(),e.YNc(4,Uv,4,4,"ng-template",null,3,e.W1O),e.YNc(6,OT,2,1,"div",4),e.YNc(7,Vv,35,31,"ng-template",null,5,e.W1O),e.YNc(9,Q0,16,13,"ng-template",null,6,e.W1O),e.YNc(11,P_,5,3,"ng-template",null,7,e.W1O),e.YNc(13,Xg,5,3,"ng-template",null,8,e.W1O),e.YNc(15,RT,5,3,"ng-template",null,9,e.W1O),e.YNc(17,Hv,2,0,"ng-template",null,10,e.W1O),e.YNc(19,LT,14,6,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(12);e.Q6J("ngIf",!c.openFoodProductFound&&!c.isSavedProduct),e.xp6(1),e.Q6J("ngIf",c.barcodeValue)("ngIfElse",h),e.xp6(2),e.Q6J("ngIf",c.barcodeValue),e.xp6(3),e.Q6J("ngIf",!1)}},directives:[p.O5,Ch,p.tP,$0,_n,wi,Qi,ma,Ws,La,p.sg,Qs,p.mk],pipes:[is,p.Ts],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();const FT=["barcodeInput"],BS=["priceInput"];function BT(r,i){1&r&&e.GkF(0)}function UT(r,i){1&r&&e._UZ(0,"i",12)}function pp(r,i){1&r&&e._UZ(0,"i",12)}function Zv(r,i){1&r&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"scanner.searchInstructions")," "))}function gp(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"app-barcode-scanner",14),e.NdJ("onSaveShopProduct",function(h){return e.CHM(t),e.oxw().saveShopProduct(h)})("onCreateProduct",function(h){return e.CHM(t),e.oxw().createProduct(h)})("onProductFound",function(){return e.CHM(t),e.oxw().productFound=!0})("onBarcodeRead",function(){return e.CHM(t),e.oxw().barcodeRead=!0}),e.qZA(),e.YNc(3,Zv,5,3,"div",15),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("mode",t.ProductScanModeEnum.CREATE),e.xp6(1),e.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function US(r,i){1&r&&e.GkF(0)}function qv(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.scanner")))}function GT(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.manual")))}function GS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",22),e._uU(7,"/"),e.qZA(),e.YNc(8,qv,3,3,"span",23),e.YNc(9,GT,3,3,"span",23),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf","SCANNER"===t.mode),e.xp6(1),e.Q6J("ngIf","MANUAL"===t.mode)}}function zv(r,i){if(1&r&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const VT=function(r){return{readonly:r}},$v=function(r){return{disabled:r}};function e1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e.TgZ(2,"div",27)(3,"label",28),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",29)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",31,32),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.barcode=h}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",33)(14,"label",34),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.name=h}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",33)(19,"label",36),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.brand=h}),e.ALo(23,"translate"),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",38)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",33)(30,"label",39),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",40),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(34,"option"),e.YNc(35,zv,2,2,"option",41),e.qZA()(),e.TgZ(36,"div",33)(37,"label",42),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",43,44),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.price=h}),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",45),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return h.createProduct({product:h.productDetail,shopProduct:h.shopProductDetail})}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(5,25,"scanner.product")),e.xp6(4),e.Oqu(e.lcZ(9,27,"scanner.code")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.barcode),e.s9C("placeholder",e.lcZ(12,29,"scanner.code")),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(6),e.s9C("value",null==t.productDetail?null:t.productDetail.name),e.s9C("placeholder",e.lcZ(17,31,"scanner.name")),e.Q6J("ngClass",e.VKq(47,VT,t.lockProductEdition))("ngModel",t.productDetail.name),e.xp6(4),e.Oqu(e.lcZ(21,33,"scanner.brand")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.brand),e.s9C("placeholder",e.lcZ(23,35,"scanner.brand")),e.Q6J("ngClass",e.VKq(49,VT,t.lockProductEdition))("ngModel",t.productDetail.brand),e.xp6(5),e.Oqu(e.lcZ(28,37,"scanner.price")),e.xp6(4),e.Oqu(e.lcZ(32,39,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProductDetail.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(39,41,"scanner.price")),e.xp6(2),e.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),e.s9C("placeholder",e.lcZ(42,43,"scanner.price")),e.Q6J("ngModel",t.shopProductDetail.price),e.xp6(3),e.Q6J("ngClass",e.VKq(51,$v,!t.canCreateProductAndPrice())),e.xp6(2),e.Oqu(e.lcZ(46,45,"scanner.save"))}}const t1=function(r){return{active:r}},Kv=function(r){return{hidden:r}};let Jv=(()=>{class r{constructor(t,c,h,_,I,q,te){this.router=t,this.shopProductService=c,this.productService=h,this.loginService=_,this.shopService=I,this.openFoodService=q,this.translate=te,this.ProductScanModeEnum=Qh,this.productDetail={id:Eo(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.lastShopId="",this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:Eo(),barcode:"",brand:"",favourite:!0,name:"",createdBy:this.loggedUser,imageUrl:gs.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:this.lastShopId,updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Mi(this.barcodeInput.nativeElement,"keyup").pipe((0,cn.U)(c=>c.target.value),(0,vo.h)(c=>c.length>2),co(500),$i()).subscribe(c=>{console.log("barcodeInput changed:",c),this.shopProductDetail.productBarcode=c,this.productDetail.barcode=c,this.lockProductEdition=!0,this.matchingBarcode=!0;const h=this.productService._products.find(_=>_.barcode===c);h?(this.productDetail.name=h.name,this.productDetail.barcode=h.barcode,this.productDetail.brand=h.brand,this.productDetail.favourite=h.favourite,this.productDetail.imageUrl=h.imageUrl,this.productDetail.createdBy=h.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(c).subscribe(_=>{void 0!==_.product?(this.productDetail.name=_.product.product_name,this.productDetail.barcode=c,this.productDetail.brand=_.product.brands,this.productDetail.favourite=!0,this.productDetail.imageUrl=_.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!0,this.productDetail.imageUrl=gs.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,c,h,_;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(c=this.productDetail.name)||void 0===c?void 0:c.length)>0&&(null===(h=this.productDetail.brand)||void 0===h?void 0:h.length)>0&&this.shopProductDetail&&(null===(_=this.shopProductDetail.productBarcode)||void 0===_?void 0:_.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(h=>h.productBarcode===this.shopProductDetail.productBarcode&&h.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(c=>{this.shops=c}),this.shops=this.shopService._shops;const t=localStorage.getItem(Rn.M.PS_LAST_SHOP_ID);t&&(this.lastShopId=t,this.shopProductDetail.shopId=t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(jo),e.Y36(Sr.M),e.Y36($r.r),e.Y36(Nr.d),e.Y36(x_),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,c){if(1&t&&(e.Gf(FT,5),e.Gf(BS,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeInput=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,BT,1,0,"ng-container",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.setMode("SCANNER")}),e.YNc(5,UT,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.setMode("MANUAL")}),e.YNc(9,pp,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,gp,4,2,"ng-container",7),e.TgZ(14,"div",8),e.YNc(15,US,1,0,"ng-container",2),e.qZA(),e._UZ(16,"div",9),e.qZA()(),e.YNc(17,GS,10,5,"ng-template",null,10,e.W1O),e.YNc(19,e1,47,53,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(18),_=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngClass",e.VKq(16,t1,"SCANNER"===c.mode)),e.xp6(1),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(7,12,"scanner.scanner")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,t1,"MANUAL"===c.mode)),e.xp6(1),e.Q6J("ngIf","MANUAL"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(11,14,"scanner.manual")," "),e.xp6(3),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.Udp("height","MANUAL"!==c.mode?"0px":"auto"),e.Q6J("ngClass",e.VKq(20,Kv,"MANUAL"!==c.mode)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)}},directives:[p.tP,p.mk,p.O5,X0,Qs,_n,mi,wi,Qi,ma,Ws,La,p.sg],pipes:[is],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),r})(),Yv=(()=>{class r{constructor(t){this.router=t,this.history=[],this.router.events.pipe((0,vo.h)(c=>c instanceof xt.m2)).subscribe(c=>{("/"===c.url||"/home"===c.url)&&(this.history=[]),this.history.unshift(c.url)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(xt.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function jT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",7)(2,"span",3),e._uU(3),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",t.pathUrl),e.xp6(2),e.Oqu(t.label)}}function HT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function WT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2,"/"),e.qZA(),e.YNc(3,jT,4,2,"ng-container",6),e.YNc(4,HT,3,1,"ng-container",6),e.BQk()),2&r){const t=i.index,c=e.oxw();e.xp6(3),e.Q6J("ngIf",t<c.steps.length-1),e.xp6(1),e.Q6J("ngIf",t===c.steps.length-1)}}let Qv=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.route=c,this.navigationService=h,this.shopService=_,this.productService=I,this.translate=q,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(c=>c.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(c=>c.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){let t=JSON.parse(JSON.stringify(this.navigationService.history));if(t.length>2&&(t=t.slice(0,2).reverse()),this.steps=t.map(c=>({label:this.getLabel(c),pathUrl:c})),0===t.length)if(window.location.href.match("/edit-shop")){const c=this.route.snapshot.params.id;this.steps.push({label:this.shopService._shops.find(h=>h.id===c).name,pathUrl:""})}else if(window.location.href.match("/edit-product")){const c=this.route.snapshot.params.barcode;this.steps.push({label:this.productService._products.find(h=>h.barcode===c).name,pathUrl:""})}if(this.steps.length>1){const h=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&h.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(xt.gz),e.Y36(Yv),e.Y36(Nr.d),e.Y36(Sr.M),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return c.exit()}),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,WT,5,2,"ng-container",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(2),e.Q6J("ngForOf",c.steps))},directives:[p.sg,p.O5,xt.rH],pipes:[is],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),r})();function ZT(r,i){1&r&&e.GkF(0)}function qT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,ZT,1,0,"ng-container",11),e.BQk()),2&r){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function em(r,i){1&r&&e._UZ(0,"i",12)}function Xv(r,i){1&r&&e._UZ(0,"i",12)}function ey(r,i){1&r&&e._UZ(0,"i",12)}const M_=function(r){return{active:r}};function ty(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTab=2}),e.YNc(1,ey,1,0,"i",5),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,M_,2===t.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(3,3,"product.characteristics")," ")}}function ny(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function ry(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function zT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",29),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function iy(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",30),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function oy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"img",32),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("src",t.productDetail.imageUrl,e.LSH)}}function $T(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",33)(2,"span",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",35),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,2,"product.createdBy"),":"),e.xp6(3),e.Oqu(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.username?null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username:null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.substr(0,null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.indexOf("@")))}}const KT=function(r){return{"pb-1":r}},n1=function(r){return{disabled:r}};function tm(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"label",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",18),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.barcode=h}),e.qZA()(),e.TgZ(9,"div",16)(10,"label",19),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,ny,3,4,"ng-container",2),e.YNc(14,ry,3,4,"ng-container",2),e.qZA(),e.TgZ(15,"div",16)(16,"label",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,zT,3,4,"ng-container",2),e.YNc(20,iy,3,4,"ng-container",2),e.qZA(),e.TgZ(21,"div",21)(22,"input",22),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.favourite=h}),e.qZA(),e.TgZ(23,"label",23),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,oy,3,1,"ng-container",2),e.qZA()()(),e.YNc(27,$T,7,4,"ng-container",2),e.TgZ(28,"div",24)(29,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updateProduct()}),e._UZ(30,"span",26),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(25,KT,null==t.productDetail?null:t.productDetail.createdBy)),e.xp6(5),e.Oqu(e.lcZ(7,15,"product.barcode")),e.xp6(2),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(3),e.Oqu(e.lcZ(12,17,"product.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(3),e.Oqu(e.lcZ(18,19,"product.brand")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.productDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(25,21,"product.favourite")),e.xp6(2),e.Q6J("ngIf",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngIf",null==t.productDetail?null:t.productDetail.createdBy),e.xp6(2),e.Q6J("ngClass",e.VKq(27,n1,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1)),e.xp6(2),e.hij(" ",e.lcZ(32,23,"product.save")," ")}}function JT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",51),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).removeShopProduct(h)}),e.qZA()}}function r1(r,i){if(1&r&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username||t.createdBy.email,")")}}const yu=function(r){return{"fw-bold":r}};function YT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",54)(2,"div",55)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,r1,2,1,"span",56),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",57),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(6).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.VKq(11,yu,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,n1,!h.canRemoveShopProduct(t)))}}function i1(r,i){if(1&r&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,YT,12,15,"li",41),e.qZA()()),2&r){const t=e.oxw(5);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const nm=function(r){return[r]};function QT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",42)(2,"div",43),e._UZ(3,"img",44),e.TgZ(4,"a",45),e._uU(5),e.qZA(),e.TgZ(6,"div",46)(7,"span",47),e.YNc(8,JT,1,0,"span",48),e.TgZ(9,"i",49),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(4).showHistory(_)}),e.qZA(),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,i1,3,1,"li",50),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(4);e.xp6(3),e.Q6J("src",c.getShopImage(t.shopId),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,nm,"/edit-shop/"+t.shopId)),e.xp6(1),e.hij("",c.getShopName(t.shopId)," "),e.xp6(3),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,n1,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(11,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function XT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",40),e.YNc(2,QT,13,14,"ng-container",41),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function eC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",37)(3,"button",38),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,XT,3,1,"ng-container",39),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(2),c=e.MAs(20);e.xp6(4),e.hij(" ",e.lcZ(5,4,"product.pricesInShops")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function O_(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.qZA(),e.BQk())}function N_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",63),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"small",63),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.category")),e.xp6(3),e.Oqu(null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories)}}function tC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nutri-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nutriscore-"+t.openFoodProduct.product.nutriscore_data.grade+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nutriscore."+t.openFoodProduct.product.nutriscore_data.grade))}}function nC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nova group"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",68),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nova-group-"+t.openFoodProduct.product.nova_group+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nova.nova"+t.openFoodProduct.product.nova_group))}}function sy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Eco-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",69),e.TgZ(6,"small",70),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/ecoscore-"+t.openFoodProduct.product.ecoscore_grade.replace("not-applicable","unknown")+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.ecoscore.ecoscore"+t.openFoodProduct.product.ecoscore_grade.toUpperCase().replace("-","")))}}function ay(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",65)(6,"small"),e._uU(7),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.allergens")),e.xp6(4),e.Oqu(t.getAlergens())}}const mp=function(r){return{levelValue:r}};function cy(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,mp,t.openFoodProduct.product.nutrient_levels.fat))}}function rC(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,mp,t.openFoodProduct.product.nutrient_levels.salt))}}function iC(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,mp,t.openFoodProduct.product.nutrient_levels["saturated-fat"]))}}function VS(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,mp,t.openFoodProduct.product.nutrient_levels.sugars))}}function o1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",71)(6,"div",72)(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,cy,1,4,"ng-container",73),e.qZA(),e.TgZ(11,"div",72)(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,rC,1,4,"ng-container",73),e.qZA(),e.TgZ(16,"div",72)(17,"small"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,iC,1,4,"ng-container",73),e.qZA(),e.TgZ(21,"div",72)(22,"small"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,VS,1,4,"ng-container",73),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,9,"product.nutrientLevels")),e.xp6(5),e.Oqu(e.lcZ(9,11,"product.nutrients.fat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.fat),e.xp6(3),e.Oqu(e.lcZ(14,13,"product.nutrients.salt")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.salt),e.xp6(3),e.Oqu(e.lcZ(19,15,"product.nutrients.saturedFat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels["saturated-fat"]),e.xp6(3),e.Oqu(e.lcZ(24,17,"product.nutrients.sugars")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.sugars)}}function s1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",59),e.YNc(2,O_,3,0,"ng-container",2),e.YNc(3,N_,7,4,"ng-container",2),e.YNc(4,tC,9,4,"ng-container",2),e.YNc(5,nC,9,4,"ng-container",2),e.YNc(6,sy,9,4,"ng-container",2),e.YNc(7,ay,8,4,"ng-container",2),e.YNc(8,o1,26,19,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loadingOpenFoodProduct),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutriscore_data?null:t.openFoodProduct.product.nutriscore_data.grade),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.nova_group),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.ecoscore_grade),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.allergens?null:t.openFoodProduct.product.allergens.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.fat)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.salt)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.sugars))}}function ly(r,i){if(1&r&&(e.ynx(0),e.YNc(1,tm,33,29,"ng-container",2),e.YNc(2,eC,11,9,"ng-container",2),e.YNc(3,s1,9,7,"ng-container",2),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.selectedTab),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.Q6J("ngIf",2===t.selectedTab)}}function a1(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}function c1(r,i){1&r&&(e.TgZ(0,"div",75)(1,"small",76),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"product.noData")))}const oC=function(r,i,t){return{"bg-danger":r,"bg-warning":i,"bg-success":t}};function sC(r,i){if(1&r&&(e.TgZ(0,"div",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=i.levelValue;e.Q6J("ngClass",e.kEZ(4,oC,"high"===t,"moderate"===t,"low"===t)),e.xp6(1),e.Oqu(e.lcZ(2,2,"commons.levels."+t))}}let aC=(()=>{class r{constructor(t,c,h,_,I,q,te){this.router=t,this.route=c,this.productService=h,this.shopService=_,this.shopsProductsService=I,this.loginService=q,this.openfoodService=te,this.historyShopProductList=[],this.selectedTab=0,this.loadingOpenFoodProduct=!0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}canEdit(){var t,c;return this.loggedUser.admin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(c=this.productDetail.createdBy)||void 0===c?void 0:c.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(t)})}getShopName(t){const c=this.shops.find(h=>h.id===t);return null==c?void 0:c.name}getShopImage(t){var c;return(null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.imageUrl)||gs.T}showHistory(t){this.historyShopProduct&&this.historyShopProduct.productBarcode===t.productBarcode&&this.historyShopProduct.shopId===t.shopId?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===this.productDetail.barcode&&h.shopId===t.shopId).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===this.productDetail.barcode&&c.shopId===t.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const c=[];t.forEach(h=>{-1===c.indexOf(h.shopId)&&c.push(h.shopId)}),c.forEach(h=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(h,this.productDetail.barcode))}),this.shopProducts.sort((h,_)=>h.price>_.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}getAlergens(){console.log(this.openFoodProduct.product.allergens);let t=this.openFoodProduct.product.allergens.split(",");return t=t.map(c=>{const h=c.substring(c.indexOf(":")+1);return h.charAt(0).toUpperCase()+h.slice(1)}),t.toString().replace(/,/g,", ")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.productDetail=this.products.find(c=>c.barcode===t),this.loadingOpenFoodProduct=!0,this.openfoodService.loadProduct(t).subscribe(c=>{console.log(c),(null==c?void 0:c.product)&&(this.openFoodProduct=c),this.loadingOpenFoodProduct=!1}),this.getShopProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(xt.gz),e.Y36(Sr.M),e.Y36(Nr.d),e.Y36(jo),e.Y36($r.r),e.Y36(x_))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-edit"]],decls:23,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["type","button","class","btn btn-lg btn-secondary",3,"ngClass","click",4,"ngIf"],["breadcrumb",""],["noShopsProducts",""],["levelBadge",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column","text-start"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"characteristics","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-spinner","fa-spin"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-3"],[1,"text-start"],[1,"text-start","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"nutriscore",3,"src"],[1,"text-start","ms-3","mt-3"],[1,"novagroup",3,"src"],[1,"ecoscore",3,"src"],[1,"text-start","ms-3"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"],[1,"badge","mt-1",3,"ngClass"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,qT,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,em,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,Xv,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.YNc(15,ty,4,7,"button",7),e.qZA()(),e.YNc(16,ly,4,3,"ng-container",2),e.qZA(),e.YNc(17,a1,1,0,"ng-template",null,8,e.W1O),e.YNc(19,c1,4,3,"ng-template",null,9,e.W1O),e.YNc(21,sC,3,8,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",c.productDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,M_,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"product.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,M_,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"product.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",!c.loadingOpenFoodProduct&&(null==c.openFoodProduct?null:c.openFoodProduct.product)),e.xp6(1),e.Q6J("ngIf",c.productDetail))},directives:[p.O5,p.tP,p.mk,_n,wi,Qi,mi,rt,p.sg,xt.yS,Qv],pipes:[is,p.JJ,p.uU],styles:["[_nghost-%COMP%], [_ngcontent-%COMP%]:root{width:100%!important}.product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%], .characteristics[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow:auto}.characteristics[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}img.nutriscore[_ngcontent-%COMP%], img.novagroup[_ngcontent-%COMP%]{height:70px}img.ecoscore[_ngcontent-%COMP%]{height:60px}.badge[_ngcontent-%COMP%]{font-weight:400!important}.badge.bg-danger[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{color:#fff!important}"]}),r})();const cC=["productSearchInput"];function uy(r,i){1&r&&e.GkF(0)}function l1(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",33),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function dy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function hy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}const fy=function(r){return{productRange:r}};function py(r,i){if(1&r&&(e.ynx(0),e.GkF(1,37),e.BQk()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3),h=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(2,fy,c.getProductPriceRange(t)))}}function lC(r,i){if(1&r&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span",36),e._uU(3),e.ALo(4,"number"),e.qZA(),e.YNc(5,dy,3,3,"span",32),e.YNc(6,hy,3,3,"span",32),e.qZA(),e.YNc(7,py,2,4,"ng-container",32),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(3),e.Oqu(e.xi3(4,4,c.getProductPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getProductPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getProductPrices(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function gy(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",38),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h)}),e.qZA(),e.BQk()}}function my(r,i){if(1&r&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,c.productItemsInCart(t),"1.0-2"))}}const uC=function(r){return{"with-items-in-cart":r}};function _y(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",39),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).addToCart(h)}),e.qZA(),e.YNc(2,my,3,4,"span",40),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,uC,c.productItemsInCart(t)>0)),e.xp6(1),e.Q6J("ngIf",c.productItemsInCart(t)>0)}}const vy=function(r,i){return{far:r,fas:i}};function Ja(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",22)(1,"div",23)(2,"div",24),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.YNc(3,l1,2,1,"ng-container",14),e.qZA(),e.TgZ(4,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.TgZ(5,"div",26)(6,"a",27),e._uU(7),e.qZA()(),e.TgZ(8,"div",28),e._uU(9),e.qZA(),e.YNc(10,lC,8,7,"div",29),e.qZA(),e.TgZ(11,"div",30)(12,"span",31),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.barcode)}),e.qZA(),e.YNc(13,gy,2,0,"ng-container",32),e.YNc(14,_y,3,4,"ng-container",32),e.qZA()()()}if(2&r){const t=i.$implicit,c=e.oxw(3),h=e.MAs(24);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",t.imageUrl)("ngIfElse",h),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngIf",c.getProductPrices(t)>0),e.xp6(2),e.Q6J("ngClass",e.WLB(9,vy,!t.favourite,t.favourite)),e.xp6(1),e.Q6J("ngIf",c.canRemoveProduct(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function _p(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",20),e.YNc(3,Ja,15,12,"li",21),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.productsSearch)}}function dC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,_p,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(22);e.xp6(1),e.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function hC(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",43),e.TgZ(2,"div",44),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(3),e.AsE(" ",e.xi3(4,2,t.min,"1.0-2")," - ",e.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function jS(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",45),e._uU(2),e.ALo(3,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(2),e.hij("",e.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function rm(r,i){if(1&r&&(e.TgZ(0,"div",42),e.YNc(1,hC,6,8,"ng-container",32),e.YNc(2,jS,4,4,"ng-container",32),e.qZA()),2&r){const t=i.productRange;e.xp6(1),e.Q6J("ngIf",t.max!==t.min),e.xp6(1),e.Q6J("ngIf",t.max===t.min)}}function fC(r,i){1&r&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noProductAdded")))}function u1(r,i){1&r&&(e.TgZ(0,"small",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noFavouriteProduct")))}function pC(r,i){if(1&r&&(e.TgZ(0,"div",46),e.YNc(1,fC,3,3,"small",47),e.YNc(2,u1,3,3,"small",48),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(28);e.xp6(1),e.Q6J("ngIf",0===t.products.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function yy(r,i){1&r&&e._UZ(0,"i",51)}function gC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",52)(1,"span",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",54),e.TgZ(3,"span",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",56),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",57),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.products")))}function mC(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let d1=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.productService=c,this.shopProductService=h,this.loginService=_,this.shoppingCartService=I,this.alertService=q,this.STORED_SEARCH_KEY=Rn.M.PS_PRODUCTS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const c=this.products.find(h=>h.barcode===t);c.favourite=!c.favourite,this.productService.toggleFavourite(c).subscribe(()=>{this.alertService.calculateAlerts(!1)})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(t.barcode).subscribe(()=>{})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.productBarcode===t.barcode).forEach(h=>{c.indexOf(h.shopId)<0&&c.push(h.shopId)}),c.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var c,h;let _=0,I=!1;return(null===(h=null===(c=this.shoppingCartService)||void 0===c?void 0:c._cartConfig)||void 0===h?void 0:h.items)&&this.shoppingCartService._cartConfig.items.forEach(q=>{I||q.productsUnits.forEach(te=>{te.product.barcode===t.barcode&&te.units&&(I=!0,_+=te.units)})}),_}canRemoveProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText),this.productsSearch=this.products.filter(c=>0===this.searchText.length||c.barcode.indexOf(this.searchText)>-1||c.brand.toLowerCase().indexOf(this.searchText.toLowerCase())>-1||c.name.toLowerCase().indexOf(this.searchText.toLowerCase())>-1)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name>h.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){Mi(this.productSearchInput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(300),$i(),(0,yi.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(Sr.M),e.Y36(jo),e.Y36($r.r),e.Y36(_d),e.Y36(vl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(cC,5),2&t){let h;e.iGM(h=e.CRH())&&(c.productSearchInput=h.first)}},decls:29,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100","text-start"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100","text-start"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,uy,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,dC,2,2,"ng-container",14),e.qZA(),e.YNc(19,rm,3,2,"ng-template",null,15,e.W1O),e.YNc(21,pC,3,2,"ng-template",null,16,e.W1O),e.YNc(23,yy,1,0,"ng-template",null,17,e.W1O),e.YNc(25,gC,11,6,"ng-template",null,18,e.W1O),e.YNc(27,mC,3,3,"ng-template",null,19,e.W1O)),2&t){const h=e.MAs(26),_=e.MAs(28);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"products.searchPlaceholder")),e.Q6J("readonly",(null==c.products?null:c.products.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"products.onlyFavouriteProducts")),e.xp6(3),e.Q6J("ngIf",c.products)("ngIfElse",_)}},directives:[p.tP,rt,wi,Qi,p.O5,p.sg,p.mk],pipes:[is,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),r})();function by(r,i){1&r&&e.GkF(0)}function Ty(r,i){1&r&&e._UZ(0,"div",23)}function R_(r,i){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (x",e.xi3(2,1,t.units,"1.0-2"),")")}}const h1=function(r){return{"checked-product":r}};function HS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"td",28),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).toggleCartProductMarked(_)}),e._uU(4),e.YNc(5,R_,3,4,"span",29),e.qZA(),e.TgZ(6,"td")(7,"div",30)(8,"span",31),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"i",32),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeItem(_.product)}),e.qZA()()()()}if(2&r){const t=i.$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(7,h1,t.checked)),e.xp6(1),e.hij(" ",t.product.name," "),e.xp6(1),e.Q6J("ngIf",t.units>1),e.xp6(4),e.hij("",e.xi3(10,4,t.minPrice,"1.2-2")," \u20ac")}}function Cy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"img",25),e.TgZ(3,"div",26)(4,"table")(5,"tbody"),e.YNc(6,HS,12,9,"tr",22),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,e.LSH),e.xp6(4),e.Q6J("ngForOf",t.productsUnits)}}function _C(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Cy,7,2,"ng-container",2),e.BQk()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.shop)}}function Sy(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"i",10),e.TgZ(7,"small",11),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"button",12),e.qZA(),e.TgZ(11,"div",13),e._UZ(12,"i",14),e.TgZ(13,"small",15)(14,"strong",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",17),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e._UZ(20,"button",12),e.qZA(),e.YNc(21,Ty,1,0,"div",18),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeCart()}),e.TgZ(24,"span"),e._UZ(25,"i",21),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.YNc(28,_C,2,1,"ng-container",22),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2),c=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,7,"shoppingCart.title")),e.xp6(5),e.Oqu(e.lcZ(9,9,"shoppingCart.description")),e.xp6(7),e.Oqu(e.lcZ(16,11,"shoppingCart.trick.title")),e.xp6(3),e.Oqu(e.lcZ(19,13,"shoppingCart.trick.text")),e.xp6(3),e.Q6J("ngTemplateOutlet",c),e.xp6(5),e.Oqu(e.lcZ(27,15,"shoppingCart.doEmpty")),e.xp6(2),e.Q6J("ngForOf",t.cartConfig.items)}}function k_(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Sy,29,17,"ng-container",6),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(6);e.xp6(1),e.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",c)}}const Ey=function(r,i){return{"bg-success":r,"text-success":i}};function vC(r,i){if(1&r&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",34),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",36),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"number"),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,7,"shoppingCart.amountOptimized"),": "),e.xp6(3),e.hij("",e.xi3(5,9,t.getAmountLow(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),e.xp6(3),e.hij("",e.xi3(11,14,t.getAmountHigh(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(14,17,"shoppingCart.amountSaved"),": "),e.xp6(2),e.Q6J("ngClass",e.WLB(22,Ey,t.getAmountDiff()>0,t.getAmountDiff()>0)),e.xp6(1),e.hij("",e.xi3(17,19,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function f1(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39)(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shoppingCart.noProducts")))}function p1(r,i){1&r&&(e.TgZ(0,"div",40)(1,"span",41)(2,"a",42),e._UZ(3,"i",43),e.TgZ(4,"span",44),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",45),e._uU(8,"/"),e.qZA(),e.TgZ(9,"span",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(11,4,"breadcrumb.shoppingCart")))}let WS=(()=>{class r{constructor(t,c,h){this.shoppingCartService=t,this.spinner=c,this.translate=h,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountLow+=c.units*c.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountHigh+=c.units*c.maxPrice})})}toggleCartProductMarked(t){this.shoppingCartService.toggleCartProductMarked(t)}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(_d),e.Y36(Ms),e.Y36(Lo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,by,1,0,"ng-container",1),e.qZA(),e.YNc(2,k_,2,2,"ng-container",2),e.YNc(3,vC,18,25,"ng-template",null,3,e.W1O),e.YNc(5,f1,5,3,"ng-template",null,4,e.W1O),e.YNc(7,p1,12,6,"ng-template",null,5,e.W1O)),2&t){const h=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",c.cartConfig)}},directives:[p.tP,p.O5,p.sg,p.mk,xt.yS],pipes:[is,p.JJ],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),r})();function yC(r,i){1&r&&e.GkF(0)}function bC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,yC,1,0,"ng-container",3),e.BQk()),2&r){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function wy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("ngModel",t.shopDetail.name)}}const Dy=function(r){return{disabled:r}};function TC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4,"Nom"),e.qZA(),e.YNc(5,wy,1,1,"input",7),e.qZA(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopDetail.favourite=h}),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"Preferida"),e.qZA()()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().createShop()}),e._uU(12," Desar "),e.qZA(),e.TgZ(13,"button",13),e._uU(14," Tancar "),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.shopDetail.default),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(4),e.Q6J("ngClass",e.VKq(4,Dy,t.shopDetail.name.length<1)),e.xp6(2),e.Q6J("routerLink","../search-shops")}}function Ay(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",17),e.TgZ(3,"span",18),e._uU(4,"Inici"),e.qZA()(),e.TgZ(5,"span",19),e._uU(6,"/"),e.qZA(),e.TgZ(7,"span",20)(8,"span",18),e._uU(9,"Botigues"),e.qZA()(),e.TgZ(10,"span",19),e._uU(11,"/"),e.qZA(),e.TgZ(12,"span",21),e._uU(13,"Nova botiga"),e.qZA()()}2&r&&(e.xp6(7),e.Q6J("routerLink","search-shops"))}let xy=(()=>{class r{constructor(t,c){this.router=t,this.shopService=c,this.shopDetail={id:Eo(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(t=>{this.shops=t}),this.shops=this.shopService._shops}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(Nr.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,bC,2,1,"ng-container",1),e.qZA(),e.YNc(2,TC,15,6,"ng-container",1),e.YNc(3,Ay,14,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",c.shopDetail),e.xp6(1),e.Q6J("ngIf",c.shopDetail))},directives:[p.O5,p.tP,_n,wi,Qi,rt,p.mk,xt.rH],styles:[""]}),r})();function CC(r,i){1&r&&e.GkF(0)}function SC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,CC,1,0,"ng-container",9),e.BQk()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Iy(r,i){1&r&&e._UZ(0,"i",10)}function EC(r,i){1&r&&e._UZ(0,"i",10)}function Py(r,i){if(1&r&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.shopDetail.imageUrl,e.LSH)}}function My(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.s9C("placeholder",e.lcZ(1,2,"shop.name")),e.Q6J("ngModel",t.shopDetail.name)}}function Oy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.shopDetail.name)}}const Ny=function(r){return{"pb-2":r}};function wC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,Py,2,1,"div",17),e.TgZ(3,"div",18)(4,"label",19),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,My,2,4,"input",20),e.YNc(8,Oy,1,1,"input",21),e.qZA(),e.TgZ(9,"div",22)(10,"input",23),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.favourite=h}),e.qZA(),e.TgZ(11,"label",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&r){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,Ny,null==t.shopDetail?null:t.shopDetail.createdBy)),e.xp6(2),e.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),e.xp6(3),e.Oqu(e.lcZ(6,7,"shop.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(13,9,"shop.favourite"))}}function DC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",29)(2,"span",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",31),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"shop.createdBy"),":"),e.xp6(3),e.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const Ry=function(r){return{disabled:r}};function ky(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,wC,14,13,"div",11),e.YNc(2,DC,7,4,"ng-container",2),e.TgZ(3,"div",12)(4,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateShop()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",14),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.shopDetail),e.xp6(1),e.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),e.xp6(2),e.Q6J("ngClass",e.VKq(10,Ry,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),e.xp6(1),e.hij(" ",e.lcZ(6,6,"shop.save")," "),e.xp6(2),e.Q6J("routerLink","../../search-shops"),e.xp6(1),e.hij(" ",e.lcZ(9,8,"shop.close")," ")}}function ZS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",46),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).removeShopProduct(h)}),e.qZA()}}function qS(r,i){if(1&r&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username,")")}}const zS=function(r){return{"fw-bold":r}};function $S(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,qS,2,1,"span",51),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",52),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.VKq(11,zS,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,Ry,!h.canRemoveShopProduct(t)))}}function KS(r,i){if(1&r&&(e.TgZ(0,"li",47)(1,"ul",48),e.YNc(2,$S,12,15,"li",37),e.qZA()()),2&r){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const JS=function(r){return[r]};function YS(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",38)(2,"div",39),e._UZ(3,"img",40)(4,"a",41),e.TgZ(5,"div",42)(6,"span"),e.YNc(7,ZS,1,0,"span",43),e.TgZ(8,"i",44),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).showHistory(_)}),e.qZA(),e._uU(9),e.ALo(10,"number"),e.qZA()()()(),e.YNc(11,KS,3,1,"li",45),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.xp6(3),e.Q6J("src",c.getProductImage(t.productBarcode),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,JS,"/edit-product/"+t.productBarcode))("innerHtml",c.getProductName(t.productBarcode),e.oJD),e.xp6(3),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,Ry,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(10,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function QS(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",36),e.YNc(2,YS,12,14,"ng-container",37),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function L_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",32)(2,"div",33)(3,"button",34),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,QS,3,1,"ng-container",35),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(18);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.productPrices")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function XS(r,i){1&r&&(e.TgZ(0,"div",54)(1,"small",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noProductPrices")))}function Ly(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}const F_=function(r){return{active:r}};let Fy=(()=>{class r{constructor(t,c,h,_,I){this.router=t,this.route=c,this.shopService=h,this.shopsProductsService=_,this.loginService=I,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(c=>c.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===t.productBarcode&&h.shopId===this.shopDetail.id).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}getProductName(t){const c=this.products.find(h=>h.barcode===t);return"<span>"+c.name+'</span><span class="brand">'+c.brand+"</span>"}getProductImage(t){return this.products.find(h=>h.barcode===t).imageUrl||gs.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const c=[];(t=t.sort((h,_)=>h.updateDate<_.updateDate?1:-1)).forEach(h=>{-1===c.indexOf(h.productBarcode)&&c.push(h.productBarcode)}),c.forEach(h=>{this.shopProducts.push(t.find(_=>h===_.productBarcode))}),this.shopProducts.sort((h,_)=>this.getProductName(h.productBarcode).toUpperCase()>this.getProductName(_.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(c=>{this.shopProducts=c,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.admin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(c=>{this.shops=c,this.shopDetail=c.find(h=>h.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(c=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(c=>c.id===t),this.configShopsProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(xt.gz),e.Y36(Nr.d),e.Y36(jo),e.Y36($r.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName","maxlength","200",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,SC,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,Iy,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,EC,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()()()(),e.YNc(15,ky,10,12,"ng-container",2),e.YNc(16,L_,11,9,"ng-container",2),e.qZA(),e.YNc(17,XS,4,3,"ng-template",null,7,e.W1O),e.YNc(19,Ly,1,0,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",c.shopDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,F_,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"shop.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,F_,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"shop.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab))},directives:[p.O5,p.tP,p.mk,_n,mi,wi,Qi,rt,xt.rH,p.sg,xt.yS,Qv],pipes:[is,p.JJ,p.uU],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),r})();const By=["shopSearchInput"];function eE(r,i){1&r&&e.GkF(0)}function g1(r,i){if(1&r&&e._UZ(0,"img",30),2&r){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function Uy(r,i){1&r&&e._UZ(0,"i",31)}function Gy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function Vy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}function tE(r,i){if(1&r&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,Gy,3,3,"span",28),e.YNc(5,Vy,3,3,"span",28),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,3,c.getShopPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getShopPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getShopPrices(t))}}function jy(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h.id)}),e.qZA()(),e.BQk()}}const AC=function(r,i,t){return{far:r,fas:i,"ms-auto":t}};function m1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",20)(1,"div",21)(2,"div",22),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.YNc(3,g1,1,1,"img",23),e.YNc(4,Uy,1,0,"i",24),e.qZA(),e.ynx(5),e.TgZ(6,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.TgZ(7,"a",26),e._uU(8),e.qZA(),e.YNc(9,tE,6,6,"div",27),e.qZA(),e.YNc(10,jy,3,0,"ng-container",28),e.TgZ(11,"span",29),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.id)}),e.qZA(),e.BQk(),e.qZA()()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",c.getShopPrices(t)>0),e.xp6(1),e.Q6J("ngIf",c.canRemoveShop(t)),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,AC,!t.favourite,t.favourite,!c.canRemoveShop(t)))}}function xC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",18),e.YNc(3,m1,12,11,"li",19),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.shops)}}function nE(r,i){if(1&r&&(e.ynx(0),e.YNc(1,xC,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(20);e.xp6(1),e.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function rE(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noShopAdded")))}function iE(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noFavouriteShop")))}function IC(r,i){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,rE,3,3,"small",37),e.YNc(2,iE,3,3,"small",37),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(24);e.xp6(1),e.Q6J("ngIf",0===t.shops.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function PC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",41),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",43),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",44),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.shops")))}function MC(r,i){1&r&&(e.TgZ(0,"div",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let oE=(()=>{class r{constructor(t,c,h,_,I){this.router=t,this.shopService=c,this.shopProductService=h,this.loginService=_,this.spinner=I,this.STORED_SEARCH_KEY=Rn.M.PS_SHOPS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const c=this.shops.find(h=>h.id===t);c.favourite=!c.favourite,this.shopService.toggleFavourite(c).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.admin||t.createdBy&&this.loggedUser.email===t.createdBy.email}getShopPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.shopId===t.id).forEach(h=>{c.indexOf(h.productBarcode)<0&&c.push(h.productBarcode)}),c.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){Mi(this.shopSearchInput.nativeElement,"keyup").pipe((0,vo.h)(Boolean),co(300),$i(),(0,yi.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(xt.F0),e.Y36(Nr.d),e.Y36(jo),e.Y36($r.r),e.Y36(Ms))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(By,5),2&t){let h;e.iGM(h=e.CRH())&&(c.shopSearchInput=h.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,eE,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,nE,2,2,"ng-container",14),e.qZA(),e.YNc(19,IC,3,2,"ng-template",null,15,e.W1O),e.YNc(21,PC,11,6,"ng-template",null,16,e.W1O),e.YNc(23,MC,3,3,"ng-template",null,17,e.W1O)),2&t){const h=e.MAs(22),_=e.MAs(24);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"shops.searchPlaceholder")),e.Q6J("readonly",(null==c.shops?null:c.shops.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"shops.onlyFavouriteShops")),e.xp6(3),e.Q6J("ngIf",c.shops)("ngIfElse",_)}},directives:[p.tP,rt,wi,Qi,p.O5,p.sg,p.mk],pipes:[is,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),r})();function OC(r,i){1&r&&e.GkF(0)}function _1(r,i){1&r&&e._UZ(0,"i",12)}function NC(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const t=e.oxw(2);e.Q6J("src",t.user.photoURL,e.LSH)}}function Rl(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",11)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"user.username")),e.xp6(3),e.Oqu(t.user.username)}}function RC(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.admin")))}function v1(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.user")))}function kC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e.YNc(4,_1,1,0,"i",8),e.YNc(5,NC,1,1,"img",9),e._UZ(6,"app-language-selector"),e.qZA(),e.YNc(7,Rl,7,4,"ng-container",10),e.TgZ(8,"div",11)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,RC,3,3,"span",10),e.YNc(19,v1,3,3,"span",10),e.qZA(),e.TgZ(20,"div",11)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.user.photoURL),e.xp6(1),e.Q6J("ngIf",t.user.photoURL),e.xp6(2),e.Q6J("ngIf",t.user.username),e.xp6(3),e.Oqu(e.lcZ(11,10,"user.email")),e.xp6(3),e.Oqu(t.user.email),e.xp6(3),e.Oqu(e.lcZ(17,12,"user.role")),e.xp6(2),e.Q6J("ngIf",t.user.admin),e.xp6(1),e.Q6J("ngIf",!t.user.admin),e.xp6(3),e.Oqu(e.lcZ(23,14,"user.lastLogin")),e.xp6(3),e.Oqu(e.xi3(26,16,t.user.lastLogin,"medium"))}}function LC(r,i){1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.noData")))}function y1(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.username)}}function Hy(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.email.substr(0,null==t.user?null:t.user.email.indexOf("@")))}}function Wy(r,i){if(1&r&&(e.TgZ(0,"div",15)(1,"span",16)(2,"a",17),e._UZ(3,"i",18),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",20),e._uU(8,"/"),e.qZA(),e.YNc(9,y1,2,1,"span",21),e.YNc(10,Hy,2,1,"span",21),e.qZA()),2&r){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf",null==t.user?null:t.user.username),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.username))}}const Zy=function(){return["../login"]},UC=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:lT,canActivate:[mc,kc]},{path:"user",component:(()=>{class r{constructor(t){this.loginService=t}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,OC,1,0,"ng-container",1),e.qZA(),e.YNc(2,kC,27,19,"ng-container",2),e.YNc(3,LC,3,3,"ng-template",null,3,e.W1O),e.YNc(5,Wy,11,5,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",_),e.xp6(1),e.Q6J("ngIf",c.user)("ngIfElse",h)}},directives:[p.tP,p.O5,Mv,xt.yS],pipes:[is,p.uU],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),r})(),canActivate:[mc,kc]},{path:"login",component:bT,canActivate:[mc,D_]},{path:"register",component:A_,canActivate:[mc,D_]},{path:"scan",component:Jv,canActivate:[mc,kc]},{path:"search-products",component:d1,canActivate:[mc,kc]},{path:"search-shops",component:oE,canActivate:[mc,kc]},{path:"statistics",component:Dv,canActivate:[mc,kc]},{path:"edit-shop/:id",component:Fy,canActivate:[mc,kc]},{path:"new-shop",component:xy,canActivate:[mc,kc]},{path:"edit-product/:barcode",component:aC,canActivate:[mc,kc]},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:WS,canActivate:[mc,kc]},{path:"alerts",component:Kb,canActivate:[mc,kc]},{path:"forbidden",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-forbidden"]],decls:4,vars:2,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e._uU(3," Login "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,Zy)))},directives:[xt.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})()},{path:"forbiddenIP",component:Jb},{path:"**",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1),e.TgZ(2,"span"),e._uU(3,"P\xe0gina inexistent!"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e._uU(6," Anar a l'inici "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("routerLink",""))},directives:[xt.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})()}],fi=!1;function qy(r){return new e.vHH(3e3,fi)}function QC(){return"undefined"!=typeof window&&void 0!==window.document}function B_(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vc(r){switch(r.length){case 0:return new Ci;case 1:return r[0];default:return new rs(r)}}function S1(r,i,t,c,h={},_={}){const I=[],q=[];let te=-1,De=null;if(c.forEach(it=>{const Ut=it.offset,jt=Ut==te,Jt=jt&&De||{};Object.keys(it).forEach(rn=>{let Xt=rn,zn=it[rn];if("offset"!==rn)switch(Xt=i.normalizePropertyName(Xt,I),zn){case"!":zn=h[rn];break;case Pi:zn=_[rn];break;default:zn=i.normalizeStyleValue(rn,Xt,zn,I)}Jt[Xt]=zn}),jt||q.push(Jt),De=Jt,te=Ut}),I.length)throw function tb(r){return new e.vHH(3502,fi)}();return q}function im(r,i,t,c){switch(i){case"start":r.onStart(()=>c(t&&om(t,"start",r)));break;case"done":r.onDone(()=>c(t&&om(t,"done",r)));break;case"destroy":r.onDestroy(()=>c(t&&om(t,"destroy",r)))}}function om(r,i,t){const c=t.totalTime,_=E1(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==c?r.totalTime:c,!!t.disabled),I=r._data;return null!=I&&(_._data=I),_}function E1(r,i,t,c,h="",_=0,I){return{element:r,triggerName:i,fromState:t,toState:c,phaseName:h,totalTime:_,disabled:!!I}}function Ya(r,i,t){let c;return r instanceof Map?(c=r.get(i),c||r.set(i,c=t)):(c=r[i],c||(c=r[i]=t)),c}function U_(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let vp=(r,i)=>!1,XC=(r,i,t)=>[],eS=null;function nb(r){const i=r.parentNode||r.host;return i===eS?null:i}(B_()||"undefined"!=typeof Element)&&(QC()?(eS=(()=>document.documentElement)(),vp=(r,i)=>{for(;i;){if(i===r)return!0;i=nb(i)}return!1}):vp=(r,i)=>r.contains(i),XC=(r,i,t)=>{if(t)return Array.from(r.querySelectorAll(i));const c=r.querySelector(i);return c?[c]:[]});let Xh=null,ib=!1;function ob(r){Xh||(Xh=function tS(){return"undefined"!=typeof document?document.body:null}()||{},ib=!!Xh.style&&"WebkitAppearance"in Xh.style);let i=!0;return Xh.style&&!function rb(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in Xh.style,!i&&ib&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in Xh.style)),i}const w1=vp,D1=XC;let sb=(()=>{class r{validateStyleProperty(t){return ob(t)}matchesElement(t,c){return!1}containsElement(t,c){return w1(t,c)}getParentElement(t){return nb(t)}query(t,c,h){return D1(t,c,h)}computeStyle(t,c,h){return h||""}animate(t,c,h,_,I,q=[],te){return new Ci(h,_)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),A1=(()=>{class r{}return r.NOOP=new sb,r})();const V_="ng-enter",yp="ng-leave",j_="ng-trigger",H_=".ng-trigger",rS="ng-animating",cb=".ng-animating";function bp(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:x1(parseFloat(i[1]),i[2])}function x1(r,i){return"s"===i?1e3*r:r}function W_(r,i,t){return r.hasOwnProperty("duration")?r:function yE(r,i,t){let h,_=0,I="";if("string"==typeof r){const q=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===q)return i.push(qy()),{duration:0,delay:0,easing:""};h=x1(parseFloat(q[1]),q[2]);const te=q[3];null!=te&&(_=x1(parseFloat(te),q[4]));const De=q[5];De&&(I=De)}else h=r;if(!t){let q=!1,te=i.length;h<0&&(i.push(function aE(){return new e.vHH(3100,fi)}()),q=!0),_<0&&(i.push(function GC(){return new e.vHH(3101,fi)}()),q=!0),q&&i.splice(te,0,qy())}return{duration:h,delay:_,easing:I}}(r,i,t)}function sm(r,i={}){return Object.keys(r).forEach(t=>{i[t]=r[t]}),i}function ef(r,i,t={}){if(i)for(let c in r)t[c]=r[c];else sm(r,t);return t}function oS(r,i,t){return t?i+":"+t+";":""}function lb(r){let i="";for(let t=0;t<r.style.length;t++){const c=r.style.item(t);i+=oS(0,c,r.style.getPropertyValue(c))}for(const t in r.style)r.style.hasOwnProperty(t)&&!t.startsWith("_")&&(i+=oS(0,S(t),r.style[t]));r.setAttribute("style",i)}function fd(r,i,t){r.style&&(Object.keys(i).forEach(c=>{const h=y(c);t&&!t.hasOwnProperty(c)&&(t[c]=r.style[h]),r.style[h]=i[c]}),B_()&&lb(r))}function Tp(r,i){r.style&&(Object.keys(i).forEach(t=>{const c=y(t);r.style[c]=""}),B_()&&lb(r))}function Z_(r){return Array.isArray(r)?1==r.length?r[0]:Gl(r):r}const o=new RegExp("{{\\s*(.+?)\\s*}}","g");function s(r){let i=[];if("string"==typeof r){let t;for(;t=o.exec(r);)i.push(t[1]);o.lastIndex=0}return i}function u(r,i,t){const c=r.toString(),h=c.replace(o,(_,I)=>{let q=i[I];return i.hasOwnProperty(I)||(t.push(function VC(r){return new e.vHH(3003,fi)}()),q=""),q.toString()});return h==c?r:h}function f(r){const i=[];let t=r.next();for(;!t.done;)i.push(t.value),t=r.next();return i}const m=/-+([a-z0-9])/g;function y(r){return r.replace(m,(...i)=>i[1].toUpperCase())}function S(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function K(r,i,t){switch(i.type){case 7:return r.visitTrigger(i,t);case 0:return r.visitState(i,t);case 1:return r.visitTransition(i,t);case 2:return r.visitSequence(i,t);case 3:return r.visitGroup(i,t);case 4:return r.visitAnimate(i,t);case 5:return r.visitKeyframes(i,t);case 6:return r.visitStyle(i,t);case 8:return r.visitReference(i,t);case 9:return r.visitAnimateChild(i,t);case 10:return r.visitAnimateRef(i,t);case 11:return r.visitQuery(i,t);case 12:return r.visitStagger(i,t);default:throw function jC(r){return new e.vHH(3004,fi)}()}}function se(r,i){return window.getComputedStyle(r)[i]}function xr(r,i){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(c=>function vi(r,i,t){if(":"==r[0]){const te=function Yi(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,c)=>parseFloat(c)>parseFloat(t);case":decrement":return(t,c)=>parseFloat(c)<parseFloat(t);default:return i.push(function qC(r){return new e.vHH(3016,fi)}()),"* => *"}}(r,t);if("function"==typeof te)return void i.push(te);r=te}const c=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return t.push(function eb(r){return new e.vHH(3015,fi)}()),i;const h=c[1],_=c[2],I=c[3];i.push(q_(h,I));"<"==_[0]&&!("*"==h&&"*"==I)&&i.push(q_(I,h))}(c,t,i)):t.push(r),t}const Ia=new Set(["true","1"]),bu=new Set(["false","0"]);function q_(r,i){const t=Ia.has(r)||bu.has(r),c=Ia.has(i)||bu.has(i);return(h,_)=>{let I="*"==r||r==h,q="*"==i||i==_;return!I&&t&&"boolean"==typeof h&&(I=h?Ia.has(r):bu.has(r)),!q&&c&&"boolean"==typeof _&&(q=_?Ia.has(i):bu.has(i)),I&&q}}const I1=new RegExp("s*:selfs*,?","g");function am(r,i,t,c){return new P1(r).build(i,t,c)}class P1{constructor(i){this._driver=i}build(i,t,c){const h=new N1(t);this._resetContextStyleTimingState(h);const _=K(this,Z_(i),h);return h.unsupportedCSSPropertiesFound.size&&h.unsupportedCSSPropertiesFound.keys(),_}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,t){let c=t.queryCount=0,h=t.depCount=0;const _=[],I=[];return"@"==i.name.charAt(0)&&t.errors.push(function HC(){return new e.vHH(3006,fi)}()),i.definitions.forEach(q=>{if(this._resetContextStyleTimingState(t),0==q.type){const te=q,De=te.name;De.toString().split(/\s*,\s*/).forEach(it=>{te.name=it,_.push(this.visitState(te,t))}),te.name=De}else if(1==q.type){const te=this.visitTransition(q,t);c+=te.queryCount,h+=te.depCount,I.push(te)}else t.errors.push(function cE(){return new e.vHH(3007,fi)}())}),{type:7,name:i.name,states:_,transitions:I,queryCount:c,depCount:h,options:null}}visitState(i,t){const c=this.visitStyle(i.styles,t),h=i.options&&i.options.params||null;if(c.containsDynamicStyles){const _=new Set,I=h||{};c.styles.forEach(q=>{if(ub(q)){const te=q;Object.keys(te).forEach(De=>{s(te[De]).forEach(it=>{I.hasOwnProperty(it)||_.add(it)})})}}),_.size&&(f(_.values()),t.errors.push(function Ky(r,i){return new e.vHH(3008,fi)}()))}return{type:0,name:i.name,style:c,options:h?{params:h}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const c=K(this,Z_(i.animation),t);return{type:1,matchers:xr(i.expr,t.errors),animation:c,queryCount:t.queryCount,depCount:t.depCount,options:cm(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(c=>K(this,c,t)),options:cm(i.options)}}visitGroup(i,t){const c=t.currentTime;let h=0;const _=i.steps.map(I=>{t.currentTime=c;const q=K(this,I,t);return h=Math.max(h,t.currentTime),q});return t.currentTime=h,{type:3,steps:_,options:cm(i.options)}}visitAnimate(i,t){const c=function ew(r,i){let t=null;if(r.hasOwnProperty("duration"))t=r;else if("number"==typeof r)return sS(W_(r,i).duration,0,"");const c=r;if(c.split(/\s+/).some(_=>"{"==_.charAt(0)&&"{"==_.charAt(1))){const _=sS(0,0,"");return _.dynamic=!0,_.strValue=c,_}return t=t||W_(c,i),sS(t.duration,t.delay,t.easing)}(i.timings,t.errors);t.currentAnimateTimings=c;let h,_=i.styles?i.styles:oo({});if(5==_.type)h=this.visitKeyframes(_,t);else{let I=i.styles,q=!1;if(!I){q=!0;const De={};c.easing&&(De.easing=c.easing),I=oo(De)}t.currentTime+=c.duration+c.delay;const te=this.visitStyle(I,t);te.isEmptyStep=q,h=te}return t.currentAnimateTimings=null,{type:4,timings:c,style:h,options:null}}visitStyle(i,t){const c=this._makeStyleAst(i,t);return this._validateStyleAst(c,t),c}_makeStyleAst(i,t){const c=[];Array.isArray(i.styles)?i.styles.forEach(I=>{"string"==typeof I?I==Pi?c.push(I):t.errors.push(function Jy(r){return new e.vHH(3002,fi)}()):c.push(I)}):c.push(i.styles);let h=!1,_=null;return c.forEach(I=>{if(ub(I)){const q=I,te=q.easing;if(te&&(_=te,delete q.easing),!h)for(let De in q)if(q[De].toString().indexOf("{{")>=0){h=!0;break}}}),{type:6,styles:c,easing:_,offset:i.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(i,t){const c=t.currentAnimateTimings;let h=t.currentTime,_=t.currentTime;c&&_>0&&(_-=c.duration+c.delay),i.styles.forEach(I=>{"string"!=typeof I&&Object.keys(I).forEach(q=>{if(!this._driver.validateStyleProperty(q))return delete I[q],void t.unsupportedCSSPropertiesFound.add(q);const te=t.collectedStyles[t.currentQuerySelector],De=te[q];let it=!0;De&&(_!=h&&_>=De.startTime&&h<=De.endTime&&(t.errors.push(function WC(r,i,t,c,h){return new e.vHH(3010,fi)}()),it=!1),_=De.startTime),it&&(te[q]={startTime:_,endTime:h}),t.options&&function bE(r,i,t){const c=i.params||{},h=s(r);h.length&&h.forEach(_=>{c.hasOwnProperty(_)||t.push(function zy(r){return new e.vHH(3001,fi)}())})}(I[q],t.options,t.errors)})})}visitKeyframes(i,t){const c={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function Yy(){return new e.vHH(3011,fi)}()),c;let _=0;const I=[];let q=!1,te=!1,De=0;const it=i.steps.map(Er=>{const yr=this._makeStyleAst(Er,t);let Yr=null!=yr.offset?yr.offset:function XE(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(t=>{if(ub(t)&&t.hasOwnProperty("offset")){const c=t;i=parseFloat(c.offset),delete c.offset}});else if(ub(r)&&r.hasOwnProperty("offset")){const t=r;i=parseFloat(t.offset),delete t.offset}return i}(yr.styles),nr=0;return null!=Yr&&(_++,nr=yr.offset=Yr),te=te||nr<0||nr>1,q=q||nr<De,De=nr,I.push(nr),yr});te&&t.errors.push(function b1(){return new e.vHH(3012,fi)}()),q&&t.errors.push(function T1(){return new e.vHH(3200,fi)}());const Ut=i.steps.length;let jt=0;_>0&&_<Ut?t.errors.push(function Qy(){return new e.vHH(3202,fi)}()):0==_&&(jt=1/(Ut-1));const Jt=Ut-1,rn=t.currentTime,Xt=t.currentAnimateTimings,zn=Xt.duration;return it.forEach((Er,yr)=>{const Yr=jt>0?yr==Jt?1:jt*yr:I[yr],nr=Yr*zn;t.currentTime=rn+Xt.delay+nr,Xt.duration=nr,this._validateStyleAst(Er,t),Er.offset=Yr,c.styles.push(Er)}),c}visitReference(i,t){return{type:8,animation:K(this,Z_(i.animation),t),options:cm(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:cm(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:cm(i.options)}}visitQuery(i,t){const c=t.currentQuerySelector,h=i.options||{};t.queryCount++,t.currentQuery=i;const[_,I]=function M1(r){const i=!!r.split(/\s*,\s*/).find(t=>":self"==t);return i&&(r=r.replace(I1,"")),r=r.replace(/@\*/g,H_).replace(/@\w+/g,t=>H_+"-"+t.substr(1)).replace(/:animating/g,cb),[r,i]}(i.selector);t.currentQuerySelector=c.length?c+" "+_:_,Ya(t.collectedStyles,t.currentQuerySelector,{});const q=K(this,Z_(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=c,{type:11,selector:_,limit:h.limit||0,optional:!!h.optional,includeSelf:I,animation:q,originalSelector:i.selector,options:cm(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function ZC(){return new e.vHH(3013,fi)}());const c="full"===i.timings?{duration:0,delay:0,easing:"full"}:W_(i.timings,t.errors,!0);return{type:12,animation:K(this,Z_(i.animation),t),timings:c,options:null}}}class N1{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function ub(r){return!Array.isArray(r)&&"object"==typeof r}function cm(r){return r?(r=sm(r)).params&&(r.params=function O1(r){return r?sm(r):null}(r.params)):r={},r}function sS(r,i,t){return{duration:r,delay:i,easing:t}}function aS(r,i,t,c,h,_,I=null,q=!1){return{type:1,element:r,keyframes:i,preStyleProps:t,postStyleProps:c,duration:h,delay:_,totalTime:h+_,easing:I,subTimeline:q}}class db{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let c=this._map.get(i);c||this._map.set(i,c=[]),c.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const rw=new RegExp(":enter","g"),ow=new RegExp(":leave","g");function cS(r,i,t,c,h,_={},I={},q,te,De=[]){return(new sw).buildKeyframes(r,i,t,c,h,_,I,q,te,De)}class sw{buildKeyframes(i,t,c,h,_,I,q,te,De,it=[]){De=De||new db;const Ut=new lS(i,t,De,h,_,it,[]);Ut.options=te,Ut.currentTimeline.setStyles([I],null,Ut.errors,te),K(this,c,Ut);const jt=Ut.timelines.filter(Jt=>Jt.containsAnimation());if(Object.keys(q).length){let Jt;for(let rn=jt.length-1;rn>=0;rn--){const Xt=jt[rn];if(Xt.element===t){Jt=Xt;break}}Jt&&!Jt.allowOnlyTimelineStyles()&&Jt.setStyles([q],null,Ut.errors,te)}return jt.length?jt.map(Jt=>Jt.buildKeyframes()):[aS(t,[],[],[],0,0,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const c=t.subInstructions.get(t.element);if(c){const h=t.createSubContext(i.options),_=t.currentTimeline.currentTime,I=this._visitSubInstructions(c,h,h.options);_!=I&&t.transformIntoNewTimeline(I)}t.previousNode=i}visitAnimateRef(i,t){const c=t.createSubContext(i.options);c.transformIntoNewTimeline(),this.visitReference(i.animation,c),t.transformIntoNewTimeline(c.currentTimeline.currentTime),t.previousNode=i}_visitSubInstructions(i,t,c){let _=t.currentTimeline.currentTime;const I=null!=c.duration?bp(c.duration):null,q=null!=c.delay?bp(c.delay):null;return 0!==I&&i.forEach(te=>{const De=t.appendInstructionToTimeline(te,I,q);_=Math.max(_,De.duration+De.delay)}),_}visitReference(i,t){t.updateOptions(i.options,!0),K(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const c=t.subContextCount;let h=t;const _=i.options;if(_&&(_.params||_.delay)&&(h=t.createSubContext(_),h.transformIntoNewTimeline(),null!=_.delay)){6==h.previousNode.type&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=hb);const I=bp(_.delay);h.delayNextStep(I)}i.steps.length&&(i.steps.forEach(I=>K(this,I,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>c&&h.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const c=[];let h=t.currentTimeline.currentTime;const _=i.options&&i.options.delay?bp(i.options.delay):0;i.steps.forEach(I=>{const q=t.createSubContext(i.options);_&&q.delayNextStep(_),K(this,I,q),h=Math.max(h,q.currentTimeline.currentTime),c.push(q.currentTimeline)}),c.forEach(I=>t.currentTimeline.mergeTimelineCollectedStyles(I)),t.transformIntoNewTimeline(h),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const c=i.strValue;return W_(t.params?u(c,t.params,t.errors):c,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const c=t.currentAnimateTimings=this._visitTiming(i.timings,t),h=t.currentTimeline;c.delay&&(t.incrementTime(c.delay),h.snapshotCurrentStyles());const _=i.style;5==_.type?this.visitKeyframes(_,t):(t.incrementTime(c.duration),this.visitStyle(_,t),h.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const c=t.currentTimeline,h=t.currentAnimateTimings;!h&&c.getCurrentStyleProperties().length&&c.forwardFrame();const _=h&&h.easing||i.easing;i.isEmptyStep?c.applyEmptyStep(_):c.setStyles(i.styles,_,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const c=t.currentAnimateTimings,h=t.currentTimeline.duration,_=c.duration,q=t.createSubContext().currentTimeline;q.easing=c.easing,i.styles.forEach(te=>{q.forwardTime((te.offset||0)*_),q.setStyles(te.styles,te.easing,t.errors,t.options),q.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(q),t.transformIntoNewTimeline(h+_),t.previousNode=i}visitQuery(i,t){const c=t.currentTimeline.currentTime,h=i.options||{},_=h.delay?bp(h.delay):0;_&&(6===t.previousNode.type||0==c&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hb);let I=c;const q=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!h.optional,t.errors);t.currentQueryTotal=q.length;let te=null;q.forEach((De,it)=>{t.currentQueryIndex=it;const Ut=t.createSubContext(i.options,De);_&&Ut.delayNextStep(_),De===t.element&&(te=Ut.currentTimeline),K(this,i.animation,Ut),Ut.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,Ut.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(I),te&&(t.currentTimeline.mergeTimelineCollectedStyles(te),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const c=t.parentContext,h=t.currentTimeline,_=i.timings,I=Math.abs(_.duration),q=I*(t.currentQueryTotal-1);let te=I*t.currentQueryIndex;switch(_.duration<0?"reverse":_.easing){case"reverse":te=q-te;break;case"full":te=c.currentStaggerTime}const it=t.currentTimeline;te&&it.delayNextStep(te);const Ut=it.currentTime;K(this,i.animation,t),t.previousNode=i,c.currentStaggerTime=h.currentTime-Ut+(h.startTime-c.currentTimeline.startTime)}}const hb={};class lS{constructor(i,t,c,h,_,I,q,te){this._driver=i,this.element=t,this.subInstructions=c,this._enterClassName=h,this._leaveClassName=_,this.errors=I,this.timelines=q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new fb(this._driver,t,0),q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const c=i;let h=this.options;null!=c.duration&&(h.duration=bp(c.duration)),null!=c.delay&&(h.delay=bp(c.delay));const _=c.params;if(_){let I=h.params;I||(I=this.options.params={}),Object.keys(_).forEach(q=>{(!t||!I.hasOwnProperty(q))&&(I[q]=u(_[q],I,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const c=i.params={};Object.keys(t).forEach(h=>{c[h]=t[h]})}}return i}createSubContext(i=null,t,c){const h=t||this.element,_=new lS(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,c||0));return _.previousNode=this.previousNode,_.currentAnimateTimings=this.currentAnimateTimings,_.options=this._copyOptions(),_.updateOptions(i),_.currentQueryIndex=this.currentQueryIndex,_.currentQueryTotal=this.currentQueryTotal,_.parentContext=this,this.subContextCount++,_}transformIntoNewTimeline(i){return this.previousNode=hb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,c){const h={duration:null!=t?t:i.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+i.delay,easing:""},_=new aw(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,h,i.stretchStartingKeyframe);return this.timelines.push(_),h}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,c,h,_,I){let q=[];if(h&&q.push(this.element),i.length>0){i=(i=i.replace(rw,"."+this._enterClassName)).replace(ow,"."+this._leaveClassName);let De=this._driver.query(this.element,i,1!=c);0!==c&&(De=c<0?De.slice(De.length+c,De.length):De.slice(0,c)),q.push(...De)}return!_&&0==q.length&&I.push(function Xy(r){return new e.vHH(3014,fi)}()),q}}class fb{constructor(i,t,c,h){this._driver=i,this.element=t,this.startTime=c,this._elementTimelineStylesLookup=h,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new fb(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles[i]=t,this._globalTimelineStyles[i]=t,this._styleSummary[i]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Pi,this._currentKeyframe[t]=Pi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,c,h){t&&(this._previousKeyframe.easing=t);const _=h&&h.params||{},I=function cw(r,i){const t={};let c;return r.forEach(h=>{"*"===h?(c=c||Object.keys(i),c.forEach(_=>{t[_]=Pi})):ef(h,!1,t)}),t}(i,this._globalTimelineStyles);Object.keys(I).forEach(q=>{const te=u(I[q],_,c);this._pendingStyles[q]=te,this._localTimelineStyles.hasOwnProperty(q)||(this._backFill[q]=this._globalTimelineStyles.hasOwnProperty(q)?this._globalTimelineStyles[q]:Pi),this._updateStyle(q,te)})}applyStylesToKeyframe(){const i=this._pendingStyles,t=Object.keys(i);0!=t.length&&(this._pendingStyles={},t.forEach(c=>{this._currentKeyframe[c]=i[c]}),Object.keys(this._localTimelineStyles).forEach(c=>{this._currentKeyframe.hasOwnProperty(c)||(this._currentKeyframe[c]=this._localTimelineStyles[c])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const t=this._localTimelineStyles[i];this._pendingStyles[i]=t,this._updateStyle(i,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(t=>{const c=this._styleSummary[t],h=i._styleSummary[t];(!c||h.time>c.time)&&this._updateStyle(t,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,c=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((q,te)=>{const De=ef(q,!0);Object.keys(De).forEach(it=>{const Ut=De[it];"!"==Ut?i.add(it):Ut==Pi&&t.add(it)}),c||(De.offset=te/this.duration),h.push(De)});const _=i.size?f(i.values()):[],I=t.size?f(t.values()):[];if(c){const q=h[0],te=sm(q);q.offset=0,te.offset=1,h=[q,te]}return aS(this.element,h,_,I,this.duration,this.startTime,this.easing,!1)}}class aw extends fb{constructor(i,t,c,h,_,I,q=!1){super(i,t,I.delay),this.keyframes=c,this.preStyleProps=h,this.postStyleProps=_,this._stretchStartingKeyframe=q,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:c,easing:h}=this.timings;if(this._stretchStartingKeyframe&&t){const _=[],I=c+t,q=t/I,te=ef(i[0],!1);te.offset=0,_.push(te);const De=ef(i[0],!1);De.offset=TE(q),_.push(De);const it=i.length-1;for(let Ut=1;Ut<=it;Ut++){let jt=ef(i[Ut],!1);jt.offset=TE((t+jt.offset*c)/I),_.push(jt)}c=I,t=0,h="",i=_}return aS(this.element,i,this.preStyleProps,this.postStyleProps,c,t,h,!0)}}function TE(r,i=3){const t=Math.pow(10,i-1);return Math.round(r*t)/t}class uS{}class lw extends uS{normalizePropertyName(i,t){return y(i)}normalizeStyleValue(i,t,c,h){let _="";const I=c.toString().trim();if(uw[t]&&0!==c&&"0"!==c)if("number"==typeof c)_="px";else{const q=c.match(/^[+-]?[\d\.]+([a-z]*)$/);q&&0==q[1].length&&h.push(function $y(r,i){return new e.vHH(3005,fi)}())}return I+_}}const uw=(()=>function dw(r){const i={};return r.forEach(t=>i[t]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function CE(r,i,t,c,h,_,I,q,te,De,it,Ut,jt){return{type:0,element:r,triggerName:i,isRemovalTransition:h,fromState:t,fromStyles:_,toState:c,toStyles:I,timelines:q,queriedElements:te,preStyleProps:De,postStyleProps:it,totalTime:Ut,errors:jt}}const dS={};class SE{constructor(i,t,c){this._triggerName=i,this.ast=t,this._stateStyles=c}match(i,t,c,h){return function hw(r,i,t,c,h){return r.some(_=>_(i,t,c,h))}(this.ast.matchers,i,t,c,h)}buildStyles(i,t,c){const h=this._stateStyles["*"],_=this._stateStyles[i],I=h?h.buildStyles(t,c):{};return _?_.buildStyles(t,c):I}build(i,t,c,h,_,I,q,te,De,it){const Ut=[],jt=this.ast.options&&this.ast.options.params||dS,rn=this.buildStyles(c,q&&q.params||dS,Ut),Xt=te&&te.params||dS,zn=this.buildStyles(h,Xt,Ut),Er=new Set,yr=new Map,Yr=new Map,nr="void"===h,qr={params:Object.assign(Object.assign({},jt),Xt)},Hr=it?[]:cS(i,t,this.ast.animation,_,I,rn,zn,qr,De,Ut);let ti=0;if(Hr.forEach(Io=>{ti=Math.max(Io.duration+Io.delay,ti)}),Ut.length)return CE(t,this._triggerName,c,h,nr,rn,zn,[],[],yr,Yr,ti,Ut);Hr.forEach(Io=>{const Po=Io.element,Jo=Ya(yr,Po,{});Io.preStyleProps.forEach(Gs=>Jo[Gs]=!0);const Qa=Ya(Yr,Po,{});Io.postStyleProps.forEach(Gs=>Qa[Gs]=!0),Po!==t&&Er.add(Po)});const pi=f(Er.values());return CE(t,this._triggerName,c,h,nr,rn,zn,Hr,pi,yr,Yr,ti)}}class fw{constructor(i,t,c){this.styles=i,this.defaultParams=t,this.normalizer=c}buildStyles(i,t){const c={},h=sm(this.defaultParams);return Object.keys(i).forEach(_=>{const I=i[_];null!=I&&(h[_]=I)}),this.styles.styles.forEach(_=>{if("string"!=typeof _){const I=_;Object.keys(I).forEach(q=>{let te=I[q];te.length>1&&(te=u(te,h,t));const De=this.normalizer.normalizePropertyName(q,t);te=this.normalizer.normalizeStyleValue(q,De,te,t),c[De]=te})}}),c}}class gw{constructor(i,t,c){this.name=i,this.ast=t,this._normalizer=c,this.transitionFactories=[],this.states={},t.states.forEach(h=>{this.states[h.name]=new fw(h.style,h.options&&h.options.params||{},c)}),EE(this.states,"true","1"),EE(this.states,"false","0"),t.transitions.forEach(h=>{this.transitionFactories.push(new SE(i,h,this.states))}),this.fallbackTransition=function mw(r,i,t){return new SE(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(I,q)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,c,h){return this.transitionFactories.find(I=>I.match(i,t,c,h))||null}matchStyles(i,t,c){return this.fallbackTransition.buildStyles(i,t,c)}}function EE(r,i,t){r.hasOwnProperty(i)?r.hasOwnProperty(t)||(r[t]=r[i]):r.hasOwnProperty(t)&&(r[i]=r[t])}const _w=new db;class vw{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._animations={},this._playersById={},this.players=[]}register(i,t){const c=[],_=am(this._driver,t,c,[]);if(c.length)throw function zC(r){return new e.vHH(3503,fi)}();this._animations[i]=_}_buildPlayer(i,t,c){const h=i.element,_=S1(0,this._normalizer,0,i.keyframes,t,c);return this._driver.animate(h,_,i.duration,i.delay,i.easing,[],!0)}create(i,t,c={}){const h=[],_=this._animations[i];let I;const q=new Map;if(_?(I=cS(this._driver,t,_,V_,yp,{},{},c,_w,h),I.forEach(it=>{const Ut=Ya(q,it.element,{});it.postStyleProps.forEach(jt=>Ut[jt]=null)})):(h.push(function $C(){return new e.vHH(3300,fi)}()),I=[]),h.length)throw function KC(r){return new e.vHH(3504,fi)}();q.forEach((it,Ut)=>{Object.keys(it).forEach(jt=>{it[jt]=this._driver.computeStyle(Ut,jt,Pi)})});const De=vc(I.map(it=>{const Ut=q.get(it.element);return this._buildPlayer(it,{},Ut)}));return this._playersById[i]=De,De.onDestroy(()=>this.destroy(i)),this.players.push(De),De}destroy(i){const t=this._getPlayer(i);t.destroy(),delete this._playersById[i];const c=this.players.indexOf(t);c>=0&&this.players.splice(c,1)}_getPlayer(i){const t=this._playersById[i];if(!t)throw function fE(r){return new e.vHH(3301,fi)}();return t}listen(i,t,c,h){const _=E1(t,"","","");return im(this._getPlayer(i),c,_,h),()=>{}}command(i,t,c,h){if("register"==c)return void this.register(i,h[0]);if("create"==c)return void this.create(i,t,h[0]||{});const _=this._getPlayer(i);switch(c){case"play":_.play();break;case"pause":_.pause();break;case"reset":_.reset();break;case"restart":_.restart();break;case"finish":_.finish();break;case"init":_.init();break;case"setPosition":_.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(i)}}}const wE="ng-animate-queued",hS="ng-animate-disabled",Sw=[],DE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Ew={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Tu="__ng_removed";class fS{constructor(i,t=""){this.namespaceId=t;const c=i&&i.hasOwnProperty("value");if(this.value=function xw(r){return null!=r?r:null}(c?i.value:i),c){const _=sm(i);delete _.value,this.options=_}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const t=i.params;if(t){const c=this.options.params;Object.keys(t).forEach(h=>{null==c[h]&&(c[h]=t[h])})}}}const R1="void",pS=new fS(R1);class ww{constructor(i,t,c){this.id=i,this.hostElement=t,this._engine=c,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,Cu(t,this._hostClassName)}listen(i,t,c,h){if(!this._triggers.hasOwnProperty(t))throw function pE(r,i){return new e.vHH(3302,fi)}();if(null==c||0==c.length)throw function gE(r){return new e.vHH(3303,fi)}();if(!function Iw(r){return"start"==r||"done"==r}(c))throw function mE(r,i){return new e.vHH(3400,fi)}();const _=Ya(this._elementListeners,i,[]),I={name:t,phase:c,callback:h};_.push(I);const q=Ya(this._engine.statesByElement,i,{});return q.hasOwnProperty(t)||(Cu(i,j_),Cu(i,j_+"-"+t),q[t]=pS),()=>{this._engine.afterFlush(()=>{const te=_.indexOf(I);te>=0&&_.splice(te,1),this._triggers[t]||delete q[t]})}}register(i,t){return!this._triggers[i]&&(this._triggers[i]=t,!0)}_getTrigger(i){const t=this._triggers[i];if(!t)throw function _E(r){return new e.vHH(3401,fi)}();return t}trigger(i,t,c,h=!0){const _=this._getTrigger(t),I=new gS(this.id,t,i);let q=this._engine.statesByElement.get(i);q||(Cu(i,j_),Cu(i,j_+"-"+t),this._engine.statesByElement.set(i,q={}));let te=q[t];const De=new fS(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&te&&De.absorbOptions(te.options),q[t]=De,te||(te=pS),De.value!==R1&&te.value===De.value){if(!function Ow(r,i){const t=Object.keys(r),c=Object.keys(i);if(t.length!=c.length)return!1;for(let h=0;h<t.length;h++){const _=t[h];if(!i.hasOwnProperty(_)||r[_]!==i[_])return!1}return!0}(te.params,De.params)){const Xt=[],zn=_.matchStyles(te.value,te.params,Xt),Er=_.matchStyles(De.value,De.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{Tp(i,zn),fd(i,Er)})}return}const jt=Ya(this._engine.playersByElement,i,[]);jt.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==t&&Xt.queued&&Xt.destroy()});let Jt=_.matchTransition(te.value,De.value,i,De.params),rn=!1;if(!Jt){if(!h)return;Jt=_.fallbackTransition,rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:Jt,fromState:te,toState:De,player:I,isFallbackTransition:rn}),rn||(Cu(i,wE),I.onStart(()=>{K_(i,wE)})),I.onDone(()=>{let Xt=this.players.indexOf(I);Xt>=0&&this.players.splice(Xt,1);const zn=this._engine.playersByElement.get(i);if(zn){let Er=zn.indexOf(I);Er>=0&&zn.splice(Er,1)}}),this.players.push(I),jt.push(I),I}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((t,c)=>{delete t[i]}),this._elementListeners.forEach((t,c)=>{this._elementListeners.set(c,t.filter(h=>h.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(c=>c.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const c=this._engine.driver.query(i,H_,!0);c.forEach(h=>{if(h[Tu])return;const _=this._engine.fetchNamespacesByElement(h);_.size?_.forEach(I=>I.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(i,t,c,h){const _=this._engine.statesByElement.get(i),I=new Map;if(_){const q=[];if(Object.keys(_).forEach(te=>{if(I.set(te,_[te].value),this._triggers[te]){const De=this.trigger(i,te,R1,h);De&&q.push(De)}}),q.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,I),c&&vc(q).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),c=this._engine.statesByElement.get(i);if(t&&c){const h=new Set;t.forEach(_=>{const I=_.name;if(h.has(I))return;h.add(I);const te=this._triggers[I].fallbackTransition,De=c[I]||pS,it=new fS(R1),Ut=new gS(this.id,I,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:I,transition:te,fromState:De,toState:it,player:Ut,isFallbackTransition:!0})})}}removeNode(i,t){const c=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let h=!1;if(c.totalAnimations){const _=c.players.length?c.playersByQueriedElement.get(i):[];if(_&&_.length)h=!0;else{let I=i;for(;I=I.parentNode;)if(c.statesByElement.get(I)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(i),h)c.markElementAsRemoved(this.id,i,!1,t);else{const _=i[Tu];(!_||_===DE)&&(c.afterFlush(()=>this.clearElementCache(i)),c.destroyInnerAnimations(i),c._onRemovalComplete(i,t))}}insertNode(i,t){Cu(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(c=>{const h=c.player;if(h.destroyed)return;const _=c.element,I=this._elementListeners.get(_);I&&I.forEach(q=>{if(q.name==c.triggerName){const te=E1(_,c.triggerName,c.fromState.value,c.toState.value);te._data=i,im(c.player,q.phase,te,q.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):t.push(c)}),this._queue=[],t.sort((c,h)=>{const _=c.transition.ast.depCount,I=h.transition.ast.depCount;return 0==_||0==I?_-I:this._engine.driver.containsElement(c.element,h.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let t=!1;return this._elementListeners.has(i)&&(t=!0),t=!!this._queue.find(c=>c.element===i)||t,t}}class Dw{constructor(i,t,c){this.bodyNode=i,this.driver=t,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,_)=>{}}_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(c=>{c.queued&&i.push(c)})}),i}createNamespace(i,t){const c=new ww(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(c,t):(this.newHostElements.set(t,c),this.collectEnterElement(t)),this._namespaceLookup[i]=c}_balanceNamespaceList(i,t){const c=this._namespaceList,h=this.namespacesByHostElement,_=c.length-1;if(_>=0){let I=!1;if(void 0!==this.driver.getParentElement){let q=this.driver.getParentElement(t);for(;q;){const te=h.get(q);if(te){const De=c.indexOf(te);c.splice(De+1,0,i),I=!0;break}q=this.driver.getParentElement(q)}}else for(let q=_;q>=0;q--)if(this.driver.containsElement(c[q].hostElement,t)){c.splice(q+1,0,i),I=!0;break}I||c.unshift(i)}else c.push(i);return h.set(t,i),i}register(i,t){let c=this._namespaceLookup[i];return c||(c=this.createNamespace(i,t)),c}registerTrigger(i,t,c){let h=this._namespaceLookup[i];h&&h.register(t,c)&&this.totalAnimations++}destroy(i,t){if(!i)return;const c=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[i];const h=this._namespaceList.indexOf(c);h>=0&&this._namespaceList.splice(h,1)}),this.afterFlushAnimationsDone(()=>c.destroy(t))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,c=this.statesByElement.get(i);if(c){const h=Object.keys(c);for(let _=0;_<h.length;_++){const I=c[h[_]].namespaceId;if(I){const q=this._fetchNamespace(I);q&&t.add(q)}}}return t}trigger(i,t,c,h){if(pb(t)){const _=this._fetchNamespace(i);if(_)return _.trigger(t,c,h),!0}return!1}insertNode(i,t,c,h){if(!pb(t))return;const _=t[Tu];if(_&&_.setForRemoval){_.setForRemoval=!1,_.setForMove=!0;const I=this.collectedLeaveElements.indexOf(t);I>=0&&this.collectedLeaveElements.splice(I,1)}if(i){const I=this._fetchNamespace(i);I&&I.insertNode(t,c)}h&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),Cu(i,hS)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),K_(i,hS))}removeNode(i,t,c,h){if(pb(t)){const _=i?this._fetchNamespace(i):null;if(_?_.removeNode(t,h):this.markElementAsRemoved(i,t,!1,h),c){const I=this.namespacesByHostElement.get(t);I&&I.id!==i&&I.removeNode(t,h)}}else this._onRemovalComplete(t,h)}markElementAsRemoved(i,t,c,h,_){this.collectedLeaveElements.push(t),t[Tu]={namespaceId:i,setForRemoval:h,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:_}}listen(i,t,c,h,_){return pb(t)?this._fetchNamespace(i).listen(t,c,h,_):()=>{}}_buildInstruction(i,t,c,h,_){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,c,h,i.fromState.options,i.toState.options,t,_)}destroyInnerAnimations(i){let t=this.driver.query(i,H_,!0);t.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,cb,!0),t.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return vc(this.players).onDone(()=>i());i()})}processLeaveNode(i){var t;const c=i[Tu];if(c&&c.setForRemoval){if(i[Tu]=DE,c.namespaceId){this.destroyInnerAnimations(i);const h=this._fetchNamespace(c.namespaceId);h&&h.clearElementCache(i)}this._onRemovalComplete(i,c.setForRemoval)}(null===(t=i.classList)||void 0===t?void 0:t.contains(hS))&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,h)=>this._balanceNamespaceList(c,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)Cu(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{t=this._flushAnimations(c,i)}finally{for(let h=0;h<c.length;h++)c[h]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],t.length?vc(t).onDone(()=>{c.forEach(h=>h())}):c.forEach(h=>h())}}reportError(i){throw function JC(r){return new e.vHH(3402,fi)}()}_flushAnimations(i,t){const c=new db,h=[],_=new Map,I=[],q=new Map,te=new Map,De=new Map,it=new Set;this.disabledNodes.forEach(Kn=>{it.add(Kn);const _r=this.driver.query(Kn,".ng-animate-queued",!0);for(let kr=0;kr<_r.length;kr++)it.add(_r[kr])});const Ut=this.bodyNode,jt=Array.from(this.statesByElement.keys()),Jt=IE(jt,this.collectedEnterElements),rn=new Map;let Xt=0;Jt.forEach((Kn,_r)=>{const kr=V_+Xt++;rn.set(_r,kr),Kn.forEach(di=>Cu(di,kr))});const zn=[],Er=new Set,yr=new Set;for(let Kn=0;Kn<this.collectedLeaveElements.length;Kn++){const _r=this.collectedLeaveElements[Kn],kr=_r[Tu];kr&&kr.setForRemoval&&(zn.push(_r),Er.add(_r),kr.hasAnimation?this.driver.query(_r,".ng-star-inserted",!0).forEach(di=>Er.add(di)):yr.add(_r))}const Yr=new Map,nr=IE(jt,Array.from(Er));nr.forEach((Kn,_r)=>{const kr=yp+Xt++;Yr.set(_r,kr),Kn.forEach(di=>Cu(di,kr))}),i.push(()=>{Jt.forEach((Kn,_r)=>{const kr=rn.get(_r);Kn.forEach(di=>K_(di,kr))}),nr.forEach((Kn,_r)=>{const kr=Yr.get(_r);Kn.forEach(di=>K_(di,kr))}),zn.forEach(Kn=>{this.processLeaveNode(Kn)})});const qr=[],Hr=[];for(let Kn=this._namespaceList.length-1;Kn>=0;Kn--)this._namespaceList[Kn].drainQueuedTransitions(t).forEach(kr=>{const di=kr.player,bs=kr.element;if(qr.push(di),this.collectedEnterElements.length){const Js=bs[Tu];if(Js&&Js.setForMove){if(Js.previousTriggersValues&&Js.previousTriggersValues.has(kr.triggerName)){const Lc=Js.previousTriggersValues.get(kr.triggerName),Su=this.statesByElement.get(kr.element);Su&&Su[kr.triggerName]&&(Su[kr.triggerName].value=Lc)}return void di.destroy()}}const il=!Ut||!this.driver.containsElement(Ut,bs),ua=Yr.get(bs),kl=rn.get(bs),uo=this._buildInstruction(kr,c,kl,ua,il);if(uo.errors&&uo.errors.length)return void Hr.push(uo);if(il)return di.onStart(()=>Tp(bs,uo.fromStyles)),di.onDestroy(()=>fd(bs,uo.toStyles)),void h.push(di);if(kr.isFallbackTransition)return di.onStart(()=>Tp(bs,uo.fromStyles)),di.onDestroy(()=>fd(bs,uo.toStyles)),void h.push(di);const pd=[];uo.timelines.forEach(Js=>{Js.stretchStartingKeyframe=!0,this.disabledNodes.has(Js.element)||pd.push(Js)}),uo.timelines=pd,c.append(bs,uo.timelines),I.push({instruction:uo,player:di,element:bs}),uo.queriedElements.forEach(Js=>Ya(q,Js,[]).push(di)),uo.preStyleProps.forEach((Js,Lc)=>{const Su=Object.keys(Js);if(Su.length){let tf=te.get(Lc);tf||te.set(Lc,tf=new Set),Su.forEach(um=>tf.add(um))}}),uo.postStyleProps.forEach((Js,Lc)=>{const Su=Object.keys(Js);let tf=De.get(Lc);tf||De.set(Lc,tf=new Set),Su.forEach(um=>tf.add(um))})});if(Hr.length){const Kn=[];Hr.forEach(_r=>{Kn.push(function YC(r,i){return new e.vHH(3505,fi)}())}),qr.forEach(_r=>_r.destroy()),this.reportError(Kn)}const ti=new Map,pi=new Map;I.forEach(Kn=>{const _r=Kn.element;c.has(_r)&&(pi.set(_r,_r),this._beforeAnimationBuild(Kn.player.namespaceId,Kn.instruction,ti))}),h.forEach(Kn=>{const _r=Kn.element;this._getPreviousPlayers(_r,!1,Kn.namespaceId,Kn.triggerName,null).forEach(di=>{Ya(ti,_r,[]).push(di),di.destroy()})});const Io=zn.filter(Kn=>ME(Kn,te,De)),Po=new Map;xE(Po,this.driver,yr,De,Pi).forEach(Kn=>{ME(Kn,te,De)&&Io.push(Kn)});const Qa=new Map;Jt.forEach((Kn,_r)=>{xE(Qa,this.driver,new Set(Kn),te,"!")}),Io.forEach(Kn=>{const _r=Po.get(Kn),kr=Qa.get(Kn);Po.set(Kn,Object.assign(Object.assign({},_r),kr))});const Gs=[],Cp=[],Sp={};I.forEach(Kn=>{const{element:_r,player:kr,instruction:di}=Kn;if(c.has(_r)){if(it.has(_r))return kr.onDestroy(()=>fd(_r,di.toStyles)),kr.disabled=!0,kr.overrideTotalTime(di.totalTime),void h.push(kr);let bs=Sp;if(pi.size>1){let ua=_r;const kl=[];for(;ua=ua.parentNode;){const uo=pi.get(ua);if(uo){bs=uo;break}kl.push(ua)}kl.forEach(uo=>pi.set(uo,bs))}const il=this._buildAnimation(kr.namespaceId,di,ti,_,Qa,Po);if(kr.setRealPlayer(il),bs===Sp)Gs.push(kr);else{const ua=this.playersByElement.get(bs);ua&&ua.length&&(kr.parentPlayer=vc(ua)),h.push(kr)}}else Tp(_r,di.fromStyles),kr.onDestroy(()=>fd(_r,di.toStyles)),Cp.push(kr),it.has(_r)&&h.push(kr)}),Cp.forEach(Kn=>{const _r=_.get(Kn.element);if(_r&&_r.length){const kr=vc(_r);Kn.setRealPlayer(kr)}}),h.forEach(Kn=>{Kn.parentPlayer?Kn.syncPlayerEvents(Kn.parentPlayer):Kn.destroy()});for(let Kn=0;Kn<zn.length;Kn++){const _r=zn[Kn],kr=_r[Tu];if(K_(_r,yp),kr&&kr.hasAnimation)continue;let di=[];if(q.size){let il=q.get(_r);il&&il.length&&di.push(...il);let ua=this.driver.query(_r,cb,!0);for(let kl=0;kl<ua.length;kl++){let uo=q.get(ua[kl]);uo&&uo.length&&di.push(...uo)}}const bs=di.filter(il=>!il.destroyed);bs.length?Pw(this,_r,bs):this.processLeaveNode(_r)}return zn.length=0,Gs.forEach(Kn=>{this.players.push(Kn),Kn.onDone(()=>{Kn.destroy();const _r=this.players.indexOf(Kn);this.players.splice(_r,1)}),Kn.play()}),Gs}elementContainsData(i,t){let c=!1;const h=t[Tu];return h&&h.setForRemoval&&(c=!0),this.playersByElement.has(t)&&(c=!0),this.playersByQueriedElement.has(t)&&(c=!0),this.statesByElement.has(t)&&(c=!0),this._fetchNamespace(i).elementContainsData(t)||c}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,c,h,_){let I=[];if(t){const q=this.playersByQueriedElement.get(i);q&&(I=q)}else{const q=this.playersByElement.get(i);if(q){const te=!_||_==R1;q.forEach(De=>{De.queued||!te&&De.triggerName!=h||I.push(De)})}}return(c||h)&&(I=I.filter(q=>!(c&&c!=q.namespaceId||h&&h!=q.triggerName))),I}_beforeAnimationBuild(i,t,c){const _=t.element,I=t.isRemovalTransition?void 0:i,q=t.isRemovalTransition?void 0:t.triggerName;for(const te of t.timelines){const De=te.element,it=De!==_,Ut=Ya(c,De,[]);this._getPreviousPlayers(De,it,I,q,t.toState).forEach(Jt=>{const rn=Jt.getRealPlayer();rn.beforeDestroy&&rn.beforeDestroy(),Jt.destroy(),Ut.push(Jt)})}Tp(_,t.fromStyles)}_buildAnimation(i,t,c,h,_,I){const q=t.triggerName,te=t.element,De=[],it=new Set,Ut=new Set,jt=t.timelines.map(rn=>{const Xt=rn.element;it.add(Xt);const zn=Xt[Tu];if(zn&&zn.removedBeforeQueried)return new Ci(rn.duration,rn.delay);const Er=Xt!==te,yr=function Mw(r){const i=[];return PE(r,i),i}((c.get(Xt)||Sw).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===Xt),Yr=_.get(Xt),nr=I.get(Xt),qr=S1(0,this._normalizer,0,rn.keyframes,Yr,nr),Hr=this._buildPlayer(rn,qr,yr);if(rn.subTimeline&&h&&Ut.add(Xt),Er){const ti=new gS(i,q,Xt);ti.setRealPlayer(Hr),De.push(ti)}return Hr});De.forEach(rn=>{Ya(this.playersByQueriedElement,rn.element,[]).push(rn),rn.onDone(()=>function Aw(r,i,t){let c;if(r instanceof Map){if(c=r.get(i),c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&r.delete(i)}}else if(c=r[i],c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&delete r[i]}return c}(this.playersByQueriedElement,rn.element,rn))}),it.forEach(rn=>Cu(rn,rS));const Jt=vc(jt);return Jt.onDestroy(()=>{it.forEach(rn=>K_(rn,rS)),fd(te,t.toStyles)}),Ut.forEach(rn=>{Ya(h,rn,[]).push(Jt)}),Jt}_buildPlayer(i,t,c){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,c):new Ci(i.duration,i.delay)}}class gS{constructor(i,t,c){this.namespaceId=i,this.triggerName=t,this.element=c,this._player=new Ci,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(c=>im(i,t,void 0,c))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Ya(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function pb(r){return r&&1===r.nodeType}function AE(r,i){const t=r.style.display;return r.style.display=null!=i?i:"none",t}function xE(r,i,t,c,h){const _=[];t.forEach(te=>_.push(AE(te)));const I=[];c.forEach((te,De)=>{const it={};te.forEach(Ut=>{const jt=it[Ut]=i.computeStyle(De,Ut,h);(!jt||0==jt.length)&&(De[Tu]=Ew,I.push(De))}),r.set(De,it)});let q=0;return t.forEach(te=>AE(te,_[q++])),I}function IE(r,i){const t=new Map;if(r.forEach(q=>t.set(q,[])),0==i.length)return t;const h=new Set(i),_=new Map;function I(q){if(!q)return 1;let te=_.get(q);if(te)return te;const De=q.parentNode;return te=t.has(De)?De:h.has(De)?1:I(De),_.set(q,te),te}return i.forEach(q=>{const te=I(q);1!==te&&t.get(te).push(q)}),t}function Cu(r,i){var t;null===(t=r.classList)||void 0===t||t.add(i)}function K_(r,i){var t;null===(t=r.classList)||void 0===t||t.remove(i)}function Pw(r,i,t){vc(t).onDone(()=>r.processLeaveNode(i))}function PE(r,i){for(let t=0;t<r.length;t++){const c=r[t];c instanceof rs?PE(c.players,i):i.push(c)}}function ME(r,i,t){const c=t.get(r);if(!c)return!1;let h=i.get(r);return h?c.forEach(_=>h.add(_)):i.set(r,c),t.delete(r),!0}class gb{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(h,_)=>{},this._transitionEngine=new Dw(i,t,c),this._timelineEngine=new vw(i,t,c),this._transitionEngine.onRemovalComplete=(h,_)=>this.onRemovalComplete(h,_)}registerTrigger(i,t,c,h,_){const I=i+"-"+h;let q=this._triggerCache[I];if(!q){const te=[],it=am(this._driver,_,te,[]);if(te.length)throw function hE(r,i){return new e.vHH(3404,fi)}();q=function pw(r,i,t){return new gw(r,i,t)}(h,it,this._normalizer),this._triggerCache[I]=q}this._transitionEngine.registerTrigger(t,h,q)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,c,h){this._transitionEngine.insertNode(i,t,c,h)}onRemove(i,t,c,h){this._transitionEngine.removeNode(i,t,h||!1,c)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,c,h){if("@"==c.charAt(0)){const[_,I]=U_(c);this._timelineEngine.command(_,t,I,h)}else this._transitionEngine.trigger(i,t,c,h)}listen(i,t,c,h,_){if("@"==c.charAt(0)){const[I,q]=U_(c);return this._timelineEngine.listen(I,t,q,_)}return this._transitionEngine.listen(i,t,c,h,_)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Rw=(()=>{class r{constructor(t,c,h){this._element=t,this._startStyles=c,this._endStyles=h,this._state=0;let _=r.initialStylesByElement.get(t);_||r.initialStylesByElement.set(t,_={}),this._initialStyles=_}start(){this._state<1&&(this._startStyles&&fd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(fd(this._element,this._initialStyles),this._endStyles&&(fd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Tp(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Tp(this._element,this._endStyles),this._endStyles=null),fd(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function mS(r){let i=null;const t=Object.keys(r);for(let c=0;c<t.length;c++){const h=t[c];kw(h)&&(i=i||{},i[h]=r[h])}return i}function kw(r){return"display"===r||"position"===r}class OE{constructor(i,t,c,h){this.element=i,this.keyframes=t,this.options=c,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,t,c){return i.animate(t,c)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(c=>{"offset"!=c&&(i[c]=this._finished?t[c]:se(this.element,c))})}this.currentSnapshot=i}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class Lw{validateStyleProperty(i){return ob(i)}matchesElement(i,t){return!1}containsElement(i,t){return w1(i,t)}getParentElement(i){return nb(i)}query(i,t,c){return D1(i,t,c)}computeStyle(i,t,c){return window.getComputedStyle(i)[t]}animate(i,t,c,h,_,I=[]){const te={duration:c,delay:h,fill:0==h?"both":"forwards"};_&&(te.easing=_);const De={},it=I.filter(jt=>jt instanceof OE);(function M(r,i){return 0===r||0===i})(c,h)&&it.forEach(jt=>{let Jt=jt.currentSnapshot;Object.keys(Jt).forEach(rn=>De[rn]=Jt[rn])}),t=function B(r,i,t){const c=Object.keys(t);if(c.length&&i.length){let _=i[0],I=[];if(c.forEach(q=>{_.hasOwnProperty(q)||I.push(q),_[q]=t[q]}),I.length)for(var h=1;h<i.length;h++){let q=i[h];I.forEach(function(te){q[te]=se(r,te)})}}return i}(i,t=t.map(jt=>ef(jt,!1)),De);const Ut=function Nw(r,i){let t=null,c=null;return Array.isArray(i)&&i.length?(t=mS(i[0]),i.length>1&&(c=mS(i[i.length-1]))):i&&(t=mS(i)),t||c?new Rw(r,t,c):null}(i,t);return new OE(i,t,te,Ut)}}let Fw=(()=>{class r extends _a{constructor(t,c){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(c.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const c=this._nextAnimationId.toString();this._nextAnimationId++;const h=Array.isArray(t)?Gl(t):t;return NE(this._renderer,null,c,"register",[h]),new Bw(c,this._renderer)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Bw extends class Vc{}{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new Uw(this._id,i,t||{},this._renderer)}}class Uw{constructor(i,t,c,h){this.id=i,this.element=t,this._renderer=h,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return NE(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,t;return null!==(t=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==t?t:0}}function NE(r,i,t,c,h){return r.setProperty(i,`@@${t}:${c}`,h)}const RE="@.disabled";let Gw=(()=>{class r{constructor(t,c,h){this.delegate=t,this.engine=c,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(_,I)=>{const q=null==I?void 0:I.parentNode(_);q&&I.removeChild(q,_)}}createRenderer(t,c){const _=this.delegate.createRenderer(t,c);if(!(t&&c&&c.data&&c.data.animation)){let it=this._rendererCache.get(_);return it||(it=new kE("",_,this.engine),this._rendererCache.set(_,it)),it}const I=c.id,q=c.id+"-"+this._currentId;this._currentId++,this.engine.register(q,t);const te=it=>{Array.isArray(it)?it.forEach(te):this.engine.registerTrigger(I,q,t,it.name,it)};return c.data.animation.forEach(te),new Vw(this,q,_,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,c,h){t>=0&&t<this._microtaskId?this._zone.run(()=>c(h)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_=>{const[I,q]=_;I(q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,h]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(gb),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class kE{constructor(i,t,c){this.namespaceId=i,this.delegate=t,this.engine=c,this.destroyNode=this.delegate.destroyNode?h=>t.destroyNode(h):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,c,h=!0){this.delegate.insertBefore(i,t,c),this.engine.onInsert(this.namespaceId,t,i,h)}removeChild(i,t,c){this.engine.onRemove(this.namespaceId,t,this.delegate,c)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,c,h){this.delegate.setAttribute(i,t,c,h)}removeAttribute(i,t,c){this.delegate.removeAttribute(i,t,c)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,c,h){this.delegate.setStyle(i,t,c,h)}removeStyle(i,t,c){this.delegate.removeStyle(i,t,c)}setProperty(i,t,c){"@"==t.charAt(0)&&t==RE?this.disableAnimations(i,!!c):this.delegate.setProperty(i,t,c)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,c){return this.delegate.listen(i,t,c)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class Vw extends kE{constructor(i,t,c,h){super(t,c,h),this.factory=i,this.namespaceId=t}setProperty(i,t,c){"@"==t.charAt(0)?"."==t.charAt(1)&&t==RE?this.disableAnimations(i,c=void 0===c||!!c):this.engine.process(this.namespaceId,i,t.substr(1),c):this.delegate.setProperty(i,t,c)}listen(i,t,c){if("@"==t.charAt(0)){const h=function jw(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let _=t.substr(1),I="";return"@"!=_.charAt(0)&&([_,I]=function Hw(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(_)),this.engine.listen(this.namespaceId,h,_,I,q=>{this.factory.scheduleListenerCallback(q._data||-1,c,q)})}return this.delegate.listen(i,t,c)}}let Ww=(()=>{class r extends gb{constructor(t,c,h){super(t.body,c,h)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0),e.LFG(A1),e.LFG(uS))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const LE=new e.OlP("AnimationModuleType"),FE=[{provide:_a,useClass:Fw},{provide:uS,useFactory:function Zw(){return new lw}},{provide:gb,useClass:Ww},{provide:e.FYo,useFactory:function qw(r,i,t){return new Gw(r,i,t)},deps:[Te,gb,e.R0b]}],BE=[{provide:A1,useFactory:()=>new Lw},{provide:LE,useValue:"BrowserAnimations"},...FE],zw=[{provide:A1,useClass:sb},{provide:LE,useValue:"NoopAnimations"},...FE];let $w=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?zw:BE}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:BE,imports:[Wr]}),r})();var UE=x(3692),GE=x(2292);const VE={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};let Kw=(()=>{class r{intercept(t,c){return c.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();(0,p.qS)(Jg,"es");let Jw=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[vm]}),r.\u0275inj=e.cJS({providers:[kc,D_,mc,{provide:e.soG,useValue:"es"},{provide:Vi.Dh,useValue:VE.firebaseConfig},{provide:Dd.TP,useClass:Kw,multi:!0}],imports:[[Wr,$w,_v,p.ez,D,Dd.JF,Rt,vf,xt.Bz.forRoot(UC),xu,Mu.forRoot({defaultLanguage:wn.q.defaultLanguage}),(0,UE.hX)(()=>(0,UE.ZF)(VE.firebaseConfig)),(0,GE.Cm)(()=>(0,GE.ad)())]]}),r})();Si().bootstrapModule(Jw).then(r=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=r}).catch(r=>console.error(r))},8955:(pt,w,x)=>{"use strict";x(8583);const e="undefined"!=typeof globalThis&&globalThis,T="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=e||"undefined"!=typeof global&&global||T||N,Q=function(ie,...fe){if(Q.translate){const et=Q.translate(ie,fe);ie=et[0],fe=et[1]}let ut=ne(ie[0],ie.raw[0]);for(let et=1;et<ie.length;et++)ut+=fe[et-1]+ne(ie[et],ie.raw[et]);return ut};function ne(ie,fe){return":"===fe.charAt(0)?ie.substring(function Y(ie,fe){for(let ut=1,et=1;ut<ie.length;ut++,et++)if("\\"===fe[et])et++;else if(":"===ie[ut])return ut;throw new Error(`Unterminated $localize metadata block in "${fe}".`)}(ie,fe)+1):ie}j.$localize=Q},5867:(pt,w,x)=>{"use strict";x.d(w,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=x(9681);(0,p.registerVersion)("firebase","9.6.9","app")},127:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>p.Z});var p=x(3942);p.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(pt,w,x)=>{"use strict";x.d(w,{ET:()=>Rc,hJ:()=>vs,oe:()=>Aa,JU:()=>Y1,ad:()=>Ig,cf:()=>Jh,pl:()=>qg,qs:()=>C_});var J,p=x(5861),e=x(9681),T=x(4859),N=x(1877),O=x(2090),j="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Q={},ne=ne||{},Y=j||self;function ie(){}function fe(l){var n=typeof l;return"array"==(n="object"!=n?n:l?Array.isArray(l)?"array":n:"null")||"object"==n&&"number"==typeof l.length}function ut(l){var n=typeof l;return"object"==n&&null!=l||"function"==n}var Je="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function _e(l,n,a){return l.call.apply(l.bind,arguments)}function He(l,n,a){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),l.apply(n,g)}}return function(){return l.apply(n,arguments)}}function ke(l,n,a){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:He).apply(null,arguments)}function _t(l,n){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function $e(l,n){function a(){}a.prototype=n.prototype,l.Z=n.prototype,l.prototype=new a,l.prototype.constructor=l,l.Vb=function(d,g,b){for(var E=Array(arguments.length-2),F=2;F<arguments.length;F++)E[F-2]=arguments[F];return n.prototype[g].apply(d,E)}}function Qe(){this.s=this.s,this.o=this.o}var nt={};Qe.prototype.s=!1,Qe.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function et(l){return Object.prototype.hasOwnProperty.call(l,Je)&&l[Je]||(l[Je]=++vt)}(this);delete nt[l]}},Qe.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ve=Array.prototype.indexOf?function(l,n){return Array.prototype.indexOf.call(l,n,void 0)}:function(l,n){if("string"==typeof l)return"string"!=typeof n||1!=n.length?-1:l.indexOf(n,0);for(let a=0;a<l.length;a++)if(a in l&&l[a]===n)return a;return-1},ht=Array.prototype.forEach?function(l,n,a){Array.prototype.forEach.call(l,n,a)}:function(l,n,a){const d=l.length,g="string"==typeof l?l.split(""):l;for(let b=0;b<d;b++)b in g&&n.call(a,g[b],b,l)};function me(l){return Array.prototype.concat.apply([],arguments)}function re(l){const n=l.length;if(0<n){const a=Array(n);for(let d=0;d<n;d++)a[d]=l[d];return a}return[]}function ye(l){return/^[\s\xa0]*$/.test(l)}var Mt,Te=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function Ce(l,n){return-1!=l.indexOf(n)}function yt(l,n){return l<n?-1:l>n?1:0}e:{var mn=Y.navigator;if(mn){var kt=mn.userAgent;if(kt){Mt=kt;break e}}Mt=""}function wt(l,n,a){for(const d in l)n.call(a,l[d],d,l)}function Wt(l){const n={};for(const a in l)n[a]=l[a];return n}var bn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rr(l,n){let a,d;for(let g=1;g<arguments.length;g++){for(a in d=arguments[g],d)l[a]=d[a];for(let b=0;b<bn.length;b++)a=bn[b],Object.prototype.hasOwnProperty.call(d,a)&&(l[a]=d[a])}}function $n(l){return $n[" "](l),l}$n[" "]=ie;var Kr,l,br=Ce(Mt,"Opera"),vr=Ce(Mt,"Trident")||Ce(Mt,"MSIE"),ni=Ce(Mt,"Edge"),Ar=ni||vr,Gr=Ce(Mt,"Gecko")&&!(Ce(Mt.toLowerCase(),"webkit")&&!Ce(Mt,"Edge"))&&!(Ce(Mt,"Trident")||Ce(Mt,"MSIE"))&&!Ce(Mt,"Edge"),Oi=Ce(Mt.toLowerCase(),"webkit")&&!Ce(Mt,"Edge");function Si(){var l=Y.document;return l?l.documentMode:void 0}e:{var Wr="",ki=(l=Mt,Gr?/rv:([^\);]+)(\)|;)/.exec(l):ni?/Edge\/([\d\.]+)/.exec(l):vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Oi?/WebKit\/(\S+)/.exec(l):br?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(ki&&(Wr=ki?ki[1]:""),vr){var Bn=Si();if(null!=Bn&&Bn>parseFloat(Wr)){Kr=String(Bn);break e}}Kr=Wr}var ji={};var gt=Y.document&&vr&&(Si()||parseInt(Kr,10))||void 0,Ue=function(){if(!Y.addEventListener||!Object.defineProperty)return!1;var l=!1,n=Object.defineProperty({},"passive",{get:function(){l=!0}});try{Y.addEventListener("test",ie,n),Y.removeEventListener("test",ie,n)}catch(a){}return l}();function ce(l,n){this.type=l,this.g=this.target=n,this.defaultPrevented=!1}function be(l,n){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var a=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=n,n=l.relatedTarget){if(Gr){e:{try{$n(n.nodeName);var g=!0;break e}catch(b){}g=!1}g||(n=null)}}else"mouseover"==a?n=l.fromElement:"mouseout"==a&&(n=l.toElement);this.relatedTarget=n,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:at[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&be.Z.h.call(this)}}ce.prototype.h=function(){this.defaultPrevented=!0},$e(be,ce);var at={2:"touch",3:"pen",4:"mouse"};be.prototype.h=function(){be.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),bt=0;function Ot(l,n,a,d,g){this.listener=l,this.proxy=null,this.src=n,this.type=a,this.capture=!!d,this.ia=g,this.key=++bt,this.ca=this.fa=!1}function dn(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function Zt(l){this.src=l,this.g={},this.h=0}function an(l,n){var a=n.type;if(a in l.g){var b,d=l.g[a],g=Ve(d,n);(b=0<=g)&&Array.prototype.splice.call(d,g,1),b&&(dn(n),0==l.g[a].length&&(delete l.g[a],l.h--))}}function Vn(l,n,a,d){for(var g=0;g<l.length;++g){var b=l[g];if(!b.ca&&b.listener==n&&b.capture==!!a&&b.ia==d)return g}return-1}Zt.prototype.add=function(l,n,a,d,g){var b=l.toString();(l=this.g[b])||(l=this.g[b]=[],this.h++);var E=Vn(l,n,d,g);return-1<E?(n=l[E],a||(n.fa=!1)):((n=new Ot(n,this.src,b,!!d,g)).fa=a,l.push(n)),n};var fn="closure_lm_"+(1e6*Math.random()|0),jn={};function Gt(l,n,a,d,g){if(d&&d.once)return Bt(l,n,a,d,g);if(Array.isArray(n)){for(var b=0;b<n.length;b++)Gt(l,n[b],a,d,g);return null}return a=Ae(a),l&&l[ct]?l.N(n,a,ut(d)?!!d.capture:!!d,g):er(l,n,a,!1,d,g)}function er(l,n,a,d,g,b){if(!n)throw Error("Invalid event type");var E=ut(g)?!!g.capture:!!g,F=Un(l);if(F||(l[fn]=F=new Zt(l)),(a=F.add(n,a,d,E,b)).proxy)return a;if(d=function kn(){var n=Wn;return function l(a){return n.call(l.src,l.listener,a)}}(),a.proxy=d,d.src=l,d.listener=a,l.addEventListener)Ue||(g=E),void 0===g&&(g=!1),l.addEventListener(n.toString(),d,g);else if(l.attachEvent)l.attachEvent(yn(n.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return a}function Bt(l,n,a,d,g){if(Array.isArray(n)){for(var b=0;b<n.length;b++)Bt(l,n[b],a,d,g);return null}return a=Ae(a),l&&l[ct]?l.O(n,a,ut(d)?!!d.capture:!!d,g):er(l,n,a,!0,d,g)}function ft(l,n,a,d,g){if(Array.isArray(n))for(var b=0;b<n.length;b++)ft(l,n[b],a,d,g);else d=ut(d)?!!d.capture:!!d,a=Ae(a),l&&l[ct]?(l=l.i,(n=String(n).toString())in l.g&&-1<(a=Vn(b=l.g[n],a,d,g))&&(dn(b[a]),Array.prototype.splice.call(b,a,1),0==b.length&&(delete l.g[n],l.h--))):l&&(l=Un(l))&&(n=l.g[n.toString()],l=-1,n&&(l=Vn(n,a,d,g)),(a=-1<l?n[l]:null)&&tn(a))}function tn(l){if("number"!=typeof l&&l&&!l.ca){var n=l.src;if(n&&n[ct])an(n.i,l);else{var a=l.type,d=l.proxy;n.removeEventListener?n.removeEventListener(a,d,l.capture):n.detachEvent?n.detachEvent(yn(a),d):n.addListener&&n.removeListener&&n.removeListener(d),(a=Un(n))?(an(a,l),0==a.h&&(a.src=null,n[fn]=null)):dn(l)}}}function yn(l){return l in jn?jn[l]:jn[l]="on"+l}function Wn(l,n){if(l.ca)l=!0;else{n=new be(n,this);var a=l.listener,d=l.ia||l.src;l.fa&&tn(l),l=a.call(d,n)}return l}function Un(l){return(l=l[fn])instanceof Zt?l:null}var Me="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ae(l){return"function"==typeof l?l:(l[Me]||(l[Me]=function(n){return l.handleEvent(n)}),l[Me])}function Se(){Qe.call(this),this.i=new Zt(this),this.P=this,this.I=null}function lt(l,n){var a,d=l.I;if(d)for(a=[];d;d=d.I)a.push(d);if(l=l.P,d=n.type||n,"string"==typeof n)n=new ce(n,l);else if(n instanceof ce)n.target=n.target||l;else{var g=n;rr(n=new ce(d,l),g)}if(g=!0,a)for(var b=a.length-1;0<=b;b--){var E=n.g=a[b];g=Ke(E,d,!0,n)&&g}if(g=Ke(E=n.g=l,d,!0,n)&&g,g=Ke(E,d,!1,n)&&g,a)for(b=0;b<a.length;b++)g=Ke(E=n.g=a[b],d,!1,n)&&g}function Ke(l,n,a,d){if(!(n=l.i.g[String(n)]))return!0;n=n.concat();for(var g=!0,b=0;b<n.length;++b){var E=n[b];if(E&&!E.ca&&E.capture==a){var F=E.listener,X=E.ia||E.src;E.fa&&an(l.i,E),g=!1!==F.call(X,d)&&g}}return g&&!d.defaultPrevented}$e(Se,Qe),Se.prototype[ct]=!0,Se.prototype.removeEventListener=function(l,n,a,d){ft(this,l,n,a,d)},Se.prototype.M=function(){if(Se.Z.M.call(this),this.i){var n,l=this.i;for(n in l.g){for(var a=l.g[n],d=0;d<a.length;d++)dn(a[d]);delete l.g[n],l.h--}}this.I=null},Se.prototype.N=function(l,n,a,d){return this.i.add(String(l),n,!1,a,d)},Se.prototype.O=function(l,n,a,d){return this.i.add(String(l),n,!0,a,d)};var qt=Y.JSON.stringify;function Zn(){var l=St;let n=null;return l.g&&(n=l.g,l.g=l.g.next,l.g||(l.h=null),n.next=null),n}var In,ir=new class{constructor(l,n){this.i=l,this.j=n,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new or,l=>l.reset());class or{constructor(){this.next=this.g=this.h=null}set(n,a){this.h=n,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}function sr(l){Y.setTimeout(()=>{throw l},0)}function Cn(l,n){In||function Sn(){var l=Y.Promise.resolve(void 0);In=function(){l.then(cn)}}(),Xe||(In(),Xe=!0),St.add(l,n)}var Xe=!1,St=new class qn{constructor(){this.h=this.g=null}add(n,a){const d=ir.get();d.set(n,a),this.h?this.h.next=d:this.g=d,this.h=d}};function cn(){for(var l;l=Zn();){try{l.h.call(l.g)}catch(a){sr(a)}var n=ir;n.j(l),100>n.h&&(n.h++,l.next=n.g,n.g=l)}Xe=!1}function Qn(l,n){Se.call(this),this.h=l||1,this.g=n||Y,this.j=ke(this.kb,this),this.l=Date.now()}function gr(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Yt(l,n,a){if("function"==typeof l)a&&(l=ke(l,a));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=ke(l.handleEvent,l)}return 2147483647<Number(n)?-1:Y.setTimeout(l,n||0)}function sn(l){l.g=Yt(()=>{l.g=null,l.i&&(l.i=!1,sn(l))},l.j);const n=l.h;l.h=null,l.m.apply(null,n)}$e(Qn,Se),(J=Qn.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lt(this,"tick"),this.da&&(gr(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){Qn.Z.M.call(this),gr(this),delete this.g};class rt extends Qe{constructor(n,a){super(),this.m=n,this.j=a,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:sn(this)}M(){super.M(),this.g&&(Y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(l){Qe.call(this),this.h=l,this.g={}}$e(Lt,Qe);var gn=[];function An(l,n,a,d){Array.isArray(a)||(a&&(gn[0]=a.toString()),a=gn);for(var g=0;g<a.length;g++){var b=Gt(n,a[g],d||l.handleEvent,!1,l.h||l);if(!b)break;l.g[b.key]=b}}function _n(l){wt(l.g,function(n,a){this.g.hasOwnProperty(a)&&tn(n)},l),l.g={}}function On(){this.g=!0}function Gn(l,n,a,d){l.info(function(){return"XMLHTTP TEXT ("+n+"): "+function Xn(l,n){if(!l.g)return n;if(!n)return null;try{var a=JSON.parse(n);if(a)for(l=0;l<a.length;l++)if(Array.isArray(a[l])){var d=a[l];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var b=g[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var E=1;E<g.length;E++)g[E]=""}}}return qt(a)}catch(F){return n}}(l,a)+(d?" "+d:"")})}Lt.prototype.M=function(){Lt.Z.M.call(this),_n(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},On.prototype.Aa=function(){this.g=!1},On.prototype.info=function(){};var Lr={},Ei=null;function to(){return Ei=Ei||new Se}function Hi(l){ce.call(this,Lr.Ma,l)}function zr(l){const n=to();lt(n,new Hi(n,l))}function Wi(l,n){ce.call(this,Lr.STAT_EVENT,l),this.stat=n}function Jr(l){const n=to();lt(n,new Wi(n,l))}function st(l,n){ce.call(this,Lr.Na,l),this.size=n}function ze(l,n){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return Y.setTimeout(function(){l()},n)}Lr.Ma="serverreachability",$e(Hi,ce),Lr.STAT_EVENT="statevent",$e(Wi,ce),Lr.Na="timingevent",$e(st,ce);var Tt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $t(){}function Dr(){}$t.prototype.h=null;var Mo,Vr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ir(){ce.call(this,"d")}function gi(){ce.call(this,"c")}function Ui(){}function To(l,n,a,d){this.l=l,this.j=n,this.m=a,this.X=d||1,this.V=new Lt(this),this.P=Ts,this.W=new Qn(l=Ar?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}$e(Ir,ce),$e(gi,ce),$e(Ui,$t),Ui.prototype.g=function(){return new XMLHttpRequest},Ui.prototype.i=function(){return{}},Mo=new Ui;var Ts=45e3,ss={},no={};function Yo(l,n,a){l.K=1,l.v=Pe(we(n)),l.s=a,l.U=!0,as(l,null)}function as(l,n){l.F=Date.now(),Co(l),l.A=we(l.v);var a=l.A,d=l.X;Array.isArray(d)||(d=[String(d)]),V(a.h,"t",d),l.C=0,a=l.l.H,l.h=new Li,l.g=ga(l.l,a?n:null,!l.s),0<l.O&&(l.L=new rt(ke(l.Ia,l,l.g),l.O)),An(l.V,l.g,"readystatechange",l.gb),n=l.H?Wt(l.H):{},l.s?(l.u||(l.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,n)):(l.u="GET",l.g.ea(l.A,l.u,null,n)),zr(1),function tr(l,n,a,d,g,b){l.info(function(){if(l.g)if(b)for(var E="",F=b.split("&"),X=0;X<F.length;X++){var de=F[X].split("=");if(1<de.length){var Ze=de[0];de=de[1];var ot=Ze.split("_");E=2<=ot.length&&"type"==ot[1]?E+(Ze+"=")+de+"&":E+(Ze+"=redacted&")}}else E=null;else E=b;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+n+"\n"+a+"\n"+E})}(l.j,l.u,l.A,l.m,l.X,l.s)}function Fi(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function ro(l,n,a){let g,d=!0;for(;!l.I&&l.C<a.length;){if(g=Gi(l,a),g==no){4==n&&(l.o=4,Jr(14),d=!1),Gn(l.j,l.m,null,"[Incomplete Response]");break}if(g==ss){l.o=4,Jr(15),Gn(l.j,l.m,a,"[Invalid Chunk]"),d=!1;break}Gn(l.j,l.m,g,null),cs(l,g)}Fi(l)&&g!=no&&g!=ss&&(l.h.g="",l.C=0),4!=n||0!=a.length||l.h.h||(l.o=1,Jr(16),d=!1),l.i=l.i&&d,d?0<a.length&&!l.aa&&(l.aa=!0,(n=l.l).g==l&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Bc(n),n.L=!0,Jr(11))):(Gn(l.j,l.m,a,"[Invalid Chunked Response]"),mo(l),wi(l))}function Gi(l,n){var a=l.C,d=n.indexOf("\n",a);return-1==d?no:(a=Number(n.substring(a,d)),isNaN(a)?ss:(d+=1)+a>n.length?no:(n=n.substr(d,a),l.C=d+a,n))}function Co(l){l.Y=Date.now()+l.P,xs(l,l.P)}function xs(l,n){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ze(ke(l.eb,l),n)}function Qo(l){l.B&&(Y.clearTimeout(l.B),l.B=null)}function wi(l){0==l.l.G||l.I||Tc(l.l,l)}function mo(l){Qo(l);var n=l.L;n&&"function"==typeof n.na&&n.na(),l.L=null,gr(l.W),_n(l.V),l.g&&(n=l.g,l.g=null,n.abort(),n.na())}function cs(l,n){try{var a=l.l;if(0!=a.G&&(a.g==l||Br(a.i,l)))if(a.I=l.N,!l.J&&Br(a.i,l)&&3==a.G){try{var d=a.Ca.g.parse(n)}catch(de){d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0])e:if(a.u)a.ta=g[1],0<a.ta-a.U&&37500>g[2]&&a.N&&0==a.A&&!a.v&&(a.v=ze(ke(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<l.F))break e;ka(a),Qi(a)}Na(a),Jr(18)}if(1>=Fr(a.i)&&a.ka){try{a.ka()}catch(de){}a.ka=void 0}}else Hs(a,11)}else if((l.J||a.g==l)&&ka(a),!ye(n))for(g=a.Ca.g.parse(n),n=0;n<g.length;n++){let de=g[n];if(a.U=de[0],de=de[1],2==a.G)if("c"==de[0]){a.J=de[1],a.la=de[2];const Ze=de[3];null!=Ze&&(a.ma=Ze,a.h.info("VER="+a.ma));const ot=de[4];null!=ot&&(a.za=ot,a.h.info("SVER="+a.za));const It=de[5];null!=It&&"number"==typeof It&&0<It&&(a.K=d=1.5*It,a.h.info("backChannelRequestTimeoutMs_="+d)),d=a;const Kt=l.g;if(Kt){const un=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(un){var b=d.i;!b.g&&(Ce(un,"spdy")||Ce(un,"quic")||Ce(un,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Or(b,b.h),b.h=null))}if(d.D){const ar=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(d.sa=ar,oe(d.F,d.D,ar))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-l.F,a.h.info("Handshake RTT: "+a.O+"ms"));var E=l;if((d=a).oa=_o(d,d.H?d.la:null,d.W),E.J){xi(d.i,E);var F=E,X=d.K;X&&F.setTimeout(X),F.B&&(Qo(F),Co(F)),d.g=E}else Oa(d);0<a.l.length&&Qs(a)}else"stop"!=de[0]&&"close"!=de[0]||Hs(a,7);else 3==a.G&&("stop"==de[0]||"close"==de[0]?"stop"==de[0]?Hs(a,7):Fc(a):"noop"!=de[0]&&a.j&&a.j.wa(de),a.A=0)}zr(4)}catch(de){}}function Ee(l,n){if(l.forEach&&"function"==typeof l.forEach)l.forEach(n,void 0);else if(fe(l)||"string"==typeof l)ht(l,n,void 0);else{if(l.T&&"function"==typeof l.T)var a=l.T();else if(l.R&&"function"==typeof l.R)a=void 0;else if(fe(l)||"string"==typeof l){a=[];for(var d=l.length,g=0;g<d;g++)a.push(g)}else for(g in a=[],d=0,l)a[d++]=g;d=function ho(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(fe(l)){for(var n=[],a=l.length,d=0;d<a;d++)n.push(l[d]);return n}for(d in n=[],a=0,l)n[a++]=l[d];return n}(l),g=d.length;for(var b=0;b<g;b++)n.call(void 0,d[b],a&&a[b],l)}}function Oe(l,n){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var d=0;d<a;d+=2)this.set(arguments[d],arguments[d+1])}else if(l)if(l instanceof Oe)for(a=l.T(),d=0;d<a.length;d++)this.set(a[d],l.get(a[d]));else for(d in l)this.set(d,l[d])}function he(l){if(l.i!=l.g.length){for(var n=0,a=0;n<l.g.length;){var d=l.g[n];R(l.h,d)&&(l.g[a++]=d),n++}l.g.length=a}if(l.i!=l.g.length){var g={};for(a=n=0;n<l.g.length;)R(g,d=l.g[n])||(l.g[a++]=d,g[d]=1),n++;l.g.length=a}}function R(l,n){return Object.prototype.hasOwnProperty.call(l,n)}(J=To.prototype).setTimeout=function(l){this.P=l},J.gb=function(l){l=l.target;const n=this.L;n&&3==No(l)?n.l():this.Ia(l)},J.Ia=function(l){try{if(l==this.g)e:{const Ze=No(this.g);var n=this.g.Da();const ot=this.g.ba();if(!(3>Ze)&&(3!=Ze||Ar||this.g&&(this.h.h||this.g.ga()||Xo(this.g)))){this.I||4!=Ze||7==n||zr(8==n||0>=ot?3:2),Qo(this);var a=this.g.ba();this.N=a;t:if(Fi(this)){var d=Xo(this.g);l="";var g=d.length,b=4==No(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){mo(this),wi(this);var E="";break t}this.h.i=new Y.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,l+=this.h.i.decode(d[n],{stream:b&&n==g-1});d.splice(0,g),this.h.g+=l,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==a,function pn(l,n,a,d,g,b,E){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+n+"\n"+a+"\n"+b+" "+E})}(this.j,this.u,this.A,this.m,this.X,Ze,a),this.i){if(this.$&&!this.J){t:{if(this.g){var F,X=this.g;if((F=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ye(F)){var de=F;break t}}de=null}if(!(a=de)){this.i=!1,this.o=3,Jr(12),mo(this),wi(this);break e}Gn(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cs(this,a)}this.U?(ro(this,Ze,E),Ar&&this.i&&3==Ze&&(An(this.V,this.W,"tick",this.fb),this.W.start())):(Gn(this.j,this.m,E,null),cs(this,E)),4==Ze&&mo(this),this.i&&!this.I&&(4==Ze?Tc(this.l,this):(this.i=!1,Co(this)))}else 400==a&&0<E.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),mo(this),wi(this)}}}catch(Ze){}},J.fb=function(){if(this.g){var l=No(this.g),n=this.g.ga();this.C<n.length&&(Qo(this),ro(this,l,n),this.i&&4!=l&&Co(this))}},J.cancel=function(){this.I=!0,mo(this)},J.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Pr(l,n){l.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(zr(3),Jr(17)),mo(this),this.o=2,wi(this)):xs(this,this.Y-l)},(J=Oe.prototype).R=function(){he(this);for(var l=[],n=0;n<this.g.length;n++)l.push(this.h[this.g[n]]);return l},J.T=function(){return he(this),this.g.concat()},J.get=function(l,n){return R(this.h,l)?this.h[l]:n},J.set=function(l,n){R(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=n},J.forEach=function(l,n){for(var a=this.T(),d=0;d<a.length;d++){var g=a[d],b=this.get(g);l.call(n,b,g,this)}};var W=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ee(l,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof ee){this.g=void 0!==n?n:l.g,Ne(this,l.j),this.s=l.s,Ie(this,l.i),Fe(this,l.m),this.l=l.l,n=l.h;var a=new Uo;a.i=n.i,n.g&&(a.g=new Oe(n.g),a.h=n.h),dt(this,a),this.o=l.o}else l&&(a=String(l).match(W))?(this.g=!!n,Ne(this,a[1]||"",!0),this.s=hn(a[2]||""),Ie(this,a[3]||"",!0),Fe(this,a[4]),this.l=hn(a[5]||"",!0),dt(this,a[6]||"",!0),this.o=hn(a[7]||"")):(this.g=!!n,this.h=new Uo(null,this.g))}function we(l){return new ee(l)}function Ne(l,n,a){l.j=a?hn(n,!0):n,l.j&&(l.j=l.j.replace(/:$/,""))}function Ie(l,n,a){l.i=a?hn(n,!0):n}function Fe(l,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);l.m=n}else l.m=null}function dt(l,n,a){n instanceof Uo?(l.h=n,function Ye(l,n){n&&!l.j&&(jr(l),l.i=null,l.g.forEach(function(a,d){var g=d.toLowerCase();d!=g&&(H(this,d),V(this,g,a))},l)),l.j=n}(l.h,l.g)):(a||(n=xn(n,Xr)),l.h=new Uo(n,l.g))}function oe(l,n,a){l.h.set(n,a)}function Pe(l){return oe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hn(l,n){return l?n?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xn(l,n,a){return"string"==typeof l?(l=encodeURI(l).replace(n,Pn),a&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Pn(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ee.prototype.toString=function(){var l=[],n=this.j;n&&l.push(xn(n,Fn,!0),":");var a=this.i;return(a||"file"==n)&&(l.push("//"),(n=this.s)&&l.push(xn(n,Fn,!0),"@"),l.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&l.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&l.push("/"),l.push(xn(a,"/"==a.charAt(0)?Mr:ur,!0))),(a=this.h.toString())&&l.push("?",a),(a=this.o)&&l.push("#",xn(a,Zi)),l.join("")};var Fn=/[#\/\?@]/g,ur=/[#\?:]/g,Mr=/[#\?]/g,Xr=/[#\?@]/g,Zi=/#/g;function Uo(l,n){this.h=this.g=null,this.i=l||null,this.j=!!n}function jr(l){l.g||(l.g=new Oe,l.h=0,l.i&&function z(l,n){if(l){l=l.split("&");for(var a=0;a<l.length;a++){var d=l[a].indexOf("="),g=null;if(0<=d){var b=l[a].substring(0,d);g=l[a].substring(d+1)}else b=l[a];n(b,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(n,a){l.add(decodeURIComponent(n.replace(/\+/g," ")),a)}))}function H(l,n){jr(l),n=pe(l,n),R(l.g.h,n)&&(l.i=null,l.h-=l.g.get(n).length,R((l=l.g).h,n)&&(delete l.h[n],l.i--,l.g.length>2*l.i&&he(l)))}function le(l,n){return jr(l),n=pe(l,n),R(l.g.h,n)}function V(l,n,a){H(l,n),0<a.length&&(l.i=null,l.g.set(pe(l,n),re(a)),l.h+=a.length)}function pe(l,n){return n=String(n),l.j&&(n=n.toLowerCase()),n}function zt(l){this.l=l||En,l=Y.PerformanceNavigationTiming?0<(l=Y.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(Y.g&&Y.g.Ea&&Y.g.Ea()&&Y.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=Uo.prototype).add=function(l,n){jr(this),this.i=null,l=pe(this,l);var a=this.g.get(l);return a||this.g.set(l,a=[]),a.push(n),this.h+=1,this},J.forEach=function(l,n){jr(this),this.g.forEach(function(a,d){ht(a,function(g){l.call(n,g,d,this)},this)},this)},J.T=function(){jr(this);for(var l=this.g.R(),n=this.g.T(),a=[],d=0;d<n.length;d++)for(var g=l[d],b=0;b<g.length;b++)a.push(n[d]);return a},J.R=function(l){jr(this);var n=[];if("string"==typeof l)le(this,l)&&(n=me(n,this.g.get(pe(this,l))));else{l=this.g.R();for(var a=0;a<l.length;a++)n=me(n,l[a])}return n},J.set=function(l,n){return jr(this),this.i=null,le(this,l=pe(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[n]),this.h+=1,this},J.get=function(l,n){return l&&0<(l=this.R(l)).length?String(l[0]):n},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],n=this.g.T(),a=0;a<n.length;a++){var d=n[a],g=encodeURIComponent(String(d));d=this.R(d);for(var b=0;b<d.length;b++){var E=g;""!==d[b]&&(E+="="+encodeURIComponent(String(d[b]))),l.push(E)}}return this.i=l.join("&")};var En=10;function ii(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Fr(l){return l.h?1:l.g?l.g.size:0}function Br(l,n){return l.h?l.h==n:!!l.g&&l.g.has(n)}function Or(l,n){l.g?l.g.add(n):l.h=n}function xi(l,n){l.h&&l.h==n?l.h=null:l.g&&l.g.has(n)&&l.g.delete(n)}function oi(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let n=l.i;for(const a of l.g.values())n=n.concat(a.D);return n}return re(l.i)}function si(){}function Oo(){this.g=new si}function Go(l,n,a){const d=a||"";try{Ee(l,function(g,b){let E=g;ut(g)&&(E=qt(g)),n.push(d+b+"="+encodeURIComponent(E))})}catch(g){throw n.push(d+"type="+encodeURIComponent("_badmap")),g}}function Is(l,n,a,d,g){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,g(d)}catch(b){}}function Vo(l){this.l=l.$b||null,this.j=l.ib||!1}function ls(l,n){Se.call(this),this.D=l,this.u=n,this.m=void 0,this.readyState=Cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt.prototype.cancel=function(){if(this.i=oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},si.prototype.stringify=function(l){return Y.JSON.stringify(l,void 0)},si.prototype.parse=function(l){return Y.JSON.parse(l,void 0)},$e(Vo,$t),Vo.prototype.g=function(){return new ls(this.l,this.j)},Vo.prototype.i=function(l){return function(){return l}}({}),$e(ls,Se);var Cs=0;function Ss(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function Xa(l){l.readyState=4,l.l=null,l.j=null,l.A=null,us(l)}function us(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(J=ls.prototype).open=function(l,n){if(this.readyState!=Cs)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=n,this.readyState=1,us(this)},J.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(n.body=l),(this.D||Y).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xa(this)),this.readyState=Cs},J.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Y.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ss(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var n=l.value?l.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!l.done}))&&(this.response=this.responseText+=n)}l.done?Xa(this):us(this),3==this.readyState&&Ss(this)}},J.Ua=function(l){this.g&&(this.response=this.responseText=l,Xa(this))},J.Ta=function(l){this.g&&(this.response=l,Xa(this))},J.ha=function(){this.g&&Xa(this)},J.setRequestHeader=function(l,n){this.v.append(l,n)},J.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],n=this.h.entries();for(var a=n.next();!a.done;)l.push((a=a.value)[0]+": "+a[1]),a=n.next();return l.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var en=Y.JSON.parse;function cr(l){Se.call(this),this.headers=new Oe,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Pa,this.K=this.L=!1}$e(cr,Se);var Pa="",Ni=/^https?$/i,ol=["POST","PUT"];function Ys(l){return"content-type"==l.toLowerCase()}function ec(l,n){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=n,l.m=5,Ma(l),bc(l)}function Ma(l){l.D||(l.D=!0,lt(l,"complete"),lt(l,"error"))}function yc(l){if(l.h&&void 0!==ne&&(!l.C[1]||4!=No(l)||2!=l.ba()))if(l.v&&4==No(l))Yt(l.Fa,0,l);else if(lt(l,"readystatechange"),4==No(l)){l.h=!1;try{const F=l.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var a;if(!(a=n)){var d;if(d=0===F){var g=String(l.H).match(W)[1]||null;if(!g&&Y.self&&Y.self.location){var b=Y.self.location.protocol;g=b.substr(0,b.length-1)}d=!Ni.test(g?g.toLowerCase():"")}a=d}if(a)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var E=2<No(l)?l.g.statusText:""}catch(X){E=""}l.j=E+" ["+l.ba()+"]",Ma(l)}}finally{bc(l)}}}function bc(l,n){if(l.g){sl(l);const a=l.g,d=l.C[0]?ie:null;l.g=null,l.C=null,n||lt(l,"ready");try{a.onreadystatechange=d}catch(g){}}}function sl(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(Y.clearTimeout(l.A),l.A=null)}function No(l){return l.g?l.g.readyState:0}function Xo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case Pa:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(n){return null}}function ha(l,n,a){e:{for(d in a){var d=!1;break e}d=!0}d||(a=function da(l){let n="";return wt(l,function(a,d){n+=d,n+=":",n+=a,n+="\r\n"}),n}(a),"string"==typeof l?null!=a&&encodeURIComponent(String(a)):oe(l,n,a))}function Ps(l,n,a){return a&&a.internalChannelParams&&a.internalChannelParams[l]||n}function es(l){this.za=0,this.l=[],this.h=new On,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ps("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ps("baseRetryDelayMs",5e3,l),this.$a=Ps("retryDelaySeedMs",1e4,l),this.Ya=Ps("forwardChannelMaxRetries",2,l),this.ra=Ps("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new zt(l&&l.concurrentRequestLimit),this.Ca=new Oo,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Fc(l){if(al(l),3==l.G){var n=l.V++,a=we(l.F);oe(a,"SID",l.J),oe(a,"RID",n),oe(a,"TYPE","terminate"),js(l,a),(n=new To(l,l.h,n,void 0)).K=2,n.v=Pe(we(a)),a=!1,Y.navigator&&Y.navigator.sendBeacon&&(a=Y.navigator.sendBeacon(n.v.toString(),"")),!a&&Y.Image&&((new Image).src=n.v,a=!0),a||(n.g=ga(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Co(n)}Cc(l)}function Qi(l){l.g&&(Bc(l),l.g.cancel(),l.g=null)}function al(l){Qi(l),l.u&&(Y.clearTimeout(l.u),l.u=null),ka(l),l.i.cancel(),l.m&&("number"==typeof l.m&&Y.clearTimeout(l.m),l.m=null)}function fa(l,n){l.l.push(new class{constructor(l,n){this.h=l,this.g=n}}(l.Za++,n)),3==l.G&&Qs(l)}function Qs(l){ii(l.i)||l.m||(l.m=!0,Cn(l.Ha,l),l.C=0)}function Ll(l,n){var a;a=n?n.m:l.V++;const d=we(l.F);oe(d,"SID",l.J),oe(d,"RID",a),oe(d,"AID",l.U),js(l,d),l.o&&l.s&&ha(d,l.o,l.s),a=new To(l,l.h,a,l.C+1),null===l.o&&(a.H=l.s),n&&(l.l=n.D.concat(l.l)),n=cl(l,a,1e3),a.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),Or(l.i,a),Yo(a,d,n)}function js(l,n){l.j&&Ee({},function(a,d){oe(n,d,a)})}function cl(l,n,a){a=Math.min(l.l.length,a);var d=l.j?ke(l.j.Oa,l.j,l):null;e:{var g=l.l;let b=-1;for(;;){const E=["count="+a];-1==b?0<a?(b=g[0].h,E.push("ofs="+b)):b=0:E.push("ofs="+b);let F=!0;for(let X=0;X<a;X++){let de=g[X].h;const Ze=g[X].g;if(de-=b,0>de)b=Math.max(0,g[X].h-100),F=!1;else try{Go(Ze,E,"req"+de+"_")}catch(ot){d&&d(Ze)}}if(F){d=E.join("&");break e}}}return l=l.l.splice(0,a),n.D=l,d}function Oa(l){l.g||l.u||(l.Y=1,Cn(l.Ga,l),l.A=0)}function Na(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=ze(ke(l.Ga,l),Xs(l,l.A)),l.A++,0))}function Bc(l){null!=l.B&&(Y.clearTimeout(l.B),l.B=null)}function Ra(l){l.g=new To(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var n=we(l.oa);oe(n,"RID","rpc"),oe(n,"SID",l.J),oe(n,"CI",l.N?"0":"1"),oe(n,"AID",l.U),js(l,n),oe(n,"TYPE","xmlhttp"),l.o&&l.s&&ha(n,l.o,l.s),l.K&&l.g.setTimeout(l.K);var a=l.g;l=l.la,a.K=1,a.v=Pe(we(n)),a.s=null,a.U=!0,as(a,l)}function ka(l){null!=l.v&&(Y.clearTimeout(l.v),l.v=null)}function Tc(l,n){var a=null;if(l.g==n){ka(l),Bc(l),l.g=null;var d=2}else{if(!Br(l.i,n))return;a=n.D,xi(l.i,n),d=1}if(l.I=n.N,0!=l.G)if(n.i)if(1==d){a=n.s?n.s.length:0,n=Date.now()-n.F;var g=l.C;lt(d=to(),new st(d,a,n,g)),Qs(l)}else Oa(l);else if(3==(g=n.o)||0==g&&0<l.I||!(1==d&&function pa(l,n){return!(Fr(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=n.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=ze(ke(l.Ha,l,n),Xs(l,l.C)),l.C++,0)))}(l,n)||2==d&&Na(l)))switch(a&&0<a.length&&(n=l.i,n.i=n.i.concat(a)),g){case 1:Hs(l,5);break;case 4:Hs(l,10);break;case 3:Hs(l,6);break;default:Hs(l,2)}}function Xs(l,n){let a=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(a*=2),a*n}function Hs(l,n){if(l.h.info("Error code "+n),2==n){var a=null;l.j&&(a=null);var d=ke(l.jb,l);a||(a=new ee("//www.google.com/images/cleardot.gif"),Y.location&&"http"==Y.location.protocol||Ne(a,"https"),Pe(a)),function hr(l,n){const a=new On;if(Y.Image){const d=new Image;d.onload=_t(Is,a,d,"TestLoadImage: loaded",!0,n),d.onerror=_t(Is,a,d,"TestLoadImage: error",!1,n),d.onabort=_t(Is,a,d,"TestLoadImage: abort",!1,n),d.ontimeout=_t(Is,a,d,"TestLoadImage: timeout",!1,n),Y.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else n(!1)}(a.toString(),d)}else Jr(2);l.G=0,l.j&&l.j.va(n),Cc(l),al(l)}function Cc(l){l.G=0,l.I=-1,l.j&&((0!=oi(l.i).length||0!=l.l.length)&&(l.i.i.length=0,re(l.l),l.l.length=0),l.j.ua())}function _o(l,n,a){let d=function We(l){return l instanceof ee?we(l):new ee(l,void 0)}(a);if(""!=d.i)n&&Ie(d,n+"."+d.i),Fe(d,d.m);else{const g=Y.location;d=function Et(l,n,a,d){var g=new ee(null,void 0);return l&&Ne(g,l),n&&Ie(g,n),a&&Fe(g,a),d&&(g.l=d),g}(g.protocol,n?n+"."+g.hostname:g.hostname,+g.port,a)}return l.aa&&wt(l.aa,function(g,b){oe(d,b,g)}),a=l.sa,(n=l.D)&&a&&oe(d,n,a),oe(d,"VER",l.ma),js(l,d),d}function ga(l,n,a){if(n&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new cr(a&&l.Ba&&!l.qa?new Vo({ib:!0}):l.qa)).L=l.H,n}function Bi(){}function tc(){if(vr&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function Es(l,n){Se.call(this),this.g=new es(n),this.l=l,this.h=n&&n.messageUrlParams||null,l=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(l?l["X-WebChannel-Content-Type"]=n.messageContentType:l={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(l?l["X-WebChannel-Client-Profile"]=n.ya:l={"X-WebChannel-Client-Profile":n.ya}),this.g.P=l,(l=n&&n.httpHeadersOverwriteParam)&&!ye(l)&&(this.g.o=l),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!ye(n)&&(this.g.D=n,null!==(l=this.h)&&n in l&&n in(l=this.h)&&delete l[n]),this.j=new fo(this)}function Eu(l){Ir.call(this);var n=l.__sm__;if(n){e:{for(const a in n){l=a;break e}l=void 0}(this.i=l)&&(l=this.i,n=null!==n&&l in n?n[l]:void 0),this.data=n}else this.data=l}function Uc(){gi.call(this),this.status=1}function fo(l){this.g=l}(J=cr.prototype).ea=function(l,n,a,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);n=n?n.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Mo.g(),this.C=function Tn(l){return l.h||(l.h=l.i())}(this.u?this.u:Mo),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(n,String(l),!0),this.F=!1}catch(b){return void ec(this,b)}l=a||"";const g=new Oe(this.headers);d&&Ee(d,function(b,E){g.set(E,b)}),d=function ve(l){e:{var n=Ys;const a=l.length,d="string"==typeof l?l.split(""):l;for(let g=0;g<a;g++)if(g in d&&n.call(void 0,d[g],g,l)){n=g;break e}n=-1}return 0>n?null:"string"==typeof l?l.charAt(n):l[n]}(g.T()),a=Y.FormData&&l instanceof Y.FormData,!(0<=Ve(ol,n))||d||a||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,E){this.g.setRequestHeader(E,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sl(this),0<this.B&&((this.K=function Vs(l){return vr&&function ri(){return function wr(l){var n=ji;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=l(9)}(function(){let l=0;const n=Te(String(Kr)).split("."),a=Te("9").split("."),d=Math.max(n.length,a.length);for(let E=0;0==l&&E<d;E++){var g=n[E]||"",b=a[E]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==g[0].length&&0==b[0].length)break;l=yt(0==g[1].length?0:parseInt(g[1],10),0==b[1].length?0:parseInt(b[1],10))||yt(0==g[2].length,0==b[2].length)||yt(g[2],b[2]),g=g[3],b=b[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=Yt(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(b){ec(this,b)}},J.pa=function(){void 0!==ne&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))},J.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),bc(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),bc(this,!0)),cr.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?yc(this):this.cb())},J.cb=function(){yc(this)},J.ba=function(){try{return 2<No(this)?this.g.status:-1}catch(l){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},J.Qa=function(l){if(this.g){var n=this.g.responseText;return l&&0==n.indexOf(l)&&(n=n.substring(l.length)),en(n)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=es.prototype).ma=8,J.G=1,J.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(n){}},J.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const g=new To(this,this.h,l,void 0);let b=this.s;if(this.P&&(b?(b=Wt(b),rr(b,this.P)):b=this.P),null===this.o&&(g.H=b),this.ja)e:{for(var n=0,a=0;a<this.l.length;a++){var d=this.l[a];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(n+=d)){n=a;break e}if(4096===n||a===this.l.length-1){n=a+1;break e}}n=1e3}else n=1e3;n=cl(this,g,n),oe(a=we(this.F),"RID",l),oe(a,"CVER",22),this.D&&oe(a,"X-HTTP-Session-Id",this.D),js(this,a),this.o&&b&&ha(a,this.o,b),Or(this.i,g),this.Ra&&oe(a,"TYPE","init"),this.ja?(oe(a,"$req",n),oe(a,"SID","null"),g.$=!0,Yo(g,a,null)):Yo(g,a,n),this.G=2}}else 3==this.G&&(l?Ll(this,l):0==this.l.length||ii(this.i)||Ll(this))},J.Ga=function(){if(this.u=null,Ra(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=ze(ke(this.bb,this),l)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jr(10),Qi(this),Ra(this))},J.ab=function(){null!=this.v&&(this.v=null,Qi(this),Na(this),Jr(19))},J.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Jr(2)):(this.h.info("Failed to ping google.com"),Jr(1))},(J=Bi.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},tc.prototype.g=function(l,n){return new Es(l,n)},$e(Es,Se),Es.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,n=this.l,a=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),Cn(ke(l.hb,l,n))),Jr(0),l.W=n,l.aa=a||{},l.N=l.X,l.F=_o(l,null,l.W),Qs(l)},Es.prototype.close=function(){Fc(this.g)},Es.prototype.u=function(l){if("string"==typeof l){var n={};n.__data__=l,fa(this.g,n)}else this.v?((n={}).__data__=qt(l),fa(this.g,n)):fa(this.g,l)},Es.prototype.M=function(){this.g.j=null,delete this.j,Fc(this.g),delete this.g,Es.Z.M.call(this)},$e(Eu,Ir),$e(Uc,gi),$e(fo,Bi),fo.prototype.xa=function(){lt(this.g,"a")},fo.prototype.wa=function(l){lt(this.g,new Eu(l))},fo.prototype.va=function(l){lt(this.g,new Uc(l))},fo.prototype.ua=function(){lt(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,Es.prototype.send=Es.prototype.u,Es.prototype.open=Es.prototype.m,Es.prototype.close=Es.prototype.close,Tt.NO_ERROR=0,Tt.TIMEOUT=8,Tt.HTTP_ERROR=6,Vt.COMPLETE="complete",Dr.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",Se.prototype.listen=Se.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var gd=Q.createWebChannelTransport=function(){return new tc},ma=Q.getStatEventTarget=function(){return to()},Ws=Q.ErrorCode=Tt,Zs=Q.EventType=Vt,li=Q.Event=Lr,nc=Q.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},sh=Q.FetchXmlHttpFactory=Vo,ts=Q.WebChannel=Dr,La=Q.XhrIo=cr;const rc="@firebase/firestore";class io{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}io.UNAUTHENTICATED=new io(null),io.GOOGLE_CREDENTIALS=new io("google-credentials-uid"),io.FIRST_PARTY=new io("first-party-uid"),io.MOCK_USER=new io("mock-user");let So="9.6.9";const ns=new N.Yd("@firebase/firestore");function qs(){return ns.logLevel}function vn(l,...n){if(ns.logLevel<=N.in.DEBUG){const a=n.map(ll);ns.debug(`Firestore (${So}): ${l}`,...a)}}function ui(l,...n){if(ns.logLevel<=N.in.ERROR){const a=n.map(ll);ns.error(`Firestore (${So}): ${l}`,...a)}}function ic(l,...n){if(ns.logLevel<=N.in.WARN){const a=n.map(ll);ns.warn(`Firestore (${So}): ${l}`,...a)}}function ll(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(a){return l}}function Jn(l="Unexpected state"){const n=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+l;throw ui(n),new Error(n)}function Tr(l,n){l||Jn()}function Nn(l,n){return l}const Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends O.ZR{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}class mi{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(io.UNAUTHENTICATED))}shutdown(){}}class md{constructor(n){this.t=n,this.currentUser=io.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){var d=this;let g=this.i;const b=de=>this.i!==g?(g=this.i,a(de)):Promise.resolve();let E=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ii,n.enqueueRetryable(()=>b(this.currentUser))};const F=()=>{const de=E;n.enqueueRetryable((0,p.Z)(function*(){yield de.promise,yield b(d.currentUser)}))},X=de=>{vn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=de,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(de=>X(de)),setTimeout(()=>{if(!this.auth){const de=this.t.getImmediate({optional:!0});de?X(de):(vn("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ii)}},0),F()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(d=>this.i!==n?(vn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(Tr("string"==typeof d.accessToken),new mi(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Tr(null===n||"string"==typeof n),new io(n)}}class Fl{constructor(n,a,d){this.type="FirstParty",this.user=io.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",a);const g=n.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),d&&this.headers.set("X-Goog-Iam-Authorization-Token",d)}}class k{constructor(n,a,d){this.h=n,this.l=a,this.m=d}getToken(){return Promise.resolve(new Fl(this.h,this.l,this.m))}start(n,a){n.enqueueRetryable(()=>a(io.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,a){const d=b=>{null!=b.error&&vn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const E=b.token!==this.p;return this.p=b.token,vn("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?a(b.token):Promise.resolve()};this.o=b=>{n.enqueueRetryable(()=>d(b))};const g=b=>{vn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.g.onInit(b=>g(b)),setTimeout(()=>{if(!this.appCheck){const b=this.g.getImmediate({optional:!0});b?g(b):vn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(Tr("string"==typeof a.token),this.p=a.token,new P(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ${constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=d=>this.I(d),this.T=d=>a.writeSequenceNumber(d))}I(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.T&&this.T(n),n}}function ue(l){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(a);else for(let d=0;d<l;d++)a[d]=Math.floor(256*Math.random());return a}$.A=-1;class Ge{static R(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/n.length)*n.length;let d="";for(;d.length<20;){const g=ue(40);for(let b=0;b<g.length;++b)d.length<20&&g[b]<a&&(d+=n.charAt(g[b]%n.length))}return d}}function je(l,n){return l<n?-1:l>n?1:0}function Rt(l,n,a){return l.length===n.length&&l.every((d,g)=>a(d,n[g]))}class Rn{constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new on(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new on(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<-62135596800)throw new on(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new on(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Rn.fromMillis(Date.now())}static fromDate(n){return Rn.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),d=Math.floor(1e6*(n-1e3*a));return new Rn(a,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?je(this.nanoseconds,n.nanoseconds):je(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class xt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new xt(n)}static min(){return new xt(new Rn(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Nr(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Sr(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function ei(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class yi{constructor(n,a,d){void 0===a?a=0:a>n.length&&Jn(),void 0===d?d=n.length-a:d>n.length-a&&Jn(),this.segments=n,this.offset=a,this.len=d}get length(){return this.len}isEqual(n){return 0===yi.comparator(this,n)}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof yi?n.forEach(d=>{a.push(d)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,d=this.limit();a<d;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const d=Math.min(n.length,a.length);for(let g=0;g<d;g++){const b=n.get(g),E=a.get(g);if(b<E)return-1;if(b>E)return 1}return n.length<a.length?-1:n.length>a.length?1:0}}class lr extends yi{construct(n,a,d){return new lr(n,a,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const a=[];for(const d of n){if(d.indexOf("//")>=0)throw new on(Pt.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);a.push(...d.split("/").filter(g=>g.length>0))}return new lr(a)}static emptyPath(){return new lr([])}}const Fa=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class qi extends yi{construct(n,a,d){return new qi(n,a,d)}static isValidIdentifier(n){return Fa.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),qi.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new qi(["__name__"])}static fromServerFormat(n){const a=[];let d="",g=0;const b=()=>{if(0===d.length)throw new on(Pt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(d),d=""};let E=!1;for(;g<n.length;){const F=n[g];if("\\"===F){if(g+1===n.length)throw new on(Pt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const X=n[g+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new on(Pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);d+=X,g+=2}else"`"===F?(E=!E,g++):"."!==F||E?(d+=F,g++):(b(),g++)}if(b(),E)throw new on(Pt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new qi(a)}static emptyPath(){return new qi([])}}class ds{constructor(n){this.fields=n,n.sort(qi.comparator)}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Rt(this.fields,n.fields,(a,d)=>a.isEqual(d))}}class Xi{constructor(n){this.binaryString=n}static fromBase64String(n){const a=atob(n);return new Xi(a)}static fromUint8Array(n){const a=function(d){let g="";for(let b=0;b<d.length;++b)g+=String.fromCharCode(d[b]);return g}(n);return new Xi(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let d=0;d<n.length;d++)a[d]=n.charCodeAt(d);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return je(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const hl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _i(l){if(Tr(!!l),"string"==typeof l){let n=0;const a=hl.exec(l);if(Tr(!!a),a[1]){let g=a[1];g=(g+"000000000").substr(0,9),n=Number(g)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:n}}return{seconds:bi(l.seconds),nanos:bi(l.nanos)}}function bi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function hs(l){return"string"==typeof l?Xi.fromBase64String(l):Xi.fromUint8Array(l)}function Du(l){var n,a;return"server_timestamp"===(null===(a=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Bl(l){const n=l.mapValue.fields.__previous_value__;return Du(n)?Bl(n):n}function Eo(l){const n=_i(l.mapValue.fields.__local_write_time__.timestampValue);return new Rn(n.seconds,n.nanos)}class Ul{constructor(n,a,d,g,b,E,F,X){this.databaseId=n,this.appId=a,this.persistenceKey=d,this.host=g,this.ssl=b,this.forceLongPolling=E,this.autoDetectLongPolling=F,this.useFetchStreams=X}}class Sc{constructor(n,a){this.projectId=n,this.database=a||"(default)"}static empty(){return new Sc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof Sc&&n.projectId===this.projectId&&n.database===this.database}}function $r(l){return null==l}function jo(l){return 0===l&&1/l==-1/0}class Ln{constructor(n){this.path=n}static fromPath(n){return new Ln(lr.fromString(n))}static fromName(n){return new Ln(lr.fromString(n).popFirst(5))}static empty(){return new Ln(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===lr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,a){return lr.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ln(new lr(n.slice()))}}function Ba(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?Du(l)?4:Au(l)?9:10:Jn()}function Ti(l,n){if(l===n)return!0;const a=Ba(l);if(a!==Ba(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Eo(l).isEqual(Eo(n));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;const b=_i(d.timestampValue),E=_i(g.timestampValue);return b.seconds===E.seconds&&b.nanos===E.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return g=n,hs(l.bytesValue).isEqual(hs(g.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(d,g){return bi(d.geoPointValue.latitude)===bi(g.geoPointValue.latitude)&&bi(d.geoPointValue.longitude)===bi(g.geoPointValue.longitude)}(l,n);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return bi(d.integerValue)===bi(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){const b=bi(d.doubleValue),E=bi(g.doubleValue);return b===E?jo(b)===jo(E):isNaN(b)&&isNaN(E)}return!1}(l,n);case 9:return Rt(l.arrayValue.values||[],n.arrayValue.values||[],Ti);case 10:return function(d,g){const b=d.mapValue.fields||{},E=g.mapValue.fields||{};if(Nr(b)!==Nr(E))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===E[F]||!Ti(b[F],E[F])))return!1;return!0}(l,n);default:return Jn()}var g}function _a(l,n){return void 0!==(l.values||[]).find(a=>Ti(a,n))}function Vc(l,n){if(l===n)return 0;const a=Ba(l),d=Ba(n);if(a!==d)return je(a,d);switch(a){case 0:case 9007199254740991:return 0;case 1:return je(l.booleanValue,n.booleanValue);case 2:return function(g,b){const E=bi(g.integerValue||g.doubleValue),F=bi(b.integerValue||b.doubleValue);return E<F?-1:E>F?1:E===F?0:isNaN(E)?isNaN(F)?0:-1:1}(l,n);case 3:return Pi(l.timestampValue,n.timestampValue);case 4:return Pi(Eo(l),Eo(n));case 5:return je(l.stringValue,n.stringValue);case 6:return function(g,b){const E=hs(g),F=hs(b);return E.compareTo(F)}(l.bytesValue,n.bytesValue);case 7:return function(g,b){const E=g.split("/"),F=b.split("/");for(let X=0;X<E.length&&X<F.length;X++){const de=je(E[X],F[X]);if(0!==de)return de}return je(E.length,F.length)}(l.referenceValue,n.referenceValue);case 8:return function(g,b){const E=je(bi(g.latitude),bi(b.latitude));return 0!==E?E:je(bi(g.longitude),bi(b.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(g,b){const E=g.values||[],F=b.values||[];for(let X=0;X<E.length&&X<F.length;++X){const de=Vc(E[X],F[X]);if(de)return de}return je(E.length,F.length)}(l.arrayValue,n.arrayValue);case 10:return function(g,b){const E=g.fields||{},F=Object.keys(E),X=b.fields||{},de=Object.keys(X);F.sort(),de.sort();for(let Ze=0;Ze<F.length&&Ze<de.length;++Ze){const ot=je(F[Ze],de[Ze]);if(0!==ot)return ot;const It=Vc(E[F[Ze]],X[de[Ze]]);if(0!==It)return It}return je(F.length,de.length)}(l.mapValue,n.mapValue);default:throw Jn()}}function Pi(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return je(l,n);const a=_i(l),d=_i(n),g=je(a.seconds,d.seconds);return 0!==g?g:je(a.nanos,d.nanos)}function va(l){return jc(l)}function jc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(d){const g=_i(d);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?hs(l.bytesValue).toBase64():"referenceValue"in l?Ln.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(n=l.geoPointValue).latitude},${n.longitude})`:"arrayValue"in l?function(d){let g="[",b=!0;for(const E of d.values||[])b?b=!1:g+=",",g+=jc(E);return g+"]"}(l.arrayValue):"mapValue"in l?function(d){const g=Object.keys(d.fields||{}).sort();let b="{",E=!0;for(const F of g)E?E=!1:b+=",",b+=`${F}:${jc(d.fields[F])}`;return b+"}"}(l.mapValue):Jn();var n}function Gl(l){return!!l&&"integerValue"in l}function oo(l){return!!l&&"arrayValue"in l}function ea(l){return!!l&&"nullValue"in l}function fl(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function ya(l){return!!l&&"mapValue"in l}function zs(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Sr(l.mapValue.fields,(a,d)=>n.mapValue.fields[a]=zs(d)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=zs(l.arrayValue.values[a]);return n}return Object.assign({},l)}function Au(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class so{constructor(n){this.value=n}static empty(){return new so({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let d=0;d<n.length-1;++d)if(a=(a.mapValue.fields||{})[n.get(d)],!ya(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=zs(a)}setAll(n){let a=qi.emptyPath(),d={},g=[];n.forEach((E,F)=>{if(!a.isImmediateParentOf(F)){const X=this.getFieldsMap(a);this.applyChanges(X,d,g),d={},g=[],a=F.popLast()}E?d[F.lastSegment()]=zs(E):g.push(F.lastSegment())});const b=this.getFieldsMap(a);this.applyChanges(b,d,g)}delete(n){const a=this.field(n.popLast());ya(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Ti(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let d=0;d<n.length;++d){let g=a.mapValue.fields[n.get(d)];ya(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},a.mapValue.fields[n.get(d)]=g),a=g}return a.mapValue.fields}applyChanges(n,a,d){Sr(a,(g,b)=>n[g]=b);for(const g of d)delete n[g]}clone(){return new so(zs(this.value))}}function Wc(l){const n=[];return Sr(l.fields,(a,d)=>{const g=new qi([a]);if(ya(d)){const b=Wc(d.mapValue).fields;if(0===b.length)n.push(g);else for(const E of b)n.push(g.child(E))}else n.push(g)}),new ds(n)}class Ci{constructor(n,a,d,g,b,E){this.key=n,this.documentType=a,this.version=d,this.readTime=g,this.data=b,this.documentState=E}static newInvalidDocument(n){return new Ci(n,0,xt.min(),xt.min(),so.empty(),0)}static newFoundDocument(n,a,d){return new Ci(n,1,a,xt.min(),d,0)}static newNoDocument(n,a){return new Ci(n,2,a,xt.min(),so.empty(),0)}static newUnknownDocument(n,a){return new Ci(n,3,a,xt.min(),so.empty(),2)}convertToFoundDocument(n,a){return this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=so.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=so.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ci&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vl{constructor(n,a=null,d=[],g=[],b=null,E=null,F=null){this.path=n,this.collectionGroup=a,this.orderBy=d,this.filters=g,this.limit=b,this.startAt=E,this.endAt=F,this.P=null}}function ch(l,n=null,a=[],d=[],g=null,b=null,E=null){return new Vl(l,n,a,d,g,b,E)}function Ua(l){const n=Nn(l);if(null===n.P){let a=n.path.canonicalString();null!==n.collectionGroup&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(d=>{return(g=d).field.canonicalString()+g.op.toString()+va(g.value);var g}).join(","),a+="|ob:",a+=n.orderBy.map(d=>{return(g=d).field.canonicalString()+g.dir;var g}).join(","),$r(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(d=>va(d)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(d=>va(d)).join(",")),n.P=a}return n.P}function ba(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!ln(l.orderBy[g],n.orderBy[g]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((a=l.filters[g]).op!==(d=n.filters[g]).op||!a.field.isEqual(d.field)||!Ti(a.value,d.value))return!1;var a,d;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!mr(l.startAt,n.startAt)&&mr(l.endAt,n.endAt)}function yo(l){return Ln.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class Ro extends class{}{constructor(n,a,d){super(),this.field=n,this.op=a,this.value=d}static create(n,a,d){return n.isKeyField()?"in"===a||"not-in"===a?this.V(n,a,d):new qc(n,a,d):"array-contains"===a?new U(n,d):"in"===a?new Z(n,d):"not-in"===a?new ae(n,d):"array-contains-any"===a?new qe(n,d):new Ro(n,a,d)}static V(n,a,d){return"in"===a?new xu(n,d):new fs(n,d)}matches(n){const a=n.data.field(this.field);return"!="===this.op?null!==a&&this.v(Vc(a,this.value)):null!==a&&Ba(this.value)===Ba(a)&&this.v(Vc(a,this.value))}v(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Jn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qc extends Ro{constructor(n,a,d){super(n,a,d),this.key=Ln.fromName(d.referenceValue)}matches(n){const a=Ln.comparator(n.key,this.key);return this.v(a)}}class xu extends Ro{constructor(n,a){super(n,"in",a),this.keys=Ta(0,a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class fs extends Ro{constructor(n,a){super(n,"not-in",a),this.keys=Ta(0,a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function Ta(l,n){var a;return((null===(a=n.arrayValue)||void 0===a?void 0:a.values)||[]).map(d=>Ln.fromName(d.referenceValue))}class U extends Ro{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return oo(a)&&_a(a.arrayValue,this.value)}}class Z extends Ro{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return null!==a&&_a(this.value.arrayValue,a)}}class ae extends Ro{constructor(n,a){super(n,"not-in",a)}matches(n){if(_a(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return null!==a&&!_a(this.value.arrayValue,a)}}class qe extends Ro{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!oo(a)||!a.arrayValue.values)&&a.arrayValue.values.some(d=>_a(this.value.arrayValue,d))}}class mt{constructor(n,a){this.position=n,this.inclusive=a}}class At{constructor(n,a="asc"){this.field=n,this.dir=a}}function ln(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}function Mn(l,n,a){let d=0;for(let g=0;g<l.position.length;g++){const b=n[g],E=l.position[g];if(d=b.field.isKeyField()?Ln.comparator(Ln.fromName(E.referenceValue),a.key):Vc(E,a.data.field(b.field)),"desc"===b.dir&&(d*=-1),0!==d)break}return d}function mr(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!Ti(l.position[a],n.position[a]))return!1;return!0}class fr{constructor(n,a=null,d=[],g=[],b=null,E="F",F=null,X=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=d,this.filters=g,this.limit=b,this.limitType=E,this.startAt=F,this.endAt=X,this.D=null,this.C=null}}function Cr(l){return new fr(l)}function ko(l){return!$r(l.limit)&&"F"===l.limitType}function ao(l){return!$r(l.limit)&&"L"===l.limitType}function Ho(l){const n=Nn(l);if(null===n.D){n.D=[];const a=function ta(l){for(const n of l.filters)if(n.S())return n.field;return null}(n),d=function ps(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(n);if(null!==a&&null===d)a.isKeyField()||n.D.push(new At(a)),n.D.push(new At(qi.keyField(),"asc"));else{let g=!1;for(const b of n.explicitOrderBy)n.D.push(b),b.field.isKeyField()&&(g=!0);if(!g){const b=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.D.push(new At(qi.keyField(),b))}}}return n.D}function zi(l){const n=Nn(l);if(!n.C)if("F"===n.limitType)n.C=ch(n.path,n.collectionGroup,Ho(n),n.filters,n.limit,n.startAt,n.endAt);else{const a=[];for(const b of Ho(n))a.push(new At(b.field,"desc"===b.dir?"asc":"desc"));const d=n.endAt?new mt(n.endAt.position,!n.endAt.inclusive):null,g=n.startAt?new mt(n.startAt.position,!n.startAt.inclusive):null;n.C=ch(n.path,n.collectionGroup,a,n.filters,n.limit,d,g)}return n.C}function ml(l,n){return ba(zi(l),zi(n))&&l.limitType===n.limitType}function jl(l){return`${Ua(zi(l))}|lt:${l.limitType}`}function Ec(l){return`Query(target=${function ac(l){let n=l.path.canonicalString();return null!==l.collectionGroup&&(n+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(n+=`, filters: [${l.filters.map(a=>{return`${(d=a).field.canonicalString()} ${d.op} ${va(d.value)}`;var d}).join(", ")}]`),$r(l.limit)||(n+=", limit: "+l.limit),l.orderBy.length>0&&(n+=`, orderBy: [${l.orderBy.map(a=>{return`${(d=a).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),l.startAt&&(n+=", startAt: ",n+=l.startAt.inclusive?"b:":"a:",n+=l.startAt.position.map(a=>va(a)).join(",")),l.endAt&&(n+=", endAt: ",n+=l.endAt.inclusive?"a:":"b:",n+=l.endAt.position.map(a=>va(a)).join(",")),`Target(${n})`}(zi(l))}; limitType=${l.limitType})`}function Hl(l,n){return n.isFoundDocument()&&function(a,d){const g=d.key.path;return null!==a.collectionGroup?d.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(g):Ln.isDocumentKey(a.path)?a.path.isEqual(g):a.path.isImmediateParentOf(g)}(l,n)&&function(a,d){for(const g of a.explicitOrderBy)if(!g.field.isKeyField()&&null===d.data.field(g.field))return!1;return!0}(l,n)&&function(a,d){for(const g of a.filters)if(!g.matches(d))return!1;return!0}(l,n)&&(d=n,!((a=l).startAt&&!function(g,b,E){const F=Mn(g,b,E);return g.inclusive?F<=0:F<0}(a.startAt,Ho(a),d)||a.endAt&&!function(g,b,E){const F=Mn(g,b,E);return g.inclusive?F>=0:F>0}(a.endAt,Ho(a),d)));var a,d}function bd(l){return(n,a)=>{let d=!1;for(const g of Ho(l)){const b=Iu(g,n,a);if(0!==b)return b;d=d||g.field.isKeyField()}return 0}}function Iu(l,n,a){const d=l.field.isKeyField()?Ln.comparator(n.key,a.key):function(g,b,E){const F=b.data.field(g),X=E.data.field(g);return null!==F&&null!==X?Vc(F,X):Jn()}(l.field,n,a);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return Jn()}}function Lo(l,n){if(l.N){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jo(n)?"-0":n}}function Pu(l){return{integerValue:""+l}}function is(l,n){return function _d(l){return"number"==typeof l&&Number.isInteger(l)&&!jo(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(n)?Pu(n):Lo(l,n)}class Mu{constructor(){this._=void 0}}function nf(l,n,a){return l instanceof Wl?function(d,g){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return g&&(b.fields.__previous_value__=g),{mapValue:b}}(a,n):l instanceof cc?lh(l,n):l instanceof na?Td(l,n):function(d,g){const b=rf(d,g),E=Ou(b)+Ou(d.k);return Gl(b)&&Gl(d.k)?Pu(E):Lo(d.M,E)}(l,n)}function Ep(l,n,a){return l instanceof cc?lh(l,n):l instanceof na?Td(l,n):a}function rf(l,n){return l instanceof Ga?Gl(a=n)||(d=a)&&"doubleValue"in d?n:{integerValue:0}:null;var d,a}class Wl extends Mu{}class cc extends Mu{constructor(n){super(),this.elements=n}}function lh(l,n){const a=sf(n);for(const d of l.elements)a.some(g=>Ti(g,d))||a.push(d);return{arrayValue:{values:a}}}class na extends Mu{constructor(n){super(),this.elements=n}}function Td(l,n){let a=sf(n);for(const d of l.elements)a=a.filter(g=>!Ti(g,d));return{arrayValue:{values:a}}}class Ga extends Mu{constructor(n,a){super(),this.M=n,this.k=a}}function Ou(l){return bi(l.integerValue||l.doubleValue)}function sf(l){return oo(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class ql{constructor(n,a){this.version=n,this.transformResults=a}}class Vi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new Vi}static exists(n){return new Vi(void 0,n)}static updateTime(n){return new Vi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Ru(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class ku{}function _l(l,n,a){l instanceof Lu?function(d,g,b){const E=d.value.clone(),F=uf(d.fieldTransforms,g,b.transformResults);E.setAll(F),g.convertToFoundDocument(b.version,E).setHasCommittedMutations()}(l,n,a):l instanceof Os?function(d,g,b){if(!Ru(d.precondition,g))return void g.convertToUnknownDocument(b.version);const E=uf(d.fieldTransforms,g,b.transformResults),F=g.data;F.setAll(wc(d)),F.setAll(E),g.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(l,n,a):n.convertToNoDocument(a.version).setHasCommittedMutations()}function uh(l,n,a){var g;l instanceof Lu?function(d,g,b){if(!Ru(d.precondition,g))return;const E=d.value.clone(),F=zl(d.fieldTransforms,b,g);E.setAll(F),g.convertToFoundDocument(lf(g),E).setHasLocalMutations()}(l,n,a):l instanceof Os?function(d,g,b){if(!Ru(d.precondition,g))return;const E=zl(d.fieldTransforms,b,g),F=g.data;F.setAll(wc(d)),F.setAll(E),g.convertToFoundDocument(lf(g),F).setHasLocalMutations()}(l,n,a):Ru(l.precondition,g=n)&&g.convertToNoDocument(xt.min())}function af(l,n){let a=null;for(const d of l.fieldTransforms){const g=n.data.field(d.field),b=rf(d.transform,g||null);null!=b&&(null==a&&(a=so.empty()),a.set(d.field,b))}return a||null}function cf(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(d=n.fieldTransforms,!!(void 0===(a=l.fieldTransforms)&&void 0===d||a&&d&&Rt(a,d,(g,b)=>function Zl(l,n){return l.field.isEqual(n.field)&&(d=n.transform,(a=l.transform)instanceof cc&&d instanceof cc||a instanceof na&&d instanceof na?Rt(a.elements,d.elements,Ti):a instanceof Ga&&d instanceof Ga?Ti(a.k,d.k):a instanceof Wl&&d instanceof Wl);var a,d}(g,b))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var a,d}function lf(l){return l.isFoundDocument()?l.version:xt.min()}class Lu extends ku{constructor(n,a,d,g=[]){super(),this.key=n,this.value=a,this.precondition=d,this.fieldTransforms=g,this.type=0}}class Os extends ku{constructor(n,a,d,g,b=[]){super(),this.key=n,this.data=a,this.fieldMask=d,this.precondition=g,this.fieldTransforms=b,this.type=1}}function wc(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const d=l.data.field(a);n.set(a,d)}}),n}function uf(l,n,a){const d=new Map;Tr(l.length===a.length);for(let g=0;g<a.length;g++){const b=l[g],E=b.transform,F=n.data.field(b.field);d.set(b.field,Ep(E,F,a[g]))}return d}function zl(l,n,a){const d=new Map;for(const g of l){const b=g.transform,E=a.data.field(g.field);d.set(g.field,nf(b,E,n))}return d}class vl extends ku{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class dh extends ku{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class wp{constructor(n){this.count=n}}var wo,hi;function hh(l){switch(l){default:return Jn();case Pt.CANCELLED:case Pt.UNKNOWN:case Pt.DEADLINE_EXCEEDED:case Pt.RESOURCE_EXHAUSTED:case Pt.INTERNAL:case Pt.UNAVAILABLE:case Pt.UNAUTHENTICATED:return!1;case Pt.INVALID_ARGUMENT:case Pt.NOT_FOUND:case Pt.ALREADY_EXISTS:case Pt.PERMISSION_DENIED:case Pt.FAILED_PRECONDITION:case Pt.ABORTED:case Pt.OUT_OF_RANGE:case Pt.UNIMPLEMENTED:case Pt.DATA_LOSS:return!0}}function fh(l){if(void 0===l)return ui("GRPC error has no .code"),Pt.UNKNOWN;switch(l){case wo.OK:return Pt.OK;case wo.CANCELLED:return Pt.CANCELLED;case wo.UNKNOWN:return Pt.UNKNOWN;case wo.DEADLINE_EXCEEDED:return Pt.DEADLINE_EXCEEDED;case wo.RESOURCE_EXHAUSTED:return Pt.RESOURCE_EXHAUSTED;case wo.INTERNAL:return Pt.INTERNAL;case wo.UNAVAILABLE:return Pt.UNAVAILABLE;case wo.UNAUTHENTICATED:return Pt.UNAUTHENTICATED;case wo.INVALID_ARGUMENT:return Pt.INVALID_ARGUMENT;case wo.NOT_FOUND:return Pt.NOT_FOUND;case wo.ALREADY_EXISTS:return Pt.ALREADY_EXISTS;case wo.PERMISSION_DENIED:return Pt.PERMISSION_DENIED;case wo.FAILED_PRECONDITION:return Pt.FAILED_PRECONDITION;case wo.ABORTED:return Pt.ABORTED;case wo.OUT_OF_RANGE:return Pt.OUT_OF_RANGE;case wo.UNIMPLEMENTED:return Pt.UNIMPLEMENTED;case wo.DATA_LOSS:return Pt.DATA_LOSS;default:return Jn()}}(hi=wo||(wo={}))[hi.OK=0]="OK",hi[hi.CANCELLED=1]="CANCELLED",hi[hi.UNKNOWN=2]="UNKNOWN",hi[hi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hi[hi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hi[hi.NOT_FOUND=5]="NOT_FOUND",hi[hi.ALREADY_EXISTS=6]="ALREADY_EXISTS",hi[hi.PERMISSION_DENIED=7]="PERMISSION_DENIED",hi[hi.UNAUTHENTICATED=16]="UNAUTHENTICATED",hi[hi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hi[hi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hi[hi.ABORTED=10]="ABORTED",hi[hi.OUT_OF_RANGE=11]="OUT_OF_RANGE",hi[hi.UNIMPLEMENTED=12]="UNIMPLEMENTED",hi[hi.INTERNAL=13]="INTERNAL",hi[hi.UNAVAILABLE=14]="UNAVAILABLE",hi[hi.DATA_LOSS=15]="DATA_LOSS";class Mi{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0!==d)for(const[g,b]of d)if(this.equalsFn(g,n))return b}has(n){return void 0!==this.get(n)}set(n,a){const d=this.mapKeyFn(n),g=this.inner[d];if(void 0===g)return this.inner[d]=[[n,a]],void this.innerSize++;for(let b=0;b<g.length;b++)if(this.equalsFn(g[b][0],n))return void(g[b]=[n,a]);g.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],n))return 1===d.length?delete this.inner[a]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(n){Sr(this.inner,(a,d)=>{for(const[g,b]of d)n(g,b)})}isEmpty(){return ei(this.inner)}size(){return this.innerSize}}class bo{constructor(n,a){this.comparator=n,this.root=a||Ds.EMPTY}insert(n,a){return new bo(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ds.BLACK,null,null))}remove(n){return new bo(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ds.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const d=this.comparator(n,a.key);if(0===d)return a.value;d<0?a=a.left:d>0&&(a=a.right)}return null}indexOf(n){let a=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(n,d.key);if(0===g)return a+d.left.size;g<0?d=d.left:(a+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,d)=>(n(a,d),!1))}toString(){const n=[];return this.inorderTraversal((a,d)=>(n.push(`${a}:${d}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new ph(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new ph(this.root,n,this.comparator,!1)}getReverseIterator(){return new ph(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new ph(this.root,n,this.comparator,!0)}}class ph{constructor(n,a,d,g){this.isReverse=g,this.nodeStack=[];let b=1;for(;!n.isEmpty();)if(b=a?d(n.key,a):1,a&&g&&(b*=-1),b<0)n=this.isReverse?n.left:n.right;else{if(0===b){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ds{constructor(n,a,d,g,b){this.key=n,this.value=a,this.color=null!=d?d:Ds.RED,this.left=null!=g?g:Ds.EMPTY,this.right=null!=b?b:Ds.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,d,g,b){return new Ds(null!=n?n:this.key,null!=a?a:this.value,null!=d?d:this.color,null!=g?g:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,d){let g=this;const b=d(n,g.key);return g=b<0?g.copy(null,null,null,g.left.insert(n,a,d),null):0===b?g.copy(null,a,null,null,null):g.copy(null,null,null,null,g.right.insert(n,a,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Ds.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let d,g=this;if(a(n,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(n,a),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===a(n,g.key)){if(g.right.isEmpty())return Ds.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(n,a))}return g.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ds.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ds.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jn();const n=this.left.check();if(n!==this.right.check())throw Jn();return n+(this.isRed()?0:1)}}Ds.EMPTY=null,Ds.RED=!0,Ds.BLACK=!1,Ds.EMPTY=new class{constructor(){this.size=0}get key(){throw Jn()}get value(){throw Jn()}get color(){throw Jn()}get left(){throw Jn()}get right(){throw Jn()}copy(l,n,a,d,g){return this}insert(l,n,a){return new Ds(l,n)}remove(l,n){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(n){this.comparator=n,this.data=new bo(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,d)=>(n(a),!1))}forEachInRange(n,a){const d=this.data.getIteratorFrom(n[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,n[1])>=0)return;a(g.key)}}forEachWhile(n,a){let d;for(d=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();d.hasNext();)if(!n(d.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new yl(this.data.getIterator())}getIteratorFrom(n){return new yl(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(d=>{a=a.add(d)}),a}isEqual(n){if(!(n instanceof Ri)||this.size!==n.size)return!1;const a=this.data.getIterator(),d=n.data.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(0!==this.comparator(g,b))return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new Ri(this.comparator);return a.data=n,a}}class yl{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Fu=new bo(Ln.comparator);function $i(){return Fu}const df=new bo(Ln.comparator);function gs(){return df}function gh(){return new Mi(l=>l.toString(),(l,n)=>l.isEqual(n))}const J_=new bo(Ln.comparator),hm=new Ri(Ln.comparator);function Di(...l){let n=hm;for(const a of l)n=n.add(a);return n}const hf=new Ri(je);function Bu(){return hf}class mh{constructor(n,a,d,g,b){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(n,a){const d=new Map;return d.set(n,_h.createSynthesizedTargetChangeForCurrentChange(n,a)),new mh(xt.min(),d,Bu(),$i(),Di())}}class _h{constructor(n,a,d,g,b){this.resumeToken=n,this.current=a,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(n,a){return new _h(Xi.EMPTY_BYTE_STRING,a,Di(),Di(),Di())}}class Cd{constructor(n,a,d,g){this.O=n,this.removedTargetIds=a,this.key=d,this.$=g}}class Dp{constructor(n,a){this.targetId=n,this.F=a}}class Ap{constructor(n,a,d=Xi.EMPTY_BYTE_STRING,g=null){this.state=n,this.targetIds=a,this.resumeToken=d,this.cause=g}}class xp{constructor(){this.B=0,this.L=Sd(),this.q=Xi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(n){n.approximateByteSize()>0&&(this.K=!0,this.q=n)}H(){let n=Di(),a=Di(),d=Di();return this.L.forEach((g,b)=>{switch(b){case 0:n=n.add(g);break;case 2:a=a.add(g);break;case 1:d=d.add(g);break;default:Jn()}}),new _h(this.q,this.U,n,a,d)}J(){this.K=!1,this.L=Sd()}Y(n,a){this.K=!0,this.L=this.L.insert(n,a)}X(n){this.K=!0,this.L=this.L.remove(n)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class fm{constructor(n){this.nt=n,this.st=new Map,this.it=$i(),this.rt=ff(),this.ot=new Ri(je)}at(n){for(const a of n.O)n.$&&n.$.isFoundDocument()?this.ut(a,n.$):this.ct(a,n.key,n.$);for(const a of n.removedTargetIds)this.ct(a,n.key,n.$)}ht(n){this.forEachTarget(n,a=>{const d=this.lt(a);switch(n.state){case 0:this.ft(a)&&d.W(n.resumeToken);break;case 1:d.tt(),d.G||d.J(),d.W(n.resumeToken);break;case 2:d.tt(),d.G||this.removeTarget(a);break;case 3:this.ft(a)&&(d.et(),d.W(n.resumeToken));break;case 4:this.ft(a)&&(this.dt(a),d.W(n.resumeToken));break;default:Jn()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.st.forEach((d,g)=>{this.ft(g)&&a(g)})}_t(n){const a=n.targetId,d=n.F.count,g=this.wt(a);if(g){const b=g.target;if(yo(b))if(0===d){const E=new Ln(b.path);this.ct(a,E,Ci.newNoDocument(E,xt.min()))}else Tr(1===d);else this.gt(a)!==d&&(this.dt(a),this.ot=this.ot.add(a))}}yt(n){const a=new Map;this.st.forEach((b,E)=>{const F=this.wt(E);if(F){if(b.current&&yo(F.target)){const X=new Ln(F.target.path);null!==this.it.get(X)||this.It(E,X)||this.ct(E,X,Ci.newNoDocument(X,n))}b.j&&(a.set(E,b.H()),b.J())}});let d=Di();this.rt.forEach((b,E)=>{let F=!0;E.forEachWhile(X=>{const de=this.wt(X);return!de||2===de.purpose||(F=!1,!1)}),F&&(d=d.add(b))}),this.it.forEach((b,E)=>E.setReadTime(n));const g=new mh(n,a,this.ot,this.it,d);return this.it=$i(),this.rt=ff(),this.ot=new Ri(je),g}ut(n,a){if(!this.ft(n))return;const d=this.It(n,a.key)?2:0;this.lt(n).Y(a.key,d),this.it=this.it.insert(a.key,a),this.rt=this.rt.insert(a.key,this.Tt(a.key).add(n))}ct(n,a,d){if(!this.ft(n))return;const g=this.lt(n);this.It(n,a)?g.Y(a,1):g.X(a),this.rt=this.rt.insert(a,this.Tt(a).delete(n)),d&&(this.it=this.it.insert(a,d))}removeTarget(n){this.st.delete(n)}gt(n){const a=this.lt(n).H();return this.nt.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Z(n){this.lt(n).Z()}lt(n){let a=this.st.get(n);return a||(a=new xp,this.st.set(n,a)),a}Tt(n){let a=this.rt.get(n);return a||(a=new Ri(je),this.rt=this.rt.insert(n,a)),a}ft(n){const a=null!==this.wt(n);return a||vn("WatchChangeAggregator","Detected inactive target",n),a}wt(n){const a=this.st.get(n);return a&&a.G?null:this.nt.Et(n)}dt(n){this.st.set(n,new xp),this.nt.getRemoteKeysForTarget(n).forEach(a=>{this.ct(n,a,null)})}It(n,a){return this.nt.getRemoteKeysForTarget(n).has(a)}}function ff(){return new bo(Ln.comparator)}function Sd(){return new bo(Ln.comparator)}const Ip={asc:"ASCENDING",desc:"DESCENDING"},pf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class pm{constructor(n,a){this.databaseId=n,this.N=a}}function lo(l,n){return l.N?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function gf(l,n){return l.N?n.toBase64():n.toUint8Array()}function gm(l,n){return lo(l,n.toTimestamp())}function Wo(l){return Tr(!!l),xt.fromTimestamp(function(n){const a=_i(n);return new Rn(a.seconds,a.nanos)}(l))}function vh(l,n){return(a=l,new lr(["projects",a.projectId,"databases",a.database])).child("documents").child(n).canonicalString();var a}function Pp(l){const n=lr.fromString(l);return Tr(Va(n)),n}function Ed(l,n){return vh(l.databaseId,n.path)}function Dc(l,n){const a=Pp(n);if(a.get(1)!==l.databaseId.projectId)throw new on(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new on(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new Ln(mm(a))}function Uu(l,n){return vh(l.databaseId,n)}function yh(l){return new lr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function mm(l){return Tr(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Gu(l,n,a){return{name:Ed(l,n),fields:a.value.mapValue.fields}}function bh(l,n){return{documents:[Uu(l,n.path)]}}function Np(l,n){const a={structuredQuery:{}},d=n.path;null!==n.collectionGroup?(a.parent=Uu(l,d),a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(a.parent=Uu(l,d.popLast()),a.structuredQuery.from=[{collectionId:d.lastSegment()}]);const g=function(X){if(0===X.length)return;const de=X.map(Ze=>function(ot){if("=="===ot.op){if(fl(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NAN"}};if(ea(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NULL"}}}else if("!="===ot.op){if(fl(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NOT_NAN"}};if(ea(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(ot.field),op:_m(ot.op),value:ot.value}}}(Ze));return 1===de.length?de[0]:{compositeFilter:{op:"AND",filters:de}}}(n.filters);g&&(a.structuredQuery.where=g);const b=function(X){if(0!==X.length)return X.map(de=>{return{field:$l((Ze=de).field),direction:Fp(Ze.dir)};var Ze})}(n.orderBy);b&&(a.structuredQuery.orderBy=b);const E=(de=n.limit,l.N||$r(de)?de:{value:de});var de,F,X;return null!==E&&(a.structuredQuery.limit=E),n.startAt&&(a.structuredQuery.startAt={before:(F=n.startAt).inclusive,values:F.position}),n.endAt&&(a.structuredQuery.endAt={before:!(X=n.endAt).inclusive,values:X.position}),a}function Rp(l){let n=function Mp(l){const n=Pp(l);return 4===n.length?lr.emptyPath():mm(n)}(l.parent);const a=l.structuredQuery,d=a.from?a.from.length:0;let g=null;if(d>0){Tr(1===d);const Ze=a.from[0];Ze.allDescendants?g=Ze.collectionId:n=n.child(Ze.collectionId)}let b=[];a.where&&(b=Lp(a.where));let E=[];a.orderBy&&(E=a.orderBy.map(Ze=>{return new At(ju((ot=Ze).field),function(It){switch(It){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let F=null;a.limit&&(F=function(Ze){let ot;return ot="object"==typeof Ze?Ze.value:Ze,$r(ot)?null:ot}(a.limit));let X=null;var Ze;a.startAt&&(X=new mt((Ze=a.startAt).values||[],!!Ze.before));let de=null;return a.endAt&&(de=function(Ze){return new mt(Ze.values||[],!Ze.before)}(a.endAt)),function ai(l,n,a,d,g,b,E,F){return new fr(l,n,a,d,g,b,E,F)}(n,g,E,b,F,"F",X,de)}function Lp(l){return l?void 0!==l.unaryFilter?[Dd(l)]:void 0!==l.fieldFilter?[vm(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(n=>Lp(n)).reduce((n,a)=>n.concat(a)):Jn():[]}function Fp(l){return Ip[l]}function _m(l){return pf[l]}function $l(l){return{fieldPath:l.canonicalString()}}function ju(l){return qi.fromServerFormat(l.fieldPath)}function vm(l){return Ro.create(ju(l.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jn()}}(l.fieldFilter.op),l.fieldFilter.value)}function Dd(l){switch(l.unaryFilter.op){case"IS_NAN":const n=ju(l.unaryFilter.field);return Ro.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ju(l.unaryFilter.field);return Ro.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=ju(l.unaryFilter.field);return Ro.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=ju(l.unaryFilter.field);return Ro.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Jn()}}function ym(l){const n=[];return l.fields.forEach(a=>n.push(a.canonicalString())),{fieldPaths:n}}function Va(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const Sm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ft{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new Ft((d,g)=>{this.nextCallback=b=>{this.wrapSuccess(n,b).next(d,g)},this.catchCallback=b=>{this.wrapFailure(a,b).next(d,g)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof Ft?a:Ft.resolve(a)}catch(a){return Ft.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):Ft.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):Ft.reject(a)}static resolve(n){return new Ft((a,d)=>{a(n)})}static reject(n){return new Ft((a,d)=>{d(n)})}static waitFor(n){return new Ft((a,d)=>{let g=0,b=0,E=!1;n.forEach(F=>{++g,F.next(()=>{++b,E&&b===g&&a()},X=>d(X))}),E=!0,b===g&&a()})}static or(n){let a=Ft.resolve(!1);for(const d of n)a=a.next(g=>g?Ft.resolve(g):d());return a}static forEach(n,a){const d=[];return n.forEach((g,b)=>{d.push(a.call(this,g,b))}),this.waitFor(d)}}function lc(l){return"IndexedDbTransactionError"===l.name}class Yl{constructor(n,a,d,g){this.batchId=n,this.localWriteTime=a,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(n,a){const d=a.mutationResults;for(let g=0;g<this.mutations.length;g++){const b=this.mutations[g];b.key.isEqual(n.key)&&_l(b,n,d[g])}}applyToLocalView(n){for(const a of this.baseMutations)a.key.isEqual(n.key)&&uh(a,n,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(n.key)&&uh(a,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(a=>{const d=n.get(a.key),g=d;this.applyToLocalView(g),d.isValidDocument()||g.convertToNoDocument(xt.min())})}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),Di())}isEqual(n){return this.batchId===n.batchId&&Rt(this.mutations,n.mutations,(a,d)=>cf(a,d))&&Rt(this.baseMutations,n.baseMutations,(a,d)=>cf(a,d))}}class Rs{constructor(n,a,d,g){this.batch=n,this.commitVersion=a,this.mutationResults=d,this.docVersions=g}static from(n,a,d){Tr(n.mutations.length===d.length);let g=J_;const b=n.mutations;for(let E=0;E<b.length;E++)g=g.insert(b[E].key,d[E].version);return new Rs(n,a,d,g)}}class ra{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class os{constructor(n,a,d,g,b=xt.min(),E=xt.min(),F=Xi.EMPTY_BYTE_STRING){this.target=n,this.targetId=a,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=F}withSequenceNumber(n){return new os(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,a){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Ha{constructor(n){this.Jt=n}}function Ef(l){const n=Rp({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function zc(l,n,a){return new fr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}(n,n.limit,"L"):n}class Ic{constructor(){}Zt(n,a){this.te(n,a),a.ee()}te(n,a){if("nullValue"in n)this.ne(a,5);else if("booleanValue"in n)this.ne(a,10),a.se(n.booleanValue?1:0);else if("integerValue"in n)this.ne(a,15),a.se(bi(n.integerValue));else if("doubleValue"in n){const d=bi(n.doubleValue);isNaN(d)?this.ne(a,13):(this.ne(a,15),jo(d)?a.se(0):a.se(d))}else if("timestampValue"in n){const d=n.timestampValue;this.ne(a,20),"string"==typeof d?a.ie(d):(a.ie(`${d.seconds||""}`),a.se(d.nanos||0))}else if("stringValue"in n)this.re(n.stringValue,a),this.oe(a);else if("bytesValue"in n)this.ne(a,30),a.ae(hs(n.bytesValue)),this.oe(a);else if("referenceValue"in n)this.ue(n.referenceValue,a);else if("geoPointValue"in n){const d=n.geoPointValue;this.ne(a,45),a.se(d.latitude||0),a.se(d.longitude||0)}else"mapValue"in n?Au(n)?this.ne(a,Number.MAX_SAFE_INTEGER):(this.ce(n.mapValue,a),this.oe(a)):"arrayValue"in n?(this.he(n.arrayValue,a),this.oe(a)):Jn()}re(n,a){this.ne(a,25),this.le(n,a)}le(n,a){a.ie(n)}ce(n,a){const d=n.fields||{};this.ne(a,55);for(const g of Object.keys(d))this.re(g,a),this.te(d[g],a)}he(n,a){const d=n.values||[];this.ne(a,50);for(const g of d)this.te(g,a)}ue(n,a){this.ne(a,37),Ln.fromName(n).path.forEach(d=>{this.ne(a,60),this.le(d,a)})}ne(n,a){n.se(a)}oe(n){n.se(2)}}Ic.fe=new Ic;class ru{constructor(){this.Ue=new iu}addToCollectionParentIndex(n,a){return this.Ue.add(a),Ft.resolve()}getCollectionParents(n,a){return Ft.resolve(this.Ue.getEntries(a))}addFieldIndex(n,a){return Ft.resolve()}deleteFieldIndex(n,a){return Ft.resolve()}getDocumentsMatchingTarget(n,a){return Ft.resolve(null)}getFieldIndex(n,a){return Ft.resolve(null)}getFieldIndexes(n,a){return Ft.resolve([])}getNextCollectionGroupToUpdate(n){return Ft.resolve(null)}updateCollectionGroup(n,a,d){return Ft.resolve()}updateIndexEntries(n,a){return Ft.resolve()}}class iu{constructor(){this.index={}}add(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a]||new Ri(lr.comparator),b=!g.has(d);return this.index[a]=g.add(d),b}has(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a];return g&&g.has(d)}getEntries(n){return(this.index[n]||new Ri(lr.comparator)).toArray()}}new Uint8Array(0);class Ls{constructor(n,a,d){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=d}static withCacheSize(n){return new Ls(n,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ls.DEFAULT_COLLECTION_PERCENTILE=10,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ls.DEFAULT=new Ls(41943040,Ls.DEFAULT_COLLECTION_PERCENTILE,Ls.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ls.DISABLED=new Ls(-1,0,0);class su{constructor(n){this.wn=n}next(){return this.wn+=2,this.wn}static mn(){return new su(0)}static gn(){return new su(-1)}}function Yc(l){return Od.apply(this,arguments)}function Od(){return Od=(0,p.Z)(function*(l){if(l.code!==Pt.FAILED_PRECONDITION||l.message!==Sm)throw l;vn("LocalStore","Unexpectedly lost primary lease")}),Od.apply(this,arguments)}class Ku{constructor(n,a,d){this.ls=n,this.Fs=a,this.indexManager=d}Bs(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKey(n,a).next(d=>this.Ls(n,a,d))}Ls(n,a,d){return this.ls.getEntry(n,a).next(g=>{for(const b of d)b.applyToLocalView(g);return g})}qs(n,a){n.forEach((d,g)=>{for(const b of a)b.applyToLocalView(g)})}Us(n,a){return this.ls.getEntries(n,a).next(d=>this.Ks(n,d).next(()=>d))}Ks(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(n,a).next(d=>this.qs(a,d))}Gs(n,a,d){return Ln.isDocumentKey((g=a).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(n,a.path):function ws(l){return null!==l.collectionGroup}(a)?this.js(n,a,d):this.Ws(n,a,d);var g}Qs(n,a){return this.Bs(n,new Ln(a)).next(d=>{let g=gs();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}js(n,a,d){const g=a.collectionGroup;let b=gs();return this.indexManager.getCollectionParents(n,g).next(E=>Ft.forEach(E,F=>{const X=(de=a,Ze=F.child(g),new fr(Ze,null,de.explicitOrderBy.slice(),de.filters.slice(),de.limit,de.limitType,de.startAt,de.endAt));var de,Ze;return this.Ws(n,X,d).next(de=>{de.forEach((Ze,ot)=>{b=b.insert(Ze,ot)})})}).next(()=>b))}Ws(n,a,d){let g;return this.ls.getAll(n,a.path,d).next(b=>(g=b,this.Fs.getAllMutationBatchesAffectingQuery(n,a))).next(b=>{for(const E of b)for(const F of E.mutations){const X=F.key;let de=g.get(X);null==de&&(de=Ci.newInvalidDocument(X),g=g.insert(X,de)),uh(F,de,E.localWriteTime),de.isFoundDocument()||(g=g.remove(X))}}).next(()=>(g.forEach((b,E)=>{Hl(a,E)||(g=g.remove(b))}),g))}}class cu{constructor(n,a,d,g){this.targetId=n,this.fromCache=a,this.zs=d,this.Hs=g}static Js(n,a){let d=Di(),g=Di();for(const b of a.docChanges)switch(b.type){case 0:d=d.add(b.doc.key);break;case 1:g=g.add(b.doc.key)}return new cu(n,a.fromCache,d,g)}}class lu{Ys(n){this.Xs=n}Gs(n,a,d,g){return 0===(b=a).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(xt.min())?this.Zs(n,a):this.Xs.Us(n,g).next(b=>{const E=this.ti(a,b);return(ko(a)||ao(a))&&this.ei(a.limitType,E,g,d)?this.Zs(n,a):(qs()<=N.in.DEBUG&&vn("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),Ec(a)),this.Xs.Gs(n,a,d).next(F=>(E.forEach(X=>{F=F.insert(X.key,X)}),F)))});var b}ti(n,a){let d=new Ri(bd(n));return a.forEach((g,b)=>{Hl(n,b)&&(d=d.add(b))}),d}ei(n,a,d,g){if(d.size!==a.size)return!0;const b="F"===n?a.last():a.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(g)>0)}Zs(n,a){return qs()<=N.in.DEBUG&&vn("QueryEngine","Using full collection scan to execute query:",Ec(a)),this.Xs.Gs(n,a,xt.min())}}class Nd{constructor(n,a,d,g){this.persistence=n,this.ni=a,this.M=g,this.si=new bo(je),this.ii=new Mi(b=>Ua(b),ba),this.ri=xt.min(),this.oi=n.getRemoteDocumentCache(),this.hs=n.getTargetCache(),this.fs=n.getBundleCache(),this.ai(d)}ai(n){this.indexManager=this.persistence.getIndexManager(n),this.Fs=this.persistence.getMutationQueue(n,this.indexManager),this.ui=new Ku(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.si))}}function Rd(l,n){return Ih.apply(this,arguments)}function Ih(){return Ih=(0,p.Z)(function*(l,n){const a=Nn(l);return yield a.persistence.runTransaction("Handle user change","readonly",d=>{let g;return a.Fs.getAllMutationBatches(d).next(b=>(g=b,a.ai(n),a.Fs.getAllMutationBatches(d))).next(b=>{const E=[],F=[];let X=Di();for(const de of g){E.push(de.batchId);for(const Ze of de.mutations)X=X.add(Ze.key)}for(const de of b){F.push(de.batchId);for(const Ze of de.mutations)X=X.add(Ze.key)}return a.ui.Us(d,X).next(de=>({ci:de,removedBatchIds:E,addedBatchIds:F}))})})}),Ih.apply(this,arguments)}function Dm(l,n){const a=Nn(l);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=n.batch.keys(),b=a.oi.newChangeBuffer({trackRemovals:!0});return function(E,F,X,de){const Ze=X.batch,ot=Ze.keys();let It=Ft.resolve();return ot.forEach(Kt=>{It=It.next(()=>de.getEntry(F,Kt)).next(un=>{const ar=X.docVersions.get(Kt);Tr(null!==ar),un.version.compareTo(ar)<0&&(Ze.applyToRemoteDocument(un,X),un.isValidDocument()&&(un.setReadTime(X.commitVersion),de.addEntry(un)))})}),It.next(()=>E.Fs.removeMutationBatch(F,Ze))}(a,d,n,b).next(()=>b.apply(d)).next(()=>a.Fs.performConsistencyCheck(d)).next(()=>a.ui.Us(d,g))})}function Ju(l){const n=Nn(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.hs.getLastRemoteSnapshotVersion(a))}function Ph(l,n){const a=Nn(l),d=n.snapshotVersion;let g=a.si;return a.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const E=a.oi.newChangeBuffer({trackRemovals:!0});g=a.si;const F=[];n.targetChanges.forEach((de,Ze)=>{const ot=g.get(Ze);if(!ot)return;F.push(a.hs.removeMatchingKeys(b,de.removedDocuments,Ze).next(()=>a.hs.addMatchingKeys(b,de.addedDocuments,Ze)));let It=ot.withSequenceNumber(b.currentSequenceNumber);var Kt,un,ar;n.targetMismatches.has(Ze)?It=It.withResumeToken(Xi.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):de.resumeToken.approximateByteSize()>0&&(It=It.withResumeToken(de.resumeToken,d)),g=g.insert(Ze,It),un=It,ar=de,(0===(Kt=ot).resumeToken.approximateByteSize()||un.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||ar.addedDocuments.size+ar.modifiedDocuments.size+ar.removedDocuments.size>0)&&F.push(a.hs.updateTargetData(b,It))});let X=$i();if(n.documentUpdates.forEach(de=>{n.resolvedLimboDocuments.has(de)&&F.push(a.persistence.referenceDelegate.updateLimboDocument(b,de))}),F.push(function Y_(l,n,a){let d=Di();return a.forEach(g=>d=d.add(g)),n.getEntries(l,d).next(g=>{let b=$i();return a.forEach((E,F)=>{const X=g.get(E);F.isNoDocument()&&F.version.isEqual(xt.min())?(n.removeEntry(E,F.readTime),b=b.insert(E,F)):!X.isValidDocument()||F.version.compareTo(X.version)>0||0===F.version.compareTo(X.version)&&X.hasPendingWrites?(n.addEntry(F),b=b.insert(E,F)):vn("LocalStore","Ignoring outdated watch update for ",E,". Current version:",X.version," Watch version:",F.version)}),b})}(b,E,n.documentUpdates).next(de=>{X=de})),!d.isEqual(xt.min())){const de=a.hs.getLastRemoteSnapshotVersion(b).next(Ze=>a.hs.setTargetsMetadata(b,b.currentSequenceNumber,d));F.push(de)}return Ft.waitFor(F).next(()=>E.apply(b)).next(()=>a.ui.Ks(b,X)).next(()=>X)}).then(b=>(a.si=g,b))}function k1(l,n){const a=Nn(l);return a.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===n&&(n=-1),a.Fs.getNextMutationBatchAfterBatchId(d,n)))}function uu(l,n){const a=Nn(l);return a.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return a.hs.getTargetData(d,n).next(b=>b?(g=b,Ft.resolve(g)):a.hs.allocateTargetId(d).next(E=>(g=new os(n,E,0,d.currentSequenceNumber),a.hs.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=a.si.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(a.si=a.si.insert(d.targetId,d),a.ii.set(n,d.targetId)),d})}function Yu(l,n,a){return Of.apply(this,arguments)}function Of(){return Of=(0,p.Z)(function*(l,n,a){const d=Nn(l),g=d.si.get(n),b=a?"readwrite":"readwrite-primary";try{a||(yield d.persistence.runTransaction("Release target",b,E=>d.persistence.referenceDelegate.removeTarget(E,g)))}catch(E){if(!lc(E))throw E;vn("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}d.si=d.si.remove(n),d.ii.delete(g.target)}),Of.apply(this,arguments)}function Nf(l,n,a){const d=Nn(l);let g=xt.min(),b=Di();return d.persistence.runTransaction("Execute query","readonly",E=>function(F,X,de){const Ze=Nn(F),ot=Ze.ii.get(de);return void 0!==ot?Ft.resolve(Ze.si.get(ot)):Ze.hs.getTargetData(X,de)}(d,E,zi(n)).next(F=>{if(F)return g=F.lastLimboFreeSnapshotVersion,d.hs.getMatchingKeysForTargetId(E,F.targetId).next(X=>{b=X})}).next(()=>d.ni.Gs(E,n,a?g:xt.min(),a?b:Di())).next(F=>({documents:F,hi:b})))}class vb{constructor(n){this.M=n,this._i=new Map,this.wi=new Map}getBundleMetadata(n,a){return Ft.resolve(this._i.get(a))}saveBundleMetadata(n,a){var d;return this._i.set(a.id,{id:(d=a).id,version:d.version,createTime:Wo(d.createTime)}),Ft.resolve()}getNamedQuery(n,a){return Ft.resolve(this.wi.get(a))}saveNamedQuery(n,a){return this.wi.set(a.name,{name:(d=a).name,query:Ef(d.bundledQuery),readTime:Wo(d.readTime)}),Ft.resolve();var d}}class U1{constructor(){this.overlays=new bo(Ln.comparator),this.mi=new Map}getOverlay(n,a){return Ft.resolve(this.overlays.get(a))}saveOverlays(n,a,d){return d.forEach((g,b)=>{this.Xt(n,a,b)}),Ft.resolve()}removeOverlaysForBatchId(n,a,d){const g=this.mi.get(d);return void 0!==g&&(g.forEach(b=>this.overlays=this.overlays.remove(b)),this.mi.delete(d)),Ft.resolve()}getOverlaysForCollection(n,a,d){const g=gh(),b=a.length+1,E=new Ln(a.child("")),F=this.overlays.getIteratorFrom(E);for(;F.hasNext();){const X=F.getNext().value,de=X.getKey();if(!a.isPrefixOf(de.path))break;de.path.length===b&&X.largestBatchId>d&&g.set(X.getKey(),X)}return Ft.resolve(g)}getOverlaysForCollectionGroup(n,a,d,g){let b=new bo((de,Ze)=>de-Ze);const E=this.overlays.getIterator();for(;E.hasNext();){const de=E.getNext().value;if(de.getKey().getCollectionGroup()===a&&de.largestBatchId>d){let Ze=b.get(de.largestBatchId);null===Ze&&(Ze=gh(),b=b.insert(de.largestBatchId,Ze)),Ze.set(de.getKey(),de)}}const F=gh(),X=b.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((de,Ze)=>F.set(de,Ze)),!(F.size()>=g)););return Ft.resolve(F)}Xt(n,a,d){if(null===d)return;const g=this.overlays.get(d.key);if(null!==g){const E=this.mi.get(g.largestBatchId).delete(d.key);this.mi.set(g.largestBatchId,E)}this.overlays=this.overlays.insert(d.key,new ra(a,d));let b=this.mi.get(a);void 0===b&&(b=Di(),this.mi.set(a,b)),this.mi.set(a,b.add(d.key))}}class Im{constructor(){this.gi=new Ri(go.yi),this.pi=new Ri(go.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(n,a){const d=new go(n,a);this.gi=this.gi.add(d),this.pi=this.pi.add(d)}Ti(n,a){n.forEach(d=>this.addReference(d,a))}removeReference(n,a){this.Ei(new go(n,a))}Ai(n,a){n.forEach(d=>this.removeReference(d,a))}Ri(n){const a=new Ln(new lr([])),d=new go(a,n),g=new go(a,n+1),b=[];return this.pi.forEachInRange([d,g],E=>{this.Ei(E),b.push(E.key)}),b}bi(){this.gi.forEach(n=>this.Ei(n))}Ei(n){this.gi=this.gi.delete(n),this.pi=this.pi.delete(n)}Pi(n){const a=new Ln(new lr([])),d=new go(a,n),g=new go(a,n+1);let b=Di();return this.pi.forEachInRange([d,g],E=>{b=b.add(E.key)}),b}containsKey(n){const a=new go(n,0),d=this.gi.firstAfterOrEqual(a);return null!==d&&n.isEqual(d.key)}}class go{constructor(n,a){this.key=n,this.Vi=a}static yi(n,a){return Ln.comparator(n.key,a.key)||je(n.Vi,a.Vi)}static Ii(n,a){return je(n.Vi,a.Vi)||Ln.comparator(n.key,a.key)}}class $p{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.Fs=[],this.vi=1,this.Si=new Ri(go.yi)}checkEmpty(n){return Ft.resolve(0===this.Fs.length)}addMutationBatch(n,a,d,g){const b=this.vi;this.vi++;const E=new Yl(b,a,d,g);this.Fs.push(E);for(const F of g)this.Si=this.Si.add(new go(F.key,b)),this.indexManager.addToCollectionParentIndex(n,F.key.path.popLast());return Ft.resolve(E)}lookupMutationBatch(n,a){return Ft.resolve(this.Di(a))}getNextMutationBatchAfterBatchId(n,a){const g=this.Ci(a+1),b=g<0?0:g;return Ft.resolve(this.Fs.length>b?this.Fs[b]:null)}getHighestUnacknowledgedBatchId(){return Ft.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(n){return Ft.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const d=new go(a,0),g=new go(a,Number.POSITIVE_INFINITY),b=[];return this.Si.forEachInRange([d,g],E=>{const F=this.Di(E.Vi);b.push(F)}),Ft.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(n,a){let d=new Ri(je);return a.forEach(g=>{const b=new go(g,0),E=new go(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([b,E],F=>{d=d.add(F.Vi)})}),Ft.resolve(this.xi(d))}getAllMutationBatchesAffectingQuery(n,a){const d=a.path,g=d.length+1;let b=d;Ln.isDocumentKey(b)||(b=b.child(""));const E=new go(new Ln(b),0);let F=new Ri(je);return this.Si.forEachWhile(X=>{const de=X.key.path;return!!d.isPrefixOf(de)&&(de.length===g&&(F=F.add(X.Vi)),!0)},E),Ft.resolve(this.xi(F))}xi(n){const a=[];return n.forEach(d=>{const g=this.Di(d);null!==g&&a.push(g)}),a}removeMutationBatch(n,a){Tr(0===this.Ni(a.batchId,"removed")),this.Fs.shift();let d=this.Si;return Ft.forEach(a.mutations,g=>{const b=new go(g.key,a.batchId);return d=d.delete(b),this.referenceDelegate.markPotentiallyOrphaned(n,g.key)}).next(()=>{this.Si=d})}dn(n){}containsKey(n,a){const d=new go(a,0),g=this.Si.firstAfterOrEqual(d);return Ft.resolve(a.isEqual(g&&g.key))}performConsistencyCheck(n){return Ft.resolve()}Ni(n,a){return this.Ci(n)}Ci(n){return 0===this.Fs.length?0:n-this.Fs[0].batchId}Di(n){const a=this.Ci(n);return a<0||a>=this.Fs.length?null:this.Fs[a]}}class X_{constructor(n){this.ki=n,this.docs=new bo(Ln.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const d=a.key,g=this.docs.get(d),b=g?g.size:0,E=this.ki(a);return this.docs=this.docs.insert(d,{document:a.mutableCopy(),size:E}),this.size+=E-b,this.indexManager.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const d=this.docs.get(a);return Ft.resolve(d?d.document.mutableCopy():Ci.newInvalidDocument(a))}getEntries(n,a){let d=$i();return a.forEach(g=>{const b=this.docs.get(g);d=d.insert(g,b?b.document.mutableCopy():Ci.newInvalidDocument(g))}),Ft.resolve(d)}getAll(n,a,d){let g=$i();const b=new Ln(a.child("")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:F,value:{document:X}}=E.getNext();if(!a.isPrefixOf(F.path))break;F.path.length>a.length+1||X.readTime.compareTo(d)<=0||(g=g.insert(X.key,X.mutableCopy()))}return Ft.resolve(g)}Mi(n,a){return Ft.forEach(this.docs,d=>a(d))}newChangeBuffer(n){return new Pm(this)}getSize(n){return Ft.resolve(this.size)}}class Pm extends class L{constructor(){this.changes=new Mi(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Ci.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const d=this.changes.get(a);return void 0!==d?Ft.resolve(d):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}{constructor(n){super(),this.Un=n}applyChanges(n){const a=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?a.push(this.Un.addEntry(n,g)):this.Un.removeEntry(d)}),Ft.waitFor(a)}getFromCache(n,a){return this.Un.getEntry(n,a)}getAllFromCache(n,a){return this.Un.getEntries(n,a)}}class Kp{constructor(n){this.persistence=n,this.Oi=new Mi(a=>Ua(a),ba),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Im,this.targetCount=0,this.Bi=su.mn()}forEachTarget(n,a){return this.Oi.forEach((d,g)=>a(g)),Ft.resolve()}getLastRemoteSnapshotVersion(n){return Ft.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Ft.resolve(this.$i)}allocateTargetId(n){return this.highestTargetId=this.Bi.next(),Ft.resolve(this.highestTargetId)}setTargetsMetadata(n,a,d){return d&&(this.lastRemoteSnapshotVersion=d),a>this.$i&&(this.$i=a),Ft.resolve()}In(n){this.Oi.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Bi=new su(a),this.highestTargetId=a),n.sequenceNumber>this.$i&&(this.$i=n.sequenceNumber)}addTargetData(n,a){return this.In(a),this.targetCount+=1,Ft.resolve()}updateTargetData(n,a){return this.In(a),Ft.resolve()}removeTargetData(n,a){return this.Oi.delete(a.target),this.Fi.Ri(a.targetId),this.targetCount-=1,Ft.resolve()}removeTargets(n,a,d){let g=0;const b=[];return this.Oi.forEach((E,F)=>{F.sequenceNumber<=a&&null===d.get(F.targetId)&&(this.Oi.delete(E),b.push(this.removeMatchingKeysForTargetId(n,F.targetId)),g++)}),Ft.waitFor(b).next(()=>g)}getTargetCount(n){return Ft.resolve(this.targetCount)}getTargetData(n,a){const d=this.Oi.get(a)||null;return Ft.resolve(d)}addMatchingKeys(n,a,d){return this.Fi.Ti(a,d),Ft.resolve()}removeMatchingKeys(n,a,d){this.Fi.Ai(a,d);const g=this.persistence.referenceDelegate,b=[];return g&&a.forEach(E=>{b.push(g.markPotentiallyOrphaned(n,E))}),Ft.waitFor(b)}removeMatchingKeysForTargetId(n,a){return this.Fi.Ri(a),Ft.resolve()}getMatchingKeysForTargetId(n,a){const d=this.Fi.Pi(a);return Ft.resolve(d)}containsKey(n,a){return Ft.resolve(this.Fi.containsKey(a))}}class Mm{constructor(n,a){this.Li={},this.overlays={},this.Zn=new $(0),this.ts=!1,this.ts=!0,this.referenceDelegate=n(this),this.hs=new Kp(this),this.indexManager=new ru,this.ls=new X_(d=>this.referenceDelegate.qi(d)),this.M=new Ha(a),this.fs=new vb(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new U1,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let d=this.Li[n.toKey()];return d||(d=new $p(a,this.referenceDelegate),this.Li[n.toKey()]=d),d}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(n,a,d){vn("MemoryPersistence","Starting transaction:",n);const g=new Jp(this.Zn.next());return this.referenceDelegate.Ui(),d(g).next(b=>this.referenceDelegate.Ki(g).next(()=>b)).toPromise().then(b=>(g.raiseOnCommittedEvent(),b))}Gi(n,a){return Ft.or(Object.values(this.Li).map(d=>()=>d.containsKey(n,a)))}}class Jp extends class Ks{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}{constructor(n){super(),this.currentSequenceNumber=n}}class Om{constructor(n){this.persistence=n,this.Qi=new Im,this.ji=null}static Wi(n){return new Om(n)}get zi(){if(this.ji)return this.ji;throw Jn()}addReference(n,a,d){return this.Qi.addReference(d,a),this.zi.delete(d.toString()),Ft.resolve()}removeReference(n,a,d){return this.Qi.removeReference(d,a),this.zi.add(d.toString()),Ft.resolve()}markPotentiallyOrphaned(n,a){return this.zi.add(a.toString()),Ft.resolve()}removeTarget(n,a){this.Qi.Ri(a.targetId).forEach(g=>this.zi.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(n,a.targetId).next(g=>{g.forEach(b=>this.zi.add(b.toString()))}).next(()=>d.removeTargetData(n,a))}Ui(){this.ji=new Set}Ki(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ft.forEach(this.zi,d=>{const g=Ln.fromPath(d);return this.Hi(n,g).next(b=>{b||a.removeEntry(g,xt.min())})}).next(()=>(this.ji=null,a.apply(n)))}updateLimboDocument(n,a){return this.Hi(n,a).next(d=>{d?this.zi.delete(a.toString()):this.zi.add(a.toString())})}qi(n){return 0}Hi(n,a){return Ft.or([()=>Ft.resolve(this.Qi.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Gi(n,a)])}}class Rm{constructor(){this.activeTargetIds=Bu()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Fd{constructor(){this.Or=new Rm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,d){}addLocalQueryTarget(n){return this.Or.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,a,d){this.$r[n]=a}removeLocalQueryTarget(n){this.Or.Zi(n)}isLocalQueryTarget(n){return this.Or.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(n){return this.Or.activeTargetIds.has(n)}start(){return this.Or=new Rm,Promise.resolve()}handleUserChange(n,a,d){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class km{Fr(n){}shutdown(){}}class Bd{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(n){this.Kr.push(n)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){vn("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Kr)n(0)}Ur(){vn("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Kr)n(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ud{constructor(n){this.Qr=n.Qr,this.jr=n.jr}Wr(n){this.zr=n}Hr(n){this.Jr=n}onMessage(n){this.Yr=n}close(){this.jr()}send(n){this.Qr(n)}Xr(){this.zr()}Zr(n){this.Jr(n)}eo(n){this.Yr(n)}}class e0 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.no=(n.ssl?"https":"http")+"://"+n.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(n,a,d,g,b){const E=this.ro(n,a);vn("RestConnection","Sending: ",E,d);const F={};return this.oo(F,g,b),this.ao(n,E,F,d).then(X=>(vn("RestConnection","Received: ",X),X),X=>{throw ic("RestConnection",`${n} failed with error: `,X,"url: ",E,"request:",d),X})}uo(n,a,d,g,b){return this.io(n,a,d,g,b)}oo(n,a,d){n["X-Goog-Api-Client"]="gl-js/ fire/"+So,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((g,b)=>n[b]=g),d&&d.headers.forEach((g,b)=>n[b]=g)}ro(n,a){return`${this.no}/v1/${a}:${Nh[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}ao(n,a,d,g){return new Promise((b,E)=>{const F=new La;F.listenOnce(Zs.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Ws.NO_ERROR:const de=F.getResponseJson();vn("Connection","XHR received:",JSON.stringify(de)),b(de);break;case Ws.TIMEOUT:vn("Connection",'RPC "'+n+'" timed out'),E(new on(Pt.DEADLINE_EXCEEDED,"Request time out"));break;case Ws.HTTP_ERROR:const Ze=F.getStatus();if(vn("Connection",'RPC "'+n+'" failed with status:',Ze,"response text:",F.getResponseText()),Ze>0){const ot=F.getResponseJson().error;if(ot&&ot.status&&ot.message){const It=function(Kt){const un=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Pt).indexOf(un)>=0?un:Pt.UNKNOWN}(ot.status);E(new on(It,ot.message))}else E(new on(Pt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new on(Pt.UNAVAILABLE,"Connection failed."));break;default:Jn()}}finally{vn("Connection",'RPC "'+n+'" completed.')}});const X=JSON.stringify(g);F.send(a,"POST",X,d,15)})}co(n,a,d){const g=[this.no,"/","google.firestore.v1.Firestore","/",n,"/channel"],b=gd(),E=ma(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(F.xmlHttpFactory=new sh({})),this.oo(F.initMessageHeaders,a,d),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(F.httpHeadersOverwriteParam="$httpHeaders");const X=g.join("");vn("Connection","Creating WebChannel: "+X,F);const de=b.createWebChannel(X,F);let Ze=!1,ot=!1;const It=new Ud({Qr:un=>{ot?vn("Connection","Not sending because WebChannel is closed:",un):(Ze||(vn("Connection","Opening WebChannel transport."),de.open(),Ze=!0),vn("Connection","WebChannel sending:",un),de.send(un))},jr:()=>de.close()}),Kt=(un,ar,Zr)=>{un.listen(ar,Ao=>{try{Zr(Ao)}catch(ci){setTimeout(()=>{throw ci},0)}})};return Kt(de,ts.EventType.OPEN,()=>{ot||vn("Connection","WebChannel transport opened.")}),Kt(de,ts.EventType.CLOSE,()=>{ot||(ot=!0,vn("Connection","WebChannel transport closed"),It.Zr())}),Kt(de,ts.EventType.ERROR,un=>{ot||(ot=!0,ic("Connection","WebChannel transport errored:",un),It.Zr(new on(Pt.UNAVAILABLE,"The operation could not be completed")))}),Kt(de,ts.EventType.MESSAGE,un=>{var ar;if(!ot){const Zr=un.data[0];Tr(!!Zr);const Ao=Zr,ci=Ao.error||(null===(ar=Ao[0])||void 0===ar?void 0:ar.error);if(ci){vn("Connection","WebChannel received error:",ci);const la=ci.status;let Fo=function(Ji){const dd=wo[Ji];if(void 0!==dd)return fh(dd)}(la),$o=ci.message;void 0===Fo&&(Fo=Pt.INTERNAL,$o="Unknown error status: "+la+" with message "+ci.message),ot=!0,It.Zr(new on(Fo,$o)),de.close()}else vn("Connection","WebChannel received:",Zr),It.eo(Zr)}}),Kt(E,li.STAT_EVENT,un=>{un.stat===nc.PROXY?vn("Connection","Detected buffering proxy"):un.stat===nc.NOPROXY&&vn("Connection","Detected no buffering proxy")}),setTimeout(()=>{It.Xr()},0),It}}function kf(){return"undefined"!=typeof document?document:null}function Gd(l){return new pm(l,!0)}class Lf{constructor(n,a,d=1e3,g=1.5,b=6e4){this.Hn=n,this.timerId=a,this.ho=d,this.lo=g,this.fo=b,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(n){this.cancel();const a=Math.floor(this._o+this.Io()),d=Math.max(0,Date.now()-this.mo),g=Math.max(0,a-d);g>0&&vn("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${a} ms, last attempt: ${d} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),n())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Xp{constructor(n,a,d,g,b,E,F,X){this.Hn=n,this.Eo=d,this.Ao=g,this.Ro=b,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=F,this.listener=X,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Lf(n,a)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var n=this;return(0,p.Z)(function*(){n.So()&&(yield n.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(n){this.Oo(),this.stream.send(n)}ko(){var n=this;return(0,p.Z)(function*(){if(n.Do())return n.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,a){var d=this;return(0,p.Z)(function*(){d.Oo(),d.$o(),d.vo.cancel(),d.bo++,4!==n?d.vo.reset():a&&a.code===Pt.RESOURCE_EXHAUSTED?(ui(a.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),d.vo.yo()):a&&a.code===Pt.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Fo(),d.stream.close(),d.stream=null),d.state=n,yield d.listener.Hr(a)})()}Fo(){}auth(){this.state=1;const n=this.Bo(this.bo),a=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.bo===a&&this.Lo(d,g)},d=>{n(()=>{const g=new on(Pt.UNKNOWN,"Fetching auth token failed: "+d.message);return this.qo(g)})})}Lo(n,a){const d=this.Bo(this.bo);this.stream=this.Uo(n,a),this.stream.Wr(()=>{d(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{d(()=>this.qo(g))}),this.stream.onMessage(g=>{d(()=>this.onMessage(g))})}Co(){var n=this;this.state=5,this.vo.po((0,p.Z)(function*(){n.state=0,n.start()}))}qo(n){return vn("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Bo(n){return a=>{this.Hn.enqueueAndForget(()=>this.bo===n?a():(vn("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Ff extends Xp{constructor(n,a,d,g,b,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,d,g,E),this.M=b}Uo(n,a){return this.Ro.co("Listen",n,a)}onMessage(n){this.vo.reset();const a=function Op(l,n){let a;if("targetChange"in n){const d="NO_CHANGE"===(X=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Jn(),g=n.targetChange.targetIds||[],b=function(X,de){return X.N?(Tr(void 0===de||"string"==typeof de),Xi.fromBase64String(de||"")):(Tr(void 0===de||de instanceof Uint8Array),Xi.fromUint8Array(de||new Uint8Array))}(l,n.targetChange.resumeToken),E=n.targetChange.cause,F=E&&function(X){const de=void 0===X.code?Pt.UNKNOWN:fh(X.code);return new on(de,X.message||"")}(E);a=new Ap(d,g,b,F||null)}else if("documentChange"in n){const d=n.documentChange,g=Dc(l,d.document.name),b=Wo(d.document.updateTime),E=new so({mapValue:{fields:d.document.fields}}),F=Ci.newFoundDocument(g,b,E);a=new Cd(d.targetIds||[],d.removedTargetIds||[],F.key,F)}else if("documentDelete"in n){const d=n.documentDelete,g=Dc(l,d.document),b=d.readTime?Wo(d.readTime):xt.min(),E=Ci.newNoDocument(g,b);a=new Cd([],d.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const d=n.documentRemove,g=Dc(l,d.document);a=new Cd([],d.removedTargetIds||[],g,null)}else{if(!("filter"in n))return Jn();{const d=n.filter,b=new wp(d.count||0);a=new Dp(d.targetId,b)}}var X;return a}(this.M,n),d=function(g){if(!("targetChange"in g))return xt.min();const b=g.targetChange;return b.targetIds&&b.targetIds.length?xt.min():b.readTime?Wo(b.readTime):xt.min()}(n);return this.listener.Ko(a,d)}Go(n){const a={};a.database=yh(this.M),a.addTarget=function(g,b){let E;const F=b.target;return E=yo(F)?{documents:bh(g,F)}:{query:Np(g,F)},E.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?E.resumeToken=gf(g,b.resumeToken):b.snapshotVersion.compareTo(xt.min())>0&&(E.readTime=lo(g,b.snapshotVersion.toTimestamp())),E}(this.M,n);const d=function kp(l,n){const a=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jn()}}(0,n.purpose);return null==a?null:{"goog-listen-tags":a}}(0,n);d&&(a.labels=d),this.Mo(a)}Qo(n){const a={};a.database=yh(this.M),a.removeTarget=n,this.Mo(a)}}class G1 extends Xp{constructor(n,a,d,g,b,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,d,g,E),this.M=b,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(n,a){return this.Ro.co("Write",n,a)}onMessage(n){if(Tr(!!n.streamToken),this.lastStreamToken=n.streamToken,this.jo){this.vo.reset();const a=function wd(l,n){return l&&l.length>0?(Tr(void 0!==n),l.map(a=>function(d,g){let b=Wo(d.updateTime?d.updateTime:g);return b.isEqual(xt.min())&&(b=Wo(g)),new ql(b,d.transformResults||[])}(a,n))):[]}(n.writeResults,n.commitTime),d=Wo(n.commitTime);return this.listener.Ho(d,a)}return Tr(!n.writeResults||0===n.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const n={};n.database=yh(this.M),this.Mo(n)}zo(n){const a={streamToken:this.lastStreamToken,writes:n.map(d=>function Vu(l,n){let a;if(n instanceof Lu)a={update:Gu(l,n.key,n.value)};else if(n instanceof vl)a={delete:Ed(l,n.key)};else if(n instanceof Os)a={update:Gu(l,n.key,n.data),updateMask:ym(n.fieldMask)};else{if(!(n instanceof dh))return Jn();a={verify:Ed(l,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map(d=>function(g,b){const E=b.transform;if(E instanceof Wl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof cc)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof na)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Ga)return{fieldPath:b.field.canonicalString(),increment:E.k};throw Jn()}(0,d))),n.precondition.isNone||(a.currentDocument=void 0!==(g=n.precondition).updateTime?{updateTime:gm(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Jn()),a;var g}(this.M,d))};this.Mo(a)}}class t0 extends class{}{constructor(n,a,d,g){super(),this.authCredentials=n,this.appCheckCredentials=a,this.Ro=d,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new on(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}io(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.io(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new on(Pt.UNKNOWN,g.toString())})}uo(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.uo(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new on(Pt.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class yb{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(n){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ia("Offline")))}set(n){this.aa(),this.ta=0,"Online"===n&&(this.na=!1),this.ia(n)}ia(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ra(n){const a=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(ui(a),this.na=!1):vn("OnlineStateTracker",a)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class n0{constructor(n,a,d,g,b){var E=this;this.localStore=n,this.datastore=a,this.asyncQueue=d,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=b,this.fa.Fr(F=>{d.enqueueAndForget((0,p.Z)(function*(){var X;Dl(E)&&(vn("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,p.Z)(function*(de){const Ze=Nn(de);Ze.ha.add(4),yield jd(Ze),Ze.da.set("Unknown"),Ze.ha.delete(4),yield Vd(Ze)}),function(de){return X.apply(this,arguments)})(E))}))}),this.da=new yb(d,g)}}function Vd(l){return eg.apply(this,arguments)}function eg(){return eg=(0,p.Z)(function*(l){if(Dl(l))for(const n of l.la)yield n(!0)}),eg.apply(this,arguments)}function jd(l){return tg.apply(this,arguments)}function tg(){return tg=(0,p.Z)(function*(l){for(const n of l.la)yield n(!1)}),tg.apply(this,arguments)}function Bf(l,n){const a=Nn(l);a.ca.has(n.targetId)||(a.ca.set(n.targetId,n),Bm(a)?r0(a):du(a).Do()&&ng(a,n))}function Fs(l,n){const a=Nn(l),d=du(a);a.ca.delete(n),d.Do()&&Fm(a,n),0===a.ca.size&&(d.Do()?d.No():Dl(a)&&a.da.set("Unknown"))}function ng(l,n){l._a.Z(n.targetId),du(l).Go(n)}function Fm(l,n){l._a.Z(n),du(l).Qo(n)}function r0(l){l._a=new fm({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>l.ca.get(n)||null}),du(l).start(),l.da.sa()}function Bm(l){return Dl(l)&&!du(l).So()&&l.ca.size>0}function Dl(l){return 0===Nn(l).ha.size}function o0(l){l._a=void 0}function s0(l){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,p.Z)(function*(l){l.ca.forEach((n,a)=>{ng(l,n)})}),Rh.apply(this,arguments)}function Um(l,n){return rg.apply(this,arguments)}function rg(){return rg=(0,p.Z)(function*(l,n){o0(l),Bm(l)?(l.da.oa(n),r0(l)):l.da.set("Unknown")}),rg.apply(this,arguments)}function a0(l,n,a){return ig.apply(this,arguments)}function ig(){return ig=(0,p.Z)(function*(l,n,a){if(l.da.set("Online"),n instanceof Ap&&2===n.state&&n.cause)try{yield(d=(0,p.Z)(function*(g,b){const E=b.cause;for(const F of b.targetIds)g.ca.has(F)&&(yield g.remoteSyncer.rejectListen(F,E),g.ca.delete(F),g._a.removeTarget(F))}),function(g,b){return d.apply(this,arguments)})(l,n)}catch(d){vn("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),d),yield kh(l,d)}else if(n instanceof Cd?l._a.at(n):n instanceof Dp?l._a._t(n):l._a.ht(n),!a.isEqual(xt.min()))try{const d=yield Ju(l.localStore);a.compareTo(d)>=0&&(yield function(g,b){const E=g._a.yt(b);return E.targetChanges.forEach((F,X)=>{if(F.resumeToken.approximateByteSize()>0){const de=g.ca.get(X);de&&g.ca.set(X,de.withResumeToken(F.resumeToken,b))}}),E.targetMismatches.forEach(F=>{const X=g.ca.get(F);if(!X)return;g.ca.set(F,X.withResumeToken(Xi.EMPTY_BYTE_STRING,X.snapshotVersion)),Fm(g,F);const de=new os(X.target,F,1,X.sequenceNumber);ng(g,de)}),g.remoteSyncer.applyRemoteEvent(E)}(l,a))}catch(d){vn("RemoteStore","Failed to raise snapshot:",d),yield kh(l,d)}var d}),ig.apply(this,arguments)}function kh(l,n,a){return og.apply(this,arguments)}function og(){return og=(0,p.Z)(function*(l,n,a){if(!lc(n))throw n;l.ha.add(1),yield jd(l),l.da.set("Offline"),a||(a=()=>Ju(l.localStore)),l.asyncQueue.enqueueRetryable((0,p.Z)(function*(){vn("RemoteStore","Retrying IndexedDB access"),yield a(),l.ha.delete(1),yield Vd(l)}))}),og.apply(this,arguments)}function sg(l,n){return n().catch(a=>kh(l,a,n))}function Hd(l){return ag.apply(this,arguments)}function ag(){return ag=(0,p.Z)(function*(l){const n=Nn(l),a=hu(n);let d=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;for(;Gm(n);)try{const g=yield k1(n.localStore,d);if(null===g){0===n.ua.length&&a.No();break}d=g.batchId,Vm(n,g)}catch(g){yield kh(n,g)}jm(n)&&Pc(n)}),ag.apply(this,arguments)}function Gm(l){return Dl(l)&&l.ua.length<10}function Vm(l,n){l.ua.push(n);const a=hu(l);a.Do()&&a.Wo&&a.zo(n.mutations)}function jm(l){return Dl(l)&&!hu(l).So()&&l.ua.length>0}function Pc(l){hu(l).start()}function cg(l){return lg.apply(this,arguments)}function lg(){return lg=(0,p.Z)(function*(l){hu(l).Yo()}),lg.apply(this,arguments)}function c0(l){return Hm.apply(this,arguments)}function Hm(){return Hm=(0,p.Z)(function*(l){const n=hu(l);for(const a of l.ua)n.zo(a.mutations)}),Hm.apply(this,arguments)}function Uf(l,n,a){return ug.apply(this,arguments)}function ug(){return ug=(0,p.Z)(function*(l,n,a){const d=l.ua.shift(),g=Rs.from(d,n,a);yield sg(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Hd(l)}),ug.apply(this,arguments)}function l0(l,n){return dg.apply(this,arguments)}function dg(){return dg=(0,p.Z)(function*(l,n){var a;n&&hu(l).Wo&&(yield(a=(0,p.Z)(function*(d,g){if(hh(b=g.code)&&b!==Pt.ABORTED){const E=d.ua.shift();hu(d).xo(),yield sg(d,()=>d.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield Hd(d)}var b}),function(d,g){return a.apply(this,arguments)})(l,n)),jm(l)&&Pc(l)}),dg.apply(this,arguments)}function Gf(l,n){return hg.apply(this,arguments)}function hg(){return hg=(0,p.Z)(function*(l,n){const a=Nn(l);a.asyncQueue.verifyOperationInProgress(),vn("RemoteStore","RemoteStore received new credentials");const d=Dl(a);a.ha.add(3),yield jd(a),d&&a.da.set("Unknown"),yield a.remoteSyncer.handleCredentialChange(n),a.ha.delete(3),yield Vd(a)}),hg.apply(this,arguments)}function Wd(){return Wd=(0,p.Z)(function*(l,n){const a=Nn(l);n?(a.ha.delete(2),yield Vd(a)):n||(a.ha.add(2),yield jd(a),a.da.set("Unknown"))}),Wd.apply(this,arguments)}function du(l){return l.wa||(l.wa=function(n,a,d){const g=Nn(n);return g.Zo(),new Ff(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:s0.bind(null,l),Hr:Um.bind(null,l),Ko:a0.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.wa.xo(),Bm(l)?r0(l):l.da.set("Unknown")):(yield l.wa.stop(),o0(l))});return function(a){return n.apply(this,arguments)}}())),l.wa}function hu(l){return l.ma||(l.ma=function(n,a,d){const g=Nn(n);return g.Zo(),new G1(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:cg.bind(null,l),Hr:l0.bind(null,l),Jo:c0.bind(null,l),Ho:Uf.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.ma.xo(),yield Hd(l)):(yield l.ma.stop(),l.ua.length>0&&(vn("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(a){return n.apply(this,arguments)}}())),l.ma}class Lh{constructor(n,a,d,g,b){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=d,this.op=g,this.removalCallback=b,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(n,a,d,g,b){const E=Date.now()+d,F=new Lh(n,a,E,g,b);return F.start(d),F}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(Pt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fu(l,n){if(ui("AsyncQueue",`${n}: ${l}`),lc(l))return new on(Pt.UNAVAILABLE,`${n}: ${l}`);throw l}class Qu{constructor(n){this.comparator=n?(a,d)=>n(a,d)||Ln.comparator(a.key,d.key):(a,d)=>Ln.comparator(a.key,d.key),this.keyedMap=gs(),this.sortedSet=new bo(this.comparator)}static emptySet(n){return new Qu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,d)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof Qu)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),d=n.sortedSet.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(!g.isEqual(b))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,a){const d=new Qu;return d.comparator=this.comparator,d.keyedMap=n,d.sortedSet=a,d}}class u0{constructor(){this.ga=new bo(Ln.comparator)}track(n){const a=n.doc.key,d=this.ga.get(a);d?0!==n.type&&3===d.type?this.ga=this.ga.insert(a,n):3===n.type&&1!==d.type?this.ga=this.ga.insert(a,{type:d.type,doc:n.doc}):2===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):2===n.type&&0===d.type?this.ga=this.ga.insert(a,{type:0,doc:n.doc}):1===n.type&&0===d.type?this.ga=this.ga.remove(a):1===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:1,doc:d.doc}):0===n.type&&1===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):Jn():this.ga=this.ga.insert(a,n)}ya(){const n=[];return this.ga.inorderTraversal((a,d)=>{n.push(d)}),n}}class Fh{constructor(n,a,d,g,b,E,F,X){this.query=n,this.docs=a,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=b,this.fromCache=E,this.syncStateChanged=F,this.excludesMetadataChanges=X}static fromInitialDocuments(n,a,d,g){const b=[];return a.forEach(E=>{b.push({type:0,doc:E})}),new Fh(n,a,Qu.emptySet(a),b,d,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&ml(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,d=n.docChanges;if(a.length!==d.length)return!1;for(let g=0;g<a.length;g++)if(a[g].type!==d[g].type||!a[g].doc.isEqual(d[g].doc))return!1;return!0}}class Wm{constructor(){this.pa=void 0,this.listeners=[]}}class V1{constructor(){this.queries=new Mi(n=>jl(n),ml),this.onlineState="Unknown",this.Ia=new Set}}function pg(){return pg=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.query;let g=!1,b=a.queries.get(d);if(b||(g=!0,b=new Wm),g)try{b.pa=yield a.onListen(d)}catch(E){const F=fu(E,`Initialization of query '${Ec(n.query)}' failed`);return void n.onError(F)}a.queries.set(d,b),b.listeners.push(n),n.Ta(a.onlineState),b.pa&&n.Ea(b.pa)&&Mc(a)}),pg.apply(this,arguments)}function mg(){return mg=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.query;let g=!1;const b=a.queries.get(d);if(b){const E=b.listeners.indexOf(n);E>=0&&(b.listeners.splice(E,1),g=0===b.listeners.length)}if(g)return a.queries.delete(d),a.onUnlisten(d)}),mg.apply(this,arguments)}function d0(l,n){const a=Nn(l);let d=!1;for(const g of n){const E=a.queries.get(g.query);if(E){for(const F of E.listeners)F.Ea(g)&&(d=!0);E.pa=g}}d&&Mc(a)}function h0(l,n,a){const d=Nn(l),g=d.queries.get(n);if(g)for(const b of g.listeners)b.onError(a);d.queries.delete(n)}function Mc(l){l.Ia.forEach(n=>{n.next()})}class Zd{constructor(n,a,d){this.query=n,this.Aa=a,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=d||{}}Ea(n){if(!this.options.includeMetadataChanges){const d=[];for(const g of n.docChanges)3!==g.type&&d.push(g);n=new Fh(n.query,n.docs,n.oldDocs,d,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let a=!1;return this.Ra?this.Pa(n)&&(this.Aa.next(n),a=!0):this.Va(n,this.onlineState)&&(this.va(n),a=!0),this.ba=n,a}onError(n){this.Aa.error(n)}Ta(n){this.onlineState=n;let a=!1;return this.ba&&!this.Ra&&this.Va(this.ba,n)&&(this.va(this.ba),a=!0),a}Va(n,a){return!n.fromCache||!(this.options.Sa&&"Offline"!==a||n.docs.isEmpty()&&"Offline"!==a)}Pa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(n){n=Fh.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Ra=!0,this.Aa.next(n)}}class qm{constructor(n){this.key=n}}class _g{constructor(n){this.key=n}}class qd{constructor(n,a){this.query=n,this.ka=a,this.Ma=null,this.current=!1,this.Oa=Di(),this.mutatedKeys=Di(),this.$a=bd(n),this.Fa=new Qu(this.$a)}get Ba(){return this.ka}La(n,a){const d=a?a.qa:new u0,g=a?a.Fa:this.Fa;let b=a?a.mutatedKeys:this.mutatedKeys,E=g,F=!1;const X=ko(this.query)&&g.size===this.query.limit?g.last():null,de=ao(this.query)&&g.size===this.query.limit?g.first():null;if(n.inorderTraversal((Ze,ot)=>{const It=g.get(Ze),Kt=Hl(this.query,ot)?ot:null,un=!!It&&this.mutatedKeys.has(It.key),ar=!!Kt&&(Kt.hasLocalMutations||this.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations);let Zr=!1;It&&Kt?It.data.isEqual(Kt.data)?un!==ar&&(d.track({type:3,doc:Kt}),Zr=!0):this.Ua(It,Kt)||(d.track({type:2,doc:Kt}),Zr=!0,(X&&this.$a(Kt,X)>0||de&&this.$a(Kt,de)<0)&&(F=!0)):!It&&Kt?(d.track({type:0,doc:Kt}),Zr=!0):It&&!Kt&&(d.track({type:1,doc:It}),Zr=!0,(X||de)&&(F=!0)),Zr&&(Kt?(E=E.add(Kt),b=ar?b.add(Ze):b.delete(Ze)):(E=E.delete(Ze),b=b.delete(Ze)))}),ko(this.query)||ao(this.query))for(;E.size>this.query.limit;){const Ze=ko(this.query)?E.last():E.first();E=E.delete(Ze.key),b=b.delete(Ze.key),d.track({type:1,doc:Ze})}return{Fa:E,qa:d,ei:F,mutatedKeys:b}}Ua(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,d){const g=this.Fa;this.Fa=n.Fa,this.mutatedKeys=n.mutatedKeys;const b=n.qa.ya();b.sort((de,Ze)=>function(ot,It){const Kt=un=>{switch(un){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jn()}};return Kt(ot)-Kt(It)}(de.type,Ze.type)||this.$a(de.doc,Ze.doc)),this.Ka(d);const E=a?this.Ga():[],F=0===this.Oa.size&&this.current?1:0,X=F!==this.Ma;return this.Ma=F,0!==b.length||X?{snapshot:new Fh(this.query,n.Fa,g,b,n.mutatedKeys,0===F,X,!1),Qa:E}:{Qa:E}}Ta(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new u0,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(n){return!this.ka.has(n)&&!!this.Fa.has(n)&&!this.Fa.get(n).hasLocalMutations}Ka(n){n&&(n.addedDocuments.forEach(a=>this.ka=this.ka.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.ka=this.ka.delete(a)),this.current=n.current)}Ga(){if(!this.current)return[];const n=this.Oa;this.Oa=Di(),this.Fa.forEach(d=>{this.ja(d.key)&&(this.Oa=this.Oa.add(d.key))});const a=[];return n.forEach(d=>{this.Oa.has(d)||a.push(new _g(d))}),this.Oa.forEach(d=>{n.has(d)||a.push(new qm(d))}),a}Wa(n){this.ka=n.hi,this.Oa=Di();const a=this.La(n.documents);return this.applyChanges(a,!0)}za(){return Fh.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class W1{constructor(n,a,d){this.query=n,this.targetId=a,this.view=d}}class vg{constructor(n){this.key=n,this.Ha=!1}}class zm{constructor(n,a,d,g,b,E){this.localStore=n,this.remoteStore=a,this.eventManager=d,this.sharedClientState=g,this.currentUser=b,this.maxConcurrentLimboResolutions=E,this.Ja={},this.Ya=new Mi(F=>jl(F),ml),this.Xa=new Map,this.Za=new Set,this.tu=new bo(Ln.comparator),this.eu=new Map,this.nu=new Im,this.su={},this.iu=new Map,this.ru=su.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function p0(l,n){return yg.apply(this,arguments)}function yg(){return yg=(0,p.Z)(function*(l,n){const a=Kd(l);let d,g;const b=a.Ya.get(n);if(b)d=b.targetId,a.sharedClientState.addLocalQueryTarget(d),g=b.view.za();else{const E=yield uu(a.localStore,zi(n));a.isPrimaryClient&&Bf(a.remoteStore,E);const F=a.sharedClientState.addLocalQueryTarget(E.targetId);d=E.targetId,g=yield bg(a,n,d,"current"===F)}return g}),yg.apply(this,arguments)}function bg(l,n,a,d){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,p.Z)(function*(l,n,a,d){l.au=(Ze,ot,It)=>{return(Kt=(0,p.Z)(function*(un,ar,Zr,Ao){let ci=ar.view.La(Zr);ci.ei&&(ci=yield Nf(un.localStore,ar.query,!1).then(({documents:$o})=>ar.view.La($o,ci)));const la=Ao&&Ao.targetChanges.get(ar.targetId),Fo=ar.view.applyChanges(ci,un.isPrimaryClient,la);return Sg(un,ar.targetId,Fo.Qa),Fo.snapshot}),function(un,ar,Zr,Ao){return Kt.apply(this,arguments)})(l,Ze,ot,It);var Kt};const g=yield Nf(l.localStore,n,!0),b=new qd(n,g.hi),E=b.La(g.documents),F=_h.createSynthesizedTargetChangeForCurrentChange(a,d&&"Offline"!==l.onlineState),X=b.applyChanges(E,l.isPrimaryClient,F);Sg(l,a,X.Qa);const de=new W1(n,a,b);return l.Ya.set(n,de),l.Xa.has(a)?l.Xa.get(a).push(n):l.Xa.set(a,[n]),X.snapshot}),Bh.apply(this,arguments)}function Z1(l,n){return zd.apply(this,arguments)}function zd(){return zd=(0,p.Z)(function*(l,n){const a=Nn(l),d=a.Ya.get(n),g=a.Xa.get(d.targetId);if(g.length>1)return a.Xa.set(d.targetId,g.filter(b=>!ml(b,n))),void a.Ya.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(d.targetId),a.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Yu(a.localStore,d.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(d.targetId),Fs(a.remoteStore,d.targetId),mu(a,d.targetId)}).catch(Yc))):(mu(a,d.targetId),yield Yu(a.localStore,d.targetId,!0))}),zd.apply(this,arguments)}function pu(){return pu=(0,p.Z)(function*(l,n,a){const d=Xm(l);try{const g=yield function(b,E){const F=Nn(b),X=Rn.now(),de=E.reduce((ot,It)=>ot.add(It.key),Di());let Ze;return F.persistence.runTransaction("Locally write mutations","readwrite",ot=>F.ui.Us(ot,de).next(It=>{Ze=It;const Kt=[];for(const un of E){const ar=af(un,Ze.get(un.key));null!=ar&&Kt.push(new Os(un.key,ar,Wc(ar.value.mapValue),Vi.exists(!0)))}return F.Fs.addMutationBatch(ot,X,Kt,E)})).then(ot=>(ot.applyToLocalDocumentSet(Ze),{batchId:ot.batchId,changes:Ze}))}(d.localStore,n);d.sharedClientState.addPendingMutation(g.batchId),function(b,E,F){let X=b.su[b.currentUser.toKey()];X||(X=new bo(je)),X=X.insert(E,F),b.su[b.currentUser.toKey()]=X}(d,g.batchId,a),yield Xc(d,g.changes),yield Hd(d.remoteStore)}catch(g){const b=fu(g,"Failed to persist write");a.reject(b)}}),pu.apply(this,arguments)}function jf(l,n){return Oc.apply(this,arguments)}function Oc(){return Oc=(0,p.Z)(function*(l,n){const a=Nn(l);try{const d=yield Ph(a.localStore,n);n.targetChanges.forEach((g,b)=>{const E=a.eu.get(b);E&&(Tr(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?E.Ha=!0:g.modifiedDocuments.size>0?Tr(E.Ha):g.removedDocuments.size>0&&(Tr(E.Ha),E.Ha=!1))}),yield Xc(a,d,n)}catch(d){yield Yc(d)}}),Oc.apply(this,arguments)}function Hf(l,n,a){const d=Nn(l);if(d.isPrimaryClient&&0===a||!d.isPrimaryClient&&1===a){const g=[];d.Ya.forEach((b,E)=>{const F=E.view.Ta(n);F.snapshot&&g.push(F.snapshot)}),function(b,E){const F=Nn(b);F.onlineState=E;let X=!1;F.queries.forEach((de,Ze)=>{for(const ot of Ze.listeners)ot.Ta(E)&&(X=!0)}),X&&Mc(F)}(d.eventManager,n),g.length&&d.Ja.Ko(g),d.onlineState=n,d.isPrimaryClient&&d.sharedClientState.setOnlineState(n)}}function hc(l,n,a){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,p.Z)(function*(l,n,a){const d=Nn(l);d.sharedClientState.updateQueryState(n,"rejected",a);const g=d.eu.get(n),b=g&&g.key;if(b){let E=new bo(Ln.comparator);E=E.insert(b,Ci.newNoDocument(b,xt.min()));const F=Di().add(b),X=new mh(xt.min(),new Map,new Ri(je),E,F);yield jf(d,X),d.tu=d.tu.remove(b),d.eu.delete(n),Bs(d)}else yield Yu(d.localStore,n,!1).then(()=>mu(d,n,a)).catch(Yc)}),Tg.apply(this,arguments)}function q1(l,n){return $m.apply(this,arguments)}function $m(){return $m=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.batch.batchId;try{const g=yield Dm(a.localStore,n);Zf(a,d,null),Cg(a,d),a.sharedClientState.updateMutationState(d,"acknowledged"),yield Xc(a,g)}catch(g){yield Yc(g)}}),$m.apply(this,arguments)}function z1(l,n,a){return $a.apply(this,arguments)}function $a(){return $a=(0,p.Z)(function*(l,n,a){const d=Nn(l);try{const g=yield function(b,E){const F=Nn(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let de;return F.Fs.lookupMutationBatch(X,E).next(Ze=>(Tr(null!==Ze),de=Ze.keys(),F.Fs.removeMutationBatch(X,Ze))).next(()=>F.Fs.performConsistencyCheck(X)).next(()=>F.ui.Us(X,de))})}(d.localStore,n);Zf(d,n,a),Cg(d,n),d.sharedClientState.updateMutationState(n,"rejected",a),yield Xc(d,g)}catch(g){yield Yc(g)}}),$a.apply(this,arguments)}function Cg(l,n){(l.iu.get(n)||[]).forEach(a=>{a.resolve()}),l.iu.delete(n)}function Zf(l,n,a){const d=Nn(l);let g=d.su[d.currentUser.toKey()];if(g){const b=g.get(n);b&&(a?b.reject(a):b.resolve(),g=g.remove(n)),d.su[d.currentUser.toKey()]=g}}function mu(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const d of l.Xa.get(n))l.Ya.delete(d),a&&l.Ja.uu(d,a);l.Xa.delete(n),l.isPrimaryClient&&l.nu.Ri(n).forEach(d=>{l.nu.containsKey(d)||Km(l,d)})}function Km(l,n){l.Za.delete(n.path.canonicalString());const a=l.tu.get(n);null!==a&&(Fs(l.remoteStore,a),l.tu=l.tu.remove(n),l.eu.delete(a),Bs(l))}function Sg(l,n,a){for(const d of a)d instanceof qm?(l.nu.addReference(d.key,n),Uh(l,d)):d instanceof _g?(vn("SyncEngine","Document no longer in limbo: "+d.key),l.nu.removeReference(d.key,n),l.nu.containsKey(d.key)||Km(l,d.key)):Jn()}function Uh(l,n){const a=n.key,d=a.path.canonicalString();l.tu.get(a)||l.Za.has(d)||(vn("SyncEngine","New document in limbo: "+a),l.Za.add(d),Bs(l))}function Bs(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const n=l.Za.values().next().value;l.Za.delete(n);const a=new Ln(lr.fromString(n)),d=l.ru.next();l.eu.set(d,new vg(a)),l.tu=l.tu.insert(a,d),Bf(l.remoteStore,new os(zi(Cr(a.path)),d,2,$.A))}}function Xc(l,n,a){return Jm.apply(this,arguments)}function Jm(){return Jm=(0,p.Z)(function*(l,n,a){const d=Nn(l),g=[],b=[],E=[];var F;d.Ya.isEmpty()||(d.Ya.forEach((F,X)=>{E.push(d.au(X,n,a).then(de=>{if(de){d.isPrimaryClient&&d.sharedClientState.updateQueryState(X.targetId,de.fromCache?"not-current":"current"),g.push(de);const Ze=cu.Js(X.targetId,de);b.push(Ze)}}))}),yield Promise.all(E),d.Ja.Ko(g),yield(F=(0,p.Z)(function*(X,de){const Ze=Nn(X);try{yield Ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>Ft.forEach(de,It=>Ft.forEach(It.zs,Kt=>Ze.persistence.referenceDelegate.addReference(ot,It.targetId,Kt)).next(()=>Ft.forEach(It.Hs,Kt=>Ze.persistence.referenceDelegate.removeReference(ot,It.targetId,Kt)))))}catch(ot){if(!lc(ot))throw ot;vn("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of de){const It=ot.targetId;if(!ot.fromCache){const Kt=Ze.si.get(It),ar=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);Ze.si=Ze.si.insert(It,ar)}}}),function(X,de){return F.apply(this,arguments)})(d.localStore,b))}),Jm.apply(this,arguments)}function Eg(l,n){return $d.apply(this,arguments)}function $d(){return $d=(0,p.Z)(function*(l,n){const a=Nn(l);if(!a.currentUser.isEqual(n)){vn("SyncEngine","User change. New user:",n.toKey());const d=yield Rd(a.localStore,n);a.currentUser=n,(g=a).iu.forEach(E=>{E.forEach(F=>{F.reject(new on(Pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),a.sharedClientState.handleUserChange(n,d.removedBatchIds,d.addedBatchIds),yield Xc(a,d.ci)}var g}),$d.apply(this,arguments)}function m0(l,n){const a=Nn(l),d=a.eu.get(n);if(d&&d.Ha)return Di().add(d.key);{let g=Di();const b=a.Xa.get(n);if(!b)return g;for(const E of b){const F=a.Ya.get(E);g=g.unionWith(F.view.Ba)}return g}}function Kd(l){const n=Nn(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=jf.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=m0.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=hc.bind(null,n),n.Ja.Ko=d0.bind(null,n.eventManager),n.Ja.uu=h0.bind(null,n.eventManager),n}function Xm(l){const n=Nn(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=q1.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=z1.bind(null,n),n}class t_{constructor(){this.synchronizeTabs=!1}initialize(n){var a=this;return(0,p.Z)(function*(){a.M=Gd(n.databaseInfo.databaseId),a.sharedClientState=a.hu(n),a.persistence=a.lu(n),yield a.persistence.start(),a.gcScheduler=a.fu(n),a.localStore=a.du(n)})()}fu(n){return null}du(n){return function Mf(l,n,a,d){return new Nd(l,n,a,d)}(this.persistence,new lu,n.initialUser,this.M)}lu(n){return new Mm(Om.Wi,this.M)}hu(n){return new Fd}terminate(){var n=this;return(0,p.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Xu{initialize(n,a){var d=this;return(0,p.Z)(function*(){d.localStore||(d.localStore=n.localStore,d.sharedClientState=n.sharedClientState,d.datastore=d.createDatastore(a),d.remoteStore=d.createRemoteStore(a),d.eventManager=d.createEventManager(a),d.syncEngine=d.createSyncEngine(a,!n.synchronizeTabs),d.sharedClientState.onlineStateHandler=g=>Hf(d.syncEngine,g,1),d.remoteStore.remoteSyncer.handleCredentialChange=Eg.bind(null,d.syncEngine),yield function fg(l,n){return Wd.apply(this,arguments)}(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(n){return new V1}createDatastore(n){const a=Gd(n.databaseInfo.databaseId),d=new e0(n.databaseInfo);return new t0(n.authCredentials,n.appCheckCredentials,d,a)}createRemoteStore(n){return a=this.localStore,d=this.datastore,g=n.asyncQueue,b=F=>Hf(this.syncEngine,F,0),E=Bd.vt()?new Bd:new km,new n0(a,d,g,b,E);var a,d,g,b,E}createSyncEngine(n,a){return function(d,g,b,E,F,X,de){const Ze=new zm(d,g,b,E,F,X);return de&&(Ze.ou=!0),Ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}terminate(){return(n=(0,p.Z)(function*(a){const d=Nn(a);vn("RemoteStore","RemoteStore shutting down."),d.ha.add(5),yield jd(d),d.fa.shutdown(),d.da.set("Unknown")}),function(a){return n.apply(this,arguments)})(this.remoteStore);var n}}class Yf{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.wu(this.observer.next,n)}error(n){this.observer.error?this.wu(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}mu(){this.muted=!0}wu(n,a){this.muted||setTimeout(()=>{this.muted||n(a)},0)}}class td{constructor(n,a,d,g){var b=this;this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=d,this.databaseInfo=g,this.user=io.UNAUTHENTICATED,this.clientId=Ge.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(){var E=(0,p.Z)(function*(F){vn("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(d,E=>(vn("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var n=this;return(0,p.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new on(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const a=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),a.resolve()}catch(d){const g=fu(d,"Failed to shutdown persistence");a.reject(g)}})),a.promise}}function Dg(l,n){return Al.apply(this,arguments)}function Al(){return Al=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),vn("FirestoreClient","Initializing OfflineComponentProvider");const a=yield l.getConfiguration();yield n.initialize(a);let d=a.initialUser;l.setCredentialChangeListener(function(){var g=(0,p.Z)(function*(b){d.isEqual(b)||(yield Rd(n.localStore,b),d=b)});return function(b){return g.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=n}),Al.apply(this,arguments)}function Ag(l,n){return Ka.apply(this,arguments)}function Ka(){return Ka=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const a=yield Jd(l);vn("FirestoreClient","Initializing OnlineComponentProvider");const d=yield l.getConfiguration();yield n.initialize(a,d),l.setCredentialChangeListener(g=>Gf(n.remoteStore,g)),l.setAppCheckTokenChangeListener((g,b)=>Gf(n.remoteStore,b)),l.onlineComponents=n}),Ka.apply(this,arguments)}function Jd(l){return Us.apply(this,arguments)}function Us(){return Us=(0,p.Z)(function*(l){return l.offlineComponents||(vn("FirestoreClient","Using default OfflineComponentProvider"),yield Dg(l,new t_)),l.offlineComponents}),Us.apply(this,arguments)}function Nc(l){return aa.apply(this,arguments)}function aa(){return aa=(0,p.Z)(function*(l){return l.onlineComponents||(vn("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(l,new Xu)),l.onlineComponents}),aa.apply(this,arguments)}function el(l){return id.apply(this,arguments)}function id(){return id=(0,p.Z)(function*(l){const n=yield Nc(l),a=n.eventManager;return a.onListen=p0.bind(null,n.syncEngine),a.onUnlisten=Z1.bind(null,n.syncEngine),a}),id.apply(this,arguments)}const i_=new Map;function ep(l,n,a){if(!a)throw new on(Pt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function o_(l){if(!Ln.isDocumentKey(l))throw new on(Pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function s_(l){if(Ln.isDocumentKey(l))throw new on(Pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function tp(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(a=l).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof l?"a function":Jn()}function Ai(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new on(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=tp(l);throw new on(Pt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}class c_{constructor(n){var a;if(void 0===n.host){if(void 0!==n.ssl)throw new on(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(a=n.ssl)||void 0===a||a;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new on(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,function E0(l,n,a,d){if(!0===n&&!0===d)throw new on(Pt.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class np{constructor(n,a,d){this._authCredentials=a,this._appCheckCredentials=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new c_({}),this._settingsFrozen=!1,n instanceof Sc?this._databaseId=n:(this._app=n,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new on(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Sc(g.options.projectId)}(n))}get app(){if(!this._app)throw new on(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new on(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new c_(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new oc;switch(a.type){case"gapi":const d=a.client;return Tr(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new k(d,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new on(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=i_.get(n);a&&(vn("ComponentProvider","Removing Datastore"),i_.delete(n),a.terminate())}(this),Promise.resolve()}}class qo{constructor(n,a,d){this.converter=a,this._key=d,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tl(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new qo(this.firestore,n,this._key)}}class ca{constructor(n,a,d){this.converter=a,this._query=d,this.type="query",this.firestore=n}withConverter(n){return new ca(this.firestore,n,this._query)}}class tl extends ca{constructor(n,a,d){super(n,a,Cr(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new qo(this.firestore,null,new Ln(n))}withConverter(n){return new tl(this.firestore,n,this._path)}}function vs(l,n,...a){if(l=(0,O.m9)(l),ep("collection","path",n),l instanceof np){const d=lr.fromString(n,...a);return s_(d),new tl(l,null,d)}{if(!(l instanceof qo||l instanceof tl))throw new on(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(lr.fromString(n,...a));return s_(d),new tl(l.firestore,null,d)}}function Y1(l,n,...a){if(l=(0,O.m9)(l),1===arguments.length&&(n=Ge.R()),ep("doc","path",n),l instanceof np){const d=lr.fromString(n,...a);return o_(d),new qo(l,null,new Ln(d))}{if(!(l instanceof qo||l instanceof tl))throw new on(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(lr.fromString(n,...a));return o_(d),new qo(l.firestore,l instanceof tl?l.converter:null,new Ln(d))}}class Qd{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Lf(this,"async_queue_retry"),this.Fu=()=>{const a=kf();a&&vn("AsyncQueue","Visibility state changed to "+a.visibilityState),this.vo.To()};const n=kf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Bu(),this.Lu(n)}enterRestrictedMode(n){if(!this.xu){this.xu=!0,this.Ou=n||!1;const a=kf();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Fu)}}enqueue(n){if(this.Bu(),this.xu)return new Promise(()=>{});const a=new Ii;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Cu.push(n),this.qu()))}qu(){var n=this;return(0,p.Z)(function*(){if(0!==n.Cu.length){try{yield n.Cu[0](),n.Cu.shift(),n.vo.reset()}catch(a){if(!lc(a))throw a;vn("AsyncQueue","Operation failed with retryable error: "+a)}n.Cu.length>0&&n.vo.po(()=>n.qu())}})()}Lu(n){const a=this.Du.then(()=>(this.Mu=!0,n().catch(d=>{throw this.ku=d,this.Mu=!1,ui("INTERNAL UNHANDLED ERROR: ",function(b){let E=b.message||"";return b.stack&&(E=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),E}(d)),d}).then(d=>(this.Mu=!1,d))));return this.Du=a,a}enqueueAfterDelay(n,a,d){this.Bu(),this.$u.indexOf(n)>-1&&(a=0);const g=Lh.createAndSchedule(this,n,a,d,b=>this.Uu(b));return this.Nu.push(g),g}Bu(){this.ku&&Jn()}verifyOperationInProgress(){}Ku(){var n=this;return(0,p.Z)(function*(){let a;do{a=n.Du,yield a}while(a!==n.Du)})()}Gu(n){for(const a of this.Nu)if(a.timerId===n)return!0;return!1}Qu(n){return this.Ku().then(()=>{this.Nu.sort((a,d)=>a.targetTimeMs-d.targetTimeMs);for(const a of this.Nu)if(a.skipDelay(),"all"!==n&&a.timerId===n)break;return this.Ku()})}ju(n){this.$u.push(n)}Uu(n){const a=this.Nu.indexOf(n);this.Nu.splice(a,1)}}function rp(l){return function(n,a){if("object"!=typeof n||null===n)return!1;const d=n;for(const g of["next","error","complete"])if(g in d&&"function"==typeof d[g])return!0;return!1}(l)}class Do extends np{constructor(n,a,d){super(n,a,d),this.type="firestore",this._queue=new Qd,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||u_(this),this._firestoreClient.terminate()}}function Ig(l=(0,e.getApp)()){return(0,e._getProvider)(l,"firestore").getImmediate()}function As(l){return l._firestoreClient||u_(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function u_(l){var n;const a=l._freezeSettings(),d=(b=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Ul(l._databaseId,b,l._persistenceKey,(F=a).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var b,F;l._firestoreClient=new td(l._authCredentials,l._appCheckCredentials,l._queue,d)}class od{constructor(...n){for(let a=0;a<n.length;++a)if(0===n[a].length)throw new on(Pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new qi(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class vu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new vu(Xi.fromBase64String(n))}catch(a){throw new on(Pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new vu(Xi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class h_{constructor(n){this._methodName=n}}class Og{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new on(Pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new on(Pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return je(this._lat,n._lat)||je(this._long,n._long)}}const I0=/^__.*__$/;class Ng{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return null!==this.fieldMask?new Os(n,this.data,this.fieldMask,a,this.fieldTransforms):new Lu(n,this.data,a,this.fieldTransforms)}}class iv{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return new Os(n,this.data,this.fieldMask,a,this.fieldTransforms)}}function Rg(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jn()}}class kg{constructor(n,a,d,g,b,E){this.settings=n,this.databaseId=a,this.M=d,this.ignoreUndefinedProperties=g,void 0===b&&this.Wu(),this.fieldTransforms=b||[],this.fieldMask=E||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(n){return new kg(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Xu(n),g}Zu(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Wu(),g}tc(n){return this.Hu({path:void 0,Yu:!0})}ec(n){return op(n,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(n){return void 0!==this.fieldMask.find(a=>n.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>n.isPrefixOf(a.field))}Wu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Xu(this.path.get(n))}Xu(n){if(0===n.length)throw this.ec("Document fields must not be empty");if(Rg(this.zu)&&I0.test(n))throw this.ec('Document fields cannot begin and end with "__"')}}class Sb{constructor(n,a,d){this.databaseId=n,this.ignoreUndefinedProperties=a,this.M=d||Gd(n)}ic(n,a,d,g=!1){return new kg({zu:n,methodName:a,sc:d,path:qi.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function xl(l){const n=l._freezeSettings(),a=Gd(l._databaseId);return new Sb(l._databaseId,!!n.ignoreUndefinedProperties,a)}function Lg(l,n,a,d,g,b={}){const E=l.ic(b.merge||b.mergeFields?2:0,n,a,g);ip("Data must be an object, but it was:",E,d);const F=Gg(d,E);let X,de;if(b.merge)X=new ds(E.fieldMask),de=E.fieldTransforms;else if(b.mergeFields){const Ze=[];for(const ot of b.mergeFields){const It=Vg(n,ot,a);if(!E.contains(It))throw new on(Pt.INVALID_ARGUMENT,`Field '${It}' is specified in your field mask but missing from your input data.`);gc(Ze,It)||Ze.push(It)}X=new ds(Ze),de=E.fieldTransforms.filter(ot=>X.covers(ot.field))}else X=null,de=E.fieldTransforms;return new Ng(new so(F),X,de)}class Xd extends h_{_toFieldTransform(n){if(2!==n.zu)throw n.ec(1===n.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Xd}}function Il(l,n){if(g_(l=(0,O.m9)(l)))return ip("Unsupported field value:",n,l),Gg(l,n);if(l instanceof h_)return function(a,d){if(!Rg(d.zu))throw d.ec(`${a._methodName}() can only be used with update() and set()`);if(!d.path)throw d.ec(`${a._methodName}() is not currently supported inside arrays`);const g=a._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Yu&&4!==n.zu)throw n.ec("Nested arrays are not supported");return function(a,d){const g=[];let b=0;for(const E of a){let F=Il(E,d.tc(b));null==F&&(F={nullValue:"NULL_VALUE"}),g.push(F),b++}return{arrayValue:{values:g}}}(l,n)}return function(a,d){if(null===(a=(0,O.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return is(d.M,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const g=Rn.fromDate(a);return{timestampValue:lo(d.M,g)}}if(a instanceof Rn){const g=new Rn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lo(d.M,g)}}if(a instanceof Og)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof vu)return{bytesValue:gf(d.M,a._byteString)};if(a instanceof qo){const g=d.databaseId,b=a.firestore._databaseId;if(!b.isEqual(g))throw d.ec(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:vh(a.firestore._databaseId||d.databaseId,a._key.path)}}throw d.ec(`Unsupported field value: ${tp(a)}`)}(l,n)}function Gg(l,n){const a={};return ei(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Sr(l,(d,g)=>{const b=Il(g,n.Ju(d));null!=b&&(a[d]=b)}),{mapValue:{fields:a}}}function g_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Rn||l instanceof Og||l instanceof vu||l instanceof qo||l instanceof h_)}function ip(l,n,a){if(!g_(a)||"object"!=typeof(d=a)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const d=tp(a);throw n.ec("an object"===d?l+" a custom object":l+" "+d)}var d}function Vg(l,n,a){if((n=(0,O.m9)(n))instanceof od)return n._internalPath;if("string"==typeof n)return sd(l,n);throw op("Field path arguments must be of type string or ",l,!1,void 0,a)}const M0=new RegExp("[~\\*/\\[\\]]");function sd(l,n,a){if(n.search(M0)>=0)throw op(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,a);try{return new od(...n.split("."))._internalPath}catch(d){throw op(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,a)}}function op(l,n,a,d,g){const b=d&&!d.isEmpty(),E=void 0!==g;let F=`Function ${n}() called with invalid data`;a&&(F+=" (via `toFirestore()`)"),F+=". ";let X="";return(b||E)&&(X+=" (found",b&&(X+=` in field ${d}`),E&&(X+=` in document ${g}`),X+=")"),new on(Pt.INVALID_ARGUMENT,F+l+X)}function gc(l,n){return l.some(a=>a.isEqual(n))}class eo{constructor(n,a,d,g,b){this._firestore=n,this._userDataWriter=a,this._key=d,this._document=g,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new sp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(ad("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a)}}}class sp extends eo{data(){return super.data()}}function ad(l,n){return"string"==typeof n?sd(l,n):n instanceof od?n._internalPath:n._delegate._internalPath}class nl{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class eh extends eo{constructor(n,a,d,g,b,E){super(n,a,d,g,E),this._firestore=n,this._firestoreImpl=n,this.metadata=b}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new Kh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const d=this._document.data.field(ad("DocumentSnapshot.get",n));if(null!==d)return this._userDataWriter.convertValue(d,a.serverTimestamps)}}}class Kh extends eh{data(n={}){return super.data(n)}}class Pl{constructor(n,a,d,g){this._firestore=n,this._userDataWriter=a,this._snapshot=g,this.metadata=new nl(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const n=[];return this.forEach(a=>n.push(a)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,a){this._snapshot.docs.forEach(d=>{n.call(a,new Kh(this._firestore,this._userDataWriter,d.key,d,new nl(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new on(Pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(E=>({type:"added",doc:new Kh(d._firestore,d._userDataWriter,E.doc.key,E.doc,new nl(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(E=>g||3!==E.type).map(E=>{const F=new Kh(d._firestore,d._userDataWriter,E.doc.key,E.doc,new nl(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter);let X=-1,de=-1;return 0!==E.type&&(X=b.indexOf(E.doc.key),b=b.delete(E.doc.key)),1!==E.type&&(b=b.add(E.doc),de=b.indexOf(E.doc.key)),{type:m_(E.type),doc:F,oldIndex:X,newIndex:de}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function m_(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jn()}}function ld(l,n,a){let d;return d=l?a&&(a.merge||a.mergeFields)?l.toFirestore(n,a):l.toFirestore(n):n,d}class av{constructor(n,a){this._firestore=n,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=xl(n)}set(n,a,d){this._verifyNotCommitted();const g=cp(n,this._firestore),b=ld(g.converter,a,d),E=Lg(this._dataReader,"WriteBatch.set",g._key,b,null!==g.converter,d);return this._mutations.push(E.toMutation(g._key,Vi.none())),this}update(n,a,d,...g){this._verifyNotCommitted();const b=cp(n,this._firestore);let E;return E="string"==typeof(a=(0,O.m9)(a))||a instanceof od?function P0(l,n,a,d,g,b){const E=l.ic(1,n,a),F=[Vg(n,d,a)],X=[g];if(b.length%2!=0)throw new on(Pt.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let It=0;It<b.length;It+=2)F.push(Vg(n,b[It])),X.push(b[It+1]);const de=[],Ze=so.empty();for(let It=F.length-1;It>=0;--It)if(!gc(de,F[It])){const Kt=F[It];let un=X[It];un=(0,O.m9)(un);const ar=E.Zu(Kt);if(un instanceof Xd)de.push(Kt);else{const Zr=Il(un,ar);null!=Zr&&(de.push(Kt),Ze.set(Kt,Zr))}}const ot=new ds(de);return new iv(Ze,ot,E.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a,d,g):function ov(l,n,a,d){const g=l.ic(1,n,a);ip("Data must be an object, but it was:",g,d);const b=[],E=so.empty();Sr(d,(X,de)=>{const Ze=sd(n,X,a);de=(0,O.m9)(de);const ot=g.Zu(Ze);if(de instanceof Xd)b.push(Ze);else{const It=Il(de,ot);null!=It&&(b.push(Ze),E.set(Ze,It))}});const F=new ds(b);return new iv(E,F,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a),this._mutations.push(E.toMutation(b._key,Vi.exists(!0))),this}delete(n){this._verifyNotCommitted();const a=cp(n,this._firestore);return this._mutations=this._mutations.concat(new vl(a._key,Vi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new on(Pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function cp(l,n){if((l=(0,O.m9)(l)).firestore!==n)throw new on(Pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class ud extends class L0{convertValue(n,a="none"){switch(Ba(n)){case 0:return null;case 1:return n.booleanValue;case 2:return bi(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(hs(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 10:return this.convertObject(n.mapValue,a);default:throw Jn()}}convertObject(n,a){const d={};return Sr(n.fields,(g,b)=>{d[g]=this.convertValue(b,a)}),d}convertGeoPoint(n){return new Og(bi(n.latitude),bi(n.longitude))}convertArray(n,a){return(n.values||[]).map(d=>this.convertValue(d,a))}convertServerTimestamp(n,a){switch(a){case"previous":const d=Bl(n);return null==d?null:this.convertValue(d,a);case"estimate":return this.convertTimestamp(Eo(n));default:return null}}convertTimestamp(n){const a=_i(n);return new Rn(a.seconds,a.nanos)}convertDocumentKey(n,a){const d=lr.fromString(n);Tr(Va(d));const g=new Sc(d.get(1),d.get(3)),b=new Ln(d.popFirst(5));return g.isEqual(a)||ui(`Document ${b} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),b}}{constructor(n){super(),this.firestore=n}convertBytes(n){return new vu(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new qo(this.firestore,null,a)}}function qg(l,n,a){l=Ai(l,qo);const d=Ai(l.firestore,Do),g=ld(l.converter,n,a);return ih(d,[Lg(xl(d),"setDoc",l._key,g,null!==l.converter,a).toMutation(l._key,Vi.none())])}function Aa(l){return ih(Ai(l.firestore,Do),[new vl(l._key,Vi.none())])}function Rc(l,n){const a=Ai(l.firestore,Do),d=Y1(l),g=ld(l.converter,n);return ih(a,[Lg(xl(l.firestore),"addDoc",d._key,g,null!==l.converter,{}).toMutation(d._key,Vi.exists(!1))]).then(()=>d)}function Jh(l,...n){var a,d,g;l=(0,O.m9)(l);let b={includeMetadataChanges:!1},E=0;"object"!=typeof n[E]||rp(n[E])||(b=n[E],E++);const F={includeMetadataChanges:b.includeMetadataChanges};if(rp(n[E])){const ot=n[E];n[E]=null===(a=ot.next)||void 0===a?void 0:a.bind(ot),n[E+1]=null===(d=ot.error)||void 0===d?void 0:d.bind(ot),n[E+2]=null===(g=ot.complete)||void 0===g?void 0:g.bind(ot)}let X,de,Ze;if(l instanceof qo)de=Ai(l.firestore,Do),Ze=Cr(l._key.path),X={next:ot=>{n[E]&&n[E](function Nl(l,n,a){const d=a.docs.get(n._key),g=new ud(l);return new eh(l,g,n._key,d,new nl(a.hasPendingWrites,a.fromCache),n.converter)}(de,l,ot))},error:n[E+1],complete:n[E+2]};else{const ot=Ai(l,ca);de=Ai(ot.firestore,Do),Ze=ot._query;const It=new ud(de);X={next:Kt=>{n[E]&&n[E](new Pl(de,It,ot,Kt))},error:n[E+1],complete:n[E+2]},function th(l){if(ao(l)&&0===l.explicitOrderBy.length)throw new on(Pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(ot,It,Kt,un){const ar=new Yf(un),Zr=new Zd(It,ar,Kt);return ot.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Zm(l,n){return pg.apply(this,arguments)}(yield el(ot),Zr)})),()=>{ar.mu(),ot.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function gg(l,n){return mg.apply(this,arguments)}(yield el(ot),Zr)}))}}(As(de),Ze,F,X)}function ih(l,n){return function(a,d){const g=new Ii;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function g0(l,n,a){return pu.apply(this,arguments)}(yield function rd(l){return Nc(l).then(n=>n.syncEngine)}(a),d,g)})),g.promise}(As(l),n)}function C_(l){return As(l=Ai(l,Do)),new av(l,n=>ih(l,n))}!function(l,n=!0){So=e.SDK_VERSION,(0,e._registerComponent)(new T.wA("firestore",(a,{options:d})=>{const g=a.getProvider("app").getImmediate(),b=new Do(g,new md(a.getProvider("auth-internal")),new D(a.getProvider("app-check-internal")));return d=Object.assign({useFetchStreams:n},d),b._setSettings(d),b},"PUBLIC")),(0,e.registerVersion)(rc,"3.4.6",l),(0,e.registerVersion)(rc,"3.4.6","esm2017")}()},5199:(pt,w,x)=>{pt=x.nmd(pt);var e="__lodash_hash_undefined__",O=9007199254740991,j="[object Arguments]",fe="[object Function]",_e="[object Object]",kt=/^\[object .+?Constructor\]$/,wt=/^(?:0|[1-9]\d*)$/,Wt={};Wt["[object Float32Array]"]=Wt["[object Float64Array]"]=Wt["[object Int8Array]"]=Wt["[object Int16Array]"]=Wt["[object Int32Array]"]=Wt["[object Uint8Array]"]=Wt["[object Uint8ClampedArray]"]=Wt["[object Uint16Array]"]=Wt["[object Uint32Array]"]=!0,Wt[j]=Wt["[object Array]"]=Wt["[object ArrayBuffer]"]=Wt["[object Boolean]"]=Wt["[object DataView]"]=Wt["[object Date]"]=Wt["[object Error]"]=Wt[fe]=Wt["[object Map]"]=Wt["[object Number]"]=Wt[_e]=Wt["[object RegExp]"]=Wt["[object Set]"]=Wt["[object String]"]=Wt["[object WeakMap]"]=!1;var bn="object"==typeof global&&global&&global.Object===Object&&global,rr="object"==typeof self&&self&&self.Object===Object&&self,$n=bn||rr||Function("return this")(),wr=w&&!w.nodeType&&w,br=wr&&pt&&!pt.nodeType&&pt,vr=br&&br.exports===wr,ni=vr&&bn.process,Ar=function(){try{return br&&br.require&&br.require("util").types||ni&&ni.binding&&ni.binding("util")}catch(Pe){}}(),Gr=Ar&&Ar.isTypedArray;function Oi(oe,Pe,We){switch(We.length){case 0:return oe.call(Pe);case 1:return oe.call(Pe,We[0]);case 2:return oe.call(Pe,We[0],We[1]);case 3:return oe.call(Pe,We[0],We[1],We[2])}return oe.apply(Pe,We)}var oe,Bn=Array.prototype,ri=Object.prototype,Qr=$n["__core-js_shared__"],Be=Function.prototype.toString,gt=ri.hasOwnProperty,Ue=(oe=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",ce=ri.toString,be=Be.call(Object),at=RegExp("^"+Be.call(gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=vr?$n.Buffer:void 0,bt=$n.Symbol,Ot=$n.Uint8Array,dn=ct?ct.allocUnsafe:void 0,Zt=function ki(oe,Pe){return function(We){return oe(Pe(We))}}(Object.getPrototypeOf,Object),an=Object.create,Vn=ri.propertyIsEnumerable,fn=Bn.splice,jn=bt?bt.toStringTag:void 0,Gt=function(){try{var oe=Vr(Object,"defineProperty");return oe({},"",{}),oe}catch(Pe){}}(),er=ct?ct.isBuffer:void 0,kn=Math.max,Bt=Date.now,ft=Vr($n,"Map"),tn=Vr(Object,"create"),yn=function(){function oe(){}return function(Pe){if(!Oe(Pe))return{};if(an)return an(Pe);oe.prototype=Pe;var We=new oe;return oe.prototype=void 0,We}}();function Wn(oe){var Pe=-1,We=null==oe?0:oe.length;for(this.clear();++Pe<We;){var Et=oe[Pe];this.set(Et[0],Et[1])}}function Ke(oe){var Pe=-1,We=null==oe?0:oe.length;for(this.clear();++Pe<We;){var Et=oe[Pe];this.set(Et[0],Et[1])}}function sr(oe){var Pe=-1,We=null==oe?0:oe.length;for(this.clear();++Pe<We;){var Et=oe[Pe];this.set(Et[0],Et[1])}}function cn(oe){var Pe=this.__data__=new Ke(oe);this.size=Pe.size}function gn(oe,Pe,We){(void 0!==We&&!Co(oe[Pe],We)||void 0===We&&!(Pe in oe))&&On(oe,Pe,We)}function An(oe,Pe,We){var Et=oe[Pe];(!gt.call(oe,Pe)||!Co(Et,We)||void 0===We&&!(Pe in oe))&&On(oe,Pe,We)}function _n(oe,Pe){for(var We=oe.length;We--;)if(Co(oe[We][0],Pe))return We;return-1}function On(oe,Pe,We){"__proto__"==Pe&&Gt?Gt(oe,Pe,{configurable:!0,enumerable:!0,value:We,writable:!0}):oe[Pe]=We}Wn.prototype.clear=function Un(){this.__data__=tn?tn(null):{},this.size=0},Wn.prototype.delete=function Me(oe){var Pe=this.has(oe)&&delete this.__data__[oe];return this.size-=Pe?1:0,Pe},Wn.prototype.get=function Ae(oe){var Pe=this.__data__;if(tn){var We=Pe[oe];return We===e?void 0:We}return gt.call(Pe,oe)?Pe[oe]:void 0},Wn.prototype.has=function Se(oe){var Pe=this.__data__;return tn?void 0!==Pe[oe]:gt.call(Pe,oe)},Wn.prototype.set=function lt(oe,Pe){var We=this.__data__;return this.size+=this.has(oe)?0:1,We[oe]=tn&&void 0===Pe?e:Pe,this},Ke.prototype.clear=function qt(){this.__data__=[],this.size=0},Ke.prototype.delete=function Zn(oe){var Pe=this.__data__,We=_n(Pe,oe);return!(We<0||(We==Pe.length-1?Pe.pop():fn.call(Pe,We,1),--this.size,0))},Ke.prototype.get=function qn(oe){var Pe=this.__data__,We=_n(Pe,oe);return We<0?void 0:Pe[We][1]},Ke.prototype.has=function ir(oe){return _n(this.__data__,oe)>-1},Ke.prototype.set=function or(oe,Pe){var We=this.__data__,Et=_n(We,oe);return Et<0?(++this.size,We.push([oe,Pe])):We[Et][1]=Pe,this},sr.prototype.clear=function Cn(){this.size=0,this.__data__={hash:new Wn,map:new(ft||Ke),string:new Wn}},sr.prototype.delete=function In(oe){var Pe=Dr(this,oe).delete(oe);return this.size-=Pe?1:0,Pe},sr.prototype.get=function Sn(oe){return Dr(this,oe).get(oe)},sr.prototype.has=function Xe(oe){return Dr(this,oe).has(oe)},sr.prototype.set=function St(oe,Pe){var We=Dr(this,oe),Et=We.size;return We.set(oe,Pe),this.size+=We.size==Et?0:1,this},cn.prototype.clear=function Qn(){this.__data__=new Ke,this.size=0},cn.prototype.delete=function gr(oe){var Pe=this.__data__,We=Pe.delete(oe);return this.size=Pe.size,We},cn.prototype.get=function Yt(oe){return this.__data__.get(oe)},cn.prototype.has=function sn(oe){return this.__data__.has(oe)},cn.prototype.set=function rt(oe,Pe){var We=this.__data__;if(We instanceof Ke){var Et=We.__data__;if(!ft||Et.length<199)return Et.push([oe,Pe]),this.size=++We.size,this;We=this.__data__=new sr(Et)}return We.set(oe,Pe),this.size=We.size,this};var tr=function $t(oe){return function(Pe,We,Et){for(var hn=-1,xn=Object(Pe),Pn=Et(Pe),Fn=Pn.length;Fn--;){var ur=Pn[oe?Fn:++hn];if(!1===We(xn[ur],ur,xn))break}return Pe}}();function pn(oe){return null==oe?void 0===oe?"[object Undefined]":"[object Null]":jn&&jn in Object(oe)?function Ir(oe){var Pe=gt.call(oe,jn),We=oe[jn];try{oe[jn]=void 0;var Et=!0}catch(xn){}var hn=ce.call(oe);return Et&&(Pe?oe[jn]=We:delete oe[jn]),hn}(oe):function no(oe){return ce.call(oe)}(oe)}function Gn(oe){return he(oe)&&pn(oe)==j}function Ei(oe,Pe,We,Et,hn){oe!==Pe&&tr(Pe,function(xn,Pn){if(hn||(hn=new cn),Oe(xn))!function to(oe,Pe,We,Et,hn,xn,Pn){var Fn=as(oe,We),ur=as(Pe,We),Mr=Pn.get(ur);if(Mr)gn(oe,We,Mr);else{var Xr=xn?xn(Fn,ur,We+"",oe,Pe,Pn):void 0,Zi=void 0===Xr;if(Zi){var Uo=Qo(ur),jr=!Uo&&cs(ur),H=!Uo&&!jr&&W(ur);Xr=ur,Uo||jr||H?Qo(Fn)?Xr=Fn:function mo(oe){return he(oe)&&wi(oe)}(Fn)?Xr=function ze(oe,Pe){var We=-1,Et=oe.length;for(Pe||(Pe=Array(Et));++We<Et;)Pe[We]=oe[We];return Pe}(Fn):jr?(Zi=!1,Xr=function Wi(oe,Pe){if(Pe)return oe.slice();var We=oe.length,Et=dn?dn(We):new oe.constructor(We);return oe.copy(Et),Et}(ur,!0)):H?(Zi=!1,Xr=function st(oe,Pe){var We=Pe?function Jr(oe){var Pe=new oe.constructor(oe.byteLength);return new Ot(Pe).set(new Ot(oe)),Pe}(oe.buffer):oe.buffer;return new oe.constructor(We,oe.byteOffset,oe.length)}(ur,!0)):Xr=[]:function R(oe){if(!he(oe)||pn(oe)!=_e)return!1;var Pe=Zt(oe);if(null===Pe)return!0;var We=gt.call(Pe,"constructor")&&Pe.constructor;return"function"==typeof We&&We instanceof We&&Be.call(We)==be}(ur)||xs(ur)?(Xr=Fn,xs(Fn)?Xr=function z(oe){return function Tt(oe,Pe,We,Et){var hn=!We;We||(We={});for(var xn=-1,Pn=Pe.length;++xn<Pn;){var Fn=Pe[xn],ur=Et?Et(We[Fn],oe[Fn],Fn,We,oe):void 0;void 0===ur&&(ur=oe[Fn]),hn?On(We,Fn,ur):An(We,Fn,ur)}return We}(oe,we(oe))}(Fn):(!Oe(Fn)||ho(Fn))&&(Xr=function gi(oe){return"function"!=typeof oe.constructor||Ts(oe)?{}:yn(Zt(oe))}(ur))):Zi=!1}Zi&&(Pn.set(ur,Xr),hn(Xr,ur,Et,xn,Pn),Pn.delete(ur)),gn(oe,We,Xr)}}(oe,Pe,Pn,We,Ei,Et,hn);else{var Fn=Et?Et(as(oe,Pn),xn,Pn+"",oe,Pe,hn):void 0;void 0===Fn&&(Fn=xn),gn(oe,Pn,Fn)}},we)}function Hi(oe,Pe){return Fi(function Yo(oe,Pe,We){return Pe=kn(void 0===Pe?oe.length-1:Pe,0),function(){for(var Et=arguments,hn=-1,xn=kn(Et.length-Pe,0),Pn=Array(xn);++hn<xn;)Pn[hn]=Et[Pe+hn];hn=-1;for(var Fn=Array(Pe+1);++hn<Pe;)Fn[hn]=Et[hn];return Fn[Pe]=We(Pn),Oi(oe,this,Fn)}}(oe,Pe,Fe),oe+"")}var zr=Gt?function(oe,Pe){return Gt(oe,"toString",{configurable:!0,enumerable:!1,value:Ie(Pe),writable:!0})}:Fe;function Tn(oe,Pe,We,Et,hn,xn){return Oe(oe)&&Oe(Pe)&&(xn.set(Pe,oe),Ei(oe,Pe,void 0,Tn,xn),xn.delete(Pe)),oe}function Dr(oe,Pe){var We=oe.__data__;return function To(oe){var Pe=typeof oe;return"string"==Pe||"number"==Pe||"symbol"==Pe||"boolean"==Pe?"__proto__"!==oe:null===oe}(Pe)?We["string"==typeof Pe?"string":"hash"]:We.map}function Vr(oe,Pe){var We=function Wr(oe,Pe){return null==oe?void 0:oe[Pe]}(oe,Pe);return function Pr(oe){return!(!Oe(oe)||function Li(oe){return!!Ue&&Ue in oe}(oe))&&(ho(oe)?at:kt).test(function Gi(oe){if(null!=oe){try{return Be.call(oe)}catch(Pe){}try{return oe+""}catch(Pe){}}return""}(oe))}(We)?We:void 0}function Mo(oe,Pe){var We=typeof oe;return!!(Pe=null==Pe?O:Pe)&&("number"==We||"symbol"!=We&&wt.test(oe))&&oe>-1&&oe%1==0&&oe<Pe}function Ts(oe){var Pe=oe&&oe.constructor;return oe===("function"==typeof Pe&&Pe.prototype||ri)}function as(oe,Pe){if(("constructor"!==Pe||"function"!=typeof oe[Pe])&&"__proto__"!=Pe)return oe[Pe]}var Fi=function ro(oe){var Pe=0,We=0;return function(){var Et=Bt(),hn=16-(Et-We);if(We=Et,hn>0){if(++Pe>=800)return arguments[0]}else Pe=0;return oe.apply(void 0,arguments)}}(zr);function Co(oe,Pe){return oe===Pe||oe!=oe&&Pe!=Pe}var xs=Gn(function(){return arguments}())?Gn:function(oe){return he(oe)&&gt.call(oe,"callee")&&!Vn.call(oe,"callee")},Qo=Array.isArray;function wi(oe){return null!=oe&&Ee(oe.length)&&!ho(oe)}var cs=er||function dt(){return!1};function ho(oe){if(!Oe(oe))return!1;var Pe=pn(oe);return Pe==fe||"[object GeneratorFunction]"==Pe||"[object AsyncFunction]"==Pe||"[object Proxy]"==Pe}function Ee(oe){return"number"==typeof oe&&oe>-1&&oe%1==0&&oe<=O}function Oe(oe){var Pe=typeof oe;return null!=oe&&("object"==Pe||"function"==Pe)}function he(oe){return null!=oe&&"object"==typeof oe}var W=Gr?function Kr(oe){return function(Pe){return oe(Pe)}}(Gr):function Xn(oe){return he(oe)&&Ee(oe.length)&&!!Wt[pn(oe)]},ee=Hi(function(oe){return oe.push(void 0,Tn),Oi(Ne,void 0,oe)});function we(oe){return wi(oe)?function Lt(oe,Pe){var We=Qo(oe),Et=!We&&xs(oe),hn=!We&&!Et&&cs(oe),xn=!We&&!Et&&!hn&&W(oe),Pn=We||Et||hn||xn,Fn=Pn?function Si(oe,Pe){for(var We=-1,Et=Array(oe);++We<oe;)Et[We]=Pe(We);return Et}(oe.length,String):[],ur=Fn.length;for(var Mr in oe)(Pe||gt.call(oe,Mr))&&(!Pn||!("length"==Mr||hn&&("offset"==Mr||"parent"==Mr)||xn&&("buffer"==Mr||"byteLength"==Mr||"byteOffset"==Mr)||Mo(Mr,ur)))&&Fn.push(Mr);return Fn}(oe,!0):function Lr(oe){if(!Oe(oe))return function ss(oe){var Pe=[];if(null!=oe)for(var We in Object(oe))Pe.push(We);return Pe}(oe);var Pe=Ts(oe),We=[];for(var Et in oe)"constructor"==Et&&(Pe||!gt.call(oe,Et))||We.push(Et);return We}(oe)}var Ne=function Vt(oe){return Hi(function(Pe,We){var Et=-1,hn=We.length,xn=hn>1?We[hn-1]:void 0,Pn=hn>2?We[2]:void 0;for(xn=oe.length>3&&"function"==typeof xn?(hn--,xn):void 0,Pn&&function Ui(oe,Pe,We){if(!Oe(We))return!1;var Et=typeof Pe;return!!("number"==Et?wi(We)&&Mo(Pe,We.length):"string"==Et&&Pe in We)&&Co(We[Pe],oe)}(We[0],We[1],Pn)&&(xn=hn<3?void 0:xn,hn=1),Pe=Object(Pe);++Et<hn;){var Fn=We[Et];Fn&&oe(Pe,Fn,Et,xn)}return Pe})}(function(oe,Pe,We,Et){Ei(oe,Pe,We,Et)});function Ie(oe){return function(){return oe}}function Fe(oe){return oe}pt.exports=ee},1135:(pt,w,x)=>{"use strict";x.d(w,{X:()=>e});var p=x(7579);class e extends p.x{constructor(N){super(),this._value=N}get value(){return this.getValue()}_subscribe(N){const O=super._subscribe(N);return!O.closed&&N.next(this._value),O}getValue(){const{hasError:N,thrownError:O,_value:j}=this;if(N)throw O;return this._throwIfClosed(),j}next(N){super.next(this._value=N)}}},8306:(pt,w,x)=>{"use strict";x.d(w,{y:()=>Y});var p=x(930),e=x(727),T=x(8822),N=x(4671);var Q=x(2416),J=x(576),ne=x(2806);let Y=(()=>{class et{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const _e=new et;return _e.source=this,_e.operator=vt,_e}subscribe(vt,_e,He){const ke=function ut(et){return et&&et instanceof p.Lv||function fe(et){return et&&(0,J.m)(et.next)&&(0,J.m)(et.error)&&(0,J.m)(et.complete)}(et)&&(0,e.Nn)(et)}(vt)?vt:new p.Hp(vt,_e,He);return(0,ne.x)(()=>{const{operator:_t,source:$e}=this;ke.add(_t?_t.call(ke,$e):$e?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(vt){try{return this._subscribe(vt)}catch(_e){vt.error(_e)}}forEach(vt,_e){return new(_e=ie(_e))((He,ke)=>{const _t=new p.Hp({next:$e=>{try{vt($e)}catch(Qe){ke(Qe),_t.unsubscribe()}},error:ke,complete:He});this.subscribe(_t)})}_subscribe(vt){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(vt)}[T.L](){return this}pipe(...vt){return function j(et){return 0===et.length?N.y:1===et.length?et[0]:function(vt){return et.reduce((_e,He)=>He(_e),vt)}}(vt)(this)}toPromise(vt){return new(vt=ie(vt))((_e,He)=>{let ke;this.subscribe(_t=>ke=_t,_t=>He(_t),()=>_e(ke))})}}return et.create=Je=>new et(Je),et})();function ie(et){var Je;return null!==(Je=null!=et?et:Q.v.Promise)&&void 0!==Je?Je:Promise}},7579:(pt,w,x)=>{"use strict";x.d(w,{x:()=>Q});var p=x(8306),e=x(727);const N=(0,x(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=x(8737),j=x(2806);let Q=(()=>{class ne extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const fe=new J(this,this);return fe.operator=ie,fe}_throwIfClosed(){if(this.closed)throw new N}next(ie){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const fe of this.currentObservers)fe.next(ie)}})}error(ie){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:fe}=this;for(;fe.length;)fe.shift().error(ie)}})}complete(){(0,j.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:fe,isStopped:ut,observers:et}=this;return fe||ut?e.Lc:(this.currentObservers=null,et.push(ie),new e.w0(()=>{this.currentObservers=null,(0,O.P)(et,ie)}))}_checkFinalizedStatuses(ie){const{hasError:fe,thrownError:ut,isStopped:et}=this;fe?ie.error(ut):et&&ie.complete()}asObservable(){const ie=new p.y;return ie.source=this,ie}}return ne.create=(Y,ie)=>new J(Y,ie),ne})();class J extends Q{constructor(Y,ie){super(),this.destination=Y,this.source=ie}next(Y){var ie,fe;null===(fe=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===fe||fe.call(ie,Y)}error(Y){var ie,fe;null===(fe=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===fe||fe.call(ie,Y)}complete(){var Y,ie;null===(ie=null===(Y=this.destination)||void 0===Y?void 0:Y.complete)||void 0===ie||ie.call(Y)}_subscribe(Y){var ie,fe;return null!==(fe=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(Y))&&void 0!==fe?fe:e.Lc}}},930:(pt,w,x)=>{"use strict";x.d(w,{Hp:()=>vt,Lv:()=>fe});var p=x(576),e=x(727),T=x(2416),N=x(7849),O=x(5032);const j=ne("C",void 0,void 0);function ne($e,Qe,xe){return{kind:$e,value:Qe,error:xe}}var Y=x(3410),ie=x(2806);class fe extends e.w0{constructor(Qe){super(),this.isStopped=!1,Qe?(this.destination=Qe,(0,e.Nn)(Qe)&&Qe.add(this)):this.destination=_t}static create(Qe,xe,nt){return new vt(Qe,xe,nt)}next(Qe){this.isStopped?ke(function J($e){return ne("N",$e,void 0)}(Qe),this):this._next(Qe)}error(Qe){this.isStopped?ke(function Q($e){return ne("E",void 0,$e)}(Qe),this):(this.isStopped=!0,this._error(Qe))}complete(){this.isStopped?ke(j,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Qe){this.destination.next(Qe)}_error(Qe){try{this.destination.error(Qe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ut=Function.prototype.bind;function et($e,Qe){return ut.call($e,Qe)}class Je{constructor(Qe){this.partialObserver=Qe}next(Qe){const{partialObserver:xe}=this;if(xe.next)try{xe.next(Qe)}catch(nt){_e(nt)}}error(Qe){const{partialObserver:xe}=this;if(xe.error)try{xe.error(Qe)}catch(nt){_e(nt)}else _e(Qe)}complete(){const{partialObserver:Qe}=this;if(Qe.complete)try{Qe.complete()}catch(xe){_e(xe)}}}class vt extends fe{constructor(Qe,xe,nt){let Ve;if(super(),(0,p.m)(Qe)||!Qe)Ve={next:null!=Qe?Qe:void 0,error:null!=xe?xe:void 0,complete:null!=nt?nt:void 0};else{let ht;this&&T.v.useDeprecatedNextContext?(ht=Object.create(Qe),ht.unsubscribe=()=>this.unsubscribe(),Ve={next:Qe.next&&et(Qe.next,ht),error:Qe.error&&et(Qe.error,ht),complete:Qe.complete&&et(Qe.complete,ht)}):Ve=Qe}this.destination=new Je(Ve)}}function _e($e){T.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)($e):(0,N.h)($e)}function ke($e,Qe){const{onStoppedNotification:xe}=T.v;xe&&Y.z.setTimeout(()=>xe($e,Qe))}const _t={closed:!0,next:O.Z,error:function He($e){throw $e},complete:O.Z}},727:(pt,w,x)=>{"use strict";x.d(w,{Lc:()=>j,w0:()=>O,Nn:()=>Q});var p=x(576);const T=(0,x(3888).d)(ne=>function(ie){ne(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((fe,ut)=>`${ut+1}) ${fe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var N=x(8737);class O{constructor(Y){this.initialTeardown=Y,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Y;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const et of ie)et.remove(this);else ie.remove(this);const{initialTeardown:fe}=this;if((0,p.m)(fe))try{fe()}catch(et){Y=et instanceof T?et.errors:[et]}const{_finalizers:ut}=this;if(ut){this._finalizers=null;for(const et of ut)try{J(et)}catch(Je){Y=null!=Y?Y:[],Je instanceof T?Y=[...Y,...Je.errors]:Y.push(Je)}}if(Y)throw new T(Y)}}add(Y){var ie;if(Y&&Y!==this)if(this.closed)J(Y);else{if(Y instanceof O){if(Y.closed||Y._hasParent(this))return;Y._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(Y)}}_hasParent(Y){const{_parentage:ie}=this;return ie===Y||Array.isArray(ie)&&ie.includes(Y)}_addParent(Y){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(Y),ie):ie?[ie,Y]:Y}_removeParent(Y){const{_parentage:ie}=this;ie===Y?this._parentage=null:Array.isArray(ie)&&(0,N.P)(ie,Y)}remove(Y){const{_finalizers:ie}=this;ie&&(0,N.P)(ie,Y),Y instanceof O&&Y._removeParent(this)}}O.EMPTY=(()=>{const ne=new O;return ne.closed=!0,ne})();const j=O.EMPTY;function Q(ne){return ne instanceof O||ne&&"closed"in ne&&(0,p.m)(ne.remove)&&(0,p.m)(ne.add)&&(0,p.m)(ne.unsubscribe)}function J(ne){(0,p.m)(ne)?ne():ne.unsubscribe()}},2416:(pt,w,x)=>{"use strict";x.d(w,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pt,w,x)=>{"use strict";x.d(w,{a:()=>Y});var p=x(8306),e=x(4742),T=x(8996),N=x(4671),O=x(3268),j=x(3269),Q=x(1810),J=x(5403),ne=x(9672);function Y(...ut){const et=(0,j.yG)(ut),Je=(0,j.jO)(ut),{args:vt,keys:_e}=(0,e.D)(ut);if(0===vt.length)return(0,T.D)([],et);const He=new p.y(function ie(ut,et,Je=N.y){return vt=>{fe(et,()=>{const{length:_e}=ut,He=new Array(_e);let ke=_e,_t=_e;for(let $e=0;$e<_e;$e++)fe(et,()=>{const Qe=(0,T.D)(ut[$e],et);let xe=!1;Qe.subscribe((0,J.x)(vt,nt=>{He[$e]=nt,xe||(xe=!0,_t--),_t||vt.next(Je(He.slice()))},()=>{--ke||vt.complete()}))},vt)},vt)}}(vt,et,_e?ke=>(0,Q.n)(_e,ke):N.y));return Je?He.pipe((0,O.Z)(Je)):He}function fe(ut,et,Je){ut?(0,ne.f)(Je,ut,et):et()}},7272:(pt,w,x)=>{"use strict";x.d(w,{z:()=>O});var p=x(8189),T=x(3269),N=x(8996);function O(...j){return function e(){return(0,p.J)(1)}()((0,N.D)(j,(0,T.yG)(j)))}},9770:(pt,w,x)=>{"use strict";x.d(w,{P:()=>T});var p=x(8306),e=x(8421);function T(N){return new p.y(O=>{(0,e.Xf)(N()).subscribe(O)})}},515:(pt,w,x)=>{"use strict";x.d(w,{E:()=>e});const e=new(x(8306).y)(O=>O.complete())},8996:(pt,w,x)=>{"use strict";x.d(w,{D:()=>Qe});var p=x(8421),e=x(5363),T=x(9468),j=x(8306),J=x(2202),ne=x(576),Y=x(9672);function fe(xe,nt){if(!xe)throw new Error("Iterable cannot be null");return new j.y(Ve=>{(0,Y.f)(Ve,nt,()=>{const ht=xe[Symbol.asyncIterator]();(0,Y.f)(Ve,nt,()=>{ht.next().then(ve=>{ve.done?Ve.complete():Ve.next(ve.value)})},0,!0)})})}var ut=x(3670),et=x(8239),Je=x(1144),vt=x(6495),_e=x(2206),He=x(4532),ke=x(3260);function Qe(xe,nt){return nt?function $e(xe,nt){if(null!=xe){if((0,ut.c)(xe))return function N(xe,nt){return(0,p.Xf)(xe).pipe((0,T.R)(nt),(0,e.Q)(nt))}(xe,nt);if((0,Je.z)(xe))return function Q(xe,nt){return new j.y(Ve=>{let ht=0;return nt.schedule(function(){ht===xe.length?Ve.complete():(Ve.next(xe[ht++]),Ve.closed||this.schedule())})})}(xe,nt);if((0,et.t)(xe))return function O(xe,nt){return(0,p.Xf)(xe).pipe((0,T.R)(nt),(0,e.Q)(nt))}(xe,nt);if((0,_e.D)(xe))return fe(xe,nt);if((0,vt.T)(xe))return function ie(xe,nt){return new j.y(Ve=>{let ht;return(0,Y.f)(Ve,nt,()=>{ht=xe[J.h](),(0,Y.f)(Ve,nt,()=>{let ve,me;try{({value:ve,done:me}=ht.next())}catch(re){return void Ve.error(re)}me?Ve.complete():Ve.next(ve)},0,!0)}),()=>(0,ne.m)(null==ht?void 0:ht.return)&&ht.return()})}(xe,nt);if((0,ke.L)(xe))return function _t(xe,nt){return fe((0,ke.Q)(xe),nt)}(xe,nt)}throw(0,He.z)(xe)}(xe,nt):(0,p.Xf)(xe)}},8421:(pt,w,x)=>{"use strict";x.d(w,{Xf:()=>ut});var p=x(655),e=x(1144),T=x(8239),N=x(8306),O=x(3670),j=x(2206),Q=x(4532),J=x(6495),ne=x(3260),Y=x(576),ie=x(7849),fe=x(8822);function ut($e){if($e instanceof N.y)return $e;if(null!=$e){if((0,O.c)($e))return function et($e){return new N.y(Qe=>{const xe=$e[fe.L]();if((0,Y.m)(xe.subscribe))return xe.subscribe(Qe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,e.z)($e))return function Je($e){return new N.y(Qe=>{for(let xe=0;xe<$e.length&&!Qe.closed;xe++)Qe.next($e[xe]);Qe.complete()})}($e);if((0,T.t)($e))return function vt($e){return new N.y(Qe=>{$e.then(xe=>{Qe.closed||(Qe.next(xe),Qe.complete())},xe=>Qe.error(xe)).then(null,ie.h)})}($e);if((0,j.D)($e))return He($e);if((0,J.T)($e))return function _e($e){return new N.y(Qe=>{for(const xe of $e)if(Qe.next(xe),Qe.closed)return;Qe.complete()})}($e);if((0,ne.L)($e))return function ke($e){return He((0,ne.Q)($e))}($e)}throw(0,Q.z)($e)}function He($e){return new N.y(Qe=>{(function _t($e,Qe){var xe,nt,Ve,ht;return(0,p.mG)(this,void 0,void 0,function*(){try{for(xe=(0,p.KL)($e);!(nt=yield xe.next()).done;)if(Qe.next(nt.value),Qe.closed)return}catch(ve){Ve={error:ve}}finally{try{nt&&!nt.done&&(ht=xe.return)&&(yield ht.call(xe))}finally{if(Ve)throw Ve.error}}Qe.complete()})})($e,Qe).catch(xe=>Qe.error(xe))})}},6451:(pt,w,x)=>{"use strict";x.d(w,{T:()=>j});var p=x(8189),e=x(8421),T=x(515),N=x(3269),O=x(8996);function j(...Q){const J=(0,N.yG)(Q),ne=(0,N._6)(Q,1/0),Y=Q;return Y.length?1===Y.length?(0,e.Xf)(Y[0]):(0,p.J)(ne)((0,O.D)(Y,J)):T.E}},9646:(pt,w,x)=>{"use strict";x.d(w,{of:()=>T});var p=x(3269),e=x(8996);function T(...N){const O=(0,p.yG)(N);return(0,e.D)(N,O)}},5403:(pt,w,x)=>{"use strict";x.d(w,{x:()=>e});var p=x(930);function e(N,O,j,Q,J){return new T(N,O,j,Q,J)}class T extends p.Lv{constructor(O,j,Q,J,ne,Y){super(O),this.onFinalize=ne,this.shouldUnsubscribe=Y,this._next=j?function(ie){try{j(ie)}catch(fe){O.error(fe)}}:super._next,this._error=J?function(ie){try{J(ie)}catch(fe){O.error(fe)}finally{this.unsubscribe()}}:super._error,this._complete=Q?function(){try{Q()}catch(ie){O.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:j}=this;super.unsubscribe(),!j&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},4351:(pt,w,x)=>{"use strict";x.d(w,{b:()=>T});var p=x(5577),e=x(576);function T(N,O){return(0,e.m)(O)?(0,p.z)(N,O,1):(0,p.z)(N,1)}},6590:(pt,w,x)=>{"use strict";x.d(w,{d:()=>T});var p=x(4482),e=x(5403);function T(N){return(0,p.e)((O,j)=>{let Q=!1;O.subscribe((0,e.x)(j,J=>{Q=!0,j.next(J)},()=>{Q||j.next(N),j.complete()}))})}},9300:(pt,w,x)=>{"use strict";x.d(w,{h:()=>T});var p=x(4482),e=x(5403);function T(N,O){return(0,p.e)((j,Q)=>{let J=0;j.subscribe((0,e.x)(Q,ne=>N.call(O,ne,J++)&&Q.next(ne)))})}},590:(pt,w,x)=>{"use strict";x.d(w,{P:()=>Q});var p=x(6805),e=x(9300),T=x(5698),N=x(6590),O=x(8068),j=x(4671);function Q(J,ne){const Y=arguments.length>=2;return ie=>ie.pipe(J?(0,e.h)((fe,ut)=>J(fe,ut,ie)):j.y,(0,T.q)(1),Y?(0,N.d)(ne):(0,O.T)(()=>new p.K))}},4004:(pt,w,x)=>{"use strict";x.d(w,{U:()=>T});var p=x(4482),e=x(5403);function T(N,O){return(0,p.e)((j,Q)=>{let J=0;j.subscribe((0,e.x)(Q,ne=>{Q.next(N.call(O,ne,J++))}))})}},8189:(pt,w,x)=>{"use strict";x.d(w,{J:()=>T});var p=x(5577),e=x(4671);function T(N=1/0){return(0,p.z)(e.y,N)}},5577:(pt,w,x)=>{"use strict";x.d(w,{z:()=>J});var p=x(4004),e=x(8421),T=x(4482),N=x(9672),O=x(5403),Q=x(576);function J(ne,Y,ie=1/0){return(0,Q.m)(Y)?J((fe,ut)=>(0,p.U)((et,Je)=>Y(fe,et,ut,Je))((0,e.Xf)(ne(fe,ut))),ie):("number"==typeof Y&&(ie=Y),(0,T.e)((fe,ut)=>function j(ne,Y,ie,fe,ut,et,Je,vt){const _e=[];let He=0,ke=0,_t=!1;const $e=()=>{_t&&!_e.length&&!He&&Y.complete()},Qe=nt=>He<fe?xe(nt):_e.push(nt),xe=nt=>{et&&Y.next(nt),He++;let Ve=!1;(0,e.Xf)(ie(nt,ke++)).subscribe((0,O.x)(Y,ht=>{null==ut||ut(ht),et?Qe(ht):Y.next(ht)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(He--;_e.length&&He<fe;){const ht=_e.shift();Je?(0,N.f)(Y,Je,()=>xe(ht)):xe(ht)}$e()}catch(ht){Y.error(ht)}}))};return ne.subscribe((0,O.x)(Y,Qe,()=>{_t=!0,$e()})),()=>{null==vt||vt()}}(fe,ut,ne,ie)))}},5363:(pt,w,x)=>{"use strict";x.d(w,{Q:()=>N});var p=x(9672),e=x(4482),T=x(5403);function N(O,j=0){return(0,e.e)((Q,J)=>{Q.subscribe((0,T.x)(J,ne=>(0,p.f)(J,O,()=>J.next(ne),j),()=>(0,p.f)(J,O,()=>J.complete(),j),ne=>(0,p.f)(J,O,()=>J.error(ne),j)))})}},3099:(pt,w,x)=>{"use strict";x.d(w,{B:()=>j});var p=x(8996),e=x(5698),T=x(7579),N=x(930),O=x(4482);function j(J={}){const{connector:ne=(()=>new T.x),resetOnError:Y=!0,resetOnComplete:ie=!0,resetOnRefCountZero:fe=!0}=J;return ut=>{let et=null,Je=null,vt=null,_e=0,He=!1,ke=!1;const _t=()=>{null==Je||Je.unsubscribe(),Je=null},$e=()=>{_t(),et=vt=null,He=ke=!1},Qe=()=>{const xe=et;$e(),null==xe||xe.unsubscribe()};return(0,O.e)((xe,nt)=>{_e++,!ke&&!He&&_t();const Ve=vt=null!=vt?vt:ne();nt.add(()=>{_e--,0===_e&&!ke&&!He&&(Je=Q(Qe,fe))}),Ve.subscribe(nt),et||(et=new N.Hp({next:ht=>Ve.next(ht),error:ht=>{ke=!0,_t(),Je=Q($e,Y,ht),Ve.error(ht)},complete:()=>{He=!0,_t(),Je=Q($e,ie),Ve.complete()}}),(0,p.D)(xe).subscribe(et))})(ut)}}function Q(J,ne,...Y){return!0===ne?(J(),null):!1===ne?null:ne(...Y).pipe((0,e.q)(1)).subscribe(()=>J())}},8675:(pt,w,x)=>{"use strict";x.d(w,{O:()=>N});var p=x(7272),e=x(3269),T=x(4482);function N(...O){const j=(0,e.yG)(O);return(0,T.e)((Q,J)=>{(j?(0,p.z)(O,Q,j):(0,p.z)(O,Q)).subscribe(J)})}},9468:(pt,w,x)=>{"use strict";x.d(w,{R:()=>e});var p=x(4482);function e(T,N=0){return(0,p.e)((O,j)=>{j.add(T.schedule(()=>O.subscribe(j),N))})}},3900:(pt,w,x)=>{"use strict";x.d(w,{w:()=>N});var p=x(8421),e=x(4482),T=x(5403);function N(O,j){return(0,e.e)((Q,J)=>{let ne=null,Y=0,ie=!1;const fe=()=>ie&&!ne&&J.complete();Q.subscribe((0,T.x)(J,ut=>{null==ne||ne.unsubscribe();let et=0;const Je=Y++;(0,p.Xf)(O(ut,Je)).subscribe(ne=(0,T.x)(J,vt=>J.next(j?j(ut,vt,Je,et++):vt),()=>{ne=null,fe()}))},()=>{ie=!0,fe()}))})}},5698:(pt,w,x)=>{"use strict";x.d(w,{q:()=>N});var p=x(515),e=x(4482),T=x(5403);function N(O){return O<=0?()=>p.E:(0,e.e)((j,Q)=>{let J=0;j.subscribe((0,T.x)(Q,ne=>{++J<=O&&(Q.next(ne),O<=J&&Q.complete())}))})}},8505:(pt,w,x)=>{"use strict";x.d(w,{b:()=>O});var p=x(576),e=x(4482),T=x(5403),N=x(4671);function O(j,Q,J){const ne=(0,p.m)(j)||Q||J?{next:j,error:Q,complete:J}:j;return ne?(0,e.e)((Y,ie)=>{var fe;null===(fe=ne.subscribe)||void 0===fe||fe.call(ne);let ut=!0;Y.subscribe((0,T.x)(ie,et=>{var Je;null===(Je=ne.next)||void 0===Je||Je.call(ne,et),ie.next(et)},()=>{var et;ut=!1,null===(et=ne.complete)||void 0===et||et.call(ne),ie.complete()},et=>{var Je;ut=!1,null===(Je=ne.error)||void 0===Je||Je.call(ne,et),ie.error(et)},()=>{var et,Je;ut&&(null===(et=ne.unsubscribe)||void 0===et||et.call(ne)),null===(Je=ne.finalize)||void 0===Je||Je.call(ne)}))}):N.y}},8068:(pt,w,x)=>{"use strict";x.d(w,{T:()=>N});var p=x(6805),e=x(4482),T=x(5403);function N(j=O){return(0,e.e)((Q,J)=>{let ne=!1;Q.subscribe((0,T.x)(J,Y=>{ne=!0,J.next(Y)},()=>ne?J.complete():J.error(j())))})}function O(){return new p.K}},4408:(pt,w,x)=>{"use strict";x.d(w,{o:()=>O});var p=x(727);class e extends p.w0{constructor(Q,J){super()}schedule(Q,J=0){return this}}const T={setInterval(j,Q,...J){const{delegate:ne}=T;return(null==ne?void 0:ne.setInterval)?ne.setInterval(j,Q,...J):setInterval(j,Q,...J)},clearInterval(j){const{delegate:Q}=T;return((null==Q?void 0:Q.clearInterval)||clearInterval)(j)},delegate:void 0};var N=x(8737);class O extends e{constructor(Q,J){super(Q,J),this.scheduler=Q,this.work=J,this.pending=!1}schedule(Q,J=0){if(this.closed)return this;this.state=Q;const ne=this.id,Y=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId(Y,ne,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId(Y,this.id,J),this}requestAsyncId(Q,J,ne=0){return T.setInterval(Q.flush.bind(Q,this),ne)}recycleAsyncId(Q,J,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return J;T.clearInterval(J)}execute(Q,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(Q,J);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Q,J){let Y,ne=!1;try{this.work(Q)}catch(ie){ne=!0,Y=ie||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),Y}unsubscribe(){if(!this.closed){const{id:Q,scheduler:J}=this,{actions:ne}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(ne,this),null!=Q&&(this.id=this.recycleAsyncId(J,Q,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,w,x)=>{"use strict";x.d(w,{v:()=>T});var p=x(6063);class e{constructor(O,j=e.now){this.schedulerActionCtor=O,this.now=j}schedule(O,j=0,Q){return new this.schedulerActionCtor(this,O).schedule(Q,j)}}e.now=p.l.now;class T extends e{constructor(O,j=e.now){super(O,j),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:j}=this;if(this._active)return void j.push(O);let Q;this._active=!0;do{if(Q=O.execute(O.state,O.delay))break}while(O=j.shift());if(this._active=!1,Q){for(;O=j.shift();)O.unsubscribe();throw Q}}}},4986:(pt,w,x)=>{"use strict";x.d(w,{P:()=>N,z:()=>T});var p=x(4408);const T=new(x(7565).v)(p.o),N=T},6063:(pt,w,x)=>{"use strict";x.d(w,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(pt,w,x)=>{"use strict";x.d(w,{z:()=>p});const p={setTimeout(e,T,...N){const{delegate:O}=p;return(null==O?void 0:O.setTimeout)?O.setTimeout(e,T,...N):setTimeout(e,T,...N)},clearTimeout(e){const{delegate:T}=p;return((null==T?void 0:T.clearTimeout)||clearTimeout)(e)},delegate:void 0}},2202:(pt,w,x)=>{"use strict";x.d(w,{h:()=>e});const e=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,w,x)=>{"use strict";x.d(w,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pt,w,x)=>{"use strict";x.d(w,{K:()=>e});const e=(0,x(3888).d)(T=>function(){T(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pt,w,x)=>{"use strict";x.d(w,{_6:()=>j,jO:()=>N,yG:()=>O});var p=x(576),e=x(3532);function T(Q){return Q[Q.length-1]}function N(Q){return(0,p.m)(T(Q))?Q.pop():void 0}function O(Q){return(0,e.K)(T(Q))?Q.pop():void 0}function j(Q,J){return"number"==typeof T(Q)?Q.pop():J}},4742:(pt,w,x)=>{"use strict";x.d(w,{D:()=>O});const{isArray:p}=Array,{getPrototypeOf:e,prototype:T,keys:N}=Object;function O(Q){if(1===Q.length){const J=Q[0];if(p(J))return{args:J,keys:null};if(function j(Q){return Q&&"object"==typeof Q&&e(Q)===T}(J)){const ne=N(J);return{args:ne.map(Y=>J[Y]),keys:ne}}}return{args:Q,keys:null}}},8737:(pt,w,x)=>{"use strict";function p(e,T){if(e){const N=e.indexOf(T);0<=N&&e.splice(N,1)}}x.d(w,{P:()=>p})},3888:(pt,w,x)=>{"use strict";function p(e){const N=e(O=>{Error.call(O),O.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}x.d(w,{d:()=>p})},1810:(pt,w,x)=>{"use strict";function p(e,T){return e.reduce((N,O,j)=>(N[O]=T[j],N),{})}x.d(w,{n:()=>p})},2806:(pt,w,x)=>{"use strict";x.d(w,{O:()=>N,x:()=>T});var p=x(2416);let e=null;function T(O){if(p.v.useDeprecatedSynchronousErrorHandling){const j=!e;if(j&&(e={errorThrown:!1,error:null}),O(),j){const{errorThrown:Q,error:J}=e;if(e=null,Q)throw J}}else O()}function N(O){p.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=O)}},9672:(pt,w,x)=>{"use strict";function p(e,T,N,O=0,j=!1){const Q=T.schedule(function(){N(),j?e.add(this.schedule(null,O)):this.unsubscribe()},O);if(e.add(Q),!j)return Q}x.d(w,{f:()=>p})},4671:(pt,w,x)=>{"use strict";function p(e){return e}x.d(w,{y:()=>p})},1144:(pt,w,x)=>{"use strict";x.d(w,{z:()=>p});const p=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(pt,w,x)=>{"use strict";x.d(w,{D:()=>e});var p=x(576);function e(T){return Symbol.asyncIterator&&(0,p.m)(null==T?void 0:T[Symbol.asyncIterator])}},576:(pt,w,x)=>{"use strict";function p(e){return"function"==typeof e}x.d(w,{m:()=>p})},3670:(pt,w,x)=>{"use strict";x.d(w,{c:()=>T});var p=x(8822),e=x(576);function T(N){return(0,e.m)(N[p.L])}},6495:(pt,w,x)=>{"use strict";x.d(w,{T:()=>T});var p=x(2202),e=x(576);function T(N){return(0,e.m)(null==N?void 0:N[p.h])}},8239:(pt,w,x)=>{"use strict";x.d(w,{t:()=>e});var p=x(576);function e(T){return(0,p.m)(null==T?void 0:T.then)}},3260:(pt,w,x)=>{"use strict";x.d(w,{L:()=>N,Q:()=>T});var p=x(655),e=x(576);function T(O){return(0,p.FC)(this,arguments,function*(){const Q=O.getReader();try{for(;;){const{value:J,done:ne}=yield(0,p.qq)(Q.read());if(ne)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(J)}}finally{Q.releaseLock()}})}function N(O){return(0,e.m)(null==O?void 0:O.getReader)}},3532:(pt,w,x)=>{"use strict";x.d(w,{K:()=>e});var p=x(576);function e(T){return T&&(0,p.m)(T.schedule)}},4482:(pt,w,x)=>{"use strict";x.d(w,{A:()=>e,e:()=>T});var p=x(576);function e(N){return(0,p.m)(null==N?void 0:N.lift)}function T(N){return O=>{if(e(O))return O.lift(function(j){try{return N(j,this)}catch(Q){this.error(Q)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>N});var p=x(4004);const{isArray:e}=Array;function N(O){return(0,p.U)(j=>function T(O,j){return e(j)?O(...j):O(j)}(O,j))}},5032:(pt,w,x)=>{"use strict";function p(){}x.d(w,{Z:()=>p})},7849:(pt,w,x)=>{"use strict";x.d(w,{h:()=>T});var p=x(2416),e=x(3410);function T(N){e.z.setTimeout(()=>{const{onUnhandledError:O}=p.v;if(!O)throw N;O(N)})}},4532:(pt,w,x)=>{"use strict";function p(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(w,{z:()=>p})},8583:()=>{"use strict";!function(Be){const gt=Be.performance;function Ue(In){gt&&gt.mark&&gt.mark(In)}function ce(In,Sn){gt&&gt.measure&&gt.measure(In,Sn)}Ue("Zone");const be=Be.__Zone_symbol_prefix||"__zone_symbol__";function at(In){return be+In}const ct=!0===Be[at("forceDuplicateZoneCheck")];if(Be.Zone){if(ct||"function"!=typeof Be.Zone.__symbol__)throw new Error("Zone already loaded.");return Be.Zone}let bt=(()=>{class In{constructor(Xe,St){this._parent=Xe,this._name=St?St.name||"unnamed":"<root>",this._properties=St&&St.properties||{},this._zoneDelegate=new dn(this,this._parent&&this._parent._zoneDelegate,St)}static assertZonePatched(){if(Be.Promise!==Zn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Xe=In.current;for(;Xe.parent;)Xe=Xe.parent;return Xe}static get current(){return ir.zone}static get currentTask(){return or}static __load_patch(Xe,St,cn=!1){if(Zn.hasOwnProperty(Xe)){if(!cn&&ct)throw Error("Already loaded patch: "+Xe)}else if(!Be["__Zone_disable_"+Xe]){const Qn="Zone:"+Xe;Ue(Qn),Zn[Xe]=St(Be,In,qn),ce(Qn,Qn)}}get parent(){return this._parent}get name(){return this._name}get(Xe){const St=this.getZoneWith(Xe);if(St)return St._properties[Xe]}getZoneWith(Xe){let St=this;for(;St;){if(St._properties.hasOwnProperty(Xe))return St;St=St._parent}return null}fork(Xe){if(!Xe)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Xe)}wrap(Xe,St){if("function"!=typeof Xe)throw new Error("Expecting function got: "+Xe);const cn=this._zoneDelegate.intercept(this,Xe,St),Qn=this;return function(){return Qn.runGuarded(cn,this,arguments,St)}}run(Xe,St,cn,Qn){ir={parent:ir,zone:this};try{return this._zoneDelegate.invoke(this,Xe,St,cn,Qn)}finally{ir=ir.parent}}runGuarded(Xe,St=null,cn,Qn){ir={parent:ir,zone:this};try{try{return this._zoneDelegate.invoke(this,Xe,St,cn,Qn)}catch(gr){if(this._zoneDelegate.handleError(this,gr))throw gr}}finally{ir=ir.parent}}runTask(Xe,St,cn){if(Xe.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Xe.zone||tn).name+"; Execution: "+this.name+")");if(Xe.state===yn&&(Xe.type===qt||Xe.type===Ke))return;const Qn=Xe.state!=Me;Qn&&Xe._transitionTo(Me,Un),Xe.runCount++;const gr=or;or=Xe,ir={parent:ir,zone:this};try{Xe.type==Ke&&Xe.data&&!Xe.data.isPeriodic&&(Xe.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Xe,St,cn)}catch(Yt){if(this._zoneDelegate.handleError(this,Yt))throw Yt}}finally{Xe.state!==yn&&Xe.state!==Se&&(Xe.type==qt||Xe.data&&Xe.data.isPeriodic?Qn&&Xe._transitionTo(Un,Me):(Xe.runCount=0,this._updateTaskCount(Xe,-1),Qn&&Xe._transitionTo(yn,Me,yn))),ir=ir.parent,or=gr}}scheduleTask(Xe){if(Xe.zone&&Xe.zone!==this){let cn=this;for(;cn;){if(cn===Xe.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Xe.zone.name}`);cn=cn.parent}}Xe._transitionTo(Wn,yn);const St=[];Xe._zoneDelegates=St,Xe._zone=this;try{Xe=this._zoneDelegate.scheduleTask(this,Xe)}catch(cn){throw Xe._transitionTo(Se,Wn,yn),this._zoneDelegate.handleError(this,cn),cn}return Xe._zoneDelegates===St&&this._updateTaskCount(Xe,1),Xe.state==Wn&&Xe._transitionTo(Un,Wn),Xe}scheduleMicroTask(Xe,St,cn,Qn){return this.scheduleTask(new Zt(lt,Xe,St,cn,Qn,void 0))}scheduleMacroTask(Xe,St,cn,Qn,gr){return this.scheduleTask(new Zt(Ke,Xe,St,cn,Qn,gr))}scheduleEventTask(Xe,St,cn,Qn,gr){return this.scheduleTask(new Zt(qt,Xe,St,cn,Qn,gr))}cancelTask(Xe){if(Xe.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Xe.zone||tn).name+"; Execution: "+this.name+")");Xe._transitionTo(Ae,Un,Me);try{this._zoneDelegate.cancelTask(this,Xe)}catch(St){throw Xe._transitionTo(Se,Ae),this._zoneDelegate.handleError(this,St),St}return this._updateTaskCount(Xe,-1),Xe._transitionTo(yn,Ae),Xe.runCount=0,Xe}_updateTaskCount(Xe,St){const cn=Xe._zoneDelegates;-1==St&&(Xe._zoneDelegates=null);for(let Qn=0;Qn<cn.length;Qn++)cn[Qn]._updateTaskCount(Xe.type,St)}}return In.__symbol__=at,In})();const Ot={name:"",onHasTask:(In,Sn,Xe,St)=>In.hasTask(Xe,St),onScheduleTask:(In,Sn,Xe,St)=>In.scheduleTask(Xe,St),onInvokeTask:(In,Sn,Xe,St,cn,Qn)=>In.invokeTask(Xe,St,cn,Qn),onCancelTask:(In,Sn,Xe,St)=>In.cancelTask(Xe,St)};class dn{constructor(Sn,Xe,St){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=Sn,this._parentDelegate=Xe,this._forkZS=St&&(St&&St.onFork?St:Xe._forkZS),this._forkDlgt=St&&(St.onFork?Xe:Xe._forkDlgt),this._forkCurrZone=St&&(St.onFork?this.zone:Xe._forkCurrZone),this._interceptZS=St&&(St.onIntercept?St:Xe._interceptZS),this._interceptDlgt=St&&(St.onIntercept?Xe:Xe._interceptDlgt),this._interceptCurrZone=St&&(St.onIntercept?this.zone:Xe._interceptCurrZone),this._invokeZS=St&&(St.onInvoke?St:Xe._invokeZS),this._invokeDlgt=St&&(St.onInvoke?Xe:Xe._invokeDlgt),this._invokeCurrZone=St&&(St.onInvoke?this.zone:Xe._invokeCurrZone),this._handleErrorZS=St&&(St.onHandleError?St:Xe._handleErrorZS),this._handleErrorDlgt=St&&(St.onHandleError?Xe:Xe._handleErrorDlgt),this._handleErrorCurrZone=St&&(St.onHandleError?this.zone:Xe._handleErrorCurrZone),this._scheduleTaskZS=St&&(St.onScheduleTask?St:Xe._scheduleTaskZS),this._scheduleTaskDlgt=St&&(St.onScheduleTask?Xe:Xe._scheduleTaskDlgt),this._scheduleTaskCurrZone=St&&(St.onScheduleTask?this.zone:Xe._scheduleTaskCurrZone),this._invokeTaskZS=St&&(St.onInvokeTask?St:Xe._invokeTaskZS),this._invokeTaskDlgt=St&&(St.onInvokeTask?Xe:Xe._invokeTaskDlgt),this._invokeTaskCurrZone=St&&(St.onInvokeTask?this.zone:Xe._invokeTaskCurrZone),this._cancelTaskZS=St&&(St.onCancelTask?St:Xe._cancelTaskZS),this._cancelTaskDlgt=St&&(St.onCancelTask?Xe:Xe._cancelTaskDlgt),this._cancelTaskCurrZone=St&&(St.onCancelTask?this.zone:Xe._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const cn=St&&St.onHasTask;(cn||Xe&&Xe._hasTaskZS)&&(this._hasTaskZS=cn?St:Ot,this._hasTaskDlgt=Xe,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=Sn,St.onScheduleTask||(this._scheduleTaskZS=Ot,this._scheduleTaskDlgt=Xe,this._scheduleTaskCurrZone=this.zone),St.onInvokeTask||(this._invokeTaskZS=Ot,this._invokeTaskDlgt=Xe,this._invokeTaskCurrZone=this.zone),St.onCancelTask||(this._cancelTaskZS=Ot,this._cancelTaskDlgt=Xe,this._cancelTaskCurrZone=this.zone))}fork(Sn,Xe){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,Sn,Xe):new bt(Sn,Xe)}intercept(Sn,Xe,St){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,Sn,Xe,St):Xe}invoke(Sn,Xe,St,cn,Qn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,Sn,Xe,St,cn,Qn):Xe.apply(St,cn)}handleError(Sn,Xe){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,Sn,Xe)}scheduleTask(Sn,Xe){let St=Xe;if(this._scheduleTaskZS)this._hasTaskZS&&St._zoneDelegates.push(this._hasTaskDlgtOwner),St=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,Sn,Xe),St||(St=Xe);else if(Xe.scheduleFn)Xe.scheduleFn(Xe);else{if(Xe.type!=lt)throw new Error("Task is missing scheduleFn.");Bt(Xe)}return St}invokeTask(Sn,Xe,St,cn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,Sn,Xe,St,cn):Xe.callback.apply(St,cn)}cancelTask(Sn,Xe){let St;if(this._cancelTaskZS)St=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,Sn,Xe);else{if(!Xe.cancelFn)throw Error("Task is not cancelable");St=Xe.cancelFn(Xe)}return St}hasTask(Sn,Xe){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,Sn,Xe)}catch(St){this.handleError(Sn,St)}}_updateTaskCount(Sn,Xe){const St=this._taskCounts,cn=St[Sn],Qn=St[Sn]=cn+Xe;if(Qn<0)throw new Error("More tasks executed then were scheduled.");0!=cn&&0!=Qn||this.hasTask(this.zone,{microTask:St.microTask>0,macroTask:St.macroTask>0,eventTask:St.eventTask>0,change:Sn})}}class Zt{constructor(Sn,Xe,St,cn,Qn,gr){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=Sn,this.source=Xe,this.data=cn,this.scheduleFn=Qn,this.cancelFn=gr,!St)throw new Error("callback is not defined");this.callback=St;const Yt=this;this.invoke=Sn===qt&&cn&&cn.useG?Zt.invokeTask:function(){return Zt.invokeTask.call(Be,Yt,this,arguments)}}static invokeTask(Sn,Xe,St){Sn||(Sn=this),sr++;try{return Sn.runCount++,Sn.zone.runTask(Sn,Xe,St)}finally{1==sr&&ft(),sr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(yn,Wn)}_transitionTo(Sn,Xe,St){if(this._state!==Xe&&this._state!==St)throw new Error(`${this.type} '${this.source}': can not transition to '${Sn}', expecting state '${Xe}'${St?" or '"+St+"'":""}, was '${this._state}'.`);this._state=Sn,Sn==yn&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const an=at("setTimeout"),Vn=at("Promise"),fn=at("then");let er,jn=[],Gt=!1;function kn(In){if(er||Be[Vn]&&(er=Be[Vn].resolve(0)),er){let Sn=er[fn];Sn||(Sn=er.then),Sn.call(er,In)}else Be[an](In,0)}function Bt(In){0===sr&&0===jn.length&&kn(ft),In&&jn.push(In)}function ft(){if(!Gt){for(Gt=!0;jn.length;){const In=jn;jn=[];for(let Sn=0;Sn<In.length;Sn++){const Xe=In[Sn];try{Xe.zone.runTask(Xe,null,null)}catch(St){qn.onUnhandledError(St)}}}qn.microtaskDrainDone(),Gt=!1}}const tn={name:"NO ZONE"},yn="notScheduled",Wn="scheduling",Un="scheduled",Me="running",Ae="canceling",Se="unknown",lt="microTask",Ke="macroTask",qt="eventTask",Zn={},qn={symbol:at,currentZoneFrame:()=>ir,onUnhandledError:Cn,microtaskDrainDone:Cn,scheduleMicroTask:Bt,showUncaughtError:()=>!bt[at("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Cn,patchMethod:()=>Cn,bindArguments:()=>[],patchThen:()=>Cn,patchMacroTask:()=>Cn,patchEventPrototype:()=>Cn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Cn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Cn,wrapWithCurrentZone:()=>Cn,filterProperties:()=>[],attachOriginToPatched:()=>Cn,_redefineProperty:()=>Cn,patchCallbacks:()=>Cn,nativeScheduleMicroTask:kn};let ir={parent:null,zone:new bt(null,null)},or=null,sr=0;function Cn(){}ce("Zone","Zone"),Be.Zone=bt}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const pt=Object.getOwnPropertyDescriptor,w=Object.defineProperty,x=Object.getPrototypeOf,p=Object.create,e=Array.prototype.slice,T="addEventListener",N="removeEventListener",O=Zone.__symbol__(T),j=Zone.__symbol__(N),Q="true",J="false",ne=Zone.__symbol__("");function Y(Be,gt){return Zone.current.wrap(Be,gt)}function ie(Be,gt,Ue,ce,be){return Zone.current.scheduleMacroTask(Be,gt,Ue,ce,be)}const fe=Zone.__symbol__,ut="undefined"!=typeof window,et=ut?window:void 0,Je=ut&&et||"object"==typeof self&&self||global;function _e(Be,gt){for(let Ue=Be.length-1;Ue>=0;Ue--)"function"==typeof Be[Ue]&&(Be[Ue]=Y(Be[Ue],gt+"_"+Ue));return Be}function ke(Be){return!Be||!1!==Be.writable&&!("function"==typeof Be.get&&void 0===Be.set)}const _t="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,$e=!("nw"in Je)&&void 0!==Je.process&&"[object process]"==={}.toString.call(Je.process),Qe=!$e&&!_t&&!(!ut||!et.HTMLElement),xe=void 0!==Je.process&&"[object process]"==={}.toString.call(Je.process)&&!_t&&!(!ut||!et.HTMLElement),nt={},Ve=function(Be){if(!(Be=Be||Je.event))return;let gt=nt[Be.type];gt||(gt=nt[Be.type]=fe("ON_PROPERTY"+Be.type));const Ue=this||Be.target||Je,ce=Ue[gt];let be;if(Qe&&Ue===et&&"error"===Be.type){const at=Be;be=ce&&ce.call(this,at.message,at.filename,at.lineno,at.colno,at.error),!0===be&&Be.preventDefault()}else be=ce&&ce.apply(this,arguments),null!=be&&!be&&Be.preventDefault();return be};function ht(Be,gt,Ue){let ce=pt(Be,gt);if(!ce&&Ue&&pt(Ue,gt)&&(ce={enumerable:!0,configurable:!0}),!ce||!ce.configurable)return;const be=fe("on"+gt+"patched");if(Be.hasOwnProperty(be)&&Be[be])return;delete ce.writable,delete ce.value;const at=ce.get,ct=ce.set,bt=gt.substr(2);let Ot=nt[bt];Ot||(Ot=nt[bt]=fe("ON_PROPERTY"+bt)),ce.set=function(dn){let Zt=this;!Zt&&Be===Je&&(Zt=Je),Zt&&("function"==typeof Zt[Ot]&&Zt.removeEventListener(bt,Ve),ct&&ct.call(Zt,null),Zt[Ot]=dn,"function"==typeof dn&&Zt.addEventListener(bt,Ve,!1))},ce.get=function(){let dn=this;if(!dn&&Be===Je&&(dn=Je),!dn)return null;const Zt=dn[Ot];if(Zt)return Zt;if(at){let an=at.call(this);if(an)return ce.set.call(this,an),"function"==typeof dn.removeAttribute&&dn.removeAttribute(gt),an}return null},w(Be,gt,ce),Be[be]=!0}function ve(Be,gt,Ue){if(gt)for(let ce=0;ce<gt.length;ce++)ht(Be,"on"+gt[ce],Ue);else{const ce=[];for(const be in Be)"on"==be.substr(0,2)&&ce.push(be);for(let be=0;be<ce.length;be++)ht(Be,ce[be],Ue)}}const me=fe("originalInstance");function re(Be){const gt=Je[Be];if(!gt)return;Je[fe(Be)]=gt,Je[Be]=function(){const be=_e(arguments,Be);switch(be.length){case 0:this[me]=new gt;break;case 1:this[me]=new gt(be[0]);break;case 2:this[me]=new gt(be[0],be[1]);break;case 3:this[me]=new gt(be[0],be[1],be[2]);break;case 4:this[me]=new gt(be[0],be[1],be[2],be[3]);break;default:throw new Error("Arg list too long.")}},Ce(Je[Be],gt);const Ue=new gt(function(){});let ce;for(ce in Ue)"XMLHttpRequest"===Be&&"responseBlob"===ce||function(be){"function"==typeof Ue[be]?Je[Be].prototype[be]=function(){return this[me][be].apply(this[me],arguments)}:w(Je[Be].prototype,be,{set:function(at){"function"==typeof at?(this[me][be]=Y(at,Be+"."+be),Ce(this[me][be],at)):this[me][be]=at},get:function(){return this[me][be]}})}(ce);for(ce in gt)"prototype"!==ce&&gt.hasOwnProperty(ce)&&(Je[Be][ce]=gt[ce])}function ye(Be,gt,Ue){let ce=Be;for(;ce&&!ce.hasOwnProperty(gt);)ce=x(ce);!ce&&Be[gt]&&(ce=Be);const be=fe(gt);let at=null;if(ce&&(!(at=ce[be])||!ce.hasOwnProperty(be))&&(at=ce[be]=ce[gt],ke(ce&&pt(ce,gt)))){const bt=Ue(at,be,gt);ce[gt]=function(){return bt(this,arguments)},Ce(ce[gt],at)}return at}function Te(Be,gt,Ue){let ce=null;function be(at){const ct=at.data;return ct.args[ct.cbIdx]=function(){at.invoke.apply(this,arguments)},ce.apply(ct.target,ct.args),at}ce=ye(Be,gt,at=>function(ct,bt){const Ot=Ue(ct,bt);return Ot.cbIdx>=0&&"function"==typeof bt[Ot.cbIdx]?ie(Ot.name,bt[Ot.cbIdx],Ot,be):at.apply(ct,bt)})}function Ce(Be,gt){Be[fe("OriginalDelegate")]=gt}let yt=!1,Mt=!1;function kt(){if(yt)return Mt;yt=!0;try{const Be=et.navigator.userAgent;(-1!==Be.indexOf("MSIE ")||-1!==Be.indexOf("Trident/")||-1!==Be.indexOf("Edge/"))&&(Mt=!0)}catch(Be){}return Mt}Zone.__load_patch("ZoneAwarePromise",(Be,gt,Ue)=>{const ce=Object.getOwnPropertyDescriptor,be=Object.defineProperty,ct=Ue.symbol,bt=[],Ot=!0===Be[ct("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],dn=ct("Promise"),Zt=ct("then");Ue.onUnhandledError=Yt=>{if(Ue.showUncaughtError()){const sn=Yt&&Yt.rejection;sn?console.error("Unhandled Promise rejection:",sn instanceof Error?sn.message:sn,"; Zone:",Yt.zone.name,"; Task:",Yt.task&&Yt.task.source,"; Value:",sn,sn instanceof Error?sn.stack:void 0):console.error(Yt)}},Ue.microtaskDrainDone=()=>{for(;bt.length;){const Yt=bt.shift();try{Yt.zone.runGuarded(()=>{throw Yt.throwOriginal?Yt.rejection:Yt})}catch(sn){fn(sn)}}};const Vn=ct("unhandledPromiseRejectionHandler");function fn(Yt){Ue.onUnhandledError(Yt);try{const sn=gt[Vn];"function"==typeof sn&&sn.call(this,Yt)}catch(sn){}}function jn(Yt){return Yt&&Yt.then}function Gt(Yt){return Yt}function er(Yt){return Xe.reject(Yt)}const kn=ct("state"),Bt=ct("value"),ft=ct("finally"),tn=ct("parentPromiseValue"),yn=ct("parentPromiseState"),Un=null,Ae=!1;function lt(Yt,sn){return rt=>{try{qn(Yt,sn,rt)}catch(Lt){qn(Yt,!1,Lt)}}}const Zn=ct("currentTaskTrace");function qn(Yt,sn,rt){const Lt=function(){let Yt=!1;return function(rt){return function(){Yt||(Yt=!0,rt.apply(null,arguments))}}}();if(Yt===rt)throw new TypeError("Promise resolved with itself");if(Yt[kn]===Un){let gn=null;try{("object"==typeof rt||"function"==typeof rt)&&(gn=rt&&rt.then)}catch(An){return Lt(()=>{qn(Yt,!1,An)})(),Yt}if(sn!==Ae&&rt instanceof Xe&&rt.hasOwnProperty(kn)&&rt.hasOwnProperty(Bt)&&rt[kn]!==Un)or(rt),qn(Yt,rt[kn],rt[Bt]);else if(sn!==Ae&&"function"==typeof gn)try{gn.call(rt,Lt(lt(Yt,sn)),Lt(lt(Yt,!1)))}catch(An){Lt(()=>{qn(Yt,!1,An)})()}else{Yt[kn]=sn;const An=Yt[Bt];if(Yt[Bt]=rt,Yt[ft]===ft&&!0===sn&&(Yt[kn]=Yt[yn],Yt[Bt]=Yt[tn]),sn===Ae&&rt instanceof Error){const _n=gt.currentTask&&gt.currentTask.data&&gt.currentTask.data.__creationTrace__;_n&&be(rt,Zn,{configurable:!0,enumerable:!1,writable:!0,value:_n})}for(let _n=0;_n<An.length;)sr(Yt,An[_n++],An[_n++],An[_n++],An[_n++]);if(0==An.length&&sn==Ae){Yt[kn]=0;let _n=rt;try{throw new Error("Uncaught (in promise): "+function at(Yt){return Yt&&Yt.toString===Object.prototype.toString?(Yt.constructor&&Yt.constructor.name||"")+": "+JSON.stringify(Yt):Yt?Yt.toString():Object.prototype.toString.call(Yt)}(rt)+(rt&&rt.stack?"\n"+rt.stack:""))}catch(On){_n=On}Ot&&(_n.throwOriginal=!0),_n.rejection=rt,_n.promise=Yt,_n.zone=gt.current,_n.task=gt.currentTask,bt.push(_n),Ue.scheduleMicroTask()}}}return Yt}const ir=ct("rejectionHandledHandler");function or(Yt){if(0===Yt[kn]){try{const sn=gt[ir];sn&&"function"==typeof sn&&sn.call(this,{rejection:Yt[Bt],promise:Yt})}catch(sn){}Yt[kn]=Ae;for(let sn=0;sn<bt.length;sn++)Yt===bt[sn].promise&&bt.splice(sn,1)}}function sr(Yt,sn,rt,Lt,gn){or(Yt);const An=Yt[kn],_n=An?"function"==typeof Lt?Lt:Gt:"function"==typeof gn?gn:er;sn.scheduleMicroTask("Promise.then",()=>{try{const On=Yt[Bt],tr=!!rt&&ft===rt[ft];tr&&(rt[tn]=On,rt[yn]=An);const pn=sn.run(_n,void 0,tr&&_n!==er&&_n!==Gt?[]:[On]);qn(rt,!0,pn)}catch(On){qn(rt,!1,On)}},rt)}const In=function(){},Sn=Be.AggregateError;class Xe{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(sn){return qn(new this(null),!0,sn)}static reject(sn){return qn(new this(null),Ae,sn)}static any(sn){if(!sn||"function"!=typeof sn[Symbol.iterator])return Promise.reject(new Sn([],"All promises were rejected"));const rt=[];let Lt=0;try{for(let _n of sn)Lt++,rt.push(Xe.resolve(_n))}catch(_n){return Promise.reject(new Sn([],"All promises were rejected"))}if(0===Lt)return Promise.reject(new Sn([],"All promises were rejected"));let gn=!1;const An=[];return new Xe((_n,On)=>{for(let tr=0;tr<rt.length;tr++)rt[tr].then(pn=>{gn||(gn=!0,_n(pn))},pn=>{An.push(pn),Lt--,0===Lt&&(gn=!0,On(new Sn(An,"All promises were rejected")))})})}static race(sn){let rt,Lt,gn=new this((On,tr)=>{rt=On,Lt=tr});function An(On){rt(On)}function _n(On){Lt(On)}for(let On of sn)jn(On)||(On=this.resolve(On)),On.then(An,_n);return gn}static all(sn){return Xe.allWithCallback(sn)}static allSettled(sn){return(this&&this.prototype instanceof Xe?this:Xe).allWithCallback(sn,{thenCallback:Lt=>({status:"fulfilled",value:Lt}),errorCallback:Lt=>({status:"rejected",reason:Lt})})}static allWithCallback(sn,rt){let Lt,gn,An=new this((pn,Gn)=>{Lt=pn,gn=Gn}),_n=2,On=0;const tr=[];for(let pn of sn){jn(pn)||(pn=this.resolve(pn));const Gn=On;try{pn.then(Pr=>{tr[Gn]=rt?rt.thenCallback(Pr):Pr,_n--,0===_n&&Lt(tr)},Pr=>{rt?(tr[Gn]=rt.errorCallback(Pr),_n--,0===_n&&Lt(tr)):gn(Pr)})}catch(Pr){gn(Pr)}_n++,On++}return _n-=2,0===_n&&Lt(tr),An}constructor(sn){const rt=this;if(!(rt instanceof Xe))throw new Error("Must be an instanceof Promise.");rt[kn]=Un,rt[Bt]=[];try{sn&&sn(lt(rt,!0),lt(rt,Ae))}catch(Lt){qn(rt,!1,Lt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Xe}then(sn,rt){let Lt=this.constructor[Symbol.species];(!Lt||"function"!=typeof Lt)&&(Lt=this.constructor||Xe);const gn=new Lt(In),An=gt.current;return this[kn]==Un?this[Bt].push(An,gn,sn,rt):sr(this,An,gn,sn,rt),gn}catch(sn){return this.then(null,sn)}finally(sn){let rt=this.constructor[Symbol.species];(!rt||"function"!=typeof rt)&&(rt=Xe);const Lt=new rt(In);Lt[ft]=ft;const gn=gt.current;return this[kn]==Un?this[Bt].push(gn,Lt,sn,sn):sr(this,gn,Lt,sn,sn),Lt}}Xe.resolve=Xe.resolve,Xe.reject=Xe.reject,Xe.race=Xe.race,Xe.all=Xe.all;const St=Be[dn]=Be.Promise;Be.Promise=Xe;const cn=ct("thenPatched");function Qn(Yt){const sn=Yt.prototype,rt=ce(sn,"then");if(rt&&(!1===rt.writable||!rt.configurable))return;const Lt=sn.then;sn[Zt]=Lt,Yt.prototype.then=function(gn,An){return new Xe((On,tr)=>{Lt.call(this,On,tr)}).then(gn,An)},Yt[cn]=!0}return Ue.patchThen=Qn,St&&(Qn(St),ye(Be,"fetch",Yt=>function gr(Yt){return function(sn,rt){let Lt=Yt.apply(sn,rt);if(Lt instanceof Xe)return Lt;let gn=Lt.constructor;return gn[cn]||Qn(gn),Lt}}(Yt))),Promise[gt.__symbol__("uncaughtPromiseErrors")]=bt,Xe}),Zone.__load_patch("toString",Be=>{const gt=Function.prototype.toString,Ue=fe("OriginalDelegate"),ce=fe("Promise"),be=fe("Error"),at=function(){if("function"==typeof this){const dn=this[Ue];if(dn)return"function"==typeof dn?gt.call(dn):Object.prototype.toString.call(dn);if(this===Promise){const Zt=Be[ce];if(Zt)return gt.call(Zt)}if(this===Error){const Zt=Be[be];if(Zt)return gt.call(Zt)}}return gt.call(this)};at[Ue]=gt,Function.prototype.toString=at;const ct=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":ct.call(this)}});let wt=!1;if("undefined"!=typeof window)try{const Be=Object.defineProperty({},"passive",{get:function(){wt=!0}});window.addEventListener("test",Be,Be),window.removeEventListener("test",Be,Be)}catch(Be){wt=!1}const Wt={useG:!0},bn={},rr={},$n=new RegExp("^"+ne+"(\\w+)(true|false)$"),wr=fe("propagationStopped");function br(Be,gt){const Ue=(gt?gt(Be):Be)+J,ce=(gt?gt(Be):Be)+Q,be=ne+Ue,at=ne+ce;bn[Be]={},bn[Be][J]=be,bn[Be][Q]=at}function vr(Be,gt,Ue,ce){const be=ce&&ce.add||T,at=ce&&ce.rm||N,ct=ce&&ce.listeners||"eventListeners",bt=ce&&ce.rmAll||"removeAllListeners",Ot=fe(be),dn="."+be+":",Vn=function(Bt,ft,tn){if(Bt.isRemoved)return;const yn=Bt.callback;let Wn;"object"==typeof yn&&yn.handleEvent&&(Bt.callback=Me=>yn.handleEvent(Me),Bt.originalDelegate=yn);try{Bt.invoke(Bt,ft,[tn])}catch(Me){Wn=Me}const Un=Bt.options;return Un&&"object"==typeof Un&&Un.once&&ft[at].call(ft,tn.type,Bt.originalDelegate?Bt.originalDelegate:Bt.callback,Un),Wn};function fn(Bt,ft,tn){if(!(ft=ft||Be.event))return;const yn=Bt||ft.target||Be,Wn=yn[bn[ft.type][tn?Q:J]];if(Wn){const Un=[];if(1===Wn.length){const Me=Vn(Wn[0],yn,ft);Me&&Un.push(Me)}else{const Me=Wn.slice();for(let Ae=0;Ae<Me.length&&(!ft||!0!==ft[wr]);Ae++){const Se=Vn(Me[Ae],yn,ft);Se&&Un.push(Se)}}if(1===Un.length)throw Un[0];for(let Me=0;Me<Un.length;Me++){const Ae=Un[Me];gt.nativeScheduleMicroTask(()=>{throw Ae})}}}const jn=function(Bt){return fn(this,Bt,!1)},Gt=function(Bt){return fn(this,Bt,!0)};function er(Bt,ft){if(!Bt)return!1;let tn=!0;ft&&void 0!==ft.useG&&(tn=ft.useG);const yn=ft&&ft.vh;let Wn=!0;ft&&void 0!==ft.chkDup&&(Wn=ft.chkDup);let Un=!1;ft&&void 0!==ft.rt&&(Un=ft.rt);let Me=Bt;for(;Me&&!Me.hasOwnProperty(be);)Me=x(Me);if(!Me&&Bt[be]&&(Me=Bt),!Me||Me[Ot])return!1;const Ae=ft&&ft.eventNameToString,Se={},lt=Me[Ot]=Me[be],Ke=Me[fe(at)]=Me[at],qt=Me[fe(ct)]=Me[ct],Zn=Me[fe(bt)]=Me[bt];let qn;function ir(rt,Lt){return!wt&&"object"==typeof rt&&rt?!!rt.capture:wt&&Lt?"boolean"==typeof rt?{capture:rt,passive:!0}:rt?"object"==typeof rt&&!1!==rt.passive?Object.assign(Object.assign({},rt),{passive:!0}):rt:{passive:!0}:rt}ft&&ft.prepend&&(qn=Me[fe(ft.prepend)]=Me[ft.prepend]);const Xe=tn?function(rt){if(!Se.isExisting)return lt.call(Se.target,Se.eventName,Se.capture?Gt:jn,Se.options)}:function(rt){return lt.call(Se.target,Se.eventName,rt.invoke,Se.options)},St=tn?function(rt){if(!rt.isRemoved){const Lt=bn[rt.eventName];let gn;Lt&&(gn=Lt[rt.capture?Q:J]);const An=gn&&rt.target[gn];if(An)for(let _n=0;_n<An.length;_n++)if(An[_n]===rt){An.splice(_n,1),rt.isRemoved=!0,0===An.length&&(rt.allRemoved=!0,rt.target[gn]=null);break}}if(rt.allRemoved)return Ke.call(rt.target,rt.eventName,rt.capture?Gt:jn,rt.options)}:function(rt){return Ke.call(rt.target,rt.eventName,rt.invoke,rt.options)},Qn=ft&&ft.diff?ft.diff:function(rt,Lt){const gn=typeof Lt;return"function"===gn&&rt.callback===Lt||"object"===gn&&rt.originalDelegate===Lt},gr=Zone[fe("UNPATCHED_EVENTS")],Yt=Be[fe("PASSIVE_EVENTS")],sn=function(rt,Lt,gn,An,_n=!1,On=!1){return function(){const tr=this||Be;let pn=arguments[0];ft&&ft.transferEventName&&(pn=ft.transferEventName(pn));let Gn=arguments[1];if(!Gn)return rt.apply(this,arguments);if($e&&"uncaughtException"===pn)return rt.apply(this,arguments);let Pr=!1;if("function"!=typeof Gn){if(!Gn.handleEvent)return rt.apply(this,arguments);Pr=!0}if(yn&&!yn(rt,Gn,tr,arguments))return;const Xn=wt&&!!Yt&&-1!==Yt.indexOf(pn),Lr=ir(arguments[2],Xn);if(gr)for(let Dr=0;Dr<gr.length;Dr++)if(pn===gr[Dr])return Xn?rt.call(tr,pn,Gn,Lr):rt.apply(this,arguments);const Ei=!!Lr&&("boolean"==typeof Lr||Lr.capture),to=!(!Lr||"object"!=typeof Lr)&&Lr.once,Hi=Zone.current;let zr=bn[pn];zr||(br(pn,Ae),zr=bn[pn]);const Wi=zr[Ei?Q:J];let ze,Jr=tr[Wi],st=!1;if(Jr){if(st=!0,Wn)for(let Dr=0;Dr<Jr.length;Dr++)if(Qn(Jr[Dr],Gn))return}else Jr=tr[Wi]=[];const Tt=tr.constructor.name,Vt=rr[Tt];Vt&&(ze=Vt[pn]),ze||(ze=Tt+Lt+(Ae?Ae(pn):pn)),Se.options=Lr,to&&(Se.options.once=!1),Se.target=tr,Se.capture=Ei,Se.eventName=pn,Se.isExisting=st;const $t=tn?Wt:void 0;$t&&($t.taskData=Se);const Tn=Hi.scheduleEventTask(ze,Gn,$t,gn,An);return Se.target=null,$t&&($t.taskData=null),to&&(Lr.once=!0),!wt&&"boolean"==typeof Tn.options||(Tn.options=Lr),Tn.target=tr,Tn.capture=Ei,Tn.eventName=pn,Pr&&(Tn.originalDelegate=Gn),On?Jr.unshift(Tn):Jr.push(Tn),_n?tr:void 0}};return Me[be]=sn(lt,dn,Xe,St,Un),qn&&(Me.prependListener=sn(qn,".prependListener:",function(rt){return qn.call(Se.target,Se.eventName,rt.invoke,Se.options)},St,Un,!0)),Me[at]=function(){const rt=this||Be;let Lt=arguments[0];ft&&ft.transferEventName&&(Lt=ft.transferEventName(Lt));const gn=arguments[2],An=!!gn&&("boolean"==typeof gn||gn.capture),_n=arguments[1];if(!_n)return Ke.apply(this,arguments);if(yn&&!yn(Ke,_n,rt,arguments))return;const On=bn[Lt];let tr;On&&(tr=On[An?Q:J]);const pn=tr&&rt[tr];if(pn)for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];if(Qn(Pr,_n))return pn.splice(Gn,1),Pr.isRemoved=!0,0===pn.length&&(Pr.allRemoved=!0,rt[tr]=null,"string"==typeof Lt)&&(rt[ne+"ON_PROPERTY"+Lt]=null),Pr.zone.cancelTask(Pr),Un?rt:void 0}return Ke.apply(this,arguments)},Me[ct]=function(){const rt=this||Be;let Lt=arguments[0];ft&&ft.transferEventName&&(Lt=ft.transferEventName(Lt));const gn=[],An=ni(rt,Ae?Ae(Lt):Lt);for(let _n=0;_n<An.length;_n++){const On=An[_n];gn.push(On.originalDelegate?On.originalDelegate:On.callback)}return gn},Me[bt]=function(){const rt=this||Be;let Lt=arguments[0];if(Lt){ft&&ft.transferEventName&&(Lt=ft.transferEventName(Lt));const gn=bn[Lt];if(gn){const On=rt[gn[J]],tr=rt[gn[Q]];if(On){const pn=On.slice();for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];this[at].call(this,Lt,Pr.originalDelegate?Pr.originalDelegate:Pr.callback,Pr.options)}}if(tr){const pn=tr.slice();for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];this[at].call(this,Lt,Pr.originalDelegate?Pr.originalDelegate:Pr.callback,Pr.options)}}}}else{const gn=Object.keys(rt);for(let An=0;An<gn.length;An++){const On=$n.exec(gn[An]);let tr=On&&On[1];tr&&"removeListener"!==tr&&this[bt].call(this,tr)}this[bt].call(this,"removeListener")}if(Un)return this},Ce(Me[be],lt),Ce(Me[at],Ke),Zn&&Ce(Me[bt],Zn),qt&&Ce(Me[ct],qt),!0}let kn=[];for(let Bt=0;Bt<Ue.length;Bt++)kn[Bt]=er(Ue[Bt],ce);return kn}function ni(Be,gt){if(!gt){const at=[];for(let ct in Be){const bt=$n.exec(ct);let Ot=bt&&bt[1];if(Ot&&(!gt||Ot===gt)){const dn=Be[ct];if(dn)for(let Zt=0;Zt<dn.length;Zt++)at.push(dn[Zt])}}return at}let Ue=bn[gt];Ue||(br(gt),Ue=bn[gt]);const ce=Be[Ue[J]],be=Be[Ue[Q]];return ce?be?ce.concat(be):ce.slice():be?be.slice():[]}function Ar(Be,gt){const Ue=Be.Event;Ue&&Ue.prototype&&gt.patchMethod(Ue.prototype,"stopImmediatePropagation",ce=>function(be,at){be[wr]=!0,ce&&ce.apply(be,at)})}function Gr(Be,gt,Ue,ce,be){const at=Zone.__symbol__(ce);if(gt[at])return;const ct=gt[at]=gt[ce];gt[ce]=function(bt,Ot,dn){return Ot&&Ot.prototype&&be.forEach(function(Zt){const an=`${Ue}.${ce}::`+Zt,Vn=Ot.prototype;if(Vn.hasOwnProperty(Zt)){const fn=Be.ObjectGetOwnPropertyDescriptor(Vn,Zt);fn&&fn.value?(fn.value=Be.wrapWithCurrentZone(fn.value,an),Be._redefineProperty(Ot.prototype,Zt,fn)):Vn[Zt]&&(Vn[Zt]=Be.wrapWithCurrentZone(Vn[Zt],an))}else Vn[Zt]&&(Vn[Zt]=Be.wrapWithCurrentZone(Vn[Zt],an))}),ct.call(gt,bt,Ot,dn)},Be.attachOriginToPatched(gt[ce],ct)}function Oi(Be,gt,Ue){if(!Ue||0===Ue.length)return gt;const ce=Ue.filter(at=>at.target===Be);if(!ce||0===ce.length)return gt;const be=ce[0].ignoreProperties;return gt.filter(at=>-1===be.indexOf(at))}function Si(Be,gt,Ue,ce){Be&&ve(Be,Oi(Be,gt,Ue),ce)}function Kr(Be){return Object.getOwnPropertyNames(Be).filter(gt=>gt.startsWith("on")&&gt.length>2).map(gt=>gt.substring(2))}Zone.__load_patch("util",(Be,gt,Ue)=>{const ce=Kr(Be);Ue.patchOnProperties=ve,Ue.patchMethod=ye,Ue.bindArguments=_e,Ue.patchMacroTask=Te;const be=gt.__symbol__("BLACK_LISTED_EVENTS"),at=gt.__symbol__("UNPATCHED_EVENTS");Be[at]&&(Be[be]=Be[at]),Be[be]&&(gt[be]=gt[at]=Be[be]),Ue.patchEventPrototype=Ar,Ue.patchEventTarget=vr,Ue.isIEOrEdge=kt,Ue.ObjectDefineProperty=w,Ue.ObjectGetOwnPropertyDescriptor=pt,Ue.ObjectCreate=p,Ue.ArraySlice=e,Ue.patchClass=re,Ue.wrapWithCurrentZone=Y,Ue.filterProperties=Oi,Ue.attachOriginToPatched=Ce,Ue._redefineProperty=Object.defineProperty,Ue.patchCallbacks=Gr,Ue.getGlobalObjects=()=>({globalSources:rr,zoneSymbolEventNames:bn,eventNames:ce,isBrowser:Qe,isMix:xe,isNode:$e,TRUE_STR:Q,FALSE_STR:J,ZONE_SYMBOL_PREFIX:ne,ADD_EVENT_LISTENER_STR:T,REMOVE_EVENT_LISTENER_STR:N})});const ki=fe("zoneTask");function Bn(Be,gt,Ue,ce){let be=null,at=null;Ue+=ce;const ct={};function bt(dn){const Zt=dn.data;return Zt.args[0]=function(){return dn.invoke.apply(this,arguments)},Zt.handleId=be.apply(Be,Zt.args),dn}function Ot(dn){return at.call(Be,dn.data.handleId)}be=ye(Be,gt+=ce,dn=>function(Zt,an){if("function"==typeof an[0]){const Vn={isPeriodic:"Interval"===ce,delay:"Timeout"===ce||"Interval"===ce?an[1]||0:void 0,args:an},fn=an[0];an[0]=function(){try{return fn.apply(this,arguments)}finally{Vn.isPeriodic||("number"==typeof Vn.handleId?delete ct[Vn.handleId]:Vn.handleId&&(Vn.handleId[ki]=null))}};const jn=ie(gt,an[0],Vn,bt,Ot);if(!jn)return jn;const Gt=jn.data.handleId;return"number"==typeof Gt?ct[Gt]=jn:Gt&&(Gt[ki]=jn),Gt&&Gt.ref&&Gt.unref&&"function"==typeof Gt.ref&&"function"==typeof Gt.unref&&(jn.ref=Gt.ref.bind(Gt),jn.unref=Gt.unref.bind(Gt)),"number"==typeof Gt||Gt?Gt:jn}return dn.apply(Be,an)}),at=ye(Be,Ue,dn=>function(Zt,an){const Vn=an[0];let fn;"number"==typeof Vn?fn=ct[Vn]:(fn=Vn&&Vn[ki],fn||(fn=Vn)),fn&&"string"==typeof fn.type?"notScheduled"!==fn.state&&(fn.cancelFn&&fn.data.isPeriodic||0===fn.runCount)&&("number"==typeof Vn?delete ct[Vn]:Vn&&(Vn[ki]=null),fn.zone.cancelTask(fn)):dn.apply(Be,an)})}Zone.__load_patch("legacy",Be=>{const gt=Be[Zone.__symbol__("legacyPatch")];gt&&gt()}),Zone.__load_patch("queueMicrotask",(Be,gt,Ue)=>{Ue.patchMethod(Be,"queueMicrotask",ce=>function(be,at){gt.current.scheduleMicroTask("queueMicrotask",at[0])})}),Zone.__load_patch("timers",Be=>{const Ue="clear";Bn(Be,"set",Ue,"Timeout"),Bn(Be,"set",Ue,"Interval"),Bn(Be,"set",Ue,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Be=>{Bn(Be,"request","cancel","AnimationFrame"),Bn(Be,"mozRequest","mozCancel","AnimationFrame"),Bn(Be,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Be,gt)=>{const Ue=["alert","prompt","confirm"];for(let ce=0;ce<Ue.length;ce++)ye(Be,Ue[ce],(at,ct,bt)=>function(Ot,dn){return gt.current.run(at,Be,dn,bt)})}),Zone.__load_patch("EventTarget",(Be,gt,Ue)=>{(function Qr(Be,gt){gt.patchEventPrototype(Be,gt)})(Be,Ue),function ri(Be,gt){if(Zone[gt.symbol("patchEventTarget")])return;const{eventNames:Ue,zoneSymbolEventNames:ce,TRUE_STR:be,FALSE_STR:at,ZONE_SYMBOL_PREFIX:ct}=gt.getGlobalObjects();for(let Ot=0;Ot<Ue.length;Ot++){const dn=Ue[Ot],Vn=ct+(dn+at),fn=ct+(dn+be);ce[dn]={},ce[dn][at]=Vn,ce[dn][be]=fn}const bt=Be.EventTarget;bt&&bt.prototype&&gt.patchEventTarget(Be,gt,[bt&&bt.prototype])}(Be,Ue);const ce=Be.XMLHttpRequestEventTarget;ce&&ce.prototype&&Ue.patchEventTarget(Be,Ue,[ce.prototype])}),Zone.__load_patch("MutationObserver",(Be,gt,Ue)=>{re("MutationObserver"),re("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Be,gt,Ue)=>{re("IntersectionObserver")}),Zone.__load_patch("FileReader",(Be,gt,Ue)=>{re("FileReader")}),Zone.__load_patch("on_property",(Be,gt,Ue)=>{!function Wr(Be,gt){if($e&&!xe||Zone[Be.symbol("patchEvents")])return;const Ue=gt.__Zone_ignore_on_properties;let ce=[];if(Qe){const be=window;ce=ce.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const at=function mn(){try{const Be=et.navigator.userAgent;if(-1!==Be.indexOf("MSIE ")||-1!==Be.indexOf("Trident/"))return!0}catch(Be){}return!1}()?[{target:be,ignoreProperties:["error"]}]:[];Si(be,Kr(be),Ue&&Ue.concat(at),x(be))}ce=ce.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let be=0;be<ce.length;be++){const at=gt[ce[be]];at&&at.prototype&&Si(at.prototype,Kr(at.prototype),Ue)}}(Ue,Be)}),Zone.__load_patch("customElements",(Be,gt,Ue)=>{!function ji(Be,gt){const{isBrowser:Ue,isMix:ce}=gt.getGlobalObjects();(Ue||ce)&&Be.customElements&&"customElements"in Be&&gt.patchCallbacks(gt,Be.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Be,Ue)}),Zone.__load_patch("XHR",(Be,gt)=>{!function Ot(dn){const Zt=dn.XMLHttpRequest;if(!Zt)return;const an=Zt.prototype;let fn=an[O],jn=an[j];if(!fn){const Se=dn.XMLHttpRequestEventTarget;if(Se){const lt=Se.prototype;fn=lt[O],jn=lt[j]}}const Gt="readystatechange",er="scheduled";function kn(Se){const lt=Se.data,Ke=lt.target;Ke[at]=!1,Ke[bt]=!1;const qt=Ke[be];fn||(fn=Ke[O],jn=Ke[j]),qt&&jn.call(Ke,Gt,qt);const Zn=Ke[be]=()=>{if(Ke.readyState===Ke.DONE)if(!lt.aborted&&Ke[at]&&Se.state===er){const ir=Ke[gt.__symbol__("loadfalse")];if(0!==Ke.status&&ir&&ir.length>0){const or=Se.invoke;Se.invoke=function(){const sr=Ke[gt.__symbol__("loadfalse")];for(let Cn=0;Cn<sr.length;Cn++)sr[Cn]===Se&&sr.splice(Cn,1);!lt.aborted&&Se.state===er&&or.call(Se)},ir.push(Se)}else Se.invoke()}else!lt.aborted&&!1===Ke[at]&&(Ke[bt]=!0)};return fn.call(Ke,Gt,Zn),Ke[Ue]||(Ke[Ue]=Se),Me.apply(Ke,lt.args),Ke[at]=!0,Se}function Bt(){}function ft(Se){const lt=Se.data;return lt.aborted=!0,Ae.apply(lt.target,lt.args)}const tn=ye(an,"open",()=>function(Se,lt){return Se[ce]=0==lt[2],Se[ct]=lt[1],tn.apply(Se,lt)}),Wn=fe("fetchTaskAborting"),Un=fe("fetchTaskScheduling"),Me=ye(an,"send",()=>function(Se,lt){if(!0===gt.current[Un]||Se[ce])return Me.apply(Se,lt);{const Ke={target:Se,url:Se[ct],isPeriodic:!1,args:lt,aborted:!1},qt=ie("XMLHttpRequest.send",Bt,Ke,kn,ft);Se&&!0===Se[bt]&&!Ke.aborted&&qt.state===er&&qt.invoke()}}),Ae=ye(an,"abort",()=>function(Se,lt){const Ke=function Vn(Se){return Se[Ue]}(Se);if(Ke&&"string"==typeof Ke.type){if(null==Ke.cancelFn||Ke.data&&Ke.data.aborted)return;Ke.zone.cancelTask(Ke)}else if(!0===gt.current[Wn])return Ae.apply(Se,lt)})}(Be);const Ue=fe("xhrTask"),ce=fe("xhrSync"),be=fe("xhrListener"),at=fe("xhrScheduled"),ct=fe("xhrURL"),bt=fe("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Be=>{Be.navigator&&Be.navigator.geolocation&&function He(Be,gt){const Ue=Be.constructor.name;for(let ce=0;ce<gt.length;ce++){const be=gt[ce],at=Be[be];if(at){if(!ke(pt(Be,be)))continue;Be[be]=(bt=>{const Ot=function(){return bt.apply(this,_e(arguments,Ue+"."+be))};return Ce(Ot,bt),Ot})(at)}}}(Be.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Be,gt)=>{function Ue(ce){return function(be){ni(Be,ce).forEach(ct=>{const bt=Be.PromiseRejectionEvent;if(bt){const Ot=new bt(ce,{promise:be.promise,reason:be.rejection});ct.invoke(Ot)}})}}Be.PromiseRejectionEvent&&(gt[fe("unhandledPromiseRejectionHandler")]=Ue("unhandledrejection"),gt[fe("rejectionHandledHandler")]=Ue("rejectionhandled"))})},655:(pt,w,x)=>{"use strict";function N(ve,me){var re={};for(var ye in ve)Object.prototype.hasOwnProperty.call(ve,ye)&&me.indexOf(ye)<0&&(re[ye]=ve[ye]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(ye=Object.getOwnPropertySymbols(ve);Te<ye.length;Te++)me.indexOf(ye[Te])<0&&Object.prototype.propertyIsEnumerable.call(ve,ye[Te])&&(re[ye[Te]]=ve[ye[Te]])}return re}function J(ve,me,re,ye){return new(re||(re=Promise))(function(Ce,yt){function Mt(wt){try{kt(ye.next(wt))}catch(Wt){yt(Wt)}}function mn(wt){try{kt(ye.throw(wt))}catch(Wt){yt(Wt)}}function kt(wt){wt.done?Ce(wt.value):function Te(Ce){return Ce instanceof re?Ce:new re(function(yt){yt(Ce)})}(wt.value).then(Mt,mn)}kt((ye=ye.apply(ve,me||[])).next())})}function _e(ve){return this instanceof _e?(this.v=ve,this):new _e(ve)}function He(ve,me,re){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,ye=re.apply(ve,me||[]),Ce=[];return Te={},yt("next"),yt("throw"),yt("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function yt(bn){ye[bn]&&(Te[bn]=function(rr){return new Promise(function($n,wr){Ce.push([bn,rr,$n,wr])>1||Mt(bn,rr)})})}function Mt(bn,rr){try{!function mn(bn){bn.value instanceof _e?Promise.resolve(bn.value.v).then(kt,wt):Wt(Ce[0][2],bn)}(ye[bn](rr))}catch($n){Wt(Ce[0][3],$n)}}function kt(bn){Mt("next",bn)}function wt(bn){Mt("throw",bn)}function Wt(bn,rr){bn(rr),Ce.shift(),Ce.length&&Mt(Ce[0][0],Ce[0][1])}}function _t(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re,me=ve[Symbol.asyncIterator];return me?me.call(ve):(ve=function fe(ve){var me="function"==typeof Symbol&&Symbol.iterator,re=me&&ve[me],ye=0;if(re)return re.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&ye>=ve.length&&(ve=void 0),{value:ve&&ve[ye++],done:!ve}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),re={},ye("next"),ye("throw"),ye("return"),re[Symbol.asyncIterator]=function(){return this},re);function ye(Ce){re[Ce]=ve[Ce]&&function(yt){return new Promise(function(Mt,mn){!function Te(Ce,yt,Mt,mn){Promise.resolve(mn).then(function(kt){Ce({value:kt,done:Mt})},yt)}(Mt,mn,(yt=ve[Ce](yt)).done,yt.value)})}}}x.d(w,{FC:()=>He,KL:()=>_t,_T:()=>N,mG:()=>J,qq:()=>_e})},9808:(pt,w,x)=>{"use strict";x.d(w,{Do:()=>$e,EM:()=>ur,HT:()=>O,JF:()=>jr,JJ:()=>R,K0:()=>Q,Mx:()=>Lr,NF:()=>Et,O5:()=>st,PM:()=>hn,S$:()=>_e,Ts:()=>ho,V_:()=>Y,Ye:()=>Qe,b0:()=>_t,bD:()=>dt,ez:()=>Fe,lw:()=>J,mk:()=>Ei,mr:()=>ke,q:()=>T,qS:()=>Xn,sg:()=>zr,tP:()=>Ui,uU:()=>Qo,w_:()=>j});var p=x(5e3);let e=null;function T(){return e}function O(H){e||(e=H)}class j{}const Q=new p.OlP("DocumentToken");let J=(()=>{class H{historyGo(V){throw new Error("Not implemented")}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function ne(){return(0,p.LFG)(ie)}()},providedIn:"platform"}),H})();const Y=new p.OlP("Location Initialized");let ie=(()=>{class H extends J{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(V){const pe=T().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",V,!1),()=>pe.removeEventListener("popstate",V)}onHashChange(V){const pe=T().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",V,!1),()=>pe.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,pe,Ye){fe()?this._history.pushState(V,pe,Ye):this.location.hash=Ye}replaceState(V,pe,Ye){fe()?this._history.replaceState(V,pe,Ye):this.location.hash=Ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(Q))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function ut(){return new ie((0,p.LFG)(Q))}()},providedIn:"platform"}),H})();function fe(){return!!window.history.pushState}function et(H,le){if(0==H.length)return le;if(0==le.length)return H;let V=0;return H.endsWith("/")&&V++,le.startsWith("/")&&V++,2==V?H+le.substring(1):1==V?H+le:H+"/"+le}function Je(H){const le=H.match(/#|\?|$/),V=le&&le.index||H.length;return H.slice(0,V-("/"===H[V-1]?1:0))+H.slice(V)}function vt(H){return H&&"?"!==H[0]?"?"+H:H}let _e=(()=>{class H{historyGo(V){throw new Error("Not implemented")}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function He(H){const le=(0,p.LFG)(Q).location;return new _t((0,p.LFG)(J),le&&le.origin||"")}()},providedIn:"root"}),H})();const ke=new p.OlP("appBaseHref");let _t=(()=>{class H extends _e{constructor(V,pe){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==pe&&(pe=this._platformLocation.getBaseHrefFromDOM()),null==pe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=pe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return et(this._baseHref,V)}path(V=!1){const pe=this._platformLocation.pathname+vt(this._platformLocation.search),Ye=this._platformLocation.hash;return Ye&&V?`${pe}${Ye}`:pe}pushState(V,pe,Ye,Nt){const zt=this.prepareExternalUrl(Ye+vt(Nt));this._platformLocation.pushState(V,pe,zt)}replaceState(V,pe,Ye,Nt){const zt=this.prepareExternalUrl(Ye+vt(Nt));this._platformLocation.replaceState(V,pe,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformLocation).historyGo)||void 0===Ye||Ye.call(pe,V)}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(J),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),$e=(()=>{class H extends _e{constructor(V,pe){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl(V){const pe=et(this._baseHref,V);return pe.length>0?"#"+pe:pe}pushState(V,pe,Ye,Nt){let zt=this.prepareExternalUrl(Ye+vt(Nt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(V,pe,zt)}replaceState(V,pe,Ye,Nt){let zt=this.prepareExternalUrl(Ye+vt(Nt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(V,pe,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformLocation).historyGo)||void 0===Ye||Ye.call(pe,V)}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(J),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),Qe=(()=>{class H{constructor(V,pe){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Ye=this._platformStrategy.getBaseHref();this._platformLocation=pe,this._baseHref=Je(Ve(Ye)),this._platformStrategy.onPopState(Nt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Nt.state,type:Nt.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,pe=""){return this.path()==this.normalize(V+vt(pe))}normalize(V){return H.stripTrailingSlash(function nt(H,le){return H&&le.startsWith(H)?le.substring(H.length):le}(this._baseHref,Ve(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,pe="",Ye=null){this._platformStrategy.pushState(Ye,"",V,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+vt(pe)),Ye)}replaceState(V,pe="",Ye=null){this._platformStrategy.replaceState(Ye,"",V,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+vt(pe)),Ye)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformStrategy).historyGo)||void 0===Ye||Ye.call(pe,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)}))}_notifyUrlChangeListeners(V="",pe){this._urlChangeListeners.forEach(Ye=>Ye(V,pe))}subscribe(V,pe,Ye){return this._subject.subscribe({next:V,error:pe,complete:Ye})}}return H.normalizeQueryParams=vt,H.joinWithSlash=et,H.stripTrailingSlash=Je,H.\u0275fac=function(V){return new(V||H)(p.LFG(_e),p.LFG(J))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function xe(){return new Qe((0,p.LFG)(_e),(0,p.LFG)(J))}()},providedIn:"root"}),H})();function Ve(H){return H.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Percent=1]="Percent",ve[ve.Currency=2]="Currency",ve[ve.Scientific=3]="Scientific",ve))(),re=(()=>((re=re||{})[re.Format=0]="Format",re[re.Standalone=1]="Standalone",re))(),ye=(()=>((ye=ye||{})[ye.Narrow=0]="Narrow",ye[ye.Abbreviated=1]="Abbreviated",ye[ye.Wide=2]="Wide",ye[ye.Short=3]="Short",ye))(),Te=(()=>((Te=Te||{})[Te.Short=0]="Short",Te[Te.Medium=1]="Medium",Te[Te.Long=2]="Long",Te[Te.Full=3]="Full",Te))(),Ce=(()=>((Ce=Ce||{})[Ce.Decimal=0]="Decimal",Ce[Ce.Group=1]="Group",Ce[Ce.List=2]="List",Ce[Ce.PercentSign=3]="PercentSign",Ce[Ce.PlusSign=4]="PlusSign",Ce[Ce.MinusSign=5]="MinusSign",Ce[Ce.Exponential=6]="Exponential",Ce[Ce.SuperscriptingExponent=7]="SuperscriptingExponent",Ce[Ce.PerMille=8]="PerMille",Ce[Ce.Infinity=9]="Infinity",Ce[Ce.NaN=10]="NaN",Ce[Ce.TimeSeparator=11]="TimeSeparator",Ce[Ce.CurrencyDecimal=12]="CurrencyDecimal",Ce[Ce.CurrencyGroup=13]="CurrencyGroup",Ce))();function $n(H,le){return ri((0,p.cg1)(H)[p.wAp.DateFormat],le)}function wr(H,le){return ri((0,p.cg1)(H)[p.wAp.TimeFormat],le)}function br(H,le){return ri((0,p.cg1)(H)[p.wAp.DateTimeFormat],le)}function vr(H,le){const V=(0,p.cg1)(H),pe=V[p.wAp.NumberSymbols][le];if(void 0===pe){if(le===Ce.CurrencyDecimal)return V[p.wAp.NumberSymbols][Ce.Decimal];if(le===Ce.CurrencyGroup)return V[p.wAp.NumberSymbols][Ce.Group]}return pe}function Wr(H){if(!H[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${H[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ri(H,le){for(let V=le;V>-1;V--)if(void 0!==H[V])return H[V];throw new Error("Locale data API: locale data undefined")}function Qr(H){const[le,V]=H.split(":");return{hours:+le,minutes:+V}}const ce=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,be={},at=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ct=(()=>((ct=ct||{})[ct.Short=0]="Short",ct[ct.ShortGMT=1]="ShortGMT",ct[ct.Long=2]="Long",ct[ct.Extended=3]="Extended",ct))(),bt=(()=>((bt=bt||{})[bt.FullYear=0]="FullYear",bt[bt.Month=1]="Month",bt[bt.Date=2]="Date",bt[bt.Hours=3]="Hours",bt[bt.Minutes=4]="Minutes",bt[bt.Seconds=5]="Seconds",bt[bt.FractionalSeconds=6]="FractionalSeconds",bt[bt.Day=7]="Day",bt))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function dn(H,le,V,pe){let Ye=function qn(H){if(or(H))return H;if("number"==typeof H&&!isNaN(H))return new Date(H);if("string"==typeof H){if(H=H.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(H)){const[Ye,Nt=1,zt=1]=H.split("-").map(En=>+En);return Zt(Ye,Nt-1,zt)}const V=parseFloat(H);if(!isNaN(H-V))return new Date(V);let pe;if(pe=H.match(ce))return function ir(H){const le=new Date(0);let V=0,pe=0;const Ye=H[8]?le.setUTCFullYear:le.setFullYear,Nt=H[8]?le.setUTCHours:le.setHours;H[9]&&(V=Number(H[9]+H[10]),pe=Number(H[9]+H[11])),Ye.call(le,Number(H[1]),Number(H[2])-1,Number(H[3]));const zt=Number(H[4]||0)-V,En=Number(H[5]||0)-pe,ii=Number(H[6]||0),Fr=Math.floor(1e3*parseFloat("0."+(H[7]||0)));return Nt.call(le,zt,En,ii,Fr),le}(pe)}const le=new Date(H);if(!or(le))throw new Error(`Unable to convert "${H}" into a date`);return le}(H);le=an(V,le)||le;let En,zt=[];for(;le;){if(En=at.exec(le),!En){zt.push(le);break}{zt=zt.concat(En.slice(1));const Br=zt.pop();if(!Br)break;le=Br}}let ii=Ye.getTimezoneOffset();pe&&(ii=Ke(pe,ii),Ye=function Zn(H,le,V){const pe=V?-1:1,Ye=H.getTimezoneOffset();return function qt(H,le){return(H=new Date(H.getTime())).setMinutes(H.getMinutes()+le),H}(H,pe*(Ke(le,Ye)-Ye))}(Ye,pe,!0));let Fr="";return zt.forEach(Br=>{const Or=function lt(H){if(Se[H])return Se[H];let le;switch(H){case"G":case"GG":case"GGG":le=kn(Ot.Eras,ye.Abbreviated);break;case"GGGG":le=kn(Ot.Eras,ye.Wide);break;case"GGGGG":le=kn(Ot.Eras,ye.Narrow);break;case"y":le=Gt(bt.FullYear,1,0,!1,!0);break;case"yy":le=Gt(bt.FullYear,2,0,!0,!0);break;case"yyy":le=Gt(bt.FullYear,3,0,!1,!0);break;case"yyyy":le=Gt(bt.FullYear,4,0,!1,!0);break;case"Y":le=Ae(1);break;case"YY":le=Ae(2,!0);break;case"YYY":le=Ae(3);break;case"YYYY":le=Ae(4);break;case"M":case"L":le=Gt(bt.Month,1,1);break;case"MM":case"LL":le=Gt(bt.Month,2,1);break;case"MMM":le=kn(Ot.Months,ye.Abbreviated);break;case"MMMM":le=kn(Ot.Months,ye.Wide);break;case"MMMMM":le=kn(Ot.Months,ye.Narrow);break;case"LLL":le=kn(Ot.Months,ye.Abbreviated,re.Standalone);break;case"LLLL":le=kn(Ot.Months,ye.Wide,re.Standalone);break;case"LLLLL":le=kn(Ot.Months,ye.Narrow,re.Standalone);break;case"w":le=Me(1);break;case"ww":le=Me(2);break;case"W":le=Me(1,!0);break;case"d":le=Gt(bt.Date,1);break;case"dd":le=Gt(bt.Date,2);break;case"c":case"cc":le=Gt(bt.Day,1);break;case"ccc":le=kn(Ot.Days,ye.Abbreviated,re.Standalone);break;case"cccc":le=kn(Ot.Days,ye.Wide,re.Standalone);break;case"ccccc":le=kn(Ot.Days,ye.Narrow,re.Standalone);break;case"cccccc":le=kn(Ot.Days,ye.Short,re.Standalone);break;case"E":case"EE":case"EEE":le=kn(Ot.Days,ye.Abbreviated);break;case"EEEE":le=kn(Ot.Days,ye.Wide);break;case"EEEEE":le=kn(Ot.Days,ye.Narrow);break;case"EEEEEE":le=kn(Ot.Days,ye.Short);break;case"a":case"aa":case"aaa":le=kn(Ot.DayPeriods,ye.Abbreviated);break;case"aaaa":le=kn(Ot.DayPeriods,ye.Wide);break;case"aaaaa":le=kn(Ot.DayPeriods,ye.Narrow);break;case"b":case"bb":case"bbb":le=kn(Ot.DayPeriods,ye.Abbreviated,re.Standalone,!0);break;case"bbbb":le=kn(Ot.DayPeriods,ye.Wide,re.Standalone,!0);break;case"bbbbb":le=kn(Ot.DayPeriods,ye.Narrow,re.Standalone,!0);break;case"B":case"BB":case"BBB":le=kn(Ot.DayPeriods,ye.Abbreviated,re.Format,!0);break;case"BBBB":le=kn(Ot.DayPeriods,ye.Wide,re.Format,!0);break;case"BBBBB":le=kn(Ot.DayPeriods,ye.Narrow,re.Format,!0);break;case"h":le=Gt(bt.Hours,1,-12);break;case"hh":le=Gt(bt.Hours,2,-12);break;case"H":le=Gt(bt.Hours,1);break;case"HH":le=Gt(bt.Hours,2);break;case"m":le=Gt(bt.Minutes,1);break;case"mm":le=Gt(bt.Minutes,2);break;case"s":le=Gt(bt.Seconds,1);break;case"ss":le=Gt(bt.Seconds,2);break;case"S":le=Gt(bt.FractionalSeconds,1);break;case"SS":le=Gt(bt.FractionalSeconds,2);break;case"SSS":le=Gt(bt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=ft(ct.Short);break;case"ZZZZZ":le=ft(ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=ft(ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=ft(ct.Long);break;default:return null}return Se[H]=le,le}(Br);Fr+=Or?Or(Ye,V,ii):"''"===Br?"'":Br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fr}function Zt(H,le,V){const pe=new Date(0);return pe.setFullYear(H,le,V),pe.setHours(0,0,0),pe}function an(H,le){const V=function Mt(H){return(0,p.cg1)(H)[p.wAp.LocaleId]}(H);if(be[V]=be[V]||{},be[V][le])return be[V][le];let pe="";switch(le){case"shortDate":pe=$n(H,Te.Short);break;case"mediumDate":pe=$n(H,Te.Medium);break;case"longDate":pe=$n(H,Te.Long);break;case"fullDate":pe=$n(H,Te.Full);break;case"shortTime":pe=wr(H,Te.Short);break;case"mediumTime":pe=wr(H,Te.Medium);break;case"longTime":pe=wr(H,Te.Long);break;case"fullTime":pe=wr(H,Te.Full);break;case"short":const Ye=an(H,"shortTime"),Nt=an(H,"shortDate");pe=Vn(br(H,Te.Short),[Ye,Nt]);break;case"medium":const zt=an(H,"mediumTime"),En=an(H,"mediumDate");pe=Vn(br(H,Te.Medium),[zt,En]);break;case"long":const ii=an(H,"longTime"),Fr=an(H,"longDate");pe=Vn(br(H,Te.Long),[ii,Fr]);break;case"full":const Br=an(H,"fullTime"),Or=an(H,"fullDate");pe=Vn(br(H,Te.Full),[Br,Or])}return pe&&(be[V][le]=pe),pe}function Vn(H,le){return le&&(H=H.replace(/\{([^}]+)}/g,function(V,pe){return null!=le&&pe in le?le[pe]:V})),H}function fn(H,le,V="-",pe,Ye){let Nt="";(H<0||Ye&&H<=0)&&(Ye?H=1-H:(H=-H,Nt=V));let zt=String(H);for(;zt.length<le;)zt="0"+zt;return pe&&(zt=zt.substr(zt.length-le)),Nt+zt}function Gt(H,le,V=0,pe=!1,Ye=!1){return function(Nt,zt){let En=function er(H,le){switch(H){case bt.FullYear:return le.getFullYear();case bt.Month:return le.getMonth();case bt.Date:return le.getDate();case bt.Hours:return le.getHours();case bt.Minutes:return le.getMinutes();case bt.Seconds:return le.getSeconds();case bt.FractionalSeconds:return le.getMilliseconds();case bt.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${H}".`)}}(H,Nt);if((V>0||En>-V)&&(En+=V),H===bt.Hours)0===En&&-12===V&&(En=12);else if(H===bt.FractionalSeconds)return function jn(H,le){return fn(H,3).substr(0,le)}(En,le);const ii=vr(zt,Ce.MinusSign);return fn(En,le,ii,pe,Ye)}}function kn(H,le,V=re.Format,pe=!1){return function(Ye,Nt){return function Bt(H,le,V,pe,Ye,Nt){switch(V){case Ot.Months:return function wt(H,le,V){const pe=(0,p.cg1)(H),Nt=ri([pe[p.wAp.MonthsFormat],pe[p.wAp.MonthsStandalone]],le);return ri(Nt,V)}(le,Ye,pe)[H.getMonth()];case Ot.Days:return function kt(H,le,V){const pe=(0,p.cg1)(H),Nt=ri([pe[p.wAp.DaysFormat],pe[p.wAp.DaysStandalone]],le);return ri(Nt,V)}(le,Ye,pe)[H.getDay()];case Ot.DayPeriods:const zt=H.getHours(),En=H.getMinutes();if(Nt){const Fr=function ki(H){const le=(0,p.cg1)(H);return Wr(le),(le[p.wAp.ExtraData][2]||[]).map(pe=>"string"==typeof pe?Qr(pe):[Qr(pe[0]),Qr(pe[1])])}(le),Br=function Bn(H,le,V){const pe=(0,p.cg1)(H);Wr(pe);const Nt=ri([pe[p.wAp.ExtraData][0],pe[p.wAp.ExtraData][1]],le)||[];return ri(Nt,V)||[]}(le,Ye,pe),Or=Fr.findIndex(xi=>{if(Array.isArray(xi)){const[oi,si]=xi,Oo=zt>=oi.hours&&En>=oi.minutes,Go=zt<si.hours||zt===si.hours&&En<si.minutes;if(oi.hours<si.hours){if(Oo&&Go)return!0}else if(Oo||Go)return!0}else if(xi.hours===zt&&xi.minutes===En)return!0;return!1});if(-1!==Or)return Br[Or]}return function mn(H,le,V){const pe=(0,p.cg1)(H),Nt=ri([pe[p.wAp.DayPeriodsFormat],pe[p.wAp.DayPeriodsStandalone]],le);return ri(Nt,V)}(le,Ye,pe)[zt<12?0:1];case Ot.Eras:return function Wt(H,le){return ri((0,p.cg1)(H)[p.wAp.Eras],le)}(le,pe)[H.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Ye,Nt,H,le,V,pe)}}function ft(H){return function(le,V,pe){const Ye=-1*pe,Nt=vr(V,Ce.MinusSign),zt=Ye>0?Math.floor(Ye/60):Math.ceil(Ye/60);switch(H){case ct.Short:return(Ye>=0?"+":"")+fn(zt,2,Nt)+fn(Math.abs(Ye%60),2,Nt);case ct.ShortGMT:return"GMT"+(Ye>=0?"+":"")+fn(zt,1,Nt);case ct.Long:return"GMT"+(Ye>=0?"+":"")+fn(zt,2,Nt)+":"+fn(Math.abs(Ye%60),2,Nt);case ct.Extended:return 0===pe?"Z":(Ye>=0?"+":"")+fn(zt,2,Nt)+":"+fn(Math.abs(Ye%60),2,Nt);default:throw new Error(`Unknown zone width "${H}"`)}}}function Un(H){return Zt(H.getFullYear(),H.getMonth(),H.getDate()+(4-H.getDay()))}function Me(H,le=!1){return function(V,pe){let Ye;if(le){const Nt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,zt=V.getDate();Ye=1+Math.floor((zt+Nt)/7)}else{const Nt=Un(V),zt=function Wn(H){const le=Zt(H,0,1).getDay();return Zt(H,0,1+(le<=4?4:11)-le)}(Nt.getFullYear()),En=Nt.getTime()-zt.getTime();Ye=1+Math.round(En/6048e5)}return fn(Ye,H,vr(pe,Ce.MinusSign))}}function Ae(H,le=!1){return function(V,pe){return fn(Un(V).getFullYear(),H,vr(pe,Ce.MinusSign),le)}}const Se={};function Ke(H,le){H=H.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+H)/6e4;return isNaN(V)?le:V}function or(H){return H instanceof Date&&!isNaN(H.valueOf())}const sr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tr(H){const le=parseInt(H);if(isNaN(le))throw new Error("Invalid integer literal when parsing "+H);return le}function Xn(H,le,V){return(0,p.dwT)(H,le,V)}function Lr(H,le){le=encodeURIComponent(le);for(const V of H.split(";")){const pe=V.indexOf("="),[Ye,Nt]=-1==pe?[V,""]:[V.slice(0,pe),V.slice(pe+1)];if(Ye.trim()===le)return decodeURIComponent(Nt)}return null}let Ei=(()=>{class H{constructor(V,pe,Ye,Nt){this._iterableDiffers=V,this._keyValueDiffers=pe,this._ngEl=Ye,this._renderer=Nt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),V.forEachChangedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),V.forEachRemovedItem(pe=>{pe.previousValue&&this._toggleClass(pe.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(pe=>{if("string"!=typeof pe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(pe.item)}`);this._toggleClass(pe.item,!0)}),V.forEachRemovedItem(pe=>this._toggleClass(pe.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(pe=>this._toggleClass(pe,!0)):Object.keys(V).forEach(pe=>this._toggleClass(pe,!!V[pe])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(pe=>this._toggleClass(pe,!1)):Object.keys(V).forEach(pe=>this._toggleClass(pe,!1)))}_toggleClass(V,pe){(V=V.trim())&&V.split(/\s+/g).forEach(Ye=>{pe?this._renderer.addClass(this._ngEl.nativeElement,Ye):this._renderer.removeClass(this._ngEl.nativeElement,Ye)})}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),H})();class Hi{constructor(le,V,pe,Ye){this.$implicit=le,this.ngForOf=V,this.index=pe,this.count=Ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let zr=(()=>{class H{constructor(V,pe,Ye){this._viewContainer=V,this._template=pe,this._differs=Ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const pe=this._viewContainer;V.forEachOperation((Ye,Nt,zt)=>{if(null==Ye.previousIndex)pe.createEmbeddedView(this._template,new Hi(Ye.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)pe.remove(null===Nt?void 0:Nt);else if(null!==Nt){const En=pe.get(Nt);pe.move(En,zt),Wi(En,Ye)}});for(let Ye=0,Nt=pe.length;Ye<Nt;Ye++){const En=pe.get(Ye).context;En.index=Ye,En.count=Nt,En.ngForOf=this._ngForOf}V.forEachIdentityChange(Ye=>{Wi(pe.get(Ye.currentIndex),Ye)})}static ngTemplateContextGuard(V,pe){return!0}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),H})();function Wi(H,le){H.context.$implicit=le.item}let st=(()=>{class H{constructor(V,pe){this._viewContainer=V,this._context=new ze,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){Tt("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){Tt("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,pe){return!0}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b),p.Y36(p.Rgc))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),H})();class ze{constructor(){this.$implicit=null,this.ngIf=null}}function Tt(H,le){if(le&&!le.createEmbeddedView)throw new Error(`${H} must be a TemplateRef, but received '${(0,p.AaK)(le)}'.`)}let Ui=(()=>{class H{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const pe=this._viewContainerRef;this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?pe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),H})();function Li(H,le){return new p.vHH(2100,"")}const xs=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Qo=(()=>{class H{constructor(V,pe){this.locale=V,this.defaultTimezone=pe}transform(V,pe="mediumDate",Ye,Nt){var zt;if(null==V||""===V||V!=V)return null;try{return dn(V,pe,Nt||this.locale,null!==(zt=null!=Ye?Ye:this.defaultTimezone)&&void 0!==zt?zt:void 0)}catch(En){throw Li()}}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.soG,16),p.Y36(xs,24))},H.\u0275pipe=p.Yjl({name:"date",type:H,pure:!0}),H})(),ho=(()=>{class H{transform(V){return JSON.stringify(V,null,2)}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275pipe=p.Yjl({name:"json",type:H,pure:!1}),H})(),R=(()=>{class H{constructor(V){this._locale=V}transform(V,pe,Ye){if(!function ee(H){return!(null==H||""===H||H!=H)}(V))return null;Ye=Ye||this._locale;try{return function Lt(H,le,V){return function Yt(H,le,V,pe,Ye,Nt,zt=!1){let En="",ii=!1;if(isFinite(H)){let Fr=function _n(H){let pe,Ye,Nt,zt,En,le=Math.abs(H)+"",V=0;for((Ye=le.indexOf("."))>-1&&(le=le.replace(".","")),(Nt=le.search(/e/i))>0?(Ye<0&&(Ye=Nt),Ye+=+le.slice(Nt+1),le=le.substring(0,Nt)):Ye<0&&(Ye=le.length),Nt=0;"0"===le.charAt(Nt);Nt++);if(Nt===(En=le.length))pe=[0],Ye=1;else{for(En--;"0"===le.charAt(En);)En--;for(Ye-=Nt,pe=[],zt=0;Nt<=En;Nt++,zt++)pe[zt]=Number(le.charAt(Nt))}return Ye>22&&(pe=pe.splice(0,21),V=Ye-1,Ye=1),{digits:pe,exponent:V,integerLen:Ye}}(H);zt&&(Fr=function An(H){if(0===H.digits[0])return H;const le=H.digits.length-H.integerLen;return H.exponent?H.exponent+=2:(0===le?H.digits.push(0,0):1===le&&H.digits.push(0),H.integerLen+=2),H}(Fr));let Br=le.minInt,Or=le.minFrac,xi=le.maxFrac;if(Nt){const Is=Nt.match(sr);if(null===Is)throw new Error(`${Nt} is not a valid digit info`);const Vo=Is[1],ls=Is[3],Cs=Is[5];null!=Vo&&(Br=tr(Vo)),null!=ls&&(Or=tr(ls)),null!=Cs?xi=tr(Cs):null!=ls&&Or>xi&&(xi=Or)}!function On(H,le,V){if(le>V)throw new Error(`The minimum number of digits after fraction (${le}) is higher than the maximum (${V}).`);let pe=H.digits,Ye=pe.length-H.integerLen;const Nt=Math.min(Math.max(le,Ye),V);let zt=Nt+H.integerLen,En=pe[zt];if(zt>0){pe.splice(Math.max(H.integerLen,zt));for(let Or=zt;Or<pe.length;Or++)pe[Or]=0}else{Ye=Math.max(0,Ye),H.integerLen=1,pe.length=Math.max(1,zt=Nt+1),pe[0]=0;for(let Or=1;Or<zt;Or++)pe[Or]=0}if(En>=5)if(zt-1<0){for(let Or=0;Or>zt;Or--)pe.unshift(0),H.integerLen++;pe.unshift(1),H.integerLen++}else pe[zt-1]++;for(;Ye<Math.max(0,Nt);Ye++)pe.push(0);let ii=0!==Nt;const Fr=le+H.integerLen,Br=pe.reduceRight(function(Or,xi,oi,si){return si[oi]=(xi+=Or)<10?xi:xi-10,ii&&(0===si[oi]&&oi>=Fr?si.pop():ii=!1),xi>=10?1:0},0);Br&&(pe.unshift(Br),H.integerLen++)}(Fr,Or,xi);let oi=Fr.digits,si=Fr.integerLen;const Oo=Fr.exponent;let Go=[];for(ii=oi.every(Is=>!Is);si<Br;si++)oi.unshift(0);for(;si<0;si++)oi.unshift(0);si>0?Go=oi.splice(si,oi.length):(Go=oi,oi=[0]);const hr=[];for(oi.length>=le.lgSize&&hr.unshift(oi.splice(-le.lgSize,oi.length).join(""));oi.length>le.gSize;)hr.unshift(oi.splice(-le.gSize,oi.length).join(""));oi.length&&hr.unshift(oi.join("")),En=hr.join(vr(V,pe)),Go.length&&(En+=vr(V,Ye)+Go.join("")),Oo&&(En+=vr(V,Ce.Exponential)+"+"+Oo)}else En=vr(V,Ce.Infinity);return En=H<0&&!ii?le.negPre+En+le.negSuf:le.posPre+En+le.posSuf,En}(H,function gn(H,le="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},pe=H.split(";"),Ye=pe[0],Nt=pe[1],zt=-1!==Ye.indexOf(".")?Ye.split("."):[Ye.substring(0,Ye.lastIndexOf("0")+1),Ye.substring(Ye.lastIndexOf("0")+1)],En=zt[0],ii=zt[1]||"";V.posPre=En.substr(0,En.indexOf("#"));for(let Br=0;Br<ii.length;Br++){const Or=ii.charAt(Br);"0"===Or?V.minFrac=V.maxFrac=Br+1:"#"===Or?V.maxFrac=Br+1:V.posSuf+=Or}const Fr=En.split(",");if(V.gSize=Fr[1]?Fr[1].length:0,V.lgSize=Fr[2]||Fr[1]?(Fr[2]||Fr[1]).length:0,Nt){const Br=Ye.length-V.posPre.length-V.posSuf.length,Or=Nt.indexOf("#");V.negPre=Nt.substr(0,Or).replace(/'/g,""),V.negSuf=Nt.substr(Or+Br).replace(/'/g,"")}else V.negPre=le+V.posPre,V.negSuf=V.posSuf;return V}(function ni(H,le){return(0,p.cg1)(H)[p.wAp.NumberFormats][le]}(le,ve.Decimal),vr(le,Ce.MinusSign)),le,Ce.Group,Ce.Decimal,V)}(function we(H){if("string"==typeof H&&!isNaN(Number(H)-parseFloat(H)))return Number(H);if("number"!=typeof H)throw new Error(`${H} is not a number`);return H}(V),Ye,pe)}catch(Nt){throw Li()}}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.soG,16))},H.\u0275pipe=p.Yjl({name:"number",type:H,pure:!0}),H})();let Fe=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({}),H})();const dt="browser";function Et(H){return H===dt}function hn(H){return"server"===H}let ur=(()=>{class H{}return H.\u0275prov=(0,p.Yz7)({token:H,providedIn:"root",factory:()=>new Mr((0,p.LFG)(Q),window)}),H})();class Mr{constructor(le,V){this.document=le,this.window=V,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const V=function Zi(H,le){const V=H.getElementById(le)||H.getElementsByName(le)[0];if(V)return V;if("function"==typeof H.createTreeWalker&&H.body&&(H.body.createShadowRoot||H.body.attachShadow)){const pe=H.createTreeWalker(H.body,NodeFilter.SHOW_ELEMENT);let Ye=pe.currentNode;for(;Ye;){const Nt=Ye.shadowRoot;if(Nt){const zt=Nt.getElementById(le)||Nt.querySelector(`[name="${le}"]`);if(zt)return zt}Ye=pe.nextNode()}}return null}(this.document,le);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=le)}}scrollToElement(le){const V=le.getBoundingClientRect(),pe=V.left+this.window.pageXOffset,Ye=V.top+this.window.pageYOffset,Nt=this.offset();this.window.scrollTo(pe-Nt[0],Ye-Nt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=Xr(this.window.history)||Xr(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch(le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(le){return!1}}}function Xr(H){return Object.getOwnPropertyDescriptor(H,"scrollRestoration")}class jr{}},520:(pt,w,x)=>{"use strict";x.d(w,{JF:()=>Qr,TP:()=>Mt,eN:()=>Ce});var p=x(9808),e=x(5e3),T=x(9646),N=x(8306),O=x(4351),j=x(9300),Q=x(4004);class J{}class ne{}class Y{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(be=>{const at=be.indexOf(":");if(at>0){const ct=be.slice(0,at),bt=ct.toLowerCase(),Ot=be.slice(at+1).trim();this.maybeSetNormalizedName(ct,bt),this.headers.has(bt)?this.headers.get(bt).push(Ot):this.headers.set(bt,[Ot])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(be=>{let at=ce[be];const ct=be.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(ct,at),this.maybeSetNormalizedName(be,ct))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const be=this.headers.get(ce.toLowerCase());return be&&be.length>0?be[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,be){return this.clone({name:ce,value:be,op:"a"})}set(ce,be){return this.clone({name:ce,value:be,op:"s"})}delete(ce,be){return this.clone({name:ce,value:be,op:"d"})}maybeSetNormalizedName(ce,be){this.normalizedNames.has(be)||this.normalizedNames.set(be,ce)}init(){this.lazyInit&&(this.lazyInit instanceof Y?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(be=>{this.headers.set(be,ce.headers.get(be)),this.normalizedNames.set(be,ce.normalizedNames.get(be))})}clone(ce){const be=new Y;return be.lazyInit=this.lazyInit&&this.lazyInit instanceof Y?this.lazyInit:this,be.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),be}applyUpdate(ce){const be=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let at=ce.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(ce.name,be);const ct=("a"===ce.op?this.headers.get(be):void 0)||[];ct.push(...at),this.headers.set(be,ct);break;case"d":const bt=ce.value;if(bt){let Ot=this.headers.get(be);if(!Ot)return;Ot=Ot.filter(dn=>-1===bt.indexOf(dn)),0===Ot.length?(this.headers.delete(be),this.normalizedNames.delete(be)):this.headers.set(be,Ot)}else this.headers.delete(be),this.normalizedNames.delete(be)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(be=>ce(this.normalizedNames.get(be),this.headers.get(be)))}}class ie{encodeKey(ce){return Je(ce)}encodeValue(ce){return Je(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const ut=/%(\d[a-f0-9])/gi,et={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Je(Ue){return encodeURIComponent(Ue).replace(ut,(ce,be)=>{var at;return null!==(at=et[be])&&void 0!==at?at:ce})}function vt(Ue){return`${Ue}`}class _e{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new ie,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function fe(Ue,ce){const be=new Map;return Ue.length>0&&Ue.replace(/^\?/,"").split("&").forEach(ct=>{const bt=ct.indexOf("="),[Ot,dn]=-1==bt?[ce.decodeKey(ct),""]:[ce.decodeKey(ct.slice(0,bt)),ce.decodeValue(ct.slice(bt+1))],Zt=be.get(Ot)||[];Zt.push(dn),be.set(Ot,Zt)}),be}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(be=>{const at=ce.fromObject[be];this.map.set(be,Array.isArray(at)?at:[at])})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const be=this.map.get(ce);return be?be[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,be){return this.clone({param:ce,value:be,op:"a"})}appendAll(ce){const be=[];return Object.keys(ce).forEach(at=>{const ct=ce[at];Array.isArray(ct)?ct.forEach(bt=>{be.push({param:at,value:bt,op:"a"})}):be.push({param:at,value:ct,op:"a"})}),this.clone(be)}set(ce,be){return this.clone({param:ce,value:be,op:"s"})}delete(ce,be){return this.clone({param:ce,value:be,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const be=this.encoder.encodeKey(ce);return this.map.get(ce).map(at=>be+"="+this.encoder.encodeValue(at)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const be=new _e({encoder:this.encoder});return be.cloneFrom=this.cloneFrom||this,be.updates=(this.updates||[]).concat(ce),be}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const be=("a"===ce.op?this.map.get(ce.param):void 0)||[];be.push(vt(ce.value)),this.map.set(ce.param,be);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let at=this.map.get(ce.param)||[];const ct=at.indexOf(vt(ce.value));-1!==ct&&at.splice(ct,1),at.length>0?this.map.set(ce.param,at):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class ke{constructor(){this.map=new Map}set(ce,be){return this.map.set(ce,be),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function $e(Ue){return"undefined"!=typeof ArrayBuffer&&Ue instanceof ArrayBuffer}function Qe(Ue){return"undefined"!=typeof Blob&&Ue instanceof Blob}function xe(Ue){return"undefined"!=typeof FormData&&Ue instanceof FormData}class Ve{constructor(ce,be,at,ct){let bt;if(this.url=be,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function _t(Ue){switch(Ue){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ct?(this.body=void 0!==at?at:null,bt=ct):bt=at,bt&&(this.reportProgress=!!bt.reportProgress,this.withCredentials=!!bt.withCredentials,bt.responseType&&(this.responseType=bt.responseType),bt.headers&&(this.headers=bt.headers),bt.context&&(this.context=bt.context),bt.params&&(this.params=bt.params)),this.headers||(this.headers=new Y),this.context||(this.context=new ke),this.params){const Ot=this.params.toString();if(0===Ot.length)this.urlWithParams=be;else{const dn=be.indexOf("?");this.urlWithParams=be+(-1===dn?"?":dn<be.length-1?"&":"")+Ot}}else this.params=new _e,this.urlWithParams=be}serializeBody(){return null===this.body?null:$e(this.body)||Qe(this.body)||xe(this.body)||function nt(Ue){return"undefined"!=typeof URLSearchParams&&Ue instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xe(this.body)?null:Qe(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){var be;const at=ce.method||this.method,ct=ce.url||this.url,bt=ce.responseType||this.responseType,Ot=void 0!==ce.body?ce.body:this.body,dn=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,Zt=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let an=ce.headers||this.headers,Vn=ce.params||this.params;const fn=null!==(be=ce.context)&&void 0!==be?be:this.context;return void 0!==ce.setHeaders&&(an=Object.keys(ce.setHeaders).reduce((jn,Gt)=>jn.set(Gt,ce.setHeaders[Gt]),an)),ce.setParams&&(Vn=Object.keys(ce.setParams).reduce((jn,Gt)=>jn.set(Gt,ce.setParams[Gt]),Vn)),new Ve(at,ct,Ot,{params:Vn,headers:an,context:fn,reportProgress:Zt,responseType:bt,withCredentials:dn})}}var ht=(()=>((ht=ht||{})[ht.Sent=0]="Sent",ht[ht.UploadProgress=1]="UploadProgress",ht[ht.ResponseHeader=2]="ResponseHeader",ht[ht.DownloadProgress=3]="DownloadProgress",ht[ht.Response=4]="Response",ht[ht.User=5]="User",ht))();class ve{constructor(ce,be=200,at="OK"){this.headers=ce.headers||new Y,this.status=void 0!==ce.status?ce.status:be,this.statusText=ce.statusText||at,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class me extends ve{constructor(ce={}){super(ce),this.type=ht.ResponseHeader}clone(ce={}){return new me({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class re extends ve{constructor(ce={}){super(ce),this.type=ht.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new re({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class ye extends ve{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function Te(Ue,ce){return{body:ce,headers:Ue.headers,context:Ue.context,observe:Ue.observe,params:Ue.params,reportProgress:Ue.reportProgress,responseType:Ue.responseType,withCredentials:Ue.withCredentials}}let Ce=(()=>{class Ue{constructor(be){this.handler=be}request(be,at,ct={}){let bt;if(be instanceof Ve)bt=be;else{let Zt,an;Zt=ct.headers instanceof Y?ct.headers:new Y(ct.headers),ct.params&&(an=ct.params instanceof _e?ct.params:new _e({fromObject:ct.params})),bt=new Ve(be,at,void 0!==ct.body?ct.body:null,{headers:Zt,context:ct.context,params:an,reportProgress:ct.reportProgress,responseType:ct.responseType||"json",withCredentials:ct.withCredentials})}const Ot=(0,T.of)(bt).pipe((0,O.b)(Zt=>this.handler.handle(Zt)));if(be instanceof Ve||"events"===ct.observe)return Ot;const dn=Ot.pipe((0,j.h)(Zt=>Zt instanceof re));switch(ct.observe||"body"){case"body":switch(bt.responseType){case"arraybuffer":return dn.pipe((0,Q.U)(Zt=>{if(null!==Zt.body&&!(Zt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Zt.body}));case"blob":return dn.pipe((0,Q.U)(Zt=>{if(null!==Zt.body&&!(Zt.body instanceof Blob))throw new Error("Response is not a Blob.");return Zt.body}));case"text":return dn.pipe((0,Q.U)(Zt=>{if(null!==Zt.body&&"string"!=typeof Zt.body)throw new Error("Response is not a string.");return Zt.body}));default:return dn.pipe((0,Q.U)(Zt=>Zt.body))}case"response":return dn;default:throw new Error(`Unreachable: unhandled observe type ${ct.observe}}`)}}delete(be,at={}){return this.request("DELETE",be,at)}get(be,at={}){return this.request("GET",be,at)}head(be,at={}){return this.request("HEAD",be,at)}jsonp(be,at){return this.request("JSONP",be,{params:(new _e).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(be,at={}){return this.request("OPTIONS",be,at)}patch(be,at,ct={}){return this.request("PATCH",be,Te(ct,at))}post(be,at,ct={}){return this.request("POST",be,Te(ct,at))}put(be,at,ct={}){return this.request("PUT",be,Te(ct,at))}}return Ue.\u0275fac=function(be){return new(be||Ue)(e.LFG(J))},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();class yt{constructor(ce,be){this.next=ce,this.interceptor=be}handle(ce){return this.interceptor.intercept(ce,this.next)}}const Mt=new e.OlP("HTTP_INTERCEPTORS");let mn=(()=>{class Ue{intercept(be,at){return at.handle(be)}}return Ue.\u0275fac=function(be){return new(be||Ue)},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const vr=/^\)\]\}',?\n/;let Ar=(()=>{class Ue{constructor(be){this.xhrFactory=be}handle(be){if("JSONP"===be.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N.y(at=>{const ct=this.xhrFactory.build();if(ct.open(be.method,be.urlWithParams),be.withCredentials&&(ct.withCredentials=!0),be.headers.forEach((Gt,er)=>ct.setRequestHeader(Gt,er.join(","))),be.headers.has("Accept")||ct.setRequestHeader("Accept","application/json, text/plain, */*"),!be.headers.has("Content-Type")){const Gt=be.detectContentTypeHeader();null!==Gt&&ct.setRequestHeader("Content-Type",Gt)}if(be.responseType){const Gt=be.responseType.toLowerCase();ct.responseType="json"!==Gt?Gt:"text"}const bt=be.serializeBody();let Ot=null;const dn=()=>{if(null!==Ot)return Ot;const Gt=ct.statusText||"OK",er=new Y(ct.getAllResponseHeaders()),kn=function ni(Ue){return"responseURL"in Ue&&Ue.responseURL?Ue.responseURL:/^X-Request-URL:/m.test(Ue.getAllResponseHeaders())?Ue.getResponseHeader("X-Request-URL"):null}(ct)||be.url;return Ot=new me({headers:er,status:ct.status,statusText:Gt,url:kn}),Ot},Zt=()=>{let{headers:Gt,status:er,statusText:kn,url:Bt}=dn(),ft=null;204!==er&&(ft=void 0===ct.response?ct.responseText:ct.response),0===er&&(er=ft?200:0);let tn=er>=200&&er<300;if("json"===be.responseType&&"string"==typeof ft){const yn=ft;ft=ft.replace(vr,"");try{ft=""!==ft?JSON.parse(ft):null}catch(Wn){ft=yn,tn&&(tn=!1,ft={error:Wn,text:ft})}}tn?(at.next(new re({body:ft,headers:Gt,status:er,statusText:kn,url:Bt||void 0})),at.complete()):at.error(new ye({error:ft,headers:Gt,status:er,statusText:kn,url:Bt||void 0}))},an=Gt=>{const{url:er}=dn(),kn=new ye({error:Gt,status:ct.status||0,statusText:ct.statusText||"Unknown Error",url:er||void 0});at.error(kn)};let Vn=!1;const fn=Gt=>{Vn||(at.next(dn()),Vn=!0);let er={type:ht.DownloadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(er.total=Gt.total),"text"===be.responseType&&!!ct.responseText&&(er.partialText=ct.responseText),at.next(er)},jn=Gt=>{let er={type:ht.UploadProgress,loaded:Gt.loaded};Gt.lengthComputable&&(er.total=Gt.total),at.next(er)};return ct.addEventListener("load",Zt),ct.addEventListener("error",an),ct.addEventListener("timeout",an),ct.addEventListener("abort",an),be.reportProgress&&(ct.addEventListener("progress",fn),null!==bt&&ct.upload&&ct.upload.addEventListener("progress",jn)),ct.send(bt),at.next({type:ht.Sent}),()=>{ct.removeEventListener("error",an),ct.removeEventListener("abort",an),ct.removeEventListener("load",Zt),ct.removeEventListener("timeout",an),be.reportProgress&&(ct.removeEventListener("progress",fn),null!==bt&&ct.upload&&ct.upload.removeEventListener("progress",jn)),ct.readyState!==ct.DONE&&ct.abort()}})}}return Ue.\u0275fac=function(be){return new(be||Ue)(e.LFG(p.JF))},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})();const Gr=new e.OlP("XSRF_COOKIE_NAME"),Oi=new e.OlP("XSRF_HEADER_NAME");class Si{}let Kr=(()=>{class Ue{constructor(be,at,ct){this.doc=be,this.platform=at,this.cookieName=ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const be=this.doc.cookie||"";return be!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(be,this.cookieName),this.lastCookieString=be),this.lastToken}}return Ue.\u0275fac=function(be){return new(be||Ue)(e.LFG(p.K0),e.LFG(e.Lbi),e.LFG(Gr))},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),Wr=(()=>{class Ue{constructor(be,at){this.tokenService=be,this.headerName=at}intercept(be,at){const ct=be.url.toLowerCase();if("GET"===be.method||"HEAD"===be.method||ct.startsWith("http://")||ct.startsWith("https://"))return at.handle(be);const bt=this.tokenService.getToken();return null!==bt&&!be.headers.has(this.headerName)&&(be=be.clone({headers:be.headers.set(this.headerName,bt)})),at.handle(be)}}return Ue.\u0275fac=function(be){return new(be||Ue)(e.LFG(Si),e.LFG(Oi))},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),ki=(()=>{class Ue{constructor(be,at){this.backend=be,this.injector=at,this.chain=null}handle(be){if(null===this.chain){const at=this.injector.get(Mt,[]);this.chain=at.reduceRight((ct,bt)=>new yt(ct,bt),this.backend)}return this.chain.handle(be)}}return Ue.\u0275fac=function(be){return new(be||Ue)(e.LFG(ne),e.LFG(e.zs3))},Ue.\u0275prov=e.Yz7({token:Ue,factory:Ue.\u0275fac}),Ue})(),ri=(()=>{class Ue{static disable(){return{ngModule:Ue,providers:[{provide:Wr,useClass:mn}]}}static withOptions(be={}){return{ngModule:Ue,providers:[be.cookieName?{provide:Gr,useValue:be.cookieName}:[],be.headerName?{provide:Oi,useValue:be.headerName}:[]]}}}return Ue.\u0275fac=function(be){return new(be||Ue)},Ue.\u0275mod=e.oAB({type:Ue}),Ue.\u0275inj=e.cJS({providers:[Wr,{provide:Mt,useExisting:Wr,multi:!0},{provide:Si,useClass:Kr},{provide:Gr,useValue:"XSRF-TOKEN"},{provide:Oi,useValue:"X-XSRF-TOKEN"}]}),Ue})(),Qr=(()=>{class Ue{}return Ue.\u0275fac=function(be){return new(be||Ue)},Ue.\u0275mod=e.oAB({type:Ue}),Ue.\u0275inj=e.cJS({providers:[Ce,{provide:J,useClass:ki},Ar,{provide:ne,useExisting:Ar}],imports:[[ri.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Ue})()},5e3:(pt,w,x)=>{"use strict";x.d(w,{$8M:()=>hl,$Z:()=>Lg,AFp:()=>Fy,ALo:()=>ry,AaK:()=>J,AsE:()=>b,BQk:()=>Il,CHM:()=>Pa,CRH:()=>py,CZH:()=>F_,CqO:()=>M0,DdM:()=>t1,EJc:()=>xC,EiD:()=>Ip,EpF:()=>g_,F$t:()=>Kh,F4k:()=>Vg,FYo:()=>Uv,FiY:()=>ws,Gf:()=>hy,GfV:()=>Vv,GkF:()=>Gg,Gpc:()=>ie,Hsn:()=>Pl,Ikx:()=>S_,JOm:()=>Ks,JVY:()=>zl,L6k:()=>vl,LAX:()=>wp,LFG:()=>Mn,LSH:()=>Wo,Lbi:()=>Gy,MAs:()=>a_,MGl:()=>cd,NdJ:()=>sd,OlP:()=>$r,Oqu:()=>d,PXZ:()=>VC,Q6J:()=>Xd,QGY:()=>ip,Qsj:()=>MT,QtT:()=>x_,R0b:()=>Rl,RDi:()=>Xr,Rgc:()=>nm,SBq:()=>Qg,SDv:()=>Rv,Sil:()=>PC,Suo:()=>fy,TTD:()=>ee,TgZ:()=>Bg,Tol:()=>qg,Udp:()=>F0,VKq:()=>Kv,VLi:()=>UC,W1O:()=>vy,WLB:()=>Jv,X6Q:()=>qC,XFs:()=>Bn,Xpm:()=>Un,Y36:()=>xl,YKP:()=>Zv,YNc:()=>tp,Yjl:()=>ir,Yz7:()=>$n,ZZ4:()=>G_,_Bn:()=>Lv,_UZ:()=>p_,_Vd:()=>I_,_c5:()=>x1,_uU:()=>a,aQg:()=>yp,c2e:()=>jy,cJS:()=>br,cg1:()=>pv,dDg:()=>Zy,deG:()=>jo,dqk:()=>an,dwT:()=>bS,eBb:()=>dh,eFA:()=>$y,ekj:()=>Zg,evT:()=>Hu,g9A:()=>Uy,h0i:()=>pp,hGG:()=>W_,hij:()=>g,iGM:()=>dy,ifc:()=>ct,ip1:()=>Ly,kEZ:()=>Yv,kL8:()=>Fb,lG2:()=>qn,lcZ:()=>iy,mCW:()=>Ri,n5z:()=>ah,oAB:()=>Ke,oJD:()=>gf,oxw:()=>nl,pB0:()=>wo,pQV:()=>Qh,q3G:()=>lo,q4F:()=>jv,qLn:()=>Ca,qOj:()=>Kd,qZA:()=>Ug,qzn:()=>wc,s9C:()=>m_,sBO:()=>zC,sIi:()=>td,s_b:()=>N_,soG:()=>m1,tBr:()=>ta,tb:()=>Vy,tp0:()=>zi,uIk:()=>Xf,vHH:()=>Je,vpe:()=>yu,wAp:()=>Rr,xi3:()=>oy,xp6:()=>v,yhl:()=>uf,ynx:()=>$h,z2F:()=>b1,z3N:()=>Os,zSh:()=>_g,zs3:()=>$a});var p=x(7579),e=x(727),T=x(8306),N=x(6451),O=x(3099);function j(o){for(let s in o)if(o[s]===j)return s;throw Error("Could not find renamed property on target object.")}function Q(o,s){for(const u in s)s.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=s[u])}function J(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(J).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function ne(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const Y=j({__forward_ref__:j});function ie(o){return o.__forward_ref__=ie,o.toString=function(){return J(this())},o}function fe(o){return ut(o)?o():o}function ut(o){return"function"==typeof o&&o.hasOwnProperty(Y)&&o.__forward_ref__===ie}class Je extends Error{constructor(s,u){super(function vt(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,u)),this.code=s}}function _e(o){return"string"==typeof o?o:null==o?"":String(o)}function He(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():_e(o)}function Qe(o,s){const u=s?` in ${s}`:"";throw new Je(-201,`No provider for ${He(o)} found${u}`)}function wt(o,s,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${s} <=Actual]`))}function $n(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function br(o){return{providers:o.providers||[],imports:o.imports||[]}}function vr(o){return ni(o,Si)||ni(o,Wr)}function ni(o,s){return o.hasOwnProperty(s)?o[s]:null}function Oi(o){return o&&(o.hasOwnProperty(Kr)||o.hasOwnProperty(ki))?o[Kr]:null}const Si=j({\u0275prov:j}),Kr=j({\u0275inj:j}),Wr=j({ngInjectableDef:j}),ki=j({ngInjectorDef:j});var Bn=(()=>((Bn=Bn||{})[Bn.Default=0]="Default",Bn[Bn.Host=1]="Host",Bn[Bn.Self=2]="Self",Bn[Bn.SkipSelf=4]="SkipSelf",Bn[Bn.Optional=8]="Optional",Bn))();let ji;function Qr(o){const s=ji;return ji=o,s}function Be(o,s,u){const f=vr(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Bn.Optional?null:void 0!==s?s:void Qe(J(o),"Injector")}function Ue(o){return{toString:o}.toString()}var ce=(()=>((ce=ce||{})[ce.OnPush=0]="OnPush",ce[ce.Default=1]="Default",ce))(),ct=(()=>{return(o=ct||(ct={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ct;var o})();const bt="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,an=bt||"undefined"!=typeof global&&global||Ot||dn,jn={},Gt=[],er=j({\u0275cmp:j}),kn=j({\u0275dir:j}),Bt=j({\u0275pipe:j}),ft=j({\u0275mod:j}),tn=j({\u0275fac:j}),yn=j({__NG_ELEMENT_ID__:j});let Wn=0;function Un(o){return Ue(()=>{const u={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Gt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,id:"c",styles:o.styles||Gt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.directives,y=o.features,S=o.pipes;return f.id+=Wn++,f.inputs=Zn(o.inputs,u),f.outputs=Zn(o.outputs),y&&y.forEach(M=>M(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Ae):null,f.pipeDefs=S?()=>("function"==typeof S?S():S).map(Se):null,f})}function Ae(o){return or(o)||function sr(o){return o[kn]||null}(o)}function Se(o){return function Cn(o){return o[Bt]||null}(o)}const lt={};function Ke(o){return Ue(()=>{const s={type:o.type,bootstrap:o.bootstrap||Gt,declarations:o.declarations||Gt,imports:o.imports||Gt,exports:o.exports||Gt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(lt[o.id]=o.type),s})}function Zn(o,s){if(null==o)return jn;const u={};for(const f in o)if(o.hasOwnProperty(f)){let m=o[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=f,s&&(s[m]=y)}return u}const qn=Un;function ir(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function or(o){return o[er]||null}function In(o,s){const u=o[ft]||null;if(!u&&!0===s)throw new Error(`Type ${J(o)} does not have '\u0275mod' property.`);return u}function $t(o){return Array.isArray(o)&&"object"==typeof o[1]}function Tn(o){return Array.isArray(o)&&!0===o[1]}function Dr(o){return 0!=(8&o.flags)}function Vr(o){return 2==(2&o.flags)}function Ir(o){return 1==(1&o.flags)}function gi(o){return null!==o.template}function Mo(o){return 0!=(512&o[2])}function W(o,s){return o.hasOwnProperty(tn)?o[tn]:null}class z{constructor(s,u,f){this.previousValue=s,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function ee(){return we}function we(o){return o.type.prototype.ngOnChanges&&(o.setInput=Ie),Ne}function Ne(){const o=dt(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===jn)o.previous=s;else for(let f in s)u[f]=s[f];o.current=null,this.ngOnChanges(s)}}function Ie(o,s,u,f){const m=dt(o)||function oe(o,s){return o[Fe]=s}(o,{previous:jn,current:null}),y=m.current||(m.current={}),S=m.previous,M=this.declaredInputs[u],B=S[M];y[M]=new z(B&&B.currentValue,s,S===jn),o[f]=s}ee.ngInherit=!0;const Fe="__ngSimpleChanges__";function dt(o){return o[Fe]||null}let Mr;function Xr(o){Mr=o}function Zi(){return void 0!==Mr?Mr:"undefined"!=typeof document?document:void 0}function jr(o){return!!o.listen}const H={createRenderer:(o,s)=>Zi()};function V(o){for(;Array.isArray(o);)o=o[0];return o}function Nt(o,s){return V(s[o])}function zt(o,s){return V(s[o.index])}function ii(o,s){return o.data[s]}function Fr(o,s){return o[s]}function Br(o,s){const u=s[o];return $t(u)?u:u[0]}function Or(o){return 4==(4&o[2])}function xi(o){return 128==(128&o[2])}function si(o,s){return null==s?null:o[s]}function Oo(o){o[18]=0}function Go(o,s){o[5]+=s;let u=o,f=o[3];for(;null!==f&&(1===s&&1===u[5]||-1===s&&0===u[5]);)f[5]+=s,u=f,f=f[3]}const hr={lFrame:Ra(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ss(){return hr.bindingsEnabled}function en(){return hr.lFrame.lView}function cr(){return hr.lFrame.tView}function Pa(o){return hr.lFrame.contextLView=o,o[8]}function Ni(){let o=ol();for(;null!==o&&64===o.type;)o=o.parent;return o}function ol(){return hr.lFrame.currentTNode}function Vs(){const o=hr.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}function Ys(o,s){const u=hr.lFrame;u.currentTNode=o,u.isParent=s}function ec(){return hr.lFrame.isParent}function Ma(){hr.lFrame.isParent=!1}function sl(){return hr.isInCheckNoChangesMode}function No(o){hr.isInCheckNoChangesMode=o}function Xo(){const o=hr.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function da(){return hr.lFrame.bindingIndex}function Ps(){return hr.lFrame.bindingIndex++}function es(o){const s=hr.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function Qi(o){hr.lFrame.inI18n=o}function al(o,s){const u=hr.lFrame;u.bindingIndex=u.bindingRootIndex=o,Qs(s)}function Qs(o){hr.lFrame.currentDirectiveIndex=o}function Ll(){return hr.lFrame.currentQueryIndex}function js(o){hr.lFrame.currentQueryIndex=o}function cl(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Oa(o,s,u){if(u&Bn.SkipSelf){let m=s,y=o;for(;!(m=m.parent,null!==m||u&Bn.Host||(m=cl(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;s=m,o=y}const f=hr.lFrame=Bc();return f.currentTNode=s,f.lView=o,!0}function Na(o){const s=Bc(),u=o[1];hr.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Bc(){const o=hr.lFrame,s=null===o?null:o.child;return null===s?Ra(o):s}function Ra(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function ka(){const o=hr.lFrame;return hr.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Tc=ka;function Xs(){const o=ka();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function _o(){return hr.lFrame.selectedIndex}function ga(o){hr.lFrame.selectedIndex=o}function Bi(){const o=hr.lFrame;return ii(o.tView,o.selectedIndex)}function ma(o,s){for(let u=s.directiveStart,f=s.directiveEnd;u<f;u++){const y=o.data[u].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:M,ngAfterViewInit:B,ngAfterViewChecked:K,ngOnDestroy:se}=y;S&&(o.contentHooks||(o.contentHooks=[])).push(-u,S),M&&((o.contentHooks||(o.contentHooks=[])).push(u,M),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,M)),B&&(o.viewHooks||(o.viewHooks=[])).push(-u,B),K&&((o.viewHooks||(o.viewHooks=[])).push(u,K),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,K)),null!=se&&(o.destroyHooks||(o.destroyHooks=[])).push(u,se)}}function Ws(o,s,u){nc(o,s,3,u)}function Zs(o,s,u,f){(3&o[2])===u&&nc(o,s,u,f)}function li(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function nc(o,s,u,f){const y=null!=f?f:-1,S=s.length-1;let M=0;for(let B=void 0!==f?65535&o[18]:0;B<S;B++)if("number"==typeof s[B+1]){if(M=s[B],null!=f&&M>=f)break}else s[B]<0&&(o[18]+=65536),(M<y||-1==y)&&(sh(o,u,s,B),o[18]=(4294901760&o[18])+B+2),B++}function sh(o,s,u,f){const m=u[f]<0,y=u[f+1],M=o[m?-u[f]:u[f]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{y.call(M)}finally{}}}else try{y.call(M)}finally{}}class La{constructor(s,u,f){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function ic(o,s,u){const f=jr(o);let m=0;for(;m<u.length;){const y=u[m];if("number"==typeof y){if(0!==y)break;m++;const S=u[m++],M=u[m++],B=u[m++];f?o.setAttribute(s,M,B,S):s.setAttributeNS(S,M,B)}else{const S=y,M=u[++m];Jn(S)?f&&o.setProperty(s,S,M):f?o.setAttribute(s,S,M):s.setAttribute(S,M),m++}}return m}function ll(o){return 3===o||4===o||6===o}function Jn(o){return 64===o.charCodeAt(0)}function Tr(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?u=m:0===u||ul(o,u,m,null,-1===u||2===u?s[++f]:null)}}return o}function ul(o,s,u,f,m){let y=0,S=o.length;if(-1===s)S=-1;else for(;y<o.length;){const M=o[y++];if("number"==typeof M){if(M===s){S=-1;break}if(M>s){S=y-1;break}}}for(;y<o.length;){const M=o[y];if("number"==typeof M)break;if(M===u){if(null===f)return void(null!==m&&(o[y+1]=m));if(f===o[y+1])return void(o[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==S&&(o.splice(S,0,s),y=S+1),o.splice(y++,0,u),null!==f&&o.splice(y++,0,f),null!==m&&o.splice(y++,0,m)}function Nn(o){return-1!==o}function Pt(o){return 32767&o}function Ii(o,s){let u=function on(o){return o>>16}(o),f=s;for(;u>0;)f=f[15],u--;return f}let mi=!0;function oc(o){const s=mi;return mi=o,s}let k=0;function D(o,s){const u=$(o,s);if(-1!==u)return u;const f=s[1];f.firstCreatePass&&(o.injectorIndex=s.length,G(f.data,o),G(s,null),G(f.blueprint,null));const m=ue(o,s),y=o.injectorIndex;if(Nn(m)){const S=Pt(m),M=Ii(m,s),B=M[1].data;for(let K=0;K<8;K++)s[y+K]=M[S+K]|B[S+K]}return s[y+8]=m,y}function G(o,s){o.push(0,0,0,0,0,0,0,0,s)}function $(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function ue(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,m=s;for(;null!==m;){const y=m[1],S=y.type;if(f=2===S?y.declTNode:1===S?m[6]:null,null===f)return-1;if(u++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Ge(o,s,u){!function P(o,s,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(yn)&&(f=u[yn]),null==f&&(f=u[yn]=k++);const m=255&f;s.data[o+(m>>5)]|=1<<m}(o,s,u)}function Rt(o,s,u){if(u&Bn.Optional)return o;Qe(s,"NodeInjector")}function wn(o,s,u,f){if(u&Bn.Optional&&void 0===f&&(f=null),0==(u&(Bn.Self|Bn.Host))){const m=o[9],y=Qr(void 0);try{return m?m.get(s,f,u&Bn.Optional):Be(s,f,u&Bn.Optional)}finally{Qr(y)}}return Rt(f,s,u)}function Rn(o,s,u,f=Bn.Default,m){if(null!==o){const y=function lr(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(yn)?o[yn]:void 0;return"number"==typeof s?s>=0?255&s:Nr:s}(u);if("function"==typeof y){if(!Oa(s,o,f))return f&Bn.Host?Rt(m,u,f):wn(s,u,f,m);try{const S=y(f);if(null!=S||f&Bn.Optional)return S;Qe(u)}finally{Tc()}}else if("number"==typeof y){let S=null,M=$(o,s),B=-1,K=f&Bn.Host?s[16][6]:null;for((-1===M||f&Bn.SkipSelf)&&(B=-1===M?ue(o,s):s[M+8],-1!==B&&qi(f,!1)?(S=s[1],M=Pt(B),s=Ii(B,s)):M=-1);-1!==M;){const se=s[1];if(Fa(y,M,se.data)){const Re=Sr(M,s,u,S,f,K);if(Re!==xt)return Re}B=s[M+8],-1!==B&&qi(f,s[1].data[M+8]===K)&&Fa(y,M,s)?(S=se,M=Pt(B),s=Ii(B,s)):M=-1}}}return wn(s,u,f,m)}const xt={};function Nr(){return new ds(Ni(),en())}function Sr(o,s,u,f,m,y){const S=s[1],M=S.data[o+8],se=ei(M,S,u,null==f?Vr(M)&&mi:f!=S&&0!=(3&M.type),m&Bn.Host&&y===M);return null!==se?yi(s,S,se,M):xt}function ei(o,s,u,f,m){const y=o.providerIndexes,S=s.data,M=1048575&y,B=o.directiveStart,se=y>>20,tt=m?M+se:o.directiveEnd;for(let Ct=f?M:M+se;Ct<tt;Ct++){const Ht=S[Ct];if(Ct<B&&u===Ht||Ct>=B&&Ht.type===u)return Ct}if(m){const Ct=S[B];if(Ct&&gi(Ct)&&Ct.type===u)return B}return null}function yi(o,s,u,f){let m=o[u];const y=s.data;if(function rc(o){return o instanceof La}(m)){const S=m;S.resolving&&function ke(o,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Je(-200,`Circular dependency in DI detected for ${o}${u}`)}(He(y[u]));const M=oc(S.canSeeViewProviders);S.resolving=!0;const B=S.injectImpl?Qr(S.injectImpl):null;Oa(o,f,Bn.Default);try{m=o[u]=S.factory(void 0,y,o,f),s.firstCreatePass&&u>=f.directiveStart&&function gd(o,s,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=s.type.prototype;if(f){const S=we(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,S),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,S)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,m),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y))}(u,y[u],s)}finally{null!==B&&Qr(B),oc(M),S.resolving=!1,Tc()}}return m}function Fa(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function qi(o,s){return!(o&Bn.Self||o&Bn.Host&&s)}class ds{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,f){return Rn(this._tNode,this._lView,s,f,u)}}function ah(o){return Ue(()=>{const s=o.prototype.constructor,u=s[tn]||Xi(s),f=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==f;){const y=m[tn]||Xi(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Xi(o){return ut(o)?()=>{const s=Xi(fe(o));return s&&s()}:W(o)}function hl(o){return function je(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const y=u[m];if(ll(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(y===s)return u[m+1];m+=2}}}return null}(Ni(),o)}const bi="__parameters__";function Eo(o,s,u){return Ue(()=>{const f=function Bl(o){return function(...u){if(o){const f=o(...u);for(const m in f)this[m]=f[m]}}}(s);function m(...y){if(this instanceof m)return f.apply(this,y),this;const S=new m(...y);return M.annotation=S,M;function M(B,K,se){const Re=B.hasOwnProperty(bi)?B[bi]:Object.defineProperty(B,bi,{value:[]})[bi];for(;Re.length<=se;)Re.push(null);return(Re[se]=Re[se]||[]).push(S),B}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class $r{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=$n({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const jo=new $r("AnalyzeForEntryComponents");function oo(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let f=o[u];Array.isArray(f)?(s===o&&(s=o.slice(0,u)),oo(f,s)):s!==o&&s.push(f)}return s}function ea(o,s){o.forEach(u=>Array.isArray(u)?ea(u,s):s(u))}function fl(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function ya(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function zs(o,s){const u=[];for(let f=0;f<o;f++)u.push(s);return u}function rs(o,s,u){let f=$s(o,s);return f>=0?o[1|f]=u:(f=~f,function vd(o,s,u,f){let m=o.length;if(m==s)o.push(u,f);else if(1===m)o.push(f,o[0]),o[0]=u;else{for(m--,o.push(o[m-1],o[m]);m>s;)o[m]=o[m-2],m--;o[s]=u,o[s+1]=f}}(o,f,s,u)),f}function Zc(o,s){const u=$s(o,s);if(u>=0)return o[1|u]}function $s(o,s){return function gl(o,s,u){let f=0,m=o.length>>u;for(;m!==f;){const y=f+(m-f>>1),S=o[y<<u];if(s===S)return y<<u;S>s?m=y:f=y+1}return~(m<<u)}(o,s,1)}const qc={},xu="__NG_DI_FLAG__",fs="ngTempTokenPath",U=/\n/gm,ae="__source",qe=j({provide:String,useValue:j});let mt;function At(o){const s=mt;return mt=o,s}function ln(o,s=Bn.Default){if(void 0===mt)throw new Je(203,"");return null===mt?Be(o,void 0,s):mt.get(o,s&Bn.Optional?null:void 0,s)}function Mn(o,s=Bn.Default){return(function ri(){return ji}()||ln)(fe(o),s)}const fr=Mn;function ai(o){const s=[];for(let u=0;u<o.length;u++){const f=fe(o[u]);if(Array.isArray(f)){if(0===f.length)throw new Je(900,"");let m,y=Bn.Default;for(let S=0;S<f.length;S++){const M=f[S],B=ko(M);"number"==typeof B?-1===B?m=M.token:y|=B:m=M}s.push(Mn(m,y))}else s.push(Mn(f))}return s}function Cr(o,s){return o[xu]=s,o.prototype[xu]=s,o}function ko(o){return o[xu]}const ta=Cr(Eo("Inject",o=>({token:o})),-1),ws=Cr(Eo("Optional"),8),zi=Cr(Eo("SkipSelf"),4);let na,Zl;function Ga(o){var s;return(null===(s=function Td(){if(void 0===na&&(na=null,an.trustedTypes))try{na=an.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return na}())||void 0===s?void 0:s.createHTML(o))||o}function Vi(o){var s;return(null===(s=function ql(){if(void 0===Zl&&(Zl=null,an.trustedTypes))try{Zl=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Zl}())||void 0===s?void 0:s.createHTML(o))||o}class _l{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class uh extends _l{getTypeName(){return"HTML"}}class af extends _l{getTypeName(){return"Style"}}class cf extends _l{getTypeName(){return"Script"}}class lf extends _l{getTypeName(){return"URL"}}class Lu extends _l{getTypeName(){return"ResourceURL"}}function Os(o){return o instanceof _l?o.changingThisBreaksApplicationSecurity:o}function wc(o,s){const u=uf(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function uf(o){return o instanceof _l&&o.getTypeName()||null}function zl(o){return new uh(o)}function vl(o){return new af(o)}function dh(o){return new cf(o)}function wp(o){return new lf(o)}function wo(o){return new Lu(o)}function hi(o){const s=new fh(o);return function Mi(){try{return!!(new window.DOMParser).parseFromString(Ga(""),"text/html")}catch(o){return!1}}()?new hh(s):s}class hh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ga(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class fh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ga(s),u;const f=this.inertDocument.createElement("body");return f.innerHTML=Ga(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(s){const u=s.attributes;for(let m=u.length-1;0<m;m--){const S=u.item(m).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&s.removeAttribute(S)}let f=s.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const bo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ds=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ri(o){return(o=String(o)).match(bo)||o.match(Ds)?o:"unsafe:"+o}function yl(o){return(o=String(o)).split(",").map(s=>Ri(s.trim())).join(", ")}function co(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Fu(...o){const s={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(s[f]=!0);return s}const $i=co("area,br,col,hr,img,wbr"),df=co("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),gs=co("rp,rt"),Di=Fu($i,Fu(df,co("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Fu(gs,co("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Fu(gs,df)),hf=co("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Bu=co("srcset"),Cd=Fu(hf,Bu,co("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),co("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Dp=co("script,style,template");class Ap{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Di.hasOwnProperty(u))return this.sanitizedSomething=!0,!Dp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=s.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),S=y.name,M=S.toLowerCase();if(!Cd.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let B=y.value;hf[M]&&(B=Ri(B)),Bu[M]&&(B=yl(B)),this.buf.push(" ",S,'="',ff(B),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Di.hasOwnProperty(u)&&!$i.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(ff(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const xp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,fm=/([^\#-~ |!])/g;function ff(o){return o.replace(/&/g,"&amp;").replace(xp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(fm,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Sd;function Ip(o,s){let u=null;try{Sd=Sd||hi(o);let f=s?String(s):"";u=Sd.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=u.innerHTML,u=Sd.getInertBodyElement(f)}while(f!==y);return Ga((new Ap).sanitizeChildren(pf(u)||u))}finally{if(u){const f=pf(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function pf(o){return"content"in o&&function pm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var lo=(()=>((lo=lo||{})[lo.NONE=0]="NONE",lo[lo.HTML=1]="HTML",lo[lo.STYLE=2]="STYLE",lo[lo.SCRIPT=3]="SCRIPT",lo[lo.URL=4]="URL",lo[lo.RESOURCE_URL=5]="RESOURCE_URL",lo))();function gf(o){const s=Gu();return s?Vi(s.sanitize(lo.HTML,o)||""):wc(o,"HTML")?Vi(Os(o)):Ip(Zi(),_e(o))}function Wo(o){const s=Gu();return s?s.sanitize(lo.URL,o)||"":wc(o,"URL")?Os(o):Ri(_e(o))}function Gu(){const o=en();return o&&o[12]}const Vu="__ngContext__";function ms(o,s){o[Vu]=s}function bh(o){const s=function wd(o){return o[Vu]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function Zo(o){return o.ngOriginalError}function Bp(o,...s){o.error(...s)}class Ca{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),f=function bm(o){return o&&o.ngErrorLogger||Bp}(s);f(this._console,"ERROR",s),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&Zo(s);for(;u&&Zo(u);)u=Zo(u);return u||null}}const Gp=/^>|^->|<!--|-->|--!>|<!-$/g,_f=/(<|>)/;const Cm=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(an))();function Hu(o){return o.ownerDocument}function ja(o){return o instanceof Function?o():o}var Ks=(()=>((Ks=Ks||{})[Ks.Important=1]="Important",Ks[Ks.DashCase=2]="DashCase",Ks))();let Ft;function bl(o,s){return Ft(o,s)}function Ea(o){const s=o[3];return Tn(s)?s[3]:s}function $c(o){return Tl(o[13])}function Jl(o){return Tl(o[4])}function Tl(o){for(;null!==o&&!Tn(o);)o=o[4];return o}function po(o,s,u,f,m){if(null!=f){let y,S=!1;Tn(f)?y=f:$t(f)&&(S=!0,f=f[0]);const M=V(f);0===o&&null!==u?null==m?Df(s,u,M):Cl(s,u,M,m||null,!0):1===o&&null!==u?Cl(s,u,M,m||null,!0):2===o?ru(s,M,S):3===o&&s.destroyNode(M),null!=y&&function Id(o,s,u,f,m){const y=u[7];y!==V(u)&&po(s,o,f,y,m);for(let M=10;M<u.length;M++){const B=u[M];uc(B[1],B,o,s,f,y)}}(s,o,y,u,m)}}function Yl(o,s){return jr(o)?o.createText(s):o.createTextNode(s)}function Rs(o,s,u){jr(o)?o.setValue(s,u):s.textContent=u}function ra(o,s){return o.createComment(function Ch(o){return o.replace(Gp,s=>s.replace(_f,"\u200b$1\u200b"))}(s))}function os(o,s,u){if(jr(o))return o.createElement(s,u);{const f=null!==u?function ur(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(u):null;return null===f?o.createElement(s):o.createElementNS(f,s)}}function Jc(o,s){const u=o[9],f=u.indexOf(s),m=s[3];1024&s[2]&&(s[2]&=-1025,Go(m,-1)),u.splice(f,1)}function Wa(o,s){if(o.length<=10)return;const u=10+s,f=o[u];if(f){const m=f[17];null!==m&&m!==o&&Jc(m,f),s>0&&(o[u-1][4]=f[4]);const y=ya(o,10+s);!function Ha(o,s){uc(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(f[1],f);const S=y[19];null!==S&&S.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function eu(o,s){if(!(256&s[2])){const u=s[11];jr(u)&&u.destroyNode&&uc(o,s,u,3,null,null),function Kc(o){let s=o[13];if(!s)return Ad(o[1],o);for(;s;){let u=null;if($t(s))u=s[13];else{const f=s[10];f&&(u=f)}if(!u){for(;s&&!s[4]&&s!==o;)$t(s)&&Ad(s[1],s),s=s[3];null===s&&(s=o),$t(s)&&Ad(s[1],s),u=s&&s[4]}s=u}}(s)}}function Ad(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function wf(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const m=s[u[f]];if(!(m instanceof La)){const y=u[f+1];if(Array.isArray(y))for(let S=0;S<y.length;S+=2){const M=m[y[S]],B=y[S+1];try{B.call(M)}finally{}}else try{y.call(m)}finally{}}}}(o,s),function Ef(o,s){const u=o.cleanup,f=s[7];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const S=u[y+1],M="function"==typeof S?S(s):V(s[S]),B=f[m=u[y+2]],K=u[y+3];"boolean"==typeof K?M.removeEventListener(u[y],B,K):K>=0?f[m=K]():f[m=-K].unsubscribe(),y+=2}else{const S=f[m=u[y+1]];u[y].call(S)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();s[7]=null}}(o,s),1===s[1].type&&jr(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&Tn(s[3])){u!==s[3]&&Jc(u,s);const f=s[19];null!==f&&f.detachView(o)}}}function wh(o,s,u){return Hp(o,s.parent,u)}function Hp(o,s,u){let f=s;for(;null!==f&&40&f.type;)f=(s=f).parent;if(null===f)return u[0];if(2&f.flags){const m=o.data[f.directiveStart].encapsulation;if(m===ct.None||m===ct.Emulated)return null}return zt(f,u)}function Cl(o,s,u,f,m){jr(o)?o.insertBefore(s,u,f,m):s.insertBefore(u,f,m)}function Df(o,s,u){jr(o)?o.appendChild(s,u):s.appendChild(u)}function Dh(o,s,u,f,m){null!==f?Cl(o,s,u,f,m):Df(o,s,u)}function Ic(o,s){return jr(o)?o.parentNode(s):s.parentNode}function Af(o,s,u){return tu(o,s,u)}function Za(o,s,u){return 40&o.type?zt(o,u):null}let ia,tu=Za;function nu(o,s){tu=o,ia=s}function _s(o,s,u,f){const m=wh(o,f,s),y=s[11],M=Af(f.parent||s[6],f,s);if(null!=m)if(Array.isArray(u))for(let B=0;B<u.length;B++)Dh(y,m,u[B],M,!1);else Dh(y,m,u,M,!1);void 0!==ia&&ia(y,f,s,u,m)}function ks(o,s){if(null!==s){const u=s.type;if(3&u)return zt(s,o);if(4&u)return Sl(-1,o[s.index]);if(8&u){const f=s.child;if(null!==f)return ks(o,f);{const m=o[s.index];return Tn(m)?Sl(-1,m):V(m)}}if(32&u)return bl(s,o)()||V(o[s.index]);{const f=qu(o,s);return null!==f?Array.isArray(f)?f[0]:ks(Ea(o[16]),f):ks(o,s.next)}}return null}function qu(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Sl(o,s){const u=10+o+1;if(u<s.length){const f=s[u],m=f[1].firstChild;if(null!==m)return ks(f,m)}return s[7]}function ru(o,s,u){const f=Ic(o,s);f&&function xd(o,s,u,f){jr(o)?o.removeChild(s,u,f):s.removeChild(u)}(o,f,s,u)}function iu(o,s,u,f,m,y,S){for(;null!=u;){const M=f[u.index],B=u.type;if(S&&0===s&&(M&&ms(V(M),f),u.flags|=4),64!=(64&u.flags))if(8&B)iu(o,s,u.child,f,m,y,!1),po(s,o,m,M,y);else if(32&B){const K=bl(u,f);let se;for(;se=K();)po(s,o,m,se,y);po(s,o,m,M,y)}else 16&B?dc(o,s,f,u,m,y):po(s,o,m,M,y);u=S?u.projectionNext:u.next}}function uc(o,s,u,f,m,y){iu(u,f,o.firstChild,s,m,y,!1)}function dc(o,s,u,f,m,y){const S=u[16],B=S[6].projection[f.projection];if(Array.isArray(B))for(let K=0;K<B.length;K++)po(s,o,m,B[K],y);else iu(o,s,B,S[3],m,y,!0)}function El(o,s,u){jr(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function zu(o,s,u){jr(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function Ls(o,s,u){let f=o.length;for(;;){const m=o.indexOf(s,u);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const y=s.length;if(m+y===f||o.charCodeAt(m+y)<=32)return m}u=m+1}}const Md="ng-template";function Ah(o,s,u){let f=0;for(;f<o.length;){let m=o[f++];if(u&&"class"===m){if(m=o[f],-1!==Ls(m.toLowerCase(),s,0))return!0}else if(1===m){for(;f<o.length&&"string"==typeof(m=o[f++]);)if(m.toLowerCase()===s)return!0;return!1}}return!1}function xf(o){return 4===o.type&&o.value!==Md}function qa(o,s,u){return s===(4!==o.type||u?o.value:Md)}function ou(o,s,u){let f=4;const m=o.attrs||[],y=function Wp(o){for(let s=0;s<o.length;s++)if(ll(o[s]))return s;return o.length}(m);let S=!1;for(let M=0;M<s.length;M++){const B=s[M];if("number"!=typeof B){if(!S)if(4&f){if(f=2|1&f,""!==B&&!qa(o,B,u)||""===B&&1===s.length){if(oa(f))return!1;S=!0}}else{const K=8&f?B:s[++M];if(8&f&&null!==o.attrs){if(!Ah(o.attrs,K,u)){if(oa(f))return!1;S=!0}continue}const Re=su(8&f?"class":B,m,xf(o),u);if(-1===Re){if(oa(f))return!1;S=!0;continue}if(""!==K){let tt;tt=Re>y?"":m[Re+1].toLowerCase();const Ct=8&f?tt:null;if(Ct&&-1!==Ls(Ct,K,0)||2&f&&K!==tt){if(oa(f))return!1;S=!0}}}}else{if(!S&&!oa(f)&&!oa(B))return!1;if(S&&oa(B))continue;S=!1,f=B|1&f}}return oa(f)||S}function oa(o){return 0==(1&o)}function su(o,s,u,f){if(null===s)return-1;let m=0;if(f||!u){let y=!1;for(;m<s.length;){const S=s[m];if(S===o)return m;if(3===S||6===S)y=!0;else{if(1===S||2===S){let M=s[++m];for(;"string"==typeof M;)M=s[++m];continue}if(4===S)break;if(0===S){m+=4;continue}}m+=y?1:2}return-1}return function Da(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===s)return u;u++}return-1}(s,o)}function If(o,s,u=!1){for(let f=0;f<s.length;f++)if(ou(o,s[f],u))return!0;return!1}function Yc(o,s){e:for(let u=0;u<s.length;u++){const f=s[u];if(o.length===f.length){for(let m=0;m<o.length;m++)if(o[m]!==f[m])continue e;return!0}}return!1}function Od(o,s){return o?":not("+s.trim()+")":s}function Pf(o){let s=o[0],u=1,f=2,m="",y=!1;for(;u<o.length;){let S=o[u];if("string"==typeof S)if(2&f){const M=o[++u];m+="["+S+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?m+="."+S:4&f&&(m+=" "+S);else""!==m&&!oa(S)&&(s+=Od(y,m),m=""),f=S,y=y||!oa(f);u++}return""!==m&&(s+=Od(y,m)),s}const A={};function v(o){C(cr(),en(),_o()+o,sl())}function C(o,s,u,f){if(!f)if(3==(3&s[2])){const y=o.preOrderCheckHooks;null!==y&&Ws(s,y,u)}else{const y=o.preOrderHooks;null!==y&&Zs(s,y,0,u)}ga(u)}function ge(o,s){return o<<17|s<<2}function Le(o){return o>>17&32767}function Yn(o){return 2|o}function pr(o){return(131068&o)>>2}function Ur(o,s){return-131069&o|s<<2}function sa(o){return 1|o}function Oh(o,s){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const m=u[f],y=u[f+1];if(-1!==y){const S=o.data[y];js(m),S.contentQueries(2,s[y],y)}}}function Ld(o,s,u,f,m,y,S,M,B,K){const se=s.blueprint.slice();return se[0]=m,se[2]=140|f,Oo(se),se[3]=se[15]=o,se[8]=u,se[10]=S||o&&o[10],se[11]=M||o&&o[11],se[12]=B||o&&o[12]||null,se[9]=K||o&&o[9]||null,se[6]=y,se[16]=2==s.type?o[16]:se,se}function Fd(o,s,u,f,m){let y=o.data[s];if(null===y)y=km(o,s,u,f,m),function Fc(){return hr.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=f,y.attrs=m;const S=Vs();y.injectorIndex=null===S?-1:S.injectorIndex}return Ys(y,!0),y}function km(o,s,u,f,m){const y=ol(),S=ec(),B=o.data[s]=function eg(o,s,u,f,m,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?y:y&&y.parent,u,s,f,m);return null===o.firstChild&&(o.firstChild=B),null!==y&&(S?null==y.child&&null!==B.parent&&(y.child=B):null===y.next&&(y.next=B)),B}function Bd(o,s,u,f){if(0===u)return-1;const m=s.length;for(let y=0;y<u;y++)s.push(f),o.blueprint.push(f),o.data.push(null);return m}function Nh(o,s,u){Na(s);try{const f=o.viewQuery;null!==f&&Wm(1,f,u);const m=o.template;null!==m&&Lm(o,s,m,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Oh(o,s),o.staticViewQueries&&Wm(2,o.viewQuery,u);const y=o.components;null!==y&&function Rm(o,s){for(let u=0;u<s.length;u++)hg(o,s[u])}(s,y)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{s[2]&=-5,Xs()}}function Ud(o,s,u,f){const m=s[2];if(256==(256&m))return;Na(s);const y=sl();try{Oo(s),function ha(o){return hr.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Lm(o,s,u,2,f);const S=3==(3&m);if(!y)if(S){const K=o.preOrderCheckHooks;null!==K&&Ws(s,K,null)}else{const K=o.preOrderHooks;null!==K&&Zs(s,K,0,null),li(s,0)}if(function l0(o){for(let s=$c(o);null!==s;s=Jl(s)){if(!s[2])continue;const u=s[9];for(let f=0;f<u.length;f++){const m=u[f],y=m[3];0==(1024&m[2])&&Go(y,1),m[2]|=1024}}}(s),function ug(o){for(let s=$c(o);null!==s;s=Jl(s))for(let u=10;u<s.length;u++){const f=s[u],m=f[1];xi(f)&&Ud(m,f,m.template,f[8])}}(s),null!==o.contentQueries&&Oh(o,s),!y)if(S){const K=o.contentCheckHooks;null!==K&&Ws(s,K)}else{const K=o.contentHooks;null!==K&&Zs(s,K,1),li(s,1)}!function Mh(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)ga(~m);else{const y=m,S=u[++f],M=u[++f];al(S,y),M(2,s[y])}}}finally{ga(-1)}}(o,s);const M=o.components;null!==M&&function Nm(o,s){for(let u=0;u<s.length;u++)dg(o,s[u])}(s,M);const B=o.viewQuery;if(null!==B&&Wm(2,B,f),!y)if(S){const K=o.viewCheckHooks;null!==K&&Ws(s,K)}else{const K=o.viewHooks;null!==K&&Zs(s,K,2),li(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),y||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Go(s[3],-1))}finally{Xs()}}function e0(o,s,u,f){const m=s[10],y=!sl(),S=Or(s);try{y&&!S&&m.begin&&m.begin(),S&&Nh(o,s,f),Ud(o,s,u,f)}finally{y&&!S&&m.end&&m.end()}}function Lm(o,s,u,f,m){const y=_o(),S=2&f;try{ga(-1),S&&s.length>20&&C(o,s,20,sl()),u(f,m)}finally{ga(y)}}function kf(o,s,u){if(Dr(s)){const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const S=o.data[y];S.contentQueries&&S.contentQueries(1,u[y],y)}}}function Gd(o,s,u){!Ss()||(function a0(o,s,u,f){const m=u.directiveStart,y=u.directiveEnd;o.firstCreatePass||D(u,s),ms(f,s);const S=u.initialInputs;for(let M=m;M<y;M++){const B=o.data[M],K=gi(B);K&&jm(s,u,B);const se=yi(s,o,M,u);ms(se,s),null!==S&&lg(0,M-m,se,B,0,S),K&&(Br(u.index,s)[8]=se)}}(o,s,u,zt(u,s)),128==(128&u.flags)&&function ig(o,s,u){const f=u.directiveStart,m=u.directiveEnd,S=u.index,M=function fa(){return hr.lFrame.currentDirectiveIndex}();try{ga(S);for(let B=f;B<m;B++){const K=o.data[B],se=s[B];Qs(B),(null!==K.hostBindings||0!==K.hostVars||null!==K.hostAttrs)&&kh(K,se)}}finally{ga(-1),Qs(M)}}(o,s,u))}function Lf(o,s,u=zt){const f=s.localNames;if(null!==f){let m=s.index+1;for(let y=0;y<f.length;y+=2){const S=f[y+1],M=-1===S?u(s,o):o[S];o[m++]=M}}}function Xp(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Ff(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Ff(o,s,u,f,m,y,S,M,B,K){const se=20+f,Re=se+m,tt=function G1(o,s){const u=[];for(let f=0;f<s;f++)u.push(f<o?null:A);return u}(se,Re),Ct="function"==typeof K?K():K;return tt[1]={type:o,blueprint:tt,template:u,queries:null,viewQuery:M,declTNode:s,data:tt.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:B,consts:Ct,incompleteFirstPass:!1}}function Vd(o,s,u,f){const m=pg(s);null===u?m.push(f):(m.push(u),o.firstCreatePass&&gg(o).push(f,m.length-1))}function jd(o,s,u){for(let f in o)if(o.hasOwnProperty(f)){const m=o[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(s,m):u[f]=[s,m]}return u}function Fs(o,s,u,f,m,y,S,M){const B=zt(s,u);let se,K=s.inputs;!M&&null!=K&&(se=K[f])?(h0(o,u,se,f,m),Vr(s)&&function ng(o,s){const u=Br(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(f=function Bf(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),m=null!=S?S(m,s.value||"",f):m,jr(y)?y.setProperty(B,f,m):Jn(f)||(B.setProperty?B.setProperty(f,m):B[f]=m))}function Rh(o,s,u,f){let m=!1;if(Ss()){const y=function og(o,s,u){const f=o.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const S=f[y];If(u,S.selectors,!1)&&(m||(m=[]),Ge(D(u,s),o,S.type),gi(S)?(sg(o,u),m.unshift(S)):m.push(S))}return m}(o,s,u),S=null===f?null:{"":-1};if(null!==y){m=!0,Gm(u,o.data.length,y.length);for(let se=0;se<y.length;se++){const Re=y[se];Re.providersResolver&&Re.providersResolver(Re)}let M=!1,B=!1,K=Bd(o,s,y.length,null);for(let se=0;se<y.length;se++){const Re=y[se];u.mergedAttrs=Tr(u.mergedAttrs,Re.hostAttrs),Vm(o,u,s,K,Re),ag(K,Re,S),null!==Re.contentQueries&&(u.flags|=8),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(u.flags|=128);const tt=Re.type.prototype;!M&&(tt.ngOnChanges||tt.ngOnInit||tt.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),M=!0),!B&&(tt.ngOnChanges||tt.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),B=!0),K++}!function tg(o,s){const f=s.directiveEnd,m=o.data,y=s.attrs,S=[];let M=null,B=null;for(let K=s.directiveStart;K<f;K++){const se=m[K],Re=se.inputs,tt=null===y||xf(s)?null:c0(Re,y);S.push(tt),M=jd(Re,K,M),B=jd(se.outputs,K,B)}null!==M&&(M.hasOwnProperty("class")&&(s.flags|=16),M.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=S,s.inputs=M,s.outputs=B}(o,u)}S&&function Hd(o,s,u){if(s){const f=o.localNames=[];for(let m=0;m<s.length;m+=2){const y=u[s[m+1]];if(null==y)throw new Je(-301,!1);f.push(s[m],y)}}}(u,f,S)}return u.mergedAttrs=Tr(u.mergedAttrs,u.attrs),m}function Um(o,s,u,f,m,y){const S=y.hostBindings;if(S){let M=o.hostBindingOpCodes;null===M&&(M=o.hostBindingOpCodes=[]);const B=~s.index;(function rg(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(M)!=B&&M.push(B),M.push(f,m,S)}}function kh(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function sg(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function ag(o,s,u){if(u){if(s.exportAs)for(let f=0;f<s.exportAs.length;f++)u[s.exportAs[f]]=o;gi(s)&&(u[""]=o)}}function Gm(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function Vm(o,s,u,f,m){o.data[f]=m;const y=m.factory||(m.factory=W(m.type)),S=new La(y,gi(m),null);o.blueprint[f]=S,u[f]=S,Um(o,s,0,f,Bd(o,u,m.hostVars,A),m)}function jm(o,s,u){const f=zt(s,o),m=Xp(u),y=o[10],S=Wd(o,Ld(o,m,null,u.onPush?64:16,f,s,y,y.createRenderer(f,u),null,null));o[s.index]=S}function cg(o,s,u,f,m,y,S){if(null==y)jr(o)?o.removeAttribute(s,m,u):s.removeAttribute(m);else{const M=null==S?_e(y):S(y,f||"",m);jr(o)?o.setAttribute(s,m,M,u):u?s.setAttributeNS(u,m,M):s.setAttribute(m,M)}}function lg(o,s,u,f,m,y){const S=y[s];if(null!==S){const M=f.setInput;for(let B=0;B<S.length;){const K=S[B++],se=S[B++],Re=S[B++];null!==M?f.setInput(u,Re,K,se):u[se]=Re}}}function c0(o,s){let u=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;o.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,o[m],s[f+1])),f+=2}else f+=2;else f+=4}return u}function Uf(o,s,u,f){return new Array(o,!0,!1,s,null,0,f,u,null,null)}function dg(o,s){const u=Br(s,o);if(xi(u)){const f=u[1];80&u[2]?Ud(f,u,f.template,u[8]):u[5]>0&&Gf(u)}}function Gf(o){for(let f=$c(o);null!==f;f=Jl(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const S=y[1];Ud(S,y,S.template,y[8])}else y[5]>0&&Gf(y)}const u=o[1].components;if(null!==u)for(let f=0;f<u.length;f++){const m=Br(u[f],o);xi(m)&&m[5]>0&&Gf(m)}}function hg(o,s){const u=Br(s,o),f=u[1];(function fg(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(f,u),Nh(f,u,u[8])}function Wd(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function du(o){for(;o;){o[2]|=64;const s=Ea(o);if(Mo(o)&&!s)return o;o=s}return null}function fu(o,s,u){const f=s[10];f.begin&&f.begin();try{Ud(o,s,o.template,u)}catch(m){throw d0(s,m),m}finally{f.end&&f.end()}}function Qu(o){!function Lh(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],f=bh(u),m=f[1];e0(m,f,m.template,u)}}(o[8])}function Wm(o,s,u){js(0),s(o,u)}const Zm=(()=>Promise.resolve(null))();function pg(o){return o[7]||(o[7]=[])}function gg(o){return o.cleanup||(o.cleanup=[])}function d0(o,s){const u=o[9],f=u?u.get(Ca,null):null;f&&f.handleError(s)}function h0(o,s,u,f,m){for(let y=0;y<u.length;){const S=u[y++],M=u[y++],B=s[S],K=o.data[S];null!==K.setInput?K.setInput(B,m,f,M):B[M]=m}}function Mc(o,s,u){const f=Nt(s,o);Rs(o[11],f,u)}function Zd(o,s,u){let f=u?o.styles:null,m=u?o.classes:null,y=0;if(null!==s)for(let S=0;S<s.length;S++){const M=s[S];"number"==typeof M?y=M:1==y?m=ne(m,M):2==y&&(f=ne(f,M+": "+s[++S]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=m:o.classesWithoutHost=m}const Vf=new $r("INJECTOR",-1);class qm{get(s,u=qc){if(u===qc){const f=new Error(`NullInjectorError: No provider for ${J(s)}!`);throw f.name="NullInjectorError",f}return u}}const _g=new $r("Set Injector scope."),qd={},W1={};let vg;function zm(){return void 0===vg&&(vg=new qm),vg}function p0(o,s=null,u=null,f){const m=yg(o,s,u,f);return m._resolveInjectorDefTypes(),m}function yg(o,s=null,u=null,f){return new bg(o,u,s||zm(),f)}class bg{constructor(s,u,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&ea(u,M=>this.processProvider(M,s,u)),ea([s],M=>this.processInjectorType(M,[],y)),this.records.set(Vf,pu(void 0,this));const S=this.records.get(_g);this.scope=null!=S?S.value:null,this.source=m||("object"==typeof s?null:J(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=qc,f=Bn.Default){this.assertNotDestroyed();const m=At(this),y=Qr(void 0);try{if(!(f&Bn.SkipSelf)){let M=this.records.get(s);if(void 0===M){const B=function z1(o){return"function"==typeof o||"object"==typeof o&&o instanceof $r}(s)&&vr(s);M=B&&this.injectableDefInScope(B)?pu(Bh(s),qd):null,this.records.set(s,M)}if(null!=M)return this.hydrate(s,M)}return(f&Bn.Self?zm():this.parent).get(s,u=f&Bn.Optional&&u===qc?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[fs]=S[fs]||[]).unshift(J(s)),m)throw S;return function ao(o,s,u,f){const m=o[fs];throw s[ae]&&m.unshift(s[ae]),o.message=function ps(o,s,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let m=J(s);if(Array.isArray(s))m=s.map(J).join(" -> ");else if("object"==typeof s){let y=[];for(let S in s)if(s.hasOwnProperty(S)){let M=s[S];y.push(S+":"+("string"==typeof M?JSON.stringify(M):J(M)))}m=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${o.replace(U,"\n  ")}`}("\n"+o.message,m,u,f),o.ngTokenPath=m,o[fs]=null,o}(S,s,"R3InjectorError",this.source)}throw S}finally{Qr(y),At(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((f,m)=>s.push(J(m))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processInjectorType(s,u,f){if(!(s=fe(s)))return!1;let m=Oi(s);const y=null==m&&s.ngModule||void 0,S=void 0===y?s:y,M=-1!==f.indexOf(S);if(void 0!==y&&(m=Oi(y)),null==m)return!1;if(null!=m.imports&&!M){let se;f.push(S);try{ea(m.imports,Re=>{this.processInjectorType(Re,u,f)&&(void 0===se&&(se=[]),se.push(Re))})}finally{}if(void 0!==se)for(let Re=0;Re<se.length;Re++){const{ngModule:tt,providers:Ct}=se[Re];ea(Ct,Ht=>this.processProvider(Ht,tt,Ct||Gt))}}this.injectorDefTypes.add(S);const B=W(S)||(()=>new S);this.records.set(S,pu(B,qd));const K=m.providers;if(null!=K&&!M){const se=s;ea(K,Re=>this.processProvider(Re,se,K))}return void 0!==y&&void 0!==s.providers}processProvider(s,u,f){let m=hc(s=fe(s))?s:fe(s&&s.provide);const y=function zd(o,s,u){return jf(o)?pu(void 0,o.useValue):pu(g0(o),qd)}(s);if(hc(s)||!0!==s.multi)this.records.get(m);else{let S=this.records.get(m);S||(S=pu(void 0,qd,!0),S.factory=()=>ai(S.multi),this.records.set(m,S)),m=s,S.multi.push(s)}this.records.set(m,y)}hydrate(s,u){return u.value===qd&&(u.value=W1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function $m(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=fe(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Bh(o){const s=vr(o),u=null!==s?s.factory:W(o);if(null!==u)return u;if(o instanceof $r)throw new Je(204,!1);if(o instanceof Function)return function Z1(o){const s=o.length;if(s>0)throw zs(s,"?"),new Je(204,!1);const u=function Ar(o){const s=o&&(o[Si]||o[Wr]);if(s){const u=function Gr(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Je(204,!1)}function g0(o,s,u){let f;if(hc(o)){const m=fe(o);return W(m)||Bh(m)}if(jf(o))f=()=>fe(o.useValue);else if(function Hf(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...ai(o.deps||[]));else if(function Oc(o){return!(!o||!o.useExisting)}(o))f=()=>Mn(fe(o.useExisting));else{const m=fe(o&&(o.useClass||o.provide));if(!function q1(o){return!!o.deps}(o))return W(m)||Bh(m);f=()=>new m(...ai(o.deps))}return f}function pu(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function jf(o){return null!==o&&"object"==typeof o&&qe in o}function hc(o){return"function"==typeof o}let $a=(()=>{class o{static create(u,f){var m;if(Array.isArray(u))return p0({name:""},f,u,"");{const y=null!==(m=u.name)&&void 0!==m?m:"";return p0({name:y},u.parent,u.providers,y)}}}return o.THROW_IF_NOT_FOUND=qc,o.NULL=new qm,o.\u0275prov=$n({token:o,providedIn:"any",factory:()=>Mn(Vf)}),o.__NG_ELEMENT_ID__=-1,o})();function Vh(o,s){ma(bh(o)[1],Ni())}function Kd(o){let s=function Jf(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;s;){let m;if(gi(o))m=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Je(903,"");m=s.\u0275dir}if(m){if(u){f.push(m);const S=o;S.inputs=e_(o.inputs),S.declaredInputs=e_(o.declaredInputs),S.outputs=e_(o.outputs);const M=m.hostBindings;M&&n_(o,M);const B=m.viewQuery,K=m.contentQueries;if(B&&t_(o,B),K&&_u(o,K),Q(o.inputs,m.inputs),Q(o.declaredInputs,m.declaredInputs),Q(o.outputs,m.outputs),gi(m)&&m.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let S=0;S<y.length;S++){const M=y[S];M&&M.ngInherit&&M(o),M===Kd&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Xm(o){let s=0,u=null;for(let f=o.length-1;f>=0;f--){const m=o[f];m.hostVars=s+=m.hostVars,m.hostAttrs=Tr(m.hostAttrs,u=Tr(u,m.hostAttrs))}}(f)}function e_(o){return o===jn?{}:o===Gt?[]:o}function t_(o,s){const u=o.viewQuery;o.viewQuery=u?(f,m)=>{s(f,m),u(f,m)}:s}function _u(o,s){const u=o.contentQueries;o.contentQueries=u?(f,m,y)=>{s(f,m,y),u(f,m,y)}:s}function n_(o,s){const u=o.hostBindings;o.hostBindings=u?(f,m)=>{s(f,m),u(f,m)}:s}let Qf=null;function ed(){if(!Qf){const o=an.Symbol;if(o&&o.iterator)Qf=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const f=s[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Qf=f)}}}return Qf}function td(o){return!!Ag(o)&&(Array.isArray(o)||!(o instanceof Map)&&ed()in o)}function Ag(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Ka(o,s,u){return o[s]=u}function Us(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function Nc(o,s,u,f){const m=Us(o,s,u);return Us(o,s+1,f)||m}function Xf(o,s,u,f){const m=en();return Us(m,Ps(),s)&&(cr(),function Pc(o,s,u,f,m,y){const S=zt(o,s);cg(s[11],S,y,o.value,u,f,m)}(Bi(),m,o,s,u,f)),Xf}function rd(o,s,u,f){return Us(o,Ps(),u)?s+_e(u)+f:A}function tp(o,s,u,f,m,y,S,M){const B=en(),K=cr(),se=o+20,Re=K.firstCreatePass?function s_(o,s,u,f,m,y,S,M,B){const K=s.consts,se=Fd(s,o,4,S||null,si(K,M));Rh(s,u,se,si(K,B)),ma(s,se);const Re=se.tViews=Ff(2,se,f,m,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,K);return null!==s.queries&&(s.queries.template(s,se),Re.queries=s.queries.embeddedTView(se)),se}(se,K,B,s,u,f,m,y,S):K.data[se];Ys(Re,!1);const tt=B[11].createComment("");_s(K,B,tt,Re),ms(tt,B),Wd(B,B[se]=Uf(tt,B,tt,Re)),Ir(Re)&&Gd(K,B,Re),null!=S&&Lf(B,Re,M)}function a_(o){return Fr(function bc(){return hr.lFrame.contextLView}(),20+o)}function xl(o,s=Bn.Default){const u=en();return null===u?Mn(o,s):Rn(Ni(),u,fe(o),s)}function Lg(){throw new Error("invalid")}function Xd(o,s,u){const f=en();return Us(f,Ps(),s)&&Fs(cr(),Bi(),f,o,s,f[11],u,!1),Xd}function Fg(o,s,u,f,m){const S=m?"class":"style";h0(o,u,s.inputs[S],S,f)}function Bg(o,s,u,f){const m=en(),y=cr(),S=20+o,M=m[11],B=m[S]=os(M,s,function fo(){return hr.lFrame.currentNamespace}()),K=y.firstCreatePass?function f_(o,s,u,f,m,y,S){const M=s.consts,K=Fd(s,o,2,m,si(M,y));return Rh(s,u,K,si(M,S)),null!==K.attrs&&Zd(K,K.attrs,!1),null!==K.mergedAttrs&&Zd(K,K.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,K),K}(S,y,m,0,s,u,f):y.data[S];Ys(K,!0);const se=K.mergedAttrs;null!==se&&ic(M,B,se);const Re=K.classes;null!==Re&&zu(M,B,Re);const tt=K.styles;return null!==tt&&El(M,B,tt),64!=(64&K.flags)&&_s(y,m,B,K),0===function Vo(){return hr.lFrame.elementDepthCount}()&&ms(B,m),function ls(){hr.lFrame.elementDepthCount++}(),Ir(K)&&(Gd(y,m,K),kf(y,K,m)),null!==f&&Lf(m,K),Bg}function Ug(){let o=Ni();ec()?Ma():(o=o.parent,Ys(o,!1));const s=o;!function Cs(){hr.lFrame.elementDepthCount--}();const u=cr();return u.firstCreatePass&&(ma(u,o),Dr(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function qs(o){return 0!=(16&o.flags)}(s)&&Fg(u,s,en(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function wu(o){return 0!=(32&o.flags)}(s)&&Fg(u,s,en(),s.stylesWithoutHost,!1),Ug}function p_(o,s,u,f){return Bg(o,s,u,f),Ug(),p_}function $h(o,s,u){const f=en(),m=cr(),y=o+20,S=m.firstCreatePass?function P0(o,s,u,f,m){const y=s.consts,S=si(y,f),M=Fd(s,o,8,"ng-container",S);return null!==S&&Zd(M,S,!0),Rh(s,u,M,si(y,m)),null!==s.queries&&s.queries.elementStart(s,M),M}(y,m,f,s,u):m.data[y];Ys(S,!0);const M=f[y]=f[11].createComment("");return _s(m,f,M,S),ms(M,f),Ir(S)&&(Gd(m,f,S),kf(m,S,f)),null!=u&&Lf(f,S),$h}function Il(){let o=Ni();const s=cr();return ec()?Ma():(o=o.parent,Ys(o,!1)),s.firstCreatePass&&(ma(s,o),Dr(o)&&s.queries.elementEnd(o)),Il}function Gg(o,s,u){return $h(o,s,u),Il(),Gg}function g_(){return en()}function ip(o){return!!o&&"function"==typeof o.then}function Vg(o){return!!o&&"function"==typeof o.subscribe}const M0=Vg;function sd(o,s,u,f){const m=en(),y=cr(),S=Ni();return function eo(o,s,u,f,m,y,S,M){const B=Ir(f),se=o.firstCreatePass&&gg(o),Re=s[8],tt=pg(s);let Ct=!0;if(3&f.type||M){const Hn=zt(f,s),dr=M?M(Hn):Hn,Qt=tt.length,xr=M?vi=>M(V(vi[f.index])):f.index;if(jr(u)){let vi=null;if(!M&&B&&(vi=function gc(o,s,u,f){const m=o.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const S=m[y];if(S===u&&m[y+1]===f){const M=s[7],B=m[y+2];return M.length>B?M[B]:null}"string"==typeof S&&(y+=2)}return null}(o,s,m,f.index)),null!==vi)(vi.__ngLastListenerFn__||vi).__ngNextListenerFn__=y,vi.__ngLastListenerFn__=y,Ct=!1;else{y=ad(f,s,Re,y,!1);const Yi=u.listen(dr,m,y);tt.push(y,Yi),se&&se.push(m,xr,Qt,Qt+1)}}else y=ad(f,s,Re,y,!0),dr.addEventListener(m,y,S),tt.push(y),se&&se.push(m,xr,Qt,S)}else y=ad(f,s,Re,y,!1);const Ht=f.outputs;let Dn;if(Ct&&null!==Ht&&(Dn=Ht[m])){const Hn=Dn.length;if(Hn)for(let dr=0;dr<Hn;dr+=2){const Ia=s[Dn[dr]][Dn[dr+1]].subscribe(y),bu=tt.length;tt.push(y,Ia),se&&se.push(m,f.index,bu,-(bu+1))}}}(y,m,m[11],S,o,s,!!u,f),sd}function sp(o,s,u,f){try{return!1!==u(f)}catch(m){return d0(o,m),!1}}function ad(o,s,u,f,m){return function y(S){if(S===Function)return f;const M=2&o.flags?Br(o.index,s):s;0==(32&s[2])&&du(M);let B=sp(s,0,f,S),K=y.__ngNextListenerFn__;for(;K;)B=sp(s,0,K,S)&&B,K=K.__ngNextListenerFn__;return m&&!1===B&&(S.preventDefault(),S.returnValue=!1),B}}function nl(o=1){return function Hs(o){return(hr.lFrame.contextLView=function Cc(o,s){for(;o>0;)s=s[15],o--;return s}(o,hr.lFrame.contextLView))[8]}(o)}function eh(o,s){let u=null;const f=function $u(o){const s=o.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(o);for(let m=0;m<s.length;m++){const y=s[m];if("*"!==y){if(null===f?If(o,y,!0):Yc(f,y))return m}else u=m}return u}function Kh(o){const s=en()[16][6];if(!s.projection){const f=s.projection=zs(o?o.length:1,null),m=f.slice();let y=s.child;for(;null!==y;){const S=o?eh(y,o):0;null!==S&&(m[S]?m[S].projectionNext=y:f[S]=y,m[S]=y),y=y.next}}}function Pl(o,s=0,u){const f=en(),m=cr(),y=Fd(m,20+o,16,null,u||null);null===y.projection&&(y.projection=s),Ma(),64!=(64&y.flags)&&function wm(o,s,u){dc(s[11],0,s,u,wh(o,u,s),Af(u.parent||s[6],u,s))}(m,f,y)}function m_(o,s,u){return cd(o,"",s,"",u),m_}function cd(o,s,u,f,m){const y=en(),S=rd(y,s,u,f);return S!==A&&Fs(cr(),Bi(),y,o,S,y[11],m,!1),cd}function ap(o,s,u,f,m){const y=o[u+1],S=null===s;let M=f?Le(y):pr(y),B=!1;for(;0!==M&&(!1===B||S);){const se=o[M+1];rh(o[M],s)&&(B=!0,o[M+1]=f?sa(se):Yn(se)),M=f?Le(se):pr(se)}B&&(o[u+1]=f?Yn(y):sa(y))}function rh(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&$s(o,s)>=0}const zo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function sv(o){return o.substring(zo.key,zo.keyEnd)}function b_(o,s){const u=zo.textEnd;return u===s?-1:(s=zo.keyEnd=function wb(o,s,u){for(;s<u&&o.charCodeAt(s)>32;)s++;return s}(o,zo.key=s,u),ld(o,s,u))}function ld(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function F0(o,s,u){return Aa(o,s,u,!1),F0}function Zg(o,s){return Aa(o,s,null,!0),Zg}function qg(o){!function Rc(o,s,u,f){const m=cr(),y=es(2);m.firstUpdatePass&&cv(m,null,y,f);const S=en();if(u!==A&&Us(S,y,u)){const M=m.data[_o()];if(n(M,f)&&!Jh(m,y)){let B=f?M.classesWithoutHost:M.stylesWithoutHost;null!==B&&(u=ne(B,u||"")),Fg(m,M,S,u,f)}else!function dv(o,s,u,f,m,y,S,M){m===A&&(m=Gt);let B=0,K=0,se=0<m.length?m[0]:null,Re=0<y.length?y[0]:null;for(;null!==se||null!==Re;){const tt=B<m.length?m[B+1]:void 0,Ct=K<y.length?y[K+1]:void 0;let Dn,Ht=null;se===Re?(B+=2,K+=2,tt!==Ct&&(Ht=Re,Dn=Ct)):null===Re||null!==se&&se<Re?(B+=2,Ht=se):(K+=2,Ht=Re,Dn=Ct),null!==Ht&&C_(o,s,u,f,Ht,Dn,S,M),se=B<m.length?m[B]:null,Re=K<y.length?y[K]:null}}(m,M,S,S[11],S[y+1],S[y+1]=function up(o,s,u){if(null==u||""===u)return Gt;const f=[],m=Os(u);if(Array.isArray(m))for(let y=0;y<m.length;y++)o(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&o(f,y,m[y]);else"string"==typeof m&&s(f,m);return f}(o,s,u),f,y)}}(rs,rl,o,!0)}function rl(o,s){for(let u=function R0(o){return function L0(o){zo.key=0,zo.keyEnd=0,zo.value=0,zo.valueEnd=0,zo.textEnd=o.length}(o),b_(o,ld(o,0,zo.textEnd))}(s);u>=0;u=b_(s,u))rs(o,sv(s),!0)}function Aa(o,s,u,f){const m=en(),y=cr(),S=es(2);y.firstUpdatePass&&cv(y,o,S,f),s!==A&&Us(m,S,s)&&C_(y,y.data[_o()],m,m[11],o,m[S+1]=function l(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=J(Os(o)))),o}(s,u),f,S)}function Jh(o,s){return s>=o.expandoStartIndex}function cv(o,s,u,f){const m=o.data;if(null===m[u+1]){const y=m[_o()],S=Jh(o,u);n(y,f)&&null===s&&!S&&(s=!1),s=function ih(o,s,u,f){const m=function pa(o){const s=hr.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let y=f?s.residualClasses:s.residualStyles;if(null===m)0===(f?s.classBindings:s.styleBindings)&&(u=lp(u=zg(null,o,s,u,f),s.attrs,f),y=null);else{const S=s.directiveStylingLast;if(-1===S||o[S]!==m)if(u=zg(m,o,s,u,f),null===y){let B=function Nl(o,s,u){const f=u?s.classBindings:s.styleBindings;if(0!==pr(f))return o[Le(f)]}(o,s,f);void 0!==B&&Array.isArray(B)&&(B=zg(null,o,s,B[1],f),B=lp(B,s.attrs,f),function lv(o,s,u,f){o[Le(u?s.classBindings:s.styleBindings)]=f}(o,s,f,B))}else y=function uv(o,s,u){let f;const m=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<m;y++)f=lp(f,o[y].hostAttrs,u);return lp(f,s.attrs,u)}(o,s,f)}return void 0!==y&&(f?s.residualClasses=y:s.residualStyles=y),u}(m,y,s,f),function Hg(o,s,u,f,m,y){let S=y?s.classBindings:s.styleBindings,M=Le(S),B=pr(S);o[f]=u;let se,K=!1;if(Array.isArray(u)){const Re=u;se=Re[1],(null===se||$s(Re,se)>0)&&(K=!0)}else se=u;if(m)if(0!==B){const tt=Le(o[M+1]);o[f+1]=ge(tt,M),0!==tt&&(o[tt+1]=Ur(o[tt+1],f)),o[M+1]=function nn(o,s){return 131071&o|s<<17}(o[M+1],f)}else o[f+1]=ge(M,0),0!==M&&(o[M+1]=Ur(o[M+1],f)),M=f;else o[f+1]=ge(B,0),0===M?M=f:o[B+1]=Ur(o[B+1],f),B=f;K&&(o[f+1]=Yn(o[f+1])),ap(o,se,f,!0),ap(o,se,f,!1),function Wg(o,s,u,f,m){const y=m?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof s&&$s(y,s)>=0&&(u[f+1]=sa(u[f+1]))}(s,se,o,f,y),S=ge(M,B),y?s.classBindings=S:s.styleBindings=S}(m,y,s,u,S,f)}}function zg(o,s,u,f,m){let y=null;const S=u.directiveEnd;let M=u.directiveStylingLast;for(-1===M?M=u.directiveStart:M++;M<S&&(y=s[M],f=lp(f,y.hostAttrs,m),y!==o);)M++;return null!==o&&(u.directiveStylingLast=M),f}function lp(o,s,u){const f=u?1:2;let m=-1;if(null!==s)for(let y=0;y<s.length;y++){const S=s[y];"number"==typeof S?m=S:m===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),rs(o,S,!!u||s[++y]))}return void 0===o?null:o}function C_(o,s,u,f,m,y,S,M){if(!(3&s.type))return;const B=o.data,K=B[M+1];Yh(function Ki(o){return 1==(1&o)}(K)?G0(B,s,u,m,pr(K),S):void 0)||(Yh(y)||function Dt(o){return 2==(2&o)}(K)&&(y=G0(B,null,u,m,M,S)),function wa(o,s,u,f,m){const y=jr(o);if(s)m?y?o.addClass(u,f):u.classList.add(f):y?o.removeClass(u,f):u.classList.remove(f);else{let S=-1===f.indexOf("-")?void 0:Ks.DashCase;if(null==m)y?o.removeStyle(u,f,S):u.style.removeProperty(f);else{const M="string"==typeof m&&m.endsWith("!important");M&&(m=m.slice(0,-10),S|=Ks.Important),y?o.setStyle(u,f,m,S):u.style.setProperty(f,m,M?"important":"")}}}(f,S,Nt(_o(),u),m,y))}function G0(o,s,u,f,m,y){const S=null===s;let M;for(;m>0;){const B=o[m],K=Array.isArray(B),se=K?B[1]:B,Re=null===se;let tt=u[m+1];tt===A&&(tt=Re?Gt:void 0);let Ct=Re?Zc(tt,f):se===f?tt:void 0;if(K&&!Yh(Ct)&&(Ct=Zc(B,f)),Yh(Ct)&&(M=Ct,S))return M;const Ht=o[m+1];m=S?Le(Ht):pr(Ht)}if(null!==s){let B=y?s.residualClasses:s.residualStyles;null!=B&&(M=Zc(B,f))}return M}function Yh(o){return void 0!==o}function n(o,s){return 0!=(o.flags&(s?16:32))}function a(o,s=""){const u=en(),f=cr(),m=o+20,y=f.firstCreatePass?Fd(f,m,1,s,null):f.data[m],S=u[m]=Yl(u[11],s);_s(f,u,S,y),Ys(y,!1)}function d(o){return g("",o,""),d}function g(o,s,u){const f=en(),m=rd(f,o,s,u);return m!==A&&Mc(f,_o(),m),g}function b(o,s,u,f,m){const y=en(),S=function el(o,s,u,f,m,y){const M=Nc(o,da(),u,m);return es(2),M?s+_e(u)+f+_e(m)+y:A}(y,o,s,u,f,m);return S!==A&&Mc(y,_o(),S),b}function S_(o,s,u){const f=en();return Us(f,Ps(),s)&&Fs(cr(),Bi(),f,o,s,f[11],u,!0),S_}const dp=void 0;var yS=["en",[["a","p"],["AM","PM"],dp],[["AM","PM"],dp,dp],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dp,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dp,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dp,"{1} 'at' {0}",dp],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function fv(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let $g={};function bS(o,s,u){"string"!=typeof s&&(u=s,s=o[Rr.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),$g[s]=o,u&&($g[s][Rr.ExtraData]=u)}function pv(o){const s=function SS(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Bb(s);if(u)return u;const f=s.split("-")[0];if(u=Bb(f),u)return u;if("en"===f)return yS;throw new Error(`Missing locale data for the locale "${o}".`)}function Fb(o){return pv(o)[Rr.PluralCase]}function Bb(o){return o in $g||($g[o]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[o]),$g[o]}var Rr=(()=>((Rr=Rr||{})[Rr.LocaleId=0]="LocaleId",Rr[Rr.DayPeriodsFormat=1]="DayPeriodsFormat",Rr[Rr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Rr[Rr.DaysFormat=3]="DaysFormat",Rr[Rr.DaysStandalone=4]="DaysStandalone",Rr[Rr.MonthsFormat=5]="MonthsFormat",Rr[Rr.MonthsStandalone=6]="MonthsStandalone",Rr[Rr.Eras=7]="Eras",Rr[Rr.FirstDayOfWeek=8]="FirstDayOfWeek",Rr[Rr.WeekendRange=9]="WeekendRange",Rr[Rr.DateFormat=10]="DateFormat",Rr[Rr.TimeFormat=11]="TimeFormat",Rr[Rr.DateTimeFormat=12]="DateTimeFormat",Rr[Rr.NumberSymbols=13]="NumberSymbols",Rr[Rr.NumberFormats=14]="NumberFormats",Rr[Rr.CurrencyCode=15]="CurrencyCode",Rr[Rr.CurrencySymbol=16]="CurrencySymbol",Rr[Rr.CurrencyName=17]="CurrencyName",Rr[Rr.Currencies=18]="Currencies",Rr[Rr.Directionality=19]="Directionality",Rr[Rr.PluralCase=20]="PluralCase",Rr[Rr.ExtraData=21]="ExtraData",Rr))();const gv=["zero","one","two","few","many"],j0="en-US",H0={marker:"element"},W0={marker:"ICU"};var Ko=(()=>((Ko=Ko||{})[Ko.SHIFT=2]="SHIFT",Ko[Ko.APPEND_EAGERLY=1]="APPEND_EAGERLY",Ko[Ko.COMMENT=2]="COMMENT",Ko))();let Ub=j0;function Z0(o,s,u){const f=s.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?Za(o,0,u):V(u[m])}function Gb(o,s,u,f,m){const y=s.insertBeforeIndex;if(Array.isArray(y)){let S=f,M=null;if(3&s.type||(M=S,S=m),null!==S&&0==(2&s.flags))for(let B=1;B<y.length;B++)Cl(o,S,u[y[B]],M,!1)}}function Vb(o,s){if(o.push(s),o.length>1)for(let u=o.length-2;u>=0;u--){const f=o[u];jb(f)||xS(f,s)&&null===Hb(f)&&IS(f,s.index)}}function jb(o){return!(64&o.type)}function xS(o,s){return jb(s)||o.index>s.index}function Hb(o){const s=o.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function IS(o,s){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=s:(nu(Z0,Gb),o.insertBeforeIndex=s)}function E_(o,s){const u=o.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function mv(o,s,u){const f=km(o,u,64,null,null);return Vb(s,f),f}function w_(o,s){const u=s[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function _v(o){return o>>>17}function kc(o){return(131070&o)>>>1}let Kg=0,Jg=0;function vv(o,s,u,f){const m=u[11];let S,y=null;for(let M=0;M<s.length;M++){const B=s[M];if("string"==typeof B){const K=s[++M];null===u[K]&&(u[K]=Yl(m,B))}else if("number"==typeof B)switch(1&B){case 0:const K=_v(B);let se,Re;if(null===y&&(y=K,S=Ic(m,f)),K===y?(se=f,Re=S):(se=null,Re=V(u[K])),null!==Re){const Dn=kc(B);Cl(m,Re,u[Dn],se,!1);const dr=E_(o,Dn);if(null!==dr&&"object"==typeof dr){const Qt=w_(dr,u);null!==Qt&&vv(o,dr.create[Qt],u,u[dr.anchorIdx])}}break;case 1:const Ct=s[++M],Ht=s[++M];cg(m,Nt(B>>>1,u),null,null,Ct,Ht,null)}else switch(B){case W0:const K=s[++M],se=s[++M];null===u[se]&&ms(u[se]=ra(m,K),u);break;case H0:const Re=s[++M],tt=s[++M];null===u[tt]&&ms(u[tt]=os(m,Re,null),u)}}}function yv(o,s,u,f,m){for(let y=0;y<u.length;y++){const S=u[y],M=u[++y];if(S&m){let B="";for(let K=y+1;K<=y+M;K++){const se=u[K];if("string"==typeof se)B+=se;else if("number"==typeof se)if(se<0)B+=_e(s[f-se]);else{const Re=se>>>2;switch(3&se){case 1:const tt=u[++K],Ct=u[++K],Ht=o.data[Re];"string"==typeof Ht?cg(s[11],s[Re],null,Ht,tt,B,Ct):Fs(o,Ht,s,tt,B,s[11],Ct,!1);break;case 0:const Dn=s[Re];null!==Dn&&Rs(s[11],Dn,B);break;case 2:zb(o,E_(o,Re),s,B);break;case 3:bv(o,E_(o,Re),f,s)}}}}else{const B=u[y+1];if(B>0&&3==(3&B)){const se=E_(o,B>>>2);s[se.currentCaseLViewIndex]<0&&bv(o,se,f,s)}}y+=M}}function bv(o,s,u,f){let m=f[s.currentCaseLViewIndex];if(null!==m){let y=Kg;m<0&&(m=f[s.currentCaseLViewIndex]=~m,y=-1),yv(o,f,s.update[m],u,y)}}function zb(o,s,u,f){const m=function $b(o,s){let u=o.cases.indexOf(s);if(-1===u)switch(o.type){case 1:{const f=function ES(o,s){const u=Fb(s)(parseInt(o,10)),f=gv[u];return void 0!==f?f:"other"}(s,function AS(){return Ub}());u=o.cases.indexOf(f),-1===u&&"other"!==f&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(s,f);if(w_(s,u)!==m&&(Tv(o,s,u),u[s.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const S=u[s.anchorIdx];S&&vv(o,s.create[m],u,S)}}function Tv(o,s,u){let f=w_(s,u);if(null!==f){const m=s.remove[f];for(let y=0;y<m.length;y++){const S=m[y];if(S>0){const M=Nt(S,u);null!==M&&ru(u[11],M)}else Tv(o,E_(o,~S),u)}}}function Kb(){const o=[];let u,f,s=-1;function y(M,B){s=0;const K=w_(M,B);f=null!==K?M.remove[K]:Gt}function S(){if(s<f.length){const M=f[s++];return M>0?u[M]:(o.push(s,f),y(u[1].data[~M],u),S())}return 0===o.length?null:(f=o.pop(),s=o.pop(),S())}return function m(M,B){for(u=B;o.length;)o.pop();return y(M.value,B),S}}const A_=/\ufffd(\d+):?\d*\ufffd/gi,mc=/\ufffd(\d+)\ufffd/,Sv=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Yb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Qb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Xb=/\uE500/g;function Ev(o,s,u,f,m,y,S){const M=Bd(o,f,1,null);let B=M<<Ko.SHIFT,K=Vs();s===K&&(K=null),null===K&&(B|=Ko.APPEND_EAGERLY),S&&(B|=Ko.COMMENT,function Sa(o){void 0===Ft&&(Ft=o())}(Kb)),m.push(B,null===y?"":y);const se=km(o,M,S?32:1,null===y?"":y,null);Vb(u,se);const Re=se.index;return Ys(se,!1),null!==K&&s!==K&&function MS(o,s){let u=o.insertBeforeIndex;null===u?(nu(Z0,Gb),u=o.insertBeforeIndex=[null,s]):(function ve(o,s,u){o!=s&&wt(u,o,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(K,Re),se}function nT(o,s,u,f,m,y,S){const M=S.match(A_),B=Ev(o,s,u,y,f,M?null:S,!1);M&&hp(m,S,B.index,null,0,null)}function hp(o,s,u,f,m,y){const S=o.length,M=S+1;o.push(null,null);const B=S+2,K=s.split(A_);let se=0;for(let Re=0;Re<K.length;Re++){const tt=K[Re];if(1&Re){const Ct=m+parseInt(tt,10);o.push(-1-Ct),se|=wv(Ct)}else""!==tt&&o.push(tt)}return o.push(u<<2|(f?1:0)),f&&o.push(f,y),o[S]=se,o[M]=o.length-B,se}function wv(o){return 1<<Math.min(o,31)}function Dv(o){let s,y,u="",f=0,m=!1;for(;null!==(s=Yb.exec(o));)m?s[0]===`\ufffd/*${y}\ufffd`&&(f=s.index,m=!1):(u+=o.substring(f,s.index+s[0].length),y=s[1],m=!0);return u+=o.substr(f),u}function Av(o,s,u,f,m,y){let S=0;const M={type:m.type,currentCaseLViewIndex:Bd(o,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function uT(o,s,u){o.push(wv(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,m,y),function PS(o,s,u){const f=o.data[s];null===f?o.data[s]=u:f.value=u}(o,y,M);const B=m.values;for(let K=0;K<B.length;K++){const se=B[K],Re=[];for(let tt=0;tt<se.length;tt++){const Ct=se[tt];if("string"!=typeof Ct){const Ht=Re.push(Ct)-1;se[tt]=`\x3c!--\ufffd${Ht}\ufffd--\x3e`}}S=cT(o,M,s,u,f,m.cases[K],se.join(""),Re)|S}S&&function dT(o,s,u){o.push(s,1,u<<2|3)}(u,S,y)}function aT(o){const s=[],u=[];let f=1,m=0;const y=q0(o=o.replace(Sv,function(S,M,B){return f="select"===B?0:1,m=parseInt(M.substr(1),10),""}));for(let S=0;S<y.length;){let M=y[S++].trim();1===f&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&s.push(M);const B=q0(y[S++]);s.length>u.length&&u.push(B)}return{type:f,mainBinding:m,cases:s,values:u}}function q0(o){if(!o)return[];let s=0;const u=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(o);){const M=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const B=o.substring(s,M);Sv.test(B)?f.push(aT(B)):f.push(B),s=M+1}}else{if(0==u.length){const B=o.substring(s,M);f.push(B),s=M+1}u.push("{")}}const S=o.substring(s);return f.push(S),f}function cT(o,s,u,f,m,y,S,M){const B=[],K=[],se=[];s.cases.push(y),s.create.push(B),s.remove.push(K),s.update.push(se);const tt=hi(Zi()).getInertBodyElement(S),Ct=pf(tt)||tt;return Ct?xv(o,s,u,f,B,K,se,Ct,m,M,0):0}function xv(o,s,u,f,m,y,S,M,B,K,se){let Re=0,tt=M.firstChild;for(;tt;){const Ct=Bd(o,u,1,null);switch(tt.nodeType){case Node.ELEMENT_NODE:const Ht=tt,Dn=Ht.tagName.toLowerCase();if(Di.hasOwnProperty(Dn)){z0(m,H0,Dn,B,Ct),o.data[Ct]=Dn;const xr=Ht.attributes;for(let vi=0;vi<xr.length;vi++){const Yi=xr.item(vi),Ia=Yi.name.toLowerCase();Yi.value.match(A_)?Cd.hasOwnProperty(Ia)&&hp(S,Yi.value,Ct,Yi.name,0,hf[Ia]?Ri:Bu[Ia]?yl:null):hT(m,Ct,Yi)}Re=xv(o,s,u,f,m,y,S,tt,Ct,K,se+1)|Re,Iv(y,Ct,se)}break;case Node.TEXT_NODE:const Hn=tt.textContent||"",dr=Hn.match(A_);z0(m,null,dr?"":Hn,B,Ct),Iv(y,Ct,se),dr&&(Re=hp(S,Hn,Ct,null,0,null)|Re);break;case Node.COMMENT_NODE:const Qt=mc.exec(tt.textContent||"");if(Qt){const vi=K[parseInt(Qt[1],10)];z0(m,W0,"",B,Ct),Av(o,u,f,B,vi,Ct),lT(y,Ct,se)}}tt=tt.nextSibling}return Re}function Iv(o,s,u){0===u&&o.push(s)}function lT(o,s,u){0===u&&(o.push(~s),o.push(s))}function z0(o,s,u,f,m){null!==s&&o.push(s),o.push(u,m,function Bo(o,s,u){return o|s<<17|u<<1}(0,f,m))}function hT(o,s,u){o.push(s<<1|1,u.name,u.value)}function Ov(o,s,u=-1){const f=cr(),m=en(),y=20+o,S=si(f.consts,s),M=Vs();f.firstCreatePass&&function tT(o,s,u,f,m,y){const S=Vs(),M=[],B=[],K=[[]];m=function sT(o,s){if(function oT(o){return-1===o}(s))return Dv(o);{const u=o.indexOf(`:${s}\ufffd`)+2+s.toString().length,f=o.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Dv(o.substring(u,f))}}(m,y);const se=function eT(o){return o.replace(Xb," ")}(m).split(Qb);for(let Re=0;Re<se.length;Re++){let tt=se[Re];if(0==(1&Re)){const Ct=q0(tt);for(let Ht=0;Ht<Ct.length;Ht++){let Dn=Ct[Ht];if(0==(1&Ht)){const Hn=Dn;""!==Hn&&nT(o,S,K[0],M,B,u,Hn)}else{const Hn=Dn;if("object"!=typeof Hn)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Av(o,u,B,s,Hn,Ev(o,S,K[0],u,M,"",!0).index)}}}else{const Ct=47===tt.charCodeAt(0),Dn=(tt.charCodeAt(Ct?1:0),20+Number.parseInt(tt.substring(Ct?2:1)));if(Ct)K.shift(),Ys(Vs(),!1);else{const Hn=mv(o,K[0],Dn);K.unshift([]),Ys(Hn,!0)}}}o.data[f]={create:M,update:B}}(f,null===M?0:M.index,m,y,S,u);const B=f.data[y],se=Hp(f,M===m[6]?null:M,m);(function qb(o,s,u,f){const m=o[11];for(let y=0;y<s.length;y++){const S=s[y++],M=s[y],B=(S&Ko.COMMENT)===Ko.COMMENT,K=(S&Ko.APPEND_EAGERLY)===Ko.APPEND_EAGERLY,se=S>>>Ko.SHIFT;let Re=o[se];null===Re&&(Re=o[se]=B?m.createComment(M):Yl(m,M)),K&&null!==u&&Cl(m,u,Re,f,!1)}})(m,B.create,se,M&&8&M.type?m[M.index]:null),Qi(!0)}function Rv(o,s,u){Ov(o,s,u),function Nv(){Qi(!1)}()}function Qh(o){return function Wb(o){o&&(Kg|=1<<Math.min(Jg,31)),Jg++}(Us(en(),Ps(),o)),Qh}function x_(o){!function Zb(o,s,u){if(Jg>0){const f=o.data[u];yv(o,s,Array.isArray(f)?f:f.update,da()-Jg-1,Kg)}Kg=0,Jg=0}(cr(),en(),o+20)}function $0(o,s,u,f,m){if(o=fe(o),Array.isArray(o))for(let y=0;y<o.length;y++)$0(o[y],s,u,f,m);else{const y=cr(),S=en();let M=hc(o)?o:fe(o.provide),B=g0(o);const K=Ni(),se=1048575&K.providerIndexes,Re=K.directiveStart,tt=K.providerIndexes>>20;if(hc(o)||!o.multi){const Ct=new La(B,m,xl),Ht=J0(M,s,m?se:se+tt,Re);-1===Ht?(Ge(D(K,S),y,M),K0(y,o,s.length),s.push(M),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),u.push(Ct),S.push(Ct)):(u[Ht]=Ct,S[Ht]=Ct)}else{const Ct=J0(M,s,se+tt,Re),Ht=J0(M,s,se,se+tt),Dn=Ct>=0&&u[Ct],Hn=Ht>=0&&u[Ht];if(m&&!Hn||!m&&!Dn){Ge(D(K,S),y,M);const dr=function wT(o,s,u,f,m){const y=new La(o,u,xl);return y.multi=[],y.index=s,y.componentProviders=0,kv(y,m,f&&!u),y}(m?ET:ST,u.length,m,f,B);!m&&Hn&&(u[Ht].providerFactory=dr),K0(y,o,s.length,0),s.push(M),K.directiveStart++,K.directiveEnd++,m&&(K.providerIndexes+=1048576),u.push(dr),S.push(dr)}else K0(y,o,Ct>-1?Ct:Ht,kv(u[m?Ht:Ct],B,!m&&f));!m&&f&&Hn&&u[Ht].componentProviders++}}}function K0(o,s,u,f){const m=hc(s),y=function Tg(o){return!!o.useClass}(s);if(m||y){const B=(y?fe(s.useClass):s).prototype.ngOnDestroy;if(B){const K=o.destroyHooks||(o.destroyHooks=[]);if(!m&&s.multi){const se=K.indexOf(u);-1===se?K.push(u,[f,B]):K[se+1].push(f,B)}else K.push(u,B)}}}function kv(o,s,u){return u&&o.componentProviders++,o.multi.push(s)-1}function J0(o,s,u,f){for(let m=u;m<f;m++)if(s[m]===o)return m;return-1}function ST(o,s,u,f){return Y0(this.multi,[])}function ET(o,s,u,f){const m=this.multi;let y;if(this.providerFactory){const S=this.providerFactory.componentProviders,M=yi(u,u[1],this.providerFactory.index,f);y=M.slice(0,S),Y0(m,y);for(let B=S;B<M.length;B++)y.push(M[B])}else y=[],Y0(m,y);return y}function Y0(o,s){for(let u=0;u<o.length;u++)s.push((0,o[u])());return s}function Lv(o,s=[]){return u=>{u.providersResolver=(f,m)=>function CT(o,s,u){const f=cr();if(f.firstCreatePass){const m=gi(o);$0(u,f.data,f.blueprint,m,!0),$0(s,f.data,f.blueprint,m,!1)}}(f,m?m(o):o,s)}}class Fv{}class xT{resolveComponentFactory(s){throw function AT(o){const s=Error(`No component factory found for ${J(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let I_=(()=>{class o{}return o.NULL=new xT,o})();function IT(){return fp(Ni(),en())}function fp(o,s){return new Qg(zt(o,s))}let Qg=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=IT,o})();function PT(o){return o instanceof Qg?o.nativeElement:o}class Uv{}let MT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function NT(){const o=en(),u=Br(Ni().index,o);return function OT(o){return o[11]}($t(u)?u:o)}(),o})(),Gv=(()=>{class o{}return o.\u0275prov=$n({token:o,providedIn:"root",factory:()=>null}),o})();class Vv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const jv=new Vv("13.3.0"),Q0={};function P_(o,s,u,f,m=!1){for(;null!==u;){const y=s[u.index];if(null!==y&&f.push(V(y)),Tn(y))for(let M=10;M<y.length;M++){const B=y[M],K=B[1].firstChild;null!==K&&P_(B[1],B,K,f)}const S=u.type;if(8&S)P_(o,s,u.child,f);else if(32&S){const M=bl(u,s);let B;for(;B=M();)f.push(B)}else if(16&S){const M=qu(s,u);if(Array.isArray(M))f.push(...M);else{const B=Ea(s[16]);P_(B[1],B,M,f,!0)}}u=m?u.projectionNext:u.next}return f}class Xg{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return P_(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(Tn(s)){const u=s[8],f=u?u.indexOf(this):-1;f>-1&&(Wa(s,f),ya(u,f))}this._attachedToViewContainer=!1}eu(this._lView[1],this._lView)}onDestroy(s){Vd(this._lView[1],this._lView,null,s)}markForCheck(){du(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){fu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function u0(o,s,u){No(!0);try{fu(o,s,u)}finally{No(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Zu(o,s){uc(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Je(902,"");this._appRef=s}}class RT extends Xg{constructor(s){super(s),this._view=s}detectChanges(){Qu(this._view)}checkNoChanges(){!function Fh(o){No(!0);try{Qu(o)}finally{No(!1)}}(this._view)}get context(){return null}}class Hv extends I_{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=or(s);return new X0(u,this.ngModule)}}function Wv(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}class X0 extends Fv{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function Zp(o){return o.map(Pf).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Wv(this.componentDef.inputs)}get outputs(){return Wv(this.componentDef.outputs)}create(s,u,f,m){const y=(m=m||this.ngModule)?function LT(o,s){return{get:(u,f,m)=>{const y=o.get(u,Q0,m);return y!==Q0||f===Q0?y:s.get(u,f,m)}}}(s,m.injector):s,S=y.get(Uv,H),M=y.get(Gv,null),B=S.createRenderer(null,this.componentDef),K=this.componentDef.selectors[0][0]||"div",se=f?function n0(o,s,u){if(jr(o))return o.selectRootElement(s,u===ct.ShadowDom);let f="string"==typeof s?o.querySelector(s):s;return f.textContent="",f}(B,f,this.componentDef.encapsulation):os(S.createRenderer(null,this.componentDef),K,function kT(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(K)),Re=this.componentDef.onPush?576:528,tt=function wg(o,s){return{components:[],scheduler:o||Cm,clean:Zm,playerHandler:s||null,flags:0}}(),Ct=Ff(0,null,null,1,0,null,null,null,null,null),Ht=Ld(null,Ct,tt,Re,null,null,S,B,M,y);let Dn,Hn;Na(Ht);try{const dr=function Qm(o,s,u,f,m,y){const S=u[1];u[20]=o;const B=Fd(S,20,2,"#host",null),K=B.mergedAttrs=s.hostAttrs;null!==K&&(Zd(B,K,!0),null!==o&&(ic(m,o,K),null!==B.classes&&zu(m,o,B.classes),null!==B.styles&&El(m,o,B.styles)));const se=f.createRenderer(o,s),Re=Ld(u,Xp(s),null,s.onPush?64:16,u[20],B,f,se,y||null,null);return S.firstCreatePass&&(Ge(D(B,u),S,s.type),sg(S,B),Gm(B,u.length,1)),Wd(u,Re),u[20]=Re}(se,this.componentDef,Ht,S,B);if(se)if(f)ic(B,se,["ng-version",jv.full]);else{const{attrs:Qt,classes:xr}=function qp(o){const s=[],u=[];let f=1,m=2;for(;f<o.length;){let y=o[f];if("string"==typeof y)2===m?""!==y&&s.push(y,o[++f]):8===m&&u.push(y);else{if(!oa(m))break;m=y}f++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Qt&&ic(B,se,Qt),xr&&xr.length>0&&zu(B,se,xr.join(" "))}if(Hn=ii(Ct,20),void 0!==u){const Qt=Hn.projection=[];for(let xr=0;xr<this.ngContentSelectors.length;xr++){const vi=u[xr];Qt.push(null!=vi?Array.from(vi):null)}}Dn=function y0(o,s,u,f,m){const y=u[1],S=function s0(o,s,u){const f=Ni();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Vm(o,f,s,Bd(o,s,1,null),u));const m=yi(s,o,f.directiveStart,f);ms(m,s);const y=zt(f,s);return y&&ms(y,s),m}(y,u,s);if(f.components.push(S),o[8]=S,m&&m.forEach(B=>B(S,s)),s.contentQueries){const B=Ni();s.contentQueries(1,S,B.directiveStart)}const M=Ni();return!y.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ga(M.index),Um(u[1],M,0,M.directiveStart,M.directiveEnd,s),kh(s,S)),S}(dr,this.componentDef,Ht,tt,[Vh]),Nh(Ct,Ht,null)}finally{Xs()}return new BT(this.componentType,Dn,fp(Hn,Ht),Ht,Hn)}}class BT extends class DT{}{constructor(s,u,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new RT(m),this.componentType=s}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class pp{}class Zv{}const gp=new Map;class $v extends pp{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Hv(this);const f=In(s);this._bootstrapComponents=ja(f.bootstrap),this._r3Injector=yg(s,u,[{provide:pp,useValue:this},{provide:I_,useValue:this.componentFactoryResolver}],J(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=$a.THROW_IF_NOT_FOUND,f=Bn.Default){return s===$a||s===pp||s===Vf?this:this._r3Injector.get(s,u,f)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class e1 extends Zv{constructor(s){super(),this.moduleType=s,null!==In(s)&&function GT(o){const s=new Set;!function u(f){const m=In(f,!0),y=m.id;null!==y&&(function qv(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${J(s)} vs ${J(s.name)}`)}(y,gp.get(y),f),gp.set(y,f));const S=ja(m.imports);for(const M of S)s.has(M)||(s.add(M),u(M))}(o)}(s)}create(s){return new $v(this.moduleType,s)}}function t1(o,s,u){const f=Xo()+o,m=en();return m[f]===A?Ka(m,f,u?s.call(u):s()):function Jd(o,s){return o[s]}(m,f)}function Kv(o,s,u,f){return Xv(en(),Xo(),o,s,u,f)}function Jv(o,s,u,f,m){return ey(en(),Xo(),o,s,u,f,m)}function Yv(o,s,u,f,m,y){return function M_(o,s,u,f,m,y,S,M){const B=s+u;return function aa(o,s,u,f,m){const y=Nc(o,s,u,f);return Us(o,s+2,m)||y}(o,B,m,y,S)?Ka(o,B+3,M?f.call(M,m,y,S):f(m,y,S)):em(o,B+3)}(en(),Xo(),o,s,u,f,m,y)}function em(o,s){const u=o[s];return u===A?void 0:u}function Xv(o,s,u,f,m,y){const S=s+u;return Us(o,S,m)?Ka(o,S+1,y?f.call(y,m):f(m)):em(o,S+1)}function ey(o,s,u,f,m,y,S){const M=s+u;return Nc(o,M,m,y)?Ka(o,M+2,S?f.call(S,m,y):f(m,y)):em(o,M+2)}function ry(o,s){const u=cr();let f;const m=o+20;u.firstCreatePass?(f=function zT(o,s){if(s)for(let u=s.length-1;u>=0;u--){const f=s[u];if(o===f.name)return f}}(s,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,f.onDestroy)):f=u.data[m];const y=f.factory||(f.factory=W(f.type)),S=Qr(xl);try{const M=oc(!1),B=y();return oc(M),function Ai(o,s,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),s[u]=f}(u,en(),m,B),B}finally{Qr(S)}}function iy(o,s,u){const f=o+20,m=en(),y=Fr(m,f);return tm(m,f)?Xv(m,Xo(),s,y.transform,u,y):y.transform(u)}function oy(o,s,u,f){const m=o+20,y=en(),S=Fr(y,m);return tm(y,m)?ey(y,Xo(),s,S.transform,u,f,S):S.transform(u,f)}function tm(o,s){return o[1].data[s].pure}function r1(o){return s=>{setTimeout(o,void 0,s)}}const yu=class JT extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,f){var m,y,S;let M=s,B=u||(()=>null),K=f;if(s&&"object"==typeof s){const Re=s;M=null===(m=Re.next)||void 0===m?void 0:m.bind(Re),B=null===(y=Re.error)||void 0===y?void 0:y.bind(Re),K=null===(S=Re.complete)||void 0===S?void 0:S.bind(Re)}this.__isAsync&&(B=r1(B),M&&(M=r1(M)),K&&(K=r1(K)));const se=super.subscribe({next:M,error:B,complete:K});return s instanceof e.w0&&s.add(se),se}};function YT(){return this._results[ed()]()}class i1{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ed(),f=i1.prototype;f[u]||(f[u]=YT)}get changes(){return this._changes||(this._changes=new yu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const f=this;f.dirty=!1;const m=oo(s);(this._changesDetected=!function Gl(o,s,u){if(o.length!==s.length)return!1;for(let f=0;f<o.length;f++){let m=o[f],y=s[f];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let nm=(()=>{class o{}return o.__NG_ELEMENT_ID__=eC,o})();const QT=nm,XT=class extends QT{constructor(s,u,f){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(s){const u=this._declarationTContainer.tViews,f=Ld(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),Nh(u,f,s),new Xg(f)}};function eC(){return O_(Ni(),en())}function O_(o,s){return 4&o.type?new XT(s,o,fp(o,s)):null}let N_=(()=>{class o{}return o.__NG_ELEMENT_ID__=tC,o})();function tC(){return cy(Ni(),en())}const nC=N_,sy=class extends nC{constructor(s,u,f){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=f}get element(){return fp(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const s=ue(this._hostTNode,this._hostLView);if(Nn(s)){const u=Ii(s,this._hostLView),f=Pt(s);return new ds(u[1].data[f+8],u)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=ay(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,f){const m=s.createEmbeddedView(u||{});return this.insert(m,f),m}createComponent(s,u,f,m,y){const S=s&&!function jc(o){return"function"==typeof o}(s);let M;if(S)M=u;else{const Re=u||{};M=Re.index,f=Re.injector,m=Re.projectableNodes,y=Re.ngModuleRef}const B=S?s:new X0(or(s)),K=f||this.parentInjector;if(!y&&null==B.ngModule){const tt=(S?K:this.parentInjector).get(pp,null);tt&&(y=tt)}const se=B.create(K,m,void 0,y);return this.insert(se.hostView,M),se}insert(s,u){const f=s._lView,m=f[1];if(function oi(o){return Tn(o[3])}(f)){const se=this.indexOf(s);if(-1!==se)this.detach(se);else{const Re=f[3],tt=new sy(Re,Re[6],Re[3]);tt.detach(tt.indexOf(s))}}const y=this._adjustIndex(u),S=this._lContainer;!function Ql(o,s,u,f){const m=10+f,y=u.length;f>0&&(u[m-1][4]=s),f<y-10?(s[4]=u[m],fl(u,10+f,s)):(u.push(s),s[4]=null),s[3]=u;const S=s[17];null!==S&&u!==S&&function Xl(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(S,s);const M=s[19];null!==M&&M.insertView(o),s[2]|=128}(m,f,S,y);const M=Sl(y,S),B=f[11],K=Ic(B,S[7]);return null!==K&&function Eh(o,s,u,f,m,y){f[0]=m,f[6]=s,uc(o,f,u,1,m,y)}(m,S[6],B,f,K,M),s.attachToViewContainerRef(),fl(mp(S),y,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=ay(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),f=Wa(this._lContainer,u);f&&(ya(mp(this._lContainer),u),eu(f[1],f))}detach(s){const u=this._adjustIndex(s,-1),f=Wa(this._lContainer,u);return f&&null!=ya(mp(this._lContainer),u)?new Xg(f):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function ay(o){return o[8]}function mp(o){return o[8]||(o[8]=[])}function cy(o,s){let u;const f=s[o.index];if(Tn(f))u=f;else{let m;if(8&o.type)m=V(f);else{const y=s[11];m=y.createComment("");const S=zt(o,s);Cl(y,Ic(y,S),m,function Em(o,s){return jr(o)?o.nextSibling(s):s.nextSibling}(y,S),!1)}s[o.index]=u=Uf(f,s,m,o),Wd(s,u)}return new sy(u,o,s)}class o1{constructor(s){this.queryList=s,this.matches=null}clone(){return new o1(this.queryList)}setDirty(){this.queryList.setDirty()}}class s1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const f=null!==s.contentQueries?s.contentQueries[0]:u.length,m=[];for(let y=0;y<f;y++){const S=u.getByIndex(y);m.push(this.queries[S.indexInDeclarationView].clone())}return new s1(m)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==_y(s,u).matches&&this.queries[u].setDirty()}}class ly{constructor(s,u,f=null){this.predicate=s,this.flags=u,this.read=f}}class a1{constructor(s=[]){this.queries=s}elementStart(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(s,m);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new a1(u):null}template(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class c1{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new c1(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=s.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(s,u,oC(u,y)),this.matchTNodeWithReadOption(s,u,ei(u,s,y,!1,!1))}else f===nm?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,ei(u,s,f,!1,!1))}matchTNodeWithReadOption(s,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Qg||m===N_||m===nm&&4&u.type)this.addMatch(u.index,-2);else{const y=ei(u,s,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function oC(o,s){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===s)return u[f+1];return null}function aC(o,s,u,f){return-1===u?function sC(o,s){return 11&o.type?fp(o,s):4&o.type?O_(o,s):null}(s,o):-2===u?function cC(o,s,u){return u===Qg?fp(s,o):u===nm?O_(s,o):u===N_?cy(s,o):void 0}(o,s,f):yi(o,o[1],u,s)}function uy(o,s,u,f){const m=s[19].queries[f];if(null===m.matches){const y=o.data,S=u.matches,M=[];for(let B=0;B<S.length;B+=2){const K=S[B];M.push(K<0?null:aC(s,y[K],S[B+1],u.metadata.read))}m.matches=M}return m.matches}function l1(o,s,u,f){const m=o.queries.getByIndex(u),y=m.matches;if(null!==y){const S=uy(o,s,m,u);for(let M=0;M<y.length;M+=2){const B=y[M];if(B>0)f.push(S[M/2]);else{const K=y[M+1],se=s[-B];for(let Re=10;Re<se.length;Re++){const tt=se[Re];tt[17]===tt[3]&&l1(tt[1],tt,K,f)}if(null!==se[9]){const Re=se[9];for(let tt=0;tt<Re.length;tt++){const Ct=Re[tt];l1(Ct[1],Ct,K,f)}}}}}return f}function dy(o){const s=en(),u=cr(),f=Ll();js(f+1);const m=_y(u,f);if(o.dirty&&Or(s)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const y=m.crossesNgTemplate?l1(u,s,f,[]):uy(u,s,m,f);o.reset(y,PT),o.notifyOnChanges()}return!0}return!1}function hy(o,s,u){const f=cr();f.firstCreatePass&&(my(f,new ly(o,s,u),-1),2==(2&s)&&(f.staticViewQueries=!0)),gy(f,en(),s)}function fy(o,s,u,f){const m=cr();if(m.firstCreatePass){const y=Ni();my(m,new ly(s,u,f),y.index),function uC(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(m,o),2==(2&u)&&(m.staticContentQueries=!0)}gy(m,en(),u)}function py(){return function lC(o,s){return o[19].queries[s].queryList}(en(),Ll())}function gy(o,s,u){const f=new i1(4==(4&u));Vd(o,s,f,f.destroy),null===s[19]&&(s[19]=new s1),s[19].queries.push(new o1(f))}function my(o,s,u){null===o.queries&&(o.queries=new a1),o.queries.track(new c1(s,u))}function _y(o,s){return o.queries.getByIndex(s)}function vy(o,s){return O_(o,s)}function L_(...o){}const Ly=new $r("Application Initializer");let F_=(()=>{class o{constructor(u){this.appInits=u,this.resolve=L_,this.reject=L_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(ip(y))u.push(y);else if(M0(y)){const S=new Promise((M,B)=>{y.subscribe({complete:M,error:B})});u.push(S)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Mn(Ly,8))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Fy=new $r("AppId",{providedIn:"root",factory:function By(){return`${g1()}${g1()}${g1()}`}});function g1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Uy=new $r("Platform Initializer"),Gy=new $r("Platform ID"),Vy=new $r("appBootstrapListener");let jy=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();const m1=new $r("LocaleId",{providedIn:"root",factory:()=>fr(m1,Bn.Optional|Bn.SkipSelf)||function AC(){return"undefined"!=typeof $localize&&$localize.locale||j0}()}),xC=new $r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class IC{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let PC=(()=>{class o{compileModuleSync(u){return new e1(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=ja(In(u).declarations).reduce((S,M)=>{const B=or(M);return B&&S.push(new X0(B)),S},[]);return new IC(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const OC=(()=>Promise.resolve(0))();function _1(o){"undefined"==typeof Zone?OC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Rl{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yu(!1),this.onMicrotaskEmpty=new yu(!1),this.onStable=new yu(!1),this.onError=new yu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function NC(){let o=an.requestAnimationFrame,s=an.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function LC(o){const s=()=>{!function kC(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(an,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,y1(o),o.isCheckStableRunning=!0,v1(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),y1(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,y,S,M)=>{try{return Hy(o),u.invokeTask(m,y,S,M)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&s(),Wy(o)}},onInvoke:(u,f,m,y,S,M,B)=>{try{return Hy(o),u.invoke(m,y,S,M,B)}finally{o.shouldCoalesceRunChangeDetection&&s(),Wy(o)}},onHasTask:(u,f,m,y)=>{u.hasTask(m,y),f===m&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,y1(o),v1(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,m,y)=>(u.handleError(m,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Rl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Rl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,f){return this._inner.run(s,u,f)}runTask(s,u,f,m){const y=this._inner,S=y.scheduleEventTask("NgZoneEvent: "+m,s,RC,L_,L_);try{return y.runTask(S,u,f)}finally{y.cancelTask(S)}}runGuarded(s,u,f){return this._inner.runGuarded(s,u,f)}runOutsideAngular(s){return this._outer.run(s)}}const RC={};function v1(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function y1(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Hy(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Wy(o){o._nesting--,v1(o)}class FC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yu,this.onMicrotaskEmpty=new yu,this.onStable=new yu,this.onError=new yu}run(s,u,f){return s.apply(u,f)}runGuarded(s,u,f){return s.apply(u,f)}runOutsideAngular(s){return s()}runTask(s,u,f,m){return s.apply(u,f)}}let Zy=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Rl.assertNotInAngularZone(),_1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())_1(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,m){return[]}}return o.\u0275fac=function(u){return new(u||o)(Mn(Rl))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})(),BC=(()=>{class o{constructor(){this._applications=new Map,fi.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return fi.findTestabilityInTree(this,u,f)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();class sE{addToWindow(s){}findTestabilityInTree(s,u,f){return null}}function UC(o){fi=o}let _c,fi=new sE;const zy=new $r("AllowMultipleToken");class VC{constructor(s,u){this.name=s,this.token=u}}function $y(o,s,u=[]){const f=`Platform: ${s}`,m=new $r(f);return(y=[])=>{let S=Ky();if(!S||S.injector.get(zy,!1))if(o)o(u.concat(y).concat({provide:m,useValue:!0}));else{const M=u.concat(y).concat({provide:m,useValue:!0},{provide:_g,useValue:"platform"});!function jC(o){if(_c&&!_c.destroyed&&!_c.injector.get(zy,!1))throw new Je(400,"");_c=o.get(Jy);const s=o.get(Uy,null);s&&s.forEach(u=>u())}($a.create({providers:M,name:f}))}return function HC(o){const s=Ky();if(!s)throw new Je(401,"");return s}()}}function Ky(){return _c&&!_c.destroyed?_c:null}let Jy=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const M=function lE(o,s){let u;return u="noop"===o?new FC:("zone.js"===o?void 0:o)||new Rl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),B=[{provide:Rl,useValue:M}];return M.run(()=>{const K=$a.create({providers:B,parent:this.injector,name:u.moduleType.name}),se=u.create(K),Re=se.injector.get(Ca,null);if(!Re)throw new Je(402,"");return M.runOutsideAngular(()=>{const tt=M.onError.subscribe({next:Ct=>{Re.handleError(Ct)}});se.onDestroy(()=>{T1(this._modules,se),tt.unsubscribe()})}),function WC(o,s,u){try{const f=u();return ip(f)?f.catch(m=>{throw s.runOutsideAngular(()=>o.handleError(m)),m}):f}catch(f){throw s.runOutsideAngular(()=>o.handleError(f)),f}}(Re,M,()=>{const tt=se.injector.get(F_);return tt.runInitializers(),tt.donePromise.then(()=>(function DS(o){(function kt(o,s){null==o&&wt(s,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Ub=o.toLowerCase().replace(/_/g,"-"))}(se.injector.get(m1,j0)||j0),this._moduleDoBootstrap(se),se))})})}bootstrapModule(u,f=[]){const m=Yy({},f);return function qy(o,s,u){const f=new e1(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const f=u.injector.get(b1);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Je(403,"");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Mn($a))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();function Yy(o,s){return Array.isArray(s)?s.reduce(Yy,o):Object.assign(Object.assign({},o),s)}let b1=(()=>{class o{constructor(u,f,m,y,S){this._zone=u,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new T.y(K=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{K.next(this._stable),K.complete()})}),B=new T.y(K=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{Rl.assertNotInAngularZone(),_1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,K.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{Rl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{K.next(!1)}))});return()=>{se.unsubscribe(),Re.unsubscribe()}});this.isStable=(0,N.T)(M,B.pipe((0,O.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new Je(405,"");let m;m=u instanceof Fv?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const y=function GC(o){return o.isBoundToModule}(m)?void 0:this._injector.get(pp),M=m.create($a.NULL,[],f||m.selector,y),B=M.location.nativeElement,K=M.injector.get(Zy,null),se=K&&M.injector.get(BC);return K&&se&&se.registerApplication(B,K),M.onDestroy(()=>{this.detachView(M.hostView),T1(this.components,M),se&&se.unregisterApplication(B)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Je(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;T1(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(Vy,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Mn(Rl),Mn($a),Mn(Ca),Mn(I_),Mn(F_))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function T1(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}let eb=!1;function qC(){return eb=!0,true}let zC=(()=>{class o{}return o.__NG_ELEMENT_ID__=$C,o})();function $C(o){return function KC(o,s,u){if(Vr(o)&&!u){const f=Br(o.index,s);return new Xg(f,f)}return 47&o.type?new Xg(s[16],s):null}(Ni(),en(),16==(16&o))}class rb{constructor(){}supports(s){return td(s)}create(s){return new ib(s)}}const Xh=(o,s)=>s;class ib{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||Xh}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,f=this._removalsHead,m=0,y=null;for(;u||f;){const S=!f||u&&u.currentIndex<D1(f,m,y)?u:f,M=D1(S,m,y),B=S.currentIndex;if(S===f)m--,f=f._nextRemoved;else if(u=u._next,null==S.previousIndex)m++;else{y||(y=[]);const K=M-m,se=B-m;if(K!=se){for(let tt=0;tt<K;tt++){const Ct=tt<y.length?y[tt]:y[tt]=0,Ht=Ct+tt;se<=Ht&&Ht<K&&(y[tt]=Ct+1)}y[S.previousIndex]=se-K}}M!==B&&s(S,M,B)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!td(s))throw new Je(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let m,y,S,u=this._itHead,f=!1;if(Array.isArray(s)){this.length=s.length;for(let M=0;M<this.length;M++)y=s[M],S=this._trackByFn(M,y),null!==u&&Object.is(u.trackById,S)?(f&&(u=this._verifyReinsertion(u,y,S,M)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,S,M),f=!0),u=u._next}else m=0,function Al(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[ed()]();let f;for(;!(f=u.next()).done;)s(f.value)}}(s,M=>{S=this._trackByFn(m,M),null!==u&&Object.is(u.trackById,S)?(f&&(u=this._verifyReinsertion(u,M,S,m)),Object.is(u.item,M)||this._addIdentityChange(u,M)):(u=this._mismatch(u,M,S,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,f,m){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,y,m)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,y,m)):s=this._addAfter(new ob(u,f),y,m),s}_verifyReinsertion(s,u,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?s=this._reinsertAfter(y,s._prev,m):s.currentIndex!=m&&(s.currentIndex=m,this._addToMoves(s,m)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const m=s._prevRemoved,y=s._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(s,u,f),this._addToMoves(s,f),s}_moveAfter(s,u,f){return this._unlink(s),this._insertAfter(s,u,f),this._addToMoves(s,f),s}_addAfter(s,u,f){return this._insertAfter(s,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,f){const m=null===u?this._itHead:u._next;return s._next=m,s._prev=u,null===m?this._itTail=s:m._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new w1),this._linkedRecords.put(s),s.currentIndex=f,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,f=s._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new w1),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ob{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class tS{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,s))return f;return null}remove(s){const u=s._prevDup,f=s._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class w1{constructor(){this.map=new Map}put(s){const u=s.trackById;let f=this.map.get(u);f||(f=new tS,this.map.set(u,f)),f.add(s)}get(s,u){const m=this.map.get(s);return m?m.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function D1(o,s,u){const f=o.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+s+m}class nS{constructor(){}supports(s){return s instanceof Map||Ag(s)}create(){return new sb}}class sb{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||Ag(s)))throw new Je(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const f=s._prev;return u._next=s,u._prev=f,s._prev=u,f&&(f._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const m=this._records.get(s);this._maybeAddToChanges(m,u);const y=m._prev,S=m._next;return y&&(y._next=S),S&&(S._prev=y),m._next=null,m._prev=null,m}const f=new A1(s);return this._records.set(s,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(f=>u(s[f],f))}}class A1{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ab(){return new G_([new rb])}let G_=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||ab()),deps:[[o,new zi,new ws]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new Je(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:ab}),o})();function V_(){return new yp([new nS])}let yp=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||V_()),deps:[[o,new zi,new ws]]}}find(u){const f=this.factories.find(y=>y.supports(u));if(f)return f;throw new Je(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:V_}),o})();const x1=$y(null,"core",[{provide:Gy,useValue:"unknown"},{provide:Jy,deps:[$a]},{provide:BC,deps:[]},{provide:jy,deps:[]}]);let W_=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Mn(b1))},o.\u0275mod=Ke({type:o}),o.\u0275inj=br({}),o})()},3104:(pt,w,x)=>{"use strict";x.d(w,{gz:()=>zr,m2:()=>wr,F0:()=>fo,rH:()=>Ws,yS:()=>Zs,Bz:()=>ic,lC:()=>We});var p=x(5e3),e=x(8306),T=x(576);function N(k,P){const D=(0,T.m)(k)?k:()=>k,G=$=>$.error(D());return new e.y(P?$=>P.schedule(G,0,$):G)}var O=x(727),j=x(4482),Q=x(5403);function J(){return(0,j.e)((k,P)=>{let D=null;k._refCount++;const G=(0,Q.x)(P,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(D=null);const $=k._connection,ue=D;D=null,$&&(!ue||$===ue)&&$.unsubscribe(),P.unsubscribe()});k.subscribe(G),G.closed||(D=k.connect())})}class ne extends e.y{constructor(P,D){super(),this.source=P,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,j.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new O.w0;const D=this.getSubject();P.add(this.source.subscribe((0,Q.x)(D,void 0,()=>{this._teardown(),D.complete()},G=>{this._teardown(),D.error(G)},()=>this._teardown()))),P.closed&&(this._connection=null,P=O.w0.EMPTY)}return P}refCount(){return J()(this)}}var Y=x(8996),ie=x(9646),fe=x(1135),ut=x(9841),et=x(6805),Je=x(7272),vt=x(9770),_e=x(515),He=x(7579);function ke(k,P,D,G,$){return(ue,Ge)=>{let je=D,Rt=P,wn=0;ue.subscribe((0,Q.x)(Ge,Rn=>{const xt=wn++;Rt=je?k(Rt,Rn,xt):(je=!0,Rn),G&&Ge.next(Rt)},$&&(()=>{je&&Ge.next(Rt),Ge.complete()})))}}function _t(k,P){return(0,j.e)(ke(k,P,arguments.length>=2,!0))}var $e=x(8421);function Qe(k){return(0,j.e)((P,D)=>{let ue,G=null,$=!1;G=P.subscribe((0,Q.x)(D,void 0,void 0,Ge=>{ue=(0,$e.Xf)(k(Ge,Qe(k)(P))),G?(G.unsubscribe(),G=null,ue.subscribe(D)):$=!0})),$&&(G.unsubscribe(),G=null,ue.subscribe(D))})}var xe=x(9300);function nt(k){return k<=0?()=>_e.E:(0,j.e)((P,D)=>{let G=[];P.subscribe((0,Q.x)(D,$=>{G.push($),k<G.length&&G.shift()},()=>{for(const $ of G)D.next($);D.complete()},void 0,()=>{G=null}))})}var Ve=x(8068),ht=x(6590),ve=x(4671),ye=x(4004),Te=x(3900),Ce=x(5698),yt=x(8675),Mt=x(4351),mn=x(590),kt=x(5577),wt=x(8505),Wt=x(8189),bn=x(9808);class rr{constructor(P,D){this.id=P,this.url=D}}class $n extends rr{constructor(P,D,G="imperative",$=null){super(P,D),this.navigationTrigger=G,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class wr extends rr{constructor(P,D,G){super(P,D),this.urlAfterRedirects=G}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class br extends rr{constructor(P,D,G){super(P,D),this.reason=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vr extends rr{constructor(P,D,G){super(P,D),this.error=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ni extends rr{constructor(P,D,G,$){super(P,D),this.urlAfterRedirects=G,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends rr{constructor(P,D,G,$){super(P,D),this.urlAfterRedirects=G,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gr extends rr{constructor(P,D,G,$,ue){super(P,D),this.urlAfterRedirects=G,this.state=$,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Oi extends rr{constructor(P,D,G,$){super(P,D),this.urlAfterRedirects=G,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Si extends rr{constructor(P,D,G,$){super(P,D),this.urlAfterRedirects=G,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(P){this.route=P}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wr{constructor(P){this.route=P}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(P){this.snapshot=P}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(P){this.snapshot=P}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ji{constructor(P){this.snapshot=P}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(P){this.snapshot=P}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(P,D,G){this.routerEvent=P,this.position=D,this.anchor=G}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Be="primary";class gt{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const D=this.params[P];return Array.isArray(D)?D[0]:D}return null}getAll(P){if(this.has(P)){const D=this.params[P];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Ue(k){return new gt(k)}const ce="ngNavigationCancelingError";function be(k){const P=Error("NavigationCancelingError: "+k);return P[ce]=!0,P}function ct(k,P,D){const G=D.path.split("/");if(G.length>k.length||"full"===D.pathMatch&&(P.hasChildren()||G.length<k.length))return null;const $={};for(let ue=0;ue<G.length;ue++){const Ge=G[ue],je=k[ue];if(Ge.startsWith(":"))$[Ge.substring(1)]=je;else if(Ge!==je.path)return null}return{consumed:k.slice(0,G.length),posParams:$}}function Ot(k,P){const D=k?Object.keys(k):void 0,G=P?Object.keys(P):void 0;if(!D||!G||D.length!=G.length)return!1;let $;for(let ue=0;ue<D.length;ue++)if($=D[ue],!dn(k[$],P[$]))return!1;return!0}function dn(k,P){if(Array.isArray(k)&&Array.isArray(P)){if(k.length!==P.length)return!1;const D=[...k].sort(),G=[...P].sort();return D.every(($,ue)=>G[ue]===$)}return k===P}function Zt(k){return Array.prototype.concat.apply([],k)}function an(k){return k.length>0?k[k.length-1]:null}function fn(k,P){for(const D in k)k.hasOwnProperty(D)&&P(k[D],D)}function jn(k){return(0,p.CqO)(k)?k:(0,p.QGY)(k)?(0,Y.D)(Promise.resolve(k)):(0,ie.of)(k)}const er={exact:function tn(k,P,D){if(!qt(k.segments,P.segments)||!Me(k.segments,P.segments,D)||k.numberOfChildren!==P.numberOfChildren)return!1;for(const G in P.children)if(!k.children[G]||!tn(k.children[G],P.children[G],D))return!1;return!0},subset:Wn},kn={exact:function ft(k,P){return Ot(k,P)},subset:function yn(k,P){return Object.keys(P).length<=Object.keys(k).length&&Object.keys(P).every(D=>dn(k[D],P[D]))},ignored:()=>!0};function Bt(k,P,D){return er[D.paths](k.root,P.root,D.matrixParams)&&kn[D.queryParams](k.queryParams,P.queryParams)&&!("exact"===D.fragment&&k.fragment!==P.fragment)}function Wn(k,P,D){return Un(k,P,P.segments,D)}function Un(k,P,D,G){if(k.segments.length>D.length){const $=k.segments.slice(0,D.length);return!(!qt($,D)||P.hasChildren()||!Me($,D,G))}if(k.segments.length===D.length){if(!qt(k.segments,D)||!Me(k.segments,D,G))return!1;for(const $ in P.children)if(!k.children[$]||!Wn(k.children[$],P.children[$],G))return!1;return!0}{const $=D.slice(0,k.segments.length),ue=D.slice(k.segments.length);return!!(qt(k.segments,$)&&Me(k.segments,$,G)&&k.children[Be])&&Un(k.children[Be],P,ue,G)}}function Me(k,P,D){return P.every((G,$)=>kn[D](k[$].parameters,G.parameters))}class Ae{constructor(P,D,G){this.root=P,this.queryParams=D,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return or.serialize(this)}}class Se{constructor(P,D){this.segments=P,this.children=D,this.parent=null,fn(D,(G,$)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class lt{constructor(P,D){this.path=P,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Ue(this.parameters)),this._parameterMap}toString(){return gr(this)}}function qt(k,P){return k.length===P.length&&k.every((D,G)=>D.path===P[G].path)}class qn{}class ir{parse(P){const D=new tr(P);return new Ae(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(P){const D=`/${Cn(P.root,!0)}`,G=function sn(k){const P=Object.keys(k).map(D=>{const G=k[D];return Array.isArray(G)?G.map($=>`${Sn(D)}=${Sn($)}`).join("&"):`${Sn(D)}=${Sn(G)}`}).filter(D=>!!D);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${D}${G}${"string"==typeof P.fragment?`#${function Xe(k){return encodeURI(k)}(P.fragment)}`:""}`}}const or=new ir;function sr(k){return k.segments.map(P=>gr(P)).join("/")}function Cn(k,P){if(!k.hasChildren())return sr(k);if(P){const D=k.children[Be]?Cn(k.children[Be],!1):"",G=[];return fn(k.children,($,ue)=>{ue!==Be&&G.push(`${ue}:${Cn($,!1)}`)}),G.length>0?`${D}(${G.join("//")})`:D}{const D=function Zn(k,P){let D=[];return fn(k.children,(G,$)=>{$===Be&&(D=D.concat(P(G,$)))}),fn(k.children,(G,$)=>{$!==Be&&(D=D.concat(P(G,$)))}),D}(k,(G,$)=>$===Be?[Cn(k.children[Be],!1)]:[`${$}:${Cn(G,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[Be]?`${sr(k)}/${D[0]}`:`${sr(k)}/(${D.join("//")})`}}function In(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(k){return In(k).replace(/%3B/gi,";")}function St(k){return In(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cn(k){return decodeURIComponent(k)}function Qn(k){return cn(k.replace(/\+/g,"%20"))}function gr(k){return`${St(k.path)}${function Yt(k){return Object.keys(k).map(P=>`;${St(P)}=${St(k[P])}`).join("")}(k.parameters)}`}const rt=/^[^\/()?;=#]+/;function Lt(k){const P=k.match(rt);return P?P[0]:""}const gn=/^[^=?&#]+/,_n=/^[^&#]+/;class tr{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Se([],{}):new Se([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(P.length>0||Object.keys(D).length>0)&&(G[Be]=new Se(P,D)),G}parseSegment(){const P=Lt(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(P),new lt(cn(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const D=Lt(this.remaining);if(!D)return;this.capture(D);let G="";if(this.consumeOptional("=")){const $=Lt(this.remaining);$&&(G=$,this.capture(G))}P[cn(D)]=cn(G)}parseQueryParam(P){const D=function An(k){const P=k.match(gn);return P?P[0]:""}(this.remaining);if(!D)return;this.capture(D);let G="";if(this.consumeOptional("=")){const Ge=function On(k){const P=k.match(_n);return P?P[0]:""}(this.remaining);Ge&&(G=Ge,this.capture(G))}const $=Qn(D),ue=Qn(G);if(P.hasOwnProperty($)){let Ge=P[$];Array.isArray(Ge)||(Ge=[Ge],P[$]=Ge),Ge.push(ue)}else P[$]=ue}parseParens(P){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Lt(this.remaining),$=this.remaining[G.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let ue;G.indexOf(":")>-1?(ue=G.substr(0,G.indexOf(":")),this.capture(ue),this.capture(":")):P&&(ue=Be);const Ge=this.parseChildren();D[ue]=1===Object.keys(Ge).length?Ge[Be]:new Se([],Ge),this.consumeOptional("//")}return D}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new Error(`Expected "${P}".`)}}class pn{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const D=this.pathFromRoot(P);return D.length>1?D[D.length-2]:null}children(P){const D=Gn(P,this._root);return D?D.children.map(G=>G.value):[]}firstChild(P){const D=Gn(P,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(P){const D=Pr(P,this._root);return D.length<2?[]:D[D.length-2].children.map($=>$.value).filter($=>$!==P)}pathFromRoot(P){return Pr(P,this._root).map(D=>D.value)}}function Gn(k,P){if(k===P.value)return P;for(const D of P.children){const G=Gn(k,D);if(G)return G}return null}function Pr(k,P){if(k===P.value)return[P];for(const D of P.children){const G=Pr(k,D);if(G.length)return G.unshift(P),G}return[]}class Xn{constructor(P,D){this.value=P,this.children=D}toString(){return`TreeNode(${this.value})`}}function Lr(k){const P={};return k&&k.children.forEach(D=>P[D.value.outlet]=D),P}class Ei extends pn{constructor(P,D){super(P),this.snapshot=D,Tt(this,P)}toString(){return this.snapshot.toString()}}function to(k,P){const D=function Hi(k,P){const Ge=new st([],{},{},"",{},Be,P,null,k.root,-1,{});return new ze("",new Xn(Ge,[]))}(k,P),G=new fe.X([new lt("",{})]),$=new fe.X({}),ue=new fe.X({}),Ge=new fe.X({}),je=new fe.X(""),Rt=new zr(G,$,Ge,je,ue,Be,P,D.root);return Rt.snapshot=D.root,new Ei(new Xn(Rt,[]),D)}class zr{constructor(P,D,G,$,ue,Ge,je,Rt){this.url=P,this.params=D,this.queryParams=G,this.fragment=$,this.data=ue,this.outlet=Ge,this.component=je,this._futureSnapshot=Rt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ye.U)(P=>Ue(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ye.U)(P=>Ue(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Wi(k,P="emptyOnly"){const D=k.pathFromRoot;let G=0;if("always"!==P)for(G=D.length-1;G>=1;){const $=D[G],ue=D[G-1];if($.routeConfig&&""===$.routeConfig.path)G--;else{if(ue.component)break;G--}}return function Jr(k){return k.reduce((P,D)=>({params:Object.assign(Object.assign({},P.params),D.params),data:Object.assign(Object.assign({},P.data),D.data),resolve:Object.assign(Object.assign({},P.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(G))}class st{constructor(P,D,G,$,ue,Ge,je,Rt,wn,Rn,xt){this.url=P,this.params=D,this.queryParams=G,this.fragment=$,this.data=ue,this.outlet=Ge,this.component=je,this.routeConfig=Rt,this._urlSegment=wn,this._lastPathIndex=Rn,this._resolve=xt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ue(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ue(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ze extends pn{constructor(P,D){super(D),this.url=P,Tt(this,D)}toString(){return Vt(this._root)}}function Tt(k,P){P.value._routerState=k,P.children.forEach(D=>Tt(k,D))}function Vt(k){const P=k.children.length>0?` { ${k.children.map(Vt).join(", ")} } `:"";return`${k.value}${P}`}function $t(k){if(k.snapshot){const P=k.snapshot,D=k._futureSnapshot;k.snapshot=D,Ot(P.queryParams,D.queryParams)||k.queryParams.next(D.queryParams),P.fragment!==D.fragment&&k.fragment.next(D.fragment),Ot(P.params,D.params)||k.params.next(D.params),function bt(k,P){if(k.length!==P.length)return!1;for(let D=0;D<k.length;++D)if(!Ot(k[D],P[D]))return!1;return!0}(P.url,D.url)||k.url.next(D.url),Ot(P.data,D.data)||k.data.next(D.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function Tn(k,P){const D=Ot(k.params,P.params)&&function Ke(k,P){return qt(k,P)&&k.every((D,G)=>Ot(D.parameters,P[G].parameters))}(k.url,P.url);return D&&!(!k.parent!=!P.parent)&&(!k.parent||Tn(k.parent,P.parent))}function Vr(k,P,D){if(D&&k.shouldReuseRoute(P.value,D.value.snapshot)){const G=D.value;G._futureSnapshot=P.value;const $=function Ir(k,P,D){return P.children.map(G=>{for(const $ of D.children)if(k.shouldReuseRoute(G.value,$.value.snapshot))return Vr(k,G,$);return Vr(k,G)})}(k,P,D);return new Xn(G,$)}{if(k.shouldAttach(P.value)){const ue=k.retrieve(P.value);if(null!==ue){const Ge=ue.route;return Ge.value._futureSnapshot=P.value,Ge.children=P.children.map(je=>Vr(k,je)),Ge}}const G=function gi(k){return new zr(new fe.X(k.url),new fe.X(k.params),new fe.X(k.queryParams),new fe.X(k.fragment),new fe.X(k.data),k.outlet,k.component,k)}(P.value),$=P.children.map(ue=>Vr(k,ue));return new Xn(G,$)}}function Ui(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function To(k){return"object"==typeof k&&null!=k&&k.outlets}function Li(k,P,D,G,$){let ue={};if(G&&fn(G,(je,Rt)=>{ue[Rt]=Array.isArray(je)?je.map(wn=>`${wn}`):`${je}`}),k===P)return new Ae(D,ue,$);const Ge=Ts(k,P,D);return new Ae(Ge,ue,$)}function Ts(k,P,D){const G={};return fn(k.children,($,ue)=>{G[ue]=$===P?D:Ts($,P,D)}),new Se(k.segments,G)}class ss{constructor(P,D,G){if(this.isAbsolute=P,this.numberOfDoubleDots=D,this.commands=G,P&&G.length>0&&Ui(G[0]))throw new Error("Root segment cannot have matrix parameters");const $=G.find(To);if($&&$!==an(G))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Yo{constructor(P,D,G){this.segmentGroup=P,this.processChildren=D,this.index=G}}function Gi(k,P,D){if(k||(k=new Se([],{})),0===k.segments.length&&k.hasChildren())return Co(k,P,D);const G=function xs(k,P,D){let G=0,$=P;const ue={match:!1,pathIndex:0,commandIndex:0};for(;$<k.segments.length;){if(G>=D.length)return ue;const Ge=k.segments[$],je=D[G];if(To(je))break;const Rt=`${je}`,wn=G<D.length-1?D[G+1]:null;if($>0&&void 0===Rt)break;if(Rt&&wn&&"object"==typeof wn&&void 0===wn.outlets){if(!cs(Rt,wn,Ge))return ue;G+=2}else{if(!cs(Rt,{},Ge))return ue;G++}$++}return{match:!0,pathIndex:$,commandIndex:G}}(k,P,D),$=D.slice(G.commandIndex);if(G.match&&G.pathIndex<k.segments.length){const ue=new Se(k.segments.slice(0,G.pathIndex),{});return ue.children[Be]=new Se(k.segments.slice(G.pathIndex),k.children),Co(ue,0,$)}return G.match&&0===$.length?new Se(k.segments,{}):G.match&&!k.hasChildren()?Qo(k,P,D):G.match?Co(k,0,$):Qo(k,P,D)}function Co(k,P,D){if(0===D.length)return new Se(k.segments,{});{const G=function ro(k){return To(k[0])?k[0].outlets:{[Be]:k}}(D),$={};return fn(G,(ue,Ge)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&($[Ge]=Gi(k.children[Ge],P,ue))}),fn(k.children,(ue,Ge)=>{void 0===G[Ge]&&($[Ge]=ue)}),new Se(k.segments,$)}}function Qo(k,P,D){const G=k.segments.slice(0,P);let $=0;for(;$<D.length;){const ue=D[$];if(To(ue)){const Rt=wi(ue.outlets);return new Se(G,Rt)}if(0===$&&Ui(D[0])){G.push(new lt(k.segments[P].path,mo(D[0]))),$++;continue}const Ge=To(ue)?ue.outlets[Be]:`${ue}`,je=$<D.length-1?D[$+1]:null;Ge&&je&&Ui(je)?(G.push(new lt(Ge,mo(je))),$+=2):(G.push(new lt(Ge,{})),$++)}return new Se(G,{})}function wi(k){const P={};return fn(k,(D,G)=>{"string"==typeof D&&(D=[D]),null!==D&&(P[G]=Qo(new Se([],{}),0,D))}),P}function mo(k){const P={};return fn(k,(D,G)=>P[G]=`${D}`),P}function cs(k,P,D){return k==D.path&&Ot(P,D.parameters)}class Ee{constructor(P,D,G,$){this.routeReuseStrategy=P,this.futureState=D,this.currState=G,this.forwardEvent=$}activate(P){const D=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,G,P),$t(this.futureState.root),this.activateChildRoutes(D,G,P)}deactivateChildRoutes(P,D,G){const $=Lr(D);P.children.forEach(ue=>{const Ge=ue.value.outlet;this.deactivateRoutes(ue,$[Ge],G),delete $[Ge]}),fn($,(ue,Ge)=>{this.deactivateRouteAndItsChildren(ue,G)})}deactivateRoutes(P,D,G){const $=P.value,ue=D?D.value:null;if($===ue)if($.component){const Ge=G.getContext($.outlet);Ge&&this.deactivateChildRoutes(P,D,Ge.children)}else this.deactivateChildRoutes(P,D,G);else ue&&this.deactivateRouteAndItsChildren(D,G)}deactivateRouteAndItsChildren(P,D){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,D):this.deactivateRouteAndOutlet(P,D)}detachAndStoreRouteSubtree(P,D){const G=D.getContext(P.value.outlet),$=G&&P.value.component?G.children:D,ue=Lr(P);for(const Ge of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ge],$);if(G&&G.outlet){const Ge=G.outlet.detach(),je=G.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Ge,route:P,contexts:je})}}deactivateRouteAndOutlet(P,D){const G=D.getContext(P.value.outlet),$=G&&P.value.component?G.children:D,ue=Lr(P);for(const Ge of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ge],$);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(P,D,G){const $=Lr(D);P.children.forEach(ue=>{this.activateRoutes(ue,$[ue.value.outlet],G),this.forwardEvent(new ri(ue.value.snapshot))}),P.children.length&&this.forwardEvent(new Bn(P.value.snapshot))}activateRoutes(P,D,G){const $=P.value,ue=D?D.value:null;if($t($),$===ue)if($.component){const Ge=G.getOrCreateContext($.outlet);this.activateChildRoutes(P,D,Ge.children)}else this.activateChildRoutes(P,D,G);else if($.component){const Ge=G.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const je=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ge.children.onOutletReAttached(je.contexts),Ge.attachRef=je.componentRef,Ge.route=je.route.value,Ge.outlet&&Ge.outlet.attach(je.componentRef,je.route.value),$t(je.route.value),this.activateChildRoutes(P,null,Ge.children)}else{const je=function Oe(k){for(let P=k.parent;P;P=P.parent){const D=P.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}($.snapshot),Rt=je?je.module.componentFactoryResolver:null;Ge.attachRef=null,Ge.route=$,Ge.resolver=Rt,Ge.outlet&&Ge.outlet.activateWith($,Rt),this.activateChildRoutes(P,null,Ge.children)}}else this.activateChildRoutes(P,null,G)}}class he{constructor(P,D){this.routes=P,this.module=D}}function R(k){return"function"==typeof k}function z(k){return k instanceof Ae}const Fe=Symbol("INITIAL_VALUE");function dt(){return(0,Te.w)(k=>(0,ut.a)(k.map(P=>P.pipe((0,Ce.q)(1),(0,yt.O)(Fe)))).pipe(_t((P,D)=>{let G=!1;return D.reduce(($,ue,Ge)=>$!==Fe?$:(ue===Fe&&(G=!0),G||!1!==ue&&Ge!==D.length-1&&!z(ue)?$:ue),P)},Fe),(0,xe.h)(P=>P!==Fe),(0,ye.U)(P=>z(P)?P:!0===P),(0,Ce.q)(1)))}class oe{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pe,this.attachRef=null}}class Pe{constructor(){this.contexts=new Map}onChildOutletCreated(P,D){const G=this.getOrCreateContext(P);G.outlet=D,this.contexts.set(P,G)}onChildOutletDestroyed(P){const D=this.getContext(P);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let D=this.getContext(P);return D||(D=new oe,this.contexts.set(P,D)),D}getContext(P){return this.contexts.get(P)||null}}let We=(()=>{class k{constructor(D,G,$,ue,Ge){this.parentContexts=D,this.location=G,this.resolver=$,this.changeDetector=Ge,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=ue||Be,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,G){this.activated=D,this._activatedRoute=G,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Ge=(G=G||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),je=this.parentContexts.getOrCreateContext(this.name).children,Rt=new Et(D,je,this.location.injector);this.activated=this.location.createComponent(Ge,this.location.length,Rt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(Pe),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},k.\u0275dir=p.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class Et{constructor(P,D,G){this.route=P,this.childContexts=D,this.parent=G}get(P,D){return P===zr?this.route:P===Pe?this.childContexts:this.parent.get(P,D)}}let hn=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275cmp=p.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,G){1&D&&p._UZ(0,"router-outlet")},directives:[We],encapsulation:2}),k})();function xn(k,P=""){for(let D=0;D<k.length;D++){const G=k[D];Pn(G,Fn(P,G))}}function Pn(k,P){k.children&&xn(k.children,P)}function Fn(k,P){return P?k||P.path?k&&!P.path?`${k}/`:!k&&P.path?P.path:`${k}/${P.path}`:"":k}function ur(k){const P=k.children&&k.children.map(ur),D=P?Object.assign(Object.assign({},k),{children:P}):Object.assign({},k);return!D.component&&(P||D.loadChildren)&&D.outlet&&D.outlet!==Be&&(D.component=hn),D}function Mr(k){return k.outlet||Be}function Xr(k,P){const D=k.filter(G=>Mr(G)===P);return D.push(...k.filter(G=>Mr(G)!==P)),D}const Zi={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Uo(k,P,D){var G;if(""===P.path)return"full"===P.pathMatch&&(k.hasChildren()||D.length>0)?Object.assign({},Zi):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const ue=(P.matcher||ct)(D,k,P);if(!ue)return Object.assign({},Zi);const Ge={};fn(ue.posParams,(Rt,wn)=>{Ge[wn]=Rt.path});const je=ue.consumed.length>0?Object.assign(Object.assign({},Ge),ue.consumed[ue.consumed.length-1].parameters):Ge;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:D.slice(ue.consumed.length),parameters:je,positionalParamSegments:null!==(G=ue.posParams)&&void 0!==G?G:{}}}function jr(k,P,D,G,$="corrected"){if(D.length>0&&function V(k,P,D){return D.some(G=>Ye(k,P,G)&&Mr(G)!==Be)}(k,D,G)){const Ge=new Se(P,function le(k,P,D,G){const $={};$[Be]=G,G._sourceSegment=k,G._segmentIndexShift=P.length;for(const ue of D)if(""===ue.path&&Mr(ue)!==Be){const Ge=new Se([],{});Ge._sourceSegment=k,Ge._segmentIndexShift=P.length,$[Mr(ue)]=Ge}return $}(k,P,G,new Se(D,k.children)));return Ge._sourceSegment=k,Ge._segmentIndexShift=P.length,{segmentGroup:Ge,slicedSegments:[]}}if(0===D.length&&function pe(k,P,D){return D.some(G=>Ye(k,P,G))}(k,D,G)){const Ge=new Se(k.segments,function H(k,P,D,G,$,ue){const Ge={};for(const je of G)if(Ye(k,D,je)&&!$[Mr(je)]){const Rt=new Se([],{});Rt._sourceSegment=k,Rt._segmentIndexShift="legacy"===ue?k.segments.length:P.length,Ge[Mr(je)]=Rt}return Object.assign(Object.assign({},$),Ge)}(k,P,D,G,k.children,$));return Ge._sourceSegment=k,Ge._segmentIndexShift=P.length,{segmentGroup:Ge,slicedSegments:D}}const ue=new Se(k.segments,k.children);return ue._sourceSegment=k,ue._segmentIndexShift=P.length,{segmentGroup:ue,slicedSegments:D}}function Ye(k,P,D){return(!(k.hasChildren()||P.length>0)||"full"!==D.pathMatch)&&""===D.path}function Nt(k,P,D,G){return!!(Mr(k)===G||G!==Be&&Ye(P,D,k))&&("**"===k.path||Uo(P,k,D).matched)}function zt(k,P,D){return 0===P.length&&!k.children[D]}class En{constructor(P){this.segmentGroup=P||null}}class ii{constructor(P){this.urlTree=P}}function Fr(k){return N(new En(k))}function Br(k){return N(new ii(k))}class si{constructor(P,D,G,$,ue){this.configLoader=D,this.urlSerializer=G,this.urlTree=$,this.config=ue,this.allowRedirects=!0,this.ngModule=P.get(p.h0i)}apply(){const P=jr(this.urlTree.root,[],[],this.config).segmentGroup,D=new Se(P.segments,P.children);return this.expandSegmentGroup(this.ngModule,this.config,D,Be).pipe((0,ye.U)(ue=>this.createUrlTree(Go(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Qe(ue=>{if(ue instanceof ii)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof En?this.noMatchError(ue):ue}))}match(P){return this.expandSegmentGroup(this.ngModule,this.config,P.root,Be).pipe((0,ye.U)($=>this.createUrlTree(Go($),P.queryParams,P.fragment))).pipe(Qe($=>{throw $ instanceof En?this.noMatchError($):$}))}noMatchError(P){return new Error(`Cannot match any routes. URL Segment: '${P.segmentGroup}'`)}createUrlTree(P,D,G){const $=P.segments.length>0?new Se([],{[Be]:P}):P;return new Ae($,D,G)}expandSegmentGroup(P,D,G,$){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(P,D,G).pipe((0,ye.U)(ue=>new Se([],ue))):this.expandSegment(P,G,D,G.segments,$,!0)}expandChildren(P,D,G){const $=[];for(const ue of Object.keys(G.children))"primary"===ue?$.unshift(ue):$.push(ue);return(0,Y.D)($).pipe((0,Mt.b)(ue=>{const Ge=G.children[ue],je=Xr(D,ue);return this.expandSegmentGroup(P,je,Ge,ue).pipe((0,ye.U)(Rt=>({segment:Rt,outlet:ue})))}),_t((ue,Ge)=>(ue[Ge.outlet]=Ge.segment,ue),{}),function me(k,P){const D=arguments.length>=2;return G=>G.pipe(k?(0,xe.h)(($,ue)=>k($,ue,G)):ve.y,nt(1),D?(0,ht.d)(P):(0,Ve.T)(()=>new et.K))}())}expandSegment(P,D,G,$,ue,Ge){return(0,Y.D)(G).pipe((0,Mt.b)(je=>this.expandSegmentAgainstRoute(P,D,G,je,$,ue,Ge).pipe(Qe(wn=>{if(wn instanceof En)return(0,ie.of)(null);throw wn}))),(0,mn.P)(je=>!!je),Qe((je,Rt)=>{if(je instanceof et.K||"EmptyError"===je.name)return zt(D,$,ue)?(0,ie.of)(new Se([],{})):Fr(D);throw je}))}expandSegmentAgainstRoute(P,D,G,$,ue,Ge,je){return Nt($,D,ue,Ge)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(P,D,$,ue,Ge):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,D,G,$,ue,Ge):Fr(D):Fr(D)}expandSegmentAgainstRouteUsingRedirect(P,D,G,$,ue,Ge){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,G,$,Ge):this.expandRegularSegmentAgainstRouteUsingRedirect(P,D,G,$,ue,Ge)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,D,G,$){const ue=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?Br(ue):this.lineralizeSegments(G,ue).pipe((0,kt.z)(Ge=>{const je=new Se(Ge,{});return this.expandSegment(P,je,D,Ge,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,D,G,$,ue,Ge){const{matched:je,consumedSegments:Rt,remainingSegments:wn,positionalParamSegments:Rn}=Uo(D,$,ue);if(!je)return Fr(D);const xt=this.applyRedirectCommands(Rt,$.redirectTo,Rn);return $.redirectTo.startsWith("/")?Br(xt):this.lineralizeSegments($,xt).pipe((0,kt.z)(Nr=>this.expandSegment(P,D,G,Nr.concat(wn),Ge,!1)))}matchSegmentAgainstRoute(P,D,G,$,ue){if("**"===G.path)return G.loadChildren?(G._loadedConfig?(0,ie.of)(G._loadedConfig):this.configLoader.load(P.injector,G)).pipe((0,ye.U)(xt=>(G._loadedConfig=xt,new Se($,{})))):(0,ie.of)(new Se($,{}));const{matched:Ge,consumedSegments:je,remainingSegments:Rt}=Uo(D,G,$);return Ge?this.getChildConfig(P,G,$).pipe((0,kt.z)(Rn=>{const xt=Rn.module,Nr=Rn.routes,{segmentGroup:Sr,slicedSegments:ei}=jr(D,je,Rt,Nr),yi=new Se(Sr.segments,Sr.children);if(0===ei.length&&yi.hasChildren())return this.expandChildren(xt,Nr,yi).pipe((0,ye.U)(ds=>new Se(je,ds)));if(0===Nr.length&&0===ei.length)return(0,ie.of)(new Se(je,{}));const lr=Mr(G)===ue;return this.expandSegment(xt,yi,Nr,ei,lr?Be:ue,!0).pipe((0,ye.U)(qi=>new Se(je.concat(qi.segments),qi.children)))})):Fr(D)}getChildConfig(P,D,G){return D.children?(0,ie.of)(new he(D.children,P)):D.loadChildren?void 0!==D._loadedConfig?(0,ie.of)(D._loadedConfig):this.runCanLoadGuards(P.injector,D,G).pipe((0,kt.z)($=>$?this.configLoader.load(P.injector,D).pipe((0,ye.U)(ue=>(D._loadedConfig=ue,ue))):function xi(k){return N(be(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))}(D))):(0,ie.of)(new he([],P))}runCanLoadGuards(P,D,G){const $=D.canLoad;if(!$||0===$.length)return(0,ie.of)(!0);const ue=$.map(Ge=>{const je=P.get(Ge);let Rt;if(function ee(k){return k&&R(k.canLoad)}(je))Rt=je.canLoad(D,G);else{if(!R(je))throw new Error("Invalid CanLoad guard");Rt=je(D,G)}return jn(Rt)});return(0,ie.of)(ue).pipe(dt(),(0,wt.b)(Ge=>{if(!z(Ge))return;const je=be(`Redirecting to "${this.urlSerializer.serialize(Ge)}"`);throw je.url=Ge,je}),(0,ye.U)(Ge=>!0===Ge))}lineralizeSegments(P,D){let G=[],$=D.root;for(;;){if(G=G.concat($.segments),0===$.numberOfChildren)return(0,ie.of)(G);if($.numberOfChildren>1||!$.children[Be])return N(new Error(`Only absolute redirects can have named outlets. redirectTo: '${P.redirectTo}'`));$=$.children[Be]}}applyRedirectCommands(P,D,G){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),P,G)}applyRedirectCreatreUrlTree(P,D,G,$){const ue=this.createSegmentGroup(P,D.root,G,$);return new Ae(ue,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(P,D){const G={};return fn(P,($,ue)=>{if("string"==typeof $&&$.startsWith(":")){const je=$.substring(1);G[ue]=D[je]}else G[ue]=$}),G}createSegmentGroup(P,D,G,$){const ue=this.createSegments(P,D.segments,G,$);let Ge={};return fn(D.children,(je,Rt)=>{Ge[Rt]=this.createSegmentGroup(P,je,G,$)}),new Se(ue,Ge)}createSegments(P,D,G,$){return D.map(ue=>ue.path.startsWith(":")?this.findPosParam(P,ue,$):this.findOrReturn(ue,G))}findPosParam(P,D,G){const $=G[D.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${P}'. Cannot find '${D.path}'.`);return $}findOrReturn(P,D){let G=0;for(const $ of D){if($.path===P.path)return D.splice(G),$;G++}return P}}function Go(k){const P={};for(const G of Object.keys(k.children)){const ue=Go(k.children[G]);(ue.segments.length>0||ue.hasChildren())&&(P[G]=ue)}return function Oo(k){if(1===k.numberOfChildren&&k.children[Be]){const P=k.children[Be];return new Se(k.segments.concat(P.segments),P.children)}return k}(new Se(k.segments,P))}class Is{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class Vo{constructor(P,D){this.component=P,this.route=D}}function ls(k,P,D){const G=k._root;return us(G,P?P._root:null,D,[G.value])}function Ss(k,P,D){const G=function Xa(k){if(!k)return null;for(let P=k.parent;P;P=P.parent){const D=P.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(P);return(G?G.module.injector:D).get(k)}function us(k,P,D,G,$={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Lr(P);return k.children.forEach(Ge=>{(function en(k,P,D,G,$={canDeactivateChecks:[],canActivateChecks:[]}){const ue=k.value,Ge=P?P.value:null,je=D?D.getContext(k.value.outlet):null;if(Ge&&ue.routeConfig===Ge.routeConfig){const Rt=function cr(k,P,D){if("function"==typeof D)return D(k,P);switch(D){case"pathParamsChange":return!qt(k.url,P.url);case"pathParamsOrQueryParamsChange":return!qt(k.url,P.url)||!Ot(k.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Tn(k,P)||!Ot(k.queryParams,P.queryParams);default:return!Tn(k,P)}}(Ge,ue,ue.routeConfig.runGuardsAndResolvers);Rt?$.canActivateChecks.push(new Is(G)):(ue.data=Ge.data,ue._resolvedData=Ge._resolvedData),us(k,P,ue.component?je?je.children:null:D,G,$),Rt&&je&&je.outlet&&je.outlet.isActivated&&$.canDeactivateChecks.push(new Vo(je.outlet.component,Ge))}else Ge&&Pa(P,je,$),$.canActivateChecks.push(new Is(G)),us(k,null,ue.component?je?je.children:null:D,G,$)})(Ge,ue[Ge.value.outlet],D,G.concat([Ge.value]),$),delete ue[Ge.value.outlet]}),fn(ue,(Ge,je)=>Pa(Ge,D.getContext(je),$)),$}function Pa(k,P,D){const G=Lr(k),$=k.value;fn(G,(ue,Ge)=>{Pa(ue,$.component?P?P.children.getContext(Ge):null:P,D)}),D.canDeactivateChecks.push(new Vo($.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,$))}class sl{}function No(k){return new e.y(P=>P.error(k))}class da{constructor(P,D,G,$,ue,Ge){this.rootComponentType=P,this.config=D,this.urlTree=G,this.url=$,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=Ge}recognize(){const P=jr(this.urlTree.root,[],[],this.config.filter(Ge=>void 0===Ge.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,P,Be);if(null===D)return null;const G=new st([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Be,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Xn(G,D),ue=new ze(this.url,$);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(P){const D=P.value,G=Wi(D,this.paramsInheritanceStrategy);D.params=Object.freeze(G.params),D.data=Object.freeze(G.data),P.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(P,D,G){return 0===D.segments.length&&D.hasChildren()?this.processChildren(P,D):this.processSegment(P,D,D.segments,G)}processChildren(P,D){const G=[];for(const ue of Object.keys(D.children)){const Ge=D.children[ue],je=Xr(P,ue),Rt=this.processSegmentGroup(je,Ge,ue);if(null===Rt)return null;G.push(...Rt)}const $=Fc(G);return function ha(k){k.sort((P,D)=>P.value.outlet===Be?-1:D.value.outlet===Be?1:P.value.outlet.localeCompare(D.value.outlet))}($),$}processSegment(P,D,G,$){for(const ue of P){const Ge=this.processSegmentAgainstRoute(ue,D,G,$);if(null!==Ge)return Ge}return zt(D,G,$)?[]:null}processSegmentAgainstRoute(P,D,G,$){if(P.redirectTo||!Nt(P,D,G,$))return null;let ue,Ge=[],je=[];if("**"===P.path){const Sr=G.length>0?an(G).parameters:{};ue=new st(G,Sr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qs(P),Mr(P),P.component,P,al(D),fa(D)+G.length,pa(P))}else{const Sr=Uo(D,P,G);if(!Sr.matched)return null;Ge=Sr.consumedSegments,je=Sr.remainingSegments,ue=new st(Ge,Sr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Qs(P),Mr(P),P.component,P,al(D),fa(D)+Ge.length,pa(P))}const Rt=function Ps(k){return k.children?k.children:k.loadChildren?k._loadedConfig.routes:[]}(P),{segmentGroup:wn,slicedSegments:Rn}=jr(D,Ge,je,Rt.filter(Sr=>void 0===Sr.redirectTo),this.relativeLinkResolution);if(0===Rn.length&&wn.hasChildren()){const Sr=this.processChildren(Rt,wn);return null===Sr?null:[new Xn(ue,Sr)]}if(0===Rt.length&&0===Rn.length)return[new Xn(ue,[])];const xt=Mr(P)===$,Nr=this.processSegment(Rt,wn,Rn,xt?Be:$);return null===Nr?null:[new Xn(ue,Nr)]}}function es(k){const P=k.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Fc(k){const P=[],D=new Set;for(const G of k){if(!es(G)){P.push(G);continue}const $=P.find(ue=>G.value.routeConfig===ue.value.routeConfig);void 0!==$?($.children.push(...G.children),D.add($)):P.push(G)}for(const G of D){const $=Fc(G.children);P.push(new Xn(G.value,$))}return P.filter(G=>!D.has(G))}function al(k){let P=k;for(;P._sourceSegment;)P=P._sourceSegment;return P}function fa(k){let P=k,D=P._segmentIndexShift?P._segmentIndexShift:0;for(;P._sourceSegment;)P=P._sourceSegment,D+=P._segmentIndexShift?P._segmentIndexShift:0;return D-1}function Qs(k){return k.data||{}}function pa(k){return k.resolve||{}}function Na(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}function Ra(k){return(0,Te.w)(P=>{const D=k(P);return D?(0,Y.D)(D).pipe((0,ye.U)(()=>P)):(0,ie.of)(P)})}class Xs extends class Tc{shouldDetach(P){return!1}store(P,D){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,D){return P.routeConfig===D.routeConfig}}{}const Hs=new p.OlP("ROUTES");class Cc{constructor(P,D,G,$){this.injector=P,this.compiler=D,this.onLoadStartListener=G,this.onLoadEndListener=$}load(P,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const $=this.loadModuleFactory(D.loadChildren).pipe((0,ye.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Ge=ue.create(P);return new he(Zt(Ge.injector.get(Hs,void 0,p.XFs.Self|p.XFs.Optional)).map(ur),Ge)}),Qe(ue=>{throw D._loader$=void 0,ue}));return D._loader$=new ne($,()=>new He.x).pipe(J()),D._loader$}loadModuleFactory(P){return jn(P()).pipe((0,kt.z)(D=>D instanceof p.YKP?(0,ie.of)(D):(0,Y.D)(this.compiler.compileModuleAsync(D))))}}class ga{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,D){return P}}function Bi(k){throw k}function tc(k,P,D){return P.parse("/")}function Es(k,P){return(0,ie.of)(null)}const Eu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Uc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let fo=(()=>{class k{constructor(D,G,$,ue,Ge,je,Rt){this.rootComponentType=D,this.urlSerializer=G,this.rootContexts=$,this.location=ue,this.config=Rt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new He.x,this.errorHandler=Bi,this.malformedUriErrorHandler=tc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Es,afterPreactivation:Es},this.urlHandlingStrategy=new ga,this.routeReuseStrategy=new Xs,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ge.get(p.h0i),this.console=Ge.get(p.c2e);const xt=Ge.get(p.R0b);this.isNgZoneEnabled=xt instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Rt),this.currentUrlTree=function Gt(){return new Ae(new Se([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cc(Ge,je,Nr=>this.triggerEvent(new Kr(Nr)),Nr=>this.triggerEvent(new Wr(Nr))),this.routerState=to(this.currentUrlTree,this.rootComponentType),this.transitions=new fe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const G=this.events;return D.pipe((0,xe.h)($=>0!==$.id),(0,ye.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,Te.w)($=>{let ue=!1,Ge=!1;return(0,ie.of)($).pipe((0,wt.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.currentRawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Te.w)(je=>{const Rt=this.browserUrlTree.toString(),wn=!this.navigated||je.extractedUrl.toString()!==Rt||Rt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||wn)&&this.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return ma(je.source)&&(this.browserUrlTree=je.extractedUrl),(0,ie.of)(je).pipe((0,Te.w)(xt=>{const Nr=this.transitions.getValue();return G.next(new $n(xt.id,this.serializeUrl(xt.extractedUrl),xt.source,xt.restoredState)),Nr!==this.transitions.getValue()?_e.E:Promise.resolve(xt)}),function hr(k,P,D,G){return(0,Te.w)($=>function oi(k,P,D,G,$){return new si(k,P,D,G,$).apply()}(k,P,D,$.extractedUrl,G).pipe((0,ye.U)(ue=>Object.assign(Object.assign({},$),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,wt.b)(xt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:xt.urlAfterRedirects})}),function Ll(k,P,D,G,$){return(0,kt.z)(ue=>function Xo(k,P,D,G,$="emptyOnly",ue="legacy"){try{const Ge=new da(k,P,D,G,$,ue).recognize();return null===Ge?No(new sl):(0,ie.of)(Ge)}catch(Ge){return No(Ge)}}(k,P,ue.urlAfterRedirects,D(ue.urlAfterRedirects),G,$).pipe((0,ye.U)(Ge=>Object.assign(Object.assign({},ue),{targetSnapshot:Ge}))))}(this.rootComponentType,this.config,xt=>this.serializeUrl(xt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,wt.b)(xt=>{if("eager"===this.urlUpdateStrategy){if(!xt.extras.skipLocationChange){const Sr=this.urlHandlingStrategy.merge(xt.urlAfterRedirects,xt.rawUrl);this.setBrowserUrl(Sr,xt)}this.browserUrlTree=xt.urlAfterRedirects}const Nr=new ni(xt.id,this.serializeUrl(xt.extractedUrl),this.serializeUrl(xt.urlAfterRedirects),xt.targetSnapshot);G.next(Nr)}));if(wn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Nr,extractedUrl:Sr,source:ei,restoredState:yi,extras:lr}=je,Fa=new $n(Nr,this.serializeUrl(Sr),ei,yi);G.next(Fa);const qi=to(Sr,this.rootComponentType).snapshot;return(0,ie.of)(Object.assign(Object.assign({},je),{targetSnapshot:qi,urlAfterRedirects:Sr,extras:Object.assign(Object.assign({},lr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=je.rawUrl,je.resolve(null),_e.E}),Ra(je=>{const{targetSnapshot:Rt,id:wn,extractedUrl:Rn,rawUrl:xt,extras:{skipLocationChange:Nr,replaceUrl:Sr}}=je;return this.hooks.beforePreactivation(Rt,{navigationId:wn,appliedUrlTree:Rn,rawUrlTree:xt,skipLocationChange:!!Nr,replaceUrl:!!Sr})}),(0,wt.b)(je=>{const Rt=new Ar(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Rt)}),(0,ye.U)(je=>Object.assign(Object.assign({},je),{guards:ls(je.targetSnapshot,je.currentSnapshot,this.rootContexts)})),function Ni(k,P){return(0,kt.z)(D=>{const{targetSnapshot:G,currentSnapshot:$,guards:{canActivateChecks:ue,canDeactivateChecks:Ge}}=D;return 0===Ge.length&&0===ue.length?(0,ie.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function ol(k,P,D,G){return(0,Y.D)(k).pipe((0,kt.z)($=>function bc(k,P,D,G,$){const ue=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,ie.of)(!0);const Ge=ue.map(je=>{const Rt=Ss(je,P,$);let wn;if(function Ie(k){return k&&R(k.canDeactivate)}(Rt))wn=jn(Rt.canDeactivate(k,P,D,G));else{if(!R(Rt))throw new Error("Invalid CanDeactivate guard");wn=jn(Rt(k,P,D,G))}return wn.pipe((0,mn.P)())});return(0,ie.of)(Ge).pipe(dt())}($.component,$.route,D,P,G)),(0,mn.P)($=>!0!==$,!0))}(Ge,G,$,k).pipe((0,kt.z)(je=>je&&function W(k){return"boolean"==typeof k}(je)?function Vs(k,P,D,G){return(0,Y.D)(P).pipe((0,Mt.b)($=>(0,Je.z)(function ec(k,P){return null!==k&&P&&P(new ki(k)),(0,ie.of)(!0)}($.route.parent,G),function Ys(k,P){return null!==k&&P&&P(new ji(k)),(0,ie.of)(!0)}($.route,G),function yc(k,P,D){const G=P[P.length-1],ue=P.slice(0,P.length-1).reverse().map(Ge=>function Cs(k){const P=k.routeConfig?k.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:k,guards:P}:null}(Ge)).filter(Ge=>null!==Ge).map(Ge=>(0,vt.P)(()=>{const je=Ge.guards.map(Rt=>{const wn=Ss(Rt,Ge.node,D);let Rn;if(function Ne(k){return k&&R(k.canActivateChild)}(wn))Rn=jn(wn.canActivateChild(G,k));else{if(!R(wn))throw new Error("Invalid CanActivateChild guard");Rn=jn(wn(G,k))}return Rn.pipe((0,mn.P)())});return(0,ie.of)(je).pipe(dt())}));return(0,ie.of)(ue).pipe(dt())}(k,$.path,D),function Ma(k,P,D){const G=P.routeConfig?P.routeConfig.canActivate:null;if(!G||0===G.length)return(0,ie.of)(!0);const $=G.map(ue=>(0,vt.P)(()=>{const Ge=Ss(ue,P,D);let je;if(function we(k){return k&&R(k.canActivate)}(Ge))je=jn(Ge.canActivate(P,k));else{if(!R(Ge))throw new Error("Invalid CanActivate guard");je=jn(Ge(P,k))}return je.pipe((0,mn.P)())}));return(0,ie.of)($).pipe(dt())}(k,$.route,D))),(0,mn.P)($=>!0!==$,!0))}(G,ue,k,P):(0,ie.of)(je)),(0,ye.U)(je=>Object.assign(Object.assign({},D),{guardsResult:je})))})}(this.ngModule.injector,je=>this.triggerEvent(je)),(0,wt.b)(je=>{if(z(je.guardsResult)){const wn=be(`Redirecting to "${this.serializeUrl(je.guardsResult)}"`);throw wn.url=je.guardsResult,wn}const Rt=new Gr(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.triggerEvent(Rt)}),(0,xe.h)(je=>!!je.guardsResult||(this.restoreHistory(je),this.cancelNavigationTransition(je,""),!1)),Ra(je=>{if(je.guards.canActivateChecks.length)return(0,ie.of)(je).pipe((0,wt.b)(Rt=>{const wn=new Oi(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);this.triggerEvent(wn)}),(0,Te.w)(Rt=>{let wn=!1;return(0,ie.of)(Rt).pipe(function js(k,P){return(0,kt.z)(D=>{const{targetSnapshot:G,guards:{canActivateChecks:$}}=D;if(!$.length)return(0,ie.of)(D);let ue=0;return(0,Y.D)($).pipe((0,Mt.b)(Ge=>function cl(k,P,D,G){return function Oa(k,P,D,G){const $=Na(k);if(0===$.length)return(0,ie.of)({});const ue={};return(0,Y.D)($).pipe((0,kt.z)(Ge=>function Bc(k,P,D,G){const $=Ss(k,P,G);return jn($.resolve?$.resolve(P,D):$(P,D))}(k[Ge],P,D,G).pipe((0,wt.b)(je=>{ue[Ge]=je}))),nt(1),(0,kt.z)(()=>Na(ue).length===$.length?(0,ie.of)(ue):_e.E))}(k._resolve,k,P,G).pipe((0,ye.U)(ue=>(k._resolvedData=ue,k.data=Object.assign(Object.assign({},k.data),Wi(k,D).resolve),null)))}(Ge.route,G,k,P)),(0,wt.b)(()=>ue++),nt(1),(0,kt.z)(Ge=>ue===$.length?(0,ie.of)(D):_e.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,wt.b)({next:()=>wn=!0,complete:()=>{wn||(this.restoreHistory(Rt),this.cancelNavigationTransition(Rt,"At least one route resolver didn't emit any value."))}}))}),(0,wt.b)(Rt=>{const wn=new Si(Rt.id,this.serializeUrl(Rt.extractedUrl),this.serializeUrl(Rt.urlAfterRedirects),Rt.targetSnapshot);this.triggerEvent(wn)}))}),Ra(je=>{const{targetSnapshot:Rt,id:wn,extractedUrl:Rn,rawUrl:xt,extras:{skipLocationChange:Nr,replaceUrl:Sr}}=je;return this.hooks.afterPreactivation(Rt,{navigationId:wn,appliedUrlTree:Rn,rawUrlTree:xt,skipLocationChange:!!Nr,replaceUrl:!!Sr})}),(0,ye.U)(je=>{const Rt=function Dr(k,P,D){const G=Vr(k,P._root,D?D._root:void 0);return new Ei(G,P)}(this.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return Object.assign(Object.assign({},je),{targetRouterState:Rt})}),(0,wt.b)(je=>{this.currentUrlTree=je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),this.routerState=je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,je),this.browserUrlTree=je.urlAfterRedirects)}),((k,P,D)=>(0,ye.U)(G=>(new Ee(P,G.targetRouterState,G.currentRouterState,D).activate(k),G)))(this.rootContexts,this.routeReuseStrategy,je=>this.triggerEvent(je)),(0,wt.b)({next(){ue=!0},complete(){ue=!0}}),function re(k){return(0,j.e)((P,D)=>{try{P.subscribe(D)}finally{D.add(k)}})}(()=>{var je;ue||Ge||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(je=this.currentNavigation)||void 0===je?void 0:je.id)===$.id&&(this.currentNavigation=null)}),Qe(je=>{if(Ge=!0,function at(k){return k&&k[ce]}(je)){const Rt=z(je.url);Rt||(this.navigated=!0,this.restoreHistory($,!0));const wn=new br($.id,this.serializeUrl($.extractedUrl),je.message);G.next(wn),Rt?setTimeout(()=>{const Rn=this.urlHandlingStrategy.merge(je.url,this.rawUrlTree),xt={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||ma($.source)};this.scheduleNavigation(Rn,"imperative",null,xt,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const Rt=new vr($.id,this.serializeUrl($.extractedUrl),je);G.next(Rt);try{$.resolve(this.errorHandler(je))}catch(wn){$.reject(wn)}}return _e.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const G="popstate"===D.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var $;const ue={replaceUrl:!0},Ge=(null===($=D.state)||void 0===$?void 0:$.navigationId)?D.state:null;if(Ge){const Rt=Object.assign({},Ge);delete Rt.navigationId,delete Rt.\u0275routerPageId,0!==Object.keys(Rt).length&&(ue.state=Rt)}const je=this.parseUrl(D.url);this.scheduleNavigation(je,G,Ge,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){xn(D),this.config=D.map(ur),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,G={}){const{relativeTo:$,queryParams:ue,fragment:Ge,queryParamsHandling:je,preserveFragment:Rt}=G,wn=$||this.routerState.root,Rn=Rt?this.currentUrlTree.fragment:Ge;let xt=null;switch(je){case"merge":xt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":xt=this.currentUrlTree.queryParams;break;default:xt=ue||null}return null!==xt&&(xt=this.removeEmptyProps(xt)),function Mo(k,P,D,G,$){if(0===D.length)return Li(P.root,P.root,P.root,G,$);const ue=function no(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new ss(!0,0,k);let P=0,D=!1;const G=k.reduce(($,ue,Ge)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const je={};return fn(ue.outlets,(Rt,wn)=>{je[wn]="string"==typeof Rt?Rt.split("/"):Rt}),[...$,{outlets:je}]}if(ue.segmentPath)return[...$,ue.segmentPath]}return"string"!=typeof ue?[...$,ue]:0===Ge?(ue.split("/").forEach((je,Rt)=>{0==Rt&&"."===je||(0==Rt&&""===je?D=!0:".."===je?P++:""!=je&&$.push(je))}),$):[...$,ue]},[]);return new ss(D,P,G)}(D);if(ue.toRoot())return Li(P.root,P.root,new Se([],{}),G,$);const Ge=function as(k,P,D){if(k.isAbsolute)return new Yo(P.root,!0,0);if(-1===D.snapshot._lastPathIndex){const ue=D.snapshot._urlSegment;return new Yo(ue,ue===P.root,0)}const G=Ui(k.commands[0])?0:1;return function Fi(k,P,D){let G=k,$=P,ue=D;for(;ue>$;){if(ue-=$,G=G.parent,!G)throw new Error("Invalid number of '../'");$=G.segments.length}return new Yo(G,!1,$-ue)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+G,k.numberOfDoubleDots)}(ue,P,k),je=Ge.processChildren?Co(Ge.segmentGroup,Ge.index,ue.commands):Gi(Ge.segmentGroup,Ge.index,ue.commands);return Li(P.root,Ge.segmentGroup,je,G,$)}(wn,this.currentUrlTree,D,xt,null!=Rn?Rn:null)}navigateByUrl(D,G={skipLocationChange:!1}){const $=z(D)?D:this.parseUrl(D),ue=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,G)}navigate(D,G={skipLocationChange:!1}){return function gd(k){for(let P=0;P<k.length;P++){const D=k[P];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${P}`)}}(D),this.navigateByUrl(this.createUrlTree(D,G),G)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let G;try{G=this.urlSerializer.parse(D)}catch($){G=this.malformedUriErrorHandler($,this.urlSerializer,D)}return G}isActive(D,G){let $;if($=!0===G?Object.assign({},Eu):!1===G?Object.assign({},Uc):G,z(D))return Bt(this.currentUrlTree,D,$);const ue=this.parseUrl(D);return Bt(this.currentUrlTree,ue,$)}removeEmptyProps(D){return Object.keys(D).reduce((G,$)=>{const ue=D[$];return null!=ue&&(G[$]=ue),G},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new wr(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,G,$,ue,Ge){var je,Rt;if(this.disposed)return Promise.resolve(!1);let wn,Rn,xt;Ge?(wn=Ge.resolve,Rn=Ge.reject,xt=Ge.promise):xt=new Promise((ei,yi)=>{wn=ei,Rn=yi});const Nr=++this.navigationId;let Sr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Sr=$&&$.\u0275routerPageId?$.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(je=this.browserPageId)&&void 0!==je?je:0:(null!==(Rt=this.browserPageId)&&void 0!==Rt?Rt:0)+1):Sr=0,this.setTransition({id:Nr,targetPageId:Sr,source:G,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:ue,resolve:wn,reject:Rn,promise:xt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),xt.catch(ei=>Promise.reject(ei))}setBrowserUrl(D,G){const $=this.urlSerializer.serialize(D),ue=Object.assign(Object.assign({},G.extras.state),this.generateNgRouterState(G.id,G.targetPageId));this.location.isCurrentPathEqualTo($)||G.extras.replaceUrl?this.location.replaceState($,"",ue):this.location.go($,"",ue)}restoreHistory(D,G=!1){var $,ue;if("computed"===this.canceledNavigationResolution){const Ge=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===Ge?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===Ge&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ge)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,G){const $=new br(D.id,this.serializeUrl(D.extractedUrl),G);this.triggerEvent($),D.resolve(!1)}generateNgRouterState(D,G){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:G}:{navigationId:D}}}return k.\u0275fac=function(D){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function ma(k){return"imperative"!==k}let Ws=(()=>{class k{constructor(D,G,$,ue,Ge){this.router=D,this.route=G,this.tabIndexAttribute=$,this.renderer=ue,this.el=Ge,this.commands=null,this.onChanges=new He.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const G=this.renderer,$=this.el.nativeElement;null!==D?G.setAttribute($,"tabindex",D):G.removeAttribute($,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:li(this.skipLocationChange),replaceUrl:li(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:li(this.preserveFragment)})}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(fo),p.Y36(zr),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},k.\u0275dir=p.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,G){1&D&&p.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})(),Zs=(()=>{class k{constructor(D,G,$){this.router=D,this.route=G,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new He.x,this.subscription=D.events.subscribe(ue=>{ue instanceof wr&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,G,$,ue,Ge){if(0!==D||G||$||ue||Ge||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const je={skipLocationChange:li(this.skipLocationChange),replaceUrl:li(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,je),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:li(this.preserveFragment)})}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(fo),p.Y36(zr),p.Y36(bn.S$))},k.\u0275dir=p.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,G){1&D&&p.NdJ("click",function(ue){return G.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&D&&p.uIk("target",G.target)("href",G.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})();function li(k){return""===k||!!k}class ts{}class rc{preload(P,D){return(0,ie.of)(null)}}let io=(()=>{class k{constructor(D,G,$,ue){this.router=D,this.injector=$,this.preloadingStrategy=ue,this.loader=new Cc($,G,Rt=>D.triggerEvent(new Kr(Rt)),Rt=>D.triggerEvent(new Wr(Rt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,xe.h)(D=>D instanceof wr),(0,Mt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(p.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,G){const $=[];for(const ue of G)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const Ge=ue._loadedConfig;$.push(this.processRoutes(Ge.module,Ge.routes))}else ue.loadChildren&&!ue.canLoad?$.push(this.preloadConfig(D,ue)):ue.children&&$.push(this.processRoutes(D,ue.children));return(0,Y.D)($).pipe((0,Wt.J)(),(0,ye.U)(ue=>{}))}preloadConfig(D,G){return this.preloadingStrategy.preload(G,()=>(G._loadedConfig?(0,ie.of)(G._loadedConfig):this.loader.load(D.injector,G)).pipe((0,kt.z)(ue=>(G._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(fo),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(ts))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})(),So=(()=>{class k{constructor(D,G,$={}){this.router=D,this.viewportScroller=G,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof wr&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof Qr&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,G){this.router.triggerEvent(new Qr(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(D){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();const qs=new p.OlP("ROUTER_CONFIGURATION"),wu=new p.OlP("ROUTER_FORROOT_GUARD"),vn=[bn.Ye,{provide:qn,useClass:ir},{provide:fo,useFactory:function Nn(k,P,D,G,$,ue,Ge={},je,Rt){const wn=new fo(null,k,P,D,G,$,Zt(ue));return je&&(wn.urlHandlingStrategy=je),Rt&&(wn.routeReuseStrategy=Rt),function Pt(k,P){k.errorHandler&&(P.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(P.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(P.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(P.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(P.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(P.canceledNavigationResolution=k.canceledNavigationResolution)}(Ge,wn),Ge.enableTracing&&wn.events.subscribe(Rn=>{var xt,Nr;null===(xt=console.group)||void 0===xt||xt.call(console,`Router Event: ${Rn.constructor.name}`),console.log(Rn.toString()),console.log(Rn),null===(Nr=console.groupEnd)||void 0===Nr||Nr.call(console)}),wn},deps:[qn,Pe,bn.Ye,p.zs3,p.Sil,Hs,qs,[class _o{},new p.FiY],[class ka{},new p.FiY]]},Pe,{provide:zr,useFactory:function on(k){return k.routerState.root},deps:[fo]},io,rc,class La{preload(P,D){return D().pipe(Qe(()=>(0,ie.of)(null)))}},{provide:qs,useValue:{enableTracing:!1}}];function ui(){return new p.PXZ("Router",fo)}let ic=(()=>{class k{constructor(D,G){}static forRoot(D,G){return{ngModule:k,providers:[vn,ul(D),{provide:wu,useFactory:Tr,deps:[[fo,new p.FiY,new p.tp0]]},{provide:qs,useValue:G||{}},{provide:bn.S$,useFactory:Jn,deps:[bn.lw,[new p.tBr(bn.mr),new p.FiY],qs]},{provide:So,useFactory:ll,deps:[fo,bn.EM,qs]},{provide:ts,useExisting:G&&G.preloadingStrategy?G.preloadingStrategy:rc},{provide:p.PXZ,multi:!0,useFactory:ui},[Ii,{provide:p.ip1,multi:!0,useFactory:mi,deps:[Ii]},{provide:dl,useFactory:oc,deps:[Ii]},{provide:p.tb,multi:!0,useExisting:dl}]]}}static forChild(D){return{ngModule:k,providers:[ul(D)]}}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(wu,8),p.LFG(fo,8))},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({}),k})();function ll(k,P,D){return D.scrollOffset&&P.setOffset(D.scrollOffset),new So(k,P,D)}function Jn(k,P,D={}){return D.useHash?new bn.Do(k,P):new bn.b0(k,P)}function Tr(k){return"guarded"}function ul(k){return[{provide:p.deG,multi:!0,useValue:k},{provide:Hs,multi:!0,useValue:k}]}let Ii=(()=>{class k{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new He.x}appInitializer(){return this.injector.get(bn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let G=null;const $=new Promise(je=>G=je),ue=this.injector.get(fo),Ge=this.injector.get(qs);return"disabled"===Ge.initialNavigation?(ue.setUpLocationChangeListener(),G(!0)):"enabled"===Ge.initialNavigation||"enabledBlocking"===Ge.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,ie.of)(null):(this.initNavigation=!0,G(!0),this.resultOfPreactivationDone),ue.initialNavigation()):G(!0),$})}bootstrapListener(D){const G=this.injector.get(qs),$=this.injector.get(io),ue=this.injector.get(So),Ge=this.injector.get(fo),je=this.injector.get(p.z2F);D===je.components[0]&&(("enabledNonBlocking"===G.initialNavigation||void 0===G.initialNavigation)&&Ge.initialNavigation(),$.setUpPreloading(),ue.init(),Ge.resetRootComponentType(je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(p.zs3))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function mi(k){return k.appInitializer.bind(k)}function oc(k){return k.bootstrapListener.bind(k)}const dl=new p.OlP("Router Initializer")},3942:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>Je});var p=x(2090),e=x(4859),T=x(9681),N=x(1877);class O{constructor(_e,He){this._delegate=_e,this.firebase=He,(0,T._addComponent)(_e,new e.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(_e,He=T._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(_e);return!_t.isInitialized()&&"EXPLICIT"===(null===(ke=_t.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:He})}_removeServiceInstance(_e,He=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(He)}_addComponent(_e){(0,T._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,T._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Q=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Y=function ne(){const vt=function J(vt){const _e={},He={__esModule:!0,initializeApp:function $e(Ve,ht={}){const ve=T.initializeApp(Ve,ht);if((0,p.r3)(_e,ve.name))return _e[ve.name];const me=new vt(ve,He);return _e[ve.name]=me,me},app:_t,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function xe(Ve){const ht=Ve.name,ve=ht.replace("-compat","");if(T._registerComponent(Ve)&&"PUBLIC"===Ve.type){const me=(re=_t())=>{if("function"!=typeof re[ve])throw Q.create("invalid-app-argument",{appName:ht});return re[ve]()};void 0!==Ve.serviceProps&&(0,p.ZB)(me,Ve.serviceProps),He[ve]=me,vt.prototype[ve]=function(...re){return this._getService.bind(this,ht).apply(this,Ve.multipleInstances?re:[])}}return"PUBLIC"===Ve.type?He[ve]:null},removeApp:function ke(Ve){delete _e[Ve]},useAsService:function nt(Ve,ht){return"serverAuth"===ht?null:ht},modularAPIs:T}};function _t(Ve){if(!(0,p.r3)(_e,Ve=Ve||T._DEFAULT_ENTRY_NAME))throw Q.create("no-app",{appName:Ve});return _e[Ve]}return He.default=He,Object.defineProperty(He,"apps",{get:function Qe(){return Object.keys(_e).map(Ve=>_e[Ve])}}),_t.App=vt,He}(O);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function _e(He){(0,p.ZB)(vt,He)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),vt}(),ie=new N.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=Y;!function et(vt){(0,T.registerVersion)("@firebase/app-compat","0.1.20",vt)}()},9681:(pt,w,x)=>{"use strict";x.r(w),x.d(w,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Oi,_DEFAULT_ENTRY_NAME:()=>mn,_addComponent:()=>bn,_addOrOverwriteComponent:()=>rr,_apps:()=>wt,_clearComponents:()=>vr,_components:()=>Wt,_getProvider:()=>wr,_registerComponent:()=>$n,_removeServiceInstance:()=>br,deleteApp:()=>ki,getApp:()=>Kr,getApps:()=>Wr,initializeApp:()=>Si,onLog:()=>ri,registerVersion:()=>ji,setLogLevel:()=>Qr});var p=x(5861),e=x(4859),T=x(1877),N=x(2090);class O{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function j(Bt){const ft=Bt.getComponent();return"VERSION"===(null==ft?void 0:ft.type)}(tn)){const yn=tn.getImmediate();return`${yn.library}/${yn.version}`}return null}).filter(tn=>tn).join(" ")}}const Q="@firebase/app",J="0.7.19",ne=new T.Yd("@firebase/app"),mn="[DEFAULT]",kt={[Q]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},wt=new Map,Wt=new Map;function bn(Bt,ft){try{Bt.container.addComponent(ft)}catch(tn){ne.debug(`Component ${ft.name} failed to register with FirebaseApp ${Bt.name}`,tn)}}function rr(Bt,ft){Bt.container.addOrOverwriteComponent(ft)}function $n(Bt){const ft=Bt.name;if(Wt.has(ft))return ne.debug(`There were multiple attempts to register component ${ft}.`),!1;Wt.set(ft,Bt);for(const tn of wt.values())bn(tn,Bt);return!0}function wr(Bt,ft){const tn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return tn&&tn.triggerHeartbeat(),Bt.container.getProvider(ft)}function br(Bt,ft,tn=mn){wr(Bt,ft).clearInstance(tn)}function vr(){Wt.clear()}const Ar=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Gr{constructor(ft,tn,yn){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=yn,this.container.addComponent(new e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw Ar.create("app-deleted",{appName:this._name})}}const Oi="9.6.9";function Si(Bt,ft={}){"object"!=typeof ft&&(ft={name:ft});const tn=Object.assign({name:mn,automaticDataCollectionEnabled:!1},ft),yn=tn.name;if("string"!=typeof yn||!yn)throw Ar.create("bad-app-name",{appName:String(yn)});const Wn=wt.get(yn);if(Wn){if((0,N.vZ)(Bt,Wn.options)&&(0,N.vZ)(tn,Wn.config))return Wn;throw Ar.create("duplicate-app",{appName:yn})}const Un=new e.H0(yn);for(const Ae of Wt.values())Un.addComponent(Ae);const Me=new Gr(Bt,tn,Un);return wt.set(yn,Me),Me}function Kr(Bt=mn){const ft=wt.get(Bt);if(!ft)throw Ar.create("no-app",{appName:Bt});return ft}function Wr(){return Array.from(wt.values())}function ki(Bt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(Bt){const ft=Bt.name;wt.has(ft)&&(wt.delete(ft),yield Promise.all(Bt.container.getProviders().map(tn=>tn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function ji(Bt,ft,tn){var yn;let Wn=null!==(yn=kt[Bt])&&void 0!==yn?yn:Bt;tn&&(Wn+=`-${tn}`);const Un=Wn.match(/\s|\//),Me=ft.match(/\s|\//);if(Un||Me){const Ae=[`Unable to register library "${Wn}" with version "${ft}":`];return Un&&Ae.push(`library name "${Wn}" contains illegal characters (whitespace or "/")`),Un&&Me&&Ae.push("and"),Me&&Ae.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void ne.warn(Ae.join(" "))}$n(new e.wA(`${Wn}-version`,()=>({library:Wn,version:ft}),"VERSION"))}function ri(Bt,ft){if(null!==Bt&&"function"!=typeof Bt)throw Ar.create("invalid-log-argument");(0,T.Am)(Bt,ft)}function Qr(Bt){(0,T.Ub)(Bt)}const Ue="firebase-heartbeat-store";let ce=null;function be(){return ce||(ce=(0,N.X3)("firebase-heartbeat-database",1,(Bt,ft)=>{0===ft&&Bt.createObjectStore(Ue)}).catch(Bt=>{throw Ar.create("storage-open",{originalErrorMessage:Bt.message})})),ce}function ct(){return(ct=(0,p.Z)(function*(Bt){try{return(yield be()).transaction(Ue).objectStore(Ue).get(dn(Bt))}catch(ft){throw Ar.create("storage-get",{originalErrorMessage:ft.message})}})).apply(this,arguments)}function bt(Bt,ft){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(Bt,ft){try{const yn=(yield be()).transaction(Ue,"readwrite");return yield yn.objectStore(Ue).put(ft,dn(Bt)),yn.complete}catch(tn){throw Ar.create("storage-set",{originalErrorMessage:tn.message})}})).apply(this,arguments)}function dn(Bt){return`${Bt.name}!${Bt.options.appId}`}class Vn{constructor(ft){this.container=ft,this._heartbeatsCache=null;const tn=this.container.getProvider("app").getImmediate();this._storage=new Gt(tn),this._heartbeatsCachePromise=this._storage.read().then(yn=>(this._heartbeatsCache=yn,yn))}triggerHeartbeat(){var ft=this;return(0,p.Z)(function*(){const yn=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Wn=fn();if(null===ft._heartbeatsCache&&(ft._heartbeatsCache=yield ft._heartbeatsCachePromise),ft._heartbeatsCache.lastSentHeartbeatDate!==Wn&&!ft._heartbeatsCache.heartbeats.some(Un=>Un.date===Wn))return ft._heartbeatsCache.heartbeats.push({date:Wn,agent:yn}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter(Un=>{const Me=new Date(Un.date).valueOf();return Date.now()-Me<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,p.Z)(function*(){if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null===ft._heartbeatsCache||0===ft._heartbeatsCache.heartbeats.length)return"";const tn=fn(),{heartbeatsToSend:yn,unsentEntries:Wn}=function jn(Bt,ft=1024){const tn=[];let yn=Bt.slice();for(const Wn of Bt){const Un=tn.find(Me=>Me.agent===Wn.agent);if(Un){if(Un.dates.push(Wn.date),er(tn)>ft){Un.dates.pop();break}}else if(tn.push({agent:Wn.agent,dates:[Wn.date]}),er(tn)>ft){tn.pop();break}yn=yn.slice(1)}return{heartbeatsToSend:tn,unsentEntries:yn}}(ft._heartbeatsCache.heartbeats),Un=(0,N.L)(JSON.stringify({version:2,heartbeats:yn}));return ft._heartbeatsCache.lastSentHeartbeatDate=tn,Wn.length>0?(ft._heartbeatsCache.heartbeats=Wn,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),Un})()}}function fn(){return(new Date).toISOString().substring(0,10)}class Gt{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,p.Z)(function*(){return(yield ft._canUseIndexedDBPromise)&&(yield function at(Bt){return ct.apply(this,arguments)}(ft.app))||{heartbeats:[]}})()}overwrite(ft){var tn=this;return(0,p.Z)(function*(){var yn;if(yield tn._canUseIndexedDBPromise){const Un=yield tn.read();return bt(tn.app,{lastSentHeartbeatDate:null!==(yn=ft.lastSentHeartbeatDate)&&void 0!==yn?yn:Un.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var tn=this;return(0,p.Z)(function*(){var yn;if(yield tn._canUseIndexedDBPromise){const Un=yield tn.read();return bt(tn.app,{lastSentHeartbeatDate:null!==(yn=ft.lastSentHeartbeatDate)&&void 0!==yn?yn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...ft.heartbeats]})}})()}}function er(Bt){return(0,N.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function kn(Bt){$n(new e.wA("platform-logger",ft=>new O(ft),"PRIVATE")),$n(new e.wA("heartbeat",ft=>new Vn(ft),"PRIVATE")),ji(Q,J,Bt),ji(Q,J,"esm2017"),ji("fire-js","")}("")},4859:(pt,w,x)=>{"use strict";x.d(w,{H0:()=>J,wA:()=>T});var p=x(5861),e=x(2090);class T{constructor(Y,ie,fe){this.name=Y,this.instanceFactory=ie,this.type=fe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Y){return this.instantiationMode=Y,this}setMultipleInstances(Y){return this.multipleInstances=Y,this}setServiceProps(Y){return this.serviceProps=Y,this}setInstanceCreatedCallback(Y){return this.onInstanceCreated=Y,this}}const N="[DEFAULT]";class O{constructor(Y,ie){this.name=Y,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Y){const ie=this.normalizeInstanceIdentifier(Y);if(!this.instancesDeferred.has(ie)){const fe=new e.BH;if(this.instancesDeferred.set(ie,fe),this.isInitialized(ie)||this.shouldAutoInitialize())try{const ut=this.getOrInitializeService({instanceIdentifier:ie});ut&&fe.resolve(ut)}catch(ut){}}return this.instancesDeferred.get(ie).promise}getImmediate(Y){var ie;const fe=this.normalizeInstanceIdentifier(null==Y?void 0:Y.identifier),ut=null!==(ie=null==Y?void 0:Y.optional)&&void 0!==ie&&ie;if(!this.isInitialized(fe)&&!this.shouldAutoInitialize()){if(ut)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:fe})}catch(et){if(ut)return null;throw et}}getComponent(){return this.component}setComponent(Y){if(Y.name!==this.name)throw Error(`Mismatching Component ${Y.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Y,this.shouldAutoInitialize()){if(function Q(ne){return"EAGER"===ne.instantiationMode}(Y))try{this.getOrInitializeService({instanceIdentifier:N})}catch(ie){}for(const[ie,fe]of this.instancesDeferred.entries()){const ut=this.normalizeInstanceIdentifier(ie);try{const et=this.getOrInitializeService({instanceIdentifier:ut});fe.resolve(et)}catch(et){}}}}clearInstance(Y=N){this.instancesDeferred.delete(Y),this.instancesOptions.delete(Y),this.instances.delete(Y)}delete(){var Y=this;return(0,p.Z)(function*(){const ie=Array.from(Y.instances.values());yield Promise.all([...ie.filter(fe=>"INTERNAL"in fe).map(fe=>fe.INTERNAL.delete()),...ie.filter(fe=>"_delete"in fe).map(fe=>fe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Y=N){return this.instances.has(Y)}getOptions(Y=N){return this.instancesOptions.get(Y)||{}}initialize(Y={}){const{options:ie={}}=Y,fe=this.normalizeInstanceIdentifier(Y.instanceIdentifier);if(this.isInitialized(fe))throw Error(`${this.name}(${fe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ut=this.getOrInitializeService({instanceIdentifier:fe,options:ie});for(const[et,Je]of this.instancesDeferred.entries())fe===this.normalizeInstanceIdentifier(et)&&Je.resolve(ut);return ut}onInit(Y,ie){var fe;const ut=this.normalizeInstanceIdentifier(ie),et=null!==(fe=this.onInitCallbacks.get(ut))&&void 0!==fe?fe:new Set;et.add(Y),this.onInitCallbacks.set(ut,et);const Je=this.instances.get(ut);return Je&&Y(Je,ut),()=>{et.delete(Y)}}invokeOnInitCallbacks(Y,ie){const fe=this.onInitCallbacks.get(ie);if(fe)for(const ut of fe)try{ut(Y,ie)}catch(et){}}getOrInitializeService({instanceIdentifier:Y,options:ie={}}){let fe=this.instances.get(Y);if(!fe&&this.component&&(fe=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=Y,ne===N?void 0:ne),options:ie}),this.instances.set(Y,fe),this.instancesOptions.set(Y,ie),this.invokeOnInitCallbacks(fe,Y),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Y,fe)}catch(ut){}var ne;return fe||null}normalizeInstanceIdentifier(Y=N){return this.component?this.component.multipleInstances?Y:N:Y}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor(Y){this.name=Y,this.providers=new Map}addComponent(Y){const ie=this.getProvider(Y.name);if(ie.isComponentSet())throw new Error(`Component ${Y.name} has already been registered with ${this.name}`);ie.setComponent(Y)}addOrOverwriteComponent(Y){this.getProvider(Y.name).isComponentSet()&&this.providers.delete(Y.name),this.addComponent(Y)}getProvider(Y){if(this.providers.has(Y))return this.providers.get(Y);const ie=new O(Y,this);return this.providers.set(Y,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,w,x)=>{"use strict";x.d(w,{Am:()=>ne,Ub:()=>J,Yd:()=>Q,in:()=>e});const p=[];var e=(()=>{return(Y=e||(e={}))[Y.DEBUG=0]="DEBUG",Y[Y.VERBOSE=1]="VERBOSE",Y[Y.INFO=2]="INFO",Y[Y.WARN=3]="WARN",Y[Y.ERROR=4]="ERROR",Y[Y.SILENT=5]="SILENT",e;var Y})();const T={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},N=e.INFO,O={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},j=(Y,ie,...fe)=>{if(ie<Y.logLevel)return;const ut=(new Date).toISOString(),et=O[ie];if(!et)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[et](`[${ut}]  ${Y.name}:`,...fe)};class Q{constructor(ie){this.name=ie,this._logLevel=N,this._logHandler=j,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in e))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?T[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...ie),this._logHandler(this,e.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...ie),this._logHandler(this,e.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,e.INFO,...ie),this._logHandler(this,e.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,e.WARN,...ie),this._logHandler(this,e.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...ie),this._logHandler(this,e.ERROR,...ie)}}function J(Y){p.forEach(ie=>{ie.setLogLevel(Y)})}function ne(Y,ie){for(const fe of p){let ut=null;ie&&ie.level&&(ut=T[ie.level]),fe.userLogHandler=null===Y?null:(et,Je,...vt)=>{const _e=vt.map(He=>{if(null==He)return null;if("string"==typeof He)return He;if("number"==typeof He||"boolean"==typeof He)return He.toString();if(He instanceof Error)return He.message;try{return JSON.stringify(He)}catch(ke){return null}}).filter(He=>He).join(" ");Je>=(null!=ut?ut:et.logLevel)&&Y({level:e[Je].toLowerCase(),message:_e,args:vt,type:et.name})}}}},5861:(pt,w,x)=>{"use strict";function p(T,N,O,j,Q,J,ne){try{var Y=T[J](ne),ie=Y.value}catch(fe){return void O(fe)}Y.done?N(ie):Promise.resolve(ie).then(j,Q)}function e(T){return function(){var N=this,O=arguments;return new Promise(function(j,Q){var J=T.apply(N,O);function ne(ie){p(J,j,Q,ne,Y,"next",ie)}function Y(ie){p(J,j,Q,ne,Y,"throw",ie)}ne(void 0)})}}x.d(w,{Z:()=>e})}},pt=>{pt(pt.s=3386)}]);