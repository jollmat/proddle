(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(pt,w,x)=>{"use strict";x.d(w,{nm:()=>gn});var p=x(5813),O=(x(5e3),x(3692),x(5867),x(5861)),V=x(9681),Y=x(4859),J=x(2090),ne=x(1877);const $=new Map,re={activated:!1,tokenObservers:[]},pe={initialized:!1,enabled:!1};function dt(at){return $.get(at)||re}function tt(at,ze){$.set(at,ze)}function Qe(){return pe}class it{constructor(ze,bt,Vt,$t,bn){if(this.operation=ze,this.retryPolicy=bt,this.getWaitDuration=Vt,this.lowerBound=$t,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=$t,$t>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(ze){var bt=this;return(0,O.Z)(function*(){bt.stop();try{bt.pending=new J.BH,yield function Ae(at){return new Promise(ze=>{setTimeout(ze,at)})}(bt.getNextRun(ze)),bt.pending.resolve(),yield bt.pending.promise,bt.pending=new J.BH,yield bt.operation(),bt.pending.resolve(),yield bt.pending.promise,bt.process(!0).catch(()=>{})}catch(Vt){bt.retryPolicy(Vt)?bt.process(!1).catch(()=>{}):bt.stop()}})()}getNextRun(ze){if(ze)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),bt}}}const Ue=new J.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function _e(at){if(!dt(at).activated)throw Ue.create("use-before-activation",{appName:at.name})}function qe(at,ze){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,O.Z)(function*({url:at,body:ze},bt){const Vt={"Content-Type":"application/json"},$t=bt.getImmediate({optional:!0});if($t){const ji=yield $t.getHeartbeatsHeader();ji&&(Vt["X-Firebase-Client"]=ji)}const bn={method:"POST",body:JSON.stringify(ze),headers:Vt};let Dr,jr;try{Dr=yield fetch(at,bn)}catch(ji){throw Ue.create("fetch-network-error",{originalErrorMessage:ji.message})}if(200!==Dr.status)throw Ue.create("fetch-status-error",{httpStatus:Dr.status});try{jr=yield Dr.json()}catch(ji){throw Ue.create("fetch-parse-error",{originalErrorMessage:ji.message})}const Ir=jr.ttl.match(/^([\d.]+)(s)$/);if(!Ir||!Ir[2]||isNaN(Number(Ir[1])))throw Ue.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${jr.ttl}`});const vi=1e3*Number(Ir[1]),Ro=Date.now();return{token:jr.attestationToken,expireTimeMillis:Ro+vi,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function An(at,ze){const{projectId:bt,appId:Vt,apiKey:$t}=at.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${bt}/apps/${Vt}:exchangeDebugToken?key=${$t}`,body:{debug_token:ze}}}const Zt="firebase-app-check-store";let or=null;function $n(){return or||(or=new Promise((at,ze)=>{try{const bt=indexedDB.open("firebase-app-check-database",1);bt.onsuccess=Vt=>{at(Vt.target.result)},bt.onerror=Vt=>{var $t;ze(Ue.create("storage-open",{originalErrorMessage:null===($t=Vt.target.error)||void 0===$t?void 0:$t.message}))},bt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(bt){ze(Ue.create("storage-open",{originalErrorMessage:bt.message}))}}),or)}function Vr(){return(Vr=(0,O.Z)(function*(at,ze){const Vt=(yield $n()).transaction(Zt,"readwrite"),bn=Vt.objectStore(Zt).put({compositeKey:at,value:ze});return new Promise((Dr,jr)=>{bn.onsuccess=Ir=>{Dr()},Vt.onerror=Ir=>{var vi;jr(Ue.create("storage-set",{originalErrorMessage:null===(vi=Ir.target.error)||void 0===vi?void 0:vi.message}))}})})).apply(this,arguments)}const qr=new ne.Yd("@firebase/app-check");function qi(at,ze){return(0,J.hl)()?function yr(at,ze){return function xr(at,ze){return Vr.apply(this,arguments)}(function Jr(at){return`${at.options.appId}-${at.name}`}(at),ze)}(at,ze).catch(bt=>{qr.warn(`Failed to write token to IndexedDB. Error: ${bt}`)}):Promise.resolve()}function Fe(){return Qe().enabled}function mt(){return Be.apply(this,arguments)}function Be(){return(Be=(0,O.Z)(function*(){const at=Qe();if(at.enabled&&at.token)return at.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ye={error:"UNKNOWN_ERROR"};function ct(at){return J.US.encodeString(JSON.stringify(at),!1)}function lt(at){return yt.apply(this,arguments)}function yt(){return(yt=(0,O.Z)(function*(at,ze=!1){const bt=at.app;_e(bt);const Vt=dt(bt);let bn,$t=Vt.token;if(!$t){const Ir=yield Vt.cachedTokenPromise;Ir&&hn(Ir)&&($t=Ir)}if(!ze&&$t&&hn($t))return{token:$t.token};let jr,Dr=!1;if(Fe()){Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=qe(An(bt,yield mt()),at.heartbeatServiceProvider).then(vi=>(Vt.exchangeTokenPromise=void 0,vi)),Dr=!0);const Ir=yield Vt.exchangeTokenPromise;return yield qi(bt,Ir),tt(bt,Object.assign(Object.assign({},Vt),{token:Ir})),{token:Ir.token}}try{Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Vt.provider.getToken().then(Ir=>(Vt.exchangeTokenPromise=void 0,Ir)),Dr=!0),$t=yield Vt.exchangeTokenPromise}catch(Ir){"appCheck/throttled"===Ir.code?qr.warn(Ir.message):qr.error(Ir),bn=Ir}return $t?(jr={token:$t.token},tt(bt,Object.assign(Object.assign({},Vt),{token:$t})),yield qi(bt,$t)):jr=Hn(bn),Dr&&jn(bt,jr),jr})).apply(this,arguments)}function ln(at,ze){const bt=dt(at),Vt=bt.tokenObservers.filter($t=>$t.next!==ze);0===Vt.length&&bt.tokenRefresher&&bt.tokenRefresher.isRunning()&&bt.tokenRefresher.stop(),tt(at,Object.assign(Object.assign({},bt),{tokenObservers:Vt}))}function Wt(at){const{app:ze}=at,bt=dt(ze);let Vt=bt.tokenRefresher;Vt||(Vt=function an(at){const{app:ze}=at;return new it((0,O.Z)(function*(){let Vt;if(Vt=dt(ze).token?yield lt(at,!0):yield lt(at),Vt.error)throw Vt.error}),()=>!0,()=>{const bt=dt(ze);if(bt.token){let Vt=bt.token.issuedAtTimeMillis+.5*(bt.token.expireTimeMillis-bt.token.issuedAtTimeMillis)+3e5;return Vt=Math.min(Vt,bt.token.expireTimeMillis-3e5),Math.max(0,Vt-Date.now())}return 0},3e4,96e4)}(at),tt(ze,Object.assign(Object.assign({},bt),{tokenRefresher:Vt}))),!Vt.isRunning()&&bt.isTokenAutoRefreshEnabled&&Vt.start()}function jn(at,ze){const bt=dt(at).tokenObservers;for(const Vt of bt)try{"EXTERNAL"===Vt.type&&null!=ze.error?Vt.error(ze.error):Vt.next(ze)}catch($t){}}function hn(at){return at.expireTimeMillis-Date.now()>0}function Hn(at){return{token:ct(ye),error:at}}class Ut{constructor(ze,bt){this.app=ze,this.heartbeatServiceProvider=bt}_delete(){const{tokenObservers:ze}=dt(this.app);for(const bt of ze)ln(this.app,bt.next);return Promise.resolve()}}const Qt="app-check-internal";!function sn(){(0,V._registerComponent)(new Y.wA("app-check",at=>function nr(at,ze){return new Ut(at,ze)}(at.getProvider("app").getImmediate(),at.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((at,ze,bt)=>{at.getProvider(Qt).initialize()})),(0,V._registerComponent)(new Y.wA(Qt,at=>function kn(at){return{getToken:ze=>lt(at,ze),addTokenListener:ze=>function Pt(at,ze,bt,Vt){const{app:$t}=at,bn=dt($t),Dr={next:bt,error:Vt,type:ze};if(tt($t,Object.assign(Object.assign({},bn),{tokenObservers:[...bn.tokenObservers,Dr]})),bn.token&&hn(bn.token)){const jr=bn.token;Promise.resolve().then(()=>{bt({token:jr.token}),Wt(at)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>Wt(at))}(at,"INTERNAL",ze),removeTokenListener:ze=>ln(at.app,ze)}}(at.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,V.registerVersion)("@firebase/app-check","0.5.4")}();class gn{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(pt,w,x)=>{"use strict";x.d(w,{Ot:()=>N,ZF:()=>ve,hX:()=>dt,z6:()=>O});var p=x(5867),e=x(5e3),T=x(5813);class N{constructor(it){return it}}class O{constructor(){return(0,p.C6)()}}const J=new e.OlP("angularfire2._apps"),ne={provide:N,useFactory:function Y($e){return $e&&1===$e.length?$e[0]:new N((0,p.Mq)())},deps:[[new e.FiY,J]]},$={provide:O,deps:[[new e.FiY,J]]};function re($e){return(it,Ae)=>{const Ke=it.runOutsideAngular(()=>$e(Ae));return new N(Ke)}}let pe=(()=>{class $e{constructor(Ae){(0,p.KN)("angularfire",T.q4.full,"core"),(0,p.KN)("angularfire",T.q4.full,"app"),(0,p.KN)("angular",e.q4F.full,Ae.toString())}}return $e.\u0275fac=function(Ae){return new(Ae||$e)(e.LFG(e.Lbi))},$e.\u0275mod=e.oAB({type:$e}),$e.\u0275inj=e.cJS({providers:[ne,$]}),$e})();function dt($e,...it){return{ngModule:pe,providers:[{provide:J,useFactory:re($e),multi:!0,deps:[e.R0b,e.zs3,T.HU,...it]}]}}const ve=(0,T.u3)(p.ZF,!0)},2011:(pt,w,x)=>{"use strict";x.d(w,{Dh:()=>Y,GT:()=>O,cc:()=>dt,on:()=>ne,pX:()=>N,xv:()=>J});var p=x(5e3),e=x(127);pt=x.hmd(pt);const T=["ngOnDestroy"],N=(ve,je,ke,gt={})=>new Proxy(ve,{get:($e,it)=>ke.runOutsideAngular(()=>{var Ae;if(ve[it])return(null===(Ae=null==gt?void 0:gt.spy)||void 0===Ae?void 0:Ae.get)&&gt.spy.get(it,ve[it]),ve[it];if(T.indexOf(it)>-1)return()=>{};const Ke=je.toPromise().then(Ue=>{const Je=Ue&&Ue[it];return"function"==typeof Je?Je.bind(Ue):Je&&Je.then?Je.then(_e=>ke.run(()=>_e)):ke.run(()=>Je)});return new Proxy(()=>{},{get:(Ue,Je)=>Ke[Je],apply:(Ue,Je,_e)=>Ke.then(ue=>{var oe;const Ce=ue&&ue(..._e);return(null===(oe=null==gt?void 0:gt.spy)||void 0===oe?void 0:oe.apply)&&gt.spy.apply(it,_e,Ce),Ce})})})}),O=(ve,je)=>{je.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(gt=>{Object.defineProperty(ve.prototype,gt,Object.getOwnPropertyDescriptor(ke.prototype||ke,gt))})})};class V{constructor(je){return je}}const Y=new p.OlP("angularfire2.app.options"),J=new p.OlP("angularfire2.app.name");function ne(ve,je,ke){const $e="object"==typeof ke&&ke||{};$e.name=$e.name||"string"==typeof ke&&ke||"[DEFAULT]";const Ae=e.Z.apps.filter(Ke=>Ke&&Ke.name===$e.name)[0]||je.runOutsideAngular(()=>e.Z.initializeApp(ve,$e));try{JSON.stringify(ve)!==JSON.stringify(Ae.options)&&$("error",`${Ae.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(Ke){}return new V(Ae)}const $=(ve,...je)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ve](...je)};function dt(ve,je,ke,gt,$e){const[,it,Ae]=globalThis.\u0275AngularfireInstanceCache.find(Ke=>Ke[0]===ve)||[];if(it)return function tt(ve,je){try{return ve.toString()===je.toString()}catch(ke){return ve===je}}($e,Ae)||(vt("error",`${je} was already initialized on the ${ke} Firebase App with different settings.${Qe?" You may need to reload as Firebase is not HMR aware.":""}`),vt("warn",{is:$e,was:Ae})),it;{const Ke=gt();return globalThis.\u0275AngularfireInstanceCache.push([ve,Ke,$e]),Ke}}const Qe=!!pt.hot,vt=(ve,...je)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[ve](...je)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(pt,w,x)=>{"use strict";x.d(w,{gg:()=>ta,ET:()=>wl,hJ:()=>vh,BS:()=>Ru,JU:()=>Oc,ad:()=>ha,Cm:()=>yd});var p=x(5813),e=x(5e3),T=x(3692),N=x(5867),O=x(5861),V=x(2090),Y=x(9681),J=x(655),ne=x(1877),$=x(4859);const ke=function ve(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},gt=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),it=new ne.Yd("@firebase/auth");function Ae(A,...v){it.logLevel<=ne.in.ERROR&&it.error(`Auth (${Y.SDK_VERSION}): ${A}`,...v)}function Ke(A,...v){throw ue(A,...v)}function Ue(A,...v){return ue(A,...v)}function Je(A,v,C){const B=Object.assign(Object.assign({},ke()),{[v]:C});return new V.LL("auth","Firebase",B).create(v,{appName:A.name})}function ue(A,...v){if("string"!=typeof A){const C=v[0],B=[...v.slice(1)];return B[0]&&(B[0].appName=A.name),A._errorFactory.create(C,...B)}return gt.create(A,...v)}function oe(A,v,...C){if(!A)throw ue(v,...C)}function Ce(A){const v="INTERNAL ASSERTION FAILED: "+A;throw Ae(v),new Error(v)}function qe(A,v){A||Ce(v)}const Ee=new Map;function xt(A){qe(A instanceof Function,"Expected a class definition");let v=Ee.get(A);return v?(qe(v instanceof A,"Instance stored in cache mismatched with class"),v):(v=new A,Ee.set(A,v),v)}function Zt(){var A;return"undefined"!=typeof self&&(null===(A=self.location)||void 0===A?void 0:A.protocol)||null}class $n{constructor(v,C){this.shortDelay=v,this.longDelay=C,qe(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function yn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===Zt()||"https:"===Zt()}()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class yr{static initialize(v,C,B){this.fetchImpl=v,C&&(this.headersImpl=C),B&&(this.responseImpl=B)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Ce("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Ce("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Ce("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const _r={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ii=new $n(3e4,6e4);function Vr(A,v,C,B){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,O.Z)(function*(A,v,C,B,me={}){return Ti(A,me,(0,O.Z)(function*(){let Re={},At={};B&&("GET"===v?At=B:Re={body:JSON.stringify(B)});const nn=(0,V.xO)(Object.assign({key:A.config.apiKey},At)).slice(1),Jn=yield A._getAdditionalHeaders();return Jn["Content-Type"]="application/json",A.languageCode&&(Jn["X-Firebase-Locale"]=A.languageCode),yr.fetch()(Bn(A,A.config.apiHost,C,nn),Object.assign({method:v,headers:Jn,referrerPolicy:"no-referrer"},Re))}))})).apply(this,arguments)}function Ti(A,v,C){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,O.Z)(function*(A,v,C){A._canInitEmulator=!1;const B=Object.assign(Object.assign({},_r),v);try{const me=new qi(A),Re=yield Promise.race([C(),me.promise]);me.clearNetworkTimeout();const At=yield Re.json();if("needConfirmation"in At)throw oi(A,"account-exists-with-different-credential",At);if(Re.ok&&!("errorMessage"in At))return At;{const nn=Re.ok?At.errorMessage:At.error.message,[Jn,pr]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Jn)throw oi(A,"credential-already-in-use",At);if("EMAIL_EXISTS"===Jn)throw oi(A,"email-already-in-use",At);const Or=B[Jn]||Jn.toLowerCase().replace(/[_\s]+/g,"-");if(pr)throw Je(A,Or,pr);Ke(A,Or)}}catch(me){if(me instanceof V.ZR)throw me;Ke(A,"network-request-failed")}})).apply(this,arguments)}function Bn(A,v,C,B){const me=`${v}${C}?${B}`;return A.config.emulator?function Er(A,v){qe(A.emulator,"Emulator should always be set here");const{url:C}=A.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}(A.config,me):`${A.config.apiScheme}://${me}`}class qi{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,B)=>{this.timer=setTimeout(()=>B(Ue(this.auth,"network-request-failed")),ii.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(A,v,C){const B={appName:A.name};C.email&&(B.email=C.email),C.phoneNumber&&(B.phoneNumber=C.phoneNumber);const me=Ue(A,v,B);return me.customData._tokenResponse=C,me}function Fe(){return(Fe=(0,O.Z)(function*(A,v){return Vr(A,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function ae(A,v){return ye.apply(this,arguments)}function ye(){return(ye=(0,O.Z)(function*(A,v){return Vr(A,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function ct(A){if(A)try{const v=new Date(Number(A));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function Pt(){return(Pt=(0,O.Z)(function*(A,v=!1){const C=(0,V.m9)(A),B=yield C.getIdToken(v),me=Wt(B);oe(me&&me.exp&&me.auth_time&&me.iat,C.auth,"internal-error");const Re="object"==typeof me.firebase?me.firebase:void 0,At=null==Re?void 0:Re.sign_in_provider;return{claims:me,token:B,authTime:ct(ln(me.auth_time)),issuedAtTime:ct(ln(me.iat)),expirationTime:ct(ln(me.exp)),signInProvider:At||null,signInSecondFactor:(null==Re?void 0:Re.sign_in_second_factor)||null}})).apply(this,arguments)}function ln(A){return 1e3*Number(A)}function Wt(A){const[v,C,B]=A.split(".");if(void 0===v||void 0===C||void 0===B)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const me=(0,V.tV)(C);return me?JSON.parse(me):(Ae("Failed to decode base64 JWT payload"),null)}catch(me){return Ae("Caught error parsing JWT payload as JSON",me),null}}function jn(A,v){return hn.apply(this,arguments)}function hn(){return(hn=(0,O.Z)(function*(A,v,C=!1){if(C)return v;try{return yield v}catch(B){throw B instanceof V.ZR&&Hn(B)&&A.auth.currentUser===A&&(yield A.auth.signOut()),B}})).apply(this,arguments)}function Hn({code:A}){return"auth/user-disabled"===A||"auth/user-token-expired"===A}class Ut{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const B=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),B}{this.errorBackoff=3e4;const me=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,me)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const B=this.getInterval(v);this.timerId=setTimeout((0,O.Z)(function*(){yield C.iteration()}),B)}iteration(){var v=this;return(0,O.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&v.schedule(!0))}v.schedule()})()}}class nr{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=ct(this.lastLoginAt),this.creationTime=ct(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(A){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,O.Z)(function*(A){var v;const C=A.auth,B=yield A.getIdToken(),me=yield jn(A,ae(C,{idToken:B}));oe(null==me?void 0:me.users.length,C,"internal-error");const Re=me.users[0];A._notifyReloadListener(Re);const At=(null===(v=Re.providerUserInfo)||void 0===v?void 0:v.length)?Zn(Re.providerUserInfo):[],nn=vn(A.providerData,At),Or=!!A.isAnonymous&&!(A.email&&Re.passwordHash||(null==nn?void 0:nn.length)),Yi={uid:Re.localId,displayName:Re.displayName||null,photoURL:Re.photoUrl||null,email:Re.email||null,emailVerified:Re.emailVerified||!1,phoneNumber:Re.phoneNumber||null,tenantId:Re.tenantId||null,providerData:nn,metadata:new nr(Re.createdAt,Re.lastLoginAt),isAnonymous:Or};Object.assign(A,Yi)})).apply(this,arguments)}function tn(){return(tn=(0,O.Z)(function*(A){const v=(0,V.m9)(A);yield kn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function vn(A,v){return[...A.filter(B=>!v.some(me=>me.providerId===B.providerId)),...v]}function Zn(A){return A.map(v=>{var{providerId:C}=v,B=(0,J._T)(v,["providerId"]);return{providerId:C,uid:B.rawId||"",displayName:B.displayName||null,email:B.email||null,phoneNumber:B.phoneNumber||null,photoURL:B.photoUrl||null}})}function Pe(){return(Pe=(0,O.Z)(function*(A,v){const C=yield Ti(A,{},(0,O.Z)(function*(){const B=(0,V.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:me,apiKey:Re}=A.config,At=Bn(A,me,"/v1/token",`key=${Re}`),nn=yield A._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",yr.fetch()(At,{method:"POST",headers:nn,body:B})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class De{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){oe(v.idToken,"internal-error"),oe(void 0!==v.idToken,"internal-error"),oe(void 0!==v.refreshToken,"internal-error");const C="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function an(A){const v=Wt(A);return oe(v,"internal-error"),oe(void 0!==v.exp,"internal-error"),oe(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}getToken(v,C=!1){var B=this;return(0,O.Z)(function*(){return oe(!B.accessToken||B.refreshToken,v,"user-token-expired"),C||!B.accessToken||B.isExpired?B.refreshToken?(yield B.refresh(v,B.refreshToken),B.accessToken):null:B.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var B=this;return(0,O.Z)(function*(){const{accessToken:me,refreshToken:Re,expiresIn:At}=yield function Un(A,v){return Pe.apply(this,arguments)}(v,C);B.updateTokensAndExpiration(me,Re,Number(At))})()}updateTokensAndExpiration(v,C,B){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*B}static fromJSON(v,C){const{refreshToken:B,accessToken:me,expirationTime:Re}=C,At=new De;return B&&(oe("string"==typeof B,"internal-error",{appName:v}),At.refreshToken=B),me&&(oe("string"==typeof me,"internal-error",{appName:v}),At.accessToken=me),Re&&(oe("number"==typeof Re,"internal-error",{appName:v}),At.expirationTime=Re),At}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new De,this.toJSON())}_performRefresh(){return Ce("not implemented")}}function be(A,v){oe("string"==typeof A||void 0===A,"internal-error",{appName:v})}class ut{constructor(v){var{uid:C,auth:B,stsTokenManager:me}=v,Re=(0,J._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ut(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=B,this.stsTokenManager=me,this.accessToken=me.accessToken,this.displayName=Re.displayName||null,this.email=Re.email||null,this.emailVerified=Re.emailVerified||!1,this.phoneNumber=Re.phoneNumber||null,this.photoURL=Re.photoURL||null,this.isAnonymous=Re.isAnonymous||!1,this.tenantId=Re.tenantId||null,this.providerData=Re.providerData?[...Re.providerData]:[],this.metadata=new nr(Re.createdAt||void 0,Re.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,O.Z)(function*(){const B=yield jn(C,C.stsTokenManager.getToken(C.auth,v));return oe(B,C.auth,"internal-error"),C.accessToken!==B&&(C.accessToken=B,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),B})()}getIdTokenResult(v){return function yt(A){return Pt.apply(this,arguments)}(this,v)}reload(){return function ft(A){return tn.apply(this,arguments)}(this)}_assign(v){this!==v&&(oe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new ut(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var B=this;return(0,O.Z)(function*(){let me=!1;v.idToken&&v.idToken!==B.stsTokenManager.accessToken&&(B.stsTokenManager.updateFromServerResponse(v),me=!0),C&&(yield kn(B)),yield B.auth._persistUserIfCurrent(B),me&&B.auth._notifyListenersIfCurrent(B)})()}delete(){var v=this;return(0,O.Z)(function*(){const C=yield v.getIdToken();return yield jn(v,function ei(A,v){return Fe.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var B,me,Re,At,nn,Jn,pr,Or;const Yi=null!==(B=C.displayName)&&void 0!==B?B:void 0,fa=null!==(me=C.email)&&void 0!==me?me:void 0,Ja=null!==(Re=C.phoneNumber)&&void 0!==Re?Re:void 0,tl=null!==(At=C.photoURL)&&void 0!==At?At:void 0,Ch=null!==(nn=C.tenantId)&&void 0!==nn?nn:void 0,iu=null!==(Jn=C._redirectEventId)&&void 0!==Jn?Jn:void 0,Bu=null!==(pr=C.createdAt)&&void 0!==pr?pr:void 0,ou=null!==(Or=C.lastLoginAt)&&void 0!==Or?Or:void 0,{uid:su,emailVerified:wd,isAnonymous:Pf,providerData:Dd,stsTokenManager:Ad}=C;oe(su&&Ad,v,"internal-error");const Gp=De.fromJSON(this.name,Ad);oe("string"==typeof su,v,"internal-error"),be(Yi,v.name),be(fa,v.name),oe("boolean"==typeof wd,v,"internal-error"),oe("boolean"==typeof Pf,v,"internal-error"),be(Ja,v.name),be(tl,v.name),be(Ch,v.name),be(iu,v.name),be(Bu,v.name),be(ou,v.name);const Sh=new ut({uid:su,auth:v,email:fa,emailVerified:wd,displayName:Yi,isAnonymous:Pf,photoURL:tl,phoneNumber:Ja,tenantId:Ch,stsTokenManager:Gp,createdAt:Bu,lastLoginAt:ou});return Dd&&Array.isArray(Dd)&&(Sh.providerData=Dd.map(Vp=>Object.assign({},Vp))),iu&&(Sh._redirectEventId=iu),Sh}static _fromIdTokenResponse(v,C,B=!1){return(0,O.Z)(function*(){const me=new De;me.updateFromServerResponse(C);const Re=new ut({uid:C.localId,auth:v,stsTokenManager:me,isAnonymous:B});return yield kn(Re),Re})()}}const qt=(()=>{class A{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,O.Z)(function*(){return!0})()}_set(C,B){var me=this;return(0,O.Z)(function*(){me.storage[C]=B})()}_get(C){var B=this;return(0,O.Z)(function*(){const me=B.storage[C];return void 0===me?null:me})()}_remove(C){var B=this;return(0,O.Z)(function*(){delete B.storage[C]})()}_addListener(C,B){}_removeListener(C,B){}}return A.type="NONE",A})();function Wn(A,v,C){return`firebase:${A}:${v}:${C}`}class qn{constructor(v,C,B){this.persistence=v,this.auth=C,this.userKey=B;const{config:me,name:Re}=this.auth;this.fullUserKey=Wn(this.userKey,me.apiKey,Re),this.fullPersistenceKey=Wn("persistence",me.apiKey,Re),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,O.Z)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?ut._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,O.Z)(function*(){if(C.persistence===v)return;const B=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,B?C.setCurrentUser(B):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,B="authUser"){return(0,O.Z)(function*(){if(!C.length)return new qn(xt(qt),v,B);const me=(yield Promise.all(C.map(function(){var pr=(0,O.Z)(function*(Or){if(yield Or._isAvailable())return Or});return function(Or){return pr.apply(this,arguments)}}()))).filter(pr=>pr);let Re=me[0]||xt(qt);const At=Wn(B,v.config.apiKey,v.name);let nn=null;for(const pr of C)try{const Or=yield pr._get(At);if(Or){const Yi=ut._fromJSON(v,Or);pr!==Re&&(nn=Yi),Re=pr;break}}catch(Or){}const Jn=me.filter(pr=>pr._shouldAllowMigration);return Re._shouldAllowMigration&&Jn.length?(Re=Jn[0],nn&&(yield Re._set(At,nn.toJSON())),yield Promise.all(C.map(function(){var pr=(0,O.Z)(function*(Or){if(Or!==Re)try{yield Or._remove(At)}catch(Yi){}});return function(Or){return pr.apply(this,arguments)}}())),new qn(Re,v,B)):new qn(Re,v,B)})()}}function sr(A){const v=A.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(function Pn(A=(0,V.z$)()){return/iemobile/i.test(A)}(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(function ar(A=(0,V.z$)()){return/firefox\//i.test(A)}(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(function nt(A=(0,V.z$)()){return/blackberry/i.test(A)}(v))return"Blackberry";if(function Ct(A=(0,V.z$)()){return/webos/i.test(A)}(v))return"Webos";if(function cr(A=(0,V.z$)()){const v=A.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}(v))return"Safari";if((v.includes("chrome/")||function Tn(A=(0,V.z$)()){return/crios\//i.test(A)}(v))&&!v.includes("edge/"))return"Chrome";if(function Sn(A=(0,V.z$)()){return/android/i.test(A)}(v))return"Android";{const B=A.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==B?void 0:B.length))return B[1]}return"Other"}function Rt(A,v=[]){let C;switch(A){case"Browser":C=sr((0,V.z$)());break;case"Worker":C=`${sr((0,V.z$)())}-${A}`;break;default:C=A}const B=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${Y.SDK_VERSION}/${B}`}class gn{constructor(v,C,B){this.app=v,this.heartbeatServiceProvider=C,this.config=B,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mn(this),this.idTokenSubscription=new mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=gt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=B.sdkClientVersion}_initializeWithPersistence(v,C){var B=this;return C&&(this._popupRedirectResolver=xt(C)),this._initializationPromise=this.queue((0,O.Z)(function*(){var me,Re;if(!B._deleted&&(B.persistenceManager=yield qn.create(B,v),!B._deleted)){if(null===(me=B._popupRedirectResolver)||void 0===me?void 0:me._shouldInitProactively)try{yield B._popupRedirectResolver._initialize(B)}catch(At){}yield B.initializeCurrentUser(C),B.lastNotifiedUid=(null===(Re=B.currentUser)||void 0===Re?void 0:Re.uid)||null,!B._deleted&&(B._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,O.Z)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C)}})()}initializeCurrentUser(v){var C=this;return(0,O.Z)(function*(){var B;let me=yield C.assertedPersistence.getCurrentUser();if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Re=null===(B=C.redirectUser)||void 0===B?void 0:B._redirectEventId,At=null==me?void 0:me._redirectEventId,nn=yield C.tryRedirectSignIn(v);(!Re||Re===At)&&(null==nn?void 0:nn.user)&&(me=nn.user)}return me?me._redirectEventId?(oe(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===me._redirectEventId?C.directlySetCurrentUser(me):C.reloadAndSetCurrentUserOrClear(me)):C.reloadAndSetCurrentUserOrClear(me):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(v){var C=this;return(0,O.Z)(function*(){let B=null;try{B=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch(me){yield C._setRedirectUser(null)}return B})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,O.Z)(function*(){try{yield kn(v)}catch(B){if("auth/network-request-failed"!==B.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function or(){if("undefined"==typeof navigator)return null;const A=navigator;return A.languages&&A.languages[0]||A.language||null}()}_delete(){var v=this;return(0,O.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,O.Z)(function*(){const B=v?(0,V.m9)(v):null;return B&&oe(B.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(B&&B._clone(C))})()}_updateCurrentUser(v){var C=this;return(0,O.Z)(function*(){if(!C._deleted)return v&&oe(C.tenantId===v.tenantId,C,"tenant-id-mismatch"),C.queue((0,O.Z)(function*(){yield C.directlySetCurrentUser(v),C.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,O.Z)(function*(){return(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null)})()}setPersistence(v){var C=this;return this.queue((0,O.Z)(function*(){yield C.assertedPersistence.setPersistence(xt(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new V.LL("auth","Firebase",v())}onAuthStateChanged(v,C,B){return this.registerStateListener(this.authStateSubscription,v,C,B)}onIdTokenChanged(v,C,B){return this.registerStateListener(this.idTokenSubscription,v,C,B)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var B=this;return(0,O.Z)(function*(){const me=yield B.getOrInitRedirectPersistenceManager(C);return null===v?me.removeCurrentUser():me.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,O.Z)(function*(){if(!C.redirectPersistenceManager){const B=v&&xt(v)||C._popupRedirectResolver;oe(B,C,"argument-error"),C.redirectPersistenceManager=yield qn.create(C,[xt(B._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,O.Z)(function*(){var B,me;return C._isInitialized&&(yield C.queue((0,O.Z)(function*(){}))),(null===(B=C._currentUser)||void 0===B?void 0:B._redirectEventId)===v?C._currentUser:(null===(me=C.redirectUser)||void 0===me?void 0:me._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,O.Z)(function*(){if(v===C.currentUser)return C.queue((0,O.Z)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const B=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==B&&(this.lastNotifiedUid=B,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,B,me){if(this._deleted)return()=>{};const Re="function"==typeof C?C:C.next.bind(C),At=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(At,this,"internal-error"),At.then(()=>Re(this.currentUser)),"function"==typeof C?v.addObserver(C,B,me):v.addObserver(C)}directlySetCurrentUser(v){var C=this;return(0,O.Z)(function*(){C.currentUser&&C.currentUser!==v&&(C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh()),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Rt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,O.Z)(function*(){var C;const B={"X-Client-Version":v.clientVersion};v.app.options.appId&&(B["X-Firebase-gmpid"]=v.app.options.appId);const me=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return me&&(B["X-Firebase-Client"]=me),B})()}}class mn{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,V.ne)(C=>this.observer=C)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function Ho(A){return`__${A}${Math.floor(1e6*Math.random())}`})("rcb"),new $n(3e4,6e4),new $n(2e3,1e4),new $n(3e4,6e4),new $n(5e3,15e3);var rh="@firebase/auth",ih="0.19.10";class Jc{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,O.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(B=>{var me;v((null===(me=B)||void 0===me?void 0:me.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);!C||(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function cd(A){(0,Y._registerComponent)(new $.wA("auth",(v,{options:C})=>{const B=v.getProvider("app").getImmediate(),me=v.getProvider("heartbeat"),{apiKey:Re,authDomain:At}=B.options;return((nn,Jn)=>{oe(Re&&!Re.includes(":"),"invalid-api-key",{appName:nn.name}),oe(!(null==At?void 0:At.includes(":")),"argument-error",{appName:nn.name});const pr={apiKey:Re,authDomain:At,clientPlatform:A,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rt(A)},Or=new gn(nn,Jn,pr);return function An(A,v){const C=(null==v?void 0:v.persistence)||[],B=(Array.isArray(C)?C:[C]).map(xt);(null==v?void 0:v.errorMap)&&A._updateErrorMap(v.errorMap),A._initializeWithPersistence(B,null==v?void 0:v.popupRedirectResolver)}(Or,C),Or})(B,me)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,B)=>{v.getProvider("auth-internal").initialize()})),(0,Y._registerComponent)(new $.wA("auth-internal",v=>{const C=function xn(A){return(0,V.m9)(A)}(v.getProvider("auth").getImmediate());return new Jc(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Y.registerVersion)(rh,ih,function Wr(A){switch(A){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(A)),(0,Y.registerVersion)(rh,ih,"esm2017")}("Browser");class is{constructor(){return(0,p.vb)("auth")}}var Op=x(7128),Nu=x(3209),dh=x(8306),hh=x(4004),yf={includeMetadataChanges:!1};function md(A,v){return void 0===v&&(v={}),function kt(A){return function fh(A,v){return void 0===v&&(v=yf),new dh.y(function(C){return{unsubscribe:(0,Nu.cf)(A,v,{next:C.next.bind(C),error:C.error.bind(C),complete:C.complete.bind(C)})}})}(A,{includeMetadataChanges:!0}).pipe((0,hh.U)(function(v){return v.docs}))}(A).pipe((0,hh.U)(function(C){return C.map(function(B){return function ph(A,v){void 0===v&&(v={});var C=A.data();return!A.exists()||"object"!=typeof C||null===C||v.idField&&(C[v.idField]=A.id),C}(B,v)})}))}class ta{constructor(v){return v}}const Pc="firestore",eu=new e.OlP("angularfire2.firestore-instances");function Rp(A){return(v,C)=>{const B=v.runOutsideAngular(()=>A(C));return new ta(B)}}const Ji={provide:class Cf{constructor(){return(0,p.vb)(Pc)}},deps:[[new e.FiY,eu]]},da={provide:ta,useFactory:function _d(A,v){const C=(0,p.JM)(Pc,A,v);return C&&new ta(C)},deps:[[new e.FiY,eu],T.Ot]};let vd=(()=>{class A{constructor(){(0,N.KN)("angularfire",p.q4.full,"fst")}}return A.\u0275fac=function(C){return new(C||A)},A.\u0275mod=e.oAB({type:A}),A.\u0275inj=e.cJS({providers:[da,Ji]}),A})();function yd(A,...v){return{ngModule:vd,providers:[{provide:eu,useFactory:Rp(A),multi:!0,deps:[e.R0b,e.zs3,p.HU,T.z6,[new e.FiY,is],[new e.FiY,Op.nm],...v]}]}}const Ru=(0,p.u3)(md,!0),wl=(0,p.u3)(Nu.ET,!0),vh=(0,p.u3)(Nu.hJ,!0),Oc=(0,p.u3)(Nu.JU,!0),ha=(0,p.u3)(Nu.ad,!0)},5813:(pt,w,x)=>{"use strict";x.d(w,{q4:()=>lc,iC:()=>qc,HU:()=>Ga,vb:()=>bl,JM:()=>id,u3:()=>Bs});var p=x(5e3),e=x(5867),T=x(5861),N=x(9681),O=x(2090),V=x(4859),Y=x(1877);const J="@firebase/installations",re="w:0.5.6",pe="FIS_v2",je=new O.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(U){return U instanceof O.ZR&&U.code.includes("request-failed")}function gt({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function $e(U){return{token:U.token,requestStatus:2,expiresIn:ue(U.expiresIn),creationTime:Date.now()}}function it(U,W){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,T.Z)(function*(U,W){const Ge=(yield W.json()).error;return je.create("request-failed",{requestName:U,serverCode:Ge.code,serverMessage:Ge.message,serverStatus:Ge.status})})).apply(this,arguments)}function Ke({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ue(U,{refreshToken:W}){const le=Ke(U);return le.append("Authorization",function oe(U){return`${pe} ${U}`}(W)),le}function Je(U){return _e.apply(this,arguments)}function _e(){return(_e=(0,T.Z)(function*(U){const W=yield U();return W.status>=500&&W.status<600?U():W})).apply(this,arguments)}function ue(U){return Number(U.replace("s","000"))}function Ce(U,W){return qe.apply(this,arguments)}function qe(){return(qe=(0,T.Z)(function*({appConfig:U,heartbeatServiceProvider:W},{fid:le}){const Ge=gt(U),_t=Ke(U),Dt=W.getImmediate({optional:!0});if(Dt){const Xn=yield Dt.getHeartbeatsHeader();Xn&&_t.append("x-firebase-client",Xn)}const Dn={method:"POST",headers:_t,body:JSON.stringify({fid:le,authVersion:pe,appId:U.appId,sdkVersion:re})},Mr=yield Je(()=>fetch(Ge,Dn));if(Mr.ok){const Xn=yield Mr.json();return{fid:Xn.fid||le,registrationStatus:2,refreshToken:Xn.refreshToken,authToken:$e(Xn.authToken)}}throw yield it("Create Installation",Mr)})).apply(this,arguments)}function Ee(U){return new Promise(W=>{setTimeout(W,U)})}const Lt=/^[cdef][\w-]{21}$/;function Nt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const le=function Et(U){return function xt(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Lt.test(le)?le:""}catch(U){return""}}function Zt(U){return`${U.appName}!${U.appId}`}const yn=new Map;function or(U,W){const le=Zt(U);yr(le,W),function _r(U,W){const le=function xr(){return!ii&&"BroadcastChannel"in self&&(ii=new BroadcastChannel("[Firebase] FID Change"),ii.onmessage=U=>{yr(U.data.key,U.data.fid)}),ii}();le&&le.postMessage({key:U,fid:W}),function Vr(){0===yn.size&&ii&&(ii.close(),ii=null)}()}(le,W)}function yr(U,W){const le=yn.get(U);if(le)for(const Ge of le)Ge(W)}let ii=null;const Jr="firebase-installations-store";let qr=null;function ki(){return qr||(qr=(0,O.X3)("firebase-installations-database",1,(U,W)=>{0===W&&U.createObjectStore(Jr)})),qr}function Bn(U,W){return qi.apply(this,arguments)}function qi(){return(qi=(0,T.Z)(function*(U,W){const le=Zt(U),_t=(yield ki()).transaction(Jr,"readwrite"),Dt=_t.objectStore(Jr),fn=yield Dt.get(le);return yield Dt.put(W,le),yield _t.complete,(!fn||fn.fid!==W.fid)&&or(U,W.fid),W})).apply(this,arguments)}function oi(U){return ei.apply(this,arguments)}function ei(){return(ei=(0,T.Z)(function*(U){const W=Zt(U),Ge=(yield ki()).transaction(Jr,"readwrite");yield Ge.objectStore(Jr).delete(W),yield Ge.complete})).apply(this,arguments)}function Fe(U,W){return mt.apply(this,arguments)}function mt(){return(mt=(0,T.Z)(function*(U,W){const le=Zt(U),_t=(yield ki()).transaction(Jr,"readwrite"),Dt=_t.objectStore(Jr),fn=yield Dt.get(le),Dn=W(fn);return void 0===Dn?yield Dt.delete(le):yield Dt.put(Dn,le),yield _t.complete,Dn&&(!fn||fn.fid!==Dn.fid)&&or(U,Dn.fid),Dn})).apply(this,arguments)}function Be(U){return ae.apply(this,arguments)}function ae(){return(ae=(0,T.Z)(function*(U){let W;const le=yield Fe(U.appConfig,Ge=>{const _t=ye(Ge),Dt=ct(U,_t);return W=Dt.registrationPromise,Dt.installationEntry});return""===le.fid?{installationEntry:yield W}:{installationEntry:le,registrationPromise:W}})).apply(this,arguments)}function ye(U){return an(U||{fid:Nt(),registrationStatus:0})}function ct(U,W){if(0===W.registrationStatus){if(!navigator.onLine)return{installationEntry:W,registrationPromise:Promise.reject(je.create("app-offline"))};const le={fid:W.fid,registrationStatus:1,registrationTime:Date.now()},Ge=function lt(U,W){return yt.apply(this,arguments)}(U,le);return{installationEntry:le,registrationPromise:Ge}}return 1===W.registrationStatus?{installationEntry:W,registrationPromise:Pt(U)}:{installationEntry:W}}function yt(){return(yt=(0,T.Z)(function*(U,W){try{const le=yield Ce(U,W);return Bn(U.appConfig,le)}catch(le){throw ke(le)&&409===le.customData.serverCode?yield oi(U.appConfig):yield Bn(U.appConfig,{fid:W.fid,registrationStatus:0}),le}})).apply(this,arguments)}function Pt(U){return ln.apply(this,arguments)}function ln(){return(ln=(0,T.Z)(function*(U){let W=yield Wt(U.appConfig);for(;1===W.registrationStatus;)yield Ee(100),W=yield Wt(U.appConfig);if(0===W.registrationStatus){const{installationEntry:le,registrationPromise:Ge}=yield Be(U);return Ge||le}return W})).apply(this,arguments)}function Wt(U){return Fe(U,W=>{if(!W)throw je.create("installation-not-found");return an(W)})}function an(U){return function jn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function hn(U,W){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,T.Z)(function*({appConfig:U,heartbeatServiceProvider:W},le){const Ge=Ut(U,le),_t=Ue(U,le),Dt=W.getImmediate({optional:!0});if(Dt){const Xn=yield Dt.getHeartbeatsHeader();Xn&&_t.append("x-firebase-client",Xn)}const Dn={method:"POST",headers:_t,body:JSON.stringify({installation:{sdkVersion:re,appId:U.appId}})},Mr=yield Je(()=>fetch(Ge,Dn));if(Mr.ok)return $e(yield Mr.json());throw yield it("Generate Auth Token",Mr)})).apply(this,arguments)}function Ut(U,{fid:W}){return`${gt(U)}/${W}/authTokens:generate`}function nr(U){return kn.apply(this,arguments)}function kn(){return(kn=(0,T.Z)(function*(U,W=!1){let le;const Ge=yield Fe(U.appConfig,Dt=>{if(!Un(Dt))throw je.create("not-registered");const fn=Dt.authToken;if(!W&&Pe(fn))return Dt;if(1===fn.requestStatus)return le=Ft(U,W),Dt;{if(!navigator.onLine)throw je.create("app-offline");const Dn=be(Dt);return le=vn(U,Dn),Dn}});return le?yield le:Ge.authToken})).apply(this,arguments)}function Ft(U,W){return ft.apply(this,arguments)}function ft(){return(ft=(0,T.Z)(function*(U,W){let le=yield tn(U.appConfig);for(;1===le.authToken.requestStatus;)yield Ee(100),le=yield tn(U.appConfig);const Ge=le.authToken;return 0===Ge.requestStatus?nr(U,W):Ge})).apply(this,arguments)}function tn(U){return Fe(U,W=>{if(!Un(W))throw je.create("not-registered");return function ut(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(W.authToken)?Object.assign(Object.assign({},W),{authToken:{requestStatus:0}}):W})}function vn(U,W){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,T.Z)(function*(U,W){try{const le=yield hn(U,W),Ge=Object.assign(Object.assign({},W),{authToken:le});return yield Bn(U.appConfig,Ge),le}catch(le){if(!ke(le)||401!==le.customData.serverCode&&404!==le.customData.serverCode){const Ge=Object.assign(Object.assign({},W),{authToken:{requestStatus:0}});yield Bn(U.appConfig,Ge)}else yield oi(U.appConfig);throw le}})).apply(this,arguments)}function Un(U){return void 0!==U&&2===U.registrationStatus}function Pe(U){return 2===U.requestStatus&&!function De(U){const W=Date.now();return W<U.creationTime||U.creationTime+U.expiresIn<W+36e5}(U)}function be(U){const W={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:W})}function qt(){return(qt=(0,T.Z)(function*(U){const W=U,{installationEntry:le,registrationPromise:Ge}=yield Be(W);return Ge?Ge.catch(console.error):nr(W).catch(console.error),le.fid})).apply(this,arguments)}function qn(){return(qn=(0,T.Z)(function*(U,W=!1){const le=U;return yield sr(le),(yield nr(le,W)).token})).apply(this,arguments)}function sr(U){return ar.apply(this,arguments)}function ar(){return(ar=(0,T.Z)(function*(U){const{registrationPromise:W}=yield Be(U);W&&(yield W)})).apply(this,arguments)}function gr(U){return je.create("missing-app-config-values",{valueName:U})}const Qt="installations",rt=U=>{const W=U.getProvider("app").getImmediate(),le=function er(U){if(!U||!U.options)throw gr("App Configuration");if(!U.name)throw gr("App Name");const W=["projectId","apiKey","appId"];for(const le of W)if(!U.options[le])throw gr(le);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(W);return{app:W,appConfig:le,heartbeatServiceProvider:(0,N._getProvider)(W,"heartbeat"),_delete:()=>Promise.resolve()}},Rt=U=>{const W=U.getProvider("app").getImmediate(),le=(0,N._getProvider)(W,Qt).getImmediate();return{getId:()=>function Ye(U){return qt.apply(this,arguments)}(le),getToken:_t=>function Wn(U){return qn.apply(this,arguments)}(le,_t)}};(function gn(){(0,N._registerComponent)(new V.wA(Qt,rt,"PUBLIC")),(0,N._registerComponent)(new V.wA("installations-internal",Rt,"PRIVATE"))})(),(0,N.registerVersion)(J,"0.5.6"),(0,N.registerVersion)(J,"0.5.6","esm2017");const xn="@firebase/remote-config",Gn=new O.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ro{constructor(W,le,Ge,_t){this.client=W,this.storage=le,this.storageCache=Ge,this.logger=_t}isCachedDataFresh(W,le){if(!le)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const Ge=Date.now()-le,_t=Ge<=W;return this.logger.debug(`Config fetch cache check. Cache age millis: ${Ge}. Cache max age millis (minimumFetchIntervalMillis setting): ${W}. Is cache hit: ${_t}.`),_t}fetch(W){var le=this;return(0,T.Z)(function*(){const[Ge,_t]=yield Promise.all([le.storage.getLastSuccessfulFetchTimestampMillis(),le.storage.getLastSuccessfulFetchResponse()]);if(_t&&le.isCachedDataFresh(W.cacheMaxAgeMillis,Ge))return _t;W.eTag=_t&&_t.eTag;const Dt=yield le.client.fetch(W),fn=[le.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===Dt.status&&fn.push(le.storage.setLastSuccessfulFetchResponse(Dt)),yield Promise.all(fn),Dt})()}}function ji(U=navigator){return U.languages&&U.languages[0]||U.language}class To{constructor(W,le,Ge,_t,Dt,fn){this.firebaseInstallations=W,this.sdkVersion=le,this.namespace=Ge,this.projectId=_t,this.apiKey=Dt,this.appId=fn}fetch(W){var le=this;return(0,T.Z)(function*(){const[Ge,_t]=yield Promise.all([le.firebaseInstallations.getId(),le.firebaseInstallations.getToken()]),fn=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${le.projectId}/namespaces/${le.namespace}:fetch?key=${le.apiKey}`,Dn={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":W.eTag||"*"},Mr={sdk_version:le.sdkVersion,app_instance_id:Ge,app_instance_id_token:_t,app_id:le.appId,language_code:ji()},Xn={method:"POST",headers:Dn,body:JSON.stringify(Mr)},ni=fetch(fn,Xn),Cr=new Promise((gs,Gi)=>{W.signal.addEventListener(()=>{const zl=new Error("The operation was aborted.");zl.name="AbortError",Gi(zl)})});let Do;try{yield Promise.race([ni,Cr]),Do=yield ni}catch(gs){let Gi="fetch-client-network";throw"AbortError"===gs.name&&(Gi="fetch-timeout"),Gn.create(Gi,{originalErrorMessage:gs.message})}let _o=Do.status;const ca=Do.headers.get("ETag")||void 0;let rs,ps;if(200===Do.status){let gs;try{gs=yield Do.json()}catch(Gi){throw Gn.create("fetch-client-parse",{originalErrorMessage:Gi.message})}rs=gs.entries,ps=gs.state}if("INSTANCE_STATE_UNSPECIFIED"===ps?_o=500:"NO_CHANGE"===ps?_o=304:("NO_TEMPLATE"===ps||"EMPTY_CONFIG"===ps)&&(rs={}),304!==_o&&200!==_o)throw Gn.create("fetch-status",{httpStatus:_o});return{status:_o,eTag:ca,config:rs}})()}}class ss{constructor(W,le){this.client=W,this.storage=le}fetch(W){var le=this;return(0,T.Z)(function*(){const Ge=(yield le.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return le.attemptFetch(W,Ge)})()}attemptFetch(W,{throttleEndTimeMillis:le,backoffCount:Ge}){var _t=this;return(0,T.Z)(function*(){yield function Li(U,W){return new Promise((le,Ge)=>{const _t=Math.max(W-Date.now(),0),Dt=setTimeout(le,_t);U.addEventListener(()=>{clearTimeout(Dt),Ge(Gn.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}(W.signal,le);try{const Dt=yield _t.client.fetch(W);return yield _t.storage.deleteThrottleMetadata(),Dt}catch(Dt){if(!function Es(U){if(!(U instanceof O.ZR&&U.customData))return!1;const W=Number(U.customData.httpStatus);return 429===W||500===W||503===W||504===W}(Dt))throw Dt;const fn={throttleEndTimeMillis:Date.now()+(0,O.$s)(Ge),backoffCount:Ge+1};return yield _t.storage.setThrottleMetadata(fn),_t.attemptFetch(W,fn)}})()}}class as{constructor(W,le,Ge,_t,Dt){this.app=W,this._client=le,this._storageCache=Ge,this._storage=_t,this._logger=Dt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Fi(U,W){const le=U.target.error||void 0;return Gn.create(W,{originalErrorMessage:le&&le.message})}const no="app_namespace_store";class Yo{constructor(W,le,Ge,_t=function Ns(){return new Promise((U,W)=>{try{const le=indexedDB.open("firebase_remote_config",1);le.onerror=Ge=>{W(Fi(Ge,"storage-open"))},le.onsuccess=Ge=>{U(Ge.target.result)},le.onupgradeneeded=Ge=>{0===Ge.oldVersion&&Ge.target.result.createObjectStore(no,{keyPath:"compositeKey"})}}catch(le){W(Gn.create("storage-open",{originalErrorMessage:le}))}})}()){this.appId=W,this.appName=le,this.namespace=Ge,this.openDbPromise=_t}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(W){return this.set("last_fetch_status",W)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(W){return this.set("last_successful_fetch_timestamp_millis",W)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(W){return this.set("last_successful_fetch_response",W)}getActiveConfig(){return this.get("active_config")}setActiveConfig(W){return this.set("active_config",W)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(W){return this.set("active_config_etag",W)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(W){return this.set("throttle_metadata",W)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(W){var le=this;return(0,T.Z)(function*(){const Ge=yield le.openDbPromise;return new Promise((_t,Dt)=>{const Dn=Ge.transaction([no],"readonly").objectStore(no),Mr=le.createCompositeKey(W);try{const Xn=Dn.get(Mr);Xn.onerror=ni=>{Dt(Fi(ni,"storage-get"))},Xn.onsuccess=ni=>{const Cr=ni.target.result;_t(Cr?Cr.value:void 0)}}catch(Xn){Dt(Gn.create("storage-get",{originalErrorMessage:Xn&&Xn.message}))}})})()}set(W,le){var Ge=this;return(0,T.Z)(function*(){const _t=yield Ge.openDbPromise;return new Promise((Dt,fn)=>{const Mr=_t.transaction([no],"readwrite").objectStore(no),Xn=Ge.createCompositeKey(W);try{const ni=Mr.put({compositeKey:Xn,value:le});ni.onerror=Cr=>{fn(Fi(Cr,"storage-set"))},ni.onsuccess=()=>{Dt()}}catch(ni){fn(Gn.create("storage-set",{originalErrorMessage:ni&&ni.message}))}})})()}delete(W){var le=this;return(0,T.Z)(function*(){const Ge=yield le.openDbPromise;return new Promise((_t,Dt)=>{const Dn=Ge.transaction([no],"readwrite").objectStore(no),Mr=le.createCompositeKey(W);try{const Xn=Dn.delete(Mr);Xn.onerror=ni=>{Dt(Fi(ni,"storage-delete"))},Xn.onsuccess=()=>{_t()}}catch(Xn){Dt(Gn.create("storage-delete",{originalErrorMessage:Xn&&Xn.message}))}})})()}createCompositeKey(W){return[this.appId,this.appName,this.namespace,W].join()}}class Si{constructor(W){this.storage=W}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var W=this;return(0,T.Z)(function*(){const le=W.storage.getLastFetchStatus(),Ge=W.storage.getLastSuccessfulFetchTimestampMillis(),_t=W.storage.getActiveConfig(),Dt=yield le;Dt&&(W.lastFetchStatus=Dt);const fn=yield Ge;fn&&(W.lastSuccessfulFetchTimestampMillis=fn);const Dn=yield _t;Dn&&(W.activeConfig=Dn)})()}setLastFetchStatus(W){return this.lastFetchStatus=W,this.storage.setLastFetchStatus(W)}setLastSuccessfulFetchTimestampMillis(W){return this.lastSuccessfulFetchTimestampMillis=W,this.storage.setLastSuccessfulFetchTimestampMillis(W)}setActiveConfig(W){return this.activeConfig=W,this.storage.setActiveConfig(W)}}function Te(){return Me.apply(this,arguments)}function Me(){return(Me=(0,T.Z)(function*(){if(!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(U){return!1}})).apply(this,arguments)}!function fo(){(0,N._registerComponent)(new V.wA("remote-config",function U(W,{instanceIdentifier:le}){const Ge=W.getProvider("app").getImmediate(),_t=W.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Gn.create("registration-window");if(!(0,O.hl)())throw Gn.create("indexed-db-unavailable");const{projectId:Dt,apiKey:fn,appId:Dn}=Ge.options;if(!Dt)throw Gn.create("registration-project-id");if(!fn)throw Gn.create("registration-api-key");if(!Dn)throw Gn.create("registration-app-id");const Mr=new Yo(Dn,Ge.name,le=le||"firebase"),Xn=new Si(Mr),ni=new Y.Yd(xn);ni.logLevel=Y.in.ERROR;const Cr=new To(_t,N.SDK_VERSION,le,Dt,fn,Dn),Do=new ss(Cr,Mr),_o=new Ro(Do,Mr,Xn,ni),ca=new as(Ge,_o,Xn,Mr,ni);return function at(U){const W=(0,O.m9)(U);W._initializePromise||(W._initializePromise=W._storageCache.loadFromStorage().then(()=>{W._isInitializationComplete=!0}))}(ca),ca},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(xn,"0.3.5"),(0,N.registerVersion)(xn,"0.3.5","esm2017")}();const fe="/firebase-messaging-sw.js",R="/firebase-cloud-messaging-push-scope",Z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ee="google.c.a.c_id",Se="google.c.a.c_l",Oe="google.c.a.ts",xe="google.c.a.e";var ht=(()=>{return(U=ht||(ht={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",ht;var U})();function ie(U){const W=new Uint8Array(U);return btoa(String.fromCharCode(...W)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(U){const le=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),Ge=atob(le),_t=new Uint8Array(Ge.length);for(let Dt=0;Dt<Ge.length;++Dt)_t[Dt]=Ge.charCodeAt(Dt);return _t}const Ze="fcm_token_details_db",un="fcm_token_object_Store";function In(U){return Mn.apply(this,arguments)}function Mn(){return Mn=(0,T.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(Dt=>Dt.name).includes(Ze))return null;let W=null;return(yield(0,O.X3)(Ze,5,function(){var Ge=(0,T.Z)(function*(_t,Dt,fn,Dn){var Mr;if(Dt<2||!_t.objectStoreNames.contains(un))return;const Xn=Dn.objectStore(un),ni=yield Xn.index("fcmSenderId").get(U);if(yield Xn.clear(),ni)if(2===Dt){const Cr=ni;if(!Cr.auth||!Cr.p256dh||!Cr.endpoint)return;W={token:Cr.fcmToken,createTime:null!==(Mr=Cr.createTime)&&void 0!==Mr?Mr:Date.now(),subscriptionOptions:{auth:Cr.auth,p256dh:Cr.p256dh,endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:"string"==typeof Cr.vapidKey?Cr.vapidKey:ie(Cr.vapidKey)}}}else if(3===Dt){const Cr=ni;W={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:ie(Cr.auth),p256dh:ie(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:ie(Cr.vapidKey)}}}else if(4===Dt){const Cr=ni;W={token:Cr.fcmToken,createTime:Cr.createTime,subscriptionOptions:{auth:ie(Cr.auth),p256dh:ie(Cr.p256dh),endpoint:Cr.endpoint,swScope:Cr.swScope,vapidKey:ie(Cr.vapidKey)}}}});return function(_t,Dt,fn,Dn){return Ge.apply(this,arguments)}}())).close(),yield(0,O.Lj)(Ze),yield(0,O.Lj)("fcm_vapid_details_db"),yield(0,O.Lj)("undefined"),Fn(W)?W:null}),Mn.apply(this,arguments)}function Fn(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:W}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof W.auth&&W.auth.length>0&&"string"==typeof W.p256dh&&W.p256dh.length>0&&"string"==typeof W.endpoint&&W.endpoint.length>0&&"string"==typeof W.swScope&&W.swScope.length>0&&"string"==typeof W.vapidKey&&W.vapidKey.length>0}const ti="firebase-messaging-store";let Ki=null;function Go(){return Ki||(Ki=(0,O.X3)("firebase-messaging-database",1,(U,W)=>{0===W&&U.createObjectStore(ti)})),Ki}function Hr(U){return H.apply(this,arguments)}function H(){return(H=(0,T.Z)(function*(U){const W=Mt(U),Ge=yield(yield Go()).transaction(ti).objectStore(ti).get(W);if(Ge)return Ge;{const _t=yield In(U.appConfig.senderId);if(_t)return yield ce(U,_t),_t}})).apply(this,arguments)}function ce(U,W){return j.apply(this,arguments)}function j(){return(j=(0,T.Z)(function*(U,W){const le=Mt(U),_t=(yield Go()).transaction(ti,"readwrite");return yield _t.objectStore(ti).put(W,le),yield _t.complete,W})).apply(this,arguments)}function ge(U){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,T.Z)(function*(U){const W=Mt(U),Ge=(yield Go()).transaction(ti,"readwrite");yield Ge.objectStore(ti).delete(W),yield Ge.complete})).apply(this,arguments)}function Mt({appConfig:U}){return U.appId}const En=new O.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function si(U,W){return Br.apply(this,arguments)}function Br(){return(Br=(0,T.Z)(function*(U,W){const le=yield ko(U),Ge=fr(W),_t={method:"POST",headers:le,body:JSON.stringify(Ge)};let Dt;try{Dt=yield(yield fetch(ci(U.appConfig),_t)).json()}catch(fn){throw En.create("token-subscribe-failed",{errorInfo:fn})}if(Dt.error)throw En.create("token-subscribe-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw En.create("token-subscribe-no-token");return Dt.token})).apply(this,arguments)}function Ur(U,W){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,T.Z)(function*(U,W){const le=yield ko(U),Ge=fr(W.subscriptionOptions),_t={method:"PATCH",headers:le,body:JSON.stringify(Ge)};let Dt;try{Dt=yield(yield fetch(`${ci(U.appConfig)}/${W.token}`,_t)).json()}catch(fn){throw En.create("token-update-failed",{errorInfo:fn})}if(Dt.error)throw En.create("token-update-failed",{errorInfo:Dt.error.message});if(!Dt.token)throw En.create("token-update-no-token");return Dt.token})).apply(this,arguments)}function xi(U,W){return ai.apply(this,arguments)}function ai(){return(ai=(0,T.Z)(function*(U,W){const Ge={method:"DELETE",headers:yield ko(U)};try{const Dt=yield(yield fetch(`${ci(U.appConfig)}/${W}`,Ge)).json();if(Dt.error)throw En.create("token-unsubscribe-failed",{errorInfo:Dt.error.message})}catch(_t){throw En.create("token-unsubscribe-failed",{errorInfo:_t})}})).apply(this,arguments)}function ci({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function ko(U){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,T.Z)(function*({appConfig:U,installations:W}){const le=yield W.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${le}`})})).apply(this,arguments)}function fr({p256dh:U,auth:W,endpoint:le,vapidKey:Ge}){const _t={web:{endpoint:le,auth:W,p256dh:U}};return Ge!==Z&&(_t.web.applicationPubKey=Ge),_t}const Rs=6048e5;function jo(U){return ls.apply(this,arguments)}function ls(){return(ls=(0,T.Z)(function*(U){const W=yield Oa(U.swRegistration,U.vapidKey),le={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:W.endpoint,auth:ie(W.getKey("auth")),p256dh:ie(W.getKey("p256dh"))},Ge=yield Hr(U.firebaseDependencies);if(Ge){if(ll(Ge.subscriptionOptions,le))return Date.now()>=Ge.createTime+Rs?Xa(U,{token:Ge.token,createTime:Date.now(),subscriptionOptions:le}):Ge.token;try{yield xi(U.firebaseDependencies,Ge.token)}catch(_t){console.warn(_t)}return en(U.firebaseDependencies,le)}return en(U.firebaseDependencies,le)})).apply(this,arguments)}function ws(U){return Ds.apply(this,arguments)}function Ds(){return(Ds=(0,T.Z)(function*(U){const W=yield Hr(U.firebaseDependencies);W&&(yield xi(U.firebaseDependencies,W.token),yield ge(U.firebaseDependencies));const le=yield U.swRegistration.pushManager.getSubscription();return!le||le.unsubscribe()})).apply(this,arguments)}function Xa(U,W){return us.apply(this,arguments)}function us(){return(us=(0,T.Z)(function*(U,W){try{const le=yield Ur(U.firebaseDependencies,W),Ge=Object.assign(Object.assign({},W),{token:le,createTime:Date.now()});return yield ce(U.firebaseDependencies,Ge),le}catch(le){throw yield ws(U),le}})).apply(this,arguments)}function en(U,W){return dr.apply(this,arguments)}function dr(){return(dr=(0,T.Z)(function*(U,W){const Ge={token:yield si(U,W),createTime:Date.now(),subscriptionOptions:W};return yield ce(U,Ge),Ge.token})).apply(this,arguments)}function Oa(U,W){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,T.Z)(function*(U,W){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(W)})})).apply(this,arguments)}function ll(U,W){return W.vapidKey===U.vapidKey&&W.endpoint===U.endpoint&&W.auth===U.auth&&W.p256dh===U.p256dh}function qs(U){const W={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function oa(U,W){if(!W.notification)return;U.notification={};const le=W.notification.title;le&&(U.notification.title=le);const Ge=W.notification.body;Ge&&(U.notification.body=Ge);const _t=W.notification.image;_t&&(U.notification.image=_t)}(W,U),function ec(U,W){!W.data||(U.data=W.data)}(W,U),function Na(U,W){if(!W.fcmOptions)return;U.fcmOptions={};const le=W.fcmOptions.link;le&&(U.fcmOptions.link=le);const Ge=W.fcmOptions.analytics_label;Ge&&(U.fcmOptions.analyticsLabel=Ge)}(W,U),W}function Cc(U){return"object"==typeof U&&!!U&&ee in U}function Sc(U,W){const le=[];for(let Ge=0;Ge<U.length;Ge++)le.push(U.charAt(Ge)),Ge<W.length&&le.push(W.charAt(Ge));return le.join("")}function Lo(U){return En.create("missing-app-config-values",{valueName:U})}Sc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Sc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Qo{constructor(W,le,Ge){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const _t=function ul(U){if(!U||!U.options)throw Lo("App Configuration Object");if(!U.name)throw Lo("App Name");const W=["projectId","apiKey","appId","messagingSenderId"],{options:le}=U;for(const Ge of W)if(!le[Ge])throw Lo(Ge);return{appName:U.name,projectId:le.projectId,apiKey:le.apiKey,appId:le.appId,senderId:le.messagingSenderId}}(W);this.firebaseDependencies={app:W,appConfig:_t,installations:le,analyticsProvider:Ge}}_delete(){return Promise.resolve()}}function ma(U){return _a.apply(this,arguments)}function _a(){return(_a=(0,T.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(fe,{scope:R}),U.swRegistration.update().catch(()=>{})}catch(W){throw En.create("failed-service-worker-registration",{browserErrorMessage:W.message})}})).apply(this,arguments)}function ks(U,W){return Xo.apply(this,arguments)}function Xo(){return(Xo=(0,T.Z)(function*(U,W){if(!W&&!U.swRegistration&&(yield ma(U)),W||!U.swRegistration){if(!(W instanceof ServiceWorkerRegistration))throw En.create("invalid-sw-registration");U.swRegistration=W}})).apply(this,arguments)}function Vc(U,W){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,T.Z)(function*(U,W){W?U.vapidKey=W:U.vapidKey||(U.vapidKey=Z)})).apply(this,arguments)}function va(){return(va=(0,T.Z)(function*(U,W){if(!navigator)throw En.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw En.create("permission-blocked");return yield Vc(U,null==W?void 0:W.vapidKey),yield ks(U,null==W?void 0:W.serviceWorkerRegistration),jo(U)})).apply(this,arguments)}function sa(U,W,le){return ya.apply(this,arguments)}function ya(){return(ya=(0,T.Z)(function*(U,W,le){const Ge=jl(W);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(Ge,{message_id:le[ee],message_name:le[Se],message_time:le[Oe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function jl(U){switch(U){case ht.NOTIFICATION_CLICKED:return"notification_open";case ht.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function hl(){return(hl=(0,T.Z)(function*(U,W){const le=W.data;if(!le.isFirebaseMessaging)return;U.onMessageHandler&&le.messageType===ht.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(qs(le)):U.onMessageHandler.next(qs(le)));const Ge=le.data;Cc(Ge)&&"1"===Ge[xe]&&(yield sa(U,le.messageType,Ge))})).apply(this,arguments)}const Ra="@firebase/messaging",jc=U=>{const W=new Qo(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",le=>function zs(U,W){return hl.apply(this,arguments)}(W,le)),W},La=U=>{const W=U.getProvider("messaging").getImmediate();return{getToken:Ge=>function dl(U,W){return va.apply(this,arguments)}(W,Ge)}};function Ec(){return aa.apply(this,arguments)}function aa(){return(aa=(0,T.Z)(function*(){try{yield(0,O.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,O.hl)()&&(0,O.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Fa(){(0,N._registerComponent)(new V.wA("messaging",jc,"PUBLIC")),(0,N._registerComponent)(new V.wA("messaging-internal",La,"PRIVATE")),(0,N.registerVersion)(Ra,"0.9.10"),(0,N.registerVersion)(Ra,"0.9.10","esm2017")}();const Hc="analytics",lo="firebase_id",Ks="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Js="https://www.googletagmanager.com/gtag/js",ui=new Y.Yd("@firebase/analytics");function nc(U){return Promise.all(U.map(W=>W.catch(le=>le)))}function Qd(U,W){const le=document.createElement("script");le.src=`${Js}?l=${U}&id=${W}`,le.async=!0,document.head.appendChild(le)}function Ba(U,W,le,Ge,_t,Dt){return rc.apply(this,arguments)}function rc(){return(rc=(0,T.Z)(function*(U,W,le,Ge,_t,Dt){const fn=Ge[_t];try{if(fn)yield W[fn];else{const Mr=(yield nc(le)).find(Xn=>Xn.measurementId===_t);Mr&&(yield W[Mr.appId])}}catch(Dn){ui.error(Dn)}U("config",_t,Dt)})).apply(this,arguments)}function ro(U,W,le,Ge,_t){return So.apply(this,arguments)}function So(){return(So=(0,T.Z)(function*(U,W,le,Ge,_t){try{let Dt=[];if(_t&&_t.send_to){let fn=_t.send_to;Array.isArray(fn)||(fn=[fn]);const Dn=yield nc(le);for(const Mr of fn){const Xn=Dn.find(Cr=>Cr.measurementId===Mr),ni=Xn&&W[Xn.appId];if(!ni){Dt=[];break}Dt.push(ni)}}0===Dt.length&&(Dt=Object.values(W)),yield Promise.all(Dt),U("event",Ge,_t||{})}catch(Dt){ui.error(Dt)}})).apply(this,arguments)}function yu(){const U=window.document.getElementsByTagName("script");for(const W of Object.values(U))if(W.src&&W.src.includes(Js))return W;return null}const di=new O.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),br=new class Qn{constructor(W={},le=1e3){this.throttleMetadata=W,this.intervalMillis=le}getThrottleMetadata(W){return this.throttleMetadata[W]}setThrottleMetadata(W,le){this.throttleMetadata[W]=le}deleteThrottleMetadata(W){delete this.throttleMetadata[W]}};function pl(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Rn(U){return It.apply(this,arguments)}function It(){return(It=(0,T.Z)(function*(U){var W;const{appId:le,apiKey:Ge}=U,_t={method:"GET",headers:pl(Ge)},Dt=Ks.replace("{app-id}",le),fn=yield fetch(Dt,_t);if(200!==fn.status&&304!==fn.status){let Dn="";try{const Mr=yield fn.json();(null===(W=Mr.error)||void 0===W?void 0:W.message)&&(Dn=Mr.error.message)}catch(Mr){}throw di.create("config-fetch-failed",{httpStatus:fn.status,responseMessage:Dn})}return fn.json()})).apply(this,arguments)}function on(U){return Ii.apply(this,arguments)}function Ii(){return(Ii=(0,T.Z)(function*(U,W=br,le){const{appId:Ge,apiKey:_t,measurementId:Dt}=U.options;if(!Ge)throw di.create("no-app-id");if(!_t){if(Dt)return{measurementId:Dt,appId:Ge};throw di.create("no-api-key")}const fn=W.getThrottleMetadata(Ge)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Dn=new Hl;return setTimeout((0,T.Z)(function*(){Dn.abort()}),void 0!==le?le:6e4),yi({appId:Ge,apiKey:_t,measurementId:Dt},fn,Dn,W)})).apply(this,arguments)}function yi(U,W,le){return oc.apply(this,arguments)}function oc(){return(oc=(0,T.Z)(function*(U,{throttleEndTimeMillis:W,backoffCount:le},Ge,_t=br){const{appId:Dt,measurementId:fn}=U;try{yield gl(Ge,W)}catch(Dn){if(fn)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${Dn.message}]`),{appId:Dt,measurementId:fn};throw Dn}try{const Dn=yield Rn(U);return _t.deleteThrottleMetadata(Dt),Dn}catch(Dn){if(!td(Dn)){if(_t.deleteThrottleMetadata(Dt),fn)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${fn} provided in the "measurementId" field in the local Firebase config. [${Dn.message}]`),{appId:Dt,measurementId:fn};throw Dn}const Mr=503===Number(Dn.customData.httpStatus)?(0,O.$s)(le,_t.intervalMillis,30):(0,O.$s)(le,_t.intervalMillis),Xn={throttleEndTimeMillis:Date.now()+Mr,backoffCount:le+1};return _t.setThrottleMetadata(Dt,Xn),ui.debug(`Calling attemptFetch again in ${Mr} millis`),yi(U,Xn,Ge,_t)}})).apply(this,arguments)}function gl(U,W){return new Promise((le,Ge)=>{const _t=Math.max(W-Date.now(),0),Dt=setTimeout(le,_t);U.addEventListener(()=>{clearTimeout(Dt),Ge(di.create("fetch-throttle",{throttleEndTimeMillis:W}))})})}function td(U){if(!(U instanceof O.ZR&&U.customData))return!1;const W=Number(U.customData.httpStatus);return 429===W||500===W||503===W||504===W}class Hl{constructor(){this.listeners=[]}addEventListener(W){this.listeners.push(W)}abort(){this.listeners.forEach(W=>W())}}function k(){return P.apply(this,arguments)}function P(){return(P=(0,T.Z)(function*(){if(!(0,O.hl)())return ui.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,O.eu)()}catch(U){return ui.warn(di.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function G(){return(G=(0,T.Z)(function*(U,W,le,Ge,_t,Dt,fn){var Dn;const Mr=on(U);Mr.then(_o=>{le[_o.measurementId]=_o.appId,U.options.measurementId&&_o.measurementId!==U.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${_o.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(_o=>ui.error(_o)),W.push(Mr);const Xn=k().then(_o=>{if(_o)return Ge.getId()}),[ni,Cr]=yield Promise.all([Mr,Xn]);yu()||Qd(Dt,ni.measurementId),_t("js",new Date);const Do=null!==(Dn=null==fn?void 0:fn.config)&&void 0!==Dn?Dn:{};return Do.origin="firebase",Do.update=!0,null!=Cr&&(Do[lo]=Cr),_t("config",ni.measurementId,Do),ni.measurementId})).apply(this,arguments)}class K{constructor(W){this.app=W}_delete(){return delete de[this.app.options.appId],Promise.resolve()}}let de={},Ve=[];const He={};let On,jt,Ot="dataLayer",Kn=!1;function Xr(U,W,le){!function Ei(){const U=[];if((0,O.ru)()&&U.push("This is a browser extension environment."),(0,O.zI)()||U.push("Cookies are not available."),U.length>0){const W=U.map((Ge,_t)=>`(${_t+1}) ${Ge}`).join(" "),le=di.create("invalid-analytics-context",{errorInfo:W});ui.warn(le.message)}}();const Ge=U.options.appId;if(!Ge)throw di.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw di.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=de[Ge])throw di.create("already-exists",{id:Ge});if(!Kn){!function es(U){let W=[];Array.isArray(window[U])?W=window[U]:window[U]=W}(Ot);const{wrappedGtag:Dt,gtagCore:fn}=function Ys(U,W,le,Ge,_t){let Dt=function(...fn){window[Ge].push(arguments)};return window[_t]&&"function"==typeof window[_t]&&(Dt=window[_t]),window[_t]=function ts(U,W,le,Ge){function Dt(){return(Dt=(0,T.Z)(function*(fn,Dn,Mr){try{"event"===fn?yield ro(U,W,le,Dn,Mr):"config"===fn?yield Ba(U,W,le,Ge,Dn,Mr):U("set",Dn)}catch(Xn){ui.error(Xn)}})).apply(this,arguments)}return function _t(fn,Dn,Mr){return Dt.apply(this,arguments)}}(Dt,U,W,le),{gtagCore:Dt,wrappedGtag:window[_t]}}(de,Ve,He,Ot,"gtag");jt=Dt,On=fn,Kn=!0}return de[Ge]=function D(U,W,le,Ge,_t,Dt,fn){return G.apply(this,arguments)}(U,Ve,He,W,On,Ot,le),new K(U)}function pi(){return(pi=(0,T.Z)(function*(U,W,le,Ge,_t){if(_t&&_t.global)U("event",le,Ge);else{const Dt=yield W;U("event",le,Object.assign(Object.assign({},Ge),{send_to:Dt}))}})).apply(this,arguments)}function Ls(){return sc.apply(this,arguments)}function sc(){return(sc=(0,T.Z)(function*(){if((0,O.ru)()||!(0,O.zI)()||!(0,O.hl)())return!1;try{return yield(0,O.eu)()}catch(U){return!1}})).apply(this,arguments)}const Ua="@firebase/analytics";!function Ca(){(0,N._registerComponent)(new V.wA(Hc,(W,{options:le})=>Xr(W.getProvider("app").getImmediate(),W.getProvider("installations-internal").getImmediate(),le),"PUBLIC")),(0,N._registerComponent)(new V.wA("analytics-internal",function U(W){try{const le=W.getProvider(Hc).getImmediate();return{logEvent:(Ge,_t,Dt)=>function Vn(U,W,le,Ge){U=(0,O.m9)(U),function wr(U,W,le,Ge,_t){return pi.apply(this,arguments)}(jt,de[U.app.options.appId],W,le,Ge).catch(_t=>ui.error(_t))}(le,Ge,_t,Dt)}}catch(le){throw di.create("interop-component-reg-failed",{reason:le})}},"PRIVATE")),(0,N.registerVersion)(Ua,"0.7.6"),(0,N.registerVersion)(Ua,"0.7.6","esm2017")}();var Fs=x(4408),Dc=x(7565);const Fo=new class mo extends Dc.v{}(class wi extends Fs.o{constructor(W,le){super(W,le),this.scheduler=W,this.work=le}schedule(W,le=0){return le>0?super.schedule(W,le):(this.delay=le,this.state=W,this.scheduler.flush(this),this)}execute(W,le){return le>0||this.closed?super.execute(W,le):this._execute(W,le)}requestAsyncId(W,le,Ge=0){return null!=Ge&&Ge>0||null==Ge&&this.delay>0?super.requestAsyncId(W,le,Ge):W.flush(this)}});var cc=x(4986),nd=x(8306),Eo=x(8505),fs=x(9468),Zc=x(5363);const lc=new p.GfV("7.2.1"),xs="__angularfire_symbol__analyticsIsSupportedValue",Tu="__angularfire_symbol__analyticsIsSupported",vl="__angularfire_symbol__remoteConfigIsSupportedValue",rd="__angularfire_symbol__remoteConfigIsSupported",io="__angularfire_symbol__messagingIsSupportedValue",Wl="__angularfire_symbol__messagingIsSupported";function id(U,W,le){if(W){if(1===W.length)return W[0];const Dt=W.filter(fn=>fn.app===le);if(1===Dt.length)return Dt[0]}return le.container.getProvider(U).getImmediate({optional:!0})}globalThis[Tu]||(globalThis[Tu]=Ls().then(U=>globalThis[xs]=U).catch(()=>globalThis[xs]=!1)),globalThis[Wl]||(globalThis[Wl]=Ec().then(U=>globalThis[io]=U).catch(()=>globalThis[io]=!1)),globalThis[rd]||(globalThis[rd]=Te().then(U=>globalThis[vl]=U).catch(()=>globalThis[vl]=!1));const bl=(U,W)=>{const le=W?[W]:(0,e.C6)(),Ge=[];return le.forEach(_t=>{_t.container.getProvider(U).instances.forEach(fn=>{Ge.includes(fn)||Ge.push(fn)})}),Ge};function uc(){}class ql{constructor(W,le=Fo){this.zone=W,this.delegate=le}now(){return this.delegate.now()}schedule(W,le,Ge){const _t=this.zone;return this.delegate.schedule(function(fn){_t.runGuarded(()=>{W.apply(this,[fn])})},le,Ge)}}class eh{constructor(W){this.zone=W,this.task=null}call(W,le){const Ge=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uc,{},uc,uc)),le.pipe((0,Eo.b)({next:Ge,complete:Ge,error:Ge})).subscribe(W).add(Ge)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ga=(()=>{class U{constructor(le){this.ngZone=le,this.outsideAngular=le.runOutsideAngular(()=>new ql(Zone.current)),this.insideAngular=le.run(()=>new ql(Zone.current,cc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(le){return new(le||U)(p.LFG(p.R0b))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function Wc(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function Sa(U){return Wc().ngZone.runOutsideAngular(()=>U())}function ns(U){return Wc().ngZone.run(()=>U())}function qc(U){return Wc(),function Cu(U){return function(le){return(le=le.lift(new eh(U.ngZone))).pipe((0,fs.R)(U.outsideAngular),(0,Zc.Q)(U.insideAngular))}}(Wc())(U)}const zc=(U,W)=>function(){const Ge=arguments;return W&&setTimeout(()=>{"scheduled"===W.state&&W.invoke()},10),ns(()=>U.apply(void 0,Ge))},Bs=(U,W)=>function(){let le;const Ge=arguments;for(let Dt=0;Dt<arguments.length;Dt++)"function"==typeof Ge[Dt]&&(W&&(le||(le=ns(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",uc,{},uc,uc)))),Ge[Dt]=zc(Ge[Dt],le));const _t=Sa(()=>U.apply(this,Ge));if(!W){if(_t instanceof nd.y){const Dt=Wc();return _t.pipe((0,fs.R)(Dt.outsideAngular),(0,Zc.Q)(Dt.insideAngular))}return ns(()=>_t)}return _t instanceof nd.y?_t.pipe(qc):_t instanceof Promise?ns(()=>new Promise((Dt,fn)=>_t.then(Dn=>ns(()=>Dt(Dn)),Dn=>ns(()=>fn(Dn))))):"function"==typeof _t&&le?function(){return setTimeout(()=>{le&&"scheduled"===le.state&&le.invoke()},10),_t.apply(this,arguments)}:ns(()=>_t)}},896:pt=>{window,pt.exports=function(w){var x={};function p(e){if(x[e])return x[e].exports;var T=x[e]={i:e,l:!1,exports:{}};return w[e].call(T.exports,T,T.exports,p),T.l=!0,T.exports}return p.m=w,p.c=x,p.d=function(e,T,N){p.o(e,T)||Object.defineProperty(e,T,{enumerable:!0,get:N})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,T){if(1&T&&(e=p(e)),8&T||4&T&&"object"==typeof e&&e&&e.__esModule)return e;var N=Object.create(null);if(p.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:e}),2&T&&"string"!=typeof e)for(var O in e)p.d(N,O,function(V){return e[V]}.bind(null,O));return N},p.n=function(e){var T=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(T,"a",T),T},p.o=function(e,T){return Object.prototype.hasOwnProperty.call(e,T)},p.p="/",p(p.s=89)}([function(w,x){w.exports=function(p,e,T){return e in p?Object.defineProperty(p,e,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[e]=T,p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){function p(e){return w.exports=p=Object.setPrototypeOf?Object.getPrototypeOf:function(T){return T.__proto__||Object.getPrototypeOf(T)},w.exports.__esModule=!0,w.exports.default=w.exports,p(e)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){function p(e,T){for(var N=0;N<T.length;N++){var O=T[N];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(e,O.key,O)}}w.exports=function(e,T,N){return T&&p(e.prototype,T),N&&p(e,N),Object.defineProperty(e,"prototype",{writable:!1}),e},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(20).default,T=p(1);w.exports=function(N,O){if(O&&("object"===e(O)||"function"==typeof O))return O;if(void 0!==O)throw new TypeError("Derived constructors may only return object or undefined");return T(N)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(41);w.exports=function(T,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(N&&N.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),Object.defineProperty(T,"prototype",{writable:!1}),N&&e(T,N)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={EPSILON:p(62),create:p(63),clone:p(156),fromValues:p(157),copy:p(158),set:p(159),equals:p(160),exactEquals:p(161),add:p(162),subtract:p(64),sub:p(163),multiply:p(65),mul:p(164),divide:p(66),div:p(165),inverse:p(166),min:p(167),max:p(168),rotate:p(169),floor:p(170),ceil:p(171),round:p(172),scale:p(173),scaleAndAdd:p(174),distance:p(67),dist:p(175),squaredDistance:p(68),sqrDist:p(176),length:p(69),len:p(177),squaredLength:p(70),sqrLen:p(178),negate:p(179),normalize:p(180),dot:p(181),cross:p(182),lerp:p(183),random:p(184),transformMat2:p(185),transformMat2d:p(186),transformMat3:p(187),transformMat4:p(188),forEach:p(189),limit:p(190)}},function(w,x,p){w.exports=p(224)},function(w,x,p){"use strict";x.a={init:function(e,T){for(var N=e.length;N--;)e[N]=T},shuffle:function(e){for(var T=e.length-1;T>=0;T--){var N=Math.floor(Math.random()*T),O=e[T];e[T]=e[N],e[N]=O}return e},toPointList:function(e){var T=e.reduce(function(N,O){var V="[".concat(O.join(","),"]");return N.push(V),N},[]);return"[".concat(T.join(",\r\n"),"]")},threshold:function(e,T,N){return e.reduce(function(O,V){return N.apply(e,[V])>=T&&O.push(V),O},[])},maxIndex:function(e){for(var T=0,N=0;N<e.length;N++)e[N]>e[T]&&(T=N);return T},max:function(e){for(var T=0,N=0;N<e.length;N++)e[N]>T&&(T=e[N]);return T},sum:function(e){for(var T=e.length,N=0;T--;)N+=e[T];return N}}},function(w,x,p){"use strict";p.d(x,"h",function(){return $}),p.d(x,"i",function(){return pe}),p.d(x,"b",function(){return dt}),p.d(x,"j",function(){return tt}),p.d(x,"e",function(){return Qe}),p.d(x,"c",function(){return vt}),p.d(x,"f",function(){return ve}),p.d(x,"g",function(){return je}),p.d(x,"a",function(){return gt}),p.d(x,"d",function(){return it});var e=p(7),T=p(84),N={clone:e.clone,dot:e.dot},O=function(Ae,Ke){var Ue=[],Je={rad:0,vec:N.clone([0,0])},_e={};function ue(Ce){_e[Ce.id]=Ce,Ue.push(Ce)}function oe(){var Ce,qe=0;for(Ce=0;Ce<Ue.length;Ce++)qe+=Ue[Ce].rad;Je.rad=qe/Ue.length,Je.vec=N.clone([Math.cos(Je.rad),Math.sin(Je.rad)])}return ue(Ae),oe(),{add:function(Ce){_e[Ce.id]||(ue(Ce),oe())},fits:function(Ce){return Math.abs(N.dot(Ce.point.vec,Je.vec))>Ke},getPoints:function(){return Ue},getCenter:function(){return Je}}},V=function(Ae,Ke,Ue){return{rad:Ae[Ue],point:Ae,id:Ke}},Y=p(9),J={clone:e.clone},ne={clone:T.clone};function $(Ae,Ke){return{x:Ae,y:Ke,toVec2:function(){return J.clone([this.x,this.y])},toVec3:function(){return ne.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function re(Ae,Ke){Ke||(Ke=8);for(var Ue=Ae.data,Je=Ue.length,_e=8-Ke,ue=new Int32Array(1<<Ke);Je--;)ue[Ue[Je]>>_e]++;return ue}function pe(Ae,Ke){var Ue=function(Je){var _e,ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,oe=8-ue;function Ce(Lt,An){for(var Nt=0,Et=Lt;Et<=An;Et++)Nt+=_e[Et];return Nt}function qe(Lt,An){for(var Nt=0,Et=Lt;Et<=An;Et++)Nt+=Et*_e[Et];return Nt}function Ee(){var Lt,An,Nt,Et,Zt=[0],yn=(1<<ue)-1;_e=re(Je,ue);for(var or=1;or<yn;or++)0==(Nt=(Lt=Ce(0,or))*(An=Ce(or+1,yn)))&&(Nt=1),Et=qe(0,or)*An-qe(or+1,yn)*Lt,Zt[or]=Et*Et/Nt;return Y.a.maxIndex(Zt)}return Ee()<<oe}(Ae);return function(Je,_e,ue){ue||(ue=Je);for(var oe=Je.data,Ce=oe.length,qe=ue.data;Ce--;)qe[Ce]=oe[Ce]<_e?1:0}(Ae,Ue,Ke),Ue}function dt(Ae,Ke,Ue){var Je,_e,ue,oe,Ce=[];function qe(Ee){var xt=!1;for(_e=0;_e<Ce.length;_e++)(ue=Ce[_e]).fits(Ee)&&(ue.add(Ee),xt=!0);return xt}for(Ue||(Ue="rad"),Je=0;Je<Ae.length;Je++)qe(oe=V(Ae[Je],Je,Ue))||Ce.push(O(oe,Ke));return Ce}function tt(Ae,Ke,Ue){var Je,_e,ue,oe,Ce=0,qe=0,Ee=[];for(Je=0;Je<Ke;Je++)Ee[Je]={score:0,item:null};for(Je=0;Je<Ae.length;Je++)if((_e=Ue.apply(this,[Ae[Je]]))>qe)for((ue=Ee[Ce]).score=_e,ue.item=Ae[Je],qe=Number.MAX_VALUE,oe=0;oe<Ke;oe++)Ee[oe].score<qe&&(qe=Ee[oe].score,Ce=oe);return Ee}function Qe(Ae,Ke,Ue){for(var Je,_e=0,ue=Ke.x,oe=Math.floor(Ae.length/4),Ce=Ke.x/2,qe=0,Ee=Ke.x;ue<oe;){for(Je=0;Je<Ce;Je++)Ue[qe]=(.299*Ae[4*_e+0]+.587*Ae[4*_e+1]+.114*Ae[4*_e+2]+(.299*Ae[4*(_e+1)+0]+.587*Ae[4*(_e+1)+1]+.114*Ae[4*(_e+1)+2])+(.299*Ae[4*ue+0]+.587*Ae[4*ue+1]+.114*Ae[4*ue+2])+(.299*Ae[4*(ue+1)+0]+.587*Ae[4*(ue+1)+1]+.114*Ae[4*(ue+1)+2]))/4,qe++,_e+=2,ue+=2;_e+=Ee,ue+=Ee}}function vt(Ae,Ke,Ue){var Je=Ae.length/4|0;if(Ue&&!0===Ue.singleChannel)for(var _e=0;_e<Je;_e++)Ke[_e]=Ae[4*_e+0];else for(var ue=0;ue<Je;ue++)Ke[ue]=.299*Ae[4*ue+0]+.587*Ae[4*ue+1]+.114*Ae[4*ue+2]}function ve(Ae,Ke){for(var Ue=Ae.data,Je=Ae.size.x,_e=Ke.data,ue=0,oe=Je,Ce=Ue.length,qe=Je/2,Ee=0;oe<Ce;){for(var xt=0;xt<qe;xt++)_e[Ee]=Math.floor((Ue[ue]+Ue[ue+1]+Ue[oe]+Ue[oe+1])/4),Ee++,ue+=2,oe+=2;ue+=Je,oe+=Je}}function je(Ae){var Ke=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ue=Ae[0],_e=Ae[2],ue=_e*Ae[1],oe=ue*(1-Math.abs(Ue/60%2-1)),Ce=_e-ue,qe=0,Ee=0,xt=0;return Ue<60?(qe=ue,Ee=oe):Ue<120?(qe=oe,Ee=ue):Ue<180?(Ee=ue,xt=oe):Ue<240?(Ee=oe,xt=ue):Ue<300?(qe=oe,xt=ue):Ue<360&&(qe=ue,xt=oe),Ke[0]=255*(qe+Ce)|0,Ke[1]=255*(Ee+Ce)|0,Ke[2]=255*(xt+Ce)|0,Ke}function ke(Ae){for(var Ke=[],Ue=[],Je=1;Je<Math.sqrt(Ae)+1;Je++)Ae%Je==0&&(Ue.push(Je),Je!==Ae/Je&&Ke.unshift(Math.floor(Ae/Je)));return Ue.concat(Ke)}function gt(Ae,Ke){var Ue,Je=ke(Ke.x),_e=ke(Ke.y),ue=Math.max(Ke.x,Ke.y),oe=function(Nt,Et){for(var Zt=0,yn=0,or=[];Zt<Nt.length&&yn<Et.length;)Nt[Zt]===Et[yn]?(or.push(Nt[Zt]),Zt++,yn++):Nt[Zt]>Et[yn]?yn++:Zt++;return or}(Je,_e),Ce=[8,10,15,20,32,60,80],qe={"x-small":5,small:4,medium:3,large:2,"x-large":1},Ee=qe[Ae]||qe.medium,xt=Ce[Ee],Lt=Math.floor(ue/xt);function An(Nt){for(var Et=0,Zt=Nt[Math.floor(Nt.length/2)];Et<Nt.length-1&&Nt[Et]<Lt;)Et++;return Et>0&&(Zt=Math.abs(Nt[Et]-Lt)>Math.abs(Nt[Et-1]-Lt)?Nt[Et-1]:Nt[Et]),Lt/Zt<Ce[Ee+1]/Ce[Ee]&&Lt/Zt>Ce[Ee-1]/Ce[Ee]?{x:Zt,y:Zt}:null}return(Ue=An(oe))||(Ue=An(ke(ue)))||(Ue=An(ke(Lt*xt))),Ue}var $e={top:function(Ae,Ke){return"%"===Ae.unit?Math.floor(Ke.height*(Ae.value/100)):null},right:function(Ae,Ke){return"%"===Ae.unit?Math.floor(Ke.width-Ke.width*(Ae.value/100)):null},bottom:function(Ae,Ke){return"%"===Ae.unit?Math.floor(Ke.height-Ke.height*(Ae.value/100)):null},left:function(Ae,Ke){return"%"===Ae.unit?Math.floor(Ke.width*(Ae.value/100)):null}};function it(Ae,Ke,Ue){var Je={width:Ae,height:Ke},_e=Object.keys(Ue).reduce(function(ue,oe){var Ee,Ce=(Ee=Ue[oe],{value:parseFloat(Ee),unit:(Ee.indexOf("%"),"%")}),qe=$e[oe](Ce,Je);return ue[oe]=qe,ue},{});return{sx:_e.left,sy:_e.top,sw:_e.right-_e.left,sh:_e.bottom-_e.top}}},function(w,x,p){"use strict";var e=p(83),T=p.n(e),N=p(3),O=p.n(N),V=p(4),Y=p.n(V),J=p(0),ne=p.n(J),$=p(7),re=p(10),pe=p(9),dt={clone:$.clone};function tt(vt){if(vt<0)throw new Error("expected positive number, received ".concat(vt))}var Qe=function(){function vt(ve,je){var ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,gt=arguments.length>3?arguments[3]:void 0;O()(this,vt),ne()(this,"data",void 0),ne()(this,"size",void 0),ne()(this,"indexMapping",void 0),je?this.data=je:(this.data=new ke(ve.x*ve.y),gt&&pe.a.init(this.data,0)),this.size=ve}return Y()(vt,[{key:"inImageWithBorder",value:function(ve){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return tt(je),ve.x>=0&&ve.y>=0&&ve.x<this.size.x+2*je&&ve.y<this.size.y+2*je}},{key:"subImageAsCopy",value:function(ve,je){tt(je.x),tt(je.y);for(var ke=ve.size,gt=ke.x,$e=ke.y,it=0;it<gt;it++)for(var Ae=0;Ae<$e;Ae++)ve.data[Ae*gt+it]=this.data[(je.y+Ae)*this.size.x+je.x+it];return ve}},{key:"get",value:function(ve,je){return this.data[je*this.size.x+ve]}},{key:"getSafe",value:function(ve,je){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var ke=0;ke<this.size.x;ke++)this.indexMapping.x[ke]=ke,this.indexMapping.x[ke+this.size.x]=ke;for(var gt=0;gt<this.size.y;gt++)this.indexMapping.y[gt]=gt,this.indexMapping.y[gt+this.size.y]=gt}return this.data[this.indexMapping.y[je+this.size.y]*this.size.x+this.indexMapping.x[ve+this.size.x]]}},{key:"set",value:function(ve,je,ke){return this.data[je*this.size.x+ve]=ke,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var ve=this.size,je=ve.x,ke=ve.y,gt=0;gt<je;gt++)this.data[gt]=this.data[(ke-1)*je+gt]=0;for(var $e=1;$e<ke-1;$e++)this.data[$e*je]=this.data[$e*je+(je-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(ve){var je,ke,gt,$e,it,Ae,Ke,Ue,Je,_e,ue=this.data,oe=this.size.y,Ce=this.size.x,qe=[],Ee=[],xt=Math.PI,Lt=xt/4;if(ve<=0)return Ee;for(it=0;it<ve;it++)qe[it]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(ke=0;ke<oe;ke++)for($e=ke*ke,je=0;je<Ce;je++)(gt=ue[ke*Ce+je])>0&&((Ae=qe[gt-1]).m00+=1,Ae.m01+=ke,Ae.m10+=je,Ae.m11+=je*ke,Ae.m02+=$e,Ae.m20+=je*je);for(it=0;it<ve;it++)Ae=qe[it],isNaN(Ae.m00)||0===Ae.m00||(_e=(Ae.m02/Ae.m00-(Je=Ae.m01/Ae.m00)*Je-(Ae.m20/Ae.m00-(Ue=Ae.m10/Ae.m00)*Ue))/(2*(Ke=Ae.m11/Ae.m00-Ue*Je)),_e=.5*Math.atan(_e)+(Ke>=0?Lt:-Lt)+xt,Ae.theta=(180*_e/xt+90)%180-90,Ae.theta<0&&(Ae.theta+=180),Ae.rad=_e>xt?_e-xt:_e,Ae.vec=dt.clone([Math.cos(_e),Math.sin(_e)]),Ee.push(Ae));return Ee}},{key:"getAsRGBA",value:function(){for(var ve=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,je=new Uint8ClampedArray(4*this.size.x*this.size.y),ke=0;ke<this.size.y;ke++)for(var gt=0;gt<this.size.x;gt++){var $e=ke*this.size.x+gt,it=this.get(gt,ke)*ve;je[4*$e+0]=it,je[4*$e+1]=it,je[4*$e+2]=it,je[4*$e+3]=255}return je}},{key:"show",value:function(ve){var je=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ke=ve.getContext("2d");if(!ke)throw new Error("Unable to get canvas context");var gt=ke.getImageData(0,0,ve.width,ve.height),$e=this.getAsRGBA(je);ve.width=this.size.x,ve.height=this.size.y;var it=new ImageData($e,gt.width,gt.height);ke.putImageData(it,0,0)}},{key:"overlay",value:function(ve,je,ke){var gt=je<0||je>360?360:je,$e=[0,1,1],it=[0,0,0],Ae=[255,255,255],Ke=[0,0,0],Ue=ve.getContext("2d");if(!Ue)throw new Error("Unable to get canvas context");for(var Je=Ue.getImageData(ke.x,ke.y,this.size.x,this.size.y),_e=Je.data,ue=this.data.length;ue--;){$e[0]=this.data[ue]*gt;var oe=4*ue,Ce=$e[0]<=0?Ae:$e[0]>=360?Ke:Object(re.g)($e,it),qe=T()(Ce,3);_e[oe]=qe[0],_e[oe+1]=qe[1],_e[oe+2]=qe[2],_e[oe+3]=255}Ue.putImageData(Je,ke.x,ke.y)}}]),vt}();x.a=Qe},function(w,x){function p(e,T,N,O,V,Y,J){try{var ne=e[Y](J),$=ne.value}catch(re){return void N(re)}ne.done?T($):Promise.resolve($).then(O,V)}w.exports=function(e){return function(){var T=this,N=arguments;return new Promise(function(O,V){var Y=e.apply(T,N);function J($){p(Y,O,V,J,ne,"next",$)}function ne($){p(Y,O,V,J,ne,"throw",$)}J(void 0)})}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(225);function T(){return"undefined"!=typeof Reflect&&Reflect.get?(w.exports=T=Reflect.get,w.exports.__esModule=!0,w.exports.default=w.exports):(w.exports=T=function(N,O,V){var Y=e(N,O);if(Y){var J=Object.getOwnPropertyDescriptor(Y,O);return J.get?J.get.call(arguments.length<3?N:V):J.value}},w.exports.__esModule=!0,w.exports.default=w.exports),T.apply(this,arguments)}w.exports=T,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){var e=typeof p;return null!=p&&("object"==e||"function"==e)}},function(w,x){w.exports=Array.isArray},function(w,x,p){"use strict";x.a={drawRect:function(e,T,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth||1,N.beginPath(),N.strokeRect(e.x,e.y,T.x,T.y)},drawPath:function(e,T,N,O){N.strokeStyle=O.color,N.fillStyle=O.color,N.lineWidth=O.lineWidth,N.beginPath(),N.moveTo(e[0][T.x],e[0][T.y]);for(var V=1;V<e.length;V++)N.lineTo(e[V][T.x],e[V][T.y]);N.closePath(),N.stroke()},drawImage:function(e,T,N){var O=N.getImageData(0,0,T.x,T.y),V=O.data,Y=V.length,J=e.length;if(Y/J!=4)return!1;for(;J--;){var ne=e[J];V[--Y]=255,V[--Y]=ne,V[--Y]=ne,V[--Y]=ne}return N.putImageData(O,0,0),!0}}},function(w,x,p){var e=p(90),T=p(145)(function(N,O,V){e(N,O,V)});w.exports=T},function(w,x,p){var e=p(45),T="object"==typeof self&&self&&self.Object===Object&&self,N=e||T||Function("return this")();w.exports=N},function(w,x){w.exports=function(p){return null!=p&&"object"==typeof p}},function(w,x){function p(e){return w.exports=p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(T){return typeof T}:function(T){return T&&"function"==typeof Symbol&&T.constructor===Symbol&&T!==Symbol.prototype?"symbol":typeof T},w.exports.__esModule=!0,w.exports.default=w.exports,p(e)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){"use strict";x.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,T){var N,O=e.data,V=T.data,Y=this.searchDirections,J=e.size.x;function ne(re,pe,dt,tt){var Qe,vt,ve;for(Qe=0;Qe<7;Qe++){if(O[N=(vt=re.cy+Y[re.dir][0])*J+(ve=re.cx+Y[re.dir][1])]===pe&&(0===V[N]||V[N]===dt))return V[N]=dt,re.cy=vt,re.cx=ve,!0;0===V[N]&&(V[N]=tt),re.dir=(re.dir+1)%8}return!1}function $(re,pe,dt){return{dir:dt,x:re,y:pe,next:null,prev:null}}return{trace:function(re,pe,dt,tt){return ne(re,pe,dt,tt)},contourTracing:function(re,pe,dt,tt,Qe){return function(vt,ve,je,ke,gt){var $e,it,Ae,Ke=null,Ue={cx:ve,cy:vt,dir:0};if(ne(Ue,ke,je,gt)){$e=Ke=$(ve,vt,Ue.dir),Ae=Ue.dir,(it=$(Ue.cx,Ue.cy,0)).prev=$e,$e.next=it,it.next=null,$e=it;do{Ue.dir=(Ue.dir+6)%8,ne(Ue,ke,je,gt),Ae!==Ue.dir?($e.dir=Ue.dir,(it=$(Ue.cx,Ue.cy,0)).prev=$e,$e.next=it,it.next=null,$e=it):($e.dir=Ae,$e.x=Ue.cx,$e.y=Ue.cy),Ae=Ue.dir}while(Ue.cx!==ve||Ue.cy!==vt);Ke.prev=$e.prev,$e.prev.next=Ke}return Ke}(re,pe,dt,tt,Qe)}}}}},function(w,x,p){var e=p(27),T=p(103),N=p(104),O=e?e.toStringTag:void 0;w.exports=function(V){return null==V?void 0===V?"[object Undefined]":"[object Null]":O&&O in Object(V)?T(V):N(V)}},function(w,x,p){"use strict";(function(e){var T,N,O,V,Y,J,ne,$,re,pe,dt,tt,Qe=p(7),vt=p(34),ve=p(11),je=p(10),ke=p(9),gt=(p(16),p(87)),$e=p(21),it=p(88),Ae={ctx:{binary:null},dom:{binary:null}},Ke={x:0,y:0};function Ue(ue){var oe,Ce,qe,Ee,xt,Lt,An,Nt=re.size.x,Et=re.size.y,Zt=-re.size.x,yn=-re.size.y;for(oe=0,Ce=0;Ce<ue.length;Ce++)oe+=(Ee=ue[Ce]).rad;for((oe=(180*(oe/=ue.length)/Math.PI+90)%180-90)<0&&(oe+=180),oe=(180-oe)*Math.PI/180,xt=vt.copy(vt.create(),[Math.cos(oe),Math.sin(oe),-Math.sin(oe),Math.cos(oe)]),Ce=0;Ce<ue.length;Ce++)for(Ee=ue[Ce],qe=0;qe<4;qe++)Qe.transformMat2(Ee.box[qe],Ee.box[qe],xt);for(Ce=0;Ce<ue.length;Ce++)for(Ee=ue[Ce],qe=0;qe<4;qe++)Ee.box[qe][0]<Nt&&(Nt=Ee.box[qe][0]),Ee.box[qe][0]>Zt&&(Zt=Ee.box[qe][0]),Ee.box[qe][1]<Et&&(Et=Ee.box[qe][1]),Ee.box[qe][1]>yn&&(yn=Ee.box[qe][1]);for(Lt=[[Nt,Et],[Zt,Et],[Zt,yn],[Nt,yn]],An=T.halfSample?2:1,xt=vt.invert(xt,xt),qe=0;qe<4;qe++)Qe.transformMat2(Lt[qe],Lt[qe],xt);for(qe=0;qe<4;qe++)Qe.scale(Lt[qe],Lt[qe],An);return Lt}function Je(ue,oe){re.subImageAsCopy(V,Object(je.h)(ue,oe)),tt.skeletonize()}function _e(ue,oe,Ce,qe){var Ee,xt,Lt,An,Nt=[],Et=[],Zt=Math.ceil(pe.x/3);if(ue.length>=2){for(Ee=0;Ee<ue.length;Ee++)ue[Ee].m00>Zt&&Nt.push(ue[Ee]);if(Nt.length>=2){for(Lt=function(yn){var or=Object(je.b)(yn,.9),$n=Object(je.j)(or,1,function(ii){return ii.getPoints().length}),Er=[],yr=[];if(1===$n.length){Er=$n[0].item.getPoints();for(var _r=0;_r<Er.length;_r++)yr.push(Er[_r].point)}return yr}(Nt),xt=0,Ee=0;Ee<Lt.length;Ee++)xt+=Lt[Ee].rad;Lt.length>1&&Lt.length>=Nt.length/4*3&&Lt.length>ue.length/4&&(xt/=Lt.length,An={index:oe[1]*Ke.x+oe[0],pos:{x:Ce,y:qe},box:[Qe.clone([Ce,qe]),Qe.clone([Ce+V.size.x,qe]),Qe.clone([Ce+V.size.x,qe+V.size.y]),Qe.clone([Ce,qe+V.size.y])],moments:Lt,rad:xt,vec:Qe.clone([Math.cos(xt),Math.sin(xt)])},Et.push(An))}}return Et}x.a={init:function(ue,oe){T=oe,dt=ue,function(){N=T.halfSample?new ve.a({x:dt.size.x/2|0,y:dt.size.y/2|0}):dt,pe=Object(je.a)(T.patchSize,N.size),Ke.x=N.size.x/pe.x|0,Ke.y=N.size.y/pe.y|0,re=new ve.a(N.size,void 0,Uint8Array,!1),Y=new ve.a(pe,void 0,Array,!0);var Ce=new ArrayBuffer(65536);V=new ve.a(pe,new Uint8Array(Ce,0,pe.x*pe.y)),O=new ve.a(pe,new Uint8Array(Ce,pe.x*pe.y*3,pe.x*pe.y),void 0,!0),tt=Object(it.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:pe.x},Ce),$=new ve.a({x:N.size.x/V.size.x|0,y:N.size.y/V.size.y|0},void 0,Array,!0),J=new ve.a($.size,void 0,void 0,!0),ne=new ve.a($.size,void 0,Int32Array,!0)}(),T.useWorker||"undefined"==typeof document||(Ae.dom.binary=document.createElement("canvas"),Ae.dom.binary.className="binaryBuffer",Ae.ctx.binary=Ae.dom.binary.getContext("2d"),Ae.dom.binary.width=re.size.x,Ae.dom.binary.height=re.size.y)},locate:function(){T.halfSample&&Object(je.f)(dt,N),Object(je.i)(N,re),re.zeroBorder();var ue=function(){var qe,Ee,xt,Lt,An,Nt,Et=[];for(qe=0;qe<Ke.x;qe++)for(Ee=0;Ee<Ke.y;Ee++)Je(xt=V.size.x*qe,Lt=V.size.y*Ee),O.zeroBorder(),ke.a.init(Y.data,0),Nt=gt.a.create(O,Y).rasterize(0),An=Y.moments(Nt.count),Et=Et.concat(_e(An,[qe,Ee],xt,Lt));return Et}();if(ue.length<Ke.x*Ke.y*.05)return null;var oe=function(qe){var Ee,xt,Lt=0,An=0;function Nt(){var Zt;for(Zt=0;Zt<ne.data.length;Zt++)if(0===ne.data[Zt]&&1===J.data[Zt])return Zt;return ne.length}function Et(Zt){var $n,Er,yr,_r=Zt%ne.size.x,ii=Zt/ne.size.x|0;if(Zt<ne.data.length)for($n=$.data[Zt],ne.data[Zt]=Lt,yr=0;yr<$e.a.searchDirections.length;yr++)0!==J.data[Er=(ii+$e.a.searchDirections[yr][0])*ne.size.x+(_r+$e.a.searchDirections[yr][1])]?0===ne.data[Er]&&Math.abs(Qe.dot($.data[Er].vec,$n.vec))>.95&&Et(Er):ne.data[Er]=Number.MAX_VALUE}for(ke.a.init(J.data,0),ke.a.init(ne.data,0),ke.a.init($.data,null),Ee=0;Ee<qe.length;Ee++)$.data[(xt=qe[Ee]).index]=xt,J.data[xt.index]=1;for(J.zeroBorder();(An=Nt())<ne.data.length;)Lt++,Et(An);return Lt}(ue);if(oe<1)return null;var Ce=function(qe){var Ee,xt,Lt=[];for(Ee=0;Ee<qe;Ee++)Lt.push(0);for(xt=ne.data.length;xt--;)ne.data[xt]>0&&Lt[ne.data[xt]-1]++;return(Lt=Lt.map(function(An,Nt){return{val:An,label:Nt+1}})).sort(function(An,Nt){return Nt.val-An.val}),Lt.filter(function(An){return An.val>=5})}(oe);return 0===Ce.length?null:function(qe,Ee){var xt,Lt,Nt,Et=[],Zt=[];for(xt=0;xt<qe.length;xt++){for(Lt=ne.data.length,Et.length=0;Lt--;)ne.data[Lt]===qe[xt].label&&Et.push($.data[Lt]);(Nt=Ue(Et))&&Zt.push(Nt)}return Zt}(Ce)},checkImageConstraints:function(ue,oe){var Ce,qe,Ee=ue.getWidth(),xt=ue.getHeight(),Lt=oe.halfSample?.5:1;ue.getConfig().area&&(qe=Object(je.d)(Ee,xt,ue.getConfig().area),ue.setTopRight({x:qe.sx,y:qe.sy}),ue.setCanvasSize({x:Ee,y:xt}),Ee=qe.sw,xt=qe.sh);var An={x:Math.floor(Ee*Lt),y:Math.floor(xt*Lt)};if(Ce=Object(je.a)(oe.patchSize,An),ue.setWidth(Math.floor(Math.floor(An.x/Ce.x)*(1/Lt)*Ce.x)),ue.setHeight(Math.floor(Math.floor(An.y/Ce.y)*(1/Lt)*Ce.y)),ue.getWidth()%Ce.x==0&&ue.getHeight()%Ce.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(Ee," )and height (").concat(xt,") must a multiple of ").concat(Ce.x))}}}).call(this,p(46))},function(w,x,p){var e=p(92),T=p(93),N=p(94),O=p(95),V=p(96);function Y(J){var ne=-1,$=null==J?0:J.length;for(this.clear();++ne<$;){var re=J[ne];this.set(re[0],re[1])}}Y.prototype.clear=e,Y.prototype.delete=T,Y.prototype.get=N,Y.prototype.has=O,Y.prototype.set=V,w.exports=Y},function(w,x,p){var e=p(26);w.exports=function(T,N){for(var O=T.length;O--;)if(e(T[O][0],N))return O;return-1}},function(w,x){w.exports=function(p,e){return p===e||p!=p&&e!=e}},function(w,x,p){var e=p(18).Symbol;w.exports=e},function(w,x,p){var e=p(35)(Object,"create");w.exports=e},function(w,x,p){var e=p(117);w.exports=function(T,N){var O=T.__data__;return e(N)?O["string"==typeof N?"string":"hash"]:O.map}},function(w,x,p){var e=p(132),T=p(19),N=Object.prototype,O=N.hasOwnProperty,V=N.propertyIsEnumerable,Y=e(function(){return arguments}())?e:function(J){return T(J)&&O.call(J,"callee")&&!V.call(J,"callee")};w.exports=Y},function(w,x){var p=/^(?:0|[1-9]\d*)$/;w.exports=function(e,T){var N=typeof e;return!!(T=null==T?9007199254740991:T)&&("number"==N||"symbol"!=N&&p.test(e))&&e>-1&&e%1==0&&e<T}},function(w,x,p){var e=p(15),T=p(232),N=p(233),O=p(236);w.exports=function(V,Y){return e(V)?V:T(V,Y)?[V]:N(O(V))}},function(w,x,p){var e=p(226),T=p(227),N=p(60),O=p(228);w.exports=function(V){return e(V)||T(V)||N(V)||O()},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={determinant:p(251),transpose:p(252),multiply:p(253),identity:p(254),adjoint:p(255),rotate:p(256),invert:p(257),create:p(258),scale:p(259),copy:p(260),frob:p(261),ldu:p(262)}},function(w,x,p){var e=p(102),T=p(108);w.exports=function(N,O){var V=T(N,O);return e(V)?V:void 0}},function(w,x,p){var e=p(22),T=p(14);w.exports=function(N){if(!T(N))return!1;var O=e(N);return"[object Function]"==O||"[object GeneratorFunction]"==O||"[object AsyncFunction]"==O||"[object Proxy]"==O}},function(w,x,p){var e=p(49);w.exports=function(T,N,O){"__proto__"==N&&e?e(T,N,{configurable:!0,enumerable:!0,value:O,writable:!0}):T[N]=O}},function(w,x){w.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(w,x,p){var e=p(36),T=p(40);w.exports=function(N){return null!=N&&T(N.length)&&!e(N)}},function(w,x){w.exports=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991}},function(w,x){function p(e,T){return w.exports=p=Object.setPrototypeOf||function(N,O){return N.__proto__=O,N},w.exports.__esModule=!0,w.exports.default=w.exports,p(e,T)}w.exports=p,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(22),T=p(19);w.exports=function(N){return"symbol"==typeof N||T(N)&&"[object Symbol]"==e(N)}},function(w,x,p){var e=p(42);w.exports=function(T){if("string"==typeof T||e(T))return T;var N=T+"";return"0"==N&&1/T==-1/0?"-0":N}},function(w,x,p){var e=p(35)(p(18),"Map");w.exports=e},function(w,x,p){(function(e){w.exports="object"==typeof e&&e&&e.Object===Object&&e}).call(this,p(46))},function(w,x){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(e){"object"==typeof window&&(p=window)}w.exports=p},function(w,x,p){var e=p(109),T=p(116),N=p(118),O=p(119),V=p(120);function Y(J){var ne=-1,$=null==J?0:J.length;for(this.clear();++ne<$;){var re=J[ne];this.set(re[0],re[1])}}Y.prototype.clear=e,Y.prototype.delete=T,Y.prototype.get=N,Y.prototype.has=O,Y.prototype.set=V,w.exports=Y},function(w,x,p){var e=p(37),T=p(26);w.exports=function(N,O,V){(void 0!==V&&!T(N[O],V)||void 0===V&&!(O in N))&&e(N,O,V)}},function(w,x,p){var e=p(35),T=function(){try{var N=e(Object,"defineProperty");return N({},"",{}),N}catch(O){}}();w.exports=T},function(w,x,p){var e=p(131)(Object.getPrototypeOf,Object);w.exports=e},function(w,x){var p=Object.prototype;w.exports=function(e){var T=e&&e.constructor;return e===("function"==typeof T&&T.prototype||p)}},function(w,x,p){(function(e){var T=p(18),N=p(134),O=x&&!x.nodeType&&x,V=O&&"object"==typeof e&&e&&!e.nodeType&&e,Y=V&&V.exports===O?T.Buffer:void 0;e.exports=(Y?Y.isBuffer:void 0)||N}).call(this,p(38)(w))},function(w,x,p){var e=p(136),T=p(137),N=p(138),O=N&&N.isTypedArray,V=O?T(O):e;w.exports=V},function(w,x){w.exports=function(p,e){if(("constructor"!==e||"function"!=typeof p[e])&&"__proto__"!=e)return p[e]}},function(w,x,p){var e=p(37),T=p(26),N=Object.prototype.hasOwnProperty;w.exports=function(O,V,Y){var J=O[V];N.call(O,V)&&T(J,Y)&&(void 0!==Y||V in O)||e(O,V,Y)}},function(w,x,p){var e=p(141),T=p(143),N=p(39);w.exports=function(O){return N(O)?e(O,!0):T(O)}},function(w,x){w.exports=function(p){return p}},function(w,x,p){var e=p(147),T=Math.max;w.exports=function(N,O,V){return O=T(void 0===O?N.length-1:O,0),function(){for(var Y=arguments,J=-1,ne=T(Y.length-O,0),$=Array(ne);++J<ne;)$[J]=Y[O+J];J=-1;for(var re=Array(O+1);++J<O;)re[J]=Y[J];return re[O]=V($),e(N,this,re)}}},function(w,x,p){var e=p(148),T=p(150)(e);w.exports=T},function(w,x,p){var e=p(61);w.exports=function(T,N){if(T){if("string"==typeof T)return e(T,N);var O=Object.prototype.toString.call(T).slice(8,-1);return"Object"===O&&T.constructor&&(O=T.constructor.name),"Map"===O||"Set"===O?Array.from(T):"Arguments"===O||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(O)?e(T,N):void 0}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){(null==e||e>p.length)&&(e=p.length);for(var T=0,N=new Array(e);T<e;T++)N[T]=p[T];return N},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=1e-6},function(w,x){w.exports=function(){var p=new Float32Array(2);return p[0]=0,p[1]=0,p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]-T[0],p[1]=e[1]-T[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T[0],p[1]=e[1]*T[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]/T[0],p[1]=e[1]/T[1],p}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1];return Math.sqrt(T*T+N*N)}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1];return T*T+N*N}},function(w,x){w.exports=function(p){var e=p[0],T=p[1];return Math.sqrt(e*e+T*T)}},function(w,x){w.exports=function(p){var e=p[0],T=p[1];return e*e+T*T}},function(w,x){w.exports=1e-6},function(w,x){w.exports=function(){var p=new Float32Array(3);return p[0]=0,p[1]=0,p[2]=0,p}},function(w,x){w.exports=function(p,e,T){var N=new Float32Array(3);return N[0]=p,N[1]=e,N[2]=T,N}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=e[2],V=T*T+N*N+O*O;return V>0&&(V=1/Math.sqrt(V),p[0]=e[0]*V,p[1]=e[1]*V,p[2]=e[2]*V),p}},function(w,x){w.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]+p[2]*e[2]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]-T[0],p[1]=e[1]-T[1],p[2]=e[2]-T[2],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T[0],p[1]=e[1]*T[1],p[2]=e[2]*T[2],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]/T[0],p[1]=e[1]/T[1],p[2]=e[2]/T[2],p}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return Math.sqrt(T*T+N*N+O*O)}},function(w,x){w.exports=function(p,e){var T=e[0]-p[0],N=e[1]-p[1],O=e[2]-p[2];return T*T+N*N+O*O}},function(w,x){w.exports=function(p){var e=p[0],T=p[1],N=p[2];return Math.sqrt(e*e+T*T+N*N)}},function(w,x){w.exports=function(p){var e=p[0],T=p[1],N=p[2];return e*e+T*T+N*N}},function(w,x,p){var e=p(153),T=p(154),N=p(60),O=p(155);w.exports=function(V,Y){return e(V)||T(V,Y)||N(V,Y)||O()},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){w.exports={EPSILON:p(71),create:p(72),clone:p(191),angle:p(192),fromValues:p(73),copy:p(193),set:p(194),equals:p(195),exactEquals:p(196),add:p(197),subtract:p(76),sub:p(198),multiply:p(77),mul:p(199),divide:p(78),div:p(200),min:p(201),max:p(202),floor:p(203),ceil:p(204),round:p(205),scale:p(206),scaleAndAdd:p(207),distance:p(79),dist:p(208),squaredDistance:p(80),sqrDist:p(209),length:p(81),len:p(210),squaredLength:p(82),sqrLen:p(211),negate:p(212),inverse:p(213),normalize:p(74),dot:p(75),cross:p(214),lerp:p(215),random:p(216),transformMat4:p(217),transformMat3:p(218),transformQuat:p(219),rotateX:p(220),rotateY:p(221),rotateZ:p(222),forEach:p(223)}},function(w,x,p){var e=p(229),T=p(243)(function(N,O){return null==N?{}:e(N,O)});w.exports=T},function(w,x,p){var e=p(2),T=p(41),N=p(248),O=p(249);function V(Y){var J="function"==typeof Map?new Map:void 0;return w.exports=V=function(ne){if(null===ne||!N(ne))return ne;if("function"!=typeof ne)throw new TypeError("Super expression must either be null or a function");if(void 0!==J){if(J.has(ne))return J.get(ne);J.set(ne,$)}function $(){return O(ne,arguments,e(this).constructor)}return $.prototype=Object.create(ne.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),T($,ne)},w.exports.__esModule=!0,w.exports.default=w.exports,V(Y)}w.exports=V,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){"use strict";var e=p(21),T={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,O){var V=N.data,Y=O.data,J=N.size.x,ne=N.size.y,$=e.a.create(N,O);return{rasterize:function(re){var pe,dt,tt,Qe,vt,ve,je,ke,gt,$e,it,Ae,Ke=[],Ue=0;for(Ae=0;Ae<400;Ae++)Ke[Ae]=0;for(Ke[0]=V[0],gt=null,ve=1;ve<ne-1;ve++)for(Qe=0,dt=Ke[0],vt=1;vt<J-1;vt++)if(0===Y[it=ve*J+vt])if((pe=V[it])!==dt){if(0===Qe)Ke[tt=Ue+1]=pe,dt=pe,null!==(je=$.contourTracing(ve,vt,tt,pe,T.DIR.OUTSIDE_EDGE))&&(Ue++,Qe=tt,(ke=T.createContour2D()).dir=T.CONTOUR_DIR.CW_DIR,ke.index=Qe,ke.firstVertex=je,ke.nextpeer=gt,ke.insideContours=null,null!==gt&&(gt.prevpeer=ke),gt=ke);else if(null!==(je=$.contourTracing(ve,vt,T.DIR.INSIDE_EDGE,pe,Qe))){for((ke=T.createContour2D()).firstVertex=je,ke.insideContours=null,ke.dir=0===re?T.CONTOUR_DIR.CCW_DIR:T.CONTOUR_DIR.CW_DIR,ke.index=re,$e=gt;null!==$e&&$e.index!==Qe;)$e=$e.nextpeer;null!==$e&&(ke.nextpeer=$e.insideContours,null!==$e.insideContours&&($e.insideContours.prevpeer=ke),$e.insideContours=ke)}}else Y[it]=Qe;else Y[it]===T.DIR.OUTSIDE_EDGE||Y[it]===T.DIR.INSIDE_EDGE?(Qe=0,dt=Y[it]===T.DIR.INSIDE_EDGE?V[it]:Ke[0]):dt=Ke[Qe=Y[it]];for($e=gt;null!==$e;)$e.index=re,$e=$e.nextpeer;return{cc:gt,count:Ue}},debug:{drawContour:function(re,pe){var dt,tt,Qe,vt=re.getContext("2d"),ve=pe;for(vt.strokeStyle="red",vt.fillStyle="red",vt.lineWidth=1,dt=null!==ve?ve.insideContours:null;null!==ve;){switch(null!==dt?(tt=dt,dt=dt.nextpeer):(tt=ve,dt=null!==(ve=ve.nextpeer)?ve.insideContours:null),tt.dir){case T.CONTOUR_DIR.CW_DIR:vt.strokeStyle="red";break;case T.CONTOUR_DIR.CCW_DIR:vt.strokeStyle="blue";break;case T.CONTOUR_DIR.UNKNOWN_DIR:vt.strokeStyle="green"}Qe=tt.firstVertex,vt.beginPath(),vt.moveTo(Qe.x,Qe.y);do{vt.lineTo((Qe=Qe.next).x,Qe.y)}while(Qe!==tt.firstVertex);vt.stroke()}}}}}};x.a=T},function(w,x,p){"use strict";x.a=function(e,T,N){var O=new e.Uint8Array(N),V=0|T.size,Y=e.Math.imul;function J(ve,je){ve|=0,je|=0;var ke=0,gt=0,it=0,Ae=0,Ke=0,Ue=0,Je=0;for(ke=1;(0|ke)<(V-1|0);ke=ke+1|0)for(Je=Je+V|0,gt=1;(0|gt)<(V-1|0);gt=gt+1|0)O[je+Je+gt|0]=5==(0|(0|O[ve+(it=Je-V|0)+(Ke=gt-1|0)|0])+(0|O[ve+it+(Ue=gt+1|0)|0])+(0|O[ve+Je+gt|0])+(0|O[ve+(Ae=Je+V|0)+Ke|0])+(0|O[ve+Ae+Ue|0]))?1:0}function ne(ve,je,ke){ve|=0,je|=0,ke|=0;var gt=0;for(gt=0|Y(V,V);(0|gt)>0;)O[ke+(gt=gt-1|0)|0]=(0|O[ve+gt|0])-(0|O[je+gt|0])|0}function $(ve,je,ke){ve|=0,je|=0,ke|=0;var gt=0;for(gt=0|Y(V,V);(0|gt)>0;)O[ke+(gt=gt-1|0)|0]=0|O[ve+gt|0]|O[je+gt|0]|0}function re(ve){ve|=0;var je=0,ke=0;for(ke=0|Y(V,V);(0|ke)>0;)je=(0|je)+(0|O[ve+(ke=ke-1|0)|0])|0;return 0|je}function dt(ve,je){ve|=0,je|=0;var ke=0,gt=0,it=0,Ae=0,Ke=0,Ue=0,Je=0;for(ke=1;(0|ke)<(V-1|0);ke=ke+1|0)for(Je=Je+V|0,gt=1;(0|gt)<(V-1|0);gt=gt+1|0)O[je+Je+gt|0]=(0|(0|O[ve+(it=Je-V|0)+(Ke=gt-1|0)|0])+(0|O[ve+it+(Ue=gt+1|0)|0])+(0|O[ve+Je+gt|0])+(0|O[ve+(Ae=Je+V|0)+Ke|0])+(0|O[ve+Ae+Ue|0]))>0?1:0}function tt(ve,je){ve|=0,je|=0;var ke=0;for(ke=0|Y(V,V);(0|ke)>0;)O[je+(ke=ke-1|0)|0]=0|O[ve+ke|0]}return{skeletonize:function vt(){var je,ke,gt,it=0;(function pe(ve,je){ve|=0,je|=0;var ke=0;for(ke=0|Y(V,V);(0|ke)>0;)O[ve+(ke=ke-1|0)|0]=je})(gt=(ke=(je=0|Y(V,V))+je|0)+je|0,0),function Qe(ve){ve|=0;var je=0,ke=0;for(je=0;(0|je)<(V-1|0);je=je+1|0)O[ve+je|0]=0,O[ve+ke|0]=0,O[ve+(ke=ke+V-1|0)|0]=0,ke=ke+1|0;for(je=0;(0|je)<(0|V);je=je+1|0)O[ve+ke|0]=0,ke=ke+1|0}(0);do{J(0,je),dt(je,ke),ne(0,ke,ke),$(gt,ke,gt),tt(je,0),it=0==(0|re(0))|0}while(!it)}}}},function(w,x,p){w.exports=p(263)},function(w,x,p){var e=p(91),T=p(48),N=p(121),O=p(123),V=p(14),Y=p(56),J=p(54);w.exports=function ne($,re,pe,dt,tt){$!==re&&N(re,function(Qe,vt){if(tt||(tt=new e),V(Qe))O($,re,vt,pe,ne,dt,tt);else{var ve=dt?dt(J($,vt),Qe,vt+"",$,re,tt):void 0;void 0===ve&&(ve=Qe),T($,vt,ve)}},Y)}},function(w,x,p){var e=p(24),T=p(97),N=p(98),O=p(99),V=p(100),Y=p(101);function J(ne){var $=this.__data__=new e(ne);this.size=$.size}J.prototype.clear=T,J.prototype.delete=N,J.prototype.get=O,J.prototype.has=V,J.prototype.set=Y,w.exports=J},function(w,x){w.exports=function(){this.__data__=[],this.size=0}},function(w,x,p){var e=p(25),T=Array.prototype.splice;w.exports=function(N){var O=this.__data__,V=e(O,N);return!(V<0||(V==O.length-1?O.pop():T.call(O,V,1),--this.size,0))}},function(w,x,p){var e=p(25);w.exports=function(T){var N=this.__data__,O=e(N,T);return O<0?void 0:N[O][1]}},function(w,x,p){var e=p(25);w.exports=function(T){return e(this.__data__,T)>-1}},function(w,x,p){var e=p(25);w.exports=function(T,N){var O=this.__data__,V=e(O,T);return V<0?(++this.size,O.push([T,N])):O[V][1]=N,this}},function(w,x,p){var e=p(24);w.exports=function(){this.__data__=new e,this.size=0}},function(w,x){w.exports=function(p){var e=this.__data__,T=e.delete(p);return this.size=e.size,T}},function(w,x){w.exports=function(p){return this.__data__.get(p)}},function(w,x){w.exports=function(p){return this.__data__.has(p)}},function(w,x,p){var e=p(24),T=p(44),N=p(47);w.exports=function(O,V){var Y=this.__data__;if(Y instanceof e){var J=Y.__data__;if(!T||J.length<199)return J.push([O,V]),this.size=++Y.size,this;Y=this.__data__=new N(J)}return Y.set(O,V),this.size=Y.size,this}},function(w,x,p){var e=p(36),T=p(105),N=p(14),O=p(107),V=/^\[object .+?Constructor\]$/,re=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");w.exports=function(pe){return!(!N(pe)||T(pe))&&(e(pe)?re:V).test(O(pe))}},function(w,x,p){var e=p(27),T=Object.prototype,N=T.hasOwnProperty,O=T.toString,V=e?e.toStringTag:void 0;w.exports=function(Y){var J=N.call(Y,V),ne=Y[V];try{Y[V]=void 0;var $=!0}catch(pe){}var re=O.call(Y);return $&&(J?Y[V]=ne:delete Y[V]),re}},function(w,x){var p=Object.prototype.toString;w.exports=function(e){return p.call(e)}},function(w,x,p){var e,T=p(106),N=(e=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";w.exports=function(O){return!!N&&N in O}},function(w,x,p){var e=p(18)["__core-js_shared__"];w.exports=e},function(w,x){var p=Function.prototype.toString;w.exports=function(e){if(null!=e){try{return p.call(e)}catch(T){}try{return e+""}catch(T){}}return""}},function(w,x){w.exports=function(p,e){return null==p?void 0:p[e]}},function(w,x,p){var e=p(110),T=p(24),N=p(44);w.exports=function(){this.size=0,this.__data__={hash:new e,map:new(N||T),string:new e}}},function(w,x,p){var e=p(111),T=p(112),N=p(113),O=p(114),V=p(115);function Y(J){var ne=-1,$=null==J?0:J.length;for(this.clear();++ne<$;){var re=J[ne];this.set(re[0],re[1])}}Y.prototype.clear=e,Y.prototype.delete=T,Y.prototype.get=N,Y.prototype.has=O,Y.prototype.set=V,w.exports=Y},function(w,x,p){var e=p(28);w.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(w,x){w.exports=function(p){var e=this.has(p)&&delete this.__data__[p];return this.size-=e?1:0,e}},function(w,x,p){var e=p(28),T=Object.prototype.hasOwnProperty;w.exports=function(N){var O=this.__data__;if(e){var V=O[N];return"__lodash_hash_undefined__"===V?void 0:V}return T.call(O,N)?O[N]:void 0}},function(w,x,p){var e=p(28),T=Object.prototype.hasOwnProperty;w.exports=function(N){var O=this.__data__;return e?void 0!==O[N]:T.call(O,N)}},function(w,x,p){var e=p(28);w.exports=function(T,N){var O=this.__data__;return this.size+=this.has(T)?0:1,O[T]=e&&void 0===N?"__lodash_hash_undefined__":N,this}},function(w,x,p){var e=p(29);w.exports=function(T){var N=e(this,T).delete(T);return this.size-=N?1:0,N}},function(w,x){w.exports=function(p){var e=typeof p;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==p:null===p}},function(w,x,p){var e=p(29);w.exports=function(T){return e(this,T).get(T)}},function(w,x,p){var e=p(29);w.exports=function(T){return e(this,T).has(T)}},function(w,x,p){var e=p(29);w.exports=function(T,N){var O=e(this,T),V=O.size;return O.set(T,N),this.size+=O.size==V?0:1,this}},function(w,x,p){var e=p(122)();w.exports=e},function(w,x){w.exports=function(p){return function(e,T,N){for(var O=-1,V=Object(e),Y=N(e),J=Y.length;J--;){var ne=Y[p?J:++O];if(!1===T(V[ne],ne,V))break}return e}}},function(w,x,p){var e=p(48),T=p(124),N=p(125),O=p(128),V=p(129),Y=p(30),J=p(15),ne=p(133),$=p(52),re=p(36),pe=p(14),dt=p(135),tt=p(53),Qe=p(54),vt=p(139);w.exports=function(ve,je,ke,gt,$e,it,Ae){var Ke=Qe(ve,ke),Ue=Qe(je,ke),Je=Ae.get(Ue);if(Je)e(ve,ke,Je);else{var _e=it?it(Ke,Ue,ke+"",ve,je,Ae):void 0,ue=void 0===_e;if(ue){var oe=J(Ue),Ce=!oe&&$(Ue),qe=!oe&&!Ce&&tt(Ue);_e=Ue,oe||Ce||qe?J(Ke)?_e=Ke:ne(Ke)?_e=O(Ke):Ce?(ue=!1,_e=T(Ue,!0)):qe?(ue=!1,_e=N(Ue,!0)):_e=[]:dt(Ue)||Y(Ue)?(_e=Ke,Y(Ke)?_e=vt(Ke):pe(Ke)&&!re(Ke)||(_e=V(Ue))):ue=!1}ue&&(Ae.set(Ue,_e),$e(_e,Ue,gt,it,Ae),Ae.delete(Ue)),e(ve,ke,_e)}}},function(w,x,p){(function(e){var T=p(18),N=x&&!x.nodeType&&x,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,V=O&&O.exports===N?T.Buffer:void 0,Y=V?V.allocUnsafe:void 0;e.exports=function(J,ne){if(ne)return J.slice();var $=J.length,re=Y?Y($):new J.constructor($);return J.copy(re),re}}).call(this,p(38)(w))},function(w,x,p){var e=p(126);w.exports=function(T,N){var O=N?e(T.buffer):T.buffer;return new T.constructor(O,T.byteOffset,T.length)}},function(w,x,p){var e=p(127);w.exports=function(T){var N=new T.constructor(T.byteLength);return new e(N).set(new e(T)),N}},function(w,x,p){var e=p(18).Uint8Array;w.exports=e},function(w,x){w.exports=function(p,e){var T=-1,N=p.length;for(e||(e=Array(N));++T<N;)e[T]=p[T];return e}},function(w,x,p){var e=p(130),T=p(50),N=p(51);w.exports=function(O){return"function"!=typeof O.constructor||N(O)?{}:e(T(O))}},function(w,x,p){var e=p(14),T=Object.create,N=function(){function O(){}return function(V){if(!e(V))return{};if(T)return T(V);O.prototype=V;var Y=new O;return O.prototype=void 0,Y}}();w.exports=N},function(w,x){w.exports=function(p,e){return function(T){return p(e(T))}}},function(w,x,p){var e=p(22),T=p(19);w.exports=function(N){return T(N)&&"[object Arguments]"==e(N)}},function(w,x,p){var e=p(39),T=p(19);w.exports=function(N){return T(N)&&e(N)}},function(w,x){w.exports=function(){return!1}},function(w,x,p){var e=p(22),T=p(50),N=p(19),Y=Function.prototype.toString,J=Object.prototype.hasOwnProperty,ne=Y.call(Object);w.exports=function($){if(!N($)||"[object Object]"!=e($))return!1;var re=T($);if(null===re)return!0;var pe=J.call(re,"constructor")&&re.constructor;return"function"==typeof pe&&pe instanceof pe&&Y.call(pe)==ne}},function(w,x,p){var e=p(22),T=p(40),N=p(19),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,w.exports=function(V){return N(V)&&T(V.length)&&!!O[e(V)]}},function(w,x){w.exports=function(p){return function(e){return p(e)}}},function(w,x,p){(function(e){var T=p(45),N=x&&!x.nodeType&&x,O=N&&"object"==typeof e&&e&&!e.nodeType&&e,V=O&&O.exports===N&&T.process,Y=function(){try{return O&&O.require&&O.require("util").types||V&&V.binding&&V.binding("util")}catch(ne){}}();e.exports=Y}).call(this,p(38)(w))},function(w,x,p){var e=p(140),T=p(56);w.exports=function(N){return e(N,T(N))}},function(w,x,p){var e=p(55),T=p(37);w.exports=function(N,O,V,Y){var J=!V;V||(V={});for(var ne=-1,$=O.length;++ne<$;){var re=O[ne],pe=Y?Y(V[re],N[re],re,V,N):void 0;void 0===pe&&(pe=N[re]),J?T(V,re,pe):e(V,re,pe)}return V}},function(w,x,p){var e=p(142),T=p(30),N=p(15),O=p(52),V=p(31),Y=p(53),J=Object.prototype.hasOwnProperty;w.exports=function(ne,$){var re=N(ne),pe=!re&&T(ne),dt=!re&&!pe&&O(ne),tt=!re&&!pe&&!dt&&Y(ne),Qe=re||pe||dt||tt,vt=Qe?e(ne.length,String):[],ve=vt.length;for(var je in ne)!$&&!J.call(ne,je)||Qe&&("length"==je||dt&&("offset"==je||"parent"==je)||tt&&("buffer"==je||"byteLength"==je||"byteOffset"==je)||V(je,ve))||vt.push(je);return vt}},function(w,x){w.exports=function(p,e){for(var T=-1,N=Array(p);++T<p;)N[T]=e(T);return N}},function(w,x,p){var e=p(14),T=p(51),N=p(144),O=Object.prototype.hasOwnProperty;w.exports=function(V){if(!e(V))return N(V);var Y=T(V),J=[];for(var ne in V)("constructor"!=ne||!Y&&O.call(V,ne))&&J.push(ne);return J}},function(w,x){w.exports=function(p){var e=[];if(null!=p)for(var T in Object(p))e.push(T);return e}},function(w,x,p){var e=p(146),T=p(151);w.exports=function(N){return e(function(O,V){var Y=-1,J=V.length,ne=J>1?V[J-1]:void 0,$=J>2?V[2]:void 0;for(ne=N.length>3&&"function"==typeof ne?(J--,ne):void 0,$&&T(V[0],V[1],$)&&(ne=J<3?void 0:ne,J=1),O=Object(O);++Y<J;){var re=V[Y];re&&N(O,re,Y,ne)}return O})}},function(w,x,p){var e=p(57),T=p(58),N=p(59);w.exports=function(O,V){return N(T(O,V,e),O+"")}},function(w,x){w.exports=function(p,e,T){switch(T.length){case 0:return p.call(e);case 1:return p.call(e,T[0]);case 2:return p.call(e,T[0],T[1]);case 3:return p.call(e,T[0],T[1],T[2])}return p.apply(e,T)}},function(w,x,p){var e=p(149),T=p(49),N=p(57);w.exports=T?function(V,Y){return T(V,"toString",{configurable:!0,enumerable:!1,value:e(Y),writable:!0})}:N},function(w,x){w.exports=function(p){return function(){return p}}},function(w,x){var p=Date.now;w.exports=function(e){var T=0,N=0;return function(){var O=p(),V=16-(O-N);if(N=O,V>0){if(++T>=800)return arguments[0]}else T=0;return e.apply(void 0,arguments)}}},function(w,x,p){var e=p(26),T=p(39),N=p(31),O=p(14);w.exports=function(V,Y,J){if(!O(J))return!1;var ne=typeof Y;return!!("number"==ne?T(J)&&N(Y,J.length):"string"==ne&&Y in J)&&e(J[Y],V)}},function(w,x){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(p,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(p,e){var T=65535&p,N=65535&e;return T*N+((p>>>16&65535)*N+T*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(p){"use strict";if(null===p)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(p),T=1;T<arguments.length;T++){var N=arguments[T];if(null!==N)for(var O in N)Object.prototype.hasOwnProperty.call(N,O)&&(e[O]=N[O])}return e})},function(w,x){w.exports=function(p){if(Array.isArray(p))return p},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p,e){var T=null==p?null:"undefined"!=typeof Symbol&&p[Symbol.iterator]||p["@@iterator"];if(null!=T){var N,O,V=[],Y=!0,J=!1;try{for(T=T.call(p);!(Y=(N=T.next()).done)&&(V.push(N.value),!e||V.length!==e);Y=!0);}catch(ne){J=!0,O=ne}finally{try{Y||null==T.return||T.return()}finally{if(J)throw O}}return V}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){var e=new Float32Array(2);return e[0]=p[0],e[1]=p[1],e}},function(w,x){w.exports=function(p,e){var T=new Float32Array(2);return T[0]=p,T[1]=e,T}},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=e,p[1]=T,p}},function(w,x,p){w.exports=function(T,N){var O=T[0],V=T[1],Y=N[0],J=N[1];return Math.abs(O-Y)<=e*Math.max(1,Math.abs(O),Math.abs(Y))&&Math.abs(V-J)<=e*Math.max(1,Math.abs(V),Math.abs(J))};var e=p(62)},function(w,x){w.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]+T[0],p[1]=e[1]+T[1],p}},function(w,x,p){w.exports=p(64)},function(w,x,p){w.exports=p(65)},function(w,x,p){w.exports=p(66)},function(w,x){w.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.min(e[0],T[0]),p[1]=Math.min(e[1],T[1]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.max(e[0],T[0]),p[1]=Math.max(e[1],T[1]),p}},function(w,x){w.exports=function(p,e,T){var N=Math.cos(T),O=Math.sin(T),V=e[0],Y=e[1];return p[0]=V*N-Y*O,p[1]=V*O+Y*N,p}},function(w,x){w.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T,p[1]=e[1]*T,p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e[0]+T[0]*N,p[1]=e[1]+T[1]*N,p}},function(w,x,p){w.exports=p(67)},function(w,x,p){w.exports=p(68)},function(w,x,p){w.exports=p(69)},function(w,x,p){w.exports=p(70)},function(w,x){w.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=T*T+N*N;return O>0&&(O=1/Math.sqrt(O),p[0]=e[0]*O,p[1]=e[1]*O),p}},function(w,x){w.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]}},function(w,x){w.exports=function(p,e,T){var N=e[0]*T[1]-e[1]*T[0];return p[0]=p[1]=0,p[2]=N,p}},function(w,x){w.exports=function(p,e,T,N){var O=e[0],V=e[1];return p[0]=O+N*(T[0]-O),p[1]=V+N*(T[1]-V),p}},function(w,x){w.exports=function(p,e){e=e||1;var T=2*Math.random()*Math.PI;return p[0]=Math.cos(T)*e,p[1]=Math.sin(T)*e,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[2]*O,p[1]=T[1]*N+T[3]*O,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[2]*O+T[4],p[1]=T[1]*N+T[3]*O+T[5],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[3]*O+T[6],p[1]=T[1]*N+T[4]*O+T[7],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1];return p[0]=T[0]*N+T[4]*O+T[12],p[1]=T[1]*N+T[5]*O+T[13],p}},function(w,x,p){w.exports=function(T,N,O,V,Y,J){var ne,$;for(N||(N=2),O||(O=0),$=V?Math.min(V*N+O,T.length):T.length,ne=O;ne<$;ne+=N)e[0]=T[ne],e[1]=T[ne+1],Y(e,e,J),T[ne]=e[0],T[ne+1]=e[1];return T};var e=p(63)()},function(w,x){w.exports=function(p,e,T){var N=e[0]*e[0]+e[1]*e[1];if(N>T*T){var O=Math.sqrt(N);p[0]=e[0]/O*T,p[1]=e[1]/O*T}else p[0]=e[0],p[1]=e[1];return p}},function(w,x){w.exports=function(p){var e=new Float32Array(3);return e[0]=p[0],e[1]=p[1],e[2]=p[2],e}},function(w,x,p){w.exports=function(O,V){var Y=e(O[0],O[1],O[2]),J=e(V[0],V[1],V[2]);T(Y,Y),T(J,J);var ne=N(Y,J);return ne>1?0:Math.acos(ne)};var e=p(73),T=p(74),N=p(75)},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e,p[1]=T,p[2]=N,p}},function(w,x,p){w.exports=function(T,N){var O=T[0],V=T[1],Y=T[2],J=N[0],ne=N[1],$=N[2];return Math.abs(O-J)<=e*Math.max(1,Math.abs(O),Math.abs(J))&&Math.abs(V-ne)<=e*Math.max(1,Math.abs(V),Math.abs(ne))&&Math.abs(Y-$)<=e*Math.max(1,Math.abs(Y),Math.abs($))};var e=p(71)},function(w,x){w.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]&&p[2]===e[2]}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]+T[0],p[1]=e[1]+T[1],p[2]=e[2]+T[2],p}},function(w,x,p){w.exports=p(76)},function(w,x,p){w.exports=p(77)},function(w,x,p){w.exports=p(78)},function(w,x){w.exports=function(p,e,T){return p[0]=Math.min(e[0],T[0]),p[1]=Math.min(e[1],T[1]),p[2]=Math.min(e[2],T[2]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=Math.max(e[0],T[0]),p[1]=Math.max(e[1],T[1]),p[2]=Math.max(e[2],T[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p[2]=Math.floor(e[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p[2]=Math.ceil(e[2]),p}},function(w,x){w.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p[2]=Math.round(e[2]),p}},function(w,x){w.exports=function(p,e,T){return p[0]=e[0]*T,p[1]=e[1]*T,p[2]=e[2]*T,p}},function(w,x){w.exports=function(p,e,T,N){return p[0]=e[0]+T[0]*N,p[1]=e[1]+T[1]*N,p[2]=e[2]+T[2]*N,p}},function(w,x,p){w.exports=p(79)},function(w,x,p){w.exports=p(80)},function(w,x,p){w.exports=p(81)},function(w,x,p){w.exports=p(82)},function(w,x){w.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p[2]=-e[2],p}},function(w,x){w.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p[2]=1/e[2],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2],Y=T[0],J=T[1],ne=T[2];return p[0]=O*ne-V*J,p[1]=V*Y-N*ne,p[2]=N*J-O*Y,p}},function(w,x){w.exports=function(p,e,T,N){var O=e[0],V=e[1],Y=e[2];return p[0]=O+N*(T[0]-O),p[1]=V+N*(T[1]-V),p[2]=Y+N*(T[2]-Y),p}},function(w,x){w.exports=function(p,e){e=e||1;var T=2*Math.random()*Math.PI,N=2*Math.random()-1,O=Math.sqrt(1-N*N)*e;return p[0]=Math.cos(T)*O,p[1]=Math.sin(T)*O,p[2]=N*e,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2],Y=T[3]*N+T[7]*O+T[11]*V+T[15];return p[0]=(T[0]*N+T[4]*O+T[8]*V+T[12])/(Y=Y||1),p[1]=(T[1]*N+T[5]*O+T[9]*V+T[13])/Y,p[2]=(T[2]*N+T[6]*O+T[10]*V+T[14])/Y,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2];return p[0]=N*T[0]+O*T[3]+V*T[6],p[1]=N*T[1]+O*T[4]+V*T[7],p[2]=N*T[2]+O*T[5]+V*T[8],p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2],Y=T[0],J=T[1],ne=T[2],$=T[3],re=$*N+J*V-ne*O,pe=$*O+ne*N-Y*V,dt=$*V+Y*O-J*N,tt=-Y*N-J*O-ne*V;return p[0]=re*$+tt*-Y+pe*-ne-dt*-J,p[1]=pe*$+tt*-J+dt*-Y-re*-ne,p[2]=dt*$+tt*-ne+re*-J-pe*-Y,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[1],V=T[2],Y=e[1]-O,J=e[2]-V,ne=Math.sin(N),$=Math.cos(N);return p[0]=e[0],p[1]=O+Y*$-J*ne,p[2]=V+Y*ne+J*$,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[0],V=T[2],Y=e[0]-O,J=e[2]-V,ne=Math.sin(N),$=Math.cos(N);return p[0]=O+J*ne+Y*$,p[1]=e[1],p[2]=V+J*$-Y*ne,p}},function(w,x){w.exports=function(p,e,T,N){var O=T[0],V=T[1],Y=e[0]-O,J=e[1]-V,ne=Math.sin(N),$=Math.cos(N);return p[0]=O+Y*$-J*ne,p[1]=V+Y*ne+J*$,p[2]=e[2],p}},function(w,x,p){w.exports=function(T,N,O,V,Y,J){var ne,$;for(N||(N=3),O||(O=0),$=V?Math.min(V*N+O,T.length):T.length,ne=O;ne<$;ne+=N)e[0]=T[ne],e[1]=T[ne+1],e[2]=T[ne+2],Y(e,e,J),T[ne]=e[0],T[ne+1]=e[1],T[ne+2]=e[2];return T};var e=p(72)()},function(w,x,p){var e=function(T){"use strict";var N=Object.prototype,O=N.hasOwnProperty,V="function"==typeof Symbol?Symbol:{},Y=V.iterator||"@@iterator",J=V.asyncIterator||"@@asyncIterator",ne=V.toStringTag||"@@toStringTag";function $(ue,oe,Ce,qe){var An,Nt,Et,Zt,xt=Object.create((oe&&oe.prototype instanceof dt?oe:dt).prototype),Lt=new Ue(qe||[]);return xt._invoke=(An=ue,Nt=Ce,Et=Lt,Zt="suspendedStart",function(yn,or){if("executing"===Zt)throw new Error("Generator is already running");if("completed"===Zt){if("throw"===yn)throw or;return{value:void 0,done:!0}}for(Et.method=yn,Et.arg=or;;){var $n=Et.delegate;if($n){var Er=it($n,Et);if(Er){if(Er===pe)continue;return Er}}if("next"===Et.method)Et.sent=Et._sent=Et.arg;else if("throw"===Et.method){if("suspendedStart"===Zt)throw Zt="completed",Et.arg;Et.dispatchException(Et.arg)}else"return"===Et.method&&Et.abrupt("return",Et.arg);Zt="executing";var yr=re(An,Nt,Et);if("normal"===yr.type){if(Zt=Et.done?"completed":"suspendedYield",yr.arg===pe)continue;return{value:yr.arg,done:Et.done}}"throw"===yr.type&&(Zt="completed",Et.method="throw",Et.arg=yr.arg)}}),xt}function re(ue,oe,Ce){try{return{type:"normal",arg:ue.call(oe,Ce)}}catch(qe){return{type:"throw",arg:qe}}}T.wrap=$;var pe={};function dt(){}function tt(){}function Qe(){}var vt={};vt[Y]=function(){return this};var ve=Object.getPrototypeOf,je=ve&&ve(ve(Je([])));je&&je!==N&&O.call(je,Y)&&(vt=je);var ke=Qe.prototype=dt.prototype=Object.create(vt);function gt(ue){["next","throw","return"].forEach(function(oe){ue[oe]=function(Ce){return this._invoke(oe,Ce)}})}function $e(ue,oe){var Ce;this._invoke=function(qe,Ee){function xt(){return new oe(function(Lt,An){!function Nt(Et,Zt,yn,or){var $n=re(ue[Et],ue,Zt);if("throw"!==$n.type){var Er=$n.arg,yr=Er.value;return yr&&"object"==typeof yr&&O.call(yr,"__await")?oe.resolve(yr.__await).then(function(_r){Nt("next",_r,yn,or)},function(_r){Nt("throw",_r,yn,or)}):oe.resolve(yr).then(function(_r){Er.value=_r,yn(Er)},function(_r){return Nt("throw",_r,yn,or)})}or($n.arg)}(qe,Ee,Lt,An)})}return Ce=Ce?Ce.then(xt,xt):xt()}}function it(ue,oe){var Ce=ue.iterator[oe.method];if(void 0===Ce){if(oe.delegate=null,"throw"===oe.method){if(ue.iterator.return&&(oe.method="return",oe.arg=void 0,it(ue,oe),"throw"===oe.method))return pe;oe.method="throw",oe.arg=new TypeError("The iterator does not provide a 'throw' method")}return pe}var qe=re(Ce,ue.iterator,oe.arg);if("throw"===qe.type)return oe.method="throw",oe.arg=qe.arg,oe.delegate=null,pe;var Ee=qe.arg;return Ee?Ee.done?(oe[ue.resultName]=Ee.value,oe.next=ue.nextLoc,"return"!==oe.method&&(oe.method="next",oe.arg=void 0),oe.delegate=null,pe):Ee:(oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,pe)}function Ae(ue){var oe={tryLoc:ue[0]};1 in ue&&(oe.catchLoc=ue[1]),2 in ue&&(oe.finallyLoc=ue[2],oe.afterLoc=ue[3]),this.tryEntries.push(oe)}function Ke(ue){var oe=ue.completion||{};oe.type="normal",delete oe.arg,ue.completion=oe}function Ue(ue){this.tryEntries=[{tryLoc:"root"}],ue.forEach(Ae,this),this.reset(!0)}function Je(ue){if(ue){var oe=ue[Y];if(oe)return oe.call(ue);if("function"==typeof ue.next)return ue;if(!isNaN(ue.length)){var Ce=-1,qe=function Ee(){for(;++Ce<ue.length;)if(O.call(ue,Ce))return Ee.value=ue[Ce],Ee.done=!1,Ee;return Ee.value=void 0,Ee.done=!0,Ee};return qe.next=qe}}return{next:_e}}function _e(){return{value:void 0,done:!0}}return tt.prototype=ke.constructor=Qe,Qe.constructor=tt,Qe[ne]=tt.displayName="GeneratorFunction",T.isGeneratorFunction=function(ue){var oe="function"==typeof ue&&ue.constructor;return!!oe&&(oe===tt||"GeneratorFunction"===(oe.displayName||oe.name))},T.mark=function(ue){return Object.setPrototypeOf?Object.setPrototypeOf(ue,Qe):(ue.__proto__=Qe,ne in ue||(ue[ne]="GeneratorFunction")),ue.prototype=Object.create(ke),ue},T.awrap=function(ue){return{__await:ue}},gt($e.prototype),$e.prototype[J]=function(){return this},T.AsyncIterator=$e,T.async=function(ue,oe,Ce,qe,Ee){void 0===Ee&&(Ee=Promise);var xt=new $e($(ue,oe,Ce,qe),Ee);return T.isGeneratorFunction(oe)?xt:xt.next().then(function(Lt){return Lt.done?Lt.value:xt.next()})},gt(ke),ke[ne]="Generator",ke[Y]=function(){return this},ke.toString=function(){return"[object Generator]"},T.keys=function(ue){var oe=[];for(var Ce in ue)oe.push(Ce);return oe.reverse(),function qe(){for(;oe.length;){var Ee=oe.pop();if(Ee in ue)return qe.value=Ee,qe.done=!1,qe}return qe.done=!0,qe}},T.values=Je,Ue.prototype={constructor:Ue,reset:function(ue){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(Ke),!ue)for(var oe in this)"t"===oe.charAt(0)&&O.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=void 0)},stop:function(){this.done=!0;var ue=this.tryEntries[0].completion;if("throw"===ue.type)throw ue.arg;return this.rval},dispatchException:function(ue){if(this.done)throw ue;var oe=this;function Ce(Nt,Et){return xt.type="throw",xt.arg=ue,oe.next=Nt,Et&&(oe.method="next",oe.arg=void 0),!!Et}for(var qe=this.tryEntries.length-1;qe>=0;--qe){var Ee=this.tryEntries[qe],xt=Ee.completion;if("root"===Ee.tryLoc)return Ce("end");if(Ee.tryLoc<=this.prev){var Lt=O.call(Ee,"catchLoc"),An=O.call(Ee,"finallyLoc");if(Lt&&An){if(this.prev<Ee.catchLoc)return Ce(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return Ce(Ee.finallyLoc)}else if(Lt){if(this.prev<Ee.catchLoc)return Ce(Ee.catchLoc,!0)}else{if(!An)throw new Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return Ce(Ee.finallyLoc)}}}},abrupt:function(ue,oe){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var qe=this.tryEntries[Ce];if(qe.tryLoc<=this.prev&&O.call(qe,"finallyLoc")&&this.prev<qe.finallyLoc){var Ee=qe;break}}Ee&&("break"===ue||"continue"===ue)&&Ee.tryLoc<=oe&&oe<=Ee.finallyLoc&&(Ee=null);var xt=Ee?Ee.completion:{};return xt.type=ue,xt.arg=oe,Ee?(this.method="next",this.next=Ee.finallyLoc,pe):this.complete(xt)},complete:function(ue,oe){if("throw"===ue.type)throw ue.arg;return"break"===ue.type||"continue"===ue.type?this.next=ue.arg:"return"===ue.type?(this.rval=this.arg=ue.arg,this.method="return",this.next="end"):"normal"===ue.type&&oe&&(this.next=oe),pe},finish:function(ue){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Ce=this.tryEntries[oe];if(Ce.finallyLoc===ue)return this.complete(Ce.completion,Ce.afterLoc),Ke(Ce),pe}},catch:function(ue){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var Ce=this.tryEntries[oe];if(Ce.tryLoc===ue){var qe=Ce.completion;if("throw"===qe.type){var Ee=qe.arg;Ke(Ce)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(ue,oe,Ce){return this.delegate={iterator:Je(ue),resultName:oe,nextLoc:Ce},"next"===this.method&&(this.arg=void 0),pe}},T}(w.exports);try{regeneratorRuntime=e}catch(T){Function("r","regeneratorRuntime = r")(e)}},function(w,x,p){var e=p(2);w.exports=function(T,N){for(;!Object.prototype.hasOwnProperty.call(T,N)&&null!==(T=e(T)););return T},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(61);w.exports=function(T){if(Array.isArray(T))return e(T)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(230),T=p(240);w.exports=function(N,O){return e(N,O,function(V,Y){return T(N,Y)})}},function(w,x,p){var e=p(231),T=p(239),N=p(32);w.exports=function(O,V,Y){for(var J=-1,ne=V.length,$={};++J<ne;){var re=V[J],pe=e(O,re);Y(pe,re)&&T($,N(re,O),pe)}return $}},function(w,x,p){var e=p(32),T=p(43);w.exports=function(N,O){for(var V=0,Y=(O=e(O,N)).length;null!=N&&V<Y;)N=N[T(O[V++])];return V&&V==Y?N:void 0}},function(w,x,p){var e=p(15),T=p(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;w.exports=function(V,Y){if(e(V))return!1;var J=typeof V;return!("number"!=J&&"symbol"!=J&&"boolean"!=J&&null!=V&&!T(V))||O.test(V)||!N.test(V)||null!=Y&&V in Object(Y)}},function(w,x,p){var e=p(234),T=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,O=e(function(V){var Y=[];return 46===V.charCodeAt(0)&&Y.push(""),V.replace(T,function(J,ne,$,re){Y.push($?re.replace(N,"$1"):ne||J)}),Y});w.exports=O},function(w,x,p){var e=p(235);w.exports=function(T){var N=e(T,function(V){return 500===O.size&&O.clear(),V}),O=N.cache;return N}},function(w,x,p){var e=p(47);function T(N,O){if("function"!=typeof N||null!=O&&"function"!=typeof O)throw new TypeError("Expected a function");var V=function(){var Y=arguments,J=O?O.apply(this,Y):Y[0],ne=V.cache;if(ne.has(J))return ne.get(J);var $=N.apply(this,Y);return V.cache=ne.set(J,$)||ne,$};return V.cache=new(T.Cache||e),V}T.Cache=e,w.exports=T},function(w,x,p){var e=p(237);w.exports=function(T){return null==T?"":e(T)}},function(w,x,p){var e=p(27),T=p(238),N=p(15),O=p(42),V=e?e.prototype:void 0,Y=V?V.toString:void 0;w.exports=function J(ne){if("string"==typeof ne)return ne;if(N(ne))return T(ne,J)+"";if(O(ne))return Y?Y.call(ne):"";var $=ne+"";return"0"==$&&1/ne==-1/0?"-0":$}},function(w,x){w.exports=function(p,e){for(var T=-1,N=null==p?0:p.length,O=Array(N);++T<N;)O[T]=e(p[T],T,p);return O}},function(w,x,p){var e=p(55),T=p(32),N=p(31),O=p(14),V=p(43);w.exports=function(Y,J,ne,$){if(!O(Y))return Y;for(var re=-1,pe=(J=T(J,Y)).length,dt=pe-1,tt=Y;null!=tt&&++re<pe;){var Qe=V(J[re]),vt=ne;if("__proto__"===Qe||"constructor"===Qe||"prototype"===Qe)return Y;if(re!=dt){var ve=tt[Qe];void 0===(vt=$?$(ve,Qe,tt):void 0)&&(vt=O(ve)?ve:N(J[re+1])?[]:{})}e(tt,Qe,vt),tt=tt[Qe]}return Y}},function(w,x,p){var e=p(241),T=p(242);w.exports=function(N,O){return null!=N&&T(N,O,e)}},function(w,x){w.exports=function(p,e){return null!=p&&e in Object(p)}},function(w,x,p){var e=p(32),T=p(30),N=p(15),O=p(31),V=p(40),Y=p(43);w.exports=function(J,ne,$){for(var re=-1,pe=(ne=e(ne,J)).length,dt=!1;++re<pe;){var tt=Y(ne[re]);if(!(dt=null!=J&&$(J,tt)))break;J=J[tt]}return dt||++re!=pe?dt:!!(pe=null==J?0:J.length)&&V(pe)&&O(tt,pe)&&(N(J)||T(J))}},function(w,x,p){var e=p(244),T=p(58),N=p(59);w.exports=function(O){return N(T(O,void 0,e),O+"")}},function(w,x,p){var e=p(245);w.exports=function(T){return null!=T&&T.length?e(T,1):[]}},function(w,x,p){var e=p(246),T=p(247);w.exports=function N(O,V,Y,J,ne){var $=-1,re=O.length;for(Y||(Y=T),ne||(ne=[]);++$<re;){var pe=O[$];V>0&&Y(pe)?V>1?N(pe,V-1,Y,J,ne):e(ne,pe):J||(ne[ne.length]=pe)}return ne}},function(w,x){w.exports=function(p,e){for(var T=-1,N=e.length,O=p.length;++T<N;)p[O+T]=e[T];return p}},function(w,x,p){var e=p(27),T=p(30),N=p(15),O=e?e.isConcatSpreadable:void 0;w.exports=function(V){return N(V)||T(V)||!!(O&&V&&V[O])}},function(w,x){w.exports=function(p){return-1!==Function.toString.call(p).indexOf("[native code]")},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x,p){var e=p(41),T=p(250);function N(O,V,Y){return T()?(w.exports=N=Reflect.construct,w.exports.__esModule=!0,w.exports.default=w.exports):(w.exports=N=function(J,ne,$){var re=[null];re.push.apply(re,ne);var pe=new(Function.bind.apply(J,re));return $&&e(pe,$.prototype),pe},w.exports.__esModule=!0,w.exports.default=w.exports),N.apply(null,arguments)}w.exports=N,w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}},w.exports.__esModule=!0,w.exports.default=w.exports},function(w,x){w.exports=function(p){return p[0]*p[3]-p[2]*p[1]}},function(w,x){w.exports=function(p,e){if(p===e){var T=e[1];p[1]=e[2],p[2]=T}else p[0]=e[0],p[1]=e[2],p[2]=e[1],p[3]=e[3];return p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2],Y=e[3],J=T[0],ne=T[1],$=T[2],re=T[3];return p[0]=N*J+V*ne,p[1]=O*J+Y*ne,p[2]=N*$+V*re,p[3]=O*$+Y*re,p}},function(w,x){w.exports=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(w,x){w.exports=function(p,e){var T=e[0];return p[0]=e[3],p[1]=-e[1],p[2]=-e[2],p[3]=T,p}},function(w,x){w.exports=function(p,e,T){var N=e[0],O=e[1],V=e[2],Y=e[3],J=Math.sin(T),ne=Math.cos(T);return p[0]=N*ne+V*J,p[1]=O*ne+Y*J,p[2]=N*-J+V*ne,p[3]=O*-J+Y*ne,p}},function(w,x){w.exports=function(p,e){var T=e[0],N=e[1],O=e[2],V=e[3],Y=T*V-O*N;return Y?(p[0]=V*(Y=1/Y),p[1]=-N*Y,p[2]=-O*Y,p[3]=T*Y,p):null}},function(w,x){w.exports=function(){var p=new Float32Array(4);return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(w,x){w.exports=function(p,e,T){var O=e[1],V=e[2],Y=e[3],J=T[0],ne=T[1];return p[0]=e[0]*J,p[1]=O*J,p[2]=V*ne,p[3]=Y*ne,p}},function(w,x){w.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p}},function(w,x){w.exports=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2))}},function(w,x){w.exports=function(p,e,T,N){return p[2]=N[2]/N[0],T[0]=N[0],T[1]=N[1],T[3]=N[3]-p[2]*T[1],[p,e,T]}},function(w,x,p){"use strict";p.r(x),p.d(x,"BarcodeDecoder",function(){return cr}),p.d(x,"Readers",function(){return e}),p.d(x,"CameraAccess",function(){return Gn}),p.d(x,"ImageDebug",function(){return dt.a}),p.d(x,"ImageWrapper",function(){return J.a}),p.d(x,"ResultCollector",function(){return Pr});var e={};p.r(e),p.d(e,"BarcodeReader",function(){return oe}),p.d(e,"TwoOfFiveReader",function(){return An}),p.d(e,"NewCodabarReader",function(){return or}),p.d(e,"Code128Reader",function(){return Er}),p.d(e,"Code32Reader",function(){return Bn}),p.d(e,"Code39Reader",function(){return Jr}),p.d(e,"Code39VINReader",function(){return Fe}),p.d(e,"Code93Reader",function(){return ye}),p.d(e,"EAN2Reader",function(){return Ut}),p.d(e,"EAN5Reader",function(){return Ft}),p.d(e,"EAN8Reader",function(){return tn}),p.d(e,"EANReader",function(){return hn}),p.d(e,"I2of5Reader",function(){return Zn}),p.d(e,"UPCEReader",function(){return De}),p.d(e,"UPCReader",function(){return ut});var T,Te,N=p(20),O=p.n(N),V=p(17),Y=p.n(V),J=(p(152),p(11)),ne=p(12),$=p.n(ne),re=p(8),pe=p.n(re),dt=p(16),tt=p(3),Qe=p.n(tt),vt=p(4),ve=p.n(vt),je=p(1),ke=p.n(je),gt=p(6),$e=p.n(gt),it=p(5),Ae=p.n(it),Ke=p(2),Ue=p.n(Ke),Je=p(0),_e=p.n(Je),ue=p(9);(Te=T||(T={}))[Te.Forward=1]="Forward",Te[Te.Reverse=-1]="Reverse";var oe=function(){function Te(Me,fe){Qe()(this,Te),_e()(this,"_row",[]),_e()(this,"config",{}),_e()(this,"supplements",[]),_e()(this,"SINGLE_CODE_ERROR",0),_e()(this,"FORMAT","unknown"),_e()(this,"CONFIG_KEYS",{}),this._row=[],this.config=Me||{},fe&&(this.supplements=fe)}return ve()(Te,[{key:"_nextUnset",value:function(Me){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Me.length;R++)if(!Me[R])return R;return Me.length}},{key:"_matchPattern",value:function(Me,fe){for(var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,Z=0,z=0,ee=0,Se=0,Oe=0,Le=0,ht=0;ht<Me.length;ht++)ee+=Me[ht],Se+=fe[ht];if(ee<Se)return Number.MAX_VALUE;R*=Oe=ee/Se;for(var ie=0;ie<Me.length;ie++){if(Le=fe[ie]*Oe,(z=Math.abs(Me[ie]-Le)/Le)>R)return Number.MAX_VALUE;Z+=z}return Z/Se}},{key:"_nextSet",value:function(Me){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Me.length;R++)if(Me[R])return R;return Me.length}},{key:"_correctBars",value:function(Me,fe,R){for(var Z=R.length,z=0;Z--;)(z=Me[R[Z]]*(1-(1-fe)/2))>1&&(Me[R[Z]]=z)}},{key:"decodePattern",value:function(Me){this._row=Me;var fe=this.decode();return null===fe?(this._row.reverse(),(fe=this.decode())&&(fe.direction=T.Reverse,fe.start=this._row.length-fe.start,fe.end=this._row.length-fe.end)):fe.direction=T.Forward,fe&&(fe.format=this.FORMAT),fe}},{key:"_matchRange",value:function(Me,fe,R){var Z;for(Z=Me=Me<0?0:Me;Z<fe;Z++)if(this._row[Z]!==R)return!1;return!0}},{key:"_fillCounters",value:function(){var Me=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),fe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,R=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],Z=[],z=0;Z[z]=0;for(var ee=Me;ee<fe;ee++)this._row[ee]^(R?1:0)?Z[z]++:(Z[++z]=1,R=!R);return Z}},{key:"_toCounters",value:function(Me,fe){var R=fe.length,Z=this._row.length,z=!this._row[Me],ee=0;ue.a.init(fe,0);for(var Se=Me;Se<Z;Se++)if(this._row[Se]^(z?1:0))fe[ee]++;else{if(++ee===R)break;fe[ee]=1,z=!z}return fe}},{key:"decodeImage",value:function(Me){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),Te}();var qe=[3,1,3,1,1,1],Ee=[3,1,1,1,3],xt=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Lt=qe.reduce(function(Te,Me){return Te+Me},0),An=function(Te){$e()(fe,Te);var Me=function Ce(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"barSpaceRatio",[1,1]),_e()(ke()(R),"FORMAT","2of5"),_e()(ke()(R),"SINGLE_CODE_ERROR",.78),_e()(ke()(R),"AVG_CODE_ERROR",.3),R}return ve()(fe,[{key:"_findPattern",value:function(R,Z){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ee=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Se=[],Oe=0,xe={error:Number.MAX_VALUE,code:-1,start:0,end:0},Le=0,ht=0,ie=this.AVG_CODE_ERROR;Z||(Z=this._nextSet(this._row));for(var Ie=0;Ie<R.length;Ie++)Se[Ie]=0;for(var Ze=Z;Ze<this._row.length;Ze++)if(this._row[Ze]^(z?1:0))Se[Oe]++;else{if(Oe===Se.length-1){Le=0;for(var St=0;St<Se.length;St++)Le+=Se[St];if((ht=this._matchPattern(Se,R))<ie)return xe.error=ht,xe.start=Ze-Le,xe.end=Ze,xe;if(!ee)return null;for(var un=0;un<Se.length-2;un++)Se[un]=Se[un+2];Se[Se.length-2]=0,Se[Se.length-1]=0,Oe--}else Oe++;Se[Oe]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var R=null,Z=this._nextSet(this._row),z=1,ee=0;!R;){if(!(R=this._findPattern(qe,Z,!1,!0)))return null;if(z=Math.floor((R.end-R.start)/Lt),(ee=R.start-5*z)>=0&&this._matchRange(ee,R.start,0))return R;Z=R.end,R=null}return R}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._nextSet(this._row),Z=this._findPattern(Ee,R,!1,!0);if(this._row.reverse(),null===Z)return null;var z=Z.start;return Z.start=this._row.length-Z.end,Z.end=this._row.length-z,null!==Z?this._verifyTrailingWhitespace(Z):null}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"_decodeCode",value:function(R){for(var Z=this.AVG_CODE_ERROR,z={error:Number.MAX_VALUE,code:-1,start:0,end:0},ee=0;ee<xt.length;ee++){var Se=this._matchPattern(R,xt[ee]);Se<z.error&&(z.code=ee,z.error=Se)}return z.error<Z?z:null}},{key:"_decodePayload",value:function(R,Z,z){for(var ee=0,Se=R.length,Oe=[0,0,0,0,0],xe=null;ee<Se;){for(var Le=0;Le<5;Le++)Oe[Le]=R[ee]*this.barSpaceRatio[0],ee+=2;if(!(xe=this._decodeCode(Oe)))return null;Z.push("".concat(xe.code)),z.push(xe)}return xe}},{key:"decode",value:function(R,Z){var z=this._findStart();if(!z)return null;var ee=this._findEnd();if(!ee)return null;var Se=this._fillCounters(z.end,ee.start,!1);if(!this._verifyCounterLength(Se))return null;var Oe=[];Oe.push(z);var xe=[];return this._decodePayload(Se,xe,Oe)?xe.length<5?null:(Oe.push(ee),{code:xe.join(""),start:z.start,end:ee.end,startInfo:z,decodedCodes:Oe,format:this.FORMAT}):null}}]),fe}(oe);var Et=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Zt=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],yn=[26,41,11,14],or=function(Te){$e()(fe,Te);var Me=function Nt(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"_counters",[]),_e()(ke()(R),"FORMAT","codabar"),R}return ve()(fe,[{key:"_computeAlternatingThreshold",value:function(R,Z){for(var z=Number.MAX_VALUE,ee=0,Se=0,Oe=R;Oe<Z;Oe+=2)(Se=this._counters[Oe])>ee&&(ee=Se),Se<z&&(z=Se);return(z+ee)/2|0}},{key:"_toPattern",value:function(R){var Z=R+7;if(Z>this._counters.length)return-1;for(var z=this._computeAlternatingThreshold(R,Z),ee=this._computeAlternatingThreshold(R+1,Z),Se=64,xe=0,Le=0;Le<7;Le++)this._counters[R+Le]>(0==(1&Le)?z:ee)&&(xe|=Se),Se>>=1;return xe}},{key:"_isStartEnd",value:function(R){for(var Z=0;Z<yn.length;Z++)if(yn[Z]===R)return!0;return!1}},{key:"_sumCounters",value:function(R,Z){for(var z=0,ee=R;ee<Z;ee++)z+=this._counters[ee];return z}},{key:"_findStart",value:function(){for(var R=this._nextUnset(this._row),Z=1;Z<this._counters.length;Z++){var z=this._toPattern(Z);if(-1!==z&&this._isStartEnd(z))return{start:R+=this._sumCounters(0,Z),end:R+this._sumCounters(Z,Z+8),startCounter:Z,endCounter:Z+8}}return null}},{key:"_patternToChar",value:function(R){for(var Z=0;Z<Zt.length;Z++)if(Zt[Z]===R)return String.fromCharCode(Et[Z]);return null}},{key:"_calculatePatternLength",value:function(R){for(var Z=0,z=R;z<R+7;z++)Z+=this._counters[z];return Z}},{key:"_verifyWhitespace",value:function(R,Z){return(R-1<=0||this._counters[R-1]>=this._calculatePatternLength(R)/2)&&(Z+8>=this._counters.length||this._counters[Z+7]>=this._calculatePatternLength(Z)/2)}},{key:"_charToPattern",value:function(R){for(var Z=R.charCodeAt(0),z=0;z<Et.length;z++)if(Et[z]===Z)return Zt[z];return 0}},{key:"_thresholdResultPattern",value:function(R,Z){for(var z,ee={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},Se=Z,Oe=0;Oe<R.length;Oe++){z=this._charToPattern(R[Oe]);for(var xe=6;xe>=0;xe--){var Le=2==(1&xe)?ee.bar:ee.space,ht=1==(1&z)?Le.wide:Le.narrow;ht.size+=this._counters[Se+xe],ht.counts++,z>>=1}Se+=8}return["space","bar"].forEach(function(ie){var Ie=ee[ie];Ie.wide.min=Math.floor((Ie.narrow.size/Ie.narrow.counts+Ie.wide.size/Ie.wide.counts)/2),Ie.narrow.max=Math.ceil(Ie.wide.min),Ie.wide.max=Math.ceil((2*Ie.wide.size+1.5)/Ie.wide.counts)}),ee}},{key:"_validateResult",value:function(R,Z){for(var z,ee=this._thresholdResultPattern(R,Z),Se=Z,Oe=0;Oe<R.length;Oe++){z=this._charToPattern(R[Oe]);for(var xe=6;xe>=0;xe--){var Le=0==(1&xe)?ee.bar:ee.space,ht=1==(1&z)?Le.wide:Le.narrow,ie=this._counters[Se+xe];if(ie<ht.min||ie>ht.max)return!1;z>>=1}Se+=8}return!0}},{key:"decode",value:function(R,Z){if(this._counters=this._fillCounters(),!(Z=this._findStart()))return null;var z,ee=Z.startCounter,Se=[];do{if((z=this._toPattern(ee))<0)return null;var Oe=this._patternToChar(z);if(null===Oe)return null;if(Se.push(Oe),ee+=8,Se.length>1&&this._isStartEnd(z))break}while(ee<this._counters.length);if(Se.length-2<4||!this._isStartEnd(z)||!this._verifyWhitespace(Z.startCounter,ee-8)||!this._validateResult(Se,Z.startCounter))return null;var xe=Z.start+this._sumCounters(Z.startCounter,(ee=ee>this._counters.length?this._counters.length:ee)-8);return{code:Se.join(""),start:Z.start,end:xe,startInfo:Z,decodedCodes:Se,format:this.FORMAT}}}]),fe}(oe);var Er=function(Te){$e()(fe,Te);var Me=function $n(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"CODE_SHIFT",98),_e()(ke()(R),"CODE_C",99),_e()(ke()(R),"CODE_B",100),_e()(ke()(R),"CODE_A",101),_e()(ke()(R),"START_CODE_A",103),_e()(ke()(R),"START_CODE_B",104),_e()(ke()(R),"START_CODE_C",105),_e()(ke()(R),"STOP_CODE",106),_e()(ke()(R),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),_e()(ke()(R),"SINGLE_CODE_ERROR",.64),_e()(ke()(R),"AVG_CODE_ERROR",.3),_e()(ke()(R),"FORMAT","code_128"),_e()(ke()(R),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),R}return ve()(fe,[{key:"_decodeCode",value:function(R,Z){for(var z={error:Number.MAX_VALUE,code:-1,start:R,end:R,correction:{bar:1,space:1}},ee=[0,0,0,0,0,0],Oe=!this._row[R],xe=0,Le=R;Le<this._row.length;Le++)if(this._row[Le]^(Oe?1:0))ee[xe]++;else{if(xe===ee.length-1){Z&&this._correct(ee,Z);for(var ht=0;ht<this.CODE_PATTERN.length;ht++){var ie=this._matchPattern(ee,this.CODE_PATTERN[ht]);ie<z.error&&(z.code=ht,z.error=ie)}return z.end=Le,-1===z.code||z.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[z.code]&&(z.correction.bar=this.calculateCorrection(this.CODE_PATTERN[z.code],ee,this.MODULE_INDICES.bar),z.correction.space=this.calculateCorrection(this.CODE_PATTERN[z.code],ee,this.MODULE_INDICES.space)),z)}ee[++xe]=1,Oe=!Oe}return null}},{key:"_correct",value:function(R,Z){this._correctBars(R,Z.bar,this.MODULE_INDICES.bar),this._correctBars(R,Z.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var R=[0,0,0,0,0,0],Z=this._nextSet(this._row),z={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},ee=!1,Se=0,Oe=Z;Oe<this._row.length;Oe++)if(this._row[Oe]^(ee?1:0))R[Se]++;else{if(Se===R.length-1){for(var xe=R.reduce(function(Ie,Ze){return Ie+Ze},0),Le=this.START_CODE_A;Le<=this.START_CODE_C;Le++){var ht=this._matchPattern(R,this.CODE_PATTERN[Le]);ht<z.error&&(z.code=Le,z.error=ht)}if(z.error<this.AVG_CODE_ERROR)return z.start=Oe-xe,z.end=Oe,z.correction.bar=this.calculateCorrection(this.CODE_PATTERN[z.code],R,this.MODULE_INDICES.bar),z.correction.space=this.calculateCorrection(this.CODE_PATTERN[z.code],R,this.MODULE_INDICES.space),z;for(var ie=0;ie<4;ie++)R[ie]=R[ie+2];R[4]=0,R[5]=0,Se--}else Se++;R[Se]=1,ee=!ee}return null}},{key:"decode",value:function(R,Z){var z=this,ee=this._findStart();if(null===ee)return null;var Se={code:ee.code,start:ee.start,end:ee.end,correction:{bar:ee.correction.bar,space:ee.correction.space}},Oe=[];Oe.push(Se);for(var xe=Se.code,Le=function(Mn){switch(Mn){case z.START_CODE_A:return z.CODE_A;case z.START_CODE_B:return z.CODE_B;case z.START_CODE_C:return z.CODE_C;default:return null}}(Se.code),ht=!1,ie=!1,Ie=ie,Ze=!0,St=0,un=[],In=[];!ht;){if(Ie=ie,ie=!1,null!==(Se=this._decodeCode(Se.end,Se.correction)))switch(Se.code!==this.STOP_CODE&&(Ze=!0),Se.code!==this.STOP_CODE&&(un.push(Se.code),xe+=++St*Se.code),Oe.push(Se),Le){case this.CODE_A:if(Se.code<64)In.push(String.fromCharCode(32+Se.code));else if(Se.code<96)In.push(String.fromCharCode(Se.code-64));else switch(Se.code!==this.STOP_CODE&&(Ze=!1),Se.code){case this.CODE_SHIFT:ie=!0,Le=this.CODE_B;break;case this.CODE_B:Le=this.CODE_B;break;case this.CODE_C:Le=this.CODE_C;break;case this.STOP_CODE:ht=!0}break;case this.CODE_B:if(Se.code<96)In.push(String.fromCharCode(32+Se.code));else switch(Se.code!==this.STOP_CODE&&(Ze=!1),Se.code){case this.CODE_SHIFT:ie=!0,Le=this.CODE_A;break;case this.CODE_A:Le=this.CODE_A;break;case this.CODE_C:Le=this.CODE_C;break;case this.STOP_CODE:ht=!0}break;case this.CODE_C:if(Se.code<100)In.push(Se.code<10?"0"+Se.code:Se.code);else switch(Se.code!==this.STOP_CODE&&(Ze=!1),Se.code){case this.CODE_A:Le=this.CODE_A;break;case this.CODE_B:Le=this.CODE_B;break;case this.STOP_CODE:ht=!0}}else ht=!0;Ie&&(Le=Le===this.CODE_A?this.CODE_B:this.CODE_A)}return null===Se?null:(Se.end=this._nextUnset(this._row,Se.end),this._verifyTrailingWhitespace(Se)?(xe-=St*un[un.length-1])%103!==un[un.length-1]?null:In.length?(Ze&&In.splice(In.length-1,1),{code:In.join(""),start:ee.start,end:Se.end,codeset:Le,startInfo:ee,decodedCodes:Oe,endInfo:Se,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(R){var Z;return(Z=R.end+(R.end-R.start)/2)<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"calculateCorrection",value:function(R,Z,z){for(var ee=z.length,Se=0,Oe=0;ee--;)Oe+=R[z[ee]],Se+=Z[z[ee]];return Oe/Se}}]),fe}(oe),yr=p(13),_r=p.n(yr),ii=p(33),xr=p.n(ii);var Pi=new Uint16Array(xr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(Te){return Te.charCodeAt(0)})),Ti=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Jr=function(Te){$e()(fe,Te);var Me=function Vr(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","code_39"),R}return ve()(fe,[{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=R,z=new Uint16Array([0,0,0,0,0,0,0,0,0]),ee=0,Se=!1,Oe=R;Oe<this._row.length;Oe++)if(this._row[Oe]^(Se?1:0))z[ee]++;else{if(ee===z.length-1){if(148===this._toPattern(z)){var xe=Math.floor(Math.max(0,Z-(Oe-Z)/4));if(this._matchRange(xe,Z,0))return{start:Z,end:Oe}}Z+=z[0]+z[1];for(var Le=0;Le<7;Le++)z[Le]=z[Le+2];z[7]=0,z[8]=0,ee--}else ee++;z[ee]=1,Se=!Se}return null}},{key:"_toPattern",value:function(R){for(var Z=R.length,z=0,ee=Z,Se=0;ee>3;){z=this._findNextWidth(R,z),ee=0;for(var Oe=0,xe=0;xe<Z;xe++)R[xe]>z&&(Oe|=1<<Z-1-xe,ee++,Se+=R[xe]);if(3===ee){for(var Le=0;Le<Z&&ee>0;Le++)if(R[Le]>z&&(ee--,2*R[Le]>=Se))return-1;return Oe}}return-1}},{key:"_findNextWidth",value:function(R,Z){for(var z=Number.MAX_VALUE,ee=0;ee<R.length;ee++)R[ee]<z&&R[ee]>Z&&(z=R[ee]);return z}},{key:"_patternToChar",value:function(R){for(var Z=0;Z<Ti.length;Z++)if(Ti[Z]===R)return String.fromCharCode(Pi[Z]);return null}},{key:"_verifyTrailingWhitespace",value:function(R,Z,z){var ee=ue.a.sum(z);return 3*(Z-R-ee)>=ee}},{key:"decode",value:function(){var R=new Uint16Array([0,0,0,0,0,0,0,0,0]),Z=[],z=this._findStart();if(!z)return null;var ee,Se,Oe=this._nextSet(this._row,z.end);do{R=this._toCounters(Oe,R);var xe=this._toPattern(R);if(xe<0||null===(ee=this._patternToChar(xe)))return null;Z.push(ee),Se=Oe,Oe+=ue.a.sum(R),Oe=this._nextSet(this._row,Oe)}while("*"!==ee);return Z.pop(),Z.length&&this._verifyTrailingWhitespace(Se,Oe,R)?{code:Z.join(""),start:z.start,end:Oe,startInfo:z,decodedCodes:Z,format:this.FORMAT}:null}}]),fe}(oe);var ki=/[AEIO]/g,Bn=function(Te){$e()(fe,Te);var Me=function qr(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","code_32_reader"),R}return ve()(fe,[{key:"_decodeCode32",value:function(R){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(R))return null;for(var Z=0,z=0;z<R.length;z++)Z=32*Z+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(R[z]);var ee="".concat(Z);return ee.length<9&&(ee=("000000000"+ee).slice(-9)),"A"+ee}},{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=_r()(Ue()(fe.prototype),"decode",this).call(this);if(!R)return null;var Z=R.code;if(!Z||(Z=Z.replace(ki,""),!this._checkChecksum(Z)))return null;var z=this._decodeCode32(Z);return z?(R.code=z,R):null}}]),fe}(Jr);var oi=/[IOQ]/g,ei=/[A-Z0-9]{17}/,Fe=function(Te){$e()(fe,Te);var Me=function qi(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","code_39_vin"),R}return ve()(fe,[{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=_r()(Ue()(fe.prototype),"decode",this).call(this);if(!R)return null;var Z=R.code;return Z&&(Z=Z.replace(oi,"")).match(ei)&&this._checkChecksum(Z)?(R.code=Z,R):null}}]),fe}(Jr);var Be=new Uint16Array(xr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(Te){return Te.charCodeAt(0)})),ae=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ye=function(Te){$e()(fe,Te);var Me=function mt(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","code_93"),R}return ve()(fe,[{key:"_patternToChar",value:function(R){for(var Z=0;Z<ae.length;Z++)if(ae[Z]===R)return String.fromCharCode(Be[Z]);return null}},{key:"_toPattern",value:function(R){for(var Z=R.length,z=R.reduce(function(Le,ht){return Le+ht},0),ee=0,Se=0;Se<Z;Se++){var Oe=Math.round(9*R[Se]/z);if(Oe<1||Oe>4)return-1;if(0==(1&Se))for(var xe=0;xe<Oe;xe++)ee=ee<<1|1;else ee<<=Oe}return ee}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=R,z=new Uint16Array([0,0,0,0,0,0]),ee=0,Se=!1,Oe=R;Oe<this._row.length;Oe++)if(this._row[Oe]^(Se?1:0))z[ee]++;else{if(ee===z.length-1){if(350===this._toPattern(z)){var xe=Math.floor(Math.max(0,Z-(Oe-Z)/4));if(this._matchRange(xe,Z,0))return{start:Z,end:Oe}}Z+=z[0]+z[1];for(var Le=0;Le<4;Le++)z[Le]=z[Le+2];z[4]=0,z[5]=0,ee--}else ee++;z[ee]=1,Se=!Se}return null}},{key:"_verifyEnd",value:function(R,Z){return!(R===Z||!this._row[Z])}},{key:"_decodeExtended",value:function(R){for(var Z=R.length,z=[],ee=0;ee<Z;ee++){var Se=R[ee];if(Se>="a"&&Se<="d"){if(ee>Z-2)return null;var Oe=R[++ee],xe=Oe.charCodeAt(0),Le=void 0;switch(Se){case"a":if(!(Oe>="A"&&Oe<="Z"))return null;Le=String.fromCharCode(xe-64);break;case"b":if(Oe>="A"&&Oe<="E")Le=String.fromCharCode(xe-38);else if(Oe>="F"&&Oe<="J")Le=String.fromCharCode(xe-11);else if(Oe>="K"&&Oe<="O")Le=String.fromCharCode(xe+16);else if(Oe>="P"&&Oe<="S")Le=String.fromCharCode(xe+43);else{if(!(Oe>="T"&&Oe<="Z"))return null;Le=String.fromCharCode(127)}break;case"c":if(Oe>="A"&&Oe<="O")Le=String.fromCharCode(xe-32);else{if("Z"!==Oe)return null;Le=":"}break;case"d":if(!(Oe>="A"&&Oe<="Z"))return null;Le=String.fromCharCode(xe+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Le),null}z.push(Le)}else z.push(Se)}return z}},{key:"_matchCheckChar",value:function(R,Z,z){var ee=R.slice(0,Z),Se=ee.length,Oe=ee.reduce(function(xe,Le,ht){return xe+((-1*ht+(Se-1))%z+1)*Be.indexOf(Le.charCodeAt(0))},0);return Be[Oe%47]===R[Z].charCodeAt(0)}},{key:"_verifyChecksums",value:function(R){return this._matchCheckChar(R,R.length-2,20)&&this._matchCheckChar(R,R.length-1,15)}},{key:"decode",value:function(R,Z){if(!(Z=this._findStart()))return null;var z,ee,Se=new Uint16Array([0,0,0,0,0,0]),Oe=[],xe=this._nextSet(this._row,Z.end);do{Se=this._toCounters(xe,Se);var Le=this._toPattern(Se);if(Le<0||null===(ee=this._patternToChar(Le)))return null;Oe.push(ee),z=xe,xe+=ue.a.sum(Se),xe=this._nextSet(this._row,xe)}while("*"!==ee);return Oe.pop(),Oe.length&&this._verifyEnd(z,xe)&&this._verifyChecksums(Oe)?(Oe=Oe.slice(0,Oe.length-2),null===(Oe=this._decodeExtended(Oe))?null:{code:Oe.join(""),start:Z.start,end:xe,startInfo:Z,decodedCodes:Oe,format:this.FORMAT}):null}}]),fe}(oe);function ct(Te,Me){var fe=Object.keys(Te);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Te);Me&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Te,Z).enumerable})),fe.push.apply(fe,R)}return fe}function lt(Te){for(var Me=1;Me<arguments.length;Me++){var fe=null!=arguments[Me]?arguments[Me]:{};Me%2?ct(Object(fe),!0).forEach(function(R){_e()(Te,R,fe[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(fe)):ct(Object(fe)).forEach(function(R){Object.defineProperty(Te,R,Object.getOwnPropertyDescriptor(fe,R))})}return Te}var Pt=[1,1,1],ln=[1,1,1,1,1],Wt=[1,1,2],an=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],jn=[0,11,13,14,19,25,28,21,22,26],hn=function(Te){$e()(fe,Te);var Me=function yt(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(R,Z){var z;return Qe()(this,fe),z=Me.call(this,Y()({supplements:[]},R),Z),_e()(ke()(z),"FORMAT","ean_13"),_e()(ke()(z),"SINGLE_CODE_ERROR",.7),_e()(ke()(z),"STOP_PATTERN",[1,1,1]),z}return ve()(fe,[{key:"_findPattern",value:function(R,Z,z,ee){var Se=new Array(R.length).fill(0),Oe={error:Number.MAX_VALUE,start:0,end:0},xe=0;Z||(Z=this._nextSet(this._row));for(var Le=!1,ht=Z;ht<this._row.length;ht++)if(this._row[ht]^(z?1:0))Se[xe]+=1;else{if(xe===Se.length-1){var ie=this._matchPattern(Se,R);if(ie<.48&&Oe.error&&ie<Oe.error)return Le=!0,Oe.error=ie,Oe.start=ht-Se.reduce(function(Ze,St){return Ze+St},0),Oe.end=ht,Oe;if(ee){for(var Ie=0;Ie<Se.length-2;Ie++)Se[Ie]=Se[Ie+2];Se[Se.length-2]=0,Se[Se.length-1]=0,xe--}}else xe++;Se[xe]=1,z=!z}return Le?Oe:null}},{key:"_decodeCode",value:function(R,Z){var z=[0,0,0,0],Se={error:Number.MAX_VALUE,code:-1,start:R,end:R},Oe=!this._row[R],xe=0;Z||(Z=an.length);for(var Le=R;Le<this._row.length;Le++)if(this._row[Le]^(Oe?1:0))z[xe]++;else{if(xe===z.length-1){for(var ht=0;ht<Z;ht++){var ie=this._matchPattern(z,an[ht]);Se.end=Le,ie<Se.error&&(Se.code=ht,Se.error=ie)}return Se.error>.48?null:Se}z[++xe]=1,Oe=!Oe}return null}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=null;!Z;){if(!(Z=this._findPattern(Pt,R,!1,!0)))return null;var z=Z.start-(Z.end-Z.start);if(z>=0&&this._matchRange(z,Z.start,0))return Z;R=Z.end,Z=null}return null}},{key:"_calculateFirstDigit",value:function(R){for(var Z=0;Z<jn.length;Z++)if(R===jn[Z])return Z;return null}},{key:"_decodePayload",value:function(R,Z,z){for(var ee=lt({},R),Se=0,Oe=0;Oe<6;Oe++){if(!(ee=this._decodeCode(ee.end)))return null;ee.code>=10?(ee.code-=10,Se|=1<<5-Oe):Se|=0<<5-Oe,Z.push(ee.code),z.push(ee)}var xe=this._calculateFirstDigit(Se);if(null===xe)return null;Z.unshift(xe);var Le=this._findPattern(ln,ee.end,!0,!1);if(null===Le||!Le.end)return null;z.push(Le);for(var ht=0;ht<6;ht++){if(!(Le=this._decodeCode(Le.end,10)))return null;z.push(Le),Z.push(Le.code)}return Le}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start);return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(R,Z){var z=this._findPattern(this.STOP_PATTERN,R,Z,!1);return null!==z?this._verifyTrailingWhitespace(z):null}},{key:"_checksum",value:function(R){for(var Z=0,z=R.length-2;z>=0;z-=2)Z+=R[z];Z*=3;for(var ee=R.length-1;ee>=0;ee-=2)Z+=R[ee];return Z%10==0}},{key:"_decodeExtensions",value:function(R){var Z=this._nextSet(this._row,R),z=this._findPattern(Wt,Z,!1,!1);if(null===z)return null;for(var ee=0;ee<this.supplements.length;ee++)try{var Se=this.supplements[ee].decode(this._row,z.end);if(null!==Se)return{code:Se.code,start:Z,startInfo:z,end:Se.end,decodedCodes:Se.decodedCodes,format:this.supplements[ee].FORMAT}}catch(Oe){console.error("* decodeExtensions error in ",this.supplements[ee],": ",Oe)}return null}},{key:"decode",value:function(R,Z){var z=new Array,ee=new Array,Se={},Oe=this._findStart();if(!Oe)return null;var xe={start:Oe.start,end:Oe.end};if(ee.push(xe),!(xe=this._decodePayload(xe,z,ee))||!(xe=this._findEnd(xe.end,!1))||(ee.push(xe),!this._checksum(z)))return null;if(this.supplements.length>0){var Le=this._decodeExtensions(xe.end);if(!Le||!Le.decodedCodes)return null;var ht=Le.decodedCodes[Le.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:ht.start+((ht.end-ht.start)/2|0),end:ht.end}))return null;Se={supplement:Le,code:z.join("")+Le.code}}return lt(lt({code:z.join(""),start:Oe.start,end:xe.end,startInfo:Oe,decodedCodes:ee},Se),{},{format:this.FORMAT})}}]),fe}(oe);var Ut=function(Te){$e()(fe,Te);var Me=function Hn(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","ean_2"),R}return ve()(fe,[{key:"decode",value:function(R,Z){R&&(this._row=R);var z=0,ee=Z,Se=this._row.length,Oe=[],xe=[],Le=null;if(void 0===ee)return null;for(var ht=0;ht<2&&ee<Se;ht++){if(!(Le=this._decodeCode(ee)))return null;xe.push(Le),Oe.push(Le.code%10),Le.code>=10&&(z|=1<<1-ht),1!==ht&&(ee=this._nextSet(this._row,Le.end),ee=this._nextUnset(this._row,ee))}if(2!==Oe.length||parseInt(Oe.join(""))%4!==z)return null;var ie=this._findStart();return{code:Oe.join(""),decodedCodes:xe,end:Le.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}]),fe}(hn);var kn=[24,20,18,17,12,6,3,10,9,5],Ft=function(Te){$e()(fe,Te);var Me=function nr(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","ean_5"),R}return ve()(fe,[{key:"decode",value:function(R,Z){if(void 0===Z)return null;R&&(this._row=R);for(var z=0,ee=Z,Se=this._row.length,Oe=null,xe=[],Le=[],ht=0;ht<5&&ee<Se;ht++){if(!(Oe=this._decodeCode(ee)))return null;Le.push(Oe),xe.push(Oe.code%10),Oe.code>=10&&(z|=1<<4-ht),4!==ht&&(ee=this._nextSet(this._row,Oe.end),ee=this._nextUnset(this._row,ee))}if(5!==xe.length||function(Ie){for(var Ze=Ie.length,St=0,un=Ze-2;un>=0;un-=2)St+=Ie[un];St*=3;for(var In=Ze-1;In>=0;In-=2)St+=Ie[In];return(St*=3)%10}(xe)!==function(Ie){for(var Ze=0;Ze<10;Ze++)if(Ie===kn[Ze])return Ze;return null}(z))return null;var ie=this._findStart();return{code:xe.join(""),decodedCodes:Le,end:Oe.end,format:this.FORMAT,startInfo:ie,start:ie.start}}}]),fe}(hn);var tn=function(Te){$e()(fe,Te);var Me=function ft(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","ean_8"),R}return ve()(fe,[{key:"_decodePayload",value:function(R,Z,z){for(var ee=R,Se=0;Se<4;Se++){if(!(ee=this._decodeCode(ee.end,10)))return null;Z.push(ee.code),z.push(ee)}if(null===(ee=this._findPattern(ln,ee.end,!0,!1)))return null;z.push(ee);for(var Oe=0;Oe<4;Oe++){if(!(ee=this._decodeCode(ee.end,10)))return null;z.push(ee),Z.push(ee.code)}return ee}}]),fe}(hn);var Zn=function(Te){$e()(fe,Te);var Me=function vn(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(R){var Z;return Qe()(this,fe),Z=Me.call(this,Y()({normalizeBarSpaceWidth:!1},R)),_e()(ke()(Z),"barSpaceRatio",[1,1]),_e()(ke()(Z),"SINGLE_CODE_ERROR",.78),_e()(ke()(Z),"AVG_CODE_ERROR",.38),_e()(ke()(Z),"START_PATTERN",[1,1,1,1]),_e()(ke()(Z),"STOP_PATTERN",[1,1,3]),_e()(ke()(Z),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),_e()(ke()(Z),"MAX_CORRECTION_FACTOR",5),_e()(ke()(Z),"FORMAT","i2of5"),R.normalizeBarSpaceWidth&&(Z.SINGLE_CODE_ERROR=.38,Z.AVG_CODE_ERROR=.09),Z.config=R,Ae()(Z,ke()(Z))}return ve()(fe,[{key:"_matchPattern",value:function(R,Z){if(this.config.normalizeBarSpaceWidth){for(var z=[0,0],ee=[0,0],Se=[0,0],Oe=this.MAX_CORRECTION_FACTOR,xe=1/Oe,Le=0;Le<R.length;Le++)z[Le%2]+=R[Le],ee[Le%2]+=Z[Le];Se[0]=ee[0]/z[0],Se[1]=ee[1]/z[1],Se[0]=Math.max(Math.min(Se[0],Oe),xe),Se[1]=Math.max(Math.min(Se[1],Oe),xe),this.barSpaceRatio=Se;for(var ht=0;ht<R.length;ht++)R[ht]*=this.barSpaceRatio[ht%2]}return _r()(Ue()(fe.prototype),"_matchPattern",this).call(this,R,Z)}},{key:"_findPattern",value:function(R,Z){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ee=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Se=new Array(R.length).fill(0),Oe=0,xe={error:Number.MAX_VALUE,start:0,end:0},Le=this.AVG_CODE_ERROR;z=z||!1,ee=ee||!1,Z||(Z=this._nextSet(this._row));for(var ht=Z;ht<this._row.length;ht++)if(this._row[ht]^(z?1:0))Se[Oe]++;else{if(Oe===Se.length-1){var ie=Se.reduce(function(St,un){return St+un},0),Ie=this._matchPattern(Se,R);if(Ie<Le)return xe.error=Ie,xe.start=ht-ie,xe.end=ht,xe;if(!ee)return null;for(var Ze=0;Ze<Se.length-2;Ze++)Se[Ze]=Se[Ze+2];Se[Se.length-2]=0,Se[Se.length-1]=0,Oe--}else Oe++;Se[Oe]=1,z=!z}return null}},{key:"_findStart",value:function(){for(var R=0,Z=this._nextSet(this._row),z=null,ee=1;!z;){if(!(z=this._findPattern(this.START_PATTERN,Z,!1,!0)))return null;if(ee=Math.floor((z.end-z.start)/4),(R=z.start-10*ee)>=0&&this._matchRange(R,z.start,0))return z;Z=z.end,z=null}return null}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===R)return null;var Z=R.start;return R.start=this._row.length-R.end,R.end=this._row.length-Z,null!==R?this._verifyTrailingWhitespace(R):null}},{key:"_decodePair",value:function(R){for(var Z=[],z=0;z<R.length;z++){var ee=this._decodeCode(R[z]);if(!ee)return null;Z.push(ee)}return Z}},{key:"_decodeCode",value:function(R){for(var Z=this.AVG_CODE_ERROR,z={error:Number.MAX_VALUE,code:-1,start:0,end:0},ee=0;ee<this.CODE_PATTERN.length;ee++){var Se=this._matchPattern(R,this.CODE_PATTERN[ee]);Se<z.error&&(z.code=ee,z.error=Se)}return z.error<Z?z:null}},{key:"_decodePayload",value:function(R,Z,z){for(var ee=0,Se=R.length,Oe=[[0,0,0,0,0],[0,0,0,0,0]],xe=null;ee<Se;){for(var Le=0;Le<5;Le++)Oe[0][Le]=R[ee]*this.barSpaceRatio[0],Oe[1][Le]=R[ee+1]*this.barSpaceRatio[1],ee+=2;if(!(xe=this._decodePair(Oe)))return null;for(var ht=0;ht<xe.length;ht++)Z.push(xe[ht].code+""),z.push(xe[ht])}return xe}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"decode",value:function(R,Z){var z=new Array,ee=new Array,Se=this._findStart();if(!Se)return null;ee.push(Se);var Oe=this._findEnd();if(!Oe)return null;var xe=this._fillCounters(Se.end,Oe.start,!1);return this._verifyCounterLength(xe)&&this._decodePayload(xe,z,ee)?z.length%2!=0||z.length<6?null:(ee.push(Oe),{code:z.join(""),start:Se.start,end:Oe.end,startInfo:Se,decodedCodes:ee,format:this.FORMAT}):null}}]),fe}(oe);function Un(Te,Me){var fe=Object.keys(Te);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Te);Me&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Te,Z).enumerable})),fe.push.apply(fe,R)}return fe}var De=function(Te){$e()(fe,Te);var Me=function Pe(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),_e()(ke()(R),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),_e()(ke()(R),"FORMAT","upc_e"),R}return ve()(fe,[{key:"_decodePayload",value:function(R,Z,z){for(var ee=function(xe){for(var Le=1;Le<arguments.length;Le++){var ht=null!=arguments[Le]?arguments[Le]:{};Le%2?Un(Object(ht),!0).forEach(function(ie){_e()(xe,ie,ht[ie])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(ht)):Un(Object(ht)).forEach(function(ie){Object.defineProperty(xe,ie,Object.getOwnPropertyDescriptor(ht,ie))})}return xe}({},R),Se=0,Oe=0;Oe<6;Oe++){if(!(ee=this._decodeCode(ee.end)))return null;ee.code>=10&&(ee.code=ee.code-10,Se|=1<<5-Oe),Z.push(ee.code),z.push(ee)}return this._determineParity(Se,Z)?ee:null}},{key:"_determineParity",value:function(R,Z){for(var z=0;z<this.CODE_FREQUENCY.length;z++)for(var ee=0;ee<this.CODE_FREQUENCY[z].length;ee++)if(R===this.CODE_FREQUENCY[z][ee])return Z.unshift(z),Z.push(ee),!0;return!1}},{key:"_convertToUPCA",value:function(R){var Z=[R[0]],z=R[R.length-2];return(Z=z<=2?Z.concat(R.slice(1,3)).concat([z,0,0,0,0]).concat(R.slice(3,6)):3===z?Z.concat(R.slice(1,4)).concat([0,0,0,0,0]).concat(R.slice(4,6)):4===z?Z.concat(R.slice(1,5)).concat([0,0,0,0,0,R[5]]):Z.concat(R.slice(1,6)).concat([0,0,0,0,z])).push(R[R.length-1]),Z}},{key:"_checksum",value:function(R){return _r()(Ue()(fe.prototype),"_checksum",this).call(this,this._convertToUPCA(R))}},{key:"_findEnd",value:function(R,Z){return _r()(Ue()(fe.prototype),"_findEnd",this).call(this,R,!0)}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}}]),fe}(hn);var ut=function(Te){$e()(fe,Te);var Me=function be(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(){var R;Qe()(this,fe);for(var Z=arguments.length,z=new Array(Z),ee=0;ee<Z;ee++)z[ee]=arguments[ee];return R=Me.call.apply(Me,[this].concat(z)),_e()(ke()(R),"FORMAT","upc_a"),R}return ve()(fe,[{key:"decode",value:function(R,Z){var z=hn.prototype.decode.call(this);return z&&z.code&&13===z.code.length&&"0"===z.code.charAt(0)?(z.code=z.code.substring(1),z):null}}]),fe}(hn),Ye={},qt_UP=1,qt_DOWN=-1;Ye.getBarcodeLine=function(Te,Me,fe){var R,Z,z,ee,Se,Oe=0|Me.x,xe=0|Me.y,Le=0|fe.x,ht=0|fe.y,ie=Math.abs(ht-xe)>Math.abs(Le-Oe),Ie=[],Ze=Te.data,St=Te.size.x,un=255,In=0;function Mn(ti,Ki){un=(Se=Ze[Ki*St+ti])<un?Se:un,In=Se>In?Se:In,Ie.push(Se)}ie&&(z=Oe,Oe=xe,xe=z,z=Le,Le=ht,ht=z),Oe>Le&&(z=Oe,Oe=Le,Le=z,z=xe,xe=ht,ht=z);var Fn=Le-Oe,hr=Math.abs(ht-xe);R=Fn/2|0,Z=xe;var Nr=xe<ht?1:-1;for(ee=Oe;ee<Le;ee++)ie?Mn(Z,ee):Mn(ee,Z),(R-=hr)<0&&(Z+=Nr,R+=Fn);return{line:Ie,min:un,max:In}},Ye.toBinaryLine=function(Te){var Me,fe,R,Z,z,ee,Se=Te.min,Oe=Te.max,xe=Te.line,Le=Se+(Oe-Se)/2,ht=[],ie=(Oe-Se)/12,Ie=-ie;for(R=xe[0]>Le?qt_UP:qt_DOWN,ht.push({pos:0,val:xe[0]}),z=0;z<xe.length-2;z++)R!==(Z=(Me=xe[z+1]-xe[z])+(fe=xe[z+2]-xe[z+1])<Ie&&xe[z+1]<1.5*Le?qt_DOWN:Me+fe>ie&&xe[z+1]>.5*Le?qt_UP:R)&&(ht.push({pos:z,val:xe[z]}),R=Z);for(ht.push({pos:xe.length,val:xe[xe.length-1]}),ee=ht[0].pos;ee<ht[1].pos;ee++)xe[ee]=xe[ee]>Le?0:1;for(z=1;z<ht.length-1;z++)for(ie=ht[z+1].val>ht[z].val?ht[z].val+(ht[z+1].val-ht[z].val)/3*2|0:ht[z+1].val+(ht[z].val-ht[z+1].val)/3|0,ee=ht[z].pos;ee<ht[z+1].pos;ee++)xe[ee]=xe[ee]>ie?0:1;return{line:xe,threshold:ie}},Ye.debug={printFrequency:function(Te,Me){var fe,R=Me.getContext("2d");for(Me.width=Te.length,Me.height=256,R.beginPath(),R.strokeStyle="blue",fe=0;fe<Te.length;fe++)R.moveTo(fe,255),R.lineTo(fe,255-Te[fe]);R.stroke(),R.closePath()},printPattern:function(Te,Me){var fe,R=Me.getContext("2d");for(Me.width=Te.length,R.fillColor="black",fe=0;fe<Te.length;fe++)1===Te[fe]&&R.fillRect(fe,0,1,100)}};var Wn=Ye;function qn(Te,Me){var fe="undefined"!=typeof Symbol&&Te[Symbol.iterator]||Te["@@iterator"];if(!fe){if(Array.isArray(Te)||(fe=function(Oe,xe){if(Oe){if("string"==typeof Oe)return sr(Oe,undefined);var Le=Object.prototype.toString.call(Oe).slice(8,-1);if("Object"===Le&&Oe.constructor&&(Le=Oe.constructor.name),"Map"===Le||"Set"===Le)return Array.from(Oe);if("Arguments"===Le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return sr(Oe,undefined)}}(Te))||Me&&Te&&"number"==typeof Te.length){fe&&(Te=fe);var R=0,Z=function(){};return{s:Z,n:function(){return R>=Te.length?{done:!0}:{done:!1,value:Te[R++]}},e:function(Oe){throw Oe},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var z,ee=!0,Se=!1;return{s:function(){fe=fe.call(Te)},n:function(){var Oe=fe.next();return ee=Oe.done,Oe},e:function(Oe){Se=!0,z=Oe},f:function(){try{ee||null==fe.return||fe.return()}finally{if(Se)throw z}}}}function sr(Te,Me){(null==Me||Me>Te.length)&&(Me=Te.length);for(var fe=0,R=new Array(Me);fe<Me;fe++)R[fe]=Te[fe];return R}var ar={code_128_reader:Er,ean_reader:hn,ean_5_reader:Ft,ean_2_reader:Ut,ean_8_reader:tn,code_39_reader:Jr,code_39_vin_reader:Fe,codabar_reader:or,upc_reader:ut,upc_e_reader:De,i2of5_reader:Zn,"2of5_reader":An,code_93_reader:ye,code_32_reader:Bn},cr={registerReader:function(Te,Me){ar[Te]=Me},create:function(Te,Me){var R=[];function Z(){Te.readers.forEach(function(xe){var Le,ht={},ie=[];"object"===O()(xe)?(Le=xe.format,ht=xe.config):"string"==typeof xe&&(Le=xe),ht.supplements&&(ie=ht.supplements.map(function(Ze){return new ar[Ze]}));try{var Ie=new ar[Le](ht,ie);R.push(Ie)}catch(Ze){throw console.error("* Error constructing reader ",Le,Ze),Ze}})}function z(xe){var Le,ht=null,ie=Wn.getBarcodeLine(Me,xe[0],xe[1]);for(Wn.toBinaryLine(ie),Le=0;Le<R.length&&null===ht;Le++)ht=R[Le].decodePattern(ie.line);return null===ht?null:{codeResult:ht,barcodeLine:ie}}function ee(xe){return Se.apply(this,arguments)}function Se(){return(Se=$()(pe.a.mark(function xe(Le){var ht,ie,Ie,Ze;return pe.a.wrap(function(St){for(;;)switch(St.prev=St.next){case 0:ht=null,ie=qn(R),St.prev=2,ie.s();case 4:if((Ie=ie.n()).done){St.next=14;break}if(!(Ze=Ie.value).decodeImage){St.next=12;break}return St.next=9,Ze.decodeImage(Le);case 9:if(!(ht=St.sent)){St.next=12;break}return St.abrupt("break",14);case 12:St.next=4;break;case 14:St.next=19;break;case 16:St.prev=16,St.t0=St.catch(2),ie.e(St.t0);case 19:return St.prev=19,ie.f(),St.finish(19);case 22:return St.abrupt("return",ht);case 23:case"end":return St.stop()}},xe,null,[[2,16,19,22]])}))).apply(this,arguments)}function Oe(xe){var Le,ht,Ze,ie=function(Ze){return Math.sqrt(Math.pow(Math.abs(Ze[1].y-Ze[0].y),2)+Math.pow(Math.abs(Ze[1].x-Ze[0].x),2))}(Le=[{x:((Ze=xe)[1][0]-Ze[0][0])/2+Ze[0][0],y:(Ze[1][1]-Ze[0][1])/2+Ze[0][1]},{x:(Ze[3][0]-Ze[2][0])/2+Ze[2][0],y:(Ze[3][1]-Ze[2][1])/2+Ze[2][1]}]),Ie=Math.atan2(Le[1].y-Le[0].y,Le[1].x-Le[0].x);return null===(Le=function(Ze,St,un){function In(Mn){var Fn=Mn*Math.sin(St),hr=Mn*Math.cos(St);Ze[0].y-=Fn,Ze[0].x-=hr,Ze[1].y+=Fn,Ze[1].x+=hr}for(In(un);un>1&&(!Me.inImageWithBorder(Ze[0])||!Me.inImageWithBorder(Ze[1]));)In(-(un-=Math.ceil(un/2)));return Ze}(Le,Ie,Math.floor(.1*ie)))?null:(null===(ht=z(Le))&&(ht=function(Ze,St,un){var In,Mn,Fn,hr=Math.sqrt(Math.pow(Ze[1][0]-Ze[0][0],2)+Math.pow(Ze[1][1]-Ze[0][1],2)),Nr=null,ti=Math.sin(un),Ki=Math.cos(un);for(In=1;In<16&&null===Nr;In++)Fn={y:(Mn=hr/16*In*(In%2==0?-1:1))*ti,x:Mn*Ki},St[0].y+=Fn.x,St[0].x-=Fn.y,St[1].y+=Fn.x,St[1].x-=Fn.y,Nr=z(St);return Nr}(xe,Le,Ie)),null===ht?null:{codeResult:ht.codeResult,line:Le,angle:Ie,pattern:ht.barcodeLine.line,threshold:ht.barcodeLine.threshold})}return Z(),{decodeFromBoundingBox:function(xe){return Oe(xe)},decodeFromBoundingBoxes:function(xe){var Le,ht,ie=[],Ie=Te.multiple;for(Le=0;Le<xe.length;Le++){var Ze=xe[Le];if((ht=Oe(Ze)||{}).box=Ze,Ie)ie.push(ht);else if(ht.codeResult)return ht}return{barcodes:ie}},decodeFromImage:function(xe){return $()(pe.a.mark(function Le(){return pe.a.wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,ee(xe);case 2:return ie.abrupt("return",ie.sent);case 4:case"end":return ie.stop()}},Le)}))()},registerReader:function(xe,Le){if(ar[xe])throw new Error("cannot register existing reader",xe);ar[xe]=Le},setReaders:function(xe){Te.readers=xe,R.length=0,Z()}}}},Tn=function(){var Te={};function Me(Z){return Te[Z]||(Te[Z]={subscribers:[]}),Te[Z]}function fe(Z,z){Z.async?setTimeout(function(){Z.callback(z)},4):Z.callback(z)}function R(Z,z,ee){var Se;if("function"==typeof z)Se={callback:z,async:ee};else if(!(Se=z).callback)throw new Error("Callback was not specified on options");Me(Z).subscribers.push(Se)}return{subscribe:function(Z,z,ee){return R(Z,z,ee)},publish:function(Z,z){var ee=Me(Z),Se=ee.subscribers;Se.filter(function(Oe){return!!Oe.once}).forEach(function(Oe){fe(Oe,z)}),ee.subscribers=Se.filter(function(Oe){return!Oe.once}),ee.subscribers.forEach(function(Oe){fe(Oe,z)})},once:function(Z,z){R(Z,{callback:z,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(Z,z){if(Z){var ee=Me(Z);ee.subscribers=ee&&z?ee.subscribers.filter(function(Se){return Se.callback!==z}):[]}else Te={}}}}(),Pn=p(85),Sn=p.n(Pn),nt=p(86);var cn,er=function(Te){$e()(fe,Te);var Me=function Ct(Te){var Me=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(fe){return!1}}();return function(){var fe,R=Ue()(Te);if(Me){var Z=Ue()(this).constructor;fe=Reflect.construct(R,arguments,Z)}else fe=R.apply(this,arguments);return Ae()(this,fe)}}(fe);function fe(R,Z){var z;return Qe()(this,fe),z=Me.call(this,R),_e()(ke()(z),"code",void 0),z.code=Z,Object.setPrototypeOf(ke()(z),fe.prototype),z}return ve()(fe)}(p.n(nt)()(Error)),gr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Qt(){try{return navigator.mediaDevices.enumerateDevices()}catch(Me){var Te=new er("enumerateDevices is not defined. ".concat(gr),-1);return Promise.reject(Te)}}function sn(Te){try{return navigator.mediaDevices.getUserMedia(Te)}catch(fe){var Me=new er("getUserMedia is not defined. ".concat(gr),-1);return Promise.reject(Me)}}function rt(Te){return new Promise(function(Me,fe){var R=10;!function Z(){R>0?Te.videoWidth>10&&Te.videoHeight>10?Me():window.setTimeout(Z,500):fe(new er("Unable to play video stream. Is webcam working?",-1)),R--}()})}function Rt(Te,Me){return gn.apply(this,arguments)}function gn(){return(gn=$()(pe.a.mark(function Te(Me,fe){var R;return pe.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,sn(fe);case 2:if(cn=R=Z.sent,!Me){Z.next=11;break}return Me.setAttribute("autoplay","true"),Me.setAttribute("muted","true"),Me.setAttribute("playsinline","true"),Me.srcObject=R,Me.addEventListener("loadedmetadata",function(){Me.play()}),Z.abrupt("return",rt(Me));case 11:return Z.abrupt("return",Promise.resolve());case 12:case"end":return Z.stop()}},Te)}))).apply(this,arguments)}function xn(Te){var Me=Sn()(Te,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==Te.minAspectRatio&&Te.minAspectRatio>0&&(Me.aspectRatio=Te.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==Te.facing&&(Me.facingMode=Te.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),Me}function mn(){var Me=xn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return Me&&Me.deviceId&&Me.facingMode&&delete Me.facingMode,Promise.resolve({audio:!1,video:Me})}function Nn(){return(Nn=$()(pe.a.mark(function Te(){return pe.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,Qt();case 2:return fe.abrupt("return",fe.sent.filter(function(R){return"videoinput"===R.kind}));case 4:case"end":return fe.stop()}},Te)}))).apply(this,arguments)}function rr(){if(!cn)return null;var Te=cn.getVideoTracks();return Te&&null!=Te&&Te.length?Te[0]:null}var pn={requestedVideoElement:null,request:function(Te,Me){return $()(pe.a.mark(function fe(){return pe.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return pn.requestedVideoElement=Te,Z.next=3,mn(Me);case 3:return Z.abrupt("return",Rt(Te,Z.sent));case 5:case"end":return Z.stop()}},fe)}))()},release:function(){var Te=cn&&cn.getVideoTracks();return null!==pn.requestedVideoElement&&pn.requestedVideoElement.pause(),new Promise(function(Me){setTimeout(function(){Te&&Te.length&&Te[0].stop(),cn=null,pn.requestedVideoElement=null,Me()},0)})},enumerateVideoDevices:function(){return Nn.apply(this,arguments)},getActiveStreamLabel:function(){var Te=rr();return Te?Te.label:""},getActiveTrack:rr},Gn=pn,Pr={create:function(Te){var Me,fe=document.createElement("canvas"),R=fe.getContext("2d"),Z=[],z=null!==(Me=Te.capacity)&&void 0!==Me?Me:20,ee=!0===Te.capture;return{addResult:function(Oe,xe,Le){var ht={};(function Se(Oe){return!!z&&Oe&&(xe=Oe,!((Le=Te.blacklist)&&Le.some(function(ht){return Object.keys(ht).every(function(ie){return ht[ie]===xe[ie]})})))&&function(xe,Le){return"function"!=typeof Le||Le(xe)}(Oe,Te.filter);var xe,Le})(Le)&&(z--,ht.codeResult=Le,ee&&(fe.width=xe.x,fe.height=xe.y,dt.a.drawImage(Oe,xe,R),ht.frame=fe.toDataURL()),Z.push(ht))},getResults:function(){return Z}}}},tr={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Fr=p(7),Ci=ve()(function Te(){Qe()(this,Te),_e()(this,"config",void 0),_e()(this,"inputStream",void 0),_e()(this,"framegrabber",void 0),_e()(this,"inputImageWrapper",void 0),_e()(this,"stopped",!1),_e()(this,"boxSize",void 0),_e()(this,"resultCollector",void 0),_e()(this,"decoder",void 0),_e()(this,"workerPool",[]),_e()(this,"onUIThread",!0),_e()(this,"canvasContainer",new zi)}),eo=ve()(function Te(){Qe()(this,Te),_e()(this,"image",void 0),_e()(this,"overlay",void 0)}),zi=ve()(function Te(){Qe()(this,Te),_e()(this,"ctx",void 0),_e()(this,"dom",void 0),this.ctx=new eo,this.dom=new eo}),$r=p(23);function $i(Te){return"undefined"==typeof document?null:Te instanceof HTMLElement&&Te.nodeName&&1===Te.nodeType?Te:document.querySelector("string"==typeof Te?Te:"#interactive.viewport")}function Yr(Te,Me){var z,ee,fe=(z=Me,(ee=document.querySelector(Te))||((ee=document.createElement("canvas")).className=z),ee),R=fe.getContext("2d");return{canvas:fe,context:R}}var ze={274:"orientation"},bt=Object.keys(ze).map(function(Te){return ze[Te]});function Vt(Te){return new Promise(function(Me){var fe=new FileReader;fe.onload=function(R){return Me(R.target.result)},fe.readAsArrayBuffer(Te)})}function $t(Te){return new Promise(function(Me,fe){var R=new XMLHttpRequest;R.open("GET",Te,!0),R.responseType="blob",R.onreadystatechange=function(){R.readyState!==XMLHttpRequest.DONE||200!==R.status&&0!==R.status||Me(this.response)},R.onerror=fe,R.send()})}function bn(Te){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,fe=new DataView(Te),R=Te.byteLength,Z=Me.reduce(function(ee,Se){var Oe=Object.keys(ze).filter(function(xe){return ze[xe]===Se})[0];return Oe&&(ee[Oe]=Se),ee},{}),z=2;if(255!==fe.getUint8(0)||216!==fe.getUint8(1))return!1;for(;z<R;){if(255!==fe.getUint8(z))return!1;if(225===fe.getUint8(z+1))return Dr(fe,z+4,Z);z+=2+fe.getUint16(z+2)}return!1}function Dr(Te,Me,fe){if("Exif"!==function(ee,Se,Oe){for(var xe="",Le=Se;Le<Se+4;Le++)xe+=String.fromCharCode(ee.getUint8(Le));return xe}(Te,Me))return!1;var R,Z=Me+6;if(18761===Te.getUint16(Z))R=!1;else{if(19789!==Te.getUint16(Z))return!1;R=!0}if(42!==Te.getUint16(Z+2,!R))return!1;var z=Te.getUint32(Z+4,!R);return!(z<8)&&function(ee,Se,Oe,xe,Le){for(var ht=ee.getUint16(Oe,!Le),ie={},Ie=0;Ie<ht;Ie++){var Ze=Oe+12*Ie+2,St=xe[ee.getUint16(Ze,!Le)];St&&(ie[St]=jr(ee,Ze,0,0,Le))}return ie}(Te,0,Z+z,fe,R)}function jr(Te,Me,fe,R,Z){var z=Te.getUint16(Me+2,!Z),ee=Te.getUint32(Me+4,!Z);return 3===z&&1===ee?Te.getUint16(Me+8,!Z):null}var Ir={};function vi(Te,Me){Te.onload=function(){Me.loaded(this)}}Ir.load=function(Te,Me,fe,R,Z){var z,ee,Se,Oe=new Array(R),xe=new Array(Oe.length);if(!1===Z)Oe[0]=Te;else for(z=0;z<Oe.length;z++)Se=fe+z,Oe[z]="".concat(Te,"image-").concat("00".concat(Se).slice(-3),".jpg");for(xe.notLoaded=[],xe.addImage=function(Le){xe.notLoaded.push(Le)},xe.loaded=function(Le){for(var ht=xe.notLoaded,ie=0;ie<ht.length;ie++)if(ht[ie]===Le){ht.splice(ie,1);for(var Ie=0;Ie<Oe.length;Ie++){var Ze=Oe[Ie].substr(Oe[Ie].lastIndexOf("/"));if(-1!==Le.src.lastIndexOf(Ze)){xe[Ie]={img:Le};break}}break}0===ht.length&&(!1===Z?function(St){var un=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;return/^blob:/i.test(St)?$t(St).then(Vt).then(function(In){return bn(In,un)}):Promise.resolve(null)}(Te,["orientation"]).then(function(St){xe[0].tags=St,Me(xe)}).catch(function(St){console.log(St),Me(xe)}):Me(xe))},z=0;z<Oe.length;z++)ee=new Image,xe.addImage(ee),vi(ee,xe),ee.src=Oe[z]};var Ro=Ir,ji={createVideoStream:function(Te){var Me,fe,R=null,Z=["canrecord","ended"],z={},ee={x:0,y:0,type:"Point"},Se={x:0,y:0,type:"XYSize"},Oe={getRealWidth:function(){return Te.videoWidth},getRealHeight:function(){return Te.videoHeight},getWidth:function(){return Me},getHeight:function(){return fe},setWidth:function(xe){Me=xe},setHeight:function(xe){fe=xe},setInputStream:function(xe){R=xe,this.setAttribute("src",void 0!==xe.src?xe.src:"")},ended:function(){return Te.ended},getConfig:function(){return R},setAttribute:function(xe,Le){Te&&Te.setAttribute(xe,Le)},pause:function(){Te.pause()},play:function(){Te.play()},setCurrentTime:function(xe){var Le;"LiveStream"!==(null===(Le=R)||void 0===Le?void 0:Le.type)&&this.setAttribute("currentTime",xe.toString())},addEventListener:function(xe,Le,ht){-1!==Z.indexOf(xe)?(z[xe]||(z[xe]=[]),z[xe].push(Le)):Te.addEventListener(xe,Le,ht)},clearEventHandlers:function(){Z.forEach(function(xe){var Le=z[xe];Le&&Le.length>0&&Le.forEach(function(ht){Te.removeEventListener(xe,ht)})})},trigger:function(xe,Le){var ht,ie,Ie,Ze,St,un=z[xe];if("canrecord"===xe&&(Ze=Te.videoWidth,St=Te.videoHeight,Me=null!==(ie=R)&&void 0!==ie&&ie.size?Ze/St>1?R.size:Math.floor(Ze/St*R.size):Ze,fe=null!==(Ie=R)&&void 0!==Ie&&Ie.size?Ze/St>1?Math.floor(St/Ze*R.size):R.size:St,Se.x=Me,Se.y=fe),un&&un.length>0)for(ht=0;ht<un.length;ht++)un[ht].apply(Oe,Le)},setTopRight:function(xe){ee.x=xe.x,ee.y=xe.y},getTopRight:function(){return ee},setCanvasSize:function(xe){Se.x=xe.x,Se.y=xe.y},getCanvasSize:function(){return Se},getFrame:function(){return Te}};return Oe},createLiveStream:function(Te){Te&&Te.setAttribute("autoplay","true");var Me=ji.createVideoStream(Te);return Me.ended=function(){return!1},Me},createImageStream:function(){var Te,Me,fe=null,R=0,Z=0,z=0,ee=!0,Se=!1,Oe=null,xe=0,Le=null,ht=!1,ie=["canrecord","ended"],Ie={},Ze={x:0,y:0,type:"Point"},St={x:0,y:0,type:"XYSize"};function un(Mn,Fn){var hr,Nr=Ie[Mn];if(Nr&&Nr.length>0)for(hr=0;hr<Nr.length;hr++)Nr[hr].apply(In,Fn)}var In={trigger:un,getWidth:function(){return Te},getHeight:function(){return Me},setWidth:function(Mn){Te=Mn},setHeight:function(Mn){Me=Mn},getRealWidth:function(){return R},getRealHeight:function(){return Z},setInputStream:function(Mn){var Fn;!1===Mn.sequence?(Le=Mn.src,xe=1):(Le=Mn.src,xe=Mn.length),Se=!1,Ro.load(Le,function(hr){var Nr,ti;if(Oe=hr,hr[0].tags&&hr[0].tags.orientation)switch(hr[0].tags.orientation){case 6:case 8:R=hr[0].img.height,Z=hr[0].img.width;break;default:R=hr[0].img.width,Z=hr[0].img.height}else R=hr[0].img.width,Z=hr[0].img.height;Te=null!==(Nr=fe)&&void 0!==Nr&&Nr.size?R/Z>1?fe.size:Math.floor(R/Z*fe.size):R,Me=null!==(ti=fe)&&void 0!==ti&&ti.size?R/Z>1?Math.floor(Z/R*fe.size):fe.size:Z,St.x=Te,St.y=Me,Se=!0,z=0,setTimeout(function(){un("canrecord",[])},0)},1,xe,null===(Fn=fe=Mn)||void 0===Fn?void 0:Fn.sequence)},ended:function(){return ht},setAttribute:function(){},getConfig:function(){return fe},pause:function(){ee=!0},play:function(){ee=!1},setCurrentTime:function(Mn){z=Mn},addEventListener:function(Mn,Fn){-1!==ie.indexOf(Mn)&&(Ie[Mn]||(Ie[Mn]=[]),Ie[Mn].push(Fn))},clearEventHandlers:function(){Object.keys(Ie).forEach(function(Mn){return delete Ie[Mn]})},setTopRight:function(Mn){Ze.x=Mn.x,Ze.y=Mn.y},getTopRight:function(){return Ze},setCanvasSize:function(Mn){St.x=Mn.x,St.y=Mn.y},getCanvasSize:function(){return St},getFrame:function(){var Mn,Fn;return Se?(ee||(Mn=null===(Fn=Oe)||void 0===Fn?void 0:Fn[z],z<xe-1?z++:setTimeout(function(){ht=!0,un("ended",[])},0)),Mn):null}};return In}},To=ji,Li=p(10),Es=Math.PI/180,ss={create:function(Te,Me){var fe,R={},Z=Te.getConfig(),z=(Object(Li.h)(Te.getRealWidth(),Te.getRealHeight()),Te.getCanvasSize()),ee=Object(Li.h)(Te.getWidth(),Te.getHeight()),Se=Te.getTopRight(),Oe=Se.x,xe=Se.y,Le=null,ht=null;return(fe=Me||document.createElement("canvas")).width=z.x,fe.height=z.y,Le=fe.getContext("2d"),ht=new Uint8Array(ee.x*ee.y),R.attachData=function(ie){ht=ie},R.getData=function(){return ht},R.grab=function(){var ie,In,Mn,Ie=Z.halfSample,Ze=Te.getFrame(),St=Ze,un=0;if(St){if((In=fe).width!==(Mn=z).x&&(In.width=Mn.x),In.height!==Mn.y&&(In.height=Mn.y),"ImageStream"===Z.type&&(St=Ze.img,Ze.tags&&Ze.tags.orientation))switch(Ze.tags.orientation){case 6:un=90*Es;break;case 8:un=-90*Es}return 0!==un?(Le.translate(z.x/2,z.y/2),Le.rotate(un),Le.drawImage(St,-z.y/2,-z.x/2,z.y,z.x),Le.rotate(-un),Le.translate(-z.x/2,-z.y/2)):Le.drawImage(St,0,0,z.x,z.y),ie=Le.getImageData(Oe,xe,ee.x,ee.y).data,Ie?Object(Li.e)(ie,ee,ht):Object(Li.c)(ie,ht,Z),!0}return!1},R.getSize=function(){return ee},R}},to=ss;function Jo(Te,Me){var fe=Object.keys(Te);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Te);Me&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Te,Z).enumerable})),fe.push.apply(fe,R)}return fe}function as(Te){for(var Me=1;Me<arguments.length;Me++){var fe=null!=arguments[Me]?arguments[Me]:{};Me%2?Jo(Object(fe),!0).forEach(function(R){_e()(Te,R,fe[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Te,Object.getOwnPropertyDescriptors(fe)):Jo(Object(fe)).forEach(function(R){Object.defineProperty(Te,R,Object.getOwnPropertyDescriptor(fe,R))})}return Te}var Fi=[];function no(Te){return as(as({},Te),{},{inputStream:as(as({},Te.inputStream),{},{target:null})})}function Hi(Te){if(Te){var Me=Te().default;if(!Me)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var fe;function R(z){self.postMessage({event:"processed",imageData:fe.data,result:z},[fe.data.buffer])}function Z(){self.postMessage({event:"initialized",imageData:fe.data},[fe.data.buffer])}self.onmessage=function(z){if("init"===z.data.cmd){var ee=z.data.config;ee.numOfWorkers=0,fe=new Me.ImageWrapper({x:z.data.size.x,y:z.data.size.y},new Uint8Array(z.data.imageData)),Me.init(ee,Z,fe),Me.onProcessed(R)}else"process"===z.data.cmd?(fe.data=new Uint8Array(z.data.imageData),Me.start()):"setReaders"===z.data.cmd?Me.setReaders(z.data.readers):"registerReader"===z.data.cmd&&Me.registerReader(z.data.name,z.data.reader)}}function Co(Te,Me,fe){var R,Z,z=("undefined"!=typeof __factorySource__&&(Z=__factorySource__),R=new Blob(["("+Hi.toString()+")("+Z+");"],{type:"text/javascript"}),window.URL.createObjectURL(R)),ee={worker:new Worker(z),imageData:new Uint8Array(Me.getWidth()*Me.getHeight()),busy:!0};ee.worker.onmessage=function(Se){"initialized"===Se.data.event?(URL.revokeObjectURL(z),ee.busy=!1,ee.imageData=new Uint8Array(Se.data.imageData),fe(ee)):"processed"===Se.data.event&&(ee.imageData=new Uint8Array(Se.data.imageData),ee.busy=!1)},ee.worker.postMessage({cmd:"init",size:{x:Me.getWidth(),y:Me.getHeight()},imageData:ee.imageData,config:no(Te)},[ee.imageData.buffer])}function Ns(Te,Me,fe,R){var Z=Te-Fi.length;if(0===Z&&R)R();else if(Z<0)Fi.slice(Z).forEach(function(Se){Se.worker.terminate()}),Fi=Fi.slice(0,Z),R&&R();else{var z=function(Se){Fi.push(Se),Fi.length>=Te&&R&&R()};if(Me)for(var ee=0;ee<Z;ee++)Co(Me,fe,z)}}function Yo(Te,Me,fe){for(var R=Te.length;R--;)Te[R][0]+=Me,Te[R][1]+=fe}var Si=function(){function Te(){var R=this;Qe()(this,Te),_e()(this,"context",new Ci),_e()(this,"canRecord",function(Z){var z;R.context.config&&($r.a.checkImageConstraints(R.context.inputStream,null===(z=R.context.config)||void 0===z?void 0:z.locator),R.initCanvas(),R.context.framegrabber=to.create(R.context.inputStream,R.context.canvasContainer.dom.image),void 0===R.context.config.numOfWorkers&&(R.context.config.numOfWorkers=0),Ns(R.context.config.numOfWorkers,R.context.config,R.context.inputStream,function(){var ee;0===(null===(ee=R.context.config)||void 0===ee?void 0:ee.numOfWorkers)&&R.initializeData(),R.ready(Z)}))}),_e()(this,"update",function(){if(R.context.onUIThread){var Z,z=(Se=R.context.framegrabber,Fi.length?!!(Oe=Fi.filter(function(xe){return!xe.busy})[0])&&(Se.attachData(Oe.imageData),Se.grab()&&(Oe.busy=!0,Oe.worker.postMessage({cmd:"process",imageData:Oe.imageData},[Oe.imageData.buffer])),!0):null);z||(R.context.framegrabber.attachData(null===(Z=R.context.inputImageWrapper)||void 0===Z?void 0:Z.data),R.context.framegrabber.grab()&&(z||R.locateAndDecode()))}else{var ee;R.context.framegrabber.attachData(null===(ee=R.context.inputImageWrapper)||void 0===ee?void 0:ee.data),R.context.framegrabber.grab(),R.locateAndDecode()}var Se,Oe})}var Me,fe;return ve()(Te,[{key:"initBuffers",value:function(R){if(this.context.config){var Z=(Se=this.context.inputStream,xe=this.context.config.locator,Le=R||new J.a({x:Se.getWidth(),y:Se.getHeight(),type:"XYSize"}),ht=[Object(Fr.clone)([0,0]),Object(Fr.clone)([0,Le.size.y]),Object(Fr.clone)([Le.size.x,Le.size.y]),Object(Fr.clone)([Le.size.x,0])],$r.a.init(Le,xe),{inputImageWrapper:Le,boxSize:ht}),ee=Z.boxSize;this.context.inputImageWrapper=Z.inputImageWrapper,this.context.boxSize=ee}var Se,xe,Le,ht}},{key:"initializeData",value:function(R){this.context.config&&(this.initBuffers(R),this.context.decoder=cr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?$i(this.context.config.inputStream.target):null}},{key:"ready",value:function(R){this.context.inputStream.play(),R()}},{key:"initCanvas",value:function(){var R=function at(Te){var Me,fe,R,Z,z=$i(null==Te||null===(Me=Te.config)||void 0===Me||null===(fe=Me.inputStream)||void 0===fe?void 0:fe.target),ee=null==Te||null===(R=Te.config)||void 0===R||null===(Z=R.inputStream)||void 0===Z?void 0:Z.type;if(!ee)return null;var Se=function(xe){if("undefined"!=typeof document){var Le=Yr("canvas.imgBuffer","imgBuffer"),ht=Yr("canvas.drawingBuffer","drawingBuffer");return Le.canvas.width=ht.canvas.width=xe.x,Le.canvas.height=ht.canvas.height=xe.y,{dom:{image:Le.canvas,overlay:ht.canvas},ctx:{image:Le.context,overlay:ht.context}}}return null}(Te.inputStream.getCanvasSize());if(!Se)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var Oe=Se.dom;return"undefined"!=typeof document&&z&&("ImageStream"!==ee||z.contains(Oe.image)||z.appendChild(Oe.image),z.contains(Oe.overlay)||z.appendChild(Oe.overlay)),Se}(this.context);if(R){var Z=R.ctx,z=R.dom;this.context.canvasContainer.dom.image=z.image,this.context.canvasContainer.dom.overlay=z.overlay,this.context.canvasContainer.ctx.image=Z.image,this.context.canvasContainer.ctx.overlay=Z.overlay}}},{key:"initInputStream",value:function(R){if(this.context.config&&this.context.config.inputStream){var Z=this.context.config.inputStream,z=Z.type,ee=Z.constraints,Se=function(){var Le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",ht=arguments.length>1?arguments[1]:void 0,ie=arguments.length>2?arguments[2]:void 0;switch(Le){case"VideoStream":var Ie=document.createElement("video");return{video:Ie,inputStream:ie.createVideoStream(Ie)};case"ImageStream":return{inputStream:ie.createImageStream()};case"LiveStream":var Ze=null;return ht&&((Ze=ht.querySelector("video"))||(Ze=document.createElement("video"),ht.appendChild(Ze))),{video:Ze,inputStream:ie.createLiveStream(Ze)};default:return console.error("* setupInputStream invalid type ".concat(Le)),{video:null,inputStream:null}}}(z,this.getViewPort(),To),Oe=Se.video,xe=Se.inputStream;"LiveStream"===z&&Oe&&Gn.request(Oe,ee).then(function(){return xe.trigger("canrecord")}).catch(function(Le){return R(Le)}),xe.setAttribute("preload","auto"),xe.setInputStream(this.context.config.inputStream),xe.addEventListener("canrecord",this.canRecord.bind(void 0,R)),this.context.inputStream=xe}}},{key:"getBoundingBoxes",value:function(){var R;return null!==(R=this.context.config)&&void 0!==R&&R.locate?$r.a.locate():[[Object(Fr.clone)(this.context.boxSize[0]),Object(Fr.clone)(this.context.boxSize[1]),Object(Fr.clone)(this.context.boxSize[2]),Object(Fr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(R){var xe,Le,ht,Z=this,z=this.context.inputStream.getTopRight(),ee=z.x,Se=z.y;if((0!==ee||0!==Se)&&(R.barcodes&&R.barcodes.forEach(function(xe){return Z.transformResult(xe)}),R.line&&2===R.line.length&&(ht=Se,(xe=R.line)[0].x+=Le=ee,xe[0].y+=ht,xe[1].x+=Le,xe[1].y+=ht),R.box&&Yo(R.box,ee,Se),R.boxes&&R.boxes.length>0))for(var Oe=0;Oe<R.boxes.length;Oe++)Yo(R.boxes[Oe],ee,Se)}},{key:"addResult",value:function(R,Z){var z=this;Z&&this.context.resultCollector&&(R.barcodes?R.barcodes.filter(function(ee){return ee.codeResult}).forEach(function(ee){return z.addResult(ee,Z)}):R.codeResult&&this.context.resultCollector.addResult(Z,this.context.inputStream.getCanvasSize(),R.codeResult))}},{key:"hasCodeResult",value:function(R){return!(!R||!(R.barcodes?R.barcodes.some(function(Z){return Z.codeResult}):R.codeResult))}},{key:"publishResult",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Z=arguments.length>1?arguments[1]:void 0,z=R;R&&this.context.onUIThread&&(this.transformResult(R),this.addResult(R,Z),z=R.barcodes||R),Tn.publish("processed",z),this.hasCodeResult(R)&&Tn.publish("detected",z)}},{key:"locateAndDecode",value:(fe=$()(pe.a.mark(function R(){var Z,z,ee,Se,Oe;return pe.a.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!(Z=this.getBoundingBoxes())){xe.next=12;break}return xe.next=4,this.context.decoder.decodeFromBoundingBoxes(Z);case 4:if(xe.t0=xe.sent,xe.t0){xe.next=7;break}xe.t0={};case 7:(ee=xe.t0).boxes=Z,this.publishResult(ee,null===(z=this.context.inputImageWrapper)||void 0===z?void 0:z.data),xe.next=16;break;case 12:return xe.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(Se=xe.sent)?this.publishResult(Se,null===(Oe=this.context.inputImageWrapper)||void 0===Oe?void 0:Oe.data):this.publishResult();case 16:case"end":return xe.stop()}},R,this)})),function(){return fe.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var R,Z=this,z=null,ee=1e3/((null===(R=this.context.config)||void 0===R?void 0:R.frequency)||60);this.context.stopped=!1;var Se=this.context;!function Oe(xe){z=z||xe,Se.stopped||(xe>=z&&(z+=ee,Z.update()),window.requestAnimationFrame(Oe))}(performance.now())}},{key:"start",value:function(){var R,Z;this.context.onUIThread&&"LiveStream"===(null===(R=this.context.config)||void 0===R||null===(Z=R.inputStream)||void 0===Z?void 0:Z.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(Me=$()(pe.a.mark(function R(){var Z;return pe.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(this.context.stopped=!0,Ns(0),null===(Z=this.context.config)||void 0===Z||!Z.inputStream||"LiveStream"!==this.context.config.inputStream.type){z.next=6;break}return z.next=5,Gn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return z.stop()}},R,this)})),function(){return Me.apply(this,arguments)})},{key:"setReaders",value:function(R){var Z;this.context.decoder&&this.context.decoder.setReaders(R),Z=R,Fi.forEach(function(z){return z.worker.postMessage({cmd:"setReaders",readers:Z})})}},{key:"registerReader",value:function(R,Z){var z,ee;cr.registerReader(R,Z),this.context.decoder&&this.context.decoder.registerReader(R,Z),z=R,ee=Z,Fi.forEach(function(Se){return Se.worker.postMessage({cmd:"registerReader",name:z,reader:ee})})}}]),Te}(),fo=new Si,cs=fo.context,co={init:function(Te,Me,fe){var R,Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fo;return Me||(R=new Promise(function(z,ee){Me=function(Se){Se?ee(Se):z()}})),Z.context.config=Y()({},tr,Te),Z.context.config.numOfWorkers>0&&(Z.context.config.numOfWorkers=0),fe?(Z.context.onUIThread=!1,Z.initializeData(fe),Me&&Me()):Z.initInputStream(Me),R},start:function(){return fo.start()},stop:function(){return fo.stop()},pause:function(){cs.stopped=!0},onDetected:function(Te){Te&&("function"==typeof Te||"object"===O()(Te)&&Te.callback)?Tn.subscribe("detected",Te):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(Te){Tn.unsubscribe("detected",Te)},onProcessed:function(Te){Te&&("function"==typeof Te||"object"===O()(Te)&&Te.callback)?Tn.subscribe("processed",Te):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(Te){Tn.unsubscribe("processed",Te)},setReaders:function(Te){Te?fo.setReaders(Te):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(Te,Me){Te?Me?fo.registerReader(Te,Me):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(Te){Te&&"function"==typeof Te.addResult&&(cs.resultCollector=Te)},get canvas(){return cs.canvasContainer},decodeSingle:function(Te,Me){var fe=this,R=new Si;return(Te=Y()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:Te.src},numOfWorkers:1,locator:{halfSample:!1}},Te)).numOfWorkers>0&&(Te.numOfWorkers=0),Te.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),Te.numOfWorkers=0),new Promise(function(Z,z){try{fe.init(Te,function(){Tn.once("processed",function(ee){R.stop(),Me&&Me.call(null,ee),Z(ee)},!0),R.start()},null,R)}catch(ee){z(ee)}})},get default(){return co},Readers:e,CameraAccess:Gn,ImageDebug:dt.a,ImageWrapper:J.a,ResultCollector:Pr};x.default=co}]).default},2090:(pt,w,x)=>{"use strict";x.d(w,{$s:()=>jn,BH:()=>tt,L:()=>ne,LL:()=>xt,Lj:()=>Zn,Mn:()=>Ke,UG:()=>je,US:()=>Y,X3:()=>vn,ZB:()=>pe,ZR:()=>Ee,b$:()=>$e,d:()=>it,eu:()=>ue,hl:()=>_e,jU:()=>ke,m9:()=>Ut,ne:()=>Bn,pd:()=>qr,r3:()=>yr,ru:()=>gt,tV:()=>$,uI:()=>ve,vZ:()=>Vr,w1:()=>Ae,xO:()=>Ti,xb:()=>ii,z$:()=>vt,zI:()=>oe,zd:()=>Jr});var p=x(5861);const O=function(Pe){const De=[];let be=0;for(let ut=0;ut<Pe.length;ut++){let Ye=Pe.charCodeAt(ut);Ye<128?De[be++]=Ye:Ye<2048?(De[be++]=Ye>>6|192,De[be++]=63&Ye|128):55296==(64512&Ye)&&ut+1<Pe.length&&56320==(64512&Pe.charCodeAt(ut+1))?(Ye=65536+((1023&Ye)<<10)+(1023&Pe.charCodeAt(++ut)),De[be++]=Ye>>18|240,De[be++]=Ye>>12&63|128,De[be++]=Ye>>6&63|128,De[be++]=63&Ye|128):(De[be++]=Ye>>12|224,De[be++]=Ye>>6&63|128,De[be++]=63&Ye|128)}return De},Y={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,De){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const be=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,ut=[];for(let Ye=0;Ye<Pe.length;Ye+=3){const qt=Pe[Ye],Wn=Ye+1<Pe.length,qn=Wn?Pe[Ye+1]:0,sr=Ye+2<Pe.length,ar=sr?Pe[Ye+2]:0;let Pn=(15&qn)<<2|ar>>6,Sn=63&ar;sr||(Sn=64,Wn||(Pn=64)),ut.push(be[qt>>2],be[(3&qt)<<4|qn>>4],be[Pn],be[Sn])}return ut.join("")},encodeString(Pe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Pe):this.encodeByteArray(O(Pe),De)},decodeString(Pe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Pe):function(Pe){const De=[];let be=0,ut=0;for(;be<Pe.length;){const Ye=Pe[be++];if(Ye<128)De[ut++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const qt=Pe[be++];De[ut++]=String.fromCharCode((31&Ye)<<6|63&qt)}else if(Ye>239&&Ye<365){const sr=((7&Ye)<<18|(63&Pe[be++])<<12|(63&Pe[be++])<<6|63&Pe[be++])-65536;De[ut++]=String.fromCharCode(55296+(sr>>10)),De[ut++]=String.fromCharCode(56320+(1023&sr))}else{const qt=Pe[be++],Wn=Pe[be++];De[ut++]=String.fromCharCode((15&Ye)<<12|(63&qt)<<6|63&Wn)}}return De.join("")}(this.decodeStringToByteArray(Pe,De))},decodeStringToByteArray(Pe,De){this.init_();const be=De?this.charToByteMapWebSafe_:this.charToByteMap_,ut=[];for(let Ye=0;Ye<Pe.length;){const qt=be[Pe.charAt(Ye++)],qn=Ye<Pe.length?be[Pe.charAt(Ye)]:0;++Ye;const ar=Ye<Pe.length?be[Pe.charAt(Ye)]:64;++Ye;const Tn=Ye<Pe.length?be[Pe.charAt(Ye)]:64;if(++Ye,null==qt||null==qn||null==ar||null==Tn)throw Error();ut.push(qt<<2|qn>>4),64!==ar&&(ut.push(qn<<4&240|ar>>2),64!==Tn&&ut.push(ar<<6&192|Tn))}return ut},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}},ne=function(Pe){return function(Pe){const De=O(Pe);return Y.encodeByteArray(De,!0)}(Pe).replace(/\./g,"")},$=function(Pe){try{return Y.decodeString(Pe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function pe(Pe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return De}for(const be in De)!De.hasOwnProperty(be)||!dt(be)||(Pe[be]=pe(Pe[be],De[be]));return Pe}function dt(Pe){return"__proto__"!==Pe}class tt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,be)=>{this.resolve=De,this.reject=be})}wrapCallback(De){return(be,ut)=>{be?this.reject(be):this.resolve(ut),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(be):De(be,ut))}}}function vt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function ve(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Pe){return!1}}function ke(){return"object"==typeof self&&self.self===self}function gt(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function $e(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function it(){return vt().indexOf("Electron/")>=0}function Ae(){const Pe=vt();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function Ke(){return vt().indexOf("MSAppHost/")>=0}function _e(){return"object"==typeof indexedDB}function ue(){return new Promise((Pe,De)=>{try{let be=!0;const ut="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(ut);Ye.onsuccess=()=>{Ye.result.close(),be||self.indexedDB.deleteDatabase(ut),Pe(!0)},Ye.onupgradeneeded=()=>{be=!1},Ye.onerror=()=>{var qt;De((null===(qt=Ye.error)||void 0===qt?void 0:qt.message)||"")}}catch(be){De(be)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ee extends Error{constructor(De,be,ut){super(be),this.code=De,this.customData=ut,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xt.prototype.create)}}class xt{constructor(De,be,ut){this.service=De,this.serviceName=be,this.errors=ut}create(De,...be){const ut=be[0]||{},Ye=`${this.service}/${De}`,qt=this.errors[De],Wn=qt?function Lt(Pe,De){return Pe.replace(An,(be,ut)=>{const Ye=De[ut];return null!=Ye?String(Ye):`<${ut}?>`})}(qt,ut):"Error";return new Ee(Ye,`${this.serviceName}: ${Wn} (${Ye}).`,ut)}}const An=/\{\$([^}]+)}/g;function yr(Pe,De){return Object.prototype.hasOwnProperty.call(Pe,De)}function ii(Pe){for(const De in Pe)if(Object.prototype.hasOwnProperty.call(Pe,De))return!1;return!0}function Vr(Pe,De){if(Pe===De)return!0;const be=Object.keys(Pe),ut=Object.keys(De);for(const Ye of be){if(!ut.includes(Ye))return!1;const qt=Pe[Ye],Wn=De[Ye];if(Pi(qt)&&Pi(Wn)){if(!Vr(qt,Wn))return!1}else if(qt!==Wn)return!1}for(const Ye of ut)if(!be.includes(Ye))return!1;return!0}function Pi(Pe){return null!==Pe&&"object"==typeof Pe}function Ti(Pe){const De=[];for(const[be,ut]of Object.entries(Pe))Array.isArray(ut)?ut.forEach(Ye=>{De.push(encodeURIComponent(be)+"="+encodeURIComponent(Ye))}):De.push(encodeURIComponent(be)+"="+encodeURIComponent(ut));return De.length?"&"+De.join("&"):""}function Jr(Pe){const De={};return Pe.replace(/^\?/,"").split("&").forEach(ut=>{if(ut){const[Ye,qt]=ut.split("=");De[decodeURIComponent(Ye)]=decodeURIComponent(qt)}}),De}function qr(Pe){const De=Pe.indexOf("?");if(!De)return"";const be=Pe.indexOf("#",De);return Pe.substring(De,be>0?be:void 0)}function Bn(Pe,De){const be=new qi(Pe,De);return be.subscribe.bind(be)}class qi{constructor(De,be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=be,this.task.then(()=>{De(this)}).catch(ut=>{this.error(ut)})}next(De){this.forEachObserver(be=>{be.next(De)})}error(De){this.forEachObserver(be=>{be.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,be,ut){let Ye;if(void 0===De&&void 0===be&&void 0===ut)throw new Error("Missing Observer.");Ye=function ei(Pe,De){if("object"!=typeof Pe||null===Pe)return!1;for(const be of De)if(be in Pe&&"function"==typeof Pe[be])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:be,complete:ut},void 0===Ye.next&&(Ye.next=Fe),void 0===Ye.error&&(Ye.error=Fe),void 0===Ye.complete&&(Ye.complete=Fe);const qt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch(Wn){}}),this.observers.push(Ye),qt}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let be=0;be<this.observers.length;be++)this.sendOne(be,De)}sendOne(De,be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{be(this.observers[De])}catch(ut){"undefined"!=typeof console&&console.error&&console.error(ut)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fe(){}function jn(Pe,De=1e3,be=2){const ut=De*Math.pow(be,Pe),Ye=Math.round(.5*ut*(Math.random()-.5)*2);return Math.min(144e5,ut+Ye)}function Ut(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}function nr(Pe,De){return new Promise((be,ut)=>{Pe.onsuccess=Ye=>{be(Ye.target.result)},Pe.onerror=Ye=>{var qt;ut(`${De}: ${null===(qt=Ye.target.error)||void 0===qt?void 0:qt.message}`)}})}class kn{constructor(De){this._db=De,this.objectStoreNames=this._db.objectStoreNames}transaction(De,be){return new Ft(this._db.transaction.call(this._db,De,be))}createObjectStore(De,be){return new ft(this._db.createObjectStore(De,be))}close(){this._db.close()}}class Ft{constructor(De){this._transaction=De,this.complete=new Promise((be,ut)=>{this._transaction.oncomplete=function(){be()},this._transaction.onerror=()=>{ut(this._transaction.error)},this._transaction.onabort=()=>{ut(this._transaction.error)}})}objectStore(De){return new ft(this._transaction.objectStore(De))}}class ft{constructor(De){this._store=De}index(De){return new tn(this._store.index(De))}createIndex(De,be,ut){return new tn(this._store.createIndex(De,be,ut))}get(De){return nr(this._store.get(De),"Error reading from IndexedDB")}put(De,be){return nr(this._store.put(De,be),"Error writing to IndexedDB")}delete(De){return nr(this._store.delete(De),"Error deleting from IndexedDB")}clear(){return nr(this._store.clear(),"Error clearing IndexedDB object store")}}class tn{constructor(De){this._index=De}get(De){return nr(this._index.get(De),"Error reading from IndexedDB")}}function vn(Pe,De,be){return new Promise((ut,Ye)=>{try{const qt=indexedDB.open(Pe,De);qt.onsuccess=Wn=>{ut(new kn(Wn.target.result))},qt.onerror=Wn=>{var qn;Ye(`Error opening indexedDB: ${null===(qn=Wn.target.error)||void 0===qn?void 0:qn.message}`)},qt.onupgradeneeded=Wn=>{be(new kn(qt.result),Wn.oldVersion,Wn.newVersion,new Ft(qt.transaction))}}catch(qt){Ye(`Error opening indexedDB: ${qt.message}`)}})}function Zn(Pe){return Un.apply(this,arguments)}function Un(){return(Un=(0,p.Z)(function*(Pe){return new Promise((De,be)=>{try{const ut=indexedDB.deleteDatabase(Pe);ut.onsuccess=()=>{De()},ut.onerror=Ye=>{var qt;be(`Error deleting indexedDB database "${Pe}": ${null===(qt=Ye.target.error)||void 0===qt?void 0:qt.message}`)}}catch(ut){be(`Error deleting indexedDB database "${Pe}": ${ut.message}`)}})})).apply(this,arguments)}},2940:(pt,w,x)=>{"use strict";x.d(w,{T:()=>p});const p="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(pt,w,x)=>{"use strict";x.d(w,{X:()=>p});const p=[{barcode:"12345",createdOn:1648717508909,id:"qrnnSLWTzjPy7cXjm2DD",name:"2 P\xe2tes feuillet\xe9es",createdBy:{email:"jollmat@hotmail.com",lastLogin:1648714433260,admin:!0},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/339/259/020/3433/front_fr.7.400.jpg",brand:"Croustipate"},{name:"7 Up sin az\xfacar, 2L",barcode:"8717700002402",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1,brand:"7 Up",id:"nltN2RwvykuhHdypSWbj"},{brand:"Borges",name:"Aceite de oliva suave",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",barcode:"8410179010014",id:"NqwhkXHtGfGcJ5q7KsRz"},{name:"Aceite refinado de girasol botella 1 l",favourite:!1,barcode:"8410179202006",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",brand:"Borges",id:"6zEUzVIlJFRxt8hRPpdn"},{brand:"Marca desconeguda",favourite:!1,name:"Acelgas",barcode:"8480000163141",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",id:"q9Z0MayoXzRZKLTF5vDy"},{name:"Acelgas categor\xeda extra",barcode:"8480017574657",brand:"Dia",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",id:"oHLo9zNJH6p0uSTJNcAK"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",id:"leklVFvsbS9ilPDvL2Fn"},{favourite:!1,brand:"Bezoya",barcode:"8410128000400",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",name:"Agua mineral natural",id:"SlRmgYQ7Q4gIrntiumBy"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",favourite:!1,barcode:"8410128160074",brand:"Bezoya",name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",id:"lexnGS3p54WbYuhquB31"},{name:"Agua mineral natural garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/550/1131/front_es.11.400.jpg",brand:"Font Vella",id:"PCYDzXKqxzBqpCdaUNYo",barcode:"8410055501131",createdOn:1649162588705,createdBy:{lastLogin:1648889388379,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},favourite:!1},{brand:"Viladrau",favourite:!1,name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",barcode:"8411002101701",id:"Q70bJqYgDk49yzOy0Zcw"},{brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",barcode:"8436551861951",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",id:"K1aeYHAdujAOseKwRc7w"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9439/front_es.10.400.jpg",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904,email:"joanlloria@gmail.com"},favourite:!1,name:"Amanida del temps",id:"30nav3nZaY4KBBplEpB0",createdOn:1649443191448,barcode:"8437011969439",brand:"ametller origen"},{id:"3MwASOS7hvysSgIzAgUK",brand:"Amstel",barcode:"8410569615614",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg",name:"Amstel Radler"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1,name:"An\xeds dulce",brand:"An\xeds del Mono",barcode:"8410337219082",id:"Bv074TbrKKPtZVHHtTak"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",name:"Aroma de Vainilla",brand:"Hacendado",barcode:"8480000325242",favourite:!1,id:"Ado6jD7TCsaLoVsxUozf"},{favourite:!1,brand:"Brillante",name:"Arroz integral",barcode:"8410184800150",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",id:"n4zcQ59UCaVNsahkzXma"},{brand:"Brillante",favourite:!1,name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",barcode:"8410184013086",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg",id:"z5geMGnZ4ziKOmmcSwwl"},{favourite:!1,barcode:"8410448000913",brand:"Schara",name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",id:"ZYAzdv1no7HEq2czfOZr"},{brand:"Granini",barcode:"8431707094290",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg",id:"3lKVzkKi1CtI6xJjimWA"},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",name:"At\xfan en aceite de girasol",barcode:"8480000180926",id:"Gopq8JVDytroBPtGXoxF"},{favourite:!1,brand:"guest",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",barcode:"8436033878095",name:"At\xfan en aceite de girasol",id:"3ryTb2dhZeZi5b9I9lMG"},{barcode:"8410714107735",favourite:!1,name:"Azucarera Sucre Glace 500G",brand:"Azucarera",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",id:"30m9z8rGbtu8VPw8RzPf"},{favourite:!1,brand:"Espiga Blanca",barcode:"8436540562050",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",name:"Bastones de cristal",id:"vIFWp8mAaDrkh6VpezCu"},{favourite:!1,barcode:"8076800195132",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg",brand:"Barilla",name:"Bavette n.13",id:"8tda9fG5Wtj0KImax7zm"},{imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1,brand:"ALITEY",barcode:"8423352861402",name:"Bebida de avena",id:"8bxuQK7atfV4FDjiXH3G"},{barcode:"8436551865355",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg",name:"Beguda vegetal d'arr\xf2s",id:"1m2qNvyCKtKxVlJn0E4N"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg",name:"Bicarbonato s\xf3dico",brand:"Dia",barcode:"8480017175397",favourite:!1,id:"vrzvdVtxcWvp3qw3aiDh"},{brand:"Lotus",favourite:!1,name:"Biscoff",barcode:"5410126716016",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg",id:"hndTO6g8rFhvc8pHl7kl"},{favourite:!1,name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",barcode:"8410179202020",brand:"Borges",id:"x01xB6jOHkDnwEwdgC1e"},{barcode:"8015100563067",imageUrl:"",name:"Bref power active, alpine",brand:"Henkel",favourite:!1,id:"XBhKl9TCvR2klNWauS4p"},{name:"Brots de Ruca",favourite:!1,barcode:"8422410473878",brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg",id:"l6nkLXadsPk7Ehf0WGnJ"},{name:"brots selectes",barcode:"8436551867502",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",brand:"ametller origen",id:"hoJYThDEIKKON38d7l4o"},{barcode:"8410148509327",name:"Cacahuete frito",brand:"Borges",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",id:"fBt6Uvb5EC1QF1bec6U8"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",barcode:"8480000341778",name:"Canela Molida",brand:"Hacendado",favourite:!1,id:"Q45IWe8UFJmIMQevB57O"},{brand:"Dani",name:"Canela molida",barcode:"8410721000180",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",id:"HPv7I6ohHstOdBmqkRyM"},{favourite:!1,brand:"Hacendado",name:"Cannelloni tubos precocidos",barcode:"8480000064974",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",id:"LtgpXq6f0Lyz1ObmDek4"},{favourite:!1,barcode:"8480000136343",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",name:"Capsula cafe classic",id:"L8fz1zUx3C266faJZLHJ"},{name:"Cebolla frita",brand:"Espiga Blanca",barcode:"8412945008508",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg",id:"ReaXV2iO2tNr8brsmLZJ"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",name:"Chapata",barcode:"8410706000266",brand:"Recondo",favourite:!1,id:"QsUX7H05EMIiyxgjxkzU"},{barcode:"80177616",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1,name:"Chocolate bars x 8",brand:"Kinder,Ferrero",id:"GVrx3aFKfbYDzA8ug2sy"},{favourite:!1,barcode:"7613035268388",name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg",brand:"Nestl\xe9",id:"nVQQx2Go0DIsFpD1fnEy"},{imageUrl:"https://images.openfoodfacts.org/images/products/761/303/531/4016/front_es.25.400.jpg",name:"Chocolate con leche y almendras",id:"PYxYdVJPIw8PYGT3hJL7",brand:"Nestl\xe9",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379},favourite:!1,barcode:"7613035314016",createdOn:1649162622233},{favourite:!1,brand:"Illy",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",barcode:"8003753900438",name:"coffee tin",id:"P3TJFIMJJ6umgLsMNARA"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",brand:"Ametller origen",name:"Crema ceba i formatge",favourite:!1,barcode:"8436554524570",id:"uptkoR3RoAgnxL4on1zY"},{name:"Crema de Aceite Balsamico de Modena",barcode:"8422410809851",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1,brand:"Bonpreu",id:"SXfe5C6ROv5I8weIylKE"},{brand:"Ametller Origen",barcode:"8436554523979",name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",favourite:!1,id:"3dkzQEdUiw6jeSdhv5qE"},{barcode:"8436583955093",favourite:!1,brand:"Novell",imageUrl:"",name:"C\xe0psules de caf\xe9 intens 16u.",id:"4cx8G55JBcftkwPjMRrc"},{favourite:!1,barcode:"8480000325273",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",name:"Decoraciones",id:"c5ebv4Zxds72D4gLOxml"},{barcode:"5054563101648",favourite:!1,id:"jdAnPuqtEeAaPzOCYl00",imageUrl:"https://images.rappi.com.mx/products/92d7d2a4-18f6-46fd-9580-c679a23d1493.png?d=200x200&e=webp",name:"Dent\xedfrico blanqueante, 100ml",brand:"Sensodyne"},{id:"zsWPRKl0FTIpnOBG0WYm",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/686/2295/front_es.12.400.jpg",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",lastLogin:1649187527904},favourite:!1,brand:"Nescaf\xe9",name:"Dolce Gusto",createdOn:1649525097595,barcode:"7613036862295"},{brand:"Marca desconeguda",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg",name:"Donettes",favourite:!1,barcode:"8410022115255",id:"qjRYx08R9GFt9DlXWbOE"},{name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",barcode:"5900685007910",brand:"Seagram's",favourite:!1,id:"qcJaJGwADZOiTOgv2EdL"},{name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",brand:"Nestl\xe9",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg",barcode:"7613036569927",id:"VZMbnJHjk69FeYdriirE"},{name:"Emmental",brand:"Ametller origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg",barcode:"8436583952054",id:"9zAdEOgvYPvtVuzq4vvt"},{imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",barcode:"3560070119851",id:"Gv96bsD8WJpAsGpieFtf"},{brand:"Florette",barcode:"8414516070167",name:"Ensalada mixta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg",id:"K78rK6Q1QHEun2nEWjjJ"},{name:"Espaguetis a la Carbornara",favourite:!1,brand:"Ametller Origen",barcode:"8436551862880",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg",id:"swOdy2x2nOMjVLPZNiDx"},{name:"Espresso intenso descafeinado",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg",barcode:"7613035260924",brand:"Nescafe",favourite:!1,id:"1RUNXjddz7LxrCMoYClY"},{name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",barcode:"8410564002204",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg",brand:"Frit Ravich",id:"tCn1OPIu3HMqMnPS3XEx"},{barcode:"8422410040872",favourite:!1,brand:"Bonpreu",name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg",id:"2hQz4Ji7dunBz9IRXDGI"},{favourite:!1,brand:"Barilla",barcode:"8076808060654",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",name:"Farfalle",id:"ItsmDGWuwZqq823GL7o2"},{name:"Filtros slim, 150 u.",brand:"OCB",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",barcode:"3057068056781",id:"ti3ipZazS5OY74X31qYh"},{brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",barcode:"8410739033002",favourite:!1,id:"0hLDVVtoWHHGxpJBJ8xv"},{name:"Font Vella",brand:"Danone",barcode:"8410055033014",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg",id:"Z5rLwATggE9EhQmZ2VGM"},{name:"Font Vella",brand:"Danone",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",favourite:!1,barcode:"8410055133394",id:"8h4MTfnL9KLKvD9kaucU"},{brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",favourite:!1,id:"Tsxz3HmPSZ0YuzHfWDFe",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/160A34FA-A880-418F-A9AD2C2E43C8673B/057DEBF5-554E-4F12-A960CB7D747B5A64/Product%20High-EAN_IMG_5029053010052_1.png",barcode:"5029053010052"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",id:"czU7rd3XyqdhaLEIKKlc"},{imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",brand:"Barilla",favourite:!1,barcode:"8076802085981",name:"Fusilli",id:"kvidMtUxlJWu4BToQoye"},{brand:"Carolina",favourite:!1,name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",barcode:"8437019000004",id:"tnhUbxvcPNukCitKgjJq"},{brand:"Bonpreu",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg",name:"Garbanzos cocidos",barcode:"8422410177851",id:"h1r7SWA1VVM1fsYiFB6Q"},{name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",favourite:!1,barcode:"8410505512267",brand:"Luengo",id:"8vDyG5gsOCFzH2s3wMaj"},{name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",favourite:!1,barcode:"8420309210115",brand:"Pe\xf1a Torcal",id:"nX934vnWFvL3uqIZ2JBl"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg",brand:"Bonpreu",barcode:"8422410387915",name:"Hamburguesa de l'era",id:"Odb5MEPbjvvGtJi1Sw6w"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg",name:"Higos secos",favourite:!1,barcode:"8410564016157",brand:"Frit Ravich",id:"cJ7ynQ2WO9ZzVoxIeyW7"},{name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",brand:"Hornimans",barcode:"8410091104488",favourite:!1,id:"cqyqq3xxpf8eOVWF4wsv"},{id:"E5Pbprvch6htVuas87ub",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0992/front_es.11.400.jpg",barcode:"8436554520992",createdOn:1648885439824,createdBy:{lastLogin:1648740479491,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},name:"Iogurt cremos amb mango"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg",name:"Iogurt cremos macedonia",barcode:"8436554522279",brand:"Ametller origen",favourite:!1,id:"kXZ0ETe4tqcDeEJgwpHj"},{barcode:"8437011969217",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg",brand:"Ametller Origen",name:"Iogurt cremoso amb maduixa",favourite:!1,id:"0y6hb1ts1UeZ64z4OdDP"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0985/front_es.9.400.jpg",brand:"Ametller Origen",createdOn:1648885460412,barcode:"8436554520985",name:"Iogurt Crem\xf3s Maduixa",createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"UUf8ANFrTGmZXlvRK6vf",favourite:!1},{imageUrl:"https://www.marvimundo.com/media/catalog/product/cache/26ef67ba4867c44769c635c68212a088/f/a/fairy-lavavajillas-mano-ultra-poder-400-ml-128042-0_1.jpg",id:"eqBkW8faoUMizZAKo9v5",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",barcode:"8001841624143",favourite:!1},{brand:"Carrefour",id:"0hUlWDteNomeaDM0r9rF",name:"Jumbo Roll, Papel rollo multiusos",favourite:!1,barcode:"3560071152413",imageUrl:"https://static.carrefour.es/hd_510x_/img_pim_food/839977_00_1.jpg"},{favourite:!1,brand:"Kinder,Ferrero",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg",name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",barcode:"4008400203829",id:"wKcPnND7kRp2oZOZEDec"},{brand:"Marca desconeguda",barcode:"8410199023094",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",name:"lay\u2019s gourmet original",id:"eGb9Zi2YLCc4vUilnfyc"},{name:"Leche",imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg",favourite:!1,barcode:"8410135001322",brand:"Ato",id:"DYRii4Q1nlQXSVux4tlv"},{brand:"Carrefour",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",barcode:"8431876005912",name:"Lenteja a la riojana",id:"FlyrJ9yKHxEupuDM1XOB"},{brand:"HC Premium",favourite:!1,barcode:"8426765495240",name:"Lentejas pardinas",imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg",id:"jXSGai0V4QTNoGkdZlVj"},{id:"BdOKDepFnrKlvXJe05kx",imageUrl:"https://m.media-amazon.com/images/I/61njkx6RgcL._AC_SX466_.jpg",name:"Levadura de Cerveza",barcode:"8435041321364",brand:"Nature Essential",favourite:!1},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",id:"GKC6tx0q50UgpCIh98Xu"},{brand:"Don Limpio",barcode:"8006540576588",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://arcashop.es/12829-large_default/don-limpio-limpiador-suelos-piedra-natural-marmol-y-maderas.jpg",id:"LP9uDdp3LWmoOIZoE5bJ",favourite:!1},{brand:"Nestl\xe9",barcode:"7613033481314",favourite:!1,name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",id:"nS0432qVdcAwMoFuxMHR"},{name:"Listerine Cuidado Total 500ml",imageUrl:"https://cdns3-2.primor.eu/84242-thickbox/total-care.jpg",barcode:"3574661648019",id:"7bvTHQ1c1OE25ZhXiL6k",favourite:!1,brand:"Johnson & Johnson"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",brand:"Llet Nostra",favourite:!1,barcode:"8437004314031",name:"Llet Semi Desnatada Nostra",id:"9tbAVUXZjoXNLNMPw9Qt"},{favourite:!1,brand:"Deliplus",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",barcode:"8480000792013",name:"Loci\xf3n aloe vera",id:"3wsjdR3cvX08ZEUryPYg"},{barcode:"8421660006010",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",name:"Magdalenas gegants",favourite:!1,id:"eKOXybB8eRHbmXN426O3"},{favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",barcode:"8714100635650",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg",brand:"Magnum",id:"lXG3EL793X2hZN2mVGYe"},{brand:"Arias,Savencia",name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg",favourite:!1,barcode:"8413100612639",id:"Wtq2IcT5fWTF59eJk8Sy"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg",barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",id:"pJvKRQ0bzDrMyMXTSoSR"},{name:"Marcilla caf\xe9 superior creme express natural",barcode:"8410091301405",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg",favourite:!1,brand:"Marcilla",id:"kupLfg9cgCOqrz0amX7Y"},{name:"Ma\xedz dulce",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg",barcode:"8480000167644",favourite:!1,brand:"Hacendado",id:"o46v8FNpkET9eBCoJwvy"},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0"},brand:"Florette",barcode:"8414516082313",favourite:!1,name:"Mezclum ensalada",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/608/2313/front_es.16.400.jpg",id:"pXCQGrgvKgCNWiQKErry"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg",brand:"Bel",name:"Mini Babybel",barcode:"3073780902366",id:"GNoY9uMARm3pyYHuyZ47"},{barcode:"8000270018257",imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg",name:"Mini tostas redondas",favourite:!1,brand:"Bimbo",id:"ssBUB9ehqpXzWlDhbS7g"},{brand:"Carrefour",name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",barcode:"3560070347438",favourite:!1,id:"JUesQloyy9p0uihUfVjm"},{name:"Minicracker fibra",favourite:!1,brand:"Espiga blanca",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg",barcode:"8436540566942",id:"ZEbAsgDGCPjs0feY03ox"},{favourite:!1,barcode:"8480000644916",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",name:"Mochi Coco",brand:"Hacendado",id:"baqE2SfxQ5hmFkcHBMPs"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",brand:"Prima",name:"Mostaza",barcode:"8410118041574",favourite:!1,id:"4jHwflGrmg4Og0iUasxh"},{name:"Muesli crunchy chocolate",barcode:"8480000093554",brand:"Hacendado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",id:"ZPOQCPkr4yYSnziHtHrq"},{favourite:!1,name:"Nachos redondos",brand:"Carrefour",barcode:"8431876305395",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg",id:"ZfmqU8YhBOpAEFNZZvmr"},{favourite:!1,barcode:"7613039490266",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg",brand:"Nestl\xe9",name:"Nesquik",id:"ey3FojyVJkBRPHNqGatU"},{name:"Nom desconegut",favourite:!1,brand:"Sanytol",barcode:"8411135005037",id:"obgtqydHBkBWxw7gkDz7",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg",barcode:"4002160092501",name:"N\xe9ctar naranja briks",id:"54m66Drk0byQbBl7o4nx"},{barcode:"8410179012018",name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg",favourite:!1,brand:"Borges",id:"XaUmCXnMUNKyV7Z4Zlze"},{name:"Oli d\u2019oliva",favourite:!1,brand:"Ametller Origen",barcode:"8436551860251",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",id:"CWMgTznWc0LBLQE5fPOp"},{brand:"Bonpreu",name:"Oli refinat de gira-sol",id:"2X0xYZv9aIMorvDaQDdk",imageUrl:"https://es.openfoodfacts.org/images/products/842/241/081/0529/front_es.3.full.jpg",barcode:"8422410412044",favourite:!1},{brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",barcode:"8422410299744",favourite:!1,name:"Ous frescos pag\xe8s",id:"E3paebxmi4qrbNKotFSt"},{name:"Pa de vidre",brand:"Ametller Origen",favourite:!1,barcode:"8436583954577",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",id:"CdWRC8tyMdD7HmJS8dT9"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg",favourite:!1,brand:"ametller origen",barcode:"8436583954539",name:"Pa de vidre tradicional",id:"vqhsiM4NdD4Imq1SHpwn"},{favourite:!1,brand:"Hornimans",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",barcode:"8410091024915",id:"HfV0fo6by29W2xSocNXY"},{name:"Palets breton galletas de mantequilla",brand:"Saint Aubert",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",barcode:"3045320052244",id:"rhuFIiTyJdHboUsBvjti"},{favourite:!1,name:"Pan Dextrin Integral Santiveri",brand:"Santiveri",barcode:"8412170026896",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",id:"wzbiMwk2KWJPf7c2FgzW"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg",brand:"La Hacienda",name:"Patata entera",barcode:"8410086000856",id:"PhRG5yLA0a89xaob5xKs"},{favourite:!1,name:"Patata, pastanaga i mongeta tendra cuinats al buit",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg",barcode:"8436554525140",brand:"Ametller Origen",id:"TnvHYIykarIneKJ6hRPV"},{brand:"Bonarea",barcode:"8413585017240",name:"Patatas Fritas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",id:"Is8g3XR7l5jx8Yh3TYn0"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg",barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",id:"6O5f9LSdGMN6KzLC0JeE"},{name:"Pepinillos",brand:"Rioverde",barcode:"8410954000711",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg",id:"x5uXf6BsHpyb0o10dnon"},{barcode:"8413475312615",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg",name:"Pernil cuit ral",id:"iPVdCwHgX7RxEe9vbx6l"},{barcode:"7076848513753",imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg",brand:"Barilla",favourite:!1,name:"Pesto alla genovese",id:"UJjvwcB0MlkMg7LWgEJp"},{favourite:!1,brand:"Ametller Origen",name:"Pit de pollastre amb herbes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg",barcode:"8436554529629",id:"0WLGkAxyPWvpIQoOZ7FO"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg",favourite:!1,barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",id:"7EBzPLJYYkcF9SlDuDju"},{barcode:"8436551864709",name:"Pollastre al curri vermell",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg",id:"JhITWXv8sKhGxY2v6Akp"},{brand:"Ametller Or\xedgen",imageUrl:"",name:"Pollastre al ximixurri",favourite:!1,barcode:"8436583957110",id:"mpPu0gL1kwl9eKo8OGEi"},{name:"Pompadour Tomillo",barcode:"8412900401153",favourite:!1,brand:"Pompadour",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg",id:"PpjhyGotmEb3pH0w1eMg"},{name:"Radler Steinburg",favourite:!1,barcode:"8480000664129",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg",brand:"Steinburg",id:"SuV2VXv50lUAKN2ig5SS"},{name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",barcode:"8480000049056",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",id:"n0bA9HYP5zo4bp5Ofsa8"},{brand:"Hornimans",name:"Rooibos con especias",barcode:"8410091024953",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1,id:"2KZX2zt9pr4UnMcBz5vk"},{name:"Royal mints",barcode:"4019400440657",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1,brand:"Halloren",id:"hyuEQlks15fV1Gz2QsOJ"},{createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0},barcode:"8412480245307",createdOn:1649394055307,id:"jLlYUP7FHgQ3FLswhUvW",brand:"royal",favourite:!1,name:"Royal pescado desalado tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/841/248/024/5307/front_es.3.400.jpg"},{barcode:"3560071048341",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com"},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/356/007/104/8341/front_fr.8.400.jpg",brand:"Carrefour",id:"wDYvFJqMYYwgMzks2mpn",createdOn:1648840699569,name:"Sabl\xe9s coeur saveur pomme fa\xe7on tatin"},{barcode:"8410604112344",brand:"Sal Costa",favourite:!1,name:"Sal De Frutas",imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg",id:"tH5tDpScw3O9HU7rr6SU"},{barcode:"8480000290168",name:"Sal de frutas sabor lim\xf3n",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",id:"9TiCWwlEC7sjlcD9qNIp"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",favourite:!1,brand:"Hacienda Iberico",name:"Salchich\xf3n ib\xe9rico",barcode:"8480000581518",id:"cavXqFbme8O97pvlkdV1"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",imageUrl:"",brand:"Ametller Or\xedgen",favourite:!1,id:"2E1o2kMy6wpJqdGPBBnI"},{favourite:!1,barcode:"8410069018717",name:"Salsa bolo\xf1esa",imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg",brand:"Gallo",id:"m6SgmW4XTNAeptb9ihZB"},{name:"Salsa de tomate casera",barcode:"8436551860923",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg",favourite:!1,id:"gE7x9ZkgQ6NjSkLvGcK7"},{name:"Salsa Espinaler",barcode:"8427230989189",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg",brand:"Espinaler",id:"aVxZOQluGc7zUcL19hhO"},{name:"Saltat de Verdures Mediterrani",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",barcode:"8436551862040",id:"iJNiwpIuVvFhyBglNFxf"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",barcode:"8480000610652",brand:"Hacendado",name:"Salteado de verduras vegetais",favourite:!1,id:"kZZT52JnJAtR1NxrfXrP"},{brand:"Sanex",name:"Sanex Biomeprotect dermo, 600ml",id:"Eizi9zWGl27j7OC4UCQd",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/DB0625BE-506E-4548-83D25E0427C6DF1E/Product%20High-60BD31F8-9CAC-4C46-B9C0A974ED04D63F.png",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0},favourite:!1,barcode:"8718951388826"},{id:"taf3wFAlUncnGAFCpmMK",name:"Sea Salt Flakes",imageUrl:"https://images.heb.com/is/image/HEBGrocery/001549748?fit=constrain,1&wid=800&hei=800&fmt=jpg&qlt=85,0&resMode=sharp2&op_usm=1.75,0.3,2,0",barcode:"5011428300035",favourite:!1,brand:"Maldon"},{barcode:"5054563099082",id:"iQHS7jc0k9qpDOMVenc5",name:"Sensodyne repair & protect",imageUrl:"https://i-cf65.ch-static.com/content/dam/cf-consumer-healthcare/sensodyne-v3/es_ES/Product-pages/products/Repair%20Protect-1028x324.png?auto=format",favourite:!1,brand:"Sensodyne"},{name:"Smacks With Honey",barcode:"5050083560262",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg",brand:"Kellogg's",id:"XkHiVnBtjrGxJyFuw7Lp"},{barcode:"8076800195057",favourite:!1,name:"Spaghetti n.5",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg",brand:"Barilla",id:"fF45ojO9zvfLUurEJtdQ"},{barcode:"3269612045008",name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg",favourite:!1,brand:"Jean Brunet",id:"1Z4gCweBWIUKJIUcGK2Q"},{name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",barcode:"8410091103306",favourite:!1,brand:"Hornimans",id:"VJCKEeSbjbE4nRaLUR4L"},{brand:"Sanytol",favourite:!1,imageUrl:"https://arcashop.es/9035-large_default/sanytol-toallitas-desinfectantes-higienizantes-limpieza-hogar.jpg",barcode:"3045206312257",id:"V3KYndnRcF2eIdIk7Tpz",name:"Toallitas desinfectantes"},{id:"1TlkULpGAdQETA8Idg0G",barcode:"8436583950449",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",brand:"Ametller Origen",favourite:!1,name:"Tom\xe0quet de sucar"},{favourite:!1,createdBy:{lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},id:"51WlaDFu7cO0lNqG7wXW",brand:"Ametller Or\xedgen",imageUrl:"",barcode:"8436583950440",name:"Tom\xe0quet de sucar 650gr"},{brand:"Bonpreu",favourite:!1,name:"Tom\xe0quet Fregit",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg",barcode:"8422410170760",id:"zh9amHkXLOyk0KXUG970"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1,name:"Trinxat de la cerdanya",brand:"Ametller Origen",barcode:"8437011969903",id:"OkPyN3oS8CMoh2aGUCPO"},{brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",name:"Truita carxofa",favourite:!1,barcode:"8437008006420",id:"T0nUff9307aPgqLZ8Usv"},{id:"fdspoyuC2coeY6rdGpRT",brand:"Vicens",barcode:"8410495541070",imageUrl:"https://www.vicens.com/cdnassets//imageProduct/0138907_l.jpg",favourite:!1,name:"Turr\xf3n souffl\xe9 avellana chocolate"},{favourite:!1,brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",barcode:"8412900401207",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",id:"1sHrVBGWHgFzWXQNF41r"},{brand:"Viladrau",favourite:!1,id:"fbCoromlZiueXYYNpzeQ",barcode:"8411002105006",imageUrl:"https://static.condisline.com/resize_1280x1024/images/catalog/large/601044.jpg",name:"Viladrau Agua Mineral 5L."},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",name:"Vinagre de Jerez reserva",barcode:"8480000049537",id:"m5ZBjnZ1xpxPAZqgNHCr"},{id:"QGAa9IH14XduTjCEGI0T",barcode:"8422410598977",name:"VINAGRE de vi negre",brand:"Bonpreu",favourite:!1,imageUrl:"https://www.compraonline.bonpreuesclat.cat/images-v3/dcbcfd72-cf23-44a2-8e14-8a38edd645a3/6ff007d2-a9f2-4239-b72d-36a956d630d0/500x500.jpg"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg",barcode:"8410793031945",favourite:!1,name:"Voll-damm Cerveza Doble Malta",brand:"Voll-Damm",id:"l8q8cl0rOFzwrsH4UWYy"},{name:"Worcestershire sauce",brand:"Lea & Perrins",barcode:"5000111040983",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg",id:"rCAcIOHzZ5wUR205WVhG"},{favourite:!1,id:"KLcjOJaVljCeYkda4C5c",name:"Xori\xe7 extra",imageUrl:"https://ametllerorigen.vtexassets.com/arquivos/ids/164350-800-auto?v=637160564399800000&width=800&height=auto&aspect=true",brand:"Ametller Origen",barcode:"8435037550631"},{barcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0},createdOn:1648840788835,brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/170/702/0053/front_fr.19.400.jpg",name:"Zumo de granada y manzana",id:"YWpN9xwLcmQapm3DKHjk"},{favourite:!1,brand:"Hacendado",barcode:"8480000390103",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",name:"Zumo pura naranja",id:"D7OCE8KsONVlLfirGFkx"}]},7296:(pt,w,x)=>{"use strict";x.d(w,{H:()=>p});const p=[{imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png",favourite:!1,default:!0,id:"alcampo",name:"Alcampo"},{default:!0,favourite:!1,id:"aldi",imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg",name:"ALDI"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU",id:"ametller",default:!0,favourite:!1,name:"Ametller Origen"},{default:!0,id:"bonpreu",favourite:!1,name:"Bonpreu Esclat",imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{favourite:!1,id:"bonarea",name:"Bon\xc0rea",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU",default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU",favourite:!1,name:"Caprabo",id:"caprabo",default:!0},{favourite:!1,name:"Carrefour",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU",default:!0,id:"carrefour"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU",favourite:!1,id:"clarel",default:!0,name:"Clarel"},{id:"condis",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU",default:!0,name:"Condis",favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU",name:"Consum",id:"consum",favourite:!1,default:!0},{favourite:!1,default:!0,id:"dia",name:"Dia",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU",default:!0,favourite:!1,name:"Eroski"},{favourite:!1,name:"Hipercor",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU",id:"hipercor",default:!0},{name:"La Sirena",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU",id:"lasirena",favourite:!1,default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU",default:!0,id:"lidl",name:"Lidl",favourite:!1},{name:"Makro",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU",id:"makro",default:!0},{id:"mercadona",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU",favourite:!1,default:!0,name:"Mercadona"},{name:"Sorli",id:"sorli",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU",default:!0},{id:"supercor",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU",default:!0,name:"Supercor"},{id:"supersol",name:"Supersol",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU",default:!0,favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU",name:"Veritas",id:"veritas",default:!0,favourite:!1}]},3701:(pt,w,x)=>{"use strict";x.d(w,{M:()=>p});const p={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE",PS_USER_ALERTS:"PS_USER_ALERTS",PS_SHOPS_SEARCH_TEXT:"PS_SHOPS_SEARCH_TEXT",PS_PRODUCTS_SEARCH_TEXT:"PS_PRODUCTS_SEARCH_TEXT",PS_PURCHASES_SEARCH_TEXT:"PS_PURCHASES_SEARCH_TEXT",PS_LAST_SHOP_ID:"PS_LAST_SHOP_ID"}},4041:(pt,w,x)=>{"use strict";x.d(w,{z:()=>p});var p=(()=>{return(e=p||(p={})).FIRESTORE="FIRESTORE",e.MONGODB_LOCAL="MONGODB_LOCAL",e.BASIC_DEFAULT="BASIC_DEFAULT",p;var e})()},1343:(pt,w,x)=>{"use strict";x.d(w,{C:()=>V});var p=x(2292),e=x(8996),T=x(9646),N=x(3209),O=x(5e3);let V=(()=>{class Y{constructor(ne){this.firestore=ne}addShop(ne){console.log("FirestoreService.addShop()",ne);const $=(0,p.hJ)(this.firestore,"shops");return(0,e.D)((0,p.ET)($,ne))}addShops(ne){console.log("FirestoreService.addShops()",ne);const $=(0,N.qs)(this.firestore);return ne.forEach(re=>{const pe=(0,p.hJ)(this.firestore,"shops"),dt=(0,p.JU)(pe);$.set(dt,re)}),$.commit(),(0,T.of)(!0)}deleteShop(ne){console.log("FirestoreService.deleteShop()",ne);const $=(0,p.JU)(this.firestore,`shops/${ne}`);return(0,e.D)((0,N.oe)($))}updateShop(ne){console.log("FirestoreService.updateShop()",ne);const $=(0,p.JU)(this.firestore,`shops/${ne.id}`);return(0,e.D)((0,N.pl)($,ne))}getShops(){console.log("FirestoreService.getShops()");const ne=(0,p.hJ)(this.firestore,"shops");return(0,p.BS)(ne)}getProducts(){console.log("FirestoreService.getProducts()");const ne=(0,p.hJ)(this.firestore,"products");return(0,p.BS)(ne,{idField:"id"})}addProduct(ne){console.log("FirestoreService.addProduct()",ne),ne.imageUrl||(ne.imageUrl="");const $=(0,p.hJ)(this.firestore,"products");return(0,e.D)((0,p.ET)($,ne))}addProducts(ne){console.log("FirestoreService.addProducts()",ne);const $=(0,N.qs)(this.firestore);return ne.forEach(re=>{const pe=(0,p.hJ)(this.firestore,"products"),dt=(0,p.JU)(pe);$.set(dt,re)}),$.commit(),(0,T.of)(!0)}deleteProduct(ne){console.log("FirestoreService.deleteProduct()",ne);const $=(0,p.JU)(this.firestore,`products/${ne}`);return(0,e.D)((0,N.oe)($))}updateProduct(ne){console.log("FirestoreService.updateProduct()",ne);const $=(0,p.JU)(this.firestore,`products/${ne.id}`);return(0,e.D)((0,N.pl)($,ne))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const ne=(0,p.hJ)(this.firestore,"shopsProducts");return(0,p.BS)(ne,{idField:"id"})}deleteShopProduct(ne){console.log("FirestoreService.deleteShopProduct()",ne);const $=(0,p.JU)(this.firestore,`shopsProducts/${ne.id}`);return console.log($),this.deleteShopProducts([ne])}deleteShopProducts(ne){console.log("FirestoreService.deleteShopProducts()",ne);const $=(0,N.qs)(this.firestore);return ne.forEach(re=>{console.log(re.id);const pe=(0,p.JU)(this.firestore,`shopsProducts/${re.id}`);$.delete(pe)}),$.commit(),(0,T.of)(!0)}addShopProduct(ne){console.log("FirestoreService.addShopProduct()",ne);const $=(0,p.hJ)(this.firestore,"shopsProducts");return(0,e.D)((0,p.ET)($,ne))}addShopProducts(ne){console.log("FirestoreService.addShopProducts()",ne);const $=(0,N.qs)(this.firestore);return ne.forEach(re=>{const pe=(0,p.hJ)(this.firestore,"shopsProducts"),dt=(0,p.JU)(pe);$.set(dt,re)}),$.commit(),(0,T.of)(!0)}}return Y.\u0275fac=function(ne){return new(ne||Y)(O.LFG(p.gg))},Y.\u0275prov=O.Yz7({token:Y,factory:Y.\u0275fac,providedIn:"root"}),Y})()},4120:(pt,w,x)=>{"use strict";x.d(w,{r:()=>Y});var p=x(7579),e=x(3701),T=x(5e3),N=x(520),O=x(3104),V=x(870);let Y=(()=>{class J{constructor($,re,pe){this.http=$,this.router=re,this.deviceService=pe,this.user=new p.x}login($){$.lastLogin=(new Date).getTime(),$.device=this.deviceService.deviceType,$.os=this.deviceService.os,$.browser=this.deviceService.browser,this.user.next($),this.router.navigate(["home"]),this.getIpData().subscribe(re=>{$.ip=re.ip,$.city=re.city,$.country=re.country,this.user.next($),localStorage.setItem(e.M.PS_LOGGED_USER,JSON.stringify($)),this.router.navigate(["home"])})}logout(){localStorage.removeItem(e.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin($){return(null==$?void 0:$.email.startsWith("jollmat@"))||(null==$?void 0:$.email.startsWith("joan.lloria@"))||(null==$?void 0:$.email.startsWith("joanlloria@"))}getLoggedUser(){let $=JSON.parse(localStorage.getItem(e.M.PS_LOGGED_USER));if($)return $=$,$.admin=this.checkIsAdmin($),$}isLoggedUser(){return null!=this.getLoggedUser()}getInternetIp(){return this.http.get("https://api.ipify.org/?format=json")}getIpData(){return this.http.get("https://ipapi.co/json/")}}return J.\u0275fac=function($){return new($||J)(T.LFG(N.eN),T.LFG(O.F0),T.LFG(V.x0))},J.\u0275prov=T.Yz7({token:J,factory:J.\u0275fac,providedIn:"root"}),J})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4041),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[],this.loaded=!1;const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(pt=>{this._products=pt,this.loaded=!0})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addProducts(pt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)})):src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.BASIC_DEFAULT?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)})):src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.MONGODB_LOCAL?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)([]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)})):void 0}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(this._products)}toggleFavourite(pt){let w=this.getFavourites();return pt.favourite?w.push(pt.barcode):w=w.filter(x=>x!==pt.barcode),this.setFavourites(w),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)}setDefaultImages(pt){pt.map(w=>(w.imageUrl||(w.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_9__.T),w))}updateProduct(pt,w){return console.log("ProductService.updateProduct()",pt),w||this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.updateProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)}createProduct(pt){return console.log("ProductService.createProduct()",pt),pt.createdBy=this.loginService.getLoggedUser(),pt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.addProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{this._products.push(pt),this.products.next(this._products)})):(this._products.push(pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))}removeProduct(pt){return console.log("ProductService.removeProduct()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.deleteProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{this._products=this._products.filter(w=>w.id!==pt),this.products.next(this._products)})):(this._products=this._products.filter(w=>w.id!==pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(pt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(pt){const w=this.getFavourites();pt.map(x=>{x.favourite=w.indexOf(x.barcode)>-1})}}return ProductService.\u0275fac=function pt(w){return new(w||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(4041),_angular_core__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(pt=>{this._shops=pt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addShops(pt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)})):src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.BASIC_DEFAULT?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)})):src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.MONGODB_LOCAL?(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)([]).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(pt=>{this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)})):void 0}toggleFavourite(pt){let w=this.getFavourites();return pt.favourite?w.push(pt.id):w=w.filter(x=>x!==pt.id),this.setFavourites(w),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)}setDefaultImages(pt){pt.map(w=>(w.imageUrl||(w.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_9__.T),w))}updateShop(pt){return console.log("ShopService.updateShop()",pt),this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.updateShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0)}createShop(pt){return console.log("ShopService.createShop()",pt),pt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.addShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{this._shops.push(pt),this.shops.next(this._shops)})):(this._shops.push(pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))}removeShop(pt){return console.log("ShopService.removeShop()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.dataSourceType===_model_enums_datasource_type_enum__WEBPACK_IMPORTED_MODULE_6__.z.FIRESTORE?this.firestoreService.deleteShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_7__.b)(()=>{this._shops=this._shops.filter(w=>w.id!==pt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(w=>w.id!==pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_8__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(pt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(pt){const w=this.getFavourites();pt.map(x=>{x.favourite=w.indexOf(x.id)>-1})}}return ShopService.\u0275fac=function pt(w){return new(w||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_10__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_10__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(pt,w,x)=>{"use strict";x.d(w,{q:()=>e});const e={defaultLanguage:"ca",bannedIPs:[],dataSourceType:x(4041).z.FIRESTORE}},2552:(pt,w,x)=>{"use strict";var p=x(9808),e=x(5e3);class T extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends T{static makeCurrent(){(0,p.HT)(new N)}onAndCancel(i,t,c){return i.addEventListener(t,c,!1),()=>{i.removeEventListener(t,c,!1)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function V(){return O=O||document.querySelector("base"),O?O.getAttribute("href"):null}();return null==t?null:function J(r){Y=Y||document.createElement("a"),Y.setAttribute("href",r);const i=Y.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){O=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,p.Mx)(document.cookie,i)}}let Y,O=null;const ne=new e.OlP("TRANSITION_ID"),re=[{provide:e.ip1,useFactory:function $(r,i,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const c=(0,p.q)(),h=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let _=0;_<h.length;_++)c.remove(h[_])})}},deps:[ne,p.K0,e.zs3],multi:!0}];class pe{static init(){(0,e.VLi)(new pe)}addToWindow(i){e.dqk.getAngularTestability=(c,h=!0)=>{const _=i.findTestabilityInTree(c,h);if(null==_)throw new Error("Could not find testability for element.");return _},e.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(c=>{const h=e.dqk.getAllAngularTestabilities();let _=h.length,I=!1;const q=function(te){I=I||te,_--,0==_&&c(I)};h.forEach(function(te){te.whenStable(q)})})}findTestabilityInTree(i,t,c){if(null==t)return null;const h=i.getTestability(t);return null!=h?h:c?(0,p.q)().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null}}let dt=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const tt=new e.OlP("EventManagerPlugins");let Qe=(()=>{class r{constructor(t,c){this._zone=c,this._eventNameToPlugin=new Map,t.forEach(h=>h.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,c,h){return this._findPluginFor(c).addEventListener(t,c,h)}addGlobalEventListener(t,c,h){return this._findPluginFor(c).addGlobalEventListener(t,c,h)}getZone(){return this._zone}_findPluginFor(t){const c=this._eventNameToPlugin.get(t);if(c)return c;const h=this._plugins;for(let _=0;_<h.length;_++){const I=h[_];if(I.supports(t))return this._eventNameToPlugin.set(t,I),I}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(tt),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class vt{constructor(i){this._doc=i}addGlobalEventListener(i,t,c){const h=(0,p.q)().getGlobalEventTarget(this._doc,i);if(!h)throw new Error(`Unsupported event target ${h} for event ${t}`);return this.addEventListener(h,t,c)}}let ve=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const c=new Set;t.forEach(h=>{this._stylesSet.has(h)||(this._stylesSet.add(h),c.add(h))}),this.onStylesAdded(c)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),je=(()=>{class r extends ve{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,c,h){t.forEach(_=>{const I=this._doc.createElement("style");I.textContent=_,h.push(c.appendChild(I))})}addHost(t){const c=[];this._addStylesToHost(this._stylesSet,t,c),this._hostNodes.set(t,c)}removeHost(t){const c=this._hostNodes.get(t);c&&c.forEach(ke),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((c,h)=>{this._addStylesToHost(t,h,c)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ke))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function ke(r){(0,p.q)().remove(r)}const gt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$e=/%COMP%/g;function ue(r,i,t){for(let c=0;c<i.length;c++){let h=i[c];Array.isArray(h)?ue(r,h,t):(h=h.replace($e,r),t.push(h))}return t}function oe(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let qe=(()=>{class r{constructor(t,c,h){this.eventManager=t,this.sharedStylesHost=c,this.appId=h,this.rendererByCompId=new Map,this.defaultRenderer=new Ee(t)}createRenderer(t,c){if(!t||!c)return this.defaultRenderer;switch(c.encapsulation){case e.ifc.Emulated:{let h=this.rendererByCompId.get(c.id);return h||(h=new An(this.eventManager,this.sharedStylesHost,c,this.appId),this.rendererByCompId.set(c.id,h)),h.applyToHost(t),h}case 1:case e.ifc.ShadowDom:return new Nt(this.eventManager,this.sharedStylesHost,t,c);default:if(!this.rendererByCompId.has(c.id)){const h=ue(c.id,c.styles,[]);this.sharedStylesHost.addStyles(h),this.rendererByCompId.set(c.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Qe),e.LFG(je),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ee{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?document.createElementNS(gt[t]||t,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,t){i.appendChild(t)}insertBefore(i,t,c){i&&i.insertBefore(t,c)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let c="string"==typeof i?document.querySelector(i):i;if(!c)throw new Error(`The selector "${i}" did not match any elements`);return t||(c.textContent=""),c}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,c,h){if(h){t=h+":"+t;const _=gt[h];_?i.setAttributeNS(_,t,c):i.setAttribute(t,c)}else i.setAttribute(t,c)}removeAttribute(i,t,c){if(c){const h=gt[c];h?i.removeAttributeNS(h,t):i.removeAttribute(`${c}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,c,h){h&(e.JOm.DashCase|e.JOm.Important)?i.style.setProperty(t,c,h&e.JOm.Important?"important":""):i.style[t]=c}removeStyle(i,t,c){c&e.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,c){i[t]=c}setValue(i,t){i.nodeValue=t}listen(i,t,c){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,t,oe(c)):this.eventManager.addEventListener(i,t,oe(c))}}class An extends Ee{constructor(i,t,c,h){super(i),this.component=c;const _=ue(h+"-"+c.id,c.styles,[]);t.addStyles(_),this.contentAttr=function Je(r){return"_ngcontent-%COMP%".replace($e,r)}(h+"-"+c.id),this.hostAttr=function _e(r){return"_nghost-%COMP%".replace($e,r)}(h+"-"+c.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,t){const c=super.createElement(i,t);return super.setAttribute(c,this.contentAttr,""),c}}class Nt extends Ee{constructor(i,t,c,h){super(i),this.sharedStylesHost=t,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=ue(h.id,h.styles,[]);for(let I=0;I<_.length;I++){const q=document.createElement("style");q.textContent=_[I],this.shadowRoot.appendChild(q)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,c){return super.insertBefore(this.nodeOrShadowRoot(i),t,c)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Et=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,c,h){return t.addEventListener(c,h,!1),()=>this.removeEventListener(t,c,h)}removeEventListener(t,c,h){return t.removeEventListener(c,h)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Zt=["alt","control","meta","shift"],or={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Er={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let yr=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,c,h){const _=r.parseEventName(c),I=r.eventCallback(_.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(t,_.domEventName,I))}static parseEventName(t){const c=t.toLowerCase().split("."),h=c.shift();if(0===c.length||"keydown"!==h&&"keyup"!==h)return null;const _=r._normalizeKey(c.pop());let I="";if(Zt.forEach(te=>{const we=c.indexOf(te);we>-1&&(c.splice(we,1),I+=te+".")}),I+=_,0!=c.length||0===_.length)return null;const q={};return q.domEventName=h,q.fullKey=I,q}static getEventFullKey(t){let c="",h=function _r(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&$n.hasOwnProperty(i)&&(i=$n[i]))}return or[i]||i}(t);return h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),Zt.forEach(_=>{_!=h&&Er[_](t)&&(c+=_+".")}),c+=h,c}static eventCallback(t,c,h){return _=>{r.getEventFullKey(_)===t&&h.runGuarded(()=>c(_))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Ti=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:p.bD},{provide:e.g9A,useValue:function ii(){N.makeCurrent(),pe.init()},multi:!0},{provide:p.K0,useFactory:function Vr(){return(0,e.RDi)(document),document},deps:[]}]),Jr=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function xr(){return new e.qLn},deps:[]},{provide:tt,useClass:Et,multi:!0,deps:[p.K0,e.R0b,e.Lbi]},{provide:tt,useClass:yr,multi:!0,deps:[p.K0]},{provide:qe,useClass:qe,deps:[Qe,je,e.AFp]},{provide:e.FYo,useExisting:qe},{provide:ve,useExisting:je},{provide:je,useClass:je,deps:[p.K0]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b]},{provide:Qe,useClass:Qe,deps:[tt,e.R0b]},{provide:p.JF,useClass:dt,deps:[]}];let qr=(()=>{class r{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:ne,useExisting:e.AFp},re]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:Jr,imports:[p.ez,e.hGG]}),r})();"undefined"!=typeof window&&window;let be=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new(t||r):e.LFG(Ye),c},providedIn:"root"}),r})(),Ye=(()=>{class r extends be{constructor(t){super(),this._doc=t}sanitize(t,c){if(null==c)return null;switch(t){case e.q3G.NONE:return c;case e.q3G.HTML:return(0,e.qzn)(c,"HTML")?(0,e.z3N)(c):(0,e.EiD)(this._doc,String(c)).toString();case e.q3G.STYLE:return(0,e.qzn)(c,"Style")?(0,e.z3N)(c):c;case e.q3G.SCRIPT:if((0,e.qzn)(c,"Script"))return(0,e.z3N)(c);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.yhl)(c),(0,e.qzn)(c,"URL")?(0,e.z3N)(c):(0,e.mCW)(String(c));case e.q3G.RESOURCE_URL:if((0,e.qzn)(c,"ResourceURL"))return(0,e.z3N)(c);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new t:function ut(r){return new Ye(r.get(p.K0))}(e.LFG(e.zs3)),c},providedIn:"root"}),r})();x(8955);var qn=x(8996),sr=x(8306),ar=x(4742),cr=x(8421),Tn=x(3269),Pn=x(5403),Sn=x(3268),nt=x(1810);function Ct(...r){const i=(0,Tn.jO)(r),{args:t,keys:c}=(0,ar.D)(r),h=new sr.y(_=>{const{length:I}=t;if(!I)return void _.complete();const q=new Array(I);let te=I,we=I;for(let ot=0;ot<I;ot++){let Bt=!1;(0,cr.Xf)(t[ot]).subscribe((0,Pn.x)(_,Ht=>{Bt||(Bt=!0,we--),q[ot]=Ht},()=>te--,void 0,()=>{(!te||!Bt)&&(we||_.next(c?(0,nt.n)(c,q):q),_.complete())}))}});return i?h.pipe((0,Sn.Z)(i)):h}var cn=x(4004);let er=(()=>{class r{constructor(t,c){this._renderer=t,this._elementRef=c,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(t,c){this._renderer.setProperty(this._elementRef.nativeElement,t,c)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),gr=(()=>{class r extends er{}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const Qt=new e.OlP("NgValueAccessor"),sn={provide:Qt,useExisting:(0,e.Gpc)(()=>rt),multi:!0};let rt=(()=>{class r extends gr{writeValue(t){this.setProperty("checked",t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.checked)})("blur",function(){return c.onTouched()})},features:[e._Bn([sn]),e.qOj]}),r})();const Rt={provide:Qt,useExisting:(0,e.Gpc)(()=>mn),multi:!0},xn=new e.OlP("CompositionEventMode");let mn=(()=>{class r extends er{constructor(t,c,h){super(t,c),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gn(){const r=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(xn,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c._handleInput(_.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(_){return c._compositionEnd(_.target.value)})},features:[e._Bn([Rt]),e.qOj]}),r})();const pn=new e.OlP("NgValidators"),Gn=new e.OlP("NgAsyncValidators");function ze(r){return null}function bt(r){return null!=r}function Vt(r){const i=(0,e.QGY)(r)?(0,qn.D)(r):r;return(0,e.CqO)(i),i}function $t(r){let i={};return r.forEach(t=>{i=null!=t?Object.assign(Object.assign({},i),t):i}),0===Object.keys(i).length?null:i}function bn(r,i){return i.map(t=>t(r))}function jr(r){return r.map(i=>function Dr(r){return!r.validate}(i)?i:t=>i.validate(t))}function vi(r){return null!=r?function Ir(r){if(!r)return null;const i=r.filter(bt);return 0==i.length?null:function(t){return $t(bn(t,i))}}(jr(r)):null}function ji(r){return null!=r?function Ro(r){if(!r)return null;const i=r.filter(bt);return 0==i.length?null:function(t){return Ct(bn(t,i).map(Vt)).pipe((0,cn.U)($t))}}(jr(r)):null}function To(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function ss(r){return r?Array.isArray(r)?r:[r]:[]}function to(r,i){return Array.isArray(r)?r.includes(i):r===i}function Jo(r,i){const t=ss(i);return ss(r).forEach(h=>{to(t,h)||t.push(h)}),t}function as(r,i){return ss(i).filter(t=>!to(r,t))}class Fi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=vi(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=ji(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class no extends Fi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Hi extends Fi{get formDirective(){return null}get path(){return null}}let Si=(()=>{class r extends class Co{constructor(i){this._cd=i}is(i){var t,c,h;return"submitted"===i?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(h=null===(c=this._cd)||void 0===c?void 0:c.control)||void 0===h?void 0:h[i])}}{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(no,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,c){2&t&&e.ekj("ng-untouched",c.is("untouched"))("ng-touched",c.is("touched"))("ng-pristine",c.is("pristine"))("ng-dirty",c.is("dirty"))("ng-valid",c.is("valid"))("ng-invalid",c.is("invalid"))("ng-pending",c.is("pending"))},features:[e.qOj]}),r})();function St(r,i){(function Fn(r,i){const t=function Li(r){return r._rawValidators}(r);null!==i.validator?r.setValidators(To(t,i.validator)):"function"==typeof t&&r.setValidators([t]);const c=function Es(r){return r._rawAsyncValidators}(r);null!==i.asyncValidator?r.setAsyncValidators(To(c,i.asyncValidator)):"function"==typeof c&&r.setAsyncValidators([c]);const h=()=>r.updateValueAndValidity();In(i._rawValidators,h),In(i._rawAsyncValidators,h)})(r,i),i.valueAccessor.writeValue(r.value),function Nr(r,i){i.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Ki(r,i)})}(r,i),function Go(r,i){const t=(c,h)=>{i.valueAccessor.writeValue(c),h&&i.viewToModelUpdate(c)};r.registerOnChange(t),i._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,i),function ti(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Ki(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function Mn(r,i){if(i.valueAccessor.setDisabledState){const t=c=>{i.valueAccessor.setDisabledState(c)};r.registerOnDisabledChange(t),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,i)}function In(r,i){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function Ki(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Br(r,i){const t=r.indexOf(i);t>-1&&r.splice(t,1)}const xi="VALID",ai="INVALID",ci="PENDING",ko="DISABLED";function fr(r){return(ws(r)?r.validators:r)||null}function Rs(r){return Array.isArray(r)?vi(r):r||null}function jo(r,i){return(ws(i)?i.asyncValidators:r)||null}function ls(r){return Array.isArray(r)?ji(r):r||null}function ws(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}const Xa=r=>r instanceof qs;function en(r){return(r=>r instanceof ll)(r)?r.value:r.getRawValue()}function dr(r,i){const t=Xa(r),c=r.controls;if(!(t?Object.keys(c):c).length)throw new e.vHH(1e3,"");if(!c[i])throw new e.vHH(1001,"")}function Oa(r,i){Xa(r),r._forEachChild((c,h)=>{if(void 0===i[h])throw new e.vHH(1002,"")})}class Mi{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=t,this._composedValidatorFn=Rs(this._rawValidators),this._composedAsyncValidatorFn=ls(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===xi}get invalid(){return this.status===ai}get pending(){return this.status==ci}get disabled(){return this.status===ko}get enabled(){return this.status!==ko}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Rs(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=ls(i)}addValidators(i){this.setValidators(Jo(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Jo(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(as(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(as(i,this._rawAsyncValidators))}hasValidator(i){return to(this._rawValidators,i)}hasAsyncValidator(i){return to(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=ci,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=ko,this.errors=null,this._forEachChild(c=>{c.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=xi,this._forEachChild(c=>{c.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xi||this.status===ci)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ko:xi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=ci,this._hasOwnPendingAsyncValidator=!0;const t=Vt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(c=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(c,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){return function Vo(r,i,t){if(null==i||(Array.isArray(i)||(i=i.split(t)),Array.isArray(i)&&0===i.length))return null;let c=r;return i.forEach(h=>{c=Xa(c)?c.controls.hasOwnProperty(h)?c.controls[h]:null:(r=>r instanceof oa)(c)&&c.at(h)||null}),c}(this,i,".")}getError(i,t){const c=t?this.get(t):this;return c&&c.errors?c.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ko:this.errors?ai:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ci)?ci:this._anyControlsHaveStatus(ai)?ai:xi}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){ws(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class ll extends Mi{constructor(i=null,t,c){super(fr(t),jo(c,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),ws(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(c=>c(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Br(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Br(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class qs extends Mi{constructor(i,t,c){super(fr(t),jo(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,c={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){Oa(this,i),Object.keys(i).forEach(c=>{dr(this,c),this.controls[c].setValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(c=>{this.controls[c]&&this.controls[c].patchValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,c)=>(i[c]=en(t),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,c)=>!!c._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const c=this.controls[t];c&&i(c,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const t of Object.keys(this.controls)){const c=this.controls[t];if(this.contains(t)&&i(c))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,t,c)=>((t.enabled||this.disabled)&&(i[c]=t.value),i))}_reduceChildren(i,t){let c=i;return this._forEachChild((h,_)=>{c=t(c,h,_)}),c}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class oa extends Mi{constructor(i,t,c){super(fr(t),jo(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,c={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:c.emitEvent})}removeAt(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){Oa(this,i),i.forEach((c,h)=>{dr(this,h),this.at(h).setValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((c,h)=>{this.at(h)&&this.at(h).patchValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>en(i))}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((t,c)=>!!c._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,c)=>{i(t,c)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const Xo={provide:no,useExisting:(0,e.Gpc)(()=>Qi)},Vc=(()=>Promise.resolve(null))();let Qi=(()=>{class r extends no{constructor(t,c,h,_,I){super(),this._changeDetectorRef=I,this.control=new ll,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(c),this._setAsyncValidators(h),this.valueAccessor=function si(r,i){if(!i)return null;let t,c,h;return Array.isArray(i),i.forEach(_=>{_.constructor===mn?t=_:function zt(r){return Object.getPrototypeOf(r.constructor)===gr}(_)?c=_:h=_}),h||c||t||null}(0,_)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const c=t.name.previousValue;this.formDirective.removeControl({name:c,path:this._getPath(c)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Mt(r,i){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){St(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Vc.then(()=>{var c;this.control.setValue(t,{emitViewToModelChange:!1}),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_updateDisabled(t){const c=t.isDisabled.currentValue,h=""===c||c&&"false"!==c;Vc.then(()=>{var _;h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()})}_getPath(t){return this._parent?function Ze(r,i){return[...i.path,r]}(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Hi,9),e.Y36(pn,10),e.Y36(Gn,10),e.Y36(Qt,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Xo]),e.qOj,e.TTD]}),r})();const va={provide:Qt,useExisting:(0,e.Gpc)(()=>sa),multi:!0};let sa=(()=>{class r extends gr{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=c=>{t(""==c?null:parseFloat(c))}}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},features:[e._Bn([va]),e.qOj]}),r})(),zs=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const Hc={provide:Qt,useExisting:(0,e.Gpc)(()=>Ta),multi:!0};function lo(r,i){return null==r?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let Ta=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const h=lo(this._getOptionId(t),t);this.setProperty("value",h)}registerOnChange(t){this.onChange=c=>{this.value=this._getOptionValue(c),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c),t))return c;return null}_getOptionValue(t){const c=function ed(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Hc]),e.qOj]}),r})(),Ks=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(lo(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Ta,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Js={provide:Qt,useExisting:(0,e.Gpc)(()=>es),multi:!0};function ui(r,i){return null==r?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let es=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let c;if(this.value=t,Array.isArray(t)){const h=t.map(_=>this._getOptionId(_));c=(_,I)=>{_._setSelected(h.indexOf(I.toString())>-1)}}else c=(h,_)=>{h._setSelected(!1)};this._optionMap.forEach(c)}registerOnChange(t){this.onChange=c=>{const h=[],_=c.selectedOptions;if(void 0!==_){const I=_;for(let q=0;q<I.length;q++){const we=this._getOptionValue(I[q].value);h.push(we)}}else{const I=c.options;for(let q=0;q<I.length;q++){const te=I[q];if(te.selected){const we=this._getOptionValue(te.value);h.push(we)}}}this.value=h,t(h)}}_registerOption(t){const c=(this._idCounter++).toString();return this._optionMap.set(c,t),c}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c)._value,t))return c;return null}_getOptionValue(t){const c=function nc(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c)._value:t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Js]),e.qOj]}),r})(),Ba=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ui(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ui(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(es,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();let ts=(()=>{class r{constructor(){this._validator=ze}ngOnChanges(t){if(this.inputName in t){const c=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(c),this._validator=this._enabled?this.createValidator(c):ze,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,features:[e.TTD]}),r})();const Ii={provide:pn,useExisting:(0,e.Gpc)(()=>yi),multi:!0};let yi=(()=>{class r extends ts{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function rc(r){return"number"==typeof r?r:parseInt(r,10)}(t),this.createValidator=t=>function Yr(r){return i=>function rr(r){return null!=r&&"number"==typeof r.length}(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,c){2&t&&e.uIk("maxlength",c._enabled?c.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Ii]),e.qOj]}),r})(),P=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[zs]]}),r})(),D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[P]}),r})(),Ot=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var Oi,Cn=x(8686),On=x(3701),jt=x(4041),Kn=x(3104),Tr=x(635),Ei=x(6082),Xr=x(7579),wr=x(8505),pi=x(9646),ds=new Uint8Array(16);function Xd(){if(!Oi&&!(Oi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Oi(ds)}const Xi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,hs=function ml(r){return"string"==typeof r&&Xi.test(r)};for(var Gr=[],Ho=0;Ho<256;++Ho)Gr.push((Ho+256).toString(16).substr(1));const sc=function Ls(r,i,t){var c=(r=r||{}).random||(r.rng||Xd)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,i){t=t||0;for(var h=0;h<16;++h)i[t+h]=c[h];return i}return function bu(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(Gr[r[i+0]]+Gr[r[i+1]]+Gr[r[i+2]]+Gr[r[i+3]]+"-"+Gr[r[i+4]]+Gr[r[i+5]]+"-"+Gr[r[i+6]]+Gr[r[i+7]]+"-"+Gr[r[i+8]]+Gr[r[i+9]]+"-"+Gr[r[i+10]]+Gr[r[i+11]]+Gr[r[i+12]]+Gr[r[i+13]]+Gr[r[i+14]]+Gr[r[i+15]]).toLowerCase();if(!hs(t))throw TypeError("Stringified UUID is invalid");return t}(c)},ac=[{productBarcode:"8480000136343",updateDate:1649525102028,id:"yTedpnDD2O8sBPZwSK3U",shopId:"mercadona",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904},price:3.5},{id:"602smPkf29S2QFB7XMsD",price:4.89,shopId:"mercadona",productBarcode:"7613036862295",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},updateDate:1649525061319},{updateDate:1649525021629,price:2.15,id:"WlA822FqYmbsdK0UGl6Y",shopId:"mercadona",productBarcode:"8480000049056",createdBy:{lastLogin:1649187527904,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{productBarcode:"8480000163141",updateDate:1649524995119,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},id:"YdlJM0dJ5oeNYB1XVEfI",price:1.25,shopId:"mercadona"},{id:"a0JHdq2rUBTp9t1h3LMP",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com"},shopId:"mercadona",price:2.75,productBarcode:"8480000644916",updateDate:1649524928832},{shopId:"ametller",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0},price:1.39,updateDate:1649443336162,productBarcode:"8436554520985",id:"ftpgydKRipdueQnPpg5E"},{price:4.29,createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0},updateDate:1649443254744,id:"BwhIKICv0Jk5eFscKgUt",shopId:"ametller",productBarcode:"8436551862040"},{productBarcode:"8436583954577",id:"1juMRrbdbfFKtl4dDFsQ",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,username:"Joan Llori\xe0"},shopId:"ametller",updateDate:1649443221984,price:2.19},{shopId:"ametller",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904},price:.99,productBarcode:"8437011969439",updateDate:1649443161878,id:"iJqpRlCkh57jnAevi2ju"},{updateDate:1649394034715,productBarcode:"8412480245307",price:3.69,createdBy:{lastLogin:1649187527904,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com"},id:"jz4gnUQ0MPbIcD3zQ3Xu",shopId:"ametller"},{price:3.49,updateDate:1649394005242,productBarcode:"8436551861951",createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0,email:"joanlloria@gmail.com"},id:"9KPYWVyqeyOgHbvZuoKV",shopId:"ametller"},{price:2.99,createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0},id:"pc2J6SuGJcNNMc2DHqb1",productBarcode:"8421660006010",updateDate:1649393984630,shopId:"ametller"},{shopId:"ametller",updateDate:1649393940747,id:"e3ye1ns3IqQ7KLySvXeW",price:1.09,productBarcode:"8436551865355",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{updateDate:1649162654256,productBarcode:"5050083560262",price:3.55,shopId:"carrefour",createdBy:{lastLogin:1648889388379,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},id:"hDK5SFlMbMZegFDt87nj"},{shopId:"carrefour",price:2.45,createdBy:{admin:!0,lastLogin:1648889388379,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},productBarcode:"8431707094290",updateDate:1649162626090,id:"s6yCDWr0rkqRS04ZgE6f"},{createdBy:{email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379},price:1.43,id:"cH62hgvVWjJQFx9NDbgZ",updateDate:1649162593179,shopId:"carrefour",productBarcode:"7613035314016"},{createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379,admin:!0},shopId:"carrefour",productBarcode:"8410055501131",updateDate:1649162564145,id:"A4M2NAWaWTLVnabXx3HH",price:1.53},{id:"qiwOo0zSVhq5SvAKuDQ9",updateDate:1649099098759,productBarcode:"8436551865355",price:1.09,createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},shopId:"ametller"},{productBarcode:"8436551864709",updateDate:1649099077361,price:4.99,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"vWH1tGNyO16kS4ZHPgJ1"},{updateDate:1649099052678,id:"KPuoy0bX1yOVEet8z8Mg",shopId:"ametller",productBarcode:"8436554529629",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,lastLogin:1648889388379},price:5.79},{updateDate:1649099020087,id:"wFjvmFJyP6Md3gmaUY9b",price:2.19,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"},productBarcode:"8413475312615"},{id:"hpRuqPSjOfNvBNzipfS7",createdBy:{lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:2.69,updateDate:1649098993302,productBarcode:"8421660006010",shopId:"ametller"},{productBarcode:"8436551861951",id:"j0NsoodQy2Vb1IMd1okA",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0},shopId:"ametller",updateDate:1649098960998,price:3.49},{updateDate:1649098912031,price:1.49,createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"Gufa8XRwRND525GcEtn0",shopId:"ametller",productBarcode:"8436551867502"},{productBarcode:"8436583954577",updateDate:1648885577543,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",lastLogin:1648740479491,admin:!0},price:2.19,id:"8jThMVeEIflQbGZF9wr5"},{price:2.19,id:"S3TZPsq38o9g4LpELCfh",createdBy:{username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885533910,shopId:"ametller",productBarcode:"8413475312615"},{createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648740479491},id:"DwlO6GL6lL5itNlLolwF",shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1648885489976},{createdBy:{admin:!0,lastLogin:1648740479491,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885463368,price:1.09,shopId:"ametller",productBarcode:"8436551865355",id:"4qszEZQ89bpNTHd1CPbe"},{productBarcode:"8436554520985",updateDate:1648885443017,price:1.39,shopId:"ametller",id:"JqerXtq6dRvQ0BRbXJTm",createdBy:{email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{id:"xF43k9NANcaIsFLBAx1u",price:1.39,updateDate:1648885413130,shopId:"ametller",productBarcode:"8436554520992",createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,lastLogin:1648740479491}},{shopId:"carrefour",price:2.45,productBarcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648740479491,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648840758092,id:"ADP6a8RxZ9dLshcs18Ev"},{createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},productBarcode:"8431707094290",price:2.45,updateDate:1648840707062,id:"x3MuOSHybJKHvoLkbjLc",shopId:"carrefour"},{shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,lastLogin:1648740479491},price:1.39,productBarcode:"3560071048341",id:"3BIxaJNrT8RgTDEnCQwi",updateDate:1648840676820},{id:"2KFNfE6hz0GRzStLLmJs",updateDate:1648840615431,shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,username:"Joan Llori\xe0"},price:1.51,productBarcode:"3045320052244"},{createdBy:{admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},price:3.39,productBarcode:"8718951388826",updateDate:1648644547478,shopId:"bonpreu",id:"psRiojmRasFmyfeUTNPK"},{id:"fVlQBhiO5jn3VsBlI1rd",updateDate:1648644448599,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:1.69,shopId:"bonpreu",productBarcode:"5410126716016"},{productBarcode:"4008400203829",createdBy:{admin:!0,lastLogin:1648551165934,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},shopId:"bonpreu",price:1.99,id:"crnggBBMaLF9BzHyQaJc",updateDate:1648644422922},{productBarcode:"8431707094290",price:2.29,updateDate:1648644396292,shopId:"bonpreu",id:"S2IsVKVLDR1UMi5STc9m",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648551165934,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,email:"joanlloria@gmail.com",admin:!0},price:1.55,id:"qP6xF0cLDy9MmOB3kRIG",shopId:"bonpreu",updateDate:1648644364274,productBarcode:"8414516082313"},{updateDate:1648579007042,productBarcode:"8436554523979",price:1.99,id:"ukxHmyxg65BYShC1twoc",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com"},shopId:"ametller"},{shopId:"ametller",createdBy:{lastLogin:1648551165934,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436583950440",price:1.99,updateDate:1648578928773,id:"hJBDYoK3GpQnAixKBJvZ"},{price:3.49,id:"HNhRtuJV1nlJbXzEJiRK",shopId:"ametller",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648551165934,email:"joanlloria@gmail.com"},productBarcode:"8436551861951",updateDate:1648578873705},{shopId:"ametller",productBarcode:"8436583954577",id:"qysur0oB7OEpKbQne6ba",updateDate:1648578846218,price:2.19,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0",admin:!0}},{id:"Lw7yoGjjZ7ufGASgs9mm",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},shopId:"ametller",productBarcode:"8436540566942",updateDate:1648460729550,price:1.99},{shopId:"ametller",id:"jL1o5c0k3fOTpF6NB6oQ",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},updateDate:1648460651689,productBarcode:"8436551864709",price:4.99},{createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"w8tSJH2fSyDDBUDzLGOy",productBarcode:"8436554529629",price:5.79,shopId:"ametller",updateDate:1648460619918},{price:1.29,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804},shopId:"ametller",productBarcode:"8436583952054",updateDate:1648460581682,id:"QsyRdZwGQ1UQ0ARa27nT"},{id:"knlBdKG5QS5AHqsiRtwK",updateDate:1648460520247,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436551861951",price:3.49,shopId:"ametller"},{shopId:"ametller",price:3.89,productBarcode:"8436551862880",updateDate:1648041984132,id:"9H4mrFcxHosM1fn2MPk6"},{updateDate:1648041964676,shopId:"ametller",price:4.99,productBarcode:"8436551864709",id:"1oDN2rZCcA3GVAmXGm5w"},{updateDate:1648041940941,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"h5TBADuIrerldKiWYwXZ"},{shopId:"ametller",price:2.19,productBarcode:"8436583954577",updateDate:1648041898298,id:"myStqGeGG00zwWUHEDHi"},{updateDate:1647961453747,price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",id:"ItWZST2zFIdX8NPBrLZt"},{shopId:"bonpreu",updateDate:1647961415096,productBarcode:"8431707094290",price:2.29,id:"FiZC9HEGC9lxj5JqhXbl"},{price:2.65,updateDate:1647961386453,shopId:"bonpreu",productBarcode:"8411135005037",id:"ddH84u3FlrQhQbF83ajS"},{productBarcode:"8422410040872",updateDate:1647961357748,shopId:"bonpreu",price:3.15,id:"wTUPPUPtRMcOa1c7AqND"},{price:1.99,productBarcode:"4008400203829",updateDate:1647961332394,shopId:"bonpreu",id:"UQLlkfbZZG1puLmjd31X"},{updateDate:1647961299091,price:.79,productBarcode:"8422410473878",shopId:"bonpreu",id:"knPA6RUoXMI7Hyyw8sHf"},{updateDate:1647961197826,shopId:"bonpreu",productBarcode:"3574661648019",price:5,id:"W36wbh6PkCgembLHZLDw"},{price:1.25,shopId:"bonpreu",productBarcode:"8410505512267",updateDate:1647547513223,id:"kCX7yTcHeh28hlvwT4Du"},{updateDate:1647547483555,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"pX5OxugSJV08VN6IQnEp"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1647547448250,id:"tZOmOTffTGahd88bxg9i"},{price:4.29,productBarcode:"8436551862040",updateDate:1647449138590,shopId:"ametller",id:"2QetLyJ3AM6Ut9RPdpTm"},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,id:"potwYzxaZV4tylvCRJGG"},{updateDate:1647449093641,shopId:"ametller",price:5.79,productBarcode:"8436554529629",id:"BD17DCs2z32BXJYZdQeD"},{updateDate:1647449073312,productBarcode:"8436540566942",shopId:"ametller",price:1.99,id:"ARIKQ71vQwU1uvUijb2m"},{shopId:"ametller",price:1.09,updateDate:1647449047440,productBarcode:"8436551865355",id:"Xe6NimlR5A1104gjPDXk"},{shopId:"bonpreu",price:2.99,productBarcode:"5029053036151",updateDate:1647365959812,id:"V932wV4BbRvh8IFJ146M"},{shopId:"bonpreu",price:4.89,productBarcode:"7613035260924",updateDate:1647365744646,id:"j8rxgz4owazMMMgK3CzF"},{productBarcode:"8431707094290",price:2.29,updateDate:1647365593154,shopId:"bonpreu",id:"kREXYcgP8CdjSSvQRsOL"},{price:1.19,updateDate:1647365517833,productBarcode:"8410135001322",shopId:"bonpreu",id:"CNKGzBzWeirP7M6Md8Wa"},{shopId:"bonpreu",productBarcode:"8410184800150",price:1.1,updateDate:1647365491009,id:"2jPSBJKLJ4xvf8MJYVdb"},{productBarcode:"5410126716016",updateDate:1647365453382,shopId:"bonpreu",price:1.73,id:"yarXNS6SQXbBo897QJGH"},{updateDate:1647365405368,price:.99,productBarcode:"8410184013086",shopId:"bonpreu",id:"jhxauesGgQ9AFPFdpUKJ"},{price:4.99,shopId:"ametller",productBarcode:"8436551864709",updateDate:1647288183532,id:"XcWmacikAoTRnE84e3eB"},{updateDate:1647288160477,productBarcode:"8436551861951",shopId:"ametller",price:3.49,id:"FCqAnNno6XfjnY0WTFZA"},{updateDate:1647288114011,productBarcode:"8436583954577",shopId:"ametller",price:2.19,id:"oyHFXKwoIAwwHPhniPxU"},{price:1.99,updateDate:1647288063635,productBarcode:"8436554523979",shopId:"ametller",id:"kxhrqdtb7OPZLoL9USF9"},{price:1.49,productBarcode:"8436551867502",updateDate:1647009885888,shopId:"ametller",id:"zGG5dh4WKcVEiKQMPxbq"},{shopId:"ametller",productBarcode:"8436583950449",updateDate:1647009840835,price:1.99,id:"iZpylr9gNMD660rkjqKB"},{updateDate:1647009813003,price:5.99,shopId:"ametller",productBarcode:"8436551860251",id:"v8XOk83kLKMtSEm89kd8"},{productBarcode:"8436583954577",price:2.19,shopId:"ametller",updateDate:1647009785979,id:"vTbMz59gclUr1NC8Hvrb"},{updateDate:1647009736789,shopId:"ametller",productBarcode:"8437011969217",price:1.79,id:"Ie2aG836OKVx6LNBMPwv"},{shopId:"ametller",price:6.49,updateDate:1647009673830,productBarcode:"8436583957110",id:"kV1dshwwna3WGT2igmd6"},{price:6.49,updateDate:1647009576298,productBarcode:"8436583957134",shopId:"ametller",id:"xC8ip2VlIPU9XMVwkNZY"},{price:2.69,shopId:"ametller",updateDate:1647009535063,productBarcode:"8421660006010",id:"JFvXfMu9K4qb0DYQoxaN"},{updateDate:1647009507902,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"ZuRvNxAulB11kESgkegF"},{shopId:"carrefour",updateDate:1647001030237,price:1.86,productBarcode:"8076802085981",id:"TYxP9sRUsGaPYCvKc61B"},{productBarcode:"8076808060654",updateDate:1647000997394,price:1.86,shopId:"carrefour",id:"otLTGyKhgvQnM817hWka"},{price:2.1,updateDate:1647000971290,productBarcode:"8410128160074",shopId:"carrefour",id:"jGVzDGSWsPJO8b8aV2di"},{shopId:"carrefour",price:1.51,productBarcode:"3045320052244",updateDate:1647000949431,id:"w2rJdYlzpegbeJ3APgOp"},{updateDate:1647000913572,price:1.49,shopId:"carrefour",productBarcode:"3560070119851",id:"E8RCfIkhUgDH71jDBGqX"},{productBarcode:"8431707094290",shopId:"carrefour",price:2.26,updateDate:1646942628295,id:"0ZbbmT7bjsFGWiTJw4U7"},{price:2.2,shopId:"carrefour",updateDate:1646942603389,productBarcode:"3560070347438",id:"Cf8K9uh0M2s8fcTqZ0Ja"},{shopId:"carrefour",productBarcode:"8436033878095",price:1,updateDate:1646942576971,id:"Of19VXA0MuIuWXm4x8yG"},{price:1.51,shopId:"carrefour",updateDate:1646942537870,productBarcode:"3045320052244",id:"D8iM9JSvkKxocBY0Yhvi"},{productBarcode:"8431876005912",price:1.08,updateDate:1646942494815,shopId:"carrefour",id:"8MiVzzxBg2ZtVAeO6U9c"},{updateDate:1646930250559,price:2.2,productBarcode:"8480000180926",shopId:"mercadona",id:"eTlRhJjfIzbWJ0HDZ3Md"},{shopId:"mercadona",price:3.3,updateDate:1646930214883,productBarcode:"8480000136343",id:"vBK7B8RI6jW2M8DcIIP9"},{updateDate:1646930191204,productBarcode:"8410086000856",price:1.2,shopId:"mercadona",id:"sFvga218at9GpgWtWMH4"},{updateDate:1646930166623,price:1.25,shopId:"mercadona",productBarcode:"8480000163141",id:"wdbjpAXq7VNvNZ6bYApE"},{updateDate:1646930137722,price:1.95,shopId:"mercadona",productBarcode:"8480000581518",id:"HFHiF3J0qNq2940uCeMG"},{productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,price:2.65,id:"R61OmmkslEVXG73UOCB6"},{updateDate:1646930032462,productBarcode:"8480000610652",shopId:"mercadona",price:1.5,id:"CVyzu83FBt7rT80weApz"},{updateDate:1646929997724,productBarcode:"8420309210115",price:3.25,shopId:"mercadona",id:"qxn8KCzTB0wLzGrkGrFS"},{price:.9,shopId:"mercadona",updateDate:1646929946281,productBarcode:"8410148509327",id:"DQFx9W47a54rgao9Yzoh"},{updateDate:1646872443076,price:1.59,shopId:"dia",productBarcode:"80177616",id:"etvacdRcZ9u8rPOGyNoW"},{price:1.27,shopId:"dia",updateDate:1646856265172,productBarcode:"8480017574657",id:"pcMsPJRXcEgYR3sNN5qq"},{productBarcode:"8410448000913",price:2.89,shopId:"dia",updateDate:1646856219361,id:"WV4wezy7s5GIZRQdkygR"},{shopId:"dia",updateDate:1646856083841,price:4.95,productBarcode:"7613035260924",id:"MJhrODnuLMkRgRFhQcOH"},{price:4.89,productBarcode:"5054563099082",updateDate:1646856003573,shopId:"dia",id:"qsDRnBrSMhoLMiZk0kRA"},{shopId:"bonpreu",updateDate:1646486309719,price:4.09,productBarcode:"8714100635650",id:"Pd0a9ncegiMopagtQzuc"},{price:1.19,productBarcode:"8410135001322",updateDate:1646486174599,shopId:"bonpreu",id:"hPXf5GavsSqsBRxvZUFa"},{shopId:"bonpreu",productBarcode:"7613035260924",updateDate:1646486121079,price:4.89,id:"pCjJs2iWDFHVzrYekM63"},{productBarcode:"8436583954539",updateDate:1646415616777,shopId:"ametller",price:2.39,id:"V5kGdB1vz9zYszorXypV"},{productBarcode:"8413475312615",price:2.19,shopId:"ametller",updateDate:1646415576400,id:"bbjskJJH7O72xcVP70gZ"},{shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1646415548935,id:"GJlFgjWMvQIWQouKIwih"},{updateDate:1646335181459,productBarcode:"8436551864709",price:4.99,shopId:"ametller",id:"LBqsSVYb5huvb6SGWOPp"},{price:3.89,productBarcode:"8436551862880",updateDate:1646335153243,shopId:"ametller",id:"o9TXNVvedjbQn96O1QQw"},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846,id:"VgXFShnDQSdvqlSs7Skc"},{price:2.69,shopId:"ametller",productBarcode:"8421660006010",updateDate:1646335092609,id:"JzjtypjqkdZlNPAesUBP"},{productBarcode:"8436583954539",updateDate:1646335060270,price:2.39,shopId:"ametller",id:"MUEnqn7NerIS5eRHJHWQ"},{price:1.09,updateDate:1646335036086,shopId:"ametller",productBarcode:"8436551865355",id:"R5ZrwiV9EdORPR1pnYDw"},{productBarcode:"8410564002204",updateDate:1646250727985,shopId:"condis",price:1.25,id:"sGDZF3Cnugc5Ro6Pw65K"},{price:2.29,shopId:"condis",updateDate:1646250687325,productBarcode:"3073780902366",id:"8xHO6r91l7BPlGyAayHg"},{shopId:"condis",updateDate:1646250627653,productBarcode:"8431707094290",price:2.29,id:"dLgz0PQFavdQBlKnDCdc"},{updateDate:1646144325823,shopId:"bonpreu",price:.79,productBarcode:"8422410473878",id:"AJKNCmv7YodmSN0t09mA"},{updateDate:1646144272786,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"D8SovbXNYCBmJZzAWg95"},{updateDate:1646079281946,price:1.99,shopId:"ametller",productBarcode:"8435037550631",id:"NeCGh1CJkiAvpnDvCUaV"},{productBarcode:"8436583952054",updateDate:1646079230642,price:1.29,shopId:"ametller",id:"5Uw7MzY4gW8fyVxY7nx3"},{updateDate:1646079202513,price:3.89,shopId:"ametller",productBarcode:"8436551862880",id:"NiS5Ri3zzHprvJvztfvo"},{shopId:"ametller",updateDate:1646079180090,price:5.79,productBarcode:"8436554529629",id:"oJoPVLp0DYzeYV7oelyJ"},{updateDate:1646079152860,price:2.39,productBarcode:"8436583954539",shopId:"ametller",id:"8S0S2UwSmRyGollhLIlU"},{price:2.19,updateDate:1646071049954,shopId:"condis",productBarcode:"3269612045008",id:"jjyhx2Npd9EBzl004WVS"},{updateDate:1646071015575,shopId:"condis",price:2.59,productBarcode:"7613036569927",id:"rQmuOb4RPbsYEf7fPrKH"},{shopId:"condis",productBarcode:"8410022115255",updateDate:1645888125951,price:2.19,id:"uMJ8snfK4blFOT3NizDn"},{price:6.25,updateDate:1645888080319,productBarcode:"8410179012018",shopId:"condis",id:"tThN9M4JCgVMCXtBsSN2"},{price:1.52,updateDate:1645888034122,productBarcode:"8411002105006",shopId:"condis",id:"yUOJJXCWCZuC6y9N70tC"},{price:3.5,updateDate:1645887883610,productBarcode:"5054563101648",shopId:"condis",id:"N5O1c9DD8LqXekDWIdDM"},{updateDate:1645886201039,price:1.49,shopId:"condis",productBarcode:"8717700002402",id:"eZeckwHzsLrdGupK9GOx"},{shopId:"condis",productBarcode:"8431707094290",price:2.29,updateDate:1645886117451,id:"OiKkGlIYyWyDyjeJ0wv6"},{productBarcode:"8015100563067",price:1.91,updateDate:1645869460823,shopId:"carrefour",id:"Ca6otMJupmWkFeqXQvbw"},{price:3.15,productBarcode:"3560071152413",shopId:"carrefour",updateDate:1645869433791,id:"jVvPjWqRw03tKYJs7tWI"},{shopId:"carrefour",productBarcode:"5050083560262",price:3.39,updateDate:1645869280046,id:"Q1cwNx43wDQRaeri0wDj"},{shopId:"carrefour",productBarcode:"8006540576588",updateDate:1645869134793,price:2.95,id:"T7h77o0K3xaHLoLXBFSv"},{productBarcode:"5029053010052",shopId:"carrefour",updateDate:1645869027911,price:1.89,id:"f9yJjH9FTqqopOmHPdKd"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616",id:"zWtGO6dGSiUvV6hIdWow"},{productBarcode:"8436551864709",updateDate:1645798155513,shopId:"ametller",price:4.99,id:"ZkcjUtBIwLRJHUu5Vm5U"},{productBarcode:"8437011969217",price:1.79,updateDate:1645798113906,shopId:"ametller",id:"Unw54WfNBTofW6nIfUcn"},{shopId:"ametller",updateDate:1645798090805,productBarcode:"8436583955093",price:3.15,id:"LVIuWjHSMRf45MPYnJFn"},{price:1.99,productBarcode:"8436540566942",updateDate:1645653239642,shopId:"ametller",id:"Mpi3bszGgRU65dg4bBKc"},{price:1.09,updateDate:1645653185581,productBarcode:"8436551865355",shopId:"ametller",id:"L4EXzvLM8A7e8kG4FtRs"},{productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871,price:2.39,id:"knPLI6xxs0IDCaHKSyGB"},{price:1.99,shopId:"bonpreu",updateDate:1645552083100,productBarcode:"4008400203829",id:"QM5GgtVIUy51vbcMbIf9"},{productBarcode:"5410126716016",shopId:"bonpreu",price:1.69,updateDate:1645552048570,id:"jfnAmQnjB4zl3SunI0Sd"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1645552013320,id:"jKVkWotGzrKjxmvRwLNR"},{shopId:"bonpreu",productBarcode:"8414516070167",updateDate:1645551958078,price:1.45,id:"W2TFB9h710ZvxZT8a2ck"},{updateDate:1645551919468,shopId:"bonpreu",price:1.43,productBarcode:"8413100612639",id:"t85CQn37ZTGkZDg2g7ye"},{shopId:"bonpreu",price:1.99,productBarcode:"8422410387915",updateDate:1645551879354,id:"DWMRG0P9BqBVBhR4shsT"},{productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,updateDate:1645551832691,id:"ddM9TFLaPa7mQ1K0fKnd"},{shopId:"bonpreu",productBarcode:"3045206312257",price:2.15,updateDate:1645452864525,id:"LkOF7yaDBwQ9I3SA85NF"},{price:.99,productBarcode:"7613035268388",updateDate:1645452256976,shopId:"bonpreu",id:"2MyEe35UgvDXVfpE5jww"},{productBarcode:"8422410040872",updateDate:1645452194587,price:3.15,shopId:"bonpreu",id:"WlW5WEMc2j86uzxwjd2o"}];var Ui=x(1343),go=x(4120);let Qs=(()=>{class r{constructor(t,c,h,_){this.productService=t,this.shopService=c,this.firestoreService=h,this.loginService=_,this.shopsProducts=new Xr.x,this._shopsProducts=[],this.loaded=!1,this.shopsProducts.subscribe(I=>{this._shopsProducts=I,this.loaded=!0})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),Cn.q.dataSourceType===jt.z.FIRESTORE?this.firestoreService.getShopsProducts().pipe((0,wr.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=ac),this.shopsProducts.next(t)})):Cn.q.dataSourceType===jt.z.BASIC_DEFAULT?(0,pi.of)(ac).pipe((0,wr.b)(t=>{this.shopsProducts.next(t)})):Cn.q.dataSourceType===jt.z.MONGODB_LOCAL?(0,pi.of)([]).pipe((0,wr.b)(t=>{this.shopsProducts.next(t)})):void 0}addShopProduct(t){return t.id||(t.id=sc()),t.createdBy||(t.createdBy=this.loginService.getLoggedUser()),Cn.q.dataSourceType===jt.z.FIRESTORE?this.firestoreService.addShopProduct(t).pipe((0,wr.b)(()=>{this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts),(0,pi.of)(!0))}removeShopProduct(t){return console.log("ShopProductService.removeShopProduct()",t),Cn.q.dataSourceType===jt.z.FIRESTORE?this.firestoreService.deleteShopProduct(t).pipe((0,wr.b)(()=>{this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts),(0,pi.of)(!0))}removeShopShopProducts(t){console.log("ShopProductService.removeShopShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.shopId===t?c.push(_):h.push(_)}),Cn.q.dataSourceType===jt.z.FIRESTORE?this.firestoreService.deleteShopProducts(c).pipe((0,wr.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,pi.of)(!0))}removeProductShopProducts(t){console.log("ShopProductService.removeProductShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.productBarcode===t?c.push(_):h.push(_)}),Cn.q.dataSourceType===jt.z.FIRESTORE?this.firestoreService.deleteShopProducts(c).pipe((0,wr.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,pi.of)(!0))}getShopProductHistory(t){return this._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===t.shopId).sort((c,h)=>c.updateDate>h.updateDate?1:-1)}getShopProduct(t,c){const h=this._shopsProducts.filter(_=>_.productBarcode===c&&_.shopId===t).sort((_,I)=>_.updateDate<I.updateDate?1:-1);return(0,pi.of)(h.length>0?h[0]:void 0)}getShopProducts(t){const c=this._shopsProducts.filter(h=>h.shopId===t).map(h=>h.productBarcode);return(0,pi.of)(this.productService._products.filter(h=>c.indexOf(h.barcode)>-1))}getProductShops(t){const c=this._shopsProducts.filter(h=>h.productBarcode===t).map(h=>h.shopId);return(0,pi.of)(this.shopService._shops.filter(h=>c.indexOf(h.id)>-1))}getShopShopProducts(t){return(0,pi.of)(this._shopsProducts.filter(c=>c.shopId===t))}getProductShopProducts(t){return(0,pi.of)(this._shopsProducts.filter(c=>c.productBarcode===t))}getShopProductLast(t,c){const h=this._shopsProducts.filter(_=>_.shopId===t&&_.productBarcode===c).sort((_,I)=>_.updateDate<I.updateDate?1:-1);return h.length>0?h[0]:void 0}getProductCheaperShop(t){const c=[];if(!t)return[];if(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length)return;let h=[...c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price>q.price?1:-1)];const _=h[0].price;return h=h.filter(I=>I.price===_),h.map(I=>this.shopService._shops.find(q=>q.id===I.shopId))}getProductLowestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length))return;let h=[...c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price<q.price?1:-1)];return h[0].price<=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductHighestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{c.indexOf(I.shopId)<0&&c.push(I.shopId)}),0===c.length))return;let h=c.map(I=>this.getShopProductLast(I,t.barcode)).sort((I,q)=>I.price<q.price?1:-1);return h[0].price>=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductPriceRange(t,c){const h=[];this._shopsProducts.filter(I=>I.productBarcode===t.barcode).forEach(I=>{h.indexOf(I.shopId)<0&&h.push(I.shopId)});const _=h.map(I=>this.getShopProductLast(I,t.barcode).price);return _.sort((I,q)=>I<q?1:-1),{max:_[0],min:_[_.length-1]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ei.M),e.LFG(Tr.d),e.LFG(Ui.C),e.LFG(go.r))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Vn=(()=>{class r{constructor(t,c){this.productService=t,this.shopProductService=c,this.cart=new Xr.x,this.cartConfig=new Xr.x,this.cart.subscribe(h=>{var _;h&&(null===(_=h.productsBarcodesUnits)||void 0===_?void 0:_.length)>0?(this._cart=h,localStorage.setItem(On.M.PS_SHOPPING_CART,JSON.stringify(h))):(this._cart=void 0,localStorage.removeItem(On.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(On.M.PS_SHOPPING_CART);if(t){const c=JSON.parse(t);this.cart.next(c)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var c,h;(null===(h=null===(c=this._cart)||void 0===c?void 0:c.productsBarcodesUnits)||void 0===h?void 0:h.length)>0&&this._cart.productsBarcodesUnits.forEach(_=>{const I=t.find(te=>te.barcode===_.barcode);I||console.error("Undefined product");const q=this.shopProductService.getProductCheaperShop(I);if(q){const te=this.shopProductService.getProductLowestPrice(I),we=this.shopProductService.getProductHighestPrice(I);q.forEach(ot=>{const Bt=this._cartConfig.items.find(Yt=>{var rn;return(null===(rn=Yt.shop)||void 0===rn?void 0:rn.id)===(null==ot?void 0:ot.id)}),Ht={product:I,units:_.units,minPrice:te,maxPrice:we,checked:_.checked};Bt?Bt.productsUnits.push(Ht):this._cartConfig.items.push({shop:ot,productsUnits:[Ht]})})}else{const te=this._cartConfig.items.find(we=>!we.shop);te?te.productsUnits.push({product:I,units:_.units,checked:_.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:I,units:_.units,checked:_.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,c){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(h=>h.barcode===t.barcode).units=c,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(t){this._cart.productsBarcodesUnits.find(c=>c.barcode===t.product.barcode).checked=!t.checked,this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(c=>c.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(On.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let c=this._cart;if(c){const h=c.productsBarcodesUnits.find(_=>_.barcode===t.barcode);h?h.units++:c.productsBarcodesUnits.push({barcode:t.barcode,units:1,checked:!1})}else c={productsBarcodesUnits:[{barcode:t.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};c.updateDate=(new Date).getTime(),this.cart.next(c)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ei.M),e.LFG(Qs))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ua=x(1135),uo=x(9300),Ca=x(4482),Fs=x(5032);function wi(r){return(0,Ca.e)((i,t)=>{(0,cr.Xf)(r).subscribe((0,Pn.x)(t,()=>t.complete(),Fs.Z)),!t.closed&&i.subscribe(t)})}class Dc{}const Fo="*";function _l(r,i){return{type:7,name:r,definitions:i,options:{}}}function cc(r,i=null){return{type:4,styles:i,timings:r}}function Eo(r,i=null){return{type:2,steps:r,options:i}}function fs(r){return{type:6,styles:r,offset:null}}function Zc(r,i,t){return{type:0,name:r,styles:i,options:t}}function xs(r,i,t=null){return{type:1,expr:r,animation:i,options:t}}function Ni(r){Promise.resolve(null).then(r)}class wo{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Ni(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class yl{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,c=0,h=0;const _=this.players.length;0==_?Ni(()=>this._onFinish()):this.players.forEach(I=>{I.onDone(()=>{++t==_&&this._onFinish()}),I.onDestroy(()=>{++c==_&&this._onDestroy()}),I.onStart(()=>{++h==_&&this._onStart()})}),this.totalTime=this.players.reduce((I,q)=>Math.max(I,q.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(c=>{const h=c.totalTime?Math.min(1,t/c.totalTime):1;c.setPosition(h)})}getPosition(){const i=this.players.reduce((t,c)=>null===t||c.totalTime>t.totalTime?c:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}const id=["overlay"];function bl(r,i){1&r&&e._UZ(0,"div")}function uc(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,bl,1,0,"div",6),e.qZA()),2&r){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function ql(r,i){if(1&r&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function eh(r,i){if(1&r&&(e.TgZ(0,"div",1,2),e.YNc(2,uc,2,5,"div",3),e.YNc(3,ql,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&r){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const Ga=["*"],Wc={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},ns="primary";class Xs{constructor(i){Object.assign(this,i)}static create(i){return(null==(null==i?void 0:i.type)||0===i.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new Xs(i)}}let Zi=(()=>{class r{constructor(){this.spinnerObservable=new Ua.X(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,uo.h)(c=>c&&c.name===t))}show(t=ns,c){return new Promise((h,_)=>{setTimeout(()=>{c&&Object.keys(c).length?(c.name=t,this.spinnerObservable.next(new Xs(Object.assign(Object.assign({},c),{show:!0}))),h(!0)):(this.spinnerObservable.next(new Xs({name:t,show:!0})),h(!0))},10)})}hide(t=ns,c=10){return new Promise((h,_)=>{setTimeout(()=>{this.spinnerObservable.next(new Xs({name:t,show:!1})),h(!0)},c)})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qc=(()=>{class r{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(be,16))},r.\u0275pipe=e.Yjl({name:"safeHtml",type:r,pure:!0}),r})(),Cu=(()=>{class r{constructor(t,c,h){this.spinnerService=t,this.changeDetector=c,this.elementRef=h,this.disableAnimation=!1,this.spinner=new Xs,this.ngUnsubscribe=new Xr.x,this.setDefaultOptions=()=>{this.spinner=Xs.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=ns,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(wi(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const c in t)if(c){const h=t[c];if(h.isFirstChange())return;void 0!==h.currentValue&&h.currentValue!==h.previousValue&&""!==h.currentValue&&(this.spinner[c]=h.currentValue,"showSpinner"===c&&(h.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===c&&this.initObservable())}}getClass(t,c){this.spinner.divCount=Wc[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((_,I)=>I);let h="";switch(c.toLowerCase()){case"small":h="la-sm";break;case"medium":h="la-2x";break;case"large":h="la-3x"}return"la-"+t+" "+h}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zi),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-spinner"]],viewQuery:function(t,c){if(1&t&&e.Gf(id,5),2&t){let h;e.iGM(h=e.CRH())&&(c.spinnerDOM=h.first)}},hostBindings:function(t,c){1&t&&e.NdJ("keydown",function(_){return c.handleKeyboardEvent(_)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:Ga,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,c){1&t&&(e.F$t(),e.YNc(0,eh,6,12,"div",0)),2&t&&e.Q6J("ngIf",c.spinner.show)},directives:[p.O5,p.sg],pipes:[qc],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[_l("fadeIn",[Zc("in",fs({opacity:1})),xs(":enter",[fs({opacity:0}),cc(300)]),xs(":leave",cc(200,fs({opacity:0})))])]},changeDetection:0}),r})(),zc=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var Bs=x(576);function U(r){return!!r&&(r instanceof sr.y||(0,Bs.m)(r.lift)&&(0,Bs.m)(r.subscribe))}var W=x(7272),le=x(9770),Ge=x(5698),_t=x(6063);class Dt extends Xr.x{constructor(i=1/0,t=1/0,c=_t.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=c,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:c,_infiniteTimeWindow:h,_timestampProvider:_,_windowTime:I}=this;t||(c.push(i),!h&&c.push(_.now()+I)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:c,_buffer:h}=this,_=h.slice();for(let I=0;I<_.length&&!i.closed;I+=c?1:2)i.next(_[I]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:c,_infiniteTimeWindow:h}=this,_=(h?1:2)*i;if(i<1/0&&_<c.length&&c.splice(0,c.length-_),!h){const I=t.now();let q=0;for(let te=1;te<c.length&&c[te]<=I;te+=2)q=te;q&&c.splice(0,q+1)}}}var fn=x(3099);function Dn(r,i,t){let c,h=!1;return r&&"object"==typeof r?({bufferSize:c=1/0,windowTime:i=1/0,refCount:h=!1,scheduler:t}=r):c=null!=r?r:1/0,(0,fn.B)({connector:()=>new Dt(c,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var Mr=x(4351),Xn=x(3900);class ni{}let Cr=(()=>{class r extends ni{getTranslation(t){return(0,pi.of)({})}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Do{}let _o=(()=>{class r{handle(t){return t.key}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function ca(r,i){if(r===i)return!0;if(null===r||null===i)return!1;if(r!=r&&i!=i)return!0;let h,_,I,t=typeof r;if(t==typeof i&&"object"==t){if(!Array.isArray(r)){if(Array.isArray(i))return!1;for(_ in I=Object.create(null),r){if(!ca(r[_],i[_]))return!1;I[_]=!0}for(_ in i)if(!(_ in I)&&void 0!==i[_])return!1;return!0}if(!Array.isArray(i))return!1;if((h=r.length)==i.length){for(_=0;_<h;_++)if(!ca(r[_],i[_]))return!1;return!0}}return!1}function rs(r){return null!=r}function ps(r){return r&&"object"==typeof r&&!Array.isArray(r)}function gs(r,i){let t=Object.assign({},r);return ps(r)&&ps(i)&&Object.keys(i).forEach(c=>{ps(i[c])?c in r?t[c]=gs(r[c],i[c]):Object.assign(t,{[c]:i[c]}):Object.assign(t,{[c]:i[c]})}),t}class Gi{}let zl=(()=>{class r extends Gi{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,c){let h;return h="string"==typeof t?this.interpolateString(t,c):"function"==typeof t?this.interpolateFunction(t,c):t,h}getValue(t,c){let h="string"==typeof c?c.split("."):[c];c="";do{c+=h.shift(),!rs(t)||!rs(t[c])||"object"!=typeof t[c]&&h.length?h.length?c+=".":t=void 0:(t=t[c],c="")}while(h.length);return t}interpolateFunction(t,c){return t(c)}interpolateString(t,c){return c?t.replace(this.templateMatcher,(h,_)=>{let I=this.getValue(c,_);return rs(I)?I:h}):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ac{}let $l=(()=>{class r extends Ac{compile(t,c){return t}compileTranslations(t,c){return t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class $c{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const Kl=new e.OlP("USE_STORE"),od=new e.OlP("USE_DEFAULT_LANG"),Su=new e.OlP("DEFAULT_LANGUAGE"),xc=new e.OlP("USE_EXTEND");let Zo=(()=>{class r{constructor(t,c,h,_,I,q=!0,te=!1,we=!1,ot){this.store=t,this.currentLoader=c,this.compiler=h,this.parser=_,this.missingTranslationHandler=I,this.useDefaultLang=q,this.isolate=te,this.extend=we,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},ot&&this.setDefaultLang(ot)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let c=this.retrieveTranslations(t);void 0!==c?(null==this.defaultLang&&(this.defaultLang=t),c.pipe((0,Ge.q)(1)).subscribe(h=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,pi.of)(this.translations[t]);let c=this.retrieveTranslations(t);return void 0!==c?(this.currentLang||(this.currentLang=t),c.pipe((0,Ge.q)(1)).subscribe(h=>{this.changeLang(t)}),c):(this.changeLang(t),(0,pi.of)(this.translations[t]))}retrieveTranslations(t){let c;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),c=this._translationRequests[t]),c}getTranslation(t){this.pending=!0;const c=this.currentLoader.getTranslation(t).pipe(Dn(1),(0,Ge.q)(1));return this.loadingTranslations=c.pipe((0,cn.U)(h=>this.compiler.compileTranslations(h,t)),Dn(1),(0,Ge.q)(1)),this.loadingTranslations.subscribe({next:h=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},h),this.translations[t]):h,this.updateLangs(),this.pending=!1},error:h=>{this.pending=!1}}),c}setTranslation(t,c,h=!1){c=this.compiler.compileTranslations(c,t),this.translations[t]=(h||this.extend)&&this.translations[t]?gs(this.translations[t],c):c,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(c=>{-1===this.langs.indexOf(c)&&this.langs.push(c)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,c,h){let _;if(c instanceof Array){let I={},q=!1;for(let te of c)I[te]=this.getParsedResult(t,te,h),U(I[te])&&(q=!0);return q?Ct(c.map(we=>U(I[we])?I[we]:(0,pi.of)(I[we]))).pipe((0,cn.U)(we=>{let ot={};return we.forEach((Bt,Ht)=>{ot[c[Ht]]=Bt}),ot})):I}if(t&&(_=this.parser.interpolate(this.parser.getValue(t,c),h)),void 0===_&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(_=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],c),h)),void 0===_){let I={key:c,translateService:this};void 0!==h&&(I.interpolateParams=h),_=this.missingTranslationHandler.handle(I)}return void 0!==_?_:c}get(t,c){if(!rs(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,Mr.b)(h=>U(h=this.getParsedResult(h,t,c))?h:(0,pi.of)(h)));{let h=this.getParsedResult(this.translations[this.currentLang],t,c);return U(h)?h:(0,pi.of)(h)}}getStreamOnTranslationChange(t,c){if(!rs(t)||!t.length)throw new Error('Parameter "key" required');return(0,W.z)((0,le.P)(()=>this.get(t,c)),this.onTranslationChange.pipe((0,Xn.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return"function"==typeof _.subscribe?_:(0,pi.of)(_)})))}stream(t,c){if(!rs(t)||!t.length)throw new Error('Parameter "key" required');return(0,W.z)((0,le.P)(()=>this.get(t,c)),this.onLangChange.pipe((0,Xn.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return U(_)?_:(0,pi.of)(_)})))}instant(t,c){if(!rs(t)||!t.length)throw new Error('Parameter "key" required');let h=this.getParsedResult(this.translations[this.currentLang],t,c);if(U(h)){if(t instanceof Array){let _={};return t.forEach((I,q)=>{_[t[q]]=t[q]}),_}return t}return h}set(t,c,h=this.currentLang){this.translations[h][t]=this.compiler.compile(c,h),this.updateLangs(),this.onTranslationChange.emit({lang:h,translations:this.translations[h]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($c),e.LFG(ni),e.LFG(Ac),e.LFG(Gi),e.LFG(Do),e.LFG(od),e.LFG(Kl),e.LFG(xc),e.LFG(Su))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),vo=(()=>{class r{constructor(t,c){this.translate=t,this._ref=c,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,c,h){let _=I=>{this.value=void 0!==I?I:t,this.lastKey=t,this._ref.markForCheck()};if(h){let I=this.translate.getParsedResult(h,t,c);U(I.subscribe)?I.subscribe(_):_(I)}this.translate.get(t,c).subscribe(_)}transform(t,...c){if(!t||!t.length)return t;if(ca(t,this.lastKey)&&ca(c,this.lastParams))return this.value;let h;if(rs(c[0])&&c.length)if("string"==typeof c[0]&&c[0].length){let _=c[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{h=JSON.parse(_)}catch(I){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${c[0]}`)}}else"object"==typeof c[0]&&!Array.isArray(c[0])&&(h=c[0]);return this.lastKey=t,this.lastParams=c,this.updateValue(t,h),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(_=>{this.lastKey&&_.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(_=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zo,16),e.Y36(e.sBO,16))},r.\u0275pipe=e.Yjl({name:"translate",type:r,pure:!1}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),nf=(()=>{class r{static forRoot(t={}){return{ngModule:r,providers:[t.loader||{provide:ni,useClass:Cr},t.compiler||{provide:Ac,useClass:$l},t.parser||{provide:Gi,useClass:zl},t.missingTranslationHandler||{provide:Do,useClass:_o},$c,{provide:Kl,useValue:t.isolate},{provide:od,useValue:t.useDefaultLang},{provide:xc,useValue:t.extend},{provide:Su,useValue:t.defaultLanguage},Zo]}}static forChild(t={}){return{ngModule:r,providers:[t.loader||{provide:ni,useClass:Cr},t.compiler||{provide:Ac,useClass:$l},t.parser||{provide:Gi,useClass:zl},t.missingTranslationHandler||{provide:Do,useClass:_o},{provide:Kl,useValue:t.isolate},{provide:od,useValue:t.useDefaultLang},{provide:xc,useValue:t.extend},{provide:Su,useValue:t.defaultLanguage},Zo]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const _p={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest e-mail",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui a la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i l'aplicaci\xf3 et dir\xe0 on comprar cada producte."},step5:{title:"Coopera i comparteix",text:"Les dades que introdueixis serviran als altres usuaris i les dels altres usuaris et serviran a tu."},step6:{title:"Estigues informat",text:"Reb alertes dels canvis de preu dels productes que tinguis com a favorits."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",purchases:"Compres",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",purchases:"Compres"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra",alerts:"Alertes"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",whatToPurchase:"Qu\xe9 comprar-hi?",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes",noRecommendedProducts:"No hi ha productes recomanats"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escaneja"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades",characteristics:"Caracter\xedstiques",category:"Categoria",allergens:"Al\xb7l\xe8rgens",nutrientLevels:"Nivells nutrients",nutrients:{fat:"Greixos",salt:"Sal",saturedFat:"Greixos saturats",sugars:"Sucres"},nutriscore:{a:"Molt saludable",b:"Saludable",c:"Acceptable",d:"Poc saludable",e:"No saludable"},nova:{nova1:"Aliments naturals o m\xednimament processats",nova2:"Ingredients culinaris processats",nova3:"Aliments processats",nova4:"Aliments ultraprocessats"},ecoscore:{ecoscoreA:"Impacte ambiental molt baix",ecoscoreB:"Impacte ambiental baix",ecoscoreC:"Impacte ambiental moderat",ecoscoreD:"Impacte ambiental alt",ecoscoreE:"Impacte ambiental molt alt",ecoscoreUNKNOWN:"Impacte ambiental desconegut",ecoscoreNOTAPPLICABLE:"Impacte ambiental desconegut o no es pot calcular"}},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant l'esc\xe0ner",initError:"Hi ha hagut un error inicialitzant el l'esc\xe0ner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'escaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Esc\xe0ner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per a la botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},alerts:{unreadInfoText:"Tens alertes sense llegir. Pots marcar-les com a llegides fent clic a la que desitgis."},purchases:{purchases:"Compres",searchPlaceholder:"Cerca per nom, marca o botiga",noData:"No hi ha compres"},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"},alert:"Alerta",alerts:"Alertes",copiedToClipboard:"S'ha copiat al porta-retalls",levels:{high:"Alt",moderate:"Moderat",low:"Baix"}}},rf={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."},step5:{title:"Cooperate and share",text:"The data you enter will be used by other users and the data of other users will be useful to you."},step6:{title:"Be informed",text:"Get alert to changes in the price of your favorite products."}},menu:{home:"Home",shops:"Shops",products:"Products",purchases:"Purchases",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",purchases:"Purchases"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart",alerts:"Alerts"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",whatToPurchase:"What to buy?",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices",noRecommendedProducts:"There are no recommended products to purchase"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data",characteristics:"Characteristics",category:"Category",allergens:"Allergens",nutrientLevels:"Nutrient levels",nutrients:{fat:"Fat",salt:"Salt",saturedFat:"Satured fat",sugars:"Sugars"},nutriscore:{a:"Very healthy",b:"Healthy",c:"Acceptable",d:"Unhealthy",e:"Not healthy"},nova:{nova1:"Natural or minimally processed foods",nova2:"Processed culinary ingredients",nova3:"Processed foods",nova4:"Ultra-processed foods"},ecoscore:{ecoscoreA:"Very low environmental impact",ecoscoreB:"Low environmental impact",ecoscoreC:"Moderate environmental impact",ecoscoreD:"High environmental impact",ecoscoreE:"Very high environmental impact",ecoscoreUNKNOWN:"Unknown environmental impact",ecoscoreNOTAPPLICABLE:"Environmental impact unknown or cannot be calculated"}},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},alerts:{unreadInfoText:"You have unread alerts. You can mark them as read by clicking on the one you want."},purchases:{purchases:"Purchases",searchPlaceholder:"Search by name, brand or shop",noData:"There are no purchases"},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"},alert:"Alert",alerts:"Alerts",copiedToClipboard:"Copied to clipboard",levels:{high:"High",moderate:"Moderate",low:"Low"}}},Jl={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."},step5:{title:"Coopera y comparte",text:"Los datos que introduzcas servir\xe1n a los dem\xe1s usuarios y los de los dem\xe1s usuarios te servir\xe1n a ti."},step6:{title:"Mantente informado",text:"Recibe alertas de los cambios de precio de los productos que tengas como favoritos."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",purchases:"Compras",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",purchases:"Compras"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra",alerts:"Alertas"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",whatToPurchase:"Qu\xe9 comprar?",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos",noRecommendedProducts:"No hay productos de compra recomendados"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos",characteristics:"Caracter\xedsticas",category:"Categor\xeda",allergens:"Al\xe9rgenos",nutrientLevels:"Niveles nutrientes",nutrients:{fat:"Grasas",salt:"Sal",saturedFat:"Grasas saturadas",sugars:"Az\xfacares"},nutriscore:{a:"Muy saludable",b:"Saludable",c:"Aceptable",d:"Poco saludable",e:"No saludable"},nova:{nova1:"Alimentos naturales o m\xednimamente procesados",nova2:"Ingredientes culinarios procesados",nova3:"Alimentos procesados",nova4:"Alimentos ultraprocesados"},ecoscore:{ecoscoreA:"Impacto ambiental muy bajo",ecoscoreB:"Impacto ambiental bajo",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Impacto ambiental alto",ecoscoreE:"Impacto ambiental muy alto",ecoscoreUNKNOWN:"Impacto ambiental desconocido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconocido o no puede calcularse"}},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},alerts:{unreadInfoText:"Tienes alertas sin leer. Puedes marcarlas como le\xeddas haciendo clic en la que desees."},purchases:{purchases:"Compras",searchPlaceholder:"Busca por nombre, marca o tienda",noData:"No hay compras"},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Se ha copiado al portapapeles",levels:{high:"Alto",moderate:"Moderado",low:"Bajo"}}},dc={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."},step5:{title:"Cooperar e compartilhar",text:"Os dados que voc\xea inserir ser\xe3o usados \u200b\u200bpor outros usu\xe1rios e os dados de outros usu\xe1rios ser\xe3o \xfateis para voc\xea."},step6:{title:"Ser informado",text:"Fique alerta para mudan\xe7as no pre\xe7o de seus produtos favoritos."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",purchases:"Compras",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras",alerts:"Alertas",purchases:"Compras"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",whatToPurchase:"O que comprar l\xe1?",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos",noRecommendedProducts:"N\xe3o h\xe1 produtos recomendados"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados",characteristics:"Caracter\xedsticas",category:"Categoria",allergens:"Al\xe9rgenos",nutrientLevels:"N\xedveis de nutrientes",nutrients:{fat:"Gordura",salt:"Sal",saturedFat:"Gordura saturada",sugars:"A\xe7\xfacares"},nutriscore:{a:"Muito saud\xe1vel",b:"Saud\xe1vel",c:"Aceit\xe1vel",d:"Pouco saud\xe1vel",e:"N\xe3o saud\xe1vel"},nova:{nova1:"Alimentos naturais ou minimamente processados",nova2:"Ingredientes culin\xe1rios processados",nova3:"Alimentos processados",nova4:"Alimentos ultraprocessados"},ecoscore:{ecoscoreA:"Impacto ambiental muito baixo",ecoscoreB:"Baixo impacto ambiental",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Alto impacto ambiental",ecoscoreE:"Impacto ambiental muito alto",ecoscoreUNKNOWN:"Impacto ambiental desconhecido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconhecido ou n\xe3o pode ser calculado"}},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},alerts:{unreadInfoText:"Voc\xea tem alertas n\xe3o lidos. Voc\xea pode marc\xe1-los como lidos clicando no que deseja."},purchases:{purchases:"Compras",searchPlaceholder:"Pesquise por nome, marca ou loja",noData:"N\xe3o h\xe1 compras"},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Copiado para a \xe1rea de transfer\xeancia",levels:{high:"Alto",moderate:"Moderado",low:"Baixo"}}},sf={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."},step5:{title:"Coop\xe9rer et partager",text:"Les donn\xe9es que vous saisissez seront utilis\xe9es par d'autres utilisateurs et les donn\xe9es d'autres utilisateurs vous seront utiles."},step6:{title:"\xcatre inform\xe9",text:"Soyez alert\xe9 des changements de prix de vos produits pr\xe9f\xe9r\xe9s."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",purchases:"Achats",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse",purchases:"Achats"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier",alerts:"Alertes"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",whatToPurchase:"Qu'y acheter?",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits",noRecommendedProducts:"Il n'y a pas de produits recommand\xe9s"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es",characteristics:"caract\xe9ristiques",category:"Cat\xe9gorie",allergens:"Allerg\xe8nes",nutrientLevels:"Niveaux de nutriments",nutrients:{fat:"Graisse",salt:"Sel",saturedFat:"Gras satur\xe9",sugars:"Sucres"},nutriscore:{a:"En tr\xe8s bonne sant\xe9",b:"En bonne sant\xe9",c:"Acceptable",d:"Mauvais pour la sant\xe9",e:"Pas bon pour la sant\xe9"},nova:{nova1:"Aliments naturels ou peu transform\xe9s",nova2:"Ingr\xe9dients culinaires transform\xe9s",nova3:"Aliments transform\xe9s",nova4:"Aliments ultra-transform\xe9s"},ecoscore:{ecoscoreA:"Tr\xe8s faible impact environnemental",ecoscoreB:"Faible impact environnemental",ecoscoreC:"Impact environnemental mod\xe9r\xe9",ecoscoreD:"Impact environnemental \xe9lev\xe9",ecoscoreE:"Impact environnemental tr\xe8s \xe9lev\xe9",ecoscoreUNKNOWN:"Impact environnemental inconnu",ecoscoreNOTAPPLICABLE:"Impact environnemental inconnu ou non calculable"}},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},alerts:{unreadInfoText:"Vous avez des alertes non lues. Vous pouvez les marquer comme lus en cliquant sur celui que vous voulez."},purchases:{purchases:"Achats",searchPlaceholder:"Rechercher par nom, marque ou magasin",noData:"Il n'y a aucun achat"},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"},alert:"Alerte",alerts:"Alertes",copiedToClipboard:"Copi\xe9 dans le presse-papier",levels:{high:"Haut",moderate:"Mod\xe9r\xe9",low:"Bas"}}};let Va=(()=>{class r{constructor(t){this.translate=t,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:_p,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:Jl,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:rf,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:dc,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:sf,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,pi.of)(!0)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Zo))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Tl=x(655),ja=x(127),af=x(6451),Eu=x(5363),sd=x(590);function wu(r,i){return(0,Bs.m)(i)?(0,Xn.w)(()=>r,i):(0,Xn.w)(()=>r)}var Cl=x(9468),yo=x(5813),Ha=x(2011),Du=x(7128);const th=new e.OlP("angularfire2.auth.use-emulator"),cf=new e.OlP("angularfire2.auth.settings"),lf=new e.OlP("angularfire2.auth.tenant-id"),uf=new e.OlP("angularfire2.auth.langugage-code"),Au=new e.OlP("angularfire2.auth.use-device-language"),Us=new e.OlP("angularfire.auth.persistence");let ad=(()=>{class r{constructor(t,c,h,_,I,q,te,we,ot,Bt,Ht,Yt){const rn=new Xr.x,Xt=(0,pi.of)(void 0).pipe((0,Eu.Q)(I.outsideAngular),(0,Xn.w)(()=>_.runOutsideAngular(()=>x.e(887).then(x.bind(x,5887)))),(0,cn.U)(()=>(0,Ha.on)(t,_,c)),(0,cn.U)(zn=>((r,i,t,c,h,_,I,q)=>(0,Ha.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const te=i.runOutsideAngular(()=>r.auth());if(t&&te.useEmulator(...t),c&&(te.tenantId=c),te.languageCode=h,_&&te.useDeviceLanguage(),I)for(const[we,ot]of Object.entries(I))te.settings[we]=ot;return q&&te.setPersistence(q),te},[t,c,h,_,I,q]))(zn,_,q,we,ot,Bt,te,Ht)),Dn({bufferSize:1,refCount:!1}));if((0,p.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,pi.of)(null);else{Xt.pipe((0,sd.P)()).subscribe();const Sr=Xt.pipe((0,Xn.w)(ir=>ir.getRedirectResult().then(zr=>zr,()=>null)),yo.iC,Dn({bufferSize:1,refCount:!1})),vr=Xt.pipe((0,Xn.w)(ir=>new sr.y(zr=>({unsubscribe:_.runOutsideAngular(()=>ir.onAuthStateChanged(Zr=>zr.next(Zr),Zr=>zr.error(Zr),()=>zr.complete()))})))),Qr=Xt.pipe((0,Xn.w)(ir=>new sr.y(zr=>({unsubscribe:_.runOutsideAngular(()=>ir.onIdTokenChanged(Zr=>zr.next(Zr),Zr=>zr.error(Zr),()=>zr.complete()))}))));this.authState=Sr.pipe(wu(vr),(0,Cl.R)(I.outsideAngular),(0,Eu.Q)(I.insideAngular)),this.user=Sr.pipe(wu(Qr),(0,Cl.R)(I.outsideAngular),(0,Eu.Q)(I.insideAngular)),this.idToken=this.user.pipe((0,Xn.w)(ir=>ir?(0,qn.D)(ir.getIdToken()):(0,pi.of)(null))),this.idTokenResult=this.user.pipe((0,Xn.w)(ir=>ir?(0,qn.D)(ir.getIdTokenResult()):(0,pi.of)(null))),this.credential=(0,af.T)(Sr,rn,this.authState.pipe((0,uo.h)(ir=>!ir))).pipe((0,cn.U)(ir=>(null==ir?void 0:ir.user)?ir:null),(0,Cl.R)(I.outsideAngular),(0,Eu.Q)(I.insideAngular))}return(0,Ha.pX)(this,Xt,_,{spy:{apply:(zn,Sr,vr)=>{(zn.startsWith("signIn")||zn.startsWith("createUser"))&&vr.then(Qr=>rn.next(Qr))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ha.Dh),e.LFG(Ha.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(yo.HU),e.LFG(th,8),e.LFG(cf,8),e.LFG(lf,8),e.LFG(uf,8),e.LFG(Au,8),e.LFG(Us,8),e.LFG(Du.nm,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Yl=(()=>{class r{constructor(t){this.afauth=t}login(t,c){return(0,Tl.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(t,c)}catch(h){return console.log("Login error",h),null}})}loginWithGoogle(t,c){return(0,Tl.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new ja.Z.auth.GoogleAuthProvider)}catch(h){return console.log("Logi with Google error",h),null}})}register(t,c){return(0,Tl.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(t,c)}catch(h){return console.log("Register error",h),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(ad))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Ql=(()=>{class r{constructor(t,c){this.shopProductService=t,this.productService=c,this.userAlerts=new Xr.x,this._userAlerts=this.loadUnreadAlerts(),this.calculateAlerts(!0)}loadUnreadAlerts(){let t={updateDate:(new Date).getTime(),alerts:[]};const c=localStorage.getItem(On.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c);return h.alerts.forEach(_=>{this.productService._products.find(I=>I.barcode===_.productBarcode)||this.removeObsoleteProductAlerts(_.productBarcode,h.alerts)}),h}return t}updateAccessDateAlerts(){this._userAlerts.updateDate=(new Date).getTime(),this.saveAlerts()}saveAlerts(){localStorage.setItem(On.M.PS_USER_ALERTS,JSON.stringify(this._userAlerts))}removeObsoleteProductAlerts(t,c){c&&c.length>0&&(c=c.filter(h=>h.productBarcode!==t))}toggleReadAlert(t){t.read=!t.read;const c=localStorage.getItem(On.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c),_=h.alerts.find(I=>I.date===t.date&&I.productBarcode===t.productBarcode&&I.shopId===t.shopId&&I.currentPrice===t.currentPrice&&I.lastPrice===t.lastPrice);_.read=!_.read,localStorage.setItem(On.M.PS_USER_ALERTS,JSON.stringify(h)),this._userAlerts=this.loadUnreadAlerts(),this.userAlerts.next(this._userAlerts)}}getUnreadAlerts(){return this._userAlerts.alerts.filter(t=>!t.read).length}calculateAlerts(t){if(console.log("AlertsService.calculateAlerts()"),this.productService.loaded&&this.shopProductService.loaded){const c=this.productService._products.map(I=>I.barcode);this.shopProductService._shopsProducts.filter(I=>c.indexOf(I.productBarcode)>=0).map(I=>this.shopProductService.getShopProductHistory(I)).forEach(I=>{I.length>1&&I[I.length-2].price!==I[I.length-1].price&&(this._userAlerts.alerts.find(te=>te.date===I[I.length-1].updateDate&&te.shopId===I[I.length-1].shopId&&te.productBarcode===I[I.length-1].productBarcode)||this._userAlerts.alerts.push({currentPrice:I[I.length-1].price,date:I[I.length-1].updateDate,lastPrice:I[I.length-2].price,productBarcode:I[I.length-1].productBarcode,shopId:I[I.length-1].shopId,read:!1}))}),this.userAlerts.next(this._userAlerts),t?this.updateAccessDateAlerts():this.saveAlerts()}else setTimeout(()=>{this.calculateAlerts(t)},5e3)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Qs),e.LFG(Ei.M))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),cm=(()=>{class r{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"li"),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Botigues: ",e.xi3(4,2,c.shops.length,"1.0-2"),""),e.xp6(3),e.hij("Productes: ",e.xi3(7,5,c.products.length,"1.0-2"),""))},pipes:[p.JJ],styles:[""]}),r})();var bo=x(5577),gi=x(1144);const rh=["addListener","removeListener"],ih=["addEventListener","removeEventListener"],Jc=["on","off"];function Wr(r,i,t,c){if((0,Bs.m)(t)&&(c=t,t=void 0),c)return Wr(r,i,t).pipe((0,Sn.Z)(c));const[h,_]=function xu(r){return(0,Bs.m)(r.addEventListener)&&(0,Bs.m)(r.removeEventListener)}(r)?ih.map(I=>q=>r[I](i,q,t)):function Ps(r){return(0,Bs.m)(r.addListener)&&(0,Bs.m)(r.removeListener)}(r)?rh.map(cd(r,i)):function Ri(r){return(0,Bs.m)(r.on)&&(0,Bs.m)(r.off)}(r)?Jc.map(cd(r,i)):[];if(!h&&(0,gi.z)(r))return(0,bo.z)(I=>Wr(I,i,t))((0,cr.Xf)(r));if(!h)throw new TypeError("Invalid event target");return new sr.y(I=>{const q=(...te)=>I.next(1<te.length?te:te[0]);return h(q),()=>_(q)})}function cd(r,i){return t=>c=>r[t](i,c)}var is=x(4986);function la(r,i=is.z){return(0,Ca.e)((t,c)=>{let h=null,_=null,I=null;const q=()=>{if(h){h.unsubscribe(),h=null;const we=_;_=null,c.next(we)}};function te(){const we=I+r,ot=i.now();if(ot<we)return h=this.schedule(void 0,we-ot),void c.add(h);q()}t.subscribe((0,Pn.x)(c,we=>{_=we,I=i.now(),h||(h=i.schedule(te,r),c.add(h))},()=>{q(),c.complete()},void 0,()=>{_=h=null}))})}var Ms=x(4671);function ea(r,i=Ms.y){return r=null!=r?r:ld,(0,Ca.e)((t,c)=>{let h,_=!0;t.subscribe((0,Pn.x)(c,I=>{const q=i(I);(_||!r(h,q))&&(_=!1,h=q,c.next(I))}))})}function ld(r,i){return r===i}var ms=x(2940);const j_=["nameinput"];function lm(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateShop(h)}),e.qZA()}}function Di(r,i){1&r&&e._UZ(0,"i",16)}function df(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(6,"td"),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"td"),e.YNc(9,lm,1,0,"i",13),e.YNc(10,Di,1,0,"i",14),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingShop||c.updatingShop.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingShop&&c.updatingShop.id===t.id)}}function Iu(r,i){if(1&r&&(e.ynx(0),e.YNc(1,df,11,7,"ng-container",10),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let oh=(()=>{class r{constructor(t,c,h){this.shopService=t,this.spinner=c,this.translateService=h,this.shops=[],this.onShopSortEmitter=new e.vpe,this.searchConfig={name:""},this.sortBy="name",this.sortDir="ASC",this.DEFAULT_IMAGE_URL=ms.T}matchesSearch(t){return t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>=0}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateShop(t){console.log("updateShop()",t),t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=ms.T),this.updatingShop=t,this.spinner.show(),this.shopService.updateShop(t).subscribe(()=>{this.updatingShop=void 0,this.spinner.hide()}))}export(){const t=JSON.stringify(this.shops);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngAfterViewInit(){Wr(this.nameinput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(500),ea(),(0,wr.b)(t=>{console.log(t),this.searchConfig.name=t.target.value})).subscribe()}checkShopsImages(){this.shops.map(t=>{t.imageUrl=t.imageUrl===ms.T?"":t.imageUrl})}ngOnInit(){this.checkShopsImages()}ngOnChanges(t){this.checkShopsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Tr.d),e.Y36(Zi),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops"]],viewQuery:function(t,c){if(1&t&&e.Gf(j_,5),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first)}},inputs:{shops:"shops"},outputs:{onShopSortEmitter:"onShopSortEmitter"},features:[e.TTD],decls:23,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","4"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return c.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return c.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th"),e._uU(16,"URL imatge"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Imatge"),e.qZA(),e.TgZ(19,"th"),e._UZ(20,"i",8),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,Iu,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",c.shops))},directives:[p.sg,p.O5,mn,Si,Qi],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();const sh=["nameinput"],ud=["brandinput"],vp=["createdbyinput"];function yp(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdOn,"dd.MM.yyyy - HH:mm"))}}function bp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",18),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateProduct(h)}),e.qZA()}}function um(r,i){1&r&&e._UZ(0,"i",19)}function hf(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.brand=h}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,yp,3,4,"span",13),e.qZA(),e.TgZ(10,"td")(11,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"img",15),e.qZA(),e.TgZ(14,"td"),e.YNc(15,bp,1,0,"i",16),e.YNc(16,um,1,0,"i",17),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.brand)("ngModel",t.brand),e.xp6(2),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.createdOn),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingProduct||c.updatingProduct.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingProduct&&c.updatingProduct.id===t.id)}}function dd(r,i){if(1&r&&(e.ynx(0),e.YNc(1,hf,17,11,"ng-container",13),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let Tp=(()=>{class r{constructor(t,c,h){this.productService=t,this.spinner=c,this.translateService=h,this.products=[],this.onProductSortEmitter=new e.vpe,this.DEFAULT_IMAGE_URL=ms.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(t){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const c=this.searchConfig.name.length>0&&t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,h=this.searchConfig.brand.length>0&&t.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,_=t.createdBy&&this.searchConfig.createdBy.length>0&&(t.createdBy.username.length>0&&t.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||t.createdBy.email.length>0&&t.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return c||h||_}}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(t){console.log("updateProduct()",t),t.brand.length>0&&t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=ms.T),this.updatingProduct=t,this.spinner.show(),this.productService.updateProduct(t,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(t=>{t.imageUrl=t.imageUrl===ms.T?"":t.imageUrl})}export(){const t=JSON.stringify(this.products);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){Wr(this.nameinput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(500),ea(),(0,wr.b)(t=>{this.searchConfig.name=t.target.value})).subscribe(),Wr(this.brandinput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(500),ea(),(0,wr.b)(t=>{this.searchConfig.brand=t.target.value})).subscribe(),Wr(this.createdbyinput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(500),ea(),(0,wr.b)(t=>{this.searchConfig.createdBy=t.target.value})).subscribe()}ngOnChanges(t){this.checkProductsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ei.M),e.Y36(Zi),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-products"]],viewQuery:function(t,c){if(1&t&&(e.Gf(sh,5),e.Gf(ud,5),e.Gf(vp,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first),e.iGM(h=e.CRH())&&(c.brandinput=h.first),e.iGM(h=e.CRH())&&(c.createdbyinput=h.first)}},inputs:{products:"products"},outputs:{onProductSortEmitter:"onProductSortEmitter"},features:[e.TTD],decls:38,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","7"],[1,"d-flex","flex-column"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"div",3)(6,"button",4),e.NdJ("click",function(){return c.export()}),e._UZ(7,"i",5),e._uU(8,"Exportar"),e.qZA()()()(),e.TgZ(9,"tr")(10,"th")(11,"span",6),e.NdJ("click",function(){return c.sort("name")}),e._uU(12,"Nom"),e.qZA(),e._UZ(13,"br")(14,"input",7,8),e.qZA(),e.TgZ(16,"th")(17,"span",6),e.NdJ("click",function(){return c.sort("brand")}),e._uU(18,"Marca"),e.qZA(),e._UZ(19,"br")(20,"input",7,9),e.qZA(),e.TgZ(22,"th"),e._uU(23,"Creat per"),e._UZ(24,"br")(25,"input",7,10),e.qZA(),e.TgZ(27,"th")(28,"span",6),e.NdJ("click",function(){return c.sort("createdOn")}),e._uU(29,"Data creaci\xf3"),e.qZA()(),e.TgZ(30,"th"),e._uU(31,"URL imatge"),e.qZA(),e.TgZ(32,"th"),e._uU(33,"Imatge"),e.qZA(),e.TgZ(34,"th"),e._UZ(35,"i",11),e.qZA()()(),e.TgZ(36,"tbody"),e.YNc(37,dd,2,1,"ng-container",12),e.qZA()()()),2&t&&(e.xp6(37),e.Q6J("ngForOf",c.products))},directives:[p.sg,p.O5,mn,Si,Qi],pipes:[p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();const ff=["searchInput"];function dm(r,i){if(1&r&&(e.TgZ(0,"div",13),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.updateDate,"dd.MM.yyyy - HH:mm"))}}function oo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(2).removeShopProduct(h)}),e.qZA()}}function pf(r,i){1&r&&e._UZ(0,"i",18)}function hm(r,i){if(1&r&&(e.ynx(0)(1),e.TgZ(2,"tr")(3,"td"),e._uU(4),e.TgZ(5,"span",11),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",12)(10,"div",13),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"td")(14,"div",13),e._uU(15),e.qZA()(),e.TgZ(16,"td")(17,"div",13),e._uU(18),e.qZA()(),e.TgZ(19,"td")(20,"div",13),e._uU(21),e.qZA()(),e.TgZ(22,"td")(23,"div",13),e._uU(24),e.qZA()(),e.TgZ(25,"td")(26,"div",13),e._uU(27),e.qZA()(),e.TgZ(28,"td")(29,"div",13),e._uU(30),e.qZA()(),e.TgZ(31,"td"),e.YNc(32,dm,3,4,"div",14),e.qZA(),e.TgZ(33,"td"),e.YNc(34,oo,1,0,"i",15),e.YNc(35,pf,1,0,"i",16),e.qZA()(),e.BQk()()),2&r){const t=i.$implicit,c=e.oxw(2);let h,_,I;e.xp6(4),e.Oqu(null==(h=c.getProduct(t.productBarcode))?null:h.name),e.xp6(2),e.hij("(",null==(_=c.getProduct(t.productBarcode))?null:_.brand,")"),e.xp6(2),e.Oqu(null==(I=c.getShop(t.shopId))?null:I.name),e.xp6(3),e.hij("",e.xi3(12,13,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.ip)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.city)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.device)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.os)||"?"),e.xp6(3),e.Oqu((null==t.createdBy?null:t.createdBy.browser)||"?"),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",!c.updatingShopProduct||c.updatingShopProduct.id!=c.updatingShopProduct.id),e.xp6(1),e.Q6J("ngIf",c.updatingShopProduct&&c.updatingShopProduct.id==c.updatingShopProduct.id)}}function Wo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",1)(1,"table",2)(2,"thead")(3,"tr")(4,"th",3)(5,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().export()}),e._UZ(6,"i",5),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th",3),e._UZ(10,"input",6,7),e.qZA()(),e.TgZ(12,"tr")(13,"th")(14,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("product")}),e._uU(15,"Producte"),e.qZA()(),e.TgZ(16,"th")(17,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("shop")}),e._uU(18,"Botiga"),e.qZA()(),e.TgZ(19,"th")(20,"span"),e._uU(21,"Preu"),e.qZA()(),e.TgZ(22,"th")(23,"span"),e._uU(24,"Afegit per"),e.qZA()(),e.TgZ(25,"th")(26,"span"),e._uU(27,"IP"),e.qZA()(),e.TgZ(28,"th")(29,"span"),e._uU(30,"Ubicaci\xf3"),e.qZA()(),e.TgZ(31,"th")(32,"span"),e._uU(33,"Device"),e.qZA()(),e.TgZ(34,"th")(35,"span"),e._uU(36,"OS"),e.qZA()(),e.TgZ(37,"th")(38,"span"),e._uU(39,"Browser"),e.qZA()(),e.TgZ(40,"th")(41,"span",8),e.NdJ("click",function(){return e.CHM(t),e.oxw().sort("updateDate")}),e._uU(42,"Data"),e.qZA()(),e.TgZ(43,"th"),e._UZ(44,"i",9),e.qZA()()(),e.TgZ(45,"tbody"),e.YNc(46,hm,36,16,"ng-container",10),e.qZA()()()}if(2&r){const t=e.oxw();e.xp6(46),e.Q6J("ngForOf",t.shopsProductsFiltered)}}let ah=(()=>{class r{constructor(t,c){this.shopProductService=t,this.translateService=c,this.products=[],this.shops=[],this.shopsProducts=[],this.shopsProductsFiltered=[],this.onShopProductSortEmitter=new e.vpe,this.sortBy="updateDate",this.sortDir="ASC"}getShop(t){return this.shops.find(c=>t===c.id)}getProduct(t){return this.products.find(c=>t===c.barcode)}removeShopProduct(t){this.shopProductService.removeShopProduct(t).subscribe(()=>{})}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}export(){const t=JSON.stringify(this.shopsProducts);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnChanges(t){var c;(null===(c=null==t?void 0:t.products)||void 0===c?void 0:c.firstChange)&&this.sort("updateDate"),(null==t?void 0:t.shopsProducts)&&(console.log("shopsProducts changed!"),this.shopsProductsFiltered=[...this.shopsProducts])}ngAfterViewInit(){Wr(this.searchInput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(1e3),ea(),(0,wr.b)(t=>{console.log(this.searchInput.nativeElement.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qs),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops-products"]],viewQuery:function(t,c){if(1&t&&e.Gf(ff,5),2&t){let h;e.iGM(h=e.CRH())&&(c.searchInput=h.first)}},inputs:{products:"products",shops:"shops",shopsProducts:"shopsProducts"},outputs:{onShopProductSortEmitter:"onShopProductSortEmitter"},features:[e.TTD],decls:1,vars:1,consts:[["class","d-flex w-100",4,"ngIf"],[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","11"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],["type","text","placeholder","Search by product name...",1,"form-control"],["searchInput",""],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[1,"brand","ms-2"],[1,"text-end"],[1,"nowrap"],["class","nowrap",4,"ngIf"],["class","fas fa-trash cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&e.YNc(0,Wo,47,1,"div",0),2&t&&e.Q6J("ngIf",c.shopsProductsFiltered)},directives:[p.O5,p.sg],pipes:[p.JJ,p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.brand[_ngcontent-%COMP%]{font-size:9pt}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),r})();function Cp(r,i){if(1&r&&(e.TgZ(0,"div",9),e._UZ(1,"app-backoffice-dashboard",10),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function hd(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops",11),e.NdJ("onShopSortEmitter",function(h){return e.CHM(t),e.oxw().sortShops(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)}}function Ic(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-products",12),e.NdJ("onProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)}}function gf(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops-products",13),e.NdJ("shopsProductsChange",function(h){return e.CHM(t),e.oxw().shopsProducts=h})("onShopProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortShopsProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)("shops",t.shops)("shopsProducts",t.shopsProducts)}}const fd=function(r){return{active:r}};let ch=(()=>{class r{constructor(t){this.loginService=t,this.selectedTab=3,this.shops=[],this.products=[],this.shopsProducts=[],this.dataSourceType=Cn.q.dataSourceType,this.users=[]}sortProducts(t){console.log("sortProducts()",t),t&&(this.products=this.products.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShops(t){console.log("sortShops()",t),t&&(this.shops=this.shops.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShopsProducts(t){console.log("sortShopsProducts()",t),t&&(this.shopsProducts=this.shopsProducts.sort((c,h)=>{if("shop"===t.sortBy){const _=this.shops.find(q=>q.id===c.shopId).name.toString().toUpperCase(),I=this.shops.find(q=>q.id===h.shopId).name.toString().toUpperCase();return"DESC"===t.sortDir?_>I?-1:1:_>I?1:-1}if("product"===t.sortBy){const _=this.products.find(q=>q.barcode===c.productBarcode).name.toString().toUpperCase(),I=this.products.find(q=>q.barcode===h.productBarcode).name.toString().toUpperCase();return"DESC"===t.sortDir?_>I?-1:1:_>I?1:-1}return"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1}))}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.products.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.shopsProducts.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email)&&t.push(c.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(go.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[e.TTD],decls:33,vars:29,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","justify-content-between","w-100","ps-2"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"shops","onShopSortEmitter"],[1,"w-100",3,"products","onProductSortEmitter"],[1,"w-100",3,"products","shops","shopsProducts","shopsProductsChange","onShopProductSortEmitter"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Backoffice "),e.TgZ(4,"small"),e._uU(5),e.qZA()()(),e.TgZ(6,"ul",2)(7,"li",3)(8,"a",4),e.NdJ("click",function(){return c.selectedTab=0}),e._uU(9,"Dashboard"),e.qZA()(),e.TgZ(10,"li",5)(11,"a",4),e.NdJ("click",function(){return c.selectedTab=1}),e._uU(12,"Botigues "),e.TgZ(13,"small",6),e._uU(14),e.ALo(15,"number"),e.qZA()()(),e.TgZ(16,"li",3)(17,"a",4),e.NdJ("click",function(){return c.selectedTab=2}),e._uU(18,"Productes "),e.TgZ(19,"small",6),e._uU(20),e.ALo(21,"number"),e.qZA()()(),e.TgZ(22,"li",3)(23,"a",4),e.NdJ("click",function(){return c.selectedTab=3}),e._uU(24,"Preus"),e.TgZ(25,"small",6),e._uU(26),e.ALo(27,"number"),e.qZA()()()(),e.TgZ(28,"div",7),e.YNc(29,Cp,2,3,"div",8),e.YNc(30,hd,2,1,"div",8),e.YNc(31,Ic,2,1,"div",8),e.YNc(32,gf,2,3,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.hij("(Datasource type: ",c.dataSourceType,")"),e.xp6(3),e.Q6J("ngClass",e.VKq(21,fd,0===c.selectedTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(23,fd,1===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(15,12,c.shops.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(25,fd,2===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(21,15,c.products.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(27,fd,3===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(27,18,null==c.shopsProducts?null:c.shopsProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.Q6J("ngIf",2===c.selectedTab),e.xp6(1),e.Q6J("ngIf",3===c.selectedTab))},directives:[p.mk,p.O5,cm,oh,Tp,ah],pipes:[p.JJ],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 80px)!important;overflow:auto}small[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();const fm=["appLayout"];function Pu(r,i){if(1&r&&(e.TgZ(0,"div",40),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function Gs(r,i){1&r&&e._UZ(0,"i",41)}function mf(r,i){if(1&r&&e._UZ(0,"img",42),2&r){const t=e.oxw(4);e.Q6J("src",t.loggedUser.photoURL,e.LSH)}}function Sp(r,i){if(1&r&&(e.TgZ(0,"small",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(null==t.loggedUser?null:t.loggedUser.email)}}function Mu(r,i){if(1&r&&(e.TgZ(0,"div",43),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}function _s(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li"),e._UZ(2,"hr",38),e.qZA(),e.TgZ(3,"li",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).toggleExport()}),e.TgZ(4,"div",25),e._UZ(5,"i",44),e.TgZ(6,"a",27),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}2&r&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"menu.export")))}const pd=function(r){return{disabled:r}},lh=function(){return["/shoppingCart"]},Ep=function(){return["/search-shops"]},wp=function(){return["/search-products"]},Dp=function(r){return{disabled:r}},Ap=function(){return["/alerts"]},xp=function(){return["/purchases"]},pm=function(){return["/statistics"]};function Xl(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"div",9)(3,"button",10),e._UZ(4,"i",11),e.qZA(),e.YNc(5,Pu,3,4,"div",12),e.qZA(),e.TgZ(6,"div",13)(7,"button",14),e._UZ(8,"i",15),e.qZA(),e.TgZ(9,"ul",16)(10,"li",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToUserDetail()}),e.TgZ(11,"div",18)(12,"div"),e.YNc(13,Gs,1,0,"i",19),e.YNc(14,mf,1,1,"img",20),e.qZA(),e.TgZ(15,"div",21)(16,"span",22),e._uU(17),e.qZA(),e.YNc(18,Sp,2,1,"small",23),e.qZA()()(),e.TgZ(19,"li",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToHome()}),e.TgZ(20,"div",25),e._UZ(21,"i",26),e.TgZ(22,"a",27),e._uU(23),e.ALo(24,"translate"),e.qZA()()(),e.TgZ(25,"li",28)(26,"div",25),e._UZ(27,"i",29),e.TgZ(28,"a",30),e._uU(29),e.ALo(30,"translate"),e.TgZ(31,"small",31),e._uU(32),e.ALo(33,"number"),e.qZA()()()(),e.TgZ(34,"li",28)(35,"div",25),e._UZ(36,"i",32),e.TgZ(37,"a",30),e._uU(38),e.ALo(39,"translate"),e.TgZ(40,"small",31),e._uU(41),e.ALo(42,"number"),e.qZA()()()(),e.TgZ(43,"li",33)(44,"div",25),e._UZ(45,"i",34),e.TgZ(46,"a",30),e._uU(47),e.ALo(48,"translate"),e.qZA(),e.YNc(49,Mu,3,4,"div",35),e.qZA()(),e.TgZ(50,"li",28)(51,"div",25),e._UZ(52,"i",36),e.TgZ(53,"a",30),e._uU(54),e.ALo(55,"translate"),e.qZA()()(),e.TgZ(56,"li",28)(57,"div",25),e._UZ(58,"i",37),e.TgZ(59,"a",30),e._uU(60),e.ALo(61,"translate"),e.qZA()()(),e.YNc(62,_s,9,3,"ng-container",0),e.TgZ(63,"li"),e._UZ(64,"hr",38),e.qZA(),e.TgZ(65,"li",24),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e.TgZ(66,"div",25),e._UZ(67,"i",39),e.TgZ(68,"a",27),e._uU(69),e.ALo(70,"translate"),e.qZA()()()()()(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(3),e.Q6J("ngClass",e.VKq(44,pd,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",e.DdM(46,lh)),e.xp6(2),e.Q6J("ngIf",t.cartItemCount),e.xp6(8),e.Q6J("ngIf",!t.loggedUser.photoURL),e.xp6(1),e.Q6J("ngIf",t.loggedUser.photoURL),e.xp6(3),e.Oqu((null==t.loggedUser||null==t.loggedUser.username?null:t.loggedUser.username.length)>0?null==t.loggedUser?null:t.loggedUser.username:null==t.loggedUser?null:t.loggedUser.email.substr(0,null==t.loggedUser?null:t.loggedUser.email.indexOf("@"))),e.xp6(1),e.Q6J("ngIf",null==t.loggedUser?null:t.loggedUser.username),e.xp6(5),e.Oqu(e.lcZ(24,24,"menu.home")),e.xp6(5),e.Q6J("routerLink",e.DdM(47,Ep)),e.xp6(1),e.Oqu(e.lcZ(30,26,"menu.shops")),e.xp6(3),e.hij("(",e.xi3(33,28,null==t.shops?null:t.shops.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(48,wp)),e.xp6(1),e.Oqu(e.lcZ(39,31,"menu.products")),e.xp6(3),e.hij("(",e.xi3(42,33,null==t.products?null:t.products.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngClass",e.VKq(49,Dp,0===t.alerts)),e.xp6(3),e.Q6J("routerLink",e.DdM(51,Ap)),e.xp6(1),e.Oqu(e.lcZ(48,36,"menu.alerts")),e.xp6(2),e.Q6J("ngIf",t.alerts_unread>0),e.xp6(4),e.Q6J("routerLink",e.DdM(52,xp)),e.xp6(1),e.Oqu(e.lcZ(55,38,"menu.purchases")),e.xp6(5),e.Q6J("routerLink",e.DdM(53,pm)),e.xp6(1),e.Oqu(e.lcZ(61,40,"menu.analysis")),e.xp6(2),e.Q6J("ngIf",t.APP_CONFIG.dataSourceType!==t.DataSourceTypeEnum.FIRESTORE&&(null==t.loggedUser?null:t.loggedUser.admin)),e.xp6(7),e.Oqu(e.lcZ(70,42,"menu.exit"))}}function Ou(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToHome()}),e._UZ(3,"i",7),e.TgZ(4,"span"),e._uU(5,"Proddle"),e.qZA()(),e.YNc(6,Xl,71,54,"ng-container",0),e.qZA(),e._UZ(7,"router-outlet"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.loggedUser&&t.shopsLoaded&&t.productsLoaded&&t.shopsProductsLoaded)}}function gm(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",45),e._UZ(2,"app-backoffice-layout",46),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function _f(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,Ou,8,1,"div",3),e.YNc(3,gm,3,3,"ng-container",0),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.backofficeMode),e.xp6(1),e.Q6J("ngIf",t.backofficeMode)}}let mm=(()=>{class r{constructor(t,c,h,_,I,q,te,we,ot,Bt,Ht,Yt){this.route=t,this.router=c,this.shopService=h,this.productService=_,this.shopProductService=I,this.loginService=q,this.shoppingCartService=te,this.spinner=we,this.translate=ot,this.translationsService=Bt,this.firestoreAuthService=Ht,this.alertService=Yt,this.APP_CONFIG=Cn.q,this.DataSourceTypeEnum=jt.z,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.alerts=0,this.alerts_unread=0,this.translate.setDefaultLang(Cn.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let rn=localStorage.getItem(On.M.PS_APP_LANGUAGE);rn?this.translate.use(rn):(this.translate.use(Cn.q.defaultLanguage),localStorage.setItem(On.M.PS_APP_LANGUAGE,Cn.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(On.M.PS_APP_LANGUAGE)),console.log("Removing localStorage necessary data"),localStorage.removeItem(On.M.PS_LAST_SHOP_ID),localStorage.removeItem(On.M.PS_SHOPS_SEARCH_TEXT),localStorage.removeItem(On.M.PS_PRODUCTS_SEARCH_TEXT)})}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),c=document.createElement("textarea");c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.opacity="0",c.value=t,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let c=0;this.cartConfig.items.forEach(h=>{h.productsUnits.forEach(_=>{c+=_.units})}),this.cartItemCount=c}}ngOnInit(){this.spinner.show(),this.route.queryParams.subscribe(t=>{console.log("params",t),this.backofficeMode=t&&"true"===t.backoffice}),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0},()=>{this.shopsLoaded=!0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0},()=>{this.shopsProductsLoaded=!0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0},()=>{this.productsLoaded=!0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),this.spinner.hide()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.gz),e.Y36(Kn.F0),e.Y36(Tr.d),e.Y36(Ei.M),e.Y36(Qs),e.Y36(go.r),e.Y36(Vn),e.Y36(Zi),e.Y36(Zo),e.Y36(Va),e.Y36(Yl),e.Y36(Ql))},r.\u0275cmp=e.Xpm({type:r,selectors:[["my-app"]],viewQuery:function(t,c){if(1&t&&e.Gf(fm,5),2&t){let h;e.iGM(h=e.CRH())&&(c.appLayoutComponent=h.first)}},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-between","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1","ms-3","cursor-pointer",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"d-flex","justify-content-end","align-items-center"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2",3,"ngClass"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["class","badge bg-danger ms-auto",4,"ngIf"],["title","Compres",1,"fas","fa-bag-shopping","me-1"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],[1,"badge","bg-danger","ms-auto"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-0"],[3,"shops","products","shopsProducts"]],template:function(t,c){1&t&&(e.YNc(0,_f,4,2,"ng-container",0),e._UZ(1,"ngx-spinner",1)),2&t&&e.Q6J("ngIf",c.translationsLoaded&&c.shopsLoaded&&c.productsLoaded&&c.shopsProductsLoaded)},directives:[p.O5,p.mk,Kn.rH,Kn.yS,Kn.lC,ch,Cu],pipes:[p.JJ,vo],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1200px;min-width:600px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:25px;font-weight:400;font-size:9pt}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge.bg-danger[_ngcontent-%COMP%]{color:#fff!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),r})();var uh=x(520),qo=x(896),hc=x.n(qo),Ip=x(5199),ua=x.n(Ip);const Pp=["BarcodeScanner"],Mp={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},Op=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function dh(r){if(!Op.some(i=>i===r))throw new Error(`This barcode type '${r}' is not valid.`)}function hh(r){return`${r}_reader`}let yf=(()=>{class r{constructor(){this.maxWidth="100%",this._valueChanges=new Xr.x,this.valueChanges=new e.vpe,this.started=new e.vpe,this._started=!1,this._destroyed=new Xr.x,this._valueChanges.pipe(wi(this._destroyed),(0,uo.h)(t=>{const c=t.codeResult.decodedCodes.filter(_=>void 0!==_.error).map(_=>_.error),h=this._getMedian(c);return!this.errorFilter||!(this.errorFilter.median&&h>this.errorFilter.median||this.errorFilter.threshold&&c.some(_=>_>this.errorFilter.threshold))})).subscribe(t=>{const c=hc().canvas.ctx.overlay;hc().ImageDebug.drawPath(t.line,{x:"x",y:"y"},c,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,c)=>{hc().onProcessed(h=>this.onProcessed(h)),hc().onDetected(h=>this.onDetected(h)),this.configQuagga=ua()({},this.config,Mp),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function Nu(r){return"string"==typeof r?(dh(r),[hh(r)]):r.map(i=>(dh(i),hh(i)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),hc().init(this.configQuagga,h=>{if(h)return console.log(h),c(h);t()})})}_getMedian(t){t.sort((h,_)=>h-_);const c=Math.floor(t.length/2);return t.length%2==1?t[c]:(t[c-1]+t[c])/2}start(){return(0,Tl.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),hc().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(hc().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const c=hc().canvas.ctx.overlay,h=hc().canvas.dom.overlay;t&&(t.boxes&&(c.clearRect(0,0,parseInt(h.getAttribute("width"),10),parseInt(h.getAttribute("height"),10)),t.boxes.filter(_=>_!==t.box).forEach(_=>{hc().ImageDebug.drawPath(_,{x:0,y:1},c,{color:"green",lineWidth:2})})),t.box&&hc().ImageDebug.drawPath(t.box,{x:0,y:1},c,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,c){if(1&t&&e.Gf(Pp,5),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[e.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"video")(3,"canvas",2),e.qZA()),2&t&&(e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.Q6J("hidden",!c.isStarted),e.xp6(2),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.xp6(1),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),r})(),fh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var ph=x(515),gh=x(3532);function fc(r=0,i,t=is.P){let c=-1;return null!=i&&((0,gh.K)(i)?t=i:c=i),new sr.y(h=>{let _=function Np(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;_<0&&(_=0);let I=0;return t.schedule(function(){h.closed||(h.next(I++),0<=c?this.schedule(void 0,c):h.complete())},_)})}const{isArray:pc}=Array;function bf(r){return 1===r.length&&pc(r[0])?r[0]:r}var Tf=x(9841);const Ea=new sr.y(Fs.Z);function Yc(...r){const i=(0,Tn.jO)(r),t=bf(r);return t.length?new sr.y(c=>{let h=t.map(()=>[]),_=t.map(()=>!1);c.add(()=>{h=_=null});for(let I=0;!c.closed&&I<t.length;I++)(0,cr.Xf)(t[I]).subscribe((0,Pn.x)(c,q=>{if(h[I].push(q),h.every(te=>te.length)){const te=h.map(we=>we.shift());c.next(i?i(...te):te),h.some((we,ot)=>!we.length&&_[ot])&&c.complete()}},()=>{_[I]=!0,!h[I].length&&c.complete()}));return()=>{h=_=null}}):ph.E}var md=x(8675);function ta(...r){const i=(0,Tn.jO)(r);return(0,Ca.e)((t,c)=>{const h=r.length,_=new Array(h);let I=r.map(()=>!1),q=!1;for(let te=0;te<h;te++)(0,cr.Xf)(r[te]).subscribe((0,Pn.x)(c,we=>{_[te]=we,!q&&!I[te]&&(I[te]=!0,(q=I.every(Ms.y))&&(I=null))},Fs.Z));t.subscribe((0,Pn.x)(c,te=>{if(q){const we=[te,..._];c.next(i?i(...we):we)}}))})}Math,Math,Math;const zp=["*"];function Id(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(){const _=e.CHM(t).$implicit,I=e.oxw();return I.focus(),I.select(_.id,I.NgbSlideEventSource.INDICATOR)}),e.qZA()}if(2&r){const t=i.$implicit,c=e.oxw();e.ekj("active",t.id===c.activeId),e.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===c.activeId)}}function wh(r,i){}function Dh(r,i){if(1&r&&(e.TgZ(0,"div",7)(1,"span",8),e.SDv(2,9),e.qZA(),e.YNc(3,wh,0,0,"ng-template",10),e.qZA()),2&r){const t=i.$implicit,c=i.index,h=i.count;e.Q6J("id","slide-"+t.id),e.xp6(2),e.pQV(c+1)(h),e.QtT(2),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tplRef)}}function $p(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowLeft()}),e._UZ(1,"span",12),e.TgZ(2,"span",8),e.SDv(3,13),e.qZA()()}}function Kp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowRight()}),e._UZ(1,"span",15),e.TgZ(2,"span",8),e.SDv(3,16),e.qZA()()}}const J_=["dialog"];function ju(r){return null!=r}function Ml(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const jf={animation:!0,transitionTimerDelayMs:5},a0=()=>{},{transitionTimerDelayMs:Cg}=jf,xa=new Map,na=(r,i,t,c)=>{let h=c.context||{};const _=xa.get(i);if(_)switch(c.runningTransition){case"continue":return ph.E;case"stop":r.run(()=>_.transition$.complete()),h=Object.assign(_.context,h),xa.delete(i)}const I=t(i,c.animation,h)||a0;if(!c.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>I()),(0,pi.of)(void 0).pipe(function Vf(r){return i=>new sr.y(t=>i.subscribe({next:I=>r.run(()=>t.next(I)),error:I=>r.run(()=>t.error(I)),complete:()=>r.run(()=>t.complete())}))}(r));const q=new Xr.x,te=new Xr.x,we=q.pipe(function gc(...r){return i=>(0,W.z)(i,(0,pi.of)(...r))}(!0));xa.set(i,{transition$:q,complete:()=>{te.next(),te.complete()},context:h});const ot=function zm(r){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return r.runOutsideAngular(()=>{const Bt=Wr(i,"transitionend").pipe(wi(we),(0,uo.h)(({target:Yt})=>Yt===i));(function mh(...r){return 1===(r=bf(r)).length?(0,cr.Xf)(r[0]):new sr.y(function gd(r){return i=>{let t=[];for(let c=0;t&&!i.closed&&c<r.length;c++)t.push((0,cr.Xf)(r[c]).subscribe((0,Pn.x)(i,h=>{if(t){for(let _=0;_<t.length;_++)_!==c&&t[_].unsubscribe();t=null}i.next(h)})))}}(r))})(fc(ot+Cg).pipe(wi(we)),Bt,te).pipe(wi(we)).subscribe(()=>{xa.delete(i),r.run(()=>{I(),q.next(),q.complete()})})}),q.asObservable()};let Eg=(()=>{class r{constructor(){this.animation=jf.animation}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Hf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),d0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),e_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var rl=(()=>{return(r=rl||(rl={})).START="start",r.END="end",rl;var r})();const xg=({classList:r})=>r.contains("carousel-item-start")||r.contains("carousel-item-end"),du=r=>{r.remove("carousel-item-start"),r.remove("carousel-item-end")},Hu=r=>{du(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},Ud=(r,i,{direction:t})=>{const{classList:c}=r;return i?(xg(r)?du(c):(c.add("carousel-item-"+(t===rl.START?"next":"prev")),Ml(r),c.add("carousel-item-"+t)),()=>{Hu(c),c.add("active")}):(du(c),Hu(c),void c.add("active"))},h0=(r,i,{direction:t})=>{const{classList:c}=r;return i?(xg(r)?du(c):c.add("carousel-item-"+t),()=>{Hu(c),c.remove("active")}):(du(c),Hu(c),void c.remove("active"))};let Gd=(()=>{class r{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Eg))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),t_=0,Uh=(()=>{class r{constructor(t){this.tplRef=t,this.id="ngb-slide-"+t_++,this.slid=new e.vpe}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),Gh=(()=>{class r{constructor(t,c,h,_,I){this._platformId=c,this._ngZone=h,this._cd=_,this._container=I,this.NgbSlideEventSource=Os,this._destroy$=new Xr.x,this._interval$=new Ua.X(0),this._mouseHover$=new Ua.X(!1),this._focused$=new Ua.X(!1),this._pauseOnHover$=new Ua.X(!1),this._pauseOnFocus$=new Ua.X(!1),this._pause$=new Ua.X(!1),this._wrap$=new Ua.X(!1),this.slide=new e.vpe,this.slid=new e.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Os.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Os.ARROW_RIGHT)}ngAfterContentInit(){(0,p.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,Tf.a)([this.slide.pipe((0,cn.U)(c=>c.current),(0,md.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,md.O)(null))]).pipe((0,cn.U)(([c,h])=>{const _=this.slides.toArray(),I=this._getSlideIdxById(c);return h?_.length>1:I<_.length-1}),ea());(0,Tf.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,cn.U)(([c,h,_,I,q,te,we])=>c||h&&_||I&&q||!we?0:te),ea(),(0,Xn.w)(c=>c>0?fc(c,c):Ea),wi(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Os.TIMER)))}),this.slides.changes.pipe(wi(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(c=>(r=>{var i;null===(i=xa.get(r))||void 0===i||i.complete()})(this._getSlideElement(c))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,Ge.q)(1)).subscribe(()=>{for(const{id:c}of this.slides){const h=this._getSlideElement(c);c===this.activeId?h.classList.add("active"):h.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,c){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),c)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),rl.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),rl.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,c,h){const _=this._transitionIds;if(_&&(_[0]!==t||_[1]!==this.activeId))return;let I=this._getSlideById(t);if(I&&I.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:I.id,direction:c,paused:this._pause$.value,source:h});const q={animation:this.animation,runningTransition:"stop",context:{direction:c}},te=[],we=this._getSlideById(this.activeId);if(we){const Yt=na(this._ngZone,this._getSlideElement(we.id),h0,q);Yt.subscribe(()=>{we.slid.emit({isShown:!1,direction:c,source:h})}),te.push(Yt)}const ot=this.activeId;this.activeId=I.id;const Bt=this._getSlideById(this.activeId),Ht=na(this._ngZone,this._getSlideElement(I.id),Ud,q);Ht.subscribe(()=>{null==Bt||Bt.slid.emit({isShown:!0,direction:c,source:h})}),te.push(Ht),Yc(...te).pipe((0,Ge.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:ot,current:I.id,direction:c,paused:this._pause$.value,source:h})})}this._cd.markForCheck()}_getSlideEventDirection(t,c){return this._getSlideIdxById(t)>this._getSlideIdxById(c)?rl.END:rl.START}_getSlideById(t){return this.slides.find(c=>c.id===t)||null}_getSlideIdxById(t){const c=this._getSlideById(t);return null!=c?this.slides.toArray().indexOf(c):-1}_getNextSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return h===c.length-1?this.wrap?c[0].id:c[c.length-1].id:c[h+1].id}_getPrevSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return 0===h?this.wrap?c[c.length-1].id:c[0].id:c[h-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Gd),e.Y36(e.Lbi),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(t,c,h){if(1&t&&e.Suo(h,Uh,4),2&t){let _;e.iGM(_=e.CRH())&&(c.slides=_)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,c){1&t&&e.NdJ("keydown.arrowLeft",function(){return c.keyboard&&c.arrowLeft()})("keydown.arrowRight",function(){return c.keyboard&&c.arrowRight()})("mouseenter",function(){return c.mouseHover=!0})("mouseleave",function(){return c.mouseHover=!1})("focusin",function(){return c.focused=!0})("focusout",function(){return c.focused=!1}),2&t&&(e.uIk("aria-activedescendant","slide-"+c.activeId),e.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,t,c;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,c=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],c]},template:function(t,c){1&t&&(e.TgZ(0,"ol",0),e.YNc(1,Id,1,5,"li",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Dh,4,4,"div",3),e.qZA(),e.YNc(4,$p,4,0,"a",4),e.YNc(5,Kp,4,0,"a",5)),2&t&&(e.ekj("visually-hidden",!c.showNavigationIndicators),e.xp6(1),e.Q6J("ngForOf",c.slides),e.xp6(2),e.Q6J("ngForOf",c.slides),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows))},directives:[p.sg,p.tP,p.O5],encapsulation:2,changeDetection:0}),r})();var Os=(()=>{return(r=Os||(Os={})).TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator",Os;var r})();let ys=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Pa=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var bs=(()=>{return(r=bs||(bs={}))[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",bs;var r})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Ts=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Og(r){const i=Array.from(r.querySelectorAll(Ts)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let M0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,D]]}),r})(),S_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();class $d{constructor(i,t,c){this.nodes=i,this.viewRef=t,this.componentRef=c}}let ip=(()=>{class r{constructor(t,c){this._el=t,this._zone=c}ngOnInit(){this._zone.onStable.asObservable().pipe((0,Ge.q)(1)).subscribe(()=>{na(this._zone,this._el.nativeElement,(t,c)=>{c&&Ml(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return na(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,c){2&t&&(e.Tol("modal-backdrop"+(c.backdropClass?" "+c.backdropClass:"")),e.ekj("show",!c.animation)("fade",c.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,c){},encapsulation:2}),r})();class R0{close(i){}dismiss(i){}}class k0{constructor(i,t,c,h){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=c,this._beforeDismiss=h,this._closed=new Xr.x,this._dismissed=new Xr.x,this._hidden=new Xr.x,i.instance.dismissEvent.subscribe(_=>{this.dismiss(_)}),this.result=new Promise((_,I)=>{this._resolve=_,this._reject=I}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(wi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(wi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function Tg(r){return r&&r.then}(t)?!1!==t&&this._dismiss(i):t.then(c=>{!1!==c&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,pi.of)(void 0);i.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),Yc(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var op=(()=>{return(r=op||(op={}))[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",op;var r})();let E_=(()=>{class r{constructor(t,c,h){this._document=t,this._elRef=c,this._zone=h,this._closed$=new Xr.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new Xr.x,this.hidden=new Xr.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,Ge.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,c={animation:this.animation,runningTransition:"stop"},I=Yc(na(this._zone,t,()=>t.classList.remove("show"),c),na(this._zone,this._dialogEl.nativeElement,()=>{},c));return I.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),I}_show(){const t={animation:this.animation,runningTransition:"continue"};Yc(na(this._zone,this._elRef.nativeElement,(_,I)=>{I&&Ml(_),_.classList.add("show")},t),na(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Wr(t,"keydown").pipe(wi(this._closed$),(0,uo.h)(h=>h.which===bs.Escape)).subscribe(h=>{this.keyboard?requestAnimationFrame(()=>{h.defaultPrevented||this._zone.run(()=>this.dismiss(op.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;Wr(this._dialogEl.nativeElement,"mousedown").pipe(wi(this._closed$),(0,wr.b)(()=>c=!1),(0,Xn.w)(()=>Wr(t,"mouseup").pipe(wi(this._closed$),(0,Ge.q)(1))),(0,uo.h)(({target:h})=>t===h)).subscribe(()=>{c=!0}),Wr(t,"click").pipe(wi(this._closed$)).subscribe(({target:h})=>{t===h&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(op.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const c=t.querySelector("[ngbAutofocus]"),h=Og(t)[0];(c||h||t).focus()}}_restoreFocus(){const t=this._document.body,c=this._elWithFocus;let h;h=c&&c.focus&&t.contains(c)?c:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>h.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&na(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.K0),e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(t,c){if(1&t&&e.Gf(J_,7),2&t){let h;e.iGM(h=e.CRH())&&(c._dialogEl=h.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,c){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",c.ariaLabelledBy)("aria-describedby",c.ariaDescribedBy),e.Tol("modal d-block"+(c.windowClass?" "+c.windowClass:"")),e.ekj("fade",c.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:zp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,c){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(c.size?" modal-"+c.size:"")+(c.centered?" modal-dialog-centered":"")+(c.scrollable?" modal-dialog-scrollable":"")+(c.modalDialogClass?" "+c.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),r})(),L0=(()=>{class r{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,h=c.style,{overflow:_,paddingRight:I}=h;if(t>0){const q=parseFloat(window.getComputedStyle(c).paddingRight);h.paddingRight=`${q+t}px`}return h.overflow="hidden",()=>{t>0&&(h.paddingRight=I),h.overflow=_}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Yh=(()=>{class r{constructor(t,c,h,_,I,q){this._applicationRef=t,this._injector=c,this._document=h,this._scrollBar=_,this._rendererFactory=I,this._ngZone=q,this._activeWindowCmptHasChanged=new Xr.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const te=this._windowCmpts[this._windowCmpts.length-1];((r,i,t,c=!1)=>{this._ngZone.runOutsideAngular(()=>{const h=Wr(i,"focusin").pipe(wi(t),(0,cn.U)(_=>_.target));Wr(i,"keydown").pipe(wi(t),(0,uo.h)(_=>_.which===bs.Tab),ta(h)).subscribe(([_,I])=>{const[q,te]=Og(i);(I===q||I===i)&&_.shiftKey&&(te.focus(),_.preventDefault()),I===te&&!_.shiftKey&&(q.focus(),_.preventDefault())}),c&&Wr(i,"click").pipe(wi(t),ta(h),(0,cn.U)(_=>_[1])).subscribe(_=>_.focus())})})(0,te.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(te.location.nativeElement)}})}open(t,c,h,_){const I=_.container instanceof HTMLElement?_.container:ju(_.container)?this._document.querySelector(_.container):this._document.body,q=this._rendererFactory.createRenderer(null,null),te=this._scrollBar.hide(),we=()=>{this._modalRefs.length||(q.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!I)throw new Error(`The specified modal container "${_.container||"body"}" was not found in the DOM.`);const ot=new R0,Bt=this._getContentRef(t,_.injector||c,h,ot,_);let Ht=!1!==_.backdrop?this._attachBackdrop(t,I):void 0,Yt=this._attachWindowComponent(t,I,Bt),rn=new k0(Yt,Bt,Ht,_.beforeDismiss);return this._registerModalRef(rn),this._registerWindowCmpt(Yt),rn.result.then(te,te),rn.result.then(we,we),ot.close=Xt=>{rn.close(Xt)},ot.dismiss=Xt=>{rn.dismiss(Xt)},this._applyWindowOptions(Yt.instance,_),1===this._modalRefs.length&&q.addClass(this._document.body,"modal-open"),Ht&&Ht.instance&&(this._applyBackdropOptions(Ht.instance,_),Ht.changeDetectorRef.detectChanges()),Yt.changeDetectorRef.detectChanges(),rn}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(c=>c.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,c){let _=t.resolveComponentFactory(ip).create(this._injector);return this._applicationRef.attachView(_.hostView),c.appendChild(_.location.nativeElement),_}_attachWindowComponent(t,c,h){let I=t.resolveComponentFactory(E_).create(this._injector,h.nodes);return this._applicationRef.attachView(I.hostView),c.appendChild(I.location.nativeElement),I}_applyWindowOptions(t,c){this._windowAttributes.forEach(h=>{ju(c[h])&&(t[h]=c[h])})}_applyBackdropOptions(t,c){this._backdropAttributes.forEach(h=>{ju(c[h])&&(t[h]=c[h])})}_getContentRef(t,c,h,_,I){return h?h instanceof e.Rgc?this._createFromTemplateRef(h,_):function bg(r){return"string"==typeof r}(h)?this._createFromString(h):this._createFromComponent(t,c,h,_,I):new $d([])}_createFromTemplateRef(t,c){const _=t.createEmbeddedView({$implicit:c,close(I){c.close(I)},dismiss(I){c.dismiss(I)}});return this._applicationRef.attachView(_),new $d([_.rootNodes],_)}_createFromString(t){const c=this._document.createTextNode(`${t}`);return new $d([[c]])}_createFromComponent(t,c,h,_,I){const q=t.resolveComponentFactory(h),te=e.zs3.create({providers:[{provide:R0,useValue:_}],parent:c}),we=q.create(te),ot=we.location.nativeElement;return I.scrollable&&ot.classList.add("component-host-scrollable"),this._applicationRef.attachView(we.hostView),new $d([[ot]],we.hostView,we)}_setAriaHidden(t){const c=t.parentElement;c&&t!==this._document.body&&(Array.from(c.children).forEach(h=>{h!==t&&"SCRIPT"!==h.nodeName&&(this._ariaHiddenValues.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,c)=>{t?c.setAttribute("aria-hidden",t):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const c=()=>{const h=this._modalRefs.indexOf(t);h>-1&&(this._modalRefs.splice(h,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(c,c)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const c=this._windowCmpts.indexOf(t);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(p.K0),e.LFG(L0),e.LFG(e.FYo),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),l=(()=>{class r{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Eg))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),n=(()=>{class r{constructor(t,c,h,_){this._moduleCFR=t,this._injector=c,this._modalStack=h,this._config=_}open(t,c={}){const h=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),c);return this._modalStack.open(this._moduleCFR,this._injector,t,h)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(Yh),e.LFG(l))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),a=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[n]}),r})(),lr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),os=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),B0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Yd=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Qh=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),qg=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),V0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),j0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function zg(){return 100}});let Z0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();const uv=[Hf,d0,e_,ys,Pa,M0,S_,a,lr,os,B0,Yd,Qh,qg,V0,j0,Z0];let dv=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[uv,Hf,d0,e_,ys,Pa,M0,S_,a,lr,os,B0,Yd,Qh,qg,V0,j0,Z0]}),r})(),Uc=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(go.r),e.LFG(Kn.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Xh=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(go.r),e.LFG(Kn.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const so=void 0,Hb=["es",[["a.\xa0m.","p.\xa0m."],so,so],so,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],so,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],so,[["a. C.","d. C."],so,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",so,"{1}, {0}",so],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[so,"$"],BRL:[so,"R$"],CAD:[so,"$"],CNY:[so,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[so,"\xa3"],HKD:[so,"$"],ILS:[so,"\u20aa"],INR:[so,"\u20b9"],JPY:[so,"\xa5"],KRW:[so,"\u20a9"],MXN:[so,"$"],NZD:[so,"$"],PHP:[so,"\u20b1"],RON:[so,"L"],THB:["\u0e3f"],TWD:[so,"NT$"],USD:["US$","$"],XAF:[],XCD:[so,"$"],XOF:[]},"ltr",function jb(r){return 1===r?1:5}];function Zb(r,i){1&r&&e.GkF(0)}function hv(r,i){1&r&&(e.TgZ(0,"div",10),e._UZ(1,"i",11),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"alerts.unreadInfoText")))}const fv=function(r){return{read:r}},pv=function(r,i){return{"text-success":r,"text-danger":i}},Wb=function(r,i){return{"fa-circle-arrow-down":r,"fa-circle-arrow-up":i}};function gv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",13),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(2).toggleReadAlert(_)}),e.TgZ(2,"div",14)(3,"div",15)(4,"div",16),e._UZ(5,"i",17),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",18),e._UZ(10,"img",19),e.qZA(),e.TgZ(11,"div",20)(12,"div",21)(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()(),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(14,fv,t.read)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,pv,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,Wb,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(2),e.AsE(" ",t.currentPrice-t.lastPrice>0?"+":"","",e.xi3(8,8,t.currentPrice-t.lastPrice,"1.2-2")," \u20ac "),e.xp6(3),e.Q6J("src",c.getShop(t.shopId).imageUrl,e.LSH),e.xp6(4),e.Oqu(e.xi3(15,11,t.date,"dd.MM.yyyy - HH:mm")),e.xp6(4),e.Oqu(c.getProduct(t.productBarcode).name)}}function qb(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,hv,5,3,"div",6),e.TgZ(3,"div",7)(4,"ul",8),e.YNc(5,gv,19,22,"ng-container",9),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.unreadAlerts>0),e.xp6(3),e.Q6J("ngForOf",t.userAlerts.alerts)}}function zb(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",28),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.alerts")))}function RS(r,i){1&r&&(e.TgZ(0,"div",30)(1,"small",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commons.noData")))}let kS=(()=>{class r{constructor(t,c,h,_){this.router=t,this.alertService=c,this.shopService=h,this.productService=_,this.unreadAlerts=0}exit(){this.router.navigate([""])}getProduct(t){return this.productService._products.find(c=>c.barcode===t)}getShop(t){return this.shopService._shops.find(c=>c.id===t)}toggleReadAlert(t){this.alertService.toggleReadAlert(t),this.unreadAlerts=this.alertService.getUnreadAlerts()}sortAlerts(){this.userAlerts.alerts.sort((t,c)=>t.date>c.date?-1:1)}ngOnInit(){this.userAlerts=this.alertService._userAlerts,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts(),this.alertService.userAlerts.subscribe(t=>{this.userAlerts=t,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Ql),e.Y36(Tr.d),e.Y36(Ei.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-alerts"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100","bg-danger"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["breadcrumb",""],["noData",""],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],["class","alert alert-info d-flex",4,"ngIf"],[1,"w-100"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"alert","alert-info","d-flex"],[1,"fas","fa-triangle-exclamation","me-2","mt-1"],[1,"text-start"],[1,"list-group-item","text-start","p-0","mb-1",3,"ngClass","click"],[1,"d-flex","w-100"],[1,"left","d-flex","flex-column","align-items-center","justify-content-center","w-25","px-2"],[1,"icon-container",3,"ngClass"],[1,"fas","mb-1",3,"ngClass"],[1,"left","d-flex","align-items-center","justify-content-center"],[1,"shop-logo",3,"src"],[1,"right","d-flex","flex-column","p-3"],[1,"d-flex","w-100","mb-2"],[1,"d-flex"],[1,"fw-bold"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],[1,"no-data-msg","ps-4"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Zb,1,0,"ng-container",1),e.qZA(),e.YNc(2,qb,6,2,"ng-container",2),e.YNc(3,zb,11,6,"ng-template",null,3,e.W1O),e.YNc(5,RS,4,3,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",(null==c.userAlerts||null==c.userAlerts.alerts?null:c.userAlerts.alerts.length)>0)("ngIfElse",_)}},directives:[p.tP,p.O5,p.sg,p.mk],pipes:[vo,p.JJ,p.uU],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 195px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;color:#fff;border:1px solid #ccc}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}.list-group-item[_ngcontent-%COMP%]{font-size:9pt}.list-group-item.read[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.4}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{border-right:1px solid #ccc}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]   div.icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{max-width:65px;max-height:65px}div.alert[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();function LS(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.registerError")))}function FS(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordsDifferentError")))}function mv(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordLengthError")))}function w_(r,i){if(1&r&&(e.TgZ(0,"span",18),e.YNc(1,LS,3,3,"small",19),e.YNc(2,FS,3,3,"small",19),e.YNc(3,mv,3,3,"small",19),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&t.user.passwordRepeat.length>5&&t.user.password.length>5),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&(t.user.passwordRepeat.length<6||t.user.password.length<6))}}const $b=function(r){return{disabled:r}};let Kb=(()=>{class r{constructor(t,c,h){this.firestoreAuthService=t,this.loginService=c,this.router=h,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.register(t,c).then(h=>{if(h){console.log(h);const _={email:this.user.email};alert("Register ok!"),this.loginService.login(_),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var t,c,h,_,I,q;return(null===(c=null===(t=this.user)||void 0===t?void 0:t.password)||void 0===c?void 0:c.length)>5&&(null===(_=null===(h=this.user)||void 0===h?void 0:h.passwordRepeat)||void 0===_?void 0:_.length)>5&&(null===(I=this.user)||void 0===I?void 0:I.password)===(null===(q=this.user)||void 0===q?void 0:q.passwordRepeat)}canAccess(){var t;return this.user.email.length>0&&(null===(t=this.validateEmail(this.user.email))||void 0===t?void 0:t.length)>0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Yl),e.Y36(go.r),e.Y36(Kn.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",7)(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",7)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(_){return c.user.passwordRepeat=_}),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,w_,4,3,"span",14),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return c.register()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return c.goToLogin()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"login.registering")," "),e.xp6(7),e.Oqu(e.lcZ(12,16,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(18,20,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(4),e.Oqu(e.lcZ(24,24,"login.passwordRepeat")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,26,"login.passwordRepeat")),e.Q6J("ngModel",c.user.passwordRepeat),e.xp6(2),e.Q6J("ngIf",c.canAccess()&&(c.registerError||!c.validatePasswords())),e.xp6(2),e.Q6J("ngClass",e.VKq(32,$b,!c.canAccess()||!c.validatePasswords())),e.xp6(1),e.hij(" ",e.lcZ(31,28,"login.doRegister")," "),e.xp6(3),e.hij(" ",e.lcZ(34,30,"commons.back")," "))},directives:[mn,yi,Si,Qi,p.O5,p.mk],pipes:[vo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})(),_v=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-banned-ip"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e._UZ(2,"i",1),e.TgZ(3,"span"),e._uU(4,"IP unauthorized"),e.qZA(),e.BQk(),e.qZA())},styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})(),Hs=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!(Cn.q.bannedIPs.length>0)||this.loginService.getInternetIp().pipe((0,cn.U)(t=>!Cn.q.bannedIPs.some(h=>h===t.ip)||(this.router.navigate(["forbiddenIP"]),!1)))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(go.r),e.LFG(Kn.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Jb(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.cheap")))}function Yb(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.expensive")))}function Qb(r,i){1&r&&e.GkF(0)}function Xb(r,i){if(1&r&&(e.TgZ(0,"li")(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(4),e.AsE("",t.name," (",t.brand,")")}}function eT(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td",17)(2,"ul",18),e.YNc(3,Xb,5,2,"li",12),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",null==t?null:t.products)}}const vv=function(r){return{active:r}};function tT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",13),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td")(10,"i",15),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return _.showProducts=!_.showProducts}),e.qZA()()(),e.YNc(11,eT,4,1,"tr",16),e.BQk()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(2);e.xp6(3),e.Oqu(c+1),e.xp6(2),e.Oqu(h.getShopName(t.shopId)),e.xp6(2),e.Oqu(e.xi3(8,5,t.times,"1.0-2")),e.xp6(3),e.Q6J("ngClass",e.VKq(8,vv,t.showProducts)),e.xp6(1),e.Q6J("ngIf",t.showProducts)}}function nT(r,i){if(1&r&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,tT,12,10,"ng-container",12),e.qZA()()()),2&r){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"shopStandings.shop")),e.xp6(3),e.Oqu(e.lcZ(11,5,"shopStandings.numProducts")),e.xp6(4),e.Q6J("ngForOf",t.standings)}}function sp(r,i){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"small",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shopStandings.noDataEnough")))}function rT(r,i){1&r&&(e.TgZ(0,"small",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij("",e.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function yv(r,i){if(1&r&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.TgZ(2,"div",27)(3,"small",28),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",29),e._UZ(8,"span",30),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,rT,5,3,"small",31),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"shopStandings.noResults"),". ",e.lcZ(6,6,"shopStandings.possibleReasons"),":"),e.xp6(6),e.hij("",e.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),e.xp6(2),e.Q6J("ngIf",t.onlyFavourites)}}let iT=(()=>{class r{constructor(t,c,h){this.shopProductService=t,this.shopService=c,this.productService=h,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],c=[],h=[];this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&t.indexOf(_.productBarcode)<0&&t.push(_.productBarcode)}),this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&c.indexOf(_.shopId)<0&&c.push(_.shopId)}),(t.length>1||c.length>1)&&t.forEach(_=>{const I=this.shopsProducts.filter(te=>te.productBarcode===_),q=[];if(I.forEach(te=>{q.indexOf(te.shopId)<0&&q.push(te.shopId)}),q.length>1){const te=this.shopsProducts.filter(Yt=>Yt.productBarcode===_);let we=[];q.forEach(Yt=>{we.push(te.filter(rn=>rn.shopId===Yt)[0])}),we=we.sort((Yt,rn)=>Yt.updateDate>rn.updateDate?-1:1);const ot=we.sort((Yt,rn)=>Yt.price>rn.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Ht=[];if(we.length>1&&ot[0].price!==ot[ot.length-1].price){const Yt=we[0].price,rn=this.productService._products.find(Xt=>we[0].productBarcode===Xt.barcode);Ht=we.filter(Xt=>Xt.price===Yt).map(Xt=>Xt.shopId),Ht.forEach(Xt=>{const zn=h.findIndex(Sr=>Sr.shopId===Xt);zn>=0?(h[zn].times++,h[zn].products.push(rn)):h.push({shopId:Xt,times:1,products:[rn],showProducts:!1})})}}}),this.standings=h.sort((_,I)=>_.times>I.times?-1:1)}getShopName(t){var c;return null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name>h.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts,this.calculateStandings()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Qs),e.Y36(Tr.d),e.Y36(Ei.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[e.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Jb,4,3,"div",2),e.YNc(3,Yb,4,3,"div",2),e.YNc(4,Qb,1,0,"ng-container",3),e.YNc(5,nT,15,7,"div",4),e.qZA()(),e.YNc(6,sp,5,3,"ng-template",null,5,e.W1O),e.YNc(8,yv,13,10,"ng-template",null,6,e.W1O)),2&t){const h=e.MAs(7),_=e.MAs(9);e.xp6(2),e.Q6J("ngIf","CHEAP"===c.target),e.xp6(1),e.Q6J("ngIf","EXPENSIVE"===c.target),e.xp6(1),e.Q6J("ngIf",c.shopsProducts.length>0)("ngIfElse",h),e.xp6(1),e.Q6J("ngIf",(null==c.standings?null:c.standings.length)>0)("ngIfElse",_)}},directives:[p.O5,p.sg,p.mk],pipes:[vo,p.JJ],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),r})();function bv(r,i){1&r&&e.GkF(0)}function oT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"span",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",10),e.TgZ(3,"span",11),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",12),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.analysis")))}let Tv=(()=>{class r{constructor(t,c,h){this.router=t,this.spinner=c,this.productService=h,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Zi),e.Y36(Ei.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,bv,1,0,"ng-container",1),e.TgZ(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),e.qZA(),e.YNc(10,oT,11,6,"ng-template",null,7,e.W1O)),2&t){const h=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(6,7,"commons.onlyFavouriteProducts")),e.xp6(3),e.Q6J("onlyFavourites",c.onlyFavourites)("target","CHEAP"),e.xp6(1),e.Q6J("onlyFavourites",c.onlyFavourites)("target","EXPENSIVE")}},directives:[p.tP,rt,Si,Qi,iT],pipes:[vo],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),r})();function sT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleShopList()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",14),e.TgZ(6,"span",15),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"small",16),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e.TgZ(12,"div",11)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleProductList()}),e.TgZ(14,"div",8)(15,"div",13),e._UZ(16,"i",18),e.TgZ(17,"span",15),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"small",16),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(7),e.Oqu(e.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(11,7,"home.shops")),e.xp6(8),e.Oqu(e.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(22,12,"home.products"))}}function W0(r,i){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}const aT=function(r){return{disabled:r}},Cv=function(r){return{"mb-3":r}};function Sv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleAlerts()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",20),e.YNc(6,W0,3,4,"span",21),e.TgZ(7,"small",16),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()(),e.TgZ(10,"div",11)(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).togglePurchases()}),e.TgZ(12,"div",8)(13,"div",13),e._UZ(14,"i",23),e.TgZ(15,"span",15),e._uU(16),e.ALo(17,"number"),e.qZA(),e.TgZ(18,"small",16),e._uU(19),e.ALo(20,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(13,aT,!t.alerts)),e.xp6(3),e.Q6J("ngClass",e.VKq(15,Cv,!t.alerts_unread)),e.xp6(1),e.Q6J("ngIf",t.alerts_unread),e.xp6(2),e.Oqu(e.lcZ(9,6,"home.alerts")),e.xp6(8),e.Oqu(e.xi3(17,8,null==t.shopsProducts?null:t.shopsProducts.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(20,11,"home.purchases"))}}function cT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,sT,23,14,"ng-container",5),e.qZA(),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().scan()}),e.TgZ(7,"div",8),e._UZ(8,"i",9),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",4),e.YNc(16,Sv,21,17,"ng-container",5),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.products.length>0),e.xp6(6),e.Oqu(e.lcZ(11,4,"home.scan")),e.xp6(3),e.Oqu(e.lcZ(14,6,"home.here")),e.xp6(3),e.Q6J("ngIf",t.products.length>0)}}function lT(r,i){1&r&&(e.TgZ(0,"div",24),e._uU(1," Carregant... "),e.qZA())}let uT=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.spinner=I,this.alertService=q,this.alerts=0,this.alerts_unread=0}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}togglePurchases(){this.router.navigate(["purchases"])}toggleAlerts(){this.router.navigate(["alerts"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopProductService.shopsProducts.subscribe(t=>{this.alertService.calculateAlerts(!1),this.shopsProducts=t}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.shops=this.shopService._shops,this.products=this.productService._products,this.shopsProducts=this.shopProductService._shopsProducts,this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Ei.M),e.Y36(Tr.d),e.Y36(Qs),e.Y36(Zi),e.Y36(Ql))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"ngClass","click"],[1,"fas","fa-triangle-exclamation",3,"ngClass"],["class","count",4,"ngIf"],[1,"bubble-btn","sm","purchases-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-bag-shopping"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.YNc(0,cT,17,8,"ng-container",0),e.YNc(1,lT,2,0,"ng-template",null,1,e.W1O)),2&t){const h=e.MAs(2);e.Q6J("ngIf",c.products&&c.shops)("ngIfElse",h)}},directives:[p.O5,p.mk],pipes:[p.JJ,vo],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.sm.purchases-btn[_ngcontent-%COMP%]{background-color:#590074}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),r})();function q0(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2);e.Q6J("src",t.getImageUrl(t.currentLanguage),e.LSH)}}function dT(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2).$implicit,c=e.oxw(2);e.Q6J("src",c.getImageUrl(t),e.LSH)}}function Ev(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",9),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(2).setLanguage(h)}),e.TgZ(1,"div",10),e.YNc(2,dT,1,1,"img",4),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(2);e.xp6(2),e.Q6J("ngIf",c.languageImages),e.xp6(2),e.Oqu(c.getLabel(t))}}function hT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Ev,5,2,"li",8),e.BQk()),2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",c.currentLanguage!==t)}}function fT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.YNc(4,q0,1,1,"img",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,hT,2,1,"ng-container",6),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.languageImages),e.xp6(2),e.Q6J("ngForOf",t.languages)}}let wv=(()=>{class r{constructor(t,c){this.translate=t,this.translationsService=c}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(On.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(c=>c.language===t).imageUrl}getLabel(t){return this.languageImages.find(c=>c.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zo),e.Y36(Va))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,c){1&t&&e.YNc(0,fT,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",c.currentLanguage&&c.languages)},directives:[p.O5,p.sg],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),r})();function pT(r,i){if(1&r&&(e.TgZ(0,"div",4),e._UZ(1,"i"),e.TgZ(2,"div",5)(3,"strong",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",7),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Tol(t.iconClass),e.xp6(3),e.Oqu(e.lcZ(5,4,t.title)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.text))}}function gT(r,i){1&r&&(e.ynx(0),e.YNc(1,pT,9,8,"ng-template",3),e.BQk())}function mT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ngb-carousel"),e.YNc(2,gT,2,0,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.slides)}}let _T=(()=>{class r{constructor(t,c){this.translate=c,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"},{title:"carousel.step5.title",text:"carousel.step5.text",iconClass:"fas fa-share-nodes"},{title:"carousel.step6.title",text:"carousel.step6.text",iconClass:"fas fa-bell"}]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Gd),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,mT,3,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",c.slides))},directives:[p.O5,Gh,p.sg,Uh],pipes:[vo],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();function vT(r,i){1&r&&(e.TgZ(0,"span",23)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.error")))}function Dv(r,i){}function Av(r,i){1&r&&e.YNc(0,Dv,0,0,"ng-template")}function xv(r,i){1&r&&(e.TgZ(0,"div",24),e._UZ(1,"app-carousel"),e.qZA())}const yT=function(r){return{disabled:r}},z0=function(){return["/register"]};let Iv=(()=>{class r{constructor(t,c,h){this.loginService=t,this.firestoreAuthService=c,this.router=h,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.login(t,c).then(h=>{console.log(h),h?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.loginWithGoogle(t,c).then(h=>{if(h){console.log(h);const _={username:h.user.displayName,email:h.user.email,photoURL:h.user.photoURL};this.router.navigate(["home"]),this.loginService.login(_)}else this.loginError=!0})}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(go.r),e.Y36(Yl),e.Y36(Kn.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-language-selector"),e.qZA(),e.TgZ(7,"small",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,vT,4,3,"span",13),e.qZA()()(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return c.login()}),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return c.loginGoogle()}),e._UZ(31,"img",17),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"label",18)(35,"small",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"a",20),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.YNc(41,Av,1,0,null,21),e.qZA(),e.YNc(42,xv,2,0,"ng-template",null,22,e.W1O)),2&t){const h=e.MAs(43);e.xp6(4),e.hij(" ",e.lcZ(5,16,"login.welcome")," "),e.xp6(4),e.Oqu(e.lcZ(9,18,"login.welcome.subtitle")),e.xp6(7),e.Oqu(e.lcZ(16,20,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,22,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(22,24,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(2),e.Q6J("ngIf",c.loginError),e.xp6(2),e.Q6J("ngClass",e.VKq(36,yT,!c.canAccess())),e.xp6(1),e.hij(" ",e.lcZ(29,28,"login.access")," "),e.xp6(4),e.hij(" ",e.lcZ(33,30,"login.accessGoogle")," "),e.xp6(4),e.Oqu(e.lcZ(37,32,"login.notAccount")),e.xp6(2),e.Q6J("routerLink",e.DdM(38,z0)),e.xp6(1),e.Oqu(e.lcZ(40,34,"login.register")),e.xp6(2),e.Q6J("ngTemplateOutlet",h)}},directives:[wv,mn,yi,Si,Qi,p.O5,p.mk,Kn.yS,p.tP,_T],pipes:[vo],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})();var $g=(()=>{return(r=$g||($g={})).CREATE="CREATE",r.SEARCH="SEARCH",r.SELECT="SELECT",$g;var r})();let $0=(()=>{class r{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(uh.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function K0(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function J0(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,K0,2,1,"ng-container",0),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.imageUrl),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.brand," ")}}let Pv=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,c){1&t&&e.YNc(0,J0,9,3,"ng-container",0),2&t&&e.Q6J("ngIf",c.name||c.brand||c.imageUrl)},directives:[p.O5],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),r})();const Y0=["priceInput"];function bT(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.init")))}function TT(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",18),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.initError")))}function Q0(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),e.NdJ("valueChanges",function(h){return e.CHM(t),e.oxw().onValueChanges(h)})("started",function(h){return e.CHM(t),e.oxw().onStarted(h)}),e.qZA(),e.YNc(3,bT,5,3,"div",14),e.YNc(4,TT,5,3,"div",14),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.barcodeScannerStarted),e.xp6(1),e.Q6J("ngIf",t.barcodeScannerError)}}function CT(r,i){if(1&r&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"scanner.code"),":"),e.xp6(3),e.Oqu(t.barcodeValue)}}function Mv(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.productRegistered")))}function ST(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",23),e.YNc(2,Mv,3,3,"span",0),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isSavedProduct)}}function Ov(r,i){1&r&&(e.ynx(0),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotRegistered")))}function ET(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"i",27),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"scanner.productUnknown")))}function Nv(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,CT,6,4,"div",0),e.TgZ(3,"div",21)(4,"small"),e.YNc(5,ST,3,1,"ng-container",0),e.YNc(6,Ov,5,3,"ng-container",0),e.YNc(7,ET,7,3,"ng-container",0),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),e.xp6(3),e.Q6J("ngIf",t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function BS(r,i){1&r&&e.GkF(0)}function wT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,BS,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function D_(r,i){1&r&&e.GkF(0)}function DT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,D_,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function ap(r,i){if(1&r&&(e.ynx(0),e.YNc(1,wT,2,1,"ng-container",0),e.YNc(2,DT,2,1,"ng-container",0),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function Kg(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function AT(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function US(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name","?")("brand","?")("imageUrl",t.DEFAULT_IMAGE_URL)}}function Rv(r,i){1&r&&e.GkF(0)}function xT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,Rv,1,0,"ng-container",28),e.qZA(),e.BQk()),2&r){e.oxw(2);const t=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function IT(r,i){if(1&r&&(e.YNc(0,Kg,2,3,"ng-container",0),e.YNc(1,AT,2,3,"ng-container",0),e.YNc(2,US,2,3,"ng-container",0),e.YNc(3,xT,3,1,"ng-container",0)),2&r){const t=e.oxw();e.Q6J("ngIf",t.savedProduct),e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function PT(r,i){1&r&&e.GkF(0)}function MT(r,i){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,PT,1,0,"ng-container",28),e.qZA()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kv(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const X0=function(r){return{disabled:r}};function e1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.barcode=h}),e.qZA()(),e.TgZ(6,"div",33)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.name=h}),e.qZA()(),e.TgZ(11,"div",33)(12,"label",38),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.brand=h}),e.qZA()()(),e.TgZ(16,"div",32)(17,"div",33)(18,"label",40),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(22,"option"),e.YNc(23,kv,2,2,"option",42),e.qZA()(),e.TgZ(24,"div",33)(25,"label",43),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()()(),e.TgZ(30,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().createProduct()}),e._UZ(31,"i",47),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,17,"scanner.code")),e.xp6(2),e.s9C("value",t.newProduct.barcode),e.Q6J("ngModel",t.newProduct.barcode),e.xp6(3),e.Oqu(e.lcZ(9,19,"scanner.name")),e.xp6(2),e.s9C("value",t.newProduct.name),e.Q6J("ngModel",t.newProduct.name),e.xp6(3),e.Oqu(e.lcZ(14,21,"scanner.brand")),e.xp6(2),e.s9C("value",t.newProduct.brand),e.Q6J("ngModel",t.newProduct.brand),e.xp6(4),e.Oqu(e.lcZ(20,23,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(27,25,"scanner.proce")),e.xp6(2),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(29,X0,!t.canCreateProductAndPrice())),e.xp6(3),e.Oqu(e.lcZ(34,27,"scanner.productPriceSave"))}}function A_(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Jg(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(6,"option"),e.YNc(7,A_,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",33)(9,"label",43),e._uU(10,"Preu"),e.qZA(),e.TgZ(11,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()(),e.TgZ(13,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveShopProduct()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,7,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(4),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(11,X0,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length)),e.xp6(1),e.hij(" ",e.lcZ(15,9,"scanner.save"),"* ")}}function OT(r,i){1&r&&(e.TgZ(0,"div",50),e._UZ(1,"i",51),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.instructions")))}function Lv(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",53),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotFound")))}function Fv(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.searchingProduct")))}function NT(r,i){1&r&&(e.TgZ(0,"div",55),e._UZ(1,"i",56),e.qZA())}function RT(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.shopProduct))}}function t1(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newProduct))}}function kT(r,i){if(1&r&&(e.TgZ(0,"small")(1,"ul",57)(2,"li"),e._uU(3),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA(),e.TgZ(10,"li"),e._uU(11,"-------------------------"),e.qZA(),e.YNc(12,RT,3,3,"li",0),e.YNc(13,t1,3,3,"li",0),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.hij("mode: ",t.mode,""),e.xp6(2),e.hij("isSavedProduct: ",t.isSavedProduct,""),e.xp6(2),e.hij("openFoodProductFound: ",t.openFoodProductFound,""),e.xp6(2),e.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),e.xp6(3),e.Q6J("ngIf",t.shopProduct),e.xp6(1),e.Q6J("ngIf",t.newProduct)}}let GS=(()=>{class r{constructor(t,c,h,_,I,q){this.openFoodService=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.loginService=I,this.translate=q,this.onSaveProduct=new e.vpe,this.onCreateProduct=new e.vpe,this.onSaveShopProduct=new e.vpe,this.onProductFound=new e.vpe,this.onBarcodeRead=new e.vpe,this.DEFAULT_IMAGE_URL=ms.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new Xr.x,this.ProductScanModeEnum=$g,this.barcodeChanged.pipe(la(500),ea()).subscribe(te=>{this.barcodeValue!==te.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=te.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(we=>we.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(we=>we.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(c=>{this.openFoodProduct=c,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==c.product,this.openFoodProductFound&&this.onProductFound.emit();const h=this.products.find(_=>_.barcode===t);h&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=h.brand,this.openFoodProduct.product.image_url=h.imageUrl,this.openFoodProduct.product.product_name=h.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,c,h,_,I,q;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const te={id:sc(),barcode:this.barcodeValue,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(q=null===(I=this.openFoodProduct)||void 0===I?void 0:I.product)||void 0===q?void 0:q.image_url)?this.openFoodProduct.product.image_url:ms.T};this.onSaveProduct.emit(te)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,c,h,_,I,q;const te=this.products.find(we=>we.barcode===this.shopProduct.productBarcode);console.log("saveShopProduct()",te),te?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:sc(),barcode:this.shopProduct.productBarcode,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)||"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)||"?",imageUrl:(null===(q=null===(I=this.openFoodProduct)||void 0===I?void 0:I.product)||void 0===q?void 0:q.image_url)||ms.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start();const t=localStorage.getItem(On.M.PS_LAST_SHOP_ID);this.newProduct={id:sc(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:ms.T},this.shopProduct={price:0,productBarcode:void 0,shopId:t||void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(t){this.barcodeScannerStarted=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($0),e.Y36(Ei.M),e.Y36(Tr.d),e.Y36(Qs),e.Y36(go.r),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-barcode-scanner"]],viewQuery:function(t,c){if(1&t&&(e.Gf(yf,5),e.Gf(Y0,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,c){if(1&t&&(e.YNc(0,Q0,5,2,"ng-container",0),e.YNc(1,Nv,8,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,ap,3,2,"ng-container",0),e.qZA(),e.YNc(4,IT,4,4,"ng-template",null,3,e.W1O),e.YNc(6,MT,2,1,"div",4),e.YNc(7,e1,35,31,"ng-template",null,5,e.W1O),e.YNc(9,Jg,16,13,"ng-template",null,6,e.W1O),e.YNc(11,OT,5,3,"ng-template",null,7,e.W1O),e.YNc(13,Lv,5,3,"ng-template",null,8,e.W1O),e.YNc(15,Fv,5,3,"ng-template",null,9,e.W1O),e.YNc(17,NT,2,0,"ng-template",null,10,e.W1O),e.YNc(19,kT,14,6,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(12);e.Q6J("ngIf",!c.openFoodProductFound&&!c.isSavedProduct),e.xp6(1),e.Q6J("ngIf",c.barcodeValue)("ngIfElse",h),e.xp6(2),e.Q6J("ngIf",c.barcodeValue),e.xp6(3),e.Q6J("ngIf",!1)}},directives:[p.O5,yf,p.tP,Pv,mn,Si,Qi,Ta,Ks,Ba,p.sg,sa,p.mk],pipes:[vo,p.Ts],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();const LT=["barcodeInput"],FT=["priceInput"];function cp(r,i){1&r&&e.GkF(0)}function Bv(r,i){1&r&&e._UZ(0,"i",12)}function lp(r,i){1&r&&e._UZ(0,"i",12)}function VS(r,i){1&r&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"scanner.searchInstructions")," "))}function Uv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"app-barcode-scanner",14),e.NdJ("onSaveShopProduct",function(h){return e.CHM(t),e.oxw().saveShopProduct(h)})("onCreateProduct",function(h){return e.CHM(t),e.oxw().createProduct(h)})("onProductFound",function(){return e.CHM(t),e.oxw().productFound=!0})("onBarcodeRead",function(){return e.CHM(t),e.oxw().barcodeRead=!0}),e.qZA(),e.YNc(3,VS,5,3,"div",15),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("mode",t.ProductScanModeEnum.CREATE),e.xp6(1),e.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function BT(r,i){1&r&&e.GkF(0)}function jS(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.scanner")))}function Gv(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.manual")))}function HS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",22),e._uU(7,"/"),e.qZA(),e.YNc(8,jS,3,3,"span",23),e.YNc(9,Gv,3,3,"span",23),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf","SCANNER"===t.mode),e.xp6(1),e.Q6J("ngIf","MANUAL"===t.mode)}}function Vv(r,i){if(1&r&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const x_=function(r){return{readonly:r}},jv=function(r){return{disabled:r}};function Hv(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e.TgZ(2,"div",27)(3,"label",28),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",29)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",31,32),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.barcode=h}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",33)(14,"label",34),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.name=h}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",33)(19,"label",36),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.brand=h}),e.ALo(23,"translate"),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",38)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",33)(30,"label",39),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",40),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(34,"option"),e.YNc(35,Vv,2,2,"option",41),e.qZA()(),e.TgZ(36,"div",33)(37,"label",42),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",43,44),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.price=h}),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",45),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return h.createProduct({product:h.productDetail,shopProduct:h.shopProductDetail})}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(5,25,"scanner.product")),e.xp6(4),e.Oqu(e.lcZ(9,27,"scanner.code")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.barcode),e.s9C("placeholder",e.lcZ(12,29,"scanner.code")),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(6),e.s9C("value",null==t.productDetail?null:t.productDetail.name),e.s9C("placeholder",e.lcZ(17,31,"scanner.name")),e.Q6J("ngClass",e.VKq(47,x_,t.lockProductEdition))("ngModel",t.productDetail.name),e.xp6(4),e.Oqu(e.lcZ(21,33,"scanner.brand")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.brand),e.s9C("placeholder",e.lcZ(23,35,"scanner.brand")),e.Q6J("ngClass",e.VKq(49,x_,t.lockProductEdition))("ngModel",t.productDetail.brand),e.xp6(5),e.Oqu(e.lcZ(28,37,"scanner.price")),e.xp6(4),e.Oqu(e.lcZ(32,39,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProductDetail.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(39,41,"scanner.price")),e.xp6(2),e.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),e.s9C("placeholder",e.lcZ(42,43,"scanner.price")),e.Q6J("ngModel",t.shopProductDetail.price),e.xp6(3),e.Q6J("ngClass",e.VKq(51,jv,!t.canCreateProductAndPrice())),e.xp6(2),e.Oqu(e.lcZ(46,45,"scanner.save"))}}const n1=function(r){return{active:r}},Zv=function(r){return{hidden:r}};let UT=(()=>{class r{constructor(t,c,h,_,I,q,te){this.router=t,this.shopProductService=c,this.productService=h,this.loginService=_,this.shopService=I,this.openFoodService=q,this.translate=te,this.ProductScanModeEnum=$g,this.productDetail={id:sc(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.lastShopId="",this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:sc(),barcode:"",brand:"",favourite:!0,name:"",createdBy:this.loggedUser,imageUrl:ms.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:this.lastShopId,updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),Wr(this.barcodeInput.nativeElement,"keyup").pipe((0,cn.U)(c=>c.target.value),(0,uo.h)(c=>c.length>2),la(500),ea()).subscribe(c=>{console.log("barcodeInput changed:",c),this.shopProductDetail.productBarcode=c,this.productDetail.barcode=c,this.lockProductEdition=!0,this.matchingBarcode=!0;const h=this.productService._products.find(_=>_.barcode===c);h?(this.productDetail.name=h.name,this.productDetail.barcode=h.barcode,this.productDetail.brand=h.brand,this.productDetail.favourite=h.favourite,this.productDetail.imageUrl=h.imageUrl,this.productDetail.createdBy=h.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(c).subscribe(_=>{void 0!==_.product?(this.productDetail.name=_.product.product_name,this.productDetail.barcode=c,this.productDetail.brand=_.product.brands,this.productDetail.favourite=!0,this.productDetail.imageUrl=_.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!0,this.productDetail.imageUrl=ms.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,c,h,_;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(c=this.productDetail.name)||void 0===c?void 0:c.length)>0&&(null===(h=this.productDetail.brand)||void 0===h?void 0:h.length)>0&&this.shopProductDetail&&(null===(_=this.shopProductDetail.productBarcode)||void 0===_?void 0:_.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(On.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(h=>h.productBarcode===this.shopProductDetail.productBarcode&&h.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(On.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(On.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(On.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(c=>{this.shops=c}),this.shops=this.shopService._shops;const t=localStorage.getItem(On.M.PS_LAST_SHOP_ID);t&&(this.lastShopId=t,this.shopProductDetail.shopId=t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Qs),e.Y36(Ei.M),e.Y36(go.r),e.Y36(Tr.d),e.Y36($0),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,c){if(1&t&&(e.Gf(LT,5),e.Gf(FT,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeInput=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,cp,1,0,"ng-container",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.setMode("SCANNER")}),e.YNc(5,Bv,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.setMode("MANUAL")}),e.YNc(9,lp,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,Uv,4,2,"ng-container",7),e.TgZ(14,"div",8),e.YNc(15,BT,1,0,"ng-container",2),e.qZA(),e._UZ(16,"div",9),e.qZA()(),e.YNc(17,HS,10,5,"ng-template",null,10,e.W1O),e.YNc(19,Hv,47,53,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(18),_=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngClass",e.VKq(16,n1,"SCANNER"===c.mode)),e.xp6(1),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(7,12,"scanner.scanner")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,n1,"MANUAL"===c.mode)),e.xp6(1),e.Q6J("ngIf","MANUAL"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(11,14,"scanner.manual")," "),e.xp6(3),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.Udp("height","MANUAL"!==c.mode?"0px":"auto"),e.Q6J("ngClass",e.VKq(20,Zv,"MANUAL"!==c.mode)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)}},directives:[p.tP,p.mk,p.O5,GS,sa,mn,yi,Si,Qi,Ta,Ks,Ba,p.sg],pipes:[vo],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),r})(),GT=(()=>{class r{constructor(t){this.router=t,this.history=[],this.router.events.pipe((0,uo.h)(c=>c instanceof Kn.m2)).subscribe(c=>{("/"===c.url||"/home"===c.url)&&(this.history=[]),this.history.unshift(c.url)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Kn.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function VT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",7)(2,"span",3),e._uU(3),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",t.pathUrl),e.xp6(2),e.Oqu(t.label)}}function jT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function HT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2,"/"),e.qZA(),e.YNc(3,VT,4,2,"ng-container",6),e.YNc(4,jT,3,1,"ng-container",6),e.BQk()),2&r){const t=i.index,c=e.oxw();e.xp6(3),e.Q6J("ngIf",t<c.steps.length-1),e.xp6(1),e.Q6J("ngIf",t===c.steps.length-1)}}let Wv=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.route=c,this.navigationService=h,this.shopService=_,this.productService=I,this.translate=q,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(c=>c.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(c=>c.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){let t=JSON.parse(JSON.stringify(this.navigationService.history));if(t.length>2&&(t=t.slice(0,2).reverse()),this.steps=t.map(c=>({label:this.getLabel(c),pathUrl:c})),0===t.length)if(window.location.href.match("/edit-shop")){const c=this.route.snapshot.params.id;this.steps.push({label:this.shopService._shops.find(h=>h.id===c).name,pathUrl:""})}else if(window.location.href.match("/edit-product")){const c=this.route.snapshot.params.barcode;this.steps.push({label:this.productService._products.find(h=>h.barcode===c).name,pathUrl:""})}if(this.steps.length>1){const h=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&h.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Kn.gz),e.Y36(GT),e.Y36(Tr.d),e.Y36(Ei.M),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return c.exit()}),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,HT,5,2,"ng-container",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(2),e.Q6J("ngForOf",c.steps))},directives:[p.sg,p.O5,Kn.rH],pipes:[vo],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),r})();function Yg(r,i){1&r&&e.GkF(0)}function qv(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Yg,1,0,"ng-container",11),e.BQk()),2&r){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function zv(r,i){1&r&&e._UZ(0,"i",12)}function $v(r,i){1&r&&e._UZ(0,"i",12)}function Kv(r,i){1&r&&e._UZ(0,"i",12)}const I_=function(r){return{active:r}};function Jv(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTab=2}),e.YNc(1,Kv,1,0,"i",5),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,I_,2===t.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(3,3,"product.characteristics")," ")}}function ZT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function Yv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",29),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function Qv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",30),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function WT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",31),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function qT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",32),e._UZ(2,"img",33),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("src",t.productDetail.imageUrl,e.LSH)}}function zT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",36),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,2,"product.createdBy"),":"),e.xp6(3),e.Oqu(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.username?null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username:null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.substr(0,null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.indexOf("@")))}}const Qg=function(r){return{"pb-1":r}},r1=function(r){return{disabled:r}};function i1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"label",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",18),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.barcode=h}),e.qZA()(),e.TgZ(9,"div",16)(10,"label",19),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,ZT,3,4,"ng-container",2),e.YNc(14,Yv,3,4,"ng-container",2),e.qZA(),e.TgZ(15,"div",16)(16,"label",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,Qv,3,4,"ng-container",2),e.YNc(20,WT,3,4,"ng-container",2),e.qZA(),e.TgZ(21,"div",21)(22,"input",22),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.favourite=h}),e.qZA(),e.TgZ(23,"label",23),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,qT,3,1,"ng-container",2),e.TgZ(27,"input",24),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.imageUrl=h}),e.qZA()()()(),e.YNc(28,zT,7,4,"ng-container",2),e.TgZ(29,"div",25)(30,"button",26),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updateProduct()}),e._UZ(31,"span",27),e._uU(32),e.ALo(33,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(26,Qg,null==t.productDetail?null:t.productDetail.createdBy)),e.xp6(5),e.Oqu(e.lcZ(7,16,"product.barcode")),e.xp6(2),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(3),e.Oqu(e.lcZ(12,18,"product.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(3),e.Oqu(e.lcZ(18,20,"product.brand")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.productDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(25,22,"product.favourite")),e.xp6(2),e.Q6J("ngIf",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngModel",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngIf",null==t.productDetail?null:t.productDetail.createdBy),e.xp6(2),e.Q6J("ngClass",e.VKq(28,r1,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1)),e.xp6(2),e.hij(" ",e.lcZ(33,24,"product.save")," ")}}function pu(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",52),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).removeShopProduct(h)}),e.qZA()}}function $T(r,i){if(1&r&&(e.TgZ(0,"span",59),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username||t.createdBy.email,")")}}const o1=function(r){return{"fw-bold":r}};function Xg(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",55)(2,"div",56)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,$T,2,1,"span",57),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",58),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(6).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.VKq(11,o1,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,r1,!h.canRemoveShopProduct(t)))}}function KT(r,i){if(1&r&&(e.TgZ(0,"li",53)(1,"ul",54),e.YNc(2,Xg,12,15,"li",42),e.qZA()()),2&r){const t=e.oxw(5);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const JT=function(r){return[r]};function YT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",43)(2,"div",44),e._UZ(3,"img",45),e.TgZ(4,"a",46),e._uU(5),e.qZA(),e.TgZ(6,"div",47)(7,"span",48),e.YNc(8,pu,1,0,"span",49),e.TgZ(9,"i",50),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(4).showHistory(_)}),e.qZA(),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,KT,3,1,"li",51),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(4);e.xp6(3),e.Q6J("src",c.getShopImage(t.shopId),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,JT,"/edit-shop/"+t.shopId)),e.xp6(1),e.hij("",c.getShopName(t.shopId)," "),e.xp6(3),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,r1,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(11,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function P_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",41),e.YNc(2,YT,13,14,"ng-container",42),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function M_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",37)(2,"div",38)(3,"button",39),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,P_,3,1,"ng-container",40),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(2),c=e.MAs(20);e.xp6(4),e.hij(" ",e.lcZ(5,4,"product.pricesInShops")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function QT(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",61),e._UZ(2,"i",62),e.qZA(),e.BQk())}function XT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"small",64),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.category")),e.xp6(3),e.Oqu(null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories)}}function Xv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",65),e._uU(3,"Nutri-Score"),e.qZA(),e.TgZ(4,"div",66),e._UZ(5,"img",67),e.TgZ(6,"small",68),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nutriscore-"+t.openFoodProduct.product.nutriscore_data.grade+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nutriscore."+t.openFoodProduct.product.nutriscore_data.grade))}}function ey(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",65),e._uU(3,"Nova group"),e.qZA(),e.TgZ(4,"div",66),e._UZ(5,"img",69),e.TgZ(6,"small",68),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nova-group-"+t.openFoodProduct.product.nova_group+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nova.nova"+t.openFoodProduct.product.nova_group))}}function s1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",65),e._uU(3,"Eco-Score"),e.qZA(),e.TgZ(4,"div",66),e._UZ(5,"img",70),e.TgZ(6,"small",71),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/ecoscore-"+t.openFoodProduct.product.ecoscore_grade.replace("not-applicable","unknown")+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.ecoscore.ecoscore"+t.openFoodProduct.product.ecoscore_grade.toUpperCase().replace("-","")))}}function ty(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",65),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",66)(6,"small"),e._uU(7),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.allergens")),e.xp6(4),e.Oqu(t.getAlergens())}}const O_=function(r){return{levelValue:r}};function eC(r,i){if(1&r&&e.GkF(0,75),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,O_,t.openFoodProduct.product.nutrient_levels.fat))}}function ZS(r,i){if(1&r&&e.GkF(0,75),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,O_,t.openFoodProduct.product.nutrient_levels.salt))}}function a1(r,i){if(1&r&&e.GkF(0,75),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,O_,t.openFoodProduct.product.nutrient_levels["saturated-fat"]))}}function c1(r,i){if(1&r&&e.GkF(0,75),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,O_,t.openFoodProduct.product.nutrient_levels.sugars))}}function ny(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",63)(2,"h5",65),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",72)(6,"div",73)(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,eC,1,4,"ng-container",74),e.qZA(),e.TgZ(11,"div",73)(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,ZS,1,4,"ng-container",74),e.qZA(),e.TgZ(16,"div",73)(17,"small"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,a1,1,4,"ng-container",74),e.qZA(),e.TgZ(21,"div",73)(22,"small"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,c1,1,4,"ng-container",74),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,9,"product.nutrientLevels")),e.xp6(5),e.Oqu(e.lcZ(9,11,"product.nutrients.fat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.fat),e.xp6(3),e.Oqu(e.lcZ(14,13,"product.nutrients.salt")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.salt),e.xp6(3),e.Oqu(e.lcZ(19,15,"product.nutrients.saturedFat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels["saturated-fat"]),e.xp6(3),e.Oqu(e.lcZ(24,17,"product.nutrients.sugars")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.sugars)}}function l1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",60),e.YNc(2,QT,3,0,"ng-container",2),e.YNc(3,XT,7,4,"ng-container",2),e.YNc(4,Xv,9,4,"ng-container",2),e.YNc(5,ey,9,4,"ng-container",2),e.YNc(6,s1,9,4,"ng-container",2),e.YNc(7,ty,8,4,"ng-container",2),e.YNc(8,ny,26,19,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loadingOpenFoodProduct),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutriscore_data?null:t.openFoodProduct.product.nutriscore_data.grade),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.nova_group),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.ecoscore_grade),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.allergens?null:t.openFoodProduct.product.allergens.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.fat)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.salt)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.sugars))}}function u1(r,i){if(1&r&&(e.ynx(0),e.YNc(1,i1,34,30,"ng-container",2),e.YNc(2,M_,11,9,"ng-container",2),e.YNc(3,l1,9,7,"ng-container",2),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.selectedTab),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.Q6J("ngIf",2===t.selectedTab)}}function tC(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}function nC(r,i){1&r&&(e.TgZ(0,"div",76)(1,"small",77),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"product.noData")))}const rC=function(r,i,t){return{"bg-danger":r,"bg-warning":i,"bg-success":t}};function iC(r,i){if(1&r&&(e.TgZ(0,"div",78),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=i.levelValue;e.Q6J("ngClass",e.kEZ(4,rC,"high"===t,"moderate"===t,"low"===t)),e.xp6(1),e.Oqu(e.lcZ(2,2,"commons.levels."+t))}}let ry=(()=>{class r{constructor(t,c,h,_,I,q,te){this.router=t,this.route=c,this.productService=h,this.shopService=_,this.shopsProductsService=I,this.loginService=q,this.openfoodService=te,this.historyShopProductList=[],this.selectedTab=0,this.loadingOpenFoodProduct=!0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}canEdit(){var t,c;return this.loggedUser.admin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(c=this.productDetail.createdBy)||void 0===c?void 0:c.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(t)})}getShopName(t){const c=this.shops.find(h=>h.id===t);return null==c?void 0:c.name}getShopImage(t){var c;return(null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.imageUrl)||ms.T}showHistory(t){this.historyShopProduct&&this.historyShopProduct.productBarcode===t.productBarcode&&this.historyShopProduct.shopId===t.shopId?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===this.productDetail.barcode&&h.shopId===t.shopId).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===this.productDetail.barcode&&c.shopId===t.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const c=[];t.forEach(h=>{-1===c.indexOf(h.shopId)&&c.push(h.shopId)}),c.forEach(h=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(h,this.productDetail.barcode))}),this.shopProducts.sort((h,_)=>h.price>_.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}getAlergens(){console.log(this.openFoodProduct.product.allergens);let t=this.openFoodProduct.product.allergens.split(",");return t=t.map(c=>{const h=c.substring(c.indexOf(":")+1);return h.charAt(0).toUpperCase()+h.slice(1)}),t.toString().replace(/,/g,", ")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.productDetail=this.products.find(c=>c.barcode===t),this.loadingOpenFoodProduct=!0,this.openfoodService.loadProduct(t).subscribe(c=>{console.log(c),(null==c?void 0:c.product)&&(this.openFoodProduct=c),this.loadingOpenFoodProduct=!1}),this.getShopProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Kn.gz),e.Y36(Ei.M),e.Y36(Tr.d),e.Y36(Qs),e.Y36(go.r),e.Y36($0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-edit"]],decls:23,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["type","button","class","btn btn-lg btn-secondary",3,"ngClass","click",4,"ngIf"],["breadcrumb",""],["noShopsProducts",""],["levelBadge",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100","h-100","overflow-auto",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],["type","text","id","productImageUrl","placeholder","URL imatge",1,"form-control","my-2",3,"ngModel","ngModelChange"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column","text-start"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"characteristics","d-flex","flex-column","w-100","my-0","px-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-spinner","fa-spin"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-3"],[1,"text-start"],[1,"text-start","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"nutriscore",3,"src"],[1,"text-start","ms-3","mt-3"],[1,"novagroup",3,"src"],[1,"ecoscore",3,"src"],[1,"text-start","ms-3"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"],[1,"badge","mt-1",3,"ngClass"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,qv,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,zv,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,$v,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.YNc(15,Jv,4,7,"button",7),e.qZA()(),e.YNc(16,u1,4,3,"ng-container",2),e.qZA(),e.YNc(17,tC,1,0,"ng-template",null,8,e.W1O),e.YNc(19,nC,4,3,"ng-template",null,9,e.W1O),e.YNc(21,iC,3,8,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",c.productDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,I_,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"product.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,I_,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"product.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",!c.loadingOpenFoodProduct&&(null==c.openFoodProduct?null:c.openFoodProduct.product)),e.xp6(1),e.Q6J("ngIf",c.productDetail))},directives:[p.O5,p.tP,p.mk,mn,Si,Qi,yi,rt,p.sg,Kn.yS,Wv],pipes:[vo,p.JJ,p.uU],styles:["[_nghost-%COMP%], [_ngcontent-%COMP%]:root{width:100%!important}.product-detail-image[_ngcontent-%COMP%]{max-height:80px;max-width:80px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow:auto}.characteristics[_ngcontent-%COMP%]{height:calc(100vh - 210px);overflow:auto}.characteristics[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}img.nutriscore[_ngcontent-%COMP%], img.novagroup[_ngcontent-%COMP%]{height:70px}img.ecoscore[_ngcontent-%COMP%]{height:60px}.badge[_ngcontent-%COMP%]{font-weight:400!important}.badge.bg-danger[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{color:#fff!important}"]}),r})();const d1=["productSearchInput"];function iy(r,i){1&r&&e.GkF(0)}function oy(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",33),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function sy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function ay(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}const oC=function(r){return{productRange:r}};function cy(r,i){if(1&r&&(e.ynx(0),e.GkF(1,37),e.BQk()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3),h=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(2,oC,c.getProductPriceRange(t)))}}function ly(r,i){if(1&r&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span",36),e._uU(3),e.ALo(4,"number"),e.qZA(),e.YNc(5,sy,3,3,"span",32),e.YNc(6,ay,3,3,"span",32),e.qZA(),e.YNc(7,cy,2,4,"ng-container",32),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(3),e.Oqu(e.xi3(4,4,c.getProductPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getProductPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getProductPrices(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function sC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",38),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h)}),e.qZA(),e.BQk()}}function uy(r,i){if(1&r&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,c.productItemsInCart(t),"1.0-2"))}}const dy=function(r){return{"with-items-in-cart":r}};function Ya(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",39),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).addToCart(h)}),e.qZA(),e.YNc(2,uy,3,4,"span",40),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,dy,c.productItemsInCart(t)>0)),e.xp6(1),e.Q6J("ngIf",c.productItemsInCart(t)>0)}}const up=function(r,i){return{far:r,fas:i}};function aC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",22)(1,"div",23)(2,"div",24),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.YNc(3,oy,2,1,"ng-container",14),e.qZA(),e.TgZ(4,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.TgZ(5,"div",26)(6,"a",27),e._uU(7),e.qZA()(),e.TgZ(8,"div",28),e._uU(9),e.qZA(),e.YNc(10,ly,8,7,"div",29),e.qZA(),e.TgZ(11,"div",30)(12,"span",31),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.barcode)}),e.qZA(),e.YNc(13,sC,2,0,"ng-container",32),e.YNc(14,Ya,3,4,"ng-container",32),e.qZA()()()}if(2&r){const t=i.$implicit,c=e.oxw(3),h=e.MAs(24);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",t.imageUrl)("ngIfElse",h),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngIf",c.getProductPrices(t)>0),e.xp6(2),e.Q6J("ngClass",e.WLB(9,up,!t.favourite,t.favourite)),e.xp6(1),e.Q6J("ngIf",c.canRemoveProduct(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function cC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",20),e.YNc(3,aC,15,12,"li",21),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.productsSearch)}}function WS(r,i){if(1&r&&(e.ynx(0),e.YNc(1,cC,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(22);e.xp6(1),e.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function em(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",43),e.TgZ(2,"div",44),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(3),e.AsE(" ",e.xi3(4,2,t.min,"1.0-2")," - ",e.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function lC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",45),e._uU(2),e.ALo(3,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(2),e.hij("",e.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function h1(r,i){if(1&r&&(e.TgZ(0,"div",42),e.YNc(1,em,6,8,"ng-container",32),e.YNc(2,lC,4,4,"ng-container",32),e.qZA()),2&r){const t=i.productRange;e.xp6(1),e.Q6J("ngIf",t.max!==t.min),e.xp6(1),e.Q6J("ngIf",t.max===t.min)}}function uC(r,i){1&r&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noProductAdded")))}function hy(r,i){1&r&&(e.TgZ(0,"small",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noFavouriteProduct")))}function dC(r,i){if(1&r&&(e.TgZ(0,"div",46),e.YNc(1,uC,3,3,"small",47),e.YNc(2,hy,3,3,"small",48),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(28);e.xp6(1),e.Q6J("ngIf",0===t.products.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function hC(r,i){1&r&&e._UZ(0,"i",51)}function f1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",52)(1,"span",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",54),e.TgZ(3,"span",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",56),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",57),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.products")))}function fy(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let py=(()=>{class r{constructor(t,c,h,_,I,q){this.router=t,this.productService=c,this.shopProductService=h,this.loginService=_,this.shoppingCartService=I,this.alertService=q,this.STORED_SEARCH_KEY=On.M.PS_PRODUCTS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const c=this.products.find(h=>h.barcode===t);c.favourite=!c.favourite,this.productService.toggleFavourite(c).subscribe(()=>{this.alertService.calculateAlerts(!1)})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(t.barcode).subscribe(()=>{})})}matchesFilter(t){return!0}getProductPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.productBarcode===t.barcode).forEach(h=>{c.indexOf(h.shopId)<0&&c.push(h.shopId)}),c.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var c,h;let _=0,I=!1;return(null===(h=null===(c=this.shoppingCartService)||void 0===c?void 0:c._cartConfig)||void 0===h?void 0:h.items)&&this.shoppingCartService._cartConfig.items.forEach(q=>{I||q.productsUnits.forEach(te=>{te.product.barcode===t.barcode&&te.units&&(I=!0,_+=te.units)})}),_}canRemoveProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText),this.productsSearch=this.products.filter(c=>0===this.searchText.length||c.barcode.indexOf(this.searchText)>-1||c.brand.toLowerCase().indexOf(this.searchText.toLowerCase())>-1||c.name.toLowerCase().indexOf(this.searchText.toLowerCase())>-1)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name>h.name?1:-1)}),this.products=this.productService._products,this.loading=!1,this.setSearchText(this.searchText)}ngAfterViewInit(){Wr(this.productSearchInput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(300),ea(),(0,wr.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Ei.M),e.Y36(Qs),e.Y36(go.r),e.Y36(Vn),e.Y36(Ql))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(d1,5),2&t){let h;e.iGM(h=e.CRH())&&(c.productSearchInput=h.first)}},decls:29,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100","text-start"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100","text-start"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,iy,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,WS,2,2,"ng-container",14),e.qZA(),e.YNc(19,h1,3,2,"ng-template",null,15,e.W1O),e.YNc(21,dC,3,2,"ng-template",null,16,e.W1O),e.YNc(23,hC,1,0,"ng-template",null,17,e.W1O),e.YNc(25,f1,11,6,"ng-template",null,18,e.W1O),e.YNc(27,fy,3,3,"ng-template",null,19,e.W1O)),2&t){const h=e.MAs(26),_=e.MAs(28);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"products.searchPlaceholder")),e.Q6J("readonly",(null==c.products?null:c.products.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"products.onlyFavouriteProducts")),e.xp6(3),e.Q6J("ngIf",c.products)("ngIfElse",_)}},directives:[p.tP,rt,Si,Qi,p.O5,p.sg,p.mk],pipes:[vo,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt;cursor:pointer}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),r})();function N_(r,i){1&r&&e.GkF(0)}function p1(r,i){1&r&&e._UZ(0,"div",23)}function qS(r,i){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (x",e.xi3(2,1,t.units,"1.0-2"),")")}}const gy=function(r){return{"checked-product":r}};function fC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"td",28),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).toggleCartProductMarked(_)}),e._uU(4),e.YNc(5,qS,3,4,"span",29),e.qZA(),e.TgZ(6,"td")(7,"div",30)(8,"span",31),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"i",32),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeItem(_.product)}),e.qZA()()()()}if(2&r){const t=i.$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(7,gy,t.checked)),e.xp6(1),e.hij(" ",t.product.name," "),e.xp6(1),e.Q6J("ngIf",t.units>1),e.xp6(4),e.hij("",e.xi3(10,4,t.minPrice,"1.2-2")," \u20ac")}}function my(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"img",25),e.TgZ(3,"div",26)(4,"table")(5,"tbody"),e.YNc(6,fC,12,9,"tr",22),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,e.LSH),e.xp6(4),e.Q6J("ngForOf",t.productsUnits)}}function R_(r,i){if(1&r&&(e.ynx(0),e.YNc(1,my,7,2,"ng-container",2),e.BQk()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.shop)}}function _y(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"i",10),e.TgZ(7,"small",11),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"button",12),e.qZA(),e.TgZ(11,"div",13),e._UZ(12,"i",14),e.TgZ(13,"small",15)(14,"strong",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",17),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e._UZ(20,"button",12),e.qZA(),e.YNc(21,p1,1,0,"div",18),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeCart()}),e.TgZ(24,"span"),e._UZ(25,"i",21),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.YNc(28,R_,2,1,"ng-container",22),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2),c=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,7,"shoppingCart.title")),e.xp6(5),e.Oqu(e.lcZ(9,9,"shoppingCart.description")),e.xp6(7),e.Oqu(e.lcZ(16,11,"shoppingCart.trick.title")),e.xp6(3),e.Oqu(e.lcZ(19,13,"shoppingCart.trick.text")),e.xp6(3),e.Q6J("ngTemplateOutlet",c),e.xp6(5),e.Oqu(e.lcZ(27,15,"shoppingCart.doEmpty")),e.xp6(2),e.Q6J("ngForOf",t.cartConfig.items)}}function pC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,_y,29,17,"ng-container",6),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(6);e.xp6(1),e.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",c)}}const g1=function(r,i){return{"bg-success":r,"text-success":i}};function m1(r,i){if(1&r&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",34),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",36),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"number"),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,7,"shoppingCart.amountOptimized"),": "),e.xp6(3),e.hij("",e.xi3(5,9,t.getAmountLow(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),e.xp6(3),e.hij("",e.xi3(11,14,t.getAmountHigh(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(14,17,"shoppingCart.amountSaved"),": "),e.xp6(2),e.Q6J("ngClass",e.WLB(22,g1,t.getAmountDiff()>0,t.getAmountDiff()>0)),e.xp6(1),e.hij("",e.xi3(17,19,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function zS(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39)(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shoppingCart.noProducts")))}function gC(r,i){1&r&&(e.TgZ(0,"div",40)(1,"span",41)(2,"a",42),e._UZ(3,"i",43),e.TgZ(4,"span",44),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",45),e._uU(8,"/"),e.qZA(),e.TgZ(9,"span",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(11,4,"breadcrumb.shoppingCart")))}let mC=(()=>{class r{constructor(t,c,h){this.shoppingCartService=t,this.spinner=c,this.translate=h,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountLow+=c.units*c.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountHigh+=c.units*c.maxPrice})})}toggleCartProductMarked(t){this.shoppingCartService.toggleCartProductMarked(t)}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Vn),e.Y36(Zi),e.Y36(Zo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,N_,1,0,"ng-container",1),e.qZA(),e.YNc(2,pC,2,2,"ng-container",2),e.YNc(3,m1,18,25,"ng-template",null,3,e.W1O),e.YNc(5,zS,5,3,"ng-template",null,4,e.W1O),e.YNc(7,gC,12,6,"ng-template",null,5,e.W1O)),2&t){const h=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",c.cartConfig)}},directives:[p.tP,p.O5,p.sg,p.mk,Kn.yS],pipes:[vo,p.JJ],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),r})();function vy(r,i){1&r&&e.GkF(0)}function yy(r,i){if(1&r&&(e.ynx(0),e.YNc(1,vy,1,0,"ng-container",3),e.BQk()),2&r){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function _C(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("ngModel",t.shopDetail.name)}}const by=function(r){return{disabled:r}};function Ty(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4,"Nom"),e.qZA(),e.YNc(5,_C,1,1,"input",7),e.qZA(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopDetail.favourite=h}),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"Preferida"),e.qZA()()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().createShop()}),e._uU(12," Desar "),e.qZA(),e.TgZ(13,"button",13),e._uU(14," Tancar "),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.shopDetail.default),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(4),e.Q6J("ngClass",e.VKq(4,by,t.shopDetail.name.length<1)),e.xp6(2),e.Q6J("routerLink","../search-shops")}}function vC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",17),e.TgZ(3,"span",18),e._uU(4,"Inici"),e.qZA()(),e.TgZ(5,"span",19),e._uU(6,"/"),e.qZA(),e.TgZ(7,"span",20)(8,"span",18),e._uU(9,"Botigues"),e.qZA()(),e.TgZ(10,"span",19),e._uU(11,"/"),e.qZA(),e.TgZ(12,"span",21),e._uU(13,"Nova botiga"),e.qZA()()}2&r&&(e.xp6(7),e.Q6J("routerLink","search-shops"))}let yC=(()=>{class r{constructor(t,c){this.router=t,this.shopService=c,this.shopDetail={id:sc(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(t=>{this.shops=t}),this.shops=this.shopService._shops}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Tr.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,yy,2,1,"ng-container",1),e.qZA(),e.YNc(2,Ty,15,6,"ng-container",1),e.YNc(3,vC,14,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",c.shopDetail),e.xp6(1),e.Q6J("ngIf",c.shopDetail))},directives:[p.O5,p.tP,mn,Si,Qi,rt,p.mk,Kn.rH],styles:[""]}),r})();function Cy(r,i){1&r&&e.GkF(0)}function bC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Cy,1,0,"ng-container",10),e.BQk()),2&r){e.oxw();const t=e.MAs(30);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Sy(r,i){1&r&&e._UZ(0,"i",11)}function Ey(r,i){1&r&&e._UZ(0,"i",11)}function wy(r,i){1&r&&e._UZ(0,"i",11)}function Dy(r,i){if(1&r&&(e.TgZ(0,"div",26),e._UZ(1,"img",27),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.shopDetail.imageUrl,e.LSH)}}function TC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.s9C("placeholder",e.lcZ(1,2,"shop.name")),e.Q6J("ngModel",t.shopDetail.name)}}function CC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",29),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.shopDetail.name)}}const $S=function(r){return{"pb-2":r}};function Ay(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",16)(1,"div",17),e.YNc(2,Dy,2,1,"div",18),e.TgZ(3,"div",19)(4,"label",20),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,TC,2,4,"input",21),e.YNc(8,CC,1,1,"input",22),e.qZA(),e.TgZ(9,"div",23)(10,"input",24),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.favourite=h}),e.qZA(),e.TgZ(11,"label",25),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&r){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,$S,null==t.shopDetail?null:t.shopDetail.createdBy)),e.xp6(2),e.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),e.xp6(3),e.Oqu(e.lcZ(6,7,"shop.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(13,9,"shop.favourite"))}}function KS(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",30)(2,"span",31),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",32),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"shop.createdBy"),":"),e.xp6(3),e.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const xy=function(r){return{disabled:r}};function JS(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,Ay,14,13,"div",12),e.YNc(2,KS,7,4,"ng-container",2),e.TgZ(3,"div",13)(4,"button",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateShop()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",15),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.shopDetail),e.xp6(1),e.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),e.xp6(2),e.Q6J("ngClass",e.VKq(10,xy,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),e.xp6(1),e.hij(" ",e.lcZ(6,6,"shop.save")," "),e.xp6(2),e.Q6J("routerLink","../../search-shops"),e.xp6(1),e.hij(" ",e.lcZ(9,8,"shop.close")," ")}}function YS(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",47),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).removeShopProduct(h)}),e.qZA()}}function QS(r,i){if(1&r&&(e.TgZ(0,"span",54),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username,")")}}const XS=function(r){return{"fw-bold":r}};function eE(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",50)(2,"div",51)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,QS,2,1,"span",52),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",53),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.VKq(11,XS,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,xy,!h.canRemoveShopProduct(t)))}}function tE(r,i){if(1&r&&(e.TgZ(0,"li",48)(1,"ul",49),e.YNc(2,eE,12,15,"li",38),e.qZA()()),2&r){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const k_=function(r){return[r]};function nE(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",39)(2,"div",40),e._UZ(3,"img",41)(4,"a",42),e.TgZ(5,"div",43)(6,"span")(7,"i",44),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).showHistory(_)}),e.qZA(),e._uU(8),e.ALo(9,"number"),e.qZA(),e.YNc(10,YS,1,0,"span",45),e.qZA()()(),e.YNc(11,tE,3,1,"li",46),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.xp6(3),e.Q6J("src",c.getProductImage(t.productBarcode),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,k_,"/edit-product/"+t.productBarcode))("innerHtml",c.getProductName(t.productBarcode),e.oJD),e.xp6(3),e.Q6J("ngClass",e.VKq(12,xy,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(9,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function Iy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",37),e.YNc(2,nE,12,14,"ng-container",38),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function _1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",33)(2,"div",34)(3,"button",35),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,Iy,3,1,"ng-container",36),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(26);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.productPrices")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function Py(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",56)(2,"div",57)(3,"div",58)(4,"div",59),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).viewProduct(_.barcode)}),e._uU(5),e.qZA(),e.TgZ(6,"small",60),e._uU(7),e.qZA()(),e.TgZ(8,"div",61),e._uU(9),e.ALo(10,"number"),e.qZA()()(),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.xp6(5),e.Oqu(t.name),e.xp6(2),e.Oqu(t.brand),e.xp6(2),e.hij(" ",e.xi3(10,3,c.getLastProductPurchase(t.barcode).price,"1.2-2")," \u20ac ")}}function My(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",55),e.YNc(2,Py,11,6,"ng-container",38),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.getProductsToBuy())}}function rE(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",33)(2,"div",34)(3,"button",35),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.YNc(9,My,3,1,"ng-container",36),e.qZA(),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(28);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.whatToPurchase")," "),e.xp6(3),e.hij("(",e.xi3(8,6,t.getProductsToBuy().length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",t.getProductsToBuy().length>0)("ngIfElse",c)}}function v1(r,i){1&r&&(e.TgZ(0,"div",62)(1,"small",63),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noProductPrices")))}function Oy(r,i){1&r&&(e.TgZ(0,"div",62)(1,"small",63),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noRecommendedProducts")))}function Ny(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}const L_=function(r){return{active:r}};let iE=(()=>{class r{constructor(t,c,h,_,I){this.router=t,this.route=c,this.shopService=h,this.shopsProductsService=_,this.loginService=I,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(c=>c.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===t.productBarcode&&h.shopId===this.shopDetail.id).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}getProductName(t){const c=this.products.find(h=>h.barcode===t);return c?"<span>"+c.name+'</span><span class="brand">'+c.brand+"</span>":"?"}getProductImage(t){const c=this.products.find(h=>h.barcode===t);return c&&c.imageUrl||ms.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const c=[];(t=t.sort((h,_)=>h.updateDate<_.updateDate?1:-1)).forEach(h=>{-1===c.indexOf(h.productBarcode)&&c.push(h.productBarcode)}),c.forEach(h=>{this.shopProducts.push(t.find(_=>h===_.productBarcode))}),this.shopProducts.sort((h,_)=>this.getProductName(h.productBarcode).toUpperCase()>this.getProductName(_.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(c=>{this.shopProducts=c,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.admin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===this.shopDetail.id).length>1}getProductsToBuy(){let t=[];return this.products.forEach(c=>{const h=this.shopsProductsService.getProductCheaperShop(c);h.length>=1&&h.some(_=>_.id===this.shopDetail.id)&&t.push(c)}),t.sort((c,h)=>c.name>=h.name?1:-1),t}getLastProductPurchase(t){return this.shopsProductsService.getShopProductLast(this.shopDetail.id,t)}viewProduct(t){console.log(t),t&&this.router.navigate(["edit-product/"+t])}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(c=>{this.shops=c,this.shopDetail=c.find(h=>h.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(c=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(c=>c.id===t),this.configShopsProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Kn.gz),e.Y36(Tr.d),e.Y36(Qs),e.Y36(go.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-edit"]],decls:31,vars:33,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["noRecommendedProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName","maxlength","200",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","fas fa-trash cursor-pointer ms-3",3,"click",4,"ngIf"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ms-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"list-group","mt-3"],[1,"list-group-item","text-start"],[1,"d-flex","justify-content-between","w-100"],[1,"d-flex","h-100","flex-column","product"],[1,"text-link",3,"click"],[1,"brand"],[1,"d-flex","justify-content-end","price"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,bC,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,Sy,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,Ey,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.TgZ(15,"button",4),e.NdJ("click",function(){return c.selectedTab=2}),e.YNc(16,wy,1,0,"i",5),e._uU(17),e.ALo(18,"translate"),e.TgZ(19,"small",6),e._uU(20),e.ALo(21,"number"),e.qZA()()()(),e.YNc(22,JS,10,12,"ng-container",2),e.YNc(23,_1,11,9,"ng-container",2),e.YNc(24,rE,10,9,"ng-container",2),e.qZA(),e.YNc(25,v1,4,3,"ng-template",null,7,e.W1O),e.YNc(27,Oy,4,3,"ng-template",null,8,e.W1O),e.YNc(29,Ny,1,0,"ng-template",null,9,e.W1O)),2&t){let h;e.xp6(2),e.Q6J("ngIf",c.shopDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(27,L_,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,15,"shop.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(29,L_,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,17,"shop.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,19,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngClass",e.VKq(31,L_,2===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",2===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(18,22,"shop.whatToPurchase")," "),e.xp6(3),e.hij("(",e.xi3(21,24,null==(h=c.getProductsToBuy())?null:h.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.Q6J("ngIf",2===c.selectedTab)}},directives:[p.O5,p.tP,p.mk,mn,yi,Si,Qi,rt,Kn.rH,p.sg,Kn.yS,Wv],pipes:[vo,p.JJ,p.uU],styles:["img.shop-logo[_ngcontent-%COMP%]{max-width:80px;max-height:80px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}div.price[_ngcontent-%COMP%]{min-width:100px;text-align:right}div.product-name[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]}),r})();const Ry=["shopSearchInput"];function SC(r,i){1&r&&e.GkF(0)}function y1(r,i){if(1&r&&e._UZ(0,"img",30),2&r){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function EC(r,i){1&r&&e._UZ(0,"i",31)}function oE(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function sE(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}function aE(r,i){if(1&r&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,oE,3,3,"span",28),e.YNc(5,sE,3,3,"span",28),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,3,c.getShopPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getShopPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getShopPrices(t))}}function wC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h.id)}),e.qZA()(),e.BQk()}}const DC=function(r,i,t){return{far:r,fas:i,"ms-auto":t}};function AC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",20)(1,"div",21)(2,"div",22),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.YNc(3,y1,1,1,"img",23),e.YNc(4,EC,1,0,"i",24),e.qZA(),e.ynx(5),e.TgZ(6,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.TgZ(7,"a",26),e._uU(8),e.qZA(),e.YNc(9,aE,6,6,"div",27),e.qZA(),e.YNc(10,wC,3,0,"ng-container",28),e.TgZ(11,"span",29),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.id)}),e.qZA(),e.BQk(),e.qZA()()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",c.getShopPrices(t)>0),e.xp6(1),e.Q6J("ngIf",c.canRemoveShop(t)),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,DC,!t.favourite,t.favourite,!c.canRemoveShop(t)))}}function cE(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",18),e.YNc(3,AC,12,11,"li",19),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.shops)}}function xC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,cE,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(20);e.xp6(1),e.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function b1(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noShopAdded")))}function IC(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noFavouriteShop")))}function Fl(r,i){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,b1,3,3,"small",37),e.YNc(2,IC,3,3,"small",37),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(24);e.xp6(1),e.Q6J("ngIf",0===t.shops.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function PC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",41),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",43),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",44),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.shops")))}function T1(r,i){1&r&&(e.TgZ(0,"div",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let MC=(()=>{class r{constructor(t,c,h,_,I){this.router=t,this.shopService=c,this.shopProductService=h,this.loginService=_,this.spinner=I,this.STORED_SEARCH_KEY=On.M.PS_SHOPS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const c=this.shops.find(h=>h.id===t);c.favourite=!c.favourite,this.shopService.toggleFavourite(c).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.admin||t.createdBy&&this.loggedUser.email===t.createdBy.email}getShopPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.shopId===t.id).forEach(h=>{c.indexOf(h.productBarcode)<0&&c.push(h.productBarcode)}),c.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){Wr(this.shopSearchInput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(300),ea(),(0,wr.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Tr.d),e.Y36(Qs),e.Y36(go.r),e.Y36(Zi))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(Ry,5),2&t){let h;e.iGM(h=e.CRH())&&(c.shopSearchInput=h.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,SC,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,xC,2,2,"ng-container",14),e.qZA(),e.YNc(19,Fl,3,2,"ng-template",null,15,e.W1O),e.YNc(21,PC,11,6,"ng-template",null,16,e.W1O),e.YNc(23,T1,3,3,"ng-template",null,17,e.W1O)),2&t){const h=e.MAs(22),_=e.MAs(24);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"shops.searchPlaceholder")),e.Q6J("readonly",(null==c.shops?null:c.shops.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"shops.onlyFavouriteShops")),e.xp6(3),e.Q6J("ngIf",c.shops)("ngIfElse",_)}},directives:[p.tP,rt,Si,Qi,p.O5,p.sg,p.mk],pipes:[vo,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),r})();function OC(r,i){1&r&&e.GkF(0)}function C1(r,i){1&r&&e._UZ(0,"i",12)}function ky(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const t=e.oxw(2);e.Q6J("src",t.user.photoURL,e.LSH)}}function Ly(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",11)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"user.username")),e.xp6(3),e.Oqu(t.user.username)}}function NC(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.admin")))}function Fy(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.user")))}function By(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e.YNc(4,C1,1,0,"i",8),e.YNc(5,ky,1,1,"img",9),e._UZ(6,"app-language-selector"),e.qZA(),e.YNc(7,Ly,7,4,"ng-container",10),e.TgZ(8,"div",11)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,NC,3,3,"span",10),e.YNc(19,Fy,3,3,"span",10),e.qZA(),e.TgZ(20,"div",11)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.user.photoURL),e.xp6(1),e.Q6J("ngIf",t.user.photoURL),e.xp6(2),e.Q6J("ngIf",t.user.username),e.xp6(3),e.Oqu(e.lcZ(11,10,"user.email")),e.xp6(3),e.Oqu(t.user.email),e.xp6(3),e.Oqu(e.lcZ(17,12,"user.role")),e.xp6(2),e.Q6J("ngIf",t.user.admin),e.xp6(1),e.Q6J("ngIf",!t.user.admin),e.xp6(3),e.Oqu(e.lcZ(23,14,"user.lastLogin")),e.xp6(3),e.Oqu(e.xi3(26,16,t.user.lastLogin,"medium"))}}function RC(r,i){1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.noData")))}function kC(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.username)}}function S1(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.email.substr(0,null==t.user?null:t.user.email.indexOf("@")))}}function Bl(r,i){if(1&r&&(e.TgZ(0,"div",15)(1,"span",16)(2,"a",17),e._UZ(3,"i",18),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",20),e._uU(8,"/"),e.qZA(),e.YNc(9,kC,2,1,"span",21),e.YNc(10,S1,2,1,"span",21),e.qZA()),2&r){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf",null==t.user?null:t.user.username),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.username))}}let LC=(()=>{class r{constructor(t){this.loginService=t}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(go.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,OC,1,0,"ng-container",1),e.qZA(),e.YNc(2,By,27,19,"ng-container",2),e.YNc(3,RC,3,3,"ng-template",null,3,e.W1O),e.YNc(5,Bl,11,5,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",_),e.xp6(1),e.Q6J("ngIf",c.user)("ngIfElse",h)}},directives:[p.tP,p.O5,wv,Kn.yS],pipes:[vo,p.uU],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),r})();const lE=function(){return["../login"]};let FC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-forbidden"]],decls:4,vars:2,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e._uU(3," Login "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,lE)))},directives:[Kn.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})(),Uy=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1),e.TgZ(2,"span"),e._uU(3,"P\xe0gina inexistent!"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e._uU(6," Anar a l'inici "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("routerLink",""))},directives:[Kn.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})();var BC=x(870);const UC=["purchaseSearchInput"];function Gy(r,i){1&r&&e.GkF(0)}function GC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.ALo(4,"date"),e.qZA(),e.TgZ(5,"td")(6,"div",25)(7,"span",26),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).viewProduct(h.productBarcode)}),e._uU(8),e.qZA(),e.TgZ(9,"small"),e._uU(10),e.qZA()()(),e.TgZ(11,"td",20),e._uU(12),e.ALo(13,"number"),e.qZA(),e.TgZ(14,"td")(15,"span",26),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).viewShop(h.shopId)}),e._uU(16),e.qZA()(),e.TgZ(17,"td"),e._uU(18),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(4);let h,_;e.xp6(3),e.Oqu(e.xi3(4,6,t.updateDate,"dd.MM.yyyy")),e.xp6(5),e.Oqu(c.getProduct(t.productBarcode)?c.getProduct(t.productBarcode).name:"Barcode not found: "+t.productBarcode),e.xp6(2),e.Oqu(null==(h=c.getProduct(t.productBarcode))?null:h.brand),e.xp6(2),e.hij("",e.xi3(13,9,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu(null==(_=c.getShop(t.shopId))?null:_.name),e.xp6(2),e.Oqu(t.createdBy?t.createdBy.username:"-")}}function uE(r,i){if(1&r&&(e.ynx(0),e.YNc(1,GC,19,12,"ng-container",16),e.BQk()),2&r){const t=i.$implicit,c=e.oxw(4);e.xp6(1),e.Q6J("ngIf",c.matchesFilter(t))}}function Vy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"table",17)(2,"thead")(3,"tr")(4,"th"),e.SDv(5,18),e.qZA(),e.TgZ(6,"th"),e.SDv(7,19),e.qZA(),e.TgZ(8,"th",20),e.SDv(9,21),e.qZA(),e.TgZ(10,"th"),e.SDv(11,22),e.qZA(),e.TgZ(12,"th"),e.SDv(13,23),e.qZA()()(),e.TgZ(14,"tbody"),e.YNc(15,uE,2,1,"ng-container",24),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(15),e.Q6J("ngForOf",t.purchasesSearch)}}function jy(r,i){if(1&r&&(e.TgZ(0,"div",37)(1,"small",38),e._uU(2),e.qZA(),e.TgZ(3,"div",39),e._uU(4),e.ALo(5,"number"),e.qZA()()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(4);e.xp6(2),e.Oqu(c.getProduct(t.productBarcode).brand),e.xp6(2),e.hij(" ",e.xi3(5,2,t.price,"1.2-2")," \u20ac ")}}function VC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",28)(2,"div",29)(3,"div",30)(4,"small"),e._uU(5),e.ALo(6,"date"),e.qZA(),e.TgZ(7,"small",31),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).viewShop(h.shopId)}),e._uU(8),e.qZA()(),e.TgZ(9,"div",32)(10,"span",33),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).viewProduct(h.productBarcode)}),e._uU(11),e.qZA()(),e.YNc(12,jy,6,5,"div",34),e.TgZ(13,"div",35)(14,"small",36),e._uU(15),e.qZA()()()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(4);let h;e.xp6(5),e.Oqu(e.xi3(6,5,t.updateDate,"dd.MM.yyyy")),e.xp6(3),e.Oqu(null==(h=c.getShop(t.shopId))?null:h.name),e.xp6(3),e.Oqu(c.getProduct(t.productBarcode)?c.getProduct(t.productBarcode).name:"Barcode not found: "+t.productBarcode),e.xp6(1),e.Q6J("ngIf",c.getProduct(t.productBarcode)),e.xp6(3),e.Oqu(null==t.createdBy?null:t.createdBy.username)}}function jC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,VC,16,8,"ng-container",16),e.BQk()),2&r){const t=i.$implicit,c=e.oxw(4);e.xp6(1),e.Q6J("ngIf",c.matchesFilter(t))}}function Hy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",27),e.YNc(2,jC,2,1,"ng-container",24),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.purchasesSearch)}}function E1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1),e.YNc(2,Vy,16,1,"ng-container",16),e.YNc(3,Hy,3,1,"ng-container",16),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",!t.isMobile),e.xp6(1),e.Q6J("ngIf",t.isMobile)}}function w1(r,i){if(1&r&&(e.ynx(0),e.YNc(1,E1,4,2,"ng-container",11),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(15);e.xp6(1),e.Q6J("ngIf",(null==t.purchases?null:t.purchases.length)>0)("ngIfElse",c)}}function Zy(r,i){1&r&&(e.TgZ(0,"small",42),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"purchases.noData")))}function HC(r,i){if(1&r&&(e.TgZ(0,"div",40),e.YNc(1,Zy,3,3,"small",41),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(21);e.xp6(1),e.Q6J("ngIf",0===t.purchases.length&&!c)}}function Wy(r,i){1&r&&e._UZ(0,"i",43)}function qy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",44)(1,"span",45),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",46),e.TgZ(3,"span",47),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",48),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",49),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"purchases.purchases")))}function ZC(r,i){1&r&&(e.TgZ(0,"div",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}const dE=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:uT,canActivate:[Hs,Uc]},{path:"user",component:LC,canActivate:[Hs,Uc]},{path:"login",component:Iv,canActivate:[Hs,Xh]},{path:"register",component:Kb,canActivate:[Hs,Xh]},{path:"scan",component:UT,canActivate:[Hs,Uc]},{path:"search-products",component:py,canActivate:[Hs,Uc]},{path:"search-shops",component:MC,canActivate:[Hs,Uc]},{path:"statistics",component:Tv,canActivate:[Hs,Uc]},{path:"edit-shop/:id",component:iE,canActivate:[Hs,Uc]},{path:"new-shop",component:yC,canActivate:[Hs,Uc]},{path:"edit-product/:barcode",component:ry,canActivate:[Hs,Uc]},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:mC,canActivate:[Hs,Uc]},{path:"alerts",component:kS,canActivate:[Hs,Uc]},{path:"purchases",component:(()=>{class r{constructor(t,c,h,_,I){this.router=t,this.shopsProductsService=c,this.shopService=h,this.productService=_,this.deviceDetector=I,this.STORED_SEARCH_KEY=On.M.PS_PURCHASES_SEARCH_TEXT,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}matchesFilter(t){const c=this.getShop(t.shopId),h=this.getProduct(t.productBarcode);return h&&c&&(0===this.searchText.length||h.brand.toUpperCase().includes(this.searchText.toUpperCase())||h.name.toUpperCase().includes(this.searchText.toUpperCase())||c.name.toUpperCase().includes(this.searchText.toUpperCase()))}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}getShop(t){return this.shopService._shops.find(c=>c.id===t)}getProduct(t){return this.productService._products.find(c=>c.barcode===t)}viewProduct(t){t&&this.router.navigate(["edit-product/"+t])}viewShop(t){t&&this.router.navigate(["edit-shop/"+t])}exit(){this.router.navigateByUrl("")}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.isMobile=this.deviceDetector.isMobile(),this.shopsProductsService.shopsProducts.subscribe(t=>{this.purchases=t}),this.purchases=this.shopsProductsService._shopsProducts,this.purchases.sort((t,c)=>t.updateDate>=c.updateDate?-1:1),this.purchasesSearch=[...this.purchases],console.log(this.purchasesSearch),this.setSearchText(this.searchText)}ngAfterViewInit(){Wr(this.purchaseSearchInput.nativeElement,"keyup").pipe((0,uo.h)(Boolean),la(300),ea(),(0,wr.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Kn.F0),e.Y36(Qs),e.Y36(Tr.d),e.Y36(Ei.M),e.Y36(BC.x0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-purchases"]],viewQuery:function(t,c){if(1&t&&e.Gf(UC,5),2&t){let h;e.iGM(h=e.CRH())&&(c.purchaseSearchInput=h.first)}},decls:22,vars:7,consts:function(){let i,t,c,h,_;return i=$localize`:5ad4eecbd0fe09c34678fefce317a052af39dc96146442697456175258:Data`,t=$localize`:1eef4364f37c028d6fecfaf4577e8f4290fd6db13444858553683835085:Producte/marca`,c=$localize`:fcc21ab5e4f8eb0320f63da5bd9e391e2a94e06a7625702546674991301:Preu`,h=$localize`:67acad3b03159fa35d5165a5982e9235304ffdbc6032238619045528712:Botiga`,_=$localize`:75a72409fcd359238245b25869ff28ef4de3feef2676945561146970966:Comprador`,[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"value","placeholder"],["purchaseSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[4,"ngIf"],[1,"table","table-hover"],i,t,[1,"text-end"],c,h,_,[4,"ngFor","ngForOf"],[1,"d-flex","flex-column","justify-content-start","align-items-start"],[1,"text-link","fw-bold",3,"click"],[1,"list-group"],[1,"list-group-item"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","h-100"],[1,"d-flex","w-100","justify-content-between"],[1,"text-link",3,"click"],[1,"d-flex","justify-content-start","w-100","fw-bold","text-start"],[1,"cursor-pointer",3,"click"],["class","d-flex justify-content-between w-100 text-start",4,"ngIf"],[1,"d-flex","w-100","justify-content-end","w-100","text-end","mt-1"],[1,"font-italic"],[1,"d-flex","justify-content-between","w-100","text-start"],[1,"text-gray"],[1,"purchase-price-badge"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]]},template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,Gy,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(12,"div",10),e.YNc(13,w1,2,2,"ng-container",11),e.qZA(),e.YNc(14,HC,2,1,"ng-template",null,12,e.W1O),e.YNc(16,Wy,1,0,"ng-template",null,13,e.W1O),e.YNc(18,qy,11,6,"ng-template",null,14,e.W1O),e.YNc(20,ZC,3,3,"ng-template",null,15,e.W1O)),2&t){const h=e.MAs(19),_=e.MAs(21);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,5,"purchases.searchPlaceholder")),e.Q6J("value",c.searchText),e.xp6(6),e.Q6J("ngIf",c.purchases)("ngIfElse",_)}},directives:[p.tP,p.O5,p.sg],pipes:[vo,p.uU,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;background-color:#590074;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt;cursor:pointer}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.purchase-price-badge[_ngcontent-%COMP%]{font-size:30px;position:relative;top:-10px}"]}),r})(),canActivate:[Hs,Uc]},{path:"forbidden",component:FC},{path:"forbiddenIP",component:_v},{path:"**",component:Uy}],Ai=!1;function zy(r){return new e.vHH(3e3,Ai)}function P1(){return"undefined"!=typeof window&&void 0!==window.document}function tb(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Qu(r){switch(r.length){case 0:return new wo;case 1:return r[0];default:return new yl(r)}}function U_(r,i,t,c,h={},_={}){const I=[],q=[];let te=-1,we=null;if(c.forEach(ot=>{const Bt=ot.offset,Ht=Bt==te,Yt=Ht&&we||{};Object.keys(ot).forEach(rn=>{let Xt=rn,zn=ot[rn];if("offset"!==rn)switch(Xt=i.normalizePropertyName(Xt,I),zn){case"!":zn=h[rn];break;case Fo:zn=_[rn];break;default:zn=i.normalizeStyleValue(rn,Xt,zn,I)}Yt[Xt]=zn}),Ht||q.push(Yt),we=Yt,te=Bt}),I.length)throw function TE(r){return new e.vHH(3502,Ai)}();return q}function M1(r,i,t,c){switch(i){case"start":r.onStart(()=>c(t&&O1(t,"start",r)));break;case"done":r.onDone(()=>c(t&&O1(t,"done",r)));break;case"destroy":r.onDestroy(()=>c(t&&O1(t,"destroy",r)))}}function O1(r,i,t){const c=t.totalTime,_=nb(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==c?r.totalTime:c,!!t.disabled),I=r._data;return null!=I&&(_._data=I),_}function nb(r,i,t,c,h="",_=0,I){return{element:r,triggerName:i,fromState:t,toState:c,phaseName:h,totalTime:_,disabled:!!I}}function al(r,i,t){let c;return r instanceof Map?(c=r.get(i),c||r.set(i,c=t)):(c=r[i],c||(c=r[i]=t)),c}function tS(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let N1=(r,i)=>!1,rb=(r,i,t)=>[],nS=null;function ib(r){const i=r.parentNode||r.host;return i===nS?null:i}(tb()||"undefined"!=typeof Element)&&(P1()?(nS=(()=>document.documentElement)(),N1=(r,i)=>{for(;i;){if(i===r)return!0;i=ib(i)}return!1}):N1=(r,i)=>r.contains(i),rb=(r,i,t)=>{if(t)return Array.from(r.querySelectorAll(i));const c=r.querySelector(i);return c?[c]:[]});let dp=null,ob=!1;function rS(r){dp||(dp=function EE(){return"undefined"!=typeof document?document.body:null}()||{},ob=!!dp.style&&"WebkitAppearance"in dp.style);let i=!0;return dp.style&&!function SE(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in dp.style,!i&&ob&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in dp.style)),i}const iS=N1,oS=rb;let s=(()=>{class r{validateStyleProperty(t){return rS(t)}matchesElement(t,c){return!1}containsElement(t,c){return iS(t,c)}getParentElement(t){return ib(t)}query(t,c,h){return oS(t,c,h)}computeStyle(t,c,h){return h||""}animate(t,c,h,_,I,q=[],te){return new wo(h,_)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),u=(()=>{class r{}return r.NOOP=new s,r})();const S="ng-enter",M="ng-leave",F="ng-trigger",Q=".ng-trigger",se="ng-animating",Ne=".ng-animating";function et(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:Tt(parseFloat(i[1]),i[2])}function Tt(r,i){return"s"===i?1e3*r:r}function Gt(r,i,t){return r.hasOwnProperty("duration")?r:function wn(r,i,t){let h,_=0,I="";if("string"==typeof r){const q=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===q)return i.push(zy()),{duration:0,delay:0,easing:""};h=Tt(parseFloat(q[1]),q[2]);const te=q[3];null!=te&&(_=Tt(parseFloat(te),q[4]));const we=q[5];we&&(I=we)}else h=r;if(!t){let q=!1,te=i.length;h<0&&(i.push(function WC(){return new e.vHH(3100,Ai)}()),q=!0),_<0&&(i.push(function qC(){return new e.vHH(3101,Ai)}()),q=!0),q&&i.splice(te,0,zy())}return{duration:h,delay:_,easing:I}}(r,i,t)}function Ln(r,i={}){return Object.keys(r).forEach(t=>{i[t]=r[t]}),i}function Kt(r,i,t={}){if(i)for(let c in r)t[c]=r[c];else Ln(r,t);return t}function Ar(r,i,t){return t?i+":"+t+";":""}function mi(r){let i="";for(let t=0;t<r.style.length;t++){const c=r.style.item(t);i+=Ar(0,c,r.style.getPropertyValue(c))}for(const t in r.style)r.style.hasOwnProperty(t)&&!t.startsWith("_")&&(i+=Ar(0,L1(t),r.style[t]));r.setAttribute("style",i)}function hi(r,i,t){r.style&&(Object.keys(i).forEach(c=>{const h=rm(c);t&&!t.hasOwnProperty(c)&&(t[c]=r.style[h]),r.style[h]=i[c]}),tb()&&mi(r))}function Zs(r,i){r.style&&(Object.keys(i).forEach(t=>{const c=rm(t);r.style[c]=""}),tb()&&mi(r))}function Ul(r){return Array.isArray(r)?1==r.length?r[0]:Eo(r):r}const nm=new RegExp("{{\\s*(.+?)\\s*}}","g");function G_(r){let i=[];if("string"==typeof r){let t;for(;t=nm.exec(r);)i.push(t[1]);nm.lastIndex=0}return i}function hp(r,i,t){const c=r.toString(),h=c.replace(nm,(_,I)=>{let q=i[I];return i.hasOwnProperty(I)||(t.push(function fE(r){return new e.vHH(3003,Ai)}()),q=""),q.toString()});return h==c?r:h}function fp(r){const i=[];let t=r.next();for(;!t.done;)i.push(t.value),t=r.next();return i}const k1=/-+([a-z0-9])/g;function rm(r){return r.replace(k1,(...i)=>i[1].toUpperCase())}function L1(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Gl(r,i,t){switch(i.type){case 7:return r.visitTrigger(i,t);case 0:return r.visitState(i,t);case 1:return r.visitTransition(i,t);case 2:return r.visitSequence(i,t);case 3:return r.visitGroup(i,t);case 4:return r.visitAnimate(i,t);case 5:return r.visitKeyframes(i,t);case 6:return r.visitStyle(i,t);case 8:return r.visitReference(i,t);case 9:return r.visitAnimateChild(i,t);case 10:return r.visitAnimateRef(i,t);case 11:return r.visitQuery(i,t);case 12:return r.visitStagger(i,t);default:throw function pE(r){return new e.vHH(3004,Ai)}()}}function wE(r,i){return window.getComputedStyle(r)[i]}function pw(r,i){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(c=>function gw(r,i,t){if(":"==r[0]){const te=function mw(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,c)=>parseFloat(c)>parseFloat(t);case":decrement":return(t,c)=>parseFloat(c)<parseFloat(t);default:return i.push(function B_(r){return new e.vHH(3016,Ai)}()),"* => *"}}(r,t);if("function"==typeof te)return void i.push(te);r=te}const c=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return t.push(function I1(r){return new e.vHH(3015,Ai)}()),i;const h=c[1],_=c[2],I=c[3];i.push(DE(h,I));"<"==_[0]&&!("*"==h&&"*"==I)&&i.push(DE(I,h))}(c,t,i)):t.push(r),t}const lb=new Set(["true","1"]),ub=new Set(["false","0"]);function DE(r,i){const t=lb.has(r)||ub.has(r),c=lb.has(i)||ub.has(i);return(h,_)=>{let I="*"==r||r==h,q="*"==i||i==_;return!I&&t&&"boolean"==typeof h&&(I=h?lb.has(r):ub.has(r)),!q&&c&&"boolean"==typeof _&&(q=_?lb.has(i):ub.has(i)),I&&q}}const _w=new RegExp("s*:selfs*,?","g");function sS(r,i,t,c){return new vw(r).build(i,t,c)}class vw{constructor(i){this._driver=i}build(i,t,c){const h=new Tw(t);this._resetContextStyleTimingState(h);const _=Gl(this,Ul(i),h);return h.unsupportedCSSPropertiesFound.size&&h.unsupportedCSSPropertiesFound.keys(),_}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,t){let c=t.queryCount=0,h=t.depCount=0;const _=[],I=[];return"@"==i.name.charAt(0)&&t.errors.push(function mE(){return new e.vHH(3006,Ai)}()),i.definitions.forEach(q=>{if(this._resetContextStyleTimingState(t),0==q.type){const te=q,we=te.name;we.toString().split(/\s*,\s*/).forEach(ot=>{te.name=ot,_.push(this.visitState(te,t))}),te.name=we}else if(1==q.type){const te=this.visitTransition(q,t);c+=te.queryCount,h+=te.depCount,I.push(te)}else t.errors.push(function zC(){return new e.vHH(3007,Ai)}())}),{type:7,name:i.name,states:_,transitions:I,queryCount:c,depCount:h,options:null}}visitState(i,t){const c=this.visitStyle(i.styles,t),h=i.options&&i.options.params||null;if(c.containsDynamicStyles){const _=new Set,I=h||{};c.styles.forEach(q=>{if(db(q)){const te=q;Object.keys(te).forEach(we=>{G_(te[we]).forEach(ot=>{I.hasOwnProperty(ot)||_.add(ot)})})}}),_.size&&(fp(_.values()),t.errors.push(function F_(r,i){return new e.vHH(3008,Ai)}()))}return{type:0,name:i.name,style:c,options:h?{params:h}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const c=Gl(this,Ul(i.animation),t);return{type:1,matchers:pw(i.expr,t.errors),animation:c,queryCount:t.queryCount,depCount:t.depCount,options:im(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(c=>Gl(this,c,t)),options:im(i.options)}}visitGroup(i,t){const c=t.currentTime;let h=0;const _=i.steps.map(I=>{t.currentTime=c;const q=Gl(this,I,t);return h=Math.max(h,t.currentTime),q});return t.currentTime=h,{type:3,steps:_,options:im(i.options)}}visitAnimate(i,t){const c=function Sw(r,i){let t=null;if(r.hasOwnProperty("duration"))t=r;else if("number"==typeof r)return aS(Gt(r,i).duration,0,"");const c=r;if(c.split(/\s+/).some(_=>"{"==_.charAt(0)&&"{"==_.charAt(1))){const _=aS(0,0,"");return _.dynamic=!0,_.strValue=c,_}return t=t||Gt(c,i),aS(t.duration,t.delay,t.easing)}(i.timings,t.errors);t.currentAnimateTimings=c;let h,_=i.styles?i.styles:fs({});if(5==_.type)h=this.visitKeyframes(_,t);else{let I=i.styles,q=!1;if(!I){q=!0;const we={};c.easing&&(we.easing=c.easing),I=fs(we)}t.currentTime+=c.duration+c.delay;const te=this.visitStyle(I,t);te.isEmptyStep=q,h=te}return t.currentAnimateTimings=null,{type:4,timings:c,style:h,options:null}}visitStyle(i,t){const c=this._makeStyleAst(i,t);return this._validateStyleAst(c,t),c}_makeStyleAst(i,t){const c=[];Array.isArray(i.styles)?i.styles.forEach(I=>{"string"==typeof I?I==Fo?c.push(I):t.errors.push(function $C(r){return new e.vHH(3002,Ai)}()):c.push(I)}):c.push(i.styles);let h=!1,_=null;return c.forEach(I=>{if(db(I)){const q=I,te=q.easing;if(te&&(_=te,delete q.easing),!h)for(let we in q)if(q[we].toString().indexOf("{{")>=0){h=!0;break}}}),{type:6,styles:c,easing:_,offset:i.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(i,t){const c=t.currentAnimateTimings;let h=t.currentTime,_=t.currentTime;c&&_>0&&(_-=c.duration+c.delay),i.styles.forEach(I=>{"string"!=typeof I&&Object.keys(I).forEach(q=>{if(!this._driver.validateStyleProperty(q))return delete I[q],void t.unsupportedCSSPropertiesFound.add(q);const te=t.collectedStyles[t.currentQuerySelector],we=te[q];let ot=!0;we&&(_!=h&&_>=we.startTime&&h<=we.endTime&&(t.errors.push(function $y(r,i,t,c,h){return new e.vHH(3010,Ai)}()),ot=!1),_=we.startTime),ot&&(te[q]={startTime:_,endTime:h}),t.options&&function R1(r,i,t){const c=i.params||{},h=G_(r);h.length&&h.forEach(_=>{c.hasOwnProperty(_)||t.push(function hE(r){return new e.vHH(3001,Ai)}())})}(I[q],t.options,t.errors)})})}visitKeyframes(i,t){const c={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function ef(){return new e.vHH(3011,Ai)}()),c;let _=0;const I=[];let q=!1,te=!1,we=0;const ot=i.steps.map(Sr=>{const vr=this._makeStyleAst(Sr,t);let Qr=null!=vr.offset?vr.offset:function Cw(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(t=>{if(db(t)&&t.hasOwnProperty("offset")){const c=t;i=parseFloat(c.offset),delete c.offset}});else if(db(r)&&r.hasOwnProperty("offset")){const t=r;i=parseFloat(t.offset),delete t.offset}return i}(vr.styles),ir=0;return null!=Qr&&(_++,ir=vr.offset=Qr),te=te||ir<0||ir>1,q=q||ir<we,we=ir,I.push(ir),vr});te&&t.errors.push(function Ky(){return new e.vHH(3012,Ai)}()),q&&t.errors.push(function D1(){return new e.vHH(3200,Ai)}());const Bt=i.steps.length;let Ht=0;_>0&&_<Bt?t.errors.push(function A1(){return new e.vHH(3202,Ai)}()):0==_&&(Ht=1/(Bt-1));const Yt=Bt-1,rn=t.currentTime,Xt=t.currentAnimateTimings,zn=Xt.duration;return ot.forEach((Sr,vr)=>{const Qr=Ht>0?vr==Yt?1:Ht*vr:I[vr],ir=Qr*zn;t.currentTime=rn+Xt.delay+ir,Xt.duration=ir,this._validateStyleAst(Sr,t),Sr.offset=Qr,c.styles.push(Sr)}),c}visitReference(i,t){return{type:8,animation:Gl(this,Ul(i.animation),t),options:im(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:im(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:im(i.options)}}visitQuery(i,t){const c=t.currentQuerySelector,h=i.options||{};t.queryCount++,t.currentQuery=i;const[_,I]=function yw(r){const i=!!r.split(/\s*,\s*/).find(t=>":self"==t);return i&&(r=r.replace(_w,"")),r=r.replace(/@\*/g,Q).replace(/@\w+/g,t=>Q+"-"+t.substr(1)).replace(/:animating/g,Ne),[r,i]}(i.selector);t.currentQuerySelector=c.length?c+" "+_:_,al(t.collectedStyles,t.currentQuerySelector,{});const q=Gl(this,Ul(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=c,{type:11,selector:_,limit:h.limit||0,optional:!!h.optional,includeSelf:I,animation:q,originalSelector:i.selector,options:im(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function KC(){return new e.vHH(3013,Ai)}());const c="full"===i.timings?{duration:0,delay:0,easing:"full"}:Gt(i.timings,t.errors,!0);return{type:12,animation:Gl(this,Ul(i.animation),t),timings:c,options:null}}}class Tw{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function db(r){return!Array.isArray(r)&&"object"==typeof r}function im(r){return r?(r=Ln(r)).params&&(r.params=function bw(r){return r?Ln(r):null}(r.params)):r={},r}function aS(r,i,t){return{duration:r,delay:i,easing:t}}function cS(r,i,t,c,h,_,I=null,q=!1){return{type:1,element:r,keyframes:i,preStyleProps:t,postStyleProps:c,duration:h,delay:_,totalTime:h+_,easing:I,subTimeline:q}}class hb{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let c=this._map.get(i);c||this._map.set(i,c=[]),c.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const Dw=new RegExp(":enter","g"),xw=new RegExp(":leave","g");function lS(r,i,t,c,h,_={},I={},q,te,we=[]){return(new Iw).buildKeyframes(r,i,t,c,h,_,I,q,te,we)}class Iw{buildKeyframes(i,t,c,h,_,I,q,te,we,ot=[]){we=we||new hb;const Bt=new uS(i,t,we,h,_,ot,[]);Bt.options=te,Bt.currentTimeline.setStyles([I],null,Bt.errors,te),Gl(this,c,Bt);const Ht=Bt.timelines.filter(Yt=>Yt.containsAnimation());if(Object.keys(q).length){let Yt;for(let rn=Ht.length-1;rn>=0;rn--){const Xt=Ht[rn];if(Xt.element===t){Yt=Xt;break}}Yt&&!Yt.allowOnlyTimelineStyles()&&Yt.setStyles([q],null,Bt.errors,te)}return Ht.length?Ht.map(Yt=>Yt.buildKeyframes()):[cS(t,[],[],[],0,0,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const c=t.subInstructions.get(t.element);if(c){const h=t.createSubContext(i.options),_=t.currentTimeline.currentTime,I=this._visitSubInstructions(c,h,h.options);_!=I&&t.transformIntoNewTimeline(I)}t.previousNode=i}visitAnimateRef(i,t){const c=t.createSubContext(i.options);c.transformIntoNewTimeline(),this.visitReference(i.animation,c),t.transformIntoNewTimeline(c.currentTimeline.currentTime),t.previousNode=i}_visitSubInstructions(i,t,c){let _=t.currentTimeline.currentTime;const I=null!=c.duration?et(c.duration):null,q=null!=c.delay?et(c.delay):null;return 0!==I&&i.forEach(te=>{const we=t.appendInstructionToTimeline(te,I,q);_=Math.max(_,we.duration+we.delay)}),_}visitReference(i,t){t.updateOptions(i.options,!0),Gl(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const c=t.subContextCount;let h=t;const _=i.options;if(_&&(_.params||_.delay)&&(h=t.createSubContext(_),h.transformIntoNewTimeline(),null!=_.delay)){6==h.previousNode.type&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=fb);const I=et(_.delay);h.delayNextStep(I)}i.steps.length&&(i.steps.forEach(I=>Gl(this,I,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>c&&h.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const c=[];let h=t.currentTimeline.currentTime;const _=i.options&&i.options.delay?et(i.options.delay):0;i.steps.forEach(I=>{const q=t.createSubContext(i.options);_&&q.delayNextStep(_),Gl(this,I,q),h=Math.max(h,q.currentTimeline.currentTime),c.push(q.currentTimeline)}),c.forEach(I=>t.currentTimeline.mergeTimelineCollectedStyles(I)),t.transformIntoNewTimeline(h),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const c=i.strValue;return Gt(t.params?hp(c,t.params,t.errors):c,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const c=t.currentAnimateTimings=this._visitTiming(i.timings,t),h=t.currentTimeline;c.delay&&(t.incrementTime(c.delay),h.snapshotCurrentStyles());const _=i.style;5==_.type?this.visitKeyframes(_,t):(t.incrementTime(c.duration),this.visitStyle(_,t),h.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const c=t.currentTimeline,h=t.currentAnimateTimings;!h&&c.getCurrentStyleProperties().length&&c.forwardFrame();const _=h&&h.easing||i.easing;i.isEmptyStep?c.applyEmptyStep(_):c.setStyles(i.styles,_,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const c=t.currentAnimateTimings,h=t.currentTimeline.duration,_=c.duration,q=t.createSubContext().currentTimeline;q.easing=c.easing,i.styles.forEach(te=>{q.forwardTime((te.offset||0)*_),q.setStyles(te.styles,te.easing,t.errors,t.options),q.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(q),t.transformIntoNewTimeline(h+_),t.previousNode=i}visitQuery(i,t){const c=t.currentTimeline.currentTime,h=i.options||{},_=h.delay?et(h.delay):0;_&&(6===t.previousNode.type||0==c&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=fb);let I=c;const q=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!h.optional,t.errors);t.currentQueryTotal=q.length;let te=null;q.forEach((we,ot)=>{t.currentQueryIndex=ot;const Bt=t.createSubContext(i.options,we);_&&Bt.delayNextStep(_),we===t.element&&(te=Bt.currentTimeline),Gl(this,i.animation,Bt),Bt.currentTimeline.applyStylesToKeyframe(),I=Math.max(I,Bt.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(I),te&&(t.currentTimeline.mergeTimelineCollectedStyles(te),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const c=t.parentContext,h=t.currentTimeline,_=i.timings,I=Math.abs(_.duration),q=I*(t.currentQueryTotal-1);let te=I*t.currentQueryIndex;switch(_.duration<0?"reverse":_.easing){case"reverse":te=q-te;break;case"full":te=c.currentStaggerTime}const ot=t.currentTimeline;te&&ot.delayNextStep(te);const Bt=ot.currentTime;Gl(this,i.animation,t),t.previousNode=i,c.currentStaggerTime=h.currentTime-Bt+(h.startTime-c.currentTimeline.startTime)}}const fb={};class uS{constructor(i,t,c,h,_,I,q,te){this._driver=i,this.element=t,this.subInstructions=c,this._enterClassName=h,this._leaveClassName=_,this.errors=I,this.timelines=q,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=fb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=te||new pb(this._driver,t,0),q.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const c=i;let h=this.options;null!=c.duration&&(h.duration=et(c.duration)),null!=c.delay&&(h.delay=et(c.delay));const _=c.params;if(_){let I=h.params;I||(I=this.options.params={}),Object.keys(_).forEach(q=>{(!t||!I.hasOwnProperty(q))&&(I[q]=hp(_[q],I,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const c=i.params={};Object.keys(t).forEach(h=>{c[h]=t[h]})}}return i}createSubContext(i=null,t,c){const h=t||this.element,_=new uS(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,c||0));return _.previousNode=this.previousNode,_.currentAnimateTimings=this.currentAnimateTimings,_.options=this._copyOptions(),_.updateOptions(i),_.currentQueryIndex=this.currentQueryIndex,_.currentQueryTotal=this.currentQueryTotal,_.parentContext=this,this.subContextCount++,_}transformIntoNewTimeline(i){return this.previousNode=fb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,c){const h={duration:null!=t?t:i.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+i.delay,easing:""},_=new Pw(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,h,i.stretchStartingKeyframe);return this.timelines.push(_),h}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,c,h,_,I){let q=[];if(h&&q.push(this.element),i.length>0){i=(i=i.replace(Dw,"."+this._enterClassName)).replace(xw,"."+this._leaveClassName);let we=this._driver.query(this.element,i,1!=c);0!==c&&(we=c<0?we.slice(we.length+c,we.length):we.slice(0,c)),q.push(...we)}return!_&&0==q.length&&I.push(function x1(r){return new e.vHH(3014,Ai)}()),q}}class pb{constructor(i,t,c,h){this._driver=i,this.element=t,this.startTime=c,this._elementTimelineStylesLookup=h,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new pb(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles[i]=t,this._globalTimelineStyles[i]=t,this._styleSummary[i]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Fo,this._currentKeyframe[t]=Fo}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,c,h){t&&(this._previousKeyframe.easing=t);const _=h&&h.params||{},I=function Mw(r,i){const t={};let c;return r.forEach(h=>{"*"===h?(c=c||Object.keys(i),c.forEach(_=>{t[_]=Fo})):Kt(h,!1,t)}),t}(i,this._globalTimelineStyles);Object.keys(I).forEach(q=>{const te=hp(I[q],_,c);this._pendingStyles[q]=te,this._localTimelineStyles.hasOwnProperty(q)||(this._backFill[q]=this._globalTimelineStyles.hasOwnProperty(q)?this._globalTimelineStyles[q]:Fo),this._updateStyle(q,te)})}applyStylesToKeyframe(){const i=this._pendingStyles,t=Object.keys(i);0!=t.length&&(this._pendingStyles={},t.forEach(c=>{this._currentKeyframe[c]=i[c]}),Object.keys(this._localTimelineStyles).forEach(c=>{this._currentKeyframe.hasOwnProperty(c)||(this._currentKeyframe[c]=this._localTimelineStyles[c])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const t=this._localTimelineStyles[i];this._pendingStyles[i]=t,this._updateStyle(i,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(t=>{const c=this._styleSummary[t],h=i._styleSummary[t];(!c||h.time>c.time)&&this._updateStyle(t,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,c=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((q,te)=>{const we=Kt(q,!0);Object.keys(we).forEach(ot=>{const Bt=we[ot];"!"==Bt?i.add(ot):Bt==Fo&&t.add(ot)}),c||(we.offset=te/this.duration),h.push(we)});const _=i.size?fp(i.values()):[],I=t.size?fp(t.values()):[];if(c){const q=h[0],te=Ln(q);q.offset=0,te.offset=1,h=[q,te]}return cS(this.element,h,_,I,this.duration,this.startTime,this.easing,!1)}}class Pw extends pb{constructor(i,t,c,h,_,I,q=!1){super(i,t,I.delay),this.keyframes=c,this.preStyleProps=h,this.postStyleProps=_,this._stretchStartingKeyframe=q,this.timings={duration:I.duration,delay:I.delay,easing:I.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:c,easing:h}=this.timings;if(this._stretchStartingKeyframe&&t){const _=[],I=c+t,q=t/I,te=Kt(i[0],!1);te.offset=0,_.push(te);const we=Kt(i[0],!1);we.offset=IE(q),_.push(we);const ot=i.length-1;for(let Bt=1;Bt<=ot;Bt++){let Ht=Kt(i[Bt],!1);Ht.offset=IE((t+Ht.offset*c)/I),_.push(Ht)}c=I,t=0,h="",i=_}return cS(this.element,i,this.preStyleProps,this.postStyleProps,c,t,h,!0)}}function IE(r,i=3){const t=Math.pow(10,i-1);return Math.round(r*t)/t}class dS{}class Ow extends dS{normalizePropertyName(i,t){return rm(i)}normalizeStyleValue(i,t,c,h){let _="";const I=c.toString().trim();if(Nw[t]&&0!==c&&"0"!==c)if("number"==typeof c)_="px";else{const q=c.match(/^[+-]?[\d\.]+([a-z]*)$/);q&&0==q[1].length&&h.push(function gE(r,i){return new e.vHH(3005,Ai)}())}return I+_}}const Nw=(()=>function Rw(r){const i={};return r.forEach(t=>i[t]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function PE(r,i,t,c,h,_,I,q,te,we,ot,Bt,Ht){return{type:0,element:r,triggerName:i,isRemovalTransition:h,fromState:t,fromStyles:_,toState:c,toStyles:I,timelines:q,queriedElements:te,preStyleProps:we,postStyleProps:ot,totalTime:Bt,errors:Ht}}const hS={};class ME{constructor(i,t,c){this._triggerName=i,this.ast=t,this._stateStyles=c}match(i,t,c,h){return function kw(r,i,t,c,h){return r.some(_=>_(i,t,c,h))}(this.ast.matchers,i,t,c,h)}buildStyles(i,t,c){const h=this._stateStyles["*"],_=this._stateStyles[i],I=h?h.buildStyles(t,c):{};return _?_.buildStyles(t,c):I}build(i,t,c,h,_,I,q,te,we,ot){const Bt=[],Ht=this.ast.options&&this.ast.options.params||hS,rn=this.buildStyles(c,q&&q.params||hS,Bt),Xt=te&&te.params||hS,zn=this.buildStyles(h,Xt,Bt),Sr=new Set,vr=new Map,Qr=new Map,ir="void"===h,zr={params:Object.assign(Object.assign({},Ht),Xt)},Zr=ot?[]:lS(i,t,this.ast.animation,_,I,rn,zn,zr,we,Bt);let ri=0;if(Zr.forEach(Oo=>{ri=Math.max(Oo.duration+Oo.delay,ri)}),Bt.length)return PE(t,this._triggerName,c,h,ir,rn,zn,[],[],vr,Qr,ri,Bt);Zr.forEach(Oo=>{const No=Oo.element,Ko=al(vr,No,{});Oo.preStyleProps.forEach(Ws=>Ko[Ws]=!0);const Qa=al(Qr,No,{});Oo.postStyleProps.forEach(Ws=>Qa[Ws]=!0),No!==t&&Sr.add(No)});const _i=fp(Sr.values());return PE(t,this._triggerName,c,h,ir,rn,zn,Zr,_i,vr,Qr,ri)}}class Lw{constructor(i,t,c){this.styles=i,this.defaultParams=t,this.normalizer=c}buildStyles(i,t){const c={},h=Ln(this.defaultParams);return Object.keys(i).forEach(_=>{const I=i[_];null!=I&&(h[_]=I)}),this.styles.styles.forEach(_=>{if("string"!=typeof _){const I=_;Object.keys(I).forEach(q=>{let te=I[q];te.length>1&&(te=hp(te,h,t));const we=this.normalizer.normalizePropertyName(q,t);te=this.normalizer.normalizeStyleValue(q,we,te,t),c[we]=te})}}),c}}class Bw{constructor(i,t,c){this.name=i,this.ast=t,this._normalizer=c,this.transitionFactories=[],this.states={},t.states.forEach(h=>{this.states[h.name]=new Lw(h.style,h.options&&h.options.params||{},c)}),OE(this.states,"true","1"),OE(this.states,"false","0"),t.transitions.forEach(h=>{this.transitionFactories.push(new ME(i,h,this.states))}),this.fallbackTransition=function Uw(r,i,t){return new ME(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(I,q)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,c,h){return this.transitionFactories.find(I=>I.match(i,t,c,h))||null}matchStyles(i,t,c){return this.fallbackTransition.buildStyles(i,t,c)}}function OE(r,i,t){r.hasOwnProperty(i)?r.hasOwnProperty(t)||(r[t]=r[i]):r.hasOwnProperty(t)&&(r[i]=r[t])}const Gw=new hb;class Vw{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._animations={},this._playersById={},this.players=[]}register(i,t){const c=[],_=sS(this._driver,t,c,[]);if(c.length)throw function Jy(r){return new e.vHH(3503,Ai)}();this._animations[i]=_}_buildPlayer(i,t,c){const h=i.element,_=U_(0,this._normalizer,0,i.keyframes,t,c);return this._driver.animate(h,_,i.duration,i.delay,i.easing,[],!0)}create(i,t,c={}){const h=[],_=this._animations[i];let I;const q=new Map;if(_?(I=lS(this._driver,t,_,S,M,{},{},c,Gw,h),I.forEach(ot=>{const Bt=al(q,ot.element,{});ot.postStyleProps.forEach(Ht=>Bt[Ht]=null)})):(h.push(function JC(){return new e.vHH(3300,Ai)}()),I=[]),h.length)throw function YC(r){return new e.vHH(3504,Ai)}();q.forEach((ot,Bt)=>{Object.keys(ot).forEach(Ht=>{ot[Ht]=this._driver.computeStyle(Bt,Ht,Fo)})});const we=Qu(I.map(ot=>{const Bt=q.get(ot.element);return this._buildPlayer(ot,{},Bt)}));return this._playersById[i]=we,we.onDestroy(()=>this.destroy(i)),this.players.push(we),we}destroy(i){const t=this._getPlayer(i);t.destroy(),delete this._playersById[i];const c=this.players.indexOf(t);c>=0&&this.players.splice(c,1)}_getPlayer(i){const t=this._playersById[i];if(!t)throw function QC(r){return new e.vHH(3301,Ai)}();return t}listen(i,t,c,h){const _=nb(t,"","","");return M1(this._getPlayer(i),c,_,h),()=>{}}command(i,t,c,h){if("register"==c)return void this.register(i,h[0]);if("create"==c)return void this.create(i,t,h[0]||{});const _=this._getPlayer(i);switch(c){case"play":_.play();break;case"pause":_.pause();break;case"reset":_.reset();break;case"restart":_.restart();break;case"finish":_.finish();break;case"init":_.init();break;case"setPosition":_.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(i)}}}const NE="ng-animate-queued",fS="ng-animate-disabled",qw=[],RE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},zw={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},gu="__ng_removed";class pS{constructor(i,t=""){this.namespaceId=t;const c=i&&i.hasOwnProperty("value");if(this.value=function Yw(r){return null!=r?r:null}(c?i.value:i),c){const _=Ln(i);delete _.value,this.options=_}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const t=i.params;if(t){const c=this.options.params;Object.keys(t).forEach(h=>{null==c[h]&&(c[h]=t[h])})}}}const B1="void",gS=new pS(B1);class $w{constructor(i,t,c){this.id=i,this.hostElement=t,this._engine=c,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,mu(t,this._hostClassName)}listen(i,t,c,h){if(!this._triggers.hasOwnProperty(t))throw function XC(r,i){return new e.vHH(3302,Ai)}();if(null==c||0==c.length)throw function Yy(r){return new e.vHH(3303,Ai)}();if(!function Qw(r){return"start"==r||"done"==r}(c))throw function Qy(r,i){return new e.vHH(3400,Ai)}();const _=al(this._elementListeners,i,[]),I={name:t,phase:c,callback:h};_.push(I);const q=al(this._engine.statesByElement,i,{});return q.hasOwnProperty(t)||(mu(i,F),mu(i,F+"-"+t),q[t]=gS),()=>{this._engine.afterFlush(()=>{const te=_.indexOf(I);te>=0&&_.splice(te,1),this._triggers[t]||delete q[t]})}}register(i,t){return!this._triggers[i]&&(this._triggers[i]=t,!0)}_getTrigger(i){const t=this._triggers[i];if(!t)throw function Xy(r){return new e.vHH(3401,Ai)}();return t}trigger(i,t,c,h=!0){const _=this._getTrigger(t),I=new mS(this.id,t,i);let q=this._engine.statesByElement.get(i);q||(mu(i,F),mu(i,F+"-"+t),this._engine.statesByElement.set(i,q={}));let te=q[t];const we=new pS(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&te&&we.absorbOptions(te.options),q[t]=we,te||(te=gS),we.value!==B1&&te.value===we.value){if(!function tD(r,i){const t=Object.keys(r),c=Object.keys(i);if(t.length!=c.length)return!1;for(let h=0;h<t.length;h++){const _=t[h];if(!i.hasOwnProperty(_)||r[_]!==i[_])return!1}return!0}(te.params,we.params)){const Xt=[],zn=_.matchStyles(te.value,te.params,Xt),Sr=_.matchStyles(we.value,we.params,Xt);Xt.length?this._engine.reportError(Xt):this._engine.afterFlush(()=>{Zs(i,zn),hi(i,Sr)})}return}const Ht=al(this._engine.playersByElement,i,[]);Ht.forEach(Xt=>{Xt.namespaceId==this.id&&Xt.triggerName==t&&Xt.queued&&Xt.destroy()});let Yt=_.matchTransition(te.value,we.value,i,we.params),rn=!1;if(!Yt){if(!h)return;Yt=_.fallbackTransition,rn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:Yt,fromState:te,toState:we,player:I,isFallbackTransition:rn}),rn||(mu(i,NE),I.onStart(()=>{V_(i,NE)})),I.onDone(()=>{let Xt=this.players.indexOf(I);Xt>=0&&this.players.splice(Xt,1);const zn=this._engine.playersByElement.get(i);if(zn){let Sr=zn.indexOf(I);Sr>=0&&zn.splice(Sr,1)}}),this.players.push(I),Ht.push(I),I}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((t,c)=>{delete t[i]}),this._elementListeners.forEach((t,c)=>{this._elementListeners.set(c,t.filter(h=>h.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(c=>c.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const c=this._engine.driver.query(i,Q,!0);c.forEach(h=>{if(h[gu])return;const _=this._engine.fetchNamespacesByElement(h);_.size?_.forEach(I=>I.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(i,t,c,h){const _=this._engine.statesByElement.get(i),I=new Map;if(_){const q=[];if(Object.keys(_).forEach(te=>{if(I.set(te,_[te].value),this._triggers[te]){const we=this.trigger(i,te,B1,h);we&&q.push(we)}}),q.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,I),c&&Qu(q).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),c=this._engine.statesByElement.get(i);if(t&&c){const h=new Set;t.forEach(_=>{const I=_.name;if(h.has(I))return;h.add(I);const te=this._triggers[I].fallbackTransition,we=c[I]||gS,ot=new pS(B1),Bt=new mS(this.id,I,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:I,transition:te,fromState:we,toState:ot,player:Bt,isFallbackTransition:!0})})}}removeNode(i,t){const c=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let h=!1;if(c.totalAnimations){const _=c.players.length?c.playersByQueriedElement.get(i):[];if(_&&_.length)h=!0;else{let I=i;for(;I=I.parentNode;)if(c.statesByElement.get(I)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(i),h)c.markElementAsRemoved(this.id,i,!1,t);else{const _=i[gu];(!_||_===RE)&&(c.afterFlush(()=>this.clearElementCache(i)),c.destroyInnerAnimations(i),c._onRemovalComplete(i,t))}}insertNode(i,t){mu(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(c=>{const h=c.player;if(h.destroyed)return;const _=c.element,I=this._elementListeners.get(_);I&&I.forEach(q=>{if(q.name==c.triggerName){const te=nb(_,c.triggerName,c.fromState.value,c.toState.value);te._data=i,M1(c.player,q.phase,te,q.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):t.push(c)}),this._queue=[],t.sort((c,h)=>{const _=c.transition.ast.depCount,I=h.transition.ast.depCount;return 0==_||0==I?_-I:this._engine.driver.containsElement(c.element,h.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let t=!1;return this._elementListeners.has(i)&&(t=!0),t=!!this._queue.find(c=>c.element===i)||t,t}}class Kw{constructor(i,t,c){this.bodyNode=i,this.driver=t,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,_)=>{}}_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(c=>{c.queued&&i.push(c)})}),i}createNamespace(i,t){const c=new $w(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(c,t):(this.newHostElements.set(t,c),this.collectEnterElement(t)),this._namespaceLookup[i]=c}_balanceNamespaceList(i,t){const c=this._namespaceList,h=this.namespacesByHostElement,_=c.length-1;if(_>=0){let I=!1;if(void 0!==this.driver.getParentElement){let q=this.driver.getParentElement(t);for(;q;){const te=h.get(q);if(te){const we=c.indexOf(te);c.splice(we+1,0,i),I=!0;break}q=this.driver.getParentElement(q)}}else for(let q=_;q>=0;q--)if(this.driver.containsElement(c[q].hostElement,t)){c.splice(q+1,0,i),I=!0;break}I||c.unshift(i)}else c.push(i);return h.set(t,i),i}register(i,t){let c=this._namespaceLookup[i];return c||(c=this.createNamespace(i,t)),c}registerTrigger(i,t,c){let h=this._namespaceLookup[i];h&&h.register(t,c)&&this.totalAnimations++}destroy(i,t){if(!i)return;const c=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[i];const h=this._namespaceList.indexOf(c);h>=0&&this._namespaceList.splice(h,1)}),this.afterFlushAnimationsDone(()=>c.destroy(t))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,c=this.statesByElement.get(i);if(c){const h=Object.keys(c);for(let _=0;_<h.length;_++){const I=c[h[_]].namespaceId;if(I){const q=this._fetchNamespace(I);q&&t.add(q)}}}return t}trigger(i,t,c,h){if(gb(t)){const _=this._fetchNamespace(i);if(_)return _.trigger(t,c,h),!0}return!1}insertNode(i,t,c,h){if(!gb(t))return;const _=t[gu];if(_&&_.setForRemoval){_.setForRemoval=!1,_.setForMove=!0;const I=this.collectedLeaveElements.indexOf(t);I>=0&&this.collectedLeaveElements.splice(I,1)}if(i){const I=this._fetchNamespace(i);I&&I.insertNode(t,c)}h&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),mu(i,fS)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),V_(i,fS))}removeNode(i,t,c,h){if(gb(t)){const _=i?this._fetchNamespace(i):null;if(_?_.removeNode(t,h):this.markElementAsRemoved(i,t,!1,h),c){const I=this.namespacesByHostElement.get(t);I&&I.id!==i&&I.removeNode(t,h)}}else this._onRemovalComplete(t,h)}markElementAsRemoved(i,t,c,h,_){this.collectedLeaveElements.push(t),t[gu]={namespaceId:i,setForRemoval:h,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:_}}listen(i,t,c,h,_){return gb(t)?this._fetchNamespace(i).listen(t,c,h,_):()=>{}}_buildInstruction(i,t,c,h,_){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,c,h,i.fromState.options,i.toState.options,t,_)}destroyInnerAnimations(i){let t=this.driver.query(i,Q,!0);t.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,Ne,!0),t.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return Qu(this.players).onDone(()=>i());i()})}processLeaveNode(i){var t;const c=i[gu];if(c&&c.setForRemoval){if(i[gu]=RE,c.namespaceId){this.destroyInnerAnimations(i);const h=this._fetchNamespace(c.namespaceId);h&&h.clearElementCache(i)}this._onRemovalComplete(i,c.setForRemoval)}(null===(t=i.classList)||void 0===t?void 0:t.contains(fS))&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,h)=>this._balanceNamespaceList(c,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)mu(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{t=this._flushAnimations(c,i)}finally{for(let h=0;h<c.length;h++)c[h]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],t.length?Qu(t).onDone(()=>{c.forEach(h=>h())}):c.forEach(h=>h())}}reportError(i){throw function eS(r){return new e.vHH(3402,Ai)}()}_flushAnimations(i,t){const c=new hb,h=[],_=new Map,I=[],q=new Map,te=new Map,we=new Map,ot=new Set;this.disabledNodes.forEach(Yn=>{ot.add(Yn);const mr=this.driver.query(Yn,".ng-animate-queued",!0);for(let Lr=0;Lr<mr.length;Lr++)ot.add(mr[Lr])});const Bt=this.bodyNode,Ht=Array.from(this.statesByElement.keys()),Yt=FE(Ht,this.collectedEnterElements),rn=new Map;let Xt=0;Yt.forEach((Yn,mr)=>{const Lr=S+Xt++;rn.set(mr,Lr),Yn.forEach(fi=>mu(fi,Lr))});const zn=[],Sr=new Set,vr=new Set;for(let Yn=0;Yn<this.collectedLeaveElements.length;Yn++){const mr=this.collectedLeaveElements[Yn],Lr=mr[gu];Lr&&Lr.setForRemoval&&(zn.push(mr),Sr.add(mr),Lr.hasAnimation?this.driver.query(mr,".ng-star-inserted",!0).forEach(fi=>Sr.add(fi)):vr.add(mr))}const Qr=new Map,ir=FE(Ht,Array.from(Sr));ir.forEach((Yn,mr)=>{const Lr=M+Xt++;Qr.set(mr,Lr),Yn.forEach(fi=>mu(fi,Lr))}),i.push(()=>{Yt.forEach((Yn,mr)=>{const Lr=rn.get(mr);Yn.forEach(fi=>V_(fi,Lr))}),ir.forEach((Yn,mr)=>{const Lr=Qr.get(mr);Yn.forEach(fi=>V_(fi,Lr))}),zn.forEach(Yn=>{this.processLeaveNode(Yn)})});const zr=[],Zr=[];for(let Yn=this._namespaceList.length-1;Yn>=0;Yn--)this._namespaceList[Yn].drainQueuedTransitions(t).forEach(Lr=>{const fi=Lr.player,Ss=Lr.element;if(zr.push(fi),this.collectedEnterElements.length){const ia=Ss[gu];if(ia&&ia.setForMove){if(ia.previousTriggersValues&&ia.previousTriggersValues.has(Lr.triggerName)){const Gc=ia.previousTriggersValues.get(Lr.triggerName),_u=this.statesByElement.get(Lr.element);_u&&_u[Lr.triggerName]&&(_u[Lr.triggerName].value=Gc)}return void fi.destroy()}}const cl=!Bt||!this.driver.containsElement(Bt,Ss),ga=Qr.get(Ss),Vl=rn.get(Ss),ao=this._buildInstruction(Lr,c,Vl,ga,cl);if(ao.errors&&ao.errors.length)return void Zr.push(ao);if(cl)return fi.onStart(()=>Zs(Ss,ao.fromStyles)),fi.onDestroy(()=>hi(Ss,ao.toStyles)),void h.push(fi);if(Lr.isFallbackTransition)return fi.onStart(()=>Zs(Ss,ao.fromStyles)),fi.onDestroy(()=>hi(Ss,ao.toStyles)),void h.push(fi);const Xu=[];ao.timelines.forEach(ia=>{ia.stretchStartingKeyframe=!0,this.disabledNodes.has(ia.element)||Xu.push(ia)}),ao.timelines=Xu,c.append(Ss,ao.timelines),I.push({instruction:ao,player:fi,element:Ss}),ao.queriedElements.forEach(ia=>al(q,ia,[]).push(fi)),ao.preStyleProps.forEach((ia,Gc)=>{const _u=Object.keys(ia);if(_u.length){let tf=te.get(Gc);tf||te.set(Gc,tf=new Set),_u.forEach(sm=>tf.add(sm))}}),ao.postStyleProps.forEach((ia,Gc)=>{const _u=Object.keys(ia);let tf=we.get(Gc);tf||we.set(Gc,tf=new Set),_u.forEach(sm=>tf.add(sm))})});if(Zr.length){const Yn=[];Zr.forEach(mr=>{Yn.push(function eb(r,i){return new e.vHH(3505,Ai)}())}),zr.forEach(mr=>mr.destroy()),this.reportError(Yn)}const ri=new Map,_i=new Map;I.forEach(Yn=>{const mr=Yn.element;c.has(mr)&&(_i.set(mr,mr),this._beforeAnimationBuild(Yn.player.namespaceId,Yn.instruction,ri))}),h.forEach(Yn=>{const mr=Yn.element;this._getPreviousPlayers(mr,!1,Yn.namespaceId,Yn.triggerName,null).forEach(fi=>{al(ri,mr,[]).push(fi),fi.destroy()})});const Oo=zn.filter(Yn=>UE(Yn,te,we)),No=new Map;LE(No,this.driver,vr,we,Fo).forEach(Yn=>{UE(Yn,te,we)&&Oo.push(Yn)});const Qa=new Map;Yt.forEach((Yn,mr)=>{LE(Qa,this.driver,new Set(Yn),te,"!")}),Oo.forEach(Yn=>{const mr=No.get(Yn),Lr=Qa.get(Yn);No.set(Yn,Object.assign(Object.assign({},mr),Lr))});const Ws=[],pp=[],gp={};I.forEach(Yn=>{const{element:mr,player:Lr,instruction:fi}=Yn;if(c.has(mr)){if(ot.has(mr))return Lr.onDestroy(()=>hi(mr,fi.toStyles)),Lr.disabled=!0,Lr.overrideTotalTime(fi.totalTime),void h.push(Lr);let Ss=gp;if(_i.size>1){let ga=mr;const Vl=[];for(;ga=ga.parentNode;){const ao=_i.get(ga);if(ao){Ss=ao;break}Vl.push(ga)}Vl.forEach(ao=>_i.set(ao,Ss))}const cl=this._buildAnimation(Lr.namespaceId,fi,ri,_,Qa,No);if(Lr.setRealPlayer(cl),Ss===gp)Ws.push(Lr);else{const ga=this.playersByElement.get(Ss);ga&&ga.length&&(Lr.parentPlayer=Qu(ga)),h.push(Lr)}}else Zs(mr,fi.fromStyles),Lr.onDestroy(()=>hi(mr,fi.toStyles)),pp.push(Lr),ot.has(mr)&&h.push(Lr)}),pp.forEach(Yn=>{const mr=_.get(Yn.element);if(mr&&mr.length){const Lr=Qu(mr);Yn.setRealPlayer(Lr)}}),h.forEach(Yn=>{Yn.parentPlayer?Yn.syncPlayerEvents(Yn.parentPlayer):Yn.destroy()});for(let Yn=0;Yn<zn.length;Yn++){const mr=zn[Yn],Lr=mr[gu];if(V_(mr,M),Lr&&Lr.hasAnimation)continue;let fi=[];if(q.size){let cl=q.get(mr);cl&&cl.length&&fi.push(...cl);let ga=this.driver.query(mr,Ne,!0);for(let Vl=0;Vl<ga.length;Vl++){let ao=q.get(ga[Vl]);ao&&ao.length&&fi.push(...ao)}}const Ss=fi.filter(cl=>!cl.destroyed);Ss.length?Xw(this,mr,Ss):this.processLeaveNode(mr)}return zn.length=0,Ws.forEach(Yn=>{this.players.push(Yn),Yn.onDone(()=>{Yn.destroy();const mr=this.players.indexOf(Yn);this.players.splice(mr,1)}),Yn.play()}),Ws}elementContainsData(i,t){let c=!1;const h=t[gu];return h&&h.setForRemoval&&(c=!0),this.playersByElement.has(t)&&(c=!0),this.playersByQueriedElement.has(t)&&(c=!0),this.statesByElement.has(t)&&(c=!0),this._fetchNamespace(i).elementContainsData(t)||c}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,c,h,_){let I=[];if(t){const q=this.playersByQueriedElement.get(i);q&&(I=q)}else{const q=this.playersByElement.get(i);if(q){const te=!_||_==B1;q.forEach(we=>{we.queued||!te&&we.triggerName!=h||I.push(we)})}}return(c||h)&&(I=I.filter(q=>!(c&&c!=q.namespaceId||h&&h!=q.triggerName))),I}_beforeAnimationBuild(i,t,c){const _=t.element,I=t.isRemovalTransition?void 0:i,q=t.isRemovalTransition?void 0:t.triggerName;for(const te of t.timelines){const we=te.element,ot=we!==_,Bt=al(c,we,[]);this._getPreviousPlayers(we,ot,I,q,t.toState).forEach(Yt=>{const rn=Yt.getRealPlayer();rn.beforeDestroy&&rn.beforeDestroy(),Yt.destroy(),Bt.push(Yt)})}Zs(_,t.fromStyles)}_buildAnimation(i,t,c,h,_,I){const q=t.triggerName,te=t.element,we=[],ot=new Set,Bt=new Set,Ht=t.timelines.map(rn=>{const Xt=rn.element;ot.add(Xt);const zn=Xt[gu];if(zn&&zn.removedBeforeQueried)return new wo(rn.duration,rn.delay);const Sr=Xt!==te,vr=function eD(r){const i=[];return BE(r,i),i}((c.get(Xt)||qw).map(ri=>ri.getRealPlayer())).filter(ri=>!!ri.element&&ri.element===Xt),Qr=_.get(Xt),ir=I.get(Xt),zr=U_(0,this._normalizer,0,rn.keyframes,Qr,ir),Zr=this._buildPlayer(rn,zr,vr);if(rn.subTimeline&&h&&Bt.add(Xt),Sr){const ri=new mS(i,q,Xt);ri.setRealPlayer(Zr),we.push(ri)}return Zr});we.forEach(rn=>{al(this.playersByQueriedElement,rn.element,[]).push(rn),rn.onDone(()=>function Jw(r,i,t){let c;if(r instanceof Map){if(c=r.get(i),c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&r.delete(i)}}else if(c=r[i],c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&delete r[i]}return c}(this.playersByQueriedElement,rn.element,rn))}),ot.forEach(rn=>mu(rn,se));const Yt=Qu(Ht);return Yt.onDestroy(()=>{ot.forEach(rn=>V_(rn,se)),hi(te,t.toStyles)}),Bt.forEach(rn=>{al(h,rn,[]).push(Yt)}),Yt}_buildPlayer(i,t,c){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,c):new wo(i.duration,i.delay)}}class mS{constructor(i,t,c){this.namespaceId=i,this.triggerName=t,this.element=c,this._player=new wo,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(c=>M1(i,t,void 0,c))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){al(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function gb(r){return r&&1===r.nodeType}function kE(r,i){const t=r.style.display;return r.style.display=null!=i?i:"none",t}function LE(r,i,t,c,h){const _=[];t.forEach(te=>_.push(kE(te)));const I=[];c.forEach((te,we)=>{const ot={};te.forEach(Bt=>{const Ht=ot[Bt]=i.computeStyle(we,Bt,h);(!Ht||0==Ht.length)&&(we[gu]=zw,I.push(we))}),r.set(we,ot)});let q=0;return t.forEach(te=>kE(te,_[q++])),I}function FE(r,i){const t=new Map;if(r.forEach(q=>t.set(q,[])),0==i.length)return t;const h=new Set(i),_=new Map;function I(q){if(!q)return 1;let te=_.get(q);if(te)return te;const we=q.parentNode;return te=t.has(we)?we:h.has(we)?1:I(we),_.set(q,te),te}return i.forEach(q=>{const te=I(q);1!==te&&t.get(te).push(q)}),t}function mu(r,i){var t;null===(t=r.classList)||void 0===t||t.add(i)}function V_(r,i){var t;null===(t=r.classList)||void 0===t||t.remove(i)}function Xw(r,i,t){Qu(t).onDone(()=>r.processLeaveNode(i))}function BE(r,i){for(let t=0;t<r.length;t++){const c=r[t];c instanceof yl?BE(c.players,i):i.push(c)}}function UE(r,i,t){const c=t.get(r);if(!c)return!1;let h=i.get(r);return h?c.forEach(_=>h.add(_)):i.set(r,c),t.delete(r),!0}class mb{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(h,_)=>{},this._transitionEngine=new Kw(i,t,c),this._timelineEngine=new Vw(i,t,c),this._transitionEngine.onRemovalComplete=(h,_)=>this.onRemovalComplete(h,_)}registerTrigger(i,t,c,h,_){const I=i+"-"+h;let q=this._triggerCache[I];if(!q){const te=[],ot=sS(this._driver,_,te,[]);if(te.length)throw function bE(r,i){return new e.vHH(3404,Ai)}();q=function Fw(r,i,t){return new Bw(r,i,t)}(h,ot,this._normalizer),this._triggerCache[I]=q}this._transitionEngine.registerTrigger(t,h,q)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,c,h){this._transitionEngine.insertNode(i,t,c,h)}onRemove(i,t,c,h){this._transitionEngine.removeNode(i,t,h||!1,c)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,c,h){if("@"==c.charAt(0)){const[_,I]=tS(c);this._timelineEngine.command(_,t,I,h)}else this._transitionEngine.trigger(i,t,c,h)}listen(i,t,c,h,_){if("@"==c.charAt(0)){const[I,q]=tS(c);return this._timelineEngine.listen(I,t,q,_)}return this._transitionEngine.listen(i,t,c,h,_)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let rD=(()=>{class r{constructor(t,c,h){this._element=t,this._startStyles=c,this._endStyles=h,this._state=0;let _=r.initialStylesByElement.get(t);_||r.initialStylesByElement.set(t,_={}),this._initialStyles=_}start(){this._state<1&&(this._startStyles&&hi(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(hi(this._element,this._initialStyles),this._endStyles&&(hi(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Zs(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Zs(this._element,this._endStyles),this._endStyles=null),hi(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function _S(r){let i=null;const t=Object.keys(r);for(let c=0;c<t.length;c++){const h=t[c];iD(h)&&(i=i||{},i[h]=r[h])}return i}function iD(r){return"display"===r||"position"===r}class GE{constructor(i,t,c,h){this.element=i,this.keyframes=t,this.options=c,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,t,c){return i.animate(t,c)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(c=>{"offset"!=c&&(i[c]=this._finished?t[c]:wE(this.element,c))})}this.currentSnapshot=i}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class oD{validateStyleProperty(i){return rS(i)}matchesElement(i,t){return!1}containsElement(i,t){return iS(i,t)}getParentElement(i){return ib(i)}query(i,t,c){return oS(i,t,c)}computeStyle(i,t,c){return window.getComputedStyle(i)[t]}animate(i,t,c,h,_,I=[]){const te={duration:c,delay:h,fill:0==h?"both":"forwards"};_&&(te.easing=_);const we={},ot=I.filter(Ht=>Ht instanceof GE);(function F1(r,i){return 0===r||0===i})(c,h)&&ot.forEach(Ht=>{let Yt=Ht.currentSnapshot;Object.keys(Yt).forEach(rn=>we[rn]=Yt[rn])}),t=function uw(r,i,t){const c=Object.keys(t);if(c.length&&i.length){let _=i[0],I=[];if(c.forEach(q=>{_.hasOwnProperty(q)||I.push(q),_[q]=t[q]}),I.length)for(var h=1;h<i.length;h++){let q=i[h];I.forEach(function(te){q[te]=wE(r,te)})}}return i}(i,t=t.map(Ht=>Kt(Ht,!1)),we);const Bt=function nD(r,i){let t=null,c=null;return Array.isArray(i)&&i.length?(t=_S(i[0]),i.length>1&&(c=_S(i[i.length-1]))):i&&(t=_S(i)),t||c?new rD(r,t,c):null}(i,t);return new GE(i,t,te,Bt)}}let sD=(()=>{class r extends Dc{constructor(t,c){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(c.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const c=this._nextAnimationId.toString();this._nextAnimationId++;const h=Array.isArray(t)?Eo(t):t;return VE(this._renderer,null,c,"register",[h]),new aD(c,this._renderer)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class aD extends class mo{}{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new cD(this._id,i,t||{},this._renderer)}}class cD{constructor(i,t,c,h){this.id=i,this.element=t,this._renderer=h,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return VE(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,t;return null!==(t=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==t?t:0}}function VE(r,i,t,c,h){return r.setProperty(i,`@@${t}:${c}`,h)}const jE="@.disabled";let lD=(()=>{class r{constructor(t,c,h){this.delegate=t,this.engine=c,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(_,I)=>{const q=null==I?void 0:I.parentNode(_);q&&I.removeChild(q,_)}}createRenderer(t,c){const _=this.delegate.createRenderer(t,c);if(!(t&&c&&c.data&&c.data.animation)){let ot=this._rendererCache.get(_);return ot||(ot=new HE("",_,this.engine),this._rendererCache.set(_,ot)),ot}const I=c.id,q=c.id+"-"+this._currentId;this._currentId++,this.engine.register(q,t);const te=ot=>{Array.isArray(ot)?ot.forEach(te):this.engine.registerTrigger(I,q,t,ot.name,ot)};return c.data.animation.forEach(te),new uD(this,q,_,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,c,h){t>=0&&t<this._microtaskId?this._zone.run(()=>c(h)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_=>{const[I,q]=_;I(q)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,h]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(mb),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class HE{constructor(i,t,c){this.namespaceId=i,this.delegate=t,this.engine=c,this.destroyNode=this.delegate.destroyNode?h=>t.destroyNode(h):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,c,h=!0){this.delegate.insertBefore(i,t,c),this.engine.onInsert(this.namespaceId,t,i,h)}removeChild(i,t,c){this.engine.onRemove(this.namespaceId,t,this.delegate,c)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,c,h){this.delegate.setAttribute(i,t,c,h)}removeAttribute(i,t,c){this.delegate.removeAttribute(i,t,c)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,c,h){this.delegate.setStyle(i,t,c,h)}removeStyle(i,t,c){this.delegate.removeStyle(i,t,c)}setProperty(i,t,c){"@"==t.charAt(0)&&t==jE?this.disableAnimations(i,!!c):this.delegate.setProperty(i,t,c)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,c){return this.delegate.listen(i,t,c)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class uD extends HE{constructor(i,t,c,h){super(t,c,h),this.factory=i,this.namespaceId=t}setProperty(i,t,c){"@"==t.charAt(0)?"."==t.charAt(1)&&t==jE?this.disableAnimations(i,c=void 0===c||!!c):this.engine.process(this.namespaceId,i,t.substr(1),c):this.delegate.setProperty(i,t,c)}listen(i,t,c){if("@"==t.charAt(0)){const h=function dD(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let _=t.substr(1),I="";return"@"!=_.charAt(0)&&([_,I]=function hD(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(_)),this.engine.listen(this.namespaceId,h,_,I,q=>{this.factory.scheduleListenerCallback(q._data||-1,c,q)})}return this.delegate.listen(i,t,c)}}let fD=(()=>{class r extends mb{constructor(t,c,h){super(t.body,c,h)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0),e.LFG(u),e.LFG(dS))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ZE=new e.OlP("AnimationModuleType"),WE=[{provide:Dc,useClass:sD},{provide:dS,useFactory:function pD(){return new Ow}},{provide:mb,useClass:fD},{provide:e.FYo,useFactory:function gD(r,i,t){return new lD(r,i,t)},deps:[qe,mb,e.R0b]}],qE=[{provide:u,useFactory:()=>new oD},{provide:ZE,useValue:"BrowserAnimations"},...WE],mD=[{provide:u,useClass:s},{provide:ZE,useValue:"NoopAnimations"},...WE];let _D=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?mD:qE}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:qE,imports:[qr]}),r})();var zE=x(3692),$E=x(2292);const KE={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};let vD=(()=>{class r{intercept(t,c){return c.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();(0,p.qS)(Hb,"es");let yD=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[mm]}),r.\u0275inj=e.cJS({providers:[Uc,Xh,Hs,{provide:e.soG,useValue:"es"},{provide:Ha.Dh,useValue:KE.firebaseConfig},{provide:uh.TP,useClass:vD,multi:!0}],imports:[[qr,_D,dv,p.ez,D,uh.JF,Ot,fh,Kn.Bz.forRoot(dE),zc,nf.forRoot({defaultLanguage:Cn.q.defaultLanguage}),(0,zE.hX)(()=>(0,zE.ZF)(KE.firebaseConfig)),(0,$E.Cm)(()=>(0,$E.ad)())]]}),r})();Ti().bootstrapModule(yD).then(r=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=r}).catch(r=>console.error(r))},8955:(pt,w,x)=>{"use strict";x(8583);const e="undefined"!=typeof globalThis&&globalThis,T="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,V=e||"undefined"!=typeof global&&global||T||N,Y=function(re,...pe){if(Y.translate){const tt=Y.translate(re,pe);re=tt[0],pe=tt[1]}let dt=ne(re[0],re.raw[0]);for(let tt=1;tt<re.length;tt++)dt+=pe[tt-1]+ne(re[tt],re.raw[tt]);return dt};function ne(re,pe){return":"===pe.charAt(0)?re.substring(function $(re,pe){for(let dt=1,tt=1;dt<re.length;dt++,tt++)if("\\"===pe[tt])tt++;else if(":"===re[dt])return dt;throw new Error(`Unterminated $localize metadata block in "${pe}".`)}(re,pe)+1):re}V.$localize=Y},5867:(pt,w,x)=>{"use strict";x.d(w,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=x(9681);(0,p.registerVersion)("firebase","9.6.9","app")},127:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>p.Z});var p=x(3942);p.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(pt,w,x)=>{"use strict";x.d(w,{ET:()=>bc,hJ:()=>$1,oe:()=>yc,JU:()=>bs,ad:()=>d_,cf:()=>Jh,pl:()=>T_,qs:()=>E_});var J,p=x(5861),e=x(9681),T=x(4859),N=x(1877),O=x(2090),V="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Y={},ne=ne||{},$=V||self;function re(){}function pe(l){var n=typeof l;return"array"==(n="object"!=n?n:l?Array.isArray(l)?"array":n:"null")||"object"==n&&"number"==typeof l.length}function dt(l){var n=typeof l;return"object"==n&&null!=l||"function"==n}var Qe="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function ve(l,n,a){return l.call.apply(l.bind,arguments)}function je(l,n,a){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),l.apply(n,g)}}return function(){return l.apply(n,arguments)}}function ke(l,n,a){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ve:je).apply(null,arguments)}function gt(l,n){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function $e(l,n){function a(){}a.prototype=n.prototype,l.Z=n.prototype,l.prototype=new a,l.prototype.constructor=l,l.Vb=function(d,g,b){for(var E=Array(arguments.length-2),L=2;L<arguments.length;L++)E[L-2]=arguments[L];return n.prototype[g].apply(d,E)}}function it(){this.s=this.s,this.o=this.o}var Ke={};it.prototype.s=!1,it.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function tt(l){return Object.prototype.hasOwnProperty.call(l,Qe)&&l[Qe]||(l[Qe]=++vt)}(this);delete Ke[l]}},it.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ue=Array.prototype.indexOf?function(l,n){return Array.prototype.indexOf.call(l,n,void 0)}:function(l,n){if("string"==typeof l)return"string"!=typeof n||1!=n.length?-1:l.indexOf(n,0);for(let a=0;a<l.length;a++)if(a in l&&l[a]===n)return a;return-1},Je=Array.prototype.forEach?function(l,n,a){Array.prototype.forEach.call(l,n,a)}:function(l,n,a){const d=l.length,g="string"==typeof l?l.split(""):l;for(let b=0;b<d;b++)b in g&&n.call(a,g[b],b,l)};function ue(l){return Array.prototype.concat.apply([],arguments)}function oe(l){const n=l.length;if(0<n){const a=Array(n);for(let d=0;d<n;d++)a[d]=l[d];return a}return[]}function Ce(l){return/^[\s\xa0]*$/.test(l)}var Lt,qe=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function Ee(l,n){return-1!=l.indexOf(n)}function xt(l,n){return l<n?-1:l>n?1:0}e:{var An=$.navigator;if(An){var Nt=An.userAgent;if(Nt){Lt=Nt;break e}}Lt=""}function Et(l,n,a){for(const d in l)n.call(a,l[d],d,l)}function Zt(l){const n={};for(const a in l)n[a]=l[a];return n}var yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function or(l,n){let a,d;for(let g=1;g<arguments.length;g++){for(a in d=arguments[g],d)l[a]=d[a];for(let b=0;b<yn.length;b++)a=yn[b],Object.prototype.hasOwnProperty.call(d,a)&&(l[a]=d[a])}}function $n(l){return $n[" "](l),l}$n[" "]=re;var Jr,l,yr=Ee(Lt,"Opera"),_r=Ee(Lt,"Trident")||Ee(Lt,"MSIE"),ii=Ee(Lt,"Edge"),xr=ii||_r,Vr=Ee(Lt,"Gecko")&&!(Ee(Lt.toLowerCase(),"webkit")&&!Ee(Lt,"Edge"))&&!(Ee(Lt,"Trident")||Ee(Lt,"MSIE"))&&!Ee(Lt,"Edge"),Pi=Ee(Lt.toLowerCase(),"webkit")&&!Ee(Lt,"Edge");function Ti(){var l=$.document;return l?l.documentMode:void 0}e:{var qr="",ki=(l=Lt,Vr?/rv:([^\);]+)(\)|;)/.exec(l):ii?/Edge\/([\d\.]+)/.exec(l):_r?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Pi?/WebKit\/(\S+)/.exec(l):yr?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(ki&&(qr=ki?ki[1]:""),_r){var Bn=Ti();if(null!=Bn&&Bn>parseFloat(qr)){Jr=String(Bn);break e}}Jr=qr}var qi={};var mt=$.document&&_r&&(Ti()||parseInt(Jr,10))||void 0,Be=function(){if(!$.addEventListener||!Object.defineProperty)return!1;var l=!1,n=Object.defineProperty({},"passive",{get:function(){l=!0}});try{$.addEventListener("test",re,n),$.removeEventListener("test",re,n)}catch(a){}return l}();function ae(l,n){this.type=l,this.g=this.target=n,this.defaultPrevented=!1}function ye(l,n){if(ae.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var a=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=n,n=l.relatedTarget){if(Vr){e:{try{$n(n.nodeName);var g=!0;break e}catch(b){}g=!1}g||(n=null)}}else"mouseover"==a?n=l.fromElement:"mouseout"==a&&(n=l.toElement);this.relatedTarget=n,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:ct[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ye.Z.h.call(this)}}ae.prototype.h=function(){this.defaultPrevented=!0},$e(ye,ae);var ct={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Pt(l,n,a,d,g){this.listener=l,this.proxy=null,this.src=n,this.type=a,this.capture=!!d,this.ia=g,this.key=++yt,this.ca=this.fa=!1}function ln(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function Wt(l){this.src=l,this.g={},this.h=0}function an(l,n){var a=n.type;if(a in l.g){var b,d=l.g[a],g=Ue(d,n);(b=0<=g)&&Array.prototype.splice.call(d,g,1),b&&(ln(n),0==l.g[a].length&&(delete l.g[a],l.h--))}}function jn(l,n,a,d){for(var g=0;g<l.length;++g){var b=l[g];if(!b.ca&&b.listener==n&&b.capture==!!a&&b.ia==d)return g}return-1}Wt.prototype.add=function(l,n,a,d,g){var b=l.toString();(l=this.g[b])||(l=this.g[b]=[],this.h++);var E=jn(l,n,d,g);return-1<E?(n=l[E],a||(n.fa=!1)):((n=new Pt(n,this.src,b,!!d,g)).fa=a,l.push(n)),n};var hn="closure_lm_"+(1e6*Math.random()|0),Hn={};function Ut(l,n,a,d,g){if(d&&d.once)return Ft(l,n,a,d,g);if(Array.isArray(n)){for(var b=0;b<n.length;b++)Ut(l,n[b],a,d,g);return null}return a=De(a),l&&l[lt]?l.N(n,a,dt(d)?!!d.capture:!!d,g):nr(l,n,a,!1,d,g)}function nr(l,n,a,d,g,b){if(!n)throw Error("Invalid event type");var E=dt(g)?!!g.capture:!!g,L=Un(l);if(L||(l[hn]=L=new Wt(l)),(a=L.add(n,a,d,E,b)).proxy)return a;if(d=function kn(){var n=Zn;return function l(a){return n.call(l.src,l.listener,a)}}(),a.proxy=d,d.src=l,d.listener=a,l.addEventListener)Be||(g=E),void 0===g&&(g=!1),l.addEventListener(n.toString(),d,g);else if(l.attachEvent)l.attachEvent(vn(n.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return a}function Ft(l,n,a,d,g){if(Array.isArray(n)){for(var b=0;b<n.length;b++)Ft(l,n[b],a,d,g);return null}return a=De(a),l&&l[lt]?l.O(n,a,dt(d)?!!d.capture:!!d,g):nr(l,n,a,!0,d,g)}function ft(l,n,a,d,g){if(Array.isArray(n))for(var b=0;b<n.length;b++)ft(l,n[b],a,d,g);else d=dt(d)?!!d.capture:!!d,a=De(a),l&&l[lt]?(l=l.i,(n=String(n).toString())in l.g&&-1<(a=jn(b=l.g[n],a,d,g))&&(ln(b[a]),Array.prototype.splice.call(b,a,1),0==b.length&&(delete l.g[n],l.h--))):l&&(l=Un(l))&&(n=l.g[n.toString()],l=-1,n&&(l=jn(n,a,d,g)),(a=-1<l?n[l]:null)&&tn(a))}function tn(l){if("number"!=typeof l&&l&&!l.ca){var n=l.src;if(n&&n[lt])an(n.i,l);else{var a=l.type,d=l.proxy;n.removeEventListener?n.removeEventListener(a,d,l.capture):n.detachEvent?n.detachEvent(vn(a),d):n.addListener&&n.removeListener&&n.removeListener(d),(a=Un(n))?(an(a,l),0==a.h&&(a.src=null,n[hn]=null)):ln(l)}}}function vn(l){return l in Hn?Hn[l]:Hn[l]="on"+l}function Zn(l,n){if(l.ca)l=!0;else{n=new ye(n,this);var a=l.listener,d=l.ia||l.src;l.fa&&tn(l),l=a.call(d,n)}return l}function Un(l){return(l=l[hn])instanceof Wt?l:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function De(l){return"function"==typeof l?l:(l[Pe]||(l[Pe]=function(n){return l.handleEvent(n)}),l[Pe])}function be(){it.call(this),this.i=new Wt(this),this.P=this,this.I=null}function ut(l,n){var a,d=l.I;if(d)for(a=[];d;d=d.I)a.push(d);if(l=l.P,d=n.type||n,"string"==typeof n)n=new ae(n,l);else if(n instanceof ae)n.target=n.target||l;else{var g=n;or(n=new ae(d,l),g)}if(g=!0,a)for(var b=a.length-1;0<=b;b--){var E=n.g=a[b];g=Ye(E,d,!0,n)&&g}if(g=Ye(E=n.g=l,d,!0,n)&&g,g=Ye(E,d,!1,n)&&g,a)for(b=0;b<a.length;b++)g=Ye(E=n.g=a[b],d,!1,n)&&g}function Ye(l,n,a,d){if(!(n=l.i.g[String(n)]))return!0;n=n.concat();for(var g=!0,b=0;b<n.length;++b){var E=n[b];if(E&&!E.ca&&E.capture==a){var L=E.listener,X=E.ia||E.src;E.fa&&an(l.i,E),g=!1!==L.call(X,d)&&g}}return g&&!d.defaultPrevented}$e(be,it),be.prototype[lt]=!0,be.prototype.removeEventListener=function(l,n,a,d){ft(this,l,n,a,d)},be.prototype.M=function(){if(be.Z.M.call(this),this.i){var n,l=this.i;for(n in l.g){for(var a=l.g[n],d=0;d<a.length;d++)ln(a[d]);delete l.g[n],l.h--}}this.I=null},be.prototype.N=function(l,n,a,d){return this.i.add(String(l),n,!1,a,d)},be.prototype.O=function(l,n,a,d){return this.i.add(String(l),n,!0,a,d)};var qt=$.JSON.stringify;function Wn(){var l=Ct;let n=null;return l.g&&(n=l.g,l.g=l.g.next,l.g||(l.h=null),n.next=null),n}var Pn,sr=new class{constructor(l,n){this.i=l,this.j=n,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new ar,l=>l.reset());class ar{constructor(){this.next=this.g=this.h=null}set(n,a){this.h=n,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}function cr(l){$.setTimeout(()=>{throw l},0)}function Tn(l,n){Pn||function Sn(){var l=$.Promise.resolve(void 0);Pn=function(){l.then(cn)}}(),nt||(Pn(),nt=!0),Ct.add(l,n)}var nt=!1,Ct=new class qn{constructor(){this.h=this.g=null}add(n,a){const d=sr.get();d.set(n,a),this.h?this.h.next=d:this.g=d,this.h=d}};function cn(){for(var l;l=Wn();){try{l.h.call(l.g)}catch(a){cr(a)}var n=sr;n.j(l),100>n.h&&(n.h++,l.next=n.g,n.g=l)}nt=!1}function er(l,n){be.call(this),this.h=l||1,this.g=n||$,this.j=ke(this.kb,this),this.l=Date.now()}function gr(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Qt(l,n,a){if("function"==typeof l)a&&(l=ke(l,a));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=ke(l.handleEvent,l)}return 2147483647<Number(n)?-1:$.setTimeout(l,n||0)}function sn(l){l.g=Qt(()=>{l.g=null,l.i&&(l.i=!1,sn(l))},l.j);const n=l.h;l.h=null,l.m.apply(null,n)}$e(er,be),(J=er.prototype).da=!1,J.S=null,J.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),ut(this,"tick"),this.da&&(gr(this),this.start()))}},J.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},J.M=function(){er.Z.M.call(this),gr(this),delete this.g};class rt extends it{constructor(n,a){super(),this.m=n,this.j=a,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:sn(this)}M(){super.M(),this.g&&($.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rt(l){it.call(this),this.h=l,this.g={}}$e(Rt,it);var gn=[];function xn(l,n,a,d){Array.isArray(a)||(a&&(gn[0]=a.toString()),a=gn);for(var g=0;g<a.length;g++){var b=Ut(n,a[g],d||l.handleEvent,!1,l.h||l);if(!b)break;l.g[b.key]=b}}function mn(l){Et(l.g,function(n,a){this.g.hasOwnProperty(a)&&tn(n)},l),l.g={}}function Nn(){this.g=!0}function Gn(l,n,a,d){l.info(function(){return"XMLHTTP TEXT ("+n+"): "+function tr(l,n){if(!l.g)return n;if(!n)return null;try{var a=JSON.parse(n);if(a)for(l=0;l<a.length;l++)if(Array.isArray(a[l])){var d=a[l];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var b=g[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var E=1;E<g.length;E++)g[E]=""}}}return qt(a)}catch(L){return n}}(l,a)+(d?" "+d:"")})}Rt.prototype.M=function(){Rt.Z.M.call(this),mn(this)},Rt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nn.prototype.Aa=function(){this.g=!1},Nn.prototype.info=function(){};var Fr={},Ci=null;function eo(){return Ci=Ci||new be}function zi(l){ae.call(this,Fr.Ma,l)}function $r(l){const n=eo();ut(n,new zi(n,l))}function $i(l,n){ae.call(this,Fr.STAT_EVENT,l),this.stat=n}function Yr(l){const n=eo();ut(n,new $i(n,l))}function at(l,n){ae.call(this,Fr.Na,l),this.size=n}function ze(l,n){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return $.setTimeout(function(){l()},n)}Fr.Ma="serverreachability",$e(zi,ae),Fr.STAT_EVENT="statevent",$e($i,ae),Fr.Na="timingevent",$e(at,ae);var bt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $t(){}function Dr(){}$t.prototype.h=null;var Ro,jr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ir(){ae.call(this,"d")}function vi(){ae.call(this,"c")}function ji(){}function To(l,n,a,d){this.l=l,this.j=n,this.m=a,this.X=d||1,this.V=new Rt(this),this.P=Es,this.W=new er(l=xr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Li}function Li(){this.i=null,this.g="",this.h=!1}$e(Ir,ae),$e(vi,ae),$e(ji,$t),ji.prototype.g=function(){return new XMLHttpRequest},ji.prototype.i=function(){return{}},Ro=new ji;var Es=45e3,ss={},to={};function Jo(l,n,a){l.K=1,l.v=Ie(Se(n)),l.s=a,l.U=!0,as(l,null)}function as(l,n){l.F=Date.now(),Co(l),l.A=Se(l.v);var a=l.A,d=l.X;Array.isArray(d)||(d=[String(d)]),j(a.h,"t",d),l.C=0,a=l.l.H,l.h=new Li,l.g=ba(l.l,a?n:null,!l.s),0<l.O&&(l.L=new rt(ke(l.Ia,l,l.g),l.O)),xn(l.V,l.g,"readystatechange",l.gb),n=l.H?Zt(l.H):{},l.s?(l.u||(l.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,n)):(l.u="GET",l.g.ea(l.A,l.u,null,n)),$r(1),function rr(l,n,a,d,g,b){l.info(function(){if(l.g)if(b)for(var E="",L=b.split("&"),X=0;X<L.length;X++){var he=L[X].split("=");if(1<he.length){var We=he[0];he=he[1];var st=We.split("_");E=2<=st.length&&"type"==st[1]?E+(We+"=")+he+"&":E+(We+"=redacted&")}}else E=null;else E=b;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+n+"\n"+a+"\n"+E})}(l.j,l.u,l.A,l.m,l.X,l.s)}function Fi(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function no(l,n,a){let g,d=!0;for(;!l.I&&l.C<a.length;){if(g=Hi(l,a),g==to){4==n&&(l.o=4,Yr(14),d=!1),Gn(l.j,l.m,null,"[Incomplete Response]");break}if(g==ss){l.o=4,Yr(15),Gn(l.j,l.m,a,"[Invalid Chunk]"),d=!1;break}Gn(l.j,l.m,g,null),cs(l,g)}Fi(l)&&g!=to&&g!=ss&&(l.h.g="",l.C=0),4!=n||0!=a.length||l.h.h||(l.o=1,Yr(16),d=!1),l.i=l.i&&d,d?0<a.length&&!l.aa&&(l.aa=!0,(n=l.l).g==l&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),jc(n),n.L=!0,Yr(11))):(Gn(l.j,l.m,a,"[Invalid Chunked Response]"),fo(l),Si(l))}function Hi(l,n){var a=l.C,d=n.indexOf("\n",a);return-1==d?to:(a=Number(n.substring(a,d)),isNaN(a)?ss:(d+=1)+a>n.length?to:(n=n.substr(d,a),l.C=d+a,n))}function Co(l){l.Y=Date.now()+l.P,Ns(l,l.P)}function Ns(l,n){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ze(ke(l.eb,l),n)}function Yo(l){l.B&&($.clearTimeout(l.B),l.B=null)}function Si(l){0==l.l.G||l.I||Ec(l.l,l)}function fo(l){Yo(l);var n=l.L;n&&"function"==typeof n.na&&n.na(),l.L=null,gr(l.W),mn(l.V),l.g&&(n=l.g,l.g=null,n.abort(),n.na())}function cs(l,n){try{var a=l.l;if(0!=a.G&&(a.g==l||Ur(a.i,l)))if(a.I=l.N,!l.J&&Ur(a.i,l)&&3==a.G){try{var d=a.Ca.g.parse(n)}catch(he){d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0])e:if(a.u)a.ta=g[1],0<a.ta-a.U&&37500>g[2]&&a.N&&0==a.A&&!a.v&&(a.v=ze(ke(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<l.F))break e;Fa(a),Qi(a)}ka(a),Yr(18)}if(1>=Br(a.i)&&a.ka){try{a.ka()}catch(he){}a.ka=void 0}}else $s(a,11)}else if((l.J||a.g==l)&&Fa(a),!Ce(n))for(g=a.Ca.g.parse(n),n=0;n<g.length;n++){let he=g[n];if(a.U=he[0],he=he[1],2==a.G)if("c"==he[0]){a.J=he[1],a.la=he[2];const We=he[3];null!=We&&(a.ma=We,a.h.info("VER="+a.ma));const st=he[4];null!=st&&(a.za=st,a.h.info("SVER="+a.za));const wt=he[5];null!=wt&&"number"==typeof wt&&0<wt&&(a.K=d=1.5*wt,a.h.info("backChannelRequestTimeoutMs_="+d)),d=a;const Jt=l.g;if(Jt){const dn=Jt.g?Jt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(dn){var b=d.i;!b.g&&(Ee(dn,"spdy")||Ee(dn,"quic")||Ee(dn,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Rr(b,b.h),b.h=null))}if(d.D){const lr=Jt.g?Jt.g.getResponseHeader("X-HTTP-Session-Id"):null;lr&&(d.sa=lr,ie(d.F,d.D,lr))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-l.F,a.h.info("Handshake RTT: "+a.O+"ms"));var E=l;if((d=a).oa=po(d,d.H?d.la:null,d.W),E.J){xi(d.i,E);var L=E,X=d.K;X&&L.setTimeout(X),L.B&&(Yo(L),Co(L)),d.g=E}else Ra(d);0<a.l.length&&sa(a)}else"stop"!=he[0]&&"close"!=he[0]||$s(a,7);else 3==a.G&&("stop"==he[0]||"close"==he[0]?"stop"==he[0]?$s(a,7):Vc(a):"noop"!=he[0]&&a.j&&a.j.wa(he),a.A=0)}$r(4)}catch(he){}}function Te(l,n){if(l.forEach&&"function"==typeof l.forEach)l.forEach(n,void 0);else if(pe(l)||"string"==typeof l)Je(l,n,void 0);else{if(l.T&&"function"==typeof l.T)var a=l.T();else if(l.R&&"function"==typeof l.R)a=void 0;else if(pe(l)||"string"==typeof l){a=[];for(var d=l.length,g=0;g<d;g++)a.push(g)}else for(g in a=[],d=0,l)a[d++]=g;d=function co(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(pe(l)){for(var n=[],a=l.length,d=0;d<a;d++)n.push(l[d]);return n}for(d in n=[],a=0,l)n[a++]=l[d];return n}(l),g=d.length;for(var b=0;b<g;b++)n.call(void 0,d[b],a&&a[b],l)}}function Me(l,n){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var d=0;d<a;d+=2)this.set(arguments[d],arguments[d+1])}else if(l)if(l instanceof Me)for(a=l.T(),d=0;d<a.length;d++)this.set(a[d],l.get(a[d]));else for(d in l)this.set(d,l[d])}function fe(l){if(l.i!=l.g.length){for(var n=0,a=0;n<l.g.length;){var d=l.g[n];R(l.h,d)&&(l.g[a++]=d),n++}l.g.length=a}if(l.i!=l.g.length){var g={};for(a=n=0;n<l.g.length;)R(g,d=l.g[n])||(l.g[a++]=d,g[d]=1),n++;l.g.length=a}}function R(l,n){return Object.prototype.hasOwnProperty.call(l,n)}(J=To.prototype).setTimeout=function(l){this.P=l},J.gb=function(l){l=l.target;const n=this.L;n&&3==Lo(l)?n.l():this.Ia(l)},J.Ia=function(l){try{if(l==this.g)e:{const We=Lo(this.g);var n=this.g.Da();const st=this.g.ba();if(!(3>We)&&(3!=We||xr||this.g&&(this.h.h||this.g.ga()||Qo(this.g)))){this.I||4!=We||7==n||$r(8==n||0>=st?3:2),Yo(this);var a=this.g.ba();this.N=a;t:if(Fi(this)){var d=Qo(this.g);l="";var g=d.length,b=4==Lo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){fo(this),Si(this);var E="";break t}this.h.i=new $.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,l+=this.h.i.decode(d[n],{stream:b&&n==g-1});d.splice(0,g),this.h.g+=l,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==a,function pn(l,n,a,d,g,b,E){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+n+"\n"+a+"\n"+b+" "+E})}(this.j,this.u,this.A,this.m,this.X,We,a),this.i){if(this.$&&!this.J){t:{if(this.g){var L,X=this.g;if((L=X.g?X.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ce(L)){var he=L;break t}}he=null}if(!(a=he)){this.i=!1,this.o=3,Yr(12),fo(this),Si(this);break e}Gn(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,cs(this,a)}this.U?(no(this,We,E),xr&&this.i&&3==We&&(xn(this.V,this.W,"tick",this.fb),this.W.start())):(Gn(this.j,this.m,E,null),cs(this,E)),4==We&&fo(this),this.i&&!this.I&&(4==We?Ec(this.l,this):(this.i=!1,Co(this)))}else 400==a&&0<E.indexOf("Unknown SID")?(this.o=3,Yr(12)):(this.o=0,Yr(13)),fo(this),Si(this)}}}catch(We){}},J.fb=function(){if(this.g){var l=Lo(this.g),n=this.g.ga();this.C<n.length&&(Yo(this),no(this,l,n),this.i&&4!=l&&Co(this))}},J.cancel=function(){this.I=!0,fo(this)},J.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Pr(l,n){l.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&($r(3),Yr(17)),fo(this),this.o=2,Si(this)):Ns(this,this.Y-l)},(J=Me.prototype).R=function(){fe(this);for(var l=[],n=0;n<this.g.length;n++)l.push(this.h[this.g[n]]);return l},J.T=function(){return fe(this),this.g.concat()},J.get=function(l,n){return R(this.h,l)?this.h[l]:n},J.set=function(l,n){R(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=n},J.forEach=function(l,n){for(var a=this.T(),d=0;d<a.length;d++){var g=a[d],b=this.get(g);l.call(n,b,g,this)}};var Z=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ee(l,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof ee){this.g=void 0!==n?n:l.g,Oe(this,l.j),this.s=l.s,xe(this,l.i),Le(this,l.m),this.l=l.l,n=l.h;var a=new Go;a.i=n.i,n.g&&(a.g=new Me(n.g),a.h=n.h),ht(this,a),this.o=l.o}else l&&(a=String(l).match(Z))?(this.g=!!n,Oe(this,a[1]||"",!0),this.s=un(a[2]||""),xe(this,a[3]||"",!0),Le(this,a[4]),this.l=un(a[5]||"",!0),ht(this,a[6]||"",!0),this.o=un(a[7]||"")):(this.g=!!n,this.h=new Go(null,this.g))}function Se(l){return new ee(l)}function Oe(l,n,a){l.j=a?un(n,!0):n,l.j&&(l.j=l.j.replace(/:$/,""))}function xe(l,n,a){l.i=a?un(n,!0):n}function Le(l,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);l.m=n}else l.m=null}function ht(l,n,a){n instanceof Go?(l.h=n,function Xe(l,n){n&&!l.j&&(Hr(l),l.i=null,l.g.forEach(function(a,d){var g=d.toLowerCase();d!=g&&(H(this,d),j(this,g,a))},l)),l.j=n}(l.h,l.g)):(a||(n=In(n,ti)),l.h=new Go(n,l.g))}function ie(l,n,a){l.h.set(n,a)}function Ie(l){return ie(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function un(l,n){return l?n?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function In(l,n,a){return"string"==typeof l?(l=encodeURI(l).replace(n,Mn),a&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Mn(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ee.prototype.toString=function(){var l=[],n=this.j;n&&l.push(In(n,Fn,!0),":");var a=this.i;return(a||"file"==n)&&(l.push("//"),(n=this.s)&&l.push(In(n,Fn,!0),"@"),l.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&l.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&l.push("/"),l.push(In(a,"/"==a.charAt(0)?Nr:hr,!0))),(a=this.h.toString())&&l.push("?",a),(a=this.o)&&l.push("#",In(a,Ki)),l.join("")};var Fn=/[#\/\?@]/g,hr=/[#\?:]/g,Nr=/[#\?]/g,ti=/[#\?@]/g,Ki=/#/g;function Go(l,n){this.h=this.g=null,this.i=l||null,this.j=!!n}function Hr(l){l.g||(l.g=new Me,l.h=0,l.i&&function z(l,n){if(l){l=l.split("&");for(var a=0;a<l.length;a++){var d=l[a].indexOf("="),g=null;if(0<=d){var b=l[a].substring(0,d);g=l[a].substring(d+1)}else b=l[a];n(b,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(n,a){l.add(decodeURIComponent(n.replace(/\+/g," ")),a)}))}function H(l,n){Hr(l),n=ge(l,n),R(l.g.h,n)&&(l.i=null,l.h-=l.g.get(n).length,R((l=l.g).h,n)&&(delete l.h[n],l.i--,l.g.length>2*l.i&&fe(l)))}function ce(l,n){return Hr(l),n=ge(l,n),R(l.g.h,n)}function j(l,n,a){H(l,n),0<a.length&&(l.i=null,l.g.set(ge(l,n),oe(a)),l.h+=a.length)}function ge(l,n){return n=String(n),l.j&&(n=n.toLowerCase()),n}function zt(l){this.l=l||En,l=$.PerformanceNavigationTiming?0<(l=$.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!($.g&&$.g.Ea&&$.g.Ea()&&$.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(J=Go.prototype).add=function(l,n){Hr(this),this.i=null,l=ge(this,l);var a=this.g.get(l);return a||this.g.set(l,a=[]),a.push(n),this.h+=1,this},J.forEach=function(l,n){Hr(this),this.g.forEach(function(a,d){Je(a,function(g){l.call(n,g,d,this)},this)},this)},J.T=function(){Hr(this);for(var l=this.g.R(),n=this.g.T(),a=[],d=0;d<n.length;d++)for(var g=l[d],b=0;b<g.length;b++)a.push(n[d]);return a},J.R=function(l){Hr(this);var n=[];if("string"==typeof l)ce(this,l)&&(n=ue(n,this.g.get(ge(this,l))));else{l=this.g.R();for(var a=0;a<l.length;a++)n=ue(n,l[a])}return n},J.set=function(l,n){return Hr(this),this.i=null,ce(this,l=ge(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[n]),this.h+=1,this},J.get=function(l,n){return l&&0<(l=this.R(l)).length?String(l[0]):n},J.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],n=this.g.T(),a=0;a<n.length;a++){var d=n[a],g=encodeURIComponent(String(d));d=this.R(d);for(var b=0;b<d.length;b++){var E=g;""!==d[b]&&(E+="="+encodeURIComponent(String(d[b]))),l.push(E)}}return this.i=l.join("&")};var En=10;function si(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Br(l){return l.h?1:l.g?l.g.size:0}function Ur(l,n){return l.h?l.h==n:!!l.g&&l.g.has(n)}function Rr(l,n){l.g?l.g.add(n):l.h=n}function xi(l,n){l.h&&l.h==n?l.h=null:l.g&&l.g.has(n)&&l.g.delete(n)}function ai(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let n=l.i;for(const a of l.g.values())n=n.concat(a.D);return n}return oe(l.i)}function ci(){}function ko(){this.g=new ci}function Vo(l,n,a){const d=a||"";try{Te(l,function(g,b){let E=g;dt(g)&&(E=qt(g)),n.push(d+b+"="+encodeURIComponent(E))})}catch(g){throw n.push(d+"type="+encodeURIComponent("_badmap")),g}}function Rs(l,n,a,d,g){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,g(d)}catch(b){}}function jo(l){this.l=l.$b||null,this.j=l.ib||!1}function ls(l,n){be.call(this),this.D=l,this.u=n,this.m=void 0,this.readyState=ws,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}zt.prototype.cancel=function(){if(this.i=ai(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},ci.prototype.stringify=function(l){return $.JSON.stringify(l,void 0)},ci.prototype.parse=function(l){return $.JSON.parse(l,void 0)},$e(jo,$t),jo.prototype.g=function(){return new ls(this.l,this.j)},jo.prototype.i=function(l){return function(){return l}}({}),$e(ls,be);var ws=0;function Ds(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function Xa(l){l.readyState=4,l.l=null,l.j=null,l.A=null,us(l)}function us(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(J=ls.prototype).open=function(l,n){if(this.readyState!=ws)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=n,this.readyState=1,us(this)},J.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(n.body=l),(this.D||$).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},J.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Xa(this)),this.readyState=ws},J.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,us(this)),this.g&&(this.readyState=3,us(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==$.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ds(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},J.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var n=l.value?l.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!l.done}))&&(this.response=this.responseText+=n)}l.done?Xa(this):us(this),3==this.readyState&&Ds(this)}},J.Ua=function(l){this.g&&(this.response=this.responseText=l,Xa(this))},J.Ta=function(l){this.g&&(this.response=l,Xa(this))},J.ha=function(){this.g&&Xa(this)},J.setRequestHeader=function(l,n){this.v.append(l,n)},J.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},J.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],n=this.h.entries();for(var a=n.next();!a.done;)l.push((a=a.value)[0]+": "+a[1]),a=n.next();return l.join("\r\n")},Object.defineProperty(ls.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var en=$.JSON.parse;function dr(l){be.call(this),this.headers=new Me,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Oa,this.K=this.L=!1}$e(dr,be);var Oa="",Mi=/^https?$/i,ll=["POST","PUT"];function oa(l){return"content-type"==l.toLowerCase()}function ec(l,n){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=n,l.m=5,Na(l),Sc(l)}function Na(l){l.D||(l.D=!0,ut(l,"complete"),ut(l,"error"))}function Cc(l){if(l.h&&void 0!==ne&&(!l.C[1]||4!=Lo(l)||2!=l.ba()))if(l.v&&4==Lo(l))Qt(l.Fa,0,l);else if(ut(l,"readystatechange"),4==Lo(l)){l.h=!1;try{const L=l.ba();e:switch(L){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var a;if(!(a=n)){var d;if(d=0===L){var g=String(l.H).match(Z)[1]||null;if(!g&&$.self&&$.self.location){var b=$.self.location.protocol;g=b.substr(0,b.length-1)}d=!Mi.test(g?g.toLowerCase():"")}a=d}if(a)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var E=2<Lo(l)?l.g.statusText:""}catch(X){E=""}l.j=E+" ["+l.ba()+"]",Na(l)}}finally{Sc(l)}}}function Sc(l,n){if(l.g){ul(l);const a=l.g,d=l.C[0]?re:null;l.g=null,l.C=null,n||ut(l,"ready");try{a.onreadystatechange=d}catch(g){}}}function ul(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&($.clearTimeout(l.A),l.A=null)}function Lo(l){return l.g?l.g.readyState:0}function Qo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case Oa:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(n){return null}}function _a(l,n,a){e:{for(d in a){var d=!1;break e}d=!0}d||(a=function ma(l){let n="";return Et(l,function(a,d){n+=d,n+=":",n+=a,n+="\r\n"}),n}(a),"string"==typeof l?null!=a&&encodeURIComponent(String(a)):ie(l,n,a))}function ks(l,n,a){return a&&a.internalChannelParams&&a.internalChannelParams[l]||n}function Xo(l){this.za=0,this.l=[],this.h=new Nn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=ks("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=ks("baseRetryDelayMs",5e3,l),this.$a=ks("retryDelaySeedMs",1e4,l),this.Ya=ks("forwardChannelMaxRetries",2,l),this.ra=ks("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new zt(l&&l.concurrentRequestLimit),this.Ca=new ko,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Vc(l){if(dl(l),3==l.G){var n=l.V++,a=Se(l.F);ie(a,"SID",l.J),ie(a,"RID",n),ie(a,"TYPE","terminate"),zs(l,a),(n=new To(l,l.h,n,void 0)).K=2,n.v=Ie(Se(a)),a=!1,$.navigator&&$.navigator.sendBeacon&&(a=$.navigator.sendBeacon(n.v.toString(),"")),!a&&$.Image&&((new Image).src=n.v,a=!0),a||(n.g=ba(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Co(n)}wc(l)}function Qi(l){l.g&&(jc(l),l.g.cancel(),l.g=null)}function dl(l){Qi(l),l.u&&($.clearTimeout(l.u),l.u=null),Fa(l),l.i.cancel(),l.m&&("number"==typeof l.m&&$.clearTimeout(l.m),l.m=null)}function va(l,n){l.l.push(new class{constructor(l,n){this.h=l,this.g=n}}(l.Za++,n)),3==l.G&&sa(l)}function sa(l){si(l.i)||l.m||(l.m=!0,Tn(l.Ha,l),l.C=0)}function jl(l,n){var a;a=n?n.m:l.V++;const d=Se(l.F);ie(d,"SID",l.J),ie(d,"RID",a),ie(d,"AID",l.U),zs(l,d),l.o&&l.s&&_a(d,l.o,l.s),a=new To(l,l.h,a,l.C+1),null===l.o&&(a.H=l.s),n&&(l.l=n.D.concat(l.l)),n=hl(l,a,1e3),a.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),Rr(l.i,a),Jo(a,d,n)}function zs(l,n){l.j&&Te({},function(a,d){ie(n,d,a)})}function hl(l,n,a){a=Math.min(l.l.length,a);var d=l.j?ke(l.j.Oa,l.j,l):null;e:{var g=l.l;let b=-1;for(;;){const E=["count="+a];-1==b?0<a?(b=g[0].h,E.push("ofs="+b)):b=0:E.push("ofs="+b);let L=!0;for(let X=0;X<a;X++){let he=g[X].h;const We=g[X].g;if(he-=b,0>he)b=Math.max(0,g[X].h-100),L=!1;else try{Vo(We,E,"req"+he+"_")}catch(st){d&&d(We)}}if(L){d=E.join("&");break e}}}return l=l.l.splice(0,a),n.D=l,d}function Ra(l){l.g||l.u||(l.Y=1,Tn(l.Ga,l),l.A=0)}function ka(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=ze(ke(l.Ga,l),aa(l,l.A)),l.A++,0))}function jc(l){null!=l.B&&($.clearTimeout(l.B),l.B=null)}function La(l){l.g=new To(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var n=Se(l.oa);ie(n,"RID","rpc"),ie(n,"SID",l.J),ie(n,"CI",l.N?"0":"1"),ie(n,"AID",l.U),zs(l,n),ie(n,"TYPE","xmlhttp"),l.o&&l.s&&_a(n,l.o,l.s),l.K&&l.g.setTimeout(l.K);var a=l.g;l=l.la,a.K=1,a.v=Ie(Se(n)),a.s=null,a.U=!0,as(a,l)}function Fa(l){null!=l.v&&($.clearTimeout(l.v),l.v=null)}function Ec(l,n){var a=null;if(l.g==n){Fa(l),jc(l),l.g=null;var d=2}else{if(!Ur(l.i,n))return;a=n.D,xi(l.i,n),d=1}if(l.I=n.N,0!=l.G)if(n.i)if(1==d){a=n.s?n.s.length:0,n=Date.now()-n.F;var g=l.C;ut(d=eo(),new at(d,a,n,g)),sa(l)}else Ra(l);else if(3==(g=n.o)||0==g&&0<l.I||!(1==d&&function ya(l,n){return!(Br(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=n.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=ze(ke(l.Ha,l,n),aa(l,l.C)),l.C++,0)))}(l,n)||2==d&&ka(l)))switch(a&&0<a.length&&(n=l.i,n.i=n.i.concat(a)),g){case 1:$s(l,5);break;case 4:$s(l,10);break;case 3:$s(l,6);break;default:$s(l,2)}}function aa(l,n){let a=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(a*=2),a*n}function $s(l,n){if(l.h.info("Error code "+n),2==n){var a=null;l.j&&(a=null);var d=ke(l.jb,l);a||(a=new ee("//www.google.com/images/cleardot.gif"),$.location&&"http"==$.location.protocol||Oe(a,"https"),Ie(a)),function fr(l,n){const a=new Nn;if($.Image){const d=new Image;d.onload=gt(Rs,a,d,"TestLoadImage: loaded",!0,n),d.onerror=gt(Rs,a,d,"TestLoadImage: error",!1,n),d.onabort=gt(Rs,a,d,"TestLoadImage: abort",!1,n),d.ontimeout=gt(Rs,a,d,"TestLoadImage: timeout",!1,n),$.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else n(!1)}(a.toString(),d)}else Yr(2);l.G=0,l.j&&l.j.va(n),wc(l),dl(l)}function wc(l){l.G=0,l.I=-1,l.j&&((0!=ai(l.i).length||0!=l.l.length)&&(l.i.i.length=0,oe(l.l),l.l.length=0),l.j.ua())}function po(l,n,a){let d=function Ze(l){return l instanceof ee?Se(l):new ee(l,void 0)}(a);if(""!=d.i)n&&xe(d,n+"."+d.i),Le(d,d.m);else{const g=$.location;d=function St(l,n,a,d){var g=new ee(null,void 0);return l&&Oe(g,l),n&&xe(g,n),a&&Le(g,a),d&&(g.l=d),g}(g.protocol,n?n+"."+g.hostname:g.hostname,+g.port,a)}return l.aa&&Et(l.aa,function(g,b){ie(d,b,g)}),a=l.sa,(n=l.D)&&a&&ie(d,n,a),ie(d,"VER",l.ma),zs(l,d),d}function ba(l,n,a){if(n&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new dr(a&&l.Ba&&!l.qa?new jo({ib:!0}):l.qa)).L=l.H,n}function Bi(){}function tc(){if(_r&&!(10<=Number(mt)))throw Error("Environmental error: no available transport.")}function As(l,n){be.call(this),this.g=new Xo(n),this.l=l,this.h=n&&n.messageUrlParams||null,l=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(l?l["X-WebChannel-Content-Type"]=n.messageContentType:l={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(l?l["X-WebChannel-Client-Profile"]=n.ya:l={"X-WebChannel-Client-Profile":n.ya}),this.g.P=l,(l=n&&n.httpHeadersOverwriteParam)&&!Ce(l)&&(this.g.o=l),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!Ce(n)&&(this.g.D=n,null!==(l=this.h)&&n in l&&n in(l=this.h)&&delete l[n]),this.j=new lo(this)}function vu(l){Ir.call(this);var n=l.__sm__;if(n){e:{for(const a in n){l=a;break e}l=void 0}(this.i=l)&&(l=this.i,n=null!==n&&l in n?n[l]:void 0),this.data=n}else this.data=l}function Hc(){vi.call(this),this.status=1}function lo(l){this.g=l}(J=dr.prototype).ea=function(l,n,a,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);n=n?n.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ro.g(),this.C=function bn(l){return l.h||(l.h=l.i())}(this.u?this.u:Ro),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(n,String(l),!0),this.F=!1}catch(b){return void ec(this,b)}l=a||"";const g=new Me(this.headers);d&&Te(d,function(b,E){g.set(E,b)}),d=function _e(l){e:{var n=oa;const a=l.length,d="string"==typeof l?l.split(""):l;for(let g=0;g<a;g++)if(g in d&&n.call(void 0,d[g],g,l)){n=g;break e}n=-1}return 0>n?null:"string"==typeof l?l.charAt(n):l[n]}(g.T()),a=$.FormData&&l instanceof $.FormData,!(0<=Ue(ll,n))||d||a||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,E){this.g.setRequestHeader(E,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ul(this),0<this.B&&((this.K=function qs(l){return _r&&function oi(){return function Er(l){var n=qi;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=l(9)}(function(){let l=0;const n=qe(String(Jr)).split("."),a=qe("9").split("."),d=Math.max(n.length,a.length);for(let E=0;0==l&&E<d;E++){var g=n[E]||"",b=a[E]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==g[0].length&&0==b[0].length)break;l=xt(0==g[1].length?0:parseInt(g[1],10),0==b[1].length?0:parseInt(b[1],10))||xt(0==g[2].length,0==b[2].length)||xt(g[2],b[2]),g=g[3],b=b[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=Qt(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(b){ec(this,b)}},J.pa=function(){void 0!==ne&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ut(this,"timeout"),this.abort(8))},J.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),Sc(this))},J.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Sc(this,!0)),dr.Z.M.call(this)},J.Fa=function(){this.s||(this.F||this.v||this.l?Cc(this):this.cb())},J.cb=function(){Cc(this)},J.ba=function(){try{return 2<Lo(this)?this.g.status:-1}catch(l){return-1}},J.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},J.Qa=function(l){if(this.g){var n=this.g.responseText;return l&&0==n.indexOf(l)&&(n=n.substring(l.length)),en(n)}},J.Da=function(){return this.m},J.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(J=Xo.prototype).ma=8,J.G=1,J.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(n){}},J.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const g=new To(this,this.h,l,void 0);let b=this.s;if(this.P&&(b?(b=Zt(b),or(b,this.P)):b=this.P),null===this.o&&(g.H=b),this.ja)e:{for(var n=0,a=0;a<this.l.length;a++){var d=this.l[a];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(n+=d)){n=a;break e}if(4096===n||a===this.l.length-1){n=a+1;break e}}n=1e3}else n=1e3;n=hl(this,g,n),ie(a=Se(this.F),"RID",l),ie(a,"CVER",22),this.D&&ie(a,"X-HTTP-Session-Id",this.D),zs(this,a),this.o&&b&&_a(a,this.o,b),Rr(this.i,g),this.Ra&&ie(a,"TYPE","init"),this.ja?(ie(a,"$req",n),ie(a,"SID","null"),g.$=!0,Jo(g,a,null)):Jo(g,a,n),this.G=2}}else 3==this.G&&(l?jl(this,l):0==this.l.length||si(this.i)||jl(this))},J.Ga=function(){if(this.u=null,La(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=ze(ke(this.bb,this),l)}},J.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yr(10),Qi(this),La(this))},J.ab=function(){null!=this.v&&(this.v=null,Qi(this),ka(this),Yr(19))},J.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Yr(2)):(this.h.info("Failed to ping google.com"),Yr(1))},(J=Bi.prototype).xa=function(){},J.wa=function(){},J.va=function(){},J.ua=function(){},J.Oa=function(){},tc.prototype.g=function(l,n){return new As(l,n)},$e(As,be),As.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,n=this.l,a=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),Tn(ke(l.hb,l,n))),Yr(0),l.W=n,l.aa=a||{},l.N=l.X,l.F=po(l,null,l.W),sa(l)},As.prototype.close=function(){Vc(this.g)},As.prototype.u=function(l){if("string"==typeof l){var n={};n.__data__=l,va(this.g,n)}else this.v?((n={}).__data__=qt(l),va(this.g,n)):va(this.g,l)},As.prototype.M=function(){this.g.j=null,delete this.j,Vc(this.g),delete this.g,As.Z.M.call(this)},$e(vu,Ir),$e(Hc,vi),$e(lo,Bi),lo.prototype.xa=function(){ut(this.g,"a")},lo.prototype.wa=function(l){ut(this.g,new vu(l))},lo.prototype.va=function(l){ut(this.g,new Hc(l))},lo.prototype.ua=function(){ut(this.g,"b")},tc.prototype.createWebChannel=tc.prototype.g,As.prototype.send=As.prototype.u,As.prototype.open=As.prototype.m,As.prototype.close=As.prototype.close,bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,Vt.COMPLETE="complete",Dr.EventType=jr,jr.OPEN="a",jr.CLOSE="b",jr.ERROR="c",jr.MESSAGE="d",be.prototype.listen=be.prototype.N,dr.prototype.listenOnce=dr.prototype.O,dr.prototype.getLastError=dr.prototype.La,dr.prototype.getLastErrorCode=dr.prototype.Da,dr.prototype.getStatus=dr.prototype.ba,dr.prototype.getResponseJson=dr.prototype.Qa,dr.prototype.getResponseText=dr.prototype.ga,dr.prototype.send=dr.prototype.ea;var ed=Y.createWebChannelTransport=function(){return new tc},Ta=Y.getStatEventTarget=function(){return eo()},Ks=Y.ErrorCode=bt,Js=Y.EventType=Vt,ui=Y.Event=Fr,nc=Y.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Qd=Y.FetchXmlHttpFactory=jo,es=Y.WebChannel=Dr,Ba=Y.XhrIo=dr;const rc="@firebase/firestore";class ro{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");let So="9.6.9";const ts=new N.Yd("@firebase/firestore");function Ys(){return ts.logLevel}function _n(l,...n){if(ts.logLevel<=N.in.DEBUG){const a=n.map(fl);ts.debug(`Firestore (${So}): ${l}`,...a)}}function di(l,...n){if(ts.logLevel<=N.in.ERROR){const a=n.map(fl);ts.error(`Firestore (${So}): ${l}`,...a)}}function ic(l,...n){if(ts.logLevel<=N.in.WARN){const a=n.map(fl);ts.warn(`Firestore (${So}): ${l}`,...a)}}function fl(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(a){return l}}function Qn(l="Unexpected state"){const n=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+l;throw di(n),new Error(n)}function br(l,n){l||Qn()}function Rn(l,n){return l}const It={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class on extends O.ZR{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}class yi{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class oc{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(ro.UNAUTHENTICATED))}shutdown(){}}class td{constructor(n){this.t=n,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){var d=this;let g=this.i;const b=he=>this.i!==g?(g=this.i,a(he)):Promise.resolve();let E=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Ii,n.enqueueRetryable(()=>b(this.currentUser))};const L=()=>{const he=E;n.enqueueRetryable((0,p.Z)(function*(){yield he.promise,yield b(d.currentUser)}))},X=he=>{_n("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=he,this.auth.addAuthTokenListener(this.o),L()};this.t.onInit(he=>X(he)),setTimeout(()=>{if(!this.auth){const he=this.t.getImmediate({optional:!0});he?X(he):(_n("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Ii)}},0),L()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(d=>this.i!==n?(_n("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(br("string"==typeof d.accessToken),new yi(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return br(null===n||"string"==typeof n),new ro(n)}}class Hl{constructor(n,a,d){this.type="FirstParty",this.user=ro.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",a);const g=n.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),d&&this.headers.set("X-Goog-Iam-Authorization-Token",d)}}class k{constructor(n,a,d){this.h=n,this.l=a,this.m=d}getToken(){return Promise.resolve(new Hl(this.h,this.l,this.m))}start(n,a){n.enqueueRetryable(()=>a(ro.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class P{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class D{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,a){const d=b=>{null!=b.error&&_n("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const E=b.token!==this.p;return this.p=b.token,_n("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?a(b.token):Promise.resolve()};this.o=b=>{n.enqueueRetryable(()=>d(b))};const g=b=>{_n("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.g.onInit(b=>g(b)),setTimeout(()=>{if(!this.appCheck){const b=this.g.getImmediate({optional:!0});b?g(b):_n("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(br("string"==typeof a.token),this.p=a.token,new P(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class K{constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=d=>this.I(d),this.T=d=>a.writeSequenceNumber(d))}I(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.T&&this.T(n),n}}function de(l){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(a);else for(let d=0;d<l;d++)a[d]=Math.floor(256*Math.random());return a}K.A=-1;class Ve{static R(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/n.length)*n.length;let d="";for(;d.length<20;){const g=de(40);for(let b=0;b<g.length;++b)d.length<20&&g[b]<a&&(d+=n.charAt(g[b]%n.length))}return d}}function He(l,n){return l<n?-1:l>n?1:0}function Ot(l,n,a){return l.length===n.length&&l.every((d,g)=>a(d,n[g]))}class On{constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new on(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new on(It.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<-62135596800)throw new on(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new on(It.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return On.fromMillis(Date.now())}static fromDate(n){return On.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),d=Math.floor(1e6*(n-1e3*a));return new On(a,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?He(this.nanoseconds,n.nanoseconds):He(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class jt{constructor(n){this.timestamp=n}static fromTimestamp(n){return new jt(n)}static min(){return new jt(new On(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Kn(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Tr(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function Ei(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class Xr{constructor(n,a,d){void 0===a?a=0:a>n.length&&Qn(),void 0===d?d=n.length-a:d>n.length-a&&Qn(),this.segments=n,this.offset=a,this.len=d}get length(){return this.len}isEqual(n){return 0===Xr.comparator(this,n)}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof Xr?n.forEach(d=>{a.push(d)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,d=this.limit();a<d;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const d=Math.min(n.length,a.length);for(let g=0;g<d;g++){const b=n.get(g),E=a.get(g);if(b<E)return-1;if(b>E)return 1}return n.length<a.length?-1:n.length>a.length?1:0}}class wr extends Xr{construct(n,a,d){return new wr(n,a,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const a=[];for(const d of n){if(d.indexOf("//")>=0)throw new on(It.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);a.push(...d.split("/").filter(g=>g.length>0))}return new wr(a)}static emptyPath(){return new wr([])}}const pi=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Oi extends Xr{construct(n,a,d){return new Oi(n,a,d)}static isValidIdentifier(n){return pi.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Oi.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Oi(["__name__"])}static fromServerFormat(n){const a=[];let d="",g=0;const b=()=>{if(0===d.length)throw new on(It.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(d),d=""};let E=!1;for(;g<n.length;){const L=n[g];if("\\"===L){if(g+1===n.length)throw new on(It.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const X=n[g+1];if("\\"!==X&&"."!==X&&"`"!==X)throw new on(It.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);d+=X,g+=2}else"`"===L?(E=!E,g++):"."!==L||E?(d+=L,g++):(b(),g++)}if(b(),E)throw new on(It.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Oi(a)}static emptyPath(){return new Oi([])}}class ds{constructor(n){this.fields=n,n.sort(Oi.comparator)}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Ot(this.fields,n.fields,(a,d)=>a.isEqual(d))}}class Xi{constructor(n){this.binaryString=n}static fromBase64String(n){const a=atob(n);return new Xi(a)}static fromUint8Array(n){const a=function(d){let g="";for(let b=0;b<d.length;++b)g+=String.fromCharCode(d[b]);return g}(n);return new Xi(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let d=0;d<n.length;d++)a[d]=n.charCodeAt(d);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return He(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Xi.EMPTY_BYTE_STRING=new Xi("");const ml=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hs(l){if(br(!!l),"string"==typeof l){let n=0;const a=ml.exec(l);if(br(!!a),a[1]){let g=a[1];g=(g+"000000000").substr(0,9),n=Number(g)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:n}}return{seconds:Gr(l.seconds),nanos:Gr(l.nanos)}}function Gr(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function Ho(l){return"string"==typeof l?Xi.fromBase64String(l):Xi.fromUint8Array(l)}function bu(l){var n,a;return"server_timestamp"===(null===(a=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Zl(l){const n=l.mapValue.fields.__previous_value__;return bu(n)?Zl(n):n}function Ls(l){const n=hs(l.mapValue.fields.__local_write_time__.timestampValue);return new On(n.seconds,n.nanos)}class sc{constructor(n,a,d,g,b,E,L,X){this.databaseId=n,this.appId=a,this.persistenceKey=d,this.host=g,this.ssl=b,this.forceLongPolling=E,this.autoDetectLongPolling=L,this.useFetchStreams=X}}class ac{constructor(n,a){this.projectId=n,this.database=a||"(default)"}static empty(){return new ac("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof ac&&n.projectId===this.projectId&&n.database===this.database}}function Ui(l){return null==l}function go(l){return 0===l&&1/l==-1/0}class Vn{constructor(n){this.path=n}static fromPath(n){return new Vn(wr.fromString(n))}static fromName(n){return new Vn(wr.fromString(n).popFirst(5))}static empty(){return new Vn(wr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===wr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,a){return wr.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Vn(new wr(n.slice()))}}function Ca(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?bu(l)?4:Tu(l)?9:10:Qn()}function Fs(l,n){if(l===n)return!0;const a=Ca(l);if(a!==Ca(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Ls(l).isEqual(Ls(n));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;const b=hs(d.timestampValue),E=hs(g.timestampValue);return b.seconds===E.seconds&&b.nanos===E.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return g=n,Ho(l.bytesValue).isEqual(Ho(g.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(d,g){return Gr(d.geoPointValue.latitude)===Gr(g.geoPointValue.latitude)&&Gr(d.geoPointValue.longitude)===Gr(g.geoPointValue.longitude)}(l,n);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return Gr(d.integerValue)===Gr(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){const b=Gr(d.doubleValue),E=Gr(g.doubleValue);return b===E?go(b)===go(E):isNaN(b)&&isNaN(E)}return!1}(l,n);case 9:return Ot(l.arrayValue.values||[],n.arrayValue.values||[],Fs);case 10:return function(d,g){const b=d.mapValue.fields||{},E=g.mapValue.fields||{};if(Kn(b)!==Kn(E))return!1;for(const L in b)if(b.hasOwnProperty(L)&&(void 0===E[L]||!Fs(b[L],E[L])))return!1;return!0}(l,n);default:return Qn()}var g}function wi(l,n){return void 0!==(l.values||[]).find(a=>Fs(a,n))}function Dc(l,n){if(l===n)return 0;const a=Ca(l),d=Ca(n);if(a!==d)return He(a,d);switch(a){case 0:case 9007199254740991:return 0;case 1:return He(l.booleanValue,n.booleanValue);case 2:return function(g,b){const E=Gr(g.integerValue||g.doubleValue),L=Gr(b.integerValue||b.doubleValue);return E<L?-1:E>L?1:E===L?0:isNaN(E)?isNaN(L)?0:-1:1}(l,n);case 3:return mo(l.timestampValue,n.timestampValue);case 4:return mo(Ls(l),Ls(n));case 5:return He(l.stringValue,n.stringValue);case 6:return function(g,b){const E=Ho(g),L=Ho(b);return E.compareTo(L)}(l.bytesValue,n.bytesValue);case 7:return function(g,b){const E=g.split("/"),L=b.split("/");for(let X=0;X<E.length&&X<L.length;X++){const he=He(E[X],L[X]);if(0!==he)return he}return He(E.length,L.length)}(l.referenceValue,n.referenceValue);case 8:return function(g,b){const E=He(Gr(g.latitude),Gr(b.latitude));return 0!==E?E:He(Gr(g.longitude),Gr(b.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(g,b){const E=g.values||[],L=b.values||[];for(let X=0;X<E.length&&X<L.length;++X){const he=Dc(E[X],L[X]);if(he)return he}return He(E.length,L.length)}(l.arrayValue,n.arrayValue);case 10:return function(g,b){const E=g.fields||{},L=Object.keys(E),X=b.fields||{},he=Object.keys(X);L.sort(),he.sort();for(let We=0;We<L.length&&We<he.length;++We){const st=He(L[We],he[We]);if(0!==st)return st;const wt=Dc(E[L[We]],X[he[We]]);if(0!==wt)return wt}return He(L.length,he.length)}(l.mapValue,n.mapValue);default:throw Qn()}}function mo(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return He(l,n);const a=hs(l),d=hs(n),g=He(a.seconds,d.seconds);return 0!==g?g:He(a.nanos,d.nanos)}function Fo(l){return _l(l)}function _l(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(d){const g=hs(d);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?Ho(l.bytesValue).toBase64():"referenceValue"in l?Vn.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(n=l.geoPointValue).latitude},${n.longitude})`:"arrayValue"in l?function(d){let g="[",b=!0;for(const E of d.values||[])b?b=!1:g+=",",g+=_l(E);return g+"]"}(l.arrayValue):"mapValue"in l?function(d){const g=Object.keys(d.fields||{}).sort();let b="{",E=!0;for(const L of g)E?E=!1:b+=",",b+=`${L}:${_l(d.fields[L])}`;return b+"}"}(l.mapValue):Qn();var n}function nd(l){return!!l&&"integerValue"in l}function Eo(l){return!!l&&"arrayValue"in l}function fs(l){return!!l&&"nullValue"in l}function Zc(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function lc(l){return!!l&&"mapValue"in l}function xs(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Tr(l.mapValue.fields,(a,d)=>n.mapValue.fields[a]=xs(d)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=xs(l.arrayValue.values[a]);return n}return Object.assign({},l)}function Tu(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class io{constructor(n){this.value=n}static empty(){return new io({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let d=0;d<n.length-1;++d)if(a=(a.mapValue.fields||{})[n.get(d)],!lc(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=xs(a)}setAll(n){let a=Oi.emptyPath(),d={},g=[];n.forEach((E,L)=>{if(!a.isImmediateParentOf(L)){const X=this.getFieldsMap(a);this.applyChanges(X,d,g),d={},g=[],a=L.popLast()}E?d[L.lastSegment()]=xs(E):g.push(L.lastSegment())});const b=this.getFieldsMap(a);this.applyChanges(b,d,g)}delete(n){const a=this.field(n.popLast());lc(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return Fs(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let d=0;d<n.length;++d){let g=a.mapValue.fields[n.get(d)];lc(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},a.mapValue.fields[n.get(d)]=g),a=g}return a.mapValue.fields}applyChanges(n,a,d){Tr(a,(g,b)=>n[g]=b);for(const g of d)delete n[g]}clone(){return new io(xs(this.value))}}function Wl(l){const n=[];return Tr(l.fields,(a,d)=>{const g=new Oi([a]);if(lc(d)){const b=Wl(d.mapValue).fields;if(0===b.length)n.push(g);else for(const E of b)n.push(g.child(E))}else n.push(g)}),new ds(n)}class Ni{constructor(n,a,d,g,b,E){this.key=n,this.documentType=a,this.version=d,this.readTime=g,this.data=b,this.documentState=E}static newInvalidDocument(n){return new Ni(n,0,jt.min(),jt.min(),io.empty(),0)}static newFoundDocument(n,a,d){return new Ni(n,1,a,jt.min(),d,0)}static newNoDocument(n,a){return new Ni(n,2,a,jt.min(),io.empty(),0)}static newUnknownDocument(n,a){return new Ni(n,3,a,jt.min(),io.empty(),2)}convertToFoundDocument(n,a){return this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ni&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ql{constructor(n,a=null,d=[],g=[],b=null,E=null,L=null){this.path=n,this.collectionGroup=a,this.orderBy=d,this.filters=g,this.limit=b,this.startAt=E,this.endAt=L,this.P=null}}function eh(l,n=null,a=[],d=[],g=null,b=null,E=null){return new ql(l,n,a,d,g,b,E)}function Ga(l){const n=Rn(l);if(null===n.P){let a=n.path.canonicalString();null!==n.collectionGroup&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(d=>{return(g=d).field.canonicalString()+g.op.toString()+Fo(g.value);var g}).join(","),a+="|ob:",a+=n.orderBy.map(d=>{return(g=d).field.canonicalString()+g.dir;var g}).join(","),Ui(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(d=>Fo(d)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(d=>Fo(d)).join(",")),n.P=a}return n.P}function Sa(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!fn(l.orderBy[g],n.orderBy[g]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((a=l.filters[g]).op!==(d=n.filters[g]).op||!a.field.isEqual(d.field)||!Fs(a.value,d.value))return!1;var a,d;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!Mr(l.startAt,n.startAt)&&Mr(l.endAt,n.endAt)}function ns(l){return Vn.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class Zi extends class{}{constructor(n,a,d){super(),this.field=n,this.op=a,this.value=d}static create(n,a,d){return n.isKeyField()?"in"===a||"not-in"===a?this.V(n,a,d):new qc(n,a,d):"array-contains"===a?new U(n,d):"in"===a?new W(n,d):"not-in"===a?new le(n,d):"array-contains-any"===a?new Ge(n,d):new Zi(n,a,d)}static V(n,a,d){return"in"===a?new Cu(n,d):new zc(n,d)}matches(n){const a=n.data.field(this.field);return"!="===this.op?null!==a&&this.v(Dc(a,this.value)):null!==a&&Ca(this.value)===Ca(a)&&this.v(Dc(a,this.value))}v(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Qn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class qc extends Zi{constructor(n,a,d){super(n,a,d),this.key=Vn.fromName(d.referenceValue)}matches(n){const a=Vn.comparator(n.key,this.key);return this.v(a)}}class Cu extends Zi{constructor(n,a){super(n,"in",a),this.keys=Bs(0,a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class zc extends Zi{constructor(n,a){super(n,"not-in",a),this.keys=Bs(0,a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function Bs(l,n){var a;return((null===(a=n.arrayValue)||void 0===a?void 0:a.values)||[]).map(d=>Vn.fromName(d.referenceValue))}class U extends Zi{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return Eo(a)&&wi(a.arrayValue,this.value)}}class W extends Zi{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return null!==a&&wi(this.value.arrayValue,a)}}class le extends Zi{constructor(n,a){super(n,"not-in",a)}matches(n){if(wi(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return null!==a&&!wi(this.value.arrayValue,a)}}class Ge extends Zi{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!Eo(a)||!a.arrayValue.values)&&a.arrayValue.values.some(d=>wi(this.value.arrayValue,d))}}class _t{constructor(n,a){this.position=n,this.inclusive=a}}class Dt{constructor(n,a="asc"){this.field=n,this.dir=a}}function fn(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}function Dn(l,n,a){let d=0;for(let g=0;g<l.position.length;g++){const b=n[g],E=l.position[g];if(d=b.field.isKeyField()?Vn.comparator(Vn.fromName(E.referenceValue),a.key):Dc(E,a.data.field(b.field)),"desc"===b.dir&&(d*=-1),0!==d)break}return d}function Mr(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!Fs(l.position[a],n.position[a]))return!1;return!0}class Xn{constructor(n,a=null,d=[],g=[],b=null,E="F",L=null,X=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=d,this.filters=g,this.limit=b,this.limitType=E,this.startAt=L,this.endAt=X,this.D=null,this.C=null}}function Cr(l){return new Xn(l)}function Do(l){return!Ui(l.limit)&&"F"===l.limitType}function _o(l){return!Ui(l.limit)&&"L"===l.limitType}function gs(l){const n=Rn(l);if(null===n.D){n.D=[];const a=function rs(l){for(const n of l.filters)if(n.S())return n.field;return null}(n),d=function ca(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(n);if(null!==a&&null===d)a.isKeyField()||n.D.push(new Dt(a)),n.D.push(new Dt(Oi.keyField(),"asc"));else{let g=!1;for(const b of n.explicitOrderBy)n.D.push(b),b.field.isKeyField()&&(g=!0);if(!g){const b=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.D.push(new Dt(Oi.keyField(),b))}}}return n.D}function Gi(l){const n=Rn(l);if(!n.C)if("F"===n.limitType)n.C=eh(n.path,n.collectionGroup,gs(n),n.filters,n.limit,n.startAt,n.endAt);else{const a=[];for(const b of gs(n))a.push(new Dt(b.field,"desc"===b.dir?"asc":"desc"));const d=n.endAt?new _t(n.endAt.position,!n.endAt.inclusive):null,g=n.startAt?new _t(n.startAt.position,!n.startAt.inclusive):null;n.C=eh(n.path,n.collectionGroup,a,n.filters,n.limit,d,g)}return n.C}function Ac(l,n){return Sa(Gi(l),Gi(n))&&l.limitType===n.limitType}function $l(l){return`${Ga(Gi(l))}|lt:${l.limitType}`}function $c(l){return`Query(target=${function Wc(l){let n=l.path.canonicalString();return null!==l.collectionGroup&&(n+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(n+=`, filters: [${l.filters.map(a=>{return`${(d=a).field.canonicalString()} ${d.op} ${Fo(d.value)}`;var d}).join(", ")}]`),Ui(l.limit)||(n+=", limit: "+l.limit),l.orderBy.length>0&&(n+=`, orderBy: [${l.orderBy.map(a=>{return`${(d=a).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),l.startAt&&(n+=", startAt: ",n+=l.startAt.inclusive?"b:":"a:",n+=l.startAt.position.map(a=>Fo(a)).join(",")),l.endAt&&(n+=", endAt: ",n+=l.endAt.inclusive?"a:":"b:",n+=l.endAt.position.map(a=>Fo(a)).join(",")),`Target(${n})`}(Gi(l))}; limitType=${l.limitType})`}function Kl(l,n){return n.isFoundDocument()&&function(a,d){const g=d.key.path;return null!==a.collectionGroup?d.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(g):Vn.isDocumentKey(a.path)?a.path.isEqual(g):a.path.isImmediateParentOf(g)}(l,n)&&function(a,d){for(const g of a.explicitOrderBy)if(!g.field.isKeyField()&&null===d.data.field(g.field))return!1;return!0}(l,n)&&function(a,d){for(const g of a.filters)if(!g.matches(d))return!1;return!0}(l,n)&&(d=n,!((a=l).startAt&&!function(g,b,E){const L=Dn(g,b,E);return g.inclusive?L<=0:L<0}(a.startAt,gs(a),d)||a.endAt&&!function(g,b,E){const L=Dn(g,b,E);return g.inclusive?L>=0:L>0}(a.endAt,gs(a),d)));var a,d}function od(l){return(n,a)=>{let d=!1;for(const g of gs(l)){const b=Su(g,n,a);if(0!==b)return b;d=d||g.field.isKeyField()}return 0}}function Su(l,n,a){const d=l.field.isKeyField()?Vn.comparator(n.key,a.key):function(g,b,E){const L=b.data.field(g),X=E.data.field(g);return null!==L&&null!==X?Dc(L,X):Qn()}(l.field,n,a);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return Qn()}}function xc(l,n){if(l.N){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:go(n)?"-0":n}}function Zo(l){return{integerValue:""+l}}function mp(l,n){return function Qs(l){return"number"==typeof l&&Number.isInteger(l)&&!go(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(n)?Zo(n):xc(l,n)}class vo{constructor(){this._=void 0}}function nf(l,n,a){return l instanceof Jl?function(d,g){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return g&&(b.fields.__previous_value__=g),{mapValue:b}}(a,n):l instanceof dc?sf(l,n):l instanceof Va?Tl(l,n):function(d,g){const b=rf(d,g),E=af(b)+af(d.k);return nd(b)&&nd(d.k)?Zo(E):xc(d.M,E)}(l,n)}function _p(l,n,a){return l instanceof dc?sf(l,n):l instanceof Va?Tl(l,n):a}function rf(l,n){return l instanceof ja?nd(a=n)||(d=a)&&"doubleValue"in d?n:{integerValue:0}:null;var d,a}class Jl extends vo{}class dc extends vo{constructor(n){super(),this.elements=n}}function sf(l,n){const a=Eu(n);for(const d of l.elements)a.some(g=>Fs(g,d))||a.push(d);return{arrayValue:{values:a}}}class Va extends vo{constructor(n){super(),this.elements=n}}function Tl(l,n){let a=Eu(n);for(const d of l.elements)a=a.filter(g=>!Fs(g,d));return{arrayValue:{values:a}}}class ja extends vo{constructor(n,a){super(),this.M=n,this.k=a}}function af(l){return Gr(l.integerValue||l.doubleValue)}function Eu(l){return Eo(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class Cl{constructor(n,a){this.version=n,this.transformResults=a}}class yo{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new yo}static exists(n){return new yo(void 0,n)}static updateTime(n){return new yo(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Ha(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class Du{}function Sl(l,n,a){l instanceof Au?function(d,g,b){const E=d.value.clone(),L=ad(d.fieldTransforms,g,b.transformResults);E.setAll(L),g.convertToFoundDocument(b.version,E).setHasCommittedMutations()}(l,n,a):l instanceof Us?function(d,g,b){if(!Ha(d.precondition,g))return void g.convertToUnknownDocument(b.version);const E=ad(d.fieldTransforms,g,b.transformResults),L=g.data;L.setAll(Kc(d)),L.setAll(E),g.convertToFoundDocument(b.version,L).setHasCommittedMutations()}(l,n,a):n.convertToNoDocument(a.version).setHasCommittedMutations()}function th(l,n,a){var g;l instanceof Au?function(d,g,b){if(!Ha(d.precondition,g))return;const E=d.value.clone(),L=nh(d.fieldTransforms,b,g);E.setAll(L),g.convertToFoundDocument(uf(g),E).setHasLocalMutations()}(l,n,a):l instanceof Us?function(d,g,b){if(!Ha(d.precondition,g))return;const E=nh(d.fieldTransforms,b,g),L=g.data;L.setAll(Kc(d)),L.setAll(E),g.convertToFoundDocument(uf(g),L).setHasLocalMutations()}(l,n,a):Ha(l.precondition,g=n)&&g.convertToNoDocument(jt.min())}function cf(l,n){let a=null;for(const d of l.fieldTransforms){const g=n.data.field(d.field),b=rf(d.transform,g||null);null!=b&&(null==a&&(a=io.empty()),a.set(d.field,b))}return a||null}function lf(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(d=n.fieldTransforms,!!(void 0===(a=l.fieldTransforms)&&void 0===d||a&&d&&Ot(a,d,(g,b)=>function wu(l,n){return l.field.isEqual(n.field)&&(d=n.transform,(a=l.transform)instanceof dc&&d instanceof dc||a instanceof Va&&d instanceof Va?Ot(a.elements,d.elements,Fs):a instanceof ja&&d instanceof ja?Fs(a.k,d.k):a instanceof Jl&&d instanceof Jl);var a,d}(g,b))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var a,d}function uf(l){return l.isFoundDocument()?l.version:jt.min()}class Au extends Du{constructor(n,a,d,g=[]){super(),this.key=n,this.value=a,this.precondition=d,this.fieldTransforms=g,this.type=0}}class Us extends Du{constructor(n,a,d,g,b=[]){super(),this.key=n,this.data=a,this.fieldMask=d,this.precondition=g,this.fieldTransforms=b,this.type=1}}function Kc(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const d=l.data.field(a);n.set(a,d)}}),n}function ad(l,n,a){const d=new Map;br(l.length===a.length);for(let g=0;g<a.length;g++){const b=l[g],E=b.transform,L=n.data.field(b.field);d.set(b.field,_p(E,L,a[g]))}return d}function nh(l,n,a){const d=new Map;for(const g of l){const b=g.transform,E=a.data.field(g.field);d.set(g.field,nf(b,E,n))}return d}class Yl extends Du{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class Ql extends Du{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class cm{constructor(n){this.count=n}}var bo,gi;function rh(l){switch(l){default:return Qn();case It.CANCELLED:case It.UNKNOWN:case It.DEADLINE_EXCEEDED:case It.RESOURCE_EXHAUSTED:case It.INTERNAL:case It.UNAVAILABLE:case It.UNAUTHENTICATED:return!1;case It.INVALID_ARGUMENT:case It.NOT_FOUND:case It.ALREADY_EXISTS:case It.PERMISSION_DENIED:case It.FAILED_PRECONDITION:case It.ABORTED:case It.OUT_OF_RANGE:case It.UNIMPLEMENTED:case It.DATA_LOSS:return!0}}function ih(l){if(void 0===l)return di("GRPC error has no .code"),It.UNKNOWN;switch(l){case bo.OK:return It.OK;case bo.CANCELLED:return It.CANCELLED;case bo.UNKNOWN:return It.UNKNOWN;case bo.DEADLINE_EXCEEDED:return It.DEADLINE_EXCEEDED;case bo.RESOURCE_EXHAUSTED:return It.RESOURCE_EXHAUSTED;case bo.INTERNAL:return It.INTERNAL;case bo.UNAVAILABLE:return It.UNAVAILABLE;case bo.UNAUTHENTICATED:return It.UNAUTHENTICATED;case bo.INVALID_ARGUMENT:return It.INVALID_ARGUMENT;case bo.NOT_FOUND:return It.NOT_FOUND;case bo.ALREADY_EXISTS:return It.ALREADY_EXISTS;case bo.PERMISSION_DENIED:return It.PERMISSION_DENIED;case bo.FAILED_PRECONDITION:return It.FAILED_PRECONDITION;case bo.ABORTED:return It.ABORTED;case bo.OUT_OF_RANGE:return It.OUT_OF_RANGE;case bo.UNIMPLEMENTED:return It.UNIMPLEMENTED;case bo.DATA_LOSS:return It.DATA_LOSS;default:return Qn()}}(gi=bo||(bo={}))[gi.OK=0]="OK",gi[gi.CANCELLED=1]="CANCELLED",gi[gi.UNKNOWN=2]="UNKNOWN",gi[gi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",gi[gi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",gi[gi.NOT_FOUND=5]="NOT_FOUND",gi[gi.ALREADY_EXISTS=6]="ALREADY_EXISTS",gi[gi.PERMISSION_DENIED=7]="PERMISSION_DENIED",gi[gi.UNAUTHENTICATED=16]="UNAUTHENTICATED",gi[gi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",gi[gi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",gi[gi.ABORTED=10]="ABORTED",gi[gi.OUT_OF_RANGE=11]="OUT_OF_RANGE",gi[gi.UNIMPLEMENTED=12]="UNIMPLEMENTED",gi[gi.INTERNAL=13]="INTERNAL",gi[gi.UNAVAILABLE=14]="UNAVAILABLE",gi[gi.DATA_LOSS=15]="DATA_LOSS";class Jc{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0!==d)for(const[g,b]of d)if(this.equalsFn(g,n))return b}has(n){return void 0!==this.get(n)}set(n,a){const d=this.mapKeyFn(n),g=this.inner[d];if(void 0===g)return this.inner[d]=[[n,a]],void this.innerSize++;for(let b=0;b<g.length;b++)if(this.equalsFn(g[b][0],n))return void(g[b]=[n,a]);g.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],n))return 1===d.length?delete this.inner[a]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(n){Tr(this.inner,(a,d)=>{for(const[g,b]of d)n(g,b)})}isEmpty(){return Ei(this.inner)}size(){return this.innerSize}}class Wr{constructor(n,a){this.comparator=n,this.root=a||Ps.EMPTY}insert(n,a){return new Wr(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ps.BLACK,null,null))}remove(n){return new Wr(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ps.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const d=this.comparator(n,a.key);if(0===d)return a.value;d<0?a=a.left:d>0&&(a=a.right)}return null}indexOf(n){let a=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(n,d.key);if(0===g)return a+d.left.size;g<0?d=d.left:(a+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,d)=>(n(a,d),!1))}toString(){const n=[];return this.inorderTraversal((a,d)=>(n.push(`${a}:${d}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new cd(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new cd(this.root,n,this.comparator,!1)}getReverseIterator(){return new cd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new cd(this.root,n,this.comparator,!0)}}class cd{constructor(n,a,d,g){this.isReverse=g,this.nodeStack=[];let b=1;for(;!n.isEmpty();)if(b=a?d(n.key,a):1,a&&g&&(b*=-1),b<0)n=this.isReverse?n.left:n.right;else{if(0===b){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ps{constructor(n,a,d,g,b){this.key=n,this.value=a,this.color=null!=d?d:Ps.RED,this.left=null!=g?g:Ps.EMPTY,this.right=null!=b?b:Ps.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,d,g,b){return new Ps(null!=n?n:this.key,null!=a?a:this.value,null!=d?d:this.color,null!=g?g:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,d){let g=this;const b=d(n,g.key);return g=b<0?g.copy(null,null,null,g.left.insert(n,a,d),null):0===b?g.copy(null,a,null,null,null):g.copy(null,null,null,null,g.right.insert(n,a,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Ps.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let d,g=this;if(a(n,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(n,a),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===a(n,g.key)){if(g.right.isEmpty())return Ps.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(n,a))}return g.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Qn();const n=this.left.check();if(n!==this.right.check())throw Qn();return n+(this.isRed()?0:1)}}Ps.EMPTY=null,Ps.RED=!0,Ps.BLACK=!1,Ps.EMPTY=new class{constructor(){this.size=0}get key(){throw Qn()}get value(){throw Qn()}get color(){throw Qn()}get left(){throw Qn()}get right(){throw Qn()}copy(l,n,a,d,g){return this}insert(l,n,a){return new Ps(l,n)}remove(l,n){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ri{constructor(n){this.comparator=n,this.data=new Wr(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,d)=>(n(a),!1))}forEachInRange(n,a){const d=this.data.getIteratorFrom(n[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,n[1])>=0)return;a(g.key)}}forEachWhile(n,a){let d;for(d=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();d.hasNext();)if(!n(d.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new xu(this.data.getIterator())}getIteratorFrom(n){return new xu(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(d=>{a=a.add(d)}),a}isEqual(n){if(!(n instanceof Ri)||this.size!==n.size)return!1;const a=this.data.getIterator(),d=n.data.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(0!==this.comparator(g,b))return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new Ri(this.comparator);return a.data=n,a}}class xu{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const la=new Wr(Vn.comparator);function Ms(){return la}const ea=new Wr(Vn.comparator);function ld(){return ea}function ms(){return new Jc(l=>l.toString(),(l,n)=>l.isEqual(n))}const j_=new Wr(Vn.comparator),lm=new Ri(Vn.comparator);function Di(...l){let n=lm;for(const a of l)n=n.add(a);return n}const df=new Ri(He);function Iu(){return df}class oh{constructor(n,a,d,g,b){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(n,a){const d=new Map;return d.set(n,sh.createSynthesizedTargetChangeForCurrentChange(n,a)),new oh(jt.min(),d,Iu(),Ms(),Di())}}class sh{constructor(n,a,d,g,b){this.resumeToken=n,this.current=a,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(n,a){return new sh(Xi.EMPTY_BYTE_STRING,a,Di(),Di(),Di())}}class ud{constructor(n,a,d,g){this.O=n,this.removedTargetIds=a,this.key=d,this.$=g}}class vp{constructor(n,a){this.targetId=n,this.F=a}}class yp{constructor(n,a,d=Xi.EMPTY_BYTE_STRING,g=null){this.state=n,this.targetIds=a,this.resumeToken=d,this.cause=g}}class bp{constructor(){this.B=0,this.L=dd(),this.q=Xi.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(n){n.approximateByteSize()>0&&(this.K=!0,this.q=n)}H(){let n=Di(),a=Di(),d=Di();return this.L.forEach((g,b)=>{switch(b){case 0:n=n.add(g);break;case 2:a=a.add(g);break;case 1:d=d.add(g);break;default:Qn()}}),new sh(this.q,this.U,n,a,d)}J(){this.K=!1,this.L=dd()}Y(n,a){this.K=!0,this.L=this.L.insert(n,a)}X(n){this.K=!0,this.L=this.L.remove(n)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class um{constructor(n){this.nt=n,this.st=new Map,this.it=Ms(),this.rt=hf(),this.ot=new Ri(He)}at(n){for(const a of n.O)n.$&&n.$.isFoundDocument()?this.ut(a,n.$):this.ct(a,n.key,n.$);for(const a of n.removedTargetIds)this.ct(a,n.key,n.$)}ht(n){this.forEachTarget(n,a=>{const d=this.lt(a);switch(n.state){case 0:this.ft(a)&&d.W(n.resumeToken);break;case 1:d.tt(),d.G||d.J(),d.W(n.resumeToken);break;case 2:d.tt(),d.G||this.removeTarget(a);break;case 3:this.ft(a)&&(d.et(),d.W(n.resumeToken));break;case 4:this.ft(a)&&(this.dt(a),d.W(n.resumeToken));break;default:Qn()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.st.forEach((d,g)=>{this.ft(g)&&a(g)})}_t(n){const a=n.targetId,d=n.F.count,g=this.wt(a);if(g){const b=g.target;if(ns(b))if(0===d){const E=new Vn(b.path);this.ct(a,E,Ni.newNoDocument(E,jt.min()))}else br(1===d);else this.gt(a)!==d&&(this.dt(a),this.ot=this.ot.add(a))}}yt(n){const a=new Map;this.st.forEach((b,E)=>{const L=this.wt(E);if(L){if(b.current&&ns(L.target)){const X=new Vn(L.target.path);null!==this.it.get(X)||this.It(E,X)||this.ct(E,X,Ni.newNoDocument(X,n))}b.j&&(a.set(E,b.H()),b.J())}});let d=Di();this.rt.forEach((b,E)=>{let L=!0;E.forEachWhile(X=>{const he=this.wt(X);return!he||2===he.purpose||(L=!1,!1)}),L&&(d=d.add(b))}),this.it.forEach((b,E)=>E.setReadTime(n));const g=new oh(n,a,this.ot,this.it,d);return this.it=Ms(),this.rt=hf(),this.ot=new Ri(He),g}ut(n,a){if(!this.ft(n))return;const d=this.It(n,a.key)?2:0;this.lt(n).Y(a.key,d),this.it=this.it.insert(a.key,a),this.rt=this.rt.insert(a.key,this.Tt(a.key).add(n))}ct(n,a,d){if(!this.ft(n))return;const g=this.lt(n);this.It(n,a)?g.Y(a,1):g.X(a),this.rt=this.rt.insert(a,this.Tt(a).delete(n)),d&&(this.it=this.it.insert(a,d))}removeTarget(n){this.st.delete(n)}gt(n){const a=this.lt(n).H();return this.nt.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Z(n){this.lt(n).Z()}lt(n){let a=this.st.get(n);return a||(a=new bp,this.st.set(n,a)),a}Tt(n){let a=this.rt.get(n);return a||(a=new Ri(He),this.rt=this.rt.insert(n,a)),a}ft(n){const a=null!==this.wt(n);return a||_n("WatchChangeAggregator","Detected inactive target",n),a}wt(n){const a=this.st.get(n);return a&&a.G?null:this.nt.Et(n)}dt(n){this.st.set(n,new bp),this.nt.getRemoteKeysForTarget(n).forEach(a=>{this.ct(n,a,null)})}It(n,a){return this.nt.getRemoteKeysForTarget(n).has(a)}}function hf(){return new Wr(Vn.comparator)}function dd(){return new Wr(Vn.comparator)}const Tp={asc:"ASCENDING",desc:"DESCENDING"},ff={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class dm{constructor(n,a){this.databaseId=n,this.N=a}}function oo(l,n){return l.N?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function pf(l,n){return l.N?n.toBase64():n.toUint8Array()}function hm(l,n){return oo(l,n.toTimestamp())}function Wo(l){return br(!!l),jt.fromTimestamp(function(n){const a=hs(n);return new On(a.seconds,a.nanos)}(l))}function ah(l,n){return(a=l,new wr(["projects",a.projectId,"databases",a.database])).child("documents").child(n).canonicalString();var a}function Cp(l){const n=wr.fromString(l);return br(uh(n)),n}function hd(l,n){return ah(l.databaseId,n.path)}function Ic(l,n){const a=Cp(n);if(a.get(1)!==l.databaseId.projectId)throw new on(It.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new on(It.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new Vn(fm(a))}function gf(l,n){return ah(l.databaseId,n)}function ch(l){return new wr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function fm(l){return br(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Pu(l,n,a){return{name:hd(l,n),fields:a.value.mapValue.fields}}function lh(l,n){return{documents:[gf(l,n.path)]}}function Ep(l,n){const a={structuredQuery:{}},d=n.path;null!==n.collectionGroup?(a.parent=gf(l,d),a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(a.parent=gf(l,d.popLast()),a.structuredQuery.from=[{collectionId:d.lastSegment()}]);const g=function(X){if(0===X.length)return;const he=X.map(We=>function(st){if("=="===st.op){if(Zc(st.value))return{unaryFilter:{field:Xl(st.field),op:"IS_NAN"}};if(fs(st.value))return{unaryFilter:{field:Xl(st.field),op:"IS_NULL"}}}else if("!="===st.op){if(Zc(st.value))return{unaryFilter:{field:Xl(st.field),op:"IS_NOT_NAN"}};if(fs(st.value))return{unaryFilter:{field:Xl(st.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xl(st.field),op:pm(st.op),value:st.value}}}(We));return 1===he.length?he[0]:{compositeFilter:{op:"AND",filters:he}}}(n.filters);g&&(a.structuredQuery.where=g);const b=function(X){if(0!==X.length)return X.map(he=>{return{field:Xl((We=he).field),direction:xp(We.dir)};var We})}(n.orderBy);b&&(a.structuredQuery.orderBy=b);const E=(he=n.limit,l.N||Ui(he)?he:{value:he});var he,L,X;return null!==E&&(a.structuredQuery.limit=E),n.startAt&&(a.structuredQuery.startAt={before:(L=n.startAt).inclusive,values:L.position}),n.endAt&&(a.structuredQuery.endAt={before:!(X=n.endAt).inclusive,values:X.position}),a}function wp(l){let n=function fd(l){const n=Cp(l);return 4===n.length?wr.emptyPath():fm(n)}(l.parent);const a=l.structuredQuery,d=a.from?a.from.length:0;let g=null;if(d>0){br(1===d);const We=a.from[0];We.allDescendants?g=We.collectionId:n=n.child(We.collectionId)}let b=[];a.where&&(b=Ap(a.where));let E=[];a.orderBy&&(E=a.orderBy.map(We=>{return new Dt(Ou((st=We).field),function(wt){switch(wt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(st.direction));var st}));let L=null;a.limit&&(L=function(We){let st;return st="object"==typeof We?We.value:We,Ui(st)?null:st}(a.limit));let X=null;var We;a.startAt&&(X=new _t((We=a.startAt).values||[],!!We.before));let he=null;return a.endAt&&(he=function(We){return new _t(We.values||[],!We.before)}(a.endAt)),function ni(l,n,a,d,g,b,E,L){return new Xn(l,n,a,d,g,b,E,L)}(n,g,E,b,L,"F",X,he)}function Ap(l){return l?void 0!==l.unaryFilter?[_f(l)]:void 0!==l.fieldFilter?[gm(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(n=>Ap(n)).reduce((n,a)=>n.concat(a)):Qn():[]}function xp(l){return Tp[l]}function pm(l){return ff[l]}function Xl(l){return{fieldPath:l.canonicalString()}}function Ou(l){return Oi.fromServerFormat(l.fieldPath)}function gm(l){return Zi.create(Ou(l.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Qn()}}(l.fieldFilter.op),l.fieldFilter.value)}function _f(l){switch(l.unaryFilter.op){case"IS_NAN":const n=Ou(l.unaryFilter.field);return Zi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=Ou(l.unaryFilter.field);return Zi.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=Ou(l.unaryFilter.field);return Zi.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=Ou(l.unaryFilter.field);return Zi.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Qn()}}function mm(l){const n=[];return l.fields.forEach(a=>n.push(a.canonicalString())),{fieldPaths:n}}function uh(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const Tf="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Qn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new kt((d,g)=>{this.nextCallback=b=>{this.wrapSuccess(n,b).next(d,g)},this.catchCallback=b=>{this.wrapFailure(a,b).next(d,g)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof kt?a:kt.resolve(a)}catch(a){return kt.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):kt.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):kt.reject(a)}static resolve(n){return new kt((a,d)=>{a(n)})}static reject(n){return new kt((a,d)=>{d(n)})}static waitFor(n){return new kt((a,d)=>{let g=0,b=0,E=!1;n.forEach(L=>{++g,L.next(()=>{++b,E&&b===g&&a()},X=>d(X))}),E=!0,b===g&&a()})}static or(n){let a=kt.resolve(!1);for(const d of n)a=a.next(g=>g?kt.resolve(g):d());return a}static forEach(n,a){const d=[];return n.forEach((g,b)=>{d.push(a.call(this,g,b))}),this.waitFor(d)}}function Pc(l){return"IndexedDbTransactionError"===l.name}class da{constructor(n,a,d,g){this.batchId=n,this.localWriteTime=a,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(n,a){const d=a.mutationResults;for(let g=0;g<this.mutations.length;g++){const b=this.mutations[g];b.key.isEqual(n.key)&&Sl(b,n,d[g])}}applyToLocalView(n){for(const a of this.baseMutations)a.key.isEqual(n.key)&&th(a,n,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(n.key)&&th(a,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(a=>{const d=n.get(a.key),g=d;this.applyToLocalView(g),d.isValidDocument()||g.convertToNoDocument(jt.min())})}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),Di())}isEqual(n){return this.batchId===n.batchId&&Ot(this.mutations,n.mutations,(a,d)=>lf(a,d))&&Ot(this.baseMutations,n.baseMutations,(a,d)=>lf(a,d))}}class vd{constructor(n,a,d,g){this.batch=n,this.commitVersion=a,this.mutationResults=d,this.docVersions=g}static from(n,a,d){br(n.mutations.length===d.length);let g=j_;const b=n.mutations;for(let E=0;E<b.length;E++)g=g.insert(b[E].key,d[E].version);return new vd(n,a,d,g)}}class yd{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Bo{constructor(n,a,d,g,b=jt.min(),E=jt.min(),L=Xi.EMPTY_BYTE_STRING){this.target=n,this.targetId=a,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=L}withSequenceNumber(n){return new Bo(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,a){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class Za{constructor(n){this.Jt=n}}function Sf(l){const n=wp({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function zl(l,n,a){return new Xn(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}(n,n.limit,"L"):n}class Oc{constructor(){}Zt(n,a){this.te(n,a),a.ee()}te(n,a){if("nullValue"in n)this.ne(a,5);else if("booleanValue"in n)this.ne(a,10),a.se(n.booleanValue?1:0);else if("integerValue"in n)this.ne(a,15),a.se(Gr(n.integerValue));else if("doubleValue"in n){const d=Gr(n.doubleValue);isNaN(d)?this.ne(a,13):(this.ne(a,15),go(d)?a.se(0):a.se(d))}else if("timestampValue"in n){const d=n.timestampValue;this.ne(a,20),"string"==typeof d?a.ie(d):(a.ie(`${d.seconds||""}`),a.se(d.nanos||0))}else if("stringValue"in n)this.re(n.stringValue,a),this.oe(a);else if("bytesValue"in n)this.ne(a,30),a.ae(Ho(n.bytesValue)),this.oe(a);else if("referenceValue"in n)this.ue(n.referenceValue,a);else if("geoPointValue"in n){const d=n.geoPointValue;this.ne(a,45),a.se(d.latitude||0),a.se(d.longitude||0)}else"mapValue"in n?Tu(n)?this.ne(a,Number.MAX_SAFE_INTEGER):(this.ce(n.mapValue,a),this.oe(a)):"arrayValue"in n?(this.he(n.arrayValue,a),this.oe(a)):Qn()}re(n,a){this.ne(a,25),this.le(n,a)}le(n,a){a.ie(n)}ce(n,a){const d=n.fields||{};this.ne(a,55);for(const g of Object.keys(d))this.re(g,a),this.te(d[g],a)}he(n,a){const d=n.values||[];this.ne(a,50);for(const g of d)this.te(g,a)}ue(n,a){this.ne(a,37),Vn.fromName(n).path.forEach(d=>{this.ne(a,60),this.le(d,a)})}ne(n,a){n.se(a)}oe(n){n.se(2)}}Oc.fe=new Oc;class Td{constructor(){this.Ue=new kc}addToCollectionParentIndex(n,a){return this.Ue.add(a),kt.resolve()}getCollectionParents(n,a){return kt.resolve(this.Ue.getEntries(a))}addFieldIndex(n,a){return kt.resolve()}deleteFieldIndex(n,a){return kt.resolve()}getDocumentsMatchingTarget(n,a){return kt.resolve(null)}getFieldIndex(n,a){return kt.resolve(null)}getFieldIndexes(n,a){return kt.resolve([])}getNextCollectionGroupToUpdate(n){return kt.resolve(null)}updateCollectionGroup(n,a,d){return kt.resolve()}updateIndexEntries(n,a){return kt.resolve()}}class kc{constructor(){this.index={}}add(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a]||new Ri(wr.comparator),b=!g.has(d);return this.index[a]=g.add(d),b}has(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a];return g&&g.has(d)}getEntries(n){return(this.index[n]||new Ri(wr.comparator)).toArray()}}new Uint8Array(0);class vs{constructor(n,a,d){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=d}static withCacheSize(n){return new vs(n,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}vs.DEFAULT_COLLECTION_PERCENTILE=10,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vs.DEFAULT=new vs(41943040,vs.DEFAULT_COLLECTION_PERCENTILE,vs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vs.DISABLED=new vs(-1,0,0);class xl{constructor(n){this.wn=n}next(){return this.wn+=2,this.wn}static mn(){return new xl(0)}static gn(){return new xl(-1)}}function ru(l){return el.apply(this,arguments)}function el(){return el=(0,p.Z)(function*(l){if(l.code!==It.FAILED_PRECONDITION||l.message!==Tf)throw l;_n("LocalStore","Unexpectedly lost primary lease")}),el.apply(this,arguments)}class Bu{constructor(n,a,d){this.ls=n,this.Fs=a,this.indexManager=d}Bs(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKey(n,a).next(d=>this.Ls(n,a,d))}Ls(n,a,d){return this.ls.getEntry(n,a).next(g=>{for(const b of d)b.applyToLocalView(g);return g})}qs(n,a){n.forEach((d,g)=>{for(const b of a)b.applyToLocalView(g)})}Us(n,a){return this.ls.getEntries(n,a).next(d=>this.Ks(n,d).next(()=>d))}Ks(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(n,a).next(d=>this.qs(a,d))}Gs(n,a,d){return Vn.isDocumentKey((g=a).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(n,a.path):function ps(l){return null!==l.collectionGroup}(a)?this.js(n,a,d):this.Ws(n,a,d);var g}Qs(n,a){return this.Bs(n,new Vn(a)).next(d=>{let g=ld();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}js(n,a,d){const g=a.collectionGroup;let b=ld();return this.indexManager.getCollectionParents(n,g).next(E=>kt.forEach(E,L=>{const X=(he=a,We=L.child(g),new Xn(We,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,We;return this.Ws(n,X,d).next(he=>{he.forEach((We,st)=>{b=b.insert(We,st)})})}).next(()=>b))}Ws(n,a,d){let g;return this.ls.getAll(n,a.path,d).next(b=>(g=b,this.Fs.getAllMutationBatchesAffectingQuery(n,a))).next(b=>{for(const E of b)for(const L of E.mutations){const X=L.key;let he=g.get(X);null==he&&(he=Ni.newInvalidDocument(X),g=g.insert(X,he)),th(L,he,E.localWriteTime),he.isFoundDocument()||(g=g.remove(X))}}).next(()=>(g.forEach((b,E)=>{Kl(a,E)||(g=g.remove(b))}),g))}}class ou{constructor(n,a,d,g){this.targetId=n,this.fromCache=a,this.zs=d,this.Hs=g}static Js(n,a){let d=Di(),g=Di();for(const b of a.docChanges)switch(b.type){case 0:d=d.add(b.doc.key);break;case 1:g=g.add(b.doc.key)}return new ou(n,a.fromCache,d,g)}}class su{Ys(n){this.Xs=n}Gs(n,a,d,g){return 0===(b=a).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(jt.min())?this.Zs(n,a):this.Xs.Us(n,g).next(b=>{const E=this.ti(a,b);return(Do(a)||_o(a))&&this.ei(a.limitType,E,g,d)?this.Zs(n,a):(Ys()<=N.in.DEBUG&&_n("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),$c(a)),this.Xs.Gs(n,a,d).next(L=>(E.forEach(X=>{L=L.insert(X.key,X)}),L)))});var b}ti(n,a){let d=new Ri(od(n));return a.forEach((g,b)=>{Kl(n,b)&&(d=d.add(b))}),d}ei(n,a,d,g){if(d.size!==a.size)return!0;const b="F"===n?a.last():a.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(g)>0)}Zs(n,a){return Ys()<=N.in.DEBUG&&_n("QueryEngine","Using full collection scan to execute query:",$c(a)),this.Xs.Gs(n,a,jt.min())}}class wd{constructor(n,a,d,g){this.persistence=n,this.ni=a,this.M=g,this.si=new Wr(He),this.ii=new Jc(b=>Ga(b),Sa),this.ri=jt.min(),this.oi=n.getRemoteDocumentCache(),this.hs=n.getTargetCache(),this.fs=n.getBundleCache(),this.ai(d)}ai(n){this.indexManager=this.persistence.getIndexManager(n),this.Fs=this.persistence.getMutationQueue(n,this.indexManager),this.ui=new Bu(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.si))}}function Dd(l,n){return Ad.apply(this,arguments)}function Ad(){return Ad=(0,p.Z)(function*(l,n){const a=Rn(l);return yield a.persistence.runTransaction("Handle user change","readonly",d=>{let g;return a.Fs.getAllMutationBatches(d).next(b=>(g=b,a.ai(n),a.Fs.getAllMutationBatches(d))).next(b=>{const E=[],L=[];let X=Di();for(const he of g){E.push(he.batchId);for(const We of he.mutations)X=X.add(We.key)}for(const he of b){L.push(he.batchId);for(const We of he.mutations)X=X.add(We.key)}return a.ui.Us(d,X).next(he=>({ci:he,removedBatchIds:E,addedBatchIds:L}))})})}),Ad.apply(this,arguments)}function Gp(l,n){const a=Rn(l);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=n.batch.keys(),b=a.oi.newChangeBuffer({trackRemovals:!0});return function(E,L,X,he){const We=X.batch,st=We.keys();let wt=kt.resolve();return st.forEach(Jt=>{wt=wt.next(()=>he.getEntry(L,Jt)).next(dn=>{const lr=X.docVersions.get(Jt);br(null!==lr),dn.version.compareTo(lr)<0&&(We.applyToRemoteDocument(dn,X),dn.isValidDocument()&&(dn.setReadTime(X.commitVersion),he.addEntry(dn)))})}),wt.next(()=>E.Fs.removeMutationBatch(L,We))}(a,d,n,b).next(()=>b.apply(d)).next(()=>a.Fs.performConsistencyCheck(d)).next(()=>a.ui.Us(d,g))})}function Sh(l){const n=Rn(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.hs.getLastRemoteSnapshotVersion(a))}function Vp(l,n){const a=Rn(l),d=n.snapshotVersion;let g=a.si;return a.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const E=a.oi.newChangeBuffer({trackRemovals:!0});g=a.si;const L=[];n.targetChanges.forEach((he,We)=>{const st=g.get(We);if(!st)return;L.push(a.hs.removeMatchingKeys(b,he.removedDocuments,We).next(()=>a.hs.addMatchingKeys(b,he.addedDocuments,We)));let wt=st.withSequenceNumber(b.currentSequenceNumber);var Jt,dn,lr;n.targetMismatches.has(We)?wt=wt.withResumeToken(Xi.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):he.resumeToken.approximateByteSize()>0&&(wt=wt.withResumeToken(he.resumeToken,d)),g=g.insert(We,wt),dn=wt,lr=he,(0===(Jt=st).resumeToken.approximateByteSize()||dn.snapshotVersion.toMicroseconds()-Jt.snapshotVersion.toMicroseconds()>=3e8||lr.addedDocuments.size+lr.modifiedDocuments.size+lr.removedDocuments.size>0)&&L.push(a.hs.updateTargetData(b,wt))});let X=Ms();if(n.documentUpdates.forEach(he=>{n.resolvedLimboDocuments.has(he)&&L.push(a.persistence.referenceDelegate.updateLimboDocument(b,he))}),L.push(function ym(l,n,a){let d=Di();return a.forEach(g=>d=d.add(g)),n.getEntries(l,d).next(g=>{let b=Ms();return a.forEach((E,L)=>{const X=g.get(E);L.isNoDocument()&&L.version.isEqual(jt.min())?(n.removeEntry(E,L.readTime),b=b.insert(E,L)):!X.isValidDocument()||L.version.compareTo(X.version)>0||0===L.version.compareTo(X.version)&&X.hasPendingWrites?(n.addEntry(L),b=b.insert(E,L)):_n("LocalStore","Ignoring outdated watch update for ",E,". Current version:",X.version," Watch version:",L.version)}),b})}(b,E,n.documentUpdates).next(he=>{X=he})),!d.isEqual(jt.min())){const he=a.hs.getLastRemoteSnapshotVersion(b).next(We=>a.hs.setTargetsMetadata(b,b.currentSequenceNumber,d));L.push(he)}return kt.waitFor(L).next(()=>E.apply(b)).next(()=>a.ui.Ks(b,X)).next(()=>X)}).then(b=>(a.si=g,b))}function bm(l,n){const a=Rn(l);return a.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===n&&(n=-1),a.Fs.getNextMutationBatchAfterBatchId(d,n)))}function Eh(l,n){const a=Rn(l);return a.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return a.hs.getTargetData(d,n).next(b=>b?(g=b,kt.resolve(g)):a.hs.allocateTargetId(d).next(E=>(g=new Bo(n,E,0,d.currentSequenceNumber),a.hs.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=a.si.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(a.si=a.si.insert(d.targetId,d),a.ii.set(n,d.targetId)),d})}function xd(l,n,a){return Uu.apply(this,arguments)}function Uu(){return Uu=(0,p.Z)(function*(l,n,a){const d=Rn(l),g=d.si.get(n),b=a?"readwrite":"readwrite-primary";try{a||(yield d.persistence.runTransaction("Release target",b,E=>d.persistence.referenceDelegate.removeTarget(E,g)))}catch(E){if(!Pc(E))throw E;_n("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}d.si=d.si.remove(n),d.ii.delete(g.target)}),Uu.apply(this,arguments)}function Mf(l,n,a){const d=Rn(l);let g=jt.min(),b=Di();return d.persistence.runTransaction("Execute query","readonly",E=>function(L,X,he){const We=Rn(L),st=We.ii.get(he);return void 0!==st?kt.resolve(We.si.get(st)):We.hs.getTargetData(X,he)}(d,E,Gi(n)).next(L=>{if(L)return g=L.lastLimboFreeSnapshotVersion,d.hs.getMatchingKeysForTargetId(E,L.targetId).next(X=>{b=X})}).next(()=>d.ni.Gs(E,n,a?g:jt.min(),a?b:Di())).next(L=>({documents:L,hi:b})))}class j1{constructor(n){this.M=n,this._i=new Map,this.wi=new Map}getBundleMetadata(n,a){return kt.resolve(this._i.get(a))}saveBundleMetadata(n,a){var d;return this._i.set(a.id,{id:(d=a).id,version:d.version,createTime:Wo(d.createTime)}),kt.resolve()}getNamedQuery(n,a){return kt.resolve(this.wi.get(a))}saveNamedQuery(n,a){return this.wi.set(a.name,{name:(d=a).name,query:Sf(d.bundledQuery),readTime:Wo(d.readTime)}),kt.resolve();var d}}class H1{constructor(){this.overlays=new Wr(Vn.comparator),this.mi=new Map}getOverlay(n,a){return kt.resolve(this.overlays.get(a))}saveOverlays(n,a,d){return d.forEach((g,b)=>{this.Xt(n,a,b)}),kt.resolve()}removeOverlaysForBatchId(n,a,d){const g=this.mi.get(d);return void 0!==g&&(g.forEach(b=>this.overlays=this.overlays.remove(b)),this.mi.delete(d)),kt.resolve()}getOverlaysForCollection(n,a,d){const g=ms(),b=a.length+1,E=new Vn(a.child("")),L=this.overlays.getIteratorFrom(E);for(;L.hasNext();){const X=L.getNext().value,he=X.getKey();if(!a.isPrefixOf(he.path))break;he.path.length===b&&X.largestBatchId>d&&g.set(X.getKey(),X)}return kt.resolve(g)}getOverlaysForCollectionGroup(n,a,d,g){let b=new Wr((he,We)=>he-We);const E=this.overlays.getIterator();for(;E.hasNext();){const he=E.getNext().value;if(he.getKey().getCollectionGroup()===a&&he.largestBatchId>d){let We=b.get(he.largestBatchId);null===We&&(We=ms(),b=b.insert(he.largestBatchId,We)),We.set(he.getKey(),he)}}const L=ms(),X=b.getIterator();for(;X.hasNext()&&(X.getNext().value.forEach((he,We)=>L.set(he,We)),!(L.size()>=g)););return kt.resolve(L)}Xt(n,a,d){if(null===d)return;const g=this.overlays.get(d.key);if(null!==g){const E=this.mi.get(g.largestBatchId).delete(d.key);this.mi.set(g.largestBatchId,E)}this.overlays=this.overlays.insert(d.key,new yd(a,d));let b=this.mi.get(a);void 0===b&&(b=Di(),this.mi.set(a,b)),this.mi.set(a,b.add(d.key))}}class W_{constructor(){this.gi=new Ri(ho.yi),this.pi=new Ri(ho.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(n,a){const d=new ho(n,a);this.gi=this.gi.add(d),this.pi=this.pi.add(d)}Ti(n,a){n.forEach(d=>this.addReference(d,a))}removeReference(n,a){this.Ei(new ho(n,a))}Ai(n,a){n.forEach(d=>this.removeReference(d,a))}Ri(n){const a=new Vn(new wr([])),d=new ho(a,n),g=new ho(a,n+1),b=[];return this.pi.forEachInRange([d,g],E=>{this.Ei(E),b.push(E.key)}),b}bi(){this.gi.forEach(n=>this.Ei(n))}Ei(n){this.gi=this.gi.delete(n),this.pi=this.pi.delete(n)}Pi(n){const a=new Vn(new wr([])),d=new ho(a,n),g=new ho(a,n+1);let b=Di();return this.pi.forEachInRange([d,g],E=>{b=b.add(E.key)}),b}containsKey(n){const a=new ho(n,0),d=this.gi.firstAfterOrEqual(a);return null!==d&&n.isEqual(d.key)}}class ho{constructor(n,a){this.key=n,this.Vi=a}static yi(n,a){return Vn.comparator(n.key,a.key)||He(n.Vi,a.Vi)}static Ii(n,a){return He(n.Vi,a.Vi)||Vn.comparator(n.key,a.key)}}class Hp{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.Fs=[],this.vi=1,this.Si=new Ri(ho.yi)}checkEmpty(n){return kt.resolve(0===this.Fs.length)}addMutationBatch(n,a,d,g){const b=this.vi;this.vi++;const E=new da(b,a,d,g);this.Fs.push(E);for(const L of g)this.Si=this.Si.add(new ho(L.key,b)),this.indexManager.addToCollectionParentIndex(n,L.key.path.popLast());return kt.resolve(E)}lookupMutationBatch(n,a){return kt.resolve(this.Di(a))}getNextMutationBatchAfterBatchId(n,a){const g=this.Ci(a+1),b=g<0?0:g;return kt.resolve(this.Fs.length>b?this.Fs[b]:null)}getHighestUnacknowledgedBatchId(){return kt.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(n){return kt.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const d=new ho(a,0),g=new ho(a,Number.POSITIVE_INFINITY),b=[];return this.Si.forEachInRange([d,g],E=>{const L=this.Di(E.Vi);b.push(L)}),kt.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(n,a){let d=new Ri(He);return a.forEach(g=>{const b=new ho(g,0),E=new ho(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([b,E],L=>{d=d.add(L.Vi)})}),kt.resolve(this.xi(d))}getAllMutationBatchesAffectingQuery(n,a){const d=a.path,g=d.length+1;let b=d;Vn.isDocumentKey(b)||(b=b.child(""));const E=new ho(new Vn(b),0);let L=new Ri(He);return this.Si.forEachWhile(X=>{const he=X.key.path;return!!d.isPrefixOf(he)&&(he.length===g&&(L=L.add(X.Vi)),!0)},E),kt.resolve(this.xi(L))}xi(n){const a=[];return n.forEach(d=>{const g=this.Di(d);null!==g&&a.push(g)}),a}removeMutationBatch(n,a){br(0===this.Ni(a.batchId,"removed")),this.Fs.shift();let d=this.Si;return kt.forEach(a.mutations,g=>{const b=new ho(g.key,a.batchId);return d=d.delete(b),this.referenceDelegate.markPotentiallyOrphaned(n,g.key)}).next(()=>{this.Si=d})}dn(n){}containsKey(n,a){const d=new ho(a,0),g=this.Si.firstAfterOrEqual(d);return kt.resolve(a.isEqual(g&&g.key))}performConsistencyCheck(n){return kt.resolve()}Ni(n,a){return this.Ci(n)}Ci(n){return 0===this.Fs.length?0:n-this.Fs[0].batchId}Di(n){const a=this.Ci(n);return a<0||a>=this.Fs.length?null:this.Fs[a]}}class q_{constructor(n){this.ki=n,this.docs=new Wr(Vn.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const d=a.key,g=this.docs.get(d),b=g?g.size:0,E=this.ki(a);return this.docs=this.docs.insert(d,{document:a.mutableCopy(),size:E}),this.size+=E-b,this.indexManager.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const d=this.docs.get(a);return kt.resolve(d?d.document.mutableCopy():Ni.newInvalidDocument(a))}getEntries(n,a){let d=Ms();return a.forEach(g=>{const b=this.docs.get(g);d=d.insert(g,b?b.document.mutableCopy():Ni.newInvalidDocument(g))}),kt.resolve(d)}getAll(n,a,d){let g=Ms();const b=new Vn(a.child("")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:L,value:{document:X}}=E.getNext();if(!a.isPrefixOf(L.path))break;L.path.length>a.length+1||X.readTime.compareTo(d)<=0||(g=g.insert(X.key,X.mutableCopy()))}return kt.resolve(g)}Mi(n,a){return kt.forEach(this.docs,d=>a(d))}newChangeBuffer(n){return new Sm(this)}getSize(n){return kt.resolve(this.size)}}class Sm extends class B{constructor(){this.changes=new Jc(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Ni.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const d=this.changes.get(a);return void 0!==d?kt.resolve(d):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}{constructor(n){super(),this.Un=n}applyChanges(n){const a=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?a.push(this.Un.addEntry(n,g)):this.Un.removeEntry(d)}),kt.waitFor(a)}getFromCache(n,a){return this.Un.getEntry(n,a)}getAllFromCache(n,a){return this.Un.getEntries(n,a)}}class Zp{constructor(n){this.persistence=n,this.Oi=new Jc(a=>Ga(a),Sa),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.$i=0,this.Fi=new W_,this.targetCount=0,this.Bi=xl.mn()}forEachTarget(n,a){return this.Oi.forEach((d,g)=>a(g)),kt.resolve()}getLastRemoteSnapshotVersion(n){return kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return kt.resolve(this.$i)}allocateTargetId(n){return this.highestTargetId=this.Bi.next(),kt.resolve(this.highestTargetId)}setTargetsMetadata(n,a,d){return d&&(this.lastRemoteSnapshotVersion=d),a>this.$i&&(this.$i=a),kt.resolve()}In(n){this.Oi.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Bi=new xl(a),this.highestTargetId=a),n.sequenceNumber>this.$i&&(this.$i=n.sequenceNumber)}addTargetData(n,a){return this.In(a),this.targetCount+=1,kt.resolve()}updateTargetData(n,a){return this.In(a),kt.resolve()}removeTargetData(n,a){return this.Oi.delete(a.target),this.Fi.Ri(a.targetId),this.targetCount-=1,kt.resolve()}removeTargets(n,a,d){let g=0;const b=[];return this.Oi.forEach((E,L)=>{L.sequenceNumber<=a&&null===d.get(L.targetId)&&(this.Oi.delete(E),b.push(this.removeMatchingKeysForTargetId(n,L.targetId)),g++)}),kt.waitFor(b).next(()=>g)}getTargetCount(n){return kt.resolve(this.targetCount)}getTargetData(n,a){const d=this.Oi.get(a)||null;return kt.resolve(d)}addMatchingKeys(n,a,d){return this.Fi.Ti(a,d),kt.resolve()}removeMatchingKeys(n,a,d){this.Fi.Ai(a,d);const g=this.persistence.referenceDelegate,b=[];return g&&a.forEach(E=>{b.push(g.markPotentiallyOrphaned(n,E))}),kt.waitFor(b)}removeMatchingKeysForTargetId(n,a){return this.Fi.Ri(a),kt.resolve()}getMatchingKeysForTargetId(n,a){const d=this.Fi.Pi(a);return kt.resolve(d)}containsKey(n,a){return kt.resolve(this.Fi.containsKey(a))}}class Em{constructor(n,a){this.Li={},this.overlays={},this.Zn=new K(0),this.ts=!1,this.ts=!0,this.referenceDelegate=n(this),this.hs=new Zp(this),this.indexManager=new Td,this.ls=new q_(d=>this.referenceDelegate.qi(d)),this.M=new Za(a),this.fs=new j1(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new H1,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let d=this.Li[n.toKey()];return d||(d=new Hp(a,this.referenceDelegate),this.Li[n.toKey()]=d),d}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(n,a,d){_n("MemoryPersistence","Starting transaction:",n);const g=new Wp(this.Zn.next());return this.referenceDelegate.Ui(),d(g).next(b=>this.referenceDelegate.Ki(g).next(()=>b)).toPromise().then(b=>(g.raiseOnCommittedEvent(),b))}Gi(n,a){return kt.or(Object.values(this.Li).map(d=>()=>d.containsKey(n,a)))}}class Wp extends class Ea{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}{constructor(n){super(),this.currentSequenceNumber=n}}class qp{constructor(n){this.persistence=n,this.Qi=new W_,this.ji=null}static Wi(n){return new qp(n)}get zi(){if(this.ji)return this.ji;throw Qn()}addReference(n,a,d){return this.Qi.addReference(d,a),this.zi.delete(d.toString()),kt.resolve()}removeReference(n,a,d){return this.Qi.removeReference(d,a),this.zi.add(d.toString()),kt.resolve()}markPotentiallyOrphaned(n,a){return this.zi.add(a.toString()),kt.resolve()}removeTarget(n,a){this.Qi.Ri(a.targetId).forEach(g=>this.zi.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(n,a.targetId).next(g=>{g.forEach(b=>this.zi.add(b.toString()))}).next(()=>d.removeTargetData(n,a))}Ui(){this.ji=new Set}Ki(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kt.forEach(this.zi,d=>{const g=Vn.fromPath(d);return this.Hi(n,g).next(b=>{b||a.removeEntry(g,jt.min())})}).next(()=>(this.ji=null,a.apply(n)))}updateLimboDocument(n,a){return this.Hi(n,a).next(d=>{d?this.zi.delete(a.toString()):this.zi.add(a.toString())})}qi(n){return 0}Hi(n,a){return kt.or([()=>kt.resolve(this.Qi.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Gi(n,a)])}}class Kp{constructor(){this.activeTargetIds=Iu()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class Md{constructor(){this.Or=new Kp,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,d){}addLocalQueryTarget(n){return this.Or.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,a,d){this.$r[n]=a}removeLocalQueryTarget(n){this.Or.Zi(n)}isLocalQueryTarget(n){return this.Or.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(n){return this.Or.activeTargetIds.has(n)}start(){return this.Or=new Kp,Promise.resolve()}handleUserChange(n,a,d){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class Dm{Fr(n){}shutdown(){}}class Od{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(n){this.Kr.push(n)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){_n("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Kr)n(0)}Ur(){_n("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Kr)n(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Nf={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Ah{constructor(n){this.Qr=n.Qr,this.jr=n.jr}Wr(n){this.zr=n}Hr(n){this.Jr=n}onMessage(n){this.Yr=n}close(){this.jr()}send(n){this.Qr(n)}Xr(){this.zr()}Zr(n){this.Jr(n)}eo(n){this.Yr(n)}}class z_ extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.no=(n.ssl?"https":"http")+"://"+n.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(n,a,d,g,b){const E=this.ro(n,a);_n("RestConnection","Sending: ",E,d);const L={};return this.oo(L,g,b),this.ao(n,E,L,d).then(X=>(_n("RestConnection","Received: ",X),X),X=>{throw ic("RestConnection",`${n} failed with error: `,X,"url: ",E,"request:",d),X})}uo(n,a,d,g,b){return this.io(n,a,d,g,b)}oo(n,a,d){n["X-Goog-Api-Client"]="gl-js/ fire/"+So,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((g,b)=>n[b]=g),d&&d.headers.forEach((g,b)=>n[b]=g)}ro(n,a){return`${this.no}/v1/${a}:${Nf[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}ao(n,a,d,g){return new Promise((b,E)=>{const L=new Ba;L.listenOnce(Js.COMPLETE,()=>{try{switch(L.getLastErrorCode()){case Ks.NO_ERROR:const he=L.getResponseJson();_n("Connection","XHR received:",JSON.stringify(he)),b(he);break;case Ks.TIMEOUT:_n("Connection",'RPC "'+n+'" timed out'),E(new on(It.DEADLINE_EXCEEDED,"Request time out"));break;case Ks.HTTP_ERROR:const We=L.getStatus();if(_n("Connection",'RPC "'+n+'" failed with status:',We,"response text:",L.getResponseText()),We>0){const st=L.getResponseJson().error;if(st&&st.status&&st.message){const wt=function(Jt){const dn=Jt.toLowerCase().replace(/_/g,"-");return Object.values(It).indexOf(dn)>=0?dn:It.UNKNOWN}(st.status);E(new on(wt,st.message))}else E(new on(It.UNKNOWN,"Server responded with status "+L.getStatus()))}else E(new on(It.UNAVAILABLE,"Connection failed."));break;default:Qn()}}finally{_n("Connection",'RPC "'+n+'" completed.')}});const X=JSON.stringify(g);L.send(a,"POST",X,d,15)})}co(n,a,d){const g=[this.no,"/","google.firestore.v1.Firestore","/",n,"/channel"],b=ed(),E=Ta(),L={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(L.xmlHttpFactory=new Qd({})),this.oo(L.initMessageHeaders,a,d),(0,O.uI)()||(0,O.b$)()||(0,O.d)()||(0,O.w1)()||(0,O.Mn)()||(0,O.ru)()||(L.httpHeadersOverwriteParam="$httpHeaders");const X=g.join("");_n("Connection","Creating WebChannel: "+X,L);const he=b.createWebChannel(X,L);let We=!1,st=!1;const wt=new Ah({Qr:dn=>{st?_n("Connection","Not sending because WebChannel is closed:",dn):(We||(_n("Connection","Opening WebChannel transport."),he.open(),We=!0),_n("Connection","WebChannel sending:",dn),he.send(dn))},jr:()=>he.close()}),Jt=(dn,lr,Kr)=>{dn.listen(lr,Po=>{try{Kr(Po)}catch(li){setTimeout(()=>{throw li},0)}})};return Jt(he,es.EventType.OPEN,()=>{st||_n("Connection","WebChannel transport opened.")}),Jt(he,es.EventType.CLOSE,()=>{st||(st=!0,_n("Connection","WebChannel transport closed"),wt.Zr())}),Jt(he,es.EventType.ERROR,dn=>{st||(st=!0,ic("Connection","WebChannel transport errored:",dn),wt.Zr(new on(It.UNAVAILABLE,"The operation could not be completed")))}),Jt(he,es.EventType.MESSAGE,dn=>{var lr;if(!st){const Kr=dn.data[0];br(!!Kr);const Po=Kr,li=Po.error||(null===(lr=Po[0])||void 0===lr?void 0:lr.error);if(li){_n("Connection","WebChannel received error:",li);const pa=li.status;let Uo=function(Vi){const Ll=bo[Vi];if(void 0!==Ll)return ih(Ll)}(pa),$o=li.message;void 0===Uo&&(Uo=It.INTERNAL,$o="Unknown error status: "+pa+" with message "+li.message),st=!0,wt.Zr(new on(Uo,$o)),he.close()}else _n("Connection","WebChannel received:",Kr),wt.eo(Kr)}}),Jt(E,ui.STAT_EVENT,dn=>{dn.stat===nc.PROXY?_n("Connection","Detected buffering proxy"):dn.stat===nc.NOPROXY&&_n("Connection","Detected no buffering proxy")}),setTimeout(()=>{wt.Xr()},0),wt}}function xh(){return"undefined"!=typeof document?document:null}function Nd(l){return new dm(l,!0)}class Rf{constructor(n,a,d=1e3,g=1.5,b=6e4){this.Hn=n,this.timerId=a,this.ho=d,this.lo=g,this.fo=b,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(n){this.cancel();const a=Math.floor(this._o+this.Io()),d=Math.max(0,Date.now()-this.mo),g=Math.max(0,a-d);g>0&&_n("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${a} ms, last attempt: ${d} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),n())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Am{constructor(n,a,d,g,b,E,L,X){this.Hn=n,this.Eo=d,this.Ao=g,this.Ro=b,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=L,this.listener=X,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Rf(n,a)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var n=this;return(0,p.Z)(function*(){n.So()&&(yield n.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(n){this.Oo(),this.stream.send(n)}ko(){var n=this;return(0,p.Z)(function*(){if(n.Do())return n.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,a){var d=this;return(0,p.Z)(function*(){d.Oo(),d.$o(),d.vo.cancel(),d.bo++,4!==n?d.vo.reset():a&&a.code===It.RESOURCE_EXHAUSTED?(di(a.toString()),di("Using maximum backoff delay to prevent overloading the backend."),d.vo.yo()):a&&a.code===It.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Fo(),d.stream.close(),d.stream=null),d.state=n,yield d.listener.Hr(a)})()}Fo(){}auth(){this.state=1;const n=this.Bo(this.bo),a=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.bo===a&&this.Lo(d,g)},d=>{n(()=>{const g=new on(It.UNKNOWN,"Fetching auth token failed: "+d.message);return this.qo(g)})})}Lo(n,a){const d=this.Bo(this.bo);this.stream=this.Uo(n,a),this.stream.Wr(()=>{d(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{d(()=>this.qo(g))}),this.stream.onMessage(g=>{d(()=>this.onMessage(g))})}Co(){var n=this;this.state=5,this.vo.po((0,p.Z)(function*(){n.state=0,n.start()}))}qo(n){return _n("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Bo(n){return a=>{this.Hn.enqueueAndForget(()=>this.bo===n?a():(_n("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Yp extends Am{constructor(n,a,d,g,b,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,d,g,E),this.M=b}Uo(n,a){return this.Ro.co("Listen",n,a)}onMessage(n){this.vo.reset();const a=function Sp(l,n){let a;if("targetChange"in n){const d="NO_CHANGE"===(X=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===X?1:"REMOVE"===X?2:"CURRENT"===X?3:"RESET"===X?4:Qn(),g=n.targetChange.targetIds||[],b=function(X,he){return X.N?(br(void 0===he||"string"==typeof he),Xi.fromBase64String(he||"")):(br(void 0===he||he instanceof Uint8Array),Xi.fromUint8Array(he||new Uint8Array))}(l,n.targetChange.resumeToken),E=n.targetChange.cause,L=E&&function(X){const he=void 0===X.code?It.UNKNOWN:ih(X.code);return new on(he,X.message||"")}(E);a=new yp(d,g,b,L||null)}else if("documentChange"in n){const d=n.documentChange,g=Ic(l,d.document.name),b=Wo(d.document.updateTime),E=new io({mapValue:{fields:d.document.fields}}),L=Ni.newFoundDocument(g,b,E);a=new ud(d.targetIds||[],d.removedTargetIds||[],L.key,L)}else if("documentDelete"in n){const d=n.documentDelete,g=Ic(l,d.document),b=d.readTime?Wo(d.readTime):jt.min(),E=Ni.newNoDocument(g,b);a=new ud([],d.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const d=n.documentRemove,g=Ic(l,d.document);a=new ud([],d.removedTargetIds||[],g,null)}else{if(!("filter"in n))return Qn();{const d=n.filter,b=new cm(d.count||0);a=new vp(d.targetId,b)}}var X;return a}(this.M,n),d=function(g){if(!("targetChange"in g))return jt.min();const b=g.targetChange;return b.targetIds&&b.targetIds.length?jt.min():b.readTime?Wo(b.readTime):jt.min()}(n);return this.listener.Ko(a,d)}Go(n){const a={};a.database=ch(this.M),a.addTarget=function(g,b){let E;const L=b.target;return E=ns(L)?{documents:lh(g,L)}:{query:Ep(g,L)},E.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?E.resumeToken=pf(g,b.resumeToken):b.snapshotVersion.compareTo(jt.min())>0&&(E.readTime=oo(g,b.snapshotVersion.toTimestamp())),E}(this.M,n);const d=function Dp(l,n){const a=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Qn()}}(0,n.purpose);return null==a?null:{"goog-listen-tags":a}}(0,n);d&&(a.labels=d),this.Mo(a)}Qo(n){const a={};a.database=ch(this.M),a.removeTarget=n,this.Mo(a)}}class $_ extends Am{constructor(n,a,d,g,b,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,d,g,E),this.M=b,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(n,a){return this.Ro.co("Write",n,a)}onMessage(n){if(br(!!n.streamToken),this.lastStreamToken=n.streamToken,this.jo){this.vo.reset();const a=function pd(l,n){return l&&l.length>0?(br(void 0!==n),l.map(a=>function(d,g){let b=Wo(d.updateTime?d.updateTime:g);return b.isEqual(jt.min())&&(b=Wo(g)),new Cl(b,d.transformResults||[])}(a,n))):[]}(n.writeResults,n.commitTime),d=Wo(n.commitTime);return this.listener.Ho(d,a)}return br(!n.writeResults||0===n.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const n={};n.database=ch(this.M),this.Mo(n)}zo(n){const a={streamToken:this.lastStreamToken,writes:n.map(d=>function Mu(l,n){let a;if(n instanceof Au)a={update:Pu(l,n.key,n.value)};else if(n instanceof Yl)a={delete:hd(l,n.key)};else if(n instanceof Us)a={update:Pu(l,n.key,n.data),updateMask:mm(n.fieldMask)};else{if(!(n instanceof Ql))return Qn();a={verify:hd(l,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map(d=>function(g,b){const E=b.transform;if(E instanceof Jl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof dc)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof Va)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof ja)return{fieldPath:b.field.canonicalString(),increment:E.k};throw Qn()}(0,d))),n.precondition.isNone||(a.currentDocument=void 0!==(g=n.precondition).updateTime?{updateTime:hm(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Qn()),a;var g}(this.M,d))};this.Mo(a)}}class xm extends class{}{constructor(n,a,d,g){super(),this.authCredentials=n,this.appCheckCredentials=a,this.Ro=d,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new on(It.FAILED_PRECONDITION,"The client has already been terminated.")}io(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.io(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new on(It.UNKNOWN,g.toString())})}uo(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.uo(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===It.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new on(It.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class yb{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(n){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ia("Offline")))}set(n){this.aa(),this.ta=0,"Online"===n&&(this.na=!1),this.ia(n)}ia(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ra(n){const a=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(di(a),this.na=!1):_n("OnlineStateTracker",a)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class K_{constructor(n,a,d,g,b){var E=this;this.localStore=n,this.datastore=a,this.asyncQueue=d,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=b,this.fa.Fr(L=>{d.enqueueAndForget((0,p.Z)(function*(){var X;au(E)&&(_n("RemoteStore","Restarting streams for network reachability change."),yield(X=(0,p.Z)(function*(he){const We=Rn(he);We.ha.add(4),yield Gu(We),We.da.set("Unknown"),We.ha.delete(4),yield Ih(We)}),function(he){return X.apply(this,arguments)})(E))}))}),this.da=new yb(d,g)}}function Ih(l){return Im.apply(this,arguments)}function Im(){return Im=(0,p.Z)(function*(l){if(au(l))for(const n of l.la)yield n(!0)}),Im.apply(this,arguments)}function Gu(l){return Qp.apply(this,arguments)}function Qp(){return Qp=(0,p.Z)(function*(l){for(const n of l.la)yield n(!1)}),Qp.apply(this,arguments)}function Xp(l,n){const a=Rn(l);a.ca.has(n.targetId)||(a.ca.set(n.targetId,n),Om(a)?Mm(a):cu(a).Do()&&eg(a,n))}function js(l,n){const a=Rn(l),d=cu(a);a.ca.delete(n),d.Do()&&Pm(a,n),0===a.ca.size&&(d.Do()?d.No():au(a)&&a.da.set("Unknown"))}function eg(l,n){l._a.Z(n.targetId),cu(l).Go(n)}function Pm(l,n){l._a.Z(n),cu(l).Qo(n)}function Mm(l){l._a=new um({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>l.ca.get(n)||null}),cu(l).start(),l.da.sa()}function Om(l){return au(l)&&!cu(l).So()&&l.ca.size>0}function au(l){return 0===Rn(l).ha.size}function J_(l){l._a=void 0}function Y_(l){return Ph.apply(this,arguments)}function Ph(){return Ph=(0,p.Z)(function*(l){l.ca.forEach((n,a)=>{eg(l,n)})}),Ph.apply(this,arguments)}function Nm(l,n){return tg.apply(this,arguments)}function tg(){return tg=(0,p.Z)(function*(l,n){J_(l),Om(l)?(l.da.oa(n),Mm(l)):l.da.set("Unknown")}),tg.apply(this,arguments)}function Q_(l,n,a){return ng.apply(this,arguments)}function ng(){return ng=(0,p.Z)(function*(l,n,a){if(l.da.set("Online"),n instanceof yp&&2===n.state&&n.cause)try{yield(d=(0,p.Z)(function*(g,b){const E=b.cause;for(const L of b.targetIds)g.ca.has(L)&&(yield g.remoteSyncer.rejectListen(L,E),g.ca.delete(L),g._a.removeTarget(L))}),function(g,b){return d.apply(this,arguments)})(l,n)}catch(d){_n("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),d),yield Mh(l,d)}else if(n instanceof ud?l._a.at(n):n instanceof vp?l._a._t(n):l._a.ht(n),!a.isEqual(jt.min()))try{const d=yield Sh(l.localStore);a.compareTo(d)>=0&&(yield function(g,b){const E=g._a.yt(b);return E.targetChanges.forEach((L,X)=>{if(L.resumeToken.approximateByteSize()>0){const he=g.ca.get(X);he&&g.ca.set(X,he.withResumeToken(L.resumeToken,b))}}),E.targetMismatches.forEach(L=>{const X=g.ca.get(L);if(!X)return;g.ca.set(L,X.withResumeToken(Xi.EMPTY_BYTE_STRING,X.snapshotVersion)),Pm(g,L);const he=new Bo(X.target,L,1,X.sequenceNumber);eg(g,he)}),g.remoteSyncer.applyRemoteEvent(E)}(l,a))}catch(d){_n("RemoteStore","Failed to raise snapshot:",d),yield Mh(l,d)}var d}),ng.apply(this,arguments)}function Mh(l,n,a){return rg.apply(this,arguments)}function rg(){return rg=(0,p.Z)(function*(l,n,a){if(!Pc(n))throw n;l.ha.add(1),yield Gu(l),l.da.set("Offline"),a||(a=()=>Sh(l.localStore)),l.asyncQueue.enqueueRetryable((0,p.Z)(function*(){_n("RemoteStore","Retrying IndexedDB access"),yield a(),l.ha.delete(1),yield Ih(l)}))}),rg.apply(this,arguments)}function ig(l,n){return n().catch(a=>Mh(l,a,n))}function Rd(l){return og.apply(this,arguments)}function og(){return og=(0,p.Z)(function*(l){const n=Rn(l),a=lu(n);let d=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;for(;Rm(n);)try{const g=yield bm(n.localStore,d);if(null===g){0===n.ua.length&&a.No();break}d=g.batchId,km(n,g)}catch(g){yield Mh(n,g)}Lm(n)&&Lc(n)}),og.apply(this,arguments)}function Rm(l){return au(l)&&l.ua.length<10}function km(l,n){l.ua.push(n);const a=lu(l);a.Do()&&a.Wo&&a.zo(n.mutations)}function Lm(l){return au(l)&&!lu(l).So()&&l.ua.length>0}function Lc(l){lu(l).start()}function sg(l){return ag.apply(this,arguments)}function ag(){return ag=(0,p.Z)(function*(l){lu(l).Yo()}),ag.apply(this,arguments)}function X_(l){return Fm.apply(this,arguments)}function Fm(){return Fm=(0,p.Z)(function*(l){const n=lu(l);for(const a of l.ua)n.zo(a.mutations)}),Fm.apply(this,arguments)}function Bm(l,n,a){return cg.apply(this,arguments)}function cg(){return cg=(0,p.Z)(function*(l,n,a){const d=l.ua.shift(),g=vd.from(d,n,a);yield ig(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Rd(l)}),cg.apply(this,arguments)}function lg(l,n){return ug.apply(this,arguments)}function ug(){return ug=(0,p.Z)(function*(l,n){var a;n&&lu(l).Wo&&(yield(a=(0,p.Z)(function*(d,g){if(rh(b=g.code)&&b!==It.ABORTED){const E=d.ua.shift();lu(d).xo(),yield ig(d,()=>d.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield Rd(d)}var b}),function(d,g){return a.apply(this,arguments)})(l,n)),Lm(l)&&Lc(l)}),ug.apply(this,arguments)}function kf(l,n){return dg.apply(this,arguments)}function dg(){return dg=(0,p.Z)(function*(l,n){const a=Rn(l);a.asyncQueue.verifyOperationInProgress(),_n("RemoteStore","RemoteStore received new credentials");const d=au(a);a.ha.add(3),yield Gu(a),d&&a.da.set("Unknown"),yield a.remoteSyncer.handleCredentialChange(n),a.ha.delete(3),yield Ih(a)}),dg.apply(this,arguments)}function kd(){return kd=(0,p.Z)(function*(l,n){const a=Rn(l);n?(a.ha.delete(2),yield Ih(a)):n||(a.ha.add(2),yield Gu(a),a.da.set("Unknown"))}),kd.apply(this,arguments)}function cu(l){return l.wa||(l.wa=function(n,a,d){const g=Rn(n);return g.Zo(),new Yp(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:Y_.bind(null,l),Hr:Nm.bind(null,l),Ko:Q_.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.wa.xo(),Om(l)?Mm(l):l.da.set("Unknown")):(yield l.wa.stop(),J_(l))});return function(a){return n.apply(this,arguments)}}())),l.wa}function lu(l){return l.ma||(l.ma=function(n,a,d){const g=Rn(n);return g.Zo(),new $_(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:sg.bind(null,l),Hr:lg.bind(null,l),Jo:X_.bind(null,l),Ho:Bm.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.ma.xo(),yield Rd(l)):(yield l.ma.stop(),l.ua.length>0&&(_n("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(a){return n.apply(this,arguments)}}())),l.ma}class Oh{constructor(n,a,d,g,b){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=d,this.op=g,this.removalCallback=b,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(n,a,d,g,b){const E=Date.now()+d,L=new Oh(n,a,E,g,b);return L.start(d),L}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new on(It.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function uu(l,n){if(di("AsyncQueue",`${n}: ${l}`),Pc(l))return new on(It.UNAVAILABLE,`${n}: ${l}`);throw l}class Vu{constructor(n){this.comparator=n?(a,d)=>n(a,d)||Vn.comparator(a.key,d.key):(a,d)=>Vn.comparator(a.key,d.key),this.keyedMap=ld(),this.sortedSet=new Wr(this.comparator)}static emptySet(n){return new Vu(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,d)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof Vu)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),d=n.sortedSet.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(!g.isEqual(b))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,a){const d=new Vu;return d.comparator=this.comparator,d.keyedMap=n,d.sortedSet=a,d}}class Um{constructor(){this.ga=new Wr(Vn.comparator)}track(n){const a=n.doc.key,d=this.ga.get(a);d?0!==n.type&&3===d.type?this.ga=this.ga.insert(a,n):3===n.type&&1!==d.type?this.ga=this.ga.insert(a,{type:d.type,doc:n.doc}):2===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):2===n.type&&0===d.type?this.ga=this.ga.insert(a,{type:0,doc:n.doc}):1===n.type&&0===d.type?this.ga=this.ga.remove(a):1===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:1,doc:d.doc}):0===n.type&&1===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):Qn():this.ga=this.ga.insert(a,n)}ya(){const n=[];return this.ga.inorderTraversal((a,d)=>{n.push(d)}),n}}class Ld{constructor(n,a,d,g,b,E,L,X){this.query=n,this.docs=a,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=b,this.fromCache=E,this.syncStateChanged=L,this.excludesMetadataChanges=X}static fromInitialDocuments(n,a,d,g){const b=[];return a.forEach(E=>{b.push({type:0,doc:E})}),new Ld(n,a,Vu.emptySet(a),b,d,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&Ac(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,d=n.docChanges;if(a.length!==d.length)return!1;for(let g=0;g<a.length;g++)if(a[g].type!==d[g].type||!a[g].doc.isEqual(d[g].doc))return!1;return!0}}class Gm{constructor(){this.pa=void 0,this.listeners=[]}}class bb{constructor(){this.queries=new Jc(n=>$l(n),Ac),this.onlineState="Unknown",this.Ia=new Set}}function Lf(){return Lf=(0,p.Z)(function*(l,n){const a=Rn(l),d=n.query;let g=!1,b=a.queries.get(d);if(b||(g=!0,b=new Gm),g)try{b.pa=yield a.onListen(d)}catch(E){const L=uu(E,`Initialization of query '${$c(n.query)}' failed`);return void n.onError(L)}a.queries.set(d,b),b.listeners.push(n),n.Ta(a.onlineState),b.pa&&n.Ea(b.pa)&&nl(a)}),Lf.apply(this,arguments)}function pg(){return pg=(0,p.Z)(function*(l,n){const a=Rn(l),d=n.query;let g=!1;const b=a.queries.get(d);if(b){const E=b.listeners.indexOf(n);E>=0&&(b.listeners.splice(E,1),g=0===b.listeners.length)}if(g)return a.queries.delete(d),a.onUnlisten(d)}),pg.apply(this,arguments)}function e0(l,n){const a=Rn(l);let d=!1;for(const g of n){const E=a.queries.get(g.query);if(E){for(const L of E.listeners)L.Ea(g)&&(d=!0);E.pa=g}}d&&nl(a)}function t0(l,n,a){const d=Rn(l),g=d.queries.get(n);if(g)for(const b of g.listeners)b.onError(a);d.queries.delete(n)}function nl(l){l.Ia.forEach(n=>{n.next()})}class Nh{constructor(n,a,d){this.query=n,this.Aa=a,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=d||{}}Ea(n){if(!this.options.includeMetadataChanges){const d=[];for(const g of n.docChanges)3!==g.type&&d.push(g);n=new Ld(n.query,n.docs,n.oldDocs,d,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let a=!1;return this.Ra?this.Pa(n)&&(this.Aa.next(n),a=!0):this.Va(n,this.onlineState)&&(this.va(n),a=!0),this.ba=n,a}onError(n){this.Aa.error(n)}Ta(n){this.onlineState=n;let a=!1;return this.ba&&!this.Ra&&this.Va(this.ba,n)&&(this.va(this.ba),a=!0),a}Va(n,a){return!n.fromCache||!(this.options.Sa&&"Offline"!==a||n.docs.isEmpty()&&"Offline"!==a)}Pa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(n){n=Ld.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Ra=!0,this.Aa.next(n)}}class mg{constructor(n){this.key=n}}class Ff{constructor(n){this.key=n}}class Rh{constructor(n,a){this.query=n,this.ka=a,this.Ma=null,this.current=!1,this.Oa=Di(),this.mutatedKeys=Di(),this.$a=od(n),this.Fa=new Vu(this.$a)}get Ba(){return this.ka}La(n,a){const d=a?a.qa:new Um,g=a?a.Fa:this.Fa;let b=a?a.mutatedKeys:this.mutatedKeys,E=g,L=!1;const X=Do(this.query)&&g.size===this.query.limit?g.last():null,he=_o(this.query)&&g.size===this.query.limit?g.first():null;if(n.inorderTraversal((We,st)=>{const wt=g.get(We),Jt=Kl(this.query,st)?st:null,dn=!!wt&&this.mutatedKeys.has(wt.key),lr=!!Jt&&(Jt.hasLocalMutations||this.mutatedKeys.has(Jt.key)&&Jt.hasCommittedMutations);let Kr=!1;wt&&Jt?wt.data.isEqual(Jt.data)?dn!==lr&&(d.track({type:3,doc:Jt}),Kr=!0):this.Ua(wt,Jt)||(d.track({type:2,doc:Jt}),Kr=!0,(X&&this.$a(Jt,X)>0||he&&this.$a(Jt,he)<0)&&(L=!0)):!wt&&Jt?(d.track({type:0,doc:Jt}),Kr=!0):wt&&!Jt&&(d.track({type:1,doc:wt}),Kr=!0,(X||he)&&(L=!0)),Kr&&(Jt?(E=E.add(Jt),b=lr?b.add(We):b.delete(We)):(E=E.delete(We),b=b.delete(We)))}),Do(this.query)||_o(this.query))for(;E.size>this.query.limit;){const We=Do(this.query)?E.last():E.first();E=E.delete(We.key),b=b.delete(We.key),d.track({type:1,doc:We})}return{Fa:E,qa:d,ei:L,mutatedKeys:b}}Ua(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,d){const g=this.Fa;this.Fa=n.Fa,this.mutatedKeys=n.mutatedKeys;const b=n.qa.ya();b.sort((he,We)=>function(st,wt){const Jt=dn=>{switch(dn){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Qn()}};return Jt(st)-Jt(wt)}(he.type,We.type)||this.$a(he.doc,We.doc)),this.Ka(d);const E=a?this.Ga():[],L=0===this.Oa.size&&this.current?1:0,X=L!==this.Ma;return this.Ma=L,0!==b.length||X?{snapshot:new Ld(this.query,n.Fa,g,b,n.mutatedKeys,0===L,X,!1),Qa:E}:{Qa:E}}Ta(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new Um,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(n){return!this.ka.has(n)&&!!this.Fa.has(n)&&!this.Fa.get(n).hasLocalMutations}Ka(n){n&&(n.addedDocuments.forEach(a=>this.ka=this.ka.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.ka=this.ka.delete(a)),this.current=n.current)}Ga(){if(!this.current)return[];const n=this.Oa;this.Oa=Di(),this.Fa.forEach(d=>{this.ja(d.key)&&(this.Oa=this.Oa.add(d.key))});const a=[];return n.forEach(d=>{this.Oa.has(d)||a.push(new Ff(d))}),this.Oa.forEach(d=>{n.has(d)||a.push(new mg(d))}),a}Wa(n){this.ka=n.hi,this.Oa=Di();const a=this.La(n.documents);return this.applyChanges(a,!0)}za(){return Ld.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class Z1{constructor(n,a,d){this.query=n,this.targetId=a,this.view=d}}class _g{constructor(n){this.key=n,this.Ha=!1}}class r0{constructor(n,a,d,g,b,E){this.localStore=n,this.remoteStore=a,this.eventManager=d,this.sharedClientState=g,this.currentUser=b,this.maxConcurrentLimboResolutions=E,this.Ja={},this.Ya=new Jc(L=>$l(L),Ac),this.Xa=new Map,this.Za=new Set,this.tu=new Wr(Vn.comparator),this.eu=new Map,this.nu=new W_,this.su={},this.iu=new Map,this.ru=xl.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function Hm(l,n){return Bf.apply(this,arguments)}function Bf(){return Bf=(0,p.Z)(function*(l,n){const a=Bh(l);let d,g;const b=a.Ya.get(n);if(b)d=b.targetId,a.sharedClientState.addLocalQueryTarget(d),g=b.view.za();else{const E=yield Eh(a.localStore,Gi(n));a.isPrimaryClient&&Xp(a.remoteStore,E);const L=a.sharedClientState.addLocalQueryTarget(E.targetId);d=E.targetId,g=yield Zm(a,n,d,"current"===L)}return g}),Bf.apply(this,arguments)}function Zm(l,n,a,d){return Uf.apply(this,arguments)}function Uf(){return Uf=(0,p.Z)(function*(l,n,a,d){l.au=(We,st,wt)=>{return(Jt=(0,p.Z)(function*(dn,lr,Kr,Po){let li=lr.view.La(Kr);li.ei&&(li=yield Mf(dn.localStore,lr.query,!1).then(({documents:$o})=>lr.view.La($o,li)));const pa=Po&&Po.targetChanges.get(lr.targetId),Uo=lr.view.applyChanges(li,dn.isPrimaryClient,pa);return jf(dn,lr.targetId,Uo.Qa),Uo.snapshot}),function(dn,lr,Kr,Po){return Jt.apply(this,arguments)})(l,We,st,wt);var Jt};const g=yield Mf(l.localStore,n,!0),b=new Rh(n,g.hi),E=b.La(g.documents),L=sh.createSynthesizedTargetChangeForCurrentChange(a,d&&"Offline"!==l.onlineState),X=b.applyChanges(E,l.isPrimaryClient,L);jf(l,a,X.Qa);const he=new Z1(n,a,b);return l.Ya.set(n,he),l.Xa.has(a)?l.Xa.get(a).push(n):l.Xa.set(a,[n]),X.snapshot}),Uf.apply(this,arguments)}function o0(l,n){return vg.apply(this,arguments)}function vg(){return vg=(0,p.Z)(function*(l,n){const a=Rn(l),d=a.Ya.get(n),g=a.Xa.get(d.targetId);if(g.length>1)return a.Xa.set(d.targetId,g.filter(b=>!Ac(b,n))),void a.Ya.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(d.targetId),a.sharedClientState.isActiveQueryTarget(d.targetId)||(yield xd(a.localStore,d.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(d.targetId),js(a.remoteStore,d.targetId),Fd(a,d.targetId)}).catch(ru))):(Fd(a,d.targetId),yield xd(a.localStore,d.targetId,!0))}),vg.apply(this,arguments)}function Fc(){return Fc=(0,p.Z)(function*(l,n,a){const d=Ag(l);try{const g=yield function(b,E){const L=Rn(b),X=On.now(),he=E.reduce((st,wt)=>st.add(wt.key),Di());let We;return L.persistence.runTransaction("Locally write mutations","readwrite",st=>L.ui.Us(st,he).next(wt=>{We=wt;const Jt=[];for(const dn of E){const lr=cf(dn,We.get(dn.key));null!=lr&&Jt.push(new Us(dn.key,lr,Wl(lr.value.mapValue),yo.exists(!0)))}return L.Fs.addMutationBatch(st,X,Jt,E)})).then(st=>(st.applyToLocalDocumentSet(We),{batchId:st.batchId,changes:We}))}(d.localStore,n);d.sharedClientState.addPendingMutation(g.batchId),function(b,E,L){let X=b.su[b.currentUser.toKey()];X||(X=new Wr(He)),X=X.insert(E,L),b.su[b.currentUser.toKey()]=X}(d,g.batchId,a),yield xa(d,g.changes),yield Rd(d.remoteStore)}catch(g){const b=uu(g,"Failed to persist write");a.reject(b)}}),Fc.apply(this,arguments)}function Wm(l,n){return yg.apply(this,arguments)}function yg(){return yg=(0,p.Z)(function*(l,n){const a=Rn(l);try{const d=yield Vp(a.localStore,n);n.targetChanges.forEach((g,b)=>{const E=a.eu.get(b);E&&(br(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?E.Ha=!0:g.modifiedDocuments.size>0?br(E.Ha):g.removedDocuments.size>0&&(br(E.Ha),E.Ha=!1))}),yield xa(a,d,n)}catch(d){yield ru(d)}}),yg.apply(this,arguments)}function bg(l,n,a){const d=Rn(l);if(d.isPrimaryClient&&0===a||!d.isPrimaryClient&&1===a){const g=[];d.Ya.forEach((b,E)=>{const L=E.view.Ta(n);L.snapshot&&g.push(L.snapshot)}),function(b,E){const L=Rn(b);L.onlineState=E;let X=!1;L.queries.forEach((he,We)=>{for(const st of We.listeners)st.Ta(E)&&(X=!0)}),X&&nl(L)}(d.eventManager,n),g.length&&d.Ja.Ko(g),d.onlineState=n,d.isPrimaryClient&&d.sharedClientState.setOnlineState(n)}}function Aa(l,n,a){return kh.apply(this,arguments)}function kh(){return kh=(0,p.Z)(function*(l,n,a){const d=Rn(l);d.sharedClientState.updateQueryState(n,"rejected",a);const g=d.eu.get(n),b=g&&g.key;if(b){let E=new Wr(Vn.comparator);E=E.insert(b,Ni.newNoDocument(b,jt.min()));const L=Di().add(b),X=new oh(jt.min(),new Map,new Ri(He),E,L);yield Wm(d,X),d.tu=d.tu.remove(b),d.eu.delete(n),Cg(d)}else yield xd(d.localStore,n,!1).then(()=>Fd(d,n,a)).catch(ru)}),kh.apply(this,arguments)}function ju(l,n){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,p.Z)(function*(l,n){const a=Rn(l),d=n.batch.batchId;try{const g=yield Gp(a.localStore,n);Vf(a,d,null),Ml(a,d),a.sharedClientState.updateMutationState(d,"acknowledged"),yield xa(a,g)}catch(g){yield ru(g)}}),Tg.apply(this,arguments)}function W1(l,n,a){return _c.apply(this,arguments)}function _c(){return _c=(0,p.Z)(function*(l,n,a){const d=Rn(l);try{const g=yield function(b,E){const L=Rn(b);return L.persistence.runTransaction("Reject batch","readwrite-primary",X=>{let he;return L.Fs.lookupMutationBatch(X,E).next(We=>(br(null!==We),he=We.keys(),L.Fs.removeMutationBatch(X,We))).next(()=>L.Fs.performConsistencyCheck(X)).next(()=>L.ui.Us(X,he))})}(d.localStore,n);Vf(d,n,a),Ml(d,n),d.sharedClientState.updateMutationState(n,"rejected",a),yield xa(d,g)}catch(g){yield ru(g)}}),_c.apply(this,arguments)}function Ml(l,n){(l.iu.get(n)||[]).forEach(a=>{a.resolve()}),l.iu.delete(n)}function Vf(l,n,a){const d=Rn(l);let g=d.su[d.currentUser.toKey()];if(g){const b=g.get(n);b&&(a?b.reject(a):b.resolve(),g=g.remove(n)),d.su[d.currentUser.toKey()]=g}}function Fd(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const d of l.Xa.get(n))l.Ya.delete(d),a&&l.Ja.uu(d,a);l.Xa.delete(n),l.isPrimaryClient&&l.nu.Ri(n).forEach(d=>{l.nu.containsKey(d)||zm(l,d)})}function zm(l,n){l.Za.delete(n.path.canonicalString());const a=l.tu.get(n);null!==a&&(js(l.remoteStore,a),l.tu=l.tu.remove(n),l.eu.delete(a),Cg(l))}function jf(l,n,a){for(const d of a)d instanceof mg?(l.nu.addReference(d.key,n),a0(l,d)):d instanceof Ff?(_n("SyncEngine","Document no longer in limbo: "+d.key),l.nu.removeReference(d.key,n),l.nu.containsKey(d.key)||zm(l,d.key)):Qn()}function a0(l,n){const a=n.key,d=a.path.canonicalString();l.tu.get(a)||l.Za.has(d)||(_n("SyncEngine","New document in limbo: "+a),l.Za.add(d),Cg(l))}function Cg(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const n=l.Za.values().next().value;l.Za.delete(n);const a=new Vn(wr.fromString(n)),d=l.ru.next();l.eu.set(d,new _g(a)),l.tu=l.tu.insert(a,d),Xp(l.remoteStore,new Bo(Gi(Cr(a.path)),d,2,K.A))}}function xa(l,n,a){return na.apply(this,arguments)}function na(){return na=(0,p.Z)(function*(l,n,a){const d=Rn(l),g=[],b=[],E=[];var L;d.Ya.isEmpty()||(d.Ya.forEach((L,X)=>{E.push(d.au(X,n,a).then(he=>{if(he){d.isPrimaryClient&&d.sharedClientState.updateQueryState(X.targetId,he.fromCache?"not-current":"current"),g.push(he);const We=ou.Js(X.targetId,he);b.push(We)}}))}),yield Promise.all(E),d.Ja.Ko(g),yield(L=(0,p.Z)(function*(X,he){const We=Rn(X);try{yield We.persistence.runTransaction("notifyLocalViewChanges","readwrite",st=>kt.forEach(he,wt=>kt.forEach(wt.zs,Jt=>We.persistence.referenceDelegate.addReference(st,wt.targetId,Jt)).next(()=>kt.forEach(wt.Hs,Jt=>We.persistence.referenceDelegate.removeReference(st,wt.targetId,Jt)))))}catch(st){if(!Pc(st))throw st;_n("LocalStore","Failed to update sequence numbers: "+st)}for(const st of he){const wt=st.targetId;if(!st.fromCache){const Jt=We.si.get(wt),lr=Jt.withLastLimboFreeSnapshotVersion(Jt.snapshotVersion);We.si=We.si.insert(wt,lr)}}}),function(X,he){return L.apply(this,arguments)})(d.localStore,b))}),na.apply(this,arguments)}function $m(l,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,p.Z)(function*(l,n){const a=Rn(l);if(!a.currentUser.isEqual(n)){_n("SyncEngine","User change. New user:",n.toKey());const d=yield Dd(a.localStore,n);a.currentUser=n,(g=a).iu.forEach(E=>{E.forEach(L=>{L.reject(new on(It.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),a.sharedClientState.handleUserChange(n,d.removedBatchIds,d.addedBatchIds),yield xa(a,d.ci)}var g}),Sg.apply(this,arguments)}function Km(l,n){const a=Rn(l),d=a.eu.get(n);if(d&&d.Ha)return Di().add(d.key);{let g=Di();const b=a.Xa.get(n);if(!b)return g;for(const E of b){const L=a.Ya.get(E);g=g.unionWith(L.view.Ba)}return g}}function Bh(l){const n=Rn(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Wm.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Km.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Aa.bind(null,n),n.Ja.Ko=e0.bind(null,n.eventManager),n.Ja.uu=t0.bind(null,n.eventManager),n}function Ag(l){const n=Rn(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=ju.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=W1.bind(null,n),n}class q1{constructor(){this.synchronizeTabs=!1}initialize(n){var a=this;return(0,p.Z)(function*(){a.M=Nd(n.databaseInfo.databaseId),a.sharedClientState=a.hu(n),a.persistence=a.lu(n),yield a.persistence.start(),a.gcScheduler=a.fu(n),a.localStore=a.du(n)})()}fu(n){return null}du(n){return function Pf(l,n,a,d){return new wd(l,n,a,d)}(this.persistence,new su,n.initialUser,this.M)}lu(n){return new Em(qp.Wi,this.M)}hu(n){return new Md}terminate(){var n=this;return(0,p.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class rl{initialize(n,a){var d=this;return(0,p.Z)(function*(){d.localStore||(d.localStore=n.localStore,d.sharedClientState=n.sharedClientState,d.datastore=d.createDatastore(a),d.remoteStore=d.createRemoteStore(a),d.eventManager=d.createEventManager(a),d.syncEngine=d.createSyncEngine(a,!n.synchronizeTabs),d.sharedClientState.onlineStateHandler=g=>bg(d.syncEngine,g,1),d.remoteStore.remoteSyncer.handleCredentialChange=$m.bind(null,d.syncEngine),yield function hg(l,n){return kd.apply(this,arguments)}(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(n){return new bb}createDatastore(n){const a=Nd(n.databaseInfo.databaseId),d=new z_(n.databaseInfo);return new xm(n.authCredentials,n.appCheckCredentials,d,a)}createRemoteStore(n){return a=this.localStore,d=this.datastore,g=n.asyncQueue,b=L=>bg(this.syncEngine,L,0),E=Od.vt()?new Od:new Dm,new K_(a,d,g,b,E);var a,d,g,b,E}createSyncEngine(n,a){return function(d,g,b,E,L,X,he){const We=new r0(d,g,b,E,L,X);return he&&(We.ou=!0),We}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}terminate(){return(n=(0,p.Z)(function*(a){const d=Rn(a);_n("RemoteStore","RemoteStore shutting down."),d.ha.add(5),yield Gu(d),d.fa.shutdown(),d.da.set("Unknown")}),function(a){return n.apply(this,arguments)})(this.remoteStore);var n}}class du{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.wu(this.observer.next,n)}error(n){this.observer.error?this.wu(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}mu(){this.muted=!0}wu(n,a){this.muted||setTimeout(()=>{this.muted||n(a)},0)}}class Gd{constructor(n,a,d,g){var b=this;this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=d,this.databaseInfo=g,this.user=ro.UNAUTHENTICATED,this.clientId=Ve.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(){var E=(0,p.Z)(function*(L){_n("FirestoreClient","Received user=",L.uid),yield b.authCredentialListener(L),b.user=L});return function(L){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(d,E=>(_n("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var n=this;return(0,p.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new on(It.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const a=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),a.resolve()}catch(d){const g=uu(d,"Failed to shutdown persistence");a.reject(g)}})),a.promise}}function t_(l,n){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),_n("FirestoreClient","Initializing OfflineComponentProvider");const a=yield l.getConfiguration();yield n.initialize(a);let d=a.initialUser;l.setCredentialChangeListener(function(){var g=(0,p.Z)(function*(b){d.isEqual(b)||(yield Dd(n.localStore,b),d=b)});return function(b){return g.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=n}),Uh.apply(this,arguments)}function Gh(l,n){return Os.apply(this,arguments)}function Os(){return Os=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const a=yield Vd(l);_n("FirestoreClient","Initializing OnlineComponentProvider");const d=yield l.getConfiguration();yield n.initialize(a,d),l.setCredentialChangeListener(g=>kf(n.remoteStore,g)),l.setAppCheckTokenChangeListener((g,b)=>kf(n.remoteStore,b)),l.onlineComponents=n}),Os.apply(this,arguments)}function Vd(l){return ys.apply(this,arguments)}function ys(){return ys=(0,p.Z)(function*(l){return l.offlineComponents||(_n("FirestoreClient","Using default OfflineComponentProvider"),yield t_(l,new q1)),l.offlineComponents}),ys.apply(this,arguments)}function Ol(l){return Vh.apply(this,arguments)}function Vh(){return Vh=(0,p.Z)(function*(l){return l.onlineComponents||(_n("FirestoreClient","Using default OnlineComponentProvider"),yield Gh(l,new rl)),l.onlineComponents}),Vh.apply(this,arguments)}function Bc(l){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,p.Z)(function*(l){const n=yield Ol(l),a=n.eventManager;return a.onListen=Hm.bind(null,n.syncEngine),a.onUnlisten=o0.bind(null,n.syncEngine),a}),Wu.apply(this,arguments)}const o_=new Map;function Ig(l,n,a){if(!a)throw new on(It.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function Pg(l){if(!Vn.isDocumentKey(l))throw new on(It.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function m0(l){if(Vn.isDocumentKey(l))throw new on(It.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function Wf(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(a=l).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof l?"a function":Qn()}function bi(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new on(It.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=Wf(l);throw new on(It.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}class a_{constructor(n){var a;if(void 0===n.host){if(void 0!==n.ssl)throw new on(It.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(a=n.ssl)||void 0===a||a;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new on(It.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,function g0(l,n,a,d){if(!0===n&&!0===d)throw new on(It.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class qf{constructor(n,a,d){this._authCredentials=a,this._appCheckCredentials=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new a_({}),this._settingsFrozen=!1,n instanceof ac?this._databaseId=n:(this._app=n,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new on(It.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ac(g.options.projectId)}(n))}get app(){if(!this._app)throw new on(It.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new on(It.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new a_(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new oc;switch(a.type){case"gapi":const d=a.client;return br(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new k(d,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new on(It.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=o_.get(n);a&&(_n("ComponentProvider","Removing Datastore"),o_.delete(n),a.terminate())}(this),Promise.resolve()}}class zo{constructor(n,a,d){this.converter=a,this._key=d,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new il(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new zo(this.firestore,n,this._key)}}class ra{constructor(n,a,d){this.converter=a,this._query=d,this.type="query",this.firestore=n}withConverter(n){return new ra(this.firestore,n,this._query)}}class il extends ra{constructor(n,a,d){super(n,a,Cr(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new zo(this.firestore,null,new Vn(n))}withConverter(n){return new il(this.firestore,n,this._path)}}function $1(l,n,...a){if(l=(0,O.m9)(l),Ig("collection","path",n),l instanceof qf){const d=wr.fromString(n,...a);return m0(d),new il(l,null,d)}{if(!(l instanceof zo||l instanceof il))throw new on(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(wr.fromString(n,...a));return m0(d),new il(l.firestore,null,d)}}function bs(l,n,...a){if(l=(0,O.m9)(l),1===arguments.length&&(n=Ve.R()),Ig("doc","path",n),l instanceof qf){const d=wr.fromString(n,...a);return Pg(d),new zo(l,null,new Vn(d))}{if(!(l instanceof zo||l instanceof il))throw new on(It.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(wr.fromString(n,...a));return Pg(d),new zo(l.firestore,l instanceof il?l.converter:null,new Vn(d))}}class l_{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Rf(this,"async_queue_retry"),this.Fu=()=>{const a=xh();a&&_n("AsyncQueue","Visibility state changed to "+a.visibilityState),this.vo.To()};const n=xh();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Bu(),this.Lu(n)}enterRestrictedMode(n){if(!this.xu){this.xu=!0,this.Ou=n||!1;const a=xh();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Fu)}}enqueue(n){if(this.Bu(),this.xu)return new Promise(()=>{});const a=new Ii;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Cu.push(n),this.qu()))}qu(){var n=this;return(0,p.Z)(function*(){if(0!==n.Cu.length){try{yield n.Cu[0](),n.Cu.shift(),n.vo.reset()}catch(a){if(!Pc(a))throw a;_n("AsyncQueue","Operation failed with retryable error: "+a)}n.Cu.length>0&&n.vo.po(()=>n.qu())}})()}Lu(n){const a=this.Du.then(()=>(this.Mu=!0,n().catch(d=>{throw this.ku=d,this.Mu=!1,di("INTERNAL UNHANDLED ERROR: ",function(b){let E=b.message||"";return b.stack&&(E=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),E}(d)),d}).then(d=>(this.Mu=!1,d))));return this.Du=a,a}enqueueAfterDelay(n,a,d){this.Bu(),this.$u.indexOf(n)>-1&&(a=0);const g=Oh.createAndSchedule(this,n,a,d,b=>this.Uu(b));return this.Nu.push(g),g}Bu(){this.ku&&Qn()}verifyOperationInProgress(){}Ku(){var n=this;return(0,p.Z)(function*(){let a;do{a=n.Du,yield a}while(a!==n.Du)})()}Gu(n){for(const a of this.Nu)if(a.timerId===n)return!0;return!1}Qu(n){return this.Ku().then(()=>{this.Nu.sort((a,d)=>a.targetTimeMs-d.targetTimeMs);for(const a of this.Nu)if(a.skipDelay(),"all"!==n&&a.timerId===n)break;return this.Ku()})}ju(n){this.$u.push(n)}Uu(n){const a=this.Nu.indexOf(n);this.Nu.splice(a,1)}}function u_(l){return function(n,a){if("object"!=typeof n||null===n)return!1;const d=n;for(const g of["next","error","complete"])if(g in d&&"function"==typeof d[g])return!0;return!1}(l)}class xo extends qf{constructor(n,a,d){super(n,a,d),this.type="firestore",this._queue=new l_,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||Og(this),this._firestoreClient.terminate()}}function d_(l=(0,e.getApp)()){return(0,e._getProvider)(l,"firestore").getImmediate()}function Ts(l){return l._firestoreClient||Og(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function Og(l){var n;const a=l._freezeSettings(),d=(b=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new sc(l._databaseId,b,l._persistenceKey,(L=a).host,L.ssl,L.experimentalForceLongPolling,L.experimentalAutoDetectLongPolling,L.useFetchStreams));var b,L;l._firestoreClient=new Gd(l._authCredentials,l._appCheckCredentials,l._queue,d)}class Zd{constructor(...n){for(let a=0;a<n.length;++a)if(0===n[a].length)throw new on(It.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Oi(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Nl{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Nl(Xi.fromBase64String(n))}catch(a){throw new on(It.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Nl(Xi.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class zf{constructor(n){this._methodName=n}}class $f{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new on(It.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new on(It.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return He(this._lat,n._lat)||He(this._long,n._long)}}const y0=/^__.*__$/;class f_{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return null!==this.fieldMask?new Us(n,this.data,this.fieldMask,a,this.fieldTransforms):new Au(n,this.data,a,this.fieldTransforms)}}class rv{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return new Us(n,this.data,this.fieldMask,a,this.fieldTransforms)}}function Kf(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Qn()}}class kg{constructor(n,a,d,g,b,E){this.settings=n,this.databaseId=a,this.M=d,this.ignoreUndefinedProperties=g,void 0===b&&this.Wu(),this.fieldTransforms=b||[],this.fieldMask=E||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(n){return new kg(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Xu(n),g}Zu(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Wu(),g}tc(n){return this.Hu({path:void 0,Yu:!0})}ec(n){return Xf(n,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(n){return void 0!==this.fieldMask.find(a=>n.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>n.isPrefixOf(a.field))}Wu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Xu(this.path.get(n))}Xu(n){if(0===n.length)throw this.ec("Document fields must not be empty");if(Kf(this.zu)&&y0.test(n))throw this.ec('Document fields cannot begin and end with "__"')}}class wb{constructor(n,a,d){this.databaseId=n,this.ignoreUndefinedProperties=a,this.M=d||Nd(n)}ic(n,a,d,g=!1){return new kg({zu:n,methodName:a,sc:d,path:Oi.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Rl(l){const n=l._freezeSettings(),a=Nd(l._databaseId);return new wb(l._databaseId,!!n.ignoreUndefinedProperties,a)}function Lg(l,n,a,d,g,b={}){const E=l.ic(b.merge||b.mergeFields?2:0,n,a,g);Qf("Data must be an object, but it was:",E,d);const L=Yf(d,E);let X,he;if(b.merge)X=new ds(E.fieldMask),he=E.fieldTransforms;else if(b.mergeFields){const We=[];for(const st of b.mergeFields){const wt=Gg(n,st,a);if(!E.contains(wt))throw new on(It.INVALID_ARGUMENT,`Field '${wt}' is specified in your field mask but missing from your input data.`);Vg(We,wt)||We.push(wt)}X=new ds(We),he=E.fieldTransforms.filter(st=>X.covers(st.field))}else X=null,he=E.fieldTransforms;return new f_(new io(L),X,he)}class Wd extends zf{_toFieldTransform(n){if(2!==n.zu)throw n.ec(1===n.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Wd}}function kl(l,n){if(m_(l=(0,O.m9)(l)))return Qf("Unsupported field value:",n,l),Yf(l,n);if(l instanceof zf)return function(a,d){if(!Kf(d.zu))throw d.ec(`${a._methodName}() can only be used with update() and set()`);if(!d.path)throw d.ec(`${a._methodName}() is not currently supported inside arrays`);const g=a._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Yu&&4!==n.zu)throw n.ec("Nested arrays are not supported");return function(a,d){const g=[];let b=0;for(const E of a){let L=kl(E,d.tc(b));null==L&&(L={nullValue:"NULL_VALUE"}),g.push(L),b++}return{arrayValue:{values:g}}}(l,n)}return function(a,d){if(null===(a=(0,O.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return mp(d.M,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const g=On.fromDate(a);return{timestampValue:oo(d.M,g)}}if(a instanceof On){const g=new On(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oo(d.M,g)}}if(a instanceof $f)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Nl)return{bytesValue:pf(d.M,a._byteString)};if(a instanceof zo){const g=d.databaseId,b=a.firestore._databaseId;if(!b.isEqual(g))throw d.ec(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:ah(a.firestore._databaseId||d.databaseId,a._key.path)}}throw d.ec(`Unsupported field value: ${Wf(a)}`)}(l,n)}function Yf(l,n){const a={};return Ei(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Tr(l,(d,g)=>{const b=kl(g,n.Ju(d));null!=b&&(a[d]=b)}),{mapValue:{fields:a}}}function m_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof On||l instanceof $f||l instanceof Nl||l instanceof zo||l instanceof zf)}function Qf(l,n,a){if(!m_(a)||"object"!=typeof(d=a)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const d=Wf(a);throw n.ec("an object"===d?l+" a custom object":l+" "+d)}var d}function Gg(l,n,a){if((n=(0,O.m9)(n))instanceof Zd)return n._internalPath;if("string"==typeof n)return zh(l,n);throw Xf("Field path arguments must be of type string or ",l,!1,void 0,a)}const T0=new RegExp("[~\\*/\\[\\]]");function zh(l,n,a){if(n.search(T0)>=0)throw Xf(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,a);try{return new Zd(...n.split("."))._internalPath}catch(d){throw Xf(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,a)}}function Xf(l,n,a,d,g){const b=d&&!d.isEmpty(),E=void 0!==g;let L=`Function ${n}() called with invalid data`;a&&(L+=" (via `toFirestore()`)"),L+=". ";let X="";return(b||E)&&(X+=" (found",b&&(X+=` in field ${d}`),E&&(X+=` in document ${g}`),X+=")"),new on(It.INVALID_ARGUMENT,L+l+X)}function Vg(l,n){return l.some(a=>a.isEqual(n))}class jg{constructor(n,a,d,g,b){this._firestore=n,this._userDataWriter=a,this._key=d,this._document=g,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new zo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new vc(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(Wi("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a)}}}class vc extends jg{data(){return super.data()}}function Wi(l,n){return"string"==typeof n?zh(l,n):n instanceof Zd?n._internalPath:n._delegate._internalPath}class ol{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class qu extends jg{constructor(n,a,d,g,b,E){super(n,a,d,g,E),this._firestore=n,this._firestoreImpl=n,this.metadata=b}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new zu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const d=this._document.data.field(Wi("DocumentSnapshot.get",n));if(null!==d)return this._userDataWriter.convertValue(d,a.serverTimestamps)}}}class zu extends qu{data(n={}){return super.data(n)}}class $u{constructor(n,a,d,g){this._firestore=n,this._userDataWriter=a,this._snapshot=g,this.metadata=new ol(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const n=[];return this.forEach(a=>n.push(a)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,a){this._snapshot.docs.forEach(d=>{n.call(a,new zu(this._firestore,this._userDataWriter,d.key,d,new ol(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new on(It.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(E=>({type:"added",doc:new zu(d._firestore,d._userDataWriter,E.doc.key,E.doc,new ol(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(E=>g||3!==E.type).map(E=>{const L=new zu(d._firestore,d._userDataWriter,E.doc.key,E.doc,new ol(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter);let X=-1,he=-1;return 0!==E.type&&(X=b.indexOf(E.doc.key),b=b.delete(E.doc.key)),1!==E.type&&(b=b.add(E.doc),he=b.indexOf(E.doc.key)),{type:Hg(E.type),doc:L,oldIndex:X,newIndex:he}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function Hg(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Qn()}}function Ju(l,n,a){let d;return d=l?a&&(a.merge||a.mergeFields)?l.toFirestore(n,a):l.toFirestore(n):n,d}class ov{constructor(n,a){this._firestore=n,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Rl(n)}set(n,a,d){this._verifyNotCommitted();const g=rp(n,this._firestore),b=Ju(g.converter,a,d),E=Lg(this._dataReader,"WriteBatch.set",g._key,b,null!==g.converter,d);return this._mutations.push(E.toMutation(g._key,yo.none())),this}update(n,a,d,...g){this._verifyNotCommitted();const b=rp(n,this._firestore);let E;return E="string"==typeof(a=(0,O.m9)(a))||a instanceof Zd?function b0(l,n,a,d,g,b){const E=l.ic(1,n,a),L=[Gg(n,d,a)],X=[g];if(b.length%2!=0)throw new on(It.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let wt=0;wt<b.length;wt+=2)L.push(Gg(n,b[wt])),X.push(b[wt+1]);const he=[],We=io.empty();for(let wt=L.length-1;wt>=0;--wt)if(!Vg(he,L[wt])){const Jt=L[wt];let dn=X[wt];dn=(0,O.m9)(dn);const lr=E.Zu(Jt);if(dn instanceof Wd)he.push(Jt);else{const Kr=kl(dn,lr);null!=Kr&&(he.push(Jt),We.set(Jt,Kr))}}const st=new ds(he);return new rv(We,st,E.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a,d,g):function iv(l,n,a,d){const g=l.ic(1,n,a);Qf("Data must be an object, but it was:",g,d);const b=[],E=io.empty();Tr(d,(X,he)=>{const We=zh(n,X,a);he=(0,O.m9)(he);const st=g.Zu(We);if(he instanceof Wd)b.push(We);else{const wt=kl(he,st);null!=wt&&(b.push(We),E.set(We,wt))}});const L=new ds(b);return new rv(E,L,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a),this._mutations.push(E.toMutation(b._key,yo.exists(!0))),this}delete(n){this._verifyNotCommitted();const a=rp(n,this._firestore);return this._mutations=this._mutations.concat(new Yl(a._key,yo.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new on(It.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rp(l,n){if((l=(0,O.m9)(l)).firestore!==n)throw new on(It.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Yu extends class x0{convertValue(n,a="none"){switch(Ca(n)){case 0:return null;case 1:return n.booleanValue;case 2:return Gr(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(Ho(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 10:return this.convertObject(n.mapValue,a);default:throw Qn()}}convertObject(n,a){const d={};return Tr(n.fields,(g,b)=>{d[g]=this.convertValue(b,a)}),d}convertGeoPoint(n){return new $f(Gr(n.latitude),Gr(n.longitude))}convertArray(n,a){return(n.values||[]).map(d=>this.convertValue(d,a))}convertServerTimestamp(n,a){switch(a){case"previous":const d=Zl(n);return null==d?null:this.convertValue(d,a);case"estimate":return this.convertTimestamp(Ls(n));default:return null}}convertTimestamp(n){const a=hs(n);return new On(a.seconds,a.nanos)}convertDocumentKey(n,a){const d=wr.fromString(n);br(uh(d));const g=new ac(d.get(1),d.get(3)),b=new Vn(d.popFirst(5));return g.isEqual(a)||di(`Document ${b} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),b}}{constructor(n){super(),this.firestore=n}convertBytes(n){return new Nl(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new zo(this.firestore,null,a)}}function T_(l,n,a){l=bi(l,zo);const d=bi(l.firestore,xo),g=Ju(l.converter,n,a);return fu(d,[Lg(Rl(d),"setDoc",l._key,g,null!==l.converter,a).toMutation(l._key,yo.none())])}function yc(l){return fu(bi(l.firestore,xo),[new Yl(l._key,yo.none())])}function bc(l,n){const a=bi(l.firestore,xo),d=bs(l),g=Ju(l.converter,n);return fu(a,[Lg(Rl(l.firestore),"addDoc",d._key,g,null!==l.converter,{}).toMutation(d._key,yo.exists(!1))]).then(()=>d)}function Jh(l,...n){var a,d,g;l=(0,O.m9)(l);let b={includeMetadataChanges:!1},E=0;"object"!=typeof n[E]||u_(n[E])||(b=n[E],E++);const L={includeMetadataChanges:b.includeMetadataChanges};if(u_(n[E])){const st=n[E];n[E]=null===(a=st.next)||void 0===a?void 0:a.bind(st),n[E+1]=null===(d=st.error)||void 0===d?void 0:d.bind(st),n[E+2]=null===(g=st.complete)||void 0===g?void 0:g.bind(st)}let X,he,We;if(l instanceof zo)he=bi(l.firestore,xo),We=Cr(l._key.path),X={next:st=>{n[E]&&n[E](function C_(l,n,a){const d=a.docs.get(n._key),g=new Yu(l);return new qu(l,g,n._key,d,new ol(a.hasPendingWrites,a.fromCache),n.converter)}(he,l,st))},error:n[E+1],complete:n[E+2]};else{const st=bi(l,ra);he=bi(st.firestore,xo),We=st._query;const wt=new Yu(he);X={next:Jt=>{n[E]&&n[E](new $u(he,wt,st,Jt))},error:n[E+1],complete:n[E+2]},function __(l){if(_o(l)&&0===l.explicitOrderBy.length)throw new on(It.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(st,wt,Jt,dn){const lr=new du(dn),Kr=new Nh(wt,lr,Jt);return st.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Vm(l,n){return Lf.apply(this,arguments)}(yield Bc(st),Kr)})),()=>{lr.mu(),st.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function fg(l,n){return pg.apply(this,arguments)}(yield Bc(st),Kr)}))}}(Ts(he),We,L,X)}function fu(l,n){return function(a,d){const g=new Ii;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function s0(l,n,a){return Fc.apply(this,arguments)}(yield function Zu(l){return Ol(l).then(n=>n.syncEngine)}(a),d,g)})),g.promise}(Ts(l),n)}function E_(l){return Ts(l=bi(l,xo)),new ov(l,n=>fu(l,n))}!function(l,n=!0){So=e.SDK_VERSION,(0,e._registerComponent)(new T.wA("firestore",(a,{options:d})=>{const g=a.getProvider("app").getImmediate(),b=new xo(g,new td(a.getProvider("auth-internal")),new D(a.getProvider("app-check-internal")));return d=Object.assign({useFetchStreams:n},d),b._setSettings(d),b},"PUBLIC")),(0,e.registerVersion)(rc,"3.4.6",l),(0,e.registerVersion)(rc,"3.4.6","esm2017")}()},5199:(pt,w,x)=>{pt=x.nmd(pt);var e="__lodash_hash_undefined__",O=9007199254740991,V="[object Arguments]",pe="[object Function]",ve="[object Object]",Nt=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,Zt={};Zt["[object Float32Array]"]=Zt["[object Float64Array]"]=Zt["[object Int8Array]"]=Zt["[object Int16Array]"]=Zt["[object Int32Array]"]=Zt["[object Uint8Array]"]=Zt["[object Uint8ClampedArray]"]=Zt["[object Uint16Array]"]=Zt["[object Uint32Array]"]=!0,Zt[V]=Zt["[object Array]"]=Zt["[object ArrayBuffer]"]=Zt["[object Boolean]"]=Zt["[object DataView]"]=Zt["[object Date]"]=Zt["[object Error]"]=Zt[pe]=Zt["[object Map]"]=Zt["[object Number]"]=Zt[ve]=Zt["[object RegExp]"]=Zt["[object Set]"]=Zt["[object String]"]=Zt["[object WeakMap]"]=!1;var yn="object"==typeof global&&global&&global.Object===Object&&global,or="object"==typeof self&&self&&self.Object===Object&&self,$n=yn||or||Function("return this")(),Er=w&&!w.nodeType&&w,yr=Er&&pt&&!pt.nodeType&&pt,_r=yr&&yr.exports===Er,ii=_r&&yn.process,xr=function(){try{return yr&&yr.require&&yr.require("util").types||ii&&ii.binding&&ii.binding("util")}catch(Ie){}}(),Vr=xr&&xr.isTypedArray;function Pi(ie,Ie,Ze){switch(Ze.length){case 0:return ie.call(Ie);case 1:return ie.call(Ie,Ze[0]);case 2:return ie.call(Ie,Ze[0],Ze[1]);case 3:return ie.call(Ie,Ze[0],Ze[1],Ze[2])}return ie.apply(Ie,Ze)}var ie,Bn=Array.prototype,oi=Object.prototype,ei=$n["__core-js_shared__"],Fe=Function.prototype.toString,mt=oi.hasOwnProperty,Be=(ie=/[^.]+$/.exec(ei&&ei.keys&&ei.keys.IE_PROTO||""))?"Symbol(src)_1."+ie:"",ae=oi.toString,ye=Fe.call(Object),ct=RegExp("^"+Fe.call(mt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),lt=_r?$n.Buffer:void 0,yt=$n.Symbol,Pt=$n.Uint8Array,ln=lt?lt.allocUnsafe:void 0,Wt=function ki(ie,Ie){return function(Ze){return ie(Ie(Ze))}}(Object.getPrototypeOf,Object),an=Object.create,jn=oi.propertyIsEnumerable,hn=Bn.splice,Hn=yt?yt.toStringTag:void 0,Ut=function(){try{var ie=jr(Object,"defineProperty");return ie({},"",{}),ie}catch(Ie){}}(),nr=lt?lt.isBuffer:void 0,kn=Math.max,Ft=Date.now,ft=jr($n,"Map"),tn=jr(Object,"create"),vn=function(){function ie(){}return function(Ie){if(!Me(Ie))return{};if(an)return an(Ie);ie.prototype=Ie;var Ze=new ie;return ie.prototype=void 0,Ze}}();function Zn(ie){var Ie=-1,Ze=null==ie?0:ie.length;for(this.clear();++Ie<Ze;){var St=ie[Ie];this.set(St[0],St[1])}}function Ye(ie){var Ie=-1,Ze=null==ie?0:ie.length;for(this.clear();++Ie<Ze;){var St=ie[Ie];this.set(St[0],St[1])}}function cr(ie){var Ie=-1,Ze=null==ie?0:ie.length;for(this.clear();++Ie<Ze;){var St=ie[Ie];this.set(St[0],St[1])}}function cn(ie){var Ie=this.__data__=new Ye(ie);this.size=Ie.size}function gn(ie,Ie,Ze){(void 0!==Ze&&!Co(ie[Ie],Ze)||void 0===Ze&&!(Ie in ie))&&Nn(ie,Ie,Ze)}function xn(ie,Ie,Ze){var St=ie[Ie];(!mt.call(ie,Ie)||!Co(St,Ze)||void 0===Ze&&!(Ie in ie))&&Nn(ie,Ie,Ze)}function mn(ie,Ie){for(var Ze=ie.length;Ze--;)if(Co(ie[Ze][0],Ie))return Ze;return-1}function Nn(ie,Ie,Ze){"__proto__"==Ie&&Ut?Ut(ie,Ie,{configurable:!0,enumerable:!0,value:Ze,writable:!0}):ie[Ie]=Ze}Zn.prototype.clear=function Un(){this.__data__=tn?tn(null):{},this.size=0},Zn.prototype.delete=function Pe(ie){var Ie=this.has(ie)&&delete this.__data__[ie];return this.size-=Ie?1:0,Ie},Zn.prototype.get=function De(ie){var Ie=this.__data__;if(tn){var Ze=Ie[ie];return Ze===e?void 0:Ze}return mt.call(Ie,ie)?Ie[ie]:void 0},Zn.prototype.has=function be(ie){var Ie=this.__data__;return tn?void 0!==Ie[ie]:mt.call(Ie,ie)},Zn.prototype.set=function ut(ie,Ie){var Ze=this.__data__;return this.size+=this.has(ie)?0:1,Ze[ie]=tn&&void 0===Ie?e:Ie,this},Ye.prototype.clear=function qt(){this.__data__=[],this.size=0},Ye.prototype.delete=function Wn(ie){var Ie=this.__data__,Ze=mn(Ie,ie);return!(Ze<0||(Ze==Ie.length-1?Ie.pop():hn.call(Ie,Ze,1),--this.size,0))},Ye.prototype.get=function qn(ie){var Ie=this.__data__,Ze=mn(Ie,ie);return Ze<0?void 0:Ie[Ze][1]},Ye.prototype.has=function sr(ie){return mn(this.__data__,ie)>-1},Ye.prototype.set=function ar(ie,Ie){var Ze=this.__data__,St=mn(Ze,ie);return St<0?(++this.size,Ze.push([ie,Ie])):Ze[St][1]=Ie,this},cr.prototype.clear=function Tn(){this.size=0,this.__data__={hash:new Zn,map:new(ft||Ye),string:new Zn}},cr.prototype.delete=function Pn(ie){var Ie=Dr(this,ie).delete(ie);return this.size-=Ie?1:0,Ie},cr.prototype.get=function Sn(ie){return Dr(this,ie).get(ie)},cr.prototype.has=function nt(ie){return Dr(this,ie).has(ie)},cr.prototype.set=function Ct(ie,Ie){var Ze=Dr(this,ie),St=Ze.size;return Ze.set(ie,Ie),this.size+=Ze.size==St?0:1,this},cn.prototype.clear=function er(){this.__data__=new Ye,this.size=0},cn.prototype.delete=function gr(ie){var Ie=this.__data__,Ze=Ie.delete(ie);return this.size=Ie.size,Ze},cn.prototype.get=function Qt(ie){return this.__data__.get(ie)},cn.prototype.has=function sn(ie){return this.__data__.has(ie)},cn.prototype.set=function rt(ie,Ie){var Ze=this.__data__;if(Ze instanceof Ye){var St=Ze.__data__;if(!ft||St.length<199)return St.push([ie,Ie]),this.size=++Ze.size,this;Ze=this.__data__=new cr(St)}return Ze.set(ie,Ie),this.size=Ze.size,this};var rr=function $t(ie){return function(Ie,Ze,St){for(var un=-1,In=Object(Ie),Mn=St(Ie),Fn=Mn.length;Fn--;){var hr=Mn[ie?Fn:++un];if(!1===Ze(In[hr],hr,In))break}return Ie}}();function pn(ie){return null==ie?void 0===ie?"[object Undefined]":"[object Null]":Hn&&Hn in Object(ie)?function Ir(ie){var Ie=mt.call(ie,Hn),Ze=ie[Hn];try{ie[Hn]=void 0;var St=!0}catch(In){}var un=ae.call(ie);return St&&(Ie?ie[Hn]=Ze:delete ie[Hn]),un}(ie):function to(ie){return ae.call(ie)}(ie)}function Gn(ie){return fe(ie)&&pn(ie)==V}function Ci(ie,Ie,Ze,St,un){ie!==Ie&&rr(Ie,function(In,Mn){if(un||(un=new cn),Me(In))!function eo(ie,Ie,Ze,St,un,In,Mn){var Fn=as(ie,Ze),hr=as(Ie,Ze),Nr=Mn.get(hr);if(Nr)gn(ie,Ze,Nr);else{var ti=In?In(Fn,hr,Ze+"",ie,Ie,Mn):void 0,Ki=void 0===ti;if(Ki){var Go=Yo(hr),Hr=!Go&&cs(hr),H=!Go&&!Hr&&Z(hr);ti=hr,Go||Hr||H?Yo(Fn)?ti=Fn:function fo(ie){return fe(ie)&&Si(ie)}(Fn)?ti=function ze(ie,Ie){var Ze=-1,St=ie.length;for(Ie||(Ie=Array(St));++Ze<St;)Ie[Ze]=ie[Ze];return Ie}(Fn):Hr?(Ki=!1,ti=function $i(ie,Ie){if(Ie)return ie.slice();var Ze=ie.length,St=ln?ln(Ze):new ie.constructor(Ze);return ie.copy(St),St}(hr,!0)):H?(Ki=!1,ti=function at(ie,Ie){var Ze=Ie?function Yr(ie){var Ie=new ie.constructor(ie.byteLength);return new Pt(Ie).set(new Pt(ie)),Ie}(ie.buffer):ie.buffer;return new ie.constructor(Ze,ie.byteOffset,ie.length)}(hr,!0)):ti=[]:function R(ie){if(!fe(ie)||pn(ie)!=ve)return!1;var Ie=Wt(ie);if(null===Ie)return!0;var Ze=mt.call(Ie,"constructor")&&Ie.constructor;return"function"==typeof Ze&&Ze instanceof Ze&&Fe.call(Ze)==ye}(hr)||Ns(hr)?(ti=Fn,Ns(Fn)?ti=function z(ie){return function bt(ie,Ie,Ze,St){var un=!Ze;Ze||(Ze={});for(var In=-1,Mn=Ie.length;++In<Mn;){var Fn=Ie[In],hr=St?St(Ze[Fn],ie[Fn],Fn,Ze,ie):void 0;void 0===hr&&(hr=ie[Fn]),un?Nn(Ze,Fn,hr):xn(Ze,Fn,hr)}return Ze}(ie,Se(ie))}(Fn):(!Me(Fn)||co(Fn))&&(ti=function vi(ie){return"function"!=typeof ie.constructor||Es(ie)?{}:vn(Wt(ie))}(hr))):Ki=!1}Ki&&(Mn.set(hr,ti),un(ti,hr,St,In,Mn),Mn.delete(hr)),gn(ie,Ze,ti)}}(ie,Ie,Mn,Ze,Ci,St,un);else{var Fn=St?St(as(ie,Mn),In,Mn+"",ie,Ie,un):void 0;void 0===Fn&&(Fn=In),gn(ie,Mn,Fn)}},Se)}function zi(ie,Ie){return Fi(function Jo(ie,Ie,Ze){return Ie=kn(void 0===Ie?ie.length-1:Ie,0),function(){for(var St=arguments,un=-1,In=kn(St.length-Ie,0),Mn=Array(In);++un<In;)Mn[un]=St[Ie+un];un=-1;for(var Fn=Array(Ie+1);++un<Ie;)Fn[un]=St[un];return Fn[Ie]=Ze(Mn),Pi(ie,this,Fn)}}(ie,Ie,Le),ie+"")}var $r=Ut?function(ie,Ie){return Ut(ie,"toString",{configurable:!0,enumerable:!1,value:xe(Ie),writable:!0})}:Le;function bn(ie,Ie,Ze,St,un,In){return Me(ie)&&Me(Ie)&&(In.set(Ie,ie),Ci(ie,Ie,void 0,bn,In),In.delete(Ie)),ie}function Dr(ie,Ie){var Ze=ie.__data__;return function To(ie){var Ie=typeof ie;return"string"==Ie||"number"==Ie||"symbol"==Ie||"boolean"==Ie?"__proto__"!==ie:null===ie}(Ie)?Ze["string"==typeof Ie?"string":"hash"]:Ze.map}function jr(ie,Ie){var Ze=function qr(ie,Ie){return null==ie?void 0:ie[Ie]}(ie,Ie);return function Pr(ie){return!(!Me(ie)||function Li(ie){return!!Be&&Be in ie}(ie))&&(co(ie)?ct:Nt).test(function Hi(ie){if(null!=ie){try{return Fe.call(ie)}catch(Ie){}try{return ie+""}catch(Ie){}}return""}(ie))}(Ze)?Ze:void 0}function Ro(ie,Ie){var Ze=typeof ie;return!!(Ie=null==Ie?O:Ie)&&("number"==Ze||"symbol"!=Ze&&Et.test(ie))&&ie>-1&&ie%1==0&&ie<Ie}function Es(ie){var Ie=ie&&ie.constructor;return ie===("function"==typeof Ie&&Ie.prototype||oi)}function as(ie,Ie){if(("constructor"!==Ie||"function"!=typeof ie[Ie])&&"__proto__"!=Ie)return ie[Ie]}var Fi=function no(ie){var Ie=0,Ze=0;return function(){var St=Ft(),un=16-(St-Ze);if(Ze=St,un>0){if(++Ie>=800)return arguments[0]}else Ie=0;return ie.apply(void 0,arguments)}}($r);function Co(ie,Ie){return ie===Ie||ie!=ie&&Ie!=Ie}var Ns=Gn(function(){return arguments}())?Gn:function(ie){return fe(ie)&&mt.call(ie,"callee")&&!jn.call(ie,"callee")},Yo=Array.isArray;function Si(ie){return null!=ie&&Te(ie.length)&&!co(ie)}var cs=nr||function ht(){return!1};function co(ie){if(!Me(ie))return!1;var Ie=pn(ie);return Ie==pe||"[object GeneratorFunction]"==Ie||"[object AsyncFunction]"==Ie||"[object Proxy]"==Ie}function Te(ie){return"number"==typeof ie&&ie>-1&&ie%1==0&&ie<=O}function Me(ie){var Ie=typeof ie;return null!=ie&&("object"==Ie||"function"==Ie)}function fe(ie){return null!=ie&&"object"==typeof ie}var Z=Vr?function Jr(ie){return function(Ie){return ie(Ie)}}(Vr):function tr(ie){return fe(ie)&&Te(ie.length)&&!!Zt[pn(ie)]},ee=zi(function(ie){return ie.push(void 0,bn),Pi(Oe,void 0,ie)});function Se(ie){return Si(ie)?function Rt(ie,Ie){var Ze=Yo(ie),St=!Ze&&Ns(ie),un=!Ze&&!St&&cs(ie),In=!Ze&&!St&&!un&&Z(ie),Mn=Ze||St||un||In,Fn=Mn?function Ti(ie,Ie){for(var Ze=-1,St=Array(ie);++Ze<ie;)St[Ze]=Ie(Ze);return St}(ie.length,String):[],hr=Fn.length;for(var Nr in ie)(Ie||mt.call(ie,Nr))&&(!Mn||!("length"==Nr||un&&("offset"==Nr||"parent"==Nr)||In&&("buffer"==Nr||"byteLength"==Nr||"byteOffset"==Nr)||Ro(Nr,hr)))&&Fn.push(Nr);return Fn}(ie,!0):function Fr(ie){if(!Me(ie))return function ss(ie){var Ie=[];if(null!=ie)for(var Ze in Object(ie))Ie.push(Ze);return Ie}(ie);var Ie=Es(ie),Ze=[];for(var St in ie)"constructor"==St&&(Ie||!mt.call(ie,St))||Ze.push(St);return Ze}(ie)}var Oe=function Vt(ie){return zi(function(Ie,Ze){var St=-1,un=Ze.length,In=un>1?Ze[un-1]:void 0,Mn=un>2?Ze[2]:void 0;for(In=ie.length>3&&"function"==typeof In?(un--,In):void 0,Mn&&function ji(ie,Ie,Ze){if(!Me(Ze))return!1;var St=typeof Ie;return!!("number"==St?Si(Ze)&&Ro(Ie,Ze.length):"string"==St&&Ie in Ze)&&Co(Ze[Ie],ie)}(Ze[0],Ze[1],Mn)&&(In=un<3?void 0:In,un=1),Ie=Object(Ie);++St<un;){var Fn=Ze[St];Fn&&ie(Ie,Fn,St,In)}return Ie})}(function(ie,Ie,Ze,St){Ci(ie,Ie,Ze,St)});function xe(ie){return function(){return ie}}function Le(ie){return ie}pt.exports=ee},1135:(pt,w,x)=>{"use strict";x.d(w,{X:()=>e});var p=x(7579);class e extends p.x{constructor(N){super(),this._value=N}get value(){return this.getValue()}_subscribe(N){const O=super._subscribe(N);return!O.closed&&N.next(this._value),O}getValue(){const{hasError:N,thrownError:O,_value:V}=this;if(N)throw O;return this._throwIfClosed(),V}next(N){super.next(this._value=N)}}},8306:(pt,w,x)=>{"use strict";x.d(w,{y:()=>$});var p=x(930),e=x(727),T=x(8822),N=x(4671);var Y=x(2416),J=x(576),ne=x(2806);let $=(()=>{class tt{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const ve=new tt;return ve.source=this,ve.operator=vt,ve}subscribe(vt,ve,je){const ke=function dt(tt){return tt&&tt instanceof p.Lv||function pe(tt){return tt&&(0,J.m)(tt.next)&&(0,J.m)(tt.error)&&(0,J.m)(tt.complete)}(tt)&&(0,e.Nn)(tt)}(vt)?vt:new p.Hp(vt,ve,je);return(0,ne.x)(()=>{const{operator:gt,source:$e}=this;ke.add(gt?gt.call(ke,$e):$e?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(vt){try{return this._subscribe(vt)}catch(ve){vt.error(ve)}}forEach(vt,ve){return new(ve=re(ve))((je,ke)=>{const gt=new p.Hp({next:$e=>{try{vt($e)}catch(it){ke(it),gt.unsubscribe()}},error:ke,complete:je});this.subscribe(gt)})}_subscribe(vt){var ve;return null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(vt)}[T.L](){return this}pipe(...vt){return function V(tt){return 0===tt.length?N.y:1===tt.length?tt[0]:function(vt){return tt.reduce((ve,je)=>je(ve),vt)}}(vt)(this)}toPromise(vt){return new(vt=re(vt))((ve,je)=>{let ke;this.subscribe(gt=>ke=gt,gt=>je(gt),()=>ve(ke))})}}return tt.create=Qe=>new tt(Qe),tt})();function re(tt){var Qe;return null!==(Qe=null!=tt?tt:Y.v.Promise)&&void 0!==Qe?Qe:Promise}},7579:(pt,w,x)=>{"use strict";x.d(w,{x:()=>Y});var p=x(8306),e=x(727);const N=(0,x(3888).d)(ne=>function(){ne(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var O=x(8737),V=x(2806);let Y=(()=>{class ne extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(re){const pe=new J(this,this);return pe.operator=re,pe}_throwIfClosed(){if(this.closed)throw new N}next(re){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const pe of this.currentObservers)pe.next(re)}})}error(re){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=re;const{observers:pe}=this;for(;pe.length;)pe.shift().error(re)}})}complete(){(0,V.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:re}=this;for(;re.length;)re.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var re;return(null===(re=this.observers)||void 0===re?void 0:re.length)>0}_trySubscribe(re){return this._throwIfClosed(),super._trySubscribe(re)}_subscribe(re){return this._throwIfClosed(),this._checkFinalizedStatuses(re),this._innerSubscribe(re)}_innerSubscribe(re){const{hasError:pe,isStopped:dt,observers:tt}=this;return pe||dt?e.Lc:(this.currentObservers=null,tt.push(re),new e.w0(()=>{this.currentObservers=null,(0,O.P)(tt,re)}))}_checkFinalizedStatuses(re){const{hasError:pe,thrownError:dt,isStopped:tt}=this;pe?re.error(dt):tt&&re.complete()}asObservable(){const re=new p.y;return re.source=this,re}}return ne.create=($,re)=>new J($,re),ne})();class J extends Y{constructor($,re){super(),this.destination=$,this.source=re}next($){var re,pe;null===(pe=null===(re=this.destination)||void 0===re?void 0:re.next)||void 0===pe||pe.call(re,$)}error($){var re,pe;null===(pe=null===(re=this.destination)||void 0===re?void 0:re.error)||void 0===pe||pe.call(re,$)}complete(){var $,re;null===(re=null===($=this.destination)||void 0===$?void 0:$.complete)||void 0===re||re.call($)}_subscribe($){var re,pe;return null!==(pe=null===(re=this.source)||void 0===re?void 0:re.subscribe($))&&void 0!==pe?pe:e.Lc}}},930:(pt,w,x)=>{"use strict";x.d(w,{Hp:()=>vt,Lv:()=>pe});var p=x(576),e=x(727),T=x(2416),N=x(7849),O=x(5032);const V=ne("C",void 0,void 0);function ne($e,it,Ae){return{kind:$e,value:it,error:Ae}}var $=x(3410),re=x(2806);class pe extends e.w0{constructor(it){super(),this.isStopped=!1,it?(this.destination=it,(0,e.Nn)(it)&&it.add(this)):this.destination=gt}static create(it,Ae,Ke){return new vt(it,Ae,Ke)}next(it){this.isStopped?ke(function J($e){return ne("N",$e,void 0)}(it),this):this._next(it)}error(it){this.isStopped?ke(function Y($e){return ne("E",void 0,$e)}(it),this):(this.isStopped=!0,this._error(it))}complete(){this.isStopped?ke(V,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(it){this.destination.next(it)}_error(it){try{this.destination.error(it)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function tt($e,it){return dt.call($e,it)}class Qe{constructor(it){this.partialObserver=it}next(it){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(it)}catch(Ke){ve(Ke)}}error(it){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(it)}catch(Ke){ve(Ke)}else ve(it)}complete(){const{partialObserver:it}=this;if(it.complete)try{it.complete()}catch(Ae){ve(Ae)}}}class vt extends pe{constructor(it,Ae,Ke){let Ue;if(super(),(0,p.m)(it)||!it)Ue={next:null!=it?it:void 0,error:null!=Ae?Ae:void 0,complete:null!=Ke?Ke:void 0};else{let Je;this&&T.v.useDeprecatedNextContext?(Je=Object.create(it),Je.unsubscribe=()=>this.unsubscribe(),Ue={next:it.next&&tt(it.next,Je),error:it.error&&tt(it.error,Je),complete:it.complete&&tt(it.complete,Je)}):Ue=it}this.destination=new Qe(Ue)}}function ve($e){T.v.useDeprecatedSynchronousErrorHandling?(0,re.O)($e):(0,N.h)($e)}function ke($e,it){const{onStoppedNotification:Ae}=T.v;Ae&&$.z.setTimeout(()=>Ae($e,it))}const gt={closed:!0,next:O.Z,error:function je($e){throw $e},complete:O.Z}},727:(pt,w,x)=>{"use strict";x.d(w,{Lc:()=>V,w0:()=>O,Nn:()=>Y});var p=x(576);const T=(0,x(3888).d)(ne=>function(re){ne(this),this.message=re?`${re.length} errors occurred during unsubscription:\n${re.map((pe,dt)=>`${dt+1}) ${pe.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=re});var N=x(8737);class O{constructor($){this.initialTeardown=$,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let $;if(!this.closed){this.closed=!0;const{_parentage:re}=this;if(re)if(this._parentage=null,Array.isArray(re))for(const tt of re)tt.remove(this);else re.remove(this);const{initialTeardown:pe}=this;if((0,p.m)(pe))try{pe()}catch(tt){$=tt instanceof T?tt.errors:[tt]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const tt of dt)try{J(tt)}catch(Qe){$=null!=$?$:[],Qe instanceof T?$=[...$,...Qe.errors]:$.push(Qe)}}if($)throw new T($)}}add($){var re;if($&&$!==this)if(this.closed)J($);else{if($ instanceof O){if($.closed||$._hasParent(this))return;$._addParent(this)}(this._finalizers=null!==(re=this._finalizers)&&void 0!==re?re:[]).push($)}}_hasParent($){const{_parentage:re}=this;return re===$||Array.isArray(re)&&re.includes($)}_addParent($){const{_parentage:re}=this;this._parentage=Array.isArray(re)?(re.push($),re):re?[re,$]:$}_removeParent($){const{_parentage:re}=this;re===$?this._parentage=null:Array.isArray(re)&&(0,N.P)(re,$)}remove($){const{_finalizers:re}=this;re&&(0,N.P)(re,$),$ instanceof O&&$._removeParent(this)}}O.EMPTY=(()=>{const ne=new O;return ne.closed=!0,ne})();const V=O.EMPTY;function Y(ne){return ne instanceof O||ne&&"closed"in ne&&(0,p.m)(ne.remove)&&(0,p.m)(ne.add)&&(0,p.m)(ne.unsubscribe)}function J(ne){(0,p.m)(ne)?ne():ne.unsubscribe()}},2416:(pt,w,x)=>{"use strict";x.d(w,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pt,w,x)=>{"use strict";x.d(w,{a:()=>$});var p=x(8306),e=x(4742),T=x(8996),N=x(4671),O=x(3268),V=x(3269),Y=x(1810),J=x(5403),ne=x(9672);function $(...dt){const tt=(0,V.yG)(dt),Qe=(0,V.jO)(dt),{args:vt,keys:ve}=(0,e.D)(dt);if(0===vt.length)return(0,T.D)([],tt);const je=new p.y(function re(dt,tt,Qe=N.y){return vt=>{pe(tt,()=>{const{length:ve}=dt,je=new Array(ve);let ke=ve,gt=ve;for(let $e=0;$e<ve;$e++)pe(tt,()=>{const it=(0,T.D)(dt[$e],tt);let Ae=!1;it.subscribe((0,J.x)(vt,Ke=>{je[$e]=Ke,Ae||(Ae=!0,gt--),gt||vt.next(Qe(je.slice()))},()=>{--ke||vt.complete()}))},vt)},vt)}}(vt,tt,ve?ke=>(0,Y.n)(ve,ke):N.y));return Qe?je.pipe((0,O.Z)(Qe)):je}function pe(dt,tt,Qe){dt?(0,ne.f)(Qe,dt,tt):tt()}},7272:(pt,w,x)=>{"use strict";x.d(w,{z:()=>O});var p=x(8189),T=x(3269),N=x(8996);function O(...V){return function e(){return(0,p.J)(1)}()((0,N.D)(V,(0,T.yG)(V)))}},9770:(pt,w,x)=>{"use strict";x.d(w,{P:()=>T});var p=x(8306),e=x(8421);function T(N){return new p.y(O=>{(0,e.Xf)(N()).subscribe(O)})}},515:(pt,w,x)=>{"use strict";x.d(w,{E:()=>e});const e=new(x(8306).y)(O=>O.complete())},8996:(pt,w,x)=>{"use strict";x.d(w,{D:()=>it});var p=x(8421),e=x(5363),T=x(9468),V=x(8306),J=x(2202),ne=x(576),$=x(9672);function pe(Ae,Ke){if(!Ae)throw new Error("Iterable cannot be null");return new V.y(Ue=>{(0,$.f)(Ue,Ke,()=>{const Je=Ae[Symbol.asyncIterator]();(0,$.f)(Ue,Ke,()=>{Je.next().then(_e=>{_e.done?Ue.complete():Ue.next(_e.value)})},0,!0)})})}var dt=x(3670),tt=x(8239),Qe=x(1144),vt=x(6495),ve=x(2206),je=x(4532),ke=x(3260);function it(Ae,Ke){return Ke?function $e(Ae,Ke){if(null!=Ae){if((0,dt.c)(Ae))return function N(Ae,Ke){return(0,p.Xf)(Ae).pipe((0,T.R)(Ke),(0,e.Q)(Ke))}(Ae,Ke);if((0,Qe.z)(Ae))return function Y(Ae,Ke){return new V.y(Ue=>{let Je=0;return Ke.schedule(function(){Je===Ae.length?Ue.complete():(Ue.next(Ae[Je++]),Ue.closed||this.schedule())})})}(Ae,Ke);if((0,tt.t)(Ae))return function O(Ae,Ke){return(0,p.Xf)(Ae).pipe((0,T.R)(Ke),(0,e.Q)(Ke))}(Ae,Ke);if((0,ve.D)(Ae))return pe(Ae,Ke);if((0,vt.T)(Ae))return function re(Ae,Ke){return new V.y(Ue=>{let Je;return(0,$.f)(Ue,Ke,()=>{Je=Ae[J.h](),(0,$.f)(Ue,Ke,()=>{let _e,ue;try{({value:_e,done:ue}=Je.next())}catch(oe){return void Ue.error(oe)}ue?Ue.complete():Ue.next(_e)},0,!0)}),()=>(0,ne.m)(null==Je?void 0:Je.return)&&Je.return()})}(Ae,Ke);if((0,ke.L)(Ae))return function gt(Ae,Ke){return pe((0,ke.Q)(Ae),Ke)}(Ae,Ke)}throw(0,je.z)(Ae)}(Ae,Ke):(0,p.Xf)(Ae)}},8421:(pt,w,x)=>{"use strict";x.d(w,{Xf:()=>dt});var p=x(655),e=x(1144),T=x(8239),N=x(8306),O=x(3670),V=x(2206),Y=x(4532),J=x(6495),ne=x(3260),$=x(576),re=x(7849),pe=x(8822);function dt($e){if($e instanceof N.y)return $e;if(null!=$e){if((0,O.c)($e))return function tt($e){return new N.y(it=>{const Ae=$e[pe.L]();if((0,$.m)(Ae.subscribe))return Ae.subscribe(it);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,e.z)($e))return function Qe($e){return new N.y(it=>{for(let Ae=0;Ae<$e.length&&!it.closed;Ae++)it.next($e[Ae]);it.complete()})}($e);if((0,T.t)($e))return function vt($e){return new N.y(it=>{$e.then(Ae=>{it.closed||(it.next(Ae),it.complete())},Ae=>it.error(Ae)).then(null,re.h)})}($e);if((0,V.D)($e))return je($e);if((0,J.T)($e))return function ve($e){return new N.y(it=>{for(const Ae of $e)if(it.next(Ae),it.closed)return;it.complete()})}($e);if((0,ne.L)($e))return function ke($e){return je((0,ne.Q)($e))}($e)}throw(0,Y.z)($e)}function je($e){return new N.y(it=>{(function gt($e,it){var Ae,Ke,Ue,Je;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,p.KL)($e);!(Ke=yield Ae.next()).done;)if(it.next(Ke.value),it.closed)return}catch(_e){Ue={error:_e}}finally{try{Ke&&!Ke.done&&(Je=Ae.return)&&(yield Je.call(Ae))}finally{if(Ue)throw Ue.error}}it.complete()})})($e,it).catch(Ae=>it.error(Ae))})}},6451:(pt,w,x)=>{"use strict";x.d(w,{T:()=>V});var p=x(8189),e=x(8421),T=x(515),N=x(3269),O=x(8996);function V(...Y){const J=(0,N.yG)(Y),ne=(0,N._6)(Y,1/0),$=Y;return $.length?1===$.length?(0,e.Xf)($[0]):(0,p.J)(ne)((0,O.D)($,J)):T.E}},9646:(pt,w,x)=>{"use strict";x.d(w,{of:()=>T});var p=x(3269),e=x(8996);function T(...N){const O=(0,p.yG)(N);return(0,e.D)(N,O)}},5403:(pt,w,x)=>{"use strict";x.d(w,{x:()=>e});var p=x(930);function e(N,O,V,Y,J){return new T(N,O,V,Y,J)}class T extends p.Lv{constructor(O,V,Y,J,ne,$){super(O),this.onFinalize=ne,this.shouldUnsubscribe=$,this._next=V?function(re){try{V(re)}catch(pe){O.error(pe)}}:super._next,this._error=J?function(re){try{J(re)}catch(pe){O.error(pe)}finally{this.unsubscribe()}}:super._error,this._complete=Y?function(){try{Y()}catch(re){O.error(re)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var O;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:V}=this;super.unsubscribe(),!V&&(null===(O=this.onFinalize)||void 0===O||O.call(this))}}}},4351:(pt,w,x)=>{"use strict";x.d(w,{b:()=>T});var p=x(5577),e=x(576);function T(N,O){return(0,e.m)(O)?(0,p.z)(N,O,1):(0,p.z)(N,1)}},6590:(pt,w,x)=>{"use strict";x.d(w,{d:()=>T});var p=x(4482),e=x(5403);function T(N){return(0,p.e)((O,V)=>{let Y=!1;O.subscribe((0,e.x)(V,J=>{Y=!0,V.next(J)},()=>{Y||V.next(N),V.complete()}))})}},9300:(pt,w,x)=>{"use strict";x.d(w,{h:()=>T});var p=x(4482),e=x(5403);function T(N,O){return(0,p.e)((V,Y)=>{let J=0;V.subscribe((0,e.x)(Y,ne=>N.call(O,ne,J++)&&Y.next(ne)))})}},590:(pt,w,x)=>{"use strict";x.d(w,{P:()=>Y});var p=x(6805),e=x(9300),T=x(5698),N=x(6590),O=x(8068),V=x(4671);function Y(J,ne){const $=arguments.length>=2;return re=>re.pipe(J?(0,e.h)((pe,dt)=>J(pe,dt,re)):V.y,(0,T.q)(1),$?(0,N.d)(ne):(0,O.T)(()=>new p.K))}},4004:(pt,w,x)=>{"use strict";x.d(w,{U:()=>T});var p=x(4482),e=x(5403);function T(N,O){return(0,p.e)((V,Y)=>{let J=0;V.subscribe((0,e.x)(Y,ne=>{Y.next(N.call(O,ne,J++))}))})}},8189:(pt,w,x)=>{"use strict";x.d(w,{J:()=>T});var p=x(5577),e=x(4671);function T(N=1/0){return(0,p.z)(e.y,N)}},5577:(pt,w,x)=>{"use strict";x.d(w,{z:()=>J});var p=x(4004),e=x(8421),T=x(4482),N=x(9672),O=x(5403),Y=x(576);function J(ne,$,re=1/0){return(0,Y.m)($)?J((pe,dt)=>(0,p.U)((tt,Qe)=>$(pe,tt,dt,Qe))((0,e.Xf)(ne(pe,dt))),re):("number"==typeof $&&(re=$),(0,T.e)((pe,dt)=>function V(ne,$,re,pe,dt,tt,Qe,vt){const ve=[];let je=0,ke=0,gt=!1;const $e=()=>{gt&&!ve.length&&!je&&$.complete()},it=Ke=>je<pe?Ae(Ke):ve.push(Ke),Ae=Ke=>{tt&&$.next(Ke),je++;let Ue=!1;(0,e.Xf)(re(Ke,ke++)).subscribe((0,O.x)($,Je=>{null==dt||dt(Je),tt?it(Je):$.next(Je)},()=>{Ue=!0},void 0,()=>{if(Ue)try{for(je--;ve.length&&je<pe;){const Je=ve.shift();Qe?(0,N.f)($,Qe,()=>Ae(Je)):Ae(Je)}$e()}catch(Je){$.error(Je)}}))};return ne.subscribe((0,O.x)($,it,()=>{gt=!0,$e()})),()=>{null==vt||vt()}}(pe,dt,ne,re)))}},5363:(pt,w,x)=>{"use strict";x.d(w,{Q:()=>N});var p=x(9672),e=x(4482),T=x(5403);function N(O,V=0){return(0,e.e)((Y,J)=>{Y.subscribe((0,T.x)(J,ne=>(0,p.f)(J,O,()=>J.next(ne),V),()=>(0,p.f)(J,O,()=>J.complete(),V),ne=>(0,p.f)(J,O,()=>J.error(ne),V)))})}},3099:(pt,w,x)=>{"use strict";x.d(w,{B:()=>V});var p=x(8996),e=x(5698),T=x(7579),N=x(930),O=x(4482);function V(J={}){const{connector:ne=(()=>new T.x),resetOnError:$=!0,resetOnComplete:re=!0,resetOnRefCountZero:pe=!0}=J;return dt=>{let tt=null,Qe=null,vt=null,ve=0,je=!1,ke=!1;const gt=()=>{null==Qe||Qe.unsubscribe(),Qe=null},$e=()=>{gt(),tt=vt=null,je=ke=!1},it=()=>{const Ae=tt;$e(),null==Ae||Ae.unsubscribe()};return(0,O.e)((Ae,Ke)=>{ve++,!ke&&!je&&gt();const Ue=vt=null!=vt?vt:ne();Ke.add(()=>{ve--,0===ve&&!ke&&!je&&(Qe=Y(it,pe))}),Ue.subscribe(Ke),tt||(tt=new N.Hp({next:Je=>Ue.next(Je),error:Je=>{ke=!0,gt(),Qe=Y($e,$,Je),Ue.error(Je)},complete:()=>{je=!0,gt(),Qe=Y($e,re),Ue.complete()}}),(0,p.D)(Ae).subscribe(tt))})(dt)}}function Y(J,ne,...$){return!0===ne?(J(),null):!1===ne?null:ne(...$).pipe((0,e.q)(1)).subscribe(()=>J())}},8675:(pt,w,x)=>{"use strict";x.d(w,{O:()=>N});var p=x(7272),e=x(3269),T=x(4482);function N(...O){const V=(0,e.yG)(O);return(0,T.e)((Y,J)=>{(V?(0,p.z)(O,Y,V):(0,p.z)(O,Y)).subscribe(J)})}},9468:(pt,w,x)=>{"use strict";x.d(w,{R:()=>e});var p=x(4482);function e(T,N=0){return(0,p.e)((O,V)=>{V.add(T.schedule(()=>O.subscribe(V),N))})}},3900:(pt,w,x)=>{"use strict";x.d(w,{w:()=>N});var p=x(8421),e=x(4482),T=x(5403);function N(O,V){return(0,e.e)((Y,J)=>{let ne=null,$=0,re=!1;const pe=()=>re&&!ne&&J.complete();Y.subscribe((0,T.x)(J,dt=>{null==ne||ne.unsubscribe();let tt=0;const Qe=$++;(0,p.Xf)(O(dt,Qe)).subscribe(ne=(0,T.x)(J,vt=>J.next(V?V(dt,vt,Qe,tt++):vt),()=>{ne=null,pe()}))},()=>{re=!0,pe()}))})}},5698:(pt,w,x)=>{"use strict";x.d(w,{q:()=>N});var p=x(515),e=x(4482),T=x(5403);function N(O){return O<=0?()=>p.E:(0,e.e)((V,Y)=>{let J=0;V.subscribe((0,T.x)(Y,ne=>{++J<=O&&(Y.next(ne),O<=J&&Y.complete())}))})}},8505:(pt,w,x)=>{"use strict";x.d(w,{b:()=>O});var p=x(576),e=x(4482),T=x(5403),N=x(4671);function O(V,Y,J){const ne=(0,p.m)(V)||Y||J?{next:V,error:Y,complete:J}:V;return ne?(0,e.e)(($,re)=>{var pe;null===(pe=ne.subscribe)||void 0===pe||pe.call(ne);let dt=!0;$.subscribe((0,T.x)(re,tt=>{var Qe;null===(Qe=ne.next)||void 0===Qe||Qe.call(ne,tt),re.next(tt)},()=>{var tt;dt=!1,null===(tt=ne.complete)||void 0===tt||tt.call(ne),re.complete()},tt=>{var Qe;dt=!1,null===(Qe=ne.error)||void 0===Qe||Qe.call(ne,tt),re.error(tt)},()=>{var tt,Qe;dt&&(null===(tt=ne.unsubscribe)||void 0===tt||tt.call(ne)),null===(Qe=ne.finalize)||void 0===Qe||Qe.call(ne)}))}):N.y}},8068:(pt,w,x)=>{"use strict";x.d(w,{T:()=>N});var p=x(6805),e=x(4482),T=x(5403);function N(V=O){return(0,e.e)((Y,J)=>{let ne=!1;Y.subscribe((0,T.x)(J,$=>{ne=!0,J.next($)},()=>ne?J.complete():J.error(V())))})}function O(){return new p.K}},4408:(pt,w,x)=>{"use strict";x.d(w,{o:()=>O});var p=x(727);class e extends p.w0{constructor(Y,J){super()}schedule(Y,J=0){return this}}const T={setInterval(V,Y,...J){const{delegate:ne}=T;return(null==ne?void 0:ne.setInterval)?ne.setInterval(V,Y,...J):setInterval(V,Y,...J)},clearInterval(V){const{delegate:Y}=T;return((null==Y?void 0:Y.clearInterval)||clearInterval)(V)},delegate:void 0};var N=x(8737);class O extends e{constructor(Y,J){super(Y,J),this.scheduler=Y,this.work=J,this.pending=!1}schedule(Y,J=0){if(this.closed)return this;this.state=Y;const ne=this.id,$=this.scheduler;return null!=ne&&(this.id=this.recycleAsyncId($,ne,J)),this.pending=!0,this.delay=J,this.id=this.id||this.requestAsyncId($,this.id,J),this}requestAsyncId(Y,J,ne=0){return T.setInterval(Y.flush.bind(Y,this),ne)}recycleAsyncId(Y,J,ne=0){if(null!=ne&&this.delay===ne&&!1===this.pending)return J;T.clearInterval(J)}execute(Y,J){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ne=this._execute(Y,J);if(ne)return ne;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Y,J){let $,ne=!1;try{this.work(Y)}catch(re){ne=!0,$=re||new Error("Scheduled action threw falsy error")}if(ne)return this.unsubscribe(),$}unsubscribe(){if(!this.closed){const{id:Y,scheduler:J}=this,{actions:ne}=J;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(ne,this),null!=Y&&(this.id=this.recycleAsyncId(J,Y,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,w,x)=>{"use strict";x.d(w,{v:()=>T});var p=x(6063);class e{constructor(O,V=e.now){this.schedulerActionCtor=O,this.now=V}schedule(O,V=0,Y){return new this.schedulerActionCtor(this,O).schedule(Y,V)}}e.now=p.l.now;class T extends e{constructor(O,V=e.now){super(O,V),this.actions=[],this._active=!1,this._scheduled=void 0}flush(O){const{actions:V}=this;if(this._active)return void V.push(O);let Y;this._active=!0;do{if(Y=O.execute(O.state,O.delay))break}while(O=V.shift());if(this._active=!1,Y){for(;O=V.shift();)O.unsubscribe();throw Y}}}},4986:(pt,w,x)=>{"use strict";x.d(w,{P:()=>N,z:()=>T});var p=x(4408);const T=new(x(7565).v)(p.o),N=T},6063:(pt,w,x)=>{"use strict";x.d(w,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(pt,w,x)=>{"use strict";x.d(w,{z:()=>p});const p={setTimeout(e,T,...N){const{delegate:O}=p;return(null==O?void 0:O.setTimeout)?O.setTimeout(e,T,...N):setTimeout(e,T,...N)},clearTimeout(e){const{delegate:T}=p;return((null==T?void 0:T.clearTimeout)||clearTimeout)(e)},delegate:void 0}},2202:(pt,w,x)=>{"use strict";x.d(w,{h:()=>e});const e=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,w,x)=>{"use strict";x.d(w,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pt,w,x)=>{"use strict";x.d(w,{K:()=>e});const e=(0,x(3888).d)(T=>function(){T(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pt,w,x)=>{"use strict";x.d(w,{_6:()=>V,jO:()=>N,yG:()=>O});var p=x(576),e=x(3532);function T(Y){return Y[Y.length-1]}function N(Y){return(0,p.m)(T(Y))?Y.pop():void 0}function O(Y){return(0,e.K)(T(Y))?Y.pop():void 0}function V(Y,J){return"number"==typeof T(Y)?Y.pop():J}},4742:(pt,w,x)=>{"use strict";x.d(w,{D:()=>O});const{isArray:p}=Array,{getPrototypeOf:e,prototype:T,keys:N}=Object;function O(Y){if(1===Y.length){const J=Y[0];if(p(J))return{args:J,keys:null};if(function V(Y){return Y&&"object"==typeof Y&&e(Y)===T}(J)){const ne=N(J);return{args:ne.map($=>J[$]),keys:ne}}}return{args:Y,keys:null}}},8737:(pt,w,x)=>{"use strict";function p(e,T){if(e){const N=e.indexOf(T);0<=N&&e.splice(N,1)}}x.d(w,{P:()=>p})},3888:(pt,w,x)=>{"use strict";function p(e){const N=e(O=>{Error.call(O),O.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}x.d(w,{d:()=>p})},1810:(pt,w,x)=>{"use strict";function p(e,T){return e.reduce((N,O,V)=>(N[O]=T[V],N),{})}x.d(w,{n:()=>p})},2806:(pt,w,x)=>{"use strict";x.d(w,{O:()=>N,x:()=>T});var p=x(2416);let e=null;function T(O){if(p.v.useDeprecatedSynchronousErrorHandling){const V=!e;if(V&&(e={errorThrown:!1,error:null}),O(),V){const{errorThrown:Y,error:J}=e;if(e=null,Y)throw J}}else O()}function N(O){p.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=O)}},9672:(pt,w,x)=>{"use strict";function p(e,T,N,O=0,V=!1){const Y=T.schedule(function(){N(),V?e.add(this.schedule(null,O)):this.unsubscribe()},O);if(e.add(Y),!V)return Y}x.d(w,{f:()=>p})},4671:(pt,w,x)=>{"use strict";function p(e){return e}x.d(w,{y:()=>p})},1144:(pt,w,x)=>{"use strict";x.d(w,{z:()=>p});const p=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(pt,w,x)=>{"use strict";x.d(w,{D:()=>e});var p=x(576);function e(T){return Symbol.asyncIterator&&(0,p.m)(null==T?void 0:T[Symbol.asyncIterator])}},576:(pt,w,x)=>{"use strict";function p(e){return"function"==typeof e}x.d(w,{m:()=>p})},3670:(pt,w,x)=>{"use strict";x.d(w,{c:()=>T});var p=x(8822),e=x(576);function T(N){return(0,e.m)(N[p.L])}},6495:(pt,w,x)=>{"use strict";x.d(w,{T:()=>T});var p=x(2202),e=x(576);function T(N){return(0,e.m)(null==N?void 0:N[p.h])}},8239:(pt,w,x)=>{"use strict";x.d(w,{t:()=>e});var p=x(576);function e(T){return(0,p.m)(null==T?void 0:T.then)}},3260:(pt,w,x)=>{"use strict";x.d(w,{L:()=>N,Q:()=>T});var p=x(655),e=x(576);function T(O){return(0,p.FC)(this,arguments,function*(){const Y=O.getReader();try{for(;;){const{value:J,done:ne}=yield(0,p.qq)(Y.read());if(ne)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(J)}}finally{Y.releaseLock()}})}function N(O){return(0,e.m)(null==O?void 0:O.getReader)}},3532:(pt,w,x)=>{"use strict";x.d(w,{K:()=>e});var p=x(576);function e(T){return T&&(0,p.m)(T.schedule)}},4482:(pt,w,x)=>{"use strict";x.d(w,{A:()=>e,e:()=>T});var p=x(576);function e(N){return(0,p.m)(null==N?void 0:N.lift)}function T(N){return O=>{if(e(O))return O.lift(function(V){try{return N(V,this)}catch(Y){this.error(Y)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>N});var p=x(4004);const{isArray:e}=Array;function N(O){return(0,p.U)(V=>function T(O,V){return e(V)?O(...V):O(V)}(O,V))}},5032:(pt,w,x)=>{"use strict";function p(){}x.d(w,{Z:()=>p})},7849:(pt,w,x)=>{"use strict";x.d(w,{h:()=>T});var p=x(2416),e=x(3410);function T(N){e.z.setTimeout(()=>{const{onUnhandledError:O}=p.v;if(!O)throw N;O(N)})}},4532:(pt,w,x)=>{"use strict";function p(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(w,{z:()=>p})},8583:()=>{"use strict";!function(Fe){const mt=Fe.performance;function Be(Pn){mt&&mt.mark&&mt.mark(Pn)}function ae(Pn,Sn){mt&&mt.measure&&mt.measure(Pn,Sn)}Be("Zone");const ye=Fe.__Zone_symbol_prefix||"__zone_symbol__";function ct(Pn){return ye+Pn}const lt=!0===Fe[ct("forceDuplicateZoneCheck")];if(Fe.Zone){if(lt||"function"!=typeof Fe.Zone.__symbol__)throw new Error("Zone already loaded.");return Fe.Zone}let yt=(()=>{class Pn{constructor(nt,Ct){this._parent=nt,this._name=Ct?Ct.name||"unnamed":"<root>",this._properties=Ct&&Ct.properties||{},this._zoneDelegate=new ln(this,this._parent&&this._parent._zoneDelegate,Ct)}static assertZonePatched(){if(Fe.Promise!==Wn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let nt=Pn.current;for(;nt.parent;)nt=nt.parent;return nt}static get current(){return sr.zone}static get currentTask(){return ar}static __load_patch(nt,Ct,cn=!1){if(Wn.hasOwnProperty(nt)){if(!cn&&lt)throw Error("Already loaded patch: "+nt)}else if(!Fe["__Zone_disable_"+nt]){const er="Zone:"+nt;Be(er),Wn[nt]=Ct(Fe,Pn,qn),ae(er,er)}}get parent(){return this._parent}get name(){return this._name}get(nt){const Ct=this.getZoneWith(nt);if(Ct)return Ct._properties[nt]}getZoneWith(nt){let Ct=this;for(;Ct;){if(Ct._properties.hasOwnProperty(nt))return Ct;Ct=Ct._parent}return null}fork(nt){if(!nt)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,nt)}wrap(nt,Ct){if("function"!=typeof nt)throw new Error("Expecting function got: "+nt);const cn=this._zoneDelegate.intercept(this,nt,Ct),er=this;return function(){return er.runGuarded(cn,this,arguments,Ct)}}run(nt,Ct,cn,er){sr={parent:sr,zone:this};try{return this._zoneDelegate.invoke(this,nt,Ct,cn,er)}finally{sr=sr.parent}}runGuarded(nt,Ct=null,cn,er){sr={parent:sr,zone:this};try{try{return this._zoneDelegate.invoke(this,nt,Ct,cn,er)}catch(gr){if(this._zoneDelegate.handleError(this,gr))throw gr}}finally{sr=sr.parent}}runTask(nt,Ct,cn){if(nt.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(nt.zone||tn).name+"; Execution: "+this.name+")");if(nt.state===vn&&(nt.type===qt||nt.type===Ye))return;const er=nt.state!=Pe;er&&nt._transitionTo(Pe,Un),nt.runCount++;const gr=ar;ar=nt,sr={parent:sr,zone:this};try{nt.type==Ye&&nt.data&&!nt.data.isPeriodic&&(nt.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,nt,Ct,cn)}catch(Qt){if(this._zoneDelegate.handleError(this,Qt))throw Qt}}finally{nt.state!==vn&&nt.state!==be&&(nt.type==qt||nt.data&&nt.data.isPeriodic?er&&nt._transitionTo(Un,Pe):(nt.runCount=0,this._updateTaskCount(nt,-1),er&&nt._transitionTo(vn,Pe,vn))),sr=sr.parent,ar=gr}}scheduleTask(nt){if(nt.zone&&nt.zone!==this){let cn=this;for(;cn;){if(cn===nt.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${nt.zone.name}`);cn=cn.parent}}nt._transitionTo(Zn,vn);const Ct=[];nt._zoneDelegates=Ct,nt._zone=this;try{nt=this._zoneDelegate.scheduleTask(this,nt)}catch(cn){throw nt._transitionTo(be,Zn,vn),this._zoneDelegate.handleError(this,cn),cn}return nt._zoneDelegates===Ct&&this._updateTaskCount(nt,1),nt.state==Zn&&nt._transitionTo(Un,Zn),nt}scheduleMicroTask(nt,Ct,cn,er){return this.scheduleTask(new Wt(ut,nt,Ct,cn,er,void 0))}scheduleMacroTask(nt,Ct,cn,er,gr){return this.scheduleTask(new Wt(Ye,nt,Ct,cn,er,gr))}scheduleEventTask(nt,Ct,cn,er,gr){return this.scheduleTask(new Wt(qt,nt,Ct,cn,er,gr))}cancelTask(nt){if(nt.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(nt.zone||tn).name+"; Execution: "+this.name+")");nt._transitionTo(De,Un,Pe);try{this._zoneDelegate.cancelTask(this,nt)}catch(Ct){throw nt._transitionTo(be,De),this._zoneDelegate.handleError(this,Ct),Ct}return this._updateTaskCount(nt,-1),nt._transitionTo(vn,De),nt.runCount=0,nt}_updateTaskCount(nt,Ct){const cn=nt._zoneDelegates;-1==Ct&&(nt._zoneDelegates=null);for(let er=0;er<cn.length;er++)cn[er]._updateTaskCount(nt.type,Ct)}}return Pn.__symbol__=ct,Pn})();const Pt={name:"",onHasTask:(Pn,Sn,nt,Ct)=>Pn.hasTask(nt,Ct),onScheduleTask:(Pn,Sn,nt,Ct)=>Pn.scheduleTask(nt,Ct),onInvokeTask:(Pn,Sn,nt,Ct,cn,er)=>Pn.invokeTask(nt,Ct,cn,er),onCancelTask:(Pn,Sn,nt,Ct)=>Pn.cancelTask(nt,Ct)};class ln{constructor(Sn,nt,Ct){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=Sn,this._parentDelegate=nt,this._forkZS=Ct&&(Ct&&Ct.onFork?Ct:nt._forkZS),this._forkDlgt=Ct&&(Ct.onFork?nt:nt._forkDlgt),this._forkCurrZone=Ct&&(Ct.onFork?this.zone:nt._forkCurrZone),this._interceptZS=Ct&&(Ct.onIntercept?Ct:nt._interceptZS),this._interceptDlgt=Ct&&(Ct.onIntercept?nt:nt._interceptDlgt),this._interceptCurrZone=Ct&&(Ct.onIntercept?this.zone:nt._interceptCurrZone),this._invokeZS=Ct&&(Ct.onInvoke?Ct:nt._invokeZS),this._invokeDlgt=Ct&&(Ct.onInvoke?nt:nt._invokeDlgt),this._invokeCurrZone=Ct&&(Ct.onInvoke?this.zone:nt._invokeCurrZone),this._handleErrorZS=Ct&&(Ct.onHandleError?Ct:nt._handleErrorZS),this._handleErrorDlgt=Ct&&(Ct.onHandleError?nt:nt._handleErrorDlgt),this._handleErrorCurrZone=Ct&&(Ct.onHandleError?this.zone:nt._handleErrorCurrZone),this._scheduleTaskZS=Ct&&(Ct.onScheduleTask?Ct:nt._scheduleTaskZS),this._scheduleTaskDlgt=Ct&&(Ct.onScheduleTask?nt:nt._scheduleTaskDlgt),this._scheduleTaskCurrZone=Ct&&(Ct.onScheduleTask?this.zone:nt._scheduleTaskCurrZone),this._invokeTaskZS=Ct&&(Ct.onInvokeTask?Ct:nt._invokeTaskZS),this._invokeTaskDlgt=Ct&&(Ct.onInvokeTask?nt:nt._invokeTaskDlgt),this._invokeTaskCurrZone=Ct&&(Ct.onInvokeTask?this.zone:nt._invokeTaskCurrZone),this._cancelTaskZS=Ct&&(Ct.onCancelTask?Ct:nt._cancelTaskZS),this._cancelTaskDlgt=Ct&&(Ct.onCancelTask?nt:nt._cancelTaskDlgt),this._cancelTaskCurrZone=Ct&&(Ct.onCancelTask?this.zone:nt._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const cn=Ct&&Ct.onHasTask;(cn||nt&&nt._hasTaskZS)&&(this._hasTaskZS=cn?Ct:Pt,this._hasTaskDlgt=nt,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=Sn,Ct.onScheduleTask||(this._scheduleTaskZS=Pt,this._scheduleTaskDlgt=nt,this._scheduleTaskCurrZone=this.zone),Ct.onInvokeTask||(this._invokeTaskZS=Pt,this._invokeTaskDlgt=nt,this._invokeTaskCurrZone=this.zone),Ct.onCancelTask||(this._cancelTaskZS=Pt,this._cancelTaskDlgt=nt,this._cancelTaskCurrZone=this.zone))}fork(Sn,nt){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,Sn,nt):new yt(Sn,nt)}intercept(Sn,nt,Ct){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,Sn,nt,Ct):nt}invoke(Sn,nt,Ct,cn,er){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,Sn,nt,Ct,cn,er):nt.apply(Ct,cn)}handleError(Sn,nt){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,Sn,nt)}scheduleTask(Sn,nt){let Ct=nt;if(this._scheduleTaskZS)this._hasTaskZS&&Ct._zoneDelegates.push(this._hasTaskDlgtOwner),Ct=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,Sn,nt),Ct||(Ct=nt);else if(nt.scheduleFn)nt.scheduleFn(nt);else{if(nt.type!=ut)throw new Error("Task is missing scheduleFn.");Ft(nt)}return Ct}invokeTask(Sn,nt,Ct,cn){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,Sn,nt,Ct,cn):nt.callback.apply(Ct,cn)}cancelTask(Sn,nt){let Ct;if(this._cancelTaskZS)Ct=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,Sn,nt);else{if(!nt.cancelFn)throw Error("Task is not cancelable");Ct=nt.cancelFn(nt)}return Ct}hasTask(Sn,nt){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,Sn,nt)}catch(Ct){this.handleError(Sn,Ct)}}_updateTaskCount(Sn,nt){const Ct=this._taskCounts,cn=Ct[Sn],er=Ct[Sn]=cn+nt;if(er<0)throw new Error("More tasks executed then were scheduled.");0!=cn&&0!=er||this.hasTask(this.zone,{microTask:Ct.microTask>0,macroTask:Ct.macroTask>0,eventTask:Ct.eventTask>0,change:Sn})}}class Wt{constructor(Sn,nt,Ct,cn,er,gr){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=Sn,this.source=nt,this.data=cn,this.scheduleFn=er,this.cancelFn=gr,!Ct)throw new Error("callback is not defined");this.callback=Ct;const Qt=this;this.invoke=Sn===qt&&cn&&cn.useG?Wt.invokeTask:function(){return Wt.invokeTask.call(Fe,Qt,this,arguments)}}static invokeTask(Sn,nt,Ct){Sn||(Sn=this),cr++;try{return Sn.runCount++,Sn.zone.runTask(Sn,nt,Ct)}finally{1==cr&&ft(),cr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(vn,Zn)}_transitionTo(Sn,nt,Ct){if(this._state!==nt&&this._state!==Ct)throw new Error(`${this.type} '${this.source}': can not transition to '${Sn}', expecting state '${nt}'${Ct?" or '"+Ct+"'":""}, was '${this._state}'.`);this._state=Sn,Sn==vn&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const an=ct("setTimeout"),jn=ct("Promise"),hn=ct("then");let nr,Hn=[],Ut=!1;function kn(Pn){if(nr||Fe[jn]&&(nr=Fe[jn].resolve(0)),nr){let Sn=nr[hn];Sn||(Sn=nr.then),Sn.call(nr,Pn)}else Fe[an](Pn,0)}function Ft(Pn){0===cr&&0===Hn.length&&kn(ft),Pn&&Hn.push(Pn)}function ft(){if(!Ut){for(Ut=!0;Hn.length;){const Pn=Hn;Hn=[];for(let Sn=0;Sn<Pn.length;Sn++){const nt=Pn[Sn];try{nt.zone.runTask(nt,null,null)}catch(Ct){qn.onUnhandledError(Ct)}}}qn.microtaskDrainDone(),Ut=!1}}const tn={name:"NO ZONE"},vn="notScheduled",Zn="scheduling",Un="scheduled",Pe="running",De="canceling",be="unknown",ut="microTask",Ye="macroTask",qt="eventTask",Wn={},qn={symbol:ct,currentZoneFrame:()=>sr,onUnhandledError:Tn,microtaskDrainDone:Tn,scheduleMicroTask:Ft,showUncaughtError:()=>!yt[ct("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Tn,patchMethod:()=>Tn,bindArguments:()=>[],patchThen:()=>Tn,patchMacroTask:()=>Tn,patchEventPrototype:()=>Tn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Tn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Tn,wrapWithCurrentZone:()=>Tn,filterProperties:()=>[],attachOriginToPatched:()=>Tn,_redefineProperty:()=>Tn,patchCallbacks:()=>Tn,nativeScheduleMicroTask:kn};let sr={parent:null,zone:new yt(null,null)},ar=null,cr=0;function Tn(){}ae("Zone","Zone"),Fe.Zone=yt}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const pt=Object.getOwnPropertyDescriptor,w=Object.defineProperty,x=Object.getPrototypeOf,p=Object.create,e=Array.prototype.slice,T="addEventListener",N="removeEventListener",O=Zone.__symbol__(T),V=Zone.__symbol__(N),Y="true",J="false",ne=Zone.__symbol__("");function $(Fe,mt){return Zone.current.wrap(Fe,mt)}function re(Fe,mt,Be,ae,ye){return Zone.current.scheduleMacroTask(Fe,mt,Be,ae,ye)}const pe=Zone.__symbol__,dt="undefined"!=typeof window,tt=dt?window:void 0,Qe=dt&&tt||"object"==typeof self&&self||global;function ve(Fe,mt){for(let Be=Fe.length-1;Be>=0;Be--)"function"==typeof Fe[Be]&&(Fe[Be]=$(Fe[Be],mt+"_"+Be));return Fe}function ke(Fe){return!Fe||!1!==Fe.writable&&!("function"==typeof Fe.get&&void 0===Fe.set)}const gt="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,$e=!("nw"in Qe)&&void 0!==Qe.process&&"[object process]"==={}.toString.call(Qe.process),it=!$e&&!gt&&!(!dt||!tt.HTMLElement),Ae=void 0!==Qe.process&&"[object process]"==={}.toString.call(Qe.process)&&!gt&&!(!dt||!tt.HTMLElement),Ke={},Ue=function(Fe){if(!(Fe=Fe||Qe.event))return;let mt=Ke[Fe.type];mt||(mt=Ke[Fe.type]=pe("ON_PROPERTY"+Fe.type));const Be=this||Fe.target||Qe,ae=Be[mt];let ye;if(it&&Be===tt&&"error"===Fe.type){const ct=Fe;ye=ae&&ae.call(this,ct.message,ct.filename,ct.lineno,ct.colno,ct.error),!0===ye&&Fe.preventDefault()}else ye=ae&&ae.apply(this,arguments),null!=ye&&!ye&&Fe.preventDefault();return ye};function Je(Fe,mt,Be){let ae=pt(Fe,mt);if(!ae&&Be&&pt(Be,mt)&&(ae={enumerable:!0,configurable:!0}),!ae||!ae.configurable)return;const ye=pe("on"+mt+"patched");if(Fe.hasOwnProperty(ye)&&Fe[ye])return;delete ae.writable,delete ae.value;const ct=ae.get,lt=ae.set,yt=mt.substr(2);let Pt=Ke[yt];Pt||(Pt=Ke[yt]=pe("ON_PROPERTY"+yt)),ae.set=function(ln){let Wt=this;!Wt&&Fe===Qe&&(Wt=Qe),Wt&&("function"==typeof Wt[Pt]&&Wt.removeEventListener(yt,Ue),lt&&lt.call(Wt,null),Wt[Pt]=ln,"function"==typeof ln&&Wt.addEventListener(yt,Ue,!1))},ae.get=function(){let ln=this;if(!ln&&Fe===Qe&&(ln=Qe),!ln)return null;const Wt=ln[Pt];if(Wt)return Wt;if(ct){let an=ct.call(this);if(an)return ae.set.call(this,an),"function"==typeof ln.removeAttribute&&ln.removeAttribute(mt),an}return null},w(Fe,mt,ae),Fe[ye]=!0}function _e(Fe,mt,Be){if(mt)for(let ae=0;ae<mt.length;ae++)Je(Fe,"on"+mt[ae],Be);else{const ae=[];for(const ye in Fe)"on"==ye.substr(0,2)&&ae.push(ye);for(let ye=0;ye<ae.length;ye++)Je(Fe,ae[ye],Be)}}const ue=pe("originalInstance");function oe(Fe){const mt=Qe[Fe];if(!mt)return;Qe[pe(Fe)]=mt,Qe[Fe]=function(){const ye=ve(arguments,Fe);switch(ye.length){case 0:this[ue]=new mt;break;case 1:this[ue]=new mt(ye[0]);break;case 2:this[ue]=new mt(ye[0],ye[1]);break;case 3:this[ue]=new mt(ye[0],ye[1],ye[2]);break;case 4:this[ue]=new mt(ye[0],ye[1],ye[2],ye[3]);break;default:throw new Error("Arg list too long.")}},Ee(Qe[Fe],mt);const Be=new mt(function(){});let ae;for(ae in Be)"XMLHttpRequest"===Fe&&"responseBlob"===ae||function(ye){"function"==typeof Be[ye]?Qe[Fe].prototype[ye]=function(){return this[ue][ye].apply(this[ue],arguments)}:w(Qe[Fe].prototype,ye,{set:function(ct){"function"==typeof ct?(this[ue][ye]=$(ct,Fe+"."+ye),Ee(this[ue][ye],ct)):this[ue][ye]=ct},get:function(){return this[ue][ye]}})}(ae);for(ae in mt)"prototype"!==ae&&mt.hasOwnProperty(ae)&&(Qe[Fe][ae]=mt[ae])}function Ce(Fe,mt,Be){let ae=Fe;for(;ae&&!ae.hasOwnProperty(mt);)ae=x(ae);!ae&&Fe[mt]&&(ae=Fe);const ye=pe(mt);let ct=null;if(ae&&(!(ct=ae[ye])||!ae.hasOwnProperty(ye))&&(ct=ae[ye]=ae[mt],ke(ae&&pt(ae,mt)))){const yt=Be(ct,ye,mt);ae[mt]=function(){return yt(this,arguments)},Ee(ae[mt],ct)}return ct}function qe(Fe,mt,Be){let ae=null;function ye(ct){const lt=ct.data;return lt.args[lt.cbIdx]=function(){ct.invoke.apply(this,arguments)},ae.apply(lt.target,lt.args),ct}ae=Ce(Fe,mt,ct=>function(lt,yt){const Pt=Be(lt,yt);return Pt.cbIdx>=0&&"function"==typeof yt[Pt.cbIdx]?re(Pt.name,yt[Pt.cbIdx],Pt,ye):ct.apply(lt,yt)})}function Ee(Fe,mt){Fe[pe("OriginalDelegate")]=mt}let xt=!1,Lt=!1;function Nt(){if(xt)return Lt;xt=!0;try{const Fe=tt.navigator.userAgent;(-1!==Fe.indexOf("MSIE ")||-1!==Fe.indexOf("Trident/")||-1!==Fe.indexOf("Edge/"))&&(Lt=!0)}catch(Fe){}return Lt}Zone.__load_patch("ZoneAwarePromise",(Fe,mt,Be)=>{const ae=Object.getOwnPropertyDescriptor,ye=Object.defineProperty,lt=Be.symbol,yt=[],Pt=!0===Fe[lt("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],ln=lt("Promise"),Wt=lt("then");Be.onUnhandledError=Qt=>{if(Be.showUncaughtError()){const sn=Qt&&Qt.rejection;sn?console.error("Unhandled Promise rejection:",sn instanceof Error?sn.message:sn,"; Zone:",Qt.zone.name,"; Task:",Qt.task&&Qt.task.source,"; Value:",sn,sn instanceof Error?sn.stack:void 0):console.error(Qt)}},Be.microtaskDrainDone=()=>{for(;yt.length;){const Qt=yt.shift();try{Qt.zone.runGuarded(()=>{throw Qt.throwOriginal?Qt.rejection:Qt})}catch(sn){hn(sn)}}};const jn=lt("unhandledPromiseRejectionHandler");function hn(Qt){Be.onUnhandledError(Qt);try{const sn=mt[jn];"function"==typeof sn&&sn.call(this,Qt)}catch(sn){}}function Hn(Qt){return Qt&&Qt.then}function Ut(Qt){return Qt}function nr(Qt){return nt.reject(Qt)}const kn=lt("state"),Ft=lt("value"),ft=lt("finally"),tn=lt("parentPromiseValue"),vn=lt("parentPromiseState"),Un=null,De=!1;function ut(Qt,sn){return rt=>{try{qn(Qt,sn,rt)}catch(Rt){qn(Qt,!1,Rt)}}}const Wn=lt("currentTaskTrace");function qn(Qt,sn,rt){const Rt=function(){let Qt=!1;return function(rt){return function(){Qt||(Qt=!0,rt.apply(null,arguments))}}}();if(Qt===rt)throw new TypeError("Promise resolved with itself");if(Qt[kn]===Un){let gn=null;try{("object"==typeof rt||"function"==typeof rt)&&(gn=rt&&rt.then)}catch(xn){return Rt(()=>{qn(Qt,!1,xn)})(),Qt}if(sn!==De&&rt instanceof nt&&rt.hasOwnProperty(kn)&&rt.hasOwnProperty(Ft)&&rt[kn]!==Un)ar(rt),qn(Qt,rt[kn],rt[Ft]);else if(sn!==De&&"function"==typeof gn)try{gn.call(rt,Rt(ut(Qt,sn)),Rt(ut(Qt,!1)))}catch(xn){Rt(()=>{qn(Qt,!1,xn)})()}else{Qt[kn]=sn;const xn=Qt[Ft];if(Qt[Ft]=rt,Qt[ft]===ft&&!0===sn&&(Qt[kn]=Qt[vn],Qt[Ft]=Qt[tn]),sn===De&&rt instanceof Error){const mn=mt.currentTask&&mt.currentTask.data&&mt.currentTask.data.__creationTrace__;mn&&ye(rt,Wn,{configurable:!0,enumerable:!1,writable:!0,value:mn})}for(let mn=0;mn<xn.length;)cr(Qt,xn[mn++],xn[mn++],xn[mn++],xn[mn++]);if(0==xn.length&&sn==De){Qt[kn]=0;let mn=rt;try{throw new Error("Uncaught (in promise): "+function ct(Qt){return Qt&&Qt.toString===Object.prototype.toString?(Qt.constructor&&Qt.constructor.name||"")+": "+JSON.stringify(Qt):Qt?Qt.toString():Object.prototype.toString.call(Qt)}(rt)+(rt&&rt.stack?"\n"+rt.stack:""))}catch(Nn){mn=Nn}Pt&&(mn.throwOriginal=!0),mn.rejection=rt,mn.promise=Qt,mn.zone=mt.current,mn.task=mt.currentTask,yt.push(mn),Be.scheduleMicroTask()}}}return Qt}const sr=lt("rejectionHandledHandler");function ar(Qt){if(0===Qt[kn]){try{const sn=mt[sr];sn&&"function"==typeof sn&&sn.call(this,{rejection:Qt[Ft],promise:Qt})}catch(sn){}Qt[kn]=De;for(let sn=0;sn<yt.length;sn++)Qt===yt[sn].promise&&yt.splice(sn,1)}}function cr(Qt,sn,rt,Rt,gn){ar(Qt);const xn=Qt[kn],mn=xn?"function"==typeof Rt?Rt:Ut:"function"==typeof gn?gn:nr;sn.scheduleMicroTask("Promise.then",()=>{try{const Nn=Qt[Ft],rr=!!rt&&ft===rt[ft];rr&&(rt[tn]=Nn,rt[vn]=xn);const pn=sn.run(mn,void 0,rr&&mn!==nr&&mn!==Ut?[]:[Nn]);qn(rt,!0,pn)}catch(Nn){qn(rt,!1,Nn)}},rt)}const Pn=function(){},Sn=Fe.AggregateError;class nt{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(sn){return qn(new this(null),!0,sn)}static reject(sn){return qn(new this(null),De,sn)}static any(sn){if(!sn||"function"!=typeof sn[Symbol.iterator])return Promise.reject(new Sn([],"All promises were rejected"));const rt=[];let Rt=0;try{for(let mn of sn)Rt++,rt.push(nt.resolve(mn))}catch(mn){return Promise.reject(new Sn([],"All promises were rejected"))}if(0===Rt)return Promise.reject(new Sn([],"All promises were rejected"));let gn=!1;const xn=[];return new nt((mn,Nn)=>{for(let rr=0;rr<rt.length;rr++)rt[rr].then(pn=>{gn||(gn=!0,mn(pn))},pn=>{xn.push(pn),Rt--,0===Rt&&(gn=!0,Nn(new Sn(xn,"All promises were rejected")))})})}static race(sn){let rt,Rt,gn=new this((Nn,rr)=>{rt=Nn,Rt=rr});function xn(Nn){rt(Nn)}function mn(Nn){Rt(Nn)}for(let Nn of sn)Hn(Nn)||(Nn=this.resolve(Nn)),Nn.then(xn,mn);return gn}static all(sn){return nt.allWithCallback(sn)}static allSettled(sn){return(this&&this.prototype instanceof nt?this:nt).allWithCallback(sn,{thenCallback:Rt=>({status:"fulfilled",value:Rt}),errorCallback:Rt=>({status:"rejected",reason:Rt})})}static allWithCallback(sn,rt){let Rt,gn,xn=new this((pn,Gn)=>{Rt=pn,gn=Gn}),mn=2,Nn=0;const rr=[];for(let pn of sn){Hn(pn)||(pn=this.resolve(pn));const Gn=Nn;try{pn.then(Pr=>{rr[Gn]=rt?rt.thenCallback(Pr):Pr,mn--,0===mn&&Rt(rr)},Pr=>{rt?(rr[Gn]=rt.errorCallback(Pr),mn--,0===mn&&Rt(rr)):gn(Pr)})}catch(Pr){gn(Pr)}mn++,Nn++}return mn-=2,0===mn&&Rt(rr),xn}constructor(sn){const rt=this;if(!(rt instanceof nt))throw new Error("Must be an instanceof Promise.");rt[kn]=Un,rt[Ft]=[];try{sn&&sn(ut(rt,!0),ut(rt,De))}catch(Rt){qn(rt,!1,Rt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return nt}then(sn,rt){let Rt=this.constructor[Symbol.species];(!Rt||"function"!=typeof Rt)&&(Rt=this.constructor||nt);const gn=new Rt(Pn),xn=mt.current;return this[kn]==Un?this[Ft].push(xn,gn,sn,rt):cr(this,xn,gn,sn,rt),gn}catch(sn){return this.then(null,sn)}finally(sn){let rt=this.constructor[Symbol.species];(!rt||"function"!=typeof rt)&&(rt=nt);const Rt=new rt(Pn);Rt[ft]=ft;const gn=mt.current;return this[kn]==Un?this[Ft].push(gn,Rt,sn,sn):cr(this,gn,Rt,sn,sn),Rt}}nt.resolve=nt.resolve,nt.reject=nt.reject,nt.race=nt.race,nt.all=nt.all;const Ct=Fe[ln]=Fe.Promise;Fe.Promise=nt;const cn=lt("thenPatched");function er(Qt){const sn=Qt.prototype,rt=ae(sn,"then");if(rt&&(!1===rt.writable||!rt.configurable))return;const Rt=sn.then;sn[Wt]=Rt,Qt.prototype.then=function(gn,xn){return new nt((Nn,rr)=>{Rt.call(this,Nn,rr)}).then(gn,xn)},Qt[cn]=!0}return Be.patchThen=er,Ct&&(er(Ct),Ce(Fe,"fetch",Qt=>function gr(Qt){return function(sn,rt){let Rt=Qt.apply(sn,rt);if(Rt instanceof nt)return Rt;let gn=Rt.constructor;return gn[cn]||er(gn),Rt}}(Qt))),Promise[mt.__symbol__("uncaughtPromiseErrors")]=yt,nt}),Zone.__load_patch("toString",Fe=>{const mt=Function.prototype.toString,Be=pe("OriginalDelegate"),ae=pe("Promise"),ye=pe("Error"),ct=function(){if("function"==typeof this){const ln=this[Be];if(ln)return"function"==typeof ln?mt.call(ln):Object.prototype.toString.call(ln);if(this===Promise){const Wt=Fe[ae];if(Wt)return mt.call(Wt)}if(this===Error){const Wt=Fe[ye];if(Wt)return mt.call(Wt)}}return mt.call(this)};ct[Be]=mt,Function.prototype.toString=ct;const lt=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":lt.call(this)}});let Et=!1;if("undefined"!=typeof window)try{const Fe=Object.defineProperty({},"passive",{get:function(){Et=!0}});window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(Fe){Et=!1}const Zt={useG:!0},yn={},or={},$n=new RegExp("^"+ne+"(\\w+)(true|false)$"),Er=pe("propagationStopped");function yr(Fe,mt){const Be=(mt?mt(Fe):Fe)+J,ae=(mt?mt(Fe):Fe)+Y,ye=ne+Be,ct=ne+ae;yn[Fe]={},yn[Fe][J]=ye,yn[Fe][Y]=ct}function _r(Fe,mt,Be,ae){const ye=ae&&ae.add||T,ct=ae&&ae.rm||N,lt=ae&&ae.listeners||"eventListeners",yt=ae&&ae.rmAll||"removeAllListeners",Pt=pe(ye),ln="."+ye+":",jn=function(Ft,ft,tn){if(Ft.isRemoved)return;const vn=Ft.callback;let Zn;"object"==typeof vn&&vn.handleEvent&&(Ft.callback=Pe=>vn.handleEvent(Pe),Ft.originalDelegate=vn);try{Ft.invoke(Ft,ft,[tn])}catch(Pe){Zn=Pe}const Un=Ft.options;return Un&&"object"==typeof Un&&Un.once&&ft[ct].call(ft,tn.type,Ft.originalDelegate?Ft.originalDelegate:Ft.callback,Un),Zn};function hn(Ft,ft,tn){if(!(ft=ft||Fe.event))return;const vn=Ft||ft.target||Fe,Zn=vn[yn[ft.type][tn?Y:J]];if(Zn){const Un=[];if(1===Zn.length){const Pe=jn(Zn[0],vn,ft);Pe&&Un.push(Pe)}else{const Pe=Zn.slice();for(let De=0;De<Pe.length&&(!ft||!0!==ft[Er]);De++){const be=jn(Pe[De],vn,ft);be&&Un.push(be)}}if(1===Un.length)throw Un[0];for(let Pe=0;Pe<Un.length;Pe++){const De=Un[Pe];mt.nativeScheduleMicroTask(()=>{throw De})}}}const Hn=function(Ft){return hn(this,Ft,!1)},Ut=function(Ft){return hn(this,Ft,!0)};function nr(Ft,ft){if(!Ft)return!1;let tn=!0;ft&&void 0!==ft.useG&&(tn=ft.useG);const vn=ft&&ft.vh;let Zn=!0;ft&&void 0!==ft.chkDup&&(Zn=ft.chkDup);let Un=!1;ft&&void 0!==ft.rt&&(Un=ft.rt);let Pe=Ft;for(;Pe&&!Pe.hasOwnProperty(ye);)Pe=x(Pe);if(!Pe&&Ft[ye]&&(Pe=Ft),!Pe||Pe[Pt])return!1;const De=ft&&ft.eventNameToString,be={},ut=Pe[Pt]=Pe[ye],Ye=Pe[pe(ct)]=Pe[ct],qt=Pe[pe(lt)]=Pe[lt],Wn=Pe[pe(yt)]=Pe[yt];let qn;function sr(rt,Rt){return!Et&&"object"==typeof rt&&rt?!!rt.capture:Et&&Rt?"boolean"==typeof rt?{capture:rt,passive:!0}:rt?"object"==typeof rt&&!1!==rt.passive?Object.assign(Object.assign({},rt),{passive:!0}):rt:{passive:!0}:rt}ft&&ft.prepend&&(qn=Pe[pe(ft.prepend)]=Pe[ft.prepend]);const nt=tn?function(rt){if(!be.isExisting)return ut.call(be.target,be.eventName,be.capture?Ut:Hn,be.options)}:function(rt){return ut.call(be.target,be.eventName,rt.invoke,be.options)},Ct=tn?function(rt){if(!rt.isRemoved){const Rt=yn[rt.eventName];let gn;Rt&&(gn=Rt[rt.capture?Y:J]);const xn=gn&&rt.target[gn];if(xn)for(let mn=0;mn<xn.length;mn++)if(xn[mn]===rt){xn.splice(mn,1),rt.isRemoved=!0,0===xn.length&&(rt.allRemoved=!0,rt.target[gn]=null);break}}if(rt.allRemoved)return Ye.call(rt.target,rt.eventName,rt.capture?Ut:Hn,rt.options)}:function(rt){return Ye.call(rt.target,rt.eventName,rt.invoke,rt.options)},er=ft&&ft.diff?ft.diff:function(rt,Rt){const gn=typeof Rt;return"function"===gn&&rt.callback===Rt||"object"===gn&&rt.originalDelegate===Rt},gr=Zone[pe("UNPATCHED_EVENTS")],Qt=Fe[pe("PASSIVE_EVENTS")],sn=function(rt,Rt,gn,xn,mn=!1,Nn=!1){return function(){const rr=this||Fe;let pn=arguments[0];ft&&ft.transferEventName&&(pn=ft.transferEventName(pn));let Gn=arguments[1];if(!Gn)return rt.apply(this,arguments);if($e&&"uncaughtException"===pn)return rt.apply(this,arguments);let Pr=!1;if("function"!=typeof Gn){if(!Gn.handleEvent)return rt.apply(this,arguments);Pr=!0}if(vn&&!vn(rt,Gn,rr,arguments))return;const tr=Et&&!!Qt&&-1!==Qt.indexOf(pn),Fr=sr(arguments[2],tr);if(gr)for(let Dr=0;Dr<gr.length;Dr++)if(pn===gr[Dr])return tr?rt.call(rr,pn,Gn,Fr):rt.apply(this,arguments);const Ci=!!Fr&&("boolean"==typeof Fr||Fr.capture),eo=!(!Fr||"object"!=typeof Fr)&&Fr.once,zi=Zone.current;let $r=yn[pn];$r||(yr(pn,De),$r=yn[pn]);const $i=$r[Ci?Y:J];let ze,Yr=rr[$i],at=!1;if(Yr){if(at=!0,Zn)for(let Dr=0;Dr<Yr.length;Dr++)if(er(Yr[Dr],Gn))return}else Yr=rr[$i]=[];const bt=rr.constructor.name,Vt=or[bt];Vt&&(ze=Vt[pn]),ze||(ze=bt+Rt+(De?De(pn):pn)),be.options=Fr,eo&&(be.options.once=!1),be.target=rr,be.capture=Ci,be.eventName=pn,be.isExisting=at;const $t=tn?Zt:void 0;$t&&($t.taskData=be);const bn=zi.scheduleEventTask(ze,Gn,$t,gn,xn);return be.target=null,$t&&($t.taskData=null),eo&&(Fr.once=!0),!Et&&"boolean"==typeof bn.options||(bn.options=Fr),bn.target=rr,bn.capture=Ci,bn.eventName=pn,Pr&&(bn.originalDelegate=Gn),Nn?Yr.unshift(bn):Yr.push(bn),mn?rr:void 0}};return Pe[ye]=sn(ut,ln,nt,Ct,Un),qn&&(Pe.prependListener=sn(qn,".prependListener:",function(rt){return qn.call(be.target,be.eventName,rt.invoke,be.options)},Ct,Un,!0)),Pe[ct]=function(){const rt=this||Fe;let Rt=arguments[0];ft&&ft.transferEventName&&(Rt=ft.transferEventName(Rt));const gn=arguments[2],xn=!!gn&&("boolean"==typeof gn||gn.capture),mn=arguments[1];if(!mn)return Ye.apply(this,arguments);if(vn&&!vn(Ye,mn,rt,arguments))return;const Nn=yn[Rt];let rr;Nn&&(rr=Nn[xn?Y:J]);const pn=rr&&rt[rr];if(pn)for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];if(er(Pr,mn))return pn.splice(Gn,1),Pr.isRemoved=!0,0===pn.length&&(Pr.allRemoved=!0,rt[rr]=null,"string"==typeof Rt)&&(rt[ne+"ON_PROPERTY"+Rt]=null),Pr.zone.cancelTask(Pr),Un?rt:void 0}return Ye.apply(this,arguments)},Pe[lt]=function(){const rt=this||Fe;let Rt=arguments[0];ft&&ft.transferEventName&&(Rt=ft.transferEventName(Rt));const gn=[],xn=ii(rt,De?De(Rt):Rt);for(let mn=0;mn<xn.length;mn++){const Nn=xn[mn];gn.push(Nn.originalDelegate?Nn.originalDelegate:Nn.callback)}return gn},Pe[yt]=function(){const rt=this||Fe;let Rt=arguments[0];if(Rt){ft&&ft.transferEventName&&(Rt=ft.transferEventName(Rt));const gn=yn[Rt];if(gn){const Nn=rt[gn[J]],rr=rt[gn[Y]];if(Nn){const pn=Nn.slice();for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];this[ct].call(this,Rt,Pr.originalDelegate?Pr.originalDelegate:Pr.callback,Pr.options)}}if(rr){const pn=rr.slice();for(let Gn=0;Gn<pn.length;Gn++){const Pr=pn[Gn];this[ct].call(this,Rt,Pr.originalDelegate?Pr.originalDelegate:Pr.callback,Pr.options)}}}}else{const gn=Object.keys(rt);for(let xn=0;xn<gn.length;xn++){const Nn=$n.exec(gn[xn]);let rr=Nn&&Nn[1];rr&&"removeListener"!==rr&&this[yt].call(this,rr)}this[yt].call(this,"removeListener")}if(Un)return this},Ee(Pe[ye],ut),Ee(Pe[ct],Ye),Wn&&Ee(Pe[yt],Wn),qt&&Ee(Pe[lt],qt),!0}let kn=[];for(let Ft=0;Ft<Be.length;Ft++)kn[Ft]=nr(Be[Ft],ae);return kn}function ii(Fe,mt){if(!mt){const ct=[];for(let lt in Fe){const yt=$n.exec(lt);let Pt=yt&&yt[1];if(Pt&&(!mt||Pt===mt)){const ln=Fe[lt];if(ln)for(let Wt=0;Wt<ln.length;Wt++)ct.push(ln[Wt])}}return ct}let Be=yn[mt];Be||(yr(mt),Be=yn[mt]);const ae=Fe[Be[J]],ye=Fe[Be[Y]];return ae?ye?ae.concat(ye):ae.slice():ye?ye.slice():[]}function xr(Fe,mt){const Be=Fe.Event;Be&&Be.prototype&&mt.patchMethod(Be.prototype,"stopImmediatePropagation",ae=>function(ye,ct){ye[Er]=!0,ae&&ae.apply(ye,ct)})}function Vr(Fe,mt,Be,ae,ye){const ct=Zone.__symbol__(ae);if(mt[ct])return;const lt=mt[ct]=mt[ae];mt[ae]=function(yt,Pt,ln){return Pt&&Pt.prototype&&ye.forEach(function(Wt){const an=`${Be}.${ae}::`+Wt,jn=Pt.prototype;if(jn.hasOwnProperty(Wt)){const hn=Fe.ObjectGetOwnPropertyDescriptor(jn,Wt);hn&&hn.value?(hn.value=Fe.wrapWithCurrentZone(hn.value,an),Fe._redefineProperty(Pt.prototype,Wt,hn)):jn[Wt]&&(jn[Wt]=Fe.wrapWithCurrentZone(jn[Wt],an))}else jn[Wt]&&(jn[Wt]=Fe.wrapWithCurrentZone(jn[Wt],an))}),lt.call(mt,yt,Pt,ln)},Fe.attachOriginToPatched(mt[ae],lt)}function Pi(Fe,mt,Be){if(!Be||0===Be.length)return mt;const ae=Be.filter(ct=>ct.target===Fe);if(!ae||0===ae.length)return mt;const ye=ae[0].ignoreProperties;return mt.filter(ct=>-1===ye.indexOf(ct))}function Ti(Fe,mt,Be,ae){Fe&&_e(Fe,Pi(Fe,mt,Be),ae)}function Jr(Fe){return Object.getOwnPropertyNames(Fe).filter(mt=>mt.startsWith("on")&&mt.length>2).map(mt=>mt.substring(2))}Zone.__load_patch("util",(Fe,mt,Be)=>{const ae=Jr(Fe);Be.patchOnProperties=_e,Be.patchMethod=Ce,Be.bindArguments=ve,Be.patchMacroTask=qe;const ye=mt.__symbol__("BLACK_LISTED_EVENTS"),ct=mt.__symbol__("UNPATCHED_EVENTS");Fe[ct]&&(Fe[ye]=Fe[ct]),Fe[ye]&&(mt[ye]=mt[ct]=Fe[ye]),Be.patchEventPrototype=xr,Be.patchEventTarget=_r,Be.isIEOrEdge=Nt,Be.ObjectDefineProperty=w,Be.ObjectGetOwnPropertyDescriptor=pt,Be.ObjectCreate=p,Be.ArraySlice=e,Be.patchClass=oe,Be.wrapWithCurrentZone=$,Be.filterProperties=Pi,Be.attachOriginToPatched=Ee,Be._redefineProperty=Object.defineProperty,Be.patchCallbacks=Vr,Be.getGlobalObjects=()=>({globalSources:or,zoneSymbolEventNames:yn,eventNames:ae,isBrowser:it,isMix:Ae,isNode:$e,TRUE_STR:Y,FALSE_STR:J,ZONE_SYMBOL_PREFIX:ne,ADD_EVENT_LISTENER_STR:T,REMOVE_EVENT_LISTENER_STR:N})});const ki=pe("zoneTask");function Bn(Fe,mt,Be,ae){let ye=null,ct=null;Be+=ae;const lt={};function yt(ln){const Wt=ln.data;return Wt.args[0]=function(){return ln.invoke.apply(this,arguments)},Wt.handleId=ye.apply(Fe,Wt.args),ln}function Pt(ln){return ct.call(Fe,ln.data.handleId)}ye=Ce(Fe,mt+=ae,ln=>function(Wt,an){if("function"==typeof an[0]){const jn={isPeriodic:"Interval"===ae,delay:"Timeout"===ae||"Interval"===ae?an[1]||0:void 0,args:an},hn=an[0];an[0]=function(){try{return hn.apply(this,arguments)}finally{jn.isPeriodic||("number"==typeof jn.handleId?delete lt[jn.handleId]:jn.handleId&&(jn.handleId[ki]=null))}};const Hn=re(mt,an[0],jn,yt,Pt);if(!Hn)return Hn;const Ut=Hn.data.handleId;return"number"==typeof Ut?lt[Ut]=Hn:Ut&&(Ut[ki]=Hn),Ut&&Ut.ref&&Ut.unref&&"function"==typeof Ut.ref&&"function"==typeof Ut.unref&&(Hn.ref=Ut.ref.bind(Ut),Hn.unref=Ut.unref.bind(Ut)),"number"==typeof Ut||Ut?Ut:Hn}return ln.apply(Fe,an)}),ct=Ce(Fe,Be,ln=>function(Wt,an){const jn=an[0];let hn;"number"==typeof jn?hn=lt[jn]:(hn=jn&&jn[ki],hn||(hn=jn)),hn&&"string"==typeof hn.type?"notScheduled"!==hn.state&&(hn.cancelFn&&hn.data.isPeriodic||0===hn.runCount)&&("number"==typeof jn?delete lt[jn]:jn&&(jn[ki]=null),hn.zone.cancelTask(hn)):ln.apply(Fe,an)})}Zone.__load_patch("legacy",Fe=>{const mt=Fe[Zone.__symbol__("legacyPatch")];mt&&mt()}),Zone.__load_patch("queueMicrotask",(Fe,mt,Be)=>{Be.patchMethod(Fe,"queueMicrotask",ae=>function(ye,ct){mt.current.scheduleMicroTask("queueMicrotask",ct[0])})}),Zone.__load_patch("timers",Fe=>{const Be="clear";Bn(Fe,"set",Be,"Timeout"),Bn(Fe,"set",Be,"Interval"),Bn(Fe,"set",Be,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Fe=>{Bn(Fe,"request","cancel","AnimationFrame"),Bn(Fe,"mozRequest","mozCancel","AnimationFrame"),Bn(Fe,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Fe,mt)=>{const Be=["alert","prompt","confirm"];for(let ae=0;ae<Be.length;ae++)Ce(Fe,Be[ae],(ct,lt,yt)=>function(Pt,ln){return mt.current.run(ct,Fe,ln,yt)})}),Zone.__load_patch("EventTarget",(Fe,mt,Be)=>{(function ei(Fe,mt){mt.patchEventPrototype(Fe,mt)})(Fe,Be),function oi(Fe,mt){if(Zone[mt.symbol("patchEventTarget")])return;const{eventNames:Be,zoneSymbolEventNames:ae,TRUE_STR:ye,FALSE_STR:ct,ZONE_SYMBOL_PREFIX:lt}=mt.getGlobalObjects();for(let Pt=0;Pt<Be.length;Pt++){const ln=Be[Pt],jn=lt+(ln+ct),hn=lt+(ln+ye);ae[ln]={},ae[ln][ct]=jn,ae[ln][ye]=hn}const yt=Fe.EventTarget;yt&&yt.prototype&&mt.patchEventTarget(Fe,mt,[yt&&yt.prototype])}(Fe,Be);const ae=Fe.XMLHttpRequestEventTarget;ae&&ae.prototype&&Be.patchEventTarget(Fe,Be,[ae.prototype])}),Zone.__load_patch("MutationObserver",(Fe,mt,Be)=>{oe("MutationObserver"),oe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Fe,mt,Be)=>{oe("IntersectionObserver")}),Zone.__load_patch("FileReader",(Fe,mt,Be)=>{oe("FileReader")}),Zone.__load_patch("on_property",(Fe,mt,Be)=>{!function qr(Fe,mt){if($e&&!Ae||Zone[Fe.symbol("patchEvents")])return;const Be=mt.__Zone_ignore_on_properties;let ae=[];if(it){const ye=window;ae=ae.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const ct=function An(){try{const Fe=tt.navigator.userAgent;if(-1!==Fe.indexOf("MSIE ")||-1!==Fe.indexOf("Trident/"))return!0}catch(Fe){}return!1}()?[{target:ye,ignoreProperties:["error"]}]:[];Ti(ye,Jr(ye),Be&&Be.concat(ct),x(ye))}ae=ae.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let ye=0;ye<ae.length;ye++){const ct=mt[ae[ye]];ct&&ct.prototype&&Ti(ct.prototype,Jr(ct.prototype),Be)}}(Be,Fe)}),Zone.__load_patch("customElements",(Fe,mt,Be)=>{!function qi(Fe,mt){const{isBrowser:Be,isMix:ae}=mt.getGlobalObjects();(Be||ae)&&Fe.customElements&&"customElements"in Fe&&mt.patchCallbacks(mt,Fe.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Fe,Be)}),Zone.__load_patch("XHR",(Fe,mt)=>{!function Pt(ln){const Wt=ln.XMLHttpRequest;if(!Wt)return;const an=Wt.prototype;let hn=an[O],Hn=an[V];if(!hn){const be=ln.XMLHttpRequestEventTarget;if(be){const ut=be.prototype;hn=ut[O],Hn=ut[V]}}const Ut="readystatechange",nr="scheduled";function kn(be){const ut=be.data,Ye=ut.target;Ye[ct]=!1,Ye[yt]=!1;const qt=Ye[ye];hn||(hn=Ye[O],Hn=Ye[V]),qt&&Hn.call(Ye,Ut,qt);const Wn=Ye[ye]=()=>{if(Ye.readyState===Ye.DONE)if(!ut.aborted&&Ye[ct]&&be.state===nr){const sr=Ye[mt.__symbol__("loadfalse")];if(0!==Ye.status&&sr&&sr.length>0){const ar=be.invoke;be.invoke=function(){const cr=Ye[mt.__symbol__("loadfalse")];for(let Tn=0;Tn<cr.length;Tn++)cr[Tn]===be&&cr.splice(Tn,1);!ut.aborted&&be.state===nr&&ar.call(be)},sr.push(be)}else be.invoke()}else!ut.aborted&&!1===Ye[ct]&&(Ye[yt]=!0)};return hn.call(Ye,Ut,Wn),Ye[Be]||(Ye[Be]=be),Pe.apply(Ye,ut.args),Ye[ct]=!0,be}function Ft(){}function ft(be){const ut=be.data;return ut.aborted=!0,De.apply(ut.target,ut.args)}const tn=Ce(an,"open",()=>function(be,ut){return be[ae]=0==ut[2],be[lt]=ut[1],tn.apply(be,ut)}),Zn=pe("fetchTaskAborting"),Un=pe("fetchTaskScheduling"),Pe=Ce(an,"send",()=>function(be,ut){if(!0===mt.current[Un]||be[ae])return Pe.apply(be,ut);{const Ye={target:be,url:be[lt],isPeriodic:!1,args:ut,aborted:!1},qt=re("XMLHttpRequest.send",Ft,Ye,kn,ft);be&&!0===be[yt]&&!Ye.aborted&&qt.state===nr&&qt.invoke()}}),De=Ce(an,"abort",()=>function(be,ut){const Ye=function jn(be){return be[Be]}(be);if(Ye&&"string"==typeof Ye.type){if(null==Ye.cancelFn||Ye.data&&Ye.data.aborted)return;Ye.zone.cancelTask(Ye)}else if(!0===mt.current[Zn])return De.apply(be,ut)})}(Fe);const Be=pe("xhrTask"),ae=pe("xhrSync"),ye=pe("xhrListener"),ct=pe("xhrScheduled"),lt=pe("xhrURL"),yt=pe("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Fe=>{Fe.navigator&&Fe.navigator.geolocation&&function je(Fe,mt){const Be=Fe.constructor.name;for(let ae=0;ae<mt.length;ae++){const ye=mt[ae],ct=Fe[ye];if(ct){if(!ke(pt(Fe,ye)))continue;Fe[ye]=(yt=>{const Pt=function(){return yt.apply(this,ve(arguments,Be+"."+ye))};return Ee(Pt,yt),Pt})(ct)}}}(Fe.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Fe,mt)=>{function Be(ae){return function(ye){ii(Fe,ae).forEach(lt=>{const yt=Fe.PromiseRejectionEvent;if(yt){const Pt=new yt(ae,{promise:ye.promise,reason:ye.rejection});lt.invoke(Pt)}})}}Fe.PromiseRejectionEvent&&(mt[pe("unhandledPromiseRejectionHandler")]=Be("unhandledrejection"),mt[pe("rejectionHandledHandler")]=Be("rejectionhandled"))})},655:(pt,w,x)=>{"use strict";function N(_e,ue){var oe={};for(var Ce in _e)Object.prototype.hasOwnProperty.call(_e,Ce)&&ue.indexOf(Ce)<0&&(oe[Ce]=_e[Ce]);if(null!=_e&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(Ce=Object.getOwnPropertySymbols(_e);qe<Ce.length;qe++)ue.indexOf(Ce[qe])<0&&Object.prototype.propertyIsEnumerable.call(_e,Ce[qe])&&(oe[Ce[qe]]=_e[Ce[qe]])}return oe}function J(_e,ue,oe,Ce){return new(oe||(oe=Promise))(function(Ee,xt){function Lt(Et){try{Nt(Ce.next(Et))}catch(Zt){xt(Zt)}}function An(Et){try{Nt(Ce.throw(Et))}catch(Zt){xt(Zt)}}function Nt(Et){Et.done?Ee(Et.value):function qe(Ee){return Ee instanceof oe?Ee:new oe(function(xt){xt(Ee)})}(Et.value).then(Lt,An)}Nt((Ce=Ce.apply(_e,ue||[])).next())})}function ve(_e){return this instanceof ve?(this.v=_e,this):new ve(_e)}function je(_e,ue,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,Ce=oe.apply(_e,ue||[]),Ee=[];return qe={},xt("next"),xt("throw"),xt("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function xt(yn){Ce[yn]&&(qe[yn]=function(or){return new Promise(function($n,Er){Ee.push([yn,or,$n,Er])>1||Lt(yn,or)})})}function Lt(yn,or){try{!function An(yn){yn.value instanceof ve?Promise.resolve(yn.value.v).then(Nt,Et):Zt(Ee[0][2],yn)}(Ce[yn](or))}catch($n){Zt(Ee[0][3],$n)}}function Nt(yn){Lt("next",yn)}function Et(yn){Lt("throw",yn)}function Zt(yn,or){yn(or),Ee.shift(),Ee.length&&Lt(Ee[0][0],Ee[0][1])}}function gt(_e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,ue=_e[Symbol.asyncIterator];return ue?ue.call(_e):(_e=function pe(_e){var ue="function"==typeof Symbol&&Symbol.iterator,oe=ue&&_e[ue],Ce=0;if(oe)return oe.call(_e);if(_e&&"number"==typeof _e.length)return{next:function(){return _e&&Ce>=_e.length&&(_e=void 0),{value:_e&&_e[Ce++],done:!_e}}};throw new TypeError(ue?"Object is not iterable.":"Symbol.iterator is not defined.")}(_e),oe={},Ce("next"),Ce("throw"),Ce("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function Ce(Ee){oe[Ee]=_e[Ee]&&function(xt){return new Promise(function(Lt,An){!function qe(Ee,xt,Lt,An){Promise.resolve(An).then(function(Nt){Ee({value:Nt,done:Lt})},xt)}(Lt,An,(xt=_e[Ee](xt)).done,xt.value)})}}}x.d(w,{FC:()=>je,KL:()=>gt,_T:()=>N,mG:()=>J,qq:()=>ve})},9808:(pt,w,x)=>{"use strict";x.d(w,{Do:()=>$e,EM:()=>hr,HT:()=>O,JF:()=>Hr,JJ:()=>R,K0:()=>Y,Mx:()=>Fr,NF:()=>St,O5:()=>at,PM:()=>un,S$:()=>ve,Ts:()=>co,V_:()=>$,Ye:()=>it,b0:()=>gt,bD:()=>ht,ez:()=>Le,lw:()=>J,mk:()=>Ci,mr:()=>ke,q:()=>T,qS:()=>tr,sg:()=>$r,tP:()=>ji,uU:()=>Yo,w_:()=>V});var p=x(5e3);let e=null;function T(){return e}function O(H){e||(e=H)}class V{}const Y=new p.OlP("DocumentToken");let J=(()=>{class H{historyGo(j){throw new Error("Not implemented")}}return H.\u0275fac=function(j){return new(j||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function ne(){return(0,p.LFG)(re)}()},providedIn:"platform"}),H})();const $=new p.OlP("Location Initialized");let re=(()=>{class H extends J{constructor(j){super(),this._doc=j,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return T().getBaseHref(this._doc)}onPopState(j){const ge=T().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("popstate",j,!1),()=>ge.removeEventListener("popstate",j)}onHashChange(j){const ge=T().getGlobalEventTarget(this._doc,"window");return ge.addEventListener("hashchange",j,!1),()=>ge.removeEventListener("hashchange",j)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(j){this.location.pathname=j}pushState(j,ge,Xe){pe()?this._history.pushState(j,ge,Xe):this.location.hash=Xe}replaceState(j,ge,Xe){pe()?this._history.replaceState(j,ge,Xe):this.location.hash=Xe}forward(){this._history.forward()}back(){this._history.back()}historyGo(j=0){this._history.go(j)}getState(){return this._history.state}}return H.\u0275fac=function(j){return new(j||H)(p.LFG(Y))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function dt(){return new re((0,p.LFG)(Y))}()},providedIn:"platform"}),H})();function pe(){return!!window.history.pushState}function tt(H,ce){if(0==H.length)return ce;if(0==ce.length)return H;let j=0;return H.endsWith("/")&&j++,ce.startsWith("/")&&j++,2==j?H+ce.substring(1):1==j?H+ce:H+"/"+ce}function Qe(H){const ce=H.match(/#|\?|$/),j=ce&&ce.index||H.length;return H.slice(0,j-("/"===H[j-1]?1:0))+H.slice(j)}function vt(H){return H&&"?"!==H[0]?"?"+H:H}let ve=(()=>{class H{historyGo(j){throw new Error("Not implemented")}}return H.\u0275fac=function(j){return new(j||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function je(H){const ce=(0,p.LFG)(Y).location;return new gt((0,p.LFG)(J),ce&&ce.origin||"")}()},providedIn:"root"}),H})();const ke=new p.OlP("appBaseHref");let gt=(()=>{class H extends ve{constructor(j,ge){if(super(),this._platformLocation=j,this._removeListenerFns=[],null==ge&&(ge=this._platformLocation.getBaseHrefFromDOM()),null==ge)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=ge}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}prepareExternalUrl(j){return tt(this._baseHref,j)}path(j=!1){const ge=this._platformLocation.pathname+vt(this._platformLocation.search),Xe=this._platformLocation.hash;return Xe&&j?`${ge}${Xe}`:ge}pushState(j,ge,Xe,Mt){const zt=this.prepareExternalUrl(Xe+vt(Mt));this._platformLocation.pushState(j,ge,zt)}replaceState(j,ge,Xe,Mt){const zt=this.prepareExternalUrl(Xe+vt(Mt));this._platformLocation.replaceState(j,ge,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ge,Xe;null===(Xe=(ge=this._platformLocation).historyGo)||void 0===Xe||Xe.call(ge,j)}}return H.\u0275fac=function(j){return new(j||H)(p.LFG(J),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),$e=(()=>{class H extends ve{constructor(j,ge){super(),this._platformLocation=j,this._baseHref="",this._removeListenerFns=[],null!=ge&&(this._baseHref=ge)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(j){this._removeListenerFns.push(this._platformLocation.onPopState(j),this._platformLocation.onHashChange(j))}getBaseHref(){return this._baseHref}path(j=!1){let ge=this._platformLocation.hash;return null==ge&&(ge="#"),ge.length>0?ge.substring(1):ge}prepareExternalUrl(j){const ge=tt(this._baseHref,j);return ge.length>0?"#"+ge:ge}pushState(j,ge,Xe,Mt){let zt=this.prepareExternalUrl(Xe+vt(Mt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.pushState(j,ge,zt)}replaceState(j,ge,Xe,Mt){let zt=this.prepareExternalUrl(Xe+vt(Mt));0==zt.length&&(zt=this._platformLocation.pathname),this._platformLocation.replaceState(j,ge,zt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(j=0){var ge,Xe;null===(Xe=(ge=this._platformLocation).historyGo)||void 0===Xe||Xe.call(ge,j)}}return H.\u0275fac=function(j){return new(j||H)(p.LFG(J),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),it=(()=>{class H{constructor(j,ge){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=j;const Xe=this._platformStrategy.getBaseHref();this._platformLocation=ge,this._baseHref=Qe(Ue(Xe)),this._platformStrategy.onPopState(Mt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mt.state,type:Mt.type})})}path(j=!1){return this.normalize(this._platformStrategy.path(j))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(j,ge=""){return this.path()==this.normalize(j+vt(ge))}normalize(j){return H.stripTrailingSlash(function Ke(H,ce){return H&&ce.startsWith(H)?ce.substring(H.length):ce}(this._baseHref,Ue(j)))}prepareExternalUrl(j){return j&&"/"!==j[0]&&(j="/"+j),this._platformStrategy.prepareExternalUrl(j)}go(j,ge="",Xe=null){this._platformStrategy.pushState(Xe,"",j,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+vt(ge)),Xe)}replaceState(j,ge="",Xe=null){this._platformStrategy.replaceState(Xe,"",j,ge),this._notifyUrlChangeListeners(this.prepareExternalUrl(j+vt(ge)),Xe)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(j=0){var ge,Xe;null===(Xe=(ge=this._platformStrategy).historyGo)||void 0===Xe||Xe.call(ge,j)}onUrlChange(j){this._urlChangeListeners.push(j),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(ge=>{this._notifyUrlChangeListeners(ge.url,ge.state)}))}_notifyUrlChangeListeners(j="",ge){this._urlChangeListeners.forEach(Xe=>Xe(j,ge))}subscribe(j,ge,Xe){return this._subject.subscribe({next:j,error:ge,complete:Xe})}}return H.normalizeQueryParams=vt,H.joinWithSlash=tt,H.stripTrailingSlash=Qe,H.\u0275fac=function(j){return new(j||H)(p.LFG(ve),p.LFG(J))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function Ae(){return new it((0,p.LFG)(ve),(0,p.LFG)(J))}()},providedIn:"root"}),H})();function Ue(H){return H.replace(/\/index.html$/,"")}var _e=(()=>((_e=_e||{})[_e.Decimal=0]="Decimal",_e[_e.Percent=1]="Percent",_e[_e.Currency=2]="Currency",_e[_e.Scientific=3]="Scientific",_e))(),oe=(()=>((oe=oe||{})[oe.Format=0]="Format",oe[oe.Standalone=1]="Standalone",oe))(),Ce=(()=>((Ce=Ce||{})[Ce.Narrow=0]="Narrow",Ce[Ce.Abbreviated=1]="Abbreviated",Ce[Ce.Wide=2]="Wide",Ce[Ce.Short=3]="Short",Ce))(),qe=(()=>((qe=qe||{})[qe.Short=0]="Short",qe[qe.Medium=1]="Medium",qe[qe.Long=2]="Long",qe[qe.Full=3]="Full",qe))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function $n(H,ce){return oi((0,p.cg1)(H)[p.wAp.DateFormat],ce)}function Er(H,ce){return oi((0,p.cg1)(H)[p.wAp.TimeFormat],ce)}function yr(H,ce){return oi((0,p.cg1)(H)[p.wAp.DateTimeFormat],ce)}function _r(H,ce){const j=(0,p.cg1)(H),ge=j[p.wAp.NumberSymbols][ce];if(void 0===ge){if(ce===Ee.CurrencyDecimal)return j[p.wAp.NumberSymbols][Ee.Decimal];if(ce===Ee.CurrencyGroup)return j[p.wAp.NumberSymbols][Ee.Group]}return ge}function qr(H){if(!H[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${H[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function oi(H,ce){for(let j=ce;j>-1;j--)if(void 0!==H[j])return H[j];throw new Error("Locale data API: locale data undefined")}function ei(H){const[ce,j]=H.split(":");return{hours:+ce,minutes:+j}}const ae=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ye={},ct=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var lt=(()=>((lt=lt||{})[lt.Short=0]="Short",lt[lt.ShortGMT=1]="ShortGMT",lt[lt.Long=2]="Long",lt[lt.Extended=3]="Extended",lt))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Pt=(()=>((Pt=Pt||{})[Pt.DayPeriods=0]="DayPeriods",Pt[Pt.Days=1]="Days",Pt[Pt.Months=2]="Months",Pt[Pt.Eras=3]="Eras",Pt))();function ln(H,ce,j,ge){let Xe=function qn(H){if(ar(H))return H;if("number"==typeof H&&!isNaN(H))return new Date(H);if("string"==typeof H){if(H=H.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(H)){const[Xe,Mt=1,zt=1]=H.split("-").map(En=>+En);return Wt(Xe,Mt-1,zt)}const j=parseFloat(H);if(!isNaN(H-j))return new Date(j);let ge;if(ge=H.match(ae))return function sr(H){const ce=new Date(0);let j=0,ge=0;const Xe=H[8]?ce.setUTCFullYear:ce.setFullYear,Mt=H[8]?ce.setUTCHours:ce.setHours;H[9]&&(j=Number(H[9]+H[10]),ge=Number(H[9]+H[11])),Xe.call(ce,Number(H[1]),Number(H[2])-1,Number(H[3]));const zt=Number(H[4]||0)-j,En=Number(H[5]||0)-ge,si=Number(H[6]||0),Br=Math.floor(1e3*parseFloat("0."+(H[7]||0)));return Mt.call(ce,zt,En,si,Br),ce}(ge)}const ce=new Date(H);if(!ar(ce))throw new Error(`Unable to convert "${H}" into a date`);return ce}(H);ce=an(j,ce)||ce;let En,zt=[];for(;ce;){if(En=ct.exec(ce),!En){zt.push(ce);break}{zt=zt.concat(En.slice(1));const Ur=zt.pop();if(!Ur)break;ce=Ur}}let si=Xe.getTimezoneOffset();ge&&(si=Ye(ge,si),Xe=function Wn(H,ce,j){const ge=j?-1:1,Xe=H.getTimezoneOffset();return function qt(H,ce){return(H=new Date(H.getTime())).setMinutes(H.getMinutes()+ce),H}(H,ge*(Ye(ce,Xe)-Xe))}(Xe,ge,!0));let Br="";return zt.forEach(Ur=>{const Rr=function ut(H){if(be[H])return be[H];let ce;switch(H){case"G":case"GG":case"GGG":ce=kn(Pt.Eras,Ce.Abbreviated);break;case"GGGG":ce=kn(Pt.Eras,Ce.Wide);break;case"GGGGG":ce=kn(Pt.Eras,Ce.Narrow);break;case"y":ce=Ut(yt.FullYear,1,0,!1,!0);break;case"yy":ce=Ut(yt.FullYear,2,0,!0,!0);break;case"yyy":ce=Ut(yt.FullYear,3,0,!1,!0);break;case"yyyy":ce=Ut(yt.FullYear,4,0,!1,!0);break;case"Y":ce=De(1);break;case"YY":ce=De(2,!0);break;case"YYY":ce=De(3);break;case"YYYY":ce=De(4);break;case"M":case"L":ce=Ut(yt.Month,1,1);break;case"MM":case"LL":ce=Ut(yt.Month,2,1);break;case"MMM":ce=kn(Pt.Months,Ce.Abbreviated);break;case"MMMM":ce=kn(Pt.Months,Ce.Wide);break;case"MMMMM":ce=kn(Pt.Months,Ce.Narrow);break;case"LLL":ce=kn(Pt.Months,Ce.Abbreviated,oe.Standalone);break;case"LLLL":ce=kn(Pt.Months,Ce.Wide,oe.Standalone);break;case"LLLLL":ce=kn(Pt.Months,Ce.Narrow,oe.Standalone);break;case"w":ce=Pe(1);break;case"ww":ce=Pe(2);break;case"W":ce=Pe(1,!0);break;case"d":ce=Ut(yt.Date,1);break;case"dd":ce=Ut(yt.Date,2);break;case"c":case"cc":ce=Ut(yt.Day,1);break;case"ccc":ce=kn(Pt.Days,Ce.Abbreviated,oe.Standalone);break;case"cccc":ce=kn(Pt.Days,Ce.Wide,oe.Standalone);break;case"ccccc":ce=kn(Pt.Days,Ce.Narrow,oe.Standalone);break;case"cccccc":ce=kn(Pt.Days,Ce.Short,oe.Standalone);break;case"E":case"EE":case"EEE":ce=kn(Pt.Days,Ce.Abbreviated);break;case"EEEE":ce=kn(Pt.Days,Ce.Wide);break;case"EEEEE":ce=kn(Pt.Days,Ce.Narrow);break;case"EEEEEE":ce=kn(Pt.Days,Ce.Short);break;case"a":case"aa":case"aaa":ce=kn(Pt.DayPeriods,Ce.Abbreviated);break;case"aaaa":ce=kn(Pt.DayPeriods,Ce.Wide);break;case"aaaaa":ce=kn(Pt.DayPeriods,Ce.Narrow);break;case"b":case"bb":case"bbb":ce=kn(Pt.DayPeriods,Ce.Abbreviated,oe.Standalone,!0);break;case"bbbb":ce=kn(Pt.DayPeriods,Ce.Wide,oe.Standalone,!0);break;case"bbbbb":ce=kn(Pt.DayPeriods,Ce.Narrow,oe.Standalone,!0);break;case"B":case"BB":case"BBB":ce=kn(Pt.DayPeriods,Ce.Abbreviated,oe.Format,!0);break;case"BBBB":ce=kn(Pt.DayPeriods,Ce.Wide,oe.Format,!0);break;case"BBBBB":ce=kn(Pt.DayPeriods,Ce.Narrow,oe.Format,!0);break;case"h":ce=Ut(yt.Hours,1,-12);break;case"hh":ce=Ut(yt.Hours,2,-12);break;case"H":ce=Ut(yt.Hours,1);break;case"HH":ce=Ut(yt.Hours,2);break;case"m":ce=Ut(yt.Minutes,1);break;case"mm":ce=Ut(yt.Minutes,2);break;case"s":ce=Ut(yt.Seconds,1);break;case"ss":ce=Ut(yt.Seconds,2);break;case"S":ce=Ut(yt.FractionalSeconds,1);break;case"SS":ce=Ut(yt.FractionalSeconds,2);break;case"SSS":ce=Ut(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":ce=ft(lt.Short);break;case"ZZZZZ":ce=ft(lt.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":ce=ft(lt.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":ce=ft(lt.Long);break;default:return null}return be[H]=ce,ce}(Ur);Br+=Rr?Rr(Xe,j,si):"''"===Ur?"'":Ur.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Br}function Wt(H,ce,j){const ge=new Date(0);return ge.setFullYear(H,ce,j),ge.setHours(0,0,0),ge}function an(H,ce){const j=function Lt(H){return(0,p.cg1)(H)[p.wAp.LocaleId]}(H);if(ye[j]=ye[j]||{},ye[j][ce])return ye[j][ce];let ge="";switch(ce){case"shortDate":ge=$n(H,qe.Short);break;case"mediumDate":ge=$n(H,qe.Medium);break;case"longDate":ge=$n(H,qe.Long);break;case"fullDate":ge=$n(H,qe.Full);break;case"shortTime":ge=Er(H,qe.Short);break;case"mediumTime":ge=Er(H,qe.Medium);break;case"longTime":ge=Er(H,qe.Long);break;case"fullTime":ge=Er(H,qe.Full);break;case"short":const Xe=an(H,"shortTime"),Mt=an(H,"shortDate");ge=jn(yr(H,qe.Short),[Xe,Mt]);break;case"medium":const zt=an(H,"mediumTime"),En=an(H,"mediumDate");ge=jn(yr(H,qe.Medium),[zt,En]);break;case"long":const si=an(H,"longTime"),Br=an(H,"longDate");ge=jn(yr(H,qe.Long),[si,Br]);break;case"full":const Ur=an(H,"fullTime"),Rr=an(H,"fullDate");ge=jn(yr(H,qe.Full),[Ur,Rr])}return ge&&(ye[j][ce]=ge),ge}function jn(H,ce){return ce&&(H=H.replace(/\{([^}]+)}/g,function(j,ge){return null!=ce&&ge in ce?ce[ge]:j})),H}function hn(H,ce,j="-",ge,Xe){let Mt="";(H<0||Xe&&H<=0)&&(Xe?H=1-H:(H=-H,Mt=j));let zt=String(H);for(;zt.length<ce;)zt="0"+zt;return ge&&(zt=zt.substr(zt.length-ce)),Mt+zt}function Ut(H,ce,j=0,ge=!1,Xe=!1){return function(Mt,zt){let En=function nr(H,ce){switch(H){case yt.FullYear:return ce.getFullYear();case yt.Month:return ce.getMonth();case yt.Date:return ce.getDate();case yt.Hours:return ce.getHours();case yt.Minutes:return ce.getMinutes();case yt.Seconds:return ce.getSeconds();case yt.FractionalSeconds:return ce.getMilliseconds();case yt.Day:return ce.getDay();default:throw new Error(`Unknown DateType value "${H}".`)}}(H,Mt);if((j>0||En>-j)&&(En+=j),H===yt.Hours)0===En&&-12===j&&(En=12);else if(H===yt.FractionalSeconds)return function Hn(H,ce){return hn(H,3).substr(0,ce)}(En,ce);const si=_r(zt,Ee.MinusSign);return hn(En,ce,si,ge,Xe)}}function kn(H,ce,j=oe.Format,ge=!1){return function(Xe,Mt){return function Ft(H,ce,j,ge,Xe,Mt){switch(j){case Pt.Months:return function Et(H,ce,j){const ge=(0,p.cg1)(H),Mt=oi([ge[p.wAp.MonthsFormat],ge[p.wAp.MonthsStandalone]],ce);return oi(Mt,j)}(ce,Xe,ge)[H.getMonth()];case Pt.Days:return function Nt(H,ce,j){const ge=(0,p.cg1)(H),Mt=oi([ge[p.wAp.DaysFormat],ge[p.wAp.DaysStandalone]],ce);return oi(Mt,j)}(ce,Xe,ge)[H.getDay()];case Pt.DayPeriods:const zt=H.getHours(),En=H.getMinutes();if(Mt){const Br=function ki(H){const ce=(0,p.cg1)(H);return qr(ce),(ce[p.wAp.ExtraData][2]||[]).map(ge=>"string"==typeof ge?ei(ge):[ei(ge[0]),ei(ge[1])])}(ce),Ur=function Bn(H,ce,j){const ge=(0,p.cg1)(H);qr(ge);const Mt=oi([ge[p.wAp.ExtraData][0],ge[p.wAp.ExtraData][1]],ce)||[];return oi(Mt,j)||[]}(ce,Xe,ge),Rr=Br.findIndex(xi=>{if(Array.isArray(xi)){const[ai,ci]=xi,ko=zt>=ai.hours&&En>=ai.minutes,Vo=zt<ci.hours||zt===ci.hours&&En<ci.minutes;if(ai.hours<ci.hours){if(ko&&Vo)return!0}else if(ko||Vo)return!0}else if(xi.hours===zt&&xi.minutes===En)return!0;return!1});if(-1!==Rr)return Ur[Rr]}return function An(H,ce,j){const ge=(0,p.cg1)(H),Mt=oi([ge[p.wAp.DayPeriodsFormat],ge[p.wAp.DayPeriodsStandalone]],ce);return oi(Mt,j)}(ce,Xe,ge)[zt<12?0:1];case Pt.Eras:return function Zt(H,ce){return oi((0,p.cg1)(H)[p.wAp.Eras],ce)}(ce,ge)[H.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${j}`)}}(Xe,Mt,H,ce,j,ge)}}function ft(H){return function(ce,j,ge){const Xe=-1*ge,Mt=_r(j,Ee.MinusSign),zt=Xe>0?Math.floor(Xe/60):Math.ceil(Xe/60);switch(H){case lt.Short:return(Xe>=0?"+":"")+hn(zt,2,Mt)+hn(Math.abs(Xe%60),2,Mt);case lt.ShortGMT:return"GMT"+(Xe>=0?"+":"")+hn(zt,1,Mt);case lt.Long:return"GMT"+(Xe>=0?"+":"")+hn(zt,2,Mt)+":"+hn(Math.abs(Xe%60),2,Mt);case lt.Extended:return 0===ge?"Z":(Xe>=0?"+":"")+hn(zt,2,Mt)+":"+hn(Math.abs(Xe%60),2,Mt);default:throw new Error(`Unknown zone width "${H}"`)}}}function Un(H){return Wt(H.getFullYear(),H.getMonth(),H.getDate()+(4-H.getDay()))}function Pe(H,ce=!1){return function(j,ge){let Xe;if(ce){const Mt=new Date(j.getFullYear(),j.getMonth(),1).getDay()-1,zt=j.getDate();Xe=1+Math.floor((zt+Mt)/7)}else{const Mt=Un(j),zt=function Zn(H){const ce=Wt(H,0,1).getDay();return Wt(H,0,1+(ce<=4?4:11)-ce)}(Mt.getFullYear()),En=Mt.getTime()-zt.getTime();Xe=1+Math.round(En/6048e5)}return hn(Xe,H,_r(ge,Ee.MinusSign))}}function De(H,ce=!1){return function(j,ge){return hn(Un(j).getFullYear(),H,_r(ge,Ee.MinusSign),ce)}}const be={};function Ye(H,ce){H=H.replace(/:/g,"");const j=Date.parse("Jan 01, 1970 00:00:00 "+H)/6e4;return isNaN(j)?ce:j}function ar(H){return H instanceof Date&&!isNaN(H.valueOf())}const cr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function rr(H){const ce=parseInt(H);if(isNaN(ce))throw new Error("Invalid integer literal when parsing "+H);return ce}function tr(H,ce,j){return(0,p.dwT)(H,ce,j)}function Fr(H,ce){ce=encodeURIComponent(ce);for(const j of H.split(";")){const ge=j.indexOf("="),[Xe,Mt]=-1==ge?[j,""]:[j.slice(0,ge),j.slice(ge+1)];if(Xe.trim()===ce)return decodeURIComponent(Mt)}return null}let Ci=(()=>{class H{constructor(j,ge,Xe,Mt){this._iterableDiffers=j,this._keyValueDiffers=ge,this._ngEl=Xe,this._renderer=Mt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(j){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof j?j.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(j){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof j?j.split(/\s+/):j,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const j=this._iterableDiffer.diff(this._rawClass);j&&this._applyIterableChanges(j)}else if(this._keyValueDiffer){const j=this._keyValueDiffer.diff(this._rawClass);j&&this._applyKeyValueChanges(j)}}_applyKeyValueChanges(j){j.forEachAddedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),j.forEachChangedItem(ge=>this._toggleClass(ge.key,ge.currentValue)),j.forEachRemovedItem(ge=>{ge.previousValue&&this._toggleClass(ge.key,!1)})}_applyIterableChanges(j){j.forEachAddedItem(ge=>{if("string"!=typeof ge.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(ge.item)}`);this._toggleClass(ge.item,!0)}),j.forEachRemovedItem(ge=>this._toggleClass(ge.item,!1))}_applyClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ge=>this._toggleClass(ge,!0)):Object.keys(j).forEach(ge=>this._toggleClass(ge,!!j[ge])))}_removeClasses(j){j&&(Array.isArray(j)||j instanceof Set?j.forEach(ge=>this._toggleClass(ge,!1)):Object.keys(j).forEach(ge=>this._toggleClass(ge,!1)))}_toggleClass(j,ge){(j=j.trim())&&j.split(/\s+/g).forEach(Xe=>{ge?this._renderer.addClass(this._ngEl.nativeElement,Xe):this._renderer.removeClass(this._ngEl.nativeElement,Xe)})}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),H})();class zi{constructor(ce,j,ge,Xe){this.$implicit=ce,this.ngForOf=j,this.index=ge,this.count=Xe}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class H{constructor(j,ge,Xe){this._viewContainer=j,this._template=ge,this._differs=Xe,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(j){this._ngForOf=j,this._ngForOfDirty=!0}set ngForTrackBy(j){this._trackByFn=j}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(j){j&&(this._template=j)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const j=this._ngForOf;!this._differ&&j&&(this._differ=this._differs.find(j).create(this.ngForTrackBy))}if(this._differ){const j=this._differ.diff(this._ngForOf);j&&this._applyChanges(j)}}_applyChanges(j){const ge=this._viewContainer;j.forEachOperation((Xe,Mt,zt)=>{if(null==Xe.previousIndex)ge.createEmbeddedView(this._template,new zi(Xe.item,this._ngForOf,-1,-1),null===zt?void 0:zt);else if(null==zt)ge.remove(null===Mt?void 0:Mt);else if(null!==Mt){const En=ge.get(Mt);ge.move(En,zt),$i(En,Xe)}});for(let Xe=0,Mt=ge.length;Xe<Mt;Xe++){const En=ge.get(Xe).context;En.index=Xe,En.count=Mt,En.ngForOf=this._ngForOf}j.forEachIdentityChange(Xe=>{$i(ge.get(Xe.currentIndex),Xe)})}static ngTemplateContextGuard(j,ge){return!0}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),H})();function $i(H,ce){H.context.$implicit=ce.item}let at=(()=>{class H{constructor(j,ge){this._viewContainer=j,this._context=new ze,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=ge}set ngIf(j){this._context.$implicit=this._context.ngIf=j,this._updateView()}set ngIfThen(j){bt("ngIfThen",j),this._thenTemplateRef=j,this._thenViewRef=null,this._updateView()}set ngIfElse(j){bt("ngIfElse",j),this._elseTemplateRef=j,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(j,ge){return!0}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.s_b),p.Y36(p.Rgc))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),H})();class ze{constructor(){this.$implicit=null,this.ngIf=null}}function bt(H,ce){if(ce&&!ce.createEmbeddedView)throw new Error(`${H} must be a TemplateRef, but received '${(0,p.AaK)(ce)}'.`)}let ji=(()=>{class H{constructor(j){this._viewContainerRef=j,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(j){if(j.ngTemplateOutlet){const ge=this._viewContainerRef;this._viewRef&&ge.remove(ge.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?ge.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&j.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.s_b))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),H})();function Li(H,ce){return new p.vHH(2100,"")}const Ns=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Yo=(()=>{class H{constructor(j,ge){this.locale=j,this.defaultTimezone=ge}transform(j,ge="mediumDate",Xe,Mt){var zt;if(null==j||""===j||j!=j)return null;try{return ln(j,ge,Mt||this.locale,null!==(zt=null!=Xe?Xe:this.defaultTimezone)&&void 0!==zt?zt:void 0)}catch(En){throw Li()}}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.soG,16),p.Y36(Ns,24))},H.\u0275pipe=p.Yjl({name:"date",type:H,pure:!0}),H})(),co=(()=>{class H{transform(j){return JSON.stringify(j,null,2)}}return H.\u0275fac=function(j){return new(j||H)},H.\u0275pipe=p.Yjl({name:"json",type:H,pure:!1}),H})(),R=(()=>{class H{constructor(j){this._locale=j}transform(j,ge,Xe){if(!function ee(H){return!(null==H||""===H||H!=H)}(j))return null;Xe=Xe||this._locale;try{return function Rt(H,ce,j){return function Qt(H,ce,j,ge,Xe,Mt,zt=!1){let En="",si=!1;if(isFinite(H)){let Br=function mn(H){let ge,Xe,Mt,zt,En,ce=Math.abs(H)+"",j=0;for((Xe=ce.indexOf("."))>-1&&(ce=ce.replace(".","")),(Mt=ce.search(/e/i))>0?(Xe<0&&(Xe=Mt),Xe+=+ce.slice(Mt+1),ce=ce.substring(0,Mt)):Xe<0&&(Xe=ce.length),Mt=0;"0"===ce.charAt(Mt);Mt++);if(Mt===(En=ce.length))ge=[0],Xe=1;else{for(En--;"0"===ce.charAt(En);)En--;for(Xe-=Mt,ge=[],zt=0;Mt<=En;Mt++,zt++)ge[zt]=Number(ce.charAt(Mt))}return Xe>22&&(ge=ge.splice(0,21),j=Xe-1,Xe=1),{digits:ge,exponent:j,integerLen:Xe}}(H);zt&&(Br=function xn(H){if(0===H.digits[0])return H;const ce=H.digits.length-H.integerLen;return H.exponent?H.exponent+=2:(0===ce?H.digits.push(0,0):1===ce&&H.digits.push(0),H.integerLen+=2),H}(Br));let Ur=ce.minInt,Rr=ce.minFrac,xi=ce.maxFrac;if(Mt){const Rs=Mt.match(cr);if(null===Rs)throw new Error(`${Mt} is not a valid digit info`);const jo=Rs[1],ls=Rs[3],ws=Rs[5];null!=jo&&(Ur=rr(jo)),null!=ls&&(Rr=rr(ls)),null!=ws?xi=rr(ws):null!=ls&&Rr>xi&&(xi=Rr)}!function Nn(H,ce,j){if(ce>j)throw new Error(`The minimum number of digits after fraction (${ce}) is higher than the maximum (${j}).`);let ge=H.digits,Xe=ge.length-H.integerLen;const Mt=Math.min(Math.max(ce,Xe),j);let zt=Mt+H.integerLen,En=ge[zt];if(zt>0){ge.splice(Math.max(H.integerLen,zt));for(let Rr=zt;Rr<ge.length;Rr++)ge[Rr]=0}else{Xe=Math.max(0,Xe),H.integerLen=1,ge.length=Math.max(1,zt=Mt+1),ge[0]=0;for(let Rr=1;Rr<zt;Rr++)ge[Rr]=0}if(En>=5)if(zt-1<0){for(let Rr=0;Rr>zt;Rr--)ge.unshift(0),H.integerLen++;ge.unshift(1),H.integerLen++}else ge[zt-1]++;for(;Xe<Math.max(0,Mt);Xe++)ge.push(0);let si=0!==Mt;const Br=ce+H.integerLen,Ur=ge.reduceRight(function(Rr,xi,ai,ci){return ci[ai]=(xi+=Rr)<10?xi:xi-10,si&&(0===ci[ai]&&ai>=Br?ci.pop():si=!1),xi>=10?1:0},0);Ur&&(ge.unshift(Ur),H.integerLen++)}(Br,Rr,xi);let ai=Br.digits,ci=Br.integerLen;const ko=Br.exponent;let Vo=[];for(si=ai.every(Rs=>!Rs);ci<Ur;ci++)ai.unshift(0);for(;ci<0;ci++)ai.unshift(0);ci>0?Vo=ai.splice(ci,ai.length):(Vo=ai,ai=[0]);const fr=[];for(ai.length>=ce.lgSize&&fr.unshift(ai.splice(-ce.lgSize,ai.length).join(""));ai.length>ce.gSize;)fr.unshift(ai.splice(-ce.gSize,ai.length).join(""));ai.length&&fr.unshift(ai.join("")),En=fr.join(_r(j,ge)),Vo.length&&(En+=_r(j,Xe)+Vo.join("")),ko&&(En+=_r(j,Ee.Exponential)+"+"+ko)}else En=_r(j,Ee.Infinity);return En=H<0&&!si?ce.negPre+En+ce.negSuf:ce.posPre+En+ce.posSuf,En}(H,function gn(H,ce="-"){const j={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},ge=H.split(";"),Xe=ge[0],Mt=ge[1],zt=-1!==Xe.indexOf(".")?Xe.split("."):[Xe.substring(0,Xe.lastIndexOf("0")+1),Xe.substring(Xe.lastIndexOf("0")+1)],En=zt[0],si=zt[1]||"";j.posPre=En.substr(0,En.indexOf("#"));for(let Ur=0;Ur<si.length;Ur++){const Rr=si.charAt(Ur);"0"===Rr?j.minFrac=j.maxFrac=Ur+1:"#"===Rr?j.maxFrac=Ur+1:j.posSuf+=Rr}const Br=En.split(",");if(j.gSize=Br[1]?Br[1].length:0,j.lgSize=Br[2]||Br[1]?(Br[2]||Br[1]).length:0,Mt){const Ur=Xe.length-j.posPre.length-j.posSuf.length,Rr=Mt.indexOf("#");j.negPre=Mt.substr(0,Rr).replace(/'/g,""),j.negSuf=Mt.substr(Rr+Ur).replace(/'/g,"")}else j.negPre=ce+j.posPre,j.negSuf=j.posSuf;return j}(function ii(H,ce){return(0,p.cg1)(H)[p.wAp.NumberFormats][ce]}(ce,_e.Decimal),_r(ce,Ee.MinusSign)),ce,Ee.Group,Ee.Decimal,j)}(function Se(H){if("string"==typeof H&&!isNaN(Number(H)-parseFloat(H)))return Number(H);if("number"!=typeof H)throw new Error(`${H} is not a number`);return H}(j),Xe,ge)}catch(Mt){throw Li()}}}return H.\u0275fac=function(j){return new(j||H)(p.Y36(p.soG,16))},H.\u0275pipe=p.Yjl({name:"number",type:H,pure:!0}),H})();let Le=(()=>{class H{}return H.\u0275fac=function(j){return new(j||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({}),H})();const ht="browser";function St(H){return H===ht}function un(H){return"server"===H}let hr=(()=>{class H{}return H.\u0275prov=(0,p.Yz7)({token:H,providedIn:"root",factory:()=>new Nr((0,p.LFG)(Y),window)}),H})();class Nr{constructor(ce,j){this.document=ce,this.window=j,this.offset=()=>[0,0]}setOffset(ce){this.offset=Array.isArray(ce)?()=>ce:ce}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(ce){this.supportsScrolling()&&this.window.scrollTo(ce[0],ce[1])}scrollToAnchor(ce){if(!this.supportsScrolling())return;const j=function Ki(H,ce){const j=H.getElementById(ce)||H.getElementsByName(ce)[0];if(j)return j;if("function"==typeof H.createTreeWalker&&H.body&&(H.body.createShadowRoot||H.body.attachShadow)){const ge=H.createTreeWalker(H.body,NodeFilter.SHOW_ELEMENT);let Xe=ge.currentNode;for(;Xe;){const Mt=Xe.shadowRoot;if(Mt){const zt=Mt.getElementById(ce)||Mt.querySelector(`[name="${ce}"]`);if(zt)return zt}Xe=ge.nextNode()}}return null}(this.document,ce);j&&(this.scrollToElement(j),j.focus())}setHistoryScrollRestoration(ce){if(this.supportScrollRestoration()){const j=this.window.history;j&&j.scrollRestoration&&(j.scrollRestoration=ce)}}scrollToElement(ce){const j=ce.getBoundingClientRect(),ge=j.left+this.window.pageXOffset,Xe=j.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(ge-Mt[0],Xe-Mt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const ce=ti(this.window.history)||ti(Object.getPrototypeOf(this.window.history));return!(!ce||!ce.writable&&!ce.set)}catch(ce){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(ce){return!1}}}function ti(H){return Object.getOwnPropertyDescriptor(H,"scrollRestoration")}class Hr{}},520:(pt,w,x)=>{"use strict";x.d(w,{JF:()=>ei,TP:()=>Lt,eN:()=>Ee});var p=x(9808),e=x(5e3),T=x(9646),N=x(8306),O=x(4351),V=x(9300),Y=x(4004);class J{}class ne{}class ${constructor(ae){this.normalizedNames=new Map,this.lazyUpdate=null,ae?this.lazyInit="string"==typeof ae?()=>{this.headers=new Map,ae.split("\n").forEach(ye=>{const ct=ye.indexOf(":");if(ct>0){const lt=ye.slice(0,ct),yt=lt.toLowerCase(),Pt=ye.slice(ct+1).trim();this.maybeSetNormalizedName(lt,yt),this.headers.has(yt)?this.headers.get(yt).push(Pt):this.headers.set(yt,[Pt])}})}:()=>{this.headers=new Map,Object.keys(ae).forEach(ye=>{let ct=ae[ye];const lt=ye.toLowerCase();"string"==typeof ct&&(ct=[ct]),ct.length>0&&(this.headers.set(lt,ct),this.maybeSetNormalizedName(ye,lt))})}:this.headers=new Map}has(ae){return this.init(),this.headers.has(ae.toLowerCase())}get(ae){this.init();const ye=this.headers.get(ae.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ae){return this.init(),this.headers.get(ae.toLowerCase())||null}append(ae,ye){return this.clone({name:ae,value:ye,op:"a"})}set(ae,ye){return this.clone({name:ae,value:ye,op:"s"})}delete(ae,ye){return this.clone({name:ae,value:ye,op:"d"})}maybeSetNormalizedName(ae,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,ae)}init(){this.lazyInit&&(this.lazyInit instanceof $?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ae=>this.applyUpdate(ae)),this.lazyUpdate=null))}copyFrom(ae){ae.init(),Array.from(ae.headers.keys()).forEach(ye=>{this.headers.set(ye,ae.headers.get(ye)),this.normalizedNames.set(ye,ae.normalizedNames.get(ye))})}clone(ae){const ye=new $;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof $?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([ae]),ye}applyUpdate(ae){const ye=ae.name.toLowerCase();switch(ae.op){case"a":case"s":let ct=ae.value;if("string"==typeof ct&&(ct=[ct]),0===ct.length)return;this.maybeSetNormalizedName(ae.name,ye);const lt=("a"===ae.op?this.headers.get(ye):void 0)||[];lt.push(...ct),this.headers.set(ye,lt);break;case"d":const yt=ae.value;if(yt){let Pt=this.headers.get(ye);if(!Pt)return;Pt=Pt.filter(ln=>-1===yt.indexOf(ln)),0===Pt.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,Pt)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(ae){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>ae(this.normalizedNames.get(ye),this.headers.get(ye)))}}class re{encodeKey(ae){return Qe(ae)}encodeValue(ae){return Qe(ae)}decodeKey(ae){return decodeURIComponent(ae)}decodeValue(ae){return decodeURIComponent(ae)}}const dt=/%(\d[a-f0-9])/gi,tt={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Qe(Be){return encodeURIComponent(Be).replace(dt,(ae,ye)=>{var ct;return null!==(ct=tt[ye])&&void 0!==ct?ct:ae})}function vt(Be){return`${Be}`}class ve{constructor(ae={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ae.encoder||new re,ae.fromString){if(ae.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function pe(Be,ae){const ye=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(lt=>{const yt=lt.indexOf("="),[Pt,ln]=-1==yt?[ae.decodeKey(lt),""]:[ae.decodeKey(lt.slice(0,yt)),ae.decodeValue(lt.slice(yt+1))],Wt=ye.get(Pt)||[];Wt.push(ln),ye.set(Pt,Wt)}),ye}(ae.fromString,this.encoder)}else ae.fromObject?(this.map=new Map,Object.keys(ae.fromObject).forEach(ye=>{const ct=ae.fromObject[ye];this.map.set(ye,Array.isArray(ct)?ct:[ct])})):this.map=null}has(ae){return this.init(),this.map.has(ae)}get(ae){this.init();const ye=this.map.get(ae);return ye?ye[0]:null}getAll(ae){return this.init(),this.map.get(ae)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ae,ye){return this.clone({param:ae,value:ye,op:"a"})}appendAll(ae){const ye=[];return Object.keys(ae).forEach(ct=>{const lt=ae[ct];Array.isArray(lt)?lt.forEach(yt=>{ye.push({param:ct,value:yt,op:"a"})}):ye.push({param:ct,value:lt,op:"a"})}),this.clone(ye)}set(ae,ye){return this.clone({param:ae,value:ye,op:"s"})}delete(ae,ye){return this.clone({param:ae,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(ae=>{const ye=this.encoder.encodeKey(ae);return this.map.get(ae).map(ct=>ye+"="+this.encoder.encodeValue(ct)).join("&")}).filter(ae=>""!==ae).join("&")}clone(ae){const ye=new ve({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(ae),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ae=>this.map.set(ae,this.cloneFrom.map.get(ae))),this.updates.forEach(ae=>{switch(ae.op){case"a":case"s":const ye=("a"===ae.op?this.map.get(ae.param):void 0)||[];ye.push(vt(ae.value)),this.map.set(ae.param,ye);break;case"d":if(void 0===ae.value){this.map.delete(ae.param);break}{let ct=this.map.get(ae.param)||[];const lt=ct.indexOf(vt(ae.value));-1!==lt&&ct.splice(lt,1),ct.length>0?this.map.set(ae.param,ct):this.map.delete(ae.param)}}}),this.cloneFrom=this.updates=null)}}class ke{constructor(){this.map=new Map}set(ae,ye){return this.map.set(ae,ye),this}get(ae){return this.map.has(ae)||this.map.set(ae,ae.defaultValue()),this.map.get(ae)}delete(ae){return this.map.delete(ae),this}has(ae){return this.map.has(ae)}keys(){return this.map.keys()}}function $e(Be){return"undefined"!=typeof ArrayBuffer&&Be instanceof ArrayBuffer}function it(Be){return"undefined"!=typeof Blob&&Be instanceof Blob}function Ae(Be){return"undefined"!=typeof FormData&&Be instanceof FormData}class Ue{constructor(ae,ye,ct,lt){let yt;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ae.toUpperCase(),function gt(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||lt?(this.body=void 0!==ct?ct:null,yt=lt):yt=ct,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new $),this.context||(this.context=new ke),this.params){const Pt=this.params.toString();if(0===Pt.length)this.urlWithParams=ye;else{const ln=ye.indexOf("?");this.urlWithParams=ye+(-1===ln?"?":ln<ye.length-1?"&":"")+Pt}}else this.params=new ve,this.urlWithParams=ye}serializeBody(){return null===this.body?null:$e(this.body)||it(this.body)||Ae(this.body)||function Ke(Be){return"undefined"!=typeof URLSearchParams&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ve?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ae(this.body)?null:it(this.body)?this.body.type||null:$e(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ve?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ae={}){var ye;const ct=ae.method||this.method,lt=ae.url||this.url,yt=ae.responseType||this.responseType,Pt=void 0!==ae.body?ae.body:this.body,ln=void 0!==ae.withCredentials?ae.withCredentials:this.withCredentials,Wt=void 0!==ae.reportProgress?ae.reportProgress:this.reportProgress;let an=ae.headers||this.headers,jn=ae.params||this.params;const hn=null!==(ye=ae.context)&&void 0!==ye?ye:this.context;return void 0!==ae.setHeaders&&(an=Object.keys(ae.setHeaders).reduce((Hn,Ut)=>Hn.set(Ut,ae.setHeaders[Ut]),an)),ae.setParams&&(jn=Object.keys(ae.setParams).reduce((Hn,Ut)=>Hn.set(Ut,ae.setParams[Ut]),jn)),new Ue(ct,lt,Pt,{params:jn,headers:an,context:hn,reportProgress:Wt,responseType:yt,withCredentials:ln})}}var Je=(()=>((Je=Je||{})[Je.Sent=0]="Sent",Je[Je.UploadProgress=1]="UploadProgress",Je[Je.ResponseHeader=2]="ResponseHeader",Je[Je.DownloadProgress=3]="DownloadProgress",Je[Je.Response=4]="Response",Je[Je.User=5]="User",Je))();class _e{constructor(ae,ye=200,ct="OK"){this.headers=ae.headers||new $,this.status=void 0!==ae.status?ae.status:ye,this.statusText=ae.statusText||ct,this.url=ae.url||null,this.ok=this.status>=200&&this.status<300}}class ue extends _e{constructor(ae={}){super(ae),this.type=Je.ResponseHeader}clone(ae={}){return new ue({headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class oe extends _e{constructor(ae={}){super(ae),this.type=Je.Response,this.body=void 0!==ae.body?ae.body:null}clone(ae={}){return new oe({body:void 0!==ae.body?ae.body:this.body,headers:ae.headers||this.headers,status:void 0!==ae.status?ae.status:this.status,statusText:ae.statusText||this.statusText,url:ae.url||this.url||void 0})}}class Ce extends _e{constructor(ae){super(ae,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ae.url||"(unknown url)"}`:`Http failure response for ${ae.url||"(unknown url)"}: ${ae.status} ${ae.statusText}`,this.error=ae.error||null}}function qe(Be,ae){return{body:ae,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let Ee=(()=>{class Be{constructor(ye){this.handler=ye}request(ye,ct,lt={}){let yt;if(ye instanceof Ue)yt=ye;else{let Wt,an;Wt=lt.headers instanceof $?lt.headers:new $(lt.headers),lt.params&&(an=lt.params instanceof ve?lt.params:new ve({fromObject:lt.params})),yt=new Ue(ye,ct,void 0!==lt.body?lt.body:null,{headers:Wt,context:lt.context,params:an,reportProgress:lt.reportProgress,responseType:lt.responseType||"json",withCredentials:lt.withCredentials})}const Pt=(0,T.of)(yt).pipe((0,O.b)(Wt=>this.handler.handle(Wt)));if(ye instanceof Ue||"events"===lt.observe)return Pt;const ln=Pt.pipe((0,V.h)(Wt=>Wt instanceof oe));switch(lt.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return ln.pipe((0,Y.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wt.body}));case"blob":return ln.pipe((0,Y.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof Blob))throw new Error("Response is not a Blob.");return Wt.body}));case"text":return ln.pipe((0,Y.U)(Wt=>{if(null!==Wt.body&&"string"!=typeof Wt.body)throw new Error("Response is not a string.");return Wt.body}));default:return ln.pipe((0,Y.U)(Wt=>Wt.body))}case"response":return ln;default:throw new Error(`Unreachable: unhandled observe type ${lt.observe}}`)}}delete(ye,ct={}){return this.request("DELETE",ye,ct)}get(ye,ct={}){return this.request("GET",ye,ct)}head(ye,ct={}){return this.request("HEAD",ye,ct)}jsonp(ye,ct){return this.request("JSONP",ye,{params:(new ve).append(ct,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,ct={}){return this.request("OPTIONS",ye,ct)}patch(ye,ct,lt={}){return this.request("PATCH",ye,qe(lt,ct))}post(ye,ct,lt={}){return this.request("POST",ye,qe(lt,ct))}put(ye,ct,lt={}){return this.request("PUT",ye,qe(lt,ct))}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(J))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class xt{constructor(ae,ye){this.next=ae,this.interceptor=ye}handle(ae){return this.interceptor.intercept(ae,this.next)}}const Lt=new e.OlP("HTTP_INTERCEPTORS");let An=(()=>{class Be{intercept(ye,ct){return ct.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const _r=/^\)\]\}',?\n/;let xr=(()=>{class Be{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N.y(ct=>{const lt=this.xhrFactory.build();if(lt.open(ye.method,ye.urlWithParams),ye.withCredentials&&(lt.withCredentials=!0),ye.headers.forEach((Ut,nr)=>lt.setRequestHeader(Ut,nr.join(","))),ye.headers.has("Accept")||lt.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const Ut=ye.detectContentTypeHeader();null!==Ut&&lt.setRequestHeader("Content-Type",Ut)}if(ye.responseType){const Ut=ye.responseType.toLowerCase();lt.responseType="json"!==Ut?Ut:"text"}const yt=ye.serializeBody();let Pt=null;const ln=()=>{if(null!==Pt)return Pt;const Ut=lt.statusText||"OK",nr=new $(lt.getAllResponseHeaders()),kn=function ii(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(lt)||ye.url;return Pt=new ue({headers:nr,status:lt.status,statusText:Ut,url:kn}),Pt},Wt=()=>{let{headers:Ut,status:nr,statusText:kn,url:Ft}=ln(),ft=null;204!==nr&&(ft=void 0===lt.response?lt.responseText:lt.response),0===nr&&(nr=ft?200:0);let tn=nr>=200&&nr<300;if("json"===ye.responseType&&"string"==typeof ft){const vn=ft;ft=ft.replace(_r,"");try{ft=""!==ft?JSON.parse(ft):null}catch(Zn){ft=vn,tn&&(tn=!1,ft={error:Zn,text:ft})}}tn?(ct.next(new oe({body:ft,headers:Ut,status:nr,statusText:kn,url:Ft||void 0})),ct.complete()):ct.error(new Ce({error:ft,headers:Ut,status:nr,statusText:kn,url:Ft||void 0}))},an=Ut=>{const{url:nr}=ln(),kn=new Ce({error:Ut,status:lt.status||0,statusText:lt.statusText||"Unknown Error",url:nr||void 0});ct.error(kn)};let jn=!1;const hn=Ut=>{jn||(ct.next(ln()),jn=!0);let nr={type:Je.DownloadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(nr.total=Ut.total),"text"===ye.responseType&&!!lt.responseText&&(nr.partialText=lt.responseText),ct.next(nr)},Hn=Ut=>{let nr={type:Je.UploadProgress,loaded:Ut.loaded};Ut.lengthComputable&&(nr.total=Ut.total),ct.next(nr)};return lt.addEventListener("load",Wt),lt.addEventListener("error",an),lt.addEventListener("timeout",an),lt.addEventListener("abort",an),ye.reportProgress&&(lt.addEventListener("progress",hn),null!==yt&&lt.upload&&lt.upload.addEventListener("progress",Hn)),lt.send(yt),ct.next({type:Je.Sent}),()=>{lt.removeEventListener("error",an),lt.removeEventListener("abort",an),lt.removeEventListener("load",Wt),lt.removeEventListener("timeout",an),ye.reportProgress&&(lt.removeEventListener("progress",hn),null!==yt&&lt.upload&&lt.upload.removeEventListener("progress",Hn)),lt.readyState!==lt.DONE&&lt.abort()}})}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(p.JF))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const Vr=new e.OlP("XSRF_COOKIE_NAME"),Pi=new e.OlP("XSRF_HEADER_NAME");class Ti{}let Jr=(()=>{class Be{constructor(ye,ct,lt){this.doc=ye,this.platform=ct,this.cookieName=lt,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(p.K0),e.LFG(e.Lbi),e.LFG(Vr))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),qr=(()=>{class Be{constructor(ye,ct){this.tokenService=ye,this.headerName=ct}intercept(ye,ct){const lt=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||lt.startsWith("http://")||lt.startsWith("https://"))return ct.handle(ye);const yt=this.tokenService.getToken();return null!==yt&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,yt)})),ct.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(Ti),e.LFG(Pi))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),ki=(()=>{class Be{constructor(ye,ct){this.backend=ye,this.injector=ct,this.chain=null}handle(ye){if(null===this.chain){const ct=this.injector.get(Lt,[]);this.chain=ct.reduceRight((lt,yt)=>new xt(lt,yt),this.backend)}return this.chain.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(ne),e.LFG(e.zs3))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),oi=(()=>{class Be{static disable(){return{ngModule:Be,providers:[{provide:qr,useClass:An}]}}static withOptions(ye={}){return{ngModule:Be,providers:[ye.cookieName?{provide:Vr,useValue:ye.cookieName}:[],ye.headerName?{provide:Pi,useValue:ye.headerName}:[]]}}}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({providers:[qr,{provide:Lt,useExisting:qr,multi:!0},{provide:Ti,useClass:Jr},{provide:Vr,useValue:"XSRF-TOKEN"},{provide:Pi,useValue:"X-XSRF-TOKEN"}]}),Be})(),ei=(()=>{class Be{}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({providers:[Ee,{provide:J,useClass:ki},xr,{provide:ne,useExisting:xr}],imports:[[oi.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Be})()},5e3:(pt,w,x)=>{"use strict";x.d(w,{$8M:()=>ml,$Z:()=>Lg,AFp:()=>Py,ALo:()=>Jv,AaK:()=>J,AsE:()=>b,BQk:()=>kl,CHM:()=>Oa,CRH:()=>ay,CZH:()=>_1,CqO:()=>T0,DdM:()=>jv,EJc:()=>EC,EiD:()=>Tp,EpF:()=>m_,F$t:()=>zu,F4k:()=>Gg,FYo:()=>Rv,FiY:()=>ps,Gf:()=>oy,GfV:()=>kv,GkF:()=>Yf,Gpc:()=>re,Hsn:()=>$u,Ikx:()=>av,JOm:()=>Ea,JVY:()=>nh,L6k:()=>Yl,LAX:()=>cm,LFG:()=>Dn,LSH:()=>Wo,Lbi:()=>Ny,MAs:()=>s_,MGl:()=>$h,NdJ:()=>zh,OlP:()=>Ui,Oqu:()=>d,PXZ:()=>BC,Q6J:()=>Wd,QGY:()=>Qf,Qsj:()=>xT,QtT:()=>Iv,R0b:()=>Fl,RDi:()=>ti,Rgc:()=>Xg,SBq:()=>Kg,SDv:()=>xv,Sil:()=>DC,Suo:()=>sy,TTD:()=>ee,TgZ:()=>Bg,Tol:()=>T_,Udp:()=>I0,VKq:()=>Hv,VLi:()=>kC,W1O:()=>dy,WLB:()=>n1,X6Q:()=>ZC,XFs:()=>Bn,Xpm:()=>Un,Y36:()=>Rl,YKP:()=>Bv,YNc:()=>Wf,Yjl:()=>sr,Yz7:()=>$n,ZZ4:()=>P1,_Bn:()=>Mv,_UZ:()=>g_,_Vd:()=>D_,_c5:()=>N1,_uU:()=>a,aQg:()=>U_,c2e:()=>Ry,cJS:()=>yr,cg1:()=>cv,dDg:()=>Fy,deG:()=>go,dqk:()=>an,dwT:()=>CS,eBb:()=>Ql,eFA:()=>Gy,ekj:()=>P0,evT:()=>gh,g9A:()=>Oy,h0i:()=>cp,hGG:()=>rb,hij:()=>g,iGM:()=>iy,ifc:()=>lt,ip1:()=>Iy,kEZ:()=>Zv,kL8:()=>Fb,lG2:()=>qn,lcZ:()=>Yv,mCW:()=>Ri,n5z:()=>Xd,oAB:()=>Ye,oJD:()=>pf,oxw:()=>ol,pB0:()=>bo,pQV:()=>z0,q3G:()=>oo,q4F:()=>X0,qLn:()=>ua,qOj:()=>Bh,qZA:()=>Ug,qzn:()=>Kc,s9C:()=>Hg,sBO:()=>zy,sIi:()=>Gd,s_b:()=>M_,soG:()=>y1,tBr:()=>rs,tb:()=>L_,tp0:()=>Gi,uIk:()=>Ma,vHH:()=>Qe,vpe:()=>pu,wAp:()=>kr,xi3:()=>Qv,xp6:()=>v,yhl:()=>ad,ynx:()=>Jf,z2F:()=>E1,z3N:()=>Us,zSh:()=>Ff,zs3:()=>_c});var p=x(7579),e=x(727),T=x(8306),N=x(6451),O=x(3099);function V(o){for(let s in o)if(o[s]===V)return s;throw Error("Could not find renamed property on target object.")}function Y(o,s){for(const u in s)s.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=s[u])}function J(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(J).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function ne(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const $=V({__forward_ref__:V});function re(o){return o.__forward_ref__=re,o.toString=function(){return J(this())},o}function pe(o){return dt(o)?o():o}function dt(o){return"function"==typeof o&&o.hasOwnProperty($)&&o.__forward_ref__===re}class Qe extends Error{constructor(s,u){super(function vt(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,u)),this.code=s}}function ve(o){return"string"==typeof o?o:null==o?"":String(o)}function je(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():ve(o)}function it(o,s){const u=s?` in ${s}`:"";throw new Qe(-201,`No provider for ${je(o)} found${u}`)}function Et(o,s,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${s} <=Actual]`))}function $n(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function yr(o){return{providers:o.providers||[],imports:o.imports||[]}}function _r(o){return ii(o,Ti)||ii(o,qr)}function ii(o,s){return o.hasOwnProperty(s)?o[s]:null}function Pi(o){return o&&(o.hasOwnProperty(Jr)||o.hasOwnProperty(ki))?o[Jr]:null}const Ti=V({\u0275prov:V}),Jr=V({\u0275inj:V}),qr=V({ngInjectableDef:V}),ki=V({ngInjectorDef:V});var Bn=(()=>((Bn=Bn||{})[Bn.Default=0]="Default",Bn[Bn.Host=1]="Host",Bn[Bn.Self=2]="Self",Bn[Bn.SkipSelf=4]="SkipSelf",Bn[Bn.Optional=8]="Optional",Bn))();let qi;function ei(o){const s=qi;return qi=o,s}function Fe(o,s,u){const f=_r(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Bn.Optional?null:void 0!==s?s:void it(J(o),"Injector")}function Be(o){return{toString:o}.toString()}var ae=(()=>((ae=ae||{})[ae.OnPush=0]="OnPush",ae[ae.Default=1]="Default",ae))(),lt=(()=>{return(o=lt||(lt={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",lt;var o})();const yt="undefined"!=typeof globalThis&&globalThis,Pt="undefined"!=typeof window&&window,ln="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,an=yt||"undefined"!=typeof global&&global||Pt||ln,Hn={},Ut=[],nr=V({\u0275cmp:V}),kn=V({\u0275dir:V}),Ft=V({\u0275pipe:V}),ft=V({\u0275mod:V}),tn=V({\u0275fac:V}),vn=V({__NG_ELEMENT_ID__:V});let Zn=0;function Un(o){return Be(()=>{const u={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ae.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||Ut,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||lt.Emulated,id:"c",styles:o.styles||Ut,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.directives,y=o.features,S=o.pipes;return f.id+=Zn++,f.inputs=Wn(o.inputs,u),f.outputs=Wn(o.outputs),y&&y.forEach(M=>M(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(De):null,f.pipeDefs=S?()=>("function"==typeof S?S():S).map(be):null,f})}function De(o){return ar(o)||function cr(o){return o[kn]||null}(o)}function be(o){return function Tn(o){return o[Ft]||null}(o)}const ut={};function Ye(o){return Be(()=>{const s={type:o.type,bootstrap:o.bootstrap||Ut,declarations:o.declarations||Ut,imports:o.imports||Ut,exports:o.exports||Ut,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(ut[o.id]=o.type),s})}function Wn(o,s){if(null==o)return Hn;const u={};for(const f in o)if(o.hasOwnProperty(f)){let m=o[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=f,s&&(s[m]=y)}return u}const qn=Un;function sr(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function ar(o){return o[nr]||null}function Pn(o,s){const u=o[ft]||null;if(!u&&!0===s)throw new Error(`Type ${J(o)} does not have '\u0275mod' property.`);return u}function $t(o){return Array.isArray(o)&&"object"==typeof o[1]}function bn(o){return Array.isArray(o)&&!0===o[1]}function Dr(o){return 0!=(8&o.flags)}function jr(o){return 2==(2&o.flags)}function Ir(o){return 1==(1&o.flags)}function vi(o){return null!==o.template}function Ro(o){return 0!=(512&o[2])}function Z(o,s){return o.hasOwnProperty(tn)?o[tn]:null}class z{constructor(s,u,f){this.previousValue=s,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function ee(){return Se}function Se(o){return o.type.prototype.ngOnChanges&&(o.setInput=xe),Oe}function Oe(){const o=ht(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===Hn)o.previous=s;else for(let f in s)u[f]=s[f];o.current=null,this.ngOnChanges(s)}}function xe(o,s,u,f){const m=ht(o)||function ie(o,s){return o[Le]=s}(o,{previous:Hn,current:null}),y=m.current||(m.current={}),S=m.previous,M=this.declaredInputs[u],F=S[M];y[M]=new z(F&&F.currentValue,s,S===Hn),o[f]=s}ee.ngInherit=!0;const Le="__ngSimpleChanges__";function ht(o){return o[Le]||null}let Nr;function ti(o){Nr=o}function Ki(){return void 0!==Nr?Nr:"undefined"!=typeof document?document:void 0}function Hr(o){return!!o.listen}const H={createRenderer:(o,s)=>Ki()};function j(o){for(;Array.isArray(o);)o=o[0];return o}function Mt(o,s){return j(s[o])}function zt(o,s){return j(s[o.index])}function si(o,s){return o.data[s]}function Br(o,s){return o[s]}function Ur(o,s){const u=s[o];return $t(u)?u:u[0]}function Rr(o){return 4==(4&o[2])}function xi(o){return 128==(128&o[2])}function ci(o,s){return null==s?null:o[s]}function ko(o){o[18]=0}function Vo(o,s){o[5]+=s;let u=o,f=o[3];for(;null!==f&&(1===s&&1===u[5]||-1===s&&0===u[5]);)f[5]+=s,u=f,f=f[3]}const fr={lFrame:La(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ds(){return fr.bindingsEnabled}function en(){return fr.lFrame.lView}function dr(){return fr.lFrame.tView}function Oa(o){return fr.lFrame.contextLView=o,o[8]}function Mi(){let o=ll();for(;null!==o&&64===o.type;)o=o.parent;return o}function ll(){return fr.lFrame.currentTNode}function qs(){const o=fr.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}function oa(o,s){const u=fr.lFrame;u.currentTNode=o,u.isParent=s}function ec(){return fr.lFrame.isParent}function Na(){fr.lFrame.isParent=!1}function ul(){return fr.isInCheckNoChangesMode}function Lo(o){fr.isInCheckNoChangesMode=o}function Qo(){const o=fr.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function ma(){return fr.lFrame.bindingIndex}function ks(){return fr.lFrame.bindingIndex++}function Xo(o){const s=fr.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function Qi(o){fr.lFrame.inI18n=o}function dl(o,s){const u=fr.lFrame;u.bindingIndex=u.bindingRootIndex=o,sa(s)}function sa(o){fr.lFrame.currentDirectiveIndex=o}function jl(){return fr.lFrame.currentQueryIndex}function zs(o){fr.lFrame.currentQueryIndex=o}function hl(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Ra(o,s,u){if(u&Bn.SkipSelf){let m=s,y=o;for(;!(m=m.parent,null!==m||u&Bn.Host||(m=hl(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;s=m,o=y}const f=fr.lFrame=jc();return f.currentTNode=s,f.lView=o,!0}function ka(o){const s=jc(),u=o[1];fr.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function jc(){const o=fr.lFrame,s=null===o?null:o.child;return null===s?La(o):s}function La(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Fa(){const o=fr.lFrame;return fr.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const Ec=Fa;function aa(){const o=Fa();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function po(){return fr.lFrame.selectedIndex}function ba(o){fr.lFrame.selectedIndex=o}function Bi(){const o=fr.lFrame;return si(o.tView,o.selectedIndex)}function Ta(o,s){for(let u=s.directiveStart,f=s.directiveEnd;u<f;u++){const y=o.data[u].type.prototype,{ngAfterContentInit:S,ngAfterContentChecked:M,ngAfterViewInit:F,ngAfterViewChecked:Q,ngOnDestroy:se}=y;S&&(o.contentHooks||(o.contentHooks=[])).push(-u,S),M&&((o.contentHooks||(o.contentHooks=[])).push(u,M),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,M)),F&&(o.viewHooks||(o.viewHooks=[])).push(-u,F),Q&&((o.viewHooks||(o.viewHooks=[])).push(u,Q),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,Q)),null!=se&&(o.destroyHooks||(o.destroyHooks=[])).push(u,se)}}function Ks(o,s,u){nc(o,s,3,u)}function Js(o,s,u,f){(3&o[2])===u&&nc(o,s,u,f)}function ui(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function nc(o,s,u,f){const y=null!=f?f:-1,S=s.length-1;let M=0;for(let F=void 0!==f?65535&o[18]:0;F<S;F++)if("number"==typeof s[F+1]){if(M=s[F],null!=f&&M>=f)break}else s[F]<0&&(o[18]+=65536),(M<y||-1==y)&&(Qd(o,u,s,F),o[18]=(4294901760&o[18])+F+2),F++}function Qd(o,s,u,f){const m=u[f]<0,y=u[f+1],M=o[m?-u[f]:u[f]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{y.call(M)}finally{}}}else try{y.call(M)}finally{}}class Ba{constructor(s,u,f){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function ic(o,s,u){const f=Hr(o);let m=0;for(;m<u.length;){const y=u[m];if("number"==typeof y){if(0!==y)break;m++;const S=u[m++],M=u[m++],F=u[m++];f?o.setAttribute(s,M,F,S):s.setAttributeNS(S,M,F)}else{const S=y,M=u[++m];Qn(S)?f&&o.setProperty(s,S,M):f?o.setAttribute(s,S,M):s.setAttribute(S,M),m++}}return m}function fl(o){return 3===o||4===o||6===o}function Qn(o){return 64===o.charCodeAt(0)}function br(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?u=m:0===u||pl(o,u,m,null,-1===u||2===u?s[++f]:null)}}return o}function pl(o,s,u,f,m){let y=0,S=o.length;if(-1===s)S=-1;else for(;y<o.length;){const M=o[y++];if("number"==typeof M){if(M===s){S=-1;break}if(M>s){S=y-1;break}}}for(;y<o.length;){const M=o[y];if("number"==typeof M)break;if(M===u){if(null===f)return void(null!==m&&(o[y+1]=m));if(f===o[y+1])return void(o[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==S&&(o.splice(S,0,s),y=S+1),o.splice(y++,0,u),null!==f&&o.splice(y++,0,f),null!==m&&o.splice(y++,0,m)}function Rn(o){return-1!==o}function It(o){return 32767&o}function Ii(o,s){let u=function on(o){return o>>16}(o),f=s;for(;u>0;)f=f[15],u--;return f}let yi=!0;function oc(o){const s=yi;return yi=o,s}let k=0;function D(o,s){const u=K(o,s);if(-1!==u)return u;const f=s[1];f.firstCreatePass&&(o.injectorIndex=s.length,G(f.data,o),G(s,null),G(f.blueprint,null));const m=de(o,s),y=o.injectorIndex;if(Rn(m)){const S=It(m),M=Ii(m,s),F=M[1].data;for(let Q=0;Q<8;Q++)s[y+Q]=M[S+Q]|F[S+Q]}return s[y+8]=m,y}function G(o,s){o.push(0,0,0,0,0,0,0,0,s)}function K(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function de(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,m=s;for(;null!==m;){const y=m[1],S=y.type;if(f=2===S?y.declTNode:1===S?m[6]:null,null===f)return-1;if(u++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Ve(o,s,u){!function P(o,s,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(vn)&&(f=u[vn]),null==f&&(f=u[vn]=k++);const m=255&f;s.data[o+(m>>5)]|=1<<m}(o,s,u)}function Ot(o,s,u){if(u&Bn.Optional)return o;it(s,"NodeInjector")}function Cn(o,s,u,f){if(u&Bn.Optional&&void 0===f&&(f=null),0==(u&(Bn.Self|Bn.Host))){const m=o[9],y=ei(void 0);try{return m?m.get(s,f,u&Bn.Optional):Fe(s,f,u&Bn.Optional)}finally{ei(y)}}return Ot(f,s,u)}function On(o,s,u,f=Bn.Default,m){if(null!==o){const y=function wr(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(vn)?o[vn]:void 0;return"number"==typeof s?s>=0?255&s:Kn:s}(u);if("function"==typeof y){if(!Ra(s,o,f))return f&Bn.Host?Ot(m,u,f):Cn(s,u,f,m);try{const S=y(f);if(null!=S||f&Bn.Optional)return S;it(u)}finally{Ec()}}else if("number"==typeof y){let S=null,M=K(o,s),F=-1,Q=f&Bn.Host?s[16][6]:null;for((-1===M||f&Bn.SkipSelf)&&(F=-1===M?de(o,s):s[M+8],-1!==F&&Oi(f,!1)?(S=s[1],M=It(F),s=Ii(F,s)):M=-1);-1!==M;){const se=s[1];if(pi(y,M,se.data)){const Ne=Tr(M,s,u,S,f,Q);if(Ne!==jt)return Ne}F=s[M+8],-1!==F&&Oi(f,s[1].data[M+8]===Q)&&pi(y,M,s)?(S=se,M=It(F),s=Ii(F,s)):M=-1}}}return Cn(s,u,f,m)}const jt={};function Kn(){return new ds(Mi(),en())}function Tr(o,s,u,f,m,y){const S=s[1],M=S.data[o+8],se=Ei(M,S,u,null==f?jr(M)&&yi:f!=S&&0!=(3&M.type),m&Bn.Host&&y===M);return null!==se?Xr(s,S,se,M):jt}function Ei(o,s,u,f,m){const y=o.providerIndexes,S=s.data,M=1048575&y,F=o.directiveStart,se=y>>20,et=m?M+se:o.directiveEnd;for(let Tt=f?M:M+se;Tt<et;Tt++){const Gt=S[Tt];if(Tt<F&&u===Gt||Tt>=F&&Gt.type===u)return Tt}if(m){const Tt=S[F];if(Tt&&vi(Tt)&&Tt.type===u)return F}return null}function Xr(o,s,u,f){let m=o[u];const y=s.data;if(function rc(o){return o instanceof Ba}(m)){const S=m;S.resolving&&function ke(o,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Qe(-200,`Circular dependency in DI detected for ${o}${u}`)}(je(y[u]));const M=oc(S.canSeeViewProviders);S.resolving=!0;const F=S.injectImpl?ei(S.injectImpl):null;Ra(o,f,Bn.Default);try{m=o[u]=S.factory(void 0,y,o,f),s.firstCreatePass&&u>=f.directiveStart&&function ed(o,s,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=s.type.prototype;if(f){const S=Se(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,S),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,S)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,m),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y))}(u,y[u],s)}finally{null!==F&&ei(F),oc(M),S.resolving=!1,Ec()}}return m}function pi(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function Oi(o,s){return!(o&Bn.Self||o&Bn.Host&&s)}class ds{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,f){return On(this._tNode,this._lView,s,f,u)}}function Xd(o){return Be(()=>{const s=o.prototype.constructor,u=s[tn]||Xi(s),f=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==f;){const y=m[tn]||Xi(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function Xi(o){return dt(o)?()=>{const s=Xi(pe(o));return s&&s()}:Z(o)}function ml(o){return function He(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const y=u[m];if(fl(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(y===s)return u[m+1];m+=2}}}return null}(Mi(),o)}const Gr="__parameters__";function Ls(o,s,u){return Be(()=>{const f=function Zl(o){return function(...u){if(o){const f=o(...u);for(const m in f)this[m]=f[m]}}}(s);function m(...y){if(this instanceof m)return f.apply(this,y),this;const S=new m(...y);return M.annotation=S,M;function M(F,Q,se){const Ne=F.hasOwnProperty(Gr)?F[Gr]:Object.defineProperty(F,Gr,{value:[]})[Gr];for(;Ne.length<=se;)Ne.push(null);return(Ne[se]=Ne[se]||[]).push(S),F}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class Ui{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=$n({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const go=new Ui("AnalyzeForEntryComponents");function Eo(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let f=o[u];Array.isArray(f)?(s===o&&(s=o.slice(0,u)),Eo(f,s)):s!==o&&s.push(f)}return s}function fs(o,s){o.forEach(u=>Array.isArray(u)?fs(u,s):s(u))}function Zc(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function lc(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function xs(o,s){const u=[];for(let f=0;f<o;f++)u.push(s);return u}function wo(o,s,u){let f=Is(o,s);return f>=0?o[1|f]=u:(f=~f,function rd(o,s,u,f){let m=o.length;if(m==s)o.push(u,f);else if(1===m)o.push(f,o[0]),o[0]=u;else{for(m--,o.push(o[m-1],o[m]);m>s;)o[m]=o[m-2],m--;o[s]=u,o[s+1]=f}}(o,f,s,u)),f}function yl(o,s){const u=Is(o,s);if(u>=0)return o[1|u]}function Is(o,s){return function bl(o,s,u){let f=0,m=o.length>>u;for(;m!==f;){const y=f+(m-f>>1),S=o[y<<u];if(s===S)return y<<u;S>s?m=y:f=y+1}return~(m<<u)}(o,s,1)}const qc={},Cu="__NG_DI_FLAG__",zc="ngTempTokenPath",U=/\n/gm,le="__source",Ge=V({provide:String,useValue:V});let _t;function Dt(o){const s=_t;return _t=o,s}function fn(o,s=Bn.Default){if(void 0===_t)throw new Qe(203,"");return null===_t?Fe(o,void 0,s):_t.get(o,s&Bn.Optional?null:void 0,s)}function Dn(o,s=Bn.Default){return(function oi(){return qi}()||fn)(pe(o),s)}const Xn=Dn;function ni(o){const s=[];for(let u=0;u<o.length;u++){const f=pe(o[u]);if(Array.isArray(f)){if(0===f.length)throw new Qe(900,"");let m,y=Bn.Default;for(let S=0;S<f.length;S++){const M=f[S],F=Do(M);"number"==typeof F?-1===F?m=M.token:y|=F:m=M}s.push(Dn(m,y))}else s.push(Dn(f))}return s}function Cr(o,s){return o[Cu]=s,o.prototype[Cu]=s,o}function Do(o){return o[Cu]}const rs=Cr(Ls("Inject",o=>({token:o})),-1),ps=Cr(Ls("Optional"),8),Gi=Cr(Ls("SkipSelf"),4);let Va,wu;function ja(o){var s;return(null===(s=function Tl(){if(void 0===Va&&(Va=null,an.trustedTypes))try{Va=an.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return Va}())||void 0===s?void 0:s.createHTML(o))||o}function yo(o){var s;return(null===(s=function Cl(){if(void 0===wu&&(wu=null,an.trustedTypes))try{wu=an.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return wu}())||void 0===s?void 0:s.createHTML(o))||o}class Sl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class th extends Sl{getTypeName(){return"HTML"}}class cf extends Sl{getTypeName(){return"Style"}}class lf extends Sl{getTypeName(){return"Script"}}class uf extends Sl{getTypeName(){return"URL"}}class Au extends Sl{getTypeName(){return"ResourceURL"}}function Us(o){return o instanceof Sl?o.changingThisBreaksApplicationSecurity:o}function Kc(o,s){const u=ad(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function ad(o){return o instanceof Sl&&o.getTypeName()||null}function nh(o){return new th(o)}function Yl(o){return new cf(o)}function Ql(o){return new lf(o)}function cm(o){return new uf(o)}function bo(o){return new Au(o)}function gi(o){const s=new ih(o);return function Jc(){try{return!!(new window.DOMParser).parseFromString(ja(""),"text/html")}catch(o){return!1}}()?new rh(s):s}class rh{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(ja(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class ih{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=ja(s),u;const f=this.inertDocument.createElement("body");return f.innerHTML=ja(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(s){const u=s.attributes;for(let m=u.length-1;0<m;m--){const S=u.item(m).name;("xmlns:ns1"===S||0===S.indexOf("ns1:"))&&s.removeAttribute(S)}let f=s.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Wr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ps=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ri(o){return(o=String(o)).match(Wr)||o.match(Ps)?o:"unsafe:"+o}function xu(o){return(o=String(o)).split(",").map(s=>Ri(s.trim())).join(", ")}function is(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function la(...o){const s={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(s[f]=!0);return s}const Ms=is("area,br,col,hr,img,wbr"),ea=is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ld=is("rp,rt"),Di=la(Ms,la(ea,is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),la(ld,is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),la(ld,ea)),df=is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Iu=is("srcset"),ud=la(df,Iu,is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),vp=is("script,style,template");class yp{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Di.hasOwnProperty(u))return this.sanitizedSomething=!0,!vp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=s.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),S=y.name,M=S.toLowerCase();if(!ud.hasOwnProperty(M)){this.sanitizedSomething=!0;continue}let F=y.value;df[M]&&(F=Ri(F)),Iu[M]&&(F=xu(F)),this.buf.push(" ",S,'="',hf(F),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Di.hasOwnProperty(u)&&!Ms.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(hf(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const bp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,um=/([^\#-~ |!])/g;function hf(o){return o.replace(/&/g,"&amp;").replace(bp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(um,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let dd;function Tp(o,s){let u=null;try{dd=dd||gi(o);let f=s?String(s):"";u=dd.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=u.innerHTML,u=dd.getInertBodyElement(f)}while(f!==y);return ja((new yp).sanitizeChildren(ff(u)||u))}finally{if(u){const f=ff(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function ff(o){return"content"in o&&function dm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var oo=(()=>((oo=oo||{})[oo.NONE=0]="NONE",oo[oo.HTML=1]="HTML",oo[oo.STYLE=2]="STYLE",oo[oo.SCRIPT=3]="SCRIPT",oo[oo.URL=4]="URL",oo[oo.RESOURCE_URL=5]="RESOURCE_URL",oo))();function pf(o){const s=Pu();return s?yo(s.sanitize(oo.HTML,o)||""):Kc(o,"HTML")?yo(Us(o)):Tp(Ki(),ve(o))}function Wo(o){const s=Pu();return s?s.sanitize(oo.URL,o)||"":Kc(o,"URL")?Us(o):Ri(ve(o))}function Pu(){const o=en();return o&&o[12]}const Mu="__ngContext__";function _s(o,s){o[Mu]=s}function lh(o){const s=function pd(o){return o[Mu]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function qo(o){return o.ngOriginalError}function Ip(o,...s){o.error(...s)}class ua{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),f=function hc(o){return o&&o.ngErrorLogger||Ip}(s);f(this._console,"ERROR",s),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&qo(s);for(;u&&qo(u);)u=qo(u);return u||null}}const Mp=/^>|^->|<!--|-->|--!>|<!-$/g,Op=/(<|>)/;const H_=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(an))();function gh(o){return o.ownerDocument}function pc(o){return o instanceof Function?o():o}var Ea=(()=>((Ea=Ea||{})[Ea.Important=1]="Important",Ea[Ea.DashCase=2]="DashCase",Ea))();let kt;function Yc(o,s){return kt(o,s)}function ta(o){const s=o[3];return bn(s)?s[3]:s}function Mc(o){return _d(o[13])}function eu(o){return _d(o[4])}function _d(o){for(;null!==o&&!bn(o);)o=o[4];return o}function Ji(o,s,u,f,m){if(null!=f){let y,S=!1;bn(f)?y=f:$t(f)&&(S=!0,f=f[0]);const M=j(f);0===o&&null!==u?null==m?Ef(s,u,M):Al(s,u,M,m||null,!0):1===o&&null!==u?Al(s,u,M,m||null,!0):2===o?Td(s,M,S):3===o&&s.destroyNode(M),null!=y&&function Sd(o,s,u,f,m){const y=u[7];y!==j(u)&&Ji(s,o,f,y,m);for(let M=10;M<u.length;M++){const F=u[M];ha(F[1],F,o,s,f,y)}}(s,o,y,u,m)}}function da(o,s){return Hr(o)?o.createText(s):o.createTextNode(s)}function vd(o,s,u){Hr(o)?o.setValue(s,u):s.textContent=u}function yd(o,s){return o.createComment(function dh(o){return o.replace(Mp,s=>s.replace(Op,"\u200b$1\u200b"))}(s))}function Bo(o,s,u){if(Hr(o))return o.createElement(s,u);{const f=null!==u?function hr(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(u):null;return null===f?o.createElement(s):o.createElementNS(f,s)}}function za(o,s){const u=o[9],f=u.indexOf(s),m=s[3];1024&s[2]&&(s[2]&=-1025,Vo(m,-1)),u.splice(f,1)}function El(o,s){if(o.length<=10)return;const u=10+s,f=o[u];if(f){const m=f[17];null!==m&&m!==o&&za(m,f),s>0&&(o[u-1][4]=f[4]);const y=lc(o,10+s);!function Za(o,s){ha(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(f[1],f);const S=y[19];null!==S&&S.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function wl(o,s){if(!(256&s[2])){const u=s[11];Hr(u)&&u.destroyNode&&ha(o,s,u,3,null,null),function Ru(o){let s=o[13];if(!s)return Dl(o[1],o);for(;s;){let u=null;if($t(s))u=s[13];else{const f=s[10];f&&(u=f)}if(!u){for(;s&&!s[4]&&s!==o;)$t(s)&&Dl(s[1],s),s=s[3];null===s&&(s=o),$t(s)&&Dl(s[1],s),u=s&&s[4]}s=u}}(s)}}function Dl(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function _h(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const m=s[u[f]];if(!(m instanceof Ba)){const y=u[f+1];if(Array.isArray(y))for(let S=0;S<y.length;S+=2){const M=m[y[S]],F=y[S+1];try{F.call(M)}finally{}}else try{y.call(m)}finally{}}}}(o,s),function Sf(o,s){const u=o.cleanup,f=s[7];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const S=u[y+1],M="function"==typeof S?S(s):j(s[S]),F=f[m=u[y+2]],Q=u[y+3];"boolean"==typeof Q?M.removeEventListener(u[y],F,Q):Q>=0?f[m=Q]():f[m=-Q].unsubscribe(),y+=2}else{const S=f[m=u[y+1]];u[y].call(S)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();s[7]=null}}(o,s),1===s[1].type&&Hr(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&bn(s[3])){u!==s[3]&&za(u,s);const f=s[19];null!==f&&f.detachView(o)}}}function vh(o,s,u){return kp(o,s.parent,u)}function kp(o,s,u){let f=s;for(;null!==f&&40&f.type;)f=(s=f).parent;if(null===f)return u[0];if(2&f.flags){const m=o.data[f.directiveStart].encapsulation;if(m===lt.None||m===lt.Emulated)return null}return zt(f,u)}function Al(o,s,u,f,m){Hr(o)?o.insertBefore(s,u,f,m):s.insertBefore(u,f,m)}function Ef(o,s,u){Hr(o)?o.appendChild(s,u):s.appendChild(u)}function yh(o,s,u,f,m){null!==f?Al(o,s,u,f,m):Ef(o,s,u)}function Oc(o,s){return Hr(o)?o.parentNode(s):s.parentNode}function wf(o,s,u){return Fp(o,s,u)}function Lp(o,s,u){return 40&o.type?zt(o,u):null}let wa,Fp=Lp;function Nc(o,s){Fp=o,wa=s}function Ao(o,s,u,f){const m=vh(o,f,s),y=s[11],M=wf(f.parent||s[6],f,s);if(null!=m)if(Array.isArray(u))for(let F=0;F<u.length;F++)yh(y,m,u[F],M,!1);else yh(y,m,u,M,!1);void 0!==wa&&wa(y,f,s,u,m)}function $a(o,s){if(null!==s){const u=s.type;if(3&u)return zt(s,o);if(4&u)return Qc(-1,o[s.index]);if(8&u){const f=s.child;if(null!==f)return $a(o,f);{const m=o[s.index];return bn(m)?Qc(-1,m):j(m)}}if(32&u)return Yc(s,o)()||j(o[s.index]);{const f=Rc(o,s);return null!==f?Array.isArray(f)?f[0]:$a(ta(o[16]),f):$a(o,s.next)}}return null}function Rc(o,s){return null!==s?o[16][6].projection[s.projection]:null}function Qc(o,s){const u=10+o+1;if(u<s.length){const f=s[u],m=f[1].firstChild;if(null!==m)return $a(f,m)}return s[7]}function Td(o,s,u){const f=Oc(o,s);f&&function bd(o,s,u,f){Hr(o)?o.removeChild(s,u,f):s.removeChild(u)}(o,f,s,u)}function kc(o,s,u,f,m,y,S){for(;null!=u;){const M=f[u.index],F=u.type;if(S&&0===s&&(M&&_s(j(M),f),u.flags|=4),64!=(64&u.flags))if(8&F)kc(o,s,u.child,f,m,y,!1),Ji(s,o,m,M,y);else if(32&F){const Q=Yc(u,f);let se;for(;se=Q();)Ji(s,o,m,se,y);Ji(s,o,m,M,y)}else 16&F?Cd(o,s,f,u,m,y):Ji(s,o,m,M,y);u=S?u.projectionNext:u.next}}function ha(o,s,u,f,m,y){kc(u,f,o.firstChild,s,m,y,!1)}function Cd(o,s,u,f,m,y){const S=u[16],F=S[6].projection[f.projection];if(Array.isArray(F))for(let Q=0;Q<F.length;Q++)Ji(s,o,m,F[Q],y);else kc(o,s,F,S[3],m,y,!0)}function Ed(o,s,u){Hr(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function Da(o,s,u){Hr(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function vs(o,s,u){let f=o.length;for(;;){const m=o.indexOf(s,u);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const y=s.length;if(m+y===f||o.charCodeAt(m+y)<=32)return m}u=m+1}}const ku="ng-template";function nu(o,s,u){let f=0;for(;f<o.length;){let m=o[f++];if(u&&"class"===m){if(m=o[f],-1!==vs(m.toLowerCase(),s,0))return!0}else if(1===m){for(;f<o.length&&"string"==typeof(m=o[f++]);)if(m.toLowerCase()===s)return!0;return!1}}return!1}function xf(o){return 4===o.type&&o.value!==ku}function Xc(o,s,u){return s===(4!==o.type||u?o.value:ku)}function Lu(o,s,u){let f=4;const m=o.attrs||[],y=function If(o){for(let s=0;s<o.length;s++)if(fl(o[s]))return s;return o.length}(m);let S=!1;for(let M=0;M<s.length;M++){const F=s[M];if("number"!=typeof F){if(!S)if(4&f){if(f=2|1&f,""!==F&&!Xc(o,F,u)||""===F&&1===s.length){if(Vs(f))return!1;S=!0}}else{const Q=8&f?F:s[++M];if(8&f&&null!==o.attrs){if(!nu(o.attrs,Q,u)){if(Vs(f))return!1;S=!0}continue}const Ne=xl(8&f?"class":F,m,xf(o),u);if(-1===Ne){if(Vs(f))return!1;S=!0;continue}if(""!==Q){let et;et=Ne>y?"":m[Ne+1].toLowerCase();const Tt=8&f?et:null;if(Tt&&-1!==vs(Tt,Q,0)||2&f&&Q!==et){if(Vs(f))return!1;S=!0}}}}else{if(!S&&!Vs(f)&&!Vs(F))return!1;if(S&&Vs(F))continue;S=!1,f=F|1&f}}return Vs(f)||S}function Vs(o){return 0==(1&o)}function xl(o,s,u,f){if(null===s)return-1;let m=0;if(f||!u){let y=!1;for(;m<s.length;){const S=s[m];if(S===o)return m;if(3===S||6===S)y=!0;else{if(1===S||2===S){let M=s[++m];for(;"string"==typeof M;)M=s[++m];continue}if(4===S)break;if(0===S){m+=4;continue}}m+=y?1:2}return-1}return function Il(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===s)return u;u++}return-1}(s,o)}function bh(o,s,u=!1){for(let f=0;f<s.length;f++)if(Lu(o,s[f],u))return!0;return!1}function ru(o,s){e:for(let u=0;u<s.length;u++){const f=s[u];if(o.length===f.length){for(let m=0;m<o.length;m++)if(o[m]!==f[m])continue e;return!0}}return!1}function el(o,s){return o?":not("+s.trim()+")":s}function Th(o){let s=o[0],u=1,f=2,m="",y=!1;for(;u<o.length;){let S=o[u];if("string"==typeof S)if(2&f){const M=o[++u];m+="["+S+(M.length>0?'="'+M+'"':"")+"]"}else 8&f?m+="."+S:4&f&&(m+=" "+S);else""!==m&&!Vs(S)&&(s+=el(y,m),m=""),f=S,y=y||!Vs(f);u++}return""!==m&&(s+=el(y,m)),s}const A={};function v(o){C(dr(),en(),po()+o,ul())}function C(o,s,u,f){if(!f)if(3==(3&s[2])){const y=o.preOrderCheckHooks;null!==y&&Ks(s,y,u)}else{const y=o.preOrderHooks;null!==y&&Js(s,y,0,u)}ba(u)}function me(o,s){return o<<17|s<<2}function Re(o){return o>>17&32767}function Jn(o){return 2|o}function pr(o){return(131068&o)>>2}function Or(o,s){return-131069&o|s<<2}function fa(o){return 1|o}function Dh(o,s){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const m=u[f],y=u[f+1];if(-1!==y){const S=o.data[y];zs(m),S.contentQueries(2,s[y],y)}}}function Pd(o,s,u,f,m,y,S,M,F,Q){const se=s.blueprint.slice();return se[0]=m,se[2]=140|f,ko(se),se[3]=se[15]=o,se[8]=u,se[10]=S||o&&o[10],se[11]=M||o&&o[11],se[12]=F||o&&o[12]||null,se[9]=Q||o&&o[9]||null,se[6]=y,se[16]=2==s.type?o[16]:se,se}function Md(o,s,u,f,m){let y=o.data[s];if(null===y)y=Dm(o,s,u,f,m),function Vc(){return fr.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=f,y.attrs=m;const S=qs();y.injectorIndex=null===S?-1:S.injectorIndex}return oa(y,!0),y}function Dm(o,s,u,f,m){const y=ll(),S=ec(),F=o.data[s]=function Im(o,s,u,f,m,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,S?y:y&&y.parent,u,s,f,m);return null===o.firstChild&&(o.firstChild=F),null!==y&&(S?null==y.child&&null!==F.parent&&(y.child=F):null===y.next&&(y.next=F)),F}function Od(o,s,u,f){if(0===u)return-1;const m=s.length;for(let y=0;y<u;y++)s.push(f),o.blueprint.push(f),o.data.push(null);return m}function Nf(o,s,u){ka(s);try{const f=o.viewQuery;null!==f&&Gm(1,f,u);const m=o.template;null!==m&&Jp(o,s,m,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Dh(o,s),o.staticViewQueries&&Gm(2,o.viewQuery,u);const y=o.components;null!==y&&function Kp(o,s){for(let u=0;u<s.length;u++)dg(o,s[u])}(s,y)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{s[2]&=-5,aa()}}function Ah(o,s,u,f){const m=s[2];if(256==(256&m))return;ka(s);const y=ul();try{ko(s),function _a(o){return fr.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Jp(o,s,u,2,f);const S=3==(3&m);if(!y)if(S){const Q=o.preOrderCheckHooks;null!==Q&&Ks(s,Q,null)}else{const Q=o.preOrderHooks;null!==Q&&Js(s,Q,0,null),ui(s,0)}if(function lg(o){for(let s=Mc(o);null!==s;s=eu(s)){if(!s[2])continue;const u=s[9];for(let f=0;f<u.length;f++){const m=u[f],y=m[3];0==(1024&m[2])&&Vo(y,1),m[2]|=1024}}}(s),function cg(o){for(let s=Mc(o);null!==s;s=eu(s))for(let u=10;u<s.length;u++){const f=s[u],m=f[1];xi(f)&&Ah(m,f,m.template,f[8])}}(s),null!==o.contentQueries&&Dh(o,s),!y)if(S){const Q=o.contentCheckHooks;null!==Q&&Ks(s,Q)}else{const Q=o.contentHooks;null!==Q&&Js(s,Q,1),ui(s,1)}!function wh(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)ba(~m);else{const y=m,S=u[++f],M=u[++f];dl(S,y),M(2,s[y])}}}finally{ba(-1)}}(o,s);const M=o.components;null!==M&&function $p(o,s){for(let u=0;u<s.length;u++)ug(o,s[u])}(s,M);const F=o.viewQuery;if(null!==F&&Gm(2,F,f),!y)if(S){const Q=o.viewCheckHooks;null!==Q&&Ks(s,Q)}else{const Q=o.viewHooks;null!==Q&&Js(s,Q,2),ui(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),y||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Vo(s[3],-1))}finally{aa()}}function z_(o,s,u,f){const m=s[10],y=!ul(),S=Rr(s);try{y&&!S&&m.begin&&m.begin(),S&&Nf(o,s,f),Ah(o,s,u,f)}finally{y&&!S&&m.end&&m.end()}}function Jp(o,s,u,f,m){const y=po(),S=2&f;try{ba(-1),S&&s.length>20&&C(o,s,20,ul()),u(f,m)}finally{ba(y)}}function xh(o,s,u){if(Dr(s)){const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const S=o.data[y];S.contentQueries&&S.contentQueries(1,u[y],y)}}}function Nd(o,s,u){!Ds()||(function Q_(o,s,u,f){const m=u.directiveStart,y=u.directiveEnd;o.firstCreatePass||D(u,s),_s(f,s);const S=u.initialInputs;for(let M=m;M<y;M++){const F=o.data[M],Q=vi(F);Q&&Lm(s,u,F);const se=Xr(s,o,M,u);_s(se,s),null!==S&&ag(0,M-m,se,F,0,S),Q&&(Ur(u.index,s)[8]=se)}}(o,s,u,zt(u,s)),128==(128&u.flags)&&function ng(o,s,u){const f=u.directiveStart,m=u.directiveEnd,S=u.index,M=function va(){return fr.lFrame.currentDirectiveIndex}();try{ba(S);for(let F=f;F<m;F++){const Q=o.data[F],se=s[F];sa(F),(null!==Q.hostBindings||0!==Q.hostVars||null!==Q.hostAttrs)&&Mh(Q,se)}}finally{ba(-1),sa(M)}}(o,s,u))}function Rf(o,s,u=zt){const f=s.localNames;if(null!==f){let m=s.index+1;for(let y=0;y<f.length;y+=2){const S=f[y+1],M=-1===S?u(s,o):o[S];o[m++]=M}}}function Am(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=Yp(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function Yp(o,s,u,f,m,y,S,M,F,Q){const se=20+f,Ne=se+m,et=function $_(o,s){const u=[];for(let f=0;f<s;f++)u.push(f<o?null:A);return u}(se,Ne),Tt="function"==typeof Q?Q():Q;return et[1]={type:o,blueprint:et,template:u,queries:null,viewQuery:M,declTNode:s,data:et.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Ne,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof S?S():S,firstChild:null,schemas:F,consts:Tt,incompleteFirstPass:!1}}function Ih(o,s,u,f){const m=Lf(s);null===u?m.push(f):(m.push(u),o.firstCreatePass&&fg(o).push(f,m.length-1))}function Gu(o,s,u){for(let f in o)if(o.hasOwnProperty(f)){const m=o[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(s,m):u[f]=[s,m]}return u}function js(o,s,u,f,m,y,S,M){const F=zt(s,u);let se,Q=s.inputs;!M&&null!=Q&&(se=Q[f])?(t0(o,u,se,f,m),jr(s)&&function eg(o,s){const u=Ur(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(f=function Xp(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),m=null!=S?S(m,s.value||"",f):m,Hr(y)?y.setProperty(F,f,m):Qn(f)||(F.setProperty?F.setProperty(f,m):F[f]=m))}function Ph(o,s,u,f){let m=!1;if(Ds()){const y=function rg(o,s,u){const f=o.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const S=f[y];bh(u,S.selectors,!1)&&(m||(m=[]),Ve(D(u,s),o,S.type),vi(S)?(ig(o,u),m.unshift(S)):m.push(S))}return m}(o,s,u),S=null===f?null:{"":-1};if(null!==y){m=!0,Rm(u,o.data.length,y.length);for(let se=0;se<y.length;se++){const Ne=y[se];Ne.providersResolver&&Ne.providersResolver(Ne)}let M=!1,F=!1,Q=Od(o,s,y.length,null);for(let se=0;se<y.length;se++){const Ne=y[se];u.mergedAttrs=br(u.mergedAttrs,Ne.hostAttrs),km(o,u,s,Q,Ne),og(Q,Ne,S),null!==Ne.contentQueries&&(u.flags|=8),(null!==Ne.hostBindings||null!==Ne.hostAttrs||0!==Ne.hostVars)&&(u.flags|=128);const et=Ne.type.prototype;!M&&(et.ngOnChanges||et.ngOnInit||et.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),M=!0),!F&&(et.ngOnChanges||et.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),F=!0),Q++}!function Qp(o,s){const f=s.directiveEnd,m=o.data,y=s.attrs,S=[];let M=null,F=null;for(let Q=s.directiveStart;Q<f;Q++){const se=m[Q],Ne=se.inputs,et=null===y||xf(s)?null:X_(Ne,y);S.push(et),M=Gu(Ne,Q,M),F=Gu(se.outputs,Q,F)}null!==M&&(M.hasOwnProperty("class")&&(s.flags|=16),M.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=S,s.inputs=M,s.outputs=F}(o,u)}S&&function Rd(o,s,u){if(s){const f=o.localNames=[];for(let m=0;m<s.length;m+=2){const y=u[s[m+1]];if(null==y)throw new Qe(-301,!1);f.push(s[m],y)}}}(u,f,S)}return u.mergedAttrs=br(u.mergedAttrs,u.attrs),m}function Nm(o,s,u,f,m,y){const S=y.hostBindings;if(S){let M=o.hostBindingOpCodes;null===M&&(M=o.hostBindingOpCodes=[]);const F=~s.index;(function tg(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(M)!=F&&M.push(F),M.push(f,m,S)}}function Mh(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function ig(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function og(o,s,u){if(u){if(s.exportAs)for(let f=0;f<s.exportAs.length;f++)u[s.exportAs[f]]=o;vi(s)&&(u[""]=o)}}function Rm(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function km(o,s,u,f,m){o.data[f]=m;const y=m.factory||(m.factory=Z(m.type)),S=new Ba(y,vi(m),null);o.blueprint[f]=S,u[f]=S,Nm(o,s,0,f,Od(o,u,m.hostVars,A),m)}function Lm(o,s,u){const f=zt(s,o),m=Am(u),y=o[10],S=kd(o,Pd(o,m,null,u.onPush?64:16,f,s,y,y.createRenderer(f,u),null,null));o[s.index]=S}function sg(o,s,u,f,m,y,S){if(null==y)Hr(o)?o.removeAttribute(s,m,u):s.removeAttribute(m);else{const M=null==S?ve(y):S(y,f||"",m);Hr(o)?o.setAttribute(s,m,M,u):u?s.setAttributeNS(u,m,M):s.setAttribute(m,M)}}function ag(o,s,u,f,m,y){const S=y[s];if(null!==S){const M=f.setInput;for(let F=0;F<S.length;){const Q=S[F++],se=S[F++],Ne=S[F++];null!==M?f.setInput(u,Ne,Q,se):u[se]=Ne}}}function X_(o,s){let u=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;o.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,o[m],s[f+1])),f+=2}else f+=2;else f+=4}return u}function Bm(o,s,u,f){return new Array(o,!0,!1,s,null,0,f,u,null,null)}function ug(o,s){const u=Ur(s,o);if(xi(u)){const f=u[1];80&u[2]?Ah(f,u,f.template,u[8]):u[5]>0&&kf(u)}}function kf(o){for(let f=Mc(o);null!==f;f=eu(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const S=y[1];Ah(S,y,S.template,y[8])}else y[5]>0&&kf(y)}const u=o[1].components;if(null!==u)for(let f=0;f<u.length;f++){const m=Ur(u[f],o);xi(m)&&m[5]>0&&kf(m)}}function dg(o,s){const u=Ur(s,o),f=u[1];(function hg(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(f,u),Nf(f,u,u[8])}function kd(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function cu(o){for(;o;){o[2]|=64;const s=ta(o);if(Ro(o)&&!s)return o;o=s}return null}function uu(o,s,u){const f=s[10];f.begin&&f.begin();try{Ah(o,s,o.template,u)}catch(m){throw e0(s,m),m}finally{f.end&&f.end()}}function Vu(o){!function Oh(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],f=lh(u),m=f[1];z_(m,f,m.template,u)}}(o[8])}function Gm(o,s,u){zs(0),s(o,u)}const Vm=(()=>Promise.resolve(null))();function Lf(o){return o[7]||(o[7]=[])}function fg(o){return o.cleanup||(o.cleanup=[])}function e0(o,s){const u=o[9],f=u?u.get(ua,null):null;f&&f.handleError(s)}function t0(o,s,u,f,m){for(let y=0;y<u.length;){const S=u[y++],M=u[y++],F=s[S],Q=o.data[S];null!==Q.setInput?Q.setInput(F,m,f,M):F[M]=m}}function nl(o,s,u){const f=Mt(s,o);vd(o[11],f,u)}function Nh(o,s,u){let f=u?o.styles:null,m=u?o.classes:null,y=0;if(null!==s)for(let S=0;S<s.length;S++){const M=s[S];"number"==typeof M?y=M:1==y?m=ne(m,M):2==y&&(f=ne(f,M+": "+s[++S]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=m:o.classesWithoutHost=m}const gg=new Ui("INJECTOR",-1);class mg{get(s,u=qc){if(u===qc){const f=new Error(`NullInjectorError: No provider for ${J(s)}!`);throw f.name="NullInjectorError",f}return u}}const Ff=new Ui("Set Injector scope."),Rh={},Z1={};let _g;function r0(){return void 0===_g&&(_g=new mg),_g}function Hm(o,s=null,u=null,f){const m=Bf(o,s,u,f);return m._resolveInjectorDefTypes(),m}function Bf(o,s=null,u=null,f){return new Zm(o,u,s||r0(),f)}class Zm{constructor(s,u,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&fs(u,M=>this.processProvider(M,s,u)),fs([s],M=>this.processInjectorType(M,[],y)),this.records.set(gg,Fc(void 0,this));const S=this.records.get(Ff);this.scope=null!=S?S.value:null,this.source=m||("object"==typeof s?null:J(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=qc,f=Bn.Default){this.assertNotDestroyed();const m=Dt(this),y=ei(void 0);try{if(!(f&Bn.SkipSelf)){let M=this.records.get(s);if(void 0===M){const F=function W1(o){return"function"==typeof o||"object"==typeof o&&o instanceof Ui}(s)&&_r(s);M=F&&this.injectableDefInScope(F)?Fc(Uf(s),Rh):null,this.records.set(s,M)}if(null!=M)return this.hydrate(s,M)}return(f&Bn.Self?r0():this.parent).get(s,u=f&Bn.Optional&&u===qc?null:u)}catch(S){if("NullInjectorError"===S.name){if((S[zc]=S[zc]||[]).unshift(J(s)),m)throw S;return function _o(o,s,u,f){const m=o[zc];throw s[le]&&m.unshift(s[le]),o.message=function ca(o,s,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let m=J(s);if(Array.isArray(s))m=s.map(J).join(" -> ");else if("object"==typeof s){let y=[];for(let S in s)if(s.hasOwnProperty(S)){let M=s[S];y.push(S+":"+("string"==typeof M?JSON.stringify(M):J(M)))}m=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${o.replace(U,"\n  ")}`}("\n"+o.message,m,u,f),o.ngTokenPath=m,o[zc]=null,o}(S,s,"R3InjectorError",this.source)}throw S}finally{ei(y),Dt(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((f,m)=>s.push(J(m))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Qe(205,!1)}processInjectorType(s,u,f){if(!(s=pe(s)))return!1;let m=Pi(s);const y=null==m&&s.ngModule||void 0,S=void 0===y?s:y,M=-1!==f.indexOf(S);if(void 0!==y&&(m=Pi(y)),null==m)return!1;if(null!=m.imports&&!M){let se;f.push(S);try{fs(m.imports,Ne=>{this.processInjectorType(Ne,u,f)&&(void 0===se&&(se=[]),se.push(Ne))})}finally{}if(void 0!==se)for(let Ne=0;Ne<se.length;Ne++){const{ngModule:et,providers:Tt}=se[Ne];fs(Tt,Gt=>this.processProvider(Gt,et,Tt||Ut))}}this.injectorDefTypes.add(S);const F=Z(S)||(()=>new S);this.records.set(S,Fc(F,Rh));const Q=m.providers;if(null!=Q&&!M){const se=s;fs(Q,Ne=>this.processProvider(Ne,se,Q))}return void 0!==y&&void 0!==s.providers}processProvider(s,u,f){let m=Aa(s=pe(s))?s:pe(s&&s.provide);const y=function vg(o,s,u){return Wm(o)?Fc(void 0,o.useValue):Fc(s0(o),Rh)}(s);if(Aa(s)||!0!==s.multi)this.records.get(m);else{let S=this.records.get(m);S||(S=Fc(void 0,Rh,!0),S.factory=()=>ni(S.multi),this.records.set(m,S)),m=s,S.multi.push(s)}this.records.set(m,y)}hydrate(s,u){return u.value===Rh&&(u.value=Z1,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Tg(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=pe(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function Uf(o){const s=_r(o),u=null!==s?s.factory:Z(o);if(null!==u)return u;if(o instanceof Ui)throw new Qe(204,!1);if(o instanceof Function)return function o0(o){const s=o.length;if(s>0)throw xs(s,"?"),new Qe(204,!1);const u=function xr(o){const s=o&&(o[Ti]||o[qr]);if(s){const u=function Vr(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Qe(204,!1)}function s0(o,s,u){let f;if(Aa(o)){const m=pe(o);return Z(m)||Uf(m)}if(Wm(o))f=()=>pe(o.useValue);else if(function bg(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...ni(o.deps||[]));else if(function yg(o){return!(!o||!o.useExisting)}(o))f=()=>Dn(pe(o.useExisting));else{const m=pe(o&&(o.useClass||o.provide));if(!function ju(o){return!!o.deps}(o))return Z(m)||Uf(m);f=()=>new m(...ni(o.deps))}return f}function Fc(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function Wm(o){return null!==o&&"object"==typeof o&&Ge in o}function Aa(o){return"function"==typeof o}let _c=(()=>{class o{static create(u,f){var m;if(Array.isArray(u))return Hm({name:""},f,u,"");{const y=null!==(m=u.name)&&void 0!==m?m:"";return Hm({name:y},u.parent,u.providers,y)}}}return o.THROW_IF_NOT_FOUND=qc,o.NULL=new mg,o.\u0275prov=$n({token:o,providedIn:"any",factory:()=>Dn(gg)}),o.__NG_ELEMENT_ID__=-1,o})();function Xm(o,s){Ta(lh(o)[1],Mi())}function Bh(o){let s=function Bd(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;s;){let m;if(vi(o))m=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Qe(903,"");m=s.\u0275dir}if(m){if(u){f.push(m);const S=o;S.inputs=Zf(o.inputs),S.declaredInputs=Zf(o.declaredInputs),S.outputs=Zf(o.outputs);const M=m.hostBindings;M&&e_(o,M);const F=m.viewQuery,Q=m.contentQueries;if(F&&q1(o,F),Q&&z1(o,Q),Y(o.inputs,m.inputs),Y(o.declaredInputs,m.declaredInputs),Y(o.outputs,m.outputs),vi(m)&&m.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let S=0;S<y.length;S++){const M=y[S];M&&M.ngInherit&&M(o),M===Bh&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Ag(o){let s=0,u=null;for(let f=o.length-1;f>=0;f--){const m=o[f];m.hostVars=s+=m.hostVars,m.hostAttrs=br(m.hostAttrs,u=br(u,m.hostAttrs))}}(f)}function Zf(o){return o===Hn?{}:o===Ut?[]:o}function q1(o,s){const u=o.viewQuery;o.viewQuery=u?(f,m)=>{s(f,m),u(f,m)}:s}function z1(o,s){const u=o.contentQueries;o.contentQueries=u?(f,m,y)=>{s(f,m,y),u(f,m,y)}:s}function e_(o,s){const u=o.hostBindings;o.hostBindings=u?(f,m)=>{s(f,m),u(f,m)}:s}let Hu=null;function Ud(){if(!Hu){const o=an.Symbol;if(o&&o.iterator)Hu=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const f=s[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(Hu=f)}}}return Hu}function Gd(o){return!!Gh(o)&&(Array.isArray(o)||!(o instanceof Map)&&Ud()in o)}function Gh(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Os(o,s,u){return o[s]=u}function ys(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function Ol(o,s,u,f){const m=ys(o,s,u);return ys(o,s+1,f)||m}function Ma(o,s,u,f){const m=en();return ys(m,ks(),s)&&(dr(),function Lc(o,s,u,f,m,y){const S=zt(o,s);sg(s[11],S,y,o.value,u,f,m)}(Bi(),m,o,s,u,f)),Ma}function Zu(o,s,u,f){return ys(o,ks(),u)?s+ve(u)+f:A}function Wf(o,s,u,f,m,y,S,M){const F=en(),Q=dr(),se=o+20,Ne=Q.firstCreatePass?function m0(o,s,u,f,m,y,S,M,F){const Q=s.consts,se=Md(s,o,4,S||null,ci(Q,M));Ph(s,u,se,ci(Q,F)),Ta(s,se);const Ne=se.tViews=Yp(2,se,f,m,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,Q);return null!==s.queries&&(s.queries.template(s,se),Ne.queries=s.queries.embeddedTView(se)),se}(se,Q,F,s,u,f,m,y,S):Q.data[se];oa(Ne,!1);const et=F[11].createComment("");Ao(Q,F,et,Ne),_s(et,F),kd(F,F[se]=Bm(et,F,et,Ne)),Ir(Ne)&&Nd(Q,F,Ne),null!=S&&Rf(F,Ne,M)}function s_(o){return Br(function Sc(){return fr.lFrame.contextLView}(),20+o)}function Rl(o,s=Bn.Default){const u=en();return null===u?Dn(o,s):On(Mi(),u,pe(o),s)}function Lg(){throw new Error("invalid")}function Wd(o,s,u){const f=en();return ys(f,ks(),s)&&js(dr(),Bi(),f,o,s,f[11],u,!1),Wd}function Fg(o,s,u,f,m){const S=m?"class":"style";t0(o,u,s.inputs[S],S,f)}function Bg(o,s,u,f){const m=en(),y=dr(),S=20+o,M=m[11],F=m[S]=Bo(M,s,function lo(){return fr.lFrame.currentNamespace}()),Q=y.firstCreatePass?function p_(o,s,u,f,m,y,S){const M=s.consts,Q=Md(s,o,2,m,ci(M,y));return Ph(s,u,Q,ci(M,S)),null!==Q.attrs&&Nh(Q,Q.attrs,!1),null!==Q.mergedAttrs&&Nh(Q,Q.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,Q),Q}(S,y,m,0,s,u,f):y.data[S];oa(Q,!0);const se=Q.mergedAttrs;null!==se&&ic(M,F,se);const Ne=Q.classes;null!==Ne&&Da(M,F,Ne);const et=Q.styles;return null!==et&&Ed(M,F,et),64!=(64&Q.flags)&&Ao(y,m,F,Q),0===function jo(){return fr.lFrame.elementDepthCount}()&&_s(F,m),function ls(){fr.lFrame.elementDepthCount++}(),Ir(Q)&&(Nd(y,m,Q),xh(y,Q,m)),null!==f&&Rf(m,Q),Bg}function Ug(){let o=Mi();ec()?Na():(o=o.parent,oa(o,!1));const s=o;!function ws(){fr.lFrame.elementDepthCount--}();const u=dr();return u.firstCreatePass&&(Ta(u,o),Dr(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Ys(o){return 0!=(16&o.flags)}(s)&&Fg(u,s,en(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function yu(o){return 0!=(32&o.flags)}(s)&&Fg(u,s,en(),s.stylesWithoutHost,!1),Ug}function g_(o,s,u,f){return Bg(o,s,u,f),Ug(),g_}function Jf(o,s,u){const f=en(),m=dr(),y=o+20,S=m.firstCreatePass?function b0(o,s,u,f,m){const y=s.consts,S=ci(y,f),M=Md(s,o,8,"ng-container",S);return null!==S&&Nh(M,S,!0),Ph(s,u,M,ci(y,m)),null!==s.queries&&s.queries.elementStart(s,M),M}(y,m,f,s,u):m.data[y];oa(S,!0);const M=f[y]=f[11].createComment("");return Ao(m,f,M,S),_s(M,f),Ir(S)&&(Nd(m,f,S),xh(m,S,f)),null!=u&&Rf(f,S),Jf}function kl(){let o=Mi();const s=dr();return ec()?Na():(o=o.parent,oa(o,!1)),s.firstCreatePass&&(Ta(s,o),Dr(o)&&s.queries.elementEnd(o)),kl}function Yf(o,s,u){return Jf(o,s,u),kl(),Yf}function m_(){return en()}function Qf(o){return!!o&&"function"==typeof o.then}function Gg(o){return!!o&&"function"==typeof o.subscribe}const T0=Gg;function zh(o,s,u,f){const m=en(),y=dr(),S=Mi();return function jg(o,s,u,f,m,y,S,M){const F=Ir(f),se=o.firstCreatePass&&fg(o),Ne=s[8],et=Lf(s);let Tt=!0;if(3&f.type||M){const Ln=zt(f,s),ur=M?M(Ln):Ln,Kt=et.length,Ar=M?mi=>M(j(mi[f.index])):f.index;if(Hr(u)){let mi=null;if(!M&&F&&(mi=function Vg(o,s,u,f){const m=o.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const S=m[y];if(S===u&&m[y+1]===f){const M=s[7],F=m[y+2];return M.length>F?M[F]:null}"string"==typeof S&&(y+=2)}return null}(o,s,m,f.index)),null!==mi)(mi.__ngLastListenerFn__||mi).__ngNextListenerFn__=y,mi.__ngLastListenerFn__=y,Tt=!1;else{y=Wi(f,s,Ne,y,!1);const hi=u.listen(ur,m,y);et.push(y,hi),se&&se.push(m,Ar,Kt,Kt+1)}}else y=Wi(f,s,Ne,y,!0),ur.addEventListener(m,y,S),et.push(y),se&&se.push(m,Ar,Kt,S)}else y=Wi(f,s,Ne,y,!1);const Gt=f.outputs;let wn;if(Tt&&null!==Gt&&(wn=Gt[m])){const Ln=wn.length;if(Ln)for(let ur=0;ur<Ln;ur+=2){const Zs=s[wn[ur]][wn[ur+1]].subscribe(y),Ul=et.length;et.push(y,Zs),se&&se.push(m,f.index,Ul,-(Ul+1))}}}(y,m,m[11],S,o,s,!!u,f),zh}function vc(o,s,u,f){try{return!1!==u(f)}catch(m){return e0(o,m),!1}}function Wi(o,s,u,f,m){return function y(S){if(S===Function)return f;const M=2&o.flags?Ur(o.index,s):s;0==(32&s[2])&&cu(M);let F=vc(s,0,f,S),Q=y.__ngNextListenerFn__;for(;Q;)F=vc(s,0,Q,S)&&F,Q=Q.__ngNextListenerFn__;return m&&!1===F&&(S.preventDefault(),S.returnValue=!1),F}}function ol(o=1){return function $s(o){return(fr.lFrame.contextLView=function wc(o,s){for(;o>0;)s=s[15],o--;return s}(o,fr.lFrame.contextLView))[8]}(o)}function qu(o,s){let u=null;const f=function Fu(o){const s=o.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(o);for(let m=0;m<s.length;m++){const y=s[m];if("*"!==y){if(null===f?bh(o,y,!0):ru(f,y))return m}else u=m}return u}function zu(o){const s=en()[16][6];if(!s.projection){const f=s.projection=xs(o?o.length:1,null),m=f.slice();let y=s.child;for(;null!==y;){const S=o?qu(y,o):0;null!==S&&(m[S]?m[S].projectionNext=y:f[S]=y,m[S]=y),y=y.next}}}function $u(o,s=0,u){const f=en(),m=dr(),y=Md(m,20+o,16,null,u||null);null===y.projection&&(y.projection=s),Na(),64!=(64&y.flags)&&function Df(o,s,u){Cd(s[11],0,s,u,vh(o,u,s),wf(u.parent||s[6],u,s))}(m,f,y)}function Hg(o,s,u){return $h(o,"",s,"",u),Hg}function $h(o,s,u,f,m){const y=en(),S=Zu(y,s,u,f);return S!==A&&js(dr(),Bi(),y,o,S,y[11],m,!1),$h}function np(o,s,u,f,m){const y=o[u+1],S=null===s;let M=f?Re(y):pr(y),F=!1;for(;0!==M&&(!1===F||S);){const se=o[M+1];E0(o[M],s)&&(F=!0,o[M+1]=f?fa(se):Jn(se)),M=f?Re(se):pr(se)}F&&(o[u+1]=f?Jn(y):fa(y))}function E0(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&Is(o,s)>=0}const Io={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Ku(o){return o.substring(Io.key,Io.keyEnd)}function y_(o,s){const u=Io.textEnd;return u===s?-1:(s=Io.keyEnd=function Db(o,s,u){for(;s<u&&o.charCodeAt(s)>32;)s++;return s}(o,Io.key=s,u),Ju(o,s,u))}function Ju(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function I0(o,s,u){return yc(o,s,u,!1),I0}function P0(o,s){return yc(o,s,null,!0),P0}function T_(o){!function bc(o,s,u,f){const m=dr(),y=Xo(2);m.firstUpdatePass&&O0(m,null,y,f);const S=en();if(u!==A&&ys(S,y,u)){const M=m.data[po()];if(n(M,f)&&!Jh(m,y)){let F=f?M.classesWithoutHost:M.stylesWithoutHost;null!==F&&(u=ne(F,u||"")),Fg(m,M,S,u,f)}else!function op(o,s,u,f,m,y,S,M){m===A&&(m=Ut);let F=0,Q=0,se=0<m.length?m[0]:null,Ne=0<y.length?y[0]:null;for(;null!==se||null!==Ne;){const et=F<m.length?m[F+1]:void 0,Tt=Q<y.length?y[Q+1]:void 0;let wn,Gt=null;se===Ne?(F+=2,Q+=2,et!==Tt&&(Gt=Ne,wn=Tt)):null===Ne||null!==se&&se<Ne?(F+=2,Gt=se):(Q+=2,Gt=Ne,wn=Tt),null!==Gt&&E_(o,s,u,f,Gt,wn,S,M),se=F<m.length?m[F]:null,Ne=Q<y.length?y[Q]:null}}(m,M,S,S[11],S[y+1],S[y+1]=function R0(o,s,u){if(null==u||""===u)return Ut;const f=[],m=Us(u);if(Array.isArray(m))for(let y=0;y<m.length;y++)o(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&o(f,y,m[y]);else"string"==typeof m&&s(f,m);return f}(o,s,u),f,y)}}(wo,sl,o,!0)}function sl(o,s){for(let u=function D0(o){return function x0(o){Io.key=0,Io.keyEnd=0,Io.value=0,Io.valueEnd=0,Io.textEnd=o.length}(o),y_(o,Ju(o,0,Io.textEnd))}(s);u>=0;u=y_(s,u))wo(o,Ku(s),!0)}function yc(o,s,u,f){const m=en(),y=dr(),S=Xo(2);y.firstUpdatePass&&O0(y,o,S,f),s!==A&&ys(m,S,s)&&E_(y,y.data[po()],m,m[11],o,m[S+1]=function l(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=J(Us(o)))),o}(s,u),f,S)}function Jh(o,s){return s>=o.expandoStartIndex}function O0(o,s,u,f){const m=o.data;if(null===m[u+1]){const y=m[po()],S=Jh(o,u);n(y,f)&&null===s&&!S&&(s=!1),s=function fu(o,s,u,f){const m=function ya(o){const s=fr.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let y=f?s.residualClasses:s.residualStyles;if(null===m)0===(f?s.classBindings:s.styleBindings)&&(u=ip(u=N0(null,o,s,u,f),s.attrs,f),y=null);else{const S=s.directiveStylingLast;if(-1===S||o[S]!==m)if(u=N0(m,o,s,u,f),null===y){let F=function C_(o,s,u){const f=u?s.classBindings:s.styleBindings;if(0!==pr(f))return o[Re(f)]}(o,s,f);void 0!==F&&Array.isArray(F)&&(F=N0(null,o,s,F[1],f),F=ip(F,s.attrs,f),function S_(o,s,u,f){o[Re(u?s.classBindings:s.styleBindings)]=f}(o,s,f,F))}else y=function $d(o,s,u){let f;const m=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<m;y++)f=ip(f,o[y].hostAttrs,u);return ip(f,s.attrs,u)}(o,s,f)}return void 0!==y&&(f?s.residualClasses=y:s.residualStyles=y),u}(m,y,s,f),function qd(o,s,u,f,m,y){let S=y?s.classBindings:s.styleBindings,M=Re(S),F=pr(S);o[f]=u;let se,Q=!1;if(Array.isArray(u)){const Ne=u;se=Ne[1],(null===se||Is(Ne,se)>0)&&(Q=!0)}else se=u;if(m)if(0!==F){const et=Re(o[M+1]);o[f+1]=me(et,M),0!==et&&(o[et+1]=Or(o[et+1],f)),o[M+1]=function nn(o,s){return 131071&o|s<<17}(o[M+1],f)}else o[f+1]=me(M,0),0!==M&&(o[M+1]=Or(o[M+1],f)),M=f;else o[f+1]=me(F,0),0===M?M=f:o[F+1]=Or(o[F+1],f),F=f;Q&&(o[f+1]=Jn(o[f+1])),np(o,se,f,!0),np(o,se,f,!1),function zd(o,s,u,f,m){const y=m?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof s&&Is(y,s)>=0&&(u[f+1]=fa(u[f+1]))}(s,se,o,f,y),S=me(M,F),y?s.classBindings=S:s.styleBindings=S}(m,y,s,u,S,f)}}function N0(o,s,u,f,m){let y=null;const S=u.directiveEnd;let M=u.directiveStylingLast;for(-1===M?M=u.directiveStart:M++;M<S&&(y=s[M],f=ip(f,y.hostAttrs,m),y!==o);)M++;return null!==o&&(u.directiveStylingLast=M),f}function ip(o,s,u){const f=u?1:2;let m=-1;if(null!==s)for(let y=0;y<s.length;y++){const S=s[y];"number"==typeof S?m=S:m===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),wo(o,S,!!u||s[++y]))}return void 0===o?null:o}function E_(o,s,u,f,m,y,S,M){if(!(3&s.type))return;const F=o.data,Q=F[M+1];Yh(function Yi(o){return 1==(1&o)}(Q)?L0(F,s,u,m,pr(Q),S):void 0)||(Yh(y)||function At(o){return 2==(2&o)}(Q)&&(y=L0(F,null,u,m,M,S)),function Ka(o,s,u,f,m){const y=Hr(o);if(s)m?y?o.addClass(u,f):u.classList.add(f):y?o.removeClass(u,f):u.classList.remove(f);else{let S=-1===f.indexOf("-")?void 0:Ea.DashCase;if(null==m)y?o.removeStyle(u,f,S):u.style.removeProperty(f);else{const M="string"==typeof m&&m.endsWith("!important");M&&(m=m.slice(0,-10),S|=Ea.Important),y?o.setStyle(u,f,m,S):u.style.setProperty(f,m,M?"important":"")}}}(f,S,Mt(po(),u),m,y))}function L0(o,s,u,f,m,y){const S=null===s;let M;for(;m>0;){const F=o[m],Q=Array.isArray(F),se=Q?F[1]:F,Ne=null===se;let et=u[m+1];et===A&&(et=Ne?Ut:void 0);let Tt=Ne?yl(et,f):se===f?et:void 0;if(Q&&!Yh(Tt)&&(Tt=yl(F,f)),Yh(Tt)&&(M=Tt,S))return M;const Gt=o[m+1];m=S?Re(Gt):pr(Gt)}if(null!==s){let F=y?s.residualClasses:s.residualStyles;null!=F&&(M=yl(F,f))}return M}function Yh(o){return void 0!==o}function n(o,s){return 0!=(o.flags&(s?16:32))}function a(o,s=""){const u=en(),f=dr(),m=o+20,y=f.firstCreatePass?Md(f,m,1,s,null):f.data[m],S=u[m]=da(u[11],s);Ao(f,u,S,y),oa(y,!1)}function d(o){return g("",o,""),d}function g(o,s,u){const f=en(),m=Zu(f,o,s,u);return m!==A&&nl(f,po(),m),g}function b(o,s,u,f,m){const y=en(),S=function Bc(o,s,u,f,m,y){const M=Ol(o,ma(),u,m);return Xo(2),M?s+ve(u)+f+ve(m)+y:A}(y,o,s,u,f,m);return S!==A&&nl(y,po(),S),b}function av(o,s,u){const f=en();return ys(f,ks(),s)&&js(dr(),Bi(),f,o,s,f[11],u,!0),av}const Yd=void 0;var TS=["en",[["a","p"],["AM","PM"],Yd],[["AM","PM"],Yd,Yd],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Yd,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Yd,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Yd,"{1} 'at' {0}",Yd],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function bS(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let Qh={};function CS(o,s,u){"string"!=typeof s&&(u=s,s=o[kr.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),Qh[s]=o,u&&(Qh[s][kr.ExtraData]=u)}function cv(o){const s=function Bb(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=lv(s);if(u)return u;const f=s.split("-")[0];if(u=lv(f),u)return u;if("en"===f)return TS;throw new Error(`Missing locale data for the locale "${o}".`)}function Fb(o){return cv(o)[kr.PluralCase]}function lv(o){return o in Qh||(Qh[o]=an.ng&&an.ng.common&&an.ng.common.locales&&an.ng.common.locales[o]),Qh[o]}var kr=(()=>((kr=kr||{})[kr.LocaleId=0]="LocaleId",kr[kr.DayPeriodsFormat=1]="DayPeriodsFormat",kr[kr.DayPeriodsStandalone=2]="DayPeriodsStandalone",kr[kr.DaysFormat=3]="DaysFormat",kr[kr.DaysStandalone=4]="DaysStandalone",kr[kr.MonthsFormat=5]="MonthsFormat",kr[kr.MonthsStandalone=6]="MonthsStandalone",kr[kr.Eras=7]="Eras",kr[kr.FirstDayOfWeek=8]="FirstDayOfWeek",kr[kr.WeekendRange=9]="WeekendRange",kr[kr.DateFormat=10]="DateFormat",kr[kr.TimeFormat=11]="TimeFormat",kr[kr.DateTimeFormat=12]="DateTimeFormat",kr[kr.NumberSymbols=13]="NumberSymbols",kr[kr.NumberFormats=14]="NumberFormats",kr[kr.CurrencyCode=15]="CurrencyCode",kr[kr.CurrencySymbol=16]="CurrencySymbol",kr[kr.CurrencyName=17]="CurrencyName",kr[kr.Currencies=18]="Currencies",kr[kr.Directionality=19]="Directionality",kr[kr.PluralCase=20]="PluralCase",kr[kr.ExtraData=21]="ExtraData",kr))();const SS=["zero","one","two","few","many"],qg="en-US",U0={marker:"element"},G0={marker:"ICU"};var Cs=(()=>((Cs=Cs||{})[Cs.SHIFT=2]="SHIFT",Cs[Cs.APPEND_EAGERLY=1]="APPEND_EAGERLY",Cs[Cs.COMMENT=2]="COMMENT",Cs))();let V0=qg;function Ub(o,s,u){const f=s.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?Lp(o,0,u):j(u[m])}function Gb(o,s,u,f,m){const y=s.insertBeforeIndex;if(Array.isArray(y)){let S=f,M=null;if(3&s.type||(M=S,S=m),null!==S&&0==(2&s.flags))for(let F=1;F<y.length;F++)Al(o,S,u[y[F]],M,!1)}}function j0(o,s){if(o.push(s),o.length>1)for(let u=o.length-2;u>=0;u--){const f=o[u];Vb(f)||xS(f,s)&&null===IS(f)&&PS(f,s.index)}}function Vb(o){return!(64&o.type)}function xS(o,s){return Vb(s)||o.index>s.index}function IS(o){const s=o.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function PS(o,s){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=s:(Nc(Ub,Gb),o.insertBeforeIndex=s)}function zg(o,s){const u=o.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function NS(o,s,u){const f=Dm(o,u,64,null,null);return j0(s,f),f}function H0(o,s){const u=s[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function Z0(o){return o>>>17}function uv(o){return(131070&o)>>>1}let Xh=0,so=0;function hv(o,s,u,f){const m=u[11];let S,y=null;for(let M=0;M<s.length;M++){const F=s[M];if("string"==typeof F){const Q=s[++M];null===u[Q]&&(u[Q]=da(m,F))}else if("number"==typeof F)switch(1&F){case 0:const Q=Z0(F);let se,Ne;if(null===y&&(y=Q,S=Oc(m,f)),Q===y?(se=f,Ne=S):(se=null,Ne=j(u[Q])),null!==Ne){const wn=uv(F);Al(m,Ne,u[wn],se,!1);const ur=zg(o,wn);if(null!==ur&&"object"==typeof ur){const Kt=H0(ur,u);null!==Kt&&hv(o,ur.create[Kt],u,u[ur.anchorIdx])}}break;case 1:const Tt=s[++M],Gt=s[++M];sg(m,Mt(F>>>1,u),null,null,Tt,Gt,null)}else switch(F){case G0:const Q=s[++M],se=s[++M];null===u[se]&&_s(u[se]=yd(m,Q),u);break;case U0:const Ne=s[++M],et=s[++M];null===u[et]&&_s(u[et]=Bo(m,Ne,null),u)}}}function fv(o,s,u,f,m){for(let y=0;y<u.length;y++){const S=u[y],M=u[++y];if(S&m){let F="";for(let Q=y+1;Q<=y+M;Q++){const se=u[Q];if("string"==typeof se)F+=se;else if("number"==typeof se)if(se<0)F+=ve(s[f-se]);else{const Ne=se>>>2;switch(3&se){case 1:const et=u[++Q],Tt=u[++Q],Gt=o.data[Ne];"string"==typeof Gt?sg(s[11],s[Ne],null,Gt,et,F,Tt):js(o,Gt,s,et,F,s[11],Tt,!1);break;case 0:const wn=s[Ne];null!==wn&&vd(s[11],wn,F);break;case 2:Wb(o,zg(o,Ne),s,F);break;case 3:pv(o,zg(o,Ne),f,s)}}}}else{const F=u[y+1];if(F>0&&3==(3&F)){const se=zg(o,F>>>2);s[se.currentCaseLViewIndex]<0&&pv(o,se,f,s)}}y+=M}}function pv(o,s,u,f){let m=f[s.currentCaseLViewIndex];if(null!==m){let y=Xh;m<0&&(m=f[s.currentCaseLViewIndex]=~m,y=-1),fv(o,f,s.update[m],u,y)}}function Wb(o,s,u,f){const m=function qb(o,s){let u=o.cases.indexOf(s);if(-1===u)switch(o.type){case 1:{const f=function ES(o,s){const u=Fb(s)(parseInt(o,10)),f=SS[u];return void 0!==f?f:"other"}(s,function AS(){return V0}());u=o.cases.indexOf(f),-1===u&&"other"!==f&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(s,f);if(H0(s,u)!==m&&(gv(o,s,u),u[s.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const S=u[s.anchorIdx];S&&hv(o,s.create[m],u,S)}}function gv(o,s,u){let f=H0(s,u);if(null!==f){const m=s.remove[f];for(let y=0;y<m.length;y++){const S=m[y];if(S>0){const M=Mt(S,u);null!==M&&Td(u[11],M)}else gv(o,zg(o,~S),u)}}}function zb(){const o=[];let u,f,s=-1;function y(M,F){s=0;const Q=H0(M,F);f=null!==Q?M.remove[Q]:Ut}function S(){if(s<f.length){const M=f[s++];return M>0?u[M]:(o.push(s,f),y(u[1].data[~M],u),S())}return 0===o.length?null:(f=o.pop(),s=o.pop(),S())}return function m(M,F){for(u=F;o.length;)o.pop();return y(M.value,F),S}}const w_=/\ufffd(\d+):?\d*\ufffd/gi,Kb=/\ufffd(\d+)\ufffd/,_v=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Jb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,Yb=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,Qb=/\uE500/g;function vv(o,s,u,f,m,y,S){const M=Od(o,f,1,null);let F=M<<Cs.SHIFT,Q=qs();s===Q&&(Q=null),null===Q&&(F|=Cs.APPEND_EAGERLY),S&&(F|=Cs.COMMENT,function gc(o){void 0===kt&&(kt=o())}(zb)),m.push(F,null===y?"":y);const se=Dm(o,M,S?32:1,null===y?"":y,null);j0(u,se);const Ne=se.index;return oa(se,!1),null!==Q&&s!==Q&&function OS(o,s){let u=o.insertBeforeIndex;null===u?(Nc(Ub,Gb),u=o.insertBeforeIndex=[null,s]):(function _e(o,s,u){o!=s&&Et(u,o,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(Q,Ne),se}function tT(o,s,u,f,m,y,S){const M=S.match(w_),F=vv(o,s,u,y,f,M?null:S,!1);M&&sp(m,S,F.index,null,0,null)}function sp(o,s,u,f,m,y){const S=o.length,M=S+1;o.push(null,null);const F=S+2,Q=s.split(w_);let se=0;for(let Ne=0;Ne<Q.length;Ne++){const et=Q[Ne];if(1&Ne){const Tt=m+parseInt(et,10);o.push(-1-Tt),se|=yv(Tt)}else""!==et&&o.push(et)}return o.push(u<<2|(f?1:0)),f&&o.push(f,y),o[S]=se,o[M]=o.length-F,se}function yv(o){return 1<<Math.min(o,31)}function bv(o){let s,y,u="",f=0,m=!1;for(;null!==(s=Jb.exec(o));)m?s[0]===`\ufffd/*${y}\ufffd`&&(f=s.index,m=!1):(u+=o.substring(f,s.index+s[0].length),y=s[1],m=!0);return u+=o.substr(f),u}function Tv(o,s,u,f,m,y){let S=0;const M={type:m.type,currentCaseLViewIndex:Od(o,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function lT(o,s,u){o.push(yv(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,m,y),function MS(o,s,u){const f=o.data[s];null===f?o.data[s]=u:f.value=u}(o,y,M);const F=m.values;for(let Q=0;Q<F.length;Q++){const se=F[Q],Ne=[];for(let et=0;et<se.length;et++){const Tt=se[et];if("string"!=typeof Tt){const Gt=Ne.push(Tt)-1;se[et]=`\x3c!--\ufffd${Gt}\ufffd--\x3e`}}S=aT(o,M,s,u,f,m.cases[Q],se.join(""),Ne)|S}S&&function uT(o,s,u){o.push(s,1,u<<2|3)}(u,S,y)}function sT(o){const s=[],u=[];let f=1,m=0;const y=W0(o=o.replace(_v,function(S,M,F){return f="select"===F?0:1,m=parseInt(M.substr(1),10),""}));for(let S=0;S<y.length;){let M=y[S++].trim();1===f&&(M=M.replace(/\s*(?:=)?(\w+)\s*/,"$1")),M.length&&s.push(M);const F=W0(y[S++]);s.length>u.length&&u.push(F)}return{type:f,mainBinding:m,cases:s,values:u}}function W0(o){if(!o)return[];let s=0;const u=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(o);){const M=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const F=o.substring(s,M);_v.test(F)?f.push(sT(F)):f.push(F),s=M+1}}else{if(0==u.length){const F=o.substring(s,M);f.push(F),s=M+1}u.push("{")}}const S=o.substring(s);return f.push(S),f}function aT(o,s,u,f,m,y,S,M){const F=[],Q=[],se=[];s.cases.push(y),s.create.push(F),s.remove.push(Q),s.update.push(se);const et=gi(Ki()).getInertBodyElement(S),Tt=ff(et)||et;return Tt?Cv(o,s,u,f,F,Q,se,Tt,m,M,0):0}function Cv(o,s,u,f,m,y,S,M,F,Q,se){let Ne=0,et=M.firstChild;for(;et;){const Tt=Od(o,u,1,null);switch(et.nodeType){case Node.ELEMENT_NODE:const Gt=et,wn=Gt.tagName.toLowerCase();if(Di.hasOwnProperty(wn)){q0(m,U0,wn,F,Tt),o.data[Tt]=wn;const Ar=Gt.attributes;for(let mi=0;mi<Ar.length;mi++){const hi=Ar.item(mi),Zs=hi.name.toLowerCase();hi.value.match(w_)?ud.hasOwnProperty(Zs)&&sp(S,hi.value,Tt,hi.name,0,df[Zs]?Ri:Iu[Zs]?xu:null):dT(m,Tt,hi)}Ne=Cv(o,s,u,f,m,y,S,et,Tt,Q,se+1)|Ne,Sv(y,Tt,se)}break;case Node.TEXT_NODE:const Ln=et.textContent||"",ur=Ln.match(w_);q0(m,null,ur?"":Ln,F,Tt),Sv(y,Tt,se),ur&&(Ne=sp(S,Ln,Tt,null,0,null)|Ne);break;case Node.COMMENT_NODE:const Kt=Kb.exec(et.textContent||"");if(Kt){const mi=Q[parseInt(Kt[1],10)];q0(m,G0,"",F,Tt),Tv(o,u,f,F,mi,Tt),cT(y,Tt,se)}}et=et.nextSibling}return Ne}function Sv(o,s,u){0===u&&o.push(s)}function cT(o,s,u){0===u&&(o.push(~s),o.push(s))}function q0(o,s,u,f,m){null!==s&&o.push(s),o.push(u,m,function Uc(o,s,u){return o|s<<17|u<<1}(0,f,m))}function dT(o,s,u){o.push(s<<1|1,u.name,u.value)}function Dv(o,s,u=-1){const f=dr(),m=en(),y=20+o,S=ci(f.consts,s),M=qs();f.firstCreatePass&&function eT(o,s,u,f,m,y){const S=qs(),M=[],F=[],Q=[[]];m=function oT(o,s){if(function iT(o){return-1===o}(s))return bv(o);{const u=o.indexOf(`:${s}\ufffd`)+2+s.toString().length,f=o.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return bv(o.substring(u,f))}}(m,y);const se=function Xb(o){return o.replace(Qb," ")}(m).split(Yb);for(let Ne=0;Ne<se.length;Ne++){let et=se[Ne];if(0==(1&Ne)){const Tt=W0(et);for(let Gt=0;Gt<Tt.length;Gt++){let wn=Tt[Gt];if(0==(1&Gt)){const Ln=wn;""!==Ln&&tT(o,S,Q[0],M,F,u,Ln)}else{const Ln=wn;if("object"!=typeof Ln)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Tv(o,u,F,s,Ln,vv(o,S,Q[0],u,M,"",!0).index)}}}else{const Tt=47===et.charCodeAt(0),wn=(et.charCodeAt(Tt?1:0),20+Number.parseInt(et.substring(Tt?2:1)));if(Tt)Q.shift(),oa(qs(),!1);else{const Ln=NS(o,Q[0],wn);Q.unshift([]),oa(Ln,!0)}}}o.data[f]={create:M,update:F}}(f,null===M?0:M.index,m,y,S,u);const F=f.data[y],se=kp(f,M===m[6]?null:M,m);(function Zb(o,s,u,f){const m=o[11];for(let y=0;y<s.length;y++){const S=s[y++],M=s[y],F=(S&Cs.COMMENT)===Cs.COMMENT,Q=(S&Cs.APPEND_EAGERLY)===Cs.APPEND_EAGERLY,se=S>>>Cs.SHIFT;let Ne=o[se];null===Ne&&(Ne=o[se]=F?m.createComment(M):da(m,M)),Q&&null!==u&&Al(m,u,Ne,f,!1)}})(m,F.create,se,M&&8&M.type?m[M.index]:null),Qi(!0)}function xv(o,s,u){Dv(o,s,u),function Av(){Qi(!1)}()}function z0(o){return function jb(o){o&&(Xh|=1<<Math.min(so,31)),so++}(ys(en(),ks(),o)),z0}function Iv(o){!function Hb(o,s,u){if(so>0){const f=o.data[u];fv(o,s,Array.isArray(f)?f:f.update,ma()-so-1,Xh)}Xh=0,so=0}(dr(),en(),o+20)}function K0(o,s,u,f,m){if(o=pe(o),Array.isArray(o))for(let y=0;y<o.length;y++)K0(o[y],s,u,f,m);else{const y=dr(),S=en();let M=Aa(o)?o:pe(o.provide),F=s0(o);const Q=Mi(),se=1048575&Q.providerIndexes,Ne=Q.directiveStart,et=Q.providerIndexes>>20;if(Aa(o)||!o.multi){const Tt=new Ba(F,m,Rl),Gt=Y0(M,s,m?se:se+et,Ne);-1===Gt?(Ve(D(Q,S),y,M),J0(y,o,s.length),s.push(M),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),u.push(Tt),S.push(Tt)):(u[Gt]=Tt,S[Gt]=Tt)}else{const Tt=Y0(M,s,se+et,Ne),Gt=Y0(M,s,se,se+et),wn=Tt>=0&&u[Tt],Ln=Gt>=0&&u[Gt];if(m&&!Ln||!m&&!wn){Ve(D(Q,S),y,M);const ur=function CT(o,s,u,f,m){const y=new Ba(o,u,Rl);return y.multi=[],y.index=s,y.componentProviders=0,Pv(y,m,f&&!u),y}(m?TT:bT,u.length,m,f,F);!m&&Ln&&(u[Gt].providerFactory=ur),J0(y,o,s.length,0),s.push(M),Q.directiveStart++,Q.directiveEnd++,m&&(Q.providerIndexes+=1048576),u.push(ur),S.push(ur)}else J0(y,o,Tt>-1?Tt:Gt,Pv(u[m?Gt:Tt],F,!m&&f));!m&&f&&Ln&&u[Gt].componentProviders++}}}function J0(o,s,u,f){const m=Aa(s),y=function kh(o){return!!o.useClass}(s);if(m||y){const F=(y?pe(s.useClass):s).prototype.ngOnDestroy;if(F){const Q=o.destroyHooks||(o.destroyHooks=[]);if(!m&&s.multi){const se=Q.indexOf(u);-1===se?Q.push(u,[f,F]):Q[se+1].push(f,F)}else Q.push(u,F)}}}function Pv(o,s,u){return u&&o.componentProviders++,o.multi.push(s)-1}function Y0(o,s,u,f){for(let m=u;m<f;m++)if(s[m]===o)return m;return-1}function bT(o,s,u,f){return Q0(this.multi,[])}function TT(o,s,u,f){const m=this.multi;let y;if(this.providerFactory){const S=this.providerFactory.componentProviders,M=Xr(u,u[1],this.providerFactory.index,f);y=M.slice(0,S),Q0(m,y);for(let F=S;F<M.length;F++)y.push(M[F])}else y=[],Q0(m,y);return y}function Q0(o,s){for(let u=0;u<o.length;u++)s.push((0,o[u])());return s}function Mv(o,s=[]){return u=>{u.providersResolver=(f,m)=>function $0(o,s,u){const f=dr();if(f.firstCreatePass){const m=vi(o);K0(u,f.data,f.blueprint,m,!0),K0(s,f.data,f.blueprint,m,!1)}}(f,m?m(o):o,s)}}class Ov{}class wT{resolveComponentFactory(s){throw function ET(o){const s=Error(`No component factory found for ${J(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let D_=(()=>{class o{}return o.NULL=new wT,o})();function DT(){return ap(Mi(),en())}function ap(o,s){return new Kg(zt(o,s))}let Kg=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=DT,o})();function AT(o){return o instanceof Kg?o.nativeElement:o}class Rv{}let xT=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function PT(){const o=en(),u=Ur(Mi().index,o);return function IT(o){return o[11]}($t(u)?u:o)}(),o})(),MT=(()=>{class o{}return o.\u0275prov=$n({token:o,providedIn:"root",factory:()=>null}),o})();class kv{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const X0=new kv("13.3.0"),e1={};function A_(o,s,u,f,m=!1){for(;null!==u;){const y=s[u.index];if(null!==y&&f.push(j(y)),bn(y))for(let M=10;M<y.length;M++){const F=y[M],Q=F[1].firstChild;null!==Q&&A_(F[1],F,Q,f)}const S=u.type;if(8&S)A_(o,s,u.child,f);else if(32&S){const M=Yc(u,s);let F;for(;F=M();)f.push(F)}else if(16&S){const M=Rc(s,u);if(Array.isArray(M))f.push(...M);else{const F=ta(s[16]);A_(F[1],F,M,f,!0)}}u=m?u.projectionNext:u.next}return f}class Jg{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return A_(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(bn(s)){const u=s[8],f=u?u.indexOf(this):-1;f>-1&&(El(s,f),lc(u,f))}this._attachedToViewContainer=!1}wl(this._lView[1],this._lView)}onDestroy(s){Ih(this._lView[1],this._lView,null,s)}markForCheck(){cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){uu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Um(o,s,u){Lo(!0);try{uu(o,s,u)}finally{Lo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Qe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Wa(o,s){ha(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Qe(902,"");this._appRef=s}}class OT extends Jg{constructor(s){super(s),this._view=s}detectChanges(){Vu(this._view)}checkNoChanges(){!function Ld(o){Lo(!0);try{Vu(o)}finally{Lo(!1)}}(this._view)}get context(){return null}}class Lv extends D_{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=ar(s);return new t1(u,this.ngModule)}}function Fv(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}class t1 extends Ov{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function Bp(o){return o.map(Th).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Fv(this.componentDef.inputs)}get outputs(){return Fv(this.componentDef.outputs)}create(s,u,f,m){const y=(m=m||this.ngModule)?function RT(o,s){return{get:(u,f,m)=>{const y=o.get(u,e1,m);return y!==e1||f===e1?y:s.get(u,f,m)}}}(s,m.injector):s,S=y.get(Rv,H),M=y.get(MT,null),F=S.createRenderer(null,this.componentDef),Q=this.componentDef.selectors[0][0]||"div",se=f?function K_(o,s,u){if(Hr(o))return o.selectRootElement(s,u===lt.ShadowDom);let f="string"==typeof s?o.querySelector(s):s;return f.textContent="",f}(F,f,this.componentDef.encapsulation):Bo(S.createRenderer(null,this.componentDef),Q,function NT(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(Q)),Ne=this.componentDef.onPush?576:528,et=function u0(o,s){return{components:[],scheduler:o||H_,clean:Vm,playerHandler:s||null,flags:0}}(),Tt=Yp(0,null,null,1,0,null,null,null,null,null),Gt=Pd(null,Tt,et,Ne,null,null,S,F,M,y);let wn,Ln;ka(Gt);try{const ur=function Hf(o,s,u,f,m,y){const S=u[1];u[20]=o;const F=Md(S,20,2,"#host",null),Q=F.mergedAttrs=s.hostAttrs;null!==Q&&(Nh(F,Q,!0),null!==o&&(ic(m,o,Q),null!==F.classes&&Da(m,o,F.classes),null!==F.styles&&Ed(m,o,F.styles)));const se=f.createRenderer(o,s),Ne=Pd(u,Am(s),null,s.onPush?64:16,u[20],F,f,se,y||null,null);return S.firstCreatePass&&(Ve(D(F,u),S,s.type),ig(S,F),Rm(F,u.length,1)),kd(u,Ne),u[20]=Ne}(se,this.componentDef,Gt,S,F);if(se)if(f)ic(F,se,["ng-version",X0.full]);else{const{attrs:Kt,classes:Ar}=function Up(o){const s=[],u=[];let f=1,m=2;for(;f<o.length;){let y=o[f];if("string"==typeof y)2===m?""!==y&&s.push(y,o[++f]):8===m&&u.push(y);else{if(!Vs(m))break;m=y}f++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);Kt&&ic(F,se,Kt),Ar&&Ar.length>0&&Da(F,se,Ar.join(" "))}if(Ln=si(Tt,20),void 0!==u){const Kt=Ln.projection=[];for(let Ar=0;Ar<this.ngContentSelectors.length;Ar++){const mi=u[Ar];Kt.push(null!=mi?Array.from(mi):null)}}wn=function l0(o,s,u,f,m){const y=u[1],S=function Y_(o,s,u){const f=Mi();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),km(o,f,s,Od(o,s,1,null),u));const m=Xr(s,o,f.directiveStart,f);_s(m,s);const y=zt(f,s);return y&&_s(y,s),m}(y,u,s);if(f.components.push(S),o[8]=S,m&&m.forEach(F=>F(S,s)),s.contentQueries){const F=Mi();s.contentQueries(1,S,F.directiveStart)}const M=Mi();return!y.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(ba(M.index),Nm(u[1],M,0,M.directiveStart,M.directiveEnd,s),Mh(s,S)),S}(ur,this.componentDef,Gt,et,[Xm]),Nf(Tt,Gt,null)}finally{aa()}return new LT(this.componentType,wn,ap(Ln,Gt),Gt,Ln)}}class LT extends class ST{}{constructor(s,u,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new OT(m),this.componentType=s}get injector(){return new ds(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class cp{}class Bv{}const lp=new Map;class Vv extends cp{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Lv(this);const f=Pn(s);this._bootstrapComponents=pc(f.bootstrap),this._r3Injector=Bf(s,u,[{provide:cp,useValue:this},{provide:D_,useValue:this.componentFactoryResolver}],J(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=_c.THROW_IF_NOT_FOUND,f=Bn.Default){return s===_c||s===cp||s===gg?this:this._r3Injector.get(s,u,f)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class x_ extends Bv{constructor(s){super(),this.moduleType=s,null!==Pn(s)&&function BT(o){const s=new Set;!function u(f){const m=Pn(f,!0),y=m.id;null!==y&&(function Uv(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${J(s)} vs ${J(s.name)}`)}(y,lp.get(y),f),lp.set(y,f));const S=pc(m.imports);for(const M of S)s.has(M)||(s.add(M),u(M))}(o)}(s)}create(s){return new Vv(this.moduleType,s)}}function jv(o,s,u){const f=Qo()+o,m=en();return m[f]===A?Os(m,f,u?s.call(u):s()):function Vd(o,s){return o[s]}(m,f)}function Hv(o,s,u,f){return qv(en(),Qo(),o,s,u,f)}function n1(o,s,u,f,m){return zv(en(),Qo(),o,s,u,f,m)}function Zv(o,s,u,f,m,y){return function $v(o,s,u,f,m,y,S,M){const F=s+u;return function Vh(o,s,u,f,m){const y=Ol(o,s,u,f);return ys(o,s+2,m)||y}(o,F,m,y,S)?Os(o,F+3,M?f.call(M,m,y,S):f(m,y,S)):Yg(o,F+3)}(en(),Qo(),o,s,u,f,m,y)}function Yg(o,s){const u=o[s];return u===A?void 0:u}function qv(o,s,u,f,m,y){const S=s+u;return ys(o,S,m)?Os(o,S+1,y?f.call(y,m):f(m)):Yg(o,S+1)}function zv(o,s,u,f,m,y,S){const M=s+u;return Ol(o,M,m,y)?Os(o,M+2,S?f.call(S,m,y):f(m,y)):Yg(o,M+2)}function Jv(o,s){const u=dr();let f;const m=o+20;u.firstCreatePass?(f=function ZT(o,s){if(s)for(let u=s.length-1;u>=0;u--){const f=s[u];if(o===f.name)return f}}(s,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,f.onDestroy)):f=u.data[m];const y=f.factory||(f.factory=Z(f.type)),S=ei(Rl);try{const M=oc(!1),F=y();return oc(M),function bi(o,s,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),s[u]=f}(u,en(),m,F),F}finally{ei(S)}}function Yv(o,s,u){const f=o+20,m=en(),y=Br(m,f);return Qg(m,f)?qv(m,Qo(),s,y.transform,u,y):y.transform(u)}function Qv(o,s,u,f){const m=o+20,y=en(),S=Br(y,m);return Qg(y,m)?zv(y,Qo(),s,S.transform,u,f,S):S.transform(u,f)}function Qg(o,s){return o[1].data[s].pure}function i1(o){return s=>{setTimeout(o,void 0,s)}}const pu=class r1 extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,f){var m,y,S;let M=s,F=u||(()=>null),Q=f;if(s&&"object"==typeof s){const Ne=s;M=null===(m=Ne.next)||void 0===m?void 0:m.bind(Ne),F=null===(y=Ne.error)||void 0===y?void 0:y.bind(Ne),Q=null===(S=Ne.complete)||void 0===S?void 0:S.bind(Ne)}this.__isAsync&&(F=i1(F),M&&(M=i1(M)),Q&&(Q=i1(Q)));const se=super.subscribe({next:M,error:F,complete:Q});return s instanceof e.w0&&s.add(se),se}};function $T(){return this._results[Ud()]()}class o1{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=Ud(),f=o1.prototype;f[u]||(f[u]=$T)}get changes(){return this._changes||(this._changes=new pu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const f=this;f.dirty=!1;const m=Eo(s);(this._changesDetected=!function nd(o,s,u){if(o.length!==s.length)return!1;for(let f=0;f<o.length;f++){let m=o[f],y=s[f];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let Xg=(()=>{class o{}return o.__NG_ELEMENT_ID__=YT,o})();const KT=Xg,JT=class extends KT{constructor(s,u,f){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(s){const u=this._declarationTContainer.tViews,f=Pd(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),Nf(u,f,s),new Jg(f)}};function YT(){return P_(Mi(),en())}function P_(o,s){return 4&o.type?new JT(s,o,ap(o,s)):null}let M_=(()=>{class o{}return o.__NG_ELEMENT_ID__=QT,o})();function QT(){return ty(Mi(),en())}const XT=M_,Xv=class extends XT{constructor(s,u,f){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=f}get element(){return ap(this._hostTNode,this._hostLView)}get injector(){return new ds(this._hostTNode,this._hostLView)}get parentInjector(){const s=de(this._hostTNode,this._hostLView);if(Rn(s)){const u=Ii(s,this._hostLView),f=It(s);return new ds(u[1].data[f+8],u)}return new ds(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=ey(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,f){const m=s.createEmbeddedView(u||{});return this.insert(m,f),m}createComponent(s,u,f,m,y){const S=s&&!function _l(o){return"function"==typeof o}(s);let M;if(S)M=u;else{const Ne=u||{};M=Ne.index,f=Ne.injector,m=Ne.projectableNodes,y=Ne.ngModuleRef}const F=S?s:new t1(ar(s)),Q=f||this.parentInjector;if(!y&&null==F.ngModule){const et=(S?Q:this.parentInjector).get(cp,null);et&&(y=et)}const se=F.create(Q,m,void 0,y);return this.insert(se.hostView,M),se}insert(s,u){const f=s._lView,m=f[1];if(function ai(o){return bn(o[3])}(f)){const se=this.indexOf(s);if(-1!==se)this.detach(se);else{const Ne=f[3],et=new Xv(Ne,Ne[6],Ne[3]);et.detach(et.indexOf(s))}}const y=this._adjustIndex(u),S=this._lContainer;!function tu(o,s,u,f){const m=10+f,y=u.length;f>0&&(u[m-1][4]=s),f<y-10?(s[4]=u[m],Zc(u,10+f,s)):(u.push(s),s[4]=null),s[3]=u;const S=s[17];null!==S&&u!==S&&function qa(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(S,s);const M=s[19];null!==M&&M.insertView(o),s[2]|=128}(m,f,S,y);const M=Qc(y,S),F=f[11],Q=Oc(F,S[7]);return null!==Q&&function mc(o,s,u,f,m,y){f[0]=m,f[6]=s,ha(o,f,u,1,m,y)}(m,S[6],F,f,Q,M),s.attachToViewContainerRef(),Zc(s1(S),y,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=ey(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),f=El(this._lContainer,u);f&&(lc(s1(this._lContainer),u),wl(f[1],f))}detach(s){const u=this._adjustIndex(s,-1),f=El(this._lContainer,u);return f&&null!=lc(s1(this._lContainer),u)?new Jg(f):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function ey(o){return o[8]}function s1(o){return o[8]||(o[8]=[])}function ty(o,s){let u;const f=s[o.index];if(bn(f))u=f;else{let m;if(8&o.type)m=j(f);else{const y=s[11];m=y.createComment("");const S=zt(o,s);Al(y,Oc(y,S),m,function vm(o,s){return Hr(o)?o.nextSibling(s):s.nextSibling}(y,S),!1)}s[o.index]=u=Bm(f,s,m,o),kd(s,u)}return new Xv(u,o,s)}class a1{constructor(s){this.queryList=s,this.matches=null}clone(){return new a1(this.queryList)}setDirty(){this.queryList.setDirty()}}class c1{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const f=null!==s.contentQueries?s.contentQueries[0]:u.length,m=[];for(let y=0;y<f;y++){const S=u.getByIndex(y);m.push(this.queries[S.indexInDeclarationView].clone())}return new c1(m)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==uy(s,u).matches&&this.queries[u].setDirty()}}class ny{constructor(s,u,f=null){this.predicate=s,this.flags=u,this.read=f}}class l1{constructor(s=[]){this.queries=s}elementStart(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(s,m);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new l1(u):null}template(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class u1{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new u1(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=s.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(s,u,tC(u,y)),this.matchTNodeWithReadOption(s,u,Ei(u,s,y,!1,!1))}else f===Xg?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,Ei(u,s,f,!1,!1))}matchTNodeWithReadOption(s,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===Kg||m===M_||m===Xg&&4&u.type)this.addMatch(u.index,-2);else{const y=Ei(u,s,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function tC(o,s){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===s)return u[f+1];return null}function rC(o,s,u,f){return-1===u?function nC(o,s){return 11&o.type?ap(o,s):4&o.type?P_(o,s):null}(s,o):-2===u?function iC(o,s,u){return u===Kg?ap(s,o):u===Xg?P_(s,o):u===M_?ty(s,o):void 0}(o,s,f):Xr(o,o[1],u,s)}function ry(o,s,u,f){const m=s[19].queries[f];if(null===m.matches){const y=o.data,S=u.matches,M=[];for(let F=0;F<S.length;F+=2){const Q=S[F];M.push(Q<0?null:rC(s,y[Q],S[F+1],u.metadata.read))}m.matches=M}return m.matches}function d1(o,s,u,f){const m=o.queries.getByIndex(u),y=m.matches;if(null!==y){const S=ry(o,s,m,u);for(let M=0;M<y.length;M+=2){const F=y[M];if(F>0)f.push(S[M/2]);else{const Q=y[M+1],se=s[-F];for(let Ne=10;Ne<se.length;Ne++){const et=se[Ne];et[17]===et[3]&&d1(et[1],et,Q,f)}if(null!==se[9]){const Ne=se[9];for(let et=0;et<Ne.length;et++){const Tt=Ne[et];d1(Tt[1],Tt,Q,f)}}}}}return f}function iy(o){const s=en(),u=dr(),f=jl();zs(f+1);const m=uy(u,f);if(o.dirty&&Rr(s)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const y=m.crossesNgTemplate?d1(u,s,f,[]):ry(u,s,m,f);o.reset(y,AT),o.notifyOnChanges()}return!0}return!1}function oy(o,s,u){const f=dr();f.firstCreatePass&&(ly(f,new ny(o,s,u),-1),2==(2&s)&&(f.staticViewQueries=!0)),cy(f,en(),s)}function sy(o,s,u,f){const m=dr();if(m.firstCreatePass){const y=Mi();ly(m,new ny(s,u,f),y.index),function sC(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(m,o),2==(2&u)&&(m.staticContentQueries=!0)}cy(m,en(),u)}function ay(){return function oC(o,s){return o[19].queries[s].queryList}(en(),jl())}function cy(o,s,u){const f=new o1(4==(4&u));Ih(o,s,f,f.destroy),null===s[19]&&(s[19]=new c1),s[19].queries.push(new a1(f))}function ly(o,s,u){null===o.queries&&(o.queries=new l1),o.queries.track(new u1(s,u))}function uy(o,s){return o.queries.getByIndex(s)}function dy(o,s){return P_(o,s)}function k_(...o){}const Iy=new Ui("Application Initializer");let _1=(()=>{class o{constructor(u){this.appInits=u,this.resolve=k_,this.reject=k_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(Qf(y))u.push(y);else if(T0(y)){const S=new Promise((M,F)=>{y.subscribe({complete:M,error:F})});u.push(S)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(Dn(Iy,8))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Py=new Ui("AppId",{providedIn:"root",factory:function My(){return`${v1()}${v1()}${v1()}`}});function v1(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Oy=new Ui("Platform Initializer"),Ny=new Ui("Platform ID"),L_=new Ui("appBootstrapListener");let Ry=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();const y1=new Ui("LocaleId",{providedIn:"root",factory:()=>Xn(y1,Bn.Optional|Bn.SkipSelf)||function SC(){return"undefined"!=typeof $localize&&$localize.locale||qg}()}),EC=new Ui("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class wC{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let DC=(()=>{class o{compileModuleSync(u){return new x_(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=pc(Pn(u).declarations).reduce((S,M)=>{const F=ar(M);return F&&S.push(new t1(F)),S},[]);return new wC(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const xC=(()=>Promise.resolve(0))();function b1(o){"undefined"==typeof Zone?xC.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Fl{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new pu(!1),this.onMicrotaskEmpty=new pu(!1),this.onStable=new pu(!1),this.onError=new pu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function IC(){let o=an.requestAnimationFrame,s=an.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function OC(o){const s=()=>{!function MC(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(an,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,C1(o),o.isCheckStableRunning=!0,T1(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),C1(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,y,S,M)=>{try{return ky(o),u.invokeTask(m,y,S,M)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&s(),Ly(o)}},onInvoke:(u,f,m,y,S,M,F)=>{try{return ky(o),u.invoke(m,y,S,M,F)}finally{o.shouldCoalesceRunChangeDetection&&s(),Ly(o)}},onHasTask:(u,f,m,y)=>{u.hasTask(m,y),f===m&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,C1(o),T1(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,m,y)=>(u.handleError(m,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Fl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Fl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,f){return this._inner.run(s,u,f)}runTask(s,u,f,m){const y=this._inner,S=y.scheduleEventTask("NgZoneEvent: "+m,s,PC,k_,k_);try{return y.runTask(S,u,f)}finally{y.cancelTask(S)}}runGuarded(s,u,f){return this._inner.runGuarded(s,u,f)}runOutsideAngular(s){return this._outer.run(s)}}const PC={};function T1(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function C1(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function ky(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function Ly(o){o._nesting--,T1(o)}class NC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new pu,this.onMicrotaskEmpty=new pu,this.onStable=new pu,this.onError=new pu}run(s,u,f){return s.apply(u,f)}runGuarded(s,u,f){return s.apply(u,f)}runOutsideAngular(s){return s()}runTask(s,u,f,m){return s.apply(u,f)}}let Fy=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Fl.assertNotInAngularZone(),b1(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())b1(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(S=>S.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,m){return[]}}return o.\u0275fac=function(u){return new(u||o)(Dn(Fl))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})(),By=(()=>{class o{constructor(){this._applications=new Map,S1.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return S1.findTestabilityInTree(this,u,f)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();class RC{addToWindow(s){}findTestabilityInTree(s,u,f){return null}}function kC(o){S1=o}let Bl,S1=new RC;const Uy=new Ui("AllowMultipleToken");class BC{constructor(s,u){this.name=s,this.token=u}}function Gy(o,s,u=[]){const f=`Platform: ${s}`,m=new Ui(f);return(y=[])=>{let S=Vy();if(!S||S.injector.get(Uy,!1))if(o)o(u.concat(y).concat({provide:m,useValue:!0}));else{const M=u.concat(y).concat({provide:m,useValue:!0},{provide:Ff,useValue:"platform"});!function UC(o){if(Bl&&!Bl.destroyed&&!Bl.injector.get(Uy,!1))throw new Qe(400,"");Bl=o.get(jy);const s=o.get(Oy,null);s&&s.forEach(u=>u())}(_c.create({providers:M,name:f}))}return function GC(o){const s=Vy();if(!s)throw new Qe(401,"");return s}()}}function Vy(){return Bl&&!Bl.destroyed?Bl:null}let jy=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const M=function VC(o,s){let u;return u="noop"===o?new NC:("zone.js"===o?void 0:o)||new Fl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),F=[{provide:Fl,useValue:M}];return M.run(()=>{const Q=_c.create({providers:F,parent:this.injector,name:u.moduleType.name}),se=u.create(Q),Ne=se.injector.get(ua,null);if(!Ne)throw new Qe(402,"");return M.runOutsideAngular(()=>{const et=M.onError.subscribe({next:Tt=>{Ne.handleError(Tt)}});se.onDestroy(()=>{w1(this._modules,se),et.unsubscribe()})}),function jC(o,s,u){try{const f=u();return Qf(f)?f.catch(m=>{throw s.runOutsideAngular(()=>o.handleError(m)),m}):f}catch(f){throw s.runOutsideAngular(()=>o.handleError(f)),f}}(Ne,M,()=>{const et=se.injector.get(_1);return et.runInitializers(),et.donePromise.then(()=>(function DS(o){(function Nt(o,s){null==o&&Et(s,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(V0=o.toLowerCase().replace(/_/g,"-"))}(se.injector.get(y1,qg)||qg),this._moduleDoBootstrap(se),se))})})}bootstrapModule(u,f=[]){const m=Hy({},f);return function LC(o,s,u){const f=new x_(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const f=u.injector.get(E1);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Qe(403,"");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Qe(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(Dn(_c))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();function Hy(o,s){return Array.isArray(s)?s.reduce(Hy,o):Object.assign(Object.assign({},o),s)}let E1=(()=>{class o{constructor(u,f,m,y,S){this._zone=u,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=S,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const M=new T.y(Q=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{Q.next(this._stable),Q.complete()})}),F=new T.y(Q=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{Fl.assertNotInAngularZone(),b1(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,Q.next(!0))})})});const Ne=this._zone.onUnstable.subscribe(()=>{Fl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{Q.next(!1)}))});return()=>{se.unsubscribe(),Ne.unsubscribe()}});this.isStable=(0,N.T)(M,F.pipe((0,O.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new Qe(405,"");let m;m=u instanceof Ov?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const y=function FC(o){return o.isBoundToModule}(m)?void 0:this._injector.get(cp),M=m.create(_c.NULL,[],f||m.selector,y),F=M.location.nativeElement,Q=M.injector.get(Fy,null),se=Q&&M.injector.get(By);return Q&&se&&se.registerApplication(F,Q),M.onDestroy(()=>{this.detachView(M.hostView),w1(this.components,M),se&&se.unregisterApplication(F)}),this._loadComponent(M),M}tick(){if(this._runningTick)throw new Qe(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;w1(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(L_,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(Dn(Fl),Dn(_c),Dn(ua),Dn(D_),Dn(_1))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function w1(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}let qy=!1;function ZC(){return qy=!0,true}let zy=(()=>{class o{}return o.__NG_ELEMENT_ID__=WC,o})();function WC(o){return function qC(o,s,u){if(jr(o)&&!u){const f=Ur(o.index,s);return new Jg(f,f)}return 47&o.type?new Jg(s[16],s):null}(Mi(),en(),16==(16&o))}class Jy{constructor(){}supports(s){return Gd(s)}create(s){return new YC(s)}}const JC=(o,s)=>s;class YC{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||JC}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,f=this._removalsHead,m=0,y=null;for(;u||f;){const S=!f||u&&u.currentIndex<Qy(f,m,y)?u:f,M=Qy(S,m,y),F=S.currentIndex;if(S===f)m--,f=f._nextRemoved;else if(u=u._next,null==S.previousIndex)m++;else{y||(y=[]);const Q=M-m,se=F-m;if(Q!=se){for(let et=0;et<Q;et++){const Tt=et<y.length?y[et]:y[et]=0,Gt=Tt+et;se<=Gt&&Gt<Q&&(y[et]=Tt+1)}y[S.previousIndex]=se-Q}}M!==F&&s(S,M,F)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Gd(s))throw new Qe(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let m,y,S,u=this._itHead,f=!1;if(Array.isArray(s)){this.length=s.length;for(let M=0;M<this.length;M++)y=s[M],S=this._trackByFn(M,y),null!==u&&Object.is(u.trackById,S)?(f&&(u=this._verifyReinsertion(u,y,S,M)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,S,M),f=!0),u=u._next}else m=0,function Uh(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[Ud()]();let f;for(;!(f=u.next()).done;)s(f.value)}}(s,M=>{S=this._trackByFn(m,M),null!==u&&Object.is(u.trackById,S)?(f&&(u=this._verifyReinsertion(u,M,S,m)),Object.is(u.item,M)||this._addIdentityChange(u,M)):(u=this._mismatch(u,M,S,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,f,m){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,y,m)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,y,m)):s=this._addAfter(new QC(u,f),y,m),s}_verifyReinsertion(s,u,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?s=this._reinsertAfter(y,s._prev,m):s.currentIndex!=m&&(s.currentIndex=m,this._addToMoves(s,m)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const m=s._prevRemoved,y=s._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(s,u,f),this._addToMoves(s,f),s}_moveAfter(s,u,f){return this._unlink(s),this._insertAfter(s,u,f),this._addToMoves(s,f),s}_addAfter(s,u,f){return this._insertAfter(s,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,f){const m=null===u?this._itHead:u._next;return s._next=m,s._prev=u,null===m?this._itTail=s:m._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new Yy),this._linkedRecords.put(s),s.currentIndex=f,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,f=s._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Yy),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class QC{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class XC{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,s))return f;return null}remove(s){const u=s._prevDup,f=s._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class Yy{constructor(){this.map=new Map}put(s){const u=s.trackById;let f=this.map.get(u);f||(f=new XC,this.map.set(u,f)),f.add(s)}get(s,u){const m=this.map.get(s);return m?m.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Qy(o,s,u){const f=o.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+s+m}class Xy{constructor(){}supports(s){return s instanceof Map||Gh(s)}create(){return new eS}}class eS{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||Gh(s)))throw new Qe(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const f=s._prev;return u._next=s,u._prev=f,s._prev=u,f&&(f._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const m=this._records.get(s);this._maybeAddToChanges(m,u);const y=m._prev,S=m._next;return y&&(y._next=S),S&&(S._prev=y),m._next=null,m._prev=null,m}const f=new CE(s);return this._records.set(s,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(f=>u(s[f],f))}}class CE{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function eb(){return new P1([new Jy])}let P1=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||eb()),deps:[[o,new Gi,new ps]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new Qe(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:eb}),o})();function Qu(){return new U_([new Xy])}let U_=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||Qu()),deps:[[o,new Gi,new ps]]}}find(u){const f=this.factories.find(y=>y.supports(u));if(f)return f;throw new Qe(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:Qu}),o})();const N1=Gy(null,"core",[{provide:Ny,useValue:"unknown"},{provide:jy,deps:[_c]},{provide:By,deps:[]},{provide:Ry,deps:[]}]);let rb=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(Dn(E1))},o.\u0275mod=Ye({type:o}),o.\u0275inj=yr({}),o})()},3104:(pt,w,x)=>{"use strict";x.d(w,{gz:()=>$r,m2:()=>Er,F0:()=>lo,rH:()=>Ks,yS:()=>Js,Bz:()=>ic,lC:()=>Ze});var p=x(5e3),e=x(8306),T=x(576);function N(k,P){const D=(0,T.m)(k)?k:()=>k,G=K=>K.error(D());return new e.y(P?K=>P.schedule(G,0,K):G)}var O=x(727),V=x(4482),Y=x(5403);function J(){return(0,V.e)((k,P)=>{let D=null;k._refCount++;const G=(0,Y.x)(P,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(D=null);const K=k._connection,de=D;D=null,K&&(!de||K===de)&&K.unsubscribe(),P.unsubscribe()});k.subscribe(G),G.closed||(D=k.connect())})}class ne extends e.y{constructor(P,D){super(),this.source=P,this.subjectFactory=D,this._subject=null,this._refCount=0,this._connection=null,(0,V.A)(P)&&(this.lift=P.lift)}_subscribe(P){return this.getSubject().subscribe(P)}getSubject(){const P=this._subject;return(!P||P.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:P}=this;this._subject=this._connection=null,null==P||P.unsubscribe()}connect(){let P=this._connection;if(!P){P=this._connection=new O.w0;const D=this.getSubject();P.add(this.source.subscribe((0,Y.x)(D,void 0,()=>{this._teardown(),D.complete()},G=>{this._teardown(),D.error(G)},()=>this._teardown()))),P.closed&&(this._connection=null,P=O.w0.EMPTY)}return P}refCount(){return J()(this)}}var $=x(8996),re=x(9646),pe=x(1135),dt=x(9841),tt=x(6805),Qe=x(7272),vt=x(9770),ve=x(515),je=x(7579);function ke(k,P,D,G,K){return(de,Ve)=>{let He=D,Ot=P,Cn=0;de.subscribe((0,Y.x)(Ve,On=>{const jt=Cn++;Ot=He?k(Ot,On,jt):(He=!0,On),G&&Ve.next(Ot)},K&&(()=>{He&&Ve.next(Ot),Ve.complete()})))}}function gt(k,P){return(0,V.e)(ke(k,P,arguments.length>=2,!0))}var $e=x(8421);function it(k){return(0,V.e)((P,D)=>{let de,G=null,K=!1;G=P.subscribe((0,Y.x)(D,void 0,void 0,Ve=>{de=(0,$e.Xf)(k(Ve,it(k)(P))),G?(G.unsubscribe(),G=null,de.subscribe(D)):K=!0})),K&&(G.unsubscribe(),G=null,de.subscribe(D))})}var Ae=x(9300);function Ke(k){return k<=0?()=>ve.E:(0,V.e)((P,D)=>{let G=[];P.subscribe((0,Y.x)(D,K=>{G.push(K),k<G.length&&G.shift()},()=>{for(const K of G)D.next(K);D.complete()},void 0,()=>{G=null}))})}var Ue=x(8068),Je=x(6590),_e=x(4671),Ce=x(4004),qe=x(3900),Ee=x(5698),xt=x(8675),Lt=x(4351),An=x(590),Nt=x(5577),Et=x(8505),Zt=x(8189),yn=x(9808);class or{constructor(P,D){this.id=P,this.url=D}}class $n extends or{constructor(P,D,G="imperative",K=null){super(P,D),this.navigationTrigger=G,this.restoredState=K}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Er extends or{constructor(P,D,G){super(P,D),this.urlAfterRedirects=G}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yr extends or{constructor(P,D,G){super(P,D),this.reason=G}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _r extends or{constructor(P,D,G){super(P,D),this.error=G}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ii extends or{constructor(P,D,G,K){super(P,D),this.urlAfterRedirects=G,this.state=K}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends or{constructor(P,D,G,K){super(P,D),this.urlAfterRedirects=G,this.state=K}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vr extends or{constructor(P,D,G,K,de){super(P,D),this.urlAfterRedirects=G,this.state=K,this.shouldActivate=de}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Pi extends or{constructor(P,D,G,K){super(P,D),this.urlAfterRedirects=G,this.state=K}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends or{constructor(P,D,G,K){super(P,D),this.urlAfterRedirects=G,this.state=K}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Jr{constructor(P){this.route=P}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class qr{constructor(P){this.route=P}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ki{constructor(P){this.snapshot=P}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(P){this.snapshot=P}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qi{constructor(P){this.snapshot=P}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class oi{constructor(P){this.snapshot=P}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ei{constructor(P,D,G){this.routerEvent=P,this.position=D,this.anchor=G}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fe="primary";class mt{constructor(P){this.params=P||{}}has(P){return Object.prototype.hasOwnProperty.call(this.params,P)}get(P){if(this.has(P)){const D=this.params[P];return Array.isArray(D)?D[0]:D}return null}getAll(P){if(this.has(P)){const D=this.params[P];return Array.isArray(D)?D:[D]}return[]}get keys(){return Object.keys(this.params)}}function Be(k){return new mt(k)}const ae="ngNavigationCancelingError";function ye(k){const P=Error("NavigationCancelingError: "+k);return P[ae]=!0,P}function lt(k,P,D){const G=D.path.split("/");if(G.length>k.length||"full"===D.pathMatch&&(P.hasChildren()||G.length<k.length))return null;const K={};for(let de=0;de<G.length;de++){const Ve=G[de],He=k[de];if(Ve.startsWith(":"))K[Ve.substring(1)]=He;else if(Ve!==He.path)return null}return{consumed:k.slice(0,G.length),posParams:K}}function Pt(k,P){const D=k?Object.keys(k):void 0,G=P?Object.keys(P):void 0;if(!D||!G||D.length!=G.length)return!1;let K;for(let de=0;de<D.length;de++)if(K=D[de],!ln(k[K],P[K]))return!1;return!0}function ln(k,P){if(Array.isArray(k)&&Array.isArray(P)){if(k.length!==P.length)return!1;const D=[...k].sort(),G=[...P].sort();return D.every((K,de)=>G[de]===K)}return k===P}function Wt(k){return Array.prototype.concat.apply([],k)}function an(k){return k.length>0?k[k.length-1]:null}function hn(k,P){for(const D in k)k.hasOwnProperty(D)&&P(k[D],D)}function Hn(k){return(0,p.CqO)(k)?k:(0,p.QGY)(k)?(0,$.D)(Promise.resolve(k)):(0,re.of)(k)}const nr={exact:function tn(k,P,D){if(!qt(k.segments,P.segments)||!Pe(k.segments,P.segments,D)||k.numberOfChildren!==P.numberOfChildren)return!1;for(const G in P.children)if(!k.children[G]||!tn(k.children[G],P.children[G],D))return!1;return!0},subset:Zn},kn={exact:function ft(k,P){return Pt(k,P)},subset:function vn(k,P){return Object.keys(P).length<=Object.keys(k).length&&Object.keys(P).every(D=>ln(k[D],P[D]))},ignored:()=>!0};function Ft(k,P,D){return nr[D.paths](k.root,P.root,D.matrixParams)&&kn[D.queryParams](k.queryParams,P.queryParams)&&!("exact"===D.fragment&&k.fragment!==P.fragment)}function Zn(k,P,D){return Un(k,P,P.segments,D)}function Un(k,P,D,G){if(k.segments.length>D.length){const K=k.segments.slice(0,D.length);return!(!qt(K,D)||P.hasChildren()||!Pe(K,D,G))}if(k.segments.length===D.length){if(!qt(k.segments,D)||!Pe(k.segments,D,G))return!1;for(const K in P.children)if(!k.children[K]||!Zn(k.children[K],P.children[K],G))return!1;return!0}{const K=D.slice(0,k.segments.length),de=D.slice(k.segments.length);return!!(qt(k.segments,K)&&Pe(k.segments,K,G)&&k.children[Fe])&&Un(k.children[Fe],P,de,G)}}function Pe(k,P,D){return P.every((G,K)=>kn[D](k[K].parameters,G.parameters))}class De{constructor(P,D,G){this.root=P,this.queryParams=D,this.fragment=G}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return ar.serialize(this)}}class be{constructor(P,D){this.segments=P,this.children=D,this.parent=null,hn(D,(G,K)=>G.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return cr(this)}}class ut{constructor(P,D){this.path=P,this.parameters=D}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return gr(this)}}function qt(k,P){return k.length===P.length&&k.every((D,G)=>D.path===P[G].path)}class qn{}class sr{parse(P){const D=new rr(P);return new De(D.parseRootSegment(),D.parseQueryParams(),D.parseFragment())}serialize(P){const D=`/${Tn(P.root,!0)}`,G=function sn(k){const P=Object.keys(k).map(D=>{const G=k[D];return Array.isArray(G)?G.map(K=>`${Sn(D)}=${Sn(K)}`).join("&"):`${Sn(D)}=${Sn(G)}`}).filter(D=>!!D);return P.length?`?${P.join("&")}`:""}(P.queryParams);return`${D}${G}${"string"==typeof P.fragment?`#${function nt(k){return encodeURI(k)}(P.fragment)}`:""}`}}const ar=new sr;function cr(k){return k.segments.map(P=>gr(P)).join("/")}function Tn(k,P){if(!k.hasChildren())return cr(k);if(P){const D=k.children[Fe]?Tn(k.children[Fe],!1):"",G=[];return hn(k.children,(K,de)=>{de!==Fe&&G.push(`${de}:${Tn(K,!1)}`)}),G.length>0?`${D}(${G.join("//")})`:D}{const D=function Wn(k,P){let D=[];return hn(k.children,(G,K)=>{K===Fe&&(D=D.concat(P(G,K)))}),hn(k.children,(G,K)=>{K!==Fe&&(D=D.concat(P(G,K)))}),D}(k,(G,K)=>K===Fe?[Tn(k.children[Fe],!1)]:[`${K}:${Tn(G,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[Fe]?`${cr(k)}/${D[0]}`:`${cr(k)}/(${D.join("//")})`}}function Pn(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Sn(k){return Pn(k).replace(/%3B/gi,";")}function Ct(k){return Pn(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function cn(k){return decodeURIComponent(k)}function er(k){return cn(k.replace(/\+/g,"%20"))}function gr(k){return`${Ct(k.path)}${function Qt(k){return Object.keys(k).map(P=>`;${Ct(P)}=${Ct(k[P])}`).join("")}(k.parameters)}`}const rt=/^[^\/()?;=#]+/;function Rt(k){const P=k.match(rt);return P?P[0]:""}const gn=/^[^=?&#]+/,mn=/^[^&#]+/;class rr{constructor(P){this.url=P,this.remaining=P}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const P={};if(this.consumeOptional("?"))do{this.parseQueryParam(P)}while(this.consumeOptional("&"));return P}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const P=[];for(this.peekStartsWith("(")||P.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),P.push(this.parseSegment());let D={};this.peekStartsWith("/(")&&(this.capture("/"),D=this.parseParens(!0));let G={};return this.peekStartsWith("(")&&(G=this.parseParens(!1)),(P.length>0||Object.keys(D).length>0)&&(G[Fe]=new be(P,D)),G}parseSegment(){const P=Rt(this.remaining);if(""===P&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(P),new ut(cn(P),this.parseMatrixParams())}parseMatrixParams(){const P={};for(;this.consumeOptional(";");)this.parseParam(P);return P}parseParam(P){const D=Rt(this.remaining);if(!D)return;this.capture(D);let G="";if(this.consumeOptional("=")){const K=Rt(this.remaining);K&&(G=K,this.capture(G))}P[cn(D)]=cn(G)}parseQueryParam(P){const D=function xn(k){const P=k.match(gn);return P?P[0]:""}(this.remaining);if(!D)return;this.capture(D);let G="";if(this.consumeOptional("=")){const Ve=function Nn(k){const P=k.match(mn);return P?P[0]:""}(this.remaining);Ve&&(G=Ve,this.capture(G))}const K=er(D),de=er(G);if(P.hasOwnProperty(K)){let Ve=P[K];Array.isArray(Ve)||(Ve=[Ve],P[K]=Ve),Ve.push(de)}else P[K]=de}parseParens(P){const D={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const G=Rt(this.remaining),K=this.remaining[G.length];if("/"!==K&&")"!==K&&";"!==K)throw new Error(`Cannot parse url '${this.url}'`);let de;G.indexOf(":")>-1?(de=G.substr(0,G.indexOf(":")),this.capture(de),this.capture(":")):P&&(de=Fe);const Ve=this.parseChildren();D[de]=1===Object.keys(Ve).length?Ve[Fe]:new be([],Ve),this.consumeOptional("//")}return D}peekStartsWith(P){return this.remaining.startsWith(P)}consumeOptional(P){return!!this.peekStartsWith(P)&&(this.remaining=this.remaining.substring(P.length),!0)}capture(P){if(!this.consumeOptional(P))throw new Error(`Expected "${P}".`)}}class pn{constructor(P){this._root=P}get root(){return this._root.value}parent(P){const D=this.pathFromRoot(P);return D.length>1?D[D.length-2]:null}children(P){const D=Gn(P,this._root);return D?D.children.map(G=>G.value):[]}firstChild(P){const D=Gn(P,this._root);return D&&D.children.length>0?D.children[0].value:null}siblings(P){const D=Pr(P,this._root);return D.length<2?[]:D[D.length-2].children.map(K=>K.value).filter(K=>K!==P)}pathFromRoot(P){return Pr(P,this._root).map(D=>D.value)}}function Gn(k,P){if(k===P.value)return P;for(const D of P.children){const G=Gn(k,D);if(G)return G}return null}function Pr(k,P){if(k===P.value)return[P];for(const D of P.children){const G=Pr(k,D);if(G.length)return G.unshift(P),G}return[]}class tr{constructor(P,D){this.value=P,this.children=D}toString(){return`TreeNode(${this.value})`}}function Fr(k){const P={};return k&&k.children.forEach(D=>P[D.value.outlet]=D),P}class Ci extends pn{constructor(P,D){super(P),this.snapshot=D,bt(this,P)}toString(){return this.snapshot.toString()}}function eo(k,P){const D=function zi(k,P){const Ve=new at([],{},{},"",{},Fe,P,null,k.root,-1,{});return new ze("",new tr(Ve,[]))}(k,P),G=new pe.X([new ut("",{})]),K=new pe.X({}),de=new pe.X({}),Ve=new pe.X({}),He=new pe.X(""),Ot=new $r(G,K,Ve,He,de,Fe,P,D.root);return Ot.snapshot=D.root,new Ci(new tr(Ot,[]),D)}class $r{constructor(P,D,G,K,de,Ve,He,Ot){this.url=P,this.params=D,this.queryParams=G,this.fragment=K,this.data=de,this.outlet=Ve,this.component=He,this._futureSnapshot=Ot}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ce.U)(P=>Be(P)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ce.U)(P=>Be(P)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $i(k,P="emptyOnly"){const D=k.pathFromRoot;let G=0;if("always"!==P)for(G=D.length-1;G>=1;){const K=D[G],de=D[G-1];if(K.routeConfig&&""===K.routeConfig.path)G--;else{if(de.component)break;G--}}return function Yr(k){return k.reduce((P,D)=>({params:Object.assign(Object.assign({},P.params),D.params),data:Object.assign(Object.assign({},P.data),D.data),resolve:Object.assign(Object.assign({},P.resolve),D._resolvedData)}),{params:{},data:{},resolve:{}})}(D.slice(G))}class at{constructor(P,D,G,K,de,Ve,He,Ot,Cn,On,jt){this.url=P,this.params=D,this.queryParams=G,this.fragment=K,this.data=de,this.outlet=Ve,this.component=He,this.routeConfig=Ot,this._urlSegment=Cn,this._lastPathIndex=On,this._resolve=jt}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(G=>G.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ze extends pn{constructor(P,D){super(D),this.url=P,bt(this,D)}toString(){return Vt(this._root)}}function bt(k,P){P.value._routerState=k,P.children.forEach(D=>bt(k,D))}function Vt(k){const P=k.children.length>0?` { ${k.children.map(Vt).join(", ")} } `:"";return`${k.value}${P}`}function $t(k){if(k.snapshot){const P=k.snapshot,D=k._futureSnapshot;k.snapshot=D,Pt(P.queryParams,D.queryParams)||k.queryParams.next(D.queryParams),P.fragment!==D.fragment&&k.fragment.next(D.fragment),Pt(P.params,D.params)||k.params.next(D.params),function yt(k,P){if(k.length!==P.length)return!1;for(let D=0;D<k.length;++D)if(!Pt(k[D],P[D]))return!1;return!0}(P.url,D.url)||k.url.next(D.url),Pt(P.data,D.data)||k.data.next(D.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function bn(k,P){const D=Pt(k.params,P.params)&&function Ye(k,P){return qt(k,P)&&k.every((D,G)=>Pt(D.parameters,P[G].parameters))}(k.url,P.url);return D&&!(!k.parent!=!P.parent)&&(!k.parent||bn(k.parent,P.parent))}function jr(k,P,D){if(D&&k.shouldReuseRoute(P.value,D.value.snapshot)){const G=D.value;G._futureSnapshot=P.value;const K=function Ir(k,P,D){return P.children.map(G=>{for(const K of D.children)if(k.shouldReuseRoute(G.value,K.value.snapshot))return jr(k,G,K);return jr(k,G)})}(k,P,D);return new tr(G,K)}{if(k.shouldAttach(P.value)){const de=k.retrieve(P.value);if(null!==de){const Ve=de.route;return Ve.value._futureSnapshot=P.value,Ve.children=P.children.map(He=>jr(k,He)),Ve}}const G=function vi(k){return new $r(new pe.X(k.url),new pe.X(k.params),new pe.X(k.queryParams),new pe.X(k.fragment),new pe.X(k.data),k.outlet,k.component,k)}(P.value),K=P.children.map(de=>jr(k,de));return new tr(G,K)}}function ji(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function To(k){return"object"==typeof k&&null!=k&&k.outlets}function Li(k,P,D,G,K){let de={};if(G&&hn(G,(He,Ot)=>{de[Ot]=Array.isArray(He)?He.map(Cn=>`${Cn}`):`${He}`}),k===P)return new De(D,de,K);const Ve=Es(k,P,D);return new De(Ve,de,K)}function Es(k,P,D){const G={};return hn(k.children,(K,de)=>{G[de]=K===P?D:Es(K,P,D)}),new be(k.segments,G)}class ss{constructor(P,D,G){if(this.isAbsolute=P,this.numberOfDoubleDots=D,this.commands=G,P&&G.length>0&&ji(G[0]))throw new Error("Root segment cannot have matrix parameters");const K=G.find(To);if(K&&K!==an(G))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Jo{constructor(P,D,G){this.segmentGroup=P,this.processChildren=D,this.index=G}}function Hi(k,P,D){if(k||(k=new be([],{})),0===k.segments.length&&k.hasChildren())return Co(k,P,D);const G=function Ns(k,P,D){let G=0,K=P;const de={match:!1,pathIndex:0,commandIndex:0};for(;K<k.segments.length;){if(G>=D.length)return de;const Ve=k.segments[K],He=D[G];if(To(He))break;const Ot=`${He}`,Cn=G<D.length-1?D[G+1]:null;if(K>0&&void 0===Ot)break;if(Ot&&Cn&&"object"==typeof Cn&&void 0===Cn.outlets){if(!cs(Ot,Cn,Ve))return de;G+=2}else{if(!cs(Ot,{},Ve))return de;G++}K++}return{match:!0,pathIndex:K,commandIndex:G}}(k,P,D),K=D.slice(G.commandIndex);if(G.match&&G.pathIndex<k.segments.length){const de=new be(k.segments.slice(0,G.pathIndex),{});return de.children[Fe]=new be(k.segments.slice(G.pathIndex),k.children),Co(de,0,K)}return G.match&&0===K.length?new be(k.segments,{}):G.match&&!k.hasChildren()?Yo(k,P,D):G.match?Co(k,0,K):Yo(k,P,D)}function Co(k,P,D){if(0===D.length)return new be(k.segments,{});{const G=function no(k){return To(k[0])?k[0].outlets:{[Fe]:k}}(D),K={};return hn(G,(de,Ve)=>{"string"==typeof de&&(de=[de]),null!==de&&(K[Ve]=Hi(k.children[Ve],P,de))}),hn(k.children,(de,Ve)=>{void 0===G[Ve]&&(K[Ve]=de)}),new be(k.segments,K)}}function Yo(k,P,D){const G=k.segments.slice(0,P);let K=0;for(;K<D.length;){const de=D[K];if(To(de)){const Ot=Si(de.outlets);return new be(G,Ot)}if(0===K&&ji(D[0])){G.push(new ut(k.segments[P].path,fo(D[0]))),K++;continue}const Ve=To(de)?de.outlets[Fe]:`${de}`,He=K<D.length-1?D[K+1]:null;Ve&&He&&ji(He)?(G.push(new ut(Ve,fo(He))),K+=2):(G.push(new ut(Ve,{})),K++)}return new be(G,{})}function Si(k){const P={};return hn(k,(D,G)=>{"string"==typeof D&&(D=[D]),null!==D&&(P[G]=Yo(new be([],{}),0,D))}),P}function fo(k){const P={};return hn(k,(D,G)=>P[G]=`${D}`),P}function cs(k,P,D){return k==D.path&&Pt(P,D.parameters)}class Te{constructor(P,D,G,K){this.routeReuseStrategy=P,this.futureState=D,this.currState=G,this.forwardEvent=K}activate(P){const D=this.futureState._root,G=this.currState?this.currState._root:null;this.deactivateChildRoutes(D,G,P),$t(this.futureState.root),this.activateChildRoutes(D,G,P)}deactivateChildRoutes(P,D,G){const K=Fr(D);P.children.forEach(de=>{const Ve=de.value.outlet;this.deactivateRoutes(de,K[Ve],G),delete K[Ve]}),hn(K,(de,Ve)=>{this.deactivateRouteAndItsChildren(de,G)})}deactivateRoutes(P,D,G){const K=P.value,de=D?D.value:null;if(K===de)if(K.component){const Ve=G.getContext(K.outlet);Ve&&this.deactivateChildRoutes(P,D,Ve.children)}else this.deactivateChildRoutes(P,D,G);else de&&this.deactivateRouteAndItsChildren(D,G)}deactivateRouteAndItsChildren(P,D){P.value.component&&this.routeReuseStrategy.shouldDetach(P.value.snapshot)?this.detachAndStoreRouteSubtree(P,D):this.deactivateRouteAndOutlet(P,D)}detachAndStoreRouteSubtree(P,D){const G=D.getContext(P.value.outlet),K=G&&P.value.component?G.children:D,de=Fr(P);for(const Ve of Object.keys(de))this.deactivateRouteAndItsChildren(de[Ve],K);if(G&&G.outlet){const Ve=G.outlet.detach(),He=G.children.onOutletDeactivated();this.routeReuseStrategy.store(P.value.snapshot,{componentRef:Ve,route:P,contexts:He})}}deactivateRouteAndOutlet(P,D){const G=D.getContext(P.value.outlet),K=G&&P.value.component?G.children:D,de=Fr(P);for(const Ve of Object.keys(de))this.deactivateRouteAndItsChildren(de[Ve],K);G&&G.outlet&&(G.outlet.deactivate(),G.children.onOutletDeactivated(),G.attachRef=null,G.resolver=null,G.route=null)}activateChildRoutes(P,D,G){const K=Fr(D);P.children.forEach(de=>{this.activateRoutes(de,K[de.value.outlet],G),this.forwardEvent(new oi(de.value.snapshot))}),P.children.length&&this.forwardEvent(new Bn(P.value.snapshot))}activateRoutes(P,D,G){const K=P.value,de=D?D.value:null;if($t(K),K===de)if(K.component){const Ve=G.getOrCreateContext(K.outlet);this.activateChildRoutes(P,D,Ve.children)}else this.activateChildRoutes(P,D,G);else if(K.component){const Ve=G.getOrCreateContext(K.outlet);if(this.routeReuseStrategy.shouldAttach(K.snapshot)){const He=this.routeReuseStrategy.retrieve(K.snapshot);this.routeReuseStrategy.store(K.snapshot,null),Ve.children.onOutletReAttached(He.contexts),Ve.attachRef=He.componentRef,Ve.route=He.route.value,Ve.outlet&&Ve.outlet.attach(He.componentRef,He.route.value),$t(He.route.value),this.activateChildRoutes(P,null,Ve.children)}else{const He=function Me(k){for(let P=k.parent;P;P=P.parent){const D=P.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig;if(D&&D.component)return null}return null}(K.snapshot),Ot=He?He.module.componentFactoryResolver:null;Ve.attachRef=null,Ve.route=K,Ve.resolver=Ot,Ve.outlet&&Ve.outlet.activateWith(K,Ot),this.activateChildRoutes(P,null,Ve.children)}}else this.activateChildRoutes(P,null,G)}}class fe{constructor(P,D){this.routes=P,this.module=D}}function R(k){return"function"==typeof k}function z(k){return k instanceof De}const Le=Symbol("INITIAL_VALUE");function ht(){return(0,qe.w)(k=>(0,dt.a)(k.map(P=>P.pipe((0,Ee.q)(1),(0,xt.O)(Le)))).pipe(gt((P,D)=>{let G=!1;return D.reduce((K,de,Ve)=>K!==Le?K:(de===Le&&(G=!0),G||!1!==de&&Ve!==D.length-1&&!z(de)?K:de),P)},Le),(0,Ae.h)(P=>P!==Le),(0,Ce.U)(P=>z(P)?P:!0===P),(0,Ee.q)(1)))}class ie{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ie,this.attachRef=null}}class Ie{constructor(){this.contexts=new Map}onChildOutletCreated(P,D){const G=this.getOrCreateContext(P);G.outlet=D,this.contexts.set(P,G)}onChildOutletDestroyed(P){const D=this.getContext(P);D&&(D.outlet=null,D.attachRef=null)}onOutletDeactivated(){const P=this.contexts;return this.contexts=new Map,P}onOutletReAttached(P){this.contexts=P}getOrCreateContext(P){let D=this.getContext(P);return D||(D=new ie,this.contexts.set(P,D)),D}getContext(P){return this.contexts.get(P)||null}}let Ze=(()=>{class k{constructor(D,G,K,de,Ve){this.parentContexts=D,this.location=G,this.resolver=K,this.changeDetector=Ve,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=de||Fe,D.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const D=this.parentContexts.getContext(this.name);D&&D.route&&(D.attachRef?this.attach(D.attachRef,D.route):this.activateWith(D.route,D.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const D=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(D.instance),D}attach(D,G){this.activated=D,this._activatedRoute=G,this.location.insert(D.hostView),this.attachEvents.emit(D.instance)}deactivate(){if(this.activated){const D=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(D)}}activateWith(D,G){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=D;const Ve=(G=G||this.resolver).resolveComponentFactory(D._futureSnapshot.routeConfig.component),He=this.parentContexts.getOrCreateContext(this.name).children,Ot=new St(D,He,this.location.injector);this.activated=this.location.createComponent(Ve,this.location.length,Ot),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(Ie),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},k.\u0275dir=p.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class St{constructor(P,D,G){this.route=P,this.childContexts=D,this.parent=G}get(P,D){return P===$r?this.route:P===Ie?this.childContexts:this.parent.get(P,D)}}let un=(()=>{class k{}return k.\u0275fac=function(D){return new(D||k)},k.\u0275cmp=p.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(D,G){1&D&&p._UZ(0,"router-outlet")},directives:[Ze],encapsulation:2}),k})();function In(k,P=""){for(let D=0;D<k.length;D++){const G=k[D];Mn(G,Fn(P,G))}}function Mn(k,P){k.children&&In(k.children,P)}function Fn(k,P){return P?k||P.path?k&&!P.path?`${k}/`:!k&&P.path?P.path:`${k}/${P.path}`:"":k}function hr(k){const P=k.children&&k.children.map(hr),D=P?Object.assign(Object.assign({},k),{children:P}):Object.assign({},k);return!D.component&&(P||D.loadChildren)&&D.outlet&&D.outlet!==Fe&&(D.component=un),D}function Nr(k){return k.outlet||Fe}function ti(k,P){const D=k.filter(G=>Nr(G)===P);return D.push(...k.filter(G=>Nr(G)!==P)),D}const Ki={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Go(k,P,D){var G;if(""===P.path)return"full"===P.pathMatch&&(k.hasChildren()||D.length>0)?Object.assign({},Ki):{matched:!0,consumedSegments:[],remainingSegments:D,parameters:{},positionalParamSegments:{}};const de=(P.matcher||lt)(D,k,P);if(!de)return Object.assign({},Ki);const Ve={};hn(de.posParams,(Ot,Cn)=>{Ve[Cn]=Ot.path});const He=de.consumed.length>0?Object.assign(Object.assign({},Ve),de.consumed[de.consumed.length-1].parameters):Ve;return{matched:!0,consumedSegments:de.consumed,remainingSegments:D.slice(de.consumed.length),parameters:He,positionalParamSegments:null!==(G=de.posParams)&&void 0!==G?G:{}}}function Hr(k,P,D,G,K="corrected"){if(D.length>0&&function j(k,P,D){return D.some(G=>Xe(k,P,G)&&Nr(G)!==Fe)}(k,D,G)){const Ve=new be(P,function ce(k,P,D,G){const K={};K[Fe]=G,G._sourceSegment=k,G._segmentIndexShift=P.length;for(const de of D)if(""===de.path&&Nr(de)!==Fe){const Ve=new be([],{});Ve._sourceSegment=k,Ve._segmentIndexShift=P.length,K[Nr(de)]=Ve}return K}(k,P,G,new be(D,k.children)));return Ve._sourceSegment=k,Ve._segmentIndexShift=P.length,{segmentGroup:Ve,slicedSegments:[]}}if(0===D.length&&function ge(k,P,D){return D.some(G=>Xe(k,P,G))}(k,D,G)){const Ve=new be(k.segments,function H(k,P,D,G,K,de){const Ve={};for(const He of G)if(Xe(k,D,He)&&!K[Nr(He)]){const Ot=new be([],{});Ot._sourceSegment=k,Ot._segmentIndexShift="legacy"===de?k.segments.length:P.length,Ve[Nr(He)]=Ot}return Object.assign(Object.assign({},K),Ve)}(k,P,D,G,k.children,K));return Ve._sourceSegment=k,Ve._segmentIndexShift=P.length,{segmentGroup:Ve,slicedSegments:D}}const de=new be(k.segments,k.children);return de._sourceSegment=k,de._segmentIndexShift=P.length,{segmentGroup:de,slicedSegments:D}}function Xe(k,P,D){return(!(k.hasChildren()||P.length>0)||"full"!==D.pathMatch)&&""===D.path}function Mt(k,P,D,G){return!!(Nr(k)===G||G!==Fe&&Xe(P,D,k))&&("**"===k.path||Go(P,k,D).matched)}function zt(k,P,D){return 0===P.length&&!k.children[D]}class En{constructor(P){this.segmentGroup=P||null}}class si{constructor(P){this.urlTree=P}}function Br(k){return N(new En(k))}function Ur(k){return N(new si(k))}class ci{constructor(P,D,G,K,de){this.configLoader=D,this.urlSerializer=G,this.urlTree=K,this.config=de,this.allowRedirects=!0,this.ngModule=P.get(p.h0i)}apply(){const P=Hr(this.urlTree.root,[],[],this.config).segmentGroup,D=new be(P.segments,P.children);return this.expandSegmentGroup(this.ngModule,this.config,D,Fe).pipe((0,Ce.U)(de=>this.createUrlTree(Vo(de),this.urlTree.queryParams,this.urlTree.fragment))).pipe(it(de=>{if(de instanceof si)return this.allowRedirects=!1,this.match(de.urlTree);throw de instanceof En?this.noMatchError(de):de}))}match(P){return this.expandSegmentGroup(this.ngModule,this.config,P.root,Fe).pipe((0,Ce.U)(K=>this.createUrlTree(Vo(K),P.queryParams,P.fragment))).pipe(it(K=>{throw K instanceof En?this.noMatchError(K):K}))}noMatchError(P){return new Error(`Cannot match any routes. URL Segment: '${P.segmentGroup}'`)}createUrlTree(P,D,G){const K=P.segments.length>0?new be([],{[Fe]:P}):P;return new De(K,D,G)}expandSegmentGroup(P,D,G,K){return 0===G.segments.length&&G.hasChildren()?this.expandChildren(P,D,G).pipe((0,Ce.U)(de=>new be([],de))):this.expandSegment(P,G,D,G.segments,K,!0)}expandChildren(P,D,G){const K=[];for(const de of Object.keys(G.children))"primary"===de?K.unshift(de):K.push(de);return(0,$.D)(K).pipe((0,Lt.b)(de=>{const Ve=G.children[de],He=ti(D,de);return this.expandSegmentGroup(P,He,Ve,de).pipe((0,Ce.U)(Ot=>({segment:Ot,outlet:de})))}),gt((de,Ve)=>(de[Ve.outlet]=Ve.segment,de),{}),function ue(k,P){const D=arguments.length>=2;return G=>G.pipe(k?(0,Ae.h)((K,de)=>k(K,de,G)):_e.y,Ke(1),D?(0,Je.d)(P):(0,Ue.T)(()=>new tt.K))}())}expandSegment(P,D,G,K,de,Ve){return(0,$.D)(G).pipe((0,Lt.b)(He=>this.expandSegmentAgainstRoute(P,D,G,He,K,de,Ve).pipe(it(Cn=>{if(Cn instanceof En)return(0,re.of)(null);throw Cn}))),(0,An.P)(He=>!!He),it((He,Ot)=>{if(He instanceof tt.K||"EmptyError"===He.name)return zt(D,K,de)?(0,re.of)(new be([],{})):Br(D);throw He}))}expandSegmentAgainstRoute(P,D,G,K,de,Ve,He){return Mt(K,D,de,Ve)?void 0===K.redirectTo?this.matchSegmentAgainstRoute(P,D,K,de,Ve):He&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(P,D,G,K,de,Ve):Br(D):Br(D)}expandSegmentAgainstRouteUsingRedirect(P,D,G,K,de,Ve){return"**"===K.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(P,G,K,Ve):this.expandRegularSegmentAgainstRouteUsingRedirect(P,D,G,K,de,Ve)}expandWildCardWithParamsAgainstRouteUsingRedirect(P,D,G,K){const de=this.applyRedirectCommands([],G.redirectTo,{});return G.redirectTo.startsWith("/")?Ur(de):this.lineralizeSegments(G,de).pipe((0,Nt.z)(Ve=>{const He=new be(Ve,{});return this.expandSegment(P,He,D,Ve,K,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(P,D,G,K,de,Ve){const{matched:He,consumedSegments:Ot,remainingSegments:Cn,positionalParamSegments:On}=Go(D,K,de);if(!He)return Br(D);const jt=this.applyRedirectCommands(Ot,K.redirectTo,On);return K.redirectTo.startsWith("/")?Ur(jt):this.lineralizeSegments(K,jt).pipe((0,Nt.z)(Kn=>this.expandSegment(P,D,G,Kn.concat(Cn),Ve,!1)))}matchSegmentAgainstRoute(P,D,G,K,de){if("**"===G.path)return G.loadChildren?(G._loadedConfig?(0,re.of)(G._loadedConfig):this.configLoader.load(P.injector,G)).pipe((0,Ce.U)(jt=>(G._loadedConfig=jt,new be(K,{})))):(0,re.of)(new be(K,{}));const{matched:Ve,consumedSegments:He,remainingSegments:Ot}=Go(D,G,K);return Ve?this.getChildConfig(P,G,K).pipe((0,Nt.z)(On=>{const jt=On.module,Kn=On.routes,{segmentGroup:Tr,slicedSegments:Ei}=Hr(D,He,Ot,Kn),Xr=new be(Tr.segments,Tr.children);if(0===Ei.length&&Xr.hasChildren())return this.expandChildren(jt,Kn,Xr).pipe((0,Ce.U)(ds=>new be(He,ds)));if(0===Kn.length&&0===Ei.length)return(0,re.of)(new be(He,{}));const wr=Nr(G)===de;return this.expandSegment(jt,Xr,Kn,Ei,wr?Fe:de,!0).pipe((0,Ce.U)(Oi=>new be(He.concat(Oi.segments),Oi.children)))})):Br(D)}getChildConfig(P,D,G){return D.children?(0,re.of)(new fe(D.children,P)):D.loadChildren?void 0!==D._loadedConfig?(0,re.of)(D._loadedConfig):this.runCanLoadGuards(P.injector,D,G).pipe((0,Nt.z)(K=>K?this.configLoader.load(P.injector,D).pipe((0,Ce.U)(de=>(D._loadedConfig=de,de))):function xi(k){return N(ye(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))}(D))):(0,re.of)(new fe([],P))}runCanLoadGuards(P,D,G){const K=D.canLoad;if(!K||0===K.length)return(0,re.of)(!0);const de=K.map(Ve=>{const He=P.get(Ve);let Ot;if(function ee(k){return k&&R(k.canLoad)}(He))Ot=He.canLoad(D,G);else{if(!R(He))throw new Error("Invalid CanLoad guard");Ot=He(D,G)}return Hn(Ot)});return(0,re.of)(de).pipe(ht(),(0,Et.b)(Ve=>{if(!z(Ve))return;const He=ye(`Redirecting to "${this.urlSerializer.serialize(Ve)}"`);throw He.url=Ve,He}),(0,Ce.U)(Ve=>!0===Ve))}lineralizeSegments(P,D){let G=[],K=D.root;for(;;){if(G=G.concat(K.segments),0===K.numberOfChildren)return(0,re.of)(G);if(K.numberOfChildren>1||!K.children[Fe])return N(new Error(`Only absolute redirects can have named outlets. redirectTo: '${P.redirectTo}'`));K=K.children[Fe]}}applyRedirectCommands(P,D,G){return this.applyRedirectCreatreUrlTree(D,this.urlSerializer.parse(D),P,G)}applyRedirectCreatreUrlTree(P,D,G,K){const de=this.createSegmentGroup(P,D.root,G,K);return new De(de,this.createQueryParams(D.queryParams,this.urlTree.queryParams),D.fragment)}createQueryParams(P,D){const G={};return hn(P,(K,de)=>{if("string"==typeof K&&K.startsWith(":")){const He=K.substring(1);G[de]=D[He]}else G[de]=K}),G}createSegmentGroup(P,D,G,K){const de=this.createSegments(P,D.segments,G,K);let Ve={};return hn(D.children,(He,Ot)=>{Ve[Ot]=this.createSegmentGroup(P,He,G,K)}),new be(de,Ve)}createSegments(P,D,G,K){return D.map(de=>de.path.startsWith(":")?this.findPosParam(P,de,K):this.findOrReturn(de,G))}findPosParam(P,D,G){const K=G[D.path.substring(1)];if(!K)throw new Error(`Cannot redirect to '${P}'. Cannot find '${D.path}'.`);return K}findOrReturn(P,D){let G=0;for(const K of D){if(K.path===P.path)return D.splice(G),K;G++}return P}}function Vo(k){const P={};for(const G of Object.keys(k.children)){const de=Vo(k.children[G]);(de.segments.length>0||de.hasChildren())&&(P[G]=de)}return function ko(k){if(1===k.numberOfChildren&&k.children[Fe]){const P=k.children[Fe];return new be(k.segments.concat(P.segments),P.children)}return k}(new be(k.segments,P))}class Rs{constructor(P){this.path=P,this.route=this.path[this.path.length-1]}}class jo{constructor(P,D){this.component=P,this.route=D}}function ls(k,P,D){const G=k._root;return us(G,P?P._root:null,D,[G.value])}function Ds(k,P,D){const G=function Xa(k){if(!k)return null;for(let P=k.parent;P;P=P.parent){const D=P.routeConfig;if(D&&D._loadedConfig)return D._loadedConfig}return null}(P);return(G?G.module.injector:D).get(k)}function us(k,P,D,G,K={canDeactivateChecks:[],canActivateChecks:[]}){const de=Fr(P);return k.children.forEach(Ve=>{(function en(k,P,D,G,K={canDeactivateChecks:[],canActivateChecks:[]}){const de=k.value,Ve=P?P.value:null,He=D?D.getContext(k.value.outlet):null;if(Ve&&de.routeConfig===Ve.routeConfig){const Ot=function dr(k,P,D){if("function"==typeof D)return D(k,P);switch(D){case"pathParamsChange":return!qt(k.url,P.url);case"pathParamsOrQueryParamsChange":return!qt(k.url,P.url)||!Pt(k.queryParams,P.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bn(k,P)||!Pt(k.queryParams,P.queryParams);default:return!bn(k,P)}}(Ve,de,de.routeConfig.runGuardsAndResolvers);Ot?K.canActivateChecks.push(new Rs(G)):(de.data=Ve.data,de._resolvedData=Ve._resolvedData),us(k,P,de.component?He?He.children:null:D,G,K),Ot&&He&&He.outlet&&He.outlet.isActivated&&K.canDeactivateChecks.push(new jo(He.outlet.component,Ve))}else Ve&&Oa(P,He,K),K.canActivateChecks.push(new Rs(G)),us(k,null,de.component?He?He.children:null:D,G,K)})(Ve,de[Ve.value.outlet],D,G.concat([Ve.value]),K),delete de[Ve.value.outlet]}),hn(de,(Ve,He)=>Oa(Ve,D.getContext(He),K)),K}function Oa(k,P,D){const G=Fr(k),K=k.value;hn(G,(de,Ve)=>{Oa(de,K.component?P?P.children.getContext(Ve):null:P,D)}),D.canDeactivateChecks.push(new jo(K.component&&P&&P.outlet&&P.outlet.isActivated?P.outlet.component:null,K))}class ul{}function Lo(k){return new e.y(P=>P.error(k))}class ma{constructor(P,D,G,K,de,Ve){this.rootComponentType=P,this.config=D,this.urlTree=G,this.url=K,this.paramsInheritanceStrategy=de,this.relativeLinkResolution=Ve}recognize(){const P=Hr(this.urlTree.root,[],[],this.config.filter(Ve=>void 0===Ve.redirectTo),this.relativeLinkResolution).segmentGroup,D=this.processSegmentGroup(this.config,P,Fe);if(null===D)return null;const G=new at([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),K=new tr(G,D),de=new ze(this.url,K);return this.inheritParamsAndData(de._root),de}inheritParamsAndData(P){const D=P.value,G=$i(D,this.paramsInheritanceStrategy);D.params=Object.freeze(G.params),D.data=Object.freeze(G.data),P.children.forEach(K=>this.inheritParamsAndData(K))}processSegmentGroup(P,D,G){return 0===D.segments.length&&D.hasChildren()?this.processChildren(P,D):this.processSegment(P,D,D.segments,G)}processChildren(P,D){const G=[];for(const de of Object.keys(D.children)){const Ve=D.children[de],He=ti(P,de),Ot=this.processSegmentGroup(He,Ve,de);if(null===Ot)return null;G.push(...Ot)}const K=Vc(G);return function _a(k){k.sort((P,D)=>P.value.outlet===Fe?-1:D.value.outlet===Fe?1:P.value.outlet.localeCompare(D.value.outlet))}(K),K}processSegment(P,D,G,K){for(const de of P){const Ve=this.processSegmentAgainstRoute(de,D,G,K);if(null!==Ve)return Ve}return zt(D,G,K)?[]:null}processSegmentAgainstRoute(P,D,G,K){if(P.redirectTo||!Mt(P,D,G,K))return null;let de,Ve=[],He=[];if("**"===P.path){const Tr=G.length>0?an(G).parameters:{};de=new at(G,Tr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sa(P),Nr(P),P.component,P,dl(D),va(D)+G.length,ya(P))}else{const Tr=Go(D,P,G);if(!Tr.matched)return null;Ve=Tr.consumedSegments,He=Tr.remainingSegments,de=new at(Ve,Tr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,sa(P),Nr(P),P.component,P,dl(D),va(D)+Ve.length,ya(P))}const Ot=function ks(k){return k.children?k.children:k.loadChildren?k._loadedConfig.routes:[]}(P),{segmentGroup:Cn,slicedSegments:On}=Hr(D,Ve,He,Ot.filter(Tr=>void 0===Tr.redirectTo),this.relativeLinkResolution);if(0===On.length&&Cn.hasChildren()){const Tr=this.processChildren(Ot,Cn);return null===Tr?null:[new tr(de,Tr)]}if(0===Ot.length&&0===On.length)return[new tr(de,[])];const jt=Nr(P)===K,Kn=this.processSegment(Ot,Cn,On,jt?Fe:K);return null===Kn?null:[new tr(de,Kn)]}}function Xo(k){const P=k.value.routeConfig;return P&&""===P.path&&void 0===P.redirectTo}function Vc(k){const P=[],D=new Set;for(const G of k){if(!Xo(G)){P.push(G);continue}const K=P.find(de=>G.value.routeConfig===de.value.routeConfig);void 0!==K?(K.children.push(...G.children),D.add(K)):P.push(G)}for(const G of D){const K=Vc(G.children);P.push(new tr(G.value,K))}return P.filter(G=>!D.has(G))}function dl(k){let P=k;for(;P._sourceSegment;)P=P._sourceSegment;return P}function va(k){let P=k,D=P._segmentIndexShift?P._segmentIndexShift:0;for(;P._sourceSegment;)P=P._sourceSegment,D+=P._segmentIndexShift?P._segmentIndexShift:0;return D-1}function sa(k){return k.data||{}}function ya(k){return k.resolve||{}}function ka(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}function La(k){return(0,qe.w)(P=>{const D=k(P);return D?(0,$.D)(D).pipe((0,Ce.U)(()=>P)):(0,re.of)(P)})}class aa extends class Ec{shouldDetach(P){return!1}store(P,D){}shouldAttach(P){return!1}retrieve(P){return null}shouldReuseRoute(P,D){return P.routeConfig===D.routeConfig}}{}const $s=new p.OlP("ROUTES");class wc{constructor(P,D,G,K){this.injector=P,this.compiler=D,this.onLoadStartListener=G,this.onLoadEndListener=K}load(P,D){if(D._loader$)return D._loader$;this.onLoadStartListener&&this.onLoadStartListener(D);const K=this.loadModuleFactory(D.loadChildren).pipe((0,Ce.U)(de=>{this.onLoadEndListener&&this.onLoadEndListener(D);const Ve=de.create(P);return new fe(Wt(Ve.injector.get($s,void 0,p.XFs.Self|p.XFs.Optional)).map(hr),Ve)}),it(de=>{throw D._loader$=void 0,de}));return D._loader$=new ne(K,()=>new je.x).pipe(J()),D._loader$}loadModuleFactory(P){return Hn(P()).pipe((0,Nt.z)(D=>D instanceof p.YKP?(0,re.of)(D):(0,$.D)(this.compiler.compileModuleAsync(D))))}}class ba{shouldProcessUrl(P){return!0}extract(P){return P}merge(P,D){return P}}function Bi(k){throw k}function tc(k,P,D){return P.parse("/")}function As(k,P){return(0,re.of)(null)}const vu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Hc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let lo=(()=>{class k{constructor(D,G,K,de,Ve,He,Ot){this.rootComponentType=D,this.urlSerializer=G,this.rootContexts=K,this.location=de,this.config=Ot,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new je.x,this.errorHandler=Bi,this.malformedUriErrorHandler=tc,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:As,afterPreactivation:As},this.urlHandlingStrategy=new ba,this.routeReuseStrategy=new aa,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ve.get(p.h0i),this.console=Ve.get(p.c2e);const jt=Ve.get(p.R0b);this.isNgZoneEnabled=jt instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Ot),this.currentUrlTree=function Ut(){return new De(new be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new wc(Ve,He,Kn=>this.triggerEvent(new Jr(Kn)),Kn=>this.triggerEvent(new qr(Kn))),this.routerState=eo(this.currentUrlTree,this.rootComponentType),this.transitions=new pe.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var D;return null===(D=this.location.getState())||void 0===D?void 0:D.\u0275routerPageId}setupNavigations(D){const G=this.events;return D.pipe((0,Ae.h)(K=>0!==K.id),(0,Ce.U)(K=>Object.assign(Object.assign({},K),{extractedUrl:this.urlHandlingStrategy.extract(K.rawUrl)})),(0,qe.w)(K=>{let de=!1,Ve=!1;return(0,re.of)(K).pipe((0,Et.b)(He=>{this.currentNavigation={id:He.id,initialUrl:He.currentRawUrl,extractedUrl:He.extractedUrl,trigger:He.source,extras:He.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,qe.w)(He=>{const Ot=this.browserUrlTree.toString(),Cn=!this.navigated||He.extractedUrl.toString()!==Ot||Ot!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||Cn)&&this.urlHandlingStrategy.shouldProcessUrl(He.rawUrl))return Ta(He.source)&&(this.browserUrlTree=He.extractedUrl),(0,re.of)(He).pipe((0,qe.w)(jt=>{const Kn=this.transitions.getValue();return G.next(new $n(jt.id,this.serializeUrl(jt.extractedUrl),jt.source,jt.restoredState)),Kn!==this.transitions.getValue()?ve.E:Promise.resolve(jt)}),function fr(k,P,D,G){return(0,qe.w)(K=>function ai(k,P,D,G,K){return new ci(k,P,D,G,K).apply()}(k,P,D,K.extractedUrl,G).pipe((0,Ce.U)(de=>Object.assign(Object.assign({},K),{urlAfterRedirects:de}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Et.b)(jt=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:jt.urlAfterRedirects})}),function jl(k,P,D,G,K){return(0,Nt.z)(de=>function Qo(k,P,D,G,K="emptyOnly",de="legacy"){try{const Ve=new ma(k,P,D,G,K,de).recognize();return null===Ve?Lo(new ul):(0,re.of)(Ve)}catch(Ve){return Lo(Ve)}}(k,P,de.urlAfterRedirects,D(de.urlAfterRedirects),G,K).pipe((0,Ce.U)(Ve=>Object.assign(Object.assign({},de),{targetSnapshot:Ve}))))}(this.rootComponentType,this.config,jt=>this.serializeUrl(jt),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Et.b)(jt=>{if("eager"===this.urlUpdateStrategy){if(!jt.extras.skipLocationChange){const Tr=this.urlHandlingStrategy.merge(jt.urlAfterRedirects,jt.rawUrl);this.setBrowserUrl(Tr,jt)}this.browserUrlTree=jt.urlAfterRedirects}const Kn=new ii(jt.id,this.serializeUrl(jt.extractedUrl),this.serializeUrl(jt.urlAfterRedirects),jt.targetSnapshot);G.next(Kn)}));if(Cn&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Kn,extractedUrl:Tr,source:Ei,restoredState:Xr,extras:wr}=He,pi=new $n(Kn,this.serializeUrl(Tr),Ei,Xr);G.next(pi);const Oi=eo(Tr,this.rootComponentType).snapshot;return(0,re.of)(Object.assign(Object.assign({},He),{targetSnapshot:Oi,urlAfterRedirects:Tr,extras:Object.assign(Object.assign({},wr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=He.rawUrl,He.resolve(null),ve.E}),La(He=>{const{targetSnapshot:Ot,id:Cn,extractedUrl:On,rawUrl:jt,extras:{skipLocationChange:Kn,replaceUrl:Tr}}=He;return this.hooks.beforePreactivation(Ot,{navigationId:Cn,appliedUrlTree:On,rawUrlTree:jt,skipLocationChange:!!Kn,replaceUrl:!!Tr})}),(0,Et.b)(He=>{const Ot=new xr(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(Ot)}),(0,Ce.U)(He=>Object.assign(Object.assign({},He),{guards:ls(He.targetSnapshot,He.currentSnapshot,this.rootContexts)})),function Mi(k,P){return(0,Nt.z)(D=>{const{targetSnapshot:G,currentSnapshot:K,guards:{canActivateChecks:de,canDeactivateChecks:Ve}}=D;return 0===Ve.length&&0===de.length?(0,re.of)(Object.assign(Object.assign({},D),{guardsResult:!0})):function ll(k,P,D,G){return(0,$.D)(k).pipe((0,Nt.z)(K=>function Sc(k,P,D,G,K){const de=P&&P.routeConfig?P.routeConfig.canDeactivate:null;if(!de||0===de.length)return(0,re.of)(!0);const Ve=de.map(He=>{const Ot=Ds(He,P,K);let Cn;if(function xe(k){return k&&R(k.canDeactivate)}(Ot))Cn=Hn(Ot.canDeactivate(k,P,D,G));else{if(!R(Ot))throw new Error("Invalid CanDeactivate guard");Cn=Hn(Ot(k,P,D,G))}return Cn.pipe((0,An.P)())});return(0,re.of)(Ve).pipe(ht())}(K.component,K.route,D,P,G)),(0,An.P)(K=>!0!==K,!0))}(Ve,G,K,k).pipe((0,Nt.z)(He=>He&&function Z(k){return"boolean"==typeof k}(He)?function qs(k,P,D,G){return(0,$.D)(P).pipe((0,Lt.b)(K=>(0,Qe.z)(function ec(k,P){return null!==k&&P&&P(new ki(k)),(0,re.of)(!0)}(K.route.parent,G),function oa(k,P){return null!==k&&P&&P(new qi(k)),(0,re.of)(!0)}(K.route,G),function Cc(k,P,D){const G=P[P.length-1],de=P.slice(0,P.length-1).reverse().map(Ve=>function ws(k){const P=k.routeConfig?k.routeConfig.canActivateChild:null;return P&&0!==P.length?{node:k,guards:P}:null}(Ve)).filter(Ve=>null!==Ve).map(Ve=>(0,vt.P)(()=>{const He=Ve.guards.map(Ot=>{const Cn=Ds(Ot,Ve.node,D);let On;if(function Oe(k){return k&&R(k.canActivateChild)}(Cn))On=Hn(Cn.canActivateChild(G,k));else{if(!R(Cn))throw new Error("Invalid CanActivateChild guard");On=Hn(Cn(G,k))}return On.pipe((0,An.P)())});return(0,re.of)(He).pipe(ht())}));return(0,re.of)(de).pipe(ht())}(k,K.path,D),function Na(k,P,D){const G=P.routeConfig?P.routeConfig.canActivate:null;if(!G||0===G.length)return(0,re.of)(!0);const K=G.map(de=>(0,vt.P)(()=>{const Ve=Ds(de,P,D);let He;if(function Se(k){return k&&R(k.canActivate)}(Ve))He=Hn(Ve.canActivate(P,k));else{if(!R(Ve))throw new Error("Invalid CanActivate guard");He=Hn(Ve(P,k))}return He.pipe((0,An.P)())}));return(0,re.of)(K).pipe(ht())}(k,K.route,D))),(0,An.P)(K=>!0!==K,!0))}(G,de,k,P):(0,re.of)(He)),(0,Ce.U)(He=>Object.assign(Object.assign({},D),{guardsResult:He})))})}(this.ngModule.injector,He=>this.triggerEvent(He)),(0,Et.b)(He=>{if(z(He.guardsResult)){const Cn=ye(`Redirecting to "${this.serializeUrl(He.guardsResult)}"`);throw Cn.url=He.guardsResult,Cn}const Ot=new Vr(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot,!!He.guardsResult);this.triggerEvent(Ot)}),(0,Ae.h)(He=>!!He.guardsResult||(this.restoreHistory(He),this.cancelNavigationTransition(He,""),!1)),La(He=>{if(He.guards.canActivateChecks.length)return(0,re.of)(He).pipe((0,Et.b)(Ot=>{const Cn=new Pi(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(Cn)}),(0,qe.w)(Ot=>{let Cn=!1;return(0,re.of)(Ot).pipe(function zs(k,P){return(0,Nt.z)(D=>{const{targetSnapshot:G,guards:{canActivateChecks:K}}=D;if(!K.length)return(0,re.of)(D);let de=0;return(0,$.D)(K).pipe((0,Lt.b)(Ve=>function hl(k,P,D,G){return function Ra(k,P,D,G){const K=ka(k);if(0===K.length)return(0,re.of)({});const de={};return(0,$.D)(K).pipe((0,Nt.z)(Ve=>function jc(k,P,D,G){const K=Ds(k,P,G);return Hn(K.resolve?K.resolve(P,D):K(P,D))}(k[Ve],P,D,G).pipe((0,Et.b)(He=>{de[Ve]=He}))),Ke(1),(0,Nt.z)(()=>ka(de).length===K.length?(0,re.of)(de):ve.E))}(k._resolve,k,P,G).pipe((0,Ce.U)(de=>(k._resolvedData=de,k.data=Object.assign(Object.assign({},k.data),$i(k,D).resolve),null)))}(Ve.route,G,k,P)),(0,Et.b)(()=>de++),Ke(1),(0,Nt.z)(Ve=>de===K.length?(0,re.of)(D):ve.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Et.b)({next:()=>Cn=!0,complete:()=>{Cn||(this.restoreHistory(Ot),this.cancelNavigationTransition(Ot,"At least one route resolver didn't emit any value."))}}))}),(0,Et.b)(Ot=>{const Cn=new Ti(Ot.id,this.serializeUrl(Ot.extractedUrl),this.serializeUrl(Ot.urlAfterRedirects),Ot.targetSnapshot);this.triggerEvent(Cn)}))}),La(He=>{const{targetSnapshot:Ot,id:Cn,extractedUrl:On,rawUrl:jt,extras:{skipLocationChange:Kn,replaceUrl:Tr}}=He;return this.hooks.afterPreactivation(Ot,{navigationId:Cn,appliedUrlTree:On,rawUrlTree:jt,skipLocationChange:!!Kn,replaceUrl:!!Tr})}),(0,Ce.U)(He=>{const Ot=function Dr(k,P,D){const G=jr(k,P._root,D?D._root:void 0);return new Ci(G,P)}(this.routeReuseStrategy,He.targetSnapshot,He.currentRouterState);return Object.assign(Object.assign({},He),{targetRouterState:Ot})}),(0,Et.b)(He=>{this.currentUrlTree=He.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(He.urlAfterRedirects,He.rawUrl),this.routerState=He.targetRouterState,"deferred"===this.urlUpdateStrategy&&(He.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,He),this.browserUrlTree=He.urlAfterRedirects)}),((k,P,D)=>(0,Ce.U)(G=>(new Te(P,G.targetRouterState,G.currentRouterState,D).activate(k),G)))(this.rootContexts,this.routeReuseStrategy,He=>this.triggerEvent(He)),(0,Et.b)({next(){de=!0},complete(){de=!0}}),function oe(k){return(0,V.e)((P,D)=>{try{P.subscribe(D)}finally{D.add(k)}})}(()=>{var He;de||Ve||this.cancelNavigationTransition(K,`Navigation ID ${K.id} is not equal to the current navigation id ${this.navigationId}`),(null===(He=this.currentNavigation)||void 0===He?void 0:He.id)===K.id&&(this.currentNavigation=null)}),it(He=>{if(Ve=!0,function ct(k){return k&&k[ae]}(He)){const Ot=z(He.url);Ot||(this.navigated=!0,this.restoreHistory(K,!0));const Cn=new yr(K.id,this.serializeUrl(K.extractedUrl),He.message);G.next(Cn),Ot?setTimeout(()=>{const On=this.urlHandlingStrategy.merge(He.url,this.rawUrlTree),jt={skipLocationChange:K.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Ta(K.source)};this.scheduleNavigation(On,"imperative",null,jt,{resolve:K.resolve,reject:K.reject,promise:K.promise})},0):K.resolve(!1)}else{this.restoreHistory(K,!0);const Ot=new _r(K.id,this.serializeUrl(K.extractedUrl),He);G.next(Ot);try{K.resolve(this.errorHandler(He))}catch(Cn){K.reject(Cn)}}return ve.E}))}))}resetRootComponentType(D){this.rootComponentType=D,this.routerState.root.component=this.rootComponentType}setTransition(D){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),D))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(D=>{const G="popstate"===D.type?"popstate":"hashchange";"popstate"===G&&setTimeout(()=>{var K;const de={replaceUrl:!0},Ve=(null===(K=D.state)||void 0===K?void 0:K.navigationId)?D.state:null;if(Ve){const Ot=Object.assign({},Ve);delete Ot.navigationId,delete Ot.\u0275routerPageId,0!==Object.keys(Ot).length&&(de.state=Ot)}const He=this.parseUrl(D.url);this.scheduleNavigation(He,G,Ve,de)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(D){this.events.next(D)}resetConfig(D){In(D),this.config=D.map(hr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(D,G={}){const{relativeTo:K,queryParams:de,fragment:Ve,queryParamsHandling:He,preserveFragment:Ot}=G,Cn=K||this.routerState.root,On=Ot?this.currentUrlTree.fragment:Ve;let jt=null;switch(He){case"merge":jt=Object.assign(Object.assign({},this.currentUrlTree.queryParams),de);break;case"preserve":jt=this.currentUrlTree.queryParams;break;default:jt=de||null}return null!==jt&&(jt=this.removeEmptyProps(jt)),function Ro(k,P,D,G,K){if(0===D.length)return Li(P.root,P.root,P.root,G,K);const de=function to(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new ss(!0,0,k);let P=0,D=!1;const G=k.reduce((K,de,Ve)=>{if("object"==typeof de&&null!=de){if(de.outlets){const He={};return hn(de.outlets,(Ot,Cn)=>{He[Cn]="string"==typeof Ot?Ot.split("/"):Ot}),[...K,{outlets:He}]}if(de.segmentPath)return[...K,de.segmentPath]}return"string"!=typeof de?[...K,de]:0===Ve?(de.split("/").forEach((He,Ot)=>{0==Ot&&"."===He||(0==Ot&&""===He?D=!0:".."===He?P++:""!=He&&K.push(He))}),K):[...K,de]},[]);return new ss(D,P,G)}(D);if(de.toRoot())return Li(P.root,P.root,new be([],{}),G,K);const Ve=function as(k,P,D){if(k.isAbsolute)return new Jo(P.root,!0,0);if(-1===D.snapshot._lastPathIndex){const de=D.snapshot._urlSegment;return new Jo(de,de===P.root,0)}const G=ji(k.commands[0])?0:1;return function Fi(k,P,D){let G=k,K=P,de=D;for(;de>K;){if(de-=K,G=G.parent,!G)throw new Error("Invalid number of '../'");K=G.segments.length}return new Jo(G,!1,K-de)}(D.snapshot._urlSegment,D.snapshot._lastPathIndex+G,k.numberOfDoubleDots)}(de,P,k),He=Ve.processChildren?Co(Ve.segmentGroup,Ve.index,de.commands):Hi(Ve.segmentGroup,Ve.index,de.commands);return Li(P.root,Ve.segmentGroup,He,G,K)}(Cn,this.currentUrlTree,D,jt,null!=On?On:null)}navigateByUrl(D,G={skipLocationChange:!1}){const K=z(D)?D:this.parseUrl(D),de=this.urlHandlingStrategy.merge(K,this.rawUrlTree);return this.scheduleNavigation(de,"imperative",null,G)}navigate(D,G={skipLocationChange:!1}){return function ed(k){for(let P=0;P<k.length;P++){const D=k[P];if(null==D)throw new Error(`The requested path contains ${D} segment at index ${P}`)}}(D),this.navigateByUrl(this.createUrlTree(D,G),G)}serializeUrl(D){return this.urlSerializer.serialize(D)}parseUrl(D){let G;try{G=this.urlSerializer.parse(D)}catch(K){G=this.malformedUriErrorHandler(K,this.urlSerializer,D)}return G}isActive(D,G){let K;if(K=!0===G?Object.assign({},vu):!1===G?Object.assign({},Hc):G,z(D))return Ft(this.currentUrlTree,D,K);const de=this.parseUrl(D);return Ft(this.currentUrlTree,de,K)}removeEmptyProps(D){return Object.keys(D).reduce((G,K)=>{const de=D[K];return null!=de&&(G[K]=de),G},{})}processNavigations(){this.navigations.subscribe(D=>{this.navigated=!0,this.lastSuccessfulId=D.id,this.currentPageId=D.targetPageId,this.events.next(new Er(D.id,this.serializeUrl(D.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,D.resolve(!0)},D=>{this.console.warn(`Unhandled Navigation Error: ${D}`)})}scheduleNavigation(D,G,K,de,Ve){var He,Ot;if(this.disposed)return Promise.resolve(!1);let Cn,On,jt;Ve?(Cn=Ve.resolve,On=Ve.reject,jt=Ve.promise):jt=new Promise((Ei,Xr)=>{Cn=Ei,On=Xr});const Kn=++this.navigationId;let Tr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(K=this.location.getState()),Tr=K&&K.\u0275routerPageId?K.\u0275routerPageId:de.replaceUrl||de.skipLocationChange?null!==(He=this.browserPageId)&&void 0!==He?He:0:(null!==(Ot=this.browserPageId)&&void 0!==Ot?Ot:0)+1):Tr=0,this.setTransition({id:Kn,targetPageId:Tr,source:G,restoredState:K,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:D,extras:de,resolve:Cn,reject:On,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(Ei=>Promise.reject(Ei))}setBrowserUrl(D,G){const K=this.urlSerializer.serialize(D),de=Object.assign(Object.assign({},G.extras.state),this.generateNgRouterState(G.id,G.targetPageId));this.location.isCurrentPathEqualTo(K)||G.extras.replaceUrl?this.location.replaceState(K,"",de):this.location.go(K,"",de)}restoreHistory(D,G=!1){var K,de;if("computed"===this.canceledNavigationResolution){const Ve=this.currentPageId-D.targetPageId;"popstate"!==D.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(K=this.currentNavigation)||void 0===K?void 0:K.finalUrl)||0===Ve?this.currentUrlTree===(null===(de=this.currentNavigation)||void 0===de?void 0:de.finalUrl)&&0===Ve&&(this.resetState(D),this.browserUrlTree=D.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ve)}else"replace"===this.canceledNavigationResolution&&(G&&this.resetState(D),this.resetUrlToCurrentUrlTree())}resetState(D){this.routerState=D.currentRouterState,this.currentUrlTree=D.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,D.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(D,G){const K=new yr(D.id,this.serializeUrl(D.extractedUrl),G);this.triggerEvent(K),D.resolve(!1)}generateNgRouterState(D,G){return"computed"===this.canceledNavigationResolution?{navigationId:D,\u0275routerPageId:G}:{navigationId:D}}}return k.\u0275fac=function(D){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function Ta(k){return"imperative"!==k}let Ks=(()=>{class k{constructor(D,G,K,de,Ve){this.router=D,this.route=G,this.tabIndexAttribute=K,this.renderer=de,this.el=Ve,this.commands=null,this.onChanges=new je.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(D){if(null!=this.tabIndexAttribute)return;const G=this.renderer,K=this.el.nativeElement;null!==D?G.setAttribute(K,"tabindex",D):G.removeAttribute(K,"tabindex")}ngOnChanges(D){this.onChanges.next(this)}set routerLink(D){null!=D?(this.commands=Array.isArray(D)?D:[D],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const D={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,D),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(lo),p.Y36($r),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},k.\u0275dir=p.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(D,G){1&D&&p.NdJ("click",function(){return G.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})(),Js=(()=>{class k{constructor(D,G,K){this.router=D,this.route=G,this.locationStrategy=K,this.commands=null,this.href=null,this.onChanges=new je.x,this.subscription=D.events.subscribe(de=>{de instanceof Er&&this.updateTargetUrlAndHref()})}set routerLink(D){this.commands=null!=D?Array.isArray(D)?D:[D]:null}ngOnChanges(D){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(D,G,K,de,Ve){if(0!==D||G||K||de||Ve||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const He={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,He),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return k.\u0275fac=function(D){return new(D||k)(p.Y36(lo),p.Y36($r),p.Y36(yn.S$))},k.\u0275dir=p.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(D,G){1&D&&p.NdJ("click",function(de){return G.onClick(de.button,de.ctrlKey,de.shiftKey,de.altKey,de.metaKey)}),2&D&&p.uIk("target",G.target)("href",G.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})();function ui(k){return""===k||!!k}class es{}class rc{preload(P,D){return(0,re.of)(null)}}let ro=(()=>{class k{constructor(D,G,K,de){this.router=D,this.injector=K,this.preloadingStrategy=de,this.loader=new wc(K,G,Ot=>D.triggerEvent(new Jr(Ot)),Ot=>D.triggerEvent(new qr(Ot)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(D=>D instanceof Er),(0,Lt.b)(()=>this.preload())).subscribe(()=>{})}preload(){const D=this.injector.get(p.h0i);return this.processRoutes(D,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(D,G){const K=[];for(const de of G)if(de.loadChildren&&!de.canLoad&&de._loadedConfig){const Ve=de._loadedConfig;K.push(this.processRoutes(Ve.module,Ve.routes))}else de.loadChildren&&!de.canLoad?K.push(this.preloadConfig(D,de)):de.children&&K.push(this.processRoutes(D,de.children));return(0,$.D)(K).pipe((0,Zt.J)(),(0,Ce.U)(de=>{}))}preloadConfig(D,G){return this.preloadingStrategy.preload(G,()=>(G._loadedConfig?(0,re.of)(G._loadedConfig):this.loader.load(D.injector,G)).pipe((0,Nt.z)(de=>(G._loadedConfig=de,this.processRoutes(de.module,de.routes)))))}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(lo),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(es))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})(),So=(()=>{class k{constructor(D,G,K={}){this.router=D,this.viewportScroller=G,this.options=K,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},K.scrollPositionRestoration=K.scrollPositionRestoration||"disabled",K.anchorScrolling=K.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(D=>{D instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=D.navigationTrigger,this.restoredId=D.restoredState?D.restoredState.navigationId:0):D instanceof Er&&(this.lastId=D.id,this.scheduleScrollEvent(D,this.router.parseUrl(D.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(D=>{D instanceof ei&&(D.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(D.position):D.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(D.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(D,G){this.router.triggerEvent(new ei(D,"popstate"===this.lastSource?this.store[this.restoredId]:null,G))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(D){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();const Ys=new p.OlP("ROUTER_CONFIGURATION"),yu=new p.OlP("ROUTER_FORROOT_GUARD"),_n=[yn.Ye,{provide:qn,useClass:sr},{provide:lo,useFactory:function Rn(k,P,D,G,K,de,Ve={},He,Ot){const Cn=new lo(null,k,P,D,G,K,Wt(de));return He&&(Cn.urlHandlingStrategy=He),Ot&&(Cn.routeReuseStrategy=Ot),function It(k,P){k.errorHandler&&(P.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(P.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(P.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(P.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(P.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(P.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(P.canceledNavigationResolution=k.canceledNavigationResolution)}(Ve,Cn),Ve.enableTracing&&Cn.events.subscribe(On=>{var jt,Kn;null===(jt=console.group)||void 0===jt||jt.call(console,`Router Event: ${On.constructor.name}`),console.log(On.toString()),console.log(On),null===(Kn=console.groupEnd)||void 0===Kn||Kn.call(console)}),Cn},deps:[qn,Ie,yn.Ye,p.zs3,p.Sil,$s,Ys,[class po{},new p.FiY],[class Fa{},new p.FiY]]},Ie,{provide:$r,useFactory:function on(k){return k.routerState.root},deps:[lo]},ro,rc,class Ba{preload(P,D){return D().pipe(it(()=>(0,re.of)(null)))}},{provide:Ys,useValue:{enableTracing:!1}}];function di(){return new p.PXZ("Router",lo)}let ic=(()=>{class k{constructor(D,G){}static forRoot(D,G){return{ngModule:k,providers:[_n,pl(D),{provide:yu,useFactory:br,deps:[[lo,new p.FiY,new p.tp0]]},{provide:Ys,useValue:G||{}},{provide:yn.S$,useFactory:Qn,deps:[yn.lw,[new p.tBr(yn.mr),new p.FiY],Ys]},{provide:So,useFactory:fl,deps:[lo,yn.EM,Ys]},{provide:es,useExisting:G&&G.preloadingStrategy?G.preloadingStrategy:rc},{provide:p.PXZ,multi:!0,useFactory:di},[Ii,{provide:p.ip1,multi:!0,useFactory:yi,deps:[Ii]},{provide:gl,useFactory:oc,deps:[Ii]},{provide:p.tb,multi:!0,useExisting:gl}]]}}static forChild(D){return{ngModule:k,providers:[pl(D)]}}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(yu,8),p.LFG(lo,8))},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({}),k})();function fl(k,P,D){return D.scrollOffset&&P.setOffset(D.scrollOffset),new So(k,P,D)}function Qn(k,P,D={}){return D.useHash?new yn.Do(k,P):new yn.b0(k,P)}function br(k){return"guarded"}function pl(k){return[{provide:p.deG,multi:!0,useValue:k},{provide:$s,multi:!0,useValue:k}]}let Ii=(()=>{class k{constructor(D){this.injector=D,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new je.x}appInitializer(){return this.injector.get(yn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let G=null;const K=new Promise(He=>G=He),de=this.injector.get(lo),Ve=this.injector.get(Ys);return"disabled"===Ve.initialNavigation?(de.setUpLocationChangeListener(),G(!0)):"enabled"===Ve.initialNavigation||"enabledBlocking"===Ve.initialNavigation?(de.hooks.afterPreactivation=()=>this.initNavigation?(0,re.of)(null):(this.initNavigation=!0,G(!0),this.resultOfPreactivationDone),de.initialNavigation()):G(!0),K})}bootstrapListener(D){const G=this.injector.get(Ys),K=this.injector.get(ro),de=this.injector.get(So),Ve=this.injector.get(lo),He=this.injector.get(p.z2F);D===He.components[0]&&(("enabledNonBlocking"===G.initialNavigation||void 0===G.initialNavigation)&&Ve.initialNavigation(),K.setUpPreloading(),de.init(),Ve.resetRootComponentType(He.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(D){return new(D||k)(p.LFG(p.zs3))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function yi(k){return k.appInitializer.bind(k)}function oc(k){return k.bootstrapListener.bind(k)}const gl=new p.OlP("Router Initializer")},3942:(pt,w,x)=>{"use strict";x.d(w,{Z:()=>Qe});var p=x(2090),e=x(4859),T=x(9681),N=x(1877);class O{constructor(ve,je){this._delegate=ve,this.firebase=je,(0,T._addComponent)(ve,new e.wA("app-compat",()=>this,"PUBLIC")),this.container=ve.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ve){this._delegate.automaticDataCollectionEnabled=ve}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ve=>{this._delegate.checkDestroyed(),ve()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,T.deleteApp)(this._delegate)))}_getService(ve,je=T._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const gt=this._delegate.container.getProvider(ve);return!gt.isInitialized()&&"EXPLICIT"===(null===(ke=gt.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&gt.initialize(),gt.getImmediate({identifier:je})}_removeServiceInstance(ve,je=T._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ve).clearInstance(je)}_addComponent(ve){(0,T._addComponent)(this._delegate,ve)}_addOrOverwriteComponent(ve){(0,T._addOrOverwriteComponent)(this._delegate,ve)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Y=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),$=function ne(){const vt=function J(vt){const ve={},je={__esModule:!0,initializeApp:function $e(Ue,Je={}){const _e=T.initializeApp(Ue,Je);if((0,p.r3)(ve,_e.name))return ve[_e.name];const ue=new vt(_e,je);return ve[_e.name]=ue,ue},app:gt,registerVersion:T.registerVersion,setLogLevel:T.setLogLevel,onLog:T.onLog,apps:null,SDK_VERSION:T.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Ue){const Je=Ue.name,_e=Je.replace("-compat","");if(T._registerComponent(Ue)&&"PUBLIC"===Ue.type){const ue=(oe=gt())=>{if("function"!=typeof oe[_e])throw Y.create("invalid-app-argument",{appName:Je});return oe[_e]()};void 0!==Ue.serviceProps&&(0,p.ZB)(ue,Ue.serviceProps),je[_e]=ue,vt.prototype[_e]=function(...oe){return this._getService.bind(this,Je).apply(this,Ue.multipleInstances?oe:[])}}return"PUBLIC"===Ue.type?je[_e]:null},removeApp:function ke(Ue){delete ve[Ue]},useAsService:function Ke(Ue,Je){return"serverAuth"===Je?null:Je},modularAPIs:T}};function gt(Ue){if(!(0,p.r3)(ve,Ue=Ue||T._DEFAULT_ENTRY_NAME))throw Y.create("no-app",{appName:Ue});return ve[Ue]}return je.default=je,Object.defineProperty(je,"apps",{get:function it(){return Object.keys(ve).map(Ue=>ve[Ue])}}),gt.App=vt,je}(O);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:ne,extendNamespace:function ve(je){(0,p.ZB)(vt,je)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),vt}(),re=new N.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){re.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&re.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Qe=$;!function tt(vt){(0,T.registerVersion)("@firebase/app-compat","0.1.20",vt)}()},9681:(pt,w,x)=>{"use strict";x.r(w),x.d(w,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Pi,_DEFAULT_ENTRY_NAME:()=>An,_addComponent:()=>yn,_addOrOverwriteComponent:()=>or,_apps:()=>Et,_clearComponents:()=>_r,_components:()=>Zt,_getProvider:()=>Er,_registerComponent:()=>$n,_removeServiceInstance:()=>yr,deleteApp:()=>ki,getApp:()=>Jr,getApps:()=>qr,initializeApp:()=>Ti,onLog:()=>oi,registerVersion:()=>qi,setLogLevel:()=>ei});var p=x(5861),e=x(4859),T=x(1877),N=x(2090);class O{constructor(ft){this.container=ft}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function V(Ft){const ft=Ft.getComponent();return"VERSION"===(null==ft?void 0:ft.type)}(tn)){const vn=tn.getImmediate();return`${vn.library}/${vn.version}`}return null}).filter(tn=>tn).join(" ")}}const Y="@firebase/app",J="0.7.19",ne=new T.Yd("@firebase/app"),An="[DEFAULT]",Nt={[Y]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Zt=new Map;function yn(Ft,ft){try{Ft.container.addComponent(ft)}catch(tn){ne.debug(`Component ${ft.name} failed to register with FirebaseApp ${Ft.name}`,tn)}}function or(Ft,ft){Ft.container.addOrOverwriteComponent(ft)}function $n(Ft){const ft=Ft.name;if(Zt.has(ft))return ne.debug(`There were multiple attempts to register component ${ft}.`),!1;Zt.set(ft,Ft);for(const tn of Et.values())yn(tn,Ft);return!0}function Er(Ft,ft){const tn=Ft.container.getProvider("heartbeat").getImmediate({optional:!0});return tn&&tn.triggerHeartbeat(),Ft.container.getProvider(ft)}function yr(Ft,ft,tn=An){Er(Ft,ft).clearInstance(tn)}function _r(){Zt.clear()}const xr=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Vr{constructor(ft,tn,vn){this._isDeleted=!1,this._options=Object.assign({},ft),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=vn,this.container.addComponent(new e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ft){this.checkDestroyed(),this._automaticDataCollectionEnabled=ft}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ft){this._isDeleted=ft}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Pi="9.6.9";function Ti(Ft,ft={}){"object"!=typeof ft&&(ft={name:ft});const tn=Object.assign({name:An,automaticDataCollectionEnabled:!1},ft),vn=tn.name;if("string"!=typeof vn||!vn)throw xr.create("bad-app-name",{appName:String(vn)});const Zn=Et.get(vn);if(Zn){if((0,N.vZ)(Ft,Zn.options)&&(0,N.vZ)(tn,Zn.config))return Zn;throw xr.create("duplicate-app",{appName:vn})}const Un=new e.H0(vn);for(const De of Zt.values())Un.addComponent(De);const Pe=new Vr(Ft,tn,Un);return Et.set(vn,Pe),Pe}function Jr(Ft=An){const ft=Et.get(Ft);if(!ft)throw xr.create("no-app",{appName:Ft});return ft}function qr(){return Array.from(Et.values())}function ki(Ft){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(Ft){const ft=Ft.name;Et.has(ft)&&(Et.delete(ft),yield Promise.all(Ft.container.getProviders().map(tn=>tn.delete())),Ft.isDeleted=!0)})).apply(this,arguments)}function qi(Ft,ft,tn){var vn;let Zn=null!==(vn=Nt[Ft])&&void 0!==vn?vn:Ft;tn&&(Zn+=`-${tn}`);const Un=Zn.match(/\s|\//),Pe=ft.match(/\s|\//);if(Un||Pe){const De=[`Unable to register library "${Zn}" with version "${ft}":`];return Un&&De.push(`library name "${Zn}" contains illegal characters (whitespace or "/")`),Un&&Pe&&De.push("and"),Pe&&De.push(`version name "${ft}" contains illegal characters (whitespace or "/")`),void ne.warn(De.join(" "))}$n(new e.wA(`${Zn}-version`,()=>({library:Zn,version:ft}),"VERSION"))}function oi(Ft,ft){if(null!==Ft&&"function"!=typeof Ft)throw xr.create("invalid-log-argument");(0,T.Am)(Ft,ft)}function ei(Ft){(0,T.Ub)(Ft)}const Be="firebase-heartbeat-store";let ae=null;function ye(){return ae||(ae=(0,N.X3)("firebase-heartbeat-database",1,(Ft,ft)=>{0===ft&&Ft.createObjectStore(Be)}).catch(Ft=>{throw xr.create("storage-open",{originalErrorMessage:Ft.message})})),ae}function lt(){return(lt=(0,p.Z)(function*(Ft){try{return(yield ye()).transaction(Be).objectStore(Be).get(ln(Ft))}catch(ft){throw xr.create("storage-get",{originalErrorMessage:ft.message})}})).apply(this,arguments)}function yt(Ft,ft){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,p.Z)(function*(Ft,ft){try{const vn=(yield ye()).transaction(Be,"readwrite");return yield vn.objectStore(Be).put(ft,ln(Ft)),vn.complete}catch(tn){throw xr.create("storage-set",{originalErrorMessage:tn.message})}})).apply(this,arguments)}function ln(Ft){return`${Ft.name}!${Ft.options.appId}`}class jn{constructor(ft){this.container=ft,this._heartbeatsCache=null;const tn=this.container.getProvider("app").getImmediate();this._storage=new Ut(tn),this._heartbeatsCachePromise=this._storage.read().then(vn=>(this._heartbeatsCache=vn,vn))}triggerHeartbeat(){var ft=this;return(0,p.Z)(function*(){const vn=ft.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zn=hn();if(null===ft._heartbeatsCache&&(ft._heartbeatsCache=yield ft._heartbeatsCachePromise),ft._heartbeatsCache.lastSentHeartbeatDate!==Zn&&!ft._heartbeatsCache.heartbeats.some(Un=>Un.date===Zn))return ft._heartbeatsCache.heartbeats.push({date:Zn,agent:vn}),ft._heartbeatsCache.heartbeats=ft._heartbeatsCache.heartbeats.filter(Un=>{const Pe=new Date(Un.date).valueOf();return Date.now()-Pe<=2592e6}),ft._storage.overwrite(ft._heartbeatsCache)})()}getHeartbeatsHeader(){var ft=this;return(0,p.Z)(function*(){if(null===ft._heartbeatsCache&&(yield ft._heartbeatsCachePromise),null===ft._heartbeatsCache||0===ft._heartbeatsCache.heartbeats.length)return"";const tn=hn(),{heartbeatsToSend:vn,unsentEntries:Zn}=function Hn(Ft,ft=1024){const tn=[];let vn=Ft.slice();for(const Zn of Ft){const Un=tn.find(Pe=>Pe.agent===Zn.agent);if(Un){if(Un.dates.push(Zn.date),nr(tn)>ft){Un.dates.pop();break}}else if(tn.push({agent:Zn.agent,dates:[Zn.date]}),nr(tn)>ft){tn.pop();break}vn=vn.slice(1)}return{heartbeatsToSend:tn,unsentEntries:vn}}(ft._heartbeatsCache.heartbeats),Un=(0,N.L)(JSON.stringify({version:2,heartbeats:vn}));return ft._heartbeatsCache.lastSentHeartbeatDate=tn,Zn.length>0?(ft._heartbeatsCache.heartbeats=Zn,yield ft._storage.overwrite(ft._heartbeatsCache)):(ft._heartbeatsCache.heartbeats=[],ft._storage.overwrite(ft._heartbeatsCache)),Un})()}}function hn(){return(new Date).toISOString().substring(0,10)}class Ut{constructor(ft){this.app=ft,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ft=this;return(0,p.Z)(function*(){return(yield ft._canUseIndexedDBPromise)&&(yield function ct(Ft){return lt.apply(this,arguments)}(ft.app))||{heartbeats:[]}})()}overwrite(ft){var tn=this;return(0,p.Z)(function*(){var vn;if(yield tn._canUseIndexedDBPromise){const Un=yield tn.read();return yt(tn.app,{lastSentHeartbeatDate:null!==(vn=ft.lastSentHeartbeatDate)&&void 0!==vn?vn:Un.lastSentHeartbeatDate,heartbeats:ft.heartbeats})}})()}add(ft){var tn=this;return(0,p.Z)(function*(){var vn;if(yield tn._canUseIndexedDBPromise){const Un=yield tn.read();return yt(tn.app,{lastSentHeartbeatDate:null!==(vn=ft.lastSentHeartbeatDate)&&void 0!==vn?vn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...ft.heartbeats]})}})()}}function nr(Ft){return(0,N.L)(JSON.stringify({version:2,heartbeats:Ft})).length}!function kn(Ft){$n(new e.wA("platform-logger",ft=>new O(ft),"PRIVATE")),$n(new e.wA("heartbeat",ft=>new jn(ft),"PRIVATE")),qi(Y,J,Ft),qi(Y,J,"esm2017"),qi("fire-js","")}("")},4859:(pt,w,x)=>{"use strict";x.d(w,{H0:()=>J,wA:()=>T});var p=x(5861),e=x(2090);class T{constructor($,re,pe){this.name=$,this.instanceFactory=re,this.type=pe,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode($){return this.instantiationMode=$,this}setMultipleInstances($){return this.multipleInstances=$,this}setServiceProps($){return this.serviceProps=$,this}setInstanceCreatedCallback($){return this.onInstanceCreated=$,this}}const N="[DEFAULT]";class O{constructor($,re){this.name=$,this.container=re,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get($){const re=this.normalizeInstanceIdentifier($);if(!this.instancesDeferred.has(re)){const pe=new e.BH;if(this.instancesDeferred.set(re,pe),this.isInitialized(re)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:re});dt&&pe.resolve(dt)}catch(dt){}}return this.instancesDeferred.get(re).promise}getImmediate($){var re;const pe=this.normalizeInstanceIdentifier(null==$?void 0:$.identifier),dt=null!==(re=null==$?void 0:$.optional)&&void 0!==re&&re;if(!this.isInitialized(pe)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:pe})}catch(tt){if(dt)return null;throw tt}}getComponent(){return this.component}setComponent($){if($.name!==this.name)throw Error(`Mismatching Component ${$.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=$,this.shouldAutoInitialize()){if(function Y(ne){return"EAGER"===ne.instantiationMode}($))try{this.getOrInitializeService({instanceIdentifier:N})}catch(re){}for(const[re,pe]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(re);try{const tt=this.getOrInitializeService({instanceIdentifier:dt});pe.resolve(tt)}catch(tt){}}}}clearInstance($=N){this.instancesDeferred.delete($),this.instancesOptions.delete($),this.instances.delete($)}delete(){var $=this;return(0,p.Z)(function*(){const re=Array.from($.instances.values());yield Promise.all([...re.filter(pe=>"INTERNAL"in pe).map(pe=>pe.INTERNAL.delete()),...re.filter(pe=>"_delete"in pe).map(pe=>pe._delete())])})()}isComponentSet(){return null!=this.component}isInitialized($=N){return this.instances.has($)}getOptions($=N){return this.instancesOptions.get($)||{}}initialize($={}){const{options:re={}}=$,pe=this.normalizeInstanceIdentifier($.instanceIdentifier);if(this.isInitialized(pe))throw Error(`${this.name}(${pe}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:pe,options:re});for(const[tt,Qe]of this.instancesDeferred.entries())pe===this.normalizeInstanceIdentifier(tt)&&Qe.resolve(dt);return dt}onInit($,re){var pe;const dt=this.normalizeInstanceIdentifier(re),tt=null!==(pe=this.onInitCallbacks.get(dt))&&void 0!==pe?pe:new Set;tt.add($),this.onInitCallbacks.set(dt,tt);const Qe=this.instances.get(dt);return Qe&&$(Qe,dt),()=>{tt.delete($)}}invokeOnInitCallbacks($,re){const pe=this.onInitCallbacks.get(re);if(pe)for(const dt of pe)try{dt($,re)}catch(tt){}}getOrInitializeService({instanceIdentifier:$,options:re={}}){let pe=this.instances.get($);if(!pe&&this.component&&(pe=this.component.instanceFactory(this.container,{instanceIdentifier:(ne=$,ne===N?void 0:ne),options:re}),this.instances.set($,pe),this.instancesOptions.set($,re),this.invokeOnInitCallbacks(pe,$),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,$,pe)}catch(dt){}var ne;return pe||null}normalizeInstanceIdentifier($=N){return this.component?this.component.multipleInstances?$:N:$}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class J{constructor($){this.name=$,this.providers=new Map}addComponent($){const re=this.getProvider($.name);if(re.isComponentSet())throw new Error(`Component ${$.name} has already been registered with ${this.name}`);re.setComponent($)}addOrOverwriteComponent($){this.getProvider($.name).isComponentSet()&&this.providers.delete($.name),this.addComponent($)}getProvider($){if(this.providers.has($))return this.providers.get($);const re=new O($,this);return this.providers.set($,re),re}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,w,x)=>{"use strict";x.d(w,{Am:()=>ne,Ub:()=>J,Yd:()=>Y,in:()=>e});const p=[];var e=(()=>{return($=e||(e={}))[$.DEBUG=0]="DEBUG",$[$.VERBOSE=1]="VERBOSE",$[$.INFO=2]="INFO",$[$.WARN=3]="WARN",$[$.ERROR=4]="ERROR",$[$.SILENT=5]="SILENT",e;var $})();const T={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},N=e.INFO,O={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},V=($,re,...pe)=>{if(re<$.logLevel)return;const dt=(new Date).toISOString(),tt=O[re];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${re})`);console[tt](`[${dt}]  ${$.name}:`,...pe)};class Y{constructor(re){this.name=re,this._logLevel=N,this._logHandler=V,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(re){if(!(re in e))throw new TypeError(`Invalid value "${re}" assigned to \`logLevel\``);this._logLevel=re}setLogLevel(re){this._logLevel="string"==typeof re?T[re]:re}get logHandler(){return this._logHandler}set logHandler(re){if("function"!=typeof re)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=re}get userLogHandler(){return this._userLogHandler}set userLogHandler(re){this._userLogHandler=re}debug(...re){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...re),this._logHandler(this,e.DEBUG,...re)}log(...re){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...re),this._logHandler(this,e.VERBOSE,...re)}info(...re){this._userLogHandler&&this._userLogHandler(this,e.INFO,...re),this._logHandler(this,e.INFO,...re)}warn(...re){this._userLogHandler&&this._userLogHandler(this,e.WARN,...re),this._logHandler(this,e.WARN,...re)}error(...re){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...re),this._logHandler(this,e.ERROR,...re)}}function J($){p.forEach(re=>{re.setLogLevel($)})}function ne($,re){for(const pe of p){let dt=null;re&&re.level&&(dt=T[re.level]),pe.userLogHandler=null===$?null:(tt,Qe,...vt)=>{const ve=vt.map(je=>{if(null==je)return null;if("string"==typeof je)return je;if("number"==typeof je||"boolean"==typeof je)return je.toString();if(je instanceof Error)return je.message;try{return JSON.stringify(je)}catch(ke){return null}}).filter(je=>je).join(" ");Qe>=(null!=dt?dt:tt.logLevel)&&$({level:e[Qe].toLowerCase(),message:ve,args:vt,type:tt.name})}}}},870:(pt,w,x)=>{"use strict";x.d(w,{x0:()=>Ae});var p=x(5e3),e=x(9808);const T={UKNOWN:"Unknown"},N={CHROME:"Chrome",FIREFOX:"Firefox",SAFARI:"Safari",OPERA:"Opera",IE:"IE",MS_EDGE:"MS-Edge",MS_EDGE_CHROMIUM:"MS-Edge-Chromium",FB_MESSANGER:"FB-Messanger",SAMSUNG:"Samsung",UCBROWSER:"UC-Browser",UNKNOWN:T.UKNOWN},O={HTC:/HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\bEVO\b|T-Mobile G1|Z520m|Android [0-9.]+; Pixel/,NEXUS_PHONE:/Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6/,DELL:/Dell[;]? (Streak|Aero|Venue|Venue Pro|Flash|Smoke|Mini 3iX)|XCD28|XCD35|\b001DL\b|\b101DL\b|\bGS01\b/,MOTOROLA:new RegExp("Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|\n      A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|\n      MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|\n      ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|\n      WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|\n      XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|\n      XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b|XT1068|XT1092|XT1052"),SAMSUNG:new RegExp("\\bSamsung\\b|SM-G950F|SM-G955F|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|\n      GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|\n      GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|\n      GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|\n      GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|\n      GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|\n      GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|\n      GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|\n      GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|\n      GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|\n      GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|\n      GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|\n      GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|\n      GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|\n      GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|\n      GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|\n      GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|\n      GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|\n      SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|\n      SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|\n      SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|\n      SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|\n      SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|\n      SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|\n      SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|\n      SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|\n      SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|\n      SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|\n      SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|\n      SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|\n      SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|\n      SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|\n      SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|\n      SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|\n      SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|\n      SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|\n      SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|\n      SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|\n      SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|\n      SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|\n      SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|\n      SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|\n      SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|\n      SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|\n      SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|\n      SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|\n      SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|\n      SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|\n      SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|\n      GT-N7105|SCH-I535|SM-N900A|SM-N900T|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|\n      GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|\n      GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|\n      SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|\n      SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|\n      SM-N910C|SM-A310F|GT-I9190|SM-J500FN|SM-G903F|SM-J330F"),LG:new RegExp("\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|\n      LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|\n      C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|\n      LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|\n      VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|\n      MS323|M257)"),SONY:/SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533/,ASUS:/Asus.*Galaxy|PadFone.*Mobile/,NOKIA_LUMIA:/Lumia [0-9]{3,4}/,MICROMAX:/Micromax.*\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\b/,PALM:/PalmSource|Palm/,VERTU:/Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature/,PANTECH:new RegExp("PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|\n        IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|\n        IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|\n        CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|\n        P2000|P7040|P7000|C790"),FLY:/IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250/,WIKO:new RegExp("KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|\n        SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|\n        CINK KING|CINK PEAX|CINK SLIM|SUBLIM"),I_MOBILE:/i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)/,SIMVALLEY:/\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\b/,WOLFGANG:/AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q/,ALCATEL:/Alcatel|Mobile; rv:49.0|Mobile; ALCATEL 4052R; rv:48.0/,NINTENDO:/Nintendo (3DS|Switch)/,AMOI:/Amoi/,INQ:/INQ/,VITA:/\bVita\b/,BLACKBERRY:/\bBlackBerry\b|\bBB10\b|rim[0-9]+/,FIREFOX_OS:/\bFirefox-OS\b/,IPHONE:/\biPhone\b/,iPod:/\biPod\b/,ANDROID:/\bAndroid\b/,WINDOWS_PHONE:/\bWindows-Phone\b/,GENERIC_PHONE:new RegExp("Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|\n        up.link|vodafone|\\bwap\\b|nokia|Nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser")},V={iPad:/iPad|iPad.*Mobile/,NexusTablet:/Android.*Nexus[\s]+(7|9|10)/,GoogleTablet:/Android.*Pixel C/,SamsungTablet:new RegExp("SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|\n        GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|\n        SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|\n        GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|\n        SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|\n        GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|\n        SHV-E230S|SHW-M180K|SHW-M180L|SM-T865|SM-T290|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|\n        SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|\n        GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T385M|SM-P585M|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|\n        SM-P601|SM-P605|SM-P615|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|\n        GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|\n        SM-T510|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|\n        SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T500|SM-T330|\n        SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|\n        SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-T116BU|SM-P550|\n        SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|\n        SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|\n        SM-T719|SM-T725|SM-T813|SM-T819|SM-T580|SM-T590|SM-T355Y?|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587|SM-P350|\n        SM-P555M|SM-P355M|SM-T113NU|SM-T815Y|SM-T585|SM-T285|SM-T825|SM-W708|SM-T835|SM-P585Y"),Kindle:new RegExp("Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|\n        KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome        /[0-9.]+ (?!Mobile)"),SurfaceTablet:/Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)/,HPTablet:/HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10/,AsusTablet:new RegExp("^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|\n        TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|\n        Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|\n        ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|\n        ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z|\\bP027\\b|\\bP024\\b|\\bP00C\\b"),BlackBerryTablet:/PlayBook|RIM Tablet/,HTCtablet:/HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410/,MotorolaTablet:/xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617/,NookTablet:/Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2/,AcerTablet:new RegExp("Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|\n        W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\n        \\bA3-A20\\b|\\bA3-A30"),ToshibaTablet:/Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO/,LGTablet:/\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\b/,FujitsuTablet:/Android.*\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\b/,PrestigioTablet:new RegExp("PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|\n        PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|\n        PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|\n        PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|\n        PMT5887|PMT5001|PMT5002"),LenovoTablet:new RegExp("Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-850M|YT3-X90L|YT3-X90F|\n        YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|\n        B8000|B8080)(-|)(FL|F|HV|H|)|TB-X606F|TB-X103F|TB-X304F|TB-X304L|TB-X704F|TB-8703F|Tab2A7-10F|TB2-X30L|TB-8504F"),DellTablet:/Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7/,YarvikTablet:new RegExp("Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|\n        TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|\n        TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|\n        TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|\n        TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b"),MedionTablet:/Android.*\bOYO\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB/,ArnovaTablet:/97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2/,IntensoTablet:/INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004/,IRUTablet:/M702pro/,MegafonTablet:/MegaFon V9|\bZTE V9\b|Android.*\bMT7A\b/,EbodaTablet:/E-Boda (Supreme|Impresspeed|Izzycomm|Essential)/,AllViewTablet:/Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)/,ArchosTablet:new RegExp("\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10|\n         Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b"),AinolTablet:/NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark/,NokiaLumiaTablet:/Lumia 2520/,SonyTablet:new RegExp("Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|\n        SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|\n        EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP641|SGP612|SOT31|SGP771|SGP611|\n        SGP612|SGP712"),PhilipsTablet:/\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\b/,CubeTablet:/Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT/,CobyTablet:new RegExp("MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|\n        MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010"),MIDTablet:new RegExp("M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|\n        MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|\n        MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10"),MSITablet:new RegExp("MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|\n        Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b"),SMiTTablet:/Android.*(\bMID\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)/,RockChipTablet:/Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A/,FlyTablet:/IQ310|Fly Vision/,bqTablet:new RegExp("Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|\n        Livingstone|Cervantes|Avant|Aquaris ([E|M]10|M8))|Maxwell.*Lite|Maxwell.*Plus"),HuaweiTablet:new RegExp("MediaPad|MediaPad 7 Youth|MediaPad T3 10|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|\n        S7-201|S7-Slim|M2-A01L|BAH-L09|BAH-W09|AGS-W09"),NecTablet:/\bN-06D|\bN-08D/,PantechTablet:/Pantech.*P4100/,BronchoTablet:/Broncho.*(N701|N708|N802|a710)/,VersusTablet:/TOUCHPAD.*[78910]|\bTOUCHTAB\b/,ZyncTablet:/z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900/,PositivoTablet:/TB07STA|TB10STA|TB07FTA|TB10FTA/,NabiTablet:/Android.*\bNabi/,KoboTablet:/Kobo Touch|\bK080\b|\bVox\b Build|\bArc\b Build/,DanewTablet:/DSlide.*\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\b/,TexetTablet:new RegExp("NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|\n        TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|\n        TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|\n        TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|\n        TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|\n        TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|\n        TB-436|TB-416|TB-146SE|TB-126SE"),PlaystationTablet:/Playstation.*(Portable|Vita)/,TrekstorTablet:/ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab/,PyleAudioTablet:/\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\b/,AdvanTablet:new RegExp("Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|\n        T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b"),DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|\n        Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:/Android.*\bG1\b(?!\))/,MicromaxTablet:/Funbook|Micromax.*\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\b/,KarbonnTablet:/Android.*\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\b/,AllFineTablet:/Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide/,PROSCANTablet:new RegExp("\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|\n        PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|\n        PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|\n        PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b"),YONESTablet:/BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026/,ChangJiaTablet:new RegExp("TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|\n        TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|\n        TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|\n        TPC10111|TPC10203|TPC10205|TPC10503"),GUTablet:/TX-A1301|TX-M9002|Q702|kf026/,PointOfViewTablet:new RegExp("TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|\n        TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|\n        TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|\n        TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10"),OvermaxTablet:new RegExp("OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|\n        MagicTab|Stream|TB-08|TB-09)|Qualcore 1027"),HCLTablet:/HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync/,DPSTablet:/DPS Dream 9|DPS Dual 7/,VistureTablet:/V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10/,CrestaTablet:/CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989/,MediatekTablet:/\bMT8125|MT8389|MT8135|MT8377\b/,ConcordeTablet:/Concorde([ ]+)?Tab|ConCorde ReadMan/,GoCleverTablet:new RegExp("GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|\n        TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|\n        GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|\n        TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|\n        TAB R104|TAB R83.3|TAB A1042"),ModecomTablet:new RegExp("FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|\n        FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|\n        FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003"),VoninoTablet:new RegExp("\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|\n        Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|\n        Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b"),ECSTablet:/V07OT2|TM105A|S10OT1|TR10CS1/,StorexTablet:/eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab/,VodafoneTablet:/SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497/,EssentielBTablet:/Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2/,RossMoorTablet:/RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711/,iMobileTablet:/i-mobile i-note/,TolinoTablet:/tolino tab [0-9.]+|tolino shine/,AudioSonicTablet:/\bC-22Q|T7-QC|T-17B|T-17P\b/,AMPETablet:/Android.* A78 /,SkkTablet:/Android.* (SKYPAD|PHOENIX|CYCLOPS)/,TecnoTablet:/TECNO P9|TECNO DP8D/,JXDTablet:new RegExp("Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|\n        S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|\n        P1000|P300|S18|S6600|S9100)\\b"),iJoyTablet:new RegExp("Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|\n        Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|\n        Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|\n        Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|\n        Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)"),FX2Tablet:/FX2 PAD7|FX2 PAD10/,XoroTablet:new RegExp("KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|\n        PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|\n        PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|\n        TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151"),ViewsonicTablet:/ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a/,VerizonTablet:/QTAQZ3|QTAIR7|QTAQTZ3|QTASUN1|QTASUN2|QTAXIA1/,OdysTablet:/LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\bXELIO\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10/,CaptivaTablet:/CAPTIVA PAD/,IconbitTablet:new RegExp("NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|\n        NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S"),TeclastTablet:new RegExp("T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\n        \\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\n        \\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\n        \\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\n        \\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\n        \\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\n        \\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\n        \\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\n        \\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi"),OndaTablet:new RegExp("\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|\n        V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|\n        V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|\n        Vi40)\\b[s]+|V10 \\b4G\\b"),JaytechTablet:/TPC-PA762/,BlaupunktTablet:/Endeavour 800NG|Endeavour 1010/,DigmaTablet:/\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\b/,EvolioTablet:/ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\bEvotab\b|\bNeura\b/,LavaTablet:/QPAD E704|\bIvoryS\b|E-TAB IVORY|\bE-TAB\b/,AocTablet:/MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712/,MpmanTablet:new RegExp("MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\n        \\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|\n        MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010"),CelkonTablet:/CT695|CT888|CT[\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\bCT-1\b/,WolderTablet:new RegExp("miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|\n        POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|\n        FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b"),MediacomTablet:"M-MPI10C3G|M-SP10EG|M-SP10EGP|M-SP10HXAH|M-SP7HXAH|M-SP10HXBH|M-SP8HXAH|M-SP8MXA",MiTablet:/\bMI PAD\b|\bHM NOTE 1W\b/,NibiruTablet:/Nibiru M1|Nibiru Jupiter One/,NexoTablet:/NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI/,LeaderTablet:new RegExp("TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|\n        TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100"),UbislateTablet:/UbiSlate[\s]?7C/,PocketBookTablet:/Pocketbook/,KocasoTablet:/\b(TB-1207)\b/,HisenseTablet:/\b(F5281|E2371)\b/,Hudl:/Hudl HT7S3|Hudl 2/,TelstraTablet:/T-Hub2/,Honeywell:/RT10A/,GenericTablet:new RegExp("Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|\n        A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|\n        Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b|\\bQTAQZ3\\b|WVT101|TM1088|KT107")},Y={BLACKBERRY:"Blackberry",FIREFOX_OS:"Firefox-OS",CHROME_BOOK:"Chrome-Book",WINDOWS_PHONE:"Windows-Phone",VITA:"Vita",PS4:"PS4",MAC:"Macintosh",CHROMECAST:"Chromecast",APPLE_TV:"Apple-TV",GOOGLE_TV:"Google-TV",ANDROID:"Android",Tesla:"Tesla",iPad:"iPad",IPHONE:"iPhone",iPod:"iPod",UNKNOWN:T.UKNOWN,HTC:"HTC",NEXUS_PHONE:"Nexus Phone",NexusTablet:"Nexus Tablet",DELL:"Dell",MOTOROLA:"Motorola",SAMSUNG:"Samsung",LG:"LG",SONY:"Sony",ASUS:"Asus",NOKIA_LUMIA:"Nokia Lumia",MICROMAX:"Micromax",PALM:"Palm",VERTU:"Vertu",PANTECH:"PANTECH",FLY:"Fly",WIKO:"WIKO",I_MOBILE:"i-mobile",SIMVALLEY:"Simvalley",WOLFGANG:"Wolfgang",ALCATEL:"Alcatel",HONEYWELL:"Honeywell",NINTENDO:"Nintendo",AMOI:"Amoi",INQ:"INQ",GENERIC_PHONE:"Generic Phone",MI_SE_9:"Mi SE 9"},J=[Y.PS4,Y.CHROME_BOOK,Y.MAC,Y.DELL,Y.ASUS,Y.UNKNOWN],ne={WINDOWS:"Windows",MAC:"Mac",IOS:"iOS",ANDROID:"Android",LINUX:"Linux",UNIX:"Unix",FIREFOX_OS:"Firefox-OS",CHROME_OS:"Chrome-OS",WINDOWS_PHONE:"Windows-Phone",UNKNOWN:T.UKNOWN},$={WINDOWS_3_11:"windows-3-11",WINDOWS_95:"windows-95",WINDOWS_ME:"windows-me",WINDOWS_98:"windows-98",WINDOWS_CE:"windows-ce",WINDOWS_2000:"windows-2000",WINDOWS_XP:"windows-xp",WINDOWS_SERVER_2003:"windows-server-2003",WINDOWS_VISTA:"windows-vista",WINDOWS_7:"windows-7",WINDOWS_8_1:"windows-8-1",WINDOWS_8:"windows-8",WINDOWS_10:"windows-10",WINDOWS_PHONE_7_5:"windows-phone-7-5",WINDOWS_PHONE_8_1:"windows-phone-8-1",WINDOWS_PHONE_10:"windows-phone-10",WINDOWS_NT_4_0:"windows-nt-4-0",MACOSX_11_0:"mac-os-x-11-0",MACOSX_16:"mac-os-x-16",MACOSX_15:"mac-os-x-15",MACOSX_14:"mac-os-x-14",MACOSX_13:"mac-os-x-13",MACOSX_12:"mac-os-x-12",MACOSX_11:"mac-os-x-11",MACOSX_10:"mac-os-x-10",MACOSX_9:"mac-os-x-9",MACOSX_8:"mac-os-x-8",MACOSX_7:"mac-os-x-7",MACOSX_6:"mac-os-x-6",MACOSX_5:"mac-os-x-5",MACOSX_4:"mac-os-x-4",MACOSX_3:"mac-os-x-3",MACOSX_2:"mac-os-x-2",MACOSX:"mac-os-x",iOS:"iOS",ANDROID_9:"android-9",UNKNOWN:T.UKNOWN.toLowerCase()},re={WINDOWS:{and:[{or:[/\bWindows|(Win\d\d)\b/,/\bWin 9x\b/]},{not:/\bWindows Phone\b/}]},MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]},IOS:{and:[{or:[/\biPad\b/,/\biPhone\b/,/\biPod\b/]},{not:/\bWindows Phone\b/}]},ANDROID:{and:[/\bAndroid\b/,{not:/\bWindows Phone\b/}]},LINUX:/\bLinux\b/,UNIX:/\bUNIX\b/,FIREFOX_OS:{and:[/\bFirefox\b/,/Mobile\b/]},CHROME_OS:/\bCrOS\b/,WINDOWS_PHONE:{or:[/\bIEMobile\b/,/\bWindows Phone\b/]},PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/},dt=Object.assign(Object.assign(Object.assign(Object.assign({},O),V),re),{FIREFOX_OS:{and:[/\bFirefox\b/,/\bMobile\b/]},CHROME_BOOK:/\bCrOS\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,CHROMECAST:/\bCrKey\b/,APPLE_TV:/^iTunes-AppleTV\/4.1$/,GOOGLE_TV:/\bGoogleTV\b/,Tesla:/Tesla\/([0-9]{4}.[0-9]{1,2}.?[0-9]{0,2}.?[0-9]{0,2})-(.{7})/,MI_SE_9:/\bXiaomi\b/,MAC:{and:[/\bMac OS\b/,{not:{or:[/\biPhone\b/,/\biPad\b/,/\biPod\b/,/\bWindows Phone\b/]}}]}}),tt={WINDOWS_3_11:/Win16/,WINDOWS_95:/(Windows 95|Win95|Windows_95)/,WINDOWS_ME:/(Win 9x 4.90|Windows ME)/,WINDOWS_98:/(Windows 98|Win98)/,WINDOWS_CE:/Windows CE/,WINDOWS_2000:/(Windows NT 5.0|Windows 2000)/,WINDOWS_XP:/(Windows NT 5.1|Windows XP)/,WINDOWS_SERVER_2003:/Windows NT 5.2/,WINDOWS_VISTA:/Windows NT 6.0/,WINDOWS_7:/(Windows 7|Windows NT 6.1)/,WINDOWS_8_1:/(Windows 8.1|Windows NT 6.3)/,WINDOWS_8:/(Windows 8|Windows NT 6.2)/,WINDOWS_10:/(Windows NT 10.0)/,WINDOWS_PHONE_7_5:/(Windows Phone OS 7.5)/,WINDOWS_PHONE_8_1:/(Windows Phone 8.1)/,WINDOWS_PHONE_10:/(Windows Phone 10)/,WINDOWS_NT_4_0:{and:[/(Windows NT 4.0|WinNT4.0|WinNT|Windows NT)/,{not:/Windows NT 10.0/}]},MACOSX:/(MAC OS X\s*[^ 0-9])/,MACOSX_3:/(Darwin 10.3|Mac OS X 10.3)/,MACOSX_4:/(Darwin 10.4|Mac OS X 10.4)/,MACOSX_5:/(Mac OS X 10.5)/,MACOSX_6:/(Mac OS X 10.6)/,MACOSX_7:/(Mac OS X 10.7)/,MACOSX_8:/(Mac OS X 10.8)/,MACOSX_9:/(Mac OS X 10.9)/,MACOSX_10:/(Mac OS X 10.10)/,MACOSX_11:/(Mac OS X 10.11)/,MACOSX_12:/(Mac OS X 10.12)/,MACOSX_13:/(Mac OS X 10.13)/,MACOSX_14:/(Mac OS X 10.14)/,MACOSX_15:/(Mac OS X 10.15)/,MACOSX_16:/(Mac OS X 10.16)/,MACOSX_11_0:{or:[/11_0 like Mac OS X/,/Mac OS X 11/]},iOS:/(iPhone OS\s*[0-9_]+)/,ANDROID_9:/(Android 9)/},Qe={CHROME:[/\bChrome\/([\d\.]+)\b/,/\bCriOS\/([\d\.]+)\b/,/\bHeadlessChrome\/([\d\.]+)\b/],FIREFOX:[/\bFirefox\/([\d\.]+)\b/,/\bFxiOS\/([\d\.]+)\b/],SAFARI:[/\bVersion\/([\d\.]+)\b/,/\bSafari\/([\d\.]+)\b/],OPERA:[/\bVersion\/([\d\.]+)\b/,/\bOPR\/([\d\.]+)\b/],IE:[/\bMSIE ([\d\.]+\w?)\b/,/\brv:([\d\.]+\w?)\b/],MS_EDGE:/\bEdg(?:e|A|iOS)\/([\d\.]+)\b/,MS_EDGE_CHROMIUM:/\bEdg\/([\d\.]+)\b/,SAMSUNG:/\bSamsungBrowser\/([\d\.]+)\b/,UCBROWSER:/\bUCBrowser\/([\d\.]+)\b/},vt=Object.keys(tt).reduce((Ke,Ue)=>(Ke[Ue]=tt[Ue],Ke),{}),ve=Object.keys(Qe).reduce((Ke,Ue)=>(Ke[N[Ue]]=Qe[Ue],Ke),{});var je=Object.freeze({__proto__:null,GENERAL:T,BROWSERS:N,MOBILES_RE:O,TABLETS_RE:V,DEVICES:Y,DESKTOP_DEVICES:J,OS:ne,OS_VERSIONS:$,OS_RE:re,BROWSERS_RE:{CHROME:{and:[{or:[/\bChrome\b/,/\bCriOS\b/,/\bHeadlessChrome\b/]},{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},FIREFOX:{or:[/\bFirefox\b/,/\bFxiOS\b/]},SAFARI:{and:[/^((?!CriOS).)*\Safari\b.*$/,{not:{or:[/\bOPR\b/,/\bEdg(e|A|iOS)\b/,/\bEdg\/\b/,/\bWindows Phone\b/,/\bSamsungBrowser\b/,/\bUCBrowser\b/]}}]},OPERA:{or:[/Opera\b/,/\bOPR\b/]},IE:{or:[/\bMSIE\b/,/\bTrident\b/,/^Mozilla\/5\.0 \(Windows NT 10\.0; Win64; x64\)$/]},MS_EDGE:{or:[/\bEdg(e|A|iOS)\b/]},MS_EDGE_CHROMIUM:/\bEdg\/\b/,PS4:/\bMozilla\/5.0 \(PlayStation 4\b/,VITA:/\bMozilla\/5.0 \(Play(S|s)tation Vita\b/,FB_MESSANGER:/\bFBAN\/MessengerForiOS\b/,SAMSUNG:/\bSamsungBrowser\b/,UCBROWSER:/\bUCBrowser\b/},DEVICES_RE:dt,OS_VERSIONS_RE_MAP:tt,BROWSER_VERSIONS_RE_MAP:Qe,OS_VERSIONS_RE:vt,BROWSER_VERSIONS_RE:ve});class ke{constructor(){}test(Ue,Je){return"string"==typeof Je&&(Je=new RegExp(Je)),Je instanceof RegExp?Je.test(Ue):Je&&Array.isArray(Je.and)?Je.and.every(_e=>this.test(Ue,_e)):Je&&Array.isArray(Je.or)?Je.or.some(_e=>this.test(Ue,_e)):!(!Je||!Je.not||this.test(Ue,Je.not))}exec(Ue,Je){return"string"==typeof Je&&(Je=new RegExp(Je)),Je instanceof RegExp?Je.exec(Ue):Je&&Array.isArray(Je)?Je.reduce((_e,ue)=>_e||this.exec(Ue,ue),null):null}}var gt=(()=>{return(Ke=gt||(gt={})).Mobile="mobile",Ke.Tablet="tablet",Ke.Desktop="desktop",Ke.Unknown="unknown",gt;var Ke})(),$e=(()=>{return(Ke=$e||($e={})).Portrait="portrait",Ke.Landscape="landscape",$e;var Ke})();const it="iPad";let Ae=(()=>{class Ke{constructor(Je){this.platformId=Je,this.ua="",this.userAgent="",this.os="",this.browser="",this.device="",this.os_version="",this.browser_version="",this.reTree=new ke,this.deviceType="",this.orientation="",(0,e.NF)(this.platformId)&&"undefined"!=typeof window&&(this.userAgent=window.navigator.userAgent),this.setDeviceInfo(this.userAgent)}setDeviceInfo(Je=this.userAgent){Je!==this.userAgent&&(this.userAgent=Je);const _e=[{const:"OS",prop:"os"},{const:"BROWSERS",prop:"browser"},{const:"DEVICES",prop:"device"},{const:"OS_VERSIONS",prop:"os_version"}];if(_e.forEach(ue=>{this[ue.prop]=Object.keys(je[ue.const]).reduce((oe,Ce)=>"device"===je[ue.const][Ce]&&(0,e.NF)(this.platformId)&&(this.reTree.test(this.userAgent,V[it])||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)?(oe[je[ue.const][Ce]]=it,Object):(oe[je[ue.const][Ce]]=this.reTree.test(Je,je[`${ue.const}_RE`][Ce]),oe),{})}),_e.forEach(ue=>{this[ue.prop]=Object.keys(je[ue.const]).map(oe=>je[ue.const][oe]).reduce((oe,Ce)=>"device"===ue.prop&&oe===je[ue.const].ANDROID?this[ue.prop][Ce]?Ce:oe:oe===je[ue.const].UNKNOWN&&this[ue.prop][Ce]?Ce:oe,je[ue.const].UNKNOWN)}),this.browser_version="0",this.browser!==N.UNKNOWN){const oe=this.reTree.exec(Je,ve[this.browser]);oe&&(this.browser_version=oe[1])}this.orientation="undefined"!=typeof window&&window.matchMedia?window.matchMedia("(orientation: landscape)").matches?$e.Landscape:$e.Portrait:T.UKNOWN,this.deviceType=this.isTablet()?gt.Tablet:this.isMobile(this.userAgent)?gt.Mobile:this.isDesktop(this.userAgent)?gt.Desktop:gt.Unknown}getDeviceInfo(){return{userAgent:this.userAgent,os:this.os,browser:this.browser,device:this.device,os_version:this.os_version,browser_version:this.browser_version,deviceType:this.deviceType,orientation:this.orientation}}isMobile(Je=this.userAgent){return!this.isTablet(Je)&&!!Object.keys(O).find(ue=>this.reTree.test(Je,O[ue]))}isTablet(Je=this.userAgent){return!(!(0,e.NF)(this.platformId)||!(this.reTree.test(this.userAgent,V[it])||"undefined"!=typeof navigator&&"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1))||!!Object.keys(V).find(ue=>!!this.reTree.test(Je,V[ue]))}isDesktop(Je=this.userAgent){return(this.device!==Y.UNKNOWN||!this.isMobile(Je)&&!this.isTablet(Je))&&J.indexOf(this.device)>-1}}return Ke.\u0275fac=function(Je){return new(Je||Ke)(p.LFG(p.Lbi))},Ke.\u0275prov=p.Yz7({token:Ke,factory:Ke.\u0275fac,providedIn:"root"}),Ke})()},5861:(pt,w,x)=>{"use strict";function p(T,N,O,V,Y,J,ne){try{var $=T[J](ne),re=$.value}catch(pe){return void O(pe)}$.done?N(re):Promise.resolve(re).then(V,Y)}function e(T){return function(){var N=this,O=arguments;return new Promise(function(V,Y){var J=T.apply(N,O);function ne(re){p(J,V,Y,ne,$,"next",re)}function $(re){p(J,V,Y,ne,$,"throw",re)}ne(void 0)})}}x.d(w,{Z:()=>e})}},pt=>{pt(pt.s=2552)}]);