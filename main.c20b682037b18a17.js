(self.webpackChunkdemo=self.webpackChunkdemo||[]).push([[179,429],{7128:(pt,D,A)=>{"use strict";A.d(D,{nm:()=>gn});var p=A(5813),M=(A(5e3),A(3692),A(5867),A(5861)),G=A(9681),ee=A(4859),Y=A(2090),Q=A(1877);const K=new Map,ie={activated:!1,tokenObservers:[]},ge={initialized:!1,enabled:!1};function dt(st){return K.get(st)||ie}function Xe(st,We){K.set(st,We)}function Je(){return ge}class rt{constructor(We,bt,Vt,$t,bn){if(this.operation=We,this.retryPolicy=bt,this.getWaitDuration=Vt,this.lowerBound=$t,this.upperBound=bn,this.pending=null,this.nextErrorWaitInterval=$t,$t>bn)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(We){var bt=this;return(0,M.Z)(function*(){bt.stop();try{bt.pending=new Y.BH,yield function Ae(st){return new Promise(We=>{setTimeout(We,st)})}(bt.getNextRun(We)),bt.pending.resolve(),yield bt.pending.promise,bt.pending=new Y.BH,yield bt.operation(),bt.pending.resolve(),yield bt.pending.promise,bt.process(!0).catch(()=>{})}catch(Vt){bt.retryPolicy(Vt)?bt.process(!1).catch(()=>{}):bt.stop()}})()}getNextRun(We){if(We)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const bt=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),bt}}}const Ze=new Y.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function ve(st){if(!dt(st).activated)throw Ze.create("use-before-activation",{appName:st.name})}function qe(st,We){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,M.Z)(function*({url:st,body:We},bt){const Vt={"Content-Type":"application/json"},$t=bt.getImmediate({optional:!0});if($t){const Hi=yield $t.getHeartbeatsHeader();Hi&&(Vt["X-Firebase-Client"]=Hi)}const bn={method:"POST",body:JSON.stringify(We),headers:Vt};let Sr,Vr;try{Sr=yield fetch(st,bn)}catch(Hi){throw Ze.create("fetch-network-error",{originalErrorMessage:Hi.message})}if(200!==Sr.status)throw Ze.create("fetch-status-error",{httpStatus:Sr.status});try{Vr=yield Sr.json()}catch(Hi){throw Ze.create("fetch-parse-error",{originalErrorMessage:Hi.message})}const Ir=Vr.ttl.match(/^([\d.]+)(s)$/);if(!Ir||!Ir[2]||isNaN(Number(Ir[1])))throw Ze.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Vr.ttl}`});const mi=1e3*Number(Ir[1]),Ro=Date.now();return{token:Vr.attestationToken,expireTimeMillis:Ro+mi,issuedAtTimeMillis:Ro}})).apply(this,arguments)}function Sn(st,We){const{projectId:bt,appId:Vt,apiKey:$t}=st.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${bt}/apps/${Vt}:exchangeDebugToken?key=${$t}`,body:{debug_token:We}}}const Ht="firebase-app-check-store";let rr=null;function $n(){return rr||(rr=new Promise((st,We)=>{try{const bt=indexedDB.open("firebase-app-check-database",1);bt.onsuccess=Vt=>{st(Vt.target.result)},bt.onerror=Vt=>{var $t;We(Ze.create("storage-open",{originalErrorMessage:null===($t=Vt.target.error)||void 0===$t?void 0:$t.message}))},bt.onupgradeneeded=Vt=>{0===Vt.oldVersion&&Vt.target.result.createObjectStore(Ht,{keyPath:"compositeKey"})}}catch(bt){We(Ze.create("storage-open",{originalErrorMessage:bt.message}))}}),rr)}function jr(){return(jr=(0,M.Z)(function*(st,We){const Vt=(yield $n()).transaction(Ht,"readwrite"),bn=Vt.objectStore(Ht).put({compositeKey:st,value:We});return new Promise((Sr,Vr)=>{bn.onsuccess=Ir=>{Sr()},Vt.onerror=Ir=>{var mi;Vr(Ze.create("storage-set",{originalErrorMessage:null===(mi=Ir.target.error)||void 0===mi?void 0:mi.message}))}})})).apply(this,arguments)}const Zr=new Q.Yd("@firebase/app-check");function zi(st,We){return(0,Y.hl)()?function br(st,We){return function xr(st,We){return jr.apply(this,arguments)}(function Kr(st){return`${st.options.appId}-${st.name}`}(st),We)}(st,We).catch(bt=>{Zr.warn(`Failed to write token to IndexedDB. Error: ${bt}`)}):Promise.resolve()}function Fe(){return Je().enabled}function gt(){return Be.apply(this,arguments)}function Be(){return(Be=(0,M.Z)(function*(){const st=Je();if(st.enabled&&st.token)return st.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const ye={error:"UNKNOWN_ERROR"};function at(st){return Y.US.encodeString(JSON.stringify(st),!1)}function ct(st){return yt.apply(this,arguments)}function yt(){return(yt=(0,M.Z)(function*(st,We=!1){const bt=st.app;ve(bt);const Vt=dt(bt);let bn,$t=Vt.token;if(!$t){const Ir=yield Vt.cachedTokenPromise;Ir&&fn(Ir)&&($t=Ir)}if(!We&&$t&&fn($t))return{token:$t.token};let Vr,Sr=!1;if(Fe()){Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=qe(Sn(bt,yield gt()),st.heartbeatServiceProvider).then(mi=>(Vt.exchangeTokenPromise=void 0,mi)),Sr=!0);const Ir=yield Vt.exchangeTokenPromise;return yield zi(bt,Ir),Xe(bt,Object.assign(Object.assign({},Vt),{token:Ir})),{token:Ir.token}}try{Vt.exchangeTokenPromise||(Vt.exchangeTokenPromise=Vt.provider.getToken().then(Ir=>(Vt.exchangeTokenPromise=void 0,Ir)),Sr=!0),$t=yield Vt.exchangeTokenPromise}catch(Ir){"appCheck/throttled"===Ir.code?Zr.warn(Ir.message):Zr.error(Ir),bn=Ir}return $t?(Vr={token:$t.token},Xe(bt,Object.assign(Object.assign({},Vt),{token:$t})),yield zi(bt,$t)):Vr=Hn(bn),Sr&&Gn(bt,Vr),Vr})).apply(this,arguments)}function dn(st,We){const bt=dt(st),Vt=bt.tokenObservers.filter($t=>$t.next!==We);0===Vt.length&&bt.tokenRefresher&&bt.tokenRefresher.isRunning()&&bt.tokenRefresher.stop(),Xe(st,Object.assign(Object.assign({},bt),{tokenObservers:Vt}))}function qt(st){const{app:We}=st,bt=dt(We);let Vt=bt.tokenRefresher;Vt||(Vt=function cn(st){const{app:We}=st;return new rt((0,M.Z)(function*(){let Vt;if(Vt=dt(We).token?yield ct(st,!0):yield ct(st),Vt.error)throw Vt.error}),()=>!0,()=>{const bt=dt(We);if(bt.token){let Vt=bt.token.issuedAtTimeMillis+.5*(bt.token.expireTimeMillis-bt.token.issuedAtTimeMillis)+3e5;return Vt=Math.min(Vt,bt.token.expireTimeMillis-3e5),Math.max(0,Vt-Date.now())}return 0},3e4,96e4)}(st),Xe(We,Object.assign(Object.assign({},bt),{tokenRefresher:Vt}))),!Vt.isRunning()&&bt.isTokenAutoRefreshEnabled&&Vt.start()}function Gn(st,We){const bt=dt(st).tokenObservers;for(const Vt of bt)try{"EXTERNAL"===Vt.type&&null!=We.error?Vt.error(We.error):Vt.next(We)}catch($t){}}function fn(st){return st.expireTimeMillis-Date.now()>0}function Hn(st){return{token:at(ye),error:st}}class jt{constructor(We,bt){this.app=We,this.heartbeatServiceProvider=bt}_delete(){const{tokenObservers:We}=dt(this.app);for(const bt of We)dn(this.app,bt.next);return Promise.resolve()}}const Yt="app-check-internal";!function on(){(0,G._registerComponent)(new ee.wA("app-check",st=>function Xn(st,We){return new jt(st,We)}(st.getProvider("app").getImmediate(),st.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((st,We,bt)=>{st.getProvider(Yt).initialize()})),(0,G._registerComponent)(new ee.wA(Yt,st=>function kn(st){return{getToken:We=>ct(st,We),addTokenListener:We=>function Ot(st,We,bt,Vt){const{app:$t}=st,bn=dt($t),Sr={next:bt,error:Vt,type:We};if(Xe($t,Object.assign(Object.assign({},bn),{tokenObservers:[...bn.tokenObservers,Sr]})),bn.token&&fn(bn.token)){const Vr=bn.token;Promise.resolve().then(()=>{bt({token:Vr.token}),qt(st)}).catch(()=>{})}bn.cachedTokenPromise.then(()=>qt(st))}(st,"INTERNAL",We),removeTokenListener:We=>dn(st.app,We)}}(st.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,G.registerVersion)("@firebase/app-check","0.5.4")}();class gn{constructor(){return(0,p.vb)("app-check")}}"undefined"!=typeof window&&window},3692:(pt,D,A)=>{"use strict";A.d(D,{Ot:()=>N,ZF:()=>_e,hX:()=>dt,z6:()=>M});var p=A(5867),e=A(5e3),w=A(5813);class N{constructor(rt){return rt}}class M{constructor(){return(0,p.C6)()}}const Y=new e.OlP("angularfire2._apps"),Q={provide:N,useFactory:function ee(Ke){return Ke&&1===Ke.length?Ke[0]:new N((0,p.Mq)())},deps:[[new e.FiY,Y]]},K={provide:M,deps:[[new e.FiY,Y]]};function ie(Ke){return(rt,Ae)=>{const it=rt.runOutsideAngular(()=>Ke(Ae));return new N(it)}}let ge=(()=>{class Ke{constructor(Ae){(0,p.KN)("angularfire",w.q4.full,"core"),(0,p.KN)("angularfire",w.q4.full,"app"),(0,p.KN)("angular",e.q4F.full,Ae.toString())}}return Ke.\u0275fac=function(Ae){return new(Ae||Ke)(e.LFG(e.Lbi))},Ke.\u0275mod=e.oAB({type:Ke}),Ke.\u0275inj=e.cJS({providers:[Q,K]}),Ke})();function dt(Ke,...rt){return{ngModule:ge,providers:[{provide:Y,useFactory:ie(Ke),multi:!0,deps:[e.R0b,e.zs3,w.HU,...rt]}]}}const _e=(0,w.u3)(p.ZF,!0)},2011:(pt,D,A)=>{"use strict";A.d(D,{Dh:()=>ee,GT:()=>M,cc:()=>dt,on:()=>Q,pX:()=>N,xv:()=>Y});var p=A(5e3),e=A(127);pt=A.hmd(pt);const w=["ngOnDestroy"],N=(_e,Ge,ke,_t={})=>new Proxy(_e,{get:(Ke,rt)=>ke.runOutsideAngular(()=>{var Ae;if(_e[rt])return(null===(Ae=null==_t?void 0:_t.spy)||void 0===Ae?void 0:Ae.get)&&_t.spy.get(rt,_e[rt]),_e[rt];if(w.indexOf(rt)>-1)return()=>{};const it=Ge.toPromise().then(Ze=>{const ft=Ze&&Ze[rt];return"function"==typeof ft?ft.bind(Ze):ft&&ft.then?ft.then(ve=>ke.run(()=>ve)):ke.run(()=>ft)});return new Proxy(()=>{},{get:(Ze,ft)=>it[ft],apply:(Ze,ft,ve)=>it.then(me=>{var oe;const we=me&&me(...ve);return(null===(oe=null==_t?void 0:_t.spy)||void 0===oe?void 0:oe.apply)&&_t.spy.apply(rt,ve,we),we})})})}),M=(_e,Ge)=>{Ge.forEach(ke=>{Object.getOwnPropertyNames(ke.prototype||ke).forEach(_t=>{Object.defineProperty(_e.prototype,_t,Object.getOwnPropertyDescriptor(ke.prototype||ke,_t))})})};class G{constructor(Ge){return Ge}}const ee=new p.OlP("angularfire2.app.options"),Y=new p.OlP("angularfire2.app.name");function Q(_e,Ge,ke){const Ke="object"==typeof ke&&ke||{};Ke.name=Ke.name||"string"==typeof ke&&ke||"[DEFAULT]";const Ae=e.Z.apps.filter(it=>it&&it.name===Ke.name)[0]||Ge.runOutsideAngular(()=>e.Z.initializeApp(_e,Ke));try{JSON.stringify(_e)!==JSON.stringify(Ae.options)&&K("error",`${Ae.name} Firebase App already initialized with different options${pt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(it){}return new G(Ae)}const K=(_e,...Ge)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...Ge)};function dt(_e,Ge,ke,_t,Ke){const[,rt,Ae]=globalThis.\u0275AngularfireInstanceCache.find(it=>it[0]===_e)||[];if(rt)return function Xe(_e,Ge){try{return _e.toString()===Ge.toString()}catch(ke){return _e===Ge}}(Ke,Ae)||(vt("error",`${Ge} was already initialized on the ${ke} Firebase App with different settings.${Je?" You may need to reload as Firebase is not HMR aware.":""}`),vt("warn",{is:Ke,was:Ae})),rt;{const it=_t();return globalThis.\u0275AngularfireInstanceCache.push([_e,it,Ke]),it}}const Je=!!pt.hot,vt=(_e,...Ge)=>{(0,p.X6Q)()&&"undefined"!=typeof console&&console[_e](...Ge)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2292:(pt,D,A)=>{"use strict";A.d(D,{gg:()=>Da,ET:()=>Jl,hJ:()=>ph,BS:()=>dh,JU:()=>Ec,ad:()=>xs,Cm:()=>aa});var p=A(5813),e=A(5e3),w=A(3692),N=A(5867),M=A(5861),G=A(2090),ee=A(9681),Y=A(655),Q=A(1877),K=A(4859);const ke=function _e(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},_t=new G.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),rt=new Q.Yd("@firebase/auth");function Ae(x,...v){rt.logLevel<=Q.in.ERROR&&rt.error(`Auth (${ee.SDK_VERSION}): ${x}`,...v)}function it(x,...v){throw me(x,...v)}function Ze(x,...v){return me(x,...v)}function ft(x,v,C){const L=Object.assign(Object.assign({},ke()),{[v]:C});return new G.LL("auth","Firebase",L).create(v,{appName:x.name})}function me(x,...v){if("string"!=typeof x){const C=v[0],L=[...v.slice(1)];return L[0]&&(L[0].appName=x.name),x._errorFactory.create(C,...L)}return _t.create(x,...v)}function oe(x,v,...C){if(!x)throw me(v,...C)}function we(x){const v="INTERNAL ASSERTION FAILED: "+x;throw Ae(v),new Error(v)}function qe(x,v){x||we(v)}const Ee=new Map;function It(x){qe(x instanceof Function,"Expected a class definition");let v=Ee.get(x);return v?(qe(v instanceof x,"Instance stored in cache mismatched with class"),v):(v=new x,Ee.set(x,v),v)}function Ht(){var x;return"undefined"!=typeof self&&(null===(x=self.location)||void 0===x?void 0:x.protocol)||null}class $n{constructor(v,C){this.shortDelay=v,this.longDelay=C,qe(C>v,"Short delay should be less than long delay!"),this.isMobile=(0,G.uI)()||(0,G.b$)()}get(){return function yn(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Et(){return"http:"===Ht()||"https:"===Ht()}()||(0,G.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class br{static initialize(v,C,L){this.fetchImpl=v,C&&(this.headersImpl=C),L&&(this.responseImpl=L)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void we("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void we("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void we("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const vr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ni=new $n(3e4,6e4);function jr(x,v,C,L){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,M.Z)(function*(x,v,C,L,fe={}){return Ei(x,fe,(0,M.Z)(function*(){let Ne={},Dt={};L&&("GET"===v?Dt=L:Ne={body:JSON.stringify(L)});const nn=(0,G.xO)(Object.assign({key:x.config.apiKey},Dt)).slice(1),er=yield x._getAdditionalHeaders();return er["Content-Type"]="application/json",x.languageCode&&(er["X-Firebase-Locale"]=x.languageCode),br.fetch()(Bn(x,x.config.apiHost,C,nn),Object.assign({method:v,headers:er,referrerPolicy:"no-referrer"},Ne))}))})).apply(this,arguments)}function Ei(x,v,C){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,M.Z)(function*(x,v,C){x._canInitEmulator=!1;const L=Object.assign(Object.assign({},vr),v);try{const fe=new zi(x),Ne=yield Promise.race([C(),fe.promise]);fe.clearNetworkTimeout();const Dt=yield Ne.json();if("needConfirmation"in Dt)throw ri(x,"account-exists-with-different-credential",Dt);if(Ne.ok&&!("errorMessage"in Dt))return Dt;{const nn=Ne.ok?Dt.errorMessage:Dt.error.message,[er,pr]=nn.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===er)throw ri(x,"credential-already-in-use",Dt);if("EMAIL_EXISTS"===er)throw ri(x,"email-already-in-use",Dt);const Ur=L[er]||er.toLowerCase().replace(/[_\s]+/g,"-");if(pr)throw ft(x,Ur,pr);it(x,Ur)}}catch(fe){if(fe instanceof G.ZR)throw fe;it(x,"network-request-failed")}})).apply(this,arguments)}function Bn(x,v,C,L){const fe=`${v}${C}?${L}`;return x.config.emulator?function Dr(x,v){qe(x.emulator,"Emulator should always be set here");const{url:C}=x.emulator;return v?`${C}${v.startsWith("/")?v.slice(1):v}`:C}(x.config,fe):`${x.config.apiScheme}://${fe}`}class zi{constructor(v){this.auth=v,this.timer=null,this.promise=new Promise((C,L)=>{this.timer=setTimeout(()=>L(Ze(this.auth,"network-request-failed")),ni.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ri(x,v,C){const L={appName:x.name};C.email&&(L.email=C.email),C.phoneNumber&&(L.phoneNumber=C.phoneNumber);const fe=Ze(x,v,L);return fe.customData._tokenResponse=C,fe}function Fe(){return(Fe=(0,M.Z)(function*(x,v){return jr(x,"POST","/v1/accounts:delete",v)})).apply(this,arguments)}function ce(x,v){return ye.apply(this,arguments)}function ye(){return(ye=(0,M.Z)(function*(x,v){return jr(x,"POST","/v1/accounts:lookup",v)})).apply(this,arguments)}function at(x){if(x)try{const v=new Date(Number(x));if(!isNaN(v.getTime()))return v.toUTCString()}catch(v){}}function Ot(){return(Ot=(0,M.Z)(function*(x,v=!1){const C=(0,G.m9)(x),L=yield C.getIdToken(v),fe=qt(L);oe(fe&&fe.exp&&fe.auth_time&&fe.iat,C.auth,"internal-error");const Ne="object"==typeof fe.firebase?fe.firebase:void 0,Dt=null==Ne?void 0:Ne.sign_in_provider;return{claims:fe,token:L,authTime:at(dn(fe.auth_time)),issuedAtTime:at(dn(fe.iat)),expirationTime:at(dn(fe.exp)),signInProvider:Dt||null,signInSecondFactor:(null==Ne?void 0:Ne.sign_in_second_factor)||null}})).apply(this,arguments)}function dn(x){return 1e3*Number(x)}function qt(x){const[v,C,L]=x.split(".");if(void 0===v||void 0===C||void 0===L)return Ae("JWT malformed, contained fewer than 3 sections"),null;try{const fe=(0,G.tV)(C);return fe?JSON.parse(fe):(Ae("Failed to decode base64 JWT payload"),null)}catch(fe){return Ae("Caught error parsing JWT payload as JSON",fe),null}}function Gn(x,v){return fn.apply(this,arguments)}function fn(){return(fn=(0,M.Z)(function*(x,v,C=!1){if(C)return v;try{return yield v}catch(L){throw L instanceof G.ZR&&Hn(L)&&x.auth.currentUser===x&&(yield x.auth.signOut()),L}})).apply(this,arguments)}function Hn({code:x}){return"auth/user-disabled"===x||"auth/user-token-expired"===x}class jt{constructor(v){this.user=v,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(v){var C;if(v){const L=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),L}{this.errorBackoff=3e4;const fe=(null!==(C=this.user.stsTokenManager.expirationTime)&&void 0!==C?C:0)-Date.now()-3e5;return Math.max(0,fe)}}schedule(v=!1){var C=this;if(!this.isRunning)return;const L=this.getInterval(v);this.timerId=setTimeout((0,M.Z)(function*(){yield C.iteration()}),L)}iteration(){var v=this;return(0,M.Z)(function*(){try{yield v.user.getIdToken(!0)}catch(C){return void("auth/network-request-failed"===C.code&&v.schedule(!0))}v.schedule()})()}}class Xn{constructor(v,C){this.createdAt=v,this.lastLoginAt=C,this._initializeTime()}_initializeTime(){this.lastSignInTime=at(this.lastLoginAt),this.creationTime=at(this.createdAt)}_copy(v){this.createdAt=v.createdAt,this.lastLoginAt=v.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function kn(x){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,M.Z)(function*(x){var v;const C=x.auth,L=yield x.getIdToken(),fe=yield Gn(x,ce(C,{idToken:L}));oe(null==fe?void 0:fe.users.length,C,"internal-error");const Ne=fe.users[0];x._notifyReloadListener(Ne);const Dt=(null===(v=Ne.providerUserInfo)||void 0===v?void 0:v.length)?Zn(Ne.providerUserInfo):[],nn=vn(x.providerData,Dt),Ur=!!x.isAnonymous&&!(x.email&&Ne.passwordHash||(null==nn?void 0:nn.length)),Qi={uid:Ne.localId,displayName:Ne.displayName||null,photoURL:Ne.photoUrl||null,email:Ne.email||null,emailVerified:Ne.emailVerified||!1,phoneNumber:Ne.phoneNumber||null,tenantId:Ne.tenantId||null,providerData:nn,metadata:new Xn(Ne.createdAt,Ne.lastLoginAt),isAnonymous:Ur};Object.assign(x,Qi)})).apply(this,arguments)}function tn(){return(tn=(0,M.Z)(function*(x){const v=(0,G.m9)(x);yield kn(v),yield v.auth._persistUserIfCurrent(v),v.auth._notifyListenersIfCurrent(v)})).apply(this,arguments)}function vn(x,v){return[...x.filter(L=>!v.some(fe=>fe.providerId===L.providerId)),...v]}function Zn(x){return x.map(v=>{var{providerId:C}=v,L=(0,Y._T)(v,["providerId"]);return{providerId:C,uid:L.rawId||"",displayName:L.displayName||null,email:L.email||null,phoneNumber:L.phoneNumber||null,photoURL:L.photoUrl||null}})}function Pe(){return(Pe=(0,M.Z)(function*(x,v){const C=yield Ei(x,{},(0,M.Z)(function*(){const L=(0,G.xO)({grant_type:"refresh_token",refresh_token:v}).slice(1),{tokenApiHost:fe,apiKey:Ne}=x.config,Dt=Bn(x,fe,"/v1/token",`key=${Ne}`),nn=yield x._getAdditionalHeaders();return nn["Content-Type"]="application/x-www-form-urlencoded",br.fetch()(Dt,{method:"POST",headers:nn,body:L})}));return{accessToken:C.access_token,expiresIn:C.expires_in,refreshToken:C.refresh_token}})).apply(this,arguments)}class Se{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(v){oe(v.idToken,"internal-error"),oe(void 0!==v.idToken,"internal-error"),oe(void 0!==v.refreshToken,"internal-error");const C="expiresIn"in v&&void 0!==v.expiresIn?Number(v.expiresIn):function cn(x){const v=qt(x);return oe(v,"internal-error"),oe(void 0!==v.exp,"internal-error"),oe(void 0!==v.iat,"internal-error"),Number(v.exp)-Number(v.iat)}(v.idToken);this.updateTokensAndExpiration(v.idToken,v.refreshToken,C)}getToken(v,C=!1){var L=this;return(0,M.Z)(function*(){return oe(!L.accessToken||L.refreshToken,v,"user-token-expired"),C||!L.accessToken||L.isExpired?L.refreshToken?(yield L.refresh(v,L.refreshToken),L.accessToken):null:L.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(v,C){var L=this;return(0,M.Z)(function*(){const{accessToken:fe,refreshToken:Ne,expiresIn:Dt}=yield function jn(x,v){return Pe.apply(this,arguments)}(v,C);L.updateTokensAndExpiration(fe,Ne,Number(Dt))})()}updateTokensAndExpiration(v,C,L){this.refreshToken=C||null,this.accessToken=v||null,this.expirationTime=Date.now()+1e3*L}static fromJSON(v,C){const{refreshToken:L,accessToken:fe,expirationTime:Ne}=C,Dt=new Se;return L&&(oe("string"==typeof L,"internal-error",{appName:v}),Dt.refreshToken=L),fe&&(oe("string"==typeof fe,"internal-error",{appName:v}),Dt.accessToken=fe),Ne&&(oe("number"==typeof Ne,"internal-error",{appName:v}),Dt.expirationTime=Ne),Dt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(v){this.accessToken=v.accessToken,this.refreshToken=v.refreshToken,this.expirationTime=v.expirationTime}_clone(){return Object.assign(new Se,this.toJSON())}_performRefresh(){return we("not implemented")}}function be(x,v){oe("string"==typeof x||void 0===x,"internal-error",{appName:v})}class lt{constructor(v){var{uid:C,auth:L,stsTokenManager:fe}=v,Ne=(0,Y._T)(v,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new jt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=C,this.auth=L,this.stsTokenManager=fe,this.accessToken=fe.accessToken,this.displayName=Ne.displayName||null,this.email=Ne.email||null,this.emailVerified=Ne.emailVerified||!1,this.phoneNumber=Ne.phoneNumber||null,this.photoURL=Ne.photoURL||null,this.isAnonymous=Ne.isAnonymous||!1,this.tenantId=Ne.tenantId||null,this.providerData=Ne.providerData?[...Ne.providerData]:[],this.metadata=new Xn(Ne.createdAt||void 0,Ne.lastLoginAt||void 0)}getIdToken(v){var C=this;return(0,M.Z)(function*(){const L=yield Gn(C,C.stsTokenManager.getToken(C.auth,v));return oe(L,C.auth,"internal-error"),C.accessToken!==L&&(C.accessToken=L,yield C.auth._persistUserIfCurrent(C),C.auth._notifyListenersIfCurrent(C)),L})()}getIdTokenResult(v){return function yt(x){return Ot.apply(this,arguments)}(this,v)}reload(){return function ht(x){return tn.apply(this,arguments)}(this)}_assign(v){this!==v&&(oe(this.uid===v.uid,this.auth,"internal-error"),this.displayName=v.displayName,this.photoURL=v.photoURL,this.email=v.email,this.emailVerified=v.emailVerified,this.phoneNumber=v.phoneNumber,this.isAnonymous=v.isAnonymous,this.tenantId=v.tenantId,this.providerData=v.providerData.map(C=>Object.assign({},C)),this.metadata._copy(v.metadata),this.stsTokenManager._assign(v.stsTokenManager))}_clone(v){return new lt(Object.assign(Object.assign({},this),{auth:v,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(v){oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=v,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(v){this.reloadListener?this.reloadListener(v):this.reloadUserInfo=v}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(v,C=!1){var L=this;return(0,M.Z)(function*(){let fe=!1;v.idToken&&v.idToken!==L.stsTokenManager.accessToken&&(L.stsTokenManager.updateFromServerResponse(v),fe=!0),C&&(yield kn(L)),yield L.auth._persistUserIfCurrent(L),fe&&L.auth._notifyListenersIfCurrent(L)})()}delete(){var v=this;return(0,M.Z)(function*(){const C=yield v.getIdToken();return yield Gn(v,function Qr(x,v){return Fe.apply(this,arguments)}(v.auth,{idToken:C})),v.stsTokenManager.clearRefreshToken(),v.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(v=>Object.assign({},v)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(v,C){var L,fe,Ne,Dt,nn,er,pr,Ur;const Qi=null!==(L=C.displayName)&&void 0!==L?L:void 0,la=null!==(fe=C.email)&&void 0!==fe?fe:void 0,Za=null!==(Ne=C.phoneNumber)&&void 0!==Ne?Ne:void 0,Wc=null!==(Dt=C.photoURL)&&void 0!==Dt?Dt:void 0,bh=null!==(nn=C.tenantId)&&void 0!==nn?nn:void 0,Xl=null!==(er=C._redirectEventId)&&void 0!==er?er:void 0,ju=null!==(pr=C.createdAt)&&void 0!==pr?pr:void 0,eu=null!==(Ur=C.lastLoginAt)&&void 0!==Ur?Ur:void 0,{uid:tu,emailVerified:Td,isAnonymous:zp,providerData:Ch,stsTokenManager:Vu}=C;oe(tu&&Vu,v,"internal-error");const Sf=Se.fromJSON(this.name,Vu);oe("string"==typeof tu,v,"internal-error"),be(Qi,v.name),be(la,v.name),oe("boolean"==typeof Td,v,"internal-error"),oe("boolean"==typeof zp,v,"internal-error"),be(Za,v.name),be(Wc,v.name),be(bh,v.name),be(Xl,v.name),be(ju,v.name),be(eu,v.name);const Ed=new lt({uid:tu,auth:v,email:la,emailVerified:Td,displayName:Qi,isAnonymous:zp,photoURL:Wc,phoneNumber:Za,tenantId:bh,stsTokenManager:Sf,createdAt:ju,lastLoginAt:eu});return Ch&&Array.isArray(Ch)&&(Ed.providerData=Ch.map(Wp=>Object.assign({},Wp))),Xl&&(Ed._redirectEventId=Xl),Ed}static _fromIdTokenResponse(v,C,L=!1){return(0,M.Z)(function*(){const fe=new Se;fe.updateFromServerResponse(C);const Ne=new lt({uid:C.localId,auth:v,stsTokenManager:fe,isAnonymous:L});return yield kn(Ne),Ne})()}}const zt=(()=>{class x{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,M.Z)(function*(){return!0})()}_set(C,L){var fe=this;return(0,M.Z)(function*(){fe.storage[C]=L})()}_get(C){var L=this;return(0,M.Z)(function*(){const fe=L.storage[C];return void 0===fe?null:fe})()}_remove(C){var L=this;return(0,M.Z)(function*(){delete L.storage[C]})()}_addListener(C,L){}_removeListener(C,L){}}return x.type="NONE",x})();function qn(x,v,C){return`firebase:${x}:${v}:${C}`}class zn{constructor(v,C,L){this.persistence=v,this.auth=C,this.userKey=L;const{config:fe,name:Ne}=this.auth;this.fullUserKey=qn(this.userKey,fe.apiKey,Ne),this.fullPersistenceKey=qn("persistence",fe.apiKey,Ne),this.boundEventHandler=C._onStorageEvent.bind(C),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(v){return this.persistence._set(this.fullUserKey,v.toJSON())}getCurrentUser(){var v=this;return(0,M.Z)(function*(){const C=yield v.persistence._get(v.fullUserKey);return C?lt._fromJSON(v.auth,C):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(v){var C=this;return(0,M.Z)(function*(){if(C.persistence===v)return;const L=yield C.getCurrentUser();return yield C.removeCurrentUser(),C.persistence=v,L?C.setCurrentUser(L):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(v,C,L="authUser"){return(0,M.Z)(function*(){if(!C.length)return new zn(It(zt),v,L);const fe=(yield Promise.all(C.map(function(){var pr=(0,M.Z)(function*(Ur){if(yield Ur._isAvailable())return Ur});return function(Ur){return pr.apply(this,arguments)}}()))).filter(pr=>pr);let Ne=fe[0]||It(zt);const Dt=qn(L,v.config.apiKey,v.name);let nn=null;for(const pr of C)try{const Ur=yield pr._get(Dt);if(Ur){const Qi=lt._fromJSON(v,Ur);pr!==Ne&&(nn=Qi),Ne=pr;break}}catch(Ur){}const er=fe.filter(pr=>pr._shouldAllowMigration);return Ne._shouldAllowMigration&&er.length?(Ne=er[0],nn&&(yield Ne._set(Dt,nn.toJSON())),yield Promise.all(C.map(function(){var pr=(0,M.Z)(function*(Ur){if(Ur!==Ne)try{yield Ur._remove(Dt)}catch(Qi){}});return function(Ur){return pr.apply(this,arguments)}}())),new zn(Ne,v,L)):new zn(Ne,v,L)})()}}function ir(x){const v=x.toLowerCase();if(v.includes("opera/")||v.includes("opr/")||v.includes("opios/"))return"Opera";if(function In(x=(0,G.z$)()){return/iemobile/i.test(x)}(v))return"IEMobile";if(v.includes("msie")||v.includes("trident/"))return"IE";if(v.includes("edge/"))return"Edge";if(function or(x=(0,G.z$)()){return/firefox\//i.test(x)}(v))return"Firefox";if(v.includes("silk/"))return"Silk";if(function Qe(x=(0,G.z$)()){return/blackberry/i.test(x)}(v))return"Blackberry";if(function wt(x=(0,G.z$)()){return/webos/i.test(x)}(v))return"Webos";if(function sr(x=(0,G.z$)()){const v=x.toLowerCase();return v.includes("safari/")&&!v.includes("chrome/")&&!v.includes("crios/")&&!v.includes("android")}(v))return"Safari";if((v.includes("chrome/")||function Cn(x=(0,G.z$)()){return/crios\//i.test(x)}(v))&&!v.includes("edge/"))return"Chrome";if(function wn(x=(0,G.z$)()){return/android/i.test(x)}(v))return"Android";{const L=x.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==L?void 0:L.length))return L[1]}return"Other"}function Lt(x,v=[]){let C;switch(x){case"Browser":C=ir((0,G.z$)());break;case"Worker":C=`${ir((0,G.z$)())}-${x}`;break;default:C=x}const L=v.length?v.join(","):"FirebaseCore-web";return`${C}/JsCore/${ee.SDK_VERSION}/${L}`}class gn{constructor(v,C,L){this.app=v,this.heartbeatServiceProvider=C,this.config=L,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mn(this),this.idTokenSubscription=new mn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_t,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=v.name,this.clientVersion=L.sdkClientVersion}_initializeWithPersistence(v,C){var L=this;return C&&(this._popupRedirectResolver=It(C)),this._initializationPromise=this.queue((0,M.Z)(function*(){var fe,Ne;if(!L._deleted&&(L.persistenceManager=yield zn.create(L,v),!L._deleted)){if(null===(fe=L._popupRedirectResolver)||void 0===fe?void 0:fe._shouldInitProactively)try{yield L._popupRedirectResolver._initialize(L)}catch(Dt){}yield L.initializeCurrentUser(C),L.lastNotifiedUid=(null===(Ne=L.currentUser)||void 0===Ne?void 0:Ne.uid)||null,!L._deleted&&(L._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var v=this;return(0,M.Z)(function*(){if(v._deleted)return;const C=yield v.assertedPersistence.getCurrentUser();if(v.currentUser||C){if(v.currentUser&&C&&v.currentUser.uid===C.uid)return v._currentUser._assign(C),void(yield v.currentUser.getIdToken());yield v._updateCurrentUser(C)}})()}initializeCurrentUser(v){var C=this;return(0,M.Z)(function*(){var L;let fe=yield C.assertedPersistence.getCurrentUser();if(v&&C.config.authDomain){yield C.getOrInitRedirectPersistenceManager();const Ne=null===(L=C.redirectUser)||void 0===L?void 0:L._redirectEventId,Dt=null==fe?void 0:fe._redirectEventId,nn=yield C.tryRedirectSignIn(v);(!Ne||Ne===Dt)&&(null==nn?void 0:nn.user)&&(fe=nn.user)}return fe?fe._redirectEventId?(oe(C._popupRedirectResolver,C,"argument-error"),yield C.getOrInitRedirectPersistenceManager(),C.redirectUser&&C.redirectUser._redirectEventId===fe._redirectEventId?C.directlySetCurrentUser(fe):C.reloadAndSetCurrentUserOrClear(fe)):C.reloadAndSetCurrentUserOrClear(fe):C.directlySetCurrentUser(null)})()}tryRedirectSignIn(v){var C=this;return(0,M.Z)(function*(){let L=null;try{L=yield C._popupRedirectResolver._completeRedirectFn(C,v,!0)}catch(fe){yield C._setRedirectUser(null)}return L})()}reloadAndSetCurrentUserOrClear(v){var C=this;return(0,M.Z)(function*(){try{yield kn(v)}catch(L){if("auth/network-request-failed"!==L.code)return C.directlySetCurrentUser(null)}return C.directlySetCurrentUser(v)})()}useDeviceLanguage(){this.languageCode=function rr(){if("undefined"==typeof navigator)return null;const x=navigator;return x.languages&&x.languages[0]||x.language||null}()}_delete(){var v=this;return(0,M.Z)(function*(){v._deleted=!0})()}updateCurrentUser(v){var C=this;return(0,M.Z)(function*(){const L=v?(0,G.m9)(v):null;return L&&oe(L.auth.config.apiKey===C.config.apiKey,C,"invalid-user-token"),C._updateCurrentUser(L&&L._clone(C))})()}_updateCurrentUser(v){var C=this;return(0,M.Z)(function*(){if(!C._deleted)return v&&oe(C.tenantId===v.tenantId,C,"tenant-id-mismatch"),C.queue((0,M.Z)(function*(){yield C.directlySetCurrentUser(v),C.notifyAuthListeners()}))})()}signOut(){var v=this;return(0,M.Z)(function*(){return(v.redirectPersistenceManager||v._popupRedirectResolver)&&(yield v._setRedirectUser(null)),v._updateCurrentUser(null)})()}setPersistence(v){var C=this;return this.queue((0,M.Z)(function*(){yield C.assertedPersistence.setPersistence(It(v))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(v){this._errorFactory=new G.LL("auth","Firebase",v())}onAuthStateChanged(v,C,L){return this.registerStateListener(this.authStateSubscription,v,C,L)}onIdTokenChanged(v,C,L){return this.registerStateListener(this.idTokenSubscription,v,C,L)}toJSON(){var v;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(v=this._currentUser)||void 0===v?void 0:v.toJSON()}}_setRedirectUser(v,C){var L=this;return(0,M.Z)(function*(){const fe=yield L.getOrInitRedirectPersistenceManager(C);return null===v?fe.removeCurrentUser():fe.setCurrentUser(v)})()}getOrInitRedirectPersistenceManager(v){var C=this;return(0,M.Z)(function*(){if(!C.redirectPersistenceManager){const L=v&&It(v)||C._popupRedirectResolver;oe(L,C,"argument-error"),C.redirectPersistenceManager=yield zn.create(C,[It(L._redirectPersistence)],"redirectUser"),C.redirectUser=yield C.redirectPersistenceManager.getCurrentUser()}return C.redirectPersistenceManager})()}_redirectUserForId(v){var C=this;return(0,M.Z)(function*(){var L,fe;return C._isInitialized&&(yield C.queue((0,M.Z)(function*(){}))),(null===(L=C._currentUser)||void 0===L?void 0:L._redirectEventId)===v?C._currentUser:(null===(fe=C.redirectUser)||void 0===fe?void 0:fe._redirectEventId)===v?C.redirectUser:null})()}_persistUserIfCurrent(v){var C=this;return(0,M.Z)(function*(){if(v===C.currentUser)return C.queue((0,M.Z)(function*(){return C.directlySetCurrentUser(v)}))})()}_notifyListenersIfCurrent(v){v===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var v,C;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const L=null!==(C=null===(v=this.currentUser)||void 0===v?void 0:v.uid)&&void 0!==C?C:null;this.lastNotifiedUid!==L&&(this.lastNotifiedUid=L,this.authStateSubscription.next(this.currentUser))}registerStateListener(v,C,L,fe){if(this._deleted)return()=>{};const Ne="function"==typeof C?C:C.next.bind(C),Dt=this._isInitialized?Promise.resolve():this._initializationPromise;return oe(Dt,this,"internal-error"),Dt.then(()=>Ne(this.currentUser)),"function"==typeof C?v.addObserver(C,L,fe):v.addObserver(C)}directlySetCurrentUser(v){var C=this;return(0,M.Z)(function*(){C.currentUser&&C.currentUser!==v&&(C._currentUser._stopProactiveRefresh(),v&&C.isProactiveRefreshEnabled&&v._startProactiveRefresh()),C.currentUser=v,v?yield C.assertedPersistence.setCurrentUser(v):yield C.assertedPersistence.removeCurrentUser()})()}queue(v){return this.operations=this.operations.then(v,v),this.operations}get assertedPersistence(){return oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(v){!v||this.frameworks.includes(v)||(this.frameworks.push(v),this.frameworks.sort(),this.clientVersion=Lt(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var v=this;return(0,M.Z)(function*(){var C;const L={"X-Client-Version":v.clientVersion};v.app.options.appId&&(L["X-Firebase-gmpid"]=v.app.options.appId);const fe=yield null===(C=v.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===C?void 0:C.getHeartbeatsHeader();return fe&&(L["X-Firebase-Client"]=fe),L})()}}class mn{constructor(v){this.auth=v,this.observer=null,this.addObserver=(0,G.ne)(C=>this.observer=C)}get next(){return oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function us(x){return`__${x}${Math.floor(1e6*Math.random())}`})("rcb"),new $n(3e4,6e4),new $n(2e3,1e4),new $n(3e4,6e4),new $n(5e3,15e3);var Xd="@firebase/auth",eh="0.19.10";class ki{constructor(v){this.auth=v,this.internalListeners=new Map}getUid(){var v;return this.assertAuthConfigured(),(null===(v=this.auth.currentUser)||void 0===v?void 0:v.uid)||null}getToken(v){var C=this;return(0,M.Z)(function*(){return C.assertAuthConfigured(),yield C.auth._initializationPromise,C.auth.currentUser?{accessToken:yield C.auth.currentUser.getIdToken(v)}:null})()}addAuthTokenListener(v){if(this.assertAuthConfigured(),this.internalListeners.has(v))return;const C=this.auth.onIdTokenChanged(L=>{var fe;v((null===(fe=L)||void 0===fe?void 0:fe.stsTokenManager.accessToken)||null)});this.internalListeners.set(v,C),this.updateProactiveRefresh()}removeAuthTokenListener(v){this.assertAuthConfigured();const C=this.internalListeners.get(v);!C||(this.internalListeners.delete(v),C(),this.updateProactiveRefresh())}assertAuthConfigured(){oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}!function th(x){(0,ee._registerComponent)(new K.wA("auth",(v,{options:C})=>{const L=v.getProvider("app").getImmediate(),fe=v.getProvider("heartbeat"),{apiKey:Ne,authDomain:Dt}=L.options;return((nn,er)=>{oe(Ne&&!Ne.includes(":"),"invalid-api-key",{appName:nn.name}),oe(!(null==Dt?void 0:Dt.includes(":")),"argument-error",{appName:nn.name});const pr={apiKey:Ne,authDomain:Dt,clientPlatform:x,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Lt(x)},Ur=new gn(nn,er,pr);return function Sn(x,v){const C=(null==v?void 0:v.persistence)||[],L=(Array.isArray(C)?C:[C]).map(It);(null==v?void 0:v.errorMap)&&x._updateErrorMap(v.errorMap),x._initializeWithPersistence(L,null==v?void 0:v.popupRedirectResolver)}(Ur,C),Ur})(L,fe)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((v,C,L)=>{v.getProvider("auth-internal").initialize()})),(0,ee._registerComponent)(new K.wA("auth-internal",v=>{const C=function xn(x){return(0,G.m9)(x)}(v.getProvider("auth").getImmediate());return new ki(C)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,ee.registerVersion)(Xd,eh,function Co(x){switch(x){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(x)),(0,ee.registerVersion)(Xd,eh,"esm2017")}("Browser");class mo{constructor(){return(0,p.vb)("auth")}}var pf=A(7128),Nu=A(3209),Bp=A(8306),Up=A(4004),gf={includeMetadataChanges:!1};function uh(x,v){return void 0===v&&(v={}),function kt(x){return function ch(x,v){return void 0===v&&(v=gf),new Bp.y(function(C){return{unsubscribe:(0,Nu.cf)(x,v,{next:C.next.bind(C),error:C.error.bind(C),complete:C.complete.bind(C)})}})}(x,{includeMetadataChanges:!0}).pipe((0,Up.U)(function(v){return v.docs}))}(x).pipe((0,Up.U)(function(C){return C.map(function(L){return function lh(x,v){void 0===v&&(v={});var C=x.data();return!x.exists()||"object"!=typeof C||null===C||v.idField&&(C[v.idField]=x.id),C}(L,v)})}))}class Da{constructor(v){return v}}const Tc="firestore",zs=new e.OlP("angularfire2.firestore-instances");function bf(x){return(v,C)=>{const L=v.runOutsideAngular(()=>x(C));return new Da(L)}}const pi={provide:class yf{constructor(){return(0,p.vb)(Tc)}},deps:[[new e.FiY,zs]]},Rs={provide:Da,useFactory:function _d(x,v){const C=(0,p.JM)(Tc,x,v);return C&&new Da(C)},deps:[[new e.FiY,zs],w.Ot]};let sa=(()=>{class x{constructor(){(0,N.KN)("angularfire",p.q4.full,"fst")}}return x.\u0275fac=function(C){return new(C||x)},x.\u0275mod=e.oAB({type:x}),x.\u0275inj=e.cJS({providers:[Rs,pi]}),x})();function aa(x,...v){return{ngModule:sa,providers:[{provide:zs,useFactory:bf(x),multi:!0,deps:[e.R0b,e.zs3,p.HU,w.z6,[new e.FiY,mo],[new e.FiY,pf.nm],...v]}]}}const dh=(0,p.u3)(uh,!0),Jl=(0,p.u3)(Nu.ET,!0),ph=(0,p.u3)(Nu.hJ,!0),Ec=(0,p.u3)(Nu.JU,!0),xs=(0,p.u3)(Nu.ad,!0)},5813:(pt,D,A)=>{"use strict";A.d(D,{q4:()=>Ca,iC:()=>Gc,HU:()=>Ba,vb:()=>dl,JM:()=>ld,u3:()=>Ta});var p=A(5e3),e=A(5867),w=A(5861),N=A(9681),M=A(2090),G=A(4859),ee=A(1877);const Y="@firebase/installations",Q="0.5.6",ie=`w:${Q}`,ge="FIS_v2",Ge=new M.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function ke(U){return U instanceof M.ZR&&U.code.includes("request-failed")}function _t({projectId:U}){return`https://firebaseinstallations.googleapis.com/v1/projects/${U}/installations`}function Ke(U){return{token:U.token,requestStatus:2,expiresIn:me(U.expiresIn),creationTime:Date.now()}}function rt(U,q){return Ae.apply(this,arguments)}function Ae(){return(Ae=(0,w.Z)(function*(U,q){const He=(yield q.json()).error;return Ge.create("request-failed",{requestName:U,serverCode:He.code,serverMessage:He.message,serverStatus:He.status})})).apply(this,arguments)}function it({apiKey:U}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U})}function Ze(U,{refreshToken:q}){const ae=it(U);return ae.append("Authorization",function oe(U){return`${ge} ${U}`}(q)),ae}function ft(U){return ve.apply(this,arguments)}function ve(){return(ve=(0,w.Z)(function*(U){const q=yield U();return q.status>=500&&q.status<600?U():q})).apply(this,arguments)}function me(U){return Number(U.replace("s","000"))}function we(U,q){return qe.apply(this,arguments)}function qe(){return(qe=(0,w.Z)(function*({appConfig:U,heartbeatServiceProvider:q},{fid:ae}){const He=_t(U),mt=it(U),St=q.getImmediate({optional:!0});if(St){const fr=yield St.getHeartbeatsHeader();fr&&mt.append("x-firebase-client",fr)}const On={method:"POST",headers:mt,body:JSON.stringify({fid:ae,authVersion:ge,appId:U.appId,sdkVersion:ie})},mr=yield ft(()=>fetch(He,On));if(mr.ok){const fr=yield mr.json();return{fid:fr.fid||ae,registrationStatus:2,refreshToken:fr.refreshToken,authToken:Ke(fr.authToken)}}throw yield rt("Create Installation",mr)})).apply(this,arguments)}function Ee(U){return new Promise(q=>{setTimeout(q,U)})}const Ft=/^[cdef][\w-]{21}$/;function Rt(){try{const U=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(U),U[0]=112+U[0]%16;const ae=function Et(U){return function It(U){return btoa(String.fromCharCode(...U)).replace(/\+/g,"-").replace(/\//g,"_")}(U).substr(0,22)}(U);return Ft.test(ae)?ae:""}catch(U){return""}}function Ht(U){return`${U.appName}!${U.appId}`}const yn=new Map;function rr(U,q){const ae=Ht(U);br(ae,q),function vr(U,q){const ae=function xr(){return!ni&&"BroadcastChannel"in self&&(ni=new BroadcastChannel("[Firebase] FID Change"),ni.onmessage=U=>{br(U.data.key,U.data.fid)}),ni}();ae&&ae.postMessage({key:U,fid:q}),function jr(){0===yn.size&&ni&&(ni.close(),ni=null)}()}(ae,q)}function br(U,q){const ae=yn.get(U);if(ae)for(const He of ae)He(q)}let ni=null;const Kr="firebase-installations-store";let Zr=null;function Bi(){return Zr||(Zr=(0,M.X3)("firebase-installations-database",1,(U,q)=>{0===q&&U.createObjectStore(Kr)})),Zr}function Bn(U,q){return zi.apply(this,arguments)}function zi(){return(zi=(0,w.Z)(function*(U,q){const ae=Ht(U),mt=(yield Bi()).transaction(Kr,"readwrite"),St=mt.objectStore(Kr),un=yield St.get(ae);return yield St.put(q,ae),yield mt.complete,(!un||un.fid!==q.fid)&&rr(U,q.fid),q})).apply(this,arguments)}function ri(U){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,w.Z)(function*(U){const q=Ht(U),He=(yield Bi()).transaction(Kr,"readwrite");yield He.objectStore(Kr).delete(q),yield He.complete})).apply(this,arguments)}function Fe(U,q){return gt.apply(this,arguments)}function gt(){return(gt=(0,w.Z)(function*(U,q){const ae=Ht(U),mt=(yield Bi()).transaction(Kr,"readwrite"),St=mt.objectStore(Kr),un=yield St.get(ae),On=q(un);return void 0===On?yield St.delete(ae):yield St.put(On,ae),yield mt.complete,On&&(!un||un.fid!==On.fid)&&rr(U,On.fid),On})).apply(this,arguments)}function Be(U){return ce.apply(this,arguments)}function ce(){return(ce=(0,w.Z)(function*(U){let q;const ae=yield Fe(U.appConfig,He=>{const mt=ye(He),St=at(U,mt);return q=St.registrationPromise,St.installationEntry});return""===ae.fid?{installationEntry:yield q}:{installationEntry:ae,registrationPromise:q}})).apply(this,arguments)}function ye(U){return cn(U||{fid:Rt(),registrationStatus:0})}function at(U,q){if(0===q.registrationStatus){if(!navigator.onLine)return{installationEntry:q,registrationPromise:Promise.reject(Ge.create("app-offline"))};const ae={fid:q.fid,registrationStatus:1,registrationTime:Date.now()},He=function ct(U,q){return yt.apply(this,arguments)}(U,ae);return{installationEntry:ae,registrationPromise:He}}return 1===q.registrationStatus?{installationEntry:q,registrationPromise:Ot(U)}:{installationEntry:q}}function yt(){return(yt=(0,w.Z)(function*(U,q){try{const ae=yield we(U,q);return Bn(U.appConfig,ae)}catch(ae){throw ke(ae)&&409===ae.customData.serverCode?yield ri(U.appConfig):yield Bn(U.appConfig,{fid:q.fid,registrationStatus:0}),ae}})).apply(this,arguments)}function Ot(U){return dn.apply(this,arguments)}function dn(){return(dn=(0,w.Z)(function*(U){let q=yield qt(U.appConfig);for(;1===q.registrationStatus;)yield Ee(100),q=yield qt(U.appConfig);if(0===q.registrationStatus){const{installationEntry:ae,registrationPromise:He}=yield Be(U);return He||ae}return q})).apply(this,arguments)}function qt(U){return Fe(U,q=>{if(!q)throw Ge.create("installation-not-found");return cn(q)})}function cn(U){return function Gn(U){return 1===U.registrationStatus&&U.registrationTime+1e4<Date.now()}(U)?{fid:U.fid,registrationStatus:0}:U}function fn(U,q){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,w.Z)(function*({appConfig:U,heartbeatServiceProvider:q},ae){const He=jt(U,ae),mt=Ze(U,ae),St=q.getImmediate({optional:!0});if(St){const fr=yield St.getHeartbeatsHeader();fr&&mt.append("x-firebase-client",fr)}const On={method:"POST",headers:mt,body:JSON.stringify({installation:{sdkVersion:ie,appId:U.appId}})},mr=yield ft(()=>fetch(He,On));if(mr.ok)return Ke(yield mr.json());throw yield rt("Generate Auth Token",mr)})).apply(this,arguments)}function jt(U,{fid:q}){return`${_t(U)}/${q}/authTokens:generate`}function Xn(U){return kn.apply(this,arguments)}function kn(){return(kn=(0,w.Z)(function*(U,q=!1){let ae;const He=yield Fe(U.appConfig,St=>{if(!jn(St))throw Ge.create("not-registered");const un=St.authToken;if(!q&&Pe(un))return St;if(1===un.requestStatus)return ae=Bt(U,q),St;{if(!navigator.onLine)throw Ge.create("app-offline");const On=be(St);return ae=vn(U,On),On}});return ae?yield ae:He.authToken})).apply(this,arguments)}function Bt(U,q){return ht.apply(this,arguments)}function ht(){return(ht=(0,w.Z)(function*(U,q){let ae=yield tn(U.appConfig);for(;1===ae.authToken.requestStatus;)yield Ee(100),ae=yield tn(U.appConfig);const He=ae.authToken;return 0===He.requestStatus?Xn(U,q):He})).apply(this,arguments)}function tn(U){return Fe(U,q=>{if(!jn(q))throw Ge.create("not-registered");return function lt(U){return 1===U.requestStatus&&U.requestTime+1e4<Date.now()}(q.authToken)?Object.assign(Object.assign({},q),{authToken:{requestStatus:0}}):q})}function vn(U,q){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,w.Z)(function*(U,q){try{const ae=yield fn(U,q),He=Object.assign(Object.assign({},q),{authToken:ae});return yield Bn(U.appConfig,He),ae}catch(ae){if(!ke(ae)||401!==ae.customData.serverCode&&404!==ae.customData.serverCode){const He=Object.assign(Object.assign({},q),{authToken:{requestStatus:0}});yield Bn(U.appConfig,He)}else yield ri(U.appConfig);throw ae}})).apply(this,arguments)}function jn(U){return void 0!==U&&2===U.registrationStatus}function Pe(U){return 2===U.requestStatus&&!function Se(U){const q=Date.now();return q<U.creationTime||U.creationTime+U.expiresIn<q+36e5}(U)}function be(U){const q={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},U),{authToken:q})}function zt(){return(zt=(0,w.Z)(function*(U){const q=U,{installationEntry:ae,registrationPromise:He}=yield Be(q);return He?He.catch(console.error):Xn(q).catch(console.error),ae.fid})).apply(this,arguments)}function zn(){return(zn=(0,w.Z)(function*(U,q=!1){const ae=U;return yield ir(ae),(yield Xn(ae,q)).token})).apply(this,arguments)}function ir(U){return or.apply(this,arguments)}function or(){return(or=(0,w.Z)(function*(U){const{registrationPromise:q}=yield Be(U);q&&(yield q)})).apply(this,arguments)}function gr(U){return Ge.create("missing-app-config-values",{valueName:U})}const Yt="installations",et=U=>{const q=U.getProvider("app").getImmediate(),ae=function Yn(U){if(!U||!U.options)throw gr("App Configuration");if(!U.name)throw gr("App Name");const q=["projectId","apiKey","appId"];for(const ae of q)if(!U.options[ae])throw gr(ae);return{appName:U.name,projectId:U.options.projectId,apiKey:U.options.apiKey,appId:U.options.appId}}(q);return{app:q,appConfig:ae,heartbeatServiceProvider:(0,N._getProvider)(q,"heartbeat"),_delete:()=>Promise.resolve()}},Lt=U=>{const q=U.getProvider("app").getImmediate(),ae=(0,N._getProvider)(q,Yt).getImmediate();return{getId:()=>function $e(U){return zt.apply(this,arguments)}(ae),getToken:mt=>function qn(U){return zn.apply(this,arguments)}(ae,mt)}};(function gn(){(0,N._registerComponent)(new G.wA(Yt,et,"PUBLIC")),(0,N._registerComponent)(new G.wA("installations-internal",Lt,"PRIVATE"))})(),(0,N.registerVersion)(Y,Q),(0,N.registerVersion)(Y,Q,"esm2017");const xn="@firebase/remote-config",Vn=new M.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ro{constructor(q,ae,He,mt){this.client=q,this.storage=ae,this.storageCache=He,this.logger=mt}isCachedDataFresh(q,ae){if(!ae)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const He=Date.now()-ae,mt=He<=q;return this.logger.debug(`Config fetch cache check. Cache age millis: ${He}. Cache max age millis (minimumFetchIntervalMillis setting): ${q}. Is cache hit: ${mt}.`),mt}fetch(q){var ae=this;return(0,w.Z)(function*(){const[He,mt]=yield Promise.all([ae.storage.getLastSuccessfulFetchTimestampMillis(),ae.storage.getLastSuccessfulFetchResponse()]);if(mt&&ae.isCachedDataFresh(q.cacheMaxAgeMillis,He))return mt;q.eTag=mt&&mt.eTag;const St=yield ae.client.fetch(q),un=[ae.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===St.status&&un.push(ae.storage.setLastSuccessfulFetchResponse(St)),yield Promise.all(un),St})()}}function Hi(U=navigator){return U.languages&&U.languages[0]||U.language}class Eo{constructor(q,ae,He,mt,St,un){this.firebaseInstallations=q,this.sdkVersion=ae,this.namespace=He,this.projectId=mt,this.apiKey=St,this.appId=un}fetch(q){var ae=this;return(0,w.Z)(function*(){const[He,mt]=yield Promise.all([ae.firebaseInstallations.getId(),ae.firebaseInstallations.getToken()]),un=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${ae.projectId}/namespaces/${ae.namespace}:fetch?key=${ae.apiKey}`,On={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":q.eTag||"*"},mr={sdk_version:ae.sdkVersion,app_instance_id:He,app_instance_id_token:mt,app_id:ae.appId,language_code:Hi()},fr={method:"POST",headers:On,body:JSON.stringify(mr)},ai=fetch(un,fr),wr=new Promise((Zo,Yi)=>{q.signal.addEventListener(()=>{const Hc=new Error("The operation was aborted.");Hc.name="AbortError",Yi(Hc)})});let Bo;try{yield Promise.race([ai,wr]),Bo=yield ai}catch(Zo){let Yi="fetch-client-network";throw"AbortError"===Zo.name&&(Yi="fetch-timeout"),Vn.create(Yi,{originalErrorMessage:Zo.message})}let uo=Bo.status;const hs=Bo.headers.get("ETag")||void 0;let na,Ds;if(200===Bo.status){let Zo;try{Zo=yield Bo.json()}catch(Yi){throw Vn.create("fetch-client-parse",{originalErrorMessage:Yi.message})}na=Zo.entries,Ds=Zo.state}if("INSTANCE_STATE_UNSPECIFIED"===Ds?uo=500:"NO_CHANGE"===Ds?uo=304:("NO_TEMPLATE"===Ds||"EMPTY_CONFIG"===Ds)&&(na={}),304!==uo&&200!==uo)throw Vn.create("fetch-status",{httpStatus:uo});return{status:uo,eTag:hs,config:na}})()}}class is{constructor(q,ae){this.client=q,this.storage=ae}fetch(q){var ae=this;return(0,w.Z)(function*(){const He=(yield ae.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return ae.attemptFetch(q,He)})()}attemptFetch(q,{throttleEndTimeMillis:ae,backoffCount:He}){var mt=this;return(0,w.Z)(function*(){yield function Ui(U,q){return new Promise((ae,He)=>{const mt=Math.max(q-Date.now(),0),St=setTimeout(ae,mt);U.addEventListener(()=>{clearTimeout(St),He(Vn.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}(q.signal,ae);try{const St=yield mt.client.fetch(q);return yield mt.storage.deleteThrottleMetadata(),St}catch(St){if(!function bs(U){if(!(U instanceof M.ZR&&U.customData))return!1;const q=Number(U.customData.httpStatus);return 429===q||500===q||503===q||504===q}(St))throw St;const un={throttleEndTimeMillis:Date.now()+(0,M.$s)(He),backoffCount:He+1};return yield mt.storage.setThrottleMetadata(un),mt.attemptFetch(q,un)}})()}}class os{constructor(q,ae,He,mt,St){this.app=q,this._client=ae,this._storageCache=He,this._storage=mt,this._logger=St,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ji(U,q){const ae=U.target.error||void 0;return Vn.create(q,{originalErrorMessage:ae&&ae.message})}const so="app_namespace_store";class Jo{constructor(q,ae,He,mt=function Is(){return new Promise((U,q)=>{try{const ae=indexedDB.open("firebase_remote_config",1);ae.onerror=He=>{q(ji(He,"storage-open"))},ae.onsuccess=He=>{U(He.target.result)},ae.onupgradeneeded=He=>{0===He.oldVersion&&He.target.result.createObjectStore(so,{keyPath:"compositeKey"})}}catch(ae){q(Vn.create("storage-open",{originalErrorMessage:ae}))}})}()){this.appId=q,this.appName=ae,this.namespace=He,this.openDbPromise=mt}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(q){return this.set("last_fetch_status",q)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(q){return this.set("last_successful_fetch_timestamp_millis",q)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(q){return this.set("last_successful_fetch_response",q)}getActiveConfig(){return this.get("active_config")}setActiveConfig(q){return this.set("active_config",q)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(q){return this.set("active_config_etag",q)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(q){return this.set("throttle_metadata",q)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(q){var ae=this;return(0,w.Z)(function*(){const He=yield ae.openDbPromise;return new Promise((mt,St)=>{const On=He.transaction([so],"readonly").objectStore(so),mr=ae.createCompositeKey(q);try{const fr=On.get(mr);fr.onerror=ai=>{St(ji(ai,"storage-get"))},fr.onsuccess=ai=>{const wr=ai.target.result;mt(wr?wr.value:void 0)}}catch(fr){St(Vn.create("storage-get",{originalErrorMessage:fr&&fr.message}))}})})()}set(q,ae){var He=this;return(0,w.Z)(function*(){const mt=yield He.openDbPromise;return new Promise((St,un)=>{const mr=mt.transaction([so],"readwrite").objectStore(so),fr=He.createCompositeKey(q);try{const ai=mr.put({compositeKey:fr,value:ae});ai.onerror=wr=>{un(ji(wr,"storage-set"))},ai.onsuccess=()=>{St()}}catch(ai){un(Vn.create("storage-set",{originalErrorMessage:ai&&ai.message}))}})})()}delete(q){var ae=this;return(0,w.Z)(function*(){const He=yield ae.openDbPromise;return new Promise((mt,St)=>{const On=He.transaction([so],"readwrite").objectStore(so),mr=ae.createCompositeKey(q);try{const fr=On.delete(mr);fr.onerror=ai=>{St(ji(ai,"storage-delete"))},fr.onsuccess=()=>{mt()}}catch(fr){St(Vn.create("storage-delete",{originalErrorMessage:fr&&fr.message}))}})})()}createCompositeKey(q){return[this.appId,this.appName,this.namespace,q].join()}}class Si{constructor(q){this.storage=q}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var q=this;return(0,w.Z)(function*(){const ae=q.storage.getLastFetchStatus(),He=q.storage.getLastSuccessfulFetchTimestampMillis(),mt=q.storage.getActiveConfig(),St=yield ae;St&&(q.lastFetchStatus=St);const un=yield He;un&&(q.lastSuccessfulFetchTimestampMillis=un);const On=yield mt;On&&(q.activeConfig=On)})()}setLastFetchStatus(q){return this.lastFetchStatus=q,this.storage.setLastFetchStatus(q)}setLastSuccessfulFetchTimestampMillis(q){return this.lastSuccessfulFetchTimestampMillis=q,this.storage.setLastSuccessfulFetchTimestampMillis(q)}setActiveConfig(q){return this.activeConfig=q,this.storage.setActiveConfig(q)}}function Ce(){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,w.Z)(function*(){if(!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch(U){return!1}})).apply(this,arguments)}!function vo(){(0,N._registerComponent)(new G.wA("remote-config",function U(q,{instanceIdentifier:ae}){const He=q.getProvider("app").getImmediate(),mt=q.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw Vn.create("registration-window");if(!(0,M.hl)())throw Vn.create("indexed-db-unavailable");const{projectId:St,apiKey:un,appId:On}=He.options;if(!St)throw Vn.create("registration-project-id");if(!un)throw Vn.create("registration-api-key");if(!On)throw Vn.create("registration-app-id");const mr=new Jo(On,He.name,ae=ae||"firebase"),fr=new Si(mr),ai=new ee.Yd(xn);ai.logLevel=ee.in.ERROR;const wr=new Eo(mt,N.SDK_VERSION,ae,St,un,On),Bo=new is(wr,mr),uo=new Ro(Bo,mr,fr,ai),hs=new os(He,uo,fr,mr,ai);return function st(U){const q=(0,M.m9)(U);q._initializePromise||(q._initializePromise=q._storageCache.loadFromStorage().then(()=>{q._isInitializationComplete=!0}))}(hs),hs},"PUBLIC").setMultipleInstances(!0)),(0,N.registerVersion)(xn,"0.3.5"),(0,N.registerVersion)(xn,"0.3.5","esm2017")}();const de="/firebase-messaging-sw.js",R="/firebase-cloud-messaging-push-scope",Z="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ne="google.c.a.c_id",Te="google.c.a.c_l",Me="google.c.a.ts",xe="google.c.a.e";var ut=(()=>{return(U=ut||(ut={})).PUSH_RECEIVED="push-received",U.NOTIFICATION_CLICKED="notification-clicked",ut;var U})();function re(U){const q=new Uint8Array(U);return btoa(String.fromCharCode(...q)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Ie(U){const ae=(U+"=".repeat((4-U.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),He=atob(ae),mt=new Uint8Array(He.length);for(let St=0;St<He.length;++St)mt[St]=He.charCodeAt(St);return mt}const Ve="fcm_token_details_db",hn="fcm_token_object_Store";function An(U){return Pn.apply(this,arguments)}function Pn(){return Pn=(0,w.Z)(function*(U){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(St=>St.name).includes(Ve))return null;let q=null;return(yield(0,M.X3)(Ve,5,function(){var He=(0,w.Z)(function*(mt,St,un,On){var mr;if(St<2||!mt.objectStoreNames.contains(hn))return;const fr=On.objectStore(hn),ai=yield fr.index("fcmSenderId").get(U);if(yield fr.clear(),ai)if(2===St){const wr=ai;if(!wr.auth||!wr.p256dh||!wr.endpoint)return;q={token:wr.fcmToken,createTime:null!==(mr=wr.createTime)&&void 0!==mr?mr:Date.now(),subscriptionOptions:{auth:wr.auth,p256dh:wr.p256dh,endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:"string"==typeof wr.vapidKey?wr.vapidKey:re(wr.vapidKey)}}}else if(3===St){const wr=ai;q={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:re(wr.auth),p256dh:re(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:re(wr.vapidKey)}}}else if(4===St){const wr=ai;q={token:wr.fcmToken,createTime:wr.createTime,subscriptionOptions:{auth:re(wr.auth),p256dh:re(wr.p256dh),endpoint:wr.endpoint,swScope:wr.swScope,vapidKey:re(wr.vapidKey)}}}});return function(mt,St,un,On){return He.apply(this,arguments)}}())).close(),yield(0,M.Lj)(Ve),yield(0,M.Lj)("fcm_vapid_details_db"),yield(0,M.Lj)("undefined"),Fn(q)?q:null}),Pn.apply(this,arguments)}function Fn(U){if(!U||!U.subscriptionOptions)return!1;const{subscriptionOptions:q}=U;return"number"==typeof U.createTime&&U.createTime>0&&"string"==typeof U.token&&U.token.length>0&&"string"==typeof q.auth&&q.auth.length>0&&"string"==typeof q.p256dh&&q.p256dh.length>0&&"string"==typeof q.endpoint&&q.endpoint.length>0&&"string"==typeof q.swScope&&q.swScope.length>0&&"string"==typeof q.vapidKey&&q.vapidKey.length>0}const Xr="firebase-messaging-store";let Ki=null;function jo(){return Ki||(Ki=(0,M.X3)("firebase-messaging-database",1,(U,q)=>{0===q&&U.createObjectStore(Xr)})),Ki}function Gr(U){return H.apply(this,arguments)}function H(){return(H=(0,w.Z)(function*(U){const q=Mt(U),He=yield(yield jo()).transaction(Xr).objectStore(Xr).get(q);if(He)return He;{const mt=yield An(U.appConfig.senderId);if(mt)return yield le(U,mt),mt}})).apply(this,arguments)}function le(U,q){return V.apply(this,arguments)}function V(){return(V=(0,w.Z)(function*(U,q){const ae=Mt(U),mt=(yield jo()).transaction(Xr,"readwrite");return yield mt.objectStore(Xr).put(q,ae),yield mt.complete,q})).apply(this,arguments)}function pe(U){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,w.Z)(function*(U){const q=Mt(U),He=(yield jo()).transaction(Xr,"readwrite");yield He.objectStore(Xr).delete(q),yield He.complete})).apply(this,arguments)}function Mt({appConfig:U}){return U.appId}const Tn=new M.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ii(U,q){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,w.Z)(function*(U,q){const ae=yield ko(U),He=hr(q),mt={method:"POST",headers:ae,body:JSON.stringify(He)};let St;try{St=yield(yield fetch(si(U.appConfig),mt)).json()}catch(un){throw Tn.create("token-subscribe-failed",{errorInfo:un})}if(St.error)throw Tn.create("token-subscribe-failed",{errorInfo:St.error.message});if(!St.token)throw Tn.create("token-subscribe-no-token");return St.token})).apply(this,arguments)}function Br(U,q){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,w.Z)(function*(U,q){const ae=yield ko(U),He=hr(q.subscriptionOptions),mt={method:"PATCH",headers:ae,body:JSON.stringify(He)};let St;try{St=yield(yield fetch(`${si(U.appConfig)}/${q.token}`,mt)).json()}catch(un){throw Tn.create("token-update-failed",{errorInfo:un})}if(St.error)throw Tn.create("token-update-failed",{errorInfo:St.error.message});if(!St.token)throw Tn.create("token-update-no-token");return St.token})).apply(this,arguments)}function Pi(U,q){return oi.apply(this,arguments)}function oi(){return(oi=(0,w.Z)(function*(U,q){const He={method:"DELETE",headers:yield ko(U)};try{const St=yield(yield fetch(`${si(U.appConfig)}/${q}`,He)).json();if(St.error)throw Tn.create("token-unsubscribe-failed",{errorInfo:St.error.message})}catch(mt){throw Tn.create("token-unsubscribe-failed",{errorInfo:mt})}})).apply(this,arguments)}function si({projectId:U}){return`https://fcmregistrations.googleapis.com/v1/projects/${U}/registrations`}function ko(U){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,w.Z)(function*({appConfig:U,installations:q}){const ae=yield q.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":U.apiKey,"x-goog-firebase-installations-auth":`FIS ${ae}`})})).apply(this,arguments)}function hr({p256dh:U,auth:q,endpoint:ae,vapidKey:He}){const mt={web:{endpoint:ae,auth:q,p256dh:U}};return He!==Z&&(mt.web.applicationPubKey=He),mt}const Ps=6048e5;function Go(U){return as.apply(this,arguments)}function as(){return(as=(0,w.Z)(function*(U){const q=yield Ia(U.swRegistration,U.vapidKey),ae={vapidKey:U.vapidKey,swScope:U.swRegistration.scope,endpoint:q.endpoint,auth:re(q.getKey("auth")),p256dh:re(q.getKey("p256dh"))},He=yield Gr(U.firebaseDependencies);if(He){if(tl(He.subscriptionOptions,ae))return Date.now()>=He.createTime+Ps?Qa(U,{token:He.token,createTime:Date.now(),subscriptionOptions:ae}):He.token;try{yield Pi(U.firebaseDependencies,He.token)}catch(mt){console.warn(mt)}return Xt(U.firebaseDependencies,ae)}return Xt(U.firebaseDependencies,ae)})).apply(this,arguments)}function Cs(U){return ws.apply(this,arguments)}function ws(){return(ws=(0,w.Z)(function*(U){const q=yield Gr(U.firebaseDependencies);q&&(yield Pi(U.firebaseDependencies,q.token),yield pe(U.firebaseDependencies));const ae=yield U.swRegistration.pushManager.getSubscription();return!ae||ae.unsubscribe()})).apply(this,arguments)}function Qa(U,q){return cs.apply(this,arguments)}function cs(){return(cs=(0,w.Z)(function*(U,q){try{const ae=yield Br(U.firebaseDependencies,q),He=Object.assign(Object.assign({},q),{token:ae,createTime:Date.now()});return yield le(U.firebaseDependencies,He),ae}catch(ae){throw yield Cs(U),ae}})).apply(this,arguments)}function Xt(U,q){return cr.apply(this,arguments)}function cr(){return(cr=(0,w.Z)(function*(U,q){const He={token:yield ii(U,q),createTime:Date.now(),subscriptionOptions:q};return yield le(U,He),He.token})).apply(this,arguments)}function Ia(U,q){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,w.Z)(function*(U,q){return(yield U.pushManager.getSubscription())||U.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Ie(q)})})).apply(this,arguments)}function tl(U,q){return q.vapidKey===U.vapidKey&&q.endpoint===U.endpoint&&q.auth===U.auth&&q.p256dh===U.p256dh}function Bs(U){const q={from:U.from,collapseKey:U.collapse_key,messageId:U.fcmMessageId};return function Qs(U,q){if(!q.notification)return;U.notification={};const ae=q.notification.title;ae&&(U.notification.title=ae);const He=q.notification.body;He&&(U.notification.body=He);const mt=q.notification.image;mt&&(U.notification.image=mt)}(q,U),function Xa(U,q){!q.data||(U.data=q.data)}(q,U),function Pa(U,q){if(!q.fcmOptions)return;U.fcmOptions={};const ae=q.fcmOptions.link;ae&&(U.fcmOptions.link=ae);const He=q.fcmOptions.analytics_label;He&&(U.fcmOptions.analyticsLabel=He)}(q,U),q}function gc(U){return"object"==typeof U&&!!U&&ne in U}function mc(U,q){const ae=[];for(let He=0;He<U.length;He++)ae.push(U.charAt(He)),He<q.length&&ae.push(q.charAt(He));return ae.join("")}function Lo(U){return Tn.create("missing-app-config-values",{valueName:U})}mc("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),mc("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yo{constructor(q,ae,He){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const mt=function nl(U){if(!U||!U.options)throw Lo("App Configuration Object");if(!U.name)throw Lo("App Name");const q=["projectId","apiKey","appId","messagingSenderId"],{options:ae}=U;for(const He of q)if(!ae[He])throw Lo(He);return{appName:U.name,projectId:ae.projectId,apiKey:ae.apiKey,appId:ae.appId,senderId:ae.messagingSenderId}}(q);this.firebaseDependencies={app:q,appConfig:mt,installations:ae,analyticsProvider:He}}_delete(){return Promise.resolve()}}function fa(U){return pa.apply(this,arguments)}function pa(){return(pa=(0,w.Z)(function*(U){try{U.swRegistration=yield navigator.serviceWorker.register(de,{scope:R}),U.swRegistration.update().catch(()=>{})}catch(q){throw Tn.create("failed-service-worker-registration",{browserErrorMessage:q.message})}})).apply(this,arguments)}function Os(U,q){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,w.Z)(function*(U,q){if(!q&&!U.swRegistration&&(yield fa(U)),q||!U.swRegistration){if(!(q instanceof ServiceWorkerRegistration))throw Tn.create("invalid-sw-registration");U.swRegistration=q}})).apply(this,arguments)}function Nc(U,q){return eo.apply(this,arguments)}function eo(){return(eo=(0,w.Z)(function*(U,q){q?U.vapidKey=q:U.vapidKey||(U.vapidKey=Z)})).apply(this,arguments)}function ga(){return(ga=(0,w.Z)(function*(U,q){if(!navigator)throw Tn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tn.create("permission-blocked");return yield Nc(U,null==q?void 0:q.vapidKey),yield Os(U,null==q?void 0:q.serviceWorkerRegistration),Go(U)})).apply(this,arguments)}function Xs(U,q,ae){return ma.apply(this,arguments)}function ma(){return(ma=(0,w.Z)(function*(U,q,ae){const He=Ll(q);(yield U.firebaseDependencies.analyticsProvider.get()).logEvent(He,{message_id:ae[ne],message_name:ae[Te],message_time:ae[Me],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ll(U){switch(U){case ut.NOTIFICATION_CLICKED:return"notification_open";case ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function il(){return(il=(0,w.Z)(function*(U,q){const ae=q.data;if(!ae.isFirebaseMessaging)return;U.onMessageHandler&&ae.messageType===ut.PUSH_RECEIVED&&("function"==typeof U.onMessageHandler?U.onMessageHandler(Bs(ae)):U.onMessageHandler.next(Bs(ae)));const He=ae.data;gc(He)&&"1"===He[xe]&&(yield Xs(U,ae.messageType,He))})).apply(this,arguments)}const Oa="@firebase/messaging",Rc=U=>{const q=new Yo(U.getProvider("app").getImmediate(),U.getProvider("installations-internal").getImmediate(),U.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",ae=>function Us(U,q){return il.apply(this,arguments)}(q,ae)),q},Na=U=>{const q=U.getProvider("messaging").getImmediate();return{getToken:He=>function rl(U,q){return ga.apply(this,arguments)}(q,He)}};function _c(){return ea.apply(this,arguments)}function ea(){return(ea=(0,w.Z)(function*(){try{yield(0,M.eu)()}catch(U){return!1}return"undefined"!=typeof window&&(0,M.hl)()&&(0,M.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Ra(){(0,N._registerComponent)(new G.wA("messaging",Rc,"PUBLIC")),(0,N._registerComponent)(new G.wA("messaging-internal",Na,"PRIVATE")),(0,N.registerVersion)(Oa,"0.9.10"),(0,N.registerVersion)(Oa,"0.9.10","esm2017")}();const kc="analytics",go="firebase_id",Vs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Gs="https://www.googletagmanager.com/gtag/js",ui=new ee.Yd("@firebase/analytics");function tc(U){return Promise.all(U.map(q=>q.catch(ae=>ae)))}function Wd(U,q){const ae=document.createElement("script");ae.src=`${Gs}?l=${U}&id=${q}`,ae.async=!0,document.head.appendChild(ae)}function ka(U,q,ae,He,mt,St){return nc.apply(this,arguments)}function nc(){return(nc=(0,w.Z)(function*(U,q,ae,He,mt,St){const un=He[mt];try{if(un)yield q[un];else{const mr=(yield tc(ae)).find(fr=>fr.measurementId===mt);mr&&(yield q[mr.appId])}}catch(On){ui.error(On)}U("config",mt,St)})).apply(this,arguments)}function ao(U,q,ae,He,mt){return So.apply(this,arguments)}function So(){return(So=(0,w.Z)(function*(U,q,ae,He,mt){try{let St=[];if(mt&&mt.send_to){let un=mt.send_to;Array.isArray(un)||(un=[un]);const On=yield tc(ae);for(const mr of un){const fr=On.find(wr=>wr.measurementId===mr),ai=fr&&q[fr.appId];if(!ai){St=[];break}St.push(ai)}}0===St.length&&(St=Object.values(q)),yield Promise.all(St),U("event",He,mt||{})}catch(St){ui.error(St)}})).apply(this,arguments)}function _u(){const U=window.document.getElementsByTagName("script");for(const q of Object.values(U))if(q.src&&q.src.includes(Gs))return q;return null}const di=new M.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Cr=new class Jn{constructor(q={},ae=1e3){this.throttleMetadata=q,this.intervalMillis=ae}getThrottleMetadata(q){return this.throttleMetadata[q]}setThrottleMetadata(q,ae){this.throttleMetadata[q]=ae}deleteThrottleMetadata(q){delete this.throttleMetadata[q]}};function sl(U){return new Headers({Accept:"application/json","x-goog-api-key":U})}function Nn(U){return Pt.apply(this,arguments)}function Pt(){return(Pt=(0,w.Z)(function*(U){var q;const{appId:ae,apiKey:He}=U,mt={method:"GET",headers:sl(He)},St=Vs.replace("{app-id}",ae),un=yield fetch(St,mt);if(200!==un.status&&304!==un.status){let On="";try{const mr=yield un.json();(null===(q=mr.error)||void 0===q?void 0:q.message)&&(On=mr.error.message)}catch(mr){}throw di.create("config-fetch-failed",{httpStatus:un.status,responseMessage:On})}return un.json()})).apply(this,arguments)}function rn(U){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,w.Z)(function*(U,q=Cr,ae){const{appId:He,apiKey:mt,measurementId:St}=U.options;if(!He)throw di.create("no-app-id");if(!mt){if(St)return{measurementId:St,appId:He};throw di.create("no-api-key")}const un=q.getThrottleMetadata(He)||{backoffCount:0,throttleEndTimeMillis:Date.now()},On=new Fl;return setTimeout((0,w.Z)(function*(){On.abort()}),void 0!==ae?ae:6e4),_i({appId:He,apiKey:mt,measurementId:St},un,On,q)})).apply(this,arguments)}function _i(U,q,ae){return ic.apply(this,arguments)}function ic(){return(ic=(0,w.Z)(function*(U,{throttleEndTimeMillis:q,backoffCount:ae},He,mt=Cr){const{appId:St,measurementId:un}=U;try{yield al(He,q)}catch(On){if(un)return ui.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${un} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:St,measurementId:un};throw On}try{const On=yield Nn(U);return mt.deleteThrottleMetadata(St),On}catch(On){if(!sd(On)){if(mt.deleteThrottleMetadata(St),un)return ui.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${un} provided in the "measurementId" field in the local Firebase config. [${On.message}]`),{appId:St,measurementId:un};throw On}const mr=503===Number(On.customData.httpStatus)?(0,M.$s)(ae,mt.intervalMillis,30):(0,M.$s)(ae,mt.intervalMillis),fr={throttleEndTimeMillis:Date.now()+mr,backoffCount:ae+1};return mt.setThrottleMetadata(St,fr),ui.debug(`Calling attemptFetch again in ${mr} millis`),_i(U,fr,He,mt)}})).apply(this,arguments)}function al(U,q){return new Promise((ae,He)=>{const mt=Math.max(q-Date.now(),0),St=setTimeout(ae,mt);U.addEventListener(()=>{clearTimeout(St),He(di.create("fetch-throttle",{throttleEndTimeMillis:q}))})})}function sd(U){if(!(U instanceof M.ZR&&U.customData))return!1;const q=Number(U.customData.httpStatus);return 429===q||500===q||503===q||504===q}class Fl{constructor(){this.listeners=[]}addEventListener(q){this.listeners.push(q)}abort(){this.listeners.forEach(q=>q())}}function k(){return I.apply(this,arguments)}function I(){return(I=(0,w.Z)(function*(){if(!(0,M.hl)())return ui.warn(di.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,M.eu)()}catch(U){return ui.warn(di.create("indexeddb-unavailable",{errorInfo:U}).message),!1}return!0})).apply(this,arguments)}function j(){return(j=(0,w.Z)(function*(U,q,ae,He,mt,St,un){var On;const mr=rn(U);mr.then(uo=>{ae[uo.measurementId]=uo.appId,U.options.measurementId&&uo.measurementId!==U.options.measurementId&&ui.warn(`The measurement ID in the local Firebase config (${U.options.measurementId}) does not match the measurement ID fetched from the server (${uo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(uo=>ui.error(uo)),q.push(mr);const fr=k().then(uo=>{if(uo)return He.getId()}),[ai,wr]=yield Promise.all([mr,fr]);_u()||Wd(St,ai.measurementId),mt("js",new Date);const Bo=null!==(On=null==un?void 0:un.config)&&void 0!==On?On:{};return Bo.origin="firebase",Bo.update=!0,null!=wr&&(Bo[go]=wr),mt("config",ai.measurementId,Bo),ai.measurementId})).apply(this,arguments)}class ${constructor(q){this.app=q}_delete(){return delete ue[this.app.options.appId],Promise.resolve()}}let ue={},Ue=[];const je={};let Rn,At,Nt="dataLayer",Rr=!1;function xi(U,q,ae){!function ei(){const U=[];if((0,M.ru)()&&U.push("This is a browser extension environment."),(0,M.zI)()||U.push("Cookies are not available."),U.length>0){const q=U.map((He,mt)=>`(${mt+1}) ${He}`).join(" "),ae=di.create("invalid-analytics-context",{errorInfo:q});ui.warn(ae.message)}}();const He=U.options.appId;if(!He)throw di.create("no-app-id");if(!U.options.apiKey){if(!U.options.measurementId)throw di.create("no-api-key");ui.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${U.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=ue[He])throw di.create("already-exists",{id:He});if(!Rr){!function Xo(U){let q=[];Array.isArray(window[U])?q=window[U]:window[U]=q}(Nt);const{wrappedGtag:St,gtagCore:un}=function Hs(U,q,ae,He,mt){let St=function(...un){window[He].push(arguments)};return window[mt]&&"function"==typeof window[mt]&&(St=window[mt]),window[mt]=function es(U,q,ae,He){function St(){return(St=(0,w.Z)(function*(un,On,mr){try{"event"===un?yield ao(U,q,ae,On,mr):"config"===un?yield ka(U,q,ae,He,On,mr):U("set",On)}catch(fr){ui.error(fr)}})).apply(this,arguments)}return function mt(un,On,mr){return St.apply(this,arguments)}}(St,U,q,ae),{gtagCore:St,wrappedGtag:window[mt]}}(ue,Ue,je,Nt,"gtag");At=St,Rn=un,Rr=!0}return ue[He]=function S(U,q,ae,He,mt,St,un){return j.apply(this,arguments)}(U,Ue,je,q,Rn,Nt,ae),new $(U)}function La(){return(La=(0,w.Z)(function*(U,q,ae,He,mt){if(mt&&mt.global)U("event",ae,He);else{const St=yield q;U("event",ae,Object.assign(Object.assign({},He),{send_to:St}))}})).apply(this,arguments)}function xo(){return Ul.apply(this,arguments)}function Ul(){return(Ul=(0,w.Z)(function*(){if((0,M.ru)()||!(0,M.zI)()||!(0,M.hl)())return!1;try{return yield(0,M.eu)()}catch(U){return!1}})).apply(this,arguments)}const Ao="@firebase/analytics";!function Fa(){(0,N._registerComponent)(new G.wA(kc,(q,{options:ae})=>xi(q.getProvider("app").getImmediate(),q.getProvider("installations-internal").getImmediate(),ae),"PUBLIC")),(0,N._registerComponent)(new G.wA("analytics-internal",function U(q){try{const ae=q.getProvider(kc).getImmediate();return{logEvent:(He,mt,St)=>function Ln(U,q,ae,He){U=(0,M.m9)(U),function lr(U,q,ae,He,mt){return La.apply(this,arguments)}(At,ue[U.app.options.appId],q,ae,He).catch(mt=>ui.error(mt))}(ae,He,mt,St)}}catch(ae){throw di.create("interop-component-reg-failed",{reason:ae})}},"PRIVATE")),(0,N.registerVersion)(Ao,"0.7.6"),(0,N.registerVersion)(Ao,"0.7.6","esm2017")}();var bi=A(4408),Fc=A(7565);const ba=new class Mi extends Fc.v{}(class ya extends bi.o{constructor(q,ae){super(q,ae),this.scheduler=q,this.work=ae}schedule(q,ae=0){return ae>0?super.schedule(q,ae):(this.delay=ae,this.state=q,this.scheduler.flush(this),this)}execute(q,ae){return ae>0||this.closed?super.execute(q,ae):this._execute(q,ae)}requestAsyncId(q,ae,He=0){return null!=He&&He>0||null==He&&this.delay>0?super.requestAsyncId(q,ae,He):q.flush(this)}});var Uc=A(4986),jl=A(8306),co=A(8505),ta=A(9468),ll=A(5363);const Ca=new p.GfV("7.2.1"),Zs="__angularfire_symbol__analyticsIsSupportedValue",yu="__angularfire_symbol__analyticsIsSupported",ul="__angularfire_symbol__remoteConfigIsSupportedValue",cd="__angularfire_symbol__remoteConfigIsSupported",lo="__angularfire_symbol__messagingIsSupportedValue",jc="__angularfire_symbol__messagingIsSupported";function ld(U,q,ae){if(q){if(1===q.length)return q[0];const St=q.filter(un=>un.app===ae);if(1===St.length)return St[0]}return ae.container.getProvider(U).getImmediate({optional:!0})}globalThis[yu]||(globalThis[yu]=xo().then(U=>globalThis[Zs]=U).catch(()=>globalThis[Zs]=!1)),globalThis[jc]||(globalThis[jc]=_c().then(U=>globalThis[lo]=U).catch(()=>globalThis[lo]=!1)),globalThis[cd]||(globalThis[cd]=Ce().then(U=>globalThis[ul]=U).catch(()=>globalThis[ul]=!1));const dl=(U,q)=>{const ae=q?[q]:(0,e.C6)(),He=[];return ae.forEach(mt=>{mt.container.getProvider(U).instances.forEach(un=>{He.includes(un)||He.push(un)})}),He};function oc(){}class Vl{constructor(q,ae=ba){this.zone=q,this.delegate=ae}now(){return this.delegate.now()}schedule(q,ae,He){const mt=this.zone;return this.delegate.schedule(function(un){mt.runGuarded(()=>{q.apply(this,[un])})},ae,He)}}class Kd{constructor(q){this.zone=q,this.task=null}call(q,ae){const He=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)),ae.pipe((0,co.b)({next:He,complete:He,error:He})).subscribe(q).add(He)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Ba=(()=>{class U{constructor(ae){this.ngZone=ae,this.outsideAngular=ae.runOutsideAngular(()=>new Vl(Zone.current)),this.insideAngular=ae.run(()=>new Vl(Zone.current,Uc.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return U.\u0275fac=function(ae){return new(ae||U)(p.LFG(p.R0b))},U.\u0275prov=p.Yz7({token:U,factory:U.\u0275fac,providedIn:"root"}),U})();function sc(){const U=globalThis.\u0275AngularFireScheduler;if(!U)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return U}function wa(U){return sc().ngZone.runOutsideAngular(()=>U())}function bo(U){return sc().ngZone.run(()=>U())}function Gc(U){return sc(),function bu(U){return function(ae){return(ae=ae.lift(new Kd(U.ngZone))).pipe((0,ta.R)(U.outsideAngular),(0,ll.Q)(U.insideAngular))}}(sc())(U)}const ds=(U,q)=>function(){const He=arguments;return q&&setTimeout(()=>{"scheduled"===q.state&&q.invoke()},10),bo(()=>U.apply(void 0,He))},Ta=(U,q)=>function(){let ae;const He=arguments;for(let St=0;St<arguments.length;St++)"function"==typeof He[St]&&(q&&(ae||(ae=bo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",oc,{},oc,oc)))),He[St]=ds(He[St],ae));const mt=wa(()=>U.apply(this,He));if(!q){if(mt instanceof jl.y){const St=sc();return mt.pipe((0,ta.R)(St.outsideAngular),(0,ll.Q)(St.insideAngular))}return bo(()=>mt)}return mt instanceof jl.y?mt.pipe(Gc):mt instanceof Promise?bo(()=>new Promise((St,un)=>mt.then(On=>bo(()=>St(On)),On=>bo(()=>un(On))))):"function"==typeof mt&&ae?function(){return setTimeout(()=>{ae&&"scheduled"===ae.state&&ae.invoke()},10),mt.apply(this,arguments)}:bo(()=>mt)}},896:pt=>{window,pt.exports=function(D){var A={};function p(e){if(A[e])return A[e].exports;var w=A[e]={i:e,l:!1,exports:{}};return D[e].call(w.exports,w,w.exports,p),w.l=!0,w.exports}return p.m=D,p.c=A,p.d=function(e,w,N){p.o(e,w)||Object.defineProperty(e,w,{enumerable:!0,get:N})},p.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},p.t=function(e,w){if(1&w&&(e=p(e)),8&w||4&w&&"object"==typeof e&&e&&e.__esModule)return e;var N=Object.create(null);if(p.r(N),Object.defineProperty(N,"default",{enumerable:!0,value:e}),2&w&&"string"!=typeof e)for(var M in e)p.d(N,M,function(G){return e[G]}.bind(null,M));return N},p.n=function(e){var w=e&&e.__esModule?function(){return e.default}:function(){return e};return p.d(w,"a",w),w},p.o=function(e,w){return Object.prototype.hasOwnProperty.call(e,w)},p.p="/",p(p.s=89)}([function(D,A){D.exports=function(p,e,w){return e in p?Object.defineProperty(p,e,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[e]=w,p},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p){if(void 0===p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){function p(e){return D.exports=p=Object.setPrototypeOf?Object.getPrototypeOf:function(w){return w.__proto__||Object.getPrototypeOf(w)},D.exports.__esModule=!0,D.exports.default=D.exports,p(e)}D.exports=p,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p,e){if(!(p instanceof e))throw new TypeError("Cannot call a class as a function")},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){function p(e,w){for(var N=0;N<w.length;N++){var M=w[N];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(e,M.key,M)}}D.exports=function(e,w,N){return w&&p(e.prototype,w),N&&p(e,N),Object.defineProperty(e,"prototype",{writable:!1}),e},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(20).default,w=p(1);D.exports=function(N,M){if(M&&("object"===e(M)||"function"==typeof M))return M;if(void 0!==M)throw new TypeError("Derived constructors may only return object or undefined");return w(N)},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(41);D.exports=function(w,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(N&&N.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),N&&e(w,N)},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){D.exports={EPSILON:p(62),create:p(63),clone:p(156),fromValues:p(157),copy:p(158),set:p(159),equals:p(160),exactEquals:p(161),add:p(162),subtract:p(64),sub:p(163),multiply:p(65),mul:p(164),divide:p(66),div:p(165),inverse:p(166),min:p(167),max:p(168),rotate:p(169),floor:p(170),ceil:p(171),round:p(172),scale:p(173),scaleAndAdd:p(174),distance:p(67),dist:p(175),squaredDistance:p(68),sqrDist:p(176),length:p(69),len:p(177),squaredLength:p(70),sqrLen:p(178),negate:p(179),normalize:p(180),dot:p(181),cross:p(182),lerp:p(183),random:p(184),transformMat2:p(185),transformMat2d:p(186),transformMat3:p(187),transformMat4:p(188),forEach:p(189),limit:p(190)}},function(D,A,p){D.exports=p(224)},function(D,A,p){"use strict";A.a={init:function(e,w){for(var N=e.length;N--;)e[N]=w},shuffle:function(e){for(var w=e.length-1;w>=0;w--){var N=Math.floor(Math.random()*w),M=e[w];e[w]=e[N],e[N]=M}return e},toPointList:function(e){var w=e.reduce(function(N,M){var G="[".concat(M.join(","),"]");return N.push(G),N},[]);return"[".concat(w.join(",\r\n"),"]")},threshold:function(e,w,N){return e.reduce(function(M,G){return N.apply(e,[G])>=w&&M.push(G),M},[])},maxIndex:function(e){for(var w=0,N=0;N<e.length;N++)e[N]>e[w]&&(w=N);return w},max:function(e){for(var w=0,N=0;N<e.length;N++)e[N]>w&&(w=e[N]);return w},sum:function(e){for(var w=e.length,N=0;w--;)N+=e[w];return N}}},function(D,A,p){"use strict";p.d(A,"h",function(){return K}),p.d(A,"i",function(){return ge}),p.d(A,"b",function(){return dt}),p.d(A,"j",function(){return Xe}),p.d(A,"e",function(){return Je}),p.d(A,"c",function(){return vt}),p.d(A,"f",function(){return _e}),p.d(A,"g",function(){return Ge}),p.d(A,"a",function(){return _t}),p.d(A,"d",function(){return rt});var e=p(7),w=p(84),N={clone:e.clone,dot:e.dot},M=function(Ae,it){var Ze=[],ft={rad:0,vec:N.clone([0,0])},ve={};function me(we){ve[we.id]=we,Ze.push(we)}function oe(){var we,qe=0;for(we=0;we<Ze.length;we++)qe+=Ze[we].rad;ft.rad=qe/Ze.length,ft.vec=N.clone([Math.cos(ft.rad),Math.sin(ft.rad)])}return me(Ae),oe(),{add:function(we){ve[we.id]||(me(we),oe())},fits:function(we){return Math.abs(N.dot(we.point.vec,ft.vec))>it},getPoints:function(){return Ze},getCenter:function(){return ft}}},G=function(Ae,it,Ze){return{rad:Ae[Ze],point:Ae,id:it}},ee=p(9),Y={clone:e.clone},Q={clone:w.clone};function K(Ae,it){return{x:Ae,y:it,toVec2:function(){return Y.clone([this.x,this.y])},toVec3:function(){return Q.clone([this.x,this.y,1])},round:function(){return this.x=this.x>0?Math.floor(this.x+.5):Math.floor(this.x-.5),this.y=this.y>0?Math.floor(this.y+.5):Math.floor(this.y-.5),this}}}function ie(Ae,it){it||(it=8);for(var Ze=Ae.data,ft=Ze.length,ve=8-it,me=new Int32Array(1<<it);ft--;)me[Ze[ft]>>ve]++;return me}function ge(Ae,it){var Ze=function(ft){var ve,me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,oe=8-me;function we(Ft,Sn){for(var Rt=0,Et=Ft;Et<=Sn;Et++)Rt+=ve[Et];return Rt}function qe(Ft,Sn){for(var Rt=0,Et=Ft;Et<=Sn;Et++)Rt+=Et*ve[Et];return Rt}function Ee(){var Ft,Sn,Rt,Et,Ht=[0],yn=(1<<me)-1;ve=ie(ft,me);for(var rr=1;rr<yn;rr++)0==(Rt=(Ft=we(0,rr))*(Sn=we(rr+1,yn)))&&(Rt=1),Et=qe(0,rr)*Sn-qe(rr+1,yn)*Ft,Ht[rr]=Et*Et/Rt;return ee.a.maxIndex(Ht)}return Ee()<<oe}(Ae);return function(ft,ve,me){me||(me=ft);for(var oe=ft.data,we=oe.length,qe=me.data;we--;)qe[we]=oe[we]<ve?1:0}(Ae,Ze,it),Ze}function dt(Ae,it,Ze){var ft,ve,me,oe,we=[];function qe(Ee){var It=!1;for(ve=0;ve<we.length;ve++)(me=we[ve]).fits(Ee)&&(me.add(Ee),It=!0);return It}for(Ze||(Ze="rad"),ft=0;ft<Ae.length;ft++)qe(oe=G(Ae[ft],ft,Ze))||we.push(M(oe,it));return we}function Xe(Ae,it,Ze){var ft,ve,me,oe,we=0,qe=0,Ee=[];for(ft=0;ft<it;ft++)Ee[ft]={score:0,item:null};for(ft=0;ft<Ae.length;ft++)if((ve=Ze.apply(this,[Ae[ft]]))>qe)for((me=Ee[we]).score=ve,me.item=Ae[ft],qe=Number.MAX_VALUE,oe=0;oe<it;oe++)Ee[oe].score<qe&&(qe=Ee[oe].score,we=oe);return Ee}function Je(Ae,it,Ze){for(var ft,ve=0,me=it.x,oe=Math.floor(Ae.length/4),we=it.x/2,qe=0,Ee=it.x;me<oe;){for(ft=0;ft<we;ft++)Ze[qe]=(.299*Ae[4*ve+0]+.587*Ae[4*ve+1]+.114*Ae[4*ve+2]+(.299*Ae[4*(ve+1)+0]+.587*Ae[4*(ve+1)+1]+.114*Ae[4*(ve+1)+2])+(.299*Ae[4*me+0]+.587*Ae[4*me+1]+.114*Ae[4*me+2])+(.299*Ae[4*(me+1)+0]+.587*Ae[4*(me+1)+1]+.114*Ae[4*(me+1)+2]))/4,qe++,ve+=2,me+=2;ve+=Ee,me+=Ee}}function vt(Ae,it,Ze){var ft=Ae.length/4|0;if(Ze&&!0===Ze.singleChannel)for(var ve=0;ve<ft;ve++)it[ve]=Ae[4*ve+0];else for(var me=0;me<ft;me++)it[me]=.299*Ae[4*me+0]+.587*Ae[4*me+1]+.114*Ae[4*me+2]}function _e(Ae,it){for(var Ze=Ae.data,ft=Ae.size.x,ve=it.data,me=0,oe=ft,we=Ze.length,qe=ft/2,Ee=0;oe<we;){for(var It=0;It<qe;It++)ve[Ee]=Math.floor((Ze[me]+Ze[me+1]+Ze[oe]+Ze[oe+1])/4),Ee++,me+=2,oe+=2;me+=ft,oe+=ft}}function Ge(Ae){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0,0,0],Ze=Ae[0],ve=Ae[2],me=ve*Ae[1],oe=me*(1-Math.abs(Ze/60%2-1)),we=ve-me,qe=0,Ee=0,It=0;return Ze<60?(qe=me,Ee=oe):Ze<120?(qe=oe,Ee=me):Ze<180?(Ee=me,It=oe):Ze<240?(Ee=oe,It=me):Ze<300?(qe=oe,It=me):Ze<360&&(qe=me,It=oe),it[0]=255*(qe+we)|0,it[1]=255*(Ee+we)|0,it[2]=255*(It+we)|0,it}function ke(Ae){for(var it=[],Ze=[],ft=1;ft<Math.sqrt(Ae)+1;ft++)Ae%ft==0&&(Ze.push(ft),ft!==Ae/ft&&it.unshift(Math.floor(Ae/ft)));return Ze.concat(it)}function _t(Ae,it){var Ze,ft=ke(it.x),ve=ke(it.y),me=Math.max(it.x,it.y),oe=function(Rt,Et){for(var Ht=0,yn=0,rr=[];Ht<Rt.length&&yn<Et.length;)Rt[Ht]===Et[yn]?(rr.push(Rt[Ht]),Ht++,yn++):Rt[Ht]>Et[yn]?yn++:Ht++;return rr}(ft,ve),we=[8,10,15,20,32,60,80],qe={"x-small":5,small:4,medium:3,large:2,"x-large":1},Ee=qe[Ae]||qe.medium,It=we[Ee],Ft=Math.floor(me/It);function Sn(Rt){for(var Et=0,Ht=Rt[Math.floor(Rt.length/2)];Et<Rt.length-1&&Rt[Et]<Ft;)Et++;return Et>0&&(Ht=Math.abs(Rt[Et]-Ft)>Math.abs(Rt[Et-1]-Ft)?Rt[Et-1]:Rt[Et]),Ft/Ht<we[Ee+1]/we[Ee]&&Ft/Ht>we[Ee-1]/we[Ee]?{x:Ht,y:Ht}:null}return(Ze=Sn(oe))||(Ze=Sn(ke(me)))||(Ze=Sn(ke(Ft*It))),Ze}var Ke={top:function(Ae,it){return"%"===Ae.unit?Math.floor(it.height*(Ae.value/100)):null},right:function(Ae,it){return"%"===Ae.unit?Math.floor(it.width-it.width*(Ae.value/100)):null},bottom:function(Ae,it){return"%"===Ae.unit?Math.floor(it.height-it.height*(Ae.value/100)):null},left:function(Ae,it){return"%"===Ae.unit?Math.floor(it.width*(Ae.value/100)):null}};function rt(Ae,it,Ze){var ft={width:Ae,height:it},ve=Object.keys(Ze).reduce(function(me,oe){var Ee,we=(Ee=Ze[oe],{value:parseFloat(Ee),unit:(Ee.indexOf("%"),"%")}),qe=Ke[oe](we,ft);return me[oe]=qe,me},{});return{sx:ve.left,sy:ve.top,sw:ve.right-ve.left,sh:ve.bottom-ve.top}}},function(D,A,p){"use strict";var e=p(83),w=p.n(e),N=p(3),M=p.n(N),G=p(4),ee=p.n(G),Y=p(0),Q=p.n(Y),K=p(7),ie=p(10),ge=p(9),dt={clone:K.clone};function Xe(vt){if(vt<0)throw new Error("expected positive number, received ".concat(vt))}var Je=function(){function vt(_e,Ge){var ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uint8Array,_t=arguments.length>3?arguments[3]:void 0;M()(this,vt),Q()(this,"data",void 0),Q()(this,"size",void 0),Q()(this,"indexMapping",void 0),Ge?this.data=Ge:(this.data=new ke(_e.x*_e.y),_t&&ge.a.init(this.data,0)),this.size=_e}return ee()(vt,[{key:"inImageWithBorder",value:function(_e){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Xe(Ge),_e.x>=0&&_e.y>=0&&_e.x<this.size.x+2*Ge&&_e.y<this.size.y+2*Ge}},{key:"subImageAsCopy",value:function(_e,Ge){Xe(Ge.x),Xe(Ge.y);for(var ke=_e.size,_t=ke.x,Ke=ke.y,rt=0;rt<_t;rt++)for(var Ae=0;Ae<Ke;Ae++)_e.data[Ae*_t+rt]=this.data[(Ge.y+Ae)*this.size.x+Ge.x+rt];return _e}},{key:"get",value:function(_e,Ge){return this.data[Ge*this.size.x+_e]}},{key:"getSafe",value:function(_e,Ge){if(!this.indexMapping){this.indexMapping={x:[],y:[]};for(var ke=0;ke<this.size.x;ke++)this.indexMapping.x[ke]=ke,this.indexMapping.x[ke+this.size.x]=ke;for(var _t=0;_t<this.size.y;_t++)this.indexMapping.y[_t]=_t,this.indexMapping.y[_t+this.size.y]=_t}return this.data[this.indexMapping.y[Ge+this.size.y]*this.size.x+this.indexMapping.x[_e+this.size.x]]}},{key:"set",value:function(_e,Ge,ke){return this.data[Ge*this.size.x+_e]=ke,delete this.indexMapping,this}},{key:"zeroBorder",value:function(){for(var _e=this.size,Ge=_e.x,ke=_e.y,_t=0;_t<Ge;_t++)this.data[_t]=this.data[(ke-1)*Ge+_t]=0;for(var Ke=1;Ke<ke-1;Ke++)this.data[Ke*Ge]=this.data[Ke*Ge+(Ge-1)]=0;return delete this.indexMapping,this}},{key:"moments",value:function(_e){var Ge,ke,_t,Ke,rt,Ae,it,Ze,ft,ve,me=this.data,oe=this.size.y,we=this.size.x,qe=[],Ee=[],It=Math.PI,Ft=It/4;if(_e<=0)return Ee;for(rt=0;rt<_e;rt++)qe[rt]={m00:0,m01:0,m10:0,m11:0,m02:0,m20:0,theta:0,rad:0};for(ke=0;ke<oe;ke++)for(Ke=ke*ke,Ge=0;Ge<we;Ge++)(_t=me[ke*we+Ge])>0&&((Ae=qe[_t-1]).m00+=1,Ae.m01+=ke,Ae.m10+=Ge,Ae.m11+=Ge*ke,Ae.m02+=Ke,Ae.m20+=Ge*Ge);for(rt=0;rt<_e;rt++)Ae=qe[rt],isNaN(Ae.m00)||0===Ae.m00||(ve=(Ae.m02/Ae.m00-(ft=Ae.m01/Ae.m00)*ft-(Ae.m20/Ae.m00-(Ze=Ae.m10/Ae.m00)*Ze))/(2*(it=Ae.m11/Ae.m00-Ze*ft)),ve=.5*Math.atan(ve)+(it>=0?Ft:-Ft)+It,Ae.theta=(180*ve/It+90)%180-90,Ae.theta<0&&(Ae.theta+=180),Ae.rad=ve>It?ve-It:ve,Ae.vec=dt.clone([Math.cos(ve),Math.sin(ve)]),Ee.push(Ae));return Ee}},{key:"getAsRGBA",value:function(){for(var _e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,Ge=new Uint8ClampedArray(4*this.size.x*this.size.y),ke=0;ke<this.size.y;ke++)for(var _t=0;_t<this.size.x;_t++){var Ke=ke*this.size.x+_t,rt=this.get(_t,ke)*_e;Ge[4*Ke+0]=rt,Ge[4*Ke+1]=rt,Ge[4*Ke+2]=rt,Ge[4*Ke+3]=255}return Ge}},{key:"show",value:function(_e){var Ge=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,ke=_e.getContext("2d");if(!ke)throw new Error("Unable to get canvas context");var _t=ke.getImageData(0,0,_e.width,_e.height),Ke=this.getAsRGBA(Ge);_e.width=this.size.x,_e.height=this.size.y;var rt=new ImageData(Ke,_t.width,_t.height);ke.putImageData(rt,0,0)}},{key:"overlay",value:function(_e,Ge,ke){var _t=Ge<0||Ge>360?360:Ge,Ke=[0,1,1],rt=[0,0,0],Ae=[255,255,255],it=[0,0,0],Ze=_e.getContext("2d");if(!Ze)throw new Error("Unable to get canvas context");for(var ft=Ze.getImageData(ke.x,ke.y,this.size.x,this.size.y),ve=ft.data,me=this.data.length;me--;){Ke[0]=this.data[me]*_t;var oe=4*me,we=Ke[0]<=0?Ae:Ke[0]>=360?it:Object(ie.g)(Ke,rt),qe=w()(we,3);ve[oe]=qe[0],ve[oe+1]=qe[1],ve[oe+2]=qe[2],ve[oe+3]=255}Ze.putImageData(ft,ke.x,ke.y)}}]),vt}();A.a=Je},function(D,A){function p(e,w,N,M,G,ee,Y){try{var Q=e[ee](Y),K=Q.value}catch(ie){return void N(ie)}Q.done?w(K):Promise.resolve(K).then(M,G)}D.exports=function(e){return function(){var w=this,N=arguments;return new Promise(function(M,G){var ee=e.apply(w,N);function Y(K){p(ee,M,G,Y,Q,"next",K)}function Q(K){p(ee,M,G,Y,Q,"throw",K)}Y(void 0)})}},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(225);function w(){return"undefined"!=typeof Reflect&&Reflect.get?(D.exports=w=Reflect.get,D.exports.__esModule=!0,D.exports.default=D.exports):(D.exports=w=function(N,M,G){var ee=e(N,M);if(ee){var Y=Object.getOwnPropertyDescriptor(ee,M);return Y.get?Y.get.call(arguments.length<3?N:G):Y.value}},D.exports.__esModule=!0,D.exports.default=D.exports),w.apply(this,arguments)}D.exports=w,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p){var e=typeof p;return null!=p&&("object"==e||"function"==e)}},function(D,A){D.exports=Array.isArray},function(D,A,p){"use strict";A.a={drawRect:function(e,w,N,M){N.strokeStyle=M.color,N.fillStyle=M.color,N.lineWidth=M.lineWidth||1,N.beginPath(),N.strokeRect(e.x,e.y,w.x,w.y)},drawPath:function(e,w,N,M){N.strokeStyle=M.color,N.fillStyle=M.color,N.lineWidth=M.lineWidth,N.beginPath(),N.moveTo(e[0][w.x],e[0][w.y]);for(var G=1;G<e.length;G++)N.lineTo(e[G][w.x],e[G][w.y]);N.closePath(),N.stroke()},drawImage:function(e,w,N){var M=N.getImageData(0,0,w.x,w.y),G=M.data,ee=G.length,Y=e.length;if(ee/Y!=4)return!1;for(;Y--;){var Q=e[Y];G[--ee]=255,G[--ee]=Q,G[--ee]=Q,G[--ee]=Q}return N.putImageData(M,0,0),!0}}},function(D,A,p){var e=p(90),w=p(145)(function(N,M,G){e(N,M,G)});D.exports=w},function(D,A,p){var e=p(45),w="object"==typeof self&&self&&self.Object===Object&&self,N=e||w||Function("return this")();D.exports=N},function(D,A){D.exports=function(p){return null!=p&&"object"==typeof p}},function(D,A){function p(e){return D.exports=p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(w){return typeof w}:function(w){return w&&"function"==typeof Symbol&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},D.exports.__esModule=!0,D.exports.default=D.exports,p(e)}D.exports=p,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){"use strict";A.a={searchDirections:[[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1],[-1,0],[-1,1]],create:function(e,w){var N,M=e.data,G=w.data,ee=this.searchDirections,Y=e.size.x;function Q(ie,ge,dt,Xe){var Je,vt,_e;for(Je=0;Je<7;Je++){if(M[N=(vt=ie.cy+ee[ie.dir][0])*Y+(_e=ie.cx+ee[ie.dir][1])]===ge&&(0===G[N]||G[N]===dt))return G[N]=dt,ie.cy=vt,ie.cx=_e,!0;0===G[N]&&(G[N]=Xe),ie.dir=(ie.dir+1)%8}return!1}function K(ie,ge,dt){return{dir:dt,x:ie,y:ge,next:null,prev:null}}return{trace:function(ie,ge,dt,Xe){return Q(ie,ge,dt,Xe)},contourTracing:function(ie,ge,dt,Xe,Je){return function(vt,_e,Ge,ke,_t){var Ke,rt,Ae,it=null,Ze={cx:_e,cy:vt,dir:0};if(Q(Ze,ke,Ge,_t)){Ke=it=K(_e,vt,Ze.dir),Ae=Ze.dir,(rt=K(Ze.cx,Ze.cy,0)).prev=Ke,Ke.next=rt,rt.next=null,Ke=rt;do{Ze.dir=(Ze.dir+6)%8,Q(Ze,ke,Ge,_t),Ae!==Ze.dir?(Ke.dir=Ze.dir,(rt=K(Ze.cx,Ze.cy,0)).prev=Ke,Ke.next=rt,rt.next=null,Ke=rt):(Ke.dir=Ae,Ke.x=Ze.cx,Ke.y=Ze.cy),Ae=Ze.dir}while(Ze.cx!==_e||Ze.cy!==vt);it.prev=Ke.prev,Ke.prev.next=it}return it}(ie,ge,dt,Xe,Je)}}}}},function(D,A,p){var e=p(27),w=p(103),N=p(104),M=e?e.toStringTag:void 0;D.exports=function(G){return null==G?void 0===G?"[object Undefined]":"[object Null]":M&&M in Object(G)?w(G):N(G)}},function(D,A,p){"use strict";(function(e){var w,N,M,G,ee,Y,Q,K,ie,ge,dt,Xe,Je=p(7),vt=p(34),_e=p(11),Ge=p(10),ke=p(9),_t=(p(16),p(87)),Ke=p(21),rt=p(88),Ae={ctx:{binary:null},dom:{binary:null}},it={x:0,y:0};function Ze(me){var oe,we,qe,Ee,It,Ft,Sn,Rt=ie.size.x,Et=ie.size.y,Ht=-ie.size.x,yn=-ie.size.y;for(oe=0,we=0;we<me.length;we++)oe+=(Ee=me[we]).rad;for((oe=(180*(oe/=me.length)/Math.PI+90)%180-90)<0&&(oe+=180),oe=(180-oe)*Math.PI/180,It=vt.copy(vt.create(),[Math.cos(oe),Math.sin(oe),-Math.sin(oe),Math.cos(oe)]),we=0;we<me.length;we++)for(Ee=me[we],qe=0;qe<4;qe++)Je.transformMat2(Ee.box[qe],Ee.box[qe],It);for(we=0;we<me.length;we++)for(Ee=me[we],qe=0;qe<4;qe++)Ee.box[qe][0]<Rt&&(Rt=Ee.box[qe][0]),Ee.box[qe][0]>Ht&&(Ht=Ee.box[qe][0]),Ee.box[qe][1]<Et&&(Et=Ee.box[qe][1]),Ee.box[qe][1]>yn&&(yn=Ee.box[qe][1]);for(Ft=[[Rt,Et],[Ht,Et],[Ht,yn],[Rt,yn]],Sn=w.halfSample?2:1,It=vt.invert(It,It),qe=0;qe<4;qe++)Je.transformMat2(Ft[qe],Ft[qe],It);for(qe=0;qe<4;qe++)Je.scale(Ft[qe],Ft[qe],Sn);return Ft}function ft(me,oe){ie.subImageAsCopy(G,Object(Ge.h)(me,oe)),Xe.skeletonize()}function ve(me,oe,we,qe){var Ee,It,Ft,Sn,Rt=[],Et=[],Ht=Math.ceil(ge.x/3);if(me.length>=2){for(Ee=0;Ee<me.length;Ee++)me[Ee].m00>Ht&&Rt.push(me[Ee]);if(Rt.length>=2){for(Ft=function(yn){var rr=Object(Ge.b)(yn,.9),$n=Object(Ge.j)(rr,1,function(ni){return ni.getPoints().length}),Dr=[],br=[];if(1===$n.length){Dr=$n[0].item.getPoints();for(var vr=0;vr<Dr.length;vr++)br.push(Dr[vr].point)}return br}(Rt),It=0,Ee=0;Ee<Ft.length;Ee++)It+=Ft[Ee].rad;Ft.length>1&&Ft.length>=Rt.length/4*3&&Ft.length>me.length/4&&(It/=Ft.length,Sn={index:oe[1]*it.x+oe[0],pos:{x:we,y:qe},box:[Je.clone([we,qe]),Je.clone([we+G.size.x,qe]),Je.clone([we+G.size.x,qe+G.size.y]),Je.clone([we,qe+G.size.y])],moments:Ft,rad:It,vec:Je.clone([Math.cos(It),Math.sin(It)])},Et.push(Sn))}}return Et}A.a={init:function(me,oe){w=oe,dt=me,function(){N=w.halfSample?new _e.a({x:dt.size.x/2|0,y:dt.size.y/2|0}):dt,ge=Object(Ge.a)(w.patchSize,N.size),it.x=N.size.x/ge.x|0,it.y=N.size.y/ge.y|0,ie=new _e.a(N.size,void 0,Uint8Array,!1),ee=new _e.a(ge,void 0,Array,!0);var we=new ArrayBuffer(65536);G=new _e.a(ge,new Uint8Array(we,0,ge.x*ge.y)),M=new _e.a(ge,new Uint8Array(we,ge.x*ge.y*3,ge.x*ge.y),void 0,!0),Xe=Object(rt.a)("undefined"!=typeof window?window:"undefined"!=typeof self?self:e,{size:ge.x},we),K=new _e.a({x:N.size.x/G.size.x|0,y:N.size.y/G.size.y|0},void 0,Array,!0),Y=new _e.a(K.size,void 0,void 0,!0),Q=new _e.a(K.size,void 0,Int32Array,!0)}(),w.useWorker||"undefined"==typeof document||(Ae.dom.binary=document.createElement("canvas"),Ae.dom.binary.className="binaryBuffer",Ae.ctx.binary=Ae.dom.binary.getContext("2d"),Ae.dom.binary.width=ie.size.x,Ae.dom.binary.height=ie.size.y)},locate:function(){w.halfSample&&Object(Ge.f)(dt,N),Object(Ge.i)(N,ie),ie.zeroBorder();var me=function(){var qe,Ee,It,Ft,Sn,Rt,Et=[];for(qe=0;qe<it.x;qe++)for(Ee=0;Ee<it.y;Ee++)ft(It=G.size.x*qe,Ft=G.size.y*Ee),M.zeroBorder(),ke.a.init(ee.data,0),Rt=_t.a.create(M,ee).rasterize(0),Sn=ee.moments(Rt.count),Et=Et.concat(ve(Sn,[qe,Ee],It,Ft));return Et}();if(me.length<it.x*it.y*.05)return null;var oe=function(qe){var Ee,It,Ft=0,Sn=0;function Rt(){var Ht;for(Ht=0;Ht<Q.data.length;Ht++)if(0===Q.data[Ht]&&1===Y.data[Ht])return Ht;return Q.length}function Et(Ht){var $n,Dr,br,vr=Ht%Q.size.x,ni=Ht/Q.size.x|0;if(Ht<Q.data.length)for($n=K.data[Ht],Q.data[Ht]=Ft,br=0;br<Ke.a.searchDirections.length;br++)0!==Y.data[Dr=(ni+Ke.a.searchDirections[br][0])*Q.size.x+(vr+Ke.a.searchDirections[br][1])]?0===Q.data[Dr]&&Math.abs(Je.dot(K.data[Dr].vec,$n.vec))>.95&&Et(Dr):Q.data[Dr]=Number.MAX_VALUE}for(ke.a.init(Y.data,0),ke.a.init(Q.data,0),ke.a.init(K.data,null),Ee=0;Ee<qe.length;Ee++)K.data[(It=qe[Ee]).index]=It,Y.data[It.index]=1;for(Y.zeroBorder();(Sn=Rt())<Q.data.length;)Ft++,Et(Sn);return Ft}(me);if(oe<1)return null;var we=function(qe){var Ee,It,Ft=[];for(Ee=0;Ee<qe;Ee++)Ft.push(0);for(It=Q.data.length;It--;)Q.data[It]>0&&Ft[Q.data[It]-1]++;return(Ft=Ft.map(function(Sn,Rt){return{val:Sn,label:Rt+1}})).sort(function(Sn,Rt){return Rt.val-Sn.val}),Ft.filter(function(Sn){return Sn.val>=5})}(oe);return 0===we.length?null:function(qe,Ee){var It,Ft,Rt,Et=[],Ht=[];for(It=0;It<qe.length;It++){for(Ft=Q.data.length,Et.length=0;Ft--;)Q.data[Ft]===qe[It].label&&Et.push(K.data[Ft]);(Rt=Ze(Et))&&Ht.push(Rt)}return Ht}(we)},checkImageConstraints:function(me,oe){var we,qe,Ee=me.getWidth(),It=me.getHeight(),Ft=oe.halfSample?.5:1;me.getConfig().area&&(qe=Object(Ge.d)(Ee,It,me.getConfig().area),me.setTopRight({x:qe.sx,y:qe.sy}),me.setCanvasSize({x:Ee,y:It}),Ee=qe.sw,It=qe.sh);var Sn={x:Math.floor(Ee*Ft),y:Math.floor(It*Ft)};if(we=Object(Ge.a)(oe.patchSize,Sn),me.setWidth(Math.floor(Math.floor(Sn.x/we.x)*(1/Ft)*we.x)),me.setHeight(Math.floor(Math.floor(Sn.y/we.y)*(1/Ft)*we.y)),me.getWidth()%we.x==0&&me.getHeight()%we.y==0)return!0;throw new Error("Image dimensions do not comply with the current settings: Width (".concat(Ee," )and height (").concat(It,") must a multiple of ").concat(we.x))}}}).call(this,p(46))},function(D,A,p){var e=p(92),w=p(93),N=p(94),M=p(95),G=p(96);function ee(Y){var Q=-1,K=null==Y?0:Y.length;for(this.clear();++Q<K;){var ie=Y[Q];this.set(ie[0],ie[1])}}ee.prototype.clear=e,ee.prototype.delete=w,ee.prototype.get=N,ee.prototype.has=M,ee.prototype.set=G,D.exports=ee},function(D,A,p){var e=p(26);D.exports=function(w,N){for(var M=w.length;M--;)if(e(w[M][0],N))return M;return-1}},function(D,A){D.exports=function(p,e){return p===e||p!=p&&e!=e}},function(D,A,p){var e=p(18).Symbol;D.exports=e},function(D,A,p){var e=p(35)(Object,"create");D.exports=e},function(D,A,p){var e=p(117);D.exports=function(w,N){var M=w.__data__;return e(N)?M["string"==typeof N?"string":"hash"]:M.map}},function(D,A,p){var e=p(132),w=p(19),N=Object.prototype,M=N.hasOwnProperty,G=N.propertyIsEnumerable,ee=e(function(){return arguments}())?e:function(Y){return w(Y)&&M.call(Y,"callee")&&!G.call(Y,"callee")};D.exports=ee},function(D,A){var p=/^(?:0|[1-9]\d*)$/;D.exports=function(e,w){var N=typeof e;return!!(w=null==w?9007199254740991:w)&&("number"==N||"symbol"!=N&&p.test(e))&&e>-1&&e%1==0&&e<w}},function(D,A,p){var e=p(15),w=p(232),N=p(233),M=p(236);D.exports=function(G,ee){return e(G)?G:w(G,ee)?[G]:N(M(G))}},function(D,A,p){var e=p(226),w=p(227),N=p(60),M=p(228);D.exports=function(G){return e(G)||w(G)||N(G)||M()},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){D.exports={determinant:p(251),transpose:p(252),multiply:p(253),identity:p(254),adjoint:p(255),rotate:p(256),invert:p(257),create:p(258),scale:p(259),copy:p(260),frob:p(261),ldu:p(262)}},function(D,A,p){var e=p(102),w=p(108);D.exports=function(N,M){var G=w(N,M);return e(G)?G:void 0}},function(D,A,p){var e=p(22),w=p(14);D.exports=function(N){if(!w(N))return!1;var M=e(N);return"[object Function]"==M||"[object GeneratorFunction]"==M||"[object AsyncFunction]"==M||"[object Proxy]"==M}},function(D,A,p){var e=p(49);D.exports=function(w,N,M){"__proto__"==N&&e?e(w,N,{configurable:!0,enumerable:!0,value:M,writable:!0}):w[N]=M}},function(D,A){D.exports=function(p){return p.webpackPolyfill||(p.deprecate=function(){},p.paths=[],p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),p.webpackPolyfill=1),p}},function(D,A,p){var e=p(36),w=p(40);D.exports=function(N){return null!=N&&w(N.length)&&!e(N)}},function(D,A){D.exports=function(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=9007199254740991}},function(D,A){function p(e,w){return D.exports=p=Object.setPrototypeOf||function(N,M){return N.__proto__=M,N},D.exports.__esModule=!0,D.exports.default=D.exports,p(e,w)}D.exports=p,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(22),w=p(19);D.exports=function(N){return"symbol"==typeof N||w(N)&&"[object Symbol]"==e(N)}},function(D,A,p){var e=p(42);D.exports=function(w){if("string"==typeof w||e(w))return w;var N=w+"";return"0"==N&&1/w==-1/0?"-0":N}},function(D,A,p){var e=p(35)(p(18),"Map");D.exports=e},function(D,A,p){(function(e){D.exports="object"==typeof e&&e&&e.Object===Object&&e}).call(this,p(46))},function(D,A){var p;p=function(){return this}();try{p=p||new Function("return this")()}catch(e){"object"==typeof window&&(p=window)}D.exports=p},function(D,A,p){var e=p(109),w=p(116),N=p(118),M=p(119),G=p(120);function ee(Y){var Q=-1,K=null==Y?0:Y.length;for(this.clear();++Q<K;){var ie=Y[Q];this.set(ie[0],ie[1])}}ee.prototype.clear=e,ee.prototype.delete=w,ee.prototype.get=N,ee.prototype.has=M,ee.prototype.set=G,D.exports=ee},function(D,A,p){var e=p(37),w=p(26);D.exports=function(N,M,G){(void 0!==G&&!w(N[M],G)||void 0===G&&!(M in N))&&e(N,M,G)}},function(D,A,p){var e=p(35),w=function(){try{var N=e(Object,"defineProperty");return N({},"",{}),N}catch(M){}}();D.exports=w},function(D,A,p){var e=p(131)(Object.getPrototypeOf,Object);D.exports=e},function(D,A){var p=Object.prototype;D.exports=function(e){var w=e&&e.constructor;return e===("function"==typeof w&&w.prototype||p)}},function(D,A,p){(function(e){var w=p(18),N=p(134),M=A&&!A.nodeType&&A,G=M&&"object"==typeof e&&e&&!e.nodeType&&e,ee=G&&G.exports===M?w.Buffer:void 0;e.exports=(ee?ee.isBuffer:void 0)||N}).call(this,p(38)(D))},function(D,A,p){var e=p(136),w=p(137),N=p(138),M=N&&N.isTypedArray,G=M?w(M):e;D.exports=G},function(D,A){D.exports=function(p,e){if(("constructor"!==e||"function"!=typeof p[e])&&"__proto__"!=e)return p[e]}},function(D,A,p){var e=p(37),w=p(26),N=Object.prototype.hasOwnProperty;D.exports=function(M,G,ee){var Y=M[G];N.call(M,G)&&w(Y,ee)&&(void 0!==ee||G in M)||e(M,G,ee)}},function(D,A,p){var e=p(141),w=p(143),N=p(39);D.exports=function(M){return N(M)?e(M,!0):w(M)}},function(D,A){D.exports=function(p){return p}},function(D,A,p){var e=p(147),w=Math.max;D.exports=function(N,M,G){return M=w(void 0===M?N.length-1:M,0),function(){for(var ee=arguments,Y=-1,Q=w(ee.length-M,0),K=Array(Q);++Y<Q;)K[Y]=ee[M+Y];Y=-1;for(var ie=Array(M+1);++Y<M;)ie[Y]=ee[Y];return ie[M]=G(K),e(N,this,ie)}}},function(D,A,p){var e=p(148),w=p(150)(e);D.exports=w},function(D,A,p){var e=p(61);D.exports=function(w,N){if(w){if("string"==typeof w)return e(w,N);var M=Object.prototype.toString.call(w).slice(8,-1);return"Object"===M&&w.constructor&&(M=w.constructor.name),"Map"===M||"Set"===M?Array.from(w):"Arguments"===M||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(M)?e(w,N):void 0}},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p,e){(null==e||e>p.length)&&(e=p.length);for(var w=0,N=new Array(e);w<e;w++)N[w]=p[w];return N},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=1e-6},function(D,A){D.exports=function(){var p=new Float32Array(2);return p[0]=0,p[1]=0,p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]-w[0],p[1]=e[1]-w[1],p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]*w[0],p[1]=e[1]*w[1],p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]/w[0],p[1]=e[1]/w[1],p}},function(D,A){D.exports=function(p,e){var w=e[0]-p[0],N=e[1]-p[1];return Math.sqrt(w*w+N*N)}},function(D,A){D.exports=function(p,e){var w=e[0]-p[0],N=e[1]-p[1];return w*w+N*N}},function(D,A){D.exports=function(p){var e=p[0],w=p[1];return Math.sqrt(e*e+w*w)}},function(D,A){D.exports=function(p){var e=p[0],w=p[1];return e*e+w*w}},function(D,A){D.exports=1e-6},function(D,A){D.exports=function(){var p=new Float32Array(3);return p[0]=0,p[1]=0,p[2]=0,p}},function(D,A){D.exports=function(p,e,w){var N=new Float32Array(3);return N[0]=p,N[1]=e,N[2]=w,N}},function(D,A){D.exports=function(p,e){var w=e[0],N=e[1],M=e[2],G=w*w+N*N+M*M;return G>0&&(G=1/Math.sqrt(G),p[0]=e[0]*G,p[1]=e[1]*G,p[2]=e[2]*G),p}},function(D,A){D.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]+p[2]*e[2]}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]-w[0],p[1]=e[1]-w[1],p[2]=e[2]-w[2],p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]*w[0],p[1]=e[1]*w[1],p[2]=e[2]*w[2],p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]/w[0],p[1]=e[1]/w[1],p[2]=e[2]/w[2],p}},function(D,A){D.exports=function(p,e){var w=e[0]-p[0],N=e[1]-p[1],M=e[2]-p[2];return Math.sqrt(w*w+N*N+M*M)}},function(D,A){D.exports=function(p,e){var w=e[0]-p[0],N=e[1]-p[1],M=e[2]-p[2];return w*w+N*N+M*M}},function(D,A){D.exports=function(p){var e=p[0],w=p[1],N=p[2];return Math.sqrt(e*e+w*w+N*N)}},function(D,A){D.exports=function(p){var e=p[0],w=p[1],N=p[2];return e*e+w*w+N*N}},function(D,A,p){var e=p(153),w=p(154),N=p(60),M=p(155);D.exports=function(G,ee){return e(G)||w(G,ee)||N(G,ee)||M()},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){D.exports={EPSILON:p(71),create:p(72),clone:p(191),angle:p(192),fromValues:p(73),copy:p(193),set:p(194),equals:p(195),exactEquals:p(196),add:p(197),subtract:p(76),sub:p(198),multiply:p(77),mul:p(199),divide:p(78),div:p(200),min:p(201),max:p(202),floor:p(203),ceil:p(204),round:p(205),scale:p(206),scaleAndAdd:p(207),distance:p(79),dist:p(208),squaredDistance:p(80),sqrDist:p(209),length:p(81),len:p(210),squaredLength:p(82),sqrLen:p(211),negate:p(212),inverse:p(213),normalize:p(74),dot:p(75),cross:p(214),lerp:p(215),random:p(216),transformMat4:p(217),transformMat3:p(218),transformQuat:p(219),rotateX:p(220),rotateY:p(221),rotateZ:p(222),forEach:p(223)}},function(D,A,p){var e=p(229),w=p(243)(function(N,M){return null==N?{}:e(N,M)});D.exports=w},function(D,A,p){var e=p(2),w=p(41),N=p(248),M=p(249);function G(ee){var Y="function"==typeof Map?new Map:void 0;return D.exports=G=function(Q){if(null===Q||!N(Q))return Q;if("function"!=typeof Q)throw new TypeError("Super expression must either be null or a function");if(void 0!==Y){if(Y.has(Q))return Y.get(Q);Y.set(Q,K)}function K(){return M(Q,arguments,e(this).constructor)}return K.prototype=Object.create(Q.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),w(K,Q)},D.exports.__esModule=!0,D.exports.default=D.exports,G(ee)}D.exports=G,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){"use strict";var e=p(21),w={createContour2D:function(){return{dir:null,index:null,firstVertex:null,insideContours:null,nextpeer:null,prevpeer:null}},CONTOUR_DIR:{CW_DIR:0,CCW_DIR:1,UNKNOWN_DIR:2},DIR:{OUTSIDE_EDGE:-32767,INSIDE_EDGE:-32766},create:function(N,M){var G=N.data,ee=M.data,Y=N.size.x,Q=N.size.y,K=e.a.create(N,M);return{rasterize:function(ie){var ge,dt,Xe,Je,vt,_e,Ge,ke,_t,Ke,rt,Ae,it=[],Ze=0;for(Ae=0;Ae<400;Ae++)it[Ae]=0;for(it[0]=G[0],_t=null,_e=1;_e<Q-1;_e++)for(Je=0,dt=it[0],vt=1;vt<Y-1;vt++)if(0===ee[rt=_e*Y+vt])if((ge=G[rt])!==dt){if(0===Je)it[Xe=Ze+1]=ge,dt=ge,null!==(Ge=K.contourTracing(_e,vt,Xe,ge,w.DIR.OUTSIDE_EDGE))&&(Ze++,Je=Xe,(ke=w.createContour2D()).dir=w.CONTOUR_DIR.CW_DIR,ke.index=Je,ke.firstVertex=Ge,ke.nextpeer=_t,ke.insideContours=null,null!==_t&&(_t.prevpeer=ke),_t=ke);else if(null!==(Ge=K.contourTracing(_e,vt,w.DIR.INSIDE_EDGE,ge,Je))){for((ke=w.createContour2D()).firstVertex=Ge,ke.insideContours=null,ke.dir=0===ie?w.CONTOUR_DIR.CCW_DIR:w.CONTOUR_DIR.CW_DIR,ke.index=ie,Ke=_t;null!==Ke&&Ke.index!==Je;)Ke=Ke.nextpeer;null!==Ke&&(ke.nextpeer=Ke.insideContours,null!==Ke.insideContours&&(Ke.insideContours.prevpeer=ke),Ke.insideContours=ke)}}else ee[rt]=Je;else ee[rt]===w.DIR.OUTSIDE_EDGE||ee[rt]===w.DIR.INSIDE_EDGE?(Je=0,dt=ee[rt]===w.DIR.INSIDE_EDGE?G[rt]:it[0]):dt=it[Je=ee[rt]];for(Ke=_t;null!==Ke;)Ke.index=ie,Ke=Ke.nextpeer;return{cc:_t,count:Ze}},debug:{drawContour:function(ie,ge){var dt,Xe,Je,vt=ie.getContext("2d"),_e=ge;for(vt.strokeStyle="red",vt.fillStyle="red",vt.lineWidth=1,dt=null!==_e?_e.insideContours:null;null!==_e;){switch(null!==dt?(Xe=dt,dt=dt.nextpeer):(Xe=_e,dt=null!==(_e=_e.nextpeer)?_e.insideContours:null),Xe.dir){case w.CONTOUR_DIR.CW_DIR:vt.strokeStyle="red";break;case w.CONTOUR_DIR.CCW_DIR:vt.strokeStyle="blue";break;case w.CONTOUR_DIR.UNKNOWN_DIR:vt.strokeStyle="green"}Je=Xe.firstVertex,vt.beginPath(),vt.moveTo(Je.x,Je.y);do{vt.lineTo((Je=Je.next).x,Je.y)}while(Je!==Xe.firstVertex);vt.stroke()}}}}}};A.a=w},function(D,A,p){"use strict";A.a=function(e,w,N){var M=new e.Uint8Array(N),G=0|w.size,ee=e.Math.imul;function Y(_e,Ge){_e|=0,Ge|=0;var ke=0,_t=0,rt=0,Ae=0,it=0,Ze=0,ft=0;for(ke=1;(0|ke)<(G-1|0);ke=ke+1|0)for(ft=ft+G|0,_t=1;(0|_t)<(G-1|0);_t=_t+1|0)M[Ge+ft+_t|0]=5==(0|(0|M[_e+(rt=ft-G|0)+(it=_t-1|0)|0])+(0|M[_e+rt+(Ze=_t+1|0)|0])+(0|M[_e+ft+_t|0])+(0|M[_e+(Ae=ft+G|0)+it|0])+(0|M[_e+Ae+Ze|0]))?1:0}function Q(_e,Ge,ke){_e|=0,Ge|=0,ke|=0;var _t=0;for(_t=0|ee(G,G);(0|_t)>0;)M[ke+(_t=_t-1|0)|0]=(0|M[_e+_t|0])-(0|M[Ge+_t|0])|0}function K(_e,Ge,ke){_e|=0,Ge|=0,ke|=0;var _t=0;for(_t=0|ee(G,G);(0|_t)>0;)M[ke+(_t=_t-1|0)|0]=0|M[_e+_t|0]|M[Ge+_t|0]|0}function ie(_e){_e|=0;var Ge=0,ke=0;for(ke=0|ee(G,G);(0|ke)>0;)Ge=(0|Ge)+(0|M[_e+(ke=ke-1|0)|0])|0;return 0|Ge}function dt(_e,Ge){_e|=0,Ge|=0;var ke=0,_t=0,rt=0,Ae=0,it=0,Ze=0,ft=0;for(ke=1;(0|ke)<(G-1|0);ke=ke+1|0)for(ft=ft+G|0,_t=1;(0|_t)<(G-1|0);_t=_t+1|0)M[Ge+ft+_t|0]=(0|(0|M[_e+(rt=ft-G|0)+(it=_t-1|0)|0])+(0|M[_e+rt+(Ze=_t+1|0)|0])+(0|M[_e+ft+_t|0])+(0|M[_e+(Ae=ft+G|0)+it|0])+(0|M[_e+Ae+Ze|0]))>0?1:0}function Xe(_e,Ge){_e|=0,Ge|=0;var ke=0;for(ke=0|ee(G,G);(0|ke)>0;)M[Ge+(ke=ke-1|0)|0]=0|M[_e+ke|0]}return{skeletonize:function vt(){var Ge,ke,_t,rt=0;(function ge(_e,Ge){_e|=0,Ge|=0;var ke=0;for(ke=0|ee(G,G);(0|ke)>0;)M[_e+(ke=ke-1|0)|0]=Ge})(_t=(ke=(Ge=0|ee(G,G))+Ge|0)+Ge|0,0),function Je(_e){_e|=0;var Ge=0,ke=0;for(Ge=0;(0|Ge)<(G-1|0);Ge=Ge+1|0)M[_e+Ge|0]=0,M[_e+ke|0]=0,M[_e+(ke=ke+G-1|0)|0]=0,ke=ke+1|0;for(Ge=0;(0|Ge)<(0|G);Ge=Ge+1|0)M[_e+ke|0]=0,ke=ke+1|0}(0);do{Y(0,Ge),dt(Ge,ke),Q(0,ke,ke),K(_t,ke,_t),Xe(Ge,0),rt=0==(0|ie(0))|0}while(!rt)}}}},function(D,A,p){D.exports=p(263)},function(D,A,p){var e=p(91),w=p(48),N=p(121),M=p(123),G=p(14),ee=p(56),Y=p(54);D.exports=function Q(K,ie,ge,dt,Xe){K!==ie&&N(ie,function(Je,vt){if(Xe||(Xe=new e),G(Je))M(K,ie,vt,ge,Q,dt,Xe);else{var _e=dt?dt(Y(K,vt),Je,vt+"",K,ie,Xe):void 0;void 0===_e&&(_e=Je),w(K,vt,_e)}},ee)}},function(D,A,p){var e=p(24),w=p(97),N=p(98),M=p(99),G=p(100),ee=p(101);function Y(Q){var K=this.__data__=new e(Q);this.size=K.size}Y.prototype.clear=w,Y.prototype.delete=N,Y.prototype.get=M,Y.prototype.has=G,Y.prototype.set=ee,D.exports=Y},function(D,A){D.exports=function(){this.__data__=[],this.size=0}},function(D,A,p){var e=p(25),w=Array.prototype.splice;D.exports=function(N){var M=this.__data__,G=e(M,N);return!(G<0||(G==M.length-1?M.pop():w.call(M,G,1),--this.size,0))}},function(D,A,p){var e=p(25);D.exports=function(w){var N=this.__data__,M=e(N,w);return M<0?void 0:N[M][1]}},function(D,A,p){var e=p(25);D.exports=function(w){return e(this.__data__,w)>-1}},function(D,A,p){var e=p(25);D.exports=function(w,N){var M=this.__data__,G=e(M,w);return G<0?(++this.size,M.push([w,N])):M[G][1]=N,this}},function(D,A,p){var e=p(24);D.exports=function(){this.__data__=new e,this.size=0}},function(D,A){D.exports=function(p){var e=this.__data__,w=e.delete(p);return this.size=e.size,w}},function(D,A){D.exports=function(p){return this.__data__.get(p)}},function(D,A){D.exports=function(p){return this.__data__.has(p)}},function(D,A,p){var e=p(24),w=p(44),N=p(47);D.exports=function(M,G){var ee=this.__data__;if(ee instanceof e){var Y=ee.__data__;if(!w||Y.length<199)return Y.push([M,G]),this.size=++ee.size,this;ee=this.__data__=new N(Y)}return ee.set(M,G),this.size=ee.size,this}},function(D,A,p){var e=p(36),w=p(105),N=p(14),M=p(107),G=/^\[object .+?Constructor\]$/,ie=RegExp("^"+Function.prototype.toString.call(Object.prototype.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");D.exports=function(ge){return!(!N(ge)||w(ge))&&(e(ge)?ie:G).test(M(ge))}},function(D,A,p){var e=p(27),w=Object.prototype,N=w.hasOwnProperty,M=w.toString,G=e?e.toStringTag:void 0;D.exports=function(ee){var Y=N.call(ee,G),Q=ee[G];try{ee[G]=void 0;var K=!0}catch(ge){}var ie=M.call(ee);return K&&(Y?ee[G]=Q:delete ee[G]),ie}},function(D,A){var p=Object.prototype.toString;D.exports=function(e){return p.call(e)}},function(D,A,p){var e,w=p(106),N=(e=/[^.]+$/.exec(w&&w.keys&&w.keys.IE_PROTO||""))?"Symbol(src)_1."+e:"";D.exports=function(M){return!!N&&N in M}},function(D,A,p){var e=p(18)["__core-js_shared__"];D.exports=e},function(D,A){var p=Function.prototype.toString;D.exports=function(e){if(null!=e){try{return p.call(e)}catch(w){}try{return e+""}catch(w){}}return""}},function(D,A){D.exports=function(p,e){return null==p?void 0:p[e]}},function(D,A,p){var e=p(110),w=p(24),N=p(44);D.exports=function(){this.size=0,this.__data__={hash:new e,map:new(N||w),string:new e}}},function(D,A,p){var e=p(111),w=p(112),N=p(113),M=p(114),G=p(115);function ee(Y){var Q=-1,K=null==Y?0:Y.length;for(this.clear();++Q<K;){var ie=Y[Q];this.set(ie[0],ie[1])}}ee.prototype.clear=e,ee.prototype.delete=w,ee.prototype.get=N,ee.prototype.has=M,ee.prototype.set=G,D.exports=ee},function(D,A,p){var e=p(28);D.exports=function(){this.__data__=e?e(null):{},this.size=0}},function(D,A){D.exports=function(p){var e=this.has(p)&&delete this.__data__[p];return this.size-=e?1:0,e}},function(D,A,p){var e=p(28),w=Object.prototype.hasOwnProperty;D.exports=function(N){var M=this.__data__;if(e){var G=M[N];return"__lodash_hash_undefined__"===G?void 0:G}return w.call(M,N)?M[N]:void 0}},function(D,A,p){var e=p(28),w=Object.prototype.hasOwnProperty;D.exports=function(N){var M=this.__data__;return e?void 0!==M[N]:w.call(M,N)}},function(D,A,p){var e=p(28);D.exports=function(w,N){var M=this.__data__;return this.size+=this.has(w)?0:1,M[w]=e&&void 0===N?"__lodash_hash_undefined__":N,this}},function(D,A,p){var e=p(29);D.exports=function(w){var N=e(this,w).delete(w);return this.size-=N?1:0,N}},function(D,A){D.exports=function(p){var e=typeof p;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==p:null===p}},function(D,A,p){var e=p(29);D.exports=function(w){return e(this,w).get(w)}},function(D,A,p){var e=p(29);D.exports=function(w){return e(this,w).has(w)}},function(D,A,p){var e=p(29);D.exports=function(w,N){var M=e(this,w),G=M.size;return M.set(w,N),this.size+=M.size==G?0:1,this}},function(D,A,p){var e=p(122)();D.exports=e},function(D,A){D.exports=function(p){return function(e,w,N){for(var M=-1,G=Object(e),ee=N(e),Y=ee.length;Y--;){var Q=ee[p?Y:++M];if(!1===w(G[Q],Q,G))break}return e}}},function(D,A,p){var e=p(48),w=p(124),N=p(125),M=p(128),G=p(129),ee=p(30),Y=p(15),Q=p(133),K=p(52),ie=p(36),ge=p(14),dt=p(135),Xe=p(53),Je=p(54),vt=p(139);D.exports=function(_e,Ge,ke,_t,Ke,rt,Ae){var it=Je(_e,ke),Ze=Je(Ge,ke),ft=Ae.get(Ze);if(ft)e(_e,ke,ft);else{var ve=rt?rt(it,Ze,ke+"",_e,Ge,Ae):void 0,me=void 0===ve;if(me){var oe=Y(Ze),we=!oe&&K(Ze),qe=!oe&&!we&&Xe(Ze);ve=Ze,oe||we||qe?Y(it)?ve=it:Q(it)?ve=M(it):we?(me=!1,ve=w(Ze,!0)):qe?(me=!1,ve=N(Ze,!0)):ve=[]:dt(Ze)||ee(Ze)?(ve=it,ee(it)?ve=vt(it):ge(it)&&!ie(it)||(ve=G(Ze))):me=!1}me&&(Ae.set(Ze,ve),Ke(ve,Ze,_t,rt,Ae),Ae.delete(Ze)),e(_e,ke,ve)}}},function(D,A,p){(function(e){var w=p(18),N=A&&!A.nodeType&&A,M=N&&"object"==typeof e&&e&&!e.nodeType&&e,G=M&&M.exports===N?w.Buffer:void 0,ee=G?G.allocUnsafe:void 0;e.exports=function(Y,Q){if(Q)return Y.slice();var K=Y.length,ie=ee?ee(K):new Y.constructor(K);return Y.copy(ie),ie}}).call(this,p(38)(D))},function(D,A,p){var e=p(126);D.exports=function(w,N){var M=N?e(w.buffer):w.buffer;return new w.constructor(M,w.byteOffset,w.length)}},function(D,A,p){var e=p(127);D.exports=function(w){var N=new w.constructor(w.byteLength);return new e(N).set(new e(w)),N}},function(D,A,p){var e=p(18).Uint8Array;D.exports=e},function(D,A){D.exports=function(p,e){var w=-1,N=p.length;for(e||(e=Array(N));++w<N;)e[w]=p[w];return e}},function(D,A,p){var e=p(130),w=p(50),N=p(51);D.exports=function(M){return"function"!=typeof M.constructor||N(M)?{}:e(w(M))}},function(D,A,p){var e=p(14),w=Object.create,N=function(){function M(){}return function(G){if(!e(G))return{};if(w)return w(G);M.prototype=G;var ee=new M;return M.prototype=void 0,ee}}();D.exports=N},function(D,A){D.exports=function(p,e){return function(w){return p(e(w))}}},function(D,A,p){var e=p(22),w=p(19);D.exports=function(N){return w(N)&&"[object Arguments]"==e(N)}},function(D,A,p){var e=p(39),w=p(19);D.exports=function(N){return w(N)&&e(N)}},function(D,A){D.exports=function(){return!1}},function(D,A,p){var e=p(22),w=p(50),N=p(19),ee=Function.prototype.toString,Y=Object.prototype.hasOwnProperty,Q=ee.call(Object);D.exports=function(K){if(!N(K)||"[object Object]"!=e(K))return!1;var ie=w(K);if(null===ie)return!0;var ge=Y.call(ie,"constructor")&&ie.constructor;return"function"==typeof ge&&ge instanceof ge&&ee.call(ge)==Q}},function(D,A,p){var e=p(22),w=p(40),N=p(19),M={};M["[object Float32Array]"]=M["[object Float64Array]"]=M["[object Int8Array]"]=M["[object Int16Array]"]=M["[object Int32Array]"]=M["[object Uint8Array]"]=M["[object Uint8ClampedArray]"]=M["[object Uint16Array]"]=M["[object Uint32Array]"]=!0,M["[object Arguments]"]=M["[object Array]"]=M["[object ArrayBuffer]"]=M["[object Boolean]"]=M["[object DataView]"]=M["[object Date]"]=M["[object Error]"]=M["[object Function]"]=M["[object Map]"]=M["[object Number]"]=M["[object Object]"]=M["[object RegExp]"]=M["[object Set]"]=M["[object String]"]=M["[object WeakMap]"]=!1,D.exports=function(G){return N(G)&&w(G.length)&&!!M[e(G)]}},function(D,A){D.exports=function(p){return function(e){return p(e)}}},function(D,A,p){(function(e){var w=p(45),N=A&&!A.nodeType&&A,M=N&&"object"==typeof e&&e&&!e.nodeType&&e,G=M&&M.exports===N&&w.process,ee=function(){try{return M&&M.require&&M.require("util").types||G&&G.binding&&G.binding("util")}catch(Q){}}();e.exports=ee}).call(this,p(38)(D))},function(D,A,p){var e=p(140),w=p(56);D.exports=function(N){return e(N,w(N))}},function(D,A,p){var e=p(55),w=p(37);D.exports=function(N,M,G,ee){var Y=!G;G||(G={});for(var Q=-1,K=M.length;++Q<K;){var ie=M[Q],ge=ee?ee(G[ie],N[ie],ie,G,N):void 0;void 0===ge&&(ge=N[ie]),Y?w(G,ie,ge):e(G,ie,ge)}return G}},function(D,A,p){var e=p(142),w=p(30),N=p(15),M=p(52),G=p(31),ee=p(53),Y=Object.prototype.hasOwnProperty;D.exports=function(Q,K){var ie=N(Q),ge=!ie&&w(Q),dt=!ie&&!ge&&M(Q),Xe=!ie&&!ge&&!dt&&ee(Q),Je=ie||ge||dt||Xe,vt=Je?e(Q.length,String):[],_e=vt.length;for(var Ge in Q)!K&&!Y.call(Q,Ge)||Je&&("length"==Ge||dt&&("offset"==Ge||"parent"==Ge)||Xe&&("buffer"==Ge||"byteLength"==Ge||"byteOffset"==Ge)||G(Ge,_e))||vt.push(Ge);return vt}},function(D,A){D.exports=function(p,e){for(var w=-1,N=Array(p);++w<p;)N[w]=e(w);return N}},function(D,A,p){var e=p(14),w=p(51),N=p(144),M=Object.prototype.hasOwnProperty;D.exports=function(G){if(!e(G))return N(G);var ee=w(G),Y=[];for(var Q in G)("constructor"!=Q||!ee&&M.call(G,Q))&&Y.push(Q);return Y}},function(D,A){D.exports=function(p){var e=[];if(null!=p)for(var w in Object(p))e.push(w);return e}},function(D,A,p){var e=p(146),w=p(151);D.exports=function(N){return e(function(M,G){var ee=-1,Y=G.length,Q=Y>1?G[Y-1]:void 0,K=Y>2?G[2]:void 0;for(Q=N.length>3&&"function"==typeof Q?(Y--,Q):void 0,K&&w(G[0],G[1],K)&&(Q=Y<3?void 0:Q,Y=1),M=Object(M);++ee<Y;){var ie=G[ee];ie&&N(M,ie,ee,Q)}return M})}},function(D,A,p){var e=p(57),w=p(58),N=p(59);D.exports=function(M,G){return N(w(M,G,e),M+"")}},function(D,A){D.exports=function(p,e,w){switch(w.length){case 0:return p.call(e);case 1:return p.call(e,w[0]);case 2:return p.call(e,w[0],w[1]);case 3:return p.call(e,w[0],w[1],w[2])}return p.apply(e,w)}},function(D,A,p){var e=p(149),w=p(49),N=p(57);D.exports=w?function(G,ee){return w(G,"toString",{configurable:!0,enumerable:!1,value:e(ee),writable:!0})}:N},function(D,A){D.exports=function(p){return function(){return p}}},function(D,A){var p=Date.now;D.exports=function(e){var w=0,N=0;return function(){var M=p(),G=16-(M-N);if(N=M,G>0){if(++w>=800)return arguments[0]}else w=0;return e.apply(void 0,arguments)}}},function(D,A,p){var e=p(26),w=p(39),N=p(31),M=p(14);D.exports=function(G,ee,Y){if(!M(Y))return!1;var Q=typeof ee;return!!("number"==Q?w(Y)&&N(ee,Y.length):"string"==Q&&ee in Y)&&e(Y[ee],G)}},function(D,A){"undefined"!=typeof window&&(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(p){window.setTimeout(p,1e3/60)})),"function"!=typeof Math.imul&&(Math.imul=function(p,e){var w=65535&p,N=65535&e;return w*N+((p>>>16&65535)*N+w*(e>>>16&65535)<<16>>>0)|0}),"function"!=typeof Object.assign&&(Object.assign=function(p){"use strict";if(null===p)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(p),w=1;w<arguments.length;w++){var N=arguments[w];if(null!==N)for(var M in N)Object.prototype.hasOwnProperty.call(N,M)&&(e[M]=N[M])}return e})},function(D,A){D.exports=function(p){if(Array.isArray(p))return p},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p,e){var w=null==p?null:"undefined"!=typeof Symbol&&p[Symbol.iterator]||p["@@iterator"];if(null!=w){var N,M,G=[],ee=!0,Y=!1;try{for(w=w.call(p);!(ee=(N=w.next()).done)&&(G.push(N.value),!e||G.length!==e);ee=!0);}catch(Q){Y=!0,M=Q}finally{try{ee||null==w.return||w.return()}finally{if(Y)throw M}}return G}},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p){var e=new Float32Array(2);return e[0]=p[0],e[1]=p[1],e}},function(D,A){D.exports=function(p,e){var w=new Float32Array(2);return w[0]=p,w[1]=e,w}},function(D,A){D.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p}},function(D,A){D.exports=function(p,e,w){return p[0]=e,p[1]=w,p}},function(D,A,p){D.exports=function(w,N){var M=w[0],G=w[1],ee=N[0],Y=N[1];return Math.abs(M-ee)<=e*Math.max(1,Math.abs(M),Math.abs(ee))&&Math.abs(G-Y)<=e*Math.max(1,Math.abs(G),Math.abs(Y))};var e=p(62)},function(D,A){D.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]+w[0],p[1]=e[1]+w[1],p}},function(D,A,p){D.exports=p(64)},function(D,A,p){D.exports=p(65)},function(D,A,p){D.exports=p(66)},function(D,A){D.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p}},function(D,A){D.exports=function(p,e,w){return p[0]=Math.min(e[0],w[0]),p[1]=Math.min(e[1],w[1]),p}},function(D,A){D.exports=function(p,e,w){return p[0]=Math.max(e[0],w[0]),p[1]=Math.max(e[1],w[1]),p}},function(D,A){D.exports=function(p,e,w){var N=Math.cos(w),M=Math.sin(w),G=e[0],ee=e[1];return p[0]=G*N-ee*M,p[1]=G*M+ee*N,p}},function(D,A){D.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p}},function(D,A){D.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p}},function(D,A){D.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]*w,p[1]=e[1]*w,p}},function(D,A){D.exports=function(p,e,w,N){return p[0]=e[0]+w[0]*N,p[1]=e[1]+w[1]*N,p}},function(D,A,p){D.exports=p(67)},function(D,A,p){D.exports=p(68)},function(D,A,p){D.exports=p(69)},function(D,A,p){D.exports=p(70)},function(D,A){D.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p}},function(D,A){D.exports=function(p,e){var w=e[0],N=e[1],M=w*w+N*N;return M>0&&(M=1/Math.sqrt(M),p[0]=e[0]*M,p[1]=e[1]*M),p}},function(D,A){D.exports=function(p,e){return p[0]*e[0]+p[1]*e[1]}},function(D,A){D.exports=function(p,e,w){var N=e[0]*w[1]-e[1]*w[0];return p[0]=p[1]=0,p[2]=N,p}},function(D,A){D.exports=function(p,e,w,N){var M=e[0],G=e[1];return p[0]=M+N*(w[0]-M),p[1]=G+N*(w[1]-G),p}},function(D,A){D.exports=function(p,e){e=e||1;var w=2*Math.random()*Math.PI;return p[0]=Math.cos(w)*e,p[1]=Math.sin(w)*e,p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1];return p[0]=w[0]*N+w[2]*M,p[1]=w[1]*N+w[3]*M,p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1];return p[0]=w[0]*N+w[2]*M+w[4],p[1]=w[1]*N+w[3]*M+w[5],p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1];return p[0]=w[0]*N+w[3]*M+w[6],p[1]=w[1]*N+w[4]*M+w[7],p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1];return p[0]=w[0]*N+w[4]*M+w[12],p[1]=w[1]*N+w[5]*M+w[13],p}},function(D,A,p){D.exports=function(w,N,M,G,ee,Y){var Q,K;for(N||(N=2),M||(M=0),K=G?Math.min(G*N+M,w.length):w.length,Q=M;Q<K;Q+=N)e[0]=w[Q],e[1]=w[Q+1],ee(e,e,Y),w[Q]=e[0],w[Q+1]=e[1];return w};var e=p(63)()},function(D,A){D.exports=function(p,e,w){var N=e[0]*e[0]+e[1]*e[1];if(N>w*w){var M=Math.sqrt(N);p[0]=e[0]/M*w,p[1]=e[1]/M*w}else p[0]=e[0],p[1]=e[1];return p}},function(D,A){D.exports=function(p){var e=new Float32Array(3);return e[0]=p[0],e[1]=p[1],e[2]=p[2],e}},function(D,A,p){D.exports=function(M,G){var ee=e(M[0],M[1],M[2]),Y=e(G[0],G[1],G[2]);w(ee,ee),w(Y,Y);var Q=N(ee,Y);return Q>1?0:Math.acos(Q)};var e=p(73),w=p(74),N=p(75)},function(D,A){D.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p}},function(D,A){D.exports=function(p,e,w,N){return p[0]=e,p[1]=w,p[2]=N,p}},function(D,A,p){D.exports=function(w,N){var M=w[0],G=w[1],ee=w[2],Y=N[0],Q=N[1],K=N[2];return Math.abs(M-Y)<=e*Math.max(1,Math.abs(M),Math.abs(Y))&&Math.abs(G-Q)<=e*Math.max(1,Math.abs(G),Math.abs(Q))&&Math.abs(ee-K)<=e*Math.max(1,Math.abs(ee),Math.abs(K))};var e=p(71)},function(D,A){D.exports=function(p,e){return p[0]===e[0]&&p[1]===e[1]&&p[2]===e[2]}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]+w[0],p[1]=e[1]+w[1],p[2]=e[2]+w[2],p}},function(D,A,p){D.exports=p(76)},function(D,A,p){D.exports=p(77)},function(D,A,p){D.exports=p(78)},function(D,A){D.exports=function(p,e,w){return p[0]=Math.min(e[0],w[0]),p[1]=Math.min(e[1],w[1]),p[2]=Math.min(e[2],w[2]),p}},function(D,A){D.exports=function(p,e,w){return p[0]=Math.max(e[0],w[0]),p[1]=Math.max(e[1],w[1]),p[2]=Math.max(e[2],w[2]),p}},function(D,A){D.exports=function(p,e){return p[0]=Math.floor(e[0]),p[1]=Math.floor(e[1]),p[2]=Math.floor(e[2]),p}},function(D,A){D.exports=function(p,e){return p[0]=Math.ceil(e[0]),p[1]=Math.ceil(e[1]),p[2]=Math.ceil(e[2]),p}},function(D,A){D.exports=function(p,e){return p[0]=Math.round(e[0]),p[1]=Math.round(e[1]),p[2]=Math.round(e[2]),p}},function(D,A){D.exports=function(p,e,w){return p[0]=e[0]*w,p[1]=e[1]*w,p[2]=e[2]*w,p}},function(D,A){D.exports=function(p,e,w,N){return p[0]=e[0]+w[0]*N,p[1]=e[1]+w[1]*N,p[2]=e[2]+w[2]*N,p}},function(D,A,p){D.exports=p(79)},function(D,A,p){D.exports=p(80)},function(D,A,p){D.exports=p(81)},function(D,A,p){D.exports=p(82)},function(D,A){D.exports=function(p,e){return p[0]=-e[0],p[1]=-e[1],p[2]=-e[2],p}},function(D,A){D.exports=function(p,e){return p[0]=1/e[0],p[1]=1/e[1],p[2]=1/e[2],p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2],ee=w[0],Y=w[1],Q=w[2];return p[0]=M*Q-G*Y,p[1]=G*ee-N*Q,p[2]=N*Y-M*ee,p}},function(D,A){D.exports=function(p,e,w,N){var M=e[0],G=e[1],ee=e[2];return p[0]=M+N*(w[0]-M),p[1]=G+N*(w[1]-G),p[2]=ee+N*(w[2]-ee),p}},function(D,A){D.exports=function(p,e){e=e||1;var w=2*Math.random()*Math.PI,N=2*Math.random()-1,M=Math.sqrt(1-N*N)*e;return p[0]=Math.cos(w)*M,p[1]=Math.sin(w)*M,p[2]=N*e,p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2],ee=w[3]*N+w[7]*M+w[11]*G+w[15];return p[0]=(w[0]*N+w[4]*M+w[8]*G+w[12])/(ee=ee||1),p[1]=(w[1]*N+w[5]*M+w[9]*G+w[13])/ee,p[2]=(w[2]*N+w[6]*M+w[10]*G+w[14])/ee,p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2];return p[0]=N*w[0]+M*w[3]+G*w[6],p[1]=N*w[1]+M*w[4]+G*w[7],p[2]=N*w[2]+M*w[5]+G*w[8],p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2],ee=w[0],Y=w[1],Q=w[2],K=w[3],ie=K*N+Y*G-Q*M,ge=K*M+Q*N-ee*G,dt=K*G+ee*M-Y*N,Xe=-ee*N-Y*M-Q*G;return p[0]=ie*K+Xe*-ee+ge*-Q-dt*-Y,p[1]=ge*K+Xe*-Y+dt*-ee-ie*-Q,p[2]=dt*K+Xe*-Q+ie*-Y-ge*-ee,p}},function(D,A){D.exports=function(p,e,w,N){var M=w[1],G=w[2],ee=e[1]-M,Y=e[2]-G,Q=Math.sin(N),K=Math.cos(N);return p[0]=e[0],p[1]=M+ee*K-Y*Q,p[2]=G+ee*Q+Y*K,p}},function(D,A){D.exports=function(p,e,w,N){var M=w[0],G=w[2],ee=e[0]-M,Y=e[2]-G,Q=Math.sin(N),K=Math.cos(N);return p[0]=M+Y*Q+ee*K,p[1]=e[1],p[2]=G+Y*K-ee*Q,p}},function(D,A){D.exports=function(p,e,w,N){var M=w[0],G=w[1],ee=e[0]-M,Y=e[1]-G,Q=Math.sin(N),K=Math.cos(N);return p[0]=M+ee*K-Y*Q,p[1]=G+ee*Q+Y*K,p[2]=e[2],p}},function(D,A,p){D.exports=function(w,N,M,G,ee,Y){var Q,K;for(N||(N=3),M||(M=0),K=G?Math.min(G*N+M,w.length):w.length,Q=M;Q<K;Q+=N)e[0]=w[Q],e[1]=w[Q+1],e[2]=w[Q+2],ee(e,e,Y),w[Q]=e[0],w[Q+1]=e[1],w[Q+2]=e[2];return w};var e=p(72)()},function(D,A,p){var e=function(w){"use strict";var N=Object.prototype,M=N.hasOwnProperty,G="function"==typeof Symbol?Symbol:{},ee=G.iterator||"@@iterator",Y=G.asyncIterator||"@@asyncIterator",Q=G.toStringTag||"@@toStringTag";function K(me,oe,we,qe){var Sn,Rt,Et,Ht,It=Object.create((oe&&oe.prototype instanceof dt?oe:dt).prototype),Ft=new Ze(qe||[]);return It._invoke=(Sn=me,Rt=we,Et=Ft,Ht="suspendedStart",function(yn,rr){if("executing"===Ht)throw new Error("Generator is already running");if("completed"===Ht){if("throw"===yn)throw rr;return{value:void 0,done:!0}}for(Et.method=yn,Et.arg=rr;;){var $n=Et.delegate;if($n){var Dr=rt($n,Et);if(Dr){if(Dr===ge)continue;return Dr}}if("next"===Et.method)Et.sent=Et._sent=Et.arg;else if("throw"===Et.method){if("suspendedStart"===Ht)throw Ht="completed",Et.arg;Et.dispatchException(Et.arg)}else"return"===Et.method&&Et.abrupt("return",Et.arg);Ht="executing";var br=ie(Sn,Rt,Et);if("normal"===br.type){if(Ht=Et.done?"completed":"suspendedYield",br.arg===ge)continue;return{value:br.arg,done:Et.done}}"throw"===br.type&&(Ht="completed",Et.method="throw",Et.arg=br.arg)}}),It}function ie(me,oe,we){try{return{type:"normal",arg:me.call(oe,we)}}catch(qe){return{type:"throw",arg:qe}}}w.wrap=K;var ge={};function dt(){}function Xe(){}function Je(){}var vt={};vt[ee]=function(){return this};var _e=Object.getPrototypeOf,Ge=_e&&_e(_e(ft([])));Ge&&Ge!==N&&M.call(Ge,ee)&&(vt=Ge);var ke=Je.prototype=dt.prototype=Object.create(vt);function _t(me){["next","throw","return"].forEach(function(oe){me[oe]=function(we){return this._invoke(oe,we)}})}function Ke(me,oe){var we;this._invoke=function(qe,Ee){function It(){return new oe(function(Ft,Sn){!function Rt(Et,Ht,yn,rr){var $n=ie(me[Et],me,Ht);if("throw"!==$n.type){var Dr=$n.arg,br=Dr.value;return br&&"object"==typeof br&&M.call(br,"__await")?oe.resolve(br.__await).then(function(vr){Rt("next",vr,yn,rr)},function(vr){Rt("throw",vr,yn,rr)}):oe.resolve(br).then(function(vr){Dr.value=vr,yn(Dr)},function(vr){return Rt("throw",vr,yn,rr)})}rr($n.arg)}(qe,Ee,Ft,Sn)})}return we=we?we.then(It,It):It()}}function rt(me,oe){var we=me.iterator[oe.method];if(void 0===we){if(oe.delegate=null,"throw"===oe.method){if(me.iterator.return&&(oe.method="return",oe.arg=void 0,rt(me,oe),"throw"===oe.method))return ge;oe.method="throw",oe.arg=new TypeError("The iterator does not provide a 'throw' method")}return ge}var qe=ie(we,me.iterator,oe.arg);if("throw"===qe.type)return oe.method="throw",oe.arg=qe.arg,oe.delegate=null,ge;var Ee=qe.arg;return Ee?Ee.done?(oe[me.resultName]=Ee.value,oe.next=me.nextLoc,"return"!==oe.method&&(oe.method="next",oe.arg=void 0),oe.delegate=null,ge):Ee:(oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,ge)}function Ae(me){var oe={tryLoc:me[0]};1 in me&&(oe.catchLoc=me[1]),2 in me&&(oe.finallyLoc=me[2],oe.afterLoc=me[3]),this.tryEntries.push(oe)}function it(me){var oe=me.completion||{};oe.type="normal",delete oe.arg,me.completion=oe}function Ze(me){this.tryEntries=[{tryLoc:"root"}],me.forEach(Ae,this),this.reset(!0)}function ft(me){if(me){var oe=me[ee];if(oe)return oe.call(me);if("function"==typeof me.next)return me;if(!isNaN(me.length)){var we=-1,qe=function Ee(){for(;++we<me.length;)if(M.call(me,we))return Ee.value=me[we],Ee.done=!1,Ee;return Ee.value=void 0,Ee.done=!0,Ee};return qe.next=qe}}return{next:ve}}function ve(){return{value:void 0,done:!0}}return Xe.prototype=ke.constructor=Je,Je.constructor=Xe,Je[Q]=Xe.displayName="GeneratorFunction",w.isGeneratorFunction=function(me){var oe="function"==typeof me&&me.constructor;return!!oe&&(oe===Xe||"GeneratorFunction"===(oe.displayName||oe.name))},w.mark=function(me){return Object.setPrototypeOf?Object.setPrototypeOf(me,Je):(me.__proto__=Je,Q in me||(me[Q]="GeneratorFunction")),me.prototype=Object.create(ke),me},w.awrap=function(me){return{__await:me}},_t(Ke.prototype),Ke.prototype[Y]=function(){return this},w.AsyncIterator=Ke,w.async=function(me,oe,we,qe,Ee){void 0===Ee&&(Ee=Promise);var It=new Ke(K(me,oe,we,qe),Ee);return w.isGeneratorFunction(oe)?It:It.next().then(function(Ft){return Ft.done?Ft.value:It.next()})},_t(ke),ke[Q]="Generator",ke[ee]=function(){return this},ke.toString=function(){return"[object Generator]"},w.keys=function(me){var oe=[];for(var we in me)oe.push(we);return oe.reverse(),function qe(){for(;oe.length;){var Ee=oe.pop();if(Ee in me)return qe.value=Ee,qe.done=!1,qe}return qe.done=!0,qe}},w.values=ft,Ze.prototype={constructor:Ze,reset:function(me){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(it),!me)for(var oe in this)"t"===oe.charAt(0)&&M.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=void 0)},stop:function(){this.done=!0;var me=this.tryEntries[0].completion;if("throw"===me.type)throw me.arg;return this.rval},dispatchException:function(me){if(this.done)throw me;var oe=this;function we(Rt,Et){return It.type="throw",It.arg=me,oe.next=Rt,Et&&(oe.method="next",oe.arg=void 0),!!Et}for(var qe=this.tryEntries.length-1;qe>=0;--qe){var Ee=this.tryEntries[qe],It=Ee.completion;if("root"===Ee.tryLoc)return we("end");if(Ee.tryLoc<=this.prev){var Ft=M.call(Ee,"catchLoc"),Sn=M.call(Ee,"finallyLoc");if(Ft&&Sn){if(this.prev<Ee.catchLoc)return we(Ee.catchLoc,!0);if(this.prev<Ee.finallyLoc)return we(Ee.finallyLoc)}else if(Ft){if(this.prev<Ee.catchLoc)return we(Ee.catchLoc,!0)}else{if(!Sn)throw new Error("try statement without catch or finally");if(this.prev<Ee.finallyLoc)return we(Ee.finallyLoc)}}}},abrupt:function(me,oe){for(var we=this.tryEntries.length-1;we>=0;--we){var qe=this.tryEntries[we];if(qe.tryLoc<=this.prev&&M.call(qe,"finallyLoc")&&this.prev<qe.finallyLoc){var Ee=qe;break}}Ee&&("break"===me||"continue"===me)&&Ee.tryLoc<=oe&&oe<=Ee.finallyLoc&&(Ee=null);var It=Ee?Ee.completion:{};return It.type=me,It.arg=oe,Ee?(this.method="next",this.next=Ee.finallyLoc,ge):this.complete(It)},complete:function(me,oe){if("throw"===me.type)throw me.arg;return"break"===me.type||"continue"===me.type?this.next=me.arg:"return"===me.type?(this.rval=this.arg=me.arg,this.method="return",this.next="end"):"normal"===me.type&&oe&&(this.next=oe),ge},finish:function(me){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var we=this.tryEntries[oe];if(we.finallyLoc===me)return this.complete(we.completion,we.afterLoc),it(we),ge}},catch:function(me){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var we=this.tryEntries[oe];if(we.tryLoc===me){var qe=we.completion;if("throw"===qe.type){var Ee=qe.arg;it(we)}return Ee}}throw new Error("illegal catch attempt")},delegateYield:function(me,oe,we){return this.delegate={iterator:ft(me),resultName:oe,nextLoc:we},"next"===this.method&&(this.arg=void 0),ge}},w}(D.exports);try{regeneratorRuntime=e}catch(w){Function("r","regeneratorRuntime = r")(e)}},function(D,A,p){var e=p(2);D.exports=function(w,N){for(;!Object.prototype.hasOwnProperty.call(w,N)&&null!==(w=e(w)););return w},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(61);D.exports=function(w){if(Array.isArray(w))return e(w)},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p){if("undefined"!=typeof Symbol&&null!=p[Symbol.iterator]||null!=p["@@iterator"])return Array.from(p)},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(230),w=p(240);D.exports=function(N,M){return e(N,M,function(G,ee){return w(N,ee)})}},function(D,A,p){var e=p(231),w=p(239),N=p(32);D.exports=function(M,G,ee){for(var Y=-1,Q=G.length,K={};++Y<Q;){var ie=G[Y],ge=e(M,ie);ee(ge,ie)&&w(K,N(ie,M),ge)}return K}},function(D,A,p){var e=p(32),w=p(43);D.exports=function(N,M){for(var G=0,ee=(M=e(M,N)).length;null!=N&&G<ee;)N=N[w(M[G++])];return G&&G==ee?N:void 0}},function(D,A,p){var e=p(15),w=p(42),N=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,M=/^\w*$/;D.exports=function(G,ee){if(e(G))return!1;var Y=typeof G;return!("number"!=Y&&"symbol"!=Y&&"boolean"!=Y&&null!=G&&!w(G))||M.test(G)||!N.test(G)||null!=ee&&G in Object(ee)}},function(D,A,p){var e=p(234),w=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,N=/\\(\\)?/g,M=e(function(G){var ee=[];return 46===G.charCodeAt(0)&&ee.push(""),G.replace(w,function(Y,Q,K,ie){ee.push(K?ie.replace(N,"$1"):Q||Y)}),ee});D.exports=M},function(D,A,p){var e=p(235);D.exports=function(w){var N=e(w,function(G){return 500===M.size&&M.clear(),G}),M=N.cache;return N}},function(D,A,p){var e=p(47);function w(N,M){if("function"!=typeof N||null!=M&&"function"!=typeof M)throw new TypeError("Expected a function");var G=function(){var ee=arguments,Y=M?M.apply(this,ee):ee[0],Q=G.cache;if(Q.has(Y))return Q.get(Y);var K=N.apply(this,ee);return G.cache=Q.set(Y,K)||Q,K};return G.cache=new(w.Cache||e),G}w.Cache=e,D.exports=w},function(D,A,p){var e=p(237);D.exports=function(w){return null==w?"":e(w)}},function(D,A,p){var e=p(27),w=p(238),N=p(15),M=p(42),G=e?e.prototype:void 0,ee=G?G.toString:void 0;D.exports=function Y(Q){if("string"==typeof Q)return Q;if(N(Q))return w(Q,Y)+"";if(M(Q))return ee?ee.call(Q):"";var K=Q+"";return"0"==K&&1/Q==-1/0?"-0":K}},function(D,A){D.exports=function(p,e){for(var w=-1,N=null==p?0:p.length,M=Array(N);++w<N;)M[w]=e(p[w],w,p);return M}},function(D,A,p){var e=p(55),w=p(32),N=p(31),M=p(14),G=p(43);D.exports=function(ee,Y,Q,K){if(!M(ee))return ee;for(var ie=-1,ge=(Y=w(Y,ee)).length,dt=ge-1,Xe=ee;null!=Xe&&++ie<ge;){var Je=G(Y[ie]),vt=Q;if("__proto__"===Je||"constructor"===Je||"prototype"===Je)return ee;if(ie!=dt){var _e=Xe[Je];void 0===(vt=K?K(_e,Je,Xe):void 0)&&(vt=M(_e)?_e:N(Y[ie+1])?[]:{})}e(Xe,Je,vt),Xe=Xe[Je]}return ee}},function(D,A,p){var e=p(241),w=p(242);D.exports=function(N,M){return null!=N&&w(N,M,e)}},function(D,A){D.exports=function(p,e){return null!=p&&e in Object(p)}},function(D,A,p){var e=p(32),w=p(30),N=p(15),M=p(31),G=p(40),ee=p(43);D.exports=function(Y,Q,K){for(var ie=-1,ge=(Q=e(Q,Y)).length,dt=!1;++ie<ge;){var Xe=ee(Q[ie]);if(!(dt=null!=Y&&K(Y,Xe)))break;Y=Y[Xe]}return dt||++ie!=ge?dt:!!(ge=null==Y?0:Y.length)&&G(ge)&&M(Xe,ge)&&(N(Y)||w(Y))}},function(D,A,p){var e=p(244),w=p(58),N=p(59);D.exports=function(M){return N(w(M,void 0,e),M+"")}},function(D,A,p){var e=p(245);D.exports=function(w){return null!=w&&w.length?e(w,1):[]}},function(D,A,p){var e=p(246),w=p(247);D.exports=function N(M,G,ee,Y,Q){var K=-1,ie=M.length;for(ee||(ee=w),Q||(Q=[]);++K<ie;){var ge=M[K];G>0&&ee(ge)?G>1?N(ge,G-1,ee,Y,Q):e(Q,ge):Y||(Q[Q.length]=ge)}return Q}},function(D,A){D.exports=function(p,e){for(var w=-1,N=e.length,M=p.length;++w<N;)p[M+w]=e[w];return p}},function(D,A,p){var e=p(27),w=p(30),N=p(15),M=e?e.isConcatSpreadable:void 0;D.exports=function(G){return N(G)||w(G)||!!(M&&G&&G[M])}},function(D,A){D.exports=function(p){return-1!==Function.toString.call(p).indexOf("[native code]")},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A,p){var e=p(41),w=p(250);function N(M,G,ee){return w()?(D.exports=N=Reflect.construct,D.exports.__esModule=!0,D.exports.default=D.exports):(D.exports=N=function(Y,Q,K){var ie=[null];ie.push.apply(ie,Q);var ge=new(Function.bind.apply(Y,ie));return K&&e(ge,K.prototype),ge},D.exports.__esModule=!0,D.exports.default=D.exports),N.apply(null,arguments)}D.exports=N,D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(p){return!1}},D.exports.__esModule=!0,D.exports.default=D.exports},function(D,A){D.exports=function(p){return p[0]*p[3]-p[2]*p[1]}},function(D,A){D.exports=function(p,e){if(p===e){var w=e[1];p[1]=e[2],p[2]=w}else p[0]=e[0],p[1]=e[2],p[2]=e[1],p[3]=e[3];return p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2],ee=e[3],Y=w[0],Q=w[1],K=w[2],ie=w[3];return p[0]=N*Y+G*Q,p[1]=M*Y+ee*Q,p[2]=N*K+G*ie,p[3]=M*K+ee*ie,p}},function(D,A){D.exports=function(p){return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(D,A){D.exports=function(p,e){var w=e[0];return p[0]=e[3],p[1]=-e[1],p[2]=-e[2],p[3]=w,p}},function(D,A){D.exports=function(p,e,w){var N=e[0],M=e[1],G=e[2],ee=e[3],Y=Math.sin(w),Q=Math.cos(w);return p[0]=N*Q+G*Y,p[1]=M*Q+ee*Y,p[2]=N*-Y+G*Q,p[3]=M*-Y+ee*Q,p}},function(D,A){D.exports=function(p,e){var w=e[0],N=e[1],M=e[2],G=e[3],ee=w*G-M*N;return ee?(p[0]=G*(ee=1/ee),p[1]=-N*ee,p[2]=-M*ee,p[3]=w*ee,p):null}},function(D,A){D.exports=function(){var p=new Float32Array(4);return p[0]=1,p[1]=0,p[2]=0,p[3]=1,p}},function(D,A){D.exports=function(p,e,w){var M=e[1],G=e[2],ee=e[3],Y=w[0],Q=w[1];return p[0]=e[0]*Y,p[1]=M*Y,p[2]=G*Q,p[3]=ee*Q,p}},function(D,A){D.exports=function(p,e){return p[0]=e[0],p[1]=e[1],p[2]=e[2],p[3]=e[3],p}},function(D,A){D.exports=function(p){return Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2)+Math.pow(p[2],2)+Math.pow(p[3],2))}},function(D,A){D.exports=function(p,e,w,N){return p[2]=N[2]/N[0],w[0]=N[0],w[1]=N[1],w[3]=N[3]-p[2]*w[1],[p,e,w]}},function(D,A,p){"use strict";p.r(A),p.d(A,"BarcodeDecoder",function(){return sr}),p.d(A,"Readers",function(){return e}),p.d(A,"CameraAccess",function(){return Vn}),p.d(A,"ImageDebug",function(){return dt.a}),p.d(A,"ImageWrapper",function(){return Y.a}),p.d(A,"ResultCollector",function(){return Or});var e={};p.r(e),p.d(e,"BarcodeReader",function(){return oe}),p.d(e,"TwoOfFiveReader",function(){return Sn}),p.d(e,"NewCodabarReader",function(){return rr}),p.d(e,"Code128Reader",function(){return Dr}),p.d(e,"Code32Reader",function(){return Bn}),p.d(e,"Code39Reader",function(){return Kr}),p.d(e,"Code39VINReader",function(){return Fe}),p.d(e,"Code93Reader",function(){return ye}),p.d(e,"EAN2Reader",function(){return jt}),p.d(e,"EAN5Reader",function(){return Bt}),p.d(e,"EAN8Reader",function(){return tn}),p.d(e,"EANReader",function(){return fn}),p.d(e,"I2of5Reader",function(){return Zn}),p.d(e,"UPCEReader",function(){return Se}),p.d(e,"UPCReader",function(){return lt});var w,Ce,N=p(20),M=p.n(N),G=p(17),ee=p.n(G),Y=(p(152),p(11)),Q=p(12),K=p.n(Q),ie=p(8),ge=p.n(ie),dt=p(16),Xe=p(3),Je=p.n(Xe),vt=p(4),_e=p.n(vt),Ge=p(1),ke=p.n(Ge),_t=p(6),Ke=p.n(_t),rt=p(5),Ae=p.n(rt),it=p(2),Ze=p.n(it),ft=p(0),ve=p.n(ft),me=p(9);(Ce=w||(w={}))[Ce.Forward=1]="Forward",Ce[Ce.Reverse=-1]="Reverse";var oe=function(){function Ce(Oe,de){Je()(this,Ce),ve()(this,"_row",[]),ve()(this,"config",{}),ve()(this,"supplements",[]),ve()(this,"SINGLE_CODE_ERROR",0),ve()(this,"FORMAT","unknown"),ve()(this,"CONFIG_KEYS",{}),this._row=[],this.config=Oe||{},de&&(this.supplements=de)}return _e()(Ce,[{key:"_nextUnset",value:function(Oe){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Oe.length;R++)if(!Oe[R])return R;return Oe.length}},{key:"_matchPattern",value:function(Oe,de){for(var R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.SINGLE_CODE_ERROR||1,Z=0,W=0,ne=0,Te=0,Me=0,Le=0,ut=0;ut<Oe.length;ut++)ne+=Oe[ut],Te+=de[ut];if(ne<Te)return Number.MAX_VALUE;R*=Me=ne/Te;for(var re=0;re<Oe.length;re++){if(Le=de[re]*Me,(W=Math.abs(Oe[re]-Le)/Le)>R)return Number.MAX_VALUE;Z+=W}return Z/Te}},{key:"_nextSet",value:function(Oe){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;R<Oe.length;R++)if(Oe[R])return R;return Oe.length}},{key:"_correctBars",value:function(Oe,de,R){for(var Z=R.length,W=0;Z--;)(W=Oe[R[Z]]*(1-(1-de)/2))>1&&(Oe[R[Z]]=W)}},{key:"decodePattern",value:function(Oe){this._row=Oe;var de=this.decode();return null===de?(this._row.reverse(),(de=this.decode())&&(de.direction=w.Reverse,de.start=this._row.length-de.start,de.end=this._row.length-de.end)):de.direction=w.Forward,de&&(de.format=this.FORMAT),de}},{key:"_matchRange",value:function(Oe,de,R){var Z;for(Z=Oe=Oe<0?0:Oe;Z<de;Z++)if(this._row[Z]!==R)return!1;return!0}},{key:"_fillCounters",value:function(){var Oe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._nextUnset(this._row),de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._row.length,R=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],Z=[],W=0;Z[W]=0;for(var ne=Oe;ne<de;ne++)this._row[ne]^(R?1:0)?Z[W]++:(Z[++W]=1,R=!R);return Z}},{key:"_toCounters",value:function(Oe,de){var R=de.length,Z=this._row.length,W=!this._row[Oe],ne=0;me.a.init(de,0);for(var Te=Oe;Te<Z;Te++)if(this._row[Te]^(W?1:0))de[ne]++;else{if(++ne===R)break;de[ne]=1,W=!W}return de}},{key:"decodeImage",value:function(Oe){return null}}],[{key:"Exception",get:function(){return{StartNotFoundException:"Start-Info was not found!",CodeNotFoundException:"Code could not be found!",PatternNotFoundException:"Pattern could not be found!"}}}]),Ce}();var qe=[3,1,3,1,1,1],Ee=[3,1,1,1,3],It=[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]],Ft=qe.reduce(function(Ce,Oe){return Ce+Oe},0),Sn=function(Ce){Ke()(de,Ce);var Oe=function we(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"barSpaceRatio",[1,1]),ve()(ke()(R),"FORMAT","2of5"),ve()(ke()(R),"SINGLE_CODE_ERROR",.78),ve()(ke()(R),"AVG_CODE_ERROR",.3),R}return _e()(de,[{key:"_findPattern",value:function(R,Z){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ne=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Te=[],Me=0,xe={error:Number.MAX_VALUE,code:-1,start:0,end:0},Le=0,ut=0,re=this.AVG_CODE_ERROR;Z||(Z=this._nextSet(this._row));for(var Ie=0;Ie<R.length;Ie++)Te[Ie]=0;for(var Ve=Z;Ve<this._row.length;Ve++)if(this._row[Ve]^(W?1:0))Te[Me]++;else{if(Me===Te.length-1){Le=0;for(var Tt=0;Tt<Te.length;Tt++)Le+=Te[Tt];if((ut=this._matchPattern(Te,R))<re)return xe.error=ut,xe.start=Ve-Le,xe.end=Ve,xe;if(!ne)return null;for(var hn=0;hn<Te.length-2;hn++)Te[hn]=Te[hn+2];Te[Te.length-2]=0,Te[Te.length-1]=0,Me--}else Me++;Te[Me]=1,W=!W}return null}},{key:"_findStart",value:function(){for(var R=null,Z=this._nextSet(this._row),W=1,ne=0;!R;){if(!(R=this._findPattern(qe,Z,!1,!0)))return null;if(W=Math.floor((R.end-R.start)/Ft),(ne=R.start-5*W)>=0&&this._matchRange(ne,R.start,0))return R;Z=R.end,R=null}return R}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._nextSet(this._row),Z=this._findPattern(Ee,R,!1,!0);if(this._row.reverse(),null===Z)return null;var W=Z.start;return Z.start=this._row.length-Z.end,Z.end=this._row.length-W,null!==Z?this._verifyTrailingWhitespace(Z):null}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"_decodeCode",value:function(R){for(var Z=this.AVG_CODE_ERROR,W={error:Number.MAX_VALUE,code:-1,start:0,end:0},ne=0;ne<It.length;ne++){var Te=this._matchPattern(R,It[ne]);Te<W.error&&(W.code=ne,W.error=Te)}return W.error<Z?W:null}},{key:"_decodePayload",value:function(R,Z,W){for(var ne=0,Te=R.length,Me=[0,0,0,0,0],xe=null;ne<Te;){for(var Le=0;Le<5;Le++)Me[Le]=R[ne]*this.barSpaceRatio[0],ne+=2;if(!(xe=this._decodeCode(Me)))return null;Z.push("".concat(xe.code)),W.push(xe)}return xe}},{key:"decode",value:function(R,Z){var W=this._findStart();if(!W)return null;var ne=this._findEnd();if(!ne)return null;var Te=this._fillCounters(W.end,ne.start,!1);if(!this._verifyCounterLength(Te))return null;var Me=[];Me.push(W);var xe=[];return this._decodePayload(Te,xe,Me)?xe.length<5?null:(Me.push(ne),{code:xe.join(""),start:W.start,end:ne.end,startInfo:W,decodedCodes:Me,format:this.FORMAT}):null}}]),de}(oe);var Et=[48,49,50,51,52,53,54,55,56,57,45,36,58,47,46,43,65,66,67,68],Ht=[3,6,9,96,18,66,33,36,48,72,12,24,69,81,84,21,26,41,11,14],yn=[26,41,11,14],rr=function(Ce){Ke()(de,Ce);var Oe=function Rt(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"_counters",[]),ve()(ke()(R),"FORMAT","codabar"),R}return _e()(de,[{key:"_computeAlternatingThreshold",value:function(R,Z){for(var W=Number.MAX_VALUE,ne=0,Te=0,Me=R;Me<Z;Me+=2)(Te=this._counters[Me])>ne&&(ne=Te),Te<W&&(W=Te);return(W+ne)/2|0}},{key:"_toPattern",value:function(R){var Z=R+7;if(Z>this._counters.length)return-1;for(var W=this._computeAlternatingThreshold(R,Z),ne=this._computeAlternatingThreshold(R+1,Z),Te=64,xe=0,Le=0;Le<7;Le++)this._counters[R+Le]>(0==(1&Le)?W:ne)&&(xe|=Te),Te>>=1;return xe}},{key:"_isStartEnd",value:function(R){for(var Z=0;Z<yn.length;Z++)if(yn[Z]===R)return!0;return!1}},{key:"_sumCounters",value:function(R,Z){for(var W=0,ne=R;ne<Z;ne++)W+=this._counters[ne];return W}},{key:"_findStart",value:function(){for(var R=this._nextUnset(this._row),Z=1;Z<this._counters.length;Z++){var W=this._toPattern(Z);if(-1!==W&&this._isStartEnd(W))return{start:R+=this._sumCounters(0,Z),end:R+this._sumCounters(Z,Z+8),startCounter:Z,endCounter:Z+8}}return null}},{key:"_patternToChar",value:function(R){for(var Z=0;Z<Ht.length;Z++)if(Ht[Z]===R)return String.fromCharCode(Et[Z]);return null}},{key:"_calculatePatternLength",value:function(R){for(var Z=0,W=R;W<R+7;W++)Z+=this._counters[W];return Z}},{key:"_verifyWhitespace",value:function(R,Z){return(R-1<=0||this._counters[R-1]>=this._calculatePatternLength(R)/2)&&(Z+8>=this._counters.length||this._counters[Z+7]>=this._calculatePatternLength(Z)/2)}},{key:"_charToPattern",value:function(R){for(var Z=R.charCodeAt(0),W=0;W<Et.length;W++)if(Et[W]===Z)return Ht[W];return 0}},{key:"_thresholdResultPattern",value:function(R,Z){for(var W,ne={space:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}},bar:{narrow:{size:0,counts:0,min:0,max:Number.MAX_VALUE},wide:{size:0,counts:0,min:0,max:Number.MAX_VALUE}}},Te=Z,Me=0;Me<R.length;Me++){W=this._charToPattern(R[Me]);for(var xe=6;xe>=0;xe--){var Le=2==(1&xe)?ne.bar:ne.space,ut=1==(1&W)?Le.wide:Le.narrow;ut.size+=this._counters[Te+xe],ut.counts++,W>>=1}Te+=8}return["space","bar"].forEach(function(re){var Ie=ne[re];Ie.wide.min=Math.floor((Ie.narrow.size/Ie.narrow.counts+Ie.wide.size/Ie.wide.counts)/2),Ie.narrow.max=Math.ceil(Ie.wide.min),Ie.wide.max=Math.ceil((2*Ie.wide.size+1.5)/Ie.wide.counts)}),ne}},{key:"_validateResult",value:function(R,Z){for(var W,ne=this._thresholdResultPattern(R,Z),Te=Z,Me=0;Me<R.length;Me++){W=this._charToPattern(R[Me]);for(var xe=6;xe>=0;xe--){var Le=0==(1&xe)?ne.bar:ne.space,ut=1==(1&W)?Le.wide:Le.narrow,re=this._counters[Te+xe];if(re<ut.min||re>ut.max)return!1;W>>=1}Te+=8}return!0}},{key:"decode",value:function(R,Z){if(this._counters=this._fillCounters(),!(Z=this._findStart()))return null;var W,ne=Z.startCounter,Te=[];do{if((W=this._toPattern(ne))<0)return null;var Me=this._patternToChar(W);if(null===Me)return null;if(Te.push(Me),ne+=8,Te.length>1&&this._isStartEnd(W))break}while(ne<this._counters.length);if(Te.length-2<4||!this._isStartEnd(W)||!this._verifyWhitespace(Z.startCounter,ne-8)||!this._validateResult(Te,Z.startCounter))return null;var xe=Z.start+this._sumCounters(Z.startCounter,(ne=ne>this._counters.length?this._counters.length:ne)-8);return{code:Te.join(""),start:Z.start,end:xe,startInfo:Z,decodedCodes:Te,format:this.FORMAT}}}]),de}(oe);var Dr=function(Ce){Ke()(de,Ce);var Oe=function $n(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"CODE_SHIFT",98),ve()(ke()(R),"CODE_C",99),ve()(ke()(R),"CODE_B",100),ve()(ke()(R),"CODE_A",101),ve()(ke()(R),"START_CODE_A",103),ve()(ke()(R),"START_CODE_B",104),ve()(ke()(R),"START_CODE_C",105),ve()(ke()(R),"STOP_CODE",106),ve()(ke()(R),"CODE_PATTERN",[[2,1,2,2,2,2],[2,2,2,1,2,2],[2,2,2,2,2,1],[1,2,1,2,2,3],[1,2,1,3,2,2],[1,3,1,2,2,2],[1,2,2,2,1,3],[1,2,2,3,1,2],[1,3,2,2,1,2],[2,2,1,2,1,3],[2,2,1,3,1,2],[2,3,1,2,1,2],[1,1,2,2,3,2],[1,2,2,1,3,2],[1,2,2,2,3,1],[1,1,3,2,2,2],[1,2,3,1,2,2],[1,2,3,2,2,1],[2,2,3,2,1,1],[2,2,1,1,3,2],[2,2,1,2,3,1],[2,1,3,2,1,2],[2,2,3,1,1,2],[3,1,2,1,3,1],[3,1,1,2,2,2],[3,2,1,1,2,2],[3,2,1,2,2,1],[3,1,2,2,1,2],[3,2,2,1,1,2],[3,2,2,2,1,1],[2,1,2,1,2,3],[2,1,2,3,2,1],[2,3,2,1,2,1],[1,1,1,3,2,3],[1,3,1,1,2,3],[1,3,1,3,2,1],[1,1,2,3,1,3],[1,3,2,1,1,3],[1,3,2,3,1,1],[2,1,1,3,1,3],[2,3,1,1,1,3],[2,3,1,3,1,1],[1,1,2,1,3,3],[1,1,2,3,3,1],[1,3,2,1,3,1],[1,1,3,1,2,3],[1,1,3,3,2,1],[1,3,3,1,2,1],[3,1,3,1,2,1],[2,1,1,3,3,1],[2,3,1,1,3,1],[2,1,3,1,1,3],[2,1,3,3,1,1],[2,1,3,1,3,1],[3,1,1,1,2,3],[3,1,1,3,2,1],[3,3,1,1,2,1],[3,1,2,1,1,3],[3,1,2,3,1,1],[3,3,2,1,1,1],[3,1,4,1,1,1],[2,2,1,4,1,1],[4,3,1,1,1,1],[1,1,1,2,2,4],[1,1,1,4,2,2],[1,2,1,1,2,4],[1,2,1,4,2,1],[1,4,1,1,2,2],[1,4,1,2,2,1],[1,1,2,2,1,4],[1,1,2,4,1,2],[1,2,2,1,1,4],[1,2,2,4,1,1],[1,4,2,1,1,2],[1,4,2,2,1,1],[2,4,1,2,1,1],[2,2,1,1,1,4],[4,1,3,1,1,1],[2,4,1,1,1,2],[1,3,4,1,1,1],[1,1,1,2,4,2],[1,2,1,1,4,2],[1,2,1,2,4,1],[1,1,4,2,1,2],[1,2,4,1,1,2],[1,2,4,2,1,1],[4,1,1,2,1,2],[4,2,1,1,1,2],[4,2,1,2,1,1],[2,1,2,1,4,1],[2,1,4,1,2,1],[4,1,2,1,2,1],[1,1,1,1,4,3],[1,1,1,3,4,1],[1,3,1,1,4,1],[1,1,4,1,1,3],[1,1,4,3,1,1],[4,1,1,1,1,3],[4,1,1,3,1,1],[1,1,3,1,4,1],[1,1,4,1,3,1],[3,1,1,1,4,1],[4,1,1,1,3,1],[2,1,1,4,1,2],[2,1,1,2,1,4],[2,1,1,2,3,2],[2,3,3,1,1,1,2]]),ve()(ke()(R),"SINGLE_CODE_ERROR",.64),ve()(ke()(R),"AVG_CODE_ERROR",.3),ve()(ke()(R),"FORMAT","code_128"),ve()(ke()(R),"MODULE_INDICES",{bar:[0,2,4],space:[1,3,5]}),R}return _e()(de,[{key:"_decodeCode",value:function(R,Z){for(var W={error:Number.MAX_VALUE,code:-1,start:R,end:R,correction:{bar:1,space:1}},ne=[0,0,0,0,0,0],Me=!this._row[R],xe=0,Le=R;Le<this._row.length;Le++)if(this._row[Le]^(Me?1:0))ne[xe]++;else{if(xe===ne.length-1){Z&&this._correct(ne,Z);for(var ut=0;ut<this.CODE_PATTERN.length;ut++){var re=this._matchPattern(ne,this.CODE_PATTERN[ut]);re<W.error&&(W.code=ut,W.error=re)}return W.end=Le,-1===W.code||W.error>this.AVG_CODE_ERROR?null:(this.CODE_PATTERN[W.code]&&(W.correction.bar=this.calculateCorrection(this.CODE_PATTERN[W.code],ne,this.MODULE_INDICES.bar),W.correction.space=this.calculateCorrection(this.CODE_PATTERN[W.code],ne,this.MODULE_INDICES.space)),W)}ne[++xe]=1,Me=!Me}return null}},{key:"_correct",value:function(R,Z){this._correctBars(R,Z.bar,this.MODULE_INDICES.bar),this._correctBars(R,Z.space,this.MODULE_INDICES.space)}},{key:"_findStart",value:function(){for(var R=[0,0,0,0,0,0],Z=this._nextSet(this._row),W={error:Number.MAX_VALUE,code:-1,start:0,end:0,correction:{bar:1,space:1}},ne=!1,Te=0,Me=Z;Me<this._row.length;Me++)if(this._row[Me]^(ne?1:0))R[Te]++;else{if(Te===R.length-1){for(var xe=R.reduce(function(Ie,Ve){return Ie+Ve},0),Le=this.START_CODE_A;Le<=this.START_CODE_C;Le++){var ut=this._matchPattern(R,this.CODE_PATTERN[Le]);ut<W.error&&(W.code=Le,W.error=ut)}if(W.error<this.AVG_CODE_ERROR)return W.start=Me-xe,W.end=Me,W.correction.bar=this.calculateCorrection(this.CODE_PATTERN[W.code],R,this.MODULE_INDICES.bar),W.correction.space=this.calculateCorrection(this.CODE_PATTERN[W.code],R,this.MODULE_INDICES.space),W;for(var re=0;re<4;re++)R[re]=R[re+2];R[4]=0,R[5]=0,Te--}else Te++;R[Te]=1,ne=!ne}return null}},{key:"decode",value:function(R,Z){var W=this,ne=this._findStart();if(null===ne)return null;var Te={code:ne.code,start:ne.start,end:ne.end,correction:{bar:ne.correction.bar,space:ne.correction.space}},Me=[];Me.push(Te);for(var xe=Te.code,Le=function(Pn){switch(Pn){case W.START_CODE_A:return W.CODE_A;case W.START_CODE_B:return W.CODE_B;case W.START_CODE_C:return W.CODE_C;default:return null}}(Te.code),ut=!1,re=!1,Ie=re,Ve=!0,Tt=0,hn=[],An=[];!ut;){if(Ie=re,re=!1,null!==(Te=this._decodeCode(Te.end,Te.correction)))switch(Te.code!==this.STOP_CODE&&(Ve=!0),Te.code!==this.STOP_CODE&&(hn.push(Te.code),xe+=++Tt*Te.code),Me.push(Te),Le){case this.CODE_A:if(Te.code<64)An.push(String.fromCharCode(32+Te.code));else if(Te.code<96)An.push(String.fromCharCode(Te.code-64));else switch(Te.code!==this.STOP_CODE&&(Ve=!1),Te.code){case this.CODE_SHIFT:re=!0,Le=this.CODE_B;break;case this.CODE_B:Le=this.CODE_B;break;case this.CODE_C:Le=this.CODE_C;break;case this.STOP_CODE:ut=!0}break;case this.CODE_B:if(Te.code<96)An.push(String.fromCharCode(32+Te.code));else switch(Te.code!==this.STOP_CODE&&(Ve=!1),Te.code){case this.CODE_SHIFT:re=!0,Le=this.CODE_A;break;case this.CODE_A:Le=this.CODE_A;break;case this.CODE_C:Le=this.CODE_C;break;case this.STOP_CODE:ut=!0}break;case this.CODE_C:if(Te.code<100)An.push(Te.code<10?"0"+Te.code:Te.code);else switch(Te.code!==this.STOP_CODE&&(Ve=!1),Te.code){case this.CODE_A:Le=this.CODE_A;break;case this.CODE_B:Le=this.CODE_B;break;case this.STOP_CODE:ut=!0}}else ut=!0;Ie&&(Le=Le===this.CODE_A?this.CODE_B:this.CODE_A)}return null===Te?null:(Te.end=this._nextUnset(this._row,Te.end),this._verifyTrailingWhitespace(Te)?(xe-=Tt*hn[hn.length-1])%103!==hn[hn.length-1]?null:An.length?(Ve&&An.splice(An.length-1,1),{code:An.join(""),start:ne.start,end:Te.end,codeset:Le,startInfo:ne,decodedCodes:Me,endInfo:Te,format:this.FORMAT}):null:null)}},{key:"_verifyTrailingWhitespace",value:function(R){var Z;return(Z=R.end+(R.end-R.start)/2)<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"calculateCorrection",value:function(R,Z,W){for(var ne=W.length,Te=0,Me=0;ne--;)Me+=R[W[ne]],Te+=Z[W[ne]];return Me/Te}}]),de}(oe),br=p(13),vr=p.n(br),ni=p(33),xr=p.n(ni);var Ni=new Uint16Array(xr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. *$/+%").map(function(Ce){return Ce.charCodeAt(0)})),Ei=new Uint16Array([52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,148,168,162,138,42]),Kr=function(Ce){Ke()(de,Ce);var Oe=function jr(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","code_39"),R}return _e()(de,[{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=R,W=new Uint16Array([0,0,0,0,0,0,0,0,0]),ne=0,Te=!1,Me=R;Me<this._row.length;Me++)if(this._row[Me]^(Te?1:0))W[ne]++;else{if(ne===W.length-1){if(148===this._toPattern(W)){var xe=Math.floor(Math.max(0,Z-(Me-Z)/4));if(this._matchRange(xe,Z,0))return{start:Z,end:Me}}Z+=W[0]+W[1];for(var Le=0;Le<7;Le++)W[Le]=W[Le+2];W[7]=0,W[8]=0,ne--}else ne++;W[ne]=1,Te=!Te}return null}},{key:"_toPattern",value:function(R){for(var Z=R.length,W=0,ne=Z,Te=0;ne>3;){W=this._findNextWidth(R,W),ne=0;for(var Me=0,xe=0;xe<Z;xe++)R[xe]>W&&(Me|=1<<Z-1-xe,ne++,Te+=R[xe]);if(3===ne){for(var Le=0;Le<Z&&ne>0;Le++)if(R[Le]>W&&(ne--,2*R[Le]>=Te))return-1;return Me}}return-1}},{key:"_findNextWidth",value:function(R,Z){for(var W=Number.MAX_VALUE,ne=0;ne<R.length;ne++)R[ne]<W&&R[ne]>Z&&(W=R[ne]);return W}},{key:"_patternToChar",value:function(R){for(var Z=0;Z<Ei.length;Z++)if(Ei[Z]===R)return String.fromCharCode(Ni[Z]);return null}},{key:"_verifyTrailingWhitespace",value:function(R,Z,W){var ne=me.a.sum(W);return 3*(Z-R-ne)>=ne}},{key:"decode",value:function(){var R=new Uint16Array([0,0,0,0,0,0,0,0,0]),Z=[],W=this._findStart();if(!W)return null;var ne,Te,Me=this._nextSet(this._row,W.end);do{R=this._toCounters(Me,R);var xe=this._toPattern(R);if(xe<0||null===(ne=this._patternToChar(xe)))return null;Z.push(ne),Te=Me,Me+=me.a.sum(R),Me=this._nextSet(this._row,Me)}while("*"!==ne);return Z.pop(),Z.length&&this._verifyTrailingWhitespace(Te,Me,R)?{code:Z.join(""),start:W.start,end:Me,startInfo:W,decodedCodes:Z,format:this.FORMAT}:null}}]),de}(oe);var Bi=/[AEIO]/g,Bn=function(Ce){Ke()(de,Ce);var Oe=function Zr(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","code_32_reader"),R}return _e()(de,[{key:"_decodeCode32",value:function(R){if(/[^0-9BCDFGHJKLMNPQRSTUVWXYZ]/.test(R))return null;for(var Z=0,W=0;W<R.length;W++)Z=32*Z+"0123456789BCDFGHJKLMNPQRSTUVWXYZ".indexOf(R[W]);var ne="".concat(Z);return ne.length<9&&(ne=("000000000"+ne).slice(-9)),"A"+ne}},{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=vr()(Ze()(de.prototype),"decode",this).call(this);if(!R)return null;var Z=R.code;if(!Z||(Z=Z.replace(Bi,""),!this._checkChecksum(Z)))return null;var W=this._decodeCode32(Z);return W?(R.code=W,R):null}}]),de}(Kr);var ri=/[IOQ]/g,Qr=/[A-Z0-9]{17}/,Fe=function(Ce){Ke()(de,Ce);var Oe=function zi(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","code_39_vin"),R}return _e()(de,[{key:"_checkChecksum",value:function(R){return!!R}},{key:"decode",value:function(){var R=vr()(Ze()(de.prototype),"decode",this).call(this);if(!R)return null;var Z=R.code;return Z&&(Z=Z.replace(ri,"")).match(Qr)&&this._checkChecksum(Z)?(R.code=Z,R):null}}]),de}(Kr);var Be=new Uint16Array(xr()("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*").map(function(Ce){return Ce.charCodeAt(0)})),ce=new Uint16Array([276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350]),ye=function(Ce){Ke()(de,Ce);var Oe=function gt(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","code_93"),R}return _e()(de,[{key:"_patternToChar",value:function(R){for(var Z=0;Z<ce.length;Z++)if(ce[Z]===R)return String.fromCharCode(Be[Z]);return null}},{key:"_toPattern",value:function(R){for(var Z=R.length,W=R.reduce(function(Le,ut){return Le+ut},0),ne=0,Te=0;Te<Z;Te++){var Me=Math.round(9*R[Te]/W);if(Me<1||Me>4)return-1;if(0==(1&Te))for(var xe=0;xe<Me;xe++)ne=ne<<1|1;else ne<<=Me}return ne}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=R,W=new Uint16Array([0,0,0,0,0,0]),ne=0,Te=!1,Me=R;Me<this._row.length;Me++)if(this._row[Me]^(Te?1:0))W[ne]++;else{if(ne===W.length-1){if(350===this._toPattern(W)){var xe=Math.floor(Math.max(0,Z-(Me-Z)/4));if(this._matchRange(xe,Z,0))return{start:Z,end:Me}}Z+=W[0]+W[1];for(var Le=0;Le<4;Le++)W[Le]=W[Le+2];W[4]=0,W[5]=0,ne--}else ne++;W[ne]=1,Te=!Te}return null}},{key:"_verifyEnd",value:function(R,Z){return!(R===Z||!this._row[Z])}},{key:"_decodeExtended",value:function(R){for(var Z=R.length,W=[],ne=0;ne<Z;ne++){var Te=R[ne];if(Te>="a"&&Te<="d"){if(ne>Z-2)return null;var Me=R[++ne],xe=Me.charCodeAt(0),Le=void 0;switch(Te){case"a":if(!(Me>="A"&&Me<="Z"))return null;Le=String.fromCharCode(xe-64);break;case"b":if(Me>="A"&&Me<="E")Le=String.fromCharCode(xe-38);else if(Me>="F"&&Me<="J")Le=String.fromCharCode(xe-11);else if(Me>="K"&&Me<="O")Le=String.fromCharCode(xe+16);else if(Me>="P"&&Me<="S")Le=String.fromCharCode(xe+43);else{if(!(Me>="T"&&Me<="Z"))return null;Le=String.fromCharCode(127)}break;case"c":if(Me>="A"&&Me<="O")Le=String.fromCharCode(xe-32);else{if("Z"!==Me)return null;Le=":"}break;case"d":if(!(Me>="A"&&Me<="Z"))return null;Le=String.fromCharCode(xe+32);break;default:return console.warn("* code_93_reader _decodeExtended hit default case, this may be an error",Le),null}W.push(Le)}else W.push(Te)}return W}},{key:"_matchCheckChar",value:function(R,Z,W){var ne=R.slice(0,Z),Te=ne.length,Me=ne.reduce(function(xe,Le,ut){return xe+((-1*ut+(Te-1))%W+1)*Be.indexOf(Le.charCodeAt(0))},0);return Be[Me%47]===R[Z].charCodeAt(0)}},{key:"_verifyChecksums",value:function(R){return this._matchCheckChar(R,R.length-2,20)&&this._matchCheckChar(R,R.length-1,15)}},{key:"decode",value:function(R,Z){if(!(Z=this._findStart()))return null;var W,ne,Te=new Uint16Array([0,0,0,0,0,0]),Me=[],xe=this._nextSet(this._row,Z.end);do{Te=this._toCounters(xe,Te);var Le=this._toPattern(Te);if(Le<0||null===(ne=this._patternToChar(Le)))return null;Me.push(ne),W=xe,xe+=me.a.sum(Te),xe=this._nextSet(this._row,xe)}while("*"!==ne);return Me.pop(),Me.length&&this._verifyEnd(W,xe)&&this._verifyChecksums(Me)?(Me=Me.slice(0,Me.length-2),null===(Me=this._decodeExtended(Me))?null:{code:Me.join(""),start:Z.start,end:xe,startInfo:Z,decodedCodes:Me,format:this.FORMAT}):null}}]),de}(oe);function at(Ce,Oe){var de=Object.keys(Ce);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ce);Oe&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Ce,Z).enumerable})),de.push.apply(de,R)}return de}function ct(Ce){for(var Oe=1;Oe<arguments.length;Oe++){var de=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?at(Object(de),!0).forEach(function(R){ve()(Ce,R,de[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(de)):at(Object(de)).forEach(function(R){Object.defineProperty(Ce,R,Object.getOwnPropertyDescriptor(de,R))})}return Ce}var Ot=[1,1,1],dn=[1,1,1,1,1],qt=[1,1,2],cn=[[3,2,1,1],[2,2,2,1],[2,1,2,2],[1,4,1,1],[1,1,3,2],[1,2,3,1],[1,1,1,4],[1,3,1,2],[1,2,1,3],[3,1,1,2],[1,1,2,3],[1,2,2,2],[2,2,1,2],[1,1,4,1],[2,3,1,1],[1,3,2,1],[4,1,1,1],[2,1,3,1],[3,1,2,1],[2,1,1,3]],Gn=[0,11,13,14,19,25,28,21,22,26],fn=function(Ce){Ke()(de,Ce);var Oe=function yt(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(R,Z){var W;return Je()(this,de),W=Oe.call(this,ee()({supplements:[]},R),Z),ve()(ke()(W),"FORMAT","ean_13"),ve()(ke()(W),"SINGLE_CODE_ERROR",.7),ve()(ke()(W),"STOP_PATTERN",[1,1,1]),W}return _e()(de,[{key:"_findPattern",value:function(R,Z,W,ne){var Te=new Array(R.length).fill(0),Me={error:Number.MAX_VALUE,start:0,end:0},xe=0;Z||(Z=this._nextSet(this._row));for(var Le=!1,ut=Z;ut<this._row.length;ut++)if(this._row[ut]^(W?1:0))Te[xe]+=1;else{if(xe===Te.length-1){var re=this._matchPattern(Te,R);if(re<.48&&Me.error&&re<Me.error)return Le=!0,Me.error=re,Me.start=ut-Te.reduce(function(Ve,Tt){return Ve+Tt},0),Me.end=ut,Me;if(ne){for(var Ie=0;Ie<Te.length-2;Ie++)Te[Ie]=Te[Ie+2];Te[Te.length-2]=0,Te[Te.length-1]=0,xe--}}else xe++;Te[xe]=1,W=!W}return Le?Me:null}},{key:"_decodeCode",value:function(R,Z){var W=[0,0,0,0],Te={error:Number.MAX_VALUE,code:-1,start:R,end:R},Me=!this._row[R],xe=0;Z||(Z=cn.length);for(var Le=R;Le<this._row.length;Le++)if(this._row[Le]^(Me?1:0))W[xe]++;else{if(xe===W.length-1){for(var ut=0;ut<Z;ut++){var re=this._matchPattern(W,cn[ut]);Te.end=Le,re<Te.error&&(Te.code=ut,Te.error=re)}return Te.error>.48?null:Te}W[++xe]=1,Me=!Me}return null}},{key:"_findStart",value:function(){for(var R=this._nextSet(this._row),Z=null;!Z;){if(!(Z=this._findPattern(Ot,R,!1,!0)))return null;var W=Z.start-(Z.end-Z.start);if(W>=0&&this._matchRange(W,Z.start,0))return Z;R=Z.end,Z=null}return null}},{key:"_calculateFirstDigit",value:function(R){for(var Z=0;Z<Gn.length;Z++)if(R===Gn[Z])return Z;return null}},{key:"_decodePayload",value:function(R,Z,W){for(var ne=ct({},R),Te=0,Me=0;Me<6;Me++){if(!(ne=this._decodeCode(ne.end)))return null;ne.code>=10?(ne.code-=10,Te|=1<<5-Me):Te|=0<<5-Me,Z.push(ne.code),W.push(ne)}var xe=this._calculateFirstDigit(Te);if(null===xe)return null;Z.unshift(xe);var Le=this._findPattern(dn,ne.end,!0,!1);if(null===Le||!Le.end)return null;W.push(Le);for(var ut=0;ut<6;ut++){if(!(Le=this._decodeCode(Le.end,10)))return null;W.push(Le),Z.push(Le.code)}return Le}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start);return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(R,Z){var W=this._findPattern(this.STOP_PATTERN,R,Z,!1);return null!==W?this._verifyTrailingWhitespace(W):null}},{key:"_checksum",value:function(R){for(var Z=0,W=R.length-2;W>=0;W-=2)Z+=R[W];Z*=3;for(var ne=R.length-1;ne>=0;ne-=2)Z+=R[ne];return Z%10==0}},{key:"_decodeExtensions",value:function(R){var Z=this._nextSet(this._row,R),W=this._findPattern(qt,Z,!1,!1);if(null===W)return null;for(var ne=0;ne<this.supplements.length;ne++)try{var Te=this.supplements[ne].decode(this._row,W.end);if(null!==Te)return{code:Te.code,start:Z,startInfo:W,end:Te.end,decodedCodes:Te.decodedCodes,format:this.supplements[ne].FORMAT}}catch(Me){console.error("* decodeExtensions error in ",this.supplements[ne],": ",Me)}return null}},{key:"decode",value:function(R,Z){var W=new Array,ne=new Array,Te={},Me=this._findStart();if(!Me)return null;var xe={start:Me.start,end:Me.end};if(ne.push(xe),!(xe=this._decodePayload(xe,W,ne))||!(xe=this._findEnd(xe.end,!1))||(ne.push(xe),!this._checksum(W)))return null;if(this.supplements.length>0){var Le=this._decodeExtensions(xe.end);if(!Le||!Le.decodedCodes)return null;var ut=Le.decodedCodes[Le.decodedCodes.length-1];if(!this._verifyTrailingWhitespace({start:ut.start+((ut.end-ut.start)/2|0),end:ut.end}))return null;Te={supplement:Le,code:W.join("")+Le.code}}return ct(ct({code:W.join(""),start:Me.start,end:xe.end,startInfo:Me,decodedCodes:ne},Te),{},{format:this.FORMAT})}}]),de}(oe);var jt=function(Ce){Ke()(de,Ce);var Oe=function Hn(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","ean_2"),R}return _e()(de,[{key:"decode",value:function(R,Z){R&&(this._row=R);var W=0,ne=Z,Te=this._row.length,Me=[],xe=[],Le=null;if(void 0===ne)return null;for(var ut=0;ut<2&&ne<Te;ut++){if(!(Le=this._decodeCode(ne)))return null;xe.push(Le),Me.push(Le.code%10),Le.code>=10&&(W|=1<<1-ut),1!==ut&&(ne=this._nextSet(this._row,Le.end),ne=this._nextUnset(this._row,ne))}if(2!==Me.length||parseInt(Me.join(""))%4!==W)return null;var re=this._findStart();return{code:Me.join(""),decodedCodes:xe,end:Le.end,format:this.FORMAT,startInfo:re,start:re.start}}}]),de}(fn);var kn=[24,20,18,17,12,6,3,10,9,5],Bt=function(Ce){Ke()(de,Ce);var Oe=function Xn(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","ean_5"),R}return _e()(de,[{key:"decode",value:function(R,Z){if(void 0===Z)return null;R&&(this._row=R);for(var W=0,ne=Z,Te=this._row.length,Me=null,xe=[],Le=[],ut=0;ut<5&&ne<Te;ut++){if(!(Me=this._decodeCode(ne)))return null;Le.push(Me),xe.push(Me.code%10),Me.code>=10&&(W|=1<<4-ut),4!==ut&&(ne=this._nextSet(this._row,Me.end),ne=this._nextUnset(this._row,ne))}if(5!==xe.length||function(Ie){for(var Ve=Ie.length,Tt=0,hn=Ve-2;hn>=0;hn-=2)Tt+=Ie[hn];Tt*=3;for(var An=Ve-1;An>=0;An-=2)Tt+=Ie[An];return(Tt*=3)%10}(xe)!==function(Ie){for(var Ve=0;Ve<10;Ve++)if(Ie===kn[Ve])return Ve;return null}(W))return null;var re=this._findStart();return{code:xe.join(""),decodedCodes:Le,end:Me.end,format:this.FORMAT,startInfo:re,start:re.start}}}]),de}(fn);var tn=function(Ce){Ke()(de,Ce);var Oe=function ht(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","ean_8"),R}return _e()(de,[{key:"_decodePayload",value:function(R,Z,W){for(var ne=R,Te=0;Te<4;Te++){if(!(ne=this._decodeCode(ne.end,10)))return null;Z.push(ne.code),W.push(ne)}if(null===(ne=this._findPattern(dn,ne.end,!0,!1)))return null;W.push(ne);for(var Me=0;Me<4;Me++){if(!(ne=this._decodeCode(ne.end,10)))return null;W.push(ne),Z.push(ne.code)}return ne}}]),de}(fn);var Zn=function(Ce){Ke()(de,Ce);var Oe=function vn(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(R){var Z;return Je()(this,de),Z=Oe.call(this,ee()({normalizeBarSpaceWidth:!1},R)),ve()(ke()(Z),"barSpaceRatio",[1,1]),ve()(ke()(Z),"SINGLE_CODE_ERROR",.78),ve()(ke()(Z),"AVG_CODE_ERROR",.38),ve()(ke()(Z),"START_PATTERN",[1,1,1,1]),ve()(ke()(Z),"STOP_PATTERN",[1,1,3]),ve()(ke()(Z),"CODE_PATTERN",[[1,1,3,3,1],[3,1,1,1,3],[1,3,1,1,3],[3,3,1,1,1],[1,1,3,1,3],[3,1,3,1,1],[1,3,3,1,1],[1,1,1,3,3],[3,1,1,3,1],[1,3,1,3,1]]),ve()(ke()(Z),"MAX_CORRECTION_FACTOR",5),ve()(ke()(Z),"FORMAT","i2of5"),R.normalizeBarSpaceWidth&&(Z.SINGLE_CODE_ERROR=.38,Z.AVG_CODE_ERROR=.09),Z.config=R,Ae()(Z,ke()(Z))}return _e()(de,[{key:"_matchPattern",value:function(R,Z){if(this.config.normalizeBarSpaceWidth){for(var W=[0,0],ne=[0,0],Te=[0,0],Me=this.MAX_CORRECTION_FACTOR,xe=1/Me,Le=0;Le<R.length;Le++)W[Le%2]+=R[Le],ne[Le%2]+=Z[Le];Te[0]=ne[0]/W[0],Te[1]=ne[1]/W[1],Te[0]=Math.max(Math.min(Te[0],Me),xe),Te[1]=Math.max(Math.min(Te[1],Me),xe),this.barSpaceRatio=Te;for(var ut=0;ut<R.length;ut++)R[ut]*=this.barSpaceRatio[ut%2]}return vr()(Ze()(de.prototype),"_matchPattern",this).call(this,R,Z)}},{key:"_findPattern",value:function(R,Z){var W=arguments.length>2&&void 0!==arguments[2]&&arguments[2],ne=arguments.length>3&&void 0!==arguments[3]&&arguments[3],Te=new Array(R.length).fill(0),Me=0,xe={error:Number.MAX_VALUE,start:0,end:0},Le=this.AVG_CODE_ERROR;W=W||!1,ne=ne||!1,Z||(Z=this._nextSet(this._row));for(var ut=Z;ut<this._row.length;ut++)if(this._row[ut]^(W?1:0))Te[Me]++;else{if(Me===Te.length-1){var re=Te.reduce(function(Tt,hn){return Tt+hn},0),Ie=this._matchPattern(Te,R);if(Ie<Le)return xe.error=Ie,xe.start=ut-re,xe.end=ut,xe;if(!ne)return null;for(var Ve=0;Ve<Te.length-2;Ve++)Te[Ve]=Te[Ve+2];Te[Te.length-2]=0,Te[Te.length-1]=0,Me--}else Me++;Te[Me]=1,W=!W}return null}},{key:"_findStart",value:function(){for(var R=0,Z=this._nextSet(this._row),W=null,ne=1;!W;){if(!(W=this._findPattern(this.START_PATTERN,Z,!1,!0)))return null;if(ne=Math.floor((W.end-W.start)/4),(R=W.start-10*ne)>=0&&this._matchRange(R,W.start,0))return W;Z=W.end,W=null}return null}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}},{key:"_findEnd",value:function(){this._row.reverse();var R=this._findPattern(this.STOP_PATTERN);if(this._row.reverse(),null===R)return null;var Z=R.start;return R.start=this._row.length-R.end,R.end=this._row.length-Z,null!==R?this._verifyTrailingWhitespace(R):null}},{key:"_decodePair",value:function(R){for(var Z=[],W=0;W<R.length;W++){var ne=this._decodeCode(R[W]);if(!ne)return null;Z.push(ne)}return Z}},{key:"_decodeCode",value:function(R){for(var Z=this.AVG_CODE_ERROR,W={error:Number.MAX_VALUE,code:-1,start:0,end:0},ne=0;ne<this.CODE_PATTERN.length;ne++){var Te=this._matchPattern(R,this.CODE_PATTERN[ne]);Te<W.error&&(W.code=ne,W.error=Te)}return W.error<Z?W:null}},{key:"_decodePayload",value:function(R,Z,W){for(var ne=0,Te=R.length,Me=[[0,0,0,0,0],[0,0,0,0,0]],xe=null;ne<Te;){for(var Le=0;Le<5;Le++)Me[0][Le]=R[ne]*this.barSpaceRatio[0],Me[1][Le]=R[ne+1]*this.barSpaceRatio[1],ne+=2;if(!(xe=this._decodePair(Me)))return null;for(var ut=0;ut<xe.length;ut++)Z.push(xe[ut].code+""),W.push(xe[ut])}return xe}},{key:"_verifyCounterLength",value:function(R){return R.length%10==0}},{key:"decode",value:function(R,Z){var W=new Array,ne=new Array,Te=this._findStart();if(!Te)return null;ne.push(Te);var Me=this._findEnd();if(!Me)return null;var xe=this._fillCounters(Te.end,Me.start,!1);return this._verifyCounterLength(xe)&&this._decodePayload(xe,W,ne)?W.length%2!=0||W.length<6?null:(ne.push(Me),{code:W.join(""),start:Te.start,end:Me.end,startInfo:Te,decodedCodes:ne,format:this.FORMAT}):null}}]),de}(oe);function jn(Ce,Oe){var de=Object.keys(Ce);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ce);Oe&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Ce,Z).enumerable})),de.push.apply(de,R)}return de}var Se=function(Ce){Ke()(de,Ce);var Oe=function Pe(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"CODE_FREQUENCY",[[56,52,50,49,44,38,35,42,41,37],[7,11,13,14,19,25,28,21,22,26]]),ve()(ke()(R),"STOP_PATTERN",[1/6*7,1/6*7,1/6*7,1/6*7,1/6*7,1/6*7]),ve()(ke()(R),"FORMAT","upc_e"),R}return _e()(de,[{key:"_decodePayload",value:function(R,Z,W){for(var ne=function(xe){for(var Le=1;Le<arguments.length;Le++){var ut=null!=arguments[Le]?arguments[Le]:{};Le%2?jn(Object(ut),!0).forEach(function(re){ve()(xe,re,ut[re])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(ut)):jn(Object(ut)).forEach(function(re){Object.defineProperty(xe,re,Object.getOwnPropertyDescriptor(ut,re))})}return xe}({},R),Te=0,Me=0;Me<6;Me++){if(!(ne=this._decodeCode(ne.end)))return null;ne.code>=10&&(ne.code=ne.code-10,Te|=1<<5-Me),Z.push(ne.code),W.push(ne)}return this._determineParity(Te,Z)?ne:null}},{key:"_determineParity",value:function(R,Z){for(var W=0;W<this.CODE_FREQUENCY.length;W++)for(var ne=0;ne<this.CODE_FREQUENCY[W].length;ne++)if(R===this.CODE_FREQUENCY[W][ne])return Z.unshift(W),Z.push(ne),!0;return!1}},{key:"_convertToUPCA",value:function(R){var Z=[R[0]],W=R[R.length-2];return(Z=W<=2?Z.concat(R.slice(1,3)).concat([W,0,0,0,0]).concat(R.slice(3,6)):3===W?Z.concat(R.slice(1,4)).concat([0,0,0,0,0]).concat(R.slice(4,6)):4===W?Z.concat(R.slice(1,5)).concat([0,0,0,0,0,R[5]]):Z.concat(R.slice(1,6)).concat([0,0,0,0,W])).push(R[R.length-1]),Z}},{key:"_checksum",value:function(R){return vr()(Ze()(de.prototype),"_checksum",this).call(this,this._convertToUPCA(R))}},{key:"_findEnd",value:function(R,Z){return vr()(Ze()(de.prototype),"_findEnd",this).call(this,R,!0)}},{key:"_verifyTrailingWhitespace",value:function(R){var Z=R.end+(R.end-R.start)/2;return Z<this._row.length&&this._matchRange(R.end,Z,0)?R:null}}]),de}(fn);var lt=function(Ce){Ke()(de,Ce);var Oe=function be(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(){var R;Je()(this,de);for(var Z=arguments.length,W=new Array(Z),ne=0;ne<Z;ne++)W[ne]=arguments[ne];return R=Oe.call.apply(Oe,[this].concat(W)),ve()(ke()(R),"FORMAT","upc_a"),R}return _e()(de,[{key:"decode",value:function(R,Z){var W=fn.prototype.decode.call(this);return W&&W.code&&13===W.code.length&&"0"===W.code.charAt(0)?(W.code=W.code.substring(1),W):null}}]),de}(fn),$e={},zt_UP=1,zt_DOWN=-1;$e.getBarcodeLine=function(Ce,Oe,de){var R,Z,W,ne,Te,Me=0|Oe.x,xe=0|Oe.y,Le=0|de.x,ut=0|de.y,re=Math.abs(ut-xe)>Math.abs(Le-Me),Ie=[],Ve=Ce.data,Tt=Ce.size.x,hn=255,An=0;function Pn(Xr,Ki){hn=(Te=Ve[Ki*Tt+Xr])<hn?Te:hn,An=Te>An?Te:An,Ie.push(Te)}re&&(W=Me,Me=xe,xe=W,W=Le,Le=ut,ut=W),Me>Le&&(W=Me,Me=Le,Le=W,W=xe,xe=ut,ut=W);var Fn=Le-Me,dr=Math.abs(ut-xe);R=Fn/2|0,Z=xe;var Mr=xe<ut?1:-1;for(ne=Me;ne<Le;ne++)re?Pn(Z,ne):Pn(ne,Z),(R-=dr)<0&&(Z+=Mr,R+=Fn);return{line:Ie,min:hn,max:An}},$e.toBinaryLine=function(Ce){var Oe,de,R,Z,W,ne,Te=Ce.min,Me=Ce.max,xe=Ce.line,Le=Te+(Me-Te)/2,ut=[],re=(Me-Te)/12,Ie=-re;for(R=xe[0]>Le?zt_UP:zt_DOWN,ut.push({pos:0,val:xe[0]}),W=0;W<xe.length-2;W++)R!==(Z=(Oe=xe[W+1]-xe[W])+(de=xe[W+2]-xe[W+1])<Ie&&xe[W+1]<1.5*Le?zt_DOWN:Oe+de>re&&xe[W+1]>.5*Le?zt_UP:R)&&(ut.push({pos:W,val:xe[W]}),R=Z);for(ut.push({pos:xe.length,val:xe[xe.length-1]}),ne=ut[0].pos;ne<ut[1].pos;ne++)xe[ne]=xe[ne]>Le?0:1;for(W=1;W<ut.length-1;W++)for(re=ut[W+1].val>ut[W].val?ut[W].val+(ut[W+1].val-ut[W].val)/3*2|0:ut[W+1].val+(ut[W].val-ut[W+1].val)/3|0,ne=ut[W].pos;ne<ut[W+1].pos;ne++)xe[ne]=xe[ne]>re?0:1;return{line:xe,threshold:re}},$e.debug={printFrequency:function(Ce,Oe){var de,R=Oe.getContext("2d");for(Oe.width=Ce.length,Oe.height=256,R.beginPath(),R.strokeStyle="blue",de=0;de<Ce.length;de++)R.moveTo(de,255),R.lineTo(de,255-Ce[de]);R.stroke(),R.closePath()},printPattern:function(Ce,Oe){var de,R=Oe.getContext("2d");for(Oe.width=Ce.length,R.fillColor="black",de=0;de<Ce.length;de++)1===Ce[de]&&R.fillRect(de,0,1,100)}};var qn=$e;function zn(Ce,Oe){var de="undefined"!=typeof Symbol&&Ce[Symbol.iterator]||Ce["@@iterator"];if(!de){if(Array.isArray(Ce)||(de=function(Me,xe){if(Me){if("string"==typeof Me)return ir(Me,undefined);var Le=Object.prototype.toString.call(Me).slice(8,-1);if("Object"===Le&&Me.constructor&&(Le=Me.constructor.name),"Map"===Le||"Set"===Le)return Array.from(Me);if("Arguments"===Le||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Le))return ir(Me,undefined)}}(Ce))||Oe&&Ce&&"number"==typeof Ce.length){de&&(Ce=de);var R=0,Z=function(){};return{s:Z,n:function(){return R>=Ce.length?{done:!0}:{done:!1,value:Ce[R++]}},e:function(Me){throw Me},f:Z}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var W,ne=!0,Te=!1;return{s:function(){de=de.call(Ce)},n:function(){var Me=de.next();return ne=Me.done,Me},e:function(Me){Te=!0,W=Me},f:function(){try{ne||null==de.return||de.return()}finally{if(Te)throw W}}}}function ir(Ce,Oe){(null==Oe||Oe>Ce.length)&&(Oe=Ce.length);for(var de=0,R=new Array(Oe);de<Oe;de++)R[de]=Ce[de];return R}var or={code_128_reader:Dr,ean_reader:fn,ean_5_reader:Bt,ean_2_reader:jt,ean_8_reader:tn,code_39_reader:Kr,code_39_vin_reader:Fe,codabar_reader:rr,upc_reader:lt,upc_e_reader:Se,i2of5_reader:Zn,"2of5_reader":Sn,code_93_reader:ye,code_32_reader:Bn},sr={registerReader:function(Ce,Oe){or[Ce]=Oe},create:function(Ce,Oe){var R=[];function Z(){Ce.readers.forEach(function(xe){var Le,ut={},re=[];"object"===M()(xe)?(Le=xe.format,ut=xe.config):"string"==typeof xe&&(Le=xe),ut.supplements&&(re=ut.supplements.map(function(Ve){return new or[Ve]}));try{var Ie=new or[Le](ut,re);R.push(Ie)}catch(Ve){throw console.error("* Error constructing reader ",Le,Ve),Ve}})}function W(xe){var Le,ut=null,re=qn.getBarcodeLine(Oe,xe[0],xe[1]);for(qn.toBinaryLine(re),Le=0;Le<R.length&&null===ut;Le++)ut=R[Le].decodePattern(re.line);return null===ut?null:{codeResult:ut,barcodeLine:re}}function ne(xe){return Te.apply(this,arguments)}function Te(){return(Te=K()(ge.a.mark(function xe(Le){var ut,re,Ie,Ve;return ge.a.wrap(function(Tt){for(;;)switch(Tt.prev=Tt.next){case 0:ut=null,re=zn(R),Tt.prev=2,re.s();case 4:if((Ie=re.n()).done){Tt.next=14;break}if(!(Ve=Ie.value).decodeImage){Tt.next=12;break}return Tt.next=9,Ve.decodeImage(Le);case 9:if(!(ut=Tt.sent)){Tt.next=12;break}return Tt.abrupt("break",14);case 12:Tt.next=4;break;case 14:Tt.next=19;break;case 16:Tt.prev=16,Tt.t0=Tt.catch(2),re.e(Tt.t0);case 19:return Tt.prev=19,re.f(),Tt.finish(19);case 22:return Tt.abrupt("return",ut);case 23:case"end":return Tt.stop()}},xe,null,[[2,16,19,22]])}))).apply(this,arguments)}function Me(xe){var Le,ut,Ve,re=function(Ve){return Math.sqrt(Math.pow(Math.abs(Ve[1].y-Ve[0].y),2)+Math.pow(Math.abs(Ve[1].x-Ve[0].x),2))}(Le=[{x:((Ve=xe)[1][0]-Ve[0][0])/2+Ve[0][0],y:(Ve[1][1]-Ve[0][1])/2+Ve[0][1]},{x:(Ve[3][0]-Ve[2][0])/2+Ve[2][0],y:(Ve[3][1]-Ve[2][1])/2+Ve[2][1]}]),Ie=Math.atan2(Le[1].y-Le[0].y,Le[1].x-Le[0].x);return null===(Le=function(Ve,Tt,hn){function An(Pn){var Fn=Pn*Math.sin(Tt),dr=Pn*Math.cos(Tt);Ve[0].y-=Fn,Ve[0].x-=dr,Ve[1].y+=Fn,Ve[1].x+=dr}for(An(hn);hn>1&&(!Oe.inImageWithBorder(Ve[0])||!Oe.inImageWithBorder(Ve[1]));)An(-(hn-=Math.ceil(hn/2)));return Ve}(Le,Ie,Math.floor(.1*re)))?null:(null===(ut=W(Le))&&(ut=function(Ve,Tt,hn){var An,Pn,Fn,dr=Math.sqrt(Math.pow(Ve[1][0]-Ve[0][0],2)+Math.pow(Ve[1][1]-Ve[0][1],2)),Mr=null,Xr=Math.sin(hn),Ki=Math.cos(hn);for(An=1;An<16&&null===Mr;An++)Fn={y:(Pn=dr/16*An*(An%2==0?-1:1))*Xr,x:Pn*Ki},Tt[0].y+=Fn.x,Tt[0].x-=Fn.y,Tt[1].y+=Fn.x,Tt[1].x-=Fn.y,Mr=W(Tt);return Mr}(xe,Le,Ie)),null===ut?null:{codeResult:ut.codeResult,line:Le,angle:Ie,pattern:ut.barcodeLine.line,threshold:ut.barcodeLine.threshold})}return Z(),{decodeFromBoundingBox:function(xe){return Me(xe)},decodeFromBoundingBoxes:function(xe){var Le,ut,re=[],Ie=Ce.multiple;for(Le=0;Le<xe.length;Le++){var Ve=xe[Le];if((ut=Me(Ve)||{}).box=Ve,Ie)re.push(ut);else if(ut.codeResult)return ut}return{barcodes:re}},decodeFromImage:function(xe){return K()(ge.a.mark(function Le(){return ge.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,ne(xe);case 2:return re.abrupt("return",re.sent);case 4:case"end":return re.stop()}},Le)}))()},registerReader:function(xe,Le){if(or[xe])throw new Error("cannot register existing reader",xe);or[xe]=Le},setReaders:function(xe){Ce.readers=xe,R.length=0,Z()}}}},Cn=function(){var Ce={};function Oe(Z){return Ce[Z]||(Ce[Z]={subscribers:[]}),Ce[Z]}function de(Z,W){Z.async?setTimeout(function(){Z.callback(W)},4):Z.callback(W)}function R(Z,W,ne){var Te;if("function"==typeof W)Te={callback:W,async:ne};else if(!(Te=W).callback)throw new Error("Callback was not specified on options");Oe(Z).subscribers.push(Te)}return{subscribe:function(Z,W,ne){return R(Z,W,ne)},publish:function(Z,W){var ne=Oe(Z),Te=ne.subscribers;Te.filter(function(Me){return!!Me.once}).forEach(function(Me){de(Me,W)}),ne.subscribers=Te.filter(function(Me){return!Me.once}),ne.subscribers.forEach(function(Me){de(Me,W)})},once:function(Z,W){R(Z,{callback:W,async:arguments.length>2&&void 0!==arguments[2]&&arguments[2],once:!0})},unsubscribe:function(Z,W){if(Z){var ne=Oe(Z);ne.subscribers=ne&&W?ne.subscribers.filter(function(Te){return Te.callback!==W}):[]}else Ce={}}}}(),In=p(85),wn=p.n(In),Qe=p(86);var ln,Yn=function(Ce){Ke()(de,Ce);var Oe=function wt(Ce){var Oe=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(de){return!1}}();return function(){var de,R=Ze()(Ce);if(Oe){var Z=Ze()(this).constructor;de=Reflect.construct(R,arguments,Z)}else de=R.apply(this,arguments);return Ae()(this,de)}}(de);function de(R,Z){var W;return Je()(this,de),W=Oe.call(this,R),ve()(ke()(W),"code",void 0),W.code=Z,Object.setPrototypeOf(ke()(W),de.prototype),W}return _e()(de)}(p.n(Qe)()(Error)),gr="This may mean that the user has declined camera access, or the browser does not support media APIs. If you are running in iOS, you must use Safari.";function Yt(){try{return navigator.mediaDevices.enumerateDevices()}catch(Oe){var Ce=new Yn("enumerateDevices is not defined. ".concat(gr),-1);return Promise.reject(Ce)}}function on(Ce){try{return navigator.mediaDevices.getUserMedia(Ce)}catch(de){var Oe=new Yn("getUserMedia is not defined. ".concat(gr),-1);return Promise.reject(Oe)}}function et(Ce){return new Promise(function(Oe,de){var R=10;!function Z(){R>0?Ce.videoWidth>10&&Ce.videoHeight>10?Oe():window.setTimeout(Z,500):de(new Yn("Unable to play video stream. Is webcam working?",-1)),R--}()})}function Lt(Ce,Oe){return gn.apply(this,arguments)}function gn(){return(gn=K()(ge.a.mark(function Ce(Oe,de){var R;return ge.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.next=2,on(de);case 2:if(ln=R=Z.sent,!Oe){Z.next=11;break}return Oe.setAttribute("autoplay","true"),Oe.setAttribute("muted","true"),Oe.setAttribute("playsinline","true"),Oe.srcObject=R,Oe.addEventListener("loadedmetadata",function(){Oe.play()}),Z.abrupt("return",et(Oe));case 11:return Z.abrupt("return",Promise.resolve());case 12:case"end":return Z.stop()}},Ce)}))).apply(this,arguments)}function xn(Ce){var Oe=wn()(Ce,["width","height","facingMode","aspectRatio","deviceId"]);return void 0!==Ce.minAspectRatio&&Ce.minAspectRatio>0&&(Oe.aspectRatio=Ce.minAspectRatio,console.log("WARNING: Constraint 'minAspectRatio' is deprecated; Use 'aspectRatio' instead")),void 0!==Ce.facing&&(Oe.facingMode=Ce.facing,console.log("WARNING: Constraint 'facing' is deprecated. Use 'facingMode' instead'")),Oe}function mn(){var Oe=xn(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return Oe&&Oe.deviceId&&Oe.facingMode&&delete Oe.facingMode,Promise.resolve({audio:!1,video:Oe})}function Mn(){return(Mn=K()(ge.a.mark(function Ce(){return ge.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,Yt();case 2:return de.abrupt("return",de.sent.filter(function(R){return"videoinput"===R.kind}));case 4:case"end":return de.stop()}},Ce)}))).apply(this,arguments)}function tr(){if(!ln)return null;var Ce=ln.getVideoTracks();return Ce&&null!=Ce&&Ce.length?Ce[0]:null}var pn={requestedVideoElement:null,request:function(Ce,Oe){return K()(ge.a.mark(function de(){return ge.a.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return pn.requestedVideoElement=Ce,Z.next=3,mn(Oe);case 3:return Z.abrupt("return",Lt(Ce,Z.sent));case 5:case"end":return Z.stop()}},de)}))()},release:function(){var Ce=ln&&ln.getVideoTracks();return null!==pn.requestedVideoElement&&pn.requestedVideoElement.pause(),new Promise(function(Oe){setTimeout(function(){Ce&&Ce.length&&Ce[0].stop(),ln=null,pn.requestedVideoElement=null,Oe()},0)})},enumerateVideoDevices:function(){return Mn.apply(this,arguments)},getActiveStreamLabel:function(){var Ce=tr();return Ce?Ce.label:""},getActiveTrack:tr},Vn=pn,Or={create:function(Ce){var Oe,de=document.createElement("canvas"),R=de.getContext("2d"),Z=[],W=null!==(Oe=Ce.capacity)&&void 0!==Oe?Oe:20,ne=!0===Ce.capture;return{addResult:function(Me,xe,Le){var ut={};(function Te(Me){return!!W&&Me&&(xe=Me,!((Le=Ce.blacklist)&&Le.some(function(ut){return Object.keys(ut).every(function(re){return ut[re]===xe[re]})})))&&function(xe,Le){return"function"!=typeof Le||Le(xe)}(Me,Ce.filter);var xe,Le})(Le)&&(W--,ut.codeResult=Le,ne&&(de.width=xe.x,de.height=xe.y,dt.a.drawImage(Me,xe,R),ut.frame=de.toDataURL()),Z.push(ut))},getResults:function(){return Z}}}},Qn={inputStream:{name:"Live",type:"LiveStream",constraints:{width:640,height:480,facingMode:"environment"},area:{top:"0%",right:"0%",left:"0%",bottom:"0%"},singleChannel:!1},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]},locator:{halfSample:!0,patchSize:"medium"}},Lr=p(7),Di=_e()(function Ce(){Je()(this,Ce),ve()(this,"config",void 0),ve()(this,"inputStream",void 0),ve()(this,"framegrabber",void 0),ve()(this,"inputImageWrapper",void 0),ve()(this,"stopped",!1),ve()(this,"boxSize",void 0),ve()(this,"resultCollector",void 0),ve()(this,"decoder",void 0),ve()(this,"workerPool",[]),ve()(this,"onUIThread",!0),ve()(this,"canvasContainer",new Wi)}),io=_e()(function Ce(){Je()(this,Ce),ve()(this,"image",void 0),ve()(this,"overlay",void 0)}),Wi=_e()(function Ce(){Je()(this,Ce),ve()(this,"ctx",void 0),ve()(this,"dom",void 0),this.ctx=new io,this.dom=new io}),Wr=p(23);function $i(Ce){return"undefined"==typeof document?null:Ce instanceof HTMLElement&&Ce.nodeName&&1===Ce.nodeType?Ce:document.querySelector("string"==typeof Ce?Ce:"#interactive.viewport")}function Jr(Ce,Oe){var W,ne,de=(W=Oe,(ne=document.querySelector(Ce))||((ne=document.createElement("canvas")).className=W),ne),R=de.getContext("2d");return{canvas:de,context:R}}var We={274:"orientation"},bt=Object.keys(We).map(function(Ce){return We[Ce]});function Vt(Ce){return new Promise(function(Oe){var de=new FileReader;de.onload=function(R){return Oe(R.target.result)},de.readAsArrayBuffer(Ce)})}function $t(Ce){return new Promise(function(Oe,de){var R=new XMLHttpRequest;R.open("GET",Ce,!0),R.responseType="blob",R.onreadystatechange=function(){R.readyState!==XMLHttpRequest.DONE||200!==R.status&&0!==R.status||Oe(this.response)},R.onerror=de,R.send()})}function bn(Ce){var Oe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt,de=new DataView(Ce),R=Ce.byteLength,Z=Oe.reduce(function(ne,Te){var Me=Object.keys(We).filter(function(xe){return We[xe]===Te})[0];return Me&&(ne[Me]=Te),ne},{}),W=2;if(255!==de.getUint8(0)||216!==de.getUint8(1))return!1;for(;W<R;){if(255!==de.getUint8(W))return!1;if(225===de.getUint8(W+1))return Sr(de,W+4,Z);W+=2+de.getUint16(W+2)}return!1}function Sr(Ce,Oe,de){if("Exif"!==function(ne,Te,Me){for(var xe="",Le=Te;Le<Te+4;Le++)xe+=String.fromCharCode(ne.getUint8(Le));return xe}(Ce,Oe))return!1;var R,Z=Oe+6;if(18761===Ce.getUint16(Z))R=!1;else{if(19789!==Ce.getUint16(Z))return!1;R=!0}if(42!==Ce.getUint16(Z+2,!R))return!1;var W=Ce.getUint32(Z+4,!R);return!(W<8)&&function(ne,Te,Me,xe,Le){for(var ut=ne.getUint16(Me,!Le),re={},Ie=0;Ie<ut;Ie++){var Ve=Me+12*Ie+2,Tt=xe[ne.getUint16(Ve,!Le)];Tt&&(re[Tt]=Vr(ne,Ve,0,0,Le))}return re}(Ce,0,Z+W,de,R)}function Vr(Ce,Oe,de,R,Z){var W=Ce.getUint16(Oe+2,!Z),ne=Ce.getUint32(Oe+4,!Z);return 3===W&&1===ne?Ce.getUint16(Oe+8,!Z):null}var Ir={};function mi(Ce,Oe){Ce.onload=function(){Oe.loaded(this)}}Ir.load=function(Ce,Oe,de,R,Z){var W,ne,Te,Me=new Array(R),xe=new Array(Me.length);if(!1===Z)Me[0]=Ce;else for(W=0;W<Me.length;W++)Te=de+W,Me[W]="".concat(Ce,"image-").concat("00".concat(Te).slice(-3),".jpg");for(xe.notLoaded=[],xe.addImage=function(Le){xe.notLoaded.push(Le)},xe.loaded=function(Le){for(var ut=xe.notLoaded,re=0;re<ut.length;re++)if(ut[re]===Le){ut.splice(re,1);for(var Ie=0;Ie<Me.length;Ie++){var Ve=Me[Ie].substr(Me[Ie].lastIndexOf("/"));if(-1!==Le.src.lastIndexOf(Ve)){xe[Ie]={img:Le};break}}break}0===ut.length&&(!1===Z?function(Tt){var hn=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bt;return/^blob:/i.test(Tt)?$t(Tt).then(Vt).then(function(An){return bn(An,hn)}):Promise.resolve(null)}(Ce,["orientation"]).then(function(Tt){xe[0].tags=Tt,Oe(xe)}).catch(function(Tt){console.log(Tt),Oe(xe)}):Oe(xe))},W=0;W<Me.length;W++)ne=new Image,xe.addImage(ne),mi(ne,xe),ne.src=Me[W]};var Ro=Ir,Hi={createVideoStream:function(Ce){var Oe,de,R=null,Z=["canrecord","ended"],W={},ne={x:0,y:0,type:"Point"},Te={x:0,y:0,type:"XYSize"},Me={getRealWidth:function(){return Ce.videoWidth},getRealHeight:function(){return Ce.videoHeight},getWidth:function(){return Oe},getHeight:function(){return de},setWidth:function(xe){Oe=xe},setHeight:function(xe){de=xe},setInputStream:function(xe){R=xe,this.setAttribute("src",void 0!==xe.src?xe.src:"")},ended:function(){return Ce.ended},getConfig:function(){return R},setAttribute:function(xe,Le){Ce&&Ce.setAttribute(xe,Le)},pause:function(){Ce.pause()},play:function(){Ce.play()},setCurrentTime:function(xe){var Le;"LiveStream"!==(null===(Le=R)||void 0===Le?void 0:Le.type)&&this.setAttribute("currentTime",xe.toString())},addEventListener:function(xe,Le,ut){-1!==Z.indexOf(xe)?(W[xe]||(W[xe]=[]),W[xe].push(Le)):Ce.addEventListener(xe,Le,ut)},clearEventHandlers:function(){Z.forEach(function(xe){var Le=W[xe];Le&&Le.length>0&&Le.forEach(function(ut){Ce.removeEventListener(xe,ut)})})},trigger:function(xe,Le){var ut,re,Ie,Ve,Tt,hn=W[xe];if("canrecord"===xe&&(Ve=Ce.videoWidth,Tt=Ce.videoHeight,Oe=null!==(re=R)&&void 0!==re&&re.size?Ve/Tt>1?R.size:Math.floor(Ve/Tt*R.size):Ve,de=null!==(Ie=R)&&void 0!==Ie&&Ie.size?Ve/Tt>1?Math.floor(Tt/Ve*R.size):R.size:Tt,Te.x=Oe,Te.y=de),hn&&hn.length>0)for(ut=0;ut<hn.length;ut++)hn[ut].apply(Me,Le)},setTopRight:function(xe){ne.x=xe.x,ne.y=xe.y},getTopRight:function(){return ne},setCanvasSize:function(xe){Te.x=xe.x,Te.y=xe.y},getCanvasSize:function(){return Te},getFrame:function(){return Ce}};return Me},createLiveStream:function(Ce){Ce&&Ce.setAttribute("autoplay","true");var Oe=Hi.createVideoStream(Ce);return Oe.ended=function(){return!1},Oe},createImageStream:function(){var Ce,Oe,de=null,R=0,Z=0,W=0,ne=!0,Te=!1,Me=null,xe=0,Le=null,ut=!1,re=["canrecord","ended"],Ie={},Ve={x:0,y:0,type:"Point"},Tt={x:0,y:0,type:"XYSize"};function hn(Pn,Fn){var dr,Mr=Ie[Pn];if(Mr&&Mr.length>0)for(dr=0;dr<Mr.length;dr++)Mr[dr].apply(An,Fn)}var An={trigger:hn,getWidth:function(){return Ce},getHeight:function(){return Oe},setWidth:function(Pn){Ce=Pn},setHeight:function(Pn){Oe=Pn},getRealWidth:function(){return R},getRealHeight:function(){return Z},setInputStream:function(Pn){var Fn;!1===Pn.sequence?(Le=Pn.src,xe=1):(Le=Pn.src,xe=Pn.length),Te=!1,Ro.load(Le,function(dr){var Mr,Xr;if(Me=dr,dr[0].tags&&dr[0].tags.orientation)switch(dr[0].tags.orientation){case 6:case 8:R=dr[0].img.height,Z=dr[0].img.width;break;default:R=dr[0].img.width,Z=dr[0].img.height}else R=dr[0].img.width,Z=dr[0].img.height;Ce=null!==(Mr=de)&&void 0!==Mr&&Mr.size?R/Z>1?de.size:Math.floor(R/Z*de.size):R,Oe=null!==(Xr=de)&&void 0!==Xr&&Xr.size?R/Z>1?Math.floor(Z/R*de.size):de.size:Z,Tt.x=Ce,Tt.y=Oe,Te=!0,W=0,setTimeout(function(){hn("canrecord",[])},0)},1,xe,null===(Fn=de=Pn)||void 0===Fn?void 0:Fn.sequence)},ended:function(){return ut},setAttribute:function(){},getConfig:function(){return de},pause:function(){ne=!0},play:function(){ne=!1},setCurrentTime:function(Pn){W=Pn},addEventListener:function(Pn,Fn){-1!==re.indexOf(Pn)&&(Ie[Pn]||(Ie[Pn]=[]),Ie[Pn].push(Fn))},clearEventHandlers:function(){Object.keys(Ie).forEach(function(Pn){return delete Ie[Pn]})},setTopRight:function(Pn){Ve.x=Pn.x,Ve.y=Pn.y},getTopRight:function(){return Ve},setCanvasSize:function(Pn){Tt.x=Pn.x,Tt.y=Pn.y},getCanvasSize:function(){return Tt},getFrame:function(){var Pn,Fn;return Te?(ne||(Pn=null===(Fn=Me)||void 0===Fn?void 0:Fn[W],W<xe-1?W++:setTimeout(function(){ut=!0,hn("ended",[])},0)),Pn):null}};return An}},Eo=Hi,Ui=p(10),bs=Math.PI/180,is={create:function(Ce,Oe){var de,R={},Z=Ce.getConfig(),W=(Object(Ui.h)(Ce.getRealWidth(),Ce.getRealHeight()),Ce.getCanvasSize()),ne=Object(Ui.h)(Ce.getWidth(),Ce.getHeight()),Te=Ce.getTopRight(),Me=Te.x,xe=Te.y,Le=null,ut=null;return(de=Oe||document.createElement("canvas")).width=W.x,de.height=W.y,Le=de.getContext("2d"),ut=new Uint8Array(ne.x*ne.y),R.attachData=function(re){ut=re},R.getData=function(){return ut},R.grab=function(){var re,An,Pn,Ie=Z.halfSample,Ve=Ce.getFrame(),Tt=Ve,hn=0;if(Tt){if((An=de).width!==(Pn=W).x&&(An.width=Pn.x),An.height!==Pn.y&&(An.height=Pn.y),"ImageStream"===Z.type&&(Tt=Ve.img,Ve.tags&&Ve.tags.orientation))switch(Ve.tags.orientation){case 6:hn=90*bs;break;case 8:hn=-90*bs}return 0!==hn?(Le.translate(W.x/2,W.y/2),Le.rotate(hn),Le.drawImage(Tt,-W.y/2,-W.x/2,W.y,W.x),Le.rotate(-hn),Le.translate(-W.x/2,-W.y/2)):Le.drawImage(Tt,0,0,W.x,W.y),re=Le.getImageData(Me,xe,ne.x,ne.y).data,Ie?Object(Ui.e)(re,ne,ut):Object(Ui.c)(re,ut,Z),!0}return!1},R.getSize=function(){return ne},R}},oo=is;function Ko(Ce,Oe){var de=Object.keys(Ce);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(Ce);Oe&&(R=R.filter(function(Z){return Object.getOwnPropertyDescriptor(Ce,Z).enumerable})),de.push.apply(de,R)}return de}function os(Ce){for(var Oe=1;Oe<arguments.length;Oe++){var de=null!=arguments[Oe]?arguments[Oe]:{};Oe%2?Ko(Object(de),!0).forEach(function(R){ve()(Ce,R,de[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(de)):Ko(Object(de)).forEach(function(R){Object.defineProperty(Ce,R,Object.getOwnPropertyDescriptor(de,R))})}return Ce}var ji=[];function so(Ce){return os(os({},Ce),{},{inputStream:os(os({},Ce.inputStream),{},{target:null})})}function Zi(Ce){if(Ce){var Oe=Ce().default;if(!Oe)return void self.postMessage({event:"error",message:"Quagga could not be created"})}var de;function R(W){self.postMessage({event:"processed",imageData:de.data,result:W},[de.data.buffer])}function Z(){self.postMessage({event:"initialized",imageData:de.data},[de.data.buffer])}self.onmessage=function(W){if("init"===W.data.cmd){var ne=W.data.config;ne.numOfWorkers=0,de=new Oe.ImageWrapper({x:W.data.size.x,y:W.data.size.y},new Uint8Array(W.data.imageData)),Oe.init(ne,Z,de),Oe.onProcessed(R)}else"process"===W.data.cmd?(de.data=new Uint8Array(W.data.imageData),Oe.start()):"setReaders"===W.data.cmd?Oe.setReaders(W.data.readers):"registerReader"===W.data.cmd&&Oe.registerReader(W.data.name,W.data.reader)}}function Do(Ce,Oe,de){var R,Z,W=("undefined"!=typeof __factorySource__&&(Z=__factorySource__),R=new Blob(["("+Zi.toString()+")("+Z+");"],{type:"text/javascript"}),window.URL.createObjectURL(R)),ne={worker:new Worker(W),imageData:new Uint8Array(Oe.getWidth()*Oe.getHeight()),busy:!0};ne.worker.onmessage=function(Te){"initialized"===Te.data.event?(URL.revokeObjectURL(W),ne.busy=!1,ne.imageData=new Uint8Array(Te.data.imageData),de(ne)):"processed"===Te.data.event&&(ne.imageData=new Uint8Array(Te.data.imageData),ne.busy=!1)},ne.worker.postMessage({cmd:"init",size:{x:Oe.getWidth(),y:Oe.getHeight()},imageData:ne.imageData,config:so(Ce)},[ne.imageData.buffer])}function Is(Ce,Oe,de,R){var Z=Ce-ji.length;if(0===Z&&R)R();else if(Z<0)ji.slice(Z).forEach(function(Te){Te.worker.terminate()}),ji=ji.slice(0,Z),R&&R();else{var W=function(Te){ji.push(Te),ji.length>=Ce&&R&&R()};if(Oe)for(var ne=0;ne<Z;ne++)Do(Oe,de,W)}}function Jo(Ce,Oe,de){for(var R=Ce.length;R--;)Ce[R][0]+=Oe,Ce[R][1]+=de}var Si=function(){function Ce(){var R=this;Je()(this,Ce),ve()(this,"context",new Di),ve()(this,"canRecord",function(Z){var W;R.context.config&&(Wr.a.checkImageConstraints(R.context.inputStream,null===(W=R.context.config)||void 0===W?void 0:W.locator),R.initCanvas(),R.context.framegrabber=oo.create(R.context.inputStream,R.context.canvasContainer.dom.image),void 0===R.context.config.numOfWorkers&&(R.context.config.numOfWorkers=0),Is(R.context.config.numOfWorkers,R.context.config,R.context.inputStream,function(){var ne;0===(null===(ne=R.context.config)||void 0===ne?void 0:ne.numOfWorkers)&&R.initializeData(),R.ready(Z)}))}),ve()(this,"update",function(){if(R.context.onUIThread){var Z,W=(Te=R.context.framegrabber,ji.length?!!(Me=ji.filter(function(xe){return!xe.busy})[0])&&(Te.attachData(Me.imageData),Te.grab()&&(Me.busy=!0,Me.worker.postMessage({cmd:"process",imageData:Me.imageData},[Me.imageData.buffer])),!0):null);W||(R.context.framegrabber.attachData(null===(Z=R.context.inputImageWrapper)||void 0===Z?void 0:Z.data),R.context.framegrabber.grab()&&(W||R.locateAndDecode()))}else{var ne;R.context.framegrabber.attachData(null===(ne=R.context.inputImageWrapper)||void 0===ne?void 0:ne.data),R.context.framegrabber.grab(),R.locateAndDecode()}var Te,Me})}var Oe,de;return _e()(Ce,[{key:"initBuffers",value:function(R){if(this.context.config){var Z=(Te=this.context.inputStream,xe=this.context.config.locator,Le=R||new Y.a({x:Te.getWidth(),y:Te.getHeight(),type:"XYSize"}),ut=[Object(Lr.clone)([0,0]),Object(Lr.clone)([0,Le.size.y]),Object(Lr.clone)([Le.size.x,Le.size.y]),Object(Lr.clone)([Le.size.x,0])],Wr.a.init(Le,xe),{inputImageWrapper:Le,boxSize:ut}),ne=Z.boxSize;this.context.inputImageWrapper=Z.inputImageWrapper,this.context.boxSize=ne}var Te,xe,Le,ut}},{key:"initializeData",value:function(R){this.context.config&&(this.initBuffers(R),this.context.decoder=sr.create(this.context.config.decoder,this.context.inputImageWrapper))}},{key:"getViewPort",value:function(){return this.context.config&&this.context.config.inputStream?$i(this.context.config.inputStream.target):null}},{key:"ready",value:function(R){this.context.inputStream.play(),R()}},{key:"initCanvas",value:function(){var R=function st(Ce){var Oe,de,R,Z,W=$i(null==Ce||null===(Oe=Ce.config)||void 0===Oe||null===(de=Oe.inputStream)||void 0===de?void 0:de.target),ne=null==Ce||null===(R=Ce.config)||void 0===R||null===(Z=R.inputStream)||void 0===Z?void 0:Z.type;if(!ne)return null;var Te=function(xe){if("undefined"!=typeof document){var Le=Jr("canvas.imgBuffer","imgBuffer"),ut=Jr("canvas.drawingBuffer","drawingBuffer");return Le.canvas.width=ut.canvas.width=xe.x,Le.canvas.height=ut.canvas.height=xe.y,{dom:{image:Le.canvas,overlay:ut.canvas},ctx:{image:Le.context,overlay:ut.context}}}return null}(Ce.inputStream.getCanvasSize());if(!Te)return{dom:{image:null,overlay:null},ctx:{image:null,overlay:null}};var Me=Te.dom;return"undefined"!=typeof document&&W&&("ImageStream"!==ne||W.contains(Me.image)||W.appendChild(Me.image),W.contains(Me.overlay)||W.appendChild(Me.overlay)),Te}(this.context);if(R){var Z=R.ctx,W=R.dom;this.context.canvasContainer.dom.image=W.image,this.context.canvasContainer.dom.overlay=W.overlay,this.context.canvasContainer.ctx.image=Z.image,this.context.canvasContainer.ctx.overlay=Z.overlay}}},{key:"initInputStream",value:function(R){if(this.context.config&&this.context.config.inputStream){var Z=this.context.config.inputStream,W=Z.type,ne=Z.constraints,Te=function(){var Le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"LiveStream",ut=arguments.length>1?arguments[1]:void 0,re=arguments.length>2?arguments[2]:void 0;switch(Le){case"VideoStream":var Ie=document.createElement("video");return{video:Ie,inputStream:re.createVideoStream(Ie)};case"ImageStream":return{inputStream:re.createImageStream()};case"LiveStream":var Ve=null;return ut&&((Ve=ut.querySelector("video"))||(Ve=document.createElement("video"),ut.appendChild(Ve))),{video:Ve,inputStream:re.createLiveStream(Ve)};default:return console.error("* setupInputStream invalid type ".concat(Le)),{video:null,inputStream:null}}}(W,this.getViewPort(),Eo),Me=Te.video,xe=Te.inputStream;"LiveStream"===W&&Me&&Vn.request(Me,ne).then(function(){return xe.trigger("canrecord")}).catch(function(Le){return R(Le)}),xe.setAttribute("preload","auto"),xe.setInputStream(this.context.config.inputStream),xe.addEventListener("canrecord",this.canRecord.bind(void 0,R)),this.context.inputStream=xe}}},{key:"getBoundingBoxes",value:function(){var R;return null!==(R=this.context.config)&&void 0!==R&&R.locate?Wr.a.locate():[[Object(Lr.clone)(this.context.boxSize[0]),Object(Lr.clone)(this.context.boxSize[1]),Object(Lr.clone)(this.context.boxSize[2]),Object(Lr.clone)(this.context.boxSize[3])]]}},{key:"transformResult",value:function(R){var xe,Le,ut,Z=this,W=this.context.inputStream.getTopRight(),ne=W.x,Te=W.y;if((0!==ne||0!==Te)&&(R.barcodes&&R.barcodes.forEach(function(xe){return Z.transformResult(xe)}),R.line&&2===R.line.length&&(ut=Te,(xe=R.line)[0].x+=Le=ne,xe[0].y+=ut,xe[1].x+=Le,xe[1].y+=ut),R.box&&Jo(R.box,ne,Te),R.boxes&&R.boxes.length>0))for(var Me=0;Me<R.boxes.length;Me++)Jo(R.boxes[Me],ne,Te)}},{key:"addResult",value:function(R,Z){var W=this;Z&&this.context.resultCollector&&(R.barcodes?R.barcodes.filter(function(ne){return ne.codeResult}).forEach(function(ne){return W.addResult(ne,Z)}):R.codeResult&&this.context.resultCollector.addResult(Z,this.context.inputStream.getCanvasSize(),R.codeResult))}},{key:"hasCodeResult",value:function(R){return!(!R||!(R.barcodes?R.barcodes.some(function(Z){return Z.codeResult}):R.codeResult))}},{key:"publishResult",value:function(){var R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,Z=arguments.length>1?arguments[1]:void 0,W=R;R&&this.context.onUIThread&&(this.transformResult(R),this.addResult(R,Z),W=R.barcodes||R),Cn.publish("processed",W),this.hasCodeResult(R)&&Cn.publish("detected",W)}},{key:"locateAndDecode",value:(de=K()(ge.a.mark(function R(){var Z,W,ne,Te,Me;return ge.a.wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!(Z=this.getBoundingBoxes())){xe.next=12;break}return xe.next=4,this.context.decoder.decodeFromBoundingBoxes(Z);case 4:if(xe.t0=xe.sent,xe.t0){xe.next=7;break}xe.t0={};case 7:(ne=xe.t0).boxes=Z,this.publishResult(ne,null===(W=this.context.inputImageWrapper)||void 0===W?void 0:W.data),xe.next=16;break;case 12:return xe.next=14,this.context.decoder.decodeFromImage(this.context.inputImageWrapper);case 14:(Te=xe.sent)?this.publishResult(Te,null===(Me=this.context.inputImageWrapper)||void 0===Me?void 0:Me.data):this.publishResult();case 16:case"end":return xe.stop()}},R,this)})),function(){return de.apply(this,arguments)})},{key:"startContinuousUpdate",value:function(){var R,Z=this,W=null,ne=1e3/((null===(R=this.context.config)||void 0===R?void 0:R.frequency)||60);this.context.stopped=!1;var Te=this.context;!function Me(xe){W=W||xe,Te.stopped||(xe>=W&&(W+=ne,Z.update()),window.requestAnimationFrame(Me))}(performance.now())}},{key:"start",value:function(){var R,Z;this.context.onUIThread&&"LiveStream"===(null===(R=this.context.config)||void 0===R||null===(Z=R.inputStream)||void 0===Z?void 0:Z.type)?this.startContinuousUpdate():this.update()}},{key:"stop",value:(Oe=K()(ge.a.mark(function R(){var Z;return ge.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:if(this.context.stopped=!0,Is(0),null===(Z=this.context.config)||void 0===Z||!Z.inputStream||"LiveStream"!==this.context.config.inputStream.type){W.next=6;break}return W.next=5,Vn.release();case 5:this.context.inputStream.clearEventHandlers();case 6:case"end":return W.stop()}},R,this)})),function(){return Oe.apply(this,arguments)})},{key:"setReaders",value:function(R){var Z;this.context.decoder&&this.context.decoder.setReaders(R),Z=R,ji.forEach(function(W){return W.worker.postMessage({cmd:"setReaders",readers:Z})})}},{key:"registerReader",value:function(R,Z){var W,ne;sr.registerReader(R,Z),this.context.decoder&&this.context.decoder.registerReader(R,Z),W=R,ne=Z,ji.forEach(function(Te){return Te.worker.postMessage({cmd:"registerReader",name:W,reader:ne})})}}]),Ce}(),vo=new Si,ss=vo.context,po={init:function(Ce,Oe,de){var R,Z=arguments.length>3&&void 0!==arguments[3]?arguments[3]:vo;return Oe||(R=new Promise(function(W,ne){Oe=function(Te){Te?ne(Te):W()}})),Z.context.config=ee()({},Qn,Ce),Z.context.config.numOfWorkers>0&&(Z.context.config.numOfWorkers=0),de?(Z.context.onUIThread=!1,Z.initializeData(de),Oe&&Oe()):Z.initInputStream(Oe),R},start:function(){return vo.start()},stop:function(){return vo.stop()},pause:function(){ss.stopped=!0},onDetected:function(Ce){Ce&&("function"==typeof Ce||"object"===M()(Ce)&&Ce.callback)?Cn.subscribe("detected",Ce):console.trace("* warning: Quagga.onDetected called with invalid callback, ignoring")},offDetected:function(Ce){Cn.unsubscribe("detected",Ce)},onProcessed:function(Ce){Ce&&("function"==typeof Ce||"object"===M()(Ce)&&Ce.callback)?Cn.subscribe("processed",Ce):console.trace("* warning: Quagga.onProcessed called with invalid callback, ignoring")},offProcessed:function(Ce){Cn.unsubscribe("processed",Ce)},setReaders:function(Ce){Ce?vo.setReaders(Ce):console.trace("* warning: Quagga.setReaders called with no readers, ignoring")},registerReader:function(Ce,Oe){Ce?Oe?vo.registerReader(Ce,Oe):console.trace("* warning: Quagga.registerReader called with no reader, ignoring"):console.trace("* warning: Quagga.registerReader called with no name, ignoring")},registerResultCollector:function(Ce){Ce&&"function"==typeof Ce.addResult&&(ss.resultCollector=Ce)},get canvas(){return ss.canvasContainer},decodeSingle:function(Ce,Oe){var de=this,R=new Si;return(Ce=ee()({inputStream:{type:"ImageStream",sequence:!1,size:800,src:Ce.src},numOfWorkers:1,locator:{halfSample:!1}},Ce)).numOfWorkers>0&&(Ce.numOfWorkers=0),Ce.numOfWorkers>0&&("undefined"==typeof Blob||"undefined"==typeof Worker)&&(console.warn("* no Worker and/or Blob support - forcing numOfWorkers to 0"),Ce.numOfWorkers=0),new Promise(function(Z,W){try{de.init(Ce,function(){Cn.once("processed",function(ne){R.stop(),Oe&&Oe.call(null,ne),Z(ne)},!0),R.start()},null,R)}catch(ne){W(ne)}})},get default(){return po},Readers:e,CameraAccess:Vn,ImageDebug:dt.a,ImageWrapper:Y.a,ResultCollector:Or};A.default=po}]).default},2090:(pt,D,A)=>{"use strict";A.d(D,{$s:()=>Gn,BH:()=>Xe,L:()=>Q,LL:()=>It,Lj:()=>Zn,Mn:()=>it,UG:()=>Ge,US:()=>ee,X3:()=>vn,ZB:()=>ge,ZR:()=>Ee,b$:()=>Ke,d:()=>rt,eu:()=>me,hl:()=>ve,jU:()=>ke,m9:()=>jt,ne:()=>Bn,pd:()=>Zr,r3:()=>br,ru:()=>_t,tV:()=>K,uI:()=>_e,vZ:()=>jr,w1:()=>Ae,xO:()=>Ei,xb:()=>ni,z$:()=>vt,zI:()=>oe,zd:()=>Kr});var p=A(5861);const M=function(Pe){const Se=[];let be=0;for(let lt=0;lt<Pe.length;lt++){let $e=Pe.charCodeAt(lt);$e<128?Se[be++]=$e:$e<2048?(Se[be++]=$e>>6|192,Se[be++]=63&$e|128):55296==(64512&$e)&&lt+1<Pe.length&&56320==(64512&Pe.charCodeAt(lt+1))?($e=65536+((1023&$e)<<10)+(1023&Pe.charCodeAt(++lt)),Se[be++]=$e>>18|240,Se[be++]=$e>>12&63|128,Se[be++]=$e>>6&63|128,Se[be++]=63&$e|128):(Se[be++]=$e>>12|224,Se[be++]=$e>>6&63|128,Se[be++]=63&$e|128)}return Se},ee={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Pe,Se){if(!Array.isArray(Pe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const be=Se?this.byteToCharMapWebSafe_:this.byteToCharMap_,lt=[];for(let $e=0;$e<Pe.length;$e+=3){const zt=Pe[$e],qn=$e+1<Pe.length,zn=qn?Pe[$e+1]:0,ir=$e+2<Pe.length,or=ir?Pe[$e+2]:0;let In=(15&zn)<<2|or>>6,wn=63&or;ir||(wn=64,qn||(In=64)),lt.push(be[zt>>2],be[(3&zt)<<4|zn>>4],be[In],be[wn])}return lt.join("")},encodeString(Pe,Se){return this.HAS_NATIVE_SUPPORT&&!Se?btoa(Pe):this.encodeByteArray(M(Pe),Se)},decodeString(Pe,Se){return this.HAS_NATIVE_SUPPORT&&!Se?atob(Pe):function(Pe){const Se=[];let be=0,lt=0;for(;be<Pe.length;){const $e=Pe[be++];if($e<128)Se[lt++]=String.fromCharCode($e);else if($e>191&&$e<224){const zt=Pe[be++];Se[lt++]=String.fromCharCode((31&$e)<<6|63&zt)}else if($e>239&&$e<365){const ir=((7&$e)<<18|(63&Pe[be++])<<12|(63&Pe[be++])<<6|63&Pe[be++])-65536;Se[lt++]=String.fromCharCode(55296+(ir>>10)),Se[lt++]=String.fromCharCode(56320+(1023&ir))}else{const zt=Pe[be++],qn=Pe[be++];Se[lt++]=String.fromCharCode((15&$e)<<12|(63&zt)<<6|63&qn)}}return Se.join("")}(this.decodeStringToByteArray(Pe,Se))},decodeStringToByteArray(Pe,Se){this.init_();const be=Se?this.charToByteMapWebSafe_:this.charToByteMap_,lt=[];for(let $e=0;$e<Pe.length;){const zt=be[Pe.charAt($e++)],zn=$e<Pe.length?be[Pe.charAt($e)]:0;++$e;const or=$e<Pe.length?be[Pe.charAt($e)]:64;++$e;const Cn=$e<Pe.length?be[Pe.charAt($e)]:64;if(++$e,null==zt||null==zn||null==or||null==Cn)throw Error();lt.push(zt<<2|zn>>4),64!==or&&(lt.push(zn<<4&240|or>>2),64!==Cn&&lt.push(or<<6&192|Cn))}return lt},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Pe=0;Pe<this.ENCODED_VALS.length;Pe++)this.byteToCharMap_[Pe]=this.ENCODED_VALS.charAt(Pe),this.charToByteMap_[this.byteToCharMap_[Pe]]=Pe,this.byteToCharMapWebSafe_[Pe]=this.ENCODED_VALS_WEBSAFE.charAt(Pe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Pe]]=Pe,Pe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Pe)]=Pe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Pe)]=Pe)}}},Q=function(Pe){return function(Pe){const Se=M(Pe);return ee.encodeByteArray(Se,!0)}(Pe).replace(/\./g,"")},K=function(Pe){try{return ee.decodeString(Pe,!0)}catch(Se){console.error("base64Decode failed: ",Se)}return null};function ge(Pe,Se){if(!(Se instanceof Object))return Se;switch(Se.constructor){case Date:return new Date(Se.getTime());case Object:void 0===Pe&&(Pe={});break;case Array:Pe=[];break;default:return Se}for(const be in Se)!Se.hasOwnProperty(be)||!dt(be)||(Pe[be]=ge(Pe[be],Se[be]));return Pe}function dt(Pe){return"__proto__"!==Pe}class Xe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((Se,be)=>{this.resolve=Se,this.reject=be})}wrapCallback(Se){return(be,lt)=>{be?this.reject(be):this.resolve(lt),"function"==typeof Se&&(this.promise.catch(()=>{}),1===Se.length?Se(be):Se(be,lt))}}}function vt(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function _e(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vt())}function Ge(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(Pe){return!1}}function ke(){return"object"==typeof self&&self.self===self}function _t(){const Pe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Pe&&void 0!==Pe.id}function Ke(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function rt(){return vt().indexOf("Electron/")>=0}function Ae(){const Pe=vt();return Pe.indexOf("MSIE ")>=0||Pe.indexOf("Trident/")>=0}function it(){return vt().indexOf("MSAppHost/")>=0}function ve(){return"object"==typeof indexedDB}function me(){return new Promise((Pe,Se)=>{try{let be=!0;const lt="validate-browser-context-for-indexeddb-analytics-module",$e=self.indexedDB.open(lt);$e.onsuccess=()=>{$e.result.close(),be||self.indexedDB.deleteDatabase(lt),Pe(!0)},$e.onupgradeneeded=()=>{be=!1},$e.onerror=()=>{var zt;Se((null===(zt=$e.error)||void 0===zt?void 0:zt.message)||"")}}catch(be){Se(be)}})}function oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ee extends Error{constructor(Se,be,lt){super(be),this.code=Se,this.customData=lt,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,It.prototype.create)}}class It{constructor(Se,be,lt){this.service=Se,this.serviceName=be,this.errors=lt}create(Se,...be){const lt=be[0]||{},$e=`${this.service}/${Se}`,zt=this.errors[Se],qn=zt?function Ft(Pe,Se){return Pe.replace(Sn,(be,lt)=>{const $e=Se[lt];return null!=$e?String($e):`<${lt}?>`})}(zt,lt):"Error";return new Ee($e,`${this.serviceName}: ${qn} (${$e}).`,lt)}}const Sn=/\{\$([^}]+)}/g;function br(Pe,Se){return Object.prototype.hasOwnProperty.call(Pe,Se)}function ni(Pe){for(const Se in Pe)if(Object.prototype.hasOwnProperty.call(Pe,Se))return!1;return!0}function jr(Pe,Se){if(Pe===Se)return!0;const be=Object.keys(Pe),lt=Object.keys(Se);for(const $e of be){if(!lt.includes($e))return!1;const zt=Pe[$e],qn=Se[$e];if(Ni(zt)&&Ni(qn)){if(!jr(zt,qn))return!1}else if(zt!==qn)return!1}for(const $e of lt)if(!be.includes($e))return!1;return!0}function Ni(Pe){return null!==Pe&&"object"==typeof Pe}function Ei(Pe){const Se=[];for(const[be,lt]of Object.entries(Pe))Array.isArray(lt)?lt.forEach($e=>{Se.push(encodeURIComponent(be)+"="+encodeURIComponent($e))}):Se.push(encodeURIComponent(be)+"="+encodeURIComponent(lt));return Se.length?"&"+Se.join("&"):""}function Kr(Pe){const Se={};return Pe.replace(/^\?/,"").split("&").forEach(lt=>{if(lt){const[$e,zt]=lt.split("=");Se[decodeURIComponent($e)]=decodeURIComponent(zt)}}),Se}function Zr(Pe){const Se=Pe.indexOf("?");if(!Se)return"";const be=Pe.indexOf("#",Se);return Pe.substring(Se,be>0?be:void 0)}function Bn(Pe,Se){const be=new zi(Pe,Se);return be.subscribe.bind(be)}class zi{constructor(Se,be){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=be,this.task.then(()=>{Se(this)}).catch(lt=>{this.error(lt)})}next(Se){this.forEachObserver(be=>{be.next(Se)})}error(Se){this.forEachObserver(be=>{be.error(Se)}),this.close(Se)}complete(){this.forEachObserver(Se=>{Se.complete()}),this.close()}subscribe(Se,be,lt){let $e;if(void 0===Se&&void 0===be&&void 0===lt)throw new Error("Missing Observer.");$e=function Qr(Pe,Se){if("object"!=typeof Pe||null===Pe)return!1;for(const be of Se)if(be in Pe&&"function"==typeof Pe[be])return!0;return!1}(Se,["next","error","complete"])?Se:{next:Se,error:be,complete:lt},void 0===$e.next&&($e.next=Fe),void 0===$e.error&&($e.error=Fe),void 0===$e.complete&&($e.complete=Fe);const zt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?$e.error(this.finalError):$e.complete()}catch(qn){}}),this.observers.push($e),zt}unsubscribeOne(Se){void 0===this.observers||void 0===this.observers[Se]||(delete this.observers[Se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(Se){if(!this.finalized)for(let be=0;be<this.observers.length;be++)this.sendOne(be,Se)}sendOne(Se,be){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[Se])try{be(this.observers[Se])}catch(lt){"undefined"!=typeof console&&console.error&&console.error(lt)}})}close(Se){this.finalized||(this.finalized=!0,void 0!==Se&&(this.finalError=Se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Fe(){}function Gn(Pe,Se=1e3,be=2){const lt=Se*Math.pow(be,Pe),$e=Math.round(.5*lt*(Math.random()-.5)*2);return Math.min(144e5,lt+$e)}function jt(Pe){return Pe&&Pe._delegate?Pe._delegate:Pe}function Xn(Pe,Se){return new Promise((be,lt)=>{Pe.onsuccess=$e=>{be($e.target.result)},Pe.onerror=$e=>{var zt;lt(`${Se}: ${null===(zt=$e.target.error)||void 0===zt?void 0:zt.message}`)}})}class kn{constructor(Se){this._db=Se,this.objectStoreNames=this._db.objectStoreNames}transaction(Se,be){return new Bt(this._db.transaction.call(this._db,Se,be))}createObjectStore(Se,be){return new ht(this._db.createObjectStore(Se,be))}close(){this._db.close()}}class Bt{constructor(Se){this._transaction=Se,this.complete=new Promise((be,lt)=>{this._transaction.oncomplete=function(){be()},this._transaction.onerror=()=>{lt(this._transaction.error)},this._transaction.onabort=()=>{lt(this._transaction.error)}})}objectStore(Se){return new ht(this._transaction.objectStore(Se))}}class ht{constructor(Se){this._store=Se}index(Se){return new tn(this._store.index(Se))}createIndex(Se,be,lt){return new tn(this._store.createIndex(Se,be,lt))}get(Se){return Xn(this._store.get(Se),"Error reading from IndexedDB")}put(Se,be){return Xn(this._store.put(Se,be),"Error writing to IndexedDB")}delete(Se){return Xn(this._store.delete(Se),"Error deleting from IndexedDB")}clear(){return Xn(this._store.clear(),"Error clearing IndexedDB object store")}}class tn{constructor(Se){this._index=Se}get(Se){return Xn(this._index.get(Se),"Error reading from IndexedDB")}}function vn(Pe,Se,be){return new Promise((lt,$e)=>{try{const zt=indexedDB.open(Pe,Se);zt.onsuccess=qn=>{lt(new kn(qn.target.result))},zt.onerror=qn=>{var zn;$e(`Error opening indexedDB: ${null===(zn=qn.target.error)||void 0===zn?void 0:zn.message}`)},zt.onupgradeneeded=qn=>{be(new kn(zt.result),qn.oldVersion,qn.newVersion,new Bt(zt.transaction))}}catch(zt){$e(`Error opening indexedDB: ${zt.message}`)}})}function Zn(Pe){return jn.apply(this,arguments)}function jn(){return(jn=(0,p.Z)(function*(Pe){return new Promise((Se,be)=>{try{const lt=indexedDB.deleteDatabase(Pe);lt.onsuccess=()=>{Se()},lt.onerror=$e=>{var zt;be(`Error deleting indexedDB database "${Pe}": ${null===(zt=$e.target.error)||void 0===zt?void 0:zt.message}`)}}catch(lt){be(`Error deleting indexedDB database "${Pe}": ${lt.message}`)}})})).apply(this,arguments)}},2940:(pt,D,A)=>{"use strict";A.d(D,{T:()=>p});const p="https://icon-library.com/images/no-image-icon/no-image-icon-0.jpg"},3709:(pt,D,A)=>{"use strict";A.d(D,{X:()=>p});const p=[{barcode:"12345",createdOn:1648717508909,id:"qrnnSLWTzjPy7cXjm2DD",name:"2 P\xe2tes feuillet\xe9es",createdBy:{email:"jollmat@hotmail.com",lastLogin:1648714433260,admin:!0},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/339/259/020/3433/front_fr.7.400.jpg",brand:"Croustipate"},{name:"7 Up sin az\xfacar, 2L",barcode:"8717700002402",imageUrl:"https://images.openfoodfacts.org/images/products/871/770/000/2402/front_es.12.400.jpg",favourite:!1,brand:"7 Up",id:"nltN2RwvykuhHdypSWbj"},{brand:"Borges",name:"Aceite de oliva suave",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/0014/front_es.34.400.jpg",barcode:"8410179010014",id:"NqwhkXHtGfGcJ5q7KsRz"},{name:"Aceite refinado de girasol botella 1 l",favourite:!1,barcode:"8410179202006",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2006/front_ca.13.400.jpg",brand:"Borges",id:"6zEUzVIlJFRxt8hRPpdn"},{brand:"Marca desconeguda",favourite:!1,name:"Acelgas",barcode:"8480000163141",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/3141/front_es.3.400.jpg",id:"q9Z0MayoXzRZKLTF5vDy"},{name:"Acelgas categor\xeda extra",barcode:"8480017574657",brand:"Dia",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/001/757/4657/front_es.8.400.jpg",id:"oHLo9zNJH6p0uSTJNcAK"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/700/845/9042/front_es.28.400.jpg",barcode:"8437008459042",brand:"Bronchales",name:"Agua mineral natural",id:"leklVFvsbS9ilPDvL2Fn"},{favourite:!1,brand:"Bezoya",barcode:"8410128000400",imageUrl:"https://images.openfoodfacts.org/images/products/841/012/800/0400/front_es.62.400.jpg",name:"Agua mineral natural",id:"SlRmgYQ7Q4gIrntiumBy"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/012/816/0074/front_es.3.400.jpg",favourite:!1,barcode:"8410128160074",brand:"Bezoya",name:"Agua mineral natural de mineralizaci\xf3n muy d\xe9bil garrafa",id:"lexnGS3p54WbYuhquB31"},{name:"Agua mineral natural garrafa",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/550/1131/front_es.11.400.jpg",brand:"Font Vella",id:"PCYDzXKqxzBqpCdaUNYo",barcode:"8410055501131",createdOn:1649162588705,createdBy:{lastLogin:1648889388379,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},favourite:!1},{brand:"Viladrau",favourite:!1,name:"Agua viladrau, 1,5L",imageUrl:"https://images.openfoodfacts.org/images/products/841/100/210/1701/front_es.3.400.jpg",barcode:"8411002101701",id:"Q70bJqYgDk49yzOy0Zcw"},{brand:"Ametller Origen",favourite:!1,name:"Amanida de cusc\xfas",barcode:"8436551861951",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/1951/front_es.3.400.jpg",id:"K1aeYHAdujAOseKwRc7w"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9439/front_es.10.400.jpg",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904,email:"joanlloria@gmail.com"},favourite:!1,name:"Amanida del temps",id:"30nav3nZaY4KBBplEpB0",createdOn:1649443191448,barcode:"8437011969439",brand:"ametller origen"},{id:"3MwASOS7hvysSgIzAgUK",brand:"Amstel",barcode:"8410569615614",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/961/5614/front_es.21.400.jpg",name:"Amstel Radler"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/033/721/9082/front_es.19.400.jpg",favourite:!1,name:"An\xeds dulce",brand:"An\xeds del Mono",barcode:"8410337219082",id:"Bv074TbrKKPtZVHHtTak"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5242/front_es.51.400.jpg",name:"Aroma de Vainilla",brand:"Hacendado",barcode:"8480000325242",favourite:!1,id:"Ado6jD7TCsaLoVsxUozf"},{favourite:!1,brand:"Brillante",name:"Arroz integral",barcode:"8410184800150",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/480/0150/front_es.50.400.jpg",id:"n4zcQ59UCaVNsahkzXma"},{brand:"Brillante",favourite:!1,name:"Arroz redondo tradicional cocido para guarnici\xf3n pack 2 envase 125 g",barcode:"8410184013086",imageUrl:"https://images.openfoodfacts.org/images/products/841/018/401/3086/front_es.53.400.jpg",id:"z5geMGnZ4ziKOmmcSwwl"},{favourite:!1,barcode:"8410448000913",brand:"Schara",name:"Artesano salchichas frankfurt cocidas y ahumadas",imageUrl:"https://images.openfoodfacts.org/images/products/841/044/800/0913/front_es.4.400.jpg",id:"ZYAzdv1no7HEq2czfOZr"},{brand:"Granini",barcode:"8431707094290",favourite:!1,name:"Ar\xe1ndanos y uva",imageUrl:"https://images.openfoodfacts.org/images/products/843/170/709/4290/front_es.3.400.jpg",id:"3lKVzkKi1CtI6xJjimWA"},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/018/0926/front_es.35.400.jpg",name:"At\xfan en aceite de girasol",barcode:"8480000180926",id:"Gopq8JVDytroBPtGXoxF"},{favourite:!1,brand:"guest",imageUrl:"https://images.openfoodfacts.org/images/products/843/603/387/8095/front_es.11.400.jpg",barcode:"8436033878095",name:"At\xfan en aceite de girasol",id:"3ryTb2dhZeZi5b9I9lMG"},{barcode:"8410714107735",favourite:!1,name:"Azucarera Sucre Glace 500G",brand:"Azucarera",imageUrl:"https://images.openfoodfacts.org/images/products/841/071/410/7735/front_es.35.400.jpg",id:"30m9z8rGbtu8VPw8RzPf"},{favourite:!1,brand:"Espiga Blanca",barcode:"8436540562050",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/2050/front_es.3.400.jpg",name:"Bastones de cristal",id:"vIFWp8mAaDrkh6VpezCu"},{favourite:!1,barcode:"8076800195132",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5132/front_de.104.400.jpg",brand:"Barilla",name:"Bavette n.13",id:"8tda9fG5Wtj0KImax7zm"},{imageUrl:"https://images.openfoodfacts.org/images/products/842/335/286/1402/front_es.40.400.jpg",favourite:!1,brand:"ALITEY",barcode:"8423352861402",name:"Bebida de avena",id:"8bxuQK7atfV4FDjiXH3G"},{barcode:"8436551865355",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/5355/front_es.3.400.jpg",name:"Beguda vegetal d'arr\xf2s",id:"1m2qNvyCKtKxVlJn0E4N"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/001/717/5397/front_es.7.400.jpg",name:"Bicarbonato s\xf3dico",brand:"Dia",barcode:"8480017175397",favourite:!1,id:"vrzvdVtxcWvp3qw3aiDh"},{brand:"Lotus",favourite:!1,name:"Biscoff",barcode:"5410126716016",imageUrl:"https://images.openfoodfacts.org/images/products/541/012/671/6016/front_es.70.400.jpg",id:"hndTO6g8rFhvc8pHl7kl"},{favourite:!1,name:"Borgesol",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/920/2020/front_es.3.400.jpg",barcode:"8410179202020",brand:"Borges",id:"x01xB6jOHkDnwEwdgC1e"},{barcode:"8015100563067",imageUrl:"",name:"Bref power active, alpine",brand:"Henkel",favourite:!1,id:"XBhKl9TCvR2klNWauS4p"},{name:"Brots de Ruca",favourite:!1,barcode:"8422410473878",brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/047/3878/front_es.11.400.jpg",id:"l6nkLXadsPk7Ehf0WGnJ"},{name:"brots selectes",barcode:"8436551867502",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/7502/front_es.9.400.jpg",brand:"ametller origen",id:"hoJYThDEIKKON38d7l4o"},{barcode:"8410148509327",name:"Cacahuete frito",brand:"Borges",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/014/850/9327/front_es.10.400.jpg",id:"fBt6Uvb5EC1QF1bec6U8"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/034/1778/front_es.60.400.jpg",barcode:"8480000341778",name:"Canela Molida",brand:"Hacendado",favourite:!1,id:"Q45IWe8UFJmIMQevB57O"},{brand:"Dani",name:"Canela molida",barcode:"8410721000180",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/072/100/0180/front_fr.8.400.jpg",id:"HPv7I6ohHstOdBmqkRyM"},{favourite:!1,brand:"Hacendado",name:"Cannelloni tubos precocidos",barcode:"8480000064974",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/006/4974/front_es.36.400.jpg",id:"LtgpXq6f0Lyz1ObmDek4"},{favourite:!1,barcode:"8480000136343",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/013/6343/front_es.3.400.jpg",name:"Capsula cafe classic",id:"L8fz1zUx3C266faJZLHJ"},{name:"Cebolla frita",brand:"Espiga Blanca",barcode:"8412945008508",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/294/500/8508/front_es.3.400.jpg",id:"ReaXV2iO2tNr8brsmLZJ"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/070/600/0266/front_es.6.400.jpg",name:"Chapata",barcode:"8410706000266",brand:"Recondo",favourite:!1,id:"QsUX7H05EMIiyxgjxkzU"},{barcode:"80177616",imageUrl:"https://images.openfoodfacts.org/images/products/80177616/front_en.56.400.jpg",favourite:!1,name:"Chocolate bars x 8",brand:"Kinder,Ferrero",id:"GVrx3aFKfbYDzA8ug2sy"},{favourite:!1,barcode:"7613035268388",name:"Chocolate con leche extrafino",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/8388/front_es.38.400.jpg",brand:"Nestl\xe9",id:"nVQQx2Go0DIsFpD1fnEy"},{imageUrl:"https://images.openfoodfacts.org/images/products/761/303/531/4016/front_es.25.400.jpg",name:"Chocolate con leche y almendras",id:"PYxYdVJPIw8PYGT3hJL7",brand:"Nestl\xe9",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379},favourite:!1,barcode:"7613035314016",createdOn:1649162622233},{favourite:!1,brand:"Illy",imageUrl:"https://images.openfoodfacts.org/images/products/800/375/390/0438/front_en.11.400.jpg",barcode:"8003753900438",name:"coffee tin",id:"P3TJFIMJJ6umgLsMNARA"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/4570/front_es.3.400.jpg",brand:"Ametller origen",name:"Crema ceba i formatge",favourite:!1,barcode:"8436554524570",id:"uptkoR3RoAgnxL4on1zY"},{name:"Crema de Aceite Balsamico de Modena",barcode:"8422410809851",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/080/9851/front_es.8.400.jpg",favourite:!1,brand:"Bonpreu",id:"SXfe5C6ROv5I8weIylKE"},{brand:"Ametller Origen",barcode:"8436554523979",name:"Cremes thai pastanaga i coco",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/3979/front_fr.4.400.jpg",favourite:!1,id:"3dkzQEdUiw6jeSdhv5qE"},{barcode:"8436583955093",favourite:!1,brand:"Novell",imageUrl:"",name:"C\xe0psules de caf\xe9 intens 16u.",id:"4cx8G55JBcftkwPjMRrc"},{favourite:!1,barcode:"8480000325273",brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/032/5273/front_es.3.400.jpg",name:"Decoraciones",id:"c5ebv4Zxds72D4gLOxml"},{barcode:"5054563101648",favourite:!1,id:"jdAnPuqtEeAaPzOCYl00",imageUrl:"https://images.rappi.com.mx/products/92d7d2a4-18f6-46fd-9580-c679a23d1493.png?d=200x200&e=webp",name:"Dent\xedfrico blanqueante, 100ml",brand:"Sensodyne"},{id:"zsWPRKl0FTIpnOBG0WYm",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/686/2295/front_es.12.400.jpg",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",lastLogin:1649187527904},favourite:!1,brand:"Nescaf\xe9",name:"Dolce Gusto",createdOn:1649525097595,barcode:"7613036862295"},{brand:"Marca desconeguda",imageUrl:"https://images.openfoodfacts.org/images/products/841/002/211/5255/front_es.6.400.jpg",name:"Donettes",favourite:!1,barcode:"8410022115255",id:"qjRYx08R9GFt9DlXWbOE"},{name:"Dry Gin",imageUrl:"https://images.openfoodfacts.org/images/products/590/068/500/7910/front_es.18.400.jpg",barcode:"5900685007910",brand:"Seagram's",favourite:!1,id:"qcJaJGwADZOiTOgv2EdL"},{name:"Eko - Mezcla de cereales solubles ecol\xf3gicos",brand:"Nestl\xe9",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/761/303/656/9927/front_es.32.400.jpg",barcode:"7613036569927",id:"VZMbnJHjk69FeYdriirE"},{name:"Emmental",brand:"Ametller origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/2054/front_es.3.400.jpg",barcode:"8436583952054",id:"9zAdEOgvYPvtVuzq4vvt"},{imageUrl:"https://images.openfoodfacts.org/images/products/356/007/011/9851/front_es.39.400.jpg",brand:"Carrefour",favourite:!1,name:"Emmental r\xe2p\xe9",barcode:"3560070119851",id:"Gv96bsD8WJpAsGpieFtf"},{brand:"Florette",barcode:"8414516070167",name:"Ensalada mixta",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/451/607/0167/front_es.19.400.jpg",id:"K78rK6Q1QHEun2nEWjjJ"},{name:"Espaguetis a la Carbornara",favourite:!1,brand:"Ametller Origen",barcode:"8436551862880",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2880/front_es.3.400.jpg",id:"swOdy2x2nOMjVLPZNiDx"},{name:"Espresso intenso descafeinado",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/526/0924/front_es.3.400.jpg",barcode:"7613035260924",brand:"Nescafe",favourite:!1,id:"1RUNXjddz7LxrCMoYClY"},{name:"Estilo Mediterr\xe1neo cacahuetes repelados bolsa 200 g",barcode:"8410564002204",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/056/400/2204/front_fr.6.400.jpg",brand:"Frit Ravich",id:"tCn1OPIu3HMqMnPS3XEx"},{barcode:"8422410040872",favourite:!1,brand:"Bonpreu",name:"Expr\xe9s intens",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/004/0872/front_es.3.400.jpg",id:"2hQz4Ji7dunBz9IRXDGI"},{favourite:!1,brand:"Barilla",barcode:"8076808060654",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/806/0654/front_fr.202.400.jpg",name:"Farfalle",id:"ItsmDGWuwZqq823GL7o2"},{name:"Filtros slim, 150 u.",brand:"OCB",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/305/706/805/6781/front_es.27.400.jpg",barcode:"3057068056781",id:"ti3ipZazS5OY74X31qYh"},{brand:"font d'or",name:"Font D'or",imageUrl:"https://images.openfoodfacts.org/images/products/841/073/903/3002/front_fr.3.400.jpg",barcode:"8410739033002",favourite:!1,id:"0hLDVVtoWHHGxpJBJ8xv"},{name:"Font Vella",brand:"Danone",barcode:"8410055033014",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/005/503/3014/front_es.23.400.jpg",id:"Z5rLwATggE9EhQmZ2VGM"},{name:"Font Vella",brand:"Danone",imageUrl:"https://images.openfoodfacts.org/images/products/841/005/513/3394/front_es.5.400.jpg",favourite:!1,barcode:"8410055133394",id:"8h4MTfnL9KLKvD9kaucU"},{brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 38uds.",favourite:!1,id:"Tsxz3HmPSZ0YuzHfWDFe",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/160A34FA-A880-418F-A9AD2C2E43C8673B/057DEBF5-554E-4F12-A960CB7D747B5A64/Product%20High-EAN_IMG_5029053010052_1.png",barcode:"5029053010052"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/502/905/303/6151/front_es.3.400.jpg",barcode:"5029053036151",brand:"Scottex",name:"Fresh papel higi\xe9nico humedo, 74uds.",id:"czU7rd3XyqdhaLEIKKlc"},{imageUrl:"https://images.openfoodfacts.org/images/products/807/680/208/5981/front_fr.217.400.jpg",brand:"Barilla",favourite:!1,barcode:"8076802085981",name:"Fusilli",id:"kvidMtUxlJWu4BToQoye"},{brand:"Carolina",favourite:!1,name:"Galleta Carolina",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/900/0004/front_es.92.400.jpg",barcode:"8437019000004",id:"tnhUbxvcPNukCitKgjJq"},{brand:"Bonpreu",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/7851/front_es.3.400.jpg",name:"Garbanzos cocidos",barcode:"8422410177851",id:"h1r7SWA1VVM1fsYiFB6Q"},{name:"Garbanzos con espinacas",imageUrl:"https://images.openfoodfacts.org/images/products/841/050/551/2267/front_fr.4.400.jpg",favourite:!1,barcode:"8410505512267",brand:"Luengo",id:"8vDyG5gsOCFzH2s3wMaj"},{name:"Habas fritas Mini Baby",imageUrl:"https://images.openfoodfacts.org/images/products/842/030/921/0115/front_es.15.400.jpg",favourite:!1,barcode:"8420309210115",brand:"Pe\xf1a Torcal",id:"nX934vnWFvL3uqIZ2JBl"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/241/038/7915/front_es.20.400.jpg",brand:"Bonpreu",barcode:"8422410387915",name:"Hamburguesa de l'era",id:"Odb5MEPbjvvGtJi1Sw6w"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/056/401/6157/front_fr.4.400.jpg",name:"Higos secos",favourite:!1,barcode:"8410564016157",brand:"Frit Ravich",id:"cJ7ynQ2WO9ZzVoxIeyW7"},{name:"Infudren",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/4488/front_fr.9.400.jpg",brand:"Hornimans",barcode:"8410091104488",favourite:!1,id:"cqyqq3xxpf8eOVWF4wsv"},{id:"E5Pbprvch6htVuas87ub",favourite:!1,brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0992/front_es.11.400.jpg",barcode:"8436554520992",createdOn:1648885439824,createdBy:{lastLogin:1648740479491,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},name:"Iogurt cremos amb mango"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/2279/front_ca.17.400.jpg",name:"Iogurt cremos macedonia",barcode:"8436554522279",brand:"Ametller origen",favourite:!1,id:"kXZ0ETe4tqcDeEJgwpHj"},{barcode:"8437011969217",imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9217/front_es.4.400.jpg",brand:"Ametller Origen",name:"Iogurt cremoso amb maduixa",favourite:!1,id:"0y6hb1ts1UeZ64z4OdDP"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/0985/front_es.9.400.jpg",brand:"Ametller Origen",createdOn:1648885460412,barcode:"8436554520985",name:"Iogurt Crem\xf3s Maduixa",createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"UUf8ANFrTGmZXlvRK6vf",favourite:!1},{imageUrl:"https://www.marvimundo.com/media/catalog/product/cache/26ef67ba4867c44769c635c68212a088/f/a/fairy-lavavajillas-mano-ultra-poder-400-ml-128042-0_1.jpg",id:"eqBkW8faoUMizZAKo9v5",brand:"Fairy",name:"Jab\xf3n vajillas Ultra Poder",barcode:"8001841624143",favourite:!1},{brand:"Carrefour",id:"0hUlWDteNomeaDM0r9rF",name:"Jumbo Roll, Papel rollo multiusos",favourite:!1,barcode:"3560071152413",imageUrl:"https://static.carrefour.es/hd_510x_/img_pim_food/839977_00_1.jpg"},{favourite:!1,brand:"Kinder,Ferrero",imageUrl:"https://images.openfoodfacts.org/images/products/400/840/020/3829/front_fr.52.400.jpg",name:"Kinder chocolat - chocolat au lait avec fourrage au lait 12 barres",barcode:"4008400203829",id:"wKcPnND7kRp2oZOZEDec"},{brand:"Marca desconeguda",barcode:"8410199023094",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/019/902/3094/front_es.3.400.jpg",name:"lay\u2019s gourmet original",id:"eGb9Zi2YLCc4vUilnfyc"},{name:"Leche",imageUrl:"https://images.openfoodfacts.org/images/products/841/013/500/1322/front_es.32.400.jpg",favourite:!1,barcode:"8410135001322",brand:"Ato",id:"DYRii4Q1nlQXSVux4tlv"},{brand:"Carrefour",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/187/600/5912/front_es.15.400.jpg",barcode:"8431876005912",name:"Lenteja a la riojana",id:"FlyrJ9yKHxEupuDM1XOB"},{brand:"HC Premium",favourite:!1,barcode:"8426765495240",name:"Lentejas pardinas",imageUrl:"https://images.openfoodfacts.org/images/products/842/676/549/5240/front_es.4.400.jpg",id:"jXSGai0V4QTNoGkdZlVj"},{id:"BdOKDepFnrKlvXJe05kx",imageUrl:"https://m.media-amazon.com/images/I/61njkx6RgcL._AC_SX466_.jpg",name:"Levadura de Cerveza",barcode:"8435041321364",brand:"Nature Essential",favourite:!1},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/762/221/097/2910/front_es.58.400.jpg",barcode:"7622210972910",brand:"Royal",name:"Levadura en polvo",id:"GKC6tx0q50UgpCIh98Xu"},{brand:"Don Limpio",barcode:"8006540576588",name:"Limpieza suelos madera - m\xe1rmol",imageUrl:"https://arcashop.es/12829-large_default/don-limpio-limpiador-suelos-piedra-natural-marmol-y-maderas.jpg",id:"LP9uDdp3LWmoOIZoE5bJ",favourite:!1},{brand:"Nestl\xe9",barcode:"7613033481314",favourite:!1,name:"Lion caramelo & chocolate",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/348/1314/front_es.33.400.jpg",id:"nS0432qVdcAwMoFuxMHR"},{name:"Listerine Cuidado Total 500ml",imageUrl:"https://cdns3-2.primor.eu/84242-thickbox/total-care.jpg",barcode:"3574661648019",id:"7bvTHQ1c1OE25ZhXiL6k",favourite:!1,brand:"Johnson & Johnson"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/700/431/4031/front_es.7.400.jpg",brand:"Llet Nostra",favourite:!1,barcode:"8437004314031",name:"Llet Semi Desnatada Nostra",id:"9tbAVUXZjoXNLNMPw9Qt"},{favourite:!1,brand:"Deliplus",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/079/2013/front_es.11.400.jpg",barcode:"8480000792013",name:"Loci\xf3n aloe vera",id:"3wsjdR3cvX08ZEUryPYg"},{barcode:"8421660006010",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/842/166/000/6010/front_es.10.400.jpg",name:"Magdalenas gegants",favourite:!1,id:"eKOXybB8eRHbmXN426O3"},{favourite:!1,name:"MAGNUM Glace B\xe2tonnet Mini Amande 6x55ml",barcode:"8714100635650",imageUrl:"https://images.openfoodfacts.org/images/products/871/410/063/5650/front_es.82.400.jpg",brand:"Magnum",id:"lXG3EL793X2hZN2mVGYe"},{brand:"Arias,Savencia",name:"Mantequilla mini porciones",imageUrl:"https://images.openfoodfacts.org/images/products/841/310/061/2639/front_es.14.400.jpg",favourite:!1,barcode:"8413100612639",id:"Wtq2IcT5fWTF59eJk8Sy"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3382/front_es.20.400.jpg",barcode:"8410091103382",brand:"Hornimans",name:"Manzanilla con an\xeds",id:"pJvKRQ0bzDrMyMXTSoSR"},{name:"Marcilla caf\xe9 superior creme express natural",barcode:"8410091301405",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/130/1405/front_es.27.400.jpg",favourite:!1,brand:"Marcilla",id:"kupLfg9cgCOqrz0amX7Y"},{name:"Ma\xedz dulce",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/016/7644/front_es.5.400.jpg",barcode:"8480000167644",favourite:!1,brand:"Hacendado",id:"o46v8FNpkET9eBCoJwvy"},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0"},brand:"Florette",barcode:"8414516082313",favourite:!1,name:"Mezclum ensalada",imageUrl:"https://images.openfoodfacts.org/images/products/841/451/608/2313/front_es.16.400.jpg",id:"pXCQGrgvKgCNWiQKErry"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/307/378/090/2366/front_es.7.400.jpg",brand:"Bel",name:"Mini Babybel",barcode:"3073780902366",id:"GNoY9uMARm3pyYHuyZ47"},{barcode:"8000270018257",imageUrl:"https://images.openfoodfacts.org/images/products/800/027/001/8257/front_es.7.400.jpg",name:"Mini tostas redondas",favourite:!1,brand:"Bimbo",id:"ssBUB9ehqpXzWlDhbS7g"},{brand:"Carrefour",name:"Mini-toasts",imageUrl:"https://images.openfoodfacts.org/images/products/356/007/034/7438/front_fr.19.400.jpg",barcode:"3560070347438",favourite:!1,id:"JUesQloyy9p0uihUfVjm"},{name:"Minicracker fibra",favourite:!1,brand:"Espiga blanca",imageUrl:"https://images.openfoodfacts.org/images/products/843/654/056/6942/front_es.3.400.jpg",barcode:"8436540566942",id:"ZEbAsgDGCPjs0feY03ox"},{favourite:!1,barcode:"8480000644916",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/064/4916/front_es.24.400.jpg",name:"Mochi Coco",brand:"Hacendado",id:"baqE2SfxQ5hmFkcHBMPs"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/011/804/1574/front_es.47.400.jpg",brand:"Prima",name:"Mostaza",barcode:"8410118041574",favourite:!1,id:"4jHwflGrmg4Og0iUasxh"},{name:"Muesli crunchy chocolate",barcode:"8480000093554",brand:"Hacendado",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/848/000/009/3554/front_es.49.400.jpg",id:"ZPOQCPkr4yYSnziHtHrq"},{favourite:!1,name:"Nachos redondos",brand:"Carrefour",barcode:"8431876305395",imageUrl:"https://images.openfoodfacts.org/images/products/843/187/630/5395/front_es.12.400.jpg",id:"ZfmqU8YhBOpAEFNZZvmr"},{favourite:!1,barcode:"7613039490266",imageUrl:"https://images.openfoodfacts.org/images/products/761/303/949/0266/front_es.38.400.jpg",brand:"Nestl\xe9",name:"Nesquik",id:"ey3FojyVJkBRPHNqGatU"},{name:"Nom desconegut",favourite:!1,brand:"Sanytol",barcode:"8411135005037",id:"obgtqydHBkBWxw7gkDz7",imageUrl:"https://images.openfoodfacts.org/images/products/841/113/500/5037/front_es.3.400.jpg"},{brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/400/216/009/2501/front_es.10.400.jpg",barcode:"4002160092501",name:"N\xe9ctar naranja briks",id:"54m66Drk0byQbBl7o4nx"},{barcode:"8410179012018",name:"Oli d'oliva Verge extra",imageUrl:"https://images.openfoodfacts.org/images/products/841/017/901/2018/front_fr.76.400.jpg",favourite:!1,brand:"Borges",id:"XaUmCXnMUNKyV7Z4Zlze"},{name:"Oli d\u2019oliva",favourite:!1,brand:"Ametller Origen",barcode:"8436551860251",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0251/front_es.21.400.jpg",id:"CWMgTznWc0LBLQE5fPOp"},{brand:"Bonpreu",name:"Oli refinat de gira-sol",id:"2X0xYZv9aIMorvDaQDdk",imageUrl:"https://es.openfoodfacts.org/images/products/842/241/081/0529/front_es.3.full.jpg",barcode:"8422410412044",favourite:!1},{brand:"Bonpreu",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/029/9744/front_es.12.400.jpg",barcode:"8422410299744",favourite:!1,name:"Ous frescos pag\xe8s",id:"E3paebxmi4qrbNKotFSt"},{name:"Pa de vidre",brand:"Ametller Origen",favourite:!1,barcode:"8436583954577",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4577/front_es.3.400.jpg",id:"CdWRC8tyMdD7HmJS8dT9"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/4539/front_es.11.400.jpg",favourite:!1,brand:"ametller origen",barcode:"8436583954539",name:"Pa de vidre tradicional",id:"vqhsiM4NdD4Imq1SHpwn"},{favourite:!1,brand:"Hornimans",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4915/front_fr.16.400.jpg",name:"Pack Duplo Hornimans Infusi\xf3 Infu-l\xednia",barcode:"8410091024915",id:"HfV0fo6by29W2xSocNXY"},{name:"Palets breton galletas de mantequilla",brand:"Saint Aubert",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/304/532/005/2244/front_es.10.400.jpg",barcode:"3045320052244",id:"rhuFIiTyJdHboUsBvjti"},{favourite:!1,name:"Pan Dextrin Integral Santiveri",brand:"Santiveri",barcode:"8412170026896",imageUrl:"https://images.openfoodfacts.org/images/products/841/217/002/6896/front_es.11.400.jpg",id:"wzbiMwk2KWJPf7c2FgzW"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/008/600/0856/front_es.10.400.jpg",brand:"La Hacienda",name:"Patata entera",barcode:"8410086000856",id:"PhRG5yLA0a89xaob5xKs"},{favourite:!1,name:"Patata, pastanaga i mongeta tendra cuinats al buit",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/5140/front_es.3.400.jpg",barcode:"8436554525140",brand:"Ametller Origen",id:"TnvHYIykarIneKJ6hRPV"},{brand:"Bonarea",barcode:"8413585017240",name:"Patatas Fritas",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/358/501/7240/front_es.26.400.jpg",id:"Is8g3XR7l5jx8Yh3TYn0"},{favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/076/200/2273/front_es.10.400.jpg",barcode:"8410762002273",brand:"Casa Tarradellas",name:"Pat\xe9 de salm\xf3n",id:"6O5f9LSdGMN6KzLC0JeE"},{name:"Pepinillos",brand:"Rioverde",barcode:"8410954000711",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/095/400/0711/front_es.10.400.jpg",id:"x5uXf6BsHpyb0o10dnon"},{barcode:"8413475312615",brand:"Ametller Or\xedgen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/841/347/531/2615/front_es.9.400.jpg",name:"Pernil cuit ral",id:"iPVdCwHgX7RxEe9vbx6l"},{barcode:"7076848513753",imageUrl:"https://images.openfoodfacts.org/images/products/707/684/851/3753/front_fr.4.400.jpg",brand:"Barilla",favourite:!1,name:"Pesto alla genovese",id:"UJjvwcB0MlkMg7LWgEJp"},{favourite:!1,brand:"Ametller Origen",name:"Pit de pollastre amb herbes",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/452/9629/front_es.3.400.jpg",barcode:"8436554529629",id:"0WLGkAxyPWvpIQoOZ7FO"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3344/front_es.18.400.jpg",favourite:!1,barcode:"8410091103344",brand:"Hornimans",name:"Poleo menta",id:"7EBzPLJYYkcF9SlDuDju"},{barcode:"8436551864709",name:"Pollastre al curri vermell",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/4709/front_es.9.400.jpg",id:"JhITWXv8sKhGxY2v6Akp"},{brand:"Ametller Or\xedgen",imageUrl:"",name:"Pollastre al ximixurri",favourite:!1,barcode:"8436583957110",id:"mpPu0gL1kwl9eKo8OGEi"},{name:"Pompadour Tomillo",barcode:"8412900401153",favourite:!1,brand:"Pompadour",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1153/front_es.15.400.jpg",id:"PpjhyGotmEb3pH0w1eMg"},{name:"Radler Steinburg",favourite:!1,barcode:"8480000664129",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/066/4129/front_fr.4.400.jpg",brand:"Steinburg",id:"SuV2VXv50lUAKN2ig5SS"},{name:"Reducci\xf3n de vinagre de Pedro Xim\xe9nez",barcode:"8480000049056",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9056/front_es.46.400.jpg",id:"n0bA9HYP5zo4bp5Ofsa8"},{brand:"Hornimans",name:"Rooibos con especias",barcode:"8410091024953",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/102/4953/front_es.7.400.jpg",favourite:!1,id:"2KZX2zt9pr4UnMcBz5vk"},{name:"Royal mints",barcode:"4019400440657",imageUrl:"https://images.openfoodfacts.org/images/products/401/940/044/0657/front_es.19.400.jpg",favourite:!1,brand:"Halloren",id:"hyuEQlks15fV1Gz2QsOJ"},{createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0},barcode:"8412480245307",createdOn:1649394055307,id:"jLlYUP7FHgQ3FLswhUvW",brand:"royal",favourite:!1,name:"Royal pescado desalado tradicional",imageUrl:"https://images.openfoodfacts.org/images/products/841/248/024/5307/front_es.3.400.jpg"},{barcode:"3560071048341",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0,email:"joanlloria@gmail.com"},favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/356/007/104/8341/front_fr.8.400.jpg",brand:"Carrefour",id:"wDYvFJqMYYwgMzks2mpn",createdOn:1648840699569,name:"Sabl\xe9s coeur saveur pomme fa\xe7on tatin"},{barcode:"8410604112344",brand:"Sal Costa",favourite:!1,name:"Sal De Frutas",imageUrl:"https://images.openfoodfacts.org/images/products/841/060/411/2344/front_fr.6.400.jpg",id:"tH5tDpScw3O9HU7rr6SU"},{barcode:"8480000290168",name:"Sal de frutas sabor lim\xf3n",favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/029/0168/front_es.20.400.jpg",id:"9TiCWwlEC7sjlcD9qNIp"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/058/1518/front_es.3.400.jpg",favourite:!1,brand:"Hacienda Iberico",name:"Salchich\xf3n ib\xe9rico",barcode:"8480000581518",id:"cavXqFbme8O97pvlkdV1"},{barcode:"8436583957134",name:"Salm\xf3 amb arr\xf2s i edamame",imageUrl:"",brand:"Ametller Or\xedgen",favourite:!1,id:"2E1o2kMy6wpJqdGPBBnI"},{favourite:!1,barcode:"8410069018717",name:"Salsa bolo\xf1esa",imageUrl:"https://images.openfoodfacts.org/images/products/841/006/901/8717/front_es.3.400.jpg",brand:"Gallo",id:"m6SgmW4XTNAeptb9ihZB"},{name:"Salsa de tomate casera",barcode:"8436551860923",brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/0923/front_es.32.400.jpg",favourite:!1,id:"gE7x9ZkgQ6NjSkLvGcK7"},{name:"Salsa Espinaler",barcode:"8427230989189",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/842/723/098/9189/front_nl.3.400.jpg",brand:"Espinaler",id:"aVxZOQluGc7zUcL19hhO"},{name:"Saltat de Verdures Mediterrani",brand:"Ametller Origen",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/655/186/2040/front_es.28.400.jpg",barcode:"8436551862040",id:"iJNiwpIuVvFhyBglNFxf"},{imageUrl:"https://images.openfoodfacts.org/images/products/848/000/061/0652/front_es.31.400.jpg",barcode:"8480000610652",brand:"Hacendado",name:"Salteado de verduras vegetais",favourite:!1,id:"kZZT52JnJAtR1NxrfXrP"},{brand:"Sanex",name:"Sanex Biomeprotect dermo, 600ml",id:"Eizi9zWGl27j7OC4UCQd",imageUrl:"https://d2csxpduxe849s.cloudfront.net/media/07EADC8C-9435-4B3D-87CF5EDA882A36F2/DB0625BE-506E-4548-83D25E0427C6DF1E/Product%20High-60BD31F8-9CAC-4C46-B9C0A974ED04D63F.png",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0},favourite:!1,barcode:"8718951388826"},{id:"taf3wFAlUncnGAFCpmMK",name:"Sea Salt Flakes",imageUrl:"https://images.heb.com/is/image/HEBGrocery/001549748?fit=constrain,1&wid=800&hei=800&fmt=jpg&qlt=85,0&resMode=sharp2&op_usm=1.75,0.3,2,0",barcode:"5011428300035",favourite:!1,brand:"Maldon"},{barcode:"5054563099082",id:"iQHS7jc0k9qpDOMVenc5",name:"Sensodyne repair & protect",imageUrl:"https://i-cf65.ch-static.com/content/dam/cf-consumer-healthcare/sensodyne-v3/es_ES/Product-pages/products/Repair%20Protect-1028x324.png?auto=format",favourite:!1,brand:"Sensodyne"},{name:"Smacks With Honey",barcode:"5050083560262",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/505/008/356/0262/front_fr.37.400.jpg",brand:"Kellogg's",id:"XkHiVnBtjrGxJyFuw7Lp"},{barcode:"8076800195057",favourite:!1,name:"Spaghetti n.5",imageUrl:"https://images.openfoodfacts.org/images/products/807/680/019/5057/front_es.426.400.jpg",brand:"Barilla",id:"fF45ojO9zvfLUurEJtdQ"},{barcode:"3269612045008",name:"Terrine de canard \xe0 l'Armagnac",imageUrl:"https://images.openfoodfacts.org/images/products/326/961/204/5008/front_fr.6.400.jpg",favourite:!1,brand:"Jean Brunet",id:"1Z4gCweBWIUKJIUcGK2Q"},{name:"Tila",imageUrl:"https://images.openfoodfacts.org/images/products/841/009/110/3306/front_es.4.400.jpg",barcode:"8410091103306",favourite:!1,brand:"Hornimans",id:"VJCKEeSbjbE4nRaLUR4L"},{brand:"Sanytol",favourite:!1,imageUrl:"https://arcashop.es/9035-large_default/sanytol-toallitas-desinfectantes-higienizantes-limpieza-hogar.jpg",barcode:"3045206312257",id:"V3KYndnRcF2eIdIk7Tpz",name:"Toallitas desinfectantes"},{id:"1TlkULpGAdQETA8Idg0G",barcode:"8436583950449",imageUrl:"https://images.openfoodfacts.org/images/products/843/658/395/0449/front_es.3.400.jpg",brand:"Ametller Origen",favourite:!1,name:"Tom\xe0quet de sucar"},{favourite:!1,createdBy:{lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},id:"51WlaDFu7cO0lNqG7wXW",brand:"Ametller Or\xedgen",imageUrl:"",barcode:"8436583950440",name:"Tom\xe0quet de sucar 650gr"},{brand:"Bonpreu",favourite:!1,name:"Tom\xe0quet Fregit",imageUrl:"https://images.openfoodfacts.org/images/products/842/241/017/0760/front_es.3.400.jpg",barcode:"8422410170760",id:"zh9amHkXLOyk0KXUG970"},{imageUrl:"https://images.openfoodfacts.org/images/products/843/701/196/9903/front_es.3.400.jpg",favourite:!1,name:"Trinxat de la cerdanya",brand:"Ametller Origen",barcode:"8437011969903",id:"OkPyN3oS8CMoh2aGUCPO"},{brand:"Ametller Origen",imageUrl:"https://images.openfoodfacts.org/images/products/843/700/800/6420/front_es.30.400.jpg",name:"Truita carxofa",favourite:!1,barcode:"8437008006420",id:"T0nUff9307aPgqLZ8Usv"},{id:"fdspoyuC2coeY6rdGpRT",brand:"Vicens",barcode:"8410495541070",imageUrl:"https://www.vicens.com/cdnassets//imageProduct/0138907_l.jpg",favourite:!1,name:"Turr\xf3n souffl\xe9 avellana chocolate"},{favourite:!1,brand:"Pompadour",name:"T\xe9 verde con jenjibre y naranja",barcode:"8412900401207",imageUrl:"https://images.openfoodfacts.org/images/products/841/290/040/1207/front_es.8.400.jpg",id:"1sHrVBGWHgFzWXQNF41r"},{brand:"Viladrau",favourite:!1,id:"fbCoromlZiueXYYNpzeQ",barcode:"8411002105006",imageUrl:"https://static.condisline.com/resize_1280x1024/images/catalog/large/601044.jpg",name:"Viladrau Agua Mineral 5L."},{favourite:!1,brand:"Hacendado",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/004/9537/front_es.21.400.jpg",name:"Vinagre de Jerez reserva",barcode:"8480000049537",id:"m5ZBjnZ1xpxPAZqgNHCr"},{id:"QGAa9IH14XduTjCEGI0T",barcode:"8422410598977",name:"VINAGRE de vi negre",brand:"Bonpreu",favourite:!1,imageUrl:"https://www.compraonline.bonpreuesclat.cat/images-v3/dcbcfd72-cf23-44a2-8e14-8a38edd645a3/6ff007d2-a9f2-4239-b72d-36a956d630d0/500x500.jpg"},{imageUrl:"https://images.openfoodfacts.org/images/products/841/079/303/1945/front_es.3.400.jpg",barcode:"8410793031945",favourite:!1,name:"Voll-damm Cerveza Doble Malta",brand:"Voll-Damm",id:"l8q8cl0rOFzwrsH4UWYy"},{name:"Worcestershire sauce",brand:"Lea & Perrins",barcode:"5000111040983",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/500/011/104/0983/front_es.23.400.jpg",id:"rCAcIOHzZ5wUR205WVhG"},{favourite:!1,id:"KLcjOJaVljCeYkda4C5c",name:"Xori\xe7 extra",imageUrl:"https://ametllerorigen.vtexassets.com/arquivos/ids/164350-800-auto?v=637160564399800000&width=800&height=auto&aspect=true",brand:"Ametller Origen",barcode:"8435037550631"},{barcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648740479491,admin:!0},createdOn:1648840788835,brand:"Granini",favourite:!1,imageUrl:"https://images.openfoodfacts.org/images/products/843/170/702/0053/front_fr.19.400.jpg",name:"Zumo de granada y manzana",id:"YWpN9xwLcmQapm3DKHjk"},{favourite:!1,brand:"Hacendado",barcode:"8480000390103",imageUrl:"https://images.openfoodfacts.org/images/products/848/000/039/0103/front_es.40.400.jpg",name:"Zumo pura naranja",id:"D7OCE8KsONVlLfirGFkx"}]},7296:(pt,D,A)=>{"use strict";A.d(D,{H:()=>p});const p=[{imageUrl:"https://pbs.twimg.com/profile_images/1450755062905638915/in0hHQGq_400x400.png",favourite:!1,default:!0,id:"alcampo",name:"Alcampo"},{default:!0,favourite:!1,id:"aldi",imageUrl:"https://www.aldi.es/etc/designs/aldi/web/frontend/aldi/images/app/app-icon.svg.res/1638344259427/app-icon.svg",name:"ALDI"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcROwKa28Sqrl0fWFGunslp82-lyocGHzu21UQnT2gt625cM7Q3tAmtUTFZGcMx7bYIEUt8&usqp=CAU",id:"ametller",default:!0,favourite:!1,name:"Ametller Origen"},{default:!0,id:"bonpreu",favourite:!1,name:"Bonpreu Esclat",imageUrl:"http://www.worldcoo.com/blog/wp-content/uploads/2018/01/bonpreu-esclat.png"},{favourite:!1,id:"bonarea",name:"Bon\xc0rea",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR492c6hS3uP6uaji3R7jcDdQT1xaN9OX96B32Rne4SZNjcZnxrQfPTaf7JyWh_o8dOzQ&usqp=CAU",default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQ-JQzNNsGh8wZbvcRIa7n2jvCjeYyctMAUBbLGm_TXL1BnNx6ojApeqBhRvGRbt7dj2FE&usqp=CAU",favourite:!1,name:"Caprabo",id:"caprabo",default:!0},{favourite:!1,name:"Carrefour",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR5pkE4ZM9yedZMjMpaSS66aCSjVMpTY03YUSEGvplUTeiGhGfzf3CY3uocvtVRtfPWFj8&usqp=CAU",default:!0,id:"carrefour"},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQu0fPkav2_8d6GYaJf5XdQ8guIeg-g16gSlSy3siqh8YuDKBq4Qd4pmvg0vOTiZZTmKY0&usqp=CAU",favourite:!1,id:"clarel",default:!0,name:"Clarel"},{id:"condis",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTbPqN4hQB9goxYwrNouiUGP-JaictWMt5o4bVXLq7AOsm5zO7jAFwSNHeBlihvQx635GI&usqp=CAU",default:!0,name:"Condis",favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTyAUiF5V53eb_Ae5LeqxJC2VYfXU--P3XvZ1cv7g_S4yfX4ZWUzpxHh3JtWiQqzz-lJg&usqp=CAU",name:"Consum",id:"consum",favourite:!1,default:!0},{favourite:!1,default:!0,id:"dia",name:"Dia",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSNjqDvMwpm9hqIkD8tPuFACBWcOgT82GO-E9M2Hqwgn63-v9-OIrkT81v_02T--jAaA0U&usqp=CAU"},{id:"eroski",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcwaVCA-OFC062QN1Twe4B-36zGE2fuSZX4jnS9f_pXDWpaxlgz5wpr0qmAaaNCaxRiw&usqp=CAU",default:!0,favourite:!1,name:"Eroski"},{favourite:!1,name:"Hipercor",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR_BOlcMNRQ-vt1DtiHp1fCrVksHjeHR1aeiASmJLDjbPcBlJIwpVcyo-kQxMfi_FPrt2k&usqp=CAU",id:"hipercor",default:!0},{name:"La Sirena",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR4ytz4AOvo2DMhJA1m3yzQlYqm_gHmsT2-_00aHpUqm-nFmMMJm6_VpIXmrn72y6P7hyk&usqp=CAU",id:"lasirena",favourite:!1,default:!0},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcR1i90fckbyoDBynQQ8KHkdVrXcdYyu2kUlmKn6HCFhG4qSxBafHGxgaG_3UuHbmZxTEtM&usqp=CAU",default:!0,id:"lidl",name:"Lidl",favourite:!1},{name:"Makro",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQi_ZZKzTFFjyPJZjnajm8apfLmZ4srvfb2zcT2ajAP169xQjH4lSjiqFQt4HI0t3-KJIs&usqp=CAU",id:"makro",default:!0},{id:"mercadona",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTHnXNkyr60Ou-399tjzyWEf6mdkOWSxaHmZ6vkJ21zBvxiIBeMaJUjqGwITmCuY7iKFYo&usqp=CAU",favourite:!1,default:!0,name:"Mercadona"},{name:"Sorli",id:"sorli",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQc-1R197lbH6BuQKE4JJuuZcLbDNVI4b4oc9btTP8w6x3XD_Vkz3-vHs5UOClylrLCC1I&usqp=CAU",default:!0},{id:"supercor",favourite:!1,imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTaiMcp3KOqEkjmqczVd2COauXNF8nf4hS7CJkxf8oGs8uQ3kK-gd4azMLsHQE_nN7lP8c&usqp=CAU",default:!0,name:"Supercor"},{id:"supersol",name:"Supersol",imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSjcrYIr8Fe8_JSEU8P_BovOByU016URvGOg9lw12MRr6VdCuZ81-3nV-uoIAfLl4TaCT8&usqp=CAU",default:!0,favourite:!1},{imageUrl:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQsNMNJP33s72ISlLfSSCaAIEBfvu9wvo32obL6nWjT_ji5zbvowvWoCUhhOW12qX-KTQ&usqp=CAU",name:"Veritas",id:"veritas",default:!0,favourite:!1}]},3701:(pt,D,A)=>{"use strict";A.d(D,{M:()=>p});const p={PS_LOGGED_USER:"PS_USER",PS_PRODUCTS:"PS_PRODUCTS",PS_SHOPS:"PS_SHOPS",PS_SHOPS_PRODUCTS:"PS_SHOPS_PRODUCTS",PS_FAVOURITE_SHOPS:"PS_FAVOURITE_SHOPS",PS_FAVOURITE_PRODUCTS:"PS_FAVOURITE_PRODUCTS",PS_SHOPPING_CART:"PS_SHOPPING_CART",PS_APP_LANGUAGE:"PS_APP_LANGUAGE",PS_USER_ALERTS:"PS_USER_ALERTS",PS_SHOPS_SEARCH_TEXT:"PS_SHOPS_SEARCH_TEXT",PS_PRODUCTS_SEARCH_TEXT:"PS_PRODUCTS_SEARCH_TEXT",PS_LAST_SHOP_ID:"PS_LAST_SHOP_ID"}},1343:(pt,D,A)=>{"use strict";A.d(D,{C:()=>G});var p=A(2292),e=A(8996),w=A(9646),N=A(3209),M=A(5e3);let G=(()=>{class ee{constructor(Q){this.firestore=Q}addShop(Q){console.log("FirestoreService.addShop()",Q);const K=(0,p.hJ)(this.firestore,"shops");return(0,e.D)((0,p.ET)(K,Q))}addShops(Q){console.log("FirestoreService.addShops()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const ge=(0,p.hJ)(this.firestore,"shops"),dt=(0,p.JU)(ge);K.set(dt,ie)}),K.commit(),(0,w.of)(!0)}deleteShop(Q){console.log("FirestoreService.deleteShop()",Q);const K=(0,p.JU)(this.firestore,`shops/${Q}`);return(0,e.D)((0,N.oe)(K))}updateShop(Q){console.log("FirestoreService.updateShop()",Q);const K=(0,p.JU)(this.firestore,`shops/${Q.id}`);return(0,e.D)((0,N.pl)(K,Q))}getShops(){console.log("FirestoreService.getShops()");const Q=(0,p.hJ)(this.firestore,"shops");return(0,p.BS)(Q)}getProducts(){console.log("FirestoreService.getProducts()");const Q=(0,p.hJ)(this.firestore,"products");return(0,p.BS)(Q,{idField:"id"})}addProduct(Q){console.log("FirestoreService.addProduct()",Q),Q.imageUrl||(Q.imageUrl="");const K=(0,p.hJ)(this.firestore,"products");return(0,e.D)((0,p.ET)(K,Q))}addProducts(Q){console.log("FirestoreService.addProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const ge=(0,p.hJ)(this.firestore,"products"),dt=(0,p.JU)(ge);K.set(dt,ie)}),K.commit(),(0,w.of)(!0)}deleteProduct(Q){console.log("FirestoreService.deleteProduct()",Q);const K=(0,p.JU)(this.firestore,`products/${Q}`);return(0,e.D)((0,N.oe)(K))}updateProduct(Q){console.log("FirestoreService.updateProduct()",Q);const K=(0,p.JU)(this.firestore,`products/${Q.id}`);return(0,e.D)((0,N.pl)(K,Q))}getShopsProducts(){console.log("FirestoreService.getShopsProducts()");const Q=(0,p.hJ)(this.firestore,"shopsProducts");return(0,p.BS)(Q,{idField:"id"})}deleteShopProduct(Q){console.log("FirestoreService.deleteShopProduct()",Q);const K=(0,p.JU)(this.firestore,`shopsProducts/${Q.id}`);return console.log(K),this.deleteShopProducts([Q])}deleteShopProducts(Q){console.log("FirestoreService.deleteShopProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{console.log(ie.id);const ge=(0,p.JU)(this.firestore,`shopsProducts/${ie.id}`);K.delete(ge)}),K.commit(),(0,w.of)(!0)}addShopProduct(Q){console.log("FirestoreService.addShopProduct()",Q);const K=(0,p.hJ)(this.firestore,"shopsProducts");return(0,e.D)((0,p.ET)(K,Q))}addShopProducts(Q){console.log("FirestoreService.addShopProducts()",Q);const K=(0,N.qs)(this.firestore);return Q.forEach(ie=>{const ge=(0,p.hJ)(this.firestore,"shopsProducts"),dt=(0,p.JU)(ge);K.set(dt,ie)}),K.commit(),(0,w.of)(!0)}}return ee.\u0275fac=function(Q){return new(Q||ee)(M.LFG(p.gg))},ee.\u0275prov=M.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},4120:(pt,D,A)=>{"use strict";A.d(D,{r:()=>G});var p=A(7579),e=A(3701),w=A(5e3),N=A(520),M=A(3104);let G=(()=>{class ee{constructor(Q,K){this.http=Q,this.router=K,this.user=new p.x}login(Q){Q.lastLogin=(new Date).getTime(),this.user.next(Q),this.router.navigate(["home"]),this.getIpData().subscribe(K=>{console.log(K),Q.ip=K.ip,Q.city=K.city,Q.country=K.country,this.user.next(Q),localStorage.setItem(e.M.PS_LOGGED_USER,JSON.stringify(Q)),this.router.navigate(["home"])})}logout(){localStorage.removeItem(e.M.PS_LOGGED_USER),this.user.next(void 0)}checkIsAdmin(Q){return(null==Q?void 0:Q.email.startsWith("jollmat@"))||(null==Q?void 0:Q.email.startsWith("joan.lloria@"))||(null==Q?void 0:Q.email.startsWith("joanlloria@"))}getLoggedUser(){let Q=JSON.parse(localStorage.getItem(e.M.PS_LOGGED_USER));if(Q)return Q=Q,Q.admin=this.checkIsAdmin(Q),Q}isLoggedUser(){return null!=this.getLoggedUser()}getInternetIp(){return this.http.get("https://api.ipify.org/?format=json")}getIpData(){return this.http.get("https://ipapi.co/json/")}}return ee.\u0275fac=function(Q){return new(Q||ee)(w.LFG(N.eN),w.LFG(M.F0))},ee.\u0275prov=w.Yz7({token:ee,factory:ee.\u0275fac,providedIn:"root"}),ee})()},6082:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{M:()=>ProductService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8686),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(3709),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3701),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_login_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(4120),_firestore_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1343);let ProductService=(()=>{class ProductService{constructor(loginService,firestoreService){this.loginService=loginService,this.firestoreService=firestoreService,this.products=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._products=[],this._favouriteProductsBarcodes=[];const favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS);this._favouriteProductsBarcodes=favouriteProductsBarcodes?eval(favouriteProductsBarcodes):[],this.setFavourites(this._favouriteProductsBarcodes),this.products.subscribe(pt=>{this._products=pt})}loadProducts(){return console.log("ProductService.loadProducts()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.getProducts().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addProducts(pt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addProducts(pt=_model_constants_default_products_constant__WEBPACK_IMPORTED_MODULE_1__.X),this.setDefaultImages(pt),this.checkFavourites(pt),this.products.next(pt)}))}getProducts(){return(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(this._products)}toggleFavourite(pt){let D=this.getFavourites();return pt.favourite?D.push(pt.barcode):D=D.filter(A=>A!==pt.barcode),this.setFavourites(D),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(pt){pt.map(D=>(D.imageUrl||(D.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),D))}updateProduct(pt,D){return console.log("ProductService.updateProduct()",pt),D||this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.updateProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createProduct(pt){return console.log("ProductService.createProduct()",pt),pt.createdBy=this.loginService.getLoggedUser(),pt.createdOn=(new Date).getTime(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.addProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products.push(pt),this.products.next(this._products)})):(this._products.push(pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeProduct(pt){return console.log("ProductService.removeProduct()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_0__.q.cloudMode?this.firestoreService.deleteProduct(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._products=this._products.filter(D=>D.id!==pt),this.products.next(this._products)})):(this._products=this._products.filter(D=>D.id!==pt),this.products.next(this._products),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS,JSON.stringify(pt))}getFavourites(){const _favouriteProductsBarcodes=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_2__.M.PS_FAVOURITE_PRODUCTS),favouriteProductsBarcodes=_favouriteProductsBarcodes?eval(_favouriteProductsBarcodes):[];return favouriteProductsBarcodes}checkFavourites(pt){const D=this.getFavourites();pt.map(A=>{A.favourite=D.indexOf(A.barcode)>-1})}}return ProductService.\u0275fac=function pt(D){return new(D||ProductService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_3__.r),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_4__.C))},ProductService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ProductService,factory:ProductService.\u0275fac,providedIn:"root"}),ProductService})()},635:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{d:()=>ShopService});var rxjs__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7579),rxjs__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8505),rxjs__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9646),_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(3701),_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7296),_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2940),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8686),_angular_core__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(5e3),_firestore_service__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(1343),_login_service__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4120);let ShopService=(()=>{class ShopService{constructor(firestoreService,loginService){this.firestoreService=firestoreService,this.loginService=loginService,this.shops=new rxjs__WEBPACK_IMPORTED_MODULE_5__.x,this._shops=[],this._favouriteShopsIds=[];const favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS);this._favouriteShopsIds=favouriteShopsIds?eval(favouriteShopsIds):[],this.setFavourites(this._favouriteShopsIds),this.shops.subscribe(pt=>{this._shops=pt}),this.loadShops().subscribe()}loadShops(){return console.log("ShopService.loadShops()"),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.getShops().pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addShops(pt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(pt=>{(!pt||0===pt.length)&&this.firestoreService.addShops(pt=_model_constants_default_shops_constant__WEBPACK_IMPORTED_MODULE_1__.H),this.setDefaultImages(pt),this.checkFavourites(pt),this.shops.next(pt)}))}toggleFavourite(pt){let D=this.getFavourites();return pt.favourite?D.push(pt.id):D=D.filter(A=>A!==pt.id),this.setFavourites(D),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}setDefaultImages(pt){pt.map(D=>(D.imageUrl||(D.imageUrl=_model_constants_default_image_constant__WEBPACK_IMPORTED_MODULE_8__.T),D))}updateShop(pt){return console.log("ShopService.updateShop()",pt),this.toggleFavourite(pt).subscribe(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.updateShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{})):(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0)}createShop(pt){return console.log("ShopService.createShop()",pt),pt.createdBy=this.loginService.getLoggedUser(),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.addShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops.push(pt),this.shops.next(this._shops)})):(this._shops.push(pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}removeShop(pt){return console.log("ShopService.removeShop()",pt),src_config_app_config_constant__WEBPACK_IMPORTED_MODULE_2__.q.cloudMode?this.firestoreService.deleteShop(pt).pipe((0,rxjs__WEBPACK_IMPORTED_MODULE_6__.b)(()=>{this._shops=this._shops.filter(D=>D.id!==pt),this.shops.next(this._shops)})):(this._shops=this._shops.filter(D=>D.id!==pt),this.shops.next(this._shops),(0,rxjs__WEBPACK_IMPORTED_MODULE_7__.of)(!0))}setFavourites(pt){localStorage.setItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS,JSON.stringify(pt))}getFavourites(){const _favouriteShopsIds=localStorage.getItem(_model_constants_store_keys_constants__WEBPACK_IMPORTED_MODULE_0__.M.PS_FAVOURITE_SHOPS),favouriteShopsIds=_favouriteShopsIds?eval(_favouriteShopsIds):[];return favouriteShopsIds}checkFavourites(pt){const D=this.getFavourites();pt.map(A=>{A.favourite=D.indexOf(A.id)>-1})}}return ShopService.\u0275fac=function pt(D){return new(D||ShopService)(_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_firestore_service__WEBPACK_IMPORTED_MODULE_3__.C),_angular_core__WEBPACK_IMPORTED_MODULE_9__.LFG(_login_service__WEBPACK_IMPORTED_MODULE_4__.r))},ShopService.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_9__.Yz7({token:ShopService,factory:ShopService.\u0275fac,providedIn:"root"}),ShopService})()},8686:(pt,D,A)=>{"use strict";A.d(D,{q:()=>p});const p={defaultLanguage:"ca",cloudMode:!0,bannedIPs:[]}},3386:(pt,D,A)=>{"use strict";var p=A(9808),e=A(5e3);class w extends p.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class N extends w{static makeCurrent(){(0,p.HT)(new N)}onAndCancel(i,t,c){return i.addEventListener(t,c,!1),()=>{i.removeEventListener(t,c,!1)}}dispatchEvent(i,t){i.dispatchEvent(t)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,t){return(t=t||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,t){return"window"===t?window:"document"===t?i:"body"===t?i.body:null}getBaseHref(i){const t=function G(){return M=M||document.querySelector("base"),M?M.getAttribute("href"):null}();return null==t?null:function Y(r){ee=ee||document.createElement("a"),ee.setAttribute("href",r);const i=ee.pathname;return"/"===i.charAt(0)?i:`/${i}`}(t)}resetBaseElement(){M=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return(0,p.Mx)(document.cookie,i)}}let ee,M=null;const Q=new e.OlP("TRANSITION_ID"),ie=[{provide:e.ip1,useFactory:function K(r,i,t){return()=>{t.get(e.CZH).donePromise.then(()=>{const c=(0,p.q)(),h=i.querySelectorAll(`style[ng-transition="${r}"]`);for(let _=0;_<h.length;_++)c.remove(h[_])})}},deps:[Q,p.K0,e.zs3],multi:!0}];class ge{static init(){(0,e.VLi)(new ge)}addToWindow(i){e.dqk.getAngularTestability=(c,h=!0)=>{const _=i.findTestabilityInTree(c,h);if(null==_)throw new Error("Could not find testability for element.");return _},e.dqk.getAllAngularTestabilities=()=>i.getAllTestabilities(),e.dqk.getAllAngularRootElements=()=>i.getAllRootElements(),e.dqk.frameworkStabilizers||(e.dqk.frameworkStabilizers=[]),e.dqk.frameworkStabilizers.push(c=>{const h=e.dqk.getAllAngularTestabilities();let _=h.length,O=!1;const z=function(J){O=O||J,_--,0==_&&c(O)};h.forEach(function(J){J.whenStable(z)})})}findTestabilityInTree(i,t,c){if(null==t)return null;const h=i.getTestability(t);return null!=h?h:c?(0,p.q)().isShadowRoot(t)?this.findTestabilityInTree(i,t.host,!0):this.findTestabilityInTree(i,t.parentElement,!0):null}}let dt=(()=>{class r{build(){return new XMLHttpRequest}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Xe=new e.OlP("EventManagerPlugins");let Je=(()=>{class r{constructor(t,c){this._zone=c,this._eventNameToPlugin=new Map,t.forEach(h=>h.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,c,h){return this._findPluginFor(c).addEventListener(t,c,h)}addGlobalEventListener(t,c,h){return this._findPluginFor(c).addGlobalEventListener(t,c,h)}getZone(){return this._zone}_findPluginFor(t){const c=this._eventNameToPlugin.get(t);if(c)return c;const h=this._plugins;for(let _=0;_<h.length;_++){const O=h[_];if(O.supports(t))return this._eventNameToPlugin.set(t,O),O}throw new Error(`No event manager plugin found for event ${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Xe),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class vt{constructor(i){this._doc=i}addGlobalEventListener(i,t,c){const h=(0,p.q)().getGlobalEventTarget(this._doc,i);if(!h)throw new Error(`Unsupported event target ${h} for event ${t}`);return this.addEventListener(h,t,c)}}let _e=(()=>{class r{constructor(){this._stylesSet=new Set}addStyles(t){const c=new Set;t.forEach(h=>{this._stylesSet.has(h)||(this._stylesSet.add(h),c.add(h))}),this.onStylesAdded(c)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Ge=(()=>{class r extends _e{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,c,h){t.forEach(_=>{const O=this._doc.createElement("style");O.textContent=_,h.push(c.appendChild(O))})}addHost(t){const c=[];this._addStylesToHost(this._stylesSet,t,c),this._hostNodes.set(t,c)}removeHost(t){const c=this._hostNodes.get(t);c&&c.forEach(ke),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((c,h)=>{this._addStylesToHost(t,h,c)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ke))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function ke(r){(0,p.q)().remove(r)}const _t={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ke=/%COMP%/g;function me(r,i,t){for(let c=0;c<i.length;c++){let h=i[c];Array.isArray(h)?me(r,h,t):(h=h.replace(Ke,r),t.push(h))}return t}function oe(r){return i=>{if("__ngUnwrap__"===i)return r;!1===r(i)&&(i.preventDefault(),i.returnValue=!1)}}let qe=(()=>{class r{constructor(t,c,h){this.eventManager=t,this.sharedStylesHost=c,this.appId=h,this.rendererByCompId=new Map,this.defaultRenderer=new Ee(t)}createRenderer(t,c){if(!t||!c)return this.defaultRenderer;switch(c.encapsulation){case e.ifc.Emulated:{let h=this.rendererByCompId.get(c.id);return h||(h=new Sn(this.eventManager,this.sharedStylesHost,c,this.appId),this.rendererByCompId.set(c.id,h)),h.applyToHost(t),h}case 1:case e.ifc.ShadowDom:return new Rt(this.eventManager,this.sharedStylesHost,t,c);default:if(!this.rendererByCompId.has(c.id)){const h=me(c.id,c.styles,[]);this.sharedStylesHost.addStyles(h),this.rendererByCompId.set(c.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Je),e.LFG(Ge),e.LFG(e.AFp))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Ee{constructor(i){this.eventManager=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(i,t){return t?document.createElementNS(_t[t]||t,i):document.createElement(i)}createComment(i){return document.createComment(i)}createText(i){return document.createTextNode(i)}appendChild(i,t){i.appendChild(t)}insertBefore(i,t,c){i&&i.insertBefore(t,c)}removeChild(i,t){i&&i.removeChild(t)}selectRootElement(i,t){let c="string"==typeof i?document.querySelector(i):i;if(!c)throw new Error(`The selector "${i}" did not match any elements`);return t||(c.textContent=""),c}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,t,c,h){if(h){t=h+":"+t;const _=_t[h];_?i.setAttributeNS(_,t,c):i.setAttribute(t,c)}else i.setAttribute(t,c)}removeAttribute(i,t,c){if(c){const h=_t[c];h?i.removeAttributeNS(h,t):i.removeAttribute(`${c}:${t}`)}else i.removeAttribute(t)}addClass(i,t){i.classList.add(t)}removeClass(i,t){i.classList.remove(t)}setStyle(i,t,c,h){h&(e.JOm.DashCase|e.JOm.Important)?i.style.setProperty(t,c,h&e.JOm.Important?"important":""):i.style[t]=c}removeStyle(i,t,c){c&e.JOm.DashCase?i.style.removeProperty(t):i.style[t]=""}setProperty(i,t,c){i[t]=c}setValue(i,t){i.nodeValue=t}listen(i,t,c){return"string"==typeof i?this.eventManager.addGlobalEventListener(i,t,oe(c)):this.eventManager.addEventListener(i,t,oe(c))}}class Sn extends Ee{constructor(i,t,c,h){super(i),this.component=c;const _=me(h+"-"+c.id,c.styles,[]);t.addStyles(_),this.contentAttr=function ft(r){return"_ngcontent-%COMP%".replace(Ke,r)}(h+"-"+c.id),this.hostAttr=function ve(r){return"_nghost-%COMP%".replace(Ke,r)}(h+"-"+c.id)}applyToHost(i){super.setAttribute(i,this.hostAttr,"")}createElement(i,t){const c=super.createElement(i,t);return super.setAttribute(c,this.contentAttr,""),c}}class Rt extends Ee{constructor(i,t,c,h){super(i),this.sharedStylesHost=t,this.hostEl=c,this.shadowRoot=c.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const _=me(h.id,h.styles,[]);for(let O=0;O<_.length;O++){const z=document.createElement("style");z.textContent=_[O],this.shadowRoot.appendChild(z)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(i,t){return super.appendChild(this.nodeOrShadowRoot(i),t)}insertBefore(i,t,c){return super.insertBefore(this.nodeOrShadowRoot(i),t,c)}removeChild(i,t){return super.removeChild(this.nodeOrShadowRoot(i),t)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}}let Et=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,c,h){return t.addEventListener(c,h,!1),()=>this.removeEventListener(t,c,h)}removeEventListener(t,c,h){return t.removeEventListener(c,h)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Ht=["alt","control","meta","shift"],rr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},$n={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Dr={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey};let br=(()=>{class r extends vt{constructor(t){super(t)}supports(t){return null!=r.parseEventName(t)}addEventListener(t,c,h){const _=r.parseEventName(c),O=r.eventCallback(_.fullKey,h,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,p.q)().onAndCancel(t,_.domEventName,O))}static parseEventName(t){const c=t.toLowerCase().split("."),h=c.shift();if(0===c.length||"keydown"!==h&&"keyup"!==h)return null;const _=r._normalizeKey(c.pop());let O="";if(Ht.forEach(J=>{const De=c.indexOf(J);De>-1&&(c.splice(De,1),O+=J+".")}),O+=_,0!=c.length||0===_.length)return null;const z={};return z.domEventName=h,z.fullKey=O,z}static getEventFullKey(t){let c="",h=function vr(r){let i=r.key;if(null==i){if(i=r.keyIdentifier,null==i)return"Unidentified";i.startsWith("U+")&&(i=String.fromCharCode(parseInt(i.substring(2),16)),3===r.location&&$n.hasOwnProperty(i)&&(i=$n[i]))}return rr[i]||i}(t);return h=h.toLowerCase()," "===h?h="space":"."===h&&(h="dot"),Ht.forEach(_=>{_!=h&&Dr[_](t)&&(c+=_+".")}),c+=h,c}static eventCallback(t,c,h){return _=>{r.getEventFullKey(_)===t&&h.runGuarded(()=>c(_))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Ei=(0,e.eFA)(e._c5,"browser",[{provide:e.Lbi,useValue:p.bD},{provide:e.g9A,useValue:function ni(){N.makeCurrent(),ge.init()},multi:!0},{provide:p.K0,useFactory:function jr(){return(0,e.RDi)(document),document},deps:[]}]),Kr=[{provide:e.zSh,useValue:"root"},{provide:e.qLn,useFactory:function xr(){return new e.qLn},deps:[]},{provide:Xe,useClass:Et,multi:!0,deps:[p.K0,e.R0b,e.Lbi]},{provide:Xe,useClass:br,multi:!0,deps:[p.K0]},{provide:qe,useClass:qe,deps:[Je,Ge,e.AFp]},{provide:e.FYo,useExisting:qe},{provide:_e,useExisting:Ge},{provide:Ge,useClass:Ge,deps:[p.K0]},{provide:e.dDg,useClass:e.dDg,deps:[e.R0b]},{provide:Je,useClass:Je,deps:[Xe,e.R0b]},{provide:p.JF,useClass:dt,deps:[]}];let Zr=(()=>{class r{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:r,providers:[{provide:e.AFp,useValue:t.appId},{provide:Q,useExisting:e.AFp},ie]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(r,12))},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:Kr,imports:[p.ez,e.hGG]}),r})();"undefined"!=typeof window&&window;let be=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new(t||r):e.LFG($e),c},providedIn:"root"}),r})(),$e=(()=>{class r extends be{constructor(t){super(),this._doc=t}sanitize(t,c){if(null==c)return null;switch(t){case e.q3G.NONE:return c;case e.q3G.HTML:return(0,e.qzn)(c,"HTML")?(0,e.z3N)(c):(0,e.EiD)(this._doc,String(c)).toString();case e.q3G.STYLE:return(0,e.qzn)(c,"Style")?(0,e.z3N)(c):c;case e.q3G.SCRIPT:if((0,e.qzn)(c,"Script"))return(0,e.z3N)(c);throw new Error("unsafe value used in a script context");case e.q3G.URL:return(0,e.yhl)(c),(0,e.qzn)(c,"URL")?(0,e.z3N)(c):(0,e.mCW)(String(c));case e.q3G.RESOURCE_URL:if((0,e.qzn)(c,"ResourceURL"))return(0,e.z3N)(c);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,e.JVY)(t)}bypassSecurityTrustStyle(t){return(0,e.L6k)(t)}bypassSecurityTrustScript(t){return(0,e.eBb)(t)}bypassSecurityTrustUrl(t){return(0,e.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,e.pB0)(t)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:function(t){let c=null;return c=t?new t:function lt(r){return new $e(r.get(p.K0))}(e.LFG(e.zs3)),c},providedIn:"root"}),r})();A(8955);var zn=A(8996),ir=A(8306),or=A(4742),sr=A(8421),Cn=A(3269),In=A(5403),wn=A(3268),Qe=A(1810);function wt(...r){const i=(0,Cn.jO)(r),{args:t,keys:c}=(0,or.D)(r),h=new ir.y(_=>{const{length:O}=t;if(!O)return void _.complete();const z=new Array(O);let J=O,De=O;for(let tt=0;tt<O;tt++){let Ut=!1;(0,sr.Xf)(t[tt]).subscribe((0,In.x)(_,Gt=>{Ut||(Ut=!0,De--),z[tt]=Gt},()=>J--,void 0,()=>{(!J||!Ut)&&(De||_.next(c?(0,Qe.n)(c,z):z),_.complete())}))}});return i?h.pipe((0,wn.Z)(i)):h}var ln=A(4004);let Yn=(()=>{class r{constructor(t,c){this._renderer=t,this._elementRef=c,this.onChange=h=>{},this.onTouched=()=>{}}setProperty(t,c){this._renderer.setProperty(this._elementRef.nativeElement,t,c)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq))},r.\u0275dir=e.lG2({type:r}),r})(),gr=(()=>{class r extends Yn{}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,features:[e.qOj]}),r})();const Yt=new e.OlP("NgValueAccessor"),on={provide:Yt,useExisting:(0,e.Gpc)(()=>et),multi:!0};let et=(()=>{class r extends gr{writeValue(t){this.setProperty("checked",t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.checked)})("blur",function(){return c.onTouched()})},features:[e._Bn([on]),e.qOj]}),r})();const Lt={provide:Yt,useExisting:(0,e.Gpc)(()=>mn),multi:!0},xn=new e.OlP("CompositionEventMode");let mn=(()=>{class r extends Yn{constructor(t,c,h){super(t,c),this._compositionMode=h,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gn(){const r=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Qsj),e.Y36(e.SBq),e.Y36(xn,8))},r.\u0275dir=e.lG2({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c._handleInput(_.target.value)})("blur",function(){return c.onTouched()})("compositionstart",function(){return c._compositionStart()})("compositionend",function(_){return c._compositionEnd(_.target.value)})},features:[e._Bn([Lt]),e.qOj]}),r})();const pn=new e.OlP("NgValidators"),Vn=new e.OlP("NgAsyncValidators");function We(r){return null}function bt(r){return null!=r}function Vt(r){const i=(0,e.QGY)(r)?(0,zn.D)(r):r;return(0,e.CqO)(i),i}function $t(r){let i={};return r.forEach(t=>{i=null!=t?Object.assign(Object.assign({},i),t):i}),0===Object.keys(i).length?null:i}function bn(r,i){return i.map(t=>t(r))}function Vr(r){return r.map(i=>function Sr(r){return!r.validate}(i)?i:t=>i.validate(t))}function mi(r){return null!=r?function Ir(r){if(!r)return null;const i=r.filter(bt);return 0==i.length?null:function(t){return $t(bn(t,i))}}(Vr(r)):null}function Hi(r){return null!=r?function Ro(r){if(!r)return null;const i=r.filter(bt);return 0==i.length?null:function(t){return wt(bn(t,i).map(Vt)).pipe((0,ln.U)($t))}}(Vr(r)):null}function Eo(r,i){return null===r?[i]:Array.isArray(r)?[...r,i]:[r,i]}function is(r){return r?Array.isArray(r)?r:[r]:[]}function oo(r,i){return Array.isArray(r)?r.includes(i):r===i}function Ko(r,i){const t=is(i);return is(r).forEach(h=>{oo(t,h)||t.push(h)}),t}function os(r,i){return is(i).filter(t=>!oo(r,t))}class ji{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=mi(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=Hi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i){this.control&&this.control.reset(i)}hasError(i,t){return!!this.control&&this.control.hasError(i,t)}getError(i,t){return this.control?this.control.getError(i,t):null}}class so extends ji{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zi extends ji{get formDirective(){return null}get path(){return null}}let Si=(()=>{class r extends class Do{constructor(i){this._cd=i}is(i){var t,c,h;return"submitted"===i?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(h=null===(c=this._cd)||void 0===c?void 0:c.control)||void 0===h?void 0:h[i])}}{constructor(t){super(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(so,2))},r.\u0275dir=e.lG2({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,c){2&t&&e.ekj("ng-untouched",c.is("untouched"))("ng-touched",c.is("touched"))("ng-pristine",c.is("pristine"))("ng-dirty",c.is("dirty"))("ng-valid",c.is("valid"))("ng-invalid",c.is("invalid"))("ng-pending",c.is("pending"))},features:[e.qOj]}),r})();function Tt(r,i){(function Fn(r,i){const t=function Ui(r){return r._rawValidators}(r);null!==i.validator?r.setValidators(Eo(t,i.validator)):"function"==typeof t&&r.setValidators([t]);const c=function bs(r){return r._rawAsyncValidators}(r);null!==i.asyncValidator?r.setAsyncValidators(Eo(c,i.asyncValidator)):"function"==typeof c&&r.setAsyncValidators([c]);const h=()=>r.updateValueAndValidity();An(i._rawValidators,h),An(i._rawAsyncValidators,h)})(r,i),i.valueAccessor.writeValue(r.value),function Mr(r,i){i.valueAccessor.registerOnChange(t=>{r._pendingValue=t,r._pendingChange=!0,r._pendingDirty=!0,"change"===r.updateOn&&Ki(r,i)})}(r,i),function jo(r,i){const t=(c,h)=>{i.valueAccessor.writeValue(c),h&&i.viewToModelUpdate(c)};r.registerOnChange(t),i._registerOnDestroy(()=>{r._unregisterOnChange(t)})}(r,i),function Xr(r,i){i.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,"blur"===r.updateOn&&r._pendingChange&&Ki(r,i),"submit"!==r.updateOn&&r.markAsTouched()})}(r,i),function Pn(r,i){if(i.valueAccessor.setDisabledState){const t=c=>{i.valueAccessor.setDisabledState(c)};r.registerOnDisabledChange(t),i._registerOnDestroy(()=>{r._unregisterOnDisabledChange(t)})}}(r,i)}function An(r,i){r.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(i)})}function Ki(r,i){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function Fr(r,i){const t=r.indexOf(i);t>-1&&r.splice(t,1)}const Pi="VALID",oi="INVALID",si="PENDING",ko="DISABLED";function hr(r){return(Cs(r)?r.validators:r)||null}function Ps(r){return Array.isArray(r)?mi(r):r||null}function Go(r,i){return(Cs(i)?i.asyncValidators:r)||null}function as(r){return Array.isArray(r)?Hi(r):r||null}function Cs(r){return null!=r&&!Array.isArray(r)&&"object"==typeof r}const Qa=r=>r instanceof Bs;function Xt(r){return(r=>r instanceof tl)(r)?r.value:r.getRawValue()}function cr(r,i){const t=Qa(r),c=r.controls;if(!(t?Object.keys(c):c).length)throw new e.vHH(1e3,"");if(!c[i])throw new e.vHH(1001,"")}function Ia(r,i){Qa(r),r._forEachChild((c,h)=>{if(void 0===i[h])throw new e.vHH(1002,"")})}class Ri{constructor(i,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=i,this._rawAsyncValidators=t,this._composedValidatorFn=Ps(this._rawValidators),this._composedAsyncValidatorFn=as(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===Pi}get invalid(){return this.status===oi}get pending(){return this.status==si}get disabled(){return this.status===ko}get enabled(){return this.status!==ko}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._rawValidators=i,this._composedValidatorFn=Ps(i)}setAsyncValidators(i){this._rawAsyncValidators=i,this._composedAsyncValidatorFn=as(i)}addValidators(i){this.setValidators(Ko(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(Ko(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(os(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(os(i,this._rawAsyncValidators))}hasValidator(i){return oo(this._rawValidators,i)}hasAsyncValidator(i){return oo(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=si,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=ko,this.errors=null,this._forEachChild(c=>{c.disable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!0))}enable(i={}){const t=this._parentMarkedDirty(i.onlySelf);this.status=Pi,this._forEachChild(c=>{c.enable(Object.assign(Object.assign({},i),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},i),{skipPristineCheck:t})),this._onDisabledChange.forEach(c=>c(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pi||this.status===si)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ko:Pi}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=si,this._hasOwnPendingAsyncValidator=!0;const t=Vt(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(c=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(c,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,t={}){this.errors=i,this._updateControlsErrors(!1!==t.emitEvent)}get(i){return function Vo(r,i,t){if(null==i||(Array.isArray(i)||(i=i.split(t)),Array.isArray(i)&&0===i.length))return null;let c=r;return i.forEach(h=>{c=Qa(c)?c.controls.hasOwnProperty(h)?c.controls[h]:null:(r=>r instanceof Qs)(c)&&c.at(h)||null}),c}(this,i,".")}getError(i,t){const c=t?this.get(t):this;return c&&c.errors?c.errors[i]:null}hasError(i,t){return!!this.getError(i,t)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new e.vpe,this.statusChanges=new e.vpe}_calculateStatus(){return this._allControlsDisabled()?ko:this.errors?oi:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(si)?si:this._anyControlsHaveStatus(oi)?oi:Pi}_anyControlsHaveStatus(i){return this._anyControls(t=>t.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_isBoxedValue(i){return"object"==typeof i&&null!==i&&2===Object.keys(i).length&&"value"in i&&"disabled"in i}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Cs(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class tl extends Ri{constructor(i=null,t,c){super(hr(t),Go(c,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Cs(t)&&t.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(i)?i.value:i)}setValue(i,t={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(c=>c(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(i,t={}){this.setValue(i,t)}reset(i=this.defaultValue,t={}){this._applyFormState(i),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){Fr(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){Fr(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){this._isBoxedValue(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}}class Bs extends Ri{constructor(i,t,c){super(hr(t),Go(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(i,t){return this.controls[i]?this.controls[i]:(this.controls[i]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(i,t,c={}){this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}removeControl(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),delete this.controls[i],t&&this.registerControl(i,t),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}contains(i){return this.controls.hasOwnProperty(i)&&this.controls[i].enabled}setValue(i,t={}){Ia(this,i),Object.keys(i).forEach(c=>{cr(this,c),this.controls[c].setValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(Object.keys(i).forEach(c=>{this.controls[c]&&this.controls[c].patchValue(i[c],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i={},t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(i,t,c)=>(i[c]=Xt(t),i))}_syncPendingControls(){let i=this._reduceChildren(!1,(t,c)=>!!c._syncPendingControls()||t);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){Object.keys(this.controls).forEach(t=>{const c=this.controls[t];c&&i(c,t)})}_setUpControls(){this._forEachChild(i=>{i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(i){for(const t of Object.keys(this.controls)){const c=this.controls[t];if(this.contains(t)&&i(c))return!0}return!1}_reduceValue(){return this._reduceChildren({},(i,t,c)=>((t.enabled||this.disabled)&&(i[c]=t.value),i))}_reduceChildren(i,t){let c=i;return this._forEachChild((h,_)=>{c=t(c,h,_)}),c}_allControlsDisabled(){for(const i of Object.keys(this.controls))if(this.controls[i].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Qs extends Ri{constructor(i,t,c){super(hr(t),Go(c,t)),this.controls=i,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(i){return this.controls[i]}push(i,t={}){this.controls.push(i),this._registerControl(i),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(i,t,c={}){this.controls.splice(i,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:c.emitEvent})}removeAt(i,t={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(i,t,c={}){this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:c.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(i,t={}){Ia(this,i),i.forEach((c,h)=>{cr(this,h),this.at(h).setValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(i,t={}){null!=i&&(i.forEach((c,h)=>{this.at(h)&&this.at(h).patchValue(c,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(i=[],t={}){this._forEachChild((c,h)=>{c.reset(i[h],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(i=>Xt(i))}clear(i={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:i.emitEvent}))}_syncPendingControls(){let i=this.controls.reduce((t,c)=>!!c._syncPendingControls()||t,!1);return i&&this.updateValueAndValidity({onlySelf:!0}),i}_forEachChild(i){this.controls.forEach((t,c)=>{i(t,c)})}_updateValue(){this.value=this.controls.filter(i=>i.enabled||this.disabled).map(i=>i.value)}_anyControls(i){return this.controls.some(t=>t.enabled&&i(t))}_setUpControls(){this._forEachChild(i=>this._registerControl(i))}_allControlsDisabled(){for(const i of this.controls)if(i.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(i){i.setParent(this),i._registerOnCollectionChange(this._onCollectionChange)}}const Qo={provide:so,useExisting:(0,e.Gpc)(()=>eo)},Nc=(()=>Promise.resolve(null))();let eo=(()=>{class r extends so{constructor(t,c,h,_,O){super(),this._changeDetectorRef=O,this.control=new tl,this._registered=!1,this.update=new e.vpe,this._parent=t,this._setValidators(c),this._setAsyncValidators(h),this.valueAccessor=function ii(r,i){if(!i)return null;let t,c,h;return Array.isArray(i),i.forEach(_=>{_.constructor===mn?t=_:function Wt(r){return Object.getPrototypeOf(r.constructor)===gr}(_)?c=_:h=_}),h||c||t||null}(0,_)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const c=t.name.previousValue;this.formDirective.removeControl({name:c,path:this._getPath(c)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function Mt(r,i){if(!r.hasOwnProperty("model"))return!1;const t=r.model;return!!t.isFirstChange()||!Object.is(i,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Tt(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){Nc.then(()=>{var c;this.control.setValue(t,{emitViewToModelChange:!1}),null===(c=this._changeDetectorRef)||void 0===c||c.markForCheck()})}_updateDisabled(t){const c=t.isDisabled.currentValue,h=""===c||c&&"false"!==c;Nc.then(()=>{var _;h&&!this.control.disabled?this.control.disable():!h&&this.control.disabled&&this.control.enable(),null===(_=this._changeDetectorRef)||void 0===_||_.markForCheck()})}_getPath(t){return this._parent?function Ve(r,i){return[...i.path,r]}(t,this._parent):[t]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Zi,9),e.Y36(pn,10),e.Y36(Vn,10),e.Y36(Yt,10),e.Y36(e.sBO,8))},r.\u0275dir=e.lG2({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[e._Bn([Qo]),e.qOj,e.TTD]}),r})();const ga={provide:Yt,useExisting:(0,e.Gpc)(()=>Xs),multi:!0};let Xs=(()=>{class r extends gr{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=c=>{t(""==c?null:parseFloat(c))}}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("input",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},features:[e._Bn([ga]),e.qOj]}),r})(),Us=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const kc={provide:Yt,useExisting:(0,e.Gpc)(()=>va),multi:!0};function go(r,i){return null==r?`${i}`:(i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let va=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const h=go(this._getOptionId(t),t);this.setProperty("value",h)}registerOnChange(t){this.onChange=c=>{this.value=this._getOptionValue(c),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c),t))return c;return null}_getOptionValue(t){const c=function od(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target.value)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([kc]),e.qOj]}),r})(),Vs=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(go(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(va,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();const Gs={provide:Yt,useExisting:(0,e.Gpc)(()=>Xo),multi:!0};function ui(r,i){return null==r?`${i}`:("string"==typeof i&&(i=`'${i}'`),i&&"object"==typeof i&&(i="Object"),`${r}: ${i}`.slice(0,50))}let Xo=(()=>{class r extends gr{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let c;if(this.value=t,Array.isArray(t)){const h=t.map(_=>this._getOptionId(_));c=(_,O)=>{_._setSelected(h.indexOf(O.toString())>-1)}}else c=(h,_)=>{h._setSelected(!1)};this._optionMap.forEach(c)}registerOnChange(t){this.onChange=c=>{const h=[],_=c.selectedOptions;if(void 0!==_){const O=_;for(let z=0;z<O.length;z++){const De=this._getOptionValue(O[z].value);h.push(De)}}else{const O=c.options;for(let z=0;z<O.length;z++){const J=O[z];if(J.selected){const De=this._getOptionValue(J.value);h.push(De)}}}this.value=h,t(h)}}_registerOption(t){const c=(this._idCounter++).toString();return this._optionMap.set(c,t),c}_getOptionId(t){for(const c of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(c)._value,t))return c;return null}_getOptionValue(t){const c=function tc(r){return r.split(":")[0]}(t);return this._optionMap.has(c)?this._optionMap.get(c)._value:t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,c){1&t&&e.NdJ("change",function(_){return c.onChange(_.target)})("blur",function(){return c.onTouched()})},inputs:{compareWith:"compareWith"},features:[e._Bn([Gs]),e.qOj]}),r})(),ka=(()=>{class r{constructor(t,c,h){this._element=t,this._renderer=c,this._select=h,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(ui(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(ui(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(Xo,9))},r.\u0275dir=e.lG2({type:r,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),r})();let es=(()=>{class r{constructor(){this._validator=We}ngOnChanges(t){if(this.inputName in t){const c=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(c),this._validator=this._enabled?this.createValidator(c):We,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275dir=e.lG2({type:r,features:[e.TTD]}),r})();const Oi={provide:pn,useExisting:(0,e.Gpc)(()=>_i),multi:!0};let _i=(()=>{class r extends es{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>function nc(r){return"number"==typeof r?r:parseInt(r,10)}(t),this.createValidator=t=>function Jr(r){return i=>function tr(r){return null!=r&&"number"==typeof r.length}(i.value)&&i.value.length>r?{maxlength:{requiredLength:r,actualLength:i.value.length}}:null}(t)}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275dir=e.lG2({type:r,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(t,c){2&t&&e.uIk("maxlength",c._enabled?c.maxlength:null)},inputs:{maxlength:"maxlength"},features:[e._Bn([Oi]),e.qOj]}),r})(),I=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[Us]]}),r})(),S=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[I]}),r})(),Nt=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var La,En=A(8686),Rn=A(3701),At=A(3104),Rr=A(635),Tr=A(6082),ei=A(7579),xi=A(8505),lr=A(9646),Ji=new Uint8Array(16);function ls(){if(!La&&!(La="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return La(Ji)}const $d=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,cl=function to(r){return"string"==typeof r&&$d.test(r)};for(var vi=[],yi=0;yi<256;++yi)vi.push((yi+256).toString(16).substr(1));const xo=function Bl(r,i,t){var c=(r=r||{}).random||(r.rng||ls)();if(c[6]=15&c[6]|64,c[8]=63&c[8]|128,i){t=t||0;for(var h=0;h<16;++h)i[t+h]=c[h];return i}return function us(r){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(vi[r[i+0]]+vi[r[i+1]]+vi[r[i+2]]+vi[r[i+3]]+"-"+vi[r[i+4]]+vi[r[i+5]]+"-"+vi[r[i+6]]+vi[r[i+7]]+"-"+vi[r[i+8]]+vi[r[i+9]]+"-"+vi[r[i+10]]+vi[r[i+11]]+vi[r[i+12]]+vi[r[i+13]]+vi[r[i+14]]+vi[r[i+15]]).toLowerCase();if(!cl(t))throw TypeError("Stringified UUID is invalid");return t}(c)},Ul=[{productBarcode:"8480000136343",updateDate:1649525102028,id:"yTedpnDD2O8sBPZwSK3U",shopId:"mercadona",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904},price:3.5},{id:"602smPkf29S2QFB7XMsD",price:4.89,shopId:"mercadona",productBarcode:"7613036862295",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},updateDate:1649525061319},{updateDate:1649525021629,price:2.15,id:"WlA822FqYmbsdK0UGl6Y",shopId:"mercadona",productBarcode:"8480000049056",createdBy:{lastLogin:1649187527904,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{productBarcode:"8480000163141",updateDate:1649524995119,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0,username:"Joan Llori\xe0"},id:"YdlJM0dJ5oeNYB1XVEfI",price:1.25,shopId:"mercadona"},{id:"a0JHdq2rUBTp9t1h3LMP",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com"},shopId:"mercadona",price:2.75,productBarcode:"8480000644916",updateDate:1649524928832},{shopId:"ametller",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0},price:1.39,updateDate:1649443336162,productBarcode:"8436554520985",id:"ftpgydKRipdueQnPpg5E"},{price:4.29,createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0},updateDate:1649443254744,id:"BwhIKICv0Jk5eFscKgUt",shopId:"ametller",productBarcode:"8436551862040"},{productBarcode:"8436583954577",id:"1juMRrbdbfFKtl4dDFsQ",createdBy:{admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,username:"Joan Llori\xe0"},shopId:"ametller",updateDate:1649443221984,price:2.19},{shopId:"ametller",createdBy:{admin:!0,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1649187527904},price:.99,productBarcode:"8437011969439",updateDate:1649443161878,id:"iJqpRlCkh57jnAevi2ju"},{updateDate:1649394034715,productBarcode:"8412480245307",price:3.69,createdBy:{lastLogin:1649187527904,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,email:"joanlloria@gmail.com"},id:"jz4gnUQ0MPbIcD3zQ3Xu",shopId:"ametller"},{price:3.49,updateDate:1649394005242,productBarcode:"8436551861951",createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1649187527904,admin:!0,email:"joanlloria@gmail.com"},id:"9KPYWVyqeyOgHbvZuoKV",shopId:"ametller"},{price:2.99,createdBy:{username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1649187527904,admin:!0},id:"pc2J6SuGJcNNMc2DHqb1",productBarcode:"8421660006010",updateDate:1649393984630,shopId:"ametller"},{shopId:"ametller",updateDate:1649393940747,id:"e3ye1ns3IqQ7KLySvXeW",price:1.09,productBarcode:"8436551865355",createdBy:{lastLogin:1649187527904,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"}},{updateDate:1649162654256,productBarcode:"5050083560262",price:3.55,shopId:"carrefour",createdBy:{lastLogin:1648889388379,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},id:"hDK5SFlMbMZegFDt87nj"},{shopId:"carrefour",price:2.45,createdBy:{admin:!0,lastLogin:1648889388379,email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},productBarcode:"8431707094290",updateDate:1649162626090,id:"s6yCDWr0rkqRS04ZgE6f"},{createdBy:{email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379},price:1.43,id:"cH62hgvVWjJQFx9NDbgZ",updateDate:1649162593179,shopId:"carrefour",productBarcode:"7613035314016"},{createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648889388379,admin:!0},shopId:"carrefour",productBarcode:"8410055501131",updateDate:1649162564145,id:"A4M2NAWaWTLVnabXx3HH",price:1.53},{id:"qiwOo0zSVhq5SvAKuDQ9",updateDate:1649099098759,productBarcode:"8436551865355",price:1.09,createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},shopId:"ametller"},{productBarcode:"8436551864709",updateDate:1649099077361,price:4.99,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,username:"Joan Llori\xe0",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"vWH1tGNyO16kS4ZHPgJ1"},{updateDate:1649099052678,id:"KPuoy0bX1yOVEet8z8Mg",shopId:"ametller",productBarcode:"8436554529629",createdBy:{email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0,lastLogin:1648889388379},price:5.79},{updateDate:1649099020087,id:"wFjvmFJyP6Md3gmaUY9b",price:2.19,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com"},productBarcode:"8413475312615"},{id:"hpRuqPSjOfNvBNzipfS7",createdBy:{lastLogin:1648889388379,admin:!0,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:2.69,updateDate:1649098993302,productBarcode:"8421660006010",shopId:"ametller"},{productBarcode:"8436551861951",id:"j0NsoodQy2Vb1IMd1okA",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648889388379,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",admin:!0},shopId:"ametller",updateDate:1649098960998,price:3.49},{updateDate:1649098912031,price:1.49,createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648889388379,email:"joanlloria@gmail.com"},id:"Gufa8XRwRND525GcEtn0",shopId:"ametller",productBarcode:"8436551867502"},{productBarcode:"8436583954577",updateDate:1648885577543,shopId:"ametller",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",email:"joanlloria@gmail.com",lastLogin:1648740479491,admin:!0},price:2.19,id:"8jThMVeEIflQbGZF9wr5"},{price:2.19,id:"S3TZPsq38o9g4LpELCfh",createdBy:{username:"Joan Llori\xe0",admin:!0,email:"joanlloria@gmail.com",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885533910,shopId:"ametller",productBarcode:"8413475312615"},{createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648740479491},id:"DwlO6GL6lL5itNlLolwF",shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1648885489976},{createdBy:{admin:!0,lastLogin:1648740479491,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648885463368,price:1.09,shopId:"ametller",productBarcode:"8436551865355",id:"4qszEZQ89bpNTHd1CPbe"},{productBarcode:"8436554520985",updateDate:1648885443017,price:1.39,shopId:"ametller",id:"JqerXtq6dRvQ0BRbXJTm",createdBy:{email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{id:"xF43k9NANcaIsFLBAx1u",price:1.39,updateDate:1648885413130,shopId:"ametller",productBarcode:"8436554520992",createdBy:{username:"Joan Llori\xe0",email:"joanlloria@gmail.com",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0,lastLogin:1648740479491}},{shopId:"carrefour",price:2.45,productBarcode:"8431707020053",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648740479491,username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},updateDate:1648840758092,id:"ADP6a8RxZ9dLshcs18Ev"},{createdBy:{username:"Joan Llori\xe0",lastLogin:1648740479491,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0},productBarcode:"8431707094290",price:2.45,updateDate:1648840707062,id:"x3MuOSHybJKHvoLkbjLc",shopId:"carrefour"},{shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",username:"Joan Llori\xe0",admin:!0,lastLogin:1648740479491},price:1.39,productBarcode:"3560071048341",id:"3BIxaJNrT8RgTDEnCQwi",updateDate:1648840676820},{id:"2KFNfE6hz0GRzStLLmJs",updateDate:1648840615431,shopId:"carrefour",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,lastLogin:1648740479491,username:"Joan Llori\xe0"},price:1.51,productBarcode:"3045320052244"},{createdBy:{admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},price:3.39,productBarcode:"8718951388826",updateDate:1648644547478,shopId:"bonpreu",id:"psRiojmRasFmyfeUTNPK"},{id:"fVlQBhiO5jn3VsBlI1rd",updateDate:1648644448599,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648551165934,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},price:1.69,shopId:"bonpreu",productBarcode:"5410126716016"},{productBarcode:"4008400203829",createdBy:{admin:!0,lastLogin:1648551165934,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com"},shopId:"bonpreu",price:1.99,id:"crnggBBMaLF9BzHyQaJc",updateDate:1648644422922},{productBarcode:"8431707094290",price:2.29,updateDate:1648644396292,shopId:"bonpreu",id:"S2IsVKVLDR1UMi5STc9m",createdBy:{email:"joanlloria@gmail.com",lastLogin:1648551165934,admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"}},{createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,email:"joanlloria@gmail.com",admin:!0},price:1.55,id:"qP6xF0cLDy9MmOB3kRIG",shopId:"bonpreu",updateDate:1648644364274,productBarcode:"8414516082313"},{updateDate:1648579007042,productBarcode:"8436554523979",price:1.99,id:"ukxHmyxg65BYShC1twoc",createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0",lastLogin:1648551165934,admin:!0,email:"joanlloria@gmail.com"},shopId:"ametller"},{shopId:"ametller",createdBy:{lastLogin:1648551165934,username:"Joan Llori\xe0",email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436583950440",price:1.99,updateDate:1648578928773,id:"hJBDYoK3GpQnAixKBJvZ"},{price:3.49,id:"HNhRtuJV1nlJbXzEJiRK",shopId:"ametller",createdBy:{username:"Joan Llori\xe0",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",lastLogin:1648551165934,email:"joanlloria@gmail.com"},productBarcode:"8436551861951",updateDate:1648578873705},{shopId:"ametller",productBarcode:"8436583954577",id:"qysur0oB7OEpKbQne6ba",updateDate:1648578846218,price:2.19,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",lastLogin:1648551165934,username:"Joan Llori\xe0",admin:!0}},{id:"Lw7yoGjjZ7ufGASgs9mm",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",admin:!0},shopId:"ametller",productBarcode:"8436540566942",updateDate:1648460729550,price:1.99},{shopId:"ametller",id:"jL1o5c0k3fOTpF6NB6oQ",createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",username:"Joan Llori\xe0"},updateDate:1648460651689,productBarcode:"8436551864709",price:4.99},{createdBy:{lastLogin:1648418567804,email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},id:"w8tSJH2fSyDDBUDzLGOy",productBarcode:"8436554529629",price:5.79,shopId:"ametller",updateDate:1648460619918},{price:1.29,createdBy:{photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c",email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804},shopId:"ametller",productBarcode:"8436583952054",updateDate:1648460581682,id:"QsyRdZwGQ1UQ0ARa27nT"},{id:"knlBdKG5QS5AHqsiRtwK",updateDate:1648460520247,createdBy:{email:"joanlloria@gmail.com",admin:!0,username:"Joan Llori\xe0",lastLogin:1648418567804,photoURL:"https://lh3.googleusercontent.com/a-/AOh14GiULhPgvpbC4S4NpdvMq3jqesm5TgwABj-WBz50usA=s96-c"},productBarcode:"8436551861951",price:3.49,shopId:"ametller"},{shopId:"ametller",price:3.89,productBarcode:"8436551862880",updateDate:1648041984132,id:"9H4mrFcxHosM1fn2MPk6"},{updateDate:1648041964676,shopId:"ametller",price:4.99,productBarcode:"8436551864709",id:"1oDN2rZCcA3GVAmXGm5w"},{updateDate:1648041940941,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"h5TBADuIrerldKiWYwXZ"},{shopId:"ametller",price:2.19,productBarcode:"8436583954577",updateDate:1648041898298,id:"myStqGeGG00zwWUHEDHi"},{updateDate:1647961453747,price:2.7,productBarcode:"8410055133394",shopId:"bonpreu",id:"ItWZST2zFIdX8NPBrLZt"},{shopId:"bonpreu",updateDate:1647961415096,productBarcode:"8431707094290",price:2.29,id:"FiZC9HEGC9lxj5JqhXbl"},{price:2.65,updateDate:1647961386453,shopId:"bonpreu",productBarcode:"8411135005037",id:"ddH84u3FlrQhQbF83ajS"},{productBarcode:"8422410040872",updateDate:1647961357748,shopId:"bonpreu",price:3.15,id:"wTUPPUPtRMcOa1c7AqND"},{price:1.99,productBarcode:"4008400203829",updateDate:1647961332394,shopId:"bonpreu",id:"UQLlkfbZZG1puLmjd31X"},{updateDate:1647961299091,price:.79,productBarcode:"8422410473878",shopId:"bonpreu",id:"knPA6RUoXMI7Hyyw8sHf"},{updateDate:1647961197826,shopId:"bonpreu",productBarcode:"3574661648019",price:5,id:"W36wbh6PkCgembLHZLDw"},{price:1.25,shopId:"bonpreu",productBarcode:"8410505512267",updateDate:1647547513223,id:"kCX7yTcHeh28hlvwT4Du"},{updateDate:1647547483555,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"pX5OxugSJV08VN6IQnEp"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1647547448250,id:"tZOmOTffTGahd88bxg9i"},{price:4.29,productBarcode:"8436551862040",updateDate:1647449138590,shopId:"ametller",id:"2QetLyJ3AM6Ut9RPdpTm"},{price:3.89,productBarcode:"8436551862880",shopId:"ametller",updateDate:1647449111704,id:"potwYzxaZV4tylvCRJGG"},{updateDate:1647449093641,shopId:"ametller",price:5.79,productBarcode:"8436554529629",id:"BD17DCs2z32BXJYZdQeD"},{updateDate:1647449073312,productBarcode:"8436540566942",shopId:"ametller",price:1.99,id:"ARIKQ71vQwU1uvUijb2m"},{shopId:"ametller",price:1.09,updateDate:1647449047440,productBarcode:"8436551865355",id:"Xe6NimlR5A1104gjPDXk"},{shopId:"bonpreu",price:2.99,productBarcode:"5029053036151",updateDate:1647365959812,id:"V932wV4BbRvh8IFJ146M"},{shopId:"bonpreu",price:4.89,productBarcode:"7613035260924",updateDate:1647365744646,id:"j8rxgz4owazMMMgK3CzF"},{productBarcode:"8431707094290",price:2.29,updateDate:1647365593154,shopId:"bonpreu",id:"kREXYcgP8CdjSSvQRsOL"},{price:1.19,updateDate:1647365517833,productBarcode:"8410135001322",shopId:"bonpreu",id:"CNKGzBzWeirP7M6Md8Wa"},{shopId:"bonpreu",productBarcode:"8410184800150",price:1.1,updateDate:1647365491009,id:"2jPSBJKLJ4xvf8MJYVdb"},{productBarcode:"5410126716016",updateDate:1647365453382,shopId:"bonpreu",price:1.73,id:"yarXNS6SQXbBo897QJGH"},{updateDate:1647365405368,price:.99,productBarcode:"8410184013086",shopId:"bonpreu",id:"jhxauesGgQ9AFPFdpUKJ"},{price:4.99,shopId:"ametller",productBarcode:"8436551864709",updateDate:1647288183532,id:"XcWmacikAoTRnE84e3eB"},{updateDate:1647288160477,productBarcode:"8436551861951",shopId:"ametller",price:3.49,id:"FCqAnNno6XfjnY0WTFZA"},{updateDate:1647288114011,productBarcode:"8436583954577",shopId:"ametller",price:2.19,id:"oyHFXKwoIAwwHPhniPxU"},{price:1.99,updateDate:1647288063635,productBarcode:"8436554523979",shopId:"ametller",id:"kxhrqdtb7OPZLoL9USF9"},{price:1.49,productBarcode:"8436551867502",updateDate:1647009885888,shopId:"ametller",id:"zGG5dh4WKcVEiKQMPxbq"},{shopId:"ametller",productBarcode:"8436583950449",updateDate:1647009840835,price:1.99,id:"iZpylr9gNMD660rkjqKB"},{updateDate:1647009813003,price:5.99,shopId:"ametller",productBarcode:"8436551860251",id:"v8XOk83kLKMtSEm89kd8"},{productBarcode:"8436583954577",price:2.19,shopId:"ametller",updateDate:1647009785979,id:"vTbMz59gclUr1NC8Hvrb"},{updateDate:1647009736789,shopId:"ametller",productBarcode:"8437011969217",price:1.79,id:"Ie2aG836OKVx6LNBMPwv"},{shopId:"ametller",price:6.49,updateDate:1647009673830,productBarcode:"8436583957110",id:"kV1dshwwna3WGT2igmd6"},{price:6.49,updateDate:1647009576298,productBarcode:"8436583957134",shopId:"ametller",id:"xC8ip2VlIPU9XMVwkNZY"},{price:2.69,shopId:"ametller",updateDate:1647009535063,productBarcode:"8421660006010",id:"JFvXfMu9K4qb0DYQoxaN"},{updateDate:1647009507902,shopId:"ametller",productBarcode:"8436551865355",price:1.09,id:"ZuRvNxAulB11kESgkegF"},{shopId:"carrefour",updateDate:1647001030237,price:1.86,productBarcode:"8076802085981",id:"TYxP9sRUsGaPYCvKc61B"},{productBarcode:"8076808060654",updateDate:1647000997394,price:1.86,shopId:"carrefour",id:"otLTGyKhgvQnM817hWka"},{price:2.1,updateDate:1647000971290,productBarcode:"8410128160074",shopId:"carrefour",id:"jGVzDGSWsPJO8b8aV2di"},{shopId:"carrefour",price:1.51,productBarcode:"3045320052244",updateDate:1647000949431,id:"w2rJdYlzpegbeJ3APgOp"},{updateDate:1647000913572,price:1.49,shopId:"carrefour",productBarcode:"3560070119851",id:"E8RCfIkhUgDH71jDBGqX"},{productBarcode:"8431707094290",shopId:"carrefour",price:2.26,updateDate:1646942628295,id:"0ZbbmT7bjsFGWiTJw4U7"},{price:2.2,shopId:"carrefour",updateDate:1646942603389,productBarcode:"3560070347438",id:"Cf8K9uh0M2s8fcTqZ0Ja"},{shopId:"carrefour",productBarcode:"8436033878095",price:1,updateDate:1646942576971,id:"Of19VXA0MuIuWXm4x8yG"},{price:1.51,shopId:"carrefour",updateDate:1646942537870,productBarcode:"3045320052244",id:"D8iM9JSvkKxocBY0Yhvi"},{productBarcode:"8431876005912",price:1.08,updateDate:1646942494815,shopId:"carrefour",id:"8MiVzzxBg2ZtVAeO6U9c"},{updateDate:1646930250559,price:2.2,productBarcode:"8480000180926",shopId:"mercadona",id:"eTlRhJjfIzbWJ0HDZ3Md"},{shopId:"mercadona",price:3.3,updateDate:1646930214883,productBarcode:"8480000136343",id:"vBK7B8RI6jW2M8DcIIP9"},{updateDate:1646930191204,productBarcode:"8410086000856",price:1.2,shopId:"mercadona",id:"sFvga218at9GpgWtWMH4"},{updateDate:1646930166623,price:1.25,shopId:"mercadona",productBarcode:"8480000163141",id:"wdbjpAXq7VNvNZ6bYApE"},{updateDate:1646930137722,price:1.95,shopId:"mercadona",productBarcode:"8480000581518",id:"HFHiF3J0qNq2940uCeMG"},{productBarcode:"8480000644916",shopId:"mercadona",updateDate:1646930098641,price:2.65,id:"R61OmmkslEVXG73UOCB6"},{updateDate:1646930032462,productBarcode:"8480000610652",shopId:"mercadona",price:1.5,id:"CVyzu83FBt7rT80weApz"},{updateDate:1646929997724,productBarcode:"8420309210115",price:3.25,shopId:"mercadona",id:"qxn8KCzTB0wLzGrkGrFS"},{price:.9,shopId:"mercadona",updateDate:1646929946281,productBarcode:"8410148509327",id:"DQFx9W47a54rgao9Yzoh"},{updateDate:1646872443076,price:1.59,shopId:"dia",productBarcode:"80177616",id:"etvacdRcZ9u8rPOGyNoW"},{price:1.27,shopId:"dia",updateDate:1646856265172,productBarcode:"8480017574657",id:"pcMsPJRXcEgYR3sNN5qq"},{productBarcode:"8410448000913",price:2.89,shopId:"dia",updateDate:1646856219361,id:"WV4wezy7s5GIZRQdkygR"},{shopId:"dia",updateDate:1646856083841,price:4.95,productBarcode:"7613035260924",id:"MJhrODnuLMkRgRFhQcOH"},{price:4.89,productBarcode:"5054563099082",updateDate:1646856003573,shopId:"dia",id:"qsDRnBrSMhoLMiZk0kRA"},{shopId:"bonpreu",updateDate:1646486309719,price:4.09,productBarcode:"8714100635650",id:"Pd0a9ncegiMopagtQzuc"},{price:1.19,productBarcode:"8410135001322",updateDate:1646486174599,shopId:"bonpreu",id:"hPXf5GavsSqsBRxvZUFa"},{shopId:"bonpreu",productBarcode:"7613035260924",updateDate:1646486121079,price:4.89,id:"pCjJs2iWDFHVzrYekM63"},{productBarcode:"8436583954539",updateDate:1646415616777,shopId:"ametller",price:2.39,id:"V5kGdB1vz9zYszorXypV"},{productBarcode:"8413475312615",price:2.19,shopId:"ametller",updateDate:1646415576400,id:"bbjskJJH7O72xcVP70gZ"},{shopId:"ametller",productBarcode:"8436583952054",price:1.29,updateDate:1646415548935,id:"GJlFgjWMvQIWQouKIwih"},{updateDate:1646335181459,productBarcode:"8436551864709",price:4.99,shopId:"ametller",id:"LBqsSVYb5huvb6SGWOPp"},{price:3.89,productBarcode:"8436551862880",updateDate:1646335153243,shopId:"ametller",id:"o9TXNVvedjbQn96O1QQw"},{price:1.79,productBarcode:"8436554522279",shopId:"ametller",updateDate:1646335123846,id:"VgXFShnDQSdvqlSs7Skc"},{price:2.69,shopId:"ametller",productBarcode:"8421660006010",updateDate:1646335092609,id:"JzjtypjqkdZlNPAesUBP"},{productBarcode:"8436583954539",updateDate:1646335060270,price:2.39,shopId:"ametller",id:"MUEnqn7NerIS5eRHJHWQ"},{price:1.09,updateDate:1646335036086,shopId:"ametller",productBarcode:"8436551865355",id:"R5ZrwiV9EdORPR1pnYDw"},{productBarcode:"8410564002204",updateDate:1646250727985,shopId:"condis",price:1.25,id:"sGDZF3Cnugc5Ro6Pw65K"},{price:2.29,shopId:"condis",updateDate:1646250687325,productBarcode:"3073780902366",id:"8xHO6r91l7BPlGyAayHg"},{shopId:"condis",updateDate:1646250627653,productBarcode:"8431707094290",price:2.29,id:"dLgz0PQFavdQBlKnDCdc"},{updateDate:1646144325823,shopId:"bonpreu",price:.79,productBarcode:"8422410473878",id:"AJKNCmv7YodmSN0t09mA"},{updateDate:1646144272786,productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,id:"D8SovbXNYCBmJZzAWg95"},{updateDate:1646079281946,price:1.99,shopId:"ametller",productBarcode:"8435037550631",id:"NeCGh1CJkiAvpnDvCUaV"},{productBarcode:"8436583952054",updateDate:1646079230642,price:1.29,shopId:"ametller",id:"5Uw7MzY4gW8fyVxY7nx3"},{updateDate:1646079202513,price:3.89,shopId:"ametller",productBarcode:"8436551862880",id:"NiS5Ri3zzHprvJvztfvo"},{shopId:"ametller",updateDate:1646079180090,price:5.79,productBarcode:"8436554529629",id:"oJoPVLp0DYzeYV7oelyJ"},{updateDate:1646079152860,price:2.39,productBarcode:"8436583954539",shopId:"ametller",id:"8S0S2UwSmRyGollhLIlU"},{price:2.19,updateDate:1646071049954,shopId:"condis",productBarcode:"3269612045008",id:"jjyhx2Npd9EBzl004WVS"},{updateDate:1646071015575,shopId:"condis",price:2.59,productBarcode:"7613036569927",id:"rQmuOb4RPbsYEf7fPrKH"},{shopId:"condis",productBarcode:"8410022115255",updateDate:1645888125951,price:2.19,id:"uMJ8snfK4blFOT3NizDn"},{price:6.25,updateDate:1645888080319,productBarcode:"8410179012018",shopId:"condis",id:"tThN9M4JCgVMCXtBsSN2"},{price:1.52,updateDate:1645888034122,productBarcode:"8411002105006",shopId:"condis",id:"yUOJJXCWCZuC6y9N70tC"},{price:3.5,updateDate:1645887883610,productBarcode:"5054563101648",shopId:"condis",id:"N5O1c9DD8LqXekDWIdDM"},{updateDate:1645886201039,price:1.49,shopId:"condis",productBarcode:"8717700002402",id:"eZeckwHzsLrdGupK9GOx"},{shopId:"condis",productBarcode:"8431707094290",price:2.29,updateDate:1645886117451,id:"OiKkGlIYyWyDyjeJ0wv6"},{productBarcode:"8015100563067",price:1.91,updateDate:1645869460823,shopId:"carrefour",id:"Ca6otMJupmWkFeqXQvbw"},{price:3.15,productBarcode:"3560071152413",shopId:"carrefour",updateDate:1645869433791,id:"jVvPjWqRw03tKYJs7tWI"},{shopId:"carrefour",productBarcode:"5050083560262",price:3.39,updateDate:1645869280046,id:"Q1cwNx43wDQRaeri0wDj"},{shopId:"carrefour",productBarcode:"8006540576588",updateDate:1645869134793,price:2.95,id:"T7h77o0K3xaHLoLXBFSv"},{productBarcode:"5029053010052",shopId:"carrefour",updateDate:1645869027911,price:1.89,id:"f9yJjH9FTqqopOmHPdKd"},{price:1.75,updateDate:1645868918215,shopId:"carrefour",productBarcode:"80177616",id:"zWtGO6dGSiUvV6hIdWow"},{productBarcode:"8436551864709",updateDate:1645798155513,shopId:"ametller",price:4.99,id:"ZkcjUtBIwLRJHUu5Vm5U"},{productBarcode:"8437011969217",price:1.79,updateDate:1645798113906,shopId:"ametller",id:"Unw54WfNBTofW6nIfUcn"},{shopId:"ametller",updateDate:1645798090805,productBarcode:"8436583955093",price:3.15,id:"LVIuWjHSMRf45MPYnJFn"},{price:1.99,productBarcode:"8436540566942",updateDate:1645653239642,shopId:"ametller",id:"Mpi3bszGgRU65dg4bBKc"},{price:1.09,updateDate:1645653185581,productBarcode:"8436551865355",shopId:"ametller",id:"L4EXzvLM8A7e8kG4FtRs"},{productBarcode:"8436583954539",shopId:"ametller",updateDate:1645653012871,price:2.39,id:"knPLI6xxs0IDCaHKSyGB"},{price:1.99,shopId:"bonpreu",updateDate:1645552083100,productBarcode:"4008400203829",id:"QM5GgtVIUy51vbcMbIf9"},{productBarcode:"5410126716016",shopId:"bonpreu",price:1.69,updateDate:1645552048570,id:"jfnAmQnjB4zl3SunI0Sd"},{productBarcode:"8422410473878",price:.79,shopId:"bonpreu",updateDate:1645552013320,id:"jKVkWotGzrKjxmvRwLNR"},{shopId:"bonpreu",productBarcode:"8414516070167",updateDate:1645551958078,price:1.45,id:"W2TFB9h710ZvxZT8a2ck"},{updateDate:1645551919468,shopId:"bonpreu",price:1.43,productBarcode:"8413100612639",id:"t85CQn37ZTGkZDg2g7ye"},{shopId:"bonpreu",price:1.99,productBarcode:"8422410387915",updateDate:1645551879354,id:"DWMRG0P9BqBVBhR4shsT"},{productBarcode:"8431707094290",shopId:"bonpreu",price:2.29,updateDate:1645551832691,id:"ddM9TFLaPa7mQ1K0fKnd"},{shopId:"bonpreu",productBarcode:"3045206312257",price:2.15,updateDate:1645452864525,id:"LkOF7yaDBwQ9I3SA85NF"},{price:.99,productBarcode:"7613035268388",updateDate:1645452256976,shopId:"bonpreu",id:"2MyEe35UgvDXVfpE5jww"},{productBarcode:"8422410040872",updateDate:1645452194587,price:3.15,shopId:"bonpreu",id:"WlW5WEMc2j86uzxwjd2o"}];var yc=A(1343),$r=A(4120);let Ho=(()=>{class r{constructor(t,c,h,_){this.productService=t,this.shopService=c,this.firestoreService=h,this.loginService=_,this.shopsProducts=new ei.x,this._shopsProducts=[],this.shopsProducts.subscribe(O=>{this._shopsProducts=O})}loadShopsProducts(){return console.log("ShopProductService.loadShopsProducts()"),En.q.cloudMode?this.firestoreService.getShopsProducts().pipe((0,xi.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=Ul),this.shopsProducts.next(t)})):(0,lr.of)(Ul).pipe((0,xi.b)(t=>{(!t||0===t.length)&&this.firestoreService.addShopProducts(t=Ul),this.shopsProducts.next(t)}))}addShopProduct(t){return t.id||(t.id=xo()),t.createdBy||(t.createdBy=this.loginService.getLoggedUser()),En.q.cloudMode?this.firestoreService.addShopProduct(t).pipe((0,xi.b)(()=>{this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts.push(t),this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeShopProduct(t){return console.log("ShopProductService.removeShopProduct()",t),En.q.cloudMode?this.firestoreService.deleteShopProduct(t).pipe((0,xi.b)(()=>{this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=this._shopsProducts.filter(c=>c.productBarcode!==t.productBarcode||c.shopId!==t.shopId),this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeShopShopProducts(t){console.log("ShopProductService.removeShopShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.shopId===t?c.push(_):h.push(_)}),En.q.cloudMode?this.firestoreService.deleteShopProducts(c).pipe((0,xi.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}removeProductShopProducts(t){console.log("ShopProductService.removeProductShopProducts()",t);const c=[],h=[];return this._shopsProducts.forEach(_=>{_.productBarcode===t?c.push(_):h.push(_)}),En.q.cloudMode?this.firestoreService.deleteShopProducts(c).pipe((0,xi.b)(()=>{this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts)})):(this._shopsProducts=h,this.shopsProducts.next(this._shopsProducts),(0,lr.of)(!0))}getShopProductHistory(t){return this._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===t.shopId).sort((c,h)=>c.updateDate>h.updateDate?1:-1)}getShopProduct(t,c){const h=this._shopsProducts.filter(_=>_.productBarcode===c&&_.shopId===t).sort((_,O)=>_.updateDate<O.updateDate?1:-1);return(0,lr.of)(h.length>0?h[0]:void 0)}getShopProducts(t){const c=this._shopsProducts.filter(h=>h.shopId===t).map(h=>h.productBarcode);return(0,lr.of)(this.productService._products.filter(h=>c.indexOf(h.barcode)>-1))}getProductShops(t){const c=this._shopsProducts.filter(h=>h.productBarcode===t).map(h=>h.shopId);return(0,lr.of)(this.shopService._shops.filter(h=>c.indexOf(h.id)>-1))}getShopShopProducts(t){return(0,lr.of)(this._shopsProducts.filter(c=>c.shopId===t))}getProductShopProducts(t){return(0,lr.of)(this._shopsProducts.filter(c=>c.productBarcode===t))}getShopProductLast(t,c){const h=this._shopsProducts.filter(_=>_.shopId===t&&_.productBarcode===c).sort((_,O)=>_.updateDate<O.updateDate?1:-1);return h.length>0?h[0]:void 0}getProductCheaperShop(t){const c=[];if(!t)return[];if(this._shopsProducts.filter(O=>O.productBarcode===t.barcode).forEach(O=>{c.indexOf(O.shopId)<0&&c.push(O.shopId)}),0===c.length)return;let h=[...c.map(O=>this.getShopProductLast(O,t.barcode)).sort((O,z)=>O.price>z.price?1:-1)];const _=h[0].price;return h=h.filter(O=>O.price===_),h.map(O=>this.shopService._shops.find(z=>z.id===O.shopId))}getProductLowestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(O=>O.productBarcode===t.barcode).forEach(O=>{c.indexOf(O.shopId)<0&&c.push(O.shopId)}),0===c.length))return;let h=[...c.map(O=>this.getShopProductLast(O,t.barcode)).sort((O,z)=>O.price<z.price?1:-1)];return h[0].price<=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductHighestPrice(t){const c=[];if(!t||(this._shopsProducts.filter(O=>O.productBarcode===t.barcode).forEach(O=>{c.indexOf(O.shopId)<0&&c.push(O.shopId)}),0===c.length))return;let h=c.map(O=>this.getShopProductLast(O,t.barcode)).sort((O,z)=>O.price<z.price?1:-1);return h[0].price>=h[h.length-1].price?h[0].price:h[h.length-1].price}getProductPriceRange(t,c){const h=[];this._shopsProducts.filter(O=>O.productBarcode===t.barcode).forEach(O=>{h.indexOf(O.shopId)<0&&h.push(O.shopId)});const _=h.map(O=>this.getShopProductLast(O,t.barcode).price);return _.sort((O,z)=>O<z?1:-1),{max:_[0],min:_[_.length-1]}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Tr.M),e.LFG(Rr.d),e.LFG(yc.C),e.LFG($r.r))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),ad=(()=>{class r{constructor(t,c){this.productService=t,this.shopProductService=c,this.cart=new ei.x,this.cartConfig=new ei.x,this.cart.subscribe(h=>{var _;h&&(null===(_=h.productsBarcodesUnits)||void 0===_?void 0:_.length)>0?(this._cart=h,localStorage.setItem(Rn.M.PS_SHOPPING_CART,JSON.stringify(h))):(this._cart=void 0,localStorage.removeItem(Rn.M.PS_SHOPPING_CART)),this.buildCartConfig()}),this.loadShoppingCart()}loadShoppingCart(){console.log("loadShoppingCart()");const t=localStorage.getItem(Rn.M.PS_SHOPPING_CART);if(t){const c=JSON.parse(t);this.cart.next(c)}else this.cart.next(void 0)}getShoppingCartConfig(){return console.log("getShoppingCartConfig()"),this._cartConfig}buildCartConfig(){this._cartConfig={items:[]},this.productService.getProducts().subscribe(t=>{var c,h;(null===(h=null===(c=this._cart)||void 0===c?void 0:c.productsBarcodesUnits)||void 0===h?void 0:h.length)>0&&this._cart.productsBarcodesUnits.forEach(_=>{const O=t.find(J=>J.barcode===_.barcode);O||console.error("Undefined product");const z=this.shopProductService.getProductCheaperShop(O);if(z){const J=this.shopProductService.getProductLowestPrice(O),De=this.shopProductService.getProductHighestPrice(O);z.forEach(tt=>{const Ut=this._cartConfig.items.find(Jt=>{var sn;return(null===(sn=Jt.shop)||void 0===sn?void 0:sn.id)===(null==tt?void 0:tt.id)}),Gt={product:O,units:_.units,minPrice:J,maxPrice:De,checked:_.checked};Ut?Ut.productsUnits.push(Gt):this._cartConfig.items.push({shop:tt,productsUnits:[Gt]})})}else{const J=this._cartConfig.items.find(De=>!De.shop);J?J.productsUnits.push({product:O,units:_.units,checked:_.checked}):this._cartConfig.items.push({shop:void 0,productsUnits:[{product:O,units:_.units,checked:_.checked}]})}}),this.cartConfig.next(this._cartConfig)})}setCartProductUnits(t,c){console.log("setCartProductUnits()"),this._cart.productsBarcodesUnits.find(h=>h.barcode===t.barcode).units=c,this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}toggleCartProductMarked(t){this._cart.productsBarcodesUnits.find(c=>c.barcode===t.product.barcode).checked=!t.checked,this.cart.next(this._cart)}removeCartProduct(t){console.log("removeCartProduct()",t),this._cart.productsBarcodesUnits=this._cart.productsBarcodesUnits.filter(c=>c.barcode!==t.barcode),this._cart.updateDate=(new Date).getTime(),this.cart.next(this._cart)}removeCart(){console.log("removeCart()"),localStorage.removeItem(Rn.M.PS_SHOPPING_CART),this.loadShoppingCart()}addToCart(t){console.log("addToCart()",t);let c=this._cart;if(c){const h=c.productsBarcodesUnits.find(_=>_.barcode===t.barcode);h?h.units++:c.productsBarcodesUnits.push({barcode:t.barcode,units:1,checked:!1})}else c={productsBarcodesUnits:[{barcode:t.barcode,units:1,checked:!1}],createDate:(new Date).getTime()};c.updateDate=(new Date).getTime(),this.cart.next(c)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Tr.M),e.LFG(Ho))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var Ln=A(1135),Ao=A(9300),Lc=A(4482),Fa=A(5032);function bi(r){return(0,Lc.e)((i,t)=>{(0,sr.Xf)(r).subscribe((0,In.x)(t,()=>t.complete(),Fa.Z)),!t.closed&&i.subscribe(t)})}class ya{}const Mi="*";function ba(r,i){return{type:7,name:r,definitions:i,options:{}}}function Bc(r,i=null){return{type:4,styles:i,timings:r}}function jl(r,i=null){return{type:2,steps:r,options:i}}function co(r){return{type:6,styles:r,offset:null}}function ta(r,i,t){return{type:0,name:r,styles:i,options:t}}function Ca(r,i,t=null){return{type:1,expr:r,animation:i,options:t}}function jc(r){Promise.resolve(null).then(r)}class Ci{constructor(i=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=i+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){jc(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(i=>i()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(i){this._position=this.totalTime?i*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class ts{constructor(i){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=i;let t=0,c=0,h=0;const _=this.players.length;0==_?jc(()=>this._onFinish()):this.players.forEach(O=>{O.onDone(()=>{++t==_&&this._onFinish()}),O.onDestroy(()=>{++c==_&&this._onDestroy()}),O.onStart(()=>{++h==_&&this._onStart()})}),this.totalTime=this.players.reduce((O,z)=>Math.max(O,z.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this.players.forEach(i=>i.init())}onStart(i){this._onStartFns.push(i)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(i=>i()),this._onStartFns=[])}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(i=>i.play())}pause(){this.players.forEach(i=>i.pause())}restart(){this.players.forEach(i=>i.restart())}finish(){this._onFinish(),this.players.forEach(i=>i.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(i=>i.destroy()),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}reset(){this.players.forEach(i=>i.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(i){const t=i*this.totalTime;this.players.forEach(c=>{const h=c.totalTime?Math.min(1,t/c.totalTime):1;c.setPosition(h)})}getPosition(){const i=this.players.reduce((t,c)=>null===t||c.totalTime>t.totalTime?c:t,null);return null!=i?i.getPosition():0}beforeDestroy(){this.players.forEach(i=>{i.beforeDestroy&&i.beforeDestroy()})}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}const qs=["overlay"];function ld(r,i){1&r&&e._UZ(0,"div")}function dl(r,i){if(1&r&&(e.TgZ(0,"div"),e.YNc(1,ld,1,0,"div",6),e.qZA()),2&r){const t=e.oxw(2);e.Tol(t.spinner.class),e.Udp("color",t.spinner.color),e.xp6(1),e.Q6J("ngForOf",t.spinner.divArray)}}function oc(r,i){if(1&r&&(e._UZ(0,"div",7),e.ALo(1,"safeHtml")),2&r){const t=e.oxw(2);e.Q6J("innerHTML",e.lcZ(1,1,t.template),e.oJD)}}function Vl(r,i){if(1&r&&(e.TgZ(0,"div",1,2),e.YNc(2,dl,2,5,"div",3),e.YNc(3,oc,2,3,"div",4),e.TgZ(4,"div",5),e.Hsn(5),e.qZA()()),2&r){const t=e.oxw();e.Udp("background-color",t.spinner.bdColor)("z-index",t.spinner.zIndex)("position",t.spinner.fullScreen?"fixed":"absolute"),e.Q6J("@.disabled",t.disableAnimation)("@fadeIn","in"),e.xp6(2),e.Q6J("ngIf",!t.template),e.xp6(1),e.Q6J("ngIf",t.template),e.xp6(1),e.Udp("z-index",t.spinner.zIndex)}}const Kd=["*"],Ba={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},wa="primary";class bo{constructor(i){Object.assign(this,i)}static create(i){return(null==(null==i?void 0:i.type)||0===i.type.length)&&console.warn('[ngx-spinner]: Property "type" is missed. Please, provide animation type to <ngx-spinner> component\n        and ensure css is added to angular.json file'),new bo(i)}}let Es=(()=>{class r{constructor(){this.spinnerObservable=new Ln.X(null)}getSpinner(t){return this.spinnerObservable.asObservable().pipe((0,Ao.h)(c=>c&&c.name===t))}show(t=wa,c){return new Promise((h,_)=>{setTimeout(()=>{c&&Object.keys(c).length?(c.name=t,this.spinnerObservable.next(new bo(Object.assign(Object.assign({},c),{show:!0}))),h(!0)):(this.spinnerObservable.next(new bo({name:t,show:!0})),h(!0))},10)})}hide(t=wa,c=10){return new Promise((h,_)=>{setTimeout(()=>{this.spinnerObservable.next(new bo({name:t,show:!1})),h(!0)},c)})}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Fo=(()=>{class r{constructor(t){this._sanitizer=t}transform(t){if(t)return this._sanitizer.bypassSecurityTrustHtml(t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(be,16))},r.\u0275pipe=e.Yjl({name:"safeHtml",type:r,pure:!0}),r})(),Gc=(()=>{class r{constructor(t,c,h){this.spinnerService=t,this.changeDetector=c,this.elementRef=h,this.disableAnimation=!1,this.spinner=new bo,this.ngUnsubscribe=new ei.x,this.setDefaultOptions=()=>{this.spinner=bo.create({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template,showSpinner:this.showSpinner})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.size="large",this.fullScreen=!0,this.name=wa,this.template=null,this.showSpinner=!1,this.divArray=[],this.divCount=0,this.show=!1}handleKeyboardEvent(t){this.spinnerDOM&&this.spinnerDOM.nativeElement&&(this.fullScreen||!this.fullScreen&&this.isSpinnerZone(t.target))&&(t.returnValue=!1,t.preventDefault())}initObservable(){this.spinnerService.getSpinner(this.name).pipe(bi(this.ngUnsubscribe)).subscribe(t=>{this.setDefaultOptions(),Object.assign(this.spinner,t),t.show&&this.onInputChange(),this.changeDetector.detectChanges()})}ngOnInit(){this.setDefaultOptions(),this.initObservable()}isSpinnerZone(t){return t===this.elementRef.nativeElement.parentElement||t.parentNode&&this.isSpinnerZone(t.parentNode)}ngOnChanges(t){for(const c in t)if(c){const h=t[c];if(h.isFirstChange())return;void 0!==h.currentValue&&h.currentValue!==h.previousValue&&""!==h.currentValue&&(this.spinner[c]=h.currentValue,"showSpinner"===c&&(h.currentValue?this.spinnerService.show(this.spinner.name,this.spinner):this.spinnerService.hide(this.spinner.name)),"name"===c&&this.initObservable())}}getClass(t,c){this.spinner.divCount=Ba[t],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((_,O)=>O);let h="";switch(c.toLowerCase()){case"small":h="la-sm";break;case"medium":h="la-2x";break;case"large":h="la-3x"}return"la-"+t+" "+h}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Es),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngx-spinner"]],viewQuery:function(t,c){if(1&t&&e.Gf(qs,5),2&t){let h;e.iGM(h=e.CRH())&&(c.spinnerDOM=h.first)}},hostBindings:function(t,c){1&t&&e.NdJ("keydown",function(_){return c.handleKeyboardEvent(_)},!1,e.evT)},inputs:{bdColor:"bdColor",size:"size",color:"color",type:"type",fullScreen:"fullScreen",name:"name",zIndex:"zIndex",template:"template",showSpinner:"showSpinner",disableAnimation:"disableAnimation"},features:[e.TTD],ngContentSelectors:Kd,decls:1,vars:1,consts:[["class","ngx-spinner-overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"ngx-spinner-overlay"],["overlay",""],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(t,c){1&t&&(e.F$t(),e.YNc(0,Vl,6,12,"div",0)),2&t&&e.Q6J("ngIf",c.spinner.show)},directives:[p.O5,p.sg],pipes:[Fo],styles:[".ngx-spinner-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.ngx-spinner-overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;transform:translate(-50%,-60%)}"],data:{animation:[ba("fadeIn",[ta("in",co({opacity:1})),Ca(":enter",[co({opacity:0}),Bc(300)]),Ca(":leave",Bc(200,co({opacity:0})))])]},changeDetection:0}),r})(),bu=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var ds=A(576);function Ta(r){return!!r&&(r instanceof ir.y||(0,ds.m)(r.lift)&&(0,ds.m)(r.subscribe))}var U=A(7272),q=A(9770),ae=A(5698),He=A(6063);class mt extends ei.x{constructor(i=1/0,t=1/0,c=He.l){super(),this._bufferSize=i,this._windowTime=t,this._timestampProvider=c,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,i),this._windowTime=Math.max(1,t)}next(i){const{isStopped:t,_buffer:c,_infiniteTimeWindow:h,_timestampProvider:_,_windowTime:O}=this;t||(c.push(i),!h&&c.push(_.now()+O)),this._trimBuffer(),super.next(i)}_subscribe(i){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(i),{_infiniteTimeWindow:c,_buffer:h}=this,_=h.slice();for(let O=0;O<_.length&&!i.closed;O+=c?1:2)i.next(_[O]);return this._checkFinalizedStatuses(i),t}_trimBuffer(){const{_bufferSize:i,_timestampProvider:t,_buffer:c,_infiniteTimeWindow:h}=this,_=(h?1:2)*i;if(i<1/0&&_<c.length&&c.splice(0,c.length-_),!h){const O=t.now();let z=0;for(let J=1;J<c.length&&c[J]<=O;J+=2)z=J;z&&c.splice(0,z+1)}}}var St=A(3099);function un(r,i,t){let c,h=!1;return r&&"object"==typeof r?({bufferSize:c=1/0,windowTime:i=1/0,refCount:h=!1,scheduler:t}=r):c=null!=r?r:1/0,(0,St.B)({connector:()=>new mt(c,i,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:h})}var On=A(4351),mr=A(3900);class fr{}let ai=(()=>{class r extends fr{getTranslation(t){return(0,lr.of)({})}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class wr{}let Bo=(()=>{class r{handle(t){return t.key}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();function uo(r,i){if(r===i)return!0;if(null===r||null===i)return!1;if(r!=r&&i!=i)return!0;let h,_,O,t=typeof r;if(t==typeof i&&"object"==t){if(!Array.isArray(r)){if(Array.isArray(i))return!1;for(_ in O=Object.create(null),r){if(!uo(r[_],i[_]))return!1;O[_]=!0}for(_ in i)if(!(_ in O)&&void 0!==i[_])return!1;return!0}if(!Array.isArray(i))return!1;if((h=r.length)==i.length){for(_=0;_<h;_++)if(!uo(r[_],i[_]))return!1;return!0}}return!1}function hs(r){return null!=r}function na(r){return r&&"object"==typeof r&&!Array.isArray(r)}function Ds(r,i){let t=Object.assign({},r);return na(r)&&na(i)&&Object.keys(i).forEach(c=>{na(i[c])?c in r?t[c]=Ds(r[c],i[c]):Object.assign(t,{[c]:i[c]}):Object.assign(t,{[c]:i[c]})}),t}class Zo{}let Yi=(()=>{class r extends Zo{constructor(){super(...arguments),this.templateMatcher=/{{\s?([^{}\s]*)\s?}}/g}interpolate(t,c){let h;return h="string"==typeof t?this.interpolateString(t,c):"function"==typeof t?this.interpolateFunction(t,c):t,h}getValue(t,c){let h="string"==typeof c?c.split("."):[c];c="";do{c+=h.shift(),!hs(t)||!hs(t[c])||"object"!=typeof t[c]&&h.length?h.length?c+=".":t=void 0:(t=t[c],c="")}while(h.length);return t}interpolateFunction(t,c){return t(c)}interpolateString(t,c){return c?t.replace(this.templateMatcher,(h,_)=>{let O=this.getValue(c,_);return hs(O)?O:h}):t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Hc{}let hl=(()=>{class r extends Hc{compile(t,c){return t}compileTranslations(t,c){return t}}return r.\u0275fac=function(){let i;return function(c){return(i||(i=e.n5z(r)))(c||r)}}(),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class Gl{constructor(){this.currentLang=this.defaultLang,this.translations={},this.langs=[],this.onTranslationChange=new e.vpe,this.onLangChange=new e.vpe,this.onDefaultLangChange=new e.vpe}}const bc=new e.OlP("USE_STORE"),Hl=new e.OlP("USE_DEFAULT_LANG"),ud=new e.OlP("DEFAULT_LANGUAGE"),Cu=new e.OlP("USE_EXTEND");let Uo=(()=>{class r{constructor(t,c,h,_,O,z=!0,J=!1,De=!1,tt){this.store=t,this.currentLoader=c,this.compiler=h,this.parser=_,this.missingTranslationHandler=O,this.useDefaultLang=z,this.isolate=J,this.extend=De,this.pending=!1,this._onTranslationChange=new e.vpe,this._onLangChange=new e.vpe,this._onDefaultLangChange=new e.vpe,this._langs=[],this._translations={},this._translationRequests={},tt&&this.setDefaultLang(tt)}get onTranslationChange(){return this.isolate?this._onTranslationChange:this.store.onTranslationChange}get onLangChange(){return this.isolate?this._onLangChange:this.store.onLangChange}get onDefaultLangChange(){return this.isolate?this._onDefaultLangChange:this.store.onDefaultLangChange}get defaultLang(){return this.isolate?this._defaultLang:this.store.defaultLang}set defaultLang(t){this.isolate?this._defaultLang=t:this.store.defaultLang=t}get currentLang(){return this.isolate?this._currentLang:this.store.currentLang}set currentLang(t){this.isolate?this._currentLang=t:this.store.currentLang=t}get langs(){return this.isolate?this._langs:this.store.langs}set langs(t){this.isolate?this._langs=t:this.store.langs=t}get translations(){return this.isolate?this._translations:this.store.translations}set translations(t){this.isolate?this._translations=t:this.store.translations=t}setDefaultLang(t){if(t===this.defaultLang)return;let c=this.retrieveTranslations(t);void 0!==c?(null==this.defaultLang&&(this.defaultLang=t),c.pipe((0,ae.q)(1)).subscribe(h=>{this.changeDefaultLang(t)})):this.changeDefaultLang(t)}getDefaultLang(){return this.defaultLang}use(t){if(t===this.currentLang)return(0,lr.of)(this.translations[t]);let c=this.retrieveTranslations(t);return void 0!==c?(this.currentLang||(this.currentLang=t),c.pipe((0,ae.q)(1)).subscribe(h=>{this.changeLang(t)}),c):(this.changeLang(t),(0,lr.of)(this.translations[t]))}retrieveTranslations(t){let c;return(void 0===this.translations[t]||this.extend)&&(this._translationRequests[t]=this._translationRequests[t]||this.getTranslation(t),c=this._translationRequests[t]),c}getTranslation(t){this.pending=!0;const c=this.currentLoader.getTranslation(t).pipe(un(1),(0,ae.q)(1));return this.loadingTranslations=c.pipe((0,ln.U)(h=>this.compiler.compileTranslations(h,t)),un(1),(0,ae.q)(1)),this.loadingTranslations.subscribe({next:h=>{this.translations[t]=this.extend&&this.translations[t]?Object.assign(Object.assign({},h),this.translations[t]):h,this.updateLangs(),this.pending=!1},error:h=>{this.pending=!1}}),c}setTranslation(t,c,h=!1){c=this.compiler.compileTranslations(c,t),this.translations[t]=(h||this.extend)&&this.translations[t]?Ds(this.translations[t],c):c,this.updateLangs(),this.onTranslationChange.emit({lang:t,translations:this.translations[t]})}getLangs(){return this.langs}addLangs(t){t.forEach(c=>{-1===this.langs.indexOf(c)&&this.langs.push(c)})}updateLangs(){this.addLangs(Object.keys(this.translations))}getParsedResult(t,c,h){let _;if(c instanceof Array){let O={},z=!1;for(let J of c)O[J]=this.getParsedResult(t,J,h),Ta(O[J])&&(z=!0);return z?wt(c.map(De=>Ta(O[De])?O[De]:(0,lr.of)(O[De]))).pipe((0,ln.U)(De=>{let tt={};return De.forEach((Ut,Gt)=>{tt[c[Gt]]=Ut}),tt})):O}if(t&&(_=this.parser.interpolate(this.parser.getValue(t,c),h)),void 0===_&&null!=this.defaultLang&&this.defaultLang!==this.currentLang&&this.useDefaultLang&&(_=this.parser.interpolate(this.parser.getValue(this.translations[this.defaultLang],c),h)),void 0===_){let O={key:c,translateService:this};void 0!==h&&(O.interpolateParams=h),_=this.missingTranslationHandler.handle(O)}return void 0!==_?_:c}get(t,c){if(!hs(t)||!t.length)throw new Error('Parameter "key" required');if(this.pending)return this.loadingTranslations.pipe((0,On.b)(h=>Ta(h=this.getParsedResult(h,t,c))?h:(0,lr.of)(h)));{let h=this.getParsedResult(this.translations[this.currentLang],t,c);return Ta(h)?h:(0,lr.of)(h)}}getStreamOnTranslationChange(t,c){if(!hs(t)||!t.length)throw new Error('Parameter "key" required');return(0,U.z)((0,q.P)(()=>this.get(t,c)),this.onTranslationChange.pipe((0,mr.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return"function"==typeof _.subscribe?_:(0,lr.of)(_)})))}stream(t,c){if(!hs(t)||!t.length)throw new Error('Parameter "key" required');return(0,U.z)((0,q.P)(()=>this.get(t,c)),this.onLangChange.pipe((0,mr.w)(h=>{const _=this.getParsedResult(h.translations,t,c);return Ta(_)?_:(0,lr.of)(_)})))}instant(t,c){if(!hs(t)||!t.length)throw new Error('Parameter "key" required');let h=this.getParsedResult(this.translations[this.currentLang],t,c);if(Ta(h)){if(t instanceof Array){let _={};return t.forEach((O,z)=>{_[t[z]]=t[z]}),_}return t}return h}set(t,c,h=this.currentLang){this.translations[h][t]=this.compiler.compile(c,h),this.updateLangs(),this.onTranslationChange.emit({lang:h,translations:this.translations[h]})}changeLang(t){this.currentLang=t,this.onLangChange.emit({lang:t,translations:this.translations[t]}),null==this.defaultLang&&this.changeDefaultLang(t)}changeDefaultLang(t){this.defaultLang=t,this.onDefaultLangChange.emit({lang:t,translations:this.translations[t]})}reloadLang(t){return this.resetLang(t),this.getTranslation(t)}resetLang(t){this._translationRequests[t]=void 0,this.translations[t]=void 0}getBrowserLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,void 0!==t?(-1!==t.indexOf("-")&&(t=t.split("-")[0]),-1!==t.indexOf("_")&&(t=t.split("_")[0]),t):void 0}getBrowserCultureLang(){if("undefined"==typeof window||void 0===window.navigator)return;let t=window.navigator.languages?window.navigator.languages[0]:null;return t=t||window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage,t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Gl),e.LFG(fr),e.LFG(Hc),e.LFG(Zo),e.LFG(wr),e.LFG(Hl),e.LFG(bc),e.LFG(Cu),e.LFG(ud))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),ns=(()=>{class r{constructor(t,c){this.translate=t,this._ref=c,this.value="",this.lastKey=null,this.lastParams=[]}updateValue(t,c,h){let _=O=>{this.value=void 0!==O?O:t,this.lastKey=t,this._ref.markForCheck()};if(h){let O=this.translate.getParsedResult(h,t,c);Ta(O.subscribe)?O.subscribe(_):_(O)}this.translate.get(t,c).subscribe(_)}transform(t,...c){if(!t||!t.length)return t;if(uo(t,this.lastKey)&&uo(c,this.lastParams))return this.value;let h;if(hs(c[0])&&c.length)if("string"==typeof c[0]&&c[0].length){let _=c[0].replace(/(\')?([a-zA-Z0-9_]+)(\')?(\s)?:/g,'"$2":').replace(/:(\s)?(\')(.*?)(\')/g,':"$3"');try{h=JSON.parse(_)}catch(O){throw new SyntaxError(`Wrong parameter in TranslatePipe. Expected a valid Object, received: ${c[0]}`)}}else"object"==typeof c[0]&&!Array.isArray(c[0])&&(h=c[0]);return this.lastKey=t,this.lastParams=c,this.updateValue(t,h),this._dispose(),this.onTranslationChange||(this.onTranslationChange=this.translate.onTranslationChange.subscribe(_=>{this.lastKey&&_.lang===this.translate.currentLang&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onLangChange||(this.onLangChange=this.translate.onLangChange.subscribe(_=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h,_.translations))})),this.onDefaultLangChange||(this.onDefaultLangChange=this.translate.onDefaultLangChange.subscribe(()=>{this.lastKey&&(this.lastKey=null,this.updateValue(t,h))})),this.value}_dispose(){void 0!==this.onTranslationChange&&(this.onTranslationChange.unsubscribe(),this.onTranslationChange=void 0),void 0!==this.onLangChange&&(this.onLangChange.unsubscribe(),this.onLangChange=void 0),void 0!==this.onDefaultLangChange&&(this.onDefaultLangChange.unsubscribe(),this.onDefaultLangChange=void 0)}ngOnDestroy(){this._dispose()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uo,16),e.Y36(e.sBO,16))},r.\u0275pipe=e.Yjl({name:"translate",type:r,pure:!1}),r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Tu=(()=>{class r{static forRoot(t={}){return{ngModule:r,providers:[t.loader||{provide:fr,useClass:ai},t.compiler||{provide:Hc,useClass:hl},t.parser||{provide:Zo,useClass:Yi},t.missingTranslationHandler||{provide:wr,useClass:Bo},Gl,{provide:bc,useValue:t.isolate},{provide:Hl,useValue:t.useDefaultLang},{provide:Cu,useValue:t.extend},{provide:ud,useValue:t.defaultLanguage},Uo]}}static forChild(t={}){return{ngModule:r,providers:[t.loader||{provide:fr,useClass:ai},t.compiler||{provide:Hc,useClass:hl},t.parser||{provide:Zo,useClass:Yi},t.missingTranslationHandler||{provide:wr,useClass:Bo},{provide:bc,useValue:t.isolate},{provide:Hl,useValue:t.useDefaultLang},{provide:Cu,useValue:t.extend},{provide:ud,useValue:t.defaultLanguage},Uo]}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();const Yh={login:{welcome:"Benvingut/da","welcome.subtitle":"Necessitem un m\xednim de dades per a poder moderar l'aplicaci\xf3.",username:"Nom d'usuari",email:"Correu electr\xf2nic",password:"Contrasenya",access:"Accedeix",accessGoogle:"Accedeix amb Google",notAccount:"Encara no tens compte?",register:"Registra't",registering:"Registre",doRegister:"Registrar-me",registerError:"Ja exiteix un compte amb aquest e-mail",error:"Usuari o contrasenya incorrectes",passwordRepeat:"Repeteix contrasenya",passwordsDifferentError:"La contrasenyes estan buides o no concideixen",passwordLengthError:"Les contrasenyes han de tenir un m\xednim de 6 car\xe0cters."},carousel:{step1:{title:"Administra",text:"Confecciona el teu llistat de productes i afegeix o actualitza en el moment que desitgis el preu que tingui a la botiga desitjada."},step2:{title:"Interactua",text:"Introdueix productes i preus de manera f\xe0cil i c\xf2moda mitjan\xe7ant la c\xe0mera del teu tel\xe8fon m\xf2bil i el ticket de compra."},step3:{title:"Analitza",text:"Visualitza i analitza les dades de botigues amb preus m\xe9s cars, m\xe9s barats i d'altres."},step4:{title:"Planifica i estalvia",text:"Configura i simula llistes de compra i l'aplicaci\xf3 et dir\xe0 on comprar cada producte."},step5:{title:"Coopera i comparteix",text:"Les dades que introdueixis serviran als altres usuaris i les dels altres usuaris et serviran a tu."},step6:{title:"Estigues informat",text:"Reb alertes dels canvis de preu dels productes que tinguis com a favorits."}},menu:{home:"Inici",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi",export:"Exportar",reset:"Reiniciar",exit:"Sortir"},home:{scan:"Escaneja",here:"Aqu\xed",shops:"Botigues",products:"Productes",alerts:"Alertes",analysis:"An\xe0lisi"},user:{username:"Nom d'usuari",email:"Correu electr\xf2nic",role:"Rol",lastLogin:"\xdaltim login"},breadcrumb:{home:"Inici",shops:"Botigues",products:"Productes",analysis:"An\xe0lisi",shoppingCart:"Cistella de compra",alerts:"Alertes"},shops:{noShopAdded:"No hi ha botigues",noFavouriteShop:"No tens cap botiga preferida",onlyFavouriteShops:"Nom\xe9s favorites",searchPlaceholder:"Cerca per nom"},shop:{detail:"Detall",prices:"Preus",name:"Nom",favourite:"Favorita",createdBy:"Creada per",save:"Desa",close:"Tanca",productPrices:"Preus productes",noProductPrices:"Sense preus de productes"},products:{noProductAdded:"No hi ha productes",noFavouriteProduct:"No tens cap producte preferit",searchPlaceholder:"Cerca per nom, marca o codi de barres",onlyFavouriteProducts:"Nom\xe9s favorits",scan:"Escaneja"},product:{detail:"Detall",prices:"Preus",barcode:"Codi de barres / identificador",name:"Nom",brand:"Marca",favourite:"Favorit",createdBy:"Creat per",save:"Desa",close:"Tanca",pricesInShops:"Preus a botigues",noData:"Sense dades",characteristics:"Caracter\xedstiques",category:"Categoria",allergens:"Al\xb7l\xe8rgens",nutrientLevels:"Nivells nutrients",nutrients:{fat:"Greixos",salt:"Sal",saturedFat:"Greixos saturats",sugars:"Sucres"},nutriscore:{a:"Molt saludable",b:"Saludable",c:"Acceptable",d:"Poc saludable",e:"No saludable"},nova:{nova1:"Aliments naturals o m\xednimament processats",nova2:"Ingredients culinaris processats",nova3:"Aliments processats",nova4:"Aliments ultraprocessats"},ecoscore:{ecoscoreA:"Impacte ambiental molt baix",ecoscoreB:"Impacte ambiental baix",ecoscoreC:"Impacte ambiental moderat",ecoscoreD:"Impacte ambiental alt",ecoscoreE:"Impacte ambiental molt alt",ecoscoreUNKNOWN:"Impacte ambiental desconegut",ecoscoreNOTAPPLICABLE:"Impacte ambiental desconegut o no es pot calcular"}},shoppingCart:{title:"Cistella de compra optimitzada",description:"Aqui tens la teva cistella de la compra optimitzada per botigues i productes per aconseguir el m\xe0xim d'estalvi.",doEmpty:"Buidar la cistella",amountOptimized:"Total optimitzat",amountNoOptimized:"Total NO optimitzat",amountSaved:"Total estalviat",noProducts:"No hi ha productes a la cistella de la compra.",confirmEmpty:"Es buidar\xe0 tota la cistella de la compra. Continuar?",trick:{title:"Consell \xfatil",text:"Fes clic sobre qualsevol element de la llista per a marcar/desmarcar com a pendent de compra."}},shopStandings:{title:{cheap:"Preus m\xe9s barats",expensive:"Preus m\xe9s cars"},numProducts:"N\xba productes",shop:"Botiga",noDataEnough:"Encara no tens prou dades. Necessites preus d'un mateix producte en diferents botigues",noResults:"No hi ha resultats",possibleReasons:"Possibles causes",noProductsWithPrices:"No tens productes amb preus diferents segons la botiga",noFavouriteProducts:"No tens productes marcats com a favorits"},scanner:{init:"Inicialitzant l'esc\xe0ner",initError:"Hi ha hagut un error inicialitzant el l'esc\xe0ner",code:"Codi",name:"Nom",shop:"Botiga",product:"Producte",brand:"Marca",price:"Preu",productRegistered:"Producte ja enregistrat",productNotRegistered:"Producte no enregistrat",productUnknown:"Producte desconegut",productPriceSave:"Desa producte i preu",save:"Desa",instructions:"Posiciona el codi de barres del producte davant la c\xe0mera.",searchInstructions:"Cerca un producte mitjan\xe7ant l'escaneig del seu codi de barres per a poder registrar-li un preu en una botiga. En cas que el producte no existeixi, podr\xe0s f\xe0cilment registrar-lo al mateix temps que es desar\xe0 el preu desitjat.",productNotFound:"No s'ha trobat el producte.",searchingProduct:"Cercant producte...",scanner:"Esc\xe0ner",manual:"Manual",createUnknownProductConfirm:"Producte no registrat. Es crear\xe0 i es desar\xe0 el preu per a la botiga indicada.",addExistingShopProductConfirm:"Ja existeix el producte per a la botiga. Desitges actualitzar-lo amb data d'avui (el preu anterior s'afegir\xe0 a un historial)?"},alerts:{unreadInfoText:"Tens alertes sense llegir. Pots marcar-les com a llegides fent clic a la que desitgis."},commons:{back:"Torna",prices:"preus",price:"preu",noData:"No hi ha dades",loading:"Carregant...",onlyFavouriteProducts:"Nom\xe9s productes favorits",role:{admin:"Administrador",user:"Usuari"},alert:"Alerta",alerts:"Alertes",copiedToClipboard:"S'ha copiat al porta-retalls",levels:{high:"Alt",moderate:"Moderat",low:"Baix"}}},Cp={login:{welcome:"Welcome","welcome.subtitle":"We need a minimum of data to moderate the application.",username:"Username",email:"E-mail",password:"Password",access:"Access",accessGoogle:"Access with Google",notAccount:"Don't have an account yet?",register:"Sign up",registering:"Sign up",doRegister:"Register me",registerError:"An account already exists with this email",error:"Incorrect username or password.",passwordRepeat:"Password repeat",passwordsDifferentError:"Passwords are empty or do not match",passwordLengthError:"Passwords must be at least 6 characters long."},carousel:{step1:{title:"Administer",text:"Make your product list and add or update it at the time you want the price you have in the desired store."},step2:{title:"Interact",text:"Enter products and prices easily and conveniently with your mobile phone's camera and purchase ticket."},step3:{title:"Analyze",text:"View and analyze store data at more expensive, cheaper and other prices."},step4:{title:"Plan and save",text:"Set up and simulate shopping lists and the app will tell you where to buy each product."},step5:{title:"Cooperate and share",text:"The data you enter will be used by other users and the data of other users will be useful to you."},step6:{title:"Be informed",text:"Get alert to changes in the price of your favorite products."}},menu:{home:"Home",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis",export:"Export",reset:"Reset",exit:"Exit"},home:{scan:"Scan",here:"Here",shops:"Shops",products:"Products",alerts:"Alerts",analysis:"Analysis"},user:{username:"Username",email:"E-mail",role:"Role",lastLogin:"Last login"},breadcrumb:{home:"Home",shops:"Shops",products:"Products",analysis:"Analysis",shoppingCart:"Shopping cart",alerts:"Alerts"},shops:{noShopAdded:"No shops available",noFavouriteShop:"No favourite shops",onlyFavouriteShops:"Only favourites",searchPlaceholder:"Search by name"},shop:{detail:"Detail",prices:"Prices",name:"Name",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",productPrices:"Product prices",noProductPrices:"There are no product prices"},products:{noProductAdded:"No products available",noFavouriteProduct:"No favourite products",searchPlaceholder:"Search by name, brand or barcode",onlyFavouriteProducts:"Only favourites",scan:"Scan"},product:{detail:"Detail",prices:"Prices",barcode:"Barcode / identifier",name:"Name",brand:"Branch",favourite:"Favourite",createdBy:"Created by",save:"Save",close:"Close",pricesInShops:"Prices in shops",noData:"No data",characteristics:"Characteristics",category:"Category",allergens:"Allergens",nutrientLevels:"Nutrient levels",nutrients:{fat:"Fat",salt:"Salt",saturedFat:"Satured fat",sugars:"Sugars"},nutriscore:{a:"Very healthy",b:"Healthy",c:"Acceptable",d:"Unhealthy",e:"Not healthy"},nova:{nova1:"Natural or minimally processed foods",nova2:"Processed culinary ingredients",nova3:"Processed foods",nova4:"Ultra-processed foods"},ecoscore:{ecoscoreA:"Very low environmental impact",ecoscoreB:"Low environmental impact",ecoscoreC:"Moderate environmental impact",ecoscoreD:"High environmental impact",ecoscoreE:"Very high environmental impact",ecoscoreUNKNOWN:"Unknown environmental impact",ecoscoreNOTAPPLICABLE:"Environmental impact unknown or cannot be calculated"}},shoppingCart:{title:"Optimized shopping cart",description:"Here is your shopping cart optimized for stores and products for maximum savings.",doEmpty:"Empty cart",amountOptimized:"Total optimized",amountNoOptimized:"Total NOT optimized",amountSaved:"Total saved",noProducts:"There are no products in the shopping cart.",confirmEmpty:"The entire shopping cart will be emptied. Continue?",trick:{title:"Useful tip",text:"Click on any item in the list to mark / unmark as pending purchase."}},shopStandings:{title:{cheap:"Cheaper prices",expensive:"More expensive prices"},numProducts:"Number of products",shop:"Shop",noDataEnough:"Not enough data yet. You need different prices of prducts in different shops.",noResults:"No results",possibleReasons:"Possible causes",noProductsWithPrices:"You do not have products with different prices depending on the store",noFavouriteProducts:"You have no products marked as favorites"},scanner:{init:"Initializing scanner",initError:"There was an error initializing the scanner",code:"Code",name:"Name",shop:"Shop",product:"Product",brand:"Brand",price:"Price",productRegistered:"Registered product",productNotRegistered:"Product not registered",productUnknown:"Unknown product",productPriceSave:"Save product and price",save:"Save",instructions:"Position the product barcode in front of the camera.",searchInstructions:"Search for a product by scanning its barcode so you can record a price in a store. If the product does not exist, you can easily register it at the same time as the desired price is saved.",productNotFound:"Product not found.",searchingProduct:"Searching product...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Unregistered product. The price for the indicated shop will be created and saved.",addExistingShopProductConfirm:"The product for the store already exists. Do you want to update it to today's date (the previous price will be added to a history)?"},alerts:{unreadInfoText:"You have unread alerts. You can mark them as read by clicking on the one you want."},commons:{back:"Back",prices:"prices",price:"price",noData:"No data",loading:"Loading...",onlyFavouriteProducts:"Favourite products only",role:{admin:"Administrator",user:"User"},alert:"Alert",alerts:"Alerts",copiedToClipboard:"Copied to clipboard",levels:{high:"High",moderate:"Moderate",low:"Low"}}},Qh={login:{welcome:"Bienvenido/a","welcome.subtitle":"Necesitamos un m\xednimo de datos para poder moderar la aplicaci\xf3n.",username:"Nombre de usuario",email:"Correo electr\xf3nico",password:"Contrase\xf1a",access:"Accede",accessGoogle:"Accede con Google",notAccount:"\xbfA\xfan no tienes cuenta?",register:"Reg\xedstrate",registering:"Registro",doRegister:"Registrarme",registerError:"Ya exite una cuenta con el email indicado",error:"Usuario o contrase\xf1a incorrectos.",passwordRepeat:"Repetir contrase\xf1a",passwordsDifferentError:"La contrase\xf1as estan vac\xedas o no conciden",passwordLengthError:"Las contrase\xf1as deben tener un m\xednimo de 6 caracteres."},carousel:{step1:{title:"Administra",text:"Confecciona tu listado de productos y a\xf1ade o actualiza en el momento que desees el precio que tenga en la tienda deseada."},step2:{title:"Interact\xfaa",text:"Introduce productos y precios de forma f\xe1cil y c\xf3moda mediante la c\xe1mara de tu tel\xe9fono m\xf3vil y el ticket de compra."},step3:{title:"Analiza",text:"Visualiza y analiza los datos de tiendas con precios m\xe1s caros, m\xe1s baratos y otros."},step4:{title:"Planifica y ahorra",text:"Configura y simula listas de compra y la aplicaci\xf3n te dir\xe1 d\xf3nde comprar cada producto."},step5:{title:"Coopera y comparte",text:"Los datos que introduzcas servir\xe1n a los dem\xe1s usuarios y los de los dem\xe1s usuarios te servir\xe1n a ti."},step6:{title:"Mantente informado",text:"Recibe alertas de los cambios de precio de los productos que tengas como favoritos."}},menu:{home:"Inicio",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis",export:"Exportar",reset:"Reiniciar",exit:"Salir"},home:{scan:"Escanea",here:"Aqu\xed",shops:"Tiendas",products:"Productos",alerts:"Alertas",analysis:"An\xe1lisis"},user:{username:"Nombre de usuario",email:"Correo electr\xf3nico",role:"Rol",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Inicio",shops:"Tiendas",products:"Productos",analysis:"An\xe1lisis",shoppingCart:"Cesta de compra",alerts:"Alertas"},shops:{noShopAdded:"No hay tiendas",noFavouriteShop:"No tienes ninguna tienda favorita",onlyFavouriteShops:"Solamente favoritas",searchPlaceholder:"Busca por nombre"},shop:{detail:"Detalle",prices:"Precios",name:"Nombre",favourite:"Favorita",createdBy:"Creada por",save:"Guarda",close:"Cierra",productPrices:"Precios productos",noProductPrices:"No hay precios de productos"},products:{noProductAdded:"No hay productos",noFavouriteProduct:"No tienes ning\xfan producto favorito",searchPlaceholder:"Busca por nombre, marca o c\xf3digo de barras",onlyFavouriteProducts:"Solamente favoritos",scan:"Escanear"},product:{detail:"Detalle",prices:"Precios",barcode:"C\xf3digo de barras / identificador",name:"Nombre",brand:"Marca",favourite:"Favorito",createdBy:"Creado por",save:"Guarda",close:"Cierra",pricesInShops:"Precios en tiendas",noData:"Sin datos",characteristics:"Caracter\xedsticas",category:"Categor\xeda",allergens:"Al\xe9rgenos",nutrientLevels:"Niveles nutrientes",nutrients:{fat:"Grasas",salt:"Sal",saturedFat:"Grasas saturadas",sugars:"Az\xfacares"},nutriscore:{a:"Muy saludable",b:"Saludable",c:"Aceptable",d:"Poco saludable",e:"No saludable"},nova:{nova1:"Alimentos naturales o m\xednimamente procesados",nova2:"Ingredientes culinarios procesados",nova3:"Alimentos procesados",nova4:"Alimentos ultraprocesados"},ecoscore:{ecoscoreA:"Impacto ambiental muy bajo",ecoscoreB:"Impacto ambiental bajo",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Impacto ambiental alto",ecoscoreE:"Impacto ambiental muy alto",ecoscoreUNKNOWN:"Impacto ambiental desconocido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconocido o no puede calcularse"}},shoppingCart:{title:"Cesta de compra optimizada",description:"Aqu\xed tienes tu cesta de la compra optimizada para tiendas y productos para conseguir el m\xe1ximo ahorro.",doEmpty:"Vaciar la cesta",amountOptimized:"Total optimizado",amountNoOptimized:"Total NO optimizado",amountSaved:"Total ahorrado",noProducts:"No hay productos en la cesta.",confirmEmpty:"Se vaciar\xe1 toda la cesta de la compra. \xbfContinuar?",trick:{title:"Consejo \xfatil",text:"Haz clic sobre cualquier elemento de la lista para marcar/desmarcar como pendiente de compra."}},shopStandings:{title:{cheap:"Precios m\xe1s baratos",expensive:"Precios m\xe1s caros"},numProducts:"N\xba productos",shop:"Tienda",noDataEnough:"Todav\xeda no hay suficientes datos. Necesitas precios de un mismo producto en diferentes tiendas",noResults:"No hay resultados",possibleReasons:"Posibles causas",noProductsWithPrices:"No tienes productos con precios diferentes seg\xfans la tienda",noFavouriteProducts:"No tienes productos marcados com a favoritos"},scanner:{init:"Inicializando scanner",initError:"Ha habido un error inicializando el scanner",code:"C\xf3digo",name:"Nombre",shop:"Tienda",product:"Producto",brand:"Marca",price:"Precio",productRegistered:"Producto ya registrado",productNotRegistered:"Producto no registrado",productUnknown:"Producto desconocido",productPriceSave:"Guarda producto y precio",save:"Guarda",instructions:"Sit\xfaa el c\xf3digo de barras del producto delante de la c\xe1mara.",searchInstructions:"Busca un producto mediante el escaneo de su c\xf3digo de barras para poder registrarle un precio en una tienda. En caso de que el producto no exista, podr\xe1s f\xe1cilmente registrarlo a la vez que se guardar\xe1 el precio deseado.",productNotFound:"No se ha encontrado el producto.",searchingProduct:"Buscando producto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Producto no registrado. Se crear\xe1 y se guardar\xe1 el precio para la tienda indicada.",addExistingShopProductConfirm:"Ya existe el producto para la tienda. Deseas actualizarlo con fecha de hoy (el precio anterior se a\xf1adir\xe1 a un historial)?"},alerts:{unreadInfoText:"Tienes alertas sin leer. Puedes marcarlas como le\xeddas haciendo clic en la que desees."},commons:{back:"Volver",prices:"precios",price:"precio",noData:"No hay datos",loading:"Cargando...",onlyFavouriteProducts:"Solamente productos favoritos",role:{admin:"Administrador",user:"Usuario"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Se ha copiado al portapapeles",levels:{high:"Alto",moderate:"Moderado",low:"Bajo"}}},Zl={login:{welcome:"Bem vindo","welcome.subtitle":"Precisamos de um m\xednimo de dados para moderar o aplicativo.",username:"Nome do usu\xe1rio",email:"O email",password:"Senha",access:"Acesso",accessGoogle:"Acesse com Google",notAccount:"N\xe3o tem uma conta ainda?",register:"Inscrever-se",registering:"Registro",doRegister:"Registre-me",registerError:"J\xe1 existe uma conta com este e-mail",error:"Usu\xe1rio ou senha incorretos.",passwordRepeat:"Repita a senha",passwordsDifferentError:"As senhas est\xe3o vazias ou n\xe3o correspondem.",passwordLengthError:"As senhas devem ter pelo menos 6 caracteres."},carousel:{step1:{title:"Administra",text:"Fa\xe7a a sua lista de produtos e adicione-a ou atualize-a na hora que desejar o pre\xe7o que tem na loja pretendida."},step2:{title:"Interagir",text:"Insira produtos e pre\xe7os de forma f\xe1cil e conveniente com a c\xe2mera do seu celular e compre o ticket."},step3:{title:"Analisar",text:"Visualize e analise os dados da loja a pre\xe7os mais caros, mais baratos e outros."},step4:{title:"Planeje e economize",text:"Configure e simule listas de compras e o aplicativo informar\xe1 onde comprar cada produto."},step5:{title:"Cooperar e compartilhar",text:"Os dados que voc\xea inserir ser\xe3o usados \u200b\u200bpor outros usu\xe1rios e os dados de outros usu\xe1rios ser\xe3o \xfateis para voc\xea."},step6:{title:"Ser informado",text:"Fique alerta para mudan\xe7as no pre\xe7o de seus produtos favoritos."}},menu:{home:"Lar",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise",export:"Exportar",reset:"Reiniciar",exit:"Sair"},home:{scan:"Varredura",here:"Aqui",shops:"Lojas",products:"Produtos",alerts:"Alertas",analysis:"An\xe1lise"},user:{username:"Nome do usu\xe1rio",email:"O email",role:"Fun\xe7\xe3o",lastLogin:"\xdaltimo login"},breadcrumb:{home:"Lar",shops:"Lojas",products:"Produtos",analysis:"An\xe1lise",shoppingCart:"Carrinho de compras",alerts:"Alertas"},shops:{noShopAdded:"N\xe3o h\xe1 lojas",noFavouriteShop:"Voc\xea n\xe3o tem loja favorita",onlyFavouriteShops:"Apenas favoritos",searchPlaceholder:"Procura por nome"},shop:{detail:"Detalhe",prices:"Pre\xe7os",name:"Nome",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",productPrices:"Pre\xe7os dos produtos",noProductPrices:"N\xe3o h\xe1 pre\xe7os de produtos"},products:{noProductAdded:"Nenhum produto",noFavouriteProduct:"Voc\xea n\xe3o tem produtos favoritos",searchPlaceholder:"Pesquise por nome, marca ou c\xf3digo de barras",onlyFavouriteProducts:"Apenas favoritos",scan:"Varredura"},product:{detail:"Detalhe",prices:"Pre\xe7os",barcode:"C\xf3digo de barras / identificador",name:"Nome",brand:"Marca",favourite:"Favorito",createdBy:"Criado por",save:"Salvar",close:"Fechar",pricesInShops:"Pre\xe7os nas lojas",noData:"Sem dados",characteristics:"Caracter\xedsticas",category:"Categoria",allergens:"Al\xe9rgenos",nutrientLevels:"N\xedveis de nutrientes",nutrients:{fat:"Gordura",salt:"Sal",saturedFat:"Gordura saturada",sugars:"A\xe7\xfacares"},nutriscore:{a:"Muito saud\xe1vel",b:"Saud\xe1vel",c:"Aceit\xe1vel",d:"Pouco saud\xe1vel",e:"N\xe3o saud\xe1vel"},nova:{nova1:"Alimentos naturais ou minimamente processados",nova2:"Ingredientes culin\xe1rios processados",nova3:"Alimentos processados",nova4:"Alimentos ultraprocessados"},ecoscore:{ecoscoreA:"Impacto ambiental muito baixo",ecoscoreB:"Baixo impacto ambiental",ecoscoreC:"Impacto ambiental moderado",ecoscoreD:"Alto impacto ambiental",ecoscoreE:"Impacto ambiental muito alto",ecoscoreUNKNOWN:"Impacto ambiental desconhecido",ecoscoreNOTAPPLICABLE:"Impacto ambiental desconhecido ou n\xe3o pode ser calculado"}},shoppingCart:{title:"Carrinho de compras otimizado",description:"Aqui est\xe1 seu carrinho de compras otimizado para lojas e produtos para economia m\xe1xima.",doEmpty:"Esvazie a cesta",amountOptimized:"Total otimizado",amountNoOptimized:"Total N\xc3O otimizado",amountSaved:"Total salvo",noProducts:"N\xe3o h\xe1 produtos no carrinho de compras.",confirmEmpty:"Todo o carrinho de compras ser\xe1 esvaziado. Continuar?",trick:{title:"Dica \xfatil",text:"Clique em qualquer item da lista para marcar/desmarcar como compra pendente."}},shopStandings:{title:{cheap:"Pre\xe7os mais baratos",expensive:"Pre\xe7os mais caros"},numProducts:"N\xfamero de produtos",shop:"Loja",noDataEnough:"Voc\xea ainda n\xe3o tem dados suficientes. Voc\xea precisa de pre\xe7os para o mesmo produto em diferentes lojas",noResults:"Sem resultados",possibleReasons:"Causas poss\xedveis",noProductsWithPrices:"Voc\xea n\xe3o tem produtos com pre\xe7os diferentes dependendo da loja",noFavouriteProducts:"Voc\xea n\xe3o tem produtos marcados como favoritos"},scanner:{init:"Inicializando o scanner",initError:"Ocorreu um erro ao inicializar o scanner",code:"C\xf3digo",name:"Nome",shop:"Loja",product:"Prouto",brand:"Marca",price:"Pre\xe7o",productRegistered:"Produto j\xe1 registrado",productNotRegistered:"Produto n\xe3o registrado",productUnknown:"Produto desconhecido",productPriceSave:"Salvar produto e pre\xe7o",save:"Salvar",instructions:"Posicione o c\xf3digo de barras do produto na frente da c\xe2mera.",searchInstructions:"Pesquise um produto digitalizando seu c\xf3digo de barras para registrar um pre\xe7o em uma loja. Se o produto n\xe3o existir, voc\xea pode registr\xe1-lo facilmente ao mesmo tempo em que o pre\xe7o desejado \xe9 salvo.",productNotFound:"Produto n\xe3o encontrado.",searchingProduct:"Procurando produto...",scanner:"Scanner",manual:"Manual",createUnknownProductConfirm:"Produto n\xe3o registrado. O pre\xe7o da loja indicada ser\xe1 criado e salvo.",addExistingShopProductConfirm:"O produto para a loja j\xe1 existe. Deseja atualiz\xe1-lo com a data de hoje (o pre\xe7o anterior ser\xe1 adicionado a um hist\xf3rico)?"},alerts:{unreadInfoText:"Voc\xea tem alertas n\xe3o lidos. Voc\xea pode marc\xe1-los como lidos clicando no que deseja."},commons:{back:"Voltar",prices:"pre\xe7os",price:"pre\xe7o",noData:"Sem dados",loading:"Carregando...",onlyFavouriteProducts:"Apenas produtos favoritos",role:{admin:"Administrador",user:"Utilizador"},alert:"Alerta",alerts:"Alertas",copiedToClipboard:"Copiado para a \xe1rea de transfer\xeancia",levels:{high:"Alto",moderate:"Moderado",low:"Baixo"}}},ac={login:{welcome:"Bienvenue","welcome.subtitle":"Nous avons besoin d'un minimum de donn\xe9es pour mod\xe9rer l'application.",username:"Nom d'utilisateur",email:"E-mail",password:"Mot de passe",access:"S'identifier",accessGoogle:"Connectez-vous avec Google",notAccount:"Vous n'avez pas encore de compte?",register:"S'inscrire",registering:"S'inscrire",doRegister:"Inscrivez-moi",registerError:"Un compte existe d\xe9j\xe0 avec cet email",error:"Identifiant ou mot de passe incorrect",passwordRepeat:"R\xe9p\xe9ter le mot de passe",passwordsDifferentError:"Les mots de passe sont vides ou ne correspondent pas",passwordLengthError:"Les mots de passe doivent comporter au moins 6 caract\xe8res."},carousel:{step1:{title:"Administrer",text:"Faites votre liste de produits et ajoutez-la ou mettez-la \xe0 jour au moment o\xf9 vous voulez le prix que vous avez dans le magasin souhait\xe9."},step2:{title:"Interagir",text:"Entrez les produits et les prix facilement et commod\xe9ment avec l'appareil photo de votre t\xe9l\xe9phone portable et achetez un ticket"},step3:{title:"Analyser",text:"Affichez et analysez les donn\xe9es des magasins \xe0 des prix plus chers, moins chers et autres."},step4:{title:"Planifiez et \xe9conomisez",text:"Configurez et simulez des listes de courses et l'application vous indiquera o\xf9 acheter chaque produit."},step5:{title:"Coop\xe9rer et partager",text:"Les donn\xe9es que vous saisissez seront utilis\xe9es par d'autres utilisateurs et les donn\xe9es d'autres utilisateurs vous seront utiles."},step6:{title:"\xcatre inform\xe9",text:"Soyez alert\xe9 des changements de prix de vos produits pr\xe9f\xe9r\xe9s."}},menu:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",alerts:"Alertes",analysis:"Analyse",export:"Exportation",reset:"Red\xe9marrage",exit:"Sortir"},home:{scan:"Analyse/scan",here:"Ici",shops:"magasins",products:"produits",alerts:"Alertes",analysis:"Analyse"},user:{username:"Nom d'utilisateur",email:"E-mail",role:"R\xf4le",lastLogin:"Dernier acc\xe8s"},breadcrumb:{home:"D\xe9marrer",shops:"Magasins",products:"Des produits",analysis:"Analyse",shoppingCart:"Panier",alerts:"Alertes"},shops:{noShopAdded:"Il n'y a pas de magasins",noFavouriteShop:"Vous n'avez pas de magasin pr\xe9f\xe9r\xe9",onlyFavouriteShops:"Favoris uniquement",searchPlaceholder:"Rechercher par nom"},shop:{detail:"D\xe9tail",prices:"Des prix",name:"Nom",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",productPrices:"Prix \u200b\u200bdes produits",noProductPrices:"Pas de prix des produits"},products:{noProductAdded:"Aucun produit",noFavouriteProduct:"Vous n'avez pas de produits favoris",searchPlaceholder:"Rechercher par nom, marque ou code-barres",onlyFavouriteProducts:"Favoris uniquement",scan:"Analyse/scan"},product:{detail:"D\xe9tail",prices:"Des prix",barcode:"Code-barres / identifiant",name:"Nom",brand:"Marque",favourite:"Favori",createdBy:"Cr\xe9\xe9 par",save:"Enregistrer",close:"Fermer",pricesInShops:"Prix \u200b\u200ben magasin",noData:"Pas de donn\xe9es",characteristics:"caract\xe9ristiques",category:"Cat\xe9gorie",allergens:"Allerg\xe8nes",nutrientLevels:"Niveaux de nutriments",nutrients:{fat:"Graisse",salt:"Sel",saturedFat:"Gras satur\xe9",sugars:"Sucres"},nutriscore:{a:"En tr\xe8s bonne sant\xe9",b:"En bonne sant\xe9",c:"Acceptable",d:"Mauvais pour la sant\xe9",e:"Pas bon pour la sant\xe9"},nova:{nova1:"Aliments naturels ou peu transform\xe9s",nova2:"Ingr\xe9dients culinaires transform\xe9s",nova3:"Aliments transform\xe9s",nova4:"Aliments ultra-transform\xe9s"},ecoscore:{ecoscoreA:"Tr\xe8s faible impact environnemental",ecoscoreB:"Faible impact environnemental",ecoscoreC:"Impact environnemental mod\xe9r\xe9",ecoscoreD:"Impact environnemental \xe9lev\xe9",ecoscoreE:"Impact environnemental tr\xe8s \xe9lev\xe9",ecoscoreUNKNOWN:"Impact environnemental inconnu",ecoscoreNOTAPPLICABLE:"Impact environnemental inconnu ou non calculable"}},shoppingCart:{title:"Panier optimis\xe9",description:"Voici votre panier optimis\xe9 pour les magasins et les produits pour un maximum d'\xe9conomies.",doEmpty:"Vider le panier",amountOptimized:"Total optimis\xe9",amountNoOptimized:"Total NON optimis\xe9",amountSaved:"Total \xe9conomis\xe9",noProducts:"Il n'y a aucun produit dans votre panier.",confirmEmpty:"Le panier entier sera vid\xe9. Continuez?",trick:{title:"Conseil utile",text:"Cliquez sur n'importe quel \xe9l\xe9ment de la liste pour marquer / d\xe9cocher comme achat en attente."}},shopStandings:{title:{cheap:"Des prix moins chers",expensive:"Des prix plus chers"},numProducts:"Nombre de produits",shop:"Magasin",noDataEnough:"Vous n'avez pas encore assez de donn\xe9es. Vous avez besoin de prix pour le m\xeame produit dans diff\xe9rents magasins",noResults:"Aucun r\xe9sultat",possibleReasons:"Causes possibles",noProductsWithPrices:"Vous n'avez pas de produits avec des prix diff\xe9rents selon le magasin",noFavouriteProducts:"Vous n'avez aucun produit marqu\xe9 comme favori"},scanner:{init:"Initialisation du scanner",initError:"Une erreur s'est produite lors de l'initialisation du scanner",code:"Code",name:"Nom",shop:"Magasin",product:"Produit",brand:"Marque",price:"Prix",productRegistered:"Produit d\xe9j\xe0 enregistr\xe9",productNotRegistered:"Produit non enregistr\xe9",productUnknown:"Produit inconnu",productPriceSave:"Enregistrer produit et prix",save:"Enregistrer",instructions:"Positionnez le code-barres du produit devant la cam\xe9ra.",searchInstructions:"Recherchez un produit en scannant son code-barres pour pouvoir enregistrer un prix dans un magasin. Si le produit n'existe pas, vous pouvez facilement l'enregistrer en m\xeame temps que le prix souhait\xe9 est enregistr\xe9.",productNotFound:"Produit non trouv\xe9.",searchingProduct:"Recherche de produit...",scanner:"Scanner",manual:"Manuel",createUnknownProductConfirm:"Produit non enregistr\xe9. Le prix du magasin indiqu\xe9 sera cr\xe9\xe9 et enregistr\xe9.",addExistingShopProductConfirm:"Le produit pour le magasin existe d\xe9j\xe0. Voulez-vous le mettre \xe0 jour avec la date d'aujourd'hui (le prix pr\xe9c\xe9dent sera ajout\xe9 \xe0 un historique)\xa0?"},alerts:{unreadInfoText:"Vous avez des alertes non lues. Vous pouvez les marquer comme lus en cliquant sur celui que vous voulez."},commons:{back:"Revenir",prices:"prix",price:"prix",noData:"Il n'y a pas de donn\xe9es",loading:"Chargement ...",onlyFavouriteProducts:"Produits favoris uniquement",role:{admin:"Administrateur",user:"Utilisateur"},alert:"Alerte",alerts:"Alertes",copiedToClipboard:"Copi\xe9 dans le presse-papier",levels:{high:"Haut",moderate:"Mod\xe9r\xe9",low:"Bas"}}};let Jd=(()=>{class r{constructor(t){this.translate=t,this.languages=["ca","es","en","pt","fr"]}getLanguages(){return this.languages}getTranslationData(){return this.translationData}loadTranslations(){return this.translationData=[{name:"Catal\xe0",language:"ca",translations:Yh,imageUrl:"https://www.buenacarta.com/images/idiomas/ca.png"},{name:"Castellano",language:"es",translations:Qh,imageUrl:"https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/Spain_flag_icon.svg/1200px-Spain_flag_icon.svg.png"},{name:"English",language:"en",translations:Cp,imageUrl:"https://speechling.com/static/images/flags/uk.png"},{name:"Portugu\xe9s",language:"pt",translations:Zl,imageUrl:"https://intertradoc.com/wp-content/uploads/2015/05/portuguese.png"},{name:"Fran\xe7ais",language:"fr",translations:ac,imageUrl:"https://www.jensen-localization.com/wp-content/uploads/2019/03/France.png"}],this.translationData.forEach(t=>{this.translate.setTranslation(t.language,t.translations)}),(0,lr.of)(!0)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Uo))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();var ra=A(655),dd=A(127),Ua=A(6451),Eu=A(5363),Xh=A(590);function Du(r,i){return(0,ds.m)(i)?(0,mr.w)(()=>r,i):(0,mr.w)(()=>r)}var ql=A(9468),zl=A(5813),qi=A(2011),Su=A(7128);const fl=new e.OlP("angularfire2.auth.use-emulator"),Yd=new e.OlP("angularfire2.auth.settings"),ef=new e.OlP("angularfire2.auth.tenant-id"),tf=new e.OlP("angularfire2.auth.langugage-code"),nf=new e.OlP("angularfire2.auth.use-device-language"),Au=new e.OlP("angularfire.auth.persistence");let Cc=(()=>{class r{constructor(t,c,h,_,O,z,J,De,tt,Ut,Gt,Jt){const sn=new ei.x,Qt=(0,lr.of)(void 0).pipe((0,Eu.Q)(O.outsideAngular),(0,mr.w)(()=>_.runOutsideAngular(()=>A.e(887).then(A.bind(A,5887)))),(0,ln.U)(()=>(0,qi.on)(t,_,c)),(0,ln.U)(Wn=>((r,i,t,c,h,_,O,z)=>(0,qi.cc)(`${r.name}.auth`,"AngularFireAuth",r.name,()=>{const J=i.runOutsideAngular(()=>r.auth());if(t&&J.useEmulator(...t),c&&(J.tenantId=c),J.languageCode=h,_&&J.useDeviceLanguage(),O)for(const[De,tt]of Object.entries(O))J.settings[De]=tt;return z&&J.setPersistence(z),J},[t,c,h,_,O,z]))(Wn,_,z,De,tt,Ut,J,Gt)),un({bufferSize:1,refCount:!1}));if((0,p.PM)(h))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,lr.of)(null);else{Qt.pipe((0,Xh.P)()).subscribe();const Er=Qt.pipe((0,mr.w)(nr=>nr.getRedirectResult().then(zr=>zr,()=>null)),zl.iC,un({bufferSize:1,refCount:!1})),yr=Qt.pipe((0,mr.w)(nr=>new ir.y(zr=>({unsubscribe:_.runOutsideAngular(()=>nr.onAuthStateChanged(Hr=>zr.next(Hr),Hr=>zr.error(Hr),()=>zr.complete()))})))),Yr=Qt.pipe((0,mr.w)(nr=>new ir.y(zr=>({unsubscribe:_.runOutsideAngular(()=>nr.onIdTokenChanged(Hr=>zr.next(Hr),Hr=>zr.error(Hr),()=>zr.complete()))}))));this.authState=Er.pipe(Du(yr),(0,ql.R)(O.outsideAngular),(0,Eu.Q)(O.insideAngular)),this.user=Er.pipe(Du(Yr),(0,ql.R)(O.outsideAngular),(0,Eu.Q)(O.insideAngular)),this.idToken=this.user.pipe((0,mr.w)(nr=>nr?(0,zn.D)(nr.getIdToken()):(0,lr.of)(null))),this.idTokenResult=this.user.pipe((0,mr.w)(nr=>nr?(0,zn.D)(nr.getIdTokenResult()):(0,lr.of)(null))),this.credential=(0,Ua.T)(Er,sn,this.authState.pipe((0,Ao.h)(nr=>!nr))).pipe((0,ln.U)(nr=>(null==nr?void 0:nr.user)?nr:null),(0,ql.R)(O.outsideAngular),(0,Eu.Q)(O.insideAngular))}return(0,qi.pX)(this,Qt,_,{spy:{apply:(Wn,Er,yr)=>{(Wn.startsWith("signIn")||Wn.startsWith("createUser"))&&yr.then(Yr=>sn.next(Yr))}}})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(qi.Dh),e.LFG(qi.xv,8),e.LFG(e.Lbi),e.LFG(e.R0b),e.LFG(zl.HU),e.LFG(fl,8),e.LFG(Yd,8),e.LFG(ef,8),e.LFG(tf,8),e.LFG(nf,8),e.LFG(Au,8),e.LFG(Su.nm,8))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"any"}),r})(),Wl=(()=>{class r{constructor(t){this.afauth=t}login(t,c){return(0,ra.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithEmailAndPassword(t,c)}catch(h){return console.log("Login error",h),null}})}loginWithGoogle(t,c){return(0,ra.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.signInWithPopup(new dd.Z.auth.GoogleAuthProvider)}catch(h){return console.log("Logi with Google error",h),null}})}register(t,c){return(0,ra.mG)(this,void 0,void 0,function*(){try{return yield this.afauth.createUserWithEmailAndPassword(t,c)}catch(h){return console.log("Register error",h),null}})}logout(){this.afauth.signOut()}getLoggedUser(){return this.afauth.authState}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Cc))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),pl=(()=>{class r{constructor(t,c){this.shopProductService=t,this.productService=c,this.userAlerts=new ei.x,this._userAlerts=this.loadUnreadAlerts(),this.calculateAlerts(!0)}loadUnreadAlerts(){let t={updateDate:(new Date).getTime(),alerts:[]};const c=localStorage.getItem(Rn.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c);return h.alerts.forEach(_=>{this.productService._products.find(O=>O.barcode===_.productBarcode)||this.removeObsoleteProductAlerts(_.productBarcode,h.alerts)}),h}return t}updateAccessDateAlerts(){this._userAlerts.updateDate=(new Date).getTime(),this.saveAlerts()}saveAlerts(){localStorage.setItem(Rn.M.PS_USER_ALERTS,JSON.stringify(this._userAlerts))}removeObsoleteProductAlerts(t,c){c&&c.length>0&&(c=c.filter(h=>h.productBarcode!==t))}toggleReadAlert(t){t.read=!t.read;const c=localStorage.getItem(Rn.M.PS_USER_ALERTS);if(c){const h=JSON.parse(c),_=h.alerts.find(O=>O.date===t.date&&O.productBarcode===t.productBarcode&&O.shopId===t.shopId&&O.currentPrice===t.currentPrice&&O.lastPrice===t.lastPrice);_.read=!_.read,localStorage.setItem(Rn.M.PS_USER_ALERTS,JSON.stringify(h)),this._userAlerts=this.loadUnreadAlerts(),this.userAlerts.next(this._userAlerts)}}getUnreadAlerts(){return this._userAlerts.alerts.filter(t=>!t.read).length}calculateAlerts(t){console.log("AlertsService.calculateAlerts()");const c=this._userAlerts.updateDate,h=this.productService._products.filter(J=>J.favourite).map(J=>J.barcode),_=this.shopProductService._shopsProducts.filter(J=>!(h.indexOf(J.productBarcode)<0)&&J.updateDate>=c),O=[];_.forEach(J=>{O.find(De=>De.productBarcode===J.productBarcode&&De.shopId===J.shopId)||O.push(J)}),O.map(J=>this.shopProductService.getShopProductHistory(J).filter(De=>De.updateDate>=c)).forEach(J=>{J.length>1&&J[J.length-2].price!==J[J.length-1].price&&(this._userAlerts.alerts.find(tt=>tt.date===J[J.length-1].updateDate&&tt.shopId===J[J.length-1].shopId&&tt.productBarcode===J[J.length-1].productBarcode)||this._userAlerts.alerts.push({currentPrice:J[J.length-1].price,date:J[J.length-1].updateDate,lastPrice:J[J.length-2].price,productBarcode:J[J.length-1].productBarcode,shopId:J[J.length-1].shopId,read:!1}))}),console.log(this._userAlerts),this.userAlerts.next(this._userAlerts),t?this.updateAccessDateAlerts():this.saveAlerts()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Ho),e.LFG(Tr.M))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),Qd=(()=>{class r{constructor(){this.shops=[],this.products=[],this.shopsProducts=[]}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-dashboard"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},decls:8,vars:8,consts:[[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"ul")(2,"li"),e._uU(3),e.ALo(4,"number"),e.qZA(),e.TgZ(5,"li"),e._uU(6),e.ALo(7,"number"),e.qZA()()()),2&t&&(e.xp6(3),e.hij("Botigues: ",e.xi3(4,2,c.shops.length,"1.0-2"),""),e.xp6(3),e.hij("Productes: ",e.xi3(7,5,c.products.length,"1.0-2"),""))},pipes:[p.JJ],styles:[""]}),r})();var wp=A(5577),Io=A(1144);const fi=["addListener","removeListener"],Xd=["addEventListener","removeEventListener"],eh=["on","off"];function ki(r,i,t,c){if((0,ds.m)(t)&&(c=t,t=void 0),c)return ki(r,i,t).pipe((0,wn.Z)(c));const[h,_]=function Li(r){return(0,ds.m)(r.addEventListener)&&(0,ds.m)(r.removeEventListener)}(r)?Xd.map(O=>z=>r[O](i,z,t)):function th(r){return(0,ds.m)(r.addListener)&&(0,ds.m)(r.removeListener)}(r)?fi.map(Co(r,i)):function Ss(r){return(0,ds.m)(r.on)&&(0,ds.m)(r.off)}(r)?eh.map(Co(r,i)):[];if(!h&&(0,Io.z)(r))return(0,wp.z)(O=>ki(O,i,t))((0,sr.Xf)(r));if(!h)throw new TypeError("Invalid event target");return new ir.y(O=>{const z=(...J)=>O.next(1<J.length?J:J[0]);return h(z),()=>_(z)})}function Co(r,i){return t=>c=>r[t](i,c)}var gl=A(4986);function mo(r,i=gl.z){return(0,Lc.e)((t,c)=>{let h=null,_=null,O=null;const z=()=>{if(h){h.unsubscribe(),h=null;const De=_;_=null,c.next(De)}};function J(){const De=O+r,tt=i.now();if(tt<De)return h=this.schedule(void 0,De-tt),void c.add(h);z()}t.subscribe((0,In.x)(c,De=>{_=De,O=i.now(),h||(h=i.schedule(J,r),c.add(h))},()=>{z(),c.complete()},void 0,()=>{_=h=null}))})}var Iu=A(4671);function no(r,i=Iu.y){return r=null!=r?r:sf,(0,Lc.e)((t,c)=>{let h,_=!0;t.subscribe((0,In.x)(c,O=>{const z=i(O);(_||!r(h,z))&&(_=!1,h=z,c.next(O))}))})}function sf(r,i){return r===i}var fs=A(2940);const nh=["nameinput"];function n0(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",15),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateShop(h)}),e.qZA()}}function Tm(r,i){1&r&&e._UZ(0,"i",16)}function Ai(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",11),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(6,"td"),e._UZ(7,"img",12),e.qZA(),e.TgZ(8,"td"),e.YNc(9,n0,1,0,"i",13),e.YNc(10,Tm,1,0,"i",14),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingShop||c.updatingShop.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingShop&&c.updatingShop.id===t.id)}}function af(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Ai,11,7,"ng-container",10),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let Pu=(()=>{class r{constructor(t,c,h){this.shopService=t,this.spinner=c,this.translateService=h,this.shops=[],this.onShopSortEmitter=new e.vpe,this.searchConfig={name:""},this.sortBy="name",this.sortDir="ASC",this.DEFAULT_IMAGE_URL=fs.T}matchesSearch(t){return t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>=0}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateShop(t){console.log("updateShop()",t),t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=fs.T),this.updatingShop=t,this.spinner.show(),this.shopService.updateShop(t).subscribe(()=>{this.updatingShop=void 0,this.spinner.hide()}))}export(){const t=JSON.stringify(this.shops);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngAfterViewInit(){ki(this.nameinput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(500),no(),(0,xi.b)(t=>{console.log(t),this.searchConfig.name=t.target.value})).subscribe()}checkShopsImages(){this.shops.map(t=>{t.imageUrl=t.imageUrl===fs.T?"":t.imageUrl})}ngOnInit(){this.checkShopsImages()}ngOnChanges(t){this.checkShopsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Rr.d),e.Y36(Es),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops"]],viewQuery:function(t,c){if(1&t&&e.Gf(nh,5),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first)}},inputs:{shops:"shops"},outputs:{onShopSortEmitter:"onShopSortEmitter"},features:[e.TTD],decls:23,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","4"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return c.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return c.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th"),e._uU(16,"URL imatge"),e.qZA(),e.TgZ(17,"th"),e._uU(18,"Imatge"),e.qZA(),e.TgZ(19,"th"),e._UZ(20,"i",8),e.qZA()()(),e.TgZ(21,"tbody"),e.YNc(22,af,2,1,"ng-container",9),e.qZA()()()),2&t&&(e.xp6(22),e.Q6J("ngForOf",c.shops))},directives:[p.sg,p.O5,mn,Si,eo],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();const rh=["nameinput"],ih=["brandinput"],hd=["createdbyinput"];function Tp(r,i){if(1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw(2).$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.createdOn,"dd.MM.yyyy - HH:mm"))}}function Ep(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",17),e.NdJ("click",function(){e.CHM(t);const h=e.oxw(2).$implicit;return e.oxw().updateProduct(h)}),e.qZA()}}function Dp(r,i){1&r&&e._UZ(0,"i",18)}function Em(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td")(3,"input",13),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.name=h}),e.qZA()(),e.TgZ(4,"td")(5,"input",13),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.brand=h}),e.qZA()(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td"),e.YNc(9,Tp,3,4,"span",12),e.qZA(),e.TgZ(10,"td")(11,"input",13),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().$implicit.imageUrl=h}),e.qZA()(),e.TgZ(12,"td"),e._UZ(13,"img",14),e.qZA(),e.TgZ(14,"td"),e.YNc(15,Ep,1,0,"i",15),e.YNc(16,Dp,1,0,"i",16),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw();e.xp6(3),e.Q6J("value",t.name)("ngModel",t.name),e.xp6(2),e.Q6J("value",t.brand)("ngModel",t.brand),e.xp6(2),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.createdOn),e.xp6(2),e.Q6J("value",t.imageUrl)("ngModel",t.imageUrl),e.xp6(2),e.Q6J("src",t.imageUrl.length>0?t.imageUrl:c.DEFAULT_IMAGE_URL,e.LSH),e.xp6(2),e.Q6J("ngIf",!c.updatingProduct||c.updatingProduct.id!==t.id),e.xp6(1),e.Q6J("ngIf",c.updatingProduct&&c.updatingProduct.id===t.id)}}function cf(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Em,17,11,"ng-container",12),e.BQk()),2&r){const t=i.$implicit,c=e.oxw();e.xp6(1),e.Q6J("ngIf",c.matchesSearch(t))}}let fd=(()=>{class r{constructor(t,c,h){this.productService=t,this.spinner=c,this.translateService=h,this.products=[],this.onProductSortEmitter=new e.vpe,this.DEFAULT_IMAGE_URL=fs.T,this.sortBy="name",this.sortDir="ASC",this.searchConfig={name:"",brand:"",createdBy:""}}matchesSearch(t){if(0===this.searchConfig.name.length&&0===this.searchConfig.brand.length&&0===this.searchConfig.createdBy.length)return!0;{const c=this.searchConfig.name.length>0&&t.name.toUpperCase().indexOf(this.searchConfig.name.toUpperCase())>-1,h=this.searchConfig.brand.length>0&&t.brand.toUpperCase().indexOf(this.searchConfig.brand.toUpperCase())>-1,_=t.createdBy&&this.searchConfig.createdBy.length>0&&(t.createdBy.username.length>0&&t.createdBy.username.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1||t.createdBy.email.length>0&&t.createdBy.email.toUpperCase().indexOf(this.searchConfig.createdBy.toUpperCase())>-1);return c||h||_}}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}updateProduct(t){console.log("updateProduct()",t),t.brand.length>0&&t.name.length>0&&(0===t.imageUrl.length&&(t.imageUrl=fs.T),this.updatingProduct=t,this.spinner.show(),this.productService.updateProduct(t,!0).subscribe(()=>{this.updatingProduct=void 0,this.spinner.hide()}))}checkProductsImages(){this.products.map(t=>{t.imageUrl=t.imageUrl===fs.T?"":t.imageUrl})}export(){const t=JSON.stringify(this.products);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnInit(){this.checkProductsImages()}ngAfterViewInit(){ki(this.nameinput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(500),no(),(0,xi.b)(t=>{this.searchConfig.name=t.target.value})).subscribe(),ki(this.brandinput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(500),no(),(0,xi.b)(t=>{this.searchConfig.brand=t.target.value})).subscribe(),ki(this.createdbyinput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(500),no(),(0,xi.b)(t=>{this.searchConfig.createdBy=t.target.value})).subscribe()}ngOnChanges(t){this.checkProductsImages()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Tr.M),e.Y36(Es),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-products"]],viewQuery:function(t,c){if(1&t&&(e.Gf(rh,5),e.Gf(ih,5),e.Gf(hd,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.nameinput=h.first),e.iGM(h=e.CRH())&&(c.brandinput=h.first),e.iGM(h=e.CRH())&&(c.createdbyinput=h.first)}},inputs:{products:"products"},outputs:{onProductSortEmitter:"onProductSortEmitter"},features:[e.TTD],decls:37,vars:1,consts:[[1,"d-flex","flex-column","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","7"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"form-control"],["nameinput",""],["brandinput",""],["createdbyinput",""],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[4,"ngIf"],["type","text",1,"form-control",3,"value","ngModel","ngModelChange"],[1,"",3,"src"],["class","fas fa-floppy-disk cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-floppy-disk","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return c.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return c.sort("name")}),e._uU(11,"Nom"),e.qZA(),e._UZ(12,"br")(13,"input",6,7),e.qZA(),e.TgZ(15,"th")(16,"span",5),e.NdJ("click",function(){return c.sort("brand")}),e._uU(17,"Marca"),e.qZA(),e._UZ(18,"br")(19,"input",6,8),e.qZA(),e.TgZ(21,"th"),e._uU(22,"Creat per"),e._UZ(23,"br")(24,"input",6,9),e.qZA(),e.TgZ(26,"th")(27,"span",5),e.NdJ("click",function(){return c.sort("createdOn")}),e._uU(28,"Data creaci\xf3"),e.qZA()(),e.TgZ(29,"th"),e._uU(30,"URL imatge"),e.qZA(),e.TgZ(31,"th"),e._uU(32,"Imatge"),e.qZA(),e.TgZ(33,"th"),e._UZ(34,"i",10),e.qZA()()(),e.TgZ(35,"tbody"),e.YNc(36,cf,2,1,"ng-container",11),e.qZA()()()),2&t&&(e.xp6(36),e.Q6J("ngForOf",c.products))},directives:[p.sg,p.O5,mn,Si,eo],pipes:[p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}"]}),r})();function Sp(r,i){if(1&r&&(e.TgZ(0,"div",10),e._uU(1),e.ALo(2,"date"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Oqu(e.xi3(2,1,t.updateDate,"dd.MM.yyyy - HH:mm"))}}function lf(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"i",14),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw().removeShopProduct(h)}),e.qZA()}}function Dm(r,i){1&r&&e._UZ(0,"i",15)}function ho(r,i){if(1&r&&(e.ynx(0)(1),e.TgZ(2,"tr")(3,"td"),e._uU(4),e.TgZ(5,"span",8),e._uU(6),e.qZA()(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td",9)(10,"div",10),e._uU(11),e.ALo(12,"number"),e.qZA()(),e.TgZ(13,"td")(14,"div",10),e._uU(15),e.qZA()(),e.TgZ(16,"td"),e.YNc(17,Sp,3,4,"div",11),e.qZA(),e.TgZ(18,"td"),e.YNc(19,lf,1,0,"i",12),e.YNc(20,Dm,1,0,"i",13),e.qZA()(),e.BQk()()),2&r){const t=i.$implicit,c=e.oxw();let h,_,O;e.xp6(4),e.Oqu(null==(h=c.getProduct(t.productBarcode))?null:h.name),e.xp6(2),e.hij("(",null==(_=c.getProduct(t.productBarcode))?null:_.brand,")"),e.xp6(2),e.Oqu(null==(O=c.getShop(t.shopId))?null:O.name),e.xp6(3),e.hij("",e.xi3(12,8,t.price,"1.2-2")," \u20ac"),e.xp6(4),e.Oqu((null==t.createdBy?null:t.createdBy.username)||(null==t.createdBy?null:t.createdBy.email)),e.xp6(2),e.Q6J("ngIf",t.updateDate),e.xp6(2),e.Q6J("ngIf",!c.updatingShopProduct||c.updatingShopProduct.id!=c.updatingShopProduct.id),e.xp6(1),e.Q6J("ngIf",c.updatingShopProduct&&c.updatingShopProduct.id==c.updatingShopProduct.id)}}let uf=(()=>{class r{constructor(t,c){this.shopProductService=t,this.translateService=c,this.products=[],this.shops=[],this.shopsProducts=[],this.onShopProductSortEmitter=new e.vpe,this.sortBy="updateDate",this.sortDir="ASC"}getShop(t){return this.shops.find(c=>t===c.id)}getProduct(t){return this.products.find(c=>t===c.barcode)}removeShopProduct(t){this.shopProductService.removeShopProduct(t).subscribe(()=>{})}sort(t){this.sortDir=t!==this.sortBy||"ASC"===this.sortDir?"DESC":"ASC",this.sortBy=t,this.onShopProductSortEmitter.emit({sortBy:this.sortBy,sortDir:this.sortDir})}export(){const t=JSON.stringify(this.shopsProducts);navigator.clipboard.writeText(t),alert(this.translateService.instant("commons.copiedToClipboard"))}ngOnChanges(t){var c;(null===(c=null==t?void 0:t.products)||void 0===c?void 0:c.firstChange)&&this.sort("updateDate")}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ho),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-shops-products"]],inputs:{products:"products",shops:"shops",shopsProducts:"shopsProducts"},outputs:{onShopProductSortEmitter:"onShopProductSortEmitter"},features:[e.TTD],decls:28,vars:1,consts:[[1,"d-flex","w-100"],[1,"table","table-sm","table-hover","w-100"],["colspan","6"],[1,"btn","btn-secondary","btn-sm","m-1","w-100",3,"click"],[1,"fas","fa-file-export","me-2"],[1,"cursor-pointer",3,"click"],[1,"fas","fa-floppy-disk"],[4,"ngFor","ngForOf"],[1,"brand","ms-2"],[1,"text-end"],[1,"nowrap"],["class","nowrap",4,"ngIf"],["class","fas fa-trash cursor-pointer",3,"click",4,"ngIf"],["class","fas fa-spinner fa-spin",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer",3,"click"],[1,"fas","fa-spinner","fa-spin"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"table",1)(2,"thead")(3,"tr")(4,"th",2)(5,"button",3),e.NdJ("click",function(){return c.export()}),e._UZ(6,"i",4),e._uU(7,"Exportar"),e.qZA()()(),e.TgZ(8,"tr")(9,"th")(10,"span",5),e.NdJ("click",function(){return c.sort("product")}),e._uU(11,"Producte"),e.qZA()(),e.TgZ(12,"th")(13,"span",5),e.NdJ("click",function(){return c.sort("shop")}),e._uU(14,"Botiga"),e.qZA()(),e.TgZ(15,"th")(16,"span"),e._uU(17,"Preu"),e.qZA()(),e.TgZ(18,"th")(19,"span"),e._uU(20,"Afegit per"),e.qZA()(),e.TgZ(21,"th")(22,"span",5),e.NdJ("click",function(){return c.sort("updateDate")}),e._uU(23,"Data"),e.qZA()(),e.TgZ(24,"th"),e._UZ(25,"i",6),e.qZA()()(),e.TgZ(26,"tbody"),e.YNc(27,ho,21,11,"ng-container",7),e.qZA()()()),2&t&&(e.xp6(27),e.Q6J("ngForOf",c.shopsProducts))},directives:[p.sg,p.O5],pipes:[p.JJ,p.uU],styles:["img[_ngcontent-%COMP%]{width:20px;max-height:50px}table[_ngcontent-%COMP%]{font-size:9pt;background-color:#fff}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{position:sticky;top:0px;background-color:#fff;border-bottom:1px solid #ccc}table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding-left:10px;padding-right:10px;vertical-align:middle}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   span.brand[_ngcontent-%COMP%]{font-size:9pt}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%]{font-size:18pt}.form-control[_ngcontent-%COMP%]{font-size:10pt}.nowrap[_ngcontent-%COMP%]{white-space:nowrap}"]}),r})();function Sm(r,i){if(1&r&&(e.TgZ(0,"div",9),e._UZ(1,"app-backoffice-dashboard",10),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function qo(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops",11),e.NdJ("onShopSortEmitter",function(h){return e.CHM(t),e.oxw().sortShops(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("shops",t.shops)}}function oh(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-products",12),e.NdJ("onProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)}}function xp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",9)(1,"app-backoffice-shops-products",13),e.NdJ("onShopProductSortEmitter",function(h){return e.CHM(t),e.oxw().sortShopsProducts(h)}),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("products",t.products)("shops",t.shops)("shopsProducts",t.shopsProducts)}}const ml=function(r){return{active:r}};let wc=(()=>{class r{constructor(t){this.loginService=t,this.selectedTab=0,this.shops=[],this.products=[],this.shopsProducts=[],this.cloudMode=En.q.cloudMode,this.users=[]}sortProducts(t){console.log("sortProducts()",t),t&&(this.products=this.products.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShops(t){console.log("sortShops()",t),t&&(this.shops=this.shops.sort((c,h)=>"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1))}sortShopsProducts(t){console.log("sortShopsProducts()",t),t&&(this.shopsProducts=this.shopsProducts.sort((c,h)=>{if("shop"===t.sortBy){const _=this.shops.find(z=>z.id===c.shopId).name.toString().toUpperCase(),O=this.shops.find(z=>z.id===h.shopId).name.toString().toUpperCase();return"DESC"===t.sortDir?_>O?-1:1:_>O?1:-1}if("product"===t.sortBy){const _=this.products.find(z=>z.barcode===c.productBarcode).name.toString().toUpperCase(),O=this.products.find(z=>z.barcode===h.productBarcode).name.toString().toUpperCase();return"DESC"===t.sortDir?_>O?-1:1:_>O?1:-1}return"DESC"===t.sortDir?(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?-1:1:(c[t.sortBy]?c[t.sortBy]:"").toString().toUpperCase()>(h[t.sortBy]?h[t.sortBy]:"").toString().toUpperCase()?1:-1}))}refreshUsers(){let t=[this.loginService.getLoggedUser()];this.shops.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.products.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email&&h.username===c.createdBy.username)&&t.push(c.createdBy)}),this.shopsProducts.forEach(c=>{c.createdBy&&!t.find(h=>h.email===c.createdBy.email)&&t.push(c.createdBy)}),this.users=t}ngOnInit(){}ngOnChanges(t){this.refreshUsers()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-backoffice-layout"]],inputs:{shops:"shops",products:"products",shopsProducts:"shopsProducts"},features:[e.TTD],decls:33,vars:29,consts:[[1,"d-flex","flex-column","w-100"],[1,"d-flex","justify-content-between","w-100","ps-2"],[1,"nav","nav-tabs","ml-auto"],[1,"nav-item"],["href","javascript://",1,"nav-link",3,"ngClass","click"],[1,"nav-item","ms-auto"],[1,"ms-1"],[1,"tab-content"],["class","tab-pane d-flex w-100",4,"ngIf"],[1,"tab-pane","d-flex","w-100"],[3,"shops","products","shopsProducts"],[1,"w-100",3,"shops","onShopSortEmitter"],[1,"w-100",3,"products","onProductSortEmitter"],[1,"w-100",3,"products","shops","shopsProducts","onShopProductSortEmitter"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h3"),e._uU(3,"Backoffice "),e.TgZ(4,"small"),e._uU(5),e.qZA()()(),e.TgZ(6,"ul",2)(7,"li",3)(8,"a",4),e.NdJ("click",function(){return c.selectedTab=0}),e._uU(9,"Dashboard"),e.qZA()(),e.TgZ(10,"li",5)(11,"a",4),e.NdJ("click",function(){return c.selectedTab=1}),e._uU(12,"Botigues "),e.TgZ(13,"small",6),e._uU(14),e.ALo(15,"number"),e.qZA()()(),e.TgZ(16,"li",3)(17,"a",4),e.NdJ("click",function(){return c.selectedTab=2}),e._uU(18,"Productes "),e.TgZ(19,"small",6),e._uU(20),e.ALo(21,"number"),e.qZA()()(),e.TgZ(22,"li",3)(23,"a",4),e.NdJ("click",function(){return c.selectedTab=3}),e._uU(24,"Preus"),e.TgZ(25,"small",6),e._uU(26),e.ALo(27,"number"),e.qZA()()()(),e.TgZ(28,"div",7),e.YNc(29,Sm,2,3,"div",8),e.YNc(30,qo,2,1,"div",8),e.YNc(31,oh,2,1,"div",8),e.YNc(32,xp,2,3,"div",8),e.qZA()()),2&t&&(e.xp6(5),e.hij("(Cloud mode: ",c.cloudMode,")"),e.xp6(3),e.Q6J("ngClass",e.VKq(21,ml,0===c.selectedTab)),e.xp6(3),e.Q6J("ngClass",e.VKq(23,ml,1===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(15,12,c.shops.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(25,ml,2===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(21,15,c.products.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngClass",e.VKq(27,ml,3===c.selectedTab)),e.xp6(3),e.hij("(",e.xi3(27,18,null==c.shopsProducts?null:c.shopsProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.Q6J("ngIf",2===c.selectedTab),e.xp6(1),e.Q6J("ngIf",3===c.selectedTab))},directives:[p.mk,p.O5,Qd,Pu,fd,uf],pipes:[p.JJ],styles:[".tab-content[_ngcontent-%COMP%]{height:calc(100vh - 80px)!important;overflow:auto}small[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();const df=["appLayout"];function Ap(r,i){if(1&r&&(e.TgZ(0,"div",38),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.hij(" ",e.xi3(2,1,t.cartItemCount,"1.0-2")," ")}}function sh(r,i){1&r&&e._UZ(0,"i",39)}function xm(r,i){if(1&r&&e._UZ(0,"img",40),2&r){const t=e.oxw(4);e.Q6J("src",t.loggedUser.photoURL,e.LSH)}}function Ou(r,i){if(1&r&&(e.TgZ(0,"small",21),e._uU(1),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(null==t.loggedUser?null:t.loggedUser.email)}}function Ns(r,i){if(1&r&&(e.TgZ(0,"div",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(4);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}function hf(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li"),e._UZ(2,"hr",36),e.qZA(),e.TgZ(3,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(4).toggleExport()}),e.TgZ(4,"div",24),e._UZ(5,"i",42),e.TgZ(6,"a",26),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()}2&r&&(e.xp6(7),e.Oqu(e.lcZ(8,1,"menu.export")))}const Ip=function(r){return{disabled:r}},Mu=function(){return["/shoppingCart"]},ps=function(){return["/search-shops"]},pd=function(){return["/search-products"]},ah=function(r){return{disabled:r}},Pp=function(){return["/alerts"]},Op=function(){return["/statistics"]};function Mp(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",8)(2,"button",9),e._UZ(3,"i",10),e.qZA(),e.YNc(4,Ap,3,4,"div",11),e.qZA(),e.TgZ(5,"div",12)(6,"button",13),e._UZ(7,"i",14),e.qZA(),e.TgZ(8,"ul",15)(9,"li",16),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToUserDetail()}),e.TgZ(10,"div",17)(11,"div"),e.YNc(12,sh,1,0,"i",18),e.YNc(13,xm,1,1,"img",19),e.qZA(),e.TgZ(14,"div",20)(15,"span",21),e._uU(16),e.qZA(),e.YNc(17,Ou,2,1,"small",22),e.qZA()()(),e.TgZ(18,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).goToHome()}),e.TgZ(19,"div",24),e._UZ(20,"i",25),e.TgZ(21,"a",26),e._uU(22),e.ALo(23,"translate"),e.qZA()()(),e.TgZ(24,"li",27)(25,"div",24),e._UZ(26,"i",28),e.TgZ(27,"a",29),e._uU(28),e.ALo(29,"translate"),e.TgZ(30,"small",30),e._uU(31),e.ALo(32,"number"),e.qZA()()()(),e.TgZ(33,"li",27)(34,"div",24),e._UZ(35,"i",31),e.TgZ(36,"a",29),e._uU(37),e.ALo(38,"translate"),e.TgZ(39,"small",30),e._uU(40),e.ALo(41,"number"),e.qZA()()()(),e.TgZ(42,"li",32)(43,"div",24),e._UZ(44,"i",33),e.TgZ(45,"a",29),e._uU(46),e.ALo(47,"translate"),e.qZA(),e.YNc(48,Ns,3,4,"div",34),e.qZA()(),e.TgZ(49,"li",27)(50,"div",24),e._UZ(51,"i",35),e.TgZ(52,"a",29),e._uU(53),e.ALo(54,"translate"),e.qZA()()(),e.YNc(55,hf,9,3,"ng-container",0),e.TgZ(56,"li"),e._UZ(57,"hr",36),e.qZA(),e.TgZ(58,"li",23),e.NdJ("click",function(){return e.CHM(t),e.oxw(3).logout()}),e.TgZ(59,"div",24),e._UZ(60,"i",37),e.TgZ(61,"a",26),e._uU(62),e.ALo(63,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngClass",e.VKq(40,Ip,!((null==t.cartConfig||null==t.cartConfig.items?null:t.cartConfig.items.length)>0)))("routerLink",e.DdM(42,Mu)),e.xp6(2),e.Q6J("ngIf",t.cartItemCount),e.xp6(8),e.Q6J("ngIf",!t.loggedUser.photoURL),e.xp6(1),e.Q6J("ngIf",t.loggedUser.photoURL),e.xp6(3),e.Oqu((null==t.loggedUser||null==t.loggedUser.username?null:t.loggedUser.username.length)>0?null==t.loggedUser?null:t.loggedUser.username:null==t.loggedUser?null:t.loggedUser.email.substr(0,null==t.loggedUser?null:t.loggedUser.email.indexOf("@"))),e.xp6(1),e.Q6J("ngIf",null==t.loggedUser?null:t.loggedUser.username),e.xp6(5),e.Oqu(e.lcZ(23,22,"menu.home")),e.xp6(5),e.Q6J("routerLink",e.DdM(43,ps)),e.xp6(1),e.Oqu(e.lcZ(29,24,"menu.shops")),e.xp6(3),e.hij("(",e.xi3(32,26,null==t.shops?null:t.shops.length,"1.0-2"),")"),e.xp6(5),e.Q6J("routerLink",e.DdM(44,pd)),e.xp6(1),e.Oqu(e.lcZ(38,29,"menu.products")),e.xp6(3),e.hij("(",e.xi3(41,31,null==t.products?null:t.products.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngClass",e.VKq(45,ah,0===t.alerts)),e.xp6(3),e.Q6J("routerLink",e.DdM(47,Pp)),e.xp6(1),e.Oqu(e.lcZ(47,34,"menu.alerts")),e.xp6(2),e.Q6J("ngIf",t.alerts_unread>0),e.xp6(4),e.Q6J("routerLink",e.DdM(48,Op)),e.xp6(1),e.Oqu(e.lcZ(54,36,"menu.analysis")),e.xp6(2),e.Q6J("ngIf",!t.APP_CONFIG.cloudMode&&(null==t.loggedUser?null:t.loggedUser.admin)),e.xp6(7),e.Oqu(e.lcZ(63,38,"menu.exit"))}}function Np(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",4)(1,"div",5)(2,"h3",6),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).goToHome()}),e._UZ(3,"i",7),e.TgZ(4,"span"),e._uU(5,"Proddle"),e.qZA()(),e.YNc(6,Mp,64,49,"ng-container",0),e.qZA(),e._UZ(7,"router-outlet"),e.qZA()}if(2&r){const t=e.oxw(2);e.xp6(6),e.Q6J("ngIf",t.loggedUser&&t.shopsLoaded&&t.productsLoaded&&t.shopsProductsLoaded)}}function Rp(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",43),e._UZ(2,"app-backoffice-layout",44),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("shops",t.shops)("products",t.products)("shopsProducts",t.shopsProducts)}}function Am(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",2),e.YNc(2,Np,8,1,"div",3),e.YNc(3,Rp,3,3,"ng-container",0),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.backofficeMode),e.xp6(1),e.Q6J("ngIf",t.backofficeMode)}}let $l=(()=>{class r{constructor(t,c,h,_,O,z,J,De,tt,Ut,Gt){this.router=t,this.shopService=c,this.productService=h,this.shopProductService=_,this.loginService=O,this.shoppingCartService=z,this.spinner=J,this.translate=De,this.translationsService=tt,this.firestoreAuthService=Ut,this.alertService=Gt,this.APP_CONFIG=En.q,this.doExport=!1,this.backofficeMode=!1,this.translationsLoaded=!1,this.shopsLoaded=!1,this.productsLoaded=!1,this.shopsProductsLoaded=!1,this.alerts=0,this.alerts_unread=0,this.translate.setDefaultLang(En.q.defaultLanguage),console.log("Loading translations"),this.translationsService.loadTranslations().subscribe(()=>{let Jt=localStorage.getItem(Rn.M.PS_APP_LANGUAGE);Jt?this.translate.use(Jt):(this.translate.use(En.q.defaultLanguage),localStorage.setItem(Rn.M.PS_APP_LANGUAGE,En.q.defaultLanguage)),this.translationsLoaded=!0,console.log("Using language: "+localStorage.getItem(Rn.M.PS_APP_LANGUAGE)),console.log("Removing localStorage necessary data"),localStorage.removeItem(Rn.M.PS_LAST_SHOP_ID),localStorage.removeItem(Rn.M.PS_SHOPS_SEARCH_TEXT),localStorage.removeItem(Rn.M.PS_PRODUCTS_SEARCH_TEXT)})}onResize(t){this.checkBackofficeMode()}goToHome(){this.router.navigate([""])}goToUserDetail(){this.router.navigate(["user"])}toggleExport(){this.copyToClipboard()}copyToClipboard(){const t=JSON.stringify(this.shops)+""+JSON.stringify(this.products)+JSON.stringify(this.shopsProducts),c=document.createElement("textarea");c.style.position="fixed",c.style.left="0",c.style.top="0",c.style.opacity="0",c.value=t,document.body.appendChild(c),c.focus(),c.select(),document.execCommand("copy"),document.body.removeChild(c),alert("Dades copiades al porta papers!")}logout(){this.loginService.logout(),this.firestoreAuthService.logout(),this.router.navigate(["login"])}checkBackofficeMode(){var t;this.backofficeMode=!!(null===(t=this.loggedUser)||void 0===t?void 0:t.admin)&&window.innerWidth>568}calcCartItems(){var t;if(null===(t=this.cartConfig)||void 0===t?void 0:t.items){let c=0;this.cartConfig.items.forEach(h=>{h.productsUnits.forEach(_=>{c+=_.units})}),this.cartItemCount=c}}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?1:-1)}),this.shopService.loadShops().subscribe(()=>{this.shopsLoaded=this.shopService._shops&&this.shopService._shops.length>0}),this.productService.loadProducts().subscribe(()=>{this.productsLoaded=this.productService._products&&this.productService._products.length>0}),this.shopProductService.loadShopsProducts().subscribe(()=>{this.shopsProductsLoaded=this.shopProductService._shopsProducts&&this.shopProductService._shopsProducts.length>0}),setTimeout(()=>{this.shoppingCartService.loadShoppingCart(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calcCartItems()}),this.shoppingCartService.buildCartConfig()},5e3),this.loggedUser=this.loginService.getLoggedUser(),this.loginService.user.subscribe(t=>{this.loggedUser=t,this.loggedUser&&(this.loggedUser.admin=this.loginService.checkIsAdmin(this.loggedUser))}),this.alertService.userAlerts.subscribe(t=>{console.log("userAlerts changed",t),this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),this.checkBackofficeMode(),this.spinner.hide()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Rr.d),e.Y36(Tr.M),e.Y36(Ho),e.Y36($r.r),e.Y36(ad),e.Y36(Es),e.Y36(Uo),e.Y36(Jd),e.Y36(Wl),e.Y36(pl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["my-app"]],viewQuery:function(t,c){if(1&t&&e.Gf(df,5),2&t){let h;e.iGM(h=e.CRH())&&(c.appLayoutComponent=h.first)}},hostBindings:function(t,c){1&t&&e.NdJ("resize",function(_){return c.onResize(_)},!1,e.Jf7)},decls:2,vars:1,consts:[[4,"ngIf"],["bdColor","rgba(0, 0, 0, 1)","type","ball-scale-multiple","size","large","template","<img src='https://i.pinimg.com/originals/f5/98/76/f59876d316abc628202df9012706d68f.gif' />"],[1,"d-flex","justify-content-center","w-100","h-100"],["class","d-flex flex-column w-100",4,"ngIf"],[1,"d-flex","flex-column","w-100"],[1,"header-container","d-flex","justify-content-around","align-items-center","w-100"],[1,"app-title","justify-content-start","align-items-center","m-0","py-3","px-1",3,"click"],[1,"fas","fa-barcode","me-0"],[1,"btn-group"],["type","button","aria-expanded","false",1,"btn","btn-lg","btn-light","shadow-none",3,"ngClass","routerLink"],["title","Cistella de la compra",1,"fas","fa-shopping-basket"],["class","badge bg-warning",4,"ngIf"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["title","Opcions",1,"fas","fa-bars"],[1,"dropdown-menu"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-2"],["class","fas fa-user me-1",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[1,"d-flex","flex-column","ps-2"],[1,"wrap"],["class","wrap",4,"ngIf"],[1,"py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"],["title","Inici",1,"fas","fa-home","me-1"],["href","javascript://",1,"dropdown-item"],[1,"py-2"],["title","Botigues",1,"fas","fa-store","me-1","text-info"],["href","javascript://",1,"dropdown-item",3,"routerLink"],[1,"ms-2"],["title","Productes",1,"fas","fa-shopping-basket","me-1","text-warning"],[1,"py-2",3,"ngClass"],["title","Alertes",1,"fas","fa-triangle-exclamation","text-danger","me-1"],["class","badge bg-danger ms-auto",4,"ngIf"],["title","Estad\xedstiques",1,"fas","fa-chart-line","me-1"],[1,"dropdown-divider"],["title","Logout",1,"fas","fa-right-from-bracket","me-1"],[1,"badge","bg-warning"],[1,"fas","fa-user","me-1"],[1,"user-photo",3,"src"],[1,"badge","bg-danger","ms-auto"],["title","Exportar dades",1,"fas","fa-file-export","me-1"],[1,"backoffice","d-flex","flex-column","h-100","w-100","p-0"],[3,"shops","products","shopsProducts"]],template:function(t,c){1&t&&(e.YNc(0,Am,4,2,"ng-container",0),e._UZ(1,"ngx-spinner",1)),2&t&&e.Q6J("ngIf",c.translationsLoaded&&c.shopsLoaded&&c.productsLoaded&&c.shopsProductsLoaded)},directives:[p.O5,p.mk,At.rH,At.yS,At.lC,wc,Gc],pipes:[p.JJ,ns],styles:[".header-container[_ngcontent-%COMP%]{border-bottom:1px solid #ddd;color:#f8f8ff;height:90px!important;background-color:#fff;border-radius:0;position:sticky;top:0;z-index:1000}.backoffice[_ngcontent-%COMP%]{max-width:1100px;min-width:500px}.content[_ngcontent-%COMP%]{flex:1 0 auto;overflow:auto}.reset[_ngcontent-%COMP%]{background-color:#fff;color:#6c757d;border-radius:25px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:20px!important;padding:5px 12px}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16pt}.btn-group[_ngcontent-%COMP%]   button.disabled[_ngcontent-%COMP%]{opacity:.2!important;pointer-events:none}.btn-group[_ngcontent-%COMP%]   .badge.bg-info[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%]   .badge.bg-warning[_ngcontent-%COMP%]{position:fixed;flex:none;top:10px;margin-left:33px;border-radius:20px;z-index:1}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none!important}.dropdown-menu[_ngcontent-%COMP%]{font-size:14pt;padding:0}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#888}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   hr[_ngcontent-%COMP%]{color:#888;height:1px}.dropdown-menu[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.3;pointer-events:none;font-style:italic}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]{background-color:#444;color:#fff;min-height:50px;display:flex;align-items:center}.dropdown-menu[_ngcontent-%COMP%]   li.user[_ngcontent-%COMP%]   .wrap[_ngcontent-%COMP%]{max-width:200px!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{border-radius:25px;font-weight:400;font-size:9pt}.dropdown-menu[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   .badge.bg-danger[_ngcontent-%COMP%]{color:#fff!important}.dropdown-menu[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#888;font-size:10pt}.export[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;height:-moz-fit-content;height:fit-content;z-index:1000;position:absolute;top:90px;visibility:hidden}.export[_ngcontent-%COMP%]   .export-content[_ngcontent-%COMP%]{background-color:#ccc;color:#333;font-size:10pt;word-break:break-word}.fa-chart-line[_ngcontent-%COMP%]{color:#5f9ea0}img.user-photo[_ngcontent-%COMP%]{max-height:40px;border-radius:25px}"]}),r})();var _l=A(520),Im=A(896),Ea=A.n(Im),Pm=A(5199),kp=A.n(Pm);const zo=["BarcodeScanner"],Lp={inputStream:{name:"Live",type:"LiveStream",target:null,constraints:{width:{min:640},height:{min:480},aspectRatio:{min:1,max:2},facingMode:"environment"},singleChannel:!1},locator:{patchSize:"medium",halfSample:!0},locate:!0,numOfWorkers:4,decoder:{readers:["code_128_reader"]}},ia=["code_128","code_39","code_39_vin","ean","ean_extended","ean_8","upc","upc_e","codabar","i2of5","2of5","code_93"];function gd(r){if(!ia.some(i=>i===r))throw new Error(`This barcode type '${r}' is not valid.`)}function ff(r){return`${r}_reader`}let pf=(()=>{class r{constructor(){this.maxWidth="100%",this._valueChanges=new ei.x,this.valueChanges=new e.vpe,this.started=new e.vpe,this._started=!1,this._destroyed=new ei.x,this._valueChanges.pipe(bi(this._destroyed),(0,Ao.h)(t=>{const c=t.codeResult.decodedCodes.filter(_=>void 0!==_.error).map(_=>_.error),h=this._getMedian(c);return!this.errorFilter||!(this.errorFilter.median&&h>this.errorFilter.median||this.errorFilter.threshold&&c.some(_=>_>this.errorFilter.threshold))})).subscribe(t=>{const c=Ea().canvas.ctx.overlay;Ea().ImageDebug.drawPath(t.line,{x:"x",y:"y"},c,{color:"red",lineWidth:3}),this.valueChanges.next(t)})}get _maxWidth(){return this.maxWidth?`${this.maxWidth}`:"auto"}get _maxHeight(){return this.maxHeight?`${this.maxHeight}`:"auto"}get isStarted(){return this._started}ngOnDestroy(){this.stop(),this._destroyed.next(!0),this._destroyed.complete()}ngOnChanges(){this.restart()}_init(){return new Promise((t,c)=>{Ea().onProcessed(h=>this.onProcessed(h)),Ea().onDetected(h=>this.onDetected(h)),this.configQuagga=kp()({},this.config,Lp),this.configQuagga.inputStream.target=this.barcodeScanner.nativeElement,this.type&&(this.configQuagga.decoder.readers=function Fp(r){return"string"==typeof r?(gd(r),[ff(r)]):r.map(i=>(gd(i),ff(i)))}(this.type)),this.deviceId&&(this.configQuagga.inputStream.constraints.deviceId=this.deviceId),Ea().init(this.configQuagga,h=>{if(h)return console.log(h),c(h);t()})})}_getMedian(t){t.sort((h,_)=>h-_);const c=Math.floor(t.length/2);return t.length%2==1?t[c]:(t[c-1]+t[c])/2}start(){return(0,ra.mG)(this,void 0,void 0,function*(){this._started||(yield this._init(),Ea().start(),this._started=!0,this.started.next(!0))})}stop(){this._started&&(Ea().stop(),this._started=!1,this.started.next(!1))}restart(){this._started&&(this.stop(),this.start())}onProcessed(t){const c=Ea().canvas.ctx.overlay,h=Ea().canvas.dom.overlay;t&&(t.boxes&&(c.clearRect(0,0,parseInt(h.getAttribute("width"),10),parseInt(h.getAttribute("height"),10)),t.boxes.filter(_=>_!==t.box).forEach(_=>{Ea().ImageDebug.drawPath(_,{x:0,y:1},c,{color:"green",lineWidth:2})})),t.box&&Ea().ImageDebug.drawPath(t.box,{x:0,y:1},c,{color:"#00F",lineWidth:2}))}onDetected(t){this._valueChanges.next(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["barcode-scanner-livestream"]],viewQuery:function(t,c){if(1&t&&e.Gf(zo,5),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first)}},inputs:{type:"type",deviceId:"deviceId",maxWidth:"maxWidth",maxHeight:"maxHeight",config:"config",errorFilter:"errorFilter"},outputs:{valueChanges:"valueChanges",started:"started"},features:[e.TTD],decls:4,vars:13,consts:[[1,"scanner",3,"hidden"],["BarcodeScanner",""],[1,"drawingBuffer"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0,1),e._UZ(2,"video")(3,"canvas",2),e.qZA()),2&t&&(e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.Q6J("hidden",!c.isStarted),e.xp6(2),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth),e.xp6(1),e.Udp("max-height",c._maxHeight)("max-width",c._maxWidth))},styles:[".scanner{position:relative}.scanner video,.scanner canvas{width:100%;height:100%}.scanner canvas.drawingBuffer{position:absolute;left:0;top:0}\n"],encapsulation:2}),r})(),Nu=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();var gf=A(515),ch=A(3532);function mf(r=0,i,t=gl.P){let c=-1;return null!=i&&((0,ch.K)(i)?t=i:c=i),new ir.y(h=>{let _=function jp(r){return r instanceof Date&&!isNaN(r)}(r)?+r-t.now():r;_<0&&(_=0);let O=0;return t.schedule(function(){h.closed||(h.next(O++),0<=c?this.schedule(void 0,c):h.complete())},_)})}const{isArray:lh}=Array;function md(r){return 1===r.length&&lh(r[0])?r[0]:r}var ja=A(9841);const vf=new ir.y(Fa.Z);function vl(...r){const i=(0,Cn.jO)(r),t=md(r);return t.length?new ir.y(c=>{let h=t.map(()=>[]),_=t.map(()=>!1);c.add(()=>{h=_=null});for(let O=0;!c.closed&&O<t.length;O++)(0,sr.Xf)(t[O]).subscribe((0,In.x)(c,z=>{if(h[O].push(z),h.every(J=>J.length)){const J=h.map(De=>De.shift());c.next(i?i(...J):J),h.some((De,tt)=>!De.length&&_[tt])&&c.complete()}},()=>{_[O]=!0,!h[O].length&&c.complete()}));return()=>{h=_=null}}):gf.E}var oa=A(8675);function kt(...r){const i=(0,Cn.jO)(r);return(0,Lc.e)((t,c)=>{const h=r.length,_=new Array(h);let O=r.map(()=>!1),z=!1;for(let J=0;J<h;J++)(0,sr.Xf)(r[J]).subscribe((0,In.x)(c,De=>{_[J]=De,!z&&!O[J]&&(O[J]=!0,(z=O.every(Iu.y))&&(O=null))},Fa.Z));t.subscribe((0,In.x)(c,J=>{if(z){const De=[J,..._];c.next(i?i(...De):De)}}))})}Math,Math,Math;const Jp=["*"];function Yp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",6),e.NdJ("click",function(){const _=e.CHM(t).$implicit,O=e.oxw();return O.focus(),O.select(_.id,O.NgbSlideEventSource.INDICATOR)}),e.qZA()}if(2&r){const t=i.$implicit,c=e.oxw();e.ekj("active",t.id===c.activeId),e.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===c.activeId)}}function Sl(r,i){}function Qp(r,i){if(1&r&&(e.TgZ(0,"div",7)(1,"span",8),e.SDv(2,9),e.qZA(),e.YNc(3,Sl,0,0,"ng-template",10),e.qZA()),2&r){const t=i.$implicit,c=i.index,h=i.count;e.Q6J("id","slide-"+t.id),e.xp6(2),e.pQV(c+1)(h),e.QtT(2),e.xp6(1),e.Q6J("ngTemplateOutlet",t.tplRef)}}function Xp(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowLeft()}),e._UZ(1,"span",12),e.TgZ(2,"span",8),e.SDv(3,13),e.qZA()()}}function Dd(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"a",14),e.NdJ("click",function(){return e.CHM(t),e.oxw().arrowRight()}),e._UZ(1,"span",15),e.TgZ(2,"span",8),e.SDv(3,16),e.qZA()()}}const qm=["dialog"];function Al(r){return null!=r}function Nd(r){return(r||document.body).getBoundingClientRect()}"undefined"!=typeof Element&&!Element.prototype.closest&&(Element.prototype.closest=function(r){let i=this;if(!document.documentElement.contains(i))return null;do{if(i.matches(r))return i;i=i.parentElement||i.parentNode}while(null!==i&&1===i.nodeType);return null});const Nh={animation:!0,transitionTimerDelayMs:5},Bf=()=>{},{transitionTimerDelayMs:Wu}=Nh,Rd=new Map,Ls=(r,i,t,c)=>{let h=c.context||{};const _=Rd.get(i);if(_)switch(c.runningTransition){case"continue":return gf.E;case"stop":r.run(()=>_.transition$.complete()),h=Object.assign(_.context,h),Rd.delete(i)}const O=t(i,c.animation,h)||Bf;if(!c.animation||"none"===window.getComputedStyle(i).transitionProperty)return r.run(()=>O()),(0,lr.of)(void 0).pipe(function qa(r){return i=>new ir.y(t=>i.subscribe({next:O=>r.run(()=>t.next(O)),error:O=>r.run(()=>t.error(O)),complete:()=>r.run(()=>t.complete())}))}(r));const z=new ei.x,J=new ei.x,De=z.pipe(function Gp(...r){return i=>(0,U.z)(i,(0,lr.of)(...r))}(!0));Rd.set(i,{transition$:z,complete:()=>{J.next(),J.complete()},context:h});const tt=function Ff(r){const{transitionDelay:i,transitionDuration:t}=window.getComputedStyle(r);return 1e3*(parseFloat(i)+parseFloat(t))}(i);return r.runOutsideAngular(()=>{const Ut=ki(i,"transitionend").pipe(bi(De),(0,Ao.h)(({target:Jt})=>Jt===i));(function _f(...r){return 1===(r=md(r)).length?(0,sr.Xf)(r[0]):new ir.y(function Zc(r){return i=>{let t=[];for(let c=0;t&&!i.closed&&c<r.length;c++)t.push((0,sr.Xf)(r[c]).subscribe((0,In.x)(i,h=>{if(t){for(let _=0;_<t.length;_++)_!==c&&t[_].unsubscribe();t=null}i.next(h)})))}}(r))})(mf(tt+Wu).pipe(bi(De)),Ut,J).pipe(bi(De)).subscribe(()=>{Rd.delete(i),r.run(()=>{O(),z.next(),z.complete()})})}),z.asObservable()};let Rh=(()=>{class r{constructor(){this.animation=Nh.animation}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),y0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),jf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Hf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var Kc=(()=>{return(r=Kc||(Kc={})).START="start",r.END="end",Kc;var r})();const f_=({classList:r})=>r.contains("carousel-item-start")||r.contains("carousel-item-end"),Lh=r=>{r.remove("carousel-item-start"),r.remove("carousel-item-end")},Zf=r=>{Lh(r),r.remove("carousel-item-prev"),r.remove("carousel-item-next")},Ng=(r,i,{direction:t})=>{const{classList:c}=r;return i?(f_(r)?Lh(c):(c.add("carousel-item-"+(t===Kc.START?"next":"prev")),Nd(r),c.add("carousel-item-"+t)),()=>{Zf(c),c.add("active")}):(Lh(c),Zf(c),void c.add("active"))},p_=(r,i,{direction:t})=>{const{classList:c}=r;return i?(f_(r)?Lh(c):c.add("carousel-item-"+t),()=>{Zf(c),c.remove("active")}):(Lh(c),Zf(c),void c.remove("active"))};let Fh=(()=>{class r{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Rh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),qf=0,ou=(()=>{class r{constructor(t){this.tplRef=t,this.id="ngb-slide-"+qf++,this.slid=new e.vpe}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.Rgc))},r.\u0275dir=e.lG2({type:r,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"}}),r})(),g_=(()=>{class r{constructor(t,c,h,_,O){this._platformId=c,this._ngZone=h,this._cd=_,this._container=O,this.NgbSlideEventSource=Ic,this._destroy$=new ei.x,this._interval$=new Ln.X(0),this._mouseHover$=new Ln.X(!1),this._focused$=new Ln.X(!1),this._pauseOnHover$=new Ln.X(!1),this._pauseOnFocus$=new Ln.X(!1),this._pause$=new Ln.X(!1),this._wrap$=new Ln.X(!1),this.slide=new e.vpe,this.slid=new e.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Ic.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Ic.ARROW_RIGHT)}ngAfterContentInit(){(0,p.NF)(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=(0,ja.a)([this.slide.pipe((0,ln.U)(c=>c.current),(0,oa.O)(this.activeId)),this._wrap$,this.slides.changes.pipe((0,oa.O)(null))]).pipe((0,ln.U)(([c,h])=>{const _=this.slides.toArray(),O=this._getSlideIdxById(c);return h?_.length>1:O<_.length-1}),no());(0,ja.a)([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,ln.U)(([c,h,_,O,z,J,De])=>c||h&&_||O&&z||!De?0:J),no(),(0,mr.w)(c=>c>0?mf(c,c):vf),bi(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Ic.TIMER)))}),this.slides.changes.pipe(bi(this._destroy$)).subscribe(()=>{var t;null===(t=this._transitionIds)||void 0===t||t.forEach(c=>(r=>{var i;null===(i=Rd.get(r))||void 0===i||i.complete()})(this._getSlideElement(c))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe((0,ae.q)(1)).subscribe(()=>{for(const{id:c}of this.slides){const h=this._getSlideElement(c);c===this.activeId?h.classList.add("active"):h.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,c){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),c)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Kc.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Kc.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,c,h){const _=this._transitionIds;if(_&&(_[0]!==t||_[1]!==this.activeId))return;let O=this._getSlideById(t);if(O&&O.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:O.id,direction:c,paused:this._pause$.value,source:h});const z={animation:this.animation,runningTransition:"stop",context:{direction:c}},J=[],De=this._getSlideById(this.activeId);if(De){const Jt=Ls(this._ngZone,this._getSlideElement(De.id),p_,z);Jt.subscribe(()=>{De.slid.emit({isShown:!1,direction:c,source:h})}),J.push(Jt)}const tt=this.activeId;this.activeId=O.id;const Ut=this._getSlideById(this.activeId),Gt=Ls(this._ngZone,this._getSlideElement(O.id),Ng,z);Gt.subscribe(()=>{null==Ut||Ut.slid.emit({isShown:!0,direction:c,source:h})}),J.push(Gt),vl(...J).pipe((0,ae.q)(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:tt,current:O.id,direction:c,paused:this._pause$.value,source:h})})}this._cd.markForCheck()}_getSlideEventDirection(t,c){return this._getSlideIdxById(t)>this._getSlideIdxById(c)?Kc.END:Kc.START}_getSlideById(t){return this.slides.find(c=>c.id===t)||null}_getSlideIdxById(t){const c=this._getSlideById(t);return null!=c?this.slides.toArray().indexOf(c):-1}_getNextSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return h===c.length-1?this.wrap?c[0].id:c[c.length-1].id:c[h+1].id}_getPrevSlide(t){const c=this.slides.toArray(),h=this._getSlideIdxById(t);return 0===h?this.wrap?c[c.length-1].id:c[0].id:c[h-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Fh),e.Y36(e.Lbi),e.Y36(e.R0b),e.Y36(e.sBO),e.Y36(e.SBq))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-carousel"]],contentQueries:function(t,c,h){if(1&t&&e.Suo(h,ou,4),2&t){let _;e.iGM(_=e.CRH())&&(c.slides=_)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,c){1&t&&e.NdJ("keydown.arrowLeft",function(){return c.keyboard&&c.arrowLeft()})("keydown.arrowRight",function(){return c.keyboard&&c.arrowRight()})("mouseenter",function(){return c.mouseHover=!0})("mouseleave",function(){return c.mouseHover=!1})("focusin",function(){return c.focused=!0})("focusout",function(){return c.focused=!1}),2&t&&(e.uIk("aria-activedescendant","slide-"+c.activeId),e.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],decls:6,vars:6,consts:function(){let i,t,c;return i=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,c=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","role","button",3,"click",4,"ngIf"],["class","carousel-control-next","role","button",3,"click",4,"ngIf"],["role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],i,[3,"ngTemplateOutlet"],["role","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["role","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],c]},template:function(t,c){1&t&&(e.TgZ(0,"ol",0),e.YNc(1,Yp,1,5,"li",1),e.qZA(),e.TgZ(2,"div",2),e.YNc(3,Qp,4,4,"div",3),e.qZA(),e.YNc(4,Xp,4,0,"a",4),e.YNc(5,Dd,4,0,"a",5)),2&t&&(e.ekj("visually-hidden",!c.showNavigationIndicators),e.xp6(1),e.Q6J("ngForOf",c.slides),e.xp6(2),e.Q6J("ngForOf",c.slides),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows),e.xp6(1),e.Q6J("ngIf",c.showNavigationArrows))},directives:[p.sg,p.tP,p.O5],encapsulation:2,changeDetection:0}),r})();var Ic=(()=>{return(r=Ic||(Ic={})).TIMER="timer",r.ARROW_LEFT="arrowLeft",r.ARROW_RIGHT="arrowRight",r.INDICATOR="indicator",Ic;var r})();let zf=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),su=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();var wi=(()=>{return(r=wi||(wi={}))[r.Tab=9]="Tab",r[r.Enter=13]="Enter",r[r.Escape=27]="Escape",r[r.Space=32]="Space",r[r.PageUp=33]="PageUp",r[r.PageDown=34]="PageDown",r[r.End=35]="End",r[r.Home=36]="Home",r[r.ArrowLeft=37]="ArrowLeft",r[r.ArrowUp=38]="ArrowUp",r[r.ArrowRight=39]="ArrowRight",r[r.ArrowDown=40]="ArrowDown",wi;var r})();"undefined"!=typeof navigator&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const ey=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function wo(r){const i=Array.from(r.querySelectorAll(ey)).filter(t=>-1!==t.tabIndex);return[i[0],i[i.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let uy=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez,S]]}),r})(),Xg=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();class ed{constructor(i,t,c){this.nodes=i,this.viewRef=t,this.componentRef=c}}let em=(()=>{class r{constructor(t,c){this._el=t,this._zone=c}ngOnInit(){this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{Ls(this._zone,this._el.nativeElement,(t,c)=>{c&&Nd(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Ls(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,c){2&t&&(e.Tol("modal-backdrop"+(c.backdropClass?" "+c.backdropClass:"")),e.ekj("show",!c.animation)("fade",c.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,c){},encapsulation:2}),r})();class R_{close(i){}dismiss(i){}}class dy{constructor(i,t,c,h){this._windowCmptRef=i,this._contentRef=t,this._backdropCmptRef=c,this._beforeDismiss=h,this._closed=new ei.x,this._dismissed=new ei.x,this._hidden=new ei.x,i.instance.dismissEvent.subscribe(_=>{this.dismiss(_)}),this.result=new Promise((_,O)=>{this._resolve=_,this._reject=O}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(bi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(bi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(i){this._windowCmptRef&&(this._closed.next(i),this._resolve(i),this._removeModalElements())}_dismiss(i){this._dismissed.next(i),this._reject(i),this._removeModalElements()}dismiss(i){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function c_(r){return r&&r.then}(t)?!1!==t&&this._dismiss(i):t.then(c=>{!1!==c&&this._dismiss(i)},()=>{})}else this._dismiss(i)}_removeModalElements(){const i=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():(0,lr.of)(void 0);i.subscribe(()=>{const{nativeElement:c}=this._windowCmptRef.location;c.parentNode.removeChild(c),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:c}=this._backdropCmptRef.location;c.parentNode.removeChild(c),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),vl(i,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var Hd=(()=>{return(r=Hd||(Hd={}))[r.BACKDROP_CLICK=0]="BACKDROP_CLICK",r[r.ESC=1]="ESC",Hd;var r})();let sp=(()=>{class r{constructor(t,c,h){this._document=t,this._elRef=c,this._zone=h,this._closed$=new ei.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new e.vpe,this.shown=new ei.x,this.hidden=new ei.x}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe((0,ae.q)(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,c={animation:this.animation,runningTransition:"stop"},O=vl(Ls(this._zone,t,()=>t.classList.remove("show"),c),Ls(this._zone,this._dialogEl.nativeElement,()=>{},c));return O.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),O}_show(){const t={animation:this.animation,runningTransition:"continue"};vl(Ls(this._zone,this._elRef.nativeElement,(_,O)=>{O&&Nd(_),_.classList.add("show")},t),Ls(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{ki(t,"keydown").pipe(bi(this._closed$),(0,Ao.h)(h=>h.which===wi.Escape)).subscribe(h=>{this.keyboard?requestAnimationFrame(()=>{h.defaultPrevented||this._zone.run(()=>this.dismiss(Hd.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let c=!1;ki(this._dialogEl.nativeElement,"mousedown").pipe(bi(this._closed$),(0,xi.b)(()=>c=!1),(0,mr.w)(()=>ki(t,"mouseup").pipe(bi(this._closed$),(0,ae.q)(1))),(0,Ao.h)(({target:h})=>t===h)).subscribe(()=>{c=!0}),ki(t,"click").pipe(bi(this._closed$)).subscribe(({target:h})=>{t===h&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!c&&this._zone.run(()=>this.dismiss(Hd.BACKDROP_CLICK))),c=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const c=t.querySelector("[ngbAutofocus]"),h=wo(t)[0];(c||h||t).focus()}}_restoreFocus(){const t=this._document.body,c=this._elWithFocus;let h;h=c&&c.focus&&t.contains(c)?c:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>h.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Ls(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(p.K0),e.Y36(e.SBq),e.Y36(e.R0b))},r.\u0275cmp=e.Xpm({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(t,c){if(1&t&&e.Gf(qm,7),2&t){let h;e.iGM(h=e.CRH())&&(c._dialogEl=h.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,c){2&t&&(e.uIk("aria-modal",!0)("aria-labelledby",c.ariaLabelledBy)("aria-describedby",c.ariaDescribedBy),e.Tol("modal d-block"+(c.windowClass?" "+c.windowClass:"")),e.ekj("fade",c.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:Jp,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,c){1&t&&(e.F$t(),e.TgZ(0,"div",0,1)(2,"div",2),e.Hsn(3),e.qZA()()),2&t&&e.Tol("modal-dialog"+(c.size?" modal-"+c.size:"")+(c.centered?" modal-dialog-centered":"")+(c.scrollable?" modal-dialog-scrollable":"")+(c.modalDialogClass?" "+c.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),r})(),hy=(()=>{class r{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),c=this._document.body,h=c.style,{overflow:_,paddingRight:O}=h;if(t>0){const z=parseFloat(window.getComputedStyle(c).paddingRight);h.paddingRight=`${z+t}px`}return h.overflow="hidden",()=>{t>0&&(h.paddingRight=O),h.overflow=_}}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),j0=(()=>{class r{constructor(t,c,h,_,O,z){this._applicationRef=t,this._injector=c,this._document=h,this._scrollBar=_,this._rendererFactory=O,this._ngZone=z,this._activeWindowCmptHasChanged=new ei.x,this._ariaHiddenValues=new Map,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new e.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const J=this._windowCmpts[this._windowCmpts.length-1];((r,i,t,c=!1)=>{this._ngZone.runOutsideAngular(()=>{const h=ki(i,"focusin").pipe(bi(t),(0,ln.U)(_=>_.target));ki(i,"keydown").pipe(bi(t),(0,Ao.h)(_=>_.which===wi.Tab),kt(h)).subscribe(([_,O])=>{const[z,J]=wo(i);(O===z||O===i)&&_.shiftKey&&(J.focus(),_.preventDefault()),O===J&&!_.shiftKey&&(z.focus(),_.preventDefault())}),c&&ki(i,"click").pipe(bi(t),kt(h),(0,ln.U)(_=>_[1])).subscribe(_=>_.focus())})})(0,J.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(J.location.nativeElement)}})}open(t,c,h,_){const O=_.container instanceof HTMLElement?_.container:Al(_.container)?this._document.querySelector(_.container):this._document.body,z=this._rendererFactory.createRenderer(null,null),J=this._scrollBar.hide(),De=()=>{this._modalRefs.length||(z.removeClass(this._document.body,"modal-open"),this._revertAriaHidden())};if(!O)throw new Error(`The specified modal container "${_.container||"body"}" was not found in the DOM.`);const tt=new R_,Ut=this._getContentRef(t,_.injector||c,h,tt,_);let Gt=!1!==_.backdrop?this._attachBackdrop(t,O):void 0,Jt=this._attachWindowComponent(t,O,Ut),sn=new dy(Jt,Ut,Gt,_.beforeDismiss);return this._registerModalRef(sn),this._registerWindowCmpt(Jt),sn.result.then(J,J),sn.result.then(De,De),tt.close=Qt=>{sn.close(Qt)},tt.dismiss=Qt=>{sn.dismiss(Qt)},this._applyWindowOptions(Jt.instance,_),1===this._modalRefs.length&&z.addClass(this._document.body,"modal-open"),Gt&&Gt.instance&&(this._applyBackdropOptions(Gt.instance,_),Gt.changeDetectorRef.detectChanges()),Jt.changeDetectorRef.detectChanges(),sn}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(c=>c.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t,c){let _=t.resolveComponentFactory(em).create(this._injector);return this._applicationRef.attachView(_.hostView),c.appendChild(_.location.nativeElement),_}_attachWindowComponent(t,c,h){let O=t.resolveComponentFactory(sp).create(this._injector,h.nodes);return this._applicationRef.attachView(O.hostView),c.appendChild(O.location.nativeElement),O}_applyWindowOptions(t,c){this._windowAttributes.forEach(h=>{Al(c[h])&&(t[h]=c[h])})}_applyBackdropOptions(t,c){this._backdropAttributes.forEach(h=>{Al(c[h])&&(t[h]=c[h])})}_getContentRef(t,c,h,_,O){return h?h instanceof e.Rgc?this._createFromTemplateRef(h,_):function Tg(r){return"string"==typeof r}(h)?this._createFromString(h):this._createFromComponent(t,c,h,_,O):new ed([])}_createFromTemplateRef(t,c){const _=t.createEmbeddedView({$implicit:c,close(O){c.close(O)},dismiss(O){c.dismiss(O)}});return this._applicationRef.attachView(_),new ed([_.rootNodes],_)}_createFromString(t){const c=this._document.createTextNode(`${t}`);return new ed([[c]])}_createFromComponent(t,c,h,_,O){const z=t.resolveComponentFactory(h),J=e.zs3.create({providers:[{provide:R_,useValue:_}],parent:c}),De=z.create(J),tt=De.location.nativeElement;return O.scrollable&&tt.classList.add("component-host-scrollable"),this._applicationRef.attachView(De.hostView),new ed([[tt]],De.hostView,De)}_setAriaHidden(t){const c=t.parentElement;c&&t!==this._document.body&&(Array.from(c.children).forEach(h=>{h!==t&&"SCRIPT"!==h.nodeName&&(this._ariaHiddenValues.set(h,h.getAttribute("aria-hidden")),h.setAttribute("aria-hidden","true"))}),this._setAriaHidden(c))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,c)=>{t?c.setAttribute("aria-hidden",t):c.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const c=()=>{const h=this._modalRefs.indexOf(t);h>-1&&(this._modalRefs.splice(h,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(c,c)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const c=this._windowCmpts.indexOf(t);c>-1&&(this._windowCmpts.splice(c,1),this._activeWindowCmptHasChanged.next())})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.z2F),e.LFG(e.zs3),e.LFG(p.K0),e.LFG(hy),e.LFG(e.FYo),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),fy=(()=>{class r{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(Rh))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),k_=(()=>{class r{constructor(t,c,h,_){this._moduleCFR=t,this._injector=c,this._modalStack=h,this._config=_}open(t,c={}){const h=Object.assign(Object.assign(Object.assign({},this._config),{animation:this._config.animation}),c);return this._modalStack.open(this._moduleCFR,this._injector,t,h)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e._Vd),e.LFG(e.zs3),e.LFG(j0),e.LFG(fy))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})(),L_=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:[k_]}),r})(),ot=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Gi=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),V0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),G0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),H0=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),Pr=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),nm=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})(),_y=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({}),r})();new e.OlP("live announcer delay",{providedIn:"root",factory:function vy(){return 100}});let yy=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[[p.ez]]}),r})();const Gb=[y0,jf,Hf,zf,su,uy,Xg,L_,ot,Gi,V0,G0,H0,Pr,nm,_y,yy];let Hb=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({imports:[Gb,y0,jf,Hf,zf,su,uy,Xg,L_,ot,Gi,V0,G0,H0,Pr,nm,_y,yy]}),r})(),$a=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!!this.loginService.isLoggedUser()||(this.router.navigate(["login"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(At.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),B_=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!this.loginService.isLoggedUser()||(this.router.navigate(["home"]),!1)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(At.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const Oo=void 0,Zb=["es",[["a.\xa0m.","p.\xa0m."],Oo,Oo],Oo,[["D","L","M","X","J","V","S"],["dom","lun","mar","mi\xe9","jue","vie","s\xe1b"],["domingo","lunes","martes","mi\xe9rcoles","jueves","viernes","s\xe1bado"],["DO","LU","MA","MI","JU","VI","SA"]],Oo,[["E","F","M","A","M","J","J","A","S","O","N","D"],["ene","feb","mar","abr","may","jun","jul","ago","sept","oct","nov","dic"],["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]],Oo,[["a. C.","d. C."],Oo,["antes de Cristo","despu\xe9s de Cristo"]],1,[6,0],["d/M/yy","d MMM y","d 'de' MMMM 'de' y","EEEE, d 'de' MMMM 'de' y"],["H:mm","H:mm:ss","H:mm:ss z","H:mm:ss (zzzz)"],["{1} {0}",Oo,"{1}, {0}",Oo],[",",".",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0\xa0%","#,##0.00\xa0\xa4","#E0"],"EUR","\u20ac","euro",{AUD:[Oo,"$"],BRL:[Oo,"R$"],CAD:[Oo,"$"],CNY:[Oo,"\xa5"],EGP:[],ESP:["\u20a7"],GBP:[Oo,"\xa3"],HKD:[Oo,"$"],ILS:[Oo,"\u20aa"],INR:[Oo,"\u20b9"],JPY:[Oo,"\xa5"],KRW:[Oo,"\u20a9"],MXN:[Oo,"$"],NZD:[Oo,"$"],PHP:[Oo,"\u20b1"],RON:[Oo,"L"],THB:["\u0e3f"],TWD:[Oo,"NT$"],USD:["US$","$"],XAF:[],XCD:[Oo,"$"],XOF:[]},"ltr",function by(r){return 1===r?1:5}];function rm(r,i){1&r&&e.GkF(0)}function im(r,i){1&r&&(e.TgZ(0,"div",10),e._UZ(1,"i",11),e.TgZ(2,"div",12),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"alerts.unreadInfoText")))}const qb=function(r){return{read:r}},zb=function(r,i){return{"text-success":r,"text-danger":i}},Wb=function(r,i){return{"fa-circle-arrow-down":r,"fa-circle-arrow-up":i}};function Cy(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",13),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(2).toggleReadAlert(_)}),e.TgZ(2,"div",14)(3,"div",15)(4,"div",16),e._UZ(5,"i",17),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.ALo(8,"number"),e.qZA()(),e.TgZ(9,"div",18),e._UZ(10,"img",19),e.qZA(),e.TgZ(11,"div",20)(12,"div",21)(13,"div"),e._uU(14),e.ALo(15,"date"),e.qZA()(),e.TgZ(16,"div",22)(17,"div",23),e._uU(18),e.qZA()()()()(),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(14,qb,t.read)),e.xp6(3),e.Q6J("ngClass",e.WLB(16,zb,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(1),e.Q6J("ngClass",e.WLB(19,Wb,t.lastPrice>t.currentPrice,t.lastPrice<t.currentPrice)),e.xp6(2),e.AsE(" ",t.currentPrice-t.lastPrice>0?"+":"","",e.xi3(8,8,t.currentPrice-t.lastPrice,"1.2-2")," \u20ac "),e.xp6(3),e.Q6J("src",c.getShop(t.shopId).imageUrl,e.LSH),e.xp6(4),e.Oqu(e.xi3(15,11,t.date,"dd.MM.yyyy - HH:mm")),e.xp6(4),e.Oqu(c.getProduct(t.productBarcode).name)}}function wy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5),e.YNc(2,im,5,3,"div",6),e.TgZ(3,"div",7)(4,"ul",8),e.YNc(5,Cy,19,22,"ng-container",9),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",t.unreadAlerts>0),e.xp6(3),e.Q6J("ngForOf",t.userAlerts.alerts)}}function Ty(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",24)(1,"span",25),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",26),e.TgZ(3,"span",27),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",28),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",29),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.alerts")))}function $b(r,i){1&r&&(e.TgZ(0,"div",30)(1,"small",31),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"commons.noData")))}let Ey=(()=>{class r{constructor(t,c,h,_){this.router=t,this.alertService=c,this.shopService=h,this.productService=_,this.unreadAlerts=0}exit(){this.router.navigate([""])}getProduct(t){return this.productService._products.find(c=>c.barcode===t)}getShop(t){return this.shopService._shops.find(c=>c.id===t)}toggleReadAlert(t){this.alertService.toggleReadAlert(t),this.unreadAlerts=this.alertService.getUnreadAlerts()}sortAlerts(){this.userAlerts.alerts.sort((t,c)=>t.date>c.date?-1:1)}ngOnInit(){this.userAlerts=this.alertService._userAlerts,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts(),this.alertService.userAlerts.subscribe(t=>{this.userAlerts=t,this.sortAlerts(),this.unreadAlerts=this.alertService.getUnreadAlerts()})}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(pl),e.Y36(Rr.d),e.Y36(Tr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-alerts"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100","bg-danger"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["breadcrumb",""],["noData",""],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],["class","alert alert-info d-flex",4,"ngIf"],[1,"w-100"],[1,"list-group","list-group-flush"],[4,"ngFor","ngForOf"],[1,"alert","alert-info","d-flex"],[1,"fas","fa-triangle-exclamation","me-2","mt-1"],[1,"text-start"],[1,"list-group-item","text-start","p-0","mb-1",3,"ngClass","click"],[1,"d-flex","w-100"],[1,"left","d-flex","flex-column","align-items-center","justify-content-center","w-25","px-2"],[1,"icon-container",3,"ngClass"],[1,"fas","mb-1",3,"ngClass"],[1,"left","d-flex","align-items-center","justify-content-center"],[1,"shop-logo",3,"src"],[1,"right","d-flex","flex-column","p-3"],[1,"d-flex","w-100","mb-2"],[1,"d-flex"],[1,"fw-bold"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],[1,"no-data-msg","ps-4"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,rm,1,0,"ng-container",1),e.qZA(),e.YNc(2,wy,6,2,"ng-container",2),e.YNc(3,Ty,11,6,"ng-template",null,3,e.W1O),e.YNc(5,$b,4,3,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",(null==c.userAlerts||null==c.userAlerts.alerts?null:c.userAlerts.alerts.length)>0)("ngIfElse",_)}},directives:[p.tP,p.O5,p.sg,p.mk],pipes:[ns,p.JJ,p.uU],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 195px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;color:#fff;border:1px solid #ccc}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}.list-group-item[_ngcontent-%COMP%]{font-size:9pt}.list-group-item.read[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.4}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]{border-right:1px solid #ccc}.list-group-item[_ngcontent-%COMP%]   div.left[_ngcontent-%COMP%]   div.icon-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{max-width:65px;max-height:65px}div.alert[_ngcontent-%COMP%]{font-size:9pt}"]}),r})();function Kb(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.registerError")))}function Jb(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordsDifferentError")))}function OT(r,i){1&r&&(e.TgZ(0,"small"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"login.passwordLengthError")))}function MT(r,i){if(1&r&&(e.TgZ(0,"span",18),e.YNc(1,Kb,3,3,"small",19),e.YNc(2,Jb,3,3,"small",19),e.YNc(3,OT,3,3,"small",19),e.qZA()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.registerError),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&t.user.passwordRepeat.length>5&&t.user.password.length>5),e.xp6(1),e.Q6J("ngIf",!t.validatePasswords()&&(t.user.passwordRepeat.length<6||t.user.password.length<6))}}const NT=function(r){return{disabled:r}};let RT=(()=>{class r{constructor(t,c,h){this.firestoreAuthService=t,this.loginService=c,this.router=h,this.user={email:"",password:"",passwordRepeat:""},this.registerError=!1}register(){if(this.canAccess()){this.registerError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.register(t,c).then(h=>{if(h){console.log(h);const _={email:this.user.email};alert("Register ok!"),this.loginService.login(_),this.router.navigate(["home"])}else this.registerError=!0})}}goToLogin(){this.router.navigate(["login"])}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}validatePasswords(){var t,c,h,_,O,z;return(null===(c=null===(t=this.user)||void 0===t?void 0:t.password)||void 0===c?void 0:c.length)>5&&(null===(_=null===(h=this.user)||void 0===h?void 0:h.passwordRepeat)||void 0===_?void 0:_.length)>5&&(null===(O=this.user)||void 0===O?void 0:O.password)===(null===(z=this.user)||void 0===z?void 0:z.passwordRepeat)}canAccess(){var t;return this.user.email.length>0&&(null===(t=this.validateEmail(this.user.email))||void 0===t?void 0:t.length)>0}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Wl),e.Y36($r.r),e.Y36(At.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-register"]],decls:35,vars:34,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","passwordRepeat",1,"fw-bold"],["type","password","id","passwordRepeat","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-2",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100",3,"click"],[1,"text-start","text-danger","mb-2"],[4,"ngIf"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA()()(),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"div",7)(10,"label",8),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.TgZ(13,"input",9),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(14,"translate"),e.qZA()(),e.TgZ(15,"div",7)(16,"label",10),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.TgZ(19,"input",11),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(20,"translate"),e.qZA()(),e.TgZ(21,"div",7)(22,"label",12),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.TgZ(25,"input",13),e.NdJ("ngModelChange",function(_){return c.user.passwordRepeat=_}),e.ALo(26,"translate"),e.qZA()(),e.YNc(27,MT,4,3,"span",14),e.qZA()()(),e.TgZ(28,"div",15)(29,"button",16),e.NdJ("click",function(){return c.register()}),e._uU(30),e.ALo(31,"translate"),e.qZA(),e.TgZ(32,"button",17),e.NdJ("click",function(){return c.goToLogin()}),e._uU(33),e.ALo(34,"translate"),e.qZA()()()),2&t&&(e.xp6(4),e.hij(" ",e.lcZ(5,14,"login.registering")," "),e.xp6(7),e.Oqu(e.lcZ(12,16,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(14,18,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(18,20,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(20,22,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(4),e.Oqu(e.lcZ(24,24,"login.passwordRepeat")),e.xp6(2),e.s9C("placeholder",e.lcZ(26,26,"login.passwordRepeat")),e.Q6J("ngModel",c.user.passwordRepeat),e.xp6(2),e.Q6J("ngIf",c.canAccess()&&(c.registerError||!c.validatePasswords())),e.xp6(2),e.Q6J("ngClass",e.VKq(32,NT,!c.canAccess()||!c.validatePasswords())),e.xp6(1),e.hij(" ",e.lcZ(31,28,"login.doRegister")," "),e.xp6(3),e.hij(" ",e.lcZ(34,30,"commons.back")," "))},directives:[mn,_i,Si,eo,p.O5,p.mk],pipes:[ns],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})(),Dy=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-banned-ip"]],decls:5,vars:0,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e._UZ(2,"i",1),e.TgZ(3,"span"),e._uU(4,"IP unauthorized"),e.qZA(),e.BQk(),e.qZA())},styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})(),da=(()=>{class r{constructor(t,c){this.loginService=t,this.router=c}canActivate(){return!(En.q.bannedIPs.length>0)||this.loginService.getInternetIp().pipe((0,ln.U)(t=>!En.q.bannedIPs.some(h=>h===t.ip)||(this.router.navigate(["forbiddenIP"]),!1)))}}return r.\u0275fac=function(t){return new(t||r)(e.LFG($r.r),e.LFG(At.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Yb(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.cheap")))}function Qb(r,i){1&r&&(e.TgZ(0,"div",7)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shopStandings.title.expensive")))}function Sy(r,i){1&r&&e.GkF(0)}function om(r,i){if(1&r&&(e.TgZ(0,"li")(1,"div",19),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.qZA()()()),2&r){const t=i.$implicit;e.xp6(4),e.AsE("",t.name," (",t.brand,")")}}function Xb(r,i){if(1&r&&(e.TgZ(0,"tr")(1,"td",17)(2,"ul",18),e.YNc(3,om,5,2,"li",12),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(3),e.Q6J("ngForOf",null==t?null:t.products)}}const eC=function(r){return{active:r}};function tC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",13),e._uU(3),e.qZA(),e.TgZ(4,"td",14),e._uU(5),e.qZA(),e.TgZ(6,"td",11),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"td")(10,"i",15),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return _.showProducts=!_.showProducts}),e.qZA()()(),e.YNc(11,Xb,4,1,"tr",16),e.BQk()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(2);e.xp6(3),e.Oqu(c+1),e.xp6(2),e.Oqu(h.getShopName(t.shopId)),e.xp6(2),e.Oqu(e.xi3(8,5,t.times,"1.0-2")),e.xp6(3),e.Q6J("ngClass",e.VKq(8,eC,t.showProducts)),e.xp6(1),e.Q6J("ngIf",t.showProducts)}}function nC(r,i){if(1&r&&(e.TgZ(0,"div",8)(1,"table",9)(2,"thead")(3,"tr")(4,"th",10),e._uU(5,"#"),e.qZA(),e.TgZ(6,"th"),e._uU(7),e.ALo(8,"translate"),e.qZA(),e.TgZ(9,"th",11),e._uU(10),e.ALo(11,"translate"),e.qZA(),e._UZ(12,"th"),e.qZA()(),e.TgZ(13,"tbody"),e.YNc(14,tC,12,10,"ng-container",12),e.qZA()()()),2&r){const t=e.oxw();e.xp6(7),e.Oqu(e.lcZ(8,3,"shopStandings.shop")),e.xp6(3),e.Oqu(e.lcZ(11,5,"shopStandings.numProducts")),e.xp6(4),e.Q6J("ngForOf",t.standings)}}function rC(r,i){1&r&&(e.TgZ(0,"div",22),e._UZ(1,"i",23),e.TgZ(2,"small",24),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shopStandings.noDataEnough")))}function xy(r,i){1&r&&(e.TgZ(0,"small",29),e._UZ(1,"span",30),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij("",e.lcZ(4,1,"shopStandings.noFavouriteProducts"),"."))}function iC(r,i){if(1&r&&(e.TgZ(0,"div",25),e._UZ(1,"i",26),e.TgZ(2,"div",27)(3,"small",28),e._uU(4),e.ALo(5,"translate"),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"small",29),e._UZ(8,"span",30),e.TgZ(9,"span"),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.YNc(12,xy,5,3,"small",31),e.qZA()()),2&r){const t=e.oxw();e.xp6(4),e.AsE("",e.lcZ(5,4,"shopStandings.noResults"),". ",e.lcZ(6,6,"shopStandings.possibleReasons"),":"),e.xp6(6),e.hij("",e.lcZ(11,8,"shopStandings.noProductsWithPrices"),"."),e.xp6(2),e.Q6J("ngIf",t.onlyFavourites)}}let oC=(()=>{class r{constructor(t,c,h){this.shopProductService=t,this.shopService=c,this.productService=h,this.standings=[],this.target="CHEAP",this.onlyFavourites=!0,this.favouriteProductBarcodes=[]}calculateStandings(){const t=[],c=[],h=[];this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&t.indexOf(_.productBarcode)<0&&t.push(_.productBarcode)}),this.shopsProducts.forEach(_=>{(!this.onlyFavourites||this.isFavouriteProduct(_.productBarcode))&&c.indexOf(_.shopId)<0&&c.push(_.shopId)}),(t.length>1||c.length>1)&&t.forEach(_=>{const O=this.shopsProducts.filter(J=>J.productBarcode===_),z=[];if(O.forEach(J=>{z.indexOf(J.shopId)<0&&z.push(J.shopId)}),z.length>1){const J=this.shopsProducts.filter(Jt=>Jt.productBarcode===_);let De=[];z.forEach(Jt=>{De.push(J.filter(sn=>sn.shopId===Jt)[0])}),De=De.sort((Jt,sn)=>Jt.updateDate>sn.updateDate?-1:1);const tt=De.sort((Jt,sn)=>Jt.price>sn.price?"CHEAP"===this.target?1:-1:"CHEAP"===this.target?-1:1);let Gt=[];if(De.length>1&&tt[0].price!==tt[tt.length-1].price){const Jt=De[0].price,sn=this.productService._products.find(Qt=>De[0].productBarcode===Qt.barcode);Gt=De.filter(Qt=>Qt.price===Jt).map(Qt=>Qt.shopId),Gt.forEach(Qt=>{const Wn=h.findIndex(Er=>Er.shopId===Qt);Wn>=0?(h[Wn].times++,h[Wn].products.push(sn)):h.push({shopId:Qt,times:1,products:[sn],showProducts:!1})})}}}),this.standings=h.sort((_,O)=>_.times>O.times?-1:1)}getShopName(t){var c;return null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.name}isFavouriteProduct(t){return this.favouriteProductBarcodes.indexOf(t)>=0}ngOnChanges(t){t.onlyFavourites&&!t.onlyFavourites.firstChange&&this.calculateStandings()}ngOnInit(){console.log("ShopStandingsComponent.ngOnInit()"),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name>h.name?1:-1)}),this.shops=this.shopService._shops,this.shopsProductsSubscription&&this.shopsProductsSubscription.unsubscribe(),this.favouriteProductBarcodes=this.productService.getFavourites(),this.shopsProductsSubscription=this.shopProductService.shopsProducts.subscribe(t=>{this.shopsProducts=t.sort((c,h)=>c.updateDate>h.updateDate?-1:1),this.calculateStandings()}),this.shopsProducts=this.shopProductService._shopsProducts,this.calculateStandings()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Ho),e.Y36(Rr.d),e.Y36(Tr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-standings"]],inputs:{target:"target",onlyFavourites:"onlyFavourites"},features:[e.TTD],decls:10,vars:6,consts:[[1,"d-flex","w-100","py-1","px-3","shop-standings"],[1,"d-flex","flex-column","w-100"],["class","title mt-2 mb-1",4,"ngIf"],[4,"ngIf","ngIfElse"],["class","w-100 p-2",4,"ngIf","ngIfElse"],["noStandings",""],["noFilterMatches",""],[1,"title","mt-2","mb-1"],[1,"w-100","p-2"],[1,"table","table-sm"],[1,"text-end","pe-3","w-15"],[1,"text-end"],[4,"ngFor","ngForOf"],[1,"text-end","pe-3"],[1,"fw-bold"],[1,"fas","fa-eye",3,"ngClass","click"],[4,"ngIf"],["colspan","4"],[1,"product-list","ms-2","mb-1","ps-2","ms-0"],[1,"d-flex","justify-items-between","align-items-start","w-100"],[1,"fas","fa-angle-right","me-3","mt-1"],[1,"product-name"],[1,"no-standings","d-flex","justify-content-start","align-items-center","w-100"],[1,"fas","fa-warning","text-warning","me-2"],[1,"p-2"],[1,"no-filter-matches","d-flex","justify-content-start","align-items-start","w-100"],[1,"fas","fa-warning","text-warning","me-2","mt-2"],[1,"d-flex","flex-column","mb-2"],[1,"p-2","text-start"],[1,"p-1","smaller","d-flex","align-items-start","text-start"],[1,"fas","fa-angle-right","mt-1","me-2"],["class","p-1 smaller d-flex align-items-start text-start",4,"ngIf"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Yb,4,3,"div",2),e.YNc(3,Qb,4,3,"div",2),e.YNc(4,Sy,1,0,"ng-container",3),e.YNc(5,nC,15,7,"div",4),e.qZA()(),e.YNc(6,rC,5,3,"ng-template",null,5,e.W1O),e.YNc(8,iC,13,10,"ng-template",null,6,e.W1O)),2&t){const h=e.MAs(7),_=e.MAs(9);e.xp6(2),e.Q6J("ngIf","CHEAP"===c.target),e.xp6(1),e.Q6J("ngIf","EXPENSIVE"===c.target),e.xp6(1),e.Q6J("ngIf",c.shopsProducts.length>0)("ngIfElse",h),e.xp6(1),e.Q6J("ngIf",(null==c.standings?null:c.standings.length)>0)("ngIfElse",_)}},directives:[p.O5,p.sg,p.mk],pipes:[ns,p.JJ],styles:[".title[_ngcontent-%COMP%]{font-size:13pt}.shop-standings[_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px;margin:5px 0;background-color:#fff}.shop-standings[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-size:10pt}.no-standings[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{color:#444;font-style:normal}.no-standings[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%], .no-filter-matches[_ngcontent-%COMP%]   small.smaller[_ngcontent-%COMP%]{font-size:8pt}ul.product-list[_ngcontent-%COMP%]{list-style-type:none;color:#888}ul.product-list[_ngcontent-%COMP%]   .product-name[_ngcontent-%COMP%]{max-width:auto}.fa-eye[_ngcontent-%COMP%]{color:#ccc}.fa-eye.active[_ngcontent-%COMP%]{color:#444}"]}),r})();function cp(r,i){1&r&&e.GkF(0)}function sC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",8)(1,"span",9),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",10),e.TgZ(3,"span",11),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",12),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",13),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.analysis")))}let Ay=(()=>{class r{constructor(t,c,h){this.router=t,this.spinner=c,this.productService=h,this.onlyFavourites=!1}exit(){this.router.navigate([""])}ngOnInit(){this.spinner.show(),this.onlyFavourites=this.productService.getFavourites().length>0,setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Es),e.Y36(Tr.M))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-statistics"]],decls:12,vars:9,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"page-content","d-flex","flex-column","mb-4","pt-4","px-3","w-100"],[3,"onlyFavourites","target"],["breadcrumb",""],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,cp,1,0,"ng-container",1),e.TgZ(2,"div",2)(3,"input",3),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(4,"label",4),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"div",5),e._UZ(8,"app-shop-standings",6)(9,"app-shop-standings",6),e.qZA(),e.YNc(10,sC,11,6,"ng-template",null,7,e.W1O)),2&t){const h=e.MAs(11);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(6,7,"commons.onlyFavouriteProducts")),e.xp6(3),e.Q6J("onlyFavourites",c.onlyFavourites)("target","CHEAP"),e.xp6(1),e.Q6J("onlyFavourites",c.onlyFavourites)("target","EXPENSIVE")}},directives:[p.tP,et,Si,eo,oC],pipes:[ns],styles:[".page-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 205px)}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:82px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#5f9ea0;color:#fff;border:1px solid #ccc}"]}),r})();function aC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleShopList()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",14),e.TgZ(6,"span",15),e._uU(7),e.ALo(8,"number"),e.qZA(),e.TgZ(9,"small",16),e._uU(10),e.ALo(11,"translate"),e.qZA()()()()(),e.TgZ(12,"div",11)(13,"button",17),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleProductList()}),e.TgZ(14,"div",8)(15,"div",13),e._UZ(16,"i",18),e.TgZ(17,"span",15),e._uU(18),e.ALo(19,"number"),e.qZA(),e.TgZ(20,"small",16),e._uU(21),e.ALo(22,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(7),e.Oqu(e.xi3(8,4,null==t.shops?null:t.shops.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(11,7,"home.shops")),e.xp6(8),e.Oqu(e.xi3(19,9,null==t.products?null:t.products.length,"1.0-2")),e.xp6(3),e.Oqu(e.lcZ(22,12,"home.products"))}}function Iy(r,i){if(1&r&&(e.TgZ(0,"span",15),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,t.alerts_unread,"1.0-2"))}}const cC=function(r){return{disabled:r}},Py=function(r){return{"mb-3":r}};function lC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",11)(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleAlerts()}),e.TgZ(3,"div",8)(4,"div",13),e._UZ(5,"i",20),e.YNc(6,Iy,3,4,"span",21),e.TgZ(7,"small",16),e._uU(8),e.ALo(9,"translate"),e.qZA()()()()(),e.TgZ(10,"div",11)(11,"button",22),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).toggleStatistics()}),e.TgZ(12,"div",8)(13,"div",13),e._UZ(14,"i",23),e.TgZ(15,"small",16),e._uU(16),e.ALo(17,"translate"),e.qZA()()()()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngClass",e.VKq(9,cC,!t.alerts)),e.xp6(3),e.Q6J("ngClass",e.VKq(11,Py,!t.alerts_unread)),e.xp6(1),e.Q6J("ngIf",t.alerts_unread),e.xp6(2),e.Oqu(e.lcZ(9,5,"home.alerts")),e.xp6(8),e.Oqu(e.lcZ(17,7,"home.analysis"))}}function z0(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",2)(2,"div",3)(3,"div",4),e.YNc(4,aC,23,14,"ng-container",5),e.qZA(),e.TgZ(5,"div",6)(6,"button",7),e.NdJ("click",function(){return e.CHM(t),e.oxw().scan()}),e.TgZ(7,"div",8),e._UZ(8,"i",9),e.TgZ(9,"div",10),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA()()()(),e.TgZ(15,"div",4),e.YNc(16,lC,18,13,"ng-container",5),e.qZA()()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.products.length>0),e.xp6(6),e.Oqu(e.lcZ(11,4,"home.scan")),e.xp6(3),e.Oqu(e.lcZ(14,6,"home.here")),e.xp6(3),e.Q6J("ngIf",t.products.length>0)}}function uC(r,i){1&r&&(e.TgZ(0,"div",24),e._uU(1," Carregant... "),e.qZA())}let Oy=(()=>{class r{constructor(t,c,h,_,O,z){this.router=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.spinner=O,this.alertService=z,this.alerts=0,this.alerts_unread=0}toggleShopList(){this.router.navigate(["search-shops"])}toggleProductList(){this.router.navigate(["search-products"])}toggleStatistics(){this.router.navigate(["statistics"])}toggleAlerts(){this.router.navigate(["alerts"])}scan(){this.router.navigate(["scan"])}ngOnInit(){this.spinner.show(),this.shopService.shops.subscribe(t=>{this.spinner.show(),this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.productService.products.subscribe(t=>{this.spinner.show(),this.products=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1),setTimeout(()=>{this.spinner.hide()},500)}),this.shopProductService.shopsProducts.subscribe(()=>{this.alertService.calculateAlerts(!1)}),this.alertService.userAlerts.subscribe(t=>{this.alerts=t.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts()}),this.shops=this.shopService._shops,this.products=this.productService._products,this.alerts=this.alertService._userAlerts.alerts.length,this.alerts_unread=this.alertService.getUnreadAlerts(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Tr.M),e.Y36(Rr.d),e.Y36(Ho),e.Y36(Es),e.Y36(pl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-home"]],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["loading",""],[1,"button-container","d-flex","justify-content-between","align-items","center","w-100","mb-3"],[1,"d-flex","flex-column","justify-content-around","w-100","buttons","pb-4","pt-3","px-3"],[1,"w-100","d-flex","justify-content-around","pt-3"],[4,"ngIf"],[1,"d-flex","w-100","justify-content-center","mb-3","mt-2"],[1,"bubble-btn","scan-btn","btn","btn-lg","btn-dark","w-50","m-1","py-3",3,"click"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[1,"fas","fa-barcode","mb-2"],[1,"text-center","fw-light"],[1,"d-flex"],[1,"bubble-btn","sm","shops-btn","btn","btn-lg","bg-info","w-100","m-1","py-3",3,"click"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-store"],[1,"count"],[1,"btn-label"],[1,"bubble-btn","sm","products-btn","btn","btn-lg","bg-warning","w-100","m-1","py-3",3,"click"],[1,"fas","fa-shopping-basket"],[1,"bubble-btn","sm","alerts-btn","btn","btn-lg","bg-danger","w-100","m-1","py-3","disabled",3,"ngClass","click"],[1,"fas","fa-triangle-exclamation",3,"ngClass"],["class","count",4,"ngIf"],[1,"bubble-btn","sm","statistics-btn","btn","btn-lg","w-100","m-1","py-3",3,"click"],[1,"fas","fa-chart-line","mb-3"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.YNc(0,z0,17,8,"ng-container",0),e.YNc(1,uC,2,0,"ng-template",null,1,e.W1O)),2&t){const h=e.MAs(2);e.Q6J("ngIf",c.products&&c.shops)("ngIfElse",h)}},directives:[p.O5,p.mk],pipes:[p.JJ,ns],styles:[".button-container[_ngcontent-%COMP%]{height:calc(100vh - 90px)!important}.bubble-btn[_ngcontent-%COMP%]{border-radius:100px;border:2px solid ivory}.bubble-btn.sm[_ngcontent-%COMP%]{height:120px!important;width:120px!important;color:#fff}.bubble-btn.sm[_ngcontent-%COMP%]   span.count[_ngcontent-%COMP%]{font-size:22pt}.bubble-btn.sm[_ngcontent-%COMP%]   small.btn-label[_ngcontent-%COMP%]{position:relative;top:-8px}.bubble-btn.sm.statistics-btn[_ngcontent-%COMP%]{background-color:#5f9ea0}.bubble-btn.disabled[_ngcontent-%COMP%]{opacity:.2}.bubble-btn.scan-btn[_ngcontent-%COMP%]{height:170px;width:170px!important}.bubble-btn.scan-btn[_ngcontent-%COMP%]   .fa-barcode[_ngcontent-%COMP%]{font-size:36pt}"]}),r})();function My(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2);e.Q6J("src",t.getImageUrl(t.currentLanguage),e.LSH)}}function dC(r,i){if(1&r&&e._UZ(0,"img",7),2&r){const t=e.oxw(2).$implicit,c=e.oxw(2);e.Q6J("src",c.getImageUrl(t),e.LSH)}}function hC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",9),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(2).setLanguage(h)}),e.TgZ(1,"div",10),e.YNc(2,dC,1,1,"img",4),e.TgZ(3,"span"),e._uU(4),e.qZA()()()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(2);e.xp6(2),e.Q6J("ngIf",c.languageImages),e.xp6(2),e.Oqu(c.getLabel(t))}}function fC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,hC,5,2,"li",8),e.BQk()),2&r){const t=i.$implicit,c=e.oxw(2);e.xp6(1),e.Q6J("ngIf",c.currentLanguage!==t)}}function W0(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2)(3,"button",3),e.YNc(4,My,1,1,"img",4),e.qZA(),e.TgZ(5,"ul",5),e.YNc(6,fC,2,1,"ng-container",6),e.qZA()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",t.languageImages),e.xp6(2),e.Q6J("ngForOf",t.languages)}}let Ny=(()=>{class r{constructor(t,c){this.translate=t,this.translationsService=c}setLanguage(t){this.currentLanguage=t,this.translate.use(t),localStorage.setItem(Rn.M.PS_APP_LANGUAGE,t)}getImageUrl(t){return this.languageImages.find(c=>c.language===t).imageUrl}getLabel(t){return this.languageImages.find(c=>c.language===t).name}ngOnInit(){this.languages=this.translationsService.getLanguages(),this.currentLanguage=this.translate.currentLang,this.languageImages=this.translationsService.getTranslationData().map(t=>({language:t.language,imageUrl:t.imageUrl,name:t.name}))}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Uo),e.Y36(Jd))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-language-selector"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex"],[1,"btn-group","me-2"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-lg","btn-light","dropdown-toggle","shadow-none"],["class","me-2",3,"src",4,"ngIf"],[1,"dropdown-menu"],[4,"ngFor","ngForOf"],[1,"me-2",3,"src"],["class","user py-2",3,"click",4,"ngIf"],[1,"user","py-2",3,"click"],[1,"d-flex","justify-content-start","align-items-center","mx-3"]],template:function(t,c){1&t&&e.YNc(0,W0,7,2,"ng-container",0),2&t&&e.Q6J("ngIf",c.currentLanguage&&c.languages)},directives:[p.O5,p.sg],styles:["img[_ngcontent-%COMP%]{height:25px;width:25px}"]}),r})();function Ry(r,i){if(1&r&&(e.TgZ(0,"div",4),e._UZ(1,"i"),e.TgZ(2,"div",5)(3,"strong",6),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"small",7),e._uU(7),e.ALo(8,"translate"),e.qZA()()()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Tol(t.iconClass),e.xp6(3),e.Oqu(e.lcZ(5,4,t.title)),e.xp6(3),e.Oqu(e.lcZ(8,6,t.text))}}function pC(r,i){1&r&&(e.ynx(0),e.YNc(1,Ry,9,8,"ng-template",3),e.BQk())}function gC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ngb-carousel"),e.YNc(2,pC,2,0,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.slides)}}let mC=(()=>{class r{constructor(t,c){this.translate=c,t.interval=7e3,t.wrap=!0,t.keyboard=!1,t.pauseOnHover=!1,t.animation=!0}ngOnInit(){console.log("CarouselComponent.ngOnInit()"),this.slides=[{title:"carousel.step1.title",text:"carousel.step1.text",iconClass:"fa-brands fa-buromobelexperte"},{title:"carousel.step2.title",text:"carousel.step2.text",iconClass:"fas fa-barcode"},{title:"carousel.step3.title",text:"carousel.step3.text",iconClass:"fas fa-list-ol"},{title:"carousel.step4.title",text:"carousel.step4.text",iconClass:"fas fa-pen-to-square"},{title:"carousel.step5.title",text:"carousel.step5.text",iconClass:"fas fa-share-nodes"},{title:"carousel.step6.title",text:"carousel.step6.text",iconClass:"fas fa-bell"}]}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(Fh),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-carousel"]],decls:2,vars:1,consts:[[1,"carousel-container","w-100","h-100"],[4,"ngIf"],[4,"ngFor","ngForOf"],["ngbSlide",""],[1,"slide-container","d-flex","justify-content-center","align-items-center","mx-5","px-3"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-0","ps-3"],[1,"w-100","mb-2"],[1,"w-100","text-start"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,gC,3,1,"ng-container",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngIf",c.slides))},directives:[p.O5,g_,p.sg,ou],pipes:[ns],styles:[".carousel-container[_ngcontent-%COMP%]{background-color:transparent;border-radius:10px}.slide-container[_ngcontent-%COMP%]{background-color:#fff;border:1px solid #ccc;border-radius:10px;min-height:160px}.slide-container[_ngcontent-%COMP%]   i.fas[_ngcontent-%COMP%], .slide-container[_ngcontent-%COMP%]   i.fa-brands[_ngcontent-%COMP%]{font-size:32pt}small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();function _C(r,i){1&r&&(e.TgZ(0,"span",23)(1,"small"),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"login.error")))}function vC(r,i){}function yC(r,i){1&r&&e.YNc(0,vC,0,0,"ng-template")}function bC(r,i){1&r&&(e.TgZ(0,"div",24),e._UZ(1,"app-carousel"),e.qZA())}const CC=function(r){return{disabled:r}},ky=function(){return["/register"]};let Ly=(()=>{class r{constructor(t,c,h){this.loginService=t,this.firestoreAuthService=c,this.router=h,this.user={email:"",password:""},this.loginError=!1}login(){if(this.canAccess()){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.login(t,c).then(h=>{console.log(h),h?(this.loginService.login({email:this.user.email}),this.router.navigate(["home"])):this.loginError=!0})}}loginGoogle(){this.loginError=!1;const{email:t,password:c}=this.user;this.firestoreAuthService.loginWithGoogle(t,c).then(h=>{if(h){console.log(h);const _={username:h.user.displayName,email:h.user.email,photoURL:h.user.photoURL};this.router.navigate(["home"]),this.loginService.login(_)}else this.loginError=!0})}validateEmail(t){return String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)}canAccess(){return this.user.email.length>0&&this.validateEmail(this.user.email)&&this.user.password.length>0}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r),e.Y36(Wl),e.Y36(At.F0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-login"]],decls:44,vars:39,consts:[[1,"page","d-flex","flex-column","justify-content-start","align-items-center","p-3","pt-0","w-100","ms-auto","me-auto"],[1,"d-flex","flex-column","justify-content-start","align-items-center","w-100","mb-2"],[1,"d-flex","w-100","mt-3","mb-2","justify-content-between","align-items-center"],[1,"ps-3","m-0","w-100","text-start"],[1,"text-start","fst-italic","px-3"],[1,"d-flex","flex-column","mb-1","w-100"],[1,"d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3","pb-0"],[1,"form-group","mb-3","w-100","text-start"],["for","email",1,"fw-bold"],["type","email","maxlength","125","id","email",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["for","password",1,"fw-bold"],["type","password","id","password","maxlength","20",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["class","text-start text-danger mb-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100"],[1,"btn","btn-secondary","btn-block","w-100","mb-1",3,"ngClass","click"],[1,"btn","btn-white","btn-block","w-100","mb-1",3,"click"],["src","https://www.google.es/images/branding/googleg/1x/googleg_standard_color_128dp.png",1,"me-1"],[1,"mt-2","text-start"],[1,"me-2"],["href","#",3,"routerLink"],[4,"ngTemplateOutlet"],["carousel",""],[1,"text-start","text-danger","mb-2"],[1,"carousel-template-container","d-flex","justify-content-center","align-items-center","py-3","px-0","mt-3","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),e._uU(4),e.ALo(5,"translate"),e.qZA(),e._UZ(6,"app-language-selector"),e.qZA(),e.TgZ(7,"small",4),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.TgZ(10,"div",5)(11,"div",6)(12,"div",7)(13,"div",8)(14,"label",9),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"input",10),e.NdJ("ngModelChange",function(_){return c.user.email=_}),e.ALo(18,"translate"),e.qZA()(),e.TgZ(19,"div",8)(20,"label",11),e._uU(21),e.ALo(22,"translate"),e.qZA(),e.TgZ(23,"input",12),e.NdJ("ngModelChange",function(_){return c.user.password=_}),e.ALo(24,"translate"),e.qZA()(),e.YNc(25,_C,4,3,"span",13),e.qZA()()(),e.TgZ(26,"div",14)(27,"button",15),e.NdJ("click",function(){return c.login()}),e._uU(28),e.ALo(29,"translate"),e.qZA(),e.TgZ(30,"button",16),e.NdJ("click",function(){return c.loginGoogle()}),e._UZ(31,"img",17),e._uU(32),e.ALo(33,"translate"),e.qZA(),e.TgZ(34,"label",18)(35,"small",19),e._uU(36),e.ALo(37,"translate"),e.qZA(),e.TgZ(38,"a",20),e._uU(39),e.ALo(40,"translate"),e.qZA()()(),e.YNc(41,yC,1,0,null,21),e.qZA(),e.YNc(42,bC,2,0,"ng-template",null,22,e.W1O)),2&t){const h=e.MAs(43);e.xp6(4),e.hij(" ",e.lcZ(5,16,"login.welcome")," "),e.xp6(4),e.Oqu(e.lcZ(9,18,"login.welcome.subtitle")),e.xp6(7),e.Oqu(e.lcZ(16,20,"login.email")),e.xp6(2),e.s9C("placeholder",e.lcZ(18,22,"login.email")),e.Q6J("ngModel",c.user.email),e.xp6(4),e.Oqu(e.lcZ(22,24,"login.password")),e.xp6(2),e.s9C("placeholder",e.lcZ(24,26,"login.password")),e.Q6J("ngModel",c.user.password),e.xp6(2),e.Q6J("ngIf",c.loginError),e.xp6(2),e.Q6J("ngClass",e.VKq(36,CC,!c.canAccess())),e.xp6(1),e.hij(" ",e.lcZ(29,28,"login.access")," "),e.xp6(4),e.hij(" ",e.lcZ(33,30,"login.accessGoogle")," "),e.xp6(4),e.Oqu(e.lcZ(37,32,"login.notAccount")),e.xp6(2),e.Q6J("routerLink",e.DdM(38,ky)),e.xp6(1),e.Oqu(e.lcZ(40,34,"login.register")),e.xp6(2),e.Q6J("ngTemplateOutlet",h)}},directives:[Ny,mn,_i,Si,eo,p.O5,p.mk,At.yS,p.tP,mC],pipes:[ns],styles:["small[_ngcontent-%COMP%]{font-size:8pt}button[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:20px;max-height:20px}button.btn-white[_ngcontent-%COMP%]{background-color:#fff}label[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#0d6efd!important}"]}),r})();var lp=(()=>{return(r=lp||(lp={})).CREATE="CREATE",r.SEARCH="SEARCH",r.SELECT="SELECT",lp;var r})();let $0=(()=>{class r{constructor(t){this.http=t}loadProduct(t){return this.http.get("https://es.openfoodfacts.org/api/v0/product/"+t+".json")}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(_l.eN))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function K0(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",6),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function Fy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"div",2),e.YNc(3,K0,2,1,"ng-container",0),e.TgZ(4,"div",3)(5,"h5",4),e._uU(6),e.qZA(),e.TgZ(7,"p",5),e._uU(8),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",t.imageUrl),e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.brand," ")}}let wC=(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-scan-result"]],inputs:{name:"name",brand:"brand",imageUrl:"imageUrl"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","w-100","my-3"],[1,"card",2,"width","18rem"],[1,"card-body"],[1,"card-title"],[1,"card-text","brand"],[1,"card-img-top",3,"src"]],template:function(t,c){1&t&&e.YNc(0,Fy,9,3,"ng-container",0),2&t&&e.Q6J("ngIf",c.name||c.brand||c.imageUrl)},directives:[p.O5],styles:[".card-img-top[_ngcontent-%COMP%]{max-height:230px;object-fit:cover}"]}),r})();const TC=["priceInput"];function J0(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",16),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.init")))}function Y0(r,i){1&r&&(e.TgZ(0,"div",15),e._UZ(1,"i",18),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.initError")))}function By(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",12)(2,"barcode-scanner-livestream",13),e.NdJ("valueChanges",function(h){return e.CHM(t),e.oxw().onValueChanges(h)})("started",function(h){return e.CHM(t),e.oxw().onStarted(h)}),e.qZA(),e.YNc(3,J0,5,3,"div",14),e.YNc(4,Y0,5,3,"div",14),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(3),e.Q6J("ngIf",!t.barcodeScannerStarted),e.xp6(1),e.Q6J("ngIf",t.barcodeScannerError)}}function Q0(r,i){if(1&r&&(e.TgZ(0,"div")(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"span",22),e._uU(5),e.qZA()()),2&r){const t=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"scanner.code"),":"),e.xp6(3),e.Oqu(t.barcodeValue)}}function EC(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.productRegistered")))}function DC(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",23),e.YNc(2,EC,3,3,"span",0),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.isSavedProduct)}}function X0(r,i){1&r&&(e.ynx(0),e._UZ(1,"i",24),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.BQk()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotRegistered")))}function SC(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",25)(2,"div",26),e._UZ(3,"i",27),e.TgZ(4,"span"),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.BQk()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,1,"scanner.productUnknown")))}function Uy(r,i){if(1&r&&(e.TgZ(0,"div",19)(1,"div",20),e.YNc(2,Q0,6,4,"div",0),e.TgZ(3,"div",21)(4,"small"),e.YNc(5,DC,3,1,"ng-container",0),e.YNc(6,X0,5,3,"ng-container",0),e.YNc(7,SC,7,3,"ng-container",0),e.qZA()()()()),2&r){const t=e.oxw();e.xp6(2),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound),e.xp6(3),e.Q6J("ngIf",t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.isSavedProduct&&!t.openFoodProductFound)}}function xC(r,i){1&r&&e.GkF(0)}function jy(r,i){if(1&r&&(e.ynx(0),e.YNc(1,xC,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(5);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function AC(r,i){1&r&&e.GkF(0)}function Vy(r,i){if(1&r&&(e.ynx(0),e.YNc(1,AC,1,0,"ng-container",28),e.BQk()),2&r){e.oxw(2);const t=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function kT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,jy,2,1,"ng-container",0),e.YNc(2,Vy,2,1,"ng-container",0),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound||t.isSavedProduct),e.xp6(1),e.Q6J("ngIf",!t.loadingOpenFoodProduct&&!t.isSavedProduct&&!t.openFoodProductFound)}}function IC(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",t.savedProduct.name)("brand",t.savedProduct.brand)("imageUrl",t.savedProduct.imageUrl)}}function U_(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name",null==t.openFoodProduct.product?null:t.openFoodProduct.product.product_name)("brand",null==t.openFoodProduct.product?null:t.openFoodProduct.product.brands)("imageUrl",null==t.openFoodProduct.product?null:t.openFoodProduct.product.image_url)}}function PC(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"app-product-scan-result",29),e.BQk()),2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("name","?")("brand","?")("imageUrl",t.DEFAULT_IMAGE_URL)}}function up(r,i){1&r&&e.GkF(0)}function sm(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",30),e.YNc(2,up,1,0,"ng-container",28),e.qZA(),e.BQk()),2&r){e.oxw(2);const t=e.MAs(10);e.xp6(2),e.Q6J("ngTemplateOutlet",t)}}function OC(r,i){if(1&r&&(e.YNc(0,IC,2,3,"ng-container",0),e.YNc(1,U_,2,3,"ng-container",0),e.YNc(2,PC,2,3,"ng-container",0),e.YNc(3,sm,3,1,"ng-container",0)),2&r){const t=e.oxw();e.Q6J("ngIf",t.savedProduct),e.xp6(1),e.Q6J("ngIf",t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",!t.savedProduct&&!t.openFoodProductFound),e.xp6(1),e.Q6J("ngIf",t.mode===t.ProductScanModeEnum.CREATE)}}function LT(r,i){1&r&&e.GkF(0)}function Gy(r,i){if(1&r&&(e.TgZ(0,"div",31),e.YNc(1,LT,1,0,"ng-container",28),e.qZA()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function MC(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const Hy=function(r){return{disabled:r}};function NC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.barcode=h}),e.qZA()(),e.TgZ(6,"div",33)(7,"label",36),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.name=h}),e.qZA()(),e.TgZ(11,"div",33)(12,"label",38),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.TgZ(15,"input",39),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().newProduct.brand=h}),e.qZA()()(),e.TgZ(16,"div",32)(17,"div",33)(18,"label",40),e._uU(19),e.ALo(20,"translate"),e.qZA(),e.TgZ(21,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(22,"option"),e.YNc(23,MC,2,2,"option",42),e.qZA()(),e.TgZ(24,"div",33)(25,"label",43),e._uU(26),e.ALo(27,"translate"),e.qZA(),e.TgZ(28,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()()(),e.TgZ(30,"button",46),e.NdJ("click",function(){return e.CHM(t),e.oxw().createProduct()}),e._UZ(31,"i",47),e.TgZ(32,"span"),e._uU(33),e.ALo(34,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,17,"scanner.code")),e.xp6(2),e.s9C("value",t.newProduct.barcode),e.Q6J("ngModel",t.newProduct.barcode),e.xp6(3),e.Oqu(e.lcZ(9,19,"scanner.name")),e.xp6(2),e.s9C("value",t.newProduct.name),e.Q6J("ngModel",t.newProduct.name),e.xp6(3),e.Oqu(e.lcZ(14,21,"scanner.brand")),e.xp6(2),e.s9C("value",t.newProduct.brand),e.Q6J("ngModel",t.newProduct.brand),e.xp6(4),e.Oqu(e.lcZ(20,23,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(27,25,"scanner.proce")),e.xp6(2),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(29,Hy,!t.canCreateProductAndPrice())),e.xp6(3),e.Oqu(e.lcZ(34,27,"scanner.productPriceSave"))}}function RC(r,i){if(1&r&&(e.TgZ(0,"option",48),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}function Zy(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",32)(1,"div",33)(2,"label",40),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"select",41),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(6,"option"),e.YNc(7,RC,2,2,"option",42),e.qZA()(),e.TgZ(8,"div",33)(9,"label",43),e._uU(10,"Preu"),e.qZA(),e.TgZ(11,"input",44,45),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProduct.price=h}),e.qZA()(),e.TgZ(13,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveShopProduct()}),e._uU(14),e.ALo(15,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(3),e.Oqu(e.lcZ(4,7,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProduct.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(4),e.s9C("value",t.shopProduct.price),e.Q6J("ngModel",t.shopProduct.price),e.xp6(2),e.Q6J("ngClass",e.VKq(11,Hy,!t.shopProduct.price||0===t.shopProduct.price||!t.shopProduct.shopId||0===t.shopProduct.shopId.length)),e.xp6(1),e.hij(" ",e.lcZ(15,9,"scanner.save")," ")}}function qy(r,i){1&r&&(e.TgZ(0,"div",50),e._UZ(1,"i",51),e.TgZ(2,"small",17),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.instructions")))}function ev(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",53),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.productNotFound")))}function j_(r,i){1&r&&(e.TgZ(0,"div",52),e._UZ(1,"i",54),e.TgZ(2,"span"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"scanner.searchingProduct")))}function am(r,i){1&r&&(e.TgZ(0,"div",55),e._UZ(1,"i",56),e.qZA())}function kC(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.shopProduct))}}function zy(r,i){if(1&r&&(e.TgZ(0,"li"),e._uU(1),e.ALo(2,"json"),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(e.lcZ(2,1,t.newProduct))}}function Wy(r,i){if(1&r&&(e.TgZ(0,"small")(1,"ul",57)(2,"li"),e._uU(3),e.qZA(),e.TgZ(4,"li"),e._uU(5),e.qZA(),e.TgZ(6,"li"),e._uU(7),e.qZA(),e.TgZ(8,"li"),e._uU(9),e.qZA(),e.TgZ(10,"li"),e._uU(11,"-------------------------"),e.qZA(),e.YNc(12,kC,3,3,"li",0),e.YNc(13,zy,3,3,"li",0),e.qZA()()),2&r){const t=e.oxw();e.xp6(3),e.hij("mode: ",t.mode,""),e.xp6(2),e.hij("isSavedProduct: ",t.isSavedProduct,""),e.xp6(2),e.hij("openFoodProductFound: ",t.openFoodProductFound,""),e.xp6(2),e.hij("loadingOpenFoodProduct: ",t.loadingOpenFoodProduct,""),e.xp6(3),e.Q6J("ngIf",t.shopProduct),e.xp6(1),e.Q6J("ngIf",t.newProduct)}}let LC=(()=>{class r{constructor(t,c,h,_,O,z){this.openFoodService=t,this.productService=c,this.shopService=h,this.shopProductService=_,this.loginService=O,this.translate=z,this.onSaveProduct=new e.vpe,this.onCreateProduct=new e.vpe,this.onSaveShopProduct=new e.vpe,this.onProductFound=new e.vpe,this.onBarcodeRead=new e.vpe,this.DEFAULT_IMAGE_URL=fs.T,this.barcodeScannerStarted=!1,this.barcodeScannerError=!1,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=!1,this.isSavedProduct=!1,this.productHasPrices=!1,this.barcodeChanged=new ei.x,this.ProductScanModeEnum=lp,this.barcodeChanged.pipe(mo(500),no()).subscribe(J=>{this.barcodeValue!==J.codeResult.code&&(this.onBarcodeRead.emit(),this.barcodeValue=J.codeResult.code,this.newProduct.barcode=this.barcodeValue,this.shopProduct.productBarcode=this.barcodeValue,this.savedProduct=void 0,this.productHasPrices=!1,this.savedProduct=this.products.find(De=>De.barcode===this.barcodeValue),this.isSavedProduct=void 0!==this.savedProduct,this.isSavedProduct?this.isSavedProduct&&(this.onProductFound.emit(),this.productHasPrices=this.shopsProducts.filter(De=>De.productBarcode===this.barcodeValue).length>0):this.getOpenFoodProduct(this.barcodeValue))})}getOpenFoodProduct(t){this.openFoodProduct=void 0,this.loadingOpenFoodProduct=!0,this.openFoodProductFound=!1,setTimeout(()=>{this.openFoodService.loadProduct(t).subscribe(c=>{this.openFoodProduct=c,this.loadingOpenFoodProduct=!1,this.openFoodProductFound=void 0!==c.product,this.openFoodProductFound&&this.onProductFound.emit();const h=this.products.find(_=>_.barcode===t);h&&this.openFoodProduct.product&&(this.openFoodProduct.product.brands=h.brand,this.openFoodProduct.product.image_url=h.imageUrl,this.openFoodProduct.product.product_name=h.name)})},300)}onValueChanges(t){!this.openFoodProductFound&&!this.isSavedProduct&&!this.loadingOpenFoodProduct&&this.barcodeChanged.next(t)}capitalizeFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}saveProduct(){var t,c,h,_,O,z;if(this.savedProduct)this.onSaveProduct.emit(this.savedProduct);else{const J={id:xo(),barcode:this.barcodeValue,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)?this.capitalizeFirstLetter(this.openFoodProduct.product.brands):"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)?this.capitalizeFirstLetter(this.openFoodProduct.product.product_name):"?",imageUrl:(null===(z=null===(O=this.openFoodProduct)||void 0===O?void 0:O.product)||void 0===z?void 0:z.image_url)?this.openFoodProduct.product.image_url:fs.T};this.onSaveProduct.emit(J)}}canCreateProductAndPrice(){return this.newProduct&&this.shopProduct&&this.newProduct.name.length>0&&this.newProduct.brand.length>0&&this.shopProduct.price&&this.shopProduct.shopId&&this.shopProduct.shopId.length>0}createProduct(){this.onCreateProduct.emit({product:this.newProduct,shopProduct:this.shopProduct})}saveShopProduct(){var t,c,h,_,O,z;this.products.find(De=>De.barcode===this.shopProduct.productBarcode)?this.onSaveShopProduct.emit(this.shopProduct):confirm(this.translate.instant("scanner.createUnknownProductConfirm"))&&(this.openFoodProductFound?(this.newProduct={id:xo(),barcode:this.shopProduct.productBarcode,brand:(null===(c=null===(t=this.openFoodProduct)||void 0===t?void 0:t.product)||void 0===c?void 0:c.brands)||"?",favourite:!1,name:(null===(_=null===(h=this.openFoodProduct)||void 0===h?void 0:h.product)||void 0===_?void 0:_.product_name)||"?",imageUrl:(null===(z=null===(O=this.openFoodProduct)||void 0===O?void 0:O.product)||void 0===z?void 0:z.image_url)||fs.T,createdBy:this.loggedUser},this.products.push(this.newProduct)):(this.newProduct.barcode=this.shopProduct.productBarcode,this.products.push(this.newProduct)),console.log(this.newProduct),this.productService.createProduct(this.newProduct).subscribe(()=>{this.onSaveShopProduct.emit(this.shopProduct)}))}selectPriceInput(){this.priceInput.nativeElement.select()}ngAfterViewInit(){this.loggedUser=this.loginService.getLoggedUser(),this.barcodeScanner.start();const t=localStorage.getItem(Rn.M.PS_LAST_SHOP_ID);this.newProduct={id:xo(),barcode:"",name:"",brand:"",favourite:!1,createdBy:this.loggedUser,imageUrl:fs.T},this.shopProduct={price:0,productBarcode:void 0,shopId:t||void 0,updateDate:(new Date).getTime(),createdBy:this.loggedUser},this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shops=this.shopService._shops,this.products=this.productService._products}onStarted(t){this.barcodeScannerStarted=t}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($0),e.Y36(Tr.M),e.Y36(Rr.d),e.Y36(Ho),e.Y36($r.r),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-barcode-scanner"]],viewQuery:function(t,c){if(1&t&&(e.Gf(pf,5),e.Gf(TC,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeScanner=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},inputs:{mode:"mode"},outputs:{onSaveProduct:"onSaveProduct",onCreateProduct:"onCreateProduct",onSaveShopProduct:"onSaveShopProduct",onProductFound:"onProductFound",onBarcodeRead:"onBarcodeRead"},decls:21,vars:5,consts:[[4,"ngIf"],["class","d-flex flex-column justify-content-center align-items-center mt-0",4,"ngIf","ngIfElse"],[1,"d-flex","flex-column","justify-content-center","align-items-center"],["productTemplate",""],["class","d-flex flex-column",4,"ngIf"],["productAndPriceShopForm",""],["priceShopForm",""],["scanInstructions",""],["noProductFound",""],["loader",""],["noProductImage",""],["debug",""],[1,"d-flex","justify-content-center","align-items-center","w-100","scanner-container","mb-2"],["type","ean",3,"valueChanges","started"],["class","d-flex flex-column w-100 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","flex-column","w-100","justify-content-center","align-items-center"],[1,"mb-2","fas","fa-spinner","fa-spin"],[1,"fst-italic"],[1,"mb-2","fas","fa-warning","text-danger"],[1,"d-flex","flex-column","justify-content-center","align-items-center","mt-0"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"d-flex","w-100","justify-content-center","align-items-center","my-2"],[1,"mx-2"],[1,"fas","fa-check","text-success","me-2"],[1,"fas","fa-info-circle","text-info","me-2"],[1,"d-flex","flex-column","w-100","justify-content-start"],[1,"d-flex","w-100","justify-content-center","align-items-center"],[1,"fas","fa-circle-question","text-warning","me-2"],[4,"ngTemplateOutlet"],[3,"name","brand","imageUrl"],[1,"d-flex","w-100","px-3"],[1,"d-flex","flex-column"],[1,"d-flex","flex-column","w-100","mt-2"],[1,"form-group","mb-3","w-100"],["for","prodbarcode"],["id","prodbarcode","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodname"],["id","prodname","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","prodbrand"],["id","prodbrand","type","text",1,"form-control",3,"value","ngModel","ngModelChange"],["for","shop"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price"],["id","price","type","number",1,"form-control",3,"value","ngModel","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-2",3,"ngClass","click"],[1,"fas","fa-shopping-basket","me-3"],[3,"value"],[1,"btn","btn-secondary","btn-lg","mb-3",3,"ngClass","click"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-center","mt-3","w-100","py-1","px-2"],[1,"fas","fa-info-circle","me-3"],[1,"d-flex","justify-content-center","align-items-center","mt-3","w-100"],[1,"fas","fa-warning","me-2"],[1,"fas","fa-spinner","me-2"],[1,"d-flex","justify-content-start","align-items-center","mt-3","ms-3","w-100"],[1,"fas","fa-image"],[1,"mt-3"]],template:function(t,c){if(1&t&&(e.YNc(0,By,5,2,"ng-container",0),e.YNc(1,Uy,8,4,"div",1),e.TgZ(2,"div",2),e.YNc(3,kT,3,2,"ng-container",0),e.qZA(),e.YNc(4,OC,4,4,"ng-template",null,3,e.W1O),e.YNc(6,Gy,2,1,"div",4),e.YNc(7,NC,35,31,"ng-template",null,5,e.W1O),e.YNc(9,Zy,16,13,"ng-template",null,6,e.W1O),e.YNc(11,qy,5,3,"ng-template",null,7,e.W1O),e.YNc(13,ev,5,3,"ng-template",null,8,e.W1O),e.YNc(15,j_,5,3,"ng-template",null,9,e.W1O),e.YNc(17,am,2,0,"ng-template",null,10,e.W1O),e.YNc(19,Wy,14,6,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(12);e.Q6J("ngIf",!c.openFoodProductFound&&!c.isSavedProduct),e.xp6(1),e.Q6J("ngIf",c.barcodeValue)("ngIfElse",h),e.xp6(2),e.Q6J("ngIf",c.barcodeValue),e.xp6(3),e.Q6J("ngIf",!1)}},directives:[p.O5,pf,p.tP,wC,mn,Si,eo,va,Vs,ka,p.sg,Xs,p.mk],pipes:[ns,p.Ts],styles:[".scanner-container[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden;border:2px solid #fff;min-height:200px;color:#fff;font-weight:300;background-color:#2c2c2c66}.card-img-top[_ngcontent-%COMP%]{height:100px}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:8pt}"]}),r})();const FC=["barcodeInput"],tv=["priceInput"];function BC(r,i){1&r&&e.GkF(0)}function FT(r,i){1&r&&e._UZ(0,"i",12)}function UC(r,i){1&r&&e._UZ(0,"i",12)}function jC(r,i){1&r&&(e.TgZ(0,"div",16),e._UZ(1,"i",17),e.TgZ(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()),2&r&&(e.xp6(3),e.hij(" ",e.lcZ(4,1,"scanner.searchInstructions")," "))}function dp(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"app-barcode-scanner",14),e.NdJ("onSaveShopProduct",function(h){return e.CHM(t),e.oxw().saveShopProduct(h)})("onCreateProduct",function(h){return e.CHM(t),e.oxw().createProduct(h)})("onProductFound",function(){return e.CHM(t),e.oxw().productFound=!0})("onBarcodeRead",function(){return e.CHM(t),e.oxw().barcodeRead=!0}),e.qZA(),e.YNc(3,jC,5,3,"div",15),e.qZA(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(2),e.Q6J("mode",t.ProductScanModeEnum.CREATE),e.xp6(1),e.Q6J("ngIf",!t.productFound&&!t.barcodeRead)}}function $y(r,i){1&r&&e.GkF(0)}function hp(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.scanner")))}function BT(r,i){1&r&&(e.TgZ(0,"span",24),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"scanner.manual")))}function Ky(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",18)(1,"span",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",20),e.TgZ(3,"span",21),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",22),e._uU(7,"/"),e.qZA(),e.YNc(8,hp,3,3,"span",23),e.YNc(9,BT,3,3,"span",23),e.qZA()}if(2&r){const t=e.oxw();e.xp6(4),e.Oqu(e.lcZ(5,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf","SCANNER"===t.mode),e.xp6(1),e.Q6J("ngIf","MANUAL"===t.mode)}}function VC(r,i){if(1&r&&(e.TgZ(0,"option",46),e._uU(1),e.qZA()),2&r){const t=i.$implicit;e.s9C("value",t.id),e.xp6(1),e.hij(" ",t.name," ")}}const GC=function(r){return{readonly:r}},Jy=function(r){return{disabled:r}};function UT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA(),e.TgZ(2,"div",27)(3,"label",28),e._uU(4),e.ALo(5,"translate"),e.qZA(),e.TgZ(6,"div",29)(7,"label",30),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.TgZ(10,"input",31,32),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.barcode=h}),e.ALo(12,"translate"),e.qZA()(),e.TgZ(13,"div",33)(14,"label",34),e._uU(15,"Nom"),e.qZA(),e.TgZ(16,"input",35),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.name=h}),e.ALo(17,"translate"),e.qZA()(),e.TgZ(18,"div",33)(19,"label",36),e._uU(20),e.ALo(21,"translate"),e.qZA(),e.TgZ(22,"input",37),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().productDetail.brand=h}),e.ALo(23,"translate"),e.qZA()()(),e._UZ(24,"hr"),e.TgZ(25,"div",38)(26,"label",28),e._uU(27),e.ALo(28,"translate"),e.qZA(),e.TgZ(29,"div",33)(30,"label",39),e._uU(31),e.ALo(32,"translate"),e.qZA(),e.TgZ(33,"select",40),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.shopId=h})("change",function(){return e.CHM(t),e.oxw().selectPriceInput()}),e._UZ(34,"option"),e.YNc(35,VC,2,2,"option",41),e.qZA()(),e.TgZ(36,"div",33)(37,"label",42),e._uU(38),e.ALo(39,"translate"),e.qZA(),e.TgZ(40,"input",43,44),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopProductDetail.price=h}),e.ALo(42,"translate"),e.qZA()()(),e.TgZ(43,"button",45),e.NdJ("click",function(){e.CHM(t);const h=e.oxw();return h.createProduct({product:h.productDetail,shopProduct:h.shopProductDetail})}),e.TgZ(44,"span"),e._uU(45),e.ALo(46,"translate"),e.qZA()()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("src",null==t.productDetail?null:t.productDetail.imageUrl,e.LSH),e.xp6(3),e.Oqu(e.lcZ(5,25,"scanner.product")),e.xp6(4),e.Oqu(e.lcZ(9,27,"scanner.code")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.barcode),e.s9C("placeholder",e.lcZ(12,29,"scanner.code")),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(6),e.s9C("value",null==t.productDetail?null:t.productDetail.name),e.s9C("placeholder",e.lcZ(17,31,"scanner.name")),e.Q6J("ngClass",e.VKq(47,GC,t.lockProductEdition))("ngModel",t.productDetail.name),e.xp6(4),e.Oqu(e.lcZ(21,33,"scanner.brand")),e.xp6(2),e.s9C("value",null==t.productDetail?null:t.productDetail.brand),e.s9C("placeholder",e.lcZ(23,35,"scanner.brand")),e.Q6J("ngClass",e.VKq(49,GC,t.lockProductEdition))("ngModel",t.productDetail.brand),e.xp6(5),e.Oqu(e.lcZ(28,37,"scanner.price")),e.xp6(4),e.Oqu(e.lcZ(32,39,"scanner.shop")),e.xp6(2),e.Q6J("ngModel",t.shopProductDetail.shopId),e.xp6(2),e.Q6J("ngForOf",t.shops),e.xp6(3),e.Oqu(e.lcZ(39,41,"scanner.price")),e.xp6(2),e.s9C("value",null==t.shopProductDetail?null:t.shopProductDetail.price),e.s9C("placeholder",e.lcZ(42,43,"scanner.price")),e.Q6J("ngModel",t.shopProductDetail.price),e.xp6(3),e.Q6J("ngClass",e.VKq(51,Jy,!t.canCreateProductAndPrice())),e.xp6(2),e.Oqu(e.lcZ(46,45,"scanner.save"))}}const nv=function(r){return{active:r}},rv=function(r){return{hidden:r}};let Yy=(()=>{class r{constructor(t,c,h,_,O,z,J){this.router=t,this.shopProductService=c,this.productService=h,this.loginService=_,this.shopService=O,this.openFoodService=z,this.translate=J,this.ProductScanModeEnum=lp,this.productDetail={id:xo(),barcode:"",brand:"",favourite:!1,name:""},this.shopProductDetail={price:0,productBarcode:"",shopId:"",updateDate:(new Date).getTime()},this.productFound=!1,this.barcodeRead=!1,this.matchingBarcode=!1,this.lockProductEdition=!1,this.lastShopId="",this.mode="SCANNER"}setMode(t){this.mode=t,"MANUAL"===t&&(this.productDetail=this.getNewProduct(),this.shopProductDetail=this.getNewShopProduct(),this.initBarcodeTextInput())}getNewProduct(){return{id:xo(),barcode:"",brand:"",favourite:!1,name:"",createdBy:this.loggedUser,imageUrl:fs.T}}getNewShopProduct(){return{price:0,productBarcode:"",shopId:this.lastShopId,updateDate:(new Date).getTime(),createdBy:this.loggedUser}}initBarcodeTextInput(){this.barcodeChangeSubscription&&this.barcodeChangeSubscription.unsubscribe(),ki(this.barcodeInput.nativeElement,"keyup").pipe((0,ln.U)(c=>c.target.value),(0,Ao.h)(c=>c.length>2),mo(500),no()).subscribe(c=>{console.log("barcodeInput changed:",c),this.shopProductDetail.productBarcode=c,this.productDetail.barcode=c,this.lockProductEdition=!0,this.matchingBarcode=!0;const h=this.productService._products.find(_=>_.barcode===c);h?(this.productDetail.name=h.name,this.productDetail.barcode=h.barcode,this.productDetail.brand=h.brand,this.productDetail.favourite=h.favourite,this.productDetail.imageUrl=h.imageUrl,this.productDetail.createdBy=h.createdBy,this.matchingBarcode=!1):(this.openFoodProductLoadSubscription&&this.openFoodProductLoadSubscription.unsubscribe(),this.openFoodProductLoadSubscription=this.openFoodService.loadProduct(c).subscribe(_=>{void 0!==_.product?(this.productDetail.name=_.product.product_name,this.productDetail.barcode=c,this.productDetail.brand=_.product.brands,this.productDetail.favourite=!1,this.productDetail.imageUrl=_.product.image_url,this.productDetail.createdBy=this.loggedUser,this.matchingBarcode=!1,this.lockProductEdition=!1):(this.matchingBarcode=!1,this.lockProductEdition=!1,this.productDetail.name="",this.productDetail.brand="",this.productDetail.favourite=!1,this.productDetail.imageUrl=fs.T)}))})}selectPriceInput(){this.priceInput.nativeElement.select()}canCreateProductAndPrice(){var t,c,h,_;return this.productDetail&&(null===(t=this.productDetail.barcode)||void 0===t?void 0:t.length)>0&&(null===(c=this.productDetail.name)||void 0===c?void 0:c.length)>0&&(null===(h=this.productDetail.brand)||void 0===h?void 0:h.length)>0&&this.shopProductDetail&&(null===(_=this.shopProductDetail.productBarcode)||void 0===_?void 0:_.length)>0&&this.shopProductDetail.price>0&&this.shopProductDetail.shopId&&this.shopProductDetail.shopId.length>0}saveShopProduct(t){t?(console.log("saveShopProduct()",t),t.createdBy=this.loggedUser,this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):(console.log("saveShopProduct()",this.shopProductDetail),!this.shopsProducts.some(h=>h.productBarcode===this.shopProductDetail.productBarcode&&h.shopId===this.shopProductDetail.shopId)||confirm(this.translate.instant("scanner.addExistingShopProductConfirm"))?(this.shopsProducts.push(this.shopProductDetail),this.shopProductService.addShopProduct(t).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopId),this.exit()})):this.exit())}createProduct(t){console.log("AddProductByBarcodeComponent.createProduct()",t),this.lockProductEdition?t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit():this.productService.createProduct(t.product).subscribe(()=>{t.shopProduct?this.shopProductService.addShopProduct(t.shopProduct).subscribe(()=>{localStorage.setItem(Rn.M.PS_LAST_SHOP_ID,t.shopProduct.shopId),this.exit()}):this.exit()})}exit(){this.router.navigate([""])}ngOnInit(){this.loggedUser=this.loginService.getLoggedUser(),this.shopProductService.shopsProducts.subscribe(c=>{this.shopsProducts=c}),this.shopsProducts=this.shopProductService._shopsProducts,this.shopService.shops.subscribe(c=>{this.shops=c}),this.shops=this.shopService._shops;const t=localStorage.getItem(Rn.M.PS_LAST_SHOP_ID);t&&(this.lastShopId=t,this.shopProductDetail.shopId=t)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Ho),e.Y36(Tr.M),e.Y36($r.r),e.Y36(Rr.d),e.Y36($0),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-add-product-by-barcode"]],viewQuery:function(t,c){if(1&t&&(e.Gf(FC,5),e.Gf(tv,5)),2&t){let h;e.iGM(h=e.CRH())&&(c.barcodeInput=h.first),e.iGM(h=e.CRH())&&(c.priceInput=h.first)}},decls:21,vars:22,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"breadcrumb-container","d-flex","flex-column","mb-","px-3","w-100"],[4,"ngTemplateOutlet"],["role","group","aria-label","Basic example",1,"btn-group","w-100","mb-3"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"d-flex","flex-column","px-3","w-100","h-100","page-content"],[4,"ngIf"],[1,"d-flex","flex-column","w-100",3,"ngClass"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","pb-2"],["breadcrumb",""],["productAndPriceShopForm",""],[1,"fas","fa-check","me-2"],[1,"d-flex","flex-column"],[3,"mode","onSaveShopProduct","onCreateProduct","onProductFound","onBarcodeRead"],["class","\n            d-flex\n            justify-content-center\n            align-items-start\n            alert alert-light\n          ",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-start","alert","alert-light"],[1,"fas","fa-hand-point-right","me-2","mt-1"],[1,"breadcrumb","d-flex","justify-content-start","align-items-center","w-100"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"],[1,"d-flex","justify-content-center","align-items-center","w-100","mt-2"],[1,"product-image",3,"src"],[1,"d-flex","flex-column","w-100","mt-0"],[1,"fw-bold","my-2"],[1,"d-flex","form-group","mb-1","w-100"],["for","prodbarcode",1,"pe-3"],["id","prodbarcode","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["barcodeInput",""],[1,"form-group","mb-1","w-100"],["for","prodname",1,"pe-3"],["id","prodname","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],["for","prodbrand",1,"pe-3"],["id","prodbrand","type","text","maxlength","200",1,"form-control",3,"ngClass","value","ngModel","placeholder","ngModelChange"],[1,"d-flex","flex-column","w-100"],["for","shop",1,"pe-3"],["id","shop",1,"form-select",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["for","price",1,"pe-3"],["id","price","type","number","maxlength","15",1,"form-control",3,"value","ngModel","placeholder","ngModelChange"],["priceInput",""],[1,"btn","btn-lg","btn-secondary","my-3",3,"ngClass","click"],[3,"value"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,BC,1,0,"ng-container",2),e.qZA(),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.setMode("SCANNER")}),e.YNc(5,FT,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.setMode("MANUAL")}),e.YNc(9,UC,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.qZA()(),e.TgZ(12,"div",6),e.YNc(13,dp,4,2,"ng-container",7),e.TgZ(14,"div",8),e.YNc(15,$y,1,0,"ng-container",2),e.qZA(),e._UZ(16,"div",9),e.qZA()(),e.YNc(17,Ky,10,5,"ng-template",null,10,e.W1O),e.YNc(19,UT,47,53,"ng-template",null,11,e.W1O)),2&t){const h=e.MAs(18),_=e.MAs(20);e.xp6(2),e.Q6J("ngTemplateOutlet",h),e.xp6(2),e.Q6J("ngClass",e.VKq(16,nv,"SCANNER"===c.mode)),e.xp6(1),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(7,12,"scanner.scanner")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(18,nv,"MANUAL"===c.mode)),e.xp6(1),e.Q6J("ngIf","MANUAL"===c.mode),e.xp6(1),e.hij(" ",e.lcZ(11,14,"scanner.manual")," "),e.xp6(3),e.Q6J("ngIf","SCANNER"===c.mode),e.xp6(1),e.Udp("height","MANUAL"!==c.mode?"0px":"auto"),e.Q6J("ngClass",e.VKq(20,rv,"MANUAL"!==c.mode)),e.xp6(1),e.Q6J("ngTemplateOutlet",_)}},directives:[p.tP,p.mk,p.O5,LC,Xs,mn,_i,Si,eo,va,Vs,ka,p.sg],pipes:[ns],styles:[".btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px;width:50%}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}.hidden[_ngcontent-%COMP%]{height:0px;overflow:hidden}.readonly[_ngcontent-%COMP%]{pointer-events:none;opacity:.8;background-color:#f0f8ff}.form-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:20%;text-align:right}.product-image[_ngcontent-%COMP%]{max-width:100px;max-height:100px}.breadcrumb-container[_ngcontent-%COMP%]{color:#fff;background-color:#444}.page-content[_ngcontent-%COMP%]{overflow:auto}"]}),r})(),Qy=(()=>{class r{constructor(t){this.router=t,this.history=[],this.router.events.pipe((0,Ao.h)(c=>c instanceof At.m2)).subscribe(c=>{("/"===c.url||"/home"===c.url)&&(this.history=[]),this.history.unshift(c.url)})}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(At.F0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})();function Xy(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",7)(2,"span",3),e._uU(3),e.qZA()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("routerLink",t.pathUrl),e.xp6(2),e.Oqu(t.label)}}function e1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",8),e._uU(2),e.qZA(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.label)}}function HC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"span",5),e._uU(2,"/"),e.qZA(),e.YNc(3,Xy,4,2,"ng-container",6),e.YNc(4,e1,3,1,"ng-container",6),e.BQk()),2&r){const t=i.index,c=e.oxw();e.xp6(3),e.Q6J("ngIf",t<c.steps.length-1),e.xp6(1),e.Q6J("ngIf",t===c.steps.length-1)}}let t1=(()=>{class r{constructor(t,c,h,_,O,z){this.router=t,this.route=c,this.navigationService=h,this.shopService=_,this.productService=O,this.translate=z,this.steps=[]}exit(){this.router.navigateByUrl("")}getLabel(t){return t.match("/edit-product")?this.productService._products.find(c=>c.barcode===t.replace("/edit-product/","")).name:t.match("/edit-shop")?this.shopService._shops.find(c=>c.id===t.replace("/edit-shop/","")).name:t.match("/search-products")?this.translate.instant("breadcrumb.products"):t.match("/search-shops")?this.translate.instant("breadcrumb.shops"):""}ngOnInit(){let t=JSON.parse(JSON.stringify(this.navigationService.history));if(t.length>2&&(t=t.slice(0,2).reverse()),this.steps=t.map(c=>({label:this.getLabel(c),pathUrl:c})),0===t.length)if(window.location.href.match("/edit-shop")){const c=this.route.snapshot.params.id;this.steps.push({label:this.shopService._shops.find(h=>h.id===c).name,pathUrl:""})}else if(window.location.href.match("/edit-product")){const c=this.route.snapshot.params.barcode;this.steps.push({label:this.productService._products.find(h=>h.barcode===c).name,pathUrl:""})}if(this.steps.length>1){const h=this.steps[this.steps.length-2];this.steps[this.steps.length-1].pathUrl.indexOf("/edit-shop/")>-1&&h.pathUrl.indexOf("/edit-product/")>-1&&(this.steps[this.steps.length-2]={label:this.translate.instant("breadcrumb.shops"),pathUrl:"/search-shops"})}}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(At.gz),e.Y36(Qy),e.Y36(Rr.d),e.Y36(Tr.M),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-breadcrumbs"]],decls:7,vars:4,consts:[[1,"breadcrumb","text-start","px-3"],[1,"step","cursor-pointer","text-decoration-underline",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[4,"ngFor","ngForOf"],[1,"divider","mx-2"],[4,"ngIf"],[1,"step","cursor-pointer","text-decoration-underline",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"span",1),e.NdJ("click",function(){return c.exit()}),e._UZ(2,"i",2),e.TgZ(3,"span",3),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.YNc(6,HC,5,2,"ng-container",4),e.qZA()),2&t&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(2),e.Q6J("ngForOf",c.steps))},directives:[p.sg,p.O5,At.rH],pipes:[ns],styles:[".breadcrumb[_ngcontent-%COMP%]{margin-top:1rem;font-size:13pt!important;flex-wrap:nowrap;width:auto!important;text-overflow:ellipsis!important;white-space:nowrap!important;display:block!important;overflow:hidden!important}.breadcrumb[_ngcontent-%COMP%]   span.step[_ngcontent-%COMP%]{margin:0}.breadcrumb[_ngcontent-%COMP%]   span.divider[_ngcontent-%COMP%]{margin:0 5px;color:#fff;font-weight:100}"]}),r})();function ZC(r,i){1&r&&e.GkF(0)}function qC(r,i){if(1&r&&(e.ynx(0),e.YNc(1,ZC,1,0,"ng-container",11),e.BQk()),2&r){e.oxw();const t=e.MAs(18);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function zC(r,i){1&r&&e._UZ(0,"i",12)}function WC(r,i){1&r&&e._UZ(0,"i",12)}function cm(r,i){1&r&&e._UZ(0,"i",12)}const V_=function(r){return{active:r}};function n1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"button",4),e.NdJ("click",function(){return e.CHM(t),e.oxw().selectedTab=2}),e.YNc(1,cm,1,0,"i",5),e._uU(2),e.ALo(3,"translate"),e.qZA()}if(2&r){const t=e.oxw();e.Q6J("ngClass",e.VKq(5,V_,2===t.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(3,3,"product.characteristics")," ")}}function r1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",27),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function i1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.name=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.name")),e.Q6J("ngModel",t.productDetail.name)}}function o1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",29),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function s1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"input",30),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).productDetail.brand=h}),e.ALo(2,"translate"),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(3);e.xp6(1),e.s9C("placeholder",e.lcZ(2,2,"product.brand")),e.Q6J("ngModel",t.productDetail.brand)}}function $C(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",31),e._UZ(2,"img",32),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("src",t.productDetail.imageUrl,e.LSH)}}function a1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",33)(2,"span",34),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",35),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.hij("",e.lcZ(4,2,"product.createdBy"),":"),e.xp6(3),e.Oqu(null!=t.productDetail&&null!=t.productDetail.createdBy&&t.productDetail.createdBy.username?null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.username:null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.substr(0,null==t.productDetail||null==t.productDetail.createdBy?null:t.productDetail.createdBy.email.indexOf("@")))}}const c1=function(r){return{"pb-1":r}},iv=function(r){return{disabled:r}};function KC(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",13)(2,"div",14)(3,"div",15)(4,"div",16)(5,"label",17),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"input",18),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.barcode=h}),e.qZA()(),e.TgZ(9,"div",16)(10,"label",19),e._uU(11),e.ALo(12,"translate"),e.qZA(),e.YNc(13,r1,3,4,"ng-container",2),e.YNc(14,i1,3,4,"ng-container",2),e.qZA(),e.TgZ(15,"div",16)(16,"label",20),e._uU(17),e.ALo(18,"translate"),e.qZA(),e.YNc(19,o1,3,4,"ng-container",2),e.YNc(20,s1,3,4,"ng-container",2),e.qZA(),e.TgZ(21,"div",21)(22,"input",22),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).productDetail.favourite=h}),e.qZA(),e.TgZ(23,"label",23),e._uU(24),e.ALo(25,"translate"),e.qZA()(),e.YNc(26,$C,3,1,"ng-container",2),e.qZA()()(),e.YNc(27,a1,7,4,"ng-container",2),e.TgZ(28,"div",24)(29,"button",25),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).updateProduct()}),e._UZ(30,"span",26),e._uU(31),e.ALo(32,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(25,c1,null==t.productDetail?null:t.productDetail.createdBy)),e.xp6(5),e.Oqu(e.lcZ(7,15,"product.barcode")),e.xp6(2),e.Q6J("ngModel",t.productDetail.barcode),e.xp6(3),e.Oqu(e.lcZ(12,17,"product.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(3),e.Oqu(e.lcZ(18,19,"product.brand")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.productDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(25,21,"product.favourite")),e.xp6(2),e.Q6J("ngIf",t.productDetail.imageUrl),e.xp6(1),e.Q6J("ngIf",null==t.productDetail?null:t.productDetail.createdBy),e.xp6(2),e.Q6J("ngClass",e.VKq(27,iv,(null==t.productDetail?null:t.productDetail.brand.length)<1||(null==t.productDetail?null:t.productDetail.name.length)<1||(null==t.productDetail?null:t.productDetail.barcode.length)<1)),e.xp6(2),e.hij(" ",e.lcZ(32,23,"product.save")," ")}}function JC(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",51),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(4).removeShopProduct(h)}),e.qZA()}}function lm(r,i){if(1&r&&(e.TgZ(0,"span",58),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username||t.createdBy.email,")")}}const YC=function(r){return{"fw-bold":r}};function ov(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",54)(2,"div",55)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,lm,2,1,"span",56),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",57),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(6).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(6);e.xp6(1),e.Q6J("ngClass",e.VKq(11,YC,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,iv,!h.canRemoveShopProduct(t)))}}function hu(r,i){if(1&r&&(e.TgZ(0,"li",52)(1,"ul",53),e.YNc(2,ov,12,15,"li",41),e.qZA()()),2&r){const t=e.oxw(5);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const QC=function(r){return[r]};function sv(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",42)(2,"div",43),e._UZ(3,"img",44),e.TgZ(4,"a",45),e._uU(5),e.qZA(),e.TgZ(6,"div",46)(7,"span",47),e.YNc(8,JC,1,0,"span",48),e.TgZ(9,"i",49),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(4).showHistory(_)}),e.qZA(),e._uU(10),e.ALo(11,"number"),e.qZA()()()(),e.YNc(12,hu,3,1,"li",50),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(4);e.xp6(3),e.Q6J("src",c.getShopImage(t.shopId),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,QC,"/edit-shop/"+t.shopId)),e.xp6(1),e.hij("",c.getShopName(t.shopId)," "),e.xp6(3),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,iv,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(11,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function um(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",40),e.YNc(2,sv,13,14,"ng-container",41),e.qZA(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function XC(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",36)(2,"div",37)(3,"button",38),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,um,3,1,"ng-container",39),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(2),c=e.MAs(20);e.xp6(4),e.hij(" ",e.lcZ(5,4,"product.pricesInShops")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function ew(r,i){1&r&&(e.ynx(0),e.TgZ(1,"div",60),e._UZ(2,"i",61),e.qZA(),e.BQk())}function tw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",63),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"small",63),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.category")),e.xp6(3),e.Oqu(null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories)}}function G_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nutri-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",66),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nutriscore-"+t.openFoodProduct.product.nutriscore_data.grade+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nutriscore."+t.openFoodProduct.product.nutriscore_data.grade))}}function H_(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Nova group"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",68),e.TgZ(6,"small",67),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/nova-group-"+t.openFoodProduct.product.nova_group+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.nova.nova"+t.openFoodProduct.product.nova_group))}}function nw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3,"Eco-Score"),e.qZA(),e.TgZ(4,"div",65),e._UZ(5,"img",69),e.TgZ(6,"small",70),e._uU(7),e.ALo(8,"translate"),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(5),e.Q6J("src","https://static.openfoodfacts.org/images/attributes/ecoscore-"+t.openFoodProduct.product.ecoscore_grade.replace("not-applicable","unknown")+".svg",e.LSH),e.xp6(2),e.Oqu(e.lcZ(8,2,"product.ecoscore.ecoscore"+t.openFoodProduct.product.ecoscore_grade.toUpperCase().replace("-","")))}}function rw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",65)(6,"small"),e._uU(7),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,2,"product.allergens")),e.xp6(4),e.Oqu(t.getAlergens())}}const dm=function(r){return{levelValue:r}};function l1(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,dm,t.openFoodProduct.product.nutrient_levels.fat))}}function av(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,dm,t.openFoodProduct.product.nutrient_levels.salt))}}function u1(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,dm,t.openFoodProduct.product.nutrient_levels["saturated-fat"]))}}function iw(r,i){if(1&r&&e.GkF(0,74),2&r){const t=e.oxw(4),c=e.MAs(22);e.Q6J("ngTemplateOutlet",c)("ngTemplateOutletContext",e.VKq(2,dm,t.openFoodProduct.product.nutrient_levels.sugars))}}function ow(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",62)(2,"h5",64),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",71)(6,"div",72)(7,"small"),e._uU(8),e.ALo(9,"translate"),e.qZA(),e.YNc(10,l1,1,4,"ng-container",73),e.qZA(),e.TgZ(11,"div",72)(12,"small"),e._uU(13),e.ALo(14,"translate"),e.qZA(),e.YNc(15,av,1,4,"ng-container",73),e.qZA(),e.TgZ(16,"div",72)(17,"small"),e._uU(18),e.ALo(19,"translate"),e.qZA(),e.YNc(20,u1,1,4,"ng-container",73),e.qZA(),e.TgZ(21,"div",72)(22,"small"),e._uU(23),e.ALo(24,"translate"),e.qZA(),e.YNc(25,iw,1,4,"ng-container",73),e.qZA()()(),e.BQk()),2&r){const t=e.oxw(3);e.xp6(3),e.Oqu(e.lcZ(4,9,"product.nutrientLevels")),e.xp6(5),e.Oqu(e.lcZ(9,11,"product.nutrients.fat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.fat),e.xp6(3),e.Oqu(e.lcZ(14,13,"product.nutrients.salt")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.salt),e.xp6(3),e.Oqu(e.lcZ(19,15,"product.nutrients.saturedFat")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels["saturated-fat"]),e.xp6(3),e.Oqu(e.lcZ(24,17,"product.nutrients.sugars")),e.xp6(2),e.Q6J("ngIf",t.openFoodProduct.product.nutrient_levels.sugars)}}function jT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",59),e.YNc(2,ew,3,0,"ng-container",2),e.YNc(3,tw,7,4,"ng-container",2),e.YNc(4,G_,9,4,"ng-container",2),e.YNc(5,H_,9,4,"ng-container",2),e.YNc(6,nw,9,4,"ng-container",2),e.YNc(7,rw,8,4,"ng-container",2),e.YNc(8,ow,26,19,"ng-container",2),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngIf",t.loadingOpenFoodProduct),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.categories),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutriscore_data?null:t.openFoodProduct.product.nutriscore_data.grade),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.nova_group),e.xp6(1),e.Q6J("ngIf",null==t.openFoodProduct||null==t.openFoodProduct.product?null:t.openFoodProduct.product.ecoscore_grade),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.allergens?null:t.openFoodProduct.product.allergens.length)>0),e.xp6(1),e.Q6J("ngIf",(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.fat)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.salt)||(null==t.openFoodProduct||null==t.openFoodProduct.product||null==t.openFoodProduct.product.nutrient_levels?null:t.openFoodProduct.product.nutrient_levels.sugars))}}function cv(r,i){if(1&r&&(e.ynx(0),e.YNc(1,KC,33,29,"ng-container",2),e.YNc(2,XC,11,9,"ng-container",2),e.YNc(3,jT,9,7,"ng-container",2),e.BQk()),2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",0===t.selectedTab),e.xp6(1),e.Q6J("ngIf",1===t.selectedTab),e.xp6(1),e.Q6J("ngIf",2===t.selectedTab)}}function lv(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}function d1(r,i){1&r&&(e.TgZ(0,"div",75)(1,"small",76),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"product.noData")))}const uv=function(r,i,t){return{"bg-danger":r,"bg-warning":i,"bg-success":t}};function dv(r,i){if(1&r&&(e.TgZ(0,"div",77),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r){const t=i.levelValue;e.Q6J("ngClass",e.kEZ(4,uv,"high"===t,"moderate"===t,"low"===t)),e.xp6(1),e.Oqu(e.lcZ(2,2,"commons.levels."+t))}}let sw=(()=>{class r{constructor(t,c,h,_,O,z,J){this.router=t,this.route=c,this.productService=h,this.shopService=_,this.shopsProductsService=O,this.loginService=z,this.openfoodService=J,this.historyShopProductList=[],this.selectedTab=0,this.loadingOpenFoodProduct=!0}exit(){this.router.navigateByUrl("")}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}canEdit(){var t,c;return this.loggedUser.admin||(null===(t=this.productDetail.createdBy)||void 0===t?void 0:t.email)===this.loggedUser.email&&(null===(c=this.productDetail.createdBy)||void 0===c?void 0:c.username)===this.loggedUser.username}updateProduct(){this.productService.updateProduct(this.productDetail).subscribe(()=>{this.router.navigateByUrl("search-products")})}removeShopProduct(t){console.log(t),confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{this.getShopProducts(),this.historyShopProduct&&this.configHistory(t)})}getShopName(t){const c=this.shops.find(h=>h.id===t);return null==c?void 0:c.name}getShopImage(t){var c;return(null===(c=this.shops.find(h=>h.id===t))||void 0===c?void 0:c.imageUrl)||fs.T}showHistory(t){this.historyShopProduct&&this.historyShopProduct.productBarcode===t.productBarcode&&this.historyShopProduct.shopId===t.shopId?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===this.productDetail.barcode&&h.shopId===t.shopId).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===this.productDetail.barcode&&c.shopId===t.shopId).length>1}getShopProducts(){this.productDetail&&this.shopsProductsService.getProductShopProducts(this.productDetail.barcode).subscribe(t=>{this.shopProducts=[];const c=[];t.forEach(h=>{-1===c.indexOf(h.shopId)&&c.push(h.shopId)}),c.forEach(h=>{this.shopProducts.push(this.shopsProductsService.getShopProductLast(h,this.productDetail.barcode))}),this.shopProducts.sort((h,_)=>h.price>_.price?1:-1)})}getProductPriceRange(t){return this.shopsProductsService.getProductPriceRange(t,"product-edit")}getAlergens(){console.log(this.openFoodProduct.product.allergens);let t=this.openFoodProduct.product.allergens.split(",");return t=t.map(c=>{const h=c.substring(c.indexOf(":")+1);return h.charAt(0).toUpperCase()+h.slice(1)}),t.toString().replace(/,/g,", ")}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.barcode;this.products=this.productService._products,this.shops=this.shopService._shops,this.productService.products.subscribe(c=>{this.products=c}),this.shopService.shops.subscribe(c=>{this.shops=c}),this.productDetail=this.products.find(c=>c.barcode===t),this.loadingOpenFoodProduct=!0,this.openfoodService.loadProduct(t).subscribe(c=>{console.log(c),(null==c?void 0:c.product)&&(this.openFoodProduct=c),this.loadingOpenFoodProduct=!1}),this.getShopProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(At.gz),e.Y36(Tr.M),e.Y36(Rr.d),e.Y36(Ho),e.Y36($r.r),e.Y36($0))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-edit"]],decls:23,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-warning","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["type","button","class","btn btn-lg btn-secondary",3,"ngClass","click",4,"ngIf"],["breadcrumb",""],["noShopsProducts",""],["levelBadge",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],[1,"d-flex","card","transparent","flex-column","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-row"],[1,"d-flex","flex-column","w-100","p-3"],[1,"form-group","mb-3","w-100"],["for","productBarcode",1,"text-start","w-100"],["type","text","id","productBarcode","placeholder","Codi de barres","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],["for","productName",1,"text-start","w-100"],["for","productBrand",1,"text-start","w-100"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"modal-buttons","d-flex","justify-content-center","align-items-center","w-100","px-3","mt-auto"],["type","button",1,"btn","btn-lg","btn-secondary","w-100",3,"ngClass","click"],[1,"fas","fa-floppy-disk","me-1"],["type","text","id","productName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productName","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","productBrand","readonly","readonly",1,"form-control",3,"ngModel","placeholder","ngModelChange"],[1,"d-flex","mt-3","justify-content-center","align-items-start"],[1,"product-detail-image",3,"src"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","shops"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"shop-image",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2",3,"routerLink"],[1,"d-flex","align-items-center","ms-auto","nowrap"],[1,"ps-3"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2","cursor-pointer",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column","text-start"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"characteristics","d-flex","flex-column","w-100","my-3","px-3"],[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100"],[1,"fas","fa-spinner","fa-spin"],[1,"d-flex","flex-column","justify-content-start","align-items-start","w-100","my-3"],[1,"text-start"],[1,"text-start","w-100"],[1,"d-flex","align-items-center","w-100"],[1,"nutriscore",3,"src"],[1,"text-start","ms-3","mt-3"],[1,"novagroup",3,"src"],[1,"ecoscore",3,"src"],[1,"text-start","ms-3"],[1,"d-flex","align-items-center","justify-content-between","w-100"],[1,"d-flex","flex-column","align-items-center","justify-content-center"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"],[1,"badge","mt-1",3,"ngClass"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,qC,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,zC,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,WC,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()(),e.YNc(15,n1,4,7,"button",7),e.qZA()(),e.YNc(16,cv,4,3,"ng-container",2),e.qZA(),e.YNc(17,lv,1,0,"ng-template",null,8,e.W1O),e.YNc(19,d1,4,3,"ng-template",null,9,e.W1O),e.YNc(21,dv,3,8,"ng-template",null,10,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",c.productDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,V_,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"product.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,V_,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"product.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",!c.loadingOpenFoodProduct&&c.openFoodProduct.product),e.xp6(1),e.Q6J("ngIf",c.productDetail))},directives:[p.O5,p.tP,p.mk,mn,Si,eo,_i,et,p.sg,At.yS,t1],pipes:[ns,p.JJ,p.uU],styles:[".product-detail-image[_ngcontent-%COMP%]{height:125px;max-width:100%}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;color:#fff;border:1px solid #ccc}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%], .characteristics[_ngcontent-%COMP%]{height:calc(100vh - 230px);overflow:auto}.characteristics[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{border-bottom:1px solid #ccc}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}span.fa-trash[_ngcontent-%COMP%]{color:#444!important}span.fa-trash.disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.1}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}img.nutriscore[_ngcontent-%COMP%], img.novagroup[_ngcontent-%COMP%]{height:70px}img.ecoscore[_ngcontent-%COMP%]{height:60px}.badge[_ngcontent-%COMP%]{font-weight:400!important}.badge.bg-danger[_ngcontent-%COMP%], .badge.bg-success[_ngcontent-%COMP%]{color:#fff!important}"]}),r})();const aw=["productSearchInput"];function cw(r,i){1&r&&e.GkF(0)}function lw(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"img",33),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("src",t.imageUrl,e.LSH)}}function h1(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function hv(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}const f1=function(r){return{productRange:r}};function p1(r,i){if(1&r&&(e.ynx(0),e.GkF(1,37),e.BQk()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3),h=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",h)("ngTemplateOutletContext",e.VKq(2,f1,c.getProductPriceRange(t)))}}function g1(r,i){if(1&r&&(e.TgZ(0,"div",34)(1,"div",35)(2,"span",36),e._uU(3),e.ALo(4,"number"),e.qZA(),e.YNc(5,h1,3,3,"span",32),e.YNc(6,hv,3,3,"span",32),e.qZA(),e.YNc(7,p1,2,4,"ng-container",32),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(3),e.Oqu(e.xi3(4,4,c.getProductPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getProductPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getProductPrices(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function m1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",38),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h)}),e.qZA(),e.BQk()}}function uw(r,i){if(1&r&&(e.TgZ(0,"span",41),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw(2).$implicit,c=e.oxw(3);e.xp6(1),e.Oqu(e.xi3(2,1,c.productItemsInCart(t),"1.0-2"))}}const _1=function(r){return{"with-items-in-cart":r}};function v1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"span",39),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).addToCart(h)}),e.qZA(),e.YNc(2,uw,3,4,"span",40),e.BQk()}if(2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(1),e.Q6J("ngClass",e.VKq(2,_1,c.productItemsInCart(t)>0)),e.xp6(1),e.Q6J("ngIf",c.productItemsInCart(t)>0)}}const dw=function(r,i){return{far:r,fas:i}};function y1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",22)(1,"div",23)(2,"div",24),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.YNc(3,lw,2,1,"ng-container",14),e.qZA(),e.TgZ(4,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditProduct(_)}),e.TgZ(5,"div",26)(6,"a",27),e._uU(7),e.qZA()(),e.TgZ(8,"div",28),e._uU(9),e.qZA(),e.YNc(10,g1,8,7,"div",29),e.qZA(),e.TgZ(11,"div",30)(12,"span",31),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.barcode)}),e.qZA(),e.YNc(13,m1,2,0,"ng-container",32),e.YNc(14,v1,3,4,"ng-container",32),e.qZA()()()}if(2&r){const t=i.$implicit,c=e.oxw(3),h=e.MAs(24);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",t.imageUrl)("ngIfElse",h),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.hij(" ",t.brand," "),e.xp6(1),e.Q6J("ngIf",c.getProductPrices(t)>0),e.xp6(2),e.Q6J("ngClass",e.WLB(9,dw,!t.favourite,t.favourite)),e.xp6(1),e.Q6J("ngIf",c.canRemoveProduct(t)),e.xp6(1),e.Q6J("ngIf",c.productHasPrices(t))}}function b1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",20),e.YNc(3,y1,15,12,"li",21),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.products)}}function Ka(r,i){if(1&r&&(e.ynx(0),e.YNc(1,b1,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(22);e.xp6(1),e.Q6J("ngIf",(null==t.products?null:t.products.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function fp(r,i){if(1&r&&(e.ynx(0),e._UZ(1,"i",43),e.TgZ(2,"div",44),e._uU(3),e.ALo(4,"number"),e.ALo(5,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(3),e.AsE(" ",e.xi3(4,2,t.min,"1.0-2")," - ",e.xi3(5,5,t.max,"1.0-2")," \u20ac ")}}function hw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",45),e._uU(2),e.ALo(3,"number"),e.qZA(),e.BQk()),2&r){const t=e.oxw().productRange;e.xp6(2),e.hij("",e.xi3(3,1,t.max,"1.0-2")," \u20ac")}}function fw(r,i){if(1&r&&(e.TgZ(0,"div",42),e.YNc(1,fp,6,8,"ng-container",32),e.YNc(2,hw,4,4,"ng-container",32),e.qZA()),2&r){const t=i.productRange;e.xp6(1),e.Q6J("ngIf",t.max!==t.min),e.xp6(1),e.Q6J("ngIf",t.max===t.min)}}function VT(r,i){1&r&&(e.TgZ(0,"small",49),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noProductAdded")))}function hm(r,i){1&r&&(e.TgZ(0,"small",50),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"products.noFavouriteProduct")))}function pw(r,i){if(1&r&&(e.TgZ(0,"div",46),e.YNc(1,VT,3,3,"small",47),e.YNc(2,hm,3,3,"small",48),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(28);e.xp6(1),e.Q6J("ngIf",0===t.products.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function fv(r,i){1&r&&e._UZ(0,"i",51)}function gw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",52)(1,"span",53),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",54),e.TgZ(3,"span",55),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",56),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",57),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.products")))}function C1(r,i){1&r&&(e.TgZ(0,"div",58),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let mw=(()=>{class r{constructor(t,c,h,_,O,z){this.router=t,this.productService=c,this.shopProductService=h,this.loginService=_,this.shoppingCartService=O,this.alertService=z,this.STORED_SEARCH_KEY=Rn.M.PS_PRODUCTS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateProduct(){this.router.navigate(["new-product"])}doEditProduct(t){this.router.navigate(["edit-product/"+t.barcode])}doToggleFavourite(t){const c=this.products.find(h=>h.barcode===t);c.favourite=!c.favourite,this.productService.toggleFavourite(c).subscribe(()=>{this.alertService.calculateAlerts(!1)})}doRemove(t){confirm("Si esborres el producte tamb\xe9 s'esborrar\xe0n els preus que tingui en les botigues. Continuar?")&&this.productService.removeProduct(t.id).subscribe(()=>{this.shopProductService.removeProductShopProducts(t.barcode).subscribe(()=>{})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.brand.toUpperCase().indexOf(this.searchText.toUpperCase())>=0||t.barcode.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}getProductPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.productBarcode===t.barcode).forEach(h=>{c.indexOf(h.shopId)<0&&c.push(h.shopId)}),c.length}productHasPrices(t){return this.getProductPrices(t)>0}getProductPriceRange(t){return this.shopProductService.getProductPriceRange(t)}productItemsInCart(t){var c,h;let _=0,O=!1;return(null===(h=null===(c=this.shoppingCartService)||void 0===c?void 0:c._cartConfig)||void 0===h?void 0:h.items)&&this.shoppingCartService._cartConfig.items.forEach(z=>{O||z.productsUnits.forEach(J=>{J.product.barcode===t.barcode&&J.units&&(O=!0,_+=J.units)})}),_}canRemoveProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email}addToCart(t){this.shoppingCartService.addToCart(t)}exit(){this.router.navigateByUrl("")}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.productService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.productService.products.subscribe(t=>{this.products=t.sort((c,h)=>c.name>h.name?1:-1)}),this.products=this.productService._products,this.loading=!1}ngAfterViewInit(){ki(this.productSearchInput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(300),no(),(0,xi.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Tr.M),e.Y36(Ho),e.Y36($r.r),e.Y36(ad),e.Y36(pl))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-product-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(aw,5),2&t){let h;e.iGM(h=e.CRH())&&(c.productSearchInput=h.first)}},decls:29,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-warning"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["productSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["productPriceRanges",""],["noData",""],["noProductImage",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item py-2",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","py-2",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","h-100","flex-grow"],[1,"d-flex","flex-column","justify-content-start","align-items-center","pe-3",3,"click"],[1,"d-flex","flex-column","flex-grow","h-100","w-100",3,"click"],[1,"d-flex","w-100","text-start"],["href","javascript://"],[1,"d-flex","brand","mb-2","w-100","text-start"],["class","d-flex mt-auto justify-content-between w-100 mb-0",4,"ngIf"],[1,"ms-auto","ps-3","d-flex","flex-grow","h-100","flex-column","align-items-center","justify-content-start"],[1,"far","fa-star","action-button",3,"ngClass","click"],[4,"ngIf"],[1,"product-image",3,"src"],[1,"d-flex","mt-auto","justify-content-between","w-100","mb-0"],[1,"prices-count","d-flex","justify-content-center","align-items-center","px-2"],[1,"me-1"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fas","fa-trash","action-button","mt-2",3,"click"],[1,"fas","fa-cart-plus","action-button","mt-auto",3,"ngClass","click"],["class","\n                      items-in-cart\n                      me-3\n                      mb-1\n                      px-0\n                      with-items-in-cart\n                      border\n                      text-center\n                    ",4,"ngIf"],[1,"items-in-cart","me-3","mb-1","px-0","with-items-in-cart","border","text-center"],[1,"product-range","d-flex","justify-content-center","align-items-center"],[1,"fas","fa-triangle-exclamation","text-warning"],[1,"w-100","px-2"],[1,"px-2"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg ps-4",4,"ngIf"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg","ps-4"],[1,"no-data-msg"],[1,"fas","fa-image","no-product-image-icon"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,cw,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,Ka,2,2,"ng-container",14),e.qZA(),e.YNc(19,fw,3,2,"ng-template",null,15,e.W1O),e.YNc(21,pw,3,2,"ng-template",null,16,e.W1O),e.YNc(23,fv,1,0,"ng-template",null,17,e.W1O),e.YNc(25,gw,11,6,"ng-template",null,18,e.W1O),e.YNc(27,C1,3,3,"ng-template",null,19,e.W1O)),2&t){const h=e.MAs(26),_=e.MAs(28);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"products.searchPlaceholder")),e.Q6J("readonly",(null==c.products?null:c.products.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"products.onlyFavouriteProducts")),e.xp6(3),e.Q6J("ngIf",c.products)("ngIfElse",_)}},directives:[p.tP,et,Si,eo,p.O5,p.sg,p.mk],pipes:[ns,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important;min-height:120px;margin-bottom:5px}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:1;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}.product-image[_ngcontent-%COMP%]{max-width:30px}.no-product-image-icon[_ngcontent-%COMP%]{font-size:22pt}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}span.action-button[_ngcontent-%COMP%]{font-size:18pt}.items-in-cart[_ngcontent-%COMP%]{position:absolute;bottom:30px;font-size:8pt;min-width:22px;right:1px;border-radius:20px}.with-items-in-cart[_ngcontent-%COMP%]{color:#444}.with-items-in-cart.border[_ngcontent-%COMP%]{border:1pc solid #444}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}"]}),r})();function _w(r,i){1&r&&e.GkF(0)}function pv(r,i){1&r&&e._UZ(0,"div",23)}function w1(r,i){if(1&r&&(e.TgZ(0,"span",31),e._uU(1),e.ALo(2,"number"),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (x",e.xi3(2,1,t.units,"1.0-2"),")")}}const T1=function(r){return{"checked-product":r}};function Z_(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"i",27),e.qZA(),e.TgZ(3,"td",28),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).toggleCartProductMarked(_)}),e._uU(4),e.YNc(5,w1,3,4,"span",29),e.qZA(),e.TgZ(6,"td")(7,"div",30)(8,"span",31),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"i",32),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeItem(_.product)}),e.qZA()()()()}if(2&r){const t=i.$implicit;e.xp6(3),e.Q6J("ngClass",e.VKq(7,T1,t.checked)),e.xp6(1),e.hij(" ",t.product.name," "),e.xp6(1),e.Q6J("ngIf",t.units>1),e.xp6(4),e.hij("",e.xi3(10,4,t.minPrice,"1.2-2")," \u20ac")}}function gv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",24),e._UZ(2,"img",25),e.TgZ(3,"div",26)(4,"table")(5,"tbody"),e.YNc(6,Z_,12,9,"tr",22),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw().$implicit;e.xp6(2),e.Q6J("src",null==t||null==t.shop?null:t.shop.imageUrl,e.LSH),e.xp6(4),e.Q6J("ngForOf",t.productsUnits)}}function GT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,gv,7,2,"ng-container",2),e.BQk()),2&r){const t=i.$implicit;e.xp6(1),e.Q6J("ngIf",t.shop)}}function E1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",7)(2,"h4",8),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"div",9),e._UZ(6,"i",10),e.TgZ(7,"small",11),e._uU(8),e.ALo(9,"translate"),e.qZA(),e._UZ(10,"button",12),e.qZA(),e.TgZ(11,"div",13),e._UZ(12,"i",14),e.TgZ(13,"small",15)(14,"strong",16),e._uU(15),e.ALo(16,"translate"),e.qZA(),e.TgZ(17,"p",17),e._uU(18),e.ALo(19,"translate"),e.qZA()(),e._UZ(20,"button",12),e.qZA(),e.YNc(21,pv,1,0,"div",18),e.TgZ(22,"div",19)(23,"button",20),e.NdJ("click",function(){return e.CHM(t),e.oxw(2).removeCart()}),e.TgZ(24,"span"),e._UZ(25,"i",21),e._uU(26),e.ALo(27,"translate"),e.qZA()()(),e.YNc(28,GT,2,1,"ng-container",22),e.qZA(),e.BQk()}if(2&r){const t=e.oxw(2),c=e.MAs(4);e.xp6(3),e.Oqu(e.lcZ(4,7,"shoppingCart.title")),e.xp6(5),e.Oqu(e.lcZ(9,9,"shoppingCart.description")),e.xp6(7),e.Oqu(e.lcZ(16,11,"shoppingCart.trick.title")),e.xp6(3),e.Oqu(e.lcZ(19,13,"shoppingCart.trick.text")),e.xp6(3),e.Q6J("ngTemplateOutlet",c),e.xp6(5),e.Oqu(e.lcZ(27,15,"shoppingCart.doEmpty")),e.xp6(2),e.Q6J("ngForOf",t.cartConfig.items)}}function vw(r,i){if(1&r&&(e.ynx(0),e.YNc(1,E1,29,17,"ng-container",6),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(6);e.xp6(1),e.Q6J("ngIf",(null==t.cartConfig.items?null:t.cartConfig.items.length)>0)("ngIfElse",c)}}const D1=function(r,i){return{"bg-success":r,"text-success":i}};function q_(r,i){if(1&r&&(e.TgZ(0,"div",33),e._uU(1),e.ALo(2,"translate"),e.TgZ(3,"span",34),e._uU(4),e.ALo(5,"number"),e.qZA()(),e.TgZ(6,"div",35),e._uU(7),e.ALo(8,"translate"),e.TgZ(9,"span",34),e._uU(10),e.ALo(11,"number"),e.qZA()(),e.TgZ(12,"div",36),e._uU(13),e.ALo(14,"translate"),e.TgZ(15,"span",37),e._uU(16),e.ALo(17,"number"),e.qZA()()),2&r){const t=e.oxw();e.xp6(1),e.hij(" ",e.lcZ(2,7,"shoppingCart.amountOptimized"),": "),e.xp6(3),e.hij("",e.xi3(5,9,t.getAmountLow(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(8,12,"shoppingCart.amountNoOptimized"),": "),e.xp6(3),e.hij("",e.xi3(11,14,t.getAmountHigh(),"1.2-2")," \u20ac"),e.xp6(3),e.hij(" ",e.lcZ(14,17,"shoppingCart.amountSaved"),": "),e.xp6(2),e.Q6J("ngClass",e.WLB(22,D1,t.getAmountDiff()>0,t.getAmountDiff()>0)),e.xp6(1),e.hij("",e.xi3(17,19,t.getAmountDiff()*(t.getAmountDiff()>0?-1:1),"1.2-2")," \u20ac")}}function S1(r,i){1&r&&(e.TgZ(0,"div",38)(1,"div",39)(2,"small"),e._uU(3),e.ALo(4,"translate"),e.qZA()()()),2&r&&(e.xp6(3),e.Oqu(e.lcZ(4,1,"shoppingCart.noProducts")))}function yw(r,i){1&r&&(e.TgZ(0,"div",40)(1,"span",41)(2,"a",42),e._UZ(3,"i",43),e.TgZ(4,"span",44),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",45),e._uU(8,"/"),e.qZA(),e.TgZ(9,"span",46),e._uU(10),e.ALo(11,"translate"),e.qZA()()),2&r&&(e.xp6(5),e.Oqu(e.lcZ(6,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(11,4,"breadcrumb.shoppingCart")))}let mv=(()=>{class r{constructor(t,c,h){this.shoppingCartService=t,this.spinner=c,this.translate=h,this.amountLow=0,this.amountHigh=0}getAmountLow(){return this.amountLow}getAmountHigh(){return this.amountHigh}getAmountDiff(){return this.amountHigh-this.amountLow}calculateAmountLow(){this.amountLow=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountLow+=c.units*c.minPrice})})}calculateAmountHigh(){this.amountHigh=0,this.cartConfig.items.forEach(t=>{t.productsUnits.forEach(c=>{this.amountHigh+=c.units*c.maxPrice})})}toggleCartProductMarked(t){this.shoppingCartService.toggleCartProductMarked(t)}removeItem(t){this.spinner.show(),this.shoppingCartService.removeCartProduct(t)}removeCart(){confirm(this.translate.instant("shoppingCart.confirmEmpty"))&&(this.spinner.show(),this.shoppingCartService.removeCart())}ngOnInit(){this.spinner.show(),this.cartConfig=this.shoppingCartService.getShoppingCartConfig(),this.shoppingCartService.cartConfig.subscribe(t=>{this.cartConfig=t,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)},t=>{this.spinner.hide()}),this.cartConfig=this.shoppingCartService._cartConfig,this.calculateAmountLow(),this.calculateAmountHigh(),setTimeout(()=>{this.spinner.hide()},500)}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(ad),e.Y36(Es),e.Y36(Uo))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shopping-cart"]],decls:9,vars:2,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf"],["totals",""],["noShoppingCart",""],["breadcrumb",""],[4,"ngIf","ngIfElse"],[1,"shopping-cart-content","d-flex","card","transparent","flex-column","mb-3","p-3","w-100","alert-dismissible","fade","show"],[1,"ps-2","mb-2","text-start","mb-3"],[1,"alert","alert-info","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-info-circle","mt-1","me-2"],[1,"text-start"],["type","button","data-bs-dismiss","alert","aria-label","Close",1,"btn-close","p-2"],[1,"alert","alert-light","d-flex","justify-content-start","align-items-start","py-1","px-2","mt-0","mb-2"],[1,"fas","fa-wand-magic-sparkles","mt-1","me-2"],[1,"text-start","pe-4"],[1,"me-2"],[1,"m-0"],["class","d-flex w-100",4,"ngTemplateOutlet"],[1,"d-flex","w-100","justify-content-end","align-items-center","ps-2","mb-3"],[1,"btn","btn-secondary",3,"click"],[1,"fa","fa-cart-arrow-down","me-2"],[4,"ngFor","ngForOf"],[1,"d-flex","w-100"],[1,"modal-content","d-flex","flex-column","justify-content-start","align-items-start","p-3","flex-row","w-100","mb-1"],[1,"shop-logo",3,"src"],[1,"product-list-container","d-flex","flex-column","w-100","mt-1","pt-2"],[1,"fas","fa-angle-right","me-2","mt-1"],[1,"pe-2",3,"ngClass","click"],["class","fw-bold",4,"ngIf"],[1,"d-flex","nowrap","justify-content-end","align-items-center"],[1,"fw-bold"],[1,"fas","fa-times","cursor-pointer","ms-2",3,"click"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mt-3","mb-1"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-1"],[1,"totals","d-flex","w-100","justify-content-between","align-items-center","ps-2","mb-3"],[1,"badge-total","transparent","fw-bold","ms-2","px-3","py-1","text-end",3,"ngClass"],[1,"d-flex","p-2","w-100"],[1,"d-flex","justify-content-center","mt-5","mx-3","alert","alert-warning","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,_w,1,0,"ng-container",1),e.qZA(),e.YNc(2,vw,2,2,"ng-container",2),e.YNc(3,q_,18,25,"ng-template",null,3,e.W1O),e.YNc(5,S1,5,3,"ng-template",null,4,e.W1O),e.YNc(7,yw,12,6,"ng-template",null,5,e.W1O)),2&t){const h=e.MAs(8);e.xp6(1),e.Q6J("ngTemplateOutlet",h),e.xp6(1),e.Q6J("ngIf",c.cartConfig)}},directives:[p.tP,p.O5,p.sg,p.mk,At.yS],pipes:[ns,p.JJ],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:85px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}.shopping-cart-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 190px)}.alert[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]   button.btn-close[_ngcontent-%COMP%]{font-size:10pt}.shop-name[_ngcontent-%COMP%]{font-size:22pt}img.shop-logo[_ngcontent-%COMP%]{width:80px;max-height:80px}.totals[_ngcontent-%COMP%]{font-size:12pt}.totals[_ngcontent-%COMP%]   .badge-total[_ngcontent-%COMP%]{border:1px solid rgba(0,0,0,.2);border-radius:4px;background-color:#fff;min-width:100px}.totals[_ngcontent-%COMP%]   .badge-total.transparent[_ngcontent-%COMP%]{font-size:10pt;background-color:transparent}.product-list-container[_ngcontent-%COMP%]{border-top:0px solid #ccc}.product-list-container[_ngcontent-%COMP%]   .product-list[_ngcontent-%COMP%]{list-style-type:none;font-size:10pt}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-size:10pt;vertical-align:top}table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   i.fa-times[_ngcontent-%COMP%]{font-size:14pt}.fa-times[_ngcontent-%COMP%]{font-size:14pt;position:relative;top:-1px}.badge-total.text-success[_ngcontent-%COMP%]{color:#fff!important}.checked-product[_ngcontent-%COMP%]{text-decoration:line-through;opacity:.5}"]}),r})();function _v(r,i){1&r&&e.GkF(0)}function HT(r,i){if(1&r&&(e.ynx(0),e.YNc(1,_v,1,0,"ng-container",3),e.BQk()),2&r){e.oxw();const t=e.MAs(4);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function bw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",14),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(2);e.Q6J("ngModel",t.shopDetail.name)}}const Cw=function(r){return{disabled:r}};function x1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",4)(2,"div",5)(3,"label",6),e._uU(4,"Nom"),e.qZA(),e.YNc(5,bw,1,1,"input",7),e.qZA(),e.TgZ(6,"div",8)(7,"input",9),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw().shopDetail.favourite=h}),e.qZA(),e.TgZ(8,"label",10),e._uU(9,"Preferida"),e.qZA()()(),e.TgZ(10,"div",11)(11,"button",12),e.NdJ("click",function(){return e.CHM(t),e.oxw().createShop()}),e._uU(12," Desar "),e.qZA(),e.TgZ(13,"button",13),e._uU(14," Tancar "),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(5),e.Q6J("ngIf",!t.shopDetail.default),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(4),e.Q6J("ngClass",e.VKq(4,Cw,t.shopDetail.name.length<1)),e.xp6(2),e.Q6J("routerLink","../search-shops")}}function A1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"span",16),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",17),e.TgZ(3,"span",18),e._uU(4,"Inici"),e.qZA()(),e.TgZ(5,"span",19),e._uU(6,"/"),e.qZA(),e.TgZ(7,"span",20)(8,"span",18),e._uU(9,"Botigues"),e.qZA()(),e.TgZ(10,"span",19),e._uU(11,"/"),e.qZA(),e.TgZ(12,"span",21),e._uU(13,"Nova botiga"),e.qZA()()}2&r&&(e.xp6(7),e.Q6J("routerLink","search-shops"))}let ww=(()=>{class r{constructor(t,c){this.router=t,this.shopService=c,this.shopDetail={id:xo(),name:"",imageUrl:"",default:!1,favourite:!1}}createShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name):this.shopService.createShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}ngOnInit(){this.shopService.shops.subscribe(t=>{this.shops=t}),this.shops=this.shopService._shops}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Rr.d))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-create"]],decls:5,vars:2,consts:[[1,"d-flex","flex-column","px-3","w-100"],[4,"ngIf"],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"form-group","mb-3"],["for","shopName"],["type","text","class","form-control","id","shopName","placeholder","Nom de la botiga",3,"ngModel","ngModelChange",4,"ngIf"],[1,"form-check"],["type","checkbox","id","checkFavourite",1,"form-check-input",3,"ngModel","ngModelChange"],["for","checkFavourite",1,"form-check-label"],[1,"d-flex","justify-content-center","align-items-center","mb-3","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],["type","text","id","shopName","placeholder","Nom de la botiga",1,"form-control",3,"ngModel","ngModelChange"],[1,"breadcrumb"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic"],[1,"divider"],[1,"step","cursor-pointer",3,"routerLink"],[1,"step","fw-bold"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e.YNc(1,HT,2,1,"ng-container",1),e.qZA(),e.YNc(2,x1,15,6,"ng-container",1),e.YNc(3,A1,14,1,"ng-template",null,2,e.W1O)),2&t&&(e.xp6(1),e.Q6J("ngIf",c.shopDetail),e.xp6(1),e.Q6J("ngIf",c.shopDetail))},directives:[p.O5,p.tP,mn,Si,eo,et,p.mk,At.rH],styles:[""]}),r})();function I1(r,i){1&r&&e.GkF(0)}function P1(r,i){if(1&r&&(e.ynx(0),e.YNc(1,I1,1,0,"ng-container",9),e.BQk()),2&r){e.oxw();const t=e.MAs(20);e.xp6(1),e.Q6J("ngTemplateOutlet",t)}}function Tw(r,i){1&r&&e._UZ(0,"i",10)}function Ew(r,i){1&r&&e._UZ(0,"i",10)}function O1(r,i){if(1&r&&(e.TgZ(0,"div",25),e._UZ(1,"img",26),e.qZA()),2&r){const t=e.oxw(3);e.xp6(1),e.Q6J("src",t.shopDetail.imageUrl,e.LSH)}}function Dw(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",27),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.ALo(1,"translate"),e.qZA()}if(2&r){const t=e.oxw(3);e.s9C("placeholder",e.lcZ(1,2,"shop.name")),e.Q6J("ngModel",t.shopDetail.name)}}function M1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"input",28),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(3).shopDetail.name=h}),e.qZA()}if(2&r){const t=e.oxw(3);e.Q6J("ngModel",t.shopDetail.name)}}const N1=function(r){return{"pb-2":r}};function R1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",15)(1,"div",16),e.YNc(2,O1,2,1,"div",17),e.TgZ(3,"div",18)(4,"label",19),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.YNc(7,Dw,2,4,"input",20),e.YNc(8,M1,1,1,"input",21),e.qZA(),e.TgZ(9,"div",22)(10,"input",23),e.NdJ("ngModelChange",function(h){return e.CHM(t),e.oxw(2).shopDetail.favourite=h}),e.qZA(),e.TgZ(11,"label",24),e._uU(12),e.ALo(13,"translate"),e.qZA()()()()}if(2&r){const t=e.oxw(2);e.Q6J("ngClass",e.VKq(11,N1,null==t.shopDetail?null:t.shopDetail.createdBy)),e.xp6(2),e.Q6J("ngIf",(null==t.shopDetail||null==t.shopDetail.imageUrl?null:t.shopDetail.imageUrl.length)>0),e.xp6(3),e.Oqu(e.lcZ(6,7,"shop.name")),e.xp6(2),e.Q6J("ngIf",t.canEdit()),e.xp6(1),e.Q6J("ngIf",!t.canEdit()),e.xp6(2),e.Q6J("ngModel",t.shopDetail.favourite),e.xp6(2),e.Oqu(e.lcZ(13,9,"shop.favourite"))}}function k1(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",29)(2,"span",30),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span",31),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.hij("",e.lcZ(4,2,"shop.createdBy"),":"),e.xp6(3),e.Oqu(null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username)}}const vv=function(r){return{disabled:r}};function Sw(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.YNc(1,R1,14,13,"div",11),e.YNc(2,k1,7,4,"ng-container",2),e.TgZ(3,"div",12)(4,"button",13),e.NdJ("click",function(){return e.CHM(t),e.oxw().updateShop()}),e._uU(5),e.ALo(6,"translate"),e.qZA(),e.TgZ(7,"button",14),e._uU(8),e.ALo(9,"translate"),e.qZA()(),e.BQk()}if(2&r){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.shopDetail),e.xp6(1),e.Q6J("ngIf",null==t.shopDetail||null==t.shopDetail.createdBy?null:t.shopDetail.createdBy.username),e.xp6(2),e.Q6J("ngClass",e.VKq(10,vv,(null==t.shopDetail?null:t.shopDetail.name.length)<1)),e.xp6(1),e.hij(" ",e.lcZ(6,6,"shop.save")," "),e.xp6(2),e.Q6J("routerLink","../../search-shops"),e.xp6(1),e.hij(" ",e.lcZ(9,8,"shop.close")," ")}}function ZT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"span",46),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).removeShopProduct(h)}),e.qZA()}}function L1(r,i){if(1&r&&(e.TgZ(0,"span",53),e._uU(1),e.qZA()),2&r){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.createdBy.username,")")}}const qT=function(r){return{"fw-bold":r}};function zT(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li")(1,"div",49)(2,"div",50)(3,"span"),e._uU(4),e.ALo(5,"date"),e.qZA(),e.YNc(6,L1,2,1,"span",51),e.qZA(),e.TgZ(7,"div")(8,"span"),e._uU(9),e.ALo(10,"number"),e.qZA(),e.TgZ(11,"span",52),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(5).removeShopProduct(_)}),e.qZA()()()()}if(2&r){const t=i.$implicit,c=i.index,h=e.oxw(5);e.xp6(1),e.Q6J("ngClass",e.VKq(11,qT,0===c)),e.xp6(3),e.hij(" ",e.xi3(5,5,t.updateDate,"dd.MM.YYYY HH:mm")," "),e.xp6(2),e.Q6J("ngIf",h.loggedUser.admin&&t.createdBy),e.xp6(3),e.hij("",e.xi3(10,8,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngClass",e.VKq(13,vv,!h.canRemoveShopProduct(t)))}}function WT(r,i){if(1&r&&(e.TgZ(0,"li",47)(1,"ul",48),e.YNc(2,zT,12,15,"li",37),e.qZA()()),2&r){const t=e.oxw(4);e.xp6(2),e.Q6J("ngForOf",t.historyShopProductList)}}const $T=function(r){return[r]};function KT(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"li",38)(2,"div",39),e._UZ(3,"img",40)(4,"a",41),e.TgZ(5,"div",42)(6,"span"),e.YNc(7,ZT,1,0,"span",43),e.TgZ(8,"i",44),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).showHistory(_)}),e.qZA(),e._uU(9),e.ALo(10,"number"),e.qZA()()()(),e.YNc(11,WT,3,1,"li",45),e.BQk()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.xp6(3),e.Q6J("src",c.getProductImage(t.productBarcode),e.LSH),e.xp6(1),e.Q6J("routerLink",e.VKq(10,$T,"/edit-product/"+t.productBarcode))("innerHtml",c.getProductName(t.productBarcode),e.oJD),e.xp6(3),e.Q6J("ngIf",c.canRemoveShopProduct(t)),e.xp6(1),e.Q6J("ngClass",e.VKq(12,vv,!c.hasHistory(t))),e.xp6(1),e.hij(" ",e.xi3(10,7,t.price,"1.2-2")," \u20ac"),e.xp6(2),e.Q6J("ngIf",(null==c.historyShopProduct?null:c.historyShopProduct.shopId)===t.shopId&&(null==c.historyShopProduct?null:c.historyShopProduct.productBarcode)===t.productBarcode)}}function JT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"ul",36),e.YNc(2,KT,12,14,"ng-container",37),e.qZA(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.shopProducts)}}function YT(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",32)(2,"div",33)(3,"button",34),e._uU(4),e.ALo(5,"translate"),e.TgZ(6,"small",6),e._uU(7),e.ALo(8,"number"),e.qZA()()(),e.ynx(9),e.YNc(10,JT,3,1,"ng-container",35),e.BQk(),e.qZA(),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(18);e.xp6(4),e.hij(" ",e.lcZ(5,4,"shop.productPrices")," "),e.xp6(3),e.hij("(",e.xi3(8,6,null==t.shopProducts?null:t.shopProducts.length,"1.0-2"),")"),e.xp6(3),e.Q6J("ngIf",(null==t.shopProducts?null:t.shopProducts.length)>0)("ngIfElse",c)}}function QT(r,i){1&r&&(e.TgZ(0,"div",54)(1,"small",55),e._uU(2),e.ALo(3,"translate"),e.qZA()()),2&r&&(e.xp6(2),e.Oqu(e.lcZ(3,1,"shop.noProductPrices")))}function z_(r,i){1&r&&e._UZ(0,"app-breadcrumbs")}const xw=function(r){return{active:r}};let F1=(()=>{class r{constructor(t,c,h,_,O){this.router=t,this.route=c,this.shopService=h,this.shopsProductsService=_,this.loginService=O,this.historyShopProductList=[],this.selectedTab=0}updateShop(){this.shops.some(c=>c.name.toUpperCase()===this.shopDetail.name.toUpperCase()&&c.id!==this.shopDetail.id)?(alert("Ja existeix una botiga amb aquest nom: "+this.shopDetail.name),this.shopDetail.name=this.shops.find(c=>c.id===this.shopDetail.id).name):this.shopService.updateShop(this.shopDetail).subscribe(()=>{this.router.navigateByUrl("search-shops")})}exit(){this.router.navigateByUrl("")}newShopProduct(){}removeShopProduct(t){confirm("Est\xe0s apunt d'esborrar el preu en una botiga. Continuar?")&&this.shopsProductsService.removeShopProduct(t).subscribe(()=>{})}canRemoveShopProduct(t){return this.loggedUser.admin||t.createdBy&&t.createdBy.email===this.loggedUser.email&&t.createdBy.username===this.loggedUser.username}doEditProduct(t){}showHistory(t){console.log("showHistory()",t),this.historyShopProduct?(this.historyShopProduct=void 0,this.historyShopProductList=[]):(this.historyShopProduct=t,this.configHistory(t))}configHistory(t){this.shopsProductsService.getProductShopProducts(t.productBarcode).subscribe(c=>{this.historyShopProductList=c.filter(h=>h.productBarcode===t.productBarcode&&h.shopId===this.shopDetail.id).sort((h,_)=>h.updateDate<_.updateDate?1:-1)})}getProductName(t){const c=this.products.find(h=>h.barcode===t);return"<span>"+c.name+'</span><span class="brand">'+c.brand+"</span>"}getProductImage(t){return this.products.find(h=>h.barcode===t).imageUrl||fs.T}getLastShopProducts(){this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(t=>{this.shopProducts=[];const c=[];(t=t.sort((h,_)=>h.updateDate<_.updateDate?1:-1)).forEach(h=>{-1===c.indexOf(h.productBarcode)&&c.push(h.productBarcode)}),c.forEach(h=>{this.shopProducts.push(t.find(_=>h===_.productBarcode))}),this.shopProducts.sort((h,_)=>this.getProductName(h.productBarcode).toUpperCase()>this.getProductName(_.productBarcode).toUpperCase()?1:-1)})}configShopsProducts(){this.shopsProductsService.getShopProducts(this.shopDetail.id).subscribe(t=>{this.products=t,this.shopsProductsService.getShopShopProducts(this.shopDetail.id).subscribe(c=>{this.shopProducts=c,this.getLastShopProducts()})})}canEdit(){var t;return this.loggedUser.admin||!(null===(t=this.shopDetail)||void 0===t?void 0:t.default)&&this.shopDetail.createdBy&&this.shopDetail.createdBy.email===this.loggedUser.email&&this.shopDetail.createdBy.username===this.loggedUser.username}hasHistory(t){return this.shopsProductsService._shopsProducts.filter(c=>c.productBarcode===t.productBarcode&&c.shopId===this.shopDetail.id).length>1}ngOnInit(){document.body.scrollTop=document.documentElement.scrollTop=0,this.loggedUser=this.loginService.getLoggedUser();const t=this.route.snapshot.params.id;this.shops=this.shopService._shops,this.shopService.shops.subscribe(c=>{this.shops=c,this.shopDetail=c.find(h=>h.id===t),this.configShopsProducts()}),this.shopsProductsService.shopsProducts.subscribe(c=>{this.configShopsProducts()}),this.shops=this.shopService._shops,this.shopDetail=this.shops.find(c=>c.id===t),this.configShopsProducts()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(At.gz),e.Y36(Rr.d),e.Y36(Ho),e.Y36($r.r))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-edit"]],decls:21,vars:21,consts:[[1,"page","d-flex","flex-column","w-100"],[1,"sticky-header","bg-info","d-flex","flex-column","p-0","w-100"],[4,"ngIf"],["role","group","aria-label","Basic example",1,"btn-group","w-100"],["type","button",1,"btn","btn-lg","btn-secondary",3,"ngClass","click"],["class","fas fa-check me-2",4,"ngIf"],[1,"sm-2"],["noShopsProducts",""],["breadcrumb",""],[4,"ngTemplateOutlet"],[1,"fas","fa-check","me-2"],["class","d-flex card transparent flex-column mb-0 p-3 w-100",3,"ngClass",4,"ngIf"],[1,"d-flex","justify-content-center","align-items-center","mt-auto","px-3","w-100"],["type","button",1,"btn","btn-lg","btn-secondary","w-50",3,"ngClass","click"],["type","button",1,"btn","btn-lg","btn-light","ms-2","w-50",3,"routerLink"],[1,"d-flex","card","transparent","flex-column","mb-0","p-3","w-100",3,"ngClass"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],["class","w-100 d-flex justify-content-center align-items-center mb-2",4,"ngIf"],[1,"form-group","mb-3"],["for","shopName",1,"text-start","w-100","ps-1"],["type","text","class","form-control","id","shopName","maxlength","200",3,"ngModel","placeholder","ngModelChange",4,"ngIf"],["type","text","class","form-control","id","shopName","readonly","readonly",3,"ngModel","ngModelChange",4,"ngIf"],[1,"d-flex","justify-content-end","form-check","form-switch"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"w-100","d-flex","justify-content-center","align-items-center","mb-2"],[1,"shop-logo",3,"src"],["type","text","id","shopName","maxlength","200",1,"form-control",3,"ngModel","placeholder","ngModelChange"],["type","text","id","shopName","readonly","readonly",1,"form-control",3,"ngModel","ngModelChange"],[1,"author","d-flex","justify-content-end","w-100","ps-3","pe-4","mb-2"],[1,"label","me-1","fst-italic"],[1,"value"],[1,"shop-products","d-flex","flex-column","mb-3","px-3","w-100"],[1,"d-flex","justify-content-between","align-items-center","px-1"],[1,"btn","btn-lg","btn-lg","ps-0"],[4,"ngIf","ngIfElse"],[1,"list-group","products"],[4,"ngFor","ngForOf"],[1,"list-group-item"],[1,"d-flex","justify-content-start","align-items-start","w-100"],[1,"product-image","mt-2",3,"src"],["href","javascript://",1,"cursor-pointer","d-flex","flex-column","ps-2","text-start",3,"routerLink","innerHtml"],[1,"d-flex","align-items-center","ms-auto","ps-3","nowrap"],["class","fas fa-trash cursor-pointer me-3",3,"click",4,"ngIf"],[1,"fas","fa-chart-line","pe-2",3,"ngClass","click"],["class","list-group-item history",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","me-3",3,"click"],[1,"list-group-item","history"],[1,"w-100","m-0","p-0"],[1,"d-flex","justify-content-between","align-items-start","w-100","px-2","py-1",3,"ngClass"],[1,"d-flex","flex-column"],["class","user text-start",4,"ngIf"],[1,"fas","fa-trash","cursor-pointer","ps-3",3,"ngClass","click"],[1,"user","text-start"],[1,"d-flex","justify-content-start","align-items-center","w-100"],[1,"ps-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,P1,2,1,"ng-container",2),e.TgZ(3,"div",3)(4,"button",4),e.NdJ("click",function(){return c.selectedTab=0}),e.YNc(5,Tw,1,0,"i",5),e._uU(6),e.ALo(7,"translate"),e.qZA(),e.TgZ(8,"button",4),e.NdJ("click",function(){return c.selectedTab=1}),e.YNc(9,Ew,1,0,"i",5),e._uU(10),e.ALo(11,"translate"),e.TgZ(12,"small",6),e._uU(13),e.ALo(14,"number"),e.qZA()()()(),e.YNc(15,Sw,10,12,"ng-container",2),e.YNc(16,YT,11,9,"ng-container",2),e.qZA(),e.YNc(17,QT,4,3,"ng-template",null,7,e.W1O),e.YNc(19,z_,1,0,"ng-template",null,8,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",c.shopDetail),e.xp6(2),e.Q6J("ngClass",e.VKq(17,xw,0===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(7,10,"shop.detail")," "),e.xp6(2),e.Q6J("ngClass",e.VKq(19,xw,1===c.selectedTab)),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab),e.xp6(1),e.hij(" ",e.lcZ(11,12,"shop.prices")," "),e.xp6(3),e.hij("(",e.xi3(14,14,null==c.shopProducts?null:c.shopProducts.length,"1.0-2"),")"),e.xp6(2),e.Q6J("ngIf",0===c.selectedTab),e.xp6(1),e.Q6J("ngIf",1===c.selectedTab))},directives:[p.O5,p.tP,p.mk,mn,_i,Si,eo,et,At.rH,p.sg,At.yS,t1],pipes:[ns,p.JJ,p.uU],styles:["img.shop-logo[_ngcontent-%COMP%]{width:50%;max-height:100px}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;border:1px solid #ccc;color:#fff}.list-group[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#f8f8ff}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:none}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{background-color:#fff;font-size:10pt!important}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(:last-child){border-bottom:1px solid #eee}.list-group[_ngcontent-%COMP%]   li.history[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   span.user[_ngcontent-%COMP%]{color:#888;font-weight:200}.btn-group[_ngcontent-%COMP%]{position:sticky;top:168px;z-index:1}.btn-group[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{border-radius:0!important;font-size:smaller;font-style:italic;background-color:#f5f5f5;color:#6c757d;border-width:0px}.btn-group[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]{font-size:medium;font-style:normal;background-color:#6c757d;color:#fff;border-width:1px}img.shop-logo[_ngcontent-%COMP%]{max-height:none!important}img.product-image[_ngcontent-%COMP%]{width:30px}.shop-products[_ngcontent-%COMP%]{height:calc(100vh - 230px)}div.author[_ngcontent-%COMP%]{font-size:10pt}div.author[_ngcontent-%COMP%]   span.label[_ngcontent-%COMP%]{color:#888}div.author[_ngcontent-%COMP%]   span.value[_ngcontent-%COMP%]{color:#444;font-weight:500}i.disabled[_ngcontent-%COMP%]{opacity:.1;pointer-events:none}"]}),r})();const yv=["shopSearchInput"];function B1(r,i){1&r&&e.GkF(0)}function U1(r,i){if(1&r&&e._UZ(0,"img",30),2&r){const t=e.oxw().$implicit;e.Q6J("src",t.imageUrl,e.LSH)}}function XT(r,i){1&r&&e._UZ(0,"i",31)}function bv(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.prices")))}function j1(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.price")))}function V1(r,i){if(1&r&&(e.TgZ(0,"div",32)(1,"span",33),e._uU(2),e.ALo(3,"number"),e.qZA(),e.YNc(4,bv,3,3,"span",28),e.YNc(5,j1,3,3,"span",28),e.qZA()),2&r){const t=e.oxw().$implicit,c=e.oxw(3);e.xp6(2),e.Oqu(e.xi3(3,3,c.getShopPrices(t),"1.0-2")),e.xp6(2),e.Q6J("ngIf",c.getShopPrices(t)>1),e.xp6(1),e.Q6J("ngIf",1===c.getShopPrices(t))}}function G1(r,i){if(1&r){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34)(2,"span",35),e.NdJ("click",function(){e.CHM(t);const h=e.oxw().$implicit;return e.oxw(3).doRemove(h.id)}),e.qZA()(),e.BQk()}}const eE=function(r,i,t){return{far:r,fas:i,"ms-auto":t}};function H1(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"li",20)(1,"div",21)(2,"div",22),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.YNc(3,U1,1,1,"img",23),e.YNc(4,XT,1,0,"i",24),e.qZA(),e.ynx(5),e.TgZ(6,"div",25),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doEditShop(_)}),e.TgZ(7,"a",26),e._uU(8),e.qZA(),e.YNc(9,V1,6,6,"div",27),e.qZA(),e.YNc(10,G1,3,0,"ng-container",28),e.TgZ(11,"span",29),e.NdJ("click",function(){const _=e.CHM(t).$implicit;return e.oxw(3).doToggleFavourite(_.id)}),e.qZA(),e.BQk(),e.qZA()()}if(2&r){const t=i.$implicit,c=e.oxw(3);e.Q6J("hidden",c.onlyFavourites&&!t.favourite||!c.matchesFilter(t)),e.xp6(3),e.Q6J("ngIf",(null==t||null==t.imageUrl?null:t.imageUrl.length)>0),e.xp6(1),e.Q6J("ngIf",!((null==t||null==t.imageUrl?null:t.imageUrl.length)>0)),e.xp6(4),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",c.getShopPrices(t)>0),e.xp6(1),e.Q6J("ngIf",c.canRemoveShop(t)),e.xp6(1),e.Q6J("ngClass",e.kEZ(7,eE,!t.favourite,t.favourite,!c.canRemoveShop(t)))}}function Aw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",1)(2,"ul",18),e.YNc(3,H1,12,11,"li",19),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Q6J("ngForOf",t.shops)}}function Cv(r,i){if(1&r&&(e.ynx(0),e.YNc(1,Aw,4,1,"ng-container",14),e.BQk()),2&r){const t=e.oxw(),c=e.MAs(20);e.xp6(1),e.Q6J("ngIf",(null==t.shops?null:t.shops.length)>0&&(!t.onlyFavourites||t.hasFavourites()))("ngIfElse",c)}}function Iw(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noShopAdded")))}function tE(r,i){1&r&&(e.TgZ(0,"small",38),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"shops.noFavouriteShop")))}function nE(r,i){if(1&r&&(e.TgZ(0,"div",36),e.YNc(1,Iw,3,3,"small",37),e.YNc(2,tE,3,3,"small",37),e.qZA()),2&r){const t=e.oxw(),c=e.MAs(24);e.xp6(1),e.Q6J("ngIf",0===t.shops.length&&!c),e.xp6(1),e.Q6J("ngIf",!t.hasFavourites()&&t.onlyFavourites&&!c)}}function rE(r,i){if(1&r){const t=e.EpF();e.TgZ(0,"div",39)(1,"span",40),e.NdJ("click",function(){return e.CHM(t),e.oxw().exit()}),e._UZ(2,"i",41),e.TgZ(3,"span",42),e._uU(4),e.ALo(5,"translate"),e.qZA()(),e.TgZ(6,"span",43),e._uU(7,"/"),e.qZA(),e.TgZ(8,"span",44),e._uU(9),e.ALo(10,"translate"),e.qZA()()}2&r&&(e.xp6(4),e.Oqu(e.lcZ(5,2,"breadcrumb.home")),e.xp6(5),e.Oqu(e.lcZ(10,4,"breadcrumb.shops")))}function Pw(r,i){1&r&&(e.TgZ(0,"div",45),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.hij(" ",e.lcZ(2,1,"commons.loading")," "))}let Ow=(()=>{class r{constructor(t,c,h,_,O){this.router=t,this.shopService=c,this.shopProductService=h,this.loginService=_,this.spinner=O,this.STORED_SEARCH_KEY=Rn.M.PS_SHOPS_SEARCH_TEXT,this.loading=!0,this.onlyFavourites=!1,this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||""}doCreateShop(){this.router.navigate(["new-shop"])}doEditShop(t){this.router.navigate(["edit-shop/"+t.id])}doToggleFavourite(t){this.spinner.show();const c=this.shops.find(h=>h.id===t);c.favourite=!c.favourite,this.shopService.toggleFavourite(c).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})}doRemove(t){confirm("Si esborres la botiga tamb\xe9 s'esborrar\xe0n els preus dels seus productes. Continuar?")&&this.shopService.removeShop(t).subscribe(()=>{this.spinner.show(),this.shopProductService.removeShopShopProducts(t).subscribe(()=>{this.spinner.hide()},()=>{this.spinner.hide()})})}matchesFilter(t){return t.name.toUpperCase().indexOf(this.searchText.toUpperCase())>=0}exit(){this.router.navigateByUrl("")}canRemoveShop(t){return this.loggedUser.admin||t.createdBy&&this.loggedUser.email===t.createdBy.email}getShopPrices(t){let c=[];return this.shopProductService._shopsProducts.filter(h=>h.shopId===t.id).forEach(h=>{c.indexOf(h.productBarcode)<0&&c.push(h.productBarcode)}),c.length}setSearchText(t){this.searchText=t||"",localStorage.setItem(this.STORED_SEARCH_KEY,this.searchText)}hasFavourites(){return this.shopService.getFavourites().length>0}ngOnInit(){this.searchText=localStorage.getItem(this.STORED_SEARCH_KEY)||"",this.loggedUser=this.loginService.getLoggedUser(),this.shopService.shops.subscribe(t=>{this.shops=t.sort((c,h)=>c.name.toUpperCase()>h.name.toUpperCase()?1:-1)}),this.shops=this.shopService._shops,this.loading=!1}ngAfterViewInit(){ki(this.shopSearchInput.nativeElement,"keyup").pipe((0,Ao.h)(Boolean),mo(300),no(),(0,xi.b)(t=>{var c;this.setSearchText(null===(c=null==t?void 0:t.target)||void 0===c?void 0:c.value)})).subscribe()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36(At.F0),e.Y36(Rr.d),e.Y36(Ho),e.Y36($r.r),e.Y36(Es))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-shop-search"]],viewQuery:function(t,c){if(1&t&&e.Gf(yv,5),2&t){let h;e.iGM(h=e.CRH())&&(c.shopSearchInput=h.first)}},decls:25,vars:12,consts:[[1,"d-flex","justify-content-start","align-items-center","w-100","search-header-container","bg-info"],[1,"d-flex","flex-column","w-100"],[1,"d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[1,"d-flex","flex-column","align-items-center","px-3"],[1,"input-group"],["type","text","aria-label","Cerca per nom",1,"form-control",3,"readonly","value","placeholder"],["shopSearchInput",""],[1,"input-group-text","h-100"],[1,"fas","fa-search"],[1,"d-flex","justify-content-end","form-check","form-switch","mt-2","w-100"],["type","checkbox","role","switch","id","flexSwitchCheckDefault",1,"form-check-input",3,"ngModel","ngModelChange"],["for","flexSwitchCheckDefault",1,"form-check-label","ms-2"],[1,"search-content","d-flex","flex-column","mb-4","px-3","pt-3","w-100"],[4,"ngIf","ngIfElse"],["noData",""],["breadcrumb",""],["loading",""],[1,"list-group"],["class","list-group-item ps-2 py-3",3,"hidden",4,"ngFor","ngForOf"],[1,"list-group-item","ps-2","py-3",3,"hidden"],[1,"d-flex","justify-content-start","align-items-start","w-100","flex-grow"],[1,"me-2",3,"click"],["class","shop-logo",3,"src",4,"ngIf"],["class","fas fa-image",4,"ngIf"],[1,"d-flex","flex-column","flex-grow","w-100",3,"click"],["href","javascript://",1,"break-wrord","ps-1","w-100","text-start"],["class","d-flex prices-count mt-1 px-2",4,"ngIf"],[4,"ngIf"],[1,"shop-action-btn","fa-star","ms-auto",3,"ngClass","click"],[1,"shop-logo",3,"src"],[1,"fas","fa-image"],[1,"d-flex","prices-count","mt-1","px-2"],[1,"me-1"],[1,"d-flex","align-items-center","ms-auto"],[1,"shop-action-btn","fas","fa-trash","mx-3",3,"click"],[1,"mb-3","mt-3","d-flex","flex-column","justify-content-center","align-items-center","w-100","h-100","no-data"],["class","no-data-msg",4,"ngIf"],[1,"no-data-msg"],[1,"breadcrumb","text-start"],[1,"step","cursor-pointer",3,"click"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],[1,"step","fw-bold"],[1,"page","d-flex","justify-content-center","align-items-center","w-100"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1)(3,"div",2),e.YNc(4,B1,1,0,"ng-container",3),e.qZA(),e.TgZ(5,"div",4)(6,"div",5),e._UZ(7,"input",6,7),e.ALo(9,"translate"),e.TgZ(10,"span",8),e._UZ(11,"i",9),e.qZA()(),e.TgZ(12,"div",10)(13,"input",11),e.NdJ("ngModelChange",function(_){return c.onlyFavourites=_}),e.qZA(),e.TgZ(14,"label",12),e._uU(15),e.ALo(16,"translate"),e.qZA()()()(),e.BQk(),e.qZA(),e.TgZ(17,"div",13),e.YNc(18,Cv,2,2,"ng-container",14),e.qZA(),e.YNc(19,nE,3,2,"ng-template",null,15,e.W1O),e.YNc(21,rE,11,6,"ng-template",null,16,e.W1O),e.YNc(23,Pw,3,3,"ng-template",null,17,e.W1O)),2&t){const h=e.MAs(22),_=e.MAs(24);e.xp6(4),e.Q6J("ngTemplateOutlet",h),e.xp6(3),e.s9C("placeholder",e.lcZ(9,8,"shops.searchPlaceholder")),e.Q6J("readonly",(null==c.shops?null:c.shops.length)<1)("value",c.searchText),e.xp6(6),e.Q6J("ngModel",c.onlyFavourites),e.xp6(2),e.Oqu(e.lcZ(16,10,"shops.onlyFavouriteShops")),e.xp6(3),e.Q6J("ngIf",c.shops)("ngIfElse",_)}},directives:[p.tP,et,Si,eo,p.O5,p.sg,p.mk],pipes:[ns,p.JJ],styles:[".input-group-text[_ngcontent-%COMP%]{padding:10px}.input-group[_ngcontent-%COMP%]   .fa-star[_ngcontent-%COMP%]{font-size:18pt}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]{background-color:#fff;opacity:1!important}.list-group[_ngcontent-%COMP%]   .list-group-item[_ngcontent-%COMP%]   span.shop-action-btn[_ngcontent-%COMP%]{font-size:18pt}.search-header-container[_ngcontent-%COMP%]{position:sticky;top:80px;z-index:0;width:100%!important;padding-top:0;padding-bottom:10px;color:#fff;border:1px solid #ccc}.search-content[_ngcontent-%COMP%]{overflow:auto;height:calc(100vh - 240px)}img.shop-logo[_ngcontent-%COMP%]{width:30px;max-height:100px}i.fa-image[_ngcontent-%COMP%]{font-size:22pt}.filter-badge[_ngcontent-%COMP%]{font-size:10pt;border:1px solid #ccc;cursor:pointer}.no-data[_ngcontent-%COMP%]{height:calc(100vh - 660px)!important}"]}),r})();function Mw(r,i){1&r&&e.GkF(0)}function iE(r,i){1&r&&e._UZ(0,"i",12)}function Nw(r,i){if(1&r&&e._UZ(0,"img",13),2&r){const t=e.oxw(2);e.Q6J("src",t.user.photoURL,e.LSH)}}function wv(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",11)(2,"label"),e._uU(3),e.ALo(4,"translate"),e.qZA(),e.TgZ(5,"span"),e._uU(6),e.qZA()(),e.BQk()),2&r){const t=e.oxw(2);e.xp6(3),e.Oqu(e.lcZ(4,2,"user.username")),e.xp6(3),e.Oqu(t.user.username)}}function Rw(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.admin")))}function Nl(r,i){1&r&&(e.TgZ(0,"span"),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.role.user")))}function kw(r,i){if(1&r&&(e.ynx(0),e.TgZ(1,"div",5)(2,"div",6)(3,"div",7),e.YNc(4,iE,1,0,"i",8),e.YNc(5,Nw,1,1,"img",9),e._UZ(6,"app-language-selector"),e.qZA(),e.YNc(7,wv,7,4,"ng-container",10),e.TgZ(8,"div",11)(9,"label"),e._uU(10),e.ALo(11,"translate"),e.qZA(),e.TgZ(12,"span"),e._uU(13),e.qZA()(),e.TgZ(14,"div",11)(15,"label"),e._uU(16),e.ALo(17,"translate"),e.qZA(),e.YNc(18,Rw,3,3,"span",10),e.YNc(19,Nl,3,3,"span",10),e.qZA(),e.TgZ(20,"div",11)(21,"label"),e._uU(22),e.ALo(23,"translate"),e.qZA(),e.TgZ(24,"span"),e._uU(25),e.ALo(26,"date"),e.qZA()()()(),e.BQk()),2&r){const t=e.oxw();e.xp6(4),e.Q6J("ngIf",!t.user.photoURL),e.xp6(1),e.Q6J("ngIf",t.user.photoURL),e.xp6(2),e.Q6J("ngIf",t.user.username),e.xp6(3),e.Oqu(e.lcZ(11,10,"user.email")),e.xp6(3),e.Oqu(t.user.email),e.xp6(3),e.Oqu(e.lcZ(17,12,"user.role")),e.xp6(2),e.Q6J("ngIf",t.user.admin),e.xp6(1),e.Q6J("ngIf",!t.user.admin),e.xp6(3),e.Oqu(e.lcZ(23,14,"user.lastLogin")),e.xp6(3),e.Oqu(e.xi3(26,16,t.user.lastLogin,"medium"))}}function Tv(r,i){1&r&&(e.TgZ(0,"div",14),e._uU(1),e.ALo(2,"translate"),e.qZA()),2&r&&(e.xp6(1),e.Oqu(e.lcZ(2,1,"commons.noData")))}function Lw(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.username)}}function Fw(r,i){if(1&r&&(e.TgZ(0,"span",22),e._uU(1),e.qZA()),2&r){const t=e.oxw(2);e.xp6(1),e.Oqu(null==t.user?null:t.user.email.substr(0,null==t.user?null:t.user.email.indexOf("@")))}}function Ev(r,i){if(1&r&&(e.TgZ(0,"div",15)(1,"span",16)(2,"a",17),e._UZ(3,"i",18),e.TgZ(4,"span",19),e._uU(5),e.ALo(6,"translate"),e.qZA()()(),e.TgZ(7,"span",20),e._uU(8,"/"),e.qZA(),e.YNc(9,Lw,2,1,"span",21),e.YNc(10,Fw,2,1,"span",21),e.qZA()),2&r){const t=e.oxw();e.xp6(5),e.Oqu(e.lcZ(6,3,"breadcrumb.home")),e.xp6(4),e.Q6J("ngIf",null==t.user?null:t.user.username),e.xp6(1),e.Q6J("ngIf",!(null!=t.user&&t.user.username))}}const q1=function(){return["../login"]},z1=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:Oy,canActivate:[da,$a]},{path:"user",component:(()=>{class r{constructor(t,c){this.loginService=t,this.spinner=c}ngOnInit(){this.user=this.loginService.getLoggedUser()}}return r.\u0275fac=function(t){return new(t||r)(e.Y36($r.r),e.Y36(Es))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-user-detail"]],decls:7,vars:3,consts:[[1,"sticky-header","d-flex","flex-column","px-3","w-100"],[4,"ngTemplateOutlet"],[4,"ngIf","ngIfElse"],["noUser",""],["breadcrumb",""],[1,"d-flex","card","transparent","flex-column","mb-3","p-3","w-100"],[1,"modal-content","d-flex","flex-column","p-3","flex-row"],[1,"w-100","d-flex","justify-content-between","align-items-start","my-3","px-1"],["class","fas fa-user",4,"ngIf"],["class","user-photo",3,"src",4,"ngIf"],[4,"ngIf"],[1,"d-flex","flex-column","justify-content-between","align-items-start","w-100","form-group","mb-3"],[1,"fas","fa-user"],[1,"user-photo",3,"src"],[1,"d-flex","p-3","w-100"],[1,"breadcrumb","text-start"],[1,"step"],["routerLink","/home"],[1,"fas","fa-home","mx-2"],[1,"fst-italic","text-decoration-underline"],[1,"divider","mx-2"],["class","step fw-bold",4,"ngIf"],[1,"step","fw-bold"]],template:function(t,c){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,Mw,1,0,"ng-container",1),e.qZA(),e.YNc(2,kw,27,19,"ng-container",2),e.YNc(3,Tv,3,3,"ng-template",null,3,e.W1O),e.YNc(5,Ev,11,5,"ng-template",null,4,e.W1O)),2&t){const h=e.MAs(4),_=e.MAs(6);e.xp6(1),e.Q6J("ngTemplateOutlet",_),e.xp6(1),e.Q6J("ngIf",c.user)("ngIfElse",h)}},directives:[p.tP,p.O5,Ny,At.yS],pipes:[ns,p.uU],styles:[".sticky-header[_ngcontent-%COMP%]{position:sticky;top:88px;z-index:1;width:100%!important;padding-top:10px;padding-bottom:10px;background-color:#444;color:#fff;border:1px solid #ccc}i.fa-user[_ngcontent-%COMP%]{font-size:42pt}label[_ngcontent-%COMP%]{font-weight:500}img.user-photo[_ngcontent-%COMP%]{max-width:100px;max-height:100px}"]}),r})(),canActivate:[da,$a]},{path:"login",component:Ly,canActivate:[da,B_]},{path:"register",component:RT,canActivate:[da,B_]},{path:"scan",component:Yy,canActivate:[da,$a]},{path:"search-products",component:mw,canActivate:[da,$a]},{path:"search-shops",component:Ow,canActivate:[da,$a]},{path:"statistics",component:Ay,canActivate:[da,$a]},{path:"edit-shop/:id",component:F1,canActivate:[da,$a]},{path:"new-shop",component:ww,canActivate:[da,$a]},{path:"edit-product/:barcode",component:sw,canActivate:[da,$a]},{path:"new-product",redirectTo:"scan",pathMatch:"full"},{path:"shoppingCart",component:mv,canActivate:[da,$a]},{path:"alerts",component:Ey,canActivate:[da,$a]},{path:"forbidden",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-forbidden"]],decls:4,vars:2,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-user-check","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._UZ(2,"i",2),e._uU(3," Login "),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,q1)))},directives:[At.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})()},{path:"forbiddenIP",component:Dy},{path:"**",component:(()=>{class r{constructor(){}ngOnInit(){}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-page-not-found"]],decls:7,vars:1,consts:[[1,"d-flex","flex-column","justify-content-center","align-items-center","w-100"],[1,"fas","fa-ban","text-danger","mb-2"],[1,"btn","btn-secondary","mt-4",3,"routerLink"],[1,"fas","fa-home","me-2"]],template:function(t,c){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"i",1),e.TgZ(2,"span"),e._uU(3,"P\xe0gina inexistent!"),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e._uU(6," Anar a l'inici "),e.qZA()()),2&t&&(e.xp6(4),e.Q6J("routerLink",""))},directives:[At.rH],styles:[".fa-ban[_ngcontent-%COMP%]{margin-top:200px;font-size:22pt}"]}),r})()}],Ti=!1;function $_(r){return new e.vHH(3e3,Ti)}function K_(){return"undefined"!=typeof window&&void 0!==window.document}function xv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function qd(r){switch(r.length){case 0:return new Ci;case 1:return r[0];default:return new ts(r)}}function Av(r,i,t,c,h={},_={}){const O=[],z=[];let J=-1,De=null;if(c.forEach(tt=>{const Ut=tt.offset,Gt=Ut==J,Jt=Gt&&De||{};Object.keys(tt).forEach(sn=>{let Qt=sn,Wn=tt[sn];if("offset"!==sn)switch(Qt=i.normalizePropertyName(Qt,O),Wn){case"!":Wn=h[sn];break;case Mi:Wn=_[sn];break;default:Wn=i.normalizeStyleValue(sn,Qt,Wn,O)}Jt[Qt]=Wn}),Gt||z.push(Jt),De=Jt,J=Ut}),O.length)throw function lE(r){return new e.vHH(3502,Ti)}();return z}function nd(r,i,t,c){switch(i){case"start":r.onStart(()=>c(t&&J_(t,"start",r)));break;case"done":r.onDone(()=>c(t&&J_(t,"done",r)));break;case"destroy":r.onDestroy(()=>c(t&&J_(t,"destroy",r)))}}function J_(r,i,t){const c=t.totalTime,_=fm(r.element,r.triggerName,r.fromState,r.toState,i||r.phaseName,null==c?r.totalTime:c,!!t.disabled),O=r._data;return null!=O&&(_._data=O),_}function fm(r,i,t,c,h="",_=0,O){return{element:r,triggerName:i,fromState:t,toState:c,phaseName:h,totalTime:_,disabled:!!O}}function Ja(r,i,t){let c;return r instanceof Map?(c=r.get(i),c||r.set(i,c=t)):(c=r[i],c||(c=r[i]=t)),c}function tb(r){const i=r.indexOf(":");return[r.substring(1,i),r.substr(i+1)]}let pm=(r,i)=>!1,Y_=(r,i,t)=>[],gm=null;function nb(r){const i=r.parentNode||r.host;return i===gm?null:i}(xv()||"undefined"!=typeof Element)&&(K_()?(gm=(()=>document.documentElement)(),pm=(r,i)=>{for(;i;){if(i===r)return!0;i=nb(i)}return!1}):pm=(r,i)=>r.contains(i),Y_=(r,i,t)=>{if(t)return Array.from(r.querySelectorAll(i));const c=r.querySelector(i);return c?[c]:[]});let pp=null,Iv=!1;function rb(r){pp||(pp=function Xw(){return"undefined"!=typeof document?document.body:null}()||{},Iv=!!pp.style&&"WebkitAppearance"in pp.style);let i=!0;return pp.style&&!function gE(r){return"ebkit"==r.substring(1,6)}(r)&&(i=r in pp.style,!i&&Iv&&(i="Webkit"+r.charAt(0).toUpperCase()+r.substr(1)in pp.style)),i}const ib=pm,ob=Y_;let Pv=(()=>{class r{validateStyleProperty(t){return rb(t)}matchesElement(t,c){return!1}containsElement(t,c){return ib(t,c)}getParentElement(t){return nb(t)}query(t,c,h){return ob(t,c,h)}computeStyle(t,c,h){return h||""}animate(t,c,h,_,O,z=[],J){return new Ci(h,_)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})(),Q_=(()=>{class r{}return r.NOOP=new Pv,r})();const mm="ng-enter",Ov="ng-leave",_m="ng-trigger",gp=".ng-trigger",cb="ng-animating",Mv=".ng-animating";function mp(r){if("number"==typeof r)return r;const i=r.match(/^(-?[\.\d]+)(m?s)/);return!i||i.length<2?0:lb(parseFloat(i[1]),i[2])}function lb(r,i){return"s"===i?1e3*r:r}function Nv(r,i,t){return r.hasOwnProperty("duration")?r:function nT(r,i,t){let h,_=0,O="";if("string"==typeof r){const z=r.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===z)return i.push($_()),{duration:0,delay:0,easing:""};h=lb(parseFloat(z[1]),z[2]);const J=z[3];null!=J&&(_=lb(parseFloat(J),z[4]));const De=z[5];De&&(O=De)}else h=r;if(!t){let z=!1,J=i.length;h<0&&(i.push(function Rl(){return new e.vHH(3100,Ti)}()),z=!0),_<0&&(i.push(function Uw(){return new e.vHH(3101,Ti)}()),z=!0),z&&i.splice(J,0,$_())}return{duration:h,delay:_,easing:O}}(r,i,t)}function _p(r,i={}){return Object.keys(r).forEach(t=>{i[t]=r[t]}),i}function $h(r,i,t={}){if(i)for(let c in r)t[c]=r[c];else _p(r,t);return t}function iT(r,i,t){return t?i+":"+t+";":""}function oT(r){let i="";for(let t=0;t<r.style.length;t++){const c=r.style.item(t);i+=iT(0,c,r.style.getPropertyValue(c))}for(const t in r.style)r.style.hasOwnProperty(t)&&!t.startsWith("_")&&(i+=iT(0,m(t),r.style[t]));r.setAttribute("style",i)}function rd(r,i,t){r.style&&(Object.keys(i).forEach(c=>{const h=f(c);t&&!t.hasOwnProperty(c)&&(t[c]=r.style[h]),r.style[h]=i[c]}),xv()&&oT(r))}function Kh(r,i){r.style&&(Object.keys(i).forEach(t=>{const c=f(t);r.style[c]=""}),xv()&&oT(r))}function X_(r){return Array.isArray(r)?1==r.length?r[0]:jl(r):r}const ub=new RegExp("{{\\s*(.+?)\\s*}}","g");function sT(r){let i=[];if("string"==typeof r){let t;for(;t=ub.exec(r);)i.push(t[1]);ub.lastIndex=0}return i}function o(r,i,t){const c=r.toString(),h=c.replace(ub,(_,O)=>{let z=i[O];return i.hasOwnProperty(O)||(t.push(function jw(r){return new e.vHH(3003,Ti)}()),z=""),z.toString()});return h==c?r:h}function s(r){const i=[];let t=r.next();for(;!t.done;)i.push(t.value),t=r.next();return i}const u=/-+([a-z0-9])/g;function f(r){return r.replace(u,(...i)=>i[1].toUpperCase())}function m(r){return r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function P(r,i,t){switch(i.type){case 7:return r.visitTrigger(i,t);case 0:return r.visitState(i,t);case 1:return r.visitTransition(i,t);case 2:return r.visitSequence(i,t);case 3:return r.visitGroup(i,t);case 4:return r.visitAnimate(i,t);case 5:return r.visitKeyframes(i,t);case 6:return r.visitStyle(i,t);case 8:return r.visitReference(i,t);case 9:return r.visitAnimateChild(i,t);case 10:return r.visitAnimateRef(i,t);case 11:return r.visitQuery(i,t);case 12:return r.visitStagger(i,t);default:throw function W1(r){return new e.vHH(3004,Ti)}()}}function B(r,i){return window.getComputedStyle(r)[i]}function ur(r,i){const t=[];return"string"==typeof r?r.split(/\s*,\s*/).forEach(c=>function en(r,i,t){if(":"==r[0]){const J=function Ar(r,i){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,c)=>parseFloat(c)>parseFloat(t);case":decrement":return(t,c)=>parseFloat(c)<parseFloat(t);default:return i.push(function Q1(r){return new e.vHH(3016,Ti)}()),"* => *"}}(r,t);if("function"==typeof J)return void i.push(J);r=J}const c=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==c||c.length<4)return t.push(function Ww(r){return new e.vHH(3015,Ti)}()),i;const h=c[1],_=c[2],O=c[3];i.push(pc(h,O));"<"==_[0]&&!("*"==h&&"*"==O)&&i.push(pc(O,h))}(c,t,i)):t.push(r),t}const li=new Set(["true","1"]),Fi=new Set(["false","0"]);function pc(r,i){const t=li.has(r)||Fi.has(r),c=li.has(i)||Fi.has(i);return(h,_)=>{let O="*"==r||r==h,z="*"==i||i==_;return!O&&t&&"boolean"==typeof h&&(O=h?li.has(r):Fi.has(r)),!z&&c&&"boolean"==typeof _&&(z=_?li.has(i):Fi.has(i)),O&&z}}const Rv=new RegExp("s*:selfs*,?","g");function vm(r,i,t,c){return new kv(r).build(i,t,c)}class kv{constructor(i){this._driver=i}build(i,t,c){const h=new Bv(t);this._resetContextStyleTimingState(h);const _=P(this,X_(i),h);return h.unsupportedCSSPropertiesFound.size&&h.unsupportedCSSPropertiesFound.keys(),_}_resetContextStyleTimingState(i){i.currentQuerySelector="",i.collectedStyles={},i.collectedStyles[""]={},i.currentTime=0}visitTrigger(i,t){let c=t.queryCount=0,h=t.depCount=0;const _=[],O=[];return"@"==i.name.charAt(0)&&t.errors.push(function Gw(){return new e.vHH(3006,Ti)}()),i.definitions.forEach(z=>{if(this._resetContextStyleTimingState(t),0==z.type){const J=z,De=J.name;De.toString().split(/\s*,\s*/).forEach(tt=>{J.name=tt,_.push(this.visitState(J,t))}),J.name=De}else if(1==z.type){const J=this.visitTransition(z,t);c+=J.queryCount,h+=J.depCount,O.push(J)}else t.errors.push(function $1(){return new e.vHH(3007,Ti)}())}),{type:7,name:i.name,states:_,transitions:O,queryCount:c,depCount:h,options:null}}visitState(i,t){const c=this.visitStyle(i.styles,t),h=i.options&&i.options.params||null;if(c.containsDynamicStyles){const _=new Set,O=h||{};c.styles.forEach(z=>{if(vp(z)){const J=z;Object.keys(J).forEach(De=>{sT(J[De]).forEach(tt=>{O.hasOwnProperty(tt)||_.add(tt)})})}}),_.size&&(s(_.values()),t.errors.push(function Hw(r,i){return new e.vHH(3008,Ti)}()))}return{type:0,name:i.name,style:c,options:h?{params:h}:null}}visitTransition(i,t){t.queryCount=0,t.depCount=0;const c=P(this,X_(i.animation),t);return{type:1,matchers:ur(i.expr,t.errors),animation:c,queryCount:t.queryCount,depCount:t.depCount,options:ym(i.options)}}visitSequence(i,t){return{type:2,steps:i.steps.map(c=>P(this,c,t)),options:ym(i.options)}}visitGroup(i,t){const c=t.currentTime;let h=0;const _=i.steps.map(O=>{t.currentTime=c;const z=P(this,O,t);return h=Math.max(h,t.currentTime),z});return t.currentTime=h,{type:3,steps:_,options:ym(i.options)}}visitAnimate(i,t){const c=function QE(r,i){let t=null;if(r.hasOwnProperty("duration"))t=r;else if("number"==typeof r)return aT(Nv(r,i).duration,0,"");const c=r;if(c.split(/\s+/).some(_=>"{"==_.charAt(0)&&"{"==_.charAt(1))){const _=aT(0,0,"");return _.dynamic=!0,_.strValue=c,_}return t=t||Nv(c,i),aT(t.duration,t.delay,t.easing)}(i.timings,t.errors);t.currentAnimateTimings=c;let h,_=i.styles?i.styles:co({});if(5==_.type)h=this.visitKeyframes(_,t);else{let O=i.styles,z=!1;if(!O){z=!0;const De={};c.easing&&(De.easing=c.easing),O=co(De)}t.currentTime+=c.duration+c.delay;const J=this.visitStyle(O,t);J.isEmptyStep=z,h=J}return t.currentAnimateTimings=null,{type:4,timings:c,style:h,options:null}}visitStyle(i,t){const c=this._makeStyleAst(i,t);return this._validateStyleAst(c,t),c}_makeStyleAst(i,t){const c=[];Array.isArray(i.styles)?i.styles.forEach(O=>{"string"==typeof O?O==Mi?c.push(O):t.errors.push(function aE(r){return new e.vHH(3002,Ti)}()):c.push(O)}):c.push(i.styles);let h=!1,_=null;return c.forEach(O=>{if(vp(O)){const z=O,J=z.easing;if(J&&(_=J,delete z.easing),!h)for(let De in z)if(z[De].toString().indexOf("{{")>=0){h=!0;break}}}),{type:6,styles:c,easing:_,offset:i.offset,containsDynamicStyles:h,options:null}}_validateStyleAst(i,t){const c=t.currentAnimateTimings;let h=t.currentTime,_=t.currentTime;c&&_>0&&(_-=c.duration+c.delay),i.styles.forEach(O=>{"string"!=typeof O&&Object.keys(O).forEach(z=>{if(!this._driver.validateStyleProperty(z))return delete O[z],void t.unsupportedCSSPropertiesFound.add(z);const J=t.collectedStyles[t.currentQuerySelector],De=J[z];let tt=!0;De&&(_!=h&&_>=De.startTime&&h<=De.endTime&&(t.errors.push(function K1(r,i,t,c,h){return new e.vHH(3010,Ti)}()),tt=!1),_=De.startTime),tt&&(J[z]={startTime:_,endTime:h}),t.options&&function mE(r,i,t){const c=i.params||{},h=sT(r);h.length&&h.forEach(_=>{c.hasOwnProperty(_)||t.push(function sE(r){return new e.vHH(3001,Ti)}())})}(O[z],t.options,t.errors)})})}visitKeyframes(i,t){const c={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function qw(){return new e.vHH(3011,Ti)}()),c;let _=0;const O=[];let z=!1,J=!1,De=0;const tt=i.steps.map(Er=>{const yr=this._makeStyleAst(Er,t);let Yr=null!=yr.offset?yr.offset:function Uv(r){if("string"==typeof r)return null;let i=null;if(Array.isArray(r))r.forEach(t=>{if(vp(t)&&t.hasOwnProperty("offset")){const c=t;i=parseFloat(c.offset),delete c.offset}});else if(vp(r)&&r.hasOwnProperty("offset")){const t=r;i=parseFloat(t.offset),delete t.offset}return i}(yr.styles),nr=0;return null!=Yr&&(_++,nr=yr.offset=Yr),J=J||nr<0||nr>1,z=z||nr<De,De=nr,O.push(nr),yr});J&&t.errors.push(function zw(){return new e.vHH(3012,Ti)}()),z&&t.errors.push(function J1(){return new e.vHH(3200,Ti)}());const Ut=i.steps.length;let Gt=0;_>0&&_<Ut?t.errors.push(function Dv(){return new e.vHH(3202,Ti)}()):0==_&&(Gt=1/(Ut-1));const Jt=Ut-1,sn=t.currentTime,Qt=t.currentAnimateTimings,Wn=Qt.duration;return tt.forEach((Er,yr)=>{const Yr=Gt>0?yr==Jt?1:Gt*yr:O[yr],nr=Yr*Wn;t.currentTime=sn+Qt.delay+nr,Qt.duration=nr,this._validateStyleAst(Er,t),Er.offset=Yr,c.styles.push(Er)}),c}visitReference(i,t){return{type:8,animation:P(this,X_(i.animation),t),options:ym(i.options)}}visitAnimateChild(i,t){return t.depCount++,{type:9,options:ym(i.options)}}visitAnimateRef(i,t){return{type:10,animation:this.visitReference(i.animation,t),options:ym(i.options)}}visitQuery(i,t){const c=t.currentQuerySelector,h=i.options||{};t.queryCount++,t.currentQuery=i;const[_,O]=function Lv(r){const i=!!r.split(/\s*,\s*/).find(t=>":self"==t);return i&&(r=r.replace(Rv,"")),r=r.replace(/@\*/g,gp).replace(/@\w+/g,t=>gp+"-"+t.substr(1)).replace(/:animating/g,Mv),[r,i]}(i.selector);t.currentQuerySelector=c.length?c+" "+_:_,Ja(t.collectedStyles,t.currentQuerySelector,{});const z=P(this,X_(i.animation),t);return t.currentQuery=null,t.currentQuerySelector=c,{type:11,selector:_,limit:h.limit||0,optional:!!h.optional,includeSelf:O,animation:z,originalSelector:i.selector,options:ym(i.options)}}visitStagger(i,t){t.currentQuery||t.errors.push(function Sv(){return new e.vHH(3013,Ti)}());const c="full"===i.timings?{duration:0,delay:0,easing:"full"}:Nv(i.timings,t.errors,!0);return{type:12,animation:P(this,X_(i.animation),t),timings:c,options:null}}}class Bv{constructor(i){this.errors=i,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function vp(r){return!Array.isArray(r)&&"object"==typeof r}function ym(r){return r?(r=_p(r)).params&&(r.params=function Fv(r){return r?_p(r):null}(r.params)):r={},r}function aT(r,i,t){return{duration:r,delay:i,easing:t}}function cT(r,i,t,c,h,_,O=null,z=!1){return{type:1,element:r,keyframes:i,preStyleProps:t,postStyleProps:c,duration:h,delay:_,totalTime:h+_,easing:O,subTimeline:z}}class db{constructor(){this._map=new Map}get(i){return this._map.get(i)||[]}append(i,t){let c=this._map.get(i);c||this._map.set(i,c=[]),c.push(...t)}has(i){return this._map.has(i)}clear(){this._map.clear()}}const tD=new RegExp(":enter","g"),rD=new RegExp(":leave","g");function lT(r,i,t,c,h,_={},O={},z,J,De=[]){return(new iD).buildKeyframes(r,i,t,c,h,_,O,z,J,De)}class iD{buildKeyframes(i,t,c,h,_,O,z,J,De,tt=[]){De=De||new db;const Ut=new uT(i,t,De,h,_,tt,[]);Ut.options=J,Ut.currentTimeline.setStyles([O],null,Ut.errors,J),P(this,c,Ut);const Gt=Ut.timelines.filter(Jt=>Jt.containsAnimation());if(Object.keys(z).length){let Jt;for(let sn=Gt.length-1;sn>=0;sn--){const Qt=Gt[sn];if(Qt.element===t){Jt=Qt;break}}Jt&&!Jt.allowOnlyTimelineStyles()&&Jt.setStyles([z],null,Ut.errors,J)}return Gt.length?Gt.map(Jt=>Jt.buildKeyframes()):[cT(t,[],[],[],0,0,"",!1)]}visitTrigger(i,t){}visitState(i,t){}visitTransition(i,t){}visitAnimateChild(i,t){const c=t.subInstructions.get(t.element);if(c){const h=t.createSubContext(i.options),_=t.currentTimeline.currentTime,O=this._visitSubInstructions(c,h,h.options);_!=O&&t.transformIntoNewTimeline(O)}t.previousNode=i}visitAnimateRef(i,t){const c=t.createSubContext(i.options);c.transformIntoNewTimeline(),this.visitReference(i.animation,c),t.transformIntoNewTimeline(c.currentTimeline.currentTime),t.previousNode=i}_visitSubInstructions(i,t,c){let _=t.currentTimeline.currentTime;const O=null!=c.duration?mp(c.duration):null,z=null!=c.delay?mp(c.delay):null;return 0!==O&&i.forEach(J=>{const De=t.appendInstructionToTimeline(J,O,z);_=Math.max(_,De.duration+De.delay)}),_}visitReference(i,t){t.updateOptions(i.options,!0),P(this,i.animation,t),t.previousNode=i}visitSequence(i,t){const c=t.subContextCount;let h=t;const _=i.options;if(_&&(_.params||_.delay)&&(h=t.createSubContext(_),h.transformIntoNewTimeline(),null!=_.delay)){6==h.previousNode.type&&(h.currentTimeline.snapshotCurrentStyles(),h.previousNode=hb);const O=mp(_.delay);h.delayNextStep(O)}i.steps.length&&(i.steps.forEach(O=>P(this,O,h)),h.currentTimeline.applyStylesToKeyframe(),h.subContextCount>c&&h.transformIntoNewTimeline()),t.previousNode=i}visitGroup(i,t){const c=[];let h=t.currentTimeline.currentTime;const _=i.options&&i.options.delay?mp(i.options.delay):0;i.steps.forEach(O=>{const z=t.createSubContext(i.options);_&&z.delayNextStep(_),P(this,O,z),h=Math.max(h,z.currentTimeline.currentTime),c.push(z.currentTimeline)}),c.forEach(O=>t.currentTimeline.mergeTimelineCollectedStyles(O)),t.transformIntoNewTimeline(h),t.previousNode=i}_visitTiming(i,t){if(i.dynamic){const c=i.strValue;return Nv(t.params?o(c,t.params,t.errors):c,t.errors)}return{duration:i.duration,delay:i.delay,easing:i.easing}}visitAnimate(i,t){const c=t.currentAnimateTimings=this._visitTiming(i.timings,t),h=t.currentTimeline;c.delay&&(t.incrementTime(c.delay),h.snapshotCurrentStyles());const _=i.style;5==_.type?this.visitKeyframes(_,t):(t.incrementTime(c.duration),this.visitStyle(_,t),h.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=i}visitStyle(i,t){const c=t.currentTimeline,h=t.currentAnimateTimings;!h&&c.getCurrentStyleProperties().length&&c.forwardFrame();const _=h&&h.easing||i.easing;i.isEmptyStep?c.applyEmptyStep(_):c.setStyles(i.styles,_,t.errors,t.options),t.previousNode=i}visitKeyframes(i,t){const c=t.currentAnimateTimings,h=t.currentTimeline.duration,_=c.duration,z=t.createSubContext().currentTimeline;z.easing=c.easing,i.styles.forEach(J=>{z.forwardTime((J.offset||0)*_),z.setStyles(J.styles,J.easing,t.errors,t.options),z.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(z),t.transformIntoNewTimeline(h+_),t.previousNode=i}visitQuery(i,t){const c=t.currentTimeline.currentTime,h=i.options||{},_=h.delay?mp(h.delay):0;_&&(6===t.previousNode.type||0==c&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=hb);let O=c;const z=t.invokeQuery(i.selector,i.originalSelector,i.limit,i.includeSelf,!!h.optional,t.errors);t.currentQueryTotal=z.length;let J=null;z.forEach((De,tt)=>{t.currentQueryIndex=tt;const Ut=t.createSubContext(i.options,De);_&&Ut.delayNextStep(_),De===t.element&&(J=Ut.currentTimeline),P(this,i.animation,Ut),Ut.currentTimeline.applyStylesToKeyframe(),O=Math.max(O,Ut.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(O),J&&(t.currentTimeline.mergeTimelineCollectedStyles(J),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=i}visitStagger(i,t){const c=t.parentContext,h=t.currentTimeline,_=i.timings,O=Math.abs(_.duration),z=O*(t.currentQueryTotal-1);let J=O*t.currentQueryIndex;switch(_.duration<0?"reverse":_.easing){case"reverse":J=z-J;break;case"full":J=c.currentStaggerTime}const tt=t.currentTimeline;J&&tt.delayNextStep(J);const Ut=tt.currentTime;P(this,i.animation,t),t.previousNode=i,c.currentStaggerTime=h.currentTime-Ut+(h.startTime-c.currentTimeline.startTime)}}const hb={};class uT{constructor(i,t,c,h,_,O,z,J){this._driver=i,this.element=t,this.subInstructions=c,this._enterClassName=h,this._leaveClassName=_,this.errors=O,this.timelines=z,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=hb,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=J||new fb(this._driver,t,0),z.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(i,t){if(!i)return;const c=i;let h=this.options;null!=c.duration&&(h.duration=mp(c.duration)),null!=c.delay&&(h.delay=mp(c.delay));const _=c.params;if(_){let O=h.params;O||(O=this.options.params={}),Object.keys(_).forEach(z=>{(!t||!O.hasOwnProperty(z))&&(O[z]=o(_[z],O,this.errors))})}}_copyOptions(){const i={};if(this.options){const t=this.options.params;if(t){const c=i.params={};Object.keys(t).forEach(h=>{c[h]=t[h]})}}return i}createSubContext(i=null,t,c){const h=t||this.element,_=new uT(this._driver,h,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(h,c||0));return _.previousNode=this.previousNode,_.currentAnimateTimings=this.currentAnimateTimings,_.options=this._copyOptions(),_.updateOptions(i),_.currentQueryIndex=this.currentQueryIndex,_.currentQueryTotal=this.currentQueryTotal,_.parentContext=this,this.subContextCount++,_}transformIntoNewTimeline(i){return this.previousNode=hb,this.currentTimeline=this.currentTimeline.fork(this.element,i),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(i,t,c){const h={duration:null!=t?t:i.duration,delay:this.currentTimeline.currentTime+(null!=c?c:0)+i.delay,easing:""},_=new oD(this._driver,i.element,i.keyframes,i.preStyleProps,i.postStyleProps,h,i.stretchStartingKeyframe);return this.timelines.push(_),h}incrementTime(i){this.currentTimeline.forwardTime(this.currentTimeline.duration+i)}delayNextStep(i){i>0&&this.currentTimeline.delayNextStep(i)}invokeQuery(i,t,c,h,_,O){let z=[];if(h&&z.push(this.element),i.length>0){i=(i=i.replace(tD,"."+this._enterClassName)).replace(rD,"."+this._leaveClassName);let De=this._driver.query(this.element,i,1!=c);0!==c&&(De=c<0?De.slice(De.length+c,De.length):De.slice(0,c)),z.push(...De)}return!_&&0==z.length&&O.push(function Y1(r){return new e.vHH(3014,Ti)}()),z}}class fb{constructor(i,t,c,h){this._driver=i,this.element=t,this.startTime=c,this._elementTimelineStylesLookup=h,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(i){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+i),t&&this.snapshotCurrentStyles()):this.startTime+=i}fork(i,t){return this.applyStylesToKeyframe(),new fb(this._driver,i,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(i){this.applyStylesToKeyframe(),this.duration=i,this._loadKeyframe()}_updateStyle(i,t){this._localTimelineStyles[i]=t,this._globalTimelineStyles[i]=t,this._styleSummary[i]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(i){i&&(this._previousKeyframe.easing=i),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||Mi,this._currentKeyframe[t]=Mi}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(i,t,c,h){t&&(this._previousKeyframe.easing=t);const _=h&&h.params||{},O=function sD(r,i){const t={};let c;return r.forEach(h=>{"*"===h?(c=c||Object.keys(i),c.forEach(_=>{t[_]=Mi})):$h(h,!1,t)}),t}(i,this._globalTimelineStyles);Object.keys(O).forEach(z=>{const J=o(O[z],_,c);this._pendingStyles[z]=J,this._localTimelineStyles.hasOwnProperty(z)||(this._backFill[z]=this._globalTimelineStyles.hasOwnProperty(z)?this._globalTimelineStyles[z]:Mi),this._updateStyle(z,J)})}applyStylesToKeyframe(){const i=this._pendingStyles,t=Object.keys(i);0!=t.length&&(this._pendingStyles={},t.forEach(c=>{this._currentKeyframe[c]=i[c]}),Object.keys(this._localTimelineStyles).forEach(c=>{this._currentKeyframe.hasOwnProperty(c)||(this._currentKeyframe[c]=this._localTimelineStyles[c])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(i=>{const t=this._localTimelineStyles[i];this._pendingStyles[i]=t,this._updateStyle(i,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const i=[];for(let t in this._currentKeyframe)i.push(t);return i}mergeTimelineCollectedStyles(i){Object.keys(i._styleSummary).forEach(t=>{const c=this._styleSummary[t],h=i._styleSummary[t];(!c||h.time>c.time)&&this._updateStyle(t,h.value)})}buildKeyframes(){this.applyStylesToKeyframe();const i=new Set,t=new Set,c=1===this._keyframes.size&&0===this.duration;let h=[];this._keyframes.forEach((z,J)=>{const De=$h(z,!0);Object.keys(De).forEach(tt=>{const Ut=De[tt];"!"==Ut?i.add(tt):Ut==Mi&&t.add(tt)}),c||(De.offset=J/this.duration),h.push(De)});const _=i.size?s(i.values()):[],O=t.size?s(t.values()):[];if(c){const z=h[0],J=_p(z);z.offset=0,J.offset=1,h=[z,J]}return cT(this.element,h,_,O,this.duration,this.startTime,this.easing,!1)}}class oD extends fb{constructor(i,t,c,h,_,O,z=!1){super(i,t,O.delay),this.keyframes=c,this.preStyleProps=h,this.postStyleProps=_,this._stretchStartingKeyframe=z,this.timings={duration:O.duration,delay:O.delay,easing:O.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let i=this.keyframes,{delay:t,duration:c,easing:h}=this.timings;if(this._stretchStartingKeyframe&&t){const _=[],O=c+t,z=t/O,J=$h(i[0],!1);J.offset=0,_.push(J);const De=$h(i[0],!1);De.offset=_E(z),_.push(De);const tt=i.length-1;for(let Ut=1;Ut<=tt;Ut++){let Gt=$h(i[Ut],!1);Gt.offset=_E((t+Gt.offset*c)/O),_.push(Gt)}c=O,t=0,h="",i=_}return cT(this.element,i,this.preStyleProps,this.postStyleProps,c,t,h,!0)}}function _E(r,i=3){const t=Math.pow(10,i-1);return Math.round(r*t)/t}class dT{}class aD extends dT{normalizePropertyName(i,t){return f(i)}normalizeStyleValue(i,t,c,h){let _="";const O=c.toString().trim();if(cD[t]&&0!==c&&"0"!==c)if("number"==typeof c)_="px";else{const z=c.match(/^[+-]?[\d\.]+([a-z]*)$/);z&&0==z[1].length&&h.push(function Vw(r,i){return new e.vHH(3005,Ti)}())}return O+_}}const cD=(()=>function lD(r){const i={};return r.forEach(t=>i[t]=!0),i}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function vE(r,i,t,c,h,_,O,z,J,De,tt,Ut,Gt){return{type:0,element:r,triggerName:i,isRemovalTransition:h,fromState:t,fromStyles:_,toState:c,toStyles:O,timelines:z,queriedElements:J,preStyleProps:De,postStyleProps:tt,totalTime:Ut,errors:Gt}}const hT={};class yE{constructor(i,t,c){this._triggerName=i,this.ast=t,this._stateStyles=c}match(i,t,c,h){return function uD(r,i,t,c,h){return r.some(_=>_(i,t,c,h))}(this.ast.matchers,i,t,c,h)}buildStyles(i,t,c){const h=this._stateStyles["*"],_=this._stateStyles[i],O=h?h.buildStyles(t,c):{};return _?_.buildStyles(t,c):O}build(i,t,c,h,_,O,z,J,De,tt){const Ut=[],Gt=this.ast.options&&this.ast.options.params||hT,sn=this.buildStyles(c,z&&z.params||hT,Ut),Qt=J&&J.params||hT,Wn=this.buildStyles(h,Qt,Ut),Er=new Set,yr=new Map,Yr=new Map,nr="void"===h,zr={params:Object.assign(Object.assign({},Gt),Qt)},Hr=tt?[]:lT(i,t,this.ast.animation,_,O,sn,Wn,zr,De,Ut);let ti=0;if(Hr.forEach(Mo=>{ti=Math.max(Mo.duration+Mo.delay,ti)}),Ut.length)return vE(t,this._triggerName,c,h,nr,sn,Wn,[],[],yr,Yr,ti,Ut);Hr.forEach(Mo=>{const No=Mo.element,$o=Ja(yr,No,{});Mo.preStyleProps.forEach(Fs=>$o[Fs]=!0);const Ya=Ja(Yr,No,{});Mo.postStyleProps.forEach(Fs=>Ya[Fs]=!0),No!==t&&Er.add(No)});const gi=s(Er.values());return vE(t,this._triggerName,c,h,nr,sn,Wn,Hr,gi,yr,Yr,ti)}}class dD{constructor(i,t,c){this.styles=i,this.defaultParams=t,this.normalizer=c}buildStyles(i,t){const c={},h=_p(this.defaultParams);return Object.keys(i).forEach(_=>{const O=i[_];null!=O&&(h[_]=O)}),this.styles.styles.forEach(_=>{if("string"!=typeof _){const O=_;Object.keys(O).forEach(z=>{let J=O[z];J.length>1&&(J=o(J,h,t));const De=this.normalizer.normalizePropertyName(z,t);J=this.normalizer.normalizeStyleValue(z,De,J,t),c[De]=J})}}),c}}class fD{constructor(i,t,c){this.name=i,this.ast=t,this._normalizer=c,this.transitionFactories=[],this.states={},t.states.forEach(h=>{this.states[h.name]=new dD(h.style,h.options&&h.options.params||{},c)}),bE(this.states,"true","1"),bE(this.states,"false","0"),t.transitions.forEach(h=>{this.transitionFactories.push(new yE(i,h,this.states))}),this.fallbackTransition=function pD(r,i,t){return new yE(r,{type:1,animation:{type:2,steps:[],options:null},matchers:[(O,z)=>!0],options:null,queryCount:0,depCount:0},i)}(i,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(i,t,c,h){return this.transitionFactories.find(O=>O.match(i,t,c,h))||null}matchStyles(i,t,c){return this.fallbackTransition.buildStyles(i,t,c)}}function bE(r,i,t){r.hasOwnProperty(i)?r.hasOwnProperty(t)||(r[t]=r[i]):r.hasOwnProperty(t)&&(r[i]=r[t])}const gD=new db;class mD{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._animations={},this._playersById={},this.players=[]}register(i,t){const c=[],_=vm(this._driver,t,c,[]);if(c.length)throw function uE(r){return new e.vHH(3503,Ti)}();this._animations[i]=_}_buildPlayer(i,t,c){const h=i.element,_=Av(0,this._normalizer,0,i.keyframes,t,c);return this._driver.animate(h,_,i.duration,i.delay,i.easing,[],!0)}create(i,t,c={}){const h=[],_=this._animations[i];let O;const z=new Map;if(_?(O=lT(this._driver,t,_,mm,Ov,{},{},c,gD,h),O.forEach(tt=>{const Ut=Ja(z,tt.element,{});tt.postStyleProps.forEach(Gt=>Ut[Gt]=null)})):(h.push(function eb(){return new e.vHH(3300,Ti)}()),O=[]),h.length)throw function Kw(r){return new e.vHH(3504,Ti)}();z.forEach((tt,Ut)=>{Object.keys(tt).forEach(Gt=>{tt[Gt]=this._driver.computeStyle(Ut,Gt,Mi)})});const De=qd(O.map(tt=>{const Ut=z.get(tt.element);return this._buildPlayer(tt,{},Ut)}));return this._playersById[i]=De,De.onDestroy(()=>this.destroy(i)),this.players.push(De),De}destroy(i){const t=this._getPlayer(i);t.destroy(),delete this._playersById[i];const c=this.players.indexOf(t);c>=0&&this.players.splice(c,1)}_getPlayer(i){const t=this._playersById[i];if(!t)throw function Jw(r){return new e.vHH(3301,Ti)}();return t}listen(i,t,c,h){const _=fm(t,"","","");return nd(this._getPlayer(i),c,_,h),()=>{}}command(i,t,c,h){if("register"==c)return void this.register(i,h[0]);if("create"==c)return void this.create(i,t,h[0]||{});const _=this._getPlayer(i);switch(c){case"play":_.play();break;case"pause":_.pause();break;case"reset":_.reset();break;case"restart":_.restart();break;case"finish":_.finish();break;case"init":_.init();break;case"setPosition":_.setPosition(parseFloat(h[0]));break;case"destroy":this.destroy(i)}}}const CE="ng-animate-queued",fT="ng-animate-disabled",CD=[],wE={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},wD={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},fu="__ng_removed";class pT{constructor(i,t=""){this.namespaceId=t;const c=i&&i.hasOwnProperty("value");if(this.value=function SD(r){return null!=r?r:null}(c?i.value:i),c){const _=_p(i);delete _.value,this.options=_}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(i){const t=i.params;if(t){const c=this.options.params;Object.keys(t).forEach(h=>{null==c[h]&&(c[h]=t[h])})}}}const jv="void",gT=new pT(jv);class TD{constructor(i,t,c){this.id=i,this.hostElement=t,this._engine=c,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+i,pu(t,this._hostClassName)}listen(i,t,c,h){if(!this._triggers.hasOwnProperty(t))throw function Yw(r,i){return new e.vHH(3302,Ti)}();if(null==c||0==c.length)throw function dE(r){return new e.vHH(3303,Ti)}();if(!function xD(r){return"start"==r||"done"==r}(c))throw function hE(r,i){return new e.vHH(3400,Ti)}();const _=Ja(this._elementListeners,i,[]),O={name:t,phase:c,callback:h};_.push(O);const z=Ja(this._engine.statesByElement,i,{});return z.hasOwnProperty(t)||(pu(i,_m),pu(i,_m+"-"+t),z[t]=gT),()=>{this._engine.afterFlush(()=>{const J=_.indexOf(O);J>=0&&_.splice(J,1),this._triggers[t]||delete z[t]})}}register(i,t){return!this._triggers[i]&&(this._triggers[i]=t,!0)}_getTrigger(i){const t=this._triggers[i];if(!t)throw function fE(r){return new e.vHH(3401,Ti)}();return t}trigger(i,t,c,h=!0){const _=this._getTrigger(t),O=new mT(this.id,t,i);let z=this._engine.statesByElement.get(i);z||(pu(i,_m),pu(i,_m+"-"+t),this._engine.statesByElement.set(i,z={}));let J=z[t];const De=new pT(c,this.id);if(!(c&&c.hasOwnProperty("value"))&&J&&De.absorbOptions(J.options),z[t]=De,J||(J=gT),De.value!==jv&&J.value===De.value){if(!function PD(r,i){const t=Object.keys(r),c=Object.keys(i);if(t.length!=c.length)return!1;for(let h=0;h<t.length;h++){const _=t[h];if(!i.hasOwnProperty(_)||r[_]!==i[_])return!1}return!0}(J.params,De.params)){const Qt=[],Wn=_.matchStyles(J.value,J.params,Qt),Er=_.matchStyles(De.value,De.params,Qt);Qt.length?this._engine.reportError(Qt):this._engine.afterFlush(()=>{Kh(i,Wn),rd(i,Er)})}return}const Gt=Ja(this._engine.playersByElement,i,[]);Gt.forEach(Qt=>{Qt.namespaceId==this.id&&Qt.triggerName==t&&Qt.queued&&Qt.destroy()});let Jt=_.matchTransition(J.value,De.value,i,De.params),sn=!1;if(!Jt){if(!h)return;Jt=_.fallbackTransition,sn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:t,transition:Jt,fromState:J,toState:De,player:O,isFallbackTransition:sn}),sn||(pu(i,CE),O.onStart(()=>{t0(i,CE)})),O.onDone(()=>{let Qt=this.players.indexOf(O);Qt>=0&&this.players.splice(Qt,1);const Wn=this._engine.playersByElement.get(i);if(Wn){let Er=Wn.indexOf(O);Er>=0&&Wn.splice(Er,1)}}),this.players.push(O),Gt.push(O),O}deregister(i){delete this._triggers[i],this._engine.statesByElement.forEach((t,c)=>{delete t[i]}),this._elementListeners.forEach((t,c)=>{this._elementListeners.set(c,t.filter(h=>h.name!=i))})}clearElementCache(i){this._engine.statesByElement.delete(i),this._elementListeners.delete(i);const t=this._engine.playersByElement.get(i);t&&(t.forEach(c=>c.destroy()),this._engine.playersByElement.delete(i))}_signalRemovalForInnerTriggers(i,t){const c=this._engine.driver.query(i,gp,!0);c.forEach(h=>{if(h[fu])return;const _=this._engine.fetchNamespacesByElement(h);_.size?_.forEach(O=>O.triggerLeaveAnimation(h,t,!1,!0)):this.clearElementCache(h)}),this._engine.afterFlushAnimationsDone(()=>c.forEach(h=>this.clearElementCache(h)))}triggerLeaveAnimation(i,t,c,h){const _=this._engine.statesByElement.get(i),O=new Map;if(_){const z=[];if(Object.keys(_).forEach(J=>{if(O.set(J,_[J].value),this._triggers[J]){const De=this.trigger(i,J,jv,h);De&&z.push(De)}}),z.length)return this._engine.markElementAsRemoved(this.id,i,!0,t,O),c&&qd(z).onDone(()=>this._engine.processLeaveNode(i)),!0}return!1}prepareLeaveAnimationListeners(i){const t=this._elementListeners.get(i),c=this._engine.statesByElement.get(i);if(t&&c){const h=new Set;t.forEach(_=>{const O=_.name;if(h.has(O))return;h.add(O);const J=this._triggers[O].fallbackTransition,De=c[O]||gT,tt=new pT(jv),Ut=new mT(this.id,O,i);this._engine.totalQueuedPlayers++,this._queue.push({element:i,triggerName:O,transition:J,fromState:De,toState:tt,player:Ut,isFallbackTransition:!0})})}}removeNode(i,t){const c=this._engine;if(i.childElementCount&&this._signalRemovalForInnerTriggers(i,t),this.triggerLeaveAnimation(i,t,!0))return;let h=!1;if(c.totalAnimations){const _=c.players.length?c.playersByQueriedElement.get(i):[];if(_&&_.length)h=!0;else{let O=i;for(;O=O.parentNode;)if(c.statesByElement.get(O)){h=!0;break}}}if(this.prepareLeaveAnimationListeners(i),h)c.markElementAsRemoved(this.id,i,!1,t);else{const _=i[fu];(!_||_===wE)&&(c.afterFlush(()=>this.clearElementCache(i)),c.destroyInnerAnimations(i),c._onRemovalComplete(i,t))}}insertNode(i,t){pu(i,this._hostClassName)}drainQueuedTransitions(i){const t=[];return this._queue.forEach(c=>{const h=c.player;if(h.destroyed)return;const _=c.element,O=this._elementListeners.get(_);O&&O.forEach(z=>{if(z.name==c.triggerName){const J=fm(_,c.triggerName,c.fromState.value,c.toState.value);J._data=i,nd(c.player,z.phase,J,z.callback)}}),h.markedForDestroy?this._engine.afterFlush(()=>{h.destroy()}):t.push(c)}),this._queue=[],t.sort((c,h)=>{const _=c.transition.ast.depCount,O=h.transition.ast.depCount;return 0==_||0==O?_-O:this._engine.driver.containsElement(c.element,h.element)?1:-1})}destroy(i){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,i)}elementContainsData(i){let t=!1;return this._elementListeners.has(i)&&(t=!0),t=!!this._queue.find(c=>c.element===i)||t,t}}class ED{constructor(i,t,c){this.bodyNode=i,this.driver=t,this._normalizer=c,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(h,_)=>{}}_onRemovalComplete(i,t){this.onRemovalComplete(i,t)}get queuedPlayers(){const i=[];return this._namespaceList.forEach(t=>{t.players.forEach(c=>{c.queued&&i.push(c)})}),i}createNamespace(i,t){const c=new TD(i,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(c,t):(this.newHostElements.set(t,c),this.collectEnterElement(t)),this._namespaceLookup[i]=c}_balanceNamespaceList(i,t){const c=this._namespaceList,h=this.namespacesByHostElement,_=c.length-1;if(_>=0){let O=!1;if(void 0!==this.driver.getParentElement){let z=this.driver.getParentElement(t);for(;z;){const J=h.get(z);if(J){const De=c.indexOf(J);c.splice(De+1,0,i),O=!0;break}z=this.driver.getParentElement(z)}}else for(let z=_;z>=0;z--)if(this.driver.containsElement(c[z].hostElement,t)){c.splice(z+1,0,i),O=!0;break}O||c.unshift(i)}else c.push(i);return h.set(t,i),i}register(i,t){let c=this._namespaceLookup[i];return c||(c=this.createNamespace(i,t)),c}registerTrigger(i,t,c){let h=this._namespaceLookup[i];h&&h.register(t,c)&&this.totalAnimations++}destroy(i,t){if(!i)return;const c=this._fetchNamespace(i);this.afterFlush(()=>{this.namespacesByHostElement.delete(c.hostElement),delete this._namespaceLookup[i];const h=this._namespaceList.indexOf(c);h>=0&&this._namespaceList.splice(h,1)}),this.afterFlushAnimationsDone(()=>c.destroy(t))}_fetchNamespace(i){return this._namespaceLookup[i]}fetchNamespacesByElement(i){const t=new Set,c=this.statesByElement.get(i);if(c){const h=Object.keys(c);for(let _=0;_<h.length;_++){const O=c[h[_]].namespaceId;if(O){const z=this._fetchNamespace(O);z&&t.add(z)}}}return t}trigger(i,t,c,h){if(pb(t)){const _=this._fetchNamespace(i);if(_)return _.trigger(t,c,h),!0}return!1}insertNode(i,t,c,h){if(!pb(t))return;const _=t[fu];if(_&&_.setForRemoval){_.setForRemoval=!1,_.setForMove=!0;const O=this.collectedLeaveElements.indexOf(t);O>=0&&this.collectedLeaveElements.splice(O,1)}if(i){const O=this._fetchNamespace(i);O&&O.insertNode(t,c)}h&&this.collectEnterElement(t)}collectEnterElement(i){this.collectedEnterElements.push(i)}markElementAsDisabled(i,t){t?this.disabledNodes.has(i)||(this.disabledNodes.add(i),pu(i,fT)):this.disabledNodes.has(i)&&(this.disabledNodes.delete(i),t0(i,fT))}removeNode(i,t,c,h){if(pb(t)){const _=i?this._fetchNamespace(i):null;if(_?_.removeNode(t,h):this.markElementAsRemoved(i,t,!1,h),c){const O=this.namespacesByHostElement.get(t);O&&O.id!==i&&O.removeNode(t,h)}}else this._onRemovalComplete(t,h)}markElementAsRemoved(i,t,c,h,_){this.collectedLeaveElements.push(t),t[fu]={namespaceId:i,setForRemoval:h,hasAnimation:c,removedBeforeQueried:!1,previousTriggersValues:_}}listen(i,t,c,h,_){return pb(t)?this._fetchNamespace(i).listen(t,c,h,_):()=>{}}_buildInstruction(i,t,c,h,_){return i.transition.build(this.driver,i.element,i.fromState.value,i.toState.value,c,h,i.fromState.options,i.toState.options,t,_)}destroyInnerAnimations(i){let t=this.driver.query(i,gp,!0);t.forEach(c=>this.destroyActiveAnimationsForElement(c)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(i,Mv,!0),t.forEach(c=>this.finishActiveQueriedAnimationOnElement(c)))}destroyActiveAnimationsForElement(i){const t=this.playersByElement.get(i);t&&t.forEach(c=>{c.queued?c.markedForDestroy=!0:c.destroy()})}finishActiveQueriedAnimationOnElement(i){const t=this.playersByQueriedElement.get(i);t&&t.forEach(c=>c.finish())}whenRenderingDone(){return new Promise(i=>{if(this.players.length)return qd(this.players).onDone(()=>i());i()})}processLeaveNode(i){var t;const c=i[fu];if(c&&c.setForRemoval){if(i[fu]=wE,c.namespaceId){this.destroyInnerAnimations(i);const h=this._fetchNamespace(c.namespaceId);h&&h.clearElementCache(i)}this._onRemovalComplete(i,c.setForRemoval)}(null===(t=i.classList)||void 0===t?void 0:t.contains(fT))&&this.markElementAsDisabled(i,!1),this.driver.query(i,".ng-animate-disabled",!0).forEach(h=>{this.markElementAsDisabled(h,!1)})}flush(i=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((c,h)=>this._balanceNamespaceList(c,h)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let c=0;c<this.collectedEnterElements.length;c++)pu(this.collectedEnterElements[c],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const c=[];try{t=this._flushAnimations(c,i)}finally{for(let h=0;h<c.length;h++)c[h]()}}else for(let c=0;c<this.collectedLeaveElements.length;c++)this.processLeaveNode(this.collectedLeaveElements[c]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(c=>c()),this._flushFns=[],this._whenQuietFns.length){const c=this._whenQuietFns;this._whenQuietFns=[],t.length?qd(t).onDone(()=>{c.forEach(h=>h())}):c.forEach(h=>h())}}reportError(i){throw function pE(r){return new e.vHH(3402,Ti)}()}_flushAnimations(i,t){const c=new db,h=[],_=new Map,O=[],z=new Map,J=new Map,De=new Map,tt=new Set;this.disabledNodes.forEach(Kn=>{tt.add(Kn);const _r=this.driver.query(Kn,".ng-animate-queued",!0);for(let kr=0;kr<_r.length;kr++)tt.add(_r[kr])});const Ut=this.bodyNode,Gt=Array.from(this.statesByElement.keys()),Jt=DE(Gt,this.collectedEnterElements),sn=new Map;let Qt=0;Jt.forEach((Kn,_r)=>{const kr=mm+Qt++;sn.set(_r,kr),Kn.forEach(hi=>pu(hi,kr))});const Wn=[],Er=new Set,yr=new Set;for(let Kn=0;Kn<this.collectedLeaveElements.length;Kn++){const _r=this.collectedLeaveElements[Kn],kr=_r[fu];kr&&kr.setForRemoval&&(Wn.push(_r),Er.add(_r),kr.hasAnimation?this.driver.query(_r,".ng-star-inserted",!0).forEach(hi=>Er.add(hi)):yr.add(_r))}const Yr=new Map,nr=DE(Gt,Array.from(Er));nr.forEach((Kn,_r)=>{const kr=Ov+Qt++;Yr.set(_r,kr),Kn.forEach(hi=>pu(hi,kr))}),i.push(()=>{Jt.forEach((Kn,_r)=>{const kr=sn.get(_r);Kn.forEach(hi=>t0(hi,kr))}),nr.forEach((Kn,_r)=>{const kr=Yr.get(_r);Kn.forEach(hi=>t0(hi,kr))}),Wn.forEach(Kn=>{this.processLeaveNode(Kn)})});const zr=[],Hr=[];for(let Kn=this._namespaceList.length-1;Kn>=0;Kn--)this._namespaceList[Kn].drainQueuedTransitions(t).forEach(kr=>{const hi=kr.player,ys=kr.element;if(zr.push(hi),this.collectedEnterElements.length){const Ys=ys[fu];if(Ys&&Ys.setForMove){if(Ys.previousTriggersValues&&Ys.previousTriggersValues.has(kr.triggerName)){const Mc=Ys.previousTriggersValues.get(kr.triggerName),gu=this.statesByElement.get(kr.element);gu&&gu[kr.triggerName]&&(gu[kr.triggerName].value=Mc)}return void hi.destroy()}}const el=!Ut||!this.driver.containsElement(Ut,ys),ha=Yr.get(ys),kl=sn.get(ys),fo=this._buildInstruction(kr,c,kl,ha,el);if(fo.errors&&fo.errors.length)return void Hr.push(fo);if(el)return hi.onStart(()=>Kh(ys,fo.fromStyles)),hi.onDestroy(()=>rd(ys,fo.toStyles)),void h.push(hi);if(kr.isFallbackTransition)return hi.onStart(()=>Kh(ys,fo.fromStyles)),hi.onDestroy(()=>rd(ys,fo.toStyles)),void h.push(hi);const id=[];fo.timelines.forEach(Ys=>{Ys.stretchStartingKeyframe=!0,this.disabledNodes.has(Ys.element)||id.push(Ys)}),fo.timelines=id,c.append(ys,fo.timelines),O.push({instruction:fo,player:hi,element:ys}),fo.queriedElements.forEach(Ys=>Ja(z,Ys,[]).push(hi)),fo.preStyleProps.forEach((Ys,Mc)=>{const gu=Object.keys(Ys);if(gu.length){let Jh=J.get(Mc);Jh||J.set(Mc,Jh=new Set),gu.forEach(Cm=>Jh.add(Cm))}}),fo.postStyleProps.forEach((Ys,Mc)=>{const gu=Object.keys(Ys);let Jh=De.get(Mc);Jh||De.set(Mc,Jh=new Set),gu.forEach(Cm=>Jh.add(Cm))})});if(Hr.length){const Kn=[];Hr.forEach(_r=>{Kn.push(function Qw(r,i){return new e.vHH(3505,Ti)}())}),zr.forEach(_r=>_r.destroy()),this.reportError(Kn)}const ti=new Map,gi=new Map;O.forEach(Kn=>{const _r=Kn.element;c.has(_r)&&(gi.set(_r,_r),this._beforeAnimationBuild(Kn.player.namespaceId,Kn.instruction,ti))}),h.forEach(Kn=>{const _r=Kn.element;this._getPreviousPlayers(_r,!1,Kn.namespaceId,Kn.triggerName,null).forEach(hi=>{Ja(ti,_r,[]).push(hi),hi.destroy()})});const Mo=Wn.filter(Kn=>xE(Kn,J,De)),No=new Map;EE(No,this.driver,yr,De,Mi).forEach(Kn=>{xE(Kn,J,De)&&Mo.push(Kn)});const Ya=new Map;Jt.forEach((Kn,_r)=>{EE(Ya,this.driver,new Set(Kn),J,"!")}),Mo.forEach(Kn=>{const _r=No.get(Kn),kr=Ya.get(Kn);No.set(Kn,Object.assign(Object.assign({},_r),kr))});const Fs=[],yp=[],bp={};O.forEach(Kn=>{const{element:_r,player:kr,instruction:hi}=Kn;if(c.has(_r)){if(tt.has(_r))return kr.onDestroy(()=>rd(_r,hi.toStyles)),kr.disabled=!0,kr.overrideTotalTime(hi.totalTime),void h.push(kr);let ys=bp;if(gi.size>1){let ha=_r;const kl=[];for(;ha=ha.parentNode;){const fo=gi.get(ha);if(fo){ys=fo;break}kl.push(ha)}kl.forEach(fo=>gi.set(fo,ys))}const el=this._buildAnimation(kr.namespaceId,hi,ti,_,Ya,No);if(kr.setRealPlayer(el),ys===bp)Fs.push(kr);else{const ha=this.playersByElement.get(ys);ha&&ha.length&&(kr.parentPlayer=qd(ha)),h.push(kr)}}else Kh(_r,hi.fromStyles),kr.onDestroy(()=>rd(_r,hi.toStyles)),yp.push(kr),tt.has(_r)&&h.push(kr)}),yp.forEach(Kn=>{const _r=_.get(Kn.element);if(_r&&_r.length){const kr=qd(_r);Kn.setRealPlayer(kr)}}),h.forEach(Kn=>{Kn.parentPlayer?Kn.syncPlayerEvents(Kn.parentPlayer):Kn.destroy()});for(let Kn=0;Kn<Wn.length;Kn++){const _r=Wn[Kn],kr=_r[fu];if(t0(_r,Ov),kr&&kr.hasAnimation)continue;let hi=[];if(z.size){let el=z.get(_r);el&&el.length&&hi.push(...el);let ha=this.driver.query(_r,Mv,!0);for(let kl=0;kl<ha.length;kl++){let fo=z.get(ha[kl]);fo&&fo.length&&hi.push(...fo)}}const ys=hi.filter(el=>!el.destroyed);ys.length?AD(this,_r,ys):this.processLeaveNode(_r)}return Wn.length=0,Fs.forEach(Kn=>{this.players.push(Kn),Kn.onDone(()=>{Kn.destroy();const _r=this.players.indexOf(Kn);this.players.splice(_r,1)}),Kn.play()}),Fs}elementContainsData(i,t){let c=!1;const h=t[fu];return h&&h.setForRemoval&&(c=!0),this.playersByElement.has(t)&&(c=!0),this.playersByQueriedElement.has(t)&&(c=!0),this.statesByElement.has(t)&&(c=!0),this._fetchNamespace(i).elementContainsData(t)||c}afterFlush(i){this._flushFns.push(i)}afterFlushAnimationsDone(i){this._whenQuietFns.push(i)}_getPreviousPlayers(i,t,c,h,_){let O=[];if(t){const z=this.playersByQueriedElement.get(i);z&&(O=z)}else{const z=this.playersByElement.get(i);if(z){const J=!_||_==jv;z.forEach(De=>{De.queued||!J&&De.triggerName!=h||O.push(De)})}}return(c||h)&&(O=O.filter(z=>!(c&&c!=z.namespaceId||h&&h!=z.triggerName))),O}_beforeAnimationBuild(i,t,c){const _=t.element,O=t.isRemovalTransition?void 0:i,z=t.isRemovalTransition?void 0:t.triggerName;for(const J of t.timelines){const De=J.element,tt=De!==_,Ut=Ja(c,De,[]);this._getPreviousPlayers(De,tt,O,z,t.toState).forEach(Jt=>{const sn=Jt.getRealPlayer();sn.beforeDestroy&&sn.beforeDestroy(),Jt.destroy(),Ut.push(Jt)})}Kh(_,t.fromStyles)}_buildAnimation(i,t,c,h,_,O){const z=t.triggerName,J=t.element,De=[],tt=new Set,Ut=new Set,Gt=t.timelines.map(sn=>{const Qt=sn.element;tt.add(Qt);const Wn=Qt[fu];if(Wn&&Wn.removedBeforeQueried)return new Ci(sn.duration,sn.delay);const Er=Qt!==J,yr=function ID(r){const i=[];return SE(r,i),i}((c.get(Qt)||CD).map(ti=>ti.getRealPlayer())).filter(ti=>!!ti.element&&ti.element===Qt),Yr=_.get(Qt),nr=O.get(Qt),zr=Av(0,this._normalizer,0,sn.keyframes,Yr,nr),Hr=this._buildPlayer(sn,zr,yr);if(sn.subTimeline&&h&&Ut.add(Qt),Er){const ti=new mT(i,z,Qt);ti.setRealPlayer(Hr),De.push(ti)}return Hr});De.forEach(sn=>{Ja(this.playersByQueriedElement,sn.element,[]).push(sn),sn.onDone(()=>function DD(r,i,t){let c;if(r instanceof Map){if(c=r.get(i),c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&r.delete(i)}}else if(c=r[i],c){if(c.length){const h=c.indexOf(t);c.splice(h,1)}0==c.length&&delete r[i]}return c}(this.playersByQueriedElement,sn.element,sn))}),tt.forEach(sn=>pu(sn,cb));const Jt=qd(Gt);return Jt.onDestroy(()=>{tt.forEach(sn=>t0(sn,cb)),rd(J,t.toStyles)}),Ut.forEach(sn=>{Ja(h,sn,[]).push(Jt)}),Jt}_buildPlayer(i,t,c){return t.length>0?this.driver.animate(i.element,t,i.duration,i.delay,i.easing,c):new Ci(i.duration,i.delay)}}class mT{constructor(i,t,c){this.namespaceId=i,this.triggerName=t,this.element=c,this._player=new Ci,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(i){this._containsRealPlayer||(this._player=i,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(c=>nd(i,t,void 0,c))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(i.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(i){this.totalTime=i}syncPlayerEvents(i){const t=this._player;t.triggerCallback&&i.onStart(()=>t.triggerCallback("start")),i.onDone(()=>this.finish()),i.onDestroy(()=>this.destroy())}_queueEvent(i,t){Ja(this._queuedCallbacks,i,[]).push(t)}onDone(i){this.queued&&this._queueEvent("done",i),this._player.onDone(i)}onStart(i){this.queued&&this._queueEvent("start",i),this._player.onStart(i)}onDestroy(i){this.queued&&this._queueEvent("destroy",i),this._player.onDestroy(i)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(i){this.queued||this._player.setPosition(i)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(i){const t=this._player;t.triggerCallback&&t.triggerCallback(i)}}function pb(r){return r&&1===r.nodeType}function TE(r,i){const t=r.style.display;return r.style.display=null!=i?i:"none",t}function EE(r,i,t,c,h){const _=[];t.forEach(J=>_.push(TE(J)));const O=[];c.forEach((J,De)=>{const tt={};J.forEach(Ut=>{const Gt=tt[Ut]=i.computeStyle(De,Ut,h);(!Gt||0==Gt.length)&&(De[fu]=wD,O.push(De))}),r.set(De,tt)});let z=0;return t.forEach(J=>TE(J,_[z++])),O}function DE(r,i){const t=new Map;if(r.forEach(z=>t.set(z,[])),0==i.length)return t;const h=new Set(i),_=new Map;function O(z){if(!z)return 1;let J=_.get(z);if(J)return J;const De=z.parentNode;return J=t.has(De)?De:h.has(De)?1:O(De),_.set(z,J),J}return i.forEach(z=>{const J=O(z);1!==J&&t.get(J).push(z)}),t}function pu(r,i){var t;null===(t=r.classList)||void 0===t||t.add(i)}function t0(r,i){var t;null===(t=r.classList)||void 0===t||t.remove(i)}function AD(r,i,t){qd(t).onDone(()=>r.processLeaveNode(i))}function SE(r,i){for(let t=0;t<r.length;t++){const c=r[t];c instanceof ts?SE(c.players,i):i.push(c)}}function xE(r,i,t){const c=t.get(r);if(!c)return!1;let h=i.get(r);return h?c.forEach(_=>h.add(_)):i.set(r,c),t.delete(r),!0}class gb{constructor(i,t,c){this.bodyNode=i,this._driver=t,this._normalizer=c,this._triggerCache={},this.onRemovalComplete=(h,_)=>{},this._transitionEngine=new ED(i,t,c),this._timelineEngine=new mD(i,t,c),this._transitionEngine.onRemovalComplete=(h,_)=>this.onRemovalComplete(h,_)}registerTrigger(i,t,c,h,_){const O=i+"-"+h;let z=this._triggerCache[O];if(!z){const J=[],tt=vm(this._driver,_,J,[]);if(J.length)throw function cE(r,i){return new e.vHH(3404,Ti)}();z=function hD(r,i,t){return new fD(r,i,t)}(h,tt,this._normalizer),this._triggerCache[O]=z}this._transitionEngine.registerTrigger(t,h,z)}register(i,t){this._transitionEngine.register(i,t)}destroy(i,t){this._transitionEngine.destroy(i,t)}onInsert(i,t,c,h){this._transitionEngine.insertNode(i,t,c,h)}onRemove(i,t,c,h){this._transitionEngine.removeNode(i,t,h||!1,c)}disableAnimations(i,t){this._transitionEngine.markElementAsDisabled(i,t)}process(i,t,c,h){if("@"==c.charAt(0)){const[_,O]=tb(c);this._timelineEngine.command(_,t,O,h)}else this._transitionEngine.trigger(i,t,c,h)}listen(i,t,c,h,_){if("@"==c.charAt(0)){const[O,z]=tb(c);return this._timelineEngine.listen(O,t,z,_)}return this._transitionEngine.listen(i,t,c,h,_)}flush(i=-1){this._transitionEngine.flush(i)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let MD=(()=>{class r{constructor(t,c,h){this._element=t,this._startStyles=c,this._endStyles=h,this._state=0;let _=r.initialStylesByElement.get(t);_||r.initialStylesByElement.set(t,_={}),this._initialStyles=_}start(){this._state<1&&(this._startStyles&&rd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rd(this._element,this._initialStyles),this._endStyles&&(rd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Kh(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Kh(this._element,this._endStyles),this._endStyles=null),rd(this._element,this._initialStyles),this._state=3)}}return r.initialStylesByElement=new WeakMap,r})();function _T(r){let i=null;const t=Object.keys(r);for(let c=0;c<t.length;c++){const h=t[c];ND(h)&&(i=i||{},i[h]=r[h])}return i}function ND(r){return"display"===r||"position"===r}class AE{constructor(i,t,c,h){this.element=i,this.keyframes=t,this.options=c,this._specialStyles=h,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=c.duration,this._delay=c.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(i=>i()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const i=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,i,this.options),this._finalKeyframe=i.length?i[i.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(i,t,c){return i.animate(t,c)}onStart(i){this._onStartFns.push(i)}onDone(i){this._onDoneFns.push(i)}onDestroy(i){this._onDestroyFns.push(i)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(i=>i()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(i=>i()),this._onDestroyFns=[])}setPosition(i){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=i*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const i={};if(this.hasStarted()){const t=this._finalKeyframe;Object.keys(t).forEach(c=>{"offset"!=c&&(i[c]=this._finished?t[c]:B(this.element,c))})}this.currentSnapshot=i}triggerCallback(i){const t="start"==i?this._onStartFns:this._onDoneFns;t.forEach(c=>c()),t.length=0}}class RD{validateStyleProperty(i){return rb(i)}matchesElement(i,t){return!1}containsElement(i,t){return ib(i,t)}getParentElement(i){return nb(i)}query(i,t,c){return ob(i,t,c)}computeStyle(i,t,c){return window.getComputedStyle(i)[t]}animate(i,t,c,h,_,O=[]){const J={duration:c,delay:h,fill:0==h?"both":"forwards"};_&&(J.easing=_);const De={},tt=O.filter(Gt=>Gt instanceof AE);(function y(r,i){return 0===r||0===i})(c,h)&&tt.forEach(Gt=>{let Jt=Gt.currentSnapshot;Object.keys(Jt).forEach(sn=>De[sn]=Jt[sn])}),t=function T(r,i,t){const c=Object.keys(t);if(c.length&&i.length){let _=i[0],O=[];if(c.forEach(z=>{_.hasOwnProperty(z)||O.push(z),_[z]=t[z]}),O.length)for(var h=1;h<i.length;h++){let z=i[h];O.forEach(function(J){z[J]=B(r,J)})}}return i}(i,t=t.map(Gt=>$h(Gt,!1)),De);const Ut=function OD(r,i){let t=null,c=null;return Array.isArray(i)&&i.length?(t=_T(i[0]),i.length>1&&(c=_T(i[i.length-1]))):i&&(t=_T(i)),t||c?new MD(r,t,c):null}(i,t);return new AE(i,t,J,Ut)}}let kD=(()=>{class r extends ya{constructor(t,c){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(c.body,{id:"0",encapsulation:e.ifc.None,styles:[],data:{animation:[]}})}build(t){const c=this._nextAnimationId.toString();this._nextAnimationId++;const h=Array.isArray(t)?jl(t):t;return IE(this._renderer,null,c,"register",[h]),new LD(c,this._renderer)}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(p.K0))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class LD extends class Fc{}{constructor(i,t){super(),this._id=i,this._renderer=t}create(i,t){return new FD(this._id,i,t||{},this._renderer)}}class FD{constructor(i,t,c,h){this.id=i,this.element=t,this._renderer=h,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",c)}_listen(i,t){return this._renderer.listen(this.element,`@@${this.id}:${i}`,t)}_command(i,...t){return IE(this._renderer,this.element,this.id,i,t)}onDone(i){this._listen("done",i)}onStart(i){this._listen("start",i)}onDestroy(i){this._listen("destroy",i)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(i){this._command("setPosition",i)}getPosition(){var i,t;return null!==(t=null===(i=this._renderer.engine.players[+this.id])||void 0===i?void 0:i.getPosition())&&void 0!==t?t:0}}function IE(r,i,t,c,h){return r.setProperty(i,`@@${t}:${c}`,h)}const PE="@.disabled";let BD=(()=>{class r{constructor(t,c,h){this.delegate=t,this.engine=c,this._zone=h,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),c.onRemovalComplete=(_,O)=>{const z=null==O?void 0:O.parentNode(_);z&&O.removeChild(z,_)}}createRenderer(t,c){const _=this.delegate.createRenderer(t,c);if(!(t&&c&&c.data&&c.data.animation)){let tt=this._rendererCache.get(_);return tt||(tt=new OE("",_,this.engine),this._rendererCache.set(_,tt)),tt}const O=c.id,z=c.id+"-"+this._currentId;this._currentId++,this.engine.register(z,t);const J=tt=>{Array.isArray(tt)?tt.forEach(J):this.engine.registerTrigger(O,z,t,tt.name,tt)};return c.data.animation.forEach(J),new UD(this,z,_,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,c,h){t>=0&&t<this._microtaskId?this._zone.run(()=>c(h)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(_=>{const[O,z]=_;O(z)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([c,h]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(e.FYo),e.LFG(gb),e.LFG(e.R0b))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();class OE{constructor(i,t,c){this.namespaceId=i,this.delegate=t,this.engine=c,this.destroyNode=this.delegate.destroyNode?h=>t.destroyNode(h):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(i,t){return this.delegate.createElement(i,t)}createComment(i){return this.delegate.createComment(i)}createText(i){return this.delegate.createText(i)}appendChild(i,t){this.delegate.appendChild(i,t),this.engine.onInsert(this.namespaceId,t,i,!1)}insertBefore(i,t,c,h=!0){this.delegate.insertBefore(i,t,c),this.engine.onInsert(this.namespaceId,t,i,h)}removeChild(i,t,c){this.engine.onRemove(this.namespaceId,t,this.delegate,c)}selectRootElement(i,t){return this.delegate.selectRootElement(i,t)}parentNode(i){return this.delegate.parentNode(i)}nextSibling(i){return this.delegate.nextSibling(i)}setAttribute(i,t,c,h){this.delegate.setAttribute(i,t,c,h)}removeAttribute(i,t,c){this.delegate.removeAttribute(i,t,c)}addClass(i,t){this.delegate.addClass(i,t)}removeClass(i,t){this.delegate.removeClass(i,t)}setStyle(i,t,c,h){this.delegate.setStyle(i,t,c,h)}removeStyle(i,t,c){this.delegate.removeStyle(i,t,c)}setProperty(i,t,c){"@"==t.charAt(0)&&t==PE?this.disableAnimations(i,!!c):this.delegate.setProperty(i,t,c)}setValue(i,t){this.delegate.setValue(i,t)}listen(i,t,c){return this.delegate.listen(i,t,c)}disableAnimations(i,t){this.engine.disableAnimations(i,t)}}class UD extends OE{constructor(i,t,c,h){super(t,c,h),this.factory=i,this.namespaceId=t}setProperty(i,t,c){"@"==t.charAt(0)?"."==t.charAt(1)&&t==PE?this.disableAnimations(i,c=void 0===c||!!c):this.engine.process(this.namespaceId,i,t.substr(1),c):this.delegate.setProperty(i,t,c)}listen(i,t,c){if("@"==t.charAt(0)){const h=function jD(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}(i);let _=t.substr(1),O="";return"@"!=_.charAt(0)&&([_,O]=function VD(r){const i=r.indexOf(".");return[r.substring(0,i),r.substr(i+1)]}(_)),this.engine.listen(this.namespaceId,h,_,O,z=>{this.factory.scheduleListenerCallback(z._data||-1,c,z)})}return this.delegate.listen(i,t,c)}}let GD=(()=>{class r extends gb{constructor(t,c,h){super(t.body,c,h)}ngOnDestroy(){this.flush()}}return r.\u0275fac=function(t){return new(t||r)(e.LFG(p.K0),e.LFG(Q_),e.LFG(dT))},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();const ME=new e.OlP("AnimationModuleType"),NE=[{provide:ya,useClass:kD},{provide:dT,useFactory:function HD(){return new aD}},{provide:gb,useClass:GD},{provide:e.FYo,useFactory:function ZD(r,i,t){return new BD(r,i,t)},deps:[qe,gb,e.R0b]}],RE=[{provide:Q_,useFactory:()=>new RD},{provide:ME,useValue:"BrowserAnimations"},...NE],qD=[{provide:Q_,useClass:Pv},{provide:ME,useValue:"NoopAnimations"},...NE];let zD=(()=>{class r{static withConfig(t){return{ngModule:r,providers:t.disableAnimations?qD:RE}}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r}),r.\u0275inj=e.cJS({providers:RE,imports:[Zr]}),r})();var kE=A(3692),LE=A(2292);const FE={production:!0,firebaseConfig:{apiKey:"AIzaSyDR3QjCu6YuestW0oujyiLiAkzuX0N3tIo",authDomain:"proddle.firebaseapp.com",projectId:"proddle",storageBucket:"proddle.appspot.com",messagingSenderId:"374263447281",appId:"1:374263447281:web:73cfe081647f70fabb7350"}};let WD=(()=>{class r{intercept(t,c){return c.handle(t)}}return r.\u0275fac=function(t){return new(t||r)},r.\u0275prov=e.Yz7({token:r,factory:r.\u0275fac}),r})();(0,p.qS)(Zb,"es");let $D=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=e.oAB({type:r,bootstrap:[$l]}),r.\u0275inj=e.cJS({providers:[$a,B_,da,{provide:e.soG,useValue:"es"},{provide:qi.Dh,useValue:FE.firebaseConfig},{provide:_l.TP,useClass:WD,multi:!0}],imports:[[Zr,zD,Hb,p.ez,S,_l.JF,Nt,Nu,At.Bz.forRoot(z1),bu,Tu.forRoot({defaultLanguage:En.q.defaultLanguage}),(0,kE.hX)(()=>(0,kE.ZF)(FE.firebaseConfig)),(0,LE.Cm)(()=>(0,LE.ad)())]]}),r})();Ei().bootstrapModule($D).then(r=>{window.ngRef&&window.ngRef.destroy(),window.ngRef=r}).catch(r=>console.error(r))},8955:(pt,D,A)=>{"use strict";A(8583);const e="undefined"!=typeof globalThis&&globalThis,w="undefined"!=typeof window&&window,N="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,G=e||"undefined"!=typeof global&&global||w||N,ee=function(ie,...ge){if(ee.translate){const Xe=ee.translate(ie,ge);ie=Xe[0],ge=Xe[1]}let dt=Q(ie[0],ie.raw[0]);for(let Xe=1;Xe<ie.length;Xe++)dt+=ge[Xe-1]+Q(ie[Xe],ie.raw[Xe]);return dt};function Q(ie,ge){return":"===ge.charAt(0)?ie.substring(function K(ie,ge){for(let dt=1,Xe=1;dt<ie.length;dt++,Xe++)if("\\"===ge[Xe])Xe++;else if(":"===ie[dt])return dt;throw new Error(`Unterminated $localize metadata block in "${ge}".`)}(ie,ge)+1):ie}G.$localize=ee},5867:(pt,D,A)=>{"use strict";A.d(D,{C6:()=>p.getApps,KN:()=>p.registerVersion,Mq:()=>p.getApp,ZF:()=>p.initializeApp});var p=A(9681);(0,p.registerVersion)("firebase","9.6.9","app")},127:(pt,D,A)=>{"use strict";A.d(D,{Z:()=>p.Z});var p=A(3942);p.Z.registerVersion("firebase","9.6.9","app-compat")},3209:(pt,D,A)=>{"use strict";A.d(D,{ET:()=>Xc,hJ:()=>Yv,oe:()=>Aa,JU:()=>Qv,ad:()=>w_,cf:()=>Xg,pl:()=>zh,qs:()=>k_});var Y,p=A(5861),e=A(9681),w=A(4859),N=A(1877),M=A(2090),G="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},ee={},Q=Q||{},K=G||self;function ie(){}function ge(l){var n=typeof l;return"array"==(n="object"!=n?n:l?Array.isArray(l)?"array":n:"null")||"object"==n&&"number"==typeof l.length}function dt(l){var n=typeof l;return"object"==n&&null!=l||"function"==n}var Je="closure_uid_"+(1e9*Math.random()>>>0),vt=0;function _e(l,n,a){return l.call.apply(l.bind,arguments)}function Ge(l,n,a){if(!l)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var g=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(g,d),l.apply(n,g)}}return function(){return l.apply(n,arguments)}}function ke(l,n,a){return(ke=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_e:Ge).apply(null,arguments)}function _t(l,n){var a=Array.prototype.slice.call(arguments,1);return function(){var d=a.slice();return d.push.apply(d,arguments),l.apply(this,d)}}function Ke(l,n){function a(){}a.prototype=n.prototype,l.Z=n.prototype,l.prototype=new a,l.prototype.constructor=l,l.Vb=function(d,g,b){for(var E=Array(arguments.length-2),F=2;F<arguments.length;F++)E[F-2]=arguments[F];return n.prototype[g].apply(d,E)}}function rt(){this.s=this.s,this.o=this.o}var it={};rt.prototype.s=!1,rt.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var l=function Xe(l){return Object.prototype.hasOwnProperty.call(l,Je)&&l[Je]||(l[Je]=++vt)}(this);delete it[l]}},rt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ze=Array.prototype.indexOf?function(l,n){return Array.prototype.indexOf.call(l,n,void 0)}:function(l,n){if("string"==typeof l)return"string"!=typeof n||1!=n.length?-1:l.indexOf(n,0);for(let a=0;a<l.length;a++)if(a in l&&l[a]===n)return a;return-1},ft=Array.prototype.forEach?function(l,n,a){Array.prototype.forEach.call(l,n,a)}:function(l,n,a){const d=l.length,g="string"==typeof l?l.split(""):l;for(let b=0;b<d;b++)b in g&&n.call(a,g[b],b,l)};function me(l){return Array.prototype.concat.apply([],arguments)}function oe(l){const n=l.length;if(0<n){const a=Array(n);for(let d=0;d<n;d++)a[d]=l[d];return a}return[]}function we(l){return/^[\s\xa0]*$/.test(l)}var Ft,qe=String.prototype.trim?function(l){return l.trim()}:function(l){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(l)[1]};function Ee(l,n){return-1!=l.indexOf(n)}function It(l,n){return l<n?-1:l>n?1:0}e:{var Sn=K.navigator;if(Sn){var Rt=Sn.userAgent;if(Rt){Ft=Rt;break e}}Ft=""}function Et(l,n,a){for(const d in l)n.call(a,l[d],d,l)}function Ht(l){const n={};for(const a in l)n[a]=l[a];return n}var yn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rr(l,n){let a,d;for(let g=1;g<arguments.length;g++){for(a in d=arguments[g],d)l[a]=d[a];for(let b=0;b<yn.length;b++)a=yn[b],Object.prototype.hasOwnProperty.call(d,a)&&(l[a]=d[a])}}function $n(l){return $n[" "](l),l}$n[" "]=ie;var Kr,l,br=Ee(Ft,"Opera"),vr=Ee(Ft,"Trident")||Ee(Ft,"MSIE"),ni=Ee(Ft,"Edge"),xr=ni||vr,jr=Ee(Ft,"Gecko")&&!(Ee(Ft.toLowerCase(),"webkit")&&!Ee(Ft,"Edge"))&&!(Ee(Ft,"Trident")||Ee(Ft,"MSIE"))&&!Ee(Ft,"Edge"),Ni=Ee(Ft.toLowerCase(),"webkit")&&!Ee(Ft,"Edge");function Ei(){var l=K.document;return l?l.documentMode:void 0}e:{var Zr="",Bi=(l=Ft,jr?/rv:([^\);]+)(\)|;)/.exec(l):ni?/Edge\/([\d\.]+)/.exec(l):vr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(l):Ni?/WebKit\/(\S+)/.exec(l):br?/(?:Version)[ \/]?(\S+)/.exec(l):void 0);if(Bi&&(Zr=Bi?Bi[1]:""),vr){var Bn=Ei();if(null!=Bn&&Bn>parseFloat(Zr)){Kr=String(Bn);break e}}Kr=Zr}var zi={};var gt=K.document&&vr&&(Ei()||parseInt(Kr,10))||void 0,Be=function(){if(!K.addEventListener||!Object.defineProperty)return!1;var l=!1,n=Object.defineProperty({},"passive",{get:function(){l=!0}});try{K.addEventListener("test",ie,n),K.removeEventListener("test",ie,n)}catch(a){}return l}();function ce(l,n){this.type=l,this.g=this.target=n,this.defaultPrevented=!1}function ye(l,n){if(ce.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var a=this.type=l.type,d=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=n,n=l.relatedTarget){if(jr){e:{try{$n(n.nodeName);var g=!0;break e}catch(b){}g=!1}g||(n=null)}}else"mouseover"==a?n=l.fromElement:"mouseout"==a&&(n=l.toElement);this.relatedTarget=n,d?(this.clientX=void 0!==d.clientX?d.clientX:d.pageX,this.clientY=void 0!==d.clientY?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:at[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&ye.Z.h.call(this)}}ce.prototype.h=function(){this.defaultPrevented=!0},Ke(ye,ce);var at={2:"touch",3:"pen",4:"mouse"};ye.prototype.h=function(){ye.Z.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var ct="closure_listenable_"+(1e6*Math.random()|0),yt=0;function Ot(l,n,a,d,g){this.listener=l,this.proxy=null,this.src=n,this.type=a,this.capture=!!d,this.ia=g,this.key=++yt,this.ca=this.fa=!1}function dn(l){l.ca=!0,l.listener=null,l.proxy=null,l.src=null,l.ia=null}function qt(l){this.src=l,this.g={},this.h=0}function cn(l,n){var a=n.type;if(a in l.g){var b,d=l.g[a],g=Ze(d,n);(b=0<=g)&&Array.prototype.splice.call(d,g,1),b&&(dn(n),0==l.g[a].length&&(delete l.g[a],l.h--))}}function Gn(l,n,a,d){for(var g=0;g<l.length;++g){var b=l[g];if(!b.ca&&b.listener==n&&b.capture==!!a&&b.ia==d)return g}return-1}qt.prototype.add=function(l,n,a,d,g){var b=l.toString();(l=this.g[b])||(l=this.g[b]=[],this.h++);var E=Gn(l,n,d,g);return-1<E?(n=l[E],a||(n.fa=!1)):((n=new Ot(n,this.src,b,!!d,g)).fa=a,l.push(n)),n};var fn="closure_lm_"+(1e6*Math.random()|0),Hn={};function jt(l,n,a,d,g){if(d&&d.once)return Bt(l,n,a,d,g);if(Array.isArray(n)){for(var b=0;b<n.length;b++)jt(l,n[b],a,d,g);return null}return a=Se(a),l&&l[ct]?l.N(n,a,dt(d)?!!d.capture:!!d,g):Xn(l,n,a,!1,d,g)}function Xn(l,n,a,d,g,b){if(!n)throw Error("Invalid event type");var E=dt(g)?!!g.capture:!!g,F=jn(l);if(F||(l[fn]=F=new qt(l)),(a=F.add(n,a,d,E,b)).proxy)return a;if(d=function kn(){var n=Zn;return function l(a){return n.call(l.src,l.listener,a)}}(),a.proxy=d,d.src=l,d.listener=a,l.addEventListener)Be||(g=E),void 0===g&&(g=!1),l.addEventListener(n.toString(),d,g);else if(l.attachEvent)l.attachEvent(vn(n.toString()),d);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(d)}return a}function Bt(l,n,a,d,g){if(Array.isArray(n)){for(var b=0;b<n.length;b++)Bt(l,n[b],a,d,g);return null}return a=Se(a),l&&l[ct]?l.O(n,a,dt(d)?!!d.capture:!!d,g):Xn(l,n,a,!0,d,g)}function ht(l,n,a,d,g){if(Array.isArray(n))for(var b=0;b<n.length;b++)ht(l,n[b],a,d,g);else d=dt(d)?!!d.capture:!!d,a=Se(a),l&&l[ct]?(l=l.i,(n=String(n).toString())in l.g&&-1<(a=Gn(b=l.g[n],a,d,g))&&(dn(b[a]),Array.prototype.splice.call(b,a,1),0==b.length&&(delete l.g[n],l.h--))):l&&(l=jn(l))&&(n=l.g[n.toString()],l=-1,n&&(l=Gn(n,a,d,g)),(a=-1<l?n[l]:null)&&tn(a))}function tn(l){if("number"!=typeof l&&l&&!l.ca){var n=l.src;if(n&&n[ct])cn(n.i,l);else{var a=l.type,d=l.proxy;n.removeEventListener?n.removeEventListener(a,d,l.capture):n.detachEvent?n.detachEvent(vn(a),d):n.addListener&&n.removeListener&&n.removeListener(d),(a=jn(n))?(cn(a,l),0==a.h&&(a.src=null,n[fn]=null)):dn(l)}}}function vn(l){return l in Hn?Hn[l]:Hn[l]="on"+l}function Zn(l,n){if(l.ca)l=!0;else{n=new ye(n,this);var a=l.listener,d=l.ia||l.src;l.fa&&tn(l),l=a.call(d,n)}return l}function jn(l){return(l=l[fn])instanceof qt?l:null}var Pe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Se(l){return"function"==typeof l?l:(l[Pe]||(l[Pe]=function(n){return l.handleEvent(n)}),l[Pe])}function be(){rt.call(this),this.i=new qt(this),this.P=this,this.I=null}function lt(l,n){var a,d=l.I;if(d)for(a=[];d;d=d.I)a.push(d);if(l=l.P,d=n.type||n,"string"==typeof n)n=new ce(n,l);else if(n instanceof ce)n.target=n.target||l;else{var g=n;rr(n=new ce(d,l),g)}if(g=!0,a)for(var b=a.length-1;0<=b;b--){var E=n.g=a[b];g=$e(E,d,!0,n)&&g}if(g=$e(E=n.g=l,d,!0,n)&&g,g=$e(E,d,!1,n)&&g,a)for(b=0;b<a.length;b++)g=$e(E=n.g=a[b],d,!1,n)&&g}function $e(l,n,a,d){if(!(n=l.i.g[String(n)]))return!0;n=n.concat();for(var g=!0,b=0;b<n.length;++b){var E=n[b];if(E&&!E.ca&&E.capture==a){var F=E.listener,te=E.ia||E.src;E.fa&&cn(l.i,E),g=!1!==F.call(te,d)&&g}}return g&&!d.defaultPrevented}Ke(be,rt),be.prototype[ct]=!0,be.prototype.removeEventListener=function(l,n,a,d){ht(this,l,n,a,d)},be.prototype.M=function(){if(be.Z.M.call(this),this.i){var n,l=this.i;for(n in l.g){for(var a=l.g[n],d=0;d<a.length;d++)dn(a[d]);delete l.g[n],l.h--}}this.I=null},be.prototype.N=function(l,n,a,d){return this.i.add(String(l),n,!1,a,d)},be.prototype.O=function(l,n,a,d){return this.i.add(String(l),n,!0,a,d)};var zt=K.JSON.stringify;function qn(){var l=wt;let n=null;return l.g&&(n=l.g,l.g=l.g.next,l.g||(l.h=null),n.next=null),n}var In,ir=new class{constructor(l,n){this.i=l,this.j=n,this.h=0,this.g=null}get(){let l;return 0<this.h?(this.h--,l=this.g,this.g=l.next,l.next=null):l=this.i(),l}}(()=>new or,l=>l.reset());class or{constructor(){this.next=this.g=this.h=null}set(n,a){this.h=n,this.g=a,this.next=null}reset(){this.next=this.g=this.h=null}}function sr(l){K.setTimeout(()=>{throw l},0)}function Cn(l,n){In||function wn(){var l=K.Promise.resolve(void 0);In=function(){l.then(ln)}}(),Qe||(In(),Qe=!0),wt.add(l,n)}var Qe=!1,wt=new class zn{constructor(){this.h=this.g=null}add(n,a){const d=ir.get();d.set(n,a),this.h?this.h.next=d:this.g=d,this.h=d}};function ln(){for(var l;l=qn();){try{l.h.call(l.g)}catch(a){sr(a)}var n=ir;n.j(l),100>n.h&&(n.h++,l.next=n.g,n.g=l)}Qe=!1}function Yn(l,n){be.call(this),this.h=l||1,this.g=n||K,this.j=ke(this.kb,this),this.l=Date.now()}function gr(l){l.da=!1,l.S&&(l.g.clearTimeout(l.S),l.S=null)}function Yt(l,n,a){if("function"==typeof l)a&&(l=ke(l,a));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=ke(l.handleEvent,l)}return 2147483647<Number(n)?-1:K.setTimeout(l,n||0)}function on(l){l.g=Yt(()=>{l.g=null,l.i&&(l.i=!1,on(l))},l.j);const n=l.h;l.h=null,l.m.apply(null,n)}Ke(Yn,be),(Y=Yn.prototype).da=!1,Y.S=null,Y.kb=function(){if(this.da){var l=Date.now()-this.l;0<l&&l<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-l):(this.S&&(this.g.clearTimeout(this.S),this.S=null),lt(this,"tick"),this.da&&(gr(this),this.start()))}},Y.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Y.M=function(){Yn.Z.M.call(this),gr(this),delete this.g};class et extends rt{constructor(n,a){super(),this.m=n,this.j=a,this.h=null,this.i=!1,this.g=null}l(n){this.h=arguments,this.g?this.i=!0:on(this)}M(){super.M(),this.g&&(K.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Lt(l){rt.call(this),this.h=l,this.g={}}Ke(Lt,rt);var gn=[];function xn(l,n,a,d){Array.isArray(a)||(a&&(gn[0]=a.toString()),a=gn);for(var g=0;g<a.length;g++){var b=jt(n,a[g],d||l.handleEvent,!1,l.h||l);if(!b)break;l.g[b.key]=b}}function mn(l){Et(l.g,function(n,a){this.g.hasOwnProperty(a)&&tn(n)},l),l.g={}}function Mn(){this.g=!0}function Vn(l,n,a,d){l.info(function(){return"XMLHTTP TEXT ("+n+"): "+function Qn(l,n){if(!l.g)return n;if(!n)return null;try{var a=JSON.parse(n);if(a)for(l=0;l<a.length;l++)if(Array.isArray(a[l])){var d=a[l];if(!(2>d.length)){var g=d[1];if(Array.isArray(g)&&!(1>g.length)){var b=g[0];if("noop"!=b&&"stop"!=b&&"close"!=b)for(var E=1;E<g.length;E++)g[E]=""}}}return zt(a)}catch(F){return n}}(l,a)+(d?" "+d:"")})}Lt.prototype.M=function(){Lt.Z.M.call(this),mn(this)},Lt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mn.prototype.Aa=function(){this.g=!1},Mn.prototype.info=function(){};var Lr={},Di=null;function io(){return Di=Di||new be}function Wi(l){ce.call(this,Lr.Ma,l)}function Wr(l){const n=io();lt(n,new Wi(n,l))}function $i(l,n){ce.call(this,Lr.STAT_EVENT,l),this.stat=n}function Jr(l){const n=io();lt(n,new $i(n,l))}function st(l,n){ce.call(this,Lr.Na,l),this.size=n}function We(l,n){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return K.setTimeout(function(){l()},n)}Lr.Ma="serverreachability",Ke(Wi,ce),Lr.STAT_EVENT="statevent",Ke($i,ce),Lr.Na="timingevent",Ke(st,ce);var bt={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Vt={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function $t(){}function Sr(){}$t.prototype.h=null;var Ro,Vr={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ir(){ce.call(this,"d")}function mi(){ce.call(this,"c")}function Hi(){}function Eo(l,n,a,d){this.l=l,this.j=n,this.m=a,this.X=d||1,this.V=new Lt(this),this.P=bs,this.W=new Yn(l=xr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}Ke(Ir,ce),Ke(mi,ce),Ke(Hi,$t),Hi.prototype.g=function(){return new XMLHttpRequest},Hi.prototype.i=function(){return{}},Ro=new Hi;var bs=45e3,is={},oo={};function Ko(l,n,a){l.K=1,l.v=Ie(Te(n)),l.s=a,l.U=!0,os(l,null)}function os(l,n){l.F=Date.now(),Do(l),l.A=Te(l.v);var a=l.A,d=l.X;Array.isArray(d)||(d=[String(d)]),V(a.h,"t",d),l.C=0,a=l.l.H,l.h=new Ui,l.g=_a(l.l,a?n:null,!l.s),0<l.O&&(l.L=new et(ke(l.Ia,l,l.g),l.O)),xn(l.V,l.g,"readystatechange",l.gb),n=l.H?Ht(l.H):{},l.s?(l.u||(l.u="POST"),n["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.s,n)):(l.u="GET",l.g.ea(l.A,l.u,null,n)),Wr(1),function tr(l,n,a,d,g,b){l.info(function(){if(l.g)if(b)for(var E="",F=b.split("&"),te=0;te<F.length;te++){var he=F[te].split("=");if(1<he.length){var ze=he[0];he=he[1];var ot=ze.split("_");E=2<=ot.length&&"type"==ot[1]?E+(ze+"=")+he+"&":E+(ze+"=redacted&")}}else E=null;else E=b;return"XMLHTTP REQ ("+d+") [attempt "+g+"]: "+n+"\n"+a+"\n"+E})}(l.j,l.u,l.A,l.m,l.X,l.s)}function ji(l){return!!l.g&&"GET"==l.u&&2!=l.K&&l.l.Ba}function so(l,n,a){let g,d=!0;for(;!l.I&&l.C<a.length;){if(g=Zi(l,a),g==oo){4==n&&(l.o=4,Jr(14),d=!1),Vn(l.j,l.m,null,"[Incomplete Response]");break}if(g==is){l.o=4,Jr(15),Vn(l.j,l.m,a,"[Invalid Chunk]"),d=!1;break}Vn(l.j,l.m,g,null),ss(l,g)}ji(l)&&g!=oo&&g!=is&&(l.h.g="",l.C=0),4!=n||0!=a.length||l.h.h||(l.o=1,Jr(16),d=!1),l.i=l.i&&d,d?0<a.length&&!l.aa&&(l.aa=!0,(n=l.l).g==l&&n.$&&!n.L&&(n.h.info("Great, no buffering proxy detected. Bytes received: "+a.length),Rc(n),n.L=!0,Jr(11))):(Vn(l.j,l.m,a,"[Invalid Chunked Response]"),vo(l),Si(l))}function Zi(l,n){var a=l.C,d=n.indexOf("\n",a);return-1==d?oo:(a=Number(n.substring(a,d)),isNaN(a)?is:(d+=1)+a>n.length?oo:(n=n.substr(d,a),l.C=d+a,n))}function Do(l){l.Y=Date.now()+l.P,Is(l,l.P)}function Is(l,n){if(null!=l.B)throw Error("WatchDog timer not null");l.B=We(ke(l.eb,l),n)}function Jo(l){l.B&&(K.clearTimeout(l.B),l.B=null)}function Si(l){0==l.l.G||l.I||_c(l.l,l)}function vo(l){Jo(l);var n=l.L;n&&"function"==typeof n.na&&n.na(),l.L=null,gr(l.W),mn(l.V),l.g&&(n=l.g,l.g=null,n.abort(),n.na())}function ss(l,n){try{var a=l.l;if(0!=a.G&&(a.g==l||Br(a.i,l)))if(a.I=l.N,!l.J&&Br(a.i,l)&&3==a.G){try{var d=a.Ca.g.parse(n)}catch(he){d=null}if(Array.isArray(d)&&3==d.length){var g=d;if(0==g[0])e:if(a.u)a.ta=g[1],0<a.ta-a.U&&37500>g[2]&&a.N&&0==a.A&&!a.v&&(a.v=We(ke(a.ab,a),6e3));else{if(a.g){if(!(a.g.F+3e3<l.F))break e;Ra(a),eo(a)}Ma(a),Jr(18)}if(1>=Fr(a.i)&&a.ka){try{a.ka()}catch(he){}a.ka=void 0}}else js(a,11)}else if((l.J||a.g==l)&&Ra(a),!we(n))for(g=a.Ca.g.parse(n),n=0;n<g.length;n++){let he=g[n];if(a.U=he[0],he=he[1],2==a.G)if("c"==he[0]){a.J=he[1],a.la=he[2];const ze=he[3];null!=ze&&(a.ma=ze,a.h.info("VER="+a.ma));const ot=he[4];null!=ot&&(a.za=ot,a.h.info("SVER="+a.za));const xt=he[5];null!=xt&&"number"==typeof xt&&0<xt&&(a.K=d=1.5*xt,a.h.info("backChannelRequestTimeoutMs_="+d)),d=a;const Kt=l.g;if(Kt){const an=Kt.g?Kt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(an){var b=d.i;!b.g&&(Ee(an,"spdy")||Ee(an,"quic")||Ee(an,"h2"))&&(b.j=b.l,b.g=new Set,b.h&&(Nr(b,b.h),b.h=null))}if(d.D){const ar=Kt.g?Kt.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(d.sa=ar,re(d.F,d.D,ar))}}a.G=3,a.j&&a.j.xa(),a.$&&(a.O=Date.now()-l.F,a.h.info("Handshake RTT: "+a.O+"ms"));var E=l;if((d=a).oa=yo(d,d.H?d.la:null,d.W),E.J){Pi(d.i,E);var F=E,te=d.K;te&&F.setTimeout(te),F.B&&(Jo(F),Do(F)),d.g=E}else Oa(d);0<a.l.length&&Xs(a)}else"stop"!=he[0]&&"close"!=he[0]||js(a,7);else 3==a.G&&("stop"==he[0]||"close"==he[0]?"stop"==he[0]?js(a,7):Nc(a):"noop"!=he[0]&&a.j&&a.j.wa(he),a.A=0)}Wr(4)}catch(he){}}function Ce(l,n){if(l.forEach&&"function"==typeof l.forEach)l.forEach(n,void 0);else if(ge(l)||"string"==typeof l)ft(l,n,void 0);else{if(l.T&&"function"==typeof l.T)var a=l.T();else if(l.R&&"function"==typeof l.R)a=void 0;else if(ge(l)||"string"==typeof l){a=[];for(var d=l.length,g=0;g<d;g++)a.push(g)}else for(g in a=[],d=0,l)a[d++]=g;d=function po(l){if(l.R&&"function"==typeof l.R)return l.R();if("string"==typeof l)return l.split("");if(ge(l)){for(var n=[],a=l.length,d=0;d<a;d++)n.push(l[d]);return n}for(d in n=[],a=0,l)n[a++]=l[d];return n}(l),g=d.length;for(var b=0;b<g;b++)n.call(void 0,d[b],a&&a[b],l)}}function Oe(l,n){this.h={},this.g=[],this.i=0;var a=arguments.length;if(1<a){if(a%2)throw Error("Uneven number of arguments");for(var d=0;d<a;d+=2)this.set(arguments[d],arguments[d+1])}else if(l)if(l instanceof Oe)for(a=l.T(),d=0;d<a.length;d++)this.set(a[d],l.get(a[d]));else for(d in l)this.set(d,l[d])}function de(l){if(l.i!=l.g.length){for(var n=0,a=0;n<l.g.length;){var d=l.g[n];R(l.h,d)&&(l.g[a++]=d),n++}l.g.length=a}if(l.i!=l.g.length){var g={};for(a=n=0;n<l.g.length;)R(g,d=l.g[n])||(l.g[a++]=d,g[d]=1),n++;l.g.length=a}}function R(l,n){return Object.prototype.hasOwnProperty.call(l,n)}(Y=Eo.prototype).setTimeout=function(l){this.P=l},Y.gb=function(l){l=l.target;const n=this.L;n&&3==Lo(l)?n.l():this.Ia(l)},Y.Ia=function(l){try{if(l==this.g)e:{const ze=Lo(this.g);var n=this.g.Da();const ot=this.g.ba();if(!(3>ze)&&(3!=ze||xr||this.g&&(this.h.h||this.g.ga()||Yo(this.g)))){this.I||4!=ze||7==n||Wr(8==n||0>=ot?3:2),Jo(this);var a=this.g.ba();this.N=a;t:if(ji(this)){var d=Yo(this.g);l="";var g=d.length,b=4==Lo(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){vo(this),Si(this);var E="";break t}this.h.i=new K.TextDecoder}for(n=0;n<g;n++)this.h.h=!0,l+=this.h.i.decode(d[n],{stream:b&&n==g-1});d.splice(0,g),this.h.g+=l,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==a,function pn(l,n,a,d,g,b,E){l.info(function(){return"XMLHTTP RESP ("+d+") [ attempt "+g+"]: "+n+"\n"+a+"\n"+b+" "+E})}(this.j,this.u,this.A,this.m,this.X,ze,a),this.i){if(this.$&&!this.J){t:{if(this.g){var F,te=this.g;if((F=te.g?te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!we(F)){var he=F;break t}}he=null}if(!(a=he)){this.i=!1,this.o=3,Jr(12),vo(this),Si(this);break e}Vn(this.j,this.m,a,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,ss(this,a)}this.U?(so(this,ze,E),xr&&this.i&&3==ze&&(xn(this.V,this.W,"tick",this.fb),this.W.start())):(Vn(this.j,this.m,E,null),ss(this,E)),4==ze&&vo(this),this.i&&!this.I&&(4==ze?_c(this.l,this):(this.i=!1,Do(this)))}else 400==a&&0<E.indexOf("Unknown SID")?(this.o=3,Jr(12)):(this.o=0,Jr(13)),vo(this),Si(this)}}}catch(ze){}},Y.fb=function(){if(this.g){var l=Lo(this.g),n=this.g.ga();this.C<n.length&&(Jo(this),so(this,l,n),this.i&&4!=l&&Do(this))}},Y.cancel=function(){this.I=!0,vo(this)},Y.eb=function(){this.B=null;const l=Date.now();0<=l-this.Y?(function Or(l,n){l.info(function(){return"TIMEOUT: "+n})}(this.j,this.A),2!=this.K&&(Wr(3),Jr(17)),vo(this),this.o=2,Si(this)):Is(this,this.Y-l)},(Y=Oe.prototype).R=function(){de(this);for(var l=[],n=0;n<this.g.length;n++)l.push(this.h[this.g[n]]);return l},Y.T=function(){return de(this),this.g.concat()},Y.get=function(l,n){return R(this.h,l)?this.h[l]:n},Y.set=function(l,n){R(this.h,l)||(this.i++,this.g.push(l)),this.h[l]=n},Y.forEach=function(l,n){for(var a=this.T(),d=0;d<a.length;d++){var g=a[d],b=this.get(g);l.call(n,b,g,this)}};var Z=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ne(l,n){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,l instanceof ne){this.g=void 0!==n?n:l.g,Me(this,l.j),this.s=l.s,xe(this,l.i),Le(this,l.m),this.l=l.l,n=l.h;var a=new jo;a.i=n.i,n.g&&(a.g=new Oe(n.g),a.h=n.h),ut(this,a),this.o=l.o}else l&&(a=String(l).match(Z))?(this.g=!!n,Me(this,a[1]||"",!0),this.s=hn(a[2]||""),xe(this,a[3]||"",!0),Le(this,a[4]),this.l=hn(a[5]||"",!0),ut(this,a[6]||"",!0),this.o=hn(a[7]||"")):(this.g=!!n,this.h=new jo(null,this.g))}function Te(l){return new ne(l)}function Me(l,n,a){l.j=a?hn(n,!0):n,l.j&&(l.j=l.j.replace(/:$/,""))}function xe(l,n,a){l.i=a?hn(n,!0):n}function Le(l,n){if(n){if(n=Number(n),isNaN(n)||0>n)throw Error("Bad port number "+n);l.m=n}else l.m=null}function ut(l,n,a){n instanceof jo?(l.h=n,function Ye(l,n){n&&!l.j&&(Gr(l),l.i=null,l.g.forEach(function(a,d){var g=d.toLowerCase();d!=g&&(H(this,d),V(this,g,a))},l)),l.j=n}(l.h,l.g)):(a||(n=An(n,Xr)),l.h=new jo(n,l.g))}function re(l,n,a){l.h.set(n,a)}function Ie(l){return re(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function hn(l,n){return l?n?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function An(l,n,a){return"string"==typeof l?(l=encodeURI(l).replace(n,Pn),a&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Pn(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}ne.prototype.toString=function(){var l=[],n=this.j;n&&l.push(An(n,Fn,!0),":");var a=this.i;return(a||"file"==n)&&(l.push("//"),(n=this.s)&&l.push(An(n,Fn,!0),"@"),l.push(encodeURIComponent(String(a)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(a=this.m)&&l.push(":",String(a))),(a=this.l)&&(this.i&&"/"!=a.charAt(0)&&l.push("/"),l.push(An(a,"/"==a.charAt(0)?Mr:dr,!0))),(a=this.h.toString())&&l.push("?",a),(a=this.o)&&l.push("#",An(a,Ki)),l.join("")};var Fn=/[#\/\?@]/g,dr=/[#\?:]/g,Mr=/[#\?]/g,Xr=/[#\?@]/g,Ki=/#/g;function jo(l,n){this.h=this.g=null,this.i=l||null,this.j=!!n}function Gr(l){l.g||(l.g=new Oe,l.h=0,l.i&&function W(l,n){if(l){l=l.split("&");for(var a=0;a<l.length;a++){var d=l[a].indexOf("="),g=null;if(0<=d){var b=l[a].substring(0,d);g=l[a].substring(d+1)}else b=l[a];n(b,g?decodeURIComponent(g.replace(/\+/g," ")):"")}}}(l.i,function(n,a){l.add(decodeURIComponent(n.replace(/\+/g," ")),a)}))}function H(l,n){Gr(l),n=pe(l,n),R(l.g.h,n)&&(l.i=null,l.h-=l.g.get(n).length,R((l=l.g).h,n)&&(delete l.h[n],l.i--,l.g.length>2*l.i&&de(l)))}function le(l,n){return Gr(l),n=pe(l,n),R(l.g.h,n)}function V(l,n,a){H(l,n),0<a.length&&(l.i=null,l.g.set(pe(l,n),oe(a)),l.h+=a.length)}function pe(l,n){return n=String(n),l.j&&(n=n.toLowerCase()),n}function Wt(l){this.l=l||Tn,l=K.PerformanceNavigationTiming?0<(l=K.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(K.g&&K.g.Ea&&K.g.Ea()&&K.g.Ea().Zb),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Y=jo.prototype).add=function(l,n){Gr(this),this.i=null,l=pe(this,l);var a=this.g.get(l);return a||this.g.set(l,a=[]),a.push(n),this.h+=1,this},Y.forEach=function(l,n){Gr(this),this.g.forEach(function(a,d){ft(a,function(g){l.call(n,g,d,this)},this)},this)},Y.T=function(){Gr(this);for(var l=this.g.R(),n=this.g.T(),a=[],d=0;d<n.length;d++)for(var g=l[d],b=0;b<g.length;b++)a.push(n[d]);return a},Y.R=function(l){Gr(this);var n=[];if("string"==typeof l)le(this,l)&&(n=me(n,this.g.get(pe(this,l))));else{l=this.g.R();for(var a=0;a<l.length;a++)n=me(n,l[a])}return n},Y.set=function(l,n){return Gr(this),this.i=null,le(this,l=pe(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[n]),this.h+=1,this},Y.get=function(l,n){return l&&0<(l=this.R(l)).length?String(l[0]):n},Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var l=[],n=this.g.T(),a=0;a<n.length;a++){var d=n[a],g=encodeURIComponent(String(d));d=this.R(d);for(var b=0;b<d.length;b++){var E=g;""!==d[b]&&(E+="="+encodeURIComponent(String(d[b]))),l.push(E)}}return this.i=l.join("&")};var Tn=10;function ii(l){return!!l.h||!!l.g&&l.g.size>=l.j}function Fr(l){return l.h?1:l.g?l.g.size:0}function Br(l,n){return l.h?l.h==n:!!l.g&&l.g.has(n)}function Nr(l,n){l.g?l.g.add(n):l.h=n}function Pi(l,n){l.h&&l.h==n?l.h=null:l.g&&l.g.has(n)&&l.g.delete(n)}function oi(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let n=l.i;for(const a of l.g.values())n=n.concat(a.D);return n}return oe(l.i)}function si(){}function ko(){this.g=new si}function Vo(l,n,a){const d=a||"";try{Ce(l,function(g,b){let E=g;dt(g)&&(E=zt(g)),n.push(d+b+"="+encodeURIComponent(E))})}catch(g){throw n.push(d+"type="+encodeURIComponent("_badmap")),g}}function Ps(l,n,a,d,g){try{n.onload=null,n.onerror=null,n.onabort=null,n.ontimeout=null,g(d)}catch(b){}}function Go(l){this.l=l.$b||null,this.j=l.ib||!1}function as(l,n){be.call(this),this.D=l,this.u=n,this.m=void 0,this.readyState=Cs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Wt.prototype.cancel=function(){if(this.i=oi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}},si.prototype.stringify=function(l){return K.JSON.stringify(l,void 0)},si.prototype.parse=function(l){return K.JSON.parse(l,void 0)},Ke(Go,$t),Go.prototype.g=function(){return new as(this.l,this.j)},Go.prototype.i=function(l){return function(){return l}}({}),Ke(as,be);var Cs=0;function ws(l){l.j.read().then(l.Sa.bind(l)).catch(l.ha.bind(l))}function Qa(l){l.readyState=4,l.l=null,l.j=null,l.A=null,cs(l)}function cs(l){l.onreadystatechange&&l.onreadystatechange.call(l)}(Y=as.prototype).open=function(l,n){if(this.readyState!=Cs)throw this.abort(),Error("Error reopening a connection");this.C=l,this.B=n,this.readyState=1,cs(this)},Y.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const n={headers:this.v,method:this.C,credentials:this.m,cache:void 0};l&&(n.body=l),(this.D||K).fetch(new Request(this.B,n)).then(this.Va.bind(this),this.ha.bind(this))},Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qa(this)),this.readyState=Cs},Y.Va=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==K.ReadableStream&&"body"in l){if(this.j=l.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ws(this)}else l.text().then(this.Ua.bind(this),this.ha.bind(this))},Y.Sa=function(l){if(this.g){if(this.u&&l.value)this.response.push(l.value);else if(!this.u){var n=l.value?l.value:new Uint8Array(0);(n=this.A.decode(n,{stream:!l.done}))&&(this.response=this.responseText+=n)}l.done?Qa(this):cs(this),3==this.readyState&&ws(this)}},Y.Ua=function(l){this.g&&(this.response=this.responseText=l,Qa(this))},Y.Ta=function(l){this.g&&(this.response=l,Qa(this))},Y.ha=function(){this.g&&Qa(this)},Y.setRequestHeader=function(l,n){this.v.append(l,n)},Y.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},Y.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],n=this.h.entries();for(var a=n.next();!a.done;)l.push((a=a.value)[0]+": "+a[1]),a=n.next();return l.join("\r\n")},Object.defineProperty(as.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}});var Xt=K.JSON.parse;function cr(l){be.call(this),this.headers=new Oe,this.u=l||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ia,this.K=this.L=!1}Ke(cr,be);var Ia="",Ri=/^https?$/i,tl=["POST","PUT"];function Qs(l){return"content-type"==l.toLowerCase()}function Xa(l,n){l.h=!1,l.g&&(l.l=!0,l.g.abort(),l.l=!1),l.j=n,l.m=5,Pa(l),mc(l)}function Pa(l){l.D||(l.D=!0,lt(l,"complete"),lt(l,"error"))}function gc(l){if(l.h&&void 0!==Q&&(!l.C[1]||4!=Lo(l)||2!=l.ba()))if(l.v&&4==Lo(l))Yt(l.Fa,0,l);else if(lt(l,"readystatechange"),4==Lo(l)){l.h=!1;try{const F=l.ba();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break e;default:n=!1}var a;if(!(a=n)){var d;if(d=0===F){var g=String(l.H).match(Z)[1]||null;if(!g&&K.self&&K.self.location){var b=K.self.location.protocol;g=b.substr(0,b.length-1)}d=!Ri.test(g?g.toLowerCase():"")}a=d}if(a)lt(l,"complete"),lt(l,"success");else{l.m=6;try{var E=2<Lo(l)?l.g.statusText:""}catch(te){E=""}l.j=E+" ["+l.ba()+"]",Pa(l)}}finally{mc(l)}}}function mc(l,n){if(l.g){nl(l);const a=l.g,d=l.C[0]?ie:null;l.g=null,l.C=null,n||lt(l,"ready");try{a.onreadystatechange=d}catch(g){}}}function nl(l){l.g&&l.K&&(l.g.ontimeout=null),l.A&&(K.clearTimeout(l.A),l.A=null)}function Lo(l){return l.g?l.g.readyState:0}function Yo(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.J){case Ia:case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch(n){return null}}function pa(l,n,a){e:{for(d in a){var d=!1;break e}d=!0}d||(a=function fa(l){let n="";return Et(l,function(a,d){n+=d,n+=":",n+=a,n+="\r\n"}),n}(a),"string"==typeof l?null!=a&&encodeURIComponent(String(a)):re(l,n,a))}function Os(l,n,a){return a&&a.internalChannelParams&&a.internalChannelParams[l]||n}function Qo(l){this.za=0,this.l=[],this.h=new Mn,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Os("failFast",!1,l),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Os("baseRetryDelayMs",5e3,l),this.$a=Os("retryDelaySeedMs",1e4,l),this.Ya=Os("forwardChannelMaxRetries",2,l),this.ra=Os("forwardChannelRequestTimeoutMs",2e4,l),this.qa=l&&l.xmlHttpFactory||void 0,this.Ba=l&&l.Yb||!1,this.K=void 0,this.H=l&&l.supportsCrossDomainXhr||!1,this.J="",this.i=new Wt(l&&l.concurrentRequestLimit),this.Ca=new ko,this.ja=l&&l.fastHandshake||!1,this.Ra=l&&l.Wb||!1,l&&l.Aa&&this.h.Aa(),l&&l.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&l&&l.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!l||!1!==l.Xb}function Nc(l){if(rl(l),3==l.G){var n=l.V++,a=Te(l.F);re(a,"SID",l.J),re(a,"RID",n),re(a,"TYPE","terminate"),Us(l,a),(n=new Eo(l,l.h,n,void 0)).K=2,n.v=Ie(Te(a)),a=!1,K.navigator&&K.navigator.sendBeacon&&(a=K.navigator.sendBeacon(n.v.toString(),"")),!a&&K.Image&&((new Image).src=n.v,a=!0),a||(n.g=_a(n.l,null),n.g.ea(n.v)),n.F=Date.now(),Do(n)}vc(l)}function eo(l){l.g&&(Rc(l),l.g.cancel(),l.g=null)}function rl(l){eo(l),l.u&&(K.clearTimeout(l.u),l.u=null),Ra(l),l.i.cancel(),l.m&&("number"==typeof l.m&&K.clearTimeout(l.m),l.m=null)}function ga(l,n){l.l.push(new class{constructor(l,n){this.h=l,this.g=n}}(l.Za++,n)),3==l.G&&Xs(l)}function Xs(l){ii(l.i)||l.m||(l.m=!0,Cn(l.Ha,l),l.C=0)}function Ll(l,n){var a;a=n?n.m:l.V++;const d=Te(l.F);re(d,"SID",l.J),re(d,"RID",a),re(d,"AID",l.U),Us(l,d),l.o&&l.s&&pa(d,l.o,l.s),a=new Eo(l,l.h,a,l.C+1),null===l.o&&(a.H=l.s),n&&(l.l=n.D.concat(l.l)),n=il(l,a,1e3),a.setTimeout(Math.round(.5*l.ra)+Math.round(.5*l.ra*Math.random())),Nr(l.i,a),Ko(a,d,n)}function Us(l,n){l.j&&Ce({},function(a,d){re(n,d,a)})}function il(l,n,a){a=Math.min(l.l.length,a);var d=l.j?ke(l.j.Oa,l.j,l):null;e:{var g=l.l;let b=-1;for(;;){const E=["count="+a];-1==b?0<a?(b=g[0].h,E.push("ofs="+b)):b=0:E.push("ofs="+b);let F=!0;for(let te=0;te<a;te++){let he=g[te].h;const ze=g[te].g;if(he-=b,0>he)b=Math.max(0,g[te].h-100),F=!1;else try{Vo(ze,E,"req"+he+"_")}catch(ot){d&&d(ze)}}if(F){d=E.join("&");break e}}}return l=l.l.splice(0,a),n.D=l,d}function Oa(l){l.g||l.u||(l.Y=1,Cn(l.Ga,l),l.A=0)}function Ma(l){return!(l.g||l.u||3<=l.A||(l.Y++,l.u=We(ke(l.Ga,l),ea(l,l.A)),l.A++,0))}function Rc(l){null!=l.B&&(K.clearTimeout(l.B),l.B=null)}function Na(l){l.g=new Eo(l,l.h,"rpc",l.Y),null===l.o&&(l.g.H=l.s),l.g.O=0;var n=Te(l.oa);re(n,"RID","rpc"),re(n,"SID",l.J),re(n,"CI",l.N?"0":"1"),re(n,"AID",l.U),Us(l,n),re(n,"TYPE","xmlhttp"),l.o&&l.s&&pa(n,l.o,l.s),l.K&&l.g.setTimeout(l.K);var a=l.g;l=l.la,a.K=1,a.v=Ie(Te(n)),a.s=null,a.U=!0,os(a,l)}function Ra(l){null!=l.v&&(K.clearTimeout(l.v),l.v=null)}function _c(l,n){var a=null;if(l.g==n){Ra(l),Rc(l),l.g=null;var d=2}else{if(!Br(l.i,n))return;a=n.D,Pi(l.i,n),d=1}if(l.I=n.N,0!=l.G)if(n.i)if(1==d){a=n.s?n.s.length:0,n=Date.now()-n.F;var g=l.C;lt(d=io(),new st(d,a,n,g)),Xs(l)}else Oa(l);else if(3==(g=n.o)||0==g&&0<l.I||!(1==d&&function ma(l,n){return!(Fr(l.i)>=l.i.j-(l.m?1:0)||(l.m?(l.l=n.D.concat(l.l),0):1==l.G||2==l.G||l.C>=(l.Xa?0:l.Ya)||(l.m=We(ke(l.Ha,l,n),ea(l,l.C)),l.C++,0)))}(l,n)||2==d&&Ma(l)))switch(a&&0<a.length&&(n=l.i,n.i=n.i.concat(a)),g){case 1:js(l,5);break;case 4:js(l,10);break;case 3:js(l,6);break;default:js(l,2)}}function ea(l,n){let a=l.Pa+Math.floor(Math.random()*l.$a);return l.j||(a*=2),a*n}function js(l,n){if(l.h.info("Error code "+n),2==n){var a=null;l.j&&(a=null);var d=ke(l.jb,l);a||(a=new ne("//www.google.com/images/cleardot.gif"),K.location&&"http"==K.location.protocol||Me(a,"https"),Ie(a)),function hr(l,n){const a=new Mn;if(K.Image){const d=new Image;d.onload=_t(Ps,a,d,"TestLoadImage: loaded",!0,n),d.onerror=_t(Ps,a,d,"TestLoadImage: error",!1,n),d.onabort=_t(Ps,a,d,"TestLoadImage: abort",!1,n),d.ontimeout=_t(Ps,a,d,"TestLoadImage: timeout",!1,n),K.setTimeout(function(){d.ontimeout&&d.ontimeout()},1e4),d.src=l}else n(!1)}(a.toString(),d)}else Jr(2);l.G=0,l.j&&l.j.va(n),vc(l),rl(l)}function vc(l){l.G=0,l.I=-1,l.j&&((0!=oi(l.i).length||0!=l.l.length)&&(l.i.i.length=0,oe(l.l),l.l.length=0),l.j.ua())}function yo(l,n,a){let d=function Ve(l){return l instanceof ne?Te(l):new ne(l,void 0)}(a);if(""!=d.i)n&&xe(d,n+"."+d.i),Le(d,d.m);else{const g=K.location;d=function Tt(l,n,a,d){var g=new ne(null,void 0);return l&&Me(g,l),n&&xe(g,n),a&&Le(g,a),d&&(g.l=d),g}(g.protocol,n?n+"."+g.hostname:g.hostname,+g.port,a)}return l.aa&&Et(l.aa,function(g,b){re(d,b,g)}),a=l.sa,(n=l.D)&&a&&re(d,n,a),re(d,"VER",l.ma),Us(l,d),d}function _a(l,n,a){if(n&&!l.H)throw Error("Can't create secondary domain capable XhrIo object.");return(n=new cr(a&&l.Ba&&!l.qa?new Go({ib:!0}):l.qa)).L=l.H,n}function Vi(){}function ec(){if(vr&&!(10<=Number(gt)))throw Error("Environmental error: no available transport.")}function Ts(l,n){be.call(this),this.g=new Qo(n),this.l=l,this.h=n&&n.messageUrlParams||null,l=n&&n.messageHeaders||null,n&&n.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.s=l,l=n&&n.initMessageHeaders||null,n&&n.messageContentType&&(l?l["X-WebChannel-Content-Type"]=n.messageContentType:l={"X-WebChannel-Content-Type":n.messageContentType}),n&&n.ya&&(l?l["X-WebChannel-Client-Profile"]=n.ya:l={"X-WebChannel-Client-Profile":n.ya}),this.g.P=l,(l=n&&n.httpHeadersOverwriteParam)&&!we(l)&&(this.g.o=l),this.A=n&&n.supportsCrossDomainXhr||!1,this.v=n&&n.sendRawJson||!1,(n=n&&n.httpSessionIdParam)&&!we(n)&&(this.g.D=n,null!==(l=this.h)&&n in l&&n in(l=this.h)&&delete l[n]),this.j=new go(this)}function mu(l){Ir.call(this);var n=l.__sm__;if(n){e:{for(const a in n){l=a;break e}l=void 0}(this.i=l)&&(l=this.i,n=null!==n&&l in n?n[l]:void 0),this.data=n}else this.data=l}function kc(){mi.call(this),this.status=1}function go(l){this.g=l}(Y=cr.prototype).ea=function(l,n,a,d){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+l);n=n?n.toUpperCase():"GET",this.H=l,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ro.g(),this.C=function bn(l){return l.h||(l.h=l.i())}(this.u?this.u:Ro),this.g.onreadystatechange=ke(this.Fa,this);try{this.F=!0,this.g.open(n,String(l),!0),this.F=!1}catch(b){return void Xa(this,b)}l=a||"";const g=new Oe(this.headers);d&&Ce(d,function(b,E){g.set(E,b)}),d=function ve(l){e:{var n=Qs;const a=l.length,d="string"==typeof l?l.split(""):l;for(let g=0;g<a;g++)if(g in d&&n.call(void 0,d[g],g,l)){n=g;break e}n=-1}return 0>n?null:"string"==typeof l?l.charAt(n):l[n]}(g.T()),a=K.FormData&&l instanceof K.FormData,!(0<=Ze(tl,n))||d||a||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),g.forEach(function(b,E){this.g.setRequestHeader(E,b)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nl(this),0<this.B&&((this.K=function Bs(l){return vr&&function ri(){return function Dr(l){var n=zi;return Object.prototype.hasOwnProperty.call(n,9)?n[9]:n[9]=l(9)}(function(){let l=0;const n=qe(String(Kr)).split("."),a=qe("9").split("."),d=Math.max(n.length,a.length);for(let E=0;0==l&&E<d;E++){var g=n[E]||"",b=a[E]||"";do{if(g=/(\d*)(\D*)(.*)/.exec(g)||["","","",""],b=/(\d*)(\D*)(.*)/.exec(b)||["","","",""],0==g[0].length&&0==b[0].length)break;l=It(0==g[1].length?0:parseInt(g[1],10),0==b[1].length?0:parseInt(b[1],10))||It(0==g[2].length,0==b[2].length)||It(g[2],b[2]),g=g[3],b=b[3]}while(0==l)}return 0<=l})}()&&"number"==typeof l.timeout&&void 0!==l.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ke(this.pa,this)):this.A=Yt(this.pa,this.B,this)),this.v=!0,this.g.send(l),this.v=!1}catch(b){Xa(this,b)}},Y.pa=function(){void 0!==Q&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,lt(this,"timeout"),this.abort(8))},Y.abort=function(l){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=l||7,lt(this,"complete"),lt(this,"abort"),mc(this))},Y.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mc(this,!0)),cr.Z.M.call(this)},Y.Fa=function(){this.s||(this.F||this.v||this.l?gc(this):this.cb())},Y.cb=function(){gc(this)},Y.ba=function(){try{return 2<Lo(this)?this.g.status:-1}catch(l){return-1}},Y.ga=function(){try{return this.g?this.g.responseText:""}catch(l){return""}},Y.Qa=function(l){if(this.g){var n=this.g.responseText;return l&&0==n.indexOf(l)&&(n=n.substring(l.length)),Xt(n)}},Y.Da=function(){return this.m},Y.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(Y=Qo.prototype).ma=8,Y.G=1,Y.hb=function(l){try{this.h.info("Origin Trials invoked: "+l)}catch(n){}},Y.Ha=function(l){if(this.m)if(this.m=null,1==this.G){if(!l){this.V=Math.floor(1e5*Math.random()),l=this.V++;const g=new Eo(this,this.h,l,void 0);let b=this.s;if(this.P&&(b?(b=Ht(b),rr(b,this.P)):b=this.P),null===this.o&&(g.H=b),this.ja)e:{for(var n=0,a=0;a<this.l.length;a++){var d=this.l[a];if(void 0===(d="__data__"in d.g&&"string"==typeof(d=d.g.__data__)?d.length:void 0))break;if(4096<(n+=d)){n=a;break e}if(4096===n||a===this.l.length-1){n=a+1;break e}}n=1e3}else n=1e3;n=il(this,g,n),re(a=Te(this.F),"RID",l),re(a,"CVER",22),this.D&&re(a,"X-HTTP-Session-Id",this.D),Us(this,a),this.o&&b&&pa(a,this.o,b),Nr(this.i,g),this.Ra&&re(a,"TYPE","init"),this.ja?(re(a,"$req",n),re(a,"SID","null"),g.$=!0,Ko(g,a,null)):Ko(g,a,n),this.G=2}}else 3==this.G&&(l?Ll(this,l):0==this.l.length||ii(this.i)||Ll(this))},Y.Ga=function(){if(this.u=null,Na(this),this.$&&!(this.L||null==this.g||0>=this.O)){var l=2*this.O;this.h.info("BP detection timer enabled: "+l),this.B=We(ke(this.bb,this),l)}},Y.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Jr(10),eo(this),Na(this))},Y.ab=function(){null!=this.v&&(this.v=null,eo(this),Ma(this),Jr(19))},Y.jb=function(l){l?(this.h.info("Successfully pinged google.com"),Jr(2)):(this.h.info("Failed to ping google.com"),Jr(1))},(Y=Vi.prototype).xa=function(){},Y.wa=function(){},Y.va=function(){},Y.ua=function(){},Y.Oa=function(){},ec.prototype.g=function(l,n){return new Ts(l,n)},Ke(Ts,be),Ts.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var l=this.g,n=this.l,a=this.h||void 0;l.Wa&&(l.h.info("Origin Trials enabled."),Cn(ke(l.hb,l,n))),Jr(0),l.W=n,l.aa=a||{},l.N=l.X,l.F=yo(l,null,l.W),Xs(l)},Ts.prototype.close=function(){Nc(this.g)},Ts.prototype.u=function(l){if("string"==typeof l){var n={};n.__data__=l,ga(this.g,n)}else this.v?((n={}).__data__=zt(l),ga(this.g,n)):ga(this.g,l)},Ts.prototype.M=function(){this.g.j=null,delete this.j,Nc(this.g),delete this.g,Ts.Z.M.call(this)},Ke(mu,Ir),Ke(kc,mi),Ke(go,Vi),go.prototype.xa=function(){lt(this.g,"a")},go.prototype.wa=function(l){lt(this.g,new mu(l))},go.prototype.va=function(l){lt(this.g,new kc(l))},go.prototype.ua=function(){lt(this.g,"b")},ec.prototype.createWebChannel=ec.prototype.g,Ts.prototype.send=Ts.prototype.u,Ts.prototype.open=Ts.prototype.m,Ts.prototype.close=Ts.prototype.close,bt.NO_ERROR=0,bt.TIMEOUT=8,bt.HTTP_ERROR=6,Vt.COMPLETE="complete",Sr.EventType=Vr,Vr.OPEN="a",Vr.CLOSE="b",Vr.ERROR="c",Vr.MESSAGE="d",be.prototype.listen=be.prototype.N,cr.prototype.listenOnce=cr.prototype.O,cr.prototype.getLastError=cr.prototype.La,cr.prototype.getLastErrorCode=cr.prototype.Da,cr.prototype.getStatus=cr.prototype.ba,cr.prototype.getResponseJson=cr.prototype.Qa,cr.prototype.getResponseText=cr.prototype.ga,cr.prototype.send=cr.prototype.ea;var od=ee.createWebChannelTransport=function(){return new ec},va=ee.getStatEventTarget=function(){return io()},Vs=ee.ErrorCode=bt,Gs=ee.EventType=Vt,ui=ee.Event=Lr,tc=ee.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Wd=ee.FetchXmlHttpFactory=Go,Xo=ee.WebChannel=Sr,ka=ee.XhrIo=cr;const nc="@firebase/firestore";class ao{constructor(n){this.uid=n}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}ao.UNAUTHENTICATED=new ao(null),ao.GOOGLE_CREDENTIALS=new ao("google-credentials-uid"),ao.FIRST_PARTY=new ao("first-party-uid"),ao.MOCK_USER=new ao("mock-user");let So="9.6.9";const es=new N.Yd("@firebase/firestore");function Hs(){return es.logLevel}function _n(l,...n){if(es.logLevel<=N.in.DEBUG){const a=n.map(ol);es.debug(`Firestore (${So}): ${l}`,...a)}}function di(l,...n){if(es.logLevel<=N.in.ERROR){const a=n.map(ol);es.error(`Firestore (${So}): ${l}`,...a)}}function rc(l,...n){if(es.logLevel<=N.in.WARN){const a=n.map(ol);es.warn(`Firestore (${So}): ${l}`,...a)}}function ol(l){if("string"==typeof l)return l;try{return JSON.stringify(l)}catch(a){return l}}function Jn(l="Unexpected state"){const n=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+l;throw di(n),new Error(n)}function Cr(l,n){l||Jn()}function Nn(l,n){return l}const Pt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class rn extends M.ZR{constructor(n,a){super(n,a),this.code=n,this.message=a,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Oi{constructor(){this.promise=new Promise((n,a)=>{this.resolve=n,this.reject=a})}}class _i{constructor(n,a){this.user=a,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class ic{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,a){n.enqueueRetryable(()=>a(ao.UNAUTHENTICATED))}shutdown(){}}class sd{constructor(n){this.t=n,this.currentUser=ao.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,a){var d=this;let g=this.i;const b=he=>this.i!==g?(g=this.i,a(he)):Promise.resolve();let E=new Oi;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new Oi,n.enqueueRetryable(()=>b(this.currentUser))};const F=()=>{const he=E;n.enqueueRetryable((0,p.Z)(function*(){yield he.promise,yield b(d.currentUser)}))},te=he=>{_n("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=he,this.auth.addAuthTokenListener(this.o),F()};this.t.onInit(he=>te(he)),setTimeout(()=>{if(!this.auth){const he=this.t.getImmediate({optional:!0});he?te(he):(_n("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new Oi)}},0),F()}getToken(){const n=this.i,a=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(a).then(d=>this.i!==n?(_n("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):d?(Cr("string"==typeof d.accessToken),new _i(d.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const n=this.auth&&this.auth.getUid();return Cr(null===n||"string"==typeof n),new ao(n)}}class Fl{constructor(n,a,d){this.type="FirstParty",this.user=ao.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",a);const g=n.auth.getAuthHeaderValueForFirstParty([]);g&&this.headers.set("Authorization",g),d&&this.headers.set("X-Goog-Iam-Authorization-Token",d)}}class k{constructor(n,a,d){this.h=n,this.l=a,this.m=d}getToken(){return Promise.resolve(new Fl(this.h,this.l,this.m))}start(n,a){n.enqueueRetryable(()=>a(ao.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class I{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class S{constructor(n){this.g=n,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(n,a){const d=b=>{null!=b.error&&_n("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${b.error.message}`);const E=b.token!==this.p;return this.p=b.token,_n("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?a(b.token):Promise.resolve()};this.o=b=>{n.enqueueRetryable(()=>d(b))};const g=b=>{_n("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=b,this.appCheck.addTokenListener(this.o)};this.g.onInit(b=>g(b)),setTimeout(()=>{if(!this.appCheck){const b=this.g.getImmediate({optional:!0});b?g(b):_n("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(a=>a?(Cr("string"==typeof a.token),this.p=a.token,new I(a.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class ${constructor(n,a){this.previousValue=n,a&&(a.sequenceNumberHandler=d=>this.I(d),this.T=d=>a.writeSequenceNumber(d))}I(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.T&&this.T(n),n}}function ue(l){const n="undefined"!=typeof self&&(self.crypto||self.msCrypto),a=new Uint8Array(l);if(n&&"function"==typeof n.getRandomValues)n.getRandomValues(a);else for(let d=0;d<l;d++)a[d]=Math.floor(256*Math.random());return a}$.A=-1;class Ue{static R(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=Math.floor(256/n.length)*n.length;let d="";for(;d.length<20;){const g=ue(40);for(let b=0;b<g.length;++b)d.length<20&&g[b]<a&&(d+=n.charAt(g[b]%n.length))}return d}}function je(l,n){return l<n?-1:l>n?1:0}function Nt(l,n,a){return l.length===n.length&&l.every((d,g)=>a(d,n[g]))}class Rn{constructor(n,a){if(this.seconds=n,this.nanoseconds=a,a<0)throw new rn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(a>=1e9)throw new rn(Pt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+a);if(n<-62135596800)throw new rn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new rn(Pt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}static now(){return Rn.fromMillis(Date.now())}static fromDate(n){return Rn.fromMillis(n.getTime())}static fromMillis(n){const a=Math.floor(n/1e3),d=Math.floor(1e6*(n-1e3*a));return new Rn(a,d)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(n){return this.seconds===n.seconds?je(this.nanoseconds,n.nanoseconds):je(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class At{constructor(n){this.timestamp=n}static fromTimestamp(n){return new At(n)}static min(){return new At(new Rn(0,0))}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Rr(l){let n=0;for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n++;return n}function Tr(l,n){for(const a in l)Object.prototype.hasOwnProperty.call(l,a)&&n(a,l[a])}function ei(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}class xi{constructor(n,a,d){void 0===a?a=0:a>n.length&&Jn(),void 0===d?d=n.length-a:d>n.length-a&&Jn(),this.segments=n,this.offset=a,this.len=d}get length(){return this.len}isEqual(n){return 0===xi.comparator(this,n)}child(n){const a=this.segments.slice(this.offset,this.limit());return n instanceof xi?n.forEach(d=>{a.push(d)}):a.push(n),this.construct(a)}limit(){return this.offset+this.length}popFirst(n){return this.construct(this.segments,this.offset+(n=void 0===n?1:n),this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return 0===this.length}isPrefixOf(n){if(n.length<this.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let a=0;a<this.length;a++)if(this.get(a)!==n.get(a))return!1;return!0}forEach(n){for(let a=this.offset,d=this.limit();a<d;a++)n(this.segments[a])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,a){const d=Math.min(n.length,a.length);for(let g=0;g<d;g++){const b=n.get(g),E=a.get(g);if(b<E)return-1;if(b>E)return 1}return n.length<a.length?-1:n.length>a.length?1:0}}class lr extends xi{construct(n,a,d){return new lr(n,a,d)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...n){const a=[];for(const d of n){if(d.indexOf("//")>=0)throw new rn(Pt.INVALID_ARGUMENT,`Invalid segment (${d}). Paths must not contain // in them.`);a.push(...d.split("/").filter(g=>g.length>0))}return new lr(a)}static emptyPath(){return new lr([])}}const La=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ji extends xi{construct(n,a,d){return new Ji(n,a,d)}static isValidIdentifier(n){return La.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ji.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ji(["__name__"])}static fromServerFormat(n){const a=[];let d="",g=0;const b=()=>{if(0===d.length)throw new rn(Pt.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);a.push(d),d=""};let E=!1;for(;g<n.length;){const F=n[g];if("\\"===F){if(g+1===n.length)throw new rn(Pt.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const te=n[g+1];if("\\"!==te&&"."!==te&&"`"!==te)throw new rn(Pt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);d+=te,g+=2}else"`"===F?(E=!E,g++):"."!==F||E?(d+=F,g++):(b(),g++)}if(b(),E)throw new rn(Pt.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new Ji(a)}static emptyPath(){return new Ji([])}}class ls{constructor(n){this.fields=n,n.sort(Ji.comparator)}covers(n){for(const a of this.fields)if(a.isPrefixOf(n))return!0;return!1}isEqual(n){return Nt(this.fields,n.fields,(a,d)=>a.isEqual(d))}}class to{constructor(n){this.binaryString=n}static fromBase64String(n){const a=atob(n);return new to(a)}static fromUint8Array(n){const a=function(d){let g="";for(let b=0;b<d.length;++b)g+=String.fromCharCode(d[b]);return g}(n);return new to(a)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(n){const a=new Uint8Array(n.length);for(let d=0;d<n.length;d++)a[d]=n.charCodeAt(d);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return je(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}to.EMPTY_BYTE_STRING=new to("");const cl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(l){if(Cr(!!l),"string"==typeof l){let n=0;const a=cl.exec(l);if(Cr(!!a),a[1]){let g=a[1];g=(g+"000000000").substr(0,9),n=Number(g)}const d=new Date(l);return{seconds:Math.floor(d.getTime()/1e3),nanos:n}}return{seconds:yi(l.seconds),nanos:yi(l.nanos)}}function yi(l){return"number"==typeof l?l:"string"==typeof l?Number(l):0}function us(l){return"string"==typeof l?to.fromBase64String(l):to.fromUint8Array(l)}function vu(l){var n,a;return"server_timestamp"===(null===(a=((null===(n=null==l?void 0:l.mapValue)||void 0===n?void 0:n.fields)||{}).__type__)||void 0===a?void 0:a.stringValue)}function Bl(l){const n=l.mapValue.fields.__previous_value__;return vu(n)?Bl(n):n}function xo(l){const n=vi(l.mapValue.fields.__local_write_time__.timestampValue);return new Rn(n.seconds,n.nanos)}class Ul{constructor(n,a,d,g,b,E,F,te){this.databaseId=n,this.appId=a,this.persistenceKey=d,this.host=g,this.ssl=b,this.forceLongPolling=E,this.autoDetectLongPolling=F,this.useFetchStreams=te}}class yc{constructor(n,a){this.projectId=n,this.database=a||"(default)"}static empty(){return new yc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(n){return n instanceof yc&&n.projectId===this.projectId&&n.database===this.database}}function $r(l){return null==l}function Ho(l){return 0===l&&1/l==-1/0}class Ln{constructor(n){this.path=n}static fromPath(n){return new Ln(lr.fromString(n))}static fromName(n){return new Ln(lr.fromString(n).popFirst(5))}static empty(){return new Ln(lr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return null!==n&&0===lr.comparator(this.path,n.path)}toString(){return this.path.toString()}static comparator(n,a){return lr.comparator(n.path,a.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new Ln(new lr(n.slice()))}}function Fa(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?vu(l)?4:yu(l)?9:10:Jn()}function bi(l,n){if(l===n)return!0;const a=Fa(l);if(a!==Fa(n))return!1;switch(a){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return xo(l).isEqual(xo(n));case 3:return function(d,g){if("string"==typeof d.timestampValue&&"string"==typeof g.timestampValue&&d.timestampValue.length===g.timestampValue.length)return d.timestampValue===g.timestampValue;const b=vi(d.timestampValue),E=vi(g.timestampValue);return b.seconds===E.seconds&&b.nanos===E.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return g=n,us(l.bytesValue).isEqual(us(g.bytesValue));case 7:return l.referenceValue===n.referenceValue;case 8:return function(d,g){return yi(d.geoPointValue.latitude)===yi(g.geoPointValue.latitude)&&yi(d.geoPointValue.longitude)===yi(g.geoPointValue.longitude)}(l,n);case 2:return function(d,g){if("integerValue"in d&&"integerValue"in g)return yi(d.integerValue)===yi(g.integerValue);if("doubleValue"in d&&"doubleValue"in g){const b=yi(d.doubleValue),E=yi(g.doubleValue);return b===E?Ho(b)===Ho(E):isNaN(b)&&isNaN(E)}return!1}(l,n);case 9:return Nt(l.arrayValue.values||[],n.arrayValue.values||[],bi);case 10:return function(d,g){const b=d.mapValue.fields||{},E=g.mapValue.fields||{};if(Rr(b)!==Rr(E))return!1;for(const F in b)if(b.hasOwnProperty(F)&&(void 0===E[F]||!bi(b[F],E[F])))return!1;return!0}(l,n);default:return Jn()}var g}function ya(l,n){return void 0!==(l.values||[]).find(a=>bi(a,n))}function Fc(l,n){if(l===n)return 0;const a=Fa(l),d=Fa(n);if(a!==d)return je(a,d);switch(a){case 0:case 9007199254740991:return 0;case 1:return je(l.booleanValue,n.booleanValue);case 2:return function(g,b){const E=yi(g.integerValue||g.doubleValue),F=yi(b.integerValue||b.doubleValue);return E<F?-1:E>F?1:E===F?0:isNaN(E)?isNaN(F)?0:-1:1}(l,n);case 3:return Mi(l.timestampValue,n.timestampValue);case 4:return Mi(xo(l),xo(n));case 5:return je(l.stringValue,n.stringValue);case 6:return function(g,b){const E=us(g),F=us(b);return E.compareTo(F)}(l.bytesValue,n.bytesValue);case 7:return function(g,b){const E=g.split("/"),F=b.split("/");for(let te=0;te<E.length&&te<F.length;te++){const he=je(E[te],F[te]);if(0!==he)return he}return je(E.length,F.length)}(l.referenceValue,n.referenceValue);case 8:return function(g,b){const E=je(yi(g.latitude),yi(b.latitude));return 0!==E?E:je(yi(g.longitude),yi(b.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return function(g,b){const E=g.values||[],F=b.values||[];for(let te=0;te<E.length&&te<F.length;++te){const he=Fc(E[te],F[te]);if(he)return he}return je(E.length,F.length)}(l.arrayValue,n.arrayValue);case 10:return function(g,b){const E=g.fields||{},F=Object.keys(E),te=b.fields||{},he=Object.keys(te);F.sort(),he.sort();for(let ze=0;ze<F.length&&ze<he.length;++ze){const ot=je(F[ze],he[ze]);if(0!==ot)return ot;const xt=Fc(E[F[ze]],te[he[ze]]);if(0!==xt)return xt}return je(F.length,he.length)}(l.mapValue,n.mapValue);default:throw Jn()}}function Mi(l,n){if("string"==typeof l&&"string"==typeof n&&l.length===n.length)return je(l,n);const a=vi(l),d=vi(n),g=je(a.seconds,d.seconds);return 0!==g?g:je(a.nanos,d.nanos)}function ba(l){return Bc(l)}function Bc(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(d){const g=vi(d);return`time(${g.seconds},${g.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?us(l.bytesValue).toBase64():"referenceValue"in l?Ln.fromName(l.referenceValue).toString():"geoPointValue"in l?`geo(${(n=l.geoPointValue).latitude},${n.longitude})`:"arrayValue"in l?function(d){let g="[",b=!0;for(const E of d.values||[])b?b=!1:g+=",",g+=Bc(E);return g+"]"}(l.arrayValue):"mapValue"in l?function(d){const g=Object.keys(d.fields||{}).sort();let b="{",E=!0;for(const F of g)E?E=!1:b+=",",b+=`${F}:${Bc(d.fields[F])}`;return b+"}"}(l.mapValue):Jn();var n}function jl(l){return!!l&&"integerValue"in l}function co(l){return!!l&&"arrayValue"in l}function ta(l){return!!l&&"nullValue"in l}function ll(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Ca(l){return!!l&&"mapValue"in l}function Zs(l){if(l.geoPointValue)return{geoPointValue:Object.assign({},l.geoPointValue)};if(l.timestampValue&&"object"==typeof l.timestampValue)return{timestampValue:Object.assign({},l.timestampValue)};if(l.mapValue){const n={mapValue:{fields:{}}};return Tr(l.mapValue.fields,(a,d)=>n.mapValue.fields[a]=Zs(d)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let a=0;a<(l.arrayValue.values||[]).length;++a)n.arrayValue.values[a]=Zs(l.arrayValue.values[a]);return n}return Object.assign({},l)}function yu(l){return"__max__"===(((l.mapValue||{}).fields||{}).__type__||{}).stringValue}class lo{constructor(n){this.value=n}static empty(){return new lo({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let a=this.value;for(let d=0;d<n.length-1;++d)if(a=(a.mapValue.fields||{})[n.get(d)],!Ca(a))return null;return a=(a.mapValue.fields||{})[n.lastSegment()],a||null}}set(n,a){this.getFieldsMap(n.popLast())[n.lastSegment()]=Zs(a)}setAll(n){let a=Ji.emptyPath(),d={},g=[];n.forEach((E,F)=>{if(!a.isImmediateParentOf(F)){const te=this.getFieldsMap(a);this.applyChanges(te,d,g),d={},g=[],a=F.popLast()}E?d[F.lastSegment()]=Zs(E):g.push(F.lastSegment())});const b=this.getFieldsMap(a);this.applyChanges(b,d,g)}delete(n){const a=this.field(n.popLast());Ca(a)&&a.mapValue.fields&&delete a.mapValue.fields[n.lastSegment()]}isEqual(n){return bi(this.value,n.value)}getFieldsMap(n){let a=this.value;a.mapValue.fields||(a.mapValue={fields:{}});for(let d=0;d<n.length;++d){let g=a.mapValue.fields[n.get(d)];Ca(g)&&g.mapValue.fields||(g={mapValue:{fields:{}}},a.mapValue.fields[n.get(d)]=g),a=g}return a.mapValue.fields}applyChanges(n,a,d){Tr(a,(g,b)=>n[g]=b);for(const g of d)delete n[g]}clone(){return new lo(Zs(this.value))}}function jc(l){const n=[];return Tr(l.fields,(a,d)=>{const g=new Ji([a]);if(Ca(d)){const b=jc(d.mapValue).fields;if(0===b.length)n.push(g);else for(const E of b)n.push(g.child(E))}else n.push(g)}),new ls(n)}class Ci{constructor(n,a,d,g,b,E){this.key=n,this.documentType=a,this.version=d,this.readTime=g,this.data=b,this.documentState=E}static newInvalidDocument(n){return new Ci(n,0,At.min(),At.min(),lo.empty(),0)}static newFoundDocument(n,a,d){return new Ci(n,1,a,At.min(),d,0)}static newNoDocument(n,a){return new Ci(n,2,a,At.min(),lo.empty(),0)}static newUnknownDocument(n,a){return new Ci(n,3,a,At.min(),lo.empty(),2)}convertToFoundDocument(n,a){return this.version=n,this.documentType=1,this.data=a,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(n){return n instanceof Ci&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ci(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Vl{constructor(n,a=null,d=[],g=[],b=null,E=null,F=null){this.path=n,this.collectionGroup=a,this.orderBy=d,this.filters=g,this.limit=b,this.startAt=E,this.endAt=F,this.P=null}}function Kd(l,n=null,a=[],d=[],g=null,b=null,E=null){return new Vl(l,n,a,d,g,b,E)}function Ba(l){const n=Nn(l);if(null===n.P){let a=n.path.canonicalString();null!==n.collectionGroup&&(a+="|cg:"+n.collectionGroup),a+="|f:",a+=n.filters.map(d=>{return(g=d).field.canonicalString()+g.op.toString()+ba(g.value);var g}).join(","),a+="|ob:",a+=n.orderBy.map(d=>{return(g=d).field.canonicalString()+g.dir;var g}).join(","),$r(n.limit)||(a+="|l:",a+=n.limit),n.startAt&&(a+="|lb:",a+=n.startAt.inclusive?"b:":"a:",a+=n.startAt.position.map(d=>ba(d)).join(",")),n.endAt&&(a+="|ub:",a+=n.endAt.inclusive?"a:":"b:",a+=n.endAt.position.map(d=>ba(d)).join(",")),n.P=a}return n.P}function wa(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let g=0;g<l.orderBy.length;g++)if(!un(l.orderBy[g],n.orderBy[g]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let g=0;g<l.filters.length;g++)if((a=l.filters[g]).op!==(d=n.filters[g]).op||!a.field.isEqual(d.field)||!bi(a.value,d.value))return!1;var a,d;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!mr(l.startAt,n.startAt)&&mr(l.endAt,n.endAt)}function bo(l){return Ln.isDocumentKey(l.path)&&null===l.collectionGroup&&0===l.filters.length}class Fo extends class{}{constructor(n,a,d){super(),this.field=n,this.op=a,this.value=d}static create(n,a,d){return n.isKeyField()?"in"===a||"not-in"===a?this.V(n,a,d):new Gc(n,a,d):"array-contains"===a?new U(n,d):"in"===a?new q(n,d):"not-in"===a?new ae(n,d):"array-contains-any"===a?new He(n,d):new Fo(n,a,d)}static V(n,a,d){return"in"===a?new bu(n,d):new ds(n,d)}matches(n){const a=n.data.field(this.field);return"!="===this.op?null!==a&&this.v(Fc(a,this.value)):null!==a&&Fa(this.value)===Fa(a)&&this.v(Fc(a,this.value))}v(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return 0===n;case"!=":return 0!==n;case">":return n>0;case">=":return n>=0;default:return Jn()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gc extends Fo{constructor(n,a,d){super(n,a,d),this.key=Ln.fromName(d.referenceValue)}matches(n){const a=Ln.comparator(n.key,this.key);return this.v(a)}}class bu extends Fo{constructor(n,a){super(n,"in",a),this.keys=Ta(0,a)}matches(n){return this.keys.some(a=>a.isEqual(n.key))}}class ds extends Fo{constructor(n,a){super(n,"not-in",a),this.keys=Ta(0,a)}matches(n){return!this.keys.some(a=>a.isEqual(n.key))}}function Ta(l,n){var a;return((null===(a=n.arrayValue)||void 0===a?void 0:a.values)||[]).map(d=>Ln.fromName(d.referenceValue))}class U extends Fo{constructor(n,a){super(n,"array-contains",a)}matches(n){const a=n.data.field(this.field);return co(a)&&ya(a.arrayValue,this.value)}}class q extends Fo{constructor(n,a){super(n,"in",a)}matches(n){const a=n.data.field(this.field);return null!==a&&ya(this.value.arrayValue,a)}}class ae extends Fo{constructor(n,a){super(n,"not-in",a)}matches(n){if(ya(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const a=n.data.field(this.field);return null!==a&&!ya(this.value.arrayValue,a)}}class He extends Fo{constructor(n,a){super(n,"array-contains-any",a)}matches(n){const a=n.data.field(this.field);return!(!co(a)||!a.arrayValue.values)&&a.arrayValue.values.some(d=>ya(this.value.arrayValue,d))}}class mt{constructor(n,a){this.position=n,this.inclusive=a}}class St{constructor(n,a="asc"){this.field=n,this.dir=a}}function un(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}function On(l,n,a){let d=0;for(let g=0;g<l.position.length;g++){const b=n[g],E=l.position[g];if(d=b.field.isKeyField()?Ln.comparator(Ln.fromName(E.referenceValue),a.key):Fc(E,a.data.field(b.field)),"desc"===b.dir&&(d*=-1),0!==d)break}return d}function mr(l,n){if(null===l)return null===n;if(null===n||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let a=0;a<l.position.length;a++)if(!bi(l.position[a],n.position[a]))return!1;return!0}class fr{constructor(n,a=null,d=[],g=[],b=null,E="F",F=null,te=null){this.path=n,this.collectionGroup=a,this.explicitOrderBy=d,this.filters=g,this.limit=b,this.limitType=E,this.startAt=F,this.endAt=te,this.D=null,this.C=null}}function wr(l){return new fr(l)}function Bo(l){return!$r(l.limit)&&"F"===l.limitType}function uo(l){return!$r(l.limit)&&"L"===l.limitType}function Zo(l){const n=Nn(l);if(null===n.D){n.D=[];const a=function na(l){for(const n of l.filters)if(n.S())return n.field;return null}(n),d=function hs(l){return l.explicitOrderBy.length>0?l.explicitOrderBy[0].field:null}(n);if(null!==a&&null===d)a.isKeyField()||n.D.push(new St(a)),n.D.push(new St(Ji.keyField(),"asc"));else{let g=!1;for(const b of n.explicitOrderBy)n.D.push(b),b.field.isKeyField()&&(g=!0);if(!g){const b=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";n.D.push(new St(Ji.keyField(),b))}}}return n.D}function Yi(l){const n=Nn(l);if(!n.C)if("F"===n.limitType)n.C=Kd(n.path,n.collectionGroup,Zo(n),n.filters,n.limit,n.startAt,n.endAt);else{const a=[];for(const b of Zo(n))a.push(new St(b.field,"desc"===b.dir?"asc":"desc"));const d=n.endAt?new mt(n.endAt.position,!n.endAt.inclusive):null,g=n.startAt?new mt(n.startAt.position,!n.startAt.inclusive):null;n.C=Kd(n.path,n.collectionGroup,a,n.filters,n.limit,d,g)}return n.C}function hl(l,n){return wa(Yi(l),Yi(n))&&l.limitType===n.limitType}function Gl(l){return`${Ba(Yi(l))}|lt:${l.limitType}`}function bc(l){return`Query(target=${function sc(l){let n=l.path.canonicalString();return null!==l.collectionGroup&&(n+=" collectionGroup="+l.collectionGroup),l.filters.length>0&&(n+=`, filters: [${l.filters.map(a=>{return`${(d=a).field.canonicalString()} ${d.op} ${ba(d.value)}`;var d}).join(", ")}]`),$r(l.limit)||(n+=", limit: "+l.limit),l.orderBy.length>0&&(n+=`, orderBy: [${l.orderBy.map(a=>{return`${(d=a).field.canonicalString()} (${d.dir})`;var d}).join(", ")}]`),l.startAt&&(n+=", startAt: ",n+=l.startAt.inclusive?"b:":"a:",n+=l.startAt.position.map(a=>ba(a)).join(",")),l.endAt&&(n+=", endAt: ",n+=l.endAt.inclusive?"a:":"b:",n+=l.endAt.position.map(a=>ba(a)).join(",")),`Target(${n})`}(Yi(l))}; limitType=${l.limitType})`}function Hl(l,n){return n.isFoundDocument()&&function(a,d){const g=d.key.path;return null!==a.collectionGroup?d.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(g):Ln.isDocumentKey(a.path)?a.path.isEqual(g):a.path.isImmediateParentOf(g)}(l,n)&&function(a,d){for(const g of a.explicitOrderBy)if(!g.field.isKeyField()&&null===d.data.field(g.field))return!1;return!0}(l,n)&&function(a,d){for(const g of a.filters)if(!g.matches(d))return!1;return!0}(l,n)&&(d=n,!((a=l).startAt&&!function(g,b,E){const F=On(g,b,E);return g.inclusive?F<=0:F<0}(a.startAt,Zo(a),d)||a.endAt&&!function(g,b,E){const F=On(g,b,E);return g.inclusive?F>=0:F>0}(a.endAt,Zo(a),d)));var a,d}function ud(l){return(n,a)=>{let d=!1;for(const g of Zo(l)){const b=Cu(g,n,a);if(0!==b)return b;d=d||g.field.isKeyField()}return 0}}function Cu(l,n,a){const d=l.field.isKeyField()?Ln.comparator(n.key,a.key):function(g,b,E){const F=b.data.field(g),te=E.data.field(g);return null!==F&&null!==te?Fc(F,te):Jn()}(l.field,n,a);switch(l.dir){case"asc":return d;case"desc":return-1*d;default:return Jn()}}function Uo(l,n){if(l.N){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ho(n)?"-0":n}}function wu(l){return{integerValue:""+l}}function ns(l,n){return function ad(l){return"number"==typeof l&&Number.isInteger(l)&&!Ho(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}(n)?wu(n):Uo(l,n)}class Tu{constructor(){this._=void 0}}function Yh(l,n,a){return l instanceof Zl?function(d,g){const b={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:d.seconds,nanos:d.nanoseconds}}}};return g&&(b.fields.__previous_value__=g),{mapValue:b}}(a,n):l instanceof ac?Jd(l,n):l instanceof ra?dd(l,n):function(d,g){const b=Qh(d,g),E=Eu(b)+Eu(d.k);return jl(b)&&jl(d.k)?wu(E):Uo(d.M,E)}(l,n)}function Cp(l,n,a){return l instanceof ac?Jd(l,n):l instanceof ra?dd(l,n):a}function Qh(l,n){return l instanceof Ua?jl(a=n)||(d=a)&&"doubleValue"in d?n:{integerValue:0}:null;var d,a}class Zl extends Tu{}class ac extends Tu{constructor(n){super(),this.elements=n}}function Jd(l,n){const a=Xh(n);for(const d of l.elements)a.some(g=>bi(g,d))||a.push(d);return{arrayValue:{values:a}}}class ra extends Tu{constructor(n){super(),this.elements=n}}function dd(l,n){let a=Xh(n);for(const d of l.elements)a=a.filter(g=>!bi(g,d));return{arrayValue:{values:a}}}class Ua extends Tu{constructor(n,a){super(),this.M=n,this.k=a}}function Eu(l){return yi(l.integerValue||l.doubleValue)}function Xh(l){return co(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}class zl{constructor(n,a){this.version=n,this.transformResults=a}}class qi{constructor(n,a){this.updateTime=n,this.exists=a}static none(){return new qi}static exists(n){return new qi(void 0,n)}static updateTime(n){return new qi(n)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Su(l,n){return void 0!==l.updateTime?n.isFoundDocument()&&n.version.isEqual(l.updateTime):void 0===l.exists||l.exists===n.isFoundDocument()}class xu{}function fl(l,n,a){l instanceof Au?function(d,g,b){const E=d.value.clone(),F=rf(d.fieldTransforms,g,b.transformResults);E.setAll(F),g.convertToFoundDocument(b.version,E).setHasCommittedMutations()}(l,n,a):l instanceof Ms?function(d,g,b){if(!Su(d.precondition,g))return void g.convertToUnknownDocument(b.version);const E=rf(d.fieldTransforms,g,b.transformResults),F=g.data;F.setAll(Cc(d)),F.setAll(E),g.convertToFoundDocument(b.version,F).setHasCommittedMutations()}(l,n,a):n.convertToNoDocument(a.version).setHasCommittedMutations()}function Yd(l,n,a){var g;l instanceof Au?function(d,g,b){if(!Su(d.precondition,g))return;const E=d.value.clone(),F=Wl(d.fieldTransforms,b,g);E.setAll(F),g.convertToFoundDocument(nf(g),E).setHasLocalMutations()}(l,n,a):l instanceof Ms?function(d,g,b){if(!Su(d.precondition,g))return;const E=Wl(d.fieldTransforms,b,g),F=g.data;F.setAll(Cc(d)),F.setAll(E),g.convertToFoundDocument(nf(g),F).setHasLocalMutations()}(l,n,a):Su(l.precondition,g=n)&&g.convertToNoDocument(At.min())}function ef(l,n){let a=null;for(const d of l.fieldTransforms){const g=n.data.field(d.field),b=Qh(d.transform,g||null);null!=b&&(null==a&&(a=lo.empty()),a.set(d.field,b))}return a||null}function tf(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&(d=n.fieldTransforms,!!(void 0===(a=l.fieldTransforms)&&void 0===d||a&&d&&Nt(a,d,(g,b)=>function ql(l,n){return l.field.isEqual(n.field)&&(d=n.transform,(a=l.transform)instanceof ac&&d instanceof ac||a instanceof ra&&d instanceof ra?Nt(a.elements,d.elements,bi):a instanceof Ua&&d instanceof Ua?bi(a.k,d.k):a instanceof Zl&&d instanceof Zl);var a,d}(g,b))))&&(0===l.type?l.value.isEqual(n.value):1!==l.type||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask));var a,d}function nf(l){return l.isFoundDocument()?l.version:At.min()}class Au extends xu{constructor(n,a,d,g=[]){super(),this.key=n,this.value=a,this.precondition=d,this.fieldTransforms=g,this.type=0}}class Ms extends xu{constructor(n,a,d,g,b=[]){super(),this.key=n,this.data=a,this.fieldMask=d,this.precondition=g,this.fieldTransforms=b,this.type=1}}function Cc(l){const n=new Map;return l.fieldMask.fields.forEach(a=>{if(!a.isEmpty()){const d=l.data.field(a);n.set(a,d)}}),n}function rf(l,n,a){const d=new Map;Cr(l.length===a.length);for(let g=0;g<a.length;g++){const b=l[g],E=b.transform,F=n.data.field(b.field);d.set(b.field,Cp(E,F,a[g]))}return d}function Wl(l,n,a){const d=new Map;for(const g of l){const b=g.transform,E=a.data.field(g.field);d.set(g.field,Yh(b,E,n))}return d}class pl extends xu{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=2,this.fieldTransforms=[]}}class Qd extends xu{constructor(n,a){super(),this.key=n,this.precondition=a,this.type=3,this.fieldTransforms=[]}}class wp{constructor(n){this.count=n}}var Io,fi;function Xd(l){switch(l){default:return Jn();case Pt.CANCELLED:case Pt.UNKNOWN:case Pt.DEADLINE_EXCEEDED:case Pt.RESOURCE_EXHAUSTED:case Pt.INTERNAL:case Pt.UNAVAILABLE:case Pt.UNAUTHENTICATED:return!1;case Pt.INVALID_ARGUMENT:case Pt.NOT_FOUND:case Pt.ALREADY_EXISTS:case Pt.PERMISSION_DENIED:case Pt.FAILED_PRECONDITION:case Pt.ABORTED:case Pt.OUT_OF_RANGE:case Pt.UNIMPLEMENTED:case Pt.DATA_LOSS:return!0}}function eh(l){if(void 0===l)return di("GRPC error has no .code"),Pt.UNKNOWN;switch(l){case Io.OK:return Pt.OK;case Io.CANCELLED:return Pt.CANCELLED;case Io.UNKNOWN:return Pt.UNKNOWN;case Io.DEADLINE_EXCEEDED:return Pt.DEADLINE_EXCEEDED;case Io.RESOURCE_EXHAUSTED:return Pt.RESOURCE_EXHAUSTED;case Io.INTERNAL:return Pt.INTERNAL;case Io.UNAVAILABLE:return Pt.UNAVAILABLE;case Io.UNAUTHENTICATED:return Pt.UNAUTHENTICATED;case Io.INVALID_ARGUMENT:return Pt.INVALID_ARGUMENT;case Io.NOT_FOUND:return Pt.NOT_FOUND;case Io.ALREADY_EXISTS:return Pt.ALREADY_EXISTS;case Io.PERMISSION_DENIED:return Pt.PERMISSION_DENIED;case Io.FAILED_PRECONDITION:return Pt.FAILED_PRECONDITION;case Io.ABORTED:return Pt.ABORTED;case Io.OUT_OF_RANGE:return Pt.OUT_OF_RANGE;case Io.UNIMPLEMENTED:return Pt.UNIMPLEMENTED;case Io.DATA_LOSS:return Pt.DATA_LOSS;default:return Jn()}}(fi=Io||(Io={}))[fi.OK=0]="OK",fi[fi.CANCELLED=1]="CANCELLED",fi[fi.UNKNOWN=2]="UNKNOWN",fi[fi.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fi[fi.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fi[fi.NOT_FOUND=5]="NOT_FOUND",fi[fi.ALREADY_EXISTS=6]="ALREADY_EXISTS",fi[fi.PERMISSION_DENIED=7]="PERMISSION_DENIED",fi[fi.UNAUTHENTICATED=16]="UNAUTHENTICATED",fi[fi.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fi[fi.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fi[fi.ABORTED=10]="ABORTED",fi[fi.OUT_OF_RANGE=11]="OUT_OF_RANGE",fi[fi.UNIMPLEMENTED=12]="UNIMPLEMENTED",fi[fi.INTERNAL=13]="INTERNAL",fi[fi.UNAVAILABLE=14]="UNAVAILABLE",fi[fi.DATA_LOSS=15]="DATA_LOSS";class ki{constructor(n,a){this.mapKeyFn=n,this.equalsFn=a,this.inner={},this.innerSize=0}get(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0!==d)for(const[g,b]of d)if(this.equalsFn(g,n))return b}has(n){return void 0!==this.get(n)}set(n,a){const d=this.mapKeyFn(n),g=this.inner[d];if(void 0===g)return this.inner[d]=[[n,a]],void this.innerSize++;for(let b=0;b<g.length;b++)if(this.equalsFn(g[b][0],n))return void(g[b]=[n,a]);g.push([n,a]),this.innerSize++}delete(n){const a=this.mapKeyFn(n),d=this.inner[a];if(void 0===d)return!1;for(let g=0;g<d.length;g++)if(this.equalsFn(d[g][0],n))return 1===d.length?delete this.inner[a]:d.splice(g,1),this.innerSize--,!0;return!1}forEach(n){Tr(this.inner,(a,d)=>{for(const[g,b]of d)n(g,b)})}isEmpty(){return ei(this.inner)}size(){return this.innerSize}}class Co{constructor(n,a){this.comparator=n,this.root=a||Ss.EMPTY}insert(n,a){return new Co(this.comparator,this.root.insert(n,a,this.comparator).copy(null,null,Ss.BLACK,null,null))}remove(n){return new Co(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ss.BLACK,null,null))}get(n){let a=this.root;for(;!a.isEmpty();){const d=this.comparator(n,a.key);if(0===d)return a.value;d<0?a=a.left:d>0&&(a=a.right)}return null}indexOf(n){let a=0,d=this.root;for(;!d.isEmpty();){const g=this.comparator(n,d.key);if(0===g)return a+d.left.size;g<0?d=d.left:(a+=d.left.size+1,d=d.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((a,d)=>(n(a,d),!1))}toString(){const n=[];return this.inorderTraversal((a,d)=>(n.push(`${a}:${d}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new th(this.root,n,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new th(this.root,n,this.comparator,!0)}}class th{constructor(n,a,d,g){this.isReverse=g,this.nodeStack=[];let b=1;for(;!n.isEmpty();)if(b=a?d(n.key,a):1,a&&g&&(b*=-1),b<0)n=this.isReverse?n.left:n.right;else{if(0===b){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const a={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return a}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ss{constructor(n,a,d,g,b){this.key=n,this.value=a,this.color=null!=d?d:Ss.RED,this.left=null!=g?g:Ss.EMPTY,this.right=null!=b?b:Ss.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,a,d,g,b){return new Ss(null!=n?n:this.key,null!=a?a:this.value,null!=d?d:this.color,null!=g?g:this.left,null!=b?b:this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,a,d){let g=this;const b=d(n,g.key);return g=b<0?g.copy(null,null,null,g.left.insert(n,a,d),null):0===b?g.copy(null,a,null,null,null):g.copy(null,null,null,null,g.right.insert(n,a,d)),g.fixUp()}removeMin(){if(this.left.isEmpty())return Ss.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,a){let d,g=this;if(a(n,g.key)<0)g.left.isEmpty()||g.left.isRed()||g.left.left.isRed()||(g=g.moveRedLeft()),g=g.copy(null,null,null,g.left.remove(n,a),null);else{if(g.left.isRed()&&(g=g.rotateRight()),g.right.isEmpty()||g.right.isRed()||g.right.left.isRed()||(g=g.moveRedRight()),0===a(n,g.key)){if(g.right.isEmpty())return Ss.EMPTY;d=g.right.min(),g=g.copy(d.key,d.value,null,null,g.right.removeMin())}g=g.copy(null,null,null,null,g.right.remove(n,a))}return g.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ss.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ss.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),a=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,a)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Jn();const n=this.left.check();if(n!==this.right.check())throw Jn();return n+(this.isRed()?0:1)}}Ss.EMPTY=null,Ss.RED=!0,Ss.BLACK=!1,Ss.EMPTY=new class{constructor(){this.size=0}get key(){throw Jn()}get value(){throw Jn()}get color(){throw Jn()}get left(){throw Jn()}get right(){throw Jn()}copy(l,n,a,d,g){return this}insert(l,n,a){return new Ss(l,n)}remove(l,n){return this}isEmpty(){return!0}inorderTraversal(l){return!1}reverseTraversal(l){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Li{constructor(n){this.comparator=n,this.data=new Co(this.comparator)}has(n){return null!==this.data.get(n)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((a,d)=>(n(a),!1))}forEachInRange(n,a){const d=this.data.getIteratorFrom(n[0]);for(;d.hasNext();){const g=d.getNext();if(this.comparator(g.key,n[1])>=0)return;a(g.key)}}forEachWhile(n,a){let d;for(d=void 0!==a?this.data.getIteratorFrom(a):this.data.getIterator();d.hasNext();)if(!n(d.getNext().key))return}firstAfterOrEqual(n){const a=this.data.getIteratorFrom(n);return a.hasNext()?a.getNext().key:null}getIterator(){return new gl(this.data.getIterator())}getIteratorFrom(n){return new gl(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let a=this;return a.size<n.size&&(a=n,n=this),n.forEach(d=>{a=a.add(d)}),a}isEqual(n){if(!(n instanceof Li)||this.size!==n.size)return!1;const a=this.data.getIterator(),d=n.data.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(0!==this.comparator(g,b))return!1}return!0}toArray(){const n=[];return this.forEach(a=>{n.push(a)}),n}toString(){const n=[];return this.forEach(a=>n.push(a)),"SortedSet("+n.toString()+")"}copy(n){const a=new Li(this.comparator);return a.data=n,a}}class gl{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Iu=new Co(Ln.comparator);function no(){return Iu}const sf=new Co(Ln.comparator);function fs(){return sf}function nh(){return new ki(l=>l.toString(),(l,n)=>l.isEqual(n))}const n0=new Co(Ln.comparator),Tm=new Li(Ln.comparator);function Ai(...l){let n=Tm;for(const a of l)n=n.add(a);return n}const af=new Li(je);function Pu(){return af}class rh{constructor(n,a,d,g,b){this.snapshotVersion=n,this.targetChanges=a,this.targetMismatches=d,this.documentUpdates=g,this.resolvedLimboDocuments=b}static createSynthesizedRemoteEventForCurrentChange(n,a){const d=new Map;return d.set(n,ih.createSynthesizedTargetChangeForCurrentChange(n,a)),new rh(At.min(),d,Pu(),no(),Ai())}}class ih{constructor(n,a,d,g,b){this.resumeToken=n,this.current=a,this.addedDocuments=d,this.modifiedDocuments=g,this.removedDocuments=b}static createSynthesizedTargetChangeForCurrentChange(n,a){return new ih(to.EMPTY_BYTE_STRING,a,Ai(),Ai(),Ai())}}class hd{constructor(n,a,d,g){this.O=n,this.removedTargetIds=a,this.key=d,this.$=g}}class Tp{constructor(n,a){this.targetId=n,this.F=a}}class Ep{constructor(n,a,d=to.EMPTY_BYTE_STRING,g=null){this.state=n,this.targetIds=a,this.resumeToken=d,this.cause=g}}class Dp{constructor(){this.B=0,this.L=fd(),this.q=to.EMPTY_BYTE_STRING,this.U=!1,this.K=!0}get current(){return this.U}get resumeToken(){return this.q}get G(){return 0!==this.B}get j(){return this.K}W(n){n.approximateByteSize()>0&&(this.K=!0,this.q=n)}H(){let n=Ai(),a=Ai(),d=Ai();return this.L.forEach((g,b)=>{switch(b){case 0:n=n.add(g);break;case 2:a=a.add(g);break;case 1:d=d.add(g);break;default:Jn()}}),new ih(this.q,this.U,n,a,d)}J(){this.K=!1,this.L=fd()}Y(n,a){this.K=!0,this.L=this.L.insert(n,a)}X(n){this.K=!0,this.L=this.L.remove(n)}Z(){this.B+=1}tt(){this.B-=1}et(){this.K=!0,this.U=!0}}class Em{constructor(n){this.nt=n,this.st=new Map,this.it=no(),this.rt=cf(),this.ot=new Li(je)}at(n){for(const a of n.O)n.$&&n.$.isFoundDocument()?this.ut(a,n.$):this.ct(a,n.key,n.$);for(const a of n.removedTargetIds)this.ct(a,n.key,n.$)}ht(n){this.forEachTarget(n,a=>{const d=this.lt(a);switch(n.state){case 0:this.ft(a)&&d.W(n.resumeToken);break;case 1:d.tt(),d.G||d.J(),d.W(n.resumeToken);break;case 2:d.tt(),d.G||this.removeTarget(a);break;case 3:this.ft(a)&&(d.et(),d.W(n.resumeToken));break;case 4:this.ft(a)&&(this.dt(a),d.W(n.resumeToken));break;default:Jn()}})}forEachTarget(n,a){n.targetIds.length>0?n.targetIds.forEach(a):this.st.forEach((d,g)=>{this.ft(g)&&a(g)})}_t(n){const a=n.targetId,d=n.F.count,g=this.wt(a);if(g){const b=g.target;if(bo(b))if(0===d){const E=new Ln(b.path);this.ct(a,E,Ci.newNoDocument(E,At.min()))}else Cr(1===d);else this.gt(a)!==d&&(this.dt(a),this.ot=this.ot.add(a))}}yt(n){const a=new Map;this.st.forEach((b,E)=>{const F=this.wt(E);if(F){if(b.current&&bo(F.target)){const te=new Ln(F.target.path);null!==this.it.get(te)||this.It(E,te)||this.ct(E,te,Ci.newNoDocument(te,n))}b.j&&(a.set(E,b.H()),b.J())}});let d=Ai();this.rt.forEach((b,E)=>{let F=!0;E.forEachWhile(te=>{const he=this.wt(te);return!he||2===he.purpose||(F=!1,!1)}),F&&(d=d.add(b))}),this.it.forEach((b,E)=>E.setReadTime(n));const g=new rh(n,a,this.ot,this.it,d);return this.it=no(),this.rt=cf(),this.ot=new Li(je),g}ut(n,a){if(!this.ft(n))return;const d=this.It(n,a.key)?2:0;this.lt(n).Y(a.key,d),this.it=this.it.insert(a.key,a),this.rt=this.rt.insert(a.key,this.Tt(a.key).add(n))}ct(n,a,d){if(!this.ft(n))return;const g=this.lt(n);this.It(n,a)?g.Y(a,1):g.X(a),this.rt=this.rt.insert(a,this.Tt(a).delete(n)),d&&(this.it=this.it.insert(a,d))}removeTarget(n){this.st.delete(n)}gt(n){const a=this.lt(n).H();return this.nt.getRemoteKeysForTarget(n).size+a.addedDocuments.size-a.removedDocuments.size}Z(n){this.lt(n).Z()}lt(n){let a=this.st.get(n);return a||(a=new Dp,this.st.set(n,a)),a}Tt(n){let a=this.rt.get(n);return a||(a=new Li(je),this.rt=this.rt.insert(n,a)),a}ft(n){const a=null!==this.wt(n);return a||_n("WatchChangeAggregator","Detected inactive target",n),a}wt(n){const a=this.st.get(n);return a&&a.G?null:this.nt.Et(n)}dt(n){this.st.set(n,new Dp),this.nt.getRemoteKeysForTarget(n).forEach(a=>{this.ct(n,a,null)})}It(n,a){return this.nt.getRemoteKeysForTarget(n).has(a)}}function cf(){return new Co(Ln.comparator)}function fd(){return new Co(Ln.comparator)}const Sp={asc:"ASCENDING",desc:"DESCENDING"},lf={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Dm{constructor(n,a){this.databaseId=n,this.N=a}}function ho(l,n){return l.N?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function uf(l,n){return l.N?n.toBase64():n.toUint8Array()}function Sm(l,n){return ho(l,n.toTimestamp())}function qo(l){return Cr(!!l),At.fromTimestamp(function(n){const a=vi(n);return new Rn(a.seconds,a.nanos)}(l))}function oh(l,n){return(a=l,new lr(["projects",a.projectId,"databases",a.database])).child("documents").child(n).canonicalString();var a}function xp(l){const n=lr.fromString(l);return Cr(kp(n)),n}function ml(l,n){return oh(l.databaseId,n.path)}function wc(l,n){const a=xp(n);if(a.get(1)!==l.databaseId.projectId)throw new rn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+a.get(1)+" vs "+l.databaseId.projectId);if(a.get(3)!==l.databaseId.database)throw new rn(Pt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+a.get(3)+" vs "+l.databaseId.database);return new Ln(xm(a))}function df(l,n){return oh(l.databaseId,n)}function sh(l){return new lr(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function xm(l){return Cr(l.length>4&&"documents"===l.get(4)),l.popFirst(5)}function Ou(l,n,a){return{name:ml(l,n),fields:a.value.mapValue.fields}}function ah(l,n){return{documents:[df(l,n.path)]}}function Pp(l,n){const a={structuredQuery:{}},d=n.path;null!==n.collectionGroup?(a.parent=df(l,d),a.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(a.parent=df(l,d.popLast()),a.structuredQuery.from=[{collectionId:d.lastSegment()}]);const g=function(te){if(0===te.length)return;const he=te.map(ze=>function(ot){if("=="===ot.op){if(ll(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NAN"}};if(ta(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NULL"}}}else if("!="===ot.op){if(ll(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NOT_NAN"}};if(ta(ot.value))return{unaryFilter:{field:$l(ot.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$l(ot.field),op:Am(ot.op),value:ot.value}}}(ze));return 1===he.length?he[0]:{compositeFilter:{op:"AND",filters:he}}}(n.filters);g&&(a.structuredQuery.where=g);const b=function(te){if(0!==te.length)return te.map(he=>{return{field:$l((ze=he).field),direction:Rp(ze.dir)};var ze})}(n.orderBy);b&&(a.structuredQuery.orderBy=b);const E=(he=n.limit,l.N||$r(he)?he:{value:he});var he,F,te;return null!==E&&(a.structuredQuery.limit=E),n.startAt&&(a.structuredQuery.startAt={before:(F=n.startAt).inclusive,values:F.position}),n.endAt&&(a.structuredQuery.endAt={before:!(te=n.endAt).inclusive,values:te.position}),a}function Op(l){let n=function Ap(l){const n=xp(l);return 4===n.length?lr.emptyPath():xm(n)}(l.parent);const a=l.structuredQuery,d=a.from?a.from.length:0;let g=null;if(d>0){Cr(1===d);const ze=a.from[0];ze.allDescendants?g=ze.collectionId:n=n.child(ze.collectionId)}let b=[];a.where&&(b=Np(a.where));let E=[];a.orderBy&&(E=a.orderBy.map(ze=>{return new St(_l((ot=ze).field),function(xt){switch(xt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ot.direction));var ot}));let F=null;a.limit&&(F=function(ze){let ot;return ot="object"==typeof ze?ze.value:ze,$r(ot)?null:ot}(a.limit));let te=null;var ze;a.startAt&&(te=new mt((ze=a.startAt).values||[],!!ze.before));let he=null;return a.endAt&&(he=function(ze){return new mt(ze.values||[],!ze.before)}(a.endAt)),function ai(l,n,a,d,g,b,E,F){return new fr(l,n,a,d,g,b,E,F)}(n,g,E,b,F,"F",te,he)}function Np(l){return l?void 0!==l.unaryFilter?[Ea(l)]:void 0!==l.fieldFilter?[Im(l)]:void 0!==l.compositeFilter?l.compositeFilter.filters.map(n=>Np(n)).reduce((n,a)=>n.concat(a)):Jn():[]}function Rp(l){return Sp[l]}function Am(l){return lf[l]}function $l(l){return{fieldPath:l.canonicalString()}}function _l(l){return Ji.fromServerFormat(l.fieldPath)}function Im(l){return Fo.create(_l(l.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Jn()}}(l.fieldFilter.op),l.fieldFilter.value)}function Ea(l){switch(l.unaryFilter.op){case"IS_NAN":const n=_l(l.unaryFilter.field);return Fo.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=_l(l.unaryFilter.field);return Fo.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const d=_l(l.unaryFilter.field);return Fo.create(d,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=_l(l.unaryFilter.field);return Fo.create(g,"!=",{nullValue:"NULL_VALUE"});default:return Jn()}}function Pm(l){const n=[];return l.fields.forEach(a=>n.push(a.canonicalString())),{fieldPaths:n}}function kp(l){return l.length>=4&&"projects"===l.get(0)&&"databases"===l.get(2)}const Gp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kt{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(a=>{this.isDone=!0,this.result=a,this.nextCallback&&this.nextCallback(a)},a=>{this.isDone=!0,this.error=a,this.catchCallback&&this.catchCallback(a)})}catch(n){return this.next(void 0,n)}next(n,a){return this.callbackAttached&&Jn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(a,this.error):this.wrapSuccess(n,this.result):new kt((d,g)=>{this.nextCallback=b=>{this.wrapSuccess(n,b).next(d,g)},this.catchCallback=b=>{this.wrapFailure(a,b).next(d,g)}})}toPromise(){return new Promise((n,a)=>{this.next(n,a)})}wrapUserFunction(n){try{const a=n();return a instanceof kt?a:kt.resolve(a)}catch(a){return kt.reject(a)}}wrapSuccess(n,a){return n?this.wrapUserFunction(()=>n(a)):kt.resolve(a)}wrapFailure(n,a){return n?this.wrapUserFunction(()=>n(a)):kt.reject(a)}static resolve(n){return new kt((a,d)=>{a(n)})}static reject(n){return new kt((a,d)=>{d(n)})}static waitFor(n){return new kt((a,d)=>{let g=0,b=0,E=!1;n.forEach(F=>{++g,F.next(()=>{++b,E&&b===g&&a()},te=>d(te))}),E=!0,b===g&&a()})}static or(n){let a=kt.resolve(!1);for(const d of n)a=a.next(g=>g?kt.resolve(g):d());return a}static forEach(n,a){const d=[];return n.forEach((g,b)=>{d.push(a.call(this,g,b))}),this.waitFor(d)}}function Tc(l){return"IndexedDbTransactionError"===l.name}class Rs{constructor(n,a,d,g){this.batchId=n,this.localWriteTime=a,this.baseMutations=d,this.mutations=g}applyToRemoteDocument(n,a){const d=a.mutationResults;for(let g=0;g<this.mutations.length;g++){const b=this.mutations[g];b.key.isEqual(n.key)&&fl(b,n,d[g])}}applyToLocalView(n){for(const a of this.baseMutations)a.key.isEqual(n.key)&&Yd(a,n,this.localWriteTime);for(const a of this.mutations)a.key.isEqual(n.key)&&Yd(a,n,this.localWriteTime)}applyToLocalDocumentSet(n){this.mutations.forEach(a=>{const d=n.get(a.key),g=d;this.applyToLocalView(g),d.isValidDocument()||g.convertToNoDocument(At.min())})}keys(){return this.mutations.reduce((n,a)=>n.add(a.key),Ai())}isEqual(n){return this.batchId===n.batchId&&Nt(this.mutations,n.mutations,(a,d)=>tf(a,d))&&Nt(this.baseMutations,n.baseMutations,(a,d)=>tf(a,d))}}class sa{constructor(n,a,d,g){this.batch=n,this.commitVersion=a,this.mutationResults=d,this.docVersions=g}static from(n,a,d){Cr(n.mutations.length===d.length);let g=n0;const b=n.mutations;for(let E=0;E<b.length;E++)g=g.insert(b[E].key,d[E].version);return new sa(n,a,d,g)}}class aa{constructor(n,a){this.largestBatchId=n,this.mutation=a}getKey(){return this.mutation.key}isEqual(n){return null!==n&&this.mutation===n.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Ga{constructor(n,a,d,g,b=At.min(),E=At.min(),F=to.EMPTY_BYTE_STRING){this.target=n,this.targetId=a,this.purpose=d,this.sequenceNumber=g,this.snapshotVersion=b,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=F}withSequenceNumber(n){return new Ga(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(n,a){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,a,this.lastLimboFreeSnapshotVersion,n)}withLastLimboFreeSnapshotVersion(n){return new Ga(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken)}}class ku{constructor(n){this.Jt=n}}function Cf(l){const n=Op({parent:l.parent,structuredQuery:l.structuredQuery});return"LAST"===l.limitType?function Hc(l,n,a){return new fr(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,a,l.startAt,l.endAt)}(n,n.limit,"L"):n}class Ec{constructor(){}Zt(n,a){this.te(n,a),a.ee()}te(n,a){if("nullValue"in n)this.ne(a,5);else if("booleanValue"in n)this.ne(a,10),a.se(n.booleanValue?1:0);else if("integerValue"in n)this.ne(a,15),a.se(yi(n.integerValue));else if("doubleValue"in n){const d=yi(n.doubleValue);isNaN(d)?this.ne(a,13):(this.ne(a,15),Ho(d)?a.se(0):a.se(d))}else if("timestampValue"in n){const d=n.timestampValue;this.ne(a,20),"string"==typeof d?a.ie(d):(a.ie(`${d.seconds||""}`),a.se(d.nanos||0))}else if("stringValue"in n)this.re(n.stringValue,a),this.oe(a);else if("bytesValue"in n)this.ne(a,30),a.ae(us(n.bytesValue)),this.oe(a);else if("referenceValue"in n)this.ue(n.referenceValue,a);else if("geoPointValue"in n){const d=n.geoPointValue;this.ne(a,45),a.se(d.latitude||0),a.se(d.longitude||0)}else"mapValue"in n?yu(n)?this.ne(a,Number.MAX_SAFE_INTEGER):(this.ce(n.mapValue,a),this.oe(a)):"arrayValue"in n?(this.he(n.arrayValue,a),this.oe(a)):Jn()}re(n,a){this.ne(a,25),this.le(n,a)}le(n,a){a.ie(n)}ce(n,a){const d=n.fields||{};this.ne(a,55);for(const g of Object.keys(d))this.re(g,a),this.te(d[g],a)}he(n,a){const d=n.values||[];this.ne(a,50);for(const g of d)this.te(g,a)}ue(n,a){this.ne(a,37),Ln.fromName(n).path.forEach(d=>{this.ne(a,60),this.le(d,a)})}ne(n,a){n.se(a)}oe(n){n.se(2)}}Ec.fe=new Ec;class _h{constructor(){this.Ue=new bd}addToCollectionParentIndex(n,a){return this.Ue.add(a),kt.resolve()}getCollectionParents(n,a){return kt.resolve(this.Ue.getEntries(a))}addFieldIndex(n,a){return kt.resolve()}deleteFieldIndex(n,a){return kt.resolve()}getDocumentsMatchingTarget(n,a){return kt.resolve(null)}getFieldIndex(n,a){return kt.resolve(null)}getFieldIndexes(n,a){return kt.resolve([])}getNextCollectionGroupToUpdate(n){return kt.resolve(null)}updateCollectionGroup(n,a,d){return kt.resolve()}updateIndexEntries(n,a){return kt.resolve()}}class bd{constructor(){this.index={}}add(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a]||new Li(lr.comparator),b=!g.has(d);return this.index[a]=g.add(d),b}has(n){const a=n.lastSegment(),d=n.popLast(),g=this.index[a];return g&&g.has(d)}getEntries(n){return(this.index[n]||new Li(lr.comparator)).toArray()}}new Uint8Array(0);class $s{constructor(n,a,d){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=a,this.maximumSequenceNumbersToCollect=d}static withCacheSize(n){return new $s(n,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$s.DEFAULT_COLLECTION_PERCENTILE=10,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$s.DEFAULT=new $s(41943040,$s.DEFAULT_COLLECTION_PERCENTILE,$s.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$s.DISABLED=new $s(-1,0,0);class Ql{constructor(n){this.wn=n}next(){return this.wn+=2,this.wn}static mn(){return new Ql(0)}static gn(){return new Ql(-1)}}function Dl(l){return wd.apply(this,arguments)}function wd(){return wd=(0,p.Z)(function*(l){if(l.code!==Pt.FAILED_PRECONDITION||l.message!==Gp)throw l;_n("LocalStore","Unexpectedly lost primary lease")}),wd.apply(this,arguments)}class ju{constructor(n,a,d){this.ls=n,this.Fs=a,this.indexManager=d}Bs(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKey(n,a).next(d=>this.Ls(n,a,d))}Ls(n,a,d){return this.ls.getEntry(n,a).next(g=>{for(const b of d)b.applyToLocalView(g);return g})}qs(n,a){n.forEach((d,g)=>{for(const b of a)b.applyToLocalView(g)})}Us(n,a){return this.ls.getEntries(n,a).next(d=>this.Ks(n,d).next(()=>d))}Ks(n,a){return this.Fs.getAllMutationBatchesAffectingDocumentKeys(n,a).next(d=>this.qs(a,d))}Gs(n,a,d){return Ln.isDocumentKey((g=a).path)&&null===g.collectionGroup&&0===g.filters.length?this.Qs(n,a.path):function Ds(l){return null!==l.collectionGroup}(a)?this.js(n,a,d):this.Ws(n,a,d);var g}Qs(n,a){return this.Bs(n,new Ln(a)).next(d=>{let g=fs();return d.isFoundDocument()&&(g=g.insert(d.key,d)),g})}js(n,a,d){const g=a.collectionGroup;let b=fs();return this.indexManager.getCollectionParents(n,g).next(E=>kt.forEach(E,F=>{const te=(he=a,ze=F.child(g),new fr(ze,null,he.explicitOrderBy.slice(),he.filters.slice(),he.limit,he.limitType,he.startAt,he.endAt));var he,ze;return this.Ws(n,te,d).next(he=>{he.forEach((ze,ot)=>{b=b.insert(ze,ot)})})}).next(()=>b))}Ws(n,a,d){let g;return this.ls.getAll(n,a.path,d).next(b=>(g=b,this.Fs.getAllMutationBatchesAffectingQuery(n,a))).next(b=>{for(const E of b)for(const F of E.mutations){const te=F.key;let he=g.get(te);null==he&&(he=Ci.newInvalidDocument(te),g=g.insert(te,he)),Yd(F,he,E.localWriteTime),he.isFoundDocument()||(g=g.remove(te))}}).next(()=>(g.forEach((b,E)=>{Hl(a,E)||(g=g.remove(b))}),g))}}class eu{constructor(n,a,d,g){this.targetId=n,this.fromCache=a,this.zs=d,this.Hs=g}static Js(n,a){let d=Ai(),g=Ai();for(const b of a.docChanges)switch(b.type){case 0:d=d.add(b.doc.key);break;case 1:g=g.add(b.doc.key)}return new eu(n,a.fromCache,d,g)}}class tu{Ys(n){this.Xs=n}Gs(n,a,d,g){return 0===(b=a).filters.length&&null===b.limit&&null==b.startAt&&null==b.endAt&&(0===b.explicitOrderBy.length||1===b.explicitOrderBy.length&&b.explicitOrderBy[0].field.isKeyField())||d.isEqual(At.min())?this.Zs(n,a):this.Xs.Us(n,g).next(b=>{const E=this.ti(a,b);return(Bo(a)||uo(a))&&this.ei(a.limitType,E,g,d)?this.Zs(n,a):(Hs()<=N.in.DEBUG&&_n("QueryEngine","Re-using previous result from %s to execute query: %s",d.toString(),bc(a)),this.Xs.Gs(n,a,d).next(F=>(E.forEach(te=>{F=F.insert(te.key,te)}),F)))});var b}ti(n,a){let d=new Li(ud(n));return a.forEach((g,b)=>{Hl(n,b)&&(d=d.add(b))}),d}ei(n,a,d,g){if(d.size!==a.size)return!0;const b="F"===n?a.last():a.first();return!!b&&(b.hasPendingWrites||b.version.compareTo(g)>0)}Zs(n,a){return Hs()<=N.in.DEBUG&&_n("QueryEngine","Using full collection scan to execute query:",bc(a)),this.Xs.Gs(n,a,At.min())}}class Td{constructor(n,a,d,g){this.persistence=n,this.ni=a,this.M=g,this.si=new Co(je),this.ii=new ki(b=>Ba(b),wa),this.ri=At.min(),this.oi=n.getRemoteDocumentCache(),this.hs=n.getTargetCache(),this.fs=n.getBundleCache(),this.ai(d)}ai(n){this.indexManager=this.persistence.getIndexManager(n),this.Fs=this.persistence.getMutationQueue(n,this.indexManager),this.ui=new ju(this.oi,this.Fs,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ui)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",a=>n.collect(a,this.si))}}function Ch(l,n){return Vu.apply(this,arguments)}function Vu(){return Vu=(0,p.Z)(function*(l,n){const a=Nn(l);return yield a.persistence.runTransaction("Handle user change","readonly",d=>{let g;return a.Fs.getAllMutationBatches(d).next(b=>(g=b,a.ai(n),a.Fs.getAllMutationBatches(d))).next(b=>{const E=[],F=[];let te=Ai();for(const he of g){E.push(he.batchId);for(const ze of he.mutations)te=te.add(ze.key)}for(const he of b){F.push(he.batchId);for(const ze of he.mutations)te=te.add(ze.key)}return a.ui.Us(d,te).next(he=>({ci:he,removedBatchIds:E,addedBatchIds:F}))})})}),Vu.apply(this,arguments)}function Sf(l,n){const a=Nn(l);return a.persistence.runTransaction("Acknowledge batch","readwrite-primary",d=>{const g=n.batch.keys(),b=a.oi.newChangeBuffer({trackRemovals:!0});return function(E,F,te,he){const ze=te.batch,ot=ze.keys();let xt=kt.resolve();return ot.forEach(Kt=>{xt=xt.next(()=>he.getEntry(F,Kt)).next(an=>{const ar=te.docVersions.get(Kt);Cr(null!==ar),an.version.compareTo(ar)<0&&(ze.applyToRemoteDocument(an,te),an.isValidDocument()&&(an.setReadTime(te.commitVersion),he.addEntry(an)))})}),xt.next(()=>E.Fs.removeMutationBatch(F,ze))}(a,d,n,b).next(()=>b.apply(d)).next(()=>a.Fs.performConsistencyCheck(d)).next(()=>a.ui.Us(d,g))})}function Ed(l){const n=Nn(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",a=>n.hs.getLastRemoteSnapshotVersion(a))}function Wp(l,n){const a=Nn(l),d=n.snapshotVersion;let g=a.si;return a.persistence.runTransaction("Apply remote event","readwrite-primary",b=>{const E=a.oi.newChangeBuffer({trackRemovals:!0});g=a.si;const F=[];n.targetChanges.forEach((he,ze)=>{const ot=g.get(ze);if(!ot)return;F.push(a.hs.removeMatchingKeys(b,he.removedDocuments,ze).next(()=>a.hs.addMatchingKeys(b,he.addedDocuments,ze)));let xt=ot.withSequenceNumber(b.currentSequenceNumber);var Kt,an,ar;n.targetMismatches.has(ze)?xt=xt.withResumeToken(to.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):he.resumeToken.approximateByteSize()>0&&(xt=xt.withResumeToken(he.resumeToken,d)),g=g.insert(ze,xt),an=xt,ar=he,(0===(Kt=ot).resumeToken.approximateByteSize()||an.snapshotVersion.toMicroseconds()-Kt.snapshotVersion.toMicroseconds()>=3e8||ar.addedDocuments.size+ar.modifiedDocuments.size+ar.removedDocuments.size>0)&&F.push(a.hs.updateTargetData(b,xt))});let te=no();if(n.documentUpdates.forEach(he=>{n.resolvedLimboDocuments.has(he)&&F.push(a.persistence.referenceDelegate.updateLimboDocument(b,he))}),F.push(function xf(l,n,a){let d=Ai();return a.forEach(g=>d=d.add(g)),n.getEntries(l,d).next(g=>{let b=no();return a.forEach((E,F)=>{const te=g.get(E);F.isNoDocument()&&F.version.isEqual(At.min())?(n.removeEntry(E,F.readTime),b=b.insert(E,F)):!te.isValidDocument()||F.version.compareTo(te.version)>0||0===F.version.compareTo(te.version)&&te.hasPendingWrites?(n.addEntry(F),b=b.insert(E,F)):_n("LocalStore","Ignoring outdated watch update for ",E,". Current version:",te.version," Watch version:",F.version)}),b})}(b,E,n.documentUpdates).next(he=>{te=he})),!d.isEqual(At.min())){const he=a.hs.getLastRemoteSnapshotVersion(b).next(ze=>a.hs.setTargetsMetadata(b,b.currentSequenceNumber,d));F.push(he)}return kt.waitFor(F).next(()=>E.apply(b)).next(()=>a.ui.Ks(b,te)).next(()=>te)}).then(b=>(a.si=g,b))}function o0(l,n){const a=Nn(l);return a.persistence.runTransaction("Get next mutation batch","readonly",d=>(void 0===n&&(n=-1),a.Fs.getNextMutationBatchAfterBatchId(d,n)))}function wh(l,n){const a=Nn(l);return a.persistence.runTransaction("Allocate target","readwrite",d=>{let g;return a.hs.getTargetData(d,n).next(b=>b?(g=b,kt.resolve(g)):a.hs.allocateTargetId(d).next(E=>(g=new Ga(n,E,0,d.currentSequenceNumber),a.hs.addTargetData(d,g).next(()=>g))))}).then(d=>{const g=a.si.get(d.targetId);return(null===g||d.snapshotVersion.compareTo(g.snapshotVersion)>0)&&(a.si=a.si.insert(d.targetId,d),a.ii.set(n,d.targetId)),d})}function Gu(l,n,a){return Af.apply(this,arguments)}function Af(){return Af=(0,p.Z)(function*(l,n,a){const d=Nn(l),g=d.si.get(n),b=a?"readwrite":"readwrite-primary";try{a||(yield d.persistence.runTransaction("Release target",b,E=>d.persistence.referenceDelegate.removeTarget(E,g)))}catch(E){if(!Tc(E))throw E;_n("LocalStore",`Failed to update sequence numbers for target ${n}: ${E}`)}d.si=d.si.remove(n),d.ii.delete(g.target)}),Af.apply(this,arguments)}function If(l,n,a){const d=Nn(l);let g=At.min(),b=Ai();return d.persistence.runTransaction("Execute query","readonly",E=>function(F,te,he){const ze=Nn(F),ot=ze.ii.get(he);return void 0!==ot?kt.resolve(ze.si.get(ot)):ze.hs.getTargetData(te,he)}(d,E,Yi(n)).next(F=>{if(F)return g=F.lastLimboFreeSnapshotVersion,d.hs.getMatchingKeysForTargetId(E,F.targetId).next(te=>{b=te})}).next(()=>d.ni.Gs(E,n,a?g:At.min(),a?b:Ai())).next(F=>({documents:F,hi:b})))}class Hv{constructor(n){this.M=n,this._i=new Map,this.wi=new Map}getBundleMetadata(n,a){return kt.resolve(this._i.get(a))}saveBundleMetadata(n,a){var d;return this._i.set(a.id,{id:(d=a).id,version:d.version,createTime:qo(d.createTime)}),kt.resolve()}getNamedQuery(n,a){return kt.resolve(this.wi.get(a))}saveNamedQuery(n,a){return this.wi.set(a.name,{name:(d=a).name,query:Cf(d.bundledQuery),readTime:qo(d.readTime)}),kt.resolve();var d}}class Zv{constructor(){this.overlays=new Co(Ln.comparator),this.mi=new Map}getOverlay(n,a){return kt.resolve(this.overlays.get(a))}saveOverlays(n,a,d){return d.forEach((g,b)=>{this.Xt(n,a,b)}),kt.resolve()}removeOverlaysForBatchId(n,a,d){const g=this.mi.get(d);return void 0!==g&&(g.forEach(b=>this.overlays=this.overlays.remove(b)),this.mi.delete(d)),kt.resolve()}getOverlaysForCollection(n,a,d){const g=nh(),b=a.length+1,E=new Ln(a.child("")),F=this.overlays.getIteratorFrom(E);for(;F.hasNext();){const te=F.getNext().value,he=te.getKey();if(!a.isPrefixOf(he.path))break;he.path.length===b&&te.largestBatchId>d&&g.set(te.getKey(),te)}return kt.resolve(g)}getOverlaysForCollectionGroup(n,a,d,g){let b=new Co((he,ze)=>he-ze);const E=this.overlays.getIterator();for(;E.hasNext();){const he=E.getNext().value;if(he.getKey().getCollectionGroup()===a&&he.largestBatchId>d){let ze=b.get(he.largestBatchId);null===ze&&(ze=nh(),b=b.insert(he.largestBatchId,ze)),ze.set(he.getKey(),he)}}const F=nh(),te=b.getIterator();for(;te.hasNext()&&(te.getNext().value.forEach((he,ze)=>F.set(he,ze)),!(F.size()>=g)););return kt.resolve(F)}Xt(n,a,d){if(null===d)return;const g=this.overlays.get(d.key);if(null!==g){const E=this.mi.get(g.largestBatchId).delete(d.key);this.mi.set(g.largestBatchId,E)}this.overlays=this.overlays.insert(d.key,new aa(a,d));let b=this.mi.get(a);void 0===b&&(b=Ai(),this.mi.set(a,b)),this.mi.set(a,b.add(d.key))}}class Fm{constructor(){this.gi=new Li(_o.yi),this.pi=new Li(_o.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(n,a){const d=new _o(n,a);this.gi=this.gi.add(d),this.pi=this.pi.add(d)}Ti(n,a){n.forEach(d=>this.addReference(d,a))}removeReference(n,a){this.Ei(new _o(n,a))}Ai(n,a){n.forEach(d=>this.removeReference(d,a))}Ri(n){const a=new Ln(new lr([])),d=new _o(a,n),g=new _o(a,n+1),b=[];return this.pi.forEachInRange([d,g],E=>{this.Ei(E),b.push(E.key)}),b}bi(){this.gi.forEach(n=>this.Ei(n))}Ei(n){this.gi=this.gi.delete(n),this.pi=this.pi.delete(n)}Pi(n){const a=new Ln(new lr([])),d=new _o(a,n),g=new _o(a,n+1);let b=Ai();return this.pi.forEachInRange([d,g],E=>{b=b.add(E.key)}),b}containsKey(n){const a=new _o(n,0),d=this.gi.firstAfterOrEqual(a);return null!==d&&n.isEqual(d.key)}}class _o{constructor(n,a){this.key=n,this.Vi=a}static yi(n,a){return Ln.comparator(n.key,a.key)||je(n.Vi,a.Vi)}static Ii(n,a){return je(n.Vi,a.Vi)||Ln.comparator(n.key,a.key)}}class $p{constructor(n,a){this.indexManager=n,this.referenceDelegate=a,this.Fs=[],this.vi=1,this.Si=new Li(_o.yi)}checkEmpty(n){return kt.resolve(0===this.Fs.length)}addMutationBatch(n,a,d,g){const b=this.vi;this.vi++;const E=new Rs(b,a,d,g);this.Fs.push(E);for(const F of g)this.Si=this.Si.add(new _o(F.key,b)),this.indexManager.addToCollectionParentIndex(n,F.key.path.popLast());return kt.resolve(E)}lookupMutationBatch(n,a){return kt.resolve(this.Di(a))}getNextMutationBatchAfterBatchId(n,a){const g=this.Ci(a+1),b=g<0?0:g;return kt.resolve(this.Fs.length>b?this.Fs[b]:null)}getHighestUnacknowledgedBatchId(){return kt.resolve(0===this.Fs.length?-1:this.vi-1)}getAllMutationBatches(n){return kt.resolve(this.Fs.slice())}getAllMutationBatchesAffectingDocumentKey(n,a){const d=new _o(a,0),g=new _o(a,Number.POSITIVE_INFINITY),b=[];return this.Si.forEachInRange([d,g],E=>{const F=this.Di(E.Vi);b.push(F)}),kt.resolve(b)}getAllMutationBatchesAffectingDocumentKeys(n,a){let d=new Li(je);return a.forEach(g=>{const b=new _o(g,0),E=new _o(g,Number.POSITIVE_INFINITY);this.Si.forEachInRange([b,E],F=>{d=d.add(F.Vi)})}),kt.resolve(this.xi(d))}getAllMutationBatchesAffectingQuery(n,a){const d=a.path,g=d.length+1;let b=d;Ln.isDocumentKey(b)||(b=b.child(""));const E=new _o(new Ln(b),0);let F=new Li(je);return this.Si.forEachWhile(te=>{const he=te.key.path;return!!d.isPrefixOf(he)&&(he.length===g&&(F=F.add(te.Vi)),!0)},E),kt.resolve(this.xi(F))}xi(n){const a=[];return n.forEach(d=>{const g=this.Di(d);null!==g&&a.push(g)}),a}removeMutationBatch(n,a){Cr(0===this.Ni(a.batchId,"removed")),this.Fs.shift();let d=this.Si;return kt.forEach(a.mutations,g=>{const b=new _o(g.key,a.batchId);return d=d.delete(b),this.referenceDelegate.markPotentiallyOrphaned(n,g.key)}).next(()=>{this.Si=d})}dn(n){}containsKey(n,a){const d=new _o(a,0),g=this.Si.firstAfterOrEqual(d);return kt.resolve(a.isEqual(g&&g.key))}performConsistencyCheck(n){return kt.resolve()}Ni(n,a){return this.Ci(n)}Ci(n){return 0===this.Fs.length?0:n-this.Fs[0].batchId}Di(n){const a=this.Ci(n);return a<0||a>=this.Fs.length?null:this.Fs[a]}}class s0{constructor(n){this.ki=n,this.docs=new Co(Ln.comparator),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,a){const d=a.key,g=this.docs.get(d),b=g?g.size:0,E=this.ki(a);return this.docs=this.docs.insert(d,{document:a.mutableCopy(),size:E}),this.size+=E-b,this.indexManager.addToCollectionParentIndex(n,d.path.popLast())}removeEntry(n){const a=this.docs.get(n);a&&(this.docs=this.docs.remove(n),this.size-=a.size)}getEntry(n,a){const d=this.docs.get(a);return kt.resolve(d?d.document.mutableCopy():Ci.newInvalidDocument(a))}getEntries(n,a){let d=no();return a.forEach(g=>{const b=this.docs.get(g);d=d.insert(g,b?b.document.mutableCopy():Ci.newInvalidDocument(g))}),kt.resolve(d)}getAll(n,a,d){let g=no();const b=new Ln(a.child("")),E=this.docs.getIteratorFrom(b);for(;E.hasNext();){const{key:F,value:{document:te}}=E.getNext();if(!a.isPrefixOf(F.path))break;F.path.length>a.length+1||te.readTime.compareTo(d)<=0||(g=g.insert(te.key,te.mutableCopy()))}return kt.resolve(g)}Mi(n,a){return kt.forEach(this.docs,d=>a(d))}newChangeBuffer(n){return new Bm(this)}getSize(n){return kt.resolve(this.size)}}class Bm extends class L{constructor(){this.changes=new ki(n=>n.toString(),(n,a)=>n.isEqual(a)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,a){this.assertNotApplied(),this.changes.set(n,Ci.newInvalidDocument(n).setReadTime(a))}getEntry(n,a){this.assertNotApplied();const d=this.changes.get(a);return void 0!==d?kt.resolve(d):this.getFromCache(n,a)}getEntries(n,a){return this.getAllFromCache(n,a)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}{constructor(n){super(),this.Un=n}applyChanges(n){const a=[];return this.changes.forEach((d,g)=>{g.isValidDocument()?a.push(this.Un.addEntry(n,g)):this.Un.removeEntry(d)}),kt.waitFor(a)}getFromCache(n,a){return this.Un.getEntry(n,a)}getAllFromCache(n,a){return this.Un.getEntries(n,a)}}class Kp{constructor(n){this.persistence=n,this.Oi=new ki(a=>Ba(a),wa),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.$i=0,this.Fi=new Fm,this.targetCount=0,this.Bi=Ql.mn()}forEachTarget(n,a){return this.Oi.forEach((d,g)=>a(g)),kt.resolve()}getLastRemoteSnapshotVersion(n){return kt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return kt.resolve(this.$i)}allocateTargetId(n){return this.highestTargetId=this.Bi.next(),kt.resolve(this.highestTargetId)}setTargetsMetadata(n,a,d){return d&&(this.lastRemoteSnapshotVersion=d),a>this.$i&&(this.$i=a),kt.resolve()}In(n){this.Oi.set(n.target,n);const a=n.targetId;a>this.highestTargetId&&(this.Bi=new Ql(a),this.highestTargetId=a),n.sequenceNumber>this.$i&&(this.$i=n.sequenceNumber)}addTargetData(n,a){return this.In(a),this.targetCount+=1,kt.resolve()}updateTargetData(n,a){return this.In(a),kt.resolve()}removeTargetData(n,a){return this.Oi.delete(a.target),this.Fi.Ri(a.targetId),this.targetCount-=1,kt.resolve()}removeTargets(n,a,d){let g=0;const b=[];return this.Oi.forEach((E,F)=>{F.sequenceNumber<=a&&null===d.get(F.targetId)&&(this.Oi.delete(E),b.push(this.removeMatchingKeysForTargetId(n,F.targetId)),g++)}),kt.waitFor(b).next(()=>g)}getTargetCount(n){return kt.resolve(this.targetCount)}getTargetData(n,a){const d=this.Oi.get(a)||null;return kt.resolve(d)}addMatchingKeys(n,a,d){return this.Fi.Ti(a,d),kt.resolve()}removeMatchingKeys(n,a,d){this.Fi.Ai(a,d);const g=this.persistence.referenceDelegate,b=[];return g&&a.forEach(E=>{b.push(g.markPotentiallyOrphaned(n,E))}),kt.waitFor(b)}removeMatchingKeysForTargetId(n,a){return this.Fi.Ri(a),kt.resolve()}getMatchingKeysForTargetId(n,a){const d=this.Fi.Pi(a);return kt.resolve(d)}containsKey(n,a){return kt.resolve(this.Fi.containsKey(a))}}class a0{constructor(n,a){this.Li={},this.overlays={},this.Zn=new $(0),this.ts=!1,this.ts=!0,this.referenceDelegate=n(this),this.hs=new Kp(this),this.indexManager=new _h,this.ls=new s0(d=>this.referenceDelegate.qi(d)),this.M=new ku(a),this.fs=new Hv(this.M)}start(){return Promise.resolve()}shutdown(){return this.ts=!1,Promise.resolve()}get started(){return this.ts}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let a=this.overlays[n.toKey()];return a||(a=new Zv,this.overlays[n.toKey()]=a),a}getMutationQueue(n,a){let d=this.Li[n.toKey()];return d||(d=new $p(a,this.referenceDelegate),this.Li[n.toKey()]=d),d}getTargetCache(){return this.hs}getRemoteDocumentCache(){return this.ls}getBundleCache(){return this.fs}runTransaction(n,a,d){_n("MemoryPersistence","Starting transaction:",n);const g=new Jp(this.Zn.next());return this.referenceDelegate.Ui(),d(g).next(b=>this.referenceDelegate.Ki(g).next(()=>b)).toPromise().then(b=>(g.raiseOnCommittedEvent(),b))}Gi(n,a){return kt.or(Object.values(this.Li).map(d=>()=>d.containsKey(n,a)))}}class Jp extends class oa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}{constructor(n){super(),this.currentSequenceNumber=n}}class Yp{constructor(n){this.persistence=n,this.Qi=new Fm,this.ji=null}static Wi(n){return new Yp(n)}get zi(){if(this.ji)return this.ji;throw Jn()}addReference(n,a,d){return this.Qi.addReference(d,a),this.zi.delete(d.toString()),kt.resolve()}removeReference(n,a,d){return this.Qi.removeReference(d,a),this.zi.add(d.toString()),kt.resolve()}markPotentiallyOrphaned(n,a){return this.zi.add(a.toString()),kt.resolve()}removeTarget(n,a){this.Qi.Ri(a.targetId).forEach(g=>this.zi.add(g.toString()));const d=this.persistence.getTargetCache();return d.getMatchingKeysForTargetId(n,a.targetId).next(g=>{g.forEach(b=>this.zi.add(b.toString()))}).next(()=>d.removeTargetData(n,a))}Ui(){this.ji=new Set}Ki(n){const a=this.persistence.getRemoteDocumentCache().newChangeBuffer();return kt.forEach(this.zi,d=>{const g=Ln.fromPath(d);return this.Hi(n,g).next(b=>{b||a.removeEntry(g,At.min())})}).next(()=>(this.ji=null,a.apply(n)))}updateLimboDocument(n,a){return this.Hi(n,a).next(d=>{d?this.zi.delete(a.toString()):this.zi.add(a.toString())})}qi(n){return 0}Hi(n,a){return kt.or([()=>kt.resolve(this.Qi.containsKey(a)),()=>this.persistence.getTargetCache().containsKey(n,a),()=>this.persistence.Gi(n,a)])}}class jm{constructor(){this.activeTargetIds=Pu()}Xi(n){this.activeTargetIds=this.activeTargetIds.add(n)}Zi(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Yi(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class xd{constructor(){this.Or=new jm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,a,d){}addLocalQueryTarget(n){return this.Or.Xi(n),this.$r[n]||"not-current"}updateQueryState(n,a,d){this.$r[n]=a}removeLocalQueryTarget(n){this.Or.Zi(n)}isLocalQueryTarget(n){return this.Or.activeTargetIds.has(n)}clearQueryState(n){delete this.$r[n]}getAllActiveQueryTargets(){return this.Or.activeTargetIds}isActiveQueryTarget(n){return this.Or.activeTargetIds.has(n)}start(){return this.Or=new jm,Promise.resolve()}handleUserChange(n,a,d){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(){}}class eg{Fr(n){}shutdown(){}}class Hu{constructor(){this.Br=()=>this.Lr(),this.qr=()=>this.Ur(),this.Kr=[],this.Gr()}Fr(n){this.Kr.push(n)}shutdown(){window.removeEventListener("online",this.Br),window.removeEventListener("offline",this.qr)}Gr(){window.addEventListener("online",this.Br),window.addEventListener("offline",this.qr)}Lr(){_n("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const n of this.Kr)n(0)}Ur(){_n("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const n of this.Kr)n(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Th={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Eh{constructor(n){this.Qr=n.Qr,this.jr=n.jr}Wr(n){this.zr=n}Hr(n){this.Jr=n}onMessage(n){this.Yr=n}close(){this.jr()}send(n){this.Qr(n)}Xr(){this.zr()}Zr(n){this.Jr(n)}eo(n){this.Yr(n)}}class qv extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId,this.no=(n.ssl?"https":"http")+"://"+n.host,this.so="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}io(n,a,d,g,b){const E=this.ro(n,a);_n("RestConnection","Sending: ",E,d);const F={};return this.oo(F,g,b),this.ao(n,E,F,d).then(te=>(_n("RestConnection","Received: ",te),te),te=>{throw rc("RestConnection",`${n} failed with error: `,te,"url: ",E,"request:",d),te})}uo(n,a,d,g,b){return this.io(n,a,d,g,b)}oo(n,a,d){n["X-Goog-Api-Client"]="gl-js/ fire/"+So,n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((g,b)=>n[b]=g),d&&d.headers.forEach((g,b)=>n[b]=g)}ro(n,a){return`${this.no}/v1/${a}:${Th[n]}`}}{constructor(n){super(n),this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams}ao(n,a,d,g){return new Promise((b,E)=>{const F=new ka;F.listenOnce(Gs.COMPLETE,()=>{try{switch(F.getLastErrorCode()){case Vs.NO_ERROR:const he=F.getResponseJson();_n("Connection","XHR received:",JSON.stringify(he)),b(he);break;case Vs.TIMEOUT:_n("Connection",'RPC "'+n+'" timed out'),E(new rn(Pt.DEADLINE_EXCEEDED,"Request time out"));break;case Vs.HTTP_ERROR:const ze=F.getStatus();if(_n("Connection",'RPC "'+n+'" failed with status:',ze,"response text:",F.getResponseText()),ze>0){const ot=F.getResponseJson().error;if(ot&&ot.status&&ot.message){const xt=function(Kt){const an=Kt.toLowerCase().replace(/_/g,"-");return Object.values(Pt).indexOf(an)>=0?an:Pt.UNKNOWN}(ot.status);E(new rn(xt,ot.message))}else E(new rn(Pt.UNKNOWN,"Server responded with status "+F.getStatus()))}else E(new rn(Pt.UNAVAILABLE,"Connection failed."));break;default:Jn()}}finally{_n("Connection",'RPC "'+n+'" completed.')}});const te=JSON.stringify(g);F.send(a,"POST",te,d,15)})}co(n,a,d){const g=[this.no,"/","google.firestore.v1.Firestore","/",n,"/channel"],b=od(),E=va(),F={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(F.xmlHttpFactory=new Wd({})),this.oo(F.initMessageHeaders,a,d),(0,M.uI)()||(0,M.b$)()||(0,M.d)()||(0,M.w1)()||(0,M.Mn)()||(0,M.ru)()||(F.httpHeadersOverwriteParam="$httpHeaders");const te=g.join("");_n("Connection","Creating WebChannel: "+te,F);const he=b.createWebChannel(te,F);let ze=!1,ot=!1;const xt=new Eh({Qr:an=>{ot?_n("Connection","Not sending because WebChannel is closed:",an):(ze||(_n("Connection","Opening WebChannel transport."),he.open(),ze=!0),_n("Connection","WebChannel sending:",an),he.send(an))},jr:()=>he.close()}),Kt=(an,ar,qr)=>{an.listen(ar,Po=>{try{qr(Po)}catch(ci){setTimeout(()=>{throw ci},0)}})};return Kt(he,Xo.EventType.OPEN,()=>{ot||_n("Connection","WebChannel transport opened.")}),Kt(he,Xo.EventType.CLOSE,()=>{ot||(ot=!0,_n("Connection","WebChannel transport closed"),xt.Zr())}),Kt(he,Xo.EventType.ERROR,an=>{ot||(ot=!0,rc("Connection","WebChannel transport errored:",an),xt.Zr(new rn(Pt.UNAVAILABLE,"The operation could not be completed")))}),Kt(he,Xo.EventType.MESSAGE,an=>{var ar;if(!ot){const qr=an.data[0];Cr(!!qr);const Po=qr,ci=Po.error||(null===(ar=Po[0])||void 0===ar?void 0:ar.error);if(ci){_n("Connection","WebChannel received error:",ci);const ua=ci.status;let rs=function(Gi){const du=Io[Gi];if(void 0!==du)return eh(du)}(ua),ms=ci.message;void 0===rs&&(rs=Pt.INTERNAL,ms="Unknown error status: "+ua+" with message "+ci.message),ot=!0,xt.Zr(new rn(rs,ms)),he.close()}else _n("Connection","WebChannel received:",qr),xt.eo(qr)}}),Kt(E,ui.STAT_EVENT,an=>{an.stat===tc.PROXY?_n("Connection","Detected buffering proxy"):an.stat===tc.NOPROXY&&_n("Connection","Detected no buffering proxy")}),setTimeout(()=>{xt.Xr()},0),xt}}function Nf(){return"undefined"!=typeof document?document:null}function Zu(l){return new Dm(l,!0)}class Dh{constructor(n,a,d=1e3,g=1.5,b=6e4){this.Hn=n,this.timerId=a,this.ho=d,this.lo=g,this.fo=b,this._o=0,this.wo=null,this.mo=Date.now(),this.reset()}reset(){this._o=0}yo(){this._o=this.fo}po(n){this.cancel();const a=Math.floor(this._o+this.Io()),d=Math.max(0,Date.now()-this.mo),g=Math.max(0,a-d);g>0&&_n("ExponentialBackoff",`Backing off for ${g} ms (base delay: ${this._o} ms, delay with jitter: ${a} ms, last attempt: ${d} ms ago)`),this.wo=this.Hn.enqueueAfterDelay(this.timerId,g,()=>(this.mo=Date.now(),n())),this._o*=this.lo,this._o<this.ho&&(this._o=this.ho),this._o>this.fo&&(this._o=this.fo)}To(){null!==this.wo&&(this.wo.skipDelay(),this.wo=null)}cancel(){null!==this.wo&&(this.wo.cancel(),this.wo=null)}Io(){return(Math.random()-.5)*this._o}}class Gm{constructor(n,a,d,g,b,E,F,te){this.Hn=n,this.Eo=d,this.Ao=g,this.Ro=b,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=F,this.listener=te,this.state=0,this.bo=0,this.Po=null,this.Vo=null,this.stream=null,this.vo=new Dh(n,a)}So(){return 1===this.state||5===this.state||this.Do()}Do(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Co()}stop(){var n=this;return(0,p.Z)(function*(){n.So()&&(yield n.close(0))})()}xo(){this.state=0,this.vo.reset()}No(){this.Do()&&null===this.Po&&(this.Po=this.Hn.enqueueAfterDelay(this.Eo,6e4,()=>this.ko()))}Mo(n){this.Oo(),this.stream.send(n)}ko(){var n=this;return(0,p.Z)(function*(){if(n.Do())return n.close(0)})()}Oo(){this.Po&&(this.Po.cancel(),this.Po=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(n,a){var d=this;return(0,p.Z)(function*(){d.Oo(),d.$o(),d.vo.cancel(),d.bo++,4!==n?d.vo.reset():a&&a.code===Pt.RESOURCE_EXHAUSTED?(di(a.toString()),di("Using maximum backoff delay to prevent overloading the backend."),d.vo.yo()):a&&a.code===Pt.UNAUTHENTICATED&&3!==d.state&&(d.authCredentialsProvider.invalidateToken(),d.appCheckCredentialsProvider.invalidateToken()),null!==d.stream&&(d.Fo(),d.stream.close(),d.stream=null),d.state=n,yield d.listener.Hr(a)})()}Fo(){}auth(){this.state=1;const n=this.Bo(this.bo),a=this.bo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([d,g])=>{this.bo===a&&this.Lo(d,g)},d=>{n(()=>{const g=new rn(Pt.UNKNOWN,"Fetching auth token failed: "+d.message);return this.qo(g)})})}Lo(n,a){const d=this.Bo(this.bo);this.stream=this.Uo(n,a),this.stream.Wr(()=>{d(()=>(this.state=2,this.Vo=this.Hn.enqueueAfterDelay(this.Ao,1e4,()=>(this.Do()&&(this.state=3),Promise.resolve())),this.listener.Wr()))}),this.stream.Hr(g=>{d(()=>this.qo(g))}),this.stream.onMessage(g=>{d(()=>this.onMessage(g))})}Co(){var n=this;this.state=5,this.vo.po((0,p.Z)(function*(){n.state=0,n.start()}))}qo(n){return _n("PersistentStream",`close with error: ${n}`),this.stream=null,this.close(4,n)}Bo(n){return a=>{this.Hn.enqueueAndForget(()=>this.bo===n?a():(_n("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tg extends Gm{constructor(n,a,d,g,b,E){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",a,d,g,E),this.M=b}Uo(n,a){return this.Ro.co("Listen",n,a)}onMessage(n){this.vo.reset();const a=function Ip(l,n){let a;if("targetChange"in n){const d="NO_CHANGE"===(te=n.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===te?1:"REMOVE"===te?2:"CURRENT"===te?3:"RESET"===te?4:Jn(),g=n.targetChange.targetIds||[],b=function(te,he){return te.N?(Cr(void 0===he||"string"==typeof he),to.fromBase64String(he||"")):(Cr(void 0===he||he instanceof Uint8Array),to.fromUint8Array(he||new Uint8Array))}(l,n.targetChange.resumeToken),E=n.targetChange.cause,F=E&&function(te){const he=void 0===te.code?Pt.UNKNOWN:eh(te.code);return new rn(he,te.message||"")}(E);a=new Ep(d,g,b,F||null)}else if("documentChange"in n){const d=n.documentChange,g=wc(l,d.document.name),b=qo(d.document.updateTime),E=new lo({mapValue:{fields:d.document.fields}}),F=Ci.newFoundDocument(g,b,E);a=new hd(d.targetIds||[],d.removedTargetIds||[],F.key,F)}else if("documentDelete"in n){const d=n.documentDelete,g=wc(l,d.document),b=d.readTime?qo(d.readTime):At.min(),E=Ci.newNoDocument(g,b);a=new hd([],d.removedTargetIds||[],E.key,E)}else if("documentRemove"in n){const d=n.documentRemove,g=wc(l,d.document);a=new hd([],d.removedTargetIds||[],g,null)}else{if(!("filter"in n))return Jn();{const d=n.filter,b=new wp(d.count||0);a=new Tp(d.targetId,b)}}var te;return a}(this.M,n),d=function(g){if(!("targetChange"in g))return At.min();const b=g.targetChange;return b.targetIds&&b.targetIds.length?At.min():b.readTime?qo(b.readTime):At.min()}(n);return this.listener.Ko(a,d)}Go(n){const a={};a.database=sh(this.M),a.addTarget=function(g,b){let E;const F=b.target;return E=bo(F)?{documents:ah(g,F)}:{query:Pp(g,F)},E.targetId=b.targetId,b.resumeToken.approximateByteSize()>0?E.resumeToken=uf(g,b.resumeToken):b.snapshotVersion.compareTo(At.min())>0&&(E.readTime=ho(g,b.snapshotVersion.toTimestamp())),E}(this.M,n);const d=function Mp(l,n){const a=function(d,g){switch(g){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Jn()}}(0,n.purpose);return null==a?null:{"goog-listen-tags":a}}(0,n);d&&(a.labels=d),this.Mo(a)}Qo(n){const a={};a.database=sh(this.M),a.removeTarget=n,this.Mo(a)}}class zv extends Gm{constructor(n,a,d,g,b,E){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",a,d,g,E),this.M=b,this.jo=!1}get Wo(){return this.jo}start(){this.jo=!1,this.lastStreamToken=void 0,super.start()}Fo(){this.jo&&this.zo([])}Uo(n,a){return this.Ro.co("Write",n,a)}onMessage(n){if(Cr(!!n.streamToken),this.lastStreamToken=n.streamToken,this.jo){this.vo.reset();const a=function pd(l,n){return l&&l.length>0?(Cr(void 0!==n),l.map(a=>function(d,g){let b=qo(d.updateTime?d.updateTime:g);return b.isEqual(At.min())&&(b=qo(g)),new zl(b,d.transformResults||[])}(a,n))):[]}(n.writeResults,n.commitTime),d=qo(n.commitTime);return this.listener.Ho(d,a)}return Cr(!n.writeResults||0===n.writeResults.length),this.jo=!0,this.listener.Jo()}Yo(){const n={};n.database=sh(this.M),this.Mo(n)}zo(n){const a={streamToken:this.lastStreamToken,writes:n.map(d=>function Mu(l,n){let a;if(n instanceof Au)a={update:Ou(l,n.key,n.value)};else if(n instanceof pl)a={delete:ml(l,n.key)};else if(n instanceof Ms)a={update:Ou(l,n.key,n.data),updateMask:Pm(n.fieldMask)};else{if(!(n instanceof Qd))return Jn();a={verify:ml(l,n.key)}}return n.fieldTransforms.length>0&&(a.updateTransforms=n.fieldTransforms.map(d=>function(g,b){const E=b.transform;if(E instanceof Zl)return{fieldPath:b.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof ac)return{fieldPath:b.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof ra)return{fieldPath:b.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof Ua)return{fieldPath:b.field.canonicalString(),increment:E.k};throw Jn()}(0,d))),n.precondition.isNone||(a.currentDocument=void 0!==(g=n.precondition).updateTime?{updateTime:Sm(l,g.updateTime)}:void 0!==g.exists?{exists:g.exists}:Jn()),a;var g}(this.M,d))};this.Mo(a)}}class c0 extends class{}{constructor(n,a,d,g){super(),this.authCredentials=n,this.appCheckCredentials=a,this.Ro=d,this.M=g,this.Xo=!1}Zo(){if(this.Xo)throw new rn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}io(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.io(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new rn(Pt.UNKNOWN,g.toString())})}uo(n,a,d){return this.Zo(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,b])=>this.Ro.uo(n,a,d,g,b)).catch(g=>{throw"FirebaseError"===g.name?(g.code===Pt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new rn(Pt.UNKNOWN,g.toString())})}terminate(){this.Xo=!0}}class Wv{constructor(n,a){this.asyncQueue=n,this.onlineStateHandler=a,this.state="Unknown",this.ta=0,this.ea=null,this.na=!0}sa(){0===this.ta&&(this.ia("Unknown"),this.ea=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ea=null,this.ra("Backend didn't respond within 10 seconds."),this.ia("Offline"),Promise.resolve())))}oa(n){"Online"===this.state?this.ia("Unknown"):(this.ta++,this.ta>=1&&(this.aa(),this.ra(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ia("Offline")))}set(n){this.aa(),this.ta=0,"Online"===n&&(this.na=!1),this.ia(n)}ia(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}ra(n){const a=`Could not reach Cloud Firestore backend. ${n}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.na?(di(a),this.na=!1):_n("OnlineStateTracker",a)}aa(){null!==this.ea&&(this.ea.cancel(),this.ea=null)}}class Hm{constructor(n,a,d,g,b){var E=this;this.localStore=n,this.datastore=a,this.asyncQueue=d,this.remoteSyncer={},this.ua=[],this.ca=new Map,this.ha=new Set,this.la=[],this.fa=b,this.fa.Fr(F=>{d.enqueueAndForget((0,p.Z)(function*(){var te;xl(E)&&(_n("RemoteStore","Restarting streams for network reachability change."),yield(te=(0,p.Z)(function*(he){const ze=Nn(he);ze.ha.add(4),yield qu(ze),ze.da.set("Unknown"),ze.ha.delete(4),yield Sh(ze)}),function(he){return te.apply(this,arguments)})(E))}))}),this.da=new Wv(d,g)}}function Sh(l){return ng.apply(this,arguments)}function ng(){return ng=(0,p.Z)(function*(l){if(xl(l))for(const n of l.la)yield n(!0)}),ng.apply(this,arguments)}function qu(l){return rg.apply(this,arguments)}function rg(){return rg=(0,p.Z)(function*(l){for(const n of l.la)yield n(!1)}),rg.apply(this,arguments)}function Rf(l,n){const a=Nn(l);a.ca.has(n.targetId)||(a.ca.set(n.targetId,n),Wm(a)?zm(a):nu(a).Do()&&Zm(a,n))}function ks(l,n){const a=Nn(l),d=nu(a);a.ca.delete(n),d.Do()&&qm(a,n),0===a.ca.size&&(d.Do()?d.No():xl(a)&&a.da.set("Unknown"))}function Zm(l,n){l._a.Z(n.targetId),nu(l).Go(n)}function qm(l,n){l._a.Z(n),nu(l).Qo(n)}function zm(l){l._a=new Em({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),Et:n=>l.ca.get(n)||null}),nu(l).start(),l.da.sa()}function Wm(l){return xl(l)&&!nu(l).So()&&l.ca.size>0}function xl(l){return 0===Nn(l).ha.size}function l0(l){l._a=void 0}function u0(l){return xh.apply(this,arguments)}function xh(){return xh=(0,p.Z)(function*(l){l.ca.forEach((n,a)=>{Zm(l,n)})}),xh.apply(this,arguments)}function $m(l,n){return ig.apply(this,arguments)}function ig(){return ig=(0,p.Z)(function*(l,n){l0(l),Wm(l)?(l.da.oa(n),zm(l)):l.da.set("Unknown")}),ig.apply(this,arguments)}function d0(l,n,a){return og.apply(this,arguments)}function og(){return og=(0,p.Z)(function*(l,n,a){if(l.da.set("Online"),n instanceof Ep&&2===n.state&&n.cause)try{yield(d=(0,p.Z)(function*(g,b){const E=b.cause;for(const F of b.targetIds)g.ca.has(F)&&(yield g.remoteSyncer.rejectListen(F,E),g.ca.delete(F),g._a.removeTarget(F))}),function(g,b){return d.apply(this,arguments)})(l,n)}catch(d){_n("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),d),yield Ah(l,d)}else if(n instanceof hd?l._a.at(n):n instanceof Tp?l._a._t(n):l._a.ht(n),!a.isEqual(At.min()))try{const d=yield Ed(l.localStore);a.compareTo(d)>=0&&(yield function(g,b){const E=g._a.yt(b);return E.targetChanges.forEach((F,te)=>{if(F.resumeToken.approximateByteSize()>0){const he=g.ca.get(te);he&&g.ca.set(te,he.withResumeToken(F.resumeToken,b))}}),E.targetMismatches.forEach(F=>{const te=g.ca.get(F);if(!te)return;g.ca.set(F,te.withResumeToken(to.EMPTY_BYTE_STRING,te.snapshotVersion)),qm(g,F);const he=new Ga(te.target,F,1,te.sequenceNumber);Zm(g,he)}),g.remoteSyncer.applyRemoteEvent(E)}(l,a))}catch(d){_n("RemoteStore","Failed to raise snapshot:",d),yield Ah(l,d)}var d}),og.apply(this,arguments)}function Ah(l,n,a){return sg.apply(this,arguments)}function sg(){return sg=(0,p.Z)(function*(l,n,a){if(!Tc(n))throw n;l.ha.add(1),yield qu(l),l.da.set("Offline"),a||(a=()=>Ed(l.localStore)),l.asyncQueue.enqueueRetryable((0,p.Z)(function*(){_n("RemoteStore","Retrying IndexedDB access"),yield a(),l.ha.delete(1),yield Sh(l)}))}),sg.apply(this,arguments)}function ag(l,n){return n().catch(a=>Ah(l,a,n))}function Ad(l){return cg.apply(this,arguments)}function cg(){return cg=(0,p.Z)(function*(l){const n=Nn(l),a=ru(n);let d=n.ua.length>0?n.ua[n.ua.length-1].batchId:-1;for(;Km(n);)try{const g=yield o0(n.localStore,d);if(null===g){0===n.ua.length&&a.No();break}d=g.batchId,Jm(n,g)}catch(g){yield Ah(n,g)}Ym(n)&&xc(n)}),cg.apply(this,arguments)}function Km(l){return xl(l)&&l.ua.length<10}function Jm(l,n){l.ua.push(n);const a=ru(l);a.Do()&&a.Wo&&a.zo(n.mutations)}function Ym(l){return xl(l)&&!ru(l).So()&&l.ua.length>0}function xc(l){ru(l).start()}function lg(l){return ug.apply(this,arguments)}function ug(){return ug=(0,p.Z)(function*(l){ru(l).Yo()}),ug.apply(this,arguments)}function dg(l){return Qm.apply(this,arguments)}function Qm(){return Qm=(0,p.Z)(function*(l){const n=ru(l);for(const a of l.ua)n.zo(a.mutations)}),Qm.apply(this,arguments)}function Xm(l,n,a){return hg.apply(this,arguments)}function hg(){return hg=(0,p.Z)(function*(l,n,a){const d=l.ua.shift(),g=sa.from(d,n,a);yield ag(l,()=>l.remoteSyncer.applySuccessfulWrite(g)),yield Ad(l)}),hg.apply(this,arguments)}function h0(l,n){return fg.apply(this,arguments)}function fg(){return fg=(0,p.Z)(function*(l,n){var a;n&&ru(l).Wo&&(yield(a=(0,p.Z)(function*(d,g){if(Xd(b=g.code)&&b!==Pt.ABORTED){const E=d.ua.shift();ru(d).xo(),yield ag(d,()=>d.remoteSyncer.rejectFailedWrite(E.batchId,g)),yield Ad(d)}var b}),function(d,g){return a.apply(this,arguments)})(l,n)),Ym(l)&&xc(l)}),fg.apply(this,arguments)}function kf(l,n){return pg.apply(this,arguments)}function pg(){return pg=(0,p.Z)(function*(l,n){const a=Nn(l);a.asyncQueue.verifyOperationInProgress(),_n("RemoteStore","RemoteStore received new credentials");const d=xl(a);a.ha.add(3),yield qu(a),d&&a.da.set("Unknown"),yield a.remoteSyncer.handleCredentialChange(n),a.ha.delete(3),yield Sh(a)}),pg.apply(this,arguments)}function Id(){return Id=(0,p.Z)(function*(l,n){const a=Nn(l);n?(a.ha.delete(2),yield Sh(a)):n||(a.ha.add(2),yield qu(a),a.da.set("Unknown"))}),Id.apply(this,arguments)}function nu(l){return l.wa||(l.wa=function(n,a,d){const g=Nn(n);return g.Zo(),new tg(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:u0.bind(null,l),Hr:$m.bind(null,l),Ko:d0.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.wa.xo(),Wm(l)?zm(l):l.da.set("Unknown")):(yield l.wa.stop(),l0(l))});return function(a){return n.apply(this,arguments)}}())),l.wa}function ru(l){return l.ma||(l.ma=function(n,a,d){const g=Nn(n);return g.Zo(),new zv(a,g.Ro,g.authCredentials,g.appCheckCredentials,g.M,d)}(l.datastore,l.asyncQueue,{Wr:lg.bind(null,l),Hr:h0.bind(null,l),Jo:dg.bind(null,l),Ho:Xm.bind(null,l)}),l.la.push(function(){var n=(0,p.Z)(function*(a){a?(l.ma.xo(),yield Ad(l)):(yield l.ma.stop(),l.ua.length>0&&(_n("RemoteStore",`Stopping write stream with ${l.ua.length} pending writes`),l.ua=[]))});return function(a){return n.apply(this,arguments)}}())),l.ma}class Ih{constructor(n,a,d,g,b){this.asyncQueue=n,this.timerId=a,this.targetTimeMs=d,this.op=g,this.removalCallback=b,this.deferred=new Oi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(n,a,d,g,b){const E=Date.now()+d,F=new Ih(n,a,E,g,b);return F.start(d),F}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new rn(Pt.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function zu(l,n){if(di("AsyncQueue",`${n}: ${l}`),Tc(l))return new rn(Pt.UNAVAILABLE,`${n}: ${l}`);throw l}class Pd{constructor(n){this.comparator=n?(a,d)=>n(a,d)||Ln.comparator(a.key,d.key):(a,d)=>Ln.comparator(a.key,d.key),this.keyedMap=fs(),this.sortedSet=new Co(this.comparator)}static emptySet(n){return new Pd(n.comparator)}has(n){return null!=this.keyedMap.get(n)}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const a=this.keyedMap.get(n);return a?this.sortedSet.indexOf(a):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((a,d)=>(n(a),!1))}add(n){const a=this.delete(n.key);return a.copy(a.keyedMap.insert(n.key,n),a.sortedSet.insert(n,null))}delete(n){const a=this.get(n);return a?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(a)):this}isEqual(n){if(!(n instanceof Pd)||this.size!==n.size)return!1;const a=this.sortedSet.getIterator(),d=n.sortedSet.getIterator();for(;a.hasNext();){const g=a.getNext().key,b=d.getNext().key;if(!g.isEqual(b))return!1}return!0}toString(){const n=[];return this.forEach(a=>{n.push(a.toString())}),0===n.length?"DocumentSet ()":"DocumentSet (\n  "+n.join("  \n")+"\n)"}copy(n,a){const d=new Pd;return d.comparator=this.comparator,d.keyedMap=n,d.sortedSet=a,d}}class f0{constructor(){this.ga=new Co(Ln.comparator)}track(n){const a=n.doc.key,d=this.ga.get(a);d?0!==n.type&&3===d.type?this.ga=this.ga.insert(a,n):3===n.type&&1!==d.type?this.ga=this.ga.insert(a,{type:d.type,doc:n.doc}):2===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):2===n.type&&0===d.type?this.ga=this.ga.insert(a,{type:0,doc:n.doc}):1===n.type&&0===d.type?this.ga=this.ga.remove(a):1===n.type&&2===d.type?this.ga=this.ga.insert(a,{type:1,doc:d.doc}):0===n.type&&1===d.type?this.ga=this.ga.insert(a,{type:2,doc:n.doc}):Jn():this.ga=this.ga.insert(a,n)}ya(){const n=[];return this.ga.inorderTraversal((a,d)=>{n.push(d)}),n}}class Od{constructor(n,a,d,g,b,E,F,te){this.query=n,this.docs=a,this.oldDocs=d,this.docChanges=g,this.mutatedKeys=b,this.fromCache=E,this.syncStateChanged=F,this.excludesMetadataChanges=te}static fromInitialDocuments(n,a,d,g){const b=[];return a.forEach(E=>{b.push({type:0,doc:E})}),new Od(n,a,Pd.emptySet(a),b,d,g,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&hl(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const a=this.docChanges,d=n.docChanges;if(a.length!==d.length)return!1;for(let g=0;g<a.length;g++)if(a[g].type!==d[g].type||!a[g].doc.isEqual(d[g].doc))return!1;return!0}}class e_{constructor(){this.pa=void 0,this.listeners=[]}}class yb{constructor(){this.queries=new ki(n=>Gl(n),hl),this.onlineState="Unknown",this.Ia=new Set}}function mg(){return mg=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.query;let g=!1,b=a.queries.get(d);if(b||(g=!0,b=new e_),g)try{b.pa=yield a.onListen(d)}catch(E){const F=zu(E,`Initialization of query '${bc(n.query)}' failed`);return void n.onError(F)}a.queries.set(d,b),b.listeners.push(n),n.Ta(a.onlineState),b.pa&&n.Ea(b.pa)&&$c(a)}),mg.apply(this,arguments)}function vg(){return vg=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.query;let g=!1;const b=a.queries.get(d);if(b){const E=b.listeners.indexOf(n);E>=0&&(b.listeners.splice(E,1),g=0===b.listeners.length)}if(g)return a.queries.delete(d),a.onUnlisten(d)}),vg.apply(this,arguments)}function n_(l,n){const a=Nn(l);let d=!1;for(const g of n){const E=a.queries.get(g.query);if(E){for(const F of E.listeners)F.Ea(g)&&(d=!0);E.pa=g}}d&&$c(a)}function r_(l,n,a){const d=Nn(l),g=d.queries.get(n);if(g)for(const b of g.listeners)b.onError(a);d.queries.delete(n)}function $c(l){l.Ia.forEach(n=>{n.next()})}class Ph{constructor(n,a,d){this.query=n,this.Aa=a,this.Ra=!1,this.ba=null,this.onlineState="Unknown",this.options=d||{}}Ea(n){if(!this.options.includeMetadataChanges){const d=[];for(const g of n.docChanges)3!==g.type&&d.push(g);n=new Od(n.query,n.docs,n.oldDocs,d,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0)}let a=!1;return this.Ra?this.Pa(n)&&(this.Aa.next(n),a=!0):this.Va(n,this.onlineState)&&(this.va(n),a=!0),this.ba=n,a}onError(n){this.Aa.error(n)}Ta(n){this.onlineState=n;let a=!1;return this.ba&&!this.Ra&&this.Va(this.ba,n)&&(this.va(this.ba),a=!0),a}Va(n,a){return!n.fromCache||!(this.options.Sa&&"Offline"!==a||n.docs.isEmpty()&&"Offline"!==a)}Pa(n){return n.docChanges.length>0||!!(n.syncStateChanged||this.ba&&this.ba.hasPendingWrites!==n.hasPendingWrites)&&!0===this.options.includeMetadataChanges}va(n){n=Od.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache),this.Ra=!0,this.Aa.next(n)}}class bg{constructor(n){this.key=n}}class Cg{constructor(n){this.key=n}}class Md{constructor(n,a){this.query=n,this.ka=a,this.Ma=null,this.current=!1,this.Oa=Ai(),this.mutatedKeys=Ai(),this.$a=ud(n),this.Fa=new Pd(this.$a)}get Ba(){return this.ka}La(n,a){const d=a?a.qa:new f0,g=a?a.Fa:this.Fa;let b=a?a.mutatedKeys:this.mutatedKeys,E=g,F=!1;const te=Bo(this.query)&&g.size===this.query.limit?g.last():null,he=uo(this.query)&&g.size===this.query.limit?g.first():null;if(n.inorderTraversal((ze,ot)=>{const xt=g.get(ze),Kt=Hl(this.query,ot)?ot:null,an=!!xt&&this.mutatedKeys.has(xt.key),ar=!!Kt&&(Kt.hasLocalMutations||this.mutatedKeys.has(Kt.key)&&Kt.hasCommittedMutations);let qr=!1;xt&&Kt?xt.data.isEqual(Kt.data)?an!==ar&&(d.track({type:3,doc:Kt}),qr=!0):this.Ua(xt,Kt)||(d.track({type:2,doc:Kt}),qr=!0,(te&&this.$a(Kt,te)>0||he&&this.$a(Kt,he)<0)&&(F=!0)):!xt&&Kt?(d.track({type:0,doc:Kt}),qr=!0):xt&&!Kt&&(d.track({type:1,doc:xt}),qr=!0,(te||he)&&(F=!0)),qr&&(Kt?(E=E.add(Kt),b=ar?b.add(ze):b.delete(ze)):(E=E.delete(ze),b=b.delete(ze)))}),Bo(this.query)||uo(this.query))for(;E.size>this.query.limit;){const ze=Bo(this.query)?E.last():E.first();E=E.delete(ze.key),b=b.delete(ze.key),d.track({type:1,doc:ze})}return{Fa:E,qa:d,ei:F,mutatedKeys:b}}Ua(n,a){return n.hasLocalMutations&&a.hasCommittedMutations&&!a.hasLocalMutations}applyChanges(n,a,d){const g=this.Fa;this.Fa=n.Fa,this.mutatedKeys=n.mutatedKeys;const b=n.qa.ya();b.sort((he,ze)=>function(ot,xt){const Kt=an=>{switch(an){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Jn()}};return Kt(ot)-Kt(xt)}(he.type,ze.type)||this.$a(he.doc,ze.doc)),this.Ka(d);const E=a?this.Ga():[],F=0===this.Oa.size&&this.current?1:0,te=F!==this.Ma;return this.Ma=F,0!==b.length||te?{snapshot:new Od(this.query,n.Fa,g,b,n.mutatedKeys,0===F,te,!1),Qa:E}:{Qa:E}}Ta(n){return this.current&&"Offline"===n?(this.current=!1,this.applyChanges({Fa:this.Fa,qa:new f0,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{Qa:[]}}ja(n){return!this.ka.has(n)&&!!this.Fa.has(n)&&!this.Fa.get(n).hasLocalMutations}Ka(n){n&&(n.addedDocuments.forEach(a=>this.ka=this.ka.add(a)),n.modifiedDocuments.forEach(a=>{}),n.removedDocuments.forEach(a=>this.ka=this.ka.delete(a)),this.current=n.current)}Ga(){if(!this.current)return[];const n=this.Oa;this.Oa=Ai(),this.Fa.forEach(d=>{this.ja(d.key)&&(this.Oa=this.Oa.add(d.key))});const a=[];return n.forEach(d=>{this.Oa.has(d)||a.push(new Cg(d))}),this.Oa.forEach(d=>{n.has(d)||a.push(new bg(d))}),a}Wa(n){this.ka=n.hi,this.Oa=Ai();const a=this.La(n.documents);return this.applyChanges(a,!0)}za(){return Od.fromInitialDocuments(this.query,this.Fa,this.mutatedKeys,0===this.Ma)}}class g0{constructor(n,a,d){this.query=n,this.targetId=a,this.view=d}}class o_{constructor(n){this.key=n,this.Ha=!1}}class m0{constructor(n,a,d,g,b,E){this.localStore=n,this.remoteStore=a,this.eventManager=d,this.sharedClientState=g,this.currentUser=b,this.maxConcurrentLimboResolutions=E,this.Ja={},this.Ya=new ki(F=>Gl(F),hl),this.Xa=new Map,this.Za=new Set,this.tu=new Co(Ln.comparator),this.eu=new Map,this.nu=new Fm,this.su={},this.iu=new Map,this.ru=Ql.gn(),this.onlineState="Unknown",this.ou=void 0}get isPrimaryClient(){return!0===this.ou}}function s_(l,n){return Lf.apply(this,arguments)}function Lf(){return Lf=(0,p.Z)(function*(l,n){const a=Gf(l);let d,g;const b=a.Ya.get(n);if(b)d=b.targetId,a.sharedClientState.addLocalQueryTarget(d),g=b.view.za();else{const E=yield wh(a.localStore,Yi(n));a.isPrimaryClient&&Rf(a.remoteStore,E);const F=a.sharedClientState.addLocalQueryTarget(E.targetId);d=E.targetId,g=yield a_(a,n,d,"current"===F)}return g}),Lf.apply(this,arguments)}function a_(l,n,a,d){return iu.apply(this,arguments)}function iu(){return iu=(0,p.Z)(function*(l,n,a,d){l.au=(ze,ot,xt)=>{return(Kt=(0,p.Z)(function*(an,ar,qr,Po){let ci=ar.view.La(qr);ci.ei&&(ci=yield If(an.localStore,ar.query,!1).then(({documents:ms})=>ar.view.La(ms,ci)));const ua=Po&&Po.targetChanges.get(ar.targetId),rs=ar.view.applyChanges(ci,an.isPrimaryClient,ua);return Ls(an,ar.targetId,rs.Qa),rs.snapshot}),function(an,ar,qr,Po){return Kt.apply(this,arguments)})(l,ze,ot,xt);var Kt};const g=yield If(l.localStore,n,!0),b=new Md(n,g.hi),E=b.La(g.documents),F=ih.createSynthesizedTargetChangeForCurrentChange(a,d&&"Offline"!==l.onlineState),te=b.applyChanges(E,l.isPrimaryClient,F);Ls(l,a,te.Qa);const he=new g0(n,a,b);return l.Ya.set(n,he),l.Xa.has(a)?l.Xa.get(a).push(n):l.Xa.set(a,[n]),te.snapshot}),iu.apply(this,arguments)}function $v(l,n){return wg.apply(this,arguments)}function wg(){return wg=(0,p.Z)(function*(l,n){const a=Nn(l),d=a.Ya.get(n),g=a.Xa.get(d.targetId);if(g.length>1)return a.Xa.set(d.targetId,g.filter(b=>!hl(b,n))),void a.Ya.delete(n);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(d.targetId),a.sharedClientState.isActiveQueryTarget(d.targetId)||(yield Gu(a.localStore,d.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(d.targetId),ks(a.remoteStore,d.targetId),Wu(a,d.targetId)}).catch(Dl))):(Wu(a,d.targetId),yield Gu(a.localStore,d.targetId,!0))}),wg.apply(this,arguments)}function Ks(){return Ks=(0,p.Z)(function*(l,n,a){const d=Hf(l);try{const g=yield function(b,E){const F=Nn(b),te=Rn.now(),he=E.reduce((ot,xt)=>ot.add(xt.key),Ai());let ze;return F.persistence.runTransaction("Locally write mutations","readwrite",ot=>F.ui.Us(ot,he).next(xt=>{ze=xt;const Kt=[];for(const an of E){const ar=ef(an,ze.get(an.key));null!=ar&&Kt.push(new Ms(an.key,ar,jc(ar.value.mapValue),qi.exists(!0)))}return F.Fs.addMutationBatch(ot,te,Kt,E)})).then(ot=>(ot.applyToLocalDocumentSet(ze),{batchId:ot.batchId,changes:ze}))}(d.localStore,n);d.sharedClientState.addPendingMutation(g.batchId),function(b,E,F){let te=b.su[b.currentUser.toKey()];te||(te=new Co(je)),te=te.insert(E,F),b.su[b.currentUser.toKey()]=te}(d,g.batchId,a),yield Ac(d,g.changes),yield Ad(d.remoteStore)}catch(g){const b=zu(g,"Failed to persist write");a.reject(b)}}),Ks.apply(this,arguments)}function Oh(l,n){return Al.apply(this,arguments)}function Al(){return Al=(0,p.Z)(function*(l,n){const a=Nn(l);try{const d=yield Wp(a.localStore,n);n.targetChanges.forEach((g,b)=>{const E=a.eu.get(b);E&&(Cr(g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size<=1),g.addedDocuments.size>0?E.Ha=!0:g.modifiedDocuments.size>0?Cr(E.Ha):g.removedDocuments.size>0&&(Cr(E.Ha),E.Ha=!1))}),yield Ac(a,d,n)}catch(d){yield Dl(d)}}),Al.apply(this,arguments)}function c_(l,n,a){const d=Nn(l);if(d.isPrimaryClient&&0===a||!d.isPrimaryClient&&1===a){const g=[];d.Ya.forEach((b,E)=>{const F=E.view.Ta(n);F.snapshot&&g.push(F.snapshot)}),function(b,E){const F=Nn(b);F.onlineState=E;let te=!1;F.queries.forEach((he,ze)=>{for(const ot of ze.listeners)ot.Ta(E)&&(te=!0)}),te&&$c(F)}(d.eventManager,n),g.length&&d.Ja.Ko(g),d.onlineState=n,d.isPrimaryClient&&d.sharedClientState.setOnlineState(n)}}function Mh(l,n,a){return l_.apply(this,arguments)}function l_(){return l_=(0,p.Z)(function*(l,n,a){const d=Nn(l);d.sharedClientState.updateQueryState(n,"rejected",a);const g=d.eu.get(n),b=g&&g.key;if(b){let E=new Co(Ln.comparator);E=E.insert(b,Ci.newNoDocument(b,At.min()));const F=Ai().add(b),te=new rh(At.min(),new Map,new Li(je),E,F);yield Oh(d,te),d.tu=d.tu.remove(b),d.eu.delete(n),Dg(d)}else yield Gu(d.localStore,n,!1).then(()=>Wu(d,n,a)).catch(Dl)}),l_.apply(this,arguments)}function Kv(l,n){return Eg.apply(this,arguments)}function Eg(){return Eg=(0,p.Z)(function*(l,n){const a=Nn(l),d=n.batch.batchId;try{const g=yield Sf(a.localStore,n);Bf(a,d,null),Nh(a,d),a.sharedClientState.updateMutationState(d,"acknowledged"),yield Ac(a,g)}catch(g){yield Dl(g)}}),Eg.apply(this,arguments)}function Nd(l,n,a){return qa.apply(this,arguments)}function qa(){return qa=(0,p.Z)(function*(l,n,a){const d=Nn(l);try{const g=yield function(b,E){const F=Nn(b);return F.persistence.runTransaction("Reject batch","readwrite-primary",te=>{let he;return F.Fs.lookupMutationBatch(te,E).next(ze=>(Cr(null!==ze),he=ze.keys(),F.Fs.removeMutationBatch(te,ze))).next(()=>F.Fs.performConsistencyCheck(te)).next(()=>F.ui.Us(te,he))})}(d.localStore,n);Bf(d,n,a),Nh(d,n),d.sharedClientState.updateMutationState(n,"rejected",a),yield Ac(d,g)}catch(g){yield Dl(g)}}),qa.apply(this,arguments)}function Nh(l,n){(l.iu.get(n)||[]).forEach(a=>{a.resolve()}),l.iu.delete(n)}function Bf(l,n,a){const d=Nn(l);let g=d.su[d.currentUser.toKey()];if(g){const b=g.get(n);b&&(a?b.reject(a):b.resolve(),g=g.remove(n)),d.su[d.currentUser.toKey()]=g}}function Wu(l,n,a=null){l.sharedClientState.removeLocalQueryTarget(n);for(const d of l.Xa.get(n))l.Ya.delete(d),a&&l.Ja.uu(d,a);l.Xa.delete(n),l.isPrimaryClient&&l.nu.Ri(n).forEach(d=>{l.nu.containsKey(d)||Rd(l,d)})}function Rd(l,n){l.Za.delete(n.path.canonicalString());const a=l.tu.get(n);null!==a&&(ks(l.remoteStore,a),l.tu=l.tu.remove(n),l.eu.delete(a),Dg(l))}function Ls(l,n,a){for(const d of a)d instanceof bg?(l.nu.addReference(d.key,n),_0(l,d)):d instanceof Cg?(_n("SyncEngine","Document no longer in limbo: "+d.key),l.nu.removeReference(d.key,n),l.nu.containsKey(d.key)||Rd(l,d.key)):Jn()}function _0(l,n){const a=n.key,d=a.path.canonicalString();l.tu.get(a)||l.Za.has(d)||(_n("SyncEngine","New document in limbo: "+a),l.Za.add(d),Dg(l))}function Dg(l){for(;l.Za.size>0&&l.tu.size<l.maxConcurrentLimboResolutions;){const n=l.Za.values().next().value;l.Za.delete(n);const a=new Ln(lr.fromString(n)),d=l.ru.next();l.eu.set(d,new o_(a)),l.tu=l.tu.insert(a,d),Rf(l.remoteStore,new Ga(Yi(wr(a.path)),d,2,$.A))}}function Ac(l,n,a){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,p.Z)(function*(l,n,a){const d=Nn(l),g=[],b=[],E=[];var F;d.Ya.isEmpty()||(d.Ya.forEach((F,te)=>{E.push(d.au(te,n,a).then(he=>{if(he){d.isPrimaryClient&&d.sharedClientState.updateQueryState(te.targetId,he.fromCache?"not-current":"current"),g.push(he);const ze=eu.Js(te.targetId,he);b.push(ze)}}))}),yield Promise.all(E),d.Ja.Ko(g),yield(F=(0,p.Z)(function*(te,he){const ze=Nn(te);try{yield ze.persistence.runTransaction("notifyLocalViewChanges","readwrite",ot=>kt.forEach(he,xt=>kt.forEach(xt.zs,Kt=>ze.persistence.referenceDelegate.addReference(ot,xt.targetId,Kt)).next(()=>kt.forEach(xt.Hs,Kt=>ze.persistence.referenceDelegate.removeReference(ot,xt.targetId,Kt)))))}catch(ot){if(!Tc(ot))throw ot;_n("LocalStore","Failed to update sequence numbers: "+ot)}for(const ot of he){const xt=ot.targetId;if(!ot.fromCache){const Kt=ze.si.get(xt),ar=Kt.withLastLimboFreeSnapshotVersion(Kt.snapshotVersion);ze.si=ze.si.insert(xt,ar)}}}),function(te,he){return F.apply(this,arguments)})(d.localStore,b))}),Rh.apply(this,arguments)}function d_(l,n){return Sg.apply(this,arguments)}function Sg(){return Sg=(0,p.Z)(function*(l,n){const a=Nn(l);if(!a.currentUser.isEqual(n)){_n("SyncEngine","User change. New user:",n.toKey());const d=yield Ch(a.localStore,n);a.currentUser=n,(g=a).iu.forEach(E=>{E.forEach(F=>{F.reject(new rn(Pt.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),g.iu.clear(),a.sharedClientState.handleUserChange(n,d.removedBatchIds,d.addedBatchIds),yield Ac(a,d.ci)}var g}),Sg.apply(this,arguments)}function xg(l,n){const a=Nn(l),d=a.eu.get(n);if(d&&d.Ha)return Ai().add(d.key);{let g=Ai();const b=a.Xa.get(n);if(!b)return g;for(const E of b){const F=a.Ya.get(E);g=g.unionWith(F.view.Ba)}return g}}function Gf(l){const n=Nn(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=Oh.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=xg.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Mh.bind(null,n),n.Ja.Ko=n_.bind(null,n.eventManager),n.Ja.uu=r_.bind(null,n.eventManager),n}function Hf(l){const n=Nn(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Kv.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Nd.bind(null,n),n}class f_{constructor(){this.synchronizeTabs=!1}initialize(n){var a=this;return(0,p.Z)(function*(){a.M=Zu(n.databaseInfo.databaseId),a.sharedClientState=a.hu(n),a.persistence=a.lu(n),yield a.persistence.start(),a.gcScheduler=a.fu(n),a.localStore=a.du(n)})()}fu(n){return null}du(n){return function zp(l,n,a,d){return new Td(l,n,a,d)}(this.persistence,new tu,n.initialUser,this.M)}lu(n){return new a0(Yp.Wi,this.M)}hu(n){return new xd}terminate(){var n=this;return(0,p.Z)(function*(){n.gcScheduler&&n.gcScheduler.stop(),yield n.sharedClientState.shutdown(),yield n.persistence.shutdown()})()}}class Ng{initialize(n,a){var d=this;return(0,p.Z)(function*(){d.localStore||(d.localStore=n.localStore,d.sharedClientState=n.sharedClientState,d.datastore=d.createDatastore(a),d.remoteStore=d.createRemoteStore(a),d.eventManager=d.createEventManager(a),d.syncEngine=d.createSyncEngine(a,!n.synchronizeTabs),d.sharedClientState.onlineStateHandler=g=>c_(d.syncEngine,g,1),d.remoteStore.remoteSyncer.handleCredentialChange=d_.bind(null,d.syncEngine),yield function gg(l,n){return Id.apply(this,arguments)}(d.remoteStore,d.syncEngine.isPrimaryClient))})()}createEventManager(n){return new yb}createDatastore(n){const a=Zu(n.databaseInfo.databaseId),d=new qv(n.databaseInfo);return new c0(n.authCredentials,n.appCheckCredentials,d,a)}createRemoteStore(n){return a=this.localStore,d=this.datastore,g=n.asyncQueue,b=F=>c_(this.syncEngine,F,0),E=Hu.vt()?new Hu:new eg,new Hm(a,d,g,b,E);var a,d,g,b,E}createSyncEngine(n,a){return function(d,g,b,E,F,te,he){const ze=new m0(d,g,b,E,F,te);return he&&(ze.ou=!0),ze}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,a)}terminate(){return(n=(0,p.Z)(function*(a){const d=Nn(a);_n("RemoteStore","RemoteStore shutting down."),d.ha.add(5),yield qu(d),d.fa.shutdown(),d.da.set("Unknown")}),function(a){return n.apply(this,arguments)})(this.remoteStore);var n}}class Fh{constructor(n){this.observer=n,this.muted=!1}next(n){this.observer.next&&this.wu(this.observer.next,n)}error(n){this.observer.error?this.wu(this.observer.error,n):console.error("Uncaught Error in snapshot listener:",n)}mu(){this.muted=!0}wu(n,a){this.muted||setTimeout(()=>{this.muted||n(a)},0)}}class Ic{constructor(n,a,d,g){var b=this;this.authCredentials=n,this.appCheckCredentials=a,this.asyncQueue=d,this.databaseInfo=g,this.user=ao.UNAUTHENTICATED,this.clientId=Ue.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(d,function(){var E=(0,p.Z)(function*(F){_n("FirestoreClient","Received user=",F.uid),yield b.authCredentialListener(F),b.user=F});return function(F){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(d,E=>(_n("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var n=this;return(0,p.Z)(function*(){return{asyncQueue:n.asyncQueue,databaseInfo:n.databaseInfo,clientId:n.clientId,authCredentials:n.authCredentials,appCheckCredentials:n.appCheckCredentials,initialUser:n.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new rn(Pt.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var n=this;this.asyncQueue.enterRestrictedMode();const a=new Oi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,p.Z)(function*(){try{n.onlineComponents&&(yield n.onlineComponents.terminate()),n.offlineComponents&&(yield n.offlineComponents.terminate()),n.authCredentials.shutdown(),n.appCheckCredentials.shutdown(),a.resolve()}catch(d){const g=zu(d,"Failed to shutdown persistence");a.reject(g)}})),a.promise}}function w0(l,n){return zf.apply(this,arguments)}function zf(){return zf=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress(),_n("FirestoreClient","Initializing OfflineComponentProvider");const a=yield l.getConfiguration();yield n.initialize(a);let d=a.initialUser;l.setCredentialChangeListener(function(){var g=(0,p.Z)(function*(b){d.isEqual(b)||(yield Ch(n.localStore,b),d=b)});return function(b){return g.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l.offlineComponents=n}),zf.apply(this,arguments)}function Rg(l,n){return Pc.apply(this,arguments)}function Pc(){return Pc=(0,p.Z)(function*(l,n){l.asyncQueue.verifyOperationInProgress();const a=yield su(l);_n("FirestoreClient","Initializing OnlineComponentProvider");const d=yield l.getConfiguration();yield n.initialize(a,d),l.setCredentialChangeListener(g=>kf(n.remoteStore,g)),l.setAppCheckTokenChangeListener((g,b)=>kf(n.remoteStore,b)),l.onlineComponents=n}),Pc.apply(this,arguments)}function su(l){return ro.apply(this,arguments)}function ro(){return ro=(0,p.Z)(function*(l){return l.offlineComponents||(_n("FirestoreClient","Using default OfflineComponentProvider"),yield w0(l,new f_)),l.offlineComponents}),ro.apply(this,arguments)}function Il(l){return Bh.apply(this,arguments)}function Bh(){return Bh=(0,p.Z)(function*(l){return l.onlineComponents||(_n("FirestoreClient","Using default OnlineComponentProvider"),yield Rg(l,new Ng)),l.onlineComponents}),Bh.apply(this,arguments)}function Jc(l){return Ku.apply(this,arguments)}function Ku(){return Ku=(0,p.Z)(function*(l){const n=yield Il(l),a=n.eventManager;return a.onListen=s_.bind(null,n.syncEngine),a.onUnlisten=$v.bind(null,n.syncEngine),a}),Ku.apply(this,arguments)}const v_=new Map;function kg(l,n,a){if(!a)throw new rn(Pt.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function b_(l){if(!Ln.isDocumentKey(l))throw new rn(Pt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function S0(l){if(Ln.isDocumentKey(l))throw new rn(Pt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${l} has ${l.length}.`)}function $f(l){if(void 0===l)return"undefined";if(null===l)return"null";if("string"==typeof l)return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if("number"==typeof l||"boolean"==typeof l)return""+l;if("object"==typeof l){if(l instanceof Array)return"an array";{const n=(a=l).constructor?a.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var a;return"function"==typeof l?"a function":Jn()}function Ii(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new rn(Pt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const a=$f(l);throw new rn(Pt.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${a}`)}}return l}class Lg{constructor(n){var a;if(void 0===n.host){if(void 0!==n.ssl)throw new rn(Pt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=n.host,this.ssl=null===(a=n.ssl)||void 0===a||a;if(this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,void 0===n.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==n.cacheSizeBytes&&n.cacheSizeBytes<1048576)throw new rn(Pt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.useFetchStreams=!!n.useFetchStreams,function y_(l,n,a,d){if(!0===n&&!0===d)throw new rn(Pt.INVALID_ARGUMENT,`${l} and ${a} cannot be used together.`)}("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling)}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Kf{constructor(n,a,d){this._authCredentials=a,this._appCheckCredentials=d,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lg({}),this._settingsFrozen=!1,n instanceof yc?this._databaseId=n:(this._app=n,this._databaseId=function(g){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new rn(Pt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yc(g.options.projectId)}(n))}get app(){if(!this._app)throw new rn(Pt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(n){if(this._settingsFrozen)throw new rn(Pt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lg(n),void 0!==n.credentials&&(this._authCredentials=function(a){if(!a)return new ic;switch(a.type){case"gapi":const d=a.client;return Cr(!("object"!=typeof d||null===d||!d.auth||!d.auth.getAuthHeaderValueForFirstParty)),new k(d,a.sessionIndex||"0",a.iamToken||null);case"provider":return a.client;default:throw new rn(Pt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const a=v_.get(n);a&&(_n("ComponentProvider","Removing Datastore"),v_.delete(n),a.terminate())}(this),Promise.resolve()}}class Wo{constructor(n,a,d){this.converter=a,this._key=d,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yc(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Wo(this.firestore,n,this._key)}}class wi{constructor(n,a,d){this.converter=a,this._query=d,this.type="query",this.firestore=n}withConverter(n){return new wi(this.firestore,n,this._query)}}class Yc extends wi{constructor(n,a,d){super(n,a,wr(d)),this._path=d,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Wo(this.firestore,null,new Ln(n))}withConverter(n){return new Yc(this.firestore,n,this._path)}}function Yv(l,n,...a){if(l=(0,M.m9)(l),kg("collection","path",n),l instanceof Kf){const d=lr.fromString(n,...a);return S0(d),new Yc(l,null,d)}{if(!(l instanceof Wo||l instanceof Yc))throw new rn(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(lr.fromString(n,...a));return S0(d),new Yc(l.firestore,null,d)}}function Qv(l,n,...a){if(l=(0,M.m9)(l),1===arguments.length&&(n=Ue.R()),kg("doc","path",n),l instanceof Kf){const d=lr.fromString(n,...a);return b_(d),new Wo(l,null,new Ln(d))}{if(!(l instanceof Wo||l instanceof Yc))throw new rn(Pt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const d=l._path.child(lr.fromString(n,...a));return b_(d),new Wo(l.firestore,l instanceof Yc?l.converter:null,new Ln(d))}}class Bg{constructor(){this.Du=Promise.resolve(),this.Cu=[],this.xu=!1,this.Nu=[],this.ku=null,this.Mu=!1,this.Ou=!1,this.$u=[],this.vo=new Dh(this,"async_queue_retry"),this.Fu=()=>{const a=Nf();a&&_n("AsyncQueue","Visibility state changed to "+a.visibilityState),this.vo.To()};const n=Nf();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Fu)}get isShuttingDown(){return this.xu}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.Bu(),this.Lu(n)}enterRestrictedMode(n){if(!this.xu){this.xu=!0,this.Ou=n||!1;const a=Nf();a&&"function"==typeof a.removeEventListener&&a.removeEventListener("visibilitychange",this.Fu)}}enqueue(n){if(this.Bu(),this.xu)return new Promise(()=>{});const a=new Oi;return this.Lu(()=>this.xu&&this.Ou?Promise.resolve():(n().then(a.resolve,a.reject),a.promise)).then(()=>a.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Cu.push(n),this.qu()))}qu(){var n=this;return(0,p.Z)(function*(){if(0!==n.Cu.length){try{yield n.Cu[0](),n.Cu.shift(),n.vo.reset()}catch(a){if(!Tc(a))throw a;_n("AsyncQueue","Operation failed with retryable error: "+a)}n.Cu.length>0&&n.vo.po(()=>n.qu())}})()}Lu(n){const a=this.Du.then(()=>(this.Mu=!0,n().catch(d=>{throw this.ku=d,this.Mu=!1,di("INTERNAL UNHANDLED ERROR: ",function(b){let E=b.message||"";return b.stack&&(E=b.stack.includes(b.message)?b.stack:b.message+"\n"+b.stack),E}(d)),d}).then(d=>(this.Mu=!1,d))));return this.Du=a,a}enqueueAfterDelay(n,a,d){this.Bu(),this.$u.indexOf(n)>-1&&(a=0);const g=Ih.createAndSchedule(this,n,a,d,b=>this.Uu(b));return this.Nu.push(g),g}Bu(){this.ku&&Jn()}verifyOperationInProgress(){}Ku(){var n=this;return(0,p.Z)(function*(){let a;do{a=n.Du,yield a}while(a!==n.Du)})()}Gu(n){for(const a of this.Nu)if(a.timerId===n)return!0;return!1}Qu(n){return this.Ku().then(()=>{this.Nu.sort((a,d)=>a.targetTimeMs-d.targetTimeMs);for(const a of this.Nu)if(a.skipDelay(),"all"!==n&&a.timerId===n)break;return this.Ku()})}ju(n){this.$u.push(n)}Uu(n){const a=this.Nu.indexOf(n);this.Nu.splice(a,1)}}function Ug(l){return function(n,a){if("object"!=typeof n||null===n)return!1;const d=n;for(const g of["next","error","complete"])if(g in d&&"function"==typeof d[g])return!0;return!1}(l)}class wo extends Kf{constructor(n,a,d){super(n,a,d),this.type="firestore",this._queue=new Bg,this._persistenceKey="name"in n?n.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||T_(this),this._firestoreClient.terminate()}}function w_(l=(0,e.getApp)()){return(0,e._getProvider)(l,"firestore").getImmediate()}function As(l){return l._firestoreClient||T_(l),l._firestoreClient.verifyNotTerminated(),l._firestoreClient}function T_(l){var n;const a=l._freezeSettings(),d=(b=(null===(n=l._app)||void 0===n?void 0:n.options.appId)||"",new Ul(l._databaseId,b,l._persistenceKey,(F=a).host,F.ssl,F.experimentalForceLongPolling,F.experimentalAutoDetectLongPolling,F.useFetchStreams));var b,F;l._firestoreClient=new Ic(l._authCredentials,l._appCheckCredentials,l._queue,d)}class Fd{constructor(...n){for(let a=0;a<n.length;++a)if(0===n[a].length)throw new rn(Pt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ji(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}class Yu{constructor(n){this._byteString=n}static fromBase64String(n){try{return new Yu(to.fromBase64String(n))}catch(a){throw new rn(Pt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+a)}}static fromUint8Array(n){return new Yu(to.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}}class E_{constructor(n){this._methodName=n}}class Yf{constructor(n,a){if(!isFinite(n)||n<-90||n>90)throw new rn(Pt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(a)||a<-180||a>180)throw new rn(Pt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+a);this._lat=n,this._long=a}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(n){return je(this._lat,n._lat)||je(this._long,n._long)}}const P0=/^__.*__$/;class D_{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return null!==this.fieldMask?new Ms(n,this.data,this.fieldMask,a,this.fieldTransforms):new Au(n,this.data,a,this.fieldTransforms)}}class sy{constructor(n,a,d){this.data=n,this.fieldMask=a,this.fieldTransforms=d}toMutation(n,a){return new Ms(n,this.data,this.fieldMask,a,this.fieldTransforms)}}function Hg(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Jn()}}class Zg{constructor(n,a,d,g,b,E){this.settings=n,this.databaseId=a,this.M=d,this.ignoreUndefinedProperties=g,void 0===b&&this.Wu(),this.fieldTransforms=b||[],this.fieldMask=E||[]}get path(){return this.settings.path}get zu(){return this.settings.zu}Hu(n){return new Zg(Object.assign(Object.assign({},this.settings),n),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ju(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Xu(n),g}Zu(n){var a;const d=null===(a=this.path)||void 0===a?void 0:a.child(n),g=this.Hu({path:d,Yu:!1});return g.Wu(),g}tc(n){return this.Hu({path:void 0,Yu:!0})}ec(n){return Xi(n,this.settings.methodName,this.settings.nc||!1,this.path,this.settings.sc)}contains(n){return void 0!==this.fieldMask.find(a=>n.isPrefixOf(a))||void 0!==this.fieldTransforms.find(a=>n.isPrefixOf(a.field))}Wu(){if(this.path)for(let n=0;n<this.path.length;n++)this.Xu(this.path.get(n))}Xu(n){if(0===n.length)throw this.ec("Document fields must not be empty");if(Hg(this.zu)&&P0.test(n))throw this.ec('Document fields cannot begin and end with "__"')}}class Eb{constructor(n,a,d){this.databaseId=n,this.ignoreUndefinedProperties=a,this.M=d||Zu(n)}ic(n,a,d,g=!1){return new Zg({zu:n,methodName:a,sc:d,path:Ji.emptyPath(),Yu:!1,nc:g},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Pl(l){const n=l._freezeSettings(),a=Zu(l._databaseId);return new Eb(l._databaseId,!!n.ignoreUndefinedProperties,a)}function qg(l,n,a,d,g,b={}){const E=l.ic(b.merge||b.mergeFields?2:0,n,a,g);Xf("Data must be an object, but it was:",E,d);const F=Kg(d,E);let te,he;if(b.merge)te=new ls(E.fieldMask),he=E.fieldTransforms;else if(b.mergeFields){const ze=[];for(const ot of b.mergeFields){const xt=Hh(n,ot,a);if(!E.contains(xt))throw new rn(Pt.INVALID_ARGUMENT,`Field '${xt}' is specified in your field mask but missing from your input data.`);ep(ze,xt)||ze.push(xt)}te=new ls(ze),he=E.fieldTransforms.filter(ot=>te.covers(ot.field))}else te=null,he=E.fieldTransforms;return new D_(new lo(F),te,he)}class Bd extends E_{_toFieldTransform(n){if(2!==n.zu)throw n.ec(1===n.zu?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return n.fieldMask.push(n.path),null}isEqual(n){return n instanceof Bd}}function Ol(l,n){if(A_(l=(0,M.m9)(l)))return Xf("Unsupported field value:",n,l),Kg(l,n);if(l instanceof E_)return function(a,d){if(!Hg(d.zu))throw d.ec(`${a._methodName}() can only be used with update() and set()`);if(!d.path)throw d.ec(`${a._methodName}() is not currently supported inside arrays`);const g=a._toFieldTransform(d);g&&d.fieldTransforms.push(g)}(l,n),null;if(void 0===l&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.Yu&&4!==n.zu)throw n.ec("Nested arrays are not supported");return function(a,d){const g=[];let b=0;for(const E of a){let F=Ol(E,d.tc(b));null==F&&(F={nullValue:"NULL_VALUE"}),g.push(F),b++}return{arrayValue:{values:g}}}(l,n)}return function(a,d){if(null===(a=(0,M.m9)(a)))return{nullValue:"NULL_VALUE"};if("number"==typeof a)return ns(d.M,a);if("boolean"==typeof a)return{booleanValue:a};if("string"==typeof a)return{stringValue:a};if(a instanceof Date){const g=Rn.fromDate(a);return{timestampValue:ho(d.M,g)}}if(a instanceof Rn){const g=new Rn(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ho(d.M,g)}}if(a instanceof Yf)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Yu)return{bytesValue:uf(d.M,a._byteString)};if(a instanceof Wo){const g=d.databaseId,b=a.firestore._databaseId;if(!b.isEqual(g))throw d.ec(`Document reference is for database ${b.projectId}/${b.database} but should be for database ${g.projectId}/${g.database}`);return{referenceValue:oh(a.firestore._databaseId||d.databaseId,a._key.path)}}throw d.ec(`Unsupported field value: ${$f(a)}`)}(l,n)}function Kg(l,n){const a={};return ei(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):Tr(l,(d,g)=>{const b=Ol(g,n.Ju(d));null!=b&&(a[d]=b)}),{mapValue:{fields:a}}}function A_(l){return!("object"!=typeof l||null===l||l instanceof Array||l instanceof Date||l instanceof Rn||l instanceof Yf||l instanceof Yu||l instanceof Wo||l instanceof E_)}function Xf(l,n,a){if(!A_(a)||"object"!=typeof(d=a)||null===d||Object.getPrototypeOf(d)!==Object.prototype&&null!==Object.getPrototypeOf(d)){const d=$f(a);throw n.ec("an object"===d?l+" a custom object":l+" "+d)}var d}function Hh(l,n,a){if((n=(0,M.m9)(n))instanceof Fd)return n._internalPath;if("string"==typeof n)return Js(l,n);throw Xi("Field path arguments must be of type string or ",l,!1,void 0,a)}const N0=new RegExp("[~\\*/\\[\\]]");function Js(l,n,a){if(n.search(N0)>=0)throw Xi(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,a);try{return new Fd(...n.split("."))._internalPath}catch(d){throw Xi(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,a)}}function Xi(l,n,a,d,g){const b=d&&!d.isEmpty(),E=void 0!==g;let F=`Function ${n}() called with invalid data`;a&&(F+=" (via `toFirestore()`)"),F+=". ";let te="";return(b||E)&&(te+=" (found",b&&(te+=` in field ${d}`),E&&(te+=` in document ${g}`),te+=")"),new rn(Pt.INVALID_ARGUMENT,F+l+te)}function ep(l,n){return l.some(a=>a.isEqual(n))}class Zh{constructor(n,a,d,g,b){this._firestore=n,this._userDataWriter=a,this._key=d,this._document=g,this._converter=b}get id(){return this._key.path.lastSegment()}get ref(){return new Wo(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const n=new tp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const a=this._document.data.field(Ud("DocumentSnapshot.get",n));if(null!==a)return this._userDataWriter.convertValue(a)}}}class tp extends Zh{data(){return super.data()}}function Ud(l,n){return"string"==typeof n?Js(l,n):n instanceof Fd?n._internalPath:n._delegate._internalPath}class au{constructor(n,a){this.hasPendingWrites=n,this.fromCache=a}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class cu extends Zh{constructor(n,a,d,g,b,E){super(n,a,d,g,E),this._firestore=n,this._firestoreImpl=n,this.metadata=b}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const a=new np(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(a,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,a={}){if(this._document){const d=this._document.data.field(Ud("DocumentSnapshot.get",n));if(null!==d)return this._userDataWriter.convertValue(d,a.serverTimestamps)}}}class np extends cu{data(n={}){return super.data(n)}}class Oc{constructor(n,a,d,g){this._firestore=n,this._userDataWriter=a,this._snapshot=g,this.metadata=new au(g.hasPendingWrites,g.fromCache),this.query=d}get docs(){const n=[];return this.forEach(a=>n.push(a)),n}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(n,a){this._snapshot.docs.forEach(d=>{n.call(a,new np(this._firestore,this._userDataWriter,d.key,d,new au(this._snapshot.mutatedKeys.has(d.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const a=!!n.includeMetadataChanges;if(a&&this._snapshot.excludesMetadataChanges)throw new rn(Pt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===a||(this._cachedChanges=function(d,g){if(d._snapshot.oldDocs.isEmpty()){let b=0;return d._snapshot.docChanges.map(E=>({type:"added",doc:new np(d._firestore,d._userDataWriter,E.doc.key,E.doc,new au(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter),oldIndex:-1,newIndex:b++}))}{let b=d._snapshot.oldDocs;return d._snapshot.docChanges.filter(E=>g||3!==E.type).map(E=>{const F=new np(d._firestore,d._userDataWriter,E.doc.key,E.doc,new au(d._snapshot.mutatedKeys.has(E.doc.key),d._snapshot.fromCache),d.query.converter);let te=-1,he=-1;return 0!==E.type&&(te=b.indexOf(E.doc.key),b=b.delete(E.doc.key)),1!==E.type&&(b=b.add(E.doc),he=b.indexOf(E.doc.key)),{type:jd(E.type),doc:F,oldIndex:te,newIndex:he}})}}(this,a),this._cachedChangesIncludeMetadataChanges=a),this._cachedChanges}}function jd(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Jn()}}function Qu(l,n,a){let d;return d=l?a&&(a.merge||a.mergeFields)?l.toFirestore(n,a):l.toFirestore(n):n,d}class ly{constructor(n,a){this._firestore=n,this._commitHandler=a,this._mutations=[],this._committed=!1,this._dataReader=Pl(n)}set(n,a,d){this._verifyNotCommitted();const g=ip(n,this._firestore),b=Qu(g.converter,a,d),E=qg(this._dataReader,"WriteBatch.set",g._key,b,null!==g.converter,d);return this._mutations.push(E.toMutation(g._key,qi.none())),this}update(n,a,d,...g){this._verifyNotCommitted();const b=ip(n,this._firestore);let E;return E="string"==typeof(a=(0,M.m9)(a))||a instanceof Fd?function M0(l,n,a,d,g,b){const E=l.ic(1,n,a),F=[Hh(n,d,a)],te=[g];if(b.length%2!=0)throw new rn(Pt.INVALID_ARGUMENT,`Function ${n}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let xt=0;xt<b.length;xt+=2)F.push(Hh(n,b[xt])),te.push(b[xt+1]);const he=[],ze=lo.empty();for(let xt=F.length-1;xt>=0;--xt)if(!ep(he,F[xt])){const Kt=F[xt];let an=te[xt];an=(0,M.m9)(an);const ar=E.Zu(Kt);if(an instanceof Bd)he.push(Kt);else{const qr=Ol(an,ar);null!=qr&&(he.push(Kt),ze.set(Kt,qr))}}const ot=new ls(he);return new sy(ze,ot,E.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a,d,g):function O0(l,n,a,d){const g=l.ic(1,n,a);Xf("Data must be an object, but it was:",g,d);const b=[],E=lo.empty();Tr(d,(te,he)=>{const ze=Js(n,te,a);he=(0,M.m9)(he);const ot=g.Zu(ze);if(he instanceof Bd)b.push(ze);else{const xt=Ol(he,ot);null!=xt&&(b.push(ze),E.set(ze,xt))}});const F=new ls(b);return new sy(E,F,g.fieldTransforms)}(this._dataReader,"WriteBatch.update",b._key,a),this._mutations.push(E.toMutation(b._key,qi.exists(!0))),this}delete(n){this._verifyNotCommitted();const a=ip(n,this._firestore);return this._mutations=this._mutations.concat(new pl(a._key,qi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new rn(Pt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function ip(l,n){if((l=(0,M.m9)(l)).firestore!==n)throw new rn(Pt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return l}class Xu extends class B0{convertValue(n,a="none"){switch(Fa(n)){case 0:return null;case 1:return n.booleanValue;case 2:return yi(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,a);case 5:return n.stringValue;case 6:return this.convertBytes(us(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,a);case 10:return this.convertObject(n.mapValue,a);default:throw Jn()}}convertObject(n,a){const d={};return Tr(n.fields,(g,b)=>{d[g]=this.convertValue(b,a)}),d}convertGeoPoint(n){return new Yf(yi(n.latitude),yi(n.longitude))}convertArray(n,a){return(n.values||[]).map(d=>this.convertValue(d,a))}convertServerTimestamp(n,a){switch(a){case"previous":const d=Bl(n);return null==d?null:this.convertValue(d,a);case"estimate":return this.convertTimestamp(xo(n));default:return null}}convertTimestamp(n){const a=vi(n);return new Rn(a.seconds,a.nanos)}convertDocumentKey(n,a){const d=lr.fromString(n);Cr(kp(d));const g=new yc(d.get(1),d.get(3)),b=new Ln(d.popFirst(5));return g.isEqual(a)||di(`Document ${b} contains a document reference within a different database (${g.projectId}/${g.database}) which is not supported. It will be treated as a reference in the current database (${a.projectId}/${a.database}) instead.`),b}}{constructor(n){super(),this.firestore=n}convertBytes(n){return new Yu(n)}convertReference(n){const a=this.convertDocumentKey(n,this.firestore._databaseId);return new Wo(this.firestore,null,a)}}function zh(l,n,a){l=Ii(l,Wo);const d=Ii(l.firestore,wo),g=Qu(l.converter,n,a);return op(d,[qg(Pl(d),"setDoc",l._key,g,null!==l.converter,a).toMutation(l._key,qi.none())])}function Aa(l){return op(Ii(l.firestore,wo),[new pl(l._key,qi.none())])}function Xc(l,n){const a=Ii(l.firestore,wo),d=Qv(l),g=Qu(l.converter,n);return op(a,[qg(Pl(l.firestore),"addDoc",d._key,g,null!==l.converter,{}).toMutation(d._key,qi.exists(!1))]).then(()=>d)}function Xg(l,...n){var a,d,g;l=(0,M.m9)(l);let b={includeMetadataChanges:!1},E=0;"object"!=typeof n[E]||Ug(n[E])||(b=n[E],E++);const F={includeMetadataChanges:b.includeMetadataChanges};if(Ug(n[E])){const ot=n[E];n[E]=null===(a=ot.next)||void 0===a?void 0:a.bind(ot),n[E+1]=null===(d=ot.error)||void 0===d?void 0:d.bind(ot),n[E+2]=null===(g=ot.complete)||void 0===g?void 0:g.bind(ot)}let te,he,ze;if(l instanceof Wo)he=Ii(l.firestore,wo),ze=wr(l._key.path),te={next:ot=>{n[E]&&n[E](function em(l,n,a){const d=a.docs.get(n._key),g=new Xu(l);return new cu(l,g,n._key,d,new au(a.hasPendingWrites,a.fromCache),n.converter)}(he,l,ot))},error:n[E+1],complete:n[E+2]};else{const ot=Ii(l,wi);he=Ii(ot.firestore,wo),ze=ot._query;const xt=new Xu(he);te={next:Kt=>{n[E]&&n[E](new Oc(he,xt,ot,Kt))},error:n[E+1],complete:n[E+2]},function Jg(l){if(uo(l)&&0===l.explicitOrderBy.length)throw new rn(Pt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(l._query)}return function(ot,xt,Kt,an){const ar=new Fh(an),qr=new Ph(xt,ar,Kt);return ot.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function t_(l,n){return mg.apply(this,arguments)}(yield Jc(ot),qr)})),()=>{ar.mu(),ot.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function _g(l,n){return vg.apply(this,arguments)}(yield Jc(ot),qr)}))}}(As(he),ze,F,te)}function op(l,n){return function(a,d){const g=new Oi;return a.asyncQueue.enqueueAndForget((0,p.Z)(function*(){return function Tg(l,n,a){return Ks.apply(this,arguments)}(yield function $u(l){return Il(l).then(n=>n.syncEngine)}(a),d,g)})),g.promise}(As(l),n)}function k_(l){return As(l=Ii(l,wo)),new ly(l,n=>op(l,n))}!function(l,n=!0){So=e.SDK_VERSION,(0,e._registerComponent)(new w.wA("firestore",(a,{options:d})=>{const g=a.getProvider("app").getImmediate(),b=new wo(g,new sd(a.getProvider("auth-internal")),new S(a.getProvider("app-check-internal")));return d=Object.assign({useFetchStreams:n},d),b._setSettings(d),b},"PUBLIC")),(0,e.registerVersion)(nc,"3.4.6",l),(0,e.registerVersion)(nc,"3.4.6","esm2017")}()},5199:(pt,D,A)=>{pt=A.nmd(pt);var e="__lodash_hash_undefined__",M=9007199254740991,G="[object Arguments]",ge="[object Function]",_e="[object Object]",Rt=/^\[object .+?Constructor\]$/,Et=/^(?:0|[1-9]\d*)$/,Ht={};Ht["[object Float32Array]"]=Ht["[object Float64Array]"]=Ht["[object Int8Array]"]=Ht["[object Int16Array]"]=Ht["[object Int32Array]"]=Ht["[object Uint8Array]"]=Ht["[object Uint8ClampedArray]"]=Ht["[object Uint16Array]"]=Ht["[object Uint32Array]"]=!0,Ht[G]=Ht["[object Array]"]=Ht["[object ArrayBuffer]"]=Ht["[object Boolean]"]=Ht["[object DataView]"]=Ht["[object Date]"]=Ht["[object Error]"]=Ht[ge]=Ht["[object Map]"]=Ht["[object Number]"]=Ht[_e]=Ht["[object RegExp]"]=Ht["[object Set]"]=Ht["[object String]"]=Ht["[object WeakMap]"]=!1;var yn="object"==typeof global&&global&&global.Object===Object&&global,rr="object"==typeof self&&self&&self.Object===Object&&self,$n=yn||rr||Function("return this")(),Dr=D&&!D.nodeType&&D,br=Dr&&pt&&!pt.nodeType&&pt,vr=br&&br.exports===Dr,ni=vr&&yn.process,xr=function(){try{return br&&br.require&&br.require("util").types||ni&&ni.binding&&ni.binding("util")}catch(Ie){}}(),jr=xr&&xr.isTypedArray;function Ni(re,Ie,Ve){switch(Ve.length){case 0:return re.call(Ie);case 1:return re.call(Ie,Ve[0]);case 2:return re.call(Ie,Ve[0],Ve[1]);case 3:return re.call(Ie,Ve[0],Ve[1],Ve[2])}return re.apply(Ie,Ve)}var re,Bn=Array.prototype,ri=Object.prototype,Qr=$n["__core-js_shared__"],Fe=Function.prototype.toString,gt=ri.hasOwnProperty,Be=(re=/[^.]+$/.exec(Qr&&Qr.keys&&Qr.keys.IE_PROTO||""))?"Symbol(src)_1."+re:"",ce=ri.toString,ye=Fe.call(Object),at=RegExp("^"+Fe.call(gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ct=vr?$n.Buffer:void 0,yt=$n.Symbol,Ot=$n.Uint8Array,dn=ct?ct.allocUnsafe:void 0,qt=function Bi(re,Ie){return function(Ve){return re(Ie(Ve))}}(Object.getPrototypeOf,Object),cn=Object.create,Gn=ri.propertyIsEnumerable,fn=Bn.splice,Hn=yt?yt.toStringTag:void 0,jt=function(){try{var re=Vr(Object,"defineProperty");return re({},"",{}),re}catch(Ie){}}(),Xn=ct?ct.isBuffer:void 0,kn=Math.max,Bt=Date.now,ht=Vr($n,"Map"),tn=Vr(Object,"create"),vn=function(){function re(){}return function(Ie){if(!Oe(Ie))return{};if(cn)return cn(Ie);re.prototype=Ie;var Ve=new re;return re.prototype=void 0,Ve}}();function Zn(re){var Ie=-1,Ve=null==re?0:re.length;for(this.clear();++Ie<Ve;){var Tt=re[Ie];this.set(Tt[0],Tt[1])}}function $e(re){var Ie=-1,Ve=null==re?0:re.length;for(this.clear();++Ie<Ve;){var Tt=re[Ie];this.set(Tt[0],Tt[1])}}function sr(re){var Ie=-1,Ve=null==re?0:re.length;for(this.clear();++Ie<Ve;){var Tt=re[Ie];this.set(Tt[0],Tt[1])}}function ln(re){var Ie=this.__data__=new $e(re);this.size=Ie.size}function gn(re,Ie,Ve){(void 0!==Ve&&!Do(re[Ie],Ve)||void 0===Ve&&!(Ie in re))&&Mn(re,Ie,Ve)}function xn(re,Ie,Ve){var Tt=re[Ie];(!gt.call(re,Ie)||!Do(Tt,Ve)||void 0===Ve&&!(Ie in re))&&Mn(re,Ie,Ve)}function mn(re,Ie){for(var Ve=re.length;Ve--;)if(Do(re[Ve][0],Ie))return Ve;return-1}function Mn(re,Ie,Ve){"__proto__"==Ie&&jt?jt(re,Ie,{configurable:!0,enumerable:!0,value:Ve,writable:!0}):re[Ie]=Ve}Zn.prototype.clear=function jn(){this.__data__=tn?tn(null):{},this.size=0},Zn.prototype.delete=function Pe(re){var Ie=this.has(re)&&delete this.__data__[re];return this.size-=Ie?1:0,Ie},Zn.prototype.get=function Se(re){var Ie=this.__data__;if(tn){var Ve=Ie[re];return Ve===e?void 0:Ve}return gt.call(Ie,re)?Ie[re]:void 0},Zn.prototype.has=function be(re){var Ie=this.__data__;return tn?void 0!==Ie[re]:gt.call(Ie,re)},Zn.prototype.set=function lt(re,Ie){var Ve=this.__data__;return this.size+=this.has(re)?0:1,Ve[re]=tn&&void 0===Ie?e:Ie,this},$e.prototype.clear=function zt(){this.__data__=[],this.size=0},$e.prototype.delete=function qn(re){var Ie=this.__data__,Ve=mn(Ie,re);return!(Ve<0||(Ve==Ie.length-1?Ie.pop():fn.call(Ie,Ve,1),--this.size,0))},$e.prototype.get=function zn(re){var Ie=this.__data__,Ve=mn(Ie,re);return Ve<0?void 0:Ie[Ve][1]},$e.prototype.has=function ir(re){return mn(this.__data__,re)>-1},$e.prototype.set=function or(re,Ie){var Ve=this.__data__,Tt=mn(Ve,re);return Tt<0?(++this.size,Ve.push([re,Ie])):Ve[Tt][1]=Ie,this},sr.prototype.clear=function Cn(){this.size=0,this.__data__={hash:new Zn,map:new(ht||$e),string:new Zn}},sr.prototype.delete=function In(re){var Ie=Sr(this,re).delete(re);return this.size-=Ie?1:0,Ie},sr.prototype.get=function wn(re){return Sr(this,re).get(re)},sr.prototype.has=function Qe(re){return Sr(this,re).has(re)},sr.prototype.set=function wt(re,Ie){var Ve=Sr(this,re),Tt=Ve.size;return Ve.set(re,Ie),this.size+=Ve.size==Tt?0:1,this},ln.prototype.clear=function Yn(){this.__data__=new $e,this.size=0},ln.prototype.delete=function gr(re){var Ie=this.__data__,Ve=Ie.delete(re);return this.size=Ie.size,Ve},ln.prototype.get=function Yt(re){return this.__data__.get(re)},ln.prototype.has=function on(re){return this.__data__.has(re)},ln.prototype.set=function et(re,Ie){var Ve=this.__data__;if(Ve instanceof $e){var Tt=Ve.__data__;if(!ht||Tt.length<199)return Tt.push([re,Ie]),this.size=++Ve.size,this;Ve=this.__data__=new sr(Tt)}return Ve.set(re,Ie),this.size=Ve.size,this};var tr=function $t(re){return function(Ie,Ve,Tt){for(var hn=-1,An=Object(Ie),Pn=Tt(Ie),Fn=Pn.length;Fn--;){var dr=Pn[re?Fn:++hn];if(!1===Ve(An[dr],dr,An))break}return Ie}}();function pn(re){return null==re?void 0===re?"[object Undefined]":"[object Null]":Hn&&Hn in Object(re)?function Ir(re){var Ie=gt.call(re,Hn),Ve=re[Hn];try{re[Hn]=void 0;var Tt=!0}catch(An){}var hn=ce.call(re);return Tt&&(Ie?re[Hn]=Ve:delete re[Hn]),hn}(re):function oo(re){return ce.call(re)}(re)}function Vn(re){return de(re)&&pn(re)==G}function Di(re,Ie,Ve,Tt,hn){re!==Ie&&tr(Ie,function(An,Pn){if(hn||(hn=new ln),Oe(An))!function io(re,Ie,Ve,Tt,hn,An,Pn){var Fn=os(re,Ve),dr=os(Ie,Ve),Mr=Pn.get(dr);if(Mr)gn(re,Ve,Mr);else{var Xr=An?An(Fn,dr,Ve+"",re,Ie,Pn):void 0,Ki=void 0===Xr;if(Ki){var jo=Jo(dr),Gr=!jo&&ss(dr),H=!jo&&!Gr&&Z(dr);Xr=dr,jo||Gr||H?Jo(Fn)?Xr=Fn:function vo(re){return de(re)&&Si(re)}(Fn)?Xr=function We(re,Ie){var Ve=-1,Tt=re.length;for(Ie||(Ie=Array(Tt));++Ve<Tt;)Ie[Ve]=re[Ve];return Ie}(Fn):Gr?(Ki=!1,Xr=function $i(re,Ie){if(Ie)return re.slice();var Ve=re.length,Tt=dn?dn(Ve):new re.constructor(Ve);return re.copy(Tt),Tt}(dr,!0)):H?(Ki=!1,Xr=function st(re,Ie){var Ve=Ie?function Jr(re){var Ie=new re.constructor(re.byteLength);return new Ot(Ie).set(new Ot(re)),Ie}(re.buffer):re.buffer;return new re.constructor(Ve,re.byteOffset,re.length)}(dr,!0)):Xr=[]:function R(re){if(!de(re)||pn(re)!=_e)return!1;var Ie=qt(re);if(null===Ie)return!0;var Ve=gt.call(Ie,"constructor")&&Ie.constructor;return"function"==typeof Ve&&Ve instanceof Ve&&Fe.call(Ve)==ye}(dr)||Is(dr)?(Xr=Fn,Is(Fn)?Xr=function W(re){return function bt(re,Ie,Ve,Tt){var hn=!Ve;Ve||(Ve={});for(var An=-1,Pn=Ie.length;++An<Pn;){var Fn=Ie[An],dr=Tt?Tt(Ve[Fn],re[Fn],Fn,Ve,re):void 0;void 0===dr&&(dr=re[Fn]),hn?Mn(Ve,Fn,dr):xn(Ve,Fn,dr)}return Ve}(re,Te(re))}(Fn):(!Oe(Fn)||po(Fn))&&(Xr=function mi(re){return"function"!=typeof re.constructor||bs(re)?{}:vn(qt(re))}(dr))):Ki=!1}Ki&&(Pn.set(dr,Xr),hn(Xr,dr,Tt,An,Pn),Pn.delete(dr)),gn(re,Ve,Xr)}}(re,Ie,Pn,Ve,Di,Tt,hn);else{var Fn=Tt?Tt(os(re,Pn),An,Pn+"",re,Ie,hn):void 0;void 0===Fn&&(Fn=An),gn(re,Pn,Fn)}},Te)}function Wi(re,Ie){return ji(function Ko(re,Ie,Ve){return Ie=kn(void 0===Ie?re.length-1:Ie,0),function(){for(var Tt=arguments,hn=-1,An=kn(Tt.length-Ie,0),Pn=Array(An);++hn<An;)Pn[hn]=Tt[Ie+hn];hn=-1;for(var Fn=Array(Ie+1);++hn<Ie;)Fn[hn]=Tt[hn];return Fn[Ie]=Ve(Pn),Ni(re,this,Fn)}}(re,Ie,Le),re+"")}var Wr=jt?function(re,Ie){return jt(re,"toString",{configurable:!0,enumerable:!1,value:xe(Ie),writable:!0})}:Le;function bn(re,Ie,Ve,Tt,hn,An){return Oe(re)&&Oe(Ie)&&(An.set(Ie,re),Di(re,Ie,void 0,bn,An),An.delete(Ie)),re}function Sr(re,Ie){var Ve=re.__data__;return function Eo(re){var Ie=typeof re;return"string"==Ie||"number"==Ie||"symbol"==Ie||"boolean"==Ie?"__proto__"!==re:null===re}(Ie)?Ve["string"==typeof Ie?"string":"hash"]:Ve.map}function Vr(re,Ie){var Ve=function Zr(re,Ie){return null==re?void 0:re[Ie]}(re,Ie);return function Or(re){return!(!Oe(re)||function Ui(re){return!!Be&&Be in re}(re))&&(po(re)?at:Rt).test(function Zi(re){if(null!=re){try{return Fe.call(re)}catch(Ie){}try{return re+""}catch(Ie){}}return""}(re))}(Ve)?Ve:void 0}function Ro(re,Ie){var Ve=typeof re;return!!(Ie=null==Ie?M:Ie)&&("number"==Ve||"symbol"!=Ve&&Et.test(re))&&re>-1&&re%1==0&&re<Ie}function bs(re){var Ie=re&&re.constructor;return re===("function"==typeof Ie&&Ie.prototype||ri)}function os(re,Ie){if(("constructor"!==Ie||"function"!=typeof re[Ie])&&"__proto__"!=Ie)return re[Ie]}var ji=function so(re){var Ie=0,Ve=0;return function(){var Tt=Bt(),hn=16-(Tt-Ve);if(Ve=Tt,hn>0){if(++Ie>=800)return arguments[0]}else Ie=0;return re.apply(void 0,arguments)}}(Wr);function Do(re,Ie){return re===Ie||re!=re&&Ie!=Ie}var Is=Vn(function(){return arguments}())?Vn:function(re){return de(re)&&gt.call(re,"callee")&&!Gn.call(re,"callee")},Jo=Array.isArray;function Si(re){return null!=re&&Ce(re.length)&&!po(re)}var ss=Xn||function ut(){return!1};function po(re){if(!Oe(re))return!1;var Ie=pn(re);return Ie==ge||"[object GeneratorFunction]"==Ie||"[object AsyncFunction]"==Ie||"[object Proxy]"==Ie}function Ce(re){return"number"==typeof re&&re>-1&&re%1==0&&re<=M}function Oe(re){var Ie=typeof re;return null!=re&&("object"==Ie||"function"==Ie)}function de(re){return null!=re&&"object"==typeof re}var Z=jr?function Kr(re){return function(Ie){return re(Ie)}}(jr):function Qn(re){return de(re)&&Ce(re.length)&&!!Ht[pn(re)]},ne=Wi(function(re){return re.push(void 0,bn),Ni(Me,void 0,re)});function Te(re){return Si(re)?function Lt(re,Ie){var Ve=Jo(re),Tt=!Ve&&Is(re),hn=!Ve&&!Tt&&ss(re),An=!Ve&&!Tt&&!hn&&Z(re),Pn=Ve||Tt||hn||An,Fn=Pn?function Ei(re,Ie){for(var Ve=-1,Tt=Array(re);++Ve<re;)Tt[Ve]=Ie(Ve);return Tt}(re.length,String):[],dr=Fn.length;for(var Mr in re)(Ie||gt.call(re,Mr))&&(!Pn||!("length"==Mr||hn&&("offset"==Mr||"parent"==Mr)||An&&("buffer"==Mr||"byteLength"==Mr||"byteOffset"==Mr)||Ro(Mr,dr)))&&Fn.push(Mr);return Fn}(re,!0):function Lr(re){if(!Oe(re))return function is(re){var Ie=[];if(null!=re)for(var Ve in Object(re))Ie.push(Ve);return Ie}(re);var Ie=bs(re),Ve=[];for(var Tt in re)"constructor"==Tt&&(Ie||!gt.call(re,Tt))||Ve.push(Tt);return Ve}(re)}var Me=function Vt(re){return Wi(function(Ie,Ve){var Tt=-1,hn=Ve.length,An=hn>1?Ve[hn-1]:void 0,Pn=hn>2?Ve[2]:void 0;for(An=re.length>3&&"function"==typeof An?(hn--,An):void 0,Pn&&function Hi(re,Ie,Ve){if(!Oe(Ve))return!1;var Tt=typeof Ie;return!!("number"==Tt?Si(Ve)&&Ro(Ie,Ve.length):"string"==Tt&&Ie in Ve)&&Do(Ve[Ie],re)}(Ve[0],Ve[1],Pn)&&(An=hn<3?void 0:An,hn=1),Ie=Object(Ie);++Tt<hn;){var Fn=Ve[Tt];Fn&&re(Ie,Fn,Tt,An)}return Ie})}(function(re,Ie,Ve,Tt){Di(re,Ie,Ve,Tt)});function xe(re){return function(){return re}}function Le(re){return re}pt.exports=ne},1135:(pt,D,A)=>{"use strict";A.d(D,{X:()=>e});var p=A(7579);class e extends p.x{constructor(N){super(),this._value=N}get value(){return this.getValue()}_subscribe(N){const M=super._subscribe(N);return!M.closed&&N.next(this._value),M}getValue(){const{hasError:N,thrownError:M,_value:G}=this;if(N)throw M;return this._throwIfClosed(),G}next(N){super.next(this._value=N)}}},8306:(pt,D,A)=>{"use strict";A.d(D,{y:()=>K});var p=A(930),e=A(727),w=A(8822),N=A(4671);var ee=A(2416),Y=A(576),Q=A(2806);let K=(()=>{class Xe{constructor(vt){vt&&(this._subscribe=vt)}lift(vt){const _e=new Xe;return _e.source=this,_e.operator=vt,_e}subscribe(vt,_e,Ge){const ke=function dt(Xe){return Xe&&Xe instanceof p.Lv||function ge(Xe){return Xe&&(0,Y.m)(Xe.next)&&(0,Y.m)(Xe.error)&&(0,Y.m)(Xe.complete)}(Xe)&&(0,e.Nn)(Xe)}(vt)?vt:new p.Hp(vt,_e,Ge);return(0,Q.x)(()=>{const{operator:_t,source:Ke}=this;ke.add(_t?_t.call(ke,Ke):Ke?this._subscribe(ke):this._trySubscribe(ke))}),ke}_trySubscribe(vt){try{return this._subscribe(vt)}catch(_e){vt.error(_e)}}forEach(vt,_e){return new(_e=ie(_e))((Ge,ke)=>{const _t=new p.Hp({next:Ke=>{try{vt(Ke)}catch(rt){ke(rt),_t.unsubscribe()}},error:ke,complete:Ge});this.subscribe(_t)})}_subscribe(vt){var _e;return null===(_e=this.source)||void 0===_e?void 0:_e.subscribe(vt)}[w.L](){return this}pipe(...vt){return function G(Xe){return 0===Xe.length?N.y:1===Xe.length?Xe[0]:function(vt){return Xe.reduce((_e,Ge)=>Ge(_e),vt)}}(vt)(this)}toPromise(vt){return new(vt=ie(vt))((_e,Ge)=>{let ke;this.subscribe(_t=>ke=_t,_t=>Ge(_t),()=>_e(ke))})}}return Xe.create=Je=>new Xe(Je),Xe})();function ie(Xe){var Je;return null!==(Je=null!=Xe?Xe:ee.v.Promise)&&void 0!==Je?Je:Promise}},7579:(pt,D,A)=>{"use strict";A.d(D,{x:()=>ee});var p=A(8306),e=A(727);const N=(0,A(3888).d)(Q=>function(){Q(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var M=A(8737),G=A(2806);let ee=(()=>{class Q extends p.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const ge=new Y(this,this);return ge.operator=ie,ge}_throwIfClosed(){if(this.closed)throw new N}next(ie){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ge of this.currentObservers)ge.next(ie)}})}error(ie){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:ge}=this;for(;ge.length;)ge.shift().error(ie)}})}complete(){(0,G.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:ge,isStopped:dt,observers:Xe}=this;return ge||dt?e.Lc:(this.currentObservers=null,Xe.push(ie),new e.w0(()=>{this.currentObservers=null,(0,M.P)(Xe,ie)}))}_checkFinalizedStatuses(ie){const{hasError:ge,thrownError:dt,isStopped:Xe}=this;ge?ie.error(dt):Xe&&ie.complete()}asObservable(){const ie=new p.y;return ie.source=this,ie}}return Q.create=(K,ie)=>new Y(K,ie),Q})();class Y extends ee{constructor(K,ie){super(),this.destination=K,this.source=ie}next(K){var ie,ge;null===(ge=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===ge||ge.call(ie,K)}error(K){var ie,ge;null===(ge=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===ge||ge.call(ie,K)}complete(){var K,ie;null===(ie=null===(K=this.destination)||void 0===K?void 0:K.complete)||void 0===ie||ie.call(K)}_subscribe(K){var ie,ge;return null!==(ge=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(K))&&void 0!==ge?ge:e.Lc}}},930:(pt,D,A)=>{"use strict";A.d(D,{Hp:()=>vt,Lv:()=>ge});var p=A(576),e=A(727),w=A(2416),N=A(7849),M=A(5032);const G=Q("C",void 0,void 0);function Q(Ke,rt,Ae){return{kind:Ke,value:rt,error:Ae}}var K=A(3410),ie=A(2806);class ge extends e.w0{constructor(rt){super(),this.isStopped=!1,rt?(this.destination=rt,(0,e.Nn)(rt)&&rt.add(this)):this.destination=_t}static create(rt,Ae,it){return new vt(rt,Ae,it)}next(rt){this.isStopped?ke(function Y(Ke){return Q("N",Ke,void 0)}(rt),this):this._next(rt)}error(rt){this.isStopped?ke(function ee(Ke){return Q("E",void 0,Ke)}(rt),this):(this.isStopped=!0,this._error(rt))}complete(){this.isStopped?ke(G,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(rt){this.destination.next(rt)}_error(rt){try{this.destination.error(rt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const dt=Function.prototype.bind;function Xe(Ke,rt){return dt.call(Ke,rt)}class Je{constructor(rt){this.partialObserver=rt}next(rt){const{partialObserver:Ae}=this;if(Ae.next)try{Ae.next(rt)}catch(it){_e(it)}}error(rt){const{partialObserver:Ae}=this;if(Ae.error)try{Ae.error(rt)}catch(it){_e(it)}else _e(rt)}complete(){const{partialObserver:rt}=this;if(rt.complete)try{rt.complete()}catch(Ae){_e(Ae)}}}class vt extends ge{constructor(rt,Ae,it){let Ze;if(super(),(0,p.m)(rt)||!rt)Ze={next:null!=rt?rt:void 0,error:null!=Ae?Ae:void 0,complete:null!=it?it:void 0};else{let ft;this&&w.v.useDeprecatedNextContext?(ft=Object.create(rt),ft.unsubscribe=()=>this.unsubscribe(),Ze={next:rt.next&&Xe(rt.next,ft),error:rt.error&&Xe(rt.error,ft),complete:rt.complete&&Xe(rt.complete,ft)}):Ze=rt}this.destination=new Je(Ze)}}function _e(Ke){w.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(Ke):(0,N.h)(Ke)}function ke(Ke,rt){const{onStoppedNotification:Ae}=w.v;Ae&&K.z.setTimeout(()=>Ae(Ke,rt))}const _t={closed:!0,next:M.Z,error:function Ge(Ke){throw Ke},complete:M.Z}},727:(pt,D,A)=>{"use strict";A.d(D,{Lc:()=>G,w0:()=>M,Nn:()=>ee});var p=A(576);const w=(0,A(3888).d)(Q=>function(ie){Q(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((ge,dt)=>`${dt+1}) ${ge.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var N=A(8737);class M{constructor(K){this.initialTeardown=K,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let K;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const Xe of ie)Xe.remove(this);else ie.remove(this);const{initialTeardown:ge}=this;if((0,p.m)(ge))try{ge()}catch(Xe){K=Xe instanceof w?Xe.errors:[Xe]}const{_finalizers:dt}=this;if(dt){this._finalizers=null;for(const Xe of dt)try{Y(Xe)}catch(Je){K=null!=K?K:[],Je instanceof w?K=[...K,...Je.errors]:K.push(Je)}}if(K)throw new w(K)}}add(K){var ie;if(K&&K!==this)if(this.closed)Y(K);else{if(K instanceof M){if(K.closed||K._hasParent(this))return;K._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(K)}}_hasParent(K){const{_parentage:ie}=this;return ie===K||Array.isArray(ie)&&ie.includes(K)}_addParent(K){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(K),ie):ie?[ie,K]:K}_removeParent(K){const{_parentage:ie}=this;ie===K?this._parentage=null:Array.isArray(ie)&&(0,N.P)(ie,K)}remove(K){const{_finalizers:ie}=this;ie&&(0,N.P)(ie,K),K instanceof M&&K._removeParent(this)}}M.EMPTY=(()=>{const Q=new M;return Q.closed=!0,Q})();const G=M.EMPTY;function ee(Q){return Q instanceof M||Q&&"closed"in Q&&(0,p.m)(Q.remove)&&(0,p.m)(Q.add)&&(0,p.m)(Q.unsubscribe)}function Y(Q){(0,p.m)(Q)?Q():Q.unsubscribe()}},2416:(pt,D,A)=>{"use strict";A.d(D,{v:()=>p});const p={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},9841:(pt,D,A)=>{"use strict";A.d(D,{a:()=>K});var p=A(8306),e=A(4742),w=A(8996),N=A(4671),M=A(3268),G=A(3269),ee=A(1810),Y=A(5403),Q=A(9672);function K(...dt){const Xe=(0,G.yG)(dt),Je=(0,G.jO)(dt),{args:vt,keys:_e}=(0,e.D)(dt);if(0===vt.length)return(0,w.D)([],Xe);const Ge=new p.y(function ie(dt,Xe,Je=N.y){return vt=>{ge(Xe,()=>{const{length:_e}=dt,Ge=new Array(_e);let ke=_e,_t=_e;for(let Ke=0;Ke<_e;Ke++)ge(Xe,()=>{const rt=(0,w.D)(dt[Ke],Xe);let Ae=!1;rt.subscribe((0,Y.x)(vt,it=>{Ge[Ke]=it,Ae||(Ae=!0,_t--),_t||vt.next(Je(Ge.slice()))},()=>{--ke||vt.complete()}))},vt)},vt)}}(vt,Xe,_e?ke=>(0,ee.n)(_e,ke):N.y));return Je?Ge.pipe((0,M.Z)(Je)):Ge}function ge(dt,Xe,Je){dt?(0,Q.f)(Je,dt,Xe):Xe()}},7272:(pt,D,A)=>{"use strict";A.d(D,{z:()=>M});var p=A(8189),w=A(3269),N=A(8996);function M(...G){return function e(){return(0,p.J)(1)}()((0,N.D)(G,(0,w.yG)(G)))}},9770:(pt,D,A)=>{"use strict";A.d(D,{P:()=>w});var p=A(8306),e=A(8421);function w(N){return new p.y(M=>{(0,e.Xf)(N()).subscribe(M)})}},515:(pt,D,A)=>{"use strict";A.d(D,{E:()=>e});const e=new(A(8306).y)(M=>M.complete())},8996:(pt,D,A)=>{"use strict";A.d(D,{D:()=>rt});var p=A(8421),e=A(5363),w=A(9468),G=A(8306),Y=A(2202),Q=A(576),K=A(9672);function ge(Ae,it){if(!Ae)throw new Error("Iterable cannot be null");return new G.y(Ze=>{(0,K.f)(Ze,it,()=>{const ft=Ae[Symbol.asyncIterator]();(0,K.f)(Ze,it,()=>{ft.next().then(ve=>{ve.done?Ze.complete():Ze.next(ve.value)})},0,!0)})})}var dt=A(3670),Xe=A(8239),Je=A(1144),vt=A(6495),_e=A(2206),Ge=A(4532),ke=A(3260);function rt(Ae,it){return it?function Ke(Ae,it){if(null!=Ae){if((0,dt.c)(Ae))return function N(Ae,it){return(0,p.Xf)(Ae).pipe((0,w.R)(it),(0,e.Q)(it))}(Ae,it);if((0,Je.z)(Ae))return function ee(Ae,it){return new G.y(Ze=>{let ft=0;return it.schedule(function(){ft===Ae.length?Ze.complete():(Ze.next(Ae[ft++]),Ze.closed||this.schedule())})})}(Ae,it);if((0,Xe.t)(Ae))return function M(Ae,it){return(0,p.Xf)(Ae).pipe((0,w.R)(it),(0,e.Q)(it))}(Ae,it);if((0,_e.D)(Ae))return ge(Ae,it);if((0,vt.T)(Ae))return function ie(Ae,it){return new G.y(Ze=>{let ft;return(0,K.f)(Ze,it,()=>{ft=Ae[Y.h](),(0,K.f)(Ze,it,()=>{let ve,me;try{({value:ve,done:me}=ft.next())}catch(oe){return void Ze.error(oe)}me?Ze.complete():Ze.next(ve)},0,!0)}),()=>(0,Q.m)(null==ft?void 0:ft.return)&&ft.return()})}(Ae,it);if((0,ke.L)(Ae))return function _t(Ae,it){return ge((0,ke.Q)(Ae),it)}(Ae,it)}throw(0,Ge.z)(Ae)}(Ae,it):(0,p.Xf)(Ae)}},8421:(pt,D,A)=>{"use strict";A.d(D,{Xf:()=>dt});var p=A(655),e=A(1144),w=A(8239),N=A(8306),M=A(3670),G=A(2206),ee=A(4532),Y=A(6495),Q=A(3260),K=A(576),ie=A(7849),ge=A(8822);function dt(Ke){if(Ke instanceof N.y)return Ke;if(null!=Ke){if((0,M.c)(Ke))return function Xe(Ke){return new N.y(rt=>{const Ae=Ke[ge.L]();if((0,K.m)(Ae.subscribe))return Ae.subscribe(rt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ke);if((0,e.z)(Ke))return function Je(Ke){return new N.y(rt=>{for(let Ae=0;Ae<Ke.length&&!rt.closed;Ae++)rt.next(Ke[Ae]);rt.complete()})}(Ke);if((0,w.t)(Ke))return function vt(Ke){return new N.y(rt=>{Ke.then(Ae=>{rt.closed||(rt.next(Ae),rt.complete())},Ae=>rt.error(Ae)).then(null,ie.h)})}(Ke);if((0,G.D)(Ke))return Ge(Ke);if((0,Y.T)(Ke))return function _e(Ke){return new N.y(rt=>{for(const Ae of Ke)if(rt.next(Ae),rt.closed)return;rt.complete()})}(Ke);if((0,Q.L)(Ke))return function ke(Ke){return Ge((0,Q.Q)(Ke))}(Ke)}throw(0,ee.z)(Ke)}function Ge(Ke){return new N.y(rt=>{(function _t(Ke,rt){var Ae,it,Ze,ft;return(0,p.mG)(this,void 0,void 0,function*(){try{for(Ae=(0,p.KL)(Ke);!(it=yield Ae.next()).done;)if(rt.next(it.value),rt.closed)return}catch(ve){Ze={error:ve}}finally{try{it&&!it.done&&(ft=Ae.return)&&(yield ft.call(Ae))}finally{if(Ze)throw Ze.error}}rt.complete()})})(Ke,rt).catch(Ae=>rt.error(Ae))})}},6451:(pt,D,A)=>{"use strict";A.d(D,{T:()=>G});var p=A(8189),e=A(8421),w=A(515),N=A(3269),M=A(8996);function G(...ee){const Y=(0,N.yG)(ee),Q=(0,N._6)(ee,1/0),K=ee;return K.length?1===K.length?(0,e.Xf)(K[0]):(0,p.J)(Q)((0,M.D)(K,Y)):w.E}},9646:(pt,D,A)=>{"use strict";A.d(D,{of:()=>w});var p=A(3269),e=A(8996);function w(...N){const M=(0,p.yG)(N);return(0,e.D)(N,M)}},5403:(pt,D,A)=>{"use strict";A.d(D,{x:()=>e});var p=A(930);function e(N,M,G,ee,Y){return new w(N,M,G,ee,Y)}class w extends p.Lv{constructor(M,G,ee,Y,Q,K){super(M),this.onFinalize=Q,this.shouldUnsubscribe=K,this._next=G?function(ie){try{G(ie)}catch(ge){M.error(ge)}}:super._next,this._error=Y?function(ie){try{Y(ie)}catch(ge){M.error(ge)}finally{this.unsubscribe()}}:super._error,this._complete=ee?function(){try{ee()}catch(ie){M.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var M;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:G}=this;super.unsubscribe(),!G&&(null===(M=this.onFinalize)||void 0===M||M.call(this))}}}},4351:(pt,D,A)=>{"use strict";A.d(D,{b:()=>w});var p=A(5577),e=A(576);function w(N,M){return(0,e.m)(M)?(0,p.z)(N,M,1):(0,p.z)(N,1)}},6590:(pt,D,A)=>{"use strict";A.d(D,{d:()=>w});var p=A(4482),e=A(5403);function w(N){return(0,p.e)((M,G)=>{let ee=!1;M.subscribe((0,e.x)(G,Y=>{ee=!0,G.next(Y)},()=>{ee||G.next(N),G.complete()}))})}},9300:(pt,D,A)=>{"use strict";A.d(D,{h:()=>w});var p=A(4482),e=A(5403);function w(N,M){return(0,p.e)((G,ee)=>{let Y=0;G.subscribe((0,e.x)(ee,Q=>N.call(M,Q,Y++)&&ee.next(Q)))})}},590:(pt,D,A)=>{"use strict";A.d(D,{P:()=>ee});var p=A(6805),e=A(9300),w=A(5698),N=A(6590),M=A(8068),G=A(4671);function ee(Y,Q){const K=arguments.length>=2;return ie=>ie.pipe(Y?(0,e.h)((ge,dt)=>Y(ge,dt,ie)):G.y,(0,w.q)(1),K?(0,N.d)(Q):(0,M.T)(()=>new p.K))}},4004:(pt,D,A)=>{"use strict";A.d(D,{U:()=>w});var p=A(4482),e=A(5403);function w(N,M){return(0,p.e)((G,ee)=>{let Y=0;G.subscribe((0,e.x)(ee,Q=>{ee.next(N.call(M,Q,Y++))}))})}},8189:(pt,D,A)=>{"use strict";A.d(D,{J:()=>w});var p=A(5577),e=A(4671);function w(N=1/0){return(0,p.z)(e.y,N)}},5577:(pt,D,A)=>{"use strict";A.d(D,{z:()=>Y});var p=A(4004),e=A(8421),w=A(4482),N=A(9672),M=A(5403),ee=A(576);function Y(Q,K,ie=1/0){return(0,ee.m)(K)?Y((ge,dt)=>(0,p.U)((Xe,Je)=>K(ge,Xe,dt,Je))((0,e.Xf)(Q(ge,dt))),ie):("number"==typeof K&&(ie=K),(0,w.e)((ge,dt)=>function G(Q,K,ie,ge,dt,Xe,Je,vt){const _e=[];let Ge=0,ke=0,_t=!1;const Ke=()=>{_t&&!_e.length&&!Ge&&K.complete()},rt=it=>Ge<ge?Ae(it):_e.push(it),Ae=it=>{Xe&&K.next(it),Ge++;let Ze=!1;(0,e.Xf)(ie(it,ke++)).subscribe((0,M.x)(K,ft=>{null==dt||dt(ft),Xe?rt(ft):K.next(ft)},()=>{Ze=!0},void 0,()=>{if(Ze)try{for(Ge--;_e.length&&Ge<ge;){const ft=_e.shift();Je?(0,N.f)(K,Je,()=>Ae(ft)):Ae(ft)}Ke()}catch(ft){K.error(ft)}}))};return Q.subscribe((0,M.x)(K,rt,()=>{_t=!0,Ke()})),()=>{null==vt||vt()}}(ge,dt,Q,ie)))}},5363:(pt,D,A)=>{"use strict";A.d(D,{Q:()=>N});var p=A(9672),e=A(4482),w=A(5403);function N(M,G=0){return(0,e.e)((ee,Y)=>{ee.subscribe((0,w.x)(Y,Q=>(0,p.f)(Y,M,()=>Y.next(Q),G),()=>(0,p.f)(Y,M,()=>Y.complete(),G),Q=>(0,p.f)(Y,M,()=>Y.error(Q),G)))})}},3099:(pt,D,A)=>{"use strict";A.d(D,{B:()=>G});var p=A(8996),e=A(5698),w=A(7579),N=A(930),M=A(4482);function G(Y={}){const{connector:Q=(()=>new w.x),resetOnError:K=!0,resetOnComplete:ie=!0,resetOnRefCountZero:ge=!0}=Y;return dt=>{let Xe=null,Je=null,vt=null,_e=0,Ge=!1,ke=!1;const _t=()=>{null==Je||Je.unsubscribe(),Je=null},Ke=()=>{_t(),Xe=vt=null,Ge=ke=!1},rt=()=>{const Ae=Xe;Ke(),null==Ae||Ae.unsubscribe()};return(0,M.e)((Ae,it)=>{_e++,!ke&&!Ge&&_t();const Ze=vt=null!=vt?vt:Q();it.add(()=>{_e--,0===_e&&!ke&&!Ge&&(Je=ee(rt,ge))}),Ze.subscribe(it),Xe||(Xe=new N.Hp({next:ft=>Ze.next(ft),error:ft=>{ke=!0,_t(),Je=ee(Ke,K,ft),Ze.error(ft)},complete:()=>{Ge=!0,_t(),Je=ee(Ke,ie),Ze.complete()}}),(0,p.D)(Ae).subscribe(Xe))})(dt)}}function ee(Y,Q,...K){return!0===Q?(Y(),null):!1===Q?null:Q(...K).pipe((0,e.q)(1)).subscribe(()=>Y())}},8675:(pt,D,A)=>{"use strict";A.d(D,{O:()=>N});var p=A(7272),e=A(3269),w=A(4482);function N(...M){const G=(0,e.yG)(M);return(0,w.e)((ee,Y)=>{(G?(0,p.z)(M,ee,G):(0,p.z)(M,ee)).subscribe(Y)})}},9468:(pt,D,A)=>{"use strict";A.d(D,{R:()=>e});var p=A(4482);function e(w,N=0){return(0,p.e)((M,G)=>{G.add(w.schedule(()=>M.subscribe(G),N))})}},3900:(pt,D,A)=>{"use strict";A.d(D,{w:()=>N});var p=A(8421),e=A(4482),w=A(5403);function N(M,G){return(0,e.e)((ee,Y)=>{let Q=null,K=0,ie=!1;const ge=()=>ie&&!Q&&Y.complete();ee.subscribe((0,w.x)(Y,dt=>{null==Q||Q.unsubscribe();let Xe=0;const Je=K++;(0,p.Xf)(M(dt,Je)).subscribe(Q=(0,w.x)(Y,vt=>Y.next(G?G(dt,vt,Je,Xe++):vt),()=>{Q=null,ge()}))},()=>{ie=!0,ge()}))})}},5698:(pt,D,A)=>{"use strict";A.d(D,{q:()=>N});var p=A(515),e=A(4482),w=A(5403);function N(M){return M<=0?()=>p.E:(0,e.e)((G,ee)=>{let Y=0;G.subscribe((0,w.x)(ee,Q=>{++Y<=M&&(ee.next(Q),M<=Y&&ee.complete())}))})}},8505:(pt,D,A)=>{"use strict";A.d(D,{b:()=>M});var p=A(576),e=A(4482),w=A(5403),N=A(4671);function M(G,ee,Y){const Q=(0,p.m)(G)||ee||Y?{next:G,error:ee,complete:Y}:G;return Q?(0,e.e)((K,ie)=>{var ge;null===(ge=Q.subscribe)||void 0===ge||ge.call(Q);let dt=!0;K.subscribe((0,w.x)(ie,Xe=>{var Je;null===(Je=Q.next)||void 0===Je||Je.call(Q,Xe),ie.next(Xe)},()=>{var Xe;dt=!1,null===(Xe=Q.complete)||void 0===Xe||Xe.call(Q),ie.complete()},Xe=>{var Je;dt=!1,null===(Je=Q.error)||void 0===Je||Je.call(Q,Xe),ie.error(Xe)},()=>{var Xe,Je;dt&&(null===(Xe=Q.unsubscribe)||void 0===Xe||Xe.call(Q)),null===(Je=Q.finalize)||void 0===Je||Je.call(Q)}))}):N.y}},8068:(pt,D,A)=>{"use strict";A.d(D,{T:()=>N});var p=A(6805),e=A(4482),w=A(5403);function N(G=M){return(0,e.e)((ee,Y)=>{let Q=!1;ee.subscribe((0,w.x)(Y,K=>{Q=!0,Y.next(K)},()=>Q?Y.complete():Y.error(G())))})}function M(){return new p.K}},4408:(pt,D,A)=>{"use strict";A.d(D,{o:()=>M});var p=A(727);class e extends p.w0{constructor(ee,Y){super()}schedule(ee,Y=0){return this}}const w={setInterval(G,ee,...Y){const{delegate:Q}=w;return(null==Q?void 0:Q.setInterval)?Q.setInterval(G,ee,...Y):setInterval(G,ee,...Y)},clearInterval(G){const{delegate:ee}=w;return((null==ee?void 0:ee.clearInterval)||clearInterval)(G)},delegate:void 0};var N=A(8737);class M extends e{constructor(ee,Y){super(ee,Y),this.scheduler=ee,this.work=Y,this.pending=!1}schedule(ee,Y=0){if(this.closed)return this;this.state=ee;const Q=this.id,K=this.scheduler;return null!=Q&&(this.id=this.recycleAsyncId(K,Q,Y)),this.pending=!0,this.delay=Y,this.id=this.id||this.requestAsyncId(K,this.id,Y),this}requestAsyncId(ee,Y,Q=0){return w.setInterval(ee.flush.bind(ee,this),Q)}recycleAsyncId(ee,Y,Q=0){if(null!=Q&&this.delay===Q&&!1===this.pending)return Y;w.clearInterval(Y)}execute(ee,Y){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Q=this._execute(ee,Y);if(Q)return Q;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(ee,Y){let K,Q=!1;try{this.work(ee)}catch(ie){Q=!0,K=ie||new Error("Scheduled action threw falsy error")}if(Q)return this.unsubscribe(),K}unsubscribe(){if(!this.closed){const{id:ee,scheduler:Y}=this,{actions:Q}=Y;this.work=this.state=this.scheduler=null,this.pending=!1,(0,N.P)(Q,this),null!=ee&&(this.id=this.recycleAsyncId(Y,ee,null)),this.delay=null,super.unsubscribe()}}}},7565:(pt,D,A)=>{"use strict";A.d(D,{v:()=>w});var p=A(6063);class e{constructor(M,G=e.now){this.schedulerActionCtor=M,this.now=G}schedule(M,G=0,ee){return new this.schedulerActionCtor(this,M).schedule(ee,G)}}e.now=p.l.now;class w extends e{constructor(M,G=e.now){super(M,G),this.actions=[],this._active=!1,this._scheduled=void 0}flush(M){const{actions:G}=this;if(this._active)return void G.push(M);let ee;this._active=!0;do{if(ee=M.execute(M.state,M.delay))break}while(M=G.shift());if(this._active=!1,ee){for(;M=G.shift();)M.unsubscribe();throw ee}}}},4986:(pt,D,A)=>{"use strict";A.d(D,{P:()=>N,z:()=>w});var p=A(4408);const w=new(A(7565).v)(p.o),N=w},6063:(pt,D,A)=>{"use strict";A.d(D,{l:()=>p});const p={now:()=>(p.delegate||Date).now(),delegate:void 0}},3410:(pt,D,A)=>{"use strict";A.d(D,{z:()=>p});const p={setTimeout(e,w,...N){const{delegate:M}=p;return(null==M?void 0:M.setTimeout)?M.setTimeout(e,w,...N):setTimeout(e,w,...N)},clearTimeout(e){const{delegate:w}=p;return((null==w?void 0:w.clearTimeout)||clearTimeout)(e)},delegate:void 0}},2202:(pt,D,A)=>{"use strict";A.d(D,{h:()=>e});const e=function p(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(pt,D,A)=>{"use strict";A.d(D,{L:()=>p});const p="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(pt,D,A)=>{"use strict";A.d(D,{K:()=>e});const e=(0,A(3888).d)(w=>function(){w(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(pt,D,A)=>{"use strict";A.d(D,{_6:()=>G,jO:()=>N,yG:()=>M});var p=A(576),e=A(3532);function w(ee){return ee[ee.length-1]}function N(ee){return(0,p.m)(w(ee))?ee.pop():void 0}function M(ee){return(0,e.K)(w(ee))?ee.pop():void 0}function G(ee,Y){return"number"==typeof w(ee)?ee.pop():Y}},4742:(pt,D,A)=>{"use strict";A.d(D,{D:()=>M});const{isArray:p}=Array,{getPrototypeOf:e,prototype:w,keys:N}=Object;function M(ee){if(1===ee.length){const Y=ee[0];if(p(Y))return{args:Y,keys:null};if(function G(ee){return ee&&"object"==typeof ee&&e(ee)===w}(Y)){const Q=N(Y);return{args:Q.map(K=>Y[K]),keys:Q}}}return{args:ee,keys:null}}},8737:(pt,D,A)=>{"use strict";function p(e,w){if(e){const N=e.indexOf(w);0<=N&&e.splice(N,1)}}A.d(D,{P:()=>p})},3888:(pt,D,A)=>{"use strict";function p(e){const N=e(M=>{Error.call(M),M.stack=(new Error).stack});return N.prototype=Object.create(Error.prototype),N.prototype.constructor=N,N}A.d(D,{d:()=>p})},1810:(pt,D,A)=>{"use strict";function p(e,w){return e.reduce((N,M,G)=>(N[M]=w[G],N),{})}A.d(D,{n:()=>p})},2806:(pt,D,A)=>{"use strict";A.d(D,{O:()=>N,x:()=>w});var p=A(2416);let e=null;function w(M){if(p.v.useDeprecatedSynchronousErrorHandling){const G=!e;if(G&&(e={errorThrown:!1,error:null}),M(),G){const{errorThrown:ee,error:Y}=e;if(e=null,ee)throw Y}}else M()}function N(M){p.v.useDeprecatedSynchronousErrorHandling&&e&&(e.errorThrown=!0,e.error=M)}},9672:(pt,D,A)=>{"use strict";function p(e,w,N,M=0,G=!1){const ee=w.schedule(function(){N(),G?e.add(this.schedule(null,M)):this.unsubscribe()},M);if(e.add(ee),!G)return ee}A.d(D,{f:()=>p})},4671:(pt,D,A)=>{"use strict";function p(e){return e}A.d(D,{y:()=>p})},1144:(pt,D,A)=>{"use strict";A.d(D,{z:()=>p});const p=e=>e&&"number"==typeof e.length&&"function"!=typeof e},2206:(pt,D,A)=>{"use strict";A.d(D,{D:()=>e});var p=A(576);function e(w){return Symbol.asyncIterator&&(0,p.m)(null==w?void 0:w[Symbol.asyncIterator])}},576:(pt,D,A)=>{"use strict";function p(e){return"function"==typeof e}A.d(D,{m:()=>p})},3670:(pt,D,A)=>{"use strict";A.d(D,{c:()=>w});var p=A(8822),e=A(576);function w(N){return(0,e.m)(N[p.L])}},6495:(pt,D,A)=>{"use strict";A.d(D,{T:()=>w});var p=A(2202),e=A(576);function w(N){return(0,e.m)(null==N?void 0:N[p.h])}},8239:(pt,D,A)=>{"use strict";A.d(D,{t:()=>e});var p=A(576);function e(w){return(0,p.m)(null==w?void 0:w.then)}},3260:(pt,D,A)=>{"use strict";A.d(D,{L:()=>N,Q:()=>w});var p=A(655),e=A(576);function w(M){return(0,p.FC)(this,arguments,function*(){const ee=M.getReader();try{for(;;){const{value:Y,done:Q}=yield(0,p.qq)(ee.read());if(Q)return yield(0,p.qq)(void 0);yield yield(0,p.qq)(Y)}}finally{ee.releaseLock()}})}function N(M){return(0,e.m)(null==M?void 0:M.getReader)}},3532:(pt,D,A)=>{"use strict";A.d(D,{K:()=>e});var p=A(576);function e(w){return w&&(0,p.m)(w.schedule)}},4482:(pt,D,A)=>{"use strict";A.d(D,{A:()=>e,e:()=>w});var p=A(576);function e(N){return(0,p.m)(null==N?void 0:N.lift)}function w(N){return M=>{if(e(M))return M.lift(function(G){try{return N(G,this)}catch(ee){this.error(ee)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(pt,D,A)=>{"use strict";A.d(D,{Z:()=>N});var p=A(4004);const{isArray:e}=Array;function N(M){return(0,p.U)(G=>function w(M,G){return e(G)?M(...G):M(G)}(M,G))}},5032:(pt,D,A)=>{"use strict";function p(){}A.d(D,{Z:()=>p})},7849:(pt,D,A)=>{"use strict";A.d(D,{h:()=>w});var p=A(2416),e=A(3410);function w(N){e.z.setTimeout(()=>{const{onUnhandledError:M}=p.v;if(!M)throw N;M(N)})}},4532:(pt,D,A)=>{"use strict";function p(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}A.d(D,{z:()=>p})},8583:()=>{"use strict";!function(Fe){const gt=Fe.performance;function Be(In){gt&&gt.mark&&gt.mark(In)}function ce(In,wn){gt&&gt.measure&&gt.measure(In,wn)}Be("Zone");const ye=Fe.__Zone_symbol_prefix||"__zone_symbol__";function at(In){return ye+In}const ct=!0===Fe[at("forceDuplicateZoneCheck")];if(Fe.Zone){if(ct||"function"!=typeof Fe.Zone.__symbol__)throw new Error("Zone already loaded.");return Fe.Zone}let yt=(()=>{class In{constructor(Qe,wt){this._parent=Qe,this._name=wt?wt.name||"unnamed":"<root>",this._properties=wt&&wt.properties||{},this._zoneDelegate=new dn(this,this._parent&&this._parent._zoneDelegate,wt)}static assertZonePatched(){if(Fe.Promise!==qn.ZoneAwarePromise)throw new Error("Zone.js has detected that ZoneAwarePromise `(window|global).Promise` has been overwritten.\nMost likely cause is that a Promise polyfill has been loaded after Zone.js (Polyfilling Promise api is not necessary when zone.js is loaded. If you must load one, do so before loading zone.js.)")}static get root(){let Qe=In.current;for(;Qe.parent;)Qe=Qe.parent;return Qe}static get current(){return ir.zone}static get currentTask(){return or}static __load_patch(Qe,wt,ln=!1){if(qn.hasOwnProperty(Qe)){if(!ln&&ct)throw Error("Already loaded patch: "+Qe)}else if(!Fe["__Zone_disable_"+Qe]){const Yn="Zone:"+Qe;Be(Yn),qn[Qe]=wt(Fe,In,zn),ce(Yn,Yn)}}get parent(){return this._parent}get name(){return this._name}get(Qe){const wt=this.getZoneWith(Qe);if(wt)return wt._properties[Qe]}getZoneWith(Qe){let wt=this;for(;wt;){if(wt._properties.hasOwnProperty(Qe))return wt;wt=wt._parent}return null}fork(Qe){if(!Qe)throw new Error("ZoneSpec required!");return this._zoneDelegate.fork(this,Qe)}wrap(Qe,wt){if("function"!=typeof Qe)throw new Error("Expecting function got: "+Qe);const ln=this._zoneDelegate.intercept(this,Qe,wt),Yn=this;return function(){return Yn.runGuarded(ln,this,arguments,wt)}}run(Qe,wt,ln,Yn){ir={parent:ir,zone:this};try{return this._zoneDelegate.invoke(this,Qe,wt,ln,Yn)}finally{ir=ir.parent}}runGuarded(Qe,wt=null,ln,Yn){ir={parent:ir,zone:this};try{try{return this._zoneDelegate.invoke(this,Qe,wt,ln,Yn)}catch(gr){if(this._zoneDelegate.handleError(this,gr))throw gr}}finally{ir=ir.parent}}runTask(Qe,wt,ln){if(Qe.zone!=this)throw new Error("A task can only be run in the zone of creation! (Creation: "+(Qe.zone||tn).name+"; Execution: "+this.name+")");if(Qe.state===vn&&(Qe.type===zt||Qe.type===$e))return;const Yn=Qe.state!=Pe;Yn&&Qe._transitionTo(Pe,jn),Qe.runCount++;const gr=or;or=Qe,ir={parent:ir,zone:this};try{Qe.type==$e&&Qe.data&&!Qe.data.isPeriodic&&(Qe.cancelFn=void 0);try{return this._zoneDelegate.invokeTask(this,Qe,wt,ln)}catch(Yt){if(this._zoneDelegate.handleError(this,Yt))throw Yt}}finally{Qe.state!==vn&&Qe.state!==be&&(Qe.type==zt||Qe.data&&Qe.data.isPeriodic?Yn&&Qe._transitionTo(jn,Pe):(Qe.runCount=0,this._updateTaskCount(Qe,-1),Yn&&Qe._transitionTo(vn,Pe,vn))),ir=ir.parent,or=gr}}scheduleTask(Qe){if(Qe.zone&&Qe.zone!==this){let ln=this;for(;ln;){if(ln===Qe.zone)throw Error(`can not reschedule task to ${this.name} which is descendants of the original zone ${Qe.zone.name}`);ln=ln.parent}}Qe._transitionTo(Zn,vn);const wt=[];Qe._zoneDelegates=wt,Qe._zone=this;try{Qe=this._zoneDelegate.scheduleTask(this,Qe)}catch(ln){throw Qe._transitionTo(be,Zn,vn),this._zoneDelegate.handleError(this,ln),ln}return Qe._zoneDelegates===wt&&this._updateTaskCount(Qe,1),Qe.state==Zn&&Qe._transitionTo(jn,Zn),Qe}scheduleMicroTask(Qe,wt,ln,Yn){return this.scheduleTask(new qt(lt,Qe,wt,ln,Yn,void 0))}scheduleMacroTask(Qe,wt,ln,Yn,gr){return this.scheduleTask(new qt($e,Qe,wt,ln,Yn,gr))}scheduleEventTask(Qe,wt,ln,Yn,gr){return this.scheduleTask(new qt(zt,Qe,wt,ln,Yn,gr))}cancelTask(Qe){if(Qe.zone!=this)throw new Error("A task can only be cancelled in the zone of creation! (Creation: "+(Qe.zone||tn).name+"; Execution: "+this.name+")");Qe._transitionTo(Se,jn,Pe);try{this._zoneDelegate.cancelTask(this,Qe)}catch(wt){throw Qe._transitionTo(be,Se),this._zoneDelegate.handleError(this,wt),wt}return this._updateTaskCount(Qe,-1),Qe._transitionTo(vn,Se),Qe.runCount=0,Qe}_updateTaskCount(Qe,wt){const ln=Qe._zoneDelegates;-1==wt&&(Qe._zoneDelegates=null);for(let Yn=0;Yn<ln.length;Yn++)ln[Yn]._updateTaskCount(Qe.type,wt)}}return In.__symbol__=at,In})();const Ot={name:"",onHasTask:(In,wn,Qe,wt)=>In.hasTask(Qe,wt),onScheduleTask:(In,wn,Qe,wt)=>In.scheduleTask(Qe,wt),onInvokeTask:(In,wn,Qe,wt,ln,Yn)=>In.invokeTask(Qe,wt,ln,Yn),onCancelTask:(In,wn,Qe,wt)=>In.cancelTask(Qe,wt)};class dn{constructor(wn,Qe,wt){this._taskCounts={microTask:0,macroTask:0,eventTask:0},this.zone=wn,this._parentDelegate=Qe,this._forkZS=wt&&(wt&&wt.onFork?wt:Qe._forkZS),this._forkDlgt=wt&&(wt.onFork?Qe:Qe._forkDlgt),this._forkCurrZone=wt&&(wt.onFork?this.zone:Qe._forkCurrZone),this._interceptZS=wt&&(wt.onIntercept?wt:Qe._interceptZS),this._interceptDlgt=wt&&(wt.onIntercept?Qe:Qe._interceptDlgt),this._interceptCurrZone=wt&&(wt.onIntercept?this.zone:Qe._interceptCurrZone),this._invokeZS=wt&&(wt.onInvoke?wt:Qe._invokeZS),this._invokeDlgt=wt&&(wt.onInvoke?Qe:Qe._invokeDlgt),this._invokeCurrZone=wt&&(wt.onInvoke?this.zone:Qe._invokeCurrZone),this._handleErrorZS=wt&&(wt.onHandleError?wt:Qe._handleErrorZS),this._handleErrorDlgt=wt&&(wt.onHandleError?Qe:Qe._handleErrorDlgt),this._handleErrorCurrZone=wt&&(wt.onHandleError?this.zone:Qe._handleErrorCurrZone),this._scheduleTaskZS=wt&&(wt.onScheduleTask?wt:Qe._scheduleTaskZS),this._scheduleTaskDlgt=wt&&(wt.onScheduleTask?Qe:Qe._scheduleTaskDlgt),this._scheduleTaskCurrZone=wt&&(wt.onScheduleTask?this.zone:Qe._scheduleTaskCurrZone),this._invokeTaskZS=wt&&(wt.onInvokeTask?wt:Qe._invokeTaskZS),this._invokeTaskDlgt=wt&&(wt.onInvokeTask?Qe:Qe._invokeTaskDlgt),this._invokeTaskCurrZone=wt&&(wt.onInvokeTask?this.zone:Qe._invokeTaskCurrZone),this._cancelTaskZS=wt&&(wt.onCancelTask?wt:Qe._cancelTaskZS),this._cancelTaskDlgt=wt&&(wt.onCancelTask?Qe:Qe._cancelTaskDlgt),this._cancelTaskCurrZone=wt&&(wt.onCancelTask?this.zone:Qe._cancelTaskCurrZone),this._hasTaskZS=null,this._hasTaskDlgt=null,this._hasTaskDlgtOwner=null,this._hasTaskCurrZone=null;const ln=wt&&wt.onHasTask;(ln||Qe&&Qe._hasTaskZS)&&(this._hasTaskZS=ln?wt:Ot,this._hasTaskDlgt=Qe,this._hasTaskDlgtOwner=this,this._hasTaskCurrZone=wn,wt.onScheduleTask||(this._scheduleTaskZS=Ot,this._scheduleTaskDlgt=Qe,this._scheduleTaskCurrZone=this.zone),wt.onInvokeTask||(this._invokeTaskZS=Ot,this._invokeTaskDlgt=Qe,this._invokeTaskCurrZone=this.zone),wt.onCancelTask||(this._cancelTaskZS=Ot,this._cancelTaskDlgt=Qe,this._cancelTaskCurrZone=this.zone))}fork(wn,Qe){return this._forkZS?this._forkZS.onFork(this._forkDlgt,this.zone,wn,Qe):new yt(wn,Qe)}intercept(wn,Qe,wt){return this._interceptZS?this._interceptZS.onIntercept(this._interceptDlgt,this._interceptCurrZone,wn,Qe,wt):Qe}invoke(wn,Qe,wt,ln,Yn){return this._invokeZS?this._invokeZS.onInvoke(this._invokeDlgt,this._invokeCurrZone,wn,Qe,wt,ln,Yn):Qe.apply(wt,ln)}handleError(wn,Qe){return!this._handleErrorZS||this._handleErrorZS.onHandleError(this._handleErrorDlgt,this._handleErrorCurrZone,wn,Qe)}scheduleTask(wn,Qe){let wt=Qe;if(this._scheduleTaskZS)this._hasTaskZS&&wt._zoneDelegates.push(this._hasTaskDlgtOwner),wt=this._scheduleTaskZS.onScheduleTask(this._scheduleTaskDlgt,this._scheduleTaskCurrZone,wn,Qe),wt||(wt=Qe);else if(Qe.scheduleFn)Qe.scheduleFn(Qe);else{if(Qe.type!=lt)throw new Error("Task is missing scheduleFn.");Bt(Qe)}return wt}invokeTask(wn,Qe,wt,ln){return this._invokeTaskZS?this._invokeTaskZS.onInvokeTask(this._invokeTaskDlgt,this._invokeTaskCurrZone,wn,Qe,wt,ln):Qe.callback.apply(wt,ln)}cancelTask(wn,Qe){let wt;if(this._cancelTaskZS)wt=this._cancelTaskZS.onCancelTask(this._cancelTaskDlgt,this._cancelTaskCurrZone,wn,Qe);else{if(!Qe.cancelFn)throw Error("Task is not cancelable");wt=Qe.cancelFn(Qe)}return wt}hasTask(wn,Qe){try{this._hasTaskZS&&this._hasTaskZS.onHasTask(this._hasTaskDlgt,this._hasTaskCurrZone,wn,Qe)}catch(wt){this.handleError(wn,wt)}}_updateTaskCount(wn,Qe){const wt=this._taskCounts,ln=wt[wn],Yn=wt[wn]=ln+Qe;if(Yn<0)throw new Error("More tasks executed then were scheduled.");0!=ln&&0!=Yn||this.hasTask(this.zone,{microTask:wt.microTask>0,macroTask:wt.macroTask>0,eventTask:wt.eventTask>0,change:wn})}}class qt{constructor(wn,Qe,wt,ln,Yn,gr){if(this._zone=null,this.runCount=0,this._zoneDelegates=null,this._state="notScheduled",this.type=wn,this.source=Qe,this.data=ln,this.scheduleFn=Yn,this.cancelFn=gr,!wt)throw new Error("callback is not defined");this.callback=wt;const Yt=this;this.invoke=wn===zt&&ln&&ln.useG?qt.invokeTask:function(){return qt.invokeTask.call(Fe,Yt,this,arguments)}}static invokeTask(wn,Qe,wt){wn||(wn=this),sr++;try{return wn.runCount++,wn.zone.runTask(wn,Qe,wt)}finally{1==sr&&ht(),sr--}}get zone(){return this._zone}get state(){return this._state}cancelScheduleRequest(){this._transitionTo(vn,Zn)}_transitionTo(wn,Qe,wt){if(this._state!==Qe&&this._state!==wt)throw new Error(`${this.type} '${this.source}': can not transition to '${wn}', expecting state '${Qe}'${wt?" or '"+wt+"'":""}, was '${this._state}'.`);this._state=wn,wn==vn&&(this._zoneDelegates=null)}toString(){return this.data&&void 0!==this.data.handleId?this.data.handleId.toString():Object.prototype.toString.call(this)}toJSON(){return{type:this.type,state:this.state,source:this.source,zone:this.zone.name,runCount:this.runCount}}}const cn=at("setTimeout"),Gn=at("Promise"),fn=at("then");let Xn,Hn=[],jt=!1;function kn(In){if(Xn||Fe[Gn]&&(Xn=Fe[Gn].resolve(0)),Xn){let wn=Xn[fn];wn||(wn=Xn.then),wn.call(Xn,In)}else Fe[cn](In,0)}function Bt(In){0===sr&&0===Hn.length&&kn(ht),In&&Hn.push(In)}function ht(){if(!jt){for(jt=!0;Hn.length;){const In=Hn;Hn=[];for(let wn=0;wn<In.length;wn++){const Qe=In[wn];try{Qe.zone.runTask(Qe,null,null)}catch(wt){zn.onUnhandledError(wt)}}}zn.microtaskDrainDone(),jt=!1}}const tn={name:"NO ZONE"},vn="notScheduled",Zn="scheduling",jn="scheduled",Pe="running",Se="canceling",be="unknown",lt="microTask",$e="macroTask",zt="eventTask",qn={},zn={symbol:at,currentZoneFrame:()=>ir,onUnhandledError:Cn,microtaskDrainDone:Cn,scheduleMicroTask:Bt,showUncaughtError:()=>!yt[at("ignoreConsoleErrorUncaughtError")],patchEventTarget:()=>[],patchOnProperties:Cn,patchMethod:()=>Cn,bindArguments:()=>[],patchThen:()=>Cn,patchMacroTask:()=>Cn,patchEventPrototype:()=>Cn,isIEOrEdge:()=>!1,getGlobalObjects:()=>{},ObjectDefineProperty:()=>Cn,ObjectGetOwnPropertyDescriptor:()=>{},ObjectCreate:()=>{},ArraySlice:()=>[],patchClass:()=>Cn,wrapWithCurrentZone:()=>Cn,filterProperties:()=>[],attachOriginToPatched:()=>Cn,_redefineProperty:()=>Cn,patchCallbacks:()=>Cn,nativeScheduleMicroTask:kn};let ir={parent:null,zone:new yt(null,null)},or=null,sr=0;function Cn(){}ce("Zone","Zone"),Fe.Zone=yt}("undefined"!=typeof window&&window||"undefined"!=typeof self&&self||global);const pt=Object.getOwnPropertyDescriptor,D=Object.defineProperty,A=Object.getPrototypeOf,p=Object.create,e=Array.prototype.slice,w="addEventListener",N="removeEventListener",M=Zone.__symbol__(w),G=Zone.__symbol__(N),ee="true",Y="false",Q=Zone.__symbol__("");function K(Fe,gt){return Zone.current.wrap(Fe,gt)}function ie(Fe,gt,Be,ce,ye){return Zone.current.scheduleMacroTask(Fe,gt,Be,ce,ye)}const ge=Zone.__symbol__,dt="undefined"!=typeof window,Xe=dt?window:void 0,Je=dt&&Xe||"object"==typeof self&&self||global;function _e(Fe,gt){for(let Be=Fe.length-1;Be>=0;Be--)"function"==typeof Fe[Be]&&(Fe[Be]=K(Fe[Be],gt+"_"+Be));return Fe}function ke(Fe){return!Fe||!1!==Fe.writable&&!("function"==typeof Fe.get&&void 0===Fe.set)}const _t="undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope,Ke=!("nw"in Je)&&void 0!==Je.process&&"[object process]"==={}.toString.call(Je.process),rt=!Ke&&!_t&&!(!dt||!Xe.HTMLElement),Ae=void 0!==Je.process&&"[object process]"==={}.toString.call(Je.process)&&!_t&&!(!dt||!Xe.HTMLElement),it={},Ze=function(Fe){if(!(Fe=Fe||Je.event))return;let gt=it[Fe.type];gt||(gt=it[Fe.type]=ge("ON_PROPERTY"+Fe.type));const Be=this||Fe.target||Je,ce=Be[gt];let ye;if(rt&&Be===Xe&&"error"===Fe.type){const at=Fe;ye=ce&&ce.call(this,at.message,at.filename,at.lineno,at.colno,at.error),!0===ye&&Fe.preventDefault()}else ye=ce&&ce.apply(this,arguments),null!=ye&&!ye&&Fe.preventDefault();return ye};function ft(Fe,gt,Be){let ce=pt(Fe,gt);if(!ce&&Be&&pt(Be,gt)&&(ce={enumerable:!0,configurable:!0}),!ce||!ce.configurable)return;const ye=ge("on"+gt+"patched");if(Fe.hasOwnProperty(ye)&&Fe[ye])return;delete ce.writable,delete ce.value;const at=ce.get,ct=ce.set,yt=gt.substr(2);let Ot=it[yt];Ot||(Ot=it[yt]=ge("ON_PROPERTY"+yt)),ce.set=function(dn){let qt=this;!qt&&Fe===Je&&(qt=Je),qt&&("function"==typeof qt[Ot]&&qt.removeEventListener(yt,Ze),ct&&ct.call(qt,null),qt[Ot]=dn,"function"==typeof dn&&qt.addEventListener(yt,Ze,!1))},ce.get=function(){let dn=this;if(!dn&&Fe===Je&&(dn=Je),!dn)return null;const qt=dn[Ot];if(qt)return qt;if(at){let cn=at.call(this);if(cn)return ce.set.call(this,cn),"function"==typeof dn.removeAttribute&&dn.removeAttribute(gt),cn}return null},D(Fe,gt,ce),Fe[ye]=!0}function ve(Fe,gt,Be){if(gt)for(let ce=0;ce<gt.length;ce++)ft(Fe,"on"+gt[ce],Be);else{const ce=[];for(const ye in Fe)"on"==ye.substr(0,2)&&ce.push(ye);for(let ye=0;ye<ce.length;ye++)ft(Fe,ce[ye],Be)}}const me=ge("originalInstance");function oe(Fe){const gt=Je[Fe];if(!gt)return;Je[ge(Fe)]=gt,Je[Fe]=function(){const ye=_e(arguments,Fe);switch(ye.length){case 0:this[me]=new gt;break;case 1:this[me]=new gt(ye[0]);break;case 2:this[me]=new gt(ye[0],ye[1]);break;case 3:this[me]=new gt(ye[0],ye[1],ye[2]);break;case 4:this[me]=new gt(ye[0],ye[1],ye[2],ye[3]);break;default:throw new Error("Arg list too long.")}},Ee(Je[Fe],gt);const Be=new gt(function(){});let ce;for(ce in Be)"XMLHttpRequest"===Fe&&"responseBlob"===ce||function(ye){"function"==typeof Be[ye]?Je[Fe].prototype[ye]=function(){return this[me][ye].apply(this[me],arguments)}:D(Je[Fe].prototype,ye,{set:function(at){"function"==typeof at?(this[me][ye]=K(at,Fe+"."+ye),Ee(this[me][ye],at)):this[me][ye]=at},get:function(){return this[me][ye]}})}(ce);for(ce in gt)"prototype"!==ce&&gt.hasOwnProperty(ce)&&(Je[Fe][ce]=gt[ce])}function we(Fe,gt,Be){let ce=Fe;for(;ce&&!ce.hasOwnProperty(gt);)ce=A(ce);!ce&&Fe[gt]&&(ce=Fe);const ye=ge(gt);let at=null;if(ce&&(!(at=ce[ye])||!ce.hasOwnProperty(ye))&&(at=ce[ye]=ce[gt],ke(ce&&pt(ce,gt)))){const yt=Be(at,ye,gt);ce[gt]=function(){return yt(this,arguments)},Ee(ce[gt],at)}return at}function qe(Fe,gt,Be){let ce=null;function ye(at){const ct=at.data;return ct.args[ct.cbIdx]=function(){at.invoke.apply(this,arguments)},ce.apply(ct.target,ct.args),at}ce=we(Fe,gt,at=>function(ct,yt){const Ot=Be(ct,yt);return Ot.cbIdx>=0&&"function"==typeof yt[Ot.cbIdx]?ie(Ot.name,yt[Ot.cbIdx],Ot,ye):at.apply(ct,yt)})}function Ee(Fe,gt){Fe[ge("OriginalDelegate")]=gt}let It=!1,Ft=!1;function Rt(){if(It)return Ft;It=!0;try{const Fe=Xe.navigator.userAgent;(-1!==Fe.indexOf("MSIE ")||-1!==Fe.indexOf("Trident/")||-1!==Fe.indexOf("Edge/"))&&(Ft=!0)}catch(Fe){}return Ft}Zone.__load_patch("ZoneAwarePromise",(Fe,gt,Be)=>{const ce=Object.getOwnPropertyDescriptor,ye=Object.defineProperty,ct=Be.symbol,yt=[],Ot=!0===Fe[ct("DISABLE_WRAPPING_UNCAUGHT_PROMISE_REJECTION")],dn=ct("Promise"),qt=ct("then");Be.onUnhandledError=Yt=>{if(Be.showUncaughtError()){const on=Yt&&Yt.rejection;on?console.error("Unhandled Promise rejection:",on instanceof Error?on.message:on,"; Zone:",Yt.zone.name,"; Task:",Yt.task&&Yt.task.source,"; Value:",on,on instanceof Error?on.stack:void 0):console.error(Yt)}},Be.microtaskDrainDone=()=>{for(;yt.length;){const Yt=yt.shift();try{Yt.zone.runGuarded(()=>{throw Yt.throwOriginal?Yt.rejection:Yt})}catch(on){fn(on)}}};const Gn=ct("unhandledPromiseRejectionHandler");function fn(Yt){Be.onUnhandledError(Yt);try{const on=gt[Gn];"function"==typeof on&&on.call(this,Yt)}catch(on){}}function Hn(Yt){return Yt&&Yt.then}function jt(Yt){return Yt}function Xn(Yt){return Qe.reject(Yt)}const kn=ct("state"),Bt=ct("value"),ht=ct("finally"),tn=ct("parentPromiseValue"),vn=ct("parentPromiseState"),jn=null,Se=!1;function lt(Yt,on){return et=>{try{zn(Yt,on,et)}catch(Lt){zn(Yt,!1,Lt)}}}const qn=ct("currentTaskTrace");function zn(Yt,on,et){const Lt=function(){let Yt=!1;return function(et){return function(){Yt||(Yt=!0,et.apply(null,arguments))}}}();if(Yt===et)throw new TypeError("Promise resolved with itself");if(Yt[kn]===jn){let gn=null;try{("object"==typeof et||"function"==typeof et)&&(gn=et&&et.then)}catch(xn){return Lt(()=>{zn(Yt,!1,xn)})(),Yt}if(on!==Se&&et instanceof Qe&&et.hasOwnProperty(kn)&&et.hasOwnProperty(Bt)&&et[kn]!==jn)or(et),zn(Yt,et[kn],et[Bt]);else if(on!==Se&&"function"==typeof gn)try{gn.call(et,Lt(lt(Yt,on)),Lt(lt(Yt,!1)))}catch(xn){Lt(()=>{zn(Yt,!1,xn)})()}else{Yt[kn]=on;const xn=Yt[Bt];if(Yt[Bt]=et,Yt[ht]===ht&&!0===on&&(Yt[kn]=Yt[vn],Yt[Bt]=Yt[tn]),on===Se&&et instanceof Error){const mn=gt.currentTask&&gt.currentTask.data&&gt.currentTask.data.__creationTrace__;mn&&ye(et,qn,{configurable:!0,enumerable:!1,writable:!0,value:mn})}for(let mn=0;mn<xn.length;)sr(Yt,xn[mn++],xn[mn++],xn[mn++],xn[mn++]);if(0==xn.length&&on==Se){Yt[kn]=0;let mn=et;try{throw new Error("Uncaught (in promise): "+function at(Yt){return Yt&&Yt.toString===Object.prototype.toString?(Yt.constructor&&Yt.constructor.name||"")+": "+JSON.stringify(Yt):Yt?Yt.toString():Object.prototype.toString.call(Yt)}(et)+(et&&et.stack?"\n"+et.stack:""))}catch(Mn){mn=Mn}Ot&&(mn.throwOriginal=!0),mn.rejection=et,mn.promise=Yt,mn.zone=gt.current,mn.task=gt.currentTask,yt.push(mn),Be.scheduleMicroTask()}}}return Yt}const ir=ct("rejectionHandledHandler");function or(Yt){if(0===Yt[kn]){try{const on=gt[ir];on&&"function"==typeof on&&on.call(this,{rejection:Yt[Bt],promise:Yt})}catch(on){}Yt[kn]=Se;for(let on=0;on<yt.length;on++)Yt===yt[on].promise&&yt.splice(on,1)}}function sr(Yt,on,et,Lt,gn){or(Yt);const xn=Yt[kn],mn=xn?"function"==typeof Lt?Lt:jt:"function"==typeof gn?gn:Xn;on.scheduleMicroTask("Promise.then",()=>{try{const Mn=Yt[Bt],tr=!!et&&ht===et[ht];tr&&(et[tn]=Mn,et[vn]=xn);const pn=on.run(mn,void 0,tr&&mn!==Xn&&mn!==jt?[]:[Mn]);zn(et,!0,pn)}catch(Mn){zn(et,!1,Mn)}},et)}const In=function(){},wn=Fe.AggregateError;class Qe{static toString(){return"function ZoneAwarePromise() { [native code] }"}static resolve(on){return zn(new this(null),!0,on)}static reject(on){return zn(new this(null),Se,on)}static any(on){if(!on||"function"!=typeof on[Symbol.iterator])return Promise.reject(new wn([],"All promises were rejected"));const et=[];let Lt=0;try{for(let mn of on)Lt++,et.push(Qe.resolve(mn))}catch(mn){return Promise.reject(new wn([],"All promises were rejected"))}if(0===Lt)return Promise.reject(new wn([],"All promises were rejected"));let gn=!1;const xn=[];return new Qe((mn,Mn)=>{for(let tr=0;tr<et.length;tr++)et[tr].then(pn=>{gn||(gn=!0,mn(pn))},pn=>{xn.push(pn),Lt--,0===Lt&&(gn=!0,Mn(new wn(xn,"All promises were rejected")))})})}static race(on){let et,Lt,gn=new this((Mn,tr)=>{et=Mn,Lt=tr});function xn(Mn){et(Mn)}function mn(Mn){Lt(Mn)}for(let Mn of on)Hn(Mn)||(Mn=this.resolve(Mn)),Mn.then(xn,mn);return gn}static all(on){return Qe.allWithCallback(on)}static allSettled(on){return(this&&this.prototype instanceof Qe?this:Qe).allWithCallback(on,{thenCallback:Lt=>({status:"fulfilled",value:Lt}),errorCallback:Lt=>({status:"rejected",reason:Lt})})}static allWithCallback(on,et){let Lt,gn,xn=new this((pn,Vn)=>{Lt=pn,gn=Vn}),mn=2,Mn=0;const tr=[];for(let pn of on){Hn(pn)||(pn=this.resolve(pn));const Vn=Mn;try{pn.then(Or=>{tr[Vn]=et?et.thenCallback(Or):Or,mn--,0===mn&&Lt(tr)},Or=>{et?(tr[Vn]=et.errorCallback(Or),mn--,0===mn&&Lt(tr)):gn(Or)})}catch(Or){gn(Or)}mn++,Mn++}return mn-=2,0===mn&&Lt(tr),xn}constructor(on){const et=this;if(!(et instanceof Qe))throw new Error("Must be an instanceof Promise.");et[kn]=jn,et[Bt]=[];try{on&&on(lt(et,!0),lt(et,Se))}catch(Lt){zn(et,!1,Lt)}}get[Symbol.toStringTag](){return"Promise"}get[Symbol.species](){return Qe}then(on,et){let Lt=this.constructor[Symbol.species];(!Lt||"function"!=typeof Lt)&&(Lt=this.constructor||Qe);const gn=new Lt(In),xn=gt.current;return this[kn]==jn?this[Bt].push(xn,gn,on,et):sr(this,xn,gn,on,et),gn}catch(on){return this.then(null,on)}finally(on){let et=this.constructor[Symbol.species];(!et||"function"!=typeof et)&&(et=Qe);const Lt=new et(In);Lt[ht]=ht;const gn=gt.current;return this[kn]==jn?this[Bt].push(gn,Lt,on,on):sr(this,gn,Lt,on,on),Lt}}Qe.resolve=Qe.resolve,Qe.reject=Qe.reject,Qe.race=Qe.race,Qe.all=Qe.all;const wt=Fe[dn]=Fe.Promise;Fe.Promise=Qe;const ln=ct("thenPatched");function Yn(Yt){const on=Yt.prototype,et=ce(on,"then");if(et&&(!1===et.writable||!et.configurable))return;const Lt=on.then;on[qt]=Lt,Yt.prototype.then=function(gn,xn){return new Qe((Mn,tr)=>{Lt.call(this,Mn,tr)}).then(gn,xn)},Yt[ln]=!0}return Be.patchThen=Yn,wt&&(Yn(wt),we(Fe,"fetch",Yt=>function gr(Yt){return function(on,et){let Lt=Yt.apply(on,et);if(Lt instanceof Qe)return Lt;let gn=Lt.constructor;return gn[ln]||Yn(gn),Lt}}(Yt))),Promise[gt.__symbol__("uncaughtPromiseErrors")]=yt,Qe}),Zone.__load_patch("toString",Fe=>{const gt=Function.prototype.toString,Be=ge("OriginalDelegate"),ce=ge("Promise"),ye=ge("Error"),at=function(){if("function"==typeof this){const dn=this[Be];if(dn)return"function"==typeof dn?gt.call(dn):Object.prototype.toString.call(dn);if(this===Promise){const qt=Fe[ce];if(qt)return gt.call(qt)}if(this===Error){const qt=Fe[ye];if(qt)return gt.call(qt)}}return gt.call(this)};at[Be]=gt,Function.prototype.toString=at;const ct=Object.prototype.toString;Object.prototype.toString=function(){return"function"==typeof Promise&&this instanceof Promise?"[object Promise]":ct.call(this)}});let Et=!1;if("undefined"!=typeof window)try{const Fe=Object.defineProperty({},"passive",{get:function(){Et=!0}});window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(Fe){Et=!1}const Ht={useG:!0},yn={},rr={},$n=new RegExp("^"+Q+"(\\w+)(true|false)$"),Dr=ge("propagationStopped");function br(Fe,gt){const Be=(gt?gt(Fe):Fe)+Y,ce=(gt?gt(Fe):Fe)+ee,ye=Q+Be,at=Q+ce;yn[Fe]={},yn[Fe][Y]=ye,yn[Fe][ee]=at}function vr(Fe,gt,Be,ce){const ye=ce&&ce.add||w,at=ce&&ce.rm||N,ct=ce&&ce.listeners||"eventListeners",yt=ce&&ce.rmAll||"removeAllListeners",Ot=ge(ye),dn="."+ye+":",Gn=function(Bt,ht,tn){if(Bt.isRemoved)return;const vn=Bt.callback;let Zn;"object"==typeof vn&&vn.handleEvent&&(Bt.callback=Pe=>vn.handleEvent(Pe),Bt.originalDelegate=vn);try{Bt.invoke(Bt,ht,[tn])}catch(Pe){Zn=Pe}const jn=Bt.options;return jn&&"object"==typeof jn&&jn.once&&ht[at].call(ht,tn.type,Bt.originalDelegate?Bt.originalDelegate:Bt.callback,jn),Zn};function fn(Bt,ht,tn){if(!(ht=ht||Fe.event))return;const vn=Bt||ht.target||Fe,Zn=vn[yn[ht.type][tn?ee:Y]];if(Zn){const jn=[];if(1===Zn.length){const Pe=Gn(Zn[0],vn,ht);Pe&&jn.push(Pe)}else{const Pe=Zn.slice();for(let Se=0;Se<Pe.length&&(!ht||!0!==ht[Dr]);Se++){const be=Gn(Pe[Se],vn,ht);be&&jn.push(be)}}if(1===jn.length)throw jn[0];for(let Pe=0;Pe<jn.length;Pe++){const Se=jn[Pe];gt.nativeScheduleMicroTask(()=>{throw Se})}}}const Hn=function(Bt){return fn(this,Bt,!1)},jt=function(Bt){return fn(this,Bt,!0)};function Xn(Bt,ht){if(!Bt)return!1;let tn=!0;ht&&void 0!==ht.useG&&(tn=ht.useG);const vn=ht&&ht.vh;let Zn=!0;ht&&void 0!==ht.chkDup&&(Zn=ht.chkDup);let jn=!1;ht&&void 0!==ht.rt&&(jn=ht.rt);let Pe=Bt;for(;Pe&&!Pe.hasOwnProperty(ye);)Pe=A(Pe);if(!Pe&&Bt[ye]&&(Pe=Bt),!Pe||Pe[Ot])return!1;const Se=ht&&ht.eventNameToString,be={},lt=Pe[Ot]=Pe[ye],$e=Pe[ge(at)]=Pe[at],zt=Pe[ge(ct)]=Pe[ct],qn=Pe[ge(yt)]=Pe[yt];let zn;function ir(et,Lt){return!Et&&"object"==typeof et&&et?!!et.capture:Et&&Lt?"boolean"==typeof et?{capture:et,passive:!0}:et?"object"==typeof et&&!1!==et.passive?Object.assign(Object.assign({},et),{passive:!0}):et:{passive:!0}:et}ht&&ht.prepend&&(zn=Pe[ge(ht.prepend)]=Pe[ht.prepend]);const Qe=tn?function(et){if(!be.isExisting)return lt.call(be.target,be.eventName,be.capture?jt:Hn,be.options)}:function(et){return lt.call(be.target,be.eventName,et.invoke,be.options)},wt=tn?function(et){if(!et.isRemoved){const Lt=yn[et.eventName];let gn;Lt&&(gn=Lt[et.capture?ee:Y]);const xn=gn&&et.target[gn];if(xn)for(let mn=0;mn<xn.length;mn++)if(xn[mn]===et){xn.splice(mn,1),et.isRemoved=!0,0===xn.length&&(et.allRemoved=!0,et.target[gn]=null);break}}if(et.allRemoved)return $e.call(et.target,et.eventName,et.capture?jt:Hn,et.options)}:function(et){return $e.call(et.target,et.eventName,et.invoke,et.options)},Yn=ht&&ht.diff?ht.diff:function(et,Lt){const gn=typeof Lt;return"function"===gn&&et.callback===Lt||"object"===gn&&et.originalDelegate===Lt},gr=Zone[ge("UNPATCHED_EVENTS")],Yt=Fe[ge("PASSIVE_EVENTS")],on=function(et,Lt,gn,xn,mn=!1,Mn=!1){return function(){const tr=this||Fe;let pn=arguments[0];ht&&ht.transferEventName&&(pn=ht.transferEventName(pn));let Vn=arguments[1];if(!Vn)return et.apply(this,arguments);if(Ke&&"uncaughtException"===pn)return et.apply(this,arguments);let Or=!1;if("function"!=typeof Vn){if(!Vn.handleEvent)return et.apply(this,arguments);Or=!0}if(vn&&!vn(et,Vn,tr,arguments))return;const Qn=Et&&!!Yt&&-1!==Yt.indexOf(pn),Lr=ir(arguments[2],Qn);if(gr)for(let Sr=0;Sr<gr.length;Sr++)if(pn===gr[Sr])return Qn?et.call(tr,pn,Vn,Lr):et.apply(this,arguments);const Di=!!Lr&&("boolean"==typeof Lr||Lr.capture),io=!(!Lr||"object"!=typeof Lr)&&Lr.once,Wi=Zone.current;let Wr=yn[pn];Wr||(br(pn,Se),Wr=yn[pn]);const $i=Wr[Di?ee:Y];let We,Jr=tr[$i],st=!1;if(Jr){if(st=!0,Zn)for(let Sr=0;Sr<Jr.length;Sr++)if(Yn(Jr[Sr],Vn))return}else Jr=tr[$i]=[];const bt=tr.constructor.name,Vt=rr[bt];Vt&&(We=Vt[pn]),We||(We=bt+Lt+(Se?Se(pn):pn)),be.options=Lr,io&&(be.options.once=!1),be.target=tr,be.capture=Di,be.eventName=pn,be.isExisting=st;const $t=tn?Ht:void 0;$t&&($t.taskData=be);const bn=Wi.scheduleEventTask(We,Vn,$t,gn,xn);return be.target=null,$t&&($t.taskData=null),io&&(Lr.once=!0),!Et&&"boolean"==typeof bn.options||(bn.options=Lr),bn.target=tr,bn.capture=Di,bn.eventName=pn,Or&&(bn.originalDelegate=Vn),Mn?Jr.unshift(bn):Jr.push(bn),mn?tr:void 0}};return Pe[ye]=on(lt,dn,Qe,wt,jn),zn&&(Pe.prependListener=on(zn,".prependListener:",function(et){return zn.call(be.target,be.eventName,et.invoke,be.options)},wt,jn,!0)),Pe[at]=function(){const et=this||Fe;let Lt=arguments[0];ht&&ht.transferEventName&&(Lt=ht.transferEventName(Lt));const gn=arguments[2],xn=!!gn&&("boolean"==typeof gn||gn.capture),mn=arguments[1];if(!mn)return $e.apply(this,arguments);if(vn&&!vn($e,mn,et,arguments))return;const Mn=yn[Lt];let tr;Mn&&(tr=Mn[xn?ee:Y]);const pn=tr&&et[tr];if(pn)for(let Vn=0;Vn<pn.length;Vn++){const Or=pn[Vn];if(Yn(Or,mn))return pn.splice(Vn,1),Or.isRemoved=!0,0===pn.length&&(Or.allRemoved=!0,et[tr]=null,"string"==typeof Lt)&&(et[Q+"ON_PROPERTY"+Lt]=null),Or.zone.cancelTask(Or),jn?et:void 0}return $e.apply(this,arguments)},Pe[ct]=function(){const et=this||Fe;let Lt=arguments[0];ht&&ht.transferEventName&&(Lt=ht.transferEventName(Lt));const gn=[],xn=ni(et,Se?Se(Lt):Lt);for(let mn=0;mn<xn.length;mn++){const Mn=xn[mn];gn.push(Mn.originalDelegate?Mn.originalDelegate:Mn.callback)}return gn},Pe[yt]=function(){const et=this||Fe;let Lt=arguments[0];if(Lt){ht&&ht.transferEventName&&(Lt=ht.transferEventName(Lt));const gn=yn[Lt];if(gn){const Mn=et[gn[Y]],tr=et[gn[ee]];if(Mn){const pn=Mn.slice();for(let Vn=0;Vn<pn.length;Vn++){const Or=pn[Vn];this[at].call(this,Lt,Or.originalDelegate?Or.originalDelegate:Or.callback,Or.options)}}if(tr){const pn=tr.slice();for(let Vn=0;Vn<pn.length;Vn++){const Or=pn[Vn];this[at].call(this,Lt,Or.originalDelegate?Or.originalDelegate:Or.callback,Or.options)}}}}else{const gn=Object.keys(et);for(let xn=0;xn<gn.length;xn++){const Mn=$n.exec(gn[xn]);let tr=Mn&&Mn[1];tr&&"removeListener"!==tr&&this[yt].call(this,tr)}this[yt].call(this,"removeListener")}if(jn)return this},Ee(Pe[ye],lt),Ee(Pe[at],$e),qn&&Ee(Pe[yt],qn),zt&&Ee(Pe[ct],zt),!0}let kn=[];for(let Bt=0;Bt<Be.length;Bt++)kn[Bt]=Xn(Be[Bt],ce);return kn}function ni(Fe,gt){if(!gt){const at=[];for(let ct in Fe){const yt=$n.exec(ct);let Ot=yt&&yt[1];if(Ot&&(!gt||Ot===gt)){const dn=Fe[ct];if(dn)for(let qt=0;qt<dn.length;qt++)at.push(dn[qt])}}return at}let Be=yn[gt];Be||(br(gt),Be=yn[gt]);const ce=Fe[Be[Y]],ye=Fe[Be[ee]];return ce?ye?ce.concat(ye):ce.slice():ye?ye.slice():[]}function xr(Fe,gt){const Be=Fe.Event;Be&&Be.prototype&&gt.patchMethod(Be.prototype,"stopImmediatePropagation",ce=>function(ye,at){ye[Dr]=!0,ce&&ce.apply(ye,at)})}function jr(Fe,gt,Be,ce,ye){const at=Zone.__symbol__(ce);if(gt[at])return;const ct=gt[at]=gt[ce];gt[ce]=function(yt,Ot,dn){return Ot&&Ot.prototype&&ye.forEach(function(qt){const cn=`${Be}.${ce}::`+qt,Gn=Ot.prototype;if(Gn.hasOwnProperty(qt)){const fn=Fe.ObjectGetOwnPropertyDescriptor(Gn,qt);fn&&fn.value?(fn.value=Fe.wrapWithCurrentZone(fn.value,cn),Fe._redefineProperty(Ot.prototype,qt,fn)):Gn[qt]&&(Gn[qt]=Fe.wrapWithCurrentZone(Gn[qt],cn))}else Gn[qt]&&(Gn[qt]=Fe.wrapWithCurrentZone(Gn[qt],cn))}),ct.call(gt,yt,Ot,dn)},Fe.attachOriginToPatched(gt[ce],ct)}function Ni(Fe,gt,Be){if(!Be||0===Be.length)return gt;const ce=Be.filter(at=>at.target===Fe);if(!ce||0===ce.length)return gt;const ye=ce[0].ignoreProperties;return gt.filter(at=>-1===ye.indexOf(at))}function Ei(Fe,gt,Be,ce){Fe&&ve(Fe,Ni(Fe,gt,Be),ce)}function Kr(Fe){return Object.getOwnPropertyNames(Fe).filter(gt=>gt.startsWith("on")&&gt.length>2).map(gt=>gt.substring(2))}Zone.__load_patch("util",(Fe,gt,Be)=>{const ce=Kr(Fe);Be.patchOnProperties=ve,Be.patchMethod=we,Be.bindArguments=_e,Be.patchMacroTask=qe;const ye=gt.__symbol__("BLACK_LISTED_EVENTS"),at=gt.__symbol__("UNPATCHED_EVENTS");Fe[at]&&(Fe[ye]=Fe[at]),Fe[ye]&&(gt[ye]=gt[at]=Fe[ye]),Be.patchEventPrototype=xr,Be.patchEventTarget=vr,Be.isIEOrEdge=Rt,Be.ObjectDefineProperty=D,Be.ObjectGetOwnPropertyDescriptor=pt,Be.ObjectCreate=p,Be.ArraySlice=e,Be.patchClass=oe,Be.wrapWithCurrentZone=K,Be.filterProperties=Ni,Be.attachOriginToPatched=Ee,Be._redefineProperty=Object.defineProperty,Be.patchCallbacks=jr,Be.getGlobalObjects=()=>({globalSources:rr,zoneSymbolEventNames:yn,eventNames:ce,isBrowser:rt,isMix:Ae,isNode:Ke,TRUE_STR:ee,FALSE_STR:Y,ZONE_SYMBOL_PREFIX:Q,ADD_EVENT_LISTENER_STR:w,REMOVE_EVENT_LISTENER_STR:N})});const Bi=ge("zoneTask");function Bn(Fe,gt,Be,ce){let ye=null,at=null;Be+=ce;const ct={};function yt(dn){const qt=dn.data;return qt.args[0]=function(){return dn.invoke.apply(this,arguments)},qt.handleId=ye.apply(Fe,qt.args),dn}function Ot(dn){return at.call(Fe,dn.data.handleId)}ye=we(Fe,gt+=ce,dn=>function(qt,cn){if("function"==typeof cn[0]){const Gn={isPeriodic:"Interval"===ce,delay:"Timeout"===ce||"Interval"===ce?cn[1]||0:void 0,args:cn},fn=cn[0];cn[0]=function(){try{return fn.apply(this,arguments)}finally{Gn.isPeriodic||("number"==typeof Gn.handleId?delete ct[Gn.handleId]:Gn.handleId&&(Gn.handleId[Bi]=null))}};const Hn=ie(gt,cn[0],Gn,yt,Ot);if(!Hn)return Hn;const jt=Hn.data.handleId;return"number"==typeof jt?ct[jt]=Hn:jt&&(jt[Bi]=Hn),jt&&jt.ref&&jt.unref&&"function"==typeof jt.ref&&"function"==typeof jt.unref&&(Hn.ref=jt.ref.bind(jt),Hn.unref=jt.unref.bind(jt)),"number"==typeof jt||jt?jt:Hn}return dn.apply(Fe,cn)}),at=we(Fe,Be,dn=>function(qt,cn){const Gn=cn[0];let fn;"number"==typeof Gn?fn=ct[Gn]:(fn=Gn&&Gn[Bi],fn||(fn=Gn)),fn&&"string"==typeof fn.type?"notScheduled"!==fn.state&&(fn.cancelFn&&fn.data.isPeriodic||0===fn.runCount)&&("number"==typeof Gn?delete ct[Gn]:Gn&&(Gn[Bi]=null),fn.zone.cancelTask(fn)):dn.apply(Fe,cn)})}Zone.__load_patch("legacy",Fe=>{const gt=Fe[Zone.__symbol__("legacyPatch")];gt&&gt()}),Zone.__load_patch("queueMicrotask",(Fe,gt,Be)=>{Be.patchMethod(Fe,"queueMicrotask",ce=>function(ye,at){gt.current.scheduleMicroTask("queueMicrotask",at[0])})}),Zone.__load_patch("timers",Fe=>{const Be="clear";Bn(Fe,"set",Be,"Timeout"),Bn(Fe,"set",Be,"Interval"),Bn(Fe,"set",Be,"Immediate")}),Zone.__load_patch("requestAnimationFrame",Fe=>{Bn(Fe,"request","cancel","AnimationFrame"),Bn(Fe,"mozRequest","mozCancel","AnimationFrame"),Bn(Fe,"webkitRequest","webkitCancel","AnimationFrame")}),Zone.__load_patch("blocking",(Fe,gt)=>{const Be=["alert","prompt","confirm"];for(let ce=0;ce<Be.length;ce++)we(Fe,Be[ce],(at,ct,yt)=>function(Ot,dn){return gt.current.run(at,Fe,dn,yt)})}),Zone.__load_patch("EventTarget",(Fe,gt,Be)=>{(function Qr(Fe,gt){gt.patchEventPrototype(Fe,gt)})(Fe,Be),function ri(Fe,gt){if(Zone[gt.symbol("patchEventTarget")])return;const{eventNames:Be,zoneSymbolEventNames:ce,TRUE_STR:ye,FALSE_STR:at,ZONE_SYMBOL_PREFIX:ct}=gt.getGlobalObjects();for(let Ot=0;Ot<Be.length;Ot++){const dn=Be[Ot],Gn=ct+(dn+at),fn=ct+(dn+ye);ce[dn]={},ce[dn][at]=Gn,ce[dn][ye]=fn}const yt=Fe.EventTarget;yt&&yt.prototype&&gt.patchEventTarget(Fe,gt,[yt&&yt.prototype])}(Fe,Be);const ce=Fe.XMLHttpRequestEventTarget;ce&&ce.prototype&&Be.patchEventTarget(Fe,Be,[ce.prototype])}),Zone.__load_patch("MutationObserver",(Fe,gt,Be)=>{oe("MutationObserver"),oe("WebKitMutationObserver")}),Zone.__load_patch("IntersectionObserver",(Fe,gt,Be)=>{oe("IntersectionObserver")}),Zone.__load_patch("FileReader",(Fe,gt,Be)=>{oe("FileReader")}),Zone.__load_patch("on_property",(Fe,gt,Be)=>{!function Zr(Fe,gt){if(Ke&&!Ae||Zone[Fe.symbol("patchEvents")])return;const Be=gt.__Zone_ignore_on_properties;let ce=[];if(rt){const ye=window;ce=ce.concat(["Document","SVGElement","Element","HTMLElement","HTMLBodyElement","HTMLMediaElement","HTMLFrameSetElement","HTMLFrameElement","HTMLIFrameElement","HTMLMarqueeElement","Worker"]);const at=function Sn(){try{const Fe=Xe.navigator.userAgent;if(-1!==Fe.indexOf("MSIE ")||-1!==Fe.indexOf("Trident/"))return!0}catch(Fe){}return!1}()?[{target:ye,ignoreProperties:["error"]}]:[];Ei(ye,Kr(ye),Be&&Be.concat(at),A(ye))}ce=ce.concat(["XMLHttpRequest","XMLHttpRequestEventTarget","IDBIndex","IDBRequest","IDBOpenDBRequest","IDBDatabase","IDBTransaction","IDBCursor","WebSocket"]);for(let ye=0;ye<ce.length;ye++){const at=gt[ce[ye]];at&&at.prototype&&Ei(at.prototype,Kr(at.prototype),Be)}}(Be,Fe)}),Zone.__load_patch("customElements",(Fe,gt,Be)=>{!function zi(Fe,gt){const{isBrowser:Be,isMix:ce}=gt.getGlobalObjects();(Be||ce)&&Fe.customElements&&"customElements"in Fe&&gt.patchCallbacks(gt,Fe.customElements,"customElements","define",["connectedCallback","disconnectedCallback","adoptedCallback","attributeChangedCallback"])}(Fe,Be)}),Zone.__load_patch("XHR",(Fe,gt)=>{!function Ot(dn){const qt=dn.XMLHttpRequest;if(!qt)return;const cn=qt.prototype;let fn=cn[M],Hn=cn[G];if(!fn){const be=dn.XMLHttpRequestEventTarget;if(be){const lt=be.prototype;fn=lt[M],Hn=lt[G]}}const jt="readystatechange",Xn="scheduled";function kn(be){const lt=be.data,$e=lt.target;$e[at]=!1,$e[yt]=!1;const zt=$e[ye];fn||(fn=$e[M],Hn=$e[G]),zt&&Hn.call($e,jt,zt);const qn=$e[ye]=()=>{if($e.readyState===$e.DONE)if(!lt.aborted&&$e[at]&&be.state===Xn){const ir=$e[gt.__symbol__("loadfalse")];if(0!==$e.status&&ir&&ir.length>0){const or=be.invoke;be.invoke=function(){const sr=$e[gt.__symbol__("loadfalse")];for(let Cn=0;Cn<sr.length;Cn++)sr[Cn]===be&&sr.splice(Cn,1);!lt.aborted&&be.state===Xn&&or.call(be)},ir.push(be)}else be.invoke()}else!lt.aborted&&!1===$e[at]&&($e[yt]=!0)};return fn.call($e,jt,qn),$e[Be]||($e[Be]=be),Pe.apply($e,lt.args),$e[at]=!0,be}function Bt(){}function ht(be){const lt=be.data;return lt.aborted=!0,Se.apply(lt.target,lt.args)}const tn=we(cn,"open",()=>function(be,lt){return be[ce]=0==lt[2],be[ct]=lt[1],tn.apply(be,lt)}),Zn=ge("fetchTaskAborting"),jn=ge("fetchTaskScheduling"),Pe=we(cn,"send",()=>function(be,lt){if(!0===gt.current[jn]||be[ce])return Pe.apply(be,lt);{const $e={target:be,url:be[ct],isPeriodic:!1,args:lt,aborted:!1},zt=ie("XMLHttpRequest.send",Bt,$e,kn,ht);be&&!0===be[yt]&&!$e.aborted&&zt.state===Xn&&zt.invoke()}}),Se=we(cn,"abort",()=>function(be,lt){const $e=function Gn(be){return be[Be]}(be);if($e&&"string"==typeof $e.type){if(null==$e.cancelFn||$e.data&&$e.data.aborted)return;$e.zone.cancelTask($e)}else if(!0===gt.current[Zn])return Se.apply(be,lt)})}(Fe);const Be=ge("xhrTask"),ce=ge("xhrSync"),ye=ge("xhrListener"),at=ge("xhrScheduled"),ct=ge("xhrURL"),yt=ge("xhrErrorBeforeScheduled")}),Zone.__load_patch("geolocation",Fe=>{Fe.navigator&&Fe.navigator.geolocation&&function Ge(Fe,gt){const Be=Fe.constructor.name;for(let ce=0;ce<gt.length;ce++){const ye=gt[ce],at=Fe[ye];if(at){if(!ke(pt(Fe,ye)))continue;Fe[ye]=(yt=>{const Ot=function(){return yt.apply(this,_e(arguments,Be+"."+ye))};return Ee(Ot,yt),Ot})(at)}}}(Fe.navigator.geolocation,["getCurrentPosition","watchPosition"])}),Zone.__load_patch("PromiseRejectionEvent",(Fe,gt)=>{function Be(ce){return function(ye){ni(Fe,ce).forEach(ct=>{const yt=Fe.PromiseRejectionEvent;if(yt){const Ot=new yt(ce,{promise:ye.promise,reason:ye.rejection});ct.invoke(Ot)}})}}Fe.PromiseRejectionEvent&&(gt[ge("unhandledPromiseRejectionHandler")]=Be("unhandledrejection"),gt[ge("rejectionHandledHandler")]=Be("rejectionhandled"))})},655:(pt,D,A)=>{"use strict";function N(ve,me){var oe={};for(var we in ve)Object.prototype.hasOwnProperty.call(ve,we)&&me.indexOf(we)<0&&(oe[we]=ve[we]);if(null!=ve&&"function"==typeof Object.getOwnPropertySymbols){var qe=0;for(we=Object.getOwnPropertySymbols(ve);qe<we.length;qe++)me.indexOf(we[qe])<0&&Object.prototype.propertyIsEnumerable.call(ve,we[qe])&&(oe[we[qe]]=ve[we[qe]])}return oe}function Y(ve,me,oe,we){return new(oe||(oe=Promise))(function(Ee,It){function Ft(Et){try{Rt(we.next(Et))}catch(Ht){It(Ht)}}function Sn(Et){try{Rt(we.throw(Et))}catch(Ht){It(Ht)}}function Rt(Et){Et.done?Ee(Et.value):function qe(Ee){return Ee instanceof oe?Ee:new oe(function(It){It(Ee)})}(Et.value).then(Ft,Sn)}Rt((we=we.apply(ve,me||[])).next())})}function _e(ve){return this instanceof _e?(this.v=ve,this):new _e(ve)}function Ge(ve,me,oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var qe,we=oe.apply(ve,me||[]),Ee=[];return qe={},It("next"),It("throw"),It("return"),qe[Symbol.asyncIterator]=function(){return this},qe;function It(yn){we[yn]&&(qe[yn]=function(rr){return new Promise(function($n,Dr){Ee.push([yn,rr,$n,Dr])>1||Ft(yn,rr)})})}function Ft(yn,rr){try{!function Sn(yn){yn.value instanceof _e?Promise.resolve(yn.value.v).then(Rt,Et):Ht(Ee[0][2],yn)}(we[yn](rr))}catch($n){Ht(Ee[0][3],$n)}}function Rt(yn){Ft("next",yn)}function Et(yn){Ft("throw",yn)}function Ht(yn,rr){yn(rr),Ee.shift(),Ee.length&&Ft(Ee[0][0],Ee[0][1])}}function _t(ve){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,me=ve[Symbol.asyncIterator];return me?me.call(ve):(ve=function ge(ve){var me="function"==typeof Symbol&&Symbol.iterator,oe=me&&ve[me],we=0;if(oe)return oe.call(ve);if(ve&&"number"==typeof ve.length)return{next:function(){return ve&&we>=ve.length&&(ve=void 0),{value:ve&&ve[we++],done:!ve}}};throw new TypeError(me?"Object is not iterable.":"Symbol.iterator is not defined.")}(ve),oe={},we("next"),we("throw"),we("return"),oe[Symbol.asyncIterator]=function(){return this},oe);function we(Ee){oe[Ee]=ve[Ee]&&function(It){return new Promise(function(Ft,Sn){!function qe(Ee,It,Ft,Sn){Promise.resolve(Sn).then(function(Rt){Ee({value:Rt,done:Ft})},It)}(Ft,Sn,(It=ve[Ee](It)).done,It.value)})}}}A.d(D,{FC:()=>Ge,KL:()=>_t,_T:()=>N,mG:()=>Y,qq:()=>_e})},9808:(pt,D,A)=>{"use strict";A.d(D,{Do:()=>Ke,EM:()=>dr,HT:()=>M,JF:()=>Gr,JJ:()=>R,K0:()=>ee,Mx:()=>Lr,NF:()=>Tt,O5:()=>st,PM:()=>hn,S$:()=>_e,Ts:()=>po,V_:()=>K,Ye:()=>rt,b0:()=>_t,bD:()=>ut,ez:()=>Le,lw:()=>Y,mk:()=>Di,mr:()=>ke,q:()=>w,qS:()=>Qn,sg:()=>Wr,tP:()=>Hi,uU:()=>Jo,w_:()=>G});var p=A(5e3);let e=null;function w(){return e}function M(H){e||(e=H)}class G{}const ee=new p.OlP("DocumentToken");let Y=(()=>{class H{historyGo(V){throw new Error("Not implemented")}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function Q(){return(0,p.LFG)(ie)}()},providedIn:"platform"}),H})();const K=new p.OlP("Location Initialized");let ie=(()=>{class H extends Y{constructor(V){super(),this._doc=V,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return w().getBaseHref(this._doc)}onPopState(V){const pe=w().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("popstate",V,!1),()=>pe.removeEventListener("popstate",V)}onHashChange(V){const pe=w().getGlobalEventTarget(this._doc,"window");return pe.addEventListener("hashchange",V,!1),()=>pe.removeEventListener("hashchange",V)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(V){this.location.pathname=V}pushState(V,pe,Ye){ge()?this._history.pushState(V,pe,Ye):this.location.hash=Ye}replaceState(V,pe,Ye){ge()?this._history.replaceState(V,pe,Ye):this.location.hash=Ye}forward(){this._history.forward()}back(){this._history.back()}historyGo(V=0){this._history.go(V)}getState(){return this._history.state}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(ee))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function dt(){return new ie((0,p.LFG)(ee))}()},providedIn:"platform"}),H})();function ge(){return!!window.history.pushState}function Xe(H,le){if(0==H.length)return le;if(0==le.length)return H;let V=0;return H.endsWith("/")&&V++,le.startsWith("/")&&V++,2==V?H+le.substring(1):1==V?H+le:H+"/"+le}function Je(H){const le=H.match(/#|\?|$/),V=le&&le.index||H.length;return H.slice(0,V-("/"===H[V-1]?1:0))+H.slice(V)}function vt(H){return H&&"?"!==H[0]?"?"+H:H}let _e=(()=>{class H{historyGo(V){throw new Error("Not implemented")}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275prov=p.Yz7({token:H,factory:function(){return function Ge(H){const le=(0,p.LFG)(ee).location;return new _t((0,p.LFG)(Y),le&&le.origin||"")}()},providedIn:"root"}),H})();const ke=new p.OlP("appBaseHref");let _t=(()=>{class H extends _e{constructor(V,pe){if(super(),this._platformLocation=V,this._removeListenerFns=[],null==pe&&(pe=this._platformLocation.getBaseHrefFromDOM()),null==pe)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=pe}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}prepareExternalUrl(V){return Xe(this._baseHref,V)}path(V=!1){const pe=this._platformLocation.pathname+vt(this._platformLocation.search),Ye=this._platformLocation.hash;return Ye&&V?`${pe}${Ye}`:pe}pushState(V,pe,Ye,Mt){const Wt=this.prepareExternalUrl(Ye+vt(Mt));this._platformLocation.pushState(V,pe,Wt)}replaceState(V,pe,Ye,Mt){const Wt=this.prepareExternalUrl(Ye+vt(Mt));this._platformLocation.replaceState(V,pe,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformLocation).historyGo)||void 0===Ye||Ye.call(pe,V)}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(Y),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),Ke=(()=>{class H extends _e{constructor(V,pe){super(),this._platformLocation=V,this._baseHref="",this._removeListenerFns=[],null!=pe&&(this._baseHref=pe)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(V){this._removeListenerFns.push(this._platformLocation.onPopState(V),this._platformLocation.onHashChange(V))}getBaseHref(){return this._baseHref}path(V=!1){let pe=this._platformLocation.hash;return null==pe&&(pe="#"),pe.length>0?pe.substring(1):pe}prepareExternalUrl(V){const pe=Xe(this._baseHref,V);return pe.length>0?"#"+pe:pe}pushState(V,pe,Ye,Mt){let Wt=this.prepareExternalUrl(Ye+vt(Mt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.pushState(V,pe,Wt)}replaceState(V,pe,Ye,Mt){let Wt=this.prepareExternalUrl(Ye+vt(Mt));0==Wt.length&&(Wt=this._platformLocation.pathname),this._platformLocation.replaceState(V,pe,Wt)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformLocation).historyGo)||void 0===Ye||Ye.call(pe,V)}}return H.\u0275fac=function(V){return new(V||H)(p.LFG(Y),p.LFG(ke,8))},H.\u0275prov=p.Yz7({token:H,factory:H.\u0275fac}),H})(),rt=(()=>{class H{constructor(V,pe){this._subject=new p.vpe,this._urlChangeListeners=[],this._platformStrategy=V;const Ye=this._platformStrategy.getBaseHref();this._platformLocation=pe,this._baseHref=Je(Ze(Ye)),this._platformStrategy.onPopState(Mt=>{this._subject.emit({url:this.path(!0),pop:!0,state:Mt.state,type:Mt.type})})}path(V=!1){return this.normalize(this._platformStrategy.path(V))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(V,pe=""){return this.path()==this.normalize(V+vt(pe))}normalize(V){return H.stripTrailingSlash(function it(H,le){return H&&le.startsWith(H)?le.substring(H.length):le}(this._baseHref,Ze(V)))}prepareExternalUrl(V){return V&&"/"!==V[0]&&(V="/"+V),this._platformStrategy.prepareExternalUrl(V)}go(V,pe="",Ye=null){this._platformStrategy.pushState(Ye,"",V,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+vt(pe)),Ye)}replaceState(V,pe="",Ye=null){this._platformStrategy.replaceState(Ye,"",V,pe),this._notifyUrlChangeListeners(this.prepareExternalUrl(V+vt(pe)),Ye)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(V=0){var pe,Ye;null===(Ye=(pe=this._platformStrategy).historyGo)||void 0===Ye||Ye.call(pe,V)}onUrlChange(V){this._urlChangeListeners.push(V),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(pe=>{this._notifyUrlChangeListeners(pe.url,pe.state)}))}_notifyUrlChangeListeners(V="",pe){this._urlChangeListeners.forEach(Ye=>Ye(V,pe))}subscribe(V,pe,Ye){return this._subject.subscribe({next:V,error:pe,complete:Ye})}}return H.normalizeQueryParams=vt,H.joinWithSlash=Xe,H.stripTrailingSlash=Je,H.\u0275fac=function(V){return new(V||H)(p.LFG(_e),p.LFG(Y))},H.\u0275prov=p.Yz7({token:H,factory:function(){return function Ae(){return new rt((0,p.LFG)(_e),(0,p.LFG)(Y))}()},providedIn:"root"}),H})();function Ze(H){return H.replace(/\/index.html$/,"")}var ve=(()=>((ve=ve||{})[ve.Decimal=0]="Decimal",ve[ve.Percent=1]="Percent",ve[ve.Currency=2]="Currency",ve[ve.Scientific=3]="Scientific",ve))(),oe=(()=>((oe=oe||{})[oe.Format=0]="Format",oe[oe.Standalone=1]="Standalone",oe))(),we=(()=>((we=we||{})[we.Narrow=0]="Narrow",we[we.Abbreviated=1]="Abbreviated",we[we.Wide=2]="Wide",we[we.Short=3]="Short",we))(),qe=(()=>((qe=qe||{})[qe.Short=0]="Short",qe[qe.Medium=1]="Medium",qe[qe.Long=2]="Long",qe[qe.Full=3]="Full",qe))(),Ee=(()=>((Ee=Ee||{})[Ee.Decimal=0]="Decimal",Ee[Ee.Group=1]="Group",Ee[Ee.List=2]="List",Ee[Ee.PercentSign=3]="PercentSign",Ee[Ee.PlusSign=4]="PlusSign",Ee[Ee.MinusSign=5]="MinusSign",Ee[Ee.Exponential=6]="Exponential",Ee[Ee.SuperscriptingExponent=7]="SuperscriptingExponent",Ee[Ee.PerMille=8]="PerMille",Ee[Ee.Infinity=9]="Infinity",Ee[Ee.NaN=10]="NaN",Ee[Ee.TimeSeparator=11]="TimeSeparator",Ee[Ee.CurrencyDecimal=12]="CurrencyDecimal",Ee[Ee.CurrencyGroup=13]="CurrencyGroup",Ee))();function $n(H,le){return ri((0,p.cg1)(H)[p.wAp.DateFormat],le)}function Dr(H,le){return ri((0,p.cg1)(H)[p.wAp.TimeFormat],le)}function br(H,le){return ri((0,p.cg1)(H)[p.wAp.DateTimeFormat],le)}function vr(H,le){const V=(0,p.cg1)(H),pe=V[p.wAp.NumberSymbols][le];if(void 0===pe){if(le===Ee.CurrencyDecimal)return V[p.wAp.NumberSymbols][Ee.Decimal];if(le===Ee.CurrencyGroup)return V[p.wAp.NumberSymbols][Ee.Group]}return pe}function Zr(H){if(!H[p.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${H[p.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function ri(H,le){for(let V=le;V>-1;V--)if(void 0!==H[V])return H[V];throw new Error("Locale data API: locale data undefined")}function Qr(H){const[le,V]=H.split(":");return{hours:+le,minutes:+V}}const ce=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ye={},at=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var ct=(()=>((ct=ct||{})[ct.Short=0]="Short",ct[ct.ShortGMT=1]="ShortGMT",ct[ct.Long=2]="Long",ct[ct.Extended=3]="Extended",ct))(),yt=(()=>((yt=yt||{})[yt.FullYear=0]="FullYear",yt[yt.Month=1]="Month",yt[yt.Date=2]="Date",yt[yt.Hours=3]="Hours",yt[yt.Minutes=4]="Minutes",yt[yt.Seconds=5]="Seconds",yt[yt.FractionalSeconds=6]="FractionalSeconds",yt[yt.Day=7]="Day",yt))(),Ot=(()=>((Ot=Ot||{})[Ot.DayPeriods=0]="DayPeriods",Ot[Ot.Days=1]="Days",Ot[Ot.Months=2]="Months",Ot[Ot.Eras=3]="Eras",Ot))();function dn(H,le,V,pe){let Ye=function zn(H){if(or(H))return H;if("number"==typeof H&&!isNaN(H))return new Date(H);if("string"==typeof H){if(H=H.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(H)){const[Ye,Mt=1,Wt=1]=H.split("-").map(Tn=>+Tn);return qt(Ye,Mt-1,Wt)}const V=parseFloat(H);if(!isNaN(H-V))return new Date(V);let pe;if(pe=H.match(ce))return function ir(H){const le=new Date(0);let V=0,pe=0;const Ye=H[8]?le.setUTCFullYear:le.setFullYear,Mt=H[8]?le.setUTCHours:le.setHours;H[9]&&(V=Number(H[9]+H[10]),pe=Number(H[9]+H[11])),Ye.call(le,Number(H[1]),Number(H[2])-1,Number(H[3]));const Wt=Number(H[4]||0)-V,Tn=Number(H[5]||0)-pe,ii=Number(H[6]||0),Fr=Math.floor(1e3*parseFloat("0."+(H[7]||0)));return Mt.call(le,Wt,Tn,ii,Fr),le}(pe)}const le=new Date(H);if(!or(le))throw new Error(`Unable to convert "${H}" into a date`);return le}(H);le=cn(V,le)||le;let Tn,Wt=[];for(;le;){if(Tn=at.exec(le),!Tn){Wt.push(le);break}{Wt=Wt.concat(Tn.slice(1));const Br=Wt.pop();if(!Br)break;le=Br}}let ii=Ye.getTimezoneOffset();pe&&(ii=$e(pe,ii),Ye=function qn(H,le,V){const pe=V?-1:1,Ye=H.getTimezoneOffset();return function zt(H,le){return(H=new Date(H.getTime())).setMinutes(H.getMinutes()+le),H}(H,pe*($e(le,Ye)-Ye))}(Ye,pe,!0));let Fr="";return Wt.forEach(Br=>{const Nr=function lt(H){if(be[H])return be[H];let le;switch(H){case"G":case"GG":case"GGG":le=kn(Ot.Eras,we.Abbreviated);break;case"GGGG":le=kn(Ot.Eras,we.Wide);break;case"GGGGG":le=kn(Ot.Eras,we.Narrow);break;case"y":le=jt(yt.FullYear,1,0,!1,!0);break;case"yy":le=jt(yt.FullYear,2,0,!0,!0);break;case"yyy":le=jt(yt.FullYear,3,0,!1,!0);break;case"yyyy":le=jt(yt.FullYear,4,0,!1,!0);break;case"Y":le=Se(1);break;case"YY":le=Se(2,!0);break;case"YYY":le=Se(3);break;case"YYYY":le=Se(4);break;case"M":case"L":le=jt(yt.Month,1,1);break;case"MM":case"LL":le=jt(yt.Month,2,1);break;case"MMM":le=kn(Ot.Months,we.Abbreviated);break;case"MMMM":le=kn(Ot.Months,we.Wide);break;case"MMMMM":le=kn(Ot.Months,we.Narrow);break;case"LLL":le=kn(Ot.Months,we.Abbreviated,oe.Standalone);break;case"LLLL":le=kn(Ot.Months,we.Wide,oe.Standalone);break;case"LLLLL":le=kn(Ot.Months,we.Narrow,oe.Standalone);break;case"w":le=Pe(1);break;case"ww":le=Pe(2);break;case"W":le=Pe(1,!0);break;case"d":le=jt(yt.Date,1);break;case"dd":le=jt(yt.Date,2);break;case"c":case"cc":le=jt(yt.Day,1);break;case"ccc":le=kn(Ot.Days,we.Abbreviated,oe.Standalone);break;case"cccc":le=kn(Ot.Days,we.Wide,oe.Standalone);break;case"ccccc":le=kn(Ot.Days,we.Narrow,oe.Standalone);break;case"cccccc":le=kn(Ot.Days,we.Short,oe.Standalone);break;case"E":case"EE":case"EEE":le=kn(Ot.Days,we.Abbreviated);break;case"EEEE":le=kn(Ot.Days,we.Wide);break;case"EEEEE":le=kn(Ot.Days,we.Narrow);break;case"EEEEEE":le=kn(Ot.Days,we.Short);break;case"a":case"aa":case"aaa":le=kn(Ot.DayPeriods,we.Abbreviated);break;case"aaaa":le=kn(Ot.DayPeriods,we.Wide);break;case"aaaaa":le=kn(Ot.DayPeriods,we.Narrow);break;case"b":case"bb":case"bbb":le=kn(Ot.DayPeriods,we.Abbreviated,oe.Standalone,!0);break;case"bbbb":le=kn(Ot.DayPeriods,we.Wide,oe.Standalone,!0);break;case"bbbbb":le=kn(Ot.DayPeriods,we.Narrow,oe.Standalone,!0);break;case"B":case"BB":case"BBB":le=kn(Ot.DayPeriods,we.Abbreviated,oe.Format,!0);break;case"BBBB":le=kn(Ot.DayPeriods,we.Wide,oe.Format,!0);break;case"BBBBB":le=kn(Ot.DayPeriods,we.Narrow,oe.Format,!0);break;case"h":le=jt(yt.Hours,1,-12);break;case"hh":le=jt(yt.Hours,2,-12);break;case"H":le=jt(yt.Hours,1);break;case"HH":le=jt(yt.Hours,2);break;case"m":le=jt(yt.Minutes,1);break;case"mm":le=jt(yt.Minutes,2);break;case"s":le=jt(yt.Seconds,1);break;case"ss":le=jt(yt.Seconds,2);break;case"S":le=jt(yt.FractionalSeconds,1);break;case"SS":le=jt(yt.FractionalSeconds,2);break;case"SSS":le=jt(yt.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":le=ht(ct.Short);break;case"ZZZZZ":le=ht(ct.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":le=ht(ct.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":le=ht(ct.Long);break;default:return null}return be[H]=le,le}(Br);Fr+=Nr?Nr(Ye,V,ii):"''"===Br?"'":Br.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),Fr}function qt(H,le,V){const pe=new Date(0);return pe.setFullYear(H,le,V),pe.setHours(0,0,0),pe}function cn(H,le){const V=function Ft(H){return(0,p.cg1)(H)[p.wAp.LocaleId]}(H);if(ye[V]=ye[V]||{},ye[V][le])return ye[V][le];let pe="";switch(le){case"shortDate":pe=$n(H,qe.Short);break;case"mediumDate":pe=$n(H,qe.Medium);break;case"longDate":pe=$n(H,qe.Long);break;case"fullDate":pe=$n(H,qe.Full);break;case"shortTime":pe=Dr(H,qe.Short);break;case"mediumTime":pe=Dr(H,qe.Medium);break;case"longTime":pe=Dr(H,qe.Long);break;case"fullTime":pe=Dr(H,qe.Full);break;case"short":const Ye=cn(H,"shortTime"),Mt=cn(H,"shortDate");pe=Gn(br(H,qe.Short),[Ye,Mt]);break;case"medium":const Wt=cn(H,"mediumTime"),Tn=cn(H,"mediumDate");pe=Gn(br(H,qe.Medium),[Wt,Tn]);break;case"long":const ii=cn(H,"longTime"),Fr=cn(H,"longDate");pe=Gn(br(H,qe.Long),[ii,Fr]);break;case"full":const Br=cn(H,"fullTime"),Nr=cn(H,"fullDate");pe=Gn(br(H,qe.Full),[Br,Nr])}return pe&&(ye[V][le]=pe),pe}function Gn(H,le){return le&&(H=H.replace(/\{([^}]+)}/g,function(V,pe){return null!=le&&pe in le?le[pe]:V})),H}function fn(H,le,V="-",pe,Ye){let Mt="";(H<0||Ye&&H<=0)&&(Ye?H=1-H:(H=-H,Mt=V));let Wt=String(H);for(;Wt.length<le;)Wt="0"+Wt;return pe&&(Wt=Wt.substr(Wt.length-le)),Mt+Wt}function jt(H,le,V=0,pe=!1,Ye=!1){return function(Mt,Wt){let Tn=function Xn(H,le){switch(H){case yt.FullYear:return le.getFullYear();case yt.Month:return le.getMonth();case yt.Date:return le.getDate();case yt.Hours:return le.getHours();case yt.Minutes:return le.getMinutes();case yt.Seconds:return le.getSeconds();case yt.FractionalSeconds:return le.getMilliseconds();case yt.Day:return le.getDay();default:throw new Error(`Unknown DateType value "${H}".`)}}(H,Mt);if((V>0||Tn>-V)&&(Tn+=V),H===yt.Hours)0===Tn&&-12===V&&(Tn=12);else if(H===yt.FractionalSeconds)return function Hn(H,le){return fn(H,3).substr(0,le)}(Tn,le);const ii=vr(Wt,Ee.MinusSign);return fn(Tn,le,ii,pe,Ye)}}function kn(H,le,V=oe.Format,pe=!1){return function(Ye,Mt){return function Bt(H,le,V,pe,Ye,Mt){switch(V){case Ot.Months:return function Et(H,le,V){const pe=(0,p.cg1)(H),Mt=ri([pe[p.wAp.MonthsFormat],pe[p.wAp.MonthsStandalone]],le);return ri(Mt,V)}(le,Ye,pe)[H.getMonth()];case Ot.Days:return function Rt(H,le,V){const pe=(0,p.cg1)(H),Mt=ri([pe[p.wAp.DaysFormat],pe[p.wAp.DaysStandalone]],le);return ri(Mt,V)}(le,Ye,pe)[H.getDay()];case Ot.DayPeriods:const Wt=H.getHours(),Tn=H.getMinutes();if(Mt){const Fr=function Bi(H){const le=(0,p.cg1)(H);return Zr(le),(le[p.wAp.ExtraData][2]||[]).map(pe=>"string"==typeof pe?Qr(pe):[Qr(pe[0]),Qr(pe[1])])}(le),Br=function Bn(H,le,V){const pe=(0,p.cg1)(H);Zr(pe);const Mt=ri([pe[p.wAp.ExtraData][0],pe[p.wAp.ExtraData][1]],le)||[];return ri(Mt,V)||[]}(le,Ye,pe),Nr=Fr.findIndex(Pi=>{if(Array.isArray(Pi)){const[oi,si]=Pi,ko=Wt>=oi.hours&&Tn>=oi.minutes,Vo=Wt<si.hours||Wt===si.hours&&Tn<si.minutes;if(oi.hours<si.hours){if(ko&&Vo)return!0}else if(ko||Vo)return!0}else if(Pi.hours===Wt&&Pi.minutes===Tn)return!0;return!1});if(-1!==Nr)return Br[Nr]}return function Sn(H,le,V){const pe=(0,p.cg1)(H),Mt=ri([pe[p.wAp.DayPeriodsFormat],pe[p.wAp.DayPeriodsStandalone]],le);return ri(Mt,V)}(le,Ye,pe)[Wt<12?0:1];case Ot.Eras:return function Ht(H,le){return ri((0,p.cg1)(H)[p.wAp.Eras],le)}(le,pe)[H.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${V}`)}}(Ye,Mt,H,le,V,pe)}}function ht(H){return function(le,V,pe){const Ye=-1*pe,Mt=vr(V,Ee.MinusSign),Wt=Ye>0?Math.floor(Ye/60):Math.ceil(Ye/60);switch(H){case ct.Short:return(Ye>=0?"+":"")+fn(Wt,2,Mt)+fn(Math.abs(Ye%60),2,Mt);case ct.ShortGMT:return"GMT"+(Ye>=0?"+":"")+fn(Wt,1,Mt);case ct.Long:return"GMT"+(Ye>=0?"+":"")+fn(Wt,2,Mt)+":"+fn(Math.abs(Ye%60),2,Mt);case ct.Extended:return 0===pe?"Z":(Ye>=0?"+":"")+fn(Wt,2,Mt)+":"+fn(Math.abs(Ye%60),2,Mt);default:throw new Error(`Unknown zone width "${H}"`)}}}function jn(H){return qt(H.getFullYear(),H.getMonth(),H.getDate()+(4-H.getDay()))}function Pe(H,le=!1){return function(V,pe){let Ye;if(le){const Mt=new Date(V.getFullYear(),V.getMonth(),1).getDay()-1,Wt=V.getDate();Ye=1+Math.floor((Wt+Mt)/7)}else{const Mt=jn(V),Wt=function Zn(H){const le=qt(H,0,1).getDay();return qt(H,0,1+(le<=4?4:11)-le)}(Mt.getFullYear()),Tn=Mt.getTime()-Wt.getTime();Ye=1+Math.round(Tn/6048e5)}return fn(Ye,H,vr(pe,Ee.MinusSign))}}function Se(H,le=!1){return function(V,pe){return fn(jn(V).getFullYear(),H,vr(pe,Ee.MinusSign),le)}}const be={};function $e(H,le){H=H.replace(/:/g,"");const V=Date.parse("Jan 01, 1970 00:00:00 "+H)/6e4;return isNaN(V)?le:V}function or(H){return H instanceof Date&&!isNaN(H.valueOf())}const sr=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function tr(H){const le=parseInt(H);if(isNaN(le))throw new Error("Invalid integer literal when parsing "+H);return le}function Qn(H,le,V){return(0,p.dwT)(H,le,V)}function Lr(H,le){le=encodeURIComponent(le);for(const V of H.split(";")){const pe=V.indexOf("="),[Ye,Mt]=-1==pe?[V,""]:[V.slice(0,pe),V.slice(pe+1)];if(Ye.trim()===le)return decodeURIComponent(Mt)}return null}let Di=(()=>{class H{constructor(V,pe,Ye,Mt){this._iterableDiffers=V,this._keyValueDiffers=pe,this._ngEl=Ye,this._renderer=Mt,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(V){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof V?V.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(V){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof V?V.split(/\s+/):V,this._rawClass&&((0,p.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const V=this._iterableDiffer.diff(this._rawClass);V&&this._applyIterableChanges(V)}else if(this._keyValueDiffer){const V=this._keyValueDiffer.diff(this._rawClass);V&&this._applyKeyValueChanges(V)}}_applyKeyValueChanges(V){V.forEachAddedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),V.forEachChangedItem(pe=>this._toggleClass(pe.key,pe.currentValue)),V.forEachRemovedItem(pe=>{pe.previousValue&&this._toggleClass(pe.key,!1)})}_applyIterableChanges(V){V.forEachAddedItem(pe=>{if("string"!=typeof pe.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,p.AaK)(pe.item)}`);this._toggleClass(pe.item,!0)}),V.forEachRemovedItem(pe=>this._toggleClass(pe.item,!1))}_applyClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(pe=>this._toggleClass(pe,!0)):Object.keys(V).forEach(pe=>this._toggleClass(pe,!!V[pe])))}_removeClasses(V){V&&(Array.isArray(V)||V instanceof Set?V.forEach(pe=>this._toggleClass(pe,!1)):Object.keys(V).forEach(pe=>this._toggleClass(pe,!1)))}_toggleClass(V,pe){(V=V.trim())&&V.split(/\s+/g).forEach(Ye=>{pe?this._renderer.addClass(this._ngEl.nativeElement,Ye):this._renderer.removeClass(this._ngEl.nativeElement,Ye)})}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.ZZ4),p.Y36(p.aQg),p.Y36(p.SBq),p.Y36(p.Qsj))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),H})();class Wi{constructor(le,V,pe,Ye){this.$implicit=le,this.ngForOf=V,this.index=pe,this.count=Ye}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Wr=(()=>{class H{constructor(V,pe,Ye){this._viewContainer=V,this._template=pe,this._differs=Ye,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(V){this._ngForOf=V,this._ngForOfDirty=!0}set ngForTrackBy(V){this._trackByFn=V}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(V){V&&(this._template=V)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const V=this._ngForOf;!this._differ&&V&&(this._differ=this._differs.find(V).create(this.ngForTrackBy))}if(this._differ){const V=this._differ.diff(this._ngForOf);V&&this._applyChanges(V)}}_applyChanges(V){const pe=this._viewContainer;V.forEachOperation((Ye,Mt,Wt)=>{if(null==Ye.previousIndex)pe.createEmbeddedView(this._template,new Wi(Ye.item,this._ngForOf,-1,-1),null===Wt?void 0:Wt);else if(null==Wt)pe.remove(null===Mt?void 0:Mt);else if(null!==Mt){const Tn=pe.get(Mt);pe.move(Tn,Wt),$i(Tn,Ye)}});for(let Ye=0,Mt=pe.length;Ye<Mt;Ye++){const Tn=pe.get(Ye).context;Tn.index=Ye,Tn.count=Mt,Tn.ngForOf=this._ngForOf}V.forEachIdentityChange(Ye=>{$i(pe.get(Ye.currentIndex),Ye)})}static ngTemplateContextGuard(V,pe){return!0}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b),p.Y36(p.Rgc),p.Y36(p.ZZ4))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),H})();function $i(H,le){H.context.$implicit=le.item}let st=(()=>{class H{constructor(V,pe){this._viewContainer=V,this._context=new We,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=pe}set ngIf(V){this._context.$implicit=this._context.ngIf=V,this._updateView()}set ngIfThen(V){bt("ngIfThen",V),this._thenTemplateRef=V,this._thenViewRef=null,this._updateView()}set ngIfElse(V){bt("ngIfElse",V),this._elseTemplateRef=V,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(V,pe){return!0}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b),p.Y36(p.Rgc))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),H})();class We{constructor(){this.$implicit=null,this.ngIf=null}}function bt(H,le){if(le&&!le.createEmbeddedView)throw new Error(`${H} must be a TemplateRef, but received '${(0,p.AaK)(le)}'.`)}let Hi=(()=>{class H{constructor(V){this._viewContainerRef=V,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}ngOnChanges(V){if(V.ngTemplateOutlet){const pe=this._viewContainerRef;this._viewRef&&pe.remove(pe.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?pe.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&V.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.s_b))},H.\u0275dir=p.lG2({type:H,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[p.TTD]}),H})();function Ui(H,le){return new p.vHH(2100,"")}const Is=new p.OlP("DATE_PIPE_DEFAULT_TIMEZONE");let Jo=(()=>{class H{constructor(V,pe){this.locale=V,this.defaultTimezone=pe}transform(V,pe="mediumDate",Ye,Mt){var Wt;if(null==V||""===V||V!=V)return null;try{return dn(V,pe,Mt||this.locale,null!==(Wt=null!=Ye?Ye:this.defaultTimezone)&&void 0!==Wt?Wt:void 0)}catch(Tn){throw Ui()}}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.soG,16),p.Y36(Is,24))},H.\u0275pipe=p.Yjl({name:"date",type:H,pure:!0}),H})(),po=(()=>{class H{transform(V){return JSON.stringify(V,null,2)}}return H.\u0275fac=function(V){return new(V||H)},H.\u0275pipe=p.Yjl({name:"json",type:H,pure:!1}),H})(),R=(()=>{class H{constructor(V){this._locale=V}transform(V,pe,Ye){if(!function ne(H){return!(null==H||""===H||H!=H)}(V))return null;Ye=Ye||this._locale;try{return function Lt(H,le,V){return function Yt(H,le,V,pe,Ye,Mt,Wt=!1){let Tn="",ii=!1;if(isFinite(H)){let Fr=function mn(H){let pe,Ye,Mt,Wt,Tn,le=Math.abs(H)+"",V=0;for((Ye=le.indexOf("."))>-1&&(le=le.replace(".","")),(Mt=le.search(/e/i))>0?(Ye<0&&(Ye=Mt),Ye+=+le.slice(Mt+1),le=le.substring(0,Mt)):Ye<0&&(Ye=le.length),Mt=0;"0"===le.charAt(Mt);Mt++);if(Mt===(Tn=le.length))pe=[0],Ye=1;else{for(Tn--;"0"===le.charAt(Tn);)Tn--;for(Ye-=Mt,pe=[],Wt=0;Mt<=Tn;Mt++,Wt++)pe[Wt]=Number(le.charAt(Mt))}return Ye>22&&(pe=pe.splice(0,21),V=Ye-1,Ye=1),{digits:pe,exponent:V,integerLen:Ye}}(H);Wt&&(Fr=function xn(H){if(0===H.digits[0])return H;const le=H.digits.length-H.integerLen;return H.exponent?H.exponent+=2:(0===le?H.digits.push(0,0):1===le&&H.digits.push(0),H.integerLen+=2),H}(Fr));let Br=le.minInt,Nr=le.minFrac,Pi=le.maxFrac;if(Mt){const Ps=Mt.match(sr);if(null===Ps)throw new Error(`${Mt} is not a valid digit info`);const Go=Ps[1],as=Ps[3],Cs=Ps[5];null!=Go&&(Br=tr(Go)),null!=as&&(Nr=tr(as)),null!=Cs?Pi=tr(Cs):null!=as&&Nr>Pi&&(Pi=Nr)}!function Mn(H,le,V){if(le>V)throw new Error(`The minimum number of digits after fraction (${le}) is higher than the maximum (${V}).`);let pe=H.digits,Ye=pe.length-H.integerLen;const Mt=Math.min(Math.max(le,Ye),V);let Wt=Mt+H.integerLen,Tn=pe[Wt];if(Wt>0){pe.splice(Math.max(H.integerLen,Wt));for(let Nr=Wt;Nr<pe.length;Nr++)pe[Nr]=0}else{Ye=Math.max(0,Ye),H.integerLen=1,pe.length=Math.max(1,Wt=Mt+1),pe[0]=0;for(let Nr=1;Nr<Wt;Nr++)pe[Nr]=0}if(Tn>=5)if(Wt-1<0){for(let Nr=0;Nr>Wt;Nr--)pe.unshift(0),H.integerLen++;pe.unshift(1),H.integerLen++}else pe[Wt-1]++;for(;Ye<Math.max(0,Mt);Ye++)pe.push(0);let ii=0!==Mt;const Fr=le+H.integerLen,Br=pe.reduceRight(function(Nr,Pi,oi,si){return si[oi]=(Pi+=Nr)<10?Pi:Pi-10,ii&&(0===si[oi]&&oi>=Fr?si.pop():ii=!1),Pi>=10?1:0},0);Br&&(pe.unshift(Br),H.integerLen++)}(Fr,Nr,Pi);let oi=Fr.digits,si=Fr.integerLen;const ko=Fr.exponent;let Vo=[];for(ii=oi.every(Ps=>!Ps);si<Br;si++)oi.unshift(0);for(;si<0;si++)oi.unshift(0);si>0?Vo=oi.splice(si,oi.length):(Vo=oi,oi=[0]);const hr=[];for(oi.length>=le.lgSize&&hr.unshift(oi.splice(-le.lgSize,oi.length).join(""));oi.length>le.gSize;)hr.unshift(oi.splice(-le.gSize,oi.length).join(""));oi.length&&hr.unshift(oi.join("")),Tn=hr.join(vr(V,pe)),Vo.length&&(Tn+=vr(V,Ye)+Vo.join("")),ko&&(Tn+=vr(V,Ee.Exponential)+"+"+ko)}else Tn=vr(V,Ee.Infinity);return Tn=H<0&&!ii?le.negPre+Tn+le.negSuf:le.posPre+Tn+le.posSuf,Tn}(H,function gn(H,le="-"){const V={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},pe=H.split(";"),Ye=pe[0],Mt=pe[1],Wt=-1!==Ye.indexOf(".")?Ye.split("."):[Ye.substring(0,Ye.lastIndexOf("0")+1),Ye.substring(Ye.lastIndexOf("0")+1)],Tn=Wt[0],ii=Wt[1]||"";V.posPre=Tn.substr(0,Tn.indexOf("#"));for(let Br=0;Br<ii.length;Br++){const Nr=ii.charAt(Br);"0"===Nr?V.minFrac=V.maxFrac=Br+1:"#"===Nr?V.maxFrac=Br+1:V.posSuf+=Nr}const Fr=Tn.split(",");if(V.gSize=Fr[1]?Fr[1].length:0,V.lgSize=Fr[2]||Fr[1]?(Fr[2]||Fr[1]).length:0,Mt){const Br=Ye.length-V.posPre.length-V.posSuf.length,Nr=Mt.indexOf("#");V.negPre=Mt.substr(0,Nr).replace(/'/g,""),V.negSuf=Mt.substr(Nr+Br).replace(/'/g,"")}else V.negPre=le+V.posPre,V.negSuf=V.posSuf;return V}(function ni(H,le){return(0,p.cg1)(H)[p.wAp.NumberFormats][le]}(le,ve.Decimal),vr(le,Ee.MinusSign)),le,Ee.Group,Ee.Decimal,V)}(function Te(H){if("string"==typeof H&&!isNaN(Number(H)-parseFloat(H)))return Number(H);if("number"!=typeof H)throw new Error(`${H} is not a number`);return H}(V),Ye,pe)}catch(Mt){throw Ui()}}}return H.\u0275fac=function(V){return new(V||H)(p.Y36(p.soG,16))},H.\u0275pipe=p.Yjl({name:"number",type:H,pure:!0}),H})();let Le=(()=>{class H{}return H.\u0275fac=function(V){return new(V||H)},H.\u0275mod=p.oAB({type:H}),H.\u0275inj=p.cJS({}),H})();const ut="browser";function Tt(H){return H===ut}function hn(H){return"server"===H}let dr=(()=>{class H{}return H.\u0275prov=(0,p.Yz7)({token:H,providedIn:"root",factory:()=>new Mr((0,p.LFG)(ee),window)}),H})();class Mr{constructor(le,V){this.document=le,this.window=V,this.offset=()=>[0,0]}setOffset(le){this.offset=Array.isArray(le)?()=>le:le}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(le){this.supportsScrolling()&&this.window.scrollTo(le[0],le[1])}scrollToAnchor(le){if(!this.supportsScrolling())return;const V=function Ki(H,le){const V=H.getElementById(le)||H.getElementsByName(le)[0];if(V)return V;if("function"==typeof H.createTreeWalker&&H.body&&(H.body.createShadowRoot||H.body.attachShadow)){const pe=H.createTreeWalker(H.body,NodeFilter.SHOW_ELEMENT);let Ye=pe.currentNode;for(;Ye;){const Mt=Ye.shadowRoot;if(Mt){const Wt=Mt.getElementById(le)||Mt.querySelector(`[name="${le}"]`);if(Wt)return Wt}Ye=pe.nextNode()}}return null}(this.document,le);V&&(this.scrollToElement(V),V.focus())}setHistoryScrollRestoration(le){if(this.supportScrollRestoration()){const V=this.window.history;V&&V.scrollRestoration&&(V.scrollRestoration=le)}}scrollToElement(le){const V=le.getBoundingClientRect(),pe=V.left+this.window.pageXOffset,Ye=V.top+this.window.pageYOffset,Mt=this.offset();this.window.scrollTo(pe-Mt[0],Ye-Mt[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const le=Xr(this.window.history)||Xr(Object.getPrototypeOf(this.window.history));return!(!le||!le.writable&&!le.set)}catch(le){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(le){return!1}}}function Xr(H){return Object.getOwnPropertyDescriptor(H,"scrollRestoration")}class Gr{}},520:(pt,D,A)=>{"use strict";A.d(D,{JF:()=>Qr,TP:()=>Ft,eN:()=>Ee});var p=A(9808),e=A(5e3),w=A(9646),N=A(8306),M=A(4351),G=A(9300),ee=A(4004);class Y{}class Q{}class K{constructor(ce){this.normalizedNames=new Map,this.lazyUpdate=null,ce?this.lazyInit="string"==typeof ce?()=>{this.headers=new Map,ce.split("\n").forEach(ye=>{const at=ye.indexOf(":");if(at>0){const ct=ye.slice(0,at),yt=ct.toLowerCase(),Ot=ye.slice(at+1).trim();this.maybeSetNormalizedName(ct,yt),this.headers.has(yt)?this.headers.get(yt).push(Ot):this.headers.set(yt,[Ot])}})}:()=>{this.headers=new Map,Object.keys(ce).forEach(ye=>{let at=ce[ye];const ct=ye.toLowerCase();"string"==typeof at&&(at=[at]),at.length>0&&(this.headers.set(ct,at),this.maybeSetNormalizedName(ye,ct))})}:this.headers=new Map}has(ce){return this.init(),this.headers.has(ce.toLowerCase())}get(ce){this.init();const ye=this.headers.get(ce.toLowerCase());return ye&&ye.length>0?ye[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(ce){return this.init(),this.headers.get(ce.toLowerCase())||null}append(ce,ye){return this.clone({name:ce,value:ye,op:"a"})}set(ce,ye){return this.clone({name:ce,value:ye,op:"s"})}delete(ce,ye){return this.clone({name:ce,value:ye,op:"d"})}maybeSetNormalizedName(ce,ye){this.normalizedNames.has(ye)||this.normalizedNames.set(ye,ce)}init(){this.lazyInit&&(this.lazyInit instanceof K?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(ce=>this.applyUpdate(ce)),this.lazyUpdate=null))}copyFrom(ce){ce.init(),Array.from(ce.headers.keys()).forEach(ye=>{this.headers.set(ye,ce.headers.get(ye)),this.normalizedNames.set(ye,ce.normalizedNames.get(ye))})}clone(ce){const ye=new K;return ye.lazyInit=this.lazyInit&&this.lazyInit instanceof K?this.lazyInit:this,ye.lazyUpdate=(this.lazyUpdate||[]).concat([ce]),ye}applyUpdate(ce){const ye=ce.name.toLowerCase();switch(ce.op){case"a":case"s":let at=ce.value;if("string"==typeof at&&(at=[at]),0===at.length)return;this.maybeSetNormalizedName(ce.name,ye);const ct=("a"===ce.op?this.headers.get(ye):void 0)||[];ct.push(...at),this.headers.set(ye,ct);break;case"d":const yt=ce.value;if(yt){let Ot=this.headers.get(ye);if(!Ot)return;Ot=Ot.filter(dn=>-1===yt.indexOf(dn)),0===Ot.length?(this.headers.delete(ye),this.normalizedNames.delete(ye)):this.headers.set(ye,Ot)}else this.headers.delete(ye),this.normalizedNames.delete(ye)}}forEach(ce){this.init(),Array.from(this.normalizedNames.keys()).forEach(ye=>ce(this.normalizedNames.get(ye),this.headers.get(ye)))}}class ie{encodeKey(ce){return Je(ce)}encodeValue(ce){return Je(ce)}decodeKey(ce){return decodeURIComponent(ce)}decodeValue(ce){return decodeURIComponent(ce)}}const dt=/%(\d[a-f0-9])/gi,Xe={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function Je(Be){return encodeURIComponent(Be).replace(dt,(ce,ye)=>{var at;return null!==(at=Xe[ye])&&void 0!==at?at:ce})}function vt(Be){return`${Be}`}class _e{constructor(ce={}){if(this.updates=null,this.cloneFrom=null,this.encoder=ce.encoder||new ie,ce.fromString){if(ce.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function ge(Be,ce){const ye=new Map;return Be.length>0&&Be.replace(/^\?/,"").split("&").forEach(ct=>{const yt=ct.indexOf("="),[Ot,dn]=-1==yt?[ce.decodeKey(ct),""]:[ce.decodeKey(ct.slice(0,yt)),ce.decodeValue(ct.slice(yt+1))],qt=ye.get(Ot)||[];qt.push(dn),ye.set(Ot,qt)}),ye}(ce.fromString,this.encoder)}else ce.fromObject?(this.map=new Map,Object.keys(ce.fromObject).forEach(ye=>{const at=ce.fromObject[ye];this.map.set(ye,Array.isArray(at)?at:[at])})):this.map=null}has(ce){return this.init(),this.map.has(ce)}get(ce){this.init();const ye=this.map.get(ce);return ye?ye[0]:null}getAll(ce){return this.init(),this.map.get(ce)||null}keys(){return this.init(),Array.from(this.map.keys())}append(ce,ye){return this.clone({param:ce,value:ye,op:"a"})}appendAll(ce){const ye=[];return Object.keys(ce).forEach(at=>{const ct=ce[at];Array.isArray(ct)?ct.forEach(yt=>{ye.push({param:at,value:yt,op:"a"})}):ye.push({param:at,value:ct,op:"a"})}),this.clone(ye)}set(ce,ye){return this.clone({param:ce,value:ye,op:"s"})}delete(ce,ye){return this.clone({param:ce,value:ye,op:"d"})}toString(){return this.init(),this.keys().map(ce=>{const ye=this.encoder.encodeKey(ce);return this.map.get(ce).map(at=>ye+"="+this.encoder.encodeValue(at)).join("&")}).filter(ce=>""!==ce).join("&")}clone(ce){const ye=new _e({encoder:this.encoder});return ye.cloneFrom=this.cloneFrom||this,ye.updates=(this.updates||[]).concat(ce),ye}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(ce=>this.map.set(ce,this.cloneFrom.map.get(ce))),this.updates.forEach(ce=>{switch(ce.op){case"a":case"s":const ye=("a"===ce.op?this.map.get(ce.param):void 0)||[];ye.push(vt(ce.value)),this.map.set(ce.param,ye);break;case"d":if(void 0===ce.value){this.map.delete(ce.param);break}{let at=this.map.get(ce.param)||[];const ct=at.indexOf(vt(ce.value));-1!==ct&&at.splice(ct,1),at.length>0?this.map.set(ce.param,at):this.map.delete(ce.param)}}}),this.cloneFrom=this.updates=null)}}class ke{constructor(){this.map=new Map}set(ce,ye){return this.map.set(ce,ye),this}get(ce){return this.map.has(ce)||this.map.set(ce,ce.defaultValue()),this.map.get(ce)}delete(ce){return this.map.delete(ce),this}has(ce){return this.map.has(ce)}keys(){return this.map.keys()}}function Ke(Be){return"undefined"!=typeof ArrayBuffer&&Be instanceof ArrayBuffer}function rt(Be){return"undefined"!=typeof Blob&&Be instanceof Blob}function Ae(Be){return"undefined"!=typeof FormData&&Be instanceof FormData}class Ze{constructor(ce,ye,at,ct){let yt;if(this.url=ye,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=ce.toUpperCase(),function _t(Be){switch(Be){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||ct?(this.body=void 0!==at?at:null,yt=ct):yt=at,yt&&(this.reportProgress=!!yt.reportProgress,this.withCredentials=!!yt.withCredentials,yt.responseType&&(this.responseType=yt.responseType),yt.headers&&(this.headers=yt.headers),yt.context&&(this.context=yt.context),yt.params&&(this.params=yt.params)),this.headers||(this.headers=new K),this.context||(this.context=new ke),this.params){const Ot=this.params.toString();if(0===Ot.length)this.urlWithParams=ye;else{const dn=ye.indexOf("?");this.urlWithParams=ye+(-1===dn?"?":dn<ye.length-1?"&":"")+Ot}}else this.params=new _e,this.urlWithParams=ye}serializeBody(){return null===this.body?null:Ke(this.body)||rt(this.body)||Ae(this.body)||function it(Be){return"undefined"!=typeof URLSearchParams&&Be instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof _e?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ae(this.body)?null:rt(this.body)?this.body.type||null:Ke(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof _e?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(ce={}){var ye;const at=ce.method||this.method,ct=ce.url||this.url,yt=ce.responseType||this.responseType,Ot=void 0!==ce.body?ce.body:this.body,dn=void 0!==ce.withCredentials?ce.withCredentials:this.withCredentials,qt=void 0!==ce.reportProgress?ce.reportProgress:this.reportProgress;let cn=ce.headers||this.headers,Gn=ce.params||this.params;const fn=null!==(ye=ce.context)&&void 0!==ye?ye:this.context;return void 0!==ce.setHeaders&&(cn=Object.keys(ce.setHeaders).reduce((Hn,jt)=>Hn.set(jt,ce.setHeaders[jt]),cn)),ce.setParams&&(Gn=Object.keys(ce.setParams).reduce((Hn,jt)=>Hn.set(jt,ce.setParams[jt]),Gn)),new Ze(at,ct,Ot,{params:Gn,headers:cn,context:fn,reportProgress:qt,responseType:yt,withCredentials:dn})}}var ft=(()=>((ft=ft||{})[ft.Sent=0]="Sent",ft[ft.UploadProgress=1]="UploadProgress",ft[ft.ResponseHeader=2]="ResponseHeader",ft[ft.DownloadProgress=3]="DownloadProgress",ft[ft.Response=4]="Response",ft[ft.User=5]="User",ft))();class ve{constructor(ce,ye=200,at="OK"){this.headers=ce.headers||new K,this.status=void 0!==ce.status?ce.status:ye,this.statusText=ce.statusText||at,this.url=ce.url||null,this.ok=this.status>=200&&this.status<300}}class me extends ve{constructor(ce={}){super(ce),this.type=ft.ResponseHeader}clone(ce={}){return new me({headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class oe extends ve{constructor(ce={}){super(ce),this.type=ft.Response,this.body=void 0!==ce.body?ce.body:null}clone(ce={}){return new oe({body:void 0!==ce.body?ce.body:this.body,headers:ce.headers||this.headers,status:void 0!==ce.status?ce.status:this.status,statusText:ce.statusText||this.statusText,url:ce.url||this.url||void 0})}}class we extends ve{constructor(ce){super(ce,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${ce.url||"(unknown url)"}`:`Http failure response for ${ce.url||"(unknown url)"}: ${ce.status} ${ce.statusText}`,this.error=ce.error||null}}function qe(Be,ce){return{body:ce,headers:Be.headers,context:Be.context,observe:Be.observe,params:Be.params,reportProgress:Be.reportProgress,responseType:Be.responseType,withCredentials:Be.withCredentials}}let Ee=(()=>{class Be{constructor(ye){this.handler=ye}request(ye,at,ct={}){let yt;if(ye instanceof Ze)yt=ye;else{let qt,cn;qt=ct.headers instanceof K?ct.headers:new K(ct.headers),ct.params&&(cn=ct.params instanceof _e?ct.params:new _e({fromObject:ct.params})),yt=new Ze(ye,at,void 0!==ct.body?ct.body:null,{headers:qt,context:ct.context,params:cn,reportProgress:ct.reportProgress,responseType:ct.responseType||"json",withCredentials:ct.withCredentials})}const Ot=(0,w.of)(yt).pipe((0,M.b)(qt=>this.handler.handle(qt)));if(ye instanceof Ze||"events"===ct.observe)return Ot;const dn=Ot.pipe((0,G.h)(qt=>qt instanceof oe));switch(ct.observe||"body"){case"body":switch(yt.responseType){case"arraybuffer":return dn.pipe((0,ee.U)(qt=>{if(null!==qt.body&&!(qt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return qt.body}));case"blob":return dn.pipe((0,ee.U)(qt=>{if(null!==qt.body&&!(qt.body instanceof Blob))throw new Error("Response is not a Blob.");return qt.body}));case"text":return dn.pipe((0,ee.U)(qt=>{if(null!==qt.body&&"string"!=typeof qt.body)throw new Error("Response is not a string.");return qt.body}));default:return dn.pipe((0,ee.U)(qt=>qt.body))}case"response":return dn;default:throw new Error(`Unreachable: unhandled observe type ${ct.observe}}`)}}delete(ye,at={}){return this.request("DELETE",ye,at)}get(ye,at={}){return this.request("GET",ye,at)}head(ye,at={}){return this.request("HEAD",ye,at)}jsonp(ye,at){return this.request("JSONP",ye,{params:(new _e).append(at,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(ye,at={}){return this.request("OPTIONS",ye,at)}patch(ye,at,ct={}){return this.request("PATCH",ye,qe(ct,at))}post(ye,at,ct={}){return this.request("POST",ye,qe(ct,at))}put(ye,at,ct={}){return this.request("PUT",ye,qe(ct,at))}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(Y))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();class It{constructor(ce,ye){this.next=ce,this.interceptor=ye}handle(ce){return this.interceptor.intercept(ce,this.next)}}const Ft=new e.OlP("HTTP_INTERCEPTORS");let Sn=(()=>{class Be{intercept(ye,at){return at.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const vr=/^\)\]\}',?\n/;let xr=(()=>{class Be{constructor(ye){this.xhrFactory=ye}handle(ye){if("JSONP"===ye.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N.y(at=>{const ct=this.xhrFactory.build();if(ct.open(ye.method,ye.urlWithParams),ye.withCredentials&&(ct.withCredentials=!0),ye.headers.forEach((jt,Xn)=>ct.setRequestHeader(jt,Xn.join(","))),ye.headers.has("Accept")||ct.setRequestHeader("Accept","application/json, text/plain, */*"),!ye.headers.has("Content-Type")){const jt=ye.detectContentTypeHeader();null!==jt&&ct.setRequestHeader("Content-Type",jt)}if(ye.responseType){const jt=ye.responseType.toLowerCase();ct.responseType="json"!==jt?jt:"text"}const yt=ye.serializeBody();let Ot=null;const dn=()=>{if(null!==Ot)return Ot;const jt=ct.statusText||"OK",Xn=new K(ct.getAllResponseHeaders()),kn=function ni(Be){return"responseURL"in Be&&Be.responseURL?Be.responseURL:/^X-Request-URL:/m.test(Be.getAllResponseHeaders())?Be.getResponseHeader("X-Request-URL"):null}(ct)||ye.url;return Ot=new me({headers:Xn,status:ct.status,statusText:jt,url:kn}),Ot},qt=()=>{let{headers:jt,status:Xn,statusText:kn,url:Bt}=dn(),ht=null;204!==Xn&&(ht=void 0===ct.response?ct.responseText:ct.response),0===Xn&&(Xn=ht?200:0);let tn=Xn>=200&&Xn<300;if("json"===ye.responseType&&"string"==typeof ht){const vn=ht;ht=ht.replace(vr,"");try{ht=""!==ht?JSON.parse(ht):null}catch(Zn){ht=vn,tn&&(tn=!1,ht={error:Zn,text:ht})}}tn?(at.next(new oe({body:ht,headers:jt,status:Xn,statusText:kn,url:Bt||void 0})),at.complete()):at.error(new we({error:ht,headers:jt,status:Xn,statusText:kn,url:Bt||void 0}))},cn=jt=>{const{url:Xn}=dn(),kn=new we({error:jt,status:ct.status||0,statusText:ct.statusText||"Unknown Error",url:Xn||void 0});at.error(kn)};let Gn=!1;const fn=jt=>{Gn||(at.next(dn()),Gn=!0);let Xn={type:ft.DownloadProgress,loaded:jt.loaded};jt.lengthComputable&&(Xn.total=jt.total),"text"===ye.responseType&&!!ct.responseText&&(Xn.partialText=ct.responseText),at.next(Xn)},Hn=jt=>{let Xn={type:ft.UploadProgress,loaded:jt.loaded};jt.lengthComputable&&(Xn.total=jt.total),at.next(Xn)};return ct.addEventListener("load",qt),ct.addEventListener("error",cn),ct.addEventListener("timeout",cn),ct.addEventListener("abort",cn),ye.reportProgress&&(ct.addEventListener("progress",fn),null!==yt&&ct.upload&&ct.upload.addEventListener("progress",Hn)),ct.send(yt),at.next({type:ft.Sent}),()=>{ct.removeEventListener("error",cn),ct.removeEventListener("abort",cn),ct.removeEventListener("load",qt),ct.removeEventListener("timeout",cn),ye.reportProgress&&(ct.removeEventListener("progress",fn),null!==yt&&ct.upload&&ct.upload.removeEventListener("progress",Hn)),ct.readyState!==ct.DONE&&ct.abort()}})}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(p.JF))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})();const jr=new e.OlP("XSRF_COOKIE_NAME"),Ni=new e.OlP("XSRF_HEADER_NAME");class Ei{}let Kr=(()=>{class Be{constructor(ye,at,ct){this.doc=ye,this.platform=at,this.cookieName=ct,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const ye=this.doc.cookie||"";return ye!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,p.Mx)(ye,this.cookieName),this.lastCookieString=ye),this.lastToken}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(p.K0),e.LFG(e.Lbi),e.LFG(jr))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),Zr=(()=>{class Be{constructor(ye,at){this.tokenService=ye,this.headerName=at}intercept(ye,at){const ct=ye.url.toLowerCase();if("GET"===ye.method||"HEAD"===ye.method||ct.startsWith("http://")||ct.startsWith("https://"))return at.handle(ye);const yt=this.tokenService.getToken();return null!==yt&&!ye.headers.has(this.headerName)&&(ye=ye.clone({headers:ye.headers.set(this.headerName,yt)})),at.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(Ei),e.LFG(Ni))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),Bi=(()=>{class Be{constructor(ye,at){this.backend=ye,this.injector=at,this.chain=null}handle(ye){if(null===this.chain){const at=this.injector.get(Ft,[]);this.chain=at.reduceRight((ct,yt)=>new It(ct,yt),this.backend)}return this.chain.handle(ye)}}return Be.\u0275fac=function(ye){return new(ye||Be)(e.LFG(Q),e.LFG(e.zs3))},Be.\u0275prov=e.Yz7({token:Be,factory:Be.\u0275fac}),Be})(),ri=(()=>{class Be{static disable(){return{ngModule:Be,providers:[{provide:Zr,useClass:Sn}]}}static withOptions(ye={}){return{ngModule:Be,providers:[ye.cookieName?{provide:jr,useValue:ye.cookieName}:[],ye.headerName?{provide:Ni,useValue:ye.headerName}:[]]}}}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({providers:[Zr,{provide:Ft,useExisting:Zr,multi:!0},{provide:Ei,useClass:Kr},{provide:jr,useValue:"XSRF-TOKEN"},{provide:Ni,useValue:"X-XSRF-TOKEN"}]}),Be})(),Qr=(()=>{class Be{}return Be.\u0275fac=function(ye){return new(ye||Be)},Be.\u0275mod=e.oAB({type:Be}),Be.\u0275inj=e.cJS({providers:[Ee,{provide:Y,useClass:Bi},xr,{provide:Q,useExisting:xr}],imports:[[ri.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Be})()},5e3:(pt,D,A)=>{"use strict";A.d(D,{$8M:()=>cl,$Z:()=>qg,AFp:()=>B1,ALo:()=>s1,AaK:()=>Y,AsE:()=>b,BQk:()=>Ol,CHM:()=>Ia,CRH:()=>m1,CZH:()=>yv,CqO:()=>N0,DdM:()=>Yy,EJc:()=>Iw,EiD:()=>Sp,EpF:()=>A_,F$t:()=>np,F4k:()=>Hh,FYo:()=>Gy,FiY:()=>Ds,Gf:()=>p1,GfV:()=>Zy,GkF:()=>Kg,Gpc:()=>ie,Hsn:()=>Oc,Ikx:()=>py,JOm:()=>oa,JVY:()=>Wl,Jf7:()=>lh,L6k:()=>pl,LAX:()=>wp,LFG:()=>On,LSH:()=>qo,Lbi:()=>V1,MAs:()=>C_,MGl:()=>rp,NdJ:()=>Js,OlP:()=>$r,Oqu:()=>d,PXZ:()=>Vw,Q6J:()=>Bd,QGY:()=>Xf,Qsj:()=>MC,QtT:()=>Fy,R0b:()=>Nl,RDi:()=>Xr,Rgc:()=>um,SBq:()=>sm,SDv:()=>lp,Sil:()=>Ow,Suo:()=>g1,TTD:()=>ne,TgZ:()=>Wg,Tol:()=>zh,Udp:()=>N_,VKq:()=>Qy,VLi:()=>W_,W1O:()=>b1,WLB:()=>Xy,X6Q:()=>$w,XFs:()=>Bn,Xpm:()=>jn,Y36:()=>Pl,YKP:()=>$y,YNc:()=>$f,Yjl:()=>ir,Yz7:()=>$n,ZZ4:()=>mm,_Bn:()=>Uy,_UZ:()=>x_,_Vd:()=>U_,_c5:()=>nT,_uU:()=>a,aQg:()=>gp,c2e:()=>H1,cJS:()=>br,cg1:()=>gy,dDg:()=>Bw,deG:()=>Ho,dqk:()=>cn,dwT:()=>Lb,eBb:()=>Qd,eFA:()=>$1,ekj:()=>Qg,evT:()=>md,g9A:()=>j1,h0i:()=>dp,hGG:()=>_p,hij:()=>g,iGM:()=>f1,ifc:()=>ct,ip1:()=>F1,kEZ:()=>e1,kL8:()=>my,lG2:()=>zn,lcZ:()=>a1,mCW:()=>Li,n5z:()=>$d,oAB:()=>$e,oJD:()=>uf,oxw:()=>au,pB0:()=>Io,pQV:()=>K0,q3G:()=>ho,q4F:()=>qy,qLn:()=>ia,qOj:()=>Gf,qZA:()=>$g,qzn:()=>Cc,s9C:()=>jd,sBO:()=>Kw,sIi:()=>Ic,s_b:()=>H_,soG:()=>Cv,tBr:()=>na,tb:()=>G1,tp0:()=>Yi,uIk:()=>Wf,vHH:()=>Je,vpe:()=>hu,wAp:()=>Pr,xi3:()=>c1,xp6:()=>v,yhl:()=>rf,ynx:()=>Qf,z2F:()=>Dv,z3N:()=>Ms,zSh:()=>Cg,zs3:()=>qa});var p=A(7579),e=A(727),w=A(8306),N=A(6451),M=A(3099);function G(o){for(let s in o)if(o[s]===G)return s;throw Error("Could not find renamed property on target object.")}function ee(o,s){for(const u in s)s.hasOwnProperty(u)&&!o.hasOwnProperty(u)&&(o[u]=s[u])}function Y(o){if("string"==typeof o)return o;if(Array.isArray(o))return"["+o.map(Y).join(", ")+"]";if(null==o)return""+o;if(o.overriddenName)return`${o.overriddenName}`;if(o.name)return`${o.name}`;const s=o.toString();if(null==s)return""+s;const u=s.indexOf("\n");return-1===u?s:s.substring(0,u)}function Q(o,s){return null==o||""===o?null===s?"":s:null==s||""===s?o:o+" "+s}const K=G({__forward_ref__:G});function ie(o){return o.__forward_ref__=ie,o.toString=function(){return Y(this())},o}function ge(o){return dt(o)?o():o}function dt(o){return"function"==typeof o&&o.hasOwnProperty(K)&&o.__forward_ref__===ie}class Je extends Error{constructor(s,u){super(function vt(o,s){return`NG0${Math.abs(o)}${s?": "+s:""}`}(s,u)),this.code=s}}function _e(o){return"string"==typeof o?o:null==o?"":String(o)}function Ge(o){return"function"==typeof o?o.name||o.toString():"object"==typeof o&&null!=o&&"function"==typeof o.type?o.type.name||o.type.toString():_e(o)}function rt(o,s){const u=s?` in ${s}`:"";throw new Je(-201,`No provider for ${Ge(o)} found${u}`)}function Et(o,s,u,f){throw new Error(`ASSERTION ERROR: ${o}`+(null==f?"":` [Expected=> ${u} ${f} ${s} <=Actual]`))}function $n(o){return{token:o.token,providedIn:o.providedIn||null,factory:o.factory,value:void 0}}function br(o){return{providers:o.providers||[],imports:o.imports||[]}}function vr(o){return ni(o,Ei)||ni(o,Zr)}function ni(o,s){return o.hasOwnProperty(s)?o[s]:null}function Ni(o){return o&&(o.hasOwnProperty(Kr)||o.hasOwnProperty(Bi))?o[Kr]:null}const Ei=G({\u0275prov:G}),Kr=G({\u0275inj:G}),Zr=G({ngInjectableDef:G}),Bi=G({ngInjectorDef:G});var Bn=(()=>((Bn=Bn||{})[Bn.Default=0]="Default",Bn[Bn.Host=1]="Host",Bn[Bn.Self=2]="Self",Bn[Bn.SkipSelf=4]="SkipSelf",Bn[Bn.Optional=8]="Optional",Bn))();let zi;function Qr(o){const s=zi;return zi=o,s}function Fe(o,s,u){const f=vr(o);return f&&"root"==f.providedIn?void 0===f.value?f.value=f.factory():f.value:u&Bn.Optional?null:void 0!==s?s:void rt(Y(o),"Injector")}function Be(o){return{toString:o}.toString()}var ce=(()=>((ce=ce||{})[ce.OnPush=0]="OnPush",ce[ce.Default=1]="Default",ce))(),ct=(()=>{return(o=ct||(ct={}))[o.Emulated=0]="Emulated",o[o.None=2]="None",o[o.ShadowDom=3]="ShadowDom",ct;var o})();const yt="undefined"!=typeof globalThis&&globalThis,Ot="undefined"!=typeof window&&window,dn="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,cn=yt||"undefined"!=typeof global&&global||Ot||dn,Hn={},jt=[],Xn=G({\u0275cmp:G}),kn=G({\u0275dir:G}),Bt=G({\u0275pipe:G}),ht=G({\u0275mod:G}),tn=G({\u0275fac:G}),vn=G({__NG_ELEMENT_ID__:G});let Zn=0;function jn(o){return Be(()=>{const u={},f={type:o.type,providersResolver:null,decls:o.decls,vars:o.vars,factory:null,template:o.template||null,consts:o.consts||null,ngContentSelectors:o.ngContentSelectors,hostBindings:o.hostBindings||null,hostVars:o.hostVars||0,hostAttrs:o.hostAttrs||null,contentQueries:o.contentQueries||null,declaredInputs:u,inputs:null,outputs:null,exportAs:o.exportAs||null,onPush:o.changeDetection===ce.OnPush,directiveDefs:null,pipeDefs:null,selectors:o.selectors||jt,viewQuery:o.viewQuery||null,features:o.features||null,data:o.data||{},encapsulation:o.encapsulation||ct.Emulated,id:"c",styles:o.styles||jt,_:null,setInput:null,schemas:o.schemas||null,tView:null},m=o.directives,y=o.features,T=o.pipes;return f.id+=Zn++,f.inputs=qn(o.inputs,u),f.outputs=qn(o.outputs),y&&y.forEach(P=>P(f)),f.directiveDefs=m?()=>("function"==typeof m?m():m).map(Se):null,f.pipeDefs=T?()=>("function"==typeof T?T():T).map(be):null,f})}function Se(o){return or(o)||function sr(o){return o[kn]||null}(o)}function be(o){return function Cn(o){return o[Bt]||null}(o)}const lt={};function $e(o){return Be(()=>{const s={type:o.type,bootstrap:o.bootstrap||jt,declarations:o.declarations||jt,imports:o.imports||jt,exports:o.exports||jt,transitiveCompileScopes:null,schemas:o.schemas||null,id:o.id||null};return null!=o.id&&(lt[o.id]=o.type),s})}function qn(o,s){if(null==o)return Hn;const u={};for(const f in o)if(o.hasOwnProperty(f)){let m=o[f],y=m;Array.isArray(m)&&(y=m[1],m=m[0]),u[m]=f,s&&(s[m]=y)}return u}const zn=jn;function ir(o){return{type:o.type,name:o.name,factory:null,pure:!1!==o.pure,onDestroy:o.type.prototype.ngOnDestroy||null}}function or(o){return o[Xn]||null}function In(o,s){const u=o[ht]||null;if(!u&&!0===s)throw new Error(`Type ${Y(o)} does not have '\u0275mod' property.`);return u}function $t(o){return Array.isArray(o)&&"object"==typeof o[1]}function bn(o){return Array.isArray(o)&&!0===o[1]}function Sr(o){return 0!=(8&o.flags)}function Vr(o){return 2==(2&o.flags)}function Ir(o){return 1==(1&o.flags)}function mi(o){return null!==o.template}function Ro(o){return 0!=(512&o[2])}function Z(o,s){return o.hasOwnProperty(tn)?o[tn]:null}class W{constructor(s,u,f){this.previousValue=s,this.currentValue=u,this.firstChange=f}isFirstChange(){return this.firstChange}}function ne(){return Te}function Te(o){return o.type.prototype.ngOnChanges&&(o.setInput=xe),Me}function Me(){const o=ut(this),s=null==o?void 0:o.current;if(s){const u=o.previous;if(u===Hn)o.previous=s;else for(let f in s)u[f]=s[f];o.current=null,this.ngOnChanges(s)}}function xe(o,s,u,f){const m=ut(o)||function re(o,s){return o[Le]=s}(o,{previous:Hn,current:null}),y=m.current||(m.current={}),T=m.previous,P=this.declaredInputs[u],B=T[P];y[P]=new W(B&&B.currentValue,s,T===Hn),o[f]=s}ne.ngInherit=!0;const Le="__ngSimpleChanges__";function ut(o){return o[Le]||null}let Mr;function Xr(o){Mr=o}function Ki(){return void 0!==Mr?Mr:"undefined"!=typeof document?document:void 0}function Gr(o){return!!o.listen}const H={createRenderer:(o,s)=>Ki()};function V(o){for(;Array.isArray(o);)o=o[0];return o}function Mt(o,s){return V(s[o])}function Wt(o,s){return V(s[o.index])}function ii(o,s){return o.data[s]}function Fr(o,s){return o[s]}function Br(o,s){const u=s[o];return $t(u)?u:u[0]}function Nr(o){return 4==(4&o[2])}function Pi(o){return 128==(128&o[2])}function si(o,s){return null==s?null:o[s]}function ko(o){o[18]=0}function Vo(o,s){o[5]+=s;let u=o,f=o[3];for(;null!==f&&(1===s&&1===u[5]||-1===s&&0===u[5]);)f[5]+=s,u=f,f=f[3]}const hr={lFrame:Na(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function ws(){return hr.bindingsEnabled}function Xt(){return hr.lFrame.lView}function cr(){return hr.lFrame.tView}function Ia(o){return hr.lFrame.contextLView=o,o[8]}function Ri(){let o=tl();for(;null!==o&&64===o.type;)o=o.parent;return o}function tl(){return hr.lFrame.currentTNode}function Bs(){const o=hr.lFrame,s=o.currentTNode;return o.isParent?s:s.parent}function Qs(o,s){const u=hr.lFrame;u.currentTNode=o,u.isParent=s}function Xa(){return hr.lFrame.isParent}function Pa(){hr.lFrame.isParent=!1}function nl(){return hr.isInCheckNoChangesMode}function Lo(o){hr.isInCheckNoChangesMode=o}function Yo(){const o=hr.lFrame;let s=o.bindingRootIndex;return-1===s&&(s=o.bindingRootIndex=o.tView.bindingStartIndex),s}function fa(){return hr.lFrame.bindingIndex}function Os(){return hr.lFrame.bindingIndex++}function Qo(o){const s=hr.lFrame,u=s.bindingIndex;return s.bindingIndex=s.bindingIndex+o,u}function eo(o){hr.lFrame.inI18n=o}function rl(o,s){const u=hr.lFrame;u.bindingIndex=u.bindingRootIndex=o,Xs(s)}function Xs(o){hr.lFrame.currentDirectiveIndex=o}function Ll(){return hr.lFrame.currentQueryIndex}function Us(o){hr.lFrame.currentQueryIndex=o}function il(o){const s=o[1];return 2===s.type?s.declTNode:1===s.type?o[6]:null}function Oa(o,s,u){if(u&Bn.SkipSelf){let m=s,y=o;for(;!(m=m.parent,null!==m||u&Bn.Host||(m=il(y),null===m||(y=y[15],10&m.type))););if(null===m)return!1;s=m,o=y}const f=hr.lFrame=Rc();return f.currentTNode=s,f.lView=o,!0}function Ma(o){const s=Rc(),u=o[1];hr.lFrame=s,s.currentTNode=u.firstChild,s.lView=o,s.tView=u,s.contextLView=o,s.bindingIndex=u.bindingStartIndex,s.inI18n=!1}function Rc(){const o=hr.lFrame,s=null===o?null:o.child;return null===s?Na(o):s}function Na(o){const s={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:o,child:null,inI18n:!1};return null!==o&&(o.child=s),s}function Ra(){const o=hr.lFrame;return hr.lFrame=o.parent,o.currentTNode=null,o.lView=null,o}const _c=Ra;function ea(){const o=Ra();o.isParent=!0,o.tView=null,o.selectedIndex=-1,o.contextLView=null,o.elementDepthCount=0,o.currentDirectiveIndex=-1,o.currentNamespace=null,o.bindingRootIndex=-1,o.bindingIndex=-1,o.currentQueryIndex=0}function yo(){return hr.lFrame.selectedIndex}function _a(o){hr.lFrame.selectedIndex=o}function Vi(){const o=hr.lFrame;return ii(o.tView,o.selectedIndex)}function va(o,s){for(let u=s.directiveStart,f=s.directiveEnd;u<f;u++){const y=o.data[u].type.prototype,{ngAfterContentInit:T,ngAfterContentChecked:P,ngAfterViewInit:B,ngAfterViewChecked:X,ngOnDestroy:se}=y;T&&(o.contentHooks||(o.contentHooks=[])).push(-u,T),P&&((o.contentHooks||(o.contentHooks=[])).push(u,P),(o.contentCheckHooks||(o.contentCheckHooks=[])).push(u,P)),B&&(o.viewHooks||(o.viewHooks=[])).push(-u,B),X&&((o.viewHooks||(o.viewHooks=[])).push(u,X),(o.viewCheckHooks||(o.viewCheckHooks=[])).push(u,X)),null!=se&&(o.destroyHooks||(o.destroyHooks=[])).push(u,se)}}function Vs(o,s,u){tc(o,s,3,u)}function Gs(o,s,u,f){(3&o[2])===u&&tc(o,s,u,f)}function ui(o,s){let u=o[2];(3&u)===s&&(u&=2047,u+=1,o[2]=u)}function tc(o,s,u,f){const y=null!=f?f:-1,T=s.length-1;let P=0;for(let B=void 0!==f?65535&o[18]:0;B<T;B++)if("number"==typeof s[B+1]){if(P=s[B],null!=f&&P>=f)break}else s[B]<0&&(o[18]+=65536),(P<y||-1==y)&&(Wd(o,u,s,B),o[18]=(4294901760&o[18])+B+2),B++}function Wd(o,s,u,f){const m=u[f]<0,y=u[f+1],P=o[m?-u[f]:u[f]];if(m){if(o[2]>>11<o[18]>>16&&(3&o[2])===s){o[2]+=2048;try{y.call(P)}finally{}}}else try{y.call(P)}finally{}}class ka{constructor(s,u,f){this.factory=s,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=f}}function rc(o,s,u){const f=Gr(o);let m=0;for(;m<u.length;){const y=u[m];if("number"==typeof y){if(0!==y)break;m++;const T=u[m++],P=u[m++],B=u[m++];f?o.setAttribute(s,P,B,T):s.setAttributeNS(T,P,B)}else{const T=y,P=u[++m];Jn(T)?f&&o.setProperty(s,T,P):f?o.setAttribute(s,T,P):s.setAttribute(T,P),m++}}return m}function ol(o){return 3===o||4===o||6===o}function Jn(o){return 64===o.charCodeAt(0)}function Cr(o,s){if(null!==s&&0!==s.length)if(null===o||0===o.length)o=s.slice();else{let u=-1;for(let f=0;f<s.length;f++){const m=s[f];"number"==typeof m?u=m:0===u||sl(o,u,m,null,-1===u||2===u?s[++f]:null)}}return o}function sl(o,s,u,f,m){let y=0,T=o.length;if(-1===s)T=-1;else for(;y<o.length;){const P=o[y++];if("number"==typeof P){if(P===s){T=-1;break}if(P>s){T=y-1;break}}}for(;y<o.length;){const P=o[y];if("number"==typeof P)break;if(P===u){if(null===f)return void(null!==m&&(o[y+1]=m));if(f===o[y+1])return void(o[y+2]=m)}y++,null!==f&&y++,null!==m&&y++}-1!==T&&(o.splice(T,0,s),y=T+1),o.splice(y++,0,u),null!==f&&o.splice(y++,0,f),null!==m&&o.splice(y++,0,m)}function Nn(o){return-1!==o}function Pt(o){return 32767&o}function Oi(o,s){let u=function rn(o){return o>>16}(o),f=s;for(;u>0;)f=f[15],u--;return f}let _i=!0;function ic(o){const s=_i;return _i=o,s}let k=0;function S(o,s){const u=$(o,s);if(-1!==u)return u;const f=s[1];f.firstCreatePass&&(o.injectorIndex=s.length,j(f.data,o),j(s,null),j(f.blueprint,null));const m=ue(o,s),y=o.injectorIndex;if(Nn(m)){const T=Pt(m),P=Oi(m,s),B=P[1].data;for(let X=0;X<8;X++)s[y+X]=P[T+X]|B[T+X]}return s[y+8]=m,y}function j(o,s){o.push(0,0,0,0,0,0,0,0,s)}function $(o,s){return-1===o.injectorIndex||o.parent&&o.parent.injectorIndex===o.injectorIndex||null===s[o.injectorIndex+8]?-1:o.injectorIndex}function ue(o,s){if(o.parent&&-1!==o.parent.injectorIndex)return o.parent.injectorIndex;let u=0,f=null,m=s;for(;null!==m;){const y=m[1],T=y.type;if(f=2===T?y.declTNode:1===T?m[6]:null,null===f)return-1;if(u++,m=m[15],-1!==f.injectorIndex)return f.injectorIndex|u<<16}return-1}function Ue(o,s,u){!function I(o,s,u){let f;"string"==typeof u?f=u.charCodeAt(0)||0:u.hasOwnProperty(vn)&&(f=u[vn]),null==f&&(f=u[vn]=k++);const m=255&f;s.data[o+(m>>5)]|=1<<m}(o,s,u)}function Nt(o,s,u){if(u&Bn.Optional)return o;rt(s,"NodeInjector")}function En(o,s,u,f){if(u&Bn.Optional&&void 0===f&&(f=null),0==(u&(Bn.Self|Bn.Host))){const m=o[9],y=Qr(void 0);try{return m?m.get(s,f,u&Bn.Optional):Fe(s,f,u&Bn.Optional)}finally{Qr(y)}}return Nt(f,s,u)}function Rn(o,s,u,f=Bn.Default,m){if(null!==o){const y=function lr(o){if("string"==typeof o)return o.charCodeAt(0)||0;const s=o.hasOwnProperty(vn)?o[vn]:void 0;return"number"==typeof s?s>=0?255&s:Rr:s}(u);if("function"==typeof y){if(!Oa(s,o,f))return f&Bn.Host?Nt(m,u,f):En(s,u,f,m);try{const T=y(f);if(null!=T||f&Bn.Optional)return T;rt(u)}finally{_c()}}else if("number"==typeof y){let T=null,P=$(o,s),B=-1,X=f&Bn.Host?s[16][6]:null;for((-1===P||f&Bn.SkipSelf)&&(B=-1===P?ue(o,s):s[P+8],-1!==B&&Ji(f,!1)?(T=s[1],P=Pt(B),s=Oi(B,s)):P=-1);-1!==P;){const se=s[1];if(La(y,P,se.data)){const Re=Tr(P,s,u,T,f,X);if(Re!==At)return Re}B=s[P+8],-1!==B&&Ji(f,s[1].data[P+8]===X)&&La(y,P,s)?(T=se,P=Pt(B),s=Oi(B,s)):P=-1}}}return En(s,u,f,m)}const At={};function Rr(){return new ls(Ri(),Xt())}function Tr(o,s,u,f,m,y){const T=s[1],P=T.data[o+8],se=ei(P,T,u,null==f?Vr(P)&&_i:f!=T&&0!=(3&P.type),m&Bn.Host&&y===P);return null!==se?xi(s,T,se,P):At}function ei(o,s,u,f,m){const y=o.providerIndexes,T=s.data,P=1048575&y,B=o.directiveStart,se=y>>20,nt=m?P+se:o.directiveEnd;for(let Ct=f?P:P+se;Ct<nt;Ct++){const Zt=T[Ct];if(Ct<B&&u===Zt||Ct>=B&&Zt.type===u)return Ct}if(m){const Ct=T[B];if(Ct&&mi(Ct)&&Ct.type===u)return B}return null}function xi(o,s,u,f){let m=o[u];const y=s.data;if(function nc(o){return o instanceof ka}(m)){const T=m;T.resolving&&function ke(o,s){const u=s?`. Dependency path: ${s.join(" > ")} > ${o}`:"";throw new Je(-200,`Circular dependency in DI detected for ${o}${u}`)}(Ge(y[u]));const P=ic(T.canSeeViewProviders);T.resolving=!0;const B=T.injectImpl?Qr(T.injectImpl):null;Oa(o,f,Bn.Default);try{m=o[u]=T.factory(void 0,y,o,f),s.firstCreatePass&&u>=f.directiveStart&&function od(o,s,u){const{ngOnChanges:f,ngOnInit:m,ngDoCheck:y}=s.type.prototype;if(f){const T=Te(s);(u.preOrderHooks||(u.preOrderHooks=[])).push(o,T),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,T)}m&&(u.preOrderHooks||(u.preOrderHooks=[])).push(0-o,m),y&&((u.preOrderHooks||(u.preOrderHooks=[])).push(o,y),(u.preOrderCheckHooks||(u.preOrderCheckHooks=[])).push(o,y))}(u,y[u],s)}finally{null!==B&&Qr(B),ic(P),T.resolving=!1,_c()}}return m}function La(o,s,u){return!!(u[s+(o>>5)]&1<<o)}function Ji(o,s){return!(o&Bn.Self||o&Bn.Host&&s)}class ls{constructor(s,u){this._tNode=s,this._lView=u}get(s,u,f){return Rn(this._tNode,this._lView,s,f,u)}}function $d(o){return Be(()=>{const s=o.prototype.constructor,u=s[tn]||to(s),f=Object.prototype;let m=Object.getPrototypeOf(o.prototype).constructor;for(;m&&m!==f;){const y=m[tn]||to(m);if(y&&y!==u)return y;m=Object.getPrototypeOf(m)}return y=>new y})}function to(o){return dt(o)?()=>{const s=to(ge(o));return s&&s()}:Z(o)}function cl(o){return function je(o,s){if("class"===s)return o.classes;if("style"===s)return o.styles;const u=o.attrs;if(u){const f=u.length;let m=0;for(;m<f;){const y=u[m];if(ol(y))break;if(0===y)m+=2;else if("number"==typeof y)for(m++;m<f&&"string"==typeof u[m];)m++;else{if(y===s)return u[m+1];m+=2}}}return null}(Ri(),o)}const yi="__parameters__";function xo(o,s,u){return Be(()=>{const f=function Bl(o){return function(...u){if(o){const f=o(...u);for(const m in f)this[m]=f[m]}}}(s);function m(...y){if(this instanceof m)return f.apply(this,y),this;const T=new m(...y);return P.annotation=T,P;function P(B,X,se){const Re=B.hasOwnProperty(yi)?B[yi]:Object.defineProperty(B,yi,{value:[]})[yi];for(;Re.length<=se;)Re.push(null);return(Re[se]=Re[se]||[]).push(T),B}}return u&&(m.prototype=Object.create(u.prototype)),m.prototype.ngMetadataName=o,m.annotationCls=m,m})}class $r{constructor(s,u){this._desc=s,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=$n({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Ho=new $r("AnalyzeForEntryComponents");function co(o,s){void 0===s&&(s=o);for(let u=0;u<o.length;u++){let f=o[u];Array.isArray(f)?(s===o&&(s=o.slice(0,u)),co(f,s)):s!==o&&s.push(f)}return s}function ta(o,s){o.forEach(u=>Array.isArray(u)?ta(u,s):s(u))}function ll(o,s,u){s>=o.length?o.push(u):o.splice(s,0,u)}function Ca(o,s){return s>=o.length-1?o.pop():o.splice(s,1)[0]}function Zs(o,s){const u=[];for(let f=0;f<o;f++)u.push(s);return u}function ts(o,s,u){let f=qs(o,s);return f>=0?o[1|f]=u:(f=~f,function cd(o,s,u,f){let m=o.length;if(m==s)o.push(u,f);else if(1===m)o.push(f,o[0]),o[0]=u;else{for(m--,o.push(o[m-1],o[m]);m>s;)o[m]=o[m-2],m--;o[s]=u,o[s+1]=f}}(o,f,s,u)),f}function Vc(o,s){const u=qs(o,s);if(u>=0)return o[1|u]}function qs(o,s){return function dl(o,s,u){let f=0,m=o.length>>u;for(;m!==f;){const y=f+(m-f>>1),T=o[y<<u];if(s===T)return y<<u;T>s?m=y:f=y+1}return~(m<<u)}(o,s,1)}const Gc={},bu="__NG_DI_FLAG__",ds="ngTempTokenPath",U=/\n/gm,ae="__source",He=G({provide:String,useValue:G});let mt;function St(o){const s=mt;return mt=o,s}function un(o,s=Bn.Default){if(void 0===mt)throw new Je(203,"");return null===mt?Fe(o,void 0,s):mt.get(o,s&Bn.Optional?null:void 0,s)}function On(o,s=Bn.Default){return(function ri(){return zi}()||un)(ge(o),s)}const fr=On;function ai(o){const s=[];for(let u=0;u<o.length;u++){const f=ge(o[u]);if(Array.isArray(f)){if(0===f.length)throw new Je(900,"");let m,y=Bn.Default;for(let T=0;T<f.length;T++){const P=f[T],B=Bo(P);"number"==typeof B?-1===B?m=P.token:y|=B:m=P}s.push(On(m,y))}else s.push(On(f))}return s}function wr(o,s){return o[bu]=s,o.prototype[bu]=s,o}function Bo(o){return o[bu]}const na=wr(xo("Inject",o=>({token:o})),-1),Ds=wr(xo("Optional"),8),Yi=wr(xo("SkipSelf"),4);let ra,ql;function Ua(o){var s;return(null===(s=function dd(){if(void 0===ra&&(ra=null,cn.trustedTypes))try{ra=cn.trustedTypes.createPolicy("angular",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ra}())||void 0===s?void 0:s.createHTML(o))||o}function qi(o){var s;return(null===(s=function zl(){if(void 0===ql&&(ql=null,cn.trustedTypes))try{ql=cn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:o=>o,createScript:o=>o,createScriptURL:o=>o})}catch(o){}return ql}())||void 0===s?void 0:s.createHTML(o))||o}class fl{constructor(s){this.changingThisBreaksApplicationSecurity=s}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Yd extends fl{getTypeName(){return"HTML"}}class ef extends fl{getTypeName(){return"Style"}}class tf extends fl{getTypeName(){return"Script"}}class nf extends fl{getTypeName(){return"URL"}}class Au extends fl{getTypeName(){return"ResourceURL"}}function Ms(o){return o instanceof fl?o.changingThisBreaksApplicationSecurity:o}function Cc(o,s){const u=rf(o);if(null!=u&&u!==s){if("ResourceURL"===u&&"URL"===s)return!0;throw new Error(`Required a safe ${s}, got a ${u} (see https://g.co/ng/security#xss)`)}return u===s}function rf(o){return o instanceof fl&&o.getTypeName()||null}function Wl(o){return new Yd(o)}function pl(o){return new ef(o)}function Qd(o){return new tf(o)}function wp(o){return new nf(o)}function Io(o){return new Au(o)}function fi(o){const s=new eh(o);return function ki(){try{return!!(new window.DOMParser).parseFromString(Ua(""),"text/html")}catch(o){return!1}}()?new Xd(s):s}class Xd{constructor(s){this.inertDocumentHelper=s}getInertBodyElement(s){s="<body><remove></remove>"+s;try{const u=(new window.DOMParser).parseFromString(Ua(s),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(s):(u.removeChild(u.firstChild),u)}catch(u){return null}}}class eh{constructor(s){if(this.defaultDoc=s,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const u=this.inertDocument.createElement("html");this.inertDocument.appendChild(u);const f=this.inertDocument.createElement("body");u.appendChild(f)}}getInertBodyElement(s){const u=this.inertDocument.createElement("template");if("content"in u)return u.innerHTML=Ua(s),u;const f=this.inertDocument.createElement("body");return f.innerHTML=Ua(s),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(f),f}stripCustomNsAttrs(s){const u=s.attributes;for(let m=u.length-1;0<m;m--){const T=u.item(m).name;("xmlns:ns1"===T||0===T.indexOf("ns1:"))&&s.removeAttribute(T)}let f=s.firstChild;for(;f;)f.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(f),f=f.nextSibling}}const Co=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ss=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Li(o){return(o=String(o)).match(Co)||o.match(Ss)?o:"unsafe:"+o}function gl(o){return(o=String(o)).split(",").map(s=>Li(s.trim())).join(", ")}function mo(o){const s={};for(const u of o.split(","))s[u]=!0;return s}function Iu(...o){const s={};for(const u of o)for(const f in u)u.hasOwnProperty(f)&&(s[f]=!0);return s}const no=mo("area,br,col,hr,img,wbr"),sf=mo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),fs=mo("rp,rt"),Ai=Iu(no,Iu(sf,mo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Iu(fs,mo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Iu(fs,sf)),af=mo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Pu=mo("srcset"),hd=Iu(af,Pu,mo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),mo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Tp=mo("script,style,template");class Ep{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(s){let u=s.firstChild,f=!0;for(;u;)if(u.nodeType===Node.ELEMENT_NODE?f=this.startElement(u):u.nodeType===Node.TEXT_NODE?this.chars(u.nodeValue):this.sanitizedSomething=!0,f&&u.firstChild)u=u.firstChild;else for(;u;){u.nodeType===Node.ELEMENT_NODE&&this.endElement(u);let m=this.checkClobberedElement(u,u.nextSibling);if(m){u=m;break}u=this.checkClobberedElement(u,u.parentNode)}return this.buf.join("")}startElement(s){const u=s.nodeName.toLowerCase();if(!Ai.hasOwnProperty(u))return this.sanitizedSomething=!0,!Tp.hasOwnProperty(u);this.buf.push("<"),this.buf.push(u);const f=s.attributes;for(let m=0;m<f.length;m++){const y=f.item(m),T=y.name,P=T.toLowerCase();if(!hd.hasOwnProperty(P)){this.sanitizedSomething=!0;continue}let B=y.value;af[P]&&(B=Li(B)),Pu[P]&&(B=gl(B)),this.buf.push(" ",T,'="',cf(B),'"')}return this.buf.push(">"),!0}endElement(s){const u=s.nodeName.toLowerCase();Ai.hasOwnProperty(u)&&!no.hasOwnProperty(u)&&(this.buf.push("</"),this.buf.push(u),this.buf.push(">"))}chars(s){this.buf.push(cf(s))}checkClobberedElement(s,u){if(u&&(s.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${s.outerHTML}`);return u}}const Dp=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Em=/([^\#-~ |!])/g;function cf(o){return o.replace(/&/g,"&amp;").replace(Dp,function(s){return"&#"+(1024*(s.charCodeAt(0)-55296)+(s.charCodeAt(1)-56320)+65536)+";"}).replace(Em,function(s){return"&#"+s.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fd;function Sp(o,s){let u=null;try{fd=fd||fi(o);let f=s?String(s):"";u=fd.getInertBodyElement(f);let m=5,y=f;do{if(0===m)throw new Error("Failed to sanitize html because the input is unstable");m--,f=y,y=u.innerHTML,u=fd.getInertBodyElement(f)}while(f!==y);return Ua((new Ep).sanitizeChildren(lf(u)||u))}finally{if(u){const f=lf(u)||u;for(;f.firstChild;)f.removeChild(f.firstChild)}}}function lf(o){return"content"in o&&function Dm(o){return o.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===o.nodeName}(o)?o.content:null}var ho=(()=>((ho=ho||{})[ho.NONE=0]="NONE",ho[ho.HTML=1]="HTML",ho[ho.STYLE=2]="STYLE",ho[ho.SCRIPT=3]="SCRIPT",ho[ho.URL=4]="URL",ho[ho.RESOURCE_URL=5]="RESOURCE_URL",ho))();function uf(o){const s=Ou();return s?qi(s.sanitize(ho.HTML,o)||""):Cc(o,"HTML")?qi(Ms(o)):Sp(Ki(),_e(o))}function qo(o){const s=Ou();return s?s.sanitize(ho.URL,o)||"":Cc(o,"URL")?Ms(o):Li(_e(o))}function Ou(){const o=Xt();return o&&o[12]}const Mu="__ngContext__";function ps(o,s){o[Mu]=s}function ah(o){const s=function pd(o){return o[Mu]||null}(o);return s?Array.isArray(s)?s:s.lView:null}function zo(o){return o.ngOriginalError}function Lp(o,...s){o.error(...s)}class ia{constructor(){this._console=console}handleError(s){const u=this._findOriginalError(s),f=function r0(o){return o&&o.ngErrorLogger||Lp}(s);f(this._console,"ERROR",s),u&&f(this._console,"ORIGINAL ERROR",u)}_findOriginalError(s){let u=s&&zo(s);for(;u&&zo(u);)u=zo(u);return u||null}}const ff=/^>|^->|<!--|-->|--!>|<!-$/g,pf=/(<|>)/;const mf=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(cn))();function lh(o){return o.ownerDocument.defaultView}function md(o){return o.ownerDocument}function ja(o){return o instanceof Function?o():o}var oa=(()=>((oa=oa||{})[oa.Important=1]="Important",oa[oa.DashCase=2]="DashCase",oa))();let kt;function Ru(o,s){return kt(o,s)}function Da(o){const s=o[3];return bn(s)?s[3]:s}function Va(o){return _d(o[13])}function zs(o){return _d(o[4])}function _d(o){for(;null!==o&&!bn(o);)o=o[4];return o}function pi(o,s,u,f,m){if(null!=f){let y,T=!1;bn(f)?y=f:$t(f)&&(T=!0,f=f[0]);const P=V(f);0===o&&null!==u?null==m?Tf(s,u,P):bl(s,u,P,m||null,!0):1===o&&null!==u?bl(s,u,P,m||null,!0):2===o?_h(s,P,T):3===o&&s.destroyNode(P),null!=y&&function Tl(o,s,u,f,m){const y=u[7];y!==V(u)&&pi(s,o,f,y,m);for(let P=10;P<u.length;P++){const B=u[P];xs(B[1],B,o,s,f,y)}}(s,o,y,u,m)}}function Rs(o,s){return Gr(o)?o.createText(s):o.createTextNode(s)}function sa(o,s,u){Gr(o)?o.setValue(s,u):s.textContent=u}function aa(o,s){return o.createComment(function Bp(o){return o.replace(ff,s=>s.replace(pf,"\u200b$1\u200b"))}(s))}function Ga(o,s,u){if(Gr(o))return o.createElement(s,u);{const f=null!==u?function dr(o){const s=o.toLowerCase();return"svg"===s?"http://www.w3.org/2000/svg":"math"===s?"http://www.w3.org/1998/MathML/":null}(u):null;return null===f?o.createElement(s):o.createElementNS(f,s)}}function yl(o,s){const u=o[9],f=u.indexOf(s),m=s[3];1024&s[2]&&(s[2]&=-1025,Vo(m,-1)),u.splice(f,1)}function qc(o,s){if(o.length<=10)return;const u=10+s,f=o[u];if(f){const m=f[17];null!==m&&m!==o&&yl(m,f),s>0&&(o[u-1][4]=f[4]);const y=Ca(o,10+s);!function ku(o,s){xs(o,s,s[11],2,null,null),s[0]=null,s[6]=null}(f[1],f);const T=y[19];null!==T&&T.detachView(y[1]),f[3]=null,f[4]=null,f[2]&=-129}return f}function Jl(o,s){if(!(256&s[2])){const u=s[11];Gr(u)&&u.destroyNode&&xs(o,s,u,3,null,null),function dh(o){let s=o[13];if(!s)return fh(o[1],o);for(;s;){let u=null;if($t(s))u=s[13];else{const f=s[10];f&&(u=f)}if(!u){for(;s&&!s[4]&&s!==o;)$t(s)&&fh(s[1],s),s=s[3];null===s&&(s=o),$t(s)&&fh(s[1],s),u=s&&s[4]}s=u}}(s)}}function fh(o,s){if(!(256&s[2])){s[2]&=-129,s[2]|=256,function wf(o,s){let u;if(null!=o&&null!=(u=o.destroyHooks))for(let f=0;f<u.length;f+=2){const m=s[u[f]];if(!(m instanceof ka)){const y=u[f+1];if(Array.isArray(y))for(let T=0;T<y.length;T+=2){const P=m[y[T]],B=y[T+1];try{B.call(P)}finally{}}else try{y.call(m)}finally{}}}}(o,s),function Cf(o,s){const u=o.cleanup,f=s[7];let m=-1;if(null!==u)for(let y=0;y<u.length-1;y+=2)if("string"==typeof u[y]){const T=u[y+1],P="function"==typeof T?T(s):V(s[T]),B=f[m=u[y+2]],X=u[y+3];"boolean"==typeof X?P.removeEventListener(u[y],B,X):X>=0?f[m=X]():f[m=-X].unsubscribe(),y+=2}else{const T=f[m=u[y+1]];u[y].call(T)}if(null!==f){for(let y=m+1;y<f.length;y++)f[y]();s[7]=null}}(o,s),1===s[1].type&&Gr(s[11])&&s[11].destroy();const u=s[17];if(null!==u&&bn(s[3])){u!==s[3]&&yl(u,s);const f=s[19];null!==f&&f.detachView(o)}}}function ph(o,s,u){return Hp(o,s.parent,u)}function Hp(o,s,u){let f=s;for(;null!==f&&40&f.type;)f=(s=f).parent;if(null===f)return u[0];if(2&f.flags){const m=o.data[f.directiveStart].encapsulation;if(m===ct.None||m===ct.Emulated)return null}return Wt(f,u)}function bl(o,s,u,f,m){Gr(o)?o.insertBefore(s,u,f,m):s.insertBefore(u,f,m)}function Tf(o,s,u){Gr(o)?o.appendChild(s,u):s.appendChild(u)}function gh(o,s,u,f,m){null!==f?bl(o,s,u,f,m):Tf(o,s,u)}function Ec(o,s){return Gr(o)?o.parentNode(s):s.parentNode}function Cl(o,s,u){return mh(o,s,u)}function Sa(o,s,u){return 40&o.type?Wt(o,u):null}let Dc,mh=Sa;function dc(o,s){mh=o,Dc=s}function ca(o,s,u,f){const m=ph(o,f,s),y=s[11],P=Cl(f.parent||s[6],f,s);if(null!=m)if(Array.isArray(u))for(let B=0;B<u.length;B++)gh(y,m,u[B],P,!1);else gh(y,m,u,P,!1);void 0!==Dc&&Dc(y,f,s,u,m)}function Ws(o,s){if(null!==s){const u=s.type;if(3&u)return Wt(s,o);if(4&u)return yd(-1,o[s.index]);if(8&u){const f=s.child;if(null!==f)return Ws(o,f);{const m=o[s.index];return bn(m)?yd(-1,m):V(m)}}if(32&u)return Ru(s,o)()||V(o[s.index]);{const f=wl(o,s);return null!==f?Array.isArray(f)?f[0]:Ws(Da(o[16]),f):Ws(o,s.next)}}return null}function wl(o,s){return null!==s?o[16][6].projection[s.projection]:null}function yd(o,s){const u=10+o+1;if(u<s.length){const f=s[u],m=f[1].firstChild;if(null!==m)return Ws(f,m)}return s[7]}function _h(o,s,u){const f=Ec(o,s);f&&function vd(o,s,u,f){Gr(o)?o.removeChild(s,u,f):s.removeChild(u)}(o,f,s,u)}function bd(o,s,u,f,m,y,T){for(;null!=u;){const P=f[u.index],B=u.type;if(T&&0===s&&(P&&ps(V(P),f),u.flags|=4),64!=(64&u.flags))if(8&B)bd(o,s,u.child,f,m,y,!1),pi(s,o,m,P,y);else if(32&B){const X=Ru(u,f);let se;for(;se=X();)pi(s,o,m,se,y);pi(s,o,m,P,y)}else 16&B?Ha(o,s,f,u,m,y):pi(s,o,m,P,y);u=T?u.projectionNext:u.next}}function xs(o,s,u,f,m,y){bd(u,f,o.firstChild,s,m,y,!1)}function Ha(o,s,u,f,m,y){const T=u[16],B=T[6].projection[f.projection];if(Array.isArray(B))for(let X=0;X<B.length;X++)pi(s,o,m,B[X],y);else bd(o,s,B,T[3],m,y,!0)}function Bu(o,s,u){Gr(o)?o.setAttribute(s,"style",u):s.style.cssText=u}function El(o,s,u){Gr(o)?""===u?o.removeAttribute(s,"class"):o.setAttribute(s,"class",u):s.className=u}function $s(o,s,u){let f=o.length;for(;;){const m=o.indexOf(s,u);if(-1===m)return m;if(0===m||o.charCodeAt(m-1)<=32){const y=s.length;if(m+y===f||o.charCodeAt(m+y)<=32)return m}u=m+1}}const Cd="ng-template";function Yl(o,s,u){let f=0;for(;f<o.length;){let m=o[f++];if(u&&"class"===m){if(m=o[f],-1!==$s(m.toLowerCase(),s,0))return!0}else if(1===m){for(;f<o.length&&"string"==typeof(m=o[f++]);)if(m.toLowerCase()===s)return!0;return!1}}return!1}function vh(o){return 4===o.type&&o.value!==Cd}function Sc(o,s,u){return s===(4!==o.type||u?o.value:Cd)}function Uu(o,s,u){let f=4;const m=o.attrs||[],y=function yh(o){for(let s=0;s<o.length;s++)if(ol(o[s]))return s;return o.length}(m);let T=!1;for(let P=0;P<s.length;P++){const B=s[P];if("number"!=typeof B){if(!T)if(4&f){if(f=2|1&f,""!==B&&!Sc(o,B,u)||""===B&&1===s.length){if(xa(f))return!1;T=!0}}else{const X=8&f?B:s[++P];if(8&f&&null!==o.attrs){if(!Yl(o.attrs,X,u)){if(xa(f))return!1;T=!0}continue}const Re=Ql(8&f?"class":B,m,vh(o),u);if(-1===Re){if(xa(f))return!1;T=!0;continue}if(""!==X){let nt;nt=Re>y?"":m[Re+1].toLowerCase();const Ct=8&f?nt:null;if(Ct&&-1!==$s(Ct,X,0)||2&f&&X!==nt){if(xa(f))return!1;T=!0}}}}else{if(!T&&!xa(f)&&!xa(B))return!1;if(T&&xa(B))continue;T=!1,f=B|1&f}}return xa(f)||T}function xa(o){return 0==(1&o)}function Ql(o,s,u,f){if(null===s)return-1;let m=0;if(f||!u){let y=!1;for(;m<s.length;){const T=s[m];if(T===o)return m;if(3===T||6===T)y=!0;else{if(1===T||2===T){let P=s[++m];for(;"string"==typeof P;)P=s[++m];continue}if(4===T)break;if(0===T){m+=4;continue}}m+=y?1:2}return-1}return function zc(o,s){let u=o.indexOf(4);if(u>-1)for(u++;u<o.length;){const f=o[u];if("number"==typeof f)return-1;if(f===s)return u;u++}return-1}(s,o)}function qp(o,s,u=!1){for(let f=0;f<s.length;f++)if(Uu(o,s[f],u))return!0;return!1}function Dl(o,s){e:for(let u=0;u<s.length;u++){const f=s[u];if(o.length===f.length){for(let m=0;m<o.length;m++)if(o[m]!==f[m])continue e;return!0}}return!1}function wd(o,s){return o?":not("+s.trim()+")":s}function Ef(o){let s=o[0],u=1,f=2,m="",y=!1;for(;u<o.length;){let T=o[u];if("string"==typeof T)if(2&f){const P=o[++u];m+="["+T+(P.length>0?'="'+P+'"':"")+"]"}else 8&f?m+="."+T:4&f&&(m+=" "+T);else""!==m&&!xa(T)&&(s+=wd(y,m),m=""),f=T,y=y||!xa(f);u++}return""!==m&&(s+=wd(y,m)),s}const x={};function v(o){C(cr(),Xt(),yo()+o,nl())}function C(o,s,u,f){if(!f)if(3==(3&s[2])){const y=o.preOrderCheckHooks;null!==y&&Vs(s,y,u)}else{const y=o.preOrderHooks;null!==y&&Gs(s,y,0,u)}_a(u)}function fe(o,s){return o<<17|s<<2}function Ne(o){return o>>17&32767}function er(o){return 2|o}function pr(o){return(131068&o)>>2}function Ur(o,s){return-131069&o|s<<2}function la(o){return 1|o}function Mf(o,s){const u=o.contentQueries;if(null!==u)for(let f=0;f<u.length;f+=2){const m=u[f],y=u[f+1];if(-1!==y){const T=o.data[y];Us(m),T.contentQueries(2,s[y],y)}}}function Sd(o,s,u,f,m,y,T,P,B,X){const se=s.blueprint.slice();return se[0]=m,se[2]=140|f,ko(se),se[3]=se[15]=o,se[8]=u,se[10]=T||o&&o[10],se[11]=P||o&&o[11],se[12]=B||o&&o[12]||null,se[9]=X||o&&o[9]||null,se[6]=y,se[16]=2==s.type?o[16]:se,se}function xd(o,s,u,f,m){let y=o.data[s];if(null===y)y=eg(o,s,u,f,m),function Nc(){return hr.lFrame.inI18n}()&&(y.flags|=64);else if(64&y.type){y.type=u,y.value=f,y.attrs=m;const T=Bs();y.injectorIndex=null===T?-1:T.injectorIndex}return Qs(y,!0),y}function eg(o,s,u,f,m){const y=tl(),T=Xa(),B=o.data[s]=function ng(o,s,u,f,m,y){return{type:u,index:f,insertBeforeIndex:null,injectorIndex:s?s.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:m,attrs:y,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:s,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,T?y:y&&y.parent,u,s,f,m);return null===o.firstChild&&(o.firstChild=B),null!==y&&(T?null==y.child&&null!==B.parent&&(y.child=B):null===y.next&&(y.next=B)),B}function Hu(o,s,u,f){if(0===u)return-1;const m=s.length;for(let y=0;y<u;y++)s.push(f),o.blueprint.push(f),o.data.push(null);return m}function Th(o,s,u){Ma(s);try{const f=o.viewQuery;null!==f&&e_(1,f,u);const m=o.template;null!==m&&Vm(o,s,m,1,u),o.firstCreatePass&&(o.firstCreatePass=!1),o.staticContentQueries&&Mf(o,s),o.staticViewQueries&&e_(2,o.viewQuery,u);const y=o.components;null!==y&&function jm(o,s){for(let u=0;u<s.length;u++)pg(o,s[u])}(s,y)}catch(f){throw o.firstCreatePass&&(o.incompleteFirstPass=!0,o.firstCreatePass=!1),f}finally{s[2]&=-5,ea()}}function Eh(o,s,u,f){const m=s[2];if(256==(256&m))return;Ma(s);const y=nl();try{ko(s),function pa(o){return hr.lFrame.bindingIndex=o}(o.bindingStartIndex),null!==u&&Vm(o,s,u,2,f);const T=3==(3&m);if(!y)if(T){const X=o.preOrderCheckHooks;null!==X&&Vs(s,X,null)}else{const X=o.preOrderHooks;null!==X&&Gs(s,X,0,null),ui(s,0)}if(function h0(o){for(let s=Va(o);null!==s;s=zs(s)){if(!s[2])continue;const u=s[9];for(let f=0;f<u.length;f++){const m=u[f],y=m[3];0==(1024&m[2])&&Vo(y,1),m[2]|=1024}}}(s),function hg(o){for(let s=Va(o);null!==s;s=zs(s))for(let u=10;u<s.length;u++){const f=s[u],m=f[1];Pi(f)&&Eh(m,f,m.template,f[8])}}(s),null!==o.contentQueries&&Mf(o,s),!y)if(T){const X=o.contentCheckHooks;null!==X&&Vs(s,X)}else{const X=o.contentHooks;null!==X&&Gs(s,X,1),ui(s,1)}!function Of(o,s){const u=o.hostBindingOpCodes;if(null!==u)try{for(let f=0;f<u.length;f++){const m=u[f];if(m<0)_a(~m);else{const y=m,T=u[++f],P=u[++f];rl(T,y),P(2,s[y])}}}finally{_a(-1)}}(o,s);const P=o.components;null!==P&&function Um(o,s){for(let u=0;u<s.length;u++)fg(o,s[u])}(s,P);const B=o.viewQuery;if(null!==B&&e_(2,B,f),!y)if(T){const X=o.viewCheckHooks;null!==X&&Vs(s,X)}else{const X=o.viewHooks;null!==X&&Gs(s,X,2),ui(s,2)}!0===o.firstUpdatePass&&(o.firstUpdatePass=!1),y||(s[2]&=-73),1024&s[2]&&(s[2]&=-1025,Vo(s[3],-1))}finally{ea()}}function qv(o,s,u,f){const m=s[10],y=!nl(),T=Nr(s);try{y&&!T&&m.begin&&m.begin(),T&&Th(o,s,f),Eh(o,s,u,f)}finally{y&&!T&&m.end&&m.end()}}function Vm(o,s,u,f,m){const y=yo(),T=2&f;try{_a(-1),T&&s.length>20&&C(o,s,20,nl()),u(f,m)}finally{_a(y)}}function Nf(o,s,u){if(Sr(s)){const m=s.directiveEnd;for(let y=s.directiveStart;y<m;y++){const T=o.data[y];T.contentQueries&&T.contentQueries(1,u[y],y)}}}function Zu(o,s,u){!ws()||(function d0(o,s,u,f){const m=u.directiveStart,y=u.directiveEnd;o.firstCreatePass||S(u,s),ps(f,s);const T=u.initialInputs;for(let P=m;P<y;P++){const B=o.data[P],X=mi(B);X&&Ym(s,u,B);const se=xi(s,o,P,u);ps(se,s),null!==T&&ug(0,P-m,se,B,0,T),X&&(Br(u.index,s)[8]=se)}}(o,s,u,Wt(u,s)),128==(128&u.flags)&&function og(o,s,u){const f=u.directiveStart,m=u.directiveEnd,T=u.index,P=function ga(){return hr.lFrame.currentDirectiveIndex}();try{_a(T);for(let B=f;B<m;B++){const X=o.data[B],se=s[B];Xs(B),(null!==X.hostBindings||0!==X.hostVars||null!==X.hostAttrs)&&Ah(X,se)}}finally{_a(-1),Xs(P)}}(o,s,u))}function Dh(o,s,u=Wt){const f=s.localNames;if(null!==f){let m=s.index+1;for(let y=0;y<f.length;y+=2){const T=f[y+1],P=-1===T?u(s,o):o[T];o[m++]=P}}}function Gm(o){const s=o.tView;return null===s||s.incompleteFirstPass?o.tView=tg(1,null,o.template,o.decls,o.vars,o.directiveDefs,o.pipeDefs,o.viewQuery,o.schemas,o.consts):s}function tg(o,s,u,f,m,y,T,P,B,X){const se=20+f,Re=se+m,nt=function zv(o,s){const u=[];for(let f=0;f<s;f++)u.push(f<o?null:x);return u}(se,Re),Ct="function"==typeof X?X():X;return nt[1]={type:o,blueprint:nt,template:u,queries:null,viewQuery:P,declTNode:s,data:nt.slice().fill(null,se),bindingStartIndex:se,expandoStartIndex:Re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof y?y():y,pipeRegistry:"function"==typeof T?T():T,firstChild:null,schemas:B,consts:Ct,incompleteFirstPass:!1}}function Sh(o,s,u,f){const m=mg(s);null===u?m.push(f):(m.push(u),o.firstCreatePass&&_g(o).push(f,m.length-1))}function qu(o,s,u){for(let f in o)if(o.hasOwnProperty(f)){const m=o[f];(u=null===u?{}:u).hasOwnProperty(f)?u[f].push(s,m):u[f]=[s,m]}return u}function ks(o,s,u,f,m,y,T,P){const B=Wt(s,u);let se,X=s.inputs;!P&&null!=X&&(se=X[f])?(r_(o,u,se,f,m),Vr(s)&&function Zm(o,s){const u=Br(s,o);16&u[2]||(u[2]|=64)}(u,s.index)):3&s.type&&(f=function Rf(o){return"class"===o?"className":"for"===o?"htmlFor":"formaction"===o?"formAction":"innerHtml"===o?"innerHTML":"readonly"===o?"readOnly":"tabindex"===o?"tabIndex":o}(f),m=null!=T?T(m,s.value||"",f):m,Gr(y)?y.setProperty(B,f,m):Jn(f)||(B.setProperty?B.setProperty(f,m):B[f]=m))}function xh(o,s,u,f){let m=!1;if(ws()){const y=function sg(o,s,u){const f=o.directiveRegistry;let m=null;if(f)for(let y=0;y<f.length;y++){const T=f[y];qp(u,T.selectors,!1)&&(m||(m=[]),Ue(S(u,s),o,T.type),mi(T)?(ag(o,u),m.unshift(T)):m.push(T))}return m}(o,s,u),T=null===f?null:{"":-1};if(null!==y){m=!0,Km(u,o.data.length,y.length);for(let se=0;se<y.length;se++){const Re=y[se];Re.providersResolver&&Re.providersResolver(Re)}let P=!1,B=!1,X=Hu(o,s,y.length,null);for(let se=0;se<y.length;se++){const Re=y[se];u.mergedAttrs=Cr(u.mergedAttrs,Re.hostAttrs),Jm(o,u,s,X,Re),cg(X,Re,T),null!==Re.contentQueries&&(u.flags|=8),(null!==Re.hostBindings||null!==Re.hostAttrs||0!==Re.hostVars)&&(u.flags|=128);const nt=Re.type.prototype;!P&&(nt.ngOnChanges||nt.ngOnInit||nt.ngDoCheck)&&((o.preOrderHooks||(o.preOrderHooks=[])).push(u.index),P=!0),!B&&(nt.ngOnChanges||nt.ngDoCheck)&&((o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(u.index),B=!0),X++}!function rg(o,s){const f=s.directiveEnd,m=o.data,y=s.attrs,T=[];let P=null,B=null;for(let X=s.directiveStart;X<f;X++){const se=m[X],Re=se.inputs,nt=null===y||vh(s)?null:dg(Re,y);T.push(nt),P=qu(Re,X,P),B=qu(se.outputs,X,B)}null!==P&&(P.hasOwnProperty("class")&&(s.flags|=16),P.hasOwnProperty("style")&&(s.flags|=32)),s.initialInputs=T,s.inputs=P,s.outputs=B}(o,u)}T&&function Ad(o,s,u){if(s){const f=o.localNames=[];for(let m=0;m<s.length;m+=2){const y=u[s[m+1]];if(null==y)throw new Je(-301,!1);f.push(s[m],y)}}}(u,f,T)}return u.mergedAttrs=Cr(u.mergedAttrs,u.attrs),m}function $m(o,s,u,f,m,y){const T=y.hostBindings;if(T){let P=o.hostBindingOpCodes;null===P&&(P=o.hostBindingOpCodes=[]);const B=~s.index;(function ig(o){let s=o.length;for(;s>0;){const u=o[--s];if("number"==typeof u&&u<0)return u}return 0})(P)!=B&&P.push(B),P.push(f,m,T)}}function Ah(o,s){null!==o.hostBindings&&o.hostBindings(1,s)}function ag(o,s){s.flags|=2,(o.components||(o.components=[])).push(s.index)}function cg(o,s,u){if(u){if(s.exportAs)for(let f=0;f<s.exportAs.length;f++)u[s.exportAs[f]]=o;mi(s)&&(u[""]=o)}}function Km(o,s,u){o.flags|=1,o.directiveStart=s,o.directiveEnd=s+u,o.providerIndexes=s}function Jm(o,s,u,f,m){o.data[f]=m;const y=m.factory||(m.factory=Z(m.type)),T=new ka(y,mi(m),null);o.blueprint[f]=T,u[f]=T,$m(o,s,0,f,Hu(o,u,m.hostVars,x),m)}function Ym(o,s,u){const f=Wt(s,o),m=Gm(u),y=o[10],T=Id(o,Sd(o,m,null,u.onPush?64:16,f,s,y,y.createRenderer(f,u),null,null));o[s.index]=T}function lg(o,s,u,f,m,y,T){if(null==y)Gr(o)?o.removeAttribute(s,m,u):s.removeAttribute(m);else{const P=null==T?_e(y):T(y,f||"",m);Gr(o)?o.setAttribute(s,m,P,u):u?s.setAttributeNS(u,m,P):s.setAttribute(m,P)}}function ug(o,s,u,f,m,y){const T=y[s];if(null!==T){const P=f.setInput;for(let B=0;B<T.length;){const X=T[B++],se=T[B++],Re=T[B++];null!==P?f.setInput(u,Re,X,se):u[se]=Re}}}function dg(o,s){let u=null,f=0;for(;f<s.length;){const m=s[f];if(0!==m)if(5!==m){if("number"==typeof m)break;o.hasOwnProperty(m)&&(null===u&&(u=[]),u.push(m,o[m],s[f+1])),f+=2}else f+=2;else f+=4}return u}function Xm(o,s,u,f){return new Array(o,!0,!1,s,null,0,f,u,null,null)}function fg(o,s){const u=Br(s,o);if(Pi(u)){const f=u[1];80&u[2]?Eh(f,u,f.template,u[8]):u[5]>0&&kf(u)}}function kf(o){for(let f=Va(o);null!==f;f=zs(f))for(let m=10;m<f.length;m++){const y=f[m];if(1024&y[2]){const T=y[1];Eh(T,y,T.template,y[8])}else y[5]>0&&kf(y)}const u=o[1].components;if(null!==u)for(let f=0;f<u.length;f++){const m=Br(u[f],o);Pi(m)&&m[5]>0&&kf(m)}}function pg(o,s){const u=Br(s,o),f=u[1];(function gg(o,s){for(let u=s.length;u<o.blueprint.length;u++)s.push(o.blueprint[u])})(f,u),Th(f,u,u[8])}function Id(o,s){return o[13]?o[14][4]=s:o[13]=s,o[14]=s,s}function nu(o){for(;o;){o[2]|=64;const s=Da(o);if(Ro(o)&&!s)return o;o=s}return null}function zu(o,s,u){const f=s[10];f.begin&&f.begin();try{Eh(o,s,o.template,u)}catch(m){throw n_(s,m),m}finally{f.end&&f.end()}}function Pd(o){!function Ih(o){for(let s=0;s<o.components.length;s++){const u=o.components[s],f=ah(u),m=f[1];qv(m,f,m.template,u)}}(o[8])}function e_(o,s,u){Us(0),s(o,u)}const t_=(()=>Promise.resolve(null))();function mg(o){return o[7]||(o[7]=[])}function _g(o){return o.cleanup||(o.cleanup=[])}function n_(o,s){const u=o[9],f=u?u.get(ia,null):null;f&&f.handleError(s)}function r_(o,s,u,f,m){for(let y=0;y<u.length;){const T=u[y++],P=u[y++],B=s[T],X=o.data[T];null!==X.setInput?X.setInput(B,m,f,P):B[P]=m}}function $c(o,s,u){const f=Mt(s,o);sa(o[11],f,u)}function Ph(o,s,u){let f=u?o.styles:null,m=u?o.classes:null,y=0;if(null!==s)for(let T=0;T<s.length;T++){const P=s[T];"number"==typeof P?y=P:1==y?m=Q(m,P):2==y&&(f=Q(f,P+": "+s[++T]+";"))}u?o.styles=f:o.stylesWithoutHost=f,u?o.classes=m:o.classesWithoutHost=m}const yg=new $r("INJECTOR",-1);class bg{get(s,u=Gc){if(u===Gc){const f=new Error(`NullInjectorError: No provider for ${Y(s)}!`);throw f.name="NullInjectorError",f}return u}}const Cg=new $r("Set Injector scope."),Md={},g0={};let o_;function m0(){return void 0===o_&&(o_=new bg),o_}function s_(o,s=null,u=null,f){const m=Lf(o,s,u,f);return m._resolveInjectorDefTypes(),m}function Lf(o,s=null,u=null,f){return new a_(o,u,s||m0(),f)}class a_{constructor(s,u,f,m=null){this.parent=f,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const y=[];u&&ta(u,P=>this.processProvider(P,s,u)),ta([s],P=>this.processInjectorType(P,[],y)),this.records.set(yg,Ks(void 0,this));const T=this.records.get(Cg);this.scope=null!=T?T.value:null,this.source=m||("object"==typeof s?null:Y(s))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(s=>s.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(s,u=Gc,f=Bn.Default){this.assertNotDestroyed();const m=St(this),y=Qr(void 0);try{if(!(f&Bn.SkipSelf)){let P=this.records.get(s);if(void 0===P){const B=function Nd(o){return"function"==typeof o||"object"==typeof o&&o instanceof $r}(s)&&vr(s);P=B&&this.injectableDefInScope(B)?Ks(iu(s),Md):null,this.records.set(s,P)}if(null!=P)return this.hydrate(s,P)}return(f&Bn.Self?m0():this.parent).get(s,u=f&Bn.Optional&&u===Gc?null:u)}catch(T){if("NullInjectorError"===T.name){if((T[ds]=T[ds]||[]).unshift(Y(s)),m)throw T;return function uo(o,s,u,f){const m=o[ds];throw s[ae]&&m.unshift(s[ae]),o.message=function hs(o,s,u,f=null){o=o&&"\n"===o.charAt(0)&&"\u0275"==o.charAt(1)?o.substr(2):o;let m=Y(s);if(Array.isArray(s))m=s.map(Y).join(" -> ");else if("object"==typeof s){let y=[];for(let T in s)if(s.hasOwnProperty(T)){let P=s[T];y.push(T+":"+("string"==typeof P?JSON.stringify(P):Y(P)))}m=`{${y.join(", ")}}`}return`${u}${f?"("+f+")":""}[${m}]: ${o.replace(U,"\n  ")}`}("\n"+o.message,m,u,f),o.ngTokenPath=m,o[ds]=null,o}(T,s,"R3InjectorError",this.source)}throw T}finally{Qr(y),St(m)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(s=>this.get(s))}toString(){const s=[];return this.records.forEach((f,m)=>s.push(Y(m))),`R3Injector[${s.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Je(205,!1)}processInjectorType(s,u,f){if(!(s=ge(s)))return!1;let m=Ni(s);const y=null==m&&s.ngModule||void 0,T=void 0===y?s:y,P=-1!==f.indexOf(T);if(void 0!==y&&(m=Ni(y)),null==m)return!1;if(null!=m.imports&&!P){let se;f.push(T);try{ta(m.imports,Re=>{this.processInjectorType(Re,u,f)&&(void 0===se&&(se=[]),se.push(Re))})}finally{}if(void 0!==se)for(let Re=0;Re<se.length;Re++){const{ngModule:nt,providers:Ct}=se[Re];ta(Ct,Zt=>this.processProvider(Zt,nt,Ct||jt))}}this.injectorDefTypes.add(T);const B=Z(T)||(()=>new T);this.records.set(T,Ks(B,Md));const X=m.providers;if(null!=X&&!P){const se=s;ta(X,Re=>this.processProvider(Re,se,X))}return void 0!==y&&void 0!==s.providers}processProvider(s,u,f){let m=Mh(s=ge(s))?s:ge(s&&s.provide);const y=function wg(o,s,u){return Oh(o)?Ks(void 0,o.useValue):Ks(Tg(o),Md)}(s);if(Mh(s)||!0!==s.multi)this.records.get(m);else{let T=this.records.get(m);T||(T=Ks(void 0,Md,!0),T.factory=()=>ai(T.multi),this.records.set(m,T)),m=s,T.multi.push(s)}this.records.set(m,y)}hydrate(s,u){return u.value===Md&&(u.value=g0,u.value=u.factory()),"object"==typeof u.value&&u.value&&function Eg(o){return null!==o&&"object"==typeof o&&"function"==typeof o.ngOnDestroy}(u.value)&&this.onDestroy.add(u.value),u.value}injectableDefInScope(s){if(!s.providedIn)return!1;const u=ge(s.providedIn);return"string"==typeof u?"any"===u||u===this.scope:this.injectorDefTypes.has(u)}}function iu(o){const s=vr(o),u=null!==s?s.factory:Z(o);if(null!==u)return u;if(o instanceof $r)throw new Je(204,!1);if(o instanceof Function)return function $v(o){const s=o.length;if(s>0)throw Zs(s,"?"),new Je(204,!1);const u=function xr(o){const s=o&&(o[Ei]||o[Zr]);if(s){const u=function jr(o){if(o.hasOwnProperty("name"))return o.name;const s=(""+o).match(/^function\s*([^\s(]+)/);return null===s?"":s[1]}(o);return console.warn(`DEPRECATED: DI is instantiating a token "${u}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${u}" class.`),s}return null}(o);return null!==u?()=>u.factory(o):()=>new o}(o);throw new Je(204,!1)}function Tg(o,s,u){let f;if(Mh(o)){const m=ge(o);return Z(m)||iu(m)}if(Oh(o))f=()=>ge(o.useValue);else if(function c_(o){return!(!o||!o.useFactory)}(o))f=()=>o.useFactory(...ai(o.deps||[]));else if(function Al(o){return!(!o||!o.useExisting)}(o))f=()=>On(ge(o.useExisting));else{const m=ge(o&&(o.useClass||o.provide));if(!function Kv(o){return!!o.deps}(o))return Z(m)||iu(m);f=()=>new m(...ai(o.deps))}return f}function Ks(o,s,u=!1){return{factory:o,value:s,multi:u?[]:void 0}}function Oh(o){return null!==o&&"object"==typeof o&&He in o}function Mh(o){return"function"==typeof o}let qa=(()=>{class o{static create(u,f){var m;if(Array.isArray(u))return s_({name:""},f,u,"");{const y=null!==(m=u.name)&&void 0!==m?m:"";return s_({name:y},u.parent,u.providers,y)}}}return o.THROW_IF_NOT_FOUND=Gc,o.NULL=new bg,o.\u0275prov=$n({token:o,providedIn:"any",factory:()=>On(yg)}),o.__NG_ELEMENT_ID__=-1,o})();function Og(o,s){va(ah(o)[1],Ri())}function Gf(o){let s=function Mg(o){return Object.getPrototypeOf(o.prototype).constructor}(o.type),u=!0;const f=[o];for(;s;){let m;if(mi(o))m=s.\u0275cmp||s.\u0275dir;else{if(s.\u0275cmp)throw new Je(903,"");m=s.\u0275dir}if(m){if(u){f.push(m);const T=o;T.inputs=Kc(o.inputs),T.declaredInputs=Kc(o.declaredInputs),T.outputs=Kc(o.outputs);const P=m.hostBindings;P&&Zf(o,P);const B=m.viewQuery,X=m.contentQueries;if(B&&f_(o,B),X&&Lh(o,X),ee(o.inputs,m.inputs),ee(o.declaredInputs,m.declaredInputs),ee(o.outputs,m.outputs),mi(m)&&m.data.animation){const se=o.data;se.animation=(se.animation||[]).concat(m.data.animation)}}const y=m.features;if(y)for(let T=0;T<y.length;T++){const P=y[T];P&&P.ngInherit&&P(o),P===Gf&&(u=!1)}}s=Object.getPrototypeOf(s)}!function Hf(o){let s=0,u=null;for(let f=o.length-1;f>=0;f--){const m=o[f];m.hostVars=s+=m.hostVars,m.hostAttrs=Cr(m.hostAttrs,u=Cr(u,m.hostAttrs))}}(f)}function Kc(o){return o===Hn?{}:o===jt?[]:o}function f_(o,s){const u=o.viewQuery;o.viewQuery=u?(f,m)=>{s(f,m),u(f,m)}:s}function Lh(o,s){const u=o.contentQueries;o.contentQueries=u?(f,m,y)=>{s(f,m,y),u(f,m,y)}:s}function Zf(o,s){const u=o.hostBindings;o.hostBindings=u?(f,m)=>{s(f,m),u(f,m)}:s}let qf=null;function ou(){if(!qf){const o=cn.Symbol;if(o&&o.iterator)qf=o.iterator;else{const s=Object.getOwnPropertyNames(Map.prototype);for(let u=0;u<s.length;++u){const f=s[u];"entries"!==f&&"size"!==f&&Map.prototype[f]===Map.prototype.entries&&(qf=f)}}}return qf}function Ic(o){return!!Rg(o)&&(Array.isArray(o)||!(o instanceof Map)&&ou()in o)}function Rg(o){return null!==o&&("function"==typeof o||"object"==typeof o)}function Pc(o,s,u){return o[s]=u}function ro(o,s,u){return!Object.is(o[s],u)&&(o[s]=u,!0)}function Il(o,s,u,f){const m=ro(o,s,u);return ro(o,s+1,f)||m}function Wf(o,s,u,f){const m=Xt();return ro(m,Os(),s)&&(cr(),function xc(o,s,u,f,m,y){const T=Wt(o,s);lg(s[11],T,y,o.value,u,f,m)}(Vi(),m,o,s,u,f)),Wf}function $u(o,s,u,f){return ro(o,Os(),u)?s+_e(u)+f:x}function $f(o,s,u,f,m,y,T,P){const B=Xt(),X=cr(),se=o+20,Re=X.firstCreatePass?function S0(o,s,u,f,m,y,T,P,B){const X=s.consts,se=xd(s,o,4,T||null,si(X,P));xh(s,u,se,si(X,B)),va(s,se);const Re=se.tViews=tg(2,se,f,m,y,s.directiveRegistry,s.pipeRegistry,null,s.schemas,X);return null!==s.queries&&(s.queries.template(s,se),Re.queries=s.queries.embeddedTView(se)),se}(se,X,B,s,u,f,m,y,T):X.data[se];Qs(Re,!1);const nt=B[11].createComment("");ca(X,B,nt,Re),ps(nt,B),Id(B,B[se]=Xm(nt,B,nt,Re)),Ir(Re)&&Zu(X,B,Re),null!=T&&Dh(B,Re,P)}function C_(o){return Fr(function mc(){return hr.lFrame.contextLView}(),20+o)}function Pl(o,s=Bn.Default){const u=Xt();return null===u?On(o,s):Rn(Ri(),u,ge(o),s)}function qg(){throw new Error("invalid")}function Bd(o,s,u){const f=Xt();return ro(f,Os(),s)&&ks(cr(),Vi(),f,o,s,f[11],u,!1),Bd}function zg(o,s,u,f,m){const T=m?"class":"style";r_(o,u,s.inputs[T],T,f)}function Wg(o,s,u,f){const m=Xt(),y=cr(),T=20+o,P=m[11],B=m[T]=Ga(P,s,function go(){return hr.lFrame.currentNamespace}()),X=y.firstCreatePass?function S_(o,s,u,f,m,y,T){const P=s.consts,X=xd(s,o,2,m,si(P,y));return xh(s,u,X,si(P,T)),null!==X.attrs&&Ph(X,X.attrs,!1),null!==X.mergedAttrs&&Ph(X,X.mergedAttrs,!0),null!==s.queries&&s.queries.elementStart(s,X),X}(T,y,m,0,s,u,f):y.data[T];Qs(X,!0);const se=X.mergedAttrs;null!==se&&rc(P,B,se);const Re=X.classes;null!==Re&&El(P,B,Re);const nt=X.styles;return null!==nt&&Bu(P,B,nt),64!=(64&X.flags)&&ca(y,m,B,X),0===function Go(){return hr.lFrame.elementDepthCount}()&&ps(B,m),function as(){hr.lFrame.elementDepthCount++}(),Ir(X)&&(Zu(y,m,X),Nf(y,X,m)),null!==f&&Dh(m,X),Wg}function $g(){let o=Ri();Xa()?Pa():(o=o.parent,Qs(o,!1));const s=o;!function Cs(){hr.lFrame.elementDepthCount--}();const u=cr();return u.firstCreatePass&&(va(u,o),Sr(o)&&u.queries.elementEnd(o)),null!=s.classesWithoutHost&&function Hs(o){return 0!=(16&o.flags)}(s)&&zg(u,s,Xt(),s.classesWithoutHost,!0),null!=s.stylesWithoutHost&&function _u(o){return 0!=(32&o.flags)}(s)&&zg(u,s,Xt(),s.stylesWithoutHost,!1),$g}function x_(o,s,u,f){return Wg(o,s,u,f),$g(),x_}function Qf(o,s,u){const f=Xt(),m=cr(),y=o+20,T=m.firstCreatePass?function M0(o,s,u,f,m){const y=s.consts,T=si(y,f),P=xd(s,o,8,"ng-container",T);return null!==T&&Ph(P,T,!0),xh(s,u,P,si(y,m)),null!==s.queries&&s.queries.elementStart(s,P),P}(y,m,f,s,u):m.data[y];Qs(T,!0);const P=f[y]=f[11].createComment("");return ca(m,f,P,T),ps(P,f),Ir(T)&&(Zu(m,f,T),Nf(m,T,f)),null!=u&&Dh(f,T),Qf}function Ol(){let o=Ri();const s=cr();return Xa()?Pa():(o=o.parent,Qs(o,!1)),s.firstCreatePass&&(va(s,o),Sr(o)&&s.queries.elementEnd(o)),Ol}function Kg(o,s,u){return Qf(o,s,u),Ol(),Kg}function A_(){return Xt()}function Xf(o){return!!o&&"function"==typeof o.then}function Hh(o){return!!o&&"function"==typeof o.subscribe}const N0=Hh;function Js(o,s,u,f){const m=Xt(),y=cr(),T=Ri();return function Zh(o,s,u,f,m,y,T,P){const B=Ir(f),se=o.firstCreatePass&&_g(o),Re=s[8],nt=mg(s);let Ct=!0;if(3&f.type||P){const Un=Wt(f,s),ur=P?P(Un):Un,en=nt.length,Ar=P?li=>P(V(li[f.index])):f.index;if(Gr(u)){let li=null;if(!P&&B&&(li=function ep(o,s,u,f){const m=o.cleanup;if(null!=m)for(let y=0;y<m.length-1;y+=2){const T=m[y];if(T===u&&m[y+1]===f){const P=s[7],B=m[y+2];return P.length>B?P[B]:null}"string"==typeof T&&(y+=2)}return null}(o,s,m,f.index)),null!==li)(li.__ngLastListenerFn__||li).__ngNextListenerFn__=y,li.__ngLastListenerFn__=y,Ct=!1;else{y=Ud(f,s,Re,y,!1);const Fi=u.listen(ur,m,y);nt.push(y,Fi),se&&se.push(m,Ar,en,en+1)}}else y=Ud(f,s,Re,y,!0),ur.addEventListener(m,y,T),nt.push(y),se&&se.push(m,Ar,en,T)}else y=Ud(f,s,Re,y,!1);const Zt=f.outputs;let Dn;if(Ct&&null!==Zt&&(Dn=Zt[m])){const Un=Dn.length;if(Un)for(let ur=0;ur<Un;ur+=2){const pc=s[Dn[ur]][Dn[ur+1]].subscribe(y),zd=nt.length;nt.push(y,pc),se&&se.push(m,f.index,zd,-(zd+1))}}}(y,m,m[11],T,o,s,!!u,f),Js}function tp(o,s,u,f){try{return!1!==u(f)}catch(m){return n_(o,m),!1}}function Ud(o,s,u,f,m){return function y(T){if(T===Function)return f;const P=2&o.flags?Br(o.index,s):s;0==(32&s[2])&&nu(P);let B=tp(s,0,f,T),X=y.__ngNextListenerFn__;for(;X;)B=tp(s,0,X,T)&&B,X=X.__ngNextListenerFn__;return m&&!1===B&&(T.preventDefault(),T.returnValue=!1),B}}function au(o=1){return function js(o){return(hr.lFrame.contextLView=function vc(o,s){for(;o>0;)s=s[15],o--;return s}(o,hr.lFrame.contextLView))[8]}(o)}function cu(o,s){let u=null;const f=function hc(o){const s=o.attrs;if(null!=s){const u=s.indexOf(5);if(0==(1&u))return s[u+1]}return null}(o);for(let m=0;m<s.length;m++){const y=s[m];if("*"!==y){if(null===f?qp(o,y,!0):Dl(f,y))return m}else u=m}return u}function np(o){const s=Xt()[16][6];if(!s.projection){const f=s.projection=Zs(o?o.length:1,null),m=f.slice();let y=s.child;for(;null!==y;){const T=o?cu(y,o):0;null!==T&&(m[T]?m[T].projectionNext=y:f[T]=y,m[T]=y),y=y.next}}}function Oc(o,s=0,u){const f=Xt(),m=cr(),y=xd(m,20+o,16,null,u||null);null===y.projection&&(y.projection=s),Pa(),64!=(64&y.flags)&&function Om(o,s,u){Ha(s[11],0,s,u,ph(o,u,s),Cl(u.parent||s[6],u,s))}(m,f,y)}function jd(o,s,u){return rp(o,"",s,"",u),jd}function rp(o,s,u,f,m){const y=Xt(),T=$u(y,s,u,f);return T!==x&&ks(cr(),Vi(),y,o,T,y[11],m,!1),rp}function P_(o,s,u,f,m){const y=o[u+1],T=null===s;let P=f?Ne(y):pr(y),B=!1;for(;0!==P&&(!1===B||T);){const se=o[P+1];Db(o[P],s)&&(B=!0,o[P+1]=f?la(se):er(se)),P=f?Ne(se):pr(se)}B&&(o[u+1]=f?er(y):la(y))}function Db(o,s){return null===o||null==s||(Array.isArray(o)?o[1]:o)===s||!(!Array.isArray(o)||"string"!=typeof s)&&qs(o,s)>=0}const gs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function cy(o){return o.substring(gs.key,gs.keyEnd)}function O_(o,s){const u=gs.textEnd;return u===s?-1:(s=gs.keyEnd=function xb(o,s,u){for(;s<u&&o.charCodeAt(s)>32;)s++;return s}(o,gs.key=s,u),Qu(o,s,u))}function Qu(o,s,u){for(;s<u&&o.charCodeAt(s)<=32;)s++;return s}function N_(o,s,u){return Aa(o,s,u,!1),N_}function Qg(o,s){return Aa(o,s,null,!0),Qg}function zh(o){!function Xc(o,s,u,f){const m=cr(),y=Qo(2);m.firstUpdatePass&&ed(m,null,y,f);const T=Xt();if(u!==x&&ro(T,y,u)){const P=m.data[yo()];if(n(P,f)&&!Xg(m,y)){let B=f?P.classesWithoutHost:P.stylesWithoutHost;null!==B&&(u=Q(B,u||"")),zg(m,P,T,u,f)}else!function fy(o,s,u,f,m,y,T,P){m===x&&(m=jt);let B=0,X=0,se=0<m.length?m[0]:null,Re=0<y.length?y[0]:null;for(;null!==se||null!==Re;){const nt=B<m.length?m[B+1]:void 0,Ct=X<y.length?y[X+1]:void 0;let Dn,Zt=null;se===Re?(B+=2,X+=2,nt!==Ct&&(Zt=Re,Dn=Ct)):null===Re||null!==se&&se<Re?(B+=2,Zt=se):(X+=2,Zt=Re,Dn=Ct),null!==Zt&&k_(o,s,u,f,Zt,Dn,T,P),se=B<m.length?m[B]:null,Re=X<y.length?y[X]:null}}(m,P,T,T[11],T[y+1],T[y+1]=function hy(o,s,u){if(null==u||""===u)return jt;const f=[],m=Ms(u);if(Array.isArray(m))for(let y=0;y<m.length;y++)o(f,m[y],!0);else if("object"==typeof m)for(const y in m)m.hasOwnProperty(y)&&o(f,y,m[y]);else"string"==typeof m&&s(f,m);return f}(o,s,u),f,y)}}(ts,Ml,o,!0)}function Ml(o,s){for(let u=function L0(o){return function B0(o){gs.key=0,gs.keyEnd=0,gs.value=0,gs.valueEnd=0,gs.textEnd=o.length}(o),O_(o,Qu(o,0,gs.textEnd))}(s);u>=0;u=O_(s,u))ts(o,cy(s),!0)}function Aa(o,s,u,f){const m=Xt(),y=cr(),T=Qo(2);y.firstUpdatePass&&ed(y,o,T,f),s!==x&&ro(m,T,s)&&k_(y,y.data[yo()],m,m[11],o,m[T+1]=function l(o,s){return null==o||("string"==typeof s?o+=s:"object"==typeof o&&(o=Y(Ms(o)))),o}(s,u),f,T)}function Xg(o,s){return s>=o.expandoStartIndex}function ed(o,s,u,f){const m=o.data;if(null===m[u+1]){const y=m[yo()],T=Xg(o,u);n(y,f)&&null===s&&!T&&(s=!1),s=function op(o,s,u,f){const m=function ma(o){const s=hr.lFrame.currentDirectiveIndex;return-1===s?null:o[s]}(o);let y=f?s.residualClasses:s.residualStyles;if(null===m)0===(f?s.classBindings:s.styleBindings)&&(u=sp(u=Hd(null,o,s,u,f),s.attrs,f),y=null);else{const T=s.directiveStylingLast;if(-1===T||o[T]!==m)if(u=Hd(m,o,s,u,f),null===y){let B=function em(o,s,u){const f=u?s.classBindings:s.styleBindings;if(0!==pr(f))return o[Ne(f)]}(o,s,f);void 0!==B&&Array.isArray(B)&&(B=Hd(null,o,s,B[1],f),B=sp(B,s.attrs,f),function R_(o,s,u,f){o[Ne(u?s.classBindings:s.styleBindings)]=f}(o,s,f,B))}else y=function dy(o,s,u){let f;const m=s.directiveEnd;for(let y=1+s.directiveStylingLast;y<m;y++)f=sp(f,o[y].hostAttrs,u);return sp(f,s.attrs,u)}(o,s,f)}return void 0!==y&&(f?s.residualClasses=y:s.residualStyles=y),u}(m,y,s,f),function Yg(o,s,u,f,m,y){let T=y?s.classBindings:s.styleBindings,P=Ne(T),B=pr(T);o[f]=u;let se,X=!1;if(Array.isArray(u)){const Re=u;se=Re[1],(null===se||qs(Re,se)>0)&&(X=!0)}else se=u;if(m)if(0!==B){const nt=Ne(o[P+1]);o[f+1]=fe(nt,P),0!==nt&&(o[nt+1]=Ur(o[nt+1],f)),o[P+1]=function nn(o,s){return 131071&o|s<<17}(o[P+1],f)}else o[f+1]=fe(P,0),0!==P&&(o[P+1]=Ur(o[P+1],f)),P=f;else o[f+1]=fe(B,0),0===P?P=f:o[B+1]=Ur(o[B+1],f),B=f;X&&(o[f+1]=er(o[f+1])),P_(o,se,f,!0),P_(o,se,f,!1),function uu(o,s,u,f,m){const y=m?o.residualClasses:o.residualStyles;null!=y&&"string"==typeof s&&qs(y,s)>=0&&(u[f+1]=la(u[f+1]))}(s,se,o,f,y),T=fe(P,B),y?s.classBindings=T:s.styleBindings=T}(m,y,s,u,T,f)}}function Hd(o,s,u,f,m){let y=null;const T=u.directiveEnd;let P=u.directiveStylingLast;for(-1===P?P=u.directiveStart:P++;P<T&&(y=s[P],f=sp(f,y.hostAttrs,m),y!==o);)P++;return null!==o&&(u.directiveStylingLast=P),f}function sp(o,s,u){const f=u?1:2;let m=-1;if(null!==s)for(let y=0;y<s.length;y++){const T=s[y];"number"==typeof T?m=T:m===f&&(Array.isArray(o)||(o=void 0===o?[]:["",o]),ts(o,T,!!u||s[++y]))}return void 0===o?null:o}function k_(o,s,u,f,m,y,T,P){if(!(3&s.type))return;const B=o.data,X=B[P+1];Wh(function Qi(o){return 1==(1&o)}(X)?L_(B,s,u,m,pr(X),T):void 0)||(Wh(y)||function Dt(o){return 2==(2&o)}(X)&&(y=L_(B,null,u,m,P,T)),function Fu(o,s,u,f,m){const y=Gr(o);if(s)m?y?o.addClass(u,f):u.classList.add(f):y?o.removeClass(u,f):u.classList.remove(f);else{let T=-1===f.indexOf("-")?void 0:oa.DashCase;if(null==m)y?o.removeStyle(u,f,T):u.style.removeProperty(f);else{const P="string"==typeof m&&m.endsWith("!important");P&&(m=m.slice(0,-10),T|=oa.Important),y?o.setStyle(u,f,m,T):u.style.setProperty(f,m,P?"important":"")}}}(f,T,Mt(yo(),u),m,y))}function L_(o,s,u,f,m,y){const T=null===s;let P;for(;m>0;){const B=o[m],X=Array.isArray(B),se=X?B[1]:B,Re=null===se;let nt=u[m+1];nt===x&&(nt=Re?jt:void 0);let Ct=Re?Vc(nt,f):se===f?nt:void 0;if(X&&!Wh(Ct)&&(Ct=Vc(B,f)),Wh(Ct)&&(P=Ct,T))return P;const Zt=o[m+1];m=T?Ne(Zt):pr(Zt)}if(null!==s){let B=y?s.residualClasses:s.residualStyles;null!=B&&(P=Vc(B,f))}return P}function Wh(o){return void 0!==o}function n(o,s){return 0!=(o.flags&(s?16:32))}function a(o,s=""){const u=Xt(),f=cr(),m=o+20,y=f.firstCreatePass?xd(f,m,1,s,null):f.data[m],T=u[m]=Rs(u[11],s);ca(f,u,T,y),Qs(y,!1)}function d(o){return g("",o,""),d}function g(o,s,u){const f=Xt(),m=$u(f,o,s,u);return m!==x&&$c(f,yo(),m),g}function b(o,s,u,f,m){const y=Xt(),T=function Jc(o,s,u,f,m,y){const P=Il(o,fa(),u,m);return Qo(2),P?s+_e(u)+f+_e(m)+y:x}(y,o,s,u,f,m);return T!==x&&$c(y,yo(),T),b}function py(o,s,u){const f=Xt();return ro(f,Os(),s)&&ks(cr(),Vi(),f,o,s,f[11],u,!0),py}const ap=void 0;var wT=["en",[["a","p"],["AM","PM"],ap],[["AM","PM"],ap,ap],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ap,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ap,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ap,"{1} 'at' {0}",ap],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CT(o){const u=Math.floor(Math.abs(o)),f=o.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===f?1:5}];let tm={};function Lb(o,s,u){"string"!=typeof s&&(u=s,s=o[Pr.LocaleId]),s=s.toLowerCase().replace(/_/g,"-"),tm[s]=o,u&&(tm[s][Pr.ExtraData]=u)}function gy(o){const s=function TT(o){return o.toLowerCase().replace(/_/g,"-")}(o);let u=Fb(s);if(u)return u;const f=s.split("-")[0];if(u=Fb(f),u)return u;if("en"===f)return wT;throw new Error(`Missing locale data for the locale "${o}".`)}function my(o){return gy(o)[Pr.PluralCase]}function Fb(o){return o in tm||(tm[o]=cn.ng&&cn.ng.common&&cn.ng.common.locales&&cn.ng.common.locales[o]),tm[o]}var Pr=(()=>((Pr=Pr||{})[Pr.LocaleId=0]="LocaleId",Pr[Pr.DayPeriodsFormat=1]="DayPeriodsFormat",Pr[Pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",Pr[Pr.DaysFormat=3]="DaysFormat",Pr[Pr.DaysStandalone=4]="DaysStandalone",Pr[Pr.MonthsFormat=5]="MonthsFormat",Pr[Pr.MonthsStandalone=6]="MonthsStandalone",Pr[Pr.Eras=7]="Eras",Pr[Pr.FirstDayOfWeek=8]="FirstDayOfWeek",Pr[Pr.WeekendRange=9]="WeekendRange",Pr[Pr.DateFormat=10]="DateFormat",Pr[Pr.TimeFormat=11]="TimeFormat",Pr[Pr.DateTimeFormat=12]="DateTimeFormat",Pr[Pr.NumberSymbols=13]="NumberSymbols",Pr[Pr.NumberFormats=14]="NumberFormats",Pr[Pr.CurrencyCode=15]="CurrencyCode",Pr[Pr.CurrencySymbol=16]="CurrencySymbol",Pr[Pr.CurrencyName=17]="CurrencyName",Pr[Pr.Currencies=18]="Currencies",Pr[Pr.Directionality=19]="Directionality",Pr[Pr.PluralCase=20]="PluralCase",Pr[Pr.ExtraData=21]="ExtraData",Pr))();const ET=["zero","one","two","few","many"],Z0="en-US",nm={marker:"element"},q0={marker:"ICU"};var vs=(()=>((vs=vs||{})[vs.SHIFT=2]="SHIFT",vs[vs.APPEND_EAGERLY=1]="APPEND_EAGERLY",vs[vs.COMMENT=2]="COMMENT",vs))();let Bb=Z0;function Ub(o,s,u){const f=s.insertBeforeIndex,m=Array.isArray(f)?f[0]:f;return null===m?Sa(o,0,u):V(u[m])}function jb(o,s,u,f,m){const y=s.insertBeforeIndex;if(Array.isArray(y)){let T=f,P=null;if(3&s.type||(P=T,T=m),null!==T&&0==(2&s.flags))for(let B=1;B<y.length;B++)bl(o,T,u[y[B]],P,!1)}}function Vb(o,s){if(o.push(s),o.length>1)for(let u=o.length-2;u>=0;u--){const f=o[u];vy(f)||AT(f,s)&&null===IT(f)&&PT(f,s.index)}}function vy(o){return!(64&o.type)}function AT(o,s){return vy(s)||o.index>s.index}function IT(o){const s=o.insertBeforeIndex;return Array.isArray(s)?s[0]:s}function PT(o,s){const u=o.insertBeforeIndex;Array.isArray(u)?u[0]=s:(dc(Ub,jb),o.insertBeforeIndex=s)}function F_(o,s){const u=o.data[s];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function Hb(o,s,u){const f=eg(o,u,64,null,null);return Vb(s,f),f}function $a(o,s){const u=s[o.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function B_(o){return o>>>17}function Oo(o){return(131070&o)>>>1}let rm=0,im=0;function Cy(o,s,u,f){const m=u[11];let T,y=null;for(let P=0;P<s.length;P++){const B=s[P];if("string"==typeof B){const X=s[++P];null===u[X]&&(u[X]=Rs(m,B))}else if("number"==typeof B)switch(1&B){case 0:const X=B_(B);let se,Re;if(null===y&&(y=X,T=Ec(m,f)),X===y?(se=f,Re=T):(se=null,Re=V(u[X])),null!==Re){const Dn=Oo(B);bl(m,Re,u[Dn],se,!1);const ur=F_(o,Dn);if(null!==ur&&"object"==typeof ur){const en=$a(ur,u);null!==en&&Cy(o,ur.create[en],u,u[ur.anchorIdx])}}break;case 1:const Ct=s[++P],Zt=s[++P];lg(m,Mt(B>>>1,u),null,null,Ct,Zt,null)}else switch(B){case q0:const X=s[++P],se=s[++P];null===u[se]&&ps(u[se]=aa(m,X),u);break;case nm:const Re=s[++P],nt=s[++P];null===u[nt]&&ps(u[nt]=Ga(m,Re,null),u)}}}function wy(o,s,u,f,m){for(let y=0;y<u.length;y++){const T=u[y],P=u[++y];if(T&m){let B="";for(let X=y+1;X<=y+P;X++){const se=u[X];if("string"==typeof se)B+=se;else if("number"==typeof se)if(se<0)B+=_e(s[f-se]);else{const Re=se>>>2;switch(3&se){case 1:const nt=u[++X],Ct=u[++X],Zt=o.data[Re];"string"==typeof Zt?lg(s[11],s[Re],null,Zt,nt,B,Ct):ks(o,Zt,s,nt,B,s[11],Ct,!1);break;case 0:const Dn=s[Re];null!==Dn&&sa(s[11],Dn,B);break;case 2:$b(o,F_(o,Re),s,B);break;case 3:Ty(o,F_(o,Re),f,s)}}}}else{const B=u[y+1];if(B>0&&3==(3&B)){const se=F_(o,B>>>2);s[se.currentCaseLViewIndex]<0&&Ty(o,se,f,s)}}y+=P}}function Ty(o,s,u,f){let m=f[s.currentCaseLViewIndex];if(null!==m){let y=rm;m<0&&(m=f[s.currentCaseLViewIndex]=~m,y=-1),wy(o,f,s.update[m],u,y)}}function $b(o,s,u,f){const m=function Kb(o,s){let u=o.cases.indexOf(s);if(-1===u)switch(o.type){case 1:{const f=function DT(o,s){const u=my(s)(parseInt(o,10)),f=ET[u];return void 0!==f?f:"other"}(s,function xT(){return Bb}());u=o.cases.indexOf(f),-1===u&&"other"!==f&&(u=o.cases.indexOf("other"));break}case 0:u=o.cases.indexOf("other")}return-1===u?null:u}(s,f);if($a(s,u)!==m&&(Ey(o,s,u),u[s.currentCaseLViewIndex]=null===m?null:~m,null!==m)){const T=u[s.anchorIdx];T&&Cy(o,s.create[m],u,T)}}function Ey(o,s,u){let f=$a(s,u);if(null!==f){const m=s.remove[f];for(let y=0;y<m.length;y++){const T=m[y];if(T>0){const P=Mt(T,u);null!==P&&_h(u[11],P)}else Ey(o,F_(o,~T),u)}}}function Jb(){const o=[];let u,f,s=-1;function y(P,B){s=0;const X=$a(P,B);f=null!==X?P.remove[X]:jt}function T(){if(s<f.length){const P=f[s++];return P>0?u[P]:(o.push(s,f),y(u[1].data[~P],u),T())}return 0===o.length?null:(f=o.pop(),s=o.pop(),T())}return function m(P,B){for(u=B;o.length;)o.pop();return y(P.value,B),T}}const da=/\ufffd(\d+):?\d*\ufffd/gi,Qb=/\ufffd(\d+)\ufffd/,Sy=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,Xb=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,eC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,tC=/\uE500/g;function xy(o,s,u,f,m,y,T){const P=Hu(o,f,1,null);let B=P<<vs.SHIFT,X=Bs();s===X&&(X=null),null===X&&(B|=vs.APPEND_EAGERLY),T&&(B|=vs.COMMENT,function cc(o){void 0===kt&&(kt=o())}(Jb)),m.push(B,null===y?"":y);const se=eg(o,P,T?32:1,null===y?"":y,null);Vb(u,se);const Re=se.index;return Qs(se,!1),null!==X&&s!==X&&function Gb(o,s){let u=o.insertBeforeIndex;null===u?(dc(Ub,jb),u=o.insertBeforeIndex=[null,s]):(function ve(o,s,u){o!=s&&Et(u,o,s,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(s))}(X,Re),se}function iC(o,s,u,f,m,y,T){const P=T.match(da),B=xy(o,s,u,y,f,P?null:T,!1);P&&cp(m,T,B.index,null,0,null)}function cp(o,s,u,f,m,y){const T=o.length,P=T+1;o.push(null,null);const B=T+2,X=s.split(da);let se=0;for(let Re=0;Re<X.length;Re++){const nt=X[Re];if(1&Re){const Ct=m+parseInt(nt,10);o.push(-1-Ct),se|=Ay(Ct)}else""!==nt&&o.push(nt)}return o.push(u<<2|(f?1:0)),f&&o.push(f,y),o[T]=se,o[P]=o.length-B,se}function Ay(o){return 1<<Math.min(o,31)}function Iy(o){let s,y,u="",f=0,m=!1;for(;null!==(s=Xb.exec(o));)m?s[0]===`\ufffd/*${y}\ufffd`&&(f=s.index,m=!1):(u+=o.substring(f,s.index+s[0].length),y=s[1],m=!0);return u+=o.substr(f),u}function Py(o,s,u,f,m,y){let T=0;const P={type:m.type,currentCaseLViewIndex:Hu(o,s,1,null),anchorIdx:y,cases:[],create:[],remove:[],update:[]};(function hC(o,s,u){o.push(Ay(s.mainBinding),2,-1-s.mainBinding,u<<2|2)})(u,m,y),function yy(o,s,u){const f=o.data[s];null===f?o.data[s]=u:f.value=u}(o,y,P);const B=m.values;for(let X=0;X<B.length;X++){const se=B[X],Re=[];for(let nt=0;nt<se.length;nt++){const Ct=se[nt];if("string"!=typeof Ct){const Zt=Re.push(Ct)-1;se[nt]=`\x3c!--\ufffd${Zt}\ufffd--\x3e`}}T=uC(o,P,s,u,f,m.cases[X],se.join(""),Re)|T}T&&function fC(o,s,u){o.push(s,1,u<<2|3)}(u,T,y)}function lC(o){const s=[],u=[];let f=1,m=0;const y=z0(o=o.replace(Sy,function(T,P,B){return f="select"===B?0:1,m=parseInt(P.substr(1),10),""}));for(let T=0;T<y.length;){let P=y[T++].trim();1===f&&(P=P.replace(/\s*(?:=)?(\w+)\s*/,"$1")),P.length&&s.push(P);const B=z0(y[T++]);s.length>u.length&&u.push(B)}return{type:f,mainBinding:m,cases:s,values:u}}function z0(o){if(!o)return[];let s=0;const u=[],f=[],m=/[{}]/g;let y;for(m.lastIndex=0;y=m.exec(o);){const P=y.index;if("}"==y[0]){if(u.pop(),0==u.length){const B=o.substring(s,P);Sy.test(B)?f.push(lC(B)):f.push(B),s=P+1}}else{if(0==u.length){const B=o.substring(s,P);f.push(B),s=P+1}u.push("{")}}const T=o.substring(s);return f.push(T),f}function uC(o,s,u,f,m,y,T,P){const B=[],X=[],se=[];s.cases.push(y),s.create.push(B),s.remove.push(X),s.update.push(se);const nt=fi(Ki()).getInertBodyElement(T),Ct=lf(nt)||nt;return Ct?Oy(o,s,u,f,B,X,se,Ct,m,P,0):0}function Oy(o,s,u,f,m,y,T,P,B,X,se){let Re=0,nt=P.firstChild;for(;nt;){const Ct=Hu(o,u,1,null);switch(nt.nodeType){case Node.ELEMENT_NODE:const Zt=nt,Dn=Zt.tagName.toLowerCase();if(Ai.hasOwnProperty(Dn)){W0(m,nm,Dn,B,Ct),o.data[Ct]=Dn;const Ar=Zt.attributes;for(let li=0;li<Ar.length;li++){const Fi=Ar.item(li),pc=Fi.name.toLowerCase();Fi.value.match(da)?hd.hasOwnProperty(pc)&&cp(T,Fi.value,Ct,Fi.name,0,af[pc]?Li:Pu[pc]?gl:null):Ny(m,Ct,Fi)}Re=Oy(o,s,u,f,m,y,T,nt,Ct,X,se+1)|Re,My(y,Ct,se)}break;case Node.TEXT_NODE:const Un=nt.textContent||"",ur=Un.match(da);W0(m,null,ur?"":Un,B,Ct),My(y,Ct,se),ur&&(Re=cp(T,Un,Ct,null,0,null)|Re);break;case Node.COMMENT_NODE:const en=Qb.exec(nt.textContent||"");if(en){const li=X[parseInt(en[1],10)];W0(m,q0,"",B,Ct),Py(o,u,f,B,li,Ct),dC(y,Ct,se)}}nt=nt.nextSibling}return Re}function My(o,s,u){0===u&&o.push(s)}function dC(o,s,u){0===u&&(o.push(~s),o.push(s))}function W0(o,s,u,f,m){null!==s&&o.push(s),o.push(u,m,function Zb(o,s,u){return o|s<<17|u<<1}(0,f,m))}function Ny(o,s,u){o.push(s<<1|1,u.name,u.value)}function ky(o,s,u=-1){const f=cr(),m=Xt(),y=20+o,T=si(f.consts,s),P=Bs();f.firstCreatePass&&function rC(o,s,u,f,m,y){const T=Bs(),P=[],B=[],X=[[]];m=function cC(o,s){if(function aC(o){return-1===o}(s))return Iy(o);{const u=o.indexOf(`:${s}\ufffd`)+2+s.toString().length,f=o.search(new RegExp(`\ufffd\\/\\*\\d+:${s}\ufffd`));return Iy(o.substring(u,f))}}(m,y);const se=function nC(o){return o.replace(tC," ")}(m).split(eC);for(let Re=0;Re<se.length;Re++){let nt=se[Re];if(0==(1&Re)){const Ct=z0(nt);for(let Zt=0;Zt<Ct.length;Zt++){let Dn=Ct[Zt];if(0==(1&Zt)){const Un=Dn;""!==Un&&iC(o,T,X[0],P,B,u,Un)}else{const Un=Dn;if("object"!=typeof Un)throw new Error(`Unable to parse ICU expression in "${m}" message.`);Py(o,u,B,s,Un,xy(o,T,X[0],u,P,"",!0).index)}}}else{const Ct=47===nt.charCodeAt(0),Dn=(nt.charCodeAt(Ct?1:0),20+Number.parseInt(nt.substring(Ct?2:1)));if(Ct)X.shift(),Qs(Bs(),!1);else{const Un=Hb(o,X[0],Dn);X.unshift([]),Qs(Un,!0)}}}o.data[f]={create:P,update:B}}(f,null===P?0:P.index,m,y,T,u);const B=f.data[y],se=Hp(f,P===m[6]?null:P,m);(function Wb(o,s,u,f){const m=o[11];for(let y=0;y<s.length;y++){const T=s[y++],P=s[y],B=(T&vs.COMMENT)===vs.COMMENT,X=(T&vs.APPEND_EAGERLY)===vs.APPEND_EAGERLY,se=T>>>vs.SHIFT;let Re=o[se];null===Re&&(Re=o[se]=B?m.createComment(P):Rs(m,P)),X&&null!==u&&bl(m,u,Re,f,!1)}})(m,B.create,se,P&&8&P.type?m[P.index]:null),eo(!0)}function lp(o,s,u){ky(o,s,u),function Ly(){eo(!1)}()}function K0(o){return function qb(o){o&&(rm|=1<<Math.min(im,31)),im++}(ro(Xt(),Os(),o)),K0}function Fy(o){!function zb(o,s,u){if(im>0){const f=o.data[u];wy(o,s,Array.isArray(f)?f:f.update,fa()-im-1,rm)}rm=0,im=0}(cr(),Xt(),o+20)}function J0(o,s,u,f,m){if(o=ge(o),Array.isArray(o))for(let y=0;y<o.length;y++)J0(o[y],s,u,f,m);else{const y=cr(),T=Xt();let P=Mh(o)?o:ge(o.provide),B=Tg(o);const X=Ri(),se=1048575&X.providerIndexes,Re=X.directiveStart,nt=X.providerIndexes>>20;if(Mh(o)||!o.multi){const Ct=new ka(B,m,Pl),Zt=Q0(P,s,m?se:se+nt,Re);-1===Zt?(Ue(S(X,T),y,P),Y0(y,o,s.length),s.push(P),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),u.push(Ct),T.push(Ct)):(u[Zt]=Ct,T[Zt]=Ct)}else{const Ct=Q0(P,s,se+nt,Re),Zt=Q0(P,s,se,se+nt),Dn=Ct>=0&&u[Ct],Un=Zt>=0&&u[Zt];if(m&&!Un||!m&&!Dn){Ue(S(X,T),y,P);const ur=function SC(o,s,u,f,m){const y=new ka(o,u,Pl);return y.multi=[],y.index=s,y.componentProviders=0,By(y,m,f&&!u),y}(m?DC:EC,u.length,m,f,B);!m&&Un&&(u[Zt].providerFactory=ur),Y0(y,o,s.length,0),s.push(P),X.directiveStart++,X.directiveEnd++,m&&(X.providerIndexes+=1048576),u.push(ur),T.push(ur)}else Y0(y,o,Ct>-1?Ct:Zt,By(u[m?Zt:Ct],B,!m&&f));!m&&f&&Un&&u[Zt].componentProviders++}}}function Y0(o,s,u,f){const m=Mh(s),y=function l_(o){return!!o.useClass}(s);if(m||y){const B=(y?ge(s.useClass):s).prototype.ngOnDestroy;if(B){const X=o.destroyHooks||(o.destroyHooks=[]);if(!m&&s.multi){const se=X.indexOf(u);-1===se?X.push(u,[f,B]):X[se+1].push(f,B)}else X.push(u,B)}}}function By(o,s,u){return u&&o.componentProviders++,o.multi.push(s)-1}function Q0(o,s,u,f){for(let m=u;m<f;m++)if(s[m]===o)return m;return-1}function EC(o,s,u,f){return X0(this.multi,[])}function DC(o,s,u,f){const m=this.multi;let y;if(this.providerFactory){const T=this.providerFactory.componentProviders,P=xi(u,u[1],this.providerFactory.index,f);y=P.slice(0,T),X0(m,y);for(let B=T;B<P.length;B++)y.push(P[B])}else y=[],X0(m,y);return y}function X0(o,s){for(let u=0;u<o.length;u++)s.push((0,o[u])());return s}function Uy(o,s=[]){return u=>{u.providersResolver=(f,m)=>function TC(o,s,u){const f=cr();if(f.firstCreatePass){const m=mi(o);J0(u,f.data,f.blueprint,m,!0),J0(s,f.data,f.blueprint,m,!1)}}(f,m?m(o):o,s)}}class jy{}class IC{resolveComponentFactory(s){throw function AC(o){const s=Error(`No component factory found for ${Y(o)}. Did you add it to @NgModule.entryComponents?`);return s.ngComponent=o,s}(s)}}let U_=(()=>{class o{}return o.NULL=new IC,o})();function PC(){return up(Ri(),Xt())}function up(o,s){return new sm(Wt(o,s))}let sm=(()=>{class o{constructor(u){this.nativeElement=u}}return o.__NG_ELEMENT_ID__=PC,o})();function OC(o){return o instanceof sm?o.nativeElement:o}class Gy{}let MC=(()=>{class o{}return o.__NG_ELEMENT_ID__=()=>function NC(){const o=Xt(),u=Br(Ri().index,o);return function Hy(o){return o[11]}($t(u)?u:o)}(),o})(),RC=(()=>{class o{}return o.\u0275prov=$n({token:o,providedIn:"root",factory:()=>null}),o})();class Zy{constructor(s){this.full=s,this.major=s.split(".")[0],this.minor=s.split(".")[1],this.patch=s.split(".").slice(2).join(".")}}const qy=new Zy("13.3.0"),ev={};function j_(o,s,u,f,m=!1){for(;null!==u;){const y=s[u.index];if(null!==y&&f.push(V(y)),bn(y))for(let P=10;P<y.length;P++){const B=y[P],X=B[1].firstChild;null!==X&&j_(B[1],B,X,f)}const T=u.type;if(8&T)j_(o,s,u.child,f);else if(32&T){const P=Ru(u,s);let B;for(;B=P();)f.push(B)}else if(16&T){const P=wl(s,u);if(Array.isArray(P))f.push(...P);else{const B=Da(s[16]);j_(B[1],B,P,f,!0)}}u=m?u.projectionNext:u.next}return f}class am{constructor(s,u){this._lView=s,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const s=this._lView,u=s[1];return j_(u,s,u.firstChild,[])}get context(){return this._lView[8]}set context(s){this._lView[8]=s}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const s=this._lView[3];if(bn(s)){const u=s[8],f=u?u.indexOf(this):-1;f>-1&&(qc(s,f),Ca(u,f))}this._attachedToViewContainer=!1}Jl(this._lView[1],this._lView)}onDestroy(s){Sh(this._lView[1],this._lView,null,s)}markForCheck(){nu(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){zu(this._lView[1],this._lView,this.context)}checkNoChanges(){!function f0(o,s,u){Lo(!0);try{zu(o,s,u)}finally{Lo(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Je(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Lu(o,s){xs(o,s,s[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(s){if(this._attachedToViewContainer)throw new Je(902,"");this._appRef=s}}class kC extends am{constructor(s){super(s),this._view=s}detectChanges(){Pd(this._view)}checkNoChanges(){!function Od(o){Lo(!0);try{Pd(o)}finally{Lo(!1)}}(this._view)}get context(){return null}}class zy extends U_{constructor(s){super(),this.ngModule=s}resolveComponentFactory(s){const u=or(s);return new tv(u,this.ngModule)}}function Wy(o){const s=[];for(let u in o)o.hasOwnProperty(u)&&s.push({propName:o[u],templateName:u});return s}class tv extends jy{constructor(s,u){super(),this.componentDef=s,this.ngModule=u,this.componentType=s.type,this.selector=function Df(o){return o.map(Ef).join(",")}(s.selectors),this.ngContentSelectors=s.ngContentSelectors?s.ngContentSelectors:[],this.isBoundToModule=!!u}get inputs(){return Wy(this.componentDef.inputs)}get outputs(){return Wy(this.componentDef.outputs)}create(s,u,f,m){const y=(m=m||this.ngModule)?function FC(o,s){return{get:(u,f,m)=>{const y=o.get(u,ev,m);return y!==ev||f===ev?y:s.get(u,f,m)}}}(s,m.injector):s,T=y.get(Gy,H),P=y.get(RC,null),B=T.createRenderer(null,this.componentDef),X=this.componentDef.selectors[0][0]||"div",se=f?function Hm(o,s,u){if(Gr(o))return o.selectRootElement(s,u===ct.ShadowDom);let f="string"==typeof s?o.querySelector(s):s;return f.textContent="",f}(B,f,this.componentDef.encapsulation):Ga(T.createRenderer(null,this.componentDef),X,function LC(o){const s=o.toLowerCase();return"svg"===s?"svg":"math"===s?"math":null}(X)),Re=this.componentDef.onPush?576:528,nt=function h_(o,s){return{components:[],scheduler:o||mf,clean:t_,playerHandler:s||null,flags:0}}(),Ct=tg(0,null,null,1,0,null,null,null,null,null),Zt=Sd(null,Ct,nt,Re,null,null,T,B,P,y);let Dn,Un;Ma(Zt);try{const ur=function jf(o,s,u,f,m,y){const T=u[1];u[20]=o;const B=xd(T,20,2,"#host",null),X=B.mergedAttrs=s.hostAttrs;null!==X&&(Ph(B,X,!0),null!==o&&(rc(m,o,X),null!==B.classes&&El(m,o,B.classes),null!==B.styles&&Bu(m,o,B.styles)));const se=f.createRenderer(o,s),Re=Sd(u,Gm(s),null,s.onPush?64:16,u[20],B,f,se,y||null,null);return T.firstCreatePass&&(Ue(S(B,u),T,s.type),ag(T,B),Km(B,u.length,1)),Id(u,Re),u[20]=Re}(se,this.componentDef,Zt,T,B);if(se)if(f)rc(B,se,["ng-version",qy.full]);else{const{attrs:en,classes:Ar}=function Mm(o){const s=[],u=[];let f=1,m=2;for(;f<o.length;){let y=o[f];if("string"==typeof y)2===m?""!==y&&s.push(y,o[++f]):8===m&&u.push(y);else{if(!xa(m))break;m=y}f++}return{attrs:s,classes:u}}(this.componentDef.selectors[0]);en&&rc(B,se,en),Ar&&Ar.length>0&&El(B,se,Ar.join(" "))}if(Un=ii(Ct,20),void 0!==u){const en=Un.projection=[];for(let Ar=0;Ar<this.ngContentSelectors.length;Ar++){const li=u[Ar];en.push(null!=li?Array.from(li):null)}}Dn=function Vf(o,s,u,f,m){const y=u[1],T=function u0(o,s,u){const f=Ri();o.firstCreatePass&&(u.providersResolver&&u.providersResolver(u),Jm(o,f,s,Hu(o,s,1,null),u));const m=xi(s,o,f.directiveStart,f);ps(m,s);const y=Wt(f,s);return y&&ps(y,s),m}(y,u,s);if(f.components.push(T),o[8]=T,m&&m.forEach(B=>B(T,s)),s.contentQueries){const B=Ri();s.contentQueries(1,T,B.directiveStart)}const P=Ri();return!y.firstCreatePass||null===s.hostBindings&&null===s.hostAttrs||(_a(P.index),$m(u[1],P,0,P.directiveStart,P.directiveEnd,s),Ah(s,T)),T}(ur,this.componentDef,Zt,nt,[Og]),Th(Ct,Zt,null)}finally{ea()}return new UC(this.componentType,Dn,up(Un,Zt),Zt,Un)}}class UC extends class xC{}{constructor(s,u,f,m,y){super(),this.location=f,this._rootLView=m,this._tNode=y,this.instance=u,this.hostView=this.changeDetectorRef=new kC(m),this.componentType=s}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(s){this.hostView.onDestroy(s)}}class dp{}class $y{}const hp=new Map;class nv extends dp{constructor(s,u){super(),this._parent=u,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new zy(this);const f=In(s);this._bootstrapComponents=ja(f.bootstrap),this._r3Injector=Lf(s,u,[{provide:dp,useValue:this},{provide:U_,useValue:this.componentFactoryResolver}],Y(s)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(s)}get(s,u=qa.THROW_IF_NOT_FOUND,f=Bn.Default){return s===qa||s===dp||s===yg?this:this._r3Injector.get(s,u,f)}destroy(){const s=this._r3Injector;!s.destroyed&&s.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(s){this.destroyCbs.push(s)}}class rv extends $y{constructor(s){super(),this.moduleType=s,null!==In(s)&&function VC(o){const s=new Set;!function u(f){const m=In(f,!0),y=m.id;null!==y&&(function Ky(o,s,u){if(s&&s!==u)throw new Error(`Duplicate module registered for ${o} - ${Y(s)} vs ${Y(s.name)}`)}(y,hp.get(y),f),hp.set(y,f));const T=ja(m.imports);for(const P of T)s.has(P)||(s.add(P),u(P))}(o)}(s)}create(s){return new nv(this.moduleType,s)}}function Yy(o,s,u){const f=Yo()+o,m=Xt();return m[f]===x?Pc(m,f,u?s.call(u):s()):function su(o,s){return o[s]}(m,f)}function Qy(o,s,u,f){return V_(Xt(),Yo(),o,s,u,f)}function Xy(o,s,u,f,m){return n1(Xt(),Yo(),o,s,u,f,m)}function e1(o,s,u,f,m,y){return function r1(o,s,u,f,m,y,T,P){const B=s+u;return function Bh(o,s,u,f,m){const y=Il(o,s,u,f);return ro(o,s+2,m)||y}(o,B,m,y,T)?Pc(o,B+3,P?f.call(P,m,y,T):f(m,y,T)):cm(o,B+3)}(Xt(),Yo(),o,s,u,f,m,y)}function cm(o,s){const u=o[s];return u===x?void 0:u}function V_(o,s,u,f,m,y){const T=s+u;return ro(o,T,m)?Pc(o,T+1,y?f.call(y,m):f(m)):cm(o,T+1)}function n1(o,s,u,f,m,y,T){const P=s+u;return Il(o,P,m,y)?Pc(o,P+2,T?f.call(T,m,y):f(m,y)):cm(o,P+2)}function s1(o,s){const u=cr();let f;const m=o+20;u.firstCreatePass?(f=function $C(o,s){if(s)for(let u=s.length-1;u>=0;u--){const f=s[u];if(o===f.name)return f}}(s,u.pipeRegistry),u.data[m]=f,f.onDestroy&&(u.destroyHooks||(u.destroyHooks=[])).push(m,f.onDestroy)):f=u.data[m];const y=f.factory||(f.factory=Z(f.type)),T=Qr(Pl);try{const P=ic(!1),B=y();return ic(P),function Ii(o,s,u,f){u>=o.data.length&&(o.data[u]=null,o.blueprint[u]=null),s[u]=f}(u,Xt(),m,B),B}finally{Qr(T)}}function a1(o,s,u){const f=o+20,m=Xt(),y=Fr(m,f);return lm(m,f)?V_(m,Yo(),s,y.transform,u,y):y.transform(u)}function c1(o,s,u,f){const m=o+20,y=Xt(),T=Fr(y,m);return lm(y,m)?n1(y,Yo(),s,T.transform,u,f,T):T.transform(u,f)}function lm(o,s){return o[1].data[s].pure}function ov(o){return s=>{setTimeout(o,void 0,s)}}const hu=class YC extends p.x{constructor(s=!1){super(),this.__isAsync=s}emit(s){super.next(s)}subscribe(s,u,f){var m,y,T;let P=s,B=u||(()=>null),X=f;if(s&&"object"==typeof s){const Re=s;P=null===(m=Re.next)||void 0===m?void 0:m.bind(Re),B=null===(y=Re.error)||void 0===y?void 0:y.bind(Re),X=null===(T=Re.complete)||void 0===T?void 0:T.bind(Re)}this.__isAsync&&(B=ov(B),P&&(P=ov(P)),X&&(X=ov(X)));const se=super.subscribe({next:P,error:B,complete:X});return s instanceof e.w0&&s.add(se),se}};function QC(){return this._results[ou()]()}class sv{constructor(s=!1){this._emitDistinctChangesOnly=s,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=ou(),f=sv.prototype;f[u]||(f[u]=QC)}get changes(){return this._changes||(this._changes=new hu)}get(s){return this._results[s]}map(s){return this._results.map(s)}filter(s){return this._results.filter(s)}find(s){return this._results.find(s)}reduce(s,u){return this._results.reduce(s,u)}forEach(s){this._results.forEach(s)}some(s){return this._results.some(s)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(s,u){const f=this;f.dirty=!1;const m=co(s);(this._changesDetected=!function jl(o,s,u){if(o.length!==s.length)return!1;for(let f=0;f<o.length;f++){let m=o[f],y=s[f];if(u&&(m=u(m),y=u(y)),y!==m)return!1}return!0}(f._results,m,u))&&(f._results=m,f.length=m.length,f.last=m[this.length-1],f.first=m[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let um=(()=>{class o{}return o.__NG_ELEMENT_ID__=tw,o})();const XC=um,ew=class extends XC{constructor(s,u,f){super(),this._declarationLView=s,this._declarationTContainer=u,this.elementRef=f}createEmbeddedView(s){const u=this._declarationTContainer.tViews,f=Sd(this._declarationLView,u,s,16,null,u.declTNode,null,null,null,null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(u)),Th(u,f,s),new am(f)}};function tw(){return G_(Ri(),Xt())}function G_(o,s){return 4&o.type?new ew(s,o,up(o,s)):null}let H_=(()=>{class o{}return o.__NG_ELEMENT_ID__=nw,o})();function nw(){return u1(Ri(),Xt())}const rw=H_,dm=class extends rw{constructor(s,u,f){super(),this._lContainer=s,this._hostTNode=u,this._hostLView=f}get element(){return up(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){const s=ue(this._hostTNode,this._hostLView);if(Nn(s)){const u=Oi(s,this._hostLView),f=Pt(s);return new ls(u[1].data[f+8],u)}return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(s){const u=l1(this._lContainer);return null!==u&&u[s]||null}get length(){return this._lContainer.length-10}createEmbeddedView(s,u,f){const m=s.createEmbeddedView(u||{});return this.insert(m,f),m}createComponent(s,u,f,m,y){const T=s&&!function Bc(o){return"function"==typeof o}(s);let P;if(T)P=u;else{const Re=u||{};P=Re.index,f=Re.injector,m=Re.projectableNodes,y=Re.ngModuleRef}const B=T?s:new tv(or(s)),X=f||this.parentInjector;if(!y&&null==B.ngModule){const nt=(T?X:this.parentInjector).get(dp,null);nt&&(y=nt)}const se=B.create(X,m,void 0,y);return this.insert(se.hostView,P),se}insert(s,u){const f=s._lView,m=f[1];if(function oi(o){return bn(o[3])}(f)){const se=this.indexOf(s);if(-1!==se)this.detach(se);else{const Re=f[3],nt=new dm(Re,Re[6],Re[3]);nt.detach(nt.indexOf(s))}}const y=this._adjustIndex(u),T=this._lContainer;!function hh(o,s,u,f){const m=10+f,y=u.length;f>0&&(u[m-1][4]=s),f<y-10?(s[4]=u[m],ll(u,10+f,s)):(u.push(s),s[4]=null),s[3]=u;const T=s[17];null!==T&&u!==T&&function lc(o,s){const u=o[9];s[16]!==s[3][3][16]&&(o[2]=!0),null===u?o[9]=[s]:u.push(s)}(T,s);const P=s[19];null!==P&&P.insertView(o),s[2]|=128}(m,f,T,y);const P=yd(y,T),B=f[11],X=Ec(B,T[7]);return null!==X&&function Kl(o,s,u,f,m,y){f[0]=m,f[6]=s,xs(o,f,u,1,m,y)}(m,T[6],B,f,X,P),s.attachToViewContainerRef(),ll(av(T),y,s),s}move(s,u){return this.insert(s,u)}indexOf(s){const u=l1(this._lContainer);return null!==u?u.indexOf(s):-1}remove(s){const u=this._adjustIndex(s,-1),f=qc(this._lContainer,u);f&&(Ca(av(this._lContainer),u),Jl(f[1],f))}detach(s){const u=this._adjustIndex(s,-1),f=qc(this._lContainer,u);return f&&null!=Ca(av(this._lContainer),u)?new am(f):null}_adjustIndex(s,u=0){return null==s?this.length+u:s}};function l1(o){return o[8]}function av(o){return o[8]||(o[8]=[])}function u1(o,s){let u;const f=s[o.index];if(bn(f))u=f;else{let m;if(8&o.type)m=V(f);else{const y=s[11];m=y.createComment("");const T=Wt(o,s);bl(y,Ec(y,T),m,function uc(o,s){return Gr(o)?o.nextSibling(s):s.nextSibling}(y,T),!1)}s[o.index]=u=Xm(f,s,m,o),Id(s,u)}return new dm(u,o,s)}class cv{constructor(s){this.queryList=s,this.matches=null}clone(){return new cv(this.queryList)}setDirty(){this.queryList.setDirty()}}class lv{constructor(s=[]){this.queries=s}createEmbeddedView(s){const u=s.queries;if(null!==u){const f=null!==s.contentQueries?s.contentQueries[0]:u.length,m=[];for(let y=0;y<f;y++){const T=u.getByIndex(y);m.push(this.queries[T.indexInDeclarationView].clone())}return new lv(m)}return null}insertView(s){this.dirtyQueriesWithMatches(s)}detachView(s){this.dirtyQueriesWithMatches(s)}dirtyQueriesWithMatches(s){for(let u=0;u<this.queries.length;u++)null!==y1(s,u).matches&&this.queries[u].setDirty()}}class d1{constructor(s,u,f=null){this.predicate=s,this.flags=u,this.read=f}}class uv{constructor(s=[]){this.queries=s}elementStart(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].elementStart(s,u)}elementEnd(s){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(s)}embeddedTView(s){let u=null;for(let f=0;f<this.length;f++){const m=null!==u?u.length:0,y=this.getByIndex(f).embeddedTView(s,m);y&&(y.indexInDeclarationView=f,null!==u?u.push(y):u=[y])}return null!==u?new uv(u):null}template(s,u){for(let f=0;f<this.queries.length;f++)this.queries[f].template(s,u)}getByIndex(s){return this.queries[s]}get length(){return this.queries.length}track(s){this.queries.push(s)}}class dv{constructor(s,u=-1){this.metadata=s,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(s,u){this.isApplyingToNode(u)&&this.matchTNode(s,u)}elementEnd(s){this._declarationNodeIndex===s.index&&(this._appliesToNextNode=!1)}template(s,u){this.elementStart(s,u)}embeddedTView(s,u){return this.isApplyingToNode(s)?(this.crossesNgTemplate=!0,this.addMatch(-s.index,u),new dv(this.metadata)):null}isApplyingToNode(s){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let f=s.parent;for(;null!==f&&8&f.type&&f.index!==u;)f=f.parent;return u===(null!==f?f.index:-1)}return this._appliesToNextNode}matchTNode(s,u){const f=this.metadata.predicate;if(Array.isArray(f))for(let m=0;m<f.length;m++){const y=f[m];this.matchTNodeWithReadOption(s,u,sw(u,y)),this.matchTNodeWithReadOption(s,u,ei(u,s,y,!1,!1))}else f===um?4&u.type&&this.matchTNodeWithReadOption(s,u,-1):this.matchTNodeWithReadOption(s,u,ei(u,s,f,!1,!1))}matchTNodeWithReadOption(s,u,f){if(null!==f){const m=this.metadata.read;if(null!==m)if(m===sm||m===H_||m===um&&4&u.type)this.addMatch(u.index,-2);else{const y=ei(u,s,m,!1,!1);null!==y&&this.addMatch(u.index,y)}else this.addMatch(u.index,f)}}addMatch(s,u){null===this.matches?this.matches=[s,u]:this.matches.push(s,u)}}function sw(o,s){const u=o.localNames;if(null!==u)for(let f=0;f<u.length;f+=2)if(u[f]===s)return u[f+1];return null}function cw(o,s,u,f){return-1===u?function aw(o,s){return 11&o.type?up(o,s):4&o.type?G_(o,s):null}(s,o):-2===u?function lw(o,s,u){return u===sm?up(s,o):u===um?G_(s,o):u===H_?u1(s,o):void 0}(o,s,f):xi(o,o[1],u,s)}function h1(o,s,u,f){const m=s[19].queries[f];if(null===m.matches){const y=o.data,T=u.matches,P=[];for(let B=0;B<T.length;B+=2){const X=T[B];P.push(X<0?null:cw(s,y[X],T[B+1],u.metadata.read))}m.matches=P}return m.matches}function hv(o,s,u,f){const m=o.queries.getByIndex(u),y=m.matches;if(null!==y){const T=h1(o,s,m,u);for(let P=0;P<y.length;P+=2){const B=y[P];if(B>0)f.push(T[P/2]);else{const X=y[P+1],se=s[-B];for(let Re=10;Re<se.length;Re++){const nt=se[Re];nt[17]===nt[3]&&hv(nt[1],nt,X,f)}if(null!==se[9]){const Re=se[9];for(let nt=0;nt<Re.length;nt++){const Ct=Re[nt];hv(Ct[1],Ct,X,f)}}}}}return f}function f1(o){const s=Xt(),u=cr(),f=Ll();Us(f+1);const m=y1(u,f);if(o.dirty&&Nr(s)===(2==(2&m.metadata.flags))){if(null===m.matches)o.reset([]);else{const y=m.crossesNgTemplate?hv(u,s,f,[]):h1(u,s,m,f);o.reset(y,OC),o.notifyOnChanges()}return!0}return!1}function p1(o,s,u){const f=cr();f.firstCreatePass&&(v1(f,new d1(o,s,u),-1),2==(2&s)&&(f.staticViewQueries=!0)),_1(f,Xt(),s)}function g1(o,s,u,f){const m=cr();if(m.firstCreatePass){const y=Ri();v1(m,new d1(s,u,f),y.index),function dw(o,s){const u=o.contentQueries||(o.contentQueries=[]);s!==(u.length?u[u.length-1]:-1)&&u.push(o.queries.length-1,s)}(m,o),2==(2&u)&&(m.staticContentQueries=!0)}_1(m,Xt(),u)}function m1(){return function uw(o,s){return o[19].queries[s].queryList}(Xt(),Ll())}function _1(o,s,u){const f=new sv(4==(4&u));Sh(o,s,f,f.destroy),null===s[19]&&(s[19]=new lv),s[19].queries.push(new cv(f))}function v1(o,s,u){null===o.queries&&(o.queries=new uv),o.queries.track(new dv(s,u))}function y1(o,s){return o.queries.getByIndex(s)}function b1(o,s){return G_(o,s)}function z_(...o){}const F1=new $r("Application Initializer");let yv=(()=>{class o{constructor(u){this.appInits=u,this.resolve=z_,this.reject=z_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,m)=>{this.resolve=f,this.reject=m})}runInitializers(){if(this.initialized)return;const u=[],f=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let m=0;m<this.appInits.length;m++){const y=this.appInits[m]();if(Xf(y))u.push(y);else if(N0(y)){const T=new Promise((P,B)=>{y.subscribe({complete:P,error:B})});u.push(T)}}Promise.all(u).then(()=>{f()}).catch(m=>{this.reject(m)}),0===u.length&&f(),this.initialized=!0}}return o.\u0275fac=function(u){return new(u||o)(On(F1,8))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const B1=new $r("AppId",{providedIn:"root",factory:function U1(){return`${bv()}${bv()}${bv()}`}});function bv(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const j1=new $r("Platform Initializer"),V1=new $r("Platform ID"),G1=new $r("appBootstrapListener");let H1=(()=>{class o{log(u){console.log(u)}warn(u){console.warn(u)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();const Cv=new $r("LocaleId",{providedIn:"root",factory:()=>fr(Cv,Bn.Optional|Bn.SkipSelf)||function Aw(){return"undefined"!=typeof $localize&&$localize.locale||Z0}()}),Iw=new $r("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class Pw{constructor(s,u){this.ngModuleFactory=s,this.componentFactories=u}}let Ow=(()=>{class o{compileModuleSync(u){return new rv(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const f=this.compileModuleSync(u),y=ja(In(u).declarations).reduce((T,P)=>{const B=or(P);return B&&T.push(new tv(B)),T},[]);return new Pw(f,y)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Nw=(()=>Promise.resolve(0))();function wv(o){"undefined"==typeof Zone?Nw.then(()=>{o&&o.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",o)}class Nl{constructor({enableLongStackTrace:s=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:f=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new hu(!1),this.onMicrotaskEmpty=new hu(!1),this.onStable=new hu(!1),this.onError=new hu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const m=this;m._nesting=0,m._outer=m._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(m._inner=m._inner.fork(new Zone.TaskTrackingZoneSpec)),s&&Zone.longStackTraceZoneSpec&&(m._inner=m._inner.fork(Zone.longStackTraceZoneSpec)),m.shouldCoalesceEventChangeDetection=!f&&u,m.shouldCoalesceRunChangeDetection=f,m.lastRequestAnimationFrameId=-1,m.nativeRequestAnimationFrame=function Rw(){let o=cn.requestAnimationFrame,s=cn.cancelAnimationFrame;if("undefined"!=typeof Zone&&o&&s){const u=o[Zone.__symbol__("OriginalDelegate")];u&&(o=u);const f=s[Zone.__symbol__("OriginalDelegate")];f&&(s=f)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:s}}().nativeRequestAnimationFrame,function Fw(o){const s=()=>{!function Lw(o){o.isCheckStableRunning||-1!==o.lastRequestAnimationFrameId||(o.lastRequestAnimationFrameId=o.nativeRequestAnimationFrame.call(cn,()=>{o.fakeTopEventTask||(o.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{o.lastRequestAnimationFrameId=-1,Ev(o),o.isCheckStableRunning=!0,Tv(o),o.isCheckStableRunning=!1},void 0,()=>{},()=>{})),o.fakeTopEventTask.invoke()}),Ev(o))}(o)};o._inner=o._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,f,m,y,T,P)=>{try{return Z1(o),u.invokeTask(m,y,T,P)}finally{(o.shouldCoalesceEventChangeDetection&&"eventTask"===y.type||o.shouldCoalesceRunChangeDetection)&&s(),q1(o)}},onInvoke:(u,f,m,y,T,P,B)=>{try{return Z1(o),u.invoke(m,y,T,P,B)}finally{o.shouldCoalesceRunChangeDetection&&s(),q1(o)}},onHasTask:(u,f,m,y)=>{u.hasTask(m,y),f===m&&("microTask"==y.change?(o._hasPendingMicrotasks=y.microTask,Ev(o),Tv(o)):"macroTask"==y.change&&(o.hasPendingMacrotasks=y.macroTask))},onHandleError:(u,f,m,y)=>(u.handleError(m,y),o.runOutsideAngular(()=>o.onError.emit(y)),!1)})}(m)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(s,u,f){return this._inner.run(s,u,f)}runTask(s,u,f,m){const y=this._inner,T=y.scheduleEventTask("NgZoneEvent: "+m,s,kw,z_,z_);try{return y.runTask(T,u,f)}finally{y.cancelTask(T)}}runGuarded(s,u,f){return this._inner.runGuarded(s,u,f)}runOutsideAngular(s){return this._outer.run(s)}}const kw={};function Tv(o){if(0==o._nesting&&!o.hasPendingMicrotasks&&!o.isStable)try{o._nesting++,o.onMicrotaskEmpty.emit(null)}finally{if(o._nesting--,!o.hasPendingMicrotasks)try{o.runOutsideAngular(()=>o.onStable.emit(null))}finally{o.isStable=!0}}}function Ev(o){o.hasPendingMicrotasks=!!(o._hasPendingMicrotasks||(o.shouldCoalesceEventChangeDetection||o.shouldCoalesceRunChangeDetection)&&-1!==o.lastRequestAnimationFrameId)}function Z1(o){o._nesting++,o.isStable&&(o.isStable=!1,o.onUnstable.emit(null))}function q1(o){o._nesting--,Tv(o)}class oE{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new hu,this.onMicrotaskEmpty=new hu,this.onStable=new hu,this.onError=new hu}run(s,u,f){return s.apply(u,f)}runGuarded(s,u,f){return s.apply(u,f)}runOutsideAngular(s){return s()}runTask(s,u,f,m){return s.apply(u,f)}}let Bw=(()=>{class o{constructor(u){this._ngZone=u,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nl.assertNotInAngularZone(),wv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())wv(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(f=>!f.updateCb||!f.updateCb(u)||(clearTimeout(f.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,f,m){let y=-1;f&&f>0&&(y=setTimeout(()=>{this._callbacks=this._callbacks.filter(T=>T.timeoutId!==y),u(this._didWork,this.getPendingTasks())},f)),this._callbacks.push({doneCb:u,timeoutId:y,updateCb:m})}whenStable(u,f,m){if(m&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,f,m),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(u,f,m){return[]}}return o.\u0275fac=function(u){return new(u||o)(On(Nl))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})(),z1=(()=>{class o{constructor(){this._applications=new Map,$_.addToWindow(this)}registerApplication(u,f){this._applications.set(u,f)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,f=!0){return $_.findTestabilityInTree(this,u,f)}}return o.\u0275fac=function(u){return new(u||o)},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();class Ti{addToWindow(s){}findTestabilityInTree(s,u,f){return null}}function W_(o){$_=o}let Rl,$_=new Ti;const W1=new $r("AllowMultipleToken");class Vw{constructor(s,u){this.name=s,this.token=u}}function $1(o,s,u=[]){const f=`Platform: ${s}`,m=new $r(f);return(y=[])=>{let T=Zw();if(!T||T.injector.get(W1,!1))if(o)o(u.concat(y).concat({provide:m,useValue:!0}));else{const P=u.concat(y).concat({provide:m,useValue:!0},{provide:Cg,useValue:"platform"});!function Gw(o){if(Rl&&!Rl.destroyed&&!Rl.injector.get(W1,!1))throw new Je(400,"");Rl=o.get(K1);const s=o.get(j1,null);s&&s.forEach(u=>u())}(qa.create({providers:P,name:f}))}return function Hw(o){const s=Zw();if(!s)throw new Je(401,"");return s}()}}function Zw(){return Rl&&!Rl.destroyed?Rl:null}let K1=(()=>{class o{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,f){const P=function qw(o,s){let u;return u="noop"===o?new oE:("zone.js"===o?void 0:o)||new Nl({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==s?void 0:s.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==s?void 0:s.ngZoneRunCoalescing)}),u}(f?f.ngZone:void 0,{ngZoneEventCoalescing:f&&f.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:f&&f.ngZoneRunCoalescing||!1}),B=[{provide:Nl,useValue:P}];return P.run(()=>{const X=qa.create({providers:B,parent:this.injector,name:u.moduleType.name}),se=u.create(X),Re=se.injector.get(ia,null);if(!Re)throw new Je(402,"");return P.runOutsideAngular(()=>{const nt=P.onError.subscribe({next:Ct=>{Re.handleError(Ct)}});se.onDestroy(()=>{Sv(this._modules,se),nt.unsubscribe()})}),function zw(o,s,u){try{const f=u();return Xf(f)?f.catch(m=>{throw s.runOutsideAngular(()=>o.handleError(m)),m}):f}catch(f){throw s.runOutsideAngular(()=>o.handleError(f)),f}}(Re,P,()=>{const nt=se.injector.get(yv);return nt.runInitializers(),nt.donePromise.then(()=>(function _y(o){(function Rt(o,s){null==o&&Et(s,o,null,"!=")})(o,"Expected localeId to be defined"),"string"==typeof o&&(Bb=o.toLowerCase().replace(/_/g,"-"))}(se.injector.get(Cv,Z0)||Z0),this._moduleDoBootstrap(se),se))})})}bootstrapModule(u,f=[]){const m=J1({},f);return function Uw(o,s,u){const f=new rv(u);return Promise.resolve(f)}(0,0,u).then(y=>this.bootstrapModuleFactory(y,m))}_moduleDoBootstrap(u){const f=u.injector.get(Dv);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(m=>f.bootstrap(m));else{if(!u.instance.ngDoBootstrap)throw new Je(403,"");u.instance.ngDoBootstrap(f)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Je(404,"");this._modules.slice().forEach(u=>u.destroy()),this._destroyListeners.forEach(u=>u()),this._destroyed=!0}get destroyed(){return this._destroyed}}return o.\u0275fac=function(u){return new(u||o)(On(qa))},o.\u0275prov=$n({token:o,factory:o.\u0275fac}),o})();function J1(o,s){return Array.isArray(s)?s.reduce(J1,o):Object.assign(Object.assign({},o),s)}let Dv=(()=>{class o{constructor(u,f,m,y,T){this._zone=u,this._injector=f,this._exceptionHandler=m,this._componentFactoryResolver=y,this._initStatus=T,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const P=new w.y(X=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{X.next(this._stable),X.complete()})}),B=new w.y(X=>{let se;this._zone.runOutsideAngular(()=>{se=this._zone.onStable.subscribe(()=>{Nl.assertNotInAngularZone(),wv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,X.next(!0))})})});const Re=this._zone.onUnstable.subscribe(()=>{Nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{X.next(!1)}))});return()=>{se.unsubscribe(),Re.unsubscribe()}});this.isStable=(0,N.T)(P,B.pipe((0,M.B)()))}bootstrap(u,f){if(!this._initStatus.done)throw new Je(405,"");let m;m=u instanceof jy?u:this._componentFactoryResolver.resolveComponentFactory(u),this.componentTypes.push(m.componentType);const y=function jw(o){return o.isBoundToModule}(m)?void 0:this._injector.get(dp),P=m.create(qa.NULL,[],f||m.selector,y),B=P.location.nativeElement,X=P.injector.get(Bw,null),se=X&&P.injector.get(z1);return X&&se&&se.registerApplication(B,X),P.onDestroy(()=>{this.detachView(P.hostView),Sv(this.components,P),se&&se.unregisterApplication(B)}),this._loadComponent(P),P}tick(){if(this._runningTick)throw new Je(101,"");try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const f=u;this._views.push(f),f.attachToAppRef(this)}detachView(u){const f=u;Sv(this._views,f),f.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u),this._injector.get(G1,[]).concat(this._bootstrapListeners).forEach(m=>m(u))}ngOnDestroy(){this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return o.\u0275fac=function(u){return new(u||o)(On(Nl),On(qa),On(ia),On(U_),On(yv))},o.\u0275prov=$n({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Sv(o,s){const u=o.indexOf(s);u>-1&&o.splice(u,1)}let X1=!1;function $w(){return X1=!0,true}let Kw=(()=>{class o{}return o.__NG_ELEMENT_ID__=Jw,o})();function Jw(o){return function Yw(o,s,u){if(Vr(o)&&!u){const f=Br(o.index,s);return new am(f,f)}return 47&o.type?new am(s[16],s):null}(Ri(),Xt(),16==(16&o))}class Iv{constructor(){}supports(s){return Ic(s)}create(s){return new Xw(s)}}const rb=(o,s)=>s;class Xw{constructor(s){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=s||rb}forEachItem(s){let u;for(u=this._itHead;null!==u;u=u._next)s(u)}forEachOperation(s){let u=this._itHead,f=this._removalsHead,m=0,y=null;for(;u||f;){const T=!f||u&&u.currentIndex<Pv(f,m,y)?u:f,P=Pv(T,m,y),B=T.currentIndex;if(T===f)m--,f=f._nextRemoved;else if(u=u._next,null==T.previousIndex)m++;else{y||(y=[]);const X=P-m,se=B-m;if(X!=se){for(let nt=0;nt<X;nt++){const Ct=nt<y.length?y[nt]:y[nt]=0,Zt=Ct+nt;se<=Zt&&Zt<X&&(y[nt]=Ct+1)}y[T.previousIndex]=se-X}}P!==B&&s(T,P,B)}}forEachPreviousItem(s){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachMovedItem(s){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}forEachIdentityChange(s){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)s(u)}diff(s){if(null==s&&(s=[]),!Ic(s))throw new Je(900,"");return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let m,y,T,u=this._itHead,f=!1;if(Array.isArray(s)){this.length=s.length;for(let P=0;P<this.length;P++)y=s[P],T=this._trackByFn(P,y),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,y,T,P)),Object.is(u.item,y)||this._addIdentityChange(u,y)):(u=this._mismatch(u,y,T,P),f=!0),u=u._next}else m=0,function zf(o,s){if(Array.isArray(o))for(let u=0;u<o.length;u++)s(o[u]);else{const u=o[ou()]();let f;for(;!(f=u.next()).done;)s(f.value)}}(s,P=>{T=this._trackByFn(m,P),null!==u&&Object.is(u.trackById,T)?(f&&(u=this._verifyReinsertion(u,P,T,m)),Object.is(u.item,P)||this._addIdentityChange(u,P)):(u=this._mismatch(u,P,T,m),f=!0),u=u._next,m++}),this.length=m;return this._truncate(u),this.collection=s,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let s;for(s=this._previousItHead=this._itHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._additionsHead;null!==s;s=s._nextAdded)s.previousIndex=s.currentIndex;for(this._additionsHead=this._additionsTail=null,s=this._movesHead;null!==s;s=s._nextMoved)s.previousIndex=s.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(s,u,f,m){let y;return null===s?y=this._itTail:(y=s._prev,this._remove(s)),null!==(s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._reinsertAfter(s,y,m)):null!==(s=null===this._linkedRecords?null:this._linkedRecords.get(f,m))?(Object.is(s.item,u)||this._addIdentityChange(s,u),this._moveAfter(s,y,m)):s=this._addAfter(new ib(u,f),y,m),s}_verifyReinsertion(s,u,f,m){let y=null===this._unlinkedRecords?null:this._unlinkedRecords.get(f,null);return null!==y?s=this._reinsertAfter(y,s._prev,m):s.currentIndex!=m&&(s.currentIndex=m,this._addToMoves(s,m)),s}_truncate(s){for(;null!==s;){const u=s._next;this._addToRemovals(this._unlink(s)),s=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(s,u,f){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(s);const m=s._prevRemoved,y=s._nextRemoved;return null===m?this._removalsHead=y:m._nextRemoved=y,null===y?this._removalsTail=m:y._prevRemoved=m,this._insertAfter(s,u,f),this._addToMoves(s,f),s}_moveAfter(s,u,f){return this._unlink(s),this._insertAfter(s,u,f),this._addToMoves(s,f),s}_addAfter(s,u,f){return this._insertAfter(s,u,f),this._additionsTail=null===this._additionsTail?this._additionsHead=s:this._additionsTail._nextAdded=s,s}_insertAfter(s,u,f){const m=null===u?this._itHead:u._next;return s._next=m,s._prev=u,null===m?this._itTail=s:m._prev=s,null===u?this._itHead=s:u._next=s,null===this._linkedRecords&&(this._linkedRecords=new eT),this._linkedRecords.put(s),s.currentIndex=f,s}_remove(s){return this._addToRemovals(this._unlink(s))}_unlink(s){null!==this._linkedRecords&&this._linkedRecords.remove(s);const u=s._prev,f=s._next;return null===u?this._itHead=f:u._next=f,null===f?this._itTail=u:f._prev=u,s}_addToMoves(s,u){return s.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=s:this._movesTail._nextMoved=s),s}_addToRemovals(s){return null===this._unlinkedRecords&&(this._unlinkedRecords=new eT),this._unlinkedRecords.put(s),s.currentIndex=null,s._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=s,s._prevRemoved=null):(s._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=s),s}_addIdentityChange(s,u){return s.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=s:this._identityChangesTail._nextIdentityChange=s,s}}class ib{constructor(s,u){this.item=s,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class ob{constructor(){this._head=null,this._tail=null}add(s){null===this._head?(this._head=this._tail=s,s._nextDup=null,s._prevDup=null):(this._tail._nextDup=s,s._prevDup=this._tail,s._nextDup=null,this._tail=s)}get(s,u){let f;for(f=this._head;null!==f;f=f._nextDup)if((null===u||u<=f.currentIndex)&&Object.is(f.trackById,s))return f;return null}remove(s){const u=s._prevDup,f=s._nextDup;return null===u?this._head=f:u._nextDup=f,null===f?this._tail=u:f._prevDup=u,null===this._head}}class eT{constructor(){this.map=new Map}put(s){const u=s.trackById;let f=this.map.get(u);f||(f=new ob,this.map.set(u,f)),f.add(s)}get(s,u){const m=this.map.get(s);return m?m.get(s,u):null}remove(s){const u=s.trackById;return this.map.get(u).remove(s)&&this.map.delete(u),s}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pv(o,s,u){const f=o.previousIndex;if(null===f)return f;let m=0;return u&&f<u.length&&(m=u[f]),f+s+m}class Q_{constructor(){}supports(s){return s instanceof Map||Rg(s)}create(){return new tT}}class tT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(s){let u;for(u=this._mapHead;null!==u;u=u._next)s(u)}forEachPreviousItem(s){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)s(u)}forEachChangedItem(s){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)s(u)}forEachAddedItem(s){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)s(u)}forEachRemovedItem(s){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)s(u)}diff(s){if(s){if(!(s instanceof Map||Rg(s)))throw new Je(900,"")}else s=new Map;return this.check(s)?this:null}onDestroy(){}check(s){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(s,(f,m)=>{if(u&&u.key===m)this._maybeAddToChanges(u,f),this._appendAfter=u,u=u._next;else{const y=this._getOrCreateRecordForKey(m,f);u=this._insertBeforeOrAppend(u,y)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let f=u;null!==f;f=f._nextRemoved)f===this._mapHead&&(this._mapHead=null),this._records.delete(f.key),f._nextRemoved=f._next,f.previousValue=f.currentValue,f.currentValue=null,f._prev=null,f._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(s,u){if(s){const f=s._prev;return u._next=s,u._prev=f,s._prev=u,f&&(f._next=u),s===this._mapHead&&(this._mapHead=u),this._appendAfter=s,s}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(s,u){if(this._records.has(s)){const m=this._records.get(s);this._maybeAddToChanges(m,u);const y=m._prev,T=m._next;return y&&(y._next=T),T&&(T._prev=y),m._next=null,m._prev=null,m}const f=new sb(s);return this._records.set(s,f),f.currentValue=u,this._addToAdditions(f),f}_reset(){if(this.isDirty){let s;for(this._previousMapHead=this._mapHead,s=this._previousMapHead;null!==s;s=s._next)s._nextPrevious=s._next;for(s=this._changesHead;null!==s;s=s._nextChanged)s.previousValue=s.currentValue;for(s=this._additionsHead;null!=s;s=s._nextAdded)s.previousValue=s.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(s,u){Object.is(u,s.currentValue)||(s.previousValue=s.currentValue,s.currentValue=u,this._addToChanges(s))}_addToAdditions(s){null===this._additionsHead?this._additionsHead=this._additionsTail=s:(this._additionsTail._nextAdded=s,this._additionsTail=s)}_addToChanges(s){null===this._changesHead?this._changesHead=this._changesTail=s:(this._changesTail._nextChanged=s,this._changesTail=s)}_forEach(s,u){s instanceof Map?s.forEach(u):Object.keys(s).forEach(f=>u(s[f],f))}}class sb{constructor(s){this.key=s,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ab(){return new mm([new Iv])}let mm=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(null!=f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||ab()),deps:[[o,new Yi,new Ds]]}}find(u){const f=this.factories.find(m=>m.supports(u));if(null!=f)return f;throw new Je(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:ab}),o})();function _m(){return new gp([new Q_])}let gp=(()=>{class o{constructor(u){this.factories=u}static create(u,f){if(f){const m=f.factories.slice();u=u.concat(m)}return new o(u)}static extend(u){return{provide:o,useFactory:f=>o.create(u,f||_m()),deps:[[o,new Yi,new Ds]]}}find(u){const f=this.factories.find(y=>y.supports(u));if(f)return f;throw new Je(901,"")}}return o.\u0275prov=$n({token:o,providedIn:"root",factory:_m}),o})();const nT=$1(null,"core",[{provide:V1,useValue:"unknown"},{provide:K1,deps:[qa]},{provide:z1,deps:[]},{provide:H1,deps:[]}]);let _p=(()=>{class o{constructor(u){}}return o.\u0275fac=function(u){return new(u||o)(On(Dv))},o.\u0275mod=$e({type:o}),o.\u0275inj=br({}),o})()},3104:(pt,D,A)=>{"use strict";A.d(D,{gz:()=>Wr,m2:()=>Dr,F0:()=>go,rH:()=>Vs,yS:()=>Gs,Bz:()=>rc,lC:()=>Ve});var p=A(5e3),e=A(8306),w=A(576);function N(k,I){const S=(0,w.m)(k)?k:()=>k,j=$=>$.error(S());return new e.y(I?$=>I.schedule(j,0,$):j)}var M=A(727),G=A(4482),ee=A(5403);function Y(){return(0,G.e)((k,I)=>{let S=null;k._refCount++;const j=(0,ee.x)(I,void 0,void 0,void 0,()=>{if(!k||k._refCount<=0||0<--k._refCount)return void(S=null);const $=k._connection,ue=S;S=null,$&&(!ue||$===ue)&&$.unsubscribe(),I.unsubscribe()});k.subscribe(j),j.closed||(S=k.connect())})}class Q extends e.y{constructor(I,S){super(),this.source=I,this.subjectFactory=S,this._subject=null,this._refCount=0,this._connection=null,(0,G.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new M.w0;const S=this.getSubject();I.add(this.source.subscribe((0,ee.x)(S,void 0,()=>{this._teardown(),S.complete()},j=>{this._teardown(),S.error(j)},()=>this._teardown()))),I.closed&&(this._connection=null,I=M.w0.EMPTY)}return I}refCount(){return Y()(this)}}var K=A(8996),ie=A(9646),ge=A(1135),dt=A(9841),Xe=A(6805),Je=A(7272),vt=A(9770),_e=A(515),Ge=A(7579);function ke(k,I,S,j,$){return(ue,Ue)=>{let je=S,Nt=I,En=0;ue.subscribe((0,ee.x)(Ue,Rn=>{const At=En++;Nt=je?k(Nt,Rn,At):(je=!0,Rn),j&&Ue.next(Nt)},$&&(()=>{je&&Ue.next(Nt),Ue.complete()})))}}function _t(k,I){return(0,G.e)(ke(k,I,arguments.length>=2,!0))}var Ke=A(8421);function rt(k){return(0,G.e)((I,S)=>{let ue,j=null,$=!1;j=I.subscribe((0,ee.x)(S,void 0,void 0,Ue=>{ue=(0,Ke.Xf)(k(Ue,rt(k)(I))),j?(j.unsubscribe(),j=null,ue.subscribe(S)):$=!0})),$&&(j.unsubscribe(),j=null,ue.subscribe(S))})}var Ae=A(9300);function it(k){return k<=0?()=>_e.E:(0,G.e)((I,S)=>{let j=[];I.subscribe((0,ee.x)(S,$=>{j.push($),k<j.length&&j.shift()},()=>{for(const $ of j)S.next($);S.complete()},void 0,()=>{j=null}))})}var Ze=A(8068),ft=A(6590),ve=A(4671),we=A(4004),qe=A(3900),Ee=A(5698),It=A(8675),Ft=A(4351),Sn=A(590),Rt=A(5577),Et=A(8505),Ht=A(8189),yn=A(9808);class rr{constructor(I,S){this.id=I,this.url=S}}class $n extends rr{constructor(I,S,j="imperative",$=null){super(I,S),this.navigationTrigger=j,this.restoredState=$}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Dr extends rr{constructor(I,S,j){super(I,S),this.urlAfterRedirects=j}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class br extends rr{constructor(I,S,j){super(I,S),this.reason=j}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class vr extends rr{constructor(I,S,j){super(I,S),this.error=j}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ni extends rr{constructor(I,S,j,$){super(I,S),this.urlAfterRedirects=j,this.state=$}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class xr extends rr{constructor(I,S,j,$){super(I,S),this.urlAfterRedirects=j,this.state=$}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jr extends rr{constructor(I,S,j,$,ue){super(I,S),this.urlAfterRedirects=j,this.state=$,this.shouldActivate=ue}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ni extends rr{constructor(I,S,j,$){super(I,S),this.urlAfterRedirects=j,this.state=$}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ei extends rr{constructor(I,S,j,$){super(I,S),this.urlAfterRedirects=j,this.state=$}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kr{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Zr{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Bi{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Bn{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class zi{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Qr{constructor(I,S,j){this.routerEvent=I,this.position=S,this.anchor=j}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Fe="primary";class gt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const S=this.params[I];return Array.isArray(S)?S[0]:S}return null}getAll(I){if(this.has(I)){const S=this.params[I];return Array.isArray(S)?S:[S]}return[]}get keys(){return Object.keys(this.params)}}function Be(k){return new gt(k)}const ce="ngNavigationCancelingError";function ye(k){const I=Error("NavigationCancelingError: "+k);return I[ce]=!0,I}function ct(k,I,S){const j=S.path.split("/");if(j.length>k.length||"full"===S.pathMatch&&(I.hasChildren()||j.length<k.length))return null;const $={};for(let ue=0;ue<j.length;ue++){const Ue=j[ue],je=k[ue];if(Ue.startsWith(":"))$[Ue.substring(1)]=je;else if(Ue!==je.path)return null}return{consumed:k.slice(0,j.length),posParams:$}}function Ot(k,I){const S=k?Object.keys(k):void 0,j=I?Object.keys(I):void 0;if(!S||!j||S.length!=j.length)return!1;let $;for(let ue=0;ue<S.length;ue++)if($=S[ue],!dn(k[$],I[$]))return!1;return!0}function dn(k,I){if(Array.isArray(k)&&Array.isArray(I)){if(k.length!==I.length)return!1;const S=[...k].sort(),j=[...I].sort();return S.every(($,ue)=>j[ue]===$)}return k===I}function qt(k){return Array.prototype.concat.apply([],k)}function cn(k){return k.length>0?k[k.length-1]:null}function fn(k,I){for(const S in k)k.hasOwnProperty(S)&&I(k[S],S)}function Hn(k){return(0,p.CqO)(k)?k:(0,p.QGY)(k)?(0,K.D)(Promise.resolve(k)):(0,ie.of)(k)}const Xn={exact:function tn(k,I,S){if(!zt(k.segments,I.segments)||!Pe(k.segments,I.segments,S)||k.numberOfChildren!==I.numberOfChildren)return!1;for(const j in I.children)if(!k.children[j]||!tn(k.children[j],I.children[j],S))return!1;return!0},subset:Zn},kn={exact:function ht(k,I){return Ot(k,I)},subset:function vn(k,I){return Object.keys(I).length<=Object.keys(k).length&&Object.keys(I).every(S=>dn(k[S],I[S]))},ignored:()=>!0};function Bt(k,I,S){return Xn[S.paths](k.root,I.root,S.matrixParams)&&kn[S.queryParams](k.queryParams,I.queryParams)&&!("exact"===S.fragment&&k.fragment!==I.fragment)}function Zn(k,I,S){return jn(k,I,I.segments,S)}function jn(k,I,S,j){if(k.segments.length>S.length){const $=k.segments.slice(0,S.length);return!(!zt($,S)||I.hasChildren()||!Pe($,S,j))}if(k.segments.length===S.length){if(!zt(k.segments,S)||!Pe(k.segments,S,j))return!1;for(const $ in I.children)if(!k.children[$]||!Zn(k.children[$],I.children[$],j))return!1;return!0}{const $=S.slice(0,k.segments.length),ue=S.slice(k.segments.length);return!!(zt(k.segments,$)&&Pe(k.segments,$,j)&&k.children[Fe])&&jn(k.children[Fe],I,ue,j)}}function Pe(k,I,S){return I.every((j,$)=>kn[S](k[$].parameters,j.parameters))}class Se{constructor(I,S,j){this.root=I,this.queryParams=S,this.fragment=j}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return or.serialize(this)}}class be{constructor(I,S){this.segments=I,this.children=S,this.parent=null,fn(S,(j,$)=>j.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return sr(this)}}class lt{constructor(I,S){this.path=I,this.parameters=S}get parameterMap(){return this._parameterMap||(this._parameterMap=Be(this.parameters)),this._parameterMap}toString(){return gr(this)}}function zt(k,I){return k.length===I.length&&k.every((S,j)=>S.path===I[j].path)}class zn{}class ir{parse(I){const S=new tr(I);return new Se(S.parseRootSegment(),S.parseQueryParams(),S.parseFragment())}serialize(I){const S=`/${Cn(I.root,!0)}`,j=function on(k){const I=Object.keys(k).map(S=>{const j=k[S];return Array.isArray(j)?j.map($=>`${wn(S)}=${wn($)}`).join("&"):`${wn(S)}=${wn(j)}`}).filter(S=>!!S);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${S}${j}${"string"==typeof I.fragment?`#${function Qe(k){return encodeURI(k)}(I.fragment)}`:""}`}}const or=new ir;function sr(k){return k.segments.map(I=>gr(I)).join("/")}function Cn(k,I){if(!k.hasChildren())return sr(k);if(I){const S=k.children[Fe]?Cn(k.children[Fe],!1):"",j=[];return fn(k.children,($,ue)=>{ue!==Fe&&j.push(`${ue}:${Cn($,!1)}`)}),j.length>0?`${S}(${j.join("//")})`:S}{const S=function qn(k,I){let S=[];return fn(k.children,(j,$)=>{$===Fe&&(S=S.concat(I(j,$)))}),fn(k.children,(j,$)=>{$!==Fe&&(S=S.concat(I(j,$)))}),S}(k,(j,$)=>$===Fe?[Cn(k.children[Fe],!1)]:[`${$}:${Cn(j,!1)}`]);return 1===Object.keys(k.children).length&&null!=k.children[Fe]?`${sr(k)}/${S[0]}`:`${sr(k)}/(${S.join("//")})`}}function In(k){return encodeURIComponent(k).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function wn(k){return In(k).replace(/%3B/gi,";")}function wt(k){return In(k).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ln(k){return decodeURIComponent(k)}function Yn(k){return ln(k.replace(/\+/g,"%20"))}function gr(k){return`${wt(k.path)}${function Yt(k){return Object.keys(k).map(I=>`;${wt(I)}=${wt(k[I])}`).join("")}(k.parameters)}`}const et=/^[^\/()?;=#]+/;function Lt(k){const I=k.match(et);return I?I[0]:""}const gn=/^[^=?&#]+/,mn=/^[^&#]+/;class tr{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new be([],{}):new be([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let S={};this.peekStartsWith("/(")&&(this.capture("/"),S=this.parseParens(!0));let j={};return this.peekStartsWith("(")&&(j=this.parseParens(!1)),(I.length>0||Object.keys(S).length>0)&&(j[Fe]=new be(I,S)),j}parseSegment(){const I=Lt(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new lt(ln(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const S=Lt(this.remaining);if(!S)return;this.capture(S);let j="";if(this.consumeOptional("=")){const $=Lt(this.remaining);$&&(j=$,this.capture(j))}I[ln(S)]=ln(j)}parseQueryParam(I){const S=function xn(k){const I=k.match(gn);return I?I[0]:""}(this.remaining);if(!S)return;this.capture(S);let j="";if(this.consumeOptional("=")){const Ue=function Mn(k){const I=k.match(mn);return I?I[0]:""}(this.remaining);Ue&&(j=Ue,this.capture(j))}const $=Yn(S),ue=Yn(j);if(I.hasOwnProperty($)){let Ue=I[$];Array.isArray(Ue)||(Ue=[Ue],I[$]=Ue),Ue.push(ue)}else I[$]=ue}parseParens(I){const S={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const j=Lt(this.remaining),$=this.remaining[j.length];if("/"!==$&&")"!==$&&";"!==$)throw new Error(`Cannot parse url '${this.url}'`);let ue;j.indexOf(":")>-1?(ue=j.substr(0,j.indexOf(":")),this.capture(ue),this.capture(":")):I&&(ue=Fe);const Ue=this.parseChildren();S[ue]=1===Object.keys(Ue).length?Ue[Fe]:new be([],Ue),this.consumeOptional("//")}return S}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class pn{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const S=this.pathFromRoot(I);return S.length>1?S[S.length-2]:null}children(I){const S=Vn(I,this._root);return S?S.children.map(j=>j.value):[]}firstChild(I){const S=Vn(I,this._root);return S&&S.children.length>0?S.children[0].value:null}siblings(I){const S=Or(I,this._root);return S.length<2?[]:S[S.length-2].children.map($=>$.value).filter($=>$!==I)}pathFromRoot(I){return Or(I,this._root).map(S=>S.value)}}function Vn(k,I){if(k===I.value)return I;for(const S of I.children){const j=Vn(k,S);if(j)return j}return null}function Or(k,I){if(k===I.value)return[I];for(const S of I.children){const j=Or(k,S);if(j.length)return j.unshift(I),j}return[]}class Qn{constructor(I,S){this.value=I,this.children=S}toString(){return`TreeNode(${this.value})`}}function Lr(k){const I={};return k&&k.children.forEach(S=>I[S.value.outlet]=S),I}class Di extends pn{constructor(I,S){super(I),this.snapshot=S,bt(this,I)}toString(){return this.snapshot.toString()}}function io(k,I){const S=function Wi(k,I){const Ue=new st([],{},{},"",{},Fe,I,null,k.root,-1,{});return new We("",new Qn(Ue,[]))}(k,I),j=new ge.X([new lt("",{})]),$=new ge.X({}),ue=new ge.X({}),Ue=new ge.X({}),je=new ge.X(""),Nt=new Wr(j,$,Ue,je,ue,Fe,I,S.root);return Nt.snapshot=S.root,new Di(new Qn(Nt,[]),S)}class Wr{constructor(I,S,j,$,ue,Ue,je,Nt){this.url=I,this.params=S,this.queryParams=j,this.fragment=$,this.data=ue,this.outlet=Ue,this.component=je,this._futureSnapshot=Nt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,we.U)(I=>Be(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,we.U)(I=>Be(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $i(k,I="emptyOnly"){const S=k.pathFromRoot;let j=0;if("always"!==I)for(j=S.length-1;j>=1;){const $=S[j],ue=S[j-1];if($.routeConfig&&""===$.routeConfig.path)j--;else{if(ue.component)break;j--}}return function Jr(k){return k.reduce((I,S)=>({params:Object.assign(Object.assign({},I.params),S.params),data:Object.assign(Object.assign({},I.data),S.data),resolve:Object.assign(Object.assign({},I.resolve),S._resolvedData)}),{params:{},data:{},resolve:{}})}(S.slice(j))}class st{constructor(I,S,j,$,ue,Ue,je,Nt,En,Rn,At){this.url=I,this.params=S,this.queryParams=j,this.fragment=$,this.data=ue,this.outlet=Ue,this.component=je,this.routeConfig=Nt,this._urlSegment=En,this._lastPathIndex=Rn,this._resolve=At}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Be(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Be(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(j=>j.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class We extends pn{constructor(I,S){super(S),this.url=I,bt(this,S)}toString(){return Vt(this._root)}}function bt(k,I){I.value._routerState=k,I.children.forEach(S=>bt(k,S))}function Vt(k){const I=k.children.length>0?` { ${k.children.map(Vt).join(", ")} } `:"";return`${k.value}${I}`}function $t(k){if(k.snapshot){const I=k.snapshot,S=k._futureSnapshot;k.snapshot=S,Ot(I.queryParams,S.queryParams)||k.queryParams.next(S.queryParams),I.fragment!==S.fragment&&k.fragment.next(S.fragment),Ot(I.params,S.params)||k.params.next(S.params),function yt(k,I){if(k.length!==I.length)return!1;for(let S=0;S<k.length;++S)if(!Ot(k[S],I[S]))return!1;return!0}(I.url,S.url)||k.url.next(S.url),Ot(I.data,S.data)||k.data.next(S.data)}else k.snapshot=k._futureSnapshot,k.data.next(k._futureSnapshot.data)}function bn(k,I){const S=Ot(k.params,I.params)&&function $e(k,I){return zt(k,I)&&k.every((S,j)=>Ot(S.parameters,I[j].parameters))}(k.url,I.url);return S&&!(!k.parent!=!I.parent)&&(!k.parent||bn(k.parent,I.parent))}function Vr(k,I,S){if(S&&k.shouldReuseRoute(I.value,S.value.snapshot)){const j=S.value;j._futureSnapshot=I.value;const $=function Ir(k,I,S){return I.children.map(j=>{for(const $ of S.children)if(k.shouldReuseRoute(j.value,$.value.snapshot))return Vr(k,j,$);return Vr(k,j)})}(k,I,S);return new Qn(j,$)}{if(k.shouldAttach(I.value)){const ue=k.retrieve(I.value);if(null!==ue){const Ue=ue.route;return Ue.value._futureSnapshot=I.value,Ue.children=I.children.map(je=>Vr(k,je)),Ue}}const j=function mi(k){return new Wr(new ge.X(k.url),new ge.X(k.params),new ge.X(k.queryParams),new ge.X(k.fragment),new ge.X(k.data),k.outlet,k.component,k)}(I.value),$=I.children.map(ue=>Vr(k,ue));return new Qn(j,$)}}function Hi(k){return"object"==typeof k&&null!=k&&!k.outlets&&!k.segmentPath}function Eo(k){return"object"==typeof k&&null!=k&&k.outlets}function Ui(k,I,S,j,$){let ue={};if(j&&fn(j,(je,Nt)=>{ue[Nt]=Array.isArray(je)?je.map(En=>`${En}`):`${je}`}),k===I)return new Se(S,ue,$);const Ue=bs(k,I,S);return new Se(Ue,ue,$)}function bs(k,I,S){const j={};return fn(k.children,($,ue)=>{j[ue]=$===I?S:bs($,I,S)}),new be(k.segments,j)}class is{constructor(I,S,j){if(this.isAbsolute=I,this.numberOfDoubleDots=S,this.commands=j,I&&j.length>0&&Hi(j[0]))throw new Error("Root segment cannot have matrix parameters");const $=j.find(Eo);if($&&$!==cn(j))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Ko{constructor(I,S,j){this.segmentGroup=I,this.processChildren=S,this.index=j}}function Zi(k,I,S){if(k||(k=new be([],{})),0===k.segments.length&&k.hasChildren())return Do(k,I,S);const j=function Is(k,I,S){let j=0,$=I;const ue={match:!1,pathIndex:0,commandIndex:0};for(;$<k.segments.length;){if(j>=S.length)return ue;const Ue=k.segments[$],je=S[j];if(Eo(je))break;const Nt=`${je}`,En=j<S.length-1?S[j+1]:null;if($>0&&void 0===Nt)break;if(Nt&&En&&"object"==typeof En&&void 0===En.outlets){if(!ss(Nt,En,Ue))return ue;j+=2}else{if(!ss(Nt,{},Ue))return ue;j++}$++}return{match:!0,pathIndex:$,commandIndex:j}}(k,I,S),$=S.slice(j.commandIndex);if(j.match&&j.pathIndex<k.segments.length){const ue=new be(k.segments.slice(0,j.pathIndex),{});return ue.children[Fe]=new be(k.segments.slice(j.pathIndex),k.children),Do(ue,0,$)}return j.match&&0===$.length?new be(k.segments,{}):j.match&&!k.hasChildren()?Jo(k,I,S):j.match?Do(k,0,$):Jo(k,I,S)}function Do(k,I,S){if(0===S.length)return new be(k.segments,{});{const j=function so(k){return Eo(k[0])?k[0].outlets:{[Fe]:k}}(S),$={};return fn(j,(ue,Ue)=>{"string"==typeof ue&&(ue=[ue]),null!==ue&&($[Ue]=Zi(k.children[Ue],I,ue))}),fn(k.children,(ue,Ue)=>{void 0===j[Ue]&&($[Ue]=ue)}),new be(k.segments,$)}}function Jo(k,I,S){const j=k.segments.slice(0,I);let $=0;for(;$<S.length;){const ue=S[$];if(Eo(ue)){const Nt=Si(ue.outlets);return new be(j,Nt)}if(0===$&&Hi(S[0])){j.push(new lt(k.segments[I].path,vo(S[0]))),$++;continue}const Ue=Eo(ue)?ue.outlets[Fe]:`${ue}`,je=$<S.length-1?S[$+1]:null;Ue&&je&&Hi(je)?(j.push(new lt(Ue,vo(je))),$+=2):(j.push(new lt(Ue,{})),$++)}return new be(j,{})}function Si(k){const I={};return fn(k,(S,j)=>{"string"==typeof S&&(S=[S]),null!==S&&(I[j]=Jo(new be([],{}),0,S))}),I}function vo(k){const I={};return fn(k,(S,j)=>I[j]=`${S}`),I}function ss(k,I,S){return k==S.path&&Ot(I,S.parameters)}class Ce{constructor(I,S,j,$){this.routeReuseStrategy=I,this.futureState=S,this.currState=j,this.forwardEvent=$}activate(I){const S=this.futureState._root,j=this.currState?this.currState._root:null;this.deactivateChildRoutes(S,j,I),$t(this.futureState.root),this.activateChildRoutes(S,j,I)}deactivateChildRoutes(I,S,j){const $=Lr(S);I.children.forEach(ue=>{const Ue=ue.value.outlet;this.deactivateRoutes(ue,$[Ue],j),delete $[Ue]}),fn($,(ue,Ue)=>{this.deactivateRouteAndItsChildren(ue,j)})}deactivateRoutes(I,S,j){const $=I.value,ue=S?S.value:null;if($===ue)if($.component){const Ue=j.getContext($.outlet);Ue&&this.deactivateChildRoutes(I,S,Ue.children)}else this.deactivateChildRoutes(I,S,j);else ue&&this.deactivateRouteAndItsChildren(S,j)}deactivateRouteAndItsChildren(I,S){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,S):this.deactivateRouteAndOutlet(I,S)}detachAndStoreRouteSubtree(I,S){const j=S.getContext(I.value.outlet),$=j&&I.value.component?j.children:S,ue=Lr(I);for(const Ue of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ue],$);if(j&&j.outlet){const Ue=j.outlet.detach(),je=j.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:Ue,route:I,contexts:je})}}deactivateRouteAndOutlet(I,S){const j=S.getContext(I.value.outlet),$=j&&I.value.component?j.children:S,ue=Lr(I);for(const Ue of Object.keys(ue))this.deactivateRouteAndItsChildren(ue[Ue],$);j&&j.outlet&&(j.outlet.deactivate(),j.children.onOutletDeactivated(),j.attachRef=null,j.resolver=null,j.route=null)}activateChildRoutes(I,S,j){const $=Lr(S);I.children.forEach(ue=>{this.activateRoutes(ue,$[ue.value.outlet],j),this.forwardEvent(new ri(ue.value.snapshot))}),I.children.length&&this.forwardEvent(new Bn(I.value.snapshot))}activateRoutes(I,S,j){const $=I.value,ue=S?S.value:null;if($t($),$===ue)if($.component){const Ue=j.getOrCreateContext($.outlet);this.activateChildRoutes(I,S,Ue.children)}else this.activateChildRoutes(I,S,j);else if($.component){const Ue=j.getOrCreateContext($.outlet);if(this.routeReuseStrategy.shouldAttach($.snapshot)){const je=this.routeReuseStrategy.retrieve($.snapshot);this.routeReuseStrategy.store($.snapshot,null),Ue.children.onOutletReAttached(je.contexts),Ue.attachRef=je.componentRef,Ue.route=je.route.value,Ue.outlet&&Ue.outlet.attach(je.componentRef,je.route.value),$t(je.route.value),this.activateChildRoutes(I,null,Ue.children)}else{const je=function Oe(k){for(let I=k.parent;I;I=I.parent){const S=I.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig;if(S&&S.component)return null}return null}($.snapshot),Nt=je?je.module.componentFactoryResolver:null;Ue.attachRef=null,Ue.route=$,Ue.resolver=Nt,Ue.outlet&&Ue.outlet.activateWith($,Nt),this.activateChildRoutes(I,null,Ue.children)}}else this.activateChildRoutes(I,null,j)}}class de{constructor(I,S){this.routes=I,this.module=S}}function R(k){return"function"==typeof k}function W(k){return k instanceof Se}const Le=Symbol("INITIAL_VALUE");function ut(){return(0,qe.w)(k=>(0,dt.a)(k.map(I=>I.pipe((0,Ee.q)(1),(0,It.O)(Le)))).pipe(_t((I,S)=>{let j=!1;return S.reduce(($,ue,Ue)=>$!==Le?$:(ue===Le&&(j=!0),j||!1!==ue&&Ue!==S.length-1&&!W(ue)?$:ue),I)},Le),(0,Ae.h)(I=>I!==Le),(0,we.U)(I=>W(I)?I:!0===I),(0,Ee.q)(1)))}class re{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Ie,this.attachRef=null}}class Ie{constructor(){this.contexts=new Map}onChildOutletCreated(I,S){const j=this.getOrCreateContext(I);j.outlet=S,this.contexts.set(I,j)}onChildOutletDestroyed(I){const S=this.getContext(I);S&&(S.outlet=null,S.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let S=this.getContext(I);return S||(S=new re,this.contexts.set(I,S)),S}getContext(I){return this.contexts.get(I)||null}}let Ve=(()=>{class k{constructor(S,j,$,ue,Ue){this.parentContexts=S,this.location=j,this.resolver=$,this.changeDetector=Ue,this.activated=null,this._activatedRoute=null,this.activateEvents=new p.vpe,this.deactivateEvents=new p.vpe,this.attachEvents=new p.vpe,this.detachEvents=new p.vpe,this.name=ue||Fe,S.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const S=this.parentContexts.getContext(this.name);S&&S.route&&(S.attachRef?this.attach(S.attachRef,S.route):this.activateWith(S.route,S.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const S=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(S.instance),S}attach(S,j){this.activated=S,this._activatedRoute=j,this.location.insert(S.hostView),this.attachEvents.emit(S.instance)}deactivate(){if(this.activated){const S=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(S)}}activateWith(S,j){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=S;const Ue=(j=j||this.resolver).resolveComponentFactory(S._futureSnapshot.routeConfig.component),je=this.parentContexts.getOrCreateContext(this.name).children,Nt=new Tt(S,je,this.location.injector);this.activated=this.location.createComponent(Ue,this.location.length,Nt),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return k.\u0275fac=function(S){return new(S||k)(p.Y36(Ie),p.Y36(p.s_b),p.Y36(p._Vd),p.$8M("name"),p.Y36(p.sBO))},k.\u0275dir=p.lG2({type:k,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),k})();class Tt{constructor(I,S,j){this.route=I,this.childContexts=S,this.parent=j}get(I,S){return I===Wr?this.route:I===Ie?this.childContexts:this.parent.get(I,S)}}let hn=(()=>{class k{}return k.\u0275fac=function(S){return new(S||k)},k.\u0275cmp=p.Xpm({type:k,selectors:[["ng-component"]],decls:1,vars:0,template:function(S,j){1&S&&p._UZ(0,"router-outlet")},directives:[Ve],encapsulation:2}),k})();function An(k,I=""){for(let S=0;S<k.length;S++){const j=k[S];Pn(j,Fn(I,j))}}function Pn(k,I){k.children&&An(k.children,I)}function Fn(k,I){return I?k||I.path?k&&!I.path?`${k}/`:!k&&I.path?I.path:`${k}/${I.path}`:"":k}function dr(k){const I=k.children&&k.children.map(dr),S=I?Object.assign(Object.assign({},k),{children:I}):Object.assign({},k);return!S.component&&(I||S.loadChildren)&&S.outlet&&S.outlet!==Fe&&(S.component=hn),S}function Mr(k){return k.outlet||Fe}function Xr(k,I){const S=k.filter(j=>Mr(j)===I);return S.push(...k.filter(j=>Mr(j)!==I)),S}const Ki={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jo(k,I,S){var j;if(""===I.path)return"full"===I.pathMatch&&(k.hasChildren()||S.length>0)?Object.assign({},Ki):{matched:!0,consumedSegments:[],remainingSegments:S,parameters:{},positionalParamSegments:{}};const ue=(I.matcher||ct)(S,k,I);if(!ue)return Object.assign({},Ki);const Ue={};fn(ue.posParams,(Nt,En)=>{Ue[En]=Nt.path});const je=ue.consumed.length>0?Object.assign(Object.assign({},Ue),ue.consumed[ue.consumed.length-1].parameters):Ue;return{matched:!0,consumedSegments:ue.consumed,remainingSegments:S.slice(ue.consumed.length),parameters:je,positionalParamSegments:null!==(j=ue.posParams)&&void 0!==j?j:{}}}function Gr(k,I,S,j,$="corrected"){if(S.length>0&&function V(k,I,S){return S.some(j=>Ye(k,I,j)&&Mr(j)!==Fe)}(k,S,j)){const Ue=new be(I,function le(k,I,S,j){const $={};$[Fe]=j,j._sourceSegment=k,j._segmentIndexShift=I.length;for(const ue of S)if(""===ue.path&&Mr(ue)!==Fe){const Ue=new be([],{});Ue._sourceSegment=k,Ue._segmentIndexShift=I.length,$[Mr(ue)]=Ue}return $}(k,I,j,new be(S,k.children)));return Ue._sourceSegment=k,Ue._segmentIndexShift=I.length,{segmentGroup:Ue,slicedSegments:[]}}if(0===S.length&&function pe(k,I,S){return S.some(j=>Ye(k,I,j))}(k,S,j)){const Ue=new be(k.segments,function H(k,I,S,j,$,ue){const Ue={};for(const je of j)if(Ye(k,S,je)&&!$[Mr(je)]){const Nt=new be([],{});Nt._sourceSegment=k,Nt._segmentIndexShift="legacy"===ue?k.segments.length:I.length,Ue[Mr(je)]=Nt}return Object.assign(Object.assign({},$),Ue)}(k,I,S,j,k.children,$));return Ue._sourceSegment=k,Ue._segmentIndexShift=I.length,{segmentGroup:Ue,slicedSegments:S}}const ue=new be(k.segments,k.children);return ue._sourceSegment=k,ue._segmentIndexShift=I.length,{segmentGroup:ue,slicedSegments:S}}function Ye(k,I,S){return(!(k.hasChildren()||I.length>0)||"full"!==S.pathMatch)&&""===S.path}function Mt(k,I,S,j){return!!(Mr(k)===j||j!==Fe&&Ye(I,S,k))&&("**"===k.path||jo(I,k,S).matched)}function Wt(k,I,S){return 0===I.length&&!k.children[S]}class Tn{constructor(I){this.segmentGroup=I||null}}class ii{constructor(I){this.urlTree=I}}function Fr(k){return N(new Tn(k))}function Br(k){return N(new ii(k))}class si{constructor(I,S,j,$,ue){this.configLoader=S,this.urlSerializer=j,this.urlTree=$,this.config=ue,this.allowRedirects=!0,this.ngModule=I.get(p.h0i)}apply(){const I=Gr(this.urlTree.root,[],[],this.config).segmentGroup,S=new be(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,S,Fe).pipe((0,we.U)(ue=>this.createUrlTree(Vo(ue),this.urlTree.queryParams,this.urlTree.fragment))).pipe(rt(ue=>{if(ue instanceof ii)return this.allowRedirects=!1,this.match(ue.urlTree);throw ue instanceof Tn?this.noMatchError(ue):ue}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,Fe).pipe((0,we.U)($=>this.createUrlTree(Vo($),I.queryParams,I.fragment))).pipe(rt($=>{throw $ instanceof Tn?this.noMatchError($):$}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,S,j){const $=I.segments.length>0?new be([],{[Fe]:I}):I;return new Se($,S,j)}expandSegmentGroup(I,S,j,$){return 0===j.segments.length&&j.hasChildren()?this.expandChildren(I,S,j).pipe((0,we.U)(ue=>new be([],ue))):this.expandSegment(I,j,S,j.segments,$,!0)}expandChildren(I,S,j){const $=[];for(const ue of Object.keys(j.children))"primary"===ue?$.unshift(ue):$.push(ue);return(0,K.D)($).pipe((0,Ft.b)(ue=>{const Ue=j.children[ue],je=Xr(S,ue);return this.expandSegmentGroup(I,je,Ue,ue).pipe((0,we.U)(Nt=>({segment:Nt,outlet:ue})))}),_t((ue,Ue)=>(ue[Ue.outlet]=Ue.segment,ue),{}),function me(k,I){const S=arguments.length>=2;return j=>j.pipe(k?(0,Ae.h)(($,ue)=>k($,ue,j)):ve.y,it(1),S?(0,ft.d)(I):(0,Ze.T)(()=>new Xe.K))}())}expandSegment(I,S,j,$,ue,Ue){return(0,K.D)(j).pipe((0,Ft.b)(je=>this.expandSegmentAgainstRoute(I,S,j,je,$,ue,Ue).pipe(rt(En=>{if(En instanceof Tn)return(0,ie.of)(null);throw En}))),(0,Sn.P)(je=>!!je),rt((je,Nt)=>{if(je instanceof Xe.K||"EmptyError"===je.name)return Wt(S,$,ue)?(0,ie.of)(new be([],{})):Fr(S);throw je}))}expandSegmentAgainstRoute(I,S,j,$,ue,Ue,je){return Mt($,S,ue,Ue)?void 0===$.redirectTo?this.matchSegmentAgainstRoute(I,S,$,ue,Ue):je&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,S,j,$,ue,Ue):Fr(S):Fr(S)}expandSegmentAgainstRouteUsingRedirect(I,S,j,$,ue,Ue){return"**"===$.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,j,$,Ue):this.expandRegularSegmentAgainstRouteUsingRedirect(I,S,j,$,ue,Ue)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,S,j,$){const ue=this.applyRedirectCommands([],j.redirectTo,{});return j.redirectTo.startsWith("/")?Br(ue):this.lineralizeSegments(j,ue).pipe((0,Rt.z)(Ue=>{const je=new be(Ue,{});return this.expandSegment(I,je,S,Ue,$,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,S,j,$,ue,Ue){const{matched:je,consumedSegments:Nt,remainingSegments:En,positionalParamSegments:Rn}=jo(S,$,ue);if(!je)return Fr(S);const At=this.applyRedirectCommands(Nt,$.redirectTo,Rn);return $.redirectTo.startsWith("/")?Br(At):this.lineralizeSegments($,At).pipe((0,Rt.z)(Rr=>this.expandSegment(I,S,j,Rr.concat(En),Ue,!1)))}matchSegmentAgainstRoute(I,S,j,$,ue){if("**"===j.path)return j.loadChildren?(j._loadedConfig?(0,ie.of)(j._loadedConfig):this.configLoader.load(I.injector,j)).pipe((0,we.U)(At=>(j._loadedConfig=At,new be($,{})))):(0,ie.of)(new be($,{}));const{matched:Ue,consumedSegments:je,remainingSegments:Nt}=jo(S,j,$);return Ue?this.getChildConfig(I,j,$).pipe((0,Rt.z)(Rn=>{const At=Rn.module,Rr=Rn.routes,{segmentGroup:Tr,slicedSegments:ei}=Gr(S,je,Nt,Rr),xi=new be(Tr.segments,Tr.children);if(0===ei.length&&xi.hasChildren())return this.expandChildren(At,Rr,xi).pipe((0,we.U)(ls=>new be(je,ls)));if(0===Rr.length&&0===ei.length)return(0,ie.of)(new be(je,{}));const lr=Mr(j)===ue;return this.expandSegment(At,xi,Rr,ei,lr?Fe:ue,!0).pipe((0,we.U)(Ji=>new be(je.concat(Ji.segments),Ji.children)))})):Fr(S)}getChildConfig(I,S,j){return S.children?(0,ie.of)(new de(S.children,I)):S.loadChildren?void 0!==S._loadedConfig?(0,ie.of)(S._loadedConfig):this.runCanLoadGuards(I.injector,S,j).pipe((0,Rt.z)($=>$?this.configLoader.load(I.injector,S).pipe((0,we.U)(ue=>(S._loadedConfig=ue,ue))):function Pi(k){return N(ye(`Cannot load children because the guard of the route "path: '${k.path}'" returned false`))}(S))):(0,ie.of)(new de([],I))}runCanLoadGuards(I,S,j){const $=S.canLoad;if(!$||0===$.length)return(0,ie.of)(!0);const ue=$.map(Ue=>{const je=I.get(Ue);let Nt;if(function ne(k){return k&&R(k.canLoad)}(je))Nt=je.canLoad(S,j);else{if(!R(je))throw new Error("Invalid CanLoad guard");Nt=je(S,j)}return Hn(Nt)});return(0,ie.of)(ue).pipe(ut(),(0,Et.b)(Ue=>{if(!W(Ue))return;const je=ye(`Redirecting to "${this.urlSerializer.serialize(Ue)}"`);throw je.url=Ue,je}),(0,we.U)(Ue=>!0===Ue))}lineralizeSegments(I,S){let j=[],$=S.root;for(;;){if(j=j.concat($.segments),0===$.numberOfChildren)return(0,ie.of)(j);if($.numberOfChildren>1||!$.children[Fe])return N(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));$=$.children[Fe]}}applyRedirectCommands(I,S,j){return this.applyRedirectCreatreUrlTree(S,this.urlSerializer.parse(S),I,j)}applyRedirectCreatreUrlTree(I,S,j,$){const ue=this.createSegmentGroup(I,S.root,j,$);return new Se(ue,this.createQueryParams(S.queryParams,this.urlTree.queryParams),S.fragment)}createQueryParams(I,S){const j={};return fn(I,($,ue)=>{if("string"==typeof $&&$.startsWith(":")){const je=$.substring(1);j[ue]=S[je]}else j[ue]=$}),j}createSegmentGroup(I,S,j,$){const ue=this.createSegments(I,S.segments,j,$);let Ue={};return fn(S.children,(je,Nt)=>{Ue[Nt]=this.createSegmentGroup(I,je,j,$)}),new be(ue,Ue)}createSegments(I,S,j,$){return S.map(ue=>ue.path.startsWith(":")?this.findPosParam(I,ue,$):this.findOrReturn(ue,j))}findPosParam(I,S,j){const $=j[S.path.substring(1)];if(!$)throw new Error(`Cannot redirect to '${I}'. Cannot find '${S.path}'.`);return $}findOrReturn(I,S){let j=0;for(const $ of S){if($.path===I.path)return S.splice(j),$;j++}return I}}function Vo(k){const I={};for(const j of Object.keys(k.children)){const ue=Vo(k.children[j]);(ue.segments.length>0||ue.hasChildren())&&(I[j]=ue)}return function ko(k){if(1===k.numberOfChildren&&k.children[Fe]){const I=k.children[Fe];return new be(k.segments.concat(I.segments),I.children)}return k}(new be(k.segments,I))}class Ps{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class Go{constructor(I,S){this.component=I,this.route=S}}function as(k,I,S){const j=k._root;return cs(j,I?I._root:null,S,[j.value])}function ws(k,I,S){const j=function Qa(k){if(!k)return null;for(let I=k.parent;I;I=I.parent){const S=I.routeConfig;if(S&&S._loadedConfig)return S._loadedConfig}return null}(I);return(j?j.module.injector:S).get(k)}function cs(k,I,S,j,$={canDeactivateChecks:[],canActivateChecks:[]}){const ue=Lr(I);return k.children.forEach(Ue=>{(function Xt(k,I,S,j,$={canDeactivateChecks:[],canActivateChecks:[]}){const ue=k.value,Ue=I?I.value:null,je=S?S.getContext(k.value.outlet):null;if(Ue&&ue.routeConfig===Ue.routeConfig){const Nt=function cr(k,I,S){if("function"==typeof S)return S(k,I);switch(S){case"pathParamsChange":return!zt(k.url,I.url);case"pathParamsOrQueryParamsChange":return!zt(k.url,I.url)||!Ot(k.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!bn(k,I)||!Ot(k.queryParams,I.queryParams);default:return!bn(k,I)}}(Ue,ue,ue.routeConfig.runGuardsAndResolvers);Nt?$.canActivateChecks.push(new Ps(j)):(ue.data=Ue.data,ue._resolvedData=Ue._resolvedData),cs(k,I,ue.component?je?je.children:null:S,j,$),Nt&&je&&je.outlet&&je.outlet.isActivated&&$.canDeactivateChecks.push(new Go(je.outlet.component,Ue))}else Ue&&Ia(I,je,$),$.canActivateChecks.push(new Ps(j)),cs(k,null,ue.component?je?je.children:null:S,j,$)})(Ue,ue[Ue.value.outlet],S,j.concat([Ue.value]),$),delete ue[Ue.value.outlet]}),fn(ue,(Ue,je)=>Ia(Ue,S.getContext(je),$)),$}function Ia(k,I,S){const j=Lr(k),$=k.value;fn(j,(ue,Ue)=>{Ia(ue,$.component?I?I.children.getContext(Ue):null:I,S)}),S.canDeactivateChecks.push(new Go($.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,$))}class nl{}function Lo(k){return new e.y(I=>I.error(k))}class fa{constructor(I,S,j,$,ue,Ue){this.rootComponentType=I,this.config=S,this.urlTree=j,this.url=$,this.paramsInheritanceStrategy=ue,this.relativeLinkResolution=Ue}recognize(){const I=Gr(this.urlTree.root,[],[],this.config.filter(Ue=>void 0===Ue.redirectTo),this.relativeLinkResolution).segmentGroup,S=this.processSegmentGroup(this.config,I,Fe);if(null===S)return null;const j=new st([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Fe,this.rootComponentType,null,this.urlTree.root,-1,{}),$=new Qn(j,S),ue=new We(this.url,$);return this.inheritParamsAndData(ue._root),ue}inheritParamsAndData(I){const S=I.value,j=$i(S,this.paramsInheritanceStrategy);S.params=Object.freeze(j.params),S.data=Object.freeze(j.data),I.children.forEach($=>this.inheritParamsAndData($))}processSegmentGroup(I,S,j){return 0===S.segments.length&&S.hasChildren()?this.processChildren(I,S):this.processSegment(I,S,S.segments,j)}processChildren(I,S){const j=[];for(const ue of Object.keys(S.children)){const Ue=S.children[ue],je=Xr(I,ue),Nt=this.processSegmentGroup(je,Ue,ue);if(null===Nt)return null;j.push(...Nt)}const $=Nc(j);return function pa(k){k.sort((I,S)=>I.value.outlet===Fe?-1:S.value.outlet===Fe?1:I.value.outlet.localeCompare(S.value.outlet))}($),$}processSegment(I,S,j,$){for(const ue of I){const Ue=this.processSegmentAgainstRoute(ue,S,j,$);if(null!==Ue)return Ue}return Wt(S,j,$)?[]:null}processSegmentAgainstRoute(I,S,j,$){if(I.redirectTo||!Mt(I,S,j,$))return null;let ue,Ue=[],je=[];if("**"===I.path){const Tr=j.length>0?cn(j).parameters:{};ue=new st(j,Tr,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(I),Mr(I),I.component,I,rl(S),ga(S)+j.length,ma(I))}else{const Tr=jo(S,I,j);if(!Tr.matched)return null;Ue=Tr.consumedSegments,je=Tr.remainingSegments,ue=new st(Ue,Tr.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Xs(I),Mr(I),I.component,I,rl(S),ga(S)+Ue.length,ma(I))}const Nt=function Os(k){return k.children?k.children:k.loadChildren?k._loadedConfig.routes:[]}(I),{segmentGroup:En,slicedSegments:Rn}=Gr(S,Ue,je,Nt.filter(Tr=>void 0===Tr.redirectTo),this.relativeLinkResolution);if(0===Rn.length&&En.hasChildren()){const Tr=this.processChildren(Nt,En);return null===Tr?null:[new Qn(ue,Tr)]}if(0===Nt.length&&0===Rn.length)return[new Qn(ue,[])];const At=Mr(I)===$,Rr=this.processSegment(Nt,En,Rn,At?Fe:$);return null===Rr?null:[new Qn(ue,Rr)]}}function Qo(k){const I=k.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Nc(k){const I=[],S=new Set;for(const j of k){if(!Qo(j)){I.push(j);continue}const $=I.find(ue=>j.value.routeConfig===ue.value.routeConfig);void 0!==$?($.children.push(...j.children),S.add($)):I.push(j)}for(const j of S){const $=Nc(j.children);I.push(new Qn(j.value,$))}return I.filter(j=>!S.has(j))}function rl(k){let I=k;for(;I._sourceSegment;)I=I._sourceSegment;return I}function ga(k){let I=k,S=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,S+=I._segmentIndexShift?I._segmentIndexShift:0;return S-1}function Xs(k){return k.data||{}}function ma(k){return k.resolve||{}}function Ma(k){return[...Object.keys(k),...Object.getOwnPropertySymbols(k)]}function Na(k){return(0,qe.w)(I=>{const S=k(I);return S?(0,K.D)(S).pipe((0,we.U)(()=>I)):(0,ie.of)(I)})}class ea extends class _c{shouldDetach(I){return!1}store(I,S){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,S){return I.routeConfig===S.routeConfig}}{}const js=new p.OlP("ROUTES");class vc{constructor(I,S,j,$){this.injector=I,this.compiler=S,this.onLoadStartListener=j,this.onLoadEndListener=$}load(I,S){if(S._loader$)return S._loader$;this.onLoadStartListener&&this.onLoadStartListener(S);const $=this.loadModuleFactory(S.loadChildren).pipe((0,we.U)(ue=>{this.onLoadEndListener&&this.onLoadEndListener(S);const Ue=ue.create(I);return new de(qt(Ue.injector.get(js,void 0,p.XFs.Self|p.XFs.Optional)).map(dr),Ue)}),rt(ue=>{throw S._loader$=void 0,ue}));return S._loader$=new Q($,()=>new Ge.x).pipe(Y()),S._loader$}loadModuleFactory(I){return Hn(I()).pipe((0,Rt.z)(S=>S instanceof p.YKP?(0,ie.of)(S):(0,K.D)(this.compiler.compileModuleAsync(S))))}}class _a{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,S){return I}}function Vi(k){throw k}function ec(k,I,S){return I.parse("/")}function Ts(k,I){return(0,ie.of)(null)}const mu={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},kc={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let go=(()=>{class k{constructor(S,j,$,ue,Ue,je,Nt){this.rootComponentType=S,this.urlSerializer=j,this.rootContexts=$,this.location=ue,this.config=Nt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ge.x,this.errorHandler=Vi,this.malformedUriErrorHandler=ec,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Ts,afterPreactivation:Ts},this.urlHandlingStrategy=new _a,this.routeReuseStrategy=new ea,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=Ue.get(p.h0i),this.console=Ue.get(p.c2e);const At=Ue.get(p.R0b);this.isNgZoneEnabled=At instanceof p.R0b&&p.R0b.isInAngularZone(),this.resetConfig(Nt),this.currentUrlTree=function jt(){return new Se(new be([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new vc(Ue,je,Rr=>this.triggerEvent(new Kr(Rr)),Rr=>this.triggerEvent(new Zr(Rr))),this.routerState=io(this.currentUrlTree,this.rootComponentType),this.transitions=new ge.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var S;return null===(S=this.location.getState())||void 0===S?void 0:S.\u0275routerPageId}setupNavigations(S){const j=this.events;return S.pipe((0,Ae.h)($=>0!==$.id),(0,we.U)($=>Object.assign(Object.assign({},$),{extractedUrl:this.urlHandlingStrategy.extract($.rawUrl)})),(0,qe.w)($=>{let ue=!1,Ue=!1;return(0,ie.of)($).pipe((0,Et.b)(je=>{this.currentNavigation={id:je.id,initialUrl:je.currentRawUrl,extractedUrl:je.extractedUrl,trigger:je.source,extras:je.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,qe.w)(je=>{const Nt=this.browserUrlTree.toString(),En=!this.navigated||je.extractedUrl.toString()!==Nt||Nt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||En)&&this.urlHandlingStrategy.shouldProcessUrl(je.rawUrl))return va(je.source)&&(this.browserUrlTree=je.extractedUrl),(0,ie.of)(je).pipe((0,qe.w)(At=>{const Rr=this.transitions.getValue();return j.next(new $n(At.id,this.serializeUrl(At.extractedUrl),At.source,At.restoredState)),Rr!==this.transitions.getValue()?_e.E:Promise.resolve(At)}),function hr(k,I,S,j){return(0,qe.w)($=>function oi(k,I,S,j,$){return new si(k,I,S,j,$).apply()}(k,I,S,$.extractedUrl,j).pipe((0,we.U)(ue=>Object.assign(Object.assign({},$),{urlAfterRedirects:ue}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Et.b)(At=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:At.urlAfterRedirects})}),function Ll(k,I,S,j,$){return(0,Rt.z)(ue=>function Yo(k,I,S,j,$="emptyOnly",ue="legacy"){try{const Ue=new fa(k,I,S,j,$,ue).recognize();return null===Ue?Lo(new nl):(0,ie.of)(Ue)}catch(Ue){return Lo(Ue)}}(k,I,ue.urlAfterRedirects,S(ue.urlAfterRedirects),j,$).pipe((0,we.U)(Ue=>Object.assign(Object.assign({},ue),{targetSnapshot:Ue}))))}(this.rootComponentType,this.config,At=>this.serializeUrl(At),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Et.b)(At=>{if("eager"===this.urlUpdateStrategy){if(!At.extras.skipLocationChange){const Tr=this.urlHandlingStrategy.merge(At.urlAfterRedirects,At.rawUrl);this.setBrowserUrl(Tr,At)}this.browserUrlTree=At.urlAfterRedirects}const Rr=new ni(At.id,this.serializeUrl(At.extractedUrl),this.serializeUrl(At.urlAfterRedirects),At.targetSnapshot);j.next(Rr)}));if(En&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Rr,extractedUrl:Tr,source:ei,restoredState:xi,extras:lr}=je,La=new $n(Rr,this.serializeUrl(Tr),ei,xi);j.next(La);const Ji=io(Tr,this.rootComponentType).snapshot;return(0,ie.of)(Object.assign(Object.assign({},je),{targetSnapshot:Ji,urlAfterRedirects:Tr,extras:Object.assign(Object.assign({},lr),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=je.rawUrl,je.resolve(null),_e.E}),Na(je=>{const{targetSnapshot:Nt,id:En,extractedUrl:Rn,rawUrl:At,extras:{skipLocationChange:Rr,replaceUrl:Tr}}=je;return this.hooks.beforePreactivation(Nt,{navigationId:En,appliedUrlTree:Rn,rawUrlTree:At,skipLocationChange:!!Rr,replaceUrl:!!Tr})}),(0,Et.b)(je=>{const Nt=new xr(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot);this.triggerEvent(Nt)}),(0,we.U)(je=>Object.assign(Object.assign({},je),{guards:as(je.targetSnapshot,je.currentSnapshot,this.rootContexts)})),function Ri(k,I){return(0,Rt.z)(S=>{const{targetSnapshot:j,currentSnapshot:$,guards:{canActivateChecks:ue,canDeactivateChecks:Ue}}=S;return 0===Ue.length&&0===ue.length?(0,ie.of)(Object.assign(Object.assign({},S),{guardsResult:!0})):function tl(k,I,S,j){return(0,K.D)(k).pipe((0,Rt.z)($=>function mc(k,I,S,j,$){const ue=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!ue||0===ue.length)return(0,ie.of)(!0);const Ue=ue.map(je=>{const Nt=ws(je,I,$);let En;if(function xe(k){return k&&R(k.canDeactivate)}(Nt))En=Hn(Nt.canDeactivate(k,I,S,j));else{if(!R(Nt))throw new Error("Invalid CanDeactivate guard");En=Hn(Nt(k,I,S,j))}return En.pipe((0,Sn.P)())});return(0,ie.of)(Ue).pipe(ut())}($.component,$.route,S,I,j)),(0,Sn.P)($=>!0!==$,!0))}(Ue,j,$,k).pipe((0,Rt.z)(je=>je&&function Z(k){return"boolean"==typeof k}(je)?function Bs(k,I,S,j){return(0,K.D)(I).pipe((0,Ft.b)($=>(0,Je.z)(function Xa(k,I){return null!==k&&I&&I(new Bi(k)),(0,ie.of)(!0)}($.route.parent,j),function Qs(k,I){return null!==k&&I&&I(new zi(k)),(0,ie.of)(!0)}($.route,j),function gc(k,I,S){const j=I[I.length-1],ue=I.slice(0,I.length-1).reverse().map(Ue=>function Cs(k){const I=k.routeConfig?k.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:k,guards:I}:null}(Ue)).filter(Ue=>null!==Ue).map(Ue=>(0,vt.P)(()=>{const je=Ue.guards.map(Nt=>{const En=ws(Nt,Ue.node,S);let Rn;if(function Me(k){return k&&R(k.canActivateChild)}(En))Rn=Hn(En.canActivateChild(j,k));else{if(!R(En))throw new Error("Invalid CanActivateChild guard");Rn=Hn(En(j,k))}return Rn.pipe((0,Sn.P)())});return(0,ie.of)(je).pipe(ut())}));return(0,ie.of)(ue).pipe(ut())}(k,$.path,S),function Pa(k,I,S){const j=I.routeConfig?I.routeConfig.canActivate:null;if(!j||0===j.length)return(0,ie.of)(!0);const $=j.map(ue=>(0,vt.P)(()=>{const Ue=ws(ue,I,S);let je;if(function Te(k){return k&&R(k.canActivate)}(Ue))je=Hn(Ue.canActivate(I,k));else{if(!R(Ue))throw new Error("Invalid CanActivate guard");je=Hn(Ue(I,k))}return je.pipe((0,Sn.P)())}));return(0,ie.of)($).pipe(ut())}(k,$.route,S))),(0,Sn.P)($=>!0!==$,!0))}(j,ue,k,I):(0,ie.of)(je)),(0,we.U)(je=>Object.assign(Object.assign({},S),{guardsResult:je})))})}(this.ngModule.injector,je=>this.triggerEvent(je)),(0,Et.b)(je=>{if(W(je.guardsResult)){const En=ye(`Redirecting to "${this.serializeUrl(je.guardsResult)}"`);throw En.url=je.guardsResult,En}const Nt=new jr(je.id,this.serializeUrl(je.extractedUrl),this.serializeUrl(je.urlAfterRedirects),je.targetSnapshot,!!je.guardsResult);this.triggerEvent(Nt)}),(0,Ae.h)(je=>!!je.guardsResult||(this.restoreHistory(je),this.cancelNavigationTransition(je,""),!1)),Na(je=>{if(je.guards.canActivateChecks.length)return(0,ie.of)(je).pipe((0,Et.b)(Nt=>{const En=new Ni(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(En)}),(0,qe.w)(Nt=>{let En=!1;return(0,ie.of)(Nt).pipe(function Us(k,I){return(0,Rt.z)(S=>{const{targetSnapshot:j,guards:{canActivateChecks:$}}=S;if(!$.length)return(0,ie.of)(S);let ue=0;return(0,K.D)($).pipe((0,Ft.b)(Ue=>function il(k,I,S,j){return function Oa(k,I,S,j){const $=Ma(k);if(0===$.length)return(0,ie.of)({});const ue={};return(0,K.D)($).pipe((0,Rt.z)(Ue=>function Rc(k,I,S,j){const $=ws(k,I,j);return Hn($.resolve?$.resolve(I,S):$(I,S))}(k[Ue],I,S,j).pipe((0,Et.b)(je=>{ue[Ue]=je}))),it(1),(0,Rt.z)(()=>Ma(ue).length===$.length?(0,ie.of)(ue):_e.E))}(k._resolve,k,I,j).pipe((0,we.U)(ue=>(k._resolvedData=ue,k.data=Object.assign(Object.assign({},k.data),$i(k,S).resolve),null)))}(Ue.route,j,k,I)),(0,Et.b)(()=>ue++),it(1),(0,Rt.z)(Ue=>ue===$.length?(0,ie.of)(S):_e.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Et.b)({next:()=>En=!0,complete:()=>{En||(this.restoreHistory(Nt),this.cancelNavigationTransition(Nt,"At least one route resolver didn't emit any value."))}}))}),(0,Et.b)(Nt=>{const En=new Ei(Nt.id,this.serializeUrl(Nt.extractedUrl),this.serializeUrl(Nt.urlAfterRedirects),Nt.targetSnapshot);this.triggerEvent(En)}))}),Na(je=>{const{targetSnapshot:Nt,id:En,extractedUrl:Rn,rawUrl:At,extras:{skipLocationChange:Rr,replaceUrl:Tr}}=je;return this.hooks.afterPreactivation(Nt,{navigationId:En,appliedUrlTree:Rn,rawUrlTree:At,skipLocationChange:!!Rr,replaceUrl:!!Tr})}),(0,we.U)(je=>{const Nt=function Sr(k,I,S){const j=Vr(k,I._root,S?S._root:void 0);return new Di(j,I)}(this.routeReuseStrategy,je.targetSnapshot,je.currentRouterState);return Object.assign(Object.assign({},je),{targetRouterState:Nt})}),(0,Et.b)(je=>{this.currentUrlTree=je.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(je.urlAfterRedirects,je.rawUrl),this.routerState=je.targetRouterState,"deferred"===this.urlUpdateStrategy&&(je.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,je),this.browserUrlTree=je.urlAfterRedirects)}),((k,I,S)=>(0,we.U)(j=>(new Ce(I,j.targetRouterState,j.currentRouterState,S).activate(k),j)))(this.rootContexts,this.routeReuseStrategy,je=>this.triggerEvent(je)),(0,Et.b)({next(){ue=!0},complete(){ue=!0}}),function oe(k){return(0,G.e)((I,S)=>{try{I.subscribe(S)}finally{S.add(k)}})}(()=>{var je;ue||Ue||this.cancelNavigationTransition($,`Navigation ID ${$.id} is not equal to the current navigation id ${this.navigationId}`),(null===(je=this.currentNavigation)||void 0===je?void 0:je.id)===$.id&&(this.currentNavigation=null)}),rt(je=>{if(Ue=!0,function at(k){return k&&k[ce]}(je)){const Nt=W(je.url);Nt||(this.navigated=!0,this.restoreHistory($,!0));const En=new br($.id,this.serializeUrl($.extractedUrl),je.message);j.next(En),Nt?setTimeout(()=>{const Rn=this.urlHandlingStrategy.merge(je.url,this.rawUrlTree),At={skipLocationChange:$.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||va($.source)};this.scheduleNavigation(Rn,"imperative",null,At,{resolve:$.resolve,reject:$.reject,promise:$.promise})},0):$.resolve(!1)}else{this.restoreHistory($,!0);const Nt=new vr($.id,this.serializeUrl($.extractedUrl),je);j.next(Nt);try{$.resolve(this.errorHandler(je))}catch(En){$.reject(En)}}return _e.E}))}))}resetRootComponentType(S){this.rootComponentType=S,this.routerState.root.component=this.rootComponentType}setTransition(S){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),S))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(S=>{const j="popstate"===S.type?"popstate":"hashchange";"popstate"===j&&setTimeout(()=>{var $;const ue={replaceUrl:!0},Ue=(null===($=S.state)||void 0===$?void 0:$.navigationId)?S.state:null;if(Ue){const Nt=Object.assign({},Ue);delete Nt.navigationId,delete Nt.\u0275routerPageId,0!==Object.keys(Nt).length&&(ue.state=Nt)}const je=this.parseUrl(S.url);this.scheduleNavigation(je,j,Ue,ue)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(S){this.events.next(S)}resetConfig(S){An(S),this.config=S.map(dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(S,j={}){const{relativeTo:$,queryParams:ue,fragment:Ue,queryParamsHandling:je,preserveFragment:Nt}=j,En=$||this.routerState.root,Rn=Nt?this.currentUrlTree.fragment:Ue;let At=null;switch(je){case"merge":At=Object.assign(Object.assign({},this.currentUrlTree.queryParams),ue);break;case"preserve":At=this.currentUrlTree.queryParams;break;default:At=ue||null}return null!==At&&(At=this.removeEmptyProps(At)),function Ro(k,I,S,j,$){if(0===S.length)return Ui(I.root,I.root,I.root,j,$);const ue=function oo(k){if("string"==typeof k[0]&&1===k.length&&"/"===k[0])return new is(!0,0,k);let I=0,S=!1;const j=k.reduce(($,ue,Ue)=>{if("object"==typeof ue&&null!=ue){if(ue.outlets){const je={};return fn(ue.outlets,(Nt,En)=>{je[En]="string"==typeof Nt?Nt.split("/"):Nt}),[...$,{outlets:je}]}if(ue.segmentPath)return[...$,ue.segmentPath]}return"string"!=typeof ue?[...$,ue]:0===Ue?(ue.split("/").forEach((je,Nt)=>{0==Nt&&"."===je||(0==Nt&&""===je?S=!0:".."===je?I++:""!=je&&$.push(je))}),$):[...$,ue]},[]);return new is(S,I,j)}(S);if(ue.toRoot())return Ui(I.root,I.root,new be([],{}),j,$);const Ue=function os(k,I,S){if(k.isAbsolute)return new Ko(I.root,!0,0);if(-1===S.snapshot._lastPathIndex){const ue=S.snapshot._urlSegment;return new Ko(ue,ue===I.root,0)}const j=Hi(k.commands[0])?0:1;return function ji(k,I,S){let j=k,$=I,ue=S;for(;ue>$;){if(ue-=$,j=j.parent,!j)throw new Error("Invalid number of '../'");$=j.segments.length}return new Ko(j,!1,$-ue)}(S.snapshot._urlSegment,S.snapshot._lastPathIndex+j,k.numberOfDoubleDots)}(ue,I,k),je=Ue.processChildren?Do(Ue.segmentGroup,Ue.index,ue.commands):Zi(Ue.segmentGroup,Ue.index,ue.commands);return Ui(I.root,Ue.segmentGroup,je,j,$)}(En,this.currentUrlTree,S,At,null!=Rn?Rn:null)}navigateByUrl(S,j={skipLocationChange:!1}){const $=W(S)?S:this.parseUrl(S),ue=this.urlHandlingStrategy.merge($,this.rawUrlTree);return this.scheduleNavigation(ue,"imperative",null,j)}navigate(S,j={skipLocationChange:!1}){return function od(k){for(let I=0;I<k.length;I++){const S=k[I];if(null==S)throw new Error(`The requested path contains ${S} segment at index ${I}`)}}(S),this.navigateByUrl(this.createUrlTree(S,j),j)}serializeUrl(S){return this.urlSerializer.serialize(S)}parseUrl(S){let j;try{j=this.urlSerializer.parse(S)}catch($){j=this.malformedUriErrorHandler($,this.urlSerializer,S)}return j}isActive(S,j){let $;if($=!0===j?Object.assign({},mu):!1===j?Object.assign({},kc):j,W(S))return Bt(this.currentUrlTree,S,$);const ue=this.parseUrl(S);return Bt(this.currentUrlTree,ue,$)}removeEmptyProps(S){return Object.keys(S).reduce((j,$)=>{const ue=S[$];return null!=ue&&(j[$]=ue),j},{})}processNavigations(){this.navigations.subscribe(S=>{this.navigated=!0,this.lastSuccessfulId=S.id,this.currentPageId=S.targetPageId,this.events.next(new Dr(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,S.resolve(!0)},S=>{this.console.warn(`Unhandled Navigation Error: ${S}`)})}scheduleNavigation(S,j,$,ue,Ue){var je,Nt;if(this.disposed)return Promise.resolve(!1);let En,Rn,At;Ue?(En=Ue.resolve,Rn=Ue.reject,At=Ue.promise):At=new Promise((ei,xi)=>{En=ei,Rn=xi});const Rr=++this.navigationId;let Tr;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&($=this.location.getState()),Tr=$&&$.\u0275routerPageId?$.\u0275routerPageId:ue.replaceUrl||ue.skipLocationChange?null!==(je=this.browserPageId)&&void 0!==je?je:0:(null!==(Nt=this.browserPageId)&&void 0!==Nt?Nt:0)+1):Tr=0,this.setTransition({id:Rr,targetPageId:Tr,source:j,restoredState:$,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:S,extras:ue,resolve:En,reject:Rn,promise:At,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),At.catch(ei=>Promise.reject(ei))}setBrowserUrl(S,j){const $=this.urlSerializer.serialize(S),ue=Object.assign(Object.assign({},j.extras.state),this.generateNgRouterState(j.id,j.targetPageId));this.location.isCurrentPathEqualTo($)||j.extras.replaceUrl?this.location.replaceState($,"",ue):this.location.go($,"",ue)}restoreHistory(S,j=!1){var $,ue;if("computed"===this.canceledNavigationResolution){const Ue=this.currentPageId-S.targetPageId;"popstate"!==S.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===($=this.currentNavigation)||void 0===$?void 0:$.finalUrl)||0===Ue?this.currentUrlTree===(null===(ue=this.currentNavigation)||void 0===ue?void 0:ue.finalUrl)&&0===Ue&&(this.resetState(S),this.browserUrlTree=S.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(Ue)}else"replace"===this.canceledNavigationResolution&&(j&&this.resetState(S),this.resetUrlToCurrentUrlTree())}resetState(S){this.routerState=S.currentRouterState,this.currentUrlTree=S.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,S.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(S,j){const $=new br(S.id,this.serializeUrl(S.extractedUrl),j);this.triggerEvent($),S.resolve(!1)}generateNgRouterState(S,j){return"computed"===this.canceledNavigationResolution?{navigationId:S,\u0275routerPageId:j}:{navigationId:S}}}return k.\u0275fac=function(S){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function va(k){return"imperative"!==k}let Vs=(()=>{class k{constructor(S,j,$,ue,Ue){this.router=S,this.route=j,this.tabIndexAttribute=$,this.renderer=ue,this.el=Ue,this.commands=null,this.onChanges=new Ge.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(S){if(null!=this.tabIndexAttribute)return;const j=this.renderer,$=this.el.nativeElement;null!==S?j.setAttribute($,"tabindex",S):j.removeAttribute($,"tabindex")}ngOnChanges(S){this.onChanges.next(this)}set routerLink(S){null!=S?(this.commands=Array.isArray(S)?S:[S],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const S={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,S),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return k.\u0275fac=function(S){return new(S||k)(p.Y36(go),p.Y36(Wr),p.$8M("tabindex"),p.Y36(p.Qsj),p.Y36(p.SBq))},k.\u0275dir=p.lG2({type:k,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(S,j){1&S&&p.NdJ("click",function(){return j.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})(),Gs=(()=>{class k{constructor(S,j,$){this.router=S,this.route=j,this.locationStrategy=$,this.commands=null,this.href=null,this.onChanges=new Ge.x,this.subscription=S.events.subscribe(ue=>{ue instanceof Dr&&this.updateTargetUrlAndHref()})}set routerLink(S){this.commands=null!=S?Array.isArray(S)?S:[S]:null}ngOnChanges(S){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(S,j,$,ue,Ue){if(0!==S||j||$||ue||Ue||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const je={skipLocationChange:ui(this.skipLocationChange),replaceUrl:ui(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,je),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ui(this.preserveFragment)})}}return k.\u0275fac=function(S){return new(S||k)(p.Y36(go),p.Y36(Wr),p.Y36(yn.S$))},k.\u0275dir=p.lG2({type:k,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(S,j){1&S&&p.NdJ("click",function(ue){return j.onClick(ue.button,ue.ctrlKey,ue.shiftKey,ue.altKey,ue.metaKey)}),2&S&&p.uIk("target",j.target)("href",j.href,p.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[p.TTD]}),k})();function ui(k){return""===k||!!k}class Xo{}class nc{preload(I,S){return(0,ie.of)(null)}}let ao=(()=>{class k{constructor(S,j,$,ue){this.router=S,this.injector=$,this.preloadingStrategy=ue,this.loader=new vc($,j,Nt=>S.triggerEvent(new Kr(Nt)),Nt=>S.triggerEvent(new Zr(Nt)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,Ae.h)(S=>S instanceof Dr),(0,Ft.b)(()=>this.preload())).subscribe(()=>{})}preload(){const S=this.injector.get(p.h0i);return this.processRoutes(S,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(S,j){const $=[];for(const ue of j)if(ue.loadChildren&&!ue.canLoad&&ue._loadedConfig){const Ue=ue._loadedConfig;$.push(this.processRoutes(Ue.module,Ue.routes))}else ue.loadChildren&&!ue.canLoad?$.push(this.preloadConfig(S,ue)):ue.children&&$.push(this.processRoutes(S,ue.children));return(0,K.D)($).pipe((0,Ht.J)(),(0,we.U)(ue=>{}))}preloadConfig(S,j){return this.preloadingStrategy.preload(j,()=>(j._loadedConfig?(0,ie.of)(j._loadedConfig):this.loader.load(S.injector,j)).pipe((0,Rt.z)(ue=>(j._loadedConfig=ue,this.processRoutes(ue.module,ue.routes)))))}}return k.\u0275fac=function(S){return new(S||k)(p.LFG(go),p.LFG(p.Sil),p.LFG(p.zs3),p.LFG(Xo))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})(),So=(()=>{class k{constructor(S,j,$={}){this.router=S,this.viewportScroller=j,this.options=$,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},$.scrollPositionRestoration=$.scrollPositionRestoration||"disabled",$.anchorScrolling=$.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(S=>{S instanceof $n?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=S.navigationTrigger,this.restoredId=S.restoredState?S.restoredState.navigationId:0):S instanceof Dr&&(this.lastId=S.id,this.scheduleScrollEvent(S,this.router.parseUrl(S.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(S=>{S instanceof Qr&&(S.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(S.position):S.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(S.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(S,j){this.router.triggerEvent(new Qr(S,"popstate"===this.lastSource?this.store[this.restoredId]:null,j))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return k.\u0275fac=function(S){p.$Z()},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();const Hs=new p.OlP("ROUTER_CONFIGURATION"),_u=new p.OlP("ROUTER_FORROOT_GUARD"),_n=[yn.Ye,{provide:zn,useClass:ir},{provide:go,useFactory:function Nn(k,I,S,j,$,ue,Ue={},je,Nt){const En=new go(null,k,I,S,j,$,qt(ue));return je&&(En.urlHandlingStrategy=je),Nt&&(En.routeReuseStrategy=Nt),function Pt(k,I){k.errorHandler&&(I.errorHandler=k.errorHandler),k.malformedUriErrorHandler&&(I.malformedUriErrorHandler=k.malformedUriErrorHandler),k.onSameUrlNavigation&&(I.onSameUrlNavigation=k.onSameUrlNavigation),k.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=k.paramsInheritanceStrategy),k.relativeLinkResolution&&(I.relativeLinkResolution=k.relativeLinkResolution),k.urlUpdateStrategy&&(I.urlUpdateStrategy=k.urlUpdateStrategy),k.canceledNavigationResolution&&(I.canceledNavigationResolution=k.canceledNavigationResolution)}(Ue,En),Ue.enableTracing&&En.events.subscribe(Rn=>{var At,Rr;null===(At=console.group)||void 0===At||At.call(console,`Router Event: ${Rn.constructor.name}`),console.log(Rn.toString()),console.log(Rn),null===(Rr=console.groupEnd)||void 0===Rr||Rr.call(console)}),En},deps:[zn,Ie,yn.Ye,p.zs3,p.Sil,js,Hs,[class yo{},new p.FiY],[class Ra{},new p.FiY]]},Ie,{provide:Wr,useFactory:function rn(k){return k.routerState.root},deps:[go]},ao,nc,class ka{preload(I,S){return S().pipe(rt(()=>(0,ie.of)(null)))}},{provide:Hs,useValue:{enableTracing:!1}}];function di(){return new p.PXZ("Router",go)}let rc=(()=>{class k{constructor(S,j){}static forRoot(S,j){return{ngModule:k,providers:[_n,sl(S),{provide:_u,useFactory:Cr,deps:[[go,new p.FiY,new p.tp0]]},{provide:Hs,useValue:j||{}},{provide:yn.S$,useFactory:Jn,deps:[yn.lw,[new p.tBr(yn.mr),new p.FiY],Hs]},{provide:So,useFactory:ol,deps:[go,yn.EM,Hs]},{provide:Xo,useExisting:j&&j.preloadingStrategy?j.preloadingStrategy:nc},{provide:p.PXZ,multi:!0,useFactory:di},[Oi,{provide:p.ip1,multi:!0,useFactory:_i,deps:[Oi]},{provide:al,useFactory:ic,deps:[Oi]},{provide:p.tb,multi:!0,useExisting:al}]]}}static forChild(S){return{ngModule:k,providers:[sl(S)]}}}return k.\u0275fac=function(S){return new(S||k)(p.LFG(_u,8),p.LFG(go,8))},k.\u0275mod=p.oAB({type:k}),k.\u0275inj=p.cJS({}),k})();function ol(k,I,S){return S.scrollOffset&&I.setOffset(S.scrollOffset),new So(k,I,S)}function Jn(k,I,S={}){return S.useHash?new yn.Do(k,I):new yn.b0(k,I)}function Cr(k){return"guarded"}function sl(k){return[{provide:p.deG,multi:!0,useValue:k},{provide:js,multi:!0,useValue:k}]}let Oi=(()=>{class k{constructor(S){this.injector=S,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Ge.x}appInitializer(){return this.injector.get(yn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let j=null;const $=new Promise(je=>j=je),ue=this.injector.get(go),Ue=this.injector.get(Hs);return"disabled"===Ue.initialNavigation?(ue.setUpLocationChangeListener(),j(!0)):"enabled"===Ue.initialNavigation||"enabledBlocking"===Ue.initialNavigation?(ue.hooks.afterPreactivation=()=>this.initNavigation?(0,ie.of)(null):(this.initNavigation=!0,j(!0),this.resultOfPreactivationDone),ue.initialNavigation()):j(!0),$})}bootstrapListener(S){const j=this.injector.get(Hs),$=this.injector.get(ao),ue=this.injector.get(So),Ue=this.injector.get(go),je=this.injector.get(p.z2F);S===je.components[0]&&(("enabledNonBlocking"===j.initialNavigation||void 0===j.initialNavigation)&&Ue.initialNavigation(),$.setUpPreloading(),ue.init(),Ue.resetRootComponentType(je.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return k.\u0275fac=function(S){return new(S||k)(p.LFG(p.zs3))},k.\u0275prov=p.Yz7({token:k,factory:k.\u0275fac}),k})();function _i(k){return k.appInitializer.bind(k)}function ic(k){return k.bootstrapListener.bind(k)}const al=new p.OlP("Router Initializer")},3942:(pt,D,A)=>{"use strict";A.d(D,{Z:()=>Je});var p=A(2090),e=A(4859),w=A(9681),N=A(1877);class M{constructor(_e,Ge){this._delegate=_e,this.firebase=Ge,(0,w._addComponent)(_e,new e.wA("app-compat",()=>this,"PUBLIC")),this.container=_e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(_e){this._delegate.automaticDataCollectionEnabled=_e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(_e=>{this._delegate.checkDestroyed(),_e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,w.deleteApp)(this._delegate)))}_getService(_e,Ge=w._DEFAULT_ENTRY_NAME){var ke;this._delegate.checkDestroyed();const _t=this._delegate.container.getProvider(_e);return!_t.isInitialized()&&"EXPLICIT"===(null===(ke=_t.getComponent())||void 0===ke?void 0:ke.instantiationMode)&&_t.initialize(),_t.getImmediate({identifier:Ge})}_removeServiceInstance(_e,Ge=w._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(_e).clearInstance(Ge)}_addComponent(_e){(0,w._addComponent)(this._delegate,_e)}_addOrOverwriteComponent(_e){(0,w._addOrOverwriteComponent)(this._delegate,_e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const ee=new p.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),K=function Q(){const vt=function Y(vt){const _e={},Ge={__esModule:!0,initializeApp:function Ke(Ze,ft={}){const ve=w.initializeApp(Ze,ft);if((0,p.r3)(_e,ve.name))return _e[ve.name];const me=new vt(ve,Ge);return _e[ve.name]=me,me},app:_t,registerVersion:w.registerVersion,setLogLevel:w.setLogLevel,onLog:w.onLog,apps:null,SDK_VERSION:w.SDK_VERSION,INTERNAL:{registerComponent:function Ae(Ze){const ft=Ze.name,ve=ft.replace("-compat","");if(w._registerComponent(Ze)&&"PUBLIC"===Ze.type){const me=(oe=_t())=>{if("function"!=typeof oe[ve])throw ee.create("invalid-app-argument",{appName:ft});return oe[ve]()};void 0!==Ze.serviceProps&&(0,p.ZB)(me,Ze.serviceProps),Ge[ve]=me,vt.prototype[ve]=function(...oe){return this._getService.bind(this,ft).apply(this,Ze.multipleInstances?oe:[])}}return"PUBLIC"===Ze.type?Ge[ve]:null},removeApp:function ke(Ze){delete _e[Ze]},useAsService:function it(Ze,ft){return"serverAuth"===ft?null:ft},modularAPIs:w}};function _t(Ze){if(!(0,p.r3)(_e,Ze=Ze||w._DEFAULT_ENTRY_NAME))throw ee.create("no-app",{appName:Ze});return _e[Ze]}return Ge.default=Ge,Object.defineProperty(Ge,"apps",{get:function rt(){return Object.keys(_e).map(Ze=>_e[Ze])}}),_t.App=vt,Ge}(M);return vt.INTERNAL=Object.assign(Object.assign({},vt.INTERNAL),{createFirebaseNamespace:Q,extendNamespace:function _e(Ge){(0,p.ZB)(vt,Ge)},createSubscribe:p.ne,ErrorFactory:p.LL,deepExtend:p.ZB}),vt}(),ie=new N.Yd("@firebase/app-compat");if((0,p.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const vt=self.firebase.SDK_VERSION;vt&&vt.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Je=K;!function Xe(vt){(0,w.registerVersion)("@firebase/app-compat","0.1.20",vt)}()},9681:(pt,D,A)=>{"use strict";A.r(D),A.d(D,{FirebaseError:()=>N.ZR,SDK_VERSION:()=>Ni,_DEFAULT_ENTRY_NAME:()=>Sn,_addComponent:()=>yn,_addOrOverwriteComponent:()=>rr,_apps:()=>Et,_clearComponents:()=>vr,_components:()=>Ht,_getProvider:()=>Dr,_registerComponent:()=>$n,_removeServiceInstance:()=>br,deleteApp:()=>Bi,getApp:()=>Kr,getApps:()=>Zr,initializeApp:()=>Ei,onLog:()=>ri,registerVersion:()=>zi,setLogLevel:()=>Qr});var p=A(5861),e=A(4859),w=A(1877),N=A(2090);class M{constructor(ht){this.container=ht}getPlatformInfoString(){return this.container.getProviders().map(tn=>{if(function G(Bt){const ht=Bt.getComponent();return"VERSION"===(null==ht?void 0:ht.type)}(tn)){const vn=tn.getImmediate();return`${vn.library}/${vn.version}`}return null}).filter(tn=>tn).join(" ")}}const ee="@firebase/app",Y="0.7.19",Q=new w.Yd("@firebase/app"),Sn="[DEFAULT]",Rt={[ee]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Et=new Map,Ht=new Map;function yn(Bt,ht){try{Bt.container.addComponent(ht)}catch(tn){Q.debug(`Component ${ht.name} failed to register with FirebaseApp ${Bt.name}`,tn)}}function rr(Bt,ht){Bt.container.addOrOverwriteComponent(ht)}function $n(Bt){const ht=Bt.name;if(Ht.has(ht))return Q.debug(`There were multiple attempts to register component ${ht}.`),!1;Ht.set(ht,Bt);for(const tn of Et.values())yn(tn,Bt);return!0}function Dr(Bt,ht){const tn=Bt.container.getProvider("heartbeat").getImmediate({optional:!0});return tn&&tn.triggerHeartbeat(),Bt.container.getProvider(ht)}function br(Bt,ht,tn=Sn){Dr(Bt,ht).clearInstance(tn)}function vr(){Ht.clear()}const xr=new N.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class jr{constructor(ht,tn,vn){this._isDeleted=!1,this._options=Object.assign({},ht),this._config=Object.assign({},tn),this._name=tn.name,this._automaticDataCollectionEnabled=tn.automaticDataCollectionEnabled,this._container=vn,this.container.addComponent(new e.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ht){this.checkDestroyed(),this._automaticDataCollectionEnabled=ht}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ht){this._isDeleted=ht}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}const Ni="9.6.9";function Ei(Bt,ht={}){"object"!=typeof ht&&(ht={name:ht});const tn=Object.assign({name:Sn,automaticDataCollectionEnabled:!1},ht),vn=tn.name;if("string"!=typeof vn||!vn)throw xr.create("bad-app-name",{appName:String(vn)});const Zn=Et.get(vn);if(Zn){if((0,N.vZ)(Bt,Zn.options)&&(0,N.vZ)(tn,Zn.config))return Zn;throw xr.create("duplicate-app",{appName:vn})}const jn=new e.H0(vn);for(const Se of Ht.values())jn.addComponent(Se);const Pe=new jr(Bt,tn,jn);return Et.set(vn,Pe),Pe}function Kr(Bt=Sn){const ht=Et.get(Bt);if(!ht)throw xr.create("no-app",{appName:Bt});return ht}function Zr(){return Array.from(Et.values())}function Bi(Bt){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,p.Z)(function*(Bt){const ht=Bt.name;Et.has(ht)&&(Et.delete(ht),yield Promise.all(Bt.container.getProviders().map(tn=>tn.delete())),Bt.isDeleted=!0)})).apply(this,arguments)}function zi(Bt,ht,tn){var vn;let Zn=null!==(vn=Rt[Bt])&&void 0!==vn?vn:Bt;tn&&(Zn+=`-${tn}`);const jn=Zn.match(/\s|\//),Pe=ht.match(/\s|\//);if(jn||Pe){const Se=[`Unable to register library "${Zn}" with version "${ht}":`];return jn&&Se.push(`library name "${Zn}" contains illegal characters (whitespace or "/")`),jn&&Pe&&Se.push("and"),Pe&&Se.push(`version name "${ht}" contains illegal characters (whitespace or "/")`),void Q.warn(Se.join(" "))}$n(new e.wA(`${Zn}-version`,()=>({library:Zn,version:ht}),"VERSION"))}function ri(Bt,ht){if(null!==Bt&&"function"!=typeof Bt)throw xr.create("invalid-log-argument");(0,w.Am)(Bt,ht)}function Qr(Bt){(0,w.Ub)(Bt)}const Be="firebase-heartbeat-store";let ce=null;function ye(){return ce||(ce=(0,N.X3)("firebase-heartbeat-database",1,(Bt,ht)=>{0===ht&&Bt.createObjectStore(Be)}).catch(Bt=>{throw xr.create("storage-open",{originalErrorMessage:Bt.message})})),ce}function ct(){return(ct=(0,p.Z)(function*(Bt){try{return(yield ye()).transaction(Be).objectStore(Be).get(dn(Bt))}catch(ht){throw xr.create("storage-get",{originalErrorMessage:ht.message})}})).apply(this,arguments)}function yt(Bt,ht){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,p.Z)(function*(Bt,ht){try{const vn=(yield ye()).transaction(Be,"readwrite");return yield vn.objectStore(Be).put(ht,dn(Bt)),vn.complete}catch(tn){throw xr.create("storage-set",{originalErrorMessage:tn.message})}})).apply(this,arguments)}function dn(Bt){return`${Bt.name}!${Bt.options.appId}`}class Gn{constructor(ht){this.container=ht,this._heartbeatsCache=null;const tn=this.container.getProvider("app").getImmediate();this._storage=new jt(tn),this._heartbeatsCachePromise=this._storage.read().then(vn=>(this._heartbeatsCache=vn,vn))}triggerHeartbeat(){var ht=this;return(0,p.Z)(function*(){const vn=ht.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Zn=fn();if(null===ht._heartbeatsCache&&(ht._heartbeatsCache=yield ht._heartbeatsCachePromise),ht._heartbeatsCache.lastSentHeartbeatDate!==Zn&&!ht._heartbeatsCache.heartbeats.some(jn=>jn.date===Zn))return ht._heartbeatsCache.heartbeats.push({date:Zn,agent:vn}),ht._heartbeatsCache.heartbeats=ht._heartbeatsCache.heartbeats.filter(jn=>{const Pe=new Date(jn.date).valueOf();return Date.now()-Pe<=2592e6}),ht._storage.overwrite(ht._heartbeatsCache)})()}getHeartbeatsHeader(){var ht=this;return(0,p.Z)(function*(){if(null===ht._heartbeatsCache&&(yield ht._heartbeatsCachePromise),null===ht._heartbeatsCache||0===ht._heartbeatsCache.heartbeats.length)return"";const tn=fn(),{heartbeatsToSend:vn,unsentEntries:Zn}=function Hn(Bt,ht=1024){const tn=[];let vn=Bt.slice();for(const Zn of Bt){const jn=tn.find(Pe=>Pe.agent===Zn.agent);if(jn){if(jn.dates.push(Zn.date),Xn(tn)>ht){jn.dates.pop();break}}else if(tn.push({agent:Zn.agent,dates:[Zn.date]}),Xn(tn)>ht){tn.pop();break}vn=vn.slice(1)}return{heartbeatsToSend:tn,unsentEntries:vn}}(ht._heartbeatsCache.heartbeats),jn=(0,N.L)(JSON.stringify({version:2,heartbeats:vn}));return ht._heartbeatsCache.lastSentHeartbeatDate=tn,Zn.length>0?(ht._heartbeatsCache.heartbeats=Zn,yield ht._storage.overwrite(ht._heartbeatsCache)):(ht._heartbeatsCache.heartbeats=[],ht._storage.overwrite(ht._heartbeatsCache)),jn})()}}function fn(){return(new Date).toISOString().substring(0,10)}class jt{constructor(ht){this.app=ht,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,p.Z)(function*(){return!!(0,N.hl)()&&(0,N.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ht=this;return(0,p.Z)(function*(){return(yield ht._canUseIndexedDBPromise)&&(yield function at(Bt){return ct.apply(this,arguments)}(ht.app))||{heartbeats:[]}})()}overwrite(ht){var tn=this;return(0,p.Z)(function*(){var vn;if(yield tn._canUseIndexedDBPromise){const jn=yield tn.read();return yt(tn.app,{lastSentHeartbeatDate:null!==(vn=ht.lastSentHeartbeatDate)&&void 0!==vn?vn:jn.lastSentHeartbeatDate,heartbeats:ht.heartbeats})}})()}add(ht){var tn=this;return(0,p.Z)(function*(){var vn;if(yield tn._canUseIndexedDBPromise){const jn=yield tn.read();return yt(tn.app,{lastSentHeartbeatDate:null!==(vn=ht.lastSentHeartbeatDate)&&void 0!==vn?vn:jn.lastSentHeartbeatDate,heartbeats:[...jn.heartbeats,...ht.heartbeats]})}})()}}function Xn(Bt){return(0,N.L)(JSON.stringify({version:2,heartbeats:Bt})).length}!function kn(Bt){$n(new e.wA("platform-logger",ht=>new M(ht),"PRIVATE")),$n(new e.wA("heartbeat",ht=>new Gn(ht),"PRIVATE")),zi(ee,Y,Bt),zi(ee,Y,"esm2017"),zi("fire-js","")}("")},4859:(pt,D,A)=>{"use strict";A.d(D,{H0:()=>Y,wA:()=>w});var p=A(5861),e=A(2090);class w{constructor(K,ie,ge){this.name=K,this.instanceFactory=ie,this.type=ge,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(K){return this.instantiationMode=K,this}setMultipleInstances(K){return this.multipleInstances=K,this}setServiceProps(K){return this.serviceProps=K,this}setInstanceCreatedCallback(K){return this.onInstanceCreated=K,this}}const N="[DEFAULT]";class M{constructor(K,ie){this.name=K,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(K){const ie=this.normalizeInstanceIdentifier(K);if(!this.instancesDeferred.has(ie)){const ge=new e.BH;if(this.instancesDeferred.set(ie,ge),this.isInitialized(ie)||this.shouldAutoInitialize())try{const dt=this.getOrInitializeService({instanceIdentifier:ie});dt&&ge.resolve(dt)}catch(dt){}}return this.instancesDeferred.get(ie).promise}getImmediate(K){var ie;const ge=this.normalizeInstanceIdentifier(null==K?void 0:K.identifier),dt=null!==(ie=null==K?void 0:K.optional)&&void 0!==ie&&ie;if(!this.isInitialized(ge)&&!this.shouldAutoInitialize()){if(dt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ge})}catch(Xe){if(dt)return null;throw Xe}}getComponent(){return this.component}setComponent(K){if(K.name!==this.name)throw Error(`Mismatching Component ${K.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=K,this.shouldAutoInitialize()){if(function ee(Q){return"EAGER"===Q.instantiationMode}(K))try{this.getOrInitializeService({instanceIdentifier:N})}catch(ie){}for(const[ie,ge]of this.instancesDeferred.entries()){const dt=this.normalizeInstanceIdentifier(ie);try{const Xe=this.getOrInitializeService({instanceIdentifier:dt});ge.resolve(Xe)}catch(Xe){}}}}clearInstance(K=N){this.instancesDeferred.delete(K),this.instancesOptions.delete(K),this.instances.delete(K)}delete(){var K=this;return(0,p.Z)(function*(){const ie=Array.from(K.instances.values());yield Promise.all([...ie.filter(ge=>"INTERNAL"in ge).map(ge=>ge.INTERNAL.delete()),...ie.filter(ge=>"_delete"in ge).map(ge=>ge._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(K=N){return this.instances.has(K)}getOptions(K=N){return this.instancesOptions.get(K)||{}}initialize(K={}){const{options:ie={}}=K,ge=this.normalizeInstanceIdentifier(K.instanceIdentifier);if(this.isInitialized(ge))throw Error(`${this.name}(${ge}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const dt=this.getOrInitializeService({instanceIdentifier:ge,options:ie});for(const[Xe,Je]of this.instancesDeferred.entries())ge===this.normalizeInstanceIdentifier(Xe)&&Je.resolve(dt);return dt}onInit(K,ie){var ge;const dt=this.normalizeInstanceIdentifier(ie),Xe=null!==(ge=this.onInitCallbacks.get(dt))&&void 0!==ge?ge:new Set;Xe.add(K),this.onInitCallbacks.set(dt,Xe);const Je=this.instances.get(dt);return Je&&K(Je,dt),()=>{Xe.delete(K)}}invokeOnInitCallbacks(K,ie){const ge=this.onInitCallbacks.get(ie);if(ge)for(const dt of ge)try{dt(K,ie)}catch(Xe){}}getOrInitializeService({instanceIdentifier:K,options:ie={}}){let ge=this.instances.get(K);if(!ge&&this.component&&(ge=this.component.instanceFactory(this.container,{instanceIdentifier:(Q=K,Q===N?void 0:Q),options:ie}),this.instances.set(K,ge),this.instancesOptions.set(K,ie),this.invokeOnInitCallbacks(ge,K),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,K,ge)}catch(dt){}var Q;return ge||null}normalizeInstanceIdentifier(K=N){return this.component?this.component.multipleInstances?K:N:K}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Y{constructor(K){this.name=K,this.providers=new Map}addComponent(K){const ie=this.getProvider(K.name);if(ie.isComponentSet())throw new Error(`Component ${K.name} has already been registered with ${this.name}`);ie.setComponent(K)}addOrOverwriteComponent(K){this.getProvider(K.name).isComponentSet()&&this.providers.delete(K.name),this.addComponent(K)}getProvider(K){if(this.providers.has(K))return this.providers.get(K);const ie=new M(K,this);return this.providers.set(K,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(pt,D,A)=>{"use strict";A.d(D,{Am:()=>Q,Ub:()=>Y,Yd:()=>ee,in:()=>e});const p=[];var e=(()=>{return(K=e||(e={}))[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",e;var K})();const w={debug:e.DEBUG,verbose:e.VERBOSE,info:e.INFO,warn:e.WARN,error:e.ERROR,silent:e.SILENT},N=e.INFO,M={[e.DEBUG]:"log",[e.VERBOSE]:"log",[e.INFO]:"info",[e.WARN]:"warn",[e.ERROR]:"error"},G=(K,ie,...ge)=>{if(ie<K.logLevel)return;const dt=(new Date).toISOString(),Xe=M[ie];if(!Xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[Xe](`[${dt}]  ${K.name}:`,...ge)};class ee{constructor(ie){this.name=ie,this._logLevel=N,this._logHandler=G,this._userLogHandler=null,p.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in e))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?w[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,e.DEBUG,...ie),this._logHandler(this,e.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,e.VERBOSE,...ie),this._logHandler(this,e.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,e.INFO,...ie),this._logHandler(this,e.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,e.WARN,...ie),this._logHandler(this,e.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,e.ERROR,...ie),this._logHandler(this,e.ERROR,...ie)}}function Y(K){p.forEach(ie=>{ie.setLogLevel(K)})}function Q(K,ie){for(const ge of p){let dt=null;ie&&ie.level&&(dt=w[ie.level]),ge.userLogHandler=null===K?null:(Xe,Je,...vt)=>{const _e=vt.map(Ge=>{if(null==Ge)return null;if("string"==typeof Ge)return Ge;if("number"==typeof Ge||"boolean"==typeof Ge)return Ge.toString();if(Ge instanceof Error)return Ge.message;try{return JSON.stringify(Ge)}catch(ke){return null}}).filter(Ge=>Ge).join(" ");Je>=(null!=dt?dt:Xe.logLevel)&&K({level:e[Je].toLowerCase(),message:_e,args:vt,type:Xe.name})}}}},5861:(pt,D,A)=>{"use strict";function p(w,N,M,G,ee,Y,Q){try{var K=w[Y](Q),ie=K.value}catch(ge){return void M(ge)}K.done?N(ie):Promise.resolve(ie).then(G,ee)}function e(w){return function(){var N=this,M=arguments;return new Promise(function(G,ee){var Y=w.apply(N,M);function Q(ie){p(Y,G,ee,Q,K,"next",ie)}function K(ie){p(Y,G,ee,Q,K,"throw",ie)}Q(void 0)})}}A.d(D,{Z:()=>e})}},pt=>{pt(pt.s=3386)}]);